{"items":[{"tags":["java","json","timestamp"],"owner":{"account_id":11692233,"reputation":322,"user_id":8663707,"display_name":"Interested_Programmer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691074356,"creation_date":1691074356,"question_id":76829248,"body_markdown":"I am trying to update JSON data based on incoming data. For that purpose, I am using JsonMergePatch to update the existing key elements of the nested JSON object. The attribute updates are happening correctly as per the data available.\r\n\r\n\r\n    JsonNode oldData = some JsonNode data\r\n    JsonNode newData = some JsonNode data\r\n    JsonMergePatch patchstep = JsonMergePatch.fromJson(newData );\r\n    JsonNode mergedNode = mergePatch.apply(oldData);\r\n\r\nWhere we are facing issues is when there is data which has timestamp fields which may not be in order. For example, existing data\r\n\r\n&gt; { &quot;eventAttribute1&quot; : &quot;sample2&quot;, &quot;eventDt&quot;:&quot;2022-03-22T12:00:00&quot; }\r\n\r\nnew data\r\n\r\n&gt; { &quot;eventAttribute1&quot; : &quot;sample1&quot;, &quot;eventDt&quot;:&quot;2022-03-22T11:59:00&quot; }\r\n\r\nWhen I merge using JsonMergePatch, it updates the data with newer timestamp with older timestamp as well. Is there a way in JsonMergePatch I can update based on a timestamp field? If not possible is there an alternate way to dynamically update JSON based on a timestamp field?\r\n\r\nThank you!","title":"JsonMergePath update based on timestamp","body":"<p>I am trying to update JSON data based on incoming data. For that purpose, I am using JsonMergePatch to update the existing key elements of the nested JSON object. The attribute updates are happening correctly as per the data available.</p>\n<pre><code>JsonNode oldData = some JsonNode data\nJsonNode newData = some JsonNode data\nJsonMergePatch patchstep = JsonMergePatch.fromJson(newData );\nJsonNode mergedNode = mergePatch.apply(oldData);\n</code></pre>\n<p>Where we are facing issues is when there is data which has timestamp fields which may not be in order. For example, existing data</p>\n<blockquote>\n<p>{ &quot;eventAttribute1&quot; : &quot;sample2&quot;, &quot;eventDt&quot;:&quot;2022-03-22T12:00:00&quot; }</p>\n</blockquote>\n<p>new data</p>\n<blockquote>\n<p>{ &quot;eventAttribute1&quot; : &quot;sample1&quot;, &quot;eventDt&quot;:&quot;2022-03-22T11:59:00&quot; }</p>\n</blockquote>\n<p>When I merge using JsonMergePatch, it updates the data with newer timestamp with older timestamp as well. Is there a way in JsonMergePatch I can update based on a timestamp field? If not possible is there an alternate way to dynamically update JSON based on a timestamp field?</p>\n<p>Thank you!</p>\n"},{"tags":["java","intellij-idea","floating-point"],"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1691073906,"post_id":76829171,"comment_id":135444996,"body_markdown":"Hint: 66.1f is actually 66.09999847412109375, as that&#39;s the closest exactly-representable 32-bit floating point value.","body":"Hint: 66.1f is actually 66.09999847412109375, as that&#39;s the closest exactly-representable 32-bit floating point value."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1691339865,"post_id":76829171,"comment_id":135475267,"body_markdown":"For accuracy, use `BigDecimal`.","body":"For accuracy, use <code>BigDecimal</code>."}],"owner":{"account_id":29153068,"reputation":1,"user_id":22333502,"display_name":"khurram saddique"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1691073886,"answer_count":0,"score":0,"last_activity_date":1691073820,"creation_date":1691073758,"question_id":76829171,"body_markdown":"I am using java in intellij idea and while dealing with floating points but compiler isn&#39;t returning absolute value if answer is 0.1 then it is returning 0.099998474\r\n     \r\n\r\nThere is sample code I am using:\r\n\r\n```java\r\nfloat f1;\r\nf1 = 66.1f % 6f;\r\nSystem.out.println(f1);\r\n```","title":"Floating points in java","body":"<p>I am using java in intellij idea and while dealing with floating points but compiler isn't returning absolute value if answer is 0.1 then it is returning 0.099998474</p>\n<p>There is sample code I am using:</p>\n<pre class=\"lang-java prettyprint-override\"><code>float f1;\nf1 = 66.1f % 6f;\nSystem.out.println(f1);\n</code></pre>\n"},{"tags":["java","shadow"],"comments":[{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":1,"creation_date":1427425201,"post_id":29292562,"comment_id":46781774,"body_markdown":"Use a debugger and you can examine every expression during runtime.","body":"Use a debugger and you can examine every expression during runtime."},{"owner":{"account_id":37136,"reputation":57822,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":0,"creation_date":1427425653,"post_id":29292562,"comment_id":46781862,"body_markdown":"@paxdiablo There is no undefined behaviour in Java. Evaluation order is strictly defined (mostly left-to-right), and the effect of multiple modifications in a single statement is strictly defined (although I don&#39;t remember what it&#39;s defined as).","body":"@paxdiablo There is no undefined behaviour in Java. Evaluation order is strictly defined (mostly left-to-right), and the effect of multiple modifications in a single statement is strictly defined (although I don&#39;t remember what it&#39;s defined as)."}],"answers":[{"tags":[],"owner":{"display_name":"user5124079"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1438881139,"creation_date":1438881139,"answer_id":31861864,"question_id":29292562,"body_markdown":"    first in static A-&gt;  \r\n     i=i-- - --i;   will be 2 becoz, i-- means first assign value and then decrement the value so,i--=1111 then in satic memory i will be 1110 then --i means first decrement and then assign so, in this 1110 will become 1109 and then value of i wiil be 2.\r\n    secondly in static B-&gt;\r\n    currently i is 2.   i=--i - i--;   will be i=1-1  i will be zero\r\n    third instance block of A will be executed-&gt;\r\n    i=i++ + ++i  will be i=0+2=2\r\n    finaly instance block of B will be executed-&gt;\r\n    i=++i + i++   will be i=3+3=6","title":"I cant able to understand this code i am getting 6 as output?","body":"<pre><code>first in static A-&gt;  \n i=i-- - --i;   will be 2 becoz, i-- means first assign value and then decrement the value so,i--=1111 then in satic memory i will be 1110 then --i means first decrement and then assign so, in this 1110 will become 1109 and then value of i wiil be 2.\nsecondly in static B-&gt;\ncurrently i is 2.   i=--i - i--;   will be i=1-1  i will be zero\nthird instance block of A will be executed-&gt;\ni=i++ + ++i  will be i=0+2=2\nfinaly instance block of B will be executed-&gt;\ni=++i + i++   will be i=3+3=6\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6123562,"reputation":1,"user_id":4776301,"display_name":"Umesh Kumar Yadav"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691073598,"creation_date":1690621257,"answer_id":76792849,"question_id":29292562,"body_markdown":"The answer would be 6.\r\n\r\nfirst static\r\n\r\n`i=i-- - --i; // (1111) - (1110-1) // result 2`&lt;br&gt;\r\nsecond static&lt;br&gt;\r\n`i=--i - i--;  // (1 - 1) // result 0`&lt;br&gt;\r\nfirst block &lt;br&gt;\r\n`i=i++ + ++i;  // (0 + [1+1]) // result 2`&lt;br&gt;\r\nsecond block&lt;br&gt;\r\n`i=++i + i++  // ( [2+1] + [3]) //6 // final output 6`","title":"I cant able to understand this code i am getting 6 as output?","body":"<p>The answer would be 6.</p>\n<p>first static</p>\n<p><code>i=i-- - --i; // (1111) - (1110-1) // result 2</code><br>\nsecond static<br>\n<code>i=--i - i--;  // (1 - 1) // result 0</code><br>\nfirst block <br>\n<code>i=i++ + ++i;  // (0 + [1+1]) // result 2</code><br>\nsecond block<br>\n<code>i=++i + i++  // ( [2+1] + [3]) //6 // final output 6</code></p>\n"}],"owner":{"account_id":5011933,"reputation":355,"user_id":4027948,"accept_rate":100,"display_name":"Sankar Karthi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":987,"favorite_count":0,"down_vote_count":7,"up_vote_count":3,"accepted_answer_id":31861864,"answer_count":2,"score":-4,"last_activity_date":1691073598,"creation_date":1427425111,"question_id":29292562,"body_markdown":" please explain this code i am getting the output as 6,anyone please help me.\r\n\r\n    class A {\r\n    \tstatic int i=1111;\r\n    \tstatic {\r\n    \t\ti=i-- - --i;\r\n    \t}\r\n    \t{\r\n    \t\ti=i++ + ++i;\r\n    \t}\r\n    }\r\n    class B extends A {\r\n    \tstatic {\r\n    \t\ti=--i - i--;\r\n    \t}\r\n    \t{\r\n    \t\ti=++i + i++; \r\n    \t}\r\n    }\r\n    public class Shadow2 {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tB b = new B();\r\n    \t\tSystem.out.println(&quot;Find-&gt;&quot; + b.i);\r\n    \t}\r\n    }\r\n\r\noutput\r\n\r\n    Find-&gt;6\r\n\r\nAnyone help me to go through the code","title":"I cant able to understand this code i am getting 6 as output?","body":"<p>please explain this code i am getting the output as 6,anyone please help me.</p>\n\n<pre><code>class A {\n    static int i=1111;\n    static {\n        i=i-- - --i;\n    }\n    {\n        i=i++ + ++i;\n    }\n}\nclass B extends A {\n    static {\n        i=--i - i--;\n    }\n    {\n        i=++i + i++; \n    }\n}\npublic class Shadow2 {\n    public static void main(String[] args) {\n        B b = new B();\n        System.out.println(\"Find-&gt;\" + b.i);\n    }\n}\n</code></pre>\n\n<p>output</p>\n\n<pre><code>Find-&gt;6\n</code></pre>\n\n<p>Anyone help me to go through the code</p>\n"},{"tags":["java","project-reactor"],"comments":[{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1691070471,"post_id":76828666,"comment_id":135444133,"body_markdown":"`map` transforms the input and returns a new value, `handle` consumes its input and doesn&#39;t produce a new value","body":"<code>map</code> transforms the input and returns a new value, <code>handle</code> consumes its input and doesn&#39;t produce a new value"},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":3,"creation_date":1691070747,"post_id":76828666,"comment_id":135444214,"body_markdown":"[Possible duplicate](https://stackoverflow.com/q/75386970/5133585)","body":"<a href=\"https://stackoverflow.com/q/75386970/5133585\">Possible duplicate</a>"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1691070805,"post_id":76828666,"comment_id":135444229,"body_markdown":"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html#map-java.util.function.Function-, https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html#handle-java.util.function.BiConsumer-","body":"<a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html#map-java.util.function.Function-\" rel=\"nofollow noreferrer\">projectreactor.io/docs/core/release/api/reactor/core/publish&zwnj;&#8203;er/&hellip;</a>, <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html#handle-java.util.function.BiConsumer-\" rel=\"nofollow noreferrer\">projectreactor.io/docs/core/release/api/reactor/core/publish&zwnj;&#8203;er/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691071308,"creation_date":1691071308,"answer_id":76828855,"question_id":76828666,"body_markdown":"As much as they are extremely similar, they have different purposes and behaviors:\r\n\r\n1. `.map()`:\r\n   - **Purpose**: The `map()` method is used for **transforming the elements of a stream** from one type to another by applying a given function to each element of the stream.\r\n   - **Return Type**: It returns a new stream consisting of the results of applying the given function to each element of the original stream.\r\n   - **Usage**: This is useful when you want to transform the elements of a stream without altering the original elements.\r\n\r\n   In your code:\r\n   ```java\r\n   Flux.fromIterable(persons)\r\n       .map(b -&gt; {\r\n           try {\r\n               stopProcessingStuff(person);\r\n               disconnectPerson(person);\r\n               // Transforming the elements\r\n               return new DisconnectPersonResponse(Status.SUCCESS, person.id());\r\n           } catch (Exception e) {\r\n               // Transforming the elements\r\n               return new DisconnectPersonResponse(Status.FAILURE, person.id());\r\n           }\r\n       })\r\n   ```\r\n\r\n2. `.handle()`:\r\n   - **Purpose**: The `handle()` method allows you to **consume** each element of the stream, **but not necessarily produce or create elements**. However, it also allows you to produce additional elements to the resulting stream or even terminate the stream early by using a different type of `Consumer`.\r\n   - **Return Type**: It returns a new stream that may contain different elements based on the function applied.The function passed to `handle()` takes two parameters: the first parameter represents the input element, and the second parameter is a `BiConsumer` that can be used to add elements to the resulting stream.\r\n   - **Usage**: `handle()` can be helpful when you need to perform a more complex transformation on elements and may generate multiple elements for each input element.\r\n\r\n   In your code:\r\n   ```java\r\n   Flux.fromIterable(persons)\r\n       .handle((person, sink) -&gt; {\r\n           try {\r\n               stopProcessingStuff(person);\r\n               disconnectPerson(person);\r\n               sink.next(new DisconnectPersonResponse(Status.SUCCESS, person.id()));\r\n           }\r\n           catch (Exception ex) {\r\n               sink.next(new DisconnectPersonResponse(Status.FAILURE, person.id()));\r\n           }\r\n       })\r\n   ```\r\n\r\nIn summary, **`.map()` is used for straightforward one-to-one transformations** of elements in a stream, whereas **`.handle()` is more versatile** and allows you to create more complex transformations, produce additional elements, or even terminate the stream conditionally.","title":"What is the difference between .handle() and .map()?","body":"<p>As much as they are extremely similar, they have different purposes and behaviors:</p>\n<ol>\n<li><p><code>.map()</code>:</p>\n<ul>\n<li><strong>Purpose</strong>: The <code>map()</code> method is used for <strong>transforming the elements of a stream</strong> from one type to another by applying a given function to each element of the stream.</li>\n<li><strong>Return Type</strong>: It returns a new stream consisting of the results of applying the given function to each element of the original stream.</li>\n<li><strong>Usage</strong>: This is useful when you want to transform the elements of a stream without altering the original elements.</li>\n</ul>\n<p>In your code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Flux.fromIterable(persons)\n    .map(b -&gt; {\n        try {\n            stopProcessingStuff(person);\n            disconnectPerson(person);\n            // Transforming the elements\n            return new DisconnectPersonResponse(Status.SUCCESS, person.id());\n        } catch (Exception e) {\n            // Transforming the elements\n            return new DisconnectPersonResponse(Status.FAILURE, person.id());\n        }\n    })\n</code></pre>\n</li>\n<li><p><code>.handle()</code>:</p>\n<ul>\n<li><strong>Purpose</strong>: The <code>handle()</code> method allows you to <strong>consume</strong> each element of the stream, <strong>but not necessarily produce or create elements</strong>. However, it also allows you to produce additional elements to the resulting stream or even terminate the stream early by using a different type of <code>Consumer</code>.</li>\n<li><strong>Return Type</strong>: It returns a new stream that may contain different elements based on the function applied.The function passed to <code>handle()</code> takes two parameters: the first parameter represents the input element, and the second parameter is a <code>BiConsumer</code> that can be used to add elements to the resulting stream.</li>\n<li><strong>Usage</strong>: <code>handle()</code> can be helpful when you need to perform a more complex transformation on elements and may generate multiple elements for each input element.</li>\n</ul>\n<p>In your code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Flux.fromIterable(persons)\n    .handle((person, sink) -&gt; {\n        try {\n            stopProcessingStuff(person);\n            disconnectPerson(person);\n            sink.next(new DisconnectPersonResponse(Status.SUCCESS, person.id()));\n        }\n        catch (Exception ex) {\n            sink.next(new DisconnectPersonResponse(Status.FAILURE, person.id()));\n        }\n    })\n</code></pre>\n</li>\n</ol>\n<p>In summary, <strong><code>.map()</code> is used for straightforward one-to-one transformations</strong> of elements in a stream, whereas <strong><code>.handle()</code> is more versatile</strong> and allows you to create more complex transformations, produce additional elements, or even terminate the stream conditionally.</p>\n"}],"owner":{"account_id":9606247,"reputation":1346,"user_id":9236477,"accept_rate":100,"display_name":"Kaigo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1691073462,"answer_count":1,"score":0,"last_activity_date":1691073555,"creation_date":1691070006,"question_id":76828666,"body_markdown":"I have the following code which I&#39;ve written using `.handle()` and `.map()`, which both seem to work for my use case, but I&#39;d like to understand precisely why I should choose one over the other.\r\n\r\n**.handle()**\r\n\r\n```java\r\nFlux.fromIterable(persons)\r\n    .handle((person, sink) -&gt; {\r\n        try {\r\n            stopProcessingStuff(person);\r\n            disconnectPerson(person);\r\n            sink.next(new DisconnectPersonResponse(Status.SUCCESS, person.id()));\r\n        }\r\n        catch (Exception ex) {\r\n            sink.next(new DisconnectPersonResponse(Status.FAILURE, person.id()));\r\n        }\r\n    })\r\n```\r\n\r\n**.map()**\r\n\r\n```java\r\nFlux.fromIterable(persons)\r\n    .map(b -&gt; {\r\n        try {\r\n            stopProcessingStuff(person);\r\n            disconnectPerson(person);\r\n            return new DisconnectPersonResponse(Status.SUCCESS, person.id());\r\n        } catch (Exception e) {\r\n            return new DisconnectPersonResponse(Status.FAILURE, person.id());\r\n        }\r\n    })\r\n```","title":"What is the difference between .handle() and .map()?","body":"<p>I have the following code which I've written using <code>.handle()</code> and <code>.map()</code>, which both seem to work for my use case, but I'd like to understand precisely why I should choose one over the other.</p>\n<p><strong>.handle()</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>Flux.fromIterable(persons)\n    .handle((person, sink) -&gt; {\n        try {\n            stopProcessingStuff(person);\n            disconnectPerson(person);\n            sink.next(new DisconnectPersonResponse(Status.SUCCESS, person.id()));\n        }\n        catch (Exception ex) {\n            sink.next(new DisconnectPersonResponse(Status.FAILURE, person.id()));\n        }\n    })\n</code></pre>\n<p><strong>.map()</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>Flux.fromIterable(persons)\n    .map(b -&gt; {\n        try {\n            stopProcessingStuff(person);\n            disconnectPerson(person);\n            return new DisconnectPersonResponse(Status.SUCCESS, person.id());\n        } catch (Exception e) {\n            return new DisconnectPersonResponse(Status.FAILURE, person.id());\n        }\n    })\n</code></pre>\n"},{"tags":["java","apache","batch-file","tomcat","environment-variables"],"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1292933982,"post_id":4499117,"comment_id":4923284,"body_markdown":"Does anyone else this is a &#39;superuser.com&#39; question?","body":"Does anyone else this is a &#39;superuser.com&#39; question?"},{"owner":{"display_name":"user346077"},"score":0,"creation_date":1292936226,"post_id":4499117,"comment_id":4923676,"body_markdown":"follow all steps which i define at question posted area. And then last step which tell Mr Arun in answer area.I hope you problem will be solved as like me.....","body":"follow all steps which i define at question posted area. And then last step which tell Mr Arun in answer area.I hope you problem will be solved as like me....."},{"owner":{"account_id":22466,"reputation":11039,"user_id":55452,"accept_rate":100,"display_name":"David J. Liszewski"},"score":2,"creation_date":1292943782,"post_id":4499117,"comment_id":4925220,"body_markdown":"Perhaps accept Arun&#39;s answer?","body":"Perhaps accept Arun&#39;s answer?"},{"owner":{"account_id":5564509,"reputation":1825,"user_id":4412324,"accept_rate":50,"display_name":"Maged Saeed"},"score":0,"creation_date":1553692557,"post_id":4499117,"comment_id":97478401,"body_markdown":"maybe related to https://stackoverflow.com/questions/19559371/tomcat-startup-bat-is-missing","body":"maybe related to <a href=\"https://stackoverflow.com/questions/19559371/tomcat-startup-bat-is-missing\" title=\"tomcat startup bat is missing\">stackoverflow.com/questions/19559371/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"display_name":"user346077"},"score":0,"creation_date":1292934158,"post_id":4499142,"comment_id":4923311,"body_markdown":"add new variable name path and then put this value there?","body":"add new variable name path and then put this value there?"},{"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"score":1,"creation_date":1292935312,"post_id":4499142,"comment_id":4923487,"body_markdown":"@ali Check [this](http://stackoverflow.com/questions/4439641/how-to-fix-internal-or-external-command-errors-in-netbeans)","body":"@ali Check <a href=\"http://stackoverflow.com/questions/4439641/how-to-fix-internal-or-external-command-errors-in-netbeans\">this</a>"}],"tags":[],"owner":{"account_id":39580,"reputation":385624,"user_id":114251,"accept_rate":87,"display_name":"Arun P Johny"},"comment_count":2,"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1293688106,"creation_date":1292933875,"answer_id":4499142,"question_id":4499117,"body_markdown":"Add `%CATALINA_HOME%/bin` to path system variable.\r\n\r\nGo to `Environment Variables` screen under `System Variables` there will be a `Path` variable edit the variable and add `;%CATALINA_HOME%\\bin` to the variable then click `OK` to save the changes. Close all opened command prompts then open a new command prompt and try to use the command `startup.bat`.","title":"how to start stop tomcat server using CMD?","body":"<p>Add <code>%CATALINA_HOME%/bin</code> to path system variable.</p>\n\n<p>Go to <code>Environment Variables</code> screen under <code>System Variables</code> there will be a <code>Path</code> variable edit the variable and add <code>;%CATALINA_HOME%\\bin</code> to the variable then click <code>OK</code> to save the changes. Close all opened command prompts then open a new command prompt and try to use the command <code>startup.bat</code>.</p>\n"},{"tags":[],"owner":{"account_id":3404528,"reputation":193,"user_id":2855946,"display_name":"Ugrasen Banchhor"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1390545764,"creation_date":1390545764,"answer_id":21326128,"question_id":4499117,"body_markdown":"You can use the following command\r\nc:\\path of you tomcat directory\\bin&gt;catalina run","title":"how to start stop tomcat server using CMD?","body":"<p>You can use the following command\nc:\\path of you tomcat directory\\bin>catalina run</p>\n"},{"tags":[],"owner":{"account_id":4928986,"reputation":31,"user_id":3969404,"display_name":"Carson Balzrette"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1408740758,"creation_date":1408740758,"answer_id":25455375,"question_id":4499117,"body_markdown":"This is what I used to start and stop tomcat 7.0.29, using ant 1.8.2. Works fine for me, but leaves the control in the started server window. I have not tried it yet, but I think if I change the &quot;/K&quot; in the startup sequence to &quot;/C&quot;, it may not even do that.\r\n\t\r\n\t&lt;target name=&quot;tomcat-stop&quot;&gt;\r\n\t\t&lt;exec dir=&quot;${appserver.home}/bin&quot; executable=&quot;cmd&quot;&gt;\r\n\t\t\t&lt;arg line=&quot;/C start cmd.exe /C shutdown.bat&quot;/&gt;\r\n\t\t&lt;/exec&gt;\r\n\t&lt;/target&gt;\r\n\t \r\n\t\t\r\n\t\r\n\t&lt;target name=&quot;tomcat-start&quot; depends=&quot;tomcat-stop&quot; &gt;\r\n\t\t&lt;exec dir=&quot;${appserver.home}/bin&quot; executable=&quot;cmd&quot;&gt;\r\n\t\t\t&lt;arg line=&quot;/K start cmd.exe /C startup.bat&quot;/&gt;\r\n\t\t&lt;/exec&gt;\r\n\t\t\r\n\t&lt;/target&gt;\r\n\t\r\n","title":"how to start stop tomcat server using CMD?","body":"<p>This is what I used to start and stop tomcat 7.0.29, using ant 1.8.2. Works fine for me, but leaves the control in the started server window. I have not tried it yet, but I think if I change the \"/K\" in the startup sequence to \"/C\", it may not even do that.</p>\n\n<pre><code>&lt;target name=\"tomcat-stop\"&gt;\n    &lt;exec dir=\"${appserver.home}/bin\" executable=\"cmd\"&gt;\n        &lt;arg line=\"/C start cmd.exe /C shutdown.bat\"/&gt;\n    &lt;/exec&gt;\n&lt;/target&gt;\n\n\n\n&lt;target name=\"tomcat-start\" depends=\"tomcat-stop\" &gt;\n    &lt;exec dir=\"${appserver.home}/bin\" executable=\"cmd\"&gt;\n        &lt;arg line=\"/K start cmd.exe /C startup.bat\"/&gt;\n    &lt;/exec&gt;\n\n&lt;/target&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6507951,"reputation":51,"user_id":5036251,"display_name":"Ameer Chand"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691073537,"creation_date":1444451831,"answer_id":33050332,"question_id":4499117,"body_markdown":"you can use this trick to run tomcat using cmd and directly by tomcat bin folder.\r\n\r\n1.\r\nset the path of jdk.\r\n\r\n2.\r\n\r\nTo set path.\r\ngo to Desktop and right click on computer icon. \r\nClick the Properties\r\n\r\ngo to Advance System Settings.\r\n\r\nthen Click Advance to Environment variables.\r\n\r\nClick new and set path AS,\r\n\r\nin the column **Variable name=JAVA_HOME**\r\n\r\n**Variable Value=C:\\Program Files\\Java\\jdk1.6.0_19**\r\n\r\nClick ok ok.\r\n\r\nnow path is setted.\r\n\r\n3.\r\n\r\nGo to tomcat folder where you installed the tomcat.\r\ngo to bin folder.\r\nthere are two window batch files.\r\n\r\n  **1.Startup**\r\n\r\n  **2.Shutdown.**\r\n\r\n  By using cmd\r\n if you installed the tomcate in **D Drive**\r\n\r\n type on cmd screen\r\n\r\n 1. **D:**\r\n\r\n 2.  **Cd tomcat\\bin**\r\n   then type\r\n   startup.bat for Windows\r\nand ./startup.sh for Linux\r\n   \r\n\r\n4.\r\nBy clicking them you can start and stop the tomcat.\r\n\r\n5.\r\n\r\nFinal step.\r\n\r\n  if you start and want to check it.\r\n\r\n   open a Browser in URL bar type.\r\n\r\n    **HTTP://localhost:8080/**\r\n\r\n\r\n\r\n ","title":"how to start stop tomcat server using CMD?","body":"<p>you can use this trick to run tomcat using cmd and directly by tomcat bin folder.</p>\n<p>1.\nset the path of jdk.</p>\n<p>2.</p>\n<p>To set path.\ngo to Desktop and right click on computer icon.\nClick the Properties</p>\n<p>go to Advance System Settings.</p>\n<p>then Click Advance to Environment variables.</p>\n<p>Click new and set path AS,</p>\n<p>in the column <strong>Variable name=JAVA_HOME</strong></p>\n<p><strong>Variable Value=C:\\Program Files\\Java\\jdk1.6.0_19</strong></p>\n<p>Click ok ok.</p>\n<p>now path is setted.</p>\n<p>3.</p>\n<p>Go to tomcat folder where you installed the tomcat.\ngo to bin folder.\nthere are two window batch files.</p>\n<p><strong>1.Startup</strong></p>\n<p><strong>2.Shutdown.</strong></p>\n<p>By using cmd\nif you installed the tomcate in <strong>D Drive</strong></p>\n<p>type on cmd screen</p>\n<ol>\n<li><p><strong>D:</strong></p>\n</li>\n<li><p><strong>Cd tomcat\\bin</strong>\nthen type\nstartup.bat for Windows\nand ./startup.sh for Linux</p>\n</li>\n<li></li>\n</ol>\n<p>By clicking them you can start and stop the tomcat.</p>\n<p>5.</p>\n<p>Final step.</p>\n<p>if you start and want to check it.</p>\n<p>open a Browser in URL bar type.</p>\n<pre><code>**HTTP://localhost:8080/**\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8190537,"reputation":922,"user_id":6164961,"accept_rate":59,"display_name":"Shashank G"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1487062887,"creation_date":1487062887,"answer_id":42221771,"question_id":4499117,"body_markdown":"Change directory to tomcat/bin directory in cmd prompt\r\n\r\n&gt;cd C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\\bin\r\n\r\nRun the below command **to start:**\r\n\r\nOn Linux: &gt;startup.sh\r\n\r\nOn Windows: &gt;startup.bat\r\n\r\nRun these commands **to stop**\r\n\r\nOn Linux: shutdown.sh\r\n\r\nOn Windows: shutdown.bat\r\n\r\n","title":"how to start stop tomcat server using CMD?","body":"<p>Change directory to tomcat/bin directory in cmd prompt</p>\n\n<blockquote>\n  <p>cd C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\\bin</p>\n</blockquote>\n\n<p>Run the below command <strong>to start:</strong></p>\n\n<p>On Linux: >startup.sh</p>\n\n<p>On Windows: >startup.bat</p>\n\n<p>Run these commands <strong>to stop</strong></p>\n\n<p>On Linux: shutdown.sh</p>\n\n<p>On Windows: shutdown.bat</p>\n"},{"tags":[],"owner":{"account_id":10139917,"reputation":131,"user_id":7490011,"display_name":"Pratik Agarwal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1488455254,"creation_date":1488451161,"answer_id":42553090,"question_id":4499117,"body_markdown":"Create a `.bat` file and write two commands:\r\n\r\n    cd C:\\ Path to your tomcat directory \\ bin\r\n    \r\n    startup.bat\r\n\r\nNow on double-click, Tomcat server will start.","title":"how to start stop tomcat server using CMD?","body":"<p>Create a <code>.bat</code> file and write two commands:</p>\n\n<pre><code>cd C:\\ Path to your tomcat directory \\ bin\n\nstartup.bat\n</code></pre>\n\n<p>Now on double-click, Tomcat server will start.</p>\n"},{"tags":[],"owner":{"account_id":7237563,"reputation":69,"user_id":5522233,"display_name":"Yuvi Jum"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1488807647,"creation_date":1488807647,"answer_id":42627143,"question_id":4499117,"body_markdown":"Steps  to start Apache Tomcat using cmd:&lt;br&gt;\r\n1. Firstly check that the JRE_HOME or JAVA_HOME is a variable available in environment variables.(If it is not create a new variable JRE_HOME or JAVA_HOME)&lt;br&gt;\r\n2. Goto cmd and change your working directory to bin path where apache is installed (or extracted). &lt;br&gt;\r\n3. Type Command -&gt; `catalina.bat start` to **start** the server.&lt;br&gt;\r\n4. Type Command -&gt; `catalina.bat stop` to **stop** the server.&lt;br&gt;","title":"how to start stop tomcat server using CMD?","body":"<p>Steps  to start Apache Tomcat using cmd:<br>\n1. Firstly check that the JRE_HOME or JAVA_HOME is a variable available in environment variables.(If it is not create a new variable JRE_HOME or JAVA_HOME)<br>\n2. Goto cmd and change your working directory to bin path where apache is installed (or extracted). <br>\n3. Type Command -> <code>catalina.bat start</code> to <strong>start</strong> the server.<br>\n4. Type Command -> <code>catalina.bat stop</code> to <strong>stop</strong> the server.<br></p>\n"},{"tags":[],"owner":{"account_id":2604069,"reputation":1412,"user_id":2255641,"accept_rate":25,"display_name":"фымышонок"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1523746616,"creation_date":1523746616,"answer_id":49836947,"question_id":4499117,"body_markdown":"I have just downloaded Tomcat and want to stop it (Windows).\r\n\r\n1.  To stop tomcat\r\n- run cmd as administrator (I used Cmder)\r\n\r\n- find process ID\r\n\r\ntasklist /fi &quot;Imagename eq tomcat*&quot;\r\n\r\n    C:\\Users\\Admin\r\n    tasklist /fi &quot;Imagename eq tomcat*&quot;\r\n    \r\n    Image Name                     PID Session Name        Session#    Mem Usage\r\n    ========================= ======== ================ =========== ============\r\n    Tomcat8aaw.exe                6376 Console                    1      7,300 K\r\n    Tomcat8aa.exe                 5352 Services                   0    124,748 K\r\n\r\n- stop prosess with pid 6376\r\n\r\nC:\\Users\\Admin\r\n\r\n    taskkill /f /pid 6376\r\n\r\nSUCCESS: The process with PID 6376 has been terminated.\r\n\r\n- stop process with pid 5352\r\n\r\nC:\\Users\\Admin\r\n\r\n    taskkill /f /pid 5352\r\n\r\nSUCCESS: The process with PID 5352 has been terminated. ","title":"how to start stop tomcat server using CMD?","body":"<p>I have just downloaded Tomcat and want to stop it (Windows).</p>\n\n<ol>\n<li><p>To stop tomcat</p>\n\n<ul>\n<li><p>run cmd as administrator (I used Cmder)</p></li>\n<li><p>find process ID</p></li>\n</ul></li>\n</ol>\n\n<p>tasklist /fi \"Imagename eq tomcat*\"</p>\n\n<pre><code>C:\\Users\\Admin\ntasklist /fi \"Imagename eq tomcat*\"\n\nImage Name                     PID Session Name        Session#    Mem Usage\n========================= ======== ================ =========== ============\nTomcat8aaw.exe                6376 Console                    1      7,300 K\nTomcat8aa.exe                 5352 Services                   0    124,748 K\n</code></pre>\n\n<ul>\n<li>stop prosess with pid 6376</li>\n</ul>\n\n<p>C:\\Users\\Admin</p>\n\n<pre><code>taskkill /f /pid 6376\n</code></pre>\n\n<p>SUCCESS: The process with PID 6376 has been terminated.</p>\n\n<ul>\n<li>stop process with pid 5352</li>\n</ul>\n\n<p>C:\\Users\\Admin</p>\n\n<pre><code>taskkill /f /pid 5352\n</code></pre>\n\n<p>SUCCESS: The process with PID 5352 has been terminated. </p>\n"},{"tags":[],"owner":{"account_id":3723758,"reputation":11894,"user_id":3600553,"accept_rate":71,"display_name":"Du-Lacoste"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651982004,"creation_date":1651982004,"answer_id":72157934,"question_id":4499117,"body_markdown":"There are multiple ways to Start and Stop Apache Tomcat Server in Linux and Windows Operating systems. Below is detail facts. Locate the bin folder in your tomcat server and execute the following commands in CMD/ Terminal. \r\n\r\n**Linux:**\r\n\r\n    ./catalina.sh run\r\n\r\nPassing &quot;run&quot; argument for catalina.sh --&gt; starts the Tomcat in the **foreground** and **displays the running logs in the same console**. when the console terminal is closed it **will terminate the tomcat**. \r\n\r\n    ./catalina.sh start | ./catalina.sh stop\r\n  \r\nPassing &quot;start&quot; argument for catalina.sh --&gt; starts the **Tomcat in the background**. Since in background no issues closing down the terminal. The logs need to be viewed as below: `tail -f $CATALINA_HOME/logs/catalina.out`\r\n\r\n    ./startup.sh | ./shutdown.sh \r\n\r\nThe last way is firing the startup.sh to start your Tomcat server. If you Vi the script you can see it calls **catalina.sh script passing start as the argument**. This will be running in background as well.\r\n\r\n**Windows:**\r\n\r\n    startup.bat // start tomcat server\r\n    shutdown.bat // stop tomcat server","title":"how to start stop tomcat server using CMD?","body":"<p>There are multiple ways to Start and Stop Apache Tomcat Server in Linux and Windows Operating systems. Below is detail facts. Locate the bin folder in your tomcat server and execute the following commands in CMD/ Terminal.</p>\n<p><strong>Linux:</strong></p>\n<pre><code>./catalina.sh run\n</code></pre>\n<p>Passing &quot;run&quot; argument for catalina.sh --&gt; starts the Tomcat in the <strong>foreground</strong> and <strong>displays the running logs in the same console</strong>. when the console terminal is closed it <strong>will terminate the tomcat</strong>.</p>\n<pre><code>./catalina.sh start | ./catalina.sh stop\n</code></pre>\n<p>Passing &quot;start&quot; argument for catalina.sh --&gt; starts the <strong>Tomcat in the background</strong>. Since in background no issues closing down the terminal. The logs need to be viewed as below: <code>tail -f $CATALINA_HOME/logs/catalina.out</code></p>\n<pre><code>./startup.sh | ./shutdown.sh \n</code></pre>\n<p>The last way is firing the startup.sh to start your Tomcat server. If you Vi the script you can see it calls <strong>catalina.sh script passing start as the argument</strong>. This will be running in background as well.</p>\n<p><strong>Windows:</strong></p>\n<pre><code>startup.bat // start tomcat server\nshutdown.bat // stop tomcat server\n</code></pre>\n"}],"owner":{"display_name":"user346077"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":147377,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":4499142,"answer_count":9,"score":10,"last_activity_date":1691073537,"creation_date":1292933685,"question_id":4499117,"body_markdown":"I set the path for the tomcat and set all variables like\r\n\r\n1. `JAVA_HOME=C:\\Program Files (x86)\\Java\\jdk1.6.0_22`\r\n2. `CATALINA_HOME=G:\\springwork\\server\\apache-tomcat-6.0.29`\r\n3. `CLASSPATH=G:\\springwork\\server\\apache-tomcat-6.0.29\\lib\\servlet-api.jar;G:\\springwork\\server\\apache-tomcat-6.0.29\\lib\\jsp-api.jar;.;`\r\n\r\nWhen I go to bin folder and double click on startup.bat then my tomcat starts and when I double click on shutdown.bat tomcat stops.\r\n\r\nBut I want using CMD start and stop the tomcat.\r\nAnd in any folder I write command `startup.bat` the server will start and when I write `shutdown.bat` the server will stop.","title":"how to start stop tomcat server using CMD?","body":"<p>I set the path for the tomcat and set all variables like</p>\n\n<ol>\n<li><code>JAVA_HOME=C:\\Program Files (x86)\\Java\\jdk1.6.0_22</code></li>\n<li><code>CATALINA_HOME=G:\\springwork\\server\\apache-tomcat-6.0.29</code></li>\n<li><code>CLASSPATH=G:\\springwork\\server\\apache-tomcat-6.0.29\\lib\\servlet-api.jar;G:\\springwork\\server\\apache-tomcat-6.0.29\\lib\\jsp-api.jar;.;</code></li>\n</ol>\n\n<p>When I go to bin folder and double click on startup.bat then my tomcat starts and when I double click on shutdown.bat tomcat stops.</p>\n\n<p>But I want using CMD start and stop the tomcat.\nAnd in any folder I write command <code>startup.bat</code> the server will start and when I write <code>shutdown.bat</code> the server will stop.</p>\n"},{"tags":["java","hibernate","jpa","quarkus-panache"],"comments":[{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1691067991,"post_id":76828361,"comment_id":135443529,"body_markdown":"Why? A char is almost certainly more efficient. Also, why not store it as a `CHAR(1)`? What is the point of a variable length character field of one character?","body":"Why? A char is almost certainly more efficient. Also, why not store it as a <code>CHAR(1)</code>? What is the point of a variable length character field of one character?"},{"owner":{"account_id":6393844,"reputation":1491,"user_id":4958965,"display_name":"Benjamin Zach"},"score":0,"creation_date":1691070609,"post_id":76828361,"comment_id":135444166,"body_markdown":"I agree a char is more efficient. But if I definitely want to keep the column type as is, how can this be done?","body":"I agree a char is more efficient. But if I definitely want to keep the column type as is, how can this be done?"}],"owner":{"account_id":6393844,"reputation":1491,"user_id":4958965,"display_name":"Benjamin Zach"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":315,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691072285,"creation_date":1691067741,"question_id":76828361,"body_markdown":"Consider the following table with a column defined as\r\n```\r\nTRANSACTION_CATEGORY_CODE  VARCHAR2(1)\r\n```\r\nAnd this is the field in the entity:\r\n```\r\n@Column(name = &quot;TRANSACTION_CATEGORY_CODE&quot;, length = 1)\r\nprivate String transactionCategoryCode;\r\n```\r\n\r\nThis setup has worked well until now that I want to migrate to Hibernate version 6.x. Now, whenever data is accessed from the table the following exception is thrown:\r\n```\r\nclass java.lang.Character cannot be cast to class java.lang.String (java.lang.Character and java.lang.String are in module java.base of loader &#39;bootstrap&#39;)\r\n```\r\n\r\nI immagine this is due to Hibernate interpreting one char columns as `Character` and not as `String` by default. How can Hibernate be forced to interprete this column as `String`?","title":"Hibernate 6.x: java.lang.Character cannot be cast to java.langString","body":"<p>Consider the following table with a column defined as</p>\n<pre><code>TRANSACTION_CATEGORY_CODE  VARCHAR2(1)\n</code></pre>\n<p>And this is the field in the entity:</p>\n<pre><code>@Column(name = &quot;TRANSACTION_CATEGORY_CODE&quot;, length = 1)\nprivate String transactionCategoryCode;\n</code></pre>\n<p>This setup has worked well until now that I want to migrate to Hibernate version 6.x. Now, whenever data is accessed from the table the following exception is thrown:</p>\n<pre><code>class java.lang.Character cannot be cast to class java.lang.String (java.lang.Character and java.lang.String are in module java.base of loader 'bootstrap')\n</code></pre>\n<p>I immagine this is due to Hibernate interpreting one char columns as <code>Character</code> and not as <code>String</code> by default. How can Hibernate be forced to interprete this column as <code>String</code>?</p>\n"},{"tags":["java","spring-boot","jhipster"],"comments":[{"owner":{"account_id":33534,"reputation":16098,"user_id":93960,"display_name":"Ga&#235;l Marziou"},"score":0,"creation_date":1690994521,"post_id":76821629,"comment_id":135431633,"body_markdown":"I did not test but I would have written it as &quot;0 11 9 * ?&quot;","body":"I did not test but I would have written it as &quot;0 11 9 * ?&quot;"},{"owner":{"account_id":902053,"reputation":1613,"user_id":5823681,"display_name":"khd"},"score":0,"creation_date":1691046976,"post_id":76821629,"comment_id":135439024,"body_markdown":"@Ga&#235;lMarziou It requires 6 arguments.","body":"@Ga&#235;lMarziou It requires 6 arguments."}],"answers":[{"tags":[],"owner":{"account_id":33534,"reputation":16098,"user_id":93960,"display_name":"Ga&#235;l Marziou"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691071912,"creation_date":1691071912,"answer_id":76828930,"question_id":76821629,"body_markdown":"\r\nIt should be &quot;0 0 11 9 * ?&quot; \r\n\r\n\r\n - `0 0 11` means 11:00:00 AM\r\n - `9` is the day of the month\r\n - `*` any month\r\n - `?` any day of the week, could probably be also `*`\r\n\r\n\r\nOfficial docs:\r\n\r\nhttps://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/scheduling/support/CronExpression.html","title":"Spring schedule task not working when setting it with a specific day of the month (@IsCronTabSchedule)","body":"<p>It should be &quot;0 0 11 9 * ?&quot;</p>\n<ul>\n<li><code>0 0 11</code> means 11:00:00 AM</li>\n<li><code>9</code> is the day of the month</li>\n<li><code>*</code> any month</li>\n<li><code>?</code> any day of the week, could probably be also <code>*</code></li>\n</ul>\n<p>Official docs:</p>\n<p><a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/scheduling/support/CronExpression.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/scheduling/support/CronExpression.html</a></p>\n"}],"owner":{"account_id":902053,"reputation":1613,"user_id":5823681,"display_name":"khd"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691071912,"creation_date":1690991851,"question_id":76821629,"body_markdown":"I want to schedule a task that runs every month on the 9th day at 11 AM.\r\n\r\nI use this expression: &quot;0 0 9 08 * *&quot; but it not working.\r\n\r\nBut when I use &quot;0 0 9 * * *&quot;. Then it runs at 9 AM every day.  ","title":"Spring schedule task not working when setting it with a specific day of the month (@IsCronTabSchedule)","body":"<p>I want to schedule a task that runs every month on the 9th day at 11 AM.</p>\n<p>I use this expression: &quot;0 0 9 08 * *&quot; but it not working.</p>\n<p>But when I use &quot;0 0 9 * * *&quot;. Then it runs at 9 AM every day.</p>\n"},{"tags":["java","database","oracle","path","centos"],"comments":[{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":1,"creation_date":1592898789,"post_id":62529858,"comment_id":110581956,"body_markdown":"What does the non-English bits say?","body":"What does the non-English bits say?"},{"owner":{"account_id":13115752,"reputation":161,"user_id":13796674,"display_name":"user13796674"},"score":0,"creation_date":1592916375,"post_id":62529858,"comment_id":110590895,"body_markdown":"It says that the environment variables is invalid or missing","body":"It says that the environment variables is invalid or missing"},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1592923196,"post_id":62529858,"comment_id":110595095,"body_markdown":"Double check the installation guide. Especially the bit about which platforms are supported","body":"Double check the installation guide. Especially the bit about which platforms are supported"},{"owner":{"display_name":"user12766509"},"score":0,"creation_date":1593015787,"post_id":62529858,"comment_id":110633856,"body_markdown":"Did you set environment variables for java home and classpath?.Before running verify environment `echo $JAVA_HOME` and `which java or java -version`","body":"Did you set environment variables for java home and classpath?.Before running verify environment <code>echo $JAVA_HOME</code> and <code>which java or java -version</code>"},{"owner":{"account_id":13115752,"reputation":161,"user_id":13796674,"display_name":"user13796674"},"score":0,"creation_date":1593349954,"post_id":62529858,"comment_id":110743336,"body_markdown":"$JAVA_HOME is ok, java version is 1.81","body":"$JAVA_HOME is ok, java version is 1.81"},{"owner":{"account_id":1896506,"reputation":740,"user_id":1713351,"display_name":"kjpires"},"score":0,"creation_date":1636560569,"post_id":62529858,"comment_id":123591096,"body_markdown":"English message from Oracle 19c: &quot;The java.library.path system variable is missing or invalid. Please set java.library.path with a correct value and retry the operation.&quot;","body":"English message from Oracle 19c: &quot;The java.library.path system variable is missing or invalid. Please set java.library.path with a correct value and retry the operation.&quot;"}],"answers":[{"comments":[{"owner":{"account_id":1896506,"reputation":740,"user_id":1713351,"display_name":"kjpires"},"score":0,"creation_date":1636560559,"post_id":66006075,"comment_id":123591094,"body_markdown":"Thanks!  This resolved the same problem with Oracle 19c on RHEL 8.4 too!","body":"Thanks!  This resolved the same problem with Oracle 19c on RHEL 8.4 too!"}],"tags":[],"owner":{"account_id":5100146,"reputation":869,"user_id":4090002,"display_name":"Marcell"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1612254673,"creation_date":1612254673,"answer_id":66006075,"question_id":62529858,"body_markdown":"I had the very same problem yesterday and found the solution to be a missing library &quot;libnsl&quot;. After executing the following command on CentOS it worked.\r\n\r\n&gt; yum install libnsl.x86_64","title":"How to set java.library.path when install oracle 18c on CentOS8.2?","body":"<p>I had the very same problem yesterday and found the solution to be a missing library &quot;libnsl&quot;. After executing the following command on CentOS it worked.</p>\n<blockquote>\n<p>yum install libnsl.x86_64</p>\n</blockquote>\n"}],"owner":{"account_id":13115752,"reputation":161,"user_id":13796674,"display_name":"user13796674"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7140,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":66006075,"answer_count":1,"score":2,"last_activity_date":1691071822,"creation_date":1592898504,"question_id":62529858,"body_markdown":"I was installing **Oracle 18c rpm** on **CentOS8.2**, after yum install `oracle-database-ee-18c-1.0-1.x86_64.rpm` and begin to configure by using `&quot;/etc/init.d/oracledb_ORCLCDB-18c configure&quot;` command, i got this **java.library.path** error. It seems my java path is not available.\r\nI then  install java `jre-8u251-linux-x64.rpm` and get nothing different.\r\n```\r\n[root@localhost ~]# /etc/init.d/oracledb_ORCLCDB-18c configure\r\nConfiguring Oracle Database ORCLCDB.\r\njava.library.path 系统变量无效或缺少此变量。请为 java.library.path 设置正确值并重试操作。\r\n[FATAL] [INS-00001] 未知的不可恢复错误\r\n   原因: 没有其他信息可用。\r\n   操作: 参阅日志或与 Oracle 技术支持服务联系\r\n   概要:\r\n       - [DBT-00006] 无法创建日志记录目录。\r\n       - [DBT-00006] 无法创建日志记录目录。\r\n\r\nDatabase configuration failed.\r\n```\r\n\r\nAnybody can help me?","title":"How to set java.library.path when install oracle 18c on CentOS8.2?","body":"<p>I was installing <strong>Oracle 18c rpm</strong> on <strong>CentOS8.2</strong>, after yum install <code>oracle-database-ee-18c-1.0-1.x86_64.rpm</code> and begin to configure by using <code>&quot;/etc/init.d/oracledb_ORCLCDB-18c configure&quot;</code> command, i got this <strong>java.library.path</strong> error. It seems my java path is not available.\nI then  install java <code>jre-8u251-linux-x64.rpm</code> and get nothing different.</p>\n<pre><code>[root@localhost ~]# /etc/init.d/oracledb_ORCLCDB-18c configure\nConfiguring Oracle Database ORCLCDB.\njava.library.path 系统变量无效或缺少此变量。请为 java.library.path 设置正确值并重试操作。\n[FATAL] [INS-00001] 未知的不可恢复错误\n   原因: 没有其他信息可用。\n   操作: 参阅日志或与 Oracle 技术支持服务联系\n   概要:\n       - [DBT-00006] 无法创建日志记录目录。\n       - [DBT-00006] 无法创建日志记录目录。\n\nDatabase configuration failed.\n</code></pre>\n<p>Anybody can help me?</p>\n"},{"tags":["java","sorting","data-structures","grouping","comparator"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1691072612,"post_id":76828888,"comment_id":135444680,"body_markdown":"Essentially you&#39;re looking for `Collectors.groupingBy`","body":"Essentially you&#39;re looking for <code>Collectors.groupingBy</code>"},{"owner":{"account_id":22661322,"reputation":1,"user_id":16834368,"display_name":"Dmitry"},"score":0,"creation_date":1691074660,"post_id":76828888,"comment_id":135445185,"body_markdown":"To my knowledge - not really, at least `Collectors.groupingBy` in the current form does not support this use case (without using `SortKey`s)","body":"To my knowledge - not really, at least <code>Collectors.groupingBy</code> in the current form does not support this use case (without using <code>SortKey</code>s)"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1691077294,"post_id":76828888,"comment_id":135445768,"body_markdown":"Not quite sure why this doesn&#39;t fit the &#39;Book&#39; requirement in that case: `import java.util.*;import java.util.stream.*;public class BookGroups {public static void main(String[] args) throws Exception {record Book (String author, String title) {};Book[] books = {new Book(&quot;1&quot;, &quot;Book1&quot;),new Book(&quot;2&quot;, &quot;Book2 by 2&quot;),new Book(&quot;1&quot;, &quot;Book3 by 1&quot;)};Map&lt;String, List&lt;Book&gt;&gt; m = Arrays.stream(books).collect(Collectors.groupingBy(b -&gt; b.author));System.out.println(m);}}`","body":"Not quite sure why this doesn&#39;t fit the &#39;Book&#39; requirement in that case: <code>import java.util.*;import java.util.stream.*;public class BookGroups {public static void main(String[] args) throws Exception {record Book (String author, String title) {};Book[] books = {new Book(&quot;1&quot;, &quot;Book1&quot;),new Book(&quot;2&quot;, &quot;Book2 by 2&quot;),new Book(&quot;1&quot;, &quot;Book3 by 1&quot;)};Map&lt;String, List&lt;Book&gt;&gt; m = Arrays.stream(books).collect(Collectors.groupingBy(b -&gt; b.author));System.out.println(m);}}</code>"},{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1691077666,"post_id":76828888,"comment_id":135445850,"body_markdown":"You can create your own data structures.  In the first example, you would use a two-dimensional `int` array.  In the second example, you create an `Author` class that includes a `List&lt;Book&gt;`.  Even if there was some generic grouping structure, like a `Map`, creating custom classes helps your code to be self-documenting.","body":"You can create your own data structures.  In the first example, you would use a two-dimensional <code>int</code> array.  In the second example, you create an <code>Author</code> class that includes a <code>List&lt;Book&gt;</code>.  Even if there was some generic grouping structure, like a <code>Map</code>, creating custom classes helps your code to be self-documenting."},{"owner":{"account_id":22661322,"reputation":1,"user_id":16834368,"display_name":"Dmitry"},"score":0,"creation_date":1691078891,"post_id":76828888,"comment_id":135446137,"body_markdown":"The issue is that the list of fields I need to sort and group by is dynamic and each field has additional properties like `nullsFirst/nullsLast` and `asc/desc` (imagine a table widget that displays Books and a user requesting to sort them by multiple columns, and expecting similar rows to be grouped and highlighted in the same color)","body":"The issue is that the list of fields I need to sort and group by is dynamic and each field has additional properties like <code>nullsFirst&#47;nullsLast</code> and <code>asc&#47;desc</code> (imagine a table widget that displays Books and a user requesting to sort them by multiple columns, and expecting similar rows to be grouped and highlighted in the same color)"}],"owner":{"account_id":22661322,"reputation":1,"user_id":16834368,"display_name":"Dmitry"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691071583,"creation_date":1691071583,"question_id":76828888,"body_markdown":"Is there a Java data structure that will sort and group by a provided Comparator instance?\r\nHere is an example of what I am trying to achieve:\r\n\r\n\r\n```\r\nInput: [1, 2, 1, 3, 4, 4, 5, 3]\r\nOutput: [[1,1], [2], [3,3], [4,4], [5]] // sorted, all occurrences of &quot;equal&quot; elements preserved\r\n```\r\n\r\nThe closest I could find is TreeMultiset or TreeBag - but these do not preserve each occurrence of an element, only one element and the number of its occurrences.\r\n\r\nHere is another example:\r\n```\r\nList&lt;Book&gt; books = [\r\n      {author: &quot;1&quot;, title: &quot;Book1&quot;, ...}, \r\n      {author: &quot;1&quot;, title: &quot;Book2&quot;, ...},\r\n      {author: &quot;0&quot;, title: &quot;Book0&quot;, ...} ... ];\r\n\r\nUnknownDataStructure&lt;Book&gt; booksByAuthor = new UnknownDataStructure&lt;Book&gt;(Comparator.comparing(Book::author));\r\nbooksByAuthor.addAll(books);\r\n\r\nbooksByAuthor then should be equivalent to: [\r\n      [{author: &quot;0&quot;, title: &quot;Book0&quot;, ...}]\r\n      [{author: &quot;1&quot;, title: &quot;Book1&quot;, ...}, {author: &quot;1&quot;, title: &quot;Book2&quot;, ...}],\r\n       ... ];\r\n```\r\n\r\nFor my particular use case the `Comparator` instance is configurable - it could be by any sub-set of the `Book` POJO fields (each with its own sort direction and nullsFirst/nullsLast specifier), for example: `Comparator.comparing(Book:author).thenComparing(Comparator.comparing(Book::title))...`\r\n\r\nThe key requirement is that the list of `Book`s should be sorted and grouped, with each group containing all `Book`s that are equivalent (in the sense that `Comparator.compareTo(book1, book2)` is `0` for any `book1/book2` from the group)\r\n\r\n\r\n\r\n\r\nOne option that I tried is to create another POJO like this:\r\n```\r\npublic record SortKey(List&lt;Comparable&gt; values) { }\r\n```\r\n\r\n`SortKey` instance is created for each Book POJO and holds the Comparable values that we need to sort by (author, title, rating etc). Then I can just create a `TreeMap&lt;SortKey, List&lt;Book&gt;&gt;` instance and group by `SortKey`.\r\n\r\nThis looks cumbersome and the `SortKey` instances are only ever used as keys in the `TreeMap`, not needed for anything else. I am wondering whether I can just supply a `Comparator` instance and avoid using `SortKey`s.\r\n","title":"Java data structure that sorts and groups by Comparator","body":"<p>Is there a Java data structure that will sort and group by a provided Comparator instance?\nHere is an example of what I am trying to achieve:</p>\n<pre><code>Input: [1, 2, 1, 3, 4, 4, 5, 3]\nOutput: [[1,1], [2], [3,3], [4,4], [5]] // sorted, all occurrences of &quot;equal&quot; elements preserved\n</code></pre>\n<p>The closest I could find is TreeMultiset or TreeBag - but these do not preserve each occurrence of an element, only one element and the number of its occurrences.</p>\n<p>Here is another example:</p>\n<pre><code>List&lt;Book&gt; books = [\n      {author: &quot;1&quot;, title: &quot;Book1&quot;, ...}, \n      {author: &quot;1&quot;, title: &quot;Book2&quot;, ...},\n      {author: &quot;0&quot;, title: &quot;Book0&quot;, ...} ... ];\n\nUnknownDataStructure&lt;Book&gt; booksByAuthor = new UnknownDataStructure&lt;Book&gt;(Comparator.comparing(Book::author));\nbooksByAuthor.addAll(books);\n\nbooksByAuthor then should be equivalent to: [\n      [{author: &quot;0&quot;, title: &quot;Book0&quot;, ...}]\n      [{author: &quot;1&quot;, title: &quot;Book1&quot;, ...}, {author: &quot;1&quot;, title: &quot;Book2&quot;, ...}],\n       ... ];\n</code></pre>\n<p>For my particular use case the <code>Comparator</code> instance is configurable - it could be by any sub-set of the <code>Book</code> POJO fields (each with its own sort direction and nullsFirst/nullsLast specifier), for example: <code>Comparator.comparing(Book:author).thenComparing(Comparator.comparing(Book::title))...</code></p>\n<p>The key requirement is that the list of <code>Book</code>s should be sorted and grouped, with each group containing all <code>Book</code>s that are equivalent (in the sense that <code>Comparator.compareTo(book1, book2)</code> is <code>0</code> for any <code>book1/book2</code> from the group)</p>\n<p>One option that I tried is to create another POJO like this:</p>\n<pre><code>public record SortKey(List&lt;Comparable&gt; values) { }\n</code></pre>\n<p><code>SortKey</code> instance is created for each Book POJO and holds the Comparable values that we need to sort by (author, title, rating etc). Then I can just create a <code>TreeMap&lt;SortKey, List&lt;Book&gt;&gt;</code> instance and group by <code>SortKey</code>.</p>\n<p>This looks cumbersome and the <code>SortKey</code> instances are only ever used as keys in the <code>TreeMap</code>, not needed for anything else. I am wondering whether I can just supply a <code>Comparator</code> instance and avoid using <code>SortKey</code>s.</p>\n"},{"tags":["java","json","postgresql","unit-testing","h2"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1691067600,"post_id":76828309,"comment_id":135443425,"body_markdown":"What leads you to think that H2 has that function? It seems it doesn&#39;t","body":"What leads you to think that H2 has that function? It seems it doesn&#39;t"},{"owner":{"account_id":11165107,"reputation":453,"user_id":8194026,"display_name":"John Mitchell"},"score":0,"creation_date":1691067690,"post_id":76828309,"comment_id":135443448,"body_markdown":"Your &quot;real db&quot; obviously has that function defined. You need to define it for your test DB. Probably you&#39;ll want to enable liquibase (or whatever db change management tool you prefer), and include the changelog that creates the function before executing tests.","body":"Your &quot;real db&quot; obviously has that function defined. You need to define it for your test DB. Probably you&#39;ll want to enable liquibase (or whatever db change management tool you prefer), and include the changelog that creates the function before executing tests."},{"owner":{"account_id":10595855,"reputation":2708,"user_id":7804595,"display_name":"Valeriy K."},"score":1,"creation_date":1691073829,"post_id":76828309,"comment_id":135444965,"body_markdown":"@JohnMitchell no, it&#39;s internal postgres function. Seems H2 in PostgreSQL mode doesn&#39;t support it","body":"@JohnMitchell no, it&#39;s internal postgres function. Seems H2 in PostgreSQL mode doesn&#39;t support it"}],"answers":[{"tags":[],"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691071518,"creation_date":1691071518,"answer_id":76828881,"question_id":76828309,"body_markdown":"H2 doesn&#39;t has the `JSON_BUILD_OBJECT` built-in function. That seems to be a Postgresql function. Either use the same database for test and production or change the query to use H2 `JSON_OBJECT` function (http://www.h2database.com/html/functions.html#json_object). I recommend the former so your tests match what the application is going to use later.","title":"org.h2.jdbc.JdbcSQLSyntaxErrorException: Function &quot;JSON_BUILD_OBJECT&quot; not found","body":"<p>H2 doesn't has the <code>JSON_BUILD_OBJECT</code> built-in function. That seems to be a Postgresql function. Either use the same database for test and production or change the query to use H2 <code>JSON_OBJECT</code> function (<a href=\"http://www.h2database.com/html/functions.html#json_object\" rel=\"nofollow noreferrer\">http://www.h2database.com/html/functions.html#json_object</a>). I recommend the former so your tests match what the application is going to use later.</p>\n"}],"owner":{"account_id":10595855,"reputation":2708,"user_id":7804595,"display_name":"Valeriy K."},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691071518,"creation_date":1691067454,"question_id":76828309,"body_markdown":"I&#39;m using h2 db in tests. My test h2 db settings are next:\r\n\r\n    private static final String JDBC_URL = &quot;jdbc:h2:mem:test;MODE=PostgreSQL;DB_CLOSE_DELAY=-1&quot;;\r\n    Connection connection = DriverManager.getConnection(JDBC_URL);\r\n\r\nI&#39;ve tried 2.2.220 and 2.1.214 h2 versions.\r\nSQL query is next:\r\n\r\n            var query = SELECT json_build_object(&#39;product&#39;, c.&quot;info&quot;-&gt;&#39;product&#39;) as info FROM item.&quot;Item&quot; AS c          \r\n        INNER JOIN (SELECT &quot;rootId&quot;, MAX(&quot;revisionNo&quot;) AS maxRevisionNo     FROM item.&quot;Item&quot;     WHERE &quot;cRootId&quot; = ?    \r\n     GROUP BY &quot;rootId&quot; ) AS subquery ON c.&quot;rootId&quot; = subquery.&quot;rootId&quot; AND c.&quot;revisionNo&quot; = subquery.maxRevisionNo WHERE c.&quot;state&quot; = &#39;active&#39;\r\n\r\nI&#39;m trying to create a prepared statement with it:\r\n\r\n    var statement = connection.prepareStatement(query);\r\n\r\nand get error:\r\n\r\n&gt; org.h2.jdbc.JdbcSQLSyntaxErrorException: Function &quot;JSON_BUILD_OBJECT&quot;\r\n&gt; not found\r\n\r\nAll works fine with real Postgres db but failed in tests with h2 in Postgres mode.\r\nCan I fix it and how? Thank you so much for your attention and participation.\r\n\r\n","title":"org.h2.jdbc.JdbcSQLSyntaxErrorException: Function &quot;JSON_BUILD_OBJECT&quot; not found","body":"<p>I'm using h2 db in tests. My test h2 db settings are next:</p>\n<pre><code>private static final String JDBC_URL = &quot;jdbc:h2:mem:test;MODE=PostgreSQL;DB_CLOSE_DELAY=-1&quot;;\nConnection connection = DriverManager.getConnection(JDBC_URL);\n</code></pre>\n<p>I've tried 2.2.220 and 2.1.214 h2 versions.\nSQL query is next:</p>\n<pre><code>        var query = SELECT json_build_object('product', c.&quot;info&quot;-&gt;'product') as info FROM item.&quot;Item&quot; AS c          \n    INNER JOIN (SELECT &quot;rootId&quot;, MAX(&quot;revisionNo&quot;) AS maxRevisionNo     FROM item.&quot;Item&quot;     WHERE &quot;cRootId&quot; = ?    \n GROUP BY &quot;rootId&quot; ) AS subquery ON c.&quot;rootId&quot; = subquery.&quot;rootId&quot; AND c.&quot;revisionNo&quot; = subquery.maxRevisionNo WHERE c.&quot;state&quot; = 'active'\n</code></pre>\n<p>I'm trying to create a prepared statement with it:</p>\n<pre><code>var statement = connection.prepareStatement(query);\n</code></pre>\n<p>and get error:</p>\n<blockquote>\n<p>org.h2.jdbc.JdbcSQLSyntaxErrorException: Function &quot;JSON_BUILD_OBJECT&quot;\nnot found</p>\n</blockquote>\n<p>All works fine with real Postgres db but failed in tests with h2 in Postgres mode.\nCan I fix it and how? Thank you so much for your attention and participation.</p>\n"},{"tags":["java","fonts","jasper-reports"],"comments":[{"owner":{"account_id":2363845,"reputation":2893,"user_id":2069976,"accept_rate":51,"display_name":"Skizzo"},"score":0,"creation_date":1409228359,"post_id":25548404,"comment_id":39892180,"body_markdown":"What version to jasper report are you using?","body":"What version to jasper report are you using?"},{"owner":{"account_id":2509723,"reputation":1205,"user_id":2182503,"accept_rate":50,"display_name":"Tunguska"},"score":0,"creation_date":1409228605,"post_id":25548404,"comment_id":39892369,"body_markdown":"JasperReport and iReport version: 5.6.0","body":"JasperReport and iReport version: 5.6.0"},{"owner":{"account_id":2363845,"reputation":2893,"user_id":2069976,"accept_rate":51,"display_name":"Skizzo"},"score":0,"creation_date":1409228885,"post_id":25548404,"comment_id":39892544,"body_markdown":"I also had your same problem with the 5.5.0, and I solved it   by switching to 5.0.0","body":"I also had your same problem with the 5.5.0, and I solved it   by switching to 5.0.0"},{"owner":{"account_id":2509723,"reputation":1205,"user_id":2182503,"accept_rate":50,"display_name":"Tunguska"},"score":0,"creation_date":1409229710,"post_id":25548404,"comment_id":39893094,"body_markdown":"Thank you, but I still see the Exception, even with 5.0.0","body":"Thank you, but I still see the Exception, even with 5.0.0"},{"owner":{"account_id":2509723,"reputation":1205,"user_id":2182503,"accept_rate":50,"display_name":"Tunguska"},"score":0,"creation_date":1409300805,"post_id":25548404,"comment_id":39922520,"body_markdown":"I still have this problem, and still cannot find a solution until now. May I can provide you more resources?","body":"I still have this problem, and still cannot find a solution until now. May I can provide you more resources?"},{"owner":{"account_id":2363845,"reputation":2893,"user_id":2069976,"accept_rate":51,"display_name":"Skizzo"},"score":2,"creation_date":1409386004,"post_id":25548404,"comment_id":39952851,"body_markdown":"Try to add the fonts within your jdk folder (jdk1.x.x_xx/jre/lib/fonts). This will make you lose portability  but at least we can understand if the problem is the packaging o other","body":"Try to add the fonts within your jdk folder (jdk1.x.x_xx/jre/lib/fonts). This will make you lose portability  but at least we can understand if the problem is the packaging o other"},{"owner":{"account_id":22883450,"reputation":129,"user_id":17024722,"display_name":"Ruchi"},"score":0,"creation_date":1678785161,"post_id":25548404,"comment_id":133596272,"body_markdown":"Im facing the same issue , could you please tell me how did u resolve this?","body":"Im facing the same issue , could you please tell me how did u resolve this?"}],"answers":[{"comments":[{"owner":{"account_id":3280746,"reputation":1354,"user_id":2761418,"accept_rate":67,"display_name":"Gustavo"},"score":1,"creation_date":1449260239,"post_id":25601833,"comment_id":55945606,"body_markdown":"I don&#39;t get. I have the same problem but only on Linux. On Windows it works fine, so, I don&#39;t think the problem is the template, but the loading of the extension.","body":"I don&#39;t get. I have the same problem but only on Linux. On Windows it works fine, so, I don&#39;t think the problem is the template, but the loading of the extension."},{"owner":{"account_id":84585,"reputation":7493,"user_id":236345,"accept_rate":87,"display_name":"Alfabravo"},"score":0,"creation_date":1460751774,"post_id":25601833,"comment_id":60905493,"body_markdown":"@Gustavo oddly enough, it&#39;s happening to me on Windows, not on Linux. Running out of things to try...","body":"@Gustavo oddly enough, it&#39;s happening to me on Windows, not on Linux. Running out of things to try..."}],"tags":[],"owner":{"account_id":2509723,"reputation":1205,"user_id":2182503,"accept_rate":50,"display_name":"Tunguska"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1409560540,"creation_date":1409560540,"answer_id":25601833,"question_id":25548404,"body_markdown":"The problem was the template itself: At one font-tag the `&lt;fontName&gt;` property was missing:\r\n\r\nDoes not work:\r\n\r\n    &lt;font size=&quot;12&quot; isBold=&quot;true&quot; pdfFontName=&quot;Arial&quot;/&gt;\r\n\r\nDoes work:\r\n\r\n    &lt;font fontName=&quot;Arial&quot; size=&quot;12&quot; isBold=&quot;true&quot; pdfFontName=&quot;Arial&quot; pdfEncoding=&quot;Identity-H&quot; isPdfEmbedded=&quot;true&quot;/&gt;\r\n\r\n\r\n","title":"JasperReports 5.6: Could not load the following font","body":"<p>The problem was the template itself: At one font-tag the <code>&lt;fontName&gt;</code> property was missing:</p>\n\n<p>Does not work:</p>\n\n<pre><code>&lt;font size=\"12\" isBold=\"true\" pdfFontName=\"Arial\"/&gt;\n</code></pre>\n\n<p>Does work:</p>\n\n<pre><code>&lt;font fontName=\"Arial\" size=\"12\" isBold=\"true\" pdfFontName=\"Arial\" pdfEncoding=\"Identity-H\" isPdfEmbedded=\"true\"/&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3269911,"reputation":461,"user_id":2753513,"display_name":"StarCrafter"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1440747604,"creation_date":1440747604,"answer_id":32265767,"question_id":25548404,"body_markdown":"**Another Solution** Worked For Me is:\r\n\r\nJRProperties.setProperty(&quot;net.sf.jasperreports.default.pdf.font.name&quot;, &quot;Helvetica&quot;);\r\n    \t\t\t\tJRProperties.setProperty(&quot;net.sf.jasperreports.default.pdf.encoding&quot;, &quot;UTF-8&quot;);\r\n    \t\t\t\tJRProperties.setProperty(&quot;net.sf.jasperreports.default.pdf.embedded&quot;, &quot;true&quot;);\r\n\r\nIf you set parameters from java side, \r\nyou have to specify font.name and **Helvetica** saves the day. \r\nI tried Arial here but threw the same error.","title":"JasperReports 5.6: Could not load the following font","body":"<p><strong>Another Solution</strong> Worked For Me is:</p>\n\n<p>JRProperties.setProperty(\"net.sf.jasperreports.default.pdf.font.name\", \"Helvetica\");\n                    JRProperties.setProperty(\"net.sf.jasperreports.default.pdf.encoding\", \"UTF-8\");\n                    JRProperties.setProperty(\"net.sf.jasperreports.default.pdf.embedded\", \"true\");</p>\n\n<p>If you set parameters from java side, \nyou have to specify font.name and <strong>Helvetica</strong> saves the day. \nI tried Arial here but threw the same error.</p>\n"},{"comments":[{"owner":{"account_id":22883450,"reputation":129,"user_id":17024722,"display_name":"Ruchi"},"score":0,"creation_date":1678785297,"post_id":40921249,"comment_id":133596322,"body_markdown":"I tried this but didn&#39;t work.. I added the ttf file in the same place as u suggested.","body":"I tried this but didn&#39;t work.. I added the ttf file in the same place as u suggested."}],"tags":[],"owner":{"account_id":1613078,"reputation":2792,"user_id":1491512,"accept_rate":80,"display_name":"atiruz"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1480629899,"creation_date":1480629899,"answer_id":40921249,"question_id":25548404,"body_markdown":"Copy the fonts files **(*.ttf)** into the folder:\r\n\r\n    /path/to/app/WEB-INF/classes/***HERE***\r\n\r\nYou app will get the fonts from here :)","title":"JasperReports 5.6: Could not load the following font","body":"<p>Copy the fonts files <strong>(*.ttf)</strong> into the folder:</p>\n\n<pre><code>/path/to/app/WEB-INF/classes/***HERE***\n</code></pre>\n\n<p>You app will get the fonts from here :)</p>\n"},{"tags":[],"owner":{"account_id":4220480,"reputation":71,"user_id":3455383,"display_name":"Thomas.be"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1500899189,"creation_date":1500899189,"answer_id":45280632,"question_id":25548404,"body_markdown":"You must give the correct name of font for the PDF exporter. Your fonts are presents into the embedded fonts jar. You don&#39;t need to put them again into the classes directory ;-)\r\n\r\nThere is the correct fonts.xml content for pdf exporter (perhaps the names are case sensitive, be careful) : \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;fontFamilies&gt;\r\n    &lt;fontFamily name=&quot;Arial&quot;&gt;\r\n        &lt;normal&gt;\r\n          &lt;ttf&gt;fonts/Arial/ARIAL.TTF&lt;/ttf&gt;\r\n          &lt;pdf&gt;fonts/Arial/ARIAL.TTF&lt;/pdf&gt;\r\n        &lt;/normal&gt;\r\n        &lt;bold&gt;\r\n          &lt;ttf&gt;fonts/Arial/ARIALBD.TTF&lt;/ttf&gt;\r\n          &lt;pdf&gt;fonts/Arial/ARIALBD.TTF&lt;/pdf&gt;\r\n        &lt;/bold&gt;\r\n        &lt;italic&gt;\r\n          &lt;ttf&gt;fonts/Arial/ARIALI.TTF&lt;/ttf&gt;\r\n          &lt;pdf&gt;fonts/Arial/ARIALI.TTF&lt;/pdf&gt;\r\n        &lt;/italic&gt;\r\n        &lt;boldItalic&gt;\r\n          &lt;ttf&gt;fonts/Arial/ARIALBI.TTF&lt;/ttf&gt;\r\n          &lt;pdf&gt;fonts/Arial/ARIALBI.TTF&lt;/pdf&gt;\r\n        &lt;/boldItalic&gt;\r\n        &lt;pdfEncoding&gt;Cp1252&lt;/pdfEncoding&gt;\r\n        &lt;pdfEmbedded&gt;true&lt;/pdfEmbedded&gt;\r\n        &lt;exportFonts&gt;\r\n        &lt;/exportFonts&gt;\r\n    &lt;/fontFamily&gt;\r\n    &lt;/fontFamilies&gt;\r\n\r\nI hope this help.\r\n\r\nRegards,\r\nT.","title":"JasperReports 5.6: Could not load the following font","body":"<p>You must give the correct name of font for the PDF exporter. Your fonts are presents into the embedded fonts jar. You don't need to put them again into the classes directory ;-)</p>\n\n<p>There is the correct fonts.xml content for pdf exporter (perhaps the names are case sensitive, be careful) : </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;fontFamilies&gt;\n&lt;fontFamily name=\"Arial\"&gt;\n    &lt;normal&gt;\n      &lt;ttf&gt;fonts/Arial/ARIAL.TTF&lt;/ttf&gt;\n      &lt;pdf&gt;fonts/Arial/ARIAL.TTF&lt;/pdf&gt;\n    &lt;/normal&gt;\n    &lt;bold&gt;\n      &lt;ttf&gt;fonts/Arial/ARIALBD.TTF&lt;/ttf&gt;\n      &lt;pdf&gt;fonts/Arial/ARIALBD.TTF&lt;/pdf&gt;\n    &lt;/bold&gt;\n    &lt;italic&gt;\n      &lt;ttf&gt;fonts/Arial/ARIALI.TTF&lt;/ttf&gt;\n      &lt;pdf&gt;fonts/Arial/ARIALI.TTF&lt;/pdf&gt;\n    &lt;/italic&gt;\n    &lt;boldItalic&gt;\n      &lt;ttf&gt;fonts/Arial/ARIALBI.TTF&lt;/ttf&gt;\n      &lt;pdf&gt;fonts/Arial/ARIALBI.TTF&lt;/pdf&gt;\n    &lt;/boldItalic&gt;\n    &lt;pdfEncoding&gt;Cp1252&lt;/pdfEncoding&gt;\n    &lt;pdfEmbedded&gt;true&lt;/pdfEmbedded&gt;\n    &lt;exportFonts&gt;\n    &lt;/exportFonts&gt;\n&lt;/fontFamily&gt;\n&lt;/fontFamilies&gt;\n</code></pre>\n\n<p>I hope this help.</p>\n\n<p>Regards,\nT.</p>\n"},{"tags":[],"owner":{"account_id":3614323,"reputation":2734,"user_id":3408531,"accept_rate":56,"display_name":"TiyebM"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1544623512,"creation_date":1544623512,"answer_id":53744803,"question_id":25548404,"body_markdown":"In my case, I was using:\r\n\r\n    &lt;font fontName=&quot;Arial&quot; pdfEncoding=&quot;Identity-H&quot; isPdfEmbedded=&quot;true&quot;/&gt;\r\n\r\nI had to remove `pdffontName`, the correct font tag is:\r\n\r\n    &lt;font fontName=&quot;Arial&quot; pdfEncoding=&quot;Cp1256&quot;/&gt;\r\n\r\n**Note**\r\nI am using a font jar that contains the following .xml file:\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;fontFamilies&gt;\r\n    \r\n       &lt;fontFamily name=&quot;Arial&quot;&gt;\r\n           &lt;normal&gt;&lt;![CDATA[fonts/arial.ttf]]&gt;&lt;/normal&gt;\r\n           &lt;pdfEncoding&gt;&lt;![CDATA[Identity-H]]&gt;&lt;/pdfEncoding&gt;\r\n           &lt;pdfEmbedded&gt;&lt;![CDATA[true]]&gt;&lt;/pdfEmbedded&gt;\r\n       &lt;/fontFamily&gt;\r\n    \r\n    \r\n    &lt;/fontFamilies&gt;","title":"JasperReports 5.6: Could not load the following font","body":"<p>In my case, I was using:</p>\n\n<pre><code>&lt;font fontName=\"Arial\" pdfEncoding=\"Identity-H\" isPdfEmbedded=\"true\"/&gt;\n</code></pre>\n\n<p>I had to remove <code>pdffontName</code>, the correct font tag is:</p>\n\n<pre><code>&lt;font fontName=\"Arial\" pdfEncoding=\"Cp1256\"/&gt;\n</code></pre>\n\n<p><strong>Note</strong>\nI am using a font jar that contains the following .xml file:</p>\n\n<pre><code>    &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;fontFamilies&gt;\n\n   &lt;fontFamily name=\"Arial\"&gt;\n       &lt;normal&gt;&lt;![CDATA[fonts/arial.ttf]]&gt;&lt;/normal&gt;\n       &lt;pdfEncoding&gt;&lt;![CDATA[Identity-H]]&gt;&lt;/pdfEncoding&gt;\n       &lt;pdfEmbedded&gt;&lt;![CDATA[true]]&gt;&lt;/pdfEmbedded&gt;\n   &lt;/fontFamily&gt;\n\n\n&lt;/fontFamilies&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20634582,"reputation":21,"user_id":15148595,"display_name":"deem sameer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691071003,"creation_date":1691071003,"answer_id":76828799,"question_id":25548404,"body_markdown":"I read it somewhere and it worked for me, You should write full path instead of relative path. ","title":"JasperReports 5.6: Could not load the following font","body":"<p>I read it somewhere and it worked for me, You should write full path instead of relative path.</p>\n"}],"owner":{"account_id":2509723,"reputation":1205,"user_id":2182503,"accept_rate":50,"display_name":"Tunguska"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31507,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":6,"score":8,"last_activity_date":1691071003,"creation_date":1409227568,"question_id":25548404,"body_markdown":"I am facing the problem, that *JasperReports* still cannot find the Arial font. \r\n\r\nI created a simple Maven Project with following structure and included it to my main application. So the main application contains the installed JAR in classpath:\r\n\r\n    - jasperreports_extension.properties\r\n    - fonts\r\n      |-&gt; arial\r\n        |-&gt; ariali.ttf\r\n        |-&gt; arialbi.ttf\r\n        |-&gt; arialbd.ttf\r\n        |-&gt; arial.ttf\r\n      |-&gt; fonts.xml\r\n\r\nBut I still see following Exception while exporting report to PDF.\r\n\r\n\r\n    net.sf.jasperreports.engine.JRRuntimeException: Could not load the following font : \r\n    pdfFontName   : Arial\r\n    pdfEncoding   : Identity-H\r\n    isPdfEmbedded : true\r\n\r\n\r\n**jasperreports_extension.properties**\r\n\r\n    \r\n\r\n    net.sf.jasperreports.extension.registry.factory.simple.font.families=net.sf.jasperreports.engine.fonts.SimpleFontExtensionsRegistryFactory\r\n    net.sf.jasperreports.extension.simple.font.families.arial=fonts/fonts.xml\r\n\r\n**fonts.xml:**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;fontFamilies&gt;\r\n    \t&lt;fontFamily name=&quot;Arial&quot;&gt;\r\n    \t\t&lt;normal&gt;fonts/arial/arial.ttf&lt;/normal&gt;\r\n    \t\t&lt;bold&gt;fonts/arial/arialbd.ttf&lt;/bold&gt;\r\n    \t\t&lt;italic&gt;fonts/arial/ariali.ttf&lt;/italic&gt;\r\n    \t\t&lt;boldItalic&gt;fonts/arial/arialbi.ttf&lt;/boldItalic&gt;\r\n    \t\t&lt;pdfEncoding&gt;Identity-H&lt;/pdfEncoding&gt;\r\n    \t\t&lt;pdfEmbedded&gt;true&lt;/pdfEmbedded&gt;\r\n    \t&lt;/fontFamily&gt;\r\n    &lt;/fontFamilies&gt;\r\n\r\n**Template**\r\n\r\n    &lt;font fontName=&quot;Arial&quot; size=&quot;8&quot; pdfFontName=&quot;Arial&quot; pdfEncoding=&quot;Identity-H&quot; isPdfEmbedded=&quot;true&quot;/&gt;","title":"JasperReports 5.6: Could not load the following font","body":"<p>I am facing the problem, that <em>JasperReports</em> still cannot find the Arial font. </p>\n\n<p>I created a simple Maven Project with following structure and included it to my main application. So the main application contains the installed JAR in classpath:</p>\n\n<pre><code>- jasperreports_extension.properties\n- fonts\n  |-&gt; arial\n    |-&gt; ariali.ttf\n    |-&gt; arialbi.ttf\n    |-&gt; arialbd.ttf\n    |-&gt; arial.ttf\n  |-&gt; fonts.xml\n</code></pre>\n\n<p>But I still see following Exception while exporting report to PDF.</p>\n\n<pre><code>net.sf.jasperreports.engine.JRRuntimeException: Could not load the following font : \npdfFontName   : Arial\npdfEncoding   : Identity-H\nisPdfEmbedded : true\n</code></pre>\n\n<p><strong>jasperreports_extension.properties</strong></p>\n\n<pre><code>net.sf.jasperreports.extension.registry.factory.simple.font.families=net.sf.jasperreports.engine.fonts.SimpleFontExtensionsRegistryFactory\nnet.sf.jasperreports.extension.simple.font.families.arial=fonts/fonts.xml\n</code></pre>\n\n<p><strong>fonts.xml:</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;fontFamilies&gt;\n    &lt;fontFamily name=\"Arial\"&gt;\n        &lt;normal&gt;fonts/arial/arial.ttf&lt;/normal&gt;\n        &lt;bold&gt;fonts/arial/arialbd.ttf&lt;/bold&gt;\n        &lt;italic&gt;fonts/arial/ariali.ttf&lt;/italic&gt;\n        &lt;boldItalic&gt;fonts/arial/arialbi.ttf&lt;/boldItalic&gt;\n        &lt;pdfEncoding&gt;Identity-H&lt;/pdfEncoding&gt;\n        &lt;pdfEmbedded&gt;true&lt;/pdfEmbedded&gt;\n    &lt;/fontFamily&gt;\n&lt;/fontFamilies&gt;\n</code></pre>\n\n<p><strong>Template</strong></p>\n\n<pre><code>&lt;font fontName=\"Arial\" size=\"8\" pdfFontName=\"Arial\" pdfEncoding=\"Identity-H\" isPdfEmbedded=\"true\"/&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-security","deprecated"],"answers":[{"comments":[{"owner":{"account_id":28506077,"reputation":78,"user_id":21816714,"display_name":"Mohammad Nayem"},"score":0,"creation_date":1691071318,"post_id":76828647,"comment_id":135444360,"body_markdown":"Hey, thanks for the reply. Code seems more abstract and tidy. I&#39;m using it and so far no issues.","body":"Hey, thanks for the reply. Code seems more abstract and tidy. I&#39;m using it and so far no issues."},{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":1,"creation_date":1691071369,"post_id":76828647,"comment_id":135444373,"body_markdown":"@MohammadNayem don`t forget to read Migration Guide","body":"@MohammadNayem don`t forget to read Migration Guide"},{"owner":{"account_id":28506077,"reputation":78,"user_id":21816714,"display_name":"Mohammad Nayem"},"score":0,"creation_date":1691071412,"post_id":76828647,"comment_id":135444387,"body_markdown":"Yeah, I&#39;m reading it, thanks.","body":"Yeah, I&#39;m reading it, thanks."}],"tags":[],"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"comment_count":3,"down_vote_count":1,"up_vote_count":6,"is_accepted":true,"score":5,"last_activity_date":1691069855,"creation_date":1691069855,"answer_id":76828647,"question_id":76828540,"body_markdown":"your SecurityFilterChain Bean will look so:\r\n\r\n      @Bean\r\n      public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        http.csrf(AbstractHttpConfigurer::disable);\r\n        http.authorizeHttpRequests(rQ -&gt; {\r\n               rQ.requestMatchers(&quot;/api/**&quot;, &quot;/signup/&quot;, &quot;/signin/&quot;).permitAll();\r\n               rQ.requestMatchers(&quot;/api/search/&quot;, &quot;/api/profile/&quot;, &quot;/signout/&quot;).authenticated();\r\n             });\r\n        http.sessionManagement(sessionAuthenticationStrategy -&gt;\r\n            sessionAuthenticationStrategy.sessionCreationPolicy(SessionCreationPolicy.STATELESS));\r\n        http.authenticationProvider(authenticationProvider());\r\n        http.addFilterBefore(jwtAuthFilter, UsernamePasswordAuthenticationFilter.class);\r\n        return http.build();\r\n      }\r\n\r\n\r\n[Migration Guide](https://docs.spring.io/spring-security/reference/5.8/migration/servlet/config.html)","title":"Updating to Latest Spring Security - replacing Deprecated methods","body":"<p>your SecurityFilterChain Bean will look so:</p>\n<pre><code>  @Bean\n  public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n    http.csrf(AbstractHttpConfigurer::disable);\n    http.authorizeHttpRequests(rQ -&gt; {\n           rQ.requestMatchers(&quot;/api/**&quot;, &quot;/signup/&quot;, &quot;/signin/&quot;).permitAll();\n           rQ.requestMatchers(&quot;/api/search/&quot;, &quot;/api/profile/&quot;, &quot;/signout/&quot;).authenticated();\n         });\n    http.sessionManagement(sessionAuthenticationStrategy -&gt;\n        sessionAuthenticationStrategy.sessionCreationPolicy(SessionCreationPolicy.STATELESS));\n    http.authenticationProvider(authenticationProvider());\n    http.addFilterBefore(jwtAuthFilter, UsernamePasswordAuthenticationFilter.class);\n    return http.build();\n  }\n</code></pre>\n<p><a href=\"https://docs.spring.io/spring-security/reference/5.8/migration/servlet/config.html\" rel=\"noreferrer\">Migration Guide</a></p>\n"}],"owner":{"account_id":28506077,"reputation":78,"user_id":21816714,"display_name":"Mohammad Nayem"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":853,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76828647,"answer_count":1,"score":2,"last_activity_date":1691070768,"creation_date":1691069136,"question_id":76828540,"body_markdown":"I&#39;m trying to remove the deprecated methods below(csrf(), authorizeHttpRequests(), sessionManagement()). How can I write this piece of code instead?\r\n\r\nHere&#39;s the code:\r\n\r\n```\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        return http.csrf().disable()\r\n                .authorizeHttpRequests()\r\n                .requestMatchers(&quot;/api/**&quot;, &quot;/signup/&quot;, &quot;/signin/&quot;).permitAll()\r\n                .and()\r\n                .authorizeHttpRequests().requestMatchers(&quot;/api/search/&quot;, &quot;/api/profile/&quot;, &quot;/signout/&quot;).authenticated()\r\n                .and()\r\n                .sessionManagement()\r\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                .and()\r\n                .authenticationProvider(authenticationProvider())\r\n                .addFilterBefore(jwtAuthFilter, UsernamePasswordAuthenticationFilter.class).build();\r\n                //telling spring boot to use my own class JwtAuthFilter first before using your filter with username and password\r\n\r\n    }\r\n```\r\n\r\n[IDE is generating errors for csrf(), authorizeHttpRequests(), sessionManagement()](https://i.stack.imgur.com/F98wJ.png)\r\n\r\n\r\n- can I just remove csrf? I have a frontend react app connecting with my Spring Boot backend.\r\n- can I use authorizeRequests() instead of authorizeHttpRequests()\r\n- what should I use instead sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)","title":"Updating to Latest Spring Security - replacing Deprecated methods","body":"<p>I'm trying to remove the deprecated methods below(csrf(), authorizeHttpRequests(), sessionManagement()). How can I write this piece of code instead?</p>\n<p>Here's the code:</p>\n<pre><code>    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        return http.csrf().disable()\n                .authorizeHttpRequests()\n                .requestMatchers(&quot;/api/**&quot;, &quot;/signup/&quot;, &quot;/signin/&quot;).permitAll()\n                .and()\n                .authorizeHttpRequests().requestMatchers(&quot;/api/search/&quot;, &quot;/api/profile/&quot;, &quot;/signout/&quot;).authenticated()\n                .and()\n                .sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                .and()\n                .authenticationProvider(authenticationProvider())\n                .addFilterBefore(jwtAuthFilter, UsernamePasswordAuthenticationFilter.class).build();\n                //telling spring boot to use my own class JwtAuthFilter first before using your filter with username and password\n\n    }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/F98wJ.png\" rel=\"nofollow noreferrer\">IDE is generating errors for csrf(), authorizeHttpRequests(), sessionManagement()</a></p>\n<ul>\n<li>can I just remove csrf? I have a frontend react app connecting with my Spring Boot backend.</li>\n<li>can I use authorizeRequests() instead of authorizeHttpRequests()</li>\n<li>what should I use instead sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)</li>\n</ul>\n"},{"tags":["java","android","c++","android-ndk","dalvik"],"comments":[{"owner":{"account_id":5876047,"reputation":27265,"user_id":4626831,"accept_rate":79,"display_name":"N J"},"score":0,"creation_date":1496661948,"post_id":44367855,"comment_id":75736784,"body_markdown":"do some googling, show your efforts.......","body":"do some googling, show your efforts......."},{"owner":{"account_id":283421,"reputation":2419,"user_id":580908,"accept_rate":59,"display_name":"Swapnil"},"score":1,"creation_date":1496663726,"post_id":44367855,"comment_id":75737646,"body_markdown":"you need to expand your question bit few parts of the question are confusing. also add little explanation about your research it will make others easy to understand in which direction you are going.","body":"you need to expand your question bit few parts of the question are confusing. also add little explanation about your research it will make others easy to understand in which direction you are going."}],"answers":[{"tags":[],"owner":{"account_id":3275159,"reputation":2119,"user_id":2757447,"display_name":"Taier"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691069736,"creation_date":1496665083,"answer_id":44368786,"question_id":44367855,"body_markdown":"**Please, do some research.**\r\n\r\nBasically yes, almost all non native solutions use some kind of VMs. For example Xamarin use **MonoVM** for Android platform. The C# code is compiled into CIL, which is executed by the Mono execution environment. This execution environment is run side by side with the Java Virtual Machine, which means the applications are not executed the same as a native application, however, they are executed in an equivalent way. This means that the performance is tied to MonoVMs implementation.\r\n\r\n**MonoVM** is packaged with the application, which means that Xamarin Platform applications can be installed in the same way as a native application, without any additional installs. \r\n","title":"How do I run C/C++ applications on Android?","body":"<p><strong>Please, do some research.</strong></p>\n<p>Basically yes, almost all non native solutions use some kind of VMs. For example Xamarin use <strong>MonoVM</strong> for Android platform. The C# code is compiled into CIL, which is executed by the Mono execution environment. This execution environment is run side by side with the Java Virtual Machine, which means the applications are not executed the same as a native application, however, they are executed in an equivalent way. This means that the performance is tied to MonoVMs implementation.</p>\n<p><strong>MonoVM</strong> is packaged with the application, which means that Xamarin Platform applications can be installed in the same way as a native application, without any additional installs.</p>\n"}],"owner":{"account_id":11048653,"reputation":1,"user_id":8113860,"display_name":"XagborZ"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1691069736,"creation_date":1496661831,"question_id":44367855,"body_markdown":"How do I compile and run applications written in C/C++ and under NDK on Android OS?? \r\n\r\nDoes the application compile and run in Dalvik or ART? \r\nOr independent is that VM?? \r\n\r\nIn the case of programs written in other languages, how is it? \r\nFor example (C# in Xamarin) or (Delphi in Firemonkey) or (Basic) or (Python)? Thanks a lot for my questions and answers.","title":"How do I run C/C++ applications on Android?","body":"<p>How do I compile and run applications written in C/C++ and under NDK on Android OS??</p>\n<p>Does the application compile and run in Dalvik or ART?\nOr independent is that VM??</p>\n<p>In the case of programs written in other languages, how is it?\nFor example (C# in Xamarin) or (Delphi in Firemonkey) or (Basic) or (Python)? Thanks a lot for my questions and answers.</p>\n"},{"tags":["java","unit-testing","junit","mockito","junit-jupiter"],"answers":[{"tags":[],"owner":{"account_id":262239,"reputation":17463,"user_id":546967,"accept_rate":88,"display_name":"Martin Devillers"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1621628860,"creation_date":1621628860,"answer_id":67643496,"question_id":67643495,"body_markdown":"You can avoid this check at the test-level by resetting the mock with the stub that&#39;s not being called. This is a bit of a work around, but it&#39;ll allow you to pass your test without having to make the mock lenient for your entire test class or removing the mock entirely from your setup method. \r\n\r\nTo reset your `barDependency` mock, add the following line of code to *the end of* your test that is failing with a `UnnecessaryStubbingException`.\r\n```\r\nMockito.reset(barDependency);\r\n```\r\n\r\nIf *none* of the stubs on `barDependency` are being used, you can also place this line at the beginning of your test with your other arrangements, which is a little cleaner. Or alternately, put it at the top of your test method and then setup the stubs you *do* need. This essentially overrides whatever is being setup in your generic setup method.","title":"Mockito throws UnnecessaryStubbingException for stub defined in generic @BeforeEach setup method","body":"<p>You can avoid this check at the test-level by resetting the mock with the stub that's not being called. This is a bit of a work around, but it'll allow you to pass your test without having to make the mock lenient for your entire test class or removing the mock entirely from your setup method.</p>\n<p>To reset your <code>barDependency</code> mock, add the following line of code to <em>the end of</em> your test that is failing with a <code>UnnecessaryStubbingException</code>.</p>\n<pre><code>Mockito.reset(barDependency);\n</code></pre>\n<p>If <em>none</em> of the stubs on <code>barDependency</code> are being used, you can also place this line at the beginning of your test with your other arrangements, which is a little cleaner. Or alternately, put it at the top of your test method and then setup the stubs you <em>do</em> need. This essentially overrides whatever is being setup in your generic setup method.</p>\n"},{"comments":[{"owner":{"account_id":4798052,"reputation":1254,"user_id":3875382,"accept_rate":50,"display_name":"Jason Winnebeck"},"score":4,"creation_date":1650570883,"post_id":70608751,"comment_id":127156433,"body_markdown":"I had to use lenient as well. I see the documentation, I don&#39;t understand why it doesn&#39;t work but I&#39;m using mockito 4.0.0 and JUnit 5.8.2 and MockitoExtension and it does not matter if there&#39;s another test that uses the stub, EVERY test must use the stub or it fails.","body":"I had to use lenient as well. I see the documentation, I don&#39;t understand why it doesn&#39;t work but I&#39;m using mockito 4.0.0 and JUnit 5.8.2 and MockitoExtension and it does not matter if there&#39;s another test that uses the stub, EVERY test must use the stub or it fails."},{"owner":{"account_id":262239,"reputation":17463,"user_id":546967,"accept_rate":88,"display_name":"Martin Devillers"},"score":0,"creation_date":1661959572,"post_id":70608751,"comment_id":129896694,"body_markdown":"Like I mentioned in the question this approach will disable strictness in all the tests. If this acceptable for your use case then that&#39;s ok, but in my scenario I only wanted to disable this check for one specific test. It&#39;s interesting that Mockito documentation says it should be lenient by default for stubs defined in a &#39;setup&#39; method-- I have never observed Mockito to actually be that intelligent. In my projects Mockito treats stubs the same way regardless if they&#39;re defined in a test method or setup method.","body":"Like I mentioned in the question this approach will disable strictness in all the tests. If this acceptable for your use case then that&#39;s ok, but in my scenario I only wanted to disable this check for one specific test. It&#39;s interesting that Mockito documentation says it should be lenient by default for stubs defined in a &#39;setup&#39; method-- I have never observed Mockito to actually be that intelligent. In my projects Mockito treats stubs the same way regardless if they&#39;re defined in a test method or setup method."}],"tags":[],"owner":{"account_id":63165,"reputation":2268,"user_id":187148,"display_name":"Bruno Medeiros"},"comment_count":2,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1641479674,"creation_date":1641479674,"answer_id":70608751,"question_id":67643495,"body_markdown":"You can also use lenient in the code of your `@BeforeEach`, like this:\r\n\r\n    @BeforeEach\r\n    public void setup() {\r\n        lenient().when(barDependency.leftBar(any())).thenReturn(new Bar());\r\n        lenient().when(barDependency.rightBar(any())).thenReturn(new Bar());\r\n    }\r\n\r\nThis should not be necessary, based on this doc in the `UnnecessaryStubbingException`:\r\n\r\n&gt; Mockito JUnit Runner triggers UnnecessaryStubbingException only when none of the test methods use the stubbings. This means that it is ok to put default stubbing in a &#39;setup&#39; method or in test class constructor. That default stubbing needs to be used at least once by one of the test methods.","title":"Mockito throws UnnecessaryStubbingException for stub defined in generic @BeforeEach setup method","body":"<p>You can also use lenient in the code of your <code>@BeforeEach</code>, like this:</p>\n<pre><code>@BeforeEach\npublic void setup() {\n    lenient().when(barDependency.leftBar(any())).thenReturn(new Bar());\n    lenient().when(barDependency.rightBar(any())).thenReturn(new Bar());\n}\n</code></pre>\n<p>This should not be necessary, based on this doc in the <code>UnnecessaryStubbingException</code>:</p>\n<blockquote>\n<p>Mockito JUnit Runner triggers UnnecessaryStubbingException only when none of the test methods use the stubbings. This means that it is ok to put default stubbing in a 'setup' method or in test class constructor. That default stubbing needs to be used at least once by one of the test methods.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1321584,"reputation":2570,"user_id":1267295,"accept_rate":77,"display_name":"Rapti"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1691069697,"creation_date":1691069697,"answer_id":76828616,"question_id":67643495,"body_markdown":"&gt; I&#39;m aware there&#39;s a `lenient` option in Mockito, but that&#39;ll disable the\r\n&gt; check for the *entire* class/project.\r\n&gt; \r\n&gt; My question is: how do I disable this strictness **for one specific** unit\r\n&gt; test?\r\n\r\nYou can, in fact, apply the `lenient` option to a single test:\r\n\r\n    @Test\r\n    @MockitoSettings(strictness = Strictness.LENIENT)\r\n    public void myTest() {\r\n        // ...\r\n    }","title":"Mockito throws UnnecessaryStubbingException for stub defined in generic @BeforeEach setup method","body":"<blockquote>\n<p>I'm aware there's a <code>lenient</code> option in Mockito, but that'll disable the\ncheck for the <em>entire</em> class/project.</p>\n<p>My question is: how do I disable this strictness <strong>for one specific</strong> unit\ntest?</p>\n</blockquote>\n<p>You can, in fact, apply the <code>lenient</code> option to a single test:</p>\n<pre><code>@Test\n@MockitoSettings(strictness = Strictness.LENIENT)\npublic void myTest() {\n    // ...\n}\n</code></pre>\n"}],"owner":{"account_id":262239,"reputation":17463,"user_id":546967,"accept_rate":88,"display_name":"Martin Devillers"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10383,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":67643496,"answer_count":3,"score":12,"last_activity_date":1691069697,"creation_date":1621628860,"question_id":67643495,"body_markdown":"I have a unit test class where my unit under test is dependent on another class. The dependency is mocked using Mockito and then setup with a generic stub that&#39;s run before every unit test, using JUnit&#39;s `@BeforeEach` annotation. See the below pseudo-code.\r\n\r\n```\r\n@ExtendWith(MockitoExtension.class)\r\npublic class FooFactoryTest {\r\n\r\n    @Mock\r\n    private BarDependency barDependency;\r\n\r\n    @InjectMocks\r\n    private FooFactory unitUnderTest;\r\n\r\n    @BeforeEach\r\n    public void setup() {\r\n        when(barDependency.leftBar(any())).thenReturn(new Bar());\r\n        when(barDependency.rightBar(any())).thenReturn(new Bar());\r\n    }\r\n\r\n   ... many tests ...\r\n\r\n```\r\n\r\nThis setup works perfectly for 9 of my 10 unit tests. Unfortunately one of my tests is failing with the following error:\r\n\r\n```\r\norg.mockito.exceptions.misusing.UnnecessaryStubbingException: \r\nUnnecessary stubbings detected.\r\nClean &amp; maintainable test code requires zero unnecessary code.\r\nFollowing stubbings are unnecessary (click to navigate to relevant line of code):\r\n  1. -&gt; at nl.devillers.mockito.FooFactoryTest.setup(FooFactoryTest.java:69)\r\nPlease remove unnecessary stubbings or use &#39;lenient&#39; strictness. More info: javadoc for UnnecessaryStubbingException class.\r\n``` \r\n\r\nNow, I understand the error and why it&#39;s thrown, because in that specific test my unit under test short-circuits early and doesn&#39;t hit all the stubs that have been setup. I&#39;m aware there&#39;s a `lenient` option in Mockito, but that&#39;ll disable the check for the *entire* class/project.\r\n\r\nMy question is: how do I disable this strictness **for one specific** unit test?\r\n\r\nAgain: I do *not* want to disable the strictness at the class or project level, since I think it&#39;s valuable check. I also do *not* want to move my setup code to the tests that do need the stubs, because then I have to duplicate the setup code nine times. In this case I just want to disable or skip the check for this specific test.","title":"Mockito throws UnnecessaryStubbingException for stub defined in generic @BeforeEach setup method","body":"<p>I have a unit test class where my unit under test is dependent on another class. The dependency is mocked using Mockito and then setup with a generic stub that's run before every unit test, using JUnit's <code>@BeforeEach</code> annotation. See the below pseudo-code.</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\npublic class FooFactoryTest {\n\n    @Mock\n    private BarDependency barDependency;\n\n    @InjectMocks\n    private FooFactory unitUnderTest;\n\n    @BeforeEach\n    public void setup() {\n        when(barDependency.leftBar(any())).thenReturn(new Bar());\n        when(barDependency.rightBar(any())).thenReturn(new Bar());\n    }\n\n   ... many tests ...\n\n</code></pre>\n<p>This setup works perfectly for 9 of my 10 unit tests. Unfortunately one of my tests is failing with the following error:</p>\n<pre><code>org.mockito.exceptions.misusing.UnnecessaryStubbingException: \nUnnecessary stubbings detected.\nClean &amp; maintainable test code requires zero unnecessary code.\nFollowing stubbings are unnecessary (click to navigate to relevant line of code):\n  1. -&gt; at nl.devillers.mockito.FooFactoryTest.setup(FooFactoryTest.java:69)\nPlease remove unnecessary stubbings or use 'lenient' strictness. More info: javadoc for UnnecessaryStubbingException class.\n</code></pre>\n<p>Now, I understand the error and why it's thrown, because in that specific test my unit under test short-circuits early and doesn't hit all the stubs that have been setup. I'm aware there's a <code>lenient</code> option in Mockito, but that'll disable the check for the <em>entire</em> class/project.</p>\n<p>My question is: how do I disable this strictness <strong>for one specific</strong> unit test?</p>\n<p>Again: I do <em>not</em> want to disable the strictness at the class or project level, since I think it's valuable check. I also do <em>not</em> want to move my setup code to the tests that do need the stubs, because then I have to duplicate the setup code nine times. In this case I just want to disable or skip the check for this specific test.</p>\n"},{"tags":["java","if-statement","random","while-loop"],"comments":[{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":1,"creation_date":1691001863,"post_id":76822694,"comment_id":135432971,"body_markdown":"Hello, welcome to Stack Overflow! Please, [read this](https://stackoverflow.com/help/minimal-reproducible-example) and then edit your question.","body":"Hello, welcome to Stack Overflow! Please, <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">read this</a> and then edit your question."},{"owner":{"account_id":2119809,"reputation":50969,"user_id":1883316,"display_name":"Tim Roberts"},"score":0,"creation_date":1691002249,"post_id":76822694,"comment_id":135433049,"body_markdown":"One easy way is to keep a &quot;stack&quot; of all the moves.  Push each position on the stack.  Then, when you need to back up, you just pop the last position.  That&#39;s the way &quot;undo&quot; is implemented.","body":"One easy way is to keep a &quot;stack&quot; of all the moves.  Push each position on the stack.  Then, when you need to back up, you just pop the last position.  That&#39;s the way &quot;undo&quot; is implemented."},{"owner":{"account_id":25560053,"reputation":1,"user_id":19342805,"display_name":"Kareem Nabil"},"score":0,"creation_date":1691002386,"post_id":76822694,"comment_id":135433072,"body_markdown":"Sorry, can you further explain what a &quot;Stack&quot; is. I&#39;m still a beginner","body":"Sorry, can you further explain what a &quot;Stack&quot; is. I&#39;m still a beginner"},{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":1,"creation_date":1691003313,"post_id":76822694,"comment_id":135433243,"body_markdown":"Why are you always scanning input in the loop if it was not even used? And why are you checking the dice if you always do the same thing?","body":"Why are you always scanning input in the loop if it was not even used? And why are you checking the dice if you always do the same thing?"},{"owner":{"account_id":25560053,"reputation":1,"user_id":19342805,"display_name":"Kareem Nabil"},"score":0,"creation_date":1691004160,"post_id":76822694,"comment_id":135433385,"body_markdown":"@DiegoBorba I am scanning the input so that the dice wouldn&#39;t roll again unless the user inputs something. And Thanks for pointing out that checking the dice is basically useless","body":"@DiegoBorba I am scanning the input so that the dice wouldn&#39;t roll again unless the user inputs something. And Thanks for pointing out that checking the dice is basically useless"},{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1691004332,"post_id":76822694,"comment_id":135433422,"body_markdown":"So the dice must roll until the position is exactly 100?","body":"So the dice must roll until the position is exactly 100?"},{"owner":{"account_id":25560053,"reputation":1,"user_id":19342805,"display_name":"Kareem Nabil"},"score":0,"creation_date":1691004550,"post_id":76822694,"comment_id":135433479,"body_markdown":"YES and if it goes above 100 it it should go back to the position before the last dice throw (e.g. If I&#39;m on 98 and I roll a 4 and go to 102 I must return to 98 and keep rolling till I reach 100 exactly)","body":"YES and if it goes above 100 it it should go back to the position before the last dice throw (e.g. If I&#39;m on 98 and I roll a 4 and go to 102 I must return to 98 and keep rolling till I reach 100 exactly)"}],"answers":[{"tags":[],"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691006637,"creation_date":1691005523,"answer_id":76823066,"question_id":76822694,"body_markdown":"You said:\r\n\r\n&gt; I am still new...\r\n\r\nSo I&#39;ll take advantage of the answer to show you some good programming practices:\r\n\r\n 1. Variables always **begins with lowercase**.\r\n 2. Always close `Scanner`! Will previne a [memory leak in your program][1].\r\n 3. You can use [`Switch Statement`][2] instead of many `if else` cases.\r\n\r\nConsidering what we said:\r\n\r\n&gt; Why are you always scanning input in the loop if it was not even used? And why are you checking the dice if you always do the same thing? - [Diego Borba][3]\r\n\r\n&gt; @DiegoBorba I am scanning the input so that the dice wouldn&#39;t roll again unless the user inputs something. And Thanks for pointing out that checking the dice is basically useless - [Kareem Nabil][4]\r\n\r\nYou don&#39;t need to check the dice, so both the `if/else` and the `switch` are expendable.\r\n\r\nSo, you can do this way:\r\n\r\n```java\r\n// Variables begins with lowercase\r\nScanner scan = new Scanner(System.in);\r\nRandom random = new Random();\r\nint position1 = 0;\r\n\r\n// Start input\r\nSystem.out.println(&quot;Type Start&quot;);\r\nString input = scan.nextLine();\r\nif (input.equalsIgnoreCase(&quot;start&quot;)) {\r\n\t//Position validation\r\n\twhile (position1 != 100) {\r\n\t\t// Display position\r\n\t\tSystem.out.println(position1);\r\n\t\t\r\n\t\t// Print player turn\r\n\t\tSystem.out.println(&quot;player 1 turn &quot;);\r\n\t\t\r\n\t\t// It is not necessary to assign the value to the variable\r\n\t\tscan.nextLine();\r\n\t\t\r\n\t\t// Roll the dice\r\n\t\tint dice1 = random.nextInt(6) + 1;\r\n\t\t\r\n\t\t// Verify dice value\r\n\t\tif(dice1 &lt;= 100 - position1) {\r\n\t\t\t// You can use &quot;+=&quot; operator\r\n\t\t\tposition1+= dice1;\r\n\t\t}\r\n\t}\r\n\t\r\n\t// When the loop ends, it means that position is equals 100\r\n\tSystem.out.println(&quot;U Win&quot;);\r\n}\r\n\r\n// Always close Scanner!\r\nscan.close();\r\n```\r\n\r\nNotice that:\r\n\r\n - I used [`equalsIgnoreCase()`][5] instead of [`equals()`][6], becouse the `equals()` method **forces the two elements to be exactly the same**, so, if you input `&quot;Start&quot;` or `&quot;START&quot;` it will `return false`.\r\n - I used [`nextLine()`][7] instead of [`next()`][8] becouse [**the `next()` method leave characters behind**][9].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/66714525/do-i-need-to-close-a-scanner-object-everytime-i-use-it\r\n  [2]: https://docs.oracle.com/javase/tutorial/java/nutsandbolts/switch.html\r\n  [3]: https://stackoverflow.com/users/21144042/diego-borba\r\n  [4]: https://stackoverflow.com/users/19342805/kareem-nabil\r\n  [5]: https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#equalsIgnoreCase-java.lang.String-\r\n  [6]: https://docs.oracle.com/javase%2F7%2Fdocs%2Fapi%2F%2F/java/lang/Object.html#equals(java.lang.Object)\r\n  [7]: https://docs.oracle.com/javase/8/docs/api/java/util/Scanner.html#nextLine--\r\n  [8]: https://docs.oracle.com/javase/8/docs/api/java/util/Scanner.html#next--\r\n  [9]: https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo","title":"How to save the last RANDOM generated number in a loop","body":"<p>You said:</p>\n<blockquote>\n<p>I am still new...</p>\n</blockquote>\n<p>So I'll take advantage of the answer to show you some good programming practices:</p>\n<ol>\n<li>Variables always <strong>begins with lowercase</strong>.</li>\n<li>Always close <code>Scanner</code>! Will previne a <a href=\"https://stackoverflow.com/questions/66714525/do-i-need-to-close-a-scanner-object-everytime-i-use-it\">memory leak in your program</a>.</li>\n<li>You can use <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/switch.html\" rel=\"nofollow noreferrer\"><code>Switch Statement</code></a> instead of many <code>if else</code> cases.</li>\n</ol>\n<p>Considering what we said:</p>\n<blockquote>\n<p>Why are you always scanning input in the loop if it was not even used? And why are you checking the dice if you always do the same thing? - <a href=\"https://stackoverflow.com/users/21144042/diego-borba\">Diego Borba</a></p>\n</blockquote>\n<blockquote>\n<p>@DiegoBorba I am scanning the input so that the dice wouldn't roll again unless the user inputs something. And Thanks for pointing out that checking the dice is basically useless - <a href=\"https://stackoverflow.com/users/19342805/kareem-nabil\">Kareem Nabil</a></p>\n</blockquote>\n<p>You don't need to check the dice, so both the <code>if/else</code> and the <code>switch</code> are expendable.</p>\n<p>So, you can do this way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Variables begins with lowercase\nScanner scan = new Scanner(System.in);\nRandom random = new Random();\nint position1 = 0;\n\n// Start input\nSystem.out.println(&quot;Type Start&quot;);\nString input = scan.nextLine();\nif (input.equalsIgnoreCase(&quot;start&quot;)) {\n    //Position validation\n    while (position1 != 100) {\n        // Display position\n        System.out.println(position1);\n        \n        // Print player turn\n        System.out.println(&quot;player 1 turn &quot;);\n        \n        // It is not necessary to assign the value to the variable\n        scan.nextLine();\n        \n        // Roll the dice\n        int dice1 = random.nextInt(6) + 1;\n        \n        // Verify dice value\n        if(dice1 &lt;= 100 - position1) {\n            // You can use &quot;+=&quot; operator\n            position1+= dice1;\n        }\n    }\n    \n    // When the loop ends, it means that position is equals 100\n    System.out.println(&quot;U Win&quot;);\n}\n\n// Always close Scanner!\nscan.close();\n</code></pre>\n<p>Notice that:</p>\n<ul>\n<li>I used <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#equalsIgnoreCase-java.lang.String-\" rel=\"nofollow noreferrer\"><code>equalsIgnoreCase()</code></a> instead of <a href=\"https://docs.oracle.com/javase%2F7%2Fdocs%2Fapi%2F%2F/java/lang/Object.html#equals(java.lang.Object)\" rel=\"nofollow noreferrer\"><code>equals()</code></a>, becouse the <code>equals()</code> method <strong>forces the two elements to be exactly the same</strong>, so, if you input <code>&quot;Start&quot;</code> or <code>&quot;START&quot;</code> it will <code>return false</code>.</li>\n<li>I used <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Scanner.html#nextLine--\" rel=\"nofollow noreferrer\"><code>nextLine()</code></a> instead of <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Scanner.html#next--\" rel=\"nofollow noreferrer\"><code>next()</code></a> becouse <a href=\"https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo\"><strong>the <code>next()</code> method leave characters behind</strong></a>.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691069440,"creation_date":1691069440,"answer_id":76828583,"question_id":76822694,"body_markdown":"It looks as if you are planning to do this for multiple players, so probably you should refactor the whole code into something reusable, where you provide the result of the dice-throw from outside.:\r\n\r\n``` lang-java\r\n/**\r\n * Handles a players score for one game.\r\n * Create a new instance per game for every player.\r\n */\r\nclass PlayerScore {\r\n  private int score = 100;\r\n\r\n  /** \r\n   * Returns the players current score.\r\n   * @return the players current score\r\n   */\r\n  public int getScore() {\r\n    return score;\r\n  }\r\n\r\n  /**\r\n   * Handles the score after player rolled the dice.\r\n   * @param dice the value of the thrown dice\r\n   * @return {@code true} if the player can continue to play, {@code false} otherwise.\r\n   */\r\n  public boolean rollDice(int dice) {\r\n    if ((dice &lt; 1) || (dice &gt; 6)) {\r\n      throw new IllegalArgumentException(&quot;invalid dice value: &quot; + dice);\r\n    } \r\n    if (score + dice &gt; 100) {\r\n      return false;\r\n    }\r\n    score += dice;\r\n    return (score &lt; 100); // don&#39;t let the player continue if he reached the goal\r\n  }\r\n\r\n  /**\r\n   * Checks if player has won. \r\n   * A {@code false} can also mean that the game is still going on.\r\n   * @return {@code true} if the player has won, {@code false} otherwise.\r\n   */\r\n  public boolean isWinner() {\r\n    return score == 100;\r\n  }\r\n}\r\n```\r\n\r\nWith this you can create a new `PlayerScore` instance for each player and game(!), perform the dice rolls with the call and check if the player has won or may continue otherwise. I leave this as exercise to you ;-)","title":"How to save the last RANDOM generated number in a loop","body":"<p>It looks as if you are planning to do this for multiple players, so probably you should refactor the whole code into something reusable, where you provide the result of the dice-throw from outside.:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Handles a players score for one game.\n * Create a new instance per game for every player.\n */\nclass PlayerScore {\n  private int score = 100;\n\n  /** \n   * Returns the players current score.\n   * @return the players current score\n   */\n  public int getScore() {\n    return score;\n  }\n\n  /**\n   * Handles the score after player rolled the dice.\n   * @param dice the value of the thrown dice\n   * @return {@code true} if the player can continue to play, {@code false} otherwise.\n   */\n  public boolean rollDice(int dice) {\n    if ((dice &lt; 1) || (dice &gt; 6)) {\n      throw new IllegalArgumentException(&quot;invalid dice value: &quot; + dice);\n    } \n    if (score + dice &gt; 100) {\n      return false;\n    }\n    score += dice;\n    return (score &lt; 100); // don't let the player continue if he reached the goal\n  }\n\n  /**\n   * Checks if player has won. \n   * A {@code false} can also mean that the game is still going on.\n   * @return {@code true} if the player has won, {@code false} otherwise.\n   */\n  public boolean isWinner() {\n    return score == 100;\n  }\n}\n</code></pre>\n<p>With this you can create a new <code>PlayerScore</code> instance for each player and game(!), perform the dice rolls with the call and check if the player has won or may continue otherwise. I leave this as exercise to you ;-)</p>\n"}],"owner":{"account_id":25560053,"reputation":1,"user_id":19342805,"display_name":"Kareem Nabil"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1691069440,"creation_date":1691001772,"question_id":76822694,"body_markdown":"I am trying to make the user go back to the position he was on if he gets higher than 100.\r\n\r\nSo if he was on 97 and rolls a 5 on Dice1 and becomes 102 I want the variable position1 to go back to 97.\r\n\r\nI am still new so it might just be a stupid logic problem also my variable names are not industry standard so im still working on this.  \r\n\r\n```java\r\nScanner Scan = new Scanner(System.in);\r\nRandom random = new Random();\r\nint Position1 = 0;\r\n// int position2 = 0;\r\n\r\nSystem.out.println(&quot;Type Start&quot;);\r\nString Input = Scan.next();\r\n\r\nif (Input.equals(&quot;start&quot;)) {\r\n\r\n\twhile (Position1 != 100) {\r\n\r\n\t\tint Dice1 = random.nextInt(1, 7);\r\n\r\n\t\tif (Dice1 == 6) {\r\n\t\t\tPosition1 = Position1 + Dice1;\r\n\t\t\tSystem.out.println(Position1);\r\n\t\t\tSystem.out.println(&quot;player 1 turn &quot;);\r\n\t\t\tInput = Scan.next();\r\n\r\n\t\t} else if (Dice1 == 5) {\r\n\t\t\tPosition1 = Position1 + Dice1;\r\n\t\t\tSystem.out.println(Position1);\r\n\t\t\tSystem.out.println(&quot;player l turn&quot;);\r\n\t\t\tInput = Scan.next();\r\n\r\n\t\t} else if (Dice1 == 4) {\r\n\t\t\tPosition1 = Position1 + Dice1;\r\n\t\t\tSystem.out.println(Position1);\r\n\t\t\tSystem.out.println(&quot;player 1 turn &quot;);\r\n\t\t\tInput = Scan.next();\r\n\t\t} else if (Dice1 == 5) {\r\n\t\t\tPosition1 = Position1 + Dice1;\r\n\t\t\tSystem.out.println(Position1);\r\n\t\t\tSystem.out.println(&quot;player l turn&quot;);\r\n\t\t\tInput = Scan.next();\r\n\r\n\t\t} else if (Dice1 == 4) {\r\n\t\t\tPosition1 = Position1 + Dice1;\r\n\t\t\tSystem.out.println(Position1);\r\n\t\t\tSystem.out.println(&quot;player 1 turn &quot;);\r\n\t\t\tInput = Scan.next();\r\n\r\n\t\t} else if (Dice1 == 3) {\r\n\t\t\tPosition1 = Position1 + Dice1;\r\n\t\t\tSystem.out.println(Position1);\r\n\t\t\tSystem.out.println(&quot;Player 1 turn&quot;);\r\n\t\t\tInput = Scan.next();\r\n\r\n\t\t} else if (Dice1 == 2) {\r\n\t\t\tPosition1 = Position1 + Dice1;\r\n\t\t\tSystem.out.println(Position1);\r\n\t\t\tSystem.out.println(&quot;player 1 turn&quot;);\r\n\t\t\tInput = Scan.next();\r\n\r\n\t\t} else if (Dice1 == 1) {\r\n\t\t\tPosition1 = Position1 + Dice1;\r\n\t\t\tSystem.out.println(Position1);\r\n\t\t\tSystem.out.println(&quot;player 1 turn &quot;);\r\n\t\t\tInput = Scan.next();\r\n\t\t}\r\n\t\tif (Position1 &gt; 100) {\r\n\t\t\tPosition1 = Position1 - Dice1;\r\n\t\t} else if (Position1 == 100) {\r\n\t\t\tSystem.out.println(&quot;U Win&quot;);\r\n\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\t\t","title":"How to save the last RANDOM generated number in a loop","body":"<p>I am trying to make the user go back to the position he was on if he gets higher than 100.</p>\n<p>So if he was on 97 and rolls a 5 on Dice1 and becomes 102 I want the variable position1 to go back to 97.</p>\n<p>I am still new so it might just be a stupid logic problem also my variable names are not industry standard so im still working on this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Scanner Scan = new Scanner(System.in);\nRandom random = new Random();\nint Position1 = 0;\n// int position2 = 0;\n\nSystem.out.println(&quot;Type Start&quot;);\nString Input = Scan.next();\n\nif (Input.equals(&quot;start&quot;)) {\n\n    while (Position1 != 100) {\n\n        int Dice1 = random.nextInt(1, 7);\n\n        if (Dice1 == 6) {\n            Position1 = Position1 + Dice1;\n            System.out.println(Position1);\n            System.out.println(&quot;player 1 turn &quot;);\n            Input = Scan.next();\n\n        } else if (Dice1 == 5) {\n            Position1 = Position1 + Dice1;\n            System.out.println(Position1);\n            System.out.println(&quot;player l turn&quot;);\n            Input = Scan.next();\n\n        } else if (Dice1 == 4) {\n            Position1 = Position1 + Dice1;\n            System.out.println(Position1);\n            System.out.println(&quot;player 1 turn &quot;);\n            Input = Scan.next();\n        } else if (Dice1 == 5) {\n            Position1 = Position1 + Dice1;\n            System.out.println(Position1);\n            System.out.println(&quot;player l turn&quot;);\n            Input = Scan.next();\n\n        } else if (Dice1 == 4) {\n            Position1 = Position1 + Dice1;\n            System.out.println(Position1);\n            System.out.println(&quot;player 1 turn &quot;);\n            Input = Scan.next();\n\n        } else if (Dice1 == 3) {\n            Position1 = Position1 + Dice1;\n            System.out.println(Position1);\n            System.out.println(&quot;Player 1 turn&quot;);\n            Input = Scan.next();\n\n        } else if (Dice1 == 2) {\n            Position1 = Position1 + Dice1;\n            System.out.println(Position1);\n            System.out.println(&quot;player 1 turn&quot;);\n            Input = Scan.next();\n\n        } else if (Dice1 == 1) {\n            Position1 = Position1 + Dice1;\n            System.out.println(Position1);\n            System.out.println(&quot;player 1 turn &quot;);\n            Input = Scan.next();\n        }\n        if (Position1 &gt; 100) {\n            Position1 = Position1 - Dice1;\n        } else if (Position1 == 100) {\n            System.out.println(&quot;U Win&quot;);\n\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","networking","sockets","port"],"comments":[{"owner":{"account_id":15123906,"reputation":1,"user_id":10913906,"display_name":"Cezar Terzian"},"score":0,"creation_date":1590162064,"post_id":2675362,"comment_id":111859971,"body_markdown":"if the port is occupied by another software the code will throw an IOException","body":"if the port is occupied by another software the code will throw an IOException"}],"answers":[{"comments":[{"owner":{"account_id":76497,"reputation":22183,"user_id":218956,"accept_rate":86,"display_name":"jonescb"},"score":0,"creation_date":1271769734,"post_id":2675376,"comment_id":2694178,"body_markdown":"Don&#39;t know who voted you down, but I voted you back up.  You could set up a recursive function to tries to setup the ServerSocket, and if you get an IOException (or whatever it is), you try again until it successfully gets a port.","body":"Don&#39;t know who voted you down, but I voted you back up.  You could set up a recursive function to tries to setup the ServerSocket, and if you get an IOException (or whatever it is), you try again until it successfully gets a port."},{"owner":{"account_id":88863,"reputation":126169,"user_id":245549,"accept_rate":66,"display_name":"Roman"},"score":0,"creation_date":1271769777,"post_id":2675376,"comment_id":2694185,"body_markdown":"I thinks it&#39;s better to check if a port is available and then try to start listening to this port. It&#39;s does not seem to be elegant to start something and then find out that there are some problem and then try to solve these problems.","body":"I thinks it&#39;s better to check if a port is available and then try to start listening to this port. It&#39;s does not seem to be elegant to start something and then find out that there are some problem and then try to solve these problems."},{"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"score":2,"creation_date":1271780866,"post_id":2675376,"comment_id":2695788,"body_markdown":"@Roman well, yes, that would be better, except for the fact there is no a method to know if a port is available.  If `new ServerSocket(0)` is not working for your the alternative is this. I think there are 85% of possibilities you end up using my suggestion.","body":"@Roman well, yes, that would be better, except for the fact there is no a method to know if a port is available.  If <code>new ServerSocket(0)</code> is not working for your the alternative is this. I think there are 85% of possibilities you end up using my suggestion."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1574241369,"post_id":2675376,"comment_id":104157645,"body_markdown":"This code keeps opening and leaking `ServerSockets` forever and only retains the *last* one that succeeded. It needs a `break` statement.","body":"This code keeps opening and leaking <code>ServerSockets</code> forever and only retains the <i>last</i> one that succeeded. It needs a <code>break</code> statement."}],"tags":[],"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"comment_count":4,"down_vote_count":4,"up_vote_count":9,"is_accepted":false,"score":5,"last_activity_date":1271782184,"creation_date":1271769489,"answer_id":2675376,"question_id":2675362,"body_markdown":"If your server starts up, then that socket was not used. \r\n\r\n**EDIT**\r\n\r\nSomething like: \r\n\r\n   \r\n    ServerSocket s = null ;\r\n\r\n    try { \r\n        s = new ServerSocket( 0 ); \r\n    } catch( IOException ioe ){\r\n       for( int i = START; i &lt; END ; i++ ) try {\r\n            s = new ServerSocket( i );\r\n        } catch( IOException ioe ){}\r\n    }\r\n    // At this point if s is null we are helpless\r\n    if( s == null ) {\r\n        throw new IOException(\r\n           Strings.format(&quot;Unable to open server in port range(%d-%d)&quot;,START,END));\r\n    }\r\n\r\n\r\n\r\n","title":"How to find an available port?","body":"<p>If your server starts up, then that socket was not used. </p>\n\n<p><strong>EDIT</strong></p>\n\n<p>Something like: </p>\n\n<pre><code>ServerSocket s = null ;\n\ntry { \n    s = new ServerSocket( 0 ); \n} catch( IOException ioe ){\n   for( int i = START; i &lt; END ; i++ ) try {\n        s = new ServerSocket( i );\n    } catch( IOException ioe ){}\n}\n// At this point if s is null we are helpless\nif( s == null ) {\n    throw new IOException(\n       Strings.format(\"Unable to open server in port range(%d-%d)\",START,END));\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":161128,"reputation":443,"user_id":381673,"display_name":"OzgurH"},"score":14,"creation_date":1503567009,"post_id":2675399,"comment_id":78673587,"body_markdown":"+1. Since Wikipedia is not always the source of absolute truth/facts, I thought it may be useful to note that, the reference for that Wikipedia page comes from &quot;Internet Assigned Numbers Authority (IANA)&quot;s &quot;[Service Name and Transport Protocol Port Number Registry(https://www.iana.org/assignments/service-names-port-numbers/service-names-port-numbers.xhtml)]&quot; page, based on [RFC 6335 - Section 6](https://tools.ietf.org/html/rfc6335#section-6) (i.e. &quot;Solid&quot; reference in this case! :) ).","body":"+1. Since Wikipedia is not always the source of absolute truth/facts, I thought it may be useful to note that, the reference for that Wikipedia page comes from &quot;Internet Assigned Numbers Authority (IANA)&quot;s &quot;[Service Name and Transport Protocol Port Number Registry(<a href=\"https://www.iana.org/assignments/service-names-port-numbers/service-names-port-numbers.xhtml)]\" rel=\"nofollow noreferrer\">iana.org/assignments/service-names-port-numbers/&hellip;</a>&quot; page, based on <a href=\"https://tools.ietf.org/html/rfc6335#section-6\" rel=\"nofollow noreferrer\">RFC 6335 - Section 6</a> (i.e. &quot;Solid&quot; reference in this case! :) )."}],"tags":[],"owner":{"account_id":25991,"reputation":7957,"user_id":67316,"accept_rate":65,"display_name":"Andy Johnson"},"comment_count":1,"down_vote_count":1,"up_vote_count":38,"is_accepted":false,"score":37,"last_activity_date":1486025229,"creation_date":1271769684,"answer_id":2675399,"question_id":2675362,"body_markdown":"According to [Wikipedia][1], you should use ports `49152` to `65535` if you don&#39;t need a &#39;well known&#39; port.\r\n\r\nAFAIK the only way to determine wheter a port is in use is to try to open it.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Ephemeral_port","title":"How to find an available port?","body":"<p>According to <a href=\"http://en.wikipedia.org/wiki/Ephemeral_port\" rel=\"noreferrer\">Wikipedia</a>, you should use ports <code>49152</code> to <code>65535</code> if you don't need a 'well known' port.</p>\n\n<p>AFAIK the only way to determine wheter a port is in use is to try to open it.</p>\n"},{"comments":[{"owner":{"account_id":88863,"reputation":126169,"user_id":245549,"accept_rate":66,"display_name":"Roman"},"score":0,"creation_date":1271769909,"post_id":2675400,"comment_id":2694198,"body_markdown":"Yes, I think it&#39;s the most elegant solution but because of some reasons it does not work in my case. But I still need to find out what exactly is wrong.","body":"Yes, I think it&#39;s the most elegant solution but because of some reasons it does not work in my case. But I still need to find out what exactly is wrong."},{"owner":{"account_id":65544,"reputation":26923,"user_id":192801,"accept_rate":90,"display_name":"FrustratedWithFormsDesigner"},"score":1,"creation_date":1271770244,"post_id":2675400,"comment_id":2694236,"body_markdown":"@Roman: Why doesn&#39;t it work? Update your question to include this (or people will keep suggesting it) and explain why this solution fails for you.","body":"@Roman: Why doesn&#39;t it work? Update your question to include this (or people will keep suggesting it) and explain why this solution fails for you."}],"tags":[],"owner":{"account_id":27505,"reputation":32693,"user_id":72673,"accept_rate":72,"display_name":"Maurice Perry"},"comment_count":2,"down_vote_count":1,"up_vote_count":62,"is_accepted":false,"score":61,"last_activity_date":1271769698,"creation_date":1271769698,"answer_id":2675400,"question_id":2675362,"body_markdown":"If you pass 0 as the port number to the constructor of ServerSocket, It will allocate a port for you.","title":"How to find an available port?","body":"<p>If you pass 0 as the port number to the constructor of ServerSocket, It will allocate a port for you.</p>\n"},{"comments":[{"owner":{"account_id":185100,"reputation":3489,"user_id":421602,"accept_rate":40,"display_name":"vorburger"},"score":3,"creation_date":1345673399,"post_id":2675416,"comment_id":16142047,"body_markdown":"When using new ServerSocket(0), care should be taken to close it! Based on http://javasourcecode.org/html/open-source/eclipse/eclipse-3.5.2/org/eclipse/jdt/launching/SocketUtil.java.html, slightly adapted in my https://gist.github.com/3429822","body":"When using new ServerSocket(0), care should be taken to close it! Based on <a href=\"http://javasourcecode.org/html/open-source/eclipse/eclipse-3.5.2/org/eclipse/jdt/launching/SocketUtil.java.html\" rel=\"nofollow noreferrer\">javasourcecode.org/html/open-source/eclipse/eclipse-3.5.2/or&zwnj;&#8203;g/&hellip;</a>, slightly adapted in my <a href=\"https://gist.github.com/3429822\" rel=\"nofollow noreferrer\">gist.github.com/3429822</a>"},{"owner":{"account_id":8683,"reputation":3753,"user_id":15755,"display_name":"Graham Edgecombe"},"score":12,"creation_date":1346762990,"post_id":2675416,"comment_id":16442901,"body_markdown":"@vorburger, doing it in that manner is prone to race conditions. It&#39;s nicer to just listen on the server socket immediately, rather than open it to find a free port, close it again, and then open one again on the free port (by which time there is a small chance something else is now listening on that port.)","body":"@vorburger, doing it in that manner is prone to race conditions. It&#39;s nicer to just listen on the server socket immediately, rather than open it to find a free port, close it again, and then open one again on the free port (by which time there is a small chance something else is now listening on that port.)"},{"owner":{"account_id":185100,"reputation":3489,"user_id":421602,"accept_rate":40,"display_name":"vorburger"},"score":8,"creation_date":1347623095,"post_id":2675416,"comment_id":16700765,"body_markdown":"agreed, but it depends on the exact use case: In my case I needed to find a free port number to hand it into some API (say an embedded Jetty starter, for tests) - the respective API wants a socket number - not an already opened server socket.  So it depends.","body":"agreed, but it depends on the exact use case: In my case I needed to find a free port number to hand it into some API (say an embedded Jetty starter, for tests) - the respective API wants a socket number - not an already opened server socket.  So it depends."},{"owner":{"account_id":1547138,"reputation":3715,"user_id":1440433,"accept_rate":68,"display_name":"Joker_vD"},"score":4,"creation_date":1403683874,"post_id":2675416,"comment_id":37748735,"body_markdown":"@vorburger Reasonable APIs will accept zero as a valid port number to listen on, and then will tell you the actual port being listened on. Hovewer, there are not many reasonable APIs: many programs specifically test for 0 port being passed and refuse it (`ssh -D 127.0.0.0:0 ...`? Nope!), which is really frustrating. We had to patch quite a number of libraries/programs to make them of use to us.","body":"@vorburger Reasonable APIs will accept zero as a valid port number to listen on, and then will tell you the actual port being listened on. Hovewer, there are not many reasonable APIs: many programs specifically test for 0 port being passed and refuse it (<code>ssh -D 127.0.0.0:0 ...</code>? Nope!), which is really frustrating. We had to patch quite a number of libraries/programs to make them of use to us."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":2,"creation_date":1490175914,"post_id":2675416,"comment_id":72991164,"body_markdown":"@vorburger When using *any* port, care should be taken to close it. `new ServerSocket(0)` is not different in this respect. There is nothing whatsoever in your first link about this. Your second link merely exhibits poor practice. Once you&#39;ve constructed the `ServerSocket` you should *use* it, not *close* it and try to reuse the same port number. All that is a *complete waste of time,* as well as being vulnerable to timing-window problems.","body":"@vorburger When using <i>any</i> port, care should be taken to close it. <code>new ServerSocket(0)</code> is not different in this respect. There is nothing whatsoever in your first link about this. Your second link merely exhibits poor practice. Once you&#39;ve constructed the <code>ServerSocket</code> you should <i>use</i> it, not <i>close</i> it and try to reuse the same port number. All that is a <i>complete waste of time,</i> as well as being vulnerable to timing-window problems."},{"owner":{"account_id":8888855,"reputation":466,"user_id":6752464,"accept_rate":88,"display_name":"khm"},"score":1,"creation_date":1519329074,"post_id":2675416,"comment_id":84878775,"body_markdown":"If the server is listening on a random port like this, how does the client know which port to send to? I tried this, but realized that the Socket() constructor on the client side needs a specific port to send to.","body":"If the server is listening on a random port like this, how does the client know which port to send to? I tried this, but realized that the Socket() constructor on the client side needs a specific port to send to."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1574241138,"post_id":2675416,"comment_id":104157518,"body_markdown":"@khm It doesn&#39;t. That&#39;s why the *question* doesn&#39;t make sense. This answer answers the question, but the whole situation is untenable.","body":"@khm It doesn&#39;t. That&#39;s why the <i>question</i> doesn&#39;t make sense. This answer answers the question, but the whole situation is untenable."},{"owner":{"account_id":116234,"reputation":8075,"user_id":304874,"accept_rate":84,"display_name":"Graeme Moss"},"score":0,"creation_date":1592389771,"post_id":2675416,"comment_id":110405960,"body_markdown":"My use case is worse in that I know multiple JVMs will use the same code to find their own free port at the same time, and it seems there&#39;s some likelyhood in them picking the same port via port 0 (or I was very unlucky), increasing the chance of a race hazard during the time between closing the port and handing it to the API to be used.  Maybe picking a random number like @Serhii Bohutskyi suggests is better for me.","body":"My use case is worse in that I know multiple JVMs will use the same code to find their own free port at the same time, and it seems there&#39;s some likelyhood in them picking the same port via port 0 (or I was very unlucky), increasing the chance of a race hazard during the time between closing the port and handing it to the API to be used.  Maybe picking a random number like @Serhii Bohutskyi suggests is better for me."}],"tags":[],"owner":{"account_id":8683,"reputation":3753,"user_id":15755,"display_name":"Graham Edgecombe"},"comment_count":8,"down_vote_count":1,"up_vote_count":317,"is_accepted":true,"score":316,"last_activity_date":1412669710,"creation_date":1271769875,"answer_id":2675416,"question_id":2675362,"body_markdown":"If you don&#39;t mind the port used, specify a port of 0 to the [ServerSocket constructor][1] and it will listen on any free port.\r\n\r\n    ServerSocket s = new ServerSocket(0);\r\n    System.out.println(&quot;listening on port: &quot; + s.getLocalPort());\r\n\r\nIf you want to use a specific set of ports, then the easiest way is probably to iterate through them until one works. Something like this:\r\n\r\n    public ServerSocket create(int[] ports) throws IOException {\r\n        for (int port : ports) {\r\n            try {\r\n                return new ServerSocket(port);\r\n            } catch (IOException ex) {\r\n                continue; // try next port\r\n            }\r\n        }\r\n    \r\n        // if the program gets here, no port in the range was found\r\n        throw new IOException(&quot;no free port found&quot;);\r\n    }\r\n\r\nCould be used like so:\r\n\r\n    try {\r\n        ServerSocket s = create(new int[] { 3843, 4584, 4843 });\r\n        System.out.println(&quot;listening on port: &quot; + s.getLocalPort());\r\n    } catch (IOException ex) {\r\n        System.err.println(&quot;no available ports&quot;);\r\n    }\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/net/ServerSocket.html#ServerSocket%28int%29","title":"How to find an available port?","body":"<p>If you don't mind the port used, specify a port of 0 to the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/net/ServerSocket.html#ServerSocket%28int%29\" rel=\"noreferrer\">ServerSocket constructor</a> and it will listen on any free port.</p>\n\n<pre><code>ServerSocket s = new ServerSocket(0);\nSystem.out.println(\"listening on port: \" + s.getLocalPort());\n</code></pre>\n\n<p>If you want to use a specific set of ports, then the easiest way is probably to iterate through them until one works. Something like this:</p>\n\n<pre><code>public ServerSocket create(int[] ports) throws IOException {\n    for (int port : ports) {\n        try {\n            return new ServerSocket(port);\n        } catch (IOException ex) {\n            continue; // try next port\n        }\n    }\n\n    // if the program gets here, no port in the range was found\n    throw new IOException(\"no free port found\");\n}\n</code></pre>\n\n<p>Could be used like so:</p>\n\n<pre><code>try {\n    ServerSocket s = create(new int[] { 3843, 4584, 4843 });\n    System.out.println(\"listening on port: \" + s.getLocalPort());\n} catch (IOException ex) {\n    System.err.println(\"no available ports\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1596716269,"creation_date":1271769915,"answer_id":2675422,"question_id":2675362,"body_markdown":"See [ServerSocket](https://docs.oracle.com/javase/1.5.0/docs/api/java/net/ServerSocket.html#ServerSocket%28int%29):\r\n\r\n&gt; Creates a server socket, bound to the specified port. A port of 0 creates a socket on any free port. \r\n\r\n\r\n  [1]: http://java.sun.com/j2se/1.4.2/docs/api/java/net/ServerSocket.html#ServerSocket%28int%29","title":"How to find an available port?","body":"<p>See <a href=\"https://docs.oracle.com/javase/1.5.0/docs/api/java/net/ServerSocket.html#ServerSocket%28int%29\" rel=\"nofollow noreferrer\">ServerSocket</a>:</p>\n<blockquote>\n<p>Creates a server socket, bound to the specified port. A port of 0 creates a socket on any free port.</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":1556751,"reputation":1268,"user_id":1447621,"accept_rate":80,"display_name":"KevinL"},"score":2,"creation_date":1425752510,"post_id":2675446,"comment_id":46094304,"body_markdown":"Looking at Eclipse&#39;s code, they do the same thing as Graham Edgecombe&#39;s answer","body":"Looking at Eclipse&#39;s code, they do the same thing as Graham Edgecombe&#39;s answer"}],"tags":[],"owner":{"account_id":40658,"reputation":1109,"user_id":117820,"display_name":"jopa"},"comment_count":1,"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1425742492,"creation_date":1271770104,"answer_id":2675446,"question_id":2675362,"body_markdown":"The Eclipse SDK contains a class [SocketUtil][1], that does what you want. You may have a look into the git [source code][2].\r\n\r\n  [1]: http://help.eclipse.org/luna/index.jsp?topic=%2Forg.eclipse.jdt.doc.isv%2Freference%2Fapi%2Forg%2Feclipse%2Fjdt%2Flaunching%2FSocketUtil.html &quot;SocketUtil&quot;\r\n  [2]: https://git.eclipse.org/c/jdt/eclipse.jdt.debug.git/tree/org.eclipse.jdt.launching/launching/org/eclipse/jdt/launching/SocketUtil.java","title":"How to find an available port?","body":"<p>The Eclipse SDK contains a class <a href=\"http://help.eclipse.org/luna/index.jsp?topic=%2Forg.eclipse.jdt.doc.isv%2Freference%2Fapi%2Forg%2Feclipse%2Fjdt%2Flaunching%2FSocketUtil.html\" rel=\"nofollow noreferrer\" title=\"SocketUtil\">SocketUtil</a>, that does what you want. You may have a look into the git <a href=\"https://git.eclipse.org/c/jdt/eclipse.jdt.debug.git/tree/org.eclipse.jdt.launching/launching/org/eclipse/jdt/launching/SocketUtil.java\" rel=\"nofollow noreferrer\">source code</a>.</p>\n"},{"comments":[{"owner":{"account_id":6454,"reputation":25554,"user_id":10861,"accept_rate":76,"display_name":"rmeador"},"score":0,"creation_date":1271772338,"post_id":2675513,"comment_id":2694537,"body_markdown":"there is a similar (and more complete, IIRC) list that comes as part of nmap.  +1","body":"there is a similar (and more complete, IIRC) list that comes as part of nmap.  +1"}],"tags":[],"owner":{"account_id":12478,"reputation":23673,"user_id":24582,"display_name":"extraneon"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1271770797,"creation_date":1271770797,"answer_id":2675513,"question_id":2675362,"body_markdown":"It may not help you much, but on my (Ubuntu) machine I have a file /etc/services in which at least the ports used/reserved by some of the apps are given. These are the standard ports for those apps. \r\n\r\nNo guarantees that these are running, just the default ports these apps use (so you should not use them if possible).\r\n\r\nThere are slightly more than 500 ports defined, about half UDP and half TCP.\r\n\r\nThe files are made using information by IANA, see [IANA Assigned port numbers][1].\r\n\r\n\r\n  [1]: http://www.iana.org/assignments/port-numbers","title":"How to find an available port?","body":"<p>It may not help you much, but on my (Ubuntu) machine I have a file /etc/services in which at least the ports used/reserved by some of the apps are given. These are the standard ports for those apps. </p>\n\n<p>No guarantees that these are running, just the default ports these apps use (so you should not use them if possible).</p>\n\n<p>There are slightly more than 500 ports defined, about half UDP and half TCP.</p>\n\n<p>The files are made using information by IANA, see <a href=\"http://www.iana.org/assignments/port-numbers\" rel=\"nofollow noreferrer\">IANA Assigned port numbers</a>.</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1274475152,"creation_date":1274475152,"answer_id":2885488,"question_id":2675362,"body_markdown":"This works for me on Java 6\r\n\r\n        ServerSocket serverSocket = new ServerSocket(0);\r\n        System.out.println(&quot;listening on port &quot; + serverSocket.getLocalPort());\r\n","title":"How to find an available port?","body":"<p>This works for me on Java 6</p>\n\n<pre><code>    ServerSocket serverSocket = new ServerSocket(0);\n    System.out.println(\"listening on port \" + serverSocket.getLocalPort());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1653550,"reputation":11563,"user_id":1523648,"accept_rate":89,"display_name":"oberlies"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1367337223,"creation_date":1367337223,"answer_id":16304050,"question_id":2675362,"body_markdown":"If you want to create your own server using a `ServerSocket`, you can just have it pick a free port for you:\r\n\r\n      ServerSocket serverSocket = new ServerSocket(0);\r\n      int port = serverSocket.getLocalPort();\r\n\r\nOther server implementations typically have similar support. *Jetty* for example picks a free port unless you explicitly set it:\r\n\r\n      Server server = new Server();\r\n      ServerConnector connector = new ServerConnector(server);\r\n      // don&#39;t call: connector.setPort(port);\r\n      server.addConnector(connector);\r\n      server.start();\r\n      int port = connector.getLocalPort();","title":"How to find an available port?","body":"<p>If you want to create your own server using a <code>ServerSocket</code>, you can just have it pick a free port for you:</p>\n\n<pre><code>  ServerSocket serverSocket = new ServerSocket(0);\n  int port = serverSocket.getLocalPort();\n</code></pre>\n\n<p>Other server implementations typically have similar support. <em>Jetty</em> for example picks a free port unless you explicitly set it:</p>\n\n<pre><code>  Server server = new Server();\n  ServerConnector connector = new ServerConnector(server);\n  // don't call: connector.setPort(port);\n  server.addConnector(connector);\n  server.start();\n  int port = connector.getLocalPort();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":903400,"reputation":1513,"user_id":938899,"accept_rate":75,"display_name":"Alexey Berezkin"},"score":5,"creation_date":1577347450,"post_id":24615319,"comment_id":105146249,"body_markdown":"For those who is curious, under the hood `SpringUtils.findAvailableTcpPort()` is doing exactly the same recommended in other answers: pick a port then try `new ServerSocket(port)`.","body":"For those who is curious, under the hood <code>SpringUtils.findAvailableTcpPort()</code> is doing exactly the same recommended in other answers: pick a port then try <code>new ServerSocket(port)</code>."},{"owner":{"account_id":6556928,"reputation":63,"user_id":5069357,"display_name":"pTak"},"score":3,"creation_date":1670508593,"post_id":24615319,"comment_id":131894836,"body_markdown":"Unfortunately `SocketUtils` class is deprecated now and will be removed in Spring 6.0.","body":"Unfortunately <code>SocketUtils</code> class is deprecated now and will be removed in Spring 6.0."},{"owner":{"account_id":5595244,"reputation":355,"user_id":4433222,"display_name":"Konrad"},"score":0,"creation_date":1695812491,"post_id":24615319,"comment_id":136073421,"body_markdown":"`TestSocketUtils` is still there in Spring 6, but that&#39;s in spring-test, obviously.","body":"<code>TestSocketUtils</code> is still there in Spring 6, but that&#39;s in spring-test, obviously."}],"tags":[],"owner":{"account_id":1991992,"reputation":3753,"user_id":1785811,"display_name":"Michail Nikolaev"},"comment_count":3,"down_vote_count":3,"up_vote_count":27,"is_accepted":false,"score":24,"last_activity_date":1404750300,"creation_date":1404750300,"answer_id":24615319,"question_id":2675362,"body_markdown":"If you use Spring you may try http://docs.spring.io/spring/docs/4.0.5.RELEASE/javadoc-api/org/springframework/util/SocketUtils.html#findAvailableTcpPort--","title":"How to find an available port?","body":"<p>If you use Spring you may try <a href=\"http://docs.spring.io/spring/docs/4.0.5.RELEASE/javadoc-api/org/springframework/util/SocketUtils.html#findAvailableTcpPort--\" rel=\"noreferrer\">http://docs.spring.io/spring/docs/4.0.5.RELEASE/javadoc-api/org/springframework/util/SocketUtils.html#findAvailableTcpPort--</a></p>\n"},{"comments":[{"owner":{"account_id":1078945,"reputation":7426,"user_id":1076480,"accept_rate":57,"display_name":"David Ehrmann"},"score":1,"creation_date":1435552821,"post_id":26644672,"comment_id":50230280,"body_markdown":"This might not work if you don&#39;t set `SO_REUSEADDR`. And there&#39;s a race condition, but it&#39;s hard to fix that.","body":"This might not work if you don&#39;t set <code>SO_REUSEADDR</code>. And there&#39;s a race condition, but it&#39;s hard to fix that."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1490175978,"post_id":26644672,"comment_id":72991204,"body_markdown":"This might not work if you subsequently try to open *another* `ServerSocket` with the same port number, as it might have been taken in the meanwhile. Why you wouldn&#39;t just return the actual `ServerSocket` instead of closing it remains a mystery.","body":"This might not work if you subsequently try to open <i>another</i> <code>ServerSocket</code> with the same port number, as it might have been taken in the meanwhile. Why you wouldn&#39;t just return the actual <code>ServerSocket</code> instead of closing it remains a mystery."},{"owner":{"account_id":2087834,"reputation":7167,"user_id":1858327,"accept_rate":71,"display_name":"Captain Man"},"score":7,"creation_date":1527093895,"post_id":26644672,"comment_id":87999994,"body_markdown":"@EJP Sometimes third party code accepts a port but not the socket itself.","body":"@EJP Sometimes third party code accepts a port but not the socket itself."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1574241265,"post_id":26644672,"comment_id":104157584,"body_markdown":"@CaptainMan Sure, but in those cases the port is surely assumed to be preallocated. A dynamically allocated port has to be supplied to clients by some other mechanism such as a naming service or a broadcast or mulitcast. The whole question here is malformed.","body":"@CaptainMan Sure, but in those cases the port is surely assumed to be preallocated. A dynamically allocated port has to be supplied to clients by some other mechanism such as a naming service or a broadcast or mulitcast. The whole question here is malformed."},{"owner":{"account_id":2087834,"reputation":7167,"user_id":1858327,"accept_rate":71,"display_name":"Captain Man"},"score":0,"creation_date":1574264955,"post_id":26644672,"comment_id":104172052,"body_markdown":"@user207421 You can&#39;t change third party code to accept a `ServerSocket` instead of an `int` for the port though.","body":"@user207421 You can&#39;t change third party code to accept a <code>ServerSocket</code> instead of an <code>int</code> for the port though."}],"tags":[],"owner":{"account_id":2762,"reputation":8545,"user_id":3885,"accept_rate":67,"display_name":"Andrei Savu"},"comment_count":5,"down_vote_count":2,"up_vote_count":47,"is_accepted":false,"score":45,"last_activity_date":1414640440,"creation_date":1414640440,"answer_id":26644672,"question_id":2675362,"body_markdown":"Starting from Java 1.7 you can use try-with-resources like this: \r\n\r\n      private Integer findRandomOpenPortOnAllLocalInterfaces() throws IOException {\r\n        try (\r\n            ServerSocket socket = new ServerSocket(0);\r\n        ) {\r\n          return socket.getLocalPort();\r\n    \r\n        }\r\n      }\r\n\r\nIf you need to find an open port on a specific interface check [ServerSocket][1] documentation for alternative constructors. \r\n\r\n**Warning:** Any code using the port number returned by this method is subject to a race condition - a different process / thread may bind to the same port immediately after we close the ServerSocket instance. \r\n\r\n  [1]: http://download.java.net/jdk7/archive/b123/docs/api/java/net/ServerSocket.html","title":"How to find an available port?","body":"<p>Starting from Java 1.7 you can use try-with-resources like this: </p>\n\n<pre><code>  private Integer findRandomOpenPortOnAllLocalInterfaces() throws IOException {\n    try (\n        ServerSocket socket = new ServerSocket(0);\n    ) {\n      return socket.getLocalPort();\n\n    }\n  }\n</code></pre>\n\n<p>If you need to find an open port on a specific interface check <a href=\"http://download.java.net/jdk7/archive/b123/docs/api/java/net/ServerSocket.html\">ServerSocket</a> documentation for alternative constructors. </p>\n\n<p><strong>Warning:</strong> Any code using the port number returned by this method is subject to a race condition - a different process / thread may bind to the same port immediately after we close the ServerSocket instance. </p>\n"},{"tags":[],"owner":{"account_id":4922351,"reputation":778,"user_id":3964612,"display_name":"Alex Panov"},"comment_count":0,"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1483035597,"creation_date":1431186857,"answer_id":30142039,"question_id":2675362,"body_markdown":"I have recently released a tiny library for doing just that with tests in mind.\r\nMaven dependency is:\r\n\r\n    &lt;dependency&gt;\r\n    &#160;&#160;&#160;&#160;&lt;groupId&gt;me.alexpanov&lt;/groupId&gt;\r\n    &#160;&#160;&#160;&#160;&lt;artifactId&gt;free-port-finder&lt;/artifactId&gt;\r\n    &#160;&#160;&#160;&#160;&lt;version&gt;1.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nOnce installed, free port numbers can be obtained via:\r\n\r\n    int port = FreePortFinder.findFreeLocalPort();\r\n","title":"How to find an available port?","body":"<p>I have recently released a tiny library for doing just that with tests in mind.\nMaven dependency is:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;me.alexpanov&lt;/groupId&gt;\n    &lt;artifactId&gt;free-port-finder&lt;/artifactId&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Once installed, free port numbers can be obtained via:</p>\n\n<pre><code>int port = FreePortFinder.findFreeLocalPort();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2532469,"reputation":1389,"user_id":2656234,"accept_rate":85,"display_name":"Vlad Ilie"},"score":0,"creation_date":1459837496,"post_id":36011416,"comment_id":60452007,"body_markdown":"was wondering how to check a port, then unbind from it. Thanks SergeyB!","body":"was wondering how to check a port, then unbind from it. Thanks SergeyB!"},{"owner":{"account_id":2463632,"reputation":4432,"user_id":2147204,"accept_rate":85,"display_name":"Simon Kissane"},"score":9,"creation_date":1481779999,"post_id":36011416,"comment_id":69515585,"body_markdown":"If every port in the range [from,to) is in use, this code will loop infinitely (or at least until one of those ports becomes free). If you do a sequential scan rather than picking ports in the range at random, you can avoid this possibility (just throw an exception when you get to the end of the range without finding a free port). If you really need to pick ports at random, then you need a set to keep track of the ports you&#39;ve tried so far, and then raise an error when the size of that set equals to - from.","body":"If every port in the range [from,to) is in use, this code will loop infinitely (or at least until one of those ports becomes free). If you do a sequential scan rather than picking ports in the range at random, you can avoid this possibility (just throw an exception when you get to the end of the range without finding a free port). If you really need to pick ports at random, then you need a set to keep track of the ports you&#39;ve tried so far, and then raise an error when the size of that set equals to - from."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1574241075,"post_id":36011416,"comment_id":104157471,"body_markdown":"Port 0 is considerably simpler and doesn&#39;t require creating two `ServerSockets` in the success case, and doesn&#39;t suffer from the timing-window problems of this code.","body":"Port 0 is considerably simpler and doesn&#39;t require creating two <code>ServerSockets</code> in the success case, and doesn&#39;t suffer from the timing-window problems of this code."}],"tags":[],"owner":{"account_id":1218420,"reputation":2261,"user_id":1185555,"accept_rate":44,"display_name":"Serhii Bohutskyi"},"comment_count":3,"down_vote_count":2,"up_vote_count":30,"is_accepted":false,"score":28,"last_activity_date":1458044986,"creation_date":1458044986,"answer_id":36011416,"question_id":2675362,"body_markdown":"If you need in ***range*** use:\r\n\r\n    public int nextFreePort(int from, int to) {\r\n        int port = randPort(from, to);\r\n        while (true) {\r\n            if (isLocalPortFree(port)) {\r\n                return port;\r\n            } else {\r\n                port = ThreadLocalRandom.current().nextInt(from, to);\r\n            }\r\n        }\r\n    }\r\n\r\n    private boolean isLocalPortFree(int port) {\r\n        try {\r\n            new ServerSocket(port).close();\r\n            return true;\r\n        } catch (IOException e) {\r\n            return false;\r\n        }\r\n    }","title":"How to find an available port?","body":"<p>If you need in <strong><em>range</em></strong> use:</p>\n\n<pre><code>public int nextFreePort(int from, int to) {\n    int port = randPort(from, to);\n    while (true) {\n        if (isLocalPortFree(port)) {\n            return port;\n        } else {\n            port = ThreadLocalRandom.current().nextInt(from, to);\n        }\n    }\n}\n\nprivate boolean isLocalPortFree(int port) {\n    try {\n        new ServerSocket(port).close();\n        return true;\n    } catch (IOException e) {\n        return false;\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":15328195,"reputation":2461,"user_id":11058704,"display_name":"RamPrakash"},"score":1,"creation_date":1653864524,"post_id":53336657,"comment_id":127949086,"body_markdown":"It is deprecated!!","body":"It is deprecated!!"}],"tags":[],"owner":{"account_id":8927637,"reputation":2886,"user_id":6661361,"display_name":"Gerardo Roza"},"comment_count":1,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1542366503,"creation_date":1542366503,"answer_id":53336657,"question_id":2675362,"body_markdown":"If you are using Spring, the answer provided by *Michail Nikolaev* is the simplest and cleanest one, and IMO should be upvoted.\r\nJust for convenience purposes, I&#39;ll add an inline example using the Springframwework *[SocketUtils][1].findAvailableTcpPort()* method:\r\n\r\n\r\n```int randomAvailablePort = SocketUtils.findAvailableTcpPort();```\r\n\r\nIt&#39;s as easy as that, just one line :). Of course, the Utils class offer many other interesting methods, I suggest having a look at the docs.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/util/SocketUtils.html","title":"How to find an available port?","body":"<p>If you are using Spring, the answer provided by <em>Michail Nikolaev</em> is the simplest and cleanest one, and IMO should be upvoted.\nJust for convenience purposes, I'll add an inline example using the Springframwework <em><a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/util/SocketUtils.html\" rel=\"nofollow noreferrer\">SocketUtils</a>.findAvailableTcpPort()</em> method:</p>\n\n<p><code>int randomAvailablePort = SocketUtils.findAvailableTcpPort();</code></p>\n\n<p>It's as easy as that, just one line :). Of course, the Utils class offer many other interesting methods, I suggest having a look at the docs.</p>\n"},{"tags":[],"owner":{"account_id":4008309,"reputation":3688,"user_id":3302424,"accept_rate":70,"display_name":"Hari Krishna"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1585893763,"creation_date":1585893763,"answer_id":61005922,"question_id":2675362,"body_markdown":"Using &#39;ServerSocket&#39; class we can identify whether given port is in use or free. ServerSocket provides a constructor that take an integer (which is port number) as \r\nargument and initialise server socket on the port. If ServerSocket throws any IO Exception, then we can assume this port is already in use.\r\n\r\nFollowing snippet is used to get all available ports.\r\n\r\n    for (int port = 1; port &lt; 65535; port++) {\r\n             try {\r\n                      ServerSocket socket = new ServerSocket(port);\r\n                      socket.close();\r\n                      availablePorts.add(port);\r\n             } catch (IOException e) {\r\n                                       \r\n             }\r\n    }\r\n\r\nReference [link][1].\r\n\r\n\r\n  [1]: https://self-learning-java-tutorial.blogspot.com/2015/09/java-find-all-available-ports.html","title":"How to find an available port?","body":"<p>Using 'ServerSocket' class we can identify whether given port is in use or free. ServerSocket provides a constructor that take an integer (which is port number) as \nargument and initialise server socket on the port. If ServerSocket throws any IO Exception, then we can assume this port is already in use.</p>\n\n<p>Following snippet is used to get all available ports.</p>\n\n<pre><code>for (int port = 1; port &lt; 65535; port++) {\n         try {\n                  ServerSocket socket = new ServerSocket(port);\n                  socket.close();\n                  availablePorts.add(port);\n         } catch (IOException e) {\n\n         }\n}\n</code></pre>\n\n<p>Reference <a href=\"https://self-learning-java-tutorial.blogspot.com/2015/09/java-find-all-available-ports.html\" rel=\"nofollow noreferrer\">link</a>.</p>\n"},{"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":3,"creation_date":1647873809,"post_id":63256149,"comment_id":126474269,"body_markdown":"SocketUtils has been marked deprecated for Spring Boot (Spring version?) 2.6.X...","body":"SocketUtils has been marked deprecated for Spring Boot (Spring version?) 2.6.X..."}],"tags":[],"owner":{"account_id":267167,"reputation":10537,"user_id":555177,"accept_rate":94,"display_name":"anataliocs"},"comment_count":1,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1596581743,"creation_date":1596581743,"answer_id":63256149,"question_id":2675362,"body_markdown":"If you are using the Spring Framework, the most straightforward way to do this is:\r\n\r\n\r\n```\r\nprivate Integer laancNotifyPort = SocketUtils.findAvailableTcpPort();\r\n```\r\n\r\nYou can also set an acceptable range, and it will search in this range:\r\n\r\n```\r\nprivate Integer laancNotifyPort = SocketUtils.findAvailableTcpPort(9090, 10090);\r\n```\r\n\r\nThis is a convenience method that abstracts away the complexity but internally is similar to a lot of the other answers on this thread.  ","title":"How to find an available port?","body":"<p>If you are using the Spring Framework, the most straightforward way to do this is:</p>\n<pre><code>private Integer laancNotifyPort = SocketUtils.findAvailableTcpPort();\n</code></pre>\n<p>You can also set an acceptable range, and it will search in this range:</p>\n<pre><code>private Integer laancNotifyPort = SocketUtils.findAvailableTcpPort(9090, 10090);\n</code></pre>\n<p>This is a convenience method that abstracts away the complexity but internally is similar to a lot of the other answers on this thread.</p>\n"},{"tags":[],"owner":{"account_id":1861468,"reputation":991,"user_id":1685993,"accept_rate":68,"display_name":"AHH"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651585430,"creation_date":1651582010,"answer_id":72099589,"question_id":2675362,"body_markdown":"You can ask the ServerSocket to find a port for you then close it:\r\n\r\n    private int getFreePort() {\r\n            var freePort = 0;\r\n            try (ServerSocket s = new ServerSocket(0)) {\r\n                freePort = s.getLocalPort();\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n            return freePort;\r\n        }","title":"How to find an available port?","body":"<p>You can ask the ServerSocket to find a port for you then close it:</p>\n<pre><code>private int getFreePort() {\n        var freePort = 0;\n        try (ServerSocket s = new ServerSocket(0)) {\n            freePort = s.getLocalPort();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n        return freePort;\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2377199,"reputation":3405,"user_id":2160877,"accept_rate":59,"display_name":"dragi"},"score":0,"creation_date":1677255633,"post_id":72137162,"comment_id":133307934,"body_markdown":"That&#39;s an interesting approach, although there is again the possibility of race condition. I may test to see which one works faster on my setup, so that it has lower probability of returning &#39;wrong result&#39; due to race condition.","body":"That&#39;s an interesting approach, although there is again the possibility of race condition. I may test to see which one works faster on my setup, so that it has lower probability of returning &#39;wrong result&#39; due to race condition."}],"tags":[],"owner":{"account_id":1775391,"reputation":734,"user_id":1619265,"accept_rate":20,"display_name":"Robert Sj&#246;dahl"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651819147,"creation_date":1651819147,"answer_id":72137162,"question_id":2675362,"body_markdown":"There are a lot of answers here where ServerSocket is used. I checked Micronauts implementation and they instead try to connect a client socket to the port locally and if that fails they say the port is open. That to me has the advantage that they do not risk using the port within the test.\r\n\r\nTheir code looks like this:\r\n```\r\n    public static boolean isTcpPortAvailable(int currentPort) {\r\n        try (Socket socket = new Socket()) {\r\n            socket.connect(new InetSocketAddress(InetAddress.getLocalHost(), currentPort), 20);\r\n            return false;\r\n        } catch (Throwable e) {\r\n            return true;\r\n        }\r\n    }\r\n```\r\n\r\nSee here for reference: https://github.com/micronaut-projects/micronaut-core/blob/3.4.x/core/src/main/java/io/micronaut/core/io/socket/SocketUtils.java","title":"How to find an available port?","body":"<p>There are a lot of answers here where ServerSocket is used. I checked Micronauts implementation and they instead try to connect a client socket to the port locally and if that fails they say the port is open. That to me has the advantage that they do not risk using the port within the test.</p>\n<p>Their code looks like this:</p>\n<pre><code>    public static boolean isTcpPortAvailable(int currentPort) {\n        try (Socket socket = new Socket()) {\n            socket.connect(new InetSocketAddress(InetAddress.getLocalHost(), currentPort), 20);\n            return false;\n        } catch (Throwable e) {\n            return true;\n        }\n    }\n</code></pre>\n<p>See here for reference: <a href=\"https://github.com/micronaut-projects/micronaut-core/blob/3.4.x/core/src/main/java/io/micronaut/core/io/socket/SocketUtils.java\" rel=\"nofollow noreferrer\">https://github.com/micronaut-projects/micronaut-core/blob/3.4.x/core/src/main/java/io/micronaut/core/io/socket/SocketUtils.java</a></p>\n"},{"tags":[],"owner":{"account_id":2056806,"reputation":2735,"user_id":1834329,"accept_rate":60,"display_name":"Jared Beach"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691069410,"creation_date":1691069410,"answer_id":76828577,"question_id":2675362,"body_markdown":"Many people mention the Spring framework utility, but if you are not using Spring, the logic of the utility is pretty simple and better than most of the answers because it gives a truly random result.\r\n\r\n[Here is the full source](https://github.com/spring-projects/spring-framework/blob/eed14214b5cc6c6d739e04fc2123b16829dcfcf4/spring-core/src/testFixtures/java/org/springframework/core/testfixture/net/TestSocketUtils.java#L74).\r\n\r\nBut here is the simplified source that you could just use in your own project without adding Spring as a dependency:\r\n\r\n```java\r\npublic static int findAvailableTcpPort() {\r\n    int minPort = 1024;\r\n    int maxPort = 65535;\r\n    int portRange = maxPort - minPort;\r\n    int maxAttempts = 1000;\r\n    int candidatePort;\r\n    int searchCounter = 0;\r\n    Random random = new Random(System.nanoTime());\r\n    do {\r\n        if (searchCounter &gt; maxAttempts) {\r\n            throw new IllegalStateException(String.format(\r\n                &quot;Could not find an available TCP port in the range [%d, %d] after %d attempts&quot;,\r\n                minPort, maxPort, maxAttempts));\r\n        }\r\n        candidatePort = minPort + random.nextInt(portRange + 1);\r\n        searchCounter++;\r\n    } while (!isPortAvailable(candidatePort));\r\n\r\n    return candidatePort;\r\n}\r\n\r\nprivate static boolean isPortAvailable(int port) {\r\n    try {\r\n        ServerSocket serverSocket = ServerSocketFactory.getDefault().createServerSocket(port, 1, InetAddress.getByName(&quot;localhost&quot;));\r\n        serverSocket.close();\r\n        return true;\r\n    } catch (Exception ex){\r\n        return false;\r\n    }\r\n}\r\n```","title":"How to find an available port?","body":"<p>Many people mention the Spring framework utility, but if you are not using Spring, the logic of the utility is pretty simple and better than most of the answers because it gives a truly random result.</p>\n<p><a href=\"https://github.com/spring-projects/spring-framework/blob/eed14214b5cc6c6d739e04fc2123b16829dcfcf4/spring-core/src/testFixtures/java/org/springframework/core/testfixture/net/TestSocketUtils.java#L74\" rel=\"nofollow noreferrer\">Here is the full source</a>.</p>\n<p>But here is the simplified source that you could just use in your own project without adding Spring as a dependency:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static int findAvailableTcpPort() {\n    int minPort = 1024;\n    int maxPort = 65535;\n    int portRange = maxPort - minPort;\n    int maxAttempts = 1000;\n    int candidatePort;\n    int searchCounter = 0;\n    Random random = new Random(System.nanoTime());\n    do {\n        if (searchCounter &gt; maxAttempts) {\n            throw new IllegalStateException(String.format(\n                &quot;Could not find an available TCP port in the range [%d, %d] after %d attempts&quot;,\n                minPort, maxPort, maxAttempts));\n        }\n        candidatePort = minPort + random.nextInt(portRange + 1);\n        searchCounter++;\n    } while (!isPortAvailable(candidatePort));\n\n    return candidatePort;\n}\n\nprivate static boolean isPortAvailable(int port) {\n    try {\n        ServerSocket serverSocket = ServerSocketFactory.getDefault().createServerSocket(port, 1, InetAddress.getByName(&quot;localhost&quot;));\n        serverSocket.close();\n        return true;\n    } catch (Exception ex){\n        return false;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":88863,"reputation":126169,"user_id":245549,"accept_rate":66,"display_name":"Roman"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":225871,"favorite_count":0,"down_vote_count":1,"up_vote_count":223,"accepted_answer_id":2675416,"answer_count":19,"score":222,"last_activity_date":1691069410,"creation_date":1271769368,"question_id":2675362,"body_markdown":"I want to start a server which listen to a port. I can specify port explicitly and it works. But I would like to find a port in an automatic way. In this respect I have two questions.\r\n\r\n1. In which range of port numbers should I search for? (I used ports 12345, 12346, and 12347 and it was fine).\r\n\r\n2. How can I find out if a given port is not occupied by another software?","title":"How to find an available port?","body":"<p>I want to start a server which listen to a port. I can specify port explicitly and it works. But I would like to find a port in an automatic way. In this respect I have two questions.</p>\n\n<ol>\n<li><p>In which range of port numbers should I search for? (I used ports 12345, 12346, and 12347 and it was fine).</p></li>\n<li><p>How can I find out if a given port is not occupied by another software?</p></li>\n</ol>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1691070042,"post_id":76828495,"comment_id":135444027,"body_markdown":"Spring Security executes with a filter which aren&#39;t being handled/covered by the `HandlerExceptionResolver`s from Spring MVC. Spring Security has a default `AccessDeniedHandler` which handles this (which is why you don&#39;t need to configure one). You can write an `AccessDeniedHandler` which would delegate to the `HandlerExceptionResolver`.","body":"Spring Security executes with a filter which aren&#39;t being handled/covered by the <code>HandlerExceptionResolver</code>s from Spring MVC. Spring Security has a default <code>AccessDeniedHandler</code> which handles this (which is why you don&#39;t need to configure one). You can write an <code>AccessDeniedHandler</code> which would delegate to the <code>HandlerExceptionResolver</code>."},{"owner":{"account_id":18807214,"reputation":45,"user_id":13716265,"display_name":"Thorvas"},"score":0,"creation_date":1691088764,"post_id":76828495,"comment_id":135448082,"body_markdown":"I&#39;ve tried to implement custom handler and delegate request to resolver. Like that: ```exceptionResolver.resolveException(request, response, null, accessDeniedException);``` but still I get no appropriate response. I also get message in log that authorization failed but exception is still not caught by appropriate handlers.","body":"I&#39;ve tried to implement custom handler and delegate request to resolver. Like that: <code>exceptionResolver.resolveException(request, response, null, accessDeniedException);</code> but still I get no appropriate response. I also get message in log that authorization failed but exception is still not caught by appropriate handlers."},{"owner":{"account_id":18807214,"reputation":45,"user_id":13716265,"display_name":"Thorvas"},"score":0,"creation_date":1691088838,"post_id":76828495,"comment_id":135448102,"body_markdown":"Additionally, when I ```@Autowired``` ```HandlerExceptionResolver```, I get two beans, one with the name ```handlerExceptionResolver``` and the other one with name ```errorAttributes```. I&#39;m confused, I didn&#39;t declare such beans","body":"Additionally, when I <code>@Autowired</code> <code>HandlerExceptionResolver</code>, I get two beans, one with the name <code>handlerExceptionResolver</code> and the other one with name <code>errorAttributes</code>. I&#39;m confused, I didn&#39;t declare such beans"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1691129917,"post_id":76828495,"comment_id":135452639,"body_markdown":"Spring will automatically create those beans, you need the `handlerExceptionResolver` one as that is the one that will delegate to the `@ExceptionHandler` annotated one. Finally you will also need a `AuthenticationEntryPoint` which handles the `AuthenticationException` instances (and turns them into a response and error code). They are different components for different parts one is for Authentication (the `BadCredentialsException` the other for Authorization (the `AccessDeniedException`). You might want to handle the top level error instead of those specific ones.","body":"Spring will automatically create those beans, you need the <code>handlerExceptionResolver</code> one as that is the one that will delegate to the <code>@ExceptionHandler</code> annotated one. Finally you will also need a <code>AuthenticationEntryPoint</code> which handles the <code>AuthenticationException</code> instances (and turns them into a response and error code). They are different components for different parts one is for Authentication (the <code>BadCredentialsException</code> the other for Authorization (the <code>AccessDeniedException</code>). You might want to handle the top level error instead of those specific ones."}],"owner":{"account_id":18807214,"reputation":45,"user_id":13716265,"display_name":"Thorvas"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691068878,"creation_date":1691068878,"question_id":76828495,"body_markdown":"I have exception handler like this:\r\n\r\n```\r\n@RestControllerAdvice\r\npublic class GlobalExceptionHandler {\r\n\r\n    @ExceptionHandler(BadCredentialsException.class)\r\n    public ResponseEntity&lt;ApiError&gt; handleBadCredentials(Exception e, HttpServletRequest request) {\r\n\r\n        ApiError apiError = new ApiError(\r\n                request.getRequestURI(),\r\n                e.getMessage(),\r\n                HttpStatus.BAD_REQUEST.value(),\r\n                LocalDateTime.now()\r\n        );\r\n\r\n        return new ResponseEntity&lt;&gt;(apiError, HttpStatus.BAD_REQUEST);\r\n    }\r\n\r\n    @ExceptionHandler(HttpRequestMethodNotSupportedException.class)\r\n    public ResponseEntity&lt;ApiError&gt; handleMethodNotSupportedException(Exception e, HttpServletRequest request) {\r\n\r\n        ApiError apiError = new ApiError(\r\n                request.getRequestURI(),\r\n                e.getMessage(),\r\n                HttpStatus.BAD_REQUEST.value(),\r\n                LocalDateTime.now()\r\n        );\r\n\r\n        return new ResponseEntity&lt;&gt;(apiError, HttpStatus.BAD_REQUEST);\r\n    }\r\n\r\n    @ExceptionHandler(AccessDeniedException.class)\r\n    public ResponseEntity&lt;ApiError&gt; handleAccessDeniedException(Exception e, HttpServletRequest request) {\r\n\r\n        ApiError apiError = new ApiError(\r\n                request.getRequestURI(),\r\n                e.getMessage(),\r\n                HttpStatus.FORBIDDEN.value(),\r\n                LocalDateTime.now()\r\n        );\r\n\r\n        return new ResponseEntity&lt;&gt;(apiError, HttpStatus.FORBIDDEN);\r\n    }\r\n    @ExceptionHandler(EntityNotFoundException.class)\r\n    public ResponseEntity&lt;ApiError&gt; handleEntityNotFound(Exception e,\r\n                                                         HttpServletRequest request) {\r\n        ApiError apiError = new ApiError(\r\n                request.getRequestURI(),\r\n                e.getMessage(),\r\n                HttpStatus.NOT_FOUND.value(),\r\n                LocalDateTime.now()\r\n        );\r\n\r\n        return new ResponseEntity&lt;&gt;(apiError, HttpStatus.NOT_FOUND);\r\n    }\r\n\r\n    @ExceptionHandler(IllegalArgumentException.class)\r\n    public ResponseEntity&lt;ApiError&gt; handleIllegalArgument(Exception e,\r\n                                                          HttpServletRequest request) {\r\n\r\n        ApiError apiError = new ApiError(\r\n                request.getRequestURI(),\r\n                e.getMessage(),\r\n                HttpStatus.BAD_REQUEST.value(),\r\n                LocalDateTime.now()\r\n        );\r\n\r\n        return new ResponseEntity&lt;&gt;(apiError, HttpStatus.BAD_REQUEST);\r\n    }\r\n}\r\n```\r\n\r\nApiError.class:\r\n```\r\npublic record ApiError(\r\n        String path,\r\n        String message,\r\n        int statusCode,\r\n        LocalDateTime date\r\n) {\r\n}\r\n```\r\n\r\nI am trying to intercept exception thrown by ```@PreAuthorize``` method. Despite declared exception handler for it, it is not intercepted by ```@ExceptionHandler```. I&#39;ve tried to display logs about unsuccessful request.\r\n\r\nLogs:\r\n```\r\n2023-08-03T15:05:56.895+02:00 DEBUG 22212 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured PATCH /api/v1/projects/3/volunteers/1\r\n2023-08-03T15:05:56.897+02:00 DEBUG 22212 --- [nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.demo.Controller.ProjectController.addVolunteerToProject(java.lang.Long,java.lang.Long,com.example.demo.Objects.CustomUserDetails); target is of class [com.example.demo.Controller.ProjectController]\r\n2023-08-03T15:05:56.928+02:00 DEBUG 22212 --- [nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Failed to authorize ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.demo.Controller.ProjectController.addVolunteerToProject(java.lang.Long,java.lang.Long,com.example.demo.Objects.CustomUserDetails); target is of class [com.example.demo.Controller.ProjectController] with authorization manager org.springframework.security.config.annotation.method.configuration.DeferringObservationAuthorizationManager@3ba2dc24 and decision ExpressionAuthorizationDecision [granted=false, expressionAttribute=hasAuthority(&#39;AUTHORITY_ADMIN&#39;)]\r\n2023-08-03T15:05:56.930+02:00 DEBUG 22212 --- [nio-8080-exec-7] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code\r\n2023-08-03T15:05:56.932+02:00 DEBUG 22212 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing PATCH /error\r\n2023-08-03T15:05:56.933+02:00 DEBUG 22212 --- [nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\r\n2023-08-03T15:05:56.933+02:00 DEBUG 22212 --- [nio-8080-exec-7] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access\r\n```\r\n\r\nAs we could see, some class called ```AccessDeniedHandlerImpl``` already handles this request, making ```@ExceptionHandler``` unable to do it. I have no such class in my project, nor my security class implements it or declares it.\r\n\r\nSecurity configuration:\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\n@EnableMethodSecurity\r\npublic class SecurityConfig {\r\n    @Autowired\r\n    private UserDetailsCustomImpl userDetailsService;\r\n\r\n    @Autowired\r\n    private AuthenticationProvider authenticationProvider;\r\n\r\n    @Autowired\r\n    private JwtFilter jwtFilter;\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityfilterChain(HttpSecurity http) throws Exception {\r\n\r\n        http.csrf((csrf) -&gt; {\r\n                    csrf.ignoringRequestMatchers(\r\n                            AntPathRequestMatcher.antMatcher(&quot;/h2-console/**&quot;));\r\n                    csrf.disable();\r\n                }\r\n        );\r\n        http.headers((headers) -&gt; {\r\n            headers.frameOptions((frameOption) -&gt; frameOption.disable());\r\n        });\r\n        http\r\n                .authorizeHttpRequests(auth -&gt; auth\r\n                        .requestMatchers(AntPathRequestMatcher.antMatcher(&quot;/h2-console/**&quot;),\r\n                                AntPathRequestMatcher.antMatcher(&quot;/api/v1/auth/**&quot;)).permitAll()\r\n                        .anyRequest().authenticated())\r\n                .sessionManagement(session -&gt; session.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\r\n                .authenticationProvider(authenticationProvider)\r\n                .addFilterBefore(jwtFilter, UsernamePasswordAuthenticationFilter.class);\r\n\r\n        return http.build();\r\n    }\r\n\r\n    public void configureAuthentication(AuthenticationManagerBuilder auth) throws Exception {\r\n        auth.userDetailsService(userDetailsService);\r\n    }\r\n\r\n    public void configureIgnores(WebSecurity web) {\r\n        web\r\n                .ignoring()\r\n                .requestMatchers(&quot;/h2-console/**&quot;);\r\n    }\r\n}\r\n```","title":"AccessDeniedException not caught by @ExceptionHandler","body":"<p>I have exception handler like this:</p>\n<pre><code>@RestControllerAdvice\npublic class GlobalExceptionHandler {\n\n    @ExceptionHandler(BadCredentialsException.class)\n    public ResponseEntity&lt;ApiError&gt; handleBadCredentials(Exception e, HttpServletRequest request) {\n\n        ApiError apiError = new ApiError(\n                request.getRequestURI(),\n                e.getMessage(),\n                HttpStatus.BAD_REQUEST.value(),\n                LocalDateTime.now()\n        );\n\n        return new ResponseEntity&lt;&gt;(apiError, HttpStatus.BAD_REQUEST);\n    }\n\n    @ExceptionHandler(HttpRequestMethodNotSupportedException.class)\n    public ResponseEntity&lt;ApiError&gt; handleMethodNotSupportedException(Exception e, HttpServletRequest request) {\n\n        ApiError apiError = new ApiError(\n                request.getRequestURI(),\n                e.getMessage(),\n                HttpStatus.BAD_REQUEST.value(),\n                LocalDateTime.now()\n        );\n\n        return new ResponseEntity&lt;&gt;(apiError, HttpStatus.BAD_REQUEST);\n    }\n\n    @ExceptionHandler(AccessDeniedException.class)\n    public ResponseEntity&lt;ApiError&gt; handleAccessDeniedException(Exception e, HttpServletRequest request) {\n\n        ApiError apiError = new ApiError(\n                request.getRequestURI(),\n                e.getMessage(),\n                HttpStatus.FORBIDDEN.value(),\n                LocalDateTime.now()\n        );\n\n        return new ResponseEntity&lt;&gt;(apiError, HttpStatus.FORBIDDEN);\n    }\n    @ExceptionHandler(EntityNotFoundException.class)\n    public ResponseEntity&lt;ApiError&gt; handleEntityNotFound(Exception e,\n                                                         HttpServletRequest request) {\n        ApiError apiError = new ApiError(\n                request.getRequestURI(),\n                e.getMessage(),\n                HttpStatus.NOT_FOUND.value(),\n                LocalDateTime.now()\n        );\n\n        return new ResponseEntity&lt;&gt;(apiError, HttpStatus.NOT_FOUND);\n    }\n\n    @ExceptionHandler(IllegalArgumentException.class)\n    public ResponseEntity&lt;ApiError&gt; handleIllegalArgument(Exception e,\n                                                          HttpServletRequest request) {\n\n        ApiError apiError = new ApiError(\n                request.getRequestURI(),\n                e.getMessage(),\n                HttpStatus.BAD_REQUEST.value(),\n                LocalDateTime.now()\n        );\n\n        return new ResponseEntity&lt;&gt;(apiError, HttpStatus.BAD_REQUEST);\n    }\n}\n</code></pre>\n<p>ApiError.class:</p>\n<pre><code>public record ApiError(\n        String path,\n        String message,\n        int statusCode,\n        LocalDateTime date\n) {\n}\n</code></pre>\n<p>I am trying to intercept exception thrown by <code>@PreAuthorize</code> method. Despite declared exception handler for it, it is not intercepted by <code>@ExceptionHandler</code>. I've tried to display logs about unsuccessful request.</p>\n<p>Logs:</p>\n<pre><code>2023-08-03T15:05:56.895+02:00 DEBUG 22212 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured PATCH /api/v1/projects/3/volunteers/1\n2023-08-03T15:05:56.897+02:00 DEBUG 22212 --- [nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.demo.Controller.ProjectController.addVolunteerToProject(java.lang.Long,java.lang.Long,com.example.demo.Objects.CustomUserDetails); target is of class [com.example.demo.Controller.ProjectController]\n2023-08-03T15:05:56.928+02:00 DEBUG 22212 --- [nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Failed to authorize ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.demo.Controller.ProjectController.addVolunteerToProject(java.lang.Long,java.lang.Long,com.example.demo.Objects.CustomUserDetails); target is of class [com.example.demo.Controller.ProjectController] with authorization manager org.springframework.security.config.annotation.method.configuration.DeferringObservationAuthorizationManager@3ba2dc24 and decision ExpressionAuthorizationDecision [granted=false, expressionAttribute=hasAuthority('AUTHORITY_ADMIN')]\n2023-08-03T15:05:56.930+02:00 DEBUG 22212 --- [nio-8080-exec-7] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code\n2023-08-03T15:05:56.932+02:00 DEBUG 22212 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing PATCH /error\n2023-08-03T15:05:56.933+02:00 DEBUG 22212 --- [nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\n2023-08-03T15:05:56.933+02:00 DEBUG 22212 --- [nio-8080-exec-7] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access\n</code></pre>\n<p>As we could see, some class called <code>AccessDeniedHandlerImpl</code> already handles this request, making <code>@ExceptionHandler</code> unable to do it. I have no such class in my project, nor my security class implements it or declares it.</p>\n<p>Security configuration:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\n@EnableMethodSecurity\npublic class SecurityConfig {\n    @Autowired\n    private UserDetailsCustomImpl userDetailsService;\n\n    @Autowired\n    private AuthenticationProvider authenticationProvider;\n\n    @Autowired\n    private JwtFilter jwtFilter;\n\n    @Bean\n    public SecurityFilterChain securityfilterChain(HttpSecurity http) throws Exception {\n\n        http.csrf((csrf) -&gt; {\n                    csrf.ignoringRequestMatchers(\n                            AntPathRequestMatcher.antMatcher(&quot;/h2-console/**&quot;));\n                    csrf.disable();\n                }\n        );\n        http.headers((headers) -&gt; {\n            headers.frameOptions((frameOption) -&gt; frameOption.disable());\n        });\n        http\n                .authorizeHttpRequests(auth -&gt; auth\n                        .requestMatchers(AntPathRequestMatcher.antMatcher(&quot;/h2-console/**&quot;),\n                                AntPathRequestMatcher.antMatcher(&quot;/api/v1/auth/**&quot;)).permitAll()\n                        .anyRequest().authenticated())\n                .sessionManagement(session -&gt; session.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\n                .authenticationProvider(authenticationProvider)\n                .addFilterBefore(jwtFilter, UsernamePasswordAuthenticationFilter.class);\n\n        return http.build();\n    }\n\n    public void configureAuthentication(AuthenticationManagerBuilder auth) throws Exception {\n        auth.userDetailsService(userDetailsService);\n    }\n\n    public void configureIgnores(WebSecurity web) {\n        web\n                .ignoring()\n                .requestMatchers(&quot;/h2-console/**&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","postgresql","liquibase"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1691068266,"post_id":76828397,"comment_id":135443596,"body_markdown":"What&#39;s the table declaration?","body":"What&#39;s the table declaration?"},{"owner":{"account_id":28717387,"reputation":11,"user_id":21991741,"display_name":"Andor P&#225;l"},"score":0,"creation_date":1691068663,"post_id":76828397,"comment_id":135443685,"body_markdown":"Added it to the post.","body":"Added it to the post."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1691069020,"post_id":76828397,"comment_id":135443752,"body_markdown":"Try `&lt;column name=&quot;search_terms&quot; header=&quot;search_terms&quot;  type=&quot;string&quot;/&gt;`","body":"Try <code>&lt;column name=&quot;search_terms&quot; header=&quot;search_terms&quot;  type=&quot;string&quot;&#47;&gt;</code>"},{"owner":{"account_id":28717387,"reputation":11,"user_id":21991741,"display_name":"Andor P&#225;l"},"score":0,"creation_date":1691069388,"post_id":76828397,"comment_id":135443854,"body_markdown":"Waoo, it solved it. Thank you very much. Any explanation why was it necessary? I have other tables with the same situation and they produced no error.","body":"Waoo, it solved it. Thank you very much. Any explanation why was it necessary? I have other tables with the same situation and they produced no error."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1691097519,"post_id":76828397,"comment_id":135449695,"body_markdown":"Does this answer your question? [Liquibase loadData as string, not CLOB resource](https://stackoverflow.com/questions/51469751/liquibase-loaddata-as-string-not-clob-resource)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/51469751/liquibase-loaddata-as-string-not-clob-resource\">Liquibase loadData as string, not CLOB resource</a>"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1691097550,"post_id":76828397,"comment_id":135449699,"body_markdown":"Not exactly. They have `text` columns too?","body":"Not exactly. They have <code>text</code> columns too?"},{"owner":{"account_id":28717387,"reputation":11,"user_id":21991741,"display_name":"Andor P&#225;l"},"score":0,"creation_date":1691143624,"post_id":76828397,"comment_id":135455128,"body_markdown":"Yes, it solved it.","body":"Yes, it solved it."}],"owner":{"account_id":28717387,"reputation":11,"user_id":21991741,"display_name":"Andor P&#225;l"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691068632,"creation_date":1691067986,"question_id":76828397,"body_markdown":"I try to load some data from csv file to the DB.\r\n\r\n```\r\n    &lt;changeSet id=&quot;Load data from CSV file Service&quot; author=&quot;apal&quot; &gt;\r\n        &lt;loadData tableName=&quot;service&quot; file=&quot;liquibase/data/services.csv&quot;  &gt;\r\n            &lt;column name=&quot;id&quot; header=&quot;id&quot; /&gt;\r\n            &lt;column name=&quot;fk_category_id&quot; header=&quot;category_id&quot;/&gt;\r\n            &lt;column name=&quot;name&quot; header=&quot;name&quot; /&gt;\r\n            &lt;column name=&quot;search_terms&quot; header=&quot;search_terms&quot; /&gt;\r\n        &lt;/loadData&gt;\r\n    &lt;/changeSet&gt;\r\n```\r\n```\r\n&lt;databaseChangeLog\r\n        xmlns=&quot;http://www.liquibase.org/xml/ns/dbchangelog&quot;\r\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n        xsi:schemaLocation=&quot;http://www.liquibase.org/xml/ns/dbchangelog\r\n   http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.4.xsd&quot;&gt;\r\n\r\n    &lt;changeSet id=&quot;create_service&quot; author=&quot;apal&quot;&gt;\r\n        &lt;createTable tableName=&quot;service&quot;&gt;\r\n            &lt;column name=&quot;id&quot; type=&quot;bigint&quot; autoIncrement=&quot;true&quot;&gt;\r\n                &lt;constraints primaryKey=&quot;true&quot;/&gt;\r\n            &lt;/column&gt;\r\n            &lt;column name=&quot;name&quot; type=&quot;varchar(255)&quot;/&gt;\r\n            &lt;column name=&quot;fk_category_id&quot; type=&quot;bigint&quot;/&gt;\r\n            &lt;column name=&quot;search_terms&quot; type=&quot;text&quot;/&gt;\r\n        &lt;/createTable&gt;\r\n    &lt;/changeSet&gt;\r\n    &lt;changeSet id=&quot;adding_constraints_company_service_mapping&quot; author=&quot;apal&quot;&gt;\r\n        &lt;addForeignKeyConstraint baseTableName=&quot;service&quot; baseColumnNames=&quot;fk_category_id&quot;\r\n                                 constraintName=&quot;fk_category_id&quot;\r\n                                 referencedTableName=&quot;category&quot;\r\n                                 referencedColumnNames=&quot;id&quot;\r\n                                 onDelete=&quot;CASCADE&quot;\r\n                                 onUpdate=&quot;RESTRICT&quot;/&gt;\r\n\r\n    &lt;/changeSet&gt;\r\n&lt;/databaseChangeLog&gt;\r\n```\r\n[Files](https://i.stack.imgur.com/iAuTO.png)\r\n[CSV file](https://i.stack.imgur.com/kmMQR.png)\r\nIt finds the file because i get this error: \r\n&gt; Caused by: liquibase.exception.MigrationFailedException: Migration failed for changeset liquibase/data/data.xml::Load data from CSV file Service::apal:\r\n     Reason: liquibase.exception.DatabaseException: The file liquibase/data/sz&#225;mlakezel&#233;s K&#246;nyvelő K&#246;nyvelő szolg&#225;ltat&#225;s K&#246;nyvelői szolg&#225;ltat&#225;sok Professzion&#225;lis k&#246;nyvelő V&#225;llalkoz&#225;s k&#246;nyvel&#233;se Ad&#243;tan&#225;csad&#225;s P&#233;nz&#252;gyi szakember &#220;zleti k&#246;nyvel&#233;s K&#246;nyvel&#233;si tan&#225;csad&#225;s K&#246;nyvelői szolg&#225;ltat&#225;sok CECCAR SAGA PFA k&#246;nyvel&#233;s SRL k&#246;nyvel&#233;s TVA was not found in the configured search path:\r\n    - Spring classpath\r\nMore locations can be added with the &#39;searchPath&#39; parameter.\r\n\r\n\r\nIn the error message after &#39;The file liquibase/data/&#39;... is data from the first row , fourth column. Any ideas ? Ty.\r\n","title":"Liquibase finds the file but i still get not found exception","body":"<p>I try to load some data from csv file to the DB.</p>\n<pre><code>    &lt;changeSet id=&quot;Load data from CSV file Service&quot; author=&quot;apal&quot; &gt;\n        &lt;loadData tableName=&quot;service&quot; file=&quot;liquibase/data/services.csv&quot;  &gt;\n            &lt;column name=&quot;id&quot; header=&quot;id&quot; /&gt;\n            &lt;column name=&quot;fk_category_id&quot; header=&quot;category_id&quot;/&gt;\n            &lt;column name=&quot;name&quot; header=&quot;name&quot; /&gt;\n            &lt;column name=&quot;search_terms&quot; header=&quot;search_terms&quot; /&gt;\n        &lt;/loadData&gt;\n    &lt;/changeSet&gt;\n</code></pre>\n<pre><code>&lt;databaseChangeLog\n        xmlns=&quot;http://www.liquibase.org/xml/ns/dbchangelog&quot;\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n        xsi:schemaLocation=&quot;http://www.liquibase.org/xml/ns/dbchangelog\n   http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.4.xsd&quot;&gt;\n\n    &lt;changeSet id=&quot;create_service&quot; author=&quot;apal&quot;&gt;\n        &lt;createTable tableName=&quot;service&quot;&gt;\n            &lt;column name=&quot;id&quot; type=&quot;bigint&quot; autoIncrement=&quot;true&quot;&gt;\n                &lt;constraints primaryKey=&quot;true&quot;/&gt;\n            &lt;/column&gt;\n            &lt;column name=&quot;name&quot; type=&quot;varchar(255)&quot;/&gt;\n            &lt;column name=&quot;fk_category_id&quot; type=&quot;bigint&quot;/&gt;\n            &lt;column name=&quot;search_terms&quot; type=&quot;text&quot;/&gt;\n        &lt;/createTable&gt;\n    &lt;/changeSet&gt;\n    &lt;changeSet id=&quot;adding_constraints_company_service_mapping&quot; author=&quot;apal&quot;&gt;\n        &lt;addForeignKeyConstraint baseTableName=&quot;service&quot; baseColumnNames=&quot;fk_category_id&quot;\n                                 constraintName=&quot;fk_category_id&quot;\n                                 referencedTableName=&quot;category&quot;\n                                 referencedColumnNames=&quot;id&quot;\n                                 onDelete=&quot;CASCADE&quot;\n                                 onUpdate=&quot;RESTRICT&quot;/&gt;\n\n    &lt;/changeSet&gt;\n&lt;/databaseChangeLog&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/iAuTO.png\" rel=\"nofollow noreferrer\">Files</a>\n<a href=\"https://i.stack.imgur.com/kmMQR.png\" rel=\"nofollow noreferrer\">CSV file</a>\nIt finds the file because i get this error:</p>\n<blockquote>\n<p>Caused by: liquibase.exception.MigrationFailedException: Migration failed for changeset liquibase/data/data.xml::Load data from CSV file Service::apal:\nReason: liquibase.exception.DatabaseException: The file liquibase/data/számlakezelés Könyvelő Könyvelő szolgáltatás Könyvelői szolgáltatások Professzionális könyvelő Vállalkozás könyvelése Adótanácsadás Pénzügyi szakember Üzleti könyvelés Könyvelési tanácsadás Könyvelői szolgáltatások CECCAR SAGA PFA könyvelés SRL könyvelés TVA was not found in the configured search path:\n- Spring classpath\nMore locations can be added with the 'searchPath' parameter.</p>\n</blockquote>\n<p>In the error message after 'The file liquibase/data/'... is data from the first row , fourth column. Any ideas ? Ty.</p>\n"},{"tags":["java","spring-boot","maven"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1690900825,"post_id":76812578,"comment_id":135415857,"body_markdown":"Please add your full class... Looks like you are missing imports. Another thing to try is to purge your repository `mvn dependency:purge-local-repository` which will remove the jars from the repository. Then try to build again. Also make sure that your project is imported properly as a maven project.","body":"Please add your full class... Looks like you are missing imports. Another thing to try is to purge your repository <code>mvn dependency:purge-local-repository</code> which will remove the jars from the repository. Then try to build again. Also make sure that your project is imported properly as a maven project."},{"owner":{"account_id":19820563,"reputation":1,"user_id":14517243,"display_name":"IeatBread"},"score":0,"creation_date":1690957785,"post_id":76812578,"comment_id":135423350,"body_markdown":"Thanks for the help :). Not sure what fixed it but, here&#39;s what I did:\n1. Changed the project folder to another drive\n2. Downloaded, installed Maven and added into environment variable and PATH.\n3. Ran intellij in Admin mode.","body":"Thanks for the help :). Not sure what fixed it but, here&#39;s what I did: 1. Changed the project folder to another drive 2. Downloaded, installed Maven and added into environment variable and PATH. 3. Ran intellij in Admin mode."}],"owner":{"account_id":19820563,"reputation":1,"user_id":14517243,"display_name":"IeatBread"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691068239,"creation_date":1690899489,"question_id":76812578,"body_markdown":"Was following this tutorial: https://www.youtube.com/watch?v=5PdEmeopJVQ&amp;t=1832s\r\n\r\nGot the following errors while running build:\r\n\r\n[I&#39;ve replace person info with &lt;&gt;]\r\n\r\n    C:\\Users\\&lt;&gt;\\Desktop\\Movie_App\\movies\\movies\\src\\main\\java\\dev\\&lt;&gt;\\movies\\MoviesApplication.java:3:32\r\n    java: package org.springframework.boot does not exist\r\n\r\n    C:\\Users\\&lt;&gt;\\Desktop\\Movie_App\\movies\\movies\\src\\main\\java\\dev\\&lt;&gt;\\movies\\MoviesApplication.java:4:46\r\n    java: package org.springframework.boot.autoconfigure does not exist\r\n    C:\\Users\\&lt;&gt;\\Desktop\\Movie_App\\movies\\movies\\src\\main\\java\\dev\\&lt;&gt;\\movies\\MoviesApplication.java:6:2\r\n    java: cannot find symbol\r\n      symbol: class SpringBootApplication\r\n    C:\\Users\\&lt;&gt;\\Desktop\\Movie_App\\movies\\movies\\src\\main\\java\\dev\\&lt;&gt;\\movies\\MoviesApplication.java:10:9\r\n    java: cannot find symbol\r\n      symbol:   variable SpringApplication\r\n      location: class dev.&lt;&gt;.movies.MoviesApplication\r\n\r\n\r\n----------------------------------------------------------------------------------------\r\nHere is my pom.xml\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.1.2&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;dev.&lt;&gt;&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;movies&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;movies&lt;/name&gt;\r\n\t&lt;description&gt;A simple APIs related to movies&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n----------------------------------------------------------------------------------------\r\n\r\n\r\nThings I&#39;ve tried:\r\n1. Ensuring &quot;Target bytecode version is 17&quot; in build,Execution,Deployment-&gt;Java Compiler -&gt; Module.\r\n2. I&#39;ve tried reloading all maven project using the Maven side tab.\r\n3. I&#39;ve made sure the jdk being used is 17 version.\r\n","title":"Build failure: java: package org.springframework.boot does not exist","body":"<p>Was following this tutorial: <a href=\"https://www.youtube.com/watch?v=5PdEmeopJVQ&amp;t=1832s\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=5PdEmeopJVQ&amp;t=1832s</a></p>\n<p>Got the following errors while running build:</p>\n<p>[I've replace person info with &lt;&gt;]</p>\n<pre><code>C:\\Users\\&lt;&gt;\\Desktop\\Movie_App\\movies\\movies\\src\\main\\java\\dev\\&lt;&gt;\\movies\\MoviesApplication.java:3:32\njava: package org.springframework.boot does not exist\n\nC:\\Users\\&lt;&gt;\\Desktop\\Movie_App\\movies\\movies\\src\\main\\java\\dev\\&lt;&gt;\\movies\\MoviesApplication.java:4:46\njava: package org.springframework.boot.autoconfigure does not exist\nC:\\Users\\&lt;&gt;\\Desktop\\Movie_App\\movies\\movies\\src\\main\\java\\dev\\&lt;&gt;\\movies\\MoviesApplication.java:6:2\njava: cannot find symbol\n  symbol: class SpringBootApplication\nC:\\Users\\&lt;&gt;\\Desktop\\Movie_App\\movies\\movies\\src\\main\\java\\dev\\&lt;&gt;\\movies\\MoviesApplication.java:10:9\njava: cannot find symbol\n  symbol:   variable SpringApplication\n  location: class dev.&lt;&gt;.movies.MoviesApplication\n</code></pre>\n<hr />\n<p>Here is my pom.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.2&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;dev.&lt;&gt;&lt;/groupId&gt;\n    &lt;artifactId&gt;movies&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;movies&lt;/name&gt;\n    &lt;description&gt;A simple APIs related to movies&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<hr />\n<p>Things I've tried:</p>\n<ol>\n<li>Ensuring &quot;Target bytecode version is 17&quot; in build,Execution,Deployment-&gt;Java Compiler -&gt; Module.</li>\n<li>I've tried reloading all maven project using the Maven side tab.</li>\n<li>I've made sure the jdk being used is 17 version.</li>\n</ol>\n"},{"tags":["java","inheritance"],"comments":[{"owner":{"account_id":1672011,"reputation":1318,"user_id":1538311,"display_name":"evg"},"score":2,"creation_date":1344371074,"post_id":11853504,"comment_id":15765947,"body_markdown":"B extends A* - otherwise compilation error","body":"B extends A* - otherwise compilation error"},{"owner":{"account_id":946167,"reputation":8733,"user_id":973391,"accept_rate":41,"display_name":"Phoenix"},"score":0,"creation_date":1344371118,"post_id":11853504,"comment_id":15765974,"body_markdown":"Yes. Haven&#39;t typed all of it here.","body":"Yes. Haven&#39;t typed all of it here."}],"answers":[{"comments":[{"owner":{"account_id":83230,"reputation":3296,"user_id":233495,"accept_rate":67,"display_name":"baraber"},"score":1,"creation_date":1344371899,"post_id":11853539,"comment_id":15766336,"body_markdown":"Ideed, member variables are not overridable. : [see this other thread](http://stackoverflow.com/q/685300/233495)","body":"Ideed, member variables are not overridable. : <a href=\"http://stackoverflow.com/q/685300/233495\">see this other thread</a>"}],"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1344370985,"creation_date":1344370985,"answer_id":11853539,"question_id":11853504,"body_markdown":"In *this* situation, it doesn&#39;t make any difference. However, as soon as you change to methods instead of variables, and introduce another method in `B` which shadows the one in `A`, *then* it makes a difference:\r\n\r\n    class A { \r\n        protected int a = 15; \r\n    }\r\n\r\n    class B extends A { \r\n        private int a = 10;\r\n\r\n        public void printA() {\r\n           System.out.println(super.a); // prints 15\r\n           System.out.println(this.a); // prints 10\r\n        }\r\n    }\r\n\r\nThis is more common with methods than with fields though - often an overriding implementation needs to call the superclass implementation as part of its implementation:\r\n\r\n    public void foo() {\r\n        super.foo();\r\n        // Now do something else\r\n    }\r\n\r\nI would personally recommend *avoiding* non-private fields, at which point the field part becomes irrelevant.\r\n\r\nSee [section 6.4.1 of the JLS][1] for more on shadowing.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/specs/jls/se7/html/jls-6.html#jls-6.4.1","title":"Accessing properties in a super class using super or this in the subclass?","body":"<p>In <em>this</em> situation, it doesn't make any difference. However, as soon as you change to methods instead of variables, and introduce another method in <code>B</code> which shadows the one in <code>A</code>, <em>then</em> it makes a difference:</p>\n\n<pre><code>class A { \n    protected int a = 15; \n}\n\nclass B extends A { \n    private int a = 10;\n\n    public void printA() {\n       System.out.println(super.a); // prints 15\n       System.out.println(this.a); // prints 10\n    }\n}\n</code></pre>\n\n<p>This is more common with methods than with fields though - often an overriding implementation needs to call the superclass implementation as part of its implementation:</p>\n\n<pre><code>public void foo() {\n    super.foo();\n    // Now do something else\n}\n</code></pre>\n\n<p>I would personally recommend <em>avoiding</em> non-private fields, at which point the field part becomes irrelevant.</p>\n\n<p>See <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-6.html#jls-6.4.1\" rel=\"noreferrer\">section 6.4.1 of the JLS</a> for more on shadowing.</p>\n"}],"owner":{"account_id":946167,"reputation":8733,"user_id":973391,"accept_rate":41,"display_name":"Phoenix"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4737,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":11853539,"answer_count":1,"score":2,"last_activity_date":1691068172,"creation_date":1344370846,"question_id":11853504,"body_markdown":"In terms of values for properties defined in the super class using the same property in the sub-class and the property is defined as protected, then using `super` or `this` does not make any difference right? **Then why does the language really have these ways of accessing the properties?** Is there a scenario where they will have different values?\r\n\r\n```java\r\nclass A {\r\n    protected int a = 15; \r\n}\r\n        \r\nclass B extends A { \r\n    public void printA() {\r\n        System.out.print(super.a) // prints 15\r\n        System.out.print(this.a) // prints 15\r\n    }\r\n}\r\n```","title":"Accessing properties in a super class using super or this in the subclass?","body":"<p>In terms of values for properties defined in the super class using the same property in the sub-class and the property is defined as protected, then using <code>super</code> or <code>this</code> does not make any difference right? <strong>Then why does the language really have these ways of accessing the properties?</strong> Is there a scenario where they will have different values?</p>\n<pre class=\"lang-java prettyprint-override\"><code>class A {\n    protected int a = 15; \n}\n        \nclass B extends A { \n    public void printA() {\n        System.out.print(super.a) // prints 15\n        System.out.print(this.a) // prints 15\n    }\n}\n</code></pre>\n"},{"tags":["java","selenium-webdriver","serenity-bdd"],"answers":[{"tags":[],"owner":{"account_id":11068703,"reputation":464,"user_id":8127672,"accept_rate":100,"display_name":"JavaMan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1691067861,"creation_date":1691067861,"answer_id":76828381,"question_id":76824550,"body_markdown":"The issue with the firefox browser resolved by removing the geckodriver from /usr/local/bin/geckodriver.\r\n\r\nThe issue with safari browser resolved once Allow Remote Automation enabled from the develop menu","title":"Unable to launch Selenium Serenity tests on Firefox or Safari due to net.thucydides.core.webdriver.DriverConfigurationError","body":"<p>The issue with the firefox browser resolved by removing the geckodriver from /usr/local/bin/geckodriver.</p>\n<p>The issue with safari browser resolved once Allow Remote Automation enabled from the develop menu</p>\n"}],"owner":{"account_id":11068703,"reputation":464,"user_id":8127672,"accept_rate":100,"display_name":"JavaMan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76828381,"answer_count":1,"score":0,"last_activity_date":1691067861,"creation_date":1691029256,"question_id":76824550,"body_markdown":"I am trying to launch Serenity Selenium tests on firefox and safari. The tests works with Chrrome however, when launched using firefox I notice error - net.thucydides.core.webdriver.DriverConfigurationError: WebDriver was unable to create a new instance of type class org.openqa.selenium.firefox.FirefoxDriver.\r\n\r\nSample code:\r\n\r\n    @Test\r\n    public void shouldDisplayHighlightedProductsOnTheWelcomePage() {\r\n        login.as(User.STANDARD_USER);\r\n    \r\n        List&lt;String&gt; productsOnDisplay = productList.titles();\r\n    \r\n        assertThat(productsOnDisplay).hasSize(6)\r\n                .contains(&quot;Sauce Labs Backpack&quot;);\r\n    }\r\n    \r\n    serenity.conf looks like this:\r\n    \r\n        serenity.test.root=serenityswag\r\n        webdriver.driver=firefox\r\n        serenity.take.screenshots=BEFORE_AND_AFTER_EACH_STEP\r\n        serenity.browser.maximized = true\r\n    \r\nLoginactions.java looks like this:\r\n\r\n    public class LoginActions extends UIInteractionSteps {\r\n        @Step(&quot;Log in as {0}&quot;)\r\n        public void as(User user) {\r\n            openUrl(&quot;https://www.saucedemo.com/&quot;);\r\n    \r\n            // Login as a standard user\r\n            $(&quot;[data-test=&#39;username&#39;]&quot;).sendKeys(user.getUsername());\r\n            $(&quot;[data-test=&#39;password&#39;]&quot;).sendKeys(user.getPassword());\r\n            $(&quot;[data-test=&#39;login-button&#39;]&quot;).click();\r\n        }\r\n    \r\n    The error I see is following:\r\n    \r\n        net.thucydides.core.webdriver.DriverConfigurationError: WebDriver was unable to create a new instance of type class org.openqa.selenium.firefox.FirefoxDriver\r\n        WebDriver reported the following message: Could not start a new session. Possible causes are invalid address of the remote server or browser start-up failure.\r\n        See below for more details.\r\n        \r\n        \tat serenityswag.authentication.actions.LoginActions.as(LoginActions.java:10)\r\n        \tat serenityswag.inventory.WhenViewingHighlightedProducts.shouldDisplayHighlightedProductsOnTheWelcomePage(WhenViewingHighlightedProducts.java:32)\r\n        \r\n        07:39:39.688 [main] ERROR  - \r\n          _____   ___   ___   _____     ___   ___   ___    ___    ___ \r\n         |_   _| | __| / __| |_   _|   | __| | _ \\ | _ \\  / _ \\  | _ \\\r\n           | |   | _|  \\__ \\   | |     | _|  |   / |   / | (_) | |   /\r\n           |_|   |___| |___/   |_|     |___| |_|_\\ |_|_\\  \\___/  |_|_\\\r\n        \r\n        Should display highlighted products on the welcome page\r\n        ---------------------------------------------------------------\r\n        07:39:39.691 [main] DEBUG  - RELATED ISSUES: \r\n        07:39:39.760 [main] ERROR  -     Test failed at step: Log in as a standard user\r\n        07:39:39.760 [main] ERROR  -     Could not instantiate class org.openqa.selenium.firefox.FirefoxDriver\r\n","title":"Unable to launch Selenium Serenity tests on Firefox or Safari due to net.thucydides.core.webdriver.DriverConfigurationError","body":"<p>I am trying to launch Serenity Selenium tests on firefox and safari. The tests works with Chrrome however, when launched using firefox I notice error - net.thucydides.core.webdriver.DriverConfigurationError: WebDriver was unable to create a new instance of type class org.openqa.selenium.firefox.FirefoxDriver.</p>\n<p>Sample code:</p>\n<pre><code>@Test\npublic void shouldDisplayHighlightedProductsOnTheWelcomePage() {\n    login.as(User.STANDARD_USER);\n\n    List&lt;String&gt; productsOnDisplay = productList.titles();\n\n    assertThat(productsOnDisplay).hasSize(6)\n            .contains(&quot;Sauce Labs Backpack&quot;);\n}\n\nserenity.conf looks like this:\n\n    serenity.test.root=serenityswag\n    webdriver.driver=firefox\n    serenity.take.screenshots=BEFORE_AND_AFTER_EACH_STEP\n    serenity.browser.maximized = true\n</code></pre>\n<p>Loginactions.java looks like this:</p>\n<pre><code>public class LoginActions extends UIInteractionSteps {\n    @Step(&quot;Log in as {0}&quot;)\n    public void as(User user) {\n        openUrl(&quot;https://www.saucedemo.com/&quot;);\n\n        // Login as a standard user\n        $(&quot;[data-test='username']&quot;).sendKeys(user.getUsername());\n        $(&quot;[data-test='password']&quot;).sendKeys(user.getPassword());\n        $(&quot;[data-test='login-button']&quot;).click();\n    }\n\nThe error I see is following:\n\n    net.thucydides.core.webdriver.DriverConfigurationError: WebDriver was unable to create a new instance of type class org.openqa.selenium.firefox.FirefoxDriver\n    WebDriver reported the following message: Could not start a new session. Possible causes are invalid address of the remote server or browser start-up failure.\n    See below for more details.\n    \n        at serenityswag.authentication.actions.LoginActions.as(LoginActions.java:10)\n        at serenityswag.inventory.WhenViewingHighlightedProducts.shouldDisplayHighlightedProductsOnTheWelcomePage(WhenViewingHighlightedProducts.java:32)\n    \n    07:39:39.688 [main] ERROR  - \n      _____   ___   ___   _____     ___   ___   ___    ___    ___ \n     |_   _| | __| / __| |_   _|   | __| | _ \\ | _ \\  / _ \\  | _ \\\n       | |   | _|  \\__ \\   | |     | _|  |   / |   / | (_) | |   /\n       |_|   |___| |___/   |_|     |___| |_|_\\ |_|_\\  \\___/  |_|_\\\n    \n    Should display highlighted products on the welcome page\n    ---------------------------------------------------------------\n    07:39:39.691 [main] DEBUG  - RELATED ISSUES: \n    07:39:39.760 [main] ERROR  -     Test failed at step: Log in as a standard user\n    07:39:39.760 [main] ERROR  -     Could not instantiate class org.openqa.selenium.firefox.FirefoxDriver\n</code></pre>\n"},{"tags":["java","numbers"],"comments":[{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":3,"creation_date":1364135590,"post_id":15599674,"comment_id":22121213,"body_markdown":"Your new question has nothing to do with the original one... Please decide what you want to ask for before posting.","body":"Your new question has nothing to do with the original one... Please decide what you want to ask for before posting."}],"answers":[{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1364136314,"post_id":15599790,"comment_id":22121426,"body_markdown":"This is true, but it is worth nothing that type casts for primitive types typically *do* entail value conversion.","body":"This is true, but it is worth nothing that type casts for primitive types typically <i>do</i> entail value conversion."}],"tags":[],"owner":{"account_id":1920143,"reputation":7756,"user_id":1731862,"accept_rate":71,"display_name":"Ankur Shanbhag"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1364136101,"creation_date":1364136101,"answer_id":15599790,"question_id":15599674,"body_markdown":"Type casting is used to make object of one type assign to other without altering or parsing the contents of the object. While parseInt method parses the String values and converts it to integer value i.e. converts String value to integer.\r\n\r\nType casting has nothing to do with contents of the object. It is only used for assigning reference type of one type to another.\r\nEg : `Object obj = new String(&quot;&quot;); String string = (String) obj;`","title":"When to use Integer.parseint","body":"<p>Type casting is used to make object of one type assign to other without altering or parsing the contents of the object. While parseInt method parses the String values and converts it to integer value i.e. converts String value to integer.</p>\n\n<p>Type casting has nothing to do with contents of the object. It is only used for assigning reference type of one type to another.\nEg : <code>Object obj = new String(\"\"); String string = (String) obj;</code></p>\n"},{"comments":[{"owner":{"account_id":18740842,"reputation":3833,"user_id":13664137,"display_name":"moken"},"score":0,"creation_date":1690701780,"post_id":72257300,"comment_id":135388192,"body_markdown":"Answer needs supporting information\nYour answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](https://stackoverflow.com/help/how-to-answer).","body":"Answer needs supporting information Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/72257300/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"https://stackoverflow.com/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":23488100,"reputation":1,"user_id":17539423,"display_name":"Sunil kumar"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1691067583,"creation_date":1652694781,"answer_id":72257300,"question_id":15599674,"body_markdown":"    // System.out.println(foos);\r\n    int foo = Integer.parseInt(&quot;45&quot;);\r\n    \r\n    foo+= 3;\r\n    System.out.println(foo);\r\n    int zoo = Integer.parseInt(&quot;4576876&quot;);\r\n    System.out.println(zoo);","title":"When to use Integer.parseint","body":"<pre><code>// System.out.println(foos);\nint foo = Integer.parseInt(&quot;45&quot;);\n\nfoo+= 3;\nSystem.out.println(foo);\nint zoo = Integer.parseInt(&quot;4576876&quot;);\nSystem.out.println(zoo);\n</code></pre>\n"}],"owner":{"account_id":2538149,"reputation":524,"user_id":2204672,"accept_rate":71,"display_name":"JAVA"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5835,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":15599790,"answer_count":2,"score":2,"last_activity_date":1691067583,"creation_date":1364135314,"question_id":15599674,"body_markdown":"Why is Integer.parseint() used when we have type casting?\r\n\r\nMaybe another way to ask this question would be:\r\n\r\nWhen should Integer.parseint() be used over type casting?","title":"When to use Integer.parseint","body":"<p>Why is Integer.parseint() used when we have type casting?</p>\n\n<p>Maybe another way to ask this question would be:</p>\n\n<p>When should Integer.parseint() be used over type casting?</p>\n"},{"tags":["java","android","firebase","google-cloud-platform","google-cloud-firestore"],"answers":[{"tags":[],"owner":{"account_id":4108664,"reputation":80443,"user_id":3371862,"accept_rate":73,"display_name":"Renaud Tarnec"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1664034396,"creation_date":1664034396,"answer_id":73838561,"question_id":73838519,"body_markdown":"As explained in the [doc][1], you should use the [`set()`][2] method of the [`DocumentReference`][3] Class.\r\n\r\n\r\n    db.collection(&quot;users&quot;)\r\n            .document(&quot;theIDYouWant&quot;)  // &lt;== Specify the Doc ID here\r\n            .set(user)\r\n            .addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\r\n                @Override\r\n                public void onSuccess(Void aVoid) {\r\n                    Log.d(TAG, &quot;DocumentSnapshot successfully written!&quot;);\r\n                }\r\n            })\r\n            .addOnFailureListener(new OnFailureListener() {\r\n                @Override\r\n                public void onFailure(@NonNull Exception e) {\r\n                    Log.w(TAG, &quot;Error writing document&quot;, e);\r\n                }\r\n            });\r\n\r\n\r\n  [1]: https://firebase.google.com/docs/firestore/manage-data/add-data#set_a_document\r\n  [2]: https://firebase.google.com/docs/reference/android/com/google/firebase/firestore/DocumentReference#public-taskvoid-set-object-data\r\n  [3]: https://firebase.google.com/docs/reference/android/com/google/firebase/firestore/DocumentReference","title":"How to add data with Custom ID to firestore?","body":"<p>As explained in the <a href=\"https://firebase.google.com/docs/firestore/manage-data/add-data#set_a_document\" rel=\"nofollow noreferrer\">doc</a>, you should use the <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/firestore/DocumentReference#public-taskvoid-set-object-data\" rel=\"nofollow noreferrer\"><code>set()</code></a> method of the <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/firestore/DocumentReference\" rel=\"nofollow noreferrer\"><code>DocumentReference</code></a> Class.</p>\n<pre><code>db.collection(&quot;users&quot;)\n        .document(&quot;theIDYouWant&quot;)  // &lt;== Specify the Doc ID here\n        .set(user)\n        .addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\n            @Override\n            public void onSuccess(Void aVoid) {\n                Log.d(TAG, &quot;DocumentSnapshot successfully written!&quot;);\n            }\n        })\n        .addOnFailureListener(new OnFailureListener() {\n            @Override\n            public void onFailure(@NonNull Exception e) {\n                Log.w(TAG, &quot;Error writing document&quot;, e);\n            }\n        });\n</code></pre>\n"}],"owner":{"account_id":19474831,"reputation":33,"user_id":14246404,"display_name":"Filayeng"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":460,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1664035096,"accepted_answer_id":73838561,"answer_count":1,"score":1,"last_activity_date":1691066765,"creation_date":1664034048,"question_id":73838519,"body_markdown":"```\r\ndb.collection(&quot;users&quot;)\r\n                .add(user)\r\n                .addOnSuccessListener(new OnSuccessListener&lt;DocumentReference&gt;() {\r\n                    @Override\r\n                    public void onSuccess(DocumentReference documentReference) {\r\n                        Log.d(TAG, &quot;DocumentSnapshot added with ID: &quot; + documentReference.getId());\r\n                    }\r\n                })\r\n                .addOnFailureListener(new OnFailureListener() {\r\n                    @Override\r\n                    public void onFailure(@NonNull Exception e) {\r\n                        Log.w(TAG, &quot;Error adding document&quot;, e);\r\n                    }\r\n                });\r\n```\r\n\r\n-Above code generates ID automatically.\r\n\r\nHow to add data with Custom ID to firestore ?\r\nMy purpose is to create a custom ID and write text data into this collection.\r\nCan,you help me ?\r\nThank you.","title":"How to add data with Custom ID to firestore?","body":"<pre><code>db.collection(&quot;users&quot;)\n                .add(user)\n                .addOnSuccessListener(new OnSuccessListener&lt;DocumentReference&gt;() {\n                    @Override\n                    public void onSuccess(DocumentReference documentReference) {\n                        Log.d(TAG, &quot;DocumentSnapshot added with ID: &quot; + documentReference.getId());\n                    }\n                })\n                .addOnFailureListener(new OnFailureListener() {\n                    @Override\n                    public void onFailure(@NonNull Exception e) {\n                        Log.w(TAG, &quot;Error adding document&quot;, e);\n                    }\n                });\n</code></pre>\n<p>-Above code generates ID automatically.</p>\n<p>How to add data with Custom ID to firestore ?\nMy purpose is to create a custom ID and write text data into this collection.\nCan,you help me ?\nThank you.</p>\n"},{"tags":["java","gradle","dependencies","cucumber"],"comments":[{"owner":{"account_id":4895787,"reputation":10858,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1691078942,"post_id":76827582,"comment_id":135446150,"body_markdown":"That course may be a bit old. Try starting with https://github.com/cucumber/cucumber-java-skeleton for a working project.","body":"That course may be a bit old. Try starting with <a href=\"https://github.com/cucumber/cucumber-java-skeleton\" rel=\"nofollow noreferrer\">github.com/cucumber/cucumber-java-skeleton</a> for a working project."}],"owner":{"account_id":28292142,"reputation":11,"user_id":21632099,"display_name":"carlos lopez"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1691066694,"creation_date":1691061526,"question_id":76827582,"body_markdown":"Hello I am following a course about selenium and cucumber, I am trying to import the dependencies of cucumber for the creation of a runner class but intellij does not recognize the dependencies.\r\n\r\nthis is my `build.gradle`\r\n``` groovy\r\nplugins {\r\n    id &#39;java&#39;\r\n}\r\n\r\ngroup = &#39;org.example&#39;\r\nversion = &#39;1.0-SNAPSHOT&#39;\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    // https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java\r\n    implementation group: &#39;org.seleniumhq.selenium&#39;, name: &#39;selenium-java&#39;, version: &#39;4.11.0&#39;\r\n    implementation group: &#39;io.cucumber&#39;, name: &#39;cucumber-java&#39;, version: &#39;7.13.0&#39;\r\n    implementation &#39;junit:junit:4.13.1&#39;\r\n    testImplementation &#39;io.cucumber:cucumber-junit:7.13.0&#39;\r\n\r\n}\r\n\r\n\r\ntest {\r\n    useJUnitPlatform()\r\n}\r\n```\r\n\r\nand this is the code i&#39;m trying to \r\n\r\n\r\n``` java\r\nimport org.junit.runner.RunWith;\r\nimport cucumber.api.junit.Cucumber;\r\nimport cucumber.api.CucumberOptions;\r\n\r\n@RunWith(Cucumber.class)\r\n@CucumberOptions(\r\n        features = &quot;src/test/resources/features&quot;,\r\n        glue = &quot;steps&quot;\r\n)\r\npublic class Runner {\r\n}\r\n```\r\nthe IDE only gives me the option to search for jar on web but when i click it, it does nothing. [see thi screenshot](https://i.stack.imgur.com/8JPiN.png) \r\n\r\n\r\nHow do I import the dependencies correctly?","title":"trying to import cucumber","body":"<p>Hello I am following a course about selenium and cucumber, I am trying to import the dependencies of cucumber for the creation of a runner class but intellij does not recognize the dependencies.</p>\n<p>this is my <code>build.gradle</code></p>\n<pre><code>plugins {\n    id 'java'\n}\n\ngroup = 'org.example'\nversion = '1.0-SNAPSHOT'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    // https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java\n    implementation group: 'org.seleniumhq.selenium', name: 'selenium-java', version: '4.11.0'\n    implementation group: 'io.cucumber', name: 'cucumber-java', version: '7.13.0'\n    implementation 'junit:junit:4.13.1'\n    testImplementation 'io.cucumber:cucumber-junit:7.13.0'\n\n}\n\n\ntest {\n    useJUnitPlatform()\n}\n</code></pre>\n<p>and this is the code i'm trying to</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.junit.runner.RunWith;\nimport cucumber.api.junit.Cucumber;\nimport cucumber.api.CucumberOptions;\n\n@RunWith(Cucumber.class)\n@CucumberOptions(\n        features = &quot;src/test/resources/features&quot;,\n        glue = &quot;steps&quot;\n)\npublic class Runner {\n}\n</code></pre>\n<p>the IDE only gives me the option to search for jar on web but when i click it, it does nothing. <a href=\"https://i.stack.imgur.com/8JPiN.png\" rel=\"nofollow noreferrer\">see thi screenshot</a></p>\n<p>How do I import the dependencies correctly?</p>\n"},{"tags":["java","sql","hibernate","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":5300710,"reputation":269,"user_id":4230445,"display_name":"rahulP"},"score":0,"creation_date":1690868717,"post_id":76807579,"comment_id":135409147,"body_markdown":"Share you pom.xml as well. Does this help? https://stackoverflow.com/questions/28370940/orphanremoval-not-working-properly-in-hibernate-element-inserted-and-removed-f","body":"Share you pom.xml as well. Does this help? <a href=\"https://stackoverflow.com/questions/28370940/orphanremoval-not-working-properly-in-hibernate-element-inserted-and-removed-f\" title=\"orphanremoval not working properly in hibernate element inserted and removed f\">stackoverflow.com/questions/28370940/&hellip;</a>"},{"owner":{"account_id":24290263,"reputation":11,"user_id":18235420,"display_name":"momopoi"},"score":0,"creation_date":1690995817,"post_id":76807579,"comment_id":135431869,"body_markdown":"My pom.xml is generated my Spring initializer, so I don&#39;t think it can help. Nope, that question is different(((","body":"My pom.xml is generated my Spring initializer, so I don&#39;t think it can help. Nope, that question is different((("},{"owner":{"account_id":5300710,"reputation":269,"user_id":4230445,"display_name":"rahulP"},"score":0,"creation_date":1690996025,"post_id":76807579,"comment_id":135431905,"body_markdown":"Still please share it. Need to see your dependencies.","body":"Still please share it. Need to see your dependencies."},{"owner":{"account_id":24290263,"reputation":11,"user_id":18235420,"display_name":"momopoi"},"score":0,"creation_date":1691064419,"post_id":76807579,"comment_id":135442724,"body_markdown":"@rahulP I&#39;ve added pom.xml, if you need full pom.xml let me know","body":"@rahulP I&#39;ve added pom.xml, if you need full pom.xml let me know"},{"owner":{"account_id":5300710,"reputation":269,"user_id":4230445,"display_name":"rahulP"},"score":0,"creation_date":1691065186,"post_id":76807579,"comment_id":135442883,"body_markdown":"Need the version of these dependencies.","body":"Need the version of these dependencies."},{"owner":{"account_id":24290263,"reputation":11,"user_id":18235420,"display_name":"momopoi"},"score":0,"creation_date":1691072946,"post_id":76807579,"comment_id":135444768,"body_markdown":"@rahulP\n&lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.1&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;","body":"@rahulP &lt;parent&gt;         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;         &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;         &lt;version&gt;3.1.1&lt;/version&gt;         &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;     &lt;/parent&gt;"},{"owner":{"account_id":5300710,"reputation":269,"user_id":4230445,"display_name":"rahulP"},"score":0,"creation_date":1691074345,"post_id":76807579,"comment_id":135445107,"body_markdown":"have you marked the method as @Transactional where you are doing the operation? If not, please mark it as transactional and try again.","body":"have you marked the method as @Transactional where you are doing the operation? If not, please mark it as transactional and try again."},{"owner":{"account_id":24290263,"reputation":11,"user_id":18235420,"display_name":"momopoi"},"score":0,"creation_date":1691076117,"post_id":76807579,"comment_id":135445506,"body_markdown":"@rahulP \nI&#39;ve marked and it works, thank you sooo much for your time and explanations)","body":"@rahulP  I&#39;ve marked and it works, thank you sooo much for your time and explanations)"}],"answers":[{"tags":[],"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691065607,"creation_date":1691065240,"answer_id":76828016,"question_id":76807579,"body_markdown":"&gt; can anyone tell me why when I remove an entity object from a collection hibernate does not perform a DELETE operation even though I specified the orphanRemoval = true option?\r\n\r\nBecause that&#39;s not what `orphanRemoval` does.  Orphan removal is analogous to cascading deletes at the SQL level. It means that if the entity on the side of the relationship annotated with `orphanRemoval = true` is removed, then the entities orphaned by that removal -- the related ones on the other side of the relationship -- will automatically be removed too.\r\n\r\nJust severing the relationship does not trigger orphan removal, and you can&#39;t actually sever the relationship from the non-owning side anyway.  (At least, not by manipulating the relationship field on that end.)\r\n\r\nIf you want to delete an entity that is on the &quot;many&quot; side of a many-to-one relationship then just do that.  If you want to update the entity on the &quot;one&quot; side without refreshing it from the DB then do that, too.","title":"orphanRemoval doesn&#39;t work in JPA(Hibernate)","body":"<blockquote>\n<p>can anyone tell me why when I remove an entity object from a collection hibernate does not perform a DELETE operation even though I specified the orphanRemoval = true option?</p>\n</blockquote>\n<p>Because that's not what <code>orphanRemoval</code> does.  Orphan removal is analogous to cascading deletes at the SQL level. It means that if the entity on the side of the relationship annotated with <code>orphanRemoval = true</code> is removed, then the entities orphaned by that removal -- the related ones on the other side of the relationship -- will automatically be removed too.</p>\n<p>Just severing the relationship does not trigger orphan removal, and you can't actually sever the relationship from the non-owning side anyway.  (At least, not by manipulating the relationship field on that end.)</p>\n<p>If you want to delete an entity that is on the &quot;many&quot; side of a many-to-one relationship then just do that.  If you want to update the entity on the &quot;one&quot; side without refreshing it from the DB then do that, too.</p>\n"}],"owner":{"account_id":24290263,"reputation":11,"user_id":18235420,"display_name":"momopoi"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1691065607,"creation_date":1690844534,"question_id":76807579,"body_markdown":"can anyone tell me why when I remove an entity object from a collection hibernate does not perform a DELETE operation even though I specified the orphanRemoval = true option?\r\n\r\nI am using Spring boot with JPA/Hibernate, idk how it can can help, but I use PostgreSQL \r\n\r\ndo not beat for the quality of the code, this is just for example)\r\n\r\nSo here is code where I remove entity object from collection:\r\n\r\n```\r\nContent content = contentRepository.findById(1L).get();\r\nContentRating rating = content.getRatings().get(0);\r\n\r\ncontent.getRatings().remove(rating);\r\nrating.setContent(null);\r\n```\r\n\r\nHere is code of Content entity:\r\n\r\n```\r\n@Entity\r\n@Getter\r\n@Setter\r\npublic class Content {\r\n\r\n    @Id\r\n    @GeneratedValue\r\n    private Long id;\r\n\r\n    @OneToMany(\r\n            mappedBy = &quot;content&quot;,\r\n            cascade = CascadeType.ALL,\r\n            orphanRemoval = true\r\n    )\r\n    private List&lt;ContentRating&gt; ratings = new ArrayList&lt;&gt;();\r\n\r\n    // hashCode and equals implementations omitted\r\n}\r\n```\r\n\r\nHere is code of ContentRating entity:\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;content_rating&quot;)\r\n@Data\r\npublic class ContentRating {\r\n\r\n    @Id\r\n    @GeneratedValue\r\n    private Long id;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;content_id&quot;, referencedColumnName = &quot;id&quot;)\r\n    private Content content;\r\n    \r\n    // hashCode and equals implementations omitted\r\n}\r\n```\r\n\r\nHere is executed SQL queries:\r\n\r\n```\r\nHibernate: \r\n    select\r\n        c1_0.id \r\n    from\r\n        content c1_0 \r\n    where\r\n        c1_0.id=?\r\nHibernate: \r\n    select\r\n        r1_0.content_id,\r\n        r1_0.id \r\n    from\r\n        content_rating r1_0 \r\n    where\r\n        r1_0.content_id=?\r\n```\r\n\r\nHere is my pom.xml\r\n```xml\r\n &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                        &lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n```","title":"orphanRemoval doesn&#39;t work in JPA(Hibernate)","body":"<p>can anyone tell me why when I remove an entity object from a collection hibernate does not perform a DELETE operation even though I specified the orphanRemoval = true option?</p>\n<p>I am using Spring boot with JPA/Hibernate, idk how it can can help, but I use PostgreSQL</p>\n<p>do not beat for the quality of the code, this is just for example)</p>\n<p>So here is code where I remove entity object from collection:</p>\n<pre><code>Content content = contentRepository.findById(1L).get();\nContentRating rating = content.getRatings().get(0);\n\ncontent.getRatings().remove(rating);\nrating.setContent(null);\n</code></pre>\n<p>Here is code of Content entity:</p>\n<pre><code>@Entity\n@Getter\n@Setter\npublic class Content {\n\n    @Id\n    @GeneratedValue\n    private Long id;\n\n    @OneToMany(\n            mappedBy = &quot;content&quot;,\n            cascade = CascadeType.ALL,\n            orphanRemoval = true\n    )\n    private List&lt;ContentRating&gt; ratings = new ArrayList&lt;&gt;();\n\n    // hashCode and equals implementations omitted\n}\n</code></pre>\n<p>Here is code of ContentRating entity:</p>\n<pre><code>@Entity\n@Table(name = &quot;content_rating&quot;)\n@Data\npublic class ContentRating {\n\n    @Id\n    @GeneratedValue\n    private Long id;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;content_id&quot;, referencedColumnName = &quot;id&quot;)\n    private Content content;\n    \n    // hashCode and equals implementations omitted\n}\n</code></pre>\n<p>Here is executed SQL queries:</p>\n<pre><code>Hibernate: \n    select\n        c1_0.id \n    from\n        content c1_0 \n    where\n        c1_0.id=?\nHibernate: \n    select\n        r1_0.content_id,\n        r1_0.id \n    from\n        content_rating r1_0 \n    where\n        r1_0.content_id=?\n</code></pre>\n<p>Here is my pom.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code> &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n"},{"tags":["java","javapos"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1691061201,"post_id":76826489,"comment_id":135442046,"body_markdown":"It&#39;s going to be better for you if you post the *full stack trace, formatted as code*","body":"It&#39;s going to be better for you if you post the <i>full stack trace, formatted as code</i>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1691061615,"post_id":76826489,"comment_id":135442122,"body_markdown":"Incidentally that code, if it&#39;s jpos, seems to be `E_ILLEGAL`","body":"Incidentally that code, if it&#39;s jpos, seems to be <code>E_ILLEGAL</code>"},{"owner":{"account_id":29150773,"reputation":1,"user_id":22331679,"display_name":"LG1598"},"score":0,"creation_date":1691137073,"post_id":76826489,"comment_id":135453907,"body_markdown":"Yes, it means that the Control is already open but i don&#39;t know why","body":"Yes, it means that the Control is already open but i don&#39;t know why"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1691140267,"post_id":76826489,"comment_id":135454486,"body_markdown":"How do you know it means that?","body":"How do you know it means that?"},{"owner":{"account_id":29150773,"reputation":1,"user_id":22331679,"display_name":"LG1598"},"score":0,"creation_date":1691142102,"post_id":76826489,"comment_id":135454821,"body_markdown":"On Java for Retail POS Programming Guide, under the open method explanation it says this:","body":"On Java for Retail POS Programming Guide, under the open method explanation it says this:"},{"owner":{"account_id":29150773,"reputation":1,"user_id":22331679,"display_name":"LG1598"},"score":0,"creation_date":1691142124,"post_id":76826489,"comment_id":135454825,"body_markdown":"Some possible values of the exception’s ErrorCode property are:\nValue Meaning\nJPOS_E_ILLEGAL The Control is already open.\nJPOS_E_NOEXIST The specified logicalDeviceName was not found.\nJPOS_E_NOSERVICE Could not establish a connection to the corresponding \nDevice Service.","body":"Some possible values of the exception’s ErrorCode property are: Value Meaning JPOS_E_ILLEGAL The Control is already open. JPOS_E_NOEXIST The specified logicalDeviceName was not found. JPOS_E_NOSERVICE Could not establish a connection to the corresponding  Device Service."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1691142281,"post_id":76826489,"comment_id":135454856,"body_markdown":"In terms of a printer, I don&#39;t know what &quot;the control is already open&quot; could mean","body":"In terms of a printer, I don&#39;t know what &quot;the control is already open&quot; could mean"},{"owner":{"account_id":29150773,"reputation":1,"user_id":22331679,"display_name":"LG1598"},"score":0,"creation_date":1691142643,"post_id":76826489,"comment_id":135454932,"body_markdown":"I think it means that opens a device for  I/O","body":"I think it means that opens a device for  I/O"},{"owner":{"account_id":12359629,"reputation":4160,"user_id":9014308,"display_name":"kunif"},"score":0,"creation_date":1692492861,"post_id":76826489,"comment_id":135630677,"body_markdown":"Given the source code presented, as already commented, the printer is probably left open. Running the program multiple times without resetting or restarting the printer will cause problems like the one in your question. It is necessary to execute `setDeviceEnabled(false);`, `release();`, `close();` for `stampante.` at the end of the program.","body":"Given the source code presented, as already commented, the printer is probably left open. Running the program multiple times without resetting or restarting the printer will cause problems like the one in your question. It is necessary to execute <code>setDeviceEnabled(false);</code>, <code>release();</code>, <code>close();</code> for <code>stampante.</code> at the end of the program."}],"owner":{"account_id":29150773,"reputation":1,"user_id":22331679,"display_name":"LG1598"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691065591,"creation_date":1691053433,"question_id":76826489,"body_markdown":"I&#39;m trying to open a connection with JavaPOS to a fiscal printer via VPN. Actually, with a printer I can do this task but with a customer&#39;s printer this error comes out:\r\n\r\n```none\r\njpos.JposException: 106, 0\r\n\tat jp.co.epson.FiscalDriver.FiscalPrinter.CommonFiscalPrinterService.open(CommonFiscalPrinterService.java:2436)\r\n\tat jpos.BaseJposControl.open(Unknown Source)\r\n\tat Main.main(Main.java:11)\r\n```\r\n\r\nWhat do you think could be the problem? The error 106 in opening the printer communication means that the communication is already open but I&#39;ve never done it.\r\n\r\nMy code:\r\n\r\n```java\r\npublic static void main(String[] args) \r\n{\r\n\tFiscalPrinter stampante = new FiscalPrinter();\r\n\ttry \r\n\t{\r\n\t\tstampante.open(&quot;P&quot;);\r\n\t\tstampante.claim(1000);\r\n\t\tstampante.setDeviceEnabled(true);\r\n\t\tSystem.out.println(&quot;YES !&quot;);\r\n\t} \r\n\tcatch (JposException e) \r\n\t{\r\n\t\te.printStackTrace();\r\n\t}\r\n}\r\n```\r\n","title":"Open communication with a fiscal printer via VPN in JavaPOS","body":"<p>I'm trying to open a connection with JavaPOS to a fiscal printer via VPN. Actually, with a printer I can do this task but with a customer's printer this error comes out:</p>\n<pre class=\"lang-none prettyprint-override\"><code>jpos.JposException: 106, 0\n    at jp.co.epson.FiscalDriver.FiscalPrinter.CommonFiscalPrinterService.open(CommonFiscalPrinterService.java:2436)\n    at jpos.BaseJposControl.open(Unknown Source)\n    at Main.main(Main.java:11)\n</code></pre>\n<p>What do you think could be the problem? The error 106 in opening the printer communication means that the communication is already open but I've never done it.</p>\n<p>My code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) \n{\n    FiscalPrinter stampante = new FiscalPrinter();\n    try \n    {\n        stampante.open(&quot;P&quot;);\n        stampante.claim(1000);\n        stampante.setDeviceEnabled(true);\n        System.out.println(&quot;YES !&quot;);\n    } \n    catch (JposException e) \n    {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n"},{"tags":["java","collections"],"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":21,"creation_date":1349330623,"post_id":12721076,"comment_id":17179538,"body_markdown":"Aside from anything else, think about *why* you use `null == sampleMap` rather than `sampleMap == null`. Most people find the latter more readable - the former is a holdover from other languages.","body":"Aside from anything else, think about <i>why</i> you use <code>null == sampleMap</code> rather than <code>sampleMap == null</code>. Most people find the latter more readable - the former is a holdover from other languages."},{"owner":{"account_id":109733,"reputation":31428,"user_id":290629,"accept_rate":88,"display_name":"卢声远 Shengyuan Lu"},"score":9,"creation_date":1450846611,"post_id":12721076,"comment_id":56598763,"body_markdown":"By the way, null collection is bad. If possible, make it empty collection instead. \n`See Effective Java: Item 43 - Return empty arrays or collections, not nulls.`","body":"By the way, null collection is bad. If possible, make it empty collection instead.  <code>See Effective Java: Item 43 - Return empty arrays or collections, not nulls.</code>"},{"owner":{"account_id":8608092,"reputation":1207,"user_id":6447529,"display_name":"Uri Loya"},"score":1,"creation_date":1573742396,"post_id":12721076,"comment_id":103989656,"body_markdown":"@JonSkeet people use null == sampleMap in case they write = instead of ==. if you use sampleMap == null, when you forget one =, it becomes sampleMap = null, which will not raise error thus writing it the other way helps the developer see it","body":"@JonSkeet people use null == sampleMap in case they write = instead of ==. if you use sampleMap == null, when you forget one =, it becomes sampleMap = null, which will not raise error thus writing it the other way helps the developer see it"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":3,"creation_date":1573742512,"post_id":12721076,"comment_id":103989747,"body_markdown":"@UriLoya: If you write `if (null = sampleMap)` in Java you&#39;ll get a compilation error. That&#39;s precisely the point of my first comment. The &quot;reason&quot; for it is language-specific, but has been propagated to other languages despite the readability penalty because people haven&#39;t considered *why* they&#39;re doing that.","body":"@UriLoya: If you write <code>if (null = sampleMap)</code> in Java you&#39;ll get a compilation error. That&#39;s precisely the point of my first comment. The &quot;reason&quot; for it is language-specific, but has been propagated to other languages despite the readability penalty because people haven&#39;t considered <i>why</i> they&#39;re doing that."},{"owner":{"account_id":11249374,"reputation":401,"user_id":8250946,"display_name":"vikash"},"score":0,"creation_date":1584526486,"post_id":12721076,"comment_id":107460882,"body_markdown":"You can use CollectionUtils class which is present in org.apache.commons.collections4.CollectionUtils package. There have many utility methods to find empty or null.","body":"You can use CollectionUtils class which is present in org.apache.commons.collections4.CollectionUtils package. There have many utility methods to find empty or null."}],"answers":[{"comments":[{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":1,"creation_date":1349330361,"post_id":12721103,"comment_id":17179443,"body_markdown":"There must be a similar function for `Map&lt;?&gt;` as well.","body":"There must be a similar function for <code>Map&lt;?&gt;</code> as well."},{"owner":{"account_id":1886487,"reputation":396597,"user_id":1705598,"accept_rate":92,"display_name":"icza"},"score":2,"creation_date":1349330801,"post_id":12721103,"comment_id":17179587,"body_markdown":"Sure, you can add one for maps too, but the title stated collection.","body":"Sure, you can add one for maps too, but the title stated collection."},{"owner":{"account_id":2255135,"reputation":2670,"user_id":1986477,"accept_rate":82,"display_name":"Ismail Sahin"},"score":2,"creation_date":1469782001,"post_id":12721103,"comment_id":64690181,"body_markdown":"I don&#39;t understand if m is null then .isEmpty() will cause NullPointerException rigth?  otherwise, if the left side (m==null) is true then the remaining will not be checked","body":"I don&#39;t understand if m is null then .isEmpty() will cause NullPointerException rigth?  otherwise, if the left side (m==null) is true then the remaining will not be checked"},{"owner":{"account_id":1886487,"reputation":396597,"user_id":1705598,"accept_rate":92,"display_name":"icza"},"score":7,"creation_date":1469783112,"post_id":12721103,"comment_id":64690881,"body_markdown":"@ismail The `||` operator is a short-circuit operator, meaning if the left operand is `true`, it won&#39;t evaluate the right operand. So if `m == null`, then `m.isEmpty()` will not be called (not needed, the result is `true`).","body":"@ismail The <code>||</code> operator is a short-circuit operator, meaning if the left operand is <code>true</code>, it won&#39;t evaluate the right operand. So if <code>m == null</code>, then <code>m.isEmpty()</code> will not be called (not needed, the result is <code>true</code>)."}],"tags":[],"owner":{"account_id":1886487,"reputation":396597,"user_id":1705598,"accept_rate":92,"display_name":"icza"},"comment_count":4,"down_vote_count":1,"up_vote_count":91,"is_accepted":false,"score":90,"last_activity_date":1349330861,"creation_date":1349330184,"answer_id":12721103,"question_id":12721076,"body_markdown":"That is the best way to check it. You could write a helper method to do it:\r\n\r\n    public static boolean isNullOrEmpty( final Collection&lt; ? &gt; c ) {\r\n        return c == null || c.isEmpty();\r\n    }\r\n\r\n    public static boolean isNullOrEmpty( final Map&lt; ?, ? &gt; m ) {\r\n        return m == null || m.isEmpty();\r\n    }","title":"Best practice to validate null and empty collection in Java","body":"<p>That is the best way to check it. You could write a helper method to do it:</p>\n\n<pre><code>public static boolean isNullOrEmpty( final Collection&lt; ? &gt; c ) {\n    return c == null || c.isEmpty();\n}\n\npublic static boolean isNullOrEmpty( final Map&lt; ?, ? &gt; m ) {\n    return m == null || m.isEmpty();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":232896,"reputation":2841,"user_id":498048,"display_name":"tehlexx"},"comment_count":0,"down_vote_count":1,"up_vote_count":24,"is_accepted":false,"score":23,"last_activity_date":1349330226,"creation_date":1349330226,"answer_id":12721113,"question_id":12721076,"body_markdown":"Personally, I prefer to use empty collections instead of `null` and have the algorithms work in a way that for the algorithm it does not matter if the collection is empty or not.","title":"Best practice to validate null and empty collection in Java","body":"<p>Personally, I prefer to use empty collections instead of <code>null</code> and have the algorithms work in a way that for the algorithm it does not matter if the collection is empty or not.</p>\n"},{"tags":[],"owner":{"account_id":151394,"reputation":52351,"user_id":365237,"accept_rate":96,"display_name":"eis"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1349330591,"creation_date":1349330591,"answer_id":12721180,"question_id":12721076,"body_markdown":"If you need to check for null, that is the way. However, if you have control on this, just return empty collection, whenever you can, and check only for empty later on.\r\n\r\n[This thread](https://stackoverflow.com/questions/1969993/is-it-better-to-return-null-or-empty-collection) is about the same thing with C#, but the principles applies equally well to java. Like mentioned there, null should be returned only if\r\n\r\n&gt;  - null might mean something more specific;\r\n&gt;  - your API (contract) might force you to return null.","title":"Best practice to validate null and empty collection in Java","body":"<p>If you need to check for null, that is the way. However, if you have control on this, just return empty collection, whenever you can, and check only for empty later on.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/1969993/is-it-better-to-return-null-or-empty-collection\">This thread</a> is about the same thing with C#, but the principles applies equally well to java. Like mentioned there, null should be returned only if</p>\n\n<blockquote>\n  <ul>\n  <li>null might mean something more specific;</li>\n  <li>your API (contract) might force you to return null.</li>\n  </ul>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":463335,"reputation":9014,"user_id":866172,"display_name":"Jalayn"},"comment_count":0,"down_vote_count":3,"up_vote_count":500,"is_accepted":true,"score":497,"last_activity_date":1675148116,"creation_date":1349335859,"answer_id":12722291,"question_id":12721076,"body_markdown":"If you use the [Apache Commons Collections](https://commons.apache.org/proper/commons-collections/) library in your project, you may use the [`CollectionUtils.isEmpty(...)`][1] and [`MapUtils.isEmpty(...)`][2] methods which respectively check if a collection or a map is *empty* or *null* (i.e. they are &quot;null-safe&quot;).\r\n\r\nThe code behind these methods is more or less what user @icza has written in his answer.\r\n\r\nRegardless of what you do, remember that the less code you write, the less code you need to test as the complexity of your code decreases. \r\n\r\n[1]: https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/CollectionUtils.html#isEmpty-java.util.Collection-\r\n\r\n[2]: https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/MapUtils.html#isEmpty-java.util.Map-","title":"Best practice to validate null and empty collection in Java","body":"<p>If you use the <a href=\"https://commons.apache.org/proper/commons-collections/\" rel=\"noreferrer\">Apache Commons Collections</a> library in your project, you may use the <a href=\"https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/CollectionUtils.html#isEmpty-java.util.Collection-\" rel=\"noreferrer\"><code>CollectionUtils.isEmpty(...)</code></a> and <a href=\"https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/MapUtils.html#isEmpty-java.util.Map-\" rel=\"noreferrer\"><code>MapUtils.isEmpty(...)</code></a> methods which respectively check if a collection or a map is <em>empty</em> or <em>null</em> (i.e. they are &quot;null-safe&quot;).</p>\n<p>The code behind these methods is more or less what user @icza has written in his answer.</p>\n<p>Regardless of what you do, remember that the less code you write, the less code you need to test as the complexity of your code decreases.</p>\n"},{"comments":[{"owner":{"account_id":334900,"reputation":61,"user_id":331946,"accept_rate":60,"display_name":"coverboy"},"score":2,"creation_date":1683694626,"post_id":41008458,"comment_id":134403935,"body_markdown":"BTW, spring&#39;s CollectionUtils there is comment about...\n\n&quot;Miscellaneous collection utility methods. Mainly for internal use within the framework.&quot;\n\nSo, I&#39;m not sure using this method :-)","body":"BTW, spring&#39;s CollectionUtils there is comment about...  &quot;Miscellaneous collection utility methods. Mainly for internal use within the framework.&quot;  So, I&#39;m not sure using this method :-)"}],"tags":[],"owner":{"account_id":2060941,"reputation":2220,"user_id":1837485,"accept_rate":59,"display_name":"Saorikido"},"comment_count":1,"down_vote_count":3,"up_vote_count":72,"is_accepted":false,"score":69,"last_activity_date":1481077945,"creation_date":1481077945,"answer_id":41008458,"question_id":12721076,"body_markdown":"If you use Spring frameworks, then you can use `CollectionUtils` to check against both Collections (List, Array) and Map etc.\r\n\r\n    if(CollectionUtils.isEmpty(...)) {...}","title":"Best practice to validate null and empty collection in Java","body":"<p>If you use Spring frameworks, then you can use <code>CollectionUtils</code> to check against both Collections (List, Array) and Map etc.</p>\n\n<pre><code>if(CollectionUtils.isEmpty(...)) {...}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":9941523,"reputation":1018,"user_id":7357959,"display_name":"Tsvetoslav Tsvetkov"},"score":0,"creation_date":1700811232,"post_id":42622153,"comment_id":136701132,"body_markdown":"That&#39;s the best option if you use Spring without involving any third-party libraries","body":"That&#39;s the best option if you use Spring without involving any third-party libraries"}],"tags":[],"owner":{"account_id":9925001,"reputation":1047,"user_id":7346931,"display_name":"Dharmendrasinh Chudasama"},"comment_count":1,"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1578132590,"creation_date":1488793232,"answer_id":42622153,"question_id":12721076,"body_markdown":"When you use spring then you can use\r\n\r\n    boolean isNullOrEmpty = org.springframework.util.ObjectUtils.isEmpty(obj);\r\n\r\nwhere obj is any [map,collection,array,aything...]\r\n\r\notherwise: the code is:\r\n\r\n\tpublic static boolean isEmpty(Object[] array) {\r\n\t\treturn (array == null || array.length == 0);\r\n\t}\r\n\r\n\tpublic static boolean isEmpty(Object obj) {\r\n\t\tif (obj == null) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\tif (obj.getClass().isArray()) {\r\n\t\t\treturn Array.getLength(obj) == 0;\r\n\t\t}\r\n\t\tif (obj instanceof CharSequence) {\r\n\t\t\treturn ((CharSequence) obj).length() == 0;\r\n\t\t}\r\n\t\tif (obj instanceof Collection) {\r\n\t\t\treturn ((Collection) obj).isEmpty();\r\n\t\t}\r\n\t\tif (obj instanceof Map) {\r\n\t\t\treturn ((Map) obj).isEmpty();\r\n\t\t}\r\n\r\n\t\t// else\r\n\t\treturn false;\r\n\t}\r\n\r\nfor String best is:\r\n\r\n    boolean isNullOrEmpty = (str==null || str.trim().isEmpty());","title":"Best practice to validate null and empty collection in Java","body":"<p>When you use spring then you can use</p>\n\n<pre><code>boolean isNullOrEmpty = org.springframework.util.ObjectUtils.isEmpty(obj);\n</code></pre>\n\n<p>where obj is any [map,collection,array,aything...]</p>\n\n<p>otherwise: the code is:</p>\n\n<pre><code>public static boolean isEmpty(Object[] array) {\n    return (array == null || array.length == 0);\n}\n\npublic static boolean isEmpty(Object obj) {\n    if (obj == null) {\n        return true;\n    }\n\n    if (obj.getClass().isArray()) {\n        return Array.getLength(obj) == 0;\n    }\n    if (obj instanceof CharSequence) {\n        return ((CharSequence) obj).length() == 0;\n    }\n    if (obj instanceof Collection) {\n        return ((Collection) obj).isEmpty();\n    }\n    if (obj instanceof Map) {\n        return ((Map) obj).isEmpty();\n    }\n\n    // else\n    return false;\n}\n</code></pre>\n\n<p>for String best is:</p>\n\n<pre><code>boolean isNullOrEmpty = (str==null || str.trim().isEmpty());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":979989,"reputation":702,"user_id":999958,"display_name":"Jesfre"},"score":0,"creation_date":1658521533,"post_id":45823643,"comment_id":129080853,"body_markdown":"This is a good alternative for parameter validations as the `CollectionUtils.isEmpty(...)` is not present in older versions of the library.\n\nHowever, the `Validate.notEmpty(...)` method throws an exception when empty. In @srk scenario won&#39;t work if we believe using exception is bad for flow control.\n\nhttps://web.archive.org/web/20140430044213/http://c2.com/cgi-bin/wiki?DontUseExceptionsForFlowControl","body":"This is a good alternative for parameter validations as the <code>CollectionUtils.isEmpty(...)</code> is not present in older versions of the library.  However, the <code>Validate.notEmpty(...)</code> method throws an exception when empty. In @srk scenario won&#39;t work if we believe using exception is bad for flow control.  <a href=\"https://web.archive.org/web/20140430044213/http://c2.com/cgi-bin/wiki?DontUseExceptionsForFlowControl\" rel=\"nofollow noreferrer\">web.archive.org/web/20140430044213/http://c2.com/cgi-bin/&hellip;</a>"}],"tags":[],"owner":{"account_id":1780341,"reputation":16850,"user_id":1623249,"accept_rate":71,"display_name":"Maria Ines Parnisari"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1503422740,"creation_date":1503422740,"answer_id":45823643,"question_id":12721076,"body_markdown":"You can use `org.apache.commons.lang.Validate`&#39;s &quot;[notEmpty][1]&quot; method:\r\n\r\n`Validate.notEmpty(myCollection)` -&gt; Validate that the specified argument collection is neither null nor a size of zero (no elements); otherwise throwing an exception.\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/javadocs/api-3.1/org/apache/commons/lang3/Validate.html#notEmpty(T)","title":"Best practice to validate null and empty collection in Java","body":"<p>You can use <code>org.apache.commons.lang.Validate</code>'s \"<a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-3.1/org/apache/commons/lang3/Validate.html#notEmpty(T)\" rel=\"noreferrer\">notEmpty</a>\" method:</p>\n\n<p><code>Validate.notEmpty(myCollection)</code> -> Validate that the specified argument collection is neither null nor a size of zero (no elements); otherwise throwing an exception.</p>\n"},{"tags":[],"owner":{"account_id":7427719,"reputation":43,"user_id":5649710,"display_name":"Nisar Adappadathil"},"comment_count":0,"down_vote_count":6,"up_vote_count":2,"is_accepted":false,"score":-4,"last_activity_date":1575461943,"creation_date":1505279339,"answer_id":46189268,"question_id":12721076,"body_markdown":"For all the collections including map use: `isEmpty` method which is there on these collection objects. But you have to do a null check before:\r\n\r\n    Map&lt;String, String&gt; map;\r\n    \r\n    ........\r\n    if(map!=null &amp;&amp; !map.isEmpty())\r\n    ......","title":"Best practice to validate null and empty collection in Java","body":"<p>For all the collections including map use: <code>isEmpty</code> method which is there on these collection objects. But you have to do a null check before:</p>\n\n<pre><code>Map&lt;String, String&gt; map;\n\n........\nif(map!=null &amp;&amp; !map.isEmpty())\n......\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6171922,"reputation":111,"user_id":4809987,"display_name":"saravana kumar ramasamy"},"score":0,"creation_date":1640156280,"post_id":60734235,"comment_id":124525943,"body_markdown":"CollectionUtils.isEmpty(listObject); this ain&#39;t working for all collections. i have tried with set and it is not working.","body":"CollectionUtils.isEmpty(listObject); this ain&#39;t working for all collections. i have tried with set and it is not working."},{"owner":{"account_id":11249374,"reputation":401,"user_id":8250946,"display_name":"vikash"},"score":0,"creation_date":1640762635,"post_id":60734235,"comment_id":124651302,"body_markdown":"The core part to check any collection object that is null, empty or not, is collection == null || collection.isEmpty() Internally so you can use this.","body":"The core part to check any collection object that is null, empty or not, is collection == null || collection.isEmpty() Internally so you can use this."}],"tags":[],"owner":{"account_id":11249374,"reputation":401,"user_id":8250946,"display_name":"vikash"},"comment_count":2,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1584526242,"creation_date":1584511343,"answer_id":60734235,"question_id":12721076,"body_markdown":"We&#39;ll check a Collection object is empty, null or not. these all methods which are given below, are present in org.apache.commons.collections4.CollectionUtils package.\r\n\r\n\r\nCheck on List or set type of collection Objects.\r\n\r\n    CollectionUtils.isEmpty(listObject);\r\n    CollectionUtils.isNotEmpty(listObject);\r\n\r\nCheck on Map type of Objects.\r\n\r\n    MapUtils.isEmpty(mapObject);\r\n    MapUtils.isNotEmpty(mapObject);\r\n\r\nThe return type of all methods is boolean.","title":"Best practice to validate null and empty collection in Java","body":"<p>We'll check a Collection object is empty, null or not. these all methods which are given below, are present in org.apache.commons.collections4.CollectionUtils package.</p>\n\n<p>Check on List or set type of collection Objects.</p>\n\n<pre><code>CollectionUtils.isEmpty(listObject);\nCollectionUtils.isNotEmpty(listObject);\n</code></pre>\n\n<p>Check on Map type of Objects.</p>\n\n<pre><code>MapUtils.isEmpty(mapObject);\nMapUtils.isNotEmpty(mapObject);\n</code></pre>\n\n<p>The return type of all methods is boolean.</p>\n"},{"tags":[],"owner":{"account_id":12368549,"reputation":189,"user_id":9019654,"display_name":"Kevin KOUOMEU"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691065551,"creation_date":1691065551,"answer_id":76828052,"question_id":12721076,"body_markdown":"Taking the case you collection is a List, you can simply use this\r\n \r\n\r\n    private boolean collectionIsNotNullAndNotEmpty(List&lt;?&gt; collection) {\r\n        return Objects.nonNull(collection) &amp;&amp; !collection.isEmpty();\r\n    }","title":"Best practice to validate null and empty collection in Java","body":"<p>Taking the case you collection is a List, you can simply use this</p>\n<pre><code>private boolean collectionIsNotNullAndNotEmpty(List&lt;?&gt; collection) {\n    return Objects.nonNull(collection) &amp;&amp; !collection.isEmpty();\n}\n</code></pre>\n"}],"owner":{"account_id":1795554,"reputation":3616,"user_id":1635014,"accept_rate":53,"display_name":"srk"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":563561,"favorite_count":0,"down_vote_count":1,"up_vote_count":327,"accepted_answer_id":12722291,"answer_count":10,"score":326,"last_activity_date":1691065551,"creation_date":1349330061,"question_id":12721076,"body_markdown":"I want to verify whether a collection is empty and `null`. Could anyone please let me know the best practice.\r\n    \r\nCurrently, I am checking as below:\r\n\r\n    \r\n    if (null == sampleMap || sampleMap.isEmpty()) {\r\n      // do something\r\n    } \r\n    else {\r\n      // do something else\r\n    }","title":"Best practice to validate null and empty collection in Java","body":"<p>I want to verify whether a collection is empty and <code>null</code>. Could anyone please let me know the best practice.</p>\n\n<p>Currently, I am checking as below:</p>\n\n<pre><code>if (null == sampleMap || sampleMap.isEmpty()) {\n  // do something\n} \nelse {\n  // do something else\n}\n</code></pre>\n"},{"tags":["java","maven","jar","dependencies"],"answers":[{"comments":[{"owner":{"account_id":7509953,"reputation":22160,"user_id":5705247,"accept_rate":27,"display_name":"Tuomas Toivonen"},"score":0,"creation_date":1503499703,"post_id":45842956,"comment_id":78643760,"body_markdown":"But same end result would be met with compile scope. Is the faster compile time only benefit?","body":"But same end result would be met with compile scope. Is the faster compile time only benefit?"},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":1,"creation_date":1503499713,"post_id":45842956,"comment_id":78643772,"body_markdown":"That is not quite true https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html . Runtime dependencies are inherited transitively.","body":"That is not quite true <a href=\"https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html\" rel=\"nofollow noreferrer\">maven.apache.org/guides/introduction/&hellip;</a> . Runtime dependencies are inherited transitively."}],"tags":[],"owner":{"account_id":151953,"reputation":11217,"user_id":366133,"accept_rate":98,"display_name":"Matt"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1503500324,"creation_date":1503499601,"answer_id":45842956,"question_id":45842742,"body_markdown":"Runtime scoped dependencies are useful for dynamically loaded libraries, that you do not explicitly reference in the code but need to be there for your application to run.","title":"When would I need maven dependency with runtime scope","body":"<p>Runtime scoped dependencies are useful for dynamically loaded libraries, that you do not explicitly reference in the code but need to be there for your application to run.</p>\n"},{"comments":[{"owner":{"account_id":390867,"reputation":3923,"user_id":751200,"accept_rate":56,"display_name":"kolobok"},"score":0,"creation_date":1526484502,"post_id":45843082,"comment_id":87765808,"body_markdown":"If I don&#39;t want to depend on `my-service-impl` I can just NOT add it to my `dependencies` list. What benefits are from `runtime` scope?","body":"If I don&#39;t want to depend on <code>my-service-impl</code> I can just NOT add it to my <code>dependencies</code> list. What benefits are from <code>runtime</code> scope?"},{"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"score":1,"creation_date":1526485472,"post_id":45843082,"comment_id":87766431,"body_markdown":"@kolobok Of course. But  If you don&#39;t include it in your dependencies as `runtime` (or `compile` scope) the `my-service-impl` will never be packaged in the built component. Using `runtime` makes sense for this requirement. The JDBC dependency is a good example. You want to have it at runtime but you don&#39;t want to use specific class of the DBMS to keep a portable code.","body":"@kolobok Of course. But  If you don&#39;t include it in your dependencies as <code>runtime</code> (or <code>compile</code> scope) the <code>my-service-impl</code> will never be packaged in the built component. Using <code>runtime</code> makes sense for this requirement. The JDBC dependency is a good example. You want to have it at runtime but you don&#39;t want to use specific class of the DBMS to keep a portable code."}],"tags":[],"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"comment_count":2,"down_vote_count":0,"up_vote_count":29,"is_accepted":true,"score":29,"last_activity_date":1518032268,"creation_date":1503499932,"answer_id":45843082,"question_id":45842742,"body_markdown":"All what you can do with the `runtime` scope can be also done with the default scope : `compile`.&lt;br&gt;\r\nSo why use `runtime`?&lt;br&gt;\r\n\r\n**Because in some cases, this makes really sense and can make your build more robust**.&lt;br&gt;\r\n\r\nA typical use case is ensuring that the client code doesn&#39;t use a specific implementation.&lt;br&gt;\r\n\r\nSuppose you build an application relying on an API packaged as a Maven dependency (`my-service-api`) and the implementation of this API is packaged as another Maven dependency (`my-service-impl`).  \r\nSuppose now you need to provide the implementation at the runtime in the built application **but you don&#39;t want** that the client code of your application refers directly the  implementation.\r\n\r\nBy using  the `runtime` scope for `my-service-impl`:\r\n\r\n    &lt;dependencies&gt;\r\n    ​  &lt;dependency&gt;\r\n    ​      &lt;groupId&gt;my-group&lt;/groupId&gt;\r\n    ​      &lt;artifactId&gt;my-service-api&lt;/artifactId&gt;\r\n    ​  &lt;/dependency&gt;\r\n    ​  \r\n    ​  &lt;dependency&gt;\r\n    ​      &lt;groupId&gt;my-group&lt;/groupId&gt;\r\n    ​      &lt;artifactId&gt;my-service-impl&lt;/artifactId&gt;\r\n    ​      &lt;scope&gt;runtime&lt;/scope&gt;\r\n    ​  &lt;/dependency&gt;\r\n    &lt;dependencies&gt;\r\n\r\nAs the compiler will never have the dependency in the classpath, you cannot create any coupling with the implementation in the client code of your application.&lt;br&gt;\r\nClient code will only see the API of the dependency  : \r\n\r\nBy using the `compile` scope for `my-service-impl`:\r\n\r\n\r\n    &lt;dependencies&gt;\r\n    ​  &lt;dependency&gt;\r\n    ​      &lt;groupId&gt;my-group&lt;/groupId&gt;\r\n    ​      &lt;artifactId&gt;my-service-api&lt;/artifactId&gt;\r\n    ​  &lt;/dependency&gt;\r\n    ​  \r\n    ​  &lt;dependency&gt;\r\n    ​      &lt;groupId&gt;my-group&lt;/groupId&gt;\r\n    ​      &lt;artifactId&gt;my-service-impl&lt;/artifactId&gt;    ​  \r\n    ​  &lt;/dependency&gt;\r\n    &lt;dependencies&gt;\r\n\r\nThings are different : you could by mistake reference implementation classes and so create an undesirable coupling with the implementation.\r\n\r\nA known usage to favor `runtime` scope is as you have to cope with a JDBC dependency of a specific DBMS (Oracle, PostgreSQL or whatever).  \r\nTo write portable code, you don&#39;t want to allow the client code to refer to classes of this JDBC dependency but you want all the same include it in your application as at runtime the classes are needed to make the JDBC api works with this DBMS.\r\n","title":"When would I need maven dependency with runtime scope","body":"<p>All what you can do with the <code>runtime</code> scope can be also done with the default scope : <code>compile</code>.<br>\nSo why use <code>runtime</code>?<br></p>\n\n<p><strong>Because in some cases, this makes really sense and can make your build more robust</strong>.<br></p>\n\n<p>A typical use case is ensuring that the client code doesn't use a specific implementation.<br></p>\n\n<p>Suppose you build an application relying on an API packaged as a Maven dependency (<code>my-service-api</code>) and the implementation of this API is packaged as another Maven dependency (<code>my-service-impl</code>).<br>\nSuppose now you need to provide the implementation at the runtime in the built application <strong>but you don't want</strong> that the client code of your application refers directly the  implementation.</p>\n\n<p>By using  the <code>runtime</code> scope for <code>my-service-impl</code>:</p>\n\n<pre><code>&lt;dependencies&gt;\n​  &lt;dependency&gt;\n​      &lt;groupId&gt;my-group&lt;/groupId&gt;\n​      &lt;artifactId&gt;my-service-api&lt;/artifactId&gt;\n​  &lt;/dependency&gt;\n​  \n​  &lt;dependency&gt;\n​      &lt;groupId&gt;my-group&lt;/groupId&gt;\n​      &lt;artifactId&gt;my-service-impl&lt;/artifactId&gt;\n​      &lt;scope&gt;runtime&lt;/scope&gt;\n​  &lt;/dependency&gt;\n&lt;dependencies&gt;\n</code></pre>\n\n<p>As the compiler will never have the dependency in the classpath, you cannot create any coupling with the implementation in the client code of your application.<br>\nClient code will only see the API of the dependency  : </p>\n\n<p>By using the <code>compile</code> scope for <code>my-service-impl</code>:</p>\n\n<pre><code>&lt;dependencies&gt;\n​  &lt;dependency&gt;\n​      &lt;groupId&gt;my-group&lt;/groupId&gt;\n​      &lt;artifactId&gt;my-service-api&lt;/artifactId&gt;\n​  &lt;/dependency&gt;\n​  \n​  &lt;dependency&gt;\n​      &lt;groupId&gt;my-group&lt;/groupId&gt;\n​      &lt;artifactId&gt;my-service-impl&lt;/artifactId&gt;    ​  \n​  &lt;/dependency&gt;\n&lt;dependencies&gt;\n</code></pre>\n\n<p>Things are different : you could by mistake reference implementation classes and so create an undesirable coupling with the implementation.</p>\n\n<p>A known usage to favor <code>runtime</code> scope is as you have to cope with a JDBC dependency of a specific DBMS (Oracle, PostgreSQL or whatever).<br>\nTo write portable code, you don't want to allow the client code to refer to classes of this JDBC dependency but you want all the same include it in your application as at runtime the classes are needed to make the JDBC api works with this DBMS.</p>\n"},{"tags":[],"owner":{"account_id":11175092,"reputation":45706,"user_id":8200937,"display_name":"glytching"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1503500118,"creation_date":1503500118,"answer_id":45843146,"question_id":45842742,"body_markdown":"There is considerable confusion around the `runtime` scope. I think this confusion reflects its marginal benefit and the absence of a really compelling **general purpose** use case for it.\r\n\r\nThe commonly cited benefits are: \r\n\r\n- They help avoid accidental dependencies\r\n- They facilitate usages such as `Class.forName(&quot;a.b.ClassName&quot;)` and allow you to switch the binding represented by &quot;a.b.ClassName&quot; without having to recompile your application. Common examples of this benefit: JDBC drivers and SLF4J bindings\r\n\r\nBut, given the general confusion and the marginal benefits I&#39;d suggest sticking to `compile` scope unless you have encountered one of those corner cases where `runtime` scope is really useful.","title":"When would I need maven dependency with runtime scope","body":"<p>There is considerable confusion around the <code>runtime</code> scope. I think this confusion reflects its marginal benefit and the absence of a really compelling <strong>general purpose</strong> use case for it.</p>\n\n<p>The commonly cited benefits are: </p>\n\n<ul>\n<li>They help avoid accidental dependencies</li>\n<li>They facilitate usages such as <code>Class.forName(\"a.b.ClassName\")</code> and allow you to switch the binding represented by \"a.b.ClassName\" without having to recompile your application. Common examples of this benefit: JDBC drivers and SLF4J bindings</li>\n</ul>\n\n<p>But, given the general confusion and the marginal benefits I'd suggest sticking to <code>compile</code> scope unless you have encountered one of those corner cases where <code>runtime</code> scope is really useful.</p>\n"},{"comments":[{"owner":{"account_id":19205353,"reputation":5498,"user_id":14032355,"display_name":"ikhvjs"},"score":1,"creation_date":1666969583,"post_id":45843242,"comment_id":131067147,"body_markdown":"+1 voted up for mentioning `JVM classpath (runtime environment)` and `JAVA Compiler classpath (compile-time)`. This make things much clear for me.","body":"+1 voted up for mentioning <code>JVM classpath (runtime environment)</code> and <code>JAVA Compiler classpath (compile-time)</code>. This make things much clear for me."}],"tags":[],"owner":{"account_id":8566872,"reputation":321,"user_id":6419093,"display_name":"Thomas.L"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1691065484,"creation_date":1503500399,"answer_id":45843242,"question_id":45842742,"body_markdown":"&gt; runtime\r\nThis scope indicates that the dependency is not required for compilation, but is for execution. It is in the runtime and test classpaths, but not the compile classpath.\r\n\r\n\r\nWell it means that the classes within the library are present to the JVM classpath (runtime environment), but not to the Java compiler classpath (compile-time), therefore when compiling your project these classes will not be visible to the compiler.. therefore you cannot use/import any of these classes at compile-time. This scope is useful for dynamically-loaded classes (that is, classes that you will reference/load at runtime).","title":"When would I need maven dependency with runtime scope","body":"<blockquote>\n<p>runtime\nThis scope indicates that the dependency is not required for compilation, but is for execution. It is in the runtime and test classpaths, but not the compile classpath.</p>\n</blockquote>\n<p>Well it means that the classes within the library are present to the JVM classpath (runtime environment), but not to the Java compiler classpath (compile-time), therefore when compiling your project these classes will not be visible to the compiler.. therefore you cannot use/import any of these classes at compile-time. This scope is useful for dynamically-loaded classes (that is, classes that you will reference/load at runtime).</p>\n"}],"owner":{"account_id":7509953,"reputation":22160,"user_id":5705247,"accept_rate":27,"display_name":"Tuomas Toivonen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7020,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":45843082,"answer_count":4,"score":16,"last_activity_date":1691065484,"creation_date":1503498987,"question_id":45842742,"body_markdown":"I&#39;m trying to understand the specific need for `runtime` scoped dependency in maven. In which situation I would need this, where neither `compile` or `provided` scope won&#39;t do?\r\n\r\nFor example, I would use `compile` scope for dependency, when I have to call the library API directly in the code (compile against it) and package the dependency in the artifact or dependent project artifacts.\r\n\r\nI would use `provided` scope when I have to compile against the API, but don&#39;t package it (rather except it to be available at runtime).\r\n\r\nBut when would I need `runtime` scope? Is this for situations, when I don&#39;t directly call the library API (rather use reflection), but want to package it inside the artifact? Why not just to use `compile` scope? Is the only benefit faster compile time, or is there something other special in `runtime` scope that couldn&#39;t be achieved or avoided with `compile` scope?","title":"When would I need maven dependency with runtime scope","body":"<p>I'm trying to understand the specific need for <code>runtime</code> scoped dependency in maven. In which situation I would need this, where neither <code>compile</code> or <code>provided</code> scope won't do?</p>\n\n<p>For example, I would use <code>compile</code> scope for dependency, when I have to call the library API directly in the code (compile against it) and package the dependency in the artifact or dependent project artifacts.</p>\n\n<p>I would use <code>provided</code> scope when I have to compile against the API, but don't package it (rather except it to be available at runtime).</p>\n\n<p>But when would I need <code>runtime</code> scope? Is this for situations, when I don't directly call the library API (rather use reflection), but want to package it inside the artifact? Why not just to use <code>compile</code> scope? Is the only benefit faster compile time, or is there something other special in <code>runtime</code> scope that couldn't be achieved or avoided with <code>compile</code> scope?</p>\n"},{"tags":["java","docker","dockerfile","libreoffice"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1691065460,"post_id":76828002,"comment_id":135442941,"body_markdown":"The command would be `libreoffice` (not `Libreoffice`), no?","body":"The command would be <code>libreoffice</code> (not <code>Libreoffice</code>), no?"},{"owner":{"account_id":3990940,"reputation":662,"user_id":3289905,"accept_rate":8,"display_name":"anakin59490"},"score":0,"creation_date":1691065698,"post_id":76828002,"comment_id":135442985,"body_markdown":"exact but same result : [root@56eda4acbd64 tomcat]# libreoffice\nbash: libreoffice: command not found\n[root@56eda4acbd64 tomcat]# libreoffice -version\nbash: libreoffice: command not found\n[root@56eda4acbd64 tomcat]# libreoffice --version\nbash: libreoffice: command not found","body":"exact but same result : [root@56eda4acbd64 tomcat]# libreoffice bash: libreoffice: command not found [root@56eda4acbd64 tomcat]# libreoffice -version bash: libreoffice: command not found [root@56eda4acbd64 tomcat]# libreoffice --version bash: libreoffice: command not found"},{"owner":{"account_id":15654001,"reputation":11419,"user_id":11294831,"display_name":"the busybee"},"score":0,"creation_date":1691066152,"post_id":76828002,"comment_id":135443112,"body_markdown":"Did you check that the `PATH` environment variable contains the path to the executable, or that links to the executable from a know path exist? @DaveNewton The actual name of the executable is &quot;soffice&quot;.","body":"Did you check that the <code>PATH</code> environment variable contains the path to the executable, or that links to the executable from a know path exist? @DaveNewton The actual name of the executable is &quot;soffice&quot;."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1691066546,"post_id":76828002,"comment_id":135443205,"body_markdown":"@thebusybee Either should work for normal installs :shrug:","body":"@thebusybee Either should work for normal installs :shrug:"},{"owner":{"account_id":3990940,"reputation":662,"user_id":3289905,"accept_rate":8,"display_name":"anakin59490"},"score":0,"creation_date":1691067194,"post_id":76828002,"comment_id":135443339,"body_markdown":"@thebusybee : Path container is PATH=/usr/local/tomcat/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin. But soffice is in /opt/libreoffice6.3/program","body":"@thebusybee : Path container is PATH=/usr/local/tomcat/bin:/usr/local/sbin:/usr/local/bin:/u&zwnj;&#8203;sr/sbin:/usr/bin:/sb&zwnj;&#8203;in:/bin. But soffice is in /opt/libreoffice6.3/program"},{"owner":{"account_id":3990940,"reputation":662,"user_id":3289905,"accept_rate":8,"display_name":"anakin59490"},"score":0,"creation_date":1691068283,"post_id":76828002,"comment_id":135443599,"body_markdown":"@thebusybee : i add /opt/libreoffice6.3 in path variable (PATH=/usr/local/tomcat/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/libreoffice6.3/) but nothing changes","body":"@thebusybee : i add /opt/libreoffice6.3 in path variable (PATH=/usr/local/tomcat/bin:/usr/local/sbin:/usr/local/bin:/&zwnj;&#8203;usr/sbin:/usr/bin:/s&zwnj;&#8203;bin:/bin:/opt/libreo&zwnj;&#8203;ffice6.3/) but nothing changes"},{"owner":{"account_id":15654001,"reputation":11419,"user_id":11294831,"display_name":"the busybee"},"score":0,"creation_date":1691071779,"post_id":76828002,"comment_id":135444475,"body_markdown":"What happens if you execute &quot; /opt/libreoffice6.3/program/soffice&quot;?","body":"What happens if you execute &quot; /opt/libreoffice6.3/program/soffice&quot;?"},{"owner":{"account_id":15654001,"reputation":11419,"user_id":11294831,"display_name":"the busybee"},"score":0,"creation_date":1691071783,"post_id":76828002,"comment_id":135444476,"body_markdown":"Commonly there are soft links (for example in &quot;/usr/bin&quot;) that point to the actual executable. Did you check that, as I suggested?","body":"Commonly there are soft links (for example in &quot;/usr/bin&quot;) that point to the actual executable. Did you check that, as I suggested?"},{"owner":{"account_id":3990940,"reputation":662,"user_id":3289905,"accept_rate":8,"display_name":"anakin59490"},"score":0,"creation_date":1691072886,"post_id":76828002,"comment_id":135444748,"body_markdown":"@thebusybee &quot;Failed to open display - /opt/libreoffice6.3/program/soffice.bin: error while loading shared libraries: libcairo.so.2: cannot open shared object file: No such file or directory&quot;","body":"@thebusybee &quot;Failed to open display - /opt/libreoffice6.3/program/soffice.bin: error while loading shared libraries: libcairo.so.2: cannot open shared object file: No such file or directory&quot;"},{"owner":{"account_id":3990940,"reputation":662,"user_id":3289905,"accept_rate":8,"display_name":"anakin59490"},"score":0,"creation_date":1691073161,"post_id":76828002,"comment_id":135444820,"body_markdown":"@thebusybee about links : inside container i find only /opt/libreoffice6.3 that contains program folder that contains soffice and all the other .so file","body":"@thebusybee about links : inside container i find only /opt/libreoffice6.3 that contains program folder that contains soffice and all the other .so file"},{"owner":{"account_id":15654001,"reputation":11419,"user_id":11294831,"display_name":"the busybee"},"score":0,"creation_date":1691075416,"post_id":76828002,"comment_id":135445360,"body_markdown":"The links would be in some of the other directories listed in `PATH`, as I wrote for example in &quot;/usr/bin&quot;, not in &quot;/opt/libreoffice6.3&quot;. -- Well, since I don&#39;t have the environment to reproduce, I cannot help further. It might be an incomplete installation, who knows? Hopefully some others can jump in. Good luck!","body":"The links would be in some of the other directories listed in <code>PATH</code>, as I wrote for example in &quot;/usr/bin&quot;, not in &quot;/opt/libreoffice6.3&quot;. -- Well, since I don&#39;t have the environment to reproduce, I cannot help further. It might be an incomplete installation, who knows? Hopefully some others can jump in. Good luck!"}],"owner":{"account_id":3990940,"reputation":662,"user_id":3289905,"accept_rate":8,"display_name":"anakin59490"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691065144,"creation_date":1691065144,"question_id":76828002,"body_markdown":"I&#39;m new in Docker (Rocky Linux) and I need to use jodconverter in java process. So I updated my Dockerfile as follow :\r\n\r\n    #Installing LibreOffice\r\n    COPY backend/LibreOffice_6.3.5.2_Linux_x86-64_rpm /usr/local/LibreOffice_6.3.5.2_Linux_x86-64_rpm\r\n    RUN cd /usr/local/LibreOffice_6.3.5.2_Linux_x86-64_rpm/RPMS/\r\n    RUN yum -y install /usr/local/LibreOffice_6.3.5.2_Linux_x86-64_rpm/RPMS/*.rpm;\r\n\r\nI find libreoffice6.3 in /opt folder inside container. However &quot;Libreoffice -version&quot; doesn&#39;t work : \r\n\r\n    bash: Libreoffice: command not found\r\n\r\nWhen the java process is executed i get the following error: **ServiceManager&#39; started but its pid could not be found** :\r\n\r\n    OfficeProcessManager          : Submitting task &#39;Start&#39; and waiting...\r\n    2023-08-03 13:51:37.133  INFO 1 --- [ProcessThread-0] \r\n    org.jodconverter.office.OfficeProcess    : Starting process with acceptString \r\n    &#39;socket,host=127.0.0.1,port=2002,tcpNoDelay=1;urp;StarOffice.ServiceManager&#39; and \r\n    profileDir &#39;/usr/local/tomcat/temp/.jodconverter_socket_host-127.0.0.1_port- \r\n    2002_tcpNoDelay-1&#39;\r\n    2023-08-03 13:51:37.148  INFO 1 --- [ProcessThread-0] \r\n    org.jodconverter.office.OfficeProcess    : Started process; pid = -2\r\n    2023-08-03 13:51:37.149 ERROR 1 --- [TaskScheduler16] \r\n    c.m.service.TransformationService     : ERROR convertToDocx: \r\n    org.jodconverter.office.OfficeException: A process with acceptString &#39;socket,host=127.0.0.1,port=2002,tcpNoDelay=1;urp;StarOffice.ServiceManager&#39; started but its pid could not be found\r\n        at org.jodconverter.office.OfficeProcess.start(OfficeProcess.java:354)\r\n        at org.jodconverter.office.OfficeProcessManager.doStartProcessAndConnect(OfficeProcessManager.java:100)\r\n        at org.jodconverter.office.OfficeProcessManager.access$100(OfficeProcessManager.java:40)\r\n        at org.jodconverter.office.OfficeProcessManager$4.call(OfficeProcessManager.java:260)\r\n        at org.jodconverter.office.OfficeProcessManager$4.call(OfficeProcessManager.java:255)\r\n        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n        at java.base/java.lang.Thread.run(Thread.java:833)\r\n\r\n    2023-08-03 13:51:37.150  INFO 1 --- [TaskScheduler16] \r\n     o.j.office.AbstractOfficeManagerPool     : Stopping the office manager pool...\r\n    2023-08-03 13:51:37.152  INFO 1 --- [TaskScheduler16] o.j.office.OfficeProcessManager          \r\n    : Submitting task &#39;Stop&#39; and waiting...\r\n    2023-08-03 13:51:37.159  INFO 1 --- [ProcessThread-0] \r\n    org.jodconverter.office.OfficeProcess    : Trying to forcibly terminate process: \r\n    &#39;host=127.0.0.1,port=2002,tcpNoDelay=1&#39;; pid: -2\r\n    2023-08-03 13:51:37.166  INFO 1 --- [ProcessThread-0] o.j.office.OfficeProcessManager          \r\n    : process forcibly terminated with code 127\r\n    2023-08-03 13:51:37.166  INFO 1 --- [ProcessThread-0] o.j.office.OfficeProcessManager          \r\n    : process exited with code 127\r\n    2023-08-03 13:51:37.174  INFO 1 --- [TaskScheduler16] o.j.office.AbstractOfficeManagerPool     : Office manager stopped\r\n\r\n\r\nThis is my java code :\r\n\r\n    libreOfficeHome = libreoff.getValue();\r\n\t \t\t\r\n\t        File initialFile = new File(workPath + &quot;/&quot; + fileName);\r\n\t        LocalOfficeManager localOfficeManager = LocalOfficeManager.builder()\r\n\t                .install()\r\n\t                .officeHome(libreOfficeHome) //your path to openoffice\r\n\t                .build();\r\n\t\r\n\t        try {\r\n\t        \tlocalOfficeManager.start();\r\n\t        \tfinal DocumentFormat format\t= DocumentFormat.builder()\r\n\t        \t\t\t.from(DefaultDocumentFormatRegistry.DOCX)\r\n\t                    .build();\r\n\t\r\n\t        \tLocalConverter\r\n\t                  .make()\r\n\t                  .convert(new FileInputStream(initialFile))\r\n\t                  .as(DefaultDocumentFormatRegistry.getFormatByMediaType(&quot;application/msword&quot;))\r\n\t                  .to(new File(targetFile))\r\n\t                  .as(format)\r\n\t                  .execute();\r\n\t\r\n\t        } catch (Exception e) {\r\n\t  \t\t\tlogger.error(&quot;ERROR convertToDocx: &quot; + ExceptionUtils.getStackTrace(e));\r\n\t\t    \treturn null;\r\n\t        } finally {\r\n\t        \tOfficeUtils.stopQuietly(localOfficeManager);\r\n\t        }\r\n\r\nSame error with libreoffice 7.5","title":"Docker - Libreoffice pid not found","body":"<p>I'm new in Docker (Rocky Linux) and I need to use jodconverter in java process. So I updated my Dockerfile as follow :</p>\n<pre><code>#Installing LibreOffice\nCOPY backend/LibreOffice_6.3.5.2_Linux_x86-64_rpm /usr/local/LibreOffice_6.3.5.2_Linux_x86-64_rpm\nRUN cd /usr/local/LibreOffice_6.3.5.2_Linux_x86-64_rpm/RPMS/\nRUN yum -y install /usr/local/LibreOffice_6.3.5.2_Linux_x86-64_rpm/RPMS/*.rpm;\n</code></pre>\n<p>I find libreoffice6.3 in /opt folder inside container. However &quot;Libreoffice -version&quot; doesn't work :</p>\n<pre><code>bash: Libreoffice: command not found\n</code></pre>\n<p>When the java process is executed i get the following error: <strong>ServiceManager' started but its pid could not be found</strong> :</p>\n<pre><code>OfficeProcessManager          : Submitting task 'Start' and waiting...\n2023-08-03 13:51:37.133  INFO 1 --- [ProcessThread-0] \norg.jodconverter.office.OfficeProcess    : Starting process with acceptString \n'socket,host=127.0.0.1,port=2002,tcpNoDelay=1;urp;StarOffice.ServiceManager' and \nprofileDir '/usr/local/tomcat/temp/.jodconverter_socket_host-127.0.0.1_port- \n2002_tcpNoDelay-1'\n2023-08-03 13:51:37.148  INFO 1 --- [ProcessThread-0] \norg.jodconverter.office.OfficeProcess    : Started process; pid = -2\n2023-08-03 13:51:37.149 ERROR 1 --- [TaskScheduler16] \nc.m.service.TransformationService     : ERROR convertToDocx: \norg.jodconverter.office.OfficeException: A process with acceptString 'socket,host=127.0.0.1,port=2002,tcpNoDelay=1;urp;StarOffice.ServiceManager' started but its pid could not be found\n    at org.jodconverter.office.OfficeProcess.start(OfficeProcess.java:354)\n    at org.jodconverter.office.OfficeProcessManager.doStartProcessAndConnect(OfficeProcessManager.java:100)\n    at org.jodconverter.office.OfficeProcessManager.access$100(OfficeProcessManager.java:40)\n    at org.jodconverter.office.OfficeProcessManager$4.call(OfficeProcessManager.java:260)\n    at org.jodconverter.office.OfficeProcessManager$4.call(OfficeProcessManager.java:255)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n\n2023-08-03 13:51:37.150  INFO 1 --- [TaskScheduler16] \n o.j.office.AbstractOfficeManagerPool     : Stopping the office manager pool...\n2023-08-03 13:51:37.152  INFO 1 --- [TaskScheduler16] o.j.office.OfficeProcessManager          \n: Submitting task 'Stop' and waiting...\n2023-08-03 13:51:37.159  INFO 1 --- [ProcessThread-0] \norg.jodconverter.office.OfficeProcess    : Trying to forcibly terminate process: \n'host=127.0.0.1,port=2002,tcpNoDelay=1'; pid: -2\n2023-08-03 13:51:37.166  INFO 1 --- [ProcessThread-0] o.j.office.OfficeProcessManager          \n: process forcibly terminated with code 127\n2023-08-03 13:51:37.166  INFO 1 --- [ProcessThread-0] o.j.office.OfficeProcessManager          \n: process exited with code 127\n2023-08-03 13:51:37.174  INFO 1 --- [TaskScheduler16] o.j.office.AbstractOfficeManagerPool     : Office manager stopped\n</code></pre>\n<p>This is my java code :</p>\n<pre><code>libreOfficeHome = libreoff.getValue();\n        \n        File initialFile = new File(workPath + &quot;/&quot; + fileName);\n        LocalOfficeManager localOfficeManager = LocalOfficeManager.builder()\n                .install()\n                .officeHome(libreOfficeHome) //your path to openoffice\n                .build();\n\n        try {\n            localOfficeManager.start();\n            final DocumentFormat format = DocumentFormat.builder()\n                    .from(DefaultDocumentFormatRegistry.DOCX)\n                    .build();\n\n            LocalConverter\n                  .make()\n                  .convert(new FileInputStream(initialFile))\n                  .as(DefaultDocumentFormatRegistry.getFormatByMediaType(&quot;application/msword&quot;))\n                  .to(new File(targetFile))\n                  .as(format)\n                  .execute();\n\n        } catch (Exception e) {\n            logger.error(&quot;ERROR convertToDocx: &quot; + ExceptionUtils.getStackTrace(e));\n            return null;\n        } finally {\n            OfficeUtils.stopQuietly(localOfficeManager);\n        }\n</code></pre>\n<p>Same error with libreoffice 7.5</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":7,"creation_date":1691056196,"post_id":76826854,"comment_id":135441000,"body_markdown":"Nothing other than no body is present as none is needed. The functionality is all in the loop condition. A terminating semicolon is often a mistake by beginners (then they wonder why the body doesn&#39;t execute) but not in this case","body":"Nothing other than no body is present as none is needed. The functionality is all in the loop condition. A terminating semicolon is often a mistake by beginners (then they wonder why the body doesn&#39;t execute) but not in this case"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1691056941,"post_id":76826854,"comment_id":135441198,"body_markdown":"you could, instead of a semicolon, use empty braces (`while (condition) { }`), same result","body":"you could, instead of a semicolon, use empty braces (<code>while (condition) { }</code>), same result"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1691065274,"post_id":76826854,"comment_id":135442904,"body_markdown":"Duplicate of [Semicolon at end of &#39;if&#39; statement](https://stackoverflow.com/questions/14112515/semicolon-at-end-of-if-statement)","body":"Duplicate of <a href=\"https://stackoverflow.com/questions/14112515/semicolon-at-end-of-if-statement\">Semicolon at end of &#39;if&#39; statement</a>"},{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1691066114,"post_id":76826854,"comment_id":135443099,"body_markdown":"@user16320675 perhaps more readable","body":"@user16320675 perhaps more readable"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1691068547,"post_id":76826854,"comment_id":135443658,"body_markdown":"if you want to Google it, search for &quot;Java empty statement&quot;.  It is also known as a &quot;null statement&quot;.","body":"if you want to Google it, search for &quot;Java empty statement&quot;.  It is also known as a &quot;null statement&quot;."}],"answers":[{"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1691065193,"post_id":76826886,"comment_id":135442886,"body_markdown":"I have removed your final comment. It works because a while is followed by a statement or a block, and just `;` is considered a valid statement in Java (and empty statement).","body":"I have removed your final comment. It works because a while is followed by a statement or a block, and just <code>;</code> is considered a valid statement in Java (and empty statement)."},{"owner":{"account_id":8001070,"reputation":2226,"user_id":6113363,"accept_rate":30,"display_name":"Tom Solid"},"score":0,"creation_date":1691149388,"post_id":76826886,"comment_id":135456149,"body_markdown":"Regardless that your answer is correct or not, you are encouraged to edit it to explain why this is the best answer to the question.","body":"Regardless that your answer is correct or not, you are encouraged to edit it to explain why this is the best answer to the question."}],"tags":[],"owner":{"account_id":27534399,"reputation":89,"user_id":21012339,"display_name":"Chr L"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1691065131,"creation_date":1691056155,"answer_id":76826886,"question_id":76826854,"body_markdown":"```while(cond);```\r\n\r\nis the same as\r\n\r\n```while(cond) {}```\r\n\r\n","title":"What does a while loop that ends with a semicolon mean?","body":"<p><code>while(cond);</code></p>\n<p>is the same as</p>\n<p><code>while(cond) {}</code></p>\n"}],"owner":{"account_id":10999293,"reputation":41,"user_id":8101894,"accept_rate":0,"display_name":"Daniel Yoon"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"answer_count":1,"score":-4,"last_activity_date":1691065131,"creation_date":1691055975,"question_id":76826854,"body_markdown":"I came across this piece of code but I&#39;m not familiar with this while loop syntax.\r\n\r\n    while(i &lt; j){\r\n        while(distance(arr[++i]) &lt; distance(p));\r\n        while(distance(arr[--j]) &gt; distance(p));\r\n        if(i &lt; j){\r\n            swap(arr, i, j);\r\n        }\r\n    }\r\n\r\nI&#39;ve never seen a while loop without braces that end in semicolons. What do they mean?","title":"What does a while loop that ends with a semicolon mean?","body":"<p>I came across this piece of code but I'm not familiar with this while loop syntax.</p>\n<pre><code>while(i &lt; j){\n    while(distance(arr[++i]) &lt; distance(p));\n    while(distance(arr[--j]) &gt; distance(p));\n    if(i &lt; j){\n        swap(arr, i, j);\n    }\n}\n</code></pre>\n<p>I've never seen a while loop without braces that end in semicolons. What do they mean?</p>\n"},{"tags":["java","swing","joptionpane"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1691063341,"post_id":76827752,"comment_id":135442525,"body_markdown":"Instead of passing an array of `String`s, pass an array of `JButton`s configured to your desired state","body":"Instead of passing an array of <code>String</code>s, pass an array of <code>JButton</code>s configured to your desired state"}],"answers":[{"comments":[{"owner":{"account_id":14423201,"reputation":840,"user_id":10418725,"display_name":"Jorn Rigter"},"score":0,"creation_date":1691064753,"post_id":76827874,"comment_id":135442786,"body_markdown":"Thanks. But the additional setup / extra code is not optimal. In the end, I figured it out using HTML formatting, meaning we wouldn&#39;t have the issue of additional setup to make buttons work as &quot;normal&quot; like you mentioned - with just one line of code :)","body":"Thanks. But the additional setup / extra code is not optimal. In the end, I figured it out using HTML formatting, meaning we wouldn&#39;t have the issue of additional setup to make buttons work as &quot;normal&quot; like you mentioned - with just one line of code :)"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1691067536,"post_id":76827874,"comment_id":135443410,"body_markdown":"The added benefit, you can control the button state, change the tooltips, what ever you want - but what ever meets your needs","body":"The added benefit, you can control the button state, change the tooltips, what ever you want - but what ever meets your needs"},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1691067698,"post_id":76827874,"comment_id":135443452,"body_markdown":"@JornRigter MadProgrammer is right. This particular project seems small, so it probably isn&#39;t a problem, but once you get to any sort of scale, this will become a very hard to find bug later on. Yesterday&#39;s solutions become the problems of today.","body":"@JornRigter MadProgrammer is right. This particular project seems small, so it probably isn&#39;t a problem, but once you get to any sort of scale, this will become a very hard to find bug later on. Yesterday&#39;s solutions become the problems of today."},{"owner":{"account_id":14423201,"reputation":840,"user_id":10418725,"display_name":"Jorn Rigter"},"score":0,"creation_date":1691067844,"post_id":76827874,"comment_id":135443491,"body_markdown":"Yes, there can be benefits for sure -- Thanks for those insights, that&#39;s helpful. For this purpose, where I just want to update the button text color, using html formatting works with a lot less code, and I don&#39;t expect any bugs to come from that. If this would start getting more complex I&#39;d probably go for this option, but following Google&#39;s coding guidelines; don&#39;t optimize for problems you don&#39;t have yet :). Thanks guys!","body":"Yes, there can be benefits for sure -- Thanks for those insights, that&#39;s helpful. For this purpose, where I just want to update the button text color, using html formatting works with a lot less code, and I don&#39;t expect any bugs to come from that. If this would start getting more complex I&#39;d probably go for this option, but following Google&#39;s coding guidelines; don&#39;t optimize for problems you don&#39;t have yet :). Thanks guys!"}],"tags":[],"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1691064120,"creation_date":1691064120,"answer_id":76827874,"question_id":76827752,"body_markdown":"The `JOptionPane` is a vey flexible and curious class.\r\n\r\nIf you read the documentation for [`JOptionPane#showOptionDialog(Component, Object, String, int, int, Icon, Object[], Object)`](https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/JOptionPane.html#showOptionDialog(java.awt.Component,java.lang.Object,java.lang.String,int,int,javax.swing.Icon,java.lang.Object%5B%5D,java.lang.Object)) you will find that the parameter `options` states:\r\n\r\n&gt; `options` - an array of objects indicating the possible choices the\r\n&gt; user can make; **if the objects are components, they are rendered\r\n&gt; properly**; non-String objects are rendered using their `toString`\r\n&gt; methods; if this parameter is `null`, the options are determined by\r\n&gt; the Look and Feel\r\n\r\n(emphasis added by me)\r\n\r\nThis basically means you can pass your own configured `JButton`s via the `options` parameter and they will be &quot;rendered properly&quot;.\r\n\r\nHaving said that, it will take some additional work to make work as &quot;normal&quot; (ie returning the index of the option that was selected).\r\n\r\n    import java.awt.Color;\r\n    import java.awt.EventQueue;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JComponent;\r\n    import javax.swing.JOptionPane;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    showOptions();\r\n                }\r\n            });\r\n        }\r\n\r\n        protected JOptionPane getOptionPane(JComponent parent) {\r\n            JOptionPane pane = null;\r\n            if (!(parent instanceof JOptionPane)) {\r\n                pane = getOptionPane((JComponent) parent.getParent());\r\n            } else {\r\n                pane = (JOptionPane) parent;\r\n            }\r\n            return pane;\r\n        }\r\n\r\n        public void showOptions() {\r\n            final JButton okay = new JButton(&quot;Ok&quot;);\r\n            okay.setForeground(Color.GREEN);\r\n            okay.addActionListener(new ActionListener() {\r\n                @Override\r\n                public void actionPerformed(ActionEvent e) {\r\n                    JOptionPane pane = getOptionPane((JComponent) e.getSource());\r\n                    pane.setValue(okay);\r\n                }\r\n            });\r\n            final JButton cancel = new JButton(&quot;Cancel&quot;);\r\n            cancel.setForeground(Color.RED);\r\n            cancel.addActionListener(new ActionListener() {\r\n                @Override\r\n                public void actionPerformed(ActionEvent e) {\r\n                    JOptionPane pane = getOptionPane((JComponent) e.getSource());\r\n                    pane.setValue(cancel);\r\n                }\r\n            });\r\n\r\n            int option = JOptionPane.showOptionDialog(\r\n                    null,\r\n                    &quot;Happiness and Joy&quot;,\r\n                    &quot;Get&quot;,\r\n                    JOptionPane.YES_NO_OPTION,\r\n                    JOptionPane.QUESTION_MESSAGE,\r\n                    null,\r\n                    new Object[]{okay, cancel},\r\n                    okay);\r\n            System.out.println(option);\r\n        }\r\n\r\n    }\r\n","title":"Change a JOptionPane&#39;s button text color","body":"<p>The <code>JOptionPane</code> is a vey flexible and curious class.</p>\n<p>If you read the documentation for <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/JOptionPane.html#showOptionDialog(java.awt.Component,java.lang.Object,java.lang.String,int,int,javax.swing.Icon,java.lang.Object%5B%5D,java.lang.Object)\" rel=\"nofollow noreferrer\"><code>JOptionPane#showOptionDialog(Component, Object, String, int, int, Icon, Object[], Object)</code></a> you will find that the parameter <code>options</code> states:</p>\n<blockquote>\n<p><code>options</code> - an array of objects indicating the possible choices the\nuser can make; <strong>if the objects are components, they are rendered\nproperly</strong>; non-String objects are rendered using their <code>toString</code>\nmethods; if this parameter is <code>null</code>, the options are determined by\nthe Look and Feel</p>\n</blockquote>\n<p>(emphasis added by me)</p>\n<p>This basically means you can pass your own configured <code>JButton</code>s via the <code>options</code> parameter and they will be &quot;rendered properly&quot;.</p>\n<p>Having said that, it will take some additional work to make work as &quot;normal&quot; (ie returning the index of the option that was selected).</p>\n<pre><code>import java.awt.Color;\nimport java.awt.EventQueue;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport javax.swing.JButton;\nimport javax.swing.JComponent;\nimport javax.swing.JOptionPane;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                showOptions();\n            }\n        });\n    }\n\n    protected JOptionPane getOptionPane(JComponent parent) {\n        JOptionPane pane = null;\n        if (!(parent instanceof JOptionPane)) {\n            pane = getOptionPane((JComponent) parent.getParent());\n        } else {\n            pane = (JOptionPane) parent;\n        }\n        return pane;\n    }\n\n    public void showOptions() {\n        final JButton okay = new JButton(&quot;Ok&quot;);\n        okay.setForeground(Color.GREEN);\n        okay.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                JOptionPane pane = getOptionPane((JComponent) e.getSource());\n                pane.setValue(okay);\n            }\n        });\n        final JButton cancel = new JButton(&quot;Cancel&quot;);\n        cancel.setForeground(Color.RED);\n        cancel.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                JOptionPane pane = getOptionPane((JComponent) e.getSource());\n                pane.setValue(cancel);\n            }\n        });\n\n        int option = JOptionPane.showOptionDialog(\n                null,\n                &quot;Happiness and Joy&quot;,\n                &quot;Get&quot;,\n                JOptionPane.YES_NO_OPTION,\n                JOptionPane.QUESTION_MESSAGE,\n                null,\n                new Object[]{okay, cancel},\n                okay);\n        System.out.println(option);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14423201,"reputation":840,"user_id":10418725,"display_name":"Jorn Rigter"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1691064665,"creation_date":1691064665,"answer_id":76827944,"question_id":76827752,"body_markdown":"I figured it out - simply use HTML formatting to set the button text color:\r\n\r\n    JOptionPane.showOptionDialog(\r\n        null, // parent\r\n        &quot;Body text&quot;, \r\n        &quot;Title text&quot;, \r\n        JOptionPane.YES_NO_OPTION, \r\n        JOptionPane.WARNING_MESSAGE,\r\n        null, // icon\r\n        new String[]{&quot;&lt;html&gt;&lt;font color=#ff0000&gt;Continue&lt;/font&gt;&lt;/html&gt;&quot;, &quot;Cancel&quot;}, \r\n        &quot;Cancel&quot;);","title":"Change a JOptionPane&#39;s button text color","body":"<p>I figured it out - simply use HTML formatting to set the button text color:</p>\n<pre><code>JOptionPane.showOptionDialog(\n    null, // parent\n    &quot;Body text&quot;, \n    &quot;Title text&quot;, \n    JOptionPane.YES_NO_OPTION, \n    JOptionPane.WARNING_MESSAGE,\n    null, // icon\n    new String[]{&quot;&lt;html&gt;&lt;font color=#ff0000&gt;Continue&lt;/font&gt;&lt;/html&gt;&quot;, &quot;Cancel&quot;}, \n    &quot;Cancel&quot;);\n</code></pre>\n"}],"owner":{"account_id":14423201,"reputation":840,"user_id":10418725,"display_name":"Jorn Rigter"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76827944,"answer_count":2,"score":0,"last_activity_date":1691064665,"creation_date":1691063006,"question_id":76827752,"body_markdown":"I would like to change the button text color *of one of the options* of a JOptionPane dialog to be different from the default color in Java Swing. So far, I&#39;ve found some answers on how to do this for the entire application, but no answers for how to do this for one specific button.\r\n\r\nThe way I&#39;m displaying the dialog (documentation [here][1]):\r\n\r\n    JOptionPane.showOptionDialog(\r\n        null, // parent\r\n        &quot;Body text&quot;, \r\n        &quot;Title text&quot;, \r\n        JOptionPane.YES_NO_OPTION, \r\n        JOptionPane.WARNING_MESSAGE,\r\n        null, // icon\r\n        new String[]{&quot;Continue&quot;, &quot;Cancel&quot;}, \r\n        &quot;Cancel&quot;);\r\n\r\nI would like the &quot;Continue&quot; button to have red text color instead, but want all other JOptionPane button text colors in my app to remain the same.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase%2F7%2Fdocs%2Fapi%2F%2F/javax/swing/JOptionPane.html#showOptionDialog(java.awt.Component,%20java.lang.Object,%20java.lang.String,%20int,%20int,%20javax.swing.Icon,%20java.lang.Object[],%20java.lang.Object)","title":"Change a JOptionPane&#39;s button text color","body":"<p>I would like to change the button text color <em>of one of the options</em> of a JOptionPane dialog to be different from the default color in Java Swing. So far, I've found some answers on how to do this for the entire application, but no answers for how to do this for one specific button.</p>\n<p>The way I'm displaying the dialog (documentation <a href=\"https://docs.oracle.com/javase%2F7%2Fdocs%2Fapi%2F%2F/javax/swing/JOptionPane.html#showOptionDialog(java.awt.Component,%20java.lang.Object,%20java.lang.String,%20int,%20int,%20javax.swing.Icon,%20java.lang.Object%5B%5D,%20java.lang.Object)\" rel=\"nofollow noreferrer\">here</a>):</p>\n<pre><code>JOptionPane.showOptionDialog(\n    null, // parent\n    &quot;Body text&quot;, \n    &quot;Title text&quot;, \n    JOptionPane.YES_NO_OPTION, \n    JOptionPane.WARNING_MESSAGE,\n    null, // icon\n    new String[]{&quot;Continue&quot;, &quot;Cancel&quot;}, \n    &quot;Cancel&quot;);\n</code></pre>\n<p>I would like the &quot;Continue&quot; button to have red text color instead, but want all other JOptionPane button text colors in my app to remain the same.</p>\n"},{"tags":["java","spring-boot","scheduled-tasks","threadpool"],"comments":[{"owner":{"account_id":2122531,"reputation":363,"user_id":2425668,"display_name":"Radiance Wei Qi Ong"},"score":1,"creation_date":1690970396,"post_id":76818138,"comment_id":135426040,"body_markdown":"What is the problem with catching the exception? You should catch and handle it. You can use a try-finally block to ensure that doSomething() gets called","body":"What is the problem with catching the exception? You should catch and handle it. You can use a try-finally block to ensure that doSomething() gets called"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1691065722,"post_id":76818138,"comment_id":135442992,"body_markdown":"Many questions: I don&#39;t understand, what problem you want to solve with your whole setup. Can you describe it please? What do you want to achieve with `scheduleFuture.get()`? How exactly do you &quot;returning the ... result&quot;? Which result? Return from where to where? Could you please set up a [mre] so we understand it by reading a complete piece of code?","body":"Many questions: I don&#39;t understand, what problem you want to solve with your whole setup. Can you describe it please? What do you want to achieve with <code>scheduleFuture.get()</code>? How exactly do you &quot;returning the ... result&quot;? Which result? Return from where to where? Could you please set up a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> so we understand it by reading a complete piece of code?"},{"owner":{"account_id":28633305,"reputation":1,"user_id":21923878,"display_name":"Andrea P."},"score":0,"creation_date":1691141143,"post_id":76818138,"comment_id":135454643,"body_markdown":"I was managing the Exception inside the MyTask in the wrong way. Now I have found the problem. Thanks guys!","body":"I was managing the Exception inside the MyTask in the wrong way. Now I have found the problem. Thanks guys!"}],"owner":{"account_id":28633305,"reputation":1,"user_id":21923878,"display_name":"Andrea P."},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691064648,"creation_date":1690966255,"question_id":76818138,"body_markdown":"I&#39;m using springBoot 3.1 with a ThreadPoolTaskScheduler bean to schedule some runnable tasks in this way\r\n\r\n`threadPoolTaskScheduler.scheduleAtFixedRate(new MyTask(), Duration.ofMillis(2000));`\r\n\r\nI have configured a threadPool in a configuration class\r\n\r\n```\r\n    @Bean\r\n    public ThreadPoolTaskScheduler threadPoolTaskScheduler() {\r\n        ThreadPoolTaskScheduler threadPoolTaskScheduler = new ThreadPoolTaskScheduler();\r\n        threadPoolTaskScheduler.setThreadNamePrefix(&quot;machineScheduler-&quot;);\r\n        threadPoolTaskScheduler.setThreadGroupName(&quot;machineGroup-&quot;);\r\n        threadPoolTaskScheduler.initialize();\r\n        return threadPoolTaskScheduler;\r\n    }\r\n```\r\n\r\nnext I have a singleton bean with a map \r\n`ConcurrentHashMap&lt;String, ScheduledFuture&lt;?&gt;&gt; commandManagerMap;`\r\nthen I put, into the map above, the scheduleFuture returned by the method scheduleAtFixedRate.\r\n\r\n```\r\nScheduledFuture&lt;?&gt; scheduledFuture = threadPoolTaskScheduler.scheduleAtFixedRate(new MyTask(), Duration.ofMillis(2000));\r\ncommandManagerMap.put(key, scheduledFuture);\r\n```\r\n\r\nI have also created a Controller to cancel the task, but when I get the scheduleFuture and call \r\n\r\n```\r\nscheduleFuture = commandManagerMap.get(key);\r\nscheduleFuture.cancel(false);\r\ndoSomething();\r\n```\r\nmy controller don&#39;t wait the termination of task and then returning the incorrect result.\r\n\r\n\r\nI have tried to use CountDownLatch inside MyTask but every time the task is triggered the instance of MyTask is always the same: I can&#39;t use CountDownLatch  in this way \r\n\r\n```\r\npublic class MyTask implements Runnable {\r\n    final CountDownLatch latch = new CountDownLatch(1);\r\n\r\n    @Override\r\n    public void run() {\r\n        doSomething()\r\n        latch.countDown();\r\n    }\r\n\r\n}\r\n```\r\nbecase when I run MyTask for the fisrt time countDown is called.\r\n\r\nI also tried to call Thread.currentThread() into Controller \r\n\r\n```\r\nscheduleFuture = commandManagerMap.get(key);\r\nscheduleFuture.cancel(false);\r\nThread.currentThread().wait(12);\r\ndoSomething();\r\n```\r\nbut I receive :\r\n\r\n    IllegalMonitorStateException: current thread is not owner\r\n\r\nI can&#39;t use either\r\n`scheduleFuture.cancel(true);`  because if task is running it can throw an exception \r\nor \r\n```\r\nscheduleFuture = commandManagerMap.get(key);\r\nscheduleFuture.cancel(false);\r\nscheduleFuture.get();\r\ndoSomething();\r\n```\r\nbecause get() method after cancel() throws exception.\r\n\r\nI would like to cancel the scheduleFuture then wait the termination of task and next continuing with doSomething.\r\nCan someone help me to write/explain the correct way of waiting the task termination and next continuing with my doSomething();\r\nI hope to explained my problem correctly, thanks a lot!\r\n\r\n-- UPDATE --\r\n\r\nI don&#39;t want catch the exception into MyTask because I want the Task finish its work. \r\nI don&#39;t want catch the exception threw by \r\n\r\n    scheduleFuture.cancel(false);\r\n    scheduleFuture.get();\r\n\r\nbecause the task could be still running.\r\n\r\nSo, what I want to achieve :\r\n\r\nMyTask needs to save informations in TableA and at the end save &quot;state&quot; in TableB. \r\nController disable MyTask and, after the task termination, it save &quot;state&quot; in TableB. \r\nI want to save both informations of MyTask and than the Controller save its &quot;state&quot; in TableB after MyTask. \r\n\r\nI hope to have explained better the problem\r\n","title":"Wait task termination in ThreadPoolTaskScheduler","body":"<p>I'm using springBoot 3.1 with a ThreadPoolTaskScheduler bean to schedule some runnable tasks in this way</p>\n<p><code>threadPoolTaskScheduler.scheduleAtFixedRate(new MyTask(), Duration.ofMillis(2000));</code></p>\n<p>I have configured a threadPool in a configuration class</p>\n<pre><code>    @Bean\n    public ThreadPoolTaskScheduler threadPoolTaskScheduler() {\n        ThreadPoolTaskScheduler threadPoolTaskScheduler = new ThreadPoolTaskScheduler();\n        threadPoolTaskScheduler.setThreadNamePrefix(&quot;machineScheduler-&quot;);\n        threadPoolTaskScheduler.setThreadGroupName(&quot;machineGroup-&quot;);\n        threadPoolTaskScheduler.initialize();\n        return threadPoolTaskScheduler;\n    }\n</code></pre>\n<p>next I have a singleton bean with a map\n<code>ConcurrentHashMap&lt;String, ScheduledFuture&lt;?&gt;&gt; commandManagerMap;</code>\nthen I put, into the map above, the scheduleFuture returned by the method scheduleAtFixedRate.</p>\n<pre><code>ScheduledFuture&lt;?&gt; scheduledFuture = threadPoolTaskScheduler.scheduleAtFixedRate(new MyTask(), Duration.ofMillis(2000));\ncommandManagerMap.put(key, scheduledFuture);\n</code></pre>\n<p>I have also created a Controller to cancel the task, but when I get the scheduleFuture and call</p>\n<pre><code>scheduleFuture = commandManagerMap.get(key);\nscheduleFuture.cancel(false);\ndoSomething();\n</code></pre>\n<p>my controller don't wait the termination of task and then returning the incorrect result.</p>\n<p>I have tried to use CountDownLatch inside MyTask but every time the task is triggered the instance of MyTask is always the same: I can't use CountDownLatch  in this way</p>\n<pre><code>public class MyTask implements Runnable {\n    final CountDownLatch latch = new CountDownLatch(1);\n\n    @Override\n    public void run() {\n        doSomething()\n        latch.countDown();\n    }\n\n}\n</code></pre>\n<p>becase when I run MyTask for the fisrt time countDown is called.</p>\n<p>I also tried to call Thread.currentThread() into Controller</p>\n<pre><code>scheduleFuture = commandManagerMap.get(key);\nscheduleFuture.cancel(false);\nThread.currentThread().wait(12);\ndoSomething();\n</code></pre>\n<p>but I receive :</p>\n<pre><code>IllegalMonitorStateException: current thread is not owner\n</code></pre>\n<p>I can't use either\n<code>scheduleFuture.cancel(true);</code>  because if task is running it can throw an exception\nor</p>\n<pre><code>scheduleFuture = commandManagerMap.get(key);\nscheduleFuture.cancel(false);\nscheduleFuture.get();\ndoSomething();\n</code></pre>\n<p>because get() method after cancel() throws exception.</p>\n<p>I would like to cancel the scheduleFuture then wait the termination of task and next continuing with doSomething.\nCan someone help me to write/explain the correct way of waiting the task termination and next continuing with my doSomething();\nI hope to explained my problem correctly, thanks a lot!</p>\n<p>-- UPDATE --</p>\n<p>I don't want catch the exception into MyTask because I want the Task finish its work.\nI don't want catch the exception threw by</p>\n<pre><code>scheduleFuture.cancel(false);\nscheduleFuture.get();\n</code></pre>\n<p>because the task could be still running.</p>\n<p>So, what I want to achieve :</p>\n<p>MyTask needs to save informations in TableA and at the end save &quot;state&quot; in TableB.\nController disable MyTask and, after the task termination, it save &quot;state&quot; in TableB.\nI want to save both informations of MyTask and than the Controller save its &quot;state&quot; in TableB after MyTask.</p>\n<p>I hope to have explained better the problem</p>\n"},{"tags":["java","spring-boot","spring-data-jpa","jparepository"],"owner":{"account_id":10165842,"reputation":45,"user_id":7507830,"display_name":"namer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691064215,"creation_date":1691062196,"question_id":76827650,"body_markdown":"I have an object called Community that looks like this:\r\n\r\n```\r\npackage FamilyFusion.rnr.domain.community;\r\n\r\n\r\nimport FamilyFusion.rnr.domain.familyTree.Tree;\r\nimport FamilyFusion.rnr.domain.users.User;\r\nimport jakarta.persistence.*;\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\n\r\nimport java.util.List;\r\n\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Data\r\n@Entity\r\npublic class Community {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private long id;\r\n\r\n    @OneToOne(fetch = FetchType.EAGER, cascade = {CascadeType.PERSIST, CascadeType.MERGE, CascadeType.REFRESH, CascadeType.DETACH})\r\n    private Tree familyTree;\r\n\r\n    private String communityName;\r\n\r\n    @OneToOne(fetch = FetchType.EAGER, cascade = {CascadeType.PERSIST, CascadeType.MERGE, CascadeType.REFRESH, CascadeType.DETACH})\r\n    private User admin;\r\n\r\n    @OneToMany(fetch = FetchType.EAGER, cascade = {CascadeType.PERSIST, CascadeType.MERGE, CascadeType.REFRESH, CascadeType.DETACH})\r\n    private List&lt;User&gt; usersPlus;\r\n\r\n    @OneToMany(fetch = FetchType.EAGER, cascade = {CascadeType.PERSIST, CascadeType.MERGE, CascadeType.REFRESH, CascadeType.DETACH})\r\n    private List&lt;User&gt; members;\r\n\r\n\r\n    public Community(Tree familyTree, String communityName, User admin, List&lt;User&gt; usersPlus, List&lt;User&gt; members) {\r\n        this.familyTree = familyTree;\r\n        this.communityName = communityName;\r\n        this.admin = admin;\r\n        this.usersPlus = usersPlus;\r\n        this.members = members;\r\n    }\r\n}\r\n\r\n```\r\n\r\nI want to use Jpa to find all communities a user is either an admin, a userPlus, or a member in. \r\n\r\nHow do I go about doing that? My first attempt was:\r\nJpa Repository\r\n```\r\n    List&lt;Community&gt; findCommunitiesByAdminOrUsersPlusOrMembers(User admin, List&lt;User&gt; usersPlus, List&lt;User&gt; members);\r\n\r\n```\r\n\r\nService Layer:\r\n```\r\n    @Override\r\n    public List&lt;Community&gt; findCommunityByAdminOrMembersOrUsersPlus(User user) {\r\n        List&lt;User&gt; users = new ArrayList&lt;&gt;();\r\n        users.add(user);\r\n        return communityRepository.findCommunitiesByAdminOrUsersPlusOrMembers(user, users, users);\r\n    }\r\n```\r\nWhich I then call in the controller:\r\n```\r\n    @GetMapping(&quot;/chooseCommunity&quot;)\r\n    public String chooseCommunity(Model model, Principal principal) {\r\n        User user = userService.findUserByEmail(principal.getName());\r\n        List&lt;Community&gt; communities = communityService.findCommunityByAdminOrMembersOrUsersPlus(user);\r\n\r\n        if (communities.size() == 0) {\r\n            return &quot;redirect:/recipe/viewAllMyRecipes&quot;;\r\n        } else if (communities.size() == 1) {\r\n            return &quot;redirect:/recipe/viewAllCommunityRecipes/&quot;+communities.get(0).getId();\r\n        } else {\r\n            return &quot;chooseCommunity&quot;;\r\n        }\r\n\r\n    }\r\n```\r\n\r\nHowever it threw me an error when I ran the server, saying there is an error because of it.","title":"Search using Jpa Repository in both the main object, and a nested list","body":"<p>I have an object called Community that looks like this:</p>\n<pre><code>package FamilyFusion.rnr.domain.community;\n\n\nimport FamilyFusion.rnr.domain.familyTree.Tree;\nimport FamilyFusion.rnr.domain.users.User;\nimport jakarta.persistence.*;\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\nimport java.util.List;\n\n@AllArgsConstructor\n@NoArgsConstructor\n@Data\n@Entity\npublic class Community {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private long id;\n\n    @OneToOne(fetch = FetchType.EAGER, cascade = {CascadeType.PERSIST, CascadeType.MERGE, CascadeType.REFRESH, CascadeType.DETACH})\n    private Tree familyTree;\n\n    private String communityName;\n\n    @OneToOne(fetch = FetchType.EAGER, cascade = {CascadeType.PERSIST, CascadeType.MERGE, CascadeType.REFRESH, CascadeType.DETACH})\n    private User admin;\n\n    @OneToMany(fetch = FetchType.EAGER, cascade = {CascadeType.PERSIST, CascadeType.MERGE, CascadeType.REFRESH, CascadeType.DETACH})\n    private List&lt;User&gt; usersPlus;\n\n    @OneToMany(fetch = FetchType.EAGER, cascade = {CascadeType.PERSIST, CascadeType.MERGE, CascadeType.REFRESH, CascadeType.DETACH})\n    private List&lt;User&gt; members;\n\n\n    public Community(Tree familyTree, String communityName, User admin, List&lt;User&gt; usersPlus, List&lt;User&gt; members) {\n        this.familyTree = familyTree;\n        this.communityName = communityName;\n        this.admin = admin;\n        this.usersPlus = usersPlus;\n        this.members = members;\n    }\n}\n\n</code></pre>\n<p>I want to use Jpa to find all communities a user is either an admin, a userPlus, or a member in.</p>\n<p>How do I go about doing that? My first attempt was:\nJpa Repository</p>\n<pre><code>    List&lt;Community&gt; findCommunitiesByAdminOrUsersPlusOrMembers(User admin, List&lt;User&gt; usersPlus, List&lt;User&gt; members);\n\n</code></pre>\n<p>Service Layer:</p>\n<pre><code>    @Override\n    public List&lt;Community&gt; findCommunityByAdminOrMembersOrUsersPlus(User user) {\n        List&lt;User&gt; users = new ArrayList&lt;&gt;();\n        users.add(user);\n        return communityRepository.findCommunitiesByAdminOrUsersPlusOrMembers(user, users, users);\n    }\n</code></pre>\n<p>Which I then call in the controller:</p>\n<pre><code>    @GetMapping(&quot;/chooseCommunity&quot;)\n    public String chooseCommunity(Model model, Principal principal) {\n        User user = userService.findUserByEmail(principal.getName());\n        List&lt;Community&gt; communities = communityService.findCommunityByAdminOrMembersOrUsersPlus(user);\n\n        if (communities.size() == 0) {\n            return &quot;redirect:/recipe/viewAllMyRecipes&quot;;\n        } else if (communities.size() == 1) {\n            return &quot;redirect:/recipe/viewAllCommunityRecipes/&quot;+communities.get(0).getId();\n        } else {\n            return &quot;chooseCommunity&quot;;\n        }\n\n    }\n</code></pre>\n<p>However it threw me an error when I ran the server, saying there is an error because of it.</p>\n"},{"tags":["java","maven","jenkins-pipeline","sonarqube"],"comments":[{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":1,"creation_date":1691063159,"post_id":76827725,"comment_id":135442495,"body_markdown":"You must use Java 17 or newer with maven.","body":"You must use Java 17 or newer with maven."},{"owner":{"account_id":20264119,"reputation":265,"user_id":14861772,"display_name":"dovexz12323"},"score":0,"creation_date":1691063279,"post_id":76827725,"comment_id":135442511,"body_markdown":"@Thorbj&#248;rnRavnAndersen Could you please elaborate?","body":"@Thorbj&#248;rnRavnAndersen Could you please elaborate?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1691063597,"post_id":76827725,"comment_id":135442569,"body_markdown":"Are you sure that your Jenkins environment is running 17 or later?","body":"Are you sure that your Jenkins environment is running 17 or later?"},{"owner":{"account_id":20264119,"reputation":265,"user_id":14861772,"display_name":"dovexz12323"},"score":0,"creation_date":1691066789,"post_id":76827725,"comment_id":135443252,"body_markdown":"Yeah that&#39;s interesting, unfortunately it seems to be Using Java 11 instead of Java 17th. Weird anomaly, as it should actually use 17, as per pipeline setup","body":"Yeah that&#39;s interesting, unfortunately it seems to be Using Java 11 instead of Java 17th. Weird anomaly, as it should actually use 17, as per pipeline setup"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1691077877,"post_id":76827725,"comment_id":135445901,"body_markdown":"Obviously is the JDK used by the appropriate build on Jenkins not JDK17...","body":"Obviously is the JDK used by the appropriate build on Jenkins not JDK17..."}],"answers":[{"tags":[],"owner":{"account_id":7101255,"reputation":35,"user_id":5432693,"display_name":"Parth Pancholi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691064072,"creation_date":1691064072,"answer_id":76827870,"question_id":76827725,"body_markdown":"I think the configurations for java 8 with maven-compiler-plugin and java 17 with maven-compiler-plugin is different ways to define it. \r\n\r\nFor java 8 and lower version it&#39;s as below,\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.11.0&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;source&gt;1.8&lt;/source&gt;\r\n          &lt;target&gt;1.8&lt;/target&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n    \r\nFor java 9+ version the configurations are as below,\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.11.0&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;release&gt;8&lt;/release&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n\r\nReferences:\r\n\r\n - https://maven.apache.org/plugins/maven-compiler-plugin/examples/set-compiler-release.html\r\n - https://maven.apache.org/plugins/maven-compiler-plugin/examples/set-compiler-source-and-target.html","title":"Fatal error compiling: error: invalid target release: 17","body":"<p>I think the configurations for java 8 with maven-compiler-plugin and java 17 with maven-compiler-plugin is different ways to define it.</p>\n<p>For java 8 and lower version it's as below,</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.11.0&lt;/version&gt;\n    &lt;configuration&gt;\n      &lt;source&gt;1.8&lt;/source&gt;\n      &lt;target&gt;1.8&lt;/target&gt;\n    &lt;/configuration&gt;\n  &lt;/plugin&gt;\n</code></pre>\n<p>For java 9+ version the configurations are as below,</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.11.0&lt;/version&gt;\n    &lt;configuration&gt;\n      &lt;release&gt;8&lt;/release&gt;\n    &lt;/configuration&gt;\n  &lt;/plugin&gt;\n</code></pre>\n<p>References:</p>\n<ul>\n<li><a href=\"https://maven.apache.org/plugins/maven-compiler-plugin/examples/set-compiler-release.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/plugins/maven-compiler-plugin/examples/set-compiler-release.html</a></li>\n<li><a href=\"https://maven.apache.org/plugins/maven-compiler-plugin/examples/set-compiler-source-and-target.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/plugins/maven-compiler-plugin/examples/set-compiler-source-and-target.html</a></li>\n</ul>\n"}],"owner":{"account_id":20264119,"reputation":265,"user_id":14861772,"display_name":"dovexz12323"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1940,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691064072,"creation_date":1691062742,"question_id":76827725,"body_markdown":"I am trying to build a project via Jenkins, but I keep on getting this error: \r\n\r\n&gt; [ERROR] Failed to execute goal\r\n&gt; org.apache.maven.plugins:maven-compiler-plugin:3.8.1:compile\r\n&gt; (default-compile) on project my-project: Fatal error compiling: error:\r\n&gt; invalid target release: 17 -&gt; [Help 1]\r\n\r\nI have tried assigning source and target versions in pom.xml, wouldn&#39;t work.\r\n\r\n    &lt;plugin&gt;\r\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;${maven-compiler-plugin.version}&lt;/version&gt;\r\n          &lt;configuration&gt;\r\n             &lt;target&gt;17&lt;/target&gt;\r\n             &lt;source&gt;17&lt;/source&gt;\r\n          &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\n\r\nmvn --version output:\r\n\r\n    Apache Maven 3.8.1 (05c21c65bdfed0f71a2f2ada8b84da59348c4c5d)\r\n    Maven home: C:\\Program Files (x86)\\JetBrains\\IntelliJ IDEA 2022.3.3\\plugins\\maven\\lib\\maven3\r\n    Java version: 17.0.8, vendor: Eclipse Adoptium, runtime: C:\\Program Files\\Eclipse Adoptium\\jdk-17.0.8.7-hotspot\r\n    Default locale: en_US, platform encoding: UTF-8\r\n    OS name: &quot;windows 10&quot;, version: &quot;10.0&quot;, arch: &quot;amd64&quot;, family: &quot;windows&quot;\r\n\r\nAs a matter of fact, if I specify the source and target of versions as 1.8, it would then build correctly, but the project is using Java 17.\r\n\r\n       &lt;java.version&gt;17&lt;/java.version&gt;\r\n\r\n\r\nWhat other ways of fixing I could try to make it work?\r\n","title":"Fatal error compiling: error: invalid target release: 17","body":"<p>I am trying to build a project via Jenkins, but I keep on getting this error:</p>\n<blockquote>\n<p>[ERROR] Failed to execute goal\norg.apache.maven.plugins:maven-compiler-plugin:3.8.1:compile\n(default-compile) on project my-project: Fatal error compiling: error:\ninvalid target release: 17 -&gt; [Help 1]</p>\n</blockquote>\n<p>I have tried assigning source and target versions in pom.xml, wouldn't work.</p>\n<pre><code>&lt;plugin&gt;\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n      &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n      &lt;version&gt;${maven-compiler-plugin.version}&lt;/version&gt;\n      &lt;configuration&gt;\n         &lt;target&gt;17&lt;/target&gt;\n         &lt;source&gt;17&lt;/source&gt;\n      &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>mvn --version output:</p>\n<pre><code>Apache Maven 3.8.1 (05c21c65bdfed0f71a2f2ada8b84da59348c4c5d)\nMaven home: C:\\Program Files (x86)\\JetBrains\\IntelliJ IDEA 2022.3.3\\plugins\\maven\\lib\\maven3\nJava version: 17.0.8, vendor: Eclipse Adoptium, runtime: C:\\Program Files\\Eclipse Adoptium\\jdk-17.0.8.7-hotspot\nDefault locale: en_US, platform encoding: UTF-8\nOS name: &quot;windows 10&quot;, version: &quot;10.0&quot;, arch: &quot;amd64&quot;, family: &quot;windows&quot;\n</code></pre>\n<p>As a matter of fact, if I specify the source and target of versions as 1.8, it would then build correctly, but the project is using Java 17.</p>\n<pre><code>   &lt;java.version&gt;17&lt;/java.version&gt;\n</code></pre>\n<p>What other ways of fixing I could try to make it work?</p>\n"},{"tags":["java","android","billing"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1690889144,"post_id":76811042,"comment_id":135413119,"body_markdown":"Seems to be a duplicate of https://stackoverflow.com/questions/43752248/how-to-determine-where-to-place-the-currency-symbol-when-formatting-a-number.\nAlso note that using floating point types for currency is going to cause representation errors at some point. You should be using BigDecimal for currency operations.","body":"Seems to be a duplicate of <a href=\"https://stackoverflow.com/questions/43752248/how-to-determine-where-to-place-the-currency-symbol-when-formatting-a-number\" title=\"how to determine where to place the currency symbol when formatting a number\">stackoverflow.com/questions/43752248/&hellip;</a>. Also note that using floating point types for currency is going to cause representation errors at some point. You should be using BigDecimal for currency operations."},{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":0,"creation_date":1690889978,"post_id":76811042,"comment_id":135413308,"body_markdown":"Seems possible to use Locale strings.xml and using format arguments to replace actual values: this [answer](https://stackoverflow.com/questions/3656371/is-it-possible-to-have-placeholders-in-strings-xml-for-runtime-values) touches on it.  You can therefore customize each &quot;subscription&quot; message per supported locale.  [Resources.getString](https://developer.android.com/reference/android/content/res/Resources#getString(int,%20java.lang.Object[])) is the useful method.","body":"Seems possible to use Locale strings.xml and using format arguments to replace actual values: this <a href=\"https://stackoverflow.com/questions/3656371/is-it-possible-to-have-placeholders-in-strings-xml-for-runtime-values\">answer</a> touches on it.  You can therefore customize each &quot;subscription&quot; message per supported locale.  <a href=\"https://developer.android.com/reference/android/content/res/Resources#getString(int,%20java.lang.Object%5B%5D)\" rel=\"nofollow noreferrer\">Resources.getString</a> is the useful method."}],"answers":[{"comments":[{"owner":{"account_id":1443836,"reputation":9337,"user_id":1363087,"accept_rate":58,"display_name":"Ton"},"score":0,"creation_date":1691058862,"post_id":76811817,"comment_id":135441596,"body_markdown":"Thanks. But is there a way to have it &quot;generic&quot;?","body":"Thanks. But is there a way to have it &quot;generic&quot;?"},{"owner":{"account_id":295316,"reputation":736,"user_id":3324415,"accept_rate":74,"display_name":"BernardV"},"score":0,"creation_date":1691063982,"post_id":76811817,"comment_id":135442635,"body_markdown":"Please see my updated answer @Ton","body":"Please see my updated answer @Ton"}],"tags":[],"owner":{"account_id":295316,"reputation":736,"user_id":3324415,"accept_rate":74,"display_name":"BernardV"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1691063951,"creation_date":1690894284,"answer_id":76811817,"question_id":76811042,"body_markdown":"**Updated** as per request to make it more generic:\r\n\r\n````Java\r\nimport java.text.NumberFormat;\r\nimport java.util.Locale;\r\n\r\npublic class CurrencyFormatter {\r\n\r\n    public enum LanguageCode {\r\n        EN, ES, FR // Add more language codes as needed\r\n    }\r\n\r\n    public enum CountryCode {\r\n        US, ES, FR, GB // Add more country codes as needed\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        String stringSpain = getFormattedCurrencyString(LanguageCode.ES, CountryCode.ES, 1f, 12f);\r\n        System.out.println(stringSpain);\r\n\r\n        String stringFrance = getFormattedCurrencyString(LanguageCode.FR, CountryCode.FR, 1f, 12f);\r\n        System.out.println(stringFrance);\r\n\r\n        String stringUK = getFormattedCurrencyString(LanguageCode.EN, CountryCode.GB, 1f, 12f);\r\n        System.out.println(stringUK);\r\n\r\n        String stringUS = getFormattedCurrencyString(LanguageCode.EN, CountryCode.US, 1f, 12f);\r\n        System.out.println(stringUS);\r\n    }\r\n\r\n    public static String getFormattedCurrencyString(LanguageCode languageCode, CountryCode countryCode, float monthlyPrice, float yearlyPrice) {\r\n        Locale locale = Locale.forLanguageTag(languageCode.name() + &quot;-&quot; + countryCode.name());\r\n        NumberFormat currencyFormat = NumberFormat.getCurrencyInstance(locale);\r\n        String formattedMonthlyPrice = currencyFormat.format(monthlyPrice);\r\n        String formattedYearlyPrice = currencyFormat.format(yearlyPrice);\r\n        return &quot;Get this subscription for only &quot; + formattedMonthlyPrice + &quot;/month (billed as yearly payments of &quot; + formattedYearlyPrice + &quot;)&quot;;\r\n    }\r\n}\r\n````\r\n\r\n\r\nThis should work fine:\r\n\r\n    Locale countryLocaleSpain = Locale.of(&quot;es&quot;, &quot;ES&quot;);\r\n    NumberFormat currencyFormatSpain = NumberFormat.getCurrencyInstance(countryLocaleSpain);\r\n    String stringSpain = &quot;Get this subscription for only &quot; + currencyFormatSpain.format(1f)  + &quot;/month (billed as yearly payments of &quot; + currencyFormatSpain.format(12f);\r\n    System.out.println(stringSpain);\r\n    \r\n    Locale countryLocaleFrance = Locale.FRANCE;\r\n    NumberFormat currencyFormatFrance = NumberFormat.getCurrencyInstance(countryLocaleFrance);\r\n    String stringFrance = &quot;Get this subscription for only &quot; + currencyFormatFrance.format(1f)  + &quot;/month (billed as yearly payments of &quot; + currencyFormatFrance.format(12f);\r\n    System.out.println(stringFrance);\r\n    \r\n    Locale countryLocaleUK = Locale.UK;\r\n    NumberFormat currencyFormatUK = NumberFormat.getCurrencyInstance(countryLocaleUK);\r\n    String stringUK = &quot;Get this subscription for only &quot; + currencyFormatUK.format(1f)  + &quot;/month (billed as yearly payments of &quot; + currencyFormatUK.format(12f);\r\n    System.out.println(stringUK);\r\n    \r\n    Locale countryLocaleUS = Locale.US;\r\n    NumberFormat currencyFormatUS = NumberFormat.getCurrencyInstance(countryLocaleUS);\r\n    String stringUS = &quot;Get this subscription for only &quot; + currencyFormatUS.format(1f)  + &quot;/month (billed as yearly payments of &quot; + currencyFormatUS.format(12f);\r\n    System.out.println(stringUS);\r\n\r\n\r\nOutput:\r\n\r\n    Get this subscription for only 1,00&#160;€/month (billed as yearly payments of 12,00&#160;€\r\n    Get this subscription for only 1,00&#160;€/month (billed as yearly payments of 12,00&#160;€\r\n    Get this subscription for only &#163;1.00/month (billed as yearly payments of &#163;12.00\r\n    Get this subscription for only $1.00/month (billed as yearly payments of $12.00","title":"How to divide a yearly subscription prince into 12 months in Android?","body":"<p><strong>Updated</strong> as per request to make it more generic:</p>\n<pre><code>import java.text.NumberFormat;\nimport java.util.Locale;\n\npublic class CurrencyFormatter {\n\n    public enum LanguageCode {\n        EN, ES, FR // Add more language codes as needed\n    }\n\n    public enum CountryCode {\n        US, ES, FR, GB // Add more country codes as needed\n    }\n\n    public static void main(String[] args) {\n        String stringSpain = getFormattedCurrencyString(LanguageCode.ES, CountryCode.ES, 1f, 12f);\n        System.out.println(stringSpain);\n\n        String stringFrance = getFormattedCurrencyString(LanguageCode.FR, CountryCode.FR, 1f, 12f);\n        System.out.println(stringFrance);\n\n        String stringUK = getFormattedCurrencyString(LanguageCode.EN, CountryCode.GB, 1f, 12f);\n        System.out.println(stringUK);\n\n        String stringUS = getFormattedCurrencyString(LanguageCode.EN, CountryCode.US, 1f, 12f);\n        System.out.println(stringUS);\n    }\n\n    public static String getFormattedCurrencyString(LanguageCode languageCode, CountryCode countryCode, float monthlyPrice, float yearlyPrice) {\n        Locale locale = Locale.forLanguageTag(languageCode.name() + &quot;-&quot; + countryCode.name());\n        NumberFormat currencyFormat = NumberFormat.getCurrencyInstance(locale);\n        String formattedMonthlyPrice = currencyFormat.format(monthlyPrice);\n        String formattedYearlyPrice = currencyFormat.format(yearlyPrice);\n        return &quot;Get this subscription for only &quot; + formattedMonthlyPrice + &quot;/month (billed as yearly payments of &quot; + formattedYearlyPrice + &quot;)&quot;;\n    }\n}\n</code></pre>\n<p>This should work fine:</p>\n<pre><code>Locale countryLocaleSpain = Locale.of(&quot;es&quot;, &quot;ES&quot;);\nNumberFormat currencyFormatSpain = NumberFormat.getCurrencyInstance(countryLocaleSpain);\nString stringSpain = &quot;Get this subscription for only &quot; + currencyFormatSpain.format(1f)  + &quot;/month (billed as yearly payments of &quot; + currencyFormatSpain.format(12f);\nSystem.out.println(stringSpain);\n\nLocale countryLocaleFrance = Locale.FRANCE;\nNumberFormat currencyFormatFrance = NumberFormat.getCurrencyInstance(countryLocaleFrance);\nString stringFrance = &quot;Get this subscription for only &quot; + currencyFormatFrance.format(1f)  + &quot;/month (billed as yearly payments of &quot; + currencyFormatFrance.format(12f);\nSystem.out.println(stringFrance);\n\nLocale countryLocaleUK = Locale.UK;\nNumberFormat currencyFormatUK = NumberFormat.getCurrencyInstance(countryLocaleUK);\nString stringUK = &quot;Get this subscription for only &quot; + currencyFormatUK.format(1f)  + &quot;/month (billed as yearly payments of &quot; + currencyFormatUK.format(12f);\nSystem.out.println(stringUK);\n\nLocale countryLocaleUS = Locale.US;\nNumberFormat currencyFormatUS = NumberFormat.getCurrencyInstance(countryLocaleUS);\nString stringUS = &quot;Get this subscription for only &quot; + currencyFormatUS.format(1f)  + &quot;/month (billed as yearly payments of &quot; + currencyFormatUS.format(12f);\nSystem.out.println(stringUS);\n</code></pre>\n<p>Output:</p>\n<pre><code>Get this subscription for only 1,00 €/month (billed as yearly payments of 12,00 €\nGet this subscription for only 1,00 €/month (billed as yearly payments of 12,00 €\nGet this subscription for only £1.00/month (billed as yearly payments of £12.00\nGet this subscription for only $1.00/month (billed as yearly payments of $12.00\n</code></pre>\n"}],"owner":{"account_id":1443836,"reputation":9337,"user_id":1363087,"accept_rate":58,"display_name":"Ton"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":76811817,"answer_count":1,"score":-3,"last_activity_date":1691063951,"creation_date":1690888214,"question_id":76811042,"body_markdown":"I have my app in Android that has a yearly subscription. I would like to display to the user the price also in months (so it looks more attractive). For example, let&#39;s say the yerly subscription is $12, I want to display someting like this:\r\n\r\n&gt; Get this subscription for only $1/month (billed as yearly payments of\r\n&gt; $12)\r\n\r\nI looks as simple as dividing the price of the subscription by 12 moths, but I am stragling with the currency symbol. Some locales will display de symbol in the left, others in the right. For example in Spanish it will be &quot;12€&quot;.\r\n\r\nIs there a way to detect that?\r\n\r\nI am having toying with \r\n\r\nfloat fYearPerice = mySkuDetails.getPriceAmountMicros() / 1000000.0f;\r\nfloat fMonthPrice = oSubscripcion.fPrecio/12;\r\nString sCurrencyCode = oSkuDetails.getPriceCurrencyCode();\r\n\r\nI can do something as simple as this:\r\n\r\n    String s = &quot;Get this subscription for only &quot; + sCurrencyCode  + fMonthPrice  + &quot;/month (billed as yearly payments of &quot; + mySkuDetails.getPrice();\r\n\r\nBut the currency will not be in the right position for every locale. Is there a way to approach this elegantly?\r\n\r\n","title":"How to divide a yearly subscription prince into 12 months in Android?","body":"<p>I have my app in Android that has a yearly subscription. I would like to display to the user the price also in months (so it looks more attractive). For example, let's say the yerly subscription is $12, I want to display someting like this:</p>\n<blockquote>\n<p>Get this subscription for only $1/month (billed as yearly payments of\n$12)</p>\n</blockquote>\n<p>I looks as simple as dividing the price of the subscription by 12 moths, but I am stragling with the currency symbol. Some locales will display de symbol in the left, others in the right. For example in Spanish it will be &quot;12€&quot;.</p>\n<p>Is there a way to detect that?</p>\n<p>I am having toying with</p>\n<p>float fYearPerice = mySkuDetails.getPriceAmountMicros() / 1000000.0f;\nfloat fMonthPrice = oSubscripcion.fPrecio/12;\nString sCurrencyCode = oSkuDetails.getPriceCurrencyCode();</p>\n<p>I can do something as simple as this:</p>\n<pre><code>String s = &quot;Get this subscription for only &quot; + sCurrencyCode  + fMonthPrice  + &quot;/month (billed as yearly payments of &quot; + mySkuDetails.getPrice();\n</code></pre>\n<p>But the currency will not be in the right position for every locale. Is there a way to approach this elegantly?</p>\n"},{"tags":["java","spring-boot","kotlin","reactive"],"answers":[{"tags":[],"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691041350,"creation_date":1691034801,"answer_id":76824796,"question_id":76824754,"body_markdown":"Yes, spring provides many possibilities to do it, starting from AOP to request filters, but I recommend you to have a look at [OncePerRequestFilter](https://www.baeldung.com/spring-onceperrequestfilter) or [Filter](https://www.baeldung.com/spring-boot-add-filter).","title":"How to validate a secret present in headers of a post request?","body":"<p>Yes, spring provides many possibilities to do it, starting from AOP to request filters, but I recommend you to have a look at <a href=\"https://www.baeldung.com/spring-onceperrequestfilter\" rel=\"nofollow noreferrer\">OncePerRequestFilter</a> or <a href=\"https://www.baeldung.com/spring-boot-add-filter\" rel=\"nofollow noreferrer\">Filter</a>.</p>\n"},{"tags":[],"owner":{"account_id":29148860,"reputation":16,"user_id":22330131,"display_name":"Liuzhaowei"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691040148,"creation_date":1691040148,"answer_id":76825067,"question_id":76824754,"body_markdown":"In my practice, I will use Spring&#39;s Filter feature to achieve this functionality.\r\n\r\nlike this:\r\n\r\n    import jakarta.servlet.FilterChain;\r\n    import jakarta.servlet.ServletException;\r\n    import jakarta.servlet.http.HttpServletRequest;\r\n    import jakarta.servlet.http.HttpServletResponse;\r\n    import org.springframework.core.annotation.Order;\r\n    import org.springframework.stereotype.Component;\r\n    import org.springframework.web.filter.OncePerRequestFilter;\r\n\r\n    import java.io.IOException;\r\n    import java.io.PrintWriter;\r\n\r\n    @Order(value = 1)\r\n    @Component\r\n    public class MyFilter extends OncePerRequestFilter {\r\n    @Override\r\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\r\n        String contextPath = request.getRequestURI();\r\n        // check the path which you want to intercept\r\n        if (contextPath.startsWith(&quot;/your/path&quot;)) {\r\n            // get your parameter\r\n            String security = request.getHeader(&quot;secret&quot;);\r\n            // check your parameter\r\n            if (security==null || !validateSecurity(security)) {\r\n                response.setStatus(HttpServletResponse.SC_UNAUTHORIZED);\r\n                response.setContentType(&quot;application/json;charset=utf-8&quot;);\r\n                PrintWriter writer = response.getWriter();\r\n                writer.write(&quot;Have not been authenticated&quot;);\r\n                return;\r\n            }\r\n        }\r\n        // if validate pass will go to the controller\r\n        filterChain.doFilter(request, response);\r\n    }\r\n\r\n    private Boolean validateSecurity(String security) {\r\n        return &quot;security&quot;.equals(security);\r\n    }\r\n}","title":"How to validate a secret present in headers of a post request?","body":"<p>In my practice, I will use Spring's Filter feature to achieve this functionality.</p>\n<p>like this:</p>\n<pre><code>import jakarta.servlet.FilterChain;\nimport jakarta.servlet.ServletException;\nimport jakarta.servlet.http.HttpServletRequest;\nimport jakarta.servlet.http.HttpServletResponse;\nimport org.springframework.core.annotation.Order;\nimport org.springframework.stereotype.Component;\nimport org.springframework.web.filter.OncePerRequestFilter;\n\nimport java.io.IOException;\nimport java.io.PrintWriter;\n\n@Order(value = 1)\n@Component\npublic class MyFilter extends OncePerRequestFilter {\n@Override\nprotected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\n    String contextPath = request.getRequestURI();\n    // check the path which you want to intercept\n    if (contextPath.startsWith(&quot;/your/path&quot;)) {\n        // get your parameter\n        String security = request.getHeader(&quot;secret&quot;);\n        // check your parameter\n        if (security==null || !validateSecurity(security)) {\n            response.setStatus(HttpServletResponse.SC_UNAUTHORIZED);\n            response.setContentType(&quot;application/json;charset=utf-8&quot;);\n            PrintWriter writer = response.getWriter();\n            writer.write(&quot;Have not been authenticated&quot;);\n            return;\n        }\n    }\n    // if validate pass will go to the controller\n    filterChain.doFilter(request, response);\n}\n\nprivate Boolean validateSecurity(String security) {\n    return &quot;security&quot;.equals(security);\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":29148878,"reputation":11,"user_id":22330147,"display_name":"Cheerless guy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1691063845,"creation_date":1691033910,"question_id":76824754,"body_markdown":"I have to implement a POST rest API. For authentication, the client will send us a secret (static) in headers and we have to validate it on the server. One way is to access the secret in the Controller and validate it. But does Spring provide any built-in support for it? Or a better way to do the same, where business and security logic is kept at a diff \r\n\r\nFollowing is the brute force way:\r\n\r\n```\r\n    @PostMapping(&quot;/v1/something&quot;)\r\n    fun initiateSomething(\r\n        @RequestBody @Valid request: RequstToDoSomething,\r\n        @RequestHeader headers: Map&lt;String, String&gt;\r\n    ): Mono&lt;ResponseToDOSOmething&gt; {\r\n        if (headers[&quot;secret&quot;] != &quot;CONFIDENTIAL_SECRET&quot;)\r\n            throw Exception()\r\n        return service.process(request)\r\n    }\r\n```","title":"How to validate a secret present in headers of a post request?","body":"<p>I have to implement a POST rest API. For authentication, the client will send us a secret (static) in headers and we have to validate it on the server. One way is to access the secret in the Controller and validate it. But does Spring provide any built-in support for it? Or a better way to do the same, where business and security logic is kept at a diff</p>\n<p>Following is the brute force way:</p>\n<pre><code>    @PostMapping(&quot;/v1/something&quot;)\n    fun initiateSomething(\n        @RequestBody @Valid request: RequstToDoSomething,\n        @RequestHeader headers: Map&lt;String, String&gt;\n    ): Mono&lt;ResponseToDOSOmething&gt; {\n        if (headers[&quot;secret&quot;] != &quot;CONFIDENTIAL_SECRET&quot;)\n            throw Exception()\n        return service.process(request)\n    }\n</code></pre>\n"},{"tags":["java","date","calendar"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1479571699,"post_id":13624442,"comment_id":68619328,"body_markdown":"FYI, the `java.util.Date` and `SimpleDateFormat` classes are now legacy, supplanted by the java.time classes. See Answers such as [the one by Zeeshan](http://stackoverflow.com/a/31720245/642706) and [the one by Krishna](http://stackoverflow.com/a/40689365/642706) for examples of using `LocalDate` and other modern date-time classes.","body":"FYI, the <code>java.util.Date</code> and <code>SimpleDateFormat</code> classes are now legacy, supplanted by the java.time classes. See Answers such as <a href=\"http://stackoverflow.com/a/31720245/642706\">the one by Zeeshan</a> and <a href=\"http://stackoverflow.com/a/40689365/642706\">the one by Krishna</a> for examples of using <code>LocalDate</code> and other modern date-time classes."},{"owner":{"account_id":1879878,"reputation":24286,"user_id":1700321,"display_name":"Aleksandr M"},"score":1,"creation_date":1509647860,"post_id":13624442,"comment_id":81114040,"body_markdown":"Or [this](https://stackoverflow.com/a/13624504/1700321).","body":"Or <a href=\"https://stackoverflow.com/a/13624504/1700321\">this</a>."}],"answers":[{"comments":[{"owner":{"account_id":476363,"reputation":16869,"user_id":887235,"accept_rate":80,"display_name":"Vicky"},"score":0,"creation_date":1354187798,"post_id":13624498,"comment_id":18684714,"body_markdown":"How to use this given &quot;1/13/2012&quot;?","body":"How to use this given &quot;1/13/2012&quot;?"}],"tags":[],"owner":{"account_id":294406,"reputation":24602,"user_id":598289,"accept_rate":85,"display_name":"SJuan76"},"comment_count":1,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1354187609,"creation_date":1354187609,"answer_id":13624498,"question_id":13624442,"body_markdown":"Use `GregorianCalendar`. Set the date of the object, and then use `getActualMaximum(Calendar.DAY_IN_MONTH)`.\r\n\r\nhttp://docs.oracle.com/javase/7/docs/api/java/util/GregorianCalendar.html#getActualMaximum%28int%29 (but it was the same in Java 1.4)","title":"Getting last day of the month in a given string date","body":"<p>Use <code>GregorianCalendar</code>. Set the date of the object, and then use <code>getActualMaximum(Calendar.DAY_IN_MONTH)</code>.</p>\n\n<p><a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/GregorianCalendar.html#getActualMaximum%28int%29\" rel=\"nofollow\">http://docs.oracle.com/javase/7/docs/api/java/util/GregorianCalendar.html#getActualMaximum%28int%29</a> (but it was the same in Java 1.4)</p>\n"},{"comments":[{"owner":{"account_id":476363,"reputation":16869,"user_id":887235,"accept_rate":80,"display_name":"Vicky"},"score":0,"creation_date":1354187836,"post_id":13624504,"comment_id":18684729,"body_markdown":"How to use this given &quot;1/13/2012&quot;?","body":"How to use this given &quot;1/13/2012&quot;?"},{"owner":{"account_id":1879878,"reputation":24286,"user_id":1700321,"display_name":"Aleksandr M"},"score":0,"creation_date":1354187930,"post_id":13624504,"comment_id":18684783,"body_markdown":"Call `setTime` on Calendar.","body":"Call <code>setTime</code> on Calendar."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":4,"creation_date":1556883173,"post_id":13624504,"comment_id":98588604,"body_markdown":"The solution for Java 8 using `TemporalAdjusters.lastDayOfMonth()` suggested in https://stackoverflow.com/a/40689365/466862 is simpler.","body":"The solution for Java 8 using <code>TemporalAdjusters.lastDayOfMonth()</code> suggested in <a href=\"https://stackoverflow.com/a/40689365/466862\">stackoverflow.com/a/40689365/466862</a> is simpler."}],"tags":[],"owner":{"account_id":1879878,"reputation":24286,"user_id":1700321,"display_name":"Aleksandr M"},"comment_count":3,"down_vote_count":1,"up_vote_count":199,"is_accepted":true,"score":198,"last_activity_date":1509563887,"creation_date":1354187625,"answer_id":13624504,"question_id":13624442,"body_markdown":"### Java 8 and above.\r\n\r\nBy using `convertedDate.getMonth().length(convertedDate.isLeapYear())` where `convertedDate` is an instance of `LocalDate`.\r\n\r\n    String date = &quot;1/13/2012&quot;;\r\n\tLocalDate convertedDate = LocalDate.parse(date, DateTimeFormatter.ofPattern(&quot;M/d/yyyy&quot;));\r\n\tconvertedDate = convertedDate.withDayOfMonth(\r\n                                    convertedDate.getMonth().length(convertedDate.isLeapYear()));\r\n\r\n### Java 7 and below.\r\n\r\nBy using `getActualMaximum` method of `java.util.Calendar`:\r\n    \r\n    String date = &quot;1/13/2012&quot;;\r\n    SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;MM/dd/yyyy&quot;);\r\n    Date convertedDate = dateFormat.parse(date);\r\n    Calendar c = Calendar.getInstance();\r\n    c.setTime(convertedDate);\r\n    c.set(Calendar.DAY_OF_MONTH, c.getActualMaximum(Calendar.DAY_OF_MONTH));","title":"Getting last day of the month in a given string date","body":"<h3>Java 8 and above.</h3>\n\n<p>By using <code>convertedDate.getMonth().length(convertedDate.isLeapYear())</code> where <code>convertedDate</code> is an instance of <code>LocalDate</code>.</p>\n\n<pre><code>String date = \"1/13/2012\";\nLocalDate convertedDate = LocalDate.parse(date, DateTimeFormatter.ofPattern(\"M/d/yyyy\"));\nconvertedDate = convertedDate.withDayOfMonth(\n                                convertedDate.getMonth().length(convertedDate.isLeapYear()));\n</code></pre>\n\n<h3>Java 7 and below.</h3>\n\n<p>By using <code>getActualMaximum</code> method of <code>java.util.Calendar</code>:</p>\n\n<pre><code>String date = \"1/13/2012\";\nSimpleDateFormat dateFormat = new SimpleDateFormat(\"MM/dd/yyyy\");\nDate convertedDate = dateFormat.parse(date);\nCalendar c = Calendar.getInstance();\nc.setTime(convertedDate);\nc.set(Calendar.DAY_OF_MONTH, c.getActualMaximum(Calendar.DAY_OF_MONTH));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1543358947,"post_id":13624548,"comment_id":93888749,"body_markdown":"FYI, the terribly troublesome old date-time classes such as [`java.util.Date`](https://docs.oracle.com/javase/10/docs/api/java/util/Date.html), [`java.util.Calendar`](https://docs.oracle.com/javase/10/docs/api/java/util/Calendar.html), and `java.text.SimpleDateFormat` are now [legacy](https://en.wikipedia.org/wiki/Legacy_system), supplanted by the [*java.time*](https://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html) classes built into Java 8 and later. See [*Tutorial* by Oracle](https://docs.oracle.com/javase/tutorial/datetime/TOC.html).","body":"FYI, the terribly troublesome old date-time classes such as <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Date.html\" rel=\"nofollow noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Calendar.html\" rel=\"nofollow noreferrer\"><code>java.util.Calendar</code></a>, and <code>java.text.SimpleDateFormat</code> are now <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"nofollow noreferrer\">legacy</a>, supplanted by the <a href=\"https://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\"><i>java.time</i></a> classes built into Java 8 and later. See <a href=\"https://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow noreferrer\"><i>Tutorial</i> by Oracle</a>."},{"owner":{"account_id":236549,"reputation":2564,"user_id":504112,"accept_rate":55,"display_name":"gumuruh"},"score":0,"creation_date":1644417907,"post_id":13624548,"comment_id":125601776,"body_markdown":"what is that  calendar.add(Calendar.DATE, -1);   ?","body":"what is that  calendar.add(Calendar.DATE, -1);   ?"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1691063309,"post_id":13624548,"comment_id":135442516,"body_markdown":"@gumuruh It’s one of very many peculiarities with the outdated `Calendar` class that caused that class to be abandoned nearly 10 years ago now. As the other comment suggests, forget about that class and use java..time instead.","body":"@gumuruh It’s one of very many peculiarities with the outdated <code>Calendar</code> class that caused that class to be abandoned nearly 10 years ago now. As the other comment suggests, forget about that class and use java..time instead."}],"tags":[],"owner":{"account_id":1045366,"reputation":7004,"user_id":1050480,"accept_rate":88,"display_name":"SG 86"},"comment_count":3,"down_vote_count":1,"up_vote_count":33,"is_accepted":false,"score":32,"last_activity_date":1385534552,"creation_date":1354187778,"answer_id":13624548,"question_id":13624442,"body_markdown":"This looks like your needs:\r\n\r\nhttp://obscuredclarity.blogspot.de/2010/08/get-last-day-of-month-date-object-in.html\r\n\r\ncode:\r\n\r\n    import java.text.DateFormat;  \r\n    import java.text.DateFormat;  \r\n    import java.text.SimpleDateFormat;  \r\n    import java.util.Calendar;  \r\n    import java.util.Date;  \r\n      \r\n    //Java 1.4+ Compatible  \r\n    //  \r\n    // The following example code demonstrates how to get  \r\n    // a Date object representing the last day of the month  \r\n    // relative to a given Date object.  \r\n      \r\n    public class GetLastDayOfMonth {  \r\n      \r\n        public static void main(String[] args) {  \r\n      \r\n            Date today = new Date();  \r\n      \r\n            Calendar calendar = Calendar.getInstance();  \r\n            calendar.setTime(today);  \r\n      \r\n            calendar.add(Calendar.MONTH, 1);  \r\n            calendar.set(Calendar.DAY_OF_MONTH, 1);  \r\n            calendar.add(Calendar.DATE, -1);  \r\n      \r\n            Date lastDayOfMonth = calendar.getTime();  \r\n      \r\n            DateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);  \r\n            System.out.println(&quot;Today            : &quot; + sdf.format(today));  \r\n            System.out.println(&quot;Last Day of Month: &quot; + sdf.format(lastDayOfMonth));  \r\n        }  \r\n      \r\n    } \r\n    \r\nOutput:\r\n\r\n    Today            : 2010-08-03  \r\n    Last Day of Month: 2010-08-31  ","title":"Getting last day of the month in a given string date","body":"<p>This looks like your needs:</p>\n\n<p><a href=\"http://obscuredclarity.blogspot.de/2010/08/get-last-day-of-month-date-object-in.html\" rel=\"noreferrer\">http://obscuredclarity.blogspot.de/2010/08/get-last-day-of-month-date-object-in.html</a></p>\n\n<p>code:</p>\n\n<pre><code>import java.text.DateFormat;  \nimport java.text.DateFormat;  \nimport java.text.SimpleDateFormat;  \nimport java.util.Calendar;  \nimport java.util.Date;  \n\n//Java 1.4+ Compatible  \n//  \n// The following example code demonstrates how to get  \n// a Date object representing the last day of the month  \n// relative to a given Date object.  \n\npublic class GetLastDayOfMonth {  \n\n    public static void main(String[] args) {  \n\n        Date today = new Date();  \n\n        Calendar calendar = Calendar.getInstance();  \n        calendar.setTime(today);  \n\n        calendar.add(Calendar.MONTH, 1);  \n        calendar.set(Calendar.DAY_OF_MONTH, 1);  \n        calendar.add(Calendar.DATE, -1);  \n\n        Date lastDayOfMonth = calendar.getTime();  \n\n        DateFormat sdf = new SimpleDateFormat(\"yyyy-MM-dd\");  \n        System.out.println(\"Today            : \" + sdf.format(today));  \n        System.out.println(\"Last Day of Month: \" + sdf.format(lastDayOfMonth));  \n    }  \n\n} \n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Today            : 2010-08-03  \nLast Day of Month: 2010-08-31  \n</code></pre>\n"},{"tags":[],"owner":{"account_id":3154029,"reputation":47,"user_id":2666805,"display_name":"Lebonsun"},"comment_count":0,"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1376026549,"creation_date":1376026549,"answer_id":18140591,"question_id":13624442,"body_markdown":"The simplest way is to construt a new `GregorianCalendar` instance, see below:\r\n\r\n    Calendar cal = new GregorianCalendar(2013, 5, 0);\r\n    Date date = cal.getTime();\r\n    DateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n    System.out.println(&quot;Date : &quot; + sdf.format(date));\r\n\r\nOutput:\r\n\r\n    Date : 2013-05-31\r\n\r\nAttention:\r\n \r\n\r\n&gt; month the value used to set the MONTH calendar field in the calendar. Month value is 0-based e.g. 0 for January.\r\n","title":"Getting last day of the month in a given string date","body":"<p>The simplest way is to construt a new <code>GregorianCalendar</code> instance, see below:</p>\n\n<pre><code>Calendar cal = new GregorianCalendar(2013, 5, 0);\nDate date = cal.getTime();\nDateFormat sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\nSystem.out.println(\"Date : \" + sdf.format(date));\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Date : 2013-05-31\n</code></pre>\n\n<p>Attention:</p>\n\n<blockquote>\n  <p>month the value used to set the MONTH calendar field in the calendar. Month value is 0-based e.g. 0 for January.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1011187,"reputation":1,"user_id":1023731,"display_name":"Andres Arenas V."},"comment_count":0,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1443281091,"creation_date":1425052427,"answer_id":28769111,"question_id":13624442,"body_markdown":"I use this one-liner on my JasperServer Reports:\r\n\r\n    new SimpleDateFormat(&quot;yyyy-MM-dd&quot;).format(new SimpleDateFormat(&quot;yyyy-MM-dd&quot;).parse(new java.util.Date().format(&#39;yyyy&#39;) + &quot;-&quot; + (new Integer (new SimpleDateFormat(&quot;MM&quot;).format(new Date()))+1) + &quot;-01&quot;)-1)\r\n\r\nDoesn&#39;t look nice but works for me. Basically it&#39;s adding 1 to the current month, get the first day of that month and subtract one day.","title":"Getting last day of the month in a given string date","body":"<p>I use this one-liner on my JasperServer Reports:</p>\n\n<pre><code>new SimpleDateFormat(\"yyyy-MM-dd\").format(new SimpleDateFormat(\"yyyy-MM-dd\").parse(new java.util.Date().format('yyyy') + \"-\" + (new Integer (new SimpleDateFormat(\"MM\").format(new Date()))+1) + \"-01\")-1)\n</code></pre>\n\n<p>Doesn't look nice but works for me. Basically it's adding 1 to the current month, get the first day of that month and subtract one day.</p>\n"},{"comments":[{"owner":{"account_id":551319,"reputation":881,"user_id":916132,"accept_rate":65,"display_name":"Hariharan"},"score":2,"creation_date":1446320159,"post_id":31720245,"comment_id":54698056,"body_markdown":"Indeed very informative, alternatively finding the maximum day of the month can also be done using the following code.     `LocalDate.now().getMonth().maxLength()`","body":"Indeed very informative, alternatively finding the maximum day of the month can also be done using the following code.     <code>LocalDate.now().getMonth().maxLength()</code>"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1483692792,"post_id":31720245,"comment_id":70209251,"body_markdown":"Another variation is the [`YearMonth`](https://docs.oracle.com/javase/8/docs/api/java/time/YearMonth.html) class. `LocalDate endOfMonth = YearMonth.from( myLocalDate ).atEndOfMonth() ;`","body":"Another variation is the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/YearMonth.html\" rel=\"nofollow noreferrer\"><code>YearMonth</code></a> class. <code>LocalDate endOfMonth = YearMonth.from( myLocalDate ).atEndOfMonth() ;</code>"},{"owner":{"account_id":1879878,"reputation":24286,"user_id":1700321,"display_name":"Aleksandr M"},"score":0,"creation_date":1509564105,"post_id":31720245,"comment_id":81072253,"body_markdown":"This `date.withDayOfMonth(date.getMonth().maxLength())` will fail for February. See [accepted and updated answer](https://stackoverflow.com/a/13624504/1700321) for  solution.","body":"This <code>date.withDayOfMonth(date.getMonth().maxLength())</code> will fail for February. See <a href=\"https://stackoverflow.com/a/13624504/1700321\">accepted and updated answer</a> for  solution."},{"owner":{"account_id":2315704,"reputation":11993,"user_id":2032823,"accept_rate":84,"display_name":"Zeeshan"},"score":0,"creation_date":1543566355,"post_id":31720245,"comment_id":93972995,"body_markdown":"@AleksandrM Thanks for pointing this out. I have updated my answer taking hint from your&#39;s.","body":"@AleksandrM Thanks for pointing this out. I have updated my answer taking hint from your&#39;s."}],"tags":[],"owner":{"account_id":2315704,"reputation":11993,"user_id":2032823,"accept_rate":84,"display_name":"Zeeshan"},"comment_count":4,"down_vote_count":2,"up_vote_count":9,"is_accepted":false,"score":7,"last_activity_date":1543566253,"creation_date":1438249186,"answer_id":31720245,"question_id":13624442,"body_markdown":"&gt; With Java 8 `DateTime` / `LocalDateTime` :\r\n\r\n    String dateString = &quot;01/13/2012&quot;;\r\n    DateTimeFormatter dateFormat = DateTimeFormatter.ofPattern(&quot;MM/dd/yyyy&quot;, Locale.US); \r\n    LocalDate date = LocalDate.parse(dateString, dateFormat);\t\t\r\n    ValueRange range = date.range(ChronoField.DAY_OF_MONTH);\r\n    Long max = range.getMaximum();\r\n    LocalDate newDate = date.withDayOfMonth(max.intValue());\r\n    System.out.println(newDate); \r\n\r\n&gt;OR\r\n\r\n    String dateString = &quot;01/13/2012&quot;;\r\n    DateTimeFormatter dateFormat = DateTimeFormatter.ofPattern(&quot;MM/dd/yyyy&quot;, Locale.US); \r\n    LocalDate date = LocalDate.parse(dateString, dateFormat);\r\n    LocalDate newDate = date.withDayOfMonth(date.getMonth().length(date.isLeapYear()));\r\n    System.out.println(newDate);\r\n\r\nOutput:\r\n\r\n    2012-01-31\r\n\r\n&gt;`LocalDateTime` should be used instead of `LocalDate` if you have time information in your date string . I.E. `2015/07/22 16:49`","title":"Getting last day of the month in a given string date","body":"<blockquote>\n  <p>With Java 8 <code>DateTime</code> / <code>LocalDateTime</code> :</p>\n</blockquote>\n\n<pre><code>String dateString = \"01/13/2012\";\nDateTimeFormatter dateFormat = DateTimeFormatter.ofPattern(\"MM/dd/yyyy\", Locale.US); \nLocalDate date = LocalDate.parse(dateString, dateFormat);       \nValueRange range = date.range(ChronoField.DAY_OF_MONTH);\nLong max = range.getMaximum();\nLocalDate newDate = date.withDayOfMonth(max.intValue());\nSystem.out.println(newDate); \n</code></pre>\n\n<blockquote>\n  <p>OR</p>\n</blockquote>\n\n<pre><code>String dateString = \"01/13/2012\";\nDateTimeFormatter dateFormat = DateTimeFormatter.ofPattern(\"MM/dd/yyyy\", Locale.US); \nLocalDate date = LocalDate.parse(dateString, dateFormat);\nLocalDate newDate = date.withDayOfMonth(date.getMonth().length(date.isLeapYear()));\nSystem.out.println(newDate);\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>2012-01-31\n</code></pre>\n\n<blockquote>\n  <p><code>LocalDateTime</code> should be used instead of <code>LocalDate</code> if you have time information in your date string . I.E. <code>2015/07/22 16:49</code></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2744245,"reputation":219,"user_id":2364991,"accept_rate":20,"display_name":"Tanmay kumar shaw"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1467207011,"creation_date":1467207011,"answer_id":38101095,"question_id":13624442,"body_markdown":"You can use the following code to get last day of the month\r\n\r\n    public static String getLastDayOfTheMonth(String date) {\r\n    \t\tString lastDayOfTheMonth = &quot;&quot;;\r\n    \t\t\r\n    \t\tSimpleDateFormat formatter = new SimpleDateFormat(&quot;dd-MM-yyyy&quot;);\r\n    \t\ttry{\r\n    \t\tjava.util.Date dt= formatter.parse(date);\r\n            Calendar calendar = Calendar.getInstance();  \r\n            calendar.setTime(dt);  \r\n    \r\n            calendar.add(Calendar.MONTH, 1);  \r\n            calendar.set(Calendar.DAY_OF_MONTH, 1);  \r\n            calendar.add(Calendar.DATE, -1);  \r\n    \r\n            java.util.Date lastDay = calendar.getTime();  \r\n    \r\n            lastDayOfTheMonth = formatter.format(lastDay);\r\n    \t\t} catch (ParseException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t\treturn lastDayOfTheMonth;\r\n    \t}","title":"Getting last day of the month in a given string date","body":"<p>You can use the following code to get last day of the month</p>\n\n<pre><code>public static String getLastDayOfTheMonth(String date) {\n        String lastDayOfTheMonth = \"\";\n\n        SimpleDateFormat formatter = new SimpleDateFormat(\"dd-MM-yyyy\");\n        try{\n        java.util.Date dt= formatter.parse(date);\n        Calendar calendar = Calendar.getInstance();  \n        calendar.setTime(dt);  \n\n        calendar.add(Calendar.MONTH, 1);  \n        calendar.set(Calendar.DAY_OF_MONTH, 1);  \n        calendar.add(Calendar.DATE, -1);  \n\n        java.util.Date lastDay = calendar.getTime();  \n\n        lastDayOfTheMonth = formatter.format(lastDay);\n        } catch (ParseException e) {\n            e.printStackTrace();\n        }\n        return lastDayOfTheMonth;\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":9453542,"reputation":461,"user_id":7029521,"display_name":"Gaurav Krishna"},"score":1,"creation_date":1479555718,"post_id":40689365,"comment_id":68614389,"body_markdown":"Actually I used TemporalAdjusters.lastDayOfMonth()","body":"Actually I used TemporalAdjusters.lastDayOfMonth()"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1479571482,"post_id":40689365,"comment_id":68619247,"body_markdown":"I see now. How about adding some discussion or explanation too to make a better Answer? For example, mention the `TemporalAdjuster` interface and the `TemporalAdjusters` class for implementations. Stack Overflow is intended to be more than a snippet-library. And, thanks for contributing.","body":"I see now. How about adding some discussion or explanation too to make a better Answer? For example, mention the <code>TemporalAdjuster</code> interface and the <code>TemporalAdjusters</code> class for implementations. Stack Overflow is intended to be more than a snippet-library. And, thanks for contributing."}],"tags":[],"owner":{"account_id":9453542,"reputation":461,"user_id":7029521,"display_name":"Gaurav Krishna"},"comment_count":2,"down_vote_count":2,"up_vote_count":30,"is_accepted":false,"score":28,"last_activity_date":1587543672,"creation_date":1479531389,"answer_id":40689365,"question_id":13624442,"body_markdown":"By using java 8 java.time.LocalDate\r\n\r\n    String date = &quot;1/13/2012&quot;;\r\n    LocalDate lastDayOfMonth = LocalDate.parse(date, DateTimeFormatter.ofPattern(&quot;M/dd/yyyy&quot;))\r\n           .with(TemporalAdjusters.lastDayOfMonth());","title":"Getting last day of the month in a given string date","body":"<p>By using java 8 java.time.LocalDate</p>\n\n<pre><code>String date = \"1/13/2012\";\nLocalDate lastDayOfMonth = LocalDate.parse(date, DateTimeFormatter.ofPattern(\"M/dd/yyyy\"))\n       .with(TemporalAdjusters.lastDayOfMonth());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1506692488,"post_id":46488600,"comment_id":79934612,"body_markdown":"FYI, the troublesome `Calendar` class is now legacy, supplanted by the java.time classes. See the [correct Answer by Sheehan](https://stackoverflow.com/a/31720245/642706) and its Comments.","body":"FYI, the troublesome <code>Calendar</code> class is now legacy, supplanted by the java.time classes. See the <a href=\"https://stackoverflow.com/a/31720245/642706\">correct Answer by Sheehan</a> and its Comments."}],"tags":[],"owner":{"account_id":2145824,"reputation":1089,"user_id":1903453,"display_name":"Nikhil Kumar K"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1506687195,"creation_date":1506687195,"answer_id":46488600,"question_id":13624442,"body_markdown":"Works fine for me with this \r\n\t\t\r\n\t\tCalendar cal = Calendar.getInstance(TimeZone.getTimeZone());\r\n\t\tcal.set(Calendar.MONTH, month-1);  \r\n\t\tcal.set(Calendar.YEAR, year);  \r\n\t\tcal.add(Calendar.DATE, -1);  \r\n\t\tcal.set(Calendar.DAY_OF_MONTH, \r\n        cal.getActualMaximum(Calendar.DAY_OF_MONTH));\r\n\t\tcal.set(Calendar.HOUR_OF_DAY, 0);\r\n\t\tcal.set(Calendar.MINUTE, 0);\r\n\t\tcal.set(Calendar.SECOND, 0);\r\n\t\tcal.set(Calendar.MILLISECOND, 0);\r\n\t\treturn cal.getTimeInMillis();\r\n\t","title":"Getting last day of the month in a given string date","body":"<p>Works fine for me with this </p>\n\n<pre><code>    Calendar cal = Calendar.getInstance(TimeZone.getTimeZone());\n    cal.set(Calendar.MONTH, month-1);  \n    cal.set(Calendar.YEAR, year);  \n    cal.add(Calendar.DATE, -1);  \n    cal.set(Calendar.DAY_OF_MONTH, \n    cal.getActualMaximum(Calendar.DAY_OF_MONTH));\n    cal.set(Calendar.HOUR_OF_DAY, 0);\n    cal.set(Calendar.MINUTE, 0);\n    cal.set(Calendar.SECOND, 0);\n    cal.set(Calendar.MILLISECOND, 0);\n    return cal.getTimeInMillis();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1509552530,"post_id":47028753,"comment_id":81065465,"body_markdown":"This code uses troublesome old date-time classes that have been legacy for years, supplanted by the java.time classes. This Answer is ill-advised.","body":"This code uses troublesome old date-time classes that have been legacy for years, supplanted by the java.time classes. This Answer is ill-advised."}],"tags":[],"owner":{"account_id":9256425,"reputation":1,"user_id":8860456,"display_name":"杨尚川"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1509431354,"creation_date":1509429422,"answer_id":47028753,"question_id":13624442,"body_markdown":"    public static String getLastDayOfMonth(int year, int month) throws Exception{\r\n        DateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n\r\n        Date date = sdf.parse(year+&quot;-&quot;+(month&lt;10?(&quot;0&quot;+month):month)+&quot;-01&quot;);\r\n\r\n        Calendar calendar = Calendar.getInstance();\r\n        calendar.setTime(date);\r\n\r\n        calendar.add(Calendar.MONTH, 1);\r\n        calendar.set(Calendar.DAY_OF_MONTH, 1);\r\n        calendar.add(Calendar.DATE, -1);\r\n\r\n        Date lastDayOfMonth = calendar.getTime();\r\n\r\n        return sdf.format(lastDayOfMonth);\r\n    }\r\n    public static void main(String[] args) throws Exception{\r\n        System.out.println(&quot;Last Day of Month: &quot; + getLastDayOfMonth(2017, 1));\r\n        System.out.println(&quot;Last Day of Month: &quot; + getLastDayOfMonth(2017, 2));\r\n        System.out.println(&quot;Last Day of Month: &quot; + getLastDayOfMonth(2017, 3));\r\n        System.out.println(&quot;Last Day of Month: &quot; + getLastDayOfMonth(2017, 4));\r\n        System.out.println(&quot;Last Day of Month: &quot; + getLastDayOfMonth(2017, 5));\r\n        System.out.println(&quot;Last Day of Month: &quot; + getLastDayOfMonth(2017, 6));\r\n        System.out.println(&quot;Last Day of Month: &quot; + getLastDayOfMonth(2017, 7));\r\n        System.out.println(&quot;Last Day of Month: &quot; + getLastDayOfMonth(2017, 8));\r\n        System.out.println(&quot;Last Day of Month: &quot; + getLastDayOfMonth(2017, 9));\r\n        System.out.println(&quot;Last Day of Month: &quot; + getLastDayOfMonth(2017, 10));\r\n        System.out.println(&quot;Last Day of Month: &quot; + getLastDayOfMonth(2017, 11));\r\n        System.out.println(&quot;Last Day of Month: &quot; + getLastDayOfMonth(2017, 12));\r\n        System.out.println(&quot;Last Day of Month: &quot; + getLastDayOfMonth(2018, 1));\r\n        System.out.println(&quot;Last Day of Month: &quot; + getLastDayOfMonth(2018, 2));\r\n        System.out.println(&quot;Last Day of Month: &quot; + getLastDayOfMonth(2018, 3));\r\n\r\n        System.out.println(&quot;Last Day of Month: &quot; + getLastDayOfMonth(2010, 2));\r\n        System.out.println(&quot;Last Day of Month: &quot; + getLastDayOfMonth(2011, 2));\r\n        System.out.println(&quot;Last Day of Month: &quot; + getLastDayOfMonth(2012, 2));\r\n        System.out.println(&quot;Last Day of Month: &quot; + getLastDayOfMonth(2013, 2));\r\n        System.out.println(&quot;Last Day of Month: &quot; + getLastDayOfMonth(2014, 2));\r\n        System.out.println(&quot;Last Day of Month: &quot; + getLastDayOfMonth(2015, 2));\r\n        System.out.println(&quot;Last Day of Month: &quot; + getLastDayOfMonth(2016, 2));\r\n        System.out.println(&quot;Last Day of Month: &quot; + getLastDayOfMonth(2017, 2));\r\n        System.out.println(&quot;Last Day of Month: &quot; + getLastDayOfMonth(2018, 2));\r\n        System.out.println(&quot;Last Day of Month: &quot; + getLastDayOfMonth(2019, 2));\r\n        System.out.println(&quot;Last Day of Month: &quot; + getLastDayOfMonth(2020, 2));\r\n        System.out.println(&quot;Last Day of Month: &quot; + getLastDayOfMonth(2021, 2));\r\n    }\r\n\r\n**output:**\r\n\r\n&gt; Last Day of Month: 2017-01-31&lt;br/&gt; Last Day of Month: 2017-02-28&lt;br/&gt;\r\n&gt; Last Day of Month: 2017-03-31&lt;br/&gt; Last Day of Month: 2017-04-30&lt;br/&gt;\r\n&gt; Last Day of Month: 2017-05-31&lt;br/&gt; Last Day of Month: 2017-06-30&lt;br/&gt;\r\n&gt; Last Day of Month: 2017-07-31&lt;br/&gt; Last Day of Month: 2017-08-31&lt;br/&gt;\r\n&gt; Last Day of Month: 2017-09-30&lt;br/&gt; Last Day of Month: 2017-10-31&lt;br/&gt;\r\n&gt; Last Day of Month: 2017-11-30&lt;br/&gt; Last Day of Month: 2017-12-31&lt;br/&gt;\r\n&gt; Last Day of Month: 2018-01-31&lt;br/&gt; Last Day of Month: 2018-02-28&lt;br/&gt;\r\n&gt; Last Day of Month: 2018-03-31&lt;br/&gt; Last Day of Month: 2010-02-28&lt;br/&gt;\r\n&gt; Last Day of Month: 2011-02-28&lt;br/&gt; Last Day of Month: 2012-02-29&lt;br/&gt;\r\n&gt; Last Day of Month: 2013-02-28&lt;br/&gt; Last Day of Month: 2014-02-28&lt;br/&gt;\r\n&gt; Last Day of Month: 2015-02-28&lt;br/&gt; Last Day of Month: 2016-02-29&lt;br/&gt;\r\n&gt; Last Day of Month: 2017-02-28&lt;br/&gt; Last Day of Month: 2018-02-28&lt;br/&gt;\r\n&gt; Last Day of Month: 2019-02-28&lt;br/&gt; Last Day of Month: 2020-02-29&lt;br/&gt;\r\n&gt; Last Day of Month: 2021-02-28&lt;br/&gt;","title":"Getting last day of the month in a given string date","body":"<pre><code>public static String getLastDayOfMonth(int year, int month) throws Exception{\n    DateFormat sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\n\n    Date date = sdf.parse(year+\"-\"+(month&lt;10?(\"0\"+month):month)+\"-01\");\n\n    Calendar calendar = Calendar.getInstance();\n    calendar.setTime(date);\n\n    calendar.add(Calendar.MONTH, 1);\n    calendar.set(Calendar.DAY_OF_MONTH, 1);\n    calendar.add(Calendar.DATE, -1);\n\n    Date lastDayOfMonth = calendar.getTime();\n\n    return sdf.format(lastDayOfMonth);\n}\npublic static void main(String[] args) throws Exception{\n    System.out.println(\"Last Day of Month: \" + getLastDayOfMonth(2017, 1));\n    System.out.println(\"Last Day of Month: \" + getLastDayOfMonth(2017, 2));\n    System.out.println(\"Last Day of Month: \" + getLastDayOfMonth(2017, 3));\n    System.out.println(\"Last Day of Month: \" + getLastDayOfMonth(2017, 4));\n    System.out.println(\"Last Day of Month: \" + getLastDayOfMonth(2017, 5));\n    System.out.println(\"Last Day of Month: \" + getLastDayOfMonth(2017, 6));\n    System.out.println(\"Last Day of Month: \" + getLastDayOfMonth(2017, 7));\n    System.out.println(\"Last Day of Month: \" + getLastDayOfMonth(2017, 8));\n    System.out.println(\"Last Day of Month: \" + getLastDayOfMonth(2017, 9));\n    System.out.println(\"Last Day of Month: \" + getLastDayOfMonth(2017, 10));\n    System.out.println(\"Last Day of Month: \" + getLastDayOfMonth(2017, 11));\n    System.out.println(\"Last Day of Month: \" + getLastDayOfMonth(2017, 12));\n    System.out.println(\"Last Day of Month: \" + getLastDayOfMonth(2018, 1));\n    System.out.println(\"Last Day of Month: \" + getLastDayOfMonth(2018, 2));\n    System.out.println(\"Last Day of Month: \" + getLastDayOfMonth(2018, 3));\n\n    System.out.println(\"Last Day of Month: \" + getLastDayOfMonth(2010, 2));\n    System.out.println(\"Last Day of Month: \" + getLastDayOfMonth(2011, 2));\n    System.out.println(\"Last Day of Month: \" + getLastDayOfMonth(2012, 2));\n    System.out.println(\"Last Day of Month: \" + getLastDayOfMonth(2013, 2));\n    System.out.println(\"Last Day of Month: \" + getLastDayOfMonth(2014, 2));\n    System.out.println(\"Last Day of Month: \" + getLastDayOfMonth(2015, 2));\n    System.out.println(\"Last Day of Month: \" + getLastDayOfMonth(2016, 2));\n    System.out.println(\"Last Day of Month: \" + getLastDayOfMonth(2017, 2));\n    System.out.println(\"Last Day of Month: \" + getLastDayOfMonth(2018, 2));\n    System.out.println(\"Last Day of Month: \" + getLastDayOfMonth(2019, 2));\n    System.out.println(\"Last Day of Month: \" + getLastDayOfMonth(2020, 2));\n    System.out.println(\"Last Day of Month: \" + getLastDayOfMonth(2021, 2));\n}\n</code></pre>\n\n<p><strong>output:</strong></p>\n\n<blockquote>\n  <p>Last Day of Month: 2017-01-31<br/> Last Day of Month: 2017-02-28<br/>\n  Last Day of Month: 2017-03-31<br/> Last Day of Month: 2017-04-30<br/>\n  Last Day of Month: 2017-05-31<br/> Last Day of Month: 2017-06-30<br/>\n  Last Day of Month: 2017-07-31<br/> Last Day of Month: 2017-08-31<br/>\n  Last Day of Month: 2017-09-30<br/> Last Day of Month: 2017-10-31<br/>\n  Last Day of Month: 2017-11-30<br/> Last Day of Month: 2017-12-31<br/>\n  Last Day of Month: 2018-01-31<br/> Last Day of Month: 2018-02-28<br/>\n  Last Day of Month: 2018-03-31<br/> Last Day of Month: 2010-02-28<br/>\n  Last Day of Month: 2011-02-28<br/> Last Day of Month: 2012-02-29<br/>\n  Last Day of Month: 2013-02-28<br/> Last Day of Month: 2014-02-28<br/>\n  Last Day of Month: 2015-02-28<br/> Last Day of Month: 2016-02-29<br/>\n  Last Day of Month: 2017-02-28<br/> Last Day of Month: 2018-02-28<br/>\n  Last Day of Month: 2019-02-28<br/> Last Day of Month: 2020-02-29<br/>\n  Last Day of Month: 2021-02-28<br/></p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1543358533,"post_id":53470214,"comment_id":93888588,"body_markdown":"The [existing similar Answer](https://stackoverflow.com/a/40689365/642706) is simpler than this.","body":"The <a href=\"https://stackoverflow.com/a/40689365/642706\">existing similar Answer</a> is simpler than this."}],"tags":[],"owner":{"account_id":1202806,"reputation":23223,"user_id":1173112,"accept_rate":89,"display_name":"Koray Tugay"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1543168083,"creation_date":1543168083,"answer_id":53470214,"question_id":13624442,"body_markdown":"You can make use of the [plusMonths][1] and [minusDays][2] methods in Java 8:\r\n\r\n    // Parse your date into a LocalDate\r\n    LocalDate parsed = LocalDate.parse(&quot;1/13/2012&quot;, DateTimeFormatter.ofPattern(&quot;M/d/yyyy&quot;));\r\n\r\n    // We only care about its year and month, set the date to first date of that month\r\n    LocalDate localDate = LocalDate.of(parsed.getYear(), parsed.getMonth(), 1);\r\n\r\n    // Add one month, subtract one day \r\n    System.out.println(localDate.plusMonths(1).minusDays(1)); // 2012-01-31\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#plusMonths-long-\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#minusDays-long-","title":"Getting last day of the month in a given string date","body":"<p>You can make use of the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#plusMonths-long-\" rel=\"nofollow noreferrer\">plusMonths</a> and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#minusDays-long-\" rel=\"nofollow noreferrer\">minusDays</a> methods in Java 8:</p>\n\n<pre><code>// Parse your date into a LocalDate\nLocalDate parsed = LocalDate.parse(\"1/13/2012\", DateTimeFormatter.ofPattern(\"M/d/yyyy\"));\n\n// We only care about its year and month, set the date to first date of that month\nLocalDate localDate = LocalDate.of(parsed.getYear(), parsed.getMonth(), 1);\n\n// Add one month, subtract one day \nSystem.out.println(localDate.plusMonths(1).minusDays(1)); // 2012-01-31\n</code></pre>\n"},{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1546888419,"post_id":54074534,"comment_id":94994216,"body_markdown":"The Question requires parsing a string. You did  not address that here.","body":"The Question requires parsing a string. You did  not address that here."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1546888481,"post_id":54074534,"comment_id":94994248,"body_markdown":"This code could be simplified by using [`YearMonth::lengthOfMonth`](https://docs.oracle.com/javase/8/docs/api/java/time/YearMonth.html#lengthOfMonth--)","body":"This code could be simplified by using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/YearMonth.html#lengthOfMonth--\" rel=\"nofollow noreferrer\"><code>YearMonth::lengthOfMonth</code></a>"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1546979492,"post_id":54074534,"comment_id":95031354,"body_markdown":"By convention, Java variables are named with first letter being lowercase.","body":"By convention, Java variables are named with first letter being lowercase."}],"tags":[],"owner":{"account_id":13704745,"reputation":101,"user_id":9888741,"display_name":"onix"},"comment_count":3,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1595233712,"creation_date":1546864401,"answer_id":54074534,"question_id":13624442,"body_markdown":"**Java 8 and above:**\r\n\r\n    import java.time.LocalDate;\r\n    import java.time.Year;\r\n\r\n    static int lastDayOfMonth(int Y, int M) {\r\n        return LocalDate.of(Y, M, 1).getMonth().length(Year.of(Y).isLeap());\r\n    }\r\n\r\n**subject to Basil Bourque&#39;s comment**\r\n\r\n    import java.time.YearMonth;\r\n\r\n    int lastDayOfMonth = YearMonth.of(Y, M).lengthOfMonth();","title":"Getting last day of the month in a given string date","body":"<p><strong>Java 8 and above:</strong></p>\n<pre><code>import java.time.LocalDate;\nimport java.time.Year;\n\nstatic int lastDayOfMonth(int Y, int M) {\n    return LocalDate.of(Y, M, 1).getMonth().length(Year.of(Y).isLeap());\n}\n</code></pre>\n<p><strong>subject to Basil Bourque's comment</strong></p>\n<pre><code>import java.time.YearMonth;\n\nint lastDayOfMonth = YearMonth.of(Y, M).lengthOfMonth();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5531638,"reputation":14395,"user_id":4391450,"display_name":"AxelH"},"score":0,"creation_date":1556881508,"post_id":54080554,"comment_id":98587709,"body_markdown":"Just a detail here, compared to `LocalDate.with`, it requires to instantiate a `YearMonth` from the `LocalDate` then rebuild the `LocalDate` at the end of the month, so it create one more instance.","body":"Just a detail here, compared to <code>LocalDate.with</code>, it requires to instantiate a <code>YearMonth</code> from the <code>LocalDate</code> then rebuild the <code>LocalDate</code> at the end of the month, so it create one more instance."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1556900231,"post_id":54080554,"comment_id":98598103,"body_markdown":"@AxelH I don’t understand your comment. All of the *java.time* classes use [immutable objects](https://en.wikipedia.org/wiki/Immutable_object), as part of their design to be thread-safe and to act as value objects. `LocalDate::with` always provides a new instance, just like `LocalDate::plus`, `LocalDate::minus`, and so on. Also, with modern JVMs, there is no need to be shy about creating objects.","body":"@AxelH I don’t understand your comment. All of the <i>java.time</i> classes use <a href=\"https://en.wikipedia.org/wiki/Immutable_object\" rel=\"nofollow noreferrer\">immutable objects</a>, as part of their design to be thread-safe and to act as value objects. <code>LocalDate::with</code> always provides a new instance, just like <code>LocalDate::plus</code>, <code>LocalDate::minus</code>, and so on. Also, with modern JVMs, there is no need to be shy about creating objects."},{"owner":{"account_id":5531638,"reputation":14395,"user_id":4391450,"display_name":"AxelH"},"score":0,"creation_date":1557046893,"post_id":54080554,"comment_id":98628768,"body_markdown":"Just count the number of instance created to get the last day. Using `LocalDate.with` only requires one new instance, using your solution requires on more, the  `YearMonth` used. It is just a detail.","body":"Just count the number of instance created to get the last day. Using <code>LocalDate.with</code> only requires one new instance, using your solution requires on more, the  <code>YearMonth</code> used. It is just a detail."}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":3,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1649880896,"creation_date":1546889051,"answer_id":54080554,"question_id":13624442,"body_markdown":"# tl;dr\r\n\r\n    YearMonth                            // Represent the year and month, without a date and without a time zone.\r\n    .from(                               // Extract the year and month from a `LocalDate` (a year-month-day). \r\n        LocalDate                        // Represent a date without a time-of-day and without a time zone.\r\n        .parse(                          // Get a date from an input string.        \r\n            &quot;1/13/2012&quot; ,                // Poor choice of format for a date. Educate the source of your data about the standard ISO 8601 formats to be used when exchanging date-time values as text.\r\n            DateTimeFormatter            // Specify a formatting pattern by which to parse the input string.\r\n            .ofPattern( &quot;M/d/uuuu&quot; )     // Match the pattern of your input.\r\n        )                                // Returns a `LocalDate` object.\r\n    )                                    // Returns a `YearMonth` object.\r\n    .atEndOfMonth()                      // Determines the last day of the month for that particular year-month, and returns a `LocalDate` object.\r\n    .toString()                          // Generate text representing the value of that `LocalDate` object using standard ISO 8601 format.\r\n\r\nSee this [code run live at IdeOne.com][1].\r\n\r\n&gt;2012-01-31\r\n\r\n# `YearMonth`\r\n\r\nThe [`YearMonth`]() class makes this easy. The `atEndOfMonth` method returns a `LocalDate`. Leap year in February is accounted for. \r\n\r\nFirst define a formatting pattern to match your string input.\r\n\r\n   DateTimeFormatter f = DateTimeFormatter.ofPattern( &quot;M/d/uuuu&quot; ) ;\r\n\r\n\r\nUse that formatter to get a `LocalDate` from the string input.\r\n\r\n    String s = &quot;1/13/2012&quot; ;\r\n    LocalDate ld = LocalDate.parse( &quot;1/13/2012&quot; , f ) ;\r\n\r\nThen extract a `YearMonth` object.\r\n\r\n    YearMonth ym = YearMonth.from( ld ) ;\r\n\r\nAsk that `YearMonth` to determine the last day of its month in that year, accounting for [Leap Year][2] in February.\r\n\r\n    LocalDate endOfMonth = ym.atEndOfMonth() ;\r\n\r\nGenerate text representing that date, in standard ISO 8601 format.\r\n\r\n    String output = endOfMonth.toString() ;  \r\n\r\n\r\n----------\r\n\r\n# About *java.time*\r\n\r\nThe [*java.time*](http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html) framework is built into Java 8 and later. These classes supplant the troublesome old [legacy](https://en.wikipedia.org/wiki/Legacy_system) date-time classes such as [`java.util.Date`](https://docs.oracle.com/javase/10/docs/api/java/util/Date.html), [`Calendar`](https://docs.oracle.com/javase/10/docs/api/java/util/Calendar.html), &amp; [`SimpleDateFormat`](http://docs.oracle.com/javase/10/docs/api/java/text/SimpleDateFormat.html).\r\n\r\nThe [*Joda-Time*](http://www.joda.org/joda-time/) project, now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), advises migration to the [java.time](http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html) classes.\r\n\r\nTo learn more, see the [*Oracle Tutorial*](http://docs.oracle.com/javase/tutorial/datetime/TOC.html). And search Stack Overflow for many examples and explanations. Specification is [JSR 310](https://jcp.org/en/jsr/detail?id=310).\r\n\r\nYou may exchange *java.time* objects directly with your database. Use a [JDBC driver](https://en.wikipedia.org/wiki/JDBC_driver) compliant with [JDBC 4.2](http://openjdk.java.net/jeps/170) or later. No need for strings, no need for `java.sql.*` classes.\r\n\r\nWhere to obtain the java.time classes? \r\n\r\n - [**Java SE 8**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8), [**Java SE 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9), [**Java SE 10**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10), [**Java SE 11**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_11), and later  - Part of the standard Java API with a bundled implementation.\r\n  - Java 9 adds some minor features and fixes.\r\n - [**Java SE 6**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6) and [**Java SE 7**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7)\r\n  - Most of the *java.time* functionality is back-ported to Java 6 &amp; 7 in [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/).\r\n - [**Android**](https://en.wikipedia.org/wiki/Android_(operating_system))\r\n  - Later versions of Android bundle implementations of the *java.time* classes.\r\n  - For earlier Android (&lt;26), the [***ThreeTenABP***](https://github.com/JakeWharton/ThreeTenABP) project adapts [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/) (mentioned above). See [*How to use ThreeTenABP…*](http://stackoverflow.com/q/38922754/642706).\r\n\r\nThe [**ThreeTen-Extra**](http://www.threeten.org/threeten-extra/) project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as [`Interval`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html), [`YearWeek`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html), [`YearQuarter`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html), and [more](http://www.threeten.org/threeten-extra/apidocs/index.html).\r\n\r\n\r\n\r\n\r\n  [1]: https://ideone.com/a2TIne\r\n  [2]: https://en.wikipedia.org/wiki/Leap_year","title":"Getting last day of the month in a given string date","body":"<h1>tl;dr</h1>\n<pre><code>YearMonth                            // Represent the year and month, without a date and without a time zone.\n.from(                               // Extract the year and month from a `LocalDate` (a year-month-day). \n    LocalDate                        // Represent a date without a time-of-day and without a time zone.\n    .parse(                          // Get a date from an input string.        \n        &quot;1/13/2012&quot; ,                // Poor choice of format for a date. Educate the source of your data about the standard ISO 8601 formats to be used when exchanging date-time values as text.\n        DateTimeFormatter            // Specify a formatting pattern by which to parse the input string.\n        .ofPattern( &quot;M/d/uuuu&quot; )     // Match the pattern of your input.\n    )                                // Returns a `LocalDate` object.\n)                                    // Returns a `YearMonth` object.\n.atEndOfMonth()                      // Determines the last day of the month for that particular year-month, and returns a `LocalDate` object.\n.toString()                          // Generate text representing the value of that `LocalDate` object using standard ISO 8601 format.\n</code></pre>\n<p>See this <a href=\"https://ideone.com/a2TIne\" rel=\"nofollow noreferrer\">code run live at IdeOne.com</a>.</p>\n<blockquote>\n<p>2012-01-31</p>\n</blockquote>\n<h1><code>YearMonth</code></h1>\n<p>The <code>YearMonth</code> class makes this easy. The <code>atEndOfMonth</code> method returns a <code>LocalDate</code>. Leap year in February is accounted for.</p>\n<p>First define a formatting pattern to match your string input.</p>\n<p>DateTimeFormatter f = DateTimeFormatter.ofPattern( &quot;M/d/uuuu&quot; ) ;</p>\n<p>Use that formatter to get a <code>LocalDate</code> from the string input.</p>\n<pre><code>String s = &quot;1/13/2012&quot; ;\nLocalDate ld = LocalDate.parse( &quot;1/13/2012&quot; , f ) ;\n</code></pre>\n<p>Then extract a <code>YearMonth</code> object.</p>\n<pre><code>YearMonth ym = YearMonth.from( ld ) ;\n</code></pre>\n<p>Ask that <code>YearMonth</code> to determine the last day of its month in that year, accounting for <a href=\"https://en.wikipedia.org/wiki/Leap_year\" rel=\"nofollow noreferrer\">Leap Year</a> in February.</p>\n<pre><code>LocalDate endOfMonth = ym.atEndOfMonth() ;\n</code></pre>\n<p>Generate text representing that date, in standard ISO 8601 format.</p>\n<pre><code>String output = endOfMonth.toString() ;  \n</code></pre>\n<hr />\n<h1>About <em>java.time</em></h1>\n<p>The <a href=\"http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\"><em>java.time</em></a> framework is built into Java 8 and later. These classes supplant the troublesome old <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"nofollow noreferrer\">legacy</a> date-time classes such as <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Date.html\" rel=\"nofollow noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Calendar.html\" rel=\"nofollow noreferrer\"><code>Calendar</code></a>, &amp; <a href=\"http://docs.oracle.com/javase/10/docs/api/java/text/SimpleDateFormat.html\" rel=\"nofollow noreferrer\"><code>SimpleDateFormat</code></a>.</p>\n<p>The <a href=\"http://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\"><em>Joda-Time</em></a> project, now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"nofollow noreferrer\">maintenance mode</a>, advises migration to the <a href=\"http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> classes.</p>\n<p>To learn more, see the <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow noreferrer\"><em>Oracle Tutorial</em></a>. And search Stack Overflow for many examples and explanations. Specification is <a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"nofollow noreferrer\">JSR 310</a>.</p>\n<p>You may exchange <em>java.time</em> objects directly with your database. Use a <a href=\"https://en.wikipedia.org/wiki/JDBC_driver\" rel=\"nofollow noreferrer\">JDBC driver</a> compliant with <a href=\"http://openjdk.java.net/jeps/170\" rel=\"nofollow noreferrer\">JDBC 4.2</a> or later. No need for strings, no need for <code>java.sql.*</code> classes.</p>\n<p>Where to obtain the java.time classes?</p>\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\" rel=\"nofollow noreferrer\"><strong>Java SE 8</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"nofollow noreferrer\"><strong>Java SE 9</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10\" rel=\"nofollow noreferrer\"><strong>Java SE 10</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_11\" rel=\"nofollow noreferrer\"><strong>Java SE 11</strong></a>, and later  - Part of the standard Java API with a bundled implementation.</li>\n<li>Java 9 adds some minor features and fixes.</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6\" rel=\"nofollow noreferrer\"><strong>Java SE 6</strong></a> and <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7\" rel=\"nofollow noreferrer\"><strong>Java SE 7</strong></a></li>\n<li>Most of the <em>java.time</em> functionality is back-ported to Java 6 &amp; 7 in <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\"><em><strong>ThreeTen-Backport</strong></em></a>.</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Android_(operating_system)\" rel=\"nofollow noreferrer\"><strong>Android</strong></a></li>\n<li>Later versions of Android bundle implementations of the <em>java.time</em> classes.</li>\n<li>For earlier Android (&lt;26), the <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\"><em><strong>ThreeTenABP</strong></em></a> project adapts <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\"><em><strong>ThreeTen-Backport</strong></em></a> (mentioned above). See <a href=\"http://stackoverflow.com/q/38922754/642706\"><em>How to use ThreeTenABP…</em></a>.</li>\n</ul>\n<p>The <a href=\"http://www.threeten.org/threeten-extra/\" rel=\"nofollow noreferrer\"><strong>ThreeTen-Extra</strong></a> project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html\" rel=\"nofollow noreferrer\"><code>Interval</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html\" rel=\"nofollow noreferrer\"><code>YearWeek</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html\" rel=\"nofollow noreferrer\"><code>YearQuarter</code></a>, and <a href=\"http://www.threeten.org/threeten-extra/apidocs/index.html\" rel=\"nofollow noreferrer\">more</a>.</p>\n"},{"tags":[],"owner":{"account_id":10548734,"reputation":676,"user_id":7772054,"display_name":"SHIVA"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1590571190,"creation_date":1590495371,"answer_id":62021961,"question_id":13624442,"body_markdown":" \r\n\r\n                String givenStringDate =&quot;07/16/2020&quot;;\r\n\t\t    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;MM/dd/yyyy&quot;);\r\n\t\t    java.util.Date convertedUtillDate;\r\n\t\t\t\t/*\r\n\t\t\t\t * If your output requirement is in LocalDate format use below snippet\r\n\t\t\t\t * \r\n\t\t\t\t */\r\n\t\t\t    LocalDate localDate =LocalDate.parse(givenStringDate, formatter);\r\n\t\t\t    LocalDate localDateLastDayOfMonth = localDate.with(TemporalAdjusters.lastDayOfMonth());\r\n\t\t\t\t\r\n\t\t\t\t/*\r\n\t\t\t\t * If your output requirement is in Calendar format use below snippet\r\n\t\t\t\t * \r\n\t\t\t\t */\r\n\t\t\t    convertedUtillDate = Date.from(localDate.atStartOfDay(ZoneId.systemDefault()).toInstant());\r\n\t\t\t\tCalendar calendarLastDayOfMonth = Calendar.getInstance();\r\n\t\t\t    calendarLastDayOfMonth.setTime(convertedUtillDate);\r\n\t\t\t    int lastDate = calendarLastDayOfMonth.getActualMaximum(Calendar.DATE);\r\n\t\t\t    calendarLastDayOfMonth.set(Calendar.DATE, lastDate);\r\n\r\n\r\nTested in Java 1.8.\r\nI hope this will help some one.","title":"Getting last day of the month in a given string date","body":"<pre><code>            String givenStringDate =\"07/16/2020\";\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(\"MM/dd/yyyy\");\n        java.util.Date convertedUtillDate;\n            /*\n             * If your output requirement is in LocalDate format use below snippet\n             * \n             */\n            LocalDate localDate =LocalDate.parse(givenStringDate, formatter);\n            LocalDate localDateLastDayOfMonth = localDate.with(TemporalAdjusters.lastDayOfMonth());\n\n            /*\n             * If your output requirement is in Calendar format use below snippet\n             * \n             */\n            convertedUtillDate = Date.from(localDate.atStartOfDay(ZoneId.systemDefault()).toInstant());\n            Calendar calendarLastDayOfMonth = Calendar.getInstance();\n            calendarLastDayOfMonth.setTime(convertedUtillDate);\n            int lastDate = calendarLastDayOfMonth.getActualMaximum(Calendar.DATE);\n            calendarLastDayOfMonth.set(Calendar.DATE, lastDate);\n</code></pre>\n\n<p>Tested in Java 1.8.\nI hope this will help some one.</p>\n"},{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1623693176,"post_id":67945727,"comment_id":120146028,"body_markdown":"Not recommended. (1) Don’t use `Calendar`, it’s a long outdated and confusingly designed class. (2) Don’t implement your own date logic. It’s error-prone and much better left to the standard library, in this case to either the `LocalDate` or the `YearMonth` class. Also your code is not correct.","body":"Not recommended. (1) Don’t use <code>Calendar</code>, it’s a long outdated and confusingly designed class. (2) Don’t implement your own date logic. It’s error-prone and much better left to the standard library, in this case to either the <code>LocalDate</code> or the <code>YearMonth</code> class. Also your code is not correct."}],"tags":[],"owner":{"account_id":200972,"reputation":1278,"user_id":447137,"display_name":"Ankur"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1623473564,"creation_date":1623473564,"answer_id":67945727,"question_id":13624442,"body_markdown":"I think the most simple and fastest way is\r\n\r\n```\r\npublic static int getLastDayOf(int month, int year) {\r\n    switch (month) {\r\n        case Calendar.APRIL:\r\n        case Calendar.JUNE:\r\n        case Calendar.SEPTEMBER:\r\n        case Calendar.NOVEMBER:\r\n            return 30;\r\n        case Calendar.FEBRUARY:\r\n            if (year % 4 == 0) {\r\n                return 29;\r\n            }\r\n            return 28;\r\n        default:\r\n            return 31;\r\n    }\r\n}\r\n```\r\n\r\nSince these values are constant universally!","title":"Getting last day of the month in a given string date","body":"<p>I think the most simple and fastest way is</p>\n<pre><code>public static int getLastDayOf(int month, int year) {\n    switch (month) {\n        case Calendar.APRIL:\n        case Calendar.JUNE:\n        case Calendar.SEPTEMBER:\n        case Calendar.NOVEMBER:\n            return 30;\n        case Calendar.FEBRUARY:\n            if (year % 4 == 0) {\n                return 29;\n            }\n            return 28;\n        default:\n            return 31;\n    }\n}\n</code></pre>\n<p>Since these values are constant universally!</p>\n"},{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1634129792,"post_id":69553152,"comment_id":122942923,"body_markdown":"Please don’t teach the young ones to use the long outdated and notoriously troublesome `SimpleDateFormat` class. At least not as the first option. And not without any reservation. We have so much better in [`java.time`, the modern Java date and time API,](https://docs.oracle.com/javase/tutorial/datetime/) and its `DateTimeFormatter`.","body":"Please don’t teach the young ones to use the long outdated and notoriously troublesome <code>SimpleDateFormat</code> class. At least not as the first option. And not without any reservation. We have so much better in <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\"><code>java.time</code>, the modern Java date and time API,</a> and its <code>DateTimeFormatter</code>."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1634130090,"post_id":69553152,"comment_id":122943048,"body_markdown":"Also this is 37 lines of code where some of the other answers have 3 to 10 lines of code, and you are not explaining anything that we might gain from your longer code.","body":"Also this is 37 lines of code where some of the other answers have 3 to 10 lines of code, and you are not explaining anything that we might gain from your longer code."},{"owner":{"account_id":1402851,"reputation":1347,"user_id":1331294,"display_name":"Monzur"},"score":0,"creation_date":1634203530,"post_id":69553152,"comment_id":122964257,"body_markdown":"so where is your New and Smart updated answer to this question?","body":"so where is your New and Smart updated answer to this question?"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1634203954,"post_id":69553152,"comment_id":122964451,"body_markdown":"Updated, modern and smart answers are [here](https://stackoverflow.com/a/40689365/5772882), [here](https://stackoverflow.com/a/31720245/5772882), [here](https://stackoverflow.com/a/54080554/5772882), [here](https://stackoverflow.com/a/54074534/5772882) and [here](https://stackoverflow.com/a/62021961/5772882). Plus the accepted answer. No need for me to repeat what they already say.","body":"Updated, modern and smart answers are <a href=\"https://stackoverflow.com/a/40689365/5772882\">here</a>, <a href=\"https://stackoverflow.com/a/31720245/5772882\">here</a>, <a href=\"https://stackoverflow.com/a/54080554/5772882\">here</a>, <a href=\"https://stackoverflow.com/a/54074534/5772882\">here</a> and <a href=\"https://stackoverflow.com/a/62021961/5772882\">here</a>. Plus the accepted answer. No need for me to repeat what they already say."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1634228484,"post_id":69553152,"comment_id":122974892,"body_markdown":"(My answer to a similar question is [here](https://stackoverflow.com/a/64359132/5772882), but not the same question.)","body":"(My answer to a similar question is <a href=\"https://stackoverflow.com/a/64359132/5772882\">here</a>, but not the same question.)"},{"owner":{"account_id":1402851,"reputation":1347,"user_id":1331294,"display_name":"Monzur"},"score":0,"creation_date":1634664180,"post_id":69553152,"comment_id":123084520,"body_markdown":"None of Answer by you... very funny... except last one amd i don see any solution here... so far i guess, people needs codes of solutions not Article... Don mind pls...","body":"None of Answer by you... very funny... except last one amd i don see any solution here... so far i guess, people needs codes of solutions not Article... Don mind pls..."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1634711684,"post_id":69553152,"comment_id":123094957,"body_markdown":"I preach the exact opposite. People who need code should not go to Stack Overflow. Stack Overflow is the place for people who want to learn (we all should, I do). And no one needs your 37 lines of code. It uses outdated classes, we don&#39;t know what it does, presumably something that has already been obtained in 10 good lines or lesd.","body":"I preach the exact opposite. People who need code should not go to Stack Overflow. Stack Overflow is the place for people who want to learn (we all should, I do). And no one needs your 37 lines of code. It uses outdated classes, we don&#39;t know what it does, presumably something that has already been obtained in 10 good lines or lesd."}],"tags":[],"owner":{"account_id":1402851,"reputation":1347,"user_id":1331294,"display_name":"Monzur"},"comment_count":7,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1634118129,"creation_date":1634118129,"answer_id":69553152,"question_id":13624442,"body_markdown":"Finally I found the solution is Tested and works\r\n\r\n    public static Date toDate(String date, String DATE_FORMAT) {\r\n    \tDate dt = null;\r\n    \ttry {\r\n    \t\tString[] d = date.split(&quot; &quot;);\r\n    \t\tString[] f = DATE_FORMAT.split(&quot; &quot;);\r\n    \t\tif (d.length &gt; 1) {\r\n    \t\t\tif(f.length &gt; 1) {\r\n    \t\t\t\tDateFormat df = new SimpleDateFormat(DATE_FORMAT);\r\n    \t\t\t\tdf.setLenient(false);\r\n    \t\t\t\tdt = df.parse(date);\r\n    \t\t\t}\r\n    \t\t\telse\r\n    \t\t\t{\r\n    \t\t\t\tDateFormat df = new SimpleDateFormat(f[0]);\r\n    \t\t\t\tdf.setLenient(false);\r\n    \t\t\t\tdt = df.parse(date);\r\n    \t\t\t}\r\n    \t\t} else {\r\n    \t\t\tDateFormat df = new SimpleDateFormat(f[0]);\r\n    \t\t\tdf.setLenient(false);\r\n    \t\t\tdt = df.parse(date);\r\n    \t\t}\r\n    \t\treturn dt;\r\n    \t} catch (ParseException e) {\r\n    \r\n    \t\treturn null;\r\n    \t}\r\n    }\r\n    \r\n    private SimpleDateFormat dateFormatter;\r\n    dateFormatter = new SimpleDateFormat(&quot;MM/dd/yyyy&quot;, Locale.US);\r\n    String StartDate = &quot;05/01/2021&quot;;\r\n    Calendar endDate = new GregorianCalendar();\r\n    Date convertedDate = toDate(StartDate, &quot;MM/dd/yyyy&quot;);\r\n    endDate.setTime(convertedDate);\r\n    endDate.set(Calendar.DAY_OF_MONTH, 1);\r\n    endDate.add(Calendar.MONTH, 1);\r\n    endDate.add(Calendar.DATE, -1);\r\n    String EndDate = dateFormatter.format(endDate.getTime());\r\n\r\n**OutOut: 05/31/2021**","title":"Getting last day of the month in a given string date","body":"<p>Finally I found the solution is Tested and works</p>\n<pre><code>public static Date toDate(String date, String DATE_FORMAT) {\n    Date dt = null;\n    try {\n        String[] d = date.split(&quot; &quot;);\n        String[] f = DATE_FORMAT.split(&quot; &quot;);\n        if (d.length &gt; 1) {\n            if(f.length &gt; 1) {\n                DateFormat df = new SimpleDateFormat(DATE_FORMAT);\n                df.setLenient(false);\n                dt = df.parse(date);\n            }\n            else\n            {\n                DateFormat df = new SimpleDateFormat(f[0]);\n                df.setLenient(false);\n                dt = df.parse(date);\n            }\n        } else {\n            DateFormat df = new SimpleDateFormat(f[0]);\n            df.setLenient(false);\n            dt = df.parse(date);\n        }\n        return dt;\n    } catch (ParseException e) {\n\n        return null;\n    }\n}\n\nprivate SimpleDateFormat dateFormatter;\ndateFormatter = new SimpleDateFormat(&quot;MM/dd/yyyy&quot;, Locale.US);\nString StartDate = &quot;05/01/2021&quot;;\nCalendar endDate = new GregorianCalendar();\nDate convertedDate = toDate(StartDate, &quot;MM/dd/yyyy&quot;);\nendDate.setTime(convertedDate);\nendDate.set(Calendar.DAY_OF_MONTH, 1);\nendDate.add(Calendar.MONTH, 1);\nendDate.add(Calendar.DATE, -1);\nString EndDate = dateFormatter.format(endDate.getTime());\n</code></pre>\n<p><strong>OutOut: 05/31/2021</strong></p>\n"},{"tags":[],"owner":{"account_id":19370048,"reputation":659,"user_id":14163532,"display_name":"PKS"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691062990,"creation_date":1690880581,"answer_id":76810083,"question_id":13624442,"body_markdown":"In the following code I am generating the current Date using the now method. And then I am using TemporalAdjusters to get the final date of the month. I can also pass a custom date to get the work done.\r\n\r\n    LocalDate localDate = LocalDate.now(ZoneId.systemDefault());\r\n    LocalDate lastDayOfMonth = localDate.with(TemporalAdjusters.lastDayOfMonth());","title":"Getting last day of the month in a given string date","body":"<p>In the following code I am generating the current Date using the now method. And then I am using TemporalAdjusters to get the final date of the month. I can also pass a custom date to get the work done.</p>\n<pre><code>LocalDate localDate = LocalDate.now(ZoneId.systemDefault());\nLocalDate lastDayOfMonth = localDate.with(TemporalAdjusters.lastDayOfMonth());\n</code></pre>\n"}],"owner":{"account_id":476363,"reputation":16869,"user_id":887235,"accept_rate":80,"display_name":"Vicky"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":269019,"favorite_count":0,"down_vote_count":0,"up_vote_count":79,"accepted_answer_id":13624504,"answer_count":17,"score":79,"last_activity_date":1691062990,"creation_date":1354187414,"question_id":13624442,"body_markdown":"My input string date is as below:\r\n\r\n    String date = &quot;1/13/2012&quot;;\r\n\r\nI am getting the month as below:\r\n\r\n    SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;MM/dd/yyyy&quot;);\r\n    Date convertedDate = dateFormat.parse(date);\r\n    String month = new SimpleDateFormat(&quot;MM&quot;).format(convertedDate);\r\n\r\nBut how do I get the last calendar day of the month in a given String date?\r\n\r\nE.g.: for a String `&quot;1/13/2012&quot;` the output must be `&quot;1/31/2012&quot;`.","title":"Getting last day of the month in a given string date","body":"<p>My input string date is as below:</p>\n\n<pre><code>String date = \"1/13/2012\";\n</code></pre>\n\n<p>I am getting the month as below:</p>\n\n<pre><code>SimpleDateFormat dateFormat = new SimpleDateFormat(\"MM/dd/yyyy\");\nDate convertedDate = dateFormat.parse(date);\nString month = new SimpleDateFormat(\"MM\").format(convertedDate);\n</code></pre>\n\n<p>But how do I get the last calendar day of the month in a given String date?</p>\n\n<p>E.g.: for a String <code>\"1/13/2012\"</code> the output must be <code>\"1/31/2012\"</code>.</p>\n"},{"tags":["java","xml","hibernate","maven","hyperjaxb"],"comments":[{"owner":{"account_id":482558,"reputation":29193,"user_id":897024,"accept_rate":100,"display_name":"kapex"},"score":0,"creation_date":1409921766,"post_id":25676731,"comment_id":40145098,"body_markdown":"I never used this library but it looks like you could try to run `mvn generate-sources` directly.","body":"I never used this library but it looks like you could try to run <code>mvn generate-sources</code> directly."},{"owner":{"account_id":426537,"reputation":9134,"user_id":807797,"accept_rate":72,"display_name":"CodeMed"},"score":0,"creation_date":1409935128,"post_id":25676731,"comment_id":40152733,"body_markdown":"@kapep Thank you.  I just posted a couple of print screens showing the results of trying your advice.","body":"@kapep Thank you.  I just posted a couple of print screens showing the results of trying your advice."},{"owner":{"account_id":115767,"reputation":42976,"user_id":303810,"accept_rate":84,"display_name":"lexicore"},"score":0,"creation_date":1410733595,"post_id":25676731,"comment_id":40425924,"body_markdown":"@CodeMed I&#39;m currently moving Hyperjaxb3 to GitHub. When it&#39;s done I&#39;ll make sure the tutorial works. https://github.com/highsource/hyperjaxb3","body":"@CodeMed I&#39;m currently moving Hyperjaxb3 to GitHub. When it&#39;s done I&#39;ll make sure the tutorial works. <a href=\"https://github.com/highsource/hyperjaxb3\" rel=\"nofollow noreferrer\">github.com/highsource/hyperjaxb3</a>"},{"owner":{"account_id":426537,"reputation":9134,"user_id":807797,"accept_rate":72,"display_name":"CodeMed"},"score":0,"creation_date":1412808146,"post_id":25676731,"comment_id":41209932,"body_markdown":"@lexicore Are you willing to help me with this related problem: http://stackoverflow.com/questions/26267272/configuring-hyperjaxb-to-create-hibernate-mappings-and-a-mysql-database","body":"@lexicore Are you willing to help me with this related problem: <a href=\"http://stackoverflow.com/questions/26267272/configuring-hyperjaxb-to-create-hibernate-mappings-and-a-mysql-database\" title=\"configuring hyperjaxb to create hibernate mappings and a mysql database\">stackoverflow.com/questions/26267272/&hellip;</a>"},{"owner":{"account_id":115767,"reputation":42976,"user_id":303810,"accept_rate":84,"display_name":"lexicore"},"score":0,"creation_date":1412808573,"post_id":25676731,"comment_id":41210039,"body_markdown":"Please post your `mvn clean install -X` log as well as `dir /b /s&#39; log. (You can first redirect to a file like `mvn clean install -X &gt; log`.)","body":"Please post your <code>mvn clean install -X</code> log as well as <code>dir &#47;b &#47;s&#39; log. (You can first redirect to a file like </code>mvn clean install -X &gt; log`.)"},{"owner":{"account_id":115767,"reputation":42976,"user_id":303810,"accept_rate":84,"display_name":"lexicore"},"score":0,"creation_date":1412808626,"post_id":25676731,"comment_id":41210053,"body_markdown":"@CodeMed Did you actually put `po.xsd` to the right place?","body":"@CodeMed Did you actually put <code>po.xsd</code> to the right place?"}],"answers":[{"tags":[],"owner":{"account_id":115767,"reputation":42976,"user_id":303810,"accept_rate":84,"display_name":"lexicore"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1413665010,"creation_date":1412809051,"answer_id":26267765,"question_id":25676731,"body_markdown":"**UPDATE**\r\n\r\nFinally it appeared that the OP was looking for generated classes in the root directory of the project instead of `target\\generated-source\\xjc`, despite the [tutorial][1] clearly states where to look:\r\n\r\n&gt; If you browse the target/generated-sources/xjc directory, you&#39;ll find\r\n&gt; few generated java files, for instance `PurchaseOrderType.java`.\r\n\r\n----------\r\n\r\nOnce again, I don&#39;t get this. Works for me.\r\n\r\nMy steps are:\r\n\r\n* Unzip [`hyperjaxb3-ejb-template-basic-0.6.0-maven-src.zip`][2] into some location\r\n* Put `schema.xsd` into `src/main/resources`\r\n* Put `po.xml` into `src/test/samples`\r\n* `mvn clean install`\r\n\r\nAnd this is what I get, nice and clean:\r\n\r\n    [INFO] Scanning for projects...\r\n    [WARNING] \r\n    [WARNING] Some problems were encountered while building the effective model for org.jvnet.hyperjaxb3:hyperjaxb3-ejb-template-basic-maven:jar:0.6.0\r\n    [WARNING] &#39;build.plugins.plugin.version&#39; for org.apache.maven.plugins:maven-compiler-plugin is missing. @ line 75, column 12\r\n    [WARNING] \r\n    [WARNING] It is highly recommended to fix these problems because they threaten the stability of your build.\r\n    [WARNING] \r\n    [WARNING] For this reason, future Maven versions might no longer support building such malformed projects.\r\n    [WARNING] \r\n    [INFO] \r\n    [INFO] Using the builder org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder with a thread count of 1\r\n    [INFO]                                                                         \r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Building Hyperjaxb3 Samples [po-initial:maven] 0.6.0\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] \r\n    [INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ hyperjaxb3-ejb-template-basic-maven ---\r\n    [INFO] Deleting C:\\Projects\\workspaces\\hj3\\dist\\hyperjaxb3-ejb-template-basic-0.6.0\\target\r\n    [INFO] \r\n    [INFO] --- maven-hyperjaxb3-plugin:0.6.0:generate (default) @ hyperjaxb3-ejb-template-basic-maven ---\r\n    [INFO] Sources are not up-to-date; XJC execution will be executed.\r\n    [WARNING] According to the Java Persistence API specification, section 2.1, entities must be top-level classes:\r\n    &quot;The entity class must be a top-level class.&quot;\r\n    Your JAXB model is not customized as with top-level local scoping, please use the &lt;jaxb:globalBinding localScoping=&quot;toplevel&quot;/&gt; global bindings customization.\r\n            org.jvnet.hyperjaxb3.ejb.plugin.EjbPlugin\r\n    \r\n    [WARNING] According to the Java Persistence API specification, section 2.1, entities must implement the serializable interface:\r\n    &quot;If an entity instance is to be passed by value as a detached object\r\n    (e.g., through a remote interface), the entity class must implement\r\n     the Serializable interface.&quot;\r\n    Your JAXB model is not customized as serializable, please use the &lt;jaxb:serializable/&gt; global bindings customization element to make your model serializable.\r\n            org.jvnet.hyperjaxb3.ejb.plugin.EjbPlugin\r\n    \r\n    [INFO] \r\n    [INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ hyperjaxb3-ejb-template-basic-maven ---\r\n    [WARNING] Using platform encoding (Cp1252 actually) to copy filtered resources, i.e. build is platform dependent!\r\n    [INFO] Copying 2 resources\r\n    [INFO] Copying 0 resource\r\n    [INFO] Copying 1 resource\r\n    [INFO] \r\n    [INFO] --- maven-compiler-plugin:2.5.1:compile (default-compile) @ hyperjaxb3-ejb-template-basic-maven ---\r\n    [WARNING] File encoding has not been set, using platform encoding Cp1252, i.e. build is platform dependent!\r\n    [INFO] Compiling 5 source files to C:\\Projects\\workspaces\\hj3\\dist\\hyperjaxb3-ejb-template-basic-0.6.0\\target\\classes\r\n    [INFO] \r\n    [INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ hyperjaxb3-ejb-template-basic-maven ---\r\n    [WARNING] Using platform encoding (Cp1252 actually) to copy filtered resources, i.e. build is platform dependent!\r\n    [INFO] Copying 2 resources\r\n    [INFO] \r\n    [INFO] --- maven-compiler-plugin:2.5.1:testCompile (default-testCompile) @ hyperjaxb3-ejb-template-basic-maven ---\r\n    [WARNING] File encoding has not been set, using platform encoding Cp1252, i.e. build is platform dependent!\r\n    [INFO] Compiling 5 source files to C:\\Projects\\workspaces\\hj3\\dist\\hyperjaxb3-ejb-template-basic-0.6.0\\target\\test-classes\r\n    [INFO] \r\n    [INFO] --- maven-surefire-plugin:2.12.4:test (default-test) @ hyperjaxb3-ejb-template-basic-maven ---\r\n    [INFO] Surefire report directory: C:\\Projects\\workspaces\\hj3\\dist\\hyperjaxb3-ejb-template-basic-0.6.0\\target\\surefire-reports\r\n    \r\n    -------------------------------------------------------\r\n     T E S T S\r\n    -------------------------------------------------------\r\n    Running RoundtripTest\r\n    Detected [file:/C:/Projects/workspaces/hj3/dist/hyperjaxb3-ejb-template-basic-0.6.0/target/classes/META-INF/persistence.xml].\r\n    \tRoundtripTest\r\n    \r\n    Loading entity manager factory properties.\r\n    \tRoundtripTest\r\n    \r\n    Loading entity manager factory properties from [file:/C:/Projects/workspaces/hj3/dist/hyperjaxb3-ejb-template-basic-0.6.0/target/test-classes/persistence.properties].\r\n    \tRoundtripTest\r\n    \r\n    Testing samples.\r\n    \tRoundtripTest\r\n    \r\n    Sample directory [C:\\Projects\\workspaces\\hj3\\dist\\hyperjaxb3-ejb-template-basic-0.6.0\\src\\test\\samples].\r\n    \tRoundtripTest\r\n    \r\n    Testing sample [po.xml].\r\n    \tRoundtripTest\r\n    \r\n    Unmarshalling.\r\n    \tRoundtripTest\r\n    \r\n    Opening session.\r\n    \tRoundtripTest\r\n    \r\n    Saving the object.\r\n    \tRoundtripTest\r\n    \r\n    Opening session.\r\n    \tRoundtripTest\r\n    \r\n    Loading the object.\r\n    \tRoundtripTest\r\n    \r\n    Closing the session.\r\n    \tRoundtripTest\r\n    \r\n    Initial object:\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\r\n    &lt;purchaseOrder orderDate=&quot;1999-10-20&quot;&gt;\r\n        &lt;shipTo country=&quot;US&quot;&gt;\r\n            &lt;name&gt;Alice Smith&lt;/name&gt;\r\n            &lt;street&gt;123 Maple Street&lt;/street&gt;\r\n            &lt;city&gt;Mill Valley&lt;/city&gt;\r\n            &lt;state&gt;CA&lt;/state&gt;\r\n            &lt;zip&gt;90952&lt;/zip&gt;\r\n        &lt;/shipTo&gt;\r\n        &lt;billTo country=&quot;US&quot;&gt;\r\n            &lt;name&gt;Robert Smith&lt;/name&gt;\r\n            &lt;street&gt;8 Oak Avenue&lt;/street&gt;\r\n            &lt;city&gt;Old Town&lt;/city&gt;\r\n            &lt;state&gt;PA&lt;/state&gt;\r\n            &lt;zip&gt;95819&lt;/zip&gt;\r\n        &lt;/billTo&gt;\r\n        &lt;comment&gt;Hurry, my lawn is going wild!&lt;/comment&gt;\r\n        &lt;items&gt;\r\n            &lt;item partNum=&quot;872-AA&quot;&gt;\r\n                &lt;productName&gt;Lawnmower&lt;/productName&gt;\r\n                &lt;quantity&gt;1&lt;/quantity&gt;\r\n                &lt;USPrice&gt;148.95&lt;/USPrice&gt;\r\n                &lt;comment&gt;Confirm this is electric&lt;/comment&gt;\r\n            &lt;/item&gt;\r\n            &lt;item partNum=&quot;926-AA&quot;&gt;\r\n                &lt;productName&gt;Baby Monitor&lt;/productName&gt;\r\n                &lt;quantity&gt;1&lt;/quantity&gt;\r\n                &lt;USPrice&gt;39.98&lt;/USPrice&gt;\r\n                &lt;shipDate&gt;1999-05-21&lt;/shipDate&gt;\r\n            &lt;/item&gt;\r\n        &lt;/items&gt;\r\n    &lt;/purchaseOrder&gt;\r\n    \r\n    \tRoundtripTest\r\n    \r\n    Source object:\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\r\n    &lt;purchaseOrder orderDate=&quot;1999-10-20&quot; Hjid=&quot;1&quot;&gt;\r\n        &lt;shipTo country=&quot;US&quot; Hjid=&quot;2&quot;&gt;\r\n            &lt;name&gt;Alice Smith&lt;/name&gt;\r\n            &lt;street&gt;123 Maple Street&lt;/street&gt;\r\n            &lt;city&gt;Mill Valley&lt;/city&gt;\r\n            &lt;state&gt;CA&lt;/state&gt;\r\n            &lt;zip&gt;90952&lt;/zip&gt;\r\n        &lt;/shipTo&gt;\r\n        &lt;billTo country=&quot;US&quot; Hjid=&quot;1&quot;&gt;\r\n            &lt;name&gt;Robert Smith&lt;/name&gt;\r\n            &lt;street&gt;8 Oak Avenue&lt;/street&gt;\r\n            &lt;city&gt;Old Town&lt;/city&gt;\r\n            &lt;state&gt;PA&lt;/state&gt;\r\n            &lt;zip&gt;95819&lt;/zip&gt;\r\n        &lt;/billTo&gt;\r\n        &lt;comment&gt;Hurry, my lawn is going wild!&lt;/comment&gt;\r\n        &lt;items Hjid=&quot;1&quot;&gt;\r\n            &lt;item partNum=&quot;872-AA&quot; Hjid=&quot;1&quot;&gt;\r\n                &lt;productName&gt;Lawnmower&lt;/productName&gt;\r\n                &lt;quantity&gt;1&lt;/quantity&gt;\r\n                &lt;USPrice&gt;148.95&lt;/USPrice&gt;\r\n                &lt;comment&gt;Confirm this is electric&lt;/comment&gt;\r\n            &lt;/item&gt;\r\n            &lt;item partNum=&quot;926-AA&quot; Hjid=&quot;2&quot;&gt;\r\n                &lt;productName&gt;Baby Monitor&lt;/productName&gt;\r\n                &lt;quantity&gt;1&lt;/quantity&gt;\r\n                &lt;USPrice&gt;39.98&lt;/USPrice&gt;\r\n                &lt;shipDate&gt;1999-05-21&lt;/shipDate&gt;\r\n            &lt;/item&gt;\r\n        &lt;/items&gt;\r\n    &lt;/purchaseOrder&gt;\r\n    \r\n    \tRoundtripTest\r\n    \r\n    Result object:\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\r\n    &lt;purchaseOrder orderDate=&quot;1999-10-20&quot; Hjid=&quot;1&quot;&gt;\r\n        &lt;shipTo country=&quot;US&quot; Hjid=&quot;2&quot;&gt;\r\n            &lt;name&gt;Alice Smith&lt;/name&gt;\r\n            &lt;street&gt;123 Maple Street&lt;/street&gt;\r\n            &lt;city&gt;Mill Valley&lt;/city&gt;\r\n            &lt;state&gt;CA&lt;/state&gt;\r\n            &lt;zip&gt;90952&lt;/zip&gt;\r\n        &lt;/shipTo&gt;\r\n        &lt;billTo country=&quot;US&quot; Hjid=&quot;1&quot;&gt;\r\n            &lt;name&gt;Robert Smith&lt;/name&gt;\r\n            &lt;street&gt;8 Oak Avenue&lt;/street&gt;\r\n            &lt;city&gt;Old Town&lt;/city&gt;\r\n            &lt;state&gt;PA&lt;/state&gt;\r\n            &lt;zip&gt;95819&lt;/zip&gt;\r\n        &lt;/billTo&gt;\r\n        &lt;comment&gt;Hurry, my lawn is going wild!&lt;/comment&gt;\r\n        &lt;items Hjid=&quot;1&quot;&gt;\r\n            &lt;item partNum=&quot;872-AA&quot; Hjid=&quot;1&quot;&gt;\r\n                &lt;productName&gt;Lawnmower&lt;/productName&gt;\r\n                &lt;quantity&gt;1&lt;/quantity&gt;\r\n                &lt;USPrice&gt;148.95&lt;/USPrice&gt;\r\n                &lt;comment&gt;Confirm this is electric&lt;/comment&gt;\r\n            &lt;/item&gt;\r\n            &lt;item partNum=&quot;926-AA&quot; Hjid=&quot;2&quot;&gt;\r\n                &lt;productName&gt;Baby Monitor&lt;/productName&gt;\r\n                &lt;quantity&gt;1&lt;/quantity&gt;\r\n                &lt;USPrice&gt;39.98&lt;/USPrice&gt;\r\n                &lt;shipDate&gt;1999-05-21&lt;/shipDate&gt;\r\n            &lt;/item&gt;\r\n        &lt;/items&gt;\r\n    &lt;/purchaseOrder&gt;\r\n    \r\n    \tRoundtripTest\r\n    \r\n    Checking the document identity.\r\n    \tRoundtripTest\r\n    \r\n    Finished testing sample [po.xml].\r\n    \tRoundtripTest\r\n    \r\n    Finished testing samples.\r\n    \tRoundtripTest\r\n    \r\n    Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 2.456 sec\r\n    \r\n    Results :\r\n    \r\n    Tests run: 1, Failures: 0, Errors: 0, Skipped: 0\r\n    \r\n    [INFO] \r\n    [INFO] --- maven-jar-plugin:2.4:jar (default-jar) @ hyperjaxb3-ejb-template-basic-maven ---\r\n    [INFO] Building jar: C:\\Projects\\workspaces\\hj3\\dist\\hyperjaxb3-ejb-template-basic-0.6.0\\target\\hyperjaxb3-ejb-template-basic-maven-0.6.0.jar\r\n    [INFO] \r\n    [INFO] --- maven-install-plugin:2.4:install (default-install) @ hyperjaxb3-ejb-template-basic-maven ---\r\n    [INFO] Installing C:\\Projects\\workspaces\\hj3\\dist\\hyperjaxb3-ejb-template-basic-0.6.0\\target\\hyperjaxb3-ejb-template-basic-maven-0.6.0.jar to C:\\Repository\\org\\jvnet\\hyperjaxb3\\hyperjaxb3-ejb-template-basic-maven\\0.6.0\\hyperjaxb3-ejb-template-basic-maven-0.6.0.jar\r\n    [INFO] Installing C:\\Projects\\workspaces\\hj3\\dist\\hyperjaxb3-ejb-template-basic-0.6.0\\pom.xml to C:\\Repository\\org\\jvnet\\hyperjaxb3\\hyperjaxb3-ejb-template-basic-maven\\0.6.0\\hyperjaxb3-ejb-template-basic-maven-0.6.0.pom\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD SUCCESS\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time: 11.185 s\r\n    [INFO] Finished at: 2014-10-09T00:56:18+01:00\r\n    [INFO] Final Memory: 22M/101M\r\n    [INFO] ------------------------------------------------------------------------\r\n\r\nI have no idea why it does not work for you. Pleas post `mvn clean install -X` and `dir /b/s` logs so that I could check your setup.\r\n\r\n\r\n  [1]: http://confluence.highsource.org/display/HJ3/Purchase+Order+Tutorial\r\n  [2]: https://github.com/highsource/hyperjaxb3/releases/download/0.6.0/hyperjaxb3-ejb-template-basic-0.6.0-maven-src.zip","title":"hyperjaxb3 not generating files","body":"<p><strong>UPDATE</strong></p>\n\n<p>Finally it appeared that the OP was looking for generated classes in the root directory of the project instead of <code>target\\generated-source\\xjc</code>, despite the <a href=\"http://confluence.highsource.org/display/HJ3/Purchase+Order+Tutorial\" rel=\"nofollow\">tutorial</a> clearly states where to look:</p>\n\n<blockquote>\n  <p>If you browse the target/generated-sources/xjc directory, you'll find\n  few generated java files, for instance <code>PurchaseOrderType.java</code>.</p>\n</blockquote>\n\n<hr>\n\n<p>Once again, I don't get this. Works for me.</p>\n\n<p>My steps are:</p>\n\n<ul>\n<li>Unzip <a href=\"https://github.com/highsource/hyperjaxb3/releases/download/0.6.0/hyperjaxb3-ejb-template-basic-0.6.0-maven-src.zip\" rel=\"nofollow\"><code>hyperjaxb3-ejb-template-basic-0.6.0-maven-src.zip</code></a> into some location</li>\n<li>Put <code>schema.xsd</code> into <code>src/main/resources</code></li>\n<li>Put <code>po.xml</code> into <code>src/test/samples</code></li>\n<li><code>mvn clean install</code></li>\n</ul>\n\n<p>And this is what I get, nice and clean:</p>\n\n<pre><code>[INFO] Scanning for projects...\n[WARNING] \n[WARNING] Some problems were encountered while building the effective model for org.jvnet.hyperjaxb3:hyperjaxb3-ejb-template-basic-maven:jar:0.6.0\n[WARNING] 'build.plugins.plugin.version' for org.apache.maven.plugins:maven-compiler-plugin is missing. @ line 75, column 12\n[WARNING] \n[WARNING] It is highly recommended to fix these problems because they threaten the stability of your build.\n[WARNING] \n[WARNING] For this reason, future Maven versions might no longer support building such malformed projects.\n[WARNING] \n[INFO] \n[INFO] Using the builder org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder with a thread count of 1\n[INFO]                                                                         \n[INFO] ------------------------------------------------------------------------\n[INFO] Building Hyperjaxb3 Samples [po-initial:maven] 0.6.0\n[INFO] ------------------------------------------------------------------------\n[INFO] \n[INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ hyperjaxb3-ejb-template-basic-maven ---\n[INFO] Deleting C:\\Projects\\workspaces\\hj3\\dist\\hyperjaxb3-ejb-template-basic-0.6.0\\target\n[INFO] \n[INFO] --- maven-hyperjaxb3-plugin:0.6.0:generate (default) @ hyperjaxb3-ejb-template-basic-maven ---\n[INFO] Sources are not up-to-date; XJC execution will be executed.\n[WARNING] According to the Java Persistence API specification, section 2.1, entities must be top-level classes:\n\"The entity class must be a top-level class.\"\nYour JAXB model is not customized as with top-level local scoping, please use the &lt;jaxb:globalBinding localScoping=\"toplevel\"/&gt; global bindings customization.\n        org.jvnet.hyperjaxb3.ejb.plugin.EjbPlugin\n\n[WARNING] According to the Java Persistence API specification, section 2.1, entities must implement the serializable interface:\n\"If an entity instance is to be passed by value as a detached object\n(e.g., through a remote interface), the entity class must implement\n the Serializable interface.\"\nYour JAXB model is not customized as serializable, please use the &lt;jaxb:serializable/&gt; global bindings customization element to make your model serializable.\n        org.jvnet.hyperjaxb3.ejb.plugin.EjbPlugin\n\n[INFO] \n[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ hyperjaxb3-ejb-template-basic-maven ---\n[WARNING] Using platform encoding (Cp1252 actually) to copy filtered resources, i.e. build is platform dependent!\n[INFO] Copying 2 resources\n[INFO] Copying 0 resource\n[INFO] Copying 1 resource\n[INFO] \n[INFO] --- maven-compiler-plugin:2.5.1:compile (default-compile) @ hyperjaxb3-ejb-template-basic-maven ---\n[WARNING] File encoding has not been set, using platform encoding Cp1252, i.e. build is platform dependent!\n[INFO] Compiling 5 source files to C:\\Projects\\workspaces\\hj3\\dist\\hyperjaxb3-ejb-template-basic-0.6.0\\target\\classes\n[INFO] \n[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ hyperjaxb3-ejb-template-basic-maven ---\n[WARNING] Using platform encoding (Cp1252 actually) to copy filtered resources, i.e. build is platform dependent!\n[INFO] Copying 2 resources\n[INFO] \n[INFO] --- maven-compiler-plugin:2.5.1:testCompile (default-testCompile) @ hyperjaxb3-ejb-template-basic-maven ---\n[WARNING] File encoding has not been set, using platform encoding Cp1252, i.e. build is platform dependent!\n[INFO] Compiling 5 source files to C:\\Projects\\workspaces\\hj3\\dist\\hyperjaxb3-ejb-template-basic-0.6.0\\target\\test-classes\n[INFO] \n[INFO] --- maven-surefire-plugin:2.12.4:test (default-test) @ hyperjaxb3-ejb-template-basic-maven ---\n[INFO] Surefire report directory: C:\\Projects\\workspaces\\hj3\\dist\\hyperjaxb3-ejb-template-basic-0.6.0\\target\\surefire-reports\n\n-------------------------------------------------------\n T E S T S\n-------------------------------------------------------\nRunning RoundtripTest\nDetected [file:/C:/Projects/workspaces/hj3/dist/hyperjaxb3-ejb-template-basic-0.6.0/target/classes/META-INF/persistence.xml].\n    RoundtripTest\n\nLoading entity manager factory properties.\n    RoundtripTest\n\nLoading entity manager factory properties from [file:/C:/Projects/workspaces/hj3/dist/hyperjaxb3-ejb-template-basic-0.6.0/target/test-classes/persistence.properties].\n    RoundtripTest\n\nTesting samples.\n    RoundtripTest\n\nSample directory [C:\\Projects\\workspaces\\hj3\\dist\\hyperjaxb3-ejb-template-basic-0.6.0\\src\\test\\samples].\n    RoundtripTest\n\nTesting sample [po.xml].\n    RoundtripTest\n\nUnmarshalling.\n    RoundtripTest\n\nOpening session.\n    RoundtripTest\n\nSaving the object.\n    RoundtripTest\n\nOpening session.\n    RoundtripTest\n\nLoading the object.\n    RoundtripTest\n\nClosing the session.\n    RoundtripTest\n\nInitial object:\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?&gt;\n&lt;purchaseOrder orderDate=\"1999-10-20\"&gt;\n    &lt;shipTo country=\"US\"&gt;\n        &lt;name&gt;Alice Smith&lt;/name&gt;\n        &lt;street&gt;123 Maple Street&lt;/street&gt;\n        &lt;city&gt;Mill Valley&lt;/city&gt;\n        &lt;state&gt;CA&lt;/state&gt;\n        &lt;zip&gt;90952&lt;/zip&gt;\n    &lt;/shipTo&gt;\n    &lt;billTo country=\"US\"&gt;\n        &lt;name&gt;Robert Smith&lt;/name&gt;\n        &lt;street&gt;8 Oak Avenue&lt;/street&gt;\n        &lt;city&gt;Old Town&lt;/city&gt;\n        &lt;state&gt;PA&lt;/state&gt;\n        &lt;zip&gt;95819&lt;/zip&gt;\n    &lt;/billTo&gt;\n    &lt;comment&gt;Hurry, my lawn is going wild!&lt;/comment&gt;\n    &lt;items&gt;\n        &lt;item partNum=\"872-AA\"&gt;\n            &lt;productName&gt;Lawnmower&lt;/productName&gt;\n            &lt;quantity&gt;1&lt;/quantity&gt;\n            &lt;USPrice&gt;148.95&lt;/USPrice&gt;\n            &lt;comment&gt;Confirm this is electric&lt;/comment&gt;\n        &lt;/item&gt;\n        &lt;item partNum=\"926-AA\"&gt;\n            &lt;productName&gt;Baby Monitor&lt;/productName&gt;\n            &lt;quantity&gt;1&lt;/quantity&gt;\n            &lt;USPrice&gt;39.98&lt;/USPrice&gt;\n            &lt;shipDate&gt;1999-05-21&lt;/shipDate&gt;\n        &lt;/item&gt;\n    &lt;/items&gt;\n&lt;/purchaseOrder&gt;\n\n    RoundtripTest\n\nSource object:\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?&gt;\n&lt;purchaseOrder orderDate=\"1999-10-20\" Hjid=\"1\"&gt;\n    &lt;shipTo country=\"US\" Hjid=\"2\"&gt;\n        &lt;name&gt;Alice Smith&lt;/name&gt;\n        &lt;street&gt;123 Maple Street&lt;/street&gt;\n        &lt;city&gt;Mill Valley&lt;/city&gt;\n        &lt;state&gt;CA&lt;/state&gt;\n        &lt;zip&gt;90952&lt;/zip&gt;\n    &lt;/shipTo&gt;\n    &lt;billTo country=\"US\" Hjid=\"1\"&gt;\n        &lt;name&gt;Robert Smith&lt;/name&gt;\n        &lt;street&gt;8 Oak Avenue&lt;/street&gt;\n        &lt;city&gt;Old Town&lt;/city&gt;\n        &lt;state&gt;PA&lt;/state&gt;\n        &lt;zip&gt;95819&lt;/zip&gt;\n    &lt;/billTo&gt;\n    &lt;comment&gt;Hurry, my lawn is going wild!&lt;/comment&gt;\n    &lt;items Hjid=\"1\"&gt;\n        &lt;item partNum=\"872-AA\" Hjid=\"1\"&gt;\n            &lt;productName&gt;Lawnmower&lt;/productName&gt;\n            &lt;quantity&gt;1&lt;/quantity&gt;\n            &lt;USPrice&gt;148.95&lt;/USPrice&gt;\n            &lt;comment&gt;Confirm this is electric&lt;/comment&gt;\n        &lt;/item&gt;\n        &lt;item partNum=\"926-AA\" Hjid=\"2\"&gt;\n            &lt;productName&gt;Baby Monitor&lt;/productName&gt;\n            &lt;quantity&gt;1&lt;/quantity&gt;\n            &lt;USPrice&gt;39.98&lt;/USPrice&gt;\n            &lt;shipDate&gt;1999-05-21&lt;/shipDate&gt;\n        &lt;/item&gt;\n    &lt;/items&gt;\n&lt;/purchaseOrder&gt;\n\n    RoundtripTest\n\nResult object:\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?&gt;\n&lt;purchaseOrder orderDate=\"1999-10-20\" Hjid=\"1\"&gt;\n    &lt;shipTo country=\"US\" Hjid=\"2\"&gt;\n        &lt;name&gt;Alice Smith&lt;/name&gt;\n        &lt;street&gt;123 Maple Street&lt;/street&gt;\n        &lt;city&gt;Mill Valley&lt;/city&gt;\n        &lt;state&gt;CA&lt;/state&gt;\n        &lt;zip&gt;90952&lt;/zip&gt;\n    &lt;/shipTo&gt;\n    &lt;billTo country=\"US\" Hjid=\"1\"&gt;\n        &lt;name&gt;Robert Smith&lt;/name&gt;\n        &lt;street&gt;8 Oak Avenue&lt;/street&gt;\n        &lt;city&gt;Old Town&lt;/city&gt;\n        &lt;state&gt;PA&lt;/state&gt;\n        &lt;zip&gt;95819&lt;/zip&gt;\n    &lt;/billTo&gt;\n    &lt;comment&gt;Hurry, my lawn is going wild!&lt;/comment&gt;\n    &lt;items Hjid=\"1\"&gt;\n        &lt;item partNum=\"872-AA\" Hjid=\"1\"&gt;\n            &lt;productName&gt;Lawnmower&lt;/productName&gt;\n            &lt;quantity&gt;1&lt;/quantity&gt;\n            &lt;USPrice&gt;148.95&lt;/USPrice&gt;\n            &lt;comment&gt;Confirm this is electric&lt;/comment&gt;\n        &lt;/item&gt;\n        &lt;item partNum=\"926-AA\" Hjid=\"2\"&gt;\n            &lt;productName&gt;Baby Monitor&lt;/productName&gt;\n            &lt;quantity&gt;1&lt;/quantity&gt;\n            &lt;USPrice&gt;39.98&lt;/USPrice&gt;\n            &lt;shipDate&gt;1999-05-21&lt;/shipDate&gt;\n        &lt;/item&gt;\n    &lt;/items&gt;\n&lt;/purchaseOrder&gt;\n\n    RoundtripTest\n\nChecking the document identity.\n    RoundtripTest\n\nFinished testing sample [po.xml].\n    RoundtripTest\n\nFinished testing samples.\n    RoundtripTest\n\nTests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 2.456 sec\n\nResults :\n\nTests run: 1, Failures: 0, Errors: 0, Skipped: 0\n\n[INFO] \n[INFO] --- maven-jar-plugin:2.4:jar (default-jar) @ hyperjaxb3-ejb-template-basic-maven ---\n[INFO] Building jar: C:\\Projects\\workspaces\\hj3\\dist\\hyperjaxb3-ejb-template-basic-0.6.0\\target\\hyperjaxb3-ejb-template-basic-maven-0.6.0.jar\n[INFO] \n[INFO] --- maven-install-plugin:2.4:install (default-install) @ hyperjaxb3-ejb-template-basic-maven ---\n[INFO] Installing C:\\Projects\\workspaces\\hj3\\dist\\hyperjaxb3-ejb-template-basic-0.6.0\\target\\hyperjaxb3-ejb-template-basic-maven-0.6.0.jar to C:\\Repository\\org\\jvnet\\hyperjaxb3\\hyperjaxb3-ejb-template-basic-maven\\0.6.0\\hyperjaxb3-ejb-template-basic-maven-0.6.0.jar\n[INFO] Installing C:\\Projects\\workspaces\\hj3\\dist\\hyperjaxb3-ejb-template-basic-0.6.0\\pom.xml to C:\\Repository\\org\\jvnet\\hyperjaxb3\\hyperjaxb3-ejb-template-basic-maven\\0.6.0\\hyperjaxb3-ejb-template-basic-maven-0.6.0.pom\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 11.185 s\n[INFO] Finished at: 2014-10-09T00:56:18+01:00\n[INFO] Final Memory: 22M/101M\n[INFO] ------------------------------------------------------------------------\n</code></pre>\n\n<p>I have no idea why it does not work for you. Pleas post <code>mvn clean install -X</code> and <code>dir /b/s</code> logs so that I could check your setup.</p>\n"}],"owner":{"account_id":426537,"reputation":9134,"user_id":807797,"accept_rate":72,"display_name":"CodeMed"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1355,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":26267765,"answer_count":1,"score":2,"last_activity_date":1691062656,"creation_date":1409875125,"question_id":25676731,"body_markdown":"I am trying to learn hyperjaxb by studying &lt;a href=&quot;http://confluence.highsource.org/display/HJ3/Purchase+Order+Tutorial&quot;&gt;this tutorial&lt;/a&gt;.  I followed all of the instructions down to the heading section `What was Generated?`.  This included the following steps:  \r\n  \r\n1. download the &lt;a href=&quot;http://confluence.highsource.org/display/HJ3/Downloads&quot;&gt;Basic Project Template for Hibernate and Maven&lt;/a&gt;\r\n2. unzip the file\r\n3. install the xml and xsd files in the assigned locations\r\n4. open up `cmd.exe`\r\n5. navigate to the directory of the unzipped root folder\r\n6. run mvn clean install  \r\n  \r\nBut nothing was generated.  There is no `/generated-sources/xjc` directory, and there is no `PurchaseOrderType.java`.  I did a key word search of the entire directory structure to confirm that these resources were not present after running `mvn clean install`.  I also imported the directory structure into a new eclipse maven project and tried `run as...maven clean` and `run as...maven build` within the new Eclipse Maven project, but got the same lack of results.  \r\n  \r\nWhat can I do to get this tutorial to produce the intended generated files?\r\n  \r\nAlso, is there a better way to generate JPA entities from xsd?\r\n  \r\nEdit\r\n---\r\n  \r\nAs per @kapep&#39;s advice, I tried `mvn generate-sources` and got the following results:  \r\n  \r\n&lt;img src=&quot;https://s30.postimg.org/mt6jp7mhd/mvn_generate_sources.jpg&quot;&gt;  \r\n\r\nI then tried `mvn clean install` again, and got the following results:  \r\n\r\n&lt;img src=&quot;https://s24.postimg.org/je21hk2xh/mvn_clean_install.jpg&quot;&gt;  \r\n\r\nYou can see the warning in the print screens that `org.apache.maven.plugins:maven-compiler-plugin` is missing.  I found the corresponding folder in the `.m2` repository on my machine and deleted it, then did a `maven update project` from within eclipse to re-download the library.  I then did another `mvn clean install`, and got the same lack of results.  Nothing was generated, no java file, no `generated-sources` directory.  Nothing.  \r\n  \r\nWhat else can I try?\r\n\r\nSecond edit\r\n---\r\n  \r\nThe tutorial app still DOES NOT generate the intended files, however, I was able to get rid of the warning message in the print screens by changing the maven-compiler-plugin portion of the pom to the following:  \r\n  \r\n    &lt;plugin&gt;\r\n        &lt;inherited&gt;true&lt;/inherited&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.3.2&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n            &lt;source&gt;1.6&lt;/source&gt;\r\n            &lt;target&gt;1.6&lt;/target&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;  \r\n  \r\nNote that, in addition to specifying the version, I also changed the `source` and `target` from `1.5` to `1.6`, as per @Todd &#39;s advice &lt;a href=&quot;https://stackoverflow.com/questions/4123044/maven-3-warnings-about-build-plugins-plugin-version&quot;&gt;in this posting&lt;/a&gt;.  I assume these refer to JDK versions.  My installation uses JDK 1.6.  I do not know if this is causing any problems.  \r\n  \r\nWhat else can I try?\r\n","title":"hyperjaxb3 not generating files","body":"<p>I am trying to learn hyperjaxb by studying <a href=\"http://confluence.highsource.org/display/HJ3/Purchase+Order+Tutorial\" rel=\"nofollow noreferrer\">this tutorial</a>.  I followed all of the instructions down to the heading section <code>What was Generated?</code>.  This included the following steps:</p>\n<ol>\n<li>download the <a href=\"http://confluence.highsource.org/display/HJ3/Downloads\" rel=\"nofollow noreferrer\">Basic Project Template for Hibernate and Maven</a></li>\n<li>unzip the file</li>\n<li>install the xml and xsd files in the assigned locations</li>\n<li>open up <code>cmd.exe</code></li>\n<li>navigate to the directory of the unzipped root folder</li>\n<li>run mvn clean install</li>\n</ol>\n<p>But nothing was generated.  There is no <code>/generated-sources/xjc</code> directory, and there is no <code>PurchaseOrderType.java</code>.  I did a key word search of the entire directory structure to confirm that these resources were not present after running <code>mvn clean install</code>.  I also imported the directory structure into a new eclipse maven project and tried <code>run as...maven clean</code> and <code>run as...maven build</code> within the new Eclipse Maven project, but got the same lack of results.</p>\n<p>What can I do to get this tutorial to produce the intended generated files?</p>\n<p>Also, is there a better way to generate JPA entities from xsd?</p>\n<h2>Edit</h2>\n<p>As per @kapep's advice, I tried <code>mvn generate-sources</code> and got the following results:</p>\n<img src=\"https://s30.postimg.org/mt6jp7mhd/mvn_generate_sources.jpg\">  \n<p>I then tried <code>mvn clean install</code> again, and got the following results:</p>\n<img src=\"https://s24.postimg.org/je21hk2xh/mvn_clean_install.jpg\">  \n<p>You can see the warning in the print screens that <code>org.apache.maven.plugins:maven-compiler-plugin</code> is missing.  I found the corresponding folder in the <code>.m2</code> repository on my machine and deleted it, then did a <code>maven update project</code> from within eclipse to re-download the library.  I then did another <code>mvn clean install</code>, and got the same lack of results.  Nothing was generated, no java file, no <code>generated-sources</code> directory.  Nothing.</p>\n<p>What else can I try?</p>\n<h2>Second edit</h2>\n<p>The tutorial app still DOES NOT generate the intended files, however, I was able to get rid of the warning message in the print screens by changing the maven-compiler-plugin portion of the pom to the following:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;inherited&gt;true&lt;/inherited&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.3.2&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;source&gt;1.6&lt;/source&gt;\n        &lt;target&gt;1.6&lt;/target&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;  \n</code></pre>\n<p>Note that, in addition to specifying the version, I also changed the <code>source</code> and <code>target</code> from <code>1.5</code> to <code>1.6</code>, as per @Todd 's advice <a href=\"https://stackoverflow.com/questions/4123044/maven-3-warnings-about-build-plugins-plugin-version\">in this posting</a>.  I assume these refer to JDK versions.  My installation uses JDK 1.6.  I do not know if this is causing any problems.</p>\n<p>What else can I try?</p>\n"},{"tags":["java","android","eclipse","gradle"],"comments":[{"owner":{"account_id":8835542,"reputation":3375,"user_id":6600000,"display_name":"Keivan Esbati"},"score":0,"creation_date":1525237382,"post_id":50120440,"comment_id":87272641,"body_markdown":"What version of gradle you use?","body":"What version of gradle you use?"},{"owner":{"account_id":6601531,"reputation":61,"user_id":5099672,"display_name":"Adeep Malmotra"},"score":0,"creation_date":1525239172,"post_id":50120440,"comment_id":87273197,"body_markdown":"I m using Latest version","body":"I m using Latest version"},{"owner":{"account_id":2806090,"reputation":80148,"user_id":2413303,"accept_rate":100,"display_name":"EpicPandaForce"},"score":1,"creation_date":1526683158,"post_id":50120440,"comment_id":87855573,"body_markdown":"You should add `mavenCentral()` repository above `jcenter()` repository in your build.gradle","body":"You should add <code>mavenCentral()</code> repository above <code>jcenter()</code> repository in your build.gradle"}],"answers":[{"tags":[],"owner":{"account_id":6601531,"reputation":61,"user_id":5099672,"display_name":"Adeep Malmotra"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1691062430,"creation_date":1691062430,"answer_id":76827684,"question_id":50120440,"body_markdown":"Upon placing the mavenCentral() repository above the jcenter() repository in the build.gradle file, the error was successfully resolved.","title":"org.gradle.api.UncheckedIOException:","body":"<p>Upon placing the mavenCentral() repository above the jcenter() repository in the build.gradle file, the error was successfully resolved.</p>\n"}],"owner":{"account_id":6601531,"reputation":61,"user_id":5099672,"display_name":"Adeep Malmotra"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2622,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76827684,"answer_count":1,"score":0,"last_activity_date":1691062430,"creation_date":1525193232,"question_id":50120440,"body_markdown":"After Successful build I&#39;m getting these errors after solving problem defined in [my previous question][1] \r\n\r\nAnd now I&#39;m getting these errors \r\n\r\n        org.gradle.api.UncheckedIOException: Failed to capture snapshot of input files for task &#39;:app:javaPreCompileDebug&#39; property &#39;annotationProcessorConfiguration&#39; during up-to-date check.\r\n    \tat org.gradle.api.internal.changedetection.state.CacheBackedTaskHistoryRepository.snapshotTaskFiles(CacheBackedTaskHistoryRepository.java:333)\r\n    \tat org.gradle.api.internal.changedetection.state.CacheBackedTaskHistoryRepository.createExecution(CacheBackedTaskHistoryRepository.java:154)\r\n    \tat org.gradle.api.internal.changedetection.state.CacheBackedTaskHistoryRepository.access$100(CacheBackedTaskHistoryRepository.java:61)\r\n    \tat org.gradle.api.internal.changedetection.state.CacheBackedTaskHistoryRepository$1.getCurrentExecution(CacheBackedTaskHistoryRepository.java:114)\r\n    \tat org.gradle.api.internal.changedetection.changes.DefaultTaskArtifactStateRepository$TaskArtifactStateImpl.getStates(DefaultTaskArtifactStateRepository.java:201)\r\n    \tat org.gradle.api.internal.changedetection.changes.DefaultTaskArtifactStateRepository$TaskArtifactStateImpl.isUpToDate(DefaultTaskArtifactStateRepository.java:86)\r\n    \tat org.gradle.api.internal.tasks.execution.SkipUpToDateTaskExecuter.execute(SkipUpToDateTaskExecuter.java:53)\r\n    \tat org.gradle.api.internal.tasks.execution.ResolveTaskOutputCachingStateExecuter.execute(ResolveTaskOutputCachingStateExecuter.java:54)\r\n    \tat org.gradle.api.internal.tasks.execution.ValidatingTaskExecuter.execute(ValidatingTaskExecuter.java:60)\r\n    \tat org.gradle.api.internal.tasks.execution.SkipEmptySourceFilesTaskExecuter.execute(SkipEmptySourceFilesTaskExecuter.java:97)\r\n    \tat org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:87)\r\n    \tat org.gradle.api.internal.tasks.execution.ResolveTaskArtifactStateTaskExecuter.execute(ResolveTaskArtifactStateTaskExecuter.java:52)\r\n    \tat org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:52)\r\n    \tat org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:54)\r\n    \tat org.gradle.api.internal.tasks.execution.ExecuteAtMostOnceTaskExecuter.execute(ExecuteAtMostOnceTaskExecuter.java:43)\r\n    \tat org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:34)\r\n    \tat org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker$1.run(DefaultTaskGraphExecuter.java:248)\r\n    \tat org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\r\n    \tat org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\r\n    \tat org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)\r\n    \tat org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:110)\r\n    \tat org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:241)\r\n    \tat org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:230)\r\n    \tat org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.processTask(DefaultTaskPlanExecutor.java:123)\r\n    \tat org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.access$200(DefaultTaskPlanExecutor.java:79)\r\n    \tat org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:104)\r\n    \tat org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:98)\r\n    \tat org.gradle.execution.taskgraph.DefaultTaskExecutionPlan.execute(DefaultTaskExecutionPlan.java:626)\r\n    \tat org.gradle.execution.taskgraph.DefaultTaskExecutionPlan.executeWithTask(DefaultTaskExecutionPlan.java:581)\r\n    \tat org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.run(DefaultTaskPlanExecutor.java:98)\r\n    \tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\r\n    \tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n    \tat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\r\n    \tat java.lang.Thread.run(Thread.java:745)\r\n    Caused by: org.gradle.api.internal.artifacts.ivyservice.DefaultLenientConfiguration$ArtifactResolveException: Could not resolve all files for configuration &#39;:app:debugAnnotationProcessorClasspath&#39;.\r\n    \tat org.gradle.api.internal.artifacts.configurations.DefaultConfiguration.rethrowFailure(DefaultConfiguration.java:918)\r\n    \tat org.gradle.api.internal.artifacts.configurations.DefaultConfiguration.access$1600(DefaultConfiguration.java:116)\r\n    \tat org.gradle.api.internal.artifacts.configurations.DefaultConfiguration$ConfigurationFileCollection.getFiles(DefaultConfiguration.java:892)\r\n    \tat org.gradle.api.internal.file.AbstractFileCollection.iterator(AbstractFileCollection.java:68)\r\n    \tat org.gradle.api.internal.changedetection.state.AbstractFileCollectionSnapshotter$FileCollectionVisitorImpl.visitCollection(AbstractFileCollectionSnapshotter.java:70)\r\n    \tat org.gradle.api.internal.file.AbstractFileCollection.visitRootElements(AbstractFileCollection.java:234)\r\n    \tat org.gradle.api.internal.file.CompositeFileCollection.visitRootElements(CompositeFileCollection.java:185)\r\n    \tat org.gradle.api.internal.changedetection.state.AbstractFileCollectionSnapshotter.snapshot(AbstractFileCollectionSnapshotter.java:53)\r\n    \tat org.gradle.api.internal.changedetection.state.DefaultClasspathSnapshotter.snapshot(DefaultClasspathSnapshotter.java:42)\r\n    \tat org.gradle.api.internal.changedetection.state.CacheBackedTaskHistoryRepository.snapshotTaskFiles(CacheBackedTaskHistoryRepository.java:331)\r\n    \t... 35 more\r\n    Caused by: org.gradle.internal.resolve.ArtifactResolveException: Could not download guava.jar (com.google.guava:guava:23.3-jre)\r\n    \tat org.gradle.api.internal.artifacts.repositories.resolver.ExternalResourceResolver$RemoteRepositoryAccess.resolveArtifact(ExternalResourceResolver.java:506)\r\n    \tat org.gradle.api.internal.artifacts.ivyservice.ivyresolve.CachingModuleComponentRepository$ResolveAndCacheRepositoryAccess.resolveArtifact(CachingModuleComponentRepository.java:409)\r\n    \tat org.gradle.api.internal.artifacts.ivyservice.ivyresolve.BaseModuleComponentRepositoryAccess.resolveArtifact(BaseModuleComponentRepositoryAccess.java:65)\r\n    \tat org.gradle.api.internal.artifacts.ivyservice.ivyresolve.memcache.InMemoryCachedModuleComponentRepository$CachedAccess.resolveArtifact(InMemoryCachedModuleComponentRepository.java:124)\r\n    \tat org.gradle.api.internal.artifacts.ivyservice.ivyresolve.ErrorHandlingModuleComponentRepository$ErrorHandlingModuleComponentRepositoryAccess.resolveArtifact(ErrorHandlingModuleComponentRepository.java:171)\r\n    \tat org.gradle.api.internal.artifacts.ivyservice.ivyresolve.RepositoryChainArtifactResolver.resolveArtifact(RepositoryChainArtifactResolver.java:80)\r\n    \tat org.gradle.api.internal.artifacts.ivyservice.resolveengine.artifact.DefaultArtifactSet$LazyArtifactSource.create(DefaultArtifactSet.java:171)\r\n    \tat org.gradle.api.internal.artifacts.ivyservice.resolveengine.artifact.DefaultArtifactSet$LazyArtifactSource.create(DefaultArtifactSet.java:158)\r\n    \tat org.gradle.api.internal.artifacts.DefaultResolvedArtifact.getFile(DefaultResolvedArtifact.java:135)\r\n    \tat org.gradle.api.internal.artifacts.ivyservice.resolveengine.artifact.ArtifactBackedResolvedVariant$DownloadArtifactFile.run(ArtifactBackedResolvedVariant.java:146)\r\n    \tat org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\r\n    \tat org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\r\n    \tat org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)\r\n    \tat org.gradle.internal.progress.DefaultBuildOperationExecutor.access$900(DefaultBuildOperationExecutor.java:63)\r\n    \tat org.gradle.internal.progress.DefaultBuildOperationExecutor$ParentPreservingQueueWorker.execute(DefaultBuildOperationExecutor.java:378)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationQueue$WorkerRunnable.runOperation(DefaultBuildOperationQueue.java:230)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationQueue$WorkerRunnable.access$600(DefaultBuildOperationQueue.java:172)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationQueue$WorkerRunnable$1.call(DefaultBuildOperationQueue.java:209)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationQueue$WorkerRunnable$1.call(DefaultBuildOperationQueue.java:203)\r\n    \tat org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:152)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationQueue$WorkerRunnable.runBatch(DefaultBuildOperationQueue.java:202)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationQueue$WorkerRunnable.run(DefaultBuildOperationQueue.java:177)\r\n    \t... 6 more\r\n    Caused by: org.gradle.api.resources.ResourceException: Could not get resource &#39;https://jcenter.bintray.com/com/google/guava/guava/23.3-jre/guava-23.3-jre.jar&#39;.\r\n    \tat org.gradle.internal.resource.ResourceExceptions.failure(ResourceExceptions.java:74)\r\n    \tat org.gradle.internal.resource.ResourceExceptions.getFailed(ResourceExceptions.java:57)\r\n    \tat org.gradle.internal.resource.transfer.AccessorBackedExternalResource.withContentIfPresent(AccessorBackedExternalResource.java:146)\r\n    \tat org.gradle.internal.resource.BuildOperationFiringExternalResourceDecorator$11.call(BuildOperationFiringExternalResourceDecorator.java:237)\r\n    \tat org.gradle.internal.resource.BuildOperationFiringExternalResourceDecorator$11.call(BuildOperationFiringExternalResourceDecorator.java:229)\r\n    \tat org.gradle.internal.progress.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:350)\r\n    \tat org.gradle.internal.progress.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:340)\r\n    \tat org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)\r\n    \tat org.gradle.internal.progress.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:120)\r\n    \tat org.gradle.internal.resource.BuildOperationFiringExternalResourceDecorator.withContentIfPresent(BuildOperationFiringExternalResourceDecorator.java:229)\r\n    \tat org.gradle.internal.resource.transfer.DefaultCacheAwareExternalResourceAccessor.copyToCache(DefaultCacheAwareExternalResourceAccessor.java:199)\r\n    \tat org.gradle.internal.resource.transfer.DefaultCacheAwareExternalResourceAccessor.access$300(DefaultCacheAwareExternalResourceAccessor.java:55)\r\n    \tat org.gradle.internal.resource.transfer.DefaultCacheAwareExternalResourceAccessor$1.create(DefaultCacheAwareExternalResourceAccessor.java:90)\r\n    \tat org.gradle.internal.resource.transfer.DefaultCacheAwareExternalResourceAccessor$1.create(DefaultCacheAwareExternalResourceAccessor.java:82)\r\n    \tat org.gradle.cache.internal.ProducerGuard$AdaptiveProducerGuard.guardByKey(ProducerGuard.java:97)\r\n    \tat org.gradle.internal.resource.transfer.DefaultCacheAwareExternalResourceAccessor.getResource(DefaultCacheAwareExternalResourceAccessor.java:82)\r\n    \tat org.gradle.api.internal.artifacts.repositories.resolver.DefaultExternalResourceArtifactResolver.downloadByCoords(DefaultExternalResourceArtifactResolver.java:129)\r\n    \tat org.gradle.api.internal.artifacts.repositories.resolver.DefaultExternalResourceArtifactResolver.downloadStaticResource(DefaultExternalResourceArtifactResolver.java:95)\r\n    \tat org.gradle.api.internal.artifacts.repositories.resolver.DefaultExternalResourceArtifactResolver.resolveArtifact(DefaultExternalResourceArtifactResolver.java:67)\r\n    \tat org.gradle.api.internal.artifacts.repositories.resolver.ExternalResourceResolver$RemoteRepositoryAccess.resolveArtifact(ExternalResourceResolver.java:499)\r\n    \t... 27 more\r\n    Caused by: java.net.SocketTimeoutException: Read timed out\r\n    \tat java.net.SocketInputStream.socketRead0(Native Method)\r\n    \tat java.net.SocketInputStream.socketRead(SocketInputStream.java:116)\r\n    \tat java.net.SocketInputStream.read(SocketInputStream.java:171)\r\n    \tat java.net.SocketInputStream.read(SocketInputStream.java:141)\r\n    \tat sun.security.ssl.InputRecord.readFully(InputRecord.java:465)\r\n    \tat sun.security.ssl.InputRecord.readV3Record(InputRecord.java:593)\r\n    \tat sun.security.ssl.InputRecord.read(InputRecord.java:532)\r\n    \tat sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:983)\r\n    \tat sun.security.ssl.SSLSocketImpl.readDataRecord(SSLSocketImpl.java:940)\r\n    \tat sun.security.ssl.AppInputStream.read(AppInputStream.java:105)\r\n    \tat org.apache.http.impl.io.SessionInputBufferImpl.streamRead(SessionInputBufferImpl.java:139)\r\n    \tat org.apache.http.impl.io.SessionInputBufferImpl.read(SessionInputBufferImpl.java:200)\r\n    \tat org.apache.http.impl.io.ContentLengthInputStream.read(ContentLengthInputStream.java:178)\r\n    \tat org.apache.http.conn.EofSensorInputStream.read(EofSensorInputStream.java:137)\r\n    \tat org.gradle.internal.resource.transfer.AbstractProgressLoggingHandler$ProgressLoggingInputStream.read(AbstractProgressLoggingHandler.java:77)\r\n    \tat java.io.BufferedInputStream.fill(BufferedInputStream.java:246)\r\n    \tat java.io.BufferedInputStream.read1(BufferedInputStream.java:286)\r\n    \tat java.io.BufferedInputStream.read(BufferedInputStream.java:345)\r\n    \tat com.google.common.io.CountingInputStream.read(CountingInputStream.java:62)\r\n    \tat java.io.FilterInputStream.read(FilterInputStream.java:107)\r\n    \tat org.apache.commons.io.IOUtils.copyLarge(IOUtils.java:1488)\r\n    \tat org.apache.commons.io.IOUtils.copyLarge(IOUtils.java:1465)\r\n    \tat org.gradle.internal.resource.transfer.DefaultCacheAwareExternalResourceAccessor$DownloadAction.execute(DefaultCacheAwareExternalResourceAccessor.java:249)\r\n    \tat org.gradle.internal.resource.transfer.AccessorBackedExternalResource.withContentIfPresent(AccessorBackedExternalResource.java:137)\r\n    \t... 44 more\r\n\r\nThese are the errors I&#39;m getting after successful build in app:JavaPreCompileDebug\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/50115622/could-not-find-com-google-daggerdagger-compiler3-0-0\r\n  [2]: https://i.stack.imgur.com/7heun.png","title":"org.gradle.api.UncheckedIOException:","body":"<p>After Successful build I'm getting these errors after solving problem defined in <a href=\"https://stackoverflow.com/questions/50115622/could-not-find-com-google-daggerdagger-compiler3-0-0\">my previous question</a> </p>\n\n<p>And now I'm getting these errors </p>\n\n<pre><code>    org.gradle.api.UncheckedIOException: Failed to capture snapshot of input files for task ':app:javaPreCompileDebug' property 'annotationProcessorConfiguration' during up-to-date check.\n    at org.gradle.api.internal.changedetection.state.CacheBackedTaskHistoryRepository.snapshotTaskFiles(CacheBackedTaskHistoryRepository.java:333)\n    at org.gradle.api.internal.changedetection.state.CacheBackedTaskHistoryRepository.createExecution(CacheBackedTaskHistoryRepository.java:154)\n    at org.gradle.api.internal.changedetection.state.CacheBackedTaskHistoryRepository.access$100(CacheBackedTaskHistoryRepository.java:61)\n    at org.gradle.api.internal.changedetection.state.CacheBackedTaskHistoryRepository$1.getCurrentExecution(CacheBackedTaskHistoryRepository.java:114)\n    at org.gradle.api.internal.changedetection.changes.DefaultTaskArtifactStateRepository$TaskArtifactStateImpl.getStates(DefaultTaskArtifactStateRepository.java:201)\n    at org.gradle.api.internal.changedetection.changes.DefaultTaskArtifactStateRepository$TaskArtifactStateImpl.isUpToDate(DefaultTaskArtifactStateRepository.java:86)\n    at org.gradle.api.internal.tasks.execution.SkipUpToDateTaskExecuter.execute(SkipUpToDateTaskExecuter.java:53)\n    at org.gradle.api.internal.tasks.execution.ResolveTaskOutputCachingStateExecuter.execute(ResolveTaskOutputCachingStateExecuter.java:54)\n    at org.gradle.api.internal.tasks.execution.ValidatingTaskExecuter.execute(ValidatingTaskExecuter.java:60)\n    at org.gradle.api.internal.tasks.execution.SkipEmptySourceFilesTaskExecuter.execute(SkipEmptySourceFilesTaskExecuter.java:97)\n    at org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:87)\n    at org.gradle.api.internal.tasks.execution.ResolveTaskArtifactStateTaskExecuter.execute(ResolveTaskArtifactStateTaskExecuter.java:52)\n    at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:52)\n    at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:54)\n    at org.gradle.api.internal.tasks.execution.ExecuteAtMostOnceTaskExecuter.execute(ExecuteAtMostOnceTaskExecuter.java:43)\n    at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:34)\n    at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker$1.run(DefaultTaskGraphExecuter.java:248)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:110)\n    at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:241)\n    at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:230)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.processTask(DefaultTaskPlanExecutor.java:123)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.access$200(DefaultTaskPlanExecutor.java:79)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:104)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:98)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionPlan.execute(DefaultTaskExecutionPlan.java:626)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionPlan.executeWithTask(DefaultTaskExecutionPlan.java:581)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.run(DefaultTaskPlanExecutor.java:98)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\n    at java.lang.Thread.run(Thread.java:745)\nCaused by: org.gradle.api.internal.artifacts.ivyservice.DefaultLenientConfiguration$ArtifactResolveException: Could not resolve all files for configuration ':app:debugAnnotationProcessorClasspath'.\n    at org.gradle.api.internal.artifacts.configurations.DefaultConfiguration.rethrowFailure(DefaultConfiguration.java:918)\n    at org.gradle.api.internal.artifacts.configurations.DefaultConfiguration.access$1600(DefaultConfiguration.java:116)\n    at org.gradle.api.internal.artifacts.configurations.DefaultConfiguration$ConfigurationFileCollection.getFiles(DefaultConfiguration.java:892)\n    at org.gradle.api.internal.file.AbstractFileCollection.iterator(AbstractFileCollection.java:68)\n    at org.gradle.api.internal.changedetection.state.AbstractFileCollectionSnapshotter$FileCollectionVisitorImpl.visitCollection(AbstractFileCollectionSnapshotter.java:70)\n    at org.gradle.api.internal.file.AbstractFileCollection.visitRootElements(AbstractFileCollection.java:234)\n    at org.gradle.api.internal.file.CompositeFileCollection.visitRootElements(CompositeFileCollection.java:185)\n    at org.gradle.api.internal.changedetection.state.AbstractFileCollectionSnapshotter.snapshot(AbstractFileCollectionSnapshotter.java:53)\n    at org.gradle.api.internal.changedetection.state.DefaultClasspathSnapshotter.snapshot(DefaultClasspathSnapshotter.java:42)\n    at org.gradle.api.internal.changedetection.state.CacheBackedTaskHistoryRepository.snapshotTaskFiles(CacheBackedTaskHistoryRepository.java:331)\n    ... 35 more\nCaused by: org.gradle.internal.resolve.ArtifactResolveException: Could not download guava.jar (com.google.guava:guava:23.3-jre)\n    at org.gradle.api.internal.artifacts.repositories.resolver.ExternalResourceResolver$RemoteRepositoryAccess.resolveArtifact(ExternalResourceResolver.java:506)\n    at org.gradle.api.internal.artifacts.ivyservice.ivyresolve.CachingModuleComponentRepository$ResolveAndCacheRepositoryAccess.resolveArtifact(CachingModuleComponentRepository.java:409)\n    at org.gradle.api.internal.artifacts.ivyservice.ivyresolve.BaseModuleComponentRepositoryAccess.resolveArtifact(BaseModuleComponentRepositoryAccess.java:65)\n    at org.gradle.api.internal.artifacts.ivyservice.ivyresolve.memcache.InMemoryCachedModuleComponentRepository$CachedAccess.resolveArtifact(InMemoryCachedModuleComponentRepository.java:124)\n    at org.gradle.api.internal.artifacts.ivyservice.ivyresolve.ErrorHandlingModuleComponentRepository$ErrorHandlingModuleComponentRepositoryAccess.resolveArtifact(ErrorHandlingModuleComponentRepository.java:171)\n    at org.gradle.api.internal.artifacts.ivyservice.ivyresolve.RepositoryChainArtifactResolver.resolveArtifact(RepositoryChainArtifactResolver.java:80)\n    at org.gradle.api.internal.artifacts.ivyservice.resolveengine.artifact.DefaultArtifactSet$LazyArtifactSource.create(DefaultArtifactSet.java:171)\n    at org.gradle.api.internal.artifacts.ivyservice.resolveengine.artifact.DefaultArtifactSet$LazyArtifactSource.create(DefaultArtifactSet.java:158)\n    at org.gradle.api.internal.artifacts.DefaultResolvedArtifact.getFile(DefaultResolvedArtifact.java:135)\n    at org.gradle.api.internal.artifacts.ivyservice.resolveengine.artifact.ArtifactBackedResolvedVariant$DownloadArtifactFile.run(ArtifactBackedResolvedVariant.java:146)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.access$900(DefaultBuildOperationExecutor.java:63)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$ParentPreservingQueueWorker.execute(DefaultBuildOperationExecutor.java:378)\n    at org.gradle.internal.operations.DefaultBuildOperationQueue$WorkerRunnable.runOperation(DefaultBuildOperationQueue.java:230)\n    at org.gradle.internal.operations.DefaultBuildOperationQueue$WorkerRunnable.access$600(DefaultBuildOperationQueue.java:172)\n    at org.gradle.internal.operations.DefaultBuildOperationQueue$WorkerRunnable$1.call(DefaultBuildOperationQueue.java:209)\n    at org.gradle.internal.operations.DefaultBuildOperationQueue$WorkerRunnable$1.call(DefaultBuildOperationQueue.java:203)\n    at org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:152)\n    at org.gradle.internal.operations.DefaultBuildOperationQueue$WorkerRunnable.runBatch(DefaultBuildOperationQueue.java:202)\n    at org.gradle.internal.operations.DefaultBuildOperationQueue$WorkerRunnable.run(DefaultBuildOperationQueue.java:177)\n    ... 6 more\nCaused by: org.gradle.api.resources.ResourceException: Could not get resource 'https://jcenter.bintray.com/com/google/guava/guava/23.3-jre/guava-23.3-jre.jar'.\n    at org.gradle.internal.resource.ResourceExceptions.failure(ResourceExceptions.java:74)\n    at org.gradle.internal.resource.ResourceExceptions.getFailed(ResourceExceptions.java:57)\n    at org.gradle.internal.resource.transfer.AccessorBackedExternalResource.withContentIfPresent(AccessorBackedExternalResource.java:146)\n    at org.gradle.internal.resource.BuildOperationFiringExternalResourceDecorator$11.call(BuildOperationFiringExternalResourceDecorator.java:237)\n    at org.gradle.internal.resource.BuildOperationFiringExternalResourceDecorator$11.call(BuildOperationFiringExternalResourceDecorator.java:229)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:350)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:340)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:120)\n    at org.gradle.internal.resource.BuildOperationFiringExternalResourceDecorator.withContentIfPresent(BuildOperationFiringExternalResourceDecorator.java:229)\n    at org.gradle.internal.resource.transfer.DefaultCacheAwareExternalResourceAccessor.copyToCache(DefaultCacheAwareExternalResourceAccessor.java:199)\n    at org.gradle.internal.resource.transfer.DefaultCacheAwareExternalResourceAccessor.access$300(DefaultCacheAwareExternalResourceAccessor.java:55)\n    at org.gradle.internal.resource.transfer.DefaultCacheAwareExternalResourceAccessor$1.create(DefaultCacheAwareExternalResourceAccessor.java:90)\n    at org.gradle.internal.resource.transfer.DefaultCacheAwareExternalResourceAccessor$1.create(DefaultCacheAwareExternalResourceAccessor.java:82)\n    at org.gradle.cache.internal.ProducerGuard$AdaptiveProducerGuard.guardByKey(ProducerGuard.java:97)\n    at org.gradle.internal.resource.transfer.DefaultCacheAwareExternalResourceAccessor.getResource(DefaultCacheAwareExternalResourceAccessor.java:82)\n    at org.gradle.api.internal.artifacts.repositories.resolver.DefaultExternalResourceArtifactResolver.downloadByCoords(DefaultExternalResourceArtifactResolver.java:129)\n    at org.gradle.api.internal.artifacts.repositories.resolver.DefaultExternalResourceArtifactResolver.downloadStaticResource(DefaultExternalResourceArtifactResolver.java:95)\n    at org.gradle.api.internal.artifacts.repositories.resolver.DefaultExternalResourceArtifactResolver.resolveArtifact(DefaultExternalResourceArtifactResolver.java:67)\n    at org.gradle.api.internal.artifacts.repositories.resolver.ExternalResourceResolver$RemoteRepositoryAccess.resolveArtifact(ExternalResourceResolver.java:499)\n    ... 27 more\nCaused by: java.net.SocketTimeoutException: Read timed out\n    at java.net.SocketInputStream.socketRead0(Native Method)\n    at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)\n    at java.net.SocketInputStream.read(SocketInputStream.java:171)\n    at java.net.SocketInputStream.read(SocketInputStream.java:141)\n    at sun.security.ssl.InputRecord.readFully(InputRecord.java:465)\n    at sun.security.ssl.InputRecord.readV3Record(InputRecord.java:593)\n    at sun.security.ssl.InputRecord.read(InputRecord.java:532)\n    at sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:983)\n    at sun.security.ssl.SSLSocketImpl.readDataRecord(SSLSocketImpl.java:940)\n    at sun.security.ssl.AppInputStream.read(AppInputStream.java:105)\n    at org.apache.http.impl.io.SessionInputBufferImpl.streamRead(SessionInputBufferImpl.java:139)\n    at org.apache.http.impl.io.SessionInputBufferImpl.read(SessionInputBufferImpl.java:200)\n    at org.apache.http.impl.io.ContentLengthInputStream.read(ContentLengthInputStream.java:178)\n    at org.apache.http.conn.EofSensorInputStream.read(EofSensorInputStream.java:137)\n    at org.gradle.internal.resource.transfer.AbstractProgressLoggingHandler$ProgressLoggingInputStream.read(AbstractProgressLoggingHandler.java:77)\n    at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)\n    at java.io.BufferedInputStream.read1(BufferedInputStream.java:286)\n    at java.io.BufferedInputStream.read(BufferedInputStream.java:345)\n    at com.google.common.io.CountingInputStream.read(CountingInputStream.java:62)\n    at java.io.FilterInputStream.read(FilterInputStream.java:107)\n    at org.apache.commons.io.IOUtils.copyLarge(IOUtils.java:1488)\n    at org.apache.commons.io.IOUtils.copyLarge(IOUtils.java:1465)\n    at org.gradle.internal.resource.transfer.DefaultCacheAwareExternalResourceAccessor$DownloadAction.execute(DefaultCacheAwareExternalResourceAccessor.java:249)\n    at org.gradle.internal.resource.transfer.AccessorBackedExternalResource.withContentIfPresent(AccessorBackedExternalResource.java:137)\n    ... 44 more\n</code></pre>\n\n<p>These are the errors I'm getting after successful build in app:JavaPreCompileDebug</p>\n\n<p><a href=\"https://i.stack.imgur.com/7heun.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7heun.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","groovy","dropwizard","jackson-databind"],"comments":[{"owner":{"account_id":2976047,"reputation":121,"user_id":2527075,"display_name":"Silvan Van Leeuwen"},"score":0,"creation_date":1691065787,"post_id":76827673,"comment_id":135443014,"body_markdown":"In your question you mention\n\nIt&#39;s found that deprecation of method getGenericType() from AnnotatedParameter Class and In docs it says to use &quot;Annotated.getType() for replacement&quot;\n\nHowever, in your code example I see you cast to AnnotatedMember. I don&#39;t know if that creates problems?\n\nFurthermore the stacktrace suggests that the call to Key.get already breaks, which comes before the actual getGenericType call. Might have to do with the cast or it might have to do with a Guice version difference?","body":"In your question you mention  It&#39;s found that deprecation of method getGenericType() from AnnotatedParameter Class and In docs it says to use &quot;Annotated.getType() for replacement&quot;  However, in your code example I see you cast to AnnotatedMember. I don&#39;t know if that creates problems?  Furthermore the stacktrace suggests that the call to Key.get already breaks, which comes before the actual getGenericType call. Might have to do with the cast or it might have to do with a Guice version difference?"},{"owner":{"account_id":10617601,"reputation":73,"user_id":7819585,"display_name":"Duega"},"score":0,"creation_date":1691142129,"post_id":76827673,"comment_id":135454829,"body_markdown":"@SilvanVanLeeuwen Thanks for the comment. AnnotatedMember is the base class for AnnotatedParameter. &#39;m&#39; isInstanceOf AnnotatedParameter. Initially getGenericType was part of AnnotatedParameter. Regarding Key get() method there is Argument of type &#39;Type&#39;. Still it&#39;s throwing IllegalArgumentException . \nMy problem is even it&#39;s given in docs that getGenericType can be replaced by getType due to deprecation. Still it&#39;s not working.","body":"@SilvanVanLeeuwen Thanks for the comment. AnnotatedMember is the base class for AnnotatedParameter. &#39;m&#39; isInstanceOf AnnotatedParameter. Initially getGenericType was part of AnnotatedParameter. Regarding Key get() method there is Argument of type &#39;Type&#39;. Still it&#39;s throwing IllegalArgumentException .  My problem is even it&#39;s given in docs that getGenericType can be replaced by getType due to deprecation. Still it&#39;s not working."}],"owner":{"account_id":10617601,"reputation":73,"user_id":7819585,"display_name":"Duega"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":158,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691062359,"creation_date":1691062359,"question_id":76827673,"body_markdown":"I am upgrading Jackson Databind in my project from 2.10.2 to 2.13.5 in Groovy project.\r\nDue to upgradation there is a problem in deserialisation. \r\nIt&#39;s found that deprecation of method ```getGenericType()``` from ```AnnotatedParameter``` Class and In docs it says to use &quot;```Annotated.getType()``` for replacement&quot;, But not working. \r\ngetGenericType&#39;s return type is Type and getType&#39;s return type is JavaType. \r\n\r\nAlthough JavaType is type of Type only. Still facing issue in replacing the method. \r\nI am not able to find any implementation example of the replacement.\r\n[Java Doc of Jackson Databind][1]\r\n\r\nFor reference, Initially we are using \r\n\r\n```\r\nimport com.google.inject.Key\r\n\r\ndef type = Key.get(((AnnotatedMember)m).getGenericType())\r\nvalue = JacksonInject.Value.forId(type)\r\n```\r\n\r\nBut when I use getType in place of getGenericType, It&#39;s throwing exception \r\n\r\n```\r\nERROR [2023-08-03 11:24:25,060] io.dropwizard.jersey.errors.LoggingExceptionMapper: Error handling a request: b279e7ec23f219b9\r\n! java.lang.IllegalArgumentException: Expected a Class, ParameterizedType, or GenericArrayType, but &lt;[simple type, class javax.inject.Provider&lt;java.util.Locale&gt;]&gt; is of type com.fasterxml.jackson.databind.type.SimpleType\r\n! at com.google.inject.internal.MoreTypes.getRawType(MoreTypes.java:209)\r\n! at com.google.inject.TypeLiteral.&lt;init&gt;(TypeLiteral.java:84)\r\n! at com.google.inject.TypeLiteral.get(TypeLiteral.java:145)\r\n! at com.google.inject.Key.&lt;init&gt;(Key.java:123)\r\n! at com.google.inject.Key.get(Key.java:229)\r\n! at com.google.inject.Key$get$2.call(Unknown Source)\r\n! at mgap.system.jackson.ObjectMapperFactory$3.findInjectableValue(ObjectMapperFactory.groovy:72)\r\n! at com.fasterxml.jackson.databind.introspect.AnnotationIntrospectorPair.findInjectableValue(AnnotationIntrospectorPair.java:309)\r\n! at com.fasterxml.jackson.databind.deser.impl.CreatorCandidate.construct(CreatorCandidate.java:32)\r\n! at com.fasterxml.jackson.databind.deser.BasicDeserializerFactory._addExplicitConstructorCreators(BasicDeserializerFactory.java:450)\r\n! at com.fasterxml.jackson.databind.deser.BasicDeserializerFactory._constructDefaultValueInstantiator(BasicDeserializerFactory.java:293)\r\n! at com.fasterxml.jackson.databind.deser.BasicDeserializerFactory.findValueInstantiator(BasicDeserializerFactory.java:222)\r\n! \r\n```\r\n\r\n*Project Tech* : DropWizard, Groovy, Guice, Jackson\r\n\r\n\r\nAny reference / lead will be appreciated. \r\n\r\n\r\n  [1]: https://javadoc.io/static/com.fasterxml.jackson.core/jackson-databind/2.10.2/com/fasterxml/jackson/databind/introspect/AnnotatedParameter.html#getGenericType--","title":"Jackson Databind from 2.10.2 to 2.13.5 , Replace deprecated method Issue","body":"<p>I am upgrading Jackson Databind in my project from 2.10.2 to 2.13.5 in Groovy project.\nDue to upgradation there is a problem in deserialisation.\nIt's found that deprecation of method <code>getGenericType()</code> from <code>AnnotatedParameter</code> Class and In docs it says to use &quot;<code>Annotated.getType()</code> for replacement&quot;, But not working.\ngetGenericType's return type is Type and getType's return type is JavaType.</p>\n<p>Although JavaType is type of Type only. Still facing issue in replacing the method.\nI am not able to find any implementation example of the replacement.\n<a href=\"https://javadoc.io/static/com.fasterxml.jackson.core/jackson-databind/2.10.2/com/fasterxml/jackson/databind/introspect/AnnotatedParameter.html#getGenericType--\" rel=\"nofollow noreferrer\">Java Doc of Jackson Databind</a></p>\n<p>For reference, Initially we are using</p>\n<pre><code>import com.google.inject.Key\n\ndef type = Key.get(((AnnotatedMember)m).getGenericType())\nvalue = JacksonInject.Value.forId(type)\n</code></pre>\n<p>But when I use getType in place of getGenericType, It's throwing exception</p>\n<pre><code>ERROR [2023-08-03 11:24:25,060] io.dropwizard.jersey.errors.LoggingExceptionMapper: Error handling a request: b279e7ec23f219b9\n! java.lang.IllegalArgumentException: Expected a Class, ParameterizedType, or GenericArrayType, but &lt;[simple type, class javax.inject.Provider&lt;java.util.Locale&gt;]&gt; is of type com.fasterxml.jackson.databind.type.SimpleType\n! at com.google.inject.internal.MoreTypes.getRawType(MoreTypes.java:209)\n! at com.google.inject.TypeLiteral.&lt;init&gt;(TypeLiteral.java:84)\n! at com.google.inject.TypeLiteral.get(TypeLiteral.java:145)\n! at com.google.inject.Key.&lt;init&gt;(Key.java:123)\n! at com.google.inject.Key.get(Key.java:229)\n! at com.google.inject.Key$get$2.call(Unknown Source)\n! at mgap.system.jackson.ObjectMapperFactory$3.findInjectableValue(ObjectMapperFactory.groovy:72)\n! at com.fasterxml.jackson.databind.introspect.AnnotationIntrospectorPair.findInjectableValue(AnnotationIntrospectorPair.java:309)\n! at com.fasterxml.jackson.databind.deser.impl.CreatorCandidate.construct(CreatorCandidate.java:32)\n! at com.fasterxml.jackson.databind.deser.BasicDeserializerFactory._addExplicitConstructorCreators(BasicDeserializerFactory.java:450)\n! at com.fasterxml.jackson.databind.deser.BasicDeserializerFactory._constructDefaultValueInstantiator(BasicDeserializerFactory.java:293)\n! at com.fasterxml.jackson.databind.deser.BasicDeserializerFactory.findValueInstantiator(BasicDeserializerFactory.java:222)\n! \n</code></pre>\n<p><em>Project Tech</em> : DropWizard, Groovy, Guice, Jackson</p>\n<p>Any reference / lead will be appreciated.</p>\n"},{"tags":["java","mysql","spring-boot"],"comments":[{"owner":{"account_id":25295091,"reputation":124,"user_id":19120390,"display_name":"Ajaj Ali"},"score":0,"creation_date":1691060725,"post_id":76827426,"comment_id":135441949,"body_markdown":"From your question i understand that your end_date is `2023-08-10` and when you run a update query to set it to `2023-08-09` it gets updated to `09`,is that what you are asking?","body":"From your question i understand that your end_date is <code>2023-08-10</code> and when you run a update query to set it to <code>2023-08-09</code> it gets updated to <code>09</code>,is that what you are asking?"},{"owner":{"account_id":25976960,"reputation":37,"user_id":19691283,"display_name":"Sahil"},"score":0,"creation_date":1691060905,"post_id":76827426,"comment_id":135441979,"body_markdown":"@AjajAli Yes that&#39;s exactly what is happeing right now.","body":"@AjajAli Yes that&#39;s exactly what is happeing right now."},{"owner":{"account_id":10933290,"reputation":2086,"user_id":8035759,"display_name":"Asgar"},"score":0,"creation_date":1691061033,"post_id":76827426,"comment_id":135442008,"body_markdown":"Please show the exact value of `endDate` when you execute your `LocalDate new_end_date = LocalDate.parse(endDate);\n`","body":"Please show the exact value of <code>endDate</code> when you execute your <code>LocalDate new_end_date = LocalDate.parse(endDate); </code>"},{"owner":{"account_id":25976960,"reputation":37,"user_id":19691283,"display_name":"Sahil"},"score":0,"creation_date":1691061591,"post_id":76827426,"comment_id":135442117,"body_markdown":"@Asgar 2023-08-10 this is exactly what I am getting.","body":"@Asgar 2023-08-10 this is exactly what I am getting."},{"owner":{"account_id":10933290,"reputation":2086,"user_id":8035759,"display_name":"Asgar"},"score":0,"creation_date":1691061685,"post_id":76827426,"comment_id":135442140,"body_markdown":"Please mention the data type of `end_date` in your entity class","body":"Please mention the data type of <code>end_date</code> in your entity class"},{"owner":{"account_id":25976960,"reputation":37,"user_id":19691283,"display_name":"Sahil"},"score":0,"creation_date":1691061749,"post_id":76827426,"comment_id":135442158,"body_markdown":"It&#39;s a string like this . String end_date = &quot;2023-08-10&quot;.","body":"It&#39;s a string like this . String end_date = &quot;2023-08-10&quot;."},{"owner":{"account_id":10933290,"reputation":2086,"user_id":8035759,"display_name":"Asgar"},"score":0,"creation_date":1691061795,"post_id":76827426,"comment_id":135442170,"body_markdown":"If it is  String in your entity class, why do you need to parse it into &#39;LocalDate&#39;?","body":"If it is  String in your entity class, why do you need to parse it into &#39;LocalDate&#39;?"},{"owner":{"account_id":25976960,"reputation":37,"user_id":19691283,"display_name":"Sahil"},"score":0,"creation_date":1691063716,"post_id":76827426,"comment_id":135442589,"body_markdown":"@Asgar Thanks mate. I have no idea why I was doing that my bad. \nThanks again","body":"@Asgar Thanks mate. I have no idea why I was doing that my bad.  Thanks again"}],"answers":[{"comments":[{"owner":{"account_id":10933290,"reputation":2086,"user_id":8035759,"display_name":"Asgar"},"score":0,"creation_date":1691067458,"post_id":76827612,"comment_id":135443390,"body_markdown":"Can you explain more? How updating a date explicitly from code might result in changing date in a database in a different time zone?","body":"Can you explain more? How updating a date explicitly from code might result in changing date in a database in a different time zone?"}],"tags":[],"owner":{"account_id":29135505,"reputation":1,"user_id":22319781,"display_name":"Sundram Jaiswal"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691061795,"creation_date":1691061795,"answer_id":76827612,"question_id":76827426,"body_markdown":"it might give error when parsing the date from the string, if database table is in different time zone you can try below code.\r\n\r\n    ZonedDateTime new_end_date  = ZonedDateTime.parse(endDate);\r\n\r\n","title":"myssql table wrong date is getting inserted","body":"<p>it might give error when parsing the date from the string, if database table is in different time zone you can try below code.</p>\n<pre><code>ZonedDateTime new_end_date  = ZonedDateTime.parse(endDate);\n</code></pre>\n"}],"owner":{"account_id":25976960,"reputation":37,"user_id":19691283,"display_name":"Sahil"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691061795,"creation_date":1691060213,"question_id":76827426,"body_markdown":"I am updating one og the tables and that table requires an end date.\r\n\r\n```JAVA\r\nLocalDate new_end_date = LocalDate.parse(endDate);\r\n```\r\nHere endDate is a string so I am converting it to a `LocalDate`.This is what I am getting `new_end_date :2023-08-10` when I am printing this. but in the update query\r\n\r\n```SQL\r\nupdate config_db.user_config_data set end_date=&#39;2023-08-09&#39;,cnf_version=45 where uid=&#39;user12&#39; and key_id=&#39;key12&#39;;\r\n```\r\n\r\nNow in update query it gets changed from 10 to 09 how can I fix this.Please someone solve my issue or atleast give me a path to how i can I solve this.\r\n\r\n","title":"myssql table wrong date is getting inserted","body":"<p>I am updating one og the tables and that table requires an end date.</p>\n<pre><code>LocalDate new_end_date = LocalDate.parse(endDate);\n</code></pre>\n<p>Here endDate is a string so I am converting it to a <code>LocalDate</code>.This is what I am getting <code>new_end_date :2023-08-10</code> when I am printing this. but in the update query</p>\n<pre><code>update config_db.user_config_data set end_date='2023-08-09',cnf_version=45 where uid='user12' and key_id='key12';\n</code></pre>\n<p>Now in update query it gets changed from 10 to 09 how can I fix this.Please someone solve my issue or atleast give me a path to how i can I solve this.</p>\n"},{"tags":["java","mongodb","spring-boot","mongodb-query","spring-data-mongodb"],"answers":[{"comments":[{"owner":{"account_id":15549353,"reputation":147,"user_id":15204797,"display_name":"Pushpak"},"score":0,"creation_date":1690996891,"post_id":76821614,"comment_id":135432096,"body_markdown":"Hey Tom, Thanks for the response. But here I won&#39;t be knowing the hierarchy of attributes in the document. I can just update on the basis of &quot;64ca0aaa731a2a7284c24c5f&quot; attribute.","body":"Hey Tom, Thanks for the response. But here I won&#39;t be knowing the hierarchy of attributes in the document. I can just update on the basis of &quot;64ca0aaa731a2a7284c24c5f&quot; attribute."},{"owner":{"account_id":14916818,"reputation":21534,"user_id":10770370,"display_name":"Tom Slabbaert"},"score":0,"creation_date":1691047453,"post_id":76821614,"comment_id":135439110,"body_markdown":"I don&#39;t understand, `64ca0aaa731a2a7284c24c61` can appear anywhere and in any depth ?","body":"I don&#39;t understand, <code>64ca0aaa731a2a7284c24c61</code> can appear anywhere and in any depth ?"},{"owner":{"account_id":15549353,"reputation":147,"user_id":15204797,"display_name":"Pushpak"},"score":0,"creation_date":1691060838,"post_id":76821614,"comment_id":135441968,"body_markdown":"64ca0aaa731a2a7284c24c61 will appear only once. if it exists then I have to update the value field for that particular object.","body":"64ca0aaa731a2a7284c24c61 will appear only once. if it exists then I have to update the value field for that particular object."}],"tags":[],"owner":{"account_id":14916818,"reputation":21534,"user_id":10770370,"display_name":"Tom Slabbaert"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690991723,"creation_date":1690991723,"answer_id":76821614,"question_id":76821402,"body_markdown":"A simple update operation using the [$][1] identifier operator will suffice:\r\n\r\n\r\n\r\n\r\n```\r\ndb.collection.updateOne(\r\n{\r\n  &quot;sections.name.64ca0aaa731a2a7284c24c5f&quot;: {\r\n    $exists: true\r\n  }\r\n},\r\n{\r\n  &quot;$set&quot;: {\r\n    &quot;sections.$.name.64ca0aaa731a2a7284c24c5f.value&quot;: &quot;newValue&quot;\r\n  }\r\n})\r\n```\r\n[Mongo Playground][2]\r\n\r\n[1]:https://www.mongodb.com/docs/manual/reference/operator/update/positional-filtered/\r\n[2]:https://mongoplayground.net/p/g7dPC9n4h1J","title":"How to update value in below document in MongoDB","body":"<p>A simple update operation using the <a href=\"https://www.mongodb.com/docs/manual/reference/operator/update/positional-filtered/\" rel=\"nofollow noreferrer\">$</a> identifier operator will suffice:</p>\n<pre><code>db.collection.updateOne(\n{\n  &quot;sections.name.64ca0aaa731a2a7284c24c5f&quot;: {\n    $exists: true\n  }\n},\n{\n  &quot;$set&quot;: {\n    &quot;sections.$.name.64ca0aaa731a2a7284c24c5f.value&quot;: &quot;newValue&quot;\n  }\n})\n</code></pre>\n<p><a href=\"https://mongoplayground.net/p/g7dPC9n4h1J\" rel=\"nofollow noreferrer\">Mongo Playground</a></p>\n"}],"owner":{"account_id":15549353,"reputation":147,"user_id":15204797,"display_name":"Pushpak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1691060934,"creation_date":1690990018,"question_id":76821402,"body_markdown":"I have below document in MongoDB in which I want to update the &#39;value&#39; field given the attribute say &#39;64ca0aaa731a2a7284c24c5f here.\r\n\r\n```\r\n{\r\n  &quot;id&quot;: &quot;64ca0aaa731a2a7284c24c57&quot;,\r\n  &quot;sections&quot;: [\r\n    {\r\n      &quot;id&quot;: &quot;64ca0aaa731a2a7284c24c60&quot;,\r\n      &quot;name&quot;: {\r\n        &quot;64ca0aaa731a2a7284c24c5f&quot;: {\r\n          &quot;nodeType&quot;: &quot;nodeName&quot;,\r\n          &quot;value&quot;: &quot;market&quot;\r\n        }\r\n      },\r\n      &quot;categories&quot;: [\r\n        {\r\n          &quot;id&quot;: &quot;64ca0aaa731a2a7284c24c62&quot;,\r\n          &quot;name&quot;: {\r\n            &quot;64ca0aaa731a2a7284c24c61&quot;: {\r\n              &quot;nodeType&quot;: &quot;nodeName&quot;,\r\n              &quot;value&quot;: &quot;Buy/Sell&quot;\r\n            }\r\n          }\r\n        }\r\n      ]\r\n    }\r\n  ]\r\n}\r\n```\r\nWith the attribute &quot;64ca0aaa731a2a7284c24c5f&quot;; here the value of the key &quot;value&quot; is &quot;market&quot;. I want to update it. I am only given &quot;64ca0aaa731a2a7284c24c5f&quot;. How can I do it using Spring Data Mongo or using MongoTemplate?\r\n\r\n\r\nUPDATE\r\n\r\nI was able to write a method to update the JSON document using a recursive method. Improvements in it are welcome.\r\n\r\n```\r\npublic JsonNode updateValueByKey(JsonNode node, String keyToSearch, Object newValue, ObjectMapper mapper) {\r\n        if (node.isObject()) {\r\n            ObjectNode objectNode = (ObjectNode) node;\r\n            JsonNode keyNode = objectNode.get(keyToSearch);\r\n            if (keyNode != null) {\r\n                ObjectNode keyObjectNode = (ObjectNode) keyNode;\r\n                keyObjectNode.put(&quot;value&quot;,mapper.convertValue(newValue, JsonNode.class));\r\n                return node;\r\n            }\r\n            for (JsonNode child : node) {\r\n                updateValueByKey(child, keyToSearch, newValue, mapper);\r\n            }\r\n        } else if (node.isArray()) {\r\n            for (JsonNode child : node) {\r\n                updateValueByKey(child, keyToSearch, newValue, mapper);\r\n            }\r\n        }\r\n        return node;\r\n    }\r\n```","title":"How to update value in below document in MongoDB","body":"<p>I have below document in MongoDB in which I want to update the 'value' field given the attribute say '64ca0aaa731a2a7284c24c5f here.</p>\n<pre><code>{\n  &quot;id&quot;: &quot;64ca0aaa731a2a7284c24c57&quot;,\n  &quot;sections&quot;: [\n    {\n      &quot;id&quot;: &quot;64ca0aaa731a2a7284c24c60&quot;,\n      &quot;name&quot;: {\n        &quot;64ca0aaa731a2a7284c24c5f&quot;: {\n          &quot;nodeType&quot;: &quot;nodeName&quot;,\n          &quot;value&quot;: &quot;market&quot;\n        }\n      },\n      &quot;categories&quot;: [\n        {\n          &quot;id&quot;: &quot;64ca0aaa731a2a7284c24c62&quot;,\n          &quot;name&quot;: {\n            &quot;64ca0aaa731a2a7284c24c61&quot;: {\n              &quot;nodeType&quot;: &quot;nodeName&quot;,\n              &quot;value&quot;: &quot;Buy/Sell&quot;\n            }\n          }\n        }\n      ]\n    }\n  ]\n}\n</code></pre>\n<p>With the attribute &quot;64ca0aaa731a2a7284c24c5f&quot;; here the value of the key &quot;value&quot; is &quot;market&quot;. I want to update it. I am only given &quot;64ca0aaa731a2a7284c24c5f&quot;. How can I do it using Spring Data Mongo or using MongoTemplate?</p>\n<p>UPDATE</p>\n<p>I was able to write a method to update the JSON document using a recursive method. Improvements in it are welcome.</p>\n<pre><code>public JsonNode updateValueByKey(JsonNode node, String keyToSearch, Object newValue, ObjectMapper mapper) {\n        if (node.isObject()) {\n            ObjectNode objectNode = (ObjectNode) node;\n            JsonNode keyNode = objectNode.get(keyToSearch);\n            if (keyNode != null) {\n                ObjectNode keyObjectNode = (ObjectNode) keyNode;\n                keyObjectNode.put(&quot;value&quot;,mapper.convertValue(newValue, JsonNode.class));\n                return node;\n            }\n            for (JsonNode child : node) {\n                updateValueByKey(child, keyToSearch, newValue, mapper);\n            }\n        } else if (node.isArray()) {\n            for (JsonNode child : node) {\n                updateValueByKey(child, keyToSearch, newValue, mapper);\n            }\n        }\n        return node;\n    }\n</code></pre>\n"},{"tags":["java","maven","plugins","pom.xml"],"comments":[{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":0,"creation_date":1691061046,"post_id":76827493,"comment_id":135442012,"body_markdown":"What about `mvn clean`?","body":"What about <code>mvn clean</code>?"},{"owner":{"account_id":26036770,"reputation":11,"user_id":19742116,"display_name":"Albert Albatros"},"score":0,"creation_date":1691061151,"post_id":76827493,"comment_id":135442029,"body_markdown":"I&#39;ve tried it, but didnt work. In which phase should i do this?","body":"I&#39;ve tried it, but didnt work. In which phase should i do this?"},{"owner":{"account_id":26036770,"reputation":11,"user_id":19742116,"display_name":"Albert Albatros"},"score":0,"creation_date":1691062397,"post_id":76827493,"comment_id":135442304,"body_markdown":"Or can i modify css file in target folder with maven plugin?","body":"Or can i modify css file in target folder with maven plugin?"},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1691075043,"post_id":76827493,"comment_id":135445271,"body_markdown":"@AlbertAlbatros I cannot really follow you. `mvn clean` deletes all files in the target folder.","body":"@AlbertAlbatros I cannot really follow you. <code>mvn clean</code> deletes all files in the target folder."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1691077948,"post_id":76827493,"comment_id":135445914,"body_markdown":"Why is the maven-resources-plugin explicitly configured instead of using the default...","body":"Why is the maven-resources-plugin explicitly configured instead of using the default..."},{"owner":{"account_id":26036770,"reputation":11,"user_id":19742116,"display_name":"Albert Albatros"},"score":0,"creation_date":1691129772,"post_id":76827493,"comment_id":135452616,"body_markdown":"@JFabianMeier yes but i want to delete only that one file","body":"@JFabianMeier yes but i want to delete only that one file"}],"owner":{"account_id":26036770,"reputation":11,"user_id":19742116,"display_name":"Albert Albatros"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691060748,"creation_date":1691060748,"question_id":76827493,"body_markdown":"is it possible to to delete files from target folder in maven project? I have swagger CSS file and i want to replace it with my modified version. When i try to copy .txt file to target folder it works, but when i change to .css file its not replacing the old file. Is it even possible to copy CSS files with maven plugin? My plugin: \r\n\r\n       &lt;plugin&gt;\r\n            &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.3.0&lt;/version&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;id&gt;copy-resource-one&lt;/id&gt;\r\n                &lt;phase&gt;generate-resources&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;copy-resources&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                  &lt;outputDirectory&gt;target/${project.artifactId}-${project.version}/css&lt;/outputDirectory&gt;\r\n                  &lt;resources&gt;\r\n                    &lt;resource&gt;\r\n                      &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n                      &lt;includes&gt;\r\n                        &lt;include&gt;main.css&lt;/include&gt;\r\n                      &lt;/includes&gt;\r\n                    &lt;/resource&gt;\r\n                  &lt;/resources&gt;\r\n                &lt;/configuration&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n          &lt;/plugin&gt;\r\nThanks in advance for every answer.\r\n","title":"Deleting files from target folder with maven plugin","body":"<p>is it possible to to delete files from target folder in maven project? I have swagger CSS file and i want to replace it with my modified version. When i try to copy .txt file to target folder it works, but when i change to .css file its not replacing the old file. Is it even possible to copy CSS files with maven plugin? My plugin:</p>\n<pre><code>   &lt;plugin&gt;\n        &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.3.0&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;id&gt;copy-resource-one&lt;/id&gt;\n            &lt;phase&gt;generate-resources&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;copy-resources&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n              &lt;outputDirectory&gt;target/${project.artifactId}-${project.version}/css&lt;/outputDirectory&gt;\n              &lt;resources&gt;\n                &lt;resource&gt;\n                  &lt;directory&gt;src/main/resources&lt;/directory&gt;\n                  &lt;includes&gt;\n                    &lt;include&gt;main.css&lt;/include&gt;\n                  &lt;/includes&gt;\n                &lt;/resource&gt;\n              &lt;/resources&gt;\n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n</code></pre>\n<p>Thanks in advance for every answer.</p>\n"},{"tags":["java","eclipse","selenium-webdriver","selenium-chromedriver"],"comments":[{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1691047745,"post_id":76825544,"comment_id":135439168,"body_markdown":"Well that error means that your Java code (not Javascript) does not compile - you need to sort out the compilation problems.","body":"Well that error means that your Java code (not Javascript) does not compile - you need to sort out the compilation problems."},{"owner":{"account_id":29149896,"reputation":11,"user_id":22330976,"display_name":"vishwa netsol"},"score":0,"creation_date":1691048403,"post_id":76825544,"comment_id":135439329,"body_markdown":"I tried but after complete installation of jar files, the jar file get unresolved at the time of running the java code.","body":"I tried but after complete installation of jar files, the jar file get unresolved at the time of running the java code."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1691053947,"post_id":76825544,"comment_id":135440488,"body_markdown":"Your Java code is invalid: in `Mysecondclass.java`, line 11 there is a syntax error that prevents this part to be compiled. Maybe you just missed to add the import statement for `WebDriver`. It&#39;s hard to help without the code. So please show your code.","body":"Your Java code is invalid: in <code>Mysecondclass.java</code>, line 11 there is a syntax error that prevents this part to be compiled. Maybe you just missed to add the import statement for <code>WebDriver</code>. It&#39;s hard to help without the code. So please show your code."},{"owner":{"account_id":29149896,"reputation":11,"user_id":22330976,"display_name":"vishwa netsol"},"score":0,"creation_date":1691058286,"post_id":76825544,"comment_id":135441474,"body_markdown":"The code is added in the details of questions. Thank you all of you for helping me.","body":"The code is added in the details of questions. Thank you all of you for helping me."},{"owner":{"account_id":6875395,"reputation":1037,"user_id":5284011,"display_name":"JohnXF"},"score":0,"creation_date":1691058842,"post_id":76825544,"comment_id":135441593,"body_markdown":"You mention Eclipse not finding jar files. Do you have the jars that include the the `webdriver` and `chromedriver` classes? You haven&#39;t imported them into the class shown above so is another class in your code referencing them? At a minimum you will need to import those classes into `Mysecondclass` and fix the Eclipse project setup so it can find the classes at compile and run time.","body":"You mention Eclipse not finding jar files. Do you have the jars that include the the <code>webdriver</code> and <code>chromedriver</code> classes? You haven&#39;t imported them into the class shown above so is another class in your code referencing them? At a minimum you will need to import those classes into <code>Mysecondclass</code> and fix the Eclipse project setup so it can find the classes at compile and run time."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1691059859,"post_id":76825544,"comment_id":135441796,"body_markdown":"After `package package1;` the lines `import org.openqa.selenium.WebDriver;` and `import org.openqa.selenium.chrome.ChromeDriver;` are missing.","body":"After <code>package package1;</code> the lines <code>import org.openqa.selenium.WebDriver;</code> and <code>import org.openqa.selenium.chrome.ChromeDriver;</code> are missing."}],"owner":{"account_id":29149896,"reputation":11,"user_id":22330976,"display_name":"vishwa netsol"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691060312,"creation_date":1691045620,"question_id":76825544,"body_markdown":"```java\r\npackage package1;\r\n\r\npublic class Mysecondclass {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;E:\\\\selenium servers files\\\\chromedriver.exe&quot;);\r\n\t\t WebDriver driver=new ChromeDriver();\r\n\t\t driver.get(&quot;https://api.whitelion.in/api&quot;);\r\n\t\t\r\n    }\r\n\r\n}\r\n```\r\nThe JAR file is not able to find webdriver as well as chromedriver error arise after running the code. The error is like \r\n```none\r\nException in thread &quot;main&quot; java.lang.Error: Unresolved compilation problems: \r\n\tWebDriver cannot be resolved to a type\r\n\tChromeDriver cannot be resolved to a type\r\n\r\n\tat javanew/package1.Mysecondclass.main(Mysecondclass.java:11)\r\n```\r\nI expected to run the code and provide me the error log of particular website and to resolve it so that website project can upload live.","title":"How to solve error with java.lang.error with &quot;mysecondclass.java:11&quot;?","body":"<pre class=\"lang-java prettyprint-override\"><code>package package1;\n\npublic class Mysecondclass {\n\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n        System.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;E:\\\\selenium servers files\\\\chromedriver.exe&quot;);\n         WebDriver driver=new ChromeDriver();\n         driver.get(&quot;https://api.whitelion.in/api&quot;);\n        \n    }\n\n}\n</code></pre>\n<p>The JAR file is not able to find webdriver as well as chromedriver error arise after running the code. The error is like</p>\n<pre class=\"lang-none prettyprint-override\"><code>Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problems: \n    WebDriver cannot be resolved to a type\n    ChromeDriver cannot be resolved to a type\n\n    at javanew/package1.Mysecondclass.main(Mysecondclass.java:11)\n</code></pre>\n<p>I expected to run the code and provide me the error log of particular website and to resolve it so that website project can upload live.</p>\n"},{"tags":["java","file-io","performance"],"comments":[{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":3,"creation_date":1291309612,"post_id":4337485,"comment_id":4715646,"body_markdown":"the key question, is the data in a binary or text format? This is not clear in your question.","body":"the key question, is the data in a binary or text format? This is not clear in your question."}],"answers":[{"tags":[],"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1291309007,"creation_date":1291308681,"answer_id":4337543,"question_id":4337485,"body_markdown":"If you want to randomly access data, you need to be able to determine where to start and where to finish.  With a text format this can be tricky and you may have to read all the previous lines/text to find the one you want.\r\n\r\nWith binary formats, you may be able to calculate exactly where you want to read, but you need to know how the number was encoded. e.g. was it big endian or little endian?\r\n\r\nScanner may not be optimal for text, and useless for binary data, but if may be more than fast enough.\r\n\r\nMuch of the time taken to scan a large file is the time it takes to read off disk (assuming it won&#39;t fit in memory) you can speed up this significantly if the file compresses well, e.g. text full of numbers does. Instead of taking 20 seconds to read it might take only 2 seconds if compressed. (And it might fit in the OS file cache)","title":"RandomAccessFile readInt","body":"<p>If you want to randomly access data, you need to be able to determine where to start and where to finish.  With a text format this can be tricky and you may have to read all the previous lines/text to find the one you want.</p>\n\n<p>With binary formats, you may be able to calculate exactly where you want to read, but you need to know how the number was encoded. e.g. was it big endian or little endian?</p>\n\n<p>Scanner may not be optimal for text, and useless for binary data, but if may be more than fast enough.</p>\n\n<p>Much of the time taken to scan a large file is the time it takes to read off disk (assuming it won't fit in memory) you can speed up this significantly if the file compresses well, e.g. text full of numbers does. Instead of taking 20 seconds to read it might take only 2 seconds if compressed. (And it might fit in the OS file cache)</p>\n"},{"comments":[{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":1,"creation_date":1291309562,"post_id":4337655,"comment_id":4715634,"body_markdown":"You can also use ByteBuffer when memory mapping your data.","body":"You can also use ByteBuffer when memory mapping your data."}],"tags":[],"owner":{"account_id":680124,"reputation":19,"user_id":528307,"display_name":"Michael Krussel"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1291309349,"creation_date":1291309349,"answer_id":4337655,"question_id":4337485,"body_markdown":"A possible reason for the large number may be due to byte ordering.  Java uses Big Endian by default when reading from a channel.  If the file you are reading from is Little Endian, then small numbers will become large, because the least significant byte becomes the most significant byte.\r\n\r\nYou can change the byte ordering of ByteBuffer by using the order method.","title":"RandomAccessFile readInt","body":"<p>A possible reason for the large number may be due to byte ordering.  Java uses Big Endian by default when reading from a channel.  If the file you are reading from is Little Endian, then small numbers will become large, because the least significant byte becomes the most significant byte.</p>\n\n<p>You can change the byte ordering of ByteBuffer by using the order method.</p>\n"},{"comments":[{"owner":{"account_id":36232,"reputation":26946,"user_id":103206,"accept_rate":67,"display_name":"Jay"},"score":0,"creation_date":1291733105,"post_id":4337914,"comment_id":4768079,"body_markdown":"Vachovsky: Do you understand that how you read depends on how the file was written? You can&#39;t just decide to read a file as binary if it was written as text or vice-versa.","body":"Vachovsky: Do you understand that how you read depends on how the file was written? You can&#39;t just decide to read a file as binary if it was written as text or vice-versa."}],"tags":[],"owner":{"account_id":36232,"reputation":26946,"user_id":103206,"accept_rate":67,"display_name":"Jay"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1291310939,"creation_date":1291310939,"answer_id":4337914,"question_id":4337485,"body_markdown":"This all depends on how the numbers are stored.\r\n\r\nI guess the short answer is: One way or another, you have to know where the number starts and where it ends, and whether it is stored as text or in binary, and if it&#39;s in binary what the byte order is, i.e. little-endian or big-endian.\r\n\r\nIf it&#39;s stored as text, build a String from the digits, then call Integer.parseInt on that String. (Or if it&#39;s a floating point number, Double.parseDouble, etc for other data types.)\r\n\r\nIf it&#39;s stored as a binary integer, then read the bytes in to an array, or read them one by one, then multiply by powers of 256 and add together.\r\n\r\nFor example, suppose you have a four-byte number in little-endian order. You read it into a byte array of size 4. Then:\r\n\r\n    byte[] incoming=new byte[4];\r\n    file.read(incoming);\r\n    int n=0;\r\n    for (int p=0;p&lt;4;++p)\r\n      n=n*256+incoming[p];\r\n    return n;\r\n","title":"RandomAccessFile readInt","body":"<p>This all depends on how the numbers are stored.</p>\n\n<p>I guess the short answer is: One way or another, you have to know where the number starts and where it ends, and whether it is stored as text or in binary, and if it's in binary what the byte order is, i.e. little-endian or big-endian.</p>\n\n<p>If it's stored as text, build a String from the digits, then call Integer.parseInt on that String. (Or if it's a floating point number, Double.parseDouble, etc for other data types.)</p>\n\n<p>If it's stored as a binary integer, then read the bytes in to an array, or read them one by one, then multiply by powers of 256 and add together.</p>\n\n<p>For example, suppose you have a four-byte number in little-endian order. You read it into a byte array of size 4. Then:</p>\n\n<pre><code>byte[] incoming=new byte[4];\nfile.read(incoming);\nint n=0;\nfor (int p=0;p&lt;4;++p)\n  n=n*256+incoming[p];\nreturn n;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":49859,"reputation":4437,"user_id":148607,"accept_rate":96,"display_name":"Justin"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1291311220,"creation_date":1291311220,"answer_id":4337963,"question_id":4337485,"body_markdown":"If your numbers are stored as text readInt() won&#39;t work.  You must parse the file, it is the only way.","title":"RandomAccessFile readInt","body":"<p>If your numbers are stored as text readInt() won't work.  You must parse the file, it is the only way.</p>\n"}],"owner":{"account_id":209359,"reputation":1128,"user_id":460329,"accept_rate":42,"display_name":"mr. Vachovsky"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2988,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":4337543,"answer_count":4,"score":0,"last_activity_date":1691060222,"creation_date":1291308326,"question_id":4337485,"body_markdown":"How to read numbers from a file? When I use the readInt method, I get a big number, and it is not equal to the number from the file. How to fix it?\r\n\r\nScanner is not good idea, because file contains more then 1000 millions numbers, it will take a very long time.\r\n\r\nThis is a text file. The file contains numbers divided by space symbols. for example ( test.txt ) \r\n\r\n```none\r\n1 2 4 -4004 15458 8876 \r\n```\r\n\r\n```java\r\npublic static void readByMemoryMappedFile(int buffer[], String filename) throws IOException {\r\n  int count = 0;\r\n  RandomAccessFile raf = new RandomAccessFile(filename, &quot;r&quot;);\r\n  try {\r\n\r\n    MappedByteBuffer mapFile = raf.getChannel().map(MapMode.READ_ONLY, 0, raf.length());\r\n\r\n    StringBuilder b = new StringBuilder();\r\n    try {\r\n      while (mapFile.hasRemaining()) {\r\n        byte read = mapFile.get();\r\n        if (read == &#39; &#39; &amp;&amp; b.length() &gt; 0) {\r\n          buffer[count++] = mapFile.getInt();//Integer.parseInt(b.toString());\r\n          b.delete(0, b.length());\r\n        } else {\r\n          b.append((char) read);\r\n        }\r\n      }\r\n    } catch (BufferUnderflowException e) {\r\n      // Всё, файл закончился\r\n    }\r\n    if (b.length() &gt; 0) {\r\n      buffer[count++] = Integer.parseInt(b.toString());\r\n    }\r\n  } finally {\r\n    raf.close();\r\n  }\r\n}\r\n\r\nSo, I attached a report:\r\n\r\n```none\r\n// operation: time\r\nreading: 39719   // t0\r\nreading: 28297   // t1\r\nreading: 56719   // t2\r\nreading: 125735  // t3\r\nreading: 199000  // t4\r\n```\r\n\r\nt0 &lt; t1 &lt; t2 &lt; t3 &lt; t4  \r\n\r\nHow to change behavior of my program that get this: t0 ~ t1 ~ t2 ~ t3 ~ t4?","title":"RandomAccessFile readInt","body":"<p>How to read numbers from a file? When I use the readInt method, I get a big number, and it is not equal to the number from the file. How to fix it?</p>\n<p>Scanner is not good idea, because file contains more then 1000 millions numbers, it will take a very long time.</p>\n<p>This is a text file. The file contains numbers divided by space symbols. for example ( test.txt )</p>\n<pre class=\"lang-none prettyprint-override\"><code>1 2 4 -4004 15458 8876 \n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public static void readByMemoryMappedFile(int buffer[], String filename) throws IOException {\n  int count = 0;\n  RandomAccessFile raf = new RandomAccessFile(filename, &quot;r&quot;);\n  try {\n\n    MappedByteBuffer mapFile = raf.getChannel().map(MapMode.READ_ONLY, 0, raf.length());\n\n    StringBuilder b = new StringBuilder();\n    try {\n      while (mapFile.hasRemaining()) {\n        byte read = mapFile.get();\n        if (read == ' ' &amp;&amp; b.length() &gt; 0) {\n          buffer[count++] = mapFile.getInt();//Integer.parseInt(b.toString());\n          b.delete(0, b.length());\n        } else {\n          b.append((char) read);\n        }\n      }\n    } catch (BufferUnderflowException e) {\n      // Всё, файл закончился\n    }\n    if (b.length() &gt; 0) {\n      buffer[count++] = Integer.parseInt(b.toString());\n    }\n  } finally {\n    raf.close();\n  }\n}\n\nSo, I attached a report:\n\n```none\n// operation: time\nreading: 39719   // t0\nreading: 28297   // t1\nreading: 56719   // t2\nreading: 125735  // t3\nreading: 199000  // t4\n</code></pre>\n<p>t0 &lt; t1 &lt; t2 &lt; t3 &lt; t4</p>\n<p>How to change behavior of my program that get this: t0 ~ t1 ~ t2 ~ t3 ~ t4?</p>\n"},{"tags":["java","spring-boot","spring-scheduled"],"comments":[{"owner":{"account_id":8609535,"reputation":398,"user_id":6448412,"display_name":"Laugslander"},"score":0,"creation_date":1605636897,"post_id":64880738,"comment_id":114710033,"body_markdown":"This post might be helpful: https://stackoverflow.com/questions/17327956/testing-scheduled-in-spring","body":"This post might be helpful: <a href=\"https://stackoverflow.com/questions/17327956/testing-scheduled-in-spring\" title=\"testing scheduled in spring\">stackoverflow.com/questions/17327956/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":3755816,"reputation":183,"user_id":3122205,"display_name":"Ben Ooms"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1605829451,"creation_date":1605829451,"answer_id":64921709,"question_id":64880738,"body_markdown":"Well if you really want to test the execution you will have to spend new years eve monitoring the application ;&lt;)\r\n\r\nIf you want to test that the scheduling has been setup properly and that your task is scheduled then you can autowire the ScheduledStaskHolder and query it for your task.\r\nAssuming this implementation:\r\n````\r\npackage nl.benooms.scheduledannotationplayground;\r\n@Service\r\npublic class FixedDateSchedule {\r\n    @Scheduled(cron = &quot;0 0 0 1 1 *&quot;)\r\n    public void OnceAYearCron() {\r\n        System.out.println(&quot;yearly&quot;);\r\n    }\r\n}\r\n````\r\nThen the test could be:\r\n````\r\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.NONE)\r\nclass FixedDateScheduleTest {\r\n\r\n    @Autowired\r\n    private ScheduledTaskHolder scheduledTaskHolder;\r\n\r\n    @Test\r\n    public void testYearlyCronTaskScheduled() {\r\n        Set&lt;ScheduledTask&gt; scheduledTasks = scheduledTaskHolder.getScheduledTasks();\r\n        scheduledTasks.forEach(scheduledTask -&gt; scheduledTask.getTask().getRunnable().getClass().getDeclaredMethods());\r\n        long count = scheduledTasks.stream()\r\n                .filter(scheduledTask -&gt; scheduledTask.getTask() instanceof CronTask)\r\n                .map(scheduledTask -&gt; (CronTask) scheduledTask.getTask())\r\n                .filter(cronTask -&gt; cronTask.getExpression().equals(&quot;0 0 0 1 1 *&quot;) &amp;&amp; cronTask.toString().equals(&quot;nl.benooms.scheduledannotationplayground.FixedDateSchedule.OnceAYearCron&quot;))\r\n                .count();\r\n        assertThat(count).isEqualTo(1L);\r\n    }\r\n}\r\n````\r\n\r\nTest will fail if:\r\n- @Scheduled or @EnableScheduling is not set \r\n- the cron expression is not exact\r\n- the class and method name don&#39;t correspond\r\nPlease note that I would format the test in a more readable format if not a sample\r\n\r\n","title":"Test a @Scheduled function in Spring-boot with cron property","body":"<p>Well if you really want to test the execution you will have to spend new years eve monitoring the application ;&lt;)</p>\n<p>If you want to test that the scheduling has been setup properly and that your task is scheduled then you can autowire the ScheduledStaskHolder and query it for your task.\nAssuming this implementation:</p>\n<pre><code>package nl.benooms.scheduledannotationplayground;\n@Service\npublic class FixedDateSchedule {\n    @Scheduled(cron = &quot;0 0 0 1 1 *&quot;)\n    public void OnceAYearCron() {\n        System.out.println(&quot;yearly&quot;);\n    }\n}\n</code></pre>\n<p>Then the test could be:</p>\n<pre><code>@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.NONE)\nclass FixedDateScheduleTest {\n\n    @Autowired\n    private ScheduledTaskHolder scheduledTaskHolder;\n\n    @Test\n    public void testYearlyCronTaskScheduled() {\n        Set&lt;ScheduledTask&gt; scheduledTasks = scheduledTaskHolder.getScheduledTasks();\n        scheduledTasks.forEach(scheduledTask -&gt; scheduledTask.getTask().getRunnable().getClass().getDeclaredMethods());\n        long count = scheduledTasks.stream()\n                .filter(scheduledTask -&gt; scheduledTask.getTask() instanceof CronTask)\n                .map(scheduledTask -&gt; (CronTask) scheduledTask.getTask())\n                .filter(cronTask -&gt; cronTask.getExpression().equals(&quot;0 0 0 1 1 *&quot;) &amp;&amp; cronTask.toString().equals(&quot;nl.benooms.scheduledannotationplayground.FixedDateSchedule.OnceAYearCron&quot;))\n                .count();\n        assertThat(count).isEqualTo(1L);\n    }\n}\n</code></pre>\n<p>Test will fail if:</p>\n<ul>\n<li>@Scheduled or @EnableScheduling is not set</li>\n<li>the cron expression is not exact</li>\n<li>the class and method name don't correspond\nPlease note that I would format the test in a more readable format if not a sample</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":12135313,"reputation":35,"user_id":8860945,"display_name":"Raphael De Lio"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1629457294,"creation_date":1629447123,"answer_id":68858957,"question_id":64880738,"body_markdown":"I was trying to do exactly what Ben Ooms suggested and it wasn&#39;t working for me. \r\n\r\nI hadn&#39;t set my scheduled tasks using the annotation, I had implemented a workaround to get them scheduled using an autowired &quot;TaskScheduler&quot; and I wasn&#39;t able to find my scheduled tasks in the ScheduledTaskHolder, although it was working. \r\n\r\nTurns out I had to declare a Bean like:\r\n```\r\n@Configuration\r\nclass SchedulerConfiguration {\r\n    @Bean\r\n    fun threadPoolTaskScheduler(): TaskScheduler {\r\n        val scheduler = ThreadPoolTaskScheduler()\r\n        scheduler.poolSize = 20\r\n        return scheduler\r\n    }\r\n}\r\n```\r\n\r\nAnd schedule my tasks using an interface: `SchedulingConfigurer`:\r\n\r\n```\r\nclass MySchedulers(\r\n    private val myService: MyService,\r\n    @Qualifier(&quot;threadPoolTaskScheduler&quot;) private val threadPoolTaskScheduler: TaskScheduler\r\n) : SchedulingConfigurer {\r\n\r\n    private val logger = Logger(this::class.java)\r\n    private val cronExpression = &quot;0 0 10 * * *&quot;\r\n\r\n    override fun configureTasks(taskRegistrar: ScheduledTaskRegistrar) {\r\n        taskRegistrar.setTaskScheduler(threadPoolTaskScheduler)\r\n\r\n        logger.info(&quot;Setting scheduler cron=$cronExpression&quot;)\r\n        taskRegistrar.addCronTask(CronTask({ runMyTask() }, CronTrigger(cronExpression)))\r\n        }\r\n    }\r\n\r\n    private fun runMyTask() {\r\n        myService.update()\r\n    }\r\n}\r\n```\r\n\r\n\r\nAnd then I could successfully find my scheduled tasks using ScheduledTaskHolder as suggested by Ben Ooms.","title":"Test a @Scheduled function in Spring-boot with cron property","body":"<p>I was trying to do exactly what Ben Ooms suggested and it wasn't working for me.</p>\n<p>I hadn't set my scheduled tasks using the annotation, I had implemented a workaround to get them scheduled using an autowired &quot;TaskScheduler&quot; and I wasn't able to find my scheduled tasks in the ScheduledTaskHolder, although it was working.</p>\n<p>Turns out I had to declare a Bean like:</p>\n<pre><code>@Configuration\nclass SchedulerConfiguration {\n    @Bean\n    fun threadPoolTaskScheduler(): TaskScheduler {\n        val scheduler = ThreadPoolTaskScheduler()\n        scheduler.poolSize = 20\n        return scheduler\n    }\n}\n</code></pre>\n<p>And schedule my tasks using an interface: <code>SchedulingConfigurer</code>:</p>\n<pre><code>class MySchedulers(\n    private val myService: MyService,\n    @Qualifier(&quot;threadPoolTaskScheduler&quot;) private val threadPoolTaskScheduler: TaskScheduler\n) : SchedulingConfigurer {\n\n    private val logger = Logger(this::class.java)\n    private val cronExpression = &quot;0 0 10 * * *&quot;\n\n    override fun configureTasks(taskRegistrar: ScheduledTaskRegistrar) {\n        taskRegistrar.setTaskScheduler(threadPoolTaskScheduler)\n\n        logger.info(&quot;Setting scheduler cron=$cronExpression&quot;)\n        taskRegistrar.addCronTask(CronTask({ runMyTask() }, CronTrigger(cronExpression)))\n        }\n    }\n\n    private fun runMyTask() {\n        myService.update()\n    }\n}\n</code></pre>\n<p>And then I could successfully find my scheduled tasks using ScheduledTaskHolder as suggested by Ben Ooms.</p>\n"},{"tags":[],"owner":{"account_id":163820,"reputation":11607,"user_id":386201,"accept_rate":75,"display_name":"Stuck"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1630622521,"creation_date":1630622521,"answer_id":69037734,"question_id":64880738,"body_markdown":"Think about **what** you actually want to test.\r\n\r\n1) I think you should not test whether `@Scheduled` is doing what it is meant to do. This test should be part of the spring framework and you should not care for testing the framework.\r\n\r\n2) If you apply `@Scheduled` correctly could be a meaningful test and a solution is provided by Ben Ooms answer. However, it is very likely that you applied it correctly and once you run your app in dev mode it is very likely to see that it works or not.\r\n\r\n3) ​**More Important** *Testing if your `cron` specification is correctly modeling the domain needs*.\r\n\r\n    a)\r\n    It&#39;s more important from my perception, because it is easy to mess it up, because it does not have explicit notation for each value and is different from UNIX cron jobs. A test could take the specified annotation value and check if it models the domain requirements, i.e. that your `0 0 1 1 *`-String actually means `executed at 1 January 00:00 of each year`.\r\n\r\n    b) Another approach to testing this can be to manipulate the `Clock` during a test to set it explicitly to the expected time and see if the scheduler triggers the method. However, this might not catch all cases - especially not the false-positives (i.e. the scheduler might trigger at the expected moment, but also triggers at other moments where it should not).\r\n\r\n4) **More Important**: *Testing that the scheduled method actually does what it should*.\r\nThis can be a simple unit test but might involve integration tests depending on the domain requirements. The unit test is completely independent of the scheduling mechanics and hence can be implemented as any other unit test (e.g. using a mockito runner).\r\n\r\n\r\n\r\nI think 3) might be critical or not so important depending on the use case while 4) is **always very important**. Hence, both should probably be part of the testing strategy. On the other hand, 1) should not be tested and 2) is nice, but probably is over engineering the test.","title":"Test a @Scheduled function in Spring-boot with cron property","body":"<p>Think about <strong>what</strong> you actually want to test.</p>\n<ol>\n<li><p>I think you should not test whether <code>@Scheduled</code> is doing what it is meant to do. This test should be part of the spring framework and you should not care for testing the framework.</p>\n</li>\n<li><p>If you apply <code>@Scheduled</code> correctly could be a meaningful test and a solution is provided by Ben Ooms answer. However, it is very likely that you applied it correctly and once you run your app in dev mode it is very likely to see that it works or not.</p>\n</li>\n<li><p>​<strong>More Important</strong> <em>Testing if your <code>cron</code> specification is correctly modeling the domain needs</em>.</p>\n<p>a)\nIt's more important from my perception, because it is easy to mess it up, because it does not have explicit notation for each value and is different from UNIX cron jobs. A test could take the specified annotation value and check if it models the domain requirements, i.e. that your <code>0 0 1 1 *</code>-String actually means <code>executed at 1 January 00:00 of each year</code>.</p>\n<p>b) Another approach to testing this can be to manipulate the <code>Clock</code> during a test to set it explicitly to the expected time and see if the scheduler triggers the method. However, this might not catch all cases - especially not the false-positives (i.e. the scheduler might trigger at the expected moment, but also triggers at other moments where it should not).</p>\n</li>\n<li><p><strong>More Important</strong>: <em>Testing that the scheduled method actually does what it should</em>.\nThis can be a simple unit test but might involve integration tests depending on the domain requirements. The unit test is completely independent of the scheduling mechanics and hence can be implemented as any other unit test (e.g. using a mockito runner).</p>\n</li>\n</ol>\n<p>I think 3) might be critical or not so important depending on the use case while 4) is <strong>always very important</strong>. Hence, both should probably be part of the testing strategy. On the other hand, 1) should not be tested and 2) is nice, but probably is over engineering the test.</p>\n"}],"owner":{"account_id":5761811,"reputation":107,"user_id":4547986,"accept_rate":75,"display_name":"hansi wasd"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10288,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":3,"score":8,"last_activity_date":1691059971,"creation_date":1605635889,"question_id":64880738,"body_markdown":"I would like to test if my Cron-job will be executed at the given time (1 January 00:00 of each year). Is there a way to test this? \r\nUnfortunately every example I could found online, refers to jobs that will be executed after a fix period e.g. all 5 seconds.(https://www.baeldung.com/spring-testing-scheduled-annotation).\r\n\r\n\r\n\r\n```\r\n    @Scheduled(cron = &quot; 0 0 1 1 *&quot;)\r\n    public void myFunc() {\r\n         do something\r\n    }\r\n```","title":"Test a @Scheduled function in Spring-boot with cron property","body":"<p>I would like to test if my Cron-job will be executed at the given time (1 January 00:00 of each year). Is there a way to test this?\nUnfortunately every example I could found online, refers to jobs that will be executed after a fix period e.g. all 5 seconds.(<a href=\"https://www.baeldung.com/spring-testing-scheduled-annotation\" rel=\"noreferrer\">https://www.baeldung.com/spring-testing-scheduled-annotation</a>).</p>\n<pre><code>    @Scheduled(cron = &quot; 0 0 1 1 *&quot;)\n    public void myFunc() {\n         do something\n    }\n</code></pre>\n"},{"tags":["java","selenium","google-chrome","selenium-webdriver","selenium-chromedriver"],"answers":[{"comments":[{"owner":{"account_id":11026363,"reputation":21,"user_id":8099153,"display_name":"Fedor Gabrus"},"score":0,"creation_date":1641819580,"post_id":70652174,"comment_id":124898512,"body_markdown":"Unfortunately, it doesn&#39;t work. I have a feeling that --safebrowsing-disable-download-protection and --safebrowsing-disable-extension-blacklist have been deprecated for quite a while.","body":"Unfortunately, it doesn&#39;t work. I have a feeling that --safebrowsing-disable-download-protection and --safebrowsing-disable-extension-blacklist have been deprecated for quite a while."}],"tags":[],"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641816648,"creation_date":1641816648,"answer_id":70652174,"question_id":70650307,"body_markdown":"Remove the argument:\r\n\r\n    prefs.put(&quot;safebrowsing.enabled&quot;, true);\r\n\r\nThe following arguments:\r\n\r\n    options.addArguments(&quot;--safebrowsing-disable-download-protection&quot;);\r\n    options.addArguments(&quot;--safebrowsing-disable-extension-blacklist&quot;);\r\n\r\nshould do the job.","title":"Selenium ChromeDriver Keep and Discard issue while downloading","body":"<p>Remove the argument:</p>\n<pre><code>prefs.put(&quot;safebrowsing.enabled&quot;, true);\n</code></pre>\n<p>The following arguments:</p>\n<pre><code>options.addArguments(&quot;--safebrowsing-disable-download-protection&quot;);\noptions.addArguments(&quot;--safebrowsing-disable-extension-blacklist&quot;);\n</code></pre>\n<p>should do the job.</p>\n"}],"owner":{"account_id":11026363,"reputation":21,"user_id":8099153,"display_name":"Fedor Gabrus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1874,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1691059342,"creation_date":1641807347,"question_id":70650307,"body_markdown":"Can&#39;t bypass &#39;**This type of file can harm your computer**&#39;.\r\n\r\nUse Java and *Chrome Driver 97+*.\r\n\r\nTried:\r\n\r\n    Map&lt;String, Object&gt; prefs = new HashMap&lt;&gt;();\r\n    prefs.put(&quot;download.default_directory&quot;, &quot;C:\\\\Users\\\\Fedor\\\\Downloads&quot;);\r\n    prefs.put(&quot;download.prompt_for_download&quot;, false);\r\n    prefs.put(&quot;profile.default_content_settings.popups&quot;, 0);\r\n    prefs.put(&quot;safebrowsing.enabled&quot;, true);\r\n    prefs.put(&quot;download.extensions_to_open&quot;, &quot;text/x-python&quot;);\r\n        \r\n    ChromeOptions options = new ChromeOptions();\r\n    options.setExperimentalOption(&quot;prefs&quot;, prefs);\r\n    options.addArguments(&quot;start-maximized&quot;);\r\n    options.addArguments(&quot;--safebrowsing-disable-download-protection&quot;);\r\n    options.addArguments(&quot;--safebrowsing-disable-extension-blacklist&quot;);\r\n\r\n    driver = new ChromeDriver(options);\r\n \r\nBut no luck...\r\n[![enter image description here][1]][1]\r\n\r\nFor those who think it&#39;s a duplicate, the following links are ***useless*** with the current driver version: \r\n\r\n - [How to hide the warning &quot;This type of file can harm your computer&quot; while downloading .xml file using Chrome Chromedriver 79 with Selenium Java][2]\r\n - [How to disable &#39;This type of file can harm your computer&#39; pop up][3]\r\n - [Unable to download file using ChromeDriver][4]\r\n - [ChromeOption &#39;--safebrowsing-disable-download-protection&#39; doesn&#39;t disables the download warning in Chrome version 67.x][5]\r\n - [How to disable &#39;This type of file can harm your computer&#39; pop up][6]\r\n - [XML file download blocked in selenium chromedriver][7]\r\n - [Download .xml file with selenium chrome driver][8]\r\n - [How to use chrome webdriver in selenium to download files in python?][9]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2YoXu.png\r\n  [2]: https://stackoverflow.com/questions/59840198/how-to-hide-the-warning-this-type-of-file-can-harm-your-computer-while-downloa\r\n  [3]: https://stackoverflow.com/questions/34130774/how-to-disable-this-type-of-file-can-harm-your-computer-pop-up\r\n  [4]: https://stackoverflow.com/questions/37319393/unable-to-download-file-using-chromedriver\r\n  [5]: https://stackoverflow.com/questions/51405048/chromeoption-safebrowsing-disable-download-protection-doesnt-disables-the-d\r\n  [6]: http://stackoverflow.com/questions/34130774/how-to-disable-this-type-of-file-can-harm-your-computer-pop-up\r\n  [7]: https://stackoverflow.com/questions/51114736/xml-file-download-blocked-in-selenium-chromedriver\r\n  [8]: https://stackoverflow.com/questions/61762357/download-xml-file-with-selenium-chrome-driver\r\n  [9]: https://stackoverflow.com/questions/46937319/how-to-use-chrome-webdriver-in-selenium-to-download-files-in-python","title":"Selenium ChromeDriver Keep and Discard issue while downloading","body":"<p>Can't bypass '<strong>This type of file can harm your computer</strong>'.</p>\n<p>Use Java and <em>Chrome Driver 97+</em>.</p>\n<p>Tried:</p>\n<pre><code>Map&lt;String, Object&gt; prefs = new HashMap&lt;&gt;();\nprefs.put(&quot;download.default_directory&quot;, &quot;C:\\\\Users\\\\Fedor\\\\Downloads&quot;);\nprefs.put(&quot;download.prompt_for_download&quot;, false);\nprefs.put(&quot;profile.default_content_settings.popups&quot;, 0);\nprefs.put(&quot;safebrowsing.enabled&quot;, true);\nprefs.put(&quot;download.extensions_to_open&quot;, &quot;text/x-python&quot;);\n    \nChromeOptions options = new ChromeOptions();\noptions.setExperimentalOption(&quot;prefs&quot;, prefs);\noptions.addArguments(&quot;start-maximized&quot;);\noptions.addArguments(&quot;--safebrowsing-disable-download-protection&quot;);\noptions.addArguments(&quot;--safebrowsing-disable-extension-blacklist&quot;);\n\ndriver = new ChromeDriver(options);\n</code></pre>\n<p>But no luck...\n<a href=\"https://i.stack.imgur.com/2YoXu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2YoXu.png\" alt=\"enter image description here\" /></a></p>\n<p>For those who think it's a duplicate, the following links are <em><strong>useless</strong></em> with the current driver version:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/59840198/how-to-hide-the-warning-this-type-of-file-can-harm-your-computer-while-downloa\">How to hide the warning &quot;This type of file can harm your computer&quot; while downloading .xml file using Chrome Chromedriver 79 with Selenium Java</a></li>\n<li><a href=\"https://stackoverflow.com/questions/34130774/how-to-disable-this-type-of-file-can-harm-your-computer-pop-up\">How to disable 'This type of file can harm your computer' pop up</a></li>\n<li><a href=\"https://stackoverflow.com/questions/37319393/unable-to-download-file-using-chromedriver\">Unable to download file using ChromeDriver</a></li>\n<li><a href=\"https://stackoverflow.com/questions/51405048/chromeoption-safebrowsing-disable-download-protection-doesnt-disables-the-d\">ChromeOption '--safebrowsing-disable-download-protection' doesn't disables the download warning in Chrome version 67.x</a></li>\n<li><a href=\"http://stackoverflow.com/questions/34130774/how-to-disable-this-type-of-file-can-harm-your-computer-pop-up\">How to disable 'This type of file can harm your computer' pop up</a></li>\n<li><a href=\"https://stackoverflow.com/questions/51114736/xml-file-download-blocked-in-selenium-chromedriver\">XML file download blocked in selenium chromedriver</a></li>\n<li><a href=\"https://stackoverflow.com/questions/61762357/download-xml-file-with-selenium-chrome-driver\">Download .xml file with selenium chrome driver</a></li>\n<li><a href=\"https://stackoverflow.com/questions/46937319/how-to-use-chrome-webdriver-in-selenium-to-download-files-in-python\">How to use chrome webdriver in selenium to download files in python?</a></li>\n</ul>\n"},{"tags":["java","android","kotlin","bluetooth","bluetoothheadset"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1690903860,"post_id":76811749,"comment_id":135416495,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1690911589,"post_id":76811749,"comment_id":135418016,"body_markdown":"You&#39;ve given us some statements. But, you didn&#39;t actually ask something. Please edit the question, and explicitly tell us what you want to do.","body":"You&#39;ve given us some statements. But, you didn&#39;t actually ask something. Please edit the question, and explicitly tell us what you want to do."},{"owner":{"account_id":1654563,"reputation":57569,"user_id":1524450,"display_name":"Michael"},"score":0,"creation_date":1691060307,"post_id":76811749,"comment_id":135441880,"body_markdown":"What kind of headset exactly? And what type of audio are you trying to play? IIRC, SCO is limited to 8 or 16 kHz.","body":"What kind of headset exactly? And what type of audio are you trying to play? IIRC, SCO is limited to 8 or 16 kHz."},{"owner":{"account_id":8316878,"reputation":11,"user_id":6249828,"display_name":"Mayank Kansal"},"score":0,"creation_date":1691074199,"post_id":76811749,"comment_id":135445064,"body_markdown":"Yes, I&#39;ll play sound tones from 125 Hz to 12.5kHz (some targeted tones in this range). It is BLE and BRD type headphone, and for android we are using BRD.","body":"Yes, I&#39;ll play sound tones from 125 Hz to 12.5kHz (some targeted tones in this range). It is BLE and BRD type headphone, and for android we are using BRD."}],"owner":{"account_id":8316878,"reputation":11,"user_id":6249828,"display_name":"Mayank Kansal"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1691058720,"creation_date":1690893822,"question_id":76811749,"body_markdown":"In my app, I need to take input voice(surrounding noise)from the headset and at the same time need to play some tone as output sound in the headset.\r\n\r\n\r\nHowever, during the search, I found that it is not possible to input the noise and send the output as sound/music. But with voice calls, When using Bluetooth SCO the input (microphone) and output (speaker) audio are managed separately by the system. During a phone call, Android&#39;s telephony stack handles this functionality, enabling both the microphone input and speaker output through the Bluetooth SCO connection.\r\n\r\nI have used below to use the headset mic. \r\n\r\n    audiomanager.setBluetoothScoOn(true);\r\n\r\nis there any way to take input from the headset and send output some music) at the same time?","title":"Route MIC input through headset and at the same time AUDIO output through same headset","body":"<p>In my app, I need to take input voice(surrounding noise)from the headset and at the same time need to play some tone as output sound in the headset.</p>\n<p>However, during the search, I found that it is not possible to input the noise and send the output as sound/music. But with voice calls, When using Bluetooth SCO the input (microphone) and output (speaker) audio are managed separately by the system. During a phone call, Android's telephony stack handles this functionality, enabling both the microphone input and speaker output through the Bluetooth SCO connection.</p>\n<p>I have used below to use the headset mic.</p>\n<pre><code>audiomanager.setBluetoothScoOn(true);\n</code></pre>\n<p>is there any way to take input from the headset and send output some music) at the same time?</p>\n"},{"tags":["java","debugging","intellij-idea"],"answers":[{"comments":[{"owner":{"account_id":1022335,"reputation":922,"user_id":1032359,"accept_rate":80,"display_name":"Jiechao Wang"},"score":0,"creation_date":1522783282,"post_id":47884439,"comment_id":86282986,"body_markdown":"The second link is not found","body":"The second link is not found"},{"owner":{"account_id":1047596,"reputation":9325,"user_id":1052284,"accept_rate":44,"display_name":"Mark Jeronimus"},"score":7,"creation_date":1528184990,"post_id":47884439,"comment_id":88398968,"body_markdown":"I have no suspended threads and this happens to me. The entire application is running and I get these yellow messages if I try to break.","body":"I have no suspended threads and this happens to me. The entire application is running and I get these yellow messages if I try to break."},{"owner":{"account_id":6124082,"reputation":2803,"user_id":4776689,"accept_rate":61,"display_name":"P_M"},"score":5,"creation_date":1589271304,"post_id":47884439,"comment_id":109219106,"body_markdown":"This not works for me, sorry. And I am an Ultimate edition user. I do not think IntelliJ IDE should skip breakpoints when developer explicitly put it in some method. Why would I need breakpoints at all if IDE skips them? In addition to that I would rather prefer to see answer to topic starter question instead of tedious IntelliJ bug track link.","body":"This not works for me, sorry. And I am an Ultimate edition user. I do not think IntelliJ IDE should skip breakpoints when developer explicitly put it in some method. Why would I need breakpoints at all if IDE skips them? In addition to that I would rather prefer to see answer to topic starter question instead of tedious IntelliJ bug track link."},{"owner":{"account_id":5880500,"reputation":1177,"user_id":4630050,"display_name":"Ariel Mirra"},"score":1,"creation_date":1652730408,"post_id":47884439,"comment_id":127672131,"body_markdown":"Didn&#39;t work for me, macOS, IntelliJ IDEA Ultimate 2022.1","body":"Didn&#39;t work for me, macOS, IntelliJ IDEA Ultimate 2022.1"},{"owner":{"account_id":3106126,"reputation":31281,"user_id":2628868,"accept_rate":84,"display_name":"Dolphin"},"score":0,"creation_date":1667109905,"post_id":47884439,"comment_id":131090431,"body_markdown":"Didn&#39;t work for me, macOS 12.5, IntelliJ IDEA Ultimate 2022.1","body":"Didn&#39;t work for me, macOS 12.5, IntelliJ IDEA Ultimate 2022.1"},{"owner":{"account_id":12908744,"reputation":3232,"user_id":9335205,"accept_rate":50,"display_name":"JGleason"},"score":0,"creation_date":1698262187,"post_id":47884439,"comment_id":136384450,"body_markdown":"I was getting this in a step out so I can&#39;t really configure the breakpoint. Any way in the scenario @Egor?","body":"I was getting this in a step out so I can&#39;t really configure the breakpoint. Any way in the scenario @Egor?"}],"tags":[],"owner":{"account_id":6862510,"reputation":2494,"user_id":5276012,"display_name":"Egor"},"comment_count":6,"down_vote_count":1,"up_vote_count":70,"is_accepted":true,"score":69,"last_activity_date":1545148948,"creation_date":1513677842,"answer_id":47884439,"question_id":47866398,"body_markdown":"The problem is described in [IDEA-43728][1] and in the [breakpoints documentation][2].\r\n\r\nIn short, to avoid it use suspend thread (not all) breakpoint policy.\r\n\r\n\r\n  [1]: https://youtrack.jetbrains.com/issue/IDEA-43728\r\n  [2]: https://www.jetbrains.com/help/idea/using-breakpoints.html#breakpoint-properties","title":"Skipped breakpoint because it happened inside debugger evaluation - Intellij IDEA","body":"<p>The problem is described in <a href=\"https://youtrack.jetbrains.com/issue/IDEA-43728\" rel=\"noreferrer\">IDEA-43728</a> and in the <a href=\"https://www.jetbrains.com/help/idea/using-breakpoints.html#breakpoint-properties\" rel=\"noreferrer\">breakpoints documentation</a>.</p>\n\n<p>In short, to avoid it use suspend thread (not all) breakpoint policy.</p>\n"},{"comments":[{"owner":{"account_id":5880500,"reputation":1177,"user_id":4630050,"display_name":"Ariel Mirra"},"score":2,"creation_date":1652730388,"post_id":60699888,"comment_id":127672127,"body_markdown":"Didn&#39;t work for me, macOS, IntelliJ IDEA Ultimate 2022.1","body":"Didn&#39;t work for me, macOS, IntelliJ IDEA Ultimate 2022.1"},{"owner":{"account_id":1386556,"reputation":7199,"user_id":1318479,"accept_rate":88,"display_name":"cb4"},"score":0,"creation_date":1656437548,"post_id":60699888,"comment_id":128570557,"body_markdown":"Worked on Win11, IntelliJ Ultimate 2022.1.3.","body":"Worked on Win11, IntelliJ Ultimate 2022.1.3."}],"tags":[],"owner":{"account_id":6715802,"reputation":457,"user_id":5213068,"accept_rate":100,"display_name":"hedleyyan"},"comment_count":2,"down_vote_count":2,"up_vote_count":19,"is_accepted":false,"score":17,"last_activity_date":1584328302,"creation_date":1584328302,"answer_id":60699888,"question_id":47866398,"body_markdown":"try disable the &#39;toString()&#39; object view\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qCdeD.png","title":"Skipped breakpoint because it happened inside debugger evaluation - Intellij IDEA","body":"<p>try disable the 'toString()' object view\n<a href=\"https://i.stack.imgur.com/qCdeD.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/qCdeD.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":4356026,"reputation":1989,"user_id":3554624,"display_name":"panser"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1597653439,"creation_date":1597653439,"answer_id":63447369,"question_id":47866398,"body_markdown":"I got the same, and **disable this** helped me \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZlawZ.png","title":"Skipped breakpoint because it happened inside debugger evaluation - Intellij IDEA","body":"<p>I got the same, and <strong>disable this</strong> helped me</p>\n<p><a href=\"https://i.stack.imgur.com/ZlawZ.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/ZlawZ.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":4996819,"reputation":309,"user_id":4017098,"display_name":"sankar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678470141,"creation_date":1678470141,"answer_id":75699394,"question_id":47866398,"body_markdown":"Selecting the below checkbox helped me to minimize this error frequency. &quot;Settings | Build, Execution, Deployment | Debugger | Stepping - Resume only the current thread&quot; (as per suggestion in a fix https://youtrack.jetbrains.com/issue/IDEA-43728)\r\n","title":"Skipped breakpoint because it happened inside debugger evaluation - Intellij IDEA","body":"<p>Selecting the below checkbox helped me to minimize this error frequency. &quot;Settings | Build, Execution, Deployment | Debugger | Stepping - Resume only the current thread&quot; (as per suggestion in a fix <a href=\"https://youtrack.jetbrains.com/issue/IDEA-43728\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issue/IDEA-43728</a>)</p>\n"},{"tags":[],"owner":{"account_id":10121318,"reputation":421,"user_id":7478145,"display_name":"elgsylvain85"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687870270,"creation_date":1687870270,"answer_id":76565051,"question_id":47866398,"body_markdown":"Click on &quot;View breakpoints&quot; (Shift+Cmd+F8) and unselect all","title":"Skipped breakpoint because it happened inside debugger evaluation - Intellij IDEA","body":"<p>Click on &quot;View breakpoints&quot; (Shift+Cmd+F8) and unselect all</p>\n"}],"owner":{"account_id":8579296,"reputation":734,"user_id":7019931,"display_name":"Roman Khomyshynets"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45345,"favorite_count":0,"down_vote_count":0,"up_vote_count":60,"accepted_answer_id":47884439,"answer_count":5,"score":60,"last_activity_date":1691058095,"creation_date":1513592705,"question_id":47866398,"body_markdown":"When I try to pick a breakpoint on any executive line of any method of my project, and I know that this method should be invoked for example 4 times, Intellij skips this breakpoint for 3 times and stops only on the last invocation.\r\nMethod example (Endpoint class):\r\n\r\n    \t@PayloadRoot(localPart = &quot;getRelatedCIs&quot;, namespace = &quot;http://www.projectname.com/ws&quot;)\r\n\tpublic GetRelatedCIsResponse getRelatedCIs(GetRelatedCIs request) throws DataAccessException, WebServiceException {\r\n\t\tGetRelatedCIsResponse response = new GetRelatedCIsResponse();\r\n\t\tPageData page = request.getPageData();\r\n\t\tList&lt;ConfigItemReference&gt; ciRefs = translateCiRefList(request.getCiRef());\r\n\t\tRelatedCiResult relatedCis = configItemService.getRelatedCis(ciRefs, request.getRequestedType(),\r\n\t\t\t\tnew Page(page.getPageNumber(), page.getPageSize(), page.getTotal()), request.getSort());\r\n\t\tresponse.getCis().addAll(relatedCis.getCis());\r\n\t\tpage.setTotal(relatedCis.getPageInfo().getTotal());\r\n\t\tpage.setPageSize(relatedCis.getPageInfo().getPageSize());\r\n\t\tresponse.setPageData(page);\r\n\t\tSystem.out.println(&quot;****************************INVOCATION***************************&quot; + request.getRequestedType());\r\n\t\treturn response;\r\n\t}\r\n\r\nBreakpoint is picked on the first line of the method. When program is stopped, there are already printed in console 3 lines ****************************INVOCATION***************************\r\n\r\nIn the left bottom part of the screen appears green notification:\r\n\r\n **Skipped breakpoint at %code reference% because it happened inside debugger evaluation**\r\n\r\nBut I don&#39;t use any Evaluate Expression functionality when I perform debugging.\r\nAlso there are my VM options of Run/Debug Configurations:\r\n\r\n    -XX:MaxPermSize=512m \r\n    -Xms256m \r\n    -Xmx1024m \r\n    -Dcom.sun.management.jmxremote=true \r\n    -Dcom.sun.management.jmxremote.port=9004 \r\n    -Dcom.sun.management.jmxremote.authenticate=false \r\n    -Dcom.sun.management.jmxremote.ssl=false\r\n\r\n\r\n","title":"Skipped breakpoint because it happened inside debugger evaluation - Intellij IDEA","body":"<p>When I try to pick a breakpoint on any executive line of any method of my project, and I know that this method should be invoked for example 4 times, Intellij skips this breakpoint for 3 times and stops only on the last invocation.\nMethod example (Endpoint class):</p>\n\n<pre><code>    @PayloadRoot(localPart = \"getRelatedCIs\", namespace = \"http://www.projectname.com/ws\")\npublic GetRelatedCIsResponse getRelatedCIs(GetRelatedCIs request) throws DataAccessException, WebServiceException {\n    GetRelatedCIsResponse response = new GetRelatedCIsResponse();\n    PageData page = request.getPageData();\n    List&lt;ConfigItemReference&gt; ciRefs = translateCiRefList(request.getCiRef());\n    RelatedCiResult relatedCis = configItemService.getRelatedCis(ciRefs, request.getRequestedType(),\n            new Page(page.getPageNumber(), page.getPageSize(), page.getTotal()), request.getSort());\n    response.getCis().addAll(relatedCis.getCis());\n    page.setTotal(relatedCis.getPageInfo().getTotal());\n    page.setPageSize(relatedCis.getPageInfo().getPageSize());\n    response.setPageData(page);\n    System.out.println(\"****************************INVOCATION***************************\" + request.getRequestedType());\n    return response;\n}\n</code></pre>\n\n<p>Breakpoint is picked on the first line of the method. When program is stopped, there are already printed in console 3 lines ****************************INVOCATION***************************</p>\n\n<p>In the left bottom part of the screen appears green notification:</p>\n\n<p><strong>Skipped breakpoint at %code reference% because it happened inside debugger evaluation</strong></p>\n\n<p>But I don't use any Evaluate Expression functionality when I perform debugging.\nAlso there are my VM options of Run/Debug Configurations:</p>\n\n<pre><code>-XX:MaxPermSize=512m \n-Xms256m \n-Xmx1024m \n-Dcom.sun.management.jmxremote=true \n-Dcom.sun.management.jmxremote.port=9004 \n-Dcom.sun.management.jmxremote.authenticate=false \n-Dcom.sun.management.jmxremote.ssl=false\n</code></pre>\n"},{"tags":["java","android","android-studio","google-drive-api"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":1,"creation_date":1691061312,"post_id":76827079,"comment_id":135442065,"body_markdown":"`String downloadUrl = connection.getHeaderField(&quot;Content-Disposition&quot;);` You are saving some header field to file. But you should read the data from connection. Open an inputstream where you read the data from.","body":"<code>String downloadUrl = connection.getHeaderField(&quot;Content-Disposition&quot;);</code> You are saving some header field to file. But you should read the data from connection. Open an inputstream where you read the data from."}],"owner":{"account_id":28884413,"reputation":1,"user_id":22123118,"display_name":"Not Beluga"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691057528,"creation_date":1691057528,"question_id":76827079,"body_markdown":"```\r\npackage com.example.download;\r\nimport android.os.AsyncTask;\r\nimport android.os.Environment;\r\nimport android.widget.Toast;\r\n\r\nimport java.io.File;\r\nimport java.io.FileOutputStream;\r\nimport java.io.IOException;\r\nimport java.net.HttpURLConnection;\r\nimport java.net.URL;\r\n\r\npublic class CreateJavaFile extends AsyncTask&lt;String, Void, File&gt;{\r\n    private File file;\r\n\r\n    @Override\r\n    protected File doInBackground(String... strings) {\r\n        String googleDriveLink = strings[0];\r\n        String downloadUrl = null;\r\n        try {\r\n            downloadUrl = getDownloadUrl(googleDriveLink);\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n        file = new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS), &quot;pdf.pdf&quot;);\r\n        try (FileOutputStream fos = new FileOutputStream(file)) {\r\n            byte[] bytes = downloadUrl.getBytes();\r\n            fos.write(bytes);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return file;\r\n    }\r\n\r\n    @Override\r\n    protected void onPostExecute(File file) {\r\n        if (file != null) {\r\n\r\n            System.out.println(&quot;downloaded file&quot;);\r\n        } else {\r\n            System.out.println(&quot;error in downloading file&quot;);\r\n        }\r\n    }\r\n\r\n    private String getDownloadUrl(String googleDriveLink) throws IOException {\r\n        URL url = new URL(googleDriveLink);\r\n        HttpURLConnection connection = (HttpURLConnection) url.openConnection();\r\n        connection.setRequestMethod(&quot;GET&quot;);\r\n        connection.setRequestProperty(&quot;Accept&quot;, &quot;application/octet-stream&quot;);\r\n        int responseCode = connection.getResponseCode();\r\n        if (responseCode == 200) {\r\n            String downloadUrl = connection.getHeaderField(&quot;Content-Disposition&quot;);\r\n            return downloadUrl;\r\n        } else {\r\n            throw new IOException(&quot;Error downloading file: &quot; + responseCode);\r\n        }\r\n    }\r\n}\r\n\r\n```\r\ni used the above code but i am able to download a file and if i open manually it shows an error \r\nthat the file formate is not correct and file size is also 10 times lesser than the original file(size of pdf was in bytes)\r\n\r\n\r\nhelp me out to solve this ","title":"how can i download a pdf file from google link using java (android studio)","body":"<pre><code>package com.example.download;\nimport android.os.AsyncTask;\nimport android.os.Environment;\nimport android.widget.Toast;\n\nimport java.io.File;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.net.HttpURLConnection;\nimport java.net.URL;\n\npublic class CreateJavaFile extends AsyncTask&lt;String, Void, File&gt;{\n    private File file;\n\n    @Override\n    protected File doInBackground(String... strings) {\n        String googleDriveLink = strings[0];\n        String downloadUrl = null;\n        try {\n            downloadUrl = getDownloadUrl(googleDriveLink);\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n        file = new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS), &quot;pdf.pdf&quot;);\n        try (FileOutputStream fos = new FileOutputStream(file)) {\n            byte[] bytes = downloadUrl.getBytes();\n            fos.write(bytes);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        return file;\n    }\n\n    @Override\n    protected void onPostExecute(File file) {\n        if (file != null) {\n\n            System.out.println(&quot;downloaded file&quot;);\n        } else {\n            System.out.println(&quot;error in downloading file&quot;);\n        }\n    }\n\n    private String getDownloadUrl(String googleDriveLink) throws IOException {\n        URL url = new URL(googleDriveLink);\n        HttpURLConnection connection = (HttpURLConnection) url.openConnection();\n        connection.setRequestMethod(&quot;GET&quot;);\n        connection.setRequestProperty(&quot;Accept&quot;, &quot;application/octet-stream&quot;);\n        int responseCode = connection.getResponseCode();\n        if (responseCode == 200) {\n            String downloadUrl = connection.getHeaderField(&quot;Content-Disposition&quot;);\n            return downloadUrl;\n        } else {\n            throw new IOException(&quot;Error downloading file: &quot; + responseCode);\n        }\n    }\n}\n\n</code></pre>\n<p>i used the above code but i am able to download a file and if i open manually it shows an error\nthat the file formate is not correct and file size is also 10 times lesser than the original file(size of pdf was in bytes)</p>\n<p>help me out to solve this</p>\n"},{"tags":["java","android","gradle","ffmpeg","repository"],"answers":[{"tags":[],"owner":{"account_id":16099845,"reputation":386,"user_id":11620930,"display_name":"ibrhm117"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1691057456,"creation_date":1691057456,"answer_id":76827065,"question_id":76814047,"body_markdown":"I personally would not prefer to add the full FFMPEG SDK, as it increases the app size exponentially, however using [Arthenica&#39;s FFMPEG-KIT][1] seems the easiest way to get FFMPEG into a project\r\n\r\n    implementation &quot;com.arthenica:ffmpeg-kit-min-gpl:5.1.LTS&quot;\r\n\r\nThis new FFMPEG-KIT not only has a reduction in size, but the commands also execute quicker and have better async support and much easier implementation.\r\n\r\nTo use you just have to import \r\n\r\n    import com.arthenica.ffmpegkit.FFmpegKit\r\n    import com.arthenica.ffmpegkit.ReturnCode\r\n\r\nand then : \r\n\r\n    FFmpegKit.executeAsync(cmdString , {\r\n\t\twhen {\r\n\t\t\tReturnCode.isSuccess(it.returnCode) -&gt; {\r\n\t\t\t\tprintln(&quot;FFMPEG SUCCESS :${it.state.name}&quot;)\r\n\t\t\t}\r\n\r\n\t\t\tReturnCode.isCancel(it.returnCode) -&gt; {\r\n\t\t\t\tprintln(&quot;FFMPEG CANCELLED :${it.returnCode}&quot;)\r\n\t\t\t}\r\n\r\n\t\t\tit.returnCode.isValueError -&gt; {\r\n\t\t\t\tprintln(&quot;FFMPEG ERROR :${it.logs.last()}&quot;)\r\n\t\t\t}\r\n\t\t}\r\n\t} , {\r\n\t\tprintln(&quot;FFMEPG LOG :${it.message}&quot;)\r\n\t} , {\r\n\t\tprintln(&quot;FFMEPG STATS :${it.speed}&quot;)\r\n\t})\r\n\r\nhere `cmdString`, is a string of commands, your commands should work but the only issue I ran into was that I had to use `-y -i` instead of `-f` which seemed to run the commands.\r\n\r\n\r\n\r\n  [1]: https://github.com/arthenica/ffmpeg-kit","title":"How to import FFmpeg into Android project","body":"<p>I personally would not prefer to add the full FFMPEG SDK, as it increases the app size exponentially, however using <a href=\"https://github.com/arthenica/ffmpeg-kit\" rel=\"nofollow noreferrer\">Arthenica's FFMPEG-KIT</a> seems the easiest way to get FFMPEG into a project</p>\n<pre><code>implementation &quot;com.arthenica:ffmpeg-kit-min-gpl:5.1.LTS&quot;\n</code></pre>\n<p>This new FFMPEG-KIT not only has a reduction in size, but the commands also execute quicker and have better async support and much easier implementation.</p>\n<p>To use you just have to import</p>\n<pre><code>import com.arthenica.ffmpegkit.FFmpegKit\nimport com.arthenica.ffmpegkit.ReturnCode\n</code></pre>\n<p>and then :</p>\n<pre><code>FFmpegKit.executeAsync(cmdString , {\n    when {\n        ReturnCode.isSuccess(it.returnCode) -&gt; {\n            println(&quot;FFMPEG SUCCESS :${it.state.name}&quot;)\n        }\n\n        ReturnCode.isCancel(it.returnCode) -&gt; {\n            println(&quot;FFMPEG CANCELLED :${it.returnCode}&quot;)\n        }\n\n        it.returnCode.isValueError -&gt; {\n            println(&quot;FFMPEG ERROR :${it.logs.last()}&quot;)\n        }\n    }\n} , {\n    println(&quot;FFMEPG LOG :${it.message}&quot;)\n} , {\n    println(&quot;FFMEPG STATS :${it.speed}&quot;)\n})\n</code></pre>\n<p>here <code>cmdString</code>, is a string of commands, your commands should work but the only issue I ran into was that I had to use <code>-y -i</code> instead of <code>-f</code> which seemed to run the commands.</p>\n"}],"owner":{"account_id":28218518,"reputation":17,"user_id":21569643,"display_name":"Vyacheslav Parinov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":178,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76827065,"answer_count":1,"score":0,"last_activity_date":1691057456,"creation_date":1690911651,"question_id":76814047,"body_markdown":"I&#39;m trying to convert series of images into video.\r\nFor that I&#39;m adding FFmpeg into my Android project.\r\nHowever it is not adding properly, so I can&#39;t import class FFmpeg into the code.\r\nin the statement &quot;int rc = FFmpeg.execute(command);&quot; FFmpeg is highlighted in red.\r\n\r\nI think something wrong with libraries. Could you please give suggestion how import libraries correctly?\r\n\r\nMy Manifest file below\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.TimelapseLite&quot;\r\n        tools:targetApi=&quot;31&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n\r\n\r\nMy settings.gradle file\r\n\r\n    pluginManagement {\r\n    repositories {\r\n        google()\r\n        mavenCentral()\r\n        gradlePluginPortal()\r\n    }\r\n}\r\n\r\n    dependencyResolutionManagement {\r\n    repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)\r\n    repositories {\r\n        google()\r\n        mavenCentral()\r\n    }\r\n}\r\nrootProject.name = &quot;TimelapseLite&quot;\r\ninclude &#39;:app&#39;\r\n\r\n\r\nMy build.gradle file\r\n\r\n    plugins {\r\n        id &#39;com.android.application&#39;\r\n    }\r\n    \r\n    android {\r\n        namespace &#39;ae.vpdev.timelapselite&#39;\r\n        compileSdk 33\r\n\r\n    defaultConfig {\r\n        applicationId &quot;ae.vpdev.timelapselite&quot;\r\n        minSdk 26\r\n        targetSdk 33\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n}\r\n\r\n\r\ndependencies {\r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.6.1&#39;\r\n    implementation &#39;com.google.android.material:material:1.9.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n    implementation &#39;com.arthenica:mobile-ffmpeg-full:4.5.LTS&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.5&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.5.1&#39;\r\n}\r\n\r\n\r\nMy code in MainActivity\r\n\r\n    private void convertImagesToVideo() {\r\n        StringBuilder imageListFileContent = new StringBuilder();\r\n        for (Uri imageUri : selectedImages) {\r\n            imageListFileContent.append(&quot;file &#39;&quot;).append(imageUri.getPath()).append(&quot;&#39;\\n&quot;);\r\n        }\r\n\r\n        try {\r\n            File imageListFile = new File(getCacheDir(), &quot;image_list.txt&quot;);\r\n            FileWriter writer = new FileWriter(imageListFile);\r\n            writer.append(imageListFileContent.toString());\r\n            writer.flush();\r\n            writer.close();\r\n\r\n            File outputFile = new File(getExternalFilesDir(null), &quot;output_video.mp4&quot;);\r\n            String outputFilePath = outputFile.getAbsolutePath();\r\n\r\n            String command = &quot;-f concat -safe 0 -i &quot; + imageListFile.getAbsolutePath() +\r\n                    &quot; -vf \\&quot;scale=-2:720\\&quot; -r 30 -c:v libx264 -pix_fmt yuv420p &quot; + outputFilePath;\r\n\r\n            int rc = FFmpeg.execute(command);\r\n\r\n            if (rc == RETURN_CODE_SUCCESS) {\r\n                Log.d(&quot;FFmpeg&quot;, &quot;Video conversion completed successfully&quot;);\r\n                // Now you can use the outputFilePath to play or share the video\r\n            } else {\r\n                Log.d(&quot;FFmpeg&quot;, &quot;Video conversion failed&quot;);\r\n            }\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to import FFmpeg into Android project","body":"<p>I'm trying to convert series of images into video.\nFor that I'm adding FFmpeg into my Android project.\nHowever it is not adding properly, so I can't import class FFmpeg into the code.\nin the statement &quot;int rc = FFmpeg.execute(command);&quot; FFmpeg is highlighted in red.</p>\n<p>I think something wrong with libraries. Could you please give suggestion how import libraries correctly?</p>\n<p>My Manifest file below</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n</code></pre>\n<p></p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n\n&lt;application\n    android:allowBackup=&quot;true&quot;\n    android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n    android:fullBackupContent=&quot;@xml/backup_rules&quot;\n    android:icon=&quot;@mipmap/ic_launcher&quot;\n    android:label=&quot;@string/app_name&quot;\n    android:supportsRtl=&quot;true&quot;\n    android:theme=&quot;@style/Theme.TimelapseLite&quot;\n    tools:targetApi=&quot;31&quot;&gt;\n    &lt;activity\n        android:name=&quot;.MainActivity&quot;\n        android:exported=&quot;true&quot;&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n            &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n&lt;/application&gt;\n</code></pre>\n\n<p>My settings.gradle file</p>\n<pre><code>pluginManagement {\nrepositories {\n    google()\n    mavenCentral()\n    gradlePluginPortal()\n}\n</code></pre>\n<p>}</p>\n<pre><code>dependencyResolutionManagement {\nrepositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)\nrepositories {\n    google()\n    mavenCentral()\n}\n</code></pre>\n<p>}\nrootProject.name = &quot;TimelapseLite&quot;\ninclude ':app'</p>\n<p>My build.gradle file</p>\n<pre><code>plugins {\n    id 'com.android.application'\n}\n\nandroid {\n    namespace 'ae.vpdev.timelapselite'\n    compileSdk 33\n\ndefaultConfig {\n    applicationId &quot;ae.vpdev.timelapselite&quot;\n    minSdk 26\n    targetSdk 33\n    versionCode 1\n    versionName &quot;1.0&quot;\n\n    testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n}\n\nbuildTypes {\n    release {\n        minifyEnabled false\n        proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n    }\n}\ncompileOptions {\n    sourceCompatibility JavaVersion.VERSION_1_8\n    targetCompatibility JavaVersion.VERSION_1_8\n}\n</code></pre>\n<p>}</p>\n<p>dependencies {</p>\n<pre><code>implementation 'androidx.appcompat:appcompat:1.6.1'\nimplementation 'com.google.android.material:material:1.9.0'\nimplementation 'androidx.constraintlayout:constraintlayout:2.1.4'\nimplementation 'com.arthenica:mobile-ffmpeg-full:4.5.LTS'\ntestImplementation 'junit:junit:4.13.2'\nandroidTestImplementation 'androidx.test.ext:junit:1.1.5'\nandroidTestImplementation 'androidx.test.espresso:espresso-core:3.5.1'\n</code></pre>\n<p>}</p>\n<p>My code in MainActivity</p>\n<pre><code>private void convertImagesToVideo() {\n    StringBuilder imageListFileContent = new StringBuilder();\n    for (Uri imageUri : selectedImages) {\n        imageListFileContent.append(&quot;file '&quot;).append(imageUri.getPath()).append(&quot;'\\n&quot;);\n    }\n\n    try {\n        File imageListFile = new File(getCacheDir(), &quot;image_list.txt&quot;);\n        FileWriter writer = new FileWriter(imageListFile);\n        writer.append(imageListFileContent.toString());\n        writer.flush();\n        writer.close();\n\n        File outputFile = new File(getExternalFilesDir(null), &quot;output_video.mp4&quot;);\n        String outputFilePath = outputFile.getAbsolutePath();\n\n        String command = &quot;-f concat -safe 0 -i &quot; + imageListFile.getAbsolutePath() +\n                &quot; -vf \\&quot;scale=-2:720\\&quot; -r 30 -c:v libx264 -pix_fmt yuv420p &quot; + outputFilePath;\n\n        int rc = FFmpeg.execute(command);\n\n        if (rc == RETURN_CODE_SUCCESS) {\n            Log.d(&quot;FFmpeg&quot;, &quot;Video conversion completed successfully&quot;);\n            // Now you can use the outputFilePath to play or share the video\n        } else {\n            Log.d(&quot;FFmpeg&quot;, &quot;Video conversion failed&quot;);\n        }\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","unit-testing","spring-security","mockmvc"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1691056275,"post_id":76826756,"comment_id":135441020,"body_markdown":"If you are using Spring Boot and have `mockMvc = webAppContextSetup(context)` in your test you are doing it wrong. `@Autowired` inside a request handling method doesn&#39;t do anything, the `@ApiIgnore` isn&#39;t a spring annotation but for swagger/openapi (I assume) and doesn&#39;t do anything either. I&#39;m not that familier with Spring Fox but it could be that there is some argument resolver for that specific annotation. Anyway please show your full test class instead of snippets.","body":"If you are using Spring Boot and have <code>mockMvc = webAppContextSetup(context)</code> in your test you are doing it wrong. <code>@Autowired</code> inside a request handling method doesn&#39;t do anything, the <code>@ApiIgnore</code> isn&#39;t a spring annotation but for swagger/openapi (I assume) and doesn&#39;t do anything either. I&#39;m not that familier with Spring Fox but it could be that there is some argument resolver for that specific annotation. Anyway please show your full test class instead of snippets."},{"owner":{"account_id":807828,"reputation":1463,"user_id":891279,"accept_rate":67,"display_name":"JayTheKay"},"score":0,"creation_date":1691057408,"post_id":76826756,"comment_id":135441306,"body_markdown":"I added the full test class.\nWhat do you mean by &quot;you are doing it wrong?&quot; Is there a better way to set up this test?\n\nI am aware that neither of the annoatations should change anything for the test, that is why I&#39;m really confused that they break the test.","body":"I added the full test class. What do you mean by &quot;you are doing it wrong?&quot; Is there a better way to set up this test?  I am aware that neither of the annoatations should change anything for the test, that is why I&#39;m really confused that they break the test."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1691063709,"post_id":76826756,"comment_id":135442586,"body_markdown":"You already have `@AutoConfigureMockMvc` hence you should autowire `MockMvc` and remove your `@BeforeEach` annotated method. Spring Boot will setup MockMvc with the setup as you have configured, no need to do anything for that yourself.","body":"You already have <code>@AutoConfigureMockMvc</code> hence you should autowire <code>MockMvc</code> and remove your <code>@BeforeEach</code> annotated method. Spring Boot will setup MockMvc with the setup as you have configured, no need to do anything for that yourself."}],"owner":{"account_id":807828,"reputation":1463,"user_id":891279,"accept_rate":67,"display_name":"JayTheKay"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1691057356,"creation_date":1691055395,"question_id":76826756,"body_markdown":"I have a Spring Boot app, based on Spring Boot version 2.7.7.\r\nAnd I&#39;m experiencing some behaviour that I cannot explain. \r\n**It seems that an annotation on a Controller parameter causes the injected custom Authentication object to be broken**, but maybe I just got something wrong?\r\n\r\n\r\nI have a custom Authentication class that I use to augment my JWT based authentication:\r\n\r\n    public interface CustomAuthenticationToken extends Authentication {\r\n        Optional&lt;String&gt; getCustomClaim();\r\n    }\r\n\r\nFor tests, I have this mock implementation:\r\n\r\n    public class MockCustomAuthenticationToken implements CustomAuthenticationToken {\r\n      // implement all the methods with dummy values\r\n    }\r\n\r\nI also have this annotation to be used on test methods:\r\n\r\n    @WithSecurityContext(factory = WithCustomAuthenticationTokenContextFactory.class)\r\n    public @interface WithCustomAuthenticationToken {\r\n      String customClaim() default &quot;mockvalue&quot;;\r\n    }\r\n\r\nAnd this factory class:\r\n\r\n    public class WithCustomAuthenticationTokenContextFactory implements WithSecurityContextFactory&lt;WithCustomAuthenticationToken&gt; {\r\n        @Override\r\n        public SecurityContext createSecurityContext(WithCustomAuthenticationToken withCustomAuthenticationToken) {\r\n            SecurityContext context = SecurityContextHolder.createEmptyContext();\r\n\r\n            List&lt;SimpleGrantedAuthority&gt; grantedAuthorities = //...\r\n            Authentication auth = new MockCustomAuthenticationToken(\r\n                    withCustomAuthenticationToken.customClaim(),\r\n                    grantedAuthorities\r\n            );\r\n\r\n            context.setAuthentication(auth);\r\n            return context;\r\n        }\r\n    }\r\n\r\nMy test case looks like this:\r\n\r\n    @SpringBootTest\r\n    @AutoConfigureMockMvc\r\n    @ActiveProfiles(&quot;test&quot;)\r\n    public class SpringBootTest {\r\n\r\n        @Autowired\r\n        protected WebApplicationContext context;\r\n\r\n        protected MockMvc mockMvc;\r\n\r\n        @BeforeEach\r\n        protected void beforeEach() {\r\n           mockMvc = webAppContextSetup(context)\r\n                .apply(springSecurity())\r\n                .build();\r\n        }\r\n\r\n        @Test\r\n        @WithCustomAuthenticationToken(customClaim = &quot;claim&quot;)\r\n        public void test1() throws Exception {\r\n            mockMvc.perform(\r\n                        MockMvcRequestBuilders.get(\r\n                                &quot;/testcontroller&quot;\r\n                        )\r\n                )\r\n                .andExpect(status().isOk());\r\n        }\r\n    }\r\nThis is my controller that I can use to reproduce this issue:\r\nI&#39;m requesting the Spring Authentication information in the controller, 4 times, in a different way:\r\n\r\n    @RestController\r\n    public class DownloadCounterRestServiceV1 {\r\n        @GetMapping(&quot;/testcontroller&quot;)\r\n        public void testcontroller(\r\n            // As CustomAuthenticationToken object\r\n            CustomAuthenticationToken customAuthenticationToken1,\r\n\r\n            // The same as 1, but with an added Springfox annotation!\r\n            @ApiIgnore\r\n            CustomAuthenticationToken customAuthenticationToken2,\r\n\r\n            // As generic Authentication object\r\n            Authentication authentication1,\r\n\r\n            // The same as 3 but with the added annotation\r\n            @ApiIgnore\r\n            Authentication authentication2\r\n        ) {\r\n            log.info(&quot;customAuthenticationToken1: {}&quot;, customAuthenticationToken1);\r\n            log.info(&quot;customAuthenticationToken2: {}&quot;, customAuthenticationToken2);\r\n            log.info(&quot;authentication1: {}&quot;, authentication1);\r\n            log.info(&quot;authentication2: {}&quot;, authentication2);\r\n        }\r\n    }\r\n\r\nThe log output is\r\n    \r\n    customAuthenticationToken1: MockCustomAuthenticationToken(customClaim=&quot;...&quot;)\r\n    customAuthenticationToken2: {}\r\n    authentication1: MockCustomAuthenticationToken(customClaim=&quot;...&quot;)\r\n    authentication2: MockCustomAuthenticationToken(customClaim=&quot;...&quot;)\r\n\r\nSo for any reason, **if I use a custom interface AND an annotation before that parameter, Spring will not set the correct MockCustomAuthenticationToken** but instead an empty object of type `jdk.proxy2.$Proxy123`\r\n\r\nThe same effect happens when I use `@Autowired` instead of `@ApiIgnore`, so it does not seem to be caused by the annotation itself.\r\n\r\nIs there anything I missed? Where does this behaviour come from?","title":"Invalid custom Spring Security Authentication with MockMvc - Spring/MockMvc Bug?","body":"<p>I have a Spring Boot app, based on Spring Boot version 2.7.7.\nAnd I'm experiencing some behaviour that I cannot explain.\n<strong>It seems that an annotation on a Controller parameter causes the injected custom Authentication object to be broken</strong>, but maybe I just got something wrong?</p>\n<p>I have a custom Authentication class that I use to augment my JWT based authentication:</p>\n<pre><code>public interface CustomAuthenticationToken extends Authentication {\n    Optional&lt;String&gt; getCustomClaim();\n}\n</code></pre>\n<p>For tests, I have this mock implementation:</p>\n<pre><code>public class MockCustomAuthenticationToken implements CustomAuthenticationToken {\n  // implement all the methods with dummy values\n}\n</code></pre>\n<p>I also have this annotation to be used on test methods:</p>\n<pre><code>@WithSecurityContext(factory = WithCustomAuthenticationTokenContextFactory.class)\npublic @interface WithCustomAuthenticationToken {\n  String customClaim() default &quot;mockvalue&quot;;\n}\n</code></pre>\n<p>And this factory class:</p>\n<pre><code>public class WithCustomAuthenticationTokenContextFactory implements WithSecurityContextFactory&lt;WithCustomAuthenticationToken&gt; {\n    @Override\n    public SecurityContext createSecurityContext(WithCustomAuthenticationToken withCustomAuthenticationToken) {\n        SecurityContext context = SecurityContextHolder.createEmptyContext();\n\n        List&lt;SimpleGrantedAuthority&gt; grantedAuthorities = //...\n        Authentication auth = new MockCustomAuthenticationToken(\n                withCustomAuthenticationToken.customClaim(),\n                grantedAuthorities\n        );\n\n        context.setAuthentication(auth);\n        return context;\n    }\n}\n</code></pre>\n<p>My test case looks like this:</p>\n<pre><code>@SpringBootTest\n@AutoConfigureMockMvc\n@ActiveProfiles(&quot;test&quot;)\npublic class SpringBootTest {\n\n    @Autowired\n    protected WebApplicationContext context;\n\n    protected MockMvc mockMvc;\n\n    @BeforeEach\n    protected void beforeEach() {\n       mockMvc = webAppContextSetup(context)\n            .apply(springSecurity())\n            .build();\n    }\n\n    @Test\n    @WithCustomAuthenticationToken(customClaim = &quot;claim&quot;)\n    public void test1() throws Exception {\n        mockMvc.perform(\n                    MockMvcRequestBuilders.get(\n                            &quot;/testcontroller&quot;\n                    )\n            )\n            .andExpect(status().isOk());\n    }\n}\n</code></pre>\n<p>This is my controller that I can use to reproduce this issue:\nI'm requesting the Spring Authentication information in the controller, 4 times, in a different way:</p>\n<pre><code>@RestController\npublic class DownloadCounterRestServiceV1 {\n    @GetMapping(&quot;/testcontroller&quot;)\n    public void testcontroller(\n        // As CustomAuthenticationToken object\n        CustomAuthenticationToken customAuthenticationToken1,\n\n        // The same as 1, but with an added Springfox annotation!\n        @ApiIgnore\n        CustomAuthenticationToken customAuthenticationToken2,\n\n        // As generic Authentication object\n        Authentication authentication1,\n\n        // The same as 3 but with the added annotation\n        @ApiIgnore\n        Authentication authentication2\n    ) {\n        log.info(&quot;customAuthenticationToken1: {}&quot;, customAuthenticationToken1);\n        log.info(&quot;customAuthenticationToken2: {}&quot;, customAuthenticationToken2);\n        log.info(&quot;authentication1: {}&quot;, authentication1);\n        log.info(&quot;authentication2: {}&quot;, authentication2);\n    }\n}\n</code></pre>\n<p>The log output is</p>\n<pre><code>customAuthenticationToken1: MockCustomAuthenticationToken(customClaim=&quot;...&quot;)\ncustomAuthenticationToken2: {}\nauthentication1: MockCustomAuthenticationToken(customClaim=&quot;...&quot;)\nauthentication2: MockCustomAuthenticationToken(customClaim=&quot;...&quot;)\n</code></pre>\n<p>So for any reason, <strong>if I use a custom interface AND an annotation before that parameter, Spring will not set the correct MockCustomAuthenticationToken</strong> but instead an empty object of type <code>jdk.proxy2.$Proxy123</code></p>\n<p>The same effect happens when I use <code>@Autowired</code> instead of <code>@ApiIgnore</code>, so it does not seem to be caused by the annotation itself.</p>\n<p>Is there anything I missed? Where does this behaviour come from?</p>\n"},{"tags":["java","ssh","jsch"],"answers":[{"tags":[],"owner":{"account_id":3547409,"reputation":669,"user_id":2963004,"display_name":"Molasses"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1691057330,"creation_date":1691057330,"answer_id":76827044,"question_id":76819140,"body_markdown":"Found the answer, thanks to both of @g00se and @Martin Prikryl suggestions. Having ran \r\n```\r\nssh -v dev@192.168.11.23\r\n```\r\ngave me a result of\r\n\r\n```\r\n...\r\ndebug1: kex: algorithm: ecdh-sha2-nistp256\r\ndebug1: kex: host key algorithm: rsa-sha2-512\r\ndebug1: kex: server-&gt;client cipher: aes128-ctr MAC: hmac-sha2-256 compression: none\r\ndebug1: kex: client-&gt;server cipher: aes128-ctr MAC: hmac-sha2-256 compression: none\r\n...\r\n```\r\n\r\nThe issue was the server was preferring **sa-sha2-512** host key algorithm, JSch was missing. I could have forced **ssh-rsa**, but I decided to look at a forked version of JSch [github.com/mwiede/jsch][1], which was suggested, since the original is no longer maintained. This forked version supported the server&#39;s preferred host key algorithm. It all works now!\r\n\r\n\r\n  [1]: https://github.com/mwiede/jsch","title":"JSch End of IO Stream Read","body":"<p>Found the answer, thanks to both of @g00se and @Martin Prikryl suggestions. Having ran</p>\n<pre><code>ssh -v dev@192.168.11.23\n</code></pre>\n<p>gave me a result of</p>\n<pre><code>...\ndebug1: kex: algorithm: ecdh-sha2-nistp256\ndebug1: kex: host key algorithm: rsa-sha2-512\ndebug1: kex: server-&gt;client cipher: aes128-ctr MAC: hmac-sha2-256 compression: none\ndebug1: kex: client-&gt;server cipher: aes128-ctr MAC: hmac-sha2-256 compression: none\n...\n</code></pre>\n<p>The issue was the server was preferring <strong>sa-sha2-512</strong> host key algorithm, JSch was missing. I could have forced <strong>ssh-rsa</strong>, but I decided to look at a forked version of JSch <a href=\"https://github.com/mwiede/jsch\" rel=\"nofollow noreferrer\">github.com/mwiede/jsch</a>, which was suggested, since the original is no longer maintained. This forked version supported the server's preferred host key algorithm. It all works now!</p>\n"}],"owner":{"account_id":3547409,"reputation":669,"user_id":2963004,"display_name":"Molasses"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":285,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76827044,"answer_count":1,"score":0,"last_activity_date":1691057330,"creation_date":1690973527,"question_id":76819140,"body_markdown":"I&#39;m testing out JSch to send SSH command to a remote server. Here&#39;s a snippet of my code\r\n\r\n```\r\ntry {\r\n    session = new JSch().getSession(username, host);\r\n    session.setPassword(password);\r\n    session.setConfig(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\r\n    session.connect(5000);\r\n\r\n    channel = (ChannelExec) session.openChannel(&quot;exec&quot;);\r\n    channel.setCommand(command);\r\n    ByteArrayOutputStream responseStream = new ByteArrayOutputStream();\r\n    channel.setOutputStream(responseStream);\r\n    channel.connect(5000);\r\n...\r\n```\r\n\r\nHere&#39;s the log\r\n```\r\nINFO: Connecting to 192.168.11.31 port 22\r\nINFO: Connection established\r\nINFO: Remote version string: SSH-2.0-OpenSSH_8.8 PKIX[13.2.3 FIPS]\r\nINFO: Local version string: SSH-2.0-JSCH-0.1.54\r\nINFO: CheckCiphers: aes256-ctr,aes192-ctr,aes128-ctr,aes256-cbc,aes192-cbc,aes128-cbc,3des-ctr,arcfour,arcfour128,arcfour256\r\nINFO: CheckKexes: diffie-hellman-group14-sha1,ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521\r\nINFO: CheckSignatures: ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521\r\nINFO: SSH_MSG_KEXINIT sent\r\nINFO: SSH_MSG_KEXINIT received\r\nINFO: kex: server: ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521,diffie-hellman-group14-sha1\r\nINFO: kex: server: ssh-rsa,rsa-sha2-256,rsa-sha2-512\r\nINFO: kex: server: aes128-ctr,aes256-ctr\r\nINFO: kex: server: aes128-ctr,aes256-ctr\r\nINFO: kex: server: hmac-sha2-512,hmac-sha2-256,hmac-sha1\r\nINFO: kex: server: hmac-sha2-512,hmac-sha2-256,hmac-sha1\r\nINFO: kex: server: none,zlib@openssh.com\r\nINFO: kex: server: none,zlib@openssh.com\r\nINFO: kex: server:\r\nINFO: kex: server:\r\nINFO: kex: client: ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521,diffie-hellman-group14-sha1,diffie-hellman-group-exchange-sha256,diffie-hellman-group-exchange-sha1,diffie-hellman-\r\ngroup1-sha1\r\nINFO: kex: client: ssh-rsa,ssh-dss,ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521\r\nINFO: kex: client: aes128-ctr,aes128-cbc,3des-ctr,3des-cbc,blowfish-cbc,aes192-ctr,aes192-cbc,aes256-ctr,aes256-cbc\r\nINFO: kex: client: aes128-ctr,aes128-cbc,3des-ctr,3des-cbc,blowfish-cbc,aes192-ctr,aes192-cbc,aes256-ctr,aes256-cbc\r\nINFO: kex: client: hmac-md5,hmac-sha1,hmac-sha2-256,hmac-sha1-96,hmac-md5-96\r\nINFO: kex: client: hmac-md5,hmac-sha1,hmac-sha2-256,hmac-sha1-96,hmac-md5-96\r\nINFO: kex: client: none\r\nINFO: kex: client: none\r\nINFO: kex: client:\r\nINFO: kex: client:\r\nINFO: kex: server-&gt;client aes128-ctr hmac-sha1 none\r\nINFO: kex: client-&gt;server aes128-ctr hmac-sha1 none\r\nINFO: SSH_MSG_KEX_ECDH_INIT sent\r\nINFO: expecting SSH_MSG_KEX_ECDH_REPLY\r\nINFO: Disconnecting from 192.168.11.31 port 22\r\nAug 02, 2023 3:06:50 AM com.test.util.LogUtil error\r\nSEVERE: com.jcraft.jsch.JSchException: Session.connect: java.io.IOException: End of IO Stream Read\r\n        at com.jcraft.jsch.Session.connect(Session.java:565)\r\n        at com.test.util.SshTestUtil.sendSshCommandsTest(SshTestUtil.java:59)\r\n```\r\n\r\nIt&#39;s &quot;mind bottling&quot; -Step Brothers...no, but seriously, I&#39;m losing my mind. I&#39;ve even tried specifying kex like below, but same result...\r\n```\r\nsession.setConfig(&quot;kex&quot;, &quot;ecdh-sha2-nistp256&quot;);\r\n```\r\n\r\nI&#39;ve played with setting different connect timeouts and none, but same issue. I appreciate any help.","title":"JSch End of IO Stream Read","body":"<p>I'm testing out JSch to send SSH command to a remote server. Here's a snippet of my code</p>\n<pre><code>try {\n    session = new JSch().getSession(username, host);\n    session.setPassword(password);\n    session.setConfig(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\n    session.connect(5000);\n\n    channel = (ChannelExec) session.openChannel(&quot;exec&quot;);\n    channel.setCommand(command);\n    ByteArrayOutputStream responseStream = new ByteArrayOutputStream();\n    channel.setOutputStream(responseStream);\n    channel.connect(5000);\n...\n</code></pre>\n<p>Here's the log</p>\n<pre><code>INFO: Connecting to 192.168.11.31 port 22\nINFO: Connection established\nINFO: Remote version string: SSH-2.0-OpenSSH_8.8 PKIX[13.2.3 FIPS]\nINFO: Local version string: SSH-2.0-JSCH-0.1.54\nINFO: CheckCiphers: aes256-ctr,aes192-ctr,aes128-ctr,aes256-cbc,aes192-cbc,aes128-cbc,3des-ctr,arcfour,arcfour128,arcfour256\nINFO: CheckKexes: diffie-hellman-group14-sha1,ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521\nINFO: CheckSignatures: ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521\nINFO: SSH_MSG_KEXINIT sent\nINFO: SSH_MSG_KEXINIT received\nINFO: kex: server: ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521,diffie-hellman-group14-sha1\nINFO: kex: server: ssh-rsa,rsa-sha2-256,rsa-sha2-512\nINFO: kex: server: aes128-ctr,aes256-ctr\nINFO: kex: server: aes128-ctr,aes256-ctr\nINFO: kex: server: hmac-sha2-512,hmac-sha2-256,hmac-sha1\nINFO: kex: server: hmac-sha2-512,hmac-sha2-256,hmac-sha1\nINFO: kex: server: none,zlib@openssh.com\nINFO: kex: server: none,zlib@openssh.com\nINFO: kex: server:\nINFO: kex: server:\nINFO: kex: client: ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521,diffie-hellman-group14-sha1,diffie-hellman-group-exchange-sha256,diffie-hellman-group-exchange-sha1,diffie-hellman-\ngroup1-sha1\nINFO: kex: client: ssh-rsa,ssh-dss,ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521\nINFO: kex: client: aes128-ctr,aes128-cbc,3des-ctr,3des-cbc,blowfish-cbc,aes192-ctr,aes192-cbc,aes256-ctr,aes256-cbc\nINFO: kex: client: aes128-ctr,aes128-cbc,3des-ctr,3des-cbc,blowfish-cbc,aes192-ctr,aes192-cbc,aes256-ctr,aes256-cbc\nINFO: kex: client: hmac-md5,hmac-sha1,hmac-sha2-256,hmac-sha1-96,hmac-md5-96\nINFO: kex: client: hmac-md5,hmac-sha1,hmac-sha2-256,hmac-sha1-96,hmac-md5-96\nINFO: kex: client: none\nINFO: kex: client: none\nINFO: kex: client:\nINFO: kex: client:\nINFO: kex: server-&gt;client aes128-ctr hmac-sha1 none\nINFO: kex: client-&gt;server aes128-ctr hmac-sha1 none\nINFO: SSH_MSG_KEX_ECDH_INIT sent\nINFO: expecting SSH_MSG_KEX_ECDH_REPLY\nINFO: Disconnecting from 192.168.11.31 port 22\nAug 02, 2023 3:06:50 AM com.test.util.LogUtil error\nSEVERE: com.jcraft.jsch.JSchException: Session.connect: java.io.IOException: End of IO Stream Read\n        at com.jcraft.jsch.Session.connect(Session.java:565)\n        at com.test.util.SshTestUtil.sendSshCommandsTest(SshTestUtil.java:59)\n</code></pre>\n<p>It's &quot;mind bottling&quot; -Step Brothers...no, but seriously, I'm losing my mind. I've even tried specifying kex like below, but same result...</p>\n<pre><code>session.setConfig(&quot;kex&quot;, &quot;ecdh-sha2-nistp256&quot;);\n</code></pre>\n<p>I've played with setting different connect timeouts and none, but same issue. I appreciate any help.</p>\n"},{"tags":["java","spring","hibernate","spring-data-jpa","batch-insert"],"answers":[{"comments":[{"owner":{"account_id":11499580,"reputation":73,"user_id":8427763,"display_name":"Shubham Debnath"},"score":0,"creation_date":1610389139,"post_id":62256399,"comment_id":116112190,"body_markdown":"tried hiLo with mysql and spring boot, it still creates a sequence in db and update with too many select next_val","body":"tried hiLo with mysql and spring boot, it still creates a sequence in db and update with too many select next_val"}],"tags":[],"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1658310849,"creation_date":1591598560,"answer_id":62256399,"question_id":62254314,"body_markdown":"What you are looking for is the [HiLo algorithm][1] for id generation.\r\n\r\nFor every id generated from a sequence it generates a number of ids on the client without accessing the database.\r\n\r\nYou configure it on your entity as this:\r\n\r\n```\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;hilo_sequence_generator&quot;)\r\n    @GenericGenerator(\r\n            name = &quot;hilo_sequence_generator&quot;,\r\n            strategy = &quot;org.hibernate.id.enhanced.SequenceStyleGenerator&quot;,\r\n            parameters = {\r\n                    @Parameter(name = &quot;sequence_name&quot;, value = &quot;hilo_seqeunce&quot;),\r\n                    @Parameter(name = &quot;initial_value&quot;, value = &quot;1&quot;),\r\n                    @Parameter(name = &quot;increment_size&quot;, value = &quot;3&quot;),\r\n                    @Parameter(name = &quot;optimizer&quot;, value = &quot;hilo&quot;)\r\n            })\r\n    @Id\r\n    private Long id;\r\n```\r\n\r\n\r\n  [1]: https://vladmihalcea.com/the-hilo-algorithm/","title":"Spring JPA - Hibernate: Batch insert execute too much select nextval (‘sequence’)","body":"<p>What you are looking for is the <a href=\"https://vladmihalcea.com/the-hilo-algorithm/\" rel=\"nofollow noreferrer\">HiLo algorithm</a> for id generation.</p>\n<p>For every id generated from a sequence it generates a number of ids on the client without accessing the database.</p>\n<p>You configure it on your entity as this:</p>\n<pre><code>    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;hilo_sequence_generator&quot;)\n    @GenericGenerator(\n            name = &quot;hilo_sequence_generator&quot;,\n            strategy = &quot;org.hibernate.id.enhanced.SequenceStyleGenerator&quot;,\n            parameters = {\n                    @Parameter(name = &quot;sequence_name&quot;, value = &quot;hilo_seqeunce&quot;),\n                    @Parameter(name = &quot;initial_value&quot;, value = &quot;1&quot;),\n                    @Parameter(name = &quot;increment_size&quot;, value = &quot;3&quot;),\n                    @Parameter(name = &quot;optimizer&quot;, value = &quot;hilo&quot;)\n            })\n    @Id\n    private Long id;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3299976,"reputation":426,"user_id":2776371,"display_name":"Jacob"},"score":0,"creation_date":1687959621,"post_id":73947276,"comment_id":135009834,"body_markdown":"did you understand this behaviour","body":"did you understand this behaviour"},{"owner":{"account_id":8920847,"reputation":490,"user_id":6657484,"display_name":"ayman.mostafa"},"score":0,"creation_date":1691056948,"post_id":73947276,"comment_id":135441201,"body_markdown":"I would say yes. I think you have to make the &quot;allocationSize&quot; setting in your Java entity the same as the sequence increment setting in the DB and the same as the batch size setting.\nIn that case, hibernate will call the sequence&#39;s next value once per batch (in the case above, once per every 40 records), generate the next 40 id values (without the need to call the DB), populate the entity with these new ID(s) then save the batch in one shot","body":"I would say yes. I think you have to make the &quot;allocationSize&quot; setting in your Java entity the same as the sequence increment setting in the DB and the same as the batch size setting. In that case, hibernate will call the sequence&#39;s next value once per batch (in the case above, once per every 40 records), generate the next 40 id values (without the need to call the DB), populate the entity with these new ID(s) then save the batch in one shot"}],"tags":[],"owner":{"account_id":8920847,"reputation":490,"user_id":6657484,"display_name":"ayman.mostafa"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664883562,"creation_date":1664883230,"answer_id":73947276,"question_id":62254314,"body_markdown":"I would say that I have some experience of that point. I was doing insertion for more than 128,000 records.\r\nAnd my target was to enhance the time-consuming to do that. I would try to summarize the case as below :\r\n\r\n 1. The code did not use any persist() or save() methods. These records were saved when the @Transactionl method exits\r\n 2. I was using hibernate batch inserts below are the settings in the config map\r\n  \r\n\r\n    spring.jpa.properties.hibernate.jdbc.batch_size: &quot;40&quot;\r\n    spring.jpa.properties.hibernate.order_inserts: &quot;true&quot;\r\n    spring.jpa.properties.hibernate.order_updates: &quot;true&quot;\r\n    spring.main.allow-bean-definition-overriding: &quot;true&quot;\r\n\r\n\r\n 3. I modified the allocation size in my entity Id configuration as below:\r\n\r\n  \r\n\r\n \r\n\r\n @Id\r\n\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator =&quot;mappingentry_sql_generator&quot;)\r\n\r\n    @SequenceGenerator(name = &quot;mappingentry_sql_generator&quot;, sequenceName =&quot;mappingentry_id_seq&quot;, allocationSize = 40)\r\n\r\n    private Long id;\r\n\r\n \r\n\r\nNotes: I set the &quot;allocationSize&quot; in the sequence generator to be equal to the &quot;batch_size&quot; value in the setting\r\n\r\n 4. Also, I altered my sequence &quot;mappingentry_id_seq&quot; to increment by 40 as well\r\n\r\nAfter doing these changes the time was reduced from 55 seconds to 20 seconds which was a great impact\r\n\r\nThe only thing that I did not understand is that when I checked the value of the id column that was generated by the sequence I did not find any value gap. Every ID value exceeded the previous by 1, not 40. That is what I am currently trying to understand\r\n\r\n \r\n\r\n\r\n\r\n\r\n","title":"Spring JPA - Hibernate: Batch insert execute too much select nextval (‘sequence’)","body":"<p>I would say that I have some experience of that point. I was doing insertion for more than 128,000 records.\nAnd my target was to enhance the time-consuming to do that. I would try to summarize the case as below :</p>\n<ol>\n<li><p>The code did not use any persist() or save() methods. These records were saved when the @Transactionl method exits</p>\n</li>\n<li><p>I was using hibernate batch inserts below are the settings in the config map</p>\n<p>spring.jpa.properties.hibernate.jdbc.batch_size: &quot;40&quot;\nspring.jpa.properties.hibernate.order_inserts: &quot;true&quot;\nspring.jpa.properties.hibernate.order_updates: &quot;true&quot;\nspring.main.allow-bean-definition-overriding: &quot;true&quot;</p>\n</li>\n<li><p>I modified the allocation size in my entity Id configuration as below:</p>\n</li>\n</ol>\n<p>@Id</p>\n<pre><code>@GeneratedValue(strategy = GenerationType.SEQUENCE, generator =&quot;mappingentry_sql_generator&quot;)\n\n@SequenceGenerator(name = &quot;mappingentry_sql_generator&quot;, sequenceName =&quot;mappingentry_id_seq&quot;, allocationSize = 40)\n\nprivate Long id;\n</code></pre>\n<p>Notes: I set the &quot;allocationSize&quot; in the sequence generator to be equal to the &quot;batch_size&quot; value in the setting</p>\n<ol start=\"4\">\n<li>Also, I altered my sequence &quot;mappingentry_id_seq&quot; to increment by 40 as well</li>\n</ol>\n<p>After doing these changes the time was reduced from 55 seconds to 20 seconds which was a great impact</p>\n<p>The only thing that I did not understand is that when I checked the value of the id column that was generated by the sequence I did not find any value gap. Every ID value exceeded the previous by 1, not 40. That is what I am currently trying to understand</p>\n"},{"tags":[],"owner":{"account_id":8920847,"reputation":490,"user_id":6657484,"display_name":"ayman.mostafa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691057085,"creation_date":1691057085,"answer_id":76827008,"question_id":62254314,"body_markdown":"I think you have to make the &quot;allocationSize&quot; setting in your Java entity the same as the sequence increment setting in the DB and the same as the batch size setting.\r\n&lt;BR&gt;In that case, hibernate will call the sequence&#39;s next value once per batch (in the case above, once per every 40 records), generate the next 40 id values (without the need to call the DB), populate the entity with these new ID(s) then save the batch in one shot","title":"Spring JPA - Hibernate: Batch insert execute too much select nextval (‘sequence’)","body":"<p>I think you have to make the &quot;allocationSize&quot; setting in your Java entity the same as the sequence increment setting in the DB and the same as the batch size setting.\n<BR>In that case, hibernate will call the sequence's next value once per batch (in the case above, once per every 40 records), generate the next 40 id values (without the need to call the DB), populate the entity with these new ID(s) then save the batch in one shot</p>\n"}],"owner":{"account_id":12241431,"reputation":51,"user_id":8934392,"display_name":"Tu Doan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4151,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":3,"score":5,"last_activity_date":1691057085,"creation_date":1591585013,"question_id":62254314,"body_markdown":"Now I&#39;m trying to enhance performance of my web application, I use spring JPA 2.3.0- Hibernate 5.4.15.Final, Postgres 12 and manage transaction by @Transaction. The web app is deployed on aws beanstalk, run multiple instances at the same time, but the database instance is not scalable. And I use bigSerial type for ID of tables.\r\n\r\nFor instance, I have a STUDENTS table, ID is bigSerial and some other columns. \r\nI got a problems when using\r\n\r\n`@GeneratedValue(strategy = GenerationType.IDENTITY)`\r\n\r\n,\r\nHibernate couldn&#39;t batch insert when saving a list of entities. \r\nAnd I try to use\r\n\r\n    @GeneratedValue(strategy = GenerationType.AUTO, generator = &quot;students_id_seq&quot;) \r\n    @SequenceGenerator(name = &quot;students_id_seq&quot;, sequenceName = &quot;students_id_seq&quot;)\r\n     \r\n    hibernate.id.new_generator_mappings=false\r\n    hibernate.jdbc.batch_size=10 \r\n    hibernate.order_inserts=true \r\n    hibernate.order_updates=true\r\n    hibernate.batch_versioned_data=true\r\n\r\nIt seem Hibernate could batch insert, but the problem is Hibernate execute `select nextval (&#39;students_id_seq&#39;)` multiple times. If an entity list has 30 items, Hibernate execute `select nextval` 30 times, and 3 times for batch insert query.\r\n\r\nSome statistics:\r\n\r\n - If using GenerationType.IDENTITY\r\n\r\n    + save(entity): \r\n       + `insert into ...`   : execute once\r\n    + saveAll(n entities)\r\n       +  `insert into ...`   : execute n times\r\n\r\n - If using GenerationType.SEQUENCE/ GenerationType.AUTO\r\n\r\n    + save(entity):\r\n       + `select nextval (&#39;students_id_seq&#39;)`: execute once\r\n       + `insert into ...`   : execute once\r\n    + saveAll(n entities):\r\n       + `select nextval (&#39;students_id_seq&#39;)`: execute n times\r\n       +  `insert into ...`   : execute n/batch_size times\r\n\r\nIn conclusion, If using `GenerationType.AUTO` or `GenerationType.SEQUENCE` with `allocationSize = 1`:\r\n\r\n - when insert one entity, application increases 100% times to execute\r\n   queries ( from one insert query only increase to 2 queries: select\r\n   nextval, and insert query )\r\n - when batch insert,  application increase more than 10% if batch_size = 10\r\n\r\n-------------------------\r\n\r\nMy question is, is there anyway to batch insert but not execute to many `select nextval` query ? Something likes `GenerationType.IDENTITY`, not execute `select nextval`, just batch insert and IDs will be handled by sequence in the database.\r\n\r\nWhen I test with `GenerationType.SEQUENCE` and `allocationSize=1` `(GenerationType.AUTO)`, the application executes too much `select nextval` query, I think It is even worse than the IDENTITY strategy.\r\nAnd for some reasons, I don&#39;t want to use `allocationSize`, it may lead to duplicate primary key error when run insert query manual or when migrate data or some other cases.\r\n\r\nAfter some research, I found a way to get a value list of a sequence:\r\n\r\n`select nextval (&#39;students_id_seq&#39;) from generate_series(1,10);`\r\n\r\nWe can replace 10 by entityList.size() or number of entities doesn&#39;t have ID in the entityList when batch insert, just get enough to use, don&#39;t create too much gap between IDs, but I&#39;m not sure whether or not Hibernate supported, if yes, please share me the documentation to reference.\r\n\r\nThank you\r\n\r\nhttps://discourse.hibernate.org/t/batch-insert-execute-too-much-select-nextval-sequence/4232","title":"Spring JPA - Hibernate: Batch insert execute too much select nextval (‘sequence’)","body":"<p>Now I'm trying to enhance performance of my web application, I use spring JPA 2.3.0- Hibernate 5.4.15.Final, Postgres 12 and manage transaction by @Transaction. The web app is deployed on aws beanstalk, run multiple instances at the same time, but the database instance is not scalable. And I use bigSerial type for ID of tables.</p>\n\n<p>For instance, I have a STUDENTS table, ID is bigSerial and some other columns. \nI got a problems when using</p>\n\n<p><code>@GeneratedValue(strategy = GenerationType.IDENTITY)</code></p>\n\n<p>,\nHibernate couldn't batch insert when saving a list of entities. \nAnd I try to use</p>\n\n<pre><code>@GeneratedValue(strategy = GenerationType.AUTO, generator = \"students_id_seq\") \n@SequenceGenerator(name = \"students_id_seq\", sequenceName = \"students_id_seq\")\n\nhibernate.id.new_generator_mappings=false\nhibernate.jdbc.batch_size=10 \nhibernate.order_inserts=true \nhibernate.order_updates=true\nhibernate.batch_versioned_data=true\n</code></pre>\n\n<p>It seem Hibernate could batch insert, but the problem is Hibernate execute <code>select nextval ('students_id_seq')</code> multiple times. If an entity list has 30 items, Hibernate execute <code>select nextval</code> 30 times, and 3 times for batch insert query.</p>\n\n<p>Some statistics:</p>\n\n<ul>\n<li><p>If using GenerationType.IDENTITY</p>\n\n<ul>\n<li>save(entity): \n\n<ul>\n<li><code>insert into ...</code>   : execute once</li>\n</ul></li>\n<li>saveAll(n entities)\n\n<ul>\n<li><code>insert into ...</code>   : execute n times</li>\n</ul></li>\n</ul></li>\n<li><p>If using GenerationType.SEQUENCE/ GenerationType.AUTO</p>\n\n<ul>\n<li>save(entity):\n\n<ul>\n<li><code>select nextval ('students_id_seq')</code>: execute once</li>\n<li><code>insert into ...</code>   : execute once</li>\n</ul></li>\n<li>saveAll(n entities):\n\n<ul>\n<li><code>select nextval ('students_id_seq')</code>: execute n times</li>\n<li><code>insert into ...</code>   : execute n/batch_size times</li>\n</ul></li>\n</ul></li>\n</ul>\n\n<p>In conclusion, If using <code>GenerationType.AUTO</code> or <code>GenerationType.SEQUENCE</code> with <code>allocationSize = 1</code>:</p>\n\n<ul>\n<li>when insert one entity, application increases 100% times to execute\nqueries ( from one insert query only increase to 2 queries: select\nnextval, and insert query )</li>\n<li>when batch insert,  application increase more than 10% if batch_size = 10</li>\n</ul>\n\n<hr>\n\n<p>My question is, is there anyway to batch insert but not execute to many <code>select nextval</code> query ? Something likes <code>GenerationType.IDENTITY</code>, not execute <code>select nextval</code>, just batch insert and IDs will be handled by sequence in the database.</p>\n\n<p>When I test with <code>GenerationType.SEQUENCE</code> and <code>allocationSize=1</code> <code>(GenerationType.AUTO)</code>, the application executes too much <code>select nextval</code> query, I think It is even worse than the IDENTITY strategy.\nAnd for some reasons, I don't want to use <code>allocationSize</code>, it may lead to duplicate primary key error when run insert query manual or when migrate data or some other cases.</p>\n\n<p>After some research, I found a way to get a value list of a sequence:</p>\n\n<p><code>select nextval ('students_id_seq') from generate_series(1,10);</code></p>\n\n<p>We can replace 10 by entityList.size() or number of entities doesn't have ID in the entityList when batch insert, just get enough to use, don't create too much gap between IDs, but I'm not sure whether or not Hibernate supported, if yes, please share me the documentation to reference.</p>\n\n<p>Thank you</p>\n\n<p><a href=\"https://discourse.hibernate.org/t/batch-insert-execute-too-much-select-nextval-sequence/4232\" rel=\"noreferrer\">https://discourse.hibernate.org/t/batch-insert-execute-too-much-select-nextval-sequence/4232</a></p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1691056988,"creation_date":1691056988,"answer_id":76826998,"question_id":76826655,"body_markdown":"When it comes to creating a new instance of the [FirebaseAuth][1] and [FirebaseDatabase][2] classes, then in both cases, you should call the `getInstance()` method. Besides that, you&#39;ll always have a single instance because both are singleton. There is no need to create another one. There is no problem in calling them in multiple activities.\r\n\r\n\r\n  [1]: https://firebase.google.com/docs/reference/android/com/google/firebase/auth/FirebaseAuth\r\n  [2]: https://firebase.google.com/docs/reference/android/com/google/firebase/database/FirebaseDatabase","title":"best way of initializing firebase database and auth in Java Android","body":"<p>When it comes to creating a new instance of the <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/auth/FirebaseAuth\" rel=\"nofollow noreferrer\">FirebaseAuth</a> and <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/database/FirebaseDatabase\" rel=\"nofollow noreferrer\">FirebaseDatabase</a> classes, then in both cases, you should call the <code>getInstance()</code> method. Besides that, you'll always have a single instance because both are singleton. There is no need to create another one. There is no problem in calling them in multiple activities.</p>\n"}],"owner":{"account_id":28689754,"reputation":38,"user_id":21969231,"display_name":"peleboykulot"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76826998,"answer_count":1,"score":1,"last_activity_date":1691057012,"creation_date":1691054708,"question_id":76826655,"body_markdown":"I am confused about how to initialize Firebase auth and database. Is it to make a singleton and use it across every activity or initialize it for every call-in activity?\r\n\r\nI often go to initializing every activity. Can you help me guys to have an insight on what is the best approach?","title":"best way of initializing firebase database and auth in Java Android","body":"<p>I am confused about how to initialize Firebase auth and database. Is it to make a singleton and use it across every activity or initialize it for every call-in activity?</p>\n<p>I often go to initializing every activity. Can you help me guys to have an insight on what is the best approach?</p>\n"},{"tags":["java","swing","intellij-idea","gui-designer"],"comments":[{"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"score":0,"creation_date":1691057248,"post_id":76826946,"comment_id":135441271,"body_markdown":"Please share your form file for testing at https://uploads.jetbrains.com and provide the UploadID here","body":"Please share your form file for testing at <a href=\"https://uploads.jetbrains.com\" rel=\"nofollow noreferrer\">uploads.jetbrains.com</a> and provide the UploadID here"},{"owner":{"account_id":25337265,"reputation":1,"user_id":22331499,"display_name":"Mikhail Bogdanov"},"score":0,"creation_date":1691063625,"post_id":76826946,"comment_id":135442572,"body_markdown":"@EgorKlepikov I think I can&#39;t do it becouse it&#39;s a commercial product, but the solution of problem was to roll back the IDE version (to 2021.3.3).  Before it I update IDE to 2023.2 and there was anoter problem (IDE could&#39;t find my class with icons)","body":"@EgorKlepikov I think I can&#39;t do it becouse it&#39;s a commercial product, but the solution of problem was to roll back the IDE version (to 2021.3.3).  Before it I update IDE to 2023.2 and there was anoter problem (IDE could&#39;t find my class with icons)"}],"owner":{"account_id":25337265,"reputation":1,"user_id":22331499,"display_name":"Mikhail Bogdanov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":232,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691056845,"creation_date":1691056548,"question_id":76826946,"body_markdown":"Faced such problem: GUI Designer does not show some forms. This happened after the transition to the new version of IDEA (2023.1.4 (Community Edition)). My colleagues who use the old version does not have this problem. The form itself writes that it cannot init class (see screenshot), but the same colleagues do not have the same package. There is also a reference to this class in the IDEA logs. The official GitHub account of IntellijIdea has this package. In theory, perhaps it can be downloaded and put into classPath, or roll back the IDE version, but maybe someone knows a more elegant solution to this problem?\r\n\r\n    2023-07-25 16:06:55,038 [108516339]   INFO - #c.i.u.d.GuiEditor - java.lang.reflect.InvocationTargetException java.lang.RuntimeException: java.lang.reflect.InvocationTargetException\r\n        at com.intellij.uiDesigner.radComponents.RadComponent.&lt;init&gt;(RadComponent.java:147)\r\n        at com.intellij.uiDesigner.radComponents.RadContainer.&lt;init&gt;(RadContainer.java:75)\r\n        at com.intellij.uiDesigner.radComponents.RadToolBar.&lt;init&gt;(RadToolBar.java:31)\r\n        at com.intellij.uiDesigner.XmlReader.createComponent(XmlReader.java:131)\r\n        at com.intellij.uiDesigner.XmlReader.createComponent(XmlReader.java:224)\r\n        at com.intellij.uiDesigner.XmlReader.createComponent(XmlReader.java:224)\r\n        at com.intellij.uiDesigner.XmlReader.createComponent(XmlReader.java:224)\r\n        at com.intellij.uiDesigner.XmlReader.createRoot(XmlReader.java:47)\r\n        at com.intellij.uiDesigner.designSurface.GuiEditor.readFromFile(GuiEditor.java:867)\r\n        at com.intellij.uiDesigner.designSurface.GuiEditor.&lt;init&gt;(GuiEditor.java:296)\r\n        at com.intellij.uiDesigner.editor.UIFormEditor.&lt;init&gt;(UIFormEditor.java:44)\r\n        at com.intellij.uiDesigner.editor.UIFormEditorProvider.createEditor(UIFormEditorProvider.java:34)\r\n        at com.intellij.openapi.fileEditor.impl.FileEditorManagerImpl.createComposite(FileEditorManagerImpl.kt:1139)\r\n        at com.intellij.openapi.fileEditor.impl.FileEditorManagerImpl.doOpenInEdtImpl(FileEditorManagerImpl.kt:1048)\r\n        at com.intellij.openapi.fileEditor.impl.FileEditorManagerImpl.doOpenInEdtImpl$default(FileEditorManagerImpl.kt:1035)\r\n        at com.intellij.openapi.fileEditor.impl.FileEditorManagerImpl$openFileImpl4$open$1.invoke(FileEditorManagerImpl.kt:1010)\r\n        at com.intellij.openapi.fileEditor.impl.FileEditorManagerImpl$openFileImpl4$open$1.invoke(FileEditorManagerImpl.kt:996)\r\n        at com.intellij.openapi.fileEditor.impl.FileEditorManagerImpl$Companion.runBulkTabChange$intellij_platform_ide_impl(FileEditorManagerImpl.kt:390)\r\n        at com.intellij.openapi.fileEditor.impl.FileEditorManagerImpl.openFileImpl4$open(FileEditorManagerImpl.kt:996)\r\n        at com.intellij.openapi.fileEditor.impl.FileEditorManagerImpl.openFileImpl4$intellij_platform_ide_impl(FileEditorManagerImpl.kt:1024)\r\n        at com.intellij.openapi.fileEditor.impl.FileEditorManagerImpl.openFileImpl2$lambda$22(FileEditorManagerImpl.kt:900)\r\n        at com.intellij.openapi.command.impl.CoreCommandProcessor.executeCommand(CoreCommandProcessor.java:210)\r\n        at com.intellij.openapi.command.impl.CoreCommandProcessor.executeCommand(CoreCommandProcessor.java:174)\r\n        at com.intellij.openapi.command.impl.CoreCommandProcessor.executeCommand(CoreCommandProcessor.java:164)\r\n        at com.intellij.openapi.command.impl.CoreCommandProcessor.executeCommand(CoreCommandProcessor.java:150)\r\n        at com.intellij.openapi.fileEditor.impl.FileEditorManagerImpl.openFileImpl2(FileEditorManagerImpl.kt:899)\r\n        at com.intellij.openapi.fileEditor.impl.FileEditorManagerImpl.openFile(FileEditorManagerImpl.kt:798)\r\n        at com.intellij.openapi.fileEditor.impl.FileEditorManagerImpl.openEditorImpl$lambda$31(FileEditorManagerImpl.kt:1275)\r\n        at com.intellij.openapi.command.impl.CoreCommandProcessor.executeCommand(CoreCommandProcessor.java:210)\r\n        at com.intellij.openapi.command.impl.CoreCommandProcessor.executeCommand(CoreCommandProcessor.java:174)\r\n        at com.intellij.openapi.command.impl.CoreCommandProcessor.executeCommand(CoreCommandProcessor.java:164)\r\n        at com.intellij.openapi.command.impl.CoreCommandProcessor.executeCommand(CoreCommandProcessor.java:150)\r\n        at com.intellij.openapi.fileEditor.impl.FileEditorManagerImpl.openEditorImpl(FileEditorManagerImpl.kt:1268)\r\n        at com.intellij.openapi.fileEditor.impl.FileEditorManagerImpl.openFileEditor(FileEditorManagerImpl.kt:1245)\r\n        at com.intellij.openapi.fileEditor.FileEditorManager.openEditor(FileEditorManager.java:239)\r\n        at com.intellij.openapi.fileEditor.FileNavigatorImpl.navigateInAnyFileEditor(FileNavigatorImpl.java:110)\r\n        at com.intellij.openapi.fileEditor.FileNavigatorImpl.navigateInEditor(FileNavigatorImpl.java:86)\r\n        at com.intellij.openapi.fileEditor.FileNavigatorImpl.navigateInEditorOrNativeApp(FileNavigatorImpl.java:71)\r\n        at com.intellij.openapi.fileEditor.FileNavigatorImpl.navigate(FileNavigatorImpl.java:49)\r\n        at com.intellij.openapi.fileEditor.OpenFileDescriptor.navigate(OpenFileDescriptor.java:89)\r\n        at com.intellij.psi.impl.source.PsiFileImpl.navigate(PsiFileImpl.java:926)\r\n        at com.intellij.codeInsight.navigation.NavigationUtil.lambda$openFileWithPsiElement$2(NavigationUtil.java:173)\r\n        at com.intellij.openapi.command.impl.CoreCommandProcessor.executeCommand(CoreCommandProcessor.java:219)\r\n        at com.intellij.openapi.command.impl.CoreCommandProcessor.executeCommand(CoreCommandProcessor.java:174)\r\n        at com.intellij.openapi.command.impl.CoreCommandProcessor.executeCommand(CoreCommandProcessor.java:164)\r\n        at com.intellij.openapi.command.impl.CoreCommandProcessor.executeCommand(CoreCommandProcessor.java:150)\r\n        at com.intellij.codeInsight.navigation.NavigationUtil.openFileWithPsiElement(NavigationUtil.java:169)\r\n        at com.intellij.ide.projectView.impl.nodes.AbstractPsiBasedNode.navigate(AbstractPsiBasedNode.java:277)\r\n        at com.intellij.ide.projectView.impl.nodes.AbstractPsiBasedNode.navigate(AbstractPsiBasedNode.java:287)\r\n        at com.intellij.ide.projectView.impl.nodes.PsiFileNode.navigate(PsiFileNode.java:117)\r\n        at com.intellij.util.OpenSourceUtil.navigateToSource(OpenSourceUtil.java:126)\r\n        at com.intellij.util.OpenSourceUtil.navigate(OpenSourceUtil.java:81)\r\n        at com.intellij.util.OpenSourceUtil.navigate(OpenSourceUtil.java:59)\r\n        at com.intellij.util.OpenSourceUtil.navigate(OpenSourceUtil.java:52)\r\n        at com.intellij.util.OpenSourceUtil.openSourcesFrom(OpenSourceUtil.java:20)\r\n        at com.intellij.util.EditSourceOnDoubleClickHandler$TreeMouseListener.processDoubleClick(EditSourceOnDoubleClickHandler.java:172)\r\n        at com.intellij.util.EditSourceOnDoubleClickHandler$TreeMouseListener.onDoubleClick(EditSourceOnDoubleClickHandler.java:166)\r\n        at com.intellij.ui.DoubleClickListener.onClick(DoubleClickListener.java:30)\r\n        at com.intellij.ui.ClickListener$1.mouseReleased(ClickListener.java:58)\r\n        at java.desktop/java.awt.AWTEventMulticaster.mouseReleased(AWTEventMulticaster.java:298)\r\n        at java.desktop/java.awt.AWTEventMulticaster.mouseReleased(AWTEventMulticaster.java:297)\r\n        at java.desktop/java.awt.AWTEventMulticaster.mouseReleased(AWTEventMulticaster.java:297)\r\n        at java.desktop/java.awt.AWTEventMulticaster.mouseReleased(AWTEventMulticaster.java:297)\r\n        at java.desktop/java.awt.Component.processMouseEvent(Component.java:6656)\r\n        at java.desktop/javax.swing.JComponent.processMouseEvent(JComponent.java:3385)\r\n        at com.intellij.ui.treeStructure.Tree.processMouseEvent(Tree.java:424)\r\n        at com.intellij.ide.dnd.aware.DnDAwareTree.processMouseEvent(DnDAwareTree.java:44)\r\n        at java.desktop/java.awt.Component.processEvent(Component.java:6421)\r\n        at java.desktop/java.awt.Container.processEvent(Container.java:2266)\r\n        at java.desktop/java.awt.Component.dispatchEventImpl(Component.java:5026)\r\n        at java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2324)\r\n        at java.desktop/java.awt.Component.dispatchEvent(Component.java:4854)\r\n        at java.desktop/java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4948)\r\n        at java.desktop/java.awt.LightweightDispatcher.processMouseEvent(Container.java:4575)\r\n        at java.desktop/java.awt.LightweightDispatcher.dispatchEvent(Container.java:4516)\r\n        at java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2310)\r\n        at java.desktop/java.awt.Window.dispatchEventImpl(Window.java:2804)\r\n        at java.desktop/java.awt.Component.dispatchEvent(Component.java:4854)\r\n        at java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:790)\r\n        at java.desktop/java.awt.EventQueue$3.run(EventQueue.java:739)\r\n        at java.desktop/java.awt.EventQueue$3.run(EventQueue.java:731)\r\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n        at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\r\n        at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:97)\r\n        at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:763)\r\n        at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:761)\r\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n        at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\r\n        at java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:760)\r\n        at com.intellij.ide.IdeEventQueue.defaultDispatchEvent(IdeEventQueue.kt:667)\r\n        at com.intellij.ide.IdeEventQueue.dispatchMouseEvent(IdeEventQueue.kt:615)\r\n        at com.intellij.ide.IdeEventQueue._dispatchEvent(IdeEventQueue.kt:570)\r\n        at com.intellij.ide.IdeEventQueue.access$_dispatchEvent(IdeEventQueue.kt:68)\r\n        at com.intellij.ide.IdeEventQueue$dispatchEvent$processEventRunnable$1$1$1.compute(IdeEventQueue.kt:349)\r\n        at com.intellij.ide.IdeEventQueue$dispatchEvent$processEventRunnable$1$1$1.compute(IdeEventQueue.kt:348)\r\n        at com.intellij.openapi.progress.impl.CoreProgressManager.computePrioritized(CoreProgressManager.java:787)\r\n        at com.intellij.ide.IdeEventQueue$dispatchEvent$processEventRunnable$1$1.invoke(IdeEventQueue.kt:348)\r\n        at com.intellij.ide.IdeEventQueue$dispatchEvent$processEventRunnable$1$1.invoke(IdeEventQueue.kt:343)\r\n        at com.intellij.ide.IdeEventQueueKt.performActivity$lambda$1(IdeEventQueue.kt:995)\r\n        at com.intellij.openapi.application.TransactionGuardImpl.performActivity(TransactionGuardImpl.java:113)\r\n        at com.intellij.ide.IdeEventQueueKt.performActivity(IdeEventQueue.kt:995)\r\n        at com.intellij.ide.IdeEventQueue.dispatchEvent$lambda$4(IdeEventQueue.kt:343)\r\n        at com.intellij.openapi.application.impl.ApplicationImpl.runIntendedWriteActionOnCurrentThread(ApplicationImpl.java:829)\r\n        at com.intellij.ide.IdeEventQueue.dispatchEvent(IdeEventQueue.kt:385)\r\n        at java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:207)\r\n        at java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:128)\r\n        at java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:117)\r\n        at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:113)\r\n        at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:105)\r\n        at java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:92)\r\n\r\n[enter image description here](https://i.stack.imgur.com/7sYoe.jpg)\r\n\r\n[enter image description here](https://i.stack.imgur.com/nDlWu.png)\r\n\r\nIn theory, perhaps it can be downloaded and put into classPath, or roll back the IDE version.","title":"Intellij IDEA GUI Designer: form file is invalid","body":"<p>Faced such problem: GUI Designer does not show some forms. This happened after the transition to the new version of IDEA (2023.1.4 (Community Edition)). My colleagues who use the old version does not have this problem. The form itself writes that it cannot init class (see screenshot), but the same colleagues do not have the same package. There is also a reference to this class in the IDEA logs. The official GitHub account of IntellijIdea has this package. In theory, perhaps it can be downloaded and put into classPath, or roll back the IDE version, but maybe someone knows a more elegant solution to this problem?</p>\n<pre><code>2023-07-25 16:06:55,038 [108516339]   INFO - #c.i.u.d.GuiEditor - java.lang.reflect.InvocationTargetException java.lang.RuntimeException: java.lang.reflect.InvocationTargetException\n    at com.intellij.uiDesigner.radComponents.RadComponent.&lt;init&gt;(RadComponent.java:147)\n    at com.intellij.uiDesigner.radComponents.RadContainer.&lt;init&gt;(RadContainer.java:75)\n    at com.intellij.uiDesigner.radComponents.RadToolBar.&lt;init&gt;(RadToolBar.java:31)\n    at com.intellij.uiDesigner.XmlReader.createComponent(XmlReader.java:131)\n    at com.intellij.uiDesigner.XmlReader.createComponent(XmlReader.java:224)\n    at com.intellij.uiDesigner.XmlReader.createComponent(XmlReader.java:224)\n    at com.intellij.uiDesigner.XmlReader.createComponent(XmlReader.java:224)\n    at com.intellij.uiDesigner.XmlReader.createRoot(XmlReader.java:47)\n    at com.intellij.uiDesigner.designSurface.GuiEditor.readFromFile(GuiEditor.java:867)\n    at com.intellij.uiDesigner.designSurface.GuiEditor.&lt;init&gt;(GuiEditor.java:296)\n    at com.intellij.uiDesigner.editor.UIFormEditor.&lt;init&gt;(UIFormEditor.java:44)\n    at com.intellij.uiDesigner.editor.UIFormEditorProvider.createEditor(UIFormEditorProvider.java:34)\n    at com.intellij.openapi.fileEditor.impl.FileEditorManagerImpl.createComposite(FileEditorManagerImpl.kt:1139)\n    at com.intellij.openapi.fileEditor.impl.FileEditorManagerImpl.doOpenInEdtImpl(FileEditorManagerImpl.kt:1048)\n    at com.intellij.openapi.fileEditor.impl.FileEditorManagerImpl.doOpenInEdtImpl$default(FileEditorManagerImpl.kt:1035)\n    at com.intellij.openapi.fileEditor.impl.FileEditorManagerImpl$openFileImpl4$open$1.invoke(FileEditorManagerImpl.kt:1010)\n    at com.intellij.openapi.fileEditor.impl.FileEditorManagerImpl$openFileImpl4$open$1.invoke(FileEditorManagerImpl.kt:996)\n    at com.intellij.openapi.fileEditor.impl.FileEditorManagerImpl$Companion.runBulkTabChange$intellij_platform_ide_impl(FileEditorManagerImpl.kt:390)\n    at com.intellij.openapi.fileEditor.impl.FileEditorManagerImpl.openFileImpl4$open(FileEditorManagerImpl.kt:996)\n    at com.intellij.openapi.fileEditor.impl.FileEditorManagerImpl.openFileImpl4$intellij_platform_ide_impl(FileEditorManagerImpl.kt:1024)\n    at com.intellij.openapi.fileEditor.impl.FileEditorManagerImpl.openFileImpl2$lambda$22(FileEditorManagerImpl.kt:900)\n    at com.intellij.openapi.command.impl.CoreCommandProcessor.executeCommand(CoreCommandProcessor.java:210)\n    at com.intellij.openapi.command.impl.CoreCommandProcessor.executeCommand(CoreCommandProcessor.java:174)\n    at com.intellij.openapi.command.impl.CoreCommandProcessor.executeCommand(CoreCommandProcessor.java:164)\n    at com.intellij.openapi.command.impl.CoreCommandProcessor.executeCommand(CoreCommandProcessor.java:150)\n    at com.intellij.openapi.fileEditor.impl.FileEditorManagerImpl.openFileImpl2(FileEditorManagerImpl.kt:899)\n    at com.intellij.openapi.fileEditor.impl.FileEditorManagerImpl.openFile(FileEditorManagerImpl.kt:798)\n    at com.intellij.openapi.fileEditor.impl.FileEditorManagerImpl.openEditorImpl$lambda$31(FileEditorManagerImpl.kt:1275)\n    at com.intellij.openapi.command.impl.CoreCommandProcessor.executeCommand(CoreCommandProcessor.java:210)\n    at com.intellij.openapi.command.impl.CoreCommandProcessor.executeCommand(CoreCommandProcessor.java:174)\n    at com.intellij.openapi.command.impl.CoreCommandProcessor.executeCommand(CoreCommandProcessor.java:164)\n    at com.intellij.openapi.command.impl.CoreCommandProcessor.executeCommand(CoreCommandProcessor.java:150)\n    at com.intellij.openapi.fileEditor.impl.FileEditorManagerImpl.openEditorImpl(FileEditorManagerImpl.kt:1268)\n    at com.intellij.openapi.fileEditor.impl.FileEditorManagerImpl.openFileEditor(FileEditorManagerImpl.kt:1245)\n    at com.intellij.openapi.fileEditor.FileEditorManager.openEditor(FileEditorManager.java:239)\n    at com.intellij.openapi.fileEditor.FileNavigatorImpl.navigateInAnyFileEditor(FileNavigatorImpl.java:110)\n    at com.intellij.openapi.fileEditor.FileNavigatorImpl.navigateInEditor(FileNavigatorImpl.java:86)\n    at com.intellij.openapi.fileEditor.FileNavigatorImpl.navigateInEditorOrNativeApp(FileNavigatorImpl.java:71)\n    at com.intellij.openapi.fileEditor.FileNavigatorImpl.navigate(FileNavigatorImpl.java:49)\n    at com.intellij.openapi.fileEditor.OpenFileDescriptor.navigate(OpenFileDescriptor.java:89)\n    at com.intellij.psi.impl.source.PsiFileImpl.navigate(PsiFileImpl.java:926)\n    at com.intellij.codeInsight.navigation.NavigationUtil.lambda$openFileWithPsiElement$2(NavigationUtil.java:173)\n    at com.intellij.openapi.command.impl.CoreCommandProcessor.executeCommand(CoreCommandProcessor.java:219)\n    at com.intellij.openapi.command.impl.CoreCommandProcessor.executeCommand(CoreCommandProcessor.java:174)\n    at com.intellij.openapi.command.impl.CoreCommandProcessor.executeCommand(CoreCommandProcessor.java:164)\n    at com.intellij.openapi.command.impl.CoreCommandProcessor.executeCommand(CoreCommandProcessor.java:150)\n    at com.intellij.codeInsight.navigation.NavigationUtil.openFileWithPsiElement(NavigationUtil.java:169)\n    at com.intellij.ide.projectView.impl.nodes.AbstractPsiBasedNode.navigate(AbstractPsiBasedNode.java:277)\n    at com.intellij.ide.projectView.impl.nodes.AbstractPsiBasedNode.navigate(AbstractPsiBasedNode.java:287)\n    at com.intellij.ide.projectView.impl.nodes.PsiFileNode.navigate(PsiFileNode.java:117)\n    at com.intellij.util.OpenSourceUtil.navigateToSource(OpenSourceUtil.java:126)\n    at com.intellij.util.OpenSourceUtil.navigate(OpenSourceUtil.java:81)\n    at com.intellij.util.OpenSourceUtil.navigate(OpenSourceUtil.java:59)\n    at com.intellij.util.OpenSourceUtil.navigate(OpenSourceUtil.java:52)\n    at com.intellij.util.OpenSourceUtil.openSourcesFrom(OpenSourceUtil.java:20)\n    at com.intellij.util.EditSourceOnDoubleClickHandler$TreeMouseListener.processDoubleClick(EditSourceOnDoubleClickHandler.java:172)\n    at com.intellij.util.EditSourceOnDoubleClickHandler$TreeMouseListener.onDoubleClick(EditSourceOnDoubleClickHandler.java:166)\n    at com.intellij.ui.DoubleClickListener.onClick(DoubleClickListener.java:30)\n    at com.intellij.ui.ClickListener$1.mouseReleased(ClickListener.java:58)\n    at java.desktop/java.awt.AWTEventMulticaster.mouseReleased(AWTEventMulticaster.java:298)\n    at java.desktop/java.awt.AWTEventMulticaster.mouseReleased(AWTEventMulticaster.java:297)\n    at java.desktop/java.awt.AWTEventMulticaster.mouseReleased(AWTEventMulticaster.java:297)\n    at java.desktop/java.awt.AWTEventMulticaster.mouseReleased(AWTEventMulticaster.java:297)\n    at java.desktop/java.awt.Component.processMouseEvent(Component.java:6656)\n    at java.desktop/javax.swing.JComponent.processMouseEvent(JComponent.java:3385)\n    at com.intellij.ui.treeStructure.Tree.processMouseEvent(Tree.java:424)\n    at com.intellij.ide.dnd.aware.DnDAwareTree.processMouseEvent(DnDAwareTree.java:44)\n    at java.desktop/java.awt.Component.processEvent(Component.java:6421)\n    at java.desktop/java.awt.Container.processEvent(Container.java:2266)\n    at java.desktop/java.awt.Component.dispatchEventImpl(Component.java:5026)\n    at java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2324)\n    at java.desktop/java.awt.Component.dispatchEvent(Component.java:4854)\n    at java.desktop/java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4948)\n    at java.desktop/java.awt.LightweightDispatcher.processMouseEvent(Container.java:4575)\n    at java.desktop/java.awt.LightweightDispatcher.dispatchEvent(Container.java:4516)\n    at java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2310)\n    at java.desktop/java.awt.Window.dispatchEventImpl(Window.java:2804)\n    at java.desktop/java.awt.Component.dispatchEvent(Component.java:4854)\n    at java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:790)\n    at java.desktop/java.awt.EventQueue$3.run(EventQueue.java:739)\n    at java.desktop/java.awt.EventQueue$3.run(EventQueue.java:731)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\n    at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:97)\n    at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:763)\n    at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:761)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\n    at java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:760)\n    at com.intellij.ide.IdeEventQueue.defaultDispatchEvent(IdeEventQueue.kt:667)\n    at com.intellij.ide.IdeEventQueue.dispatchMouseEvent(IdeEventQueue.kt:615)\n    at com.intellij.ide.IdeEventQueue._dispatchEvent(IdeEventQueue.kt:570)\n    at com.intellij.ide.IdeEventQueue.access$_dispatchEvent(IdeEventQueue.kt:68)\n    at com.intellij.ide.IdeEventQueue$dispatchEvent$processEventRunnable$1$1$1.compute(IdeEventQueue.kt:349)\n    at com.intellij.ide.IdeEventQueue$dispatchEvent$processEventRunnable$1$1$1.compute(IdeEventQueue.kt:348)\n    at com.intellij.openapi.progress.impl.CoreProgressManager.computePrioritized(CoreProgressManager.java:787)\n    at com.intellij.ide.IdeEventQueue$dispatchEvent$processEventRunnable$1$1.invoke(IdeEventQueue.kt:348)\n    at com.intellij.ide.IdeEventQueue$dispatchEvent$processEventRunnable$1$1.invoke(IdeEventQueue.kt:343)\n    at com.intellij.ide.IdeEventQueueKt.performActivity$lambda$1(IdeEventQueue.kt:995)\n    at com.intellij.openapi.application.TransactionGuardImpl.performActivity(TransactionGuardImpl.java:113)\n    at com.intellij.ide.IdeEventQueueKt.performActivity(IdeEventQueue.kt:995)\n    at com.intellij.ide.IdeEventQueue.dispatchEvent$lambda$4(IdeEventQueue.kt:343)\n    at com.intellij.openapi.application.impl.ApplicationImpl.runIntendedWriteActionOnCurrentThread(ApplicationImpl.java:829)\n    at com.intellij.ide.IdeEventQueue.dispatchEvent(IdeEventQueue.kt:385)\n    at java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:207)\n    at java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:128)\n    at java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:117)\n    at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:113)\n    at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:105)\n    at java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:92)\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/7sYoe.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p><a href=\"https://i.stack.imgur.com/nDlWu.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>In theory, perhaps it can be downloaded and put into classPath, or roll back the IDE version.</p>\n"},{"tags":["java","quadtree"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1691090246,"post_id":76826975,"comment_id":135448363,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":29151097,"reputation":1,"user_id":22331939,"display_name":"Gabriel Dussault"},"score":0,"creation_date":1691170787,"post_id":76826975,"comment_id":135460759,"body_markdown":"help me please!","body":"help me please!"}],"owner":{"account_id":29151097,"reputation":1,"user_id":22331939,"display_name":"Gabriel Dussault"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691056805,"creation_date":1691056805,"question_id":76826975,"body_markdown":"My game has a quadrant tree for handling collisions (All objects is circles). I made a QuadTree class for my game using GPT, everything was fine, but when I added 5k objects, the game took more than 150ms to process all collisions (very long for my game). The problem was that for each object, the nearest half of the map was returned. I fixed (sort of) freezes, now it returns about 6-10 objects for each, which is good. But now, sometimes when an object appears or moves to some point on the map, it loses its collision, and no object can collide with it from one or more sides. I think it&#39;s because the object is at the junction of two nodes. I have no idea how to fix it, what am I doing wrong?\r\nPlease help me.\r\n\r\nHere is the code of the QuadTree class:\r\n```java\r\n\r\npublic class QuadTree {\r\n\r\n    private static final int MAX_OBJECTS = 5;\r\n\r\n    private static final int MAX_LEVELS = 10;\r\n\r\n\r\n\r\n    private int level;\r\n\r\n    private List&lt;GameObject&gt; objects;\r\n\r\n    private Rectangle bounds;\r\n\r\n    private QuadTree[] nodes;\r\n\r\n\r\n\r\n    public QuadTree(int level, Rectangle bounds) {\r\n\r\n        this.level = level;\r\n\r\n        objects = new ArrayList&lt;&gt;();\r\n\r\n        this.bounds = bounds;\r\n\r\n        nodes = new QuadTree[4];\r\n\r\n    }\r\n\r\n\r\n\r\n    public void clear() {\r\n\r\n        objects.clear();\r\n\r\n\r\n\r\n        for (int i = 0; i &lt; nodes.length; i++) {\r\n\r\n            if (nodes[i] != null) {\r\n\r\n                nodes[i].clear();\r\n\r\n                nodes[i] = null;\r\n\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n\r\n\r\n\r\n    private void split() {\r\n\r\n        int subWidth = bounds.getWidth() / 2;\r\n\r\n        int subHeight = bounds.getHeight() / 2;\r\n\r\n        int x = bounds.getX();\r\n\r\n        int y = bounds.getY();\r\n\r\n\r\n\r\n        nodes[0] = new QuadTree(level + 1, new Rectangle(x + subWidth, y, subWidth, subHeight));\r\n\r\n        nodes[1] = new QuadTree(level + 1, new Rectangle(x, y, subWidth, subHeight));\r\n\r\n        nodes[2] = new QuadTree(level + 1, new Rectangle(x, y + subHeight, subWidth, subHeight));\r\n\r\n        nodes[3] = new QuadTree(level + 1, new Rectangle(x + subWidth, y + subHeight, subWidth, subHeight));\r\n\r\n    }\r\n\r\n\r\n\r\n    private List&lt;Integer&gt; getIndex(GameObject circle) {\r\n\r\n        List&lt;Integer&gt; index = new ArrayList&lt;&gt;();\r\n\r\n        double verticalMidpoint = bounds.getX() + (bounds.getWidth() / 2);\r\n\r\n        double horizontalMidpoint = bounds.getY() + (bounds.getHeight() / 2);\r\n\r\n\r\n\r\n        boolean topQuadrant = (circle.getY() + (circle.getRadius() / 2) &lt; horizontalMidpoint);\r\n\r\n        boolean bottomQuadrant = (circle.getY() + (circle.getRadius() / 2) &gt; horizontalMidpoint);\r\n\r\n\r\n\r\n        if (circle.getX() + (circle.getRadius() / 2) &lt; verticalMidpoint) {\r\n\r\n            if (topQuadrant) {\r\n\r\n                index.add(1);\r\n\r\n            } else if (bottomQuadrant) {\r\n\r\n                index.add(2);\r\n\r\n            }\r\n\r\n        } else if (circle.getX() + (circle.getRadius() / 2) &gt; verticalMidpoint) {\r\n\r\n            if (topQuadrant) {\r\n\r\n                index.add(0);\r\n\r\n            } else if (bottomQuadrant) {\r\n\r\n                index.add(3);\r\n\r\n            }\r\n\r\n        }\r\n\r\n\r\n\r\n        return index;\r\n\r\n    }\r\n\r\n\r\n\r\n    public void remove(GameObject circle) {\r\n\r\n        List&lt;Integer&gt; index = getIndex(circle);\r\n\r\n        if (index.size() &gt; 0 &amp;&amp; nodes[0] != null) {\r\n\r\n            for (int i : index) {\r\n\r\n                if (nodes[i].bounds.contains(circle))\r\n\r\n                    nodes[i].remove(circle);\r\n\r\n            }\r\n\r\n        } else {\r\n\r\n            objects.remove(circle);\r\n\r\n        }\r\n\r\n\r\n\r\n        if (objects.size() &lt; MAX_OBJECTS &amp;&amp; nodes[0] != null) {\r\n\r\n            for (int i = 0; i &lt; nodes.length; i++) {\r\n\r\n                if (nodes[i] != null) {\r\n\r\n                    nodes[i].clear();\r\n\r\n                    nodes[i] = null;\r\n\r\n                }\r\n\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n\r\n\r\n\r\n    public void insert(GameObject circle) {\r\n\r\n        if (nodes[0] != null) {\r\n\r\n            List&lt;Integer&gt; index = getIndex(circle);\r\n\r\n            if (index.size() &gt; 0) {\r\n\r\n                for (int i : index) {\r\n\r\n                    if (nodes[i].bounds.contains(circle))\r\n\r\n                        nodes[i].insert(circle);\r\n\r\n                }\r\n\r\n                return;\r\n\r\n            }\r\n\r\n        } else {\r\n\r\n            objects.add(circle);\r\n\r\n        }\r\n\r\n\r\n\r\n        if (objects.size() &gt; MAX_OBJECTS &amp;&amp; level &lt; MAX_LEVELS) {\r\n\r\n            if (nodes[0] == null) {\r\n\r\n                split();\r\n\r\n            }\r\n\r\n\r\n\r\n            int i = 0;\r\n\r\n            while (i &lt; objects.size()) {\r\n\r\n                List&lt;Integer&gt; index = getIndex(objects.get(i));\r\n\r\n                if (index.size() &gt; 0) {\r\n\r\n                    for (int io : index) {\r\n\r\n                        if (nodes[io].bounds.contains(objects.get(i)))\r\n\r\n                            nodes[io].insert(objects.remove(i));\r\n\r\n                    }\r\n\r\n                } else {\r\n\r\n                    i++;\r\n\r\n                }\r\n\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n\r\n\r\n\r\n    public List&lt;GameObject&gt; retrieve(List&lt;GameObject&gt; returnObjects, GameObject circle) {\r\n\r\n        List&lt;Integer&gt; index = getIndex(circle);\r\n\r\n        if (index.size() &gt; 0 &amp;&amp; nodes[0] != null) {\r\n\r\n            for (int i : index) {\r\n\r\n                if (nodes[i].bounds.contains(circle))\r\n\r\n                    nodes[i].retrieve(returnObjects, circle);\r\n\r\n            }\r\n\r\n        }\r\n\r\n\r\n\r\n        returnObjects.addAll(objects);\r\n\r\n\r\n\r\n        return returnObjects;\r\n\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n\r\nAll nearby objects should have been returned to handle collisions, but because something went wrong when searching for objects at the intersection of the node, this did not happen.","title":"QuadTree not scanning objects in some areas","body":"<p>My game has a quadrant tree for handling collisions (All objects is circles). I made a QuadTree class for my game using GPT, everything was fine, but when I added 5k objects, the game took more than 150ms to process all collisions (very long for my game). The problem was that for each object, the nearest half of the map was returned. I fixed (sort of) freezes, now it returns about 6-10 objects for each, which is good. But now, sometimes when an object appears or moves to some point on the map, it loses its collision, and no object can collide with it from one or more sides. I think it's because the object is at the junction of two nodes. I have no idea how to fix it, what am I doing wrong?\nPlease help me.</p>\n<p>Here is the code of the QuadTree class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\npublic class QuadTree {\n\n    private static final int MAX_OBJECTS = 5;\n\n    private static final int MAX_LEVELS = 10;\n\n\n\n    private int level;\n\n    private List&lt;GameObject&gt; objects;\n\n    private Rectangle bounds;\n\n    private QuadTree[] nodes;\n\n\n\n    public QuadTree(int level, Rectangle bounds) {\n\n        this.level = level;\n\n        objects = new ArrayList&lt;&gt;();\n\n        this.bounds = bounds;\n\n        nodes = new QuadTree[4];\n\n    }\n\n\n\n    public void clear() {\n\n        objects.clear();\n\n\n\n        for (int i = 0; i &lt; nodes.length; i++) {\n\n            if (nodes[i] != null) {\n\n                nodes[i].clear();\n\n                nodes[i] = null;\n\n            }\n\n        }\n\n    }\n\n\n\n    private void split() {\n\n        int subWidth = bounds.getWidth() / 2;\n\n        int subHeight = bounds.getHeight() / 2;\n\n        int x = bounds.getX();\n\n        int y = bounds.getY();\n\n\n\n        nodes[0] = new QuadTree(level + 1, new Rectangle(x + subWidth, y, subWidth, subHeight));\n\n        nodes[1] = new QuadTree(level + 1, new Rectangle(x, y, subWidth, subHeight));\n\n        nodes[2] = new QuadTree(level + 1, new Rectangle(x, y + subHeight, subWidth, subHeight));\n\n        nodes[3] = new QuadTree(level + 1, new Rectangle(x + subWidth, y + subHeight, subWidth, subHeight));\n\n    }\n\n\n\n    private List&lt;Integer&gt; getIndex(GameObject circle) {\n\n        List&lt;Integer&gt; index = new ArrayList&lt;&gt;();\n\n        double verticalMidpoint = bounds.getX() + (bounds.getWidth() / 2);\n\n        double horizontalMidpoint = bounds.getY() + (bounds.getHeight() / 2);\n\n\n\n        boolean topQuadrant = (circle.getY() + (circle.getRadius() / 2) &lt; horizontalMidpoint);\n\n        boolean bottomQuadrant = (circle.getY() + (circle.getRadius() / 2) &gt; horizontalMidpoint);\n\n\n\n        if (circle.getX() + (circle.getRadius() / 2) &lt; verticalMidpoint) {\n\n            if (topQuadrant) {\n\n                index.add(1);\n\n            } else if (bottomQuadrant) {\n\n                index.add(2);\n\n            }\n\n        } else if (circle.getX() + (circle.getRadius() / 2) &gt; verticalMidpoint) {\n\n            if (topQuadrant) {\n\n                index.add(0);\n\n            } else if (bottomQuadrant) {\n\n                index.add(3);\n\n            }\n\n        }\n\n\n\n        return index;\n\n    }\n\n\n\n    public void remove(GameObject circle) {\n\n        List&lt;Integer&gt; index = getIndex(circle);\n\n        if (index.size() &gt; 0 &amp;&amp; nodes[0] != null) {\n\n            for (int i : index) {\n\n                if (nodes[i].bounds.contains(circle))\n\n                    nodes[i].remove(circle);\n\n            }\n\n        } else {\n\n            objects.remove(circle);\n\n        }\n\n\n\n        if (objects.size() &lt; MAX_OBJECTS &amp;&amp; nodes[0] != null) {\n\n            for (int i = 0; i &lt; nodes.length; i++) {\n\n                if (nodes[i] != null) {\n\n                    nodes[i].clear();\n\n                    nodes[i] = null;\n\n                }\n\n            }\n\n        }\n\n    }\n\n\n\n    public void insert(GameObject circle) {\n\n        if (nodes[0] != null) {\n\n            List&lt;Integer&gt; index = getIndex(circle);\n\n            if (index.size() &gt; 0) {\n\n                for (int i : index) {\n\n                    if (nodes[i].bounds.contains(circle))\n\n                        nodes[i].insert(circle);\n\n                }\n\n                return;\n\n            }\n\n        } else {\n\n            objects.add(circle);\n\n        }\n\n\n\n        if (objects.size() &gt; MAX_OBJECTS &amp;&amp; level &lt; MAX_LEVELS) {\n\n            if (nodes[0] == null) {\n\n                split();\n\n            }\n\n\n\n            int i = 0;\n\n            while (i &lt; objects.size()) {\n\n                List&lt;Integer&gt; index = getIndex(objects.get(i));\n\n                if (index.size() &gt; 0) {\n\n                    for (int io : index) {\n\n                        if (nodes[io].bounds.contains(objects.get(i)))\n\n                            nodes[io].insert(objects.remove(i));\n\n                    }\n\n                } else {\n\n                    i++;\n\n                }\n\n            }\n\n        }\n\n    }\n\n\n\n    public List&lt;GameObject&gt; retrieve(List&lt;GameObject&gt; returnObjects, GameObject circle) {\n\n        List&lt;Integer&gt; index = getIndex(circle);\n\n        if (index.size() &gt; 0 &amp;&amp; nodes[0] != null) {\n\n            for (int i : index) {\n\n                if (nodes[i].bounds.contains(circle))\n\n                    nodes[i].retrieve(returnObjects, circle);\n\n            }\n\n        }\n\n\n\n        returnObjects.addAll(objects);\n\n\n\n        return returnObjects;\n\n    }\n\n}\n\n</code></pre>\n<p>All nearby objects should have been returned to handle collisions, but because something went wrong when searching for objects at the intersection of the node, this did not happen.</p>\n"},{"tags":["java","http","multipartform-data","multipart"],"answers":[{"comments":[{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1261651042,"post_id":1957728,"comment_id":1870296,"body_markdown":"Added RFC 2388 for the same story without the HTML part :)","body":"Added RFC 2388 for the same story without the HTML part :)"}],"tags":[],"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1261651002,"creation_date":1261649921,"answer_id":1957728,"question_id":1957696,"body_markdown":"To the point, you need to construct an outputstream with data in the format as specified in [RFC 1687][1] and [RFC 2388][2]. It&#39;s a lot of work, I am not going to post a kickoff code example, sorry :) The RFC however contains clear information and several examples how the data should look like. It is absolutely doable.\r\n\r\n\r\n  [1]: http://www.faqs.org/rfcs/rfc1867.html\r\n  [2]: http://www.faqs.org/rfcs/rfc2388.html","title":"Creating a post request including a multipart file upload","body":"<p>To the point, you need to construct an outputstream with data in the format as specified in <a href=\"http://www.faqs.org/rfcs/rfc1867.html\" rel=\"nofollow noreferrer\">RFC 1687</a> and <a href=\"http://www.faqs.org/rfcs/rfc2388.html\" rel=\"nofollow noreferrer\">RFC 2388</a>. It's a lot of work, I am not going to post a kickoff code example, sorry :) The RFC however contains clear information and several examples how the data should look like. It is absolutely doable.</p>\n"},{"comments":[{"owner":{"account_id":12462,"reputation":162446,"user_id":24545,"accept_rate":99,"display_name":"Yuval Adam"},"score":0,"creation_date":1261653699,"post_id":1957735,"comment_id":1870460,"body_markdown":"I do have some integration issues, but if it&#39;s easier then implementing the request encoding, I&#39;ll go with an external lib. thanks :)","body":"I do have some integration issues, but if it&#39;s easier then implementing the request encoding, I&#39;ll go with an external lib. thanks :)"}],"tags":[],"owner":{"account_id":9148,"reputation":16366,"user_id":16784,"accept_rate":82,"display_name":"Confusion"},"comment_count":1,"down_vote_count":1,"up_vote_count":5,"is_accepted":true,"score":4,"last_activity_date":1691056704,"creation_date":1261650012,"answer_id":1957735,"question_id":1957696,"body_markdown":"Currently you aren&#39;t using HTTP at all. If you intend to do a POST, the first thing you need to do is make sure you send the correct headers and such, so you are actually engaging in an HTTP connection. Then you need to follow RFC 1867 ( https://www.rfc-editor.org/rfc/rfc1867 ) to properly encode the file contents into your POST. This is not easy, which is why there are libraries out there which do this for you. So I have to ask: why avoid HttpClient? I&#39;ve always used it for this purpose. It&#39;s reliable, complete and performant. Are you short on (memory/disk) space?","title":"Creating a post request including a multipart file upload","body":"<p>Currently you aren't using HTTP at all. If you intend to do a POST, the first thing you need to do is make sure you send the correct headers and such, so you are actually engaging in an HTTP connection. Then you need to follow RFC 1867 ( <a href=\"https://www.rfc-editor.org/rfc/rfc1867\" rel=\"nofollow noreferrer\">https://www.rfc-editor.org/rfc/rfc1867</a> ) to properly encode the file contents into your POST. This is not easy, which is why there are libraries out there which do this for you. So I have to ask: why avoid HttpClient? I've always used it for this purpose. It's reliable, complete and performant. Are you short on (memory/disk) space?</p>\n"},{"tags":[],"owner":{"account_id":1275039,"reputation":1174,"user_id":1230483,"accept_rate":44,"display_name":"Aashish Katta"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1333365190,"creation_date":1333365190,"answer_id":9975363,"question_id":1957696,"body_markdown":"Try this as this worked in my case\r\n\r\n    File f = new File(filePath);\r\n    PostMethod filePost = new PostMethod(url);\r\n    Part[] parts = { new FilePart(&quot;file&quot;, f) };\r\n    filePost.setRequestEntity(new MultipartRequestEntity(parts,\r\n    filePost.getParams()));\r\n    HttpClient client = new HttpClient();\r\n    status = client.executeMethod(filePost);\r\n    logger.info(&quot;upload status: &quot; + status);\r\n\r\n\r\n\r\n","title":"Creating a post request including a multipart file upload","body":"<p>Try this as this worked in my case</p>\n\n<pre><code>File f = new File(filePath);\nPostMethod filePost = new PostMethod(url);\nPart[] parts = { new FilePart(\"file\", f) };\nfilePost.setRequestEntity(new MultipartRequestEntity(parts,\nfilePost.getParams()));\nHttpClient client = new HttpClient();\nstatus = client.executeMethod(filePost);\nlogger.info(\"upload status: \" + status);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1212844,"reputation":6042,"user_id":1181063,"display_name":"Florian Sesser"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1481387529,"creation_date":1481387529,"answer_id":41077730,"question_id":1957696,"body_markdown":"This code snippet served me well: [Upload files by sending multipart request programmatically](http://www.codejava.net/java-se/networking/upload-files-by-sending-multipart-request-programmatically)\r\n\r\nIt does not have any external dependencies, is only ~ 150 lines of code including comments and is IMHO even easier to handle than the Apache HttpClient library.","title":"Creating a post request including a multipart file upload","body":"<p>This code snippet served me well: <a href=\"http://www.codejava.net/java-se/networking/upload-files-by-sending-multipart-request-programmatically\" rel=\"nofollow noreferrer\">Upload files by sending multipart request programmatically</a></p>\n\n<p>It does not have any external dependencies, is only ~ 150 lines of code including comments and is IMHO even easier to handle than the Apache HttpClient library.</p>\n"}],"owner":{"account_id":12462,"reputation":162446,"user_id":24545,"accept_rate":99,"display_name":"Yuval Adam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3300,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":1957735,"answer_count":4,"score":0,"last_activity_date":1691056704,"creation_date":1261649513,"question_id":1957696,"body_markdown":"I am writing a simple snippet which sends a simple post request.\r\n\r\nCurrently I am building the request like so:\r\n\r\n        // Construct data\r\n        String data = URLEncoder.encode(&quot;param1&quot;, &quot;UTF-8&quot;) + &quot;=&quot; + URLEncoder.encode(&quot;val1&quot;, &quot;UTF-8&quot;);\r\n        data += &quot;&amp;&quot; + URLEncoder.encode(&quot;param2&quot;, &quot;UTF-8&quot;) + &quot;=&quot; + URLEncoder.encode(&quot;val2&quot;, &quot;UTF-8&quot;);\r\n        \r\n        // Send data\r\n        URL url = new URL(&quot;http://server:8080/servlet/upload&quot;);\r\n        URLConnection conn = url.openConnection();\r\n        conn.setDoOutput(true);\r\n        OutputStreamWriter wr = new OutputStreamWriter(conn.getOutputStream());\r\n        wr.write(data);\r\n        wr.flush();\r\n\r\n        // do stuff with response....\r\nThis works, as of now. But I need to add a file upload as a multipart POST request.\r\nHow can I do this? I would like to avoid using `HttpClient` from commons if possible.","title":"Creating a post request including a multipart file upload","body":"<p>I am writing a simple snippet which sends a simple post request.</p>\n\n<p>Currently I am building the request like so:</p>\n\n<pre><code>    // Construct data\n    String data = URLEncoder.encode(\"param1\", \"UTF-8\") + \"=\" + URLEncoder.encode(\"val1\", \"UTF-8\");\n    data += \"&amp;\" + URLEncoder.encode(\"param2\", \"UTF-8\") + \"=\" + URLEncoder.encode(\"val2\", \"UTF-8\");\n\n    // Send data\n    URL url = new URL(\"http://server:8080/servlet/upload\");\n    URLConnection conn = url.openConnection();\n    conn.setDoOutput(true);\n    OutputStreamWriter wr = new OutputStreamWriter(conn.getOutputStream());\n    wr.write(data);\n    wr.flush();\n\n    // do stuff with response....\n</code></pre>\n\n<p>This works, as of now. But I need to add a file upload as a multipart POST request.\nHow can I do this? I would like to avoid using <code>HttpClient</code> from commons if possible.</p>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":22849397,"reputation":1,"user_id":16995249,"display_name":"Lucas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691056398,"creation_date":1691056398,"answer_id":76826929,"question_id":75198293,"body_markdown":"Language Support for Java v1.15.0  = Seems broken\r\n\r\nChange the version doing the downgrade to the\r\n\r\nLanguage Support for Java to v1.14.0.","title":"VSCode takes a lot of time to Load Java Projects on creating","body":"<p>Language Support for Java v1.15.0  = Seems broken</p>\n<p>Change the version doing the downgrade to the</p>\n<p>Language Support for Java to v1.14.0.</p>\n"}],"owner":{"account_id":20262101,"reputation":11,"user_id":14860214,"display_name":"AB-san"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":387,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1691056398,"creation_date":1674364149,"question_id":75198293,"body_markdown":"VScode takes a really long time to load a Java project on creating it for the first time also can I change files(start writing my code in the files during this Opening process)\r\n\r\nI have just started learning Java Full Stack. I am using VSCode and I dont think I am going to switch IDE. So, the problem I face is everytime I create a new Java project it says Opening Java projects check details and it keeps loading for a very long time. Can I fix this anyway or atleast can I check how much time is it going to take to open this java project and also can I change the files and start learning while this opening process is going on???","title":"VSCode takes a lot of time to Load Java Projects on creating","body":"<p>VScode takes a really long time to load a Java project on creating it for the first time also can I change files(start writing my code in the files during this Opening process)</p>\n<p>I have just started learning Java Full Stack. I am using VSCode and I dont think I am going to switch IDE. So, the problem I face is everytime I create a new Java project it says Opening Java projects check details and it keeps loading for a very long time. Can I fix this anyway or atleast can I check how much time is it going to take to open this java project and also can I change the files and start learning while this opening process is going on???</p>\n"},{"tags":["java","spring-boot","cypher","jqassistant"],"answers":[{"comments":[{"owner":{"account_id":3439876,"reputation":1304,"user_id":2882083,"accept_rate":90,"display_name":"Venkat"},"score":0,"creation_date":1691474483,"post_id":76826858,"comment_id":135492661,"body_markdown":"Thank you @dirk-mahler for the feedback. Is this the same case for Spring RestTemplate clients too ?","body":"Thank you @dirk-mahler for the feedback. Is this the same case for Spring RestTemplate clients too ?"},{"owner":{"account_id":3479819,"reputation":1186,"user_id":2912200,"display_name":"Dirk Mahler"},"score":1,"creation_date":1692533976,"post_id":76826858,"comment_id":135633695,"body_markdown":"Yes, every approach that relies on constructing REST URLs at runtime (String concatenation) falls under that category which is not safely analyzable using jQA (or more general: static code analysis)","body":"Yes, every approach that relies on constructing REST URLs at runtime (String concatenation) falls under that category which is not safely analyzable using jQA (or more general: static code analysis)"}],"tags":[],"owner":{"account_id":3479819,"reputation":1186,"user_id":2912200,"display_name":"Dirk Mahler"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1691056010,"creation_date":1691056010,"answer_id":76826858,"question_id":76809330,"body_markdown":"There&#39;s no generic way of matching the client invocations to the providing service endpoints - it&#39;s highly dependent on the programming model of the client. Feign has a declarative model which makes it quite easy to provide the mapping, but there would be nearly no chance to do this if someone used Apache HTTP client constructing resource URLs by doing string concatenation.\r\nEnabling this kind of client-server interaction analysis would add requirements to the programming model used on client side, e.g. to use Feign or OpenAPI contracts. For the latter we&#39;re currently building a scanner which will be available in autumn this year.","title":"jQAssistant analysis to find microservices and their clients","body":"<p>There's no generic way of matching the client invocations to the providing service endpoints - it's highly dependent on the programming model of the client. Feign has a declarative model which makes it quite easy to provide the mapping, but there would be nearly no chance to do this if someone used Apache HTTP client constructing resource URLs by doing string concatenation.\nEnabling this kind of client-server interaction analysis would add requirements to the programming model used on client side, e.g. to use Feign or OpenAPI contracts. For the latter we're currently building a scanner which will be available in autumn this year.</p>\n"}],"owner":{"account_id":3439876,"reputation":1304,"user_id":2882083,"accept_rate":90,"display_name":"Venkat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76826858,"answer_count":1,"score":0,"last_activity_date":1691056010,"creation_date":1690874515,"question_id":76809330,"body_markdown":"I&#39;m following https://github.com/graphaware/fix-your-microservices to scan and identify the Micro services and their respective consumers to identify if there are any circular dependencies in my application. \r\n\r\nThe challenge in my case is the consumers may use any one of the client libraries including Github OpenFeign, Spring OpenFeign, Apache HTTP Client, OAuthRestTemplate/RestTemplate, OkHttpClient etc. I&#39;m able to identify the Rest Controllers in my spring boot based application. That&#39;s pretty straight forward using the RestController annotations. What&#39;s challenging is to identify the client/consumers using the REST API&#39;s by the path and match them with the provider REST API&#39;s. \r\n\r\nEach client library have a different way of invoking the services. Its fine even it means to write separate cypher queries for each of the libraries. But I&#39;m not able to identify the relation as mentioned in the above article using `INVOKES_REMOTE`. What would be the approach to match the client invocation of those services using the respective URI ? I&#39;m using jqassistant command-line 1.12.2 utility to scan multiple microservices from my source.\r\n\r\nThanks in advance.","title":"jQAssistant analysis to find microservices and their clients","body":"<p>I'm following <a href=\"https://github.com/graphaware/fix-your-microservices\" rel=\"nofollow noreferrer\">https://github.com/graphaware/fix-your-microservices</a> to scan and identify the Micro services and their respective consumers to identify if there are any circular dependencies in my application.</p>\n<p>The challenge in my case is the consumers may use any one of the client libraries including Github OpenFeign, Spring OpenFeign, Apache HTTP Client, OAuthRestTemplate/RestTemplate, OkHttpClient etc. I'm able to identify the Rest Controllers in my spring boot based application. That's pretty straight forward using the RestController annotations. What's challenging is to identify the client/consumers using the REST API's by the path and match them with the provider REST API's.</p>\n<p>Each client library have a different way of invoking the services. Its fine even it means to write separate cypher queries for each of the libraries. But I'm not able to identify the relation as mentioned in the above article using <code>INVOKES_REMOTE</code>. What would be the approach to match the client invocation of those services using the respective URI ? I'm using jqassistant command-line 1.12.2 utility to scan multiple microservices from my source.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","spring","soap"],"answers":[{"tags":[],"owner":{"account_id":26461836,"reputation":1,"user_id":20103643,"display_name":"SNap97"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1691055983,"creation_date":1691055909,"answer_id":76826838,"question_id":76787227,"body_markdown":"I managed to send attachments like this\r\n\r\n```\r\nimport java.io.ByteArrayInputStream;\r\nimport java.io.InputStream;\r\nimport java.io.OutputStream;\r\n\r\npublic class ByteArrayDataSource implements javax.activation.DataSource {\r\n    private final byte[] data;\r\n    private final String contentType;\r\n\r\n    public ByteArrayDataSource(byte[] data, String contentType) {\r\n        this.data = data;\r\n        this.contentType = contentType;\r\n    }\r\n\r\n    @Override\r\n    public InputStream getInputStream() {\r\n        return new ByteArrayInputStream(data);\r\n    }\r\n\r\n    @Override\r\n    public OutputStream getOutputStream() {\r\n        throw new UnsupportedOperationException(&quot;Not supported&quot;);\r\n    }\r\n\r\n    @Override\r\n    public String getContentType() {\r\n        return contentType;\r\n    }\r\n\r\n    @Override\r\n    public String getName() {\r\n        return &quot;ByteArrayDataSource&quot;;\r\n    }\r\n}\r\n```\r\n\r\n```\r\n public &lt;T, L&gt; boolean sendRequestWithAttachment(T request, Class&lt;L&gt; responseClass, Photo attachment) {\r\n        try {\r\n            // Create a SOAPMessage object\r\n            MessageFactory messageFactory = MessageFactory.newInstance();\r\n            SOAPMessage soapMessage = messageFactory.createMessage();\r\n            SOAPPart soapPart = soapMessage.getSOAPPart();\r\n\r\n            // Construct the SOAP request\r\n            SOAPEnvelope envelope = soapPart.getEnvelope();\r\n            SOAPBody body = envelope.getBody();\r\n\r\n            // Marshal request object\r\n            JAXBContext jc = JAXBContext.newInstance(request.getClass());\r\n            Marshaller marshaller = jc.createMarshaller();\r\n            marshaller.marshal(request, body);\r\n\r\n            // Create and add attachment parts\r\n            String attachmentName = attachment.getFileName();\r\n            String contentType = attachment.getPhoto().getMime();\r\n            String finalContentType = contentType + &quot;; name=&quot; + attachmentName;\r\n            byte[] attachmentBytes = attachment.getPhoto().getData();\r\n\r\n            DataHandler dataHandler = new DataHandler(new ByteArrayDataSource(attachmentBytes, contentType));\r\n\r\n            AttachmentPart attachmentPart = soapMessage.createAttachmentPart();\r\n            attachmentPart.setContentId(attachmentName);\r\n            attachmentPart.setContentType(finalContentType);\r\n            attachmentPart.setMimeHeader(&quot;Content-Transfer-Encoding&quot;, &quot;binary&quot;);\r\n            attachmentPart.setMimeHeader(&quot;Content-Disposition&quot;, &quot;attachment; name=\\&quot;&quot; + attachmentName + &quot;\\&quot;; filename=\\&quot;&quot; + attachmentName + &quot;\\&quot;&quot;);\r\n            attachmentPart.setDataHandler(dataHandler);\r\n\r\n            soapMessage.addAttachmentPart(attachmentPart);\r\n\r\n            // Save message changes\r\n            soapMessage.saveChanges();\r\n\r\n            // Set SOAP headers\r\n            String requestContentType = &quot;multipart/related; type=\\&quot;text/xml\\&quot;; start=\\&quot;&lt;rootpart@soapui.org&gt;\\&quot;&quot;;\r\n            MimeHeaders headers = soapMessage.getMimeHeaders();\r\n            headers.addHeader(&quot;SOAPAction&quot;, &quot;&quot;);\r\n            headers.addHeader(&quot;Content-Type&quot;, requestContentType);\r\n\r\n            String credentials = userName + &quot;:&quot; + password;\r\n            String encodedCredentials = Base64.getEncoder().encodeToString(credentials.getBytes(StandardCharsets.UTF_8));\r\n            headers.addHeader(&quot;Authorization&quot;, &quot;Basic &quot; + encodedCredentials);\r\n\r\n            // Send the SOAP request and receive the response\r\n            SOAPConnectionFactory soapConnectionFactory = SOAPConnectionFactory.newInstance();\r\n            SOAPConnection soapConnection = soapConnectionFactory.createConnection();\r\n\r\n            SOAPMessage soapResponse = soapConnection.call(soapMessage, uri);\r\n\r\n            // SOAP response to string\r\n            ByteArrayOutputStream out = new ByteArrayOutputStream();\r\n            soapResponse.writeTo(out);\r\n            String response = out.toString();\r\n\r\n            // Close the connection\r\n            soapConnection.close();\r\n\r\n            // Ummarshal response to object\r\n            ummarshalResponse(response ,responseClass);\r\n            return true;\r\n        } catch (Exception ex) {\r\n            return false;\r\n        }\r\n    }\r\n\r\n```","title":"How do i add image/jpeg as attachment to SOAP request","body":"<p>I managed to send attachments like this</p>\n<pre><code>import java.io.ByteArrayInputStream;\nimport java.io.InputStream;\nimport java.io.OutputStream;\n\npublic class ByteArrayDataSource implements javax.activation.DataSource {\n    private final byte[] data;\n    private final String contentType;\n\n    public ByteArrayDataSource(byte[] data, String contentType) {\n        this.data = data;\n        this.contentType = contentType;\n    }\n\n    @Override\n    public InputStream getInputStream() {\n        return new ByteArrayInputStream(data);\n    }\n\n    @Override\n    public OutputStream getOutputStream() {\n        throw new UnsupportedOperationException(&quot;Not supported&quot;);\n    }\n\n    @Override\n    public String getContentType() {\n        return contentType;\n    }\n\n    @Override\n    public String getName() {\n        return &quot;ByteArrayDataSource&quot;;\n    }\n}\n</code></pre>\n<pre><code> public &lt;T, L&gt; boolean sendRequestWithAttachment(T request, Class&lt;L&gt; responseClass, Photo attachment) {\n        try {\n            // Create a SOAPMessage object\n            MessageFactory messageFactory = MessageFactory.newInstance();\n            SOAPMessage soapMessage = messageFactory.createMessage();\n            SOAPPart soapPart = soapMessage.getSOAPPart();\n\n            // Construct the SOAP request\n            SOAPEnvelope envelope = soapPart.getEnvelope();\n            SOAPBody body = envelope.getBody();\n\n            // Marshal request object\n            JAXBContext jc = JAXBContext.newInstance(request.getClass());\n            Marshaller marshaller = jc.createMarshaller();\n            marshaller.marshal(request, body);\n\n            // Create and add attachment parts\n            String attachmentName = attachment.getFileName();\n            String contentType = attachment.getPhoto().getMime();\n            String finalContentType = contentType + &quot;; name=&quot; + attachmentName;\n            byte[] attachmentBytes = attachment.getPhoto().getData();\n\n            DataHandler dataHandler = new DataHandler(new ByteArrayDataSource(attachmentBytes, contentType));\n\n            AttachmentPart attachmentPart = soapMessage.createAttachmentPart();\n            attachmentPart.setContentId(attachmentName);\n            attachmentPart.setContentType(finalContentType);\n            attachmentPart.setMimeHeader(&quot;Content-Transfer-Encoding&quot;, &quot;binary&quot;);\n            attachmentPart.setMimeHeader(&quot;Content-Disposition&quot;, &quot;attachment; name=\\&quot;&quot; + attachmentName + &quot;\\&quot;; filename=\\&quot;&quot; + attachmentName + &quot;\\&quot;&quot;);\n            attachmentPart.setDataHandler(dataHandler);\n\n            soapMessage.addAttachmentPart(attachmentPart);\n\n            // Save message changes\n            soapMessage.saveChanges();\n\n            // Set SOAP headers\n            String requestContentType = &quot;multipart/related; type=\\&quot;text/xml\\&quot;; start=\\&quot;&lt;rootpart@soapui.org&gt;\\&quot;&quot;;\n            MimeHeaders headers = soapMessage.getMimeHeaders();\n            headers.addHeader(&quot;SOAPAction&quot;, &quot;&quot;);\n            headers.addHeader(&quot;Content-Type&quot;, requestContentType);\n\n            String credentials = userName + &quot;:&quot; + password;\n            String encodedCredentials = Base64.getEncoder().encodeToString(credentials.getBytes(StandardCharsets.UTF_8));\n            headers.addHeader(&quot;Authorization&quot;, &quot;Basic &quot; + encodedCredentials);\n\n            // Send the SOAP request and receive the response\n            SOAPConnectionFactory soapConnectionFactory = SOAPConnectionFactory.newInstance();\n            SOAPConnection soapConnection = soapConnectionFactory.createConnection();\n\n            SOAPMessage soapResponse = soapConnection.call(soapMessage, uri);\n\n            // SOAP response to string\n            ByteArrayOutputStream out = new ByteArrayOutputStream();\n            soapResponse.writeTo(out);\n            String response = out.toString();\n\n            // Close the connection\n            soapConnection.close();\n\n            // Ummarshal response to object\n            ummarshalResponse(response ,responseClass);\n            return true;\n        } catch (Exception ex) {\n            return false;\n        }\n    }\n\n</code></pre>\n"}],"owner":{"account_id":26461836,"reputation":1,"user_id":20103643,"display_name":"SNap97"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76826838,"answer_count":1,"score":0,"last_activity_date":1691055983,"creation_date":1690542378,"question_id":76787227,"body_markdown":"I have this method, which works:\r\n\r\n```\r\npublic &lt;T, L&gt; L sendRequest(T request) {\r\n\r\n        L responseClass;\r\n        try {\r\n            responseClass = (L) getWebServiceTemplate()\r\n                    .marshalSendAndReceive(uri, request,\r\n                                           new SoapActionCallback(\r\n                                                   uri + &quot;/&quot; + request.getClass().getName()));\r\n        } catch (SoapFaultClientException ex) {\r\n        \tthrow new CommonException(HttpStatus.BAD_REQUEST, &quot;Some error&quot;, ex);\r\n        } catch (Exception ex) {\r\n        \tthrow new CommonException(HttpStatus.BAD_REQUEST, &quot;Some error 2&quot;, ex);\r\n        }\r\n\r\n        return responseClass;\r\n    }\r\n```\r\n\r\nRequest objects are generated from wsdl.\r\nI need to implement sending image/jpeg as attachment in SOAP request.\r\n\r\n`public &lt;T, L&gt; L sendRequestWithAttachment(T request, byte[] imageData)`\r\n\r\nI know i probably have to use AttachmentPart, but I cant find the way to make it work. Thanks in advance for any help","title":"How do i add image/jpeg as attachment to SOAP request","body":"<p>I have this method, which works:</p>\n<pre><code>public &lt;T, L&gt; L sendRequest(T request) {\n\n        L responseClass;\n        try {\n            responseClass = (L) getWebServiceTemplate()\n                    .marshalSendAndReceive(uri, request,\n                                           new SoapActionCallback(\n                                                   uri + &quot;/&quot; + request.getClass().getName()));\n        } catch (SoapFaultClientException ex) {\n            throw new CommonException(HttpStatus.BAD_REQUEST, &quot;Some error&quot;, ex);\n        } catch (Exception ex) {\n            throw new CommonException(HttpStatus.BAD_REQUEST, &quot;Some error 2&quot;, ex);\n        }\n\n        return responseClass;\n    }\n</code></pre>\n<p>Request objects are generated from wsdl.\nI need to implement sending image/jpeg as attachment in SOAP request.</p>\n<p><code>public &lt;T, L&gt; L sendRequestWithAttachment(T request, byte[] imageData)</code></p>\n<p>I know i probably have to use AttachmentPart, but I cant find the way to make it work. Thanks in advance for any help</p>\n"},{"tags":["javascript","java","charts","vaadin","echarts"],"comments":[{"owner":{"account_id":28903024,"reputation":728,"user_id":22137541,"display_name":"Matthias Mertens"},"score":0,"creation_date":1691060092,"post_id":76826777,"comment_id":135441843,"body_markdown":"I dont know anything about Vaadin but in echarts its neccessary to set the size of the underlying div. From [SO Charts](https://vaadin.com/directory/component/so-charts) sample code I can see a similar procedure: `soChart.setSize(&quot;800px&quot;, &quot;500px&quot;);`. Are you setting the size? Are you able to get any visual output other than a line?","body":"I dont know anything about Vaadin but in echarts its neccessary to set the size of the underlying div. From <a href=\"https://vaadin.com/directory/component/so-charts\" rel=\"nofollow noreferrer\">SO Charts</a> sample code I can see a similar procedure: <code>soChart.setSize(&quot;800px&quot;, &quot;500px&quot;);</code>. Are you setting the size? Are you able to get any visual output other than a line?"},{"owner":{"account_id":16934870,"reputation":110,"user_id":12248145,"display_name":"chillin.killer"},"score":0,"creation_date":1691067734,"post_id":76826777,"comment_id":135443459,"body_markdown":"I always used setSizeFull() to make the chart responsive but as you suggested I also tried to set a fixed sizing and this is the result: https://imgur.com/a/ZF7fMub","body":"I always used setSizeFull() to make the chart responsive but as you suggested I also tried to set a fixed sizing and this is the result: <a href=\"https://imgur.com/a/ZF7fMub\" rel=\"nofollow noreferrer\">imgur.com/a/ZF7fMub</a>"},{"owner":{"account_id":16934870,"reputation":110,"user_id":12248145,"display_name":"chillin.killer"},"score":0,"creation_date":1691067766,"post_id":76826777,"comment_id":135443470,"body_markdown":"A gist containing the source is here: https://gist.github.com/MyHouseIsBig/36d3ef9e4d039a64493a33d905f942fa","body":"A gist containing the source is here: <a href=\"https://gist.github.com/MyHouseIsBig/36d3ef9e4d039a64493a33d905f942fa\" rel=\"nofollow noreferrer\">gist.github.com/MyHouseIsBig/36d3ef9e4d039a64493a33d905f942f&zwnj;&#8203;a</a>"},{"owner":{"account_id":28903024,"reputation":728,"user_id":22137541,"display_name":"Matthias Mertens"},"score":0,"creation_date":1691069790,"post_id":76826777,"comment_id":135443957,"body_markdown":"Is the given image an improvement? How do you want it to look?","body":"Is the given image an improvement? How do you want it to look?"},{"owner":{"account_id":16934870,"reputation":110,"user_id":12248145,"display_name":"chillin.killer"},"score":0,"creation_date":1691073018,"post_id":76826777,"comment_id":135444785,"body_markdown":"There should be a big red line that goes from 99900 to 99990","body":"There should be a big red line that goes from 99900 to 99990"},{"owner":{"account_id":28903024,"reputation":728,"user_id":22137541,"display_name":"Matthias Mertens"},"score":0,"creation_date":1691073894,"post_id":76826777,"comment_id":135444990,"body_markdown":"You are also setting the yValues to 99900 and 99990. Is this intentional?","body":"You are also setting the yValues to 99900 and 99990. Is this intentional?"},{"owner":{"account_id":16934870,"reputation":110,"user_id":12248145,"display_name":"chillin.killer"},"score":0,"creation_date":1691075015,"post_id":76826777,"comment_id":135445262,"body_markdown":"I&#39;m setting the values to a certain index in the xValues or yValues array. For example xValues.get(99900) is equal to 99900 but yValues.get(99900)) is equal to something between 0.1 and 0.9","body":"I&#39;m setting the values to a certain index in the xValues or yValues array. For example xValues.get(99900) is equal to 99900 but yValues.get(99900)) is equal to something between 0.1 and 0.9"},{"owner":{"account_id":28903024,"reputation":728,"user_id":22137541,"display_name":"Matthias Mertens"},"score":0,"creation_date":1691081665,"post_id":76826777,"comment_id":135446658,"body_markdown":"mhh.. and you are sure that the syntax should work like that? Maybe its only plotting two points which are not shown on the large scale. Try plotting only a few points to reduce complexity. How would you add multiple additional lines?","body":"mhh.. and you are sure that the syntax should work like that? Maybe its only plotting two points which are not shown on the large scale. Try plotting only a few points to reduce complexity. How would you add multiple additional lines?"}],"owner":{"account_id":16934870,"reputation":110,"user_id":12248145,"display_name":"chillin.killer"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691055872,"creation_date":1691055556,"question_id":76826777,"body_markdown":"I&#39;ve tried almost everything to solve it by myself but i cannot find a way to create a line with a start position and an end position and add it to a chart. From the documentation that I found on [HERE](https://storedobject.com/api/com/storedobject/chart/Line.html) I coded the snippet below. The xValues and yValues are some random values that I generated for a LineChart but I also tried with some custom numeric values.\r\n\r\nAny help would be really appreciated ❤️.\r\n\r\n\r\n````java\r\n// Add a custom line on the chart\r\nLine line = new Line(new Shape.Point(xValues.get(99900), yValues.get(99900)), new Shape.Point(xValues.get(99990), yValues.get(99990)));\r\nline.setName(&quot;Linea importantissima&quot;);\r\nline.getStyle(true).setFillColor(new Color(&quot;red&quot;));\r\nline.getStyle(true).setLineWidth(10);\r\n\r\nsoChart.add(... , line);\r\n````","title":"Cannot add lines to a chart using Vaadin SOCharts","body":"<p>I've tried almost everything to solve it by myself but i cannot find a way to create a line with a start position and an end position and add it to a chart. From the documentation that I found on <a href=\"https://storedobject.com/api/com/storedobject/chart/Line.html\" rel=\"nofollow noreferrer\">HERE</a> I coded the snippet below. The xValues and yValues are some random values that I generated for a LineChart but I also tried with some custom numeric values.</p>\n<p>Any help would be really appreciated ❤️.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Add a custom line on the chart\nLine line = new Line(new Shape.Point(xValues.get(99900), yValues.get(99900)), new Shape.Point(xValues.get(99990), yValues.get(99990)));\nline.setName(&quot;Linea importantissima&quot;);\nline.getStyle(true).setFillColor(new Color(&quot;red&quot;));\nline.getStyle(true).setLineWidth(10);\n\nsoChart.add(... , line);\n</code></pre>\n"},{"tags":["java","dependencies"],"comments":[{"owner":{"account_id":259805,"reputation":386,"user_id":542938,"display_name":"vivek"},"score":0,"creation_date":1691055055,"post_id":76826634,"comment_id":135440734,"body_markdown":"This has already been asked and answered here: https://stackoverflow.com/questions/45842742/when-would-i-need-maven-dependency-with-runtime-scope","body":"This has already been asked and answered here: <a href=\"https://stackoverflow.com/questions/45842742/when-would-i-need-maven-dependency-with-runtime-scope\" title=\"when would i need maven dependency with runtime scope\">stackoverflow.com/questions/45842742/&hellip;</a>"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1691055444,"post_id":76826634,"comment_id":135440845,"body_markdown":"Classic examples are 1) where your code runs inside a framework, 2) where you are implementing an application that supports plugins.  (This is independent of how you express the &quot;dependencies&quot; ... and indeed the programming language.)","body":"Classic examples are 1) where your code runs inside a framework, 2) where you are implementing an application that supports plugins.  (This is independent of how you express the &quot;dependencies&quot; ... and indeed the programming language.)"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1691065405,"post_id":76826634,"comment_id":135442929,"body_markdown":"The common example are JDBC drivers: as long as you only use the interfaces and classes from the JDBC API, you don&#39;t need to driver at compile time, you only need it at runtime.","body":"The common example are JDBC drivers: as long as you only use the interfaces and classes from the JDBC API, you don&#39;t need to driver at compile time, you only need it at runtime."}],"answers":[{"comments":[{"owner":{"account_id":16841069,"reputation":2161,"user_id":12176460,"display_name":"YoavKlein"},"score":0,"creation_date":1691060131,"post_id":76826826,"comment_id":135441848,"body_markdown":"in this case, no particular implementation is a runtime dependency which I can declare of. There&#39;s only a compile-time dependency for the interface. What am I missing?","body":"in this case, no particular implementation is a runtime dependency which I can declare of. There&#39;s only a compile-time dependency for the interface. What am I missing?"},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1691104657,"post_id":76826826,"comment_id":135450567,"body_markdown":"You nailed it. Nothing you can declare of at compile time other than the interface.","body":"You nailed it. Nothing you can declare of at compile time other than the interface."},{"owner":{"account_id":16841069,"reputation":2161,"user_id":12176460,"display_name":"YoavKlein"},"score":0,"creation_date":1691128936,"post_id":76826826,"comment_id":135452507,"body_markdown":"Build tools such as Maven and Gradle allows you to declare &quot;runtime dependencies&quot;, and that is the question - what is the meaning of a runtime-only dependency?","body":"Build tools such as Maven and Gradle allows you to declare &quot;runtime dependencies&quot;, and that is the question - what is the meaning of a runtime-only dependency?"},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1691154722,"post_id":76826826,"comment_id":135457224,"body_markdown":"Many projects allow you to run the project through maven. Just invoke `mvn run`. Now how would you setup the runtime dependencies (the classpath) without such a feature? https://stackoverflow.com/questions/1089285/maven-run-project","body":"Many projects allow you to run the project through maven. Just invoke <code>mvn run</code>. Now how would you setup the runtime dependencies (the classpath) without such a feature? <a href=\"https://stackoverflow.com/questions/1089285/maven-run-project\">stackoverflow.com/questions/1089285/maven-run-project</a>"}],"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691055850,"creation_date":1691055850,"answer_id":76826826,"question_id":76826634,"body_markdown":"If your code depends on an interface (or base class), it can be compiled.\r\nAt runtime a concise implementation of the interface, or a subclass may be used, and these may come from additional jars that were not required during compile time.\r\n\r\nYou (or any library/framework used at runtime) can dynamically load classes via the Reflection API.\r\n\r\nSee https://docs.oracle.com/javase/tutorial/reflect/","title":"How can one have a runtime-only dependency in Java?","body":"<p>If your code depends on an interface (or base class), it can be compiled.\nAt runtime a concise implementation of the interface, or a subclass may be used, and these may come from additional jars that were not required during compile time.</p>\n<p>You (or any library/framework used at runtime) can dynamically load classes via the Reflection API.</p>\n<p>See <a href=\"https://docs.oracle.com/javase/tutorial/reflect/\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/reflect/</a></p>\n"}],"owner":{"account_id":16841069,"reputation":2161,"user_id":12176460,"display_name":"YoavKlein"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1691063073,"answer_count":1,"score":0,"last_activity_date":1691055850,"creation_date":1691054588,"question_id":76826634,"body_markdown":"I&#39;m trying to understand how is it possible to have a runtime-only dependency in Java. I understand the concept of compile-time-only dependencies, for example when your code uses an Annotation library, and the annotations are consumed by the compiler to enforce some policies, but this library isn&#39;t used on runtime.\r\n\r\nBut regarding runtime-only dependencies, I can&#39;t understand how is possible.\r\n\r\nLet&#39;s say my code contains Class A:\r\n```\r\nclass A {\r\n    void someMethod() {\r\n        B b = new B();\r\n        b.foo();\r\n    {\r\n}\r\n```\r\n\r\nSo my code depends on class B, which is obviously a compile-time and runtime dependency. A runtime-only dependency implies that the dependency is not needed at compile time, which implies that my code doesn&#39;t directly refer to it, so why is it a dependency at all?\r\n\r\nWould love some concrete example.","title":"How can one have a runtime-only dependency in Java?","body":"<p>I'm trying to understand how is it possible to have a runtime-only dependency in Java. I understand the concept of compile-time-only dependencies, for example when your code uses an Annotation library, and the annotations are consumed by the compiler to enforce some policies, but this library isn't used on runtime.</p>\n<p>But regarding runtime-only dependencies, I can't understand how is possible.</p>\n<p>Let's say my code contains Class A:</p>\n<pre><code>class A {\n    void someMethod() {\n        B b = new B();\n        b.foo();\n    {\n}\n</code></pre>\n<p>So my code depends on class B, which is obviously a compile-time and runtime dependency. A runtime-only dependency implies that the dependency is not needed at compile time, which implies that my code doesn't directly refer to it, so why is it a dependency at all?</p>\n<p>Would love some concrete example.</p>\n"},{"tags":["java","spring","spring-boot","yaml"],"answers":[{"tags":[],"owner":{"account_id":9592064,"reputation":5123,"user_id":7122593,"accept_rate":78,"display_name":"Barath"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691055711,"creation_date":1504150319,"answer_id":45972770,"question_id":45972178,"body_markdown":"I tried your project , Please see the below changes : \r\n\r\nConfiguration metadata key`(com.foo.bar.allcreds)` will get overriden if it finds the same key under active profiles but you have to follow the same list pattern: \r\n\r\n    com.foo.bar.allcreds:\r\n      credentials:\r\n        - user: bill\r\n          password: monic@\r\n        - user: hilary\r\n          password: my_em@ilz\r\n\r\n\r\n    @Configuration\r\n    @EnableConfigurationProperties\r\n    @ConfigurationProperties(prefix = &quot;com.foo.bar.allcreds&quot;)\r\n    public class AllCredentials {\r\n        private List&lt;Credentials&gt; credentials;\r\n    \r\n        public List&lt;Credentials&gt; getCredentials() {\r\n            return credentials;\r\n        }\r\n    \r\n        public void setCredentials(List&lt;Credentials&gt; credentials) {\r\n            this.credentials = credentials;\r\n        }\r\n    \r\n    }\r\n\r\n\r\n    public class Credentials {\r\n    \r\n        private String user;\r\n        private String password;\r\n    \r\n    }\r\n\r\napplication.yml : \r\n\r\n    com.foo.bar.allcreds:\r\n      credentials:\r\n        - user: bill\r\n          password: monic@\r\n        - user: hilary\r\n          password: my_em@ilz\r\nTest : \r\n\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest\r\n    @ActiveProfiles(&quot;prod&quot;)\r\n    public class YamlPojoMergeApplicationTests {\r\n    \r\n    \t\r\n    \r\n    \t@Autowired\r\n    \tAllCredentials allCredentials;\r\n    \r\n    \t\r\n    \r\n    \t//This works\r\n    \t@Test(expected = AssertionError.class)\r\n    \tpublic void testAllCredentials() {\r\n    \t\tCredentials credentials1 = allCredentials.getCredentials().get(0);\r\n    \t\tCredentials credentials2 = allCredentials.getCredentials().get(1);\r\n    \r\n    \t\tassertThat(credentials1.getUser(), is(equalTo(&quot;bill&quot;)));\r\n    \t\tassertThat(credentials1.getPassword(), is(equalTo(&quot;monic@&quot;)));\r\n    \r\n    \t\tassertThat(credentials2.getUser(), is(equalTo(&quot;hilary&quot;)));\r\n    \t\tassertThat(credentials2.getPassword(), is(equalTo(&quot;my_em@ilz&quot;)));\r\n    \t}\r\n    \r\n    }\r\n\r\nSome useful discussion on merge(deprecated) you can find it here :\r\n\r\nhttps://github.com/spring-projects/spring-boot/issues/2750\r\n\r\n\r\n","title":"merging yaml across multiple spring profiles","body":"<p>I tried your project , Please see the below changes :</p>\n<p>Configuration metadata key<code>(com.foo.bar.allcreds)</code> will get overriden if it finds the same key under active profiles but you have to follow the same list pattern:</p>\n<pre><code>com.foo.bar.allcreds:\n  credentials:\n    - user: bill\n      password: monic@\n    - user: hilary\n      password: my_em@ilz\n\n\n@Configuration\n@EnableConfigurationProperties\n@ConfigurationProperties(prefix = &quot;com.foo.bar.allcreds&quot;)\npublic class AllCredentials {\n    private List&lt;Credentials&gt; credentials;\n\n    public List&lt;Credentials&gt; getCredentials() {\n        return credentials;\n    }\n\n    public void setCredentials(List&lt;Credentials&gt; credentials) {\n        this.credentials = credentials;\n    }\n\n}\n\n\npublic class Credentials {\n\n    private String user;\n    private String password;\n\n}\n</code></pre>\n<p>application.yml :</p>\n<pre><code>com.foo.bar.allcreds:\n  credentials:\n    - user: bill\n      password: monic@\n    - user: hilary\n      password: my_em@ilz\n</code></pre>\n<p>Test :</p>\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest\n@ActiveProfiles(&quot;prod&quot;)\npublic class YamlPojoMergeApplicationTests {\n\n    \n\n    @Autowired\n    AllCredentials allCredentials;\n\n    \n\n    //This works\n    @Test(expected = AssertionError.class)\n    public void testAllCredentials() {\n        Credentials credentials1 = allCredentials.getCredentials().get(0);\n        Credentials credentials2 = allCredentials.getCredentials().get(1);\n\n        assertThat(credentials1.getUser(), is(equalTo(&quot;bill&quot;)));\n        assertThat(credentials1.getPassword(), is(equalTo(&quot;monic@&quot;)));\n\n        assertThat(credentials2.getUser(), is(equalTo(&quot;hilary&quot;)));\n        assertThat(credentials2.getPassword(), is(equalTo(&quot;my_em@ilz&quot;)));\n    }\n\n}\n</code></pre>\n<p>Some useful discussion on merge(deprecated) you can find it here :</p>\n<p><a href=\"https://github.com/spring-projects/spring-boot/issues/2750\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/issues/2750</a></p>\n"}],"owner":{"account_id":2392184,"reputation":693,"user_id":2091827,"accept_rate":81,"display_name":"Vinay B"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3002,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691055711,"creation_date":1504145348,"question_id":45972178,"body_markdown":"I offer one solution at the end of this post but what is the preferred way to do this? My use case is to read yaml across multiple profiles and merge to a single configuration that maps to a java class. \r\n\r\nA sample project describing this issue is at https://github.com/balamuru/yaml-pojo-merge\r\n\r\neg. Consider the following POJO\r\n\r\n    public class Credentials {\r\n        private String user;\r\n        private String password;\r\n    }\r\n\r\nThis can be composed into a collection in several ways\r\n\r\na collection of Credential objects\r\ndirect descriptive instances of Credential objects\r\n\r\n    public class AllCredentials {\r\n        private List&lt;Credentials&gt; credentials; //won&#39;t merge (will override instead) because spring doesn&#39;t know which original Credential list item to over-ride when an override value is supplied in the profile (for instance , if only one password is supplied, spring doesn&#39;t know whether to update list item 1 or 2 etc)\r\n    }\r\n    public class FamilyCredentials {\r\n        private Credentials husband; //the corresponding yaml is determinate - and spring can determine exactly what field to update\r\n        private Credentials wife;\r\n    } \r\n\r\n\r\nThe corresponding representations in the default and profile specific YML files follows\r\n\r\n    com.foo.bar.allcreds:\r\n      credentials:\r\n        - user: bill\r\n          password: bi123\r\n        - user: hilary\r\n          password: h123\r\n    \r\n    com.foo.bar.famcreds:\r\n      husband:\r\n        user: bill\r\n        password: bi123\r\n      wife:\r\n        user: hilary\r\n        password: h123\r\n    \r\n    ---\r\n    spring.profiles: prod\r\n    com.foo.bar.allcreds:\r\n      credentials:\r\n        - password: monic@\r\n        - password: my_em@ilz\r\n    \r\n    com.foo.bar.famcreds:\r\n      husband:\r\n        password: monic@\r\n      wife:\r\n        password: my_em@ilz    \r\n\r\nIt is observed that in the case of List, Spring cannot determine which credential instance to update the password for (even if the user name is suppllied) since it is provided a list of items, and there is no guarantee that all items are provided, or (even in order for that matter)\r\n\r\nOTOH, the FamilyCredentials YAML resolves perfectly since the paths to the password fields are well formed and determinate.\r\n\r\nThe solution, if dealing with unbounded data structures, is to employ something that allows us to qualify the segment being modified i.e. a hashmap. Here is a data structure that will work (the keys &quot;mr_prez&quot; and &quot;first_lady&quot; enable precise resolution of the qualified yaml properties that are updated).\r\n\r\nThe test cases in this project bear this out.\r\n\r\n    public class AllCredentialsMap {\r\n        private Map&lt;String, Credentials&gt; credentials;\r\n    and the corresponding yaml segments\r\n    \r\n    com.foo.bar.allcredsmap:\r\n      credentials:\r\n        mr_prez:\r\n          user: bill\r\n          password: bi123\r\n        first_lady:\r\n          user: hilary\r\n          password: h123\r\n    \r\n    ---\r\n    spring.profiles: prod\r\n    \r\n    com.foo.bar.allcredsmap:\r\n      credentials:\r\n        mr_prez:\r\n          password: monic@\r\n        first_lady:\r\n          password: my_em@ilz  \r\n\r\n","title":"merging yaml across multiple spring profiles","body":"<p>I offer one solution at the end of this post but what is the preferred way to do this? My use case is to read yaml across multiple profiles and merge to a single configuration that maps to a java class. </p>\n\n<p>A sample project describing this issue is at <a href=\"https://github.com/balamuru/yaml-pojo-merge\" rel=\"nofollow noreferrer\">https://github.com/balamuru/yaml-pojo-merge</a></p>\n\n<p>eg. Consider the following POJO</p>\n\n<pre><code>public class Credentials {\n    private String user;\n    private String password;\n}\n</code></pre>\n\n<p>This can be composed into a collection in several ways</p>\n\n<p>a collection of Credential objects\ndirect descriptive instances of Credential objects</p>\n\n<pre><code>public class AllCredentials {\n    private List&lt;Credentials&gt; credentials; //won't merge (will override instead) because spring doesn't know which original Credential list item to over-ride when an override value is supplied in the profile (for instance , if only one password is supplied, spring doesn't know whether to update list item 1 or 2 etc)\n}\npublic class FamilyCredentials {\n    private Credentials husband; //the corresponding yaml is determinate - and spring can determine exactly what field to update\n    private Credentials wife;\n} \n</code></pre>\n\n<p>The corresponding representations in the default and profile specific YML files follows</p>\n\n<pre><code>com.foo.bar.allcreds:\n  credentials:\n    - user: bill\n      password: bi123\n    - user: hilary\n      password: h123\n\ncom.foo.bar.famcreds:\n  husband:\n    user: bill\n    password: bi123\n  wife:\n    user: hilary\n    password: h123\n\n---\nspring.profiles: prod\ncom.foo.bar.allcreds:\n  credentials:\n    - password: monic@\n    - password: my_em@ilz\n\ncom.foo.bar.famcreds:\n  husband:\n    password: monic@\n  wife:\n    password: my_em@ilz    \n</code></pre>\n\n<p>It is observed that in the case of List, Spring cannot determine which credential instance to update the password for (even if the user name is suppllied) since it is provided a list of items, and there is no guarantee that all items are provided, or (even in order for that matter)</p>\n\n<p>OTOH, the FamilyCredentials YAML resolves perfectly since the paths to the password fields are well formed and determinate.</p>\n\n<p>The solution, if dealing with unbounded data structures, is to employ something that allows us to qualify the segment being modified i.e. a hashmap. Here is a data structure that will work (the keys \"mr_prez\" and \"first_lady\" enable precise resolution of the qualified yaml properties that are updated).</p>\n\n<p>The test cases in this project bear this out.</p>\n\n<pre><code>public class AllCredentialsMap {\n    private Map&lt;String, Credentials&gt; credentials;\nand the corresponding yaml segments\n\ncom.foo.bar.allcredsmap:\n  credentials:\n    mr_prez:\n      user: bill\n      password: bi123\n    first_lady:\n      user: hilary\n      password: h123\n\n---\nspring.profiles: prod\n\ncom.foo.bar.allcredsmap:\n  credentials:\n    mr_prez:\n      password: monic@\n    first_lady:\n      password: my_em@ilz  \n</code></pre>\n"},{"tags":["java","amazon-web-services","amazon-s3","aws-sdk-java-2.0"],"answers":[{"comments":[{"owner":{"account_id":18245650,"reputation":3,"user_id":13281826,"display_name":"Matan"},"score":0,"creation_date":1673944811,"post_id":75136080,"comment_id":132604009,"body_markdown":"Thanks,\nIs this solution written in any documentation?","body":"Thanks, Is this solution written in any documentation?"},{"owner":{"account_id":7339794,"reputation":2468,"user_id":5589820,"display_name":"Mehmet G&#252;ng&#246;ren"},"score":0,"creation_date":1673944926,"post_id":75136080,"comment_id":132604039,"body_markdown":"I implement this function","body":"I implement this function"}],"tags":[],"owner":{"account_id":7339794,"reputation":2468,"user_id":5589820,"display_name":"Mehmet G&#252;ng&#246;ren"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1673881728,"creation_date":1673881371,"answer_id":75136080,"question_id":75134205,"body_markdown":"This code will help you to copy object with multipart in Java S3 SDK v2.\r\n\r\n```java\r\n    private final S3Client s3Client = S3Client.builder().build();\r\n\r\n    public void copyObjectWithMultiPart() {\r\n\r\n        String destBucketName = &quot;destination-bucket&quot;;\r\n        String destObjectKey = &quot;destination-object-key&quot;;\r\n        String sourceBucketName = &quot;source-bucket&quot;;\r\n        String sourceObjectKey = &quot;source-object-key&quot;;\r\n\r\n        // Initiate the multipart upload.\r\n        CreateMultipartUploadRequest createMultipartUploadRequest = CreateMultipartUploadRequest.builder()\r\n                .bucket(destBucketName)\r\n                .key(destObjectKey)\r\n                .build();\r\n\r\n        CreateMultipartUploadResponse multipartUploadResponse = s3Client.createMultipartUpload(createMultipartUploadRequest);\r\n\r\n        // Get the object size to track the end of the copy operation.\r\n        HeadObjectRequest headObjectRequest = HeadObjectRequest.builder()\r\n                .bucket(sourceBucketName)\r\n                .key(sourceObjectKey)\r\n                .build();\r\n        long objectSize = s3Client.headObject(headObjectRequest).contentLength();\r\n\r\n        // Copy the object using 5 MB parts.\r\n        long partSize = 5 * 1024 * 1024;\r\n        long bytePosition = 0;\r\n        int partNum = 1;\r\n        List&lt;CompletedPart&gt; etags = new ArrayList&lt;&gt;();\r\n        while (bytePosition &lt; objectSize) {\r\n            // The last part might be smaller than partSize, so check to make sure\r\n            // that lastByte isn&#39;t beyond the end of the object.\r\n            long lastByte = Math.min(bytePosition + partSize - 1, objectSize - 1);\r\n\r\n            // Copy this part.\r\n            UploadPartCopyRequest uploadPartCopyRequest = UploadPartCopyRequest.builder()\r\n                    .sourceBucket(sourceBucketName)\r\n                    .sourceKey(sourceObjectKey)\r\n                    .destinationBucket(destBucketName)\r\n                    .destinationKey(destObjectKey)\r\n                    .uploadId(multipartUploadResponse.uploadId())\r\n                    .partNumber(partNum)\r\n                    .copySourceRange(String.format(&quot;bytes=%d-%d&quot;, bytePosition, lastByte))\r\n                    .build();\r\n\r\n            UploadPartCopyResponse uploadPartCopyResponse = s3Client.uploadPartCopy(uploadPartCopyRequest);\r\n            etags.add(\r\n                    CompletedPart.builder()\r\n                            .partNumber(partNum++)\r\n                            .eTag(uploadPartCopyResponse.copyPartResult().eTag())\r\n                            .build()\r\n            );\r\n            bytePosition += partSize;\r\n        }\r\n\r\n        // Complete the upload request to concatenate all uploaded parts and make the copied object available.\r\n        CompletedMultipartUpload completedMultipartUpload = CompletedMultipartUpload.builder()\r\n                .parts(etags)\r\n                .build();\r\n\r\n        CompleteMultipartUploadRequest completeMultipartUploadRequest =\r\n                CompleteMultipartUploadRequest.builder()\r\n                        .bucket(destBucketName)\r\n                        .key(destObjectKey)\r\n                        .uploadId(multipartUploadResponse.uploadId())\r\n                        .multipartUpload(completedMultipartUpload)\r\n                        .build();\r\n\r\n        s3Client.completeMultipartUpload(completeMultipartUploadRequest);\r\n    }\r\n```","title":"AWS S3 Copy File Larger than 5GB (version 2.x)","body":"<p>This code will help you to copy object with multipart in Java S3 SDK v2.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private final S3Client s3Client = S3Client.builder().build();\n\n    public void copyObjectWithMultiPart() {\n\n        String destBucketName = &quot;destination-bucket&quot;;\n        String destObjectKey = &quot;destination-object-key&quot;;\n        String sourceBucketName = &quot;source-bucket&quot;;\n        String sourceObjectKey = &quot;source-object-key&quot;;\n\n        // Initiate the multipart upload.\n        CreateMultipartUploadRequest createMultipartUploadRequest = CreateMultipartUploadRequest.builder()\n                .bucket(destBucketName)\n                .key(destObjectKey)\n                .build();\n\n        CreateMultipartUploadResponse multipartUploadResponse = s3Client.createMultipartUpload(createMultipartUploadRequest);\n\n        // Get the object size to track the end of the copy operation.\n        HeadObjectRequest headObjectRequest = HeadObjectRequest.builder()\n                .bucket(sourceBucketName)\n                .key(sourceObjectKey)\n                .build();\n        long objectSize = s3Client.headObject(headObjectRequest).contentLength();\n\n        // Copy the object using 5 MB parts.\n        long partSize = 5 * 1024 * 1024;\n        long bytePosition = 0;\n        int partNum = 1;\n        List&lt;CompletedPart&gt; etags = new ArrayList&lt;&gt;();\n        while (bytePosition &lt; objectSize) {\n            // The last part might be smaller than partSize, so check to make sure\n            // that lastByte isn't beyond the end of the object.\n            long lastByte = Math.min(bytePosition + partSize - 1, objectSize - 1);\n\n            // Copy this part.\n            UploadPartCopyRequest uploadPartCopyRequest = UploadPartCopyRequest.builder()\n                    .sourceBucket(sourceBucketName)\n                    .sourceKey(sourceObjectKey)\n                    .destinationBucket(destBucketName)\n                    .destinationKey(destObjectKey)\n                    .uploadId(multipartUploadResponse.uploadId())\n                    .partNumber(partNum)\n                    .copySourceRange(String.format(&quot;bytes=%d-%d&quot;, bytePosition, lastByte))\n                    .build();\n\n            UploadPartCopyResponse uploadPartCopyResponse = s3Client.uploadPartCopy(uploadPartCopyRequest);\n            etags.add(\n                    CompletedPart.builder()\n                            .partNumber(partNum++)\n                            .eTag(uploadPartCopyResponse.copyPartResult().eTag())\n                            .build()\n            );\n            bytePosition += partSize;\n        }\n\n        // Complete the upload request to concatenate all uploaded parts and make the copied object available.\n        CompletedMultipartUpload completedMultipartUpload = CompletedMultipartUpload.builder()\n                .parts(etags)\n                .build();\n\n        CompleteMultipartUploadRequest completeMultipartUploadRequest =\n                CompleteMultipartUploadRequest.builder()\n                        .bucket(destBucketName)\n                        .key(destObjectKey)\n                        .uploadId(multipartUploadResponse.uploadId())\n                        .multipartUpload(completedMultipartUpload)\n                        .build();\n\n        s3Client.completeMultipartUpload(completeMultipartUploadRequest);\n    }\n</code></pre>\n"}],"owner":{"account_id":18245650,"reputation":3,"user_id":13281826,"display_name":"Matan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":592,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75136080,"answer_count":1,"score":0,"last_activity_date":1691055694,"creation_date":1673871896,"question_id":75134205,"body_markdown":"I&#39;m trying to copy files from folder to folder in the same bucket in s3 storage.\r\nI need to copy files that are greater than 5GB and I saw in the docs that regular copy doesn&#39;t support this kind of copy [see here](https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/s3/S3Client.html#copyObject(software.amazon.awssdk.services.s3.model.CopyObjectRequest))\r\n\r\n\r\n[This link](https://docs.aws.amazon.com/AmazonS3/latest/userguide/CopyingObjectsMPUapi.html\r\n) in the docs shows how to do it, but this code is for version 1.x and not 2.x.\r\n\r\nI searched the new docs but I found [only this](https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/examples-s3-objects.html#copy-an-object) and there is no code that shows how to multipart copy only regular copy.\r\n\r\nIt should be noted that another user [asked about this](https://stackoverflow.com/questions/74347248/aws-sdk-v2-for-java-copy-object-greater-than-5gb) but with no replies.","title":"AWS S3 Copy File Larger than 5GB (version 2.x)","body":"<p>I'm trying to copy files from folder to folder in the same bucket in s3 storage.\nI need to copy files that are greater than 5GB and I saw in the docs that regular copy doesn't support this kind of copy <a href=\"https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/s3/S3Client.html#copyObject(software.amazon.awssdk.services.s3.model.CopyObjectRequest)\" rel=\"nofollow noreferrer\">see here</a></p>\n<p><a href=\"https://docs.aws.amazon.com/AmazonS3/latest/userguide/CopyingObjectsMPUapi.html\" rel=\"nofollow noreferrer\">This link</a> in the docs shows how to do it, but this code is for version 1.x and not 2.x.</p>\n<p>I searched the new docs but I found <a href=\"https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/examples-s3-objects.html#copy-an-object\" rel=\"nofollow noreferrer\">only this</a> and there is no code that shows how to multipart copy only regular copy.</p>\n<p>It should be noted that another user <a href=\"https://stackoverflow.com/questions/74347248/aws-sdk-v2-for-java-copy-object-greater-than-5gb\">asked about this</a> but with no replies.</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":69477,"reputation":12916,"user_id":202085,"accept_rate":83,"display_name":"Upgradingdave"},"score":0,"creation_date":1321373326,"post_id":8139115,"comment_id":9987649,"body_markdown":"Just as a sanity check, to be sure you&#39;re using the maven you just installed: what&#39;s the output of `mvn --version`? I&#39;ve run into strangeness like this with 2 versions of maven installed.","body":"Just as a sanity check, to be sure you&#39;re using the maven you just installed: what&#39;s the output of <code>mvn --version</code>? I&#39;ve run into strangeness like this with 2 versions of maven installed."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":1,"creation_date":1321373595,"post_id":8139115,"comment_id":9987745,"body_markdown":"It&#39;s likely not the issue, but in general, I recommend avoiding paths with spaces. (Or tildes, for that matter.) I don&#39;t see the issue locally, though.","body":"It&#39;s likely not the issue, but in general, I recommend avoiding paths with spaces. (Or tildes, for that matter.) I don&#39;t see the issue locally, though."},{"owner":{"account_id":327575,"reputation":2804,"user_id":650027,"accept_rate":72,"display_name":"jchristof"},"score":0,"creation_date":1321373999,"post_id":8139115,"comment_id":9987919,"body_markdown":"@Dave - I formatted the above better. mvn -version is what produces this output.","body":"@Dave - I formatted the above better. mvn -version is what produces this output."},{"owner":{"account_id":327575,"reputation":2804,"user_id":650027,"accept_rate":72,"display_name":"jchristof"},"score":0,"creation_date":1321375162,"post_id":8139115,"comment_id":9988383,"body_markdown":"@ Dave N - yeah, Apache recommends installing into that path. It seems to be ok in terms of finding mvn though. since c:\\mvn -version at least finds mvn.","body":"@ Dave N - yeah, Apache recommends installing into that path. It seems to be ok in terms of finding mvn though. since c:\\mvn -version at least finds mvn."},{"owner":{"account_id":93007,"reputation":51990,"user_id":254643,"display_name":"Raghuram"},"score":0,"creation_date":1321431261,"post_id":8139115,"comment_id":10001455,"body_markdown":"Possibly related to http://stackoverflow.com/questions/6823940/error-when-trying-to-see-mvn-version-in-cmd","body":"Possibly related to <a href=\"http://stackoverflow.com/questions/6823940/error-when-trying-to-see-mvn-version-in-cmd\" title=\"error when trying to see mvn version in cmd\">stackoverflow.com/questions/6823940/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":327575,"reputation":2804,"user_id":650027,"accept_rate":72,"display_name":"jchristof"},"score":0,"creation_date":1321376050,"post_id":8139450,"comment_id":9988726,"body_markdown":"at the risk of providing too much info:PATH=\nC:\\Projects\\Mobile\\Tools\\android-sdk-windows\\tools;\nC:\\Projects\\Mobile\\Tools\\android-sdk-windows\\platform-tools;\nC:\\Projects\\Mobile\\Tools\\ant\\bin;\nC:\\Windows\\system32;\nC:\\Windows;\nC:\\Program Files\\Perforce;\nC:\\Program Files\\Java\\jre6\\bin;\nC:\\Program Files\\TortoiseSVN\\bin;\nC:\\Progra~1\\Java\\jdk1.6.0_25\\bin;\nC:\\Program Files\\Apache Software Foundation\\apache-maven-3.0.3\\bin;","body":"at the risk of providing too much info:PATH= C:\\Projects\\Mobile\\Tools\\android-sdk-windows\\tools; C:\\Projects\\Mobile\\Tools\\android-sdk-windows\\platform-tools; C:\\Projects\\Mobile\\Tools\\ant\\bin; C:\\Windows\\system32; C:\\Windows; C:\\Program Files\\Perforce; C:\\Program Files\\Java\\jre6\\bin; C:\\Program Files\\TortoiseSVN\\bin; C:\\Progra~1\\Java\\jdk1.6.0_25\\bin; C:\\Program Files\\Apache Software Foundation\\apache-maven-3.0.3\\bin;"},{"owner":{"account_id":78268,"reputation":3821,"user_id":222867,"accept_rate":78,"display_name":"qwerty"},"score":7,"creation_date":1332824678,"post_id":8139450,"comment_id":12606187,"body_markdown":"This is a helpful answer. It made me notice that M2_HOME was still pointing to my old maven installation, which causes the above error (in my case)","body":"This is a helpful answer. It made me notice that M2_HOME was still pointing to my old maven installation, which causes the above error (in my case)"},{"owner":{"account_id":2752510,"reputation":401,"user_id":2371568,"display_name":"Mir Kazim Ali Tabrez"},"score":0,"creation_date":1618899482,"post_id":8139450,"comment_id":118735049,"body_markdown":"I had Path having 2 JDK folders. M2_Home was pointing to older version of maven. Fixed these issues and it started working.","body":"I had Path having 2 JDK folders. M2_Home was pointing to older version of maven. Fixed these issues and it started working."}],"tags":[],"owner":{"account_id":195691,"reputation":28439,"user_id":438742,"accept_rate":73,"display_name":"kan"},"comment_count":3,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1321373634,"creation_date":1321373634,"answer_id":8139450,"question_id":8139115,"body_markdown":"I had similar by having mvn.bat for maven2 in other part of PATH. So check carefully all directories of your PATH variable.","title":"New Maven install: mvn -version java.lang.ClassNotFoundException","body":"<p>I had similar by having mvn.bat for maven2 in other part of PATH. So check carefully all directories of your PATH variable.</p>\n"},{"comments":[{"owner":{"account_id":327575,"reputation":2804,"user_id":650027,"accept_rate":72,"display_name":"jchristof"},"score":0,"creation_date":1321374704,"post_id":8139562,"comment_id":9988186,"body_markdown":"No, no previous installs of Maven, no c:\\mvn.bat. Recent os install.","body":"No, no previous installs of Maven, no c:\\mvn.bat. Recent os install."}],"tags":[],"owner":{"account_id":15903,"reputation":323443,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1321431340,"creation_date":1321374127,"answer_id":8139562,"question_id":8139115,"body_markdown":"Is there a `C:\\mvn.bat`? \r\n\r\nOn Windows, the current folder is always in the `PATH`.\r\n\r\n**[EDIT]** The error can have several reasons: The version of `mvn.bat` doesn&#39;t fit the rest of the code, or the libraries are corrupt.\r\n\r\nTo get one step further, change the line `@echo off` in `mvn.bat` to `@echo on` and run the script again. It will then print each command as it is executed. Search the output for `%CLASSWORLDS_JAR%`\r\n\r\nMake sure all JARs mentioned in `%CLASSWORLDS_JAR%` exist and are OK.","title":"New Maven install: mvn -version java.lang.ClassNotFoundException","body":"<p>Is there a <code>C:\\mvn.bat</code>? </p>\n\n<p>On Windows, the current folder is always in the <code>PATH</code>.</p>\n\n<p><strong>[EDIT]</strong> The error can have several reasons: The version of <code>mvn.bat</code> doesn't fit the rest of the code, or the libraries are corrupt.</p>\n\n<p>To get one step further, change the line <code>@echo off</code> in <code>mvn.bat</code> to <code>@echo on</code> and run the script again. It will then print each command as it is executed. Search the output for <code>%CLASSWORLDS_JAR%</code></p>\n\n<p>Make sure all JARs mentioned in <code>%CLASSWORLDS_JAR%</code> exist and are OK.</p>\n"},{"tags":[],"owner":{"account_id":1422298,"reputation":5871,"user_id":1346690,"accept_rate":71,"display_name":"Heetola"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1361529618,"creation_date":1361529618,"answer_id":15022236,"question_id":8139115,"body_markdown":"I resolved this problem by **removing** all JRE/JDK **then reinstalling** the needed JDK and removing all spaces from folders path.\r\n\r\n    C:\\dev\\jdk\r\n    C:\\dev\\maven3.0.4\r\n    C:\\dev\\project\\myProject\r\n    c:\\dev\\eclipse","title":"New Maven install: mvn -version java.lang.ClassNotFoundException","body":"<p>I resolved this problem by <strong>removing</strong> all JRE/JDK <strong>then reinstalling</strong> the needed JDK and removing all spaces from folders path.</p>\n\n<pre><code>C:\\dev\\jdk\nC:\\dev\\maven3.0.4\nC:\\dev\\project\\myProject\nc:\\dev\\eclipse\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1970394,"reputation":105,"user_id":1769508,"display_name":"Jerry H"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1398978022,"creation_date":1398978022,"answer_id":23416521,"question_id":8139115,"body_markdown":"I was able to resolve my issue with following when\r\n\r\n    export JAVA_HOME=/blah/blah\r\n    export M2_HOME=/usr/local/maven   \r\n    export M2=M2_HOME/bin\r\n\r\nI was able to figure out looking at the folder name, it was 3.2.1\r\n\r\nPerhaps, I didn&#39;t read document, but here&#39;s my answer to this problem.\r\n\r\n    export JAVA_HOME=/blah/blah\r\n    export M3_HOME=/usr/local/maven   \r\n    export M3=M2_HOME/bin\r\n\r\nMy java is 7.  Hope this helps some people with Maven 3 instead of M2.\r\n\r\n\r\n","title":"New Maven install: mvn -version java.lang.ClassNotFoundException","body":"<p>I was able to resolve my issue with following when</p>\n\n<pre><code>export JAVA_HOME=/blah/blah\nexport M2_HOME=/usr/local/maven   \nexport M2=M2_HOME/bin\n</code></pre>\n\n<p>I was able to figure out looking at the folder name, it was 3.2.1</p>\n\n<p>Perhaps, I didn't read document, but here's my answer to this problem.</p>\n\n<pre><code>export JAVA_HOME=/blah/blah\nexport M3_HOME=/usr/local/maven   \nexport M3=M2_HOME/bin\n</code></pre>\n\n<p>My java is 7.  Hope this helps some people with Maven 3 instead of M2.</p>\n"},{"tags":[],"owner":{"account_id":5288972,"reputation":11,"user_id":4222064,"display_name":"mayank"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1415264309,"creation_date":1415264309,"answer_id":26775321,"question_id":8139115,"body_markdown":"even I face the same issue and then i changed echo off to echo on in mvn.bat and find out that  my maven package was not installed properly and boot folder under c:/maven/maven3.0.3 is missing , i copied the missing folder and it worked :)","title":"New Maven install: mvn -version java.lang.ClassNotFoundException","body":"<p>even I face the same issue and then i changed echo off to echo on in mvn.bat and find out that  my maven package was not installed properly and boot folder under c:/maven/maven3.0.3 is missing , i copied the missing folder and it worked :)</p>\n"},{"tags":[],"owner":{"account_id":2204985,"reputation":1225,"user_id":1948438,"display_name":"CamelTM"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1473578961,"creation_date":1473578961,"answer_id":39433837,"question_id":8139115,"body_markdown":"Try this:\r\n\r\n    unset M2_HOME\r\n    source .bash_profile\r\n\r\n.bash_profile:\r\n\r\n    ...\r\n    export M2_HOME=$(/Users/camel/apache-maven-2.2.1)\r\n    export PATH=$PATH:$M2_HOME/bin\r\n    ...\r\n\r\nThis work for my Mac(os x ver 10.11) when I use maven2 after maven3.\r\n\r\n","title":"New Maven install: mvn -version java.lang.ClassNotFoundException","body":"<p>Try this:</p>\n\n<pre><code>unset M2_HOME\nsource .bash_profile\n</code></pre>\n\n<p>.bash_profile:</p>\n\n<pre><code>...\nexport M2_HOME=$(/Users/camel/apache-maven-2.2.1)\nexport PATH=$PATH:$M2_HOME/bin\n...\n</code></pre>\n\n<p>This work for my Mac(os x ver 10.11) when I use maven2 after maven3.</p>\n"},{"tags":[],"owner":{"account_id":6671227,"reputation":181,"user_id":5147317,"display_name":"pioardi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1473582002,"creation_date":1473582002,"answer_id":39434169,"question_id":8139115,"body_markdown":"You probably need to set MAVEN_HOME plus M2_HOME . Both with the same path .\r\nMake sure that the variables must be set so well and try again. After trying to install version 7.8 of java because Version 6 may not be compatible .\r\n\r\n**NB** :  set maven in path , for instance on my Mac I have a .profile with the following settings :\r\nexport JAVA_HOME = $ ( Library / Java / JavaVirtualMachines / jdk1.8.0_101.jdk / Contents / Home )\r\nexport PATH = / Users / alessandropioardizio / Desktop / SDK / apache - maven - 3.1.1 / bin : $ PATH\r\n\r\n\r\nLet me know if it works .","title":"New Maven install: mvn -version java.lang.ClassNotFoundException","body":"<p>You probably need to set MAVEN_HOME plus M2_HOME . Both with the same path .\nMake sure that the variables must be set so well and try again. After trying to install version 7.8 of java because Version 6 may not be compatible .</p>\n\n<p><strong>NB</strong> :  set maven in path , for instance on my Mac I have a .profile with the following settings :\nexport JAVA_HOME = $ ( Library / Java / JavaVirtualMachines / jdk1.8.0_101.jdk / Contents / Home )\nexport PATH = / Users / alessandropioardizio / Desktop / SDK / apache - maven - 3.1.1 / bin : $ PATH</p>\n\n<p>Let me know if it works .</p>\n"},{"tags":[],"owner":{"account_id":9492481,"reputation":50,"user_id":7056750,"display_name":"TobyFagboh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1537525544,"creation_date":1537525544,"answer_id":52441673,"question_id":8139115,"body_markdown":"I resolved mine by upgrading my maven from apache-maven-3.3.9 to apache-maven-3.5.4.\r\nAnd finally, Modify my System variables to apache-maven-3.5.4: Add both M2_HOME\r\n\r\nM2_HOME :: C:\\apache-maven-3.5.4\r\n\r\nJAVA_HOME : C:\\Program Files\\Java\\jdk1.8.0_101","title":"New Maven install: mvn -version java.lang.ClassNotFoundException","body":"<p>I resolved mine by upgrading my maven from apache-maven-3.3.9 to apache-maven-3.5.4.\nAnd finally, Modify my System variables to apache-maven-3.5.4: Add both M2_HOME</p>\n\n<p>M2_HOME :: C:\\apache-maven-3.5.4</p>\n\n<p>JAVA_HOME : C:\\Program Files\\Java\\jdk1.8.0_101</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1691558325,"post_id":76826692,"comment_id":135506128,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/76826692/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":28950872,"reputation":1,"user_id":22175516,"display_name":"Nassima"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691054950,"creation_date":1691054950,"answer_id":76826692,"question_id":8139115,"body_markdown":"you have to delete M2_HOME and try again","title":"New Maven install: mvn -version java.lang.ClassNotFoundException","body":"<p>you have to delete M2_HOME and try again</p>\n"}],"owner":{"account_id":327575,"reputation":2804,"user_id":650027,"accept_rate":72,"display_name":"jchristof"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34142,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":9,"score":11,"last_activity_date":1691054950,"creation_date":1321372312,"question_id":8139115,"body_markdown":"So I&#39;ve installed maven with the following details:\r\n\r\nInstall path: \r\n\r\n    C:\\Program Files\\Apache Software Foundation\\apache-maven-3.0.3\r\n\r\nEnv vars:\r\n\r\n    JAVA_HOME C:\\Progra~1\\Java\\jdk1.6.0_25\r\n    M2_HOME C:\\Program Files\\Apache Software Foundation\\apache-maven-3.0.3\r\n\r\nUser vars:\r\n\r\n    M2 %M2_HOME%\\bin\r\n    PATH %JAVA_HOME%\\bin;%M2%;\r\n\r\nNow, from the command line\r\n\r\n    C:\\&gt;javac -version\r\n    javac 1.6.0_25\r\n\r\n    C:\\&gt;mvn -version\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/codehaus/plexus/c\r\n    lassworlds/launcher/Launcher\r\n\r\n    Caused by: java.lang.ClassNotFoundException: org.codehaus.plexus.classworlds.lau\r\n    ncher.Launcher\r\n            at java.net.URLClassLoader$1.run(URLClassLoader.java:202)\r\n            at java.security.AccessController.doPrivileged(Native Method)\r\n            at java.net.URLClassLoader.findClass(URLClassLoader.java:190)\r\n            at java.lang.ClassLoader.loadClss(ClassLoader.java:306)\r\n            at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:301)\r\n            at java.lang.ClassLoader.loadClass(ClassLoader.java:247)\r\n    Could not find the main class: org.codehaus.plexus.classworlds.launcher.Launcher\r\n    .  Program will exit.\r\n\r\nI&#39;ve been insulated from the command line build details for Java thus far thanks to Eclipse, but it looks like it&#39;s having problems with finding the plexus-classworlds-2.4.jar in the /boot dir. Should I need some additional path info?\r\n\r\nThanks!\r\n\r\n","title":"New Maven install: mvn -version java.lang.ClassNotFoundException","body":"<p>So I've installed maven with the following details:</p>\n\n<p>Install path: </p>\n\n<pre><code>C:\\Program Files\\Apache Software Foundation\\apache-maven-3.0.3\n</code></pre>\n\n<p>Env vars:</p>\n\n<pre><code>JAVA_HOME C:\\Progra~1\\Java\\jdk1.6.0_25\nM2_HOME C:\\Program Files\\Apache Software Foundation\\apache-maven-3.0.3\n</code></pre>\n\n<p>User vars:</p>\n\n<pre><code>M2 %M2_HOME%\\bin\nPATH %JAVA_HOME%\\bin;%M2%;\n</code></pre>\n\n<p>Now, from the command line</p>\n\n<pre><code>C:\\&gt;javac -version\njavac 1.6.0_25\n\nC:\\&gt;mvn -version\nException in thread \"main\" java.lang.NoClassDefFoundError: org/codehaus/plexus/c\nlassworlds/launcher/Launcher\n\nCaused by: java.lang.ClassNotFoundException: org.codehaus.plexus.classworlds.lau\nncher.Launcher\n        at java.net.URLClassLoader$1.run(URLClassLoader.java:202)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at java.net.URLClassLoader.findClass(URLClassLoader.java:190)\n        at java.lang.ClassLoader.loadClss(ClassLoader.java:306)\n        at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:301)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:247)\nCould not find the main class: org.codehaus.plexus.classworlds.launcher.Launcher\n.  Program will exit.\n</code></pre>\n\n<p>I've been insulated from the command line build details for Java thus far thanks to Eclipse, but it looks like it's having problems with finding the plexus-classworlds-2.4.jar in the /boot dir. Should I need some additional path info?</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","encoding","utf-8","character-encoding","xml-parsing"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":1,"creation_date":1690438452,"post_id":76776799,"comment_id":135354394,"body_markdown":"How is the XML data getting into a String? The deciding error is probably being introduced at that point.","body":"How is the XML data getting into a String? The deciding error is probably being introduced at that point."},{"owner":{"account_id":8915028,"reputation":147,"user_id":6653908,"accept_rate":38,"display_name":"Srinivas"},"score":0,"creation_date":1690440326,"post_id":76776799,"comment_id":135354697,"body_markdown":"@TimMoore, reposted question again on how I am getting data into string ? Do I need to read data in any other way ?","body":"@TimMoore, reposted question again on how I am getting data into string ? Do I need to read data in any other way ?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690452929,"post_id":76776799,"comment_id":135357215,"body_markdown":"You should post your xml code (formatted) containing those UNDERTIE (Unicode name) characters","body":"You should post your xml code (formatted) containing those UNDERTIE (Unicode name) characters"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690453520,"post_id":76776799,"comment_id":135357341,"body_markdown":"(And that would be a relevant extract from `data_url`)","body":"(And that would be a relevant extract from <code>data_url</code>)"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":1,"creation_date":1690453890,"post_id":76776799,"comment_id":135357409,"body_markdown":"I would recommend passing the `InputStream` directly to `builder.parse` rather than reading into a `String` first. That way, it will use the encoding declared in the XML declaration inside the data. I suspect it isn&#39;t UTF-8.","body":"I would recommend passing the <code>InputStream</code> directly to <code>builder.parse</code> rather than reading into a <code>String</code> first. That way, it will use the encoding declared in the XML declaration inside the data. I suspect it isn&#39;t UTF-8."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690454670,"post_id":76776799,"comment_id":135357569,"body_markdown":"Very good idea @TimMoore.","body":"Very good idea @TimMoore."},{"owner":{"account_id":8915028,"reputation":147,"user_id":6653908,"accept_rate":38,"display_name":"Srinivas"},"score":0,"creation_date":1690476922,"post_id":76776799,"comment_id":135362740,"body_markdown":"@TimMoore, If I pass InputStream directly, the output is Pre?charged, it is same like UTF-8, question mark remains same. the expected output is Pre-Charged.(when I hit my URL in browser, Iam able to see Pre-Charged )","body":"@TimMoore, If I pass InputStream directly, the output is Pre?charged, it is same like UTF-8, question mark remains same. the expected output is Pre-Charged.(when I hit my URL in browser, Iam able to see Pre-Charged )"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690477521,"post_id":76776799,"comment_id":135362844,"body_markdown":"Is it possible for us to hit the URL? btw *Pre-Charged* (what you just wrote) and *Pre‿Charged* (what you wrote originally) are totally different","body":"Is it possible for us to hit the URL? btw <i>Pre-Charged</i> (what you just wrote) and <i>Pre‿Charged</i> (what you wrote originally) are totally different"},{"owner":{"account_id":8915028,"reputation":147,"user_id":6653908,"accept_rate":38,"display_name":"Srinivas"},"score":0,"creation_date":1690477877,"post_id":76776799,"comment_id":135362933,"body_markdown":"@g00se, sorry Its secured, I can explain you. when I hit the URL in Google chrome, Iam able to see Pre-Charged. But when I am trying to read it using above code, Iam getting PrexE2x80?Charged in my file. I copied that(PrexE2x80?Charged) and pasted in search bar or some text file Iam able to see Pre‿Charged","body":"@g00se, sorry Its secured, I can explain you. when I hit the URL in Google chrome, Iam able to see Pre-Charged. But when I am trying to read it using above code, Iam getting PrexE2x80?Charged in my file. I copied that(PrexE2x80?Charged) and pasted in search bar or some text file Iam able to see Pre‿Charged"},{"owner":{"account_id":8915028,"reputation":147,"user_id":6653908,"accept_rate":38,"display_name":"Srinivas"},"score":0,"creation_date":1690478015,"post_id":76776799,"comment_id":135362968,"body_markdown":"Finally, I want to read the data how  it look like in browser (simply I need Pre-Charged in my file also)","body":"Finally, I want to read the data how  it look like in browser (simply I need Pre-Charged in my file also)"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1690478022,"post_id":76776799,"comment_id":135362974,"body_markdown":"`E2 80 BF` is the UTF-8 encoding of the &#39;undertie&#39; character. Exactly how are you looking at the *file* and can you please paste a *small screenshot* of it in the question","body":"<code>E2 80 BF</code> is the UTF-8 encoding of the &#39;undertie&#39; character. Exactly how are you looking at the <i>file</i> and can you please paste a <i>small screenshot</i> of it in the question"},{"owner":{"account_id":8915028,"reputation":147,"user_id":6653908,"accept_rate":38,"display_name":"Srinivas"},"score":0,"creation_date":1690478435,"post_id":76776799,"comment_id":135363060,"body_markdown":"@g00se, added screenshot (how it is looking in my file)","body":"@g00se, added screenshot (how it is looking in my file)"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1690480976,"post_id":76776799,"comment_id":135363543,"body_markdown":"You didn&#39;t say *how* you&#39;re looking at that. Whatever it is, it&#39;s probably reading it as 7/8 bit encoding instead of UTF-8","body":"You didn&#39;t say <i>how</i> you&#39;re looking at that. Whatever it is, it&#39;s probably reading it as 7/8 bit encoding instead of UTF-8"},{"owner":{"account_id":8915028,"reputation":147,"user_id":6653908,"accept_rate":38,"display_name":"Srinivas"},"score":0,"creation_date":1690509789,"post_id":76776799,"comment_id":135367279,"body_markdown":"@g00se, added before and after screenshots. If I read the data in UTF-8 format, Iam getting Pre?Charged (it is converting into a question mark instead of -)","body":"@g00se, added before and after screenshots. If I read the data in UTF-8 format, Iam getting Pre?Charged (it is converting into a question mark instead of -)"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1690510849,"post_id":76776799,"comment_id":135367357,"body_markdown":"I would recommend trying to simplify the code to isolate the stage of processing where the error is introduced. What happens if you don’t parse the file but only read it from the URL and write it directly to a file? Do you still see incorrect characters? If so, you know that the parsing and DOM processing isn’t the problem. If not, you know that it is.","body":"I would recommend trying to simplify the code to isolate the stage of processing where the error is introduced. What happens if you don’t parse the file but only read it from the URL and write it directly to a file? Do you still see incorrect characters? If so, you know that the parsing and DOM processing isn’t the problem. If not, you know that it is."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1690511016,"post_id":76776799,"comment_id":135367372,"body_markdown":"What g00se is trying to explain is that it could well be that the data in the file is 100% correct, but the application you’re using to view the file is reading it incorrectly. See if you can prove or disprove this. Be a scientist: make a hypothesis and try to falsify it, then repeat until you have a hypothesis that your tests support.","body":"What g00se is trying to explain is that it could well be that the data in the file is 100% correct, but the application you’re using to view the file is reading it incorrectly. See if you can prove or disprove this. Be a scientist: make a hypothesis and try to falsify it, then repeat until you have a hypothesis that your tests support."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690529301,"post_id":76776799,"comment_id":135369331,"body_markdown":"*When we hit the URL in browser,it look like ... After reading data into file, it look like* You *still* have not told us *how* you look at it","body":"<i>When we hit the URL in browser,it look like ... After reading data into file, it look like</i> You <i>still</i> have not told us <i>how</i> you look at it"},{"owner":{"account_id":8915028,"reputation":147,"user_id":6653908,"accept_rate":38,"display_name":"Srinivas"},"score":0,"creation_date":1690559463,"post_id":76776799,"comment_id":135375520,"body_markdown":"@g00se, I need to read the data as Pre-Charged, but Iam getting PrexE2x80?Charged.","body":"@g00se, I need to read the data as Pre-Charged, but Iam getting PrexE2x80?Charged."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690559671,"post_id":76776799,"comment_id":135375560,"body_markdown":"You are continuing to *not answer* the question","body":"You are continuing to <i>not answer</i> the question"},{"owner":{"account_id":8915028,"reputation":147,"user_id":6653908,"accept_rate":38,"display_name":"Srinivas"},"score":0,"creation_date":1690559869,"post_id":76776799,"comment_id":135375596,"body_markdown":"As per your suggestion, after reading the data directly to file , there is some progress (uploading progress screenshot to question). When I encode that file to ANSI by using  Notepad++ options, Iam getting desired output, but unable to do that in code level using java","body":"As per your suggestion, after reading the data directly to file , there is some progress (uploading progress screenshot to question). When I encode that file to ANSI by using  Notepad++ options, Iam getting desired output, but unable to do that in code level using java"},{"owner":{"account_id":8915028,"reputation":147,"user_id":6653908,"accept_rate":38,"display_name":"Srinivas"},"score":0,"creation_date":1690560114,"post_id":76776799,"comment_id":135375643,"body_markdown":"@g00se, sorry for that, I am able to look as Pre-Charged, Iam able to see the data in chrome browser as Pre-Charged, but in notepad++ it is having special characters","body":"@g00se, sorry for that, I am able to look as Pre-Charged, Iam able to see the data in chrome browser as Pre-Charged, but in notepad++ it is having special characters"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690567452,"post_id":76776799,"comment_id":135376893,"body_markdown":"Maybe you don&#39;t have notepad++ set to UTF-8?","body":"Maybe you don&#39;t have notepad++ set to UTF-8?"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1690580475,"post_id":76776799,"comment_id":135378627,"body_markdown":"Or maybe the font used in Notepad++ doesn’t have that character. Try setting it to use the same font that Chrome is using, if it isn’t already.","body":"Or maybe the font used in Notepad++ doesn’t have that character. Try setting it to use the same font that Chrome is using, if it isn’t already."},{"owner":{"account_id":8915028,"reputation":147,"user_id":6653908,"accept_rate":38,"display_name":"Srinivas"},"score":0,"creation_date":1690593620,"post_id":76776799,"comment_id":135379638,"body_markdown":"By default my Notepad++ is having UTF-8 only, if I try to use &quot;Covert to ANSI&quot; option in NotePad++, it is working as expected. But now, my problem here is, from code level how to parse that file having &quot;square box&quot; in between them, ultimate goal is to get the data as &quot;Pre-Charged&quot;. I have to parse my XML.","body":"By default my Notepad++ is having UTF-8 only, if I try to use &quot;Covert to ANSI&quot; option in NotePad++, it is working as expected. But now, my problem here is, from code level how to parse that file having &quot;square box&quot; in between them, ultimate goal is to get the data as &quot;Pre-Charged&quot;. I have to parse my XML."},{"owner":{"account_id":8915028,"reputation":147,"user_id":6653908,"accept_rate":38,"display_name":"Srinivas"},"score":0,"creation_date":1690593729,"post_id":76776799,"comment_id":135379643,"body_markdown":"Previously, Iam unable to convert that data in Notepad++ also, but now as per your suggestions Iam able to convert that in NotePad++. Lastly I have to parse that XML. Trying all possible ways to convert that &quot;Square Box&quot; to &quot;-&quot;","body":"Previously, Iam unable to convert that data in Notepad++ also, but now as per your suggestions Iam able to convert that in NotePad++. Lastly I have to parse that XML. Trying all possible ways to convert that &quot;Square Box&quot; to &quot;-&quot;"},{"owner":{"account_id":8915028,"reputation":147,"user_id":6653908,"accept_rate":38,"display_name":"Srinivas"},"score":0,"creation_date":1690593955,"post_id":76776799,"comment_id":135379656,"body_markdown":"If I copy my data from NotePad++ and paste it anywhere like Browser or some text editor, it is working perfectly fine (getting Pre-Charged) . Seems I have to read it correctly now.","body":"If I copy my data from NotePad++ and paste it anywhere like Browser or some text editor, it is working perfectly fine (getting Pre-Charged) . Seems I have to read it correctly now."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1690601444,"post_id":76776799,"comment_id":135379982,"body_markdown":"Can you use a hex editor to confirm what bytes are actually in the file at that point? I’m not personally familiar with Notepad++ but the important thing is to work backwards from how things look to what bytes are in the data, and if the byte data are changing at some point in the processing, isolate which code causes that change. Then, if you don’t understand why that code causes the change, that’s the right time to create a question on Stack Overflow.","body":"Can you use a hex editor to confirm what bytes are actually in the file at that point? I’m not personally familiar with Notepad++ but the important thing is to work backwards from how things look to what bytes are in the data, and if the byte data are changing at some point in the processing, isolate which code causes that change. Then, if you don’t understand why that code causes the change, that’s the right time to create a question on Stack Overflow."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690613923,"post_id":76776799,"comment_id":135380704,"body_markdown":"*Trying all possible ways to convert that &quot;Square Box&quot; to &quot;-&quot;* This is confusing. Can you explain why you posted something quite different (**‿** - in bold - the &#39;undertie&#39; character) at the beginning of the question?","body":"<i>Trying all possible ways to convert that &quot;Square Box&quot; to &quot;-&quot;</i> This is confusing. Can you explain why you posted something quite different (<b>‿</b> - in bold - the &#39;undertie&#39; character) at the beginning of the question?"},{"owner":{"account_id":8915028,"reputation":147,"user_id":6653908,"accept_rate":38,"display_name":"Srinivas"},"score":0,"creation_date":1690615253,"post_id":76776799,"comment_id":135380822,"body_markdown":"@g00se, Goal is to convert untertie to hypen (‿ to - ), when I write data directly to file using streams, Iam geting square box (as shown in screenshot) in my file. Chrome and some editors are converting undertie character to hypen. but I need to convert that at code level without any editors.","body":"@g00se, Goal is to convert untertie to hypen (‿ to - ), when I write data directly to file using streams, Iam geting square box (as shown in screenshot) in my file. Chrome and some editors are converting undertie character to hypen. but I need to convert that at code level without any editors."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1690615775,"post_id":76776799,"comment_id":135380869,"body_markdown":"OK, glad we got that cleared. Try the following. If it suits, I&#39;ll post it as the answer: in place of *outputData.append(line.trim());* do `outputData.append(line.trim().replaceAll(&quot;\\u203F&quot;, &quot;-&quot;));` Actually, that undertie looks like an input error in that context anyway","body":"OK, glad we got that cleared. Try the following. If it suits, I&#39;ll post it as the answer: in place of <i>outputData.append(line.trim());</i> do <code>outputData.append(line.trim().replaceAll(&quot;\\u203F&quot;, &quot;-&quot;));</code> Actually, that undertie looks like an input error in that context anyway"},{"owner":{"account_id":8915028,"reputation":147,"user_id":6653908,"accept_rate":38,"display_name":"Srinivas"},"score":0,"creation_date":1690884125,"post_id":76776799,"comment_id":135412079,"body_markdown":"@g00se, Its not working, because in line.trim() method, we are not getting &quot;\\u203F&quot; to replace it.","body":"@g00se, Its not working, because in line.trim() method, we are not getting &quot;\\u203F&quot; to replace it."},{"owner":{"account_id":8915028,"reputation":147,"user_id":6653908,"accept_rate":38,"display_name":"Srinivas"},"score":0,"creation_date":1690884236,"post_id":76776799,"comment_id":135412096,"body_markdown":"@TimMoore, I tried the way you suggested, before I send byte array to file, I tried to read the byte values from byte[], Iam getting -30, -128, -112 as byte values, is there any possible way to decode those negative byte values ?","body":"@TimMoore, I tried the way you suggested, before I send byte array to file, I tried to read the byte values from byte[], Iam getting -30, -128, -112 as byte values, is there any possible way to decode those negative byte values ?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690884372,"post_id":76776799,"comment_id":135412131,"body_markdown":"Are you able to post a link to a direct copy of the data? If so, i&#39;ll give you the code to use","body":"Are you able to post a link to a direct copy of the data? If so, i&#39;ll give you the code to use"},{"owner":{"account_id":8915028,"reputation":147,"user_id":6653908,"accept_rate":38,"display_name":"Srinivas"},"score":0,"creation_date":1690885098,"post_id":76776799,"comment_id":135412260,"body_markdown":"I cannot send you link, but I can send you those xmls, is there any way to send the files ?","body":"I cannot send you link, but I can send you those xmls, is there any way to send the files ?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690885386,"post_id":76776799,"comment_id":135412317,"body_markdown":"I need to see a literal copy of the url made with `Files.copy(URI.create(data_url).toURL().openStream(), Path.of(&quot;data-copy.x&quot;));`","body":"I need to see a literal copy of the url made with <code>Files.copy(URI.create(data_url).toURL().openStream(), Path.of(&quot;data-copy.x&quot;));</code>"},{"owner":{"account_id":8915028,"reputation":147,"user_id":6653908,"accept_rate":38,"display_name":"Srinivas"},"score":0,"creation_date":1690894514,"post_id":76776799,"comment_id":135414336,"body_markdown":"I have that file ready, but unable to upload it in stackoverflow, is there any way to send the file ?","body":"I have that file ready, but unable to upload it in stackoverflow, is there any way to send the file ?"},{"owner":{"account_id":8915028,"reputation":147,"user_id":6653908,"accept_rate":38,"display_name":"Srinivas"},"score":0,"creation_date":1690896087,"post_id":76776799,"comment_id":135414680,"body_markdown":"@g00se, Edited question attached screenshot, after using your method, how the data look like.","body":"@g00se, Edited question attached screenshot, after using your method, how the data look like."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690897439,"post_id":76776799,"comment_id":135415004,"body_markdown":"No it&#39;s no good posting a picture of it. Maybe upload to Google Drive and post a public link","body":"No it&#39;s no good posting a picture of it. Maybe upload to Google Drive and post a public link"},{"owner":{"account_id":8915028,"reputation":147,"user_id":6653908,"accept_rate":38,"display_name":"Srinivas"},"score":0,"creation_date":1690955813,"post_id":76776799,"comment_id":135423090,"body_markdown":"@g00se, here is the link for the file, you can download it and open in Notepad++ or parse it : https://drive.google.com/file/d/1t237RD_hc2Bly4Ipw6npQ-yqhQc9AL2t/view?usp=share_link","body":"@g00se, here is the link for the file, you can download it and open in Notepad++ or parse it : <a href=\"https://drive.google.com/file/d/1t237RD_hc2Bly4Ipw6npQ-yqhQc9AL2t/view?usp=share_link\" rel=\"nofollow noreferrer\">drive.google.com/file/d/1t237RD_hc2Bly4Ipw6npQ-yqhQc9AL2t/&hellip;</a>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690960609,"post_id":76776799,"comment_id":135423855,"body_markdown":"Different character. That&#39;s a Unicode HYPHEN. Try instead `outputData.append(line.trim().replaceAll(&quot;\\u2010&quot;, &quot;-&quot;));`","body":"Different character. That&#39;s a Unicode HYPHEN. Try instead <code>outputData.append(line.trim().replaceAll(&quot;\\u2010&quot;, &quot;-&quot;));</code>"},{"owner":{"account_id":9429659,"reputation":123,"user_id":7013608,"display_name":"Uday Kumar"},"score":0,"creation_date":1691003979,"post_id":76776799,"comment_id":135433353,"body_markdown":"We know that decoded string is pre-charged If you see it is using browser and If you see it using Notepad++ it is Pre (SquareBox) charged so If you read the file using java and print it in eclipse that might be different pre (something) charged and If you use different tool that would be different .","body":"We know that decoded string is pre-charged If you see it is using browser and If you see it using Notepad++ it is Pre (SquareBox) charged so If you read the file using java and print it in eclipse that might be different pre (something) charged and If you use different tool that would be different ."}],"answers":[{"comments":[{"owner":{"account_id":8915028,"reputation":147,"user_id":6653908,"accept_rate":38,"display_name":"Srinivas"},"score":0,"creation_date":1691054253,"post_id":76826565,"comment_id":135440565,"body_markdown":"thanks for the detailed explanation, will try this scenario","body":"thanks for the detailed explanation, will try this scenario"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1691056500,"post_id":76826565,"comment_id":135441079,"body_markdown":"Personally, I would still run the code I gave you - nothing is really gained by using a Unicode hyphen over an &#39;ascii one&#39;. It&#39;s just a potential problem source, as you&#39;ve demonstrated","body":"Personally, I would still run the code I gave you - nothing is really gained by using a Unicode hyphen over an &#39;ascii one&#39;. It&#39;s just a potential problem source, as you&#39;ve demonstrated"}],"tags":[],"owner":{"account_id":8925980,"reputation":1,"user_id":6660474,"display_name":"Uday Kumar"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691054693,"creation_date":1691053995,"answer_id":76826565,"question_id":76776799,"body_markdown":"I don&#39;t see any problem with the code you are using rather the issue is with the client you were using to view the file which is Notepad++ (Open the same file in notepad you will see pre-charged like you have seen when you open google drive link).\r\n\r\nI have downloaded the file and checked the encoding it is utf-8 and you were using same technique to read as well.\r\n\r\nIf you are seeing the pre?charged in any other client \r\nFor Example If you print the **output Data** in the eclipse console you will see **pre?charged** it might be because of the below settings\r\n\r\nRight-Click on project -&gt; properties -&gt; Resource -&gt; check Text file Encoding\r\n[click here][1]\r\nIt might be other than UTF-8\r\nIf it is not UTF-8 click on **other** dropdown and select UTF-8 \r\n[click here][2]\r\n\r\nNow rerun the method You will See **pre-charged**\r\n\r\n\r\nThe display of data will be different with the different clients Its always good to  check what kind of decoding used by the client. It should be the same as the one which is used to encode the data.\r\n\r\n    String s = &quot;‐&quot;;\r\n    ByteBuffer buffer =StandardCharsets.UTF_8.encode(s);\r\n    System.out.println(&quot;XmlFileReader.main() &quot;+newString(buffer.array(),StandardCharsets.UTF_16LE));\r\n    System.out.println(&quot;XmlFileReader.main() &quot;+newString(buffer.array(),StandardCharsets.ISO_8859_1));\r\n    System.out.println(&quot;XmlFileReader.main() &quot;+newString(buffer.array(),StandardCharsets.US_ASCII));\r\n    System.out.println(&quot;XmlFileReader.main() &quot;+newString(buffer.array(),StandardCharsets.UTF_16));\r\n    System.out.println(&quot;XmlFileReader.main() &quot;+newString(buffer.array(),StandardCharsets.UTF_8));\r\n\r\nOUTPUT:\r\n\r\n    XmlFileReader.main() 胢�\r\n    XmlFileReader.main() &#226;€\r\n    XmlFileReader.main() ���\r\n    XmlFileReader.main() �\r\n    XmlFileReader.main() ‐\r\n\r\nEven in the notepad++ If you change the encoding you will see the expected data\r\n[Click Here][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/S5QYy.png\r\n  [2]: https://i.stack.imgur.com/CcQyX.png\r\n  [3]: https://i.stack.imgur.com/rGrJ8.png","title":"What is this character mean and how to decode these type of characters?","body":"<p>I don't see any problem with the code you are using rather the issue is with the client you were using to view the file which is Notepad++ (Open the same file in notepad you will see pre-charged like you have seen when you open google drive link).</p>\n<p>I have downloaded the file and checked the encoding it is utf-8 and you were using same technique to read as well.</p>\n<p>If you are seeing the pre?charged in any other client\nFor Example If you print the <strong>output Data</strong> in the eclipse console you will see <strong>pre?charged</strong> it might be because of the below settings</p>\n<p>Right-Click on project -&gt; properties -&gt; Resource -&gt; check Text file Encoding\n<a href=\"https://i.stack.imgur.com/S5QYy.png\" rel=\"nofollow noreferrer\">click here</a>\nIt might be other than UTF-8\nIf it is not UTF-8 click on <strong>other</strong> dropdown and select UTF-8\n<a href=\"https://i.stack.imgur.com/CcQyX.png\" rel=\"nofollow noreferrer\">click here</a></p>\n<p>Now rerun the method You will See <strong>pre-charged</strong></p>\n<p>The display of data will be different with the different clients Its always good to  check what kind of decoding used by the client. It should be the same as the one which is used to encode the data.</p>\n<pre><code>String s = &quot;‐&quot;;\nByteBuffer buffer =StandardCharsets.UTF_8.encode(s);\nSystem.out.println(&quot;XmlFileReader.main() &quot;+newString(buffer.array(),StandardCharsets.UTF_16LE));\nSystem.out.println(&quot;XmlFileReader.main() &quot;+newString(buffer.array(),StandardCharsets.ISO_8859_1));\nSystem.out.println(&quot;XmlFileReader.main() &quot;+newString(buffer.array(),StandardCharsets.US_ASCII));\nSystem.out.println(&quot;XmlFileReader.main() &quot;+newString(buffer.array(),StandardCharsets.UTF_16));\nSystem.out.println(&quot;XmlFileReader.main() &quot;+newString(buffer.array(),StandardCharsets.UTF_8));\n</code></pre>\n<p>OUTPUT:</p>\n<pre><code>XmlFileReader.main() 胢�\nXmlFileReader.main() â€\nXmlFileReader.main() ���\nXmlFileReader.main() �\nXmlFileReader.main() ‐\n</code></pre>\n<p>Even in the notepad++ If you change the encoding you will see the expected data\n<a href=\"https://i.stack.imgur.com/rGrJ8.png\" rel=\"nofollow noreferrer\">Click Here</a></p>\n"}],"owner":{"account_id":8915028,"reputation":147,"user_id":6653908,"accept_rate":38,"display_name":"Srinivas"},"comment_count":41,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691054693,"creation_date":1690436726,"question_id":76776799,"body_markdown":"I am getting an xml with few special characters like these **Pre‿charged** ‿ and when Iam parsing this data, Iam unable to parse. In my xml Iam getting **PrexE2x80?Charged** or **Pre&#226;€?charged** it there any way to encode this ?\r\nSample code : \r\n\r\n    DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\r\n    \t\tDocumentBuilder builder = null;\r\n    \t\tDocument document = null;\r\n    \r\n    \t\ttry \r\n    \t\t{\r\n    \t\t\tbuilder = factory.newDocumentBuilder();\r\n    \t\t\tdocument = builder.parse(xmlFile); // xml data in string format\r\n    \t\t\tdocument.getDocumentElement().normalize();\r\n    \r\n    \t\t} \r\n    \t\tcatch (ParserConfigurationException e) \r\n    \t\t{\r\n    \t\t\tSystem.out.printf(&quot;Failed to parse XML Feed data&quot;, e);\r\n    \t\t}\r\n\r\nI tried UTF-8, ANSII and few other encoding techniques.\r\nEdit :\r\nReading xml data like below\r\n\r\n    StringBuffer outputData = new StringBuffer();\r\n    \t\tURL url;\r\n    \t\tInputStream is = null;\r\n    \t\tBufferedReader br;\r\n    \t\tString line;\r\n    \r\n    \t\ttry \r\n    \t\t{\r\n    \t\t\turl = new URL(data_url);\r\n    \t\t\tis = url.openStream();\r\n    \t\t\tbr = new BufferedReader(new InputStreamReader(is,&quot;UTF-8&quot;));\r\n    \t\t\twhile ((line = br.readLine()) != null) \r\n    \t\t\t{\r\n    \t\t\t\toutputData.append(line.trim());\r\n    \t\t\t}\r\n    \t\t\tbr.close();\r\n    \t\t} \r\n    \t\tcatch (MalformedURLException mue) \r\n    \t\t{\r\n    \t\t\tLOGGER.error(&quot;MalformedURLException while fetching feed data&quot;, mue);\r\n    \t\t} \r\n    \t\tcatch (IOException ioe) \r\n    \t\t{\r\n    \t\t\tLOGGER.error(&quot;IOException while fetching feed data&quot;, ioe);\r\n    \t\t} \r\n    \t\tfinally \r\n    \t\t{\r\n    \t\t\ttry \r\n    \t\t\t{\r\n    \t\t\t\tif (is != null) \r\n    \t\t\t\t{\r\n    \t\t\t\t\tis.close();\r\n    \t\t\t\t}\r\n    \t\t\t} \r\n    \t\t\tcatch (IOException ioe) \r\n    \t\t\t{\r\n    \t\t\t\t// Silent fail\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\treturn outputData.toString();\r\nWhen we hit the URL in browser,it look like - [![Browser visibility][1]][1].\r\nAfter reading data into file, it look like [![After reading][2]][2]\r\n\r\n\r\nAfter reading data directly from URL to file, instead of converting it into String, Iam getting data like this [![Direct data][3]][3]\r\n\r\n\r\nAfter using Files.copy(URI.create(data_url).toURL().openStream(), Path.of(&quot;data-copy.x&quot;)) function, my output look like\r\n[![testing][4]][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SokRk.png\r\n  [2]: https://i.stack.imgur.com/Jtji7.png\r\n  [3]: https://i.stack.imgur.com/rrodr.png\r\n  [4]: https://i.stack.imgur.com/M2uvp.png","title":"What is this character mean and how to decode these type of characters?","body":"<p>I am getting an xml with few special characters like these <strong>Pre‿charged</strong> ‿ and when Iam parsing this data, Iam unable to parse. In my xml Iam getting <strong>PrexE2x80?Charged</strong> or <strong>Preâ€?charged</strong> it there any way to encode this ?\nSample code :</p>\n<pre><code>DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\n        DocumentBuilder builder = null;\n        Document document = null;\n\n        try \n        {\n            builder = factory.newDocumentBuilder();\n            document = builder.parse(xmlFile); // xml data in string format\n            document.getDocumentElement().normalize();\n\n        } \n        catch (ParserConfigurationException e) \n        {\n            System.out.printf(&quot;Failed to parse XML Feed data&quot;, e);\n        }\n</code></pre>\n<p>I tried UTF-8, ANSII and few other encoding techniques.\nEdit :\nReading xml data like below</p>\n<pre><code>StringBuffer outputData = new StringBuffer();\n        URL url;\n        InputStream is = null;\n        BufferedReader br;\n        String line;\n\n        try \n        {\n            url = new URL(data_url);\n            is = url.openStream();\n            br = new BufferedReader(new InputStreamReader(is,&quot;UTF-8&quot;));\n            while ((line = br.readLine()) != null) \n            {\n                outputData.append(line.trim());\n            }\n            br.close();\n        } \n        catch (MalformedURLException mue) \n        {\n            LOGGER.error(&quot;MalformedURLException while fetching feed data&quot;, mue);\n        } \n        catch (IOException ioe) \n        {\n            LOGGER.error(&quot;IOException while fetching feed data&quot;, ioe);\n        } \n        finally \n        {\n            try \n            {\n                if (is != null) \n                {\n                    is.close();\n                }\n            } \n            catch (IOException ioe) \n            {\n                // Silent fail\n            }\n        }\n\n        return outputData.toString();\n</code></pre>\n<p>When we hit the URL in browser,it look like - <a href=\"https://i.stack.imgur.com/SokRk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SokRk.png\" alt=\"Browser visibility\" /></a>.\nAfter reading data into file, it look like <a href=\"https://i.stack.imgur.com/Jtji7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Jtji7.png\" alt=\"After reading\" /></a></p>\n<p>After reading data directly from URL to file, instead of converting it into String, Iam getting data like this <a href=\"https://i.stack.imgur.com/rrodr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rrodr.png\" alt=\"Direct data\" /></a></p>\n<p>After using Files.copy(URI.create(data_url).toURL().openStream(), Path.of(&quot;data-copy.x&quot;)) function, my output look like\n<a href=\"https://i.stack.imgur.com/M2uvp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/M2uvp.png\" alt=\"testing\" /></a></p>\n"},{"tags":["java","groovy","wsdl","soapui"],"comments":[{"owner":{"account_id":3758602,"reputation":10072,"user_id":3124333,"accept_rate":100,"display_name":"SiKing"},"score":0,"creation_date":1690838827,"post_id":76791584,"comment_id":135406235,"body_markdown":"The error means that the service is not expecting `&lt;fin:input&gt;` in your payload. Try sending your payload without it.","body":"The error means that the service is not expecting <code>&lt;fin:input&gt;</code> in your payload. Try sending your payload without it."},{"owner":{"account_id":13566930,"reputation":853,"user_id":9788477,"display_name":"Steen"},"score":0,"creation_date":1690889730,"post_id":76791584,"comment_id":135413255,"body_markdown":"Could you possibly provide the entirety or at least a larger chunk of your Groovy script? At least the lines prior and after the one you have already shared.","body":"Could you possibly provide the entirety or at least a larger chunk of your Groovy script? At least the lines prior and after the one you have already shared."},{"owner":{"account_id":14001871,"reputation":87,"user_id":10113226,"display_name":"Kraken"},"score":0,"creation_date":1690938014,"post_id":76791584,"comment_id":135421637,"body_markdown":"Hi @Steen, thank you for helping me, i already updated my question and attach full source code of my groovy service","body":"Hi @Steen, thank you for helping me, i already updated my question and attach full source code of my groovy service"},{"owner":{"account_id":14001871,"reputation":87,"user_id":10113226,"display_name":"Kraken"},"score":0,"creation_date":1690956422,"post_id":76791584,"comment_id":135423154,"body_markdown":"Hi @Siking, if not with &lt;fin:input&gt; it working fine, but i need use that tag to use, what should i change from my groovy service source code in order to comply ? Any help would be greatly appreciated","body":"Hi @Siking, if not with &lt;fin:input&gt; it working fine, but i need use that tag to use, what should i change from my groovy service source code in order to comply ? Any help would be greatly appreciated"},{"owner":{"account_id":13566930,"reputation":853,"user_id":9788477,"display_name":"Steen"},"score":0,"creation_date":1691054002,"post_id":76791584,"comment_id":135440502,"body_markdown":"I don&#39;t think your current problem is a Groovy code problem. If you include the &lt;fin:input&gt; you are violating the schema. The schema is the &quot;contract&quot; on what data to include in request and what response you can expect. Trying to adapt the code to receive a request that violates the contract is a bad solution.","body":"I don&#39;t think your current problem is a Groovy code problem. If you include the &lt;fin:input&gt; you are violating the schema. The schema is the &quot;contract&quot; on what data to include in request and what response you can expect. Trying to adapt the code to receive a request that violates the contract is a bad solution."}],"answers":[{"tags":[],"owner":{"account_id":13566930,"reputation":853,"user_id":9788477,"display_name":"Steen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691054486,"creation_date":1691054486,"answer_id":76826621,"question_id":76791584,"body_markdown":"Without knowing the WSDL for this webservice, I think your request should look like this:\r\n\r\n    &lt;soapenv:Envelope xmlns:soapenv=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot; xmlns:fin=&quot;http://financial.sekuritas.pt.com/&quot; xmlns:java=&quot;java:financialgateway.service.RepostInvestorAccountCIMB&quot;&gt;\r\n       &lt;soapenv:Header/&gt;\r\n       &lt;soapenv:Body&gt;\r\n          &lt;fin:getData&gt;\r\n             &lt;java:memberCode&gt;test&lt;/java:memberCode&gt;\r\n             &lt;java:fileContents&gt;somebase64encodedtext&lt;/java:fileContents&gt;\r\n             &lt;java:crc32&gt;test&lt;/java:crc32&gt;\r\n             &lt;java:urlWS&gt;test&lt;/java:urlWS&gt;\r\n          &lt;/fin:getData&gt;\r\n       &lt;/soapenv:Body&gt;\r\n    &lt;/soapenv:Envelope&gt;\r\n\r\nIf you created this request in SoapUI, you may check your request by validating it inside SoapUI.\r\n( Pressing Alt+V if I remember correctly )","title":"how to handle request soap with groovy?","body":"<p>Without knowing the WSDL for this webservice, I think your request should look like this:</p>\n<pre><code>&lt;soapenv:Envelope xmlns:soapenv=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot; xmlns:fin=&quot;http://financial.sekuritas.pt.com/&quot; xmlns:java=&quot;java:financialgateway.service.RepostInvestorAccountCIMB&quot;&gt;\n   &lt;soapenv:Header/&gt;\n   &lt;soapenv:Body&gt;\n      &lt;fin:getData&gt;\n         &lt;java:memberCode&gt;test&lt;/java:memberCode&gt;\n         &lt;java:fileContents&gt;somebase64encodedtext&lt;/java:fileContents&gt;\n         &lt;java:crc32&gt;test&lt;/java:crc32&gt;\n         &lt;java:urlWS&gt;test&lt;/java:urlWS&gt;\n      &lt;/fin:getData&gt;\n   &lt;/soapenv:Body&gt;\n&lt;/soapenv:Envelope&gt;\n</code></pre>\n<p>If you created this request in SoapUI, you may check your request by validating it inside SoapUI.\n( Pressing Alt+V if I remember correctly )</p>\n"}],"owner":{"account_id":14001871,"reputation":87,"user_id":10113226,"display_name":"Kraken"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691054486,"creation_date":1690589229,"question_id":76791584,"body_markdown":"i want to hit this soap request to my groovy service, \r\n\r\nhere&#39;s my soap request\r\n\r\n    &lt;soapenv:Envelope xmlns:soapenv=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot; xmlns:fin=&quot;http://financial.sekuritas.pt.com/&quot; xmlns:java=&quot;java:financialgateway.service.RepostInvestorAccountCIMB&quot;&gt;\r\n       &lt;soapenv:Header/&gt;\r\n       &lt;soapenv:Body&gt;\r\n          &lt;fin:getData&gt;\r\n             &lt;fin:input&gt;\r\n                &lt;java:memberCode&gt;test&lt;/java:memberCode&gt;\r\n                &lt;java:fileContents&gt;somebase64encodedtext&lt;/java:fileContents&gt;\r\n                &lt;java:crc32&gt;test&lt;/java:crc32&gt;\r\n                &lt;java:urlWS&gt;test&lt;/java:urlWS&gt;\r\n             &lt;/fin:input&gt;\r\n          &lt;/fin:getData&gt;\r\n       &lt;/soapenv:Body&gt;\r\n    &lt;/soapenv:Envelope&gt;\r\n\r\nbut when i tried to submit request using soap ui, this error appears\r\n\r\n    &lt;soap:Envelope xmlns:soap=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\r\n      &lt;soap:Body&gt;\r\n        &lt;soap:Fault&gt;\r\n          &lt;faultcode&gt;soap:Client&lt;/faultcode&gt;\r\n          &lt;faultstring&gt;Unmarshalling Error: unexpected element (uri:&quot;http://financial.sekuritas.pt.com/&quot;, local:&quot;input&quot;). Expected elements are &amp;lt;{}memberCode&amp;gt;,&amp;lt;{}crc32&amp;gt;,&amp;lt;{}fileContents&amp;gt;,&amp;lt;{}urlWS&amp;gt; &lt;/faultstring&gt;\r\n        &lt;/soap:Fault&gt;\r\n      &lt;/soap:Body&gt;\r\n    &lt;/soap:Envelope&gt;\r\n\r\nin the groovy service that I created, I made it like this\r\n\r\n    package com.pt.sekuritas.financial\r\n    \r\n    import grails.transaction.Transactional\r\n    import org.grails.cxf.utils.GrailsCxfEndpoint\r\n    import java.text.SimpleDateFormat\r\n    import javax.annotation.Resource\r\n    import javax.jws.WebMethod\r\n    import javax.jws.WebParam\r\n    import javax.jws.WebResult\r\n    import grails.converters.JSON\r\n    \r\n    import javax.servlet.http.HttpServletRequest\r\n    import javax.xml.ws.WebServiceContext\r\n    import javax.xml.ws.handler.MessageContext\r\n    \r\n    import com.microsoft.sqlserver.jdbc.SQLServerDataSource\r\n    \r\n    import groovy.sql.Sql\r\n    \r\n    import com.pt.sekuritas.backoffice.Registration\r\n    \r\n    \r\n    @Transactional\r\n    @GrailsCxfEndpoint(address=&quot;/ReportInvestorAccountCIMB&quot;)\r\n    class ReportInvestorAccountCIMBService {\r\n    \tdef grailsApplication\r\n    \tdef base64Decode(encodedString){\r\n        \t\t\t\t\t\tbyte[] decoded = encodedString.decodeBase64()\r\n       \t\t\t\t\t\t\tString decode = new String(decoded)\r\n        \t\t\t\t\t\treturn decode\r\n    \t\t\t\t\t\t\t}\r\n    \t@Resource WebServiceContext context\r\n        @WebMethod\r\n    \t@WebResult()\r\n    \t\r\n    \tgetData(@WebParam(name = &#39;memberCode&#39;) String memberCode,\t\t\t\r\n    \t\t    @WebParam(name = &#39;fileContents&#39;) String fileContents,\r\n    \t\t\t@WebParam(name = &#39;crc32&#39;) String crc32,\r\n    \t\t\t@WebParam(name = &#39;urlWS&#39;) String urlWS\r\n    \r\n    \t\t\t) {\r\n        \t\t\tHttpServletRequest request = (HttpServletRequest)context.getMessageContext().get(MessageContext.SERVLET_REQUEST)\r\n        \t\t\tdef ip = request.getRemoteAddr()\r\n    \t\t\t\t\t\r\n    \t\t\t\tdef port = request.getRemotePort()\r\n    \t\t\t\tdef host = request.getRemoteHost()\r\n        \t\t\tdef dateFormatter = new SimpleDateFormat(&#39;yyyy-MM-dd HH:mm:ss&#39;)\r\n    \t\t\t\tdef dateFormatterRtbo = new SimpleDateFormat(&#39;yyyy-MM-dd&#39;)\r\n        \t\t\tdef sTime = new SimpleDateFormat(&#39;yyyyMMdd&#39;)\r\n    \t\t\t\tdef nowDate = new Date()\r\n        \t\t\tdef currentDate = dateFormatter.format(nowDate)\r\n    \r\n    \t\t\r\n    \t\t\t\tfileContents = base64Decode(fileContents)\r\n    \r\n    \t\t\t\tdef externalReference=&quot;&quot;;\r\n    \t\t\t\tdef sequenceNumber=&quot;&quot;;\r\n    \t\t\t\tdef accountNumber=&quot;&quot;;\r\n    \t\t\t\tdef currency=&quot;&quot;;\r\n    \t\t\t\tdef txnDate=&quot;&quot;;\r\n    \t\t\t\tdef openBalance=&quot;&quot;;\r\n    \t\t\t\tdef closeBalance=&quot;&quot;;\r\n    \r\n    \t\t\t\tdef txnAmount=&quot;&quot;;\r\n    \t\t\t\tdef txnType=&quot;&quot;;\r\n    \t\t\t\tdef txnCode=&quot;&quot;;\r\n    \t\t\t\tdef txnDesc=&quot;&quot;;\r\n    \t\t\t\tdef accountDebit=&quot;&quot;;\r\n    \t\t\t\tdef accountCredit=&quot;&quot;;\r\n    \r\n    \t\t\t\t\r\n    \t\t\tdef test = new XmlParser().parseText(fileContents)\r\n    \t\t\ttest.each { \r\n    \t\t\tif (it.@name == &#39;StatLine&#39;) {\r\n    \t\t\t\tit.&#39;*&#39;.&#39;*&#39;.each {\r\n    \t\t\t\t\tif (it.@name == &#39;CashVal&#39;) {\r\n    \t\t\t\t\t\tdef cashVal = new BigDecimal(it.text())\r\n    \t\t\t\t\t\t txnAmount= &quot;$cashVal&quot; \r\n    \r\n    \t\t\t\t\t}else if (it.@name == &#39;TrxType&#39;) {\r\n    \t\t\t\t\t\tdef trxType = (it.text())\r\n    \t\t\t\t\t\t  txnType=&quot;$trxType&quot;\r\n    \r\n    \t\t\t\t\t}else if (it.@name == &#39;DC&#39;) {\r\n    \t\t\t\t\t\tdef dc = (it.text())\r\n    \t\t\t\t\t\t  txnCode=&quot;$dc&quot; \r\n    \r\n    \t\t\t\t\t}else if (it.@name == &#39;Description1&#39;) {\r\n    \t\t\t\t\t\tdef description1 = (it.text())\r\n    \t\t\t\t\t\t txnDesc=&quot;$description1&quot; \r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\t}\r\n    \r\n    \t\t\tdef xml = new XmlParser().parseText(fileContents)\r\n    \t\t\t\txml.each {\r\n    \t\t\t\tif(it.@name == &#39;ExtRef&#39;) {\r\n    \t\t\t\t def a = (it.text())\r\n    \t\t\t\t externalReference=&quot;$a&quot;\r\n    \t\t\t\t}else if(it.@name == &#39;SeqNum&#39;) {\r\n    \t\t\t\tdef b = new BigDecimal(it.text())\r\n    \t\t\t\t sequenceNumber=&quot;$b&quot;\r\n    \t\t\t\t} else if(it.@name == &#39;AC&#39;) {\r\n    \t\t\t\t  def c = new BigDecimal(it.text())\r\n    \t\t\t\t  accountNumber=&quot;$c&quot;\r\n    \t\t\t\t} else if(it.@name == &#39;CurCod&#39;) {\r\n    \t\t\t\t def d = (it.text())\r\n    \t\t\t\t  currency=&quot;$d&quot;\r\n    \t\t\t\t} else if(it.@name == &#39;ValDate&#39;) {\r\n    \t\t\t\t def e = new BigDecimal(it.text())\r\n    \t\t\t\t  txnDate=&quot;$e&quot;\r\n    \t\t\t\t} else if(it.@name == &#39;OpenBal&#39;) {\r\n    \t\t\t\tdef f = new BigDecimal(it.text())\r\n    \t\t\t\t openBalance=&quot;$f&quot;\r\n    \t\t\t\t} else if(it.@name == &#39;CloseBal&#39;) {\r\n    \t\t\t\tdef g = new BigDecimal(it.text())\r\n    \t\t\t\t closeBalance=&quot;$g&quot;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \r\n    \t\t\t\tprintln(&quot;txnDate? &quot;+txnDate)\t\r\n        \t\t\t\r\n        \t\t\tlog.info (&#39;[ReportInvestorAccountCIMBService][ip:&#39; + ip + &#39;][current date:&#39; + currentDate + &#39;][data[externalReference:&#39; + externalReference + &#39;, sequenceNumber:&#39; + sequenceNumber + &#39;, accountNumber:&#39; + accountNumber + &#39;, currency:&#39; + currency + &#39;, txnDate:&#39; + txnDate + &#39;, txnType:&#39; + &#39;, txnCode:&#39; + txnCode + &#39;, accountDebit:&#39; + accountDebit + &#39;, accountCredit:&#39; + accountCredit + &#39;, txnAmount:&#39; + txnAmount + &#39;, openBalance:&#39; + openBalance + &#39;, closeBalance:&#39; + closeBalance + &#39;, txnDesc:&#39; + txnDesc + &#39;]]&#39;)\r\n    \t\t\r\n    \t\t\t\tdef status = 1\r\n    \t\t\t\tdef processDinamis = 0\r\n    \t\t\t\tdef processRtbo = 0\r\n    \r\n    \t\t\t\t\r\n    \r\n        \t\t\t\r\n    \t\t\t\tif(txnDate == &#39;&#39;){\r\n    \t\t\t\t\tlog.error (&#39;[ReportInvestorAccountCIMBService][ip:&#39; + ip + &#39;][TxnDate: is null]&#39;)\r\n    \t\t\t        return status = 3\t    \r\n    \t\t\t\t}\r\n        \t\t\tdef financialConfiguration = FinancialGatewayConfiguration.findByIpAddress(ip)\r\n    \t\t\t\t\r\n        \t\t\t\t\t\r\n    \t\t\t\tif(financialConfiguration) {\r\n    \t\t\t\t\ttry\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tdef p_txnDate = sTime.parse(txnDate)\r\n    \t\t\t\t\t\tdef financialInstance = FinancialGatewayNotification.findByExternalReference(externalReference)\r\n    \t\t\t\t\t\t\r\n    \t\t\t\t\t\tif(financialInstance)\r\n    \t\t\t\t\t\t{\r\n    \t\t\t\t\t\t\tlog.error (&#39;[ReportInvestorAccountCIMBService][is exist externalReference:&#39; + externalReference + &#39;]&#39;)\r\n    \t\t\t\t\t        return status = 4\t\r\n    \t\t\t\t\t\t}else {\r\n    \t\t\t\t\t\t\t\r\n    \t\t\t\t\t\t\tif(txnCode == &#39;C&#39;){\r\n    \t\t\t\t\t\t\t\t\r\n    \t\t\t\t\t\t\t\taccountCredit = accountNumber\r\n    \t\t\t\t\t\t\t\t\r\n    \t\t\t\t\t\t\t}else if(txnCode == &#39;D&#39;){\r\n    \t\t\t\t\t\t\t\t\r\n    \t\t\t\t\t\t\t\taccountDebit = accountNumber\r\n    \t\t\t\t\t\t\t\t\r\n    \t\t\t\t\t\t\t}\r\n    \r\n    \t\t\t\t\t\t\tfinancialInstance = new FinancialGatewayNotification()\r\n    \t\t\t\t\t\t\tfinancialInstance.externalReference = externalReference\r\n    \t\t\t\t\t\t\tfinancialInstance.sequenceNumber = sequenceNumber\r\n    \t\t\t\t\t\t\tfinancialInstance.accountNumber = accountNumber\r\n    \t\t\t\t\t\t\tfinancialInstance.currency = currency\r\n    \t\t\t\t\t\t\tfinancialInstance.txnDate = dateFormatter.format(p_txnDate)\r\n    \t\t\t\t\t\t\tfinancialInstance.txnType = txnType\r\n    \t\t\t\t\t\t\tfinancialInstance.txnCode = txnCode \r\n    \t\t\t\t\t\t\tfinancialInstance.accountDebit = accountDebit     \r\n    \t\t\t\t\t\t\tfinancialInstance.accountCredit = accountCredit\r\n    \t\t\t\t\t\t\tfinancialInstance.txnAmount = txnAmount\r\n    \t\t\t\t\t\t\tfinancialInstance.openBalance = openBalance\r\n    \t\t\t\t\t\t\tfinancialInstance.closeBalance = closeBalance\r\n    \t\t\t\t\t\t\tfinancialInstance.txnDescription = txnDesc\r\n    \t\t\t\t\t\t\tfinancialInstance.ipAddress = financialConfiguration.ipAddress\r\n    \t\t\t\t\t\t\tfinancialInstance.sourceBank = financialConfiguration.sourceBank\r\n    \t\t\t\t\t\t\t\r\n    \t\t\t\t        \r\n    \t\t\t\t\t\t\tif (financialInstance.hasErrors()) {\t\t            \r\n    \t\t\t\t\t            return status\r\n    \t\t\t\t\t        }\r\n    \t\t\t\t\t\t\tfinancialInstance.save flush: true, failOnError: true\r\n    \t\t\t\t\t\t\t\r\n    \t\t\t\t\t\t\tdef currDate = sTime.format(nowDate).toString()\r\n    \t\t\t\t\t\t\tdef _txnDate = sTime.format(p_txnDate).toString()\r\n    \t\t\t\t\t\t\t\r\n    \t\t\t\t\t\t\t\r\n    \t\t\t\t\t\t\t//if(_txnDate == currDate) {\r\n    \t\t\t\t\t\t\t\ttry\r\n    \t\t\t\t\t\t\t\t{\r\n    \t\t\t\t\t\t\t\t\tlog.info(&#39;[ReportInvestorAccountCIMBService]SQL SERVER: &#39; + grailsApplication.config.dinamis.gateway.db.url)\r\n    \t\t\t\t\t\t\t\t\tdef sql = Sql.newInstance( grailsApplication.config.dinamis.gateway.db.url,\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   grailsApplication.config.dinamis.gateway.db.user,\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   grailsApplication.config.dinamis.gateway.db.password,\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   grailsApplication.config.dinamis.gateway.db.driver )\r\n    \t\t\t\t\t\t\t\t\tsql.execute(&#39;INSERT INTO CIMB_H2H (EXTERNAL_REFERENCE, SEQ_NUMBER, ACCOUNT_NUMBER, CURRENCY, TXN_DATE, TXN_TYPE, TXN_CODE, ACCOUNT_DEBIT, ACCOUNT_CREDIT, TXN_AMOUNT, OPEN_BALANCE, CLOSE_BALANCE, TXN_DESC, INSERT_TIME, MEMBER_CODE, CRC32, URL_WS) VALUES(\\&#39;&#39; + externalReference + &#39;\\&#39;, \\&#39;&#39; + sequenceNumber + &#39;\\&#39;, \\&#39;&#39; + accountNumber + &#39;\\&#39;, \\&#39;&#39; + currency + &#39;\\&#39;, \\&#39;&#39; + dateFormatter.format(p_txnDate) + &#39;\\&#39;, \\&#39;&#39; + txnType + &#39;\\&#39;, \\&#39;&#39; + txnCode + &#39;\\&#39;, \\&#39;&#39; + accountDebit + &#39;\\&#39;, \\&#39;&#39; + accountCredit + &#39;\\&#39;, \\&#39;&#39; + txnAmount + &#39;\\&#39;, \\&#39;&#39; + openBalance + &#39;\\&#39;, \\&#39;&#39; + closeBalance + &#39;\\&#39;, \\&#39;&#39; + txnDesc + &#39;\\&#39;, \\&#39;&#39; +  currentDate + &#39;\\&#39;, \\&#39;&#39; +  memberCode + &#39;\\&#39;,  \\&#39;&#39; +  crc32 + &#39;\\&#39;,  \\&#39;&#39; +  urlWS + &#39;\\&#39;)&#39;)\r\n    \t\t\t\t\t\t            processDinamis = 1\r\n    \t\t\t\t\t\t            sql.close()\r\n    \t\t\t\t\t\t            \r\n    \t\t\t\t\t\t        }\r\n    \t\t\t\t\t\t\t\tcatch(Exception exc)\r\n    \t\t\t\t\t\t\t\t{\r\n    \t\t\t\t\t\t\t\t\tlog.error (&#39;[ReportInvestorAccountCIMBService][ip:&#39; + ip + &#39;][error: SQL EXECUTE&#39;)\r\n    \t\t\t\t\t\t\t\t\tprocessDinamis = 0 \r\n    \t\t\t\t\t\t\t\t\texc.printStackTrace()\r\n    \t\t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\t/*\r\n    \t\t\t\t\t\t\t}else {\r\n    \t\t\t\t\t\t\t\tlog.info(&#39;[ReportInvestorAccountCIMBService][ip:&#39; + ip + &#39;][current date:&#39; + currentDate + &#39;][data[externalReference:&#39; + externalReference + &#39;, sequenceNumber:&#39; + sequenceNumber + &#39;, accountNumber:&#39; + accountNumber + &#39;, currency:&#39; + currency + &#39;, txnDate:&#39; + txnDate + &#39;, txnType:&#39; + &#39;, txnCode:&#39; + txnCode + &#39;, accountDebit:&#39; + accountDebit + &#39;, accountCredit:&#39; + accountCredit + &#39;, txnAmount:&#39; + txnAmount + &#39;, openBalance:&#39; + openBalance + &#39;, closeBalance:&#39; + closeBalance + &#39;, txnDesc:&#39; + txnDesc + &#39;]]The &#39; + currDate + &#39; not match with _txnDate &#39; + _txnDate)\r\n    \t\t\t\t\t\t\t}*/\r\n    \t\t\t\t\t\t\t\tfinancialInstance.processResponse = processDinamis\r\n    \t\t\t\t\t\t\t\tfinancialInstance.processDate = currentDate\r\n    \t\t\t\t\t\t\t\t\r\n    \t\t\t\t\t\t\t\tfinancialInstance.save flush: true, failOnError: true\r\n    \t\t\t\t\t\t\t\t\r\n    \t\t\t\t\t\t\t\t// S21 RTBO\r\n    \t\t\t\t\t\t\t\tif(accountNumber) {\r\n    \t\t\t\t\t\t\t\t\ttry\r\n    \t\t\t\t\t\t\t\t\t{\r\n    \t\t\t\t\t\t\t\t\t\tlog.info(&#39;[ReportInvestorAccountCIMBService]SQL SERVER: &#39; + grailsApplication.config.rtbo.gateway.db.url)\r\n    \t\t\t\t\t\t\t\t\t\tdef sql = Sql.newInstance( grailsApplication.config.rtbo.gateway.db.url,\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   grailsApplication.config.rtbo.gateway.db.user,\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   grailsApplication.config.rtbo.gateway.db.password,\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   grailsApplication.config.rtbo.gateway.db.driver )\r\n    \t\t\t\t\t\t\t\t\t\t\r\n    \t\t\t\t\t\t\t\t\t\tsql.execute(&#39;EXEC RtboAddFundinout \\&#39;&#39; + dateFormatterRtbo.format(p_txnDate) + &#39;\\&#39;, \\&#39;&#39; + currentDate + &#39;\\&#39;, \\&#39;&#39; + txnDesc + &#39;\\&#39;, null, \\&#39;&#39; + accountNumber + &#39;\\&#39;, \\&#39;&#39; + txnAmount + &#39;\\&#39;, \\&#39;&#39; + openBalance + &#39;\\&#39;, \\&#39;&#39; + txnCode + &#39;\\&#39;, \\&#39;&#39; + txnType + &#39;\\&#39;, \\&#39;&#39; + &#39;H2H&#39; + &#39;\\&#39;, \\&#39;&#39; + &#39;&#39; + &#39;\\&#39;, \\&#39;&#39; + accountDebit + &#39;\\&#39;, \\&#39;&#39; + accountCredit + &#39;\\&#39;, \\&#39;&#39; + externalReference + &#39;\\&#39;, \\&#39;&#39; + &#39;Cimb&#39; + &#39;\\&#39;&#39;)\r\n    \t\t\t\t\t\t\t\t\t\tprocessRtbo = 1\r\n    \t\t\t\t\t\t\t\t\t\tsql.close()\r\n    \t\t\t\t\t\t\t\t\t\t\r\n    \t\t\t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\t\t\tcatch(Exception exc)\r\n    \t\t\t\t\t\t\t\t\t{\r\n    \t\t\t\t\t\t\t\t\t\tlog.error (&#39;[ReportInvestorAccountCIMBService][ip:&#39; + ip + &#39;][error: SQL EXECUTE&#39;)\r\n    \t\t\t\t\t\t\t\t\t\tprocessRtbo = 0\r\n    \t\t\t\t\t\t\t\t\t\texc.printStackTrace()\r\n    \t\t\t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\t\t\t\r\n    \t\t\t\t\t\t\t\t\tfinancialInstance.processResponse = processRtbo\r\n    \t\t\t\t\t\t\t\t\tfinancialInstance.processDate = currentDate\r\n    \t\t\t\t\t\t\t\t\t\r\n    \t\t\t\t\t\t\t\t\tfinancialInstance.save flush: true, failOnError: true\r\n    \t\t\t\t\t\t\t\t\t\r\n    \t\t\t\t\t\t\t\t}else {\r\n    \t\t\t\t\t\t\t\t\tlog.info (&#39;[ReportInvestorAccountCIMBService][ip:&#39; + ip + &#39;]Empty Account Number&#39;)\r\n    \t\t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\t\t\r\n    \t\t\t\t\t\t\t\ttry {\r\n    \t\t\t\t\t\t\t\t\tif(txnType == &#39;61&#39; &amp;&amp; txnDesc == &#39;PHINTRACO PHINTRACO&#39; &amp;&amp; txnAmount == &#39;50000.0000&#39;) {\r\n    \t\t\t\t\t\t\t\t\t\tdef c = com.pt.sekuritas.backoffice.Registration.createCriteria()\r\n    \t\t\t\t\t\t\t\t\t\tdef d = c.list{\r\n    \t\t\t\t\t\t\t\t\t\t\teq(&#39;rdn&#39;, accountNumber)\r\n    \t\t\t\t\t\t\t\t\t\t\teq(&#39;rdnBank&#39;, &#39;Cimb&#39;)\r\n    \t\t\t\t\t\t\t\t\t\t\tisNotNull(&#39;onlineRegistration&#39;)\r\n    \t\t\t\t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\t\t\t\t\r\n    \t\t\t\t\t\t\t\t\t\tif(d.size() &gt; 0) {\r\n    \t\t\t\t\t\t\t\t\t\t\tdef registrationInstance = d[0]\r\n    \t\t\t\t\t\t\t\t\t\t\tdef cal = Calendar.getInstance()\r\n    \t\t\t\t\t\t\t\t\t\t\tcal.set(Calendar.YEAR, 2021)\r\n    \t\t\t\t\t\t\t\t\t\t\tcal.set(Calendar.MONTH, 9)\r\n    \t\t\t\t\t\t\t\t\t\t\tcal.set(Calendar.DATE, 1)\r\n    \t\t\t\t\t\t\t\t\t\t\tcal.set(Calendar.HOUR, 0)\r\n    \t\t\t\t\t\t\t\t\t\t\tcal.set(Calendar.MINUTE, 0)\r\n    \t\t\t\t\t\t\t\t\t\t\tcal.set(Calendar.SECOND, 0)\r\n    \t\t\t\t\t\t\t\t\t\t\tdef startDate = cal.time\r\n    \t\t\t\t\t\t\t\t\t\t\tcal.set(Calendar.YEAR, 2022)\r\n    \t\t\t\t\t\t\t\t\t\t\tcal.set(Calendar.MONTH, 0)\r\n    \t\t\t\t\t\t\t\t\t\t\tcal.set(Calendar.DATE, 1)\r\n    \t\t\t\t\t\t\t\t\t\t\tdef endDate = cal.time\r\n    \t\t\t\t\t\t\t\t\t\t\tlog.info(&#39;[ReportInvestorAccountCIMBService][txnType:&#39; + txnType + &#39;][txnDesc:&#39; + txnDesc + &#39;][accountNumber:&#39; + accountNumber + &#39;][onlineRegistration.dateCreated:&#39; + registrationInstance.onlineRegistration.dateCreated + &#39;][startDate:&#39; + startDate + &#39;][endDate:&#39; + endDate + &#39;]&#39;)\r\n    \t\t\t\t\t\t\t\t\t\t\t\r\n    \t\t\t\t\t\t\t\t\t\t\tif(registrationInstance.onlineRegistration.dateCreated &gt; startDate &amp;&amp; registrationInstance.onlineRegistration.dateCreated &lt; endDate) {\r\n    \t\t\t\t\t\t\t\t\t\t\t\t//PROMO DIMODALIN\r\n    \t\t\t\t\t\t\t\t\t\t\t\tdef accountInstance = registrationInstance.onlineRegistration.account\r\n    \t\t\t\t\t\t\t\t\t\t\t\tLong longDepositAmount = Float.parseFloat(txnAmount)\r\n    \t\t\t\t\t\t\t\t\t\t\t\tjava.text.NumberFormat deFormat = java.text.NumberFormat.getInstance(new java.util.Locale(&quot;de&quot;, &quot;DE&quot;))\r\n    \t\t\t\t\t\t\t\t\t\t\t\tdef formattedAmount = deFormat.format(longDepositAmount)\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n    \t\t\t\t\t\t\t\t\t\t\t\tdef username = registrationInstance.username\r\n    \t\t\t\t\t\t\t\t\t\t\t\tdef name = registrationInstance.name\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\r\n    \t\t\t\t\t\t\t\t\t\t\t\tdef message = &#39;&lt;h2&gt;Yeay!&lt;/h2&gt;&lt;br/&gt;&lt;b&gt;&#39; + name + &#39;&lt;/b&gt; Kamu dapat modal Rp&#39; + formattedAmount + &#39; dari Phintraco Sekuritas.&lt;br/&gt;Cek saldo RDN kamu sekarang ya.&lt;br/&gt;Segera beli saham pilihan kamu.&lt;br/&gt;Ayo tingkatkan investasi kamu dengan top up saldo RDN kamu dan beli saham lebih banyak lagi.&lt;br/&gt;&#39; + \r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  &#39;Salam Profits&lt;br/&gt;&lt;b&gt;#bukarekeningdimodalin&lt;/b&gt;&#39;\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\r\n    \t\t\t\t\t\t\t\t\t\t\t\tdef pushData = [&#39;channel&#39;: &#39;PTANYWHERE_TRANSACTION_NOTIFICATION&#39;,\r\n    \t\t\t\t\t\t\t\t\t\t\t\t                  &#39;type&#39;:&#39;cashDeposit&#39;,\r\n    \t\t\t\t\t\t\t\t\t\t\t\t                  &#39;subType&#39;:&#39;&#39;,\r\n    \t\t\t\t\t\t\t\t\t\t\t\t                  &#39;sender&#39;:&#39;financialGateway&#39;,\r\n    \t\t\t\t\t\t\t\t\t\t\t\t                  &#39;recipient&#39;: accountInstance.username,\r\n    \t\t\t\t\t\t\t\t\t\t\t\t                  &#39;priority&#39;:&#39;0&#39;,\r\n    \t\t\t\t\t\t\t\t\t\t\t\t                  &#39;isHtml&#39;:&#39;true&#39;,\r\n    \t\t\t\t\t\t\t\t\t\t\t\t                  &#39;sentTime&#39;: System.currentTimeMillis(),\r\n    \t\t\t\t\t\t\t\t\t\t\t\t                  &#39;title&#39;:&#39;Promo Buka Rekening Dimodalin&#39;,\r\n    \t\t\t\t\t\t\t\t\t\t\t\t                  &#39;body&#39;:message,\r\n    \t\t\t\t\t\t\t\t\t\t\t\t                  &#39;ticker&#39;:message,\r\n    \t\t\t\t\t\t\t\t\t\t\t\t                  &#39;targetIntent&#39;:&#39;&#39;,\r\n    \t\t\t\t\t\t\t\t\t\t\t\t                  &#39;additionalData1&#39;:&#39;&#39;,\r\n    \t\t\t\t\t\t\t\t\t\t\t\t                  &#39;additionalData2&#39;:&#39;&#39;,\r\n    \t\t\t\t\t\t\t\t\t\t\t\t                  &#39;additionalData3&#39;:&#39;&#39;,\r\n    \t\t\t\t\t\t\t\t\t\t\t\t                  &#39;additionalData4&#39;:&#39;&#39;,\r\n    \t\t\t\t\t\t\t\t\t\t\t\t                  &#39;additionalData5&#39;:&#39;&#39;,\r\n    \t\t\t\t\t\t\t\t\t\t\t\t                 ]\r\n    \t\t\t\t\t\t\t\t\t\t\t\tdef fcmMessage = (pushData as JSON).toString()\r\n    \t\t\t\t\t\t\t\t\t\t\t\tlog.info(&#39;[ReportInvestorAccountCIMBService][txnType:&#39; + txnType + &#39;][txnDesc:&#39; + txnDesc + &#39;][accountNumber:&#39; + accountNumber + &#39;][username:&#39; + username + &#39;][name:&#39; + name + &#39;][onlineRegistration.dateCreated:&#39; + registrationInstance.onlineRegistration.dateCreated + &#39;][message:&#39; + message + &#39;][fcmMessage:&#39; + fcmMessage + &#39;]&#39;)\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\r\n    \t\t\t\t\t\t\t\t\t\t\t\tcom.pt.sekuritas.util.ActiveMQHolder.getInstance().pushNotification(fcmMessage)\r\n    \t\t\t\t\t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\t\tcatch(Exception exc) {\r\n    \t\t\t\t\t\t\t\t\tlog.error (&#39;[ReportInvestorAccountCIMBService][ip:&#39; + ip + &#39;][error: FAILED PROCESSING NOTIFICATION]&#39;)\r\n    \t\t\t\t\t\t\t\t\texc.printStackTrace()\r\n    \t\t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\t\t\r\n    \t\t\t\t\t\t\t    return status = 1\r\n    \t\t\t\t\t\t}\r\n    \t\t    \t\t\t\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\tcatch(Exception exc)\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tlog.error (&#39;[ReportInvestorAccountCIMBService][ip:&#39; + ip + &#39;][error: FAILED INSERT]&#39;)\r\n    \t\t\t\t\t\texc.printStackTrace()\r\n    \t\t\t            return status = 0\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}else {\r\n    \t\t\t\t\tlog.error(&#39;[ReportInvestorAccountCIMBService]not found ip address: &#39; + ip)\r\n    \t\t\t\t\treturn status = 2\r\n    \t\t\t\t}\r\n    \t\t\t\t\r\n    \t}\r\n    }\r\n\r\nhow can I send a request with a soap like that?\r\nwhat should i change from my groovy service source code\r\nin order to comply with the soap above?\r\n\r\nAny help would be greatly appreciated.\r\n","title":"how to handle request soap with groovy?","body":"<p>i want to hit this soap request to my groovy service,</p>\n<p>here's my soap request</p>\n<pre><code>&lt;soapenv:Envelope xmlns:soapenv=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot; xmlns:fin=&quot;http://financial.sekuritas.pt.com/&quot; xmlns:java=&quot;java:financialgateway.service.RepostInvestorAccountCIMB&quot;&gt;\n   &lt;soapenv:Header/&gt;\n   &lt;soapenv:Body&gt;\n      &lt;fin:getData&gt;\n         &lt;fin:input&gt;\n            &lt;java:memberCode&gt;test&lt;/java:memberCode&gt;\n            &lt;java:fileContents&gt;somebase64encodedtext&lt;/java:fileContents&gt;\n            &lt;java:crc32&gt;test&lt;/java:crc32&gt;\n            &lt;java:urlWS&gt;test&lt;/java:urlWS&gt;\n         &lt;/fin:input&gt;\n      &lt;/fin:getData&gt;\n   &lt;/soapenv:Body&gt;\n&lt;/soapenv:Envelope&gt;\n</code></pre>\n<p>but when i tried to submit request using soap ui, this error appears</p>\n<pre><code>&lt;soap:Envelope xmlns:soap=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\n  &lt;soap:Body&gt;\n    &lt;soap:Fault&gt;\n      &lt;faultcode&gt;soap:Client&lt;/faultcode&gt;\n      &lt;faultstring&gt;Unmarshalling Error: unexpected element (uri:&quot;http://financial.sekuritas.pt.com/&quot;, local:&quot;input&quot;). Expected elements are &amp;lt;{}memberCode&amp;gt;,&amp;lt;{}crc32&amp;gt;,&amp;lt;{}fileContents&amp;gt;,&amp;lt;{}urlWS&amp;gt; &lt;/faultstring&gt;\n    &lt;/soap:Fault&gt;\n  &lt;/soap:Body&gt;\n&lt;/soap:Envelope&gt;\n</code></pre>\n<p>in the groovy service that I created, I made it like this</p>\n<pre><code>package com.pt.sekuritas.financial\n\nimport grails.transaction.Transactional\nimport org.grails.cxf.utils.GrailsCxfEndpoint\nimport java.text.SimpleDateFormat\nimport javax.annotation.Resource\nimport javax.jws.WebMethod\nimport javax.jws.WebParam\nimport javax.jws.WebResult\nimport grails.converters.JSON\n\nimport javax.servlet.http.HttpServletRequest\nimport javax.xml.ws.WebServiceContext\nimport javax.xml.ws.handler.MessageContext\n\nimport com.microsoft.sqlserver.jdbc.SQLServerDataSource\n\nimport groovy.sql.Sql\n\nimport com.pt.sekuritas.backoffice.Registration\n\n\n@Transactional\n@GrailsCxfEndpoint(address=&quot;/ReportInvestorAccountCIMB&quot;)\nclass ReportInvestorAccountCIMBService {\n    def grailsApplication\n    def base64Decode(encodedString){\n                            byte[] decoded = encodedString.decodeBase64()\n                            String decode = new String(decoded)\n                            return decode\n                            }\n    @Resource WebServiceContext context\n    @WebMethod\n    @WebResult()\n    \n    getData(@WebParam(name = 'memberCode') String memberCode,           \n            @WebParam(name = 'fileContents') String fileContents,\n            @WebParam(name = 'crc32') String crc32,\n            @WebParam(name = 'urlWS') String urlWS\n\n            ) {\n                HttpServletRequest request = (HttpServletRequest)context.getMessageContext().get(MessageContext.SERVLET_REQUEST)\n                def ip = request.getRemoteAddr()\n                    \n                def port = request.getRemotePort()\n                def host = request.getRemoteHost()\n                def dateFormatter = new SimpleDateFormat('yyyy-MM-dd HH:mm:ss')\n                def dateFormatterRtbo = new SimpleDateFormat('yyyy-MM-dd')\n                def sTime = new SimpleDateFormat('yyyyMMdd')\n                def nowDate = new Date()\n                def currentDate = dateFormatter.format(nowDate)\n\n        \n                fileContents = base64Decode(fileContents)\n\n                def externalReference=&quot;&quot;;\n                def sequenceNumber=&quot;&quot;;\n                def accountNumber=&quot;&quot;;\n                def currency=&quot;&quot;;\n                def txnDate=&quot;&quot;;\n                def openBalance=&quot;&quot;;\n                def closeBalance=&quot;&quot;;\n\n                def txnAmount=&quot;&quot;;\n                def txnType=&quot;&quot;;\n                def txnCode=&quot;&quot;;\n                def txnDesc=&quot;&quot;;\n                def accountDebit=&quot;&quot;;\n                def accountCredit=&quot;&quot;;\n\n                \n            def test = new XmlParser().parseText(fileContents)\n            test.each { \n            if (it.@name == 'StatLine') {\n                it.'*'.'*'.each {\n                    if (it.@name == 'CashVal') {\n                        def cashVal = new BigDecimal(it.text())\n                         txnAmount= &quot;$cashVal&quot; \n\n                    }else if (it.@name == 'TrxType') {\n                        def trxType = (it.text())\n                          txnType=&quot;$trxType&quot;\n\n                    }else if (it.@name == 'DC') {\n                        def dc = (it.text())\n                          txnCode=&quot;$dc&quot; \n\n                    }else if (it.@name == 'Description1') {\n                        def description1 = (it.text())\n                         txnDesc=&quot;$description1&quot; \n                    }\n                }\n            }\n            }\n\n            def xml = new XmlParser().parseText(fileContents)\n                xml.each {\n                if(it.@name == 'ExtRef') {\n                 def a = (it.text())\n                 externalReference=&quot;$a&quot;\n                }else if(it.@name == 'SeqNum') {\n                def b = new BigDecimal(it.text())\n                 sequenceNumber=&quot;$b&quot;\n                } else if(it.@name == 'AC') {\n                  def c = new BigDecimal(it.text())\n                  accountNumber=&quot;$c&quot;\n                } else if(it.@name == 'CurCod') {\n                 def d = (it.text())\n                  currency=&quot;$d&quot;\n                } else if(it.@name == 'ValDate') {\n                 def e = new BigDecimal(it.text())\n                  txnDate=&quot;$e&quot;\n                } else if(it.@name == 'OpenBal') {\n                def f = new BigDecimal(it.text())\n                 openBalance=&quot;$f&quot;\n                } else if(it.@name == 'CloseBal') {\n                def g = new BigDecimal(it.text())\n                 closeBalance=&quot;$g&quot;\n                }\n            }\n\n                println(&quot;txnDate? &quot;+txnDate)    \n                \n                log.info ('[ReportInvestorAccountCIMBService][ip:' + ip + '][current date:' + currentDate + '][data[externalReference:' + externalReference + ', sequenceNumber:' + sequenceNumber + ', accountNumber:' + accountNumber + ', currency:' + currency + ', txnDate:' + txnDate + ', txnType:' + ', txnCode:' + txnCode + ', accountDebit:' + accountDebit + ', accountCredit:' + accountCredit + ', txnAmount:' + txnAmount + ', openBalance:' + openBalance + ', closeBalance:' + closeBalance + ', txnDesc:' + txnDesc + ']]')\n        \n                def status = 1\n                def processDinamis = 0\n                def processRtbo = 0\n\n                \n\n                \n                if(txnDate == ''){\n                    log.error ('[ReportInvestorAccountCIMBService][ip:' + ip + '][TxnDate: is null]')\n                    return status = 3       \n                }\n                def financialConfiguration = FinancialGatewayConfiguration.findByIpAddress(ip)\n                \n                        \n                if(financialConfiguration) {\n                    try\n                    {\n                        def p_txnDate = sTime.parse(txnDate)\n                        def financialInstance = FinancialGatewayNotification.findByExternalReference(externalReference)\n                        \n                        if(financialInstance)\n                        {\n                            log.error ('[ReportInvestorAccountCIMBService][is exist externalReference:' + externalReference + ']')\n                            return status = 4   \n                        }else {\n                            \n                            if(txnCode == 'C'){\n                                \n                                accountCredit = accountNumber\n                                \n                            }else if(txnCode == 'D'){\n                                \n                                accountDebit = accountNumber\n                                \n                            }\n\n                            financialInstance = new FinancialGatewayNotification()\n                            financialInstance.externalReference = externalReference\n                            financialInstance.sequenceNumber = sequenceNumber\n                            financialInstance.accountNumber = accountNumber\n                            financialInstance.currency = currency\n                            financialInstance.txnDate = dateFormatter.format(p_txnDate)\n                            financialInstance.txnType = txnType\n                            financialInstance.txnCode = txnCode \n                            financialInstance.accountDebit = accountDebit     \n                            financialInstance.accountCredit = accountCredit\n                            financialInstance.txnAmount = txnAmount\n                            financialInstance.openBalance = openBalance\n                            financialInstance.closeBalance = closeBalance\n                            financialInstance.txnDescription = txnDesc\n                            financialInstance.ipAddress = financialConfiguration.ipAddress\n                            financialInstance.sourceBank = financialConfiguration.sourceBank\n                            \n                        \n                            if (financialInstance.hasErrors()) {                    \n                                return status\n                            }\n                            financialInstance.save flush: true, failOnError: true\n                            \n                            def currDate = sTime.format(nowDate).toString()\n                            def _txnDate = sTime.format(p_txnDate).toString()\n                            \n                            \n                            //if(_txnDate == currDate) {\n                                try\n                                {\n                                    log.info('[ReportInvestorAccountCIMBService]SQL SERVER: ' + grailsApplication.config.dinamis.gateway.db.url)\n                                    def sql = Sql.newInstance( grailsApplication.config.dinamis.gateway.db.url,\n                                                               grailsApplication.config.dinamis.gateway.db.user,\n                                                               grailsApplication.config.dinamis.gateway.db.password,\n                                                               grailsApplication.config.dinamis.gateway.db.driver )\n                                    sql.execute('INSERT INTO CIMB_H2H (EXTERNAL_REFERENCE, SEQ_NUMBER, ACCOUNT_NUMBER, CURRENCY, TXN_DATE, TXN_TYPE, TXN_CODE, ACCOUNT_DEBIT, ACCOUNT_CREDIT, TXN_AMOUNT, OPEN_BALANCE, CLOSE_BALANCE, TXN_DESC, INSERT_TIME, MEMBER_CODE, CRC32, URL_WS) VALUES(\\'' + externalReference + '\\', \\'' + sequenceNumber + '\\', \\'' + accountNumber + '\\', \\'' + currency + '\\', \\'' + dateFormatter.format(p_txnDate) + '\\', \\'' + txnType + '\\', \\'' + txnCode + '\\', \\'' + accountDebit + '\\', \\'' + accountCredit + '\\', \\'' + txnAmount + '\\', \\'' + openBalance + '\\', \\'' + closeBalance + '\\', \\'' + txnDesc + '\\', \\'' +  currentDate + '\\', \\'' +  memberCode + '\\',  \\'' +  crc32 + '\\',  \\'' +  urlWS + '\\')')\n                                    processDinamis = 1\n                                    sql.close()\n                                    \n                                }\n                                catch(Exception exc)\n                                {\n                                    log.error ('[ReportInvestorAccountCIMBService][ip:' + ip + '][error: SQL EXECUTE')\n                                    processDinamis = 0 \n                                    exc.printStackTrace()\n                                }\n                            /*\n                            }else {\n                                log.info('[ReportInvestorAccountCIMBService][ip:' + ip + '][current date:' + currentDate + '][data[externalReference:' + externalReference + ', sequenceNumber:' + sequenceNumber + ', accountNumber:' + accountNumber + ', currency:' + currency + ', txnDate:' + txnDate + ', txnType:' + ', txnCode:' + txnCode + ', accountDebit:' + accountDebit + ', accountCredit:' + accountCredit + ', txnAmount:' + txnAmount + ', openBalance:' + openBalance + ', closeBalance:' + closeBalance + ', txnDesc:' + txnDesc + ']]The ' + currDate + ' not match with _txnDate ' + _txnDate)\n                            }*/\n                                financialInstance.processResponse = processDinamis\n                                financialInstance.processDate = currentDate\n                                \n                                financialInstance.save flush: true, failOnError: true\n                                \n                                // S21 RTBO\n                                if(accountNumber) {\n                                    try\n                                    {\n                                        log.info('[ReportInvestorAccountCIMBService]SQL SERVER: ' + grailsApplication.config.rtbo.gateway.db.url)\n                                        def sql = Sql.newInstance( grailsApplication.config.rtbo.gateway.db.url,\n                                                                   grailsApplication.config.rtbo.gateway.db.user,\n                                                                   grailsApplication.config.rtbo.gateway.db.password,\n                                                                   grailsApplication.config.rtbo.gateway.db.driver )\n                                        \n                                        sql.execute('EXEC RtboAddFundinout \\'' + dateFormatterRtbo.format(p_txnDate) + '\\', \\'' + currentDate + '\\', \\'' + txnDesc + '\\', null, \\'' + accountNumber + '\\', \\'' + txnAmount + '\\', \\'' + openBalance + '\\', \\'' + txnCode + '\\', \\'' + txnType + '\\', \\'' + 'H2H' + '\\', \\'' + '' + '\\', \\'' + accountDebit + '\\', \\'' + accountCredit + '\\', \\'' + externalReference + '\\', \\'' + 'Cimb' + '\\'')\n                                        processRtbo = 1\n                                        sql.close()\n                                        \n                                    }\n                                    catch(Exception exc)\n                                    {\n                                        log.error ('[ReportInvestorAccountCIMBService][ip:' + ip + '][error: SQL EXECUTE')\n                                        processRtbo = 0\n                                        exc.printStackTrace()\n                                    }\n                                    \n                                    financialInstance.processResponse = processRtbo\n                                    financialInstance.processDate = currentDate\n                                    \n                                    financialInstance.save flush: true, failOnError: true\n                                    \n                                }else {\n                                    log.info ('[ReportInvestorAccountCIMBService][ip:' + ip + ']Empty Account Number')\n                                }\n                                \n                                try {\n                                    if(txnType == '61' &amp;&amp; txnDesc == 'PHINTRACO PHINTRACO' &amp;&amp; txnAmount == '50000.0000') {\n                                        def c = com.pt.sekuritas.backoffice.Registration.createCriteria()\n                                        def d = c.list{\n                                            eq('rdn', accountNumber)\n                                            eq('rdnBank', 'Cimb')\n                                            isNotNull('onlineRegistration')\n                                        }\n                                        \n                                        if(d.size() &gt; 0) {\n                                            def registrationInstance = d[0]\n                                            def cal = Calendar.getInstance()\n                                            cal.set(Calendar.YEAR, 2021)\n                                            cal.set(Calendar.MONTH, 9)\n                                            cal.set(Calendar.DATE, 1)\n                                            cal.set(Calendar.HOUR, 0)\n                                            cal.set(Calendar.MINUTE, 0)\n                                            cal.set(Calendar.SECOND, 0)\n                                            def startDate = cal.time\n                                            cal.set(Calendar.YEAR, 2022)\n                                            cal.set(Calendar.MONTH, 0)\n                                            cal.set(Calendar.DATE, 1)\n                                            def endDate = cal.time\n                                            log.info('[ReportInvestorAccountCIMBService][txnType:' + txnType + '][txnDesc:' + txnDesc + '][accountNumber:' + accountNumber + '][onlineRegistration.dateCreated:' + registrationInstance.onlineRegistration.dateCreated + '][startDate:' + startDate + '][endDate:' + endDate + ']')\n                                            \n                                            if(registrationInstance.onlineRegistration.dateCreated &gt; startDate &amp;&amp; registrationInstance.onlineRegistration.dateCreated &lt; endDate) {\n                                                //PROMO DIMODALIN\n                                                def accountInstance = registrationInstance.onlineRegistration.account\n                                                Long longDepositAmount = Float.parseFloat(txnAmount)\n                                                java.text.NumberFormat deFormat = java.text.NumberFormat.getInstance(new java.util.Locale(&quot;de&quot;, &quot;DE&quot;))\n                                                def formattedAmount = deFormat.format(longDepositAmount)\n                                                        \n                                                def username = registrationInstance.username\n                                                def name = registrationInstance.name\n                                                \n                                                def message = '&lt;h2&gt;Yeay!&lt;/h2&gt;&lt;br/&gt;&lt;b&gt;' + name + '&lt;/b&gt; Kamu dapat modal Rp' + formattedAmount + ' dari Phintraco Sekuritas.&lt;br/&gt;Cek saldo RDN kamu sekarang ya.&lt;br/&gt;Segera beli saham pilihan kamu.&lt;br/&gt;Ayo tingkatkan investasi kamu dengan top up saldo RDN kamu dan beli saham lebih banyak lagi.&lt;br/&gt;' + \n                                                              'Salam Profits&lt;br/&gt;&lt;b&gt;#bukarekeningdimodalin&lt;/b&gt;'\n                                                \n                                                def pushData = ['channel': 'PTANYWHERE_TRANSACTION_NOTIFICATION',\n                                                                  'type':'cashDeposit',\n                                                                  'subType':'',\n                                                                  'sender':'financialGateway',\n                                                                  'recipient': accountInstance.username,\n                                                                  'priority':'0',\n                                                                  'isHtml':'true',\n                                                                  'sentTime': System.currentTimeMillis(),\n                                                                  'title':'Promo Buka Rekening Dimodalin',\n                                                                  'body':message,\n                                                                  'ticker':message,\n                                                                  'targetIntent':'',\n                                                                  'additionalData1':'',\n                                                                  'additionalData2':'',\n                                                                  'additionalData3':'',\n                                                                  'additionalData4':'',\n                                                                  'additionalData5':'',\n                                                                 ]\n                                                def fcmMessage = (pushData as JSON).toString()\n                                                log.info('[ReportInvestorAccountCIMBService][txnType:' + txnType + '][txnDesc:' + txnDesc + '][accountNumber:' + accountNumber + '][username:' + username + '][name:' + name + '][onlineRegistration.dateCreated:' + registrationInstance.onlineRegistration.dateCreated + '][message:' + message + '][fcmMessage:' + fcmMessage + ']')\n                                                \n                                                com.pt.sekuritas.util.ActiveMQHolder.getInstance().pushNotification(fcmMessage)\n                                            }\n                                        }\n                                    }\n                                }\n                                catch(Exception exc) {\n                                    log.error ('[ReportInvestorAccountCIMBService][ip:' + ip + '][error: FAILED PROCESSING NOTIFICATION]')\n                                    exc.printStackTrace()\n                                }\n                                \n                                return status = 1\n                        }\n                        \n                    }\n                    catch(Exception exc)\n                    {\n                        log.error ('[ReportInvestorAccountCIMBService][ip:' + ip + '][error: FAILED INSERT]')\n                        exc.printStackTrace()\n                        return status = 0\n                    }\n                }else {\n                    log.error('[ReportInvestorAccountCIMBService]not found ip address: ' + ip)\n                    return status = 2\n                }\n                \n    }\n}\n</code></pre>\n<p>how can I send a request with a soap like that?\nwhat should i change from my groovy service source code\nin order to comply with the soap above?</p>\n<p>Any help would be greatly appreciated.</p>\n"},{"tags":["java","xss","outputstream","veracode"],"answers":[{"comments":[{"owner":{"account_id":1232680,"reputation":1203,"user_id":1196928,"display_name":"bharatpatel"},"score":0,"creation_date":1608628138,"post_id":65405047,"comment_id":115634698,"body_markdown":"Thanks for answer, I know this standard encoding practice but here I have file object not a string object and converting byte to string is also not good practice for performance and also it corrupt the file also. So is there any other suggestion for the same?","body":"Thanks for answer, I know this standard encoding practice but here I have file object not a string object and converting byte to string is also not good practice for performance and also it corrupt the file also. So is there any other suggestion for the same?"},{"owner":{"account_id":8987468,"reputation":1127,"user_id":6700591,"display_name":"Eden Moshe"},"score":0,"creation_date":1608632575,"post_id":65405047,"comment_id":115636620,"body_markdown":"while ((readed = bufferInputStream.read(data)) != -1)\n        {\n           if (readed.equals(&#39;&lt;&#39;) || readed.equals(&#39;&gt;&#39;) .... ) {\n             readed = stringToHtmlString(readed.toString())\n             } \n            outputStream.write(data, 0, readed);\n        }","body":"while ((readed = bufferInputStream.read(data)) != -1)         {            if (readed.equals(&#39;&lt;&#39;) || readed.equals(&#39;&gt;&#39;) .... ) {              readed = stringToHtmlString(readed.toString())              }              outputStream.write(data, 0, readed);         }"},{"owner":{"account_id":1232680,"reputation":1203,"user_id":1196928,"display_name":"bharatpatel"},"score":0,"creation_date":1608634481,"post_id":65405047,"comment_id":115637437,"body_markdown":"bufferInputStream.read methods gives us integer value not string, So I can not compare  it.","body":"bufferInputStream.read methods gives us integer value not string, So I can not compare  it."},{"owner":{"account_id":1232680,"reputation":1203,"user_id":1196928,"display_name":"bharatpatel"},"score":0,"creation_date":1608696168,"post_id":65405047,"comment_id":115658060,"body_markdown":"I will try to compare but even it will work, it will slow the download process. I will update here if it works.","body":"I will try to compare but even it will work, it will slow the download process. I will update here if it works."},{"owner":{"account_id":8987468,"reputation":1127,"user_id":6700591,"display_name":"Eden Moshe"},"score":0,"creation_date":1608875753,"post_id":65405047,"comment_id":115705132,"body_markdown":"Please let me know if its work, if its work please mark question as resolved","body":"Please let me know if its work, if its work please mark question as resolved"},{"owner":{"account_id":1232680,"reputation":1203,"user_id":1196928,"display_name":"bharatpatel"},"score":0,"creation_date":1610968225,"post_id":65405047,"comment_id":116291175,"body_markdown":"Whenever I check readed.toString() gives me numeric number not any string characters because it will read data from bufferInputStream as per the buffer size decided, so it will not be single characters as we expect. I tried this code same as you mentioned in comment.","body":"Whenever I check readed.toString() gives me numeric number not any string characters because it will read data from bufferInputStream as per the buffer size decided, so it will not be single characters as we expect. I tried this code same as you mentioned in comment."}],"tags":[],"owner":{"account_id":8987468,"reputation":1127,"user_id":6700591,"display_name":"Eden Moshe"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1608624682,"creation_date":1608624048,"answer_id":65405047,"question_id":65404088,"body_markdown":"Convert\r\n\r\n    &lt; → &amp;lt;\r\n    \r\n    &gt; → &amp;gt;\r\n    \r\n    &#39; → &amp;#39;\r\n    \r\n    &quot; → &amp;quot;\r\n    \r\n    &amp; → &amp;amp;\r\n\r\n\r\n\r\ncode:\r\n\r\n\r\n    public static final String stringToHtmlString(String s){\r\n       StringBuffer sb = new StringBuffer();\r\n       int n = s.length();\r\n       for (int i = 0; i &lt; n; i++) {\r\n          char c = s.charAt(i);\r\n          switch (c) {\r\n             case &#39;&lt;&#39;: sb.append(&quot;&amp;lt;&quot;); break;\r\n             case &#39;&gt;&#39;: sb.append(&quot;&amp;gt;&quot;); break;\r\n             case &#39;&amp;&#39;: sb.append(&quot;&amp;amp;&quot;); break;\r\n             case &#39;&quot;&#39;: sb.append(&quot;&amp;quot;&quot;); break;\r\n             default:  sb.append(c); break;\r\n          }\r\n       }\r\n       return sb.toString();\r\n    }","title":"How to fix veracode CWE-80 XSS issue while downloading the file?","body":"<p>Convert</p>\n<pre><code>&lt; → &amp;lt;\n\n&gt; → &amp;gt;\n\n' → &amp;#39;\n\n&quot; → &amp;quot;\n\n&amp; → &amp;amp;\n</code></pre>\n<p>code:</p>\n<pre><code>public static final String stringToHtmlString(String s){\n   StringBuffer sb = new StringBuffer();\n   int n = s.length();\n   for (int i = 0; i &lt; n; i++) {\n      char c = s.charAt(i);\n      switch (c) {\n         case '&lt;': sb.append(&quot;&amp;lt;&quot;); break;\n         case '&gt;': sb.append(&quot;&amp;gt;&quot;); break;\n         case '&amp;': sb.append(&quot;&amp;amp;&quot;); break;\n         case '&quot;': sb.append(&quot;&amp;quot;&quot;); break;\n         default:  sb.append(c); break;\n      }\n   }\n   return sb.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":113085,"reputation":18448,"user_id":298029,"display_name":"fgb"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1608636120,"creation_date":1608636120,"answer_id":65407817,"question_id":65404088,"body_markdown":"Veracode is probably seeing that you&#39;re not doing any encoding and thinking it could be a XSS issue.\r\n\r\nIn this case however, there&#39;s no encoding needed because it&#39;s a file download, rather than the generation of HTML data. The result won&#39;t be interpreted by the browser as HTML with these content-type and headers so it&#39;s a false positive warning.","title":"How to fix veracode CWE-80 XSS issue while downloading the file?","body":"<p>Veracode is probably seeing that you're not doing any encoding and thinking it could be a XSS issue.</p>\n<p>In this case however, there's no encoding needed because it's a file download, rather than the generation of HTML data. The result won't be interpreted by the browser as HTML with these content-type and headers so it's a false positive warning.</p>\n"}],"owner":{"account_id":1232680,"reputation":1203,"user_id":1196928,"display_name":"bharatpatel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2229,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1691054381,"creation_date":1608618219,"question_id":65404088,"body_markdown":"Below is my existing Java base standard code and as you can see I am simply downloading files using output stream.\r\n\r\nI am only using the request parameter to get browser detail from the header to generate the filename and again I am decoding it. \r\n\r\nSo now I don&#39;t understand how the below code \r\n\r\n&gt; outputStream.write(data, 0, readed);\r\n\r\n can leads to an XSS issue? \r\n\r\nSo, How I can resolve this issue because my output is a simple file?\r\n\r\n\r\n    \r\n            OutputStream outputStream = httpResponse.getOutputStream();\r\n\t\t\tInputStream fileInputStream = generateInputStreamObj(user, attachmentObj, false, httpRequest, servletContext, ipAddress);\r\n\r\n\t\t\tString userAgent = httpRequest.getHeader(&quot;User-Agent&quot;);\r\n\t\t\tString encodedFileName = generateFileName(userAgent, attachmentObj);\r\n\r\n\t\t\tint downloadBufferSize = Integer.parseInt(CacheManagement.getInstance().getSystemPropertyByAlias().get(&quot;DOWNLOAD_BUFFER_SIZE&quot;).getPropertyValue());\r\n\r\n\t\t\thttpResponse.setContentType(&quot;application/x-download&quot;);\r\n\t\t\thttpResponse.setHeader(&quot;Content-Length&quot;, String.valueOf(attachmentObj.getDocumentSize()));\r\n\t\t\thttpResponse.setHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename=\\&quot;&quot; + encodedFileName + &quot;\\&quot;&quot;);\r\n\t\t\thttpResponse.setBufferSize(downloadBufferSize);\r\n\r\n\t\t\tbufferInputStream = new BufferedInputStream(fileInputStream);\r\n\t\t\tbyte[] data = new byte[downloadBufferSize];\r\n\t\t\tint readed = 0;\r\n\t\t\twhile ((readed = bufferInputStream.read(data)) != -1)\r\n\t\t\t{\r\n\t\t\t\toutputStream.write(data, 0, readed);\r\n\t\t\t}\r\n\r\n\r\nI check Stack overflow and Veracode answers but it doesn&#39;t help me.\r\n\r\n** put a comment if you are putting this question to minus. I reviewed stackoverflow and veracode community answer but it doesn&#39;t answer my questions.","title":"How to fix veracode CWE-80 XSS issue while downloading the file?","body":"<p>Below is my existing Java base standard code and as you can see I am simply downloading files using output stream.</p>\n<p>I am only using the request parameter to get browser detail from the header to generate the filename and again I am decoding it.</p>\n<p>So now I don't understand how the below code</p>\n<blockquote>\n<p>outputStream.write(data, 0, readed);</p>\n</blockquote>\n<p>can leads to an XSS issue?</p>\n<p>So, How I can resolve this issue because my output is a simple file?</p>\n<pre><code>        OutputStream outputStream = httpResponse.getOutputStream();\n        InputStream fileInputStream = generateInputStreamObj(user, attachmentObj, false, httpRequest, servletContext, ipAddress);\n\n        String userAgent = httpRequest.getHeader(&quot;User-Agent&quot;);\n        String encodedFileName = generateFileName(userAgent, attachmentObj);\n\n        int downloadBufferSize = Integer.parseInt(CacheManagement.getInstance().getSystemPropertyByAlias().get(&quot;DOWNLOAD_BUFFER_SIZE&quot;).getPropertyValue());\n\n        httpResponse.setContentType(&quot;application/x-download&quot;);\n        httpResponse.setHeader(&quot;Content-Length&quot;, String.valueOf(attachmentObj.getDocumentSize()));\n        httpResponse.setHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename=\\&quot;&quot; + encodedFileName + &quot;\\&quot;&quot;);\n        httpResponse.setBufferSize(downloadBufferSize);\n\n        bufferInputStream = new BufferedInputStream(fileInputStream);\n        byte[] data = new byte[downloadBufferSize];\n        int readed = 0;\n        while ((readed = bufferInputStream.read(data)) != -1)\n        {\n            outputStream.write(data, 0, readed);\n        }\n</code></pre>\n<p>I check Stack overflow and Veracode answers but it doesn't help me.</p>\n<p>** put a comment if you are putting this question to minus. I reviewed stackoverflow and veracode community answer but it doesn't answer my questions.</p>\n"},{"tags":["java","json","kotlin","apache-beam","avro"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1691054814,"post_id":76826535,"comment_id":135440675,"body_markdown":"Does this answer your question? [How to fix Expected start-union. Got VALUE\\_NUMBER\\_INT when converting JSON to Avro on the command line?](https://stackoverflow.com/questions/27485580/how-to-fix-expected-start-union-got-value-number-int-when-converting-json-to-av)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/27485580/how-to-fix-expected-start-union-got-value-number-int-when-converting-json-to-av\">How to fix Expected start-union. Got VALUE_NUMBER_INT when converting JSON to Avro on the command line?</a>"}],"owner":{"account_id":1412218,"reputation":9144,"user_id":1338588,"accept_rate":64,"display_name":"Kulasangar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691054149,"creation_date":1691053766,"question_id":76826535,"body_markdown":"I&#39;m currently trying to convert a JsonObject into an Avro Generic Record where I stumbled upon this issue.\r\n\r\nMy schema toString() looks like:\r\n\r\n    {\r\n       &quot;type&quot;:&quot;record&quot;,\r\n       &quot;name&quot;:&quot;list&quot;,\r\n       &quot;namespace&quot;:&quot;list15&quot;,\r\n       &quot;fields&quot;:[\r\n          {\r\n             &quot;name&quot;:&quot;element&quot;,\r\n             &quot;type&quot;:{\r\n                &quot;type&quot;:&quot;record&quot;,\r\n                &quot;name&quot;:&quot;element&quot;,\r\n                &quot;namespace&quot;:&quot;element8&quot;,\r\n                &quot;fields&quot;:[\r\n                   {\r\n                      &quot;name&quot;:&quot;name&quot;,\r\n                      &quot;type&quot;:[\r\n                         &quot;null&quot;,\r\n                         &quot;string&quot;\r\n                      ],\r\n                      &quot;default&quot;:null\r\n                   },\r\n                   {\r\n                      &quot;name&quot;:&quot;value&quot;,\r\n                      &quot;type&quot;:{\r\n                         &quot;type&quot;:&quot;array&quot;,\r\n                         &quot;items&quot;:{\r\n                            &quot;type&quot;:&quot;record&quot;,\r\n                            &quot;name&quot;:&quot;list&quot;,\r\n                            &quot;namespace&quot;:&quot;list16&quot;,\r\n                            &quot;fields&quot;:[\r\n                               {\r\n                                  &quot;name&quot;:&quot;element&quot;,\r\n                                  &quot;type&quot;:&quot;string&quot;\r\n                               }\r\n                            ]\r\n                         }\r\n                      }\r\n                   }\r\n                ]\r\n             }\r\n          }\r\n       ]\r\n    }\r\n\r\nand my JsonObject toString() looks like:\r\n\r\n    {&quot;element&quot;:{&quot;name&quot;:&quot;customer_id&quot;,&quot;value&quot;:[]}}\r\n\r\nThis is how I&#39;m trying to do the conversion:\r\n\r\n    val schemaStr = attribute.schema.toString() // here attribute is a GenericRecord type\r\n    val genericRecordStr = jsonRootObject.toString()\r\n    val schemaParser = Schema.Parser()\r\n    val schema = schemaParser.parse(schemaStr)\r\n    val decoderFactory = DecoderFactory()\r\n    val decoder = decoderFactory.jsonDecoder(schema, genericRecordStr)\r\n    val reader = GenericDatumReader&lt;GenericData.Record&gt;(schema)\r\n    val genericRecord = reader.read(null, decoder)\r\n\r\nAs you can see the JsonObject.toString() output, it obliges to the Schema. Not sure why the conversion is complaining and where I&#39;m going wrong?\r\n\r\nAny help could be appreciated.\r\n","title":"Expected start-union. Got VALUE_STRING while converting JsonObject to Avro Generic Record","body":"<p>I'm currently trying to convert a JsonObject into an Avro Generic Record where I stumbled upon this issue.</p>\n<p>My schema toString() looks like:</p>\n<pre><code>{\n   &quot;type&quot;:&quot;record&quot;,\n   &quot;name&quot;:&quot;list&quot;,\n   &quot;namespace&quot;:&quot;list15&quot;,\n   &quot;fields&quot;:[\n      {\n         &quot;name&quot;:&quot;element&quot;,\n         &quot;type&quot;:{\n            &quot;type&quot;:&quot;record&quot;,\n            &quot;name&quot;:&quot;element&quot;,\n            &quot;namespace&quot;:&quot;element8&quot;,\n            &quot;fields&quot;:[\n               {\n                  &quot;name&quot;:&quot;name&quot;,\n                  &quot;type&quot;:[\n                     &quot;null&quot;,\n                     &quot;string&quot;\n                  ],\n                  &quot;default&quot;:null\n               },\n               {\n                  &quot;name&quot;:&quot;value&quot;,\n                  &quot;type&quot;:{\n                     &quot;type&quot;:&quot;array&quot;,\n                     &quot;items&quot;:{\n                        &quot;type&quot;:&quot;record&quot;,\n                        &quot;name&quot;:&quot;list&quot;,\n                        &quot;namespace&quot;:&quot;list16&quot;,\n                        &quot;fields&quot;:[\n                           {\n                              &quot;name&quot;:&quot;element&quot;,\n                              &quot;type&quot;:&quot;string&quot;\n                           }\n                        ]\n                     }\n                  }\n               }\n            ]\n         }\n      }\n   ]\n}\n</code></pre>\n<p>and my JsonObject toString() looks like:</p>\n<pre><code>{&quot;element&quot;:{&quot;name&quot;:&quot;customer_id&quot;,&quot;value&quot;:[]}}\n</code></pre>\n<p>This is how I'm trying to do the conversion:</p>\n<pre><code>val schemaStr = attribute.schema.toString() // here attribute is a GenericRecord type\nval genericRecordStr = jsonRootObject.toString()\nval schemaParser = Schema.Parser()\nval schema = schemaParser.parse(schemaStr)\nval decoderFactory = DecoderFactory()\nval decoder = decoderFactory.jsonDecoder(schema, genericRecordStr)\nval reader = GenericDatumReader&lt;GenericData.Record&gt;(schema)\nval genericRecord = reader.read(null, decoder)\n</code></pre>\n<p>As you can see the JsonObject.toString() output, it obliges to the Schema. Not sure why the conversion is complaining and where I'm going wrong?</p>\n<p>Any help could be appreciated.</p>\n"},{"tags":["java","postgresql","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":5300710,"reputation":269,"user_id":4230445,"display_name":"rahulP"},"score":0,"creation_date":1691040219,"post_id":76823851,"comment_id":135437429,"body_markdown":"Can you plz share your pom file as well.","body":"Can you plz share your pom file as well."},{"owner":{"account_id":18866308,"reputation":11,"user_id":13761968,"display_name":"shubham"},"score":0,"creation_date":1691053757,"post_id":76823851,"comment_id":135440443,"body_markdown":"I have added pom.xml file as well","body":"I have added pom.xml file as well"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1691054321,"post_id":76823851,"comment_id":135440576,"body_markdown":"I feel I commented/answered the same question yesterday? Anyway enable debug logging (debug: true in your yaml), startup and see what is happening. Check your path for `hibernate.properties`/`hibernate.cfg.xml`/`persistence.xml` which can and will override properties. Make sure you don&#39;t have system or environment variables set that influence this. If you have a `schema.sql` check what it does, the same for a `data.sql`. Share a link to your project on github as the snippets here don&#39;t give the full picture.","body":"I feel I commented/answered the same question yesterday? Anyway enable debug logging (debug: true in your yaml), startup and see what is happening. Check your path for <code>hibernate.properties</code>/<code>hibernate.cfg.xml</code>/<code>persistence.xml</code> which can and will override properties. Make sure you don&#39;t have system or environment variables set that influence this. If you have a <code>schema.sql</code> check what it does, the same for a <code>data.sql</code>. Share a link to your project on github as the snippets here don&#39;t give the full picture."}],"owner":{"account_id":18866308,"reputation":11,"user_id":13761968,"display_name":"shubham"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1691054134,"creation_date":1691014721,"question_id":76823851,"body_markdown":"I&#39;m working on a school project using Spring Boot, and I&#39;m facing an issue where data is being unexpectedly deleted from the properties and property_details tables in my PostgreSQL database. I have checked the code and configuration but couldn&#39;t find the root cause.\r\n\r\nDespite my best efforts, I&#39;m unable to identify why the data is getting deleted. I have examined the application&#39;s log files, which show the SQL statements for table creation and alterations, but no explicit DELETE queries.\r\n\r\nThe database connection is configured in the application.yml file with hibernate.ddl-auto: none. I have ensured that there are no DELETE, TRUNCATE, or other data deletion statements executed during application startup or shutdown. There are no explicit table creations or modifications in my code or scripts. The database logs do not show any DELETE or TRUNCATE statements executed.\r\n\r\nAs I&#39;m new to Spring Boot and database interactions, I&#39;d appreciate any guidance or suggestions on how to investigate this issue further. Thank you in advance for any assistance and guidance you can provide. Below are the relevant code snippets \r\n\r\n```\r\nport: 8080\r\n  \r\nspring:\r\n  # Database configuration\r\n  datasource:\r\n    driverClassName: org.postgresql.Driver\r\n    url: jdbc:postgresql://${DB_HOST:localhost}:${DB_PORT:5432}/${DB_NAME:postgres}\r\n    username: ${DB_USER:postgres}\r\n    password: ${DB_PASSWORD:admin}\r\n  # JPA configuration  \r\n  jpa:\r\n    open-in-view: false\r\n    hibernate:\r\n      ddl-auto: none\r\n      # Avoid issue with JPA case insensitive\r\n      naming:\r\n        physical-strategy: org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\r\n    # This should no longer be needed with Hibernate 6\r\n    # database-platform: org.hibernate.spatial.dialect.postgis.PostgisPG10Dialect\r\n    database-platform: org.hibernate.dialect.PostgreSQLDialect\r\n\r\n    show-sql: true\r\n    database: postgresql\r\n    # PotGIS configuration\r\n    properties:\r\n        jdbc:\r\n          lob:\r\n            non_contextual_creation: true\r\nlogging:\r\n  level:\r\n    org.hibernate.SQL: DEBUG\r\n    org.hibernate.type.descriptor.sql.BasicBinder: TRACE\r\n```\r\n```java\r\n@RestController\r\n@RequestMapping(&quot;property&quot;)\r\n@CrossOrigin(origins = &quot;http://localhost:4200&quot;)\r\npublic class PropertyController {\r\n    @Autowired\r\n    private PropertyService service;\r\n    \r\n    @Autowired\r\n    private PropertyDetailsService propertyDetailsService;\r\n\r\n    @GetMapping(&quot;{name}&quot;)\r\n    public String getProperties(@PathVariable String name) {\r\n        return &quot;Welcome to SpringBoot Project!!! &quot; + name;\r\n    }\r\n\r\n    @GetMapping(&quot;{lat}/{lon}/{distanceKm}&quot;)\r\n    public ResponseEntity&lt;?&gt; getCityNear(\r\n            @PathVariable double lat,\r\n            @PathVariable double lon,\r\n            @PathVariable double distanceKm) {\r\n        List&lt;Property&gt; properties = service.findAround(lat, lon, distanceKm);\r\n\r\n        if (properties.isEmpty()) {\r\n            // If no properties found, return a custom message with 404 status code\r\n            String message = &quot;Properties are not available in your area.&quot;;\r\n            return ResponseEntity.status(HttpStatus.NOT_FOUND).body(new CustomMessage(message));\r\n        } else {\r\n            // If properties found, return the properties in the response with 200 status code\r\n            return ResponseEntity.ok(properties);\r\n        }\r\n    }\r\n\r\n    @GetMapping(&quot;names&quot;)\r\n    public String getPropertyNames() {\r\n        List&lt;Property&gt; properties = service.getAllProperties();\r\n        StringBuilder sb = new StringBuilder();\r\n        for (Property property : properties) {\r\n            sb.append(&quot;City Name: &quot;).append(property.getCityName());\r\n            sb.append(&quot;, Price: &quot;).append(property.getPrice());\r\n            sb.append(&quot;, Property Name: &quot;).append(property.getPropertyName());\r\n            sb.append(&quot;, Property Type: &quot;).append(property.getPropertyType());\r\n            sb.append(&quot;, Area: &quot;).append(property.getArea()).append(&quot;\\n&quot;);\r\n        }\r\n        return sb.toString();\r\n    }\r\n    \r\n    @GetMapping(&quot;/{propertyId}/details&quot;)\r\n    public ResponseEntity&lt;?&gt; getPropertyDetails(@PathVariable Long propertyId) {\r\n        PropertyDetails propertyDetails = propertyDetailsService.getPropertyDetailsById(propertyId);\r\n\r\n        if (propertyDetails != null) {\r\n            // If property details found, return them in the response with 200 status code\r\n            return ResponseEntity.ok(propertyDetails);\r\n        } else {\r\n            // If property details not found, return a custom message with 404 status code\r\n            String message = &quot;Property details not found for property ID: &quot; + propertyId;\r\n            return ResponseEntity.status(HttpStatus.NOT_FOUND).body(new CustomMessage(message));\r\n        }\r\n    }\r\n\r\n    // Custom message class\r\n    private static class CustomMessage {\r\n        private String message;\r\n\r\n        public CustomMessage(String message) {\r\n            this.message = message;\r\n        }\r\n\r\n        public String getMessage() {\r\n            return message;\r\n        }\r\n    }\r\n}\r\n```\r\n```java\r\n@Data\r\n@Entity(name = &quot;properties&quot;)\r\npublic class Property {\r\n\r\n    @Id\r\n    @Column(name=&quot;property_id&quot;)\r\n    private long id;\r\n    \r\n    @OneToOne(mappedBy = &quot;property&quot;, cascade = { CascadeType.PERSIST, CascadeType.MERGE }, fetch = FetchType.LAZY)\r\n    private PropertyDetails propertyDetails;\r\n \r\n    \r\n    @Column(name=&quot;city_name&quot;)\r\n    private String cityName;\r\n    \r\n    @Column(name=&quot;property_location&quot;, columnDefinition = &quot;geometry(Point,4326)&quot;)\r\n    private Point propertyLocation; \r\n    \r\n    @Column(name = &quot;price&quot;)\r\n    private double price;   \r\n\r\n    @Column(name = &quot;property_name&quot;)\r\n    private String propertyName;\r\n\r\n    @Column(name = &quot;property_type&quot;)\r\n    private String propertyType;\r\n\r\n    @Column(name = &quot;area&quot;)\r\n    private double area;\r\n    \r\n    public String getCityName() {\r\n        return cityName;\r\n    }\r\n    \r\n    public double getPrice() {\r\n        return price;\r\n    }\r\n\r\n    public void setPrice(double price) {\r\n        this.price = price;\r\n    }\r\n\r\n    public String getPropertyName() {\r\n        return propertyName;\r\n    }\r\n\r\n    public void setPropertyName(String propertyName) {\r\n        this.propertyName = propertyName;\r\n    }\r\n\r\n    public String getPropertyType() {\r\n        return propertyType;\r\n    }\r\n\r\n    public void setPropertyType(String propertyType) {\r\n        this.propertyType = propertyType;\r\n    }\r\n\r\n    public double getArea() {\r\n        return area;\r\n    }\r\n\r\n    public void setArea(double area) {\r\n        this.area = area;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Property [id=&quot; + id + &quot;, cityName=&quot; + cityName + &quot;, propertyLocation=&quot; + propertyLocation\r\n                + &quot;, price=&quot; + price + &quot;, propertyName=&quot; + propertyName + &quot;, propertyType=&quot; + propertyType\r\n                + &quot;, area=&quot; + area + &quot;]&quot;;\r\n    }\r\n\r\n}\r\n```\r\n```java\r\n@Entity\r\n@Table(name = &quot;property_details&quot;)\r\npublic class PropertyDetails {\r\n    \r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;property_details_id&quot;)\r\n\r\n    private Long propertyDetailsId;\r\n    \r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;property_id&quot;, referencedColumnName = &quot;property_id&quot;)\r\n    private Property property;\r\n\r\n    @Column(name = &quot;images&quot;)\r\n    private String images;\r\n\r\n    @Column(name = &quot;description&quot;)\r\n    private String description;\r\n\r\n    @Column(name = &quot;price&quot;)\r\n    private BigDecimal price;\r\n\r\n    @Column(name = &quot;address&quot;)\r\n    private String address;\r\n\r\n    @Column(name = &quot;property_type&quot;)\r\n    private String propertyType;\r\n\r\n    @Column(name = &quot;property_size&quot;)\r\n    private Integer propertySize;\r\n\r\n    @Column(name = &quot;contact_info&quot;)\r\n    private String contactInfo;\r\n\r\n    @Column(name = &quot;floor_plan&quot;)\r\n    private String floorPlan;\r\n\r\n    @Column(name = &quot;property_features&quot;)\r\n    private String propertyFeatures;\r\n\r\n    @Column(name = &quot;build_year&quot;)\r\n    private Integer buildYear;\r\n    \r\n    @Column(name = &quot;nearby_facilities&quot;)\r\n    private String nearbyFacilities;\r\n\r\n    public Long getPropertyDetailsId() {\r\n        return propertyDetailsId;\r\n    }\r\n\r\n    public void setPropertyDetailsId(Long propertyDetailsId) {\r\n        this.propertyDetailsId = propertyDetailsId;\r\n    }\r\n\r\n    public String getImages() {\r\n        return images;\r\n    }\r\n\r\n    public void setImages(String images) {\r\n        this.images = images;\r\n    }\r\n\r\n    public String getDescription() {\r\n        return description;\r\n    }\r\n\r\n    public void setDescription(String description) {\r\n        this.description = description;\r\n    }\r\n\r\n    public BigDecimal getPrice() {\r\n        return price;\r\n    }\r\n\r\n    public void setPrice(BigDecimal price) {\r\n        this.price = price;\r\n    }\r\n\r\n    public String getAddress() {\r\n        return address;\r\n    }\r\n\r\n    public void setAddress(String address) {\r\n        this.address = address;\r\n    }\r\n\r\n    public String getPropertyType() {\r\n        return propertyType;\r\n    }\r\n\r\n    public void setPropertyType(String propertyType) {\r\n        this.propertyType = propertyType;\r\n    }\r\n\r\n    public Integer getPropertySize() {\r\n        return propertySize;\r\n    }\r\n\r\n    public void setPropertySize(Integer propertySize) {\r\n        this.propertySize = propertySize;\r\n    }\r\n\r\n    public String getContactInfo() {\r\n        return contactInfo;\r\n    }\r\n\r\n    public void setContactInfo(String contactInfo) {\r\n        this.contactInfo = contactInfo;\r\n    }\r\n\r\n    public String getFloorPlan() {\r\n        return floorPlan;\r\n    }\r\n\r\n    public void setFloorPlan(String floorPlan) {\r\n        this.floorPlan = floorPlan;\r\n    }\r\n\r\n    public String getPropertyFeatures() {\r\n        return propertyFeatures;\r\n    }\r\n\r\n    public void setPropertyFeatures(String propertyFeatures) {\r\n        this.propertyFeatures = propertyFeatures;\r\n    }\r\n\r\n    public Integer getBuildYear() {\r\n        return buildYear;\r\n    }\r\n\r\n    public void setPropertyBuildDate(Integer buildYear) {\r\n        this.buildYear = buildYear;\r\n    }\r\n\r\n    public String getNearbyFacilities() {\r\n        return nearbyFacilities;\r\n    }\r\n\r\n    public void setNearbyFacilities(String nearbyFacilities) {\r\n        this.nearbyFacilities = nearbyFacilities;\r\n    }\r\n    \r\n    @Override\r\n    public String toString() {\r\n        return &quot;PropertyDetails [propertyDetailsId=&quot; + propertyDetailsId + &quot;, images=&quot; + images + &quot;, description=&quot; + description\r\n                + &quot;, price=&quot; + price + &quot;, address=&quot; + address + &quot;, propertyType=&quot; + propertyType + &quot;, propertySize=&quot; + propertySize\r\n                + &quot;, contactInfo=&quot; + contactInfo + &quot;, floorPlan=&quot; + floorPlan + &quot;, propertyFeatures=&quot; + propertyFeatures\r\n                + &quot;, buildYear=&quot; + buildYear + &quot;, nearbyFacilities=&quot; + nearbyFacilities + &quot;]&quot;;\r\n    }\r\n\r\n    \r\n}\r\n```\r\n```java\r\npackage com.hin.spatial.postgis.service;\r\n\r\nimport java.util.List;\r\n\r\nimport com.hin.spatial.postgis.model.PropertyDetails;\r\n\r\npublic interface PropertyDetailsService {\r\n    \r\n    PropertyDetails getPropertyDetailsById(Long propertyDetailsId);\r\n    List&lt;PropertyDetails&gt; getAllPropertyDetails();\r\n    PropertyDetails savePropertyDetails(PropertyDetails propertyDetails);\r\n    void deletePropertyDetails(Long propertyDetailsId);\r\n\r\n}\r\n```\r\n```java\r\npackage com.hin.spatial.postgis.service;\r\n\r\nimport java.util.List;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport com.hin.spatial.postgis.model.PropertyDetails;\r\nimport com.hin.spatial.postgis.repo.PropertyDetailsRepository;\r\n\r\n@Service\r\npublic class PropertyDetailsServiceImpl implements PropertyDetailsService {\r\n\r\n    @Autowired\r\n    private PropertyDetailsRepository propertyDetailsRepository;\r\n\r\n    @Override\r\n    public PropertyDetails getPropertyDetailsById(Long propertyDetailsId) {\r\n        return propertyDetailsRepository.findByPropertyDetailsId(propertyDetailsId);\r\n\r\n    }\r\n\r\n    @Override\r\n    public List&lt;PropertyDetails&gt; getAllPropertyDetails() {\r\n        return propertyDetailsRepository.findAll();\r\n    }\r\n\r\n    @Override\r\n    public PropertyDetails savePropertyDetails(PropertyDetails propertyDetails) {      \r\n        return propertyDetailsRepository.save(propertyDetails);\r\n    }\r\n\r\n    @Override\r\n    public void deletePropertyDetails(Long propertyDetailsId) {\r\n        \r\n        propertyDetailsRepository.deleteById(propertyDetailsId);\r\n    }\r\n}\r\n```\r\n```java\r\npackage com.hin.spatial.postgis.service;\r\n\r\nimport java.util.List;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport com.hin.spatial.postgis.model.Property;\r\nimport com.hin.spatial.postgis.repo.PropertyRepository;\r\n\r\nimport org.locationtech.jts.geom.Coordinate;\r\nimport org.locationtech.jts.geom.GeometryFactory;\r\nimport org.locationtech.jts.geom.Point;\r\nimport org.locationtech.jts.geom.PrecisionModel;\r\n\r\n\r\n@Service\r\n//@Slf4j\r\npublic class PropertyService {\r\n    @Autowired\r\n    private PropertyRepository repo;    \r\n    \r\n    private GeometryFactory factory = new GeometryFactory(new PrecisionModel(), 4326);\r\n    \r\n    public List&lt;Property&gt; findAround(double lat, double lon, double distanceKm){\r\n//      log.info(&quot;Looking for Properties around ({},{}) withing {} Km&quot;, lat, lon, distanceKm);\r\n        Point p = factory.createPoint(new Coordinate(lon, lat));        \r\n        List&lt;Property&gt; pros=repo.findNearWithinDistance(p, distanceKm * 1000);\r\n        System.out.println(pros);\r\n        return pros;\r\n        \r\n    }\r\n    public List&lt;Property&gt; getAllProperties() {\r\n        return repo.findAll();\r\n    }\r\n}\r\n```\r\n```java\r\n@Repository\r\npublic interface PropertyDetailsRepository extends JpaRepository&lt;PropertyDetails, Long&gt; {\r\n    PropertyDetails findByPropertyDetailsId(Long propertyDetailsId);\r\n}\r\n```\r\n```java       \r\n@Repository\r\npublic interface PropertyRepository  extends JpaRepository&lt;Property, Long&gt;{\r\n\r\n    @Query(value=&quot;SELECT * FROM properties WHERE ST_DistanceSphere(property_location,:p) &lt; :distanceM&quot;,nativeQuery = true)\r\n    List&lt;Property&gt; findNearWithinDistance(Point p, double distanceM);\r\n    \r\n}\r\n```\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\r\n\t&lt;groupId&gt;com.hin.spatial&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;postgis&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;postgis&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot integrated with PostGIS&lt;/description&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;maven.compiler.release&gt;17&lt;/maven.compiler.release&gt;\r\n\t\t&lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n\t\t&lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t\t&lt;jackson.jts.version&gt;2.14&lt;/jackson.jts.version&gt;\r\n\t\t&lt;jts.version&gt;1.19.0&lt;/jts.version&gt;\r\n\t\t&lt;hibernate.version&gt;6.1.3.Final&lt;/hibernate.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;com.graphhopper.external&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;jackson-datatype-jts&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;${jackson.jts.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.locationtech.jts&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jts-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${jts.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-spatial&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${hibernate.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.locationfinderapp&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;locationFinder&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;com.google.cloud.tools&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;jib-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.1.4&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;from&gt;\r\n\t\t\t\t\t\t&lt;image&gt;gcr.io/distroless/java:17&lt;/image&gt;\r\n\t\t\t\t\t&lt;/from&gt; &lt;!-- or &quot;:8&quot; --&gt;\r\n\t\t\t\t\t&lt;to&gt;\r\n\t\t\t\t\t\t&lt;image&gt;ghcr.io/nouhouari/spring-boot-postgis&lt;/image&gt;\r\n\t\t\t\t\t&lt;/to&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n\t&lt;repositories&gt;\r\n\t\t&lt;repository&gt;\r\n\t\t\t&lt;id&gt;spring-milestones&lt;/id&gt;\r\n\t\t\t&lt;name&gt;Spring Milestones&lt;/name&gt;\r\n\t\t\t&lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n\t\t\t&lt;snapshots&gt;\r\n\t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n\t\t\t&lt;/snapshots&gt;\r\n\t\t&lt;/repository&gt;\r\n\t\t&lt;repository&gt;\r\n\t\t\t&lt;id&gt;spring-snapshots&lt;/id&gt;\r\n\t\t\t&lt;name&gt;Spring Snapshots&lt;/name&gt;\r\n\t\t\t&lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\r\n\t\t\t&lt;releases&gt;\r\n\t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n\t\t\t&lt;/releases&gt;\r\n\t\t&lt;/repository&gt;\r\n\t&lt;/repositories&gt;\r\n\t&lt;pluginRepositories&gt;\r\n\t\t&lt;pluginRepository&gt;\r\n\t\t\t&lt;id&gt;spring-milestones&lt;/id&gt;\r\n\t\t\t&lt;name&gt;Spring Milestones&lt;/name&gt;\r\n\t\t\t&lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n\t\t\t&lt;snapshots&gt;\r\n\t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n\t\t\t&lt;/snapshots&gt;\r\n\t\t&lt;/pluginRepository&gt;\r\n\t\t&lt;pluginRepository&gt;\r\n\t\t\t&lt;id&gt;spring-snapshots&lt;/id&gt;\r\n\t\t\t&lt;name&gt;Spring Snapshots&lt;/name&gt;\r\n\t\t\t&lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\r\n\t\t\t&lt;releases&gt;\r\n\t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n\t\t\t&lt;/releases&gt;\r\n\t\t&lt;/pluginRepository&gt;\r\n\t&lt;/pluginRepositories&gt;\r\n\r\n&lt;/project&gt;\r\n```","title":"Data Deletion Issue in Spring Boot Project","body":"<p>I'm working on a school project using Spring Boot, and I'm facing an issue where data is being unexpectedly deleted from the properties and property_details tables in my PostgreSQL database. I have checked the code and configuration but couldn't find the root cause.</p>\n<p>Despite my best efforts, I'm unable to identify why the data is getting deleted. I have examined the application's log files, which show the SQL statements for table creation and alterations, but no explicit DELETE queries.</p>\n<p>The database connection is configured in the application.yml file with hibernate.ddl-auto: none. I have ensured that there are no DELETE, TRUNCATE, or other data deletion statements executed during application startup or shutdown. There are no explicit table creations or modifications in my code or scripts. The database logs do not show any DELETE or TRUNCATE statements executed.</p>\n<p>As I'm new to Spring Boot and database interactions, I'd appreciate any guidance or suggestions on how to investigate this issue further. Thank you in advance for any assistance and guidance you can provide. Below are the relevant code snippets</p>\n<pre><code>port: 8080\n  \nspring:\n  # Database configuration\n  datasource:\n    driverClassName: org.postgresql.Driver\n    url: jdbc:postgresql://${DB_HOST:localhost}:${DB_PORT:5432}/${DB_NAME:postgres}\n    username: ${DB_USER:postgres}\n    password: ${DB_PASSWORD:admin}\n  # JPA configuration  \n  jpa:\n    open-in-view: false\n    hibernate:\n      ddl-auto: none\n      # Avoid issue with JPA case insensitive\n      naming:\n        physical-strategy: org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\n    # This should no longer be needed with Hibernate 6\n    # database-platform: org.hibernate.spatial.dialect.postgis.PostgisPG10Dialect\n    database-platform: org.hibernate.dialect.PostgreSQLDialect\n\n    show-sql: true\n    database: postgresql\n    # PotGIS configuration\n    properties:\n        jdbc:\n          lob:\n            non_contextual_creation: true\nlogging:\n  level:\n    org.hibernate.SQL: DEBUG\n    org.hibernate.type.descriptor.sql.BasicBinder: TRACE\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequestMapping(&quot;property&quot;)\n@CrossOrigin(origins = &quot;http://localhost:4200&quot;)\npublic class PropertyController {\n    @Autowired\n    private PropertyService service;\n    \n    @Autowired\n    private PropertyDetailsService propertyDetailsService;\n\n    @GetMapping(&quot;{name}&quot;)\n    public String getProperties(@PathVariable String name) {\n        return &quot;Welcome to SpringBoot Project!!! &quot; + name;\n    }\n\n    @GetMapping(&quot;{lat}/{lon}/{distanceKm}&quot;)\n    public ResponseEntity&lt;?&gt; getCityNear(\n            @PathVariable double lat,\n            @PathVariable double lon,\n            @PathVariable double distanceKm) {\n        List&lt;Property&gt; properties = service.findAround(lat, lon, distanceKm);\n\n        if (properties.isEmpty()) {\n            // If no properties found, return a custom message with 404 status code\n            String message = &quot;Properties are not available in your area.&quot;;\n            return ResponseEntity.status(HttpStatus.NOT_FOUND).body(new CustomMessage(message));\n        } else {\n            // If properties found, return the properties in the response with 200 status code\n            return ResponseEntity.ok(properties);\n        }\n    }\n\n    @GetMapping(&quot;names&quot;)\n    public String getPropertyNames() {\n        List&lt;Property&gt; properties = service.getAllProperties();\n        StringBuilder sb = new StringBuilder();\n        for (Property property : properties) {\n            sb.append(&quot;City Name: &quot;).append(property.getCityName());\n            sb.append(&quot;, Price: &quot;).append(property.getPrice());\n            sb.append(&quot;, Property Name: &quot;).append(property.getPropertyName());\n            sb.append(&quot;, Property Type: &quot;).append(property.getPropertyType());\n            sb.append(&quot;, Area: &quot;).append(property.getArea()).append(&quot;\\n&quot;);\n        }\n        return sb.toString();\n    }\n    \n    @GetMapping(&quot;/{propertyId}/details&quot;)\n    public ResponseEntity&lt;?&gt; getPropertyDetails(@PathVariable Long propertyId) {\n        PropertyDetails propertyDetails = propertyDetailsService.getPropertyDetailsById(propertyId);\n\n        if (propertyDetails != null) {\n            // If property details found, return them in the response with 200 status code\n            return ResponseEntity.ok(propertyDetails);\n        } else {\n            // If property details not found, return a custom message with 404 status code\n            String message = &quot;Property details not found for property ID: &quot; + propertyId;\n            return ResponseEntity.status(HttpStatus.NOT_FOUND).body(new CustomMessage(message));\n        }\n    }\n\n    // Custom message class\n    private static class CustomMessage {\n        private String message;\n\n        public CustomMessage(String message) {\n            this.message = message;\n        }\n\n        public String getMessage() {\n            return message;\n        }\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@Entity(name = &quot;properties&quot;)\npublic class Property {\n\n    @Id\n    @Column(name=&quot;property_id&quot;)\n    private long id;\n    \n    @OneToOne(mappedBy = &quot;property&quot;, cascade = { CascadeType.PERSIST, CascadeType.MERGE }, fetch = FetchType.LAZY)\n    private PropertyDetails propertyDetails;\n \n    \n    @Column(name=&quot;city_name&quot;)\n    private String cityName;\n    \n    @Column(name=&quot;property_location&quot;, columnDefinition = &quot;geometry(Point,4326)&quot;)\n    private Point propertyLocation; \n    \n    @Column(name = &quot;price&quot;)\n    private double price;   \n\n    @Column(name = &quot;property_name&quot;)\n    private String propertyName;\n\n    @Column(name = &quot;property_type&quot;)\n    private String propertyType;\n\n    @Column(name = &quot;area&quot;)\n    private double area;\n    \n    public String getCityName() {\n        return cityName;\n    }\n    \n    public double getPrice() {\n        return price;\n    }\n\n    public void setPrice(double price) {\n        this.price = price;\n    }\n\n    public String getPropertyName() {\n        return propertyName;\n    }\n\n    public void setPropertyName(String propertyName) {\n        this.propertyName = propertyName;\n    }\n\n    public String getPropertyType() {\n        return propertyType;\n    }\n\n    public void setPropertyType(String propertyType) {\n        this.propertyType = propertyType;\n    }\n\n    public double getArea() {\n        return area;\n    }\n\n    public void setArea(double area) {\n        this.area = area;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Property [id=&quot; + id + &quot;, cityName=&quot; + cityName + &quot;, propertyLocation=&quot; + propertyLocation\n                + &quot;, price=&quot; + price + &quot;, propertyName=&quot; + propertyName + &quot;, propertyType=&quot; + propertyType\n                + &quot;, area=&quot; + area + &quot;]&quot;;\n    }\n\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;property_details&quot;)\npublic class PropertyDetails {\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;property_details_id&quot;)\n\n    private Long propertyDetailsId;\n    \n    @ManyToOne\n    @JoinColumn(name = &quot;property_id&quot;, referencedColumnName = &quot;property_id&quot;)\n    private Property property;\n\n    @Column(name = &quot;images&quot;)\n    private String images;\n\n    @Column(name = &quot;description&quot;)\n    private String description;\n\n    @Column(name = &quot;price&quot;)\n    private BigDecimal price;\n\n    @Column(name = &quot;address&quot;)\n    private String address;\n\n    @Column(name = &quot;property_type&quot;)\n    private String propertyType;\n\n    @Column(name = &quot;property_size&quot;)\n    private Integer propertySize;\n\n    @Column(name = &quot;contact_info&quot;)\n    private String contactInfo;\n\n    @Column(name = &quot;floor_plan&quot;)\n    private String floorPlan;\n\n    @Column(name = &quot;property_features&quot;)\n    private String propertyFeatures;\n\n    @Column(name = &quot;build_year&quot;)\n    private Integer buildYear;\n    \n    @Column(name = &quot;nearby_facilities&quot;)\n    private String nearbyFacilities;\n\n    public Long getPropertyDetailsId() {\n        return propertyDetailsId;\n    }\n\n    public void setPropertyDetailsId(Long propertyDetailsId) {\n        this.propertyDetailsId = propertyDetailsId;\n    }\n\n    public String getImages() {\n        return images;\n    }\n\n    public void setImages(String images) {\n        this.images = images;\n    }\n\n    public String getDescription() {\n        return description;\n    }\n\n    public void setDescription(String description) {\n        this.description = description;\n    }\n\n    public BigDecimal getPrice() {\n        return price;\n    }\n\n    public void setPrice(BigDecimal price) {\n        this.price = price;\n    }\n\n    public String getAddress() {\n        return address;\n    }\n\n    public void setAddress(String address) {\n        this.address = address;\n    }\n\n    public String getPropertyType() {\n        return propertyType;\n    }\n\n    public void setPropertyType(String propertyType) {\n        this.propertyType = propertyType;\n    }\n\n    public Integer getPropertySize() {\n        return propertySize;\n    }\n\n    public void setPropertySize(Integer propertySize) {\n        this.propertySize = propertySize;\n    }\n\n    public String getContactInfo() {\n        return contactInfo;\n    }\n\n    public void setContactInfo(String contactInfo) {\n        this.contactInfo = contactInfo;\n    }\n\n    public String getFloorPlan() {\n        return floorPlan;\n    }\n\n    public void setFloorPlan(String floorPlan) {\n        this.floorPlan = floorPlan;\n    }\n\n    public String getPropertyFeatures() {\n        return propertyFeatures;\n    }\n\n    public void setPropertyFeatures(String propertyFeatures) {\n        this.propertyFeatures = propertyFeatures;\n    }\n\n    public Integer getBuildYear() {\n        return buildYear;\n    }\n\n    public void setPropertyBuildDate(Integer buildYear) {\n        this.buildYear = buildYear;\n    }\n\n    public String getNearbyFacilities() {\n        return nearbyFacilities;\n    }\n\n    public void setNearbyFacilities(String nearbyFacilities) {\n        this.nearbyFacilities = nearbyFacilities;\n    }\n    \n    @Override\n    public String toString() {\n        return &quot;PropertyDetails [propertyDetailsId=&quot; + propertyDetailsId + &quot;, images=&quot; + images + &quot;, description=&quot; + description\n                + &quot;, price=&quot; + price + &quot;, address=&quot; + address + &quot;, propertyType=&quot; + propertyType + &quot;, propertySize=&quot; + propertySize\n                + &quot;, contactInfo=&quot; + contactInfo + &quot;, floorPlan=&quot; + floorPlan + &quot;, propertyFeatures=&quot; + propertyFeatures\n                + &quot;, buildYear=&quot; + buildYear + &quot;, nearbyFacilities=&quot; + nearbyFacilities + &quot;]&quot;;\n    }\n\n    \n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package com.hin.spatial.postgis.service;\n\nimport java.util.List;\n\nimport com.hin.spatial.postgis.model.PropertyDetails;\n\npublic interface PropertyDetailsService {\n    \n    PropertyDetails getPropertyDetailsById(Long propertyDetailsId);\n    List&lt;PropertyDetails&gt; getAllPropertyDetails();\n    PropertyDetails savePropertyDetails(PropertyDetails propertyDetails);\n    void deletePropertyDetails(Long propertyDetailsId);\n\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package com.hin.spatial.postgis.service;\n\nimport java.util.List;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\nimport com.hin.spatial.postgis.model.PropertyDetails;\nimport com.hin.spatial.postgis.repo.PropertyDetailsRepository;\n\n@Service\npublic class PropertyDetailsServiceImpl implements PropertyDetailsService {\n\n    @Autowired\n    private PropertyDetailsRepository propertyDetailsRepository;\n\n    @Override\n    public PropertyDetails getPropertyDetailsById(Long propertyDetailsId) {\n        return propertyDetailsRepository.findByPropertyDetailsId(propertyDetailsId);\n\n    }\n\n    @Override\n    public List&lt;PropertyDetails&gt; getAllPropertyDetails() {\n        return propertyDetailsRepository.findAll();\n    }\n\n    @Override\n    public PropertyDetails savePropertyDetails(PropertyDetails propertyDetails) {      \n        return propertyDetailsRepository.save(propertyDetails);\n    }\n\n    @Override\n    public void deletePropertyDetails(Long propertyDetailsId) {\n        \n        propertyDetailsRepository.deleteById(propertyDetailsId);\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package com.hin.spatial.postgis.service;\n\nimport java.util.List;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\nimport com.hin.spatial.postgis.model.Property;\nimport com.hin.spatial.postgis.repo.PropertyRepository;\n\nimport org.locationtech.jts.geom.Coordinate;\nimport org.locationtech.jts.geom.GeometryFactory;\nimport org.locationtech.jts.geom.Point;\nimport org.locationtech.jts.geom.PrecisionModel;\n\n\n@Service\n//@Slf4j\npublic class PropertyService {\n    @Autowired\n    private PropertyRepository repo;    \n    \n    private GeometryFactory factory = new GeometryFactory(new PrecisionModel(), 4326);\n    \n    public List&lt;Property&gt; findAround(double lat, double lon, double distanceKm){\n//      log.info(&quot;Looking for Properties around ({},{}) withing {} Km&quot;, lat, lon, distanceKm);\n        Point p = factory.createPoint(new Coordinate(lon, lat));        \n        List&lt;Property&gt; pros=repo.findNearWithinDistance(p, distanceKm * 1000);\n        System.out.println(pros);\n        return pros;\n        \n    }\n    public List&lt;Property&gt; getAllProperties() {\n        return repo.findAll();\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository\npublic interface PropertyDetailsRepository extends JpaRepository&lt;PropertyDetails, Long&gt; {\n    PropertyDetails findByPropertyDetailsId(Long propertyDetailsId);\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository\npublic interface PropertyRepository  extends JpaRepository&lt;Property, Long&gt;{\n\n    @Query(value=&quot;SELECT * FROM properties WHERE ST_DistanceSphere(property_location,:p) &lt; :distanceM&quot;,nativeQuery = true)\n    List&lt;Property&gt; findNearWithinDistance(Point p, double distanceM);\n    \n}\n</code></pre>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;groupId&gt;com.hin.spatial&lt;/groupId&gt;\n    &lt;artifactId&gt;postgis&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;postgis&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot integrated with PostGIS&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.release&gt;17&lt;/maven.compiler.release&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;jackson.jts.version&gt;2.14&lt;/jackson.jts.version&gt;\n        &lt;jts.version&gt;1.19.0&lt;/jts.version&gt;\n        &lt;hibernate.version&gt;6.1.3.Final&lt;/hibernate.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.graphhopper.external&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-datatype-jts&lt;/artifactId&gt;\n            &lt;version&gt;${jackson.jts.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.locationtech.jts&lt;/groupId&gt;\n            &lt;artifactId&gt;jts-core&lt;/artifactId&gt;\n            &lt;version&gt;${jts.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-spatial&lt;/artifactId&gt;\n            &lt;version&gt;${hibernate.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.locationfinderapp&lt;/groupId&gt;\n            &lt;artifactId&gt;locationFinder&lt;/artifactId&gt;\n            &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;com.google.cloud.tools&lt;/groupId&gt;\n                &lt;artifactId&gt;jib-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1.4&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;from&gt;\n                        &lt;image&gt;gcr.io/distroless/java:17&lt;/image&gt;\n                    &lt;/from&gt; &lt;!-- or &quot;:8&quot; --&gt;\n                    &lt;to&gt;\n                        &lt;image&gt;ghcr.io/nouhouari/spring-boot-postgis&lt;/image&gt;\n                    &lt;/to&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;spring-milestones&lt;/id&gt;\n            &lt;name&gt;Spring Milestones&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/repository&gt;\n        &lt;repository&gt;\n            &lt;id&gt;spring-snapshots&lt;/id&gt;\n            &lt;name&gt;Spring Snapshots&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\n            &lt;releases&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/releases&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n    &lt;pluginRepositories&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;spring-milestones&lt;/id&gt;\n            &lt;name&gt;Spring Milestones&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/pluginRepository&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;spring-snapshots&lt;/id&gt;\n            &lt;name&gt;Spring Snapshots&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\n            &lt;releases&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/releases&gt;\n        &lt;/pluginRepository&gt;\n    &lt;/pluginRepositories&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","jboss","jboss7.x"],"comments":[{"owner":{"account_id":1908365,"reputation":545,"user_id":1722779,"accept_rate":57,"display_name":"Karthik"},"score":0,"creation_date":1483525523,"post_id":41461091,"comment_id":70128327,"body_markdown":"http://www.mastertheboss.com/jboss-server/jboss-datasource/how-to-configure-a-datasource-with-jboss-7","body":"<a href=\"http://www.mastertheboss.com/jboss-server/jboss-datasource/how-to-configure-a-datasource-with-jboss-7\" rel=\"nofollow noreferrer\">mastertheboss.com/jboss-server/jboss-datasource/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":10122987,"reputation":541,"user_id":7479307,"display_name":"Sunil Sunny"},"score":0,"creation_date":1651591498,"post_id":41464032,"comment_id":127397006,"body_markdown":"The best solutions..thanks brother","body":"The best solutions..thanks brother"}],"tags":[],"owner":{"account_id":9934418,"reputation":874,"user_id":7353203,"display_name":"Anup Dey"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1691054120,"creation_date":1483533474,"answer_id":41464032,"question_id":41461091,"body_markdown":"Install a JDBC Driver as a Core Module\r\n--------------------------------------\r\n\r\n- Create a directory under $JBOSS_HOME/modules. In this example: &quot;$JBOSS_HOME/modules/com/oracle/jdbc/main&quot;.\r\n\r\n- Put the the JDBC driver jar (ojdbc6.jar) in this directory.\r\n\r\n- Create a module configuration file module.xml:\r\n\r\n\r\nExample Oracle JDBC Driver module.xml File\r\n--------------------------------------------\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; ?&gt;\r\n    &lt;module xmlns=&quot;urn:jboss:module:1.1&quot; name=&quot;com.oracle&quot;&gt;\r\n        &lt;resources&gt;\r\n            &lt;resource-root path=&quot;ojdbc6.jar&quot;/&gt;\r\n        &lt;/resources&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;module name=&quot;javax.api&quot;/&gt;\r\n            &lt;module name=&quot;javax.transaction.api&quot;/&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/module&gt;\r\n\r\n\r\n\r\n\r\nExample Oracle Datasource Configuration\r\n----------------------------------------\r\n\r\n\r\n    &lt;datasources&gt;\r\n      &lt;datasource jndi-name=&quot;java:jboss/OracleDS&quot; pool-name=&quot;OracleDS&quot;&gt;\r\n        &lt;connection-url&gt;jdbc:oracle:thin:@localhost:1521:XE&lt;/connection-url&gt;\r\n        &lt;driver&gt;oracle&lt;/driver&gt;\r\n        &lt;security&gt;\r\n            &lt;user-name&gt;admin&lt;/user-name&gt;\r\n            &lt;password&gt;admin&lt;/password&gt;\r\n        &lt;/security&gt;\r\n        &lt;validation&gt;\r\n            &lt;valid-connection-checker class-name=&quot;org.jboss.jca.adapters.jdbc.extensions.oracle.OracleValidConnectionChecker&quot;/&gt;\r\n            &lt;validate-on-match&gt;true&lt;/validate-on-match&gt;\r\n            &lt;background-validation&gt;false&lt;/background-validation&gt;\r\n            &lt;stale-connection-checker class-name=&quot;org.jboss.jca.adapters.jdbc.extensions.oracle.OracleStaleConnectionChecker&quot;/&gt;\r\n            &lt;exception-sorter class-name=&quot;org.jboss.jca.adapters.jdbc.extensions.oracle.OracleExceptionSorter&quot;/&gt;\r\n        &lt;/validation&gt;\r\n      &lt;/datasource&gt;\r\n      &lt;drivers&gt;\r\n        &lt;driver name=&quot;oracle&quot; module=&quot;com.oracle&quot;&gt;\r\n            &lt;xa-datasource-class&gt;oracle.jdbc.xa.client.OracleXADataSource&lt;/xa-datasource-class&gt;\r\n        &lt;/driver&gt;\r\n      &lt;/drivers&gt;\r\n    &lt;/datasources&gt;\r\n\r\n\r\n\r\n\r\nExample Management CLI Commands\r\n--------------------------------\r\n\r\n\r\nThis example configuration can be achieved by using the following management CLI commands.\r\n\r\n## 1. Add the Oracle JDBC driver as a core module.\r\n\r\n&gt; module add --name=com.oracle --resources=/path/to/misc/jdbc_drivers/oracle/ojdbc7.jar --dependencies=javax.api,javax.transaction.api\r\n\r\n## 2. Register the Oracle JDBC driver.\r\n\r\n&gt; /subsystem=datasources/jdbc-driver=oracle:add(driver-name=oracle,driver-module-name=com.oracle,driver-xa-datasource-class-name=oracle.jdbc.xa.client.OracleXADataSource)\r\n\r\n## 3. Add the Oracle datasource.\r\n\r\n&gt; data-source add --name=OracleDS --jndi-name=java:jboss/OracleDS --driver-name=oracle --connection-url=jdbc:oracle:thin:@localhost:1521:XE --user-name=admin --password=admin --validate-on-match=true --background-validation=false --valid-connection-checker-class-name=org.jboss.jca.adapters.jdbc.extensions.oracle.OracleValidConnectionChecker --exception-sorter-class-name=org.jboss.jca.adapters.jdbc.extensions.oracle.OracleExceptionSorter --stale-connection-checker-class-name=org.jboss.jca.adapters.jdbc.extensions.oracle.OracleStaleConnectionChecker\r\n\r\nRefer the link [https://access.redhat.com/documentation/en/red-hat-jboss-enterprise-application-platform/version-7.0/configuration-guide/#datasource_management][1]\r\n\r\n\r\n  [1]: https://access.redhat.com/documentation/en/red-hat-jboss-enterprise-application-platform/version-7.0/configuration-guide/#datasource_management\r\n\r\n\r\n\r\n\r\n\r\n","title":"Unable to create oracle data source in Jboss EAP 7.0 server","body":"<h2>Install a JDBC Driver as a Core Module</h2>\n<ul>\n<li><p>Create a directory under $JBOSS_HOME/modules. In this example: &quot;$JBOSS_HOME/modules/com/oracle/jdbc/main&quot;.</p>\n</li>\n<li><p>Put the the JDBC driver jar (ojdbc6.jar) in this directory.</p>\n</li>\n<li><p>Create a module configuration file module.xml:</p>\n</li>\n</ul>\n<h2>Example Oracle JDBC Driver module.xml File</h2>\n<pre><code>&lt;?xml version=&quot;1.0&quot; ?&gt;\n&lt;module xmlns=&quot;urn:jboss:module:1.1&quot; name=&quot;com.oracle&quot;&gt;\n    &lt;resources&gt;\n        &lt;resource-root path=&quot;ojdbc6.jar&quot;/&gt;\n    &lt;/resources&gt;\n    &lt;dependencies&gt;\n        &lt;module name=&quot;javax.api&quot;/&gt;\n        &lt;module name=&quot;javax.transaction.api&quot;/&gt;\n    &lt;/dependencies&gt;\n&lt;/module&gt;\n</code></pre>\n<h2>Example Oracle Datasource Configuration</h2>\n<pre><code>&lt;datasources&gt;\n  &lt;datasource jndi-name=&quot;java:jboss/OracleDS&quot; pool-name=&quot;OracleDS&quot;&gt;\n    &lt;connection-url&gt;jdbc:oracle:thin:@localhost:1521:XE&lt;/connection-url&gt;\n    &lt;driver&gt;oracle&lt;/driver&gt;\n    &lt;security&gt;\n        &lt;user-name&gt;admin&lt;/user-name&gt;\n        &lt;password&gt;admin&lt;/password&gt;\n    &lt;/security&gt;\n    &lt;validation&gt;\n        &lt;valid-connection-checker class-name=&quot;org.jboss.jca.adapters.jdbc.extensions.oracle.OracleValidConnectionChecker&quot;/&gt;\n        &lt;validate-on-match&gt;true&lt;/validate-on-match&gt;\n        &lt;background-validation&gt;false&lt;/background-validation&gt;\n        &lt;stale-connection-checker class-name=&quot;org.jboss.jca.adapters.jdbc.extensions.oracle.OracleStaleConnectionChecker&quot;/&gt;\n        &lt;exception-sorter class-name=&quot;org.jboss.jca.adapters.jdbc.extensions.oracle.OracleExceptionSorter&quot;/&gt;\n    &lt;/validation&gt;\n  &lt;/datasource&gt;\n  &lt;drivers&gt;\n    &lt;driver name=&quot;oracle&quot; module=&quot;com.oracle&quot;&gt;\n        &lt;xa-datasource-class&gt;oracle.jdbc.xa.client.OracleXADataSource&lt;/xa-datasource-class&gt;\n    &lt;/driver&gt;\n  &lt;/drivers&gt;\n&lt;/datasources&gt;\n</code></pre>\n<h2>Example Management CLI Commands</h2>\n<p>This example configuration can be achieved by using the following management CLI commands.</p>\n<h2>1. Add the Oracle JDBC driver as a core module.</h2>\n<blockquote>\n<p>module add --name=com.oracle --resources=/path/to/misc/jdbc_drivers/oracle/ojdbc7.jar --dependencies=javax.api,javax.transaction.api</p>\n</blockquote>\n<h2>2. Register the Oracle JDBC driver.</h2>\n<blockquote>\n<p>/subsystem=datasources/jdbc-driver=oracle:add(driver-name=oracle,driver-module-name=com.oracle,driver-xa-datasource-class-name=oracle.jdbc.xa.client.OracleXADataSource)</p>\n</blockquote>\n<h2>3. Add the Oracle datasource.</h2>\n<blockquote>\n<p>data-source add --name=OracleDS --jndi-name=java:jboss/OracleDS --driver-name=oracle --connection-url=jdbc:oracle:thin:@localhost:1521:XE --user-name=admin --password=admin --validate-on-match=true --background-validation=false --valid-connection-checker-class-name=org.jboss.jca.adapters.jdbc.extensions.oracle.OracleValidConnectionChecker --exception-sorter-class-name=org.jboss.jca.adapters.jdbc.extensions.oracle.OracleExceptionSorter --stale-connection-checker-class-name=org.jboss.jca.adapters.jdbc.extensions.oracle.OracleStaleConnectionChecker</p>\n</blockquote>\n<p>Refer the link <a href=\"https://access.redhat.com/documentation/en/red-hat-jboss-enterprise-application-platform/version-7.0/configuration-guide/#datasource_management\" rel=\"nofollow noreferrer\">https://access.redhat.com/documentation/en/red-hat-jboss-enterprise-application-platform/version-7.0/configuration-guide/#datasource_management</a></p>\n"}],"owner":{"account_id":5694679,"reputation":1322,"user_id":4501511,"accept_rate":47,"display_name":"Karthik"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9911,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":41464032,"answer_count":1,"score":5,"last_activity_date":1691054120,"creation_date":1483524316,"question_id":41461091,"body_markdown":"I need to create an oracle data source in JBOSS EAP 7.0 server\r\n\r\nI deployed **ojdbc6.jar** from the JBOSS management CLI(Command Line Interface) using the below command\r\n\r\n   \r\n\r\n    deploy &lt;PATH_TO_ORACLE_DRIVER_JAR&gt;\r\n\r\nI could see the server log as below after the driver is deployed\r\n\r\n    01:25:53,338 INFO  [org.jboss.as.connector.deployers.jdbc] (MSC service thread 1-1) WFLYJCA0018: Started Driver service with driver-name = ojdbc6.jar\r\n    01:25:53,747 INFO  [org.jboss.as.server] (management-handler-thread - 6) WFLYSRV0010: Deployed &quot;ojdbc6.jar&quot; (runtime-name : &quot;ojdbc6.jar&quot;)\r\n\r\nBut when I try to create oracle data source(oracle.jdbc.driver.OracleDriver as driver class) from Jboss management console, I get the below error\r\n\r\n    01:31:35,084 ERROR [org.jboss.as.controller.management-operation] (ServerService Thread Pool -- 66) WFLYCTL0013: Operation (&quot;add&quot;) failed - address: ([\r\n        (&quot;subsystem&quot; =&gt; &quot;datasources&quot;),\r\n        (&quot;data-source&quot; =&gt; &quot;OracleDS&quot;)\r\n    ]) - failure description: {&quot;WFLYCTL0180: Services with missing/unavailable dependencies&quot; =&gt; [\r\n        &quot;jboss.driver-demander.java:/OracleDS is missing [jboss.jdbc-driver.oracle]&quot;,\r\n        &quot;org.wildfly.data-source.OracleDS is missing [jboss.jdbc-driver.oracle]&quot;\r\n    ]}\r\n    01:31:35,092 INFO  [org.jboss.as.controller] (ServerService Thread Pool -- 66) WFLYCTL0183: Service status report\r\n    WFLYCTL0184:    New missing/unsatisfied dependencies:\r\n          service jboss.data-source.reference-factory.OracleDS (missing) dependents: [service jboss.naming.context.java.OracleDS]\r\n          service jboss.data-source-config.OracleDS (missing) dependents: [service org.wildfly.data-source.OracleDS]\r\n          service jboss.jdbc-driver.oracle (missing) dependents: [service jboss.driver-demander.java:/OracleDS, service org.wildfly.data-source.OracleDS]\r\n\r\n1) May I know what is causing this issue? What dependency is missing? &lt;br&gt;\r\n2) Is installing JDBC driver as a JAR deployment for data source creation correct method?\r\n\r\n","title":"Unable to create oracle data source in Jboss EAP 7.0 server","body":"<p>I need to create an oracle data source in JBOSS EAP 7.0 server</p>\n\n<p>I deployed <strong>ojdbc6.jar</strong> from the JBOSS management CLI(Command Line Interface) using the below command</p>\n\n<pre><code>deploy &lt;PATH_TO_ORACLE_DRIVER_JAR&gt;\n</code></pre>\n\n<p>I could see the server log as below after the driver is deployed</p>\n\n<pre><code>01:25:53,338 INFO  [org.jboss.as.connector.deployers.jdbc] (MSC service thread 1-1) WFLYJCA0018: Started Driver service with driver-name = ojdbc6.jar\n01:25:53,747 INFO  [org.jboss.as.server] (management-handler-thread - 6) WFLYSRV0010: Deployed \"ojdbc6.jar\" (runtime-name : \"ojdbc6.jar\")\n</code></pre>\n\n<p>But when I try to create oracle data source(oracle.jdbc.driver.OracleDriver as driver class) from Jboss management console, I get the below error</p>\n\n<pre><code>01:31:35,084 ERROR [org.jboss.as.controller.management-operation] (ServerService Thread Pool -- 66) WFLYCTL0013: Operation (\"add\") failed - address: ([\n    (\"subsystem\" =&gt; \"datasources\"),\n    (\"data-source\" =&gt; \"OracleDS\")\n]) - failure description: {\"WFLYCTL0180: Services with missing/unavailable dependencies\" =&gt; [\n    \"jboss.driver-demander.java:/OracleDS is missing [jboss.jdbc-driver.oracle]\",\n    \"org.wildfly.data-source.OracleDS is missing [jboss.jdbc-driver.oracle]\"\n]}\n01:31:35,092 INFO  [org.jboss.as.controller] (ServerService Thread Pool -- 66) WFLYCTL0183: Service status report\nWFLYCTL0184:    New missing/unsatisfied dependencies:\n      service jboss.data-source.reference-factory.OracleDS (missing) dependents: [service jboss.naming.context.java.OracleDS]\n      service jboss.data-source-config.OracleDS (missing) dependents: [service org.wildfly.data-source.OracleDS]\n      service jboss.jdbc-driver.oracle (missing) dependents: [service jboss.driver-demander.java:/OracleDS, service org.wildfly.data-source.OracleDS]\n</code></pre>\n\n<p>1) May I know what is causing this issue? What dependency is missing? <br>\n2) Is installing JDBC driver as a JAR deployment for data source creation correct method?</p>\n"},{"tags":["java","jna"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1691053426,"post_id":76826460,"comment_id":135440377,"body_markdown":"IIRC, the naive approach for matching names like this only works for C functions, and C++ applies some form of name-mangling. You may want to check what https://github.com/nativelibs4java/JNAerator generates (though it hasn&#39;t been maintained for a long time).","body":"IIRC, the naive approach for matching names like this only works for C functions, and C++ applies some form of name-mangling. You may want to check what <a href=\"https://github.com/nativelibs4java/JNAerator\" rel=\"nofollow noreferrer\">github.com/nativelibs4java/JNAerator</a> generates (though it hasn&#39;t been maintained for a long time)."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1691053527,"post_id":76826460,"comment_id":135440392,"body_markdown":"It may help if you add the source of TestJNA.cpp","body":"It may help if you add the source of TestJNA.cpp"},{"owner":{"account_id":26738302,"reputation":74,"user_id":20339497,"display_name":"HuaJFrame"},"score":0,"creation_date":1691054067,"post_id":76826460,"comment_id":135440518,"body_markdown":"@tgdavies Thanks for the reply, the code of TestJNA.cpp has been added to this entry.","body":"@tgdavies Thanks for the reply, the code of TestJNA.cpp has been added to this entry."},{"owner":{"account_id":26738302,"reputation":74,"user_id":20339497,"display_name":"HuaJFrame"},"score":0,"creation_date":1691054528,"post_id":76826460,"comment_id":135440614,"body_markdown":"Thanks, I will try it. @MarkRotteveel","body":"Thanks, I will try it. @MarkRotteveel"}],"owner":{"account_id":26738302,"reputation":74,"user_id":20339497,"display_name":"HuaJFrame"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1691056996,"answer_count":0,"score":1,"last_activity_date":1691053894,"creation_date":1691053220,"question_id":76826460,"body_markdown":"I&#39;m learning JNI and JNA, and I&#39;m facing the problem stated in the title while trying the examples of JNA\r\n\r\nThis is my pom and test code\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;net.java.dev.jna&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jna&lt;/artifactId&gt;\r\n    &lt;version&gt;5.13.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n```Java\r\npublic interface Clibrary extends Library {\r\n    Clibrary INSTANCE = Native.load( &quot;TestJNA&quot;, Clibrary.class);\r\n\r\n    int hello();\r\n    int basicTest(int a, float b, String pChar);\r\n    void arrayTest(String pStr,  byte[] puStr);\r\n\r\n    void pointerTest(IntByReference pInt, FloatByReference pFloat);\r\n\r\n    void mallocTest(Memory pString);\r\n\r\n    void doublePointTest(PointerByReference ppInt, PointerByReference ppStr);\r\n    void freePt(Pointer pt);\r\n}\r\n```\r\n\r\n```Java\r\npublic class Test {\r\n\r\n    public static void main(String[] args) {\r\n        System.setProperty(&quot;jna.library.path&quot;, &quot;E:\\\\javaProject\\\\xxxxxxxx\\\\jniLearn\\\\src\\\\main\\\\resources\\\\lib&quot;);\r\n        Clibrary.INSTANCE.hello();\r\n    }\r\n\r\n}\r\n```\r\n\r\n\\`TestJNA.dll\\` is written and compiled by myself.Here is the class structure, using Visual Studio 2019.The platform is x64\r\n\r\n[![enter image description here](https://i.stack.imgur.com/18jSC.png)](https://i.stack.imgur.com/18jSC.png)\r\n\r\nHere is the full stack exception.\r\n\r\n```Java\r\nException in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: Error looking up function &#39;hello&#39;: The specified program could not be found.\r\n\tat com.sun.jna.Function.&lt;init&gt;(Function.java:252)\r\n\tat com.sun.jna.NativeLibrary.getFunction(NativeLibrary.java:620)\r\n\tat com.sun.jna.NativeLibrary.getFunction(NativeLibrary.java:596)\r\n\tat com.sun.jna.NativeLibrary.getFunction(NativeLibrary.java:582)\r\n\tat com.sun.jna.Library$Handler.invoke(Library.java:248)\r\n\tat com.sun.proxy.$Proxy0.hello(Unknown Source)\r\n\tat org.szh.jna.Test.main(Test.java:15)\r\n```\r\n\r\nI tried to use the absolute path\r\n\r\n```Java\r\n\r\nClibrary INSTANCE = Native.load(&quot;E:\\\\javaProject\\\\xxxxxxxx\\\\jniLearn\\\\src\\\\main\\\\resources\\\\libTestJNA&quot;,Library.class);\r\n```\r\n\r\nbut the same problem still occurs.\r\n\r\n-------\r\nthis is TestJNA.cpp code.\r\n```cpp\r\n#include &quot;pch.h&quot;\r\n#include &quot;TestJNA.h&quot;\r\n#include&lt;stdio.h&gt;\r\n#include&lt;string.h&gt;\r\n#include&lt;stdlib.h&gt;\r\n\r\n/**\r\n    No parameter test\r\n*/\r\nint hello()\r\n{\r\n    printf(&quot;Hello world\\n&quot;);\r\n    return 0;\r\n}\r\n\r\n/*\r\n    Basic data type test\r\n*/\r\nint basicTest(int a, float b)\r\n{\r\n    printf(&quot;a=%d\\n&quot;, a);\r\n    printf(&quot;b=%f\\n&quot;, b);\r\n    return (int)(a + b);\r\n}\r\n\r\n/*\r\n    Pointer and array tests\r\n*/\r\nvoid arrayTest(char* pStr, unsigned char* puStr)\r\n{\r\n    int i = 0;\r\n    printf(&quot;%s\\n&quot;, pStr);\r\n    for (i = 0; i &lt; 10; i++) {\r\n        printf(&quot;%c &quot;, puStr[i]);\r\n    }\r\n}\r\n\r\n/*\r\n    Basic data type pointer test\r\n*/\r\nvoid pointerTest(int* pInt, float* pFloat)\r\n{\r\n    *pInt = 10;\r\n    *pFloat = 12.34;\r\n}\r\n\r\n/*\r\n    Dynamic memory test\r\n*/\r\nvoid mallocTest(char* pszStr)\r\n{\r\n    strcpy_s(pszStr, 50, &quot;Happay Children&#39;s Day!&quot;);\r\n}\r\n\r\n/*\r\n    secondary pointer\r\n*/\r\nvoid doublePointTest(int** ppInt, char** ppStr)\r\n{\r\n    printf(&quot;before int:%d\\n&quot;, **ppInt);\r\n    **ppInt = 10086;\r\n\r\n    *ppStr = (char*)malloc(10 * sizeof(char));\r\n    strcpy_s(*ppStr, 50, &quot;Happy  National Day!&quot;);\r\n}\r\n\r\n/*\r\n    freed\r\n*/\r\nvoid freePoint(void* pt) {\r\n    if (pt != NULL) {\r\n        free(pt);\r\n    }\r\n}\r\n\r\nint main()\r\n{\r\n    hello();\r\n    system(&quot;pause&quot;);\r\n    return 0;\r\n}\r\n```","title":"JNA Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: Error looking up function","body":"<p>I'm learning JNI and JNA, and I'm facing the problem stated in the title while trying the examples of JNA</p>\n<p>This is my pom and test code</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;net.java.dev.jna&lt;/groupId&gt;\n    &lt;artifactId&gt;jna&lt;/artifactId&gt;\n    &lt;version&gt;5.13.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<pre><code>public interface Clibrary extends Library {\n    Clibrary INSTANCE = Native.load( &quot;TestJNA&quot;, Clibrary.class);\n\n    int hello();\n    int basicTest(int a, float b, String pChar);\n    void arrayTest(String pStr,  byte[] puStr);\n\n    void pointerTest(IntByReference pInt, FloatByReference pFloat);\n\n    void mallocTest(Memory pString);\n\n    void doublePointTest(PointerByReference ppInt, PointerByReference ppStr);\n    void freePt(Pointer pt);\n}\n</code></pre>\n<pre><code>public class Test {\n\n    public static void main(String[] args) {\n        System.setProperty(&quot;jna.library.path&quot;, &quot;E:\\\\javaProject\\\\xxxxxxxx\\\\jniLearn\\\\src\\\\main\\\\resources\\\\lib&quot;);\n        Clibrary.INSTANCE.hello();\n    }\n\n}\n</code></pre>\n<p>`TestJNA.dll` is written and compiled by myself.Here is the class structure, using Visual Studio 2019.The platform is x64</p>\n<p><a href=\"https://i.stack.imgur.com/18jSC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/18jSC.png\" alt=\"enter image description here\" /></a></p>\n<p>Here is the full stack exception.</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: Error looking up function 'hello': The specified program could not be found.\n    at com.sun.jna.Function.&lt;init&gt;(Function.java:252)\n    at com.sun.jna.NativeLibrary.getFunction(NativeLibrary.java:620)\n    at com.sun.jna.NativeLibrary.getFunction(NativeLibrary.java:596)\n    at com.sun.jna.NativeLibrary.getFunction(NativeLibrary.java:582)\n    at com.sun.jna.Library$Handler.invoke(Library.java:248)\n    at com.sun.proxy.$Proxy0.hello(Unknown Source)\n    at org.szh.jna.Test.main(Test.java:15)\n</code></pre>\n<p>I tried to use the absolute path</p>\n<pre><code>\nClibrary INSTANCE = Native.load(&quot;E:\\\\javaProject\\\\xxxxxxxx\\\\jniLearn\\\\src\\\\main\\\\resources\\\\libTestJNA&quot;,Library.class);\n</code></pre>\n<p>but the same problem still occurs.</p>\n<hr />\n<p>this is TestJNA.cpp code.</p>\n<pre class=\"lang-cpp prettyprint-override\"><code>#include &quot;pch.h&quot;\n#include &quot;TestJNA.h&quot;\n#include&lt;stdio.h&gt;\n#include&lt;string.h&gt;\n#include&lt;stdlib.h&gt;\n\n/**\n    No parameter test\n*/\nint hello()\n{\n    printf(&quot;Hello world\\n&quot;);\n    return 0;\n}\n\n/*\n    Basic data type test\n*/\nint basicTest(int a, float b)\n{\n    printf(&quot;a=%d\\n&quot;, a);\n    printf(&quot;b=%f\\n&quot;, b);\n    return (int)(a + b);\n}\n\n/*\n    Pointer and array tests\n*/\nvoid arrayTest(char* pStr, unsigned char* puStr)\n{\n    int i = 0;\n    printf(&quot;%s\\n&quot;, pStr);\n    for (i = 0; i &lt; 10; i++) {\n        printf(&quot;%c &quot;, puStr[i]);\n    }\n}\n\n/*\n    Basic data type pointer test\n*/\nvoid pointerTest(int* pInt, float* pFloat)\n{\n    *pInt = 10;\n    *pFloat = 12.34;\n}\n\n/*\n    Dynamic memory test\n*/\nvoid mallocTest(char* pszStr)\n{\n    strcpy_s(pszStr, 50, &quot;Happay Children's Day!&quot;);\n}\n\n/*\n    secondary pointer\n*/\nvoid doublePointTest(int** ppInt, char** ppStr)\n{\n    printf(&quot;before int:%d\\n&quot;, **ppInt);\n    **ppInt = 10086;\n\n    *ppStr = (char*)malloc(10 * sizeof(char));\n    strcpy_s(*ppStr, 50, &quot;Happy  National Day!&quot;);\n}\n\n/*\n    freed\n*/\nvoid freePoint(void* pt) {\n    if (pt != NULL) {\n        free(pt);\n    }\n}\n\nint main()\n{\n    hello();\n    system(&quot;pause&quot;);\n    return 0;\n}\n</code></pre>\n"},{"tags":["java","ms-word","apache-poi"],"comments":[{"owner":{"account_id":10728512,"reputation":41,"user_id":7895303,"display_name":"Giri Sh"},"score":0,"creation_date":1521112952,"post_id":49298135,"comment_id":85598014,"body_markdown":"thank u in advance. please help me","body":"thank u in advance. please help me"}],"answers":[{"comments":[{"owner":{"account_id":10728512,"reputation":41,"user_id":7895303,"display_name":"Giri Sh"},"score":0,"creation_date":1521193850,"post_id":49310109,"comment_id":85636343,"body_markdown":"thanks for the reply. I really new to this plugin. can u help how to insert a table &amp; column in a header?","body":"thanks for the reply. I really new to this plugin. can u help how to insert a table &amp; column in a header?"}],"tags":[],"owner":{"account_id":12611225,"reputation":12798,"user_id":9170274,"display_name":"macropod"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691053446,"creation_date":1521152077,"answer_id":49310109,"question_id":49298135,"body_markdown":"Unlike Excel, Word doesn&#39;t have left, centre and right headers - Word has a header. If you want three separate entries on a single line, you can format a paragraph with the appropriate alignment (e.g. centred/justified) and tab-stops (possibly 3 centred, or one each of left, centre and right), then insert tab characters into the text you&#39;re inserting. Alternatively, for multi-line inputs especially, you could insert a 3-column table with the appropriate cell formatting and send the outputs to the relevant cells.\r\n\r\nIn VBA, you might add a table to the page header using code like:\r\n\r\n    With ActiveDocument\r\n      .Tables.Add Range:=.Sections.First.Headers(wdHeaderFooterPrimary).Range, NumRows:=1, NumColumns:=3, AutoFitBehavior:=wdAutoFitFixed\r\n    End With\r\n\r\nI&#39;ll leave it to you to do the Apache conversion.","title":"insert header(left, center &amp; right) in ms word using apache poi 3.11","body":"<p>Unlike Excel, Word doesn't have left, centre and right headers - Word has a header. If you want three separate entries on a single line, you can format a paragraph with the appropriate alignment (e.g. centred/justified) and tab-stops (possibly 3 centred, or one each of left, centre and right), then insert tab characters into the text you're inserting. Alternatively, for multi-line inputs especially, you could insert a 3-column table with the appropriate cell formatting and send the outputs to the relevant cells.</p>\n<p>In VBA, you might add a table to the page header using code like:</p>\n<pre><code>With ActiveDocument\n  .Tables.Add Range:=.Sections.First.Headers(wdHeaderFooterPrimary).Range, NumRows:=1, NumColumns:=3, AutoFitBehavior:=wdAutoFitFixed\nEnd With\n</code></pre>\n<p>I'll leave it to you to do the Apache conversion.</p>\n"},{"tags":[],"owner":{"account_id":13390203,"reputation":51,"user_id":9662758,"display_name":"yogesh vaidya"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1541398819,"creation_date":1541398819,"answer_id":53149280,"question_id":49298135,"body_markdown":"XWPFHeader header=policy.getDefaultHeader();\r\n\t\tCTP ctpHeader = CTP.Factory.newInstance();\r\n\r\n\t\tCTR ctrHeader = ctpHeader.addNewR();\r\n\t\tCTText ctheader = ctrHeader.addNewT();\r\n\t\r\n\t\tString HeaderText = &quot;TSS Word Documentsss&quot;;\r\n\t\t//ctheader.set(HeaderText);\r\n\r\n\t\tXWPFParagraph headerParagraph = new XWPFParagraph(ctpHeader, document);\r\n\t\tXWPFRun headerRun= headerParagraph.createRun();\r\n\t\theaderRun.setBold(true);\r\n\t\theaderRun.setFontSize(39);\r\n\t\theaderRun.setColor(&quot;808000&quot;);\r\n\t\theaderRun.setImprinted(true);\r\n\t\theaderRun.setShadow(true);\r\n\t\theaderRun.setCapitalized(true);\r\n\t\theaderRun.setUnderline(UnderlinePatterns.DOT_DOT_DASH);\r\n\t\theaderRun.setText(HeaderText);\r\n\t\theaderParagraph.setAlignment(ParagraphAlignment.CENTER);\r\n\t\theaderParagraph.setBorderBottom(Borders.BASIC_BLACK_DASHES);\r\n\t\t\r\n\t\tXWPFParagraph[] parsHeader = new XWPFParagraph[1];\r\n\t\t\r\n\t\t\r\n\t\tparsHeader[0] = headerParagraph;\r\n\t\tpolicy.createHeader(XWPFHeaderFooterPolicy.DEFAULT, parsHeader);","title":"insert header(left, center &amp; right) in ms word using apache poi 3.11","body":"<p>XWPFHeader header=policy.getDefaultHeader();\n        CTP ctpHeader = CTP.Factory.newInstance();</p>\n\n<pre><code>    CTR ctrHeader = ctpHeader.addNewR();\n    CTText ctheader = ctrHeader.addNewT();\n\n    String HeaderText = \"TSS Word Documentsss\";\n    //ctheader.set(HeaderText);\n\n    XWPFParagraph headerParagraph = new XWPFParagraph(ctpHeader, document);\n    XWPFRun headerRun= headerParagraph.createRun();\n    headerRun.setBold(true);\n    headerRun.setFontSize(39);\n    headerRun.setColor(\"808000\");\n    headerRun.setImprinted(true);\n    headerRun.setShadow(true);\n    headerRun.setCapitalized(true);\n    headerRun.setUnderline(UnderlinePatterns.DOT_DOT_DASH);\n    headerRun.setText(HeaderText);\n    headerParagraph.setAlignment(ParagraphAlignment.CENTER);\n    headerParagraph.setBorderBottom(Borders.BASIC_BLACK_DASHES);\n\n    XWPFParagraph[] parsHeader = new XWPFParagraph[1];\n\n\n    parsHeader[0] = headerParagraph;\n    policy.createHeader(XWPFHeaderFooterPolicy.DEFAULT, parsHeader);\n</code></pre>\n"}],"owner":{"account_id":10728512,"reputation":41,"user_id":7895303,"display_name":"Giri Sh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1598,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1691053446,"creation_date":1521112887,"question_id":49298135,"body_markdown":"I need to insert header like the screenshot below in word document using apache poi\r\n\r\n[![enter image description here][1]][1]\r\nI have a code to insert the header. But it aligned to left like the screenshot below:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/apiKM.png\r\n  [2]: https://i.stack.imgur.com/CzMDx.png\r\n\r\nI used below code to insert header:\r\n\r\n\r\n\t\t\t// write header content\r\n\t\t\tXWPFDocument docx = new XWPFDocument();\r\n\t\t\tCTSectPr sectPr = docx.getDocument().getBody().addNewSectPr();\r\n            XWPFHeaderFooterPolicy policy = new XWPFHeaderFooterPolicy(docx,sectPr);\r\n\t\t\tCTP ctpHeader = CTP.Factory.newInstance();\r\n\t\t\tCTR ctrHeader = ctpHeader.addNewR();\r\n\t\t\tCTText ctHeader = ctrHeader.addNewT();\r\n\t\t\tString headerText = &quot;This is header&quot;;\r\n\t\t\tctHeader.setStringValue(headerText);\r\n\t\t\tXWPFParagraph headerParagraph = new XWPFParagraph(ctpHeader, docx);\r\n\t\t\tXWPFParagraph[] parsHeader = new XWPFParagraph[1];\r\n\t\t\tparsHeader[0] = headerParagraph;\r\n\t\t\tpolicy.createHeader(XWPFHeaderFooterPolicy.DEFAULT, parsHeader);\r\n\r\n\t\t\tFileOutputStream out = new FileOutputStream(&quot;D:/giri.docx&quot;);\r\n\t\t\tdocx.write(out);\r\n\t\t\tout.close();\r\n\t\t\tSystem.out.println(&quot;Done&quot;);","title":"insert header(left, center &amp; right) in ms word using apache poi 3.11","body":"<p>I need to insert header like the screenshot below in word document using apache poi</p>\n\n<p><a href=\"https://i.stack.imgur.com/apiKM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/apiKM.png\" alt=\"enter image description here\"></a>\nI have a code to insert the header. But it aligned to left like the screenshot below:</p>\n\n<p><a href=\"https://i.stack.imgur.com/CzMDx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CzMDx.png\" alt=\"enter image description here\"></a></p>\n\n<p>I used below code to insert header:</p>\n\n<pre><code>        // write header content\n        XWPFDocument docx = new XWPFDocument();\n        CTSectPr sectPr = docx.getDocument().getBody().addNewSectPr();\n        XWPFHeaderFooterPolicy policy = new XWPFHeaderFooterPolicy(docx,sectPr);\n        CTP ctpHeader = CTP.Factory.newInstance();\n        CTR ctrHeader = ctpHeader.addNewR();\n        CTText ctHeader = ctrHeader.addNewT();\n        String headerText = \"This is header\";\n        ctHeader.setStringValue(headerText);\n        XWPFParagraph headerParagraph = new XWPFParagraph(ctpHeader, docx);\n        XWPFParagraph[] parsHeader = new XWPFParagraph[1];\n        parsHeader[0] = headerParagraph;\n        policy.createHeader(XWPFHeaderFooterPolicy.DEFAULT, parsHeader);\n\n        FileOutputStream out = new FileOutputStream(\"D:/giri.docx\");\n        docx.write(out);\n        out.close();\n        System.out.println(\"Done\");\n</code></pre>\n"},{"tags":["java","spring","database","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":5300710,"reputation":269,"user_id":4230445,"display_name":"rahulP"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1691052611,"creation_date":1691052611,"answer_id":76826377,"question_id":76809448,"body_markdown":"I am not sure if this is the best solution but you can do something like this. You can first check if you need to delete data from one table or both.\r\n\r\n    SELECT t1.note_bhp_setup_id, COUNT(t1.note_bhp_setup_id) FROM notebhpsetup_notedefinition t1 \r\n    INNER JOIN notebhpsetup_notedefinition t2\r\n    ON t1.note_bhp_setup_id = t2.note_bhp_setup_id AND  t1.node_definition_id = ?\r\n    GROUP BY t1.note_bhp_setup_id\r\n\r\nif `COUNT(t1.note_bhp_setup_id) &gt; 1` for any of the returned row, you need to delete only from the **notebhpsetup_notedefinition** table. &lt;br/&gt;\r\nelse delete all (`t1.note_bhp_setup_id`) rows from **notebhpsetup_notedefinition** and **note_bhp_setup_id** tables.\r\n\r\n\r\n","title":"Conditionally delete from 2 tables using Hibernate","body":"<p>I am not sure if this is the best solution but you can do something like this. You can first check if you need to delete data from one table or both.</p>\n<pre><code>SELECT t1.note_bhp_setup_id, COUNT(t1.note_bhp_setup_id) FROM notebhpsetup_notedefinition t1 \nINNER JOIN notebhpsetup_notedefinition t2\nON t1.note_bhp_setup_id = t2.note_bhp_setup_id AND  t1.node_definition_id = ?\nGROUP BY t1.note_bhp_setup_id\n</code></pre>\n<p>if <code>COUNT(t1.note_bhp_setup_id) &gt; 1</code> for any of the returned row, you need to delete only from the <strong>notebhpsetup_notedefinition</strong> table. <br/>\nelse delete all (<code>t1.note_bhp_setup_id</code>) rows from <strong>notebhpsetup_notedefinition</strong> and <strong>note_bhp_setup_id</strong> tables.</p>\n"}],"owner":{"account_id":17168363,"reputation":334,"user_id":12426044,"display_name":"Akash Sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76826377,"answer_count":1,"score":0,"last_activity_date":1691052611,"creation_date":1690875485,"question_id":76809448,"body_markdown":"I have 2 tables:\r\n**NoteBhpSetup** \r\nColumns: *note_bhp_setup_id*, *node_id*, *created_by*\r\n(note_bhp_setup_id is FK to below table)\r\n\r\n**NoteBhpSetup_NoteDefinition**\r\nColumns: *note_bhp_setup_id*, *node_definition_id*\r\n\r\nI need to implement below logic:\r\n\r\n - For a given *node_definition_id*, delete all entries from **NoteBhpSetup_NoteDefinition**.\r\n - **IF**, for the deleted records, **NoteBhpSetup** has no associated rows left in **NoteBhpSetup_NoteDefinition**, then delete those rows from **NoteBhpSetup**\r\n\r\n\r\nHere is the logic I have implemented:\r\n\r\n    @Override\r\n    public void removeBhpSetupForNote(String noteDefinitionId) {\r\n\r\n        Query select = getEntityManager().createNativeQuery(\r\n                &quot;SELECT note_bhp_setup_id FROM NoteBhpSetup_NoteDefinition WHERE note_definition_id = :noteDefinitionId&quot;);\r\n        select.setParameter(&quot;noteDefinitionId&quot;, noteDefinitionId);\r\n        List&lt;Long&gt; noteBhpSetupIds =  select.getResultList();\r\n\r\n\r\n        SQLQuery delete= NativeQueryUtil.getSQLQueryWithTableName(\r\n                &quot;DELETE FROM NoteBhpSetup_NoteDefinition WHERE note_definition_id = :noteDefinitionId&quot;,\r\n                getEntityManager(),&quot;NoteBhpSetup_NoteDefinition&quot;);\r\n        delete.setParameter(&quot;noteDefinitionId&quot;, noteDefinitionId);\r\n        delete.executeUpdate();\r\n        this.flush();\r\n\r\n        deleteNoteBhpSetupWithNoNoteDefinitions(noteBhpSetupIds);\r\n    }\r\n\r\n    private void deleteNoteBhpSetupWithNoNoteDefinitions(List&lt;Long&gt; noteBhpSetupIds) {\r\n        SQLQuery delete = NativeQueryUtil.getSQLQueryWithTableName(\r\n                &quot;DELETE noteBhp FROM NoteBhpSetup noteBhp WHERE noteBhp.note_bhp_setup_id IN (:noteBhpSetupIds) AND (SELECT COUNT(ndef.note_bhp_setup_id) &quot; +\r\n                        &quot;            FROM   NoteBhpSetup_NoteDefinition ndef &quot; +\r\n                        &quot;            WHERE  noteBhp.note_bhp_setup_id = ndef.note_bhp_setup_id) = 0&quot;,\r\n                getEntityManager(),&quot;NoteBhpSetup&quot;);\r\n        delete.setParameter(&quot;noteBhpSetupIds&quot;, noteBhpSetupIds);\r\n        delete.executeUpdate();\r\n        this.flush();\r\n    }\r\n\r\n\r\nand below is how my Entity looks like :\r\n\r\n    @Entity\r\n    @DynamicInsert\r\n    @DynamicUpdate\r\n    @AttributeOverride(name = AbstractGeneratedNumericIdEntity.ID_NAME, column = @Column(name = NoteBhpSetup.NOTE_BHP_SETUP_ID))\r\n    @Cache(region = CacheRegion.Names.TRU_CARE_ENTITY_CACHE_REGION, usage = CacheConcurrencyStrategy.NONSTRICT_READ_WRITE)\r\n    public class NoteBhpSetup extends AbstractGeneratedNumericIdEntity {\r\n    \r\n        private static final long serialVersionUID = 1L;\r\n    \r\n        public static final String BHP_NODE = &quot;bhpNode&quot;;\r\n        public static final String NOTE_BHP_SETUP_ID = &quot;note_bhp_setup_id&quot;;\r\n        public static final String IS_SYSTEM_COLUMN_NAME = &quot;is_system&quot;;\r\n        public static final String NOTE_BHP_SETUP_NOTE_DEFINITION = &quot;NoteBhpSetup_NoteDefinition&quot;;\r\n    \r\n        @Column(name = IS_SYSTEM_COLUMN_NAME, nullable = false)\r\n        private boolean isSystem = false;\r\n    \r\n        @OneToOne\r\n        @JoinColumn(name = BhpNode.BHP_NODE_ID_COLUMN, nullable = false, updatable = false, unique = true)\r\n        private BhpNode bhpNode;\r\n    \r\n        @ManyToMany(fetch = FetchType.EAGER)\r\n        @JoinTable( name = NOTE_BHP_SETUP_NOTE_DEFINITION,\r\n                joinColumns = @JoinColumn( name = NoteBhpSetup.NOTE_BHP_SETUP_ID, nullable = false ),\r\n                inverseJoinColumns = @JoinColumn( name = NoteDefinition.NOTEDEF_ID_COLUMN, nullable = false )\r\n        )\r\n        private Set&lt;NoteDefinition&gt; noteDefinitions = new HashSet&lt;&gt;();\r\n    \r\n        protected NoteBhpSetup() {}\r\n    \r\n        public NoteBhpSetup(final BhpNode bhpNode) {\r\n            this.bhpNode = bhpNode;\r\n        }\r\n    \r\n        public boolean getIsSystem() {\r\n            return isSystem;\r\n        }\r\n    \r\n        public void setIsSystem(final boolean isSystem) {\r\n            this.isSystem = isSystem;\r\n        }\r\n    \r\n        public BhpNode getBhpNode() {\r\n            return bhpNode;\r\n        }\r\n    \r\n        public void setBhpNode(final BhpNode bhpNode) {\r\n            this.bhpNode = bhpNode;\r\n        }\r\n    \r\n        public Set&lt;NoteDefinition&gt; getNoteDefinitions() {\r\n            return noteDefinitions;\r\n        }\r\n    \r\n        public void setNoteDefinitions(Set&lt;NoteDefinition&gt; noteDefinitions) {\r\n            this.noteDefinitions = noteDefinitions;\r\n        }\r\n    \r\n    \r\n        /**\r\n         * Use bhpNode and note definitions to generate hashCode\r\n         */\r\n        @Override\r\n        public int hashCode() {\r\n            return Objects.hashCode(getIdLazy(bhpNode), noteDefinitions);\r\n        }\r\n    \r\n        @Override\r\n        @SuppressWarnings(value = &quot;BC_EQUALS_METHOD_SHOULD_WORK_FOR_ALL_OBJECTS&quot;, justification = &quot;if obj is not an instance of AbstractGeneratedNumericIDEntity the Hibernate.getClass(this) if statement is true and this method returns false&quot;)\r\n        public boolean equals(final Object obj) {\r\n            // Check the state of the object\r\n            boolean isEqual;\r\n            if (this == obj) {\r\n                // The object reference is the same\r\n                isEqual = true;\r\n            } else if ((obj == null) || !Hibernate.getClass(this).equals(Hibernate.getClass(obj))) {\r\n                // The object does not have the concrete class as its base\r\n                isEqual = false;\r\n            } else {\r\n                NoteBhpSetup other = (NoteBhpSetup) obj;\r\n                isEqual =  getIdLazy(bhpNode).equals(getIdLazy(other.getBhpNode())) &amp;&amp; noteDefinitions.equals(other.getNoteDefinitions());\r\n            }\r\n    \r\n            // Return the equality status\r\n            return isEqual;\r\n        }\r\n    }\r\n\r\n\r\nI feel like this is not the best way to do it, as I am hitting the database 3 times. Please can someone point me to a better way of implementing this logic.","title":"Conditionally delete from 2 tables using Hibernate","body":"<p>I have 2 tables:\n<strong>NoteBhpSetup</strong>\nColumns: <em>note_bhp_setup_id</em>, <em>node_id</em>, <em>created_by</em>\n(note_bhp_setup_id is FK to below table)</p>\n<p><strong>NoteBhpSetup_NoteDefinition</strong>\nColumns: <em>note_bhp_setup_id</em>, <em>node_definition_id</em></p>\n<p>I need to implement below logic:</p>\n<ul>\n<li>For a given <em>node_definition_id</em>, delete all entries from <strong>NoteBhpSetup_NoteDefinition</strong>.</li>\n<li><strong>IF</strong>, for the deleted records, <strong>NoteBhpSetup</strong> has no associated rows left in <strong>NoteBhpSetup_NoteDefinition</strong>, then delete those rows from <strong>NoteBhpSetup</strong></li>\n</ul>\n<p>Here is the logic I have implemented:</p>\n<pre><code>@Override\npublic void removeBhpSetupForNote(String noteDefinitionId) {\n\n    Query select = getEntityManager().createNativeQuery(\n            &quot;SELECT note_bhp_setup_id FROM NoteBhpSetup_NoteDefinition WHERE note_definition_id = :noteDefinitionId&quot;);\n    select.setParameter(&quot;noteDefinitionId&quot;, noteDefinitionId);\n    List&lt;Long&gt; noteBhpSetupIds =  select.getResultList();\n\n\n    SQLQuery delete= NativeQueryUtil.getSQLQueryWithTableName(\n            &quot;DELETE FROM NoteBhpSetup_NoteDefinition WHERE note_definition_id = :noteDefinitionId&quot;,\n            getEntityManager(),&quot;NoteBhpSetup_NoteDefinition&quot;);\n    delete.setParameter(&quot;noteDefinitionId&quot;, noteDefinitionId);\n    delete.executeUpdate();\n    this.flush();\n\n    deleteNoteBhpSetupWithNoNoteDefinitions(noteBhpSetupIds);\n}\n\nprivate void deleteNoteBhpSetupWithNoNoteDefinitions(List&lt;Long&gt; noteBhpSetupIds) {\n    SQLQuery delete = NativeQueryUtil.getSQLQueryWithTableName(\n            &quot;DELETE noteBhp FROM NoteBhpSetup noteBhp WHERE noteBhp.note_bhp_setup_id IN (:noteBhpSetupIds) AND (SELECT COUNT(ndef.note_bhp_setup_id) &quot; +\n                    &quot;            FROM   NoteBhpSetup_NoteDefinition ndef &quot; +\n                    &quot;            WHERE  noteBhp.note_bhp_setup_id = ndef.note_bhp_setup_id) = 0&quot;,\n            getEntityManager(),&quot;NoteBhpSetup&quot;);\n    delete.setParameter(&quot;noteBhpSetupIds&quot;, noteBhpSetupIds);\n    delete.executeUpdate();\n    this.flush();\n}\n</code></pre>\n<p>and below is how my Entity looks like :</p>\n<pre><code>@Entity\n@DynamicInsert\n@DynamicUpdate\n@AttributeOverride(name = AbstractGeneratedNumericIdEntity.ID_NAME, column = @Column(name = NoteBhpSetup.NOTE_BHP_SETUP_ID))\n@Cache(region = CacheRegion.Names.TRU_CARE_ENTITY_CACHE_REGION, usage = CacheConcurrencyStrategy.NONSTRICT_READ_WRITE)\npublic class NoteBhpSetup extends AbstractGeneratedNumericIdEntity {\n\n    private static final long serialVersionUID = 1L;\n\n    public static final String BHP_NODE = &quot;bhpNode&quot;;\n    public static final String NOTE_BHP_SETUP_ID = &quot;note_bhp_setup_id&quot;;\n    public static final String IS_SYSTEM_COLUMN_NAME = &quot;is_system&quot;;\n    public static final String NOTE_BHP_SETUP_NOTE_DEFINITION = &quot;NoteBhpSetup_NoteDefinition&quot;;\n\n    @Column(name = IS_SYSTEM_COLUMN_NAME, nullable = false)\n    private boolean isSystem = false;\n\n    @OneToOne\n    @JoinColumn(name = BhpNode.BHP_NODE_ID_COLUMN, nullable = false, updatable = false, unique = true)\n    private BhpNode bhpNode;\n\n    @ManyToMany(fetch = FetchType.EAGER)\n    @JoinTable( name = NOTE_BHP_SETUP_NOTE_DEFINITION,\n            joinColumns = @JoinColumn( name = NoteBhpSetup.NOTE_BHP_SETUP_ID, nullable = false ),\n            inverseJoinColumns = @JoinColumn( name = NoteDefinition.NOTEDEF_ID_COLUMN, nullable = false )\n    )\n    private Set&lt;NoteDefinition&gt; noteDefinitions = new HashSet&lt;&gt;();\n\n    protected NoteBhpSetup() {}\n\n    public NoteBhpSetup(final BhpNode bhpNode) {\n        this.bhpNode = bhpNode;\n    }\n\n    public boolean getIsSystem() {\n        return isSystem;\n    }\n\n    public void setIsSystem(final boolean isSystem) {\n        this.isSystem = isSystem;\n    }\n\n    public BhpNode getBhpNode() {\n        return bhpNode;\n    }\n\n    public void setBhpNode(final BhpNode bhpNode) {\n        this.bhpNode = bhpNode;\n    }\n\n    public Set&lt;NoteDefinition&gt; getNoteDefinitions() {\n        return noteDefinitions;\n    }\n\n    public void setNoteDefinitions(Set&lt;NoteDefinition&gt; noteDefinitions) {\n        this.noteDefinitions = noteDefinitions;\n    }\n\n\n    /**\n     * Use bhpNode and note definitions to generate hashCode\n     */\n    @Override\n    public int hashCode() {\n        return Objects.hashCode(getIdLazy(bhpNode), noteDefinitions);\n    }\n\n    @Override\n    @SuppressWarnings(value = &quot;BC_EQUALS_METHOD_SHOULD_WORK_FOR_ALL_OBJECTS&quot;, justification = &quot;if obj is not an instance of AbstractGeneratedNumericIDEntity the Hibernate.getClass(this) if statement is true and this method returns false&quot;)\n    public boolean equals(final Object obj) {\n        // Check the state of the object\n        boolean isEqual;\n        if (this == obj) {\n            // The object reference is the same\n            isEqual = true;\n        } else if ((obj == null) || !Hibernate.getClass(this).equals(Hibernate.getClass(obj))) {\n            // The object does not have the concrete class as its base\n            isEqual = false;\n        } else {\n            NoteBhpSetup other = (NoteBhpSetup) obj;\n            isEqual =  getIdLazy(bhpNode).equals(getIdLazy(other.getBhpNode())) &amp;&amp; noteDefinitions.equals(other.getNoteDefinitions());\n        }\n\n        // Return the equality status\n        return isEqual;\n    }\n}\n</code></pre>\n<p>I feel like this is not the best way to do it, as I am hitting the database 3 times. Please can someone point me to a better way of implementing this logic.</p>\n"},{"tags":["java","stream","scheduler","optaplanner","rostering"],"comments":[{"owner":{"account_id":9133364,"reputation":4450,"user_id":6794063,"display_name":"Luk&#225;š Petrovick&#253;"},"score":1,"creation_date":1691056520,"post_id":76826376,"comment_id":135441082,"body_markdown":"Please provide a specific executable test case and I may look into it when time permits.","body":"Please provide a specific executable test case and I may look into it when time permits."}],"owner":{"account_id":29150504,"reputation":1,"user_id":22331460,"display_name":"jjune"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691052607,"creation_date":1691052607,"question_id":76826376,"body_markdown":"I&#39;m making an aircraft mechanic scheduling program using Opta Planner. So far, we have added many hard, soft, and medium constraints, but one does not work. \r\n\r\nThe constraints are the same as the code below.\r\n\r\n\r\n&lt;br/&gt;\r\n\r\n```\r\nprivate Constraint workPerMonth(ConstraintFactory constraintFactory) {\r\n        return constraintFactory.forEach(MechanicAssignment.class)\r\n        .groupBy(MechanicAssignment::getEmployee\r\n        , MechanicAssignment::getWorkDate\r\n        ,ConstraintCollectors.min(MechanicAssignment::getFlightWorkStartDateTime)\r\n        ,ConstraintCollectors.max(MechanicAssignment::getFlightWorkEndDateTime))\r\n        .groupBy((employee, work , min, max ) -&gt; employee\r\n        ,(employee, work, min, max ) -&gt; work\r\n        ,(employee,work, min,max ) -&gt; workCodeCheckUtil.getWorkHour(workCodeCheckUtil.matchWorkCode(min, max)))\r\n        .join(OffWork.class, Joiners.equal((employee, work, totalWorkMinute) -&gt; employee.getEmpNo(), OffWork::getEmpNo))\r\n        .filter((emp, work, totalWorkMinute, off) -&gt; !off.getWorkCode().equals(&quot;WVC&quot;))\r\n        .groupBy((emp, work, totalWorkMinute, off) -&gt; emp\r\n        ,(emp, work, totalWorkMinute, off) -&gt; Pair.of(work, totalWorkMinute)\r\n        ,ConstraintCollectors.countQuad() \r\n        ,ConstraintCollectors.sum((emp, work, totalWorkMinute, off) -&gt; (work.getIndexDay() == off.getTargetDate().getDayOfMonth()\r\n        &amp;&amp; work.getIndexMonth() == off.getTargetDate().getMonthValue()) ? 0 : 1   \r\n        ))\r\n        .groupBy((employee, work, offCount, notOff) -&gt; Tripe.of(employee, work.getKey().getIndexMonth(), offCount)\r\n        , ConstraintCollectors.sum((employee, work, offCount, notOff) -&gt; notOff == offCount ? 1 : 0) \r\n        , ConstraintCollectors.sumLong(\r\n            (employee, work, offCount, notOff) -&gt; work.getValue()/60)\r\n        // , ConstraintCollectors.countQuad()\r\n        , ConstraintCollectors.countQuad()\r\n        )\r\n\r\n        .filter((employee, offCount, totalWorkMinute, assignCount) -&gt; {\r\n\r\n            LocalDate localDate = LocalDate.now().withMonth(employee.getSecond());\r\n            YearMonth yearMonth = YearMonth.from(localDate);\r\n\r\n            LocalDate lastDate = yearMonth.atEndOfMonth();\r\n\r\n            int leftDay = lastDate.getDayOfMonth() - assignCount;\r\n\r\n            int realOff = employee.getThird() - offCount;\r\n\r\n            if ( realOff*8 + (totalWorkMinute + ((leftDay - 9 - realOff) * 4)) &gt; 171)\r\n            {\r\n                return true;\r\n            }\r\n\r\n            return false;\r\n\r\n        })\r\n\r\n        .penalize(HardMediumSoftLongScore.ofHard(2))\r\n        .asConstraint(&quot;cannot work more than 171 hours per month&quot;);\r\n    }\r\n```\r\n&lt;br/&gt;\r\n\r\n**Explanation of Constraint**\r\n&gt; `realoff` : actual off count&lt;br/&gt;`totalWorkMinute` : Actual working hours&lt;br/&gt;`leftday` : The number of days in a month minus the actual number of days worked&lt;br/&gt;&lt;br/&gt;  realOff*8 + (totalWorkMinute + ((leftDay - 9 - realOff) * 4)) &lt;br/&gt;&lt;br/&gt; When calculating this experession at last filtering function It should not exceed 171hours.\r\n\r\n&lt;br/&gt;\r\n\r\n**Result**\r\n&gt; Testing confirmed that there were datas that were exceeded 171 hours, but I confirmed that  constraints were not violated. What am I doing wrong?\r\n\r\nSince the group by function has more than 4 keys, I tupled it through the Pair and Tripe user interface.","title":"Optaplanner ConstraintStream doesn&#39;t work","body":"<p>I'm making an aircraft mechanic scheduling program using Opta Planner. So far, we have added many hard, soft, and medium constraints, but one does not work.</p>\n<p>The constraints are the same as the code below.</p>\n<br/>\n<pre><code>private Constraint workPerMonth(ConstraintFactory constraintFactory) {\n        return constraintFactory.forEach(MechanicAssignment.class)\n        .groupBy(MechanicAssignment::getEmployee\n        , MechanicAssignment::getWorkDate\n        ,ConstraintCollectors.min(MechanicAssignment::getFlightWorkStartDateTime)\n        ,ConstraintCollectors.max(MechanicAssignment::getFlightWorkEndDateTime))\n        .groupBy((employee, work , min, max ) -&gt; employee\n        ,(employee, work, min, max ) -&gt; work\n        ,(employee,work, min,max ) -&gt; workCodeCheckUtil.getWorkHour(workCodeCheckUtil.matchWorkCode(min, max)))\n        .join(OffWork.class, Joiners.equal((employee, work, totalWorkMinute) -&gt; employee.getEmpNo(), OffWork::getEmpNo))\n        .filter((emp, work, totalWorkMinute, off) -&gt; !off.getWorkCode().equals(&quot;WVC&quot;))\n        .groupBy((emp, work, totalWorkMinute, off) -&gt; emp\n        ,(emp, work, totalWorkMinute, off) -&gt; Pair.of(work, totalWorkMinute)\n        ,ConstraintCollectors.countQuad() \n        ,ConstraintCollectors.sum((emp, work, totalWorkMinute, off) -&gt; (work.getIndexDay() == off.getTargetDate().getDayOfMonth()\n        &amp;&amp; work.getIndexMonth() == off.getTargetDate().getMonthValue()) ? 0 : 1   \n        ))\n        .groupBy((employee, work, offCount, notOff) -&gt; Tripe.of(employee, work.getKey().getIndexMonth(), offCount)\n        , ConstraintCollectors.sum((employee, work, offCount, notOff) -&gt; notOff == offCount ? 1 : 0) \n        , ConstraintCollectors.sumLong(\n            (employee, work, offCount, notOff) -&gt; work.getValue()/60)\n        // , ConstraintCollectors.countQuad()\n        , ConstraintCollectors.countQuad()\n        )\n\n        .filter((employee, offCount, totalWorkMinute, assignCount) -&gt; {\n\n            LocalDate localDate = LocalDate.now().withMonth(employee.getSecond());\n            YearMonth yearMonth = YearMonth.from(localDate);\n\n            LocalDate lastDate = yearMonth.atEndOfMonth();\n\n            int leftDay = lastDate.getDayOfMonth() - assignCount;\n\n            int realOff = employee.getThird() - offCount;\n\n            if ( realOff*8 + (totalWorkMinute + ((leftDay - 9 - realOff) * 4)) &gt; 171)\n            {\n                return true;\n            }\n\n            return false;\n\n        })\n\n        .penalize(HardMediumSoftLongScore.ofHard(2))\n        .asConstraint(&quot;cannot work more than 171 hours per month&quot;);\n    }\n</code></pre>\n<br/>\n<p><strong>Explanation of Constraint</strong></p>\n<blockquote>\n<p><code>realoff</code> : actual off count<br/><code>totalWorkMinute</code> : Actual working hours<br/><code>leftday</code> : The number of days in a month minus the actual number of days worked<br/><br/>  realOff*8 + (totalWorkMinute + ((leftDay - 9 - realOff) * 4)) <br/><br/> When calculating this experession at last filtering function It should not exceed 171hours.</p>\n</blockquote>\n<br/>\n<p><strong>Result</strong></p>\n<blockquote>\n<p>Testing confirmed that there were datas that were exceeded 171 hours, but I confirmed that  constraints were not violated. What am I doing wrong?</p>\n</blockquote>\n<p>Since the group by function has more than 4 keys, I tupled it through the Pair and Tripe user interface.</p>\n"},{"tags":["java","javafx","responsive-design","fxml"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":3,"creation_date":1690905090,"post_id":76813277,"comment_id":135416742,"body_markdown":"[Java FX layout panes](https://docs.oracle.com/javafx/2/layout/builtin_layouts.htm) are by default responsive. If your application is not resizing the way you want, it is because you are explicitly coding it not to.","body":"<a href=\"https://docs.oracle.com/javafx/2/layout/builtin_layouts.htm\" rel=\"nofollow noreferrer\">Java FX layout panes</a> are by default responsive. If your application is not resizing the way you want, it is because you are explicitly coding it not to."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1690905323,"post_id":76813277,"comment_id":135416789,"body_markdown":"[*Interview: Auto-responsive Layout in JavaFX (with Jakob Jenkov)*](https://m.youtube.com/watch?v=2BEinC7sJL4)","body":"<a href=\"https://m.youtube.com/watch?v=2BEinC7sJL4\" rel=\"nofollow noreferrer\"><i>Interview: Auto-responsive Layout in JavaFX (with Jakob Jenkov)</i></a>"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1690905578,"post_id":76813277,"comment_id":135416826,"body_markdown":"I’m sorry to see your clear and valid Question suffered unjustified down-votes. This happens all too often nowadays. Stack Overflow has lost its way, sadly.","body":"I’m sorry to see your clear and valid Question suffered unjustified down-votes. This happens all too often nowadays. Stack Overflow has lost its way, sadly."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1690905838,"post_id":76813277,"comment_id":135416882,"body_markdown":"@BasilBourque I disagree. If the OP&#39;s application is not acting in a responsive manner, it&#39;s because the code is explicitly written so that the UI is not responsive. Without seeing the code that is doing that, I see no way the question can be answered. Thus the question needs more details. If you think the question is answerable, why not answer it?","body":"@BasilBourque I disagree. If the OP&#39;s application is not acting in a responsive manner, it&#39;s because the code is explicitly written so that the UI is not responsive. Without seeing the code that is doing that, I see no way the question can be answered. Thus the question needs more details. If you think the question is answerable, why not answer it?"},{"owner":{"account_id":24655164,"reputation":104,"user_id":18551908,"display_name":"AdnanArch"},"score":0,"creation_date":1690906086,"post_id":76813277,"comment_id":135416932,"body_markdown":"@james_D i said i want to know how can i implement responsive UI. If you think you can answer this question so i am providing you a FXML code that i generated from Scene Builder by using Layouts.","body":"@james_D i said i want to know how can i implement responsive UI. If you think you can answer this question so i am providing you a FXML code that i generated from Scene Builder by using Layouts."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1690906440,"post_id":76813277,"comment_id":135416998,"body_markdown":"As I said, use the appropriate layout panes. Which ones to use and how to configure them depend on specifically how you want the application to respond. See the link above. I can&#39;t provide an answer because the question you posted is too vague and lacks details.","body":"As I said, use the appropriate layout panes. Which ones to use and how to configure them depend on specifically how you want the application to respond. See the link above. I can&#39;t provide an answer because the question you posted is too vague and lacks details."},{"owner":{"account_id":24655164,"reputation":104,"user_id":18551908,"display_name":"AdnanArch"},"score":0,"creation_date":1690906672,"post_id":76813277,"comment_id":135417039,"body_markdown":"@james\n\nhttps://drive.google.com/file/d/1-OktC1-IZm0WJD7eKiwwJbv_7pKQ0mfn/view?usp=sharing","body":"@james  <a href=\"https://drive.google.com/file/d/1-OktC1-IZm0WJD7eKiwwJbv_7pKQ0mfn/view?usp=sharing\" rel=\"nofollow noreferrer\">drive.google.com/file/d/1-OktC1-IZm0WJD7eKiwwJbv_7pKQ0mfn/&hellip;</a>"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":3,"creation_date":1690906730,"post_id":76813277,"comment_id":135417047,"body_markdown":"Don&#39;t post links to code. Post the code in the question itself.","body":"Don&#39;t post links to code. Post the code in the question itself."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1690907150,"post_id":76813277,"comment_id":135417123,"body_markdown":"You are using layout panes that are specifically *not* responsive (`StackPane` and `AnchorPane`s) and hard coding the size and position of everything (by setting `layoutX`, `layoutY`, `prefWidth` and `prefHeight` to fixed values). So of course it is not responsive. Get rid of all the hard-coded values and replace the panes with ones that respond the way you want (which you haven&#39;t specified).","body":"You are using layout panes that are specifically <i>not</i> responsive (<code>StackPane</code> and <code>AnchorPane</code>s) and hard coding the size and position of everything (by setting <code>layoutX</code>, <code>layoutY</code>, <code>prefWidth</code> and <code>prefHeight</code> to fixed values). So of course it is not responsive. Get rid of all the hard-coded values and replace the panes with ones that respond the way you want (which you haven&#39;t specified)."},{"owner":{"account_id":24655164,"reputation":104,"user_id":18551908,"display_name":"AdnanArch"},"score":0,"creation_date":1690907564,"post_id":76813277,"comment_id":135417200,"body_markdown":"i got your point but if do not set the width and sizes of a component it looks so small on screen and ugly. how can i prevent that","body":"i got your point but if do not set the width and sizes of a component it looks so small on screen and ugly. how can i prevent that"},{"owner":{"account_id":24655164,"reputation":104,"user_id":18551908,"display_name":"AdnanArch"},"score":0,"creation_date":1690907589,"post_id":76813277,"comment_id":135417207,"body_markdown":"@james_D I am just new to javafx don&#39;t know much about it.","body":"@james_D I am just new to javafx don&#39;t know much about it."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":2,"creation_date":1690909505,"post_id":76813277,"comment_id":135417597,"body_markdown":"Here are some starting ideas. I would recommend learning how the `Parent` nodes work. https://stackoverflow.com/questions/46453780/javafx-how-i-can-bind-a-stage-with-screen-resolution/46455368#46455368","body":"Here are some starting ideas. I would recommend learning how the <code>Parent</code> nodes work. <a href=\"https://stackoverflow.com/questions/46453780/javafx-how-i-can-bind-a-stage-with-screen-resolution/46455368#46455368\" title=\"javafx how i can bind a stage with screen resolution\">stackoverflow.com/questions/46453780/&hellip;</a>"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":3,"creation_date":1690909931,"post_id":76813277,"comment_id":135417680,"body_markdown":"*&quot;if do not set the width and sizes of a component it looks so small on screen and ugly&quot;*. This now sounds like an x-y problem. It sounds like you started with a sizing/spacing/something else issue and made the UI non-responsive in an attempt to solve that problem. And now you&#39;re asking how to make it responsive. Start with a responsive UI (it looks like maybe you want two `VBox` inside an `HBox`?) and then if you can&#39;t make it look the way you want, ask *that* question.","body":"<i>&quot;if do not set the width and sizes of a component it looks so small on screen and ugly&quot;</i>. This now sounds like an x-y problem. It sounds like you started with a sizing/spacing/something else issue and made the UI non-responsive in an attempt to solve that problem. And now you&#39;re asking how to make it responsive. Start with a responsive UI (it looks like maybe you want two <code>VBox</code> inside an <code>HBox</code>?) and then if you can&#39;t make it look the way you want, ask <i>that</i> question."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":2,"creation_date":1690910162,"post_id":76813277,"comment_id":135417734,"body_markdown":"While trying to _focus_ your very broad question, this  [tutorial](https://docs.oracle.com/javase/8/javafx/layout-tutorial/index.html) and this [`LayoutDemo`](https://github.com/openjdk/jfx/tree/master/apps/toys/LayoutDemo) are convenient ways to explore.","body":"While trying to <i>focus</i> your very broad question, this  <a href=\"https://docs.oracle.com/javase/8/javafx/layout-tutorial/index.html\" rel=\"nofollow noreferrer\">tutorial</a> and this <a href=\"https://github.com/openjdk/jfx/tree/master/apps/toys/LayoutDemo\" rel=\"nofollow noreferrer\"><code>LayoutDemo</code></a> are convenient ways to explore."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":3,"creation_date":1690933699,"post_id":76813277,"comment_id":135421233,"body_markdown":"Offtopic, but I don&#39;t think that FontAwesomeFX is a very well-maintained project (the last update to the project was around five years ago).  You may wish to use [Ikonli instead](https://kordamp.org/ikonli/#_javafx).","body":"Offtopic, but I don&#39;t think that FontAwesomeFX is a very well-maintained project (the last update to the project was around five years ago).  You may wish to use <a href=\"https://kordamp.org/ikonli/#_javafx\" rel=\"nofollow noreferrer\">Ikonli instead</a>."}],"answers":[{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1690933263,"creation_date":1690912492,"answer_id":76814148,"question_id":76813277,"body_markdown":"To manage layouts, you need to be familiar with JavaFX&#39;s built-in layout panes. \r\n\r\n * Oracle provide a [tutorial](https://docs.oracle.com/javase/8/javafx/layout-tutorial/builtin_layouts.htm), which is quite old, so the code style is out of date, but the underlying technology has not changed. \r\n\r\n * [FXDocs from the OpenJFX documentation project][1] also provide a layout tutorial.\r\n\r\n * It&#39;s also worth reading the [API documentation for the layout package](https://openjfx.io/javadoc/20/javafx.graphics/javafx/scene/layout/package-summary.html) to see how the overall system works, and the API docs for each of the `Pane` subclasses. \r\n\r\nThere really is no shortcut to just experimenting with these layout panes and becoming familiar with how each of them manages layout and what properties they have.\r\n\r\nIf you want the layout to be *responsive* (i.e. for components to move and resize according to how much space is available) you need to:\r\n\r\n1. Avoid hardcoding positions and sizes. This means you must not set `layoutX`, `layoutY`, `prefWidth`, `prefHeight` etc. Sometimes it *may* be helpful to set min/max sizes, but this can constrain the ability of the layout pane to respond to changes in available space.\r\n2. Use layout panes that perform responsive layout. This means you generally should *not* use `StackPane` or `AnchorPane` except for very small, specific parts of the UI. By contrast, `BorderPane`, `HBox`, `VBox`, `GridPane`, `TilePane`, `FlowPane`, etc. provide the most responsiveness. Focus on *logical* layout rather than specific positioning.\r\n3. Decide *how* you want the layout to respond. If there is extra space, how should it be used? If space is limited, what should shrink? This will determine which layout panes you decide to use.\r\n\r\nHere is an approximation to the layout you defined using responsive panes. I also added `-fx-padding: 10;` to the `left-form` and `right-form` style classes in the CSS. \r\n\r\nI could not get the FontAwesome parts to work, so I commented those out and made guesses as to how they should be. (In the version I found, `FontAwesomeIcon` is not a `Node` subclass. Not sure what is going on there.)\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;?import de.jensd.fx.glyphs.fontawesome.FontAwesomeIcon?&gt;\r\n    \r\n    &lt;?import javafx.geometry.Insets?&gt;\r\n    &lt;?import javafx.scene.control.*?&gt;\r\n    &lt;?import javafx.scene.layout.*?&gt;\r\n    &lt;?import javafx.scene.text.Font?&gt;\r\n    &lt;BorderPane stylesheets=&quot;@loginDesign.css&quot; xmlns=&quot;http://javafx.com/javafx/20.0.1&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot;&gt;\r\n        &lt;left&gt;\r\n            &lt;VBox alignment=&quot;CENTER&quot; styleClass=&quot;left-form&quot;&gt;\r\n                &lt;!--\r\n                &lt;FontAwesomeIcon fill=&quot;WHITE&quot; glyphName=&quot;STETHOSCOPE&quot; size=&quot;12em&quot; tabSize=&quot;0&quot; /&gt;\r\n                --&gt;\r\n                &lt;Label text=&quot;Pesticide Management System&quot; textFill=&quot;WHITE&quot;&gt;\r\n                    &lt;font&gt;\r\n                        &lt;Font name=&quot;Berlin Sans FB&quot; size=&quot;18.0&quot; /&gt;\r\n                    &lt;/font&gt;\r\n                &lt;/Label&gt;\r\n            &lt;/VBox&gt;\r\n        &lt;/left&gt;\r\n        &lt;center&gt;\r\n            &lt;BorderPane styleClass=&quot;right-form&quot;&gt;\r\n                &lt;top&gt;\r\n                    &lt;HBox alignment=&quot;TOP_RIGHT&quot;&gt;\r\n                        &lt;padding&gt;&lt;Insets topRightBottomLeft=&quot;10&quot;/&gt;&lt;/padding&gt;\r\n                        &lt;Button mnemonicParsing=&quot;false&quot; styleClass=&quot;close&quot; text=&quot;X&quot;&gt;\r\n                            &lt;!--\r\n                            &lt;graphic&gt;\r\n                                &lt;FontAwesomeIcon glyphName=&quot;CLOSE&quot; size=&quot;15&quot; /&gt;\r\n                            &lt;/graphic&gt;\r\n                            --&gt;\r\n                        &lt;/Button&gt;\r\n                    &lt;/HBox&gt;\r\n    \r\n                &lt;/top&gt;\r\n                &lt;center&gt;\r\n                    &lt;VBox alignment=&quot;CENTER&quot; spacing=&quot;20&quot; fillWidth=&quot;true&quot;&gt;\r\n                        &lt;Label text=&quot;Welcome, Admin!&quot; textFill=&quot;#374151&quot;&gt;\r\n                            &lt;font&gt;\r\n                                &lt;Font name=&quot;Berlin Sans FB&quot; size=&quot;25.0&quot; /&gt;\r\n                            &lt;/font&gt;\r\n                        &lt;/Label&gt;\r\n                        &lt;TextField promptText=&quot;Username&quot; styleClass=&quot;text-field&quot; maxWidth=&quot;Infinity&quot;/&gt;\r\n                        &lt;PasswordField maxWidth=&quot;Infinity&quot; promptText=&quot;Password&quot; styleClass=&quot;text-field&quot;  /&gt;\r\n                        &lt;Button maxWidth=&quot;Infinity&quot; styleClass=&quot;login-button&quot; text=&quot;Login&quot; /&gt;\r\n                        &lt;!--\r\n                        &lt;FontAwesomeIcon fill=&quot;#14b8a6&quot; glyphName=&quot;USER_MD&quot; size=&quot;7em&quot; /&gt;\r\n                        --&gt;\r\n                    &lt;/VBox&gt;\r\n                &lt;/center&gt;\r\n            &lt;/BorderPane&gt;\r\n        &lt;/center&gt;\r\n    &lt;/BorderPane&gt;\r\n\r\nThis produces\r\n\r\n[![enter image description here][2]][2]\r\n\r\nIf I resize the screen, it responds reasonably well. You can tweak the code to make it respond differently, depending on your actual requirements.\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://fxdocs.github.io/docs/html5/#_layout\r\n  [2]: https://i.stack.imgur.com/Utz13.png\r\n  [3]: https://i.stack.imgur.com/mT5T1.png","title":"How to create responsive desktop applications UI in JavaFx?","body":"<p>To manage layouts, you need to be familiar with JavaFX's built-in layout panes.</p>\n<ul>\n<li><p>Oracle provide a <a href=\"https://docs.oracle.com/javase/8/javafx/layout-tutorial/builtin_layouts.htm\" rel=\"nofollow noreferrer\">tutorial</a>, which is quite old, so the code style is out of date, but the underlying technology has not changed.</p>\n</li>\n<li><p><a href=\"https://fxdocs.github.io/docs/html5/#_layout\" rel=\"nofollow noreferrer\">FXDocs from the OpenJFX documentation project</a> also provide a layout tutorial.</p>\n</li>\n<li><p>It's also worth reading the <a href=\"https://openjfx.io/javadoc/20/javafx.graphics/javafx/scene/layout/package-summary.html\" rel=\"nofollow noreferrer\">API documentation for the layout package</a> to see how the overall system works, and the API docs for each of the <code>Pane</code> subclasses.</p>\n</li>\n</ul>\n<p>There really is no shortcut to just experimenting with these layout panes and becoming familiar with how each of them manages layout and what properties they have.</p>\n<p>If you want the layout to be <em>responsive</em> (i.e. for components to move and resize according to how much space is available) you need to:</p>\n<ol>\n<li>Avoid hardcoding positions and sizes. This means you must not set <code>layoutX</code>, <code>layoutY</code>, <code>prefWidth</code>, <code>prefHeight</code> etc. Sometimes it <em>may</em> be helpful to set min/max sizes, but this can constrain the ability of the layout pane to respond to changes in available space.</li>\n<li>Use layout panes that perform responsive layout. This means you generally should <em>not</em> use <code>StackPane</code> or <code>AnchorPane</code> except for very small, specific parts of the UI. By contrast, <code>BorderPane</code>, <code>HBox</code>, <code>VBox</code>, <code>GridPane</code>, <code>TilePane</code>, <code>FlowPane</code>, etc. provide the most responsiveness. Focus on <em>logical</em> layout rather than specific positioning.</li>\n<li>Decide <em>how</em> you want the layout to respond. If there is extra space, how should it be used? If space is limited, what should shrink? This will determine which layout panes you decide to use.</li>\n</ol>\n<p>Here is an approximation to the layout you defined using responsive panes. I also added <code>-fx-padding: 10;</code> to the <code>left-form</code> and <code>right-form</code> style classes in the CSS.</p>\n<p>I could not get the FontAwesome parts to work, so I commented those out and made guesses as to how they should be. (In the version I found, <code>FontAwesomeIcon</code> is not a <code>Node</code> subclass. Not sure what is going on there.)</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import de.jensd.fx.glyphs.fontawesome.FontAwesomeIcon?&gt;\n\n&lt;?import javafx.geometry.Insets?&gt;\n&lt;?import javafx.scene.control.*?&gt;\n&lt;?import javafx.scene.layout.*?&gt;\n&lt;?import javafx.scene.text.Font?&gt;\n&lt;BorderPane stylesheets=&quot;@loginDesign.css&quot; xmlns=&quot;http://javafx.com/javafx/20.0.1&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot;&gt;\n    &lt;left&gt;\n        &lt;VBox alignment=&quot;CENTER&quot; styleClass=&quot;left-form&quot;&gt;\n            &lt;!--\n            &lt;FontAwesomeIcon fill=&quot;WHITE&quot; glyphName=&quot;STETHOSCOPE&quot; size=&quot;12em&quot; tabSize=&quot;0&quot; /&gt;\n            --&gt;\n            &lt;Label text=&quot;Pesticide Management System&quot; textFill=&quot;WHITE&quot;&gt;\n                &lt;font&gt;\n                    &lt;Font name=&quot;Berlin Sans FB&quot; size=&quot;18.0&quot; /&gt;\n                &lt;/font&gt;\n            &lt;/Label&gt;\n        &lt;/VBox&gt;\n    &lt;/left&gt;\n    &lt;center&gt;\n        &lt;BorderPane styleClass=&quot;right-form&quot;&gt;\n            &lt;top&gt;\n                &lt;HBox alignment=&quot;TOP_RIGHT&quot;&gt;\n                    &lt;padding&gt;&lt;Insets topRightBottomLeft=&quot;10&quot;/&gt;&lt;/padding&gt;\n                    &lt;Button mnemonicParsing=&quot;false&quot; styleClass=&quot;close&quot; text=&quot;X&quot;&gt;\n                        &lt;!--\n                        &lt;graphic&gt;\n                            &lt;FontAwesomeIcon glyphName=&quot;CLOSE&quot; size=&quot;15&quot; /&gt;\n                        &lt;/graphic&gt;\n                        --&gt;\n                    &lt;/Button&gt;\n                &lt;/HBox&gt;\n\n            &lt;/top&gt;\n            &lt;center&gt;\n                &lt;VBox alignment=&quot;CENTER&quot; spacing=&quot;20&quot; fillWidth=&quot;true&quot;&gt;\n                    &lt;Label text=&quot;Welcome, Admin!&quot; textFill=&quot;#374151&quot;&gt;\n                        &lt;font&gt;\n                            &lt;Font name=&quot;Berlin Sans FB&quot; size=&quot;25.0&quot; /&gt;\n                        &lt;/font&gt;\n                    &lt;/Label&gt;\n                    &lt;TextField promptText=&quot;Username&quot; styleClass=&quot;text-field&quot; maxWidth=&quot;Infinity&quot;/&gt;\n                    &lt;PasswordField maxWidth=&quot;Infinity&quot; promptText=&quot;Password&quot; styleClass=&quot;text-field&quot;  /&gt;\n                    &lt;Button maxWidth=&quot;Infinity&quot; styleClass=&quot;login-button&quot; text=&quot;Login&quot; /&gt;\n                    &lt;!--\n                    &lt;FontAwesomeIcon fill=&quot;#14b8a6&quot; glyphName=&quot;USER_MD&quot; size=&quot;7em&quot; /&gt;\n                    --&gt;\n                &lt;/VBox&gt;\n            &lt;/center&gt;\n        &lt;/BorderPane&gt;\n    &lt;/center&gt;\n&lt;/BorderPane&gt;\n</code></pre>\n<p>This produces</p>\n<p><a href=\"https://i.stack.imgur.com/Utz13.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Utz13.png\" alt=\"enter image description here\" /></a></p>\n<p>If I resize the screen, it responds reasonably well. You can tweak the code to make it respond differently, depending on your actual requirements.</p>\n<p><a href=\"https://i.stack.imgur.com/mT5T1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mT5T1.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":24655164,"reputation":104,"user_id":18551908,"display_name":"AdnanArch"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":143,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76814148,"answer_count":1,"score":0,"last_activity_date":1691051728,"creation_date":1690904656,"question_id":76813277,"body_markdown":"The problem is that i want to know how to make responsive Desktop applications in JavaFx or Java Swing (preferred in JavaFx) . When i try to resize my application frame it&#39;s components size does not grow or shrink and similar is the situation when i try to run this on different screen sizes with different screen resolutions. I have searched on this topic but could not find any solution to this. So, any reference material will also be very helpful.\r\n\r\nI just want to know how can i add responsiveness in my desktop applications.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;?import de.jensd.fx.glyphs.fontawesome.FontAwesomeIcon?&gt;\r\n    &lt;?import javafx.scene.control.Button?&gt;\r\n    &lt;?import javafx.scene.control.Label?&gt;\r\n    &lt;?import javafx.scene.control.PasswordField?&gt;\r\n    &lt;?import javafx.scene.control.TextField?&gt;\r\n    &lt;?import javafx.scene.layout.AnchorPane?&gt;\r\n    &lt;?import javafx.scene.layout.StackPane?&gt;\r\n    &lt;?import javafx.scene.text.Font?&gt;\r\n    \r\n    &lt;StackPane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;500.0&quot; prefWidth=&quot;700.0&quot; xmlns=&quot;http://javafx.com/javafx/20.0.1&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot;&gt;\r\n        &lt;AnchorPane prefHeight=&quot;500.0&quot; prefWidth=&quot;700.0&quot;&gt;\r\n            &lt;AnchorPane layoutY=&quot;1.0&quot; prefHeight=&quot;500.0&quot; prefWidth=&quot;250.0&quot; styleClass=&quot;left-form&quot; stylesheets=&quot;@../../stylesheets/loginDesign.css&quot;&gt;\r\n                &lt;FontAwesomeIcon fill=&quot;WHITE&quot; glyphName=&quot;STETHOSCOPE&quot; layoutX=&quot;68.0&quot; layoutY=&quot;228.0&quot; size=&quot;12em&quot; tabSize=&quot;0&quot; /&gt;\r\n                &lt;Label layoutX=&quot;11.0&quot; layoutY=&quot;274.0&quot; text=&quot;Pesticide Management System&quot; textFill=&quot;WHITE&quot;&gt;\r\n                    &lt;font&gt;\r\n                        &lt;Font name=&quot;Berlin Sans FB&quot; size=&quot;18.0&quot; /&gt;\r\n                    &lt;/font&gt;\r\n                &lt;/Label&gt;\r\n            &lt;/AnchorPane&gt;\r\n            &lt;AnchorPane layoutX=&quot;250.0&quot; layoutY=&quot;1.0&quot; prefHeight=&quot;500.0&quot; prefWidth=&quot;450.0&quot; styleClass=&quot;right-form&quot; stylesheets=&quot;@../../stylesheets/loginDesign.css&quot;&gt;\r\n                &lt;Label layoutX=&quot;133.0&quot; layoutY=&quot;148.0&quot; text=&quot;Welcome, Admin!&quot; textFill=&quot;#374151&quot;&gt;\r\n                    &lt;font&gt;\r\n                        &lt;Font name=&quot;Berlin Sans FB&quot; size=&quot;25.0&quot; /&gt;\r\n                    &lt;/font&gt;\r\n                &lt;/Label&gt;\r\n                &lt;TextField layoutX=&quot;114.0&quot; layoutY=&quot;226.0&quot; prefHeight=&quot;30.0&quot; prefWidth=&quot;220.0&quot; promptText=&quot;Username&quot; styleClass=&quot;text-field&quot; stylesheets=&quot;@../../stylesheets/loginDesign.css&quot; /&gt;\r\n                &lt;PasswordField layoutX=&quot;115.0&quot; layoutY=&quot;273.0&quot; prefHeight=&quot;30.0&quot; prefWidth=&quot;220.0&quot; promptText=&quot;Password&quot; styleClass=&quot;text-field&quot; stylesheets=&quot;@../../stylesheets/loginDesign.css&quot; /&gt;\r\n                &lt;Button layoutX=&quot;115.0&quot; layoutY=&quot;334.0&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;35.0&quot; prefWidth=&quot;220.0&quot; styleClass=&quot;login-button&quot; stylesheets=&quot;@../../stylesheets/loginDesign.css&quot; text=&quot;Login&quot; /&gt;\r\n                &lt;FontAwesomeIcon fill=&quot;#14b8a6&quot; glyphName=&quot;USER_MD&quot; layoutX=&quot;191.0&quot; layoutY=&quot;128.0&quot; size=&quot;7em&quot; /&gt;\r\n             &lt;Button layoutX=&quot;401.0&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;22.0&quot; prefWidth=&quot;50.0&quot; styleClass=&quot;close&quot; stylesheets=&quot;@../../stylesheets/loginDesign.css&quot;&gt;\r\n                &lt;graphic&gt;\r\n                   &lt;FontAwesomeIcon glyphName=&quot;CLOSE&quot; size=&quot;15&quot; /&gt;\r\n                &lt;/graphic&gt;\r\n             &lt;/Button&gt;\r\n            &lt;/AnchorPane&gt;\r\n        &lt;/AnchorPane&gt;\r\n    &lt;/StackPane&gt;\r\n\r\n\r\n\r\nand here is my css file\r\n\r\n    .left-form {\r\n        -fx-background-color: #14b8a6;\r\n        -fx-border-color: #000;\r\n        -fx-border-width: 0.4px 0px .4px .4px;\r\n    }\r\n    \r\n    .right-form {\r\n        -fx-background-color: #fff;\r\n        -fx-border-color: #000;\r\n        -fx-border-width: .4px .4px .4px 0px;\r\n    }\r\n    \r\n    .close {\r\n        -fx-background-color: transparent;\r\n        -fx-cursor: hand;\r\n    }\r\n    \r\n    .close:hover {\r\n        -fx-background-color: #ef4444;\r\n    }\r\n    \r\n    .text-field {\r\n        -fx-border-color: #3e3d3d;\r\n        -fx-border-width: 0.5px;\r\n        -fx-border-radius: 4px;\r\n        -fx-font-family: &quot;Tahoma&quot;;\r\n        -fx-font-size: 13px; /* Add &#39;px&#39; unit to font size */\r\n    }\r\n    \r\n    .text-field:focused {\r\n        -fx-border-color: #14b8a6;\r\n        -fx-border-radius: 4px;\r\n        -fx-border-width: 1.5px;\r\n    }\r\n    \r\n    .login-button {\r\n        -fx-background-color: #14b8a6;\r\n        -fx-background-radius: 15px;\r\n        -fx-cursor: hand;\r\n        -fx-font-size: 14px; /* Add &#39;px&#39; unit to font size */\r\n        -fx-text-fill: #fff;\r\n        -fx-font-family: &quot;SansSerif&quot;;\r\n    }\r\n\r\n","title":"How to create responsive desktop applications UI in JavaFx?","body":"<p>The problem is that i want to know how to make responsive Desktop applications in JavaFx or Java Swing (preferred in JavaFx) . When i try to resize my application frame it's components size does not grow or shrink and similar is the situation when i try to run this on different screen sizes with different screen resolutions. I have searched on this topic but could not find any solution to this. So, any reference material will also be very helpful.</p>\n<p>I just want to know how can i add responsiveness in my desktop applications.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import de.jensd.fx.glyphs.fontawesome.FontAwesomeIcon?&gt;\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;?import javafx.scene.control.Label?&gt;\n&lt;?import javafx.scene.control.PasswordField?&gt;\n&lt;?import javafx.scene.control.TextField?&gt;\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\n&lt;?import javafx.scene.layout.StackPane?&gt;\n&lt;?import javafx.scene.text.Font?&gt;\n\n&lt;StackPane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;500.0&quot; prefWidth=&quot;700.0&quot; xmlns=&quot;http://javafx.com/javafx/20.0.1&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot;&gt;\n    &lt;AnchorPane prefHeight=&quot;500.0&quot; prefWidth=&quot;700.0&quot;&gt;\n        &lt;AnchorPane layoutY=&quot;1.0&quot; prefHeight=&quot;500.0&quot; prefWidth=&quot;250.0&quot; styleClass=&quot;left-form&quot; stylesheets=&quot;@../../stylesheets/loginDesign.css&quot;&gt;\n            &lt;FontAwesomeIcon fill=&quot;WHITE&quot; glyphName=&quot;STETHOSCOPE&quot; layoutX=&quot;68.0&quot; layoutY=&quot;228.0&quot; size=&quot;12em&quot; tabSize=&quot;0&quot; /&gt;\n            &lt;Label layoutX=&quot;11.0&quot; layoutY=&quot;274.0&quot; text=&quot;Pesticide Management System&quot; textFill=&quot;WHITE&quot;&gt;\n                &lt;font&gt;\n                    &lt;Font name=&quot;Berlin Sans FB&quot; size=&quot;18.0&quot; /&gt;\n                &lt;/font&gt;\n            &lt;/Label&gt;\n        &lt;/AnchorPane&gt;\n        &lt;AnchorPane layoutX=&quot;250.0&quot; layoutY=&quot;1.0&quot; prefHeight=&quot;500.0&quot; prefWidth=&quot;450.0&quot; styleClass=&quot;right-form&quot; stylesheets=&quot;@../../stylesheets/loginDesign.css&quot;&gt;\n            &lt;Label layoutX=&quot;133.0&quot; layoutY=&quot;148.0&quot; text=&quot;Welcome, Admin!&quot; textFill=&quot;#374151&quot;&gt;\n                &lt;font&gt;\n                    &lt;Font name=&quot;Berlin Sans FB&quot; size=&quot;25.0&quot; /&gt;\n                &lt;/font&gt;\n            &lt;/Label&gt;\n            &lt;TextField layoutX=&quot;114.0&quot; layoutY=&quot;226.0&quot; prefHeight=&quot;30.0&quot; prefWidth=&quot;220.0&quot; promptText=&quot;Username&quot; styleClass=&quot;text-field&quot; stylesheets=&quot;@../../stylesheets/loginDesign.css&quot; /&gt;\n            &lt;PasswordField layoutX=&quot;115.0&quot; layoutY=&quot;273.0&quot; prefHeight=&quot;30.0&quot; prefWidth=&quot;220.0&quot; promptText=&quot;Password&quot; styleClass=&quot;text-field&quot; stylesheets=&quot;@../../stylesheets/loginDesign.css&quot; /&gt;\n            &lt;Button layoutX=&quot;115.0&quot; layoutY=&quot;334.0&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;35.0&quot; prefWidth=&quot;220.0&quot; styleClass=&quot;login-button&quot; stylesheets=&quot;@../../stylesheets/loginDesign.css&quot; text=&quot;Login&quot; /&gt;\n            &lt;FontAwesomeIcon fill=&quot;#14b8a6&quot; glyphName=&quot;USER_MD&quot; layoutX=&quot;191.0&quot; layoutY=&quot;128.0&quot; size=&quot;7em&quot; /&gt;\n         &lt;Button layoutX=&quot;401.0&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;22.0&quot; prefWidth=&quot;50.0&quot; styleClass=&quot;close&quot; stylesheets=&quot;@../../stylesheets/loginDesign.css&quot;&gt;\n            &lt;graphic&gt;\n               &lt;FontAwesomeIcon glyphName=&quot;CLOSE&quot; size=&quot;15&quot; /&gt;\n            &lt;/graphic&gt;\n         &lt;/Button&gt;\n        &lt;/AnchorPane&gt;\n    &lt;/AnchorPane&gt;\n&lt;/StackPane&gt;\n</code></pre>\n<p>and here is my css file</p>\n<pre><code>.left-form {\n    -fx-background-color: #14b8a6;\n    -fx-border-color: #000;\n    -fx-border-width: 0.4px 0px .4px .4px;\n}\n\n.right-form {\n    -fx-background-color: #fff;\n    -fx-border-color: #000;\n    -fx-border-width: .4px .4px .4px 0px;\n}\n\n.close {\n    -fx-background-color: transparent;\n    -fx-cursor: hand;\n}\n\n.close:hover {\n    -fx-background-color: #ef4444;\n}\n\n.text-field {\n    -fx-border-color: #3e3d3d;\n    -fx-border-width: 0.5px;\n    -fx-border-radius: 4px;\n    -fx-font-family: &quot;Tahoma&quot;;\n    -fx-font-size: 13px; /* Add 'px' unit to font size */\n}\n\n.text-field:focused {\n    -fx-border-color: #14b8a6;\n    -fx-border-radius: 4px;\n    -fx-border-width: 1.5px;\n}\n\n.login-button {\n    -fx-background-color: #14b8a6;\n    -fx-background-radius: 15px;\n    -fx-cursor: hand;\n    -fx-font-size: 14px; /* Add 'px' unit to font size */\n    -fx-text-fill: #fff;\n    -fx-font-family: &quot;SansSerif&quot;;\n}\n</code></pre>\n"},{"tags":["java","anylogic"],"comments":[{"owner":{"account_id":2486375,"reputation":11068,"user_id":2164728,"accept_rate":62,"display_name":"Benjamin"},"score":0,"creation_date":1691052853,"post_id":76826268,"comment_id":135440240,"body_markdown":"Welcome to SOF. This place works best for you if you ask very focused, specific questions on 1 AnyLogic issue, show exactly what you tried already and where you are stuck. If you want to know “how do I best do X in AnyLogic”, you should use the LinkedIn forum instead. Check this overview to the community to understand why: https://benjamin-schumann.com/blog/anylogic-community. Welcome again, happy to help","body":"Welcome to SOF. This place works best for you if you ask very focused, specific questions on 1 AnyLogic issue, show exactly what you tried already and where you are stuck. If you want to know “how do I best do X in AnyLogic”, you should use the LinkedIn forum instead. Check this overview to the community to understand why: <a href=\"https://benjamin-schumann.com/blog/anylogic-community\" rel=\"nofollow noreferrer\">benjamin-schumann.com/blog/anylogic-community</a>. Welcome again, happy to help"},{"owner":{"account_id":8497034,"reputation":1153,"user_id":6394109,"accept_rate":100,"display_name":"Ram Chander"},"score":0,"creation_date":1691079269,"post_id":76826268,"comment_id":135446214,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":29150374,"reputation":1,"user_id":22331358,"display_name":"RPN"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691051574,"creation_date":1691051574,"question_id":76826268,"body_markdown":"I&#39;m working on a project in which the aim is to model a certain parking system. My idea was to focus both on drivers and cars side. The best way to do it seemed to use a split-combine block. On OnExit of the split block a copy of the car agent is created (I created a custom type called &quot;person&quot;) and the two entities are linked with a bilateral link. After the split block agent &quot;person&quot; (Agent2) goes through some queues and delays and then gets to the combine block. On the other way cars (Agent1) are instead supposed to wait until the linked person get to the combine block to be released. \r\n\r\nAlthough this first intuition about how to model the problem I still don&#39;t know how and what to code in the split block and in the wait block to make a car being released only once the linked agent &quot;person&quot; arrives at the combine block. The problem is about preemption as well since cars are not taken back following the line they were dropped. \r\n\r\nI hope you can help me on this and I kindly appreciate every suggestion about it","title":"Reunite linked agents after a split-combine block in Anylogic","body":"<p>I'm working on a project in which the aim is to model a certain parking system. My idea was to focus both on drivers and cars side. The best way to do it seemed to use a split-combine block. On OnExit of the split block a copy of the car agent is created (I created a custom type called &quot;person&quot;) and the two entities are linked with a bilateral link. After the split block agent &quot;person&quot; (Agent2) goes through some queues and delays and then gets to the combine block. On the other way cars (Agent1) are instead supposed to wait until the linked person get to the combine block to be released.</p>\n<p>Although this first intuition about how to model the problem I still don't know how and what to code in the split block and in the wait block to make a car being released only once the linked agent &quot;person&quot; arrives at the combine block. The problem is about preemption as well since cars are not taken back following the line they were dropped.</p>\n<p>I hope you can help me on this and I kindly appreciate every suggestion about it</p>\n"},{"tags":["java","android","android-actionbar"],"comments":[{"owner":{"account_id":935411,"reputation":1707,"user_id":964411,"accept_rate":42,"display_name":"SripadRaj"},"score":2,"creation_date":1501239032,"post_id":45371516,"comment_id":77703660,"body_markdown":"Are you extending your activity to `AppcompatActivity`?","body":"Are you extending your activity to <code>AppcompatActivity</code>?"},{"owner":{"account_id":4571218,"reputation":12646,"user_id":3710865,"accept_rate":54,"display_name":"sasikumar"},"score":0,"creation_date":1501239059,"post_id":45371516,"comment_id":77703682,"body_markdown":"post your manifest","body":"post your manifest"},{"owner":{"account_id":11291266,"reputation":546,"user_id":8280270,"accept_rate":50,"display_name":"Artin GH"},"score":0,"creation_date":1501239323,"post_id":45371516,"comment_id":77703876,"body_markdown":"@SripadRaj by default its extended! `  public class MainActivity extends AppCompatActivity`","body":"@SripadRaj by default its extended! `  public class MainActivity extends AppCompatActivity`"},{"owner":{"account_id":935411,"reputation":1707,"user_id":964411,"accept_rate":42,"display_name":"SripadRaj"},"score":0,"creation_date":1501239428,"post_id":45371516,"comment_id":77703951,"body_markdown":"So have you added the `Appcompat` lib to your proj? If not, add it. Change the `android:showAsAction=&quot;always&quot;` to `app:showAsAction`","body":"So have you added the <code>Appcompat</code> lib to your proj? If not, add it. Change the <code>android:showAsAction=&quot;always&quot;</code> to <code>app:showAsAction</code>"},{"owner":{"account_id":11291266,"reputation":546,"user_id":8280270,"accept_rate":50,"display_name":"Artin GH"},"score":0,"creation_date":1501239433,"post_id":45371516,"comment_id":77703955,"body_markdown":"@sasikumar I posted!","body":"@sasikumar I posted!"}],"answers":[{"comments":[{"owner":{"account_id":11291266,"reputation":546,"user_id":8280270,"accept_rate":50,"display_name":"Artin GH"},"score":0,"creation_date":1501240396,"post_id":45371695,"comment_id":77704624,"body_markdown":"Awesome ! solved my problem but could you tell me why my application was set to   android:theme=&quot;@style/Theme.AppCompat.Light.NoActionBar&quot;?!","body":"Awesome ! solved my problem but could you tell me why my application was set to   android:theme=&quot;@style/Theme.AppCompat.Light.NoActionBar&quot;?!"}],"tags":[],"owner":{"account_id":4571218,"reputation":12646,"user_id":3710865,"accept_rate":54,"display_name":"sasikumar"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1501239480,"creation_date":1501239480,"answer_id":45371695,"question_id":45371516,"body_markdown":"Change your app theme\r\n\r\n      android:theme=&quot;@style/Theme.AppCompat.Light.NoActionBar&quot;\r\ninto\r\n\r\n      android:theme=&quot;@style/AppTheme&quot;","title":"missing action bar in empty activity","body":"<p>Change your app theme</p>\n\n<pre><code>  android:theme=\"@style/Theme.AppCompat.Light.NoActionBar\"\n</code></pre>\n\n<p>into</p>\n\n<pre><code>  android:theme=\"@style/AppTheme\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10421321,"reputation":780,"user_id":7683904,"display_name":"R.R.M"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1501240295,"creation_date":1501240295,"answer_id":45372005,"question_id":45371516,"body_markdown":"Change you theme from : \r\n\r\n    android:theme=&quot;@style/Theme.AppCompat.Light.NoActionBar&quot;\r\n\r\nto :\r\n \r\n    android:theme=&quot;@style/Theme.AppCompat.Light.DarkActionBar&quot;","title":"missing action bar in empty activity","body":"<p>Change you theme from : </p>\n\n<pre><code>android:theme=\"@style/Theme.AppCompat.Light.NoActionBar\"\n</code></pre>\n\n<p>to :</p>\n\n<pre><code>android:theme=\"@style/Theme.AppCompat.Light.DarkActionBar\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8599273,"reputation":280,"user_id":6441416,"display_name":"zekromWex"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1501240724,"creation_date":1501240724,"answer_id":45372154,"question_id":45371516,"body_markdown":"First you have to add a toolbar in your MainActivity.xml, inside your Relative Layout and over your ListView. You can create a new file for that like naming it &#39;Toolbar.xml&#39; and creating the content like this:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;android.support.v7.widget.Toolbar\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:background=&quot;?attr/colorPrimary&quot;\r\n    android:minHeight=&quot;?attr/actionBarSize&quot;\r\n    app:popupTheme=&quot;@style/ThemeOverlay.AppCompat.Light&quot;\r\n    app:theme=&quot;@style/ThemeOverlay.AppCompat.Dark.ActionBar&quot;\r\n    app:title=&quot;Main Activity&quot;/&gt;\r\n\r\nthen include it in your MainActivity.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:paddingBottom=&quot;@dimen/activity_vertical_margin&quot;\r\n    android:paddingLeft=&quot;@dimen/activity_horizontal_margin&quot;\r\n    android:paddingRight=&quot;@dimen/activity_horizontal_margin&quot;\r\n    android:paddingTop=&quot;@dimen/activity_vertical_margin&quot;\r\n    tools:context=&quot;ir.cupcode.artin.contact.MainActivity&quot;&gt;\r\n\r\n    &lt;include layout=&quot;@layout/toolbar&quot; id=&quot;@+id/toolbar&quot;&gt;\r\n\r\n    &lt;ListView\r\n        android:id=&quot;@+id/list&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_width=&quot;match_parent&quot;/&gt;\r\n    \r\n    &lt;/RelativeLayout&gt;\r\n\r\n\r\n Then you have to instantiate the toolbar in your app first. Like this:\r\n\r\n    \r\n    yourToolbar = (Toolbar) findViewById(R.id.yourToolbar);\r\n    setSupportActionbar(yourToolbar);\r\n\r\nYou can also check out these forums.\r\n\r\n\r\nhttps://stackoverflow.com/questions/26511981/toolbar-inflatemenu-seems-to-do-nothing\r\n\r\nhttps://stackoverflow.com/questions/35648913/how-to-set-menu-to-toolbar-in-android\r\n\r\nHope this helps!","title":"missing action bar in empty activity","body":"<p>First you have to add a toolbar in your MainActivity.xml, inside your Relative Layout and over your ListView. You can create a new file for that like naming it 'Toolbar.xml' and creating the content like this:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.v7.widget.Toolbar\nxmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"wrap_content\"\nandroid:background=\"?attr/colorPrimary\"\nandroid:minHeight=\"?attr/actionBarSize\"\napp:popupTheme=\"@style/ThemeOverlay.AppCompat.Light\"\napp:theme=\"@style/ThemeOverlay.AppCompat.Dark.ActionBar\"\napp:title=\"Main Activity\"/&gt;\n</code></pre>\n\n<p>then include it in your MainActivity.xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:tools=\"http://schemas.android.com/tools\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\nandroid:paddingBottom=\"@dimen/activity_vertical_margin\"\nandroid:paddingLeft=\"@dimen/activity_horizontal_margin\"\nandroid:paddingRight=\"@dimen/activity_horizontal_margin\"\nandroid:paddingTop=\"@dimen/activity_vertical_margin\"\ntools:context=\"ir.cupcode.artin.contact.MainActivity\"&gt;\n\n&lt;include layout=\"@layout/toolbar\" id=\"@+id/toolbar\"&gt;\n\n&lt;ListView\n    android:id=\"@+id/list\"\n    android:layout_height=\"match_parent\"\n    android:layout_width=\"match_parent\"/&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<p>Then you have to instantiate the toolbar in your app first. Like this:</p>\n\n<pre><code>yourToolbar = (Toolbar) findViewById(R.id.yourToolbar);\nsetSupportActionbar(yourToolbar);\n</code></pre>\n\n<p>You can also check out these forums.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/26511981/toolbar-inflatemenu-seems-to-do-nothing\">Toolbar.inflateMenu seems to do nothing</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/35648913/how-to-set-menu-to-toolbar-in-android\">How to set menu to Toolbar in Android</a></p>\n\n<p>Hope this helps!</p>\n"},{"tags":[],"owner":{"account_id":20628835,"reputation":1,"user_id":15144096,"display_name":"Rouhollah Ahmadi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691051503,"creation_date":1691051503,"answer_id":76826259,"question_id":45371516,"body_markdown":"for android studio flamingo (2022.2.1):\r\n\r\nopen &quot;manifest.xml&quot;\r\n\r\nreplace: \r\n\r\n    android:theme=&quot;@style/Theme.MenuDemo&quot;\r\nwith:\r\n\r\n    android:theme=&quot;@style/Theme.AppCompat&quot;","title":"missing action bar in empty activity","body":"<p>for android studio flamingo (2022.2.1):</p>\n<p>open &quot;manifest.xml&quot;</p>\n<p>replace:</p>\n<pre><code>android:theme=&quot;@style/Theme.MenuDemo&quot;\n</code></pre>\n<p>with:</p>\n<pre><code>android:theme=&quot;@style/Theme.AppCompat&quot;\n</code></pre>\n"}],"owner":{"account_id":11291266,"reputation":546,"user_id":8280270,"accept_rate":50,"display_name":"Artin GH"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":45371695,"answer_count":4,"score":0,"last_activity_date":1691051503,"creation_date":1501238918,"question_id":45371516,"body_markdown":"I want to learn how to work with toolbar in android and trying to add menu in action bar but when I ran my previews started project, noticed that default empty activity menu bar now missing! I don&#39;t know why this happened.\r\n\r\nhere is my MainActivity.xml code\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:paddingBottom=&quot;@dimen/activity_vertical_margin&quot;\r\n    android:paddingLeft=&quot;@dimen/activity_horizontal_margin&quot;\r\n    android:paddingRight=&quot;@dimen/activity_horizontal_margin&quot;\r\n    android:paddingTop=&quot;@dimen/activity_vertical_margin&quot;\r\n    tools:context=&quot;ir.cupcode.artin.contact.MainActivity&quot;&gt;\r\n    &lt;ListView\r\n        android:id=&quot;@+id/list&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_width=&quot;match_parent&quot;/&gt;\r\n\r\n    &lt;/RelativeLayout&gt;\r\n\r\nand I have this block of code for menu bar in MainActivity.java :\r\n\r\n        @Override\r\n    public boolean onCreateOptionsMenu(Menu menu) {\r\n        MenuInflater inflater = getMenuInflater();\r\n        inflater.inflate(R.menu.menubar, menu);\r\n        return true;\r\n    }\r\n\r\nhere is my menubar.xml code\r\n\r\n     &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n\r\n\r\n&lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; &gt;\r\n\r\n    &lt;item\r\n        android:id=&quot;@+id/action_refresh&quot;\r\n        android:orderInCategory=&quot;100&quot;\r\n        android:showAsAction=&quot;always&quot;\r\n        android:icon=&quot;@drawable/ic_action_test&quot;\r\n        android:title=&quot;Refresh&quot;/&gt;\r\n    &lt;item\r\n        android:id=&quot;@+id/action_settings&quot;\r\n        android:title=&quot;Settings&quot;&gt;\r\n    &lt;/item&gt;\r\n\r\n&lt;/menu&gt;\r\n\r\nIn addition I get an error for using `        android:showAsAction=&quot;always&quot;` that says should use app:showAsAction with the appcombat library\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    package=&quot;ir.cupcode.artin.contact&quot;&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_appicon2&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.AppCompat.Light.NoActionBar&quot;&gt;\r\n        &lt;activity android:name=&quot;.MainActivity&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n        &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n\r\n    ","title":"missing action bar in empty activity","body":"<p>I want to learn how to work with toolbar in android and trying to add menu in action bar but when I ran my previews started project, noticed that default empty activity menu bar now missing! I don't know why this happened.</p>\n\n<p>here is my MainActivity.xml code</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:tools=\"http://schemas.android.com/tools\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\nandroid:paddingBottom=\"@dimen/activity_vertical_margin\"\nandroid:paddingLeft=\"@dimen/activity_horizontal_margin\"\nandroid:paddingRight=\"@dimen/activity_horizontal_margin\"\nandroid:paddingTop=\"@dimen/activity_vertical_margin\"\ntools:context=\"ir.cupcode.artin.contact.MainActivity\"&gt;\n&lt;ListView\n    android:id=\"@+id/list\"\n    android:layout_height=\"match_parent\"\n    android:layout_width=\"match_parent\"/&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<p>and I have this block of code for menu bar in MainActivity.java :</p>\n\n<pre><code>    @Override\npublic boolean onCreateOptionsMenu(Menu menu) {\n    MenuInflater inflater = getMenuInflater();\n    inflater.inflate(R.menu.menubar, menu);\n    return true;\n}\n</code></pre>\n\n<p>here is my menubar.xml code</p>\n\n<pre><code> &lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n</code></pre>\n\n<p></p>\n\n<pre><code>&lt;item\n    android:id=\"@+id/action_refresh\"\n    android:orderInCategory=\"100\"\n    android:showAsAction=\"always\"\n    android:icon=\"@drawable/ic_action_test\"\n    android:title=\"Refresh\"/&gt;\n&lt;item\n    android:id=\"@+id/action_settings\"\n    android:title=\"Settings\"&gt;\n&lt;/item&gt;\n</code></pre>\n\n<p></p>\n\n<p>In addition I get an error for using <code>android:showAsAction=\"always\"</code> that says should use app:showAsAction with the appcombat library</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n</code></pre>\n\n<p></p>\n\n<pre><code>&lt;application\n    android:allowBackup=\"true\"\n    android:icon=\"@mipmap/ic_appicon2\"\n    android:label=\"@string/app_name\"\n    android:supportsRtl=\"true\"\n    android:theme=\"@style/Theme.AppCompat.Light.NoActionBar\"&gt;\n    &lt;activity android:name=\".MainActivity\"&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n\n            &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n        &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n</code></pre>\n\n<p></p>\n"},{"tags":["java","mockito","junit5"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1691046251,"post_id":76825450,"comment_id":135438346,"body_markdown":"The error is complaining about a mock on `getSub()`, and I don&#39;t see the code for that.","body":"The error is complaining about a mock on <code>getSub()</code>, and I don&#39;t see the code for that."},{"owner":{"account_id":14751968,"reputation":1,"user_id":14426642,"display_name":"Morante"},"score":0,"creation_date":1691047840,"post_id":76825450,"comment_id":135439178,"body_markdown":"What jwtDecoder does is to bring a Payload (class), where it facilitates the extraction of the http Authorization headers.As you can see in the JwtServices class, I make that call and with the data of the header I extract what I am interested in, in this case the Sub and the Iss of the JWT. what happens that when making the call, as much as I make it mock is like that it does not falsify the method and what I obtain is null, but on the other hand I do not know why it identifies the HashMap, and sometimes I receive error of getSub and others of the variable payloadHeaderAuthorization is null...","body":"What jwtDecoder does is to bring a Payload (class), where it facilitates the extraction of the http Authorization headers.As you can see in the JwtServices class, I make that call and with the data of the header I extract what I am interested in, in this case the Sub and the Iss of the JWT. what happens that when making the call, as much as I make it mock is like that it does not falsify the method and what I obtain is null, but on the other hand I do not know why it identifies the HashMap, and sometimes I receive error of getSub and others of the variable payloadHeaderAuthorization is null..."},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1691050993,"post_id":76825450,"comment_id":135439864,"body_markdown":"`@InjectMocks` does _not_ create a mock. `@Mock` creates a mock. `@InjectMocks` creates a real instance.","body":"<code>@InjectMocks</code> does <i>not</i> create a mock. <code>@Mock</code> creates a mock. <code>@InjectMocks</code> creates a real instance."}],"answers":[{"comments":[{"owner":{"account_id":14751968,"reputation":1,"user_id":14426642,"display_name":"Morante"},"score":0,"creation_date":1691050002,"post_id":76825949,"comment_id":135439665,"body_markdown":"Thanks for the answer, I had already looked at this possible solution before, but neither with runWith, nor with InitMock nor even putting the mock(Entity.class) works... I don&#39;t know in which part I could take this action.","body":"Thanks for the answer, I had already looked at this possible solution before, but neither with runWith, nor with InitMock nor even putting the mock(Entity.class) works... I don&#39;t know in which part I could take this action."},{"owner":{"account_id":195691,"reputation":28439,"user_id":438742,"accept_rate":73,"display_name":"kan"},"score":0,"creation_date":1691050912,"post_id":76825949,"comment_id":135439851,"body_markdown":"These are obsolete ways, he has the recent `@ExtendWith(MockitoExtension.class)` of the modern extension API","body":"These are obsolete ways, he has the recent <code>@ExtendWith(MockitoExtension.class)</code> of the modern extension API"},{"owner":{"account_id":14751968,"reputation":1,"user_id":14426642,"display_name":"Morante"},"score":0,"creation_date":1691055744,"post_id":76825949,"comment_id":135440909,"body_markdown":"I managed to simulate the data, with @InjectMock in patientImpl and declaring inside the method MockitoAnotation.openMock(this)","body":"I managed to simulate the data, with @InjectMock in patientImpl and declaring inside the method MockitoAnotation.openMock(this)"}],"tags":[],"owner":{"account_id":11521971,"reputation":1,"user_id":8443469,"display_name":"Harish"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691049200,"creation_date":1691049200,"answer_id":76825949,"question_id":76825450,"body_markdown":"I am not sure if the mocks are being initiated properly.\r\n\r\nTry adding runwith annotation.\r\n```\r\n@RunWith(MockitoJunitRunner.class)\r\n```\r\nOR\r\n\r\nin the setup() method add `MockitoAnnotations.initMocks()`\r\n\r\nCheck this ans: https://stackoverflow.com/a/15494996","title":"How to test with Junit and Mockito without returning null","body":"<p>I am not sure if the mocks are being initiated properly.</p>\n<p>Try adding runwith annotation.</p>\n<pre><code>@RunWith(MockitoJunitRunner.class)\n</code></pre>\n<p>OR</p>\n<p>in the setup() method add <code>MockitoAnnotations.initMocks()</code></p>\n<p>Check this ans: <a href=\"https://stackoverflow.com/a/15494996\">https://stackoverflow.com/a/15494996</a></p>\n"},{"comments":[{"owner":{"account_id":14751968,"reputation":1,"user_id":14426642,"display_name":"Morante"},"score":0,"creation_date":1691051038,"post_id":76826110,"comment_id":135439877,"body_markdown":"My jwtServices needs to be mocked, since patientImpl uses a method of the JwtServices class, if I don&#39;t mock it, I get jwtServices is null error.","body":"My jwtServices needs to be mocked, since patientImpl uses a method of the JwtServices class, if I don&#39;t mock it, I get jwtServices is null error."},{"owner":{"account_id":195691,"reputation":28439,"user_id":438742,"accept_rate":73,"display_name":"kan"},"score":1,"creation_date":1691053727,"post_id":76826110,"comment_id":135440435,"body_markdown":"But you use @InjectMocks for it, hence it&#39;s not a @Mock, so you should not use it in `when`.","body":"But you use @InjectMocks for it, hence it&#39;s not a @Mock, so you should not use it in <code>when</code>."},{"owner":{"account_id":14751968,"reputation":1,"user_id":14426642,"display_name":"Morante"},"score":0,"creation_date":1691054676,"post_id":76826110,"comment_id":135440645,"body_markdown":"Of course, if I do not use the when, when it passes through patientImpl it calls jwtServices and it returns null.\nnow, if I create the Mock of jwtServices and initialize it in setUp as : jwtServices = new JwtServices()...","body":"Of course, if I do not use the when, when it passes through patientImpl it calls jwtServices and it returns null. now, if I create the Mock of jwtServices and initialize it in setUp as : jwtServices = new JwtServices()..."},{"owner":{"account_id":14751968,"reputation":1,"user_id":14426642,"display_name":"Morante"},"score":0,"creation_date":1691054680,"post_id":76826110,"comment_id":135440647,"body_markdown":"I can make a mock of the same mock, but jwtServices makes a call to interface jwtDecoder that returns a Payload.class with the header data. jwtServices.getDecodeJwt() calls the interface method and this one returns null because jwtDecoder is null.","body":"I can make a mock of the same mock, but jwtServices makes a call to interface jwtDecoder that returns a Payload.class with the header data. jwtServices.getDecodeJwt() calls the interface method and this one returns null because jwtDecoder is null."},{"owner":{"account_id":195691,"reputation":28439,"user_id":438742,"accept_rate":73,"display_name":"kan"},"score":1,"creation_date":1691055138,"post_id":76826110,"comment_id":135440752,"body_markdown":"@Morante your impl which you are testing depends on `jwtServices` and `apiFaroConfig`, nothing else. Hence these two fields should be annotated with `@Mock`. Internals of the `JwtServices` are irrelevant and unrelated as they are mocked, hence `jwtDecoder` and related should not even be part of your test.","body":"@Morante your impl which you are testing depends on <code>jwtServices</code> and <code>apiFaroConfig</code>, nothing else. Hence these two fields should be annotated with <code>@Mock</code>. Internals of the <code>JwtServices</code> are irrelevant and unrelated as they are mocked, hence <code>jwtDecoder</code> and related should not even be part of your test."},{"owner":{"account_id":195691,"reputation":28439,"user_id":438742,"accept_rate":73,"display_name":"kan"},"score":0,"creation_date":1691055294,"post_id":76826110,"comment_id":135440803,"body_markdown":"`jwtServices = new JwtServices()` makes no sense. It should be just declared with `@Mock`","body":"<code>jwtServices = new JwtServices()</code> makes no sense. It should be just declared with <code>@Mock</code>"},{"owner":{"account_id":14751968,"reputation":1,"user_id":14426642,"display_name":"Morante"},"score":0,"creation_date":1691055729,"post_id":76826110,"comment_id":135440903,"body_markdown":"I managed to simulate the data, with @InjectMock in patientImpl and declaring inside the method MockitoAnotation.openMocks(this)","body":"I managed to simulate the data, with @InjectMock in patientImpl and declaring inside the method MockitoAnotation.openMocks(this)"}],"tags":[],"owner":{"account_id":195691,"reputation":28439,"user_id":438742,"accept_rate":73,"display_name":"kan"},"comment_count":7,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691050424,"creation_date":1691050424,"answer_id":76826110,"question_id":76825450,"body_markdown":"Your `jwtServices` is not a mock, but you are mocking it with `when`. Hence it&#39;s all confused and goes awry.\r\n\r\nOverall, your test does not look as a properly designed. Usually it should be a single class under test, with all its dependencies mocked. You have a weird mix.","title":"How to test with Junit and Mockito without returning null","body":"<p>Your <code>jwtServices</code> is not a mock, but you are mocking it with <code>when</code>. Hence it's all confused and goes awry.</p>\n<p>Overall, your test does not look as a properly designed. Usually it should be a single class under test, with all its dependencies mocked. You have a weird mix.</p>\n"}],"owner":{"account_id":14751968,"reputation":1,"user_id":14426642,"display_name":"Morante"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1691050424,"creation_date":1691044633,"question_id":76825450,"body_markdown":"I find myself in a situation where I do not know the test code answers.\r\nI have an Impl with a single method that looks for a patient, but inside that method I have another external class that calls a method that also calls an interface to receive the response.\r\nI expose my code \r\n\r\nIMPL\r\n\r\n```\r\n@Autowired\r\n    private JwtServices jwtServices;\r\n@Override\r\n    public Map&lt;String, Object&gt; findByPatient(String identificationNumber, String birthdate, Boolean allowPatientData)  {\r\n\r\n        Map&lt;String, String&gt; jwtData = jwtServices.getDecoderJwt();\r\n\r\n        Map&lt;String, String&gt; dataPatient =  new HashMap&lt;&gt;();\r\n        dataPatient.put(&quot;identificationNumber&quot;, identificationNumber);\r\n        dataPatient.put(&quot;birthdate&quot;,birthdate);\r\n        dataPatient.put(&quot;allowPatientData&quot;,allowPatientData.toString());\r\n        dataPatient.put(&quot;appointmentId&quot;,jwtData.get(&quot;sub&quot;));\r\n\r\n        return this.apiFaroConfig.findPatient(dataPatient);\r\n    }\r\n```\r\n\r\nMy code JwtServices:\r\n\r\n```\r\n @Autowired\r\n    private JWTDecoder jwtDecoder;\r\n\r\n    public Map&lt;String, String&gt; getDecoderJwt(){\r\n        Map&lt;String, String&gt; jwtData = new HashMap&lt;&gt;();\r\n\r\n        Payload payloadHeaderAuthorization = jwtDecoder.getPayloadAuthorization();\r\n\r\n        jwtData.put(&quot;iss&quot;, payloadHeaderAuthorization.getIss());\r\n        jwtData.put(&quot;sub&quot;,  payloadHeaderAuthorization.getSub());\r\n\r\n        return jwtData;\r\n    }\r\n```\r\n\r\n\r\nMy test IMPL:\r\n\r\n\r\n```\r\n@ExtendWith(MockitoExtension.class)\r\n@MockitoSettings(strictness = Strictness.LENIENT)\r\nclass PatientServicesImplTest {\r\n\r\n    @Mock\r\n    private FaroApiRest apiFaroRest;\r\n\r\n    @InjectMocks\r\n    private JwtServices jwtServices ;\r\n\r\n    @Mock\r\n    private JWTDecoder jwtDecoder;\r\n\r\n    @Mock\r\n    private Payload payload;\r\n\r\n    @InjectMocks\r\n    private PatientServicesImpl patientServices;\r\n\r\n    //Initialize variable\r\n    private Map&lt;String, String&gt; dataPatient;\r\n    private Map&lt;String, Object&gt; dataResponse;\r\n    private Map&lt;String, String&gt; jwtData ;\r\n\r\n    @BeforeEach\r\n    void setUp() {\r\n        //Initialize instances\r\n        patientServices = new PatientServicesImpl(apiFaroRest);\r\n        dataPatient = new HashMap&lt;&gt;();\r\n        dataResponse = new HashMap&lt;&gt;();\r\n        jwtData = new HashMap&lt;&gt;();\r\n\r\n        //initialize dataPatient\r\n        dataPatient.put(&quot;identificationNumber&quot;, &quot;XXXX&quot;);\r\n        dataPatient.put(&quot;birthdate&quot;,&quot;XXXX&quot;);\r\n        dataPatient.put(&quot;allowPatientData&quot;, &quot;true&quot;);\r\n        dataPatient.put(&quot;appointmentId&quot;,&quot;XXX&quot;);\r\n\r\n        //Initialize dataResponse status-&gt;200 ok\r\n        dataResponse.put(&quot;datosPersonales&quot;, &quot;XXX&quot;);\r\n        dataResponse.put(&quot;anamnesis&quot;, &quot;XXX&quot;);\r\n        dataResponse.put(&quot;gdpr&quot;, &quot;XXX&quot;);\r\n\r\n        //Initialize data jwt\r\n        jwtData.put(&quot;iss&quot;,&quot;560&quot;);\r\n        jwtData.put(&quot;sub&quot;, &quot;123456&quot;);\r\n\r\n    }\r\n\r\n    @Test\r\n    void findByPatient() {\r\n        //when\r\n\r\n        //Jwt Services\r\n        when(jwtDecoder.getPayloadAuthorization()).thenReturn(payload);\r\n\r\n        when(jwtServices.getDecoderJwt()).thenReturn(jwtData);\r\n\r\n        //PatientsImpl\r\n        when(patientServices.findByPatient(&quot;XXXX&quot;, &quot;XXXX&quot;, true)).thenReturn(dataResponse);\r\n        when(apiFaroRest.findPatient(dataPatient)).thenReturn(dataResponse);\r\n\r\n        //given\r\n        Map&lt;String, Object&gt; response = apiFaroRest.findPatient(dataPatient);\r\n\r\n        //then\r\n        assertTrue(response.containsKey(&quot;datosPersonales&quot;));\r\n        assertNotNull(response);\r\n       }\r\n\r\n}\r\n```\r\n\r\nError:\r\n\r\n\r\n```\r\norg.mockito.exceptions.misusing.WrongTypeOfReturnValue: \r\nHashMap cannot be returned by getSub()\r\ngetSub() should return String\r\n***\r\nIf you&#39;re unsure why you&#39;re getting above error read on.\r\nDue to the nature of the syntax above problem might occur because:\r\n1. This exception *might* occur in wrongly written multi-threaded tests.\r\n   Please refer to Mockito FAQ on limitations of concurrency testing.\r\n2. A spy is stubbed using when(spy.foo()).then() syntax. It is safer to stub spies - \r\n   - with doReturn|Throw() family of methods. More in javadocs for Mockito.spy() method.\r\n\r\n```\r\n\r\n\r\n\r\n\r\nI don&#39;t understand what&#39;s going on. \r\nI don&#39;t understand why I get that return change when I&#39;m specifying its return.\r\nThen, if I remove the jwtDecoder it returns null jwtService because it tries to call the jwtDecoder method and it doesn&#39;t &quot;exist&quot; but of course, if what I want is that the JwtServices checks its getDecoder method and I return it the Map&lt;String, String&gt; so that the main IMPL method can give me the OK.","title":"How to test with Junit and Mockito without returning null","body":"<p>I find myself in a situation where I do not know the test code answers.\nI have an Impl with a single method that looks for a patient, but inside that method I have another external class that calls a method that also calls an interface to receive the response.\nI expose my code</p>\n<p>IMPL</p>\n<pre><code>@Autowired\n    private JwtServices jwtServices;\n@Override\n    public Map&lt;String, Object&gt; findByPatient(String identificationNumber, String birthdate, Boolean allowPatientData)  {\n\n        Map&lt;String, String&gt; jwtData = jwtServices.getDecoderJwt();\n\n        Map&lt;String, String&gt; dataPatient =  new HashMap&lt;&gt;();\n        dataPatient.put(&quot;identificationNumber&quot;, identificationNumber);\n        dataPatient.put(&quot;birthdate&quot;,birthdate);\n        dataPatient.put(&quot;allowPatientData&quot;,allowPatientData.toString());\n        dataPatient.put(&quot;appointmentId&quot;,jwtData.get(&quot;sub&quot;));\n\n        return this.apiFaroConfig.findPatient(dataPatient);\n    }\n</code></pre>\n<p>My code JwtServices:</p>\n<pre><code> @Autowired\n    private JWTDecoder jwtDecoder;\n\n    public Map&lt;String, String&gt; getDecoderJwt(){\n        Map&lt;String, String&gt; jwtData = new HashMap&lt;&gt;();\n\n        Payload payloadHeaderAuthorization = jwtDecoder.getPayloadAuthorization();\n\n        jwtData.put(&quot;iss&quot;, payloadHeaderAuthorization.getIss());\n        jwtData.put(&quot;sub&quot;,  payloadHeaderAuthorization.getSub());\n\n        return jwtData;\n    }\n</code></pre>\n<p>My test IMPL:</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\n@MockitoSettings(strictness = Strictness.LENIENT)\nclass PatientServicesImplTest {\n\n    @Mock\n    private FaroApiRest apiFaroRest;\n\n    @InjectMocks\n    private JwtServices jwtServices ;\n\n    @Mock\n    private JWTDecoder jwtDecoder;\n\n    @Mock\n    private Payload payload;\n\n    @InjectMocks\n    private PatientServicesImpl patientServices;\n\n    //Initialize variable\n    private Map&lt;String, String&gt; dataPatient;\n    private Map&lt;String, Object&gt; dataResponse;\n    private Map&lt;String, String&gt; jwtData ;\n\n    @BeforeEach\n    void setUp() {\n        //Initialize instances\n        patientServices = new PatientServicesImpl(apiFaroRest);\n        dataPatient = new HashMap&lt;&gt;();\n        dataResponse = new HashMap&lt;&gt;();\n        jwtData = new HashMap&lt;&gt;();\n\n        //initialize dataPatient\n        dataPatient.put(&quot;identificationNumber&quot;, &quot;XXXX&quot;);\n        dataPatient.put(&quot;birthdate&quot;,&quot;XXXX&quot;);\n        dataPatient.put(&quot;allowPatientData&quot;, &quot;true&quot;);\n        dataPatient.put(&quot;appointmentId&quot;,&quot;XXX&quot;);\n\n        //Initialize dataResponse status-&gt;200 ok\n        dataResponse.put(&quot;datosPersonales&quot;, &quot;XXX&quot;);\n        dataResponse.put(&quot;anamnesis&quot;, &quot;XXX&quot;);\n        dataResponse.put(&quot;gdpr&quot;, &quot;XXX&quot;);\n\n        //Initialize data jwt\n        jwtData.put(&quot;iss&quot;,&quot;560&quot;);\n        jwtData.put(&quot;sub&quot;, &quot;123456&quot;);\n\n    }\n\n    @Test\n    void findByPatient() {\n        //when\n\n        //Jwt Services\n        when(jwtDecoder.getPayloadAuthorization()).thenReturn(payload);\n\n        when(jwtServices.getDecoderJwt()).thenReturn(jwtData);\n\n        //PatientsImpl\n        when(patientServices.findByPatient(&quot;XXXX&quot;, &quot;XXXX&quot;, true)).thenReturn(dataResponse);\n        when(apiFaroRest.findPatient(dataPatient)).thenReturn(dataResponse);\n\n        //given\n        Map&lt;String, Object&gt; response = apiFaroRest.findPatient(dataPatient);\n\n        //then\n        assertTrue(response.containsKey(&quot;datosPersonales&quot;));\n        assertNotNull(response);\n       }\n\n}\n</code></pre>\n<p>Error:</p>\n<pre><code>org.mockito.exceptions.misusing.WrongTypeOfReturnValue: \nHashMap cannot be returned by getSub()\ngetSub() should return String\n***\nIf you're unsure why you're getting above error read on.\nDue to the nature of the syntax above problem might occur because:\n1. This exception *might* occur in wrongly written multi-threaded tests.\n   Please refer to Mockito FAQ on limitations of concurrency testing.\n2. A spy is stubbed using when(spy.foo()).then() syntax. It is safer to stub spies - \n   - with doReturn|Throw() family of methods. More in javadocs for Mockito.spy() method.\n\n</code></pre>\n<p>I don't understand what's going on.\nI don't understand why I get that return change when I'm specifying its return.\nThen, if I remove the jwtDecoder it returns null jwtService because it tries to call the jwtDecoder method and it doesn't &quot;exist&quot; but of course, if what I want is that the JwtServices checks its getDecoder method and I return it the Map&lt;String, String&gt; so that the main IMPL method can give me the OK.</p>\n"},{"tags":["java","foreach"],"comments":[{"owner":{"display_name":"user2030471"},"score":0,"creation_date":1381496354,"post_id":19318707,"comment_id":28613855,"body_markdown":"Why is the normal for (one with index variable) not good enough?","body":"Why is the normal for (one with index variable) not good enough?"},{"owner":{"account_id":2680659,"reputation":10169,"user_id":2316112,"accept_rate":70,"display_name":"Philipp Sander"},"score":0,"creation_date":1381496394,"post_id":19318707,"comment_id":28613883,"body_markdown":"consider a map. like hashmap","body":"consider a map. like hashmap"},{"owner":{"account_id":2583747,"reputation":3916,"user_id":2239897,"accept_rate":76,"display_name":"Stefan Winkler"},"score":0,"creation_date":1381496557,"post_id":19318707,"comment_id":28613984,"body_markdown":"It should be noted that it is not very nice design to keep things that have an association in separate arrays. Instead you should use a map or create a simple class with name and mark attributes and have a single array (or list) of these objects.","body":"It should be noted that it is not very nice design to keep things that have an association in separate arrays. Instead you should use a map or create a simple class with name and mark attributes and have a single array (or list) of these objects."},{"owner":{"account_id":2552155,"reputation":1265,"user_id":2215712,"accept_rate":75,"display_name":"TEK"},"score":0,"creation_date":1381497477,"post_id":19318707,"comment_id":28614624,"body_markdown":"These two arrays are working in parallel, and their only association is via the index (so you can&#39;t use an enhanced for loop because you need to know the index). Stefan rightly points out this is very bad design that offers so little flexibility I don&#39;t think it&#39;s ever used outside of arbitrary examples.","body":"These two arrays are working in parallel, and their only association is via the index (so you can&#39;t use an enhanced for loop because you need to know the index). Stefan rightly points out this is very bad design that offers so little flexibility I don&#39;t think it&#39;s ever used outside of arbitrary examples."},{"owner":{"account_id":367746,"reputation":24129,"user_id":714112,"accept_rate":80,"display_name":"Sridhar Sarnobat"},"score":3,"creation_date":1424396856,"post_id":19318707,"comment_id":45543221,"body_markdown":"Like the OP I&#39;m disappointed there&#39;s no smarter way of doing it such as `for(String s : studentNames, int g : grades) {...}`","body":"Like the OP I&#39;m disappointed there&#39;s no smarter way of doing it such as <code>for(String s : studentNames, int g : grades) {...}</code>"},{"owner":{"account_id":2306167,"reputation":3279,"user_id":2025416,"display_name":"Nils von Barth"},"score":0,"creation_date":1433479922,"post_id":19318707,"comment_id":49379617,"body_markdown":"possible duplicate of [Sexy way to iterate over parallel arrays in Java using foreach](http://stackoverflow.com/questions/5545584/sexy-way-to-iterate-over-parallel-arrays-in-java-using-foreach)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/5545584/sexy-way-to-iterate-over-parallel-arrays-in-java-using-foreach\">Sexy way to iterate over parallel arrays in Java using foreach</a>"}],"answers":[{"comments":[{"owner":{"account_id":2583747,"reputation":3916,"user_id":2239897,"accept_rate":76,"display_name":"Stefan Winkler"},"score":1,"creation_date":1381496444,"post_id":19318745,"comment_id":28613919,"body_markdown":"Agreed. There is no way to achieve this with the &quot;foreach&quot; variant of for.","body":"Agreed. There is no way to achieve this with the &quot;foreach&quot; variant of for."},{"owner":{"account_id":134022,"reputation":717193,"user_id":335858,"accept_rate":81,"display_name":"Sergey Kalinichenko"},"score":0,"creation_date":1381496563,"post_id":19318745,"comment_id":28613992,"body_markdown":"@StefanWinkler At least not without merging the students and their marks into a single object.","body":"@StefanWinkler At least not without merging the students and their marks into a single object."},{"owner":{"account_id":2680659,"reputation":10169,"user_id":2316112,"accept_rate":70,"display_name":"Philipp Sander"},"score":1,"creation_date":1381496620,"post_id":19318745,"comment_id":28614036,"body_markdown":"i&#39;d give +2 if i could. perfect answer + better solution","body":"i&#39;d give +2 if i could. perfect answer + better solution"},{"owner":{"account_id":2552155,"reputation":1265,"user_id":2215712,"accept_rate":75,"display_name":"TEK"},"score":0,"creation_date":1381497308,"post_id":19318745,"comment_id":28614506,"body_markdown":"I can&#39;t believe some educational institutions teach OO languages, then give examples like this out (re: OP). Objects first, surely? (+1 to this answer)","body":"I can&#39;t believe some educational institutions teach OO languages, then give examples like this out (re: OP). Objects first, surely? (+1 to this answer)"}],"tags":[],"owner":{"account_id":134022,"reputation":717193,"user_id":335858,"accept_rate":81,"display_name":"Sergey Kalinichenko"},"comment_count":4,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1381496293,"creation_date":1381496293,"answer_id":19318745,"question_id":19318707,"body_markdown":"You need to do it using the regular `for` loop with an index, like this:\r\n\r\n    if (marks.length != studentNames.length) {\r\n        ... // Something is wrong!\r\n    }\r\n    // This assumes that studentNames and marks have identical lengths\r\n    for (int i = 0 ; i != marks.length ; i++) {\r\n        System.out.println(studentNames[i]);\r\n        System.out.println(marks[i]);\r\n    }\r\n\r\nA better approach would be using a class to store a student along with his/her marks, like this:\r\n\r\n    class StudentMark {\r\n        private String name;\r\n        private int mark;\r\n        public StudentMark(String n, int m) {name=n; mark=m; }\r\n        public String getName() {return name;}\r\n        public int getMark() {return mark;}\r\n    }\r\n\r\n    for (StudentMark sm : arrayOfStudentsAndTheirMarks) {\r\n        System.out.println(sm.getName());\r\n        System.out.println(sm.getMark());\r\n    }","title":"Iterating over two arrays simultaneously using for each loop in Java","body":"<p>You need to do it using the regular <code>for</code> loop with an index, like this:</p>\n\n<pre><code>if (marks.length != studentNames.length) {\n    ... // Something is wrong!\n}\n// This assumes that studentNames and marks have identical lengths\nfor (int i = 0 ; i != marks.length ; i++) {\n    System.out.println(studentNames[i]);\n    System.out.println(marks[i]);\n}\n</code></pre>\n\n<p>A better approach would be using a class to store a student along with his/her marks, like this:</p>\n\n<pre><code>class StudentMark {\n    private String name;\n    private int mark;\n    public StudentMark(String n, int m) {name=n; mark=m; }\n    public String getName() {return name;}\n    public int getMark() {return mark;}\n}\n\nfor (StudentMark sm : arrayOfStudentsAndTheirMarks) {\n    System.out.println(sm.getName());\n    System.out.println(sm.getMark());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1790949,"reputation":77601,"user_id":1631379,"accept_rate":80,"display_name":"Maxim Shoustin"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1381496497,"creation_date":1381496361,"answer_id":19318768,"question_id":19318707,"body_markdown":"If them both have the same size, I would write:\r\n\r\n    for(int i = 0; i&lt;marks.length; i++) {\r\n        String names= studentNames[i]\r\n        int mark = marks[i];     \r\n       \r\n    }","title":"Iterating over two arrays simultaneously using for each loop in Java","body":"<p>If them both have the same size, I would write:</p>\n\n<pre><code>for(int i = 0; i&lt;marks.length; i++) {\n    String names= studentNames[i]\n    int mark = marks[i];     \n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":775068,"reputation":64803,"user_id":823393,"accept_rate":86,"display_name":"OldCurmudgeon"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1381496992,"creation_date":1381496992,"answer_id":19318997,"question_id":19318707,"body_markdown":"The underlying problem is actually that you should tie both of the arrays together and iterate across just one array.\r\n\r\nHere is a VERY simplistic demonstration - you should use getters and setters and you should also use a `List` instead of an array but this demonstrates the point:\r\n\r\n    class Student {\r\n      String name;\r\n      int mark;\r\n    }\r\n    Student[] students = new Student[10];\r\n\r\n    for (Student s : students) {\r\n      ...\r\n    }\r\n","title":"Iterating over two arrays simultaneously using for each loop in Java","body":"<p>The underlying problem is actually that you should tie both of the arrays together and iterate across just one array.</p>\n\n<p>Here is a VERY simplistic demonstration - you should use getters and setters and you should also use a <code>List</code> instead of an array but this demonstrates the point:</p>\n\n<pre><code>class Student {\n  String name;\n  int mark;\n}\nStudent[] students = new Student[10];\n\nfor (Student s : students) {\n  ...\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3036674,"reputation":4022,"user_id":2574612,"accept_rate":77,"display_name":"Nicholas Pipitone"},"score":0,"creation_date":1539293831,"post_id":52769219,"comment_id":92461222,"body_markdown":"You could just use a single variable `i`. There will never be a case where `i != j`. In which case, it&#39;s not verbose, and is honestly just the correct way to do it.","body":"You could just use a single variable <code>i</code>. There will never be a case where <code>i != j</code>. In which case, it&#39;s not verbose, and is honestly just the correct way to do it."}],"tags":[],"owner":{"account_id":14525765,"reputation":1,"user_id":10492107,"display_name":"Isaac Buziba"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1539293454,"creation_date":1539293454,"answer_id":52769219,"question_id":19318707,"body_markdown":"The other way is to use a verbose for loop statement such as;\r\n\r\n    int i,j;\r\n    for(i = 0, j=0; i&lt;= student.length-1 &amp;&amp; j &lt;=grades.length-1; i++,j++)\r\n    {\r\n    ...\r\n    }","title":"Iterating over two arrays simultaneously using for each loop in Java","body":"<p>The other way is to use a verbose for loop statement such as;</p>\n\n<pre><code>int i,j;\nfor(i = 0, j=0; i&lt;= student.length-1 &amp;&amp; j &lt;=grades.length-1; i++,j++)\n{\n...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4680926,"reputation":2259,"user_id":3789665,"accept_rate":57,"display_name":"greybeard"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691049805,"creation_date":1691049805,"answer_id":76826024,"question_id":19318707,"body_markdown":"Going with [Sergey Kalinichenko&#39;s *something is wrong*](https://stackoverflow.com/a/19318745):\r\n~~~\r\n    if (marks.length != studentNames.length) {\r\n        ... // Something is wrong!\r\n    }\r\n    Iterator&lt;Integer&gt; marks_ = java.util.Arrays.asList(marks).iterator();\r\n    // This assumes that studentNames is no longer than marks\r\n    for (String name: studentNames)\r\n        System.out.println(name + &quot;: &quot; + marks_.next());\r\n~~~","title":"Iterating over two arrays simultaneously using for each loop in Java","body":"<p>Going with <a href=\"https://stackoverflow.com/a/19318745\">Sergey Kalinichenko's <em>something is wrong</em></a>:</p>\n<pre><code>    if (marks.length != studentNames.length) {\n        ... // Something is wrong!\n    }\n    Iterator&lt;Integer&gt; marks_ = java.util.Arrays.asList(marks).iterator();\n    // This assumes that studentNames is no longer than marks\n    for (String name: studentNames)\n        System.out.println(name + &quot;: &quot; + marks_.next());\n</code></pre>\n"}],"owner":{"account_id":2875234,"reputation":2494,"user_id":2467482,"accept_rate":100,"display_name":"dev"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43314,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":19318997,"answer_count":5,"score":9,"last_activity_date":1691049805,"creation_date":1381496197,"question_id":19318707,"body_markdown":"Student&#39;s names(String[]) and corresponding marks(int[]) are stored in different arrays.\r\n\r\nHow may I iterate over both arrays together using for each loop in Java ? \r\n\r\n    void list() {\r\n    \r\n        for(String s:studentNames) {\r\n            System.out.println(s); //I want to print from marks[] alongside.\r\n        }\r\n    }\r\n\r\nOne trivial way could be using index variable in the same loop. Is there a good way to do?","title":"Iterating over two arrays simultaneously using for each loop in Java","body":"<p>Student's names(String[]) and corresponding marks(int[]) are stored in different arrays.</p>\n\n<p>How may I iterate over both arrays together using for each loop in Java ? </p>\n\n<pre><code>void list() {\n\n    for(String s:studentNames) {\n        System.out.println(s); //I want to print from marks[] alongside.\n    }\n}\n</code></pre>\n\n<p>One trivial way could be using index variable in the same loop. Is there a good way to do?</p>\n"},{"tags":["java","spring-boot","spring-security"],"comments":[{"owner":{"account_id":1042691,"reputation":536,"user_id":1048376,"display_name":"splashout"},"score":0,"creation_date":1691697131,"post_id":76824881,"comment_id":135530352,"body_markdown":"Are you doing anything about dispatcherType filtering? You might need to permitAll on FORWARD if using MVC. See https://docs.spring.io/spring-security/reference/5.8/migration/servlet/authorization.html#switch-filter-all-dispatcher-types and read down to the section &quot;Permit FORWARD when using Spring MVC&quot; (if you are using MVC) and add authorize.dispatcherTypeMatchers(DispatcherType.FORWARD).permitAll()","body":"Are you doing anything about dispatcherType filtering? You might need to permitAll on FORWARD if using MVC. See <a href=\"https://docs.spring.io/spring-security/reference/5.8/migration/servlet/authorization.html#switch-filter-all-dispatcher-types\" rel=\"nofollow noreferrer\">docs.spring.io/spring-security/reference/5.8/migration/servl&zwnj;&#8203;et/&hellip;</a> and read down to the section &quot;Permit FORWARD when using Spring MVC&quot; (if you are using MVC) and add authorize.dispatcherTypeMatchers(DispatcherType.FORWARD).per&zwnj;&#8203;mitAll()"}],"answers":[{"comments":[{"owner":{"account_id":1903898,"reputation":195,"user_id":1719133,"display_name":"ons1719133"},"score":0,"creation_date":1691047566,"post_id":76825041,"comment_id":135439131,"body_markdown":"Thank you very much for the answer. I can use method-level security, but I wonder why URL-based security is not working. I am using requestMatchers as antMatchers is deprecated in the spring-boot version I am using.","body":"Thank you very much for the answer. I can use method-level security, but I wonder why URL-based security is not working. I am using requestMatchers as antMatchers is deprecated in the spring-boot version I am using."}],"tags":[],"owner":{"account_id":3708341,"reputation":4302,"user_id":3086289,"accept_rate":100,"display_name":"Sangam Belose"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691039736,"creation_date":1691039736,"answer_id":76825041,"question_id":76824881,"body_markdown":"You are using both method-level security annotations (@PreAuthorize) and URL-based security rules. If you are using method-level security (@preAuthorize), the security checks are performed based on the expression specified in the annotation, and URL-based security rules defined in SecurityConfig may not have any effect on those methods.\r\n\r\nAlso the method level security is recommended to be applied in Service layer. [spring security docs][1]\r\n\r\nFor your security config try using antmatchers as below:\r\n\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http.cors().and().csrf().disable()\r\n                .authorizeRequests()\r\n                .antMatchers(&quot;/login/**&quot;).anonymous()\r\n                .antMatchers(&quot;/api/auth/**&quot;).permitAll()\r\n                .antMatchers(&quot;/api/test/**&quot;).permitAll()\r\n                .antMatchers(&quot;/api/common/**&quot;).hasAnyAuthority(&quot;ROLE_USER&quot;, &quot;ROLE_MODERATOR&quot;, &quot;ROLE_ADMIN&quot;)\r\n                .anyRequest().authenticated()\r\n                .and()\r\n                .httpBasic()\r\n                .and()\r\n                .sessionManagement()\r\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n        return http.build();\r\n    }\r\n\r\n  [1]: https://docs.spring.io/spring-security/site/faq/faq.html#faq-method-security-in-web-context\r\n","title":"Spring security requestMatchers with hasAnyAuthority or hasAnyRole not works as expected","body":"<p>You are using both method-level security annotations (@PreAuthorize) and URL-based security rules. If you are using method-level security (@preAuthorize), the security checks are performed based on the expression specified in the annotation, and URL-based security rules defined in SecurityConfig may not have any effect on those methods.</p>\n<p>Also the method level security is recommended to be applied in Service layer. <a href=\"https://docs.spring.io/spring-security/site/faq/faq.html#faq-method-security-in-web-context\" rel=\"nofollow noreferrer\">spring security docs</a></p>\n<p>For your security config try using antmatchers as below:</p>\n<pre><code>@Bean\npublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n    http.cors().and().csrf().disable()\n            .authorizeRequests()\n            .antMatchers(&quot;/login/**&quot;).anonymous()\n            .antMatchers(&quot;/api/auth/**&quot;).permitAll()\n            .antMatchers(&quot;/api/test/**&quot;).permitAll()\n            .antMatchers(&quot;/api/common/**&quot;).hasAnyAuthority(&quot;ROLE_USER&quot;, &quot;ROLE_MODERATOR&quot;, &quot;ROLE_ADMIN&quot;)\n            .anyRequest().authenticated()\n            .and()\n            .httpBasic()\n            .and()\n            .sessionManagement()\n            .sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n    return http.build();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23304576,"reputation":11,"user_id":17384726,"display_name":"Akul96"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691049677,"creation_date":1691049677,"answer_id":76826004,"question_id":76824881,"body_markdown":"This is not a complete answer to your question, but check my config. Also you can both have endpoint security and method level security, it is not an issue.\r\n\r\n    @Bean\r\n    SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception{\r\n        \r\n            http\r\n                .userDetailsService(jpaUserDetailsService)\r\n                .authorizeHttpRequests(auth -&gt; auth\r\n                                .requestMatchers(&quot;/h2-console/**&quot;).permitAll()\r\n                                .requestMatchers( &quot;/auth/**&quot;).permitAll()\r\n                                .requestMatchers(HttpMethod.POST, \r\n                                    &quot;/auth/**&quot;).permitAll()\r\n                                .anyRequest().authenticated()\r\n                )\r\n                .csrf(AbstractHttpConfigurer::disable) //to be able to use h2- \r\n                    //console and different domains with the login\r\n                .cors(cors -&gt; cors.configurationSource(corsConfigurationSource()))\r\n                .formLogin(Customizer.withDefaults())\r\n                .logout(logout -&gt; logout\r\n                    .logoutUrl(&quot;/logout&quot;)\r\n                    .invalidateHttpSession(true)\r\n                    .logoutSuccessUrl(&quot;/auth/login&quot;)\r\n                )\r\n                .headers(headers -&gt; headers \r\n                     .frameOptions(FrameOptionsConfig::disable)) //to be able to use \r\n                       //h2-console\r\n                .sessionManagement((sessionManagement) -&gt; sessionManagement\r\n                     .sessionConcurrency((sessionConcurrency) -&gt;\r\n                         sessionConcurrency\r\n                             //.maximumSessions(1)\r\n                             //.maxSessionsPreventsLogin(true)\r\n                             .expiredUrl(&quot;/auth/login?invalid-session=true&quot;)\r\n                             .sessionRegistry(sessionRegistry())\r\n                     )\r\n                     // Set the custom session repository here\r\n                     //.sessionRepository(customSessionRepository()) // Inject your \r\n                        //custom session repository\r\n                );\r\n\r\n                //http.authenticationProvider(authProvider());\r\n                \r\n        return  http.build();\r\n    }\r\n\r\nAnd here is an example if you want to secure an endpoint based on roles, it is better to use it in the class:\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/manage-users&quot;)\r\n    @PreAuthorize(&quot;hasAuthority(&#39;ADMIN&#39;)&quot;)\r\n    public class UsersController{\r\n         //some code\r\n    }\r\n\r\nAnd for method level:\r\n\r\n    @GetMapping(&quot;/new&quot;)\r\n    @PreAuthorize(&quot;hasAuthority(&#39;ADMIN&#39;)&quot;)\r\n    public String showRegistrationForm() {\r\n        return &quot;registrationForm&quot;;\r\n    }","title":"Spring security requestMatchers with hasAnyAuthority or hasAnyRole not works as expected","body":"<p>This is not a complete answer to your question, but check my config. Also you can both have endpoint security and method level security, it is not an issue.</p>\n<pre><code>@Bean\nSecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception{\n    \n        http\n            .userDetailsService(jpaUserDetailsService)\n            .authorizeHttpRequests(auth -&gt; auth\n                            .requestMatchers(&quot;/h2-console/**&quot;).permitAll()\n                            .requestMatchers( &quot;/auth/**&quot;).permitAll()\n                            .requestMatchers(HttpMethod.POST, \n                                &quot;/auth/**&quot;).permitAll()\n                            .anyRequest().authenticated()\n            )\n            .csrf(AbstractHttpConfigurer::disable) //to be able to use h2- \n                //console and different domains with the login\n            .cors(cors -&gt; cors.configurationSource(corsConfigurationSource()))\n            .formLogin(Customizer.withDefaults())\n            .logout(logout -&gt; logout\n                .logoutUrl(&quot;/logout&quot;)\n                .invalidateHttpSession(true)\n                .logoutSuccessUrl(&quot;/auth/login&quot;)\n            )\n            .headers(headers -&gt; headers \n                 .frameOptions(FrameOptionsConfig::disable)) //to be able to use \n                   //h2-console\n            .sessionManagement((sessionManagement) -&gt; sessionManagement\n                 .sessionConcurrency((sessionConcurrency) -&gt;\n                     sessionConcurrency\n                         //.maximumSessions(1)\n                         //.maxSessionsPreventsLogin(true)\n                         .expiredUrl(&quot;/auth/login?invalid-session=true&quot;)\n                         .sessionRegistry(sessionRegistry())\n                 )\n                 // Set the custom session repository here\n                 //.sessionRepository(customSessionRepository()) // Inject your \n                    //custom session repository\n            );\n\n            //http.authenticationProvider(authProvider());\n            \n    return  http.build();\n}\n</code></pre>\n<p>And here is an example if you want to secure an endpoint based on roles, it is better to use it in the class:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/manage-users&quot;)\n@PreAuthorize(&quot;hasAuthority('ADMIN')&quot;)\npublic class UsersController{\n     //some code\n}\n</code></pre>\n<p>And for method level:</p>\n<pre><code>@GetMapping(&quot;/new&quot;)\n@PreAuthorize(&quot;hasAuthority('ADMIN')&quot;)\npublic String showRegistrationForm() {\n    return &quot;registrationForm&quot;;\n}\n</code></pre>\n"}],"owner":{"account_id":1903898,"reputation":195,"user_id":1719133,"display_name":"ons1719133"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":740,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1691049677,"creation_date":1691036463,"question_id":76824881,"body_markdown":"In my Spring boot application, I am using the below version in pom.xml. Java version is 17.\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.4&lt;/version&gt;\r\n        &lt;relativePath/&gt; \r\n    &lt;/parent&gt;\r\n\r\nMy controller class,\r\n\r\n    @CrossOrigin(origins = &quot;*&quot;, maxAge = 3600)\r\n    @RestController\r\n    @RequestMapping(&quot;/api/common&quot;)\r\n    public class CommonController {\r\n\r\n      @GetMapping(&quot;/dashboard&quot;)\r\n      @PreAuthorize(&quot;hasRole(&#39;ROLE_MODERATOR&#39;) or hasRole(&#39;ROLE_ADMIN&#39;)&quot;)\r\n      public String userAccess() {\r\n        return &quot;Dash Board Sample.&quot;;\r\n      }\r\n    }\r\n\r\nAlthough I am using @PreAuthorize at the method level, I want to limit access for the url pattern **/api/common/**** to allow only users having the roles &quot;ROLE_USER&quot; or &quot;ROLE_MODERATOR&quot; or &quot;ROLE_ADMIN&quot;. But it is not working and giving me 401 when using hasAnyAuthority or hasAnyRole in the filter chain.\r\n\r\nHere is my entire SecurityConfig class and I am using the filter chain as follows.\r\n\r\n    import com.example.authservicedemo.security.jwt.AuthTokenFilter;\r\n    import com.example.authservicedemo.security.services.UserDetailsServiceImpl;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.security.authentication.AuthenticationManager;\r\n    import org.springframework.security.authentication.dao.DaoAuthenticationProvider;\r\n    import org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration;\r\n    import org.springframework.security.config.annotation.method.configuration.EnableMethodSecurity;\r\n    import org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.WebSecurityCustomizer;\r\n    import org.springframework.security.config.http.SessionCreationPolicy;\r\n    import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\n    import org.springframework.security.crypto.password.PasswordEncoder;\r\n    import org.springframework.security.web.SecurityFilterChain;\r\n    \r\n    @Configuration\r\n    @EnableWebSecurity\r\n    @EnableMethodSecurity(prePostEnabled = true, securedEnabled = true, jsr250Enabled = true)\r\n    public class SecurityConfig {\r\n    \r\n        @Value(&quot;${spring.security.debug:false}&quot;)\r\n        boolean securityDebug;\r\n    \r\n        @Autowired\r\n        UserDetailsServiceImpl userDetailsService;\r\n    \r\n        @Bean\r\n        public AuthTokenFilter authenticationJwtTokenFilter() {\r\n            return new AuthTokenFilter();\r\n        }\r\n    \r\n        @Bean\r\n        public DaoAuthenticationProvider authenticationProvider() {\r\n            DaoAuthenticationProvider authProvider = new DaoAuthenticationProvider();\r\n            authProvider.setUserDetailsService(userDetailsService);\r\n            authProvider.setPasswordEncoder(passwordEncoder());\r\n            return authProvider;\r\n        }\r\n    \r\n        @Bean\r\n        public AuthenticationManager authenticationManager(AuthenticationConfiguration authConfig) throws Exception {\r\n            return authConfig.getAuthenticationManager();\r\n        }\r\n    \r\n        @Bean\r\n        public PasswordEncoder passwordEncoder() {\r\n            return new BCryptPasswordEncoder();\r\n        }\r\n    \r\n        @Bean\r\n        public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n            http.cors().and().csrf().disable()\r\n                    .authorizeHttpRequests()\r\n                    .requestMatchers(&quot;/login/**&quot;)\r\n                    .anonymous()\r\n                    .requestMatchers(&quot;/api/auth/**&quot;).permitAll()\r\n                    .requestMatchers(&quot;/api/test/**&quot;).permitAll()\r\n                    //.requestMatchers(&quot;/api/common/**&quot;).permitAll()\r\n                    .requestMatchers(&quot;/api/common/**&quot;).hasAnyAuthority(&quot;ROLE_USER&quot;, &quot;ROLE_MODERATOR&quot;, &quot;ROLE_ADMIN&quot;)\r\n                     //.requestMatchers(&quot;/api/common/**&quot;) .hasAnyRole(&quot;USER&quot;, &quot;MODERATOR&quot;, &quot;ADMIN&quot;)\r\n                    .anyRequest()\r\n                    .authenticated()\r\n                    .and()\r\n                    .httpBasic()\r\n                    .and()\r\n                    .sessionManagement()\r\n                    .sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n            return http.build();\r\n        }\r\n    \r\n        @Bean\r\n        public WebSecurityCustomizer webSecurityCustomizer() {\r\n            return (web) -&gt; web.debug(securityDebug)\r\n                    .ignoring()\r\n                    .requestMatchers(&quot;/css/**&quot;, &quot;/js/**&quot;, &quot;/img/**&quot;, &quot;/lib/**&quot;, &quot;/favicon.ico&quot;);\r\n        }\r\n    }\r\n\r\nBut it gives me 401 error when I access the API.\r\n\r\n        curl --location &#39;http://localhost:8080/api/common/dashboard&#39; \\\r\n    --header &#39;Authorization: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTY5MTAzNDk4OSwiZXhwIjoxNjkxMTIxMzg5LCJyb2xlcyI6WyJQXzEiLCJQXzMiLCJBXzEiLCJBXzIiLCJBXzMiLCJBXzQiLCJBXzUiLCJST0xFX0FETUlOIl19.8Fp6OPBMsredmLEi2RdB0Bkg0Oa1S_k869mx25CJxEjD01ePys7J7E7mWHRmeeKFMX_ybeDpdK_5loT26eBMAQ&#39;\r\n\r\nWhen I uncomment the line **.requestMatchers(&quot;/api/common/**&quot;).permitAll()** this works well with the method level security @PreAuthorize.\r\nSo, how can I limit access to specific URL patterns for users with specific roles?\r\n\r\nI cannot figure out what I am doing wrong. Your response would be really appreciated.\r\n","title":"Spring security requestMatchers with hasAnyAuthority or hasAnyRole not works as expected","body":"<p>In my Spring boot application, I am using the below version in pom.xml. Java version is 17.</p>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;3.0.4&lt;/version&gt;\n    &lt;relativePath/&gt; \n&lt;/parent&gt;\n</code></pre>\n<p>My controller class,</p>\n<pre><code>@CrossOrigin(origins = &quot;*&quot;, maxAge = 3600)\n@RestController\n@RequestMapping(&quot;/api/common&quot;)\npublic class CommonController {\n\n  @GetMapping(&quot;/dashboard&quot;)\n  @PreAuthorize(&quot;hasRole('ROLE_MODERATOR') or hasRole('ROLE_ADMIN')&quot;)\n  public String userAccess() {\n    return &quot;Dash Board Sample.&quot;;\n  }\n}\n</code></pre>\n<p>Although I am using @PreAuthorize at the method level, I want to limit access for the url pattern <strong>/api/common/</strong>** to allow only users having the roles &quot;ROLE_USER&quot; or &quot;ROLE_MODERATOR&quot; or &quot;ROLE_ADMIN&quot;. But it is not working and giving me 401 when using hasAnyAuthority or hasAnyRole in the filter chain.</p>\n<p>Here is my entire SecurityConfig class and I am using the filter chain as follows.</p>\n<pre><code>import com.example.authservicedemo.security.jwt.AuthTokenFilter;\nimport com.example.authservicedemo.security.services.UserDetailsServiceImpl;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.authentication.dao.DaoAuthenticationProvider;\nimport org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration;\nimport org.springframework.security.config.annotation.method.configuration.EnableMethodSecurity;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityCustomizer;\nimport org.springframework.security.config.http.SessionCreationPolicy;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.security.web.SecurityFilterChain;\n\n@Configuration\n@EnableWebSecurity\n@EnableMethodSecurity(prePostEnabled = true, securedEnabled = true, jsr250Enabled = true)\npublic class SecurityConfig {\n\n    @Value(&quot;${spring.security.debug:false}&quot;)\n    boolean securityDebug;\n\n    @Autowired\n    UserDetailsServiceImpl userDetailsService;\n\n    @Bean\n    public AuthTokenFilter authenticationJwtTokenFilter() {\n        return new AuthTokenFilter();\n    }\n\n    @Bean\n    public DaoAuthenticationProvider authenticationProvider() {\n        DaoAuthenticationProvider authProvider = new DaoAuthenticationProvider();\n        authProvider.setUserDetailsService(userDetailsService);\n        authProvider.setPasswordEncoder(passwordEncoder());\n        return authProvider;\n    }\n\n    @Bean\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authConfig) throws Exception {\n        return authConfig.getAuthenticationManager();\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http.cors().and().csrf().disable()\n                .authorizeHttpRequests()\n                .requestMatchers(&quot;/login/**&quot;)\n                .anonymous()\n                .requestMatchers(&quot;/api/auth/**&quot;).permitAll()\n                .requestMatchers(&quot;/api/test/**&quot;).permitAll()\n                //.requestMatchers(&quot;/api/common/**&quot;).permitAll()\n                .requestMatchers(&quot;/api/common/**&quot;).hasAnyAuthority(&quot;ROLE_USER&quot;, &quot;ROLE_MODERATOR&quot;, &quot;ROLE_ADMIN&quot;)\n                 //.requestMatchers(&quot;/api/common/**&quot;) .hasAnyRole(&quot;USER&quot;, &quot;MODERATOR&quot;, &quot;ADMIN&quot;)\n                .anyRequest()\n                .authenticated()\n                .and()\n                .httpBasic()\n                .and()\n                .sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n        return http.build();\n    }\n\n    @Bean\n    public WebSecurityCustomizer webSecurityCustomizer() {\n        return (web) -&gt; web.debug(securityDebug)\n                .ignoring()\n                .requestMatchers(&quot;/css/**&quot;, &quot;/js/**&quot;, &quot;/img/**&quot;, &quot;/lib/**&quot;, &quot;/favicon.ico&quot;);\n    }\n}\n</code></pre>\n<p>But it gives me 401 error when I access the API.</p>\n<pre><code>    curl --location 'http://localhost:8080/api/common/dashboard' \\\n--header 'Authorization: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTY5MTAzNDk4OSwiZXhwIjoxNjkxMTIxMzg5LCJyb2xlcyI6WyJQXzEiLCJQXzMiLCJBXzEiLCJBXzIiLCJBXzMiLCJBXzQiLCJBXzUiLCJST0xFX0FETUlOIl19.8Fp6OPBMsredmLEi2RdB0Bkg0Oa1S_k869mx25CJxEjD01ePys7J7E7mWHRmeeKFMX_ybeDpdK_5loT26eBMAQ'\n</code></pre>\n<p>When I uncomment the line <strong>.requestMatchers(&quot;/api/common/</strong>&quot;).permitAll()** this works well with the method level security @PreAuthorize.\nSo, how can I limit access to specific URL patterns for users with specific roles?</p>\n<p>I cannot figure out what I am doing wrong. Your response would be really appreciated.</p>\n"},{"tags":["java","amazon-web-services","amazon-dynamodb"],"answers":[{"tags":[],"owner":{"account_id":10749774,"reputation":14484,"user_id":7909676,"display_name":"Leeroy Hannigan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691049178,"creation_date":1691049178,"answer_id":76825945,"question_id":76824636,"body_markdown":"Unfortunately this is not possible with this specific client today, as it&#39;s a new release and only released to the low level clients initially. \r\n\r\nWhile I can&#39;t speak directly for the SDK team, I would be skeptical that it would be added to this library as it is based on SDK V1 while it&#39;s suggested that users should migrate to SDK V2 libraries where features will be more likely to be implemented. ","title":"DynamoDB UpdateItem to use ReturnValuesOnConditionCheckFailure with UpdateItemSpec","body":"<p>Unfortunately this is not possible with this specific client today, as it's a new release and only released to the low level clients initially.</p>\n<p>While I can't speak directly for the SDK team, I would be skeptical that it would be added to this library as it is based on SDK V1 while it's suggested that users should migrate to SDK V2 libraries where features will be more likely to be implemented.</p>\n"}],"owner":{"account_id":28576739,"reputation":224,"user_id":21878238,"display_name":"Bolong"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":229,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691049178,"creation_date":1691031376,"question_id":76824636,"body_markdown":"We have some existing code that calls DynamoDB using this &quot;medium-level&quot; Java client, and the arguments are provided through this spec class: https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/dynamodbv2/document/spec/UpdateItemSpec.html. You can find many examples of how this is used [here](http://www.java2s.com/example/java-api/com/amazonaws/services/dynamodbv2/document/spec/updateitemspec/updateitemspec-0-1.html). For example:\r\n\r\n```java\r\n@Override\r\npublic void announce(long stateVersion) {\r\n    Table table = dynamoDB.getTable(tableName);\r\n\r\n    UpdateItemSpec updateItemSpec = new UpdateItemSpec().withPrimaryKey(&quot;namespace&quot;, blobNamespace)\r\n            .withUpdateExpression(&quot;set #version = :ver&quot;).withNameMap(new NameMap().with(&quot;#version&quot;, &quot;version&quot;))\r\n            .withValueMap(new ValueMap().withNumber(&quot;:ver&quot;, stateVersion));\r\n\r\n    table.updateItem(updateItemSpec);\r\n}\r\n```\r\n\r\nRecently DynamoDB added a feature that allows UpdateItem to return the old item data in the case of conditional check failures, by providing this arg in UpdateItem request: `ReturnValuesOnConditionCheckFailure`, see https://docs.aws.amazon.com/amazondynamodb/latest/APIReference/API_UpdateItem.html.\r\n\r\nHow should I use this in `UpdateItemSpec`?\r\n\r\nI did not find documentation for this so there is nothing I can try. My goal is to be able to use `ReturnValuesOnConditionCheckFailure` for debugging purpose when conditional failures happen. I&#39;d like to know if it is possible to achieve this without switching to the low-level client that uses `UpdateItemRequest` instead of `UpdateItemSpec`. Also, if possible, does DynamoDB plan to update this `UpdateItemSpec` to support this.","title":"DynamoDB UpdateItem to use ReturnValuesOnConditionCheckFailure with UpdateItemSpec","body":"<p>We have some existing code that calls DynamoDB using this &quot;medium-level&quot; Java client, and the arguments are provided through this spec class: <a href=\"https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/dynamodbv2/document/spec/UpdateItemSpec.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/dynamodbv2/document/spec/UpdateItemSpec.html</a>. You can find many examples of how this is used <a href=\"http://www.java2s.com/example/java-api/com/amazonaws/services/dynamodbv2/document/spec/updateitemspec/updateitemspec-0-1.html\" rel=\"nofollow noreferrer\">here</a>. For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic void announce(long stateVersion) {\n    Table table = dynamoDB.getTable(tableName);\n\n    UpdateItemSpec updateItemSpec = new UpdateItemSpec().withPrimaryKey(&quot;namespace&quot;, blobNamespace)\n            .withUpdateExpression(&quot;set #version = :ver&quot;).withNameMap(new NameMap().with(&quot;#version&quot;, &quot;version&quot;))\n            .withValueMap(new ValueMap().withNumber(&quot;:ver&quot;, stateVersion));\n\n    table.updateItem(updateItemSpec);\n}\n</code></pre>\n<p>Recently DynamoDB added a feature that allows UpdateItem to return the old item data in the case of conditional check failures, by providing this arg in UpdateItem request: <code>ReturnValuesOnConditionCheckFailure</code>, see <a href=\"https://docs.aws.amazon.com/amazondynamodb/latest/APIReference/API_UpdateItem.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/amazondynamodb/latest/APIReference/API_UpdateItem.html</a>.</p>\n<p>How should I use this in <code>UpdateItemSpec</code>?</p>\n<p>I did not find documentation for this so there is nothing I can try. My goal is to be able to use <code>ReturnValuesOnConditionCheckFailure</code> for debugging purpose when conditional failures happen. I'd like to know if it is possible to achieve this without switching to the low-level client that uses <code>UpdateItemRequest</code> instead of <code>UpdateItemSpec</code>. Also, if possible, does DynamoDB plan to update this <code>UpdateItemSpec</code> to support this.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":69149,"reputation":233552,"user_id":201359,"accept_rate":100,"display_name":"&#211;scar L&#243;pez"},"score":3,"creation_date":1690983335,"post_id":76820411,"comment_id":135428876,"body_markdown":"Maybe you&#39;re looking for the word &quot;locked&quot; instead of &quot;opened&quot;?","body":"Maybe you&#39;re looking for the word &quot;locked&quot; instead of &quot;opened&quot;?"},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":5,"creation_date":1690983408,"post_id":76820411,"comment_id":135428904,"body_markdown":"It depends on the file system. All major file system _except_ the common one used by the Microsoft Windows OS simply do not have this as a concept. Yes, there&#39;s such a thing as &#39;file is open&#39;, but you can delete, change, etc an opened file just fine. Hence, &#39;independent of operating system&#39; is a bizarre rider here - __if__ you work on the presumption &#39;open file = can&#39;t delete&#39;, which doesn&#39;t hold across OSes.","body":"It depends on the file system. All major file system <i>except</i> the common one used by the Microsoft Windows OS simply do not have this as a concept. Yes, there&#39;s such a thing as &#39;file is open&#39;, but you can delete, change, etc an opened file just fine. Hence, &#39;independent of operating system&#39; is a bizarre rider here - <b>if</b> you work on the presumption &#39;open file = can&#39;t delete&#39;, which doesn&#39;t hold across OSes."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":3,"creation_date":1690984548,"post_id":76820411,"comment_id":135429218,"body_markdown":"The answer for this in Java is more than likely to .... not use Java. You&#39;d be writing a native hook one way or another (JNI/JNA to access Windows&#39; header files, or `flock`/other options on *nix). `nio` has `FileChannel` and consequently `FileLock`, but this won&#39;t necessarily be respected by the entire OS for every OS. Overall this reads like an [XY Problem](https://xyproblem.info/): why do you need to do this?","body":"The answer for this in Java is more than likely to .... not use Java. You&#39;d be writing a native hook one way or another (JNI/JNA to access Windows&#39; header files, or <code>flock</code>/other options on *nix). <code>nio</code> has <code>FileChannel</code> and consequently <code>FileLock</code>, but this won&#39;t necessarily be respected by the entire OS for every OS. Overall this reads like an <a href=\"https://xyproblem.info/\" rel=\"nofollow noreferrer\">XY Problem</a>: why do you need to do this?"},{"owner":{"account_id":187094,"reputation":5113,"user_id":424903,"display_name":"Gimby"},"score":1,"creation_date":1690984708,"post_id":76820411,"comment_id":135429265,"body_markdown":"The File class has some methods which can provide a hint (canRead(), canWrite()), but as other said there is no fool proof way. The &quot;best&quot; way to deal with the possibility of files being locked or inaccessible due to user rights is to be reactive - proper error handling. Assume every file operation can fail.","body":"The File class has some methods which can provide a hint (canRead(), canWrite()), but as other said there is no fool proof way. The &quot;best&quot; way to deal with the possibility of files being locked or inaccessible due to user rights is to be reactive - proper error handling. Assume every file operation can fail."},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1690985665,"post_id":76820411,"comment_id":135429517,"body_markdown":"Similar methods are present in `java.nio.file.Files`, those are `isWritable(Path)`, `isReadable(path)` and several more. Try them on windows…","body":"Similar methods are present in <code>java.nio.file.Files</code>, those are <code>isWritable(Path)</code>, <code>isReadable(path)</code> and several more. Try them on windows…"},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":1,"creation_date":1690985854,"post_id":76820411,"comment_id":135429574,"body_markdown":"What are you trying to do? Why do you need to find all open / locked files? Sounds a bit like a [xy problem](https://xyproblem.info/).","body":"What are you trying to do? Why do you need to find all open / locked files? Sounds a bit like a <a href=\"https://xyproblem.info/\" rel=\"nofollow noreferrer\">xy problem</a>."},{"owner":{"account_id":14851115,"reputation":546,"user_id":10725037,"display_name":"Natasha"},"score":0,"creation_date":1691000720,"post_id":76820411,"comment_id":135432762,"body_markdown":"Thanks for all your comments. I&#39;ve added a little explanation of the reason for my question to the description.","body":"Thanks for all your comments. I&#39;ve added a little explanation of the reason for my question to the description."},{"owner":{"account_id":187094,"reputation":5113,"user_id":424903,"display_name":"Gimby"},"score":1,"creation_date":1691061128,"post_id":76820411,"comment_id":135442028,"body_markdown":"I wouldn&#39;t really know exactly how to make one so I can&#39;t answer, but if you look at the most prolific Java application of all - Minecraft Java Edition, it uses a separate launcher application which will manage downloading and applying updates. To do such a thing in Java I guess it would involve writing a small wrapper application which can fork the actual main Java application as a new process. If you can start and stop the process programmatically you do not even have to worry about system resources being locked or not.","body":"I wouldn&#39;t really know exactly how to make one so I can&#39;t answer, but if you look at the most prolific Java application of all - Minecraft Java Edition, it uses a separate launcher application which will manage downloading and applying updates. To do such a thing in Java I guess it would involve writing a small wrapper application which can fork the actual main Java application as a new process. If you can start and stop the process programmatically you do not even have to worry about system resources being locked or not."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":1,"creation_date":1691066609,"post_id":76820411,"comment_id":135443214,"body_markdown":"In fact, at least at one time, if the Minecraft launcher hit a locked file it couldn&#39;t delete, it would show an error to the user (usually along the lines of &quot;Minecraft is currently running&quot;). There&#39;s no need there for the check, you simply respond to the error conditions.","body":"In fact, at least at one time, if the Minecraft launcher hit a locked file it couldn&#39;t delete, it would show an error to the user (usually along the lines of &quot;Minecraft is currently running&quot;). There&#39;s no need there for the check, you simply respond to the error conditions."}],"owner":{"account_id":14851115,"reputation":546,"user_id":10725037,"display_name":"Natasha"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1691049035,"creation_date":1690983051,"question_id":76820411,"body_markdown":"What is the best way in Java to find out whether any file of a certain directory (including subdirectories) is open? I&#39;m not really sure whether &quot;open&quot; is the best expression for what I mean, I mean I cannot delete, rename or write that file because someone else has already &quot;locked&quot; it. Of course the solution should work independent of the operating system. \r\n\r\nThe reason why I need is because I have a Java Desktop-App (developed using Swing) which shall provide an auto-update feature. Therefore the app shall download a zip file from an HTTP server and try to unpack the zip to the app directory. At least under Windows that&#39;s not easily possible because the jar files of the app cannot be overwritten while the app itself is running. Therefore the update files will first be unzipped to a temp folder, the app will then be rerun in that temp folder and copies the contents of the temp folder to the app directory. After that the app will be rerun again in the app folder.\r\n\r\nNow the problem: Before the contents of the temp folder are copied to the app folder it would be great to check whether all files in the app folder can potentially be overwritten. And that&#39;s why I have asked the question above. I know that even if such a check is possible it is not a 100% guarantee that the copy process will succeed, but at least would be a quite high chance that it will succeed.","title":"How can I find out in Java whether any file of a certain directory is open?","body":"<p>What is the best way in Java to find out whether any file of a certain directory (including subdirectories) is open? I'm not really sure whether &quot;open&quot; is the best expression for what I mean, I mean I cannot delete, rename or write that file because someone else has already &quot;locked&quot; it. Of course the solution should work independent of the operating system.</p>\n<p>The reason why I need is because I have a Java Desktop-App (developed using Swing) which shall provide an auto-update feature. Therefore the app shall download a zip file from an HTTP server and try to unpack the zip to the app directory. At least under Windows that's not easily possible because the jar files of the app cannot be overwritten while the app itself is running. Therefore the update files will first be unzipped to a temp folder, the app will then be rerun in that temp folder and copies the contents of the temp folder to the app directory. After that the app will be rerun again in the app folder.</p>\n<p>Now the problem: Before the contents of the temp folder are copied to the app folder it would be great to check whether all files in the app folder can potentially be overwritten. And that's why I have asked the question above. I know that even if such a check is possible it is not a 100% guarantee that the copy process will succeed, but at least would be a quite high chance that it will succeed.</p>\n"},{"tags":["java","spring-boot","amazon-ec2","port"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1691049457,"post_id":76825932,"comment_id":135439554,"body_markdown":"How are you deploying to AWS? Are yo using the embedded container or are you uploading a war file and use a standalone servlet container? If it is the latter the `server.*` properties are ignored as Spring Boot cannot control an external servlet container instance.","body":"How are you deploying to AWS? Are yo using the embedded container or are you uploading a war file and use a standalone servlet container? If it is the latter the <code>server.*</code> properties are ignored as Spring Boot cannot control an external servlet container instance."},{"owner":{"account_id":29068972,"reputation":69,"user_id":22267832,"display_name":"Yu Xing"},"score":0,"creation_date":1691050968,"post_id":76825932,"comment_id":135439858,"body_markdown":"I am deploying my Spring Boot application to AWS by using a self-contained JAR file that includes an embedded servlet container, and running it using the java -jar command.","body":"I am deploying my Spring Boot application to AWS by using a self-contained JAR file that includes an embedded servlet container, and running it using the java -jar command."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1691051587,"post_id":76825932,"comment_id":135439978,"body_markdown":"Do you see the application being started with port 8081? Or can you access it on 8080 when you set `server.port=8081`? Just to check if it gets overridden by something else.","body":"Do you see the application being started with port 8081? Or can you access it on 8080 when you set <code>server.port=8081</code>? Just to check if it gets overridden by something else."},{"owner":{"account_id":29068972,"reputation":69,"user_id":22267832,"display_name":"Yu Xing"},"score":0,"creation_date":1691054478,"post_id":76825932,"comment_id":135440605,"body_markdown":"I use `java -jar xxx.jar --server.port=8081` and it shows `Tomcat started on port(s): 8081 (http) with context path &#39;&#39;` in the log. But still can&#39;t connect neither 8080 nor 8081 using Postman. When I start the same jar package on my machine, 8080 and 8081 are both OK.","body":"I use <code>java -jar xxx.jar --server.port=8081</code> and it shows <code>Tomcat started on port(s): 8081 (http) with context path &#39;&#39;</code> in the log. But still can&#39;t connect neither 8080 nor 8081 using Postman. When I start the same jar package on my machine, 8080 and 8081 are both OK."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1691054594,"post_id":76825932,"comment_id":135440629,"body_markdown":"Then it must be something in the routing/firewall rules on AWS as the app starts and apparently nothing is overriding the port so it starts on the configured one.","body":"Then it must be something in the routing/firewall rules on AWS as the app starts and apparently nothing is overriding the port so it starts on the configured one."},{"owner":{"account_id":29068972,"reputation":69,"user_id":22267832,"display_name":"Yu Xing"},"score":0,"creation_date":1691056761,"post_id":76825932,"comment_id":135441148,"body_markdown":"Now I edit `/etc/sysconfig/iptables` and add 8081 to the list, and it works. Thanks for help","body":"Now I edit <code>&#47;etc&#47;sysconfig&#47;iptables</code> and add 8081 to the list, and it works. Thanks for help"}],"owner":{"account_id":29068972,"reputation":69,"user_id":22267832,"display_name":"Yu Xing"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":184,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691048986,"creation_date":1691048986,"question_id":76825932,"body_markdown":"I have a Spring Boot backend application that by default runs on port 8080. I&#39;ve changed the port to 8081 in the `application.properties` file and it works perfectly on my local machine. I can successfully access my application&#39;s endpoints, such as `http://localhost:8081/login/go`, using Postman.\r\n\r\nHowever, when I deploy the same application to an AWS EC2 instance and try to access the same endpoint (replacing localhost with the EC2 instance&#39;s public IP, `http://16.163.58.122:8081/login/go`), I&#39;m unable to reach it. There are no logs indicating that the server has received the request from Postman. \r\n\r\nInterestingly, if I change the port back to 8080 and try to access the endpoint `http://16.163.58.122:8080/login/go`, I&#39;m able to reach the server&#39;s login interface again.\r\n\r\n\r\n\r\n\r\nAnd it seems that the security group permits 8081 port\r\n[![enter image description here](https://i.stack.imgur.com/stHMK.png)](https://i.stack.imgur.com/stHMK.png)\r\nPort seems not being used by any other process.\r\n[![enter image description here](https://i.stack.imgur.com/VFJNK.png)](https://i.stack.imgur.com/VFJNK.png)\r\nAnd I tried other different port, seems only 8080 can connect.\r\nI&#39;m not sure why this is happening. Any help would be greatly appreciated.","title":"Spring Boot application port change works locally but not on AWS EC2","body":"<p>I have a Spring Boot backend application that by default runs on port 8080. I've changed the port to 8081 in the <code>application.properties</code> file and it works perfectly on my local machine. I can successfully access my application's endpoints, such as <code>http://localhost:8081/login/go</code>, using Postman.</p>\n<p>However, when I deploy the same application to an AWS EC2 instance and try to access the same endpoint (replacing localhost with the EC2 instance's public IP, <code>http://16.163.58.122:8081/login/go</code>), I'm unable to reach it. There are no logs indicating that the server has received the request from Postman.</p>\n<p>Interestingly, if I change the port back to 8080 and try to access the endpoint <code>http://16.163.58.122:8080/login/go</code>, I'm able to reach the server's login interface again.</p>\n<p>And it seems that the security group permits 8081 port\n<a href=\"https://i.stack.imgur.com/stHMK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/stHMK.png\" alt=\"enter image description here\" /></a>\nPort seems not being used by any other process.\n<a href=\"https://i.stack.imgur.com/VFJNK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VFJNK.png\" alt=\"enter image description here\" /></a>\nAnd I tried other different port, seems only 8080 can connect.\nI'm not sure why this is happening. Any help would be greatly appreciated.</p>\n"},{"tags":["java","arrays","hex"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":17,"creation_date":1331471343,"post_id":9655181,"comment_id":12260731,"body_markdown":"Why not just give it a try first and show us what you&#39;ve got. You&#39;ve nothing to lose and all to gain. Integer has a `toHexString(...)` method that may help if this is what you&#39;re looking for. Also `String.format(...)` can do some neat formatting tricks using the `%2x` code string.","body":"Why not just give it a try first and show us what you&#39;ve got. You&#39;ve nothing to lose and all to gain. Integer has a <code>toHexString(...)</code> method that may help if this is what you&#39;re looking for. Also <code>String.format(...)</code> can do some neat formatting tricks using the <code>%2x</code> code string."},{"owner":{"account_id":228743,"reputation":10672,"user_id":491245,"accept_rate":93,"display_name":"PhoneixS"},"score":2,"creation_date":1392366539,"post_id":9655181,"comment_id":32941215,"body_markdown":"possible duplicate of [In Java, how do I convert a byte array to a string of hex digits while keeping leading zeros?](http://stackoverflow.com/questions/332079/in-java-how-do-i-convert-a-byte-array-to-a-string-of-hex-digits-while-keeping-l)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/332079/in-java-how-do-i-convert-a-byte-array-to-a-string-of-hex-digits-while-keeping-l\">In Java, how do I convert a byte array to a string of hex digits while keeping leading zeros?</a>"},{"owner":{"account_id":7946018,"reputation":563,"user_id":5998529,"display_name":"tibetty"},"score":1,"creation_date":1570672779,"post_id":9655181,"comment_id":102989458,"body_markdown":"With the help of stream in Java 8, it can be simply implemented as:\nstatic String byteArrayToHex(byte[] a) {\n        return IntStream.range(0, a.length)\n                .mapToObj(i -&gt; String.format(&quot;%02x&quot;, a[i]))\n                .reduce((acc, v) -&gt; acc + &quot; &quot; + v)\n                .get();\n    }","body":"With the help of stream in Java 8, it can be simply implemented as: static String byteArrayToHex(byte[] a) {         return IntStream.range(0, a.length)                 .mapToObj(i -&gt; String.format(&quot;%02x&quot;, a[i]))                 .reduce((acc, v) -&gt; acc + &quot; &quot; + v)                 .get();     }"},{"owner":{"account_id":1477692,"reputation":46661,"user_id":1393484,"accept_rate":100,"display_name":"Ali Dehghani"},"score":10,"creation_date":1622150211,"post_id":9655181,"comment_id":119716710,"body_markdown":"Java 17 to the rescue: `HexFormat.of().formatHex(bytes)`","body":"Java 17 to the rescue: <code>HexFormat.of().formatHex(bytes)</code>"},{"owner":{"account_id":6457401,"reputation":583,"user_id":5002324,"display_name":"Christoph S."},"score":0,"creation_date":1665486212,"post_id":9655181,"comment_id":130706593,"body_markdown":"@tibetty You really call that &quot;simple&quot;?","body":"@tibetty You really call that &quot;simple&quot;?"}],"answers":[{"comments":[{"owner":{"account_id":272852,"reputation":19440,"user_id":564157,"accept_rate":88,"display_name":"Joseph Lust"},"score":0,"creation_date":1368154732,"post_id":9655224,"comment_id":23638576,"body_markdown":"Other methods were running on my 64 byte sample in 5ms, this one runs in 0ms. Probably best for lack of any other String functions like format.","body":"Other methods were running on my 64 byte sample in 5ms, this one runs in 0ms. Probably best for lack of any other String functions like format."},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":1,"creation_date":1393447822,"post_id":9655224,"comment_id":33437992,"body_markdown":"`if (raw == null) return null` is not fail fast. Why would you ever use a `null` key?","body":"<code>if (raw == null) return null</code> is not fail fast. Why would you ever use a <code>null</code> key?"},{"owner":{"account_id":325090,"reputation":932,"user_id":1246988,"display_name":"Michael Bisbjerg"},"score":0,"creation_date":1393535444,"post_id":9655224,"comment_id":33487330,"body_markdown":"I suppose it&#39;s a habit to input validate. In this case, we prevent any Null reference exception, and leave it up to the caller to handle bad data.","body":"I suppose it&#39;s a habit to input validate. In this case, we prevent any Null reference exception, and leave it up to the caller to handle bad data."}],"tags":[],"owner":{"account_id":325090,"reputation":932,"user_id":1246988,"display_name":"Michael Bisbjerg"},"comment_count":3,"down_vote_count":2,"up_vote_count":24,"is_accepted":false,"score":22,"last_activity_date":1331471464,"creation_date":1331471464,"answer_id":9655224,"question_id":9655181,"body_markdown":"I found three different ways here:\r\nhttp://www.rgagnon.com/javadetails/java-0596.html\r\n\r\nThe most elegant one, as he also notes, I think is this one:\r\n\r\n    static final String HEXES = &quot;0123456789ABCDEF&quot;;\r\n    public static String getHex( byte [] raw ) {\r\n    \tif ( raw == null ) {\r\n    \t\treturn null;\r\n    \t}\r\n    \tfinal StringBuilder hex = new StringBuilder( 2 * raw.length );\r\n    \tfor ( final byte b : raw ) {\r\n    \t\thex.append(HEXES.charAt((b &amp; 0xF0) &gt;&gt; 4))\r\n    \t\t\t.append(HEXES.charAt((b &amp; 0x0F)));\r\n    \t}\r\n    \treturn hex.toString();\r\n    }\r\n","title":"Java: convert a byte array to a hex string?","body":"<p>I found three different ways here:\n<a href=\"http://www.rgagnon.com/javadetails/java-0596.html\">http://www.rgagnon.com/javadetails/java-0596.html</a></p>\n\n<p>The most elegant one, as he also notes, I think is this one:</p>\n\n<pre><code>static final String HEXES = \"0123456789ABCDEF\";\npublic static String getHex( byte [] raw ) {\n    if ( raw == null ) {\n        return null;\n    }\n    final StringBuilder hex = new StringBuilder( 2 * raw.length );\n    for ( final byte b : raw ) {\n        hex.append(HEXES.charAt((b &amp; 0xF0) &gt;&gt; 4))\n            .append(HEXES.charAt((b &amp; 0x0F)));\n    }\n    return hex.toString();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":485360,"reputation":20815,"user_id":901641,"accept_rate":78,"display_name":"ArtOfWarfare"},"score":13,"creation_date":1364620772,"post_id":9655275,"comment_id":22321059,"body_markdown":"@cytinus - My downvote occurred 4 months ago so I&#39;m not entirely certain what I was thinking, but I was probably objecting to the size of the library. This is a small function within the program; there&#39;s no need to add such a bulky library to the project to perform it.","body":"@cytinus - My downvote occurred 4 months ago so I&#39;m not entirely certain what I was thinking, but I was probably objecting to the size of the library. This is a small function within the program; there&#39;s no need to add such a bulky library to the project to perform it."},{"owner":{"account_id":461687,"reputation":5477,"user_id":863553,"accept_rate":91,"display_name":"cytinus"},"score":7,"creation_date":1365810598,"post_id":9655275,"comment_id":22785122,"body_markdown":"@ArtOfWarefare I agree, so instead of `import org.apache.commons.codec.*;` you could do `import org.apache.commons.codec.binary.Hex;`","body":"@ArtOfWarefare I agree, so instead of <code>import org.apache.commons.codec.*;</code> you could do <code>import org.apache.commons.codec.binary.Hex;</code>"},{"owner":{"account_id":130645,"reputation":81705,"user_id":330057,"accept_rate":77,"display_name":"corsiKa"},"score":18,"creation_date":1377099377,"post_id":9655275,"comment_id":26958330,"body_markdown":"@ArtOfWarfare I have to disagree. The only terrible thing is that the apache commons libraries aren&#39;t included by default with the JRE and JDK. There are some libraries that are so useful they really should be on your class path by default, and this is one of them.","body":"@ArtOfWarfare I have to disagree. The only terrible thing is that the apache commons libraries aren&#39;t included by default with the JRE and JDK. There are some libraries that are so useful they really should be on your class path by default, and this is one of them."},{"owner":{"account_id":47754,"reputation":5136,"user_id":141552,"accept_rate":82,"display_name":"Dmitriy Likhten"},"score":49,"creation_date":1393440814,"post_id":9655275,"comment_id":33433628,"body_markdown":"I highly recommend this answer is swapped as the top answer. Always vote to use a well tested, performant, open source library over custom code which doesn&#39;t improve on it.","body":"I highly recommend this answer is swapped as the top answer. Always vote to use a well tested, performant, open source library over custom code which doesn&#39;t improve on it."},{"owner":{"account_id":1517424,"reputation":8052,"user_id":1418097,"accept_rate":83,"display_name":"Display Name"},"score":1,"creation_date":1413196330,"post_id":9655275,"comment_id":41338350,"body_markdown":"When using sbt or maven, adding an open-source dependency like this is dead-easy.","body":"When using sbt or maven, adding an open-source dependency like this is dead-easy."},{"owner":{"account_id":1517424,"reputation":8052,"user_id":1418097,"accept_rate":83,"display_name":"Display Name"},"score":3,"creation_date":1413196456,"post_id":9655275,"comment_id":41338420,"body_markdown":"Also, `commons-codec-1.9.jar` is 258 KiB, and I guess the space impact can go further down if you are going to use Proguard or something like this.","body":"Also, <code>commons-codec-1.9.jar</code> is 258 KiB, and I guess the space impact can go further down if you are going to use Proguard or something like this."},{"owner":{"account_id":3624367,"reputation":376,"user_id":3022395,"display_name":"md_rasler"},"score":2,"creation_date":1415391945,"post_id":9655275,"comment_id":42191679,"body_markdown":"Not to reinvigorate an old thread spuriously, but as added documentation for future reference: even working for some very large and particular companies, the Apache license was deemed acceptable for use in our commercial products.  IMHO if you can&#39;t quickly drop in/manage 3rd party dependencies in your project for cases such as this, then you are not moving fast enough.","body":"Not to reinvigorate an old thread spuriously, but as added documentation for future reference: even working for some very large and particular companies, the Apache license was deemed acceptable for use in our commercial products.  IMHO if you can&#39;t quickly drop in/manage 3rd party dependencies in your project for cases such as this, then you are not moving fast enough."},{"owner":{"account_id":62000,"reputation":5952,"user_id":184456,"accept_rate":88,"display_name":"monojohnny"},"score":0,"creation_date":1446071201,"post_id":9655275,"comment_id":54596735,"body_markdown":"+1 for suggesting an off-the-shelf library - Just to point out - this method returns a char[] array rather than a string, which tripped me up for a bit. (and the method appears now to &#39;encodeHex&#39; rather than &#39;encodeHexString&#39; - could be just the version I&#39;m using though).","body":"+1 for suggesting an off-the-shelf library - Just to point out - this method returns a char[] array rather than a string, which tripped me up for a bit. (and the method appears now to &#39;encodeHex&#39; rather than &#39;encodeHexString&#39; - could be just the version I&#39;m using though)."},{"owner":{"account_id":379186,"reputation":9066,"user_id":732379,"accept_rate":45,"display_name":"chooban"},"score":0,"creation_date":1447326293,"post_id":9655275,"comment_id":55112839,"body_markdown":"At the time I wrote that, there were methods for encodeHex and encodeHexString, though that might be different now.","body":"At the time I wrote that, there were methods for encodeHex and encodeHexString, though that might be different now."},{"owner":{"account_id":1851020,"reputation":4117,"user_id":1677594,"display_name":"Guillaume Husta"},"score":8,"creation_date":1490865534,"post_id":9655275,"comment_id":73306772,"body_markdown":"Or in case you use BouncyCastle (_org.bouncycastle:bcprov-jdk15on_), you can use this class : `org.bouncycastle.util.encoders.Hex`, with this method : `String toHexString(byte[] data)`","body":"Or in case you use BouncyCastle (<i>org.bouncycastle:bcprov-jdk15on</i>), you can use this class : <code>org.bouncycastle.util.encoders.Hex</code>, with this method : <code>String toHexString(byte[] data)</code>"},{"owner":{"account_id":3850353,"reputation":422,"user_id":3190699,"accept_rate":50,"display_name":"Saiteja Parsi"},"score":0,"creation_date":1601265648,"post_id":9655275,"comment_id":113342417,"body_markdown":"Inside `encodeHex`, this below part of the code is fishy. Is it correct to use `0xF0` here?...\n\n```\nfor (int i = 0, j = 0; i &lt; l; i++) {\n            out[j++] = toDigits[(0xF0 &amp; data[i]) &gt;&gt;&gt; 4];\n            out[j++] = toDigits[0x0F &amp; data[i]];\n        }\n```","body":"Inside <code>encodeHex</code>, this below part of the code is fishy. Is it correct to use <code>0xF0</code> here?...  ``` for (int i = 0, j = 0; i &lt; l; i++) {             out[j++] = toDigits[(0xF0 &amp; data[i]) &gt;&gt;&gt; 4];             out[j++] = toDigits[0x0F &amp; data[i]];         } ```"},{"owner":{"account_id":3076776,"reputation":1444,"user_id":2605902,"accept_rate":62,"display_name":"Stimpson Cat"},"score":0,"creation_date":1620373325,"post_id":9655275,"comment_id":119186598,"body_markdown":"and you get all the security flaws from bouncycastle. Do not use a library for such basic operations","body":"and you get all the security flaws from bouncycastle. Do not use a library for such basic operations"}],"tags":[],"owner":{"account_id":379186,"reputation":9066,"user_id":732379,"accept_rate":45,"display_name":"chooban"},"comment_count":12,"down_vote_count":6,"up_vote_count":537,"is_accepted":false,"score":531,"last_activity_date":1566592216,"creation_date":1331471884,"answer_id":9655275,"question_id":9655181,"body_markdown":"The [Apache Commons Codec][1] library has a [Hex][2] class for doing just this type of work.\r\n\r\n    import org.apache.commons.codec.binary.Hex;\r\n\r\n    String foo = &quot;I am a string&quot;;\r\n    byte[] bytes = foo.getBytes();\r\n    System.out.println( Hex.encodeHexString( bytes ) );\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-codec/\r\n  [2]: https://commons.apache.org/proper/commons-codec/apidocs/org/apache/commons/codec/binary/Hex.html","title":"Java: convert a byte array to a hex string?","body":"<p>The <a href=\"https://commons.apache.org/proper/commons-codec/\" rel=\"noreferrer\">Apache Commons Codec</a> library has a <a href=\"https://commons.apache.org/proper/commons-codec/apidocs/org/apache/commons/codec/binary/Hex.html\" rel=\"noreferrer\">Hex</a> class for doing just this type of work.</p>\n\n<pre><code>import org.apache.commons.codec.binary.Hex;\n\nString foo = \"I am a string\";\nbyte[] bytes = foo.getBytes();\nSystem.out.println( Hex.encodeHexString( bytes ) );\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1343475,"reputation":15490,"user_id":1284661,"display_name":"maybeWeCouldStealAVan"},"score":298,"creation_date":1333157497,"post_id":9855338,"comment_id":12709256,"body_markdown":"I just found [javax.xml.bind.DataTypeConverter](http://docs.oracle.com/javase/6/docs/api/javax/xml/bind/DatatypeConverter.html), part of the standard distribution.  Why doesn&#39;t this come up when you Google this kind of problem? Lots helpful tools, including `String printHexBinary(byte[])` and `byte[] parseHexBinary(String)`.  `printHexBinary` is, however, much (2x) slower than the function in this answer. (I checked the source; it uses a `stringBuilder`. `parseHexBinary` uses an array.) Really, though, for most purposes it&#39;s fast enough and you probably already have it.","body":"I just found <a href=\"http://docs.oracle.com/javase/6/docs/api/javax/xml/bind/DatatypeConverter.html\" rel=\"nofollow noreferrer\">javax.xml.bind.DataTypeConverter</a>, part of the standard distribution.  Why doesn&#39;t this come up when you Google this kind of problem? Lots helpful tools, including <code>String printHexBinary(byte[])</code> and <code>byte[] parseHexBinary(String)</code>.  <code>printHexBinary</code> is, however, much (2x) slower than the function in this answer. (I checked the source; it uses a <code>stringBuilder</code>. <code>parseHexBinary</code> uses an array.) Really, though, for most purposes it&#39;s fast enough and you probably already have it."},{"owner":{"account_id":299652,"reputation":15874,"user_id":606351,"accept_rate":79,"display_name":"Vaiden"},"score":84,"creation_date":1369824564,"post_id":9855338,"comment_id":24232917,"body_markdown":"+1 for the answer since Android does not have DataTypeConverter","body":"+1 for the answer since Android does not have DataTypeConverter"},{"owner":{"account_id":94193,"reputation":20589,"user_id":257299,"accept_rate":64,"display_name":"kevinarpe"},"score":9,"creation_date":1373475928,"post_id":9855338,"comment_id":25574340,"body_markdown":"@maybeWeCouldStealAVan: JDK 7 is now open source.  We should submit a patch to improve performance for `printHexBinary`?","body":"@maybeWeCouldStealAVan: JDK 7 is now open source.  We should submit a patch to improve performance for <code>printHexBinary</code>?"},{"owner":{"account_id":541194,"reputation":5180,"user_id":909651,"accept_rate":72,"display_name":"jjNford"},"score":3,"creation_date":1373656119,"post_id":9855338,"comment_id":25654046,"body_markdown":"@maybeWeCouldStealAVan could you please explain how this works. I follow for the most part but really like understanding what is happening when using code. Thanks!","body":"@maybeWeCouldStealAVan could you please explain how this works. I follow for the most part but really like understanding what is happening when using code. Thanks!"},{"owner":{"account_id":2268229,"reputation":1574,"user_id":1996306,"accept_rate":100,"display_name":"Steven"},"score":2,"creation_date":1376963020,"post_id":9855338,"comment_id":26896119,"body_markdown":"This code is super-fast!! I was using `String.format(&quot;%0&quot; + (bytes.length &lt;&lt; 1) + &quot;X&quot;, new BigInteger(1, bytes));` but the performance was rubbish. This is a much better solution.","body":"This code is super-fast!! I was using <code>String.format(&quot;%0&quot; + (bytes.length &lt;&lt; 1) + &quot;X&quot;, new BigInteger(1, bytes));</code> but the performance was rubbish. This is a much better solution."},{"owner":{"account_id":2330135,"reputation":529,"user_id":2043769,"accept_rate":64,"display_name":"bpbhat77"},"score":0,"creation_date":1398071753,"post_id":9855338,"comment_id":35476205,"body_markdown":"How to to reverse i.e. Given a Hex String get byte[] from the String ?","body":"How to to reverse i.e. Given a Hex String get byte[] from the String ?"},{"owner":{"account_id":1343475,"reputation":15490,"user_id":1284661,"display_name":"maybeWeCouldStealAVan"},"score":0,"creation_date":1417900519,"post_id":9855338,"comment_id":43129911,"body_markdown":"@Whome Hmm, how are you benchmarking it? In my benchmarks the speed looks exactly the same, which makes sense since each has the same number of array index lookups and the same number of operations.  What advantage do you get from the larger table?","body":"@Whome Hmm, how are you benchmarking it? In my benchmarks the speed looks exactly the same, which makes sense since each has the same number of array index lookups and the same number of operations.  What advantage do you get from the larger table?"},{"owner":{"account_id":47296,"reputation":27247,"user_id":140037,"accept_rate":74,"display_name":"Brett Ryan"},"score":0,"creation_date":1424639940,"post_id":9855338,"comment_id":45621706,"body_markdown":"Great answer! A negligible performance increase could be obtained by adding a variable for `n * 2` to be used in the first array index, then `++n` in the second access.","body":"Great answer! A negligible performance increase could be obtained by adding a variable for <code>n * 2</code> to be used in the first array index, then <code>++n</code> in the second access."},{"owner":{"account_id":44455,"reputation":3383,"user_id":130529,"accept_rate":99,"display_name":"Harish"},"score":0,"creation_date":1455147634,"post_id":9855338,"comment_id":58364839,"body_markdown":"This solution is better than DataTypeConverter solution because it uses StringBuilder which inturn uses char[] and expand.If we know the size beforehand I feel char[] is a superior option","body":"This solution is better than DataTypeConverter solution because it uses StringBuilder which inturn uses char[] and expand.If we know the size beforehand I feel char[] is a superior option"},{"owner":{"account_id":7563680,"reputation":295,"user_id":5740146,"accept_rate":80,"display_name":"Parth Vishvajit"},"score":0,"creation_date":1520258467,"post_id":9855338,"comment_id":85229263,"body_markdown":"Is this code working for negative byte value? bcz I&#39;m getting a value which is out of range for byte, when byte value is negative.","body":"Is this code working for negative byte value? bcz I&#39;m getting a value which is out of range for byte, when byte value is negative."},{"owner":{"account_id":8591840,"reputation":46475,"user_id":6436191,"display_name":"The Impaler"},"score":45,"creation_date":1531940847,"post_id":9855338,"comment_id":89790092,"body_markdown":"`javax.xml.bind.DataTypeConverter` is being removed from Java 11.","body":"<code>javax.xml.bind.DataTypeConverter</code> is being removed from Java 11."},{"owner":{"account_id":6145647,"reputation":3859,"user_id":4791726,"display_name":"AlbAtNf"},"score":11,"creation_date":1532447106,"post_id":9855338,"comment_id":89974017,"body_markdown":"Why is `&amp; 0xFF` required in this line `int v = bytes[j] &amp; 0xFF;`? Am I missing something or is it just unnecessary?","body":"Why is <code>&amp; 0xFF</code> required in this line <code>int v = bytes[j] &amp; 0xFF;</code>? Am I missing something or is it just unnecessary?"},{"owner":{"account_id":4281210,"reputation":1058,"user_id":3500521,"display_name":"Dreamspace President"},"score":8,"creation_date":1538224264,"post_id":9855338,"comment_id":92073752,"body_markdown":"@AlbAtNf Java only has signed number primitives, so a byte that you imagine as 0xFF will be thought of as negative. An array index is always int, and just using the byte variable as an index position will do the same as the method does by assigning it to `int v`: The negative byte will be expanded - the int will be full of set bits. You&#39;d not be asking for array index 15 but something in the millions.","body":"@AlbAtNf Java only has signed number primitives, so a byte that you imagine as 0xFF will be thought of as negative. An array index is always int, and just using the byte variable as an index position will do the same as the method does by assigning it to <code>int v</code>: The negative byte will be expanded - the int will be full of set bits. You&#39;d not be asking for array index 15 but something in the millions."},{"owner":{"account_id":1658804,"reputation":1108,"user_id":1527542,"display_name":"Gauss"},"score":0,"creation_date":1560009418,"post_id":9855338,"comment_id":99603165,"body_markdown":"Sometimes you need spaces, then use `bytes.length * 3`, `hexChars[j * 3]`, `hexChars[j * 3 + 1]` and `hexChars[j * 3 + 2] = 0x20`","body":"Sometimes you need spaces, then use <code>bytes.length * 3</code>, <code>hexChars[j * 3]</code>, <code>hexChars[j * 3 + 1]</code> and <code>hexChars[j * 3 + 2] = 0x20</code>"},{"owner":{"account_id":2722678,"reputation":2391,"user_id":2348614,"accept_rate":68,"display_name":"Starwave"},"score":0,"creation_date":1582126185,"post_id":9855338,"comment_id":106671186,"body_markdown":"@Gauss did your spacing suggestion, got error: `java.lang.NumberFormatException: For input string: &quot; 16 BF 0C 13 C7 &quot;`","body":"@Gauss did your spacing suggestion, got error: <code>java.lang.NumberFormatException: For input string: &quot; 16 BF 0C 13 C7 &quot;</code>"},{"owner":{"account_id":1658804,"reputation":1108,"user_id":1527542,"display_name":"Gauss"},"score":0,"creation_date":1582199705,"post_id":9855338,"comment_id":106699512,"body_markdown":"@Starwave well I just did bytesToHex(new byte[] {0x16,0x0C,0x13}) and it works fine. 0xBF and 0xC7 are not bytes. They are ints.","body":"@Starwave well I just did bytesToHex(new byte[] {0x16,0x0C,0x13}) and it works fine. 0xBF and 0xC7 are not bytes. They are ints."},{"owner":{"account_id":6777087,"reputation":1144,"user_id":5218554,"accept_rate":0,"display_name":"Bao HQ"},"score":1,"creation_date":1602124745,"post_id":9855338,"comment_id":113623287,"body_markdown":"Should check empty bytes: \nif (bytes == null || bytes.length == 0) return &quot;&quot;; to make sure no crash","body":"Should check empty bytes:  if (bytes == null || bytes.length == 0) return &quot;&quot;; to make sure no crash"},{"owner":{"account_id":15459711,"reputation":1631,"user_id":11152683,"display_name":"Lubo"},"score":0,"creation_date":1616914257,"post_id":9855338,"comment_id":118148303,"body_markdown":"Any benchmark does have more weight when done using jmh - https://github.com/openjdk/jmh If you have such benchmarks, please provide it here.","body":"Any benchmark does have more weight when done using jmh - <a href=\"https://github.com/openjdk/jmh\" rel=\"nofollow noreferrer\">github.com/openjdk/jmh</a> If you have such benchmarks, please provide it here."},{"owner":{"account_id":327552,"reputation":149,"user_id":649995,"display_name":"Tillmann"},"score":0,"creation_date":1642764323,"post_id":9855338,"comment_id":125164407,"body_markdown":"@maybeWeCouldStealAVan Thank you for your answer, it helped me a lot. I&#39;ve slightly improved your solution in terms of performance by removing multiplications. The essential lines read like this:\n`char[] hexChars = new char[bytes.length &lt;&lt; 1];\n\t    for (int j=0, k=0; j&lt;bytes.length; ) {\n\t        int v=bytes[j++] &amp; 0xFF;\n\t        hexChars[k++] = HEX_ARRAY[v &gt;&gt;&gt; 4];\n\t        hexChars[k++] = HEX_ARRAY[v &amp; 0x0F];\n\t    }\n\t    return new String(hexChars);`\nAccording to my simple tests, the improvement is in the range of 5 to 25 percent.","body":"@maybeWeCouldStealAVan Thank you for your answer, it helped me a lot. I&#39;ve slightly improved your solution in terms of performance by removing multiplications. The essential lines read like this: <code>char[] hexChars = new char[bytes.length &lt;&lt; 1]; \t    for (int j=0, k=0; j&lt;bytes.length; ) { \t        int v=bytes[j++] &amp; 0xFF; \t        hexChars[k++] = HEX_ARRAY[v &gt;&gt;&gt; 4]; \t        hexChars[k++] = HEX_ARRAY[v &amp; 0x0F]; \t    } \t    return new String(hexChars);</code> According to my simple tests, the improvement is in the range of 5 to 25 percent."},{"owner":{"account_id":1343475,"reputation":15490,"user_id":1284661,"display_name":"maybeWeCouldStealAVan"},"score":0,"creation_date":1672351880,"post_id":9855338,"comment_id":132274876,"body_markdown":"@Tillmann Interesting. When I wrote this (10 years ago, in Java 7 I believe) there was no speedup in using a shift in place of *2, so for legibility I wrote * when I was multiplying and &gt;&gt;&gt; when I was extracting bits.","body":"@Tillmann Interesting. When I wrote this (10 years ago, in Java 7 I believe) there was no speedup in using a shift in place of *2, so for legibility I wrote * when I was multiplying and &gt;&gt;&gt; when I was extracting bits."}],"tags":[],"owner":{"account_id":1343475,"reputation":15490,"user_id":1284661,"display_name":"maybeWeCouldStealAVan"},"comment_count":20,"down_vote_count":10,"up_vote_count":1075,"is_accepted":true,"score":1065,"last_activity_date":1599121018,"creation_date":1332621134,"answer_id":9855338,"question_id":9655181,"body_markdown":"From the discussion [here][1], and especially [this][2] answer, this is the function I currently use:\r\n\r\n    private static final char[] HEX_ARRAY = &quot;0123456789ABCDEF&quot;.toCharArray();\r\n    public static String bytesToHex(byte[] bytes) {\r\n        char[] hexChars = new char[bytes.length * 2];\r\n        for (int j = 0; j &lt; bytes.length; j++) {\r\n            int v = bytes[j] &amp; 0xFF;\r\n            hexChars[j * 2] = HEX_ARRAY[v &gt;&gt;&gt; 4];\r\n            hexChars[j * 2 + 1] = HEX_ARRAY[v &amp; 0x0F];\r\n        }\r\n        return new String(hexChars);\r\n    }\r\n\r\nMy own tiny benchmarks (a million bytes a thousand times, 256 bytes 10 million times) showed it to be much faster than any other alternative, about half the time on long arrays.  Compared to the answer I took it from, switching to bitwise ops --- as suggested in the discussion --- cut about 20% off of the time for long arrays. (Edit: When I say it&#39;s faster than the alternatives, I mean the alternative code offered in the discussions. Performance is equivalent to Commons Codec, which uses very similar code.)\r\n\r\n2k20 version, with respect to Java 9 compact strings:\r\n\r\n    private static final byte[] HEX_ARRAY = &quot;0123456789ABCDEF&quot;.getBytes(StandardCharsets.US_ASCII);\r\n    public static String bytesToHex(byte[] bytes) {\r\n        byte[] hexChars = new byte[bytes.length * 2];\r\n        for (int j = 0; j &lt; bytes.length; j++) {\r\n            int v = bytes[j] &amp; 0xFF;\r\n            hexChars[j * 2] = HEX_ARRAY[v &gt;&gt;&gt; 4];\r\n            hexChars[j * 2 + 1] = HEX_ARRAY[v &amp; 0x0F];\r\n        }\r\n        return new String(hexChars, StandardCharsets.UTF_8);\r\n    }\r\n\r\n  [1]: https://stackoverflow.com/q/332079/1284661\r\n  [2]: https://stackoverflow.com/a/2197650/1284661\r\n","title":"Java: convert a byte array to a hex string?","body":"<p>From the discussion <a href=\"https://stackoverflow.com/q/332079/1284661\">here</a>, and especially <a href=\"https://stackoverflow.com/a/2197650/1284661\">this</a> answer, this is the function I currently use:</p>\n<pre><code>private static final char[] HEX_ARRAY = &quot;0123456789ABCDEF&quot;.toCharArray();\npublic static String bytesToHex(byte[] bytes) {\n    char[] hexChars = new char[bytes.length * 2];\n    for (int j = 0; j &lt; bytes.length; j++) {\n        int v = bytes[j] &amp; 0xFF;\n        hexChars[j * 2] = HEX_ARRAY[v &gt;&gt;&gt; 4];\n        hexChars[j * 2 + 1] = HEX_ARRAY[v &amp; 0x0F];\n    }\n    return new String(hexChars);\n}\n</code></pre>\n<p>My own tiny benchmarks (a million bytes a thousand times, 256 bytes 10 million times) showed it to be much faster than any other alternative, about half the time on long arrays.  Compared to the answer I took it from, switching to bitwise ops --- as suggested in the discussion --- cut about 20% off of the time for long arrays. (Edit: When I say it's faster than the alternatives, I mean the alternative code offered in the discussions. Performance is equivalent to Commons Codec, which uses very similar code.)</p>\n<p>2k20 version, with respect to Java 9 compact strings:</p>\n<pre><code>private static final byte[] HEX_ARRAY = &quot;0123456789ABCDEF&quot;.getBytes(StandardCharsets.US_ASCII);\npublic static String bytesToHex(byte[] bytes) {\n    byte[] hexChars = new byte[bytes.length * 2];\n    for (int j = 0; j &lt; bytes.length; j++) {\n        int v = bytes[j] &amp; 0xFF;\n        hexChars[j * 2] = HEX_ARRAY[v &gt;&gt;&gt; 4];\n        hexChars[j * 2 + 1] = HEX_ARRAY[v &amp; 0x0F];\n    }\n    return new String(hexChars, StandardCharsets.UTF_8);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1493568,"reputation":2156,"user_id":1527440,"accept_rate":69,"display_name":"pt123"},"score":28,"creation_date":1370746277,"post_id":13006907,"comment_id":24573102,"body_markdown":"This is very slow, on average 1000 times slower (for 162 bytes long) than the one in the top response. Avoid using String.Format if performance matters.","body":"This is very slow, on average 1000 times slower (for 162 bytes long) than the one in the top response. Avoid using String.Format if performance matters."},{"owner":{"account_id":539739,"reputation":39728,"user_id":907695,"accept_rate":71,"display_name":"Pointer Null"},"score":12,"creation_date":1371153626,"post_id":13006907,"comment_id":24730531,"body_markdown":"Maybe slow. It&#39;s good for things happening occasionally, such as login or similar.","body":"Maybe slow. It&#39;s good for things happening occasionally, such as login or similar."},{"owner":{"account_id":129490,"reputation":8275,"user_id":328115,"accept_rate":44,"display_name":"dolmen"},"score":0,"creation_date":1377040849,"post_id":13006907,"comment_id":26932381,"body_markdown":"Not &quot;maybe slow&quot;, but very very inefficient. If you want to use slow code, at least reuse (not copy+paste) some of an existing library that has a test suite.","body":"Not &quot;maybe slow&quot;, but very very inefficient. If you want to use slow code, at least reuse (not copy+paste) some of an existing library that has a test suite."},{"owner":{"account_id":2264130,"reputation":38917,"user_id":1993366,"accept_rate":86,"display_name":"vikingsteve"},"score":50,"creation_date":1384801706,"post_id":13006907,"comment_id":29872522,"body_markdown":"If it&#39;s slow, so what? In my use case it&#39;s just for a debug statement, so thanks for this code fragment.","body":"If it&#39;s slow, so what? In my use case it&#39;s just for a debug statement, so thanks for this code fragment."},{"owner":{"account_id":380258,"reputation":1780,"user_id":734151,"accept_rate":71,"display_name":"personne3000"},"score":12,"creation_date":1399559324,"post_id":13006907,"comment_id":36122265,"body_markdown":"Reusing a library by including an extra JAR files of several dozens kB would not exactly be efficient if all you need is this function (on some platforms like Android, the whole Jar gets included in the end application). And sometimes shorter and more clear code is better when performance is not needed.","body":"Reusing a library by including an extra JAR files of several dozens kB would not exactly be efficient if all you need is this function (on some platforms like Android, the whole Jar gets included in the end application). And sometimes shorter and more clear code is better when performance is not needed."},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":3,"creation_date":1402594519,"post_id":13006907,"comment_id":37343485,"body_markdown":"@personne3000 maybe, but in that case you need stream support, not a single call feature. this one is easy to understand and remember, and therefore to maintain.","body":"@personne3000 maybe, but in that case you need stream support, not a single call feature. this one is easy to understand and remember, and therefore to maintain."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1582635522,"post_id":13006907,"comment_id":106838676,"body_markdown":"Creating a new java.util.Formatter for every single byte is not good for performance.  It’s better to create a single Formatter (note that `new Formatter()` automatically wraps a new StringBuilder internally), and call its `format` method in the loop.","body":"Creating a new java.util.Formatter for every single byte is not good for performance.  It’s better to create a single Formatter (note that <code>new Formatter()</code> automatically wraps a new StringBuilder internally), and call its <code>format</code> method in the loop."},{"owner":{"account_id":2775886,"reputation":8871,"user_id":2401535,"accept_rate":47,"display_name":"Marian Paździoch"},"score":0,"creation_date":1647951427,"post_id":13006907,"comment_id":126495399,"body_markdown":"how did you come up with that &quot;1000 times slower&quot;?","body":"how did you come up with that &quot;1000 times slower&quot;?"}],"tags":[],"owner":{"account_id":539739,"reputation":39728,"user_id":907695,"accept_rate":71,"display_name":"Pointer Null"},"comment_count":8,"down_vote_count":7,"up_vote_count":294,"is_accepted":false,"score":287,"last_activity_date":1484303506,"creation_date":1350891482,"answer_id":13006907,"question_id":9655181,"body_markdown":"Simplest solution, no external libs, no digits constants:\r\n\r\n    public static String byteArrayToHex(byte[] a) {\r\n       StringBuilder sb = new StringBuilder(a.length * 2);\r\n       for(byte b: a)\r\n          sb.append(String.format(&quot;%02x&quot;, b));\r\n       return sb.toString();\r\n    }\r\n","title":"Java: convert a byte array to a hex string?","body":"<p>Simplest solution, no external libs, no digits constants:</p>\n\n<pre><code>public static String byteArrayToHex(byte[] a) {\n   StringBuilder sb = new StringBuilder(a.length * 2);\n   for(byte b: a)\n      sb.append(String.format(\"%02x\", b));\n   return sb.toString();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1565322,"reputation":17189,"user_id":1454261,"accept_rate":100,"display_name":"Voicu"},"score":61,"creation_date":1358382091,"post_id":13219952,"comment_id":19984040,"body_markdown":"This _oneliner_ drops leading zero bytes.","body":"This <i>oneliner</i> drops leading zero bytes."},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1393447723,"post_id":13219952,"comment_id":33437916,"body_markdown":"@Voicu ... And it will add a leading zero 50% of the time.","body":"@Voicu ... And it will add a leading zero 50% of the time."}],"tags":[],"owner":{"account_id":1213919,"reputation":2727,"user_id":1181919,"accept_rate":75,"display_name":"everconfusedGuy"},"comment_count":2,"down_vote_count":17,"up_vote_count":64,"is_accepted":false,"score":47,"last_activity_date":1420428064,"creation_date":1352043052,"answer_id":13219952,"question_id":9655181,"body_markdown":"This simple oneliner works for me&lt;br&gt;\r\n    &lt;code&gt;String result = new BigInteger(1, inputBytes).toString(16); &lt;/code&gt; &lt;br&gt;\r\nEDIT - Using this will remove the leading zeros, but hey worked for my use-case. Thanks @Voicu for pointing it out","title":"Java: convert a byte array to a hex string?","body":"<p>This simple oneliner works for me<br>\n    <code>String result = new BigInteger(1, inputBytes).toString(16); </code> <br>\nEDIT - Using this will remove the leading zeros, but hey worked for my use-case. Thanks @Voicu for pointing it out</p>\n"},{"comments":[{"owner":{"account_id":3804065,"reputation":3440,"user_id":3157154,"display_name":"Boomer"},"score":0,"creation_date":1625845745,"post_id":16228804,"comment_id":120744415,"body_markdown":"Be aware that this approach produces single character values for bytes 0 to 15 (i.e. 0..F).\nThe expectation would probably be getting 2 character values 00 .. 0F.\nAt least converting back from hex to bytes[] won&#39;t work.","body":"Be aware that this approach produces single character values for bytes 0 to 15 (i.e. 0..F). The expectation would probably be getting 2 character values 00 .. 0F. At least converting back from hex to bytes[] won&#39;t work."},{"owner":{"account_id":6457401,"reputation":583,"user_id":5002324,"display_name":"Christoph S."},"score":0,"creation_date":1665478773,"post_id":16228804,"comment_id":130704035,"body_markdown":"You should replace `&quot;%x&quot;` by `&quot;%02x&quot;` as @Boomer pointed out","body":"You should replace <code>&quot;%x&quot;</code> by <code>&quot;%02x&quot;</code> as @Boomer pointed out"}],"tags":[],"owner":{"account_id":2688508,"reputation":13,"user_id":2322338,"display_name":"BluePurse"},"comment_count":2,"down_vote_count":4,"up_vote_count":2,"is_accepted":false,"score":-2,"last_activity_date":1366950711,"creation_date":1366950711,"answer_id":16228804,"question_id":9655181,"body_markdown":"// Shifting bytes is more efficient\r\n// You can use this one too\t\r\n\r\n\tpublic static String getHexString (String s) \r\n\t{\r\n\t\tbyte[] buf = s.getBytes();\r\n\r\n\t\tStringBuffer sb = new StringBuffer();\r\n\t\t\r\n\t\tfor (byte b:buf)\r\n\t\t{\r\n\t\t\tsb.append(String.format(&quot;%x&quot;, b));\r\n\t\t}\r\n\t\t\r\n\r\n        \treturn sb.toString();\r\n\t}","title":"Java: convert a byte array to a hex string?","body":"<p>// Shifting bytes is more efficient\n// You can use this one too </p>\n\n<pre><code>public static String getHexString (String s) \n{\n    byte[] buf = s.getBytes();\n\n    StringBuffer sb = new StringBuffer();\n\n    for (byte b:buf)\n    {\n        sb.append(String.format(\"%x\", b));\n    }\n\n\n        return sb.toString();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1886487,"reputation":396597,"user_id":1705598,"accept_rate":92,"display_name":"icza"},"score":6,"creation_date":1405678044,"post_id":21429909,"comment_id":38534676,"body_markdown":"Why not initialize the `BYTE2HEX` array with a simple `for` cycle?","body":"Why not initialize the <code>BYTE2HEX</code> array with a simple <code>for</code> cycle?"},{"owner":{"account_id":132969,"reputation":738,"user_id":333988,"display_name":"nevelis"},"score":0,"creation_date":1530909868,"post_id":21429909,"comment_id":89415975,"body_markdown":"@icza Is that even possible with a static final (aka constant) field?","body":"@icza Is that even possible with a static final (aka constant) field?"},{"owner":{"account_id":1556012,"reputation":1838,"user_id":1447087,"accept_rate":69,"display_name":"Bigger"},"score":1,"creation_date":1531463194,"post_id":21429909,"comment_id":89613482,"body_markdown":"@nevelis It can be assigned in a `static {  }` block.","body":"@nevelis It can be assigned in a <code>static {  }</code> block."},{"owner":{"account_id":405484,"reputation":34324,"user_id":774398,"accept_rate":83,"display_name":"Patrick"},"score":1,"creation_date":1572082663,"post_id":21429909,"comment_id":103456549,"body_markdown":"@icza because its faster to hardcode a lookup table than to generate it. Here memory complexity is traded with time complexity, ie. needs more memory but faster (every so slightly on both ends)","body":"@icza because its faster to hardcode a lookup table than to generate it. Here memory complexity is traded with time complexity, ie. needs more memory but faster (every so slightly on both ends)"}],"tags":[],"owner":{"account_id":1215110,"reputation":310,"user_id":1182868,"display_name":"higginse"},"comment_count":4,"down_vote_count":3,"up_vote_count":18,"is_accepted":false,"score":15,"last_activity_date":1390995350,"creation_date":1390995350,"answer_id":21429909,"question_id":9655181,"body_markdown":"At the minor cost of storing the lookup table this implementation is simple and very fast.\r\n\r\n     private static final char[] BYTE2HEX=(\r\n        &quot;000102030405060708090A0B0C0D0E0F&quot;+\r\n        &quot;101112131415161718191A1B1C1D1E1F&quot;+\r\n        &quot;202122232425262728292A2B2C2D2E2F&quot;+\r\n        &quot;303132333435363738393A3B3C3D3E3F&quot;+\r\n        &quot;404142434445464748494A4B4C4D4E4F&quot;+\r\n        &quot;505152535455565758595A5B5C5D5E5F&quot;+\r\n        &quot;606162636465666768696A6B6C6D6E6F&quot;+\r\n        &quot;707172737475767778797A7B7C7D7E7F&quot;+\r\n        &quot;808182838485868788898A8B8C8D8E8F&quot;+\r\n        &quot;909192939495969798999A9B9C9D9E9F&quot;+\r\n        &quot;A0A1A2A3A4A5A6A7A8A9AAABACADAEAF&quot;+\r\n        &quot;B0B1B2B3B4B5B6B7B8B9BABBBCBDBEBF&quot;+\r\n        &quot;C0C1C2C3C4C5C6C7C8C9CACBCCCDCECF&quot;+\r\n        &quot;D0D1D2D3D4D5D6D7D8D9DADBDCDDDEDF&quot;+\r\n        &quot;E0E1E2E3E4E5E6E7E8E9EAEBECEDEEEF&quot;+\r\n        &quot;F0F1F2F3F4F5F6F7F8F9FAFBFCFDFEFF&quot;).toCharArray();\r\n       ; \r\n       \r\n      public static String getHexString(byte[] bytes) {\r\n        final int len=bytes.length;\r\n        final char[] chars=new char[len&lt;&lt;1];\r\n        int hexIndex;\r\n        int idx=0;\r\n        int ofs=0;\r\n        while (ofs&lt;len) {\r\n          hexIndex=(bytes[ofs++] &amp; 0xFF)&lt;&lt;1;\r\n          chars[idx++]=BYTE2HEX[hexIndex++];\r\n          chars[idx++]=BYTE2HEX[hexIndex];\r\n        }\r\n        return new String(chars);\r\n      }\r\n\r\n","title":"Java: convert a byte array to a hex string?","body":"<p>At the minor cost of storing the lookup table this implementation is simple and very fast.</p>\n\n<pre><code> private static final char[] BYTE2HEX=(\n    \"000102030405060708090A0B0C0D0E0F\"+\n    \"101112131415161718191A1B1C1D1E1F\"+\n    \"202122232425262728292A2B2C2D2E2F\"+\n    \"303132333435363738393A3B3C3D3E3F\"+\n    \"404142434445464748494A4B4C4D4E4F\"+\n    \"505152535455565758595A5B5C5D5E5F\"+\n    \"606162636465666768696A6B6C6D6E6F\"+\n    \"707172737475767778797A7B7C7D7E7F\"+\n    \"808182838485868788898A8B8C8D8E8F\"+\n    \"909192939495969798999A9B9C9D9E9F\"+\n    \"A0A1A2A3A4A5A6A7A8A9AAABACADAEAF\"+\n    \"B0B1B2B3B4B5B6B7B8B9BABBBCBDBEBF\"+\n    \"C0C1C2C3C4C5C6C7C8C9CACBCCCDCECF\"+\n    \"D0D1D2D3D4D5D6D7D8D9DADBDCDDDEDF\"+\n    \"E0E1E2E3E4E5E6E7E8E9EAEBECEDEEEF\"+\n    \"F0F1F2F3F4F5F6F7F8F9FAFBFCFDFEFF\").toCharArray();\n   ; \n\n  public static String getHexString(byte[] bytes) {\n    final int len=bytes.length;\n    final char[] chars=new char[len&lt;&lt;1];\n    int hexIndex;\n    int idx=0;\n    int ofs=0;\n    while (ofs&lt;len) {\n      hexIndex=(bytes[ofs++] &amp; 0xFF)&lt;&lt;1;\n      chars[idx++]=BYTE2HEX[hexIndex++];\n      chars[idx++]=BYTE2HEX[hexIndex];\n    }\n    return new String(chars);\n  }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1264755,"reputation":101,"user_id":1354900,"display_name":"Kazriko"},"score":13,"creation_date":1404260886,"post_id":21992128,"comment_id":37966808,"body_markdown":"A good solution, though sadly not one that is valid in Android.","body":"A good solution, though sadly not one that is valid in Android."},{"owner":{"account_id":228743,"reputation":10672,"user_id":491245,"accept_rate":93,"display_name":"PhoneixS"},"score":0,"creation_date":1404285887,"post_id":21992128,"comment_id":37974092,"body_markdown":"@Kazriko maybe you want to read https://code.google.com/p/dalvik/wiki/JavaxPackages. It is a way to get javax classes into Android. But if you only want convert to hex, it isn&#39;t worth the trouble.","body":"@Kazriko maybe you want to read <a href=\"https://code.google.com/p/dalvik/wiki/JavaxPackages\" rel=\"nofollow noreferrer\">code.google.com/p/dalvik/wiki/JavaxPackages</a>. It is a way to get javax classes into Android. But if you only want convert to hex, it isn&#39;t worth the trouble."},{"owner":{"account_id":146530,"reputation":59321,"user_id":357024,"accept_rate":90,"display_name":"Mike"},"score":0,"creation_date":1407434643,"post_id":21992128,"comment_id":39224011,"body_markdown":"Any there any comments on the performance vs. the accepted answer. This is obviously much simpler.","body":"Any there any comments on the performance vs. the accepted answer. This is obviously much simpler."},{"owner":{"account_id":62450,"reputation":10263,"user_id":185565,"accept_rate":91,"display_name":"Whome"},"score":0,"creation_date":1411822907,"post_id":21992128,"comment_id":40854553,"body_markdown":"Win7-iCore5-430M-JDK1.7.0_11: 60 bytes input, 100000 loops -&gt; accepted MaybeWeCouldStealAva answer=90ms. DatatypeConverter.printHexBinary=190ms.","body":"Win7-iCore5-430M-JDK1.7.0_11: 60 bytes input, 100000 loops -&gt; accepted MaybeWeCouldStealAva answer=90ms. DatatypeConverter.printHexBinary=190ms."},{"owner":{"account_id":148559,"reputation":164,"user_id":1391696,"display_name":"pmcollins"},"score":16,"creation_date":1507497854,"post_id":21992128,"comment_id":80221538,"body_markdown":"DatatypeConverter is no longer accessible as of JDK 9","body":"DatatypeConverter is no longer accessible as of JDK 9"},{"owner":{"account_id":228743,"reputation":10672,"user_id":491245,"accept_rate":93,"display_name":"PhoneixS"},"score":0,"creation_date":1507535883,"post_id":21992128,"comment_id":80232001,"body_markdown":"@pmcollins Why do you said it? At least in API docs, it&#39;s still there: https://docs.oracle.com/javase/9/docs/api/javax/xml/bind/DatatypeConverter.html","body":"@pmcollins Why do you said it? At least in API docs, it&#39;s still there: <a href=\"https://docs.oracle.com/javase/9/docs/api/javax/xml/bind/DatatypeConverter.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/9/docs/api/javax/xml/bind/&hellip;</a>"},{"owner":{"account_id":4797336,"reputation":472,"user_id":3874884,"accept_rate":90,"display_name":"Spotlight"},"score":3,"creation_date":1513404134,"post_id":21992128,"comment_id":82649982,"body_markdown":"@PhoneixS It is still there, but not part of the default runtime (due to Java 9 modules).","body":"@PhoneixS It is still there, but not part of the default runtime (due to Java 9 modules)."},{"owner":{"account_id":2289455,"reputation":5106,"user_id":2012715,"accept_rate":66,"display_name":"Dmytro"},"score":3,"creation_date":1526338226,"post_id":21992128,"comment_id":87696374,"body_markdown":"don&#39;t rely on javax.xml.bind, it compiles fine but can be not be found at runtime. if you do, be prepared to handle  java.lang.NoClassDefFoundError","body":"don&#39;t rely on javax.xml.bind, it compiles fine but can be not be found at runtime. if you do, be prepared to handle  java.lang.NoClassDefFoundError"}],"tags":[],"owner":{"account_id":228743,"reputation":10672,"user_id":491245,"accept_rate":93,"display_name":"PhoneixS"},"comment_count":8,"down_vote_count":3,"up_vote_count":351,"is_accepted":false,"score":348,"last_activity_date":1566591450,"creation_date":1393256240,"answer_id":21992128,"question_id":9655181,"body_markdown":"The method [**`javax.xml.bind.DatatypeConverter.printHexBinary()`**](https://docs.oracle.com/javase/9/docs/api/javax/xml/bind/DatatypeConverter.html#printHexBinary-byte:A-), part of the [Java Architecture for XML Binding (JAXB)](https://en.wikipedia.org/wiki/Java_Architecture_for_XML_Binding), was a convenient way to convert a `byte[]` to a hex string. The [`DatatypeConverter`](https://docs.oracle.com/javase/9/docs/api/javax/xml/bind/DatatypeConverter.html) class also included many other useful data-manipulation methods.\r\n\r\nIn Java 8 and earlier, JAXB was part of the Java standard library. It was **[deprecated](https://cr.openjdk.java.net/~iris/se/9/java-se-9-fr-spec/#APIs-proposed-for-removal) with Java 9 and [removed](https://openjdk.java.net/jeps/320) with Java 11**, as part of an effort to move all Java EE packages into their own libraries. [It&#39;s a long story](https://www.jesperdj.com/2018/09/30/jaxb-on-java-9-10-11-and-beyond/). Now, `javax.xml.bind` doesn&#39;t exist, and if you want to use JAXB, which contains `DatatypeConverter`, you&#39;ll need to install the [JAXB API](https://mvnrepository.com/artifact/javax.xml.bind/jaxb-api/2.4.0-b180830.0359) and [JAXB Runtime](https://mvnrepository.com/artifact/org.glassfish.jaxb/jaxb-runtime/2.4.0-b180830.0438) from Maven.\r\n\r\nExample usage:\r\n\r\n    byte bytes[] = {(byte)0, (byte)0, (byte)134, (byte)0, (byte)61};\r\n    String hex = javax.xml.bind.DatatypeConverter.printHexBinary(bytes);\r\n\r\nWill result in:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    000086003D\r\n\r\nThis answer the same as [this one][1].\r\n\r\n  [1]: https://stackoverflow.com/a/14552724","title":"Java: convert a byte array to a hex string?","body":"<p>The method <a href=\"https://docs.oracle.com/javase/9/docs/api/javax/xml/bind/DatatypeConverter.html#printHexBinary-byte:A-\" rel=\"noreferrer\"><strong><code>javax.xml.bind.DatatypeConverter.printHexBinary()</code></strong></a>, part of the <a href=\"https://en.wikipedia.org/wiki/Java_Architecture_for_XML_Binding\" rel=\"noreferrer\">Java Architecture for XML Binding (JAXB)</a>, was a convenient way to convert a <code>byte[]</code> to a hex string. The <a href=\"https://docs.oracle.com/javase/9/docs/api/javax/xml/bind/DatatypeConverter.html\" rel=\"noreferrer\"><code>DatatypeConverter</code></a> class also included many other useful data-manipulation methods.</p>\n\n<p>In Java 8 and earlier, JAXB was part of the Java standard library. It was <strong><a href=\"https://cr.openjdk.java.net/~iris/se/9/java-se-9-fr-spec/#APIs-proposed-for-removal\" rel=\"noreferrer\">deprecated</a> with Java 9 and <a href=\"https://openjdk.java.net/jeps/320\" rel=\"noreferrer\">removed</a> with Java 11</strong>, as part of an effort to move all Java EE packages into their own libraries. <a href=\"https://www.jesperdj.com/2018/09/30/jaxb-on-java-9-10-11-and-beyond/\" rel=\"noreferrer\">It's a long story</a>. Now, <code>javax.xml.bind</code> doesn't exist, and if you want to use JAXB, which contains <code>DatatypeConverter</code>, you'll need to install the <a href=\"https://mvnrepository.com/artifact/javax.xml.bind/jaxb-api/2.4.0-b180830.0359\" rel=\"noreferrer\">JAXB API</a> and <a href=\"https://mvnrepository.com/artifact/org.glassfish.jaxb/jaxb-runtime/2.4.0-b180830.0438\" rel=\"noreferrer\">JAXB Runtime</a> from Maven.</p>\n\n<p>Example usage:</p>\n\n<pre><code>byte bytes[] = {(byte)0, (byte)0, (byte)134, (byte)0, (byte)61};\nString hex = javax.xml.bind.DatatypeConverter.printHexBinary(bytes);\n</code></pre>\n\n<p>Will result in:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>000086003D\n</code></pre>\n\n<p>This answer the same as <a href=\"https://stackoverflow.com/a/14552724\">this one</a>.</p>\n"},{"comments":[{"owner":{"account_id":4680926,"reputation":2259,"user_id":3789665,"accept_rate":57,"display_name":"greybeard"},"score":2,"creation_date":1455388059,"post_id":23200748,"comment_id":58471859,"body_markdown":"If your debuffer has a bad day, try cluing in StringBuilder instantiation with a number of chars to support: `StringBuilder buf = new StringBuilder(data.length * 2);`.","body":"If your debuffer has a bad day, try cluing in StringBuilder instantiation with a number of chars to support: <code>StringBuilder buf = new StringBuilder(data.length * 2);</code>."}],"tags":[],"owner":{"account_id":2466333,"reputation":578,"user_id":2149348,"accept_rate":88,"display_name":"Snox"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1416171536,"creation_date":1398095298,"answer_id":23200748,"question_id":9655181,"body_markdown":"I usually use the following method for debuf statement, but i don&#39;t know if it is the best way of doing it or not\r\n\r\n    private static String digits = &quot;0123456789abcdef&quot;;\r\n\r\n    public static String toHex(byte[] data){\r\n        StringBuffer buf = new StringBuffer();\r\n        for (int i = 0; i != data.length; i++)\r\n        {\r\n            int v = data[i] &amp; 0xff;\r\n            buf.append(digits.charAt(v &gt;&gt; 4));\r\n            buf.append(digits.charAt(v &amp; 0xf));\r\n        }\r\n        return buf.toString();\r\n    }","title":"Java: convert a byte array to a hex string?","body":"<p>I usually use the following method for debuf statement, but i don't know if it is the best way of doing it or not</p>\n\n<pre><code>private static String digits = \"0123456789abcdef\";\n\npublic static String toHex(byte[] data){\n    StringBuffer buf = new StringBuffer();\n    for (int i = 0; i != data.length; i++)\n    {\n        int v = data[i] &amp; 0xff;\n        buf.append(digits.charAt(v &gt;&gt; 4));\n        buf.append(digits.charAt(v &amp; 0xf));\n    }\n    return buf.toString();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":937319,"reputation":590,"user_id":966011,"accept_rate":77,"display_name":"Bamaco"},"score":0,"creation_date":1408974362,"post_id":24267654,"comment_id":39779248,"body_markdown":"The original question was for byte[] to String. Look hex to bytes[] or ask a different question, @NonExistent.","body":"The original question was for byte[] to String. Look hex to bytes[] or ask a different question, @NonExistent."}],"tags":[],"owner":{"account_id":937319,"reputation":590,"user_id":966011,"accept_rate":77,"display_name":"Bamaco"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1403018582,"creation_date":1403018582,"answer_id":24267654,"question_id":9655181,"body_markdown":"I prefer to use this:\r\n\r\n    final protected static char[] hexArray = &quot;0123456789ABCDEF&quot;.toCharArray();\r\n    public static String bytesToHex(byte[] bytes, int offset, int count) {\r\n\t    char[] hexChars = new char[count * 2];\r\n\t    for ( int j = 0; j &lt; count; j++ ) {\r\n\t        int v = bytes[j+offset] &amp; 0xFF;\r\n\t        hexChars[j * 2] = hexArray[v &gt;&gt;&gt; 4];\r\n\t        hexChars[j * 2 + 1] = hexArray[v &amp; 0x0F];\r\n\t    }\r\n\t    return new String(hexChars);\r\n\t}\r\n\r\nIt is slightly more flexible adaptation of the accepted answer.\r\nPersonally, I keep both the accepted answer and this overload along with it, usable in more contexts.","title":"Java: convert a byte array to a hex string?","body":"<p>I prefer to use this:</p>\n\n<pre><code>final protected static char[] hexArray = \"0123456789ABCDEF\".toCharArray();\npublic static String bytesToHex(byte[] bytes, int offset, int count) {\n    char[] hexChars = new char[count * 2];\n    for ( int j = 0; j &lt; count; j++ ) {\n        int v = bytes[j+offset] &amp; 0xFF;\n        hexChars[j * 2] = hexArray[v &gt;&gt;&gt; 4];\n        hexChars[j * 2 + 1] = hexArray[v &amp; 0x0F];\n    }\n    return new String(hexChars);\n}\n</code></pre>\n\n<p>It is slightly more flexible adaptation of the accepted answer.\nPersonally, I keep both the accepted answer and this overload along with it, usable in more contexts.</p>\n"},{"tags":[],"owner":{"account_id":1192089,"reputation":4315,"user_id":1329340,"accept_rate":74,"display_name":"Campa"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1425473205,"creation_date":1425472783,"answer_id":28854762,"question_id":9655181,"body_markdown":"A small variant of the solution proposed by @maybewecouldstealavan, which lets you visually bundle N bytes together in the output hex string:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n     final static char[] HEX_ARRAY = &quot;0123456789ABCDEF&quot;.toCharArray();\r\n     final static char BUNDLE_SEP = &#39; &#39;;\r\n\r\n    public static String bytesToHexString(byte[] bytes, int bundleSize /*[bytes]*/]) {\r\n            char[] hexChars = new char[(bytes.length * 2) + (bytes.length / bundleSize)];\r\n            for (int j = 0, k = 1; j &lt; bytes.length; j++, k++) {\r\n                    int v = bytes[j] &amp; 0xFF;\r\n                    int start = (j * 2) + j/bundleSize;\r\n\r\n                    hexChars[start] = HEX_ARRAY[v &gt;&gt;&gt; 4];\r\n                    hexChars[start + 1] = HEX_ARRAY[v &amp; 0x0F];\r\n\r\n                    if ((k % bundleSize) == 0) {\r\n                            hexChars[start + 2] = BUNDLE_SEP;\r\n                    }   \r\n            }   \r\n            return new String(hexChars).trim();    \r\n    }\r\n\r\nThat is:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    bytesToHexString(&quot;..DOOM..&quot;.toCharArray().getBytes(), 2);\r\n    2E2E 444F 4F4D 2E2E\r\n\r\n    bytesToHexString(&quot;..DOOM..&quot;.toCharArray().getBytes(), 4);\r\n    2E2E444F 4F4D2E2E","title":"Java: convert a byte array to a hex string?","body":"<p>A small variant of the solution proposed by @maybewecouldstealavan, which lets you visually bundle N bytes together in the output hex string:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code> final static char[] HEX_ARRAY = \"0123456789ABCDEF\".toCharArray();\n final static char BUNDLE_SEP = ' ';\n\npublic static String bytesToHexString(byte[] bytes, int bundleSize /*[bytes]*/]) {\n        char[] hexChars = new char[(bytes.length * 2) + (bytes.length / bundleSize)];\n        for (int j = 0, k = 1; j &lt; bytes.length; j++, k++) {\n                int v = bytes[j] &amp; 0xFF;\n                int start = (j * 2) + j/bundleSize;\n\n                hexChars[start] = HEX_ARRAY[v &gt;&gt;&gt; 4];\n                hexChars[start + 1] = HEX_ARRAY[v &amp; 0x0F];\n\n                if ((k % bundleSize) == 0) {\n                        hexChars[start + 2] = BUNDLE_SEP;\n                }   \n        }   \n        return new String(hexChars).trim();    \n}\n</code></pre>\n\n<p>That is:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>bytesToHexString(\"..DOOM..\".toCharArray().getBytes(), 2);\n2E2E 444F 4F4D 2E2E\n\nbytesToHexString(\"..DOOM..\".toCharArray().getBytes(), 4);\n2E2E444F 4F4D2E2E\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4134131,"reputation":91,"user_id":3391143,"display_name":"Manan Bakshi"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1443805603,"creation_date":1429656241,"answer_id":29784501,"question_id":9655181,"body_markdown":"How about this?\r\n    \r\n        String byteToHex(final byte[] hash)\r\n        {\r\n            Formatter formatter = new Formatter();\r\n            for (byte b : hash)\r\n            {\r\n                formatter.format(&quot;%02x&quot;, b);\r\n            }\r\n            String result = formatter.toString();\r\n            formatter.close();\r\n            return result;\r\n        }","title":"Java: convert a byte array to a hex string?","body":"<p>How about this?</p>\n\n<pre><code>    String byteToHex(final byte[] hash)\n    {\n        Formatter formatter = new Formatter();\n        for (byte b : hash)\n        {\n            formatter.format(\"%02x\", b);\n        }\n        String result = formatter.toString();\n        formatter.close();\n        return result;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7293930,"reputation":1,"user_id":5559461,"display_name":"SkippsDev"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1447432323,"creation_date":1447429348,"answer_id":33696458,"question_id":9655181,"body_markdown":"If you&#39;re looking for a byte array exactly like this for python, I have converted this Java implementation into python.\r\n\r\n\r\n    class ByteArray:\r\n\r\n\t@classmethod\r\n\tdef char(cls, args=[]):\r\n\t\tcls.hexArray = &quot;0123456789ABCDEF&quot;.encode(&#39;utf-16&#39;)\r\n\t\tj = 0\r\n\t\tlength = (cls.hexArray)\r\n\r\n\t\tif j &lt; length:\r\n\t\t\tv = j &amp; 0xFF\r\n\t\t\thexChars = [None, None]\r\n\t\t\thexChars[j * 2] = str( cls.hexArray) + str(v)\r\n\t\t\thexChars[j * 2 + 1] = str(cls.hexArray) + str(v) + str(0x0F)\r\n\t\t\t# Use if you want...\r\n\t\t\t#hexChars.pop()\r\n\t\r\n\t\treturn str(hexChars)\r\n\r\n    array = ByteArray()\r\n    print array.char(args=[])","title":"Java: convert a byte array to a hex string?","body":"<p>If you're looking for a byte array exactly like this for python, I have converted this Java implementation into python.</p>\n\n<pre><code>class ByteArray:\n\n@classmethod\ndef char(cls, args=[]):\n    cls.hexArray = \"0123456789ABCDEF\".encode('utf-16')\n    j = 0\n    length = (cls.hexArray)\n\n    if j &lt; length:\n        v = j &amp; 0xFF\n        hexChars = [None, None]\n        hexChars[j * 2] = str( cls.hexArray) + str(v)\n        hexChars[j * 2 + 1] = str(cls.hexArray) + str(v) + str(0x0F)\n        # Use if you want...\n        #hexChars.pop()\n\n    return str(hexChars)\n\narray = ByteArray()\nprint array.char(args=[])\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3940540,"reputation":30256,"user_id":3255152,"accept_rate":78,"display_name":"mfulton26"},"score":0,"creation_date":1499107694,"post_id":36477814,"comment_id":76762315,"body_markdown":"In Guava you can also use `new HashCode(bytes).toString()`.","body":"In Guava you can also use <code>new HashCode(bytes).toString()</code>."},{"owner":{"account_id":2247163,"reputation":4471,"user_id":7417402,"display_name":"Devstr"},"score":2,"creation_date":1520006116,"post_id":36477814,"comment_id":85151058,"body_markdown":"As of Guava 22.0 it is `HashCode.fromBytes(checksum).toString()`","body":"As of Guava 22.0 it is <code>HashCode.fromBytes(checksum).toString()</code>"}],"tags":[],"owner":{"account_id":28164,"reputation":60109,"user_id":74939,"display_name":"Stephan202"},"comment_count":2,"down_vote_count":2,"up_vote_count":67,"is_accepted":false,"score":65,"last_activity_date":1460036081,"creation_date":1460036081,"answer_id":36477814,"question_id":9655181,"body_markdown":"A Guava solution, for completeness:\r\n\r\n    import com.google.common.io.BaseEncoding;\r\n    ...\r\n\tbyte[] bytes = &quot;Hello world&quot;.getBytes(StandardCharsets.UTF_8);\r\n\tfinal String hex = BaseEncoding.base16().lowerCase().encode(bytes);\r\n\r\nNow `hex` is `&quot;48656c6c6f20776f726c64&quot;`.","title":"Java: convert a byte array to a hex string?","body":"<p>A Guava solution, for completeness:</p>\n\n<pre><code>import com.google.common.io.BaseEncoding;\n...\nbyte[] bytes = \"Hello world\".getBytes(StandardCharsets.UTF_8);\nfinal String hex = BaseEncoding.base16().lowerCase().encode(bytes);\n</code></pre>\n\n<p>Now <code>hex</code> is <code>\"48656c6c6f20776f726c64\"</code>.</p>\n"},{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":4,"creation_date":1570510275,"post_id":37188787,"comment_id":102926397,"body_markdown":"Class removed in Java 11. See: [*JEP 320: Remove the Java EE and CORBA Modules*](https://openjdk.java.net/jeps/320)","body":"Class removed in Java 11. See: <a href=\"https://openjdk.java.net/jeps/320\" rel=\"nofollow noreferrer\"><i>JEP 320: Remove the Java EE and CORBA Modules</i></a>"}],"tags":[],"owner":{"account_id":1003640,"reputation":8720,"user_id":1017917,"accept_rate":26,"display_name":"Soumyaansh"},"comment_count":1,"down_vote_count":2,"up_vote_count":26,"is_accepted":false,"score":24,"last_activity_date":1466528824,"creation_date":1463060621,"answer_id":37188787,"question_id":9655181,"body_markdown":"Use DataTypeConverter class`javax.xml.bind.DataTypeConverter`\r\n\r\n`String hexString = DatatypeConverter.printHexBinary(bytes[] raw);`\r\n\r\n\t","title":"Java: convert a byte array to a hex string?","body":"<p>Use DataTypeConverter class<code>javax.xml.bind.DataTypeConverter</code></p>\n\n<p><code>String hexString = DatatypeConverter.printHexBinary(bytes[] raw);</code></p>\n"},{"tags":[],"owner":{"account_id":2456831,"reputation":1967,"user_id":2243516,"display_name":"Aaron Cooley"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1473106530,"creation_date":1473106530,"answer_id":39337157,"question_id":9655181,"body_markdown":"Ok so there are a bunch of ways to do this, but if you decide to use a library I would suggest poking about in your project to see if something has been implemented in a library that is already part of your project before adding a new library just to do this.  For example if you don&#39;t already have \r\n\r\n&gt; org.apache.commons.codec.binary.Hex\r\n\r\nmaybe you do have...\r\n\r\n&gt; org.apache.xerces.impl.dv.util.HexBin\r\n\r\n","title":"Java: convert a byte array to a hex string?","body":"<p>Ok so there are a bunch of ways to do this, but if you decide to use a library I would suggest poking about in your project to see if something has been implemented in a library that is already part of your project before adding a new library just to do this.  For example if you don't already have </p>\n\n<blockquote>\n  <p>org.apache.commons.codec.binary.Hex</p>\n</blockquote>\n\n<p>maybe you do have...</p>\n\n<blockquote>\n  <p>org.apache.xerces.impl.dv.util.HexBin</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":293375,"reputation":882,"user_id":596634,"accept_rate":17,"display_name":"Deepan Prabhu Babu"},"score":2,"creation_date":1558732996,"post_id":41787842,"comment_id":99211533,"body_markdown":"Thank you, this is so pithy and appropriate.","body":"Thank you, this is so pithy and appropriate."}],"tags":[],"owner":{"account_id":6306175,"reputation":6201,"user_id":4899193,"display_name":"Usagi Miyamoto"},"comment_count":1,"down_vote_count":2,"up_vote_count":31,"is_accepted":false,"score":29,"last_activity_date":1485064827,"creation_date":1485064827,"answer_id":41787842,"question_id":9655181,"body_markdown":"I would use something like this for fixed length, like hashes:\r\n\r\n    md5sum = String.format(&quot;%032x&quot;, new BigInteger(1, md.digest()));\r\n","title":"Java: convert a byte array to a hex string?","body":"<p>I would use something like this for fixed length, like hashes:</p>\n\n<pre><code>md5sum = String.format(\"%032x\", new BigInteger(1, md.digest()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":227097,"reputation":738,"user_id":488552,"display_name":"田咖啡"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1510244506,"creation_date":1510244506,"answer_id":47206795,"question_id":9655181,"body_markdown":"      public static byte[] hexStringToByteArray(String s) {\r\n        int len = s.length();\r\n        byte[] data = new byte[len / 2];\r\n        for (int i = 0; i &lt; len; i += 2) {\r\n          data[i / 2] = (byte) ((Character.digit(s.charAt(i), 16) &lt;&lt; 4)\r\n            + Character.digit(s.charAt(i+1), 16));\r\n        }\r\n      return data;\r\n      } ","title":"Java: convert a byte array to a hex string?","body":"<pre><code>  public static byte[] hexStringToByteArray(String s) {\n    int len = s.length();\n    byte[] data = new byte[len / 2];\n    for (int i = 0; i &lt; len; i += 2) {\n      data[i / 2] = (byte) ((Character.digit(s.charAt(i), 16) &lt;&lt; 4)\n        + Character.digit(s.charAt(i+1), 16));\n    }\n  return data;\n  } \n</code></pre>\n"},{"tags":[],"owner":{"account_id":2518783,"reputation":1531,"user_id":2189544,"display_name":"fuweichin"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1610354582,"creation_date":1512306440,"answer_id":47618689,"question_id":9655181,"body_markdown":"Here is a `java.util.Base64`-like implementation, isn&#39;t it pretty?\r\n\r\n\r\n    import java.util.Arrays;\r\n    \r\n    public class Base16/* a.k.a. Hex */ {\r\n        public static class Encoder{\r\n            private static char[] toLowerHex={&#39;0&#39;,&#39;1&#39;,&#39;2&#39;,&#39;3&#39;,&#39;4&#39;,&#39;5&#39;,&#39;6&#39;,&#39;7&#39;,&#39;8&#39;,&#39;9&#39;,&#39;a&#39;,&#39;b&#39;,&#39;c&#39;,&#39;d&#39;,&#39;e&#39;,&#39;f&#39;};\r\n            private static char[] toUpperHex={&#39;0&#39;,&#39;1&#39;,&#39;2&#39;,&#39;3&#39;,&#39;4&#39;,&#39;5&#39;,&#39;6&#39;,&#39;7&#39;,&#39;8&#39;,&#39;9&#39;,&#39;A&#39;,&#39;B&#39;,&#39;C&#39;,&#39;D&#39;,&#39;E&#39;,&#39;F&#39;};\r\n            private boolean upper;\r\n            public Encoder(boolean upper) {\r\n                this.upper=upper;\r\n            }\r\n            public String encode(byte[] data){\r\n                char[] value=new char[data.length*2];\r\n                char[] toHex=upper?toUpperHex:toLowerHex;\r\n                for(int i=0,j=0; i&lt;data.length; i++){\r\n                    int octet=data[i]&amp;0xFF;\r\n                    value[j++]=toHex[octet&gt;&gt;4];\r\n                    value[j++]=toHex[octet&amp;0xF];\r\n                }\r\n                return new String(value);\r\n            }\r\n            static final Encoder LOWER_CASE=new Encoder(false);\r\n            static final Encoder UPPER_CASE=new Encoder(true);\r\n        }\r\n        public static Encoder getEncoder(){\r\n            return Encoder.LOWER_CASE;\r\n        }\r\n        public static Encoder getUpperEncoder(){\r\n            return Encoder.UPPER_CASE;\r\n        }\r\n    \r\n        public static class Decoder{\r\n          private static int maxIndex=102;\r\n          private static int[] toIndex;\r\n          static {\r\n            toIndex=new int[maxIndex+1];\r\n            Arrays.fill(toIndex, -1);\r\n            char[] chars={&#39;0&#39;,&#39;1&#39;,&#39;2&#39;,&#39;3&#39;,&#39;4&#39;,&#39;5&#39;,&#39;6&#39;,&#39;7&#39;,&#39;8&#39;,&#39;9&#39;,&#39;A&#39;,&#39;B&#39;,&#39;C&#39;,&#39;D&#39;,&#39;E&#39;,&#39;F&#39;,&#39;a&#39;,&#39;b&#39;,&#39;c&#39;,&#39;d&#39;,&#39;e&#39;,&#39;f&#39;};\r\n            for(int i=0; i&lt;chars.length; i++) {\r\n              toIndex[(int)chars[i]]=i;\r\n            }\r\n          }\r\n          public Decoder() {\r\n          }\r\n          public byte[] decode(String str) {\r\n              char[] value=str.toCharArray();\r\n              int start=0;\r\n              if(value.length&gt;2 &amp;&amp; value[0]==&#39;0&#39; &amp;&amp; (value[1]==&#39;x&#39; || value[1]==&#39;X&#39;)) {\r\n                start=2;\r\n              }\r\n              int byteLength=(value.length-start)/2; // ignore trailing odd char if exists\r\n              byte[] data=new byte[byteLength];\r\n              for(int i=start,j=0;i&lt;value.length;i+=2,j++){\r\n                  int i1;\r\n                  int i2;\r\n                  char c1=value[i];\r\n                  char c2=value[i+1];\r\n                  if(c1&gt;maxIndex || (i1=toIndex[(int)c1])&lt;0 || c2&gt;maxIndex || (i2=toIndex[(int)c2])&lt;0) {\r\n                    throw new IllegalArgumentException(&quot;Invalid character at &quot;+i);\r\n                  }\r\n                  data[j]=(byte)((i1&lt;&lt;4)+i2);\r\n              }\r\n              return data;\r\n          }\r\n          static final Decoder IGNORE_CASE=new Decoder();\r\n      }\r\n      public static Decoder getDecoder(){\r\n          return Decoder.IGNORE_CASE;\r\n      }\r\n    }\r\n","title":"Java: convert a byte array to a hex string?","body":"<p>Here is a <code>java.util.Base64</code>-like implementation, isn't it pretty?</p>\n<pre><code>import java.util.Arrays;\n\npublic class Base16/* a.k.a. Hex */ {\n    public static class Encoder{\n        private static char[] toLowerHex={'0','1','2','3','4','5','6','7','8','9','a','b','c','d','e','f'};\n        private static char[] toUpperHex={'0','1','2','3','4','5','6','7','8','9','A','B','C','D','E','F'};\n        private boolean upper;\n        public Encoder(boolean upper) {\n            this.upper=upper;\n        }\n        public String encode(byte[] data){\n            char[] value=new char[data.length*2];\n            char[] toHex=upper?toUpperHex:toLowerHex;\n            for(int i=0,j=0; i&lt;data.length; i++){\n                int octet=data[i]&amp;0xFF;\n                value[j++]=toHex[octet&gt;&gt;4];\n                value[j++]=toHex[octet&amp;0xF];\n            }\n            return new String(value);\n        }\n        static final Encoder LOWER_CASE=new Encoder(false);\n        static final Encoder UPPER_CASE=new Encoder(true);\n    }\n    public static Encoder getEncoder(){\n        return Encoder.LOWER_CASE;\n    }\n    public static Encoder getUpperEncoder(){\n        return Encoder.UPPER_CASE;\n    }\n\n    public static class Decoder{\n      private static int maxIndex=102;\n      private static int[] toIndex;\n      static {\n        toIndex=new int[maxIndex+1];\n        Arrays.fill(toIndex, -1);\n        char[] chars={'0','1','2','3','4','5','6','7','8','9','A','B','C','D','E','F','a','b','c','d','e','f'};\n        for(int i=0; i&lt;chars.length; i++) {\n          toIndex[(int)chars[i]]=i;\n        }\n      }\n      public Decoder() {\n      }\n      public byte[] decode(String str) {\n          char[] value=str.toCharArray();\n          int start=0;\n          if(value.length&gt;2 &amp;&amp; value[0]=='0' &amp;&amp; (value[1]=='x' || value[1]=='X')) {\n            start=2;\n          }\n          int byteLength=(value.length-start)/2; // ignore trailing odd char if exists\n          byte[] data=new byte[byteLength];\n          for(int i=start,j=0;i&lt;value.length;i+=2,j++){\n              int i1;\n              int i2;\n              char c1=value[i];\n              char c2=value[i+1];\n              if(c1&gt;maxIndex || (i1=toIndex[(int)c1])&lt;0 || c2&gt;maxIndex || (i2=toIndex[(int)c2])&lt;0) {\n                throw new IllegalArgumentException(&quot;Invalid character at &quot;+i);\n              }\n              data[j]=(byte)((i1&lt;&lt;4)+i2);\n          }\n          return data;\n      }\n      static final Decoder IGNORE_CASE=new Decoder();\n  }\n  public static Decoder getDecoder(){\n      return Decoder.IGNORE_CASE;\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":65578,"reputation":5045,"user_id":192901,"accept_rate":77,"display_name":"kakopappa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1519100346,"creation_date":1519100346,"answer_id":48877792,"question_id":9655181,"body_markdown":"    private static String bytesToHexString(byte[] bytes, int length) {\r\n            if (bytes == null || length == 0) return null;\r\n    \r\n            StringBuilder ret = new StringBuilder(2*length);\r\n    \r\n            for (int i = 0 ; i &lt; length ; i++) {\r\n                int b;\r\n    \r\n                b = 0x0f &amp; (bytes[i] &gt;&gt; 4);\r\n                ret.append(&quot;0123456789abcdef&quot;.charAt(b));\r\n    \r\n                b = 0x0f &amp; bytes[i];\r\n                ret.append(&quot;0123456789abcdef&quot;.charAt(b));\r\n            }\r\n    \r\n            return ret.toString();\r\n        }","title":"Java: convert a byte array to a hex string?","body":"<pre><code>private static String bytesToHexString(byte[] bytes, int length) {\n        if (bytes == null || length == 0) return null;\n\n        StringBuilder ret = new StringBuilder(2*length);\n\n        for (int i = 0 ; i &lt; length ; i++) {\n            int b;\n\n            b = 0x0f &amp; (bytes[i] &gt;&gt; 4);\n            ret.append(\"0123456789abcdef\".charAt(b));\n\n            b = 0x0f &amp; bytes[i];\n            ret.append(\"0123456789abcdef\".charAt(b));\n        }\n\n        return ret.toString();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2289455,"reputation":5106,"user_id":2012715,"accept_rate":66,"display_name":"Dmytro"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1526345690,"creation_date":1526340085,"answer_id":50340319,"question_id":9655181,"body_markdown":"Can&#39;t find any solution on this page that doesn&#39;t\r\n\r\n1. Use a loop\r\n2. Use javax.xml.bind.DatatypeConverter which compiles fine but often throws java.lang.NoClassDefFoundError at runtime.\r\n\r\nHere&#39;s a solution which doesn&#39;t have the flaws above(no promises mine doesn&#39;t have other flaws though)\r\n\r\n    import java.math.BigInteger;\r\n    \r\n    import static java.lang.System.out;\r\n    public final class App2 {\r\n        // | proposed solution.\r\n        public static String encode(byte[] bytes) {          \r\n            final int length = bytes.length;\r\n            \r\n            // | BigInteger constructor throws if it is given an empty array.\r\n            if (length == 0) {\r\n                return &quot;00&quot;;\r\n            }\r\n            \r\n            final int evenLength = (int)(2 * Math.ceil(length / 2.0));\r\n            final String format = &quot;%0&quot; + evenLength + &quot;x&quot;;         \r\n            final String result = String.format (format, new BigInteger(bytes));\r\n            \r\n            return result;\r\n        }\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n            // 00\r\n            out.println(encode(new byte[] {})); \r\n            \r\n            // 01\r\n            out.println(encode(new byte[] {1})); \r\n            \r\n            //203040\r\n            out.println(encode(new byte[] {0x20, 0x30, 0x40})); \r\n    \r\n            // 416c6c20796f75722062617365206172652062656c6f6e6720746f2075732e\r\n            out.println(encode(&quot;All your base are belong to us.&quot;.getBytes()));\r\n        }\r\n    }   \r\n\r\nI couldn&#39;t get this under 62 opcodes, but if you can live without 0 padding in case the first byte is less than 0x10, then the following solution only uses 23 opcodes. Really shows how &quot;easy to implement yourself&quot; solutions like &quot;pad with a zero if string length is odd&quot; can get pretty expensive if a native implementation is not already available(or in this case, if BigInteger had an option to prefix with zeros in toString).\r\n\r\n    public static String encode(byte[] bytes) {          \r\n        final int length = bytes.length;\r\n        \r\n        // | BigInteger constructor throws if it is given an empty array.\r\n        if (length == 0) {\r\n            return &quot;00&quot;;\r\n        }\r\n        \r\n        return new BigInteger(bytes).toString(16);\r\n    }","title":"Java: convert a byte array to a hex string?","body":"<p>Can't find any solution on this page that doesn't</p>\n\n<ol>\n<li>Use a loop</li>\n<li>Use javax.xml.bind.DatatypeConverter which compiles fine but often throws java.lang.NoClassDefFoundError at runtime.</li>\n</ol>\n\n<p>Here's a solution which doesn't have the flaws above(no promises mine doesn't have other flaws though)</p>\n\n<pre><code>import java.math.BigInteger;\n\nimport static java.lang.System.out;\npublic final class App2 {\n    // | proposed solution.\n    public static String encode(byte[] bytes) {          \n        final int length = bytes.length;\n\n        // | BigInteger constructor throws if it is given an empty array.\n        if (length == 0) {\n            return \"00\";\n        }\n\n        final int evenLength = (int)(2 * Math.ceil(length / 2.0));\n        final String format = \"%0\" + evenLength + \"x\";         \n        final String result = String.format (format, new BigInteger(bytes));\n\n        return result;\n    }\n\n    public static void main(String[] args) throws Exception {\n        // 00\n        out.println(encode(new byte[] {})); \n\n        // 01\n        out.println(encode(new byte[] {1})); \n\n        //203040\n        out.println(encode(new byte[] {0x20, 0x30, 0x40})); \n\n        // 416c6c20796f75722062617365206172652062656c6f6e6720746f2075732e\n        out.println(encode(\"All your base are belong to us.\".getBytes()));\n    }\n}   \n</code></pre>\n\n<p>I couldn't get this under 62 opcodes, but if you can live without 0 padding in case the first byte is less than 0x10, then the following solution only uses 23 opcodes. Really shows how \"easy to implement yourself\" solutions like \"pad with a zero if string length is odd\" can get pretty expensive if a native implementation is not already available(or in this case, if BigInteger had an option to prefix with zeros in toString).</p>\n\n<pre><code>public static String encode(byte[] bytes) {          \n    final int length = bytes.length;\n\n    // | BigInteger constructor throws if it is given an empty array.\n    if (length == 0) {\n        return \"00\";\n    }\n\n    return new BigInteger(bytes).toString(16);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3207356,"reputation":2687,"user_id":2708147,"accept_rate":100,"display_name":"Netherwire"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1527979280,"creation_date":1527978800,"answer_id":50661726,"question_id":9655181,"body_markdown":"My solution is based on maybeWeCouldStealAVan&#39;s solution, but does not rely on any additionaly allocated lookup tables. It does not uses any &#39;int-to-char&#39; casts hacks (actually, `Character.forDigit()` does it, performing some comparison to check what the digit truly is) and thus might be a bit slower. Please feel free to use it wherever you want. Cheers.\r\n\r\n    public static String bytesToHex(final byte[] bytes)\r\n    {\r\n        final int numBytes = bytes.length;\r\n        final char[] container = new char[numBytes * 2];\r\n    \r\n        for (int i = 0; i &lt; numBytes; i++)\r\n        {\r\n            final int b = bytes[i] &amp; 0xFF;\r\n    \r\n            container[i * 2] = Character.forDigit(b &gt;&gt;&gt; 4, 0x10);\r\n            container[i * 2 + 1] = Character.forDigit(b &amp; 0xF, 0x10);\r\n        }\r\n    \r\n        return new String(container);\r\n    }","title":"Java: convert a byte array to a hex string?","body":"<p>My solution is based on maybeWeCouldStealAVan's solution, but does not rely on any additionaly allocated lookup tables. It does not uses any 'int-to-char' casts hacks (actually, <code>Character.forDigit()</code> does it, performing some comparison to check what the digit truly is) and thus might be a bit slower. Please feel free to use it wherever you want. Cheers.</p>\n\n<pre><code>public static String bytesToHex(final byte[] bytes)\n{\n    final int numBytes = bytes.length;\n    final char[] container = new char[numBytes * 2];\n\n    for (int i = 0; i &lt; numBytes; i++)\n    {\n        final int b = bytes[i] &amp; 0xFF;\n\n        container[i * 2] = Character.forDigit(b &gt;&gt;&gt; 4, 0x10);\n        container[i * 2 + 1] = Character.forDigit(b &amp; 0xF, 0x10);\n    }\n\n    return new String(container);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8687130,"reputation":3474,"user_id":6501190,"accept_rate":83,"display_name":"java-addict301"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1550080316,"creation_date":1550080316,"answer_id":54676500,"question_id":9655181,"body_markdown":"If you&#39;re using the Spring Security framework, you can use:\r\n\r\n\r\n    import org.springframework.security.crypto.codec.Hex\r\n    \r\n    final String testString = &quot;Test String&quot;;\r\n    final byte[] byteArray = testString.getBytes();\r\n    System.out.println(Hex.encode(byteArray));\r\n\r\n","title":"Java: convert a byte array to a hex string?","body":"<p>If you're using the Spring Security framework, you can use:</p>\n\n<pre><code>import org.springframework.security.crypto.codec.Hex\n\nfinal String testString = \"Test String\";\nfinal byte[] byteArray = testString.getBytes();\nSystem.out.println(Hex.encode(byteArray));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8652819,"reputation":1174,"user_id":6477946,"display_name":"Rajneesh Shukla"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1585655332,"creation_date":1556608194,"answer_id":55915622,"question_id":9655181,"body_markdown":"\r\n    \r\n    Converts bytes data to hex characters\r\n    \r\n    @param bytes byte array to be converted to hex string\r\n    @return byte String in hex format\r\n             \r\n    private static String bytesToHex(byte[] bytes) {\r\n        char[] hexChars = new char[bytes.length * 2];\r\n        int v;\r\n        for (int j = 0; j &lt; bytes.length; j++) {\r\n            v = bytes[j] &amp; 0xFF;\r\n            hexChars[j * 2] = HEX_ARRAY[v &gt;&gt;&gt; 4];\r\n            hexChars[j * 2 + 1] = HEX_ARRAY[v &amp; 0x0F];\r\n        }\r\n        return new String(hexChars);\r\n    }","title":"Java: convert a byte array to a hex string?","body":"<pre><code>Converts bytes data to hex characters\n\n@param bytes byte array to be converted to hex string\n@return byte String in hex format\n\nprivate static String bytesToHex(byte[] bytes) {\n    char[] hexChars = new char[bytes.length * 2];\n    int v;\n    for (int j = 0; j &lt; bytes.length; j++) {\n        v = bytes[j] &amp; 0xFF;\n        hexChars[j * 2] = HEX_ARRAY[v &gt;&gt;&gt; 4];\n        hexChars[j * 2 + 1] = HEX_ARRAY[v &amp; 0x0F];\n    }\n    return new String(hexChars);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":938147,"reputation":514,"user_id":966699,"display_name":"Donald Duck"},"score":0,"creation_date":1694527204,"post_id":56668285,"comment_id":135900698,"body_markdown":"It is never a good choice to write your own &quot;wheel&quot;, given there are implementations already available.","body":"It is never a good choice to write your own &quot;wheel&quot;, given there are implementations already available."},{"owner":{"account_id":8281147,"reputation":420,"user_id":6225803,"display_name":"krishna T"},"score":0,"creation_date":1695233677,"post_id":56668285,"comment_id":135998577,"body_markdown":"@DonaldDuck I agree with you in most cases. But sometimes adding a dependency  to just use one function is not good either.","body":"@DonaldDuck I agree with you in most cases. But sometimes adding a dependency  to just use one function is not good either."}],"tags":[],"owner":{"account_id":8281147,"reputation":420,"user_id":6225803,"display_name":"krishna T"},"comment_count":2,"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1560949427,"creation_date":1560949271,"answer_id":56668285,"question_id":9655181,"body_markdown":"Adding a utility jar for simple function is not good option. Instead assemble your own utility classes. following is possible faster implementation.\r\n\r\n\r\n    public class ByteHex {\r\n    \r\n    \tpublic static int hexToByte(char ch) {\r\n    \t\tif (&#39;0&#39; &lt;= ch &amp;&amp; ch &lt;= &#39;9&#39;) return ch - &#39;0&#39;;\r\n    \t\tif (&#39;A&#39; &lt;= ch &amp;&amp; ch &lt;= &#39;F&#39;) return ch - &#39;A&#39; + 10;\r\n    \t\tif (&#39;a&#39; &lt;= ch &amp;&amp; ch &lt;= &#39;f&#39;) return ch - &#39;a&#39; + 10;\r\n    \t\treturn -1;\r\n    \t}\r\n    \t\r\n    \tprivate static final String[] byteToHexTable = new String[]\r\n    \t{\r\n    \t    &quot;00&quot;, &quot;01&quot;, &quot;02&quot;, &quot;03&quot;, &quot;04&quot;, &quot;05&quot;, &quot;06&quot;, &quot;07&quot;, &quot;08&quot;, &quot;09&quot;, &quot;0A&quot;, &quot;0B&quot;, &quot;0C&quot;, &quot;0D&quot;, &quot;0E&quot;, &quot;0F&quot;,\r\n    \t    &quot;10&quot;, &quot;11&quot;, &quot;12&quot;, &quot;13&quot;, &quot;14&quot;, &quot;15&quot;, &quot;16&quot;, &quot;17&quot;, &quot;18&quot;, &quot;19&quot;, &quot;1A&quot;, &quot;1B&quot;, &quot;1C&quot;, &quot;1D&quot;, &quot;1E&quot;, &quot;1F&quot;,\r\n    \t    &quot;20&quot;, &quot;21&quot;, &quot;22&quot;, &quot;23&quot;, &quot;24&quot;, &quot;25&quot;, &quot;26&quot;, &quot;27&quot;, &quot;28&quot;, &quot;29&quot;, &quot;2A&quot;, &quot;2B&quot;, &quot;2C&quot;, &quot;2D&quot;, &quot;2E&quot;, &quot;2F&quot;,\r\n    \t    &quot;30&quot;, &quot;31&quot;, &quot;32&quot;, &quot;33&quot;, &quot;34&quot;, &quot;35&quot;, &quot;36&quot;, &quot;37&quot;, &quot;38&quot;, &quot;39&quot;, &quot;3A&quot;, &quot;3B&quot;, &quot;3C&quot;, &quot;3D&quot;, &quot;3E&quot;, &quot;3F&quot;,\r\n    \t    &quot;40&quot;, &quot;41&quot;, &quot;42&quot;, &quot;43&quot;, &quot;44&quot;, &quot;45&quot;, &quot;46&quot;, &quot;47&quot;, &quot;48&quot;, &quot;49&quot;, &quot;4A&quot;, &quot;4B&quot;, &quot;4C&quot;, &quot;4D&quot;, &quot;4E&quot;, &quot;4F&quot;,\r\n    \t    &quot;50&quot;, &quot;51&quot;, &quot;52&quot;, &quot;53&quot;, &quot;54&quot;, &quot;55&quot;, &quot;56&quot;, &quot;57&quot;, &quot;58&quot;, &quot;59&quot;, &quot;5A&quot;, &quot;5B&quot;, &quot;5C&quot;, &quot;5D&quot;, &quot;5E&quot;, &quot;5F&quot;,\r\n    \t    &quot;60&quot;, &quot;61&quot;, &quot;62&quot;, &quot;63&quot;, &quot;64&quot;, &quot;65&quot;, &quot;66&quot;, &quot;67&quot;, &quot;68&quot;, &quot;69&quot;, &quot;6A&quot;, &quot;6B&quot;, &quot;6C&quot;, &quot;6D&quot;, &quot;6E&quot;, &quot;6F&quot;,\r\n    \t    &quot;70&quot;, &quot;71&quot;, &quot;72&quot;, &quot;73&quot;, &quot;74&quot;, &quot;75&quot;, &quot;76&quot;, &quot;77&quot;, &quot;78&quot;, &quot;79&quot;, &quot;7A&quot;, &quot;7B&quot;, &quot;7C&quot;, &quot;7D&quot;, &quot;7E&quot;, &quot;7F&quot;,\r\n    \t    &quot;80&quot;, &quot;81&quot;, &quot;82&quot;, &quot;83&quot;, &quot;84&quot;, &quot;85&quot;, &quot;86&quot;, &quot;87&quot;, &quot;88&quot;, &quot;89&quot;, &quot;8A&quot;, &quot;8B&quot;, &quot;8C&quot;, &quot;8D&quot;, &quot;8E&quot;, &quot;8F&quot;,\r\n    \t    &quot;90&quot;, &quot;91&quot;, &quot;92&quot;, &quot;93&quot;, &quot;94&quot;, &quot;95&quot;, &quot;96&quot;, &quot;97&quot;, &quot;98&quot;, &quot;99&quot;, &quot;9A&quot;, &quot;9B&quot;, &quot;9C&quot;, &quot;9D&quot;, &quot;9E&quot;, &quot;9F&quot;,\r\n    \t    &quot;A0&quot;, &quot;A1&quot;, &quot;A2&quot;, &quot;A3&quot;, &quot;A4&quot;, &quot;A5&quot;, &quot;A6&quot;, &quot;A7&quot;, &quot;A8&quot;, &quot;A9&quot;, &quot;AA&quot;, &quot;AB&quot;, &quot;AC&quot;, &quot;AD&quot;, &quot;AE&quot;, &quot;AF&quot;,\r\n    \t    &quot;B0&quot;, &quot;B1&quot;, &quot;B2&quot;, &quot;B3&quot;, &quot;B4&quot;, &quot;B5&quot;, &quot;B6&quot;, &quot;B7&quot;, &quot;B8&quot;, &quot;B9&quot;, &quot;BA&quot;, &quot;BB&quot;, &quot;BC&quot;, &quot;BD&quot;, &quot;BE&quot;, &quot;BF&quot;,\r\n    \t    &quot;C0&quot;, &quot;C1&quot;, &quot;C2&quot;, &quot;C3&quot;, &quot;C4&quot;, &quot;C5&quot;, &quot;C6&quot;, &quot;C7&quot;, &quot;C8&quot;, &quot;C9&quot;, &quot;CA&quot;, &quot;CB&quot;, &quot;CC&quot;, &quot;CD&quot;, &quot;CE&quot;, &quot;CF&quot;,\r\n    \t    &quot;D0&quot;, &quot;D1&quot;, &quot;D2&quot;, &quot;D3&quot;, &quot;D4&quot;, &quot;D5&quot;, &quot;D6&quot;, &quot;D7&quot;, &quot;D8&quot;, &quot;D9&quot;, &quot;DA&quot;, &quot;DB&quot;, &quot;DC&quot;, &quot;DD&quot;, &quot;DE&quot;, &quot;DF&quot;,\r\n    \t    &quot;E0&quot;, &quot;E1&quot;, &quot;E2&quot;, &quot;E3&quot;, &quot;E4&quot;, &quot;E5&quot;, &quot;E6&quot;, &quot;E7&quot;, &quot;E8&quot;, &quot;E9&quot;, &quot;EA&quot;, &quot;EB&quot;, &quot;EC&quot;, &quot;ED&quot;, &quot;EE&quot;, &quot;EF&quot;,\r\n    \t    &quot;F0&quot;, &quot;F1&quot;, &quot;F2&quot;, &quot;F3&quot;, &quot;F4&quot;, &quot;F5&quot;, &quot;F6&quot;, &quot;F7&quot;, &quot;F8&quot;, &quot;F9&quot;, &quot;FA&quot;, &quot;FB&quot;, &quot;FC&quot;, &quot;FD&quot;, &quot;FE&quot;, &quot;FF&quot;\r\n    \t};\r\n    \t\r\n    \tprivate static final String[] byteToHexTableLowerCase = new String[]\r\n    \t{\r\n    \t    &quot;00&quot;, &quot;01&quot;, &quot;02&quot;, &quot;03&quot;, &quot;04&quot;, &quot;05&quot;, &quot;06&quot;, &quot;07&quot;, &quot;08&quot;, &quot;09&quot;, &quot;0a&quot;, &quot;0b&quot;, &quot;0c&quot;, &quot;0d&quot;, &quot;0e&quot;, &quot;0f&quot;,\r\n    \t    &quot;10&quot;, &quot;11&quot;, &quot;12&quot;, &quot;13&quot;, &quot;14&quot;, &quot;15&quot;, &quot;16&quot;, &quot;17&quot;, &quot;18&quot;, &quot;19&quot;, &quot;1a&quot;, &quot;1b&quot;, &quot;1c&quot;, &quot;1d&quot;, &quot;1e&quot;, &quot;1f&quot;,\r\n    \t    &quot;20&quot;, &quot;21&quot;, &quot;22&quot;, &quot;23&quot;, &quot;24&quot;, &quot;25&quot;, &quot;26&quot;, &quot;27&quot;, &quot;28&quot;, &quot;29&quot;, &quot;2a&quot;, &quot;2b&quot;, &quot;2c&quot;, &quot;2d&quot;, &quot;2e&quot;, &quot;2f&quot;,\r\n    \t    &quot;30&quot;, &quot;31&quot;, &quot;32&quot;, &quot;33&quot;, &quot;34&quot;, &quot;35&quot;, &quot;36&quot;, &quot;37&quot;, &quot;38&quot;, &quot;39&quot;, &quot;3a&quot;, &quot;3b&quot;, &quot;3c&quot;, &quot;3d&quot;, &quot;3e&quot;, &quot;3f&quot;,\r\n    \t    &quot;40&quot;, &quot;41&quot;, &quot;42&quot;, &quot;43&quot;, &quot;44&quot;, &quot;45&quot;, &quot;46&quot;, &quot;47&quot;, &quot;48&quot;, &quot;49&quot;, &quot;4a&quot;, &quot;4b&quot;, &quot;4c&quot;, &quot;4d&quot;, &quot;4e&quot;, &quot;4f&quot;,\r\n    \t    &quot;50&quot;, &quot;51&quot;, &quot;52&quot;, &quot;53&quot;, &quot;54&quot;, &quot;55&quot;, &quot;56&quot;, &quot;57&quot;, &quot;58&quot;, &quot;59&quot;, &quot;5a&quot;, &quot;5b&quot;, &quot;5c&quot;, &quot;5d&quot;, &quot;5e&quot;, &quot;5f&quot;,\r\n    \t    &quot;60&quot;, &quot;61&quot;, &quot;62&quot;, &quot;63&quot;, &quot;64&quot;, &quot;65&quot;, &quot;66&quot;, &quot;67&quot;, &quot;68&quot;, &quot;69&quot;, &quot;6a&quot;, &quot;6b&quot;, &quot;6c&quot;, &quot;6d&quot;, &quot;6e&quot;, &quot;6f&quot;,\r\n    \t    &quot;70&quot;, &quot;71&quot;, &quot;72&quot;, &quot;73&quot;, &quot;74&quot;, &quot;75&quot;, &quot;76&quot;, &quot;77&quot;, &quot;78&quot;, &quot;79&quot;, &quot;7a&quot;, &quot;7b&quot;, &quot;7c&quot;, &quot;7d&quot;, &quot;7e&quot;, &quot;7f&quot;,\r\n    \t    &quot;80&quot;, &quot;81&quot;, &quot;82&quot;, &quot;83&quot;, &quot;84&quot;, &quot;85&quot;, &quot;86&quot;, &quot;87&quot;, &quot;88&quot;, &quot;89&quot;, &quot;8a&quot;, &quot;8b&quot;, &quot;8c&quot;, &quot;8d&quot;, &quot;8e&quot;, &quot;8f&quot;,\r\n    \t    &quot;90&quot;, &quot;91&quot;, &quot;92&quot;, &quot;93&quot;, &quot;94&quot;, &quot;95&quot;, &quot;96&quot;, &quot;97&quot;, &quot;98&quot;, &quot;99&quot;, &quot;9a&quot;, &quot;9b&quot;, &quot;9c&quot;, &quot;9d&quot;, &quot;9e&quot;, &quot;9f&quot;,\r\n    \t    &quot;a0&quot;, &quot;a1&quot;, &quot;a2&quot;, &quot;a3&quot;, &quot;a4&quot;, &quot;a5&quot;, &quot;a6&quot;, &quot;a7&quot;, &quot;a8&quot;, &quot;a9&quot;, &quot;aa&quot;, &quot;ab&quot;, &quot;ac&quot;, &quot;ad&quot;, &quot;ae&quot;, &quot;af&quot;,\r\n    \t    &quot;b0&quot;, &quot;b1&quot;, &quot;b2&quot;, &quot;b3&quot;, &quot;b4&quot;, &quot;b5&quot;, &quot;b6&quot;, &quot;b7&quot;, &quot;b8&quot;, &quot;b9&quot;, &quot;ba&quot;, &quot;bb&quot;, &quot;bc&quot;, &quot;bd&quot;, &quot;be&quot;, &quot;bf&quot;,\r\n    \t    &quot;c0&quot;, &quot;c1&quot;, &quot;c2&quot;, &quot;c3&quot;, &quot;c4&quot;, &quot;c5&quot;, &quot;c6&quot;, &quot;c7&quot;, &quot;c8&quot;, &quot;c9&quot;, &quot;ca&quot;, &quot;cb&quot;, &quot;cc&quot;, &quot;cd&quot;, &quot;ce&quot;, &quot;cf&quot;,\r\n    \t    &quot;d0&quot;, &quot;d1&quot;, &quot;d2&quot;, &quot;d3&quot;, &quot;d4&quot;, &quot;d5&quot;, &quot;d6&quot;, &quot;d7&quot;, &quot;d8&quot;, &quot;d9&quot;, &quot;da&quot;, &quot;db&quot;, &quot;dc&quot;, &quot;dd&quot;, &quot;de&quot;, &quot;df&quot;,\r\n    \t    &quot;e0&quot;, &quot;e1&quot;, &quot;e2&quot;, &quot;e3&quot;, &quot;e4&quot;, &quot;e5&quot;, &quot;e6&quot;, &quot;e7&quot;, &quot;e8&quot;, &quot;e9&quot;, &quot;ea&quot;, &quot;eb&quot;, &quot;ec&quot;, &quot;ed&quot;, &quot;ee&quot;, &quot;ef&quot;,\r\n    \t    &quot;f0&quot;, &quot;f1&quot;, &quot;f2&quot;, &quot;f3&quot;, &quot;f4&quot;, &quot;f5&quot;, &quot;f6&quot;, &quot;f7&quot;, &quot;f8&quot;, &quot;f9&quot;, &quot;fa&quot;, &quot;fb&quot;, &quot;fc&quot;, &quot;fd&quot;, &quot;fe&quot;, &quot;ff&quot;\r\n    \t};\r\n    \t\r\n    \tpublic static String byteToHex(byte b){\r\n    \t\treturn byteToHexTable[b &amp; 0xFF];\r\n    \t}\r\n    \t\r\n    \tpublic static String byteToHex(byte[] bytes){\r\n    \t\tif(bytes == null) return null;\r\n    \t\tStringBuilder sb = new StringBuilder(bytes.length*2);\r\n    \t\tfor(byte b : bytes) sb.append(byteToHexTable[b &amp; 0xFF]);\r\n    \t\treturn sb.toString();\r\n    \t}\r\n    \t\r\n    \tpublic static String byteToHex(short[] bytes){\r\n    \t\tStringBuilder sb = new StringBuilder(bytes.length*2);\r\n    \t\tfor(short b : bytes) sb.append(byteToHexTable[((byte)b) &amp; 0xFF]);\r\n    \t\treturn sb.toString();\r\n    \t}\r\n    \t\r\n    \tpublic static String byteToHexLowerCase(byte[] bytes){\r\n    \t\tStringBuilder sb = new StringBuilder(bytes.length*2);\r\n    \t\tfor(byte b : bytes) sb.append(byteToHexTableLowerCase[b &amp; 0xFF]);\r\n    \t\treturn sb.toString();\r\n    \t}\r\n    \t\r\n    \tpublic static byte[] hexToByte(String hexString) {\r\n    \t\tif(hexString == null) return null;\r\n    \t\tbyte[] byteArray = new byte[hexString.length() / 2];\r\n    \t\tfor (int i = 0; i &lt; hexString.length(); i += 2) {\r\n    \t\t\tbyteArray[i / 2] = (byte) (hexToByte(hexString.charAt(i)) * 16 + hexToByte(hexString.charAt(i+1)));\r\n    \t\t}\r\n    \t\treturn byteArray;\r\n    \t}\r\n    \t\r\n    \tpublic static byte hexPairToByte(char ch1, char ch2) {\r\n    \t\treturn (byte) (hexToByte(ch1) * 16 + hexToByte(ch2));\r\n    \t}\r\n    \t\r\n    \r\n    }\r\n\r\n\r\n","title":"Java: convert a byte array to a hex string?","body":"<p>Adding a utility jar for simple function is not good option. Instead assemble your own utility classes. following is possible faster implementation.</p>\n\n<pre><code>public class ByteHex {\n\n    public static int hexToByte(char ch) {\n        if ('0' &lt;= ch &amp;&amp; ch &lt;= '9') return ch - '0';\n        if ('A' &lt;= ch &amp;&amp; ch &lt;= 'F') return ch - 'A' + 10;\n        if ('a' &lt;= ch &amp;&amp; ch &lt;= 'f') return ch - 'a' + 10;\n        return -1;\n    }\n\n    private static final String[] byteToHexTable = new String[]\n    {\n        \"00\", \"01\", \"02\", \"03\", \"04\", \"05\", \"06\", \"07\", \"08\", \"09\", \"0A\", \"0B\", \"0C\", \"0D\", \"0E\", \"0F\",\n        \"10\", \"11\", \"12\", \"13\", \"14\", \"15\", \"16\", \"17\", \"18\", \"19\", \"1A\", \"1B\", \"1C\", \"1D\", \"1E\", \"1F\",\n        \"20\", \"21\", \"22\", \"23\", \"24\", \"25\", \"26\", \"27\", \"28\", \"29\", \"2A\", \"2B\", \"2C\", \"2D\", \"2E\", \"2F\",\n        \"30\", \"31\", \"32\", \"33\", \"34\", \"35\", \"36\", \"37\", \"38\", \"39\", \"3A\", \"3B\", \"3C\", \"3D\", \"3E\", \"3F\",\n        \"40\", \"41\", \"42\", \"43\", \"44\", \"45\", \"46\", \"47\", \"48\", \"49\", \"4A\", \"4B\", \"4C\", \"4D\", \"4E\", \"4F\",\n        \"50\", \"51\", \"52\", \"53\", \"54\", \"55\", \"56\", \"57\", \"58\", \"59\", \"5A\", \"5B\", \"5C\", \"5D\", \"5E\", \"5F\",\n        \"60\", \"61\", \"62\", \"63\", \"64\", \"65\", \"66\", \"67\", \"68\", \"69\", \"6A\", \"6B\", \"6C\", \"6D\", \"6E\", \"6F\",\n        \"70\", \"71\", \"72\", \"73\", \"74\", \"75\", \"76\", \"77\", \"78\", \"79\", \"7A\", \"7B\", \"7C\", \"7D\", \"7E\", \"7F\",\n        \"80\", \"81\", \"82\", \"83\", \"84\", \"85\", \"86\", \"87\", \"88\", \"89\", \"8A\", \"8B\", \"8C\", \"8D\", \"8E\", \"8F\",\n        \"90\", \"91\", \"92\", \"93\", \"94\", \"95\", \"96\", \"97\", \"98\", \"99\", \"9A\", \"9B\", \"9C\", \"9D\", \"9E\", \"9F\",\n        \"A0\", \"A1\", \"A2\", \"A3\", \"A4\", \"A5\", \"A6\", \"A7\", \"A8\", \"A9\", \"AA\", \"AB\", \"AC\", \"AD\", \"AE\", \"AF\",\n        \"B0\", \"B1\", \"B2\", \"B3\", \"B4\", \"B5\", \"B6\", \"B7\", \"B8\", \"B9\", \"BA\", \"BB\", \"BC\", \"BD\", \"BE\", \"BF\",\n        \"C0\", \"C1\", \"C2\", \"C3\", \"C4\", \"C5\", \"C6\", \"C7\", \"C8\", \"C9\", \"CA\", \"CB\", \"CC\", \"CD\", \"CE\", \"CF\",\n        \"D0\", \"D1\", \"D2\", \"D3\", \"D4\", \"D5\", \"D6\", \"D7\", \"D8\", \"D9\", \"DA\", \"DB\", \"DC\", \"DD\", \"DE\", \"DF\",\n        \"E0\", \"E1\", \"E2\", \"E3\", \"E4\", \"E5\", \"E6\", \"E7\", \"E8\", \"E9\", \"EA\", \"EB\", \"EC\", \"ED\", \"EE\", \"EF\",\n        \"F0\", \"F1\", \"F2\", \"F3\", \"F4\", \"F5\", \"F6\", \"F7\", \"F8\", \"F9\", \"FA\", \"FB\", \"FC\", \"FD\", \"FE\", \"FF\"\n    };\n\n    private static final String[] byteToHexTableLowerCase = new String[]\n    {\n        \"00\", \"01\", \"02\", \"03\", \"04\", \"05\", \"06\", \"07\", \"08\", \"09\", \"0a\", \"0b\", \"0c\", \"0d\", \"0e\", \"0f\",\n        \"10\", \"11\", \"12\", \"13\", \"14\", \"15\", \"16\", \"17\", \"18\", \"19\", \"1a\", \"1b\", \"1c\", \"1d\", \"1e\", \"1f\",\n        \"20\", \"21\", \"22\", \"23\", \"24\", \"25\", \"26\", \"27\", \"28\", \"29\", \"2a\", \"2b\", \"2c\", \"2d\", \"2e\", \"2f\",\n        \"30\", \"31\", \"32\", \"33\", \"34\", \"35\", \"36\", \"37\", \"38\", \"39\", \"3a\", \"3b\", \"3c\", \"3d\", \"3e\", \"3f\",\n        \"40\", \"41\", \"42\", \"43\", \"44\", \"45\", \"46\", \"47\", \"48\", \"49\", \"4a\", \"4b\", \"4c\", \"4d\", \"4e\", \"4f\",\n        \"50\", \"51\", \"52\", \"53\", \"54\", \"55\", \"56\", \"57\", \"58\", \"59\", \"5a\", \"5b\", \"5c\", \"5d\", \"5e\", \"5f\",\n        \"60\", \"61\", \"62\", \"63\", \"64\", \"65\", \"66\", \"67\", \"68\", \"69\", \"6a\", \"6b\", \"6c\", \"6d\", \"6e\", \"6f\",\n        \"70\", \"71\", \"72\", \"73\", \"74\", \"75\", \"76\", \"77\", \"78\", \"79\", \"7a\", \"7b\", \"7c\", \"7d\", \"7e\", \"7f\",\n        \"80\", \"81\", \"82\", \"83\", \"84\", \"85\", \"86\", \"87\", \"88\", \"89\", \"8a\", \"8b\", \"8c\", \"8d\", \"8e\", \"8f\",\n        \"90\", \"91\", \"92\", \"93\", \"94\", \"95\", \"96\", \"97\", \"98\", \"99\", \"9a\", \"9b\", \"9c\", \"9d\", \"9e\", \"9f\",\n        \"a0\", \"a1\", \"a2\", \"a3\", \"a4\", \"a5\", \"a6\", \"a7\", \"a8\", \"a9\", \"aa\", \"ab\", \"ac\", \"ad\", \"ae\", \"af\",\n        \"b0\", \"b1\", \"b2\", \"b3\", \"b4\", \"b5\", \"b6\", \"b7\", \"b8\", \"b9\", \"ba\", \"bb\", \"bc\", \"bd\", \"be\", \"bf\",\n        \"c0\", \"c1\", \"c2\", \"c3\", \"c4\", \"c5\", \"c6\", \"c7\", \"c8\", \"c9\", \"ca\", \"cb\", \"cc\", \"cd\", \"ce\", \"cf\",\n        \"d0\", \"d1\", \"d2\", \"d3\", \"d4\", \"d5\", \"d6\", \"d7\", \"d8\", \"d9\", \"da\", \"db\", \"dc\", \"dd\", \"de\", \"df\",\n        \"e0\", \"e1\", \"e2\", \"e3\", \"e4\", \"e5\", \"e6\", \"e7\", \"e8\", \"e9\", \"ea\", \"eb\", \"ec\", \"ed\", \"ee\", \"ef\",\n        \"f0\", \"f1\", \"f2\", \"f3\", \"f4\", \"f5\", \"f6\", \"f7\", \"f8\", \"f9\", \"fa\", \"fb\", \"fc\", \"fd\", \"fe\", \"ff\"\n    };\n\n    public static String byteToHex(byte b){\n        return byteToHexTable[b &amp; 0xFF];\n    }\n\n    public static String byteToHex(byte[] bytes){\n        if(bytes == null) return null;\n        StringBuilder sb = new StringBuilder(bytes.length*2);\n        for(byte b : bytes) sb.append(byteToHexTable[b &amp; 0xFF]);\n        return sb.toString();\n    }\n\n    public static String byteToHex(short[] bytes){\n        StringBuilder sb = new StringBuilder(bytes.length*2);\n        for(short b : bytes) sb.append(byteToHexTable[((byte)b) &amp; 0xFF]);\n        return sb.toString();\n    }\n\n    public static String byteToHexLowerCase(byte[] bytes){\n        StringBuilder sb = new StringBuilder(bytes.length*2);\n        for(byte b : bytes) sb.append(byteToHexTableLowerCase[b &amp; 0xFF]);\n        return sb.toString();\n    }\n\n    public static byte[] hexToByte(String hexString) {\n        if(hexString == null) return null;\n        byte[] byteArray = new byte[hexString.length() / 2];\n        for (int i = 0; i &lt; hexString.length(); i += 2) {\n            byteArray[i / 2] = (byte) (hexToByte(hexString.charAt(i)) * 16 + hexToByte(hexString.charAt(i+1)));\n        }\n        return byteArray;\n    }\n\n    public static byte hexPairToByte(char ch1, char ch2) {\n        return (byte) (hexToByte(ch1) * 16 + hexToByte(ch2));\n    }\n\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6972545,"reputation":720,"user_id":5348390,"display_name":"automorphic"},"score":2,"creation_date":1666127691,"post_id":58118078,"comment_id":130861364,"body_markdown":"Quite thorough! Since you&#39;re using Java 17, you might want to add `HexFormat.of` to the options for people using `JDK17+`.","body":"Quite thorough! Since you&#39;re using Java 17, you might want to add <code>HexFormat.of</code> to the options for people using <code>JDK17+</code>."},{"owner":{"account_id":405484,"reputation":34324,"user_id":774398,"accept_rate":83,"display_name":"Patrick"},"score":0,"creation_date":1666706226,"post_id":58118078,"comment_id":130996883,"body_markdown":"Was not aware of that, thanks for the hint - will update the answer!","body":"Was not aware of that, thanks for the hint - will update the answer!"},{"owner":{"account_id":130873,"reputation":20683,"user_id":330457,"accept_rate":82,"display_name":"Jin Kwon"},"score":0,"creation_date":1669524832,"post_id":58118078,"comment_id":131658466,"body_markdown":"@Patrick Would you please let the `HexFormat` kick into the Benchmark?","body":"@Patrick Would you please let the <code>HexFormat</code> kick into the Benchmark?"}],"tags":[],"owner":{"account_id":405484,"reputation":34324,"user_id":774398,"accept_rate":83,"display_name":"Patrick"},"comment_count":3,"down_vote_count":1,"up_vote_count":184,"is_accepted":false,"score":183,"last_activity_date":1677411507,"creation_date":1569504961,"answer_id":58118078,"question_id":9655181,"body_markdown":"Here are some common options ordered from simple (one-liner) to complex (huge library). If you are interested in performance, see the micro benchmarks below.\r\n\r\n## Option 1: Code snippet - Simple (only using JDK/Android)\r\n\r\n### Option 1a: BigInteger\r\n\r\nOne very simple solution is to use the `BigInteger`&#39;s hex representation:\r\n\r\n```java\r\nnew BigInteger(1, someByteArray).toString(16);\r\n```\r\n\r\nNote that since this handles _numbers_ not arbitrary _byte-strings_ it will omit leading zeros - this may or may not be what you want (e.g. `000AE3` vs `0AE3` for a 3 byte input). This is also very slow, about _100x slower_ compared to option 2.\r\n\r\n### Option 1b: String.format()\r\n\r\nUsing the `%X` placeholder, [`String.format()`][1] is able to encode most primitive types (`short`, `int`, `long`) to hex:\r\n\r\n```java\r\nString.format(&quot;%X&quot;, ByteBuffer.wrap(eightByteArray).getLong());\r\n```\r\n\r\n### Option 1c: Integer/Long (only 4/8 Byte Arrays)\r\n\r\nIf you **exclusively have 4 bytes arrays** you can use the [`toHexString`][2] method of the Integer class:\r\n\r\n```java\r\nInteger.toHexString(ByteBuffer.wrap(fourByteArray).getInt());\r\n```\r\n\r\nThe same works with **8 byte arrays** and [`Long`][3]\r\n\r\n```java\r\nLong.toHexString(ByteBuffer.wrap(eightByteArray).getLong());\r\n```\r\n\r\n### Option 1d: JDK17+ HexFormat\r\n\r\nFinally, JDK 17 offers first-level support of straight forward hex encoding with [`HexFormat`][4]:\r\n\r\n```java\r\nHexFormat hex = HexFormat.of();\r\nhex.formatHex(someByteArray)\r\n```\r\n\r\n## Option 2: Code snippet - Advanced\r\n\r\nHere is a full-featured, copy &amp; pasteable code snippet supporting **upper/lowercase** and [**endianness**][5]. It is optimized to minimize memory complexity and maximize performance and should be compatible with all modern Java versions (5+).\r\n\r\n```java\r\nprivate static final char[] LOOKUP_TABLE_LOWER = new char[]{0x30, 0x31, 0x32, 0x33, 0x34, 0x35, 0x36, 0x37, 0x38, 0x39, 0x61, 0x62, 0x63, 0x64, 0x65, 0x66};\r\nprivate static final char[] LOOKUP_TABLE_UPPER = new char[]{0x30, 0x31, 0x32, 0x33, 0x34, 0x35, 0x36, 0x37, 0x38, 0x39, 0x41, 0x42, 0x43, 0x44, 0x45, 0x46};\r\n        \r\npublic static String encode(byte[] byteArray, boolean upperCase, ByteOrder byteOrder) {\r\n\r\n    // our output size will be exactly 2x byte-array length\r\n    final char[] buffer = new char[byteArray.length * 2];\r\n\r\n    // choose lower or uppercase lookup table\r\n    final char[] lookup = upperCase ? LOOKUP_TABLE_UPPER : LOOKUP_TABLE_LOWER;\r\n\r\n    int index;\r\n    for (int i = 0; i &lt; byteArray.length; i++) {\r\n        // for little endian we count from last to first\r\n        index = (byteOrder == ByteOrder.BIG_ENDIAN) ? i : byteArray.length - i - 1;\r\n        \r\n        // extract the upper 4 bit and look up char (0-A)\r\n        buffer[i &lt;&lt; 1] = lookup[(byteArray[index] &gt;&gt; 4) &amp; 0xF];\r\n        // extract the lower 4 bit and look up char (0-A)\r\n        buffer[(i &lt;&lt; 1) + 1] = lookup[(byteArray[index] &amp; 0xF)];\r\n    }\r\n    return new String(buffer);\r\n}\r\n\r\npublic static String encode(byte[] byteArray) {\r\n    return encode(byteArray, false, ByteOrder.BIG_ENDIAN);\r\n}\r\n```\r\n\r\nThe full source code with Apache v2 license and decoder can be found [here][6].\r\n\r\n## Option 3: Using a small optimized library: bytes-java\r\n\r\nWhile working on my previous project, I created this little toolkit for working with bytes in Java. It has no external dependencies and is compatible with Java 7+. It includes, among others, a very fast and well tested HEX en/decoder:\r\n\r\n```java\r\nimport at.favre.lib.bytes.Bytes;\r\n...\r\nBytes.wrap(someByteArray).encodeHex()\r\n```\r\n\r\nYou can check it out on [GitHub: bytes-java][6].\r\n\r\n## Option 4: Apache Commons Codec\r\n\r\nOf course there is the good &#39;ol [commons codecs][7]. (**_warning opinion ahead_**) *While working on the project outlined above I analyzed the code and was quite disappointed; a lot of duplicate unorganized code, obsolete and exotic codecs probably only useful for very few and quite overengineered and slow implementations of popular codecs (specifically Base64). I therefore would make an informed decision if you want to use it or an alternative.* Anyways, if you still want to use it, here is a code snippet:\r\n\r\n```java\r\nimport org.apache.commons.codec.binary.Hex;\r\n...\r\nHex.encodeHexString(someByteArray));\r\n```\r\n\r\n## Option 5: Google Guava\r\n\r\nMore often than not you already have [Guava][8] as a dependency. If so just use:\r\n\r\n```java\r\nimport com.google.common.io.BaseEncoding;\r\n...\r\nBaseEncoding.base16().lowerCase().encode(someByteArray);\r\n```\r\n\r\n## Option 6: Spring Security\r\n\r\nIf you use the [Spring framework][9] with [Spring Security][10] you can use the following:\r\n\r\n```java\r\nimport org.springframework.security.crypto.codec.Hex\r\n...\r\nnew String(Hex.encode(someByteArray));\r\n```\r\n\r\n## Option 7: Bouncy Castle\r\n\r\nIf you already use the security framework [Bouncy Castle][11] you can use its `Hex` util:\r\n\r\n```java\r\nimport org.bouncycastle.util.encoders.Hex;\r\n...\r\nHex.toHexString(someByteArray);\r\n```\r\n\r\n## Not Really Option 8: Java 9+ Compatibility or &#39;Do Not Use JAXBs javax/xml/bind/DatatypeConverter&#39;\r\n\r\nIn previous Java (8 and below) versions the Java code for JAXB was included as runtime dependency. Since Java 9 and [Jigsaw modularisation][12] your code cannot access other code outside of its module without explicit declaration. So be aware if you get an exception like:\r\n\r\n```java\r\njava.lang.NoClassDefFoundError: javax/xml/bind/JAXBException\r\n```\r\n\r\nwhen running on a JVM with Java 9+. If so then switch implementations to any of the alternatives above. See also this [question][13].\r\n\r\n-------------------------\r\n\r\n# Micro Benchmarks\r\n\r\nHere are results from a simple [JMH][14] micro benchmark encoding *byte arrays of different sizes*. The values are operations per second, so ***higher is better.***\r\nNote that micro benchmarks very often do not represent real world behavior, so take these results with a grain of salt.\r\n```\r\n| Name (ops/s)         |    16 byte |    32 byte |  128 byte | 0.95 MB |\r\n|----------------------|-----------:|-----------:|----------:|--------:|\r\n| Opt1: BigInteger     |  2,088,514 |  1,008,357 |   133,665 |       4 |\r\n| Opt2/3: Bytes Lib    | 20,423,170 | 16,049,841 | 6,685,522 |     825 |\r\n| Opt4: Apache Commons | 17,503,857 | 12,382,018 | 4,319,898 |     529 |\r\n| Opt5: Guava          | 10,177,925 |  6,937,833 | 2,094,658 |     257 |\r\n| Opt6: Spring         | 18,704,986 | 13,643,374 | 4,904,805 |     601 |\r\n| Opt7: BC             |  7,501,666 |  3,674,422 | 1,077,236 |     152 |\r\n| Opt8: JAX-B          | 13,497,736 |  8,312,834 | 2,590,940 |     346 |\r\n```\r\n\r\nSpecs: JDK 8u202, i7-7700K, Win10, 24&#160;GB Ram. See the full benchmark [here][15].\r\n\r\n## Benchmark Update 2022\r\n\r\nHere are results with current JMH 1.36, Java 17 and a higher end computer\r\n```\r\n| Name (ops/s)         |    16 byte |    32 byte |  128 byte | 0.95 MB |\r\n|----------------------|-----------:|-----------:|----------:|--------:|\r\n| Opt1a: BigInteger    |  2,941,403 |  1,389,448 |   242,096 |       5 |\r\n| Opt1d: HexFormat     | 32,635,184 | 20,262,332 | 7,388,135 |     922 |\r\n| Opt2/3: Bytes Lib    | 31,724,981 | 22,786,906 | 6,197,028 |     930 |\r\n```\r\n\r\nSpecs: JDK temurin 17.0.6, Ryzen 5900X, Win11, 24&#160;GB DDR4 Ram\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Formatter.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/lang/Integer.html#toHexString-int-\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/lang/Long.html#toHexString-long-\r\n  [4]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/HexFormat.html\r\n  [5]: https://en.wikipedia.org/wiki/Endianness\r\n  [6]: https://github.com/patrickfav/bytes-java\r\n  [7]: https://commons.apache.org/proper/commons-codec/\r\n  [8]: https://guava.dev/releases/16.0/api/docs/com/google/common/io/BaseEncoding.html\r\n  [9]: https://spring.io/\r\n  [10]: https://spring.io/projects/spring-security\r\n  [11]: https://www.bouncycastle.org/\r\n  [12]: http://openjdk.java.net/projects/jigsaw/doc/jdk-modularization-tips\r\n  [13]: https://stackoverflow.com/q/43574426/774398\r\n  [14]: https://openjdk.java.net/projects/code-tools/jmh/\r\n  [15]: https://github.com/patrickfav/bytes-java/blob/master/src/test/java/at/favre/lib/bytes/EncodingHexJmhBenchmark.java","title":"Java: convert a byte array to a hex string?","body":"<p>Here are some common options ordered from simple (one-liner) to complex (huge library). If you are interested in performance, see the micro benchmarks below.</p>\n<h2>Option 1: Code snippet - Simple (only using JDK/Android)</h2>\n<h3>Option 1a: BigInteger</h3>\n<p>One very simple solution is to use the <code>BigInteger</code>'s hex representation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>new BigInteger(1, someByteArray).toString(16);\n</code></pre>\n<p>Note that since this handles <em>numbers</em> not arbitrary <em>byte-strings</em> it will omit leading zeros - this may or may not be what you want (e.g. <code>000AE3</code> vs <code>0AE3</code> for a 3 byte input). This is also very slow, about <em>100x slower</em> compared to option 2.</p>\n<h3>Option 1b: String.format()</h3>\n<p>Using the <code>%X</code> placeholder, <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Formatter.html\" rel=\"noreferrer\"><code>String.format()</code></a> is able to encode most primitive types (<code>short</code>, <code>int</code>, <code>long</code>) to hex:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String.format(&quot;%X&quot;, ByteBuffer.wrap(eightByteArray).getLong());\n</code></pre>\n<h3>Option 1c: Integer/Long (only 4/8 Byte Arrays)</h3>\n<p>If you <strong>exclusively have 4 bytes arrays</strong> you can use the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Integer.html#toHexString-int-\" rel=\"noreferrer\"><code>toHexString</code></a> method of the Integer class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Integer.toHexString(ByteBuffer.wrap(fourByteArray).getInt());\n</code></pre>\n<p>The same works with <strong>8 byte arrays</strong> and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Long.html#toHexString-long-\" rel=\"noreferrer\"><code>Long</code></a></p>\n<pre class=\"lang-java prettyprint-override\"><code>Long.toHexString(ByteBuffer.wrap(eightByteArray).getLong());\n</code></pre>\n<h3>Option 1d: JDK17+ HexFormat</h3>\n<p>Finally, JDK 17 offers first-level support of straight forward hex encoding with <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/HexFormat.html\" rel=\"noreferrer\"><code>HexFormat</code></a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>HexFormat hex = HexFormat.of();\nhex.formatHex(someByteArray)\n</code></pre>\n<h2>Option 2: Code snippet - Advanced</h2>\n<p>Here is a full-featured, copy &amp; pasteable code snippet supporting <strong>upper/lowercase</strong> and <a href=\"https://en.wikipedia.org/wiki/Endianness\" rel=\"noreferrer\"><strong>endianness</strong></a>. It is optimized to minimize memory complexity and maximize performance and should be compatible with all modern Java versions (5+).</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static final char[] LOOKUP_TABLE_LOWER = new char[]{0x30, 0x31, 0x32, 0x33, 0x34, 0x35, 0x36, 0x37, 0x38, 0x39, 0x61, 0x62, 0x63, 0x64, 0x65, 0x66};\nprivate static final char[] LOOKUP_TABLE_UPPER = new char[]{0x30, 0x31, 0x32, 0x33, 0x34, 0x35, 0x36, 0x37, 0x38, 0x39, 0x41, 0x42, 0x43, 0x44, 0x45, 0x46};\n        \npublic static String encode(byte[] byteArray, boolean upperCase, ByteOrder byteOrder) {\n\n    // our output size will be exactly 2x byte-array length\n    final char[] buffer = new char[byteArray.length * 2];\n\n    // choose lower or uppercase lookup table\n    final char[] lookup = upperCase ? LOOKUP_TABLE_UPPER : LOOKUP_TABLE_LOWER;\n\n    int index;\n    for (int i = 0; i &lt; byteArray.length; i++) {\n        // for little endian we count from last to first\n        index = (byteOrder == ByteOrder.BIG_ENDIAN) ? i : byteArray.length - i - 1;\n        \n        // extract the upper 4 bit and look up char (0-A)\n        buffer[i &lt;&lt; 1] = lookup[(byteArray[index] &gt;&gt; 4) &amp; 0xF];\n        // extract the lower 4 bit and look up char (0-A)\n        buffer[(i &lt;&lt; 1) + 1] = lookup[(byteArray[index] &amp; 0xF)];\n    }\n    return new String(buffer);\n}\n\npublic static String encode(byte[] byteArray) {\n    return encode(byteArray, false, ByteOrder.BIG_ENDIAN);\n}\n</code></pre>\n<p>The full source code with Apache v2 license and decoder can be found <a href=\"https://github.com/patrickfav/bytes-java\" rel=\"noreferrer\">here</a>.</p>\n<h2>Option 3: Using a small optimized library: bytes-java</h2>\n<p>While working on my previous project, I created this little toolkit for working with bytes in Java. It has no external dependencies and is compatible with Java 7+. It includes, among others, a very fast and well tested HEX en/decoder:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import at.favre.lib.bytes.Bytes;\n...\nBytes.wrap(someByteArray).encodeHex()\n</code></pre>\n<p>You can check it out on <a href=\"https://github.com/patrickfav/bytes-java\" rel=\"noreferrer\">GitHub: bytes-java</a>.</p>\n<h2>Option 4: Apache Commons Codec</h2>\n<p>Of course there is the good 'ol <a href=\"https://commons.apache.org/proper/commons-codec/\" rel=\"noreferrer\">commons codecs</a>. (<strong><em>warning opinion ahead</em></strong>) <em>While working on the project outlined above I analyzed the code and was quite disappointed; a lot of duplicate unorganized code, obsolete and exotic codecs probably only useful for very few and quite overengineered and slow implementations of popular codecs (specifically Base64). I therefore would make an informed decision if you want to use it or an alternative.</em> Anyways, if you still want to use it, here is a code snippet:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.apache.commons.codec.binary.Hex;\n...\nHex.encodeHexString(someByteArray));\n</code></pre>\n<h2>Option 5: Google Guava</h2>\n<p>More often than not you already have <a href=\"https://guava.dev/releases/16.0/api/docs/com/google/common/io/BaseEncoding.html\" rel=\"noreferrer\">Guava</a> as a dependency. If so just use:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.google.common.io.BaseEncoding;\n...\nBaseEncoding.base16().lowerCase().encode(someByteArray);\n</code></pre>\n<h2>Option 6: Spring Security</h2>\n<p>If you use the <a href=\"https://spring.io/\" rel=\"noreferrer\">Spring framework</a> with <a href=\"https://spring.io/projects/spring-security\" rel=\"noreferrer\">Spring Security</a> you can use the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.security.crypto.codec.Hex\n...\nnew String(Hex.encode(someByteArray));\n</code></pre>\n<h2>Option 7: Bouncy Castle</h2>\n<p>If you already use the security framework <a href=\"https://www.bouncycastle.org/\" rel=\"noreferrer\">Bouncy Castle</a> you can use its <code>Hex</code> util:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.bouncycastle.util.encoders.Hex;\n...\nHex.toHexString(someByteArray);\n</code></pre>\n<h2>Not Really Option 8: Java 9+ Compatibility or 'Do Not Use JAXBs javax/xml/bind/DatatypeConverter'</h2>\n<p>In previous Java (8 and below) versions the Java code for JAXB was included as runtime dependency. Since Java 9 and <a href=\"http://openjdk.java.net/projects/jigsaw/doc/jdk-modularization-tips\" rel=\"noreferrer\">Jigsaw modularisation</a> your code cannot access other code outside of its module without explicit declaration. So be aware if you get an exception like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>java.lang.NoClassDefFoundError: javax/xml/bind/JAXBException\n</code></pre>\n<p>when running on a JVM with Java 9+. If so then switch implementations to any of the alternatives above. See also this <a href=\"https://stackoverflow.com/q/43574426/774398\">question</a>.</p>\n<hr />\n<h1>Micro Benchmarks</h1>\n<p>Here are results from a simple <a href=\"https://openjdk.java.net/projects/code-tools/jmh/\" rel=\"noreferrer\">JMH</a> micro benchmark encoding <em>byte arrays of different sizes</em>. The values are operations per second, so <em><strong>higher is better.</strong></em>\nNote that micro benchmarks very often do not represent real world behavior, so take these results with a grain of salt.</p>\n<pre><code>| Name (ops/s)         |    16 byte |    32 byte |  128 byte | 0.95 MB |\n|----------------------|-----------:|-----------:|----------:|--------:|\n| Opt1: BigInteger     |  2,088,514 |  1,008,357 |   133,665 |       4 |\n| Opt2/3: Bytes Lib    | 20,423,170 | 16,049,841 | 6,685,522 |     825 |\n| Opt4: Apache Commons | 17,503,857 | 12,382,018 | 4,319,898 |     529 |\n| Opt5: Guava          | 10,177,925 |  6,937,833 | 2,094,658 |     257 |\n| Opt6: Spring         | 18,704,986 | 13,643,374 | 4,904,805 |     601 |\n| Opt7: BC             |  7,501,666 |  3,674,422 | 1,077,236 |     152 |\n| Opt8: JAX-B          | 13,497,736 |  8,312,834 | 2,590,940 |     346 |\n</code></pre>\n<p>Specs: JDK 8u202, i7-7700K, Win10, 24 GB Ram. See the full benchmark <a href=\"https://github.com/patrickfav/bytes-java/blob/master/src/test/java/at/favre/lib/bytes/EncodingHexJmhBenchmark.java\" rel=\"noreferrer\">here</a>.</p>\n<h2>Benchmark Update 2022</h2>\n<p>Here are results with current JMH 1.36, Java 17 and a higher end computer</p>\n<pre><code>| Name (ops/s)         |    16 byte |    32 byte |  128 byte | 0.95 MB |\n|----------------------|-----------:|-----------:|----------:|--------:|\n| Opt1a: BigInteger    |  2,941,403 |  1,389,448 |   242,096 |       5 |\n| Opt1d: HexFormat     | 32,635,184 | 20,262,332 | 7,388,135 |     922 |\n| Opt2/3: Bytes Lib    | 31,724,981 | 22,786,906 | 6,197,028 |     930 |\n</code></pre>\n<p>Specs: JDK temurin 17.0.6, Ryzen 5900X, Win11, 24 GB DDR4 Ram</p>\n"},{"comments":[{"owner":{"account_id":17505775,"reputation":3076,"user_id":12695027,"display_name":"Scratte"},"score":2,"creation_date":1586549098,"post_id":61146042,"comment_id":108176586,"body_markdown":"This is **very** similar to everconfusedGuy&#39;s Answer.","body":"This is <b>very</b> similar to everconfusedGuy&#39;s Answer."}],"tags":[],"owner":{"account_id":17602657,"reputation":189,"user_id":12772281,"display_name":"Marian"},"comment_count":1,"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1586858774,"creation_date":1586541796,"answer_id":61146042,"question_id":9655181,"body_markdown":"We don&#39;t need to use any external library or to write code based on loops and constants.&lt;BR&gt;\r\nIs enough just this:\r\n\r\n    byte[] theValue = .....\r\n    String hexaString = new BigInteger(1, theValue).toString(16);","title":"Java: convert a byte array to a hex string?","body":"<p>We don't need to use any external library or to write code based on loops and constants.<BR>\nIs enough just this:</p>\n\n<pre><code>byte[] theValue = .....\nString hexaString = new BigInteger(1, theValue).toString(16);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2603480,"reputation":661,"user_id":2255217,"display_name":"Ron McLeod"},"comment_count":0,"down_vote_count":2,"up_vote_count":8,"is_accepted":false,"score":6,"last_activity_date":1606931213,"creation_date":1606931213,"answer_id":65113433,"question_id":9655181,"body_markdown":"Here&#39;s yet another method using Streams:\r\n\r\n\tprivate static String toHexString(byte[] bytes) {\r\n\t\treturn IntStream.range(0, bytes.length)\r\n        .mapToObj(i -&gt; String.format(&quot;%02X&quot;, bytes[i]))\r\n        .collect(Collectors.joining());\r\n\t}","title":"Java: convert a byte array to a hex string?","body":"<p>Here's yet another method using Streams:</p>\n<pre><code>private static String toHexString(byte[] bytes) {\n    return IntStream.range(0, bytes.length)\n    .mapToObj(i -&gt; String.format(&quot;%02X&quot;, bytes[i]))\n    .collect(Collectors.joining());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6114182,"reputation":271,"user_id":4769751,"display_name":"Oleksandr Potomkin"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1619550523,"creation_date":1610116406,"answer_id":65630932,"question_id":9655181,"body_markdown":"    public static String toHexString(byte[] bytes) {\r\n\r\n\t\tStringBuilder sb = new StringBuilder();\r\n\r\n\t\tif (bytes != null) \r\n\t\t\tfor (byte b:bytes) {\r\n\r\n\t\t\t\tfinal String hexString = Integer.toHexString(b &amp; 0xff);\r\n\r\n\t\t\t\tif(hexString.length()==1)\r\n\t\t\t\t\tsb.append(&#39;0&#39;);\r\n\r\n\t\t\t\tsb.append(hexString);//.append(&#39; &#39;);\r\n\t\t\t}\r\n\r\n\t\t  return sb.toString();//.toUpperCase();\r\n\t}\r\n\r\nTo use DatatypeConverter:\r\n\r\n\r\n\tpublic String toHexString(byte... bytes) {\r\n\r\n\t\treturn Optional.ofNullable(bytes)\r\n\t\t\t\t.filter(bs-&gt;bs.length&gt;0)\r\n\t\t\t\t.map(DatatypeConverter::printHexBinary)\r\n\t\t\t\t.map(str-&gt;IntStream.range(0, str.length())\r\n\t\t\t\t\t\t.filter(i-&gt;(i%2)==0)\t\t// take every second index\r\n\t\t\t\t\t\t.mapToObj(i-&gt;&quot;0x&quot; + str.substring(i, i+2))\r\n\t\t\t\t\t\t.collect(Collectors.joining(&quot; &quot;)))\r\n\t\t\t\t.orElse(&quot;&quot;);\r\n\t}\r\n","title":"Java: convert a byte array to a hex string?","body":"<pre><code>public static String toHexString(byte[] bytes) {\n\n    StringBuilder sb = new StringBuilder();\n\n    if (bytes != null) \n        for (byte b:bytes) {\n\n            final String hexString = Integer.toHexString(b &amp; 0xff);\n\n            if(hexString.length()==1)\n                sb.append('0');\n\n            sb.append(hexString);//.append(' ');\n        }\n\n      return sb.toString();//.toUpperCase();\n}\n</code></pre>\n<p>To use DatatypeConverter:</p>\n<pre><code>public String toHexString(byte... bytes) {\n\n    return Optional.ofNullable(bytes)\n            .filter(bs-&gt;bs.length&gt;0)\n            .map(DatatypeConverter::printHexBinary)\n            .map(str-&gt;IntStream.range(0, str.length())\n                    .filter(i-&gt;(i%2)==0)        // take every second index\n                    .mapToObj(i-&gt;&quot;0x&quot; + str.substring(i, i+2))\n                    .collect(Collectors.joining(&quot; &quot;)))\n            .orElse(&quot;&quot;);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":19120582,"reputation":129,"user_id":13964629,"display_name":"Diamond"},"score":8,"creation_date":1644284879,"post_id":69232227,"comment_id":125560267,"body_markdown":"Finally, something that doesn&#39;t need an external library or is a broken solution","body":"Finally, something that doesn&#39;t need an external library or is a broken solution"}],"tags":[],"owner":{"account_id":1904407,"reputation":2121,"user_id":1719569,"display_name":"Saljack"},"comment_count":1,"down_vote_count":1,"up_vote_count":43,"is_accepted":false,"score":42,"last_activity_date":1641310531,"creation_date":1631947039,"answer_id":69232227,"question_id":9655181,"body_markdown":"Java 17 finally contains [HexFormat][1] class so you can simply do:\r\n\r\n```java\r\nHexFormat.of().formatHex(bytes);\r\n```\r\nIt supports configuration as lowercase/uppercase, delimiters, prefix, suffix etc.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/HexFormat.html","title":"Java: convert a byte array to a hex string?","body":"<p>Java 17 finally contains <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/HexFormat.html\" rel=\"noreferrer\">HexFormat</a> class so you can simply do:</p>\n<pre class=\"lang-java prettyprint-override\"><code>HexFormat.of().formatHex(bytes);\n</code></pre>\n<p>It supports configuration as lowercase/uppercase, delimiters, prefix, suffix etc.</p>\n"},{"tags":[],"owner":{"account_id":3690744,"reputation":590,"user_id":3073378,"accept_rate":75,"display_name":"SajithP"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1634172406,"creation_date":1634172406,"answer_id":69563875,"question_id":9655181,"body_markdown":"Recently I had to implement a Hex converter to dump the byte stream into the log in Hex format. Initially I did it using `Hex.encodeHex` which has been already discussed in here.\r\n\r\nBut If you want to represent the byte array in a very presentable/readable way `io.netty.buffer` library could be a great use as it prints out the Hex as well the strings in it eliminating the non-printable characters.\r\n\r\nRequirement was something like,\r\n\r\n    0010   56 56 09 35 32 f0 b2 00 50 4c 45 41 53 45 20 52   VV.52...PLEASE R\r\n    0020   45 2d 45 4e 54 45 52 20 4c 41 53 54 20 54 52 41   E-ENTER LAST TRA\r\n    0030   4e 53 41 43 54 49 4f 4e 00 04                     NSACTION..\r\n\r\n\r\n\r\nThe shortest way to do the same in a more presentable way using `io.netty.buffer` is\r\n\r\n    import io.netty.buffer.ByteBuf;\r\n    import io.netty.buffer.ByteBufUtil;\r\n    import io.netty.buffer.Unpooled;\r\n    \r\n    void hexDump(byte[] buf) {\r\n        ByteBuf byteBuf = Unpooled.wrappedBuffer(buf);\r\n        log.trace(&quot;Bytes received (Hex)\\n&quot; + ByteBufUtil.prettyHexDump(byteBuf.slice()));\r\n    }\r\n\r\nif you are using maven, include the below dependency in the pom.xml (check for the latest version in the netty page)\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;io.netty&lt;/groupId&gt;\r\n        &lt;artifactId&gt;netty-buffer&lt;/artifactId&gt;\r\n        &lt;version&gt;4.1.68.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\noutput was:\r\n\r\n             +-------------------------------------------------+\r\n             |  0  1  2  3  4  5  6  7  8  9  a  b  c  d  e  f |\r\n    +--------+-------------------------------------------------+----------------+\r\n    |00000010| 40 40 b3 f3 80 f3 80 f3 80 f1 48 f1 41 f1 4e f1 |@@........H.A.N.|\r\n    |00000020| 47 f1 49 f1 4e f1 47 b5 f1 52 f1 4f f1 43 f1 4b |G.I.N.G..R.O.C.K|\r\n    |00000030| f3 80 f3 80 41 b4 40 40 f3 80 f3 80 40 f3 80 04 |....A.@@....@...|\r\n    +--------+-------------------------------------------------+----------------+\r\n\r\nFor your reference, the long way (may not be the most efficient) using the discussed methods in the answers is,\r\n\r\n    public static String hexDump(byte[] buf) throws DecoderException\r\n    {\r\n        ByteBuffer byteBuf = ByteBuffer.wrap(buf);\r\n    \tchar[] result = Hex.encodeHex(byteBuf);\r\n\r\n    \tString bin = new String(result).toUpperCase();\r\n    \tString str = new String(Hex.decodeHex(bin), StandardCharsets.UTF_8);\r\n\r\n    \tstr = str.replaceAll(&quot;[^!-~]&quot;, &quot;.&quot;);\r\n    \tStringBuilder out = new StringBuilder();\r\n    \tint bytes_per_line = 16;\r\n\r\n    \tfor (int pos = 0; pos &lt; str.length(); pos += bytes_per_line) {\r\n    \t\tout.append(String.format(&quot;%04X   &quot;, pos));\r\n    \t\tif (2 * (pos + bytes_per_line) &gt;= bin.length()) {\r\n    \t\t\tout.append(String.format(&quot;%-&quot; + 2 * bytes_per_line + &quot;s&quot;, bin.substring(2 * pos)).replaceAll(&quot;..&quot;, &quot;$0 &quot;));\r\n    \t\t} else {\r\n    \t\t\tout.append(bin.substring(2 * pos, 2 * (pos + bytes_per_line)).replaceAll(&quot;..&quot;, &quot;$0 &quot;));\r\n    \t\t}\r\n    \t\tout.append(&quot;   &quot;);\r\n    \t\tif (pos + bytes_per_line &gt; str.length()) {\r\n    \t\t\tout.append(str.substring(pos));\r\n    \r\n    \t\t} else {\r\n    \t\t\tout.append(str.substring(pos, pos + bytes_per_line));\r\n    \t\t}\r\n    \t\tout.append(&quot;\\n&quot;);\r\n    \t}\r\n    \r\n    \treturn out.toString();\r\n    }","title":"Java: convert a byte array to a hex string?","body":"<p>Recently I had to implement a Hex converter to dump the byte stream into the log in Hex format. Initially I did it using <code>Hex.encodeHex</code> which has been already discussed in here.</p>\n<p>But If you want to represent the byte array in a very presentable/readable way <code>io.netty.buffer</code> library could be a great use as it prints out the Hex as well the strings in it eliminating the non-printable characters.</p>\n<p>Requirement was something like,</p>\n<pre><code>0010   56 56 09 35 32 f0 b2 00 50 4c 45 41 53 45 20 52   VV.52...PLEASE R\n0020   45 2d 45 4e 54 45 52 20 4c 41 53 54 20 54 52 41   E-ENTER LAST TRA\n0030   4e 53 41 43 54 49 4f 4e 00 04                     NSACTION..\n</code></pre>\n<p>The shortest way to do the same in a more presentable way using <code>io.netty.buffer</code> is</p>\n<pre><code>import io.netty.buffer.ByteBuf;\nimport io.netty.buffer.ByteBufUtil;\nimport io.netty.buffer.Unpooled;\n\nvoid hexDump(byte[] buf) {\n    ByteBuf byteBuf = Unpooled.wrappedBuffer(buf);\n    log.trace(&quot;Bytes received (Hex)\\n&quot; + ByteBufUtil.prettyHexDump(byteBuf.slice()));\n}\n</code></pre>\n<p>if you are using maven, include the below dependency in the pom.xml (check for the latest version in the netty page)</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.netty&lt;/groupId&gt;\n    &lt;artifactId&gt;netty-buffer&lt;/artifactId&gt;\n    &lt;version&gt;4.1.68.Final&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>output was:</p>\n<pre><code>         +-------------------------------------------------+\n         |  0  1  2  3  4  5  6  7  8  9  a  b  c  d  e  f |\n+--------+-------------------------------------------------+----------------+\n|00000010| 40 40 b3 f3 80 f3 80 f3 80 f1 48 f1 41 f1 4e f1 |@@........H.A.N.|\n|00000020| 47 f1 49 f1 4e f1 47 b5 f1 52 f1 4f f1 43 f1 4b |G.I.N.G..R.O.C.K|\n|00000030| f3 80 f3 80 41 b4 40 40 f3 80 f3 80 40 f3 80 04 |....A.@@....@...|\n+--------+-------------------------------------------------+----------------+\n</code></pre>\n<p>For your reference, the long way (may not be the most efficient) using the discussed methods in the answers is,</p>\n<pre><code>public static String hexDump(byte[] buf) throws DecoderException\n{\n    ByteBuffer byteBuf = ByteBuffer.wrap(buf);\n    char[] result = Hex.encodeHex(byteBuf);\n\n    String bin = new String(result).toUpperCase();\n    String str = new String(Hex.decodeHex(bin), StandardCharsets.UTF_8);\n\n    str = str.replaceAll(&quot;[^!-~]&quot;, &quot;.&quot;);\n    StringBuilder out = new StringBuilder();\n    int bytes_per_line = 16;\n\n    for (int pos = 0; pos &lt; str.length(); pos += bytes_per_line) {\n        out.append(String.format(&quot;%04X   &quot;, pos));\n        if (2 * (pos + bytes_per_line) &gt;= bin.length()) {\n            out.append(String.format(&quot;%-&quot; + 2 * bytes_per_line + &quot;s&quot;, bin.substring(2 * pos)).replaceAll(&quot;..&quot;, &quot;$0 &quot;));\n        } else {\n            out.append(bin.substring(2 * pos, 2 * (pos + bytes_per_line)).replaceAll(&quot;..&quot;, &quot;$0 &quot;));\n        }\n        out.append(&quot;   &quot;);\n        if (pos + bytes_per_line &gt; str.length()) {\n            out.append(str.substring(pos));\n\n        } else {\n            out.append(str.substring(pos, pos + bytes_per_line));\n        }\n        out.append(&quot;\\n&quot;);\n    }\n\n    return out.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":294022,"reputation":115930,"user_id":597657,"accept_rate":99,"display_name":"Eng.Fouad"},"comment_count":0,"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1635951319,"creation_date":1635951319,"answer_id":69827045,"question_id":9655181,"body_markdown":"[**HexFormat**](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/HexFormat.html) was added in **Java 17**:\r\n\r\n    String hex = HexFormat.of().formatHex(array);","title":"Java: convert a byte array to a hex string?","body":"<p><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/HexFormat.html\" rel=\"noreferrer\"><strong>HexFormat</strong></a> was added in <strong>Java 17</strong>:</p>\n<pre><code>String hex = HexFormat.of().formatHex(array);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1629745,"reputation":18644,"user_id":1504556,"accept_rate":63,"display_name":"peterh"},"score":1,"creation_date":1645978761,"post_id":70488499,"comment_id":126005997,"body_markdown":"This is wrong.  The above does not take into account that the `Integer.toString(x,16)` method does not left-pad with `0`.  Most people would probably expect that a String with value `A\\nB` would be represented as `410a42` in hex. However the presented solution will give `41a42`. Ouch!","body":"This is wrong.  The above does not take into account that the <code>Integer.toString(x,16)</code> method does not left-pad with <code>0</code>.  Most people would probably expect that a String with value <code>A\\nB</code> would be represented as <code>410a42</code> in hex. However the presented solution will give <code>41a42</code>. Ouch!"}],"tags":[],"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"comment_count":1,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1640539763,"creation_date":1640539763,"answer_id":70488499,"question_id":9655181,"body_markdown":"Just iterate over all bytes, convert them to a hex String using `Integer.toString` (Unfortunately, there is no `Byte.toString` with a radix parameter) and append them all to a `StringBuilder`.\r\n```java\r\nbyte[] arr;//set it to your value\r\nStringBuilder sb=new StringBuilder(arr.length*2);//1 byte...2 hex digits\r\nfor(int i=0;i&lt;arr.length;i++){\r\n  sb.append(Integer.toString(arr[i],16));\r\n}\r\nString hexValue=sb.toString();\r\n```\r\n\r\nThis is similar to [this answer](https://stackoverflow.com/a/13006907/10871900) from [Pointer Null](https://stackoverflow.com/users/907695/pointer-null) but it uses `Integer.toString` instead of `String.format` improving the performance.\r\n\r\n","title":"Java: convert a byte array to a hex string?","body":"<p>Just iterate over all bytes, convert them to a hex String using <code>Integer.toString</code> (Unfortunately, there is no <code>Byte.toString</code> with a radix parameter) and append them all to a <code>StringBuilder</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>byte[] arr;//set it to your value\nStringBuilder sb=new StringBuilder(arr.length*2);//1 byte...2 hex digits\nfor(int i=0;i&lt;arr.length;i++){\n  sb.append(Integer.toString(arr[i],16));\n}\nString hexValue=sb.toString();\n</code></pre>\n<p>This is similar to <a href=\"https://stackoverflow.com/a/13006907/10871900\">this answer</a> from <a href=\"https://stackoverflow.com/users/907695/pointer-null\">Pointer Null</a> but it uses <code>Integer.toString</code> instead of <code>String.format</code> improving the performance.</p>\n"},{"tags":[],"owner":{"account_id":6457401,"reputation":583,"user_id":5002324,"display_name":"Christoph S."},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1665478574,"creation_date":1665478574,"answer_id":74025502,"question_id":9655181,"body_markdown":"If you want to make it more readable and separate the bytes from each other, you can use the following code in Java 17+:\r\n\r\n```\r\nbyte[] yourByteArray = { -128, 0, 127 };\r\nString hexString = new String(HexFormat.ofDelimiter(&quot; &quot;).formatHex(yourByteArray));\r\n// 80 00 7f\r\n```","title":"Java: convert a byte array to a hex string?","body":"<p>If you want to make it more readable and separate the bytes from each other, you can use the following code in Java 17+:</p>\n<pre><code>byte[] yourByteArray = { -128, 0, 127 };\nString hexString = new String(HexFormat.ofDelimiter(&quot; &quot;).formatHex(yourByteArray));\n// 80 00 7f\n</code></pre>\n"}],"owner":{"account_id":37603,"reputation":9030,"user_id":107544,"accept_rate":83,"display_name":"Andre"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1003323,"favorite_count":0,"down_vote_count":2,"up_vote_count":816,"accepted_answer_id":9855338,"answer_count":34,"score":814,"last_activity_date":1691047611,"creation_date":1331471184,"question_id":9655181,"body_markdown":"I have a byte array filled with hex numbers and printing it the easy way is pretty pointless because there are many unprintable elements. What I need is the exact hexcode in the form of: `3a5f771c`","title":"Java: convert a byte array to a hex string?","body":"<p>I have a byte array filled with hex numbers and printing it the easy way is pretty pointless because there are many unprintable elements. What I need is the exact hexcode in the form of: <code>3a5f771c</code></p>\n"},{"tags":["java","json","spring-boot"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1691047721,"post_id":76825762,"comment_id":135439162,"body_markdown":"First of all, you shouldn&#39;t be using raw `List`s. Take the compiler/IDE warnings to heart, and fix that. Once you&#39;ve done that, your problem should be obvious and easy to fix, since you know which List will contain which type.","body":"First of all, you shouldn&#39;t be using raw <code>List</code>s. Take the compiler/IDE warnings to heart, and fix that. Once you&#39;ve done that, your problem should be obvious and easy to fix, since you know which List will contain which type."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1691048024,"post_id":76825762,"comment_id":135439253,"body_markdown":"You seem to be missing a closing brace. Is that where your return statement is?","body":"You seem to be missing a closing brace. Is that where your return statement is?"},{"owner":{"account_id":6955755,"reputation":1,"user_id":5336837,"display_name":"Newbee"},"score":0,"creation_date":1691048165,"post_id":76825762,"comment_id":135439292,"body_markdown":"@tgdavies I accidentally deleted it when edit the content, in my actual code there&#39;s a closing brace.","body":"@tgdavies I accidentally deleted it when edit the content, in my actual code there&#39;s a closing brace."},{"owner":{"account_id":3339332,"reputation":694,"user_id":2805930,"accept_rate":19,"display_name":"Hareesh"},"score":0,"creation_date":1691048268,"post_id":76825762,"comment_id":135439311,"body_markdown":"Are you mentioning any custom JSONSerializer in the spring boot configuration file, I mean in application properties?  can you share the pom.xml configuration as well ?","body":"Are you mentioning any custom JSONSerializer in the spring boot configuration file, I mean in application properties?  can you share the pom.xml configuration as well ?"},{"owner":{"account_id":6955755,"reputation":1,"user_id":5336837,"display_name":"Newbee"},"score":0,"creation_date":1691048588,"post_id":76825762,"comment_id":135439362,"body_markdown":"@Hareesh, dont have any custom JSONSerializer, i just using spring boot version 2.7.5","body":"@Hareesh, dont have any custom JSONSerializer, i just using spring boot version 2.7.5"},{"owner":{"account_id":3339332,"reputation":694,"user_id":2805930,"accept_rate":19,"display_name":"Hareesh"},"score":0,"creation_date":1691048775,"post_id":76825762,"comment_id":135439388,"body_markdown":"okay, if you share the pom.xml configuration, it will help. Because &#39;List&#39;, does not get added by any JSON converter, either you might be having custom response handler or json serializer that you have in the pom.xml can cause this.","body":"okay, if you share the pom.xml configuration, it will help. Because &#39;List&#39;, does not get added by any JSON converter, either you might be having custom response handler or json serializer that you have in the pom.xml can cause this."},{"owner":{"account_id":6955755,"reputation":1,"user_id":5336837,"display_name":"Newbee"},"score":0,"creation_date":1691055688,"post_id":76825762,"comment_id":135440895,"body_markdown":"Finally figure out the root cause of this, it was due to spring.jackson.serialization.WRAP_ROOT_VALUE=true in my application.properties","body":"Finally figure out the root cause of this, it was due to spring.jackson.serialization.WRAP_ROOT_VALUE=true in my application.properties"},{"owner":{"account_id":45917,"reputation":20089,"user_id":167365,"accept_rate":78,"display_name":"sinuhepop"},"score":0,"creation_date":1691056190,"post_id":76825762,"comment_id":135440999,"body_markdown":"@Newbee: welcome and congratulations for finding the cause. Please make an answer and accept it. It will help others.","body":"@Newbee: welcome and congratulations for finding the cause. Please make an answer and accept it. It will help others."}],"owner":{"account_id":6955755,"reputation":1,"user_id":5336837,"display_name":"Newbee"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691047591,"creation_date":1691047591,"question_id":76825762,"body_markdown":"Json response structure return from service is not as expected. Not sure where is the extra List object come from. Sorry for my bad english\r\n\r\n\r\n\r\nActual Result :\r\n\r\n```\r\n{&quot;List&quot;: [{\r\n            &quot;customerNumber&quot;: &quot;111&quot;,\r\n            &quot;amount&quot;: 75675\r\n        },\r\n        {\r\n            &quot;customerNumber&quot;: &quot;222&quot;,\r\n            &quot;amount&quot;: 30150\r\n        },\r\n        {\r\n            &quot;customerNumber&quot;: &quot;333&quot;,\r\n            &quot;amount&quot;: 120100\r\n        },\r\n        {\r\n            &quot;customerNumber&quot;: &quot;444&quot;,\r\n            &quot;amount&quot;: 50000\r\n        }]}\r\n```\r\n\r\n\r\n\r\n\r\n\r\nExpected Result:\r\n\r\n```\r\n[{&quot;customerNumber&quot;: &quot;111&quot;,\r\n           &quot;amount&quot;: 75675},\r\n        {&quot;customerNumber&quot;: &quot;222&quot;,\r\n            &quot;amount&quot;: 30150},\r\n        {&quot;customerNumber&quot;: &quot;333&quot;,\r\n            &quot;amount&quot;: 120100},\r\n        { &quot;customerNumber&quot;: &quot;444&quot;,\r\n            &quot;amount&quot;: 50000}]\r\n```\r\n\r\n\r\nController and Service use to retrieve result from database and return as json in response\r\n\r\n```\r\n @PostMapping(path = &quot;/customer-list&quot;)\r\npublic List&lt;CustomerListingBean&gt; getCustomerListing(@RequestBody CustomerListingBean pl) {\r\n  CustomerListingBean row = new CustomerListingBean();\r\n\tList&lt;CustomerListingBean&gt; custList = new ArrayList&lt;&gt;();\r\n\t\t custList = indCustomerSearchEngine.getCustomerSearchListing(pl.getCustomerNumber());\r\n\t\treturn custList;\r\n}\r\npublic List getCustomerSearchListing(String customerNumber) {\r\nList newList= new ArrayList();\r\n\tList myList= customerRepository.getInquiryCustomerSearchList( customerNumber );\r\n\tfor (Iterator itr = myList.iterator(); itr.hasNext();) {\r\n\t\tObject[] col = (Object[]) itr.next();\r\n\t\tCustomerListingBean polRow = new CustomerListingBean();\r\n\t\tpolRow.setCustomerNumber((col[0] != null) ? col[0].toString() : &quot;&quot;);\r\n\t\tpolRow.setAmount((col[1] != null) ? col[1].toString() : &quot;&quot;);\r\n\t\tnewList.add(polRow);\r\n              return newList;\r\n}\r\n```","title":"Extra List array in Spring Boot JSON Response Output","body":"<p>Json response structure return from service is not as expected. Not sure where is the extra List object come from. Sorry for my bad english</p>\n<p>Actual Result :</p>\n<pre><code>{&quot;List&quot;: [{\n            &quot;customerNumber&quot;: &quot;111&quot;,\n            &quot;amount&quot;: 75675\n        },\n        {\n            &quot;customerNumber&quot;: &quot;222&quot;,\n            &quot;amount&quot;: 30150\n        },\n        {\n            &quot;customerNumber&quot;: &quot;333&quot;,\n            &quot;amount&quot;: 120100\n        },\n        {\n            &quot;customerNumber&quot;: &quot;444&quot;,\n            &quot;amount&quot;: 50000\n        }]}\n</code></pre>\n<p>Expected Result:</p>\n<pre><code>[{&quot;customerNumber&quot;: &quot;111&quot;,\n           &quot;amount&quot;: 75675},\n        {&quot;customerNumber&quot;: &quot;222&quot;,\n            &quot;amount&quot;: 30150},\n        {&quot;customerNumber&quot;: &quot;333&quot;,\n            &quot;amount&quot;: 120100},\n        { &quot;customerNumber&quot;: &quot;444&quot;,\n            &quot;amount&quot;: 50000}]\n</code></pre>\n<p>Controller and Service use to retrieve result from database and return as json in response</p>\n<pre><code> @PostMapping(path = &quot;/customer-list&quot;)\npublic List&lt;CustomerListingBean&gt; getCustomerListing(@RequestBody CustomerListingBean pl) {\n  CustomerListingBean row = new CustomerListingBean();\n    List&lt;CustomerListingBean&gt; custList = new ArrayList&lt;&gt;();\n         custList = indCustomerSearchEngine.getCustomerSearchListing(pl.getCustomerNumber());\n        return custList;\n}\npublic List getCustomerSearchListing(String customerNumber) {\nList newList= new ArrayList();\n    List myList= customerRepository.getInquiryCustomerSearchList( customerNumber );\n    for (Iterator itr = myList.iterator(); itr.hasNext();) {\n        Object[] col = (Object[]) itr.next();\n        CustomerListingBean polRow = new CustomerListingBean();\n        polRow.setCustomerNumber((col[0] != null) ? col[0].toString() : &quot;&quot;);\n        polRow.setAmount((col[1] != null) ? col[1].toString() : &quot;&quot;);\n        newList.add(polRow);\n              return newList;\n}\n</code></pre>\n"},{"tags":["java","spring","apache-kafka","slf4j","spring-kafka"],"comments":[{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":1,"creation_date":1634655070,"post_id":69632726,"comment_id":123080572,"body_markdown":"Have you tried using Boot&#39;s logging config in `application.properties/yml`? `logging.level.org.apache.kafka=warn` ? https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.logging.log-levels","body":"Have you tried using Boot&#39;s logging config in <code>application.properties&#47;yml</code>? <code>logging.level.org.apache.kafka=warn</code> ? <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.logging.log-levels\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/reference/html/&hellip;</a>"},{"owner":{"account_id":13534596,"reputation":5838,"user_id":9764133,"display_name":"Ganesh"},"score":0,"creation_date":1634656720,"post_id":69632726,"comment_id":123081357,"body_markdown":"@GaryRussell we are working with spring (not spring boot), so NO. But tried `log4j.logger.org.apache.kafka=warn` in log4j.proerties. could you please suggest any other way with spring..","body":"@GaryRussell we are working with spring (not spring boot), so NO. But tried <code>log4j.logger.org.apache.kafka=warn</code> in log4j.proerties. could you please suggest any other way with spring.."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1634657487,"post_id":69632726,"comment_id":123081779,"body_markdown":"Which logging library are you actually using? logback XML only works if you have slf4j-log4j12 bridge and logback dependency. log4j2 configs only work if you have that and also the slf4j-log4j12 bridge. Out of the box, Kafka uses `log4j.properties` (I assume your post as a typo and is missing the `j`). You may also need to modify your websphere logging configs","body":"Which logging library are you actually using? logback XML only works if you have slf4j-log4j12 bridge and logback dependency. log4j2 configs only work if you have that and also the slf4j-log4j12 bridge. Out of the box, Kafka uses <code>log4j.properties</code> (I assume your post as a typo and is missing the <code>j</code>). You may also need to modify your websphere logging configs"},{"owner":{"account_id":13534596,"reputation":5838,"user_id":9764133,"display_name":"Ganesh"},"score":0,"creation_date":1634659405,"post_id":69632726,"comment_id":123082638,"body_markdown":"@OneCricketeer we are using mentioned dependencies (logback-core, slf4j-api, logback-classic) in article, will add slf4j-log4j12 bridge and update. While testing with log4j.properties we are having dependencies of log4j-core, log4j-api, log4j-slf4j-impl (2.4.1). Please let me know websphere logging config details we need any.","body":"@OneCricketeer we are using mentioned dependencies (logback-core, slf4j-api, logback-classic) in article, will add slf4j-log4j12 bridge and update. While testing with log4j.properties we are having dependencies of log4j-core, log4j-api, log4j-slf4j-impl (2.4.1). Please let me know websphere logging config details we need any."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1634659924,"post_id":69632726,"comment_id":123082831,"body_markdown":"Those last three would pick up a `log4j2` file, not `log4j`. The file shown in the question is for logback, though","body":"Those last three would pick up a <code>log4j2</code> file, not <code>log4j</code>. The file shown in the question is for logback, though"},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1634660189,"post_id":69632726,"comment_id":123082956,"body_markdown":"You can debug logback.xml by adding `debug=&quot;true&quot;` to the opening `&lt;configuration&gt;`. With log4j2 it&#39;s `status=&quot;debug&quot;` https://logging.apache.org/log4j/2.x/manual/configuration.html","body":"You can debug logback.xml by adding <code>debug=&quot;true&quot;</code> to the opening <code>&lt;configuration&gt;</code>. With log4j2 it&#39;s <code>status=&quot;debug&quot;</code> <a href=\"https://logging.apache.org/log4j/2.x/manual/configuration.html\" rel=\"nofollow noreferrer\">logging.apache.org/log4j/2.x/manual/configuration.html</a>"},{"owner":{"account_id":6371269,"reputation":11056,"user_id":4943598,"accept_rate":88,"display_name":"Partha Sarathi Ghosh"},"score":2,"creation_date":1657197681,"post_id":69632726,"comment_id":128756843,"body_markdown":"@Ganesh If you found any solution please post it as answer. I am also facing the same issue.","body":"@Ganesh If you found any solution please post it as answer. I am also facing the same issue."},{"owner":{"account_id":13534596,"reputation":5838,"user_id":9764133,"display_name":"Ganesh"},"score":0,"creation_date":1691047507,"post_id":69632726,"comment_id":135439118,"body_markdown":"@ParthaSarathiGhosh Please check posted answer which helped us to resolve the issues.","body":"@ParthaSarathiGhosh Please check posted answer which helped us to resolve the issues."}],"answers":[{"tags":[],"owner":{"account_id":13534596,"reputation":5838,"user_id":9764133,"display_name":"Ganesh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1691047382,"creation_date":1691047382,"answer_id":76825739,"question_id":69632726,"body_markdown":"Late answer, but might be helpful for someone.\r\n\r\nWe did few changes in same ***logback.xml*** file and also added ***log4j2.xml*** in order to make it work in our application. Below are the changes from both files, please give it a try.\r\n\r\n&gt; **logback.xml**\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;configuration name=&quot;default&quot;&gt;\r\n       &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n         &lt;encoder&gt;\r\n            &lt;pattern&gt; %d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n&lt;/pattern&gt;\r\n         &lt;/encoder&gt;\r\n      &lt;/appender&gt;\r\n      \r\n      &lt;logger name=&quot;org.apache.log4j.xml&quot;            level=&quot;error&quot;/&gt;\r\n      &lt;logger name=&quot;org.apache.http&quot;                 level=&quot;error&quot; /&gt;\r\n      &lt;logger name=&quot;org.apache.http.wire&quot;            level=&quot;error&quot;/&gt;\r\n      &lt;logger name=&quot;org.apache.commons.httpclient&quot;   level=&quot;error&quot;/&gt;\r\n      \r\n      &lt;logger name=&quot;org.springframework&quot; level=&quot;error&quot;&gt;\r\n          &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\r\n      &lt;/logger&gt; \r\n      \r\n      &lt;logger name=&quot;org.springframework.kafka&quot; level=&quot;error&quot; additivity=&quot;false&quot;&gt;\r\n          &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\r\n      &lt;/logger&gt;\r\n\r\n      &lt;logger name=&quot;org.apache.kafka&quot; level=&quot;info&quot; additivity=&quot;false&quot;&gt;\r\n          &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\r\n      &lt;/logger&gt;\r\n       \r\n      &lt;root level=&quot;error&quot;&gt;\r\n          &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\r\n      &lt;/root&gt; \r\n    \r\n    &lt;/configuration&gt;\r\n\r\n\r\n\r\n&gt; **log4j2.xml**\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;  \r\n    &lt;!DOCTYPE log4j:configuration PUBLIC &quot;-//log4j/log4j Configuration//EN&quot; &quot;log4j.dtd&quot;&gt;  \r\n    &lt;log4j:configuratio xmlns:log4j=&quot;http://jakarta.apache.org/log4j/&quot; debug=&quot;false&quot;&gt;  \r\n  \r\n       &lt;appender name=&quot;consoleAppender&quot; class=&quot;org.apache.log4j.ConsoleAppender&quot;&gt;  \r\n           &lt;layout class=&quot;org.apache.log4j.PatternLayout&quot;&gt;  \r\n              &lt;param name=&quot;ConversionPattern&quot; value=&quot;%d{yyyy-MM-dd HH:mm:ss} %-5p %c{1}:%L - %m%n&quot; /&gt;  \r\n           &lt;/layout&gt;  \r\n       &lt;/appender&gt;  \r\n  \r\n       &lt;appender name=&quot;fileAppender&quot; class=&quot;org.apache.log4j.RollingFileAppender&quot;&gt;  \r\n           &lt;param name=&quot;append&quot; value=&quot;true&quot; /&gt;  \r\n           &lt;param name=&quot;maxFileSize&quot; value=&quot;10MB&quot; /&gt;  \r\n           &lt;param name=&quot;maxBackupIndex&quot; value=&quot;10&quot; /&gt;  \r\n           &lt;param name=&quot;file&quot; value=&quot;${catalina.home}/logs/myStruts1App.log&quot; /&gt;  \r\n           &lt;layout class=&quot;org.apache.log4j.PatternLayout&quot;&gt;  \r\n              &lt;param name=&quot;ConversionPattern&quot; value=&quot;%d{yyyy-MM-dd HH:mm:ss} %-5p %c{1}:%L - %m%n&quot; /&gt;  \r\n           &lt;/layout&gt;  \r\n       &lt;/appender&gt;  \r\n\r\n       &lt;logger name=&quot;org.springframework&quot;&gt;\r\n          &lt;level value=&quot;error&quot; /&gt;\r\n       &lt;/logger&gt;\r\n\r\n       &lt;logger name=&quot;org.springframework.kafka&quot;&gt;\r\n          &lt;level value=&quot;error&quot; /&gt;\r\n       &lt;/logger&gt;\r\n\r\n       &lt;logger name=&quot;org.apache.http&quot;&gt;\r\n          &lt;level value=&quot;warn&quot; /&gt;\r\n       &lt;/logger&gt;\r\n       \r\n       &lt;logger name=&quot;org.apache.http.wire&quot;&gt;\r\n          &lt;level value=&quot;warn&quot; /&gt;\r\n       &lt;/logger&gt;\r\n\r\n       &lt;logger name=&quot;org.apache.commons.httpclient&quot;&gt;\r\n          &lt;level value=&quot;warn&quot; /&gt;\r\n       &lt;/logger&gt;\r\n  \r\n       &lt;logger name=&quot;org.apache.kafka&quot;&gt;\r\n          &lt;level value=&quot;error&quot; /&gt;\r\n       &lt;/logger&gt;\r\n  \r\n       &lt;root&gt;  \r\n           &lt;!-- DEBUG level for all other loggers --&gt;\r\n           &lt;priority value=&quot;debug&quot; /&gt;  \r\n           &lt;appender-ref ref=&quot;consoleAppender&quot; /&gt;  \r\n           &lt;appender-ref ref=&quot;fileAppender&quot; /&gt;  \r\n       &lt;/root&gt;  \r\n  \r\n    &lt;/log4j:configuration&gt;  \r\n\r\nWe can observe few changes here related to addivity, try to check below articles to know more about it.\r\n\r\n\r\n\r\n - https://newsbasis.com/what-is-additivity-in-logback/\r\n\r\n - https://stackoverflow.com/questions/24180772/logback-logger-logging-twice","title":"spring kafka - set consumer log level manually (spring 5)","body":"<p>Late answer, but might be helpful for someone.</p>\n<p>We did few changes in same <em><strong>logback.xml</strong></em> file and also added <em><strong>log4j2.xml</strong></em> in order to make it work in our application. Below are the changes from both files, please give it a try.</p>\n<blockquote>\n<p><strong>logback.xml</strong></p>\n</blockquote>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;configuration name=&quot;default&quot;&gt;\n   &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n     &lt;encoder&gt;\n        &lt;pattern&gt; %d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n&lt;/pattern&gt;\n     &lt;/encoder&gt;\n  &lt;/appender&gt;\n  \n  &lt;logger name=&quot;org.apache.log4j.xml&quot;            level=&quot;error&quot;/&gt;\n  &lt;logger name=&quot;org.apache.http&quot;                 level=&quot;error&quot; /&gt;\n  &lt;logger name=&quot;org.apache.http.wire&quot;            level=&quot;error&quot;/&gt;\n  &lt;logger name=&quot;org.apache.commons.httpclient&quot;   level=&quot;error&quot;/&gt;\n  \n  &lt;logger name=&quot;org.springframework&quot; level=&quot;error&quot;&gt;\n      &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\n  &lt;/logger&gt; \n  \n  &lt;logger name=&quot;org.springframework.kafka&quot; level=&quot;error&quot; additivity=&quot;false&quot;&gt;\n      &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\n  &lt;/logger&gt;\n\n  &lt;logger name=&quot;org.apache.kafka&quot; level=&quot;info&quot; additivity=&quot;false&quot;&gt;\n      &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\n  &lt;/logger&gt;\n   \n  &lt;root level=&quot;error&quot;&gt;\n      &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\n  &lt;/root&gt; \n\n&lt;/configuration&gt;\n</code></pre>\n<blockquote>\n<p><strong>log4j2.xml</strong></p>\n</blockquote>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;  \n&lt;!DOCTYPE log4j:configuration PUBLIC &quot;-//log4j/log4j Configuration//EN&quot; &quot;log4j.dtd&quot;&gt;  \n&lt;log4j:configuratio xmlns:log4j=&quot;http://jakarta.apache.org/log4j/&quot; debug=&quot;false&quot;&gt;  \n\n   &lt;appender name=&quot;consoleAppender&quot; class=&quot;org.apache.log4j.ConsoleAppender&quot;&gt;  \n       &lt;layout class=&quot;org.apache.log4j.PatternLayout&quot;&gt;  \n          &lt;param name=&quot;ConversionPattern&quot; value=&quot;%d{yyyy-MM-dd HH:mm:ss} %-5p %c{1}:%L - %m%n&quot; /&gt;  \n       &lt;/layout&gt;  \n   &lt;/appender&gt;  \n\n   &lt;appender name=&quot;fileAppender&quot; class=&quot;org.apache.log4j.RollingFileAppender&quot;&gt;  \n       &lt;param name=&quot;append&quot; value=&quot;true&quot; /&gt;  \n       &lt;param name=&quot;maxFileSize&quot; value=&quot;10MB&quot; /&gt;  \n       &lt;param name=&quot;maxBackupIndex&quot; value=&quot;10&quot; /&gt;  \n       &lt;param name=&quot;file&quot; value=&quot;${catalina.home}/logs/myStruts1App.log&quot; /&gt;  \n       &lt;layout class=&quot;org.apache.log4j.PatternLayout&quot;&gt;  \n          &lt;param name=&quot;ConversionPattern&quot; value=&quot;%d{yyyy-MM-dd HH:mm:ss} %-5p %c{1}:%L - %m%n&quot; /&gt;  \n       &lt;/layout&gt;  \n   &lt;/appender&gt;  \n\n   &lt;logger name=&quot;org.springframework&quot;&gt;\n      &lt;level value=&quot;error&quot; /&gt;\n   &lt;/logger&gt;\n\n   &lt;logger name=&quot;org.springframework.kafka&quot;&gt;\n      &lt;level value=&quot;error&quot; /&gt;\n   &lt;/logger&gt;\n\n   &lt;logger name=&quot;org.apache.http&quot;&gt;\n      &lt;level value=&quot;warn&quot; /&gt;\n   &lt;/logger&gt;\n   \n   &lt;logger name=&quot;org.apache.http.wire&quot;&gt;\n      &lt;level value=&quot;warn&quot; /&gt;\n   &lt;/logger&gt;\n\n   &lt;logger name=&quot;org.apache.commons.httpclient&quot;&gt;\n      &lt;level value=&quot;warn&quot; /&gt;\n   &lt;/logger&gt;\n\n   &lt;logger name=&quot;org.apache.kafka&quot;&gt;\n      &lt;level value=&quot;error&quot; /&gt;\n   &lt;/logger&gt;\n\n   &lt;root&gt;  \n       &lt;!-- DEBUG level for all other loggers --&gt;\n       &lt;priority value=&quot;debug&quot; /&gt;  \n       &lt;appender-ref ref=&quot;consoleAppender&quot; /&gt;  \n       &lt;appender-ref ref=&quot;fileAppender&quot; /&gt;  \n   &lt;/root&gt;  \n\n&lt;/log4j:configuration&gt;  \n</code></pre>\n<p>We can observe few changes here related to addivity, try to check below articles to know more about it.</p>\n<ul>\n<li><p><a href=\"https://newsbasis.com/what-is-additivity-in-logback/\" rel=\"nofollow noreferrer\">https://newsbasis.com/what-is-additivity-in-logback/</a></p>\n</li>\n<li><p><a href=\"https://stackoverflow.com/questions/24180772/logback-logger-logging-twice\">Logback logger logging twice</a></p>\n</li>\n</ul>\n"}],"owner":{"account_id":13534596,"reputation":5838,"user_id":9764133,"display_name":"Ganesh"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11172,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":76825739,"answer_count":1,"score":5,"last_activity_date":1691047382,"creation_date":1634653749,"question_id":69632726,"body_markdown":"We are working on `spring` project and integrated with `spring-kafka` recently. It&#39;s working as expected where we are able produce and consume messages properly. \r\n\r\nBut as we moved project to *PROD*, we are getting *DEBUG* level log statements and amount of statements overwhelmed. ***We are trying to set logging levels to WARN or ERROR*** specifically for Kafka logs.\r\n\r\nIn process we added **`logback.xml`** (added in main/resources) by following below article but no luck, also tried other solutions we came across in internet. (adding *log4j.properties* and *log4j2.xml*)\r\n\r\n - https://www.baeldung.com/logback\r\n\r\n**logback.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;configuration name=&quot;default&quot;&gt;\r\n    \r\n    \t&lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n           &lt;encoder&gt;\r\n              &lt;pattern&gt;%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n&lt;/pattern&gt;\r\n        \t&lt;/encoder&gt;\r\n      \t&lt;/appender&gt;\r\n    \r\n        &lt;logger name=&quot;org.apache.kafka&quot;          \t    level=&quot;error&quot; /&gt;\r\n        &lt;logger name=&quot;org.apache.kafka.common.metrics&quot;  level=&quot;error&quot;/&gt;\r\n        &lt;logger name=&quot;org.apache.kafka.clients&quot;         level=&quot;error&quot;/&gt;\r\n        &lt;logger name=&quot;org.apache.kafka.clients.consumer.internals&quot;          level=&quot;error&quot;/&gt;\r\n        &lt;logger name=&quot;org.apache.kafka.clients.consumer.internals.Fetcher&quot;  level=&quot;error&quot;/&gt;\r\n    \t \r\n    \t&lt;root level=&quot;error&quot; name=&quot;org.apache.kafka&quot; additivity=&quot;false&quot;&gt;\r\n        \t&lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\r\n    \t&lt;/root&gt;\t\r\n    \t\r\n    &lt;/configuration&gt;\r\n\r\n**Sample logs:**\r\n\r\n    [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO org.apache.kafka.clients.Metadata - [Consumer clientId=client-01, groupId=publisher] Cluster ID: Udhjf-fdbfds\r\n    [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO org.apache.kafka.clients.consumer.internals.AbstractCoordinator - [Consumer clientId=client-01, groupId=publisher] Discovered group coordinator 127.....0 (id: 65654654654 rack: null)\r\n    [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO org.apache.kafka.clients.consumer.internals.AbstractCoordinator -  [Consumer clientId=client-01, groupId=publisher] (Re-)joining group\r\n    [WebSphere non-WLM Dispatch Thread t=008abcf0] WARN org.apache.kafka.clients.consumer.ConsumerConfig - The configuration &#39;schema.registry.url&#39; was supplied but isn&#39;t a known config.\r\n    [WebSphere non-WLM Dispatch Thread t=008abcf0] INFO org.apache.kafka.common.utils.AppInfoParser - Kafka version: 2.7.1\r\n    [WebSphere non-WLM Dispatch Thread t=008abcf0] INFO org.apache.kafka.common.utils.AppInfoParser - Kafka commitId: 616tyu85d0d567566\r\n\r\nAnyone came across similar situation or any leads will be really helpful.  Thanks in advance. :)","title":"spring kafka - set consumer log level manually (spring 5)","body":"<p>We are working on <code>spring</code> project and integrated with <code>spring-kafka</code> recently. It's working as expected where we are able produce and consume messages properly.</p>\n<p>But as we moved project to <em>PROD</em>, we are getting <em>DEBUG</em> level log statements and amount of statements overwhelmed. <em><strong>We are trying to set logging levels to WARN or ERROR</strong></em> specifically for Kafka logs.</p>\n<p>In process we added <strong><code>logback.xml</code></strong> (added in main/resources) by following below article but no luck, also tried other solutions we came across in internet. (adding <em>log4j.properties</em> and <em>log4j2.xml</em>)</p>\n<ul>\n<li><a href=\"https://www.baeldung.com/logback\" rel=\"noreferrer\">https://www.baeldung.com/logback</a></li>\n</ul>\n<p><strong>logback.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;configuration name=&quot;default&quot;&gt;\n\n    &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n       &lt;encoder&gt;\n          &lt;pattern&gt;%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n&lt;/pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n\n    &lt;logger name=&quot;org.apache.kafka&quot;                 level=&quot;error&quot; /&gt;\n    &lt;logger name=&quot;org.apache.kafka.common.metrics&quot;  level=&quot;error&quot;/&gt;\n    &lt;logger name=&quot;org.apache.kafka.clients&quot;         level=&quot;error&quot;/&gt;\n    &lt;logger name=&quot;org.apache.kafka.clients.consumer.internals&quot;          level=&quot;error&quot;/&gt;\n    &lt;logger name=&quot;org.apache.kafka.clients.consumer.internals.Fetcher&quot;  level=&quot;error&quot;/&gt;\n     \n    &lt;root level=&quot;error&quot; name=&quot;org.apache.kafka&quot; additivity=&quot;false&quot;&gt;\n        &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\n    &lt;/root&gt; \n    \n&lt;/configuration&gt;\n</code></pre>\n<p><strong>Sample logs:</strong></p>\n<pre><code>[org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO org.apache.kafka.clients.Metadata - [Consumer clientId=client-01, groupId=publisher] Cluster ID: Udhjf-fdbfds\n[org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO org.apache.kafka.clients.consumer.internals.AbstractCoordinator - [Consumer clientId=client-01, groupId=publisher] Discovered group coordinator 127.....0 (id: 65654654654 rack: null)\n[org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO org.apache.kafka.clients.consumer.internals.AbstractCoordinator -  [Consumer clientId=client-01, groupId=publisher] (Re-)joining group\n[WebSphere non-WLM Dispatch Thread t=008abcf0] WARN org.apache.kafka.clients.consumer.ConsumerConfig - The configuration 'schema.registry.url' was supplied but isn't a known config.\n[WebSphere non-WLM Dispatch Thread t=008abcf0] INFO org.apache.kafka.common.utils.AppInfoParser - Kafka version: 2.7.1\n[WebSphere non-WLM Dispatch Thread t=008abcf0] INFO org.apache.kafka.common.utils.AppInfoParser - Kafka commitId: 616tyu85d0d567566\n</code></pre>\n<p>Anyone came across similar situation or any leads will be really helpful.  Thanks in advance. :)</p>\n"},{"tags":["java","spring","spring-security","javabeans","deprecated"],"owner":{"account_id":28638621,"reputation":1,"user_id":21928225,"display_name":"IncognitoChief"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691047276,"creation_date":1691047276,"question_id":76825730,"body_markdown":"Im upgrading my project code to Spring 5, and Java 8 to 11. At first for the authentication.xml we used HttpSessionContextIntegrationFilter. Now we are trying to replace it with SecurityContextHolderFilter but not able to. As a temporary fix we used the deprecated class SecurityContextPersistanceFilter and it works for now but still need the solution for this.\r\n\r\nThe bean config in Java 8 used to be this\r\n\r\nAuthorization.xml -&gt; Java 8/Spring 2\r\n```\r\n&lt;bean id=&quot;httpSessionContextIntegrationFilter&quot; class=&quot;org.springframework.security.context.HttpSessionContextIntegrationFilter&quot;/&gt;\r\n```\r\nThe temporary fix --&gt; Java 11 (Its working but the class is deprecated)\r\n\r\n```\r\n&lt;bean id=&quot;securityContextPersistenceFilter&quot; class=&quot;org.springframework.security.web.context.SecurityContextPersistenceFilter&quot;/&gt;\r\n```\r\n\r\nThe actual Required Fix --&gt; Spring 5\r\n\r\n```\r\n\r\n&lt;bean id =&quot;securityContextHolderFilter&quot; class=&quot;org.springframework.security.web.context.SecurityContextHolderFilter&quot;&gt;\r\n   &lt;constructor-arg name=&quot;securityContextRepository&quot; ref=&quot;securityContextRepository&quot;/&gt;\r\n&lt;/bean&gt;\r\n&lt;bean name=&quot;securityContextRepository&quot; class=&quot;org.springframework.security.web.context.HttpSessionSecurityContextRepository&quot;/&gt;\r\n\r\n&lt;sec:http security-context-repository-ref=&quot;securityContextRepository&quot; security-context-explicit-save=&quot;true&quot;&gt;\r\n&lt;sec: form-login/&gt;\r\n&lt;/sec:http&gt;\r\n```\r\n\r\nI tried the last bean configuration in my FilterChain, but the principal header of my preAuth userDetail class comes as null. \r\n\r\nPlease let me know of a solution which fits my problem, anything helps.\r\nThanks","title":"Spring Security upgrade, SecurityContextPersistanceFilter to SecurityContextHolderFilter","body":"<p>Im upgrading my project code to Spring 5, and Java 8 to 11. At first for the authentication.xml we used HttpSessionContextIntegrationFilter. Now we are trying to replace it with SecurityContextHolderFilter but not able to. As a temporary fix we used the deprecated class SecurityContextPersistanceFilter and it works for now but still need the solution for this.</p>\n<p>The bean config in Java 8 used to be this</p>\n<p>Authorization.xml -&gt; Java 8/Spring 2</p>\n<pre><code>&lt;bean id=&quot;httpSessionContextIntegrationFilter&quot; class=&quot;org.springframework.security.context.HttpSessionContextIntegrationFilter&quot;/&gt;\n</code></pre>\n<p>The temporary fix --&gt; Java 11 (Its working but the class is deprecated)</p>\n<pre><code>&lt;bean id=&quot;securityContextPersistenceFilter&quot; class=&quot;org.springframework.security.web.context.SecurityContextPersistenceFilter&quot;/&gt;\n</code></pre>\n<p>The actual Required Fix --&gt; Spring 5</p>\n<pre><code>\n&lt;bean id =&quot;securityContextHolderFilter&quot; class=&quot;org.springframework.security.web.context.SecurityContextHolderFilter&quot;&gt;\n   &lt;constructor-arg name=&quot;securityContextRepository&quot; ref=&quot;securityContextRepository&quot;/&gt;\n&lt;/bean&gt;\n&lt;bean name=&quot;securityContextRepository&quot; class=&quot;org.springframework.security.web.context.HttpSessionSecurityContextRepository&quot;/&gt;\n\n&lt;sec:http security-context-repository-ref=&quot;securityContextRepository&quot; security-context-explicit-save=&quot;true&quot;&gt;\n&lt;sec: form-login/&gt;\n&lt;/sec:http&gt;\n</code></pre>\n<p>I tried the last bean configuration in my FilterChain, but the principal header of my preAuth userDetail class comes as null.</p>\n<p>Please let me know of a solution which fits my problem, anything helps.\nThanks</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":1,"creation_date":1449359980,"post_id":34112301,"comment_id":55974567,"body_markdown":"What makes you think that this has anything to do with the code that you have shown here? Is your app in the foreground at the time? If not, Android can terminate your process at any point while it is in the background.","body":"What makes you think that this has anything to do with the code that you have shown here? Is your app in the foreground at the time? If not, Android can terminate your process at any point while it is in the background."},{"owner":{"account_id":5784344,"reputation":168,"user_id":4564083,"accept_rate":75,"display_name":"Alex Mensak"},"score":0,"creation_date":1449416865,"post_id":34112301,"comment_id":55987442,"body_markdown":"Its because app stops only after using that code.. Its kind of same time witch it takes to hide icon from launcher menu. If I dont set it to DISABLED it doesnt happens. Do you think the problem might be that I am accidentally calling it when its already DISABLED ?","body":"Its because app stops only after using that code.. Its kind of same time witch it takes to hide icon from launcher menu. If I dont set it to DISABLED it doesnt happens. Do you think the problem might be that I am accidentally calling it when its already DISABLED ?"},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1449417351,"post_id":34112301,"comment_id":55987632,"body_markdown":"&quot;Its because app stops only after using that code&quot; -- what does &quot;app stops&quot; mean?","body":"&quot;Its because app stops only after using that code&quot; -- what does &quot;app stops&quot; mean?"},{"owner":{"account_id":5784344,"reputation":168,"user_id":4564083,"accept_rate":75,"display_name":"Alex Mensak"},"score":0,"creation_date":1449420328,"post_id":34112301,"comment_id":55988611,"body_markdown":"I have an activity where is check box, when chceck box is checked the code above is executed. When unchecked, the same code with COMPONENT_ENABLED_STATE_ENABLED is executed.  But when I check that box and wait like 10-15 seconds, the app window disappears with no warning or error message, also app disappear from recent apps and icon is hidden.","body":"I have an activity where is check box, when chceck box is checked the code above is executed. When unchecked, the same code with COMPONENT_ENABLED_STATE_ENABLED is executed.  But when I check that box and wait like 10-15 seconds, the app window disappears with no warning or error message, also app disappear from recent apps and icon is hidden."},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1449420741,"post_id":34112301,"comment_id":55988777,"body_markdown":"Is the activity that you are disabling the one that has the checkbox and is in the foreground when it vanishes? Or is it some other activity that you are disabling?","body":"Is the activity that you are disabling the one that has the checkbox and is in the foreground when it vanishes? Or is it some other activity that you are disabling?"},{"owner":{"account_id":5784344,"reputation":168,"user_id":4564083,"accept_rate":75,"display_name":"Alex Mensak"},"score":0,"creation_date":1449421088,"post_id":34112301,"comment_id":55988904,"body_markdown":"SettingsActivity is in foreground, and contains the check box. I&#39;m disabling MainScreen activity because its the launch activity and I want to just hide app icon and don&#39;t know any other way how to do that.","body":"SettingsActivity is in foreground, and contains the check box. I&#39;m disabling MainScreen activity because its the launch activity and I want to just hide app icon and don&#39;t know any other way how to do that."},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":1,"creation_date":1449421160,"post_id":34112301,"comment_id":55988933,"body_markdown":"That&#39;s really bizarre. I&#39;ll try to run some tests to see if I can reproduce this problem this week. Have you tried this on more than one Android environment (e.g., multiple devices, or a device and an emulator)?","body":"That&#39;s really bizarre. I&#39;ll try to run some tests to see if I can reproduce this problem this week. Have you tried this on more than one Android environment (e.g., multiple devices, or a device and an emulator)?"},{"owner":{"account_id":5784344,"reputation":168,"user_id":4564083,"accept_rate":75,"display_name":"Alex Mensak"},"score":0,"creation_date":1449421673,"post_id":34112301,"comment_id":55989127,"body_markdown":"Tested on android 5.0 LG G3 and 5.1 Nvidia tegra note.. and its the same. I do really appreciate your help.   ..weird is that it&#39;s the same as if I dont use DONT_KILL_APP flag and just set it to 0 but the difference is 10 sec delay before it kills app.","body":"Tested on android 5.0 LG G3 and 5.1 Nvidia tegra note.. and its the same. I do really appreciate your help.   ..weird is that it&#39;s the same as if I dont use DONT_KILL_APP flag and just set it to 0 but the difference is 10 sec delay before it kills app."},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":2,"creation_date":1449447151,"post_id":34112301,"comment_id":55997624,"body_markdown":"Well, I can reproduce the problem. It&#39;s been around since 5.0; I can&#39;t reproduce the problem on 4.4. It doesn&#39;t seem task-related, as I tried having my first activity use `FLAG_ACTIVITY_NEW_TASK` when launching the second activity, but both activities were force-finished anyway. I don&#39;t know why it&#39;s doing this, but other than it being different than what it used to be, I don&#39;t know that this is strictly a bug. However, [somebody else filed a bug report](https://code.google.com/p/android/issues/detail?id=194353) that seems related.","body":"Well, I can reproduce the problem. It&#39;s been around since 5.0; I can&#39;t reproduce the problem on 4.4. It doesn&#39;t seem task-related, as I tried having my first activity use <code>FLAG_ACTIVITY_NEW_TASK</code> when launching the second activity, but both activities were force-finished anyway. I don&#39;t know why it&#39;s doing this, but other than it being different than what it used to be, I don&#39;t know that this is strictly a bug. However, <a href=\"https://code.google.com/p/android/issues/detail?id=194353\" rel=\"nofollow noreferrer\">somebody else filed a bug report</a> that seems related."},{"owner":{"account_id":5784344,"reputation":168,"user_id":4564083,"accept_rate":75,"display_name":"Alex Mensak"},"score":0,"creation_date":1449510503,"post_id":34112301,"comment_id":56027755,"body_markdown":"Hope they will fix it...  Do you know any other way how to hide icon from launcher?","body":"Hope they will fix it...  Do you know any other way how to hide icon from launcher?"},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1449511254,"post_id":34112301,"comment_id":56028204,"body_markdown":"You could try putting your `MAIN`/`LAUNCHER` `&lt;intent-filter&gt;` on an `&lt;activity-alias&gt;` that points to the actual launcher activity. Then, disable the alias. Since I do not know why the whole back stack is getting force-finished in the first place, I do not know if disabling an `activity-alias` instead of the underlying activity will help, but it&#39;s worth a try.","body":"You could try putting your <code>MAIN</code>/<code>LAUNCHER</code> <code>&lt;intent-filter&gt;</code> on an <code>&lt;activity-alias&gt;</code> that points to the actual launcher activity. Then, disable the alias. Since I do not know why the whole back stack is getting force-finished in the first place, I do not know if disabling an <code>activity-alias</code> instead of the underlying activity will help, but it&#39;s worth a try."}],"answers":[{"tags":[],"owner":{"account_id":1484122,"reputation":4273,"user_id":1392727,"display_name":"Vikas"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1494047302,"creation_date":1494047302,"answer_id":43816954,"question_id":34112301,"body_markdown":"First get your apps package name:\r\n    \r\n    String packageName = activity.getPackageName();\r\n\r\nThen set **clsDefault** from the name you must have defined in your &lt;activity-alias&gt; in your Manifest file.\r\n\r\n     &lt;activity-alias\r\n                android:name=&quot;.HomeScreen-Default&quot;...&gt;\r\n\r\n    public static String clsDefault = packageName + &quot;.HomeScreen-Default&quot;;\r\n\r\nThen use this to set the icon.\r\n\r\n    activity.getPackageManager().setComponentEnabledSetting(new ComponentName(packageName, clsDefault ),\r\n                        PackageManager.COMPONENT_ENABLED_STATE_ENABLED, PackageManager.DONT_KILL_APP);\r\n","title":"android PackageManager.DONT_KILL_APP seems to not work","body":"<p>First get your apps package name:</p>\n\n<pre><code>String packageName = activity.getPackageName();\n</code></pre>\n\n<p>Then set <strong>clsDefault</strong> from the name you must have defined in your  in your Manifest file.</p>\n\n<pre><code> &lt;activity-alias\n            android:name=\".HomeScreen-Default\"...&gt;\n\npublic static String clsDefault = packageName + \".HomeScreen-Default\";\n</code></pre>\n\n<p>Then use this to set the icon.</p>\n\n<pre><code>activity.getPackageManager().setComponentEnabledSetting(new ComponentName(packageName, clsDefault ),\n                    PackageManager.COMPONENT_ENABLED_STATE_ENABLED, PackageManager.DONT_KILL_APP);\n</code></pre>\n"}],"owner":{"account_id":5784344,"reputation":168,"user_id":4564083,"accept_rate":75,"display_name":"Alex Mensak"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6791,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":1,"score":6,"last_activity_date":1691047007,"creation_date":1449359141,"question_id":34112301,"body_markdown":"In my recent project Im hiding app icon from launcher by using COMPONENT_ENABLED_STATE_DISABLED flag.\r\nHere you can see code: \r\n\r\n    PackageManager packageManager = SettingsActivity.this.getPackageManager();\r\n    ComponentName componentName = new ComponentName(SettingsActivity.this, MainScreen.class);\r\n\r\n    packageManager.setComponentEnabledSetting(componentName, PackageManager.COMPONENT_ENABLED_STATE_DISABLED, PackageManager.DONT_KILL_APP);\r\n\r\nThis is launched when user press checkBox. But some how every time after like 10-15 seconds the app sudently stop. Whith no error or message. \r\n\r\nI dont understand it because I have used DONT_KILL_APP flag..\r\n\r\nAny suggestions? ","title":"android PackageManager.DONT_KILL_APP seems to not work","body":"<p>In my recent project Im hiding app icon from launcher by using COMPONENT_ENABLED_STATE_DISABLED flag.\nHere you can see code: </p>\n\n<pre><code>PackageManager packageManager = SettingsActivity.this.getPackageManager();\nComponentName componentName = new ComponentName(SettingsActivity.this, MainScreen.class);\n\npackageManager.setComponentEnabledSetting(componentName, PackageManager.COMPONENT_ENABLED_STATE_DISABLED, PackageManager.DONT_KILL_APP);\n</code></pre>\n\n<p>This is launched when user press checkBox. But some how every time after like 10-15 seconds the app sudently stop. Whith no error or message. </p>\n\n<p>I dont understand it because I have used DONT_KILL_APP flag..</p>\n\n<p>Any suggestions? </p>\n"},{"tags":["java","osgi","artifactory","tycho"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1691053313,"post_id":76825639,"comment_id":135440345,"body_markdown":"Consider switching to the new way of creating Maven p2 sites that can be consumed directly: https://github.com/eclipse-tycho/tycho/blob/master/RELEASE_NOTES.md#creating-maven-p2-sites-with-tycho-packaging","body":"Consider switching to the new way of creating Maven p2 sites that can be consumed directly: <a href=\"https://github.com/eclipse-tycho/tycho/blob/master/RELEASE_NOTES.md#creating-maven-p2-sites-with-tycho-packaging\" rel=\"nofollow noreferrer\">github.com/eclipse-tycho/tycho/blob/master/&hellip;</a>"},{"owner":{"account_id":29149635,"reputation":1,"user_id":22330763,"display_name":"CPPC"},"score":0,"creation_date":1691054211,"post_id":76825639,"comment_id":135440556,"body_markdown":"Thanks for your advice however our project is currently using Tycho v2.7.5 and I don&#39;t know if I can upgrade without any sideeffects (old versions no longer building).\n\nI will have to look into your approach if I can update Tycho.","body":"Thanks for your advice however our project is currently using Tycho v2.7.5 and I don&#39;t know if I can upgrade without any sideeffects (old versions no longer building).  I will have to look into your approach if I can update Tycho."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1691054437,"post_id":76825639,"comment_id":135440596,"body_markdown":"For upgrading from 2.x to 4.x see [Migration guide 2.x -&gt; 3.x](https://github.com/eclipse-tycho/tycho/blob/master/RELEASE_NOTES.md#migration-guide-2x---3x) and [Migration guide 3.x &gt; 4.x](https://github.com/eclipse-tycho/tycho/blob/master/RELEASE_NOTES.md#migration-guide-3x--4x).","body":"For upgrading from 2.x to 4.x see <a href=\"https://github.com/eclipse-tycho/tycho/blob/master/RELEASE_NOTES.md#migration-guide-2x---3x\" rel=\"nofollow noreferrer\">Migration guide 2.x -&gt; 3.x</a> and <a href=\"https://github.com/eclipse-tycho/tycho/blob/master/RELEASE_NOTES.md#migration-guide-3x--4x\" rel=\"nofollow noreferrer\">Migration guide 3.x &gt; 4.x</a>."}],"owner":{"account_id":29149635,"reputation":1,"user_id":22330763,"display_name":"CPPC"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691046398,"creation_date":1691046398,"question_id":76825639,"body_markdown":"# *My task:*\r\nI am in the process of migrating our repositories hosted on premise Nexus to JFrog Artifactory and i am stuck at support for OSGi-bundles (upload and dependency-resolution).\r\n\r\n# *Current situation:*\r\nCurrently we develop, build, deploy and consume our own OSGi-bundles via Nexus. The OSGi-bundle gets built and deployed (with Maven and Tycho) to Nexus as ZIP/JAR. On Nexus we use a plugin ([Tycho/Nexus Unzip Plugin](https://wiki.eclipse.org/Tycho/Nexus_Unzip_Plugin)) that mirrors and unzips the OSGi-bundles and makes them available as a virtual repository. This enables Maven with the Tycho-plugin to resolve dependencies when consuming those OSGi-bundles.\r\n\r\nA example structure in the SNAPSHOT repository on Nexus:\r\n\r\n```\r\n+- Snapshots\r\n +--- A0\r\n  +--- A1\r\n   +--- A2\r\n    +--- 1.*.*-SNAPSHOT\r\n    |+-- A2-1.*.*.zip\r\n    |+-- A2-1.*.*.pom\r\n    |+-- A2-1.*.*-p2artifacts.xml\r\n    |+-- A2-1.*.*-p2metadata.xml\r\n```\r\n\r\nAnd the corresponding structure generated by Tycho/Nexus Unzip Plugin on Nexus:\r\n\r\n```\r\n+- Snapshots-Unzip for P2\r\n +--- A0\r\n  +--- A1\r\n   +--- A2\r\n    +--- 1.*.*-SNAPSHOT\r\n     +--- A2-1.*.*-SNAPSHOT.zip-unzip\r\n     |+-- features\r\n     |+-- plugins\r\n     |+-- artifacts.jar\r\n     |+-- artifacts.xml.xz\r\n     |+-- content.jar\r\n     |+-- content.xml.xz\r\n     |+-- p2.index\r\n```\r\n\r\nThe dependency (A2 in this case) is included in the *.target.target file by pointing to the location of the unzip-repository: [http://\\*\\*\\*\\*\\*:\\*\\*\\*\\*/nexus/service/local/repositories/Snapshot-Unzip/content/A0/A1/A2/1.\\*.\\*-SNAPSHOT/A2-1.\\*.\\*-SNAPSHOT.zip-unzip](https://stackoverflow.com)\r\n\r\n\r\n# *My problem:*\r\nThere seems to be no solution to implicitly or explicitly provide the deployed OSGi-bundles unziped as Nexus with the Tycho/Nexus Unzip Plugin does on JFrog Artifactory.\r\n\r\n# *My research and attempts:*\r\nOfficial documentations of JFrog Artifactory suggest that there is explicit support for P2-repositories ([P2-repositories](https://jfrog.com/help/r/jfrog-artifactory-documentation/p2-repositories)). However when attempting to replicate the steps the results were not what I was expecting.\r\n\r\n- We do not have one OSGi-bundle but multiple with multiple versions (SNAPSHOT &amp; RELEASE) in each corresponding repository\r\n- When creating a virtual P2-repository and trying to include a local repository (where our OSGi-bundles reside) I have to point to the metadata directly and cannot include a whole repository\r\n- Also when pointing to the metadata which resides in a ZIP, the documentation suggests to finish the subpath/URL with &#39;!&#39;. This however does nothing and dependency resolution during build process fails\r\n\r\n# *My expectations:*\r\nThe current use-case is something that was implemented long before I started working and needs to be supported for existing applications. I cannot change the way the applications depend and resolve OSGi-bundles. I &quot;just&quot; need to replicate the current behavior of Nexus in JFrog Artifactory (ideally).\r\n\r\nIs there a approach I could try or some implementation detail in JFrog Artifactory that I missed?\r\nThanks!","title":"JFrog Artifactory support for OSGi-Bundles &amp; Tycho-Plugin","body":"<h1><em>My task:</em></h1>\n<p>I am in the process of migrating our repositories hosted on premise Nexus to JFrog Artifactory and i am stuck at support for OSGi-bundles (upload and dependency-resolution).</p>\n<h1><em>Current situation:</em></h1>\n<p>Currently we develop, build, deploy and consume our own OSGi-bundles via Nexus. The OSGi-bundle gets built and deployed (with Maven and Tycho) to Nexus as ZIP/JAR. On Nexus we use a plugin (<a href=\"https://wiki.eclipse.org/Tycho/Nexus_Unzip_Plugin\" rel=\"nofollow noreferrer\">Tycho/Nexus Unzip Plugin</a>) that mirrors and unzips the OSGi-bundles and makes them available as a virtual repository. This enables Maven with the Tycho-plugin to resolve dependencies when consuming those OSGi-bundles.</p>\n<p>A example structure in the SNAPSHOT repository on Nexus:</p>\n<pre><code>+- Snapshots\n +--- A0\n  +--- A1\n   +--- A2\n    +--- 1.*.*-SNAPSHOT\n    |+-- A2-1.*.*.zip\n    |+-- A2-1.*.*.pom\n    |+-- A2-1.*.*-p2artifacts.xml\n    |+-- A2-1.*.*-p2metadata.xml\n</code></pre>\n<p>And the corresponding structure generated by Tycho/Nexus Unzip Plugin on Nexus:</p>\n<pre><code>+- Snapshots-Unzip for P2\n +--- A0\n  +--- A1\n   +--- A2\n    +--- 1.*.*-SNAPSHOT\n     +--- A2-1.*.*-SNAPSHOT.zip-unzip\n     |+-- features\n     |+-- plugins\n     |+-- artifacts.jar\n     |+-- artifacts.xml.xz\n     |+-- content.jar\n     |+-- content.xml.xz\n     |+-- p2.index\n</code></pre>\n<p>The dependency (A2 in this case) is included in the *.target.target file by pointing to the location of the unzip-repository: <a href=\"https://stackoverflow.com\">http://*****:****/nexus/service/local/repositories/Snapshot-Unzip/content/A0/A1/A2/1.*.*-SNAPSHOT/A2-1.*.*-SNAPSHOT.zip-unzip</a></p>\n<h1><em>My problem:</em></h1>\n<p>There seems to be no solution to implicitly or explicitly provide the deployed OSGi-bundles unziped as Nexus with the Tycho/Nexus Unzip Plugin does on JFrog Artifactory.</p>\n<h1><em>My research and attempts:</em></h1>\n<p>Official documentations of JFrog Artifactory suggest that there is explicit support for P2-repositories (<a href=\"https://jfrog.com/help/r/jfrog-artifactory-documentation/p2-repositories\" rel=\"nofollow noreferrer\">P2-repositories</a>). However when attempting to replicate the steps the results were not what I was expecting.</p>\n<ul>\n<li>We do not have one OSGi-bundle but multiple with multiple versions (SNAPSHOT &amp; RELEASE) in each corresponding repository</li>\n<li>When creating a virtual P2-repository and trying to include a local repository (where our OSGi-bundles reside) I have to point to the metadata directly and cannot include a whole repository</li>\n<li>Also when pointing to the metadata which resides in a ZIP, the documentation suggests to finish the subpath/URL with '!'. This however does nothing and dependency resolution during build process fails</li>\n</ul>\n<h1><em>My expectations:</em></h1>\n<p>The current use-case is something that was implemented long before I started working and needs to be supported for existing applications. I cannot change the way the applications depend and resolve OSGi-bundles. I &quot;just&quot; need to replicate the current behavior of Nexus in JFrog Artifactory (ideally).</p>\n<p>Is there a approach I could try or some implementation detail in JFrog Artifactory that I missed?\nThanks!</p>\n"},{"tags":["java","bouncycastle","ecdh"],"answers":[{"tags":[],"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691046324,"creation_date":1691046324,"answer_id":76825635,"question_id":76333577,"body_markdown":"Actually an X9-style compressed public key can begin with 0x02 _or_ 0x03, depending on the parity of the omitted Y-coordinate.\r\n\r\nYou can read this with standard JCA `KeyFactory` by adding a fixed prefix that turns it into the correct DER encoding; this is the same idea as https://stackoverflow.com/questions/30445997/loading-raw-64-byte-long-ecdsa-public-key-in-java/30471945#30471945 except with a different prefix due to the different curve, the inclusion of the 02/03 byte, and the different DER lengths.\r\n\r\n```\r\n    // given byte[] raw containing 33 bytes: 0x02/0x03 then 32-byte X-coordinate, on secp256k1\r\n    byte[] head = Base64.getDecoder().decode(&quot;MDYwEAYHKoZIzj0CAQYFK4EEAAoDIgA=&quot;);\r\n    byte[] combine = Arrays.copyOf(head,head.length+raw.length);\r\n    System.arraycopy(raw,0, combine,head.length, raw.length);\r\n    PublicKey pub = KeyFactory.getInstance(&quot;EC&quot;).generatePublic(new X509EncodedKeySpec(combine));\r\n```\r\n","title":"Java JCA ECDH Create public key from raw encoded X Point","body":"<p>Actually an X9-style compressed public key can begin with 0x02 <em>or</em> 0x03, depending on the parity of the omitted Y-coordinate.</p>\n<p>You can read this with standard JCA <code>KeyFactory</code> by adding a fixed prefix that turns it into the correct DER encoding; this is the same idea as <a href=\"https://stackoverflow.com/questions/30445997/loading-raw-64-byte-long-ecdsa-public-key-in-java/30471945#30471945\">Loading raw 64-byte long ECDSA public key in Java</a> except with a different prefix due to the different curve, the inclusion of the 02/03 byte, and the different DER lengths.</p>\n<pre><code>    // given byte[] raw containing 33 bytes: 0x02/0x03 then 32-byte X-coordinate, on secp256k1\n    byte[] head = Base64.getDecoder().decode(&quot;MDYwEAYHKoZIzj0CAQYFK4EEAAoDIgA=&quot;);\n    byte[] combine = Arrays.copyOf(head,head.length+raw.length);\n    System.arraycopy(raw,0, combine,head.length, raw.length);\n    PublicKey pub = KeyFactory.getInstance(&quot;EC&quot;).generatePublic(new X509EncodedKeySpec(combine));\n</code></pre>\n"}],"owner":{"account_id":8373652,"reputation":1,"user_id":21239491,"display_name":"gus2000"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691046324,"creation_date":1685026005,"question_id":76333577,"body_markdown":"I tried to calculate ECDH secret using my private EC key and a ephemeral peer key. The peer key is in raw compressed byte format (i.e 0x02 + 32 bytes).\r\nI manage to do it using bouncycastle library, thank to the &quot;ECPoint org.bouncycastle.math.ec.ECCurve.decodePoint(byte[] arg0)&quot; method.\r\nUnfortunately, I&#39;m not able to find a way to perform the same operation using Java JCA.\r\nBouncycastle is not an option because the final project will be in a Java Card.\r\n\r\n\r\n            // convert bouncycastle public key to Java public key \r\n            ECParameterSpec ecSpec = ECNamedCurveTable.getParameterSpec(&quot;secp256k1&quot;);\r\n            ECPoint Q = publicKeyParams.getQ();\r\n            ECPublicKeySpec pubSpec = new ECPublicKeySpec(Q, ecSpec);\r\n            PublicKey javaPublicKey = keyFactory.generatePublic(pubSpec);\r\n\r\ngive &quot;The constructor ECPublicKeySpec(ECPoint, ECPublicKeySpec) is undefined&quot;","title":"Java JCA ECDH Create public key from raw encoded X Point","body":"<p>I tried to calculate ECDH secret using my private EC key and a ephemeral peer key. The peer key is in raw compressed byte format (i.e 0x02 + 32 bytes).\nI manage to do it using bouncycastle library, thank to the &quot;ECPoint org.bouncycastle.math.ec.ECCurve.decodePoint(byte[] arg0)&quot; method.\nUnfortunately, I'm not able to find a way to perform the same operation using Java JCA.\nBouncycastle is not an option because the final project will be in a Java Card.</p>\n<pre><code>        // convert bouncycastle public key to Java public key \n        ECParameterSpec ecSpec = ECNamedCurveTable.getParameterSpec(&quot;secp256k1&quot;);\n        ECPoint Q = publicKeyParams.getQ();\n        ECPublicKeySpec pubSpec = new ECPublicKeySpec(Q, ecSpec);\n        PublicKey javaPublicKey = keyFactory.generatePublic(pubSpec);\n</code></pre>\n<p>give &quot;The constructor ECPublicKeySpec(ECPoint, ECPublicKeySpec) is undefined&quot;</p>\n"},{"tags":["java","multithreading","apache","apache-poi"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":2,"creation_date":1514807487,"post_id":48048606,"comment_id":83070357,"body_markdown":"https://poi.apache.org/faq.html#faq-N10224","body":"<a href=\"https://poi.apache.org/faq.html#faq-N10224\" rel=\"nofollow noreferrer\">poi.apache.org/faq.html#faq-N10224</a>"},{"owner":{"account_id":218102,"reputation":696,"user_id":474255,"accept_rate":90,"display_name":"peroxide"},"score":0,"creation_date":1514807574,"post_id":48048606,"comment_id":83070377,"body_markdown":"@AxelRichter Thanks but this addresses to issue with &quot;Accessing the same document in multiple threads will not work&quot;\nthe issue is not with the same document. every thread creates a different document but they all have the same java.io.tmpdir and one thread sometimes deletes it for the other threads","body":"@AxelRichter Thanks but this addresses to issue with &quot;Accessing the same document in multiple threads will not work&quot; the issue is not with the same document. every thread creates a different document but they all have the same java.io.tmpdir and one thread sometimes deletes it for the other threads"},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1514808031,"post_id":48048606,"comment_id":83070488,"body_markdown":"Sorry that this was not clear form the code which you had not provided.","body":"Sorry that this was not clear form the code which you had not provided."},{"owner":{"account_id":265649,"reputation":53086,"user_id":552759,"display_name":"jtahlborn"},"score":2,"creation_date":1514824402,"post_id":48048606,"comment_id":83074479,"body_markdown":"i seriously doubt poi is deleting the tmp dir.  that is shared by the _entire_ jvm, so that would be a big no-no.  the poi library is very mature and i seriously doubt bad behavior like that would still exist in the library.  are you deleting any files/directories in your code?  what&#39;s the full stack trace of the exception?","body":"i seriously doubt poi is deleting the tmp dir.  that is shared by the <i>entire</i> jvm, so that would be a big no-no.  the poi library is very mature and i seriously doubt bad behavior like that would still exist in the library.  are you deleting any files/directories in your code?  what&#39;s the full stack trace of the exception?"},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1514875039,"post_id":48048606,"comment_id":83085250,"body_markdown":"@peroxide: Are you satisfied with the given answers? No? Well as a member for such a long time you should know why. Yo have not provided any code which shows your problem. You have provided an error but neither the whole error message nor the stacktrace. So how shall somebody be able giving any satisfying answer?","body":"@peroxide: Are you satisfied with the given answers? No? Well as a member for such a long time you should know why. Yo have not provided any code which shows your problem. You have provided an error but neither the whole error message nor the stacktrace. So how shall somebody be able giving any satisfying answer?"},{"owner":{"account_id":218102,"reputation":696,"user_id":474255,"accept_rate":90,"display_name":"peroxide"},"score":0,"creation_date":1514881014,"post_id":48048606,"comment_id":83087421,"body_markdown":"@jtahlborn i&#39;m giving the application a different java.io.tmpdir and its not using the default one. thats why i know that it must be the POI thats deleting it.","body":"@jtahlborn i&#39;m giving the application a different java.io.tmpdir and its not using the default one. thats why i know that it must be the POI thats deleting it."},{"owner":{"account_id":218102,"reputation":696,"user_id":474255,"accept_rate":90,"display_name":"peroxide"},"score":0,"creation_date":1514881121,"post_id":48048606,"comment_id":83087449,"body_markdown":"@AxelRichter i&#39;ve provided everything there is to know about the issue. the code in this case would have just confused people. the apache poi implementation is the same as in their documentation. but thanks for the comment","body":"@AxelRichter i&#39;ve provided everything there is to know about the issue. the code in this case would have just confused people. the apache poi implementation is the same as in their documentation. but thanks for the comment"}],"answers":[{"comments":[{"owner":{"account_id":218102,"reputation":696,"user_id":474255,"accept_rate":90,"display_name":"peroxide"},"score":0,"creation_date":1514812538,"post_id":48049523,"comment_id":83071607,"body_markdown":"i&#39;ve already checked that, its thread safe. the only issue is with the apache POI that sometimes deletes the tmp folder.","body":"i&#39;ve already checked that, its thread safe. the only issue is with the apache POI that sometimes deletes the tmp folder."}],"tags":[],"owner":{"account_id":8184603,"reputation":23,"user_id":6160760,"display_name":"wonk"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1514808514,"creation_date":1514808514,"answer_id":48049523,"question_id":48048606,"body_markdown":"I may first check if your methods, in relation to write those .xlsx files, are thread safe. \nAnd your theads may race to write the same files concurrently. ","title":"Apache POI gets java.io.IOException on tmp dir in multithread","body":"<p>I may first check if your methods, in relation to write those .xlsx files, are thread safe. \nAnd your theads may race to write the same files concurrently. </p>\n"},{"tags":[],"owner":{"account_id":10878617,"reputation":2606,"user_id":7998319,"display_name":"gati sahu"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1514823578,"creation_date":1514823578,"answer_id":48051265,"question_id":48048606,"body_markdown":"One solution will be while creating temp directory then thread should append some prefix to identify uniquely .So there will be no concurrent modification to same folder.\r\n\r\nWhile implementation you have to consider how many request can simultaneously process.You can not create lot of directory.\r\n\r\nOne solution will be using thread pool and a queue to hold request if request is coming more than you can process.\r\n\r\nor If there is similarity in content then you can create a template and change some data dynamically.So only clone will work\r\n   ","title":"Apache POI gets java.io.IOException on tmp dir in multithread","body":"<p>One solution will be while creating temp directory then thread should append some prefix to identify uniquely .So there will be no concurrent modification to same folder.</p>\n\n<p>While implementation you have to consider how many request can simultaneously process.You can not create lot of directory.</p>\n\n<p>One solution will be using thread pool and a queue to hold request if request is coming more than you can process.</p>\n\n<p>or If there is similarity in content then you can create a template and change some data dynamically.So only clone will work</p>\n"},{"tags":[],"owner":{"account_id":1195086,"reputation":2530,"user_id":1166992,"accept_rate":83,"display_name":"Olivier Faucheux"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691046053,"creation_date":1691046053,"answer_id":76825609,"question_id":48048606,"body_markdown":"The solution for me was to forbide POI to delete the directory when empty (from https://bz.apache.org/bugzilla/show_bug.cgi?id=57200#c4)\r\n\r\n    touch /tmp/poifiles/.dontdeleteonexitonnonuniquedirectories\r\n\r\n","title":"Apache POI gets java.io.IOException on tmp dir in multithread","body":"<p>The solution for me was to forbide POI to delete the directory when empty (from <a href=\"https://bz.apache.org/bugzilla/show_bug.cgi?id=57200#c4\" rel=\"nofollow noreferrer\">https://bz.apache.org/bugzilla/show_bug.cgi?id=57200#c4</a>)</p>\n<pre><code>touch /tmp/poifiles/.dontdeleteonexitonnonuniquedirectories\n</code></pre>\n"}],"owner":{"account_id":218102,"reputation":696,"user_id":474255,"accept_rate":90,"display_name":"peroxide"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1439,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":48051265,"answer_count":3,"score":0,"last_activity_date":1691046053,"creation_date":1514799850,"question_id":48048606,"body_markdown":"I have a java application that gets a request to create an XLSX file.  \r\nthis application is multi-threaded which means that 5 users simultaneously can run a report.  \r\nmy issue is that when the report is huge and 5 users create reports together i get this message `java.io.IOException: Could not create temporary directory &#39;`\r\nthis is probably caused because one of the 5 threads deleted the java.tmp.dir and the other 4 threads failed.\r\n\r\nhow do i resolve that?  \r\none of my suggested solutions is to give each thread a different java.io.tmpdir, is that something that can be done?","title":"Apache POI gets java.io.IOException on tmp dir in multithread","body":"<p>I have a java application that gets a request to create an XLSX file.<br>\nthis application is multi-threaded which means that 5 users simultaneously can run a report.<br>\nmy issue is that when the report is huge and 5 users create reports together i get this message <code>java.io.IOException: Could not create temporary directory '</code>\nthis is probably caused because one of the 5 threads deleted the java.tmp.dir and the other 4 threads failed.</p>\n\n<p>how do i resolve that?<br>\none of my suggested solutions is to give each thread a different java.io.tmpdir, is that something that can be done?</p>\n"},{"tags":["java","string","if-statement"],"comments":[{"owner":{"account_id":1063749,"reputation":14067,"user_id":1064809,"accept_rate":70,"display_name":"Natix"},"score":5,"creation_date":1327431091,"post_id":8992100,"comment_id":11268987,"body_markdown":"Are you asking if a string is **equal** to any of the strings in the array, or **contains** any of the strings from in the array?","body":"Are you asking if a string is <b>equal</b> to any of the strings in the array, or <b>contains</b> any of the strings from in the array?"},{"owner":{"account_id":140564,"reputation":3522,"user_id":346980,"display_name":"Savino Sguera"},"score":1,"creation_date":1327431208,"post_id":8992100,"comment_id":11269017,"body_markdown":"You want to check if any string from the array is a substring of your input string? Or you want to check if your input string *equals* one of the string in the array? Can you be more precise?","body":"You want to check if any string from the array is a substring of your input string? Or you want to check if your input string <i>equals</i> one of the string in the array? Can you be more precise?"},{"owner":{"account_id":1058727,"reputation":2281,"user_id":1060828,"accept_rate":86,"display_name":"arowell"},"score":1,"creation_date":1327438745,"post_id":8992100,"comment_id":11271651,"body_markdown":"contains, so that it takes a line and sees if it contains any of the words from a list (stored as an array of strings)","body":"contains, so that it takes a line and sees if it contains any of the words from a list (stored as an array of strings)"}],"answers":[{"comments":[{"owner":{"account_id":1044644,"reputation":3435,"user_id":1049915,"display_name":"Beau Grantham"},"score":88,"creation_date":1327430512,"post_id":8992141,"comment_id":11268806,"body_markdown":"This is incorrect. OP is asking if `string` contains any `String`s in the array, not if any `String`s in the array contain `string`.","body":"This is incorrect. OP is asking if <code>string</code> contains any <code>String</code>s in the array, not if any <code>String</code>s in the array contain <code>string</code>."},{"owner":{"account_id":13724,"reputation":5533,"user_id":27739,"accept_rate":100,"display_name":"gnomed"},"score":4,"creation_date":1327430859,"post_id":8992141,"comment_id":11268908,"body_markdown":"@BeauGrantham I was thinking this too, but the OP is using `.equals()` in their post, which is very confusing. I reckon they need to edit their question","body":"@BeauGrantham I was thinking this too, but the OP is using <code>.equals()</code> in their post, which is very confusing. I reckon they need to edit their question"},{"owner":{"account_id":1045150,"reputation":1865,"user_id":1050319,"display_name":"Roy Kachouh"},"score":0,"creation_date":1327430959,"post_id":8992141,"comment_id":11268938,"body_markdown":"@BeauGrantham Man I couldn&#39;t sworn I understood the problem. Maybe the question needs to be clarified a bit more?","body":"@BeauGrantham Man I couldn&#39;t sworn I understood the problem. Maybe the question needs to be clarified a bit more?"},{"owner":{"account_id":1044644,"reputation":3435,"user_id":1049915,"display_name":"Beau Grantham"},"score":0,"creation_date":1327431100,"post_id":8992141,"comment_id":11268991,"body_markdown":"The question is vague, I agree. Maybe this is indeed what they are looking for.","body":"The question is vague, I agree. Maybe this is indeed what they are looking for."},{"owner":{"account_id":464127,"reputation":1956,"user_id":867437,"accept_rate":86,"display_name":"Vladimir Stazhilov"},"score":1,"creation_date":1471526020,"post_id":8992141,"comment_id":65388727,"body_markdown":"No, this kind of inverse direction won&#39;t work, you should check if String contains ONE of the values given and NOT if the values gives contain the string.","body":"No, this kind of inverse direction won&#39;t work, you should check if String contains ONE of the values given and NOT if the values gives contain the string."},{"owner":{"account_id":4329690,"reputation":11412,"user_id":3535537,"accept_rate":78,"display_name":"St&#233;phane GRILLON"},"score":2,"creation_date":1481108288,"post_id":8992141,"comment_id":69238541,"body_markdown":"Question is the opposite","body":"Question is the opposite"}],"tags":[],"owner":{"account_id":1045150,"reputation":1865,"user_id":1050319,"display_name":"Roy Kachouh"},"comment_count":6,"down_vote_count":36,"up_vote_count":49,"is_accepted":false,"score":13,"last_activity_date":1375631037,"creation_date":1327430181,"answer_id":8992141,"question_id":8992100,"body_markdown":"The easiest way would probably be to convert the array into a java.util.ArrayList.  Once it is in an arraylist, you can easily leverage the contains method.\r\n\r\n\tpublic static boolean bagOfWords(String str)\r\n\t{\r\n\t\tString[] words = {&quot;word1&quot;, &quot;word2&quot;, &quot;word3&quot;, &quot;word4&quot;, &quot;word5&quot;};  \r\n\t\treturn (Arrays.asList(words).contains(str));\r\n\t}","title":"Test if a string contains any of the strings from an array","body":"<p>The easiest way would probably be to convert the array into a java.util.ArrayList.  Once it is in an arraylist, you can easily leverage the contains method.</p>\n\n<pre><code>public static boolean bagOfWords(String str)\n{\n    String[] words = {\"word1\", \"word2\", \"word3\", \"word4\", \"word5\"};  \n    return (Arrays.asList(words).contains(str));\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":19,"creation_date":1463442030,"post_id":8992155,"comment_id":62056533,"body_markdown":"Question is the opposite: Does the target string contain any of the list’s strings.","body":"Question is the opposite: Does the target string contain any of the list’s strings."},{"owner":{"account_id":4588146,"reputation":418,"user_id":3722222,"accept_rate":43,"display_name":"Dilanka Laksiri"},"score":0,"creation_date":1616671976,"post_id":8992155,"comment_id":118078806,"body_markdown":"`stream()` and `anyMatch()` requires API level 24 or above","body":"<code>stream()</code> and <code>anyMatch()</code> requires API level 24 or above"},{"owner":{"account_id":69149,"reputation":233552,"user_id":201359,"accept_rate":100,"display_name":"&#211;scar L&#243;pez"},"score":0,"creation_date":1616672264,"post_id":8992155,"comment_id":118078963,"body_markdown":"@DilankaLaksiri not really, those methods have been available since Java 8. And the latest version of Java is 16, so what &quot;API level 24&quot; are you referring to?","body":"@DilankaLaksiri not really, those methods have been available since Java 8. And the latest version of Java is 16, so what &quot;API level 24&quot; are you referring to?"},{"owner":{"account_id":4588146,"reputation":418,"user_id":3722222,"accept_rate":43,"display_name":"Dilanka Laksiri"},"score":0,"creation_date":1616674179,"post_id":8992155,"comment_id":118079886,"body_markdown":"@&#211;scarL&#243;pez I&#39;m talking about the Android API level.","body":"@&#211;scarL&#243;pez I&#39;m talking about the Android API level."},{"owner":{"account_id":69149,"reputation":233552,"user_id":201359,"accept_rate":100,"display_name":"&#211;scar L&#243;pez"},"score":1,"creation_date":1616674818,"post_id":8992155,"comment_id":118080171,"body_markdown":"Ok, good. But this question was not about Android :)","body":"Ok, good. But this question was not about Android :)"}],"tags":[],"owner":{"account_id":69149,"reputation":233552,"user_id":201359,"accept_rate":100,"display_name":"&#211;scar L&#243;pez"},"comment_count":5,"down_vote_count":14,"up_vote_count":16,"is_accepted":false,"score":2,"last_activity_date":1616684462,"creation_date":1327430221,"answer_id":8992155,"question_id":8992100,"body_markdown":"Try this:\r\n\r\n    if (Arrays.stream(new String[] {item1, item2, item3}).anyMatch(inputStr::contains))","title":"Test if a string contains any of the strings from an array","body":"<p>Try this:</p>\n<pre><code>if (Arrays.stream(new String[] {item1, item2, item3}).anyMatch(inputStr::contains))\n</code></pre>\n"},{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":10,"creation_date":1463442033,"post_id":8992168,"comment_id":62056534,"body_markdown":"Question is the opposite: Does the target string contain any of the list’s strings.","body":"Question is the opposite: Does the target string contain any of the list’s strings."}],"tags":[],"owner":{"account_id":267053,"reputation":29704,"user_id":554988,"accept_rate":86,"display_name":"Garrett Hall"},"comment_count":1,"down_vote_count":11,"up_vote_count":5,"is_accepted":false,"score":-6,"last_activity_date":1327430276,"creation_date":1327430276,"answer_id":8992168,"question_id":8992100,"body_markdown":"    if (Arrays.asList(array).contains(string))","title":"Test if a string contains any of the strings from an array","body":"<pre><code>if (Arrays.asList(array).contains(string))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":262968,"reputation":767160,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"comment_count":0,"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1327430321,"creation_date":1327430321,"answer_id":8992179,"question_id":8992100,"body_markdown":"You can use [String#matches][1] method like this:\r\n\r\n    System.out.printf(&quot;Matches - [%s]%n&quot;, string.matches(&quot;^.*?(item1|item2|item3).*$&quot;));\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/String.html#matches%28java.lang.String%29","title":"Test if a string contains any of the strings from an array","body":"<p>You can use <a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/String.html#matches%28java.lang.String%29\" rel=\"noreferrer\">String#matches</a> method like this:</p>\n\n<pre><code>System.out.printf(\"Matches - [%s]%n\", string.matches(\"^.*?(item1|item2|item3).*$\"));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1063749,"reputation":14067,"user_id":1064809,"accept_rate":70,"display_name":"Natix"},"score":2,"creation_date":1327430962,"post_id":8992248,"comment_id":11268940,"body_markdown":"It should be noted that binarySearch works only on array that are sorted, either naturally or by the given comparator (if such is given).","body":"It should be noted that binarySearch works only on array that are sorted, either naturally or by the given comparator (if such is given)."}],"tags":[],"owner":{"account_id":237972,"reputation":4709,"user_id":506544,"accept_rate":46,"display_name":"Prahalad Deshpande"},"comment_count":1,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1327430617,"creation_date":1327430617,"answer_id":8992248,"question_id":8992100,"body_markdown":"The below should work for you assuming **Strings** is the array that you are searching within:\r\n\r\n    Arrays.binarySearch(Strings,&quot;mykeytosearch&quot;,mysearchComparator);\r\n\r\nwhere mykeytosearch is the string that you want to test for existence within the array.\r\nmysearchComparator - is a comparator that would be used to compare strings.\r\n\r\nRefer to [Arrays.binarySearch][1] for more information.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/util/Arrays.html#binarySearch%28T%5B%5D,%20T,%20java.util.Comparator%29","title":"Test if a string contains any of the strings from an array","body":"<p>The below should work for you assuming <strong>Strings</strong> is the array that you are searching within:</p>\n\n<pre><code>Arrays.binarySearch(Strings,\"mykeytosearch\",mysearchComparator);\n</code></pre>\n\n<p>where mykeytosearch is the string that you want to test for existence within the array.\nmysearchComparator - is a comparator that would be used to compare strings.</p>\n\n<p>Refer to <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/Arrays.html#binarySearch%28T%5B%5D,%20T,%20java.util.Comparator%29\" rel=\"nofollow\">Arrays.binarySearch</a> for more information.</p>\n"},{"comments":[{"owner":{"account_id":6132859,"reputation":1260,"user_id":4782537,"accept_rate":62,"display_name":"Praneeth"},"score":1,"creation_date":1531389914,"post_id":8995988,"comment_id":89582173,"body_markdown":"How to use it with regular expression @gnomed","body":"How to use it with regular expression @gnomed"},{"owner":{"account_id":2417032,"reputation":2316,"user_id":2110865,"accept_rate":50,"display_name":"thanos.a"},"score":0,"creation_date":1574280661,"post_id":8995988,"comment_id":104180325,"body_markdown":"How can we make the first implementation case sensitive ?","body":"How can we make the first implementation case sensitive ?"},{"owner":{"account_id":13724,"reputation":5533,"user_id":27739,"accept_rate":100,"display_name":"gnomed"},"score":0,"creation_date":1574285669,"post_id":8995988,"comment_id":104182503,"body_markdown":"The implementations are case sensitive already. I also have instructions for how to make it case insensitive in the bottom paragraphs of the answer.","body":"The implementations are case sensitive already. I also have instructions for how to make it case insensitive in the bottom paragraphs of the answer."},{"owner":{"account_id":47227,"reputation":15660,"user_id":139766,"accept_rate":88,"display_name":"Callum Rogers"},"score":1,"creation_date":1596128359,"post_id":8995988,"comment_id":111719248,"body_markdown":"parallelStream uses a minimum batch size of 1024, it won&#39;t actually parallelise small lists. It&#39;s a footgun.","body":"parallelStream uses a minimum batch size of 1024, it won&#39;t actually parallelise small lists. It&#39;s a footgun."},{"owner":{"account_id":13724,"reputation":5533,"user_id":27739,"accept_rate":100,"display_name":"gnomed"},"score":0,"creation_date":1596566875,"post_id":8995988,"comment_id":111850926,"body_markdown":"@CallumRogers true, I kind of left it in just so people think about it, but agree the vast majority of the time it will not make much difference (or actually be a detriment) compared to a non-parallel stream. Will try to call that out more in the answer.","body":"@CallumRogers true, I kind of left it in just so people think about it, but agree the vast majority of the time it will not make much difference (or actually be a detriment) compared to a non-parallel stream. Will try to call that out more in the answer."},{"owner":{"account_id":2042440,"reputation":698,"user_id":1823280,"accept_rate":75,"display_name":"nibbana"},"score":0,"creation_date":1601636337,"post_id":8995988,"comment_id":113474376,"body_markdown":"Still prefer the &quot;old&quot; answer, more supported and sufficient in most cases.","body":"Still prefer the &quot;old&quot; answer, more supported and sufficient in most cases."},{"owner":{"account_id":22627540,"reputation":298,"user_id":16805423,"display_name":"Brentspine"},"score":0,"creation_date":1663532471,"post_id":8995988,"comment_id":130256971,"body_markdown":"Is there a better way if you want to check it for characters? Because I would have to convert my `char[]` to `String[]` which doesn&#39;t seem right.","body":"Is there a better way if you want to check it for characters? Because I would have to convert my <code>char[]</code> to <code>String[]</code> which doesn&#39;t seem right."},{"owner":{"account_id":13724,"reputation":5533,"user_id":27739,"accept_rate":100,"display_name":"gnomed"},"score":0,"creation_date":1663533766,"post_id":8995988,"comment_id":130257221,"body_markdown":"To make it all primitve char logic you could convert the inputStr to a char[] and then implement the &quot;contains&quot; as a simple inner loop linear search of the `char[] inputStr` array with a primitive `==` check for each character. If you really wanted to optimize performance you could also sort and deduplicate the input str characters and search it using binary search for each character in your input `char[] items`.","body":"To make it all primitve char logic you could convert the inputStr to a char[] and then implement the &quot;contains&quot; as a simple inner loop linear search of the <code>char[] inputStr</code> array with a primitive <code>==</code> check for each character. If you really wanted to optimize performance you could also sort and deduplicate the input str characters and search it using binary search for each character in your input <code>char[] items</code>."}],"tags":[],"owner":{"account_id":13724,"reputation":5533,"user_id":27739,"accept_rate":100,"display_name":"gnomed"},"comment_count":8,"down_vote_count":3,"up_vote_count":267,"is_accepted":true,"score":264,"last_activity_date":1596567320,"creation_date":1327448662,"answer_id":8995988,"question_id":8992100,"body_markdown":"EDIT: Here is an update using the Java 8 Streaming API. So much cleaner. Can still be combined with regular expressions too.\r\n\r\n    public static boolean stringContainsItemFromList(String inputStr, String[] items) {\r\n        return Arrays.stream(items).anyMatch(inputStr::contains);\r\n    }\r\n\r\nAlso, if we change the input type to a List instead of an array we can use `items.stream().anyMatch(inputStr::contains)`.\r\n\r\nYou can also use `.filter(inputStr::contains).findAny()` if you wish to return the matching string.\r\n\r\n**Important:** the above code can be done using `parallelStream()` but most of the time this will actually hinder performance. See [this question for more details on parallel streaming][1].\r\n\r\n\r\n----------\r\n\r\nOriginal slightly dated answer:\r\n\r\nHere is a (VERY BASIC) static method. Note that it is case sensitive on the comparison strings. A **primitive** way to make it case insensitive would be to call `toLowerCase()` or `toUpperCase()` on both the input and test strings.\r\n\r\nIf you need to do anything more complicated than this, I would recommend looking at the [Pattern][2] and [Matcher][3] classes and learning how to do some regular expressions. Once you understand those, you can use those classes or the `String.matches()` helper method.\r\n\r\n    public static boolean stringContainsItemFromList(String inputStr, String[] items)\r\n    {\r\n        for(int i =0; i &lt; items.length; i++)\r\n        {\r\n            if(inputStr.contains(items[i]))\r\n            {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/20375176/should-i-always-use-a-parallel-stream-when-possible\r\n  [2]: http://docs.oracle.com/javase/1.5.0/docs/api/java/util/regex/Pattern.html\r\n  [3]: http://docs.oracle.com/javase/1.5.0/docs/api/java/util/regex/Matcher.html","title":"Test if a string contains any of the strings from an array","body":"<p>EDIT: Here is an update using the Java 8 Streaming API. So much cleaner. Can still be combined with regular expressions too.</p>\n<pre><code>public static boolean stringContainsItemFromList(String inputStr, String[] items) {\n    return Arrays.stream(items).anyMatch(inputStr::contains);\n}\n</code></pre>\n<p>Also, if we change the input type to a List instead of an array we can use <code>items.stream().anyMatch(inputStr::contains)</code>.</p>\n<p>You can also use <code>.filter(inputStr::contains).findAny()</code> if you wish to return the matching string.</p>\n<p><strong>Important:</strong> the above code can be done using <code>parallelStream()</code> but most of the time this will actually hinder performance. See <a href=\"https://stackoverflow.com/questions/20375176/should-i-always-use-a-parallel-stream-when-possible\">this question for more details on parallel streaming</a>.</p>\n<hr />\n<p>Original slightly dated answer:</p>\n<p>Here is a (VERY BASIC) static method. Note that it is case sensitive on the comparison strings. A <strong>primitive</strong> way to make it case insensitive would be to call <code>toLowerCase()</code> or <code>toUpperCase()</code> on both the input and test strings.</p>\n<p>If you need to do anything more complicated than this, I would recommend looking at the <a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/util/regex/Pattern.html\" rel=\"noreferrer\">Pattern</a> and <a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/util/regex/Matcher.html\" rel=\"noreferrer\">Matcher</a> classes and learning how to do some regular expressions. Once you understand those, you can use those classes or the <code>String.matches()</code> helper method.</p>\n<pre><code>public static boolean stringContainsItemFromList(String inputStr, String[] items)\n{\n    for(int i =0; i &lt; items.length; i++)\n    {\n        if(inputStr.contains(items[i]))\n        {\n            return true;\n        }\n    }\n    return false;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1670,"reputation":686,"user_id":2249,"accept_rate":43,"display_name":"Ivan Arrizabalaga"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1384771453,"creation_date":1384771453,"answer_id":20045785,"question_id":8992100,"body_markdown":"A more groovyesque approach would be to use **inject** in combination with **metaClass**:\r\n\r\nI would to love to say:\r\n\r\n    String myInput=&quot;This string is FORBIDDEN&quot;\r\n    myInput.containsAny([&quot;FORBIDDEN&quot;,&quot;NOT_ALLOWED&quot;]) //=&gt;true\r\n\r\nAnd the method would be:\r\n\r\n    myInput.metaClass.containsAny={List&lt;String&gt; notAllowedTerms-&gt;\r\n       notAllowedTerms?.inject(false,{found,term-&gt;found || delegate.contains(term)})\r\n    }\r\n\r\nIf you need **containsAny** to be present for any future String variable then add the method to the class instead of the object:\r\n\r\n    String.metaClass.containsAny={notAllowedTerms-&gt;\r\n       notAllowedTerms?.inject(false,{found,term-&gt;found || delegate.contains(term)})\r\n    }","title":"Test if a string contains any of the strings from an array","body":"<p>A more groovyesque approach would be to use <strong>inject</strong> in combination with <strong>metaClass</strong>:</p>\n\n<p>I would to love to say:</p>\n\n<pre><code>String myInput=\"This string is FORBIDDEN\"\nmyInput.containsAny([\"FORBIDDEN\",\"NOT_ALLOWED\"]) //=&gt;true\n</code></pre>\n\n<p>And the method would be:</p>\n\n<pre><code>myInput.metaClass.containsAny={List&lt;String&gt; notAllowedTerms-&gt;\n   notAllowedTerms?.inject(false,{found,term-&gt;found || delegate.contains(term)})\n}\n</code></pre>\n\n<p>If you need <strong>containsAny</strong> to be present for any future String variable then add the method to the class instead of the object:</p>\n\n<pre><code>String.metaClass.containsAny={notAllowedTerms-&gt;\n   notAllowedTerms?.inject(false,{found,term-&gt;found || delegate.contains(term)})\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":203256,"reputation":7026,"user_id":450812,"accept_rate":83,"display_name":"alfonx"},"score":9,"creation_date":1437508474,"post_id":30507707,"comment_id":51055360,"body_markdown":"JFI: I hoped this implementation to iterate only once over the inputString, but I looked at the code in StringUtils, and sadly it&#39;s just doing N calls of the default indexOf.","body":"JFI: I hoped this implementation to iterate only once over the inputString, but I looked at the code in StringUtils, and sadly it&#39;s just doing N calls of the default indexOf."},{"owner":{"account_id":263968,"reputation":6799,"user_id":549913,"accept_rate":79,"display_name":"renanleandrof"},"score":0,"creation_date":1447783693,"post_id":30507707,"comment_id":55295663,"body_markdown":"Maybe on commons3 the implementation is better!","body":"Maybe on commons3 the implementation is better!"},{"owner":{"account_id":203256,"reputation":7026,"user_id":450812,"accept_rate":83,"display_name":"alfonx"},"score":3,"creation_date":1447800323,"post_id":30507707,"comment_id":55304775,"body_markdown":"Nope, still just iterates over the Strings in org.apache.commons.lang3.StringUtils:\n        for (int i = 0; i &lt; searchStrs.length; i++) { \n            CharSequenceUtils.indexOf(str, search, 0);\n            ....","body":"Nope, still just iterates over the Strings in org.apache.commons.lang3.StringUtils:         for (int i = 0; i &lt; searchStrs.length; i++) {              CharSequenceUtils.indexOf(str, search, 0);             ...."},{"owner":{"account_id":1633932,"reputation":2930,"user_id":1507941,"accept_rate":83,"display_name":"Pluto"},"score":0,"creation_date":1582836800,"post_id":30507707,"comment_id":106924348,"body_markdown":"This does not return the index of the string found (from the array), only the index of the position the string was found at.","body":"This does not return the index of the string found (from the array), only the index of the position the string was found at."}],"tags":[],"owner":{"account_id":263968,"reputation":6799,"user_id":549913,"accept_rate":79,"display_name":"renanleandrof"},"comment_count":4,"down_vote_count":1,"up_vote_count":60,"is_accepted":false,"score":59,"last_activity_date":1442250151,"creation_date":1432819028,"answer_id":30507707,"question_id":8992100,"body_markdown":"\r\n\r\n    import org.apache.commons.lang.StringUtils;\r\n\r\n\r\n&lt;a href=&quot;https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/StringUtils.html&quot;&gt;String Utils&lt;/a&gt;\r\n\r\nUse: \r\n\r\n    StringUtils.indexOfAny(inputString, new String[]{item1, item2, item3})\r\n\r\nIt will return the index of the string found or -1 if none is found.\r\n\r\n","title":"Test if a string contains any of the strings from an array","body":"<pre><code>import org.apache.commons.lang.StringUtils;\n</code></pre>\n\n<p><a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/StringUtils.html\">String Utils</a></p>\n\n<p>Use: </p>\n\n<pre><code>StringUtils.indexOfAny(inputString, new String[]{item1, item2, item3})\n</code></pre>\n\n<p>It will return the index of the string found or -1 if none is found.</p>\n"},{"tags":[],"owner":{"account_id":1931986,"reputation":3714,"user_id":3990012,"accept_rate":64,"display_name":"serup"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1452078645,"creation_date":1452078645,"answer_id":34631682,"question_id":8992100,"body_markdown":"Here is one solution :\r\n\r\n    public static boolean containsAny(String str, String[] words)\r\n    {\r\n       boolean bResult=false; // will be set, if any of the words are found\r\n       //String[] words = {&quot;word1&quot;, &quot;word2&quot;, &quot;word3&quot;, &quot;word4&quot;, &quot;word5&quot;};\r\n        \r\n       List&lt;String&gt; list = Arrays.asList(words);\r\n       for (String word: list ) {\r\n           boolean bFound = str.contains(word);\r\n           if (bFound) {bResult=bFound; break;}\r\n       }\r\n       return bResult;\r\n    }","title":"Test if a string contains any of the strings from an array","body":"<p>Here is one solution :</p>\n\n<pre><code>public static boolean containsAny(String str, String[] words)\n{\n   boolean bResult=false; // will be set, if any of the words are found\n   //String[] words = {\"word1\", \"word2\", \"word3\", \"word4\", \"word5\"};\n\n   List&lt;String&gt; list = Arrays.asList(words);\n   for (String word: list ) {\n       boolean bFound = str.contains(word);\n       if (bFound) {bResult=bFound; break;}\n   }\n   return bResult;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3906566,"reputation":1330,"user_id":3233111,"accept_rate":100,"display_name":"CharlesC"},"score":0,"creation_date":1494523801,"post_id":39243572,"comment_id":74877235,"body_markdown":"One strange thing I noticed,  I have two item in the String list, I found out, when i use &#39;parallel&#39; it will not return the correct results. (even if it contains the value).","body":"One strange thing I noticed,  I have two item in the String list, I found out, when i use &#39;parallel&#39; it will not return the correct results. (even if it contains the value)."},{"owner":{"account_id":2269593,"reputation":43917,"user_id":1997376,"accept_rate":100,"display_name":"Nicolas Filotto"},"score":0,"creation_date":1494530046,"post_id":39243572,"comment_id":74880731,"body_markdown":"@Charles.C that&#39;s weird I can&#39;t reproduce on my side.","body":"@Charles.C that&#39;s weird I can&#39;t reproduce on my side."},{"owner":{"account_id":1460117,"reputation":133,"user_id":1374669,"display_name":"lifesoordinary"},"score":0,"creation_date":1525773067,"post_id":39243572,"comment_id":87478626,"body_markdown":"I am pretty sure parallelizing the stream would be suboptimal here  unless input string was long (~ 500 chars). Instead if the array was large, It would probably be better to partitition the array and run each of those in parallel.","body":"I am pretty sure parallelizing the stream would be suboptimal here  unless input string was long (~ 500 chars). Instead if the array was large, It would probably be better to partitition the array and run each of those in parallel."}],"tags":[],"owner":{"account_id":2269593,"reputation":43917,"user_id":1997376,"accept_rate":100,"display_name":"Nicolas Filotto"},"comment_count":3,"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1537372952,"creation_date":1472629362,"answer_id":39243572,"question_id":8992100,"body_markdown":"If you use **Java 8** or above, you can rely on the [Stream API][1] to do such thing:\r\n\r\n    public static boolean containsItemFromArray(String inputString, String[] items) {\r\n        // Convert the array of String items as a Stream\r\n        // For each element of the Stream call inputString.contains(element)\r\n        // If you have any match returns true, false otherwise\r\n        return Arrays.stream(items).anyMatch(inputString::contains);\r\n    }\r\n\r\nAssuming that you have a big array of big `String` to test you could also launch the search in parallel by calling [`parallel()`][2], the code would then be:\r\n\r\n    return Arrays.stream(items).parallel().anyMatch(inputString::contains); \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/BaseStream.html#parallel--","title":"Test if a string contains any of the strings from an array","body":"<p>If you use <strong>Java 8</strong> or above, you can rely on the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html\" rel=\"noreferrer\">Stream API</a> to do such thing:</p>\n\n<pre><code>public static boolean containsItemFromArray(String inputString, String[] items) {\n    // Convert the array of String items as a Stream\n    // For each element of the Stream call inputString.contains(element)\n    // If you have any match returns true, false otherwise\n    return Arrays.stream(items).anyMatch(inputString::contains);\n}\n</code></pre>\n\n<p>Assuming that you have a big array of big <code>String</code> to test you could also launch the search in parallel by calling <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/BaseStream.html#parallel--\" rel=\"noreferrer\"><code>parallel()</code></a>, the code would then be:</p>\n\n<pre><code>return Arrays.stream(items).parallel().anyMatch(inputString::contains); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":52375,"reputation":6473,"user_id":156522,"accept_rate":83,"display_name":"vsingh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1611680645,"creation_date":1486131428,"answer_id":42026309,"question_id":8992100,"body_markdown":"And if you are looking for case insensitive match, use pattern\r\n\r\n    Pattern pattern = Pattern.compile(&quot;\\\\bitem1 |item2\\\\b&quot;,java.util.regex.Pattern.CASE_INSENSITIVE);\r\n    \r\n    Matcher matcher = pattern.matcher(input);\r\n    if (matcher.find()) { \r\n        ...\r\n    }","title":"Test if a string contains any of the strings from an array","body":"<p>And if you are looking for case insensitive match, use pattern</p>\n<pre><code>Pattern pattern = Pattern.compile(&quot;\\\\bitem1 |item2\\\\b&quot;,java.util.regex.Pattern.CASE_INSENSITIVE);\n\nMatcher matcher = pattern.matcher(input);\nif (matcher.find()) { \n    ...\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1744260,"reputation":14886,"user_id":1594823,"accept_rate":64,"display_name":"Saikat"},"score":1,"creation_date":1527247511,"post_id":50487728,"comment_id":88067687,"body_markdown":"That checks for Char array","body":"That checks for Char array"}],"tags":[],"owner":{"account_id":2863928,"reputation":1551,"user_id":2458597,"accept_rate":90,"display_name":"Arthur Va&#239;sse"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1527076370,"creation_date":1527076370,"answer_id":50487728,"question_id":8992100,"body_markdown":"Since version 3.4 Apache Common Lang 3 implement the [containsAny][1] method.\r\n\r\n\r\n[1]: https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#containsAny-java.lang.CharSequence-java.lang.CharSequence...-","title":"Test if a string contains any of the strings from an array","body":"<p>Since version 3.4 Apache Common Lang 3 implement the <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#containsAny-java.lang.CharSequence-java.lang.CharSequence...-\" rel=\"nofollow noreferrer\">containsAny</a> method.</p>\n"},{"tags":[],"owner":{"account_id":2417032,"reputation":2316,"user_id":2110865,"accept_rate":50,"display_name":"thanos.a"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574281498,"creation_date":1574281498,"answer_id":58962793,"question_id":8992100,"body_markdown":"If you are seraching for **whole** **words** you can do this that works **case** **insensitive**.\r\n\r\n\r\n    private boolean containsKeyword(String line, String[] keywords)\r\n    {\r\n        String[] inputWords = line.split(&quot; &quot;);\r\n    \t\r\n    \tfor (String inputWord : inputWords)\r\n    \t{\r\n    \t\tfor (String keyword : keywords)\r\n    \t\t{\r\n    \t\t\tif (inputWord.equalsIgnoreCase(keyword))\r\n    \t\t\t{\r\n    \t\t\t\treturn true;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \treturn false;\r\n    }","title":"Test if a string contains any of the strings from an array","body":"<p>If you are seraching for <strong>whole</strong> <strong>words</strong> you can do this that works <strong>case</strong> <strong>insensitive</strong>.</p>\n\n<pre><code>private boolean containsKeyword(String line, String[] keywords)\n{\n    String[] inputWords = line.split(\" \");\n\n    for (String inputWord : inputWords)\n    {\n        for (String keyword : keywords)\n        {\n            if (inputWord.equalsIgnoreCase(keyword))\n            {\n                return true;\n            }\n        }\n    }\n\n    return false;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":267730,"reputation":685,"user_id":556078,"accept_rate":71,"display_name":"Max Cascone"},"score":0,"creation_date":1617916794,"post_id":62894865,"comment_id":118451733,"body_markdown":"I believe wrapping the ends with `.*` makes the `?` and `$` redundant, as `.*` means &quot;zero or more of any characters&quot; (with some control char caveats)","body":"I believe wrapping the ends with <code>.*</code> makes the <code>?</code> and <code>$</code> redundant, as <code>.*</code> means &quot;zero or more of any characters&quot; (with some control char caveats)"}],"tags":[],"owner":{"account_id":17558967,"reputation":33,"user_id":12737847,"display_name":"Chandan Kolambe"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1594728552,"creation_date":1594728552,"answer_id":62894865,"question_id":8992100,"body_markdown":"We can also do like this:\r\n```\r\nif (string.matches(&quot;^.*?((?i)item1|item2|item3).*$&quot;))\r\n```\r\n\r\n```\r\n(?i): used for case insensitive\r\n.*? &amp; .*$: used for checking whether it is present anywhere in between the string.\r\n```","title":"Test if a string contains any of the strings from an array","body":"<p>We can also do like this:</p>\n<pre><code>if (string.matches(&quot;^.*?((?i)item1|item2|item3).*$&quot;))\n</code></pre>\n<pre><code>(?i): used for case insensitive\n.*? &amp; .*$: used for checking whether it is present anywhere in between the string.\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1355161,"reputation":2108,"user_id":1293709,"accept_rate":40,"display_name":"Thomas Hirsch"},"score":0,"creation_date":1632324745,"post_id":69286176,"comment_id":122463040,"body_markdown":"Not sure if adding a badly formatted answer in a different language than what had been asked for 9 years ago is appropriate.","body":"Not sure if adding a badly formatted answer in a different language than what had been asked for 9 years ago is appropriate."},{"owner":{"account_id":5346073,"reputation":1082,"user_id":4261600,"accept_rate":100,"display_name":"6rchid"},"score":0,"creation_date":1661601906,"post_id":69286176,"comment_id":129813740,"body_markdown":"@ThomasHirsch Why wouldn&#39;t it be? It&#39;s straightforward and definitely more useful today","body":"@ThomasHirsch Why wouldn&#39;t it be? It&#39;s straightforward and definitely more useful today"}],"tags":[],"owner":{"account_id":10432865,"reputation":95,"user_id":7692155,"display_name":"H.Step"},"comment_count":2,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1686163472,"creation_date":1632320761,"answer_id":69286176,"question_id":8992100,"body_markdown":"in Kotlin\r\n\r\n    if ( arrayOf(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;).find{ &quot;onetw&quot;.contains(it) } != null ) {\r\n        doStuff()\r\n    }","title":"Test if a string contains any of the strings from an array","body":"<p>in Kotlin</p>\n<pre><code>if ( arrayOf(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;).find{ &quot;onetw&quot;.contains(it) } != null ) {\n    doStuff()\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11445284,"reputation":631,"user_id":8389388,"display_name":"Pines Tran"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691045893,"creation_date":1691045893,"answer_id":76825586,"question_id":8992100,"body_markdown":"In Apache common lang 3 support check contains any Strings. Try it:\r\n\r\n    import org.apache.commons.lang3.StringUtils;\r\n    \r\n    ...\r\n    \r\n    if(StringUtils.containsAny(string, item1, item2, item3)){\r\n       // your code\r\n    }\r\n\r\n ","title":"Test if a string contains any of the strings from an array","body":"<p>In Apache common lang 3 support check contains any Strings. Try it:</p>\n<pre><code>import org.apache.commons.lang3.StringUtils;\n\n...\n\nif(StringUtils.containsAny(string, item1, item2, item3)){\n   // your code\n}\n</code></pre>\n"}],"owner":{"account_id":1058727,"reputation":2281,"user_id":1060828,"accept_rate":86,"display_name":"arowell"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":368024,"favorite_count":0,"down_vote_count":0,"up_vote_count":199,"accepted_answer_id":8995988,"answer_count":16,"score":199,"last_activity_date":1691045893,"creation_date":1327429970,"question_id":8992100,"body_markdown":"How do I test a string to see if it contains any of the strings from an array?\r\n\r\nInstead of using\r\n\r\n    if (string.contains(item1) || string.contains(item2) || string.contains(item3))","title":"Test if a string contains any of the strings from an array","body":"<p>How do I test a string to see if it contains any of the strings from an array?</p>\n\n<p>Instead of using</p>\n\n<pre><code>if (string.contains(item1) || string.contains(item2) || string.contains(item3))\n</code></pre>\n"},{"tags":["java","spring-boot","whatsapp-cloud-api"],"answers":[{"tags":[],"owner":{"account_id":9197872,"reputation":636,"user_id":6836002,"accept_rate":50,"display_name":"Navjot Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691045875,"creation_date":1691045875,"answer_id":76825584,"question_id":76698136,"body_markdown":"you will need to create a template first and then send the message using message template. \r\nCheck https://developers.facebook.com/docs/whatsapp/cloud-api/guides/send-message-templates for more info","title":"WhatsApp for business API integration using Cloud API","body":"<p>you will need to create a template first and then send the message using message template.\nCheck <a href=\"https://developers.facebook.com/docs/whatsapp/cloud-api/guides/send-message-templates\" rel=\"nofollow noreferrer\">https://developers.facebook.com/docs/whatsapp/cloud-api/guides/send-message-templates</a> for more info</p>\n"}],"owner":{"account_id":29027513,"reputation":1,"user_id":22235328,"display_name":"SANJAY RAJ H B"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":217,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1691045875,"creation_date":1689508746,"question_id":76698136,"body_markdown":"How can I integrate my WhatsApp for business (not using any 3rd party tools like Pabbly, WANotifier, etc.) to send a pdf document (Purchase Order details) to the customers without having to send a welcome text message and the customer not having to reply back with anything to receive the pdf document (Purchase Order details)?.\r\n\r\n**Note: if this is not possible then how does MakeMyTrip and book my show works where in which when we book tickets or shows we receive a pdf file (booking details) without we in person initiating the conversation of asking the booking details.**\r\n\r\nWent through the official MetaforDevelopers document https://developers.facebook.com/docs/whatsapp/cloud-api\r\nbut couldn&#39;t find any solutions.\r\n\r\nIf somebody finds something out of the document link attached above related to my requirement, please let me know!\r\nThanks in advance!","title":"WhatsApp for business API integration using Cloud API","body":"<p>How can I integrate my WhatsApp for business (not using any 3rd party tools like Pabbly, WANotifier, etc.) to send a pdf document (Purchase Order details) to the customers without having to send a welcome text message and the customer not having to reply back with anything to receive the pdf document (Purchase Order details)?.</p>\n<p><strong>Note: if this is not possible then how does MakeMyTrip and book my show works where in which when we book tickets or shows we receive a pdf file (booking details) without we in person initiating the conversation of asking the booking details.</strong></p>\n<p>Went through the official MetaforDevelopers document <a href=\"https://developers.facebook.com/docs/whatsapp/cloud-api\" rel=\"nofollow noreferrer\">https://developers.facebook.com/docs/whatsapp/cloud-api</a>\nbut couldn't find any solutions.</p>\n<p>If somebody finds something out of the document link attached above related to my requirement, please let me know!\nThanks in advance!</p>\n"},{"tags":["java","kotlin","jackson"],"answers":[{"tags":[],"owner":{"account_id":202054,"reputation":23899,"user_id":448875,"display_name":"broot"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1690988335,"creation_date":1690988335,"answer_id":76821176,"question_id":76820827,"body_markdown":"`row.javaClass` is the correct equivalent of `row.getClass()`. The problem here is different: `row` is potentially nullable, so you can&#39;t invoke anything on it directly, without checking if it is null.\r\n\r\nIf you assume `rows` can only contain non-null values, you have to define your functions like this: \r\n\r\n```kotlin\r\nprivate fun &lt;T : Any&gt; createCsvSchema(...)\r\n```\r\nIf it may contain nulls, you have to handle a null case inside `map { ... }`.","title":"getClass() in Java versus javaClass in Kotlin (error when converting code from Java to Kotlin)","body":"<p><code>row.javaClass</code> is the correct equivalent of <code>row.getClass()</code>. The problem here is different: <code>row</code> is potentially nullable, so you can't invoke anything on it directly, without checking if it is null.</p>\n<p>If you assume <code>rows</code> can only contain non-null values, you have to define your functions like this:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>private fun &lt;T : Any&gt; createCsvSchema(...)\n</code></pre>\n<p>If it may contain nulls, you have to handle a null case inside <code>map { ... }</code>.</p>\n"}],"owner":{"account_id":28614024,"reputation":23,"user_id":21908428,"display_name":"JonathanSessenioo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1691044086,"creation_date":1690985934,"question_id":76820827,"body_markdown":"I want to convert code written in Java to Kotlin. IntelliJ handled most things but there is a problem with the following snippet and I don&#39;t know how to fix it.\r\n\r\nHere is the code written in Java:\r\nAnd the error only appears in two places:\r\n\r\nin the function `createCsv`: in `row.javaClass` it shows this fragment in red - there is no such function in Kotlin in Java in this place there was `row.getClass()` I tried to make `row.javaClass.kotlin` or `row.javaClass.simpleName` there, but it doesn&#39;t work. \r\n\r\nAccording to the documentation: [https://fasterxml.github.io/jackson-databind/javadoc/2.7/com/fasterxml/jackson/databind/ObjectMapper.html#convertValue(java.lang.Object,%20java.lang.Class)](https://stackoverflow.com)\r\n\r\nThere is no implementation of `convertValue(Any, Any)`, but somehow it automatically converts to Any for me and I don&#39;t know too much how it should look like, which is the same as in Java.","title":"getClass() in Java versus javaClass in Kotlin (error when converting code from Java to Kotlin)","body":"<p>I want to convert code written in Java to Kotlin. IntelliJ handled most things but there is a problem with the following snippet and I don't know how to fix it.</p>\n<p>Here is the code written in Java:\nAnd the error only appears in two places:</p>\n<p>in the function <code>createCsv</code>: in <code>row.javaClass</code> it shows this fragment in red - there is no such function in Kotlin in Java in this place there was <code>row.getClass()</code> I tried to make <code>row.javaClass.kotlin</code> or <code>row.javaClass.simpleName</code> there, but it doesn't work.</p>\n<p>According to the documentation: <a href=\"https://stackoverflow.com\">https://fasterxml.github.io/jackson-databind/javadoc/2.7/com/fasterxml/jackson/databind/ObjectMapper.html#convertValue(java.lang.Object,%20java.lang.Class)</a></p>\n<p>There is no implementation of <code>convertValue(Any, Any)</code>, but somehow it automatically converts to Any for me and I don't know too much how it should look like, which is the same as in Java.</p>\n"},{"tags":["java","anylogic","systemdynamics"],"answers":[{"comments":[{"owner":{"account_id":28808392,"reputation":33,"user_id":22063691,"display_name":"Alex"},"score":0,"creation_date":1691114842,"post_id":76825382,"comment_id":135451350,"body_markdown":"Thanks, Benjamin. That worked. But is there then no feature for changing the color of the flow itself?","body":"Thanks, Benjamin. That worked. But is there then no feature for changing the color of the flow itself?"}],"tags":[],"owner":{"account_id":2486375,"reputation":11068,"user_id":2164728,"accept_rate":62,"display_name":"Benjamin"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691043895,"creation_date":1691043895,"answer_id":76825382,"question_id":76825105,"body_markdown":"You need to call the `setFillColor` method on something that can, in fact, change its color. Your `recividism` is a double variable. A number cannot change color :)\r\n\r\nSo drag in a rectangle and adjust your code, something like \r\n\r\n    if(recividism&lt;90000){\r\n       myNewRectangle.setFillColor(red);\r\n    }else{\r\n       myNewRectangle.setFillColor(blue);\r\n    }","title":"Dynamic colors for flow elements in AnyLogic?","body":"<p>You need to call the <code>setFillColor</code> method on something that can, in fact, change its color. Your <code>recividism</code> is a double variable. A number cannot change color :)</p>\n<p>So drag in a rectangle and adjust your code, something like</p>\n<pre><code>if(recividism&lt;90000){\n   myNewRectangle.setFillColor(red);\n}else{\n   myNewRectangle.setFillColor(blue);\n}\n</code></pre>\n"}],"owner":{"account_id":28808392,"reputation":33,"user_id":22063691,"display_name":"Alex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691043895,"creation_date":1691040716,"question_id":76825105,"body_markdown":"I would like for the flows (and also stocks) within my system dynamics model to change color on the basis of certain thresholds being crossed. Is this possible?\r\n\r\nBased on this response (https://stackoverflow.com/questions/76804173/how-to-change-the-color-of-rectangular-node-based-on-number-of-agents-in-the-nod/), I tried to create an event that would trigger a color change in which the flow &quot;recividism&quot; would be blue when its value was below 90,000 and red whenever its value was above 90,000.\r\n\r\nI made it a &quot;Timeout&quot; trigger type with a &quot;Cyclic&quot; mode&quot; and entered the following code:\r\n\r\n```\r\nif(recividism&lt;90000){\r\n   recividism.setFillColor(red);\r\n}else{\r\n   recividism.setFillColor(blue);\r\n}\r\n```\r\n\r\nBut it just produces an error saying &quot;Cannot invoke setFillColor(Color) on primitive type double&quot;. Is there a way to resolve this and to have dynamic colors in flow elements?","title":"Dynamic colors for flow elements in AnyLogic?","body":"<p>I would like for the flows (and also stocks) within my system dynamics model to change color on the basis of certain thresholds being crossed. Is this possible?</p>\n<p>Based on this response (<a href=\"https://stackoverflow.com/questions/76804173/how-to-change-the-color-of-rectangular-node-based-on-number-of-agents-in-the-nod/\">How to change the color of rectangular node based on number of agents in the node in Anylogic?</a>), I tried to create an event that would trigger a color change in which the flow &quot;recividism&quot; would be blue when its value was below 90,000 and red whenever its value was above 90,000.</p>\n<p>I made it a &quot;Timeout&quot; trigger type with a &quot;Cyclic&quot; mode&quot; and entered the following code:</p>\n<pre><code>if(recividism&lt;90000){\n   recividism.setFillColor(red);\n}else{\n   recividism.setFillColor(blue);\n}\n</code></pre>\n<p>But it just produces an error saying &quot;Cannot invoke setFillColor(Color) on primitive type double&quot;. Is there a way to resolve this and to have dynamic colors in flow elements?</p>\n"},{"tags":["java","android","kotlin","android-recyclerview","admob"],"comments":[{"owner":{"account_id":10396927,"reputation":68267,"user_id":7666442,"display_name":"AskNilesh"},"score":0,"creation_date":1549520911,"post_id":54567494,"comment_id":95933083,"body_markdown":"You need to use multiple view types with recyclerview for hint check this answer https://stackoverflow.com/a/53779566/7666442","body":"You need to use multiple view types with recyclerview for hint check this answer <a href=\"https://stackoverflow.com/a/53779566/7666442\">stackoverflow.com/a/53779566/7666442</a>"},{"owner":{"account_id":13713834,"reputation":55,"user_id":9895392,"display_name":"Developer"},"score":0,"creation_date":1549521063,"post_id":54567494,"comment_id":95933134,"body_markdown":"iam using multiple view holder","body":"iam using multiple view holder"},{"owner":{"account_id":5554423,"reputation":1640,"user_id":4406346,"accept_rate":42,"display_name":"Iffat Fatima"},"score":0,"creation_date":1549522291,"post_id":54567494,"comment_id":95933612,"body_markdown":"You can check the google sample code for adding banner ads in recycler view: https://github.com/googlesamples/android-ads/tree/master/advanced/BannerRecyclerViewExample","body":"You can check the google sample code for adding banner ads in recycler view: <a href=\"https://github.com/googlesamples/android-ads/tree/master/advanced/BannerRecyclerViewExample\" rel=\"nofollow noreferrer\">github.com/googlesamples/android-ads/tree/master/advanced/&hellip;</a>"},{"owner":{"account_id":5554423,"reputation":1640,"user_id":4406346,"accept_rate":42,"display_name":"Iffat Fatima"},"score":0,"creation_date":1549522506,"post_id":54567494,"comment_id":95933693,"body_markdown":"Also. please state the exact issue you are facing, is the ad not appearing in list?","body":"Also. please state the exact issue you are facing, is the ad not appearing in list?"},{"owner":{"account_id":13713834,"reputation":55,"user_id":9895392,"display_name":"Developer"},"score":0,"creation_date":1549522531,"post_id":54567494,"comment_id":95933710,"body_markdown":"but its a LinearLayoutManager manager exmaple","body":"but its a LinearLayoutManager manager exmaple"},{"owner":{"account_id":13713834,"reputation":55,"user_id":9895392,"display_name":"Developer"},"score":0,"creation_date":1549522652,"post_id":54567494,"comment_id":95933771,"body_markdown":"Ad is appearing but its overlapping my content and iam using banner ad","body":"Ad is appearing but its overlapping my content and iam using banner ad"},{"owner":{"account_id":5554423,"reputation":1640,"user_id":4406346,"accept_rate":42,"display_name":"Iffat Fatima"},"score":0,"creation_date":1549522728,"post_id":54567494,"comment_id":95933804,"body_markdown":"Please edit the question to include code of your xml layout files as well.","body":"Please edit the question to include code of your xml layout files as well."},{"owner":{"account_id":13713834,"reputation":55,"user_id":9895392,"display_name":"Developer"},"score":0,"creation_date":1549522839,"post_id":54567494,"comment_id":95933853,"body_markdown":"which type of Ad should i use","body":"which type of Ad should i use"},{"owner":{"account_id":13713834,"reputation":55,"user_id":9895392,"display_name":"Developer"},"score":0,"creation_date":1549523171,"post_id":54567494,"comment_id":95933982,"body_markdown":"ok i added my xml layout","body":"ok i added my xml layout"}],"answers":[{"tags":[],"owner":{"account_id":15172570,"reputation":203,"user_id":10948181,"display_name":"Kartika Vij"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1549525351,"creation_date":1549525351,"answer_id":54568481,"question_id":54567494,"body_markdown":"You can set the Visibility of your AdView in onBindViewHolder() on the basis of position\r\n","title":"How to add Admob Ad between Recyclerview GridLayout","body":"<p>You can set the Visibility of your AdView in onBindViewHolder() on the basis of position</p>\n"},{"comments":[{"owner":{"account_id":7541067,"reputation":763,"user_id":5725622,"display_name":"Parth Lotia"},"score":0,"creation_date":1549533091,"post_id":54569373,"comment_id":95938755,"body_markdown":"In Your Adapter there is method getItemCount() \nreturn with \nitems_count + (items_count % 5);","body":"In Your Adapter there is method getItemCount()  return with  items_count + (items_count % 5);"}],"tags":[],"owner":{"account_id":7541067,"reputation":763,"user_id":5725622,"display_name":"Parth Lotia"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1549529069,"creation_date":1549529069,"answer_id":54569373,"question_id":54567494,"body_markdown":"Try to display Ad after 5 or 10 values in RecyclerView.\r\nLike:\r\n\r\n    @Override\r\n    public int getItemViewType(int position) \r\n    {     \r\n        if (position % 5 == 0)\r\n        return AD_TYPE; \r\n       return CONTENT_TYPE;\r\n    }\r\n\r\nAnd Don&#39;t Forget to change getItemCount() Method.","title":"How to add Admob Ad between Recyclerview GridLayout","body":"<p>Try to display Ad after 5 or 10 values in RecyclerView.\nLike:</p>\n\n<pre><code>@Override\npublic int getItemViewType(int position) \n{     \n    if (position % 5 == 0)\n    return AD_TYPE; \n   return CONTENT_TYPE;\n}\n</code></pre>\n\n<p>And Don't Forget to change getItemCount() Method.</p>\n"},{"tags":[],"owner":{"account_id":26359116,"reputation":585,"user_id":20015640,"display_name":"Urvish Shiroya"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673256881,"creation_date":1673256881,"answer_id":75055360,"question_id":54567494,"body_markdown":"I found my solution in this code.\r\n\r\n```java\r\nfinal GridLayoutManager.SpanSizeLookup spl = gridLayoutManager.getSpanSizeLookup();\r\n        gridLayoutManager.setSpanSizeLookup(new GridLayoutManager.SpanSizeLookup() {\r\n            @Override\r\n            public int getSpanSize(int position) {\r\n                if (!isAdPosition(position)) {\r\n                    return spl.getSpanSize(position);\r\n                }\r\n                return mParam.gridLayoutManager.getSpanCount();\r\n            }\r\n        });\r\n```\r\n\r\n```\r\nprivate boolean isAdPosition(int position) {\r\n    return (position + 1) % (adItemInterval + 1) == 0;\r\n}\r\n```\r\n\r\n- Here, `adItemInterval` is position whare you put your ad.","title":"How to add Admob Ad between Recyclerview GridLayout","body":"<p>I found my solution in this code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>final GridLayoutManager.SpanSizeLookup spl = gridLayoutManager.getSpanSizeLookup();\n        gridLayoutManager.setSpanSizeLookup(new GridLayoutManager.SpanSizeLookup() {\n            @Override\n            public int getSpanSize(int position) {\n                if (!isAdPosition(position)) {\n                    return spl.getSpanSize(position);\n                }\n                return mParam.gridLayoutManager.getSpanCount();\n            }\n        });\n</code></pre>\n<pre><code>private boolean isAdPosition(int position) {\n    return (position + 1) % (adItemInterval + 1) == 0;\n}\n</code></pre>\n<ul>\n<li>Here, <code>adItemInterval</code> is position whare you put your ad.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":21855635,"reputation":59,"user_id":16147070,"display_name":"Hussnain Mehdi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691043032,"creation_date":1691043032,"answer_id":76825305,"question_id":54567494,"body_markdown":"I you are Kotlin lover, try below code to display Ad (In Adapter) in Grid Layout.\r\n\r\nIn your activity/fragment:\r\n\r\n     binding.apply {\r\n            val gridLayoutManager = GridLayoutManager(mContext, 3)\r\n            gridLayoutManager.spanSizeLookup = object : GridLayoutManager.SpanSizeLookup() {\r\n                override fun getSpanSize(position: Int): Int {\r\n                    if (::itemsAdapter.isInitialized) {\r\n                        return if (itemsAdapter.currentList[position].itemName == &quot;NativeAd&quot;) {\r\n                            3\r\n                        } else {\r\n                            1\r\n                        }\r\n                    }\r\n                    return 1\r\n                }\r\n            }\r\n            itemsRecyclerView.layoutManager = gridLayoutManager\r\n            if (::itemsAdapter.isInitialized) {\r\n                itemsRecyclerView.adapter = itemsAdapter\r\n                itemsAdapter.submitList(itemsList)\r\n            }\r\n\r\n        }\r\n\r\n**In Your Adapter Override below method**\r\n\r\n    override fun getItemViewType(position: Int): Int {\r\n        return when (getItem(position).itemName) {\r\n            &quot;NativeAd&quot; -&gt; {\r\n                0\r\n            }\r\n\r\n            else -&gt; 1\r\n        }\r\n\r\n    }\r\n\r\n**Your onCreateViewHolder will coded like below**\r\n\r\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ViewHolder {\r\n        when (viewType) {\r\n            0 -&gt; {\r\n                return AdHolder(\r\n                    RecyclerviewadsBinding.inflate(\r\n                        LayoutInflater.from(parent.context),\r\n                        parent,\r\n                        false\r\n                    )\r\n                )\r\n            }\r\n\r\n            else -&gt; {\r\n                return MainItemsAdapterViewHolder(\r\n                    MainItemsSmapleBinding.inflate(\r\n                        LayoutInflater.from(parent.context),\r\n                        parent,\r\n                        false\r\n                    )\r\n                )\r\n            }\r\n        }\r\n    }\r\n**And onBindViewHolder code is:**\r\n\r\n    override fun onBindViewHolder(holder: ViewHolder, position: Int) {\r\n        when (holder.itemViewType) {\r\n            0 -&gt; {\r\n                (holder as AdHolder).loadNative()\r\n            }\r\n\r\n            else -&gt; {\r\n                (holder as MainItemsAdapterViewHolder).bindData(getItem(position))\r\n            }\r\n        }\r\n\r\n\r\n    }\r\n\r\n**Note: Make sure you have adjust Ad position in list(after how many items you want to show Ad, For any confusion you can ask for full code or any help**","title":"How to add Admob Ad between Recyclerview GridLayout","body":"<p>I you are Kotlin lover, try below code to display Ad (In Adapter) in Grid Layout.</p>\n<p>In your activity/fragment:</p>\n<pre><code> binding.apply {\n        val gridLayoutManager = GridLayoutManager(mContext, 3)\n        gridLayoutManager.spanSizeLookup = object : GridLayoutManager.SpanSizeLookup() {\n            override fun getSpanSize(position: Int): Int {\n                if (::itemsAdapter.isInitialized) {\n                    return if (itemsAdapter.currentList[position].itemName == &quot;NativeAd&quot;) {\n                        3\n                    } else {\n                        1\n                    }\n                }\n                return 1\n            }\n        }\n        itemsRecyclerView.layoutManager = gridLayoutManager\n        if (::itemsAdapter.isInitialized) {\n            itemsRecyclerView.adapter = itemsAdapter\n            itemsAdapter.submitList(itemsList)\n        }\n\n    }\n</code></pre>\n<p><strong>In Your Adapter Override below method</strong></p>\n<pre><code>override fun getItemViewType(position: Int): Int {\n    return when (getItem(position).itemName) {\n        &quot;NativeAd&quot; -&gt; {\n            0\n        }\n\n        else -&gt; 1\n    }\n\n}\n</code></pre>\n<p><strong>Your onCreateViewHolder will coded like below</strong></p>\n<pre><code>override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ViewHolder {\n    when (viewType) {\n        0 -&gt; {\n            return AdHolder(\n                RecyclerviewadsBinding.inflate(\n                    LayoutInflater.from(parent.context),\n                    parent,\n                    false\n                )\n            )\n        }\n\n        else -&gt; {\n            return MainItemsAdapterViewHolder(\n                MainItemsSmapleBinding.inflate(\n                    LayoutInflater.from(parent.context),\n                    parent,\n                    false\n                )\n            )\n        }\n    }\n}\n</code></pre>\n<p><strong>And onBindViewHolder code is:</strong></p>\n<pre><code>override fun onBindViewHolder(holder: ViewHolder, position: Int) {\n    when (holder.itemViewType) {\n        0 -&gt; {\n            (holder as AdHolder).loadNative()\n        }\n\n        else -&gt; {\n            (holder as MainItemsAdapterViewHolder).bindData(getItem(position))\n        }\n    }\n\n\n}\n</code></pre>\n<p><strong>Note: Make sure you have adjust Ad position in list(after how many items you want to show Ad, For any confusion you can ask for full code or any help</strong></p>\n"}],"owner":{"account_id":13713834,"reputation":55,"user_id":9895392,"display_name":"Developer"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2281,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1691043032,"creation_date":1549520868,"question_id":54567494,"body_markdown":"I&#39;m trying to implement Admob ad in a RecyclerView. I tried a lot of examples but failed. I want to insert one ad between 3 items of my RecyclerView, I am using GridLayout with Admob banner . I want my app view like below. Any help would be appreciated. \r\n\r\n[![i want Ad like below image][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/msO1h.png\r\n\r\nMy RecyclerView adapter\r\n\r\n      class ProductAdapter(private val userList: ArrayList&lt;Model.ProductList&gt;, private val context: Context, private val which: String) : androidx.recyclerview.widget.RecyclerView.Adapter&lt;RecyclerView.ViewHolder&gt;() {\r\n\r\n    override fun onBindViewHolder(holder: RecyclerView.ViewHolder, position: Int) {\r\n        if (holder.itemViewType == 0) {\r\n            holder as MyViewHolder2\r\n            val adRequest = AdRequest.Builder().build()\r\n            holder.adView.loadAd(adRequest)\r\n            holder.adView.adListener = object : AdListener() {\r\n                override fun onAdFailedToLoad(errorCode: Int) {\r\n                    Log.d(&quot;errorCode&quot;, errorCode.toString())\r\n                }\r\n            }\r\n        } else {\r\n            holder as MyViewHolder\r\n          \r\n            val magazineList: Model.ProductList = userList[position]\r\n            Glide.with(context).load(magazineList.featured_image)\r\n                .thumbnail(0.5f)\r\n                .into(holder.image)\r\n\r\n            holder.title.text = magazineList.post_title\r\n            holder.views.text = magazineList.count\r\n            holder.date.text = magazineList.offer_valid\r\n          \r\n            }\r\n        }\r\n    }\r\n\r\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): RecyclerView.ViewHolder {\r\n        if (viewType == 0) {\r\n            return MyViewHolder2(LayoutInflater.from(parent.context).inflate(R.layout.ad_list_row, parent, false))\r\n        } else {\r\n            return MyViewHolder(LayoutInflater.from(parent.context).inflate(R.layout.product_list_row, parent, false))\r\n\r\n        }\r\n    }\r\n\r\n    override fun getItemCount(): Int {\r\n        return userList.size\r\n    }\r\n\r\n    override fun getItemViewType(position: Int): Int {\r\n        return if (position&gt;0 &amp;&amp; position % 3== 0) {\r\n            0\r\n        } else {\r\n            1\r\n        }\r\n      }\r\n\r\n    class MyViewHolder(itemView: View) : androidx.recyclerview.widget.RecyclerView.ViewHolder(itemView) {\r\n        var image: ImageView = itemView.findViewById(R.id.productImage)\r\n        var title: TextView = itemView.findViewById(R.id.title)\r\n        var views: TextView = itemView.findViewById(R.id.views)\r\n        var date: TextView = itemView.findViewById(R.id.date)\r\n        var next: androidx.cardview.widget.CardView = itemView.findViewById(R.id.next)\r\n    }\r\n\r\n    class MyViewHolder2(itemView: View) : androidx.recyclerview.widget.RecyclerView.ViewHolder(itemView) {\r\n        var adView: AdView = itemView.findViewById(R.id.adView)\r\n    }\r\n    }\r\n\r\n\r\nI&#39;m trying to add an Admob banner in a recyclerview.\r\n\r\nMy xml files \r\n\r\n\r\nad_list_row.xml\r\n\r\n      &lt;RelativeLayout xmlns:ads=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n                xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;&gt;\r\n    &lt;com.google.android.gms.ads.AdView\r\n\r\n            android:id=&quot;@+id/adView&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_centerHorizontal=&quot;true&quot;\r\n            android:layout_marginTop=&quot;10dp&quot;\r\n            android:background=&quot;@color/colorAccent&quot;\r\n            ads:adSize=&quot;BANNER&quot;\r\n            ads:adUnitId=&quot;@string/banner_ad_unit_id_TEST&quot;/&gt;\r\n           &lt;/RelativeLayout&gt;\r\n\r\nproduct_list_row.xml\r\n\r\n     &lt;androidx.cardview.widget.CardView\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:card_view=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:id=&quot;@+id/next&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;205dp&quot;\r\n        android:layout_gravity=&quot;center&quot;\r\n        android:layout_marginStart=&quot;3dp&quot;\r\n        android:layout_marginTop=&quot;6dp&quot;\r\n        android:layout_marginEnd=&quot;4dp&quot;\r\n        android:layout_marginBottom=&quot;7dp&quot;\r\n        card_view:cardCornerRadius=&quot;4dp&quot;&gt;\r\n    &lt;RelativeLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n    &gt;\r\n        &lt;ImageView android:layout_width=&quot;match_parent&quot;\r\n                   android:layout_height=&quot;150dp&quot;\r\n                   android:scaleType=&quot;matrix&quot;\r\n                   android:padding=&quot;4dp&quot;\r\n                   android:contentDescription=&quot;@string/app_name&quot;\r\n                   android:id=&quot;@+id/productImage&quot;\r\n        /&gt;\r\n\r\n        &lt;TextView android:layout_width=&quot;wrap_content&quot;\r\n                  android:layout_height=&quot;wrap_content&quot;\r\n                  android:text=&quot;@string/title&quot;\r\n                  android:textSize=&quot;14sp&quot;\r\n                  android:id=&quot;@+id/title&quot;\r\n                  android:textStyle=&quot;bold&quot;\r\n                  android:textColor=&quot;@color/colorText2&quot;\r\n                  android:padding=&quot;5dp&quot;\r\n                  android:layout_marginStart=&quot;5dp&quot;\r\n                  android:layout_below=&quot;@+id/productImage&quot;\r\n                  android:lines=&quot;1&quot;\r\n                  android:ellipsize=&quot;end&quot;\r\n        /&gt;\r\n        &lt;LinearLayout android:layout_width=&quot;match_parent&quot;\r\n                      android:layout_height=&quot;wrap_content&quot;\r\n                      android:layout_below=&quot;@+id/title&quot;\r\n                      android:weightSum=&quot;1&quot;\r\n        &gt;\r\n            &lt;TextView android:layout_width=&quot;match_parent&quot;\r\n                      android:layout_height=&quot;wrap_content&quot;\r\n                      android:textSize=&quot;10sp&quot;\r\n                      android:textStyle=&quot;italic&quot;\r\n                      android:id=&quot;@+id/date&quot;\r\n                      android:layout_marginStart=&quot;10dp&quot;\r\n                      android:layout_weight=&quot;0.3&quot;\r\n                      android:textColor=&quot;@color/colorPrimary&quot;\r\n                      tools:ignore=&quot;SmallSp&quot;/&gt;\r\n            &lt;LinearLayout\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_weight=&quot;0.7&quot;\r\n                    android:layout_gravity=&quot;center_horizontal&quot;\r\n                    android:gravity=&quot;center_horizontal&quot;\r\n                    android:orientation=&quot;horizontal&quot;&gt;\r\n\r\n                &lt;ImageView\r\n                        android:layout_width=&quot;15dp&quot;\r\n                        android:layout_height=&quot;15dp&quot;\r\n                        android:layout_gravity=&quot;center_vertical&quot;\r\n                        android:gravity=&quot;center_vertical&quot;\r\n                        android:src=&quot;@drawable/ic_dark_eye&quot;\r\n                        android:scaleType=&quot;fitXY&quot;\r\n                        android:background=&quot;@color/colorAccent&quot;\r\n                        android:layout_marginStart=&quot;3dp&quot;\r\n                        android:contentDescription=&quot;@string/app_name&quot;/&gt;\r\n\r\n                &lt;TextView\r\n                        android:id=&quot;@+id/views&quot;\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:layout_gravity=&quot;center_vertical&quot;\r\n                        android:gravity=&quot;center_vertical&quot;\r\n                        android:lines=&quot;1&quot;\r\n                        android:layout_marginStart=&quot;5dp&quot;\r\n                        android:textSize=&quot;10sp&quot;\r\n                        tools:ignore=&quot;SmallSp&quot;/&gt;\r\n            &lt;/LinearLayout&gt;\r\n        &lt;/LinearLayout&gt;\r\n\r\n    &lt;/RelativeLayout&gt;\r\n     &lt;/androidx.cardview.widget.CardView&gt;","title":"How to add Admob Ad between Recyclerview GridLayout","body":"<p>I'm trying to implement Admob ad in a RecyclerView. I tried a lot of examples but failed. I want to insert one ad between 3 items of my RecyclerView, I am using GridLayout with Admob banner . I want my app view like below. Any help would be appreciated. </p>\n\n<p><a href=\"https://i.stack.imgur.com/msO1h.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/msO1h.png\" alt=\"i want Ad like below image\"></a></p>\n\n<p>My RecyclerView adapter</p>\n\n<pre><code>  class ProductAdapter(private val userList: ArrayList&lt;Model.ProductList&gt;, private val context: Context, private val which: String) : androidx.recyclerview.widget.RecyclerView.Adapter&lt;RecyclerView.ViewHolder&gt;() {\n\noverride fun onBindViewHolder(holder: RecyclerView.ViewHolder, position: Int) {\n    if (holder.itemViewType == 0) {\n        holder as MyViewHolder2\n        val adRequest = AdRequest.Builder().build()\n        holder.adView.loadAd(adRequest)\n        holder.adView.adListener = object : AdListener() {\n            override fun onAdFailedToLoad(errorCode: Int) {\n                Log.d(\"errorCode\", errorCode.toString())\n            }\n        }\n    } else {\n        holder as MyViewHolder\n\n        val magazineList: Model.ProductList = userList[position]\n        Glide.with(context).load(magazineList.featured_image)\n            .thumbnail(0.5f)\n            .into(holder.image)\n\n        holder.title.text = magazineList.post_title\n        holder.views.text = magazineList.count\n        holder.date.text = magazineList.offer_valid\n\n        }\n    }\n}\n\noverride fun onCreateViewHolder(parent: ViewGroup, viewType: Int): RecyclerView.ViewHolder {\n    if (viewType == 0) {\n        return MyViewHolder2(LayoutInflater.from(parent.context).inflate(R.layout.ad_list_row, parent, false))\n    } else {\n        return MyViewHolder(LayoutInflater.from(parent.context).inflate(R.layout.product_list_row, parent, false))\n\n    }\n}\n\noverride fun getItemCount(): Int {\n    return userList.size\n}\n\noverride fun getItemViewType(position: Int): Int {\n    return if (position&gt;0 &amp;&amp; position % 3== 0) {\n        0\n    } else {\n        1\n    }\n  }\n\nclass MyViewHolder(itemView: View) : androidx.recyclerview.widget.RecyclerView.ViewHolder(itemView) {\n    var image: ImageView = itemView.findViewById(R.id.productImage)\n    var title: TextView = itemView.findViewById(R.id.title)\n    var views: TextView = itemView.findViewById(R.id.views)\n    var date: TextView = itemView.findViewById(R.id.date)\n    var next: androidx.cardview.widget.CardView = itemView.findViewById(R.id.next)\n}\n\nclass MyViewHolder2(itemView: View) : androidx.recyclerview.widget.RecyclerView.ViewHolder(itemView) {\n    var adView: AdView = itemView.findViewById(R.id.adView)\n}\n}\n</code></pre>\n\n<p>I'm trying to add an Admob banner in a recyclerview.</p>\n\n<p>My xml files </p>\n\n<p>ad_list_row.xml</p>\n\n<pre><code>  &lt;RelativeLayout xmlns:ads=\"http://schemas.android.com/apk/res-auto\"\n            xmlns:android=\"http://schemas.android.com/apk/res/android\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"&gt;\n&lt;com.google.android.gms.ads.AdView\n\n        android:id=\"@+id/adView\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_centerHorizontal=\"true\"\n        android:layout_marginTop=\"10dp\"\n        android:background=\"@color/colorAccent\"\n        ads:adSize=\"BANNER\"\n        ads:adUnitId=\"@string/banner_ad_unit_id_TEST\"/&gt;\n       &lt;/RelativeLayout&gt;\n</code></pre>\n\n<p>product_list_row.xml</p>\n\n<pre><code> &lt;androidx.cardview.widget.CardView\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:card_view=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:id=\"@+id/next\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"205dp\"\n    android:layout_gravity=\"center\"\n    android:layout_marginStart=\"3dp\"\n    android:layout_marginTop=\"6dp\"\n    android:layout_marginEnd=\"4dp\"\n    android:layout_marginBottom=\"7dp\"\n    card_view:cardCornerRadius=\"4dp\"&gt;\n&lt;RelativeLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n&gt;\n    &lt;ImageView android:layout_width=\"match_parent\"\n               android:layout_height=\"150dp\"\n               android:scaleType=\"matrix\"\n               android:padding=\"4dp\"\n               android:contentDescription=\"@string/app_name\"\n               android:id=\"@+id/productImage\"\n    /&gt;\n\n    &lt;TextView android:layout_width=\"wrap_content\"\n              android:layout_height=\"wrap_content\"\n              android:text=\"@string/title\"\n              android:textSize=\"14sp\"\n              android:id=\"@+id/title\"\n              android:textStyle=\"bold\"\n              android:textColor=\"@color/colorText2\"\n              android:padding=\"5dp\"\n              android:layout_marginStart=\"5dp\"\n              android:layout_below=\"@+id/productImage\"\n              android:lines=\"1\"\n              android:ellipsize=\"end\"\n    /&gt;\n    &lt;LinearLayout android:layout_width=\"match_parent\"\n                  android:layout_height=\"wrap_content\"\n                  android:layout_below=\"@+id/title\"\n                  android:weightSum=\"1\"\n    &gt;\n        &lt;TextView android:layout_width=\"match_parent\"\n                  android:layout_height=\"wrap_content\"\n                  android:textSize=\"10sp\"\n                  android:textStyle=\"italic\"\n                  android:id=\"@+id/date\"\n                  android:layout_marginStart=\"10dp\"\n                  android:layout_weight=\"0.3\"\n                  android:textColor=\"@color/colorPrimary\"\n                  tools:ignore=\"SmallSp\"/&gt;\n        &lt;LinearLayout\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:layout_weight=\"0.7\"\n                android:layout_gravity=\"center_horizontal\"\n                android:gravity=\"center_horizontal\"\n                android:orientation=\"horizontal\"&gt;\n\n            &lt;ImageView\n                    android:layout_width=\"15dp\"\n                    android:layout_height=\"15dp\"\n                    android:layout_gravity=\"center_vertical\"\n                    android:gravity=\"center_vertical\"\n                    android:src=\"@drawable/ic_dark_eye\"\n                    android:scaleType=\"fitXY\"\n                    android:background=\"@color/colorAccent\"\n                    android:layout_marginStart=\"3dp\"\n                    android:contentDescription=\"@string/app_name\"/&gt;\n\n            &lt;TextView\n                    android:id=\"@+id/views\"\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"wrap_content\"\n                    android:layout_gravity=\"center_vertical\"\n                    android:gravity=\"center_vertical\"\n                    android:lines=\"1\"\n                    android:layout_marginStart=\"5dp\"\n                    android:textSize=\"10sp\"\n                    tools:ignore=\"SmallSp\"/&gt;\n        &lt;/LinearLayout&gt;\n    &lt;/LinearLayout&gt;\n\n&lt;/RelativeLayout&gt;\n &lt;/androidx.cardview.widget.CardView&gt;\n</code></pre>\n"},{"tags":["java","docker","selenium-webdriver","webdriver-manager","webdrivermanager-java"],"comments":[{"owner":{"account_id":10489136,"reputation":2762,"user_id":7731623,"display_name":"Nandan A"},"score":0,"creation_date":1691043415,"post_id":76825268,"comment_id":135437877,"body_markdown":"Missing .setup()? WebDriverManager.chromedriver()\n                .capabilities(options)\n                .browserInDocker()\n                .enableVnc()\n                .enableRecording()\n                .setup();","body":"Missing .setup()? WebDriverManager.chromedriver()                 .capabilities(options)                 .browserInDocker()                 .enableVnc()                 .enableRecording()                 .setup();"},{"owner":{"account_id":4420200,"reputation":4708,"user_id":3877746,"accept_rate":100,"display_name":"Boni Garc&#237;a"},"score":0,"creation_date":1692708094,"post_id":76825268,"comment_id":135658446,"body_markdown":"I think this is still an open issue. See https://github.com/bonigarcia/webdrivermanager/issues/947","body":"I think this is still an open issue. See <a href=\"https://github.com/bonigarcia/webdrivermanager/issues/947\" rel=\"nofollow noreferrer\">github.com/bonigarcia/webdrivermanager/issues/947</a>"}],"owner":{"account_id":904283,"reputation":432,"user_id":970082,"accept_rate":86,"display_name":"Sasha Kolsky"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":194,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691042543,"creation_date":1691042543,"question_id":76825268,"body_markdown":"I&#39;ve been trying to run this for a couple of hours, but nothing seemed to do the trick.\r\n\r\nI have Docker Desktop and the container seem to start up on script execution, but nothing happens for 30 seconds, then it timesout with the message: `Caused by: io.github.bonigarcia.wdm.config.WebDriverManagerException: Timeout of 30 seconds creating WebDriver object`\r\n\r\nWhat am I missing?\r\nPlease advise.\r\n\r\n**Script:**\r\n\r\n```java\r\npackage com.dictality.allure;\r\n\r\nimport org.junit.jupiter.api.*;\r\nimport org.openqa.selenium.WebDriver;\r\n\r\nimport io.github.bonigarcia.wdm.WebDriverManager;\r\nimport org.openqa.selenium.chrome.ChromeOptions;\r\n\r\nclass DockerChromeTest {\r\n\r\n    WebDriver driver;\r\n\r\n    static ChromeOptions options = new ChromeOptions();\r\n    static WebDriverManager wdm;\r\n\r\n    @BeforeAll\r\n    static void init() {\r\n\r\n        // these were advised by some stack-overflow thread, but do nothing to resolve the issue\r\n        options.addArguments(&quot;--no-sandbox&quot;);\r\n        options.addArguments(&quot;--remote-debugging-port=9222&quot;);\r\n        options.addArguments(&quot;--headless&quot;);\r\n        options.addArguments(&quot;--disable-gpu&quot;);\r\n\r\n        wdm = WebDriverManager\r\n                .chromedriver()\r\n                .capabilities(options)\r\n                .browserInDocker()\r\n                .enableVnc()\r\n                .enableRecording();\r\n    }\r\n\r\n    @BeforeEach\r\n    void setupTest() {\r\n        driver = wdm.create();\r\n    }\r\n\r\n    @AfterEach\r\n    void teardown() {\r\n        wdm.quit();\r\n    }\r\n\r\n    @Test\r\n    void test() {\r\n        driver.get(&quot;https://bonigarcia.dev/selenium-webdriver-java/&quot;);\r\n        Assertions.assertTrue(driver.getTitle().contains(&quot;Selenium WebDriver&quot;));\r\n    }\r\n\r\n}\r\n```\r\n\r\n**Stacktrace:**\r\n\r\n```\r\nAug 02, 2023 10:45:11 PM org.openqa.selenium.remote.tracing.opentelemetry.OpenTelemetryTracer createTracer\r\nINFO: Using OpenTelemetry for tracing\r\n\r\nThere was an error creating WebDriver object for Chrome\r\nio.github.bonigarcia.wdm.config.WebDriverManagerException: There was an error creating WebDriver object for Chrome\r\n\tat app//io.github.bonigarcia.wdm.WebDriverManager.instantiateDriver(WebDriverManager.java:1756)\r\n\tat app//io.github.bonigarcia.wdm.WebDriverManager.create(WebDriverManager.java:426)\r\n\tat app//com.dictality.allure.DockerChromeTest.setupTest(DockerChromeTest.java:33)\r\n\tat java.base@17.0.7/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base@17.0.7/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base@17.0.7/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base@17.0.7/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat app//org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\r\n\tat app//org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\tat app//org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n\tat app//io.qameta.allure.junit5.AllureJunit5.processFixture(AllureJunit5.java:138)\r\n\tat app//io.qameta.allure.junit5.AllureJunit5.interceptBeforeEachMethod(AllureJunit5.java:116)\r\n\tat app//org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\r\n\tat app//org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\r\n\tat app//org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\tat app//org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\r\n\tat app//org.junit.jupiter.engine.extension.TimeoutExtension.interceptLifecycleMethod(TimeoutExtension.java:128)\r\n\tat app//org.junit.jupiter.engine.extension.TimeoutExtension.interceptBeforeEachMethod(TimeoutExtension.java:78)\r\n\tat app//org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\r\n\tat app//org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\r\n\tat app//org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\tat app//org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\tat app//org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\tat app//org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\tat app//org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\r\n\tat app//org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\r\n\tat app//org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeMethodInExtensionContext(ClassBasedTestDescriptor.java:520)\r\n\tat app//org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$synthesizeBeforeEachMethodAdapter$23(ClassBasedTestDescriptor.java:505)\r\n\tat app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachMethods$3(TestMethodTestDescriptor.java:174)\r\n\tat app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:202)\r\n\tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:202)\r\n\tat app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachMethods(TestMethodTestDescriptor.java:171)\r\n\tat app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:134)\r\n\tat app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n\tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base@17.0.7/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base@17.0.7/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\tat app//org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat app//org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\tat app//org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\r\n\tat app//org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\r\n\tat app//org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\r\n\tat app//org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\r\n\tat app//org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\r\n\tat app//org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\r\n\tat app//org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n\tat app//org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n\tat app//org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:110)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:90)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:85)\r\n\tat org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)\r\n\tat java.base@17.0.7/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base@17.0.7/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base@17.0.7/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base@17.0.7/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n\tat org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\r\n\tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\r\n\tat jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\r\n\tat org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\r\n\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)\r\n\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)\r\n\tat app//worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\r\n\tat app//worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\r\nCaused by: io.github.bonigarcia.wdm.config.WebDriverManagerException: Timeout of 30 seconds creating WebDriver object\r\n\tat app//io.github.bonigarcia.wdm.webdriver.WebDriverCreator.createRemoteWebDriver(WebDriverCreator.java:99)\r\n\tat app//io.github.bonigarcia.wdm.WebDriverManager.createDockerWebDriver(WebDriverManager.java:1883)\r\n\tat app//io.github.bonigarcia.wdm.WebDriverManager.instantiateDriver(WebDriverManager.java:1736)\r\n\t... 96 more\r\nCaused by: org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Response code 500. Message: unknown error: Chrome failed to start: crashed.\r\n  (chrome not reachable)\r\n  (The process started from chrome location /usr/bin/google-chrome is no longer running, so ChromeDriver is assuming that Chrome has crashed.) \r\nHost info: host: &#39;alexmbp22.monkeybrains.net&#39;, ip: &#39;fde3:8b16:f14:409b:1435:b8be:e47d:157c%en0&#39;\r\nBuild info: version: &#39;4.9.0&#39;, revision: &#39;d7057100a6&#39;\r\nSystem info: os.name: &#39;Mac OS X&#39;, os.arch: &#39;aarch64&#39;, os.version: &#39;13.4&#39;, java.version: &#39;17.0.7&#39;\r\nDriver info: org.openqa.selenium.remote.RemoteWebDriver\r\nCommand: [null, newSession {capabilities=[Capabilities {browserName: chrome, goog:chromeOptions: {args: [--remote-allow-origins=*, --disable-gpu, --no-sandbox, --remote-debugging-port=9222, --headless], extensions: []}}]}]\r\nCapabilities {browserName: chrome, goog:chromeOptions: {args: [--remote-allow-origins=*, --disable-gpu, --no-sandbox, --remote-debugging-port=9222, --headless], extensions: []}}\r\n\tat app//org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:136)\r\n\tat app//org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:94)\r\n\tat app//org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:68)\r\n\tat app//org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:165)\r\n\tat app//org.openqa.selenium.remote.TracedCommandExecutor.execute(TracedCommandExecutor.java:51)\r\n\tat app//org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:543)\r\n\tat app//org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:229)\r\n\tat app//org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:157)\r\n\tat app//org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:139)\r\n\tat app//io.github.bonigarcia.wdm.webdriver.WebDriverCreator.createRemoteWebDriver(WebDriverCreator.java:90)\r\n\t... 98 more\r\n```\r\n\r\n**Screenshot of the docker log container that does starts up and exits (after 30 seconds)**\r\n\r\n[![Screenshot of the docker log container that does starts up and exits][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pJi58.jpg","title":"Unable to run example of WebDriverManager 5 browsers in Docker containers feature","body":"<p>I've been trying to run this for a couple of hours, but nothing seemed to do the trick.</p>\n<p>I have Docker Desktop and the container seem to start up on script execution, but nothing happens for 30 seconds, then it timesout with the message: <code>Caused by: io.github.bonigarcia.wdm.config.WebDriverManagerException: Timeout of 30 seconds creating WebDriver object</code></p>\n<p>What am I missing?\nPlease advise.</p>\n<p><strong>Script:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.dictality.allure;\n\nimport org.junit.jupiter.api.*;\nimport org.openqa.selenium.WebDriver;\n\nimport io.github.bonigarcia.wdm.WebDriverManager;\nimport org.openqa.selenium.chrome.ChromeOptions;\n\nclass DockerChromeTest {\n\n    WebDriver driver;\n\n    static ChromeOptions options = new ChromeOptions();\n    static WebDriverManager wdm;\n\n    @BeforeAll\n    static void init() {\n\n        // these were advised by some stack-overflow thread, but do nothing to resolve the issue\n        options.addArguments(&quot;--no-sandbox&quot;);\n        options.addArguments(&quot;--remote-debugging-port=9222&quot;);\n        options.addArguments(&quot;--headless&quot;);\n        options.addArguments(&quot;--disable-gpu&quot;);\n\n        wdm = WebDriverManager\n                .chromedriver()\n                .capabilities(options)\n                .browserInDocker()\n                .enableVnc()\n                .enableRecording();\n    }\n\n    @BeforeEach\n    void setupTest() {\n        driver = wdm.create();\n    }\n\n    @AfterEach\n    void teardown() {\n        wdm.quit();\n    }\n\n    @Test\n    void test() {\n        driver.get(&quot;https://bonigarcia.dev/selenium-webdriver-java/&quot;);\n        Assertions.assertTrue(driver.getTitle().contains(&quot;Selenium WebDriver&quot;));\n    }\n\n}\n</code></pre>\n<p><strong>Stacktrace:</strong></p>\n<pre><code>Aug 02, 2023 10:45:11 PM org.openqa.selenium.remote.tracing.opentelemetry.OpenTelemetryTracer createTracer\nINFO: Using OpenTelemetry for tracing\n\nThere was an error creating WebDriver object for Chrome\nio.github.bonigarcia.wdm.config.WebDriverManagerException: There was an error creating WebDriver object for Chrome\n    at app//io.github.bonigarcia.wdm.WebDriverManager.instantiateDriver(WebDriverManager.java:1756)\n    at app//io.github.bonigarcia.wdm.WebDriverManager.create(WebDriverManager.java:426)\n    at app//com.dictality.allure.DockerChromeTest.setupTest(DockerChromeTest.java:33)\n    at java.base@17.0.7/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base@17.0.7/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base@17.0.7/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base@17.0.7/java.lang.reflect.Method.invoke(Method.java:568)\n    at app//org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\n    at app//org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n    at app//org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n    at app//io.qameta.allure.junit5.AllureJunit5.processFixture(AllureJunit5.java:138)\n    at app//io.qameta.allure.junit5.AllureJunit5.interceptBeforeEachMethod(AllureJunit5.java:116)\n    at app//org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\n    at app//org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\n    at app//org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at app//org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\n    at app//org.junit.jupiter.engine.extension.TimeoutExtension.interceptLifecycleMethod(TimeoutExtension.java:128)\n    at app//org.junit.jupiter.engine.extension.TimeoutExtension.interceptBeforeEachMethod(TimeoutExtension.java:78)\n    at app//org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\n    at app//org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\n    at app//org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at app//org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at app//org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at app//org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at app//org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\n    at app//org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\n    at app//org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeMethodInExtensionContext(ClassBasedTestDescriptor.java:520)\n    at app//org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$synthesizeBeforeEachMethodAdapter$23(ClassBasedTestDescriptor.java:505)\n    at app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachMethods$3(TestMethodTestDescriptor.java:174)\n    at app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:202)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:202)\n    at app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachMethods(TestMethodTestDescriptor.java:171)\n    at app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:134)\n    at app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base@17.0.7/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base@17.0.7/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at app//org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at app//org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at app//org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\n    at app//org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\n    at app//org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\n    at app//org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\n    at app//org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\n    at app//org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\n    at app//org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n    at app//org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\n    at app//org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:110)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:90)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:85)\n    at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)\n    at java.base@17.0.7/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base@17.0.7/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base@17.0.7/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base@17.0.7/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\n    at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\n    at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\n    at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\n    at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)\n    at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)\n    at app//worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\n    at app//worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\nCaused by: io.github.bonigarcia.wdm.config.WebDriverManagerException: Timeout of 30 seconds creating WebDriver object\n    at app//io.github.bonigarcia.wdm.webdriver.WebDriverCreator.createRemoteWebDriver(WebDriverCreator.java:99)\n    at app//io.github.bonigarcia.wdm.WebDriverManager.createDockerWebDriver(WebDriverManager.java:1883)\n    at app//io.github.bonigarcia.wdm.WebDriverManager.instantiateDriver(WebDriverManager.java:1736)\n    ... 96 more\nCaused by: org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Response code 500. Message: unknown error: Chrome failed to start: crashed.\n  (chrome not reachable)\n  (The process started from chrome location /usr/bin/google-chrome is no longer running, so ChromeDriver is assuming that Chrome has crashed.) \nHost info: host: 'alexmbp22.monkeybrains.net', ip: 'fde3:8b16:f14:409b:1435:b8be:e47d:157c%en0'\nBuild info: version: '4.9.0', revision: 'd7057100a6'\nSystem info: os.name: 'Mac OS X', os.arch: 'aarch64', os.version: '13.4', java.version: '17.0.7'\nDriver info: org.openqa.selenium.remote.RemoteWebDriver\nCommand: [null, newSession {capabilities=[Capabilities {browserName: chrome, goog:chromeOptions: {args: [--remote-allow-origins=*, --disable-gpu, --no-sandbox, --remote-debugging-port=9222, --headless], extensions: []}}]}]\nCapabilities {browserName: chrome, goog:chromeOptions: {args: [--remote-allow-origins=*, --disable-gpu, --no-sandbox, --remote-debugging-port=9222, --headless], extensions: []}}\n    at app//org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:136)\n    at app//org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:94)\n    at app//org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:68)\n    at app//org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:165)\n    at app//org.openqa.selenium.remote.TracedCommandExecutor.execute(TracedCommandExecutor.java:51)\n    at app//org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:543)\n    at app//org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:229)\n    at app//org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:157)\n    at app//org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:139)\n    at app//io.github.bonigarcia.wdm.webdriver.WebDriverCreator.createRemoteWebDriver(WebDriverCreator.java:90)\n    ... 98 more\n</code></pre>\n<p><strong>Screenshot of the docker log container that does starts up and exits (after 30 seconds)</strong></p>\n<p><a href=\"https://i.stack.imgur.com/pJi58.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pJi58.jpg\" alt=\"Screenshot of the docker log container that does starts up and exits\" /></a></p>\n"},{"tags":["java","android","firebase-realtime-database","android-glide"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1690957396,"post_id":76812468,"comment_id":135423290,"body_markdown":"Instead of adding an incomplete picture, please edit your question and add your database structure as a JSON file. You can simply get it by clicking the Export JSON in the overflow menu (⠇) in your [Firebase Console](https://console.firebase.google.com/u/0/project/_/database/data).","body":"Instead of adding an incomplete picture, please edit your question and add your database structure as a JSON file. You can simply get it by clicking the Export JSON in the overflow menu (⠇) in your <a href=\"https://console.firebase.google.com/u/0/project/_/database/data\" rel=\"nofollow noreferrer\">Firebase Console</a>."},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1690957437,"post_id":76812468,"comment_id":135423294,"body_markdown":"Besides that, please also show the part of the code where you&#39;re getting data from Firebase. Only the adapter is not enough.","body":"Besides that, please also show the part of the code where you&#39;re getting data from Firebase. Only the adapter is not enough."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1691039022,"post_id":76812468,"comment_id":135437300,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":22975759,"reputation":1,"user_id":20832458,"display_name":"Youth Hacker"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691041889,"creation_date":1690898664,"question_id":76812468,"body_markdown":"```\r\npackage com.example.bloomroom;\r\n\r\nimport android.content.Context;\r\nimport android.util.Log;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.ImageView;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.bumptech.glide.Glide;\r\nimport com.bumptech.glide.load.engine.DiskCacheStrategy;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class MyAdapter extends RecyclerView.Adapter&lt;MyAdapter.MyViewHolder&gt;{\r\n\r\n    Context context;\r\n    ArrayList&lt;Flowers&gt; list;\r\n\r\n    public MyAdapter(Context context, ArrayList&lt;Flowers&gt; list) {\r\n        this.context = context;\r\n        this.list = list;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public MyAdapter.MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View view = LayoutInflater.from(context).inflate(R.layout.recylce_item,parent, false);\r\n        return new MyViewHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull MyAdapter.MyViewHolder holder, int position) {\r\n        Flowers flowers = list.get(position);\r\n        holder.name.setText(flowers.getName());\r\n        holder.category.setText(flowers.getCategory());\r\n        holder.price.setText(flowers.getPrice());\r\n        Log.d(&quot;TestUrl&quot;, &quot;onBindViewHolder &quot; + flowers.getFurl());\r\n        Glide.get(context).clearMemory();\r\n        new Thread(() -&gt; Glide.get(context).clearDiskCache()).start();\r\n        Glide.with(holder.imgView.getContext())\r\n                .load(flowers.getFurl())\r\n                .into(holder.imgView);\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return list.size();\r\n    }\r\n\r\n    public static class MyViewHolder extends RecyclerView.ViewHolder{\r\n\r\n        TextView name, category, price;\r\n        ImageView imgView;\r\n\r\n        public MyViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n\r\n            name=itemView.findViewById(R.id.txtName);\r\n            category=itemView.findViewById(R.id.txtCat);\r\n            price=itemView.findViewById(R.id.txtPrice);\r\n            imgView =itemView.findViewById(R.id.imgView);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI tried to fetch some data from a Realtime Firebase Database. All string values fetched, but the image is not coming on android app.  \r\nI tried some log methods that show the url, but the file is not loading inside the application.\r\n\r\nI have already enabled the Internet access on manifest.  \r\n  \r\n[Log screeshot](https://i.stack.imgur.com/g99Gd.png)","title":"Image not fetching from Firebase Realtime Database","body":"<pre><code>package com.example.bloomroom;\n\nimport android.content.Context;\nimport android.util.Log;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.ImageView;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport com.bumptech.glide.Glide;\nimport com.bumptech.glide.load.engine.DiskCacheStrategy;\n\nimport java.util.ArrayList;\n\npublic class MyAdapter extends RecyclerView.Adapter&lt;MyAdapter.MyViewHolder&gt;{\n\n    Context context;\n    ArrayList&lt;Flowers&gt; list;\n\n    public MyAdapter(Context context, ArrayList&lt;Flowers&gt; list) {\n        this.context = context;\n        this.list = list;\n    }\n\n    @NonNull\n    @Override\n    public MyAdapter.MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View view = LayoutInflater.from(context).inflate(R.layout.recylce_item,parent, false);\n        return new MyViewHolder(view);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull MyAdapter.MyViewHolder holder, int position) {\n        Flowers flowers = list.get(position);\n        holder.name.setText(flowers.getName());\n        holder.category.setText(flowers.getCategory());\n        holder.price.setText(flowers.getPrice());\n        Log.d(&quot;TestUrl&quot;, &quot;onBindViewHolder &quot; + flowers.getFurl());\n        Glide.get(context).clearMemory();\n        new Thread(() -&gt; Glide.get(context).clearDiskCache()).start();\n        Glide.with(holder.imgView.getContext())\n                .load(flowers.getFurl())\n                .into(holder.imgView);\n    }\n\n    @Override\n    public int getItemCount() {\n        return list.size();\n    }\n\n    public static class MyViewHolder extends RecyclerView.ViewHolder{\n\n        TextView name, category, price;\n        ImageView imgView;\n\n        public MyViewHolder(@NonNull View itemView) {\n            super(itemView);\n\n            name=itemView.findViewById(R.id.txtName);\n            category=itemView.findViewById(R.id.txtCat);\n            price=itemView.findViewById(R.id.txtPrice);\n            imgView =itemView.findViewById(R.id.imgView);\n        }\n    }\n}\n</code></pre>\n<p>I tried to fetch some data from a Realtime Firebase Database. All string values fetched, but the image is not coming on android app.<br />\nI tried some log methods that show the url, but the file is not loading inside the application.</p>\n<p>I have already enabled the Internet access on manifest.</p>\n<p><a href=\"https://i.stack.imgur.com/g99Gd.png\" rel=\"nofollow noreferrer\">Log screeshot</a></p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9863,"page":271,"page_size":100}
