{"items":[{"tags":["java","javadoc"],"comments":[{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":2,"creation_date":1375695072,"post_id":18054767,"comment_id":26416598,"body_markdown":"`&lt;strong&gt;foo&lt;/strong&gt;` - note that the first sentence is generally bolded automatically (but you need a `.` after `foo`).","body":"<code>&lt;strong&gt;foo&lt;&#47;strong&gt;</code> - note that the first sentence is generally bolded automatically (but you need a <code>.</code> after <code>foo</code>)."}],"answers":[{"tags":[],"owner":{"account_id":2401660,"reputation":7686,"user_id":2099208,"display_name":"Ankur Lathi"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1375777333,"creation_date":1375695263,"answer_id":18054860,"question_id":18054767,"body_markdown":"Use:\r\n\r\n    /**\r\n     * &lt;strong&gt;Heading&lt;/strong&gt;There is no line break.\r\n     * &lt;br /&gt; &lt;strong&gt;Heading&lt;/strong&gt;There is no line break.\r\n     *\r\n     * @param x foo\r\n     * @return foo\r\n     * @throws foo\r\n     */\r\n    public int foo(int x) { return x; }","title":"How to format a heading in a javadoc comment?","body":"<p>Use:</p>\n\n<pre><code>/**\n * &lt;strong&gt;Heading&lt;/strong&gt;There is no line break.\n * &lt;br /&gt; &lt;strong&gt;Heading&lt;/strong&gt;There is no line break.\n *\n * @param x foo\n * @return foo\n * @throws foo\n */\npublic int foo(int x) { return x; }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":152633,"reputation":48303,"user_id":367285,"accept_rate":81,"display_name":"FrVaBe"},"down_vote_count":1,"up_vote_count":11,"is_accepted":true,"score":10,"last_activity_date":1376032428,"creation_date":1376032123,"answer_id":18141686,"question_id":18054767,"body_markdown":"Just have a look at the generated Java Doc of the JAVA API, e.g. [SimpleDateFormat.parse][1] (have a look at the HTML source code).\r\n\r\nThey use a html description list for formatting and a &lt;code&gt;strong&lt;/code&gt; CSS class to format the term. So do it the same:\r\n\r\n\t/**\r\n\t * Introdcution\r\n\t * \r\n\t * &lt;dl&gt;\r\n\t * &lt;dt&gt;&lt;span class=&quot;strong&quot;&gt;Heading 1&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;There is a line break.&lt;/dd&gt;\r\n\t * &lt;dt&gt;&lt;span class=&quot;strong&quot;&gt;Heading 2&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;There is a line break.&lt;/dd&gt;\r\n\t * &lt;/dl&gt;\r\n\t *\r\n\t * @param x foo\r\n\t * @return foo\r\n\t * @throws foo\r\n\t */\r\n\r\nLooks like this:\r\n\r\n![JavaDoc screenshot][2]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html#parse%28java.lang.String,%20java.text.ParsePosition%29\r\n  [2]: http://i.stack.imgur.com/2oqs4.png","title":"How to format a heading in a javadoc comment?","body":"<p>Just have a look at the generated Java Doc of the JAVA API, e.g. <a href=\"http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html#parse%28java.lang.String,%20java.text.ParsePosition%29\" rel=\"noreferrer\">SimpleDateFormat.parse</a> (have a look at the HTML source code).</p>\n\n<p>They use a html description list for formatting and a <code>strong</code> CSS class to format the term. So do it the same:</p>\n\n<pre><code>/**\n * Introdcution\n * \n * &lt;dl&gt;\n * &lt;dt&gt;&lt;span class=\"strong\"&gt;Heading 1&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;There is a line break.&lt;/dd&gt;\n * &lt;dt&gt;&lt;span class=\"strong\"&gt;Heading 2&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;There is a line break.&lt;/dd&gt;\n * &lt;/dl&gt;\n *\n * @param x foo\n * @return foo\n * @throws foo\n */\n</code></pre>\n\n<p>Looks like this:</p>\n\n<p><img src=\"https://i.stack.imgur.com/2oqs4.png\" alt=\"JavaDoc screenshot\"></p>\n"}],"owner":{"account_id":1841815,"reputation":20206,"user_id":1671066,"accept_rate":82,"display_name":"Micha Wiedenmann"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21671,"favorite_count":0,"down_vote_count":1,"up_vote_count":13,"accepted_answer_id":18141686,"answer_count":2,"score":12,"last_activity_date":1691009429,"creation_date":1375694959,"question_id":18054767,"body_markdown":"How can I format headings in a Javadoc comment such that they match the format of `@param`, `@return`, or `@throws`. I am *not* asking how to define my own keywords, rather how to have a bold face heading similar to them.\r\n\r\nI have tried `&lt;h1&gt;&lt;/h1&gt;` but it looks terrible in the Javadoc-view of Eclipse, in particular the size is much larger. Is there an alternative, or is `&lt;h1&gt;&lt;/h1&gt;` the way to go?\r\n\r\n\r\n    /**\r\n     * foo\r\n     *\r\n     * @param x foo\r\n     * @return foo\r\n     * @throws foo\r\n     */\r\n    public int foo(int x) { return x; }\r\n\r\n![enter image description here][1]\r\n\r\nThe screenshot is taken from Eclipse.\r\n\r\n**Update**\r\n\r\nI do not think that `&lt;strong&gt;` is sufficient, since it does not add line breaks:\r\n\r\n    /**\r\n     * Introduction\r\n     * \r\n     * &lt;strong&gt;Heading&lt;/strong&gt;There is no line break.\r\n     * &lt;strong&gt;Heading&lt;/strong&gt;There is no line break.\r\n     *\r\n     * @param x foo\r\n     * @return foo\r\n     * @throws foo\r\n     */\r\n\r\n![enter image description here][2]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/g88PO.png\r\n  [2]: http://i.stack.imgur.com/zpDd6.png","title":"How to format a heading in a javadoc comment?","body":"<p>How can I format headings in a Javadoc comment such that they match the format of <code>@param</code>, <code>@return</code>, or <code>@throws</code>. I am <em>not</em> asking how to define my own keywords, rather how to have a bold face heading similar to them.</p>\n<p>I have tried <code>&lt;h1&gt;&lt;/h1&gt;</code> but it looks terrible in the Javadoc-view of Eclipse, in particular the size is much larger. Is there an alternative, or is <code>&lt;h1&gt;&lt;/h1&gt;</code> the way to go?</p>\n<pre><code>/**\n * foo\n *\n * @param x foo\n * @return foo\n * @throws foo\n */\npublic int foo(int x) { return x; }\n</code></pre>\n<p><img src=\"https://i.stack.imgur.com/g88PO.png\" alt=\"enter image description here\" /></p>\n<p>The screenshot is taken from Eclipse.</p>\n<p><strong>Update</strong></p>\n<p>I do not think that <code>&lt;strong&gt;</code> is sufficient, since it does not add line breaks:</p>\n<pre><code>/**\n * Introduction\n * \n * &lt;strong&gt;Heading&lt;/strong&gt;There is no line break.\n * &lt;strong&gt;Heading&lt;/strong&gt;There is no line break.\n *\n * @param x foo\n * @return foo\n * @throws foo\n */\n</code></pre>\n<p><img src=\"https://i.stack.imgur.com/zpDd6.png\" alt=\"enter image description here\" /></p>\n"},{"tags":["java","gradle","junit","spock"],"answers":[{"tags":[],"owner":{"account_id":67966,"reputation":12546,"user_id":2145769,"accept_rate":67,"display_name":"Leonard Br&#252;nings"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690562995,"creation_date":1690562995,"answer_id":76789694,"question_id":76787100,"body_markdown":"I&#39;d recommend to use the official [jvm-test-suites](https://docs.gradle.org/current/userguide/jvm_test_suite_plugin.html) plugin. With that you can add additional test tasks without having to muck with all the wiring that was necessary previously.\r\n\r\nThis should get you started.\r\n\r\n```groovy\r\nplugins {\r\n    id &#39;java&#39;\r\n    id &#39;groovy&#39;\r\n    id &#39;jvm-test-suite&#39;\r\n}\r\n\r\n\r\n\r\ntesting {\r\n    suites { \r\n        test { \r\n            useSpock(&#39;2.4-M1-groovy-4.0&#39;) \r\n        }\r\n\r\n        integrationTest(JvmTestSuite) { \r\n            useSpock(&#39;2.4-M1-groovy-4.0&#39;) \r\n\r\n            dependencies {\r\n                // add dependencies for the integration test here and not in the top-level dependencies block\r\n\r\n                implementation project() \r\n            }\r\n\r\n            targets { \r\n                all {\r\n                    testTask.configure {\r\n                        shouldRunAfter(test)\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\ntasks.named(&#39;check&#39;) { \r\n    dependsOn(testing.suites.integrationTest)\r\n}\r\n```\r\n","title":"Test events were not received at the second run but 1st is OK. Check does not run test and later custom integrationTest task","body":"<p>I'd recommend to use the official <a href=\"https://docs.gradle.org/current/userguide/jvm_test_suite_plugin.html\" rel=\"nofollow noreferrer\">jvm-test-suites</a> plugin. With that you can add additional test tasks without having to muck with all the wiring that was necessary previously.</p>\n<p>This should get you started.</p>\n<pre><code>plugins {\n    id 'java'\n    id 'groovy'\n    id 'jvm-test-suite'\n}\n\n\n\ntesting {\n    suites { \n        test { \n            useSpock('2.4-M1-groovy-4.0') \n        }\n\n        integrationTest(JvmTestSuite) { \n            useSpock('2.4-M1-groovy-4.0') \n\n            dependencies {\n                // add dependencies for the integration test here and not in the top-level dependencies block\n\n                implementation project() \n            }\n\n            targets { \n                all {\n                    testTask.configure {\n                        shouldRunAfter(test)\n                    }\n                }\n            }\n        }\n    }\n}\n\ntasks.named('check') { \n    dependsOn(testing.suites.integrationTest)\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22074911,"reputation":39,"user_id":16335386,"display_name":"Tchorzyksen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691009023,"creation_date":1691009023,"answer_id":76823391,"question_id":76787100,"body_markdown":"Groovy does not re-run tests if source files are up to date. This being a root cause of my issue. To re-run test you can simply fiddle with test sources.","title":"Test events were not received at the second run but 1st is OK. Check does not run test and later custom integrationTest task","body":"<p>Groovy does not re-run tests if source files are up to date. This being a root cause of my issue. To re-run test you can simply fiddle with test sources.</p>\n"}],"owner":{"account_id":22074911,"reputation":39,"user_id":16335386,"display_name":"Tchorzyksen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1691009023,"creation_date":1690541161,"question_id":76787100,"body_markdown":"Recently, I&#39;ve decided to upgrade spring-boot to 3.1.2 and gradle 8.2.1, running java 19.\r\nUnfortunately, `unbroken-dome.test-sets 4.0.0`, that I used for managing test modules, ceased to work, thus I decided to get rid of it and create similar in effect gradle script on my own.\r\n\r\nThe issue I&#39;m having is that task `test` is once working and later returns `Test events were not received`, which is driving my crazy. \r\n\r\nOther issue is with task `check`, ideally I&#39;d like it to run `test` and my `integrationTest` task one after another but it seems it only runs `integrationTest`.\r\n\r\n\r\nThis is what I come up with (`test-suites.gradle`)\r\n```\r\nsourceSets {\r\n  integrationTest {\r\n    compileClasspath += sourceSets.main.output\r\n    runtimeClasspath += sourceSets.main.output\r\n  }\r\n}\r\n\r\nconfigurations {\r\n  integrationTestImplementation.extendsFrom testImplementation\r\n  integrationTestImplementation.extendsFrom testRuntime\r\n  integrationTestImplementation.extendsFrom testCompileOnly\r\n  integrationTestImplementation.extendsFrom testAnnotationProcessor\r\n}\r\n\r\ntasks.withType(Test).configureEach {\r\n  useJUnitPlatform()\r\n  systemProperty &#39;spock.logEnabled&#39;, &#39;true&#39;\r\n  systemProperty &#39;spock.logFileDir&#39;, &#39;./build/test-results/test&#39;\r\n  systemProperty &#39;spock.logFileName&#39;, &#39;spock-report&#39;\r\n}\r\n\r\ntasks.register(&#39;integrationTest&#39;, Test) {\r\n  group = &#39;verification&#39;\r\n\r\n  testClassesDirs = sourceSets.integrationTest.output.classesDirs\r\n  classpath = sourceSets.integrationTest.runtimeClasspath\r\n  shouldRunAfter(test)\r\n\r\n//  filter {\r\n//    include &#39;**/**IntegrationTest.class&#39;\r\n//    include &#39;**/**IntegrationSpec.class&#39;\r\n//  }\r\n}\r\n\r\ncheck.dependsOn(integrationTest)\r\n```\r\nand my `build.gradle`\r\n```\r\nplugins {\r\n  id &#39;org.springframework.boot&#39; version &#39;3.1.2&#39;\r\n  id &#39;io.spring.dependency-management&#39; version &#39;1.0.14.RELEASE&#39;\r\n  id &#39;org.flywaydb.flyway&#39; version &#39;9.21.0&#39;\r\n}\r\n\r\nallprojects {\r\n\r\n  repositories {\r\n    mavenLocal()\r\n    mavenCentral()\r\n    maven {\r\n      url = uri(&#39;https://repo.maven.apache.org/maven2/&#39;)\r\n    }\r\n  }\r\n\r\n  apply plugin: &#39;java&#39;\r\n  apply plugin: &#39;groovy&#39;\r\n  apply plugin: &#39;org.springframework.boot&#39;\r\n  apply plugin: &#39;io.spring.dependency-management&#39;\r\n\r\n  dependencies {\r\n    compileOnly &#39;org.projectlombok:lombok:1.18.24&#39;\r\n    annotationProcessor &#39;org.springframework.boot:spring-boot-configuration-processor&#39;\r\n    annotationProcessor &#39;org.projectlombok:lombok:1.18.24&#39;\r\n\r\n    testCompileOnly &#39;org.projectlombok:lombok:1.18.24&#39;\r\n    testAnnotationProcessor &#39;org.projectlombok:lombok:1.18.24&#39;\r\n\r\n    testImplementation &#39;org.apache.groovy:groovy-all:4.0.13&#39;\r\n    testImplementation &#39;org.spockframework:spock-core:2.4-M1-groovy-4.0&#39;\r\n    testImplementation &#39;org.spockframework:spock-spring:2.4-M1-groovy-4.0&#39;\r\n  }\r\n}\r\n\r\napply from: file(&#39;gradle/test-suites.gradle&#39;)\r\napply from: file(&#39;gradle/database.gradle&#39;)\r\n\r\ndependencies {\r\n  implementation project(&#39;:my-service-backend-api&#39;)\r\n  implementation project(&#39;:email-sender-service&#39;)\r\n  implementation &#39;ch.qos.logback:logback-core:1.4.8&#39;\r\n\r\n  implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n  implementation &#39;org.springframework.boot:spring-boot-starter-security&#39;\r\n  implementation &#39;org.springframework.boot:spring-boot-starter-actuator&#39;\r\n\r\n  implementation(group: &#39;io.jsonwebtoken&#39;, name: &#39;jjwt&#39;, version: &#39;0.6.0&#39;)\r\n\r\n  implementation(group: &#39;org.modelmapper&#39;, name: &#39;modelmapper&#39;, version: &#39;3.1.1&#39;)\r\n  implementation &#39;com.fasterxml.jackson.datatype:jackson-datatype-jsr310:2.15.2&#39;\r\n\r\n  implementation &#39;org.springframework.boot:spring-boot-starter-thymeleaf&#39;\r\n\r\n  testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n  testImplementation &#39;org.testcontainers:spock:1.18.3&#39;\r\n  testImplementation &#39;org.testcontainers:postgresql:1.18.3&#39;\r\n\r\n}\r\n\r\nproject(&#39;:email-sender-service&#39;) {\r\n\r\n  bootJar {\r\n    enabled = false\r\n  }\r\n\r\n  dependencies {\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-mail&#39;\r\n    implementation &#39;org.freemarker:freemarker:2.3.31&#39;\r\n\r\n  }\r\n}\r\n\r\nproject(&#39;:my-service-backend-api&#39;) {\r\n  bootJar {\r\n    enabled = false\r\n  }\r\n}\r\n\r\ngroup = &#39;pl.tchorzyksen&#39;\r\nversion = &#39;0.1.1-SNAPSHOT&#39;\r\ndescription = &#39;my-service-backend&#39;\r\njava {\r\n  sourceCompatibility = JavaVersion.VERSION_19\r\n}\r\n```\r\nYou can find the entire project here: \r\nhttps://github.com/Tchorzyksen37/my-service-backend/tree/Create-integrationTest-module\r\nThe code is far from perfect and integrationTest are failing due to flyway not supporting the latest liquibase version. \r\n\r\nI&#39;d be happy to receive any help :D and thank you in advice for your time.","title":"Test events were not received at the second run but 1st is OK. Check does not run test and later custom integrationTest task","body":"<p>Recently, I've decided to upgrade spring-boot to 3.1.2 and gradle 8.2.1, running java 19.\nUnfortunately, <code>unbroken-dome.test-sets 4.0.0</code>, that I used for managing test modules, ceased to work, thus I decided to get rid of it and create similar in effect gradle script on my own.</p>\n<p>The issue I'm having is that task <code>test</code> is once working and later returns <code>Test events were not received</code>, which is driving my crazy.</p>\n<p>Other issue is with task <code>check</code>, ideally I'd like it to run <code>test</code> and my <code>integrationTest</code> task one after another but it seems it only runs <code>integrationTest</code>.</p>\n<p>This is what I come up with (<code>test-suites.gradle</code>)</p>\n<pre><code>sourceSets {\n  integrationTest {\n    compileClasspath += sourceSets.main.output\n    runtimeClasspath += sourceSets.main.output\n  }\n}\n\nconfigurations {\n  integrationTestImplementation.extendsFrom testImplementation\n  integrationTestImplementation.extendsFrom testRuntime\n  integrationTestImplementation.extendsFrom testCompileOnly\n  integrationTestImplementation.extendsFrom testAnnotationProcessor\n}\n\ntasks.withType(Test).configureEach {\n  useJUnitPlatform()\n  systemProperty 'spock.logEnabled', 'true'\n  systemProperty 'spock.logFileDir', './build/test-results/test'\n  systemProperty 'spock.logFileName', 'spock-report'\n}\n\ntasks.register('integrationTest', Test) {\n  group = 'verification'\n\n  testClassesDirs = sourceSets.integrationTest.output.classesDirs\n  classpath = sourceSets.integrationTest.runtimeClasspath\n  shouldRunAfter(test)\n\n//  filter {\n//    include '**/**IntegrationTest.class'\n//    include '**/**IntegrationSpec.class'\n//  }\n}\n\ncheck.dependsOn(integrationTest)\n</code></pre>\n<p>and my <code>build.gradle</code></p>\n<pre><code>plugins {\n  id 'org.springframework.boot' version '3.1.2'\n  id 'io.spring.dependency-management' version '1.0.14.RELEASE'\n  id 'org.flywaydb.flyway' version '9.21.0'\n}\n\nallprojects {\n\n  repositories {\n    mavenLocal()\n    mavenCentral()\n    maven {\n      url = uri('https://repo.maven.apache.org/maven2/')\n    }\n  }\n\n  apply plugin: 'java'\n  apply plugin: 'groovy'\n  apply plugin: 'org.springframework.boot'\n  apply plugin: 'io.spring.dependency-management'\n\n  dependencies {\n    compileOnly 'org.projectlombok:lombok:1.18.24'\n    annotationProcessor 'org.springframework.boot:spring-boot-configuration-processor'\n    annotationProcessor 'org.projectlombok:lombok:1.18.24'\n\n    testCompileOnly 'org.projectlombok:lombok:1.18.24'\n    testAnnotationProcessor 'org.projectlombok:lombok:1.18.24'\n\n    testImplementation 'org.apache.groovy:groovy-all:4.0.13'\n    testImplementation 'org.spockframework:spock-core:2.4-M1-groovy-4.0'\n    testImplementation 'org.spockframework:spock-spring:2.4-M1-groovy-4.0'\n  }\n}\n\napply from: file('gradle/test-suites.gradle')\napply from: file('gradle/database.gradle')\n\ndependencies {\n  implementation project(':my-service-backend-api')\n  implementation project(':email-sender-service')\n  implementation 'ch.qos.logback:logback-core:1.4.8'\n\n  implementation 'org.springframework.boot:spring-boot-starter-web'\n  implementation 'org.springframework.boot:spring-boot-starter-security'\n  implementation 'org.springframework.boot:spring-boot-starter-actuator'\n\n  implementation(group: 'io.jsonwebtoken', name: 'jjwt', version: '0.6.0')\n\n  implementation(group: 'org.modelmapper', name: 'modelmapper', version: '3.1.1')\n  implementation 'com.fasterxml.jackson.datatype:jackson-datatype-jsr310:2.15.2'\n\n  implementation 'org.springframework.boot:spring-boot-starter-thymeleaf'\n\n  testImplementation 'org.springframework.boot:spring-boot-starter-test'\n  testImplementation 'org.testcontainers:spock:1.18.3'\n  testImplementation 'org.testcontainers:postgresql:1.18.3'\n\n}\n\nproject(':email-sender-service') {\n\n  bootJar {\n    enabled = false\n  }\n\n  dependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'org.springframework.boot:spring-boot-starter-mail'\n    implementation 'org.freemarker:freemarker:2.3.31'\n\n  }\n}\n\nproject(':my-service-backend-api') {\n  bootJar {\n    enabled = false\n  }\n}\n\ngroup = 'pl.tchorzyksen'\nversion = '0.1.1-SNAPSHOT'\ndescription = 'my-service-backend'\njava {\n  sourceCompatibility = JavaVersion.VERSION_19\n}\n</code></pre>\n<p>You can find the entire project here:\n<a href=\"https://github.com/Tchorzyksen37/my-service-backend/tree/Create-integrationTest-module\" rel=\"nofollow noreferrer\">https://github.com/Tchorzyksen37/my-service-backend/tree/Create-integrationTest-module</a>\nThe code is far from perfect and integrationTest are failing due to flyway not supporting the latest liquibase version.</p>\n<p>I'd be happy to receive any help :D and thank you in advice for your time.</p>\n"},{"tags":["java","jackson"],"comments":[{"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"score":0,"creation_date":1505820868,"post_id":46295013,"comment_id":79560913,"body_markdown":"Try to use module.addSerializer() instead of addKeySerializer. I think that key serializer works only for keys.","body":"Try to use module.addSerializer() instead of addKeySerializer. I think that key serializer works only for keys."},{"owner":{"account_id":3458598,"reputation":53,"user_id":2896449,"display_name":"Rodion"},"score":0,"creation_date":1505822585,"post_id":46295013,"comment_id":79562035,"body_markdown":"@oleg.cherednik, thanks for pointing this out, that was the reason! I&#39;ve changed to `addSerializer` and now my code works perfectly fine.","body":"@oleg.cherednik, thanks for pointing this out, that was the reason! I&#39;ve changed to <code>addSerializer</code> and now my code works perfectly fine."}],"answers":[{"tags":[],"owner":{"account_id":5984666,"reputation":7885,"user_id":4702544,"accept_rate":50,"display_name":"Sachin Gupta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1691008567,"creation_date":1505816644,"answer_id":46298017,"question_id":46295013,"body_markdown":"One work-around could be to add serializer for `Object`.\r\n\r\nThen in serializer itself, you can check whether Object is instanceOf `PGobject` or not.\r\n\r\nand in myMapType you can specify `Object.class`:\r\n\r\n    JavaType myMapType = mapper.getTypeFactory().\r\n                    constructMapType(HashMap.class, String.class, Object.class);\r\n\r\n\r\nSerializer would be:\r\n\r\n    class PgObjectSerializer extends JsonSerializer&lt;Object&gt; {\r\n    @Override\r\n    public void serialize(Object object, JsonGenerator gen, SerializerProvider serializers) throws IOException {\r\n    \tif (object instanceof PGobject) {\r\n    \t\tPGobject pgObject = (PGobject) object;\r\n    \t\tswitch (pgObject.getType()) {\r\n    \t\tcase &quot;json&quot;:\r\n    \t\tcase &quot;jsonb&quot;:\r\n    \t\t\tgen.writeRawValue(pgObject.getType());\r\n    \t\t\tbreak;\r\n    \t\tdefault:\r\n    \t\t\tgen.writeString(pgObject.getType());\r\n    \t\t}\r\n    \t} else {\r\n    \t\tObjectMapper mapper = new ObjectMapper();\r\n\t\t\tmapper.writeValue(gen, object);\r\n    \t}\r\n    }","title":"How to use Jackson custom value serializer for Map&lt;String, Object&gt;?","body":"<p>One work-around could be to add serializer for <code>Object</code>.</p>\n<p>Then in serializer itself, you can check whether Object is instanceOf <code>PGobject</code> or not.</p>\n<p>and in myMapType you can specify <code>Object.class</code>:</p>\n<pre><code>JavaType myMapType = mapper.getTypeFactory().\n                constructMapType(HashMap.class, String.class, Object.class);\n</code></pre>\n<p>Serializer would be:</p>\n<pre><code>class PgObjectSerializer extends JsonSerializer&lt;Object&gt; {\n@Override\npublic void serialize(Object object, JsonGenerator gen, SerializerProvider serializers) throws IOException {\n    if (object instanceof PGobject) {\n        PGobject pgObject = (PGobject) object;\n        switch (pgObject.getType()) {\n        case &quot;json&quot;:\n        case &quot;jsonb&quot;:\n            gen.writeRawValue(pgObject.getType());\n            break;\n        default:\n            gen.writeString(pgObject.getType());\n        }\n    } else {\n        ObjectMapper mapper = new ObjectMapper();\n        mapper.writeValue(gen, object);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3458598,"reputation":53,"user_id":2896449,"display_name":"Rodion"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9310,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":46298017,"answer_count":1,"score":5,"last_activity_date":1691008567,"creation_date":1505807934,"question_id":46295013,"body_markdown":"I have a result set from DB in form of `Map&lt;String, Object&gt;` that I should return as `json` from a REST-service. Values in the map could be of various types including `PGObject`, `String`, `Integer` and `Date`.\r\n\r\nAnd I wrote a custom serializer for `org.postgresql.util.PGObject` class with type &quot;jsonb&quot;, which works fine in `List&lt;?&gt;`, but not in `Map&lt;String, Object&gt;`.\r\n\r\n    public class PgObjectSerializer extends JsonSerializer&lt;PGobject&gt;{\r\n    \r\n        @Override\r\n        public void serialize(PGobject pgObject, JsonGenerator gen, SerializerProvider serializers) throws IOException {\r\n            switch (pgObject.getType()) {\r\n                case &quot;json&quot;:\r\n                case &quot;jsonb&quot;:\r\n                    gen.writeRawValue(pgObject.getValue());\r\n                    break;\r\n                default:\r\n                    gen.writeString(pgObject.getValue());\r\n            }\r\n        }\r\n    }\r\nTarget PGObject looks like this:\r\n\r\n    PGObject pgo = new PGObject();\r\n    pgo.setType(&quot;jsonb&quot;);\r\n    pgo.setValue(&quot;[{&quot;id&quot;: 6, &quot;name&quot;: &quot;Foo&quot;}, {&quot;id&quot;: 7, &quot;name&quot;: &quot;Bar&quot;}, {&quot;id&quot;: 8, &quot;name&quot;: &quot;Baz&quot;}]&quot;); map.put(&quot;reason&quot;, pgo);\r\n    \r\nWhen Jackson serializes this `PGObject` value in a `Map&lt;String, Object&gt;` then I get `json` value like:\r\n\r\n      &quot;reason&quot;: {\r\n        &quot;type&quot;: &quot;jsonb&quot;,\r\n        &quot;value&quot;: &quot;[{\\&quot;id\\&quot;: 6, \\&quot;name\\&quot;: \\&quot;Foo\\&quot;}, {\\&quot;id\\&quot;: 7, \\&quot;name\\&quot;: \\&quot;Bar\\&quot;}, {\\&quot;id\\&quot;: 8, \\&quot;name\\&quot;: \\&quot;Baz\\&quot;}]&quot;\r\n      }\r\n\r\nWhat I need:\r\n\r\n      &quot;reason&quot;: [\r\n        {\r\n          &quot;id&quot;: 6,\r\n          &quot;name&quot;: &quot;Foo&quot;\r\n        },\r\n        {\r\n          &quot;id&quot;: 7,\r\n          &quot;name&quot;: &quot;Bar&quot;\r\n        },\r\n        {\r\n          &quot;id&quot;: 8,\r\n          &quot;name&quot;: &quot;Baz&quot;\r\n        },\r\n      ],\r\n\r\nI&#39;ve tried adding module to `ObjectMapper` and custom `MapType` to `ObjectWriter` as shown in the answer to https://stackoverflow.com/questions/6574636/serializing-mapdate-string-with-jackson:\r\n\r\n    @Service\r\n    @Transactional\r\n    public class MyClass {\r\n        private final ObjectWriter writer;\r\n        private final MyRepo repository;\r\n    \r\n        @Autowired\r\n        public MyClass(MyRepo repository) {\r\n            this.repository = repository;\r\n    \r\n            SimpleModule module = new SimpleModule();\r\n            module.addKeySerializer(PGobject.class, new PgObjectSerializer());\r\n    \r\n            ObjectMapper mapper = new ObjectMapper();\r\n            JavaType myMapType = mapper.getTypeFactory().\r\n                    constructMapType(HashMap.class, String.class, PGobject.class);\r\n            writer = mapper.registerModule(module).writerFor(myMapType);\r\n        }\r\n        \r\n        ...\r\n        \r\n        private String toJsonString(Map&lt;String, Object&gt; map) {\r\n            try {\r\n                return writer.writeValueAsString(map);\r\n            } catch (JsonProcessingException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n    }\r\n\r\nbut I get serialization error for every non-`PGObject` object in the map:\r\n\r\n    [Test worker] ERROR \r\n    com.fasterxml.jackson.databind.JsonMappingException: object is not an instance of declaring class (through reference chain: java.util.HashMap[&quot;end_date&quot;]-&gt;java.lang.String[&quot;type&quot;])\r\n    \tat com.fasterxml.jackson.databind.JsonMappingException.wrapWithPath(JsonMappingException.java:388)\r\n    \tat com.fasterxml.jackson.databind.JsonMappingException.wrapWithPath(JsonMappingException.java:348)\r\n    \tat com.fasterxml.jackson.databind.ser.std.StdSerializer.wrapAndThrow(StdSerializer.java:343)\r\n    \tat com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:698)\r\n    \tat com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:155)\r\n    \tat com.fasterxml.jackson.databind.ser.std.MapSerializer.serializeFieldsUsing(MapSerializer.java:736)\r\n    \tat com.fasterxml.jackson.databind.ser.std.MapSerializer.serialize(MapSerializer.java:534)\r\n    \tat com.fasterxml.jackson.databind.ser.std.MapSerializer.serialize(MapSerializer.java:30)\r\n    \tat com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:416)\r\n    \tat com.fasterxml.jackson.databind.ObjectWriter$Prefetch.serialize(ObjectWriter.java:1425)\r\n    \tat com.fasterxml.jackson.databind.ObjectWriter._configAndWriteValue(ObjectWriter.java:1158)\r\n    \tat com.fasterxml.jackson.databind.ObjectWriter.writeValueAsString(ObjectWriter.java:1031)\r\n\r\nHow to enable my `PGObjectSerializer` in Jackson when PGObject is found as a value during serialization of a `Map&lt;String, Object&gt;`?","title":"How to use Jackson custom value serializer for Map&lt;String, Object&gt;?","body":"<p>I have a result set from DB in form of <code>Map&lt;String, Object&gt;</code> that I should return as <code>json</code> from a REST-service. Values in the map could be of various types including <code>PGObject</code>, <code>String</code>, <code>Integer</code> and <code>Date</code>.</p>\n\n<p>And I wrote a custom serializer for <code>org.postgresql.util.PGObject</code> class with type \"jsonb\", which works fine in <code>List&lt;?&gt;</code>, but not in <code>Map&lt;String, Object&gt;</code>.</p>\n\n<pre><code>public class PgObjectSerializer extends JsonSerializer&lt;PGobject&gt;{\n\n    @Override\n    public void serialize(PGobject pgObject, JsonGenerator gen, SerializerProvider serializers) throws IOException {\n        switch (pgObject.getType()) {\n            case \"json\":\n            case \"jsonb\":\n                gen.writeRawValue(pgObject.getValue());\n                break;\n            default:\n                gen.writeString(pgObject.getValue());\n        }\n    }\n}\n</code></pre>\n\n<p>Target PGObject looks like this:</p>\n\n<pre><code>PGObject pgo = new PGObject();\npgo.setType(\"jsonb\");\npgo.setValue(\"[{\"id\": 6, \"name\": \"Foo\"}, {\"id\": 7, \"name\": \"Bar\"}, {\"id\": 8, \"name\": \"Baz\"}]\"); map.put(\"reason\", pgo);\n</code></pre>\n\n<p>When Jackson serializes this <code>PGObject</code> value in a <code>Map&lt;String, Object&gt;</code> then I get <code>json</code> value like:</p>\n\n<pre><code>  \"reason\": {\n    \"type\": \"jsonb\",\n    \"value\": \"[{\\\"id\\\": 6, \\\"name\\\": \\\"Foo\\\"}, {\\\"id\\\": 7, \\\"name\\\": \\\"Bar\\\"}, {\\\"id\\\": 8, \\\"name\\\": \\\"Baz\\\"}]\"\n  }\n</code></pre>\n\n<p>What I need:</p>\n\n<pre><code>  \"reason\": [\n    {\n      \"id\": 6,\n      \"name\": \"Foo\"\n    },\n    {\n      \"id\": 7,\n      \"name\": \"Bar\"\n    },\n    {\n      \"id\": 8,\n      \"name\": \"Baz\"\n    },\n  ],\n</code></pre>\n\n<p>I've tried adding module to <code>ObjectMapper</code> and custom <code>MapType</code> to <code>ObjectWriter</code> as shown in the answer to <a href=\"https://stackoverflow.com/questions/6574636/serializing-mapdate-string-with-jackson\">Serializing Map&lt;Date, String&gt; with Jackson</a>:</p>\n\n<pre><code>@Service\n@Transactional\npublic class MyClass {\n    private final ObjectWriter writer;\n    private final MyRepo repository;\n\n    @Autowired\n    public MyClass(MyRepo repository) {\n        this.repository = repository;\n\n        SimpleModule module = new SimpleModule();\n        module.addKeySerializer(PGobject.class, new PgObjectSerializer());\n\n        ObjectMapper mapper = new ObjectMapper();\n        JavaType myMapType = mapper.getTypeFactory().\n                constructMapType(HashMap.class, String.class, PGobject.class);\n        writer = mapper.registerModule(module).writerFor(myMapType);\n    }\n\n    ...\n\n    private String toJsonString(Map&lt;String, Object&gt; map) {\n        try {\n            return writer.writeValueAsString(map);\n        } catch (JsonProcessingException e) {\n            throw new RuntimeException(e);\n        }\n    }\n}\n</code></pre>\n\n<p>but I get serialization error for every non-<code>PGObject</code> object in the map:</p>\n\n<pre><code>[Test worker] ERROR \ncom.fasterxml.jackson.databind.JsonMappingException: object is not an instance of declaring class (through reference chain: java.util.HashMap[\"end_date\"]-&gt;java.lang.String[\"type\"])\n    at com.fasterxml.jackson.databind.JsonMappingException.wrapWithPath(JsonMappingException.java:388)\n    at com.fasterxml.jackson.databind.JsonMappingException.wrapWithPath(JsonMappingException.java:348)\n    at com.fasterxml.jackson.databind.ser.std.StdSerializer.wrapAndThrow(StdSerializer.java:343)\n    at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:698)\n    at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:155)\n    at com.fasterxml.jackson.databind.ser.std.MapSerializer.serializeFieldsUsing(MapSerializer.java:736)\n    at com.fasterxml.jackson.databind.ser.std.MapSerializer.serialize(MapSerializer.java:534)\n    at com.fasterxml.jackson.databind.ser.std.MapSerializer.serialize(MapSerializer.java:30)\n    at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:416)\n    at com.fasterxml.jackson.databind.ObjectWriter$Prefetch.serialize(ObjectWriter.java:1425)\n    at com.fasterxml.jackson.databind.ObjectWriter._configAndWriteValue(ObjectWriter.java:1158)\n    at com.fasterxml.jackson.databind.ObjectWriter.writeValueAsString(ObjectWriter.java:1031)\n</code></pre>\n\n<p>How to enable my <code>PGObjectSerializer</code> in Jackson when PGObject is found as a value during serialization of a <code>Map&lt;String, Object&gt;</code>?</p>\n"},{"tags":["java","apache-httpclient-4.x","apache-commons-httpclient"],"comments":[{"owner":{"account_id":347037,"reputation":79658,"user_id":680925,"display_name":"Perception"},"score":2,"creation_date":1362998489,"post_id":15336477,"comment_id":21658772,"body_markdown":"NetBeans is telling you wrong, or you are misreading something. `DefaultHttpClient` is definitely not deprecated. What version did you specify in your POM?","body":"NetBeans is telling you wrong, or you are misreading something. <code>DefaultHttpClient</code> is definitely not deprecated. What version did you specify in your POM?"},{"owner":{"account_id":39580,"reputation":385624,"user_id":114251,"accept_rate":87,"display_name":"Arun P Johny"},"score":8,"creation_date":1362998709,"post_id":15336477,"comment_id":21658880,"body_markdown":"in 4.3-alpha1 it seems to be deprecated","body":"in 4.3-alpha1 it seems to be deprecated"},{"owner":{"account_id":52453,"reputation":26429,"user_id":156755,"accept_rate":90,"display_name":"Basic"},"score":0,"creation_date":1362998960,"post_id":15336477,"comment_id":21659015,"body_markdown":"@sreemanth Thanks but although I eventually intend to use this for Json, the actual question is not related to Json at all.","body":"@sreemanth Thanks but although I eventually intend to use this for Json, the actual question is not related to Json at all."},{"owner":{"account_id":101889,"reputation":5685,"user_id":273826,"accept_rate":100,"display_name":"Hans Westerbeek"},"score":3,"creation_date":1403079007,"post_id":15336477,"comment_id":37514984,"body_markdown":"You are right the httpclient API is a trainwreck","body":"You are right the httpclient API is a trainwreck"},{"owner":{"account_id":332245,"reputation":16487,"user_id":657427,"accept_rate":67,"display_name":"Christophe Roussy"},"score":2,"creation_date":1416406499,"post_id":15336477,"comment_id":42562732,"body_markdown":"I would recommend you set the version to some major release number instead of LATEST. This will allow you to manually control the upgrade process and not let Maven decide for you.","body":"I would recommend you set the version to some major release number instead of LATEST. This will allow you to manually control the upgrade process and not let Maven decide for you."},{"owner":{"account_id":52453,"reputation":26429,"user_id":156755,"accept_rate":90,"display_name":"Basic"},"score":0,"creation_date":1416408732,"post_id":15336477,"comment_id":42564271,"body_markdown":"@ChristopheRoussy Sure, when you&#39;ve finished writing it... But for your first piece of code in a new project, why not use Latest? Once you&#39;ve actually got a dependency on a specific version, absolutely nail it down","body":"@ChristopheRoussy Sure, when you&#39;ve finished writing it... But for your first piece of code in a new project, why not use Latest? Once you&#39;ve actually got a dependency on a specific version, absolutely nail it down"},{"owner":{"account_id":332245,"reputation":16487,"user_id":657427,"accept_rate":67,"display_name":"Christophe Roussy"},"score":1,"creation_date":1416412942,"post_id":15336477,"comment_id":42567044,"body_markdown":"@Basic it may change any time while you work on it even in a new project, this may be confusing if you did not set it yourself. For example it worked and compiled and you commit the code. Someone else arrives the next day, checkout and it does not even compile because the LATEST version changed. Of course you do what you want but I would avoid using it for this reason (versionning).","body":"@Basic it may change any time while you work on it even in a new project, this may be confusing if you did not set it yourself. For example it worked and compiled and you commit the code. Someone else arrives the next day, checkout and it does not even compile because the LATEST version changed. Of course you do what you want but I would avoid using it for this reason (versionning)."},{"owner":{"account_id":52453,"reputation":26429,"user_id":156755,"accept_rate":90,"display_name":"Basic"},"score":1,"creation_date":1416416773,"post_id":15336477,"comment_id":42569405,"body_markdown":"@ChristopheRoussy Let&#39;s agree to disagree","body":"@ChristopheRoussy Let&#39;s agree to disagree"},{"owner":{"account_id":3065497,"reputation":1582,"user_id":2597290,"accept_rate":71,"display_name":"Casey Murray"},"score":1,"creation_date":1551886415,"post_id":15336477,"comment_id":96806226,"body_markdown":"I think it&#39;s worth noting here that with Java 11 now comes a built in HttpClient and possibly freedom from the apache dependency for some applications, depending on your needs.","body":"I think it&#39;s worth noting here that with Java 11 now comes a built in HttpClient and possibly freedom from the apache dependency for some applications, depending on your needs."},{"owner":{"account_id":52453,"reputation":26429,"user_id":156755,"accept_rate":90,"display_name":"Basic"},"score":0,"creation_date":1551887410,"post_id":15336477,"comment_id":96806860,"body_markdown":"@CaseyMurray That&#39;s very welcome indeed, if long overdue.","body":"@CaseyMurray That&#39;s very welcome indeed, if long overdue."}],"answers":[{"tags":[],"owner":{"account_id":1333489,"reputation":17338,"user_id":1276804,"display_name":"zagyi"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1362998739,"creation_date":1362998739,"answer_id":15336606,"question_id":15336477,"body_markdown":"It got deprecated in version `4.3-alpha1` which you use because of the `LATEST` version specification. If you take a look at the javadoc of the class, it tells you what to use instead: `HttpClientBuilder`.\r\n\r\nIn the latest stable version (`4.2.3`) the `DefaultHttpClient` is not deprecated yet.","title":"Deprecated Java HttpClient - How hard can it be?","body":"<p>It got deprecated in version <code>4.3-alpha1</code> which you use because of the <code>LATEST</code> version specification. If you take a look at the javadoc of the class, it tells you what to use instead: <code>HttpClientBuilder</code>.</p>\n\n<p>In the latest stable version (<code>4.2.3</code>) the <code>DefaultHttpClient</code> is not deprecated yet.</p>\n"},{"tags":[],"owner":{"account_id":39580,"reputation":385624,"user_id":114251,"accept_rate":87,"display_name":"Arun P Johny"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1362999856,"creation_date":1362998937,"answer_id":15336663,"question_id":15336477,"body_markdown":"Use [HttpClientBuilder][1] to build the [HttpClient][2] instead of using DefaultHttpClient\r\n\r\nex:\r\n\r\n    MinimalHttpClient httpclient = new HttpClientBuilder().build();\r\n    \r\n     // Prepare a request object\r\n     HttpGet httpget = new HttpGet(&quot;http://www.apache.org/&quot;);\r\n\r\n\r\n  [1]: http://hc.apache.org/httpcomponents-client-dev/httpclient/apidocs/org/apache/http/impl/client/HttpClientBuilder.html\r\n  [2]: http://hc.apache.org/httpcomponents-client-dev/httpclient/apidocs/org/apache/http/client/HttpClient.html","title":"Deprecated Java HttpClient - How hard can it be?","body":"<p>Use <a href=\"http://hc.apache.org/httpcomponents-client-dev/httpclient/apidocs/org/apache/http/impl/client/HttpClientBuilder.html\" rel=\"nofollow\">HttpClientBuilder</a> to build the <a href=\"http://hc.apache.org/httpcomponents-client-dev/httpclient/apidocs/org/apache/http/client/HttpClient.html\" rel=\"nofollow\">HttpClient</a> instead of using DefaultHttpClient</p>\n\n<p>ex:</p>\n\n<pre><code>MinimalHttpClient httpclient = new HttpClientBuilder().build();\n\n // Prepare a request object\n HttpGet httpget = new HttpGet(\"http://www.apache.org/\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1742178,"reputation":1756,"user_id":1593272,"accept_rate":56,"display_name":"Anubhab"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1561573403,"creation_date":1362999341,"answer_id":15336793,"question_id":15336477,"body_markdown":"I would suggest using the below method if you are trying to read the json data only.\r\n\r\n    URL requestUrl=new URL(url);\r\n    URLConnection con = requestUrl.openConnection();\r\n    BufferedReader in = new BufferedReader(new InputStreamReader(con.getInputStream()));\r\n    StringBuilder sb=new StringBuilder();\r\n    int cp;\r\n    try {\r\n    \twhile((cp=rd.read())!=-1){\r\n    \tsb.append((char)cp);\r\n      }\r\n     catch(Exception e){\r\n     }\r\n     String json=sb.toString();\r\n\r\n","title":"Deprecated Java HttpClient - How hard can it be?","body":"<p>I would suggest using the below method if you are trying to read the json data only.</p>\n\n<pre><code>URL requestUrl=new URL(url);\nURLConnection con = requestUrl.openConnection();\nBufferedReader in = new BufferedReader(new InputStreamReader(con.getInputStream()));\nStringBuilder sb=new StringBuilder();\nint cp;\ntry {\n    while((cp=rd.read())!=-1){\n    sb.append((char)cp);\n  }\n catch(Exception e){\n }\n String json=sb.toString();\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user2030471"},"down_vote_count":0,"up_vote_count":276,"is_accepted":true,"score":276,"last_activity_date":1454624722,"creation_date":1362999348,"answer_id":15336796,"question_id":15336477,"body_markdown":"Relevant imports:\r\n\r\n    import org.apache.http.impl.client.CloseableHttpClient;\r\n    import org.apache.http.impl.client.HttpClientBuilder;\r\n    import java.io.IOException;\r\n\r\nUsage:\r\n\r\n    HttpClient httpClient = HttpClientBuilder.create().build();\r\n\r\nEDIT (after Jules&#39; suggestion):\r\n\r\nAs the `build()` method returns a `CloseableHttpClient` which *is-a* `AutoClosable`, you can place the declaration in a try-with-resources  statement (Java 7+):\r\n\r\n\ttry (CloseableHttpClient httpClient = HttpClientBuilder.create().build()) {\r\n\r\n        // use httpClient (no need to close it explicitly)\r\n\r\n\t} catch (IOException e) {\r\n\r\n        // handle\r\n\r\n\t}","title":"Deprecated Java HttpClient - How hard can it be?","body":"<p>Relevant imports:</p>\n\n<pre><code>import org.apache.http.impl.client.CloseableHttpClient;\nimport org.apache.http.impl.client.HttpClientBuilder;\nimport java.io.IOException;\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>HttpClient httpClient = HttpClientBuilder.create().build();\n</code></pre>\n\n<p>EDIT (after Jules' suggestion):</p>\n\n<p>As the <code>build()</code> method returns a <code>CloseableHttpClient</code> which <em>is-a</em> <code>AutoClosable</code>, you can place the declaration in a try-with-resources  statement (Java 7+):</p>\n\n<pre><code>try (CloseableHttpClient httpClient = HttpClientBuilder.create().build()) {\n\n    // use httpClient (no need to close it explicitly)\n\n} catch (IOException e) {\n\n    // handle\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3503406,"reputation":10887,"user_id":2929562,"accept_rate":88,"display_name":"Prateek"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1398170364,"creation_date":1398170364,"answer_id":23219857,"question_id":15336477,"body_markdown":"For the original issue, I would request you to apply below logic:\r\n\r\n     CloseableHttpClient httpClient = HttpClientBuilder.create().build();\r\n     HttpPost httpPostRequest = new HttpPost();","title":"Deprecated Java HttpClient - How hard can it be?","body":"<p>For the original issue, I would request you to apply below logic:</p>\n\n<pre><code> CloseableHttpClient httpClient = HttpClientBuilder.create().build();\n HttpPost httpPostRequest = new HttpPost();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":332245,"reputation":16487,"user_id":657427,"accept_rate":67,"display_name":"Christophe Roussy"},"down_vote_count":0,"up_vote_count":61,"is_accepted":false,"score":61,"last_activity_date":1511359748,"creation_date":1416403129,"answer_id":27017861,"question_id":15336477,"body_markdown":"IMHO the accepted answer is correct but misses some &#39;teaching&#39; as it does not explain how to come up with the answer.\r\nFor all deprecated classes look at the [**JavaDoc**][1] (if you do not have it either download it or [go online][1]), it will hint at which class to use to replace the old code. Of course it will not tell you everything, but this is a start. Example:\r\n\r\n    ...\r\n     *\r\n     * @deprecated (4.3) use {@link HttpClientBuilder}.  &lt;----- THE HINT IS HERE !\r\n     */\r\n    @ThreadSafe\r\n    @Deprecated\r\n    public class DefaultHttpClient extends AbstractHttpClient {\r\n\r\nNow you have the class to use, `HttpClientBuilder`, as there is no constructor to get a **builder** instance you may guess that there must be a static method instead: `create`. Once you have the builder you can also guess that as for most builders there is a **build method**, thus:\r\n\r\n    org.apache.http.impl.client.HttpClientBuilder.create().build();\r\n\r\n**AutoClosable:**\r\n\r\nAs Jules hinted in the comments, the returned class implements `java.io.Closable`, so if you use Java 7 or above you can now do:\r\n\r\n        try (CloseableHttpClient httpClient = HttpClientBuilder.create().build()) {...}\r\n\r\nThe advantage is that you do not have to deal with finally and nulls.\r\n\r\n**Other relevant info**\r\n\r\nAlso make sure to read about [connection pooling][2] and set the [timeouts][3].\r\n\r\n  [1]: http://hc.apache.org/httpcomponents-client-ga/httpclient/apidocs/org/apache/http/impl/client/DefaultHttpClient.html\r\n  [2]: https://hc.apache.org/httpcomponents-client-ga/tutorial/html/connmgmt.html\r\n  [3]: https://stackoverflow.com/questions/39256157/apache-http-setsockettimout-vs-setconnecttimout-vs-setconnectionrequesttimeout","title":"Deprecated Java HttpClient - How hard can it be?","body":"<p>IMHO the accepted answer is correct but misses some 'teaching' as it does not explain how to come up with the answer.\nFor all deprecated classes look at the <a href=\"http://hc.apache.org/httpcomponents-client-ga/httpclient/apidocs/org/apache/http/impl/client/DefaultHttpClient.html\" rel=\"noreferrer\"><strong>JavaDoc</strong></a> (if you do not have it either download it or <a href=\"http://hc.apache.org/httpcomponents-client-ga/httpclient/apidocs/org/apache/http/impl/client/DefaultHttpClient.html\" rel=\"noreferrer\">go online</a>), it will hint at which class to use to replace the old code. Of course it will not tell you everything, but this is a start. Example:</p>\n\n<pre><code>...\n *\n * @deprecated (4.3) use {@link HttpClientBuilder}.  &lt;----- THE HINT IS HERE !\n */\n@ThreadSafe\n@Deprecated\npublic class DefaultHttpClient extends AbstractHttpClient {\n</code></pre>\n\n<p>Now you have the class to use, <code>HttpClientBuilder</code>, as there is no constructor to get a <strong>builder</strong> instance you may guess that there must be a static method instead: <code>create</code>. Once you have the builder you can also guess that as for most builders there is a <strong>build method</strong>, thus:</p>\n\n<pre><code>org.apache.http.impl.client.HttpClientBuilder.create().build();\n</code></pre>\n\n<p><strong>AutoClosable:</strong></p>\n\n<p>As Jules hinted in the comments, the returned class implements <code>java.io.Closable</code>, so if you use Java 7 or above you can now do:</p>\n\n<pre><code>    try (CloseableHttpClient httpClient = HttpClientBuilder.create().build()) {...}\n</code></pre>\n\n<p>The advantage is that you do not have to deal with finally and nulls.</p>\n\n<p><strong>Other relevant info</strong></p>\n\n<p>Also make sure to read about <a href=\"https://hc.apache.org/httpcomponents-client-ga/tutorial/html/connmgmt.html\" rel=\"noreferrer\">connection pooling</a> and set the <a href=\"https://stackoverflow.com/questions/39256157/apache-http-setsockettimout-vs-setconnecttimout-vs-setconnectionrequesttimeout\">timeouts</a>.</p>\n"},{"tags":[],"owner":{"account_id":5909595,"reputation":81,"user_id":4650278,"display_name":"Frutos Marquez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1441094605,"creation_date":1441094605,"answer_id":32326524,"question_id":15336477,"body_markdown":"This is the solution that I have applied to the problem that httpclient deprecated in this version of android 22\r\n\r\n     public static String getContenxtWeb(String urlS) {\r\n        String pagina = &quot;&quot;, devuelve = &quot;&quot;;\r\n        URL url;\r\n        try {\r\n            url = new URL(urlS);\r\n            HttpURLConnection conexion = (HttpURLConnection) url\r\n                    .openConnection();\r\n            conexion.setRequestProperty(&quot;User-Agent&quot;,\r\n                    &quot;Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 5.1)&quot;);\r\n            if (conexion.getResponseCode() == HttpURLConnection.HTTP_OK) {\r\n                BufferedReader reader = new BufferedReader(\r\n                        new InputStreamReader(conexion.getInputStream()));\r\n                String linea = reader.readLine();\r\n                while (linea != null) {\r\n                    pagina += linea;\r\n                    linea = reader.readLine();\r\n                }\r\n                reader.close();\r\n\r\n                devuelve = pagina;\r\n            } else {\r\n                conexion.disconnect();\r\n                return null;\r\n            }\r\n            conexion.disconnect();\r\n            return devuelve;\r\n        } catch (Exception ex) {\r\n            return devuelve;\r\n        }\r\n    }","title":"Deprecated Java HttpClient - How hard can it be?","body":"<p>This is the solution that I have applied to the problem that httpclient deprecated in this version of android 22</p>\n\n<pre><code> public static String getContenxtWeb(String urlS) {\n    String pagina = \"\", devuelve = \"\";\n    URL url;\n    try {\n        url = new URL(urlS);\n        HttpURLConnection conexion = (HttpURLConnection) url\n                .openConnection();\n        conexion.setRequestProperty(\"User-Agent\",\n                \"Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 5.1)\");\n        if (conexion.getResponseCode() == HttpURLConnection.HTTP_OK) {\n            BufferedReader reader = new BufferedReader(\n                    new InputStreamReader(conexion.getInputStream()));\n            String linea = reader.readLine();\n            while (linea != null) {\n                pagina += linea;\n                linea = reader.readLine();\n            }\n            reader.close();\n\n            devuelve = pagina;\n        } else {\n            conexion.disconnect();\n            return null;\n        }\n        conexion.disconnect();\n        return devuelve;\n    } catch (Exception ex) {\n        return devuelve;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1903290,"reputation":7155,"user_id":1718678,"accept_rate":80,"display_name":"IvanRF"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1585547478,"creation_date":1441236827,"answer_id":32364785,"question_id":15336477,"body_markdown":"**[Examples from Apache](https://hc.apache.org/httpcomponents-client-4.5.x/examples.html)** use this:\r\n\r\n    CloseableHttpClient httpclient = HttpClients.createDefault();\r\n\r\nThe class `org.apache.http.impl.client.HttpClients` is there since version 4.3.\r\n\r\nThe code for `HttpClients.createDefault()` is the same as the [accepted answer][1] in here.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/15336796","title":"Deprecated Java HttpClient - How hard can it be?","body":"<p><strong><a href=\"https://hc.apache.org/httpcomponents-client-4.5.x/examples.html\" rel=\"nofollow noreferrer\">Examples from Apache</a></strong> use this:</p>\n\n<pre><code>CloseableHttpClient httpclient = HttpClients.createDefault();\n</code></pre>\n\n<p>The class <code>org.apache.http.impl.client.HttpClients</code> is there since version 4.3.</p>\n\n<p>The code for <code>HttpClients.createDefault()</code> is the same as the <a href=\"https://stackoverflow.com/a/15336796\">accepted answer</a> in here.</p>\n"},{"tags":[],"owner":{"account_id":1075172,"reputation":5519,"user_id":1073487,"display_name":"Red Boy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1522652352,"creation_date":1522649966,"answer_id":49606275,"question_id":15336477,"body_markdown":"**You could add the following Maven dependency.**\r\n\r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.5.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.apache.httpcomponents/httpmime --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;httpmime&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.5.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n**You could use following import in your java code.**\r\n\r\n    import org.apache.http.HttpEntity;\r\n    import org.apache.http.HttpResponse;\r\n    import org.apache.http.client.HttpClient;\r\n    import org.apache.http.client.methods.HttpGett;\r\n    import org.apache.http.impl.client.HttpClientBuilder;\r\n    import org.apache.http.client.methods.HttpUriRequest;\r\n\r\n**You could use following code block in your java code.**\r\n\r\n    HttpClient client = HttpClientBuilder.create().build();\r\n\tHttpUriRequest httpUriRequest = new HttpGet(&quot;http://example.domain/someuri&quot;);\r\n       \t\r\n\tHttpResponse response = client.execute(httpUriRequest);\r\n    System.out.println(&quot;Response:&quot;+response);","title":"Deprecated Java HttpClient - How hard can it be?","body":"<p><strong>You could add the following Maven dependency.</strong></p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n        &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n        &lt;version&gt;4.5.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.apache.httpcomponents/httpmime --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n        &lt;artifactId&gt;httpmime&lt;/artifactId&gt;\n        &lt;version&gt;4.5.1&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p><strong>You could use following import in your java code.</strong></p>\n\n<pre><code>import org.apache.http.HttpEntity;\nimport org.apache.http.HttpResponse;\nimport org.apache.http.client.HttpClient;\nimport org.apache.http.client.methods.HttpGett;\nimport org.apache.http.impl.client.HttpClientBuilder;\nimport org.apache.http.client.methods.HttpUriRequest;\n</code></pre>\n\n<p><strong>You could use following code block in your java code.</strong></p>\n\n<pre><code>HttpClient client = HttpClientBuilder.create().build();\nHttpUriRequest httpUriRequest = new HttpGet(\"http://example.domain/someuri\");\n\nHttpResponse response = client.execute(httpUriRequest);\nSystem.out.println(\"Response:\"+response);\n</code></pre>\n"}],"owner":{"account_id":52453,"reputation":26429,"user_id":156755,"accept_rate":90,"display_name":"Basic"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":203473,"favorite_count":0,"down_vote_count":0,"up_vote_count":181,"accepted_answer_id":15336796,"answer_count":9,"score":181,"last_activity_date":1691008497,"creation_date":1362998335,"question_id":15336477,"body_markdown":"All I&#39;m trying to do is download some JSON and deserialize it into an object. I haven&#39;t got as far as downloading the JSON yet.\r\n\r\nAlmost every single HttpClient example I can find, including those on the apache site looks something like...\r\n\r\n    import org.apache.http.client.HttpClient;\r\n    import org.apache.http.impl.client.DefaultHttpClient;\r\n    \r\n    public void blah() {\r\n        HttpClient client = new DefaultHttpClient();\r\n        ...\r\n    }\r\n\r\nHowever, Netbeans tells me that `DefaultHttpClient` is deprecated. I&#39;ve tried googling for `DefaultHttpClient deprecated` and as many other variations as I can think of and can&#39;t find any useful results, so I&#39;m obviously missing something.\r\n\r\nWhat is the correct Java7 way to download the contents of a webpage? Is there really no decent Http Client as part of the language? I find that hard to believe.\r\n\r\nMy Maven dependency for this is...\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n        &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n        &lt;version&gt;LATEST&lt;/version&gt;\r\n        &lt;type&gt;jar&lt;/type&gt;\r\n    &lt;/dependency&gt;\r\n","title":"Deprecated Java HttpClient - How hard can it be?","body":"<p>All I'm trying to do is download some JSON and deserialize it into an object. I haven't got as far as downloading the JSON yet.</p>\n\n<p>Almost every single HttpClient example I can find, including those on the apache site looks something like...</p>\n\n<pre><code>import org.apache.http.client.HttpClient;\nimport org.apache.http.impl.client.DefaultHttpClient;\n\npublic void blah() {\n    HttpClient client = new DefaultHttpClient();\n    ...\n}\n</code></pre>\n\n<p>However, Netbeans tells me that <code>DefaultHttpClient</code> is deprecated. I've tried googling for <code>DefaultHttpClient deprecated</code> and as many other variations as I can think of and can't find any useful results, so I'm obviously missing something.</p>\n\n<p>What is the correct Java7 way to download the contents of a webpage? Is there really no decent Http Client as part of the language? I find that hard to believe.</p>\n\n<p>My Maven dependency for this is...</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n    &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n    &lt;version&gt;LATEST&lt;/version&gt;\n    &lt;type&gt;jar&lt;/type&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","http","httpclient"],"comments":[{"owner":{"account_id":1449905,"reputation":1841,"user_id":1367154,"accept_rate":57,"display_name":"Nishanth"},"score":0,"creation_date":1528406141,"post_id":6051648,"comment_id":88508306,"body_markdown":"https://github.com/square/okhttp is a good and popular one. Very well maintained","body":"<a href=\"https://github.com/square/okhttp\" rel=\"nofollow noreferrer\">github.com/square/okhttp</a> is a good and popular one. Very well maintained"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1644800074,"post_id":6051648,"comment_id":125695052,"body_markdown":"FYI: Java 11+ has a new HTTP client implementation built-in. See [*JEP 321: HTTP Client*](https://openjdk.java.net/jeps/321).","body":"FYI: Java 11+ has a new HTTP client implementation built-in. See <a href=\"https://openjdk.java.net/jeps/321\" rel=\"nofollow noreferrer\"><i>JEP 321: HTTP Client</i></a>."}],"answers":[{"tags":[],"owner":{"account_id":14531,"reputation":118870,"user_id":29995,"accept_rate":77,"display_name":"Rob Hruska"},"down_vote_count":1,"up_vote_count":21,"is_accepted":false,"score":20,"last_activity_date":1305757173,"creation_date":1305756757,"answer_id":6051660,"question_id":6051648,"body_markdown":"Many people use [Apache&#39;s HTTPClient][1].\r\n\r\nHave a look at the first few chapters of [its tutorial][2] to see if it&#39;s what you&#39;re looking for.\r\n\r\nIf you&#39;re after something simple that&#39;s already built into Java, you can look at [HttpURLConnection][3], which you can use to build HTTP requests ([example][4]). If you need to do anything more than just simple HTTP requests, though, HTTPClient is probably the way to go.\r\n\r\n\r\n  [1]: http://hc.apache.org/httpcomponents-client-ga/\r\n  [2]: http://hc.apache.org/httpcomponents-client-ga/tutorial/html/index.html\r\n  [3]: http://download.oracle.com/javase/6/docs/api/java/net/HttpURLConnection.html\r\n  [4]: https://stackoverflow.com/questions/359439/how-do-i-retrieve-a-url-from-a-web-site-using-java/360291#360291","title":"HttpClient in java","body":"<p>Many people use <a href=\"http://hc.apache.org/httpcomponents-client-ga/\" rel=\"nofollow noreferrer\">Apache's HTTPClient</a>.</p>\n\n<p>Have a look at the first few chapters of <a href=\"http://hc.apache.org/httpcomponents-client-ga/tutorial/html/index.html\" rel=\"nofollow noreferrer\">its tutorial</a> to see if it's what you're looking for.</p>\n\n<p>If you're after something simple that's already built into Java, you can look at <a href=\"http://download.oracle.com/javase/6/docs/api/java/net/HttpURLConnection.html\" rel=\"nofollow noreferrer\">HttpURLConnection</a>, which you can use to build HTTP requests (<a href=\"https://stackoverflow.com/questions/359439/how-do-i-retrieve-a-url-from-a-web-site-using-java/360291#360291\">example</a>). If you need to do anything more than just simple HTTP requests, though, HTTPClient is probably the way to go.</p>\n"},{"tags":[],"owner":{"account_id":1719885,"reputation":572,"user_id":1576089,"display_name":"Hachmaninow"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1382517412,"creation_date":1382517412,"answer_id":19536795,"question_id":6051648,"body_markdown":"There is another option in using [google-http-java-client][1]. \r\n\r\nThis library provides a simple and flexible API together with a pluggable approach to use low-level HTTP libraries like java.net.HttpURLConnection or Apache HTTP Client.\r\n\r\nSample code for posting content to content from an InputStream to a specific URL:\r\n\r\n    HttpTransport HTTP_TRANSPORT = new NetHttpTransport();\r\n    HttpRequestFactory requestFactory = HTTP_TRANSPORT.createRequestFactory();\r\n    InputStream is = ...;\r\n    URL url = new URL(...);\r\n    String contentType = ...;\r\n    HttpRequest httpRequest = requestFactory.buildPostRequest(\r\n      new GenericUrl(url), new InputStreamContent(contentType, is)\r\n    );\r\n    HttpResponse execute = httpRequest.execute();\r\n\r\n\r\n  [1]: https://code.google.com/p/google-http-java-client/","title":"HttpClient in java","body":"<p>There is another option in using <a href=\"https://code.google.com/p/google-http-java-client/\" rel=\"nofollow\">google-http-java-client</a>. </p>\n\n<p>This library provides a simple and flexible API together with a pluggable approach to use low-level HTTP libraries like java.net.HttpURLConnection or Apache HTTP Client.</p>\n\n<p>Sample code for posting content to content from an InputStream to a specific URL:</p>\n\n<pre><code>HttpTransport HTTP_TRANSPORT = new NetHttpTransport();\nHttpRequestFactory requestFactory = HTTP_TRANSPORT.createRequestFactory();\nInputStream is = ...;\nURL url = new URL(...);\nString contentType = ...;\nHttpRequest httpRequest = requestFactory.buildPostRequest(\n  new GenericUrl(url), new InputStreamContent(contentType, is)\n);\nHttpResponse execute = httpRequest.execute();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5522675,"reputation":25,"user_id":4385161,"display_name":"Amit G"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1419252700,"creation_date":1419251244,"answer_id":27602744,"question_id":6051648,"body_markdown":"You don&#39;t need a third party class, just use java&#39;s own `URL` and `HttpURLConnection` classes.  \r\nSee an example [here][1]. \r\n\r\n\r\n  [1]: http://agalaxyjava.blogspot.in/2014/12/simple-java-httpclient.html","title":"HttpClient in java","body":"<p>You don't need a third party class, just use java's own <code>URL</code> and <code>HttpURLConnection</code> classes.<br>\nSee an example <a href=\"http://agalaxyjava.blogspot.in/2014/12/simple-java-httpclient.html\" rel=\"nofollow\">here</a>. </p>\n"},{"tags":[],"owner":{"account_id":40679,"reputation":1406,"user_id":117900,"accept_rate":100,"display_name":"Pawe Krupiski"},"down_vote_count":1,"up_vote_count":19,"is_accepted":false,"score":18,"last_activity_date":1420739294,"creation_date":1420739294,"answer_id":27846399,"question_id":6051648,"body_markdown":"I highly recommend [Unirest](http://unirest.io/java.html):\r\n\r\n    Unirest.post(&quot;http://httpbin.org/post&quot;)\r\n      .queryString(&quot;name&quot;, &quot;Mark&quot;)\r\n      .field(&quot;last&quot;, &quot;Polo&quot;)\r\n      .asString()\r\n\r\n\r\n  [1]: http://unirest.io/java.html","title":"HttpClient in java","body":"<p>I highly recommend <a href=\"http://unirest.io/java.html\">Unirest</a>:</p>\n\n<pre><code>Unirest.post(\"http://httpbin.org/post\")\n  .queryString(\"name\", \"Mark\")\n  .field(\"last\", \"Polo\")\n  .asString()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":399098,"reputation":10373,"user_id":764206,"display_name":"Nikita Koksharov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1479379657,"creation_date":1479308760,"answer_id":40635471,"question_id":6051648,"body_markdown":"Try [Apache&#39;s HTTPClient fluent API][1] it&#39;s so easy in use!\r\n\r\n    // Execute a GET with timeout settings and return response content as String.\r\n    Request.Get(&quot;http://somehost/&quot;)\r\n        .connectTimeout(1000)\r\n        .socketTimeout(1000)\r\n        .execute().returnContent().asString();\r\n\r\n\r\n  [1]: http://hc.apache.org/httpcomponents-client-ga/tutorial/html/fluent.html","title":"HttpClient in java","body":"<p>Try <a href=\"http://hc.apache.org/httpcomponents-client-ga/tutorial/html/fluent.html\" rel=\"nofollow noreferrer\">Apache's HTTPClient fluent API</a> it's so easy in use!</p>\n\n<pre><code>// Execute a GET with timeout settings and return response content as String.\nRequest.Get(\"http://somehost/\")\n    .connectTimeout(1000)\n    .socketTimeout(1000)\n    .execute().returnContent().asString();\n</code></pre>\n"}],"owner":{"account_id":755326,"reputation":267,"user_id":760049,"display_name":"computeAlot"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76089,"favorite_count":0,"down_vote_count":2,"up_vote_count":27,"closed_date":1479311482,"answer_count":5,"score":25,"last_activity_date":1691008466,"creation_date":1305756681,"question_id":6051648,"body_markdown":"I want to use a simple HttpClient.\r\n\r\nHowever, it appears `sun.net.www.http.HttpClient` is inaccessible.\r\n\r\nAlso, `com.ibm.ws.http.HTTPConnection` - appears to be more supporting of http server and not client. Why? Because when I create an instance of HttpConnection, it has a &quot;getHttpResponse&quot; to which I am supposed to write.\r\n\r\nAnyway to use the IBM HttpConnection for HttpClient?\r\n\r\nOr, is there any standard httpClient code that I can use?","title":"HttpClient in java","body":"<p>I want to use a simple HttpClient.</p>\n\n<p>However, it appears <code>sun.net.www.http.HttpClient</code> is inaccessible.</p>\n\n<p>Also, <code>com.ibm.ws.http.HTTPConnection</code> - appears to be more supporting of http server and not client. Why? Because when I create an instance of HttpConnection, it has a \"getHttpResponse\" to which I am supposed to write.</p>\n\n<p>Anyway to use the IBM HttpConnection for HttpClient?</p>\n\n<p>Or, is there any standard httpClient code that I can use?</p>\n"},{"tags":["java","sql","spring-boot","docker","h2"],"comments":[{"owner":{"account_id":13863020,"reputation":137023,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1682072269,"post_id":76071925,"comment_id":134161727,"body_markdown":"When you say &quot;fails&quot;, what happens; can you [edit] the message to include your process&#39;s log messages?  Since H2 is an in-process in-memory database it shouldn&#39;t be any different running it in Docker or not.","body":"When you say &quot;fails&quot;, what happens; can you <a href=\"https://stackoverflow.com/posts/76071925/edit\">edit</a> the message to include your process&#39;s log messages?  Since H2 is an in-process in-memory database it shouldn&#39;t be any different running it in Docker or not."},{"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1682179992,"post_id":76071925,"comment_id":134176218,"body_markdown":"You say you want to use H2, but the error indicates a MySQL connection string was used.","body":"You say you want to use H2, but the error indicates a MySQL connection string was used."}],"answers":[{"tags":[],"owner":{"account_id":11389441,"reputation":71,"user_id":8350036,"display_name":"Danilo Jakob"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1682076733,"creation_date":1682076733,"answer_id":76072745,"question_id":76071925,"body_markdown":"I think the problem lies within your `spring.datasource.url` property. It should also contain the name of the database you want to connect to. For example: `spring.datasource.url=jdbc:h2:mem:mydb`.","title":"Spring Boot H2 db in Docker container","body":"<p>I think the problem lies within your <code>spring.datasource.url</code> property. It should also contain the name of the database you want to connect to. For example: <code>spring.datasource.url=jdbc:h2:mem:mydb</code>.</p>\n"},{"tags":[],"owner":{"account_id":20515025,"reputation":70,"user_id":15055898,"display_name":"Clauber Martins"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691007855,"creation_date":1691007855,"answer_id":76823273,"question_id":76071925,"body_markdown":"Refactor your code like this:\r\n\r\n```\r\nspring.datasource.url=jdbc:h2:mem:testdb\r\nspring.h2.console.enabled=true\r\nspring.h2.console.settings.web-allow-others=true\r\nspring.datasource.driverClassName=org.h2.Driver\r\nspring.datasource.username=root\r\nspring.datasource.password=pass\r\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\r\n```\r\nSo you are allowing remote connections and you can access the h2 database in docker.","title":"Spring Boot H2 db in Docker container","body":"<p>Refactor your code like this:</p>\n<pre><code>spring.datasource.url=jdbc:h2:mem:testdb\nspring.h2.console.enabled=true\nspring.h2.console.settings.web-allow-others=true\nspring.datasource.driverClassName=org.h2.Driver\nspring.datasource.username=root\nspring.datasource.password=pass\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\n</code></pre>\n<p>So you are allowing remote connections and you can access the h2 database in docker.</p>\n"}],"owner":{"account_id":1626038,"reputation":4046,"user_id":1501582,"accept_rate":54,"display_name":"Stefano Maglione"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":603,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1691007855,"creation_date":1682070166,"question_id":76071925,"body_markdown":"I have a basic Spring Boot app running in a container with an in memory H2 database.\r\nI am able to run the container but seems that connection to the db fails.\r\n\r\n```\r\n2023-04-21T10:30:36.542599002Z org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;flywayInitializer&#39; defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Invocation of init method failed; nested exception is org.flywaydb.core.internal.exception.FlywaySqlException: Unable to obtain connection from database: Communications link failure\r\n\r\nSQL State  : 08S01\r\n2023-04-21T09:51:54.117632638Z Error Code : 0\r\n2023-04-21T09:51:54.117636830Z Message    : Communications link failure\r\n\r\n2023-04-21T09:51:54.209294453Z Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure\r\n\r\nCaused by: java.net.ConnectException: Connection refused\r\n```\r\n\r\n```\r\nversion: &#39;3.3&#39;\r\nservices:\r\n  \r\napp:\r\n\r\nbuild:\r\n  context: .\r\n\r\nports:\r\n  - &quot;8080:8080&quot;\r\n\r\ncommand: java -Djava.security.egd=file:/dev/./urandom -Dspring.profiles.active=local -jar /app.jar  \r\n```\r\n\r\nproperties:\r\n\r\n```\r\nspring.datasource.url=jdbc:h2:mem:\r\nspring.datasource.driverClassName=org.h2.Driver\r\nspring.datasource.username=root\r\nspring.datasource.password=pass\r\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\r\n```\r\n\r\ndocker file:\r\n\r\n```\r\nFROM eclipse-temurin:17-jdk-alpine\r\nVOLUME /tmp\r\nCOPY target/*.jar app.jar\r\nEXPOSE 8080\r\n```","title":"Spring Boot H2 db in Docker container","body":"<p>I have a basic Spring Boot app running in a container with an in memory H2 database.\nI am able to run the container but seems that connection to the db fails.</p>\n<pre><code>2023-04-21T10:30:36.542599002Z org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Invocation of init method failed; nested exception is org.flywaydb.core.internal.exception.FlywaySqlException: Unable to obtain connection from database: Communications link failure\n\nSQL State  : 08S01\n2023-04-21T09:51:54.117632638Z Error Code : 0\n2023-04-21T09:51:54.117636830Z Message    : Communications link failure\n\n2023-04-21T09:51:54.209294453Z Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure\n\nCaused by: java.net.ConnectException: Connection refused\n</code></pre>\n<pre><code>version: '3.3'\nservices:\n  \napp:\n\nbuild:\n  context: .\n\nports:\n  - &quot;8080:8080&quot;\n\ncommand: java -Djava.security.egd=file:/dev/./urandom -Dspring.profiles.active=local -jar /app.jar  \n</code></pre>\n<p>properties:</p>\n<pre><code>spring.datasource.url=jdbc:h2:mem:\nspring.datasource.driverClassName=org.h2.Driver\nspring.datasource.username=root\nspring.datasource.password=pass\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\n</code></pre>\n<p>docker file:</p>\n<pre><code>FROM eclipse-temurin:17-jdk-alpine\nVOLUME /tmp\nCOPY target/*.jar app.jar\nEXPOSE 8080\n</code></pre>\n"},{"tags":["java","spring","hibernate","jpa","nhibernate-mapping"],"comments":[{"owner":{"account_id":2595198,"reputation":3707,"user_id":2255293,"display_name":"Marco Behler"},"score":0,"creation_date":1587144294,"post_id":61276947,"comment_id":108403113,"body_markdown":"i don&#39;t know the rest of your source code, but do you have a transaction open in your workflow? when does this exception happen?","body":"i don&#39;t know the rest of your source code, but do you have a transaction open in your workflow? when does this exception happen?"},{"owner":{"account_id":3745976,"reputation":1103,"user_id":3114631,"display_name":"Sachin Kumar"},"score":0,"creation_date":1587187320,"post_id":61276947,"comment_id":108416148,"body_markdown":"@Override\n\tpublic Transaction getTransaction() throws HibernateException {\n\t\tif ( getFactory().getSessionFactoryOptions().getJpaCompliance().isJpaTransactionComplianceEnabled() ) {\n\t\t\t// JPA requires that we throw IllegalStateException if this is called\n\t\t\t// on a JTA EntityManager\n\t\t\tif ( getTransactionCoordinator().getTransactionCoordinatorBuilder().isJta() ) {\n\t\t\t\tif ( !getFactory().getSessionFactoryOptions().isJtaTransactionAccessEnabled() ) {\n\t\t\t\t\tthrow new IllegalStateException( &quot;A JTA EntityManager cannot use getTransaction()&quot; );\n\t\t\t\t}\n\t\t\t}\n\t\t}","body":"@Override \tpublic Transaction getTransaction() throws HibernateException { \t\tif ( getFactory().getSessionFactoryOptions().getJpaCompliance().i&zwnj;&#8203;sJpaTransactionCompl&zwnj;&#8203;ianceEnabled() ) { \t\t\t// JPA requires that we throw IllegalStateException if this is called \t\t\t// on a JTA EntityManager \t\t\tif ( getTransactionCoordinator().getTransactionCoordinatorBuilder&zwnj;&#8203;().isJta() ) { \t\t\t\tif ( !getFactory().getSessionFactoryOptions().isJtaTransactionAcc&zwnj;&#8203;essEnabled() ) { \t\t\t\t\tthrow new IllegalStateException( &quot;A JTA EntityManager cannot use getTransaction()&quot; ); \t\t\t\t} \t\t\t} \t\t}"},{"owner":{"account_id":16704955,"reputation":423,"user_id":15407955,"display_name":"user124"},"score":0,"creation_date":1617103294,"post_id":61276947,"comment_id":118204155,"body_markdown":"can u tell how how u resolved it?","body":"can u tell how how u resolved it?"},{"owner":{"account_id":17336075,"reputation":137,"user_id":12557978,"display_name":"Pluto_rider"},"score":0,"creation_date":1644666048,"post_id":61276947,"comment_id":125670351,"body_markdown":"Have you resolved this issue? if yes please provide the solution. currently facing the same","body":"Have you resolved this issue? if yes please provide the solution. currently facing the same"}],"answers":[{"tags":[],"owner":{"account_id":8396800,"reputation":3955,"user_id":6303579,"display_name":"QuickSilver"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1587144275,"creation_date":1587144275,"answer_id":61277244,"question_id":61276947,"body_markdown":"You have missed dependency injection dataSource for txManager\r\nso the bean entry should look like\r\n```\r\n&lt;bean id=&quot;txManager&quot; class=&quot;org.springframework.orm.hibernate5.HibernateTransactionManager&quot;&gt;\r\n    &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;/&gt;\r\n    &lt;property name=&quot;sessionFactory&quot; ref=&quot;sessionFactoryBean&quot; /&gt;\r\n&lt;/bean&gt;\r\n```\r\n","title":"javax.persistence.TransactionRequiredException: no transaction is in progress in Spring 5","body":"<p>You have missed dependency injection dataSource for txManager\nso the bean entry should look like</p>\n\n<pre><code>&lt;bean id=\"txManager\" class=\"org.springframework.orm.hibernate5.HibernateTransactionManager\"&gt;\n    &lt;property name=\"dataSource\" ref=\"dataSource\"/&gt;\n    &lt;property name=\"sessionFactory\" ref=\"sessionFactoryBean\" /&gt;\n&lt;/bean&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7192553,"reputation":21,"user_id":5492341,"display_name":"Adi G."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658391791,"creation_date":1658391791,"answer_id":73062903,"question_id":61276947,"body_markdown":"For me the solution proposed by QuickSilver didn&#39;t work.\r\nIn my case, I was calling session.flush() and there was, obviously, no transaction left in the session, which caused the above error. Even if I was flushing after the saveOrUpdate(), it seems that the flush occurred soon enough to lead to this error.\r\nRemoving the flush solved my issue.","title":"javax.persistence.TransactionRequiredException: no transaction is in progress in Spring 5","body":"<p>For me the solution proposed by QuickSilver didn't work.\nIn my case, I was calling session.flush() and there was, obviously, no transaction left in the session, which caused the above error. Even if I was flushing after the saveOrUpdate(), it seems that the flush occurred soon enough to lead to this error.\nRemoving the flush solved my issue.</p>\n"},{"tags":[],"owner":{"account_id":20576249,"reputation":51,"user_id":15103375,"display_name":"Sharath"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1660805545,"creation_date":1660315442,"answer_id":73335875,"question_id":61276947,"body_markdown":"Use the below property in hibernate.cfg.xml file\r\n\r\n    property -- &gt;   hibernate.allow_update_outside_transaction = true\r\n\r\nReference:  https://developer.jboss.org/thread/278691\r\n","title":"javax.persistence.TransactionRequiredException: no transaction is in progress in Spring 5","body":"<p>Use the below property in hibernate.cfg.xml file</p>\n<pre><code>property -- &gt;   hibernate.allow_update_outside_transaction = true\n</code></pre>\n<p>Reference:  <a href=\"https://developer.jboss.org/thread/278691\" rel=\"noreferrer\">https://developer.jboss.org/thread/278691</a></p>\n"}],"owner":{"account_id":3745976,"reputation":1103,"user_id":3114631,"display_name":"Sachin Kumar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5325,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1691007272,"creation_date":1587143211,"question_id":61276947,"body_markdown":"I am working a product build in spring 3 and hibernate 3, i have updated this hibernate 5 and Spring 5. Now i am able to deploy the application, but when I try to connect with database then getting this &quot;javax.persistence.TransactionRequiredException: no transaction is in progress&quot;\r\n\r\n\r\n\t&lt;bean id=&quot;sessionFactoryBean&quot;\r\n\t\tclass=&quot;org.springframework.orm.hibernate5.LocalSessionFactoryBean&quot;&gt;\r\n\t\t&lt;property name=&quot;dataSource&quot; ref=&quot;dataSourceBean&quot; /&gt;\r\n\t\t&lt;property name=&quot;annotatedClasses&quot;&gt;\t\t\t\r\n\t\t\t&lt;!-- The model class is incorporated here --&gt;\r\n\t\t\t&lt;list&gt;\t\t\t\t \r\n\t\t\t\t &lt;value&gt;com.test.ab.base.AaUser&lt;/value&gt;\r\n\t\t\t\t &lt;value&gt;com.test.ab.dealer.AaDealer&lt;/value&gt;\r\n               &lt;list&gt;\r\n&lt;/bean&gt;\r\n\r\n\r\n &lt;tx:annotation-driven transaction-manager=&quot;txManager&quot; /&gt; \r\n\t\r\n\t&lt;bean id=&quot;txManager&quot; class=&quot;org.springframework.orm.hibernate5.HibernateTransactionManager&quot;&gt;\r\n    \t&lt;property name=&quot;sessionFactory&quot; ref=&quot;sessionFactoryBean&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\r\n\r\nAnd this is my Dao Layer:\r\n\r\n    public class DatabaseConnection extends HibernateDaoSupport {\r\n    \t \r\n    \tpublic DatabaseConnection (){\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tpublic static String QUERY_PREFIX_COUNT = &quot;SELECT COUNT(*) &quot;;\r\n    \t\r\n    \tprotected void applyNamedParameterToQuery(Query queryObject, String paramName, Object value)\r\n    \t\t\tthrows HibernateException {\r\n    \r\n    \t\tif (value instanceof Collection) {\r\n    \t\t\tqueryObject.setParameterList(paramName, (Collection) value);\r\n    \t\t}\r\n    \t\telse if (value instanceof Object[]) {\r\n    \t\t\tqueryObject.setParameterList(paramName, (Object[]) value);\r\n    \t\t}\r\n    \t\telse {\r\n    \t\t\tqueryObject.setParameter(paramName, value);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprotected String save(Object obj) throws HibernateException {\r\n    \t\treturn getHibernateTemplate().save(obj).toString();\r\n    \t}\r\n    \t\r\n    \tprotected void update(Object obj) throws HibernateException {\r\n    \t\tgetHibernateTemplate().update(obj);\r\n    \t}\r\n    \r\n    \t//this is to be used to attached the detached object in session...\r\n    \tprotected void merge(Object obj) throws HibernateException {\r\n    \t\tgetHibernateTemplate().merge(obj);\r\n    \t}\r\n    \t\r\n    \tprotected void saveOrUpdObj(Object obj) throws HibernateException {\r\n    \t\tgetHibernateTemplate().saveOrUpdate(obj);\r\n    \t}\r\n    }\r\n\r\n\r\n&lt;pre&gt;\r\njavax.persistence.TransactionRequiredException: no transaction is in progress\r\n\tat org.hibernate.internal.AbstractSharedSessionContract.checkTransactionNeededForUpdateOperation(AbstractSharedSessionContract.java:398)\r\n\tat org.hibernate.internal.SessionImpl.checkTransactionNeededForUpdateOperation(SessionImpl.java:3584)\r\n\tat org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1462)\r\n\tat org.hibernate.internal.SessionImpl.flush(SessionImpl.java:1458)\r\n\tat org.springframework.orm.hibernate5.SessionFactoryUtils.flush(SessionFactoryUtils.java:148)\r\n\tat org.springframework.orm.hibernate5.SpringSessionSynchronization.beforeCommit(SpringSessionSynchronization.java:95)\r\n\tat org.springframework.transaction.support.TransactionSynchronizationUtils.triggerBeforeCommit(TransactionSynchronizationUtils.java:96)\r\n\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.triggerBeforeCommit(AbstractPlatformTransactionManager.java:919)\r\n\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:727)\r\n\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:711)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:631)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:118)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212)\r\n\tat com.sun.proxy.$Proxy89.getAllAbModuleUserMapping(Unknown Source)\r\n\tat com.actionbean.ab.base.WelcomeActionManager.fillModules(WelcomeActionManager.java:249)\r\n\tat com.actionbean.ab.base.WelcomeActionManager.createUsrSessBean(WelcomeActionManager.java:211)\r\n\tat com.actionbean.ab.base.WelcomeActionManager.retrieveSessionUserDataInternal(WelcomeActionManager.java:83)\r\n\tat com.actionbean.ab.base.WelcomeActionManager.retrieveSessionUserData(WelcomeActionManager.java:61)\r\n\tat com.actionbean.ab.base.WelcomeAction.performExecute(WelcomeAction.java:47)\r\n\tat com.actionbean.ab.base.BaseAction.execute(BaseAction.java:153)\r\n\tat org.apache.struts.action.RequestProcessor.processActionPerform(RequestProcessor.java:425)\r\n\tat org.apache.struts.action.RequestProcessor.process(RequestProcessor.java:228)\r\n\tat org.apache.struts.action.ActionServlet.process(ActionServlet.java:1913)\r\n\tat org.apache.struts.action.ActionServlet.doPost(ActionServlet.java:462)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:647)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:728)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:303)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\r\n\tat com.actionbean.ab.filter.AbFilter.doFilter(AbFilter.java:51)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:219)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:110)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:444)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:169)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:104)\r\n\tat org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:1025)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:445)\r\n\tat org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1137)\r\n\tat org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:637)\r\n\tat org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:319)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\njavax.persistence.TransactionRequiredException: no transaction is in progress\r\n\tat org.hibernate.internal.AbstractSharedSessionContract.checkTransactionNeededForUpdateOperation(AbstractSharedSessionContract.java:398)\r\n\tat org.hibernate.internal.SessionImpl.checkTransactionNeededForUpdateOperation(SessionImpl.java:3584)\r\n\tat org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1462)\r\n\tat org.hibernate.internal.SessionImpl.flush(SessionImpl.java:1458)\r\n\tat org.springframework.orm.hibernate5.SessionFactoryUtils.flush(SessionFactoryUtils.java:148)\r\n\tat org.springframework.orm.hibernate5.SpringSessionSynchronization.beforeCommit(SpringSessionSynchronization.java:95)\r\n\tat org.springframework.transaction.support.TransactionSynchronizationUtils.triggerBeforeCommit(TransactionSynchronizationUtils.java:96)\r\n\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.triggerBeforeCommit(AbstractPlatformTransactionManager.java:919)\r\n\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:727)\r\n\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:711)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:631)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:118)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212)\r\n\tat com.sun.proxy.$Proxy89.getAllAbModuleUserMapping(Unknown Source)\r\n\tat com.actionbean.ab.base.WelcomeActionManager.fillModules(WelcomeActionManager.java:249)\r\n\tat com.actionbean.ab.base.WelcomeActionManager.createUsrSessBean(WelcomeActionManager.java:211)\r\n\tat com.actionbean.ab.base.WelcomeActionManager.retrieveSessionUserDataInternal(WelcomeActionManager.java:83)\r\n\tat com.actionbean.ab.base.WelcomeActionManager.retrieveSessionUserData(WelcomeActionManager.java:61)\r\n\tat com.actionbean.ab.base.WelcomeAction.performExecute(WelcomeAction.java:47)\r\n\tat com.actionbean.ab.base.BaseAction.execute(BaseAction.java:153)\r\n\tat org.apache.struts.action.RequestProcessor.processActionPerform(RequestProcessor.java:425)\r\n\tat org.apache.struts.action.RequestProcessor.process(RequestProcessor.java:228)\r\n\tat org.apache.struts.action.ActionServlet.process(ActionServlet.java:1913)\r\n\tat org.apache.struts.action.ActionServlet.doPost(ActionServlet.java:462)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:647)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:728)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:303)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\r\n\tat com.actionbean.ab.filter.AbFilter.doFilter(AbFilter.java:51)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:219)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:110)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:444)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:169)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:104)\r\n\tat org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:1025)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:445)\r\n\tat org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1137)\r\n\tat org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:637)\r\n\tat org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:319)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n&lt;/pre&gt;\r\n\r\n\r\n","title":"javax.persistence.TransactionRequiredException: no transaction is in progress in Spring 5","body":"<p>I am working a product build in spring 3 and hibernate 3, i have updated this hibernate 5 and Spring 5. Now i am able to deploy the application, but when I try to connect with database then getting this &quot;javax.persistence.TransactionRequiredException: no transaction is in progress&quot;</p>\n<pre><code>&lt;bean id=&quot;sessionFactoryBean&quot;\n    class=&quot;org.springframework.orm.hibernate5.LocalSessionFactoryBean&quot;&gt;\n    &lt;property name=&quot;dataSource&quot; ref=&quot;dataSourceBean&quot; /&gt;\n    &lt;property name=&quot;annotatedClasses&quot;&gt;          \n        &lt;!-- The model class is incorporated here --&gt;\n        &lt;list&gt;               \n             &lt;value&gt;com.test.ab.base.AaUser&lt;/value&gt;\n             &lt;value&gt;com.test.ab.dealer.AaDealer&lt;/value&gt;\n           &lt;list&gt;\n</code></pre>\n\n<p>&lt;tx:annotation-driven transaction-manager=&quot;txManager&quot; /&gt;</p>\n<pre><code>&lt;bean id=&quot;txManager&quot; class=&quot;org.springframework.orm.hibernate5.HibernateTransactionManager&quot;&gt;\n    &lt;property name=&quot;sessionFactory&quot; ref=&quot;sessionFactoryBean&quot; /&gt;\n&lt;/bean&gt;\n</code></pre>\n<p>And this is my Dao Layer:</p>\n<pre><code>public class DatabaseConnection extends HibernateDaoSupport {\n     \n    public DatabaseConnection (){\n        \n    }\n    \n    public static String QUERY_PREFIX_COUNT = &quot;SELECT COUNT(*) &quot;;\n    \n    protected void applyNamedParameterToQuery(Query queryObject, String paramName, Object value)\n            throws HibernateException {\n\n        if (value instanceof Collection) {\n            queryObject.setParameterList(paramName, (Collection) value);\n        }\n        else if (value instanceof Object[]) {\n            queryObject.setParameterList(paramName, (Object[]) value);\n        }\n        else {\n            queryObject.setParameter(paramName, value);\n        }\n    }\n\n    protected String save(Object obj) throws HibernateException {\n        return getHibernateTemplate().save(obj).toString();\n    }\n    \n    protected void update(Object obj) throws HibernateException {\n        getHibernateTemplate().update(obj);\n    }\n\n    //this is to be used to attached the detached object in session...\n    protected void merge(Object obj) throws HibernateException {\n        getHibernateTemplate().merge(obj);\n    }\n    \n    protected void saveOrUpdObj(Object obj) throws HibernateException {\n        getHibernateTemplate().saveOrUpdate(obj);\n    }\n}\n</code></pre>\n<pre>\njavax.persistence.TransactionRequiredException: no transaction is in progress\n    at org.hibernate.internal.AbstractSharedSessionContract.checkTransactionNeededForUpdateOperation(AbstractSharedSessionContract.java:398)\n    at org.hibernate.internal.SessionImpl.checkTransactionNeededForUpdateOperation(SessionImpl.java:3584)\n    at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1462)\n    at org.hibernate.internal.SessionImpl.flush(SessionImpl.java:1458)\n    at org.springframework.orm.hibernate5.SessionFactoryUtils.flush(SessionFactoryUtils.java:148)\n    at org.springframework.orm.hibernate5.SpringSessionSynchronization.beforeCommit(SpringSessionSynchronization.java:95)\n    at org.springframework.transaction.support.TransactionSynchronizationUtils.triggerBeforeCommit(TransactionSynchronizationUtils.java:96)\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.triggerBeforeCommit(AbstractPlatformTransactionManager.java:919)\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:727)\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:711)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:631)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:118)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212)\n    at com.sun.proxy.$Proxy89.getAllAbModuleUserMapping(Unknown Source)\n    at com.actionbean.ab.base.WelcomeActionManager.fillModules(WelcomeActionManager.java:249)\n    at com.actionbean.ab.base.WelcomeActionManager.createUsrSessBean(WelcomeActionManager.java:211)\n    at com.actionbean.ab.base.WelcomeActionManager.retrieveSessionUserDataInternal(WelcomeActionManager.java:83)\n    at com.actionbean.ab.base.WelcomeActionManager.retrieveSessionUserData(WelcomeActionManager.java:61)\n    at com.actionbean.ab.base.WelcomeAction.performExecute(WelcomeAction.java:47)\n    at com.actionbean.ab.base.BaseAction.execute(BaseAction.java:153)\n    at org.apache.struts.action.RequestProcessor.processActionPerform(RequestProcessor.java:425)\n    at org.apache.struts.action.RequestProcessor.process(RequestProcessor.java:228)\n    at org.apache.struts.action.ActionServlet.process(ActionServlet.java:1913)\n    at org.apache.struts.action.ActionServlet.doPost(ActionServlet.java:462)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:647)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:728)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:303)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\n    at com.actionbean.ab.filter.AbFilter.doFilter(AbFilter.java:51)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:219)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:110)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:444)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:169)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:104)\n    at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:1025)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:445)\n    at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1137)\n    at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:637)\n    at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:319)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.lang.Thread.run(Thread.java:748)\njavax.persistence.TransactionRequiredException: no transaction is in progress\n    at org.hibernate.internal.AbstractSharedSessionContract.checkTransactionNeededForUpdateOperation(AbstractSharedSessionContract.java:398)\n    at org.hibernate.internal.SessionImpl.checkTransactionNeededForUpdateOperation(SessionImpl.java:3584)\n    at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1462)\n    at org.hibernate.internal.SessionImpl.flush(SessionImpl.java:1458)\n    at org.springframework.orm.hibernate5.SessionFactoryUtils.flush(SessionFactoryUtils.java:148)\n    at org.springframework.orm.hibernate5.SpringSessionSynchronization.beforeCommit(SpringSessionSynchronization.java:95)\n    at org.springframework.transaction.support.TransactionSynchronizationUtils.triggerBeforeCommit(TransactionSynchronizationUtils.java:96)\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.triggerBeforeCommit(AbstractPlatformTransactionManager.java:919)\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:727)\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:711)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:631)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:118)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212)\n    at com.sun.proxy.$Proxy89.getAllAbModuleUserMapping(Unknown Source)\n    at com.actionbean.ab.base.WelcomeActionManager.fillModules(WelcomeActionManager.java:249)\n    at com.actionbean.ab.base.WelcomeActionManager.createUsrSessBean(WelcomeActionManager.java:211)\n    at com.actionbean.ab.base.WelcomeActionManager.retrieveSessionUserDataInternal(WelcomeActionManager.java:83)\n    at com.actionbean.ab.base.WelcomeActionManager.retrieveSessionUserData(WelcomeActionManager.java:61)\n    at com.actionbean.ab.base.WelcomeAction.performExecute(WelcomeAction.java:47)\n    at com.actionbean.ab.base.BaseAction.execute(BaseAction.java:153)\n    at org.apache.struts.action.RequestProcessor.processActionPerform(RequestProcessor.java:425)\n    at org.apache.struts.action.RequestProcessor.process(RequestProcessor.java:228)\n    at org.apache.struts.action.ActionServlet.process(ActionServlet.java:1913)\n    at org.apache.struts.action.ActionServlet.doPost(ActionServlet.java:462)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:647)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:728)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:303)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\n    at com.actionbean.ab.filter.AbFilter.doFilter(AbFilter.java:51)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:219)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:110)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:444)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:169)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:104)\n    at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:1025)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:445)\n    at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1137)\n    at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:637)\n    at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:319)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.lang.Thread.run(Thread.java:748)\n</pre>\n"},{"tags":["java","maven","jar","maven-3"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1701607230,"post_id":76822536,"comment_id":136794403,"body_markdown":"What do you mean by `The size of Base Module is large because it has many source files and lot of third party dependencies.` Do you package the source files in your jar file? Why using fat jars as dependencies for others thats the wrong way... never do that....","body":"What do you mean by <code>The size of Base Module is large because it has many source files and lot of third party dependencies.</code> Do you package the source files in your jar file? Why using fat jars as dependencies for others thats the wrong way... never do that...."}],"owner":{"account_id":3401937,"reputation":21,"user_id":2853900,"display_name":"Jaydeep S"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1691006954,"creation_date":1691000078,"question_id":76822536,"body_markdown":"We are converting legacy application from On Premise to Cloud. \r\n\r\nNew Cloud offering has a Micro service architecture. In order to reuse some of the existing code we have used one of the Modules (Base Module - Common code) from On-Prem Project and added it as a dependency in most of Micro services.   \r\n\r\nThe problem here is - Size of the base module dependency is too large roughly 150 MB and since it is included in multiple micro services the fat jar created for most of micro services is also large which in turn increases the overall size.\r\n\r\n\r\n\r\nThe size of Base Module is large because it has many source files and lot of third party dependencies.\r\n\r\nWe tried removing the unnecessary code and keeping only required classes and third party jars but since it is legacy code there are lot of interdependent classes and this thing is just not working even after spending lot of time on cleanup. \r\n\r\nIs there any another way to decrease the size of all micro service&#39;s jar ? \r\n\r\nAlthough I know it is compile time dependency but still - Something like only one fat jar created for Base Module and that is referenced by other micro services but that base module&#39;s fat jar is not bundled in each micro service&#39;s jar.\r\n\r\nOr any other options ","title":"Maven : How to decrease jar size in maven-project?","body":"<p>We are converting legacy application from On Premise to Cloud.</p>\n<p>New Cloud offering has a Micro service architecture. In order to reuse some of the existing code we have used one of the Modules (Base Module - Common code) from On-Prem Project and added it as a dependency in most of Micro services.</p>\n<p>The problem here is - Size of the base module dependency is too large roughly 150 MB and since it is included in multiple micro services the fat jar created for most of micro services is also large which in turn increases the overall size.</p>\n<p>The size of Base Module is large because it has many source files and lot of third party dependencies.</p>\n<p>We tried removing the unnecessary code and keeping only required classes and third party jars but since it is legacy code there are lot of interdependent classes and this thing is just not working even after spending lot of time on cleanup.</p>\n<p>Is there any another way to decrease the size of all micro service's jar ?</p>\n<p>Although I know it is compile time dependency but still - Something like only one fat jar created for Base Module and that is referenced by other micro services but that base module's fat jar is not bundled in each micro service's jar.</p>\n<p>Or any other options</p>\n"},{"tags":["java","spring","javafx"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":4,"creation_date":1690850095,"post_id":76807381,"comment_id":135407401,"body_markdown":"A Spring+JavaFX app for somebody who is a beginner at Java is very ambitious.","body":"A Spring+JavaFX app for somebody who is a beginner at Java is very ambitious."}],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691006932,"creation_date":1691005946,"answer_id":76823114,"question_id":76807381,"body_markdown":"**Making your application non-modular**\r\n\r\nSpring &lt;=6 does not work well or easily with [java platform modules][1] in my experience. \r\n\r\nInstead, make your application non-modular. To do this, remove the `module-info.java` file from your application. \r\n\r\nThen you need JavaFX on your module path. The easiest way to do that IMO is to use a JDK that includes JavaFX, either:\r\n\r\n * Azul Zulu &quot;JDK FX&quot; \r\n\r\nOR \r\n\r\n * Bellsoft Liberica &quot;Full JDK&quot;\r\n\r\nOtherwise, follow the [getting started instructions at openjfx.io][2] for non-modular JavaFX applications.  \r\n\r\n**My thoughts on Spring 6 with Java Platform Modules**\r\n\r\nSpring 6 (and Spring Boot 3) [can be made to work in a modular application][3] with some effort.  \r\n\r\nUsing Spring components as modules means that many of the components and their transitive dependencies are deployed as [automatic modules][4].  Automatic modules differ from well-defined modules.  Automatic modules do not include a module definition in a `module-info` file.  \r\n\r\nThe use of automatic modules means that you can&#39;t take advantage of benefits that you would otherwise receive from the module system.  For instance, at least with Java 20, you can&#39;t use [`jlink`][5] to package a runtime that includes automatic modules.  By creating a modular project that uses Spring modules in automatic module form, you receive many of the difficulties of creating such a modular application while realizing only a few of the benefits.  It is a bitter pill with little upside.\r\n\r\nIMO, it is just not worth the effort to use Spring 6 or SpringBoot 3 in a modular JavaFX 20 application.  Instead, SpringBoot 3 in a non-modular JavaFX 20 application is recommended.\r\n\r\nPerhaps a future upgrade of Spring will make it more module friendly and thus change the recommendation, perhaps not.\r\n\r\n\r\n  [1]: https://www.oracle.com/corporate/features/understanding-java-9-modules.html\r\n  [2]: https://openjfx.io/openjfx-docs/\r\n  [3]: https://developer.okta.com/blog/2020/07/27/spring-boot-using-java-modules\r\n  [4]: https://stackoverflow.com/questions/46741907/what-is-an-automatic-module\r\n  [5]: https://docs.oracle.com/en/java/javase/20/docs/specs/man/jlink.html","title":"IllegalAccessError in unnamed module using springframework","body":"<p><strong>Making your application non-modular</strong></p>\n<p>Spring &lt;=6 does not work well or easily with <a href=\"https://www.oracle.com/corporate/features/understanding-java-9-modules.html\" rel=\"nofollow noreferrer\">java platform modules</a> in my experience.</p>\n<p>Instead, make your application non-modular. To do this, remove the <code>module-info.java</code> file from your application.</p>\n<p>Then you need JavaFX on your module path. The easiest way to do that IMO is to use a JDK that includes JavaFX, either:</p>\n<ul>\n<li>Azul Zulu &quot;JDK FX&quot;</li>\n</ul>\n<p>OR</p>\n<ul>\n<li>Bellsoft Liberica &quot;Full JDK&quot;</li>\n</ul>\n<p>Otherwise, follow the <a href=\"https://openjfx.io/openjfx-docs/\" rel=\"nofollow noreferrer\">getting started instructions at openjfx.io</a> for non-modular JavaFX applications.</p>\n<p><strong>My thoughts on Spring 6 with Java Platform Modules</strong></p>\n<p>Spring 6 (and Spring Boot 3) <a href=\"https://developer.okta.com/blog/2020/07/27/spring-boot-using-java-modules\" rel=\"nofollow noreferrer\">can be made to work in a modular application</a> with some effort.</p>\n<p>Using Spring components as modules means that many of the components and their transitive dependencies are deployed as <a href=\"https://stackoverflow.com/questions/46741907/what-is-an-automatic-module\">automatic modules</a>.  Automatic modules differ from well-defined modules.  Automatic modules do not include a module definition in a <code>module-info</code> file.</p>\n<p>The use of automatic modules means that you can't take advantage of benefits that you would otherwise receive from the module system.  For instance, at least with Java 20, you can't use <a href=\"https://docs.oracle.com/en/java/javase/20/docs/specs/man/jlink.html\" rel=\"nofollow noreferrer\"><code>jlink</code></a> to package a runtime that includes automatic modules.  By creating a modular project that uses Spring modules in automatic module form, you receive many of the difficulties of creating such a modular application while realizing only a few of the benefits.  It is a bitter pill with little upside.</p>\n<p>IMO, it is just not worth the effort to use Spring 6 or SpringBoot 3 in a modular JavaFX 20 application.  Instead, SpringBoot 3 in a non-modular JavaFX 20 application is recommended.</p>\n<p>Perhaps a future upgrade of Spring will make it more module friendly and thus change the recommendation, perhaps not.</p>\n"}],"owner":{"account_id":29131860,"reputation":31,"user_id":22316931,"display_name":"mjsick1"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1691006932,"creation_date":1690840895,"question_id":76807381,"body_markdown":"I&#39;ve been trying to solve this error for hours and just cannot figure it out. I&#39;m integrating JavaFX, Spring, and several other dependencies in this application, and it&#39;s being built using Maven. It seems like the issue is maybe something with my Spring compatibility with my jdk version or my javafx version? Or maybe its my code or my module-info file. I have no clue, but I need some help diagnosing what this issue is. I&#39;m pretty much a beginner at Java, so I may be way off as to what&#39;s causing this. Here&#39;s my full error:\r\n\r\n    java.lang.IllegalStateException: Unable to load cache item\r\n    at org.springframework.cglib.core.internal.LoadingCache.createEntry(LoadingCache.java:75) \\~\\[spring-core-6.0.11.jar:6.0.11\\]\r\n    at org.springframework.cglib.core.internal.LoadingCache.get(LoadingCache.java:34) \\~\\[spring-core-6.0.11.jar:6.0.11\\]\r\n    at org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData.get(AbstractClassGenerator.java:130) \\~\\[spring-core-6.0.11.jar:6.0.11\\]\r\n    at org.springframework.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:317) \\~\\[spring-core-6.0.11.jar:6.0.11\\]\r\n    at org.springframework.cglib.proxy.Enhancer.createHelper(Enhancer.java:562) \\~\\[spring-core-6.0.11.jar:6.0.11\\]\r\n    at org.springframework.cglib.proxy.Enhancer.createClass(Enhancer.java:407) \\~\\[spring-core-6.0.11.jar:6.0.11\\]\r\n    at spring.context@6.0.11/org.springframework.context.annotation.ConfigurationClassEnhancer.createClass(ConfigurationClassEnhancer.java:138) \\~\\[spring-context-6.0.11.jar:na\\]\r\n    at spring.context@6.0.11/org.springframework.context.annotation.ConfigurationClassEnhancer.enhance(ConfigurationClassEnhancer.java:109) \\~\\[spring-context-6.0.11.jar:na\\]\r\n    at spring.context@6.0.11/org.springframework.context.annotation.ConfigurationClassPostProcessor.enhanceConfigurationClasses(ConfigurationClassPostProcessor.java:531) \\~\\[spring-context-6.0.11.jar:na\\]\r\n    at spring.context@6.0.11/org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanFactory(ConfigurationClassPostProcessor.java:308) \\~\\[spring-context-6.0.11.jar:na\\]\r\n    at spring.context@6.0.11/org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:358) \\~\\[spring-context-6.0.11.jar:na\\]\r\n    at spring.context@6.0.11/org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:150) \\~\\[spring-context-6.0.11.jar:na\\]\r\n    at spring.context@6.0.11/org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:771) \\~\\[spring-context-6.0.11.jar:na\\]\r\n    at spring.context@6.0.11/org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:589) \\~\\[spring-context-6.0.11.jar:na\\]\r\n    at spring.boot@3.1.2/org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) \\~\\[spring-boot-3.1.2.jar:na\\]\r\n    at spring.boot@3.1.2/org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) \\~\\[spring-boot-3.1.2.jar:na\\]\r\n    at spring.boot@3.1.2/org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436) \\~\\[spring-boot-3.1.2.jar:na\\]\r\n    at spring.boot@3.1.2/org.springframework.boot.SpringApplication.run(SpringApplication.java:312) \\~\\[spring-boot-3.1.2.jar:na\\]\r\n    at spring.boot@3.1.2/org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) \\~\\[spring-boot-3.1.2.jar:na\\]\r\n    at spring.boot@3.1.2/org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) \\~\\[spring-boot-3.1.2.jar:na\\]\r\n    at com.haven.hipmobileapp/com.haven.hipmobileapp.EmailSubmitScreen.start(EmailSubmitScreen.java:21) \\~\\[classes/:na\\]\r\n    at javafx.graphics@20.0.1/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:839) \\~\\[javafx-graphics-20.0.1-mac-aarch64.jar:na\\]\r\n    at javafx.graphics@20.0.1/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:483) \\~\\[javafx-graphics-20.0.1-mac-aarch64.jar:na\\]\r\n    at javafx.graphics@20.0.1/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:456) \\~\\[javafx-graphics-20.0.1-mac-aarch64.jar:na\\]\r\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:400) \\~\\[na:na\\]\r\n    at javafx.graphics@20.0.1/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:455) \\~\\[javafx-graphics-20.0.1-mac-aarch64.jar:na\\]\r\n    at javafx.graphics@20.0.1/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:95) \\~\\[javafx-graphics-20.0.1-mac-aarch64.jar:na\\]\r\n    Caused by: java.lang.IllegalAccessError: class com.haven.hipmobileapp.EmailSubmitScreen$$SpringCGLIB$$0 (in module com.haven.hipmobileapp) cannot access class org.springframework.cglib.core.ReflectUtils (in unnamed module @0x63bae4c7) because module com.haven.hipmobileapp does not read unnamed module @0x63bae4c7\r\n    at com.haven.hipmobileapp/com.haven.hipmobileapp.EmailSubmitScreen$$SpringCGLIB$$0.CGLIB$STATICHOOK1(\\&lt;generated\\&gt;) \\~\\[classes/:na\\]\r\n    at com.haven.hipmobileapp/com.haven.hipmobileapp.EmailSubmitScreen$$SpringCGLIB$$0.\\&lt;clinit\\&gt;(\\&lt;generated\\&gt;) \\~\\[classes/:na\\]\r\n    at java.base/java.lang.Class.forName0(Native Method) \\~\\[na:na\\]\r\n    at java.base/java.lang.Class.forName(Class.java:496) \\~\\[na:na\\]\r\n    at java.base/java.lang.Class.forName(Class.java:475) \\~\\[na:na\\]\r\n    at org.springframework.cglib.core.ReflectUtils.defineClass(ReflectUtils.java:551) \\~\\[spring-core-6.0.11.jar:6.0.11\\]\r\n    at org.springframework.cglib.core.AbstractClassGenerator.generate(AbstractClassGenerator.java:371) \\~\\[spring-core-6.0.11.jar:6.0.11\\]\r\n    at org.springframework.cglib.proxy.Enhancer.generate(Enhancer.java:575) \\~\\[spring-core-6.0.11.jar:6.0.11\\]\r\n    at org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData.lambda$new$1(AbstractClassGenerator.java:107) \\~\\[spring-core-6.0.11.jar:6.0.11\\]\r\n    at org.springframework.cglib.core.internal.LoadingCache.lambda$createEntry$1(LoadingCache.java:52) \\~\\[spring-core-6.0.11.jar:6.0.11\\]\r\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) \\~\\[na:na\\]\r\n    at org.springframework.cglib.core.internal.LoadingCache.createEntry(LoadingCache.java:57) \\~\\[spring-core-6.0.11.jar:6.0.11\\]\r\n    ... 26 common frames omitted\r\n    \r\n    Exception in Application start method\r\n    Exception in Application stop method\r\n    java.lang.reflect.InvocationTargetException\r\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:119)\r\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n    at javafx.graphics@20.0.1/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:464)\r\n    at javafx.graphics@20.0.1/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:363)\r\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n    at java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1081)\r\n    Caused by: java.lang.RuntimeException: Exception in Application start method\r\n    at javafx.graphics@20.0.1/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:893)\r\n    at javafx.graphics@20.0.1/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:195)\r\n    at java.base/java.lang.Thread.run(Thread.java:1623)\r\n    Caused by: java.lang.IllegalStateException: Unable to load cache item\r\n    at org.springframework.cglib.core.internal.LoadingCache.createEntry(LoadingCache.java:75)\r\n    at org.springframework.cglib.core.internal.LoadingCache.get(LoadingCache.java:34)\r\n    at org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData.get(AbstractClassGenerator.java:130)\r\n    at org.springframework.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:317)\r\n    at org.springframework.cglib.proxy.Enhancer.createHelper(Enhancer.java:562)\r\n    at org.springframework.cglib.proxy.Enhancer.createClass(Enhancer.java:407)\r\n    at spring.context@6.0.11/org.springframework.context.annotation.ConfigurationClassEnhancer.createClass(ConfigurationClassEnhancer.java:138)\r\n    at spring.context@6.0.11/org.springframework.context.annotation.ConfigurationClassEnhancer.enhance(ConfigurationClassEnhancer.java:109)\r\n    at spring.context@6.0.11/org.springframework.context.annotation.ConfigurationClassPostProcessor.enhanceConfigurationClasses(ConfigurationClassPostProcessor.java:531)\r\n    at spring.context@6.0.11/org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanFactory(ConfigurationClassPostProcessor.java:308)\r\n    at spring.context@6.0.11/org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:358)\r\n    at spring.context@6.0.11/org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:150)\r\n    at spring.context@6.0.11/org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:771)\r\n    at spring.context@6.0.11/org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:589)\r\n    at spring.boot@3.1.2/org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)\r\n    at spring.boot@3.1.2/org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)\r\n    at spring.boot@3.1.2/org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436)\r\n    at spring.boot@3.1.2/org.springframework.boot.SpringApplication.run(SpringApplication.java:312)\r\n    at spring.boot@3.1.2/org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)\r\n    at spring.boot@3.1.2/org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)\r\n    at com.haven.hipmobileapp/com.haven.hipmobileapp.EmailSubmitScreen.start(EmailSubmitScreen.java:21)\r\n    at javafx.graphics@20.0.1/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:839)\r\n    at javafx.graphics@20.0.1/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:483)\r\n    at javafx.graphics@20.0.1/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:456)\r\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)\r\n    at javafx.graphics@20.0.1/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:455)\r\n    at javafx.graphics@20.0.1/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:95)\r\n    Caused by: java.lang.IllegalAccessError: class com.haven.hipmobileapp.EmailSubmitScreen$$SpringCGLIB$$0 (in module com.haven.hipmobileapp) cannot access class org.springframework.cglib.core.ReflectUtils (in unnamed module @0x63bae4c7) because module com.haven.hipmobileapp does not read unnamed module @0x63bae4c7\r\n    at com.haven.hipmobileapp/com.haven.hipmobileapp.EmailSubmitScreen$$SpringCGLIB$$0.CGLIB$STATICHOOK1(\\&lt;generated\\&gt;)\r\n    at com.haven.hipmobileapp/com.haven.hipmobileapp.EmailSubmitScreen$$SpringCGLIB$$0.\\&lt;clinit\\&gt;(\\&lt;generated\\&gt;)\r\n    at java.base/java.lang.Class.forName0(Native Method)\r\n    at java.base/java.lang.Class.forName(Class.java:496)\r\n    at java.base/java.lang.Class.forName(Class.java:475)\r\n    at org.springframework.cglib.core.ReflectUtils.defineClass(ReflectUtils.java:551)\r\n    at org.springframework.cglib.core.AbstractClassGenerator.generate(AbstractClassGenerator.java:371)\r\n    at org.springframework.cglib.proxy.Enhancer.generate(Enhancer.java:575)\r\n    at org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData.lambda$new$1(AbstractClassGenerator.java:107)\r\n    at org.springframework.cglib.core.internal.LoadingCache.lambda$createEntry$1(LoadingCache.java:52)\r\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)\r\n    at org.springframework.cglib.core.internal.LoadingCache.createEntry(LoadingCache.java:57)\r\n    ... 26 more\r\n    Exception running application com.haven.hipmobileapp.EmailSubmitScreen\r\n    \r\n    Process finished with exit code 1\r\n\r\nHere&#39;s my code for my main class:\r\n\r\n```\r\npackage com.haven.hipmobileapp;\r\n\r\nimport javafx.application.Application;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Parent;\r\nimport javafx.scene.Scene;\r\nimport javafx.stage.Stage;\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.context.ConfigurableApplicationContext;\r\nimport net.rgielen.fxweaver.core.FxWeaver;\r\n\r\n@SpringBootApplication\r\npublic class EmailSubmitScreen extends Application {\r\n\r\n    private ConfigurableApplicationContext applicationContext;\r\n\r\n    @Override\r\n    public void start(Stage primaryStage) throws Exception {\r\n\r\n        applicationContext = SpringApplication.run(EmailSubmitScreen.class);\r\n        // Get the FxWeaver instance from the Spring context\r\n        FxWeaver fxWeaver = applicationContext.getBean(FxWeaver.class);\r\n\r\n        // Load FXML file with FxWeaver\r\n        Parent root = fxWeaver.loadView(EmailInputController.class);\r\n\r\n        // Create the scene and set it on the stage\r\n        Scene scene = new Scene(root, 800, 600);\r\n        primaryStage.setScene(scene);\r\n        primaryStage.show();\r\n    }\r\n\r\n    @Override\r\n    public void stop() throws Exception{\r\n        // Close the Spring context\r\n        applicationContext.close();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        // Launch the JavaFX application\r\n        launch(args);\r\n    }\r\n}\r\n`\r\n```\r\n\r\nHere&#39;s my controller class:\r\n\r\n```\r\npackage com.haven.hipmobileapp;\r\n\r\nimport javafx.event.Event;\r\nimport javafx.fxml.FXML;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.control.TextField;\r\nimport net.rgielen.fxweaver.core.FxmlView;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Controller;\r\n\r\n@Controller\r\n@FxmlView(&quot;/com/haven/hipmobileapp/EmailMenu.fxml&quot;)\r\npublic class EmailInputController {\r\n\r\n    @Autowired\r\n    private UserService userService;\r\n\r\n    @FXML\r\n    private TextField emailTextField;\r\n\r\n    @FXML\r\n    private Button submitButton;\r\n\r\n    public EmailInputController(){\r\n\r\n    }\r\n\r\n\r\n    // Constructor to inject the UserService\r\n\r\n    // This method will be called when the submit button is tapped or clicked\r\n    @FXML\r\n    private void handleSubmitButtonAction(Event event) {\r\n        String email = emailTextField.getText();\r\n\r\n        // Generate temporary password\r\n        String tempPassword = PasswordGenerator.generateTemporaryPassword(15);\r\n        String encodedPassword = PasswordGenerator.encodePassword(tempPassword);\r\n\r\n        // Use the UserService to register the user\r\n        User registeredUser = userService.registerUser(email, encodedPassword);\r\n        // Clear the email text field\r\n        emailTextField.clear();\r\n\r\n        // Display a message to the user\r\n        if (registeredUser != null) {\r\n            System.out.println(&quot;User registered with email: &quot; + email);\r\n        } else {\r\n            System.out.println(&quot;User registration failed.&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nHere&#39;s the service being called:\r\n\r\n```\r\npackage com.haven.hipmobileapp;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.security.crypto.password.PasswordEncoder;\r\nimport org.springframework.stereotype.Component;\r\nimport org.springframework.stereotype.Service;\r\n\r\n@Service\r\npublic class UserService {\r\n\r\n    private final UserRepository userRepository;\r\n    private final PasswordEncoder passwordEncoder;\r\n\r\n    @Autowired\r\n    public UserService(UserRepository userRepository, PasswordEncoder passwordEncoder) {\r\n        this.userRepository = userRepository;\r\n        this.passwordEncoder = passwordEncoder;\r\n    }\r\n\r\n    public User registerUser(String email, String encodedPassword) {\r\n        // Encode the user&#39;s password using BCryptPasswordEncoder\r\n        if (userRepository.existsByEmail(email)){\r\n            return null;\r\n    }\r\n\r\n        // Create a new user object and save it to the database\r\n        User newUser = new User(email, encodedPassword);\r\n       return userRepository.save(newUser);\r\n    }\r\n}\r\n```\r\n\r\n\r\nI&#39;ve tried to add ALL-UNNAMED for the module in my JVM arguments but that hasn&#39;t worked. Happy to provide any other info needed.\r\n","title":"IllegalAccessError in unnamed module using springframework","body":"<p>I've been trying to solve this error for hours and just cannot figure it out. I'm integrating JavaFX, Spring, and several other dependencies in this application, and it's being built using Maven. It seems like the issue is maybe something with my Spring compatibility with my jdk version or my javafx version? Or maybe its my code or my module-info file. I have no clue, but I need some help diagnosing what this issue is. I'm pretty much a beginner at Java, so I may be way off as to what's causing this. Here's my full error:</p>\n<pre><code>java.lang.IllegalStateException: Unable to load cache item\nat org.springframework.cglib.core.internal.LoadingCache.createEntry(LoadingCache.java:75) \\~\\[spring-core-6.0.11.jar:6.0.11\\]\nat org.springframework.cglib.core.internal.LoadingCache.get(LoadingCache.java:34) \\~\\[spring-core-6.0.11.jar:6.0.11\\]\nat org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData.get(AbstractClassGenerator.java:130) \\~\\[spring-core-6.0.11.jar:6.0.11\\]\nat org.springframework.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:317) \\~\\[spring-core-6.0.11.jar:6.0.11\\]\nat org.springframework.cglib.proxy.Enhancer.createHelper(Enhancer.java:562) \\~\\[spring-core-6.0.11.jar:6.0.11\\]\nat org.springframework.cglib.proxy.Enhancer.createClass(Enhancer.java:407) \\~\\[spring-core-6.0.11.jar:6.0.11\\]\nat spring.context@6.0.11/org.springframework.context.annotation.ConfigurationClassEnhancer.createClass(ConfigurationClassEnhancer.java:138) \\~\\[spring-context-6.0.11.jar:na\\]\nat spring.context@6.0.11/org.springframework.context.annotation.ConfigurationClassEnhancer.enhance(ConfigurationClassEnhancer.java:109) \\~\\[spring-context-6.0.11.jar:na\\]\nat spring.context@6.0.11/org.springframework.context.annotation.ConfigurationClassPostProcessor.enhanceConfigurationClasses(ConfigurationClassPostProcessor.java:531) \\~\\[spring-context-6.0.11.jar:na\\]\nat spring.context@6.0.11/org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanFactory(ConfigurationClassPostProcessor.java:308) \\~\\[spring-context-6.0.11.jar:na\\]\nat spring.context@6.0.11/org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:358) \\~\\[spring-context-6.0.11.jar:na\\]\nat spring.context@6.0.11/org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:150) \\~\\[spring-context-6.0.11.jar:na\\]\nat spring.context@6.0.11/org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:771) \\~\\[spring-context-6.0.11.jar:na\\]\nat spring.context@6.0.11/org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:589) \\~\\[spring-context-6.0.11.jar:na\\]\nat spring.boot@3.1.2/org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) \\~\\[spring-boot-3.1.2.jar:na\\]\nat spring.boot@3.1.2/org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) \\~\\[spring-boot-3.1.2.jar:na\\]\nat spring.boot@3.1.2/org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436) \\~\\[spring-boot-3.1.2.jar:na\\]\nat spring.boot@3.1.2/org.springframework.boot.SpringApplication.run(SpringApplication.java:312) \\~\\[spring-boot-3.1.2.jar:na\\]\nat spring.boot@3.1.2/org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) \\~\\[spring-boot-3.1.2.jar:na\\]\nat spring.boot@3.1.2/org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) \\~\\[spring-boot-3.1.2.jar:na\\]\nat com.haven.hipmobileapp/com.haven.hipmobileapp.EmailSubmitScreen.start(EmailSubmitScreen.java:21) \\~\\[classes/:na\\]\nat javafx.graphics@20.0.1/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:839) \\~\\[javafx-graphics-20.0.1-mac-aarch64.jar:na\\]\nat javafx.graphics@20.0.1/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:483) \\~\\[javafx-graphics-20.0.1-mac-aarch64.jar:na\\]\nat javafx.graphics@20.0.1/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:456) \\~\\[javafx-graphics-20.0.1-mac-aarch64.jar:na\\]\nat java.base/java.security.AccessController.doPrivileged(AccessController.java:400) \\~\\[na:na\\]\nat javafx.graphics@20.0.1/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:455) \\~\\[javafx-graphics-20.0.1-mac-aarch64.jar:na\\]\nat javafx.graphics@20.0.1/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:95) \\~\\[javafx-graphics-20.0.1-mac-aarch64.jar:na\\]\nCaused by: java.lang.IllegalAccessError: class com.haven.hipmobileapp.EmailSubmitScreen$$SpringCGLIB$$0 (in module com.haven.hipmobileapp) cannot access class org.springframework.cglib.core.ReflectUtils (in unnamed module @0x63bae4c7) because module com.haven.hipmobileapp does not read unnamed module @0x63bae4c7\nat com.haven.hipmobileapp/com.haven.hipmobileapp.EmailSubmitScreen$$SpringCGLIB$$0.CGLIB$STATICHOOK1(\\&lt;generated\\&gt;) \\~\\[classes/:na\\]\nat com.haven.hipmobileapp/com.haven.hipmobileapp.EmailSubmitScreen$$SpringCGLIB$$0.\\&lt;clinit\\&gt;(\\&lt;generated\\&gt;) \\~\\[classes/:na\\]\nat java.base/java.lang.Class.forName0(Native Method) \\~\\[na:na\\]\nat java.base/java.lang.Class.forName(Class.java:496) \\~\\[na:na\\]\nat java.base/java.lang.Class.forName(Class.java:475) \\~\\[na:na\\]\nat org.springframework.cglib.core.ReflectUtils.defineClass(ReflectUtils.java:551) \\~\\[spring-core-6.0.11.jar:6.0.11\\]\nat org.springframework.cglib.core.AbstractClassGenerator.generate(AbstractClassGenerator.java:371) \\~\\[spring-core-6.0.11.jar:6.0.11\\]\nat org.springframework.cglib.proxy.Enhancer.generate(Enhancer.java:575) \\~\\[spring-core-6.0.11.jar:6.0.11\\]\nat org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData.lambda$new$1(AbstractClassGenerator.java:107) \\~\\[spring-core-6.0.11.jar:6.0.11\\]\nat org.springframework.cglib.core.internal.LoadingCache.lambda$createEntry$1(LoadingCache.java:52) \\~\\[spring-core-6.0.11.jar:6.0.11\\]\nat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) \\~\\[na:na\\]\nat org.springframework.cglib.core.internal.LoadingCache.createEntry(LoadingCache.java:57) \\~\\[spring-core-6.0.11.jar:6.0.11\\]\n... 26 common frames omitted\n\nException in Application start method\nException in Application stop method\njava.lang.reflect.InvocationTargetException\nat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:119)\nat java.base/java.lang.reflect.Method.invoke(Method.java:578)\nat javafx.graphics@20.0.1/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:464)\nat javafx.graphics@20.0.1/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:363)\nat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\nat java.base/java.lang.reflect.Method.invoke(Method.java:578)\nat java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1081)\nCaused by: java.lang.RuntimeException: Exception in Application start method\nat javafx.graphics@20.0.1/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:893)\nat javafx.graphics@20.0.1/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:195)\nat java.base/java.lang.Thread.run(Thread.java:1623)\nCaused by: java.lang.IllegalStateException: Unable to load cache item\nat org.springframework.cglib.core.internal.LoadingCache.createEntry(LoadingCache.java:75)\nat org.springframework.cglib.core.internal.LoadingCache.get(LoadingCache.java:34)\nat org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData.get(AbstractClassGenerator.java:130)\nat org.springframework.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:317)\nat org.springframework.cglib.proxy.Enhancer.createHelper(Enhancer.java:562)\nat org.springframework.cglib.proxy.Enhancer.createClass(Enhancer.java:407)\nat spring.context@6.0.11/org.springframework.context.annotation.ConfigurationClassEnhancer.createClass(ConfigurationClassEnhancer.java:138)\nat spring.context@6.0.11/org.springframework.context.annotation.ConfigurationClassEnhancer.enhance(ConfigurationClassEnhancer.java:109)\nat spring.context@6.0.11/org.springframework.context.annotation.ConfigurationClassPostProcessor.enhanceConfigurationClasses(ConfigurationClassPostProcessor.java:531)\nat spring.context@6.0.11/org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanFactory(ConfigurationClassPostProcessor.java:308)\nat spring.context@6.0.11/org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:358)\nat spring.context@6.0.11/org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:150)\nat spring.context@6.0.11/org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:771)\nat spring.context@6.0.11/org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:589)\nat spring.boot@3.1.2/org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)\nat spring.boot@3.1.2/org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)\nat spring.boot@3.1.2/org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436)\nat spring.boot@3.1.2/org.springframework.boot.SpringApplication.run(SpringApplication.java:312)\nat spring.boot@3.1.2/org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)\nat spring.boot@3.1.2/org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)\nat com.haven.hipmobileapp/com.haven.hipmobileapp.EmailSubmitScreen.start(EmailSubmitScreen.java:21)\nat javafx.graphics@20.0.1/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:839)\nat javafx.graphics@20.0.1/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:483)\nat javafx.graphics@20.0.1/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:456)\nat java.base/java.security.AccessController.doPrivileged(AccessController.java:400)\nat javafx.graphics@20.0.1/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:455)\nat javafx.graphics@20.0.1/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:95)\nCaused by: java.lang.IllegalAccessError: class com.haven.hipmobileapp.EmailSubmitScreen$$SpringCGLIB$$0 (in module com.haven.hipmobileapp) cannot access class org.springframework.cglib.core.ReflectUtils (in unnamed module @0x63bae4c7) because module com.haven.hipmobileapp does not read unnamed module @0x63bae4c7\nat com.haven.hipmobileapp/com.haven.hipmobileapp.EmailSubmitScreen$$SpringCGLIB$$0.CGLIB$STATICHOOK1(\\&lt;generated\\&gt;)\nat com.haven.hipmobileapp/com.haven.hipmobileapp.EmailSubmitScreen$$SpringCGLIB$$0.\\&lt;clinit\\&gt;(\\&lt;generated\\&gt;)\nat java.base/java.lang.Class.forName0(Native Method)\nat java.base/java.lang.Class.forName(Class.java:496)\nat java.base/java.lang.Class.forName(Class.java:475)\nat org.springframework.cglib.core.ReflectUtils.defineClass(ReflectUtils.java:551)\nat org.springframework.cglib.core.AbstractClassGenerator.generate(AbstractClassGenerator.java:371)\nat org.springframework.cglib.proxy.Enhancer.generate(Enhancer.java:575)\nat org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData.lambda$new$1(AbstractClassGenerator.java:107)\nat org.springframework.cglib.core.internal.LoadingCache.lambda$createEntry$1(LoadingCache.java:52)\nat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)\nat org.springframework.cglib.core.internal.LoadingCache.createEntry(LoadingCache.java:57)\n... 26 more\nException running application com.haven.hipmobileapp.EmailSubmitScreen\n\nProcess finished with exit code 1\n</code></pre>\n<p>Here's my code for my main class:</p>\n<pre><code>package com.haven.hipmobileapp;\n\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.ConfigurableApplicationContext;\nimport net.rgielen.fxweaver.core.FxWeaver;\n\n@SpringBootApplication\npublic class EmailSubmitScreen extends Application {\n\n    private ConfigurableApplicationContext applicationContext;\n\n    @Override\n    public void start(Stage primaryStage) throws Exception {\n\n        applicationContext = SpringApplication.run(EmailSubmitScreen.class);\n        // Get the FxWeaver instance from the Spring context\n        FxWeaver fxWeaver = applicationContext.getBean(FxWeaver.class);\n\n        // Load FXML file with FxWeaver\n        Parent root = fxWeaver.loadView(EmailInputController.class);\n\n        // Create the scene and set it on the stage\n        Scene scene = new Scene(root, 800, 600);\n        primaryStage.setScene(scene);\n        primaryStage.show();\n    }\n\n    @Override\n    public void stop() throws Exception{\n        // Close the Spring context\n        applicationContext.close();\n    }\n\n    public static void main(String[] args) {\n        // Launch the JavaFX application\n        launch(args);\n    }\n}\n`\n</code></pre>\n<p>Here's my controller class:</p>\n<pre><code>package com.haven.hipmobileapp;\n\nimport javafx.event.Event;\nimport javafx.fxml.FXML;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.TextField;\nimport net.rgielen.fxweaver.core.FxmlView;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Controller;\n\n@Controller\n@FxmlView(&quot;/com/haven/hipmobileapp/EmailMenu.fxml&quot;)\npublic class EmailInputController {\n\n    @Autowired\n    private UserService userService;\n\n    @FXML\n    private TextField emailTextField;\n\n    @FXML\n    private Button submitButton;\n\n    public EmailInputController(){\n\n    }\n\n\n    // Constructor to inject the UserService\n\n    // This method will be called when the submit button is tapped or clicked\n    @FXML\n    private void handleSubmitButtonAction(Event event) {\n        String email = emailTextField.getText();\n\n        // Generate temporary password\n        String tempPassword = PasswordGenerator.generateTemporaryPassword(15);\n        String encodedPassword = PasswordGenerator.encodePassword(tempPassword);\n\n        // Use the UserService to register the user\n        User registeredUser = userService.registerUser(email, encodedPassword);\n        // Clear the email text field\n        emailTextField.clear();\n\n        // Display a message to the user\n        if (registeredUser != null) {\n            System.out.println(&quot;User registered with email: &quot; + email);\n        } else {\n            System.out.println(&quot;User registration failed.&quot;);\n        }\n    }\n}\n</code></pre>\n<p>Here's the service being called:</p>\n<pre><code>package com.haven.hipmobileapp;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.stereotype.Component;\nimport org.springframework.stereotype.Service;\n\n@Service\npublic class UserService {\n\n    private final UserRepository userRepository;\n    private final PasswordEncoder passwordEncoder;\n\n    @Autowired\n    public UserService(UserRepository userRepository, PasswordEncoder passwordEncoder) {\n        this.userRepository = userRepository;\n        this.passwordEncoder = passwordEncoder;\n    }\n\n    public User registerUser(String email, String encodedPassword) {\n        // Encode the user's password using BCryptPasswordEncoder\n        if (userRepository.existsByEmail(email)){\n            return null;\n    }\n\n        // Create a new user object and save it to the database\n        User newUser = new User(email, encodedPassword);\n       return userRepository.save(newUser);\n    }\n}\n</code></pre>\n<p>I've tried to add ALL-UNNAMED for the module in my JVM arguments but that hasn't worked. Happy to provide any other info needed.</p>\n"},{"tags":["java","debugging"],"owner":{"account_id":29081477,"reputation":1,"user_id":22288144,"display_name":"Nicole"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1690986831,"answer_count":0,"score":0,"last_activity_date":1691005787,"creation_date":1690985273,"question_id":76820722,"body_markdown":"Right now the code works but, it prints out line 3 even though there is no data for number 3 so it follows with a bunch of zeros. How can I skip blanks instead?\r\n\r\n\r\n    //DataManager.java\r\n    \r\n    \r\n    import java.io.*;\r\n    \r\n    public class DataManager {\r\n        public static void main(String[] args) {\r\n            DataManager dataManager = new DataManager();\r\n            dataManager.init();\r\n        }\r\n    \r\n        public void init() {\r\n            Row dataSet[] = new Row[13486]; // current number of rows in the dataset\r\n    \r\n            // read the data\r\n            try (FileReader fr =\r\n                     new FileReader(&quot;SmallAreaIncomePovertyEstData.txt&quot;)) {\r\n                int c;\r\n                int i = 0;\r\n                int j = 0;\r\n                char rowInputs[] = new char[1130]; // number of characters per row\r\n    \r\n                while ((c = fr.read()) != -1) {\r\n                    rowInputs[i] = (char) c;\r\n                    i++;\r\n                    if (c == 10) { // `32` is blank space, &#39;10&#39; is new line\r\n                        dataSet[j] = new Row(rowInputs);\r\n                        j++;\r\n                        i = 0;\r\n                    }\r\n                }\r\n            } catch (IOException e) {\r\n                System.out.println(&quot;I/O Error: &quot; + e);\r\n            }\r\n    \r\n            // manipulate the data\r\n            this.manipulateData(dataSet);\r\n    \r\n            // write the data\r\n        }\r\n    \r\n        public Row[] manipulateData(Row[] dataset) {\r\n            Row[] manipulatedData = new Row[57];\r\n    \r\n            try (BufferedWriter bw = new BufferedWriter(new FileWriter(\r\n                     &quot;../SmallAreaIncomePovertyEstDataManipulated.txt&quot;))) {\r\n                int stateId = 1; // starting point id\r\n                int statePopulation = 0;\r\n                int stateChildPopulation = 0;\r\n                int stateChildPovertyPopulation = 0;\r\n                for (int i = 0; i &lt; dataset.length; i++) {\r\n                    if (dataset[i].id == stateId) {\r\n                        statePopulation += dataset[i].population;\r\n                        stateChildPopulation += dataset[i].childPopulation;\r\n                        stateChildPovertyPopulation +=\r\n                            dataset[i].childPovertyPopulation;\r\n                    } else {\r\n                        double stateChildPovertyPopulationPercentage = 0;\r\n                        if (stateChildPopulation != 0) {\r\n                            stateChildPovertyPopulationPercentage =\r\n                                (double) stateChildPovertyPopulation\r\n                                / stateChildPopulation * 100;\r\n                            int z = 12;\r\n                        } else {\r\n                            stateChildPovertyPopulationPercentage = 0;\r\n                        }\r\n                        bw.append(stateId + &quot; \\t &quot; + statePopulation + &quot; \\t &quot;\r\n                            + stateChildPopulation + &quot; \\t &quot;\r\n                            + stateChildPovertyPopulation + &quot; \\t &quot;\r\n                            + stateChildPovertyPopulationPercentage + &quot;\\n&quot;);\r\n                        statePopulation = 0;\r\n                        stateChildPopulation = 0;\r\n                        stateChildPovertyPopulation = 0;\r\n                        i--;\r\n                        stateId++;\r\n                    }\r\n                }\r\n    \r\n            } catch (IOException e) {\r\n                System.out.println(&quot;I/O Error: &quot; + e);\r\n            }\r\n    \r\n            int x = 12;\r\n            return manipulatedData;\r\n        };\r\n    \r\n        public class Row {\r\n            private char[] contents;\r\n            private int id;\r\n            private int population;\r\n            private int childPopulation; // Population of Relevant Children 5 to 17\r\n                                         // years of Age\r\n            private int childPovertyPopulation; // Estimated Number of Relevant\r\n                                                // Children 5 to 17 years old\r\n            //                     in Poverty Related to the Householder\r\n            private double percentageChildPovertyPopulation;\r\n            Row(char[] input) {\r\n                contents = input;\r\n                char[] stateIdPlaceholder = java.util.Arrays.copyOfRange(\r\n                    contents, 0, 2); // state id [char range]\r\n                id = Integer.parseInt(new String(stateIdPlaceholder).trim());\r\n                char[] tPopPlaceholder = java.util.Arrays.copyOfRange(\r\n                    contents, 83, 90); // total poulation [char range]\r\n                population = Integer.parseInt(new String(tPopPlaceholder).trim());\r\n                char[] cPopPlaceholder = java.util.Arrays.copyOfRange(\r\n                    contents, 92, 99); // child population [char range]\r\n                childPopulation =\r\n                    Integer.parseInt(new String(cPopPlaceholder).trim());\r\n                char[] cPPopPlaceholder = java.util.Arrays.copyOfRange(\r\n                    contents, 101, 108); // child poverty population [char range]\r\n                try {\r\n                    childPovertyPopulation =\r\n                        Integer.parseInt(new String(cPPopPlaceholder).trim());\r\n                } catch (NumberFormatException e) {\r\n                    System.out.println(e);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    //DataPresenter.java\r\n    \r\n    import java.io.*;\r\n    public class DataPresenter {\r\n    \r\n    \r\n        public static void main(String[] args) {\r\n               System.out.println(&quot;File: ../SmallAreaIncomePovertyEstDataManipulated.txt&quot;);           \r\n               System.out.println(&quot;Id&quot; + &quot; \\t &quot; + &quot;Population&quot; + &quot; \\t &quot; + &quot;ChildPop&quot; + &quot; \\t &quot; + &quot;CPovPop&quot; + &quot; \\t \\t&quot; + &quot;CPovPop%&quot; + &quot;\\t&quot;);\r\n    \r\n    \r\n            // read the data\r\n            try ( FileReader fr = new FileReader(&quot;../SmallAreaIncomePovertyEstDataManipulated.txt&quot;))\r\n            {\r\n                int c;\r\n                while((c = fr.read()) != -1) {\r\n                    System.out.print((char) c);\r\n                }\r\n            } catch (IOException e) {\r\n                System.out.println(&quot;I/O Error: &quot; + e);\r\n            }\r\n    \r\n        }\r\n    }\r\n\r\n[When the code compiles and runs, the data is not properly aligned to all of the columns. How do I get them to line up like they are supposed to?][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/AffEi.png","title":"How do I skip blank rows rather than printing out the State ID with a bunch of zeros after","body":"<p>Right now the code works but, it prints out line 3 even though there is no data for number 3 so it follows with a bunch of zeros. How can I skip blanks instead?</p>\n<pre><code>//DataManager.java\n\n\nimport java.io.*;\n\npublic class DataManager {\n    public static void main(String[] args) {\n        DataManager dataManager = new DataManager();\n        dataManager.init();\n    }\n\n    public void init() {\n        Row dataSet[] = new Row[13486]; // current number of rows in the dataset\n\n        // read the data\n        try (FileReader fr =\n                 new FileReader(&quot;SmallAreaIncomePovertyEstData.txt&quot;)) {\n            int c;\n            int i = 0;\n            int j = 0;\n            char rowInputs[] = new char[1130]; // number of characters per row\n\n            while ((c = fr.read()) != -1) {\n                rowInputs[i] = (char) c;\n                i++;\n                if (c == 10) { // `32` is blank space, '10' is new line\n                    dataSet[j] = new Row(rowInputs);\n                    j++;\n                    i = 0;\n                }\n            }\n        } catch (IOException e) {\n            System.out.println(&quot;I/O Error: &quot; + e);\n        }\n\n        // manipulate the data\n        this.manipulateData(dataSet);\n\n        // write the data\n    }\n\n    public Row[] manipulateData(Row[] dataset) {\n        Row[] manipulatedData = new Row[57];\n\n        try (BufferedWriter bw = new BufferedWriter(new FileWriter(\n                 &quot;../SmallAreaIncomePovertyEstDataManipulated.txt&quot;))) {\n            int stateId = 1; // starting point id\n            int statePopulation = 0;\n            int stateChildPopulation = 0;\n            int stateChildPovertyPopulation = 0;\n            for (int i = 0; i &lt; dataset.length; i++) {\n                if (dataset[i].id == stateId) {\n                    statePopulation += dataset[i].population;\n                    stateChildPopulation += dataset[i].childPopulation;\n                    stateChildPovertyPopulation +=\n                        dataset[i].childPovertyPopulation;\n                } else {\n                    double stateChildPovertyPopulationPercentage = 0;\n                    if (stateChildPopulation != 0) {\n                        stateChildPovertyPopulationPercentage =\n                            (double) stateChildPovertyPopulation\n                            / stateChildPopulation * 100;\n                        int z = 12;\n                    } else {\n                        stateChildPovertyPopulationPercentage = 0;\n                    }\n                    bw.append(stateId + &quot; \\t &quot; + statePopulation + &quot; \\t &quot;\n                        + stateChildPopulation + &quot; \\t &quot;\n                        + stateChildPovertyPopulation + &quot; \\t &quot;\n                        + stateChildPovertyPopulationPercentage + &quot;\\n&quot;);\n                    statePopulation = 0;\n                    stateChildPopulation = 0;\n                    stateChildPovertyPopulation = 0;\n                    i--;\n                    stateId++;\n                }\n            }\n\n        } catch (IOException e) {\n            System.out.println(&quot;I/O Error: &quot; + e);\n        }\n\n        int x = 12;\n        return manipulatedData;\n    };\n\n    public class Row {\n        private char[] contents;\n        private int id;\n        private int population;\n        private int childPopulation; // Population of Relevant Children 5 to 17\n                                     // years of Age\n        private int childPovertyPopulation; // Estimated Number of Relevant\n                                            // Children 5 to 17 years old\n        //                     in Poverty Related to the Householder\n        private double percentageChildPovertyPopulation;\n        Row(char[] input) {\n            contents = input;\n            char[] stateIdPlaceholder = java.util.Arrays.copyOfRange(\n                contents, 0, 2); // state id [char range]\n            id = Integer.parseInt(new String(stateIdPlaceholder).trim());\n            char[] tPopPlaceholder = java.util.Arrays.copyOfRange(\n                contents, 83, 90); // total poulation [char range]\n            population = Integer.parseInt(new String(tPopPlaceholder).trim());\n            char[] cPopPlaceholder = java.util.Arrays.copyOfRange(\n                contents, 92, 99); // child population [char range]\n            childPopulation =\n                Integer.parseInt(new String(cPopPlaceholder).trim());\n            char[] cPPopPlaceholder = java.util.Arrays.copyOfRange(\n                contents, 101, 108); // child poverty population [char range]\n            try {\n                childPovertyPopulation =\n                    Integer.parseInt(new String(cPPopPlaceholder).trim());\n            } catch (NumberFormatException e) {\n                System.out.println(e);\n            }\n        }\n    }\n}\n\n//DataPresenter.java\n\nimport java.io.*;\npublic class DataPresenter {\n\n\n    public static void main(String[] args) {\n           System.out.println(&quot;File: ../SmallAreaIncomePovertyEstDataManipulated.txt&quot;);           \n           System.out.println(&quot;Id&quot; + &quot; \\t &quot; + &quot;Population&quot; + &quot; \\t &quot; + &quot;ChildPop&quot; + &quot; \\t &quot; + &quot;CPovPop&quot; + &quot; \\t \\t&quot; + &quot;CPovPop%&quot; + &quot;\\t&quot;);\n\n\n        // read the data\n        try ( FileReader fr = new FileReader(&quot;../SmallAreaIncomePovertyEstDataManipulated.txt&quot;))\n        {\n            int c;\n            while((c = fr.read()) != -1) {\n                System.out.print((char) c);\n            }\n        } catch (IOException e) {\n            System.out.println(&quot;I/O Error: &quot; + e);\n        }\n\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/AffEi.png\" rel=\"nofollow noreferrer\">When the code compiles and runs, the data is not properly aligned to all of the columns. How do I get them to line up like they are supposed to?</a></p>\n"},{"tags":["java","spring","spring-boot","jwt"],"comments":[{"owner":{"account_id":7300136,"reputation":1160,"user_id":5563263,"accept_rate":57,"display_name":"Loading"},"score":0,"creation_date":1691010505,"post_id":76823082,"comment_id":135434599,"body_markdown":"a breakpoint at e.printStackTrace(); in the trycatch of the authservice is not activating?","body":"a breakpoint at e.printStackTrace(); in the trycatch of the authservice is not activating?"}],"owner":{"account_id":21788897,"reputation":13,"user_id":16089453,"display_name":"anon1225"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691005658,"creation_date":1691005658,"question_id":76823082,"body_markdown":"I want to make a role based jwt application so i build login and registration system. TI was able to run the app exactly like this before but it is not working right now. Only returns 200 OK without any response body.\r\n\r\nI debugged all endpoints but didn&#39;t catch anything. This is my sample login-registeration endpoints.\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/auth&quot;)\r\npublic class authController {\r\n    @Autowired private authService Authservice;\r\n    @PostMapping(&quot;/login/user&quot;)\r\n    public LoginResponseDTO loginUser(@RequestBody LoginDTO body){\r\n        return Authservice.loginUser(body.getEmail(), body.getPassword());\r\n    }\r\n    @PostMapping(&quot;/register/user&quot;)\r\n    public Users registerUser(@RequestBody RegisterDTO body){\r\n        return Authservice.registerUser(body.getFirstname(),body.getLastname(),body.getEmail(), body.getPassword());\r\n    }\r\n}\r\n```\r\nthis is my service file\r\n\r\n```\r\n@Service\r\n@Transactional\r\npublic class authService {\r\n    @Autowired private UserRepo userRepo;\r\n    @Autowired private RoleRepo roleRepo;\r\n    @Autowired private AuthenticationManager authenticationManager;\r\n    @Autowired private JwtTokenUtil tokenService;\r\n    @Autowired private PasswordEncoder passwordEncoder;\r\n    @Autowired private UserService userService;\r\n\r\n    public Users registerUser(String firstname, String lastname, String email, String password){\r\n        String encodedPassword = passwordEncoder.encode(password);\r\n        Role userRole = roleRepo.findByAuthority(&quot;USER&quot;).get();\r\n\r\n        Set&lt;Role&gt; authorities = new HashSet&lt;&gt;();\r\n        authorities.add(userRole);\r\n        System.out.println(&quot;Email: &quot; + email + &quot;Password: &quot; + password);\r\n        return userRepo.save(new Users(firstname,lastname,email,encodedPassword,authorities));\r\n    }\r\n    public LoginResponseDTO loginUser(String email, String password){\r\n        try{\r\n            UserDetails userDetails = userService.loadUserByUsername(email);\r\n            if (passwordEncoder.matches(password, userDetails.getPassword())){\r\n\r\n                String token = tokenService.generateToken(userDetails);\r\n                return new LoginResponseDTO(userDetails, token);\r\n            }\r\n            throw new ValidationException(&quot;Email veya ifre hatal.&quot;);\r\n        }catch (AuthenticationException e){\r\n            e.printStackTrace();\r\n            return new LoginResponseDTO(null,&quot;&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nand this is my securityconfig file\r\n\r\n```\r\n@Configuration\r\npublic class SecurityConfig {\r\n    private final JWTAuthenticationFilter filter;\r\n\r\n    public SecurityConfig(JWTAuthenticationFilter filter) {\r\n        this.filter = filter;\r\n    }\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder(){\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n    @Bean\r\n    public AuthenticationManager authManager(UserDetailsService detailsService){\r\n        DaoAuthenticationProvider daoProvider = new DaoAuthenticationProvider();\r\n        daoProvider.setUserDetailsService(detailsService);\r\n        daoProvider.setPasswordEncoder(passwordEncoder());\r\n        return new ProviderManager(daoProvider);\r\n    }\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception{\r\n        http\r\n                .csrf(csrf-&gt; csrf.disable())\r\n                .authorizeHttpRequests(auth-&gt;{\r\n                    auth.requestMatchers(&quot;/auth/**&quot;).permitAll();\r\n                    auth.requestMatchers(&quot;/admin/**&quot;).hasRole(&quot;ADMIN&quot;);\r\n                    auth.requestMatchers(&quot;/corpuser/**&quot;).hasRole(&quot;USER&quot;);\r\n                    auth.anyRequest().authenticated();\r\n                });\r\n        http.addFilterBefore(filter, UsernamePasswordAuthenticationFilter.class);\r\n        http.sessionManagement(\r\n                session -&gt; session.sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n        );\r\n        return http.build();\r\n    }\r\n}\r\n```\r\n","title":"Spring Security all endpoints return status 200 but postman returns nothing as response body","body":"<p>I want to make a role based jwt application so i build login and registration system. TI was able to run the app exactly like this before but it is not working right now. Only returns 200 OK without any response body.</p>\n<p>I debugged all endpoints but didn't catch anything. This is my sample login-registeration endpoints.</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/auth&quot;)\npublic class authController {\n    @Autowired private authService Authservice;\n    @PostMapping(&quot;/login/user&quot;)\n    public LoginResponseDTO loginUser(@RequestBody LoginDTO body){\n        return Authservice.loginUser(body.getEmail(), body.getPassword());\n    }\n    @PostMapping(&quot;/register/user&quot;)\n    public Users registerUser(@RequestBody RegisterDTO body){\n        return Authservice.registerUser(body.getFirstname(),body.getLastname(),body.getEmail(), body.getPassword());\n    }\n}\n</code></pre>\n<p>this is my service file</p>\n<pre><code>@Service\n@Transactional\npublic class authService {\n    @Autowired private UserRepo userRepo;\n    @Autowired private RoleRepo roleRepo;\n    @Autowired private AuthenticationManager authenticationManager;\n    @Autowired private JwtTokenUtil tokenService;\n    @Autowired private PasswordEncoder passwordEncoder;\n    @Autowired private UserService userService;\n\n    public Users registerUser(String firstname, String lastname, String email, String password){\n        String encodedPassword = passwordEncoder.encode(password);\n        Role userRole = roleRepo.findByAuthority(&quot;USER&quot;).get();\n\n        Set&lt;Role&gt; authorities = new HashSet&lt;&gt;();\n        authorities.add(userRole);\n        System.out.println(&quot;Email: &quot; + email + &quot;Password: &quot; + password);\n        return userRepo.save(new Users(firstname,lastname,email,encodedPassword,authorities));\n    }\n    public LoginResponseDTO loginUser(String email, String password){\n        try{\n            UserDetails userDetails = userService.loadUserByUsername(email);\n            if (passwordEncoder.matches(password, userDetails.getPassword())){\n\n                String token = tokenService.generateToken(userDetails);\n                return new LoginResponseDTO(userDetails, token);\n            }\n            throw new ValidationException(&quot;Email veya ifre hatal.&quot;);\n        }catch (AuthenticationException e){\n            e.printStackTrace();\n            return new LoginResponseDTO(null,&quot;&quot;);\n        }\n    }\n}\n</code></pre>\n<p>and this is my securityconfig file</p>\n<pre><code>@Configuration\npublic class SecurityConfig {\n    private final JWTAuthenticationFilter filter;\n\n    public SecurityConfig(JWTAuthenticationFilter filter) {\n        this.filter = filter;\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder(){\n        return new BCryptPasswordEncoder();\n    }\n    @Bean\n    public AuthenticationManager authManager(UserDetailsService detailsService){\n        DaoAuthenticationProvider daoProvider = new DaoAuthenticationProvider();\n        daoProvider.setUserDetailsService(detailsService);\n        daoProvider.setPasswordEncoder(passwordEncoder());\n        return new ProviderManager(daoProvider);\n    }\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception{\n        http\n                .csrf(csrf-&gt; csrf.disable())\n                .authorizeHttpRequests(auth-&gt;{\n                    auth.requestMatchers(&quot;/auth/**&quot;).permitAll();\n                    auth.requestMatchers(&quot;/admin/**&quot;).hasRole(&quot;ADMIN&quot;);\n                    auth.requestMatchers(&quot;/corpuser/**&quot;).hasRole(&quot;USER&quot;);\n                    auth.anyRequest().authenticated();\n                });\n        http.addFilterBefore(filter, UsernamePasswordAuthenticationFilter.class);\n        http.sessionManagement(\n                session -&gt; session.sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n        );\n        return http.build();\n    }\n}\n</code></pre>\n"},{"tags":["java","serilog"],"comments":[{"owner":{"account_id":46750,"reputation":30556,"user_id":138206,"display_name":"Nicholas Blumhardt"},"score":0,"creation_date":1691012772,"post_id":76822986,"comment_id":135434957,"body_markdown":"Anything in Seq&#39;s Settings &gt; Diagnostics &gt; Ingestion log?","body":"Anything in Seq&#39;s Settings &gt; Diagnostics &gt; Ingestion log?"},{"owner":{"account_id":21354009,"reputation":23,"user_id":15723206,"display_name":"Timtendo12"},"score":0,"creation_date":1691056377,"post_id":76822986,"comment_id":135441044,"body_markdown":"@NicholasBlumhardt Only this line,\n\n`[2023-07-17T18:01:13.3658359+00:00 DBG] The ingestion API is configured and accepting requests`","body":"@NicholasBlumhardt Only this line,  <code>[2023-07-17T18:01:13.3658359+00:00 DBG] The ingestion API is configured and accepting requests</code>"}],"owner":{"account_id":21354009,"reputation":23,"user_id":15723206,"display_name":"Timtendo12"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691004788,"creation_date":1691004788,"question_id":76822986,"body_markdown":"So I&#39;m trying to set up a serilogger to log to our Seq instance, It seems like it can connect to Seq but when I log something it never shows up in Seq itself. The selfLogger also is empty. I&#39;m using Serilogj version 0.6.1\r\n\r\n```java\r\nimport serilogj.Log;\r\nimport serilogj.LoggerConfiguration;\r\nimport serilogj.debugging.SelfLog;\r\nimport serilogj.events.LogEventLevel;\r\n...\r\n\r\npublic void initSeriLogger(String seqAPIUrl, String seqAPIKey) {\r\n\r\n        try {\r\n            // create a file to store the log of SelfLog\r\n\r\n            File logFile = new File(getDataFolder(), &quot;serilog.log&quot;);\r\n\r\n            if (!logFile.exists()) {\r\n                if(!logFile.createNewFile()) {\r\n                    throw new IOException(&quot;Failed to create log file.&quot;);\r\n                }\r\n            }\r\n\r\n            PrintStream output = new PrintStream(logFile);\r\n\r\n            // set the log file as the log of SelfLog\r\n            SelfLog.setOut(output);\r\n\r\n            Log.setLogger(new LoggerConfiguration()\r\n                    .writeTo(seq(seqAPIUrl, seqAPIKey))\r\n                    .setMinimumLevel(LogEventLevel.Warning)\r\n                    .createLogger());\r\n\r\n        } catch (Exception e) {\r\n            Core.getPlugin().getLogger().warning(&quot;!!!!!Serilog failed to initialize. Logging to console only.!!!!&quot;);\r\n            return;\r\n        }\r\n\r\n        this.getLogger().info(&quot;Serilog initialized. Logging to &#39;&quot; + seqAPIUrl + &quot;&#39; with API key ending with &#39;&quot; + seqAPIKey.substring(0, 4) + &quot;&#39;.&quot;);\r\n        Log.warning(&quot;Serilog initialized.&quot;);\r\n    }\r\n```\r\n\r\nconsole output:\r\n\r\n`[21:21:47 INFO]: [Core] Serilog initialized. Logging to &#39;http://{myserverip}:5341&#39; with API key ending with &#39;HPtJ&#39;.`\r\n\r\n\r\nSeq being empty:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vX8D1.png\r\n\r\nAnyone knows what exactly I&#39;m doing wrong?","title":"Java serilogger connects to seq using API but does not log","body":"<p>So I'm trying to set up a serilogger to log to our Seq instance, It seems like it can connect to Seq but when I log something it never shows up in Seq itself. The selfLogger also is empty. I'm using Serilogj version 0.6.1</p>\n<pre class=\"lang-java prettyprint-override\"><code>import serilogj.Log;\nimport serilogj.LoggerConfiguration;\nimport serilogj.debugging.SelfLog;\nimport serilogj.events.LogEventLevel;\n...\n\npublic void initSeriLogger(String seqAPIUrl, String seqAPIKey) {\n\n        try {\n            // create a file to store the log of SelfLog\n\n            File logFile = new File(getDataFolder(), &quot;serilog.log&quot;);\n\n            if (!logFile.exists()) {\n                if(!logFile.createNewFile()) {\n                    throw new IOException(&quot;Failed to create log file.&quot;);\n                }\n            }\n\n            PrintStream output = new PrintStream(logFile);\n\n            // set the log file as the log of SelfLog\n            SelfLog.setOut(output);\n\n            Log.setLogger(new LoggerConfiguration()\n                    .writeTo(seq(seqAPIUrl, seqAPIKey))\n                    .setMinimumLevel(LogEventLevel.Warning)\n                    .createLogger());\n\n        } catch (Exception e) {\n            Core.getPlugin().getLogger().warning(&quot;!!!!!Serilog failed to initialize. Logging to console only.!!!!&quot;);\n            return;\n        }\n\n        this.getLogger().info(&quot;Serilog initialized. Logging to '&quot; + seqAPIUrl + &quot;' with API key ending with '&quot; + seqAPIKey.substring(0, 4) + &quot;'.&quot;);\n        Log.warning(&quot;Serilog initialized.&quot;);\n    }\n</code></pre>\n<p>console output:</p>\n<p><code>[21:21:47 INFO]: [Core] Serilog initialized. Logging to 'http://{myserverip}:5341' with API key ending with 'HPtJ'.</code></p>\n<p>Seq being empty:\n<a href=\"https://i.stack.imgur.com/vX8D1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vX8D1.png\" alt=\"enter image description here\" /></a></p>\n<p>Anyone knows what exactly I'm doing wrong?</p>\n"},{"tags":["java","for-loop","debugging","boolean"],"answers":[{"tags":[],"owner":{"account_id":1612692,"reputation":269,"user_id":1491213,"display_name":"triplej"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691004039,"creation_date":1691004039,"answer_id":76822917,"question_id":76822737,"body_markdown":"You gave 2, 5, 20 as a problematic input. 20 is greater than 10. `(20 &lt; 11)` is false. Also, you shouldn&#39;t need so many parenthesis. This should work:\r\n\r\n```java\r\nif (newInput &gt; 0 &amp;&amp; newInput &lt; 11) {\r\nallValid = true;\r\n}\r\n```","title":"Debugging a Boolean Loop Statement That Sometimes Works","body":"<p>You gave 2, 5, 20 as a problematic input. 20 is greater than 10. <code>(20 &lt; 11)</code> is false. Also, you shouldn't need so many parenthesis. This should work:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (newInput &gt; 0 &amp;&amp; newInput &lt; 11) {\nallValid = true;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15847779,"reputation":4627,"user_id":11434552,"display_name":"Nexevis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691004772,"creation_date":1691004454,"answer_id":76822951,"question_id":76822737,"body_markdown":"You are currently reaching a false value, then continuing to the next loop iteration, which will overwrite the previous value of your `allValid` effectively making only the final result of your loop matter.\r\n\r\nInstead you can set `allValid` to `true` as the initial value, and then set it to `false` it ever reaches a value that is not valid. You do not need to ever set `allValid` back to true as once it fails, it should stay failed.\r\n\r\nHere a look at the modified code\r\n\r\n    public static void main(String[] args) {\r\n    \tScanner scnr = new Scanner(System.in);\r\n    \tint numInts = scnr.nextInt();\r\n    \r\n    \tboolean allValid = true;\r\n    \tfor (int i = 0; i &lt; numInts; i++) {\r\n    \t\tint newInput = scnr.nextInt();\r\n    \t\t// Any value lower than 1 OR above 10 fails\r\n    \t\tif (newInput &lt; 1 || newInput &gt; 10) {\r\n    \t\t\tallValid = false;\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tif (allValid) {\r\n    \t\tSystem.out.println(&quot;All valid&quot;);\r\n    \t} else {\r\n    \t\tSystem.out.println(&quot;Has non-matching value(s)&quot;);\r\n    \t}\r\n    }\r\n\r\nNote: I also made minor changes such as only declaring variables in the scope they are required.\r\n\r\nTest Runs:\r\n\r\n    4\r\n    -1 2 3 4\r\n    Has non-matching value(s)\r\n    \r\n    6\r\n    4 8 3 9 9 1\r\n    All valid\r\n\r\n\r\n","title":"Debugging a Boolean Loop Statement That Sometimes Works","body":"<p>You are currently reaching a false value, then continuing to the next loop iteration, which will overwrite the previous value of your <code>allValid</code> effectively making only the final result of your loop matter.</p>\n<p>Instead you can set <code>allValid</code> to <code>true</code> as the initial value, and then set it to <code>false</code> it ever reaches a value that is not valid. You do not need to ever set <code>allValid</code> back to true as once it fails, it should stay failed.</p>\n<p>Here a look at the modified code</p>\n<pre><code>public static void main(String[] args) {\n    Scanner scnr = new Scanner(System.in);\n    int numInts = scnr.nextInt();\n\n    boolean allValid = true;\n    for (int i = 0; i &lt; numInts; i++) {\n        int newInput = scnr.nextInt();\n        // Any value lower than 1 OR above 10 fails\n        if (newInput &lt; 1 || newInput &gt; 10) {\n            allValid = false;\n        }\n    }\n\n    if (allValid) {\n        System.out.println(&quot;All valid&quot;);\n    } else {\n        System.out.println(&quot;Has non-matching value(s)&quot;);\n    }\n}\n</code></pre>\n<p>Note: I also made minor changes such as only declaring variables in the scope they are required.</p>\n<p>Test Runs:</p>\n<pre><code>4\n-1 2 3 4\nHas non-matching value(s)\n\n6\n4 8 3 9 9 1\nAll valid\n</code></pre>\n"}],"owner":{"account_id":29082801,"reputation":21,"user_id":22278428,"display_name":"Nicole Haight"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1691004772,"creation_date":1691002205,"question_id":76822737,"body_markdown":"I am learning to code in Java, and I am struggling with problems that require boolean variables. Of note - no, this is not homework. I am teaching myself.\r\n\r\nThe problem I am encountering is that sometimes my code for this problem works, other times, it doesn&#39;t. I put the problem into NetBeans to check if I had any syntax errors, and I couldn&#39;t find any, so I am hoping someone can better illustrate how the code should be written.\r\n\r\n\r\nThe textbook question:\r\nDeclare a Boolean variable named allValid. Then, read integer numInts from input representing the number of integers to be read next. Use a loop to read the remaining integers from input. If all of the numInts integers are in the range 1 to 10 inclusive, assign allValid with true. Otherwise, assign allValid with false.\r\n\r\nCode at the end of main() outputs &quot;All valid&quot; if allValid is true or &quot;Has non-matching value(s)&quot; if allValid is false.\r\n\r\nEx: If the input is:\r\n\r\n2\r\n5 20\r\nthen the output is:\r\n\r\nHas non-matching value(s)\r\n-----------------------------------------\r\n\r\n\r\nTextbook problem with my answer (the code I have written is between where I have placed a row of asteriks):\r\n\r\n    import java.util.Scanner;\r\n\r\n    public class IntegerData {\r\n    public static void main(String [] args) {\r\n    Scanner scnr = new Scanner(System.in);\r\n\r\n    int numInts;\r\n    ****************My code starts****************\r\n    boolean allValid = true;\r\n    int newInput;\r\n    int i;\r\n      \r\n    numInts = scnr.nextInt();\r\n      \r\n    for(i=0; i&lt;numInts; ++i) {\r\n    newInput = scnr.nextInt();\r\n      \r\n    if (((newInput &gt; 0) &amp;&amp; (newInput &lt; 11))) {\r\n    allValid = true;\r\n    }\r\n      \r\n    else {\r\n    allValid = false;\r\n    }\r\n    }\r\n    **************My code ends********************        \r\n    if (allValid) {\r\n    System.out.println(&quot;All valid&quot;);\r\n    }\r\n\r\n    else {\r\n    System.out.println(&quot;Has non-matching value(s)&quot;);\r\n    }\r\n    }\r\n    }\r\n-----------\r\n-----------\r\nThe following numbers work, for example: 11, -2, 5, 12, -1, 14 (outputs &quot;Has non-matching value(s)&quot;\r\nThe following numbers do NOT work, for example: 6, 2, 12, 4, 9 (outputs &quot;All Valid&quot;)\r\n\r\nAnd no, it has nothing to do with it being &gt;10, versus &lt;0 because negative numbers sometimes get an incorrect output, too.\r\n","title":"Debugging a Boolean Loop Statement That Sometimes Works","body":"<p>I am learning to code in Java, and I am struggling with problems that require boolean variables. Of note - no, this is not homework. I am teaching myself.</p>\n<p>The problem I am encountering is that sometimes my code for this problem works, other times, it doesn't. I put the problem into NetBeans to check if I had any syntax errors, and I couldn't find any, so I am hoping someone can better illustrate how the code should be written.</p>\n<p>The textbook question:\nDeclare a Boolean variable named allValid. Then, read integer numInts from input representing the number of integers to be read next. Use a loop to read the remaining integers from input. If all of the numInts integers are in the range 1 to 10 inclusive, assign allValid with true. Otherwise, assign allValid with false.</p>\n<p>Code at the end of main() outputs &quot;All valid&quot; if allValid is true or &quot;Has non-matching value(s)&quot; if allValid is false.</p>\n<p>Ex: If the input is:</p>\n<p>2\n5 20\nthen the output is:</p>\n<h2>Has non-matching value(s)</h2>\n<p>Textbook problem with my answer (the code I have written is between where I have placed a row of asteriks):</p>\n<pre><code>import java.util.Scanner;\n\npublic class IntegerData {\npublic static void main(String [] args) {\nScanner scnr = new Scanner(System.in);\n\nint numInts;\n****************My code starts****************\nboolean allValid = true;\nint newInput;\nint i;\n  \nnumInts = scnr.nextInt();\n  \nfor(i=0; i&lt;numInts; ++i) {\nnewInput = scnr.nextInt();\n  \nif (((newInput &gt; 0) &amp;&amp; (newInput &lt; 11))) {\nallValid = true;\n}\n  \nelse {\nallValid = false;\n}\n}\n**************My code ends********************        \nif (allValid) {\nSystem.out.println(&quot;All valid&quot;);\n}\n\nelse {\nSystem.out.println(&quot;Has non-matching value(s)&quot;);\n}\n}\n}\n</code></pre>\n<hr />\n<hr />\n<p>The following numbers work, for example: 11, -2, 5, 12, -1, 14 (outputs &quot;Has non-matching value(s)&quot;\nThe following numbers do NOT work, for example: 6, 2, 12, 4, 9 (outputs &quot;All Valid&quot;)</p>\n<p>And no, it has nothing to do with it being &gt;10, versus &lt;0 because negative numbers sometimes get an incorrect output, too.</p>\n"},{"tags":["java","groovy"],"comments":[{"owner":{"account_id":4358,"reputation":168410,"user_id":6509,"display_name":"tim_yates"},"score":0,"creation_date":1404723825,"post_id":24606389,"comment_id":38127396,"body_markdown":"You could write it as a class, or try: `new InteractiveMode().with { foo() }`","body":"You could write it as a class, or try: <code>new InteractiveMode().with { foo() }</code>"},{"owner":{"account_id":4593506,"reputation":49,"user_id":3726223,"accept_rate":80,"display_name":"Andreascmj"},"score":0,"creation_date":1404724865,"post_id":24606389,"comment_id":38127923,"body_markdown":"I&#39;m not sure I understand what you mean so I&#39;ll clarify in case there is some confusion. InteractiveMode is the class in which the GroovyShell is created. Foo, the method I need to call is declared in the InteractiveMode class. So if I were to replace the Groovy part (ie making it non-interactive) I would just write `this.foo();`. When using Groovy however I can&#39;t use `this.foo()` since `this` references the script and can&#39;t be overriden (or can it?) and have to therefore write `im.foo()`. \n\nIs this how you understood my question?","body":"I&#39;m not sure I understand what you mean so I&#39;ll clarify in case there is some confusion. InteractiveMode is the class in which the GroovyShell is created. Foo, the method I need to call is declared in the InteractiveMode class. So if I were to replace the Groovy part (ie making it non-interactive) I would just write <code>this.foo();</code>. When using Groovy however I can&#39;t use <code>this.foo()</code> since <code>this</code> references the script and can&#39;t be overriden (or can it?) and have to therefore write <code>im.foo()</code>.   Is this how you understood my question?"},{"owner":{"account_id":4358,"reputation":168410,"user_id":6509,"display_name":"tim_yates"},"score":0,"creation_date":1404732615,"post_id":24606389,"comment_id":38132693,"body_markdown":"You mean like when you call setDelegate on the script?","body":"You mean like when you call setDelegate on the script?"},{"owner":{"account_id":4593506,"reputation":49,"user_id":3726223,"accept_rate":80,"display_name":"Andreascmj"},"score":0,"creation_date":1404738129,"post_id":24606389,"comment_id":38136044,"body_markdown":"Well, yes actually. That seems to be very close to what I&#39;m looking for. However, I now can&#39;t seem to find out how to achieve this with Java code. This is what my code looks like now:\n\n    `InteractiveMode test = new InteractiveMode();\n    GroovyShell gs = new GroovyShell();\n    gs.setVariable(&quot;im&quot;, test);\n    gs.evaluate(&quot;im.foo();&quot;);`\n\nI would like the last line to be:\n\n    `gs.evaluate(&quot;foo();&quot;);`\n\nAnd still give exactly the same output.","body":"Well, yes actually. That seems to be very close to what I&#39;m looking for. However, I now can&#39;t seem to find out how to achieve this with Java code. This is what my code looks like now:      <code>InteractiveMode test = new InteractiveMode();     GroovyShell gs = new GroovyShell();     gs.setVariable(&quot;im&quot;, test);     gs.evaluate(&quot;im.foo();&quot;);</code>  I would like the last line to be:      <code>gs.evaluate(&quot;foo();&quot;);</code>  And still give exactly the same output."},{"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"score":0,"creation_date":1404743250,"post_id":24606389,"comment_id":38139551,"body_markdown":"See http://sysgears.com/articles/customizing-scripts-execution-in-groovyshell/","body":"See <a href=\"http://sysgears.com/articles/customizing-scripts-execution-in-groovyshell/\" rel=\"nofollow noreferrer\">sysgears.com/articles/&hellip;</a>"},{"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"score":0,"creation_date":1404743291,"post_id":24606389,"comment_id":38139581,"body_markdown":"Why are you going to the trouble of removing their types?  It seems you could leave them alone and everything would still work, right?","body":"Why are you going to the trouble of removing their types?  It seems you could leave them alone and everything would still work, right?"},{"owner":{"account_id":4593506,"reputation":49,"user_id":3726223,"accept_rate":80,"display_name":"Andreascmj"},"score":0,"creation_date":1404743776,"post_id":24606389,"comment_id":38139935,"body_markdown":"The reason I&#39;m removing the types is because the users will enter Java code, see what the output is, and when they&#39;re done they&#39;ll export their lines of code to a .java file. When a variable is declared with a type in Groovy it isn&#39;t added to the binding which means it won&#39;t be accessible for the next command. Removing the types were simply one way of adding the variables to the binding.","body":"The reason I&#39;m removing the types is because the users will enter Java code, see what the output is, and when they&#39;re done they&#39;ll export their lines of code to a .java file. When a variable is declared with a type in Groovy it isn&#39;t added to the binding which means it won&#39;t be accessible for the next command. Removing the types were simply one way of adding the variables to the binding."}],"answers":[{"tags":[],"owner":{"account_id":3128873,"reputation":1180,"user_id":2647192,"display_name":"allTwentyQuestions"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1404738471,"creation_date":1404738098,"answer_id":24611224,"question_id":24606389,"body_markdown":"Sounds like you want to pass in a customized CompilerConfiguration when you create your GroovyShell. Then you can set the script base class as described [in this post][1].\r\n\r\nYou can also look into using a Binding if all you need is some properties accessible from the script. A Binding is just a map of property names to properties. If you want, you can even setup Bindings to a closure and then just call it like a method. Using Binding is described near the top of [this page][2]\r\n\r\nIf you don&#39;t want to to hold state outside of the script, then I&#39;d use a Binding. If you need to hold state outside of the script, as in the car example, then the base class described in that post is what you want. The third option, if you need access to shared application state, would be to simply set the delegate on your script before it&#39;s run. This is shown near the bottom of the first link. \r\n\r\n\r\n  [1]: http://mrhaki.blogspot.com/2013/11/groovy-goodness-set-delegating-class.html\r\n  [2]: http://groovy.codehaus.org/Embedding+Groovy","title":"Override &quot;this&quot;-keyword in GroovyShell","body":"<p>Sounds like you want to pass in a customized CompilerConfiguration when you create your GroovyShell. Then you can set the script base class as described <a href=\"http://mrhaki.blogspot.com/2013/11/groovy-goodness-set-delegating-class.html\" rel=\"nofollow\">in this post</a>.</p>\n\n<p>You can also look into using a Binding if all you need is some properties accessible from the script. A Binding is just a map of property names to properties. If you want, you can even setup Bindings to a closure and then just call it like a method. Using Binding is described near the top of <a href=\"http://groovy.codehaus.org/Embedding+Groovy\" rel=\"nofollow\">this page</a></p>\n\n<p>If you don't want to to hold state outside of the script, then I'd use a Binding. If you need to hold state outside of the script, as in the car example, then the base class described in that post is what you want. The third option, if you need access to shared application state, would be to simply set the delegate on your script before it's run. This is shown near the bottom of the first link. </p>\n"},{"tags":[],"owner":{"account_id":29026020,"reputation":27,"user_id":22234175,"display_name":"chamanswami"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1691004533,"creation_date":1691004533,"answer_id":76822960,"question_id":24606389,"body_markdown":"Understanding the this keyword in JavaScript can be a bit tricky, but I&#39;ll try to explain it in a simple way.\r\n\r\nIn JavaScript, this is a special keyword that refers to the context in which a function is executed. It is a reference to the object on which the function is being invoked. The value of this depends on how the function is called, and it can change in different situations.\r\n\r\nTo simplify it, you can think of this as a placeholder that gets its value assigned dynamically based on how the function is called.\r\n\r\nHere&#39;s a simple rule of thumb that might help you understand how this works:\r\n\r\n&quot;this refers to the object that the function belongs to or the object that is calling the function.&quot;\r\n\r\nLet&#39;s go through a few scenarios to illustrate how this works:\r\n\r\nGlobal context: If the function is called in the global context (outside any object or function), this will refer to the global object, which is window in browsers or global in Node.js.\r\n\r\nMethod of an object: If the function is called as a method of an object, this will refer to that object.\r\n\r\nConstructor function: If the function is used as a constructor (using the new keyword), this will refer to the newly created object that the constructor is building.\r\n\r\nExplicit binding: Sometimes you can explicitly bind this to a specific object using methods like .call(), .apply(), or .bind().\r\n\r\nNow, let&#39;s apply this knowledge to your code snippet:\r\n\r\n    javascript\r\n    Copy code\r\n    function hello() {\r\n        let list = {\r\n            firstName: &quot;Jack&quot;\r\n        };\r\n        return &quot;Hello &quot; + this.firstName;\r\n    }\r\n\r\nconsole.log(hello());\r\nIn this case, the hello() function is called in the global context since it&#39;s not a method of any object. As a result, this will refer to the global object (e.g., window in browsers).\r\n\r\nHowever, since the firstName property is not defined in the global object, this.firstName will be undefined, and you&#39;ll get the output: &quot;Hello undefined.&quot;\r\n\r\nIf you want to access the firstName property of the list object correctly, you should use it directly like this:\r\n\r\njavascript\r\n\r\n    function hello() {\r\n        let list = {\r\n            firstName: &quot;Jack&quot;\r\n        };\r\n        return &quot;Hello &quot; + list.firstName;\r\n    }\r\n    \r\n    console.log(hello()); // Output: Hello Jack\r\n\r\nIn this updated version, we use the list object directly to access the firstName property, and it gives the correct output: &quot;Hello Jack.&quot;\r\n\r\nRemember, understanding this might take some practice and getting used to different scenarios where it can be used. It&#39;s important to pay attention to how the function is called and what object it belongs to in order to determine the value of this.\r\n\r\nBut in GroovyShell\r\nThe text is referring to the ability to change the behavior of the &quot;this&quot; keyword in GroovyShell, which is a command-line tool for running Groovy scripts. The &quot;this&quot; keyword is used in object-oriented programming to refer to the current instance of an object. By overriding the &quot;this&quot; keyword in GroovyShell, one can change the way it behaves when used in a script. This can be useful for testing or experimentation purposes.","title":"Override &quot;this&quot;-keyword in GroovyShell","body":"<p>Understanding the this keyword in JavaScript can be a bit tricky, but I'll try to explain it in a simple way.</p>\n<p>In JavaScript, this is a special keyword that refers to the context in which a function is executed. It is a reference to the object on which the function is being invoked. The value of this depends on how the function is called, and it can change in different situations.</p>\n<p>To simplify it, you can think of this as a placeholder that gets its value assigned dynamically based on how the function is called.</p>\n<p>Here's a simple rule of thumb that might help you understand how this works:</p>\n<p>&quot;this refers to the object that the function belongs to or the object that is calling the function.&quot;</p>\n<p>Let's go through a few scenarios to illustrate how this works:</p>\n<p>Global context: If the function is called in the global context (outside any object or function), this will refer to the global object, which is window in browsers or global in Node.js.</p>\n<p>Method of an object: If the function is called as a method of an object, this will refer to that object.</p>\n<p>Constructor function: If the function is used as a constructor (using the new keyword), this will refer to the newly created object that the constructor is building.</p>\n<p>Explicit binding: Sometimes you can explicitly bind this to a specific object using methods like .call(), .apply(), or .bind().</p>\n<p>Now, let's apply this knowledge to your code snippet:</p>\n<pre><code>javascript\nCopy code\nfunction hello() {\n    let list = {\n        firstName: &quot;Jack&quot;\n    };\n    return &quot;Hello &quot; + this.firstName;\n}\n</code></pre>\n<p>console.log(hello());\nIn this case, the hello() function is called in the global context since it's not a method of any object. As a result, this will refer to the global object (e.g., window in browsers).</p>\n<p>However, since the firstName property is not defined in the global object, this.firstName will be undefined, and you'll get the output: &quot;Hello undefined.&quot;</p>\n<p>If you want to access the firstName property of the list object correctly, you should use it directly like this:</p>\n<p>javascript</p>\n<pre><code>function hello() {\n    let list = {\n        firstName: &quot;Jack&quot;\n    };\n    return &quot;Hello &quot; + list.firstName;\n}\n\nconsole.log(hello()); // Output: Hello Jack\n</code></pre>\n<p>In this updated version, we use the list object directly to access the firstName property, and it gives the correct output: &quot;Hello Jack.&quot;</p>\n<p>Remember, understanding this might take some practice and getting used to different scenarios where it can be used. It's important to pay attention to how the function is called and what object it belongs to in order to determine the value of this.</p>\n<p>But in GroovyShell\nThe text is referring to the ability to change the behavior of the &quot;this&quot; keyword in GroovyShell, which is a command-line tool for running Groovy scripts. The &quot;this&quot; keyword is used in object-oriented programming to refer to the current instance of an object. By overriding the &quot;this&quot; keyword in GroovyShell, one can change the way it behaves when used in a script. This can be useful for testing or experimentation purposes.</p>\n"}],"owner":{"account_id":4593506,"reputation":49,"user_id":3726223,"accept_rate":80,"display_name":"Andreascmj"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":573,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":24611224,"answer_count":2,"score":1,"last_activity_date":1691004533,"creation_date":1404722573,"question_id":24606389,"body_markdown":"I&#39;m trying to use GroovyShell in my java application for runtime execution of code. The code will be used for testing and will be exported to a java file when the program is finished. To make it easy for the users I would like the input to groovy to be as similar as possible to the java code that will be executed. This means that I, among other things, will remove types when the user tries to create a variable in order to avoid private variables ie. \r\n\r\n        String str = &quot;Lorem&quot; \r\nwill be executed as \r\n\r\n        str = &quot;Lorem&quot;.\r\n\r\nOne thing that I can&#39;t seem to solve however is that, where a user would normally be able to just call a method `foo()` they now have to call the method on a object.\r\n\r\n        Java code {\r\n            foo();\r\n        }\r\n\r\n        Groovy code {\r\n            im = new InteractiveMode();\r\n            im.foo();\r\n        }\r\n\r\nThis is of course because the method `foo()` is called on the object `this`, which in the groovy code references the script and not the java object. So my question is: Can I somehow override the `this` keyword in groovy or in some other way allow methods to be called on a object without having to specify what object every time?\r\n\r\n**EDIT: To clarify**\r\n\r\nThis is what my code looks like now:\r\n\r\n    InteractiveMode test = new InteractiveMode();\r\n    GroovyShell gs = new GroovyShell();\r\n    gs.setVariable(&quot;im&quot;, test);\r\n    gs.evaluate(&quot;im.foo();&quot;);\r\n\r\nI want to get the same output with this instead:\r\n\r\n    InteractiveMode test = new InteractiveMode();\r\n    GroovyShell gs = new GroovyShell();\r\n    gs.setVariable(&quot;im&quot;, test);\r\n    //Some groovy magic\r\n    gs.evaluate(&quot;foo();&quot;);","title":"Override &quot;this&quot;-keyword in GroovyShell","body":"<p>I'm trying to use GroovyShell in my java application for runtime execution of code. The code will be used for testing and will be exported to a java file when the program is finished. To make it easy for the users I would like the input to groovy to be as similar as possible to the java code that will be executed. This means that I, among other things, will remove types when the user tries to create a variable in order to avoid private variables ie. </p>\n\n<pre><code>    String str = \"Lorem\" \n</code></pre>\n\n<p>will be executed as </p>\n\n<pre><code>    str = \"Lorem\".\n</code></pre>\n\n<p>One thing that I can't seem to solve however is that, where a user would normally be able to just call a method <code>foo()</code> they now have to call the method on a object.</p>\n\n<pre><code>    Java code {\n        foo();\n    }\n\n    Groovy code {\n        im = new InteractiveMode();\n        im.foo();\n    }\n</code></pre>\n\n<p>This is of course because the method <code>foo()</code> is called on the object <code>this</code>, which in the groovy code references the script and not the java object. So my question is: Can I somehow override the <code>this</code> keyword in groovy or in some other way allow methods to be called on a object without having to specify what object every time?</p>\n\n<p><strong>EDIT: To clarify</strong></p>\n\n<p>This is what my code looks like now:</p>\n\n<pre><code>InteractiveMode test = new InteractiveMode();\nGroovyShell gs = new GroovyShell();\ngs.setVariable(\"im\", test);\ngs.evaluate(\"im.foo();\");\n</code></pre>\n\n<p>I want to get the same output with this instead:</p>\n\n<pre><code>InteractiveMode test = new InteractiveMode();\nGroovyShell gs = new GroovyShell();\ngs.setVariable(\"im\", test);\n//Some groovy magic\ngs.evaluate(\"foo();\");\n</code></pre>\n"},{"tags":["java","spring-boot","spring-websocket","spring-session"],"owner":{"account_id":29146736,"reputation":1,"user_id":22328480,"display_name":"thomn9"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691003042,"creation_date":1691003004,"question_id":76822821,"body_markdown":"Problem: WebSocker session data are not persisted in precreated session tables (SPRING_SESSION, SPRING_SESSION_ATTRIBUTES)\r\n\r\nI followed this guide to implement it https://docs.spring.io/spring-session/reference/web-socket.html\r\n\r\nI&#180;m using Spring Boot 2.7.6, Java 11\r\n\r\nSpring related dependencies:\r\n\r\n```\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t&lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-boot-starter-websocket&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.springframework.session&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-session-jdbc&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nApp properties:\r\n\r\n```\r\nspring:\r\n  session:\r\n    store-type: jdbc\r\n  datasource:\r\n    url: jdbc:h2:mem:testdb;MODE=LEGACY\r\n    driver-class-name: org.h2.Driver\r\n    username: sa\r\n    password: password\r\n  jpa:\r\n    generate-ddl: true\r\n  h2:\r\n    console:\r\n      enabled: true\r\n  liquibase:\r\n    enabled: true\r\n    change-log: liquibase/db.changelog-master.yaml\r\n```\r\n\r\nWebSocket config:\r\n\r\n```\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.messaging.simp.config.MessageBrokerRegistry;\r\nimport org.springframework.session.Session;\r\nimport org.springframework.session.web.socket.config.annotation.AbstractSessionWebSocketMessageBrokerConfigurer;\r\nimport org.springframework.web.socket.config.annotation.EnableWebSocketMessageBroker;\r\nimport org.springframework.web.socket.config.annotation.StompEndpointRegistry;\r\n\r\n\r\n@Configuration\r\n@EnableWebSocketMessageBroker\r\npublic class WebSocketConfig extends AbstractSessionWebSocketMessageBrokerConfigurer&lt;Session&gt; {\r\n\r\n    @Override\r\n    public void configureMessageBroker(MessageBrokerRegistry config) {\r\n        config.enableSimpleBroker(&quot;/topic&quot;);\r\n        config.setApplicationDestinationPrefixes(&quot;/app&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void configureStompEndpoints(StompEndpointRegistry registry) {\r\n        registry.addEndpoint(&quot;/reservation&quot;);\r\n        registry.addEndpoint(&quot;/reservation&quot;).withSockJS();\r\n    }\r\n}\r\n```\r\n\r\nWebSocket Controller impl:\r\n\r\n```\r\nimport cz.reservation.app.ErrorCode;\r\nimport cz.reservation.app.model.WsRequest;\r\nimport cz.reservation.app.model.dto.ReservableScheduleDto;\r\nimport cz.reservation.app.service.ReservationService;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.messaging.handler.annotation.MessageMapping;\r\nimport org.springframework.messaging.handler.annotation.SendTo;\r\nimport org.springframework.stereotype.Controller;\r\n\r\n@Controller\r\npublic class ReservableScheduleWebSocketController {\r\n\r\n    @Autowired\r\n    private ReservationService reservationService;\r\n\r\n    @MessageMapping(&quot;/reservation&quot;)\r\n    @SendTo(&quot;/topic/reservable-schedule&quot;)\r\n    public ReservableScheduleDto wsRequestHandle(WsRequest wsRequest) throws Exception {\r\n\r\n        ...some logic\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\nI checked in a browser that SESSION cookie is created when conneting with websocket.\r\n\r\nI expect that Spring Boot will ensure that WebSocket session will be also stored in pregenerated SPRING_SESSION table (not only in a browser). What could be wrong with my code? Thank you!","title":"Websocket session is not being persisted in JDBC session store type","body":"<p>Problem: WebSocker session data are not persisted in precreated session tables (SPRING_SESSION, SPRING_SESSION_ATTRIBUTES)</p>\n<p>I followed this guide to implement it <a href=\"https://docs.spring.io/spring-session/reference/web-socket.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-session/reference/web-socket.html</a></p>\n<p>Im using Spring Boot 2.7.6, Java 11</p>\n<p>Spring related dependencies:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-websocket&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.session&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-session-jdbc&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>App properties:</p>\n<pre><code>spring:\n  session:\n    store-type: jdbc\n  datasource:\n    url: jdbc:h2:mem:testdb;MODE=LEGACY\n    driver-class-name: org.h2.Driver\n    username: sa\n    password: password\n  jpa:\n    generate-ddl: true\n  h2:\n    console:\n      enabled: true\n  liquibase:\n    enabled: true\n    change-log: liquibase/db.changelog-master.yaml\n</code></pre>\n<p>WebSocket config:</p>\n<pre><code>import org.springframework.context.annotation.Configuration;\nimport org.springframework.messaging.simp.config.MessageBrokerRegistry;\nimport org.springframework.session.Session;\nimport org.springframework.session.web.socket.config.annotation.AbstractSessionWebSocketMessageBrokerConfigurer;\nimport org.springframework.web.socket.config.annotation.EnableWebSocketMessageBroker;\nimport org.springframework.web.socket.config.annotation.StompEndpointRegistry;\n\n\n@Configuration\n@EnableWebSocketMessageBroker\npublic class WebSocketConfig extends AbstractSessionWebSocketMessageBrokerConfigurer&lt;Session&gt; {\n\n    @Override\n    public void configureMessageBroker(MessageBrokerRegistry config) {\n        config.enableSimpleBroker(&quot;/topic&quot;);\n        config.setApplicationDestinationPrefixes(&quot;/app&quot;);\n    }\n\n    @Override\n    public void configureStompEndpoints(StompEndpointRegistry registry) {\n        registry.addEndpoint(&quot;/reservation&quot;);\n        registry.addEndpoint(&quot;/reservation&quot;).withSockJS();\n    }\n}\n</code></pre>\n<p>WebSocket Controller impl:</p>\n<pre><code>import cz.reservation.app.ErrorCode;\nimport cz.reservation.app.model.WsRequest;\nimport cz.reservation.app.model.dto.ReservableScheduleDto;\nimport cz.reservation.app.service.ReservationService;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.messaging.handler.annotation.MessageMapping;\nimport org.springframework.messaging.handler.annotation.SendTo;\nimport org.springframework.stereotype.Controller;\n\n@Controller\npublic class ReservableScheduleWebSocketController {\n\n    @Autowired\n    private ReservationService reservationService;\n\n    @MessageMapping(&quot;/reservation&quot;)\n    @SendTo(&quot;/topic/reservable-schedule&quot;)\n    public ReservableScheduleDto wsRequestHandle(WsRequest wsRequest) throws Exception {\n\n        ...some logic\n\n    }\n\n}\n</code></pre>\n<p>I checked in a browser that SESSION cookie is created when conneting with websocket.</p>\n<p>I expect that Spring Boot will ensure that WebSocket session will be also stored in pregenerated SPRING_SESSION table (not only in a browser). What could be wrong with my code? Thank you!</p>\n"},{"tags":["java","time","jodatime","java-time","java.time.instant"],"comments":[{"owner":{"account_id":3054375,"reputation":916,"user_id":2588342,"display_name":"discipliuned"},"score":0,"creation_date":1469209077,"post_id":38532361,"comment_id":64458505,"body_markdown":"for comparison you could get the millis from each","body":"for comparison you could get the millis from each"}],"answers":[{"tags":[],"owner":{"account_id":3054375,"reputation":916,"user_id":2588342,"display_name":"discipliuned"},"down_vote_count":1,"up_vote_count":42,"is_accepted":true,"score":41,"last_activity_date":1496926438,"creation_date":1469209581,"answer_id":38532505,"question_id":38532361,"body_markdown":"`getMillis()` from joda.time can be compared to `toEpochMilli()` from java.time.\r\n\r\nClass documentation:\r\n\r\n - [org.joda.time.Instant::getMillis][1]\r\n - [java.time.Instant::toEpochMilli][2]\r\n\r\nExample code.\r\n\r\n    java.time.Instant myJavaInstant = \r\n        java.time.Instant.ofEpochMilli( myJodaInstant.getMillis() ) ;\r\n\r\nGoing the other way.\r\n\r\n    // Caution: Loss of data if the java.time.Instant has microsecond\r\n    // or nanosecond fraction of second.\r\n    org.joda.time.Instant myJodaInstant = \r\n        new org.joda.time.Instant( myJavaInstant.toEpochMilli() ); \r\n\r\n\r\n  [1]: http://www.joda.org/joda-time/apidocs/org/joda/time/Instant.html#getMillis--\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html#toEpochMilli--","title":"converting Joda time Instant to Java time Instant","body":"<p><code>getMillis()</code> from joda.time can be compared to <code>toEpochMilli()</code> from java.time.</p>\n\n<p>Class documentation:</p>\n\n<ul>\n<li><a href=\"http://www.joda.org/joda-time/apidocs/org/joda/time/Instant.html#getMillis--\" rel=\"noreferrer\">org.joda.time.Instant::getMillis</a></li>\n<li><a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html#toEpochMilli--\" rel=\"noreferrer\">java.time.Instant::toEpochMilli</a></li>\n</ul>\n\n<p>Example code.</p>\n\n<pre><code>java.time.Instant myJavaInstant = \n    java.time.Instant.ofEpochMilli( myJodaInstant.getMillis() ) ;\n</code></pre>\n\n<p>Going the other way.</p>\n\n<pre><code>// Caution: Loss of data if the java.time.Instant has microsecond\n// or nanosecond fraction of second.\norg.joda.time.Instant myJodaInstant = \n    new org.joda.time.Instant( myJavaInstant.toEpochMilli() ); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":1327199,"reputation":587,"user_id":1271788,"display_name":"xYan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1524053295,"creation_date":1524053295,"answer_id":49899352,"question_id":38532361,"body_markdown":"You can convert from joda Instant to java&#39;s (*the datetime and formatting are just an example*):\r\n\r\n    org.joda.time.Instant.parse(&quot;10.02.2017 13:45:32&quot;, DateTimeFormat.forPattern(&quot;dd.MM.yyyy HH:mm:ss&quot;)).toDate().toInstant()\r\n\r\nSo you call `toDate()` and `toInstant()` on your joda Instant.","title":"converting Joda time Instant to Java time Instant","body":"<p>You can convert from joda Instant to java's (<em>the datetime and formatting are just an example</em>):</p>\n\n<pre><code>org.joda.time.Instant.parse(\"10.02.2017 13:45:32\", DateTimeFormat.forPattern(\"dd.MM.yyyy HH:mm:ss\")).toDate().toInstant()\n</code></pre>\n\n<p>So you call <code>toDate()</code> and <code>toInstant()</code> on your joda Instant.</p>\n"},{"tags":[],"owner":{"account_id":22540680,"reputation":1,"user_id":16731272,"display_name":"SAFSAF SAFSAF"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691002880,"creation_date":1691002880,"answer_id":76822809,"question_id":38532361,"body_markdown":"I think there is a bug in the Joda-Time sdk. It changes the time and time zone when you convert this way.\r\n\r\nMy original ISO string is: \r\noriginalISOString = 2023-08-02T22:00:00.000+01:00\r\n\r\nI run the step above as:\r\norg.joda.time.Instant.parse(originalISOString, \r\n\t\t\t\t\tISODateTimeFormat.dateTime()).toDate().toInstant();\r\n\r\nbut after running through the step above, my resulting string (using Instant.toString()) is 2023-08-02T21:00:00Z\r\n\r\nIt has changed the time and the time zone.\r\n","title":"converting Joda time Instant to Java time Instant","body":"<p>I think there is a bug in the Joda-Time sdk. It changes the time and time zone when you convert this way.</p>\n<p>My original ISO string is:\noriginalISOString = 2023-08-02T22:00:00.000+01:00</p>\n<p>I run the step above as:\norg.joda.time.Instant.parse(originalISOString,\nISODateTimeFormat.dateTime()).toDate().toInstant();</p>\n<p>but after running through the step above, my resulting string (using Instant.toString()) is 2023-08-02T21:00:00Z</p>\n<p>It has changed the time and the time zone.</p>\n"}],"owner":{"account_id":4177994,"reputation":1075,"user_id":3449882,"accept_rate":14,"display_name":"user123475"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23094,"favorite_count":0,"down_vote_count":0,"up_vote_count":30,"accepted_answer_id":38532505,"answer_count":3,"score":30,"last_activity_date":1691002880,"creation_date":1469209018,"question_id":38532361,"body_markdown":"I have an instance of Instant (org.joda.time.Instant) which I get in some api response. I have another instance from (java.time.Instant) which I get from some other call. Now, I want to compare these two object to check which one get the latest one. How would it be possible?","title":"converting Joda time Instant to Java time Instant","body":"<p>I have an instance of Instant (org.joda.time.Instant) which I get in some api response. I have another instance from (java.time.Instant) which I get from some other call. Now, I want to compare these two object to check which one get the latest one. How would it be possible?</p>\n"},{"tags":["java","spring-boot","application.properties"],"comments":[{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1691003543,"post_id":76822806,"comment_id":135433283,"body_markdown":"Why cant the second key be simply the value? You dont know the value?","body":"Why cant the second key be simply the value? You dont know the value?"},{"owner":{"account_id":982652,"reputation":303,"user_id":1001982,"accept_rate":82,"display_name":"Anvesh Raavi"},"score":0,"creation_date":1691004080,"post_id":76822806,"comment_id":135433366,"body_markdown":"Yes, I don&#39;t have a way to know the value.","body":"Yes, I don&#39;t have a way to know the value."},{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":1,"creation_date":1691004130,"post_id":76822806,"comment_id":135433379,"body_markdown":"YAML doesnt support dynamic keys. Youll have to do it in code.","body":"YAML doesnt support dynamic keys. Youll have to do it in code."}],"owner":{"account_id":982652,"reputation":303,"user_id":1001982,"accept_rate":82,"display_name":"Anvesh Raavi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691002849,"creation_date":1691002849,"question_id":76822806,"body_markdown":"Would it be possible to define like this in a spring boot application.properties file \r\n\r\n    a.property = value\r\n    ${value} = another Value\r\n\r\nIf yes, how to resolve a.property in the spring using @Value annotation?","title":"Spring Application.properties, can value of a key be another key with value?","body":"<p>Would it be possible to define like this in a spring boot application.properties file</p>\n<pre><code>a.property = value\n${value} = another Value\n</code></pre>\n<p>If yes, how to resolve a.property in the spring using @Value annotation?</p>\n"},{"tags":["java","angular","spring-security"],"owner":{"account_id":26880675,"reputation":21,"user_id":20461179,"display_name":"CarrotSnip"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691002405,"creation_date":1691002405,"question_id":76822751,"body_markdown":"I have tried the login process manually with insomnia. I am able to login and logout so long as I set `X-CSRF-TOKEN`. [![enter image description here][1]][1]\r\n\r\nBut when I try to do it in my angular app, I am unable to login even if I already setup the \r\n`X-CSRF-TOKEN`. Why is this happening? I checked the request and I can see the token there.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nThe request doesn&#39;t even enter my login method. It just says that CSRF token is invalid, when it is perfectly valid. I am getting the token generated from this method in my controller:\r\n\r\n```\r\n    @GetMapping(&quot;/csrf&quot;)\r\n    public CsrfResponse getCsrf(HttpServletRequest request) {\r\n        CsrfToken csrfToken = (CsrfToken) request.getAttribute(&quot;_csrf&quot;);\r\n        log.info(&quot;Returning token: {}&quot;, csrfToken.getToken());\r\n        return new CsrfResponse(csrfToken.getToken());\r\n    }\r\n```\r\n\r\nHere&#39;s my login method:\r\n```\r\n@PostMapping(&quot;/login&quot;)\r\n    public CurrentUser login(@Valid @RequestBody LoginRequest request,\r\n                             BindingResult bindingResult,\r\n                             HttpServletRequest httpServletRequest,\r\n                             HttpServletResponse response) throws LoginException {\r\n\r\n        log.info(&quot;header: {}&quot;, httpServletRequest.getHeader(&quot;X-CSRF-TOKEN&quot;));\r\n\r\n        if (httpServletRequest.getUserPrincipal() != null) {\r\n            throw new LoginException(&quot;Please logout first.&quot;);\r\n        }\r\n\r\n        if (bindingResult.hasErrors()) {\r\n            throw new LoginException(&quot;Invalid username or password.&quot;);\r\n        }\r\n\r\n        try {\r\n            httpServletRequest.login(request.getUsername(), request.getPassword());\r\n        } catch (ServletException e) {\r\n            throw new LoginException(&quot;Invalid username or password.&quot;);\r\n        }\r\n\r\n        Authentication auth = (Authentication) httpServletRequest.getUserPrincipal();\r\n        User user = (User) auth.getPrincipal();\r\n        String csrfToken = httpServletRequest.getHeader(&quot;X-CSRF-TOKEN&quot;);\r\n\r\n        log.info(&quot;User {} logged in.&quot;, user.getUsername());\r\n        rememberMeServices.loginSuccess(httpServletRequest, response, auth);\r\n        return new CurrentUser(user.getId(), user.getUsername(), csrfToken);\r\n    }\r\n```\r\n\r\nHere&#39;s my configuration:\r\n\r\n```\r\n    @Bean(&quot;securityFilterChain&quot;)\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n\r\n        CookieCsrfTokenRepository csrfTokenRepository = CookieCsrfTokenRepository.withHttpOnlyFalse();\r\n        csrfTokenRepository.setCookiePath(&quot;/&quot;);\r\n        csrfTokenRepository.setHeaderName(&quot;X-CSRF-TOKEN&quot;);\r\n\r\n        DefaultSecurityFilterChain chain = http\r\n                .cors(Customizer.withDefaults())\r\n                .authorizeHttpRequests(customizer -&gt; customizer\r\n                        .requestMatchers(HttpMethod.GET, &quot;/api/v1/csrf&quot;).permitAll()\r\n                        .requestMatchers(HttpMethod.GET,&quot;/api/v1/destination&quot;).permitAll()\r\n                        .requestMatchers(HttpMethod.GET,&quot;/api/v1/destination/featured&quot;).permitAll()\r\n                        .requestMatchers(&quot;/error&quot;).permitAll()\r\n                        .requestMatchers(HttpMethod.POST,&quot;/api/v1/login&quot;).permitAll()\r\n                        .requestMatchers(HttpMethod.POST,&quot;/api/v1/destination&quot;).authenticated()\r\n                        .requestMatchers(&quot;/api/v1/**&quot;).authenticated()\r\n                        .anyRequest().denyAll()\r\n                )\r\n                .csrf(csrf -&gt; csrf.csrfTokenRepository(csrfTokenRepository))\r\n                .exceptionHandling(customizer -&gt; customizer\r\n                        .authenticationEntryPoint(new HttpStatusEntryPoint(HttpStatus.UNAUTHORIZED))\r\n                )\r\n                .rememberMe(customizer -&gt; customizer.alwaysRemember(true).key(&quot;remember&quot;))\r\n                .build();\r\n\r\n        RememberMeServices rememberMeServices = http.getSharedObject(RememberMeServices.class);\r\n        beanFactory.registerSingleton(&quot;rememberMeServices&quot;, rememberMeServices);\r\n\r\n        return chain;\r\n    }\r\n```\r\n\r\nHere&#39;s the interceptor I created that attaches the `X-CSRF-TOKEN`.\r\n\r\n```\r\n@Injectable()\r\nexport class CsrfInterceptor implements HttpInterceptor {\r\n\r\n    constructor(private headerService: CsrfService) {\r\n    }\r\n\r\n    intercept(request: HttpRequest&lt;any&gt;, next: HttpHandler): Observable&lt;HttpEvent&lt;any&gt;&gt; {\r\n        \r\n        const csrfToken = this.headerService.getCsrfToken();\r\n\r\n        const modifiedRequest = request.clone({\r\n            setHeaders: {\r\n                &#39;X-CSRF-TOKEN&#39;: csrfToken,\r\n                &#39;Content-Type&#39;: &#39;application/json&#39;\r\n            }\r\n        });\r\n        \r\n        return next.handle(modifiedRequest);\r\n    }\r\n}\r\n```\r\nI don&#39;t understand, from my perspective, I should be able to login successfully. But why am I getting this error instead?\r\n\r\n```\r\n2023-08-03T02:49:09.572+08:00 DEBUG 94056 --- [nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\r\n2023-08-03T02:49:10.657+08:00 DEBUG 94056 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/v1/login\r\n2023-08-03T02:49:10.660+08:00 DEBUG 94056 --- [nio-8080-exec-2] o.s.security.web.csrf.CsrfFilter         : Invalid CSRF token found for http://localhost:8080/api/v1/login\r\n2023-08-03T02:49:10.660+08:00 DEBUG 94056 --- [nio-8080-exec-2] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code\r\n2023-08-03T02:49:10.664+08:00 DEBUG 94056 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /error\r\n2023-08-03T02:49:10.667+08:00 DEBUG 94056 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /error\r\n2023-08-03T02:49:10.682+08:00 DEBUG 94056 --- [nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\r\n```\r\n\r\nI&#39;ve been trying to solve this for 2 days already! I don&#39;t get it! I am on angular 15, and spring security 6.1.0.\r\n\r\n  [1]: https://i.stack.imgur.com/GDqBG.png\r\n  [2]: https://i.stack.imgur.com/p3cGF.png","title":"Why is my CSRF token invalid? I already set it in my angular app","body":"<p>I have tried the login process manually with insomnia. I am able to login and logout so long as I set <code>X-CSRF-TOKEN</code>. <a href=\"https://i.stack.imgur.com/GDqBG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GDqBG.png\" alt=\"enter image description here\" /></a></p>\n<p>But when I try to do it in my angular app, I am unable to login even if I already setup the\n<code>X-CSRF-TOKEN</code>. Why is this happening? I checked the request and I can see the token there.</p>\n<p><a href=\"https://i.stack.imgur.com/p3cGF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/p3cGF.png\" alt=\"enter image description here\" /></a></p>\n<p>The request doesn't even enter my login method. It just says that CSRF token is invalid, when it is perfectly valid. I am getting the token generated from this method in my controller:</p>\n<pre><code>    @GetMapping(&quot;/csrf&quot;)\n    public CsrfResponse getCsrf(HttpServletRequest request) {\n        CsrfToken csrfToken = (CsrfToken) request.getAttribute(&quot;_csrf&quot;);\n        log.info(&quot;Returning token: {}&quot;, csrfToken.getToken());\n        return new CsrfResponse(csrfToken.getToken());\n    }\n</code></pre>\n<p>Here's my login method:</p>\n<pre><code>@PostMapping(&quot;/login&quot;)\n    public CurrentUser login(@Valid @RequestBody LoginRequest request,\n                             BindingResult bindingResult,\n                             HttpServletRequest httpServletRequest,\n                             HttpServletResponse response) throws LoginException {\n\n        log.info(&quot;header: {}&quot;, httpServletRequest.getHeader(&quot;X-CSRF-TOKEN&quot;));\n\n        if (httpServletRequest.getUserPrincipal() != null) {\n            throw new LoginException(&quot;Please logout first.&quot;);\n        }\n\n        if (bindingResult.hasErrors()) {\n            throw new LoginException(&quot;Invalid username or password.&quot;);\n        }\n\n        try {\n            httpServletRequest.login(request.getUsername(), request.getPassword());\n        } catch (ServletException e) {\n            throw new LoginException(&quot;Invalid username or password.&quot;);\n        }\n\n        Authentication auth = (Authentication) httpServletRequest.getUserPrincipal();\n        User user = (User) auth.getPrincipal();\n        String csrfToken = httpServletRequest.getHeader(&quot;X-CSRF-TOKEN&quot;);\n\n        log.info(&quot;User {} logged in.&quot;, user.getUsername());\n        rememberMeServices.loginSuccess(httpServletRequest, response, auth);\n        return new CurrentUser(user.getId(), user.getUsername(), csrfToken);\n    }\n</code></pre>\n<p>Here's my configuration:</p>\n<pre><code>    @Bean(&quot;securityFilterChain&quot;)\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n\n        CookieCsrfTokenRepository csrfTokenRepository = CookieCsrfTokenRepository.withHttpOnlyFalse();\n        csrfTokenRepository.setCookiePath(&quot;/&quot;);\n        csrfTokenRepository.setHeaderName(&quot;X-CSRF-TOKEN&quot;);\n\n        DefaultSecurityFilterChain chain = http\n                .cors(Customizer.withDefaults())\n                .authorizeHttpRequests(customizer -&gt; customizer\n                        .requestMatchers(HttpMethod.GET, &quot;/api/v1/csrf&quot;).permitAll()\n                        .requestMatchers(HttpMethod.GET,&quot;/api/v1/destination&quot;).permitAll()\n                        .requestMatchers(HttpMethod.GET,&quot;/api/v1/destination/featured&quot;).permitAll()\n                        .requestMatchers(&quot;/error&quot;).permitAll()\n                        .requestMatchers(HttpMethod.POST,&quot;/api/v1/login&quot;).permitAll()\n                        .requestMatchers(HttpMethod.POST,&quot;/api/v1/destination&quot;).authenticated()\n                        .requestMatchers(&quot;/api/v1/**&quot;).authenticated()\n                        .anyRequest().denyAll()\n                )\n                .csrf(csrf -&gt; csrf.csrfTokenRepository(csrfTokenRepository))\n                .exceptionHandling(customizer -&gt; customizer\n                        .authenticationEntryPoint(new HttpStatusEntryPoint(HttpStatus.UNAUTHORIZED))\n                )\n                .rememberMe(customizer -&gt; customizer.alwaysRemember(true).key(&quot;remember&quot;))\n                .build();\n\n        RememberMeServices rememberMeServices = http.getSharedObject(RememberMeServices.class);\n        beanFactory.registerSingleton(&quot;rememberMeServices&quot;, rememberMeServices);\n\n        return chain;\n    }\n</code></pre>\n<p>Here's the interceptor I created that attaches the <code>X-CSRF-TOKEN</code>.</p>\n<pre><code>@Injectable()\nexport class CsrfInterceptor implements HttpInterceptor {\n\n    constructor(private headerService: CsrfService) {\n    }\n\n    intercept(request: HttpRequest&lt;any&gt;, next: HttpHandler): Observable&lt;HttpEvent&lt;any&gt;&gt; {\n        \n        const csrfToken = this.headerService.getCsrfToken();\n\n        const modifiedRequest = request.clone({\n            setHeaders: {\n                'X-CSRF-TOKEN': csrfToken,\n                'Content-Type': 'application/json'\n            }\n        });\n        \n        return next.handle(modifiedRequest);\n    }\n}\n</code></pre>\n<p>I don't understand, from my perspective, I should be able to login successfully. But why am I getting this error instead?</p>\n<pre><code>2023-08-03T02:49:09.572+08:00 DEBUG 94056 --- [nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\n2023-08-03T02:49:10.657+08:00 DEBUG 94056 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/v1/login\n2023-08-03T02:49:10.660+08:00 DEBUG 94056 --- [nio-8080-exec-2] o.s.security.web.csrf.CsrfFilter         : Invalid CSRF token found for http://localhost:8080/api/v1/login\n2023-08-03T02:49:10.660+08:00 DEBUG 94056 --- [nio-8080-exec-2] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code\n2023-08-03T02:49:10.664+08:00 DEBUG 94056 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /error\n2023-08-03T02:49:10.667+08:00 DEBUG 94056 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /error\n2023-08-03T02:49:10.682+08:00 DEBUG 94056 --- [nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\n</code></pre>\n<p>I've been trying to solve this for 2 days already! I don't get it! I am on angular 15, and spring security 6.1.0.</p>\n"},{"tags":["java","eclipse","eclipse-plugin","eclipse-cdt"],"comments":[{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1690814463,"post_id":76803705,"comment_id":135401689,"body_markdown":"Have you looked at the code that executes when finishing the new project wizard for that kind of project? If you set a breakpoint in the implementation of one of the methods you&#39;re calling yourself, you should find it relatively quickly when you run the wizard.","body":"Have you looked at the code that executes when finishing the new project wizard for that kind of project? If you set a breakpoint in the implementation of one of the methods you&#39;re calling yourself, you should find it relatively quickly when you run the wizard."},{"owner":{"account_id":20798008,"reputation":181,"user_id":15274669,"display_name":"majixin"},"score":0,"creation_date":1690816705,"post_id":76803705,"comment_id":135402227,"body_markdown":"@nitind The original project import was completely manual. A user creating/importing a project via Eclipse Wizard is not going to trigger anything in my plugin, and likewise, my plugin doesn&#39;t trigger any Eclipse wizard.","body":"@nitind The original project import was completely manual. A user creating/importing a project via Eclipse Wizard is not going to trigger anything in my plugin, and likewise, my plugin doesn&#39;t trigger any Eclipse wizard."},{"owner":{"account_id":20798008,"reputation":181,"user_id":15274669,"display_name":"majixin"},"score":0,"creation_date":1690817901,"post_id":76803705,"comment_id":135402498,"body_markdown":"@nitind That being said, I&#39;ve managed to deduce ```org.eclipse.core.cdt.CCorePlugin``` class has its ```createCDTProject``` function called, so I have managed to get a breakpoint on that and am currently tracing to see what it does differently to my code.","body":"@nitind That being said, I&#39;ve managed to deduce <code>org.eclipse.core.cdt.CCorePlugin</code> class has its <code>createCDTProject</code> function called, so I have managed to get a breakpoint on that and am currently tracing to see what it does differently to my code."}],"answers":[{"tags":[],"owner":{"account_id":20798008,"reputation":181,"user_id":15274669,"display_name":"majixin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1691002144,"creation_date":1691002144,"answer_id":76822729,"question_id":76803705,"body_markdown":"OK, so after as much tracing in to Eclipse as I could do, I found some but not all things that I needed to directly create a project with a ```.cproject``` file.\r\n\r\nHowever, after finding that there are some project conversion functions on the Eclipse ```CCorePlugin``` class, I decided to try those (at the time mixed in with some other code). Ultimately, I only needed to call a single method after calling ```open(...)``` on my ```IProject``` reference.\r\n\r\nI discovered that converting to a ```CProjectNature``` is only suitable for C and that I need to also cover C++. Converting solely to a ```CCProjectNature``` (note the extra C at the front) would add both types of nature to the project. It also ultimately calls the code I put in my question update, so writes the ```.cproject``` file. I checked the context menus and and the project properties and they now match what the Eclipse import wizard was producing.\r\n\r\nSo short version is this original code:\r\n```\r\ntry {\r\n      newProject.open(monitor);\r\n    } catch (CoreException e) {\r\n      // &lt;snipped - do some logging&gt;\r\n}\r\nreturn newProject; \r\n```\r\n\r\n...becomes...\r\n\r\n```\r\ntry {\r\n      newProject.open(monitor);\r\n      cdtCorePlugin.convertProjectToNewCC(newProject, DEFAULT_PREFERENCE_CONFIG, monitor);\r\n    } catch (CoreException e) {\r\n      // &lt;snipped - do some logging&gt;\r\n}\r\nreturn newProject; \r\n```\r\n\r\nwhere ```cdtCorePlugin``` is simply defined earlier as:\r\n\r\n```\r\nCCorePlugin cdtCorePlugin = CCorePlugin.getDefault();\r\n```\r\n\r\nand ```DEFAULT_PREFERENCE_CONFIG``` is a constant defined as:\r\n\r\n```\r\nprivate static final String DEFAULT_PREFERENCE_CONFIG = &quot;org.eclipse.cdt.managedbuilder.core.configurationDataProvider&quot;;\r\n```","title":"Eclipse .cproject programmatic creation","body":"<p>OK, so after as much tracing in to Eclipse as I could do, I found some but not all things that I needed to directly create a project with a <code>.cproject</code> file.</p>\n<p>However, after finding that there are some project conversion functions on the Eclipse <code>CCorePlugin</code> class, I decided to try those (at the time mixed in with some other code). Ultimately, I only needed to call a single method after calling <code>open(...)</code> on my <code>IProject</code> reference.</p>\n<p>I discovered that converting to a <code>CProjectNature</code> is only suitable for C and that I need to also cover C++. Converting solely to a <code>CCProjectNature</code> (note the extra C at the front) would add both types of nature to the project. It also ultimately calls the code I put in my question update, so writes the <code>.cproject</code> file. I checked the context menus and and the project properties and they now match what the Eclipse import wizard was producing.</p>\n<p>So short version is this original code:</p>\n<pre><code>try {\n      newProject.open(monitor);\n    } catch (CoreException e) {\n      // &lt;snipped - do some logging&gt;\n}\nreturn newProject; \n</code></pre>\n<p>...becomes...</p>\n<pre><code>try {\n      newProject.open(monitor);\n      cdtCorePlugin.convertProjectToNewCC(newProject, DEFAULT_PREFERENCE_CONFIG, monitor);\n    } catch (CoreException e) {\n      // &lt;snipped - do some logging&gt;\n}\nreturn newProject; \n</code></pre>\n<p>where <code>cdtCorePlugin</code> is simply defined earlier as:</p>\n<pre><code>CCorePlugin cdtCorePlugin = CCorePlugin.getDefault();\n</code></pre>\n<p>and <code>DEFAULT_PREFERENCE_CONFIG</code> is a constant defined as:</p>\n<pre><code>private static final String DEFAULT_PREFERENCE_CONFIG = &quot;org.eclipse.cdt.managedbuilder.core.configurationDataProvider&quot;;\n</code></pre>\n"}],"owner":{"account_id":20798008,"reputation":181,"user_id":15274669,"display_name":"majixin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76822729,"answer_count":1,"score":0,"last_activity_date":1691002144,"creation_date":1690807056,"question_id":76803705,"body_markdown":"I&#39;ve got Eclipse plugin code that programmatically creates an Eclipse project. The gist of it is here: https://stackoverflow.com/questions/75833893/programmatic-creation-of-eclipse-project-in-the-eclipse-workspace (the code shown on this post is the same coding project as I am currently asking about).\r\n\r\nIn my use-cases, the projects created are always C/C++ projects.\r\n\r\nI initially thought just adding a ```CNature``` to the instance of ```IProjectDescription``` would suffice when it is assigned to the instance of an ```IProject``` but this does not appear to be enough. The code runs seemlessly (no errors), but I&#39;m rightly or wrongly expecting a ```.cproject``` file to be created also. I&#39;ve tried various things to create this, including this:\r\n\r\n```\r\nIProject newProject = workspace.getRoot().getProject(projectName);\r\ntry {\r\n       newProject.create(newProjectDescription, monitor);  // create Eclipse project\r\n       CoreModel model = CoreModel.getDefault();           // get default CDT model\r\n       ICProject cproject = model.create(newProject);      // create CDT model for project\r\n    } catch (CoreException ex) {\r\n       // &lt;snipped - does some logging&gt;\r\n    }\r\n```\r\n\r\n...with this later...\r\n\r\n```\r\ntry {\r\n        newProject.open(monitor);\r\n        newProject.setDescription(newProjectDescription, null);\r\n        cproject.save(null, true);  \r\n    } catch (CoreException e) {\r\n        // &lt;snipped - does some loggging&gt;\r\n    }\r\n```\r\n\r\n...to no avail.\r\n\r\nThe programmatically created project is a duplicate of an existing project. The existing project was imported in to Eclipse using the &quot;Existing Projects into Workspace...&quot; option. I did not specify a toolchain for it. Neither does it actually have anything like make files in its structure, it&#39;s purely C and C++ files only. Yet, when I right-click on each and examine the context menu, the original manually imported one has &quot;Build Project&quot;, &quot;Clean Project&quot; and &quot;Make Targets&quot;. Similarly, if I compare properties, the original has a &quot;C/C++ Build&quot; section, but the programmatically created one lacks this. The same is true in that the original has a ```.cproject``` file and the programmatically created one does not.\r\n\r\nI wish them to be identical such that the programmatically created one has the items I mention it currently lacks, in order to have the same context menu, &quot;C/C++ Build&quot; section in its properties and the important ```.cproject``` file.\r\n\r\nI suspect it is the presence of the ```.cproject``` file that makes the difference in IDE behaviour, and I wish to know how to ensure that gets created also.\r\n\r\n**UPDATE 1:**\r\n\r\nBased on @nitind idea of tracing in to Eclipse code, I have discovered that the ```.cproject``` file is written from package ```org.eclipse.cdt.internal.core.settings.model.xml``` and class ```DesSerializationRunnable```, which has the following function (given it implements ```Runnable```):\r\n\r\n```\r\npublic void run(IProgressMonitor monitor) throws CoreException {\r\n  JobChangeAdapter notifyJobCanceller = new NotifyJobCanceller((NotifyJobCanceller)null);\r\n  try {\r\n\tJob.getJobManager().addJobChangeListener(notifyJobCanceller);\r\n\tResourcesPlugin.getWorkspace().run(new IWorkspaceRunnable() {\r\n\t\tpublic void run(IProgressMonitor monitor) throws CoreException {\r\n\t\t}\r\n\t}, (ISchedulingRule)null, 1, (IProgressMonitor)null);\r\n\tXmlProjectDescriptionStorage.this.serializingLock.acquire();\r\n\tLanguageSettingsProvidersSerializer.serializeLanguageSettings(this.fDes);\r\n\tXmlProjectDescriptionStorage.this.projectModificaitonStamp = XmlProjectDescriptionStorage.this.serialize(this.fDes.getProject(), &quot;.cproject&quot;, this.fElement);\r\n\t((ContributedEnvironment)CCorePlugin.getDefault().getBuildEnvironmentManager().getContributedEnvironment()).serialize(this.fDes);\r\n  } finally {\r\n\tXmlProjectDescriptionStorage.this.serializingLock.release();\r\n\tJob.getJobManager().removeJobChangeListener(notifyJobCanceller);\r\n  }\r\n}\r\n```\r\n\r\nand specifically the line referring to &quot;.cproject&quot; writes the file.\r\n\r\nI now just need to see how this gets called, and deduce if I can mimic it in my scenario, or better still, find a way to re-use this Eclipse code.","title":"Eclipse .cproject programmatic creation","body":"<p>I've got Eclipse plugin code that programmatically creates an Eclipse project. The gist of it is here: <a href=\"https://stackoverflow.com/questions/75833893/programmatic-creation-of-eclipse-project-in-the-eclipse-workspace\">Programmatic creation of Eclipse project in the Eclipse workspace</a> (the code shown on this post is the same coding project as I am currently asking about).</p>\n<p>In my use-cases, the projects created are always C/C++ projects.</p>\n<p>I initially thought just adding a <code>CNature</code> to the instance of <code>IProjectDescription</code> would suffice when it is assigned to the instance of an <code>IProject</code> but this does not appear to be enough. The code runs seemlessly (no errors), but I'm rightly or wrongly expecting a <code>.cproject</code> file to be created also. I've tried various things to create this, including this:</p>\n<pre><code>IProject newProject = workspace.getRoot().getProject(projectName);\ntry {\n       newProject.create(newProjectDescription, monitor);  // create Eclipse project\n       CoreModel model = CoreModel.getDefault();           // get default CDT model\n       ICProject cproject = model.create(newProject);      // create CDT model for project\n    } catch (CoreException ex) {\n       // &lt;snipped - does some logging&gt;\n    }\n</code></pre>\n<p>...with this later...</p>\n<pre><code>try {\n        newProject.open(monitor);\n        newProject.setDescription(newProjectDescription, null);\n        cproject.save(null, true);  \n    } catch (CoreException e) {\n        // &lt;snipped - does some loggging&gt;\n    }\n</code></pre>\n<p>...to no avail.</p>\n<p>The programmatically created project is a duplicate of an existing project. The existing project was imported in to Eclipse using the &quot;Existing Projects into Workspace...&quot; option. I did not specify a toolchain for it. Neither does it actually have anything like make files in its structure, it's purely C and C++ files only. Yet, when I right-click on each and examine the context menu, the original manually imported one has &quot;Build Project&quot;, &quot;Clean Project&quot; and &quot;Make Targets&quot;. Similarly, if I compare properties, the original has a &quot;C/C++ Build&quot; section, but the programmatically created one lacks this. The same is true in that the original has a <code>.cproject</code> file and the programmatically created one does not.</p>\n<p>I wish them to be identical such that the programmatically created one has the items I mention it currently lacks, in order to have the same context menu, &quot;C/C++ Build&quot; section in its properties and the important <code>.cproject</code> file.</p>\n<p>I suspect it is the presence of the <code>.cproject</code> file that makes the difference in IDE behaviour, and I wish to know how to ensure that gets created also.</p>\n<p><strong>UPDATE 1:</strong></p>\n<p>Based on @nitind idea of tracing in to Eclipse code, I have discovered that the <code>.cproject</code> file is written from package <code>org.eclipse.cdt.internal.core.settings.model.xml</code> and class <code>DesSerializationRunnable</code>, which has the following function (given it implements <code>Runnable</code>):</p>\n<pre><code>public void run(IProgressMonitor monitor) throws CoreException {\n  JobChangeAdapter notifyJobCanceller = new NotifyJobCanceller((NotifyJobCanceller)null);\n  try {\n    Job.getJobManager().addJobChangeListener(notifyJobCanceller);\n    ResourcesPlugin.getWorkspace().run(new IWorkspaceRunnable() {\n        public void run(IProgressMonitor monitor) throws CoreException {\n        }\n    }, (ISchedulingRule)null, 1, (IProgressMonitor)null);\n    XmlProjectDescriptionStorage.this.serializingLock.acquire();\n    LanguageSettingsProvidersSerializer.serializeLanguageSettings(this.fDes);\n    XmlProjectDescriptionStorage.this.projectModificaitonStamp = XmlProjectDescriptionStorage.this.serialize(this.fDes.getProject(), &quot;.cproject&quot;, this.fElement);\n    ((ContributedEnvironment)CCorePlugin.getDefault().getBuildEnvironmentManager().getContributedEnvironment()).serialize(this.fDes);\n  } finally {\n    XmlProjectDescriptionStorage.this.serializingLock.release();\n    Job.getJobManager().removeJobChangeListener(notifyJobCanceller);\n  }\n}\n</code></pre>\n<p>and specifically the line referring to &quot;.cproject&quot; writes the file.</p>\n<p>I now just need to see how this gets called, and deduce if I can mimic it in my scenario, or better still, find a way to re-use this Eclipse code.</p>\n"},{"tags":["java","docker","dockerfile"],"comments":[{"owner":{"account_id":293130,"reputation":238888,"user_id":596285,"accept_rate":100,"display_name":"BMitch"},"score":0,"creation_date":1689457437,"post_id":76694890,"comment_id":135217087,"body_markdown":"You need to run the command from the folder with the Dockerfile. Use `cd` to change directories.","body":"You need to run the command from the folder with the Dockerfile. Use <code>cd</code> to change directories."}],"answers":[{"tags":[],"owner":{"account_id":3553633,"reputation":439,"user_id":3029310,"display_name":"wkukielczak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691001838,"creation_date":1691001838,"answer_id":76822700,"question_id":76694890,"body_markdown":"Ah, got it!\r\n\r\nYou ran the following command:\r\n`C:\\Users\\User&gt;docker build -t javaapp1`\r\nfrom `C:\\Users\\User` directory, which don&#39;t contain your `Dockerfile`.\r\nTo get it working, first change the directory to one that contains your `Dockerfile`, which is `C:\\Users\\User\\Desktop\\New folder 1` and then run docker build command\r\n\r\nHope it helped! ","title":"how to resolve failed to read dockerfile: open /var/lib/docker/tmp/buildkit-mount3554908678/Dockerfile:","body":"<p>Ah, got it!</p>\n<p>You ran the following command:\n<code>C:\\Users\\User&gt;docker build -t javaapp1</code>\nfrom <code>C:\\Users\\User</code> directory, which don't contain your <code>Dockerfile</code>.\nTo get it working, first change the directory to one that contains your <code>Dockerfile</code>, which is <code>C:\\Users\\User\\Desktop\\New folder 1</code> and then run docker build command</p>\n<p>Hope it helped! </p>\n"}],"owner":{"account_id":27808710,"reputation":21,"user_id":21231501,"display_name":"Deepali Sinha"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4102,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1691001838,"creation_date":1689440345,"question_id":76694890,"body_markdown":"I am trying to build a docker image on windows 10 using visual code \r\n\r\nDockerfile: \r\n\r\n    FROM openjdk\r\n    WORKDIR /app\r\n    COPY . /app\r\n    RUN javac dockerSample.java\r\n    CMD [&quot;java&quot;,&quot;dockerSample&quot;]\r\n\r\nDocker file path `C:\\Users\\User\\Desktop\\New folder 1\\Dockerfile`\r\n\r\nAfter running this command, I&#39;m getting the following error:\r\n\r\n&gt; C:\\Users\\User&gt;docker build -t javaapp1 . [+] Building 0.0s (0/0)      \r\n&gt; docker:default 2023/07/15 22:22:19 http2: server: error reading\r\n&gt; preface from client //./pipe/docker_engine: file has already been\r\n&gt; close[+] Building 4.0s (2/2) FINISHED                                 \r\n&gt; docker:default  =&gt; [internal] load build definition from Dockerfile   \r\n&gt; 1.4s  =&gt; =&gt; transferring dockerfile: 2B                                                                                 0.0s  =&gt; [internal] load .dockerignore                                                                                  1.9s  =&gt; =&gt; transferring context: 2B                                                                                    0.0s ERROR: failed to solve: failed to read dockerfile: open /var/lib/docker/tmp/buildkit-mount3554908678/Dockerfile: no such file\r\n&gt; or directory","title":"how to resolve failed to read dockerfile: open /var/lib/docker/tmp/buildkit-mount3554908678/Dockerfile:","body":"<p>I am trying to build a docker image on windows 10 using visual code</p>\n<p>Dockerfile:</p>\n<pre><code>FROM openjdk\nWORKDIR /app\nCOPY . /app\nRUN javac dockerSample.java\nCMD [&quot;java&quot;,&quot;dockerSample&quot;]\n</code></pre>\n<p>Docker file path <code>C:\\Users\\User\\Desktop\\New folder 1\\Dockerfile</code></p>\n<p>After running this command, I'm getting the following error:</p>\n<blockquote>\n<p>C:\\Users\\User&gt;docker build -t javaapp1 . [+] Building 0.0s (0/0)<br />\ndocker:default 2023/07/15 22:22:19 http2: server: error reading\npreface from client //./pipe/docker_engine: file has already been\nclose[+] Building 4.0s (2/2) FINISHED<br />\ndocker:default  =&gt; [internal] load build definition from Dockerfile<br />\n1.4s  =&gt; =&gt; transferring dockerfile: 2B                                                                                 0.0s  =&gt; [internal] load .dockerignore                                                                                  1.9s  =&gt; =&gt; transferring context: 2B                                                                                    0.0s ERROR: failed to solve: failed to read dockerfile: open /var/lib/docker/tmp/buildkit-mount3554908678/Dockerfile: no such file\nor directory</p>\n</blockquote>\n"},{"tags":["java","exception","spring-webflux","java-11"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1690999926,"post_id":76822132,"comment_id":135432616,"body_markdown":"As `Error` is a `Throwable` you can still catch them so your logic/reasoning is flawed you cannot catch them, because you can. Generally `Errors` are for unrecoverable situations. That being said the Error will never propagate to your client as that only knows about HTTP status codes.","body":"As <code>Error</code> is a <code>Throwable</code> you can still catch them so your logic/reasoning is flawed you cannot catch them, because you can. Generally <code>Errors</code> are for unrecoverable situations. That being said the Error will never propagate to your client as that only knows about HTTP status codes."},{"owner":{"account_id":5329935,"reputation":3,"user_id":4250786,"display_name":"Rafael Zucareli"},"score":0,"creation_date":1691051988,"post_id":76822132,"comment_id":135440057,"body_markdown":"Yes, I&#39;ll follow the suggestion to use RuntimeException. I&#39;ll try to document better as possible to prevent anyone to catch exceptions from this library (An exception error should always fail the tests, never test in any scenario).","body":"Yes, I&#39;ll follow the suggestion to use RuntimeException. I&#39;ll try to document better as possible to prevent anyone to catch exceptions from this library (An exception error should always fail the tests, never test in any scenario)."}],"answers":[{"tags":[],"owner":{"account_id":13715041,"reputation":16,"user_id":9896347,"display_name":"Ricardo Schuller"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1691000867,"creation_date":1690997730,"answer_id":76822287,"question_id":76822132,"body_markdown":"You might want to try to return a \r\n`Mono.error(new CustomError(response));` in your `handleError()` method.\r\nThis way you&#39;ve let the reactive pipeline know an error has occured and what to throw afterwards. Right now you just map to an Error object, which is not handled the same way as RuntimeExceptions.\r\n\r\nI would also say that it is probably better to stick to `Exceptions` instead of `Errors`. Errors tend to be unrecoverable situations for the program to run (`OutOfMemoryError` for example), whereas Exceptions are just exceptional cases that _could_ be reacted to potentially (retrying for a 503 status code, or reauthenticating when you receive a 401 status code back).\r\n\r\n\r\nExample implementation\r\n```java\r\n\tpublic Mono&lt;? extends Throwable&gt; handleError(ClientResponse clientResponse) {\r\n\t\tString message = String.format(&quot;Service error: %s&quot;,\r\n\t\t\t\tclientResponse.statusCode().getReasonPhrase());\r\n\t\treturn Mono.error(new CustomError(message));\r\n\t}\r\n```\r\nThis is also a good answer: https://stackoverflow.com/questions/53595420/correct-way-of-throwing-exceptions-with-reactor","title":"Deal with java.lang.Errors in Spring&#39;s WebClient requests","body":"<p>You might want to try to return a\n<code>Mono.error(new CustomError(response));</code> in your <code>handleError()</code> method.\nThis way you've let the reactive pipeline know an error has occured and what to throw afterwards. Right now you just map to an Error object, which is not handled the same way as RuntimeExceptions.</p>\n<p>I would also say that it is probably better to stick to <code>Exceptions</code> instead of <code>Errors</code>. Errors tend to be unrecoverable situations for the program to run (<code>OutOfMemoryError</code> for example), whereas Exceptions are just exceptional cases that <em>could</em> be reacted to potentially (retrying for a 503 status code, or reauthenticating when you receive a 401 status code back).</p>\n<p>Example implementation</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public Mono&lt;? extends Throwable&gt; handleError(ClientResponse clientResponse) {\n        String message = String.format(&quot;Service error: %s&quot;,\n                clientResponse.statusCode().getReasonPhrase());\n        return Mono.error(new CustomError(message));\n    }\n</code></pre>\n<p>This is also a good answer: <a href=\"https://stackoverflow.com/questions/53595420/correct-way-of-throwing-exceptions-with-reactor\">Correct way of throwing exceptions with Reactor</a></p>\n"}],"owner":{"account_id":5329935,"reputation":3,"user_id":4250786,"display_name":"Rafael Zucareli"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":76822287,"answer_count":1,"score":-2,"last_activity_date":1691000867,"creation_date":1690996222,"question_id":76822132,"body_markdown":"I&#39;m trying to retrieve data from a REST service using Spring&#39;s WebClient and trying to throw the 4XX and 5XX in a `Error` instead of instead of a `RuntimeException`.\r\n\r\n```\r\nreturn webclient. \r\n    .get()\r\n    .uri(myURI)\r\n    .accept(MediaType.APPLICATION_JSON)\r\n    .retrieve()\r\n    .onStatus(HttpStatus::isError, handleError()\r\n    .bodyToMono(String.class)\r\n    .block();\r\n```\r\n\r\n```\r\nprivate static Function&lt;ClientResponse, Mono&lt;? extends Throwable&gt;&gt; handleError() {\r\n    return response -&gt; response.bodyToMono(String.class).map(CustomError::new);\r\n}\r\n```\r\n\r\nI&#39;m trying to get this `Error` in a test but received a `ReactiveException` instead.\r\n\r\n```\r\norg.opentest4j.AssertionFailedError: Unexpected exception type thrown, \r\nExpected :class com.example.CustomError\r\nActual   :class reactor.core.Exceptions$ReactiveException\r\n```\r\n\r\nWhen I switch the extesion of `CustomError` from `Error` to `RuntimeException` the test pass.\r\n\r\nSince the onStatus expcept a `Function&lt;ClientResponse, Mono&lt;? extends Throwable&gt;&gt;` I expected to be able to throw an Error in this call.\r\n\r\nI&#39;m working on a test library and a initial request is strictly necessary and without a successfully request the test must fail. A `Error` will be prevent anyone to catch any problem related with the REST request in their own tests.","title":"Deal with java.lang.Errors in Spring&#39;s WebClient requests","body":"<p>I'm trying to retrieve data from a REST service using Spring's WebClient and trying to throw the 4XX and 5XX in a <code>Error</code> instead of instead of a <code>RuntimeException</code>.</p>\n<pre><code>return webclient. \n    .get()\n    .uri(myURI)\n    .accept(MediaType.APPLICATION_JSON)\n    .retrieve()\n    .onStatus(HttpStatus::isError, handleError()\n    .bodyToMono(String.class)\n    .block();\n</code></pre>\n<pre><code>private static Function&lt;ClientResponse, Mono&lt;? extends Throwable&gt;&gt; handleError() {\n    return response -&gt; response.bodyToMono(String.class).map(CustomError::new);\n}\n</code></pre>\n<p>I'm trying to get this <code>Error</code> in a test but received a <code>ReactiveException</code> instead.</p>\n<pre><code>org.opentest4j.AssertionFailedError: Unexpected exception type thrown, \nExpected :class com.example.CustomError\nActual   :class reactor.core.Exceptions$ReactiveException\n</code></pre>\n<p>When I switch the extesion of <code>CustomError</code> from <code>Error</code> to <code>RuntimeException</code> the test pass.</p>\n<p>Since the onStatus expcept a <code>Function&lt;ClientResponse, Mono&lt;? extends Throwable&gt;&gt;</code> I expected to be able to throw an Error in this call.</p>\n<p>I'm working on a test library and a initial request is strictly necessary and without a successfully request the test must fail. A <code>Error</code> will be prevent anyone to catch any problem related with the REST request in their own tests.</p>\n"},{"tags":["java","spring","spring-cloud-feign"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1691079745,"post_id":76822589,"comment_id":135446304,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":11509761,"reputation":1,"user_id":8434978,"display_name":"Guilherme Oliveira"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691000793,"creation_date":1691000793,"question_id":76822589,"body_markdown":"I am the feign client to fetch a list of comics from the Marvel Api. But a doubt arose, I created a MarvelComicsResponse class adding the attributes that I want to print in postman. I have an attribute called issueNumber of type Long and today MarvelApi returns me a numerical value, if by chance the MarvelApi devs change the issueNumber return from a numerical value to a String, I will possibly have an error in my application that will break it . My doubt is, is there any way I can make my application more tolerable using the feign client, that is, if MarvelApi changes the return type from numeric to String, I want my application to just ignore it instead of breaking it, until I to be able to make the necessary adjustments, is it possible?\r\n\r\nI would like to know if it is possible, if so I would like to see an example or some article or documentation about it please","title":"More tolerable feign client","body":"<p>I am the feign client to fetch a list of comics from the Marvel Api. But a doubt arose, I created a MarvelComicsResponse class adding the attributes that I want to print in postman. I have an attribute called issueNumber of type Long and today MarvelApi returns me a numerical value, if by chance the MarvelApi devs change the issueNumber return from a numerical value to a String, I will possibly have an error in my application that will break it . My doubt is, is there any way I can make my application more tolerable using the feign client, that is, if MarvelApi changes the return type from numeric to String, I want my application to just ignore it instead of breaking it, until I to be able to make the necessary adjustments, is it possible?</p>\n<p>I would like to know if it is possible, if so I would like to see an example or some article or documentation about it please</p>\n"},{"tags":["java","pdf","itext"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1691589911,"post_id":76822381,"comment_id":135512314,"body_markdown":"[This answer](https://stackoverflow.com/a/62219452/1729265) discusses the analoguous topic for iText 7 for .NET.","body":"<a href=\"https://stackoverflow.com/a/62219452/1729265\">This answer</a> discusses the analoguous topic for iText 7 for .NET."}],"owner":{"account_id":4410931,"reputation":5,"user_id":3593900,"display_name":"user3593900"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691000725,"creation_date":1690998660,"question_id":76822381,"body_markdown":" I have a single pdf file with 10 pages, I need to split into 10 files, how can I do it in iText?\r\n\r\nI&#39;m able to split the documents by page like below\r\n\r\n    List&lt;PdfDocument&gt; splitDocuments = new PdfSplitter(pdfDoc).splitByPageNumbers(1,2,3 ..10);\r\n\r\nHow Could I get get File object for each of the PdfDocument? \r\n\r\nThanks.","title":"How to create java File for each page from a signgle pdf document in iText 7 or above?","body":"<p>I have a single pdf file with 10 pages, I need to split into 10 files, how can I do it in iText?</p>\n<p>I'm able to split the documents by page like below</p>\n<pre><code>List&lt;PdfDocument&gt; splitDocuments = new PdfSplitter(pdfDoc).splitByPageNumbers(1,2,3 ..10);\n</code></pre>\n<p>How Could I get get File object for each of the PdfDocument?</p>\n<p>Thanks.</p>\n"},{"tags":["java","memory","intellij-idea","heap-memory"],"answers":[{"tags":[],"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1509593544,"creation_date":1509593544,"answer_id":47067163,"question_id":47066443,"body_markdown":"Use Help | [Edit Custom VM Options](https://intellij-support.jetbrains.com/hc/articles/206544869), change `-Xmx` value only to `2GB` or whatever value you need, `-Xms` value should be lower or the same. Note that too high heap can make GC pauses much longer.\r\n\r\nYou problem may be not related to memory settings at all. The proper way of reporting performance issues is [described in this document](https://intellij-support.jetbrains.com/hc/articles/207241235). You need to capture a CPU snapshot and submit it to JetBrains support or the issue tracker.","title":"IntelliJ IDEA heap size, initial heap size set to a larger value than the maximum heap size","body":"<p>Use Help | <a href=\"https://intellij-support.jetbrains.com/hc/articles/206544869\" rel=\"nofollow noreferrer\">Edit Custom VM Options</a>, change <code>-Xmx</code> value only to <code>2GB</code> or whatever value you need, <code>-Xms</code> value should be lower or the same. Note that too high heap can make GC pauses much longer.</p>\n\n<p>You problem may be not related to memory settings at all. The proper way of reporting performance issues is <a href=\"https://intellij-support.jetbrains.com/hc/articles/207241235\" rel=\"nofollow noreferrer\">described in this document</a>. You need to capture a CPU snapshot and submit it to JetBrains support or the issue tracker.</p>\n"},{"tags":[],"owner":{"account_id":1604295,"reputation":571,"user_id":1484679,"accept_rate":70,"display_name":"Able Johnson"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1519723477,"creation_date":1519723477,"answer_id":49005171,"question_id":47066443,"body_markdown":"I had the same issue in IntelliJ in MAC.\r\n\r\nThere is a build process heap size configuration in IntelliJ. You can find this setting in \r\n\r\n&gt; **Preferences &gt; Compiler &gt; Build Process Heap Size**\r\n\r\nMake sure the Xmx value(in the environment or VM options) is lower than the value in settings. If not either increase **Build Process Heap Size** in IntelliJ settings or reduce Xmx value in VM options.\r\n\r\nBy default **Build Process Heap Size** will be 700m.\r\n\r\n\r\n","title":"IntelliJ IDEA heap size, initial heap size set to a larger value than the maximum heap size","body":"<p>I had the same issue in IntelliJ in MAC.</p>\n\n<p>There is a build process heap size configuration in IntelliJ. You can find this setting in </p>\n\n<blockquote>\n  <p><strong>Preferences > Compiler > Build Process Heap Size</strong></p>\n</blockquote>\n\n<p>Make sure the Xmx value(in the environment or VM options) is lower than the value in settings. If not either increase <strong>Build Process Heap Size</strong> in IntelliJ settings or reduce Xmx value in VM options.</p>\n\n<p>By default <strong>Build Process Heap Size</strong> will be 700m.</p>\n"},{"tags":[],"owner":{"account_id":1953703,"reputation":611,"user_id":1757247,"display_name":"Mijo"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1541395536,"creation_date":1541395536,"answer_id":53148782,"question_id":47066443,"body_markdown":"I had the same issue on Linux. The configuration file is found in \r\n`~/.IntelliJIdea2018.2/config/idea64.vmoptions`\r\nThe directory will look like ~/.IntelliJIdeayyyy.n/config where yyyy is the year, and n is the release number in that year.\r\nMake sure that the \r\n`-Xms` value is higher than the `-Xmx`\r\nHere is my working config for ubuntu 18.04 with 8GB RAM\r\n\r\n    # custom IntelliJ IDEA VM options\r\n\r\n    -server\r\n    -Xms4096m\r\n    -Xmx4096m\r\n    -XX:NewSize=1024m\r\n    -XX:MaxNewSize=1512m\r\n    -XX:NewRatio=1\r\n    -XX:+UseParNewGC\r\n    -XX:ParallelGCThreads=4\r\n    -XX:MaxTenuringThreshold=1\r\n    -XX:SurvivorRatio=8\r\n    -XX:+UseCodeCacheFlushing\r\n    -XX:+UseConcMarkSweepGC\r\n    -XX:+AggressiveOpts\r\n    -XX:+CMSClassUnloadingEnabled\r\n    -XX:+CMSIncrementalMode\r\n    -XX:+CMSIncrementalPacing\r\n    -XX:+CMSParallelRemarkEnabled\r\n    -XX:CMSInitiatingOccupancyFraction=65\r\n    -XX:+CMSScavengeBeforeRemark\r\n    -XX:+UseCMSInitiatingOccupancyOnly\r\n    -XX:ReservedCodeCacheSize=64m\r\n    -XX:-TraceClassUnloading\r\n    -ea\r\n    -Dsun.io.useCanonCaches=false","title":"IntelliJ IDEA heap size, initial heap size set to a larger value than the maximum heap size","body":"<p>I had the same issue on Linux. The configuration file is found in \n<code>~/.IntelliJIdea2018.2/config/idea64.vmoptions</code>\nThe directory will look like ~/.IntelliJIdeayyyy.n/config where yyyy is the year, and n is the release number in that year.\nMake sure that the \n<code>-Xms</code> value is higher than the <code>-Xmx</code>\nHere is my working config for ubuntu 18.04 with 8GB RAM</p>\n\n<pre><code># custom IntelliJ IDEA VM options\n\n-server\n-Xms4096m\n-Xmx4096m\n-XX:NewSize=1024m\n-XX:MaxNewSize=1512m\n-XX:NewRatio=1\n-XX:+UseParNewGC\n-XX:ParallelGCThreads=4\n-XX:MaxTenuringThreshold=1\n-XX:SurvivorRatio=8\n-XX:+UseCodeCacheFlushing\n-XX:+UseConcMarkSweepGC\n-XX:+AggressiveOpts\n-XX:+CMSClassUnloadingEnabled\n-XX:+CMSIncrementalMode\n-XX:+CMSIncrementalPacing\n-XX:+CMSParallelRemarkEnabled\n-XX:CMSInitiatingOccupancyFraction=65\n-XX:+CMSScavengeBeforeRemark\n-XX:+UseCMSInitiatingOccupancyOnly\n-XX:ReservedCodeCacheSize=64m\n-XX:-TraceClassUnloading\n-ea\n-Dsun.io.useCanonCaches=false\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3801446,"reputation":1793,"user_id":3154987,"display_name":"BrianC"},"down_vote_count":1,"up_vote_count":21,"is_accepted":false,"score":20,"last_activity_date":1566227218,"creation_date":1566227218,"answer_id":57559461,"question_id":47066443,"body_markdown":"\r\nIf you are seeing this error in InteliJ after the 2019.2 update it is because the update changed the JVM XMX value to 2048m without checking the related values which can allow XMS to become larger than the max XMX value which is not valid and creates that error.\r\n\r\ni.e.  The values for me had been XMX=6000m and XMS=4096m but after the 2019.2 update they were XMX=2048m and XMS=4096m \r\n\r\nYou will have to manually change the values so XMS is equal to or less than XMX.  On Macs the VM options file is  ~/Library/Preferences/IntelliJIdea2019.2/idea.vmoptions \r\n\r\nNOTE:  That path assumes you are on InteliJ version 2019.2.   You will need to change that value in the path to the version you are on if ","title":"IntelliJ IDEA heap size, initial heap size set to a larger value than the maximum heap size","body":"<p>If you are seeing this error in InteliJ after the 2019.2 update it is because the update changed the JVM XMX value to 2048m without checking the related values which can allow XMS to become larger than the max XMX value which is not valid and creates that error.</p>\n\n<p>i.e.  The values for me had been XMX=6000m and XMS=4096m but after the 2019.2 update they were XMX=2048m and XMS=4096m </p>\n\n<p>You will have to manually change the values so XMS is equal to or less than XMX.  On Macs the VM options file is  ~/Library/Preferences/IntelliJIdea2019.2/idea.vmoptions </p>\n\n<p>NOTE:  That path assumes you are on InteliJ version 2019.2.   You will need to change that value in the path to the version you are on if </p>\n"}],"owner":{"account_id":11958156,"reputation":241,"user_id":8749883,"display_name":""},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34642,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"answer_count":4,"score":24,"last_activity_date":1691000599,"creation_date":1509588318,"question_id":47066443,"body_markdown":"I&#39;m a beginner in Java, and I just started using IntelliJ IDEA as my IDE.\r\n\r\nWhen I use it, sometimes it&#39;s delayed.\r\n\r\nI changed my `xms` and `xmx` for larger heap size (xms = 1024, xmx = 2048), but it throws an error. So, I rolled it back.\r\n\r\nThe error message was something like this: &quot;Initial heap size set to a larger value than the maximum heap size&quot;. What is the problem?\r\n\r\nIf possible, how do I increase maximum heap size?\r\n\r\nI&#39;m using a laptop and it has 8GB memory, x64 IntelliJ.exe used.\r\n","title":"IntelliJ IDEA heap size, initial heap size set to a larger value than the maximum heap size","body":"<p>I'm a beginner in Java, and I just started using IntelliJ IDEA as my IDE.</p>\n<p>When I use it, sometimes it's delayed.</p>\n<p>I changed my <code>xms</code> and <code>xmx</code> for larger heap size (xms = 1024, xmx = 2048), but it throws an error. So, I rolled it back.</p>\n<p>The error message was something like this: &quot;Initial heap size set to a larger value than the maximum heap size&quot;. What is the problem?</p>\n<p>If possible, how do I increase maximum heap size?</p>\n<p>I'm using a laptop and it has 8GB memory, x64 IntelliJ.exe used.</p>\n"},{"tags":["java","weblogic","weblogic12c"],"answers":[{"tags":[],"owner":{"account_id":2708748,"reputation":188,"user_id":2337743,"display_name":"Mario.Cadiz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691000207,"creation_date":1691000207,"answer_id":76822544,"question_id":76387648,"body_markdown":"If you need to build a page to change the password (located in embeddedLDAP or OpenLDAP) this Java API could help:\r\n\r\nhttps://github.com/talenteddeveloper/LDAPWithJava/blob/master/src/main/java/ldap/learn/App.java","title":"How to change user password of application running under WebLogic","body":"<p>If you need to build a page to change the password (located in embeddedLDAP or OpenLDAP) this Java API could help:</p>\n<p><a href=\"https://github.com/talenteddeveloper/LDAPWithJava/blob/master/src/main/java/ldap/learn/App.java\" rel=\"nofollow noreferrer\">https://github.com/talenteddeveloper/LDAPWithJava/blob/master/src/main/java/ldap/learn/App.java</a></p>\n"}],"owner":{"account_id":9722759,"reputation":656,"user_id":7210927,"display_name":"Hussain Akbar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691000207,"creation_date":1685687414,"question_id":76387648,"body_markdown":"I have deployed a Java application on a WebLogic 12C server. It uses security descriptors in web.xml and weblogic.xml for JSecurity authentication and authorization. That part works fine.\r\n\r\nweb.xml:\r\n````\r\n\t&lt;security-constraint&gt;\r\n\t\t&lt;display-name&gt;Security Constraint for User&lt;/display-name&gt;\r\n\t\t&lt;web-resource-collection&gt;\r\n\t\t\t&lt;web-resource-name&gt;Protected resources&lt;/web-resource-name&gt;\r\n\t\t\t&lt;description&gt;Protection for internal pages&lt;/description&gt;\r\n\t\t\t&lt;url-pattern&gt;/home/*&lt;/url-pattern&gt;\r\n\t\t\t&lt;url-pattern&gt;/Summary/*&lt;/url-pattern&gt;\r\n\t\t&lt;/web-resource-collection&gt;\r\n\t\t&lt;auth-constraint&gt;\r\n\t\t\t&lt;role-name&gt;MyAppUser&lt;/role-name&gt;\r\n\t\t&lt;/auth-constraint&gt;\r\n\t&lt;/security-constraint&gt;\r\n\t&lt;security-constraint&gt;\r\n\t\t&lt;display-name&gt;Constraint for Administrators&lt;/display-name&gt;\r\n\t\t&lt;web-resource-collection&gt;\r\n\t\t\t&lt;web-resource-name&gt;Pages protected for administrators&lt;/web-resource-name&gt;\r\n\t\t\t&lt;url-pattern&gt;/Profile/*&lt;/url-pattern&gt;\r\n\t\t&lt;/web-resource-collection&gt;\r\n\t\t&lt;auth-constraint&gt;\r\n\t\t\t&lt;role-name&gt;MyAppAdmin&lt;/role-name&gt;\r\n\t\t&lt;/auth-constraint&gt;\r\n\t&lt;/security-constraint&gt;\r\n\t&lt;login-config&gt;\r\n\t\t&lt;auth-method&gt;FORM&lt;/auth-method&gt;\r\n\t\t&lt;form-login-config&gt;\r\n\t\t\t&lt;form-login-page&gt;/Login/&lt;/form-login-page&gt;\r\n\t\t\t&lt;form-error-page&gt;/LoginError/&lt;/form-error-page&gt;\r\n\t\t&lt;/form-login-config&gt;\r\n\t&lt;/login-config&gt;\r\n````\r\n\r\nNow I am attempting to add code to have a JSP where a logged in user types old and new passwords to have it changed. I found one reference but can&#39;t find it again. All searches point to resetting WebLogic admin account using configuration files or using the security realm pages of the console.\r\n\r\nI should also mention that users &amp; roles are defined in the security realm on the dev server while on the production they are being authenticated using an OpenLDAP server which has been added as an authentication provider in WL&#39;s security realm.\r\n","title":"How to change user password of application running under WebLogic","body":"<p>I have deployed a Java application on a WebLogic 12C server. It uses security descriptors in web.xml and weblogic.xml for JSecurity authentication and authorization. That part works fine.</p>\n<p>web.xml:</p>\n<pre><code>    &lt;security-constraint&gt;\n        &lt;display-name&gt;Security Constraint for User&lt;/display-name&gt;\n        &lt;web-resource-collection&gt;\n            &lt;web-resource-name&gt;Protected resources&lt;/web-resource-name&gt;\n            &lt;description&gt;Protection for internal pages&lt;/description&gt;\n            &lt;url-pattern&gt;/home/*&lt;/url-pattern&gt;\n            &lt;url-pattern&gt;/Summary/*&lt;/url-pattern&gt;\n        &lt;/web-resource-collection&gt;\n        &lt;auth-constraint&gt;\n            &lt;role-name&gt;MyAppUser&lt;/role-name&gt;\n        &lt;/auth-constraint&gt;\n    &lt;/security-constraint&gt;\n    &lt;security-constraint&gt;\n        &lt;display-name&gt;Constraint for Administrators&lt;/display-name&gt;\n        &lt;web-resource-collection&gt;\n            &lt;web-resource-name&gt;Pages protected for administrators&lt;/web-resource-name&gt;\n            &lt;url-pattern&gt;/Profile/*&lt;/url-pattern&gt;\n        &lt;/web-resource-collection&gt;\n        &lt;auth-constraint&gt;\n            &lt;role-name&gt;MyAppAdmin&lt;/role-name&gt;\n        &lt;/auth-constraint&gt;\n    &lt;/security-constraint&gt;\n    &lt;login-config&gt;\n        &lt;auth-method&gt;FORM&lt;/auth-method&gt;\n        &lt;form-login-config&gt;\n            &lt;form-login-page&gt;/Login/&lt;/form-login-page&gt;\n            &lt;form-error-page&gt;/LoginError/&lt;/form-error-page&gt;\n        &lt;/form-login-config&gt;\n    &lt;/login-config&gt;\n</code></pre>\n<p>Now I am attempting to add code to have a JSP where a logged in user types old and new passwords to have it changed. I found one reference but can't find it again. All searches point to resetting WebLogic admin account using configuration files or using the security realm pages of the console.</p>\n<p>I should also mention that users &amp; roles are defined in the security realm on the dev server while on the production they are being authenticated using an OpenLDAP server which has been added as an authentication provider in WL's security realm.</p>\n"},{"tags":["java","apache-kafka","guice","dropwizard","dropwizard-guice"],"owner":{"account_id":16487419,"reputation":13,"user_id":12058690,"display_name":"Pedro Ventura"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691000065,"creation_date":1690987090,"question_id":76820988,"body_markdown":"Im trying to bind a producer in a java aplication on the following code on my appModule:\r\n\r\n```\r\nprotected void configure() {\r\n        try {\r\n            Environment environment = environment();\r\n            final JdbiFactory factory = new JdbiFactory();\r\n            final Jdbi jdbi = factory.build(environment, configuration.getDatabase(), DATABASE);\r\n            bind(CompanyNoticeRoundRepository.class).toInstance(jdbi.onDemand(CompanyNoticeRoundRepository.class));\r\n            bind(ISendNoticesRound.class).annotatedWith(Names.named(&quot;FreemiumCompanyNoticeRound&quot;)).to(SendNoticesRoundFreemium.class);\r\n            bind(new TypeLiteral&lt;Producer&lt;String, String&gt;&gt;(){}).toInstance(this.noticeKafka.getProducer());\r\n            bind(IProducerTopicHandler.class).to(ProducerTopicHandler.class);\r\n            bind(ISendNoticesRound.class).to(SendNoticesRoundCompany.class);\r\n        } catch (Exception e) {\r\n            this.logger.error(e.getMessage());\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void setConfiguration(AppConfiguration configuration) {\r\n        this.configuration = configuration;\r\n    }\r\n\r\n    public void setNoticeKafka(KafkaProducerBundle&lt;String, String, AppConfiguration&gt; noticeKafka) {\r\n        this.noticeKafka = noticeKafka;\r\n    }\r\n\r\n```\r\n\r\nAnd my kafkaProducerBundle in MainApplication:\r\n\r\n\r\n```\r\n    public final KafkaProducerBundle&lt;String, String, AppConfiguration&gt; kafka = new KafkaProducerBundle&lt;String, String, AppConfiguration&gt;(Collections.emptyList()) {\r\n\r\n        private Producer&lt;String, String&gt; producer;\r\n\r\n        @Override\r\n        public void run(AppConfiguration configuration, Environment environment) {\r\n            KafkaProducerFactory&lt;String, String&gt; kafkaProducerFactory =\r\n                    Objects.requireNonNull(this.getKafkaProducerFactory(configuration));\r\n            Tracing tracing = Tracing.current();\r\n            Collection&lt;String&gt; topics = configuration.getTopicsName();\r\n            this.producer = kafkaProducerFactory.build(environment.lifecycle(), environment.healthChecks(), topics, tracing,\r\n                    Collections.emptyMap());\r\n        }\r\n\r\n        @Override\r\n        public KafkaProducerFactory&lt;String, String&gt; getKafkaProducerFactory(AppConfiguration configuration) {\r\n            return configuration.getKafkaProducerFactory();\r\n        }\r\n\r\n        @Override\r\n        public Producer&lt;String, String&gt; getProducer() {\r\n            return Objects.requireNonNull(this.producer);\r\n        }\r\n    };\r\n\r\n```\r\n\r\nAnd my initilize:\r\n\r\n\r\n```\r\n    public void initialize(Bootstrap&lt;AppConfiguration&gt; bootstrap) {\r\n        //Guice\r\n        AppModule module = new AppModule();\r\n        module.setNoticeKafka(this.kafka);\r\n        bootstrap.addBundle(GuiceBundle.builder()\r\n                .enableAutoConfig(&quot;...&quot;)\r\n                .modules(module)\r\n                .printDiagnosticInfo()\r\n                .build());\r\n        //Google Secrets Manager\r\n//        ParameterStoreSourceProvider parameterStoreSourceProvider = new ParameterStoreSourceProvider(bootstrap.getConfigurationSourceProvider());\r\n//        bootstrap.setConfigurationSourceProvider(parameterStoreSourceProvider);\r\n        //Command\r\n        bootstrap.addCommand(new ExecuteCommand(this));\r\n    }\r\n```\r\n\r\n\r\nbut when i try to start the application i receive the following error:\r\n\r\n1) [Guice/MissingImplementation]: No implementation for Producer&lt;String, String&gt; was bound.\r\n\r\nRequested by:\r\n1  : AppModule.configure(AppModule.java:37)\r\n      \\_ installed by: Elements$ElementsAsModule -&gt; AppModule\r\n\r\nthe dependency:\r\n\r\n       \r\n```\r\n &lt;dependency&gt;\r\n            &lt;groupId&gt;io.dropwizard.modules&lt;/groupId&gt;\r\n            &lt;artifactId&gt;dropwizard-kafka&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nI really dont know what to do, can u guys lease help me? \r\n\r\nIve tried to set he module.SetNoticeKafka before guice, created a class for producer, but none worked","title":"Receiving &quot;Unable to create injector [Guice/MissingImplementation]: No implementation for Producer&lt;String, String&gt; was bound.&quot;","body":"<p>Im trying to bind a producer in a java aplication on the following code on my appModule:</p>\n<pre><code>protected void configure() {\n        try {\n            Environment environment = environment();\n            final JdbiFactory factory = new JdbiFactory();\n            final Jdbi jdbi = factory.build(environment, configuration.getDatabase(), DATABASE);\n            bind(CompanyNoticeRoundRepository.class).toInstance(jdbi.onDemand(CompanyNoticeRoundRepository.class));\n            bind(ISendNoticesRound.class).annotatedWith(Names.named(&quot;FreemiumCompanyNoticeRound&quot;)).to(SendNoticesRoundFreemium.class);\n            bind(new TypeLiteral&lt;Producer&lt;String, String&gt;&gt;(){}).toInstance(this.noticeKafka.getProducer());\n            bind(IProducerTopicHandler.class).to(ProducerTopicHandler.class);\n            bind(ISendNoticesRound.class).to(SendNoticesRoundCompany.class);\n        } catch (Exception e) {\n            this.logger.error(e.getMessage());\n        }\n    }\n\n    @Override\n    public void setConfiguration(AppConfiguration configuration) {\n        this.configuration = configuration;\n    }\n\n    public void setNoticeKafka(KafkaProducerBundle&lt;String, String, AppConfiguration&gt; noticeKafka) {\n        this.noticeKafka = noticeKafka;\n    }\n\n</code></pre>\n<p>And my kafkaProducerBundle in MainApplication:</p>\n<pre><code>    public final KafkaProducerBundle&lt;String, String, AppConfiguration&gt; kafka = new KafkaProducerBundle&lt;String, String, AppConfiguration&gt;(Collections.emptyList()) {\n\n        private Producer&lt;String, String&gt; producer;\n\n        @Override\n        public void run(AppConfiguration configuration, Environment environment) {\n            KafkaProducerFactory&lt;String, String&gt; kafkaProducerFactory =\n                    Objects.requireNonNull(this.getKafkaProducerFactory(configuration));\n            Tracing tracing = Tracing.current();\n            Collection&lt;String&gt; topics = configuration.getTopicsName();\n            this.producer = kafkaProducerFactory.build(environment.lifecycle(), environment.healthChecks(), topics, tracing,\n                    Collections.emptyMap());\n        }\n\n        @Override\n        public KafkaProducerFactory&lt;String, String&gt; getKafkaProducerFactory(AppConfiguration configuration) {\n            return configuration.getKafkaProducerFactory();\n        }\n\n        @Override\n        public Producer&lt;String, String&gt; getProducer() {\n            return Objects.requireNonNull(this.producer);\n        }\n    };\n\n</code></pre>\n<p>And my initilize:</p>\n<pre><code>    public void initialize(Bootstrap&lt;AppConfiguration&gt; bootstrap) {\n        //Guice\n        AppModule module = new AppModule();\n        module.setNoticeKafka(this.kafka);\n        bootstrap.addBundle(GuiceBundle.builder()\n                .enableAutoConfig(&quot;...&quot;)\n                .modules(module)\n                .printDiagnosticInfo()\n                .build());\n        //Google Secrets Manager\n//        ParameterStoreSourceProvider parameterStoreSourceProvider = new ParameterStoreSourceProvider(bootstrap.getConfigurationSourceProvider());\n//        bootstrap.setConfigurationSourceProvider(parameterStoreSourceProvider);\n        //Command\n        bootstrap.addCommand(new ExecuteCommand(this));\n    }\n</code></pre>\n<p>but when i try to start the application i receive the following error:</p>\n<ol>\n<li>[Guice/MissingImplementation]: No implementation for Producer&lt;String, String&gt; was bound.</li>\n</ol>\n<p>Requested by:\n1  : AppModule.configure(AppModule.java:37)\n_ installed by: Elements$ElementsAsModule -&gt; AppModule</p>\n<p>the dependency:</p>\n<pre><code> &lt;dependency&gt;\n            &lt;groupId&gt;io.dropwizard.modules&lt;/groupId&gt;\n            &lt;artifactId&gt;dropwizard-kafka&lt;/artifactId&gt;\n            &lt;version&gt;4.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>I really dont know what to do, can u guys lease help me?</p>\n<p>Ive tried to set he module.SetNoticeKafka before guice, created a class for producer, but none worked</p>\n"},{"tags":["java","maven","nexus","sonatype"],"comments":[{"owner":{"account_id":356850,"reputation":18179,"user_id":696632,"accept_rate":62,"display_name":"Michael-O"},"score":0,"creation_date":1691007218,"post_id":76822503,"comment_id":135433972,"body_markdown":"Upgrade to 3.8.8+","body":"Upgrade to 3.8.8+"},{"owner":{"account_id":15779511,"reputation":419,"user_id":11386331,"display_name":"Codebaard"},"score":0,"creation_date":1691051908,"post_id":76822503,"comment_id":135440041,"body_markdown":"maven or sonatype nexus?","body":"maven or sonatype nexus?"},{"owner":{"account_id":15779511,"reputation":419,"user_id":11386331,"display_name":"Codebaard"},"score":0,"creation_date":1691416146,"post_id":76822503,"comment_id":135484584,"body_markdown":"I updated to maven 3.9.4 which didn&#39;t solve my issue. In case you meant nexus, this is nothing I could so, since it&#39;s managed by a different department. Any other idea maybe?","body":"I updated to maven 3.9.4 which didn&#39;t solve my issue. In case you meant nexus, this is nothing I could so, since it&#39;s managed by a different department. Any other idea maybe?"},{"owner":{"account_id":356850,"reputation":18179,"user_id":696632,"accept_rate":62,"display_name":"Michael-O"},"score":0,"creation_date":1691416570,"post_id":76822503,"comment_id":135484714,"body_markdown":"I see nothing with this response of the Nexus server is configured to the repo sharding/partitioning. You might want to consider to try https://maven.apache.org/resolver/remote-repository-filtering.html to reduce the request count.","body":"I see nothing with this response of the Nexus server is configured to the repo sharding/partitioning. You might want to consider to try <a href=\"https://maven.apache.org/resolver/remote-repository-filtering.html\" rel=\"nofollow noreferrer\">maven.apache.org/resolver/remote-repository-filtering.html</a> to reduce the request count."}],"owner":{"account_id":15779511,"reputation":419,"user_id":11386331,"display_name":"Codebaard"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690999768,"creation_date":1690999768,"question_id":76822503,"body_markdown":"I&#39;m trying to build my application in Maven in a large enterprise setting (internal support is out of ideas, hence I&#39;m carrying it to a wider audience).\r\n\r\nWe&#39;re using a Sonatype Nexus repository to either proxy or host all plugins/dependencies and upon executing `mvn clean install` I get the following error:\r\n\r\n `[ERROR] Failed to execute goal org.apache.maven.plugins:maven-resources-plugin:3.3.1:resources (default-resources) on project &lt;redacted&gt;: Execution default-resources of goal org.apache.maven.plugins:maven-resources-plugin:3.3.1:resources failed: Plugin org.apache.maven.plugins:maven-resources-plugin:3.3.1 or one of its dependencies could not be resolved: Failed to collect dependencies at org.apache.maven.plugins:maven-resources-plugin:jar:3.3.1 -&gt; org.codehaus.plexus:plexus-interpolation:jar:1.26: Failed to read artifact descriptor for org.codehaus.plexus:plexus-interpolation:jar:1.26: Could not transfer artifact org.codehaus.plexus:plexus-interpolation:pom:1.26 from/to nexus (http://&lt;redacted.tld&gt;/repository/maven/): Access denied to: http://&lt;redacted.tld&gt;/repository/maven/org/codehaus/plexus/plexus-interpolation/1.26/plexus-interpolation-1.26.pom , ReasonPhrase:Forbidden. -&gt; [Help 1]\r\n`\r\n\r\nWhat left me puzzled is that according to our Nexus Team, the access is anonymous, hence no login is required. Also if I just *wget* the package with the link from the UI is works perfectly fine. Any SO answer I managed to find so far either describes how to properly enter user and password in the *~/.m2/settings.xml* - which in my case is even not required at all - or is related to uploading an artifact into the repository. The other packages in my project seem to download just fine, so the proxy config *generally* appears to be working.\r\n\r\nI&#39;m using Maven 3.5.2 on Amazon Linux 2 (EC2@AWS), Coretto 17.0.8 LTS and Nexus Repository Pro 3.44.0.\r\n\r\nAny ideas?","title":"Maven failing to transfer artifact to/from + Access denied: ReasonPhrase:Forbidden","body":"<p>I'm trying to build my application in Maven in a large enterprise setting (internal support is out of ideas, hence I'm carrying it to a wider audience).</p>\n<p>We're using a Sonatype Nexus repository to either proxy or host all plugins/dependencies and upon executing <code>mvn clean install</code> I get the following error:</p>\n<p><code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-resources-plugin:3.3.1:resources (default-resources) on project &lt;redacted&gt;: Execution default-resources of goal org.apache.maven.plugins:maven-resources-plugin:3.3.1:resources failed: Plugin org.apache.maven.plugins:maven-resources-plugin:3.3.1 or one of its dependencies could not be resolved: Failed to collect dependencies at org.apache.maven.plugins:maven-resources-plugin:jar:3.3.1 -&gt; org.codehaus.plexus:plexus-interpolation:jar:1.26: Failed to read artifact descriptor for org.codehaus.plexus:plexus-interpolation:jar:1.26: Could not transfer artifact org.codehaus.plexus:plexus-interpolation:pom:1.26 from/to nexus (http://&lt;redacted.tld&gt;/repository/maven/): Access denied to: http://&lt;redacted.tld&gt;/repository/maven/org/codehaus/plexus/plexus-interpolation/1.26/plexus-interpolation-1.26.pom , ReasonPhrase:Forbidden. -&gt; [Help 1] </code></p>\n<p>What left me puzzled is that according to our Nexus Team, the access is anonymous, hence no login is required. Also if I just <em>wget</em> the package with the link from the UI is works perfectly fine. Any SO answer I managed to find so far either describes how to properly enter user and password in the <em>~/.m2/settings.xml</em> - which in my case is even not required at all - or is related to uploading an artifact into the repository. The other packages in my project seem to download just fine, so the proxy config <em>generally</em> appears to be working.</p>\n<p>I'm using Maven 3.5.2 on Amazon Linux 2 (EC2@AWS), Coretto 17.0.8 LTS and Nexus Repository Pro 3.44.0.</p>\n<p>Any ideas?</p>\n"},{"tags":["java","multithreading","threadpool"],"comments":[{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":1,"creation_date":1690999280,"post_id":76822328,"comment_id":135432520,"body_markdown":"The &quot;sub-threads&quot; as you call them are created with `new Thread`. They do not come out of any pool, they are new objects, with their underlying system resources. A pool simply contains already started threads that are shared among &quot;clients&quot; of the pool. I do not think there is a way to start a thread with `new` and still get it out of a pool.","body":"The &quot;sub-threads&quot; as you call them are created with <code>new Thread</code>. They do not come out of any pool, they are new objects, with their underlying system resources. A pool simply contains already started threads that are shared among &quot;clients&quot; of the pool. I do not think there is a way to start a thread with <code>new</code> and still get it out of a pool."},{"owner":{"account_id":476019,"reputation":14699,"user_id":886697,"accept_rate":92,"display_name":"Stanislav Bashkyrtsev"},"score":1,"creation_date":1690999307,"post_id":76822328,"comment_id":135432525,"body_markdown":"Since you create your threads yourself with `new Thread()` and not with ThreadPools, then they are not part of any thread pools ;) There&#39;s no notion of sub-threads - just threads. You can create as many as you want manually, or you can ask Thread Pools to do that (and those pools will keep track of those threads that they created).","body":"Since you create your threads yourself with <code>new Thread()</code> and not with ThreadPools, then they are not part of any thread pools ;) There&#39;s no notion of sub-threads - just threads. You can create as many as you want manually, or you can ask Thread Pools to do that (and those pools will keep track of those threads that they created)."},{"owner":{"account_id":10212015,"reputation":1812,"user_id":7538821,"accept_rate":100,"display_name":"sam"},"score":0,"creation_date":1691001450,"post_id":76822328,"comment_id":135432871,"body_markdown":"That was very helpful. Thank you both for your time.","body":"That was very helpful. Thank you both for your time."}],"owner":{"account_id":10212015,"reputation":1812,"user_id":7538821,"accept_rate":100,"display_name":"sam"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690999029,"creation_date":1690998111,"question_id":76822328,"body_markdown":"Here is short program in which I have queries posted after the program\r\n```java\r\npublic class ThreadCheck {\r\n    public static void main(String[] args) {\r\n        ThreadCheck threadCheck = new ThreadCheck();\r\n        threadCheck.execute();\r\n    }\r\n\r\n    public void execute() {\r\n        ThreadFactory threadFactory = new ThreadFactoryBuilder().setNameFormat(&quot;my-thread-pool-%d&quot;).build();\r\n        int availableProcessors = Runtime.getRuntime().availableProcessors();\r\n        ScheduledExecutorService executor = Executors.newScheduledThreadPool(availableProcessors, threadFactory);\r\n        executor.execute(() -&gt; executeThread());\r\n        executor.execute(() -&gt; executeThread());\r\n        executor.execute(() -&gt; executeThread());\r\n    }\r\n\r\n    private void executeThread() {\r\n        System.out.println(Thread.currentThread().getName()); // the name format is my-thread-pool-%d\r\n        for (int i = 0; i &lt; 3; i++) {\r\n            // executing sub-Threads\r\n            new Thread(() -&gt;\r\n                    System.out.println(Thread.currentThread().getName())).start(); // the name format is Thread-%d\r\n        }\r\n    }\r\n}\r\n\r\n```\r\nOutput:\r\n```\r\nmy-thread-pool-0\r\nmy-thread-pool-1\r\nmy-thread-pool-2\r\nThread-0\r\nThread-1\r\nThread-5\r\nThread-4\r\nThread-3\r\nThread-6\r\nThread-2\r\nThread-7\r\nThread-8\r\n```\r\n\r\n\r\nI wanted to execute my Threads and the sub-Threads created within the Thread using a particular ThreadPool. For that I have created a `ScheduledExecutorService` with a `ThreadFactory` having name format as **my-thread-pool-%d**. Since I am not executing my sub-Threads using the given ScheduledExecutorService, the sub-Threads names are of the format **Thread-%d**. \r\n\r\nMy question is, are these sub-Threads executed via the `ForkJoinPool` or via the ScheduledExecutorService since they are sub-Threads?\r\n\r\nIf the sub-Threads are not executed by the given ScheduledExecutorService, is there any way to execute them without even providing the `ExecutorService`.","title":"ThreadPool of Threads executed inside a Thread","body":"<p>Here is short program in which I have queries posted after the program</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ThreadCheck {\n    public static void main(String[] args) {\n        ThreadCheck threadCheck = new ThreadCheck();\n        threadCheck.execute();\n    }\n\n    public void execute() {\n        ThreadFactory threadFactory = new ThreadFactoryBuilder().setNameFormat(&quot;my-thread-pool-%d&quot;).build();\n        int availableProcessors = Runtime.getRuntime().availableProcessors();\n        ScheduledExecutorService executor = Executors.newScheduledThreadPool(availableProcessors, threadFactory);\n        executor.execute(() -&gt; executeThread());\n        executor.execute(() -&gt; executeThread());\n        executor.execute(() -&gt; executeThread());\n    }\n\n    private void executeThread() {\n        System.out.println(Thread.currentThread().getName()); // the name format is my-thread-pool-%d\n        for (int i = 0; i &lt; 3; i++) {\n            // executing sub-Threads\n            new Thread(() -&gt;\n                    System.out.println(Thread.currentThread().getName())).start(); // the name format is Thread-%d\n        }\n    }\n}\n\n</code></pre>\n<p>Output:</p>\n<pre><code>my-thread-pool-0\nmy-thread-pool-1\nmy-thread-pool-2\nThread-0\nThread-1\nThread-5\nThread-4\nThread-3\nThread-6\nThread-2\nThread-7\nThread-8\n</code></pre>\n<p>I wanted to execute my Threads and the sub-Threads created within the Thread using a particular ThreadPool. For that I have created a <code>ScheduledExecutorService</code> with a <code>ThreadFactory</code> having name format as <strong>my-thread-pool-%d</strong>. Since I am not executing my sub-Threads using the given ScheduledExecutorService, the sub-Threads names are of the format <strong>Thread-%d</strong>.</p>\n<p>My question is, are these sub-Threads executed via the <code>ForkJoinPool</code> or via the ScheduledExecutorService since they are sub-Threads?</p>\n<p>If the sub-Threads are not executed by the given ScheduledExecutorService, is there any way to execute them without even providing the <code>ExecutorService</code>.</p>\n"},{"tags":["java","spring-boot","spring-security"],"answers":[{"tags":[],"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1536564438,"creation_date":1536563471,"answer_id":52252729,"question_id":52252698,"body_markdown":"If you read the error message you can see \r\n\r\n&gt; Could not resolve placeholder &#39;spring.queries.users-query&#39; in value &quot;${spring.queries.users-query}&quot;\r\n\r\nYou miss a property in your property file `spring.queries.users-query`\r\nAdd it and the eror should go away\r\n\r\nUPDATE:\r\n\r\nif you read the new error message: \r\n\r\n&gt; java.lang.NoSuchMethodError: javax.persistence.PersistenceContext.synchronization()Ljavax/persistence/SynchronizationType;\r\n\r\nYou can see an exception which Shows incompatible jar files\r\n","title":"Error creating bean with name &#39;securityConfig&#39;,Injection of autowired dependencies failed;exception java.lang.IllegalArgumentException","body":"<p>If you read the error message you can see </p>\n\n<blockquote>\n  <p>Could not resolve placeholder 'spring.queries.users-query' in value \"${spring.queries.users-query}\"</p>\n</blockquote>\n\n<p>You miss a property in your property file <code>spring.queries.users-query</code>\nAdd it and the eror should go away</p>\n\n<p>UPDATE:</p>\n\n<p>if you read the new error message: </p>\n\n<blockquote>\n  <p>java.lang.NoSuchMethodError: javax.persistence.PersistenceContext.synchronization()Ljavax/persistence/SynchronizationType;</p>\n</blockquote>\n\n<p>You can see an exception which Shows incompatible jar files</p>\n"}],"owner":{"account_id":14099491,"reputation":97,"user_id":10185188,"display_name":"mounika"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8191,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":52252729,"answer_count":1,"score":1,"last_activity_date":1690998977,"creation_date":1536563320,"question_id":52252698,"body_markdown":"I am doing spring boot security application of Library management system. When I run my application, I am getting the mentioned error. Could someone please help me out. Thanks in advance!\r\n\r\n//Securityconfig\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class SecurityConfiguration  extends WebSecurityConfigurerAdapter{\r\n    \t@Autowired\r\n    \tprivate BCryptPasswordEncoder bCryptPasswordEncoder;\r\n    \r\n    \t@Autowired\r\n    \tprivate DataSource dataSource;\r\n    \t@Value(&quot;${spring.queries.users-query}&quot;)\r\n    \tprivate String usersQuery;\r\n    \t@Value(&quot;${spring.queries.roles-query}&quot;)\r\n    \tprivate String rolesQuery;\r\n    \t@Override\r\n    \tprotected void configure(AuthenticationManagerBuilder auth)\r\n    \t\t\tthrows Exception {\r\n    \t\tauth.\r\n    \t\t\tjdbcAuthentication()\r\n    \t\t\t.usersByUsernameQuery(usersQuery)\r\n    \t\t\t.authoritiesByUsernameQuery(rolesQuery)\r\n    \t\t\t.dataSource(dataSource)\r\n    \t\t\t\t.passwordEncoder(bCryptPasswordEncoder);\r\n    \t}\r\n    \t@Override\r\n    \tprotected void configure(HttpSecurity http) throws Exception {\r\n    \t\t\r\n    \t\thttp.\r\n    \t\t\tauthorizeRequests()\r\n    \t\t\t.antMatchers(&quot;/&quot;).permitAll()\r\n    \t\t\t.antMatchers(&quot;/login&quot;).permitAll()\r\n    \t\t\t.antMatchers(&quot;/registration&quot;).permitAll()\r\n    \t\t\t.antMatchers(&quot;/admin/**&quot;).hasAuthority(&quot;ADMIN&quot;).anyRequest()\r\n    \t\t\t.authenticated().and().csrf().disable().formLogin()\r\n    \t\t\t.loginPage(&quot;/login&quot;).failureUrl(&quot;/login?error=true&quot;)\r\n    \t\t\t.defaultSuccessUrl(&quot;/admin/home&quot;)\r\n    \t\t\t.usernameParameter(&quot;email&quot;)\r\n    \t\t\t.passwordParameter(&quot;password&quot;)\r\n    \t\t\t.and().logout()\r\n    \t\t\t.logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;))\r\n    \t\t\t.logoutSuccessUrl(&quot;/&quot;).and().exceptionHandling()\r\n    \t\t\t.accessDeniedPage(&quot;/access-denied&quot;);\r\n    \t}\r\n    \t@Override\r\n    \tpublic void configure(WebSecurity web) throws Exception {\r\n    \t    web\r\n    \t       .ignoring()\r\n    \t       .antMatchers(&quot;/resources/**&quot;, &quot;/static/**&quot;, &quot;/css/**&quot;, &quot;/js/**&quot;, &quot;/images/**&quot;);\r\n    \t}\r\n    }\r\n//ServiceImpl\r\n\r\n    @Service\r\n    public class StudentServiceImpl implements StudentService {\r\n    \tprivate StudentRepository stuRepository;\r\n    \tpublic StudentServiceImpl(StudentRepository stuRepository) {\r\n    \t\tthis.stuRepository=stuRepository;\r\n    \t}\r\n    \t@Autowired   \r\n        private BCryptPasswordEncoder bCryptPasswordEncoder;    \t\r\n    \t@Override\r\n    \tpublic Student findStudentByEmail(String email) {\r\n    \t\treturn stuRepository.findByEmail(email);\r\n    \t}\r\n    \t@Override\r\n    \tpublic void saveStudent(Student stu) {\r\n    \t\tstu.setPassword(bCryptPasswordEncoder.encode(stu.getPassword()));\r\n            stuRepository.save(stu);\r\n    \t}\r\n    }\r\n\r\n//Error\r\n\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;securityConfiguration&#39;: Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder &#39;spring.queries.users-query&#39; in value &quot;${spring.queries.users-query}&quot;\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:378) ~[spring-beans-5.0.8.RELEASE.jar:5.0.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1341) ~[spring-beans-5.0.8.RELEASE.jar:5.0.8.RELEASE]\r\n\r\n//if I am adding the query in properties file. i am getting this error\r\n\r\n    org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;loginController&#39;: Unsatisfied dependency expressed through field &#39;stuserv&#39;; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;studentServiceImpl&#39; defined in file [C:\\Users\\Root\\eclipse-workspace\\manlib\\target\\classes\\com\\itcinfo\\manlib\\service\\StudentServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;studentRepository&#39;: Post-processing of merged bean definition failed; nested exception is java.lang.NoSuchMethodError: javax.persistence.PersistenceContext.synchronization()Ljavax/persistence/SynchronizationType;\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:586) ~[spring-beans-5.0.8.RELEASE.jar:5.0.8.RELEASE]\r\n    \tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:91) ~[spring-beans-5.0.8.RELEASE.jar:5.0.8.RELEASE]\r\n\r\n","title":"Error creating bean with name &#39;securityConfig&#39;,Injection of autowired dependencies failed;exception java.lang.IllegalArgumentException","body":"<p>I am doing spring boot security application of Library management system. When I run my application, I am getting the mentioned error. Could someone please help me out. Thanks in advance!</p>\n\n<p>//Securityconfig</p>\n\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfiguration  extends WebSecurityConfigurerAdapter{\n    @Autowired\n    private BCryptPasswordEncoder bCryptPasswordEncoder;\n\n    @Autowired\n    private DataSource dataSource;\n    @Value(\"${spring.queries.users-query}\")\n    private String usersQuery;\n    @Value(\"${spring.queries.roles-query}\")\n    private String rolesQuery;\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth)\n            throws Exception {\n        auth.\n            jdbcAuthentication()\n            .usersByUsernameQuery(usersQuery)\n            .authoritiesByUsernameQuery(rolesQuery)\n            .dataSource(dataSource)\n                .passwordEncoder(bCryptPasswordEncoder);\n    }\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n\n        http.\n            authorizeRequests()\n            .antMatchers(\"/\").permitAll()\n            .antMatchers(\"/login\").permitAll()\n            .antMatchers(\"/registration\").permitAll()\n            .antMatchers(\"/admin/**\").hasAuthority(\"ADMIN\").anyRequest()\n            .authenticated().and().csrf().disable().formLogin()\n            .loginPage(\"/login\").failureUrl(\"/login?error=true\")\n            .defaultSuccessUrl(\"/admin/home\")\n            .usernameParameter(\"email\")\n            .passwordParameter(\"password\")\n            .and().logout()\n            .logoutRequestMatcher(new AntPathRequestMatcher(\"/logout\"))\n            .logoutSuccessUrl(\"/\").and().exceptionHandling()\n            .accessDeniedPage(\"/access-denied\");\n    }\n    @Override\n    public void configure(WebSecurity web) throws Exception {\n        web\n           .ignoring()\n           .antMatchers(\"/resources/**\", \"/static/**\", \"/css/**\", \"/js/**\", \"/images/**\");\n    }\n}\n</code></pre>\n\n<p>//ServiceImpl</p>\n\n<pre><code>@Service\npublic class StudentServiceImpl implements StudentService {\n    private StudentRepository stuRepository;\n    public StudentServiceImpl(StudentRepository stuRepository) {\n        this.stuRepository=stuRepository;\n    }\n    @Autowired   \n    private BCryptPasswordEncoder bCryptPasswordEncoder;        \n    @Override\n    public Student findStudentByEmail(String email) {\n        return stuRepository.findByEmail(email);\n    }\n    @Override\n    public void saveStudent(Student stu) {\n        stu.setPassword(bCryptPasswordEncoder.encode(stu.getPassword()));\n        stuRepository.save(stu);\n    }\n}\n</code></pre>\n\n<p>//Error</p>\n\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'securityConfiguration': Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'spring.queries.users-query' in value \"${spring.queries.users-query}\"\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:378) ~[spring-beans-5.0.8.RELEASE.jar:5.0.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1341) ~[spring-beans-5.0.8.RELEASE.jar:5.0.8.RELEASE]\n</code></pre>\n\n<p>//if I am adding the query in properties file. i am getting this error</p>\n\n<pre><code>org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'loginController': Unsatisfied dependency expressed through field 'stuserv'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'studentServiceImpl' defined in file [C:\\Users\\Root\\eclipse-workspace\\manlib\\target\\classes\\com\\itcinfo\\manlib\\service\\StudentServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'studentRepository': Post-processing of merged bean definition failed; nested exception is java.lang.NoSuchMethodError: javax.persistence.PersistenceContext.synchronization()Ljavax/persistence/SynchronizationType;\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:586) ~[spring-beans-5.0.8.RELEASE.jar:5.0.8.RELEASE]\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:91) ~[spring-beans-5.0.8.RELEASE.jar:5.0.8.RELEASE]\n</code></pre>\n"},{"tags":["java","android","kotlin","aar"],"comments":[{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1690984547,"post_id":76820597,"comment_id":135429217,"body_markdown":"we need more information in order to help you. I recommend creating a separate project as a [mcve] to try to recreate the issue.","body":"we need more information in order to help you. I recommend creating a separate project as a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> to try to recreate the issue."},{"owner":{"account_id":7378264,"reputation":4782,"user_id":5709159,"accept_rate":58,"display_name":"Sirop4ik"},"score":0,"creation_date":1690984825,"post_id":76820597,"comment_id":135429300,"body_markdown":"@Code-Apprentice since I am talking about my working project it would be impossible to post the project here :(","body":"@Code-Apprentice since I am talking about my working project it would be impossible to post the project here :("},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1691006212,"post_id":76820597,"comment_id":135433783,"body_markdown":"that is why you create a separate project to reproduce the problem as the link I gave earlier describes","body":"that is why you create a separate project to reproduce the problem as the link I gave earlier describes"}],"answers":[{"tags":[],"owner":{"account_id":7378264,"reputation":4782,"user_id":5709159,"accept_rate":58,"display_name":"Sirop4ik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690998708,"creation_date":1690998708,"answer_id":76822386,"question_id":76820597,"body_markdown":"Finally this answer helped me to figure it out - https://stackoverflow.com/a/20927125/5709159, namely this query in terminal - `/gradlew assembleRelease` (or `/gradlew assembleDebug`)","title":"AAR file is not generating from the lib","body":"<p>Finally this answer helped me to figure it out - <a href=\"https://stackoverflow.com/a/20927125/5709159\">https://stackoverflow.com/a/20927125/5709159</a>, namely this query in terminal - <code>/gradlew assembleRelease</code> (or <code>/gradlew assembleDebug</code>)</p>\n"}],"owner":{"account_id":7378264,"reputation":4782,"user_id":5709159,"accept_rate":58,"display_name":"Sirop4ik"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1691006248,"accepted_answer_id":76822386,"answer_count":1,"score":0,"last_activity_date":1690998708,"creation_date":1690984435,"question_id":76820597,"body_markdown":"I have a project and the lib module (actually my project is a wrapper on the lib module in order to generate .aar). It&#39;s expected to work like this - once I build the project it is supposed to build the lib-module which is supposed to generate (under the hood) `.aar` under the `build-&gt;output` folder. So, finally, I can use it, however, the problem is that the `.aar` file is not being generated.\r\n\r\nAlso, have to mention that actually there are 2 lib modules under the project and the second lib-module `.aar` file generates successfully each time, so obviously it is something wrong with my first lib module.\r\n\r\nI have tried to clean, rebuild, invalidate and all of these things, but it doesn&#39;t work.\r\n\r\nIs there a way to figure out what is a possible issue?\r\n\r\nIs there a way to check (eg: with logs) where this `.aar` is generated? Or change the location? Or get any details about the generation process?","title":"AAR file is not generating from the lib","body":"<p>I have a project and the lib module (actually my project is a wrapper on the lib module in order to generate .aar). It's expected to work like this - once I build the project it is supposed to build the lib-module which is supposed to generate (under the hood) <code>.aar</code> under the <code>build-&gt;output</code> folder. So, finally, I can use it, however, the problem is that the <code>.aar</code> file is not being generated.</p>\n<p>Also, have to mention that actually there are 2 lib modules under the project and the second lib-module <code>.aar</code> file generates successfully each time, so obviously it is something wrong with my first lib module.</p>\n<p>I have tried to clean, rebuild, invalidate and all of these things, but it doesn't work.</p>\n<p>Is there a way to figure out what is a possible issue?</p>\n<p>Is there a way to check (eg: with logs) where this <code>.aar</code> is generated? Or change the location? Or get any details about the generation process?</p>\n"},{"tags":["java","spring","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1690710761,"post_id":76791699,"comment_id":135388950,"body_markdown":"`&lt;property name=&quot;dataSource&quot; ref=&quot;secondDataSource&quot; /&gt;` - the `firstEMF` bean definition does not contain similar property.","body":"<code>&lt;property name=&quot;dataSource&quot; ref=&quot;secondDataSource&quot; &#47;&gt;</code> - the <code>firstEMF</code> bean definition does not contain similar property."},{"owner":{"account_id":3783770,"reputation":19,"user_id":3142422,"display_name":"rbrbrts"},"score":0,"creation_date":1690998075,"post_id":76791699,"comment_id":135432332,"body_markdown":"Yes, my &quot;sanitizing&quot; deleted that, but it&#39;s in the original, I&#39;m editing to correct that which is misleading here. What I discovered is that my two configured EMFs are initialized just fine, but the framework really, really wants a bean named entityManagerFactory. I can&#39;t figure out how to turn that off.","body":"Yes, my &quot;sanitizing&quot; deleted that, but it&#39;s in the original, I&#39;m editing to correct that which is misleading here. What I discovered is that my two configured EMFs are initialized just fine, but the framework really, really wants a bean named entityManagerFactory. I can&#39;t figure out how to turn that off."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1690999025,"post_id":76791699,"comment_id":135432487,"body_markdown":"You can just set `primary=&quot;true&quot;` as an xml atttribute on one of your beans. To get more information on which EMF it is you can enable debug logging to see what is happening when. I also wonder how you are loading this XML file, because in theory Spring Boot should backoff as you have defined a `LocalEntityManagerFactoryBean` and shouldn&#39;t do another one itself.","body":"You can just set <code>primary=&quot;true&quot;</code> as an xml atttribute on one of your beans. To get more information on which EMF it is you can enable debug logging to see what is happening when. I also wonder how you are loading this XML file, because in theory Spring Boot should backoff as you have defined a <code>LocalEntityManagerFactoryBean</code> and shouldn&#39;t do another one itself."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1690999817,"post_id":76791699,"comment_id":135432597,"body_markdown":"There are parts of your configuration missing. I wonder where this `jpaSharedEM_entityManagerFactory` bean comes from (as that seems to be the ultimate culprit).","body":"There are parts of your configuration missing. I wonder where this <code>jpaSharedEM_entityManagerFactory</code> bean comes from (as that seems to be the ultimate culprit)."},{"owner":{"account_id":3783770,"reputation":19,"user_id":3142422,"display_name":"rbrbrts"},"score":0,"creation_date":1692284946,"post_id":76791699,"comment_id":135605211,"body_markdown":"I&#39;ll have to try the `primary=&quot;true&quot;` as that would be cleaner than my &quot;solution&quot; below. I haven&#39;t figured out where that `jpaSharedEM_entityManagerFactory` comes from either, though I recall one post referencing it in the context of Hikari, which I am *not* using. Most of the migration to Java 17 and Spring 6 involved mechanically replacing javax with jakarta in the imports","body":"I&#39;ll have to try the <code>primary=&quot;true&quot;</code> as that would be cleaner than my &quot;solution&quot; below. I haven&#39;t figured out where that <code>jpaSharedEM_entityManagerFactory</code> comes from either, though I recall one post referencing it in the context of Hikari, which I am <i>not</i> using. Most of the migration to Java 17 and Spring 6 involved mechanically replacing javax with jakarta in the imports"},{"owner":{"account_id":3783770,"reputation":19,"user_id":3142422,"display_name":"rbrbrts"},"score":0,"creation_date":1694118998,"post_id":76791699,"comment_id":135853129,"body_markdown":"@M.Deinum, for this question\n  I also wonder how you are loading this XML file\nThis is effectively two apps in one project. The web app is declared as \n`\n @SpringBootApplication \n @Configuration\n @ImportResource({ &quot;classpath*:applicationContext.xml&quot;, &quot;classpath*:servletContext.xml&quot; }) \n public class MyServletApplication { ... }\n`","body":"@M.Deinum, for this question   I also wonder how you are loading this XML file This is effectively two apps in one project. The web app is declared as  `  @SpringBootApplication   @Configuration  @ImportResource({ &quot;classpath*:applicationContext.xml&quot;, &quot;classpath*:servletContext.xml&quot; })   public class MyServletApplication { ... } `"},{"owner":{"account_id":3783770,"reputation":19,"user_id":3142422,"display_name":"rbrbrts"},"score":0,"creation_date":1694119099,"post_id":76791699,"comment_id":135853143,"body_markdown":"@M.Deinum the calculation driver &quot;manually &quot;loads the file\n\n@Service(value = &quot;poll&quot;)\npublic class CalcLaunch {\n  ...\n  private static ClassPathXmlApplicationContext factory;\n  public static void main(String[] args) throws Throwable {\n    factory = new ClassPathXmlApplicationContext(new String[] { &quot;applicationContext.xml&quot; });\n    CalcLaunch poll = factory.getBean(&quot;poll&quot;, CalcLaunch.class);\n    MyOptionsmyOptions = MyOptions.parseArgs(args);\n    poll.run(myOptions);\nfactory.close();\n  }\n}","body":"@M.Deinum the calculation driver &quot;manually &quot;loads the file  @Service(value = &quot;poll&quot;) public class CalcLaunch {   ...   private static ClassPathXmlApplicationContext factory;   public static void main(String[] args) throws Throwable {     factory = new ClassPathXmlApplicationContext(new String[] { &quot;applicationContext.xml&quot; });     CalcLaunch poll = factory.getBean(&quot;poll&quot;, CalcLaunch.class);     MyOptionsmyOptions = MyOptions.parseArgs(args);     poll.run(myOptions); factory.close();   } }"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1694156333,"post_id":76791699,"comment_id":135856858,"body_markdown":"Don&#39;t write code in comments that is totally unreadable.","body":"Don&#39;t write code in comments that is totally unreadable."}],"answers":[{"tags":[],"owner":{"account_id":13147502,"reputation":336,"user_id":9497126,"display_name":"acakojic"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1690708604,"creation_date":1690708604,"answer_id":76797097,"question_id":76791699,"body_markdown":"In Spring Boot 3 the auto-configuration for JPA has changed and it now expects the DataSource to be provided upfront before creating the EntityManagerFactory.\r\n\r\nIn your previous Spring Boot 2 setup, the EntityManagerFactory bean was created first, and then it would lookup the DataSource bean. But now this fails because the DataSource is not initialized yet when building the EMF.\r\n\r\nThe solution is to configure the LocalContainerEntityManagerFactoryBean to depend on the DataSource bean, so that it gets initialized first before building the EMF.\r\n```\r\n@Bean\r\npublic LocalContainerEntityManagerFactoryBean entityManagerFactory() {\r\n\r\n  LocalContainerEntityManagerFactoryBean emf = new LocalContainerEntityManagerFactoryBean();\r\n  \r\n  emf.setDataSource(dataSource()); // add this\r\n\r\n  // others configs\r\n  \r\n  return emf;\r\n}\r\n```\r\n```\r\n@Bean \r\npublic DataSource dataSource() {\r\n  // create and return the data source bean\r\n}\r\n```\r\nDataSource must be initialized before EntityManagerFactory. Configure EMF bean to depend on DataSource using setDataSource()\r\n\r\nThe key fix is making sure DataSource is available before building EntityManagerFactory","title":"Migrating to Spring 6, multiple datasources and entity managers","body":"<p>In Spring Boot 3 the auto-configuration for JPA has changed and it now expects the DataSource to be provided upfront before creating the EntityManagerFactory.</p>\n<p>In your previous Spring Boot 2 setup, the EntityManagerFactory bean was created first, and then it would lookup the DataSource bean. But now this fails because the DataSource is not initialized yet when building the EMF.</p>\n<p>The solution is to configure the LocalContainerEntityManagerFactoryBean to depend on the DataSource bean, so that it gets initialized first before building the EMF.</p>\n<pre><code>@Bean\npublic LocalContainerEntityManagerFactoryBean entityManagerFactory() {\n\n  LocalContainerEntityManagerFactoryBean emf = new LocalContainerEntityManagerFactoryBean();\n  \n  emf.setDataSource(dataSource()); // add this\n\n  // others configs\n  \n  return emf;\n}\n</code></pre>\n<pre><code>@Bean \npublic DataSource dataSource() {\n  // create and return the data source bean\n}\n</code></pre>\n<p>DataSource must be initialized before EntityManagerFactory. Configure EMF bean to depend on DataSource using setDataSource()</p>\n<p>The key fix is making sure DataSource is available before building EntityManagerFactory</p>\n"},{"tags":[],"owner":{"account_id":3783770,"reputation":19,"user_id":3142422,"display_name":"rbrbrts"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690971005,"creation_date":1690971005,"answer_id":76818846,"question_id":76791699,"body_markdown":"Here&#39;s what I&#39;ve done. Please tell me why this is wrong. It feels wrong, it smells wrong.\r\n\r\nI added this class\r\n\r\n    @Configuration\r\n    public class SpringBootVoodoo {\r\n\r\n        @Autowired\r\n        private ApplicationContext context;\r\n    \r\n        @Bean(name=&quot;entityManagerFactory&quot;)\r\n        public EntityManagerFactory sessionFactory() {\r\n            return (EntityManagerFactory) context.getBean(&quot;firstEMF&quot;);\r\n        }\r\n    }\r\n\r\nIt now starts up just fine.\r\n\r\nWhy did I even try this? Well, the article [Configure and Use Multiple DataSources in Spring Boot][1] implies I need to make one of my existing EMF beans be the primary. I can&#39;t find how to do that in XML. I don&#39;t really want to pull all the XML into code, and adding @Primary to FirstDAO didn&#39;t do the trick. This does. \r\n\r\nBut it smells wrong :-(\r\n\r\n  [1]: https://www.baeldung.com/spring-boot-configure-multiple-datasources","title":"Migrating to Spring 6, multiple datasources and entity managers","body":"<p>Here's what I've done. Please tell me why this is wrong. It feels wrong, it smells wrong.</p>\n<p>I added this class</p>\n<pre><code>@Configuration\npublic class SpringBootVoodoo {\n\n    @Autowired\n    private ApplicationContext context;\n\n    @Bean(name=&quot;entityManagerFactory&quot;)\n    public EntityManagerFactory sessionFactory() {\n        return (EntityManagerFactory) context.getBean(&quot;firstEMF&quot;);\n    }\n}\n</code></pre>\n<p>It now starts up just fine.</p>\n<p>Why did I even try this? Well, the article <a href=\"https://www.baeldung.com/spring-boot-configure-multiple-datasources\" rel=\"nofollow noreferrer\">Configure and Use Multiple DataSources in Spring Boot</a> implies I need to make one of my existing EMF beans be the primary. I can't find how to do that in XML. I don't really want to pull all the XML into code, and adding @Primary to FirstDAO didn't do the trick. This does.</p>\n<p>But it smells wrong :-(</p>\n"}],"owner":{"account_id":3783770,"reputation":19,"user_id":3142422,"display_name":"rbrbrts"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":539,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1690998189,"creation_date":1690592515,"question_id":76791699,"body_markdown":"I&#39;m migrating a project from Spring 5 (Spring Boot 2.x) to Spring 6 (Spring Boot 3.1) and upgrading to Java 17. This was originally done in Spring 4, and the application connects to two different databases, each configured in XML following the pattern in this post\r\n\r\n[Configuring Multiple Databases with Multiple EntityManagerFactory in Spring Data](https://stackoverflow.com/questions/49767032/configuring-multiple-databases-with-multiple-entitymanagerfactory-in-spring-data) \r\n\r\nI&#39;m running into a problem on start with the error like this one\r\n\r\n[Cannot resolve reference to bean &#39;entityManagerFactory&#39; while setting constructor argument](https://stackoverflow.com/questions/53140135/cannot-resolve-reference-to-bean-entitymanagerfactory-while-setting-constructo)\r\n\r\nBut I&#39;m stumped on how to correct this. My config looks something like this\r\n\r\n```\r\n    &lt;context:property-placeholder\r\n            location=&quot;file:${fvis.home}/conf/fvisconf.properties&quot;\r\n            ignore-unresolvable=&quot;false&quot; ignore-resource-not-found=&quot;true&quot; /&gt;\r\n\r\n    &lt;bean id=&quot;firstDataSource&quot;\r\n         class=&quot;org.apache.tomcat.jdbc.pool.DataSource&quot; destroy-method=&quot;close&quot;&gt;\r\n        &lt;property name=&quot;driverClassName&quot; value=&quot;oracle.jdbc.OracleDriver&quot; /&gt;\r\n        &lt;property name=&quot;url&quot;\r\n            value=&quot;jdbc:oracle:thin:@(description=(address_list=(address=(host=${fvisbt.drpg.host})(protocol=tcp)(port=1521))(load_balance=yes)(failover=yes))(connect_data=(service_name=${fvisbt.drpg.sid})))&quot;&gt;\r\n        &lt;/property&gt;\r\n        &lt;property name=&quot;username&quot; value=&quot;firstUser&quot; /&gt;\r\n        &lt;property name=&quot;password&quot; value=&quot;${second.password}&quot; /&gt;\r\n    &lt;/bean&gt;\r\n\r\n    &lt;bean id=&quot;secondDataSource&quot;\r\n         class=&quot;org.apache.tomcat.jdbc.pool.DataSource&quot; destroy-method=&quot;close&quot;&gt;\r\n        &lt;property name=&quot;driverClassName&quot; value=&quot;oracle.jdbc.OracleDriver&quot; /&gt;\r\n        &lt;property name=&quot;url&quot;\r\n            value=&quot;jdbc:oracle:thin:@(description=(address_list=(address=(host=${fvisbt.drpg.host})(protocol=tcp)(port=1521))(load_balance=yes)(failover=yes))(connect_data=(service_name=${fvisbt.jobdb.sid})))&quot;&gt;\r\n        &lt;/property&gt;\r\n        &lt;property name=&quot;username&quot; value=&quot;secondUser&quot; /&gt;\r\n        &lt;property name=&quot;password&quot; value=&quot;${second.password}&quot; /&gt;\r\n    &lt;/bean&gt;\r\n\r\n    &lt;!-- EntityManager injection is by package --&gt;\r\n    &lt;bean id=&quot;firstEMF&quot;\r\n          class=&quot;org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean&quot;&gt;\r\n        &lt;property name=&quot;dataSource&quot; ref=&quot;firstDataSource&quot; /&gt;\r\n        &lt;property name=&quot;jpaVendorAdapter&quot;&gt;\r\n            &lt;bean class=&quot;org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter&quot; /&gt;\r\n        &lt;/property&gt;\r\n        &lt;property name=&quot;jpaProperties&quot;&gt;\r\n            &lt;props&gt;\r\n                &lt;prop key=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.Oracle12cDialect&lt;/prop&gt;\r\n                &lt;prop key=&quot;hibernate.ejb.entitymanager_factory_name&quot;&gt;firstEMF&lt;/prop&gt;\r\n            &lt;/props&gt;\r\n        &lt;/property&gt;\r\n        &lt;property name=&quot;packagesToScan&quot;&gt;\r\n            &lt;list&gt;\r\n                &lt;value&gt;com.example.entity.first&lt;/value&gt;\r\n            &lt;/list&gt;\r\n        &lt;/property&gt;\r\n    &lt;/bean&gt;\r\n\r\n    &lt;bean id=&quot;secondEMF&quot;\r\n          class=&quot;org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean&quot;&gt;\r\n        &lt;property name=&quot;dataSource&quot; ref=&quot;secondDataSource&quot; /&gt;\r\n        &lt;property name=&quot;jpaVendorAdapter&quot;&gt;\r\n            &lt;bean class=&quot;org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter&quot; /&gt;\r\n        &lt;/property&gt;\r\n        &lt;property name=&quot;jpaProperties&quot;&gt;\r\n            &lt;props&gt;\r\n                &lt;prop key=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.Oracle12cDialect&lt;/prop&gt;\r\n                &lt;prop key=&quot;hibernate.ejb.entitymanager_factory_name&quot;&gt;secondEMF&lt;/prop&gt;\r\n            &lt;/props&gt;\r\n        &lt;/property&gt;\r\n        &lt;property name=&quot;packagesToScan&quot;&gt;\r\n            &lt;list&gt;\r\n                &lt;value&gt;com.example.entity.second&lt;/value&gt;\r\n            &lt;/list&gt;\r\n        &lt;/property&gt;\r\n    &lt;/bean&gt;\r\n```\r\n\r\n\r\nThe launch log looks like this\r\n\r\n```\r\n...\r\nINFO  c.e.w.MyApp                              : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\nINFO  .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\nINFO  .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 17 ms. Found 0 JPA repository interfaces.\r\nINFO  o.s.b.w.e.t.TomcatWebServer              : Tomcat initialized with port(s): 8080 (http)\r\nINFO  o.a.c.c.StandardService                  : Starting service [Tomcat]\r\nINFO  o.a.c.c.StandardEngine                   : Starting Servlet engine: [Apache Tomcat/10.1.10]\r\nINFO  o.a.j.s.TldScanner                       : At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\r\nINFO  o.a.c.c.C.[.[.[/]                        : Initializing Spring embedded WebApplicationContext\r\nINFO  w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2636 ms\r\nINFO  o.h.j.i.u.LogHelper                      : HHH000204: Processing PersistenceUnitInfo [name: default]\r\nINFO  o.h.Version                              : HHH000412: Hibernate ORM core version 6.2.5.Final\r\nINFO  o.h.c.Environment                        : HHH000406: Using bytecode reflection optimizer\r\nINFO  o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy\r\nINFO  o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer\r\nWARN  o.h.e.j.c.i.ConnectionProviderInitiator  : HHH000181: No appropriate connection provider encountered, assuming application will be supplying connections\r\nWARN  o.h.e.j.e.i.JdbcEnvironmentInitiator     : HHH000342: Could not obtain connection to query metadata\r\n\r\njava.lang.UnsupportedOperationException: The application must supply JDBC connections\r\n\tat org.hibernate.engine.jdbc.connections.internal.UserSuppliedConnectionProviderImpl.getConnection(UserSuppliedConnectionProviderImpl.java:44) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:316) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:152) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:34) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n\tat org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:119) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:264) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:239) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:216) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n\tat org.hibernate.boot.model.relational.Database.&lt;init&gt;(Database.java:45) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n\tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:230) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n\tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:198) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n\tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:166) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1380) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1451) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n\tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.0.10.jar:6.0.10]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.10.jar:6.0.10]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.10.jar:6.0.10]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.10.jar:6.0.10]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.10.jar:6.0.10]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816) ~[spring-beans-6.0.10.jar:6.0.10]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.10.jar:6.0.10]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.10.jar:6.0.10]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.10.jar:6.0.10]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.10.jar:6.0.10]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) [spring-beans-6.0.10.jar:6.0.10]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) [spring-beans-6.0.10.jar:6.0.10]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) [spring-beans-6.0.10.jar:6.0.10]\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) [spring-context-6.0.10.jar:6.0.10]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:931) [spring-context-6.0.10.jar:6.0.10]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) [spring-context-6.0.10.jar:6.0.10]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) [spring-boot-3.1.1.jar:3.1.1]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) [spring-boot-3.1.1.jar:3.1.1]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436) [spring-boot-3.1.1.jar:3.1.1]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:312) [spring-boot-3.1.1.jar:3.1.1]\r\n        ...\r\n\r\nINFO  o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy\r\nINFO  o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\nINFO  j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\nINFO  o.h.j.i.u.LogHelper                      : HHH000204: Processing PersistenceUnitInfo [name: default]\r\nINFO  o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy\r\nINFO  o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer\r\nINFO  o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy\r\nINFO  o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\nINFO  j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\nINFO  c.e.w.MyApp                              : adding properties resource, /META-INF/MANIFEST.MF\r\nWARN  ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;jpaSharedEM_entityManagerFactory&#39;: Cannot resolve reference to bean &#39;entityManagerFactory&#39; while setting constructor argument\r\nINFO  j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\nINFO  j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n```\r\n\r\nI have DAO objects which implement some basic CRUD operations as well as a few look-up. Ignoring the CRUD operations, they were done in a hierarchy to eliminate a lot of duplicate code, and the inheritance looks like\r\n\r\n```\r\npublic abstract class AbstractDAO&lt;T&gt; implements DAO&lt;T&gt; {\r\n    protected EntityManagerFactory entityManagerFactory;\r\n    protected abstract void setEntityManagerFactory(EntityManagerFactory entityManagerFactory);\r\n    public EntityManagerFactory getEntityManagerFactory() {\r\n        return this.entityManagerFactory;\r\n    }\r\n    ...\r\n}\r\n```\r\n\r\n```\r\npublic class FirstAbstractDAO &lt;K&gt; extends AbstractDAO&lt;K&gt; {\r\n    @Override\r\n    @Autowired\r\n    @Qualifier(&quot;firstEMF&quot;)\r\n    public void setEntityManagerFactory(EntityManagerFactory entityManagerFactory) {\r\n        this.entityManagerFactory = entityManagerFactory;\r\n    }\r\n}\r\n```\r\n\r\n```\r\npublic class SecondAbstractDAO &lt;K&gt; extends AbstractDAO&lt;K&gt; {\r\n    @Override\r\n    @Autowired\r\n    @Qualifier(&quot;secondEMF&quot;)\r\n    public void setEntityManagerFactory(EntityManagerFactory entityManagerFactory) {\r\n        this.entityManagerFactory = entityManagerFactory;\r\n    }\r\n}\r\n```\r\n\r\nThe logs show those getting intialized and, if I set a breakpoint in setEntityManagerFactory, I can clearly see them being initialized.\r\n\r\nWhat I can&#39;t figure out, is what is it that Spring Boot 3 is trying to initialize that results in the error in this traceback\r\n\r\n```\r\njava.lang.UnsupportedOperationException: The application must supply JDBC connections\r\n\tat org.hibernate.engine.jdbc.connections.internal.UserSuppliedConnectionProviderImpl.getConnection(UserSuppliedConnectionProviderImpl.java:44) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:316) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:152) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:34) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n\tat org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:119) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:264) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:239) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:216) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n\tat org.hibernate.boot.model.relational.Database.&lt;init&gt;(Database.java:45) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n\tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:230) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n\tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:198) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n\tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:166) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1380) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1451) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n\tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.0.10.jar:6.0.10]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.10.jar:6.0.10]\r\n...\r\n```\r\n\r\nIf I put a breakpoint in createContainerEntityManagerFactory, I see it is trying to intialize firstEMF. I suspect it is doing it &quot;too early&quot; in that when I get down into EntityManager.build, the configuration values for firstEMF are all set, but the dataSource is null.\r\n\r\nThis *seems* to me like I&#39;m missing something in my configuration, but I can&#39;t figure out what. Noice in the log the &quot;Initialized JPA EntityManagerFactory&quot; *after* the exception.\r\n\r\n-- EDIT/Additional Info --\r\n\r\nI&#39;ve put a breakpoint in one of the getBean methods in AnnotationConfigServletWebServerApplication where it is trying to resolve &quot;firstEMF&quot; as well as in LocalContainerEntityManagerFactoryBean.setDataSource. My XML is being correctly read and it is creating &quot;firstDataSource&quot; and the connection parameters all look to be correctly read. Look at the call chain, this is *while initializing firstEMF*. So I&#39;m more puzzled now as to why I&#39;m getting an exception later. \r\n\r\n[Configure and Use Multiple DataSources in Spring Boot][1] mentions using @Primary, but that when doing configuration in Java; I&#39;m not clear on how to configure the same via XML only.\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-boot-configure-multiple-datasources","title":"Migrating to Spring 6, multiple datasources and entity managers","body":"<p>I'm migrating a project from Spring 5 (Spring Boot 2.x) to Spring 6 (Spring Boot 3.1) and upgrading to Java 17. This was originally done in Spring 4, and the application connects to two different databases, each configured in XML following the pattern in this post</p>\n<p><a href=\"https://stackoverflow.com/questions/49767032/configuring-multiple-databases-with-multiple-entitymanagerfactory-in-spring-data\">Configuring Multiple Databases with Multiple EntityManagerFactory in Spring Data</a></p>\n<p>I'm running into a problem on start with the error like this one</p>\n<p><a href=\"https://stackoverflow.com/questions/53140135/cannot-resolve-reference-to-bean-entitymanagerfactory-while-setting-constructo\">Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument</a></p>\n<p>But I'm stumped on how to correct this. My config looks something like this</p>\n<pre><code>    &lt;context:property-placeholder\n            location=&quot;file:${fvis.home}/conf/fvisconf.properties&quot;\n            ignore-unresolvable=&quot;false&quot; ignore-resource-not-found=&quot;true&quot; /&gt;\n\n    &lt;bean id=&quot;firstDataSource&quot;\n         class=&quot;org.apache.tomcat.jdbc.pool.DataSource&quot; destroy-method=&quot;close&quot;&gt;\n        &lt;property name=&quot;driverClassName&quot; value=&quot;oracle.jdbc.OracleDriver&quot; /&gt;\n        &lt;property name=&quot;url&quot;\n            value=&quot;jdbc:oracle:thin:@(description=(address_list=(address=(host=${fvisbt.drpg.host})(protocol=tcp)(port=1521))(load_balance=yes)(failover=yes))(connect_data=(service_name=${fvisbt.drpg.sid})))&quot;&gt;\n        &lt;/property&gt;\n        &lt;property name=&quot;username&quot; value=&quot;firstUser&quot; /&gt;\n        &lt;property name=&quot;password&quot; value=&quot;${second.password}&quot; /&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=&quot;secondDataSource&quot;\n         class=&quot;org.apache.tomcat.jdbc.pool.DataSource&quot; destroy-method=&quot;close&quot;&gt;\n        &lt;property name=&quot;driverClassName&quot; value=&quot;oracle.jdbc.OracleDriver&quot; /&gt;\n        &lt;property name=&quot;url&quot;\n            value=&quot;jdbc:oracle:thin:@(description=(address_list=(address=(host=${fvisbt.drpg.host})(protocol=tcp)(port=1521))(load_balance=yes)(failover=yes))(connect_data=(service_name=${fvisbt.jobdb.sid})))&quot;&gt;\n        &lt;/property&gt;\n        &lt;property name=&quot;username&quot; value=&quot;secondUser&quot; /&gt;\n        &lt;property name=&quot;password&quot; value=&quot;${second.password}&quot; /&gt;\n    &lt;/bean&gt;\n\n    &lt;!-- EntityManager injection is by package --&gt;\n    &lt;bean id=&quot;firstEMF&quot;\n          class=&quot;org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean&quot;&gt;\n        &lt;property name=&quot;dataSource&quot; ref=&quot;firstDataSource&quot; /&gt;\n        &lt;property name=&quot;jpaVendorAdapter&quot;&gt;\n            &lt;bean class=&quot;org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter&quot; /&gt;\n        &lt;/property&gt;\n        &lt;property name=&quot;jpaProperties&quot;&gt;\n            &lt;props&gt;\n                &lt;prop key=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.Oracle12cDialect&lt;/prop&gt;\n                &lt;prop key=&quot;hibernate.ejb.entitymanager_factory_name&quot;&gt;firstEMF&lt;/prop&gt;\n            &lt;/props&gt;\n        &lt;/property&gt;\n        &lt;property name=&quot;packagesToScan&quot;&gt;\n            &lt;list&gt;\n                &lt;value&gt;com.example.entity.first&lt;/value&gt;\n            &lt;/list&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=&quot;secondEMF&quot;\n          class=&quot;org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean&quot;&gt;\n        &lt;property name=&quot;dataSource&quot; ref=&quot;secondDataSource&quot; /&gt;\n        &lt;property name=&quot;jpaVendorAdapter&quot;&gt;\n            &lt;bean class=&quot;org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter&quot; /&gt;\n        &lt;/property&gt;\n        &lt;property name=&quot;jpaProperties&quot;&gt;\n            &lt;props&gt;\n                &lt;prop key=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.Oracle12cDialect&lt;/prop&gt;\n                &lt;prop key=&quot;hibernate.ejb.entitymanager_factory_name&quot;&gt;secondEMF&lt;/prop&gt;\n            &lt;/props&gt;\n        &lt;/property&gt;\n        &lt;property name=&quot;packagesToScan&quot;&gt;\n            &lt;list&gt;\n                &lt;value&gt;com.example.entity.second&lt;/value&gt;\n            &lt;/list&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n</code></pre>\n<p>The launch log looks like this</p>\n<pre><code>...\nINFO  c.e.w.MyApp                              : No active profile set, falling back to 1 default profile: &quot;default&quot;\nINFO  .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\nINFO  .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 17 ms. Found 0 JPA repository interfaces.\nINFO  o.s.b.w.e.t.TomcatWebServer              : Tomcat initialized with port(s): 8080 (http)\nINFO  o.a.c.c.StandardService                  : Starting service [Tomcat]\nINFO  o.a.c.c.StandardEngine                   : Starting Servlet engine: [Apache Tomcat/10.1.10]\nINFO  o.a.j.s.TldScanner                       : At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\nINFO  o.a.c.c.C.[.[.[/]                        : Initializing Spring embedded WebApplicationContext\nINFO  w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2636 ms\nINFO  o.h.j.i.u.LogHelper                      : HHH000204: Processing PersistenceUnitInfo [name: default]\nINFO  o.h.Version                              : HHH000412: Hibernate ORM core version 6.2.5.Final\nINFO  o.h.c.Environment                        : HHH000406: Using bytecode reflection optimizer\nINFO  o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy\nINFO  o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer\nWARN  o.h.e.j.c.i.ConnectionProviderInitiator  : HHH000181: No appropriate connection provider encountered, assuming application will be supplying connections\nWARN  o.h.e.j.e.i.JdbcEnvironmentInitiator     : HHH000342: Could not obtain connection to query metadata\n\njava.lang.UnsupportedOperationException: The application must supply JDBC connections\n    at org.hibernate.engine.jdbc.connections.internal.UserSuppliedConnectionProviderImpl.getConnection(UserSuppliedConnectionProviderImpl.java:44) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:316) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:152) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:34) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:119) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:264) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:239) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:216) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.hibernate.boot.model.relational.Database.&lt;init&gt;(Database.java:45) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:230) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:198) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:166) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1380) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1451) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.0.10.jar:6.0.10]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.10.jar:6.0.10]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.10.jar:6.0.10]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.10.jar:6.0.10]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.10.jar:6.0.10]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816) ~[spring-beans-6.0.10.jar:6.0.10]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.10.jar:6.0.10]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.10.jar:6.0.10]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.10.jar:6.0.10]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.10.jar:6.0.10]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) [spring-beans-6.0.10.jar:6.0.10]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) [spring-beans-6.0.10.jar:6.0.10]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) [spring-beans-6.0.10.jar:6.0.10]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) [spring-context-6.0.10.jar:6.0.10]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:931) [spring-context-6.0.10.jar:6.0.10]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) [spring-context-6.0.10.jar:6.0.10]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) [spring-boot-3.1.1.jar:3.1.1]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) [spring-boot-3.1.1.jar:3.1.1]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436) [spring-boot-3.1.1.jar:3.1.1]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:312) [spring-boot-3.1.1.jar:3.1.1]\n        ...\n\nINFO  o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy\nINFO  o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\nINFO  j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'\nINFO  o.h.j.i.u.LogHelper                      : HHH000204: Processing PersistenceUnitInfo [name: default]\nINFO  o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy\nINFO  o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer\nINFO  o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy\nINFO  o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\nINFO  j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'\nINFO  c.e.w.MyApp                              : adding properties resource, /META-INF/MANIFEST.MF\nWARN  ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jpaSharedEM_entityManagerFactory': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument\nINFO  j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'\nINFO  j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'\n</code></pre>\n<p>I have DAO objects which implement some basic CRUD operations as well as a few look-up. Ignoring the CRUD operations, they were done in a hierarchy to eliminate a lot of duplicate code, and the inheritance looks like</p>\n<pre><code>public abstract class AbstractDAO&lt;T&gt; implements DAO&lt;T&gt; {\n    protected EntityManagerFactory entityManagerFactory;\n    protected abstract void setEntityManagerFactory(EntityManagerFactory entityManagerFactory);\n    public EntityManagerFactory getEntityManagerFactory() {\n        return this.entityManagerFactory;\n    }\n    ...\n}\n</code></pre>\n<pre><code>public class FirstAbstractDAO &lt;K&gt; extends AbstractDAO&lt;K&gt; {\n    @Override\n    @Autowired\n    @Qualifier(&quot;firstEMF&quot;)\n    public void setEntityManagerFactory(EntityManagerFactory entityManagerFactory) {\n        this.entityManagerFactory = entityManagerFactory;\n    }\n}\n</code></pre>\n<pre><code>public class SecondAbstractDAO &lt;K&gt; extends AbstractDAO&lt;K&gt; {\n    @Override\n    @Autowired\n    @Qualifier(&quot;secondEMF&quot;)\n    public void setEntityManagerFactory(EntityManagerFactory entityManagerFactory) {\n        this.entityManagerFactory = entityManagerFactory;\n    }\n}\n</code></pre>\n<p>The logs show those getting intialized and, if I set a breakpoint in setEntityManagerFactory, I can clearly see them being initialized.</p>\n<p>What I can't figure out, is what is it that Spring Boot 3 is trying to initialize that results in the error in this traceback</p>\n<pre><code>java.lang.UnsupportedOperationException: The application must supply JDBC connections\n    at org.hibernate.engine.jdbc.connections.internal.UserSuppliedConnectionProviderImpl.getConnection(UserSuppliedConnectionProviderImpl.java:44) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:316) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:152) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:34) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:119) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:264) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:239) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:216) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.hibernate.boot.model.relational.Database.&lt;init&gt;(Database.java:45) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:230) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:198) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:166) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1380) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1451) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.0.10.jar:6.0.10]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.10.jar:6.0.10]\n...\n</code></pre>\n<p>If I put a breakpoint in createContainerEntityManagerFactory, I see it is trying to intialize firstEMF. I suspect it is doing it &quot;too early&quot; in that when I get down into EntityManager.build, the configuration values for firstEMF are all set, but the dataSource is null.</p>\n<p>This <em>seems</em> to me like I'm missing something in my configuration, but I can't figure out what. Noice in the log the &quot;Initialized JPA EntityManagerFactory&quot; <em>after</em> the exception.</p>\n<p>-- EDIT/Additional Info --</p>\n<p>I've put a breakpoint in one of the getBean methods in AnnotationConfigServletWebServerApplication where it is trying to resolve &quot;firstEMF&quot; as well as in LocalContainerEntityManagerFactoryBean.setDataSource. My XML is being correctly read and it is creating &quot;firstDataSource&quot; and the connection parameters all look to be correctly read. Look at the call chain, this is <em>while initializing firstEMF</em>. So I'm more puzzled now as to why I'm getting an exception later.</p>\n<p><a href=\"https://www.baeldung.com/spring-boot-configure-multiple-datasources\" rel=\"nofollow noreferrer\">Configure and Use Multiple DataSources in Spring Boot</a> mentions using @Primary, but that when doing configuration in Java; I'm not clear on how to configure the same via XML only.</p>\n"},{"tags":["java","search"],"comments":[{"owner":{"display_name":"user6073886"},"score":2,"creation_date":1690991132,"post_id":76821509,"comment_id":135430898,"body_markdown":"You are trying to call a method that doesn&#39;t exist by trying to call `searchRange(int, int)` but the actual method expects 3 parameters: `searchRange(int, int, boolean)`.  If your method expects 3 arguments you need to call it with those 3 arguments. Also: The error message points to specific line in your code, and for some reason you didn&#39;t include that line - the line that actually causes the error - into the code of your question. This is quite sub-optimal.","body":"You are trying to call a method that doesn&#39;t exist by trying to call <code>searchRange(int, int)</code> but the actual method expects 3 parameters: <code>searchRange(int, int, boolean)</code>.  If your method expects 3 arguments you need to call it with those 3 arguments. Also: The error message points to specific line in your code, and for some reason you didn&#39;t include that line - the line that actually causes the error - into the code of your question. This is quite sub-optimal."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1690991247,"post_id":76821509,"comment_id":135430917,"body_markdown":"Off-topic:  This seems to be the page for the problem at LeetCode: https://leetcode.com/problems/find-first-and-last-position-of-element-in-sorted-array/","body":"Off-topic:  This seems to be the page for the problem at LeetCode: <a href=\"https://leetcode.com/problems/find-first-and-last-position-of-element-in-sorted-array/\" rel=\"nofollow noreferrer\">leetcode.com/problems/&hellip;</a>"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1690992388,"post_id":76821509,"comment_id":135431167,"body_markdown":"Please include all the code in your question.  You provided all the code except the part that caused the error.  Namely the instance of `Solution` invoking `searchRange`.  And main should be declare static if you expect to run this (although that may be a leetcode requriement).","body":"Please include all the code in your question.  You provided all the code except the part that caused the error.  Namely the instance of <code>Solution</code> invoking <code>searchRange</code>.  And main should be declare static if you expect to run this (although that may be a leetcode requriement)."},{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":0,"creation_date":1690993412,"post_id":76821509,"comment_id":135431400,"body_markdown":"Or just call `.search(int[],int)` since that may be the intent of the class.","body":"Or just call <code>.search(int[],int)</code> since that may be the intent of the class."},{"owner":{"account_id":29145578,"reputation":11,"user_id":22327574,"display_name":"Madhiha Shaik"},"score":1,"creation_date":1691071293,"post_id":76821509,"comment_id":135444354,"body_markdown":"@WJS That&#39;s the problem here. There is no such line.","body":"@WJS That&#39;s the problem here. There is no such line."}],"answers":[{"tags":[],"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690993307,"creation_date":1690993307,"answer_id":76821798,"question_id":76821509,"body_markdown":"The problem is clear from the error message: the LeetCode framework has code that calls `searchRange` with 2 arguments, while your implementation doesn&#39;t have a function with that signature. It has a `searchRange` with a third parameter.\r\n\r\nThe fix is to rename your `search` function (which *does* have the required parameter list) to `searchRange`. That way you overload `searchRange` so it can be called with both 2 and 3 arguments. The LeetCode code that will test your solution will now find the right function and will be able to call it.\r\n\r\nThe `main` function should not be part of what you submit to LeetCode: it is not used.\r\n\r\nThe rest of your code is fine. ","title":"First and last occurrence of an element in an sorted array","body":"<p>The problem is clear from the error message: the LeetCode framework has code that calls <code>searchRange</code> with 2 arguments, while your implementation doesn't have a function with that signature. It has a <code>searchRange</code> with a third parameter.</p>\n<p>The fix is to rename your <code>search</code> function (which <em>does</em> have the required parameter list) to <code>searchRange</code>. That way you overload <code>searchRange</code> so it can be called with both 2 and 3 arguments. The LeetCode code that will test your solution will now find the right function and will be able to call it.</p>\n<p>The <code>main</code> function should not be part of what you submit to LeetCode: it is not used.</p>\n<p>The rest of your code is fine.</p>\n"}],"owner":{"account_id":29145578,"reputation":11,"user_id":22327574,"display_name":"Madhiha Shaik"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1691574241,"accepted_answer_id":76821798,"answer_count":1,"score":-3,"last_activity_date":1690998007,"creation_date":1690990860,"question_id":76821509,"body_markdown":"I am solving a leetcode problem of finding the first and last occurrence of an element in an sorted array. Since it is a sorted array I&#39;m using binary search. but even though I&#39;m passing the ryt arguments to a method it shows an error actual and formal argument lists differ in length.\r\n\r\nHere&#39;s my code,\r\n\r\n\r\n```\r\n\r\nclass Solution {\r\n    public int searchRange(int[] nums, int target, boolean findStart) {\r\n        int ans = -1;\r\n        int start = 0;\r\n        int end = nums.length - 1;\r\n        while (start &lt;= end) {\r\n            int mid = start + (end - start) / 2;\r\n            if (target &lt; nums[mid]) {\r\n                end = mid - 1;\r\n            } else if (target &gt; nums[mid]) {\r\n                start = mid + 1;\r\n            } else {\r\n                ans = mid;\r\n                if (findStart) {\r\n                    end = mid - 1;\r\n                } else {\r\n                    start = mid + 1;\r\n                }\r\n            }\r\n        }\r\n        return ans;\r\n    }\r\n\r\n    public void main(String[] args) {\r\n        int[] nums = {5, 7, 7, 8, 8, 10};\r\n        int target = 8;\r\n        int[] result = search(nums,target);\r\n        System.out.println(result);\r\n    }\r\n\r\n    public int[] search(int[] nums, int target) {\r\n        int[] result = {-1, -1};\r\n        int start = searchRange(nums, target, true);\r\n        int end = searchRange(nums, target, false);\r\n        result[0] = start;\r\n        result[1] = end;\r\n        return result;\r\n    }\r\n}\r\n\r\nCompile Error\r\nLine 7: error: method searchRange in class Solution cannot be applied to given types; [in __Driver__.java]\r\n      int[] ret = new Solution().searchRange(param_1, param_2);\r\n                                ^\r\n  required: int[],int,boolean\r\n  found:    int[],int\r\n  reason: actual and formal argument lists differ in length\r\n\r\n```","title":"First and last occurrence of an element in an sorted array","body":"<p>I am solving a leetcode problem of finding the first and last occurrence of an element in an sorted array. Since it is a sorted array I'm using binary search. but even though I'm passing the ryt arguments to a method it shows an error actual and formal argument lists differ in length.</p>\n<p>Here's my code,</p>\n<pre><code>\nclass Solution {\n    public int searchRange(int[] nums, int target, boolean findStart) {\n        int ans = -1;\n        int start = 0;\n        int end = nums.length - 1;\n        while (start &lt;= end) {\n            int mid = start + (end - start) / 2;\n            if (target &lt; nums[mid]) {\n                end = mid - 1;\n            } else if (target &gt; nums[mid]) {\n                start = mid + 1;\n            } else {\n                ans = mid;\n                if (findStart) {\n                    end = mid - 1;\n                } else {\n                    start = mid + 1;\n                }\n            }\n        }\n        return ans;\n    }\n\n    public void main(String[] args) {\n        int[] nums = {5, 7, 7, 8, 8, 10};\n        int target = 8;\n        int[] result = search(nums,target);\n        System.out.println(result);\n    }\n\n    public int[] search(int[] nums, int target) {\n        int[] result = {-1, -1};\n        int start = searchRange(nums, target, true);\n        int end = searchRange(nums, target, false);\n        result[0] = start;\n        result[1] = end;\n        return result;\n    }\n}\n\nCompile Error\nLine 7: error: method searchRange in class Solution cannot be applied to given types; [in __Driver__.java]\n      int[] ret = new Solution().searchRange(param_1, param_2);\n                                ^\n  required: int[],int,boolean\n  found:    int[],int\n  reason: actual and formal argument lists differ in length\n\n</code></pre>\n"},{"tags":["java","interface"],"comments":[{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1690993721,"post_id":76821814,"comment_id":135431469,"body_markdown":"Well a TV is not a remote control. A *TV remote* is a remote; a remote *for* a TV. So the classes should more accurately be called &#39;TVRemote&#39; and &#39;ACRemote&#39;. Maybe if you expanded the model a bit more, TVRemote would hold a reference to a TV - the TV that it&#39;s associated with. Otherwise, looks good.","body":"Well a TV is not a remote control. A <i>TV remote</i> is a remote; a remote <i>for</i> a TV. So the classes should more accurately be called &#39;TVRemote&#39; and &#39;ACRemote&#39;. Maybe if you expanded the model a bit more, TVRemote would hold a reference to a TV - the TV that it&#39;s associated with. Otherwise, looks good."},{"owner":{"account_id":1507674,"reputation":5017,"user_id":1410669,"accept_rate":100,"display_name":"UpAndAdam"},"score":0,"creation_date":1690996897,"post_id":76821814,"comment_id":135432098,"body_markdown":"@Michael just replace RemoteControl with RemoteControllable and its good. You are correct though :-)","body":"@Michael just replace RemoteControl with RemoteControllable and its good. You are correct though :-)"}],"answers":[{"tags":[],"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690993675,"creation_date":1690993675,"answer_id":76821841,"question_id":76821814,"body_markdown":"In general your understanding is correct: interface is the means of describing a contract of interaction of a particular implementation of the interface with other code. Interfaces allow you to write your code in more general way.","title":"Is this how we use Interfaces in Java?","body":"<p>In general your understanding is correct: interface is the means of describing a contract of interaction of a particular implementation of the interface with other code. Interfaces allow you to write your code in more general way.</p>\n"},{"tags":[],"owner":{"account_id":1507674,"reputation":5017,"user_id":1410669,"accept_rate":100,"display_name":"UpAndAdam"},"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1690997011,"creation_date":1690994691,"answer_id":76821971,"question_id":76821814,"body_markdown":"Your explanation at the end is incorrect. You do not achieve **TOTAL** abstraction the way you describe it.  You **ARE** instantiating a `TV` object and an `AC` object.  The polymorphism is **static polymorphism**, not dynamic polymorphism.  So when you call the functions they operate **directly on the instantiated class** with the efficiency as if it was regular method.  \r\n\r\nBy implementing an interface in a class you are saying that your class behaves according to that interface in addition to anything else it does.  That means users can expect it to have certain features and behaviors without knowing subtleties of your class allowing for more abstraction and generalized usage.\r\n\r\nI want to point out that your ultimate usage **IS** correct.","title":"Is this how we use Interfaces in Java?","body":"<p>Your explanation at the end is incorrect. You do not achieve <strong>TOTAL</strong> abstraction the way you describe it.  You <strong>ARE</strong> instantiating a <code>TV</code> object and an <code>AC</code> object.  The polymorphism is <strong>static polymorphism</strong>, not dynamic polymorphism.  So when you call the functions they operate <strong>directly on the instantiated class</strong> with the efficiency as if it was regular method.</p>\n<p>By implementing an interface in a class you are saying that your class behaves according to that interface in addition to anything else it does.  That means users can expect it to have certain features and behaviors without knowing subtleties of your class allowing for more abstraction and generalized usage.</p>\n<p>I want to point out that your ultimate usage <strong>IS</strong> correct.</p>\n"}],"owner":{"account_id":27037859,"reputation":51,"user_id":20593183,"display_name":"Sourav Karjole"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":3,"up_vote_count":3,"closed_date":1691152469,"accepted_answer_id":76821971,"answer_count":2,"score":0,"last_activity_date":1690997268,"creation_date":1690993433,"question_id":76821814,"body_markdown":"Understanding interfaces in Java with example (checking what I learnt is correct)\r\n\r\nSuppose we have an interface called `RemoteControl` that declares a method `turnOn()`:\r\n```java\r\n// Interface defining the RemoteControl contract\r\ninterface RemoteControl {\r\n    void turnOn();\r\n}\r\n```\r\nNow, we have two classes TV and AC, both of which implement the `RemoteControl` interface:\r\n```java\r\n// TV class implementing the RemoteControl interface\r\nclass TV implements RemoteControl {\r\n    @Override\r\n    public void turnOn() {\r\n        System.out.println(&quot;TV is turned on&quot;);\r\n    }\r\n}\r\n\r\n// AC class implementing the RemoteControl interface\r\nclass AC implements RemoteControl {\r\n    @Override\r\n    public void turnOn() {\r\n        System.out.println(&quot;AC is turned on&quot;);\r\n    }\r\n}\r\n```\r\n\r\nNow, in the user code, we can interact with the TV and AC objects through the `RemoteControl` interface:\r\n```java\r\npublic class UserCode {\r\n    public static void main(String[] args) {\r\n        RemoteControl tvRemote = new TV(); // Create a TV object using the RemoteControl interface reference\r\n        RemoteControl acRemote = new AC(); // Create an AC object using the RemoteControl interface reference\r\n\r\n        tvRemote.turnOn(); // Calls the turnOn() method on the TV object\r\n        acRemote.turnOn(); // Calls the turnOn() method on the AC object\r\n    }\r\n}\r\n```\r\nIn this example, the `UserCode` class represents the user code that interacts with the TV and AC objects. And here user code creates objects of TV and AC classes using the `RemoteControl` interface reference.\r\n\r\nBy using the `RemoteControl` reference, is this where we say like --&gt; &quot; *User actually uses an interface (remote control) rather than interacting directly with classes (T.V class)*&quot;. \r\n\r\nSo when we use this reference we are not actually instantiating T.V class but using and interface reference so that User can use it. And hence we achieve here total **Abstraction** ( if more functionalities were included ) by not interacting directly with T.V class but only interface. \r\n\r\nAnd also we are able to make use of **Polymorphism**.\r\nAs a beginner learner i dont have much hands on Polymorphism yet but from code what i say is as a static **Polymorphism** when TV class and remote class would have again one same methods but with different parameters like ***turnOn(int channelNum)*** and same in **AC class** like ***turnOn(int increaseTemp)***, The compiler knows at compile time which implementation of the turnOn() method to call based on the reference type (RemoteControl). \r\n\r\nYeah and for **dynamic Polymorphism** there should be **inheritance** included and then methods **Overrinding** would make sense even more,here i have not provided much details just making sure my understanding is correct or not","title":"Is this how we use Interfaces in Java?","body":"<p>Understanding interfaces in Java with example (checking what I learnt is correct)</p>\n<p>Suppose we have an interface called <code>RemoteControl</code> that declares a method <code>turnOn()</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Interface defining the RemoteControl contract\ninterface RemoteControl {\n    void turnOn();\n}\n</code></pre>\n<p>Now, we have two classes TV and AC, both of which implement the <code>RemoteControl</code> interface:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// TV class implementing the RemoteControl interface\nclass TV implements RemoteControl {\n    @Override\n    public void turnOn() {\n        System.out.println(&quot;TV is turned on&quot;);\n    }\n}\n\n// AC class implementing the RemoteControl interface\nclass AC implements RemoteControl {\n    @Override\n    public void turnOn() {\n        System.out.println(&quot;AC is turned on&quot;);\n    }\n}\n</code></pre>\n<p>Now, in the user code, we can interact with the TV and AC objects through the <code>RemoteControl</code> interface:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class UserCode {\n    public static void main(String[] args) {\n        RemoteControl tvRemote = new TV(); // Create a TV object using the RemoteControl interface reference\n        RemoteControl acRemote = new AC(); // Create an AC object using the RemoteControl interface reference\n\n        tvRemote.turnOn(); // Calls the turnOn() method on the TV object\n        acRemote.turnOn(); // Calls the turnOn() method on the AC object\n    }\n}\n</code></pre>\n<p>In this example, the <code>UserCode</code> class represents the user code that interacts with the TV and AC objects. And here user code creates objects of TV and AC classes using the <code>RemoteControl</code> interface reference.</p>\n<p>By using the <code>RemoteControl</code> reference, is this where we say like --&gt; &quot; <em>User actually uses an interface (remote control) rather than interacting directly with classes (T.V class)</em>&quot;.</p>\n<p>So when we use this reference we are not actually instantiating T.V class but using and interface reference so that User can use it. And hence we achieve here total <strong>Abstraction</strong> ( if more functionalities were included ) by not interacting directly with T.V class but only interface.</p>\n<p>And also we are able to make use of <strong>Polymorphism</strong>.\nAs a beginner learner i dont have much hands on Polymorphism yet but from code what i say is as a static <strong>Polymorphism</strong> when TV class and remote class would have again one same methods but with different parameters like <em><strong>turnOn(int channelNum)</strong></em> and same in <strong>AC class</strong> like <em><strong>turnOn(int increaseTemp)</strong></em>, The compiler knows at compile time which implementation of the turnOn() method to call based on the reference type (RemoteControl).</p>\n<p>Yeah and for <strong>dynamic Polymorphism</strong> there should be <strong>inheritance</strong> included and then methods <strong>Overrinding</strong> would make sense even more,here i have not provided much details just making sure my understanding is correct or not</p>\n"},{"tags":["java","android","kotlin","proguard"],"answers":[{"tags":[],"owner":{"account_id":14218047,"reputation":11740,"user_id":10271334,"display_name":"Jeel Vankhede"},"down_vote_count":0,"up_vote_count":84,"is_accepted":true,"score":84,"last_activity_date":1668281714,"creation_date":1585207633,"answer_id":60862591,"question_id":60861929,"body_markdown":"I&#39;ll try to answer each question, but let me know if something doesn&#39;t make sense!\r\n\r\n### 1. *Will all of the modules code be obfuscated by the rules of the main modules pro-guard rules even if the module does not specify any rules?*\r\n\r\nObfuscation doesn&#39;t work that way. When you enable the `minifyEnabled` property in your app module, it tries to obfuscate code available from the app module as well as its 3rd party dependencies, and your library modules would be considered 3rd party deps. *But it doesn&#39;t touch any transitive dependency of your 3rd party dependencies*.\r\n\r\n----------\r\n\r\n### 2. *What is the difference between consumer-rules.pro and proguard-rules.pro in Android?*\r\n\r\n**proguard-rules.pro** is the file where you declare rules related to Proguard for your module and its dependencies.\r\n\r\n**consumer-rules.pro** is the file where you declare rules that can be applied to your module by the consumer *(whoever would be using your module/library as a dependency -- typically library devs)*.\r\n\r\n----------\r\n\r\n### 3. *Should i enable minifyEnabled in my module?*\r\n\r\nI would suggest that you do *(Every dev should on release APKs)*, but make sure everything is working as expected because the underlying **classes.dex** changes after applying `minifyEnabled`. It helps reduce output APK size, optimizes code, obfuscates class files, and much more...\r\n\r\n----------\r\n\r\n### 4. *I noticed that i can add proguard rules for my module in the main module , so does that mean pro-guard rules in the module are overriden in the main module?*\r\n\r\nNo, basically library rules get applied from the **consumer-rules** file from the library module itself, so when you declare those rules for the library in the app module, it gets applied the same way from **consumer-rules**, which is basically an indication that the consumer should use these rules when minifying.\r\n\r\n**proguard-rules.pro** of the library is the place where you declare rules for 3rd party dependencies of your library *(which is considered a transitive dependency for your app module/main module)*, and it doesn&#39;t get overridden by app module rules.\r\n\r\n----------\r\n\r\nI hope that makes sense!","title":"What is the difference between consumer-rules.pro and proguard-rules.pro in Android?","body":"<p>I'll try to answer each question, but let me know if something doesn't make sense!</p>\n<h3>1. <em>Will all of the modules code be obfuscated by the rules of the main modules pro-guard rules even if the module does not specify any rules?</em></h3>\n<p>Obfuscation doesn't work that way. When you enable the <code>minifyEnabled</code> property in your app module, it tries to obfuscate code available from the app module as well as its 3rd party dependencies, and your library modules would be considered 3rd party deps. <em>But it doesn't touch any transitive dependency of your 3rd party dependencies</em>.</p>\n<hr />\n<h3>2. <em>What is the difference between consumer-rules.pro and proguard-rules.pro in Android?</em></h3>\n<p><strong>proguard-rules.pro</strong> is the file where you declare rules related to Proguard for your module and its dependencies.</p>\n<p><strong>consumer-rules.pro</strong> is the file where you declare rules that can be applied to your module by the consumer <em>(whoever would be using your module/library as a dependency -- typically library devs)</em>.</p>\n<hr />\n<h3>3. <em>Should i enable minifyEnabled in my module?</em></h3>\n<p>I would suggest that you do <em>(Every dev should on release APKs)</em>, but make sure everything is working as expected because the underlying <strong>classes.dex</strong> changes after applying <code>minifyEnabled</code>. It helps reduce output APK size, optimizes code, obfuscates class files, and much more...</p>\n<hr />\n<h3>4. <em>I noticed that i can add proguard rules for my module in the main module , so does that mean pro-guard rules in the module are overriden in the main module?</em></h3>\n<p>No, basically library rules get applied from the <strong>consumer-rules</strong> file from the library module itself, so when you declare those rules for the library in the app module, it gets applied the same way from <strong>consumer-rules</strong>, which is basically an indication that the consumer should use these rules when minifying.</p>\n<p><strong>proguard-rules.pro</strong> of the library is the place where you declare rules for 3rd party dependencies of your library <em>(which is considered a transitive dependency for your app module/main module)</em>, and it doesn't get overridden by app module rules.</p>\n<hr />\n<p>I hope that makes sense!</p>\n"},{"tags":[],"owner":{"account_id":16877632,"reputation":2683,"user_id":12204620,"display_name":"Bitwise DEVS"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1690997237,"creation_date":1664884632,"answer_id":73947524,"question_id":60861929,"body_markdown":"If you are developing a library/module you can use `consumer-rules.pro` to put rules to the consumer of your library. One example is when I created a common module that contains Moshi + Retrofit and enabled full mode R8. I need to add certain rules to for it to work in the consumer&#39;s project, I could either leave that task to consumer or I can put it in the library&#39;s `consumer-rules.pro` to make sure that every usage or all consumer of my library will not need to worry of adding a such rules on their project when using/consuming my library.","title":"What is the difference between consumer-rules.pro and proguard-rules.pro in Android?","body":"<p>If you are developing a library/module you can use <code>consumer-rules.pro</code> to put rules to the consumer of your library. One example is when I created a common module that contains Moshi + Retrofit and enabled full mode R8. I need to add certain rules to for it to work in the consumer's project, I could either leave that task to consumer or I can put it in the library's <code>consumer-rules.pro</code> to make sure that every usage or all consumer of my library will not need to worry of adding a such rules on their project when using/consuming my library.</p>\n"}],"owner":{"account_id":8898907,"reputation":8529,"user_id":6642927,"display_name":"Dishonered"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14822,"favorite_count":0,"down_vote_count":0,"up_vote_count":50,"accepted_answer_id":60862591,"answer_count":2,"score":50,"last_activity_date":1690997237,"creation_date":1585203699,"question_id":60861929,"body_markdown":"I have create a module in Android to use in my main app and there seem to be two of these files \r\nconsumer-rules.pro and proguard-rules.pro. \r\n\r\nI would like to know the folllowing things\r\n\r\n 1. Will all of the modules code be obfuscated by the rules of the main modules pro-guard rules \r\n    even if the module does not specify any rules?\r\n 2. What is the difference between consumer-rules.pro and proguard-rules.pro in Android?\r\n 3. Should i enable minifyEnabled in my module?\r\n 4. I noticed that i can add proguard rules for my module in the main module , so does that mean\r\n    pro-guard rules in the module are overriden in the main module?\r\n\r\nPlease advise.","title":"What is the difference between consumer-rules.pro and proguard-rules.pro in Android?","body":"<p>I have create a module in Android to use in my main app and there seem to be two of these files \nconsumer-rules.pro and proguard-rules.pro. </p>\n\n<p>I would like to know the folllowing things</p>\n\n<ol>\n<li>Will all of the modules code be obfuscated by the rules of the main modules pro-guard rules \neven if the module does not specify any rules?</li>\n<li>What is the difference between consumer-rules.pro and proguard-rules.pro in Android?</li>\n<li>Should i enable minifyEnabled in my module?</li>\n<li>I noticed that i can add proguard rules for my module in the main module , so does that mean\npro-guard rules in the module are overriden in the main module?</li>\n</ol>\n\n<p>Please advise.</p>\n"},{"tags":["java","apache-spark","java-17"],"comments":[{"owner":{"account_id":7288242,"reputation":557,"user_id":5555637,"display_name":"combinatorist"},"score":0,"creation_date":1673292061,"post_id":72724816,"comment_id":132461854,"body_markdown":"FWIW, it actually broke for me in 3.2.3 and was fixed in 3.3.1.","body":"FWIW, it actually broke for me in 3.2.3 and was fixed in 3.3.1."},{"owner":{"account_id":7288242,"reputation":557,"user_id":5555637,"display_name":"combinatorist"},"score":0,"creation_date":1675371521,"post_id":72724816,"comment_id":132920684,"body_markdown":"That was it works from spark-submit, but not if I try to run it via sbt test in unit (actually acceptance/integration) tests, even in local mode (cluster or client mode).","body":"That was it works from spark-submit, but not if I try to run it via sbt test in unit (actually acceptance/integration) tests, even in local mode (cluster or client mode)."}],"answers":[{"tags":[],"owner":{"account_id":1252925,"reputation":16085,"user_id":1212960,"accept_rate":93,"display_name":"Greg Kopff"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1656021333,"creation_date":1655960961,"answer_id":72724817,"question_id":72724816,"body_markdown":"Even though Spark now supports Java 17, it still references the JDK internal class `sun.nio.ch.DirectBuffer`:\r\n\r\n```\r\n  // In Java 8, the type of DirectBuffer.cleaner() was sun.misc.Cleaner, and it was possible\r\n  // to access the method sun.misc.Cleaner.clean() to invoke it. The type changed to\r\n  // jdk.internal.ref.Cleaner in later JDKs, and the .clean() method is not accessible even with\r\n  // reflection. However sun.misc.Unsafe added a invokeCleaner() method in JDK 9+ and this is\r\n  // still accessible with reflection.\r\n  private val bufferCleaner: DirectBuffer =&gt; Unit = [...]\r\n``` \r\n\r\nUnder the Java module system, access to this class is restricted.  The [Java 9 migration guide][1] says:\r\n\r\n&gt; If you must use an internal API that has been made inaccessible by default, then you can break encapsulation using the --add-exports command-line option.\r\n\r\nWe need to open access to our module.  To do this for Surefire, we add this configuration to the plugin:\r\n\r\n```\r\n&lt;plugin&gt;\r\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n  &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n  &lt;version&gt;3.0.0-M7&lt;/version&gt;\r\n  &lt;configuration&gt;\r\n    &lt;argLine&gt;--add-exports java.base/sun.nio.ch=ALL-UNNAMED&lt;/argLine&gt;\r\n  &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nBased on a [discussion with one of the Spark developers][2], Spark adds the following in order to execute all of its internal unit tests.\r\n\r\n&gt; These options are used to pass all Spark UTs, but maybe you don&#39;t need all.\r\n\r\n```\r\n--add-opens=java.base/java.lang=ALL-UNNAMED\r\n--add-opens=java.base/java.lang.invoke=ALL-UNNAMED\r\n--add-opens=java.base/java.lang.reflect=ALL-UNNAMED\r\n--add-opens=java.base/java.io=ALL-UNNAMED\r\n--add-opens=java.base/java.net=ALL-UNNAMED\r\n--add-opens=java.base/java.nio=ALL-UNNAMED\r\n--add-opens=java.base/java.util=ALL-UNNAMED\r\n--add-opens=java.base/java.util.concurrent=ALL-UNNAMED\r\n--add-opens=java.base/java.util.concurrent.atomic=ALL-UNNAMED\r\n--add-opens=java.base/sun.nio.ch=ALL-UNNAMED\r\n--add-opens=java.base/sun.nio.cs=ALL-UNNAMED\r\n--add-opens=java.base/sun.security.action=ALL-UNNAMED\r\n--add-opens=java.base/sun.util.calendar=ALL-UNNAMED\r\n```\r\n\r\nIt was also commented:\r\n\r\n&gt; However, these Options needn&#39;t explicit add when using spark-shell, spark-sql and spark-submit\r\n\r\n[1]: https://docs.oracle.com/javase/9/migrate/toc.htm\r\n[2]: https://lists.apache.org/thread/814cpb1rpp73zkhtv9t4mkzzrznl82yn","title":"Running unit tests with Spark 3.3.0 on Java 17 fails with IllegalAccessError: class StorageUtils cannot access class sun.nio.ch.DirectBuffer","body":"<p>Even though Spark now supports Java 17, it still references the JDK internal class <code>sun.nio.ch.DirectBuffer</code>:</p>\n<pre><code>  // In Java 8, the type of DirectBuffer.cleaner() was sun.misc.Cleaner, and it was possible\n  // to access the method sun.misc.Cleaner.clean() to invoke it. The type changed to\n  // jdk.internal.ref.Cleaner in later JDKs, and the .clean() method is not accessible even with\n  // reflection. However sun.misc.Unsafe added a invokeCleaner() method in JDK 9+ and this is\n  // still accessible with reflection.\n  private val bufferCleaner: DirectBuffer =&gt; Unit = [...]\n</code></pre>\n<p>Under the Java module system, access to this class is restricted.  The <a href=\"https://docs.oracle.com/javase/9/migrate/toc.htm\" rel=\"noreferrer\">Java 9 migration guide</a> says:</p>\n<blockquote>\n<p>If you must use an internal API that has been made inaccessible by default, then you can break encapsulation using the --add-exports command-line option.</p>\n</blockquote>\n<p>We need to open access to our module.  To do this for Surefire, we add this configuration to the plugin:</p>\n<pre><code>&lt;plugin&gt;\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n  &lt;version&gt;3.0.0-M7&lt;/version&gt;\n  &lt;configuration&gt;\n    &lt;argLine&gt;--add-exports java.base/sun.nio.ch=ALL-UNNAMED&lt;/argLine&gt;\n  &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>Based on a <a href=\"https://lists.apache.org/thread/814cpb1rpp73zkhtv9t4mkzzrznl82yn\" rel=\"noreferrer\">discussion with one of the Spark developers</a>, Spark adds the following in order to execute all of its internal unit tests.</p>\n<blockquote>\n<p>These options are used to pass all Spark UTs, but maybe you don't need all.</p>\n</blockquote>\n<pre><code>--add-opens=java.base/java.lang=ALL-UNNAMED\n--add-opens=java.base/java.lang.invoke=ALL-UNNAMED\n--add-opens=java.base/java.lang.reflect=ALL-UNNAMED\n--add-opens=java.base/java.io=ALL-UNNAMED\n--add-opens=java.base/java.net=ALL-UNNAMED\n--add-opens=java.base/java.nio=ALL-UNNAMED\n--add-opens=java.base/java.util=ALL-UNNAMED\n--add-opens=java.base/java.util.concurrent=ALL-UNNAMED\n--add-opens=java.base/java.util.concurrent.atomic=ALL-UNNAMED\n--add-opens=java.base/sun.nio.ch=ALL-UNNAMED\n--add-opens=java.base/sun.nio.cs=ALL-UNNAMED\n--add-opens=java.base/sun.security.action=ALL-UNNAMED\n--add-opens=java.base/sun.util.calendar=ALL-UNNAMED\n</code></pre>\n<p>It was also commented:</p>\n<blockquote>\n<p>However, these Options needn't explicit add when using spark-shell, spark-sql and spark-submit</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":185892,"reputation":2062,"user_id":422894,"accept_rate":20,"display_name":"Anton Andreev"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1663758210,"creation_date":1663756640,"answer_id":73799321,"question_id":72724816,"body_markdown":"Based on the discussions above I am using:\r\n\r\n    %SPARK_HOME%\\bin\\spark-submit.cmd --driver-java-options &quot;--add-exports java.base/sun.nio.ch=ALL-UNNAMED&quot; spark_ml_heart.py\r\n\r\nwith a single `--add-exports` to run a Python script on Spark 3.2.1 on Java 17. \r\n\r\nYou may need the full version with all `--add-exports`:\r\n\r\n    %SPARK_HOME%\\bin\\spark-submit.cmd --driver-java-options &quot;--add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.lang.invoke=ALL-UNNAMED --add-opens=java.base/java.lang.reflect=ALL-UNNAMED --add-opens=java.base/java.io=ALL-UNNAMED --add-opens=java.base/java.net=ALL-UNNAMED --add-opens=java.base/java.nio=ALL-UNNAMED --add-opens=java.base/java.util=ALL-UNNAMED --add-opens=java.base/java.util.concurrent=ALL-UNNAMED --add-opens=java.base/java.util.concurrent.atomic=ALL-UNNAMED --add-opens=java.base/sun.nio.ch=ALL-UNNAMED --add-opens=java.base/sun.nio.cs=ALL-UNNAMED --add-opens=java.base/sun.security.action=ALL-UNNAMED --add-opens=java.base/sun.util.calendar=ALL-UNNAMED&quot; spark_ml_heart.py","title":"Running unit tests with Spark 3.3.0 on Java 17 fails with IllegalAccessError: class StorageUtils cannot access class sun.nio.ch.DirectBuffer","body":"<p>Based on the discussions above I am using:</p>\n<pre><code>%SPARK_HOME%\\bin\\spark-submit.cmd --driver-java-options &quot;--add-exports java.base/sun.nio.ch=ALL-UNNAMED&quot; spark_ml_heart.py\n</code></pre>\n<p>with a single <code>--add-exports</code> to run a Python script on Spark 3.2.1 on Java 17.</p>\n<p>You may need the full version with all <code>--add-exports</code>:</p>\n<pre><code>%SPARK_HOME%\\bin\\spark-submit.cmd --driver-java-options &quot;--add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.lang.invoke=ALL-UNNAMED --add-opens=java.base/java.lang.reflect=ALL-UNNAMED --add-opens=java.base/java.io=ALL-UNNAMED --add-opens=java.base/java.net=ALL-UNNAMED --add-opens=java.base/java.nio=ALL-UNNAMED --add-opens=java.base/java.util=ALL-UNNAMED --add-opens=java.base/java.util.concurrent=ALL-UNNAMED --add-opens=java.base/java.util.concurrent.atomic=ALL-UNNAMED --add-opens=java.base/sun.nio.ch=ALL-UNNAMED --add-opens=java.base/sun.nio.cs=ALL-UNNAMED --add-opens=java.base/sun.security.action=ALL-UNNAMED --add-opens=java.base/sun.util.calendar=ALL-UNNAMED&quot; spark_ml_heart.py\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14386851,"reputation":141,"user_id":10392603,"display_name":"Oscar Drai"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680023868,"creation_date":1673567751,"answer_id":75103523,"question_id":72724816,"body_markdown":"After fixing some of these errors, I got an error with the KryoSerializer:\r\n\r\n    java.lang.IllegalArgumentException: Unable to create serializer &quot;com.esotericsoftware.kryo.serializers.FieldSerializer&quot; for class: java.nio.HeapByteBuffer\r\n\r\nI got around this issue by adding some of the VM arguments aforementioned by @Greg Kopff to my pom.xml (I am using maven):\r\n\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.scalatest&lt;/groupId&gt;\r\n            &lt;artifactId&gt;scalatest-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;${scalatest-maven-plugin.version}&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n                &lt;argLine&gt;\r\n                    --add-opens=java.base/java.lang.invoke=ALL-UNNAMED\r\n                    --add-opens=java.base/java.nio=ALL-UNNAMED\r\n                    --add-opens=java.base/java.util=ALL-UNNAMED\r\n                    --add-opens=java.base/sun.nio.ch=ALL-UNNAMED\r\n                &lt;/argLine&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/plugin&gt;","title":"Running unit tests with Spark 3.3.0 on Java 17 fails with IllegalAccessError: class StorageUtils cannot access class sun.nio.ch.DirectBuffer","body":"<p>After fixing some of these errors, I got an error with the KryoSerializer:</p>\n<pre><code>java.lang.IllegalArgumentException: Unable to create serializer &quot;com.esotericsoftware.kryo.serializers.FieldSerializer&quot; for class: java.nio.HeapByteBuffer\n</code></pre>\n<p>I got around this issue by adding some of the VM arguments aforementioned by @Greg Kopff to my pom.xml (I am using maven):</p>\n<pre><code>    &lt;plugin&gt;\n        &lt;groupId&gt;org.scalatest&lt;/groupId&gt;\n        &lt;artifactId&gt;scalatest-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;${scalatest-maven-plugin.version}&lt;/version&gt;\n        &lt;configuration&gt;\n            &lt;argLine&gt;\n                --add-opens=java.base/java.lang.invoke=ALL-UNNAMED\n                --add-opens=java.base/java.nio=ALL-UNNAMED\n                --add-opens=java.base/java.util=ALL-UNNAMED\n                --add-opens=java.base/sun.nio.ch=ALL-UNNAMED\n            &lt;/argLine&gt;\n        &lt;/configuration&gt;\n    &lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":1252925,"reputation":16085,"user_id":1212960,"accept_rate":93,"display_name":"Greg Kopff"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11467,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":72724817,"answer_count":3,"score":12,"last_activity_date":1690996615,"creation_date":1655960961,"question_id":72724816,"body_markdown":"According to the [release notes][1], and specifically the ticket _Build and Run Spark on Java 17 ([SPARK-33772][2])_, Spark now supports running on Java 17.\r\n\r\nHowever, using Java 17 (Temurin-17.0.3+7) with Maven (3.8.6) and maven-surefire-plugin (3.0.0-M7), when running a unit test that uses Spark (3.3.0) it fails with:\r\n\r\n&gt; `java.lang.IllegalAccessError: class org.apache.spark.storage.StorageUtils$ (in unnamed module @0x1e7ba8d9) cannot access class sun.nio.ch.DirectBuffer (in module java.base) because module java.base does not export sun.nio.ch to unnamed module @0x1e7ba8d9`\r\n\r\nThe stack is:\r\n\r\n```\r\njava.lang.IllegalAccessError: class org.apache.spark.storage.StorageUtils$ (in unnamed module @0x1e7ba8d9) cannot access class sun.nio.ch.DirectBuffer (in module java.base) because module java.base does not export sun.nio.ch to unnamed module @0x1e7ba8d9\r\n  at org.apache.spark.storage.StorageUtils$.&lt;init&gt;(StorageUtils.scala:213)\r\n  at org.apache.spark.storage.StorageUtils$.&lt;clinit&gt;(StorageUtils.scala)\r\n  at org.apache.spark.storage.BlockManagerMasterEndpoint.&lt;init&gt;(BlockManagerMasterEndpoint.scala:114)\r\n  at org.apache.spark.SparkEnv$.$anonfun$create$9(SparkEnv.scala:353)\r\n  at org.apache.spark.SparkEnv$.registerOrLookupEndpoint$1(SparkEnv.scala:290)\r\n  at org.apache.spark.SparkEnv$.create(SparkEnv.scala:339)\r\n  at org.apache.spark.SparkEnv$.createDriverEnv(SparkEnv.scala:194)\r\n  at org.apache.spark.SparkContext.createSparkEnv(SparkContext.scala:279)\r\n  at org.apache.spark.SparkContext.&lt;init&gt;(SparkContext.scala:464)\r\n  at org.apache.spark.SparkContext$.getOrCreate(SparkContext.scala:2704)\r\n  at org.apache.spark.sql.SparkSession$Builder.$anonfun$getOrCreate$2(SparkSession.scala:953)\r\n  at scala.Option.getOrElse(Option.scala:189)\r\n  at org.apache.spark.sql.SparkSession$Builder.getOrCreate(SparkSession.scala:947)\r\n  [...]\r\n```\r\n\r\nThe question [_Java 17 solution for Spark - java.lang.NoClassDefFoundError: Could not initialize class org.apache.spark.storage.StorageUtils_][3] was asked only 2 months ago, but this pre-dated the Spark 3.3.0 release, and thus predated official support for Java 17.  \r\n\r\nWhy can&#39;t I run my Spark 3.3.0 test with Java 17, and how can we fix it?\r\n\r\n\r\n\r\n\r\n\r\n\r\n[1]: https://spark.apache.org/releases/spark-release-3-3-0.html\r\n[2]: https://issues.apache.org/jira/browse/SPARK-33772\r\n[3]: https://stackoverflow.com/questions/72230174","title":"Running unit tests with Spark 3.3.0 on Java 17 fails with IllegalAccessError: class StorageUtils cannot access class sun.nio.ch.DirectBuffer","body":"<p>According to the <a href=\"https://spark.apache.org/releases/spark-release-3-3-0.html\" rel=\"noreferrer\">release notes</a>, and specifically the ticket <em>Build and Run Spark on Java 17 (<a href=\"https://issues.apache.org/jira/browse/SPARK-33772\" rel=\"noreferrer\">SPARK-33772</a>)</em>, Spark now supports running on Java 17.</p>\n<p>However, using Java 17 (Temurin-17.0.3+7) with Maven (3.8.6) and maven-surefire-plugin (3.0.0-M7), when running a unit test that uses Spark (3.3.0) it fails with:</p>\n<blockquote>\n<p><code>java.lang.IllegalAccessError: class org.apache.spark.storage.StorageUtils$ (in unnamed module @0x1e7ba8d9) cannot access class sun.nio.ch.DirectBuffer (in module java.base) because module java.base does not export sun.nio.ch to unnamed module @0x1e7ba8d9</code></p>\n</blockquote>\n<p>The stack is:</p>\n<pre><code>java.lang.IllegalAccessError: class org.apache.spark.storage.StorageUtils$ (in unnamed module @0x1e7ba8d9) cannot access class sun.nio.ch.DirectBuffer (in module java.base) because module java.base does not export sun.nio.ch to unnamed module @0x1e7ba8d9\n  at org.apache.spark.storage.StorageUtils$.&lt;init&gt;(StorageUtils.scala:213)\n  at org.apache.spark.storage.StorageUtils$.&lt;clinit&gt;(StorageUtils.scala)\n  at org.apache.spark.storage.BlockManagerMasterEndpoint.&lt;init&gt;(BlockManagerMasterEndpoint.scala:114)\n  at org.apache.spark.SparkEnv$.$anonfun$create$9(SparkEnv.scala:353)\n  at org.apache.spark.SparkEnv$.registerOrLookupEndpoint$1(SparkEnv.scala:290)\n  at org.apache.spark.SparkEnv$.create(SparkEnv.scala:339)\n  at org.apache.spark.SparkEnv$.createDriverEnv(SparkEnv.scala:194)\n  at org.apache.spark.SparkContext.createSparkEnv(SparkContext.scala:279)\n  at org.apache.spark.SparkContext.&lt;init&gt;(SparkContext.scala:464)\n  at org.apache.spark.SparkContext$.getOrCreate(SparkContext.scala:2704)\n  at org.apache.spark.sql.SparkSession$Builder.$anonfun$getOrCreate$2(SparkSession.scala:953)\n  at scala.Option.getOrElse(Option.scala:189)\n  at org.apache.spark.sql.SparkSession$Builder.getOrCreate(SparkSession.scala:947)\n  [...]\n</code></pre>\n<p>The question <a href=\"https://stackoverflow.com/questions/72230174\"><em>Java 17 solution for Spark - java.lang.NoClassDefFoundError: Could not initialize class org.apache.spark.storage.StorageUtils</em></a> was asked only 2 months ago, but this pre-dated the Spark 3.3.0 release, and thus predated official support for Java 17.</p>\n<p>Why can't I run my Spark 3.3.0 test with Java 17, and how can we fix it?</p>\n"},{"tags":["java","spring","validation","spring-mvc"],"comments":[{"owner":{"account_id":195331,"reputation":275398,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1425679928,"post_id":28908368,"comment_id":46076425,"body_markdown":"Model attributes are request attributes. They only exist in one request-response cycle. You&#39;re performing a redirect. That is two request-response cycles.","body":"Model attributes are request attributes. They only exist in one request-response cycle. You&#39;re performing a redirect. That is two request-response cycles."},{"owner":{"account_id":3553933,"reputation":8812,"user_id":2968101,"accept_rate":50,"display_name":"mfrachet"},"score":0,"creation_date":1425711962,"post_id":28908368,"comment_id":46083210,"body_markdown":"It doesnt work even if I dont redirect and only return the concerned view :-/. And according to the tutorial ( http://spring.io/guides/gs/validating-form-input/) redirection could work no ? Thanks for your reply by the way :-)","body":"It doesnt work even if I dont redirect and only return the concerned view :-/. And according to the tutorial ( <a href=\"http://spring.io/guides/gs/validating-form-input/\" rel=\"nofollow noreferrer\">spring.io/guides/gs/validating-form-input</a>) redirection could work no ? Thanks for your reply by the way :-)"}],"answers":[{"tags":[],"owner":{"account_id":1066298,"reputation":3742,"user_id":1066779,"accept_rate":89,"display_name":"Abhishek Nayak"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1425712664,"creation_date":1425712344,"answer_id":28912404,"question_id":28908368,"body_markdown":"&gt; How should I do to manage my redirection correctly ?\r\n\r\nWhen you redirect a request, then the current request destroyed, and a new request object is created to process the request, so as per Sotirios Delimanolis has mentioned in comment, that model attributes are request attributes, which are available for per request only, If you want to store model attributes in the HTTP session between requests use [@SessionAttributes][1], or a [FlashAttributes][2].\r\n\r\n\r\nAs per your html form you have:\r\n\r\n    &lt;p th:if=&quot;${#fields.hasErrors(&#39;name&#39;)}&quot; th:errors=&quot;*{name}&quot;&gt;Name Error&lt;/p&gt;\r\n\r\nyou mean you want to show validation errors in the same page, then don&#39;t redirect return the same view.\r\n\r\n    if (bindingResult.hasErrors()) {\r\n        //return &quot;redirect:/formPrinter&quot;;\r\n        return &quot;your html form view&quot;;\r\n    }\r\n\r\nthen, on your view you can render all validation error messages like:\r\n\r\n    &lt;p th:each=&quot;err : ${#fields.errors(&#39;*&#39;)}&quot; th:text=&quot;${err}&quot;&gt;&lt;/p&gt; \r\n\r\n  [1]: http://docs.spring.io/spring/docs/current/spring-framework-reference/html/mvc.html#mvc-ann-sessionattrib\r\n  [2]: http://docs.spring.io/spring/docs/current/spring-framework-reference/html/mvc.html#mvc-flash-attributes","title":"Spring validator annotation and error redirection","body":"<blockquote>\n  <p>How should I do to manage my redirection correctly ?</p>\n</blockquote>\n\n<p>When you redirect a request, then the current request destroyed, and a new request object is created to process the request, so as per Sotirios Delimanolis has mentioned in comment, that model attributes are request attributes, which are available for per request only, If you want to store model attributes in the HTTP session between requests use <a href=\"http://docs.spring.io/spring/docs/current/spring-framework-reference/html/mvc.html#mvc-ann-sessionattrib\" rel=\"nofollow\">@SessionAttributes</a>, or a <a href=\"http://docs.spring.io/spring/docs/current/spring-framework-reference/html/mvc.html#mvc-flash-attributes\" rel=\"nofollow\">FlashAttributes</a>.</p>\n\n<p>As per your html form you have:</p>\n\n<pre><code>&lt;p th:if=\"${#fields.hasErrors('name')}\" th:errors=\"*{name}\"&gt;Name Error&lt;/p&gt;\n</code></pre>\n\n<p>you mean you want to show validation errors in the same page, then don't redirect return the same view.</p>\n\n<pre><code>if (bindingResult.hasErrors()) {\n    //return \"redirect:/formPrinter\";\n    return \"your html form view\";\n}\n</code></pre>\n\n<p>then, on your view you can render all validation error messages like:</p>\n\n<pre><code>&lt;p th:each=\"err : ${#fields.errors('*')}\" th:text=\"${err}\"&gt;&lt;/p&gt; \n</code></pre>\n"},{"tags":[],"owner":{"account_id":20758982,"reputation":1,"user_id":15244662,"display_name":"imacd"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1613758669,"creation_date":1613758669,"answer_id":66282943,"question_id":28908368,"body_markdown":"I had the same problem and it was solved by reordering the parameters in my @PostMapping method to (@Valid @ModelAttribute Form form, BindingResult bindingResult, Model model)\r\n\r\nWhen the params were in the same order as your controller (@Valid @ModelAttribute Form form, Model model, BindingResult bindingResult) I was also redirected to /error without the controller @PostMethod being called.","title":"Spring validator annotation and error redirection","body":"<p>I had the same problem and it was solved by reordering the parameters in my @PostMapping method to (@Valid @ModelAttribute Form form, BindingResult bindingResult, Model model)</p>\n<p>When the params were in the same order as your controller (@Valid @ModelAttribute Form form, Model model, BindingResult bindingResult) I was also redirected to /error without the controller @PostMethod being called.</p>\n"},{"tags":[],"owner":{"account_id":19029355,"reputation":1,"user_id":13891789,"display_name":"CarpeDiem1703"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690995926,"creation_date":1690995519,"answer_id":76822058,"question_id":28908368,"body_markdown":"Just a little addon to imacd&#39;s comment about the parameters&#39; order. As per [Spring Boot Reference](https://docs.spring.io/spring-framework/reference/web/webmvc/mvc-controller/ann-methods/modelattrib-method-args.html), BindingResult parameter should be added **immediately** next to @ModelAttribute in the parameters list of @RequestMapping method. Then Spring processes as expected and injects binding result to the model attribute instead of redirecting to the error page.\r\nSo if by any chance you need to add other parameters (i.e. HttpServletRequest, Model or whatever) do it before @ModelAttribute or after BindingResult, but not between them.","title":"Spring validator annotation and error redirection","body":"<p>Just a little addon to imacd's comment about the parameters' order. As per <a href=\"https://docs.spring.io/spring-framework/reference/web/webmvc/mvc-controller/ann-methods/modelattrib-method-args.html\" rel=\"nofollow noreferrer\">Spring Boot Reference</a>, BindingResult parameter should be added <strong>immediately</strong> next to @ModelAttribute in the parameters list of @RequestMapping method. Then Spring processes as expected and injects binding result to the model attribute instead of redirecting to the error page.\nSo if by any chance you need to add other parameters (i.e. HttpServletRequest, Model or whatever) do it before @ModelAttribute or after BindingResult, but not between them.</p>\n"}],"owner":{"account_id":3553933,"reputation":8812,"user_id":2968101,"accept_rate":50,"display_name":"mfrachet"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2310,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":28912404,"answer_count":3,"score":0,"last_activity_date":1690995926,"creation_date":1425679046,"question_id":28908368,"body_markdown":"I m actually studying the Spring framework with Spring Boot and Sprint MVC.\r\nI m doing a form that post some data to complete an object, and I need to validate some values.\r\n\r\nThe fact is that the validation works, in fact, if I dont respect the validation, I m &quot;redirected&quot; (not really in fact, the URL doesn&#39;t change) to the error.html content.\r\n\r\nHow should I do to manage my redirection correctly ? This doesn&#39;t work this way :\r\n\r\n    @RequestMapping(value = &quot;/print&quot;, method = RequestMethod.POST)\r\n        public String printPost(@ModelAttribute(&quot;printerentity&quot;) @Valid PrinterEntity print, Model model, BindingResult bindingResult) {\r\n            if (bindingResult.hasErrors()) {\r\n                return &quot;redirect:/formPrinter&quot;;\r\n            }\r\n    \r\n            model.addAttribute(&quot;printed&quot;, print.getName());\r\n            model.addAttribute(&quot;printerentity&quot;, new PrinterEntity());\r\n    \r\n            return &quot;index&quot;;\r\n        }\r\n\r\nAnd the form :\r\n\r\n    &lt;form method=&quot;post&quot; th:action=&quot;@{/print}&quot; th:object=&quot;${printerentity}&quot;&gt;\r\n        &lt;input type=&quot;text&quot; th:field=&quot;*{name}&quot;/&gt;\r\n        &lt;button type=&quot;submit&quot;&gt;Valider&lt;/button&gt;\r\n    \r\n        &lt;p th:if=&quot;${#fields.hasErrors(&#39;name&#39;)}&quot; th:errors=&quot;*{name}&quot;&gt;Name Error&lt;/p&gt;\r\n    &lt;/form&gt;\r\n\r\nWhat am I doing wrong ?\r\n\r\nEDIT : It seems that when I have an error, I dont pass in the controller code :o =&gt;\r\n\r\n     @RequestMapping(value = &quot;/print&quot;, method = RequestMethod.POST)\r\n        public String printPost(@ModelAttribute(&quot;printerentity&quot;) @Valid PrinterEntity print, Model model, BindingResult bindingResult) {\r\n            System.out.println(&quot;I dont passe here when error but I m redirected&quot;);\r\n            if (bindingResult.hasErrors()) {\r\n                return &quot;formPrinter&quot;;\r\n            }\r\n    \r\n            model.addAttribute(&quot;printed&quot;, print.getName());\r\n            model.addAttribute(&quot;printerentity&quot;, new PrinterEntity());\r\n    \r\n            return &quot;index&quot;;\r\n        }\r\n\r\nthanks for advance","title":"Spring validator annotation and error redirection","body":"<p>I m actually studying the Spring framework with Spring Boot and Sprint MVC.\nI m doing a form that post some data to complete an object, and I need to validate some values.</p>\n\n<p>The fact is that the validation works, in fact, if I dont respect the validation, I m \"redirected\" (not really in fact, the URL doesn't change) to the error.html content.</p>\n\n<p>How should I do to manage my redirection correctly ? This doesn't work this way :</p>\n\n<pre><code>@RequestMapping(value = \"/print\", method = RequestMethod.POST)\n    public String printPost(@ModelAttribute(\"printerentity\") @Valid PrinterEntity print, Model model, BindingResult bindingResult) {\n        if (bindingResult.hasErrors()) {\n            return \"redirect:/formPrinter\";\n        }\n\n        model.addAttribute(\"printed\", print.getName());\n        model.addAttribute(\"printerentity\", new PrinterEntity());\n\n        return \"index\";\n    }\n</code></pre>\n\n<p>And the form :</p>\n\n<pre><code>&lt;form method=\"post\" th:action=\"@{/print}\" th:object=\"${printerentity}\"&gt;\n    &lt;input type=\"text\" th:field=\"*{name}\"/&gt;\n    &lt;button type=\"submit\"&gt;Valider&lt;/button&gt;\n\n    &lt;p th:if=\"${#fields.hasErrors('name')}\" th:errors=\"*{name}\"&gt;Name Error&lt;/p&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>What am I doing wrong ?</p>\n\n<p>EDIT : It seems that when I have an error, I dont pass in the controller code :o =></p>\n\n<pre><code> @RequestMapping(value = \"/print\", method = RequestMethod.POST)\n    public String printPost(@ModelAttribute(\"printerentity\") @Valid PrinterEntity print, Model model, BindingResult bindingResult) {\n        System.out.println(\"I dont passe here when error but I m redirected\");\n        if (bindingResult.hasErrors()) {\n            return \"formPrinter\";\n        }\n\n        model.addAttribute(\"printed\", print.getName());\n        model.addAttribute(\"printerentity\", new PrinterEntity());\n\n        return \"index\";\n    }\n</code></pre>\n\n<p>thanks for advance</p>\n"},{"tags":["java","amazon-web-services","scala","aws-cdk","amazon-vpc"],"answers":[{"tags":[],"owner":{"account_id":2111551,"reputation":17583,"user_id":1876739,"accept_rate":94,"display_name":"Ram&#243;n J Romero y Vigil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690995806,"creation_date":1690974405,"answer_id":76819261,"question_id":76818985,"body_markdown":"Issue is related to `jsii` dependency:\r\n\r\nhttps://stackoverflow.com/a/76821623/1876739","title":"AWS CDK suddenly failing with Construct cannot be cast to class InterfaceVpcEndpoint","body":"<p>Issue is related to <code>jsii</code> dependency:</p>\n<p><a href=\"https://stackoverflow.com/a/76821623/1876739\">https://stackoverflow.com/a/76821623/1876739</a></p>\n"}],"owner":{"account_id":2111551,"reputation":17583,"user_id":1876739,"accept_rate":94,"display_name":"Ram&#243;n J Romero y Vigil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1690995806,"creation_date":1690972242,"question_id":76818985,"body_markdown":"As of yesterday my `cdk` code started returning an error:\r\n\r\n&gt; java.lang.ClassCastException: class software.constructs.Construct cannot be cast to class software.amazon.awscdk.services.ec2.InterfaceVpcEndpoint\r\n\r\nThis is being triggered by standard code that has not changed in months and has been deploying resources to AWS successfully:\r\n\r\n    import software.amazon.awscdk.services.ec2._\r\n\r\n    val myVpc = Vpc.Builder...build()\r\n\r\n    myVpc.addInterfaceEndpoint(\r\n      &quot;SecretsManagerEndpoint&quot;,\r\n      InterfaceVpcEndpointOptions\r\n        .builder()\r\n        .service(InterfaceVpcEndpointAwsService.SECRETS_MANAGER)\r\n        .privateDnsEnabled(true)\r\n        .build()\r\n    )\r\n\r\nI&#39;ve tried to revert the cdk npm package and reverting the `aws-cdk-lib` package that I&#39;m pulling from maven, but neither fixed the issue.\r\n\r\n**How can cdk be used to add an interface VPC endpoint without throwing a cast error?**\r\n\r\nThank you in advance for your consideration and response.","title":"AWS CDK suddenly failing with Construct cannot be cast to class InterfaceVpcEndpoint","body":"<p>As of yesterday my <code>cdk</code> code started returning an error:</p>\n<blockquote>\n<p>java.lang.ClassCastException: class software.constructs.Construct cannot be cast to class software.amazon.awscdk.services.ec2.InterfaceVpcEndpoint</p>\n</blockquote>\n<p>This is being triggered by standard code that has not changed in months and has been deploying resources to AWS successfully:</p>\n<pre><code>import software.amazon.awscdk.services.ec2._\n\nval myVpc = Vpc.Builder...build()\n\nmyVpc.addInterfaceEndpoint(\n  &quot;SecretsManagerEndpoint&quot;,\n  InterfaceVpcEndpointOptions\n    .builder()\n    .service(InterfaceVpcEndpointAwsService.SECRETS_MANAGER)\n    .privateDnsEnabled(true)\n    .build()\n)\n</code></pre>\n<p>I've tried to revert the cdk npm package and reverting the <code>aws-cdk-lib</code> package that I'm pulling from maven, but neither fixed the issue.</p>\n<p><strong>How can cdk be used to add an interface VPC endpoint without throwing a cast error?</strong></p>\n<p>Thank you in advance for your consideration and response.</p>\n"},{"tags":["java","json","spring-boot","jackson"],"comments":[{"owner":{"account_id":3283619,"reputation":777,"user_id":2763598,"display_name":"Kaus2b"},"score":0,"creation_date":1650950597,"post_id":72008690,"comment_id":127238443,"body_markdown":"see if this helps\nhttps://stackoverflow.com/questions/53314552/java-instant-to-localdatetime-trailing-zero\nif that doesnt help you might need to use custom serializer using `@JsonGetter`","body":"see if this helps <a href=\"https://stackoverflow.com/questions/53314552/java-instant-to-localdatetime-trailing-zero\" title=\"java instant to localdatetime trailing zero\">stackoverflow.com/questions/53314552/&hellip;</a> if that doesnt help you might need to use custom serializer using <code>@JsonGetter</code>"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1650960587,"post_id":72008690,"comment_id":127241301,"body_markdown":"Thats a pity. Your JSON string lives up to [the ISO 8601 standard](https://en.wikipedia.org/wiki/ISO_8601) nicely no matter if the trailing 0 is there or not, so any decent receiving system ought to accept it.","body":"Thats a pity. Your JSON string lives up to <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">the ISO 8601 standard</a> nicely no matter if the trailing 0 is there or not, so any decent receiving system ought to accept it."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1651027854,"post_id":72008690,"comment_id":127262000,"body_markdown":"Did you mean &quot;54.12453&quot; rather than &quot;54:12453&quot;? (FULL STOP versus COLON)","body":"Did you mean &quot;54.12453&quot; rather than &quot;54:12453&quot;? (FULL STOP versus COLON)"}],"answers":[{"tags":[],"owner":{"account_id":25084421,"reputation":141,"user_id":18936800,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650961892,"creation_date":1650961520,"answer_id":72010687,"question_id":72008690,"body_markdown":"LocaleDateTime class ha no static string format. It includes few options:\r\n\r\n- uuuu-MM-dd&#39;T&#39;HH:mm\r\n- uuuu-MM-dd&#39;T&#39;HH:mm:ss\r\n- uuuu-MM-dd&#39;T&#39;HH:mm:ss.SSS\r\n- uuuu-MM-dd&#39;T&#39;HH:mm:ss.SSSSSS\r\n- uuuu-MM-dd&#39;T&#39;HH:mm:ss.SSSSSSSSS\r\n\r\nCustom Serialization will help you to achieve static output.\r\nIn example below I use a format with 6 milliseconds digits just like in your case.\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @JsonDeserialize(using = BodyDeserializer.class)\r\n    @JsonSerialize(using = BodySerializer.class)\r\n    public class Body {\r\n\r\n        public static final DATE_FORMAT = DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd&#39;T&#39;HH:mm:ss:SSSSSS&quot;);\r\n        \r\n        private LocalDateTime myDate;\r\n\r\n        public Body(LocalDateTime myDate) {\r\n            this.myDate = myDate;\r\n        }\r\n\r\n        public StrLocalDateTimeing getMyDate() { return myDate; }\r\n    }\r\n\r\n    public class BodyDeserializer extends JsonDeserializer {\r\n\r\n        @Override\r\n        public User deserialize(JsonParser jsonParser,\r\n                DeserializationContext deserializationContext) throws IOException {\r\n            ObjectCodec oc = jsonParser.getCodec();\r\n            JsonNode node = oc.readTree(jsonParser);\r\n            String date = node.get(&quot;myDate&quot;);\r\n            LocalDateTime myDate = LocalDateTime.from(Body.DATE_FORMAT.parse(date))\r\n            return new Body(myDate),\r\n        }\r\n    }\r\n\r\n    public class BodySerializer extends JsonSerializer {\r\n\r\n        @Override\r\n        public void serialize(Body body, JsonGenerator jsonGenerator,\r\n                SerializerProvider serializerProvider) throws IOException {\r\n            jsonGenerator.writeStartObject();\r\n            \r\n            jsonGenerator.writeNumberField(&quot;myDate&quot;, Body.DATE_FORMAT.format(body.getMyDate()));\r\n            jsonGenerator.writeEndObject();\r\n        }\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Jackson and LocalDateTime: Trailing zeros are removed","body":"<p>LocaleDateTime class ha no static string format. It includes few options:</p>\n<ul>\n<li>uuuu-MM-dd'T'HH:mm</li>\n<li>uuuu-MM-dd'T'HH:mm:ss</li>\n<li>uuuu-MM-dd'T'HH:mm:ss.SSS</li>\n<li>uuuu-MM-dd'T'HH:mm:ss.SSSSSS</li>\n<li>uuuu-MM-dd'T'HH:mm:ss.SSSSSSSSS</li>\n</ul>\n<p>Custom Serialization will help you to achieve static output.\nIn example below I use a format with 6 milliseconds digits just like in your case.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@JsonDeserialize(using = BodyDeserializer.class)\n@JsonSerialize(using = BodySerializer.class)\npublic class Body {\n\n    public static final DATE_FORMAT = DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd'T'HH:mm:ss:SSSSSS&quot;);\n    \n    private LocalDateTime myDate;\n\n    public Body(LocalDateTime myDate) {\n        this.myDate = myDate;\n    }\n\n    public StrLocalDateTimeing getMyDate() { return myDate; }\n}\n\npublic class BodyDeserializer extends JsonDeserializer {\n\n    @Override\n    public User deserialize(JsonParser jsonParser,\n            DeserializationContext deserializationContext) throws IOException {\n        ObjectCodec oc = jsonParser.getCodec();\n        JsonNode node = oc.readTree(jsonParser);\n        String date = node.get(&quot;myDate&quot;);\n        LocalDateTime myDate = LocalDateTime.from(Body.DATE_FORMAT.parse(date))\n        return new Body(myDate),\n    }\n}\n\npublic class BodySerializer extends JsonSerializer {\n\n    @Override\n    public void serialize(Body body, JsonGenerator jsonGenerator,\n            SerializerProvider serializerProvider) throws IOException {\n        jsonGenerator.writeStartObject();\n        \n        jsonGenerator.writeNumberField(&quot;myDate&quot;, Body.DATE_FORMAT.format(body.getMyDate()));\n        jsonGenerator.writeEndObject();\n    }\n}\n</code></pre>\n\n"},{"tags":[],"owner":{"account_id":468916,"reputation":76,"user_id":875170,"display_name":"Boyi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690995212,"creation_date":1690995212,"answer_id":76822024,"question_id":72008690,"body_markdown":"You can use @JsonFormat to suppress the removal of trailing zeros.\r\n\r\n    public class Transaction {\r\n\r\n        import com.fasterxml.jackson.annotation.JsonFormat;\r\n        //...\r\n\r\n        @JsonFormat(\r\n            shape = JsonFormat.Shape.STRING,\r\n            pattern = &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSSSS&quot;)\r\n        public LocalDateTime dateTime;\r\n\r\n    }\r\n\r\nMy use case of the above code is for json kafka serializer.","title":"Jackson and LocalDateTime: Trailing zeros are removed","body":"<p>You can use @JsonFormat to suppress the removal of trailing zeros.</p>\n<pre><code>public class Transaction {\n\n    import com.fasterxml.jackson.annotation.JsonFormat;\n    //...\n\n    @JsonFormat(\n        shape = JsonFormat.Shape.STRING,\n        pattern = &quot;yyyy-MM-dd'T'HH:mm:ss.SSSSSS&quot;)\n    public LocalDateTime dateTime;\n\n}\n</code></pre>\n<p>My use case of the above code is for json kafka serializer.</p>\n"}],"owner":{"account_id":4787866,"reputation":823,"user_id":3867820,"accept_rate":22,"display_name":"Daniel Pomrehn"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1359,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1690995212,"creation_date":1650950084,"question_id":72008690,"body_markdown":"I am using Jackson inside my Spring Boot project for generator JSON. \r\nIn my Java class I am using `private LocalDateTime timestamp;` Jackson converts it to JSON. \r\nWhen timestamp contains for example: `2022-04-26T05:59:54:124530`the JSON Object will receive `2022-04-26T05:59:54:12453`\r\n\r\nThis causes an error in my receiving system which cannnot work with this date format. Unfortunantelly I am not able to change the receiving system. \r\n\r\nIs there a way I can Jackson tell not to remove the zeros at the end? ","title":"Jackson and LocalDateTime: Trailing zeros are removed","body":"<p>I am using Jackson inside my Spring Boot project for generator JSON.\nIn my Java class I am using <code>private LocalDateTime timestamp;</code> Jackson converts it to JSON.\nWhen timestamp contains for example: <code>2022-04-26T05:59:54:124530</code>the JSON Object will receive <code>2022-04-26T05:59:54:12453</code></p>\n<p>This causes an error in my receiving system which cannnot work with this date format. Unfortunantelly I am not able to change the receiving system.</p>\n<p>Is there a way I can Jackson tell not to remove the zeros at the end?</p>\n"},{"tags":["java","if-statement","anti-patterns"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1690977653,"post_id":76819514,"comment_id":135427460,"body_markdown":"I&#39;m not sure what &quot;clean out different else blocks&quot; or &quot;focus on else-blocks which have diferent functionality&quot; mean. Can you explain more?","body":"I&#39;m not sure what &quot;clean out different else blocks&quot; or &quot;focus on else-blocks which have diferent functionality&quot; mean. Can you explain more?"},{"owner":{"account_id":29143840,"reputation":3,"user_id":22326222,"display_name":"Sergio L&#243;pez L&#243;pez"},"score":0,"creation_date":1690994695,"post_id":76819514,"comment_id":135431665,"body_markdown":"Yeah of course, what i meant is that i had seen solutions that focus on reducing the number of if-blocks or arranging them in a more elegant way so the code is easier to follow and maintain but i hadnt seen any solutions focusing on reducing the number of else-blocks or simply making the arrangement more readable and elegant.\n\nA lot of solutions simply dont care about what is in the else-blocks (obviusly because it is not relevant in their code) but in the code im proposing the else-blocks contain code that is not just the defaultFunction. I hope i have explained myself correcly this time :)","body":"Yeah of course, what i meant is that i had seen solutions that focus on reducing the number of if-blocks or arranging them in a more elegant way so the code is easier to follow and maintain but i hadnt seen any solutions focusing on reducing the number of else-blocks or simply making the arrangement more readable and elegant.  A lot of solutions simply dont care about what is in the else-blocks (obviusly because it is not relevant in their code) but in the code im proposing the else-blocks contain code that is not just the defaultFunction. I hope i have explained myself correcly this time :)"}],"answers":[{"tags":[],"owner":{"account_id":22581504,"reputation":100,"user_id":16766083,"display_name":"LarsJaeger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690977388,"creation_date":1690977388,"answer_id":76819618,"question_id":76819514,"body_markdown":"It heavily depends on the type of conditions. Without further knowledge of the code logic, you could look at early returns, which could look something like this:\r\n```python\r\nif (not condition1) {\r\n    //do something if condition 1 is NOT met\r\n\r\n    return; //only required if language does not support else if\r\n}\r\nelse if (not condition2) {\r\n    //do something if condition 2 is NOT met\r\n\r\n    return; //only required if language does not support else if\r\n}\r\nelse if (not condition3) {\r\n    //do something if condition 3 is NOT met\r\n\r\n    return; //only required if language does not support else if\r\n}\r\nelse {\r\n    //do something if all three conditions are met\r\n    \r\n    return;\r\n}\r\n```","title":"How can i reduce an Arrow head type if statement with 3 different else`s?","body":"<p>It heavily depends on the type of conditions. Without further knowledge of the code logic, you could look at early returns, which could look something like this:</p>\n<pre class=\"lang-py prettyprint-override\"><code>if (not condition1) {\n    //do something if condition 1 is NOT met\n\n    return; //only required if language does not support else if\n}\nelse if (not condition2) {\n    //do something if condition 2 is NOT met\n\n    return; //only required if language does not support else if\n}\nelse if (not condition3) {\n    //do something if condition 3 is NOT met\n\n    return; //only required if language does not support else if\n}\nelse {\n    //do something if all three conditions are met\n    \n    return;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7868017,"reputation":66,"user_id":5946263,"display_name":"Boldi Istvan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1690979127,"creation_date":1690979127,"answer_id":76819873,"question_id":76819514,"body_markdown":"Using early returns, you can simplify your logic to this:\r\n```\r\n if (!condition1) {\r\n    //do something if condition 1 is NOT met\r\n\treturn;\r\n }\r\n \r\n if (!condition2) {\r\n\t//do something if condition 2 is NOT met\r\n\treturn;\r\n }\r\n \r\n if(condition3) {\r\n\t//do something if the 3 conditions are met\r\n } else {\r\n    //do something if condition 3 is NOT met      \r\n }\r\n```","title":"How can i reduce an Arrow head type if statement with 3 different else`s?","body":"<p>Using early returns, you can simplify your logic to this:</p>\n<pre><code> if (!condition1) {\n    //do something if condition 1 is NOT met\n    return;\n }\n \n if (!condition2) {\n    //do something if condition 2 is NOT met\n    return;\n }\n \n if(condition3) {\n    //do something if the 3 conditions are met\n } else {\n    //do something if condition 3 is NOT met      \n }\n</code></pre>\n"}],"owner":{"account_id":29143840,"reputation":3,"user_id":22326222,"display_name":"Sergio L&#243;pez L&#243;pez"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76819618,"answer_count":2,"score":0,"last_activity_date":1690995142,"creation_date":1690976627,"question_id":76819514,"body_markdown":"im going to try to explain myself in the best way possible, i have a method that looks like this:\r\n\r\n```\r\nif(condition1)\r\n\tif(condition2) {\r\n\t\tif(condition3) {\r\n                      //do something if the 3 conditions are met\r\n\t\t}\r\n\t\telse {\r\n\t\t      //do something if condition 3 is NOT met\t\t\r\n\t\t}\t\r\n\t}\r\n\telse{\r\n                //do something if condition 2 is NOT met\r\n        } \t\t\t\t\r\nelse{\r\n        //do something if condition 1 is NOT met\r\n}\r\n```\r\n\r\n\r\nI have been having trouble expanding and maintaining this code and i have seen ways to prevent this anti-pattern from happening but the solutions only focused on how to refactor the code so the if-blocks came out more clean, but i havent seen any solutions aiming to clean out diferent else blocks and even less solutions that focus on else-blocks which have diferent functionality.\r\n\r\nI&#39;d be glad if any of you could enlight me on how to tackle this problem. Looking forward to your responses and thank you in advance :).\r\n\r\nEdit: i know there are a lot of ways to arreange these conditionals what im asking is the most correct way to do it so the code is a little easier to maintain ","title":"How can i reduce an Arrow head type if statement with 3 different else`s?","body":"<p>im going to try to explain myself in the best way possible, i have a method that looks like this:</p>\n<pre><code>if(condition1)\n    if(condition2) {\n        if(condition3) {\n                      //do something if the 3 conditions are met\n        }\n        else {\n              //do something if condition 3 is NOT met      \n        }   \n    }\n    else{\n                //do something if condition 2 is NOT met\n        }               \nelse{\n        //do something if condition 1 is NOT met\n}\n</code></pre>\n<p>I have been having trouble expanding and maintaining this code and i have seen ways to prevent this anti-pattern from happening but the solutions only focused on how to refactor the code so the if-blocks came out more clean, but i havent seen any solutions aiming to clean out diferent else blocks and even less solutions that focus on else-blocks which have diferent functionality.</p>\n<p>I'd be glad if any of you could enlight me on how to tackle this problem. Looking forward to your responses and thank you in advance :).</p>\n<p>Edit: i know there are a lot of ways to arreange these conditionals what im asking is the most correct way to do it so the code is a little easier to maintain</p>\n"},{"tags":["java","javafx","combobox"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1518539493,"post_id":48770915,"comment_id":84543861,"body_markdown":"Try setting the `value` to null.","body":"Try setting the <code>value</code> to null."},{"owner":{"account_id":8664592,"reputation":9965,"user_id":6485651,"accept_rate":65,"display_name":"Zephyr"},"score":0,"creation_date":1527519424,"post_id":48770915,"comment_id":88147937,"body_markdown":"Setting the value to `null` clears the selection, but does not cause the prompt text to be displayed again. I have yet to find a way to force the prompt text to show after the value has been changed.","body":"Setting the value to <code>null</code> clears the selection, but does not cause the prompt text to be displayed again. I have yet to find a way to force the prompt text to show after the value has been changed."}],"owner":{"account_id":12939494,"reputation":1,"user_id":9355748,"display_name":"Mrp"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":558,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690994944,"creation_date":1518537968,"question_id":48770915,"body_markdown":"i&#39;m currently having problem with ComboBox prompt text. setPromptText() works fine, the prompt text is changing until i select item from the ComboBox. After that if i do clear the ComboBox items with getItems().clear(), and set new prompt text with setPromtText(), the new prompt text is not displayed however getPromtText reveal it has been changed to proper one. Prompt text reappear only after changing currently set text to a different one. Is there any way to force update on ComboBox prompt text ?\r\n\r\n    public class Controller {\r\n    @FXML\r\n    ComboBox&lt;String&gt; textCombobox;\r\n    @FXML\r\n    Button but1;\r\n    @FXML\r\n    Button but2;\r\n\r\n    public void addStuff(){\r\n\r\n        textCombobox.setPromptText(&quot;Stuff Added&quot;);\r\n        textCombobox.getItems().add(&quot;Something 1&quot;);\r\n        textCombobox.getItems().add(&quot;Something 2&quot;);\r\n    }\r\n\r\n    public void clearStuff(){\r\n        textCombobox.getItems().clear();\r\n        textCombobox.setPromptText(&quot;CLEAR&quot;);\r\n    }\r\n","title":"javaFX combobox promttext dont display after selecting something and clearing combobox","body":"<p>i'm currently having problem with ComboBox prompt text. setPromptText() works fine, the prompt text is changing until i select item from the ComboBox. After that if i do clear the ComboBox items with getItems().clear(), and set new prompt text with setPromtText(), the new prompt text is not displayed however getPromtText reveal it has been changed to proper one. Prompt text reappear only after changing currently set text to a different one. Is there any way to force update on ComboBox prompt text ?</p>\n\n<pre><code>public class Controller {\n@FXML\nComboBox&lt;String&gt; textCombobox;\n@FXML\nButton but1;\n@FXML\nButton but2;\n\npublic void addStuff(){\n\n    textCombobox.setPromptText(\"Stuff Added\");\n    textCombobox.getItems().add(\"Something 1\");\n    textCombobox.getItems().add(\"Something 2\");\n}\n\npublic void clearStuff(){\n    textCombobox.getItems().clear();\n    textCombobox.setPromptText(\"CLEAR\");\n}\n</code></pre>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":1674243,"reputation":10043,"user_id":1553537,"accept_rate":29,"display_name":"Giorgi Tsiklauri"},"score":0,"creation_date":1690889686,"post_id":76811144,"comment_id":135413247,"body_markdown":"Please read [how to ask](https://stackoverflow.com/help/how-to-ask) and [minimum reproducible example](https://stackoverflow.com/help/minimal-reproducible-example) pages.","body":"Please read <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask</a> and <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimum reproducible example</a> pages."},{"owner":{"account_id":449256,"reputation":2122,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"score":0,"creation_date":1690891383,"post_id":76811144,"comment_id":135413619,"body_markdown":"@GiorgiTsiklauri What cant be reproduced?","body":"@GiorgiTsiklauri What cant be reproduced?"},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1690898049,"post_id":76811144,"comment_id":135415156,"body_markdown":"Please add your POM to the question.","body":"Please add your POM to the question."},{"owner":{"account_id":449256,"reputation":2122,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"score":0,"creation_date":1690898577,"post_id":76811144,"comment_id":135415321,"body_markdown":"@JFabianMeier Both from bytebuddy?  I have no pom.xml because I have no maven project.","body":"@JFabianMeier Both from bytebuddy?  I have no pom.xml because I have no maven project."},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1690903968,"post_id":76811144,"comment_id":135416519,"body_markdown":"The correct POM should be in the `byte-buddy` folder. You can compare it with the POM next to the JAR in the repository.","body":"The correct POM should be in the <code>byte-buddy</code> folder. You can compare it with the POM next to the JAR in the repository."},{"owner":{"account_id":449256,"reputation":2122,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"score":0,"creation_date":1690904067,"post_id":76811144,"comment_id":135416550,"body_markdown":"@JFabianMeier Since I need to do this programatically, have you a source from an official reference?","body":"@JFabianMeier Since I need to do this programatically, have you a source from an official reference?"},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1690905292,"post_id":76811144,"comment_id":135416780,"body_markdown":"What exactly are you trying to do programmatically? Find POMs for JARs in Maven Central?","body":"What exactly are you trying to do programmatically? Find POMs for JARs in Maven Central?"},{"owner":{"account_id":449256,"reputation":2122,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"score":0,"creation_date":1690907262,"post_id":76811144,"comment_id":135417144,"body_markdown":"@JFabianMeier No, I have a offline server who have no access to maven central. Someone gave me a thumbdrive having thousands of jars generated by maven to install them to the server.","body":"@JFabianMeier No, I have a offline server who have no access to maven central. Someone gave me a thumbdrive having thousands of jars generated by maven to install them to the server."},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1690907392,"post_id":76811144,"comment_id":135417167,"body_markdown":"Please ask a new question with that information.","body":"Please ask a new question with that information."},{"owner":{"account_id":449256,"reputation":2122,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"score":0,"creation_date":1690907431,"post_id":76811144,"comment_id":135417176,"body_markdown":"@JFabianMeier No, this question is answerable.","body":"@JFabianMeier No, this question is answerable."},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1690909887,"post_id":76811144,"comment_id":135417674,"body_markdown":"With a new question, I would a have written you an answer. This question is closed, and therefore I can&#39;t. So, good luck with your problem.","body":"With a new question, I would a have written you an answer. This question is closed, and therefore I can&#39;t. So, good luck with your problem."},{"owner":{"account_id":449256,"reputation":2122,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"score":0,"creation_date":1690986539,"post_id":76811144,"comment_id":135429751,"body_markdown":"@JFabianMeier You can answer now.","body":"@JFabianMeier You can answer now."}],"answers":[{"tags":[],"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690994431,"creation_date":1690994431,"answer_id":76821947,"question_id":76811144,"body_markdown":"Maven puts the POMs into the directory `META-INF/maven/{groupId}/{artifactId}`.\r\n\r\nThere may be other POMs as well in `META-INF/maven`. These usually come from other JARs that are shaded into the original JAR.\r\n\r\nSo first determine the groupId and artifactId of the JAR, then look for the POM inside the JAR.","title":"Maven ususally place the pom.xml in the jar during build, but two different pom.xml?","body":"<p>Maven puts the POMs into the directory <code>META-INF/maven/{groupId}/{artifactId}</code>.</p>\n<p>There may be other POMs as well in <code>META-INF/maven</code>. These usually come from other JARs that are shaded into the original JAR.</p>\n<p>So first determine the groupId and artifactId of the JAR, then look for the POM inside the JAR.</p>\n"}],"owner":{"account_id":449256,"reputation":2122,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":6,"up_vote_count":0,"answer_count":1,"score":-6,"last_activity_date":1690994431,"creation_date":1690889047,"question_id":76811144,"body_markdown":"\r\n\r\n[![enter image description here][1]][1]\r\n\r\nBoth folders have a pom.xml !\r\n--\r\n\r\nThe pom in the byte-buddy folder references the byte-buddy-dep&#39;s pom.\r\n\r\n  [1]: https://i.stack.imgur.com/XEoV1.png\r\n\r\n\r\nHow to identify the main pom.xml?\r\n\r\nThis is the jar: https://repo1.maven.org/maven2/net/bytebuddy/byte-buddy/1.10.17/byte-buddy-1.10.17.jar\r\n\r\nThe aim is to build a tool that analyses a large number of JARs and tries to find the POMs inside of them.\r\n","title":"Maven ususally place the pom.xml in the jar during build, but two different pom.xml?","body":"<p><a href=\"https://i.stack.imgur.com/XEoV1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XEoV1.png\" alt=\"enter image description here\" /></a></p>\n<h2>Both folders have a pom.xml !</h2>\n<p>The pom in the byte-buddy folder references the byte-buddy-dep's pom.</p>\n<p>How to identify the main pom.xml?</p>\n<p>This is the jar: <a href=\"https://repo1.maven.org/maven2/net/bytebuddy/byte-buddy/1.10.17/byte-buddy-1.10.17.jar\" rel=\"nofollow noreferrer\">https://repo1.maven.org/maven2/net/bytebuddy/byte-buddy/1.10.17/byte-buddy-1.10.17.jar</a></p>\n<p>The aim is to build a tool that analyses a large number of JARs and tries to find the POMs inside of them.</p>\n"},{"tags":["java","css","javafx","datepicker","javafx-8"],"comments":[{"owner":{"account_id":5503196,"reputation":132,"user_id":4371908,"display_name":"KarlTheGreat"},"score":0,"creation_date":1499703228,"post_id":45016887,"comment_id":77007704,"body_markdown":"I don&#39;t know how to link other questions, and neither can find any resources on that in the webs...","body":"I don&#39;t know how to link other questions, and neither can find any resources on that in the webs..."},{"owner":{"account_id":5503196,"reputation":132,"user_id":4371908,"display_name":"KarlTheGreat"},"score":0,"creation_date":1499711213,"post_id":45016887,"comment_id":77012362,"body_markdown":"https://stackoverflow.com/questions/27229168/selecting-a-period-or-a-date-using-one-javafx-8-datepicker","body":"<a href=\"https://stackoverflow.com/questions/27229168/selecting-a-period-or-a-date-using-one-javafx-8-datepicker\" title=\"selecting a period or a date using one javafx 8 datepicker\">stackoverflow.com/questions/27229168/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":5503196,"reputation":132,"user_id":4371908,"display_name":"KarlTheGreat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1499877099,"creation_date":1499877099,"answer_id":45063201,"question_id":45016887,"body_markdown":"Don&#39;t add a listener to the property, just set `datePicker.onShown`.\r\n\r\n    //Get the content\r\n    datePicker.onShown(e -&gt; {\r\n            DatePickerContent content = (DatePickerContent)((DatePickerSkin)datePicker.getSkin()).getPopupContent();\r\n            content.lookupAll(&quot;.day-cell&quot;).forEach(cell -&gt; { \r\n                cell.getStyleClass().add(&quot;selected&quot;);\r\n            });\r\n    }","title":"DateCell not changing, after applying &quot;selected&quot; Style","body":"<p>Don't add a listener to the property, just set <code>datePicker.onShown</code>.</p>\n\n<pre><code>//Get the content\ndatePicker.onShown(e -&gt; {\n        DatePickerContent content = (DatePickerContent)((DatePickerSkin)datePicker.getSkin()).getPopupContent();\n        content.lookupAll(\".day-cell\").forEach(cell -&gt; { \n            cell.getStyleClass().add(\"selected\");\n        });\n}\n</code></pre>\n"}],"owner":{"account_id":5503196,"reputation":132,"user_id":4371908,"display_name":"KarlTheGreat"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":45063201,"answer_count":1,"score":0,"last_activity_date":1690994066,"creation_date":1499703007,"question_id":45016887,"body_markdown":"I have a DatePicker and add this Listener.\r\n\r\n    datePicker.showingProperty().addListener((observable, oldValue, showing) -&gt; {\r\n            if(showing) {\r\n                //Get the content\r\n                DatePickerContent content = (DatePickerContent)((DatePickerSkin)datePicker.getSkin()).getPopupContent();\r\n                content.lookupAll(&quot;.day-cell&quot;).forEach(cell -&gt; { \r\n                    cell.getStyleClass().add(&quot;selected&quot;);\r\n                    System.out.println(cell.getStyleClass() + &quot; Day: &quot; + ((DateCell) cell).getItem());\r\n                });\r\n            }\r\n        });\r\n\r\n\r\nBut after showing the DatePicker and selecting a date, only one cell is shown as being selected.\r\n\r\n[![DatePicker with one day selected][1]][1]\r\n\r\nEven tough the styles printed out in the console all have &quot;selected&quot;, but what keeps me wondering, that the Cell which is really selected has 2 &quot;selected&quot; styles. \r\nThis is Console output (part of it): \r\n\r\n    cell date-cell day-cell selected Day: 2017-07-11\r\n    cell date-cell day-cell selected Day: 2017-07-12\r\n    cell date-cell day-cell selected selected Day: 2017-07-13\r\n    cell date-cell day-cell selected Day: 2017-07-14\r\n    cell date-cell day-cell selected Day: 2017-07-15\r\n\r\nSo why is only one Cell being displayed as selected?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ur9zh.png","title":"DateCell not changing, after applying &quot;selected&quot; Style","body":"<p>I have a DatePicker and add this Listener.</p>\n<pre><code>datePicker.showingProperty().addListener((observable, oldValue, showing) -&gt; {\n        if(showing) {\n            //Get the content\n            DatePickerContent content = (DatePickerContent)((DatePickerSkin)datePicker.getSkin()).getPopupContent();\n            content.lookupAll(&quot;.day-cell&quot;).forEach(cell -&gt; { \n                cell.getStyleClass().add(&quot;selected&quot;);\n                System.out.println(cell.getStyleClass() + &quot; Day: &quot; + ((DateCell) cell).getItem());\n            });\n        }\n    });\n</code></pre>\n<p>But after showing the DatePicker and selecting a date, only one cell is shown as being selected.</p>\n<p><a href=\"https://i.stack.imgur.com/ur9zh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ur9zh.png\" alt=\"DatePicker with one day selected\" /></a></p>\n<p>Even tough the styles printed out in the console all have &quot;selected&quot;, but what keeps me wondering, that the Cell which is really selected has 2 &quot;selected&quot; styles.\nThis is Console output (part of it):</p>\n<pre><code>cell date-cell day-cell selected Day: 2017-07-11\ncell date-cell day-cell selected Day: 2017-07-12\ncell date-cell day-cell selected selected Day: 2017-07-13\ncell date-cell day-cell selected Day: 2017-07-14\ncell date-cell day-cell selected Day: 2017-07-15\n</code></pre>\n<p>So why is only one Cell being displayed as selected?</p>\n"},{"tags":["java","android","kotlin","accessibility","accessibilityservice"],"answers":[{"tags":[],"owner":{"account_id":21447811,"reputation":16,"user_id":15800941,"display_name":"siapost"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690993054,"creation_date":1690977849,"answer_id":76819693,"question_id":76817206,"body_markdown":"A trick found on the stackoverflow site helped me in a similar situation. (I think it was in this [question][1])\r\n    \r\n    android:packageNames=&quot;@null&quot;\r\n    \r\nin config xml file (then reassign in code).\r\n\r\nPerhaps it will help you too.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/10084804/accessibility-service-for-my-app-is-not-working-if-i-reinstall-my-app/14256441#14256441","title":"Android Accessibility Service Malfunctioning After App Upgrade, Requires Programmatic Fix","body":"<p>A trick found on the stackoverflow site helped me in a similar situation. (I think it was in this <a href=\"https://stackoverflow.com/questions/10084804/accessibility-service-for-my-app-is-not-working-if-i-reinstall-my-app/14256441#14256441\">question</a>)</p>\n<pre><code>android:packageNames=&quot;@null&quot;\n</code></pre>\n<p>in config xml file (then reassign in code).</p>\n<p>Perhaps it will help you too.</p>\n"}],"owner":{"account_id":25561344,"reputation":1,"user_id":19343933,"display_name":"Sohail Mohammad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":239,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690993054,"creation_date":1690958547,"question_id":76817206,"body_markdown":"I&#39;m encountering an issue with the Accessibility Service in my Android app after users upgrade from an older version to a newer version. The Accessibility Service is intended to assist users with disabilities in accessing and using the app.\r\n\r\nThe problem manifests after the app upgrade, where the Accessibility Service seems to malfunction, and users are presented with error messages like &quot;This app isn&#39;t working correctly. Turn it off above, then turn it on again, to restart it&quot; on Samsung Tab A7 Lite and &quot;This service is malfunctioning&quot; on Micromax devices.\r\n\r\nRestarting the device or manually restarting the Accessibility Service temporarily resolves the issue. However, as a developer, I&#39;m seeking a programmatic solution to address this problem automatically, as restarting the service or the device should not be the expected behavior after an app update.\r\n\r\nI&#39;ve tried examining the update logic, but I couldn&#39;t find any specific issues related to the Accessibility Service in the codebase. I&#39;m wondering if there are any additional steps I can take during the app upgrade to ensure the Accessibility Service works seamlessly without requiring manual intervention.\r\n\r\nIs there a way to programmatically fix the Accessibility Service after an app update? Are there any specific considerations, best practices, or compatibility checks that I should incorporate into my codebase to prevent this issue from occurring in the future?\r\n\r\nAny insights or guidance on resolving this matter programmatically would be greatly appreciated. Thank you!\r\n\r\nThe images can be found below -&gt;\r\n\r\n[[[[enter image description here](https://i.stack.imgur.com/3B0H0.png)](https://i.stack.imgur.com/D51DJ.png)](https://i.stack.imgur.com/BpRsD.png)](https://i.stack.imgur.com/4HMvg.png)\r\n\r\nRestarting the accessibility or Restarting the device itself fixed the issue. But I am looking for a programatic solution.","title":"Android Accessibility Service Malfunctioning After App Upgrade, Requires Programmatic Fix","body":"<p>I'm encountering an issue with the Accessibility Service in my Android app after users upgrade from an older version to a newer version. The Accessibility Service is intended to assist users with disabilities in accessing and using the app.</p>\n<p>The problem manifests after the app upgrade, where the Accessibility Service seems to malfunction, and users are presented with error messages like &quot;This app isn't working correctly. Turn it off above, then turn it on again, to restart it&quot; on Samsung Tab A7 Lite and &quot;This service is malfunctioning&quot; on Micromax devices.</p>\n<p>Restarting the device or manually restarting the Accessibility Service temporarily resolves the issue. However, as a developer, I'm seeking a programmatic solution to address this problem automatically, as restarting the service or the device should not be the expected behavior after an app update.</p>\n<p>I've tried examining the update logic, but I couldn't find any specific issues related to the Accessibility Service in the codebase. I'm wondering if there are any additional steps I can take during the app upgrade to ensure the Accessibility Service works seamlessly without requiring manual intervention.</p>\n<p>Is there a way to programmatically fix the Accessibility Service after an app update? Are there any specific considerations, best practices, or compatibility checks that I should incorporate into my codebase to prevent this issue from occurring in the future?</p>\n<p>Any insights or guidance on resolving this matter programmatically would be greatly appreciated. Thank you!</p>\n<p>The images can be found below -&gt;</p>\n<p>[[[<a href=\"https://i.stack.imgur.com/3B0H0.png\" rel=\"nofollow noreferrer\">enter image description here</a>](<a href=\"https://i.stack.imgur.com/D51DJ.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/D51DJ.png</a>)](<a href=\"https://i.stack.imgur.com/BpRsD.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/BpRsD.png</a>)](<a href=\"https://i.stack.imgur.com/4HMvg.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/4HMvg.png</a>)</p>\n<p>Restarting the accessibility or Restarting the device itself fixed the issue. But I am looking for a programatic solution.</p>\n"},{"tags":["java","reflection"],"comments":[{"owner":{"account_id":4905966,"reputation":1880,"user_id":3952702,"accept_rate":71,"display_name":"SME_Dev"},"score":0,"creation_date":1439561919,"post_id":32012206,"comment_id":51926876,"body_markdown":"How do you identify the method you are looking for? Which information on the method&#39;s signature do you have? Maybe you could wrap your examples in a `lookupMethod()` function to display your search parameters.","body":"How do you identify the method you are looking for? Which information on the method&#39;s signature do you have? Maybe you could wrap your examples in a <code>lookupMethod()</code> function to display your search parameters."},{"owner":{"account_id":2674923,"reputation":9479,"user_id":2311528,"accept_rate":59,"display_name":"Lonzak"},"score":0,"creation_date":1439562169,"post_id":32012206,"comment_id":51927053,"body_markdown":"I have the name of the method and the parameters + their types","body":"I have the name of the method and the parameters + their types"},{"owner":{"display_name":"user319799"},"score":0,"creation_date":1439563270,"post_id":32012206,"comment_id":51927778,"body_markdown":"I would say that the second approach is the right one, let standard library do the matching. It&#39;s unfortunate that Java insists on throwing exceptions whenever someone sneezes, rather than returning null, which would be perfect in this case. But that&#39;s how it is.","body":"I would say that the second approach is the right one, let standard library do the matching. It&#39;s unfortunate that Java insists on throwing exceptions whenever someone sneezes, rather than returning null, which would be perfect in this case. But that&#39;s how it is."},{"owner":{"account_id":2973985,"reputation":571,"user_id":2525456,"accept_rate":80,"display_name":"theRoot"},"score":0,"creation_date":1439563545,"post_id":32012206,"comment_id":51927962,"body_markdown":"IMO you can cache the method with its class which provides good performance....which is bad while  frequent  **getDeclaredMethod** call","body":"IMO you can cache the method with its class which provides good performance....which is bad while  frequent  <b>getDeclaredMethod</b> call"}],"answers":[{"tags":[],"owner":{"account_id":551682,"reputation":15303,"user_id":869867,"display_name":"Sileria"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690992968,"creation_date":1690992968,"answer_id":76821765,"question_id":32012206,"body_markdown":"Here is my recursive extension method in Kotlin:\r\n\r\n    /** Recursively find a declared method in current and all super classes. */\r\n    private fun Class&lt;*&gt;.findMethod(methodName: String, vararg paramTypes: Class&lt;*&gt;): Method? =\r\n        try {\r\n            getDeclaredMethod(methodName, *paramTypes)\r\n        } catch (e: NoSuchMethodException) {\r\n            superclass?.findMethod(methodName, *paramTypes) ?: throw e\r\n        }\r\n\r\nExample Usage:\r\n\r\n    obj.javaClass.findMethod(methodName, *paramTypes)?.run {\r\n        isAccessible = true\r\n        invoke(obj, *params)\r\n    }\r\n\r\n","title":"Using getDeclaredMethod to get a private method of any super (parent) class","body":"<p>Here is my recursive extension method in Kotlin:</p>\n<pre><code>/** Recursively find a declared method in current and all super classes. */\nprivate fun Class&lt;*&gt;.findMethod(methodName: String, vararg paramTypes: Class&lt;*&gt;): Method? =\n    try {\n        getDeclaredMethod(methodName, *paramTypes)\n    } catch (e: NoSuchMethodException) {\n        superclass?.findMethod(methodName, *paramTypes) ?: throw e\n    }\n</code></pre>\n<p>Example Usage:</p>\n<pre><code>obj.javaClass.findMethod(methodName, *paramTypes)?.run {\n    isAccessible = true\n    invoke(obj, *params)\n}\n</code></pre>\n"}],"owner":{"account_id":2674923,"reputation":9479,"user_id":2311528,"accept_rate":59,"display_name":"Lonzak"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":621,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1690992968,"creation_date":1439561633,"question_id":32012206,"body_markdown":"I need to call a private method via reflection. In advance I don&#39;t kow if that private method is part of the specified class or a super class. I have the name of the private method, their parameters and their parameter types.\r\nMy first approach was the following:\r\n\r\n    Object classToTest = ....;\r\n    ArrayList&lt;Method&gt; methods = new ArrayList&lt;Method&gt;();\r\n    Class&lt;?&gt; classIndex = classToTest.getClass();\r\n    \r\n    //iterate over (super) classes to collect all methods\r\n    do{\r\n    \tmethods.addAll(Arrays.asList(classIndex.getDeclaredMethods()));\r\n    \tclassIndex = classIndex.getSuperclass();\r\n    }\r\n    while(classIndex.getClass()!=null);\r\n   \t\t\t\r\n\tfor(Method method : methods){\r\n     //match the right method\r\n   \t}\r\n    //call it\r\n   \tmethod.setAccessible(true);\r\n    method.invoke(classToTest,parameterValues);\r\n\r\n**Problem with that approach:** Getting the right method out of the list is not trivial as the sourcecode for .getDeclaredMethod(...) shows. Unfortunatly many private internal methods are used which thus cant&#39;t be reused...\r\n\r\nThe 2nd approach was to use the getDeclaredMethod() which does the matching for me:\r\n\r\n    Method method=null;\r\n\tClass&lt;?&gt; classIndex = classToTest.getClass();\r\n\r\n\t//iterate over (super) classes since private method may be inherited\r\n\tdo{\r\n\t\t//exception catching as part of the normal code is ugly \r\n\t\ttry{\r\n\t\t\tmethod = classIndex.getDeclaredMethod(nameOfMethod, parameterTypes);\r\n\t\t\t//method found thus exit\r\n\t\t\tbreak;\r\n\t\t}\r\n\t\tcatch(NoSuchMethodException nsme){\r\n\t\t\t//method not found thus check super class\r\n\t\t\tclassIndex = classIndex.getSuperclass();\r\n\t\t}\r\n\t}\r\n\twhile(classIndex!=null);\r\n\t\t\t\r\n\tif(method==null) throw new NoSuchMethodException( classToTest.getClass().getName() + &quot;.&quot; + nameOfMethod + Arrays.toString(parameterValues));\r\n\t\t\t\r\n\t//no method matching necessary\r\n\tmethod.setAccessible(true);\r\n    method.invoke(classToTest,parameterValues);\r\n\r\n**Disadvantage of that approach:** the exception catching as part of the code flow is ugly - however I currently don&#39;t see an alternative without reimplementing the matching code of Class.java.\r\n\r\n**So does anyone see an alternative approach to get the right private method?**","title":"Using getDeclaredMethod to get a private method of any super (parent) class","body":"<p>I need to call a private method via reflection. In advance I don't kow if that private method is part of the specified class or a super class. I have the name of the private method, their parameters and their parameter types.\nMy first approach was the following:</p>\n\n<pre><code>Object classToTest = ....;\nArrayList&lt;Method&gt; methods = new ArrayList&lt;Method&gt;();\nClass&lt;?&gt; classIndex = classToTest.getClass();\n\n//iterate over (super) classes to collect all methods\ndo{\n    methods.addAll(Arrays.asList(classIndex.getDeclaredMethods()));\n    classIndex = classIndex.getSuperclass();\n}\nwhile(classIndex.getClass()!=null);\n\nfor(Method method : methods){\n //match the right method\n}\n//call it\nmethod.setAccessible(true);\nmethod.invoke(classToTest,parameterValues);\n</code></pre>\n\n<p><strong>Problem with that approach:</strong> Getting the right method out of the list is not trivial as the sourcecode for .getDeclaredMethod(...) shows. Unfortunatly many private internal methods are used which thus cant't be reused...</p>\n\n<p>The 2nd approach was to use the getDeclaredMethod() which does the matching for me:</p>\n\n<pre><code>Method method=null;\nClass&lt;?&gt; classIndex = classToTest.getClass();\n\n//iterate over (super) classes since private method may be inherited\ndo{\n    //exception catching as part of the normal code is ugly \n    try{\n        method = classIndex.getDeclaredMethod(nameOfMethod, parameterTypes);\n        //method found thus exit\n        break;\n    }\n    catch(NoSuchMethodException nsme){\n        //method not found thus check super class\n        classIndex = classIndex.getSuperclass();\n    }\n}\nwhile(classIndex!=null);\n\nif(method==null) throw new NoSuchMethodException( classToTest.getClass().getName() + \".\" + nameOfMethod + Arrays.toString(parameterValues));\n\n//no method matching necessary\nmethod.setAccessible(true);\nmethod.invoke(classToTest,parameterValues);\n</code></pre>\n\n<p><strong>Disadvantage of that approach:</strong> the exception catching as part of the code flow is ugly - however I currently don't see an alternative without reimplementing the matching code of Class.java.</p>\n\n<p><strong>So does anyone see an alternative approach to get the right private method?</strong></p>\n"},{"tags":["java","spring-boot","gradle","jetbrains-ide"],"answers":[{"tags":[],"owner":{"account_id":9190575,"reputation":8919,"user_id":6831257,"display_name":"GolamMazid Sajib"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1690908441,"creation_date":1690908441,"answer_id":76813724,"question_id":76813668,"body_markdown":"To use JDK 17 for the Gradle wrapper, configure the IDE settings to use JDK 17 instead of setting the JDK version in the project structure.\r\n\r\ncheck this image:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/aosbY.png","title":"Spring Boot 3 Gradle Build Failed in IntelliJ Idea 2023.2","body":"<p>To use JDK 17 for the Gradle wrapper, configure the IDE settings to use JDK 17 instead of setting the JDK version in the project structure.</p>\n<p>check this image:\n<a href=\"https://i.stack.imgur.com/aosbY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aosbY.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":29133537,"reputation":61,"user_id":22318225,"display_name":"Abdul Wazed Sobuz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":850,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"accepted_answer_id":76813724,"answer_count":1,"score":5,"last_activity_date":1690992742,"creation_date":1690907916,"question_id":76813668,"body_markdown":"Gradle build failed.\r\n\r\nbuild.gradle:\r\n\r\n```\r\nplugins {\r\n    id &#39;java&#39;\r\n    id &#39;war&#39;\r\n    id &#39;org.springframework.boot&#39; version &#39;3.1.2&#39;\r\n    id &#39;io.spring.dependency-management&#39; version &#39;1.1.2&#39;\r\n}\r\n\r\ngroup = &#39;com.example&#39;\r\nversion = &#39;0.0.1-SNAPSHOT&#39;\r\n\r\njava {\r\n    sourceCompatibility = &#39;17&#39;\r\n}\r\n\r\nconfigurations {\r\n    compileOnly {\r\n        extendsFrom annotationProcessor\r\n    }\r\n}\r\n\r\nrepositories {\r\n    mavenCentral()\r\n    maven { url &#39;https://repo.spring.io/milestone&#39; }\r\n    maven { url &#39;https://repo.spring.io/snapshot&#39; }\r\n    gradlePluginPortal()\r\n}\r\n\r\ndependencies {\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    compileOnly &#39;org.projectlombok:lombok&#39;\r\n    runtimeOnly &#39;com.mysql:mysql-connector-j&#39;\r\n    annotationProcessor &#39;org.springframework.boot:spring-boot-configuration-processor&#39;\r\n    annotationProcessor &#39;org.projectlombok:lombok&#39;\r\n    providedRuntime &#39;org.springframework.boot:spring-boot-starter-tomcat&#39;\r\n    testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n}\r\n\r\ntasks.named(&#39;test&#39;) {\r\n    useJUnitPlatform()\r\n}\r\n```\r\n\r\nError log:\r\n~~~\r\n&gt; Could not resolve all files for configuration &#39;:classpath&#39;.\r\n   &gt; Could not resolve org.springframework.boot:spring-boot-gradle-plugin:3.1.2.\r\n     Required by:\r\n         project : &gt; org.springframework.boot:org.springframework.boot.gradle.plugin:3.1.2\r\n      &gt; No matching variant of org.springframework.boot:spring-boot-gradle-plugin:3.1.2 was found. The consumer was configured to find a library for use during runtime, compatible with Java 11, packaged as a jar, and its dependencies declared externally, as well as attribute &#39;org.gradle.plugin.api-version&#39; with value &#39;8.2.1&#39; but:\r\n          - Variant &#39;apiElements&#39; capability org.springframework.boot:spring-boot-gradle-plugin:3.1.2 declares a library, packaged as a jar, and its dependencies declared externally:\r\n              - Incompatible because this component declares a component for use during compile-time, compatible with Java 17 and the consumer needed a component for use during runtime, compatible with Java 11\r\n              - Other compatible attribute:\r\n                  - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;8.2.1&#39;)\r\n          - Variant &#39;javadocElements&#39; capability org.springframework.boot:spring-boot-gradle-plugin:3.1.2 declares a component for use during runtime, and its dependencies declared externally:\r\n              - Incompatible because this component declares documentation and the consumer needed a library\r\n              - Other compatible attributes:\r\n                  - Doesn&#39;t say anything about its target Java version (required compatibility with Java 11)\r\n                  - Doesn&#39;t say anything about its elements (required them packaged as a jar)\r\n                  - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;8.2.1&#39;)\r\n           - Variant &#39;mavenOptionalApiElements&#39; capability org.springframework.boot:spring-boot-gradle-plugin-maven-optional:3.1.2 declares a library, packaged as a jar, and its dependencies declared externally:\r\n              - Incompatible because this component declares a component for use during compile-time, compatible with Java 17 and the consumer needed a component for use during runtime, compatible with Java 11\r\n              - Other compatible attribute:\r\n                  - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;8.2.1&#39;)\r\n           - Variant &#39;mavenOptionalRuntimeElements&#39; capability org.springframework.boot:spring-boot-gradle-plugin-maven-optional:3.1.2 declares a library for use during runtime, packaged as a jar, and its dependencies declared externally:\r\n              - Incompatible because this component declares a component, compatible with Java 17 and the consumer needed a component, compatible with Java 11\r\n              - Other compatible attribute:\r\n                  - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;8.2.1&#39;)\r\n           - Variant &#39;runtimeElements&#39; capability org.springframework.boot:spring-boot-gradle-plugin:3.1.2 declares a library for use during runtime, packaged as a jar, and its dependencies declared externally:\r\n              - Incompatible because this component declares a component, compatible with Java 17 and the consumer needed a component, compatible with Java 11\r\n              - Other compatible attribute:\r\n                  - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;8.2.1&#39;)\r\n           - Variant &#39;sourcesElements&#39; capability org.springframework.boot:spring-boot-gradle-plugin:3.1.2 declares a component for use during runtime, and its dependencies declared externally:\r\n              - Incompatible because this component declares documentation and the consumer needed a library\r\n              - Other compatible attributes:\r\n                  - Doesn&#39;t say anything about its target Java version (required compatibility with Java 11)\r\n                  - Doesn&#39;t say anything about its elements (required them packaged as a jar)\r\n                  - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;8.2.1&#39;)\r\n\r\n* Try:\r\n\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n&gt; Get more help at https://help.gradle.org.\r\n~~~\r\nI checked JVM dependency also in project structure. Here I set JDK-17  \r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/AFSDQ.png","title":"Spring Boot 3 Gradle Build Failed in IntelliJ Idea 2023.2","body":"<p>Gradle build failed.</p>\n<p>build.gradle:</p>\n<pre><code>plugins {\n    id 'java'\n    id 'war'\n    id 'org.springframework.boot' version '3.1.2'\n    id 'io.spring.dependency-management' version '1.1.2'\n}\n\ngroup = 'com.example'\nversion = '0.0.1-SNAPSHOT'\n\njava {\n    sourceCompatibility = '17'\n}\n\nconfigurations {\n    compileOnly {\n        extendsFrom annotationProcessor\n    }\n}\n\nrepositories {\n    mavenCentral()\n    maven { url 'https://repo.spring.io/milestone' }\n    maven { url 'https://repo.spring.io/snapshot' }\n    gradlePluginPortal()\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    compileOnly 'org.projectlombok:lombok'\n    runtimeOnly 'com.mysql:mysql-connector-j'\n    annotationProcessor 'org.springframework.boot:spring-boot-configuration-processor'\n    annotationProcessor 'org.projectlombok:lombok'\n    providedRuntime 'org.springframework.boot:spring-boot-starter-tomcat'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n}\n\ntasks.named('test') {\n    useJUnitPlatform()\n}\n</code></pre>\n<p>Error log:</p>\n<pre><code>&gt; Could not resolve all files for configuration ':classpath'.\n   &gt; Could not resolve org.springframework.boot:spring-boot-gradle-plugin:3.1.2.\n     Required by:\n         project : &gt; org.springframework.boot:org.springframework.boot.gradle.plugin:3.1.2\n      &gt; No matching variant of org.springframework.boot:spring-boot-gradle-plugin:3.1.2 was found. The consumer was configured to find a library for use during runtime, compatible with Java 11, packaged as a jar, and its dependencies declared externally, as well as attribute 'org.gradle.plugin.api-version' with value '8.2.1' but:\n          - Variant 'apiElements' capability org.springframework.boot:spring-boot-gradle-plugin:3.1.2 declares a library, packaged as a jar, and its dependencies declared externally:\n              - Incompatible because this component declares a component for use during compile-time, compatible with Java 17 and the consumer needed a component for use during runtime, compatible with Java 11\n              - Other compatible attribute:\n                  - Doesn't say anything about org.gradle.plugin.api-version (required '8.2.1')\n          - Variant 'javadocElements' capability org.springframework.boot:spring-boot-gradle-plugin:3.1.2 declares a component for use during runtime, and its dependencies declared externally:\n              - Incompatible because this component declares documentation and the consumer needed a library\n              - Other compatible attributes:\n                  - Doesn't say anything about its target Java version (required compatibility with Java 11)\n                  - Doesn't say anything about its elements (required them packaged as a jar)\n                  - Doesn't say anything about org.gradle.plugin.api-version (required '8.2.1')\n           - Variant 'mavenOptionalApiElements' capability org.springframework.boot:spring-boot-gradle-plugin-maven-optional:3.1.2 declares a library, packaged as a jar, and its dependencies declared externally:\n              - Incompatible because this component declares a component for use during compile-time, compatible with Java 17 and the consumer needed a component for use during runtime, compatible with Java 11\n              - Other compatible attribute:\n                  - Doesn't say anything about org.gradle.plugin.api-version (required '8.2.1')\n           - Variant 'mavenOptionalRuntimeElements' capability org.springframework.boot:spring-boot-gradle-plugin-maven-optional:3.1.2 declares a library for use during runtime, packaged as a jar, and its dependencies declared externally:\n              - Incompatible because this component declares a component, compatible with Java 17 and the consumer needed a component, compatible with Java 11\n              - Other compatible attribute:\n                  - Doesn't say anything about org.gradle.plugin.api-version (required '8.2.1')\n           - Variant 'runtimeElements' capability org.springframework.boot:spring-boot-gradle-plugin:3.1.2 declares a library for use during runtime, packaged as a jar, and its dependencies declared externally:\n              - Incompatible because this component declares a component, compatible with Java 17 and the consumer needed a component, compatible with Java 11\n              - Other compatible attribute:\n                  - Doesn't say anything about org.gradle.plugin.api-version (required '8.2.1')\n           - Variant 'sourcesElements' capability org.springframework.boot:spring-boot-gradle-plugin:3.1.2 declares a component for use during runtime, and its dependencies declared externally:\n              - Incompatible because this component declares documentation and the consumer needed a library\n              - Other compatible attributes:\n                  - Doesn't say anything about its target Java version (required compatibility with Java 11)\n                  - Doesn't say anything about its elements (required them packaged as a jar)\n                  - Doesn't say anything about org.gradle.plugin.api-version (required '8.2.1')\n\n* Try:\n\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n&gt; Get more help at https://help.gradle.org.\n</code></pre>\n<p>I checked JVM dependency also in project structure. Here I set JDK-17<br />\n<a href=\"https://i.stack.imgur.com/AFSDQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AFSDQ.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","stream","ignite"],"answers":[{"tags":[],"owner":{"account_id":10639054,"reputation":2997,"user_id":7834803,"display_name":"Evgenii Zhuravlev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1499778270,"creation_date":1499778270,"answer_id":45035436,"question_id":45034975,"body_markdown":"ignite.dataStreamer(&quot;CacheStream&quot;) doesn&#39;t return same data streamer which you created before, it creates new datastreamer each time.\r\n\r\nSo, in your case, you configured 2 different datastreamers, and you upload data with streamer that doesn&#39;t have configured receiver.","title":"Apache ignite data streamer","body":"<p>ignite.dataStreamer(\"CacheStream\") doesn't return same data streamer which you created before, it creates new datastreamer each time.</p>\n\n<p>So, in your case, you configured 2 different datastreamers, and you upload data with streamer that doesn't have configured receiver.</p>\n"}],"owner":{"account_id":9599006,"reputation":11,"user_id":7127238,"accept_rate":0,"display_name":"Sirius B"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1163,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690992432,"creation_date":1499776953,"question_id":45034975,"body_markdown":"I have a question about the Streaming part of Ignite.\r\n\r\nWhat I understand is that it is way to import data into the cache, but I also see that we can configure stream receivers to apply some other custom logic.\r\n\r\nSo I tried to create a class with the receiver and a class which injects data into the stream (so 2 main and 2 Ignite instances in server mode), but I &quot;just&quot; have data into the cache of the streamer (no any custom logic processed into the receiver). So, I&#39;m asking if I missed something or if I don&#39;t well understand about what are Streams into Ignite.\r\n\r\nIf I put the sender part into the receiver, I well have the print.\r\n\r\nDoes anyone know what I am doing (or understanding) wrong?\r\n\r\nReceiver class:\r\n\r\n\tpublic class Receiver {\r\n\t\tpublic static void main(String[] args){\r\n\t\t\tIgniteConfiguration igniteConfig = new IgniteConfiguration();\r\n\t\t\tCacheConfiguration&lt;String, String&gt; cacheConfig = new CacheConfiguration&lt;&gt;(&quot;CacheStream&quot;);\t\r\n\r\n\r\n\t\t\tigniteConfig.setCacheConfiguration(cacheConfig);\r\n\r\n\t\t\t\r\n\t\t\tIgnite ignite = Ignition.getOrStart(igniteConfig);\r\n\t\t\t\r\n\t\t\tIgniteDataStreamer&lt;String, String&gt; streamer = ignite.dataStreamer(&quot;CacheStream&quot;);\r\n\t\t\t\r\n\t\t\tstreamer.receiver(StreamVisitor.from((cacheLambda, e) -&gt; {\r\n\t\t\t\tSystem.out.println(&quot;Value : &quot; + e.getValue());\r\n\t\t\t}));\r\n\t\t}\r\n\t}\r\n\r\n\r\nSender class: \r\n\r\n\tpublic class Sender {\r\n\t\tpublic static void main(String[] args){\r\n\t\t\tIgniteConfiguration igniteConfig = new IgniteConfiguration();\r\n\t\t\tCacheConfiguration&lt;String, String&gt; cacheConfig = new CacheConfiguration&lt;&gt;(&quot;CacheStream&quot;);\r\n\r\n\t\t\tigniteConfig.setCacheConfiguration(cacheConfig);\r\n\r\n\t\t\tIgnite ignite = Ignition.getOrStart(igniteConfig);\r\n\t\t\t\r\n\t\t\tIgniteDataStreamer&lt;String, String&gt; streamer = ignite.dataStreamer(&quot;CacheStream&quot;);\r\n\t\t\t\r\n\t\t\tfor(int i = 0 ; i &lt; 10 ; i++){\r\n\t\t\t\tstreamer.addData(&quot;key-&quot;+i, &quot;value-&quot;+i);\r\n\t\t\t}\r\n\t\t\tstreamer.flush();\r\n\t\t}\r\n\t}\r\n","title":"Apache ignite data streamer","body":"<p>I have a question about the Streaming part of Ignite.</p>\n<p>What I understand is that it is way to import data into the cache, but I also see that we can configure stream receivers to apply some other custom logic.</p>\n<p>So I tried to create a class with the receiver and a class which injects data into the stream (so 2 main and 2 Ignite instances in server mode), but I &quot;just&quot; have data into the cache of the streamer (no any custom logic processed into the receiver). So, I'm asking if I missed something or if I don't well understand about what are Streams into Ignite.</p>\n<p>If I put the sender part into the receiver, I well have the print.</p>\n<p>Does anyone know what I am doing (or understanding) wrong?</p>\n<p>Receiver class:</p>\n<pre><code>public class Receiver {\n    public static void main(String[] args){\n        IgniteConfiguration igniteConfig = new IgniteConfiguration();\n        CacheConfiguration&lt;String, String&gt; cacheConfig = new CacheConfiguration&lt;&gt;(&quot;CacheStream&quot;);   \n\n\n        igniteConfig.setCacheConfiguration(cacheConfig);\n\n        \n        Ignite ignite = Ignition.getOrStart(igniteConfig);\n        \n        IgniteDataStreamer&lt;String, String&gt; streamer = ignite.dataStreamer(&quot;CacheStream&quot;);\n        \n        streamer.receiver(StreamVisitor.from((cacheLambda, e) -&gt; {\n            System.out.println(&quot;Value : &quot; + e.getValue());\n        }));\n    }\n}\n</code></pre>\n<p>Sender class:</p>\n<pre><code>public class Sender {\n    public static void main(String[] args){\n        IgniteConfiguration igniteConfig = new IgniteConfiguration();\n        CacheConfiguration&lt;String, String&gt; cacheConfig = new CacheConfiguration&lt;&gt;(&quot;CacheStream&quot;);\n\n        igniteConfig.setCacheConfiguration(cacheConfig);\n\n        Ignite ignite = Ignition.getOrStart(igniteConfig);\n        \n        IgniteDataStreamer&lt;String, String&gt; streamer = ignite.dataStreamer(&quot;CacheStream&quot;);\n        \n        for(int i = 0 ; i &lt; 10 ; i++){\n            streamer.addData(&quot;key-&quot;+i, &quot;value-&quot;+i);\n        }\n        streamer.flush();\n    }\n}\n</code></pre>\n"},{"tags":["java","apache-httpclient-4.x","hostname-verifier"],"answers":[{"tags":[],"owner":{"account_id":28804636,"reputation":1,"user_id":22060781,"display_name":"Erez Scholz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690991990,"creation_date":1690815969,"answer_id":76804908,"question_id":76456706,"body_markdown":"The bug was caused by `athena-jdbc` dependency which is used somewhere else in the project and has it&#39;s own `public-suffix-list`.\r\nThis function `PublicSuffixMatcherLoader.getDefault()` read the `public-suffix-list` of `athena jdbc` instead of http-client by `apache`.","title":"java apache httpclient 4.5.13 SSLPeerUnverifiedException: Certificate for &lt;foo.s3.amazonaws.com&gt; doesn&#39;t match any of the subject alternative names:[]","body":"<p>The bug was caused by <code>athena-jdbc</code> dependency which is used somewhere else in the project and has it's own <code>public-suffix-list</code>.\nThis function <code>PublicSuffixMatcherLoader.getDefault()</code> read the <code>public-suffix-list</code> of <code>athena jdbc</code> instead of http-client by <code>apache</code>.</p>\n"}],"owner":{"account_id":28804636,"reputation":1,"user_id":22060781,"display_name":"Erez Scholz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":174,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690991990,"creation_date":1686573135,"question_id":76456706,"body_markdown":"I have changed my SSLConnectionSocketFactory to take DefaultHostNameVerifier instead of NoopHostNameVerifier.\r\n\r\n```\r\nfinal SSLConnectionSocketFactory sslConnectionSocketFactory = new SSLConnectionSocketFactory(sslContext, new String[] { &quot;TLSv1.2&quot; }, null, NoopHostnameVerifier.INSTANCE);\r\n\r\nfinal SSLConnectionSocketFactory sslConnectionSocketFactory = new SSLConnectionSocketFactory(sslContext, new String[] { &quot;TLSv1.2&quot; }, null, new DefaultHostnameVerifier(PublicSuffixMatcherLoader.getDefault()));\r\n```\r\nsince then I am having an issue when executing a validation on : &quot;https://foo.s3.amazonaws.com/fileName.csv&quot;\r\nI get an error:\r\n```\r\nCertificate for &lt;foo.s3.amazonaws.com&gt; doesn&#39;t match any of the subject alternative names:[*.s3.amazonaws.com, s3.amazonaws.com]\r\n```\r\nany idea what the issue might be?\r\n\r\n*I am using apache httpclient 4.5.13, and it only happens on production (can not reproduce locally).\r\n\r\n```\r\njavax.net.ssl.SSLPeerUnverifiedException: Certificate for &lt;foo.s3.amazonaws.com&gt; doesn&#39;t match any of the subject alternative names: [*.s3.amazonaws.com, s3.amazonaws.com]\r\n    at org.apache.http.conn.ssl.SSLConnectionSocketFactory.verifyHostname(SSLConnectionSocketFactory.java:507)\r\n    at org.apache.http.conn.ssl.SSLConnectionSocketFactory.createLayeredSocket(SSLConnectionSocketFactory.java:437)\r\n    at org.apache.http.conn.ssl.SSLConnectionSocketFactory.connectSocket(SSLConnectionSocketFactory.java:384)\r\n    at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)\r\n    at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)\r\n    at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)\r\n    at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)\r\n    at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)\r\n    at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)\r\n    at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)\r\n    at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)\r\n    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)\r\n```","title":"java apache httpclient 4.5.13 SSLPeerUnverifiedException: Certificate for &lt;foo.s3.amazonaws.com&gt; doesn&#39;t match any of the subject alternative names:[]","body":"<p>I have changed my SSLConnectionSocketFactory to take DefaultHostNameVerifier instead of NoopHostNameVerifier.</p>\n<pre><code>final SSLConnectionSocketFactory sslConnectionSocketFactory = new SSLConnectionSocketFactory(sslContext, new String[] { &quot;TLSv1.2&quot; }, null, NoopHostnameVerifier.INSTANCE);\n\nfinal SSLConnectionSocketFactory sslConnectionSocketFactory = new SSLConnectionSocketFactory(sslContext, new String[] { &quot;TLSv1.2&quot; }, null, new DefaultHostnameVerifier(PublicSuffixMatcherLoader.getDefault()));\n</code></pre>\n<p>since then I am having an issue when executing a validation on : &quot;https://foo.s3.amazonaws.com/fileName.csv&quot;\nI get an error:</p>\n<pre><code>Certificate for &lt;foo.s3.amazonaws.com&gt; doesn't match any of the subject alternative names:[*.s3.amazonaws.com, s3.amazonaws.com]\n</code></pre>\n<p>any idea what the issue might be?</p>\n<p>*I am using apache httpclient 4.5.13, and it only happens on production (can not reproduce locally).</p>\n<pre><code>javax.net.ssl.SSLPeerUnverifiedException: Certificate for &lt;foo.s3.amazonaws.com&gt; doesn't match any of the subject alternative names: [*.s3.amazonaws.com, s3.amazonaws.com]\n    at org.apache.http.conn.ssl.SSLConnectionSocketFactory.verifyHostname(SSLConnectionSocketFactory.java:507)\n    at org.apache.http.conn.ssl.SSLConnectionSocketFactory.createLayeredSocket(SSLConnectionSocketFactory.java:437)\n    at org.apache.http.conn.ssl.SSLConnectionSocketFactory.connectSocket(SSLConnectionSocketFactory.java:384)\n    at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)\n    at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)\n    at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)\n    at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)\n    at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)\n    at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)\n    at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)\n    at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)\n    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)\n</code></pre>\n"},{"tags":["java","spring-boot","docker","paketo"],"answers":[{"tags":[],"owner":{"account_id":1731647,"reputation":14046,"user_id":1585136,"display_name":"Daniel Mikusa"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1689424445,"creation_date":1689424100,"answer_id":76693743,"question_id":76687419,"body_markdown":"&gt; Does anyone know why it doesn&#39;t work? Or generally what&#39;s the right way to get rid of the warning?\r\n\r\nMy suspicion is that it&#39;s because the generated container image does not actually contain the JAR, it contains the exploded JAR files.\r\n\r\nWhen you build with the Spring Boot Gradle plugin, roughly the following steps happen:\r\n\r\nOutside of the container:\r\n\r\n1. Gradle runs, it compiles your code and produces a JAR\r\n2. The Spring Boot plugin downloads images &amp; sets up the container build environment\r\n3. The Spring Boot plugin provides the contents of your JAR to the container environment (not the JAR, but what&#39;s in the JAR)\r\n4. The Spring Boot plugin starts the container build\r\n5. The buildpacks run and generate an image.\r\n\r\nBecause the container build process gets the contents of the JAR file, not an actual JAR the start command is *not* `java -jar`, it&#39;s `java -cp .. your.Main`. I suspect that is why Java is not honoring the value in the `MANIFEST.MF` file.\r\n\r\n------------\r\n\r\nThe easy fix is to just set the arguments like you&#39;ve been doing either as an argument or [in the environment variable `JDK_JAVA_OPTIONS`](https://docs.oracle.com/en/java/javase/11/tools/java.html#GUID-3B1CE181-CD30-4178-9602-230B800D4FAE__USINGTHEJDK_JAVA_OPTIONSLAUNCHERENV-F3C0E3BA).\r\n\r\nI think you can also use `JAVA_TOOL_OPTIONS` they should both work here.\r\n\r\nBesides this, you can make buildpacks configure your application to run using `java -jar` but you would need to make a couple of changes.\r\n\r\n1. Build using `pack build` instead of the Spring Boot plugin. Spring Boot plugin will only build the JAR outside of the container. With `pack build`, it will by default build from your source so the Java compilation happens inside the build container.\r\n\r\n2. If you `pack build`, you can then set `BP_GRADLE_BUILT_ARTIFACT` and have the pattern match multiple files including your JAR. The buildpack will carry those files over into final image, but more importantly it will *NOT* explode the JAR file (that only happens when `BP_GRADLE_BUILT_ARTIFACT` matches a single JAR file).\r\n\r\n&gt; If $BP_GRADLE_BUILT_ARTIFACT matched a directory or multiple files\r\nRestores the files matched by $BP_GRADLE_BUILT_ARTIFACT to &lt;APPLICATION_ROOT&gt;\r\n\r\n3. The executable JAR buildpack will then run, find your JAR file and it should configure the container image to run using `java -jar your-executable.jar`.\r\n\r\nI would recommend one of the other options, but if you really want to configure through the `MANIFEST.mf` file, you should be able to make that work.","title":"Add-Opens Entry in Java MANIFEST.MF Doesn&#39;t Work In Docker Image Built by Spring Boot Plugin","body":"<blockquote>\n<p>Does anyone know why it doesn't work? Or generally what's the right way to get rid of the warning?</p>\n</blockquote>\n<p>My suspicion is that it's because the generated container image does not actually contain the JAR, it contains the exploded JAR files.</p>\n<p>When you build with the Spring Boot Gradle plugin, roughly the following steps happen:</p>\n<p>Outside of the container:</p>\n<ol>\n<li>Gradle runs, it compiles your code and produces a JAR</li>\n<li>The Spring Boot plugin downloads images &amp; sets up the container build environment</li>\n<li>The Spring Boot plugin provides the contents of your JAR to the container environment (not the JAR, but what's in the JAR)</li>\n<li>The Spring Boot plugin starts the container build</li>\n<li>The buildpacks run and generate an image.</li>\n</ol>\n<p>Because the container build process gets the contents of the JAR file, not an actual JAR the start command is <em>not</em> <code>java -jar</code>, it's <code>java -cp .. your.Main</code>. I suspect that is why Java is not honoring the value in the <code>MANIFEST.MF</code> file.</p>\n<hr />\n<p>The easy fix is to just set the arguments like you've been doing either as an argument or <a href=\"https://docs.oracle.com/en/java/javase/11/tools/java.html#GUID-3B1CE181-CD30-4178-9602-230B800D4FAE__USINGTHEJDK_JAVA_OPTIONSLAUNCHERENV-F3C0E3BA\" rel=\"nofollow noreferrer\">in the environment variable <code>JDK_JAVA_OPTIONS</code></a>.</p>\n<p>I think you can also use <code>JAVA_TOOL_OPTIONS</code> they should both work here.</p>\n<p>Besides this, you can make buildpacks configure your application to run using <code>java -jar</code> but you would need to make a couple of changes.</p>\n<ol>\n<li><p>Build using <code>pack build</code> instead of the Spring Boot plugin. Spring Boot plugin will only build the JAR outside of the container. With <code>pack build</code>, it will by default build from your source so the Java compilation happens inside the build container.</p>\n</li>\n<li><p>If you <code>pack build</code>, you can then set <code>BP_GRADLE_BUILT_ARTIFACT</code> and have the pattern match multiple files including your JAR. The buildpack will carry those files over into final image, but more importantly it will <em>NOT</em> explode the JAR file (that only happens when <code>BP_GRADLE_BUILT_ARTIFACT</code> matches a single JAR file).</p>\n</li>\n</ol>\n<blockquote>\n<p>If $BP_GRADLE_BUILT_ARTIFACT matched a directory or multiple files\nRestores the files matched by $BP_GRADLE_BUILT_ARTIFACT to &lt;APPLICATION_ROOT&gt;</p>\n</blockquote>\n<ol start=\"3\">\n<li>The executable JAR buildpack will then run, find your JAR file and it should configure the container image to run using <code>java -jar your-executable.jar</code>.</li>\n</ol>\n<p>I would recommend one of the other options, but if you really want to configure through the <code>MANIFEST.mf</code> file, you should be able to make that work.</p>\n"}],"owner":{"account_id":2379900,"reputation":4402,"user_id":2194119,"accept_rate":76,"display_name":"Rad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":437,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76693743,"answer_count":1,"score":1,"last_activity_date":1690991856,"creation_date":1689335600,"question_id":76687419,"body_markdown":"I&#39;ve got a Spring Boot application (V3 + JDK 17) that prints a warning to open some modules (because of JRuby):\r\n```\r\n2023-07-14T11:13:35.651Z [main] WARN FilenoUtil : Native subprocess control requires open access to the JDK IO subsystem\r\nPass &#39;--add-opens java.base/sun.nio.ch=ALL-UNNAMED --add-opens java.base/java.io=ALL-UNNAMED&#39; to enable.\r\n```\r\n\r\nNow passing the suggested params (either as command-line args or via `JDK_JAVA_OPTIONS` env var) removes the warning.  \r\nI also learned that the same can be achieved by adding the modules in an `Add-Opens` entry:\r\n```kotlin\r\n// build.gradle.kts\r\n\r\nbootJar {\r\n  requiresUnpack(&quot;**/asciidoctorj-*.jar&quot;)\r\n\r\n  manifest {\r\n    attributes[&quot;Add-Opens&quot;] = &quot;java.base/java.io java.base/sun.nio.ch&quot;\r\n  }\r\n}\r\n```\r\nAnd I can confirm that the final fat JAR file created by Spring Boot plugin does indeed have a MANIFEST.MF with the expected entry:\r\n```\r\nManifest-Version: 1.0\r\nAdd-Opens: java.base/java.io java.base/sun.nio.ch\r\nMain-Class: org.springframework.boot.loader.JarLauncher\r\n# Other entries!!!\r\n```\r\nAnd when I run the JAR file (using `java -jar`) I can see the warning is gone.\r\n\r\nHowever, when I deploy the docker image built by `gradle bootBuildImage` (default configuration, nothing customized), I still see the warning. I checked the MANIFEST.MF file in the container and the expected entry exists.\r\n\r\nDoes anyone know why it doesn&#39;t work? Or generally what&#39;s the right way to get rid of the warning?\r\n\r\n**Update**  \r\nThe short answer is &quot;`Add-Opens` manifest entries are only supported when launching the JVM using `java -jar`.&quot; (see [this][1] and [this][2]).\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/issues/33698\r\n  [2]: https://github.com/paketo-buildpacks/bellsoft-liberica/issues/440","title":"Add-Opens Entry in Java MANIFEST.MF Doesn&#39;t Work In Docker Image Built by Spring Boot Plugin","body":"<p>I've got a Spring Boot application (V3 + JDK 17) that prints a warning to open some modules (because of JRuby):</p>\n<pre><code>2023-07-14T11:13:35.651Z [main] WARN FilenoUtil : Native subprocess control requires open access to the JDK IO subsystem\nPass '--add-opens java.base/sun.nio.ch=ALL-UNNAMED --add-opens java.base/java.io=ALL-UNNAMED' to enable.\n</code></pre>\n<p>Now passing the suggested params (either as command-line args or via <code>JDK_JAVA_OPTIONS</code> env var) removes the warning.<br />\nI also learned that the same can be achieved by adding the modules in an <code>Add-Opens</code> entry:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// build.gradle.kts\n\nbootJar {\n  requiresUnpack(&quot;**/asciidoctorj-*.jar&quot;)\n\n  manifest {\n    attributes[&quot;Add-Opens&quot;] = &quot;java.base/java.io java.base/sun.nio.ch&quot;\n  }\n}\n</code></pre>\n<p>And I can confirm that the final fat JAR file created by Spring Boot plugin does indeed have a MANIFEST.MF with the expected entry:</p>\n<pre><code>Manifest-Version: 1.0\nAdd-Opens: java.base/java.io java.base/sun.nio.ch\nMain-Class: org.springframework.boot.loader.JarLauncher\n# Other entries!!!\n</code></pre>\n<p>And when I run the JAR file (using <code>java -jar</code>) I can see the warning is gone.</p>\n<p>However, when I deploy the docker image built by <code>gradle bootBuildImage</code> (default configuration, nothing customized), I still see the warning. I checked the MANIFEST.MF file in the container and the expected entry exists.</p>\n<p>Does anyone know why it doesn't work? Or generally what's the right way to get rid of the warning?</p>\n<p><strong>Update</strong><br />\nThe short answer is &quot;<code>Add-Opens</code> manifest entries are only supported when launching the JVM using <code>java -jar</code>.&quot; (see <a href=\"https://github.com/spring-projects/spring-boot/issues/33698\" rel=\"nofollow noreferrer\">this</a> and <a href=\"https://github.com/paketo-buildpacks/bellsoft-liberica/issues/440\" rel=\"nofollow noreferrer\">this</a>).</p>\n"},{"tags":["java","jdbc","mariadb"],"comments":[{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":1,"creation_date":1690991463,"post_id":76821508,"comment_id":135430973,"body_markdown":"Probably the cols names are wrong (with spaces) like &quot;First Name&quot; or you must escape the col name. Try to run the sql first from a db client (eg dbeaver).","body":"Probably the cols names are wrong (with spaces) like &quot;First Name&quot; or you must escape the col name. Try to run the sql first from a db client (eg dbeaver)."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1690991494,"post_id":76821508,"comment_id":135430983,"body_markdown":"My guess is that you need to put quotes around the column name with spaces. https://mariadb.com/kb/en/identifier-names/","body":"My guess is that you need to put quotes around the column name with spaces. <a href=\"https://mariadb.com/kb/en/identifier-names/\" rel=\"nofollow noreferrer\">mariadb.com/kb/en/identifier-names</a>"},{"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1690991664,"post_id":76821508,"comment_id":135431016,"body_markdown":"Regular identifiers cannot contain spaces, so `First Name`, `Enrol no`, `Mobile No` are invalid. You need to change them to quoted identifiers (for MySQL and MariaDB, enclose in backticks, for standard SQL as supported by most other databases, enclose in double quotes). Also, **never ever** concatenate user sourced values into a query string like that. It makes you vulnerable to SQL injection. Always use parameterized queries. In fact, you&#39;re forgetting to actual quote string values in single quotes, which is another reason for errors.","body":"Regular identifiers cannot contain spaces, so <code>First Name</code>, <code>Enrol no</code>, <code>Mobile No</code> are invalid. You need to change them to quoted identifiers (for MySQL and MariaDB, enclose in backticks, for standard SQL as supported by most other databases, enclose in double quotes). Also, <b>never ever</b> concatenate user sourced values into a query string like that. It makes you vulnerable to SQL injection. Always use parameterized queries. In fact, you&#39;re forgetting to actual quote string values in single quotes, which is another reason for errors."},{"owner":{"account_id":28926484,"reputation":1,"user_id":22156269,"display_name":"Effie"},"score":0,"creation_date":1690992129,"post_id":76821508,"comment_id":135431114,"body_markdown":"@MarkRotteveel I removed the spaces in the column names, but it still gives this error:\ncom.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near &#39;@gmail.com)&#39; at line 1","body":"@MarkRotteveel I removed the spaces in the column names, but it still gives this error: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near &#39;@gmail.com)&#39; at line 1"},{"owner":{"account_id":28926484,"reputation":1,"user_id":22156269,"display_name":"Effie"},"score":0,"creation_date":1690992420,"post_id":76821508,"comment_id":135431175,"body_markdown":"@MarkRotteveel okay I changed it to backtick, but now I get another exception:\nMySQLSyntaxErrorException: Unknown column &#39;Effie&#39; in &#39;field list&#39;\nHere &quot;Effie&quot; is the value i wanna enter in the column.","body":"@MarkRotteveel okay I changed it to backtick, but now I get another exception: MySQLSyntaxErrorException: Unknown column &#39;Effie&#39; in &#39;field list&#39; Here &quot;Effie&quot; is the value i wanna enter in the column."},{"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1690992533,"post_id":76821508,"comment_id":135431198,"body_markdown":"That is because you&#39;re concatenating values into the query string, which you shouldn&#39;t, but if you really insist on it, you need to make sure string values, like a name or an email address, are enclosed in single quotes (i.e. `&quot; ... values (&#39;&quot; + name + &quot;&#39;, ...&quot;`), or better yet use [`Statement.enquoteLiteral`](https://docs.oracle.com/en/java/javase/17/docs/api/java.sql/java/sql/Statement.html#enquoteLiteral(java.lang.String)) to also make sure the value is properly escaped.","body":"That is because you&#39;re concatenating values into the query string, which you shouldn&#39;t, but if you really insist on it, you need to make sure string values, like a name or an email address, are enclosed in single quotes (i.e. <code>&quot; ... values (&#39;&quot; + name + &quot;&#39;, ...&quot;</code>), or better yet use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.sql/java/sql/Statement.html#enquoteLiteral(java.lang.String)\" rel=\"nofollow noreferrer\"><code>Statement.enquoteLiteral</code></a> to also make sure the value is properly escaped."},{"owner":{"account_id":28926484,"reputation":1,"user_id":22156269,"display_name":"Effie"},"score":0,"creation_date":1690992979,"post_id":76821508,"comment_id":135431299,"body_markdown":"@MarkRotteveel I did that but now there&#39;s a new error:\nMysqlDataTruncation: Data truncation: Out of range value for column &#39;MobileNo&#39; at row 1\nThe max length for MobileNo is 11, and I&#39;ve only entered 10 numbers as a string. Thanks for still helping me !!","body":"@MarkRotteveel I did that but now there&#39;s a new error: MysqlDataTruncation: Data truncation: Out of range value for column &#39;MobileNo&#39; at row 1 The max length for MobileNo is 11, and I&#39;ve only entered 10 numbers as a string. Thanks for still helping me !!"},{"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1690993105,"post_id":76821508,"comment_id":135431327,"body_markdown":"Print out `sql` and see where you went wrong.","body":"Print out <code>sql</code> and see where you went wrong."},{"owner":{"account_id":28926484,"reputation":1,"user_id":22156269,"display_name":"Effie"},"score":0,"creation_date":1690994036,"post_id":76821508,"comment_id":135431534,"body_markdown":"All the errors are solved!! I can finally make my submission file thanks to you!! Thank you so much!!!","body":"All the errors are solved!! I can finally make my submission file thanks to you!! Thank you so much!!!"}],"owner":{"account_id":28926484,"reputation":1,"user_id":22156269,"display_name":"Effie"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1691060396,"answer_count":0,"score":0,"last_activity_date":1690991728,"creation_date":1690990858,"question_id":76821508,"body_markdown":"&gt; MySQLSyntaxErrorException: You have an error in your SQL syntax; check\r\n&gt; the manual that corresponds to your MariaDB server version for the\r\n&gt; right syntax to use near &#39;Name,Enrol no,Department,Mobile No,Email)\r\n&gt; values(Effie,1051,CE,123456789,121...&#39; at line 1\r\n\r\nThe above exception is displaying. I don&#39;t know what I&#39;m doing wrong, but here is the code:\r\n\r\n\r\n```java\r\nString Create()\r\n{\r\n    String sql;\r\n    Scanner sc = new Scanner(System.in);\r\n    System.out.println(&quot;Enter name:&quot;);\r\n    String name = sc.nextLine();\r\n    \r\n    System.out.println(&quot;Enter enrl:&quot;);\r\n    long enrl = sc.nextInt();\r\n    \r\n    sc.nextLine();\r\n     \r\n    System.out.println(&quot;Enter department:&quot;);\r\n    String dept = sc.nextLine();\r\n    \r\n    System.out.println(&quot;Enter mobile no:&quot;);\r\n    String mono = sc.nextLine();\r\n    \r\n    System.out.println(&quot;Enter mail:&quot;);\r\n    String mail = sc.nextLine();\r\n    \r\n    sql=&quot;Insert into stud_details(First Name,Enrol no,Department,Mobile No,Email) values(&quot;+name+&quot;,&quot;+enrl+&quot;,&quot;+dept+&quot;,&quot;+mono+&quot;,&quot;+mail+&quot;);&quot;;\r\n    return sql; \r\n}\r\n```\r\n\r\nThe above code is written in class &quot;demo&quot; and I&#39;ve called it in the main class containing PSVM. I cannot find the mistake here.","title":"MySQLSyntaxErrorException while using jdbc","body":"<blockquote>\n<p>MySQLSyntaxErrorException: You have an error in your SQL syntax; check\nthe manual that corresponds to your MariaDB server version for the\nright syntax to use near 'Name,Enrol no,Department,Mobile No,Email)\nvalues(Effie,1051,CE,123456789,121...' at line 1</p>\n</blockquote>\n<p>The above exception is displaying. I don't know what I'm doing wrong, but here is the code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String Create()\n{\n    String sql;\n    Scanner sc = new Scanner(System.in);\n    System.out.println(&quot;Enter name:&quot;);\n    String name = sc.nextLine();\n    \n    System.out.println(&quot;Enter enrl:&quot;);\n    long enrl = sc.nextInt();\n    \n    sc.nextLine();\n     \n    System.out.println(&quot;Enter department:&quot;);\n    String dept = sc.nextLine();\n    \n    System.out.println(&quot;Enter mobile no:&quot;);\n    String mono = sc.nextLine();\n    \n    System.out.println(&quot;Enter mail:&quot;);\n    String mail = sc.nextLine();\n    \n    sql=&quot;Insert into stud_details(First Name,Enrol no,Department,Mobile No,Email) values(&quot;+name+&quot;,&quot;+enrl+&quot;,&quot;+dept+&quot;,&quot;+mono+&quot;,&quot;+mail+&quot;);&quot;;\n    return sql; \n}\n</code></pre>\n<p>The above code is written in class &quot;demo&quot; and I've called it in the main class containing PSVM. I cannot find the mistake here.</p>\n"},{"tags":["java","excel","apache-poi"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":1,"creation_date":1690954652,"post_id":76816420,"comment_id":135422966,"body_markdown":"Your question is not clear. Do you want data separated into different workbooks? Or into different sheets in same workbook? If so, then what is the problem? If you can put all data into one sheet, you also should be able to put parts of data into different sheets. Or shall all data be in one sheet in same workbook but only **printed** using page breaks and repeating header rows? Please clarify.","body":"Your question is not clear. Do you want data separated into different workbooks? Or into different sheets in same workbook? If so, then what is the problem? If you can put all data into one sheet, you also should be able to put parts of data into different sheets. Or shall all data be in one sheet in same workbook but only <b>printed</b> using page breaks and repeating header rows? Please clarify."},{"owner":{"account_id":17341920,"reputation":57,"user_id":12562338,"display_name":"Daniel0909"},"score":0,"creation_date":1690955218,"post_id":76816420,"comment_id":135423019,"body_markdown":"Sorry, the question is not clean. I want all in one sheet in same workbook, and only printed using page break and repeating header row.","body":"Sorry, the question is not clean. I want all in one sheet in same workbook, and only printed using page break and repeating header row."}],"answers":[{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1690991503,"creation_date":1690965152,"answer_id":76817996,"question_id":76816420,"body_markdown":"What you seems to want is [Insert page breaks in a worksheet](https://support.microsoft.com/en-us/office/insert-move-or-delete-page-breaks-in-a-worksheet-ad3dc726-beec-4a4c-861f-ed640612bdc2#:~:text=1%20To%20verify%20that%20drag-and-drop%20is%20enabled%2C%20do,page%20break%20to%20a%20new%20location.%20See%20More) and [Repeat specific rows or columns on every printed page](https://support.microsoft.com/en-us/office/repeat-specific-rows-or-columns-on-every-printed-page-0d6dac43-7ee7-4f34-8b08-ffcc8b022409#:~:text=1%20In%20the%20Rows%20to%20repeat%20at%20top,in%20the%20Rows%20to%20repeat%20at%20top%20box.).\r\n\r\nApache POI provides [Sheet.setRowBreak](https://poi.apache.org/apidocs/dev/org/apache/poi/ss/usermodel/Sheet.html#setRowBreak-int-) and [Sheet.setRepeatingRows](https://poi.apache.org/apidocs/dev/org/apache/poi/ss/usermodel/Sheet.html#setRepeatingRows-org.apache.poi.ss.util.CellRangeAddress-) to do this.\r\n\r\nThe following complete example shows how to use those methods.\r\n\r\nThe data should determine which rows shall be set to perform a page break and which rows shall be repeated on top of every page. In this simple example both is set static to minimize the complexity of the example. Making both dynamic will be a challenge of its own.\r\n\r\nThis code uses current Apache POI version 5.2.3. It should result in an Excel file where the print preview is exactly as you have shown.\r\n\r\n\r\n    import java.io.FileOutputStream;\r\n    import org.apache.poi.ss.usermodel.*;\r\n    import org.apache.poi.xssf.usermodel.XSSFWorkbook;\r\n    import org.apache.poi.xssf.streaming.SXSSFWorkbook;\r\n    import org.apache.poi.hssf.usermodel.HSSFWorkbook;\r\n    import org.apache.poi.ss.util.CellRangeAddress;\r\n    \r\n    class CreateExcelRowBreaksRepeatingRows {\r\n    \r\n     public static void main(String[] args) throws Exception {\r\n    \r\n      try (\r\n       //Workbook workbook = new XSSFWorkbook(); FileOutputStream fileout = new FileOutputStream(&quot;Excel.xlsx&quot;)\r\n       Workbook workbook = new SXSSFWorkbook(); FileOutputStream fileout = new FileOutputStream(&quot;Excel.xlsx&quot;)\r\n       //Workbook workbook = new HSSFWorkbook(); FileOutputStream fileout = new FileOutputStream(&quot;Excel.xls&quot;)\r\n       ) {\r\n           \r\n       // create cell styles on workbook level     \r\n       CellStyle centered = workbook.createCellStyle();\r\n       centered.setAlignment(HorizontalAlignment.CENTER); \r\n       CellStyle bordered = workbook.createCellStyle();\r\n       bordered.setBorderTop(BorderStyle.THIN); \r\n       bordered.setBorderBottom(BorderStyle.THIN); \r\n       bordered.setBorderLeft(BorderStyle.THIN); \r\n       bordered.setBorderRight(BorderStyle.THIN); \r\n    \r\n       // create data and set on which rows shall be row breaks\r\n       // only static size for this simple example\r\n       Object[][] data = new Object[16][3];\r\n       int[] rowBreaks = new int[2];\r\n       data[0] = new Object[] {&quot;Company name&quot;, &quot;Company data1&quot;, &quot;Company data2&quot;};\r\n       for (int i = 1; i &lt; 5; i++) {\r\n        data[i] = new Object[] {&quot;A&quot;, &quot;AX&quot;, &quot;AY&quot;};\r\n       }\r\n       rowBreaks[0] = 4;\r\n       for (int i = 5; i &lt; 11; i++) {\r\n        data[i] = new Object[] {&quot;B&quot;, &quot;BX&quot;, &quot;BY&quot;};\r\n       }\r\n       rowBreaks[1] = 10;\r\n       for (int i = 11; i &lt; 16; i++) {\r\n        data[i] = new Object[] {&quot;C&quot;, &quot;CX&quot;, &quot;CY&quot;};\r\n       }\r\n       \r\n       Sheet sheet = workbook.createSheet(); \r\n    \r\n       sheet.setColumnWidth(0, 15*256);\r\n       sheet.setColumnWidth(1, 15*256);\r\n       sheet.setColumnWidth(2, 15*256);\r\n    \r\n       // create first row - content is outside the defined data\r\n       Row row = sheet.createRow(0);\r\n       Cell cell = row.createCell(0);\r\n       cell.setCellValue(&quot;Total company list&quot;);\r\n       sheet.addMergedRegion(new CellRangeAddress(0, 0, 0, 2));\r\n       cell.setCellStyle(centered);\r\n    \r\n       // put data into the sheet\r\n       int startR = 1;\r\n       for (int r = 0; r &lt; data.length; r++) {\r\n        row = sheet.createRow(startR + r);\r\n        for (int rb = 0; rb &lt; rowBreaks.length; rb++) {\r\n         // shall this row set page break?\r\n         if (rowBreaks[rb] == r) sheet.setRowBreak(row.getRowNum());    \r\n        }   \r\n        for (int c = 0; c &lt; data[0].length; c++) {\r\n         cell = row.createCell(c);\r\n         if (r ==0) cell.setCellStyle(bordered);\r\n         Object cellValue = data[r][c];\r\n         if (cellValue instanceof String) {\r\n          cell.setCellValue((String)cellValue);\r\n         //} else if (cellValue instanceof ToDo) {\r\n          //cell.setCellValue((ToDo)cellValue);\r\n         }\r\n        }\r\n       }\r\n       \r\n       // first two rows shall be repeating rows\r\n       sheet.setRepeatingRows(new CellRangeAddress(0, 1, 0, 0));\r\n    \r\n       workbook.write(fileout);\r\n       \r\n       if (workbook instanceof SXSSFWorkbook) ((SXSSFWorkbook)workbook).dispose();\r\n       \r\n      }\r\n     }\r\n    }","title":"How to use Apache POI Workbook to sprarate different data in different excel?","body":"<p>What you seems to want is <a href=\"https://support.microsoft.com/en-us/office/insert-move-or-delete-page-breaks-in-a-worksheet-ad3dc726-beec-4a4c-861f-ed640612bdc2#:%7E:text=1%20To%20verify%20that%20drag-and-drop%20is%20enabled%2C%20do,page%20break%20to%20a%20new%20location.%20See%20More\" rel=\"nofollow noreferrer\">Insert page breaks in a worksheet</a> and <a href=\"https://support.microsoft.com/en-us/office/repeat-specific-rows-or-columns-on-every-printed-page-0d6dac43-7ee7-4f34-8b08-ffcc8b022409#:%7E:text=1%20In%20the%20Rows%20to%20repeat%20at%20top,in%20the%20Rows%20to%20repeat%20at%20top%20box.\" rel=\"nofollow noreferrer\">Repeat specific rows or columns on every printed page</a>.</p>\n<p>Apache POI provides <a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/ss/usermodel/Sheet.html#setRowBreak-int-\" rel=\"nofollow noreferrer\">Sheet.setRowBreak</a> and <a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/ss/usermodel/Sheet.html#setRepeatingRows-org.apache.poi.ss.util.CellRangeAddress-\" rel=\"nofollow noreferrer\">Sheet.setRepeatingRows</a> to do this.</p>\n<p>The following complete example shows how to use those methods.</p>\n<p>The data should determine which rows shall be set to perform a page break and which rows shall be repeated on top of every page. In this simple example both is set static to minimize the complexity of the example. Making both dynamic will be a challenge of its own.</p>\n<p>This code uses current Apache POI version 5.2.3. It should result in an Excel file where the print preview is exactly as you have shown.</p>\n<pre><code>import java.io.FileOutputStream;\nimport org.apache.poi.ss.usermodel.*;\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\nimport org.apache.poi.xssf.streaming.SXSSFWorkbook;\nimport org.apache.poi.hssf.usermodel.HSSFWorkbook;\nimport org.apache.poi.ss.util.CellRangeAddress;\n\nclass CreateExcelRowBreaksRepeatingRows {\n\n public static void main(String[] args) throws Exception {\n\n  try (\n   //Workbook workbook = new XSSFWorkbook(); FileOutputStream fileout = new FileOutputStream(&quot;Excel.xlsx&quot;)\n   Workbook workbook = new SXSSFWorkbook(); FileOutputStream fileout = new FileOutputStream(&quot;Excel.xlsx&quot;)\n   //Workbook workbook = new HSSFWorkbook(); FileOutputStream fileout = new FileOutputStream(&quot;Excel.xls&quot;)\n   ) {\n       \n   // create cell styles on workbook level     \n   CellStyle centered = workbook.createCellStyle();\n   centered.setAlignment(HorizontalAlignment.CENTER); \n   CellStyle bordered = workbook.createCellStyle();\n   bordered.setBorderTop(BorderStyle.THIN); \n   bordered.setBorderBottom(BorderStyle.THIN); \n   bordered.setBorderLeft(BorderStyle.THIN); \n   bordered.setBorderRight(BorderStyle.THIN); \n\n   // create data and set on which rows shall be row breaks\n   // only static size for this simple example\n   Object[][] data = new Object[16][3];\n   int[] rowBreaks = new int[2];\n   data[0] = new Object[] {&quot;Company name&quot;, &quot;Company data1&quot;, &quot;Company data2&quot;};\n   for (int i = 1; i &lt; 5; i++) {\n    data[i] = new Object[] {&quot;A&quot;, &quot;AX&quot;, &quot;AY&quot;};\n   }\n   rowBreaks[0] = 4;\n   for (int i = 5; i &lt; 11; i++) {\n    data[i] = new Object[] {&quot;B&quot;, &quot;BX&quot;, &quot;BY&quot;};\n   }\n   rowBreaks[1] = 10;\n   for (int i = 11; i &lt; 16; i++) {\n    data[i] = new Object[] {&quot;C&quot;, &quot;CX&quot;, &quot;CY&quot;};\n   }\n   \n   Sheet sheet = workbook.createSheet(); \n\n   sheet.setColumnWidth(0, 15*256);\n   sheet.setColumnWidth(1, 15*256);\n   sheet.setColumnWidth(2, 15*256);\n\n   // create first row - content is outside the defined data\n   Row row = sheet.createRow(0);\n   Cell cell = row.createCell(0);\n   cell.setCellValue(&quot;Total company list&quot;);\n   sheet.addMergedRegion(new CellRangeAddress(0, 0, 0, 2));\n   cell.setCellStyle(centered);\n\n   // put data into the sheet\n   int startR = 1;\n   for (int r = 0; r &lt; data.length; r++) {\n    row = sheet.createRow(startR + r);\n    for (int rb = 0; rb &lt; rowBreaks.length; rb++) {\n     // shall this row set page break?\n     if (rowBreaks[rb] == r) sheet.setRowBreak(row.getRowNum());    \n    }   \n    for (int c = 0; c &lt; data[0].length; c++) {\n     cell = row.createCell(c);\n     if (r ==0) cell.setCellStyle(bordered);\n     Object cellValue = data[r][c];\n     if (cellValue instanceof String) {\n      cell.setCellValue((String)cellValue);\n     //} else if (cellValue instanceof ToDo) {\n      //cell.setCellValue((ToDo)cellValue);\n     }\n    }\n   }\n   \n   // first two rows shall be repeating rows\n   sheet.setRepeatingRows(new CellRangeAddress(0, 1, 0, 0));\n\n   workbook.write(fileout);\n   \n   if (workbook instanceof SXSSFWorkbook) ((SXSSFWorkbook)workbook).dispose();\n   \n  }\n }\n}\n</code></pre>\n"}],"owner":{"account_id":17341920,"reputation":57,"user_id":12562338,"display_name":"Daniel0909"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76817996,"answer_count":1,"score":1,"last_activity_date":1690991503,"creation_date":1690946546,"question_id":76816420,"body_markdown":"I&#39;m new guy to learn Apache POI in java.\r\nMy data show like this, I can print all data in one excel.\r\nI want to separate different company data in different excel when I print the excel.\r\nJust like A company data in first page excel, B company data in second page excel and C company data in third page excel.\r\nThe excel title can repeat in different excel.\r\n\r\nI want all in one sheet in same workbook, and only printed using page break and repeating header row. \r\n\r\nNow, I can do like this.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nI want the excel ike this.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n[![enter image description here][3]][3]\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1OoDQ.jpg\r\n  [2]: https://i.stack.imgur.com/BTtdv.jpg\r\n  [3]: https://i.stack.imgur.com/XI1G7.jpg\r\n  [4]: https://i.stack.imgur.com/eibbA.jpg","title":"How to use Apache POI Workbook to sprarate different data in different excel?","body":"<p>I'm new guy to learn Apache POI in java.\nMy data show like this, I can print all data in one excel.\nI want to separate different company data in different excel when I print the excel.\nJust like A company data in first page excel, B company data in second page excel and C company data in third page excel.\nThe excel title can repeat in different excel.</p>\n<p>I want all in one sheet in same workbook, and only printed using page break and repeating header row.</p>\n<p>Now, I can do like this.</p>\n<p><a href=\"https://i.stack.imgur.com/1OoDQ.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1OoDQ.jpg\" alt=\"enter image description here\" /></a></p>\n<p>I want the excel ike this.</p>\n<p><a href=\"https://i.stack.imgur.com/BTtdv.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BTtdv.jpg\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/XI1G7.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XI1G7.jpg\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/eibbA.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eibbA.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","json","avro","jolt"],"owner":{"account_id":10771995,"reputation":1,"user_id":7925222,"display_name":"Ankit Punamiya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690991408,"creation_date":1690991408,"question_id":76821578,"body_markdown":"This is my source input json\r\n\r\n```\r\n{\r\n  &quot;payload&quot;: {\r\n    &quot;keys&quot;: {\r\n      &quot;sce0_client_num&quot;: 101,\r\n      &quot;sce0_application_num&quot;: -5493929203645992000,\r\n      &quot;sce0_application_suffix&quot;: 101\r\n    },\r\n    &quot;sce0_segment_length&quot;: 101,\r\n    &quot;sce0_behavior_scores&quot;: [\r\n      {\r\n        &quot;sce0_triad_score_raw&quot;: 101,\r\n        &quot;sce0_triad_score_aligned&quot;: 101,\r\n        &quot;sce0_triad_scorecard_id&quot;: 101,\r\n        &quot;sce0_date_behavior_scores&quot;: -1319636323\r\n      },\r\n      {\r\n        &quot;sce0_triad_score_raw&quot;: 52645188,\r\n        &quot;sce0_triad_score_aligned&quot;: -1856889773,\r\n        &quot;sce0_triad_scorecard_id&quot;: 101,\r\n        &quot;sce0_date_behavior_scores&quot;: 101\r\n      },\r\n      {\r\n        &quot;sce0_triad_score_raw&quot;: 1,\r\n        &quot;sce0_triad_score_aligned&quot;: -11,\r\n        &quot;sce0_triad_scorecard_id&quot;: 101,\r\n        &quot;sce0_date_behavior_scores&quot;: 101\r\n      },\r\n      {\r\n        &quot;sce0_triad_score_raw&quot;: 2,\r\n        &quot;sce0_triad_score_aligned&quot;: -22,\r\n        &quot;sce0_triad_scorecard_id&quot;: 102,\r\n        &quot;sce0_date_behavior_scores&quot;: 102\r\n      },\r\n      {\r\n        &quot;sce0_triad_score_raw&quot;: 3,\r\n        &quot;sce0_triad_score_aligned&quot;: -33,\r\n        &quot;sce0_triad_scorecard_id&quot;: 103,\r\n        &quot;sce0_date_behavior_scores&quot;: 103\r\n      },\r\n      {\r\n        &quot;sce0_triad_score_raw&quot;: 4,\r\n        &quot;sce0_triad_score_aligned&quot;: -44,\r\n        &quot;sce0_triad_scorecard_id&quot;: 104,\r\n        &quot;sce0_date_behavior_scores&quot;: 104\r\n      },\r\n      {\r\n        &quot;sce0_triad_score_raw&quot;: 5,\r\n        &quot;sce0_triad_score_aligned&quot;: -55,\r\n        &quot;sce0_triad_scorecard_id&quot;: 105,\r\n        &quot;sce0_date_behavior_scores&quot;: 105\r\n      },\r\n      {\r\n        &quot;sce0_triad_score_raw&quot;: 6,\r\n        &quot;sce0_triad_score_aligned&quot;: -66,\r\n        &quot;sce0_triad_scorecard_id&quot;: 106,\r\n        &quot;sce0_date_behavior_scores&quot;: 106\r\n      },\r\n      {\r\n        &quot;sce0_triad_score_raw&quot;: 7,\r\n        &quot;sce0_triad_score_aligned&quot;: -77,\r\n        &quot;sce0_triad_scorecard_id&quot;: 107,\r\n        &quot;sce0_date_behavior_scores&quot;: 107\r\n      },\r\n      {\r\n        &quot;sce0_triad_score_raw&quot;: 8,\r\n        &quot;sce0_triad_score_aligned&quot;: -88,\r\n        &quot;sce0_triad_scorecard_id&quot;: 108,\r\n        &quot;sce0_date_behavior_scores&quot;: 108\r\n      },\r\n      {\r\n        &quot;sce0_triad_score_raw&quot;: 9,\r\n        &quot;sce0_triad_score_aligned&quot;: -99,\r\n        &quot;sce0_triad_scorecard_id&quot;: 109,\r\n        &quot;sce0_date_behavior_scores&quot;: 109\r\n      },\r\n      {\r\n        &quot;sce0_triad_score_raw&quot;: 10,\r\n        &quot;sce0_triad_score_aligned&quot;: -100,\r\n        &quot;sce0_triad_scorecard_id&quot;: 111,\r\n        &quot;sce0_date_behavior_scores&quot;: 111\r\n      }\r\n    ],\r\n    &quot;sce0_credit_score_org&quot;: 1720785150,\r\n    &quot;sce0_mds_auth_score&quot;: 101,\r\n    &quot;sce0_mds_coll_score&quot;: 101,\r\n    &quot;sce0_cb_score_data&quot;: [\r\n      {\r\n        &quot;sce0_cb_score&quot;: -326862643,\r\n        &quot;sce0_date_cb_score&quot;: 1271544989\r\n      },\r\n      {\r\n        &quot;sce0_cb_score&quot;: -1664695633,\r\n        &quot;sce0_date_cb_score&quot;: 101\r\n      },\r\n      {\r\n        &quot;sce0_cb_score&quot;: 1340696727,\r\n        &quot;sce0_date_cb_score&quot;: -1830228389\r\n      },\r\n      {\r\n        &quot;sce0_cb_score&quot;: 101,\r\n        &quot;sce0_date_cb_score&quot;: 337343512\r\n      },\r\n      {\r\n        &quot;sce0_cb_score&quot;: 102,\r\n        &quot;sce0_date_cb_score&quot;: 55555\r\n      },\r\n      {\r\n        &quot;sce0_cb_score&quot;: 103,\r\n        &quot;sce0_date_cb_score&quot;: 6666\r\n      },\r\n      {\r\n        &quot;sce0_cb_score&quot;: 104,\r\n        &quot;sce0_date_cb_score&quot;: 7777\r\n      }\r\n    ],\r\n    &quot;sce0_cb_worst_public_record&quot;: 2024061225,\r\n    &quot;sce0_cb_worst_trade_line&quot;: -506011687,\r\n    &quot;sce0_cb_number_trade_lines&quot;: 2000451889,\r\n    &quot;sce0_cb_number_disputed_lines&quot;: 834290474,\r\n    &quot;sce0_triad_batch_auth_cntr&quot;: 101,\r\n    &quot;sce0_triad_blaze_advisor&quot;: [\r\n      {\r\n        &quot;sce0_triad_blaze_score&quot;: 1\r\n      },\r\n      {\r\n        &quot;sce0_triad_blaze_score&quot;: -2\r\n      },\r\n      {\r\n        &quot;sce0_triad_blaze_score&quot;: 3\r\n      },\r\n      {\r\n        &quot;sce0_triad_blaze_score&quot;: 4\r\n      },\r\n      {\r\n        &quot;sce0_triad_blaze_score&quot;: 5\r\n      },\r\n      {\r\n        &quot;sce0_triad_blaze_score&quot;: 6\r\n      },\r\n      {\r\n        &quot;sce0_triad_blaze_score&quot;: 7\r\n      },\r\n      {\r\n        &quot;sce0_triad_blaze_score&quot;: 8\r\n      },\r\n      {\r\n        &quot;sce0_triad_blaze_score&quot;: 9\r\n      },\r\n      {\r\n        &quot;sce0_triad_blaze_score&quot;: 10\r\n      },\r\n      {\r\n        &quot;sce0_triad_blaze_score&quot;: 11\r\n      },\r\n      {\r\n        &quot;sce0_triad_blaze_score&quot;: 12\r\n      },\r\n      {\r\n        &quot;sce0_triad_blaze_score&quot;: 13\r\n      },\r\n      {\r\n        &quot;sce0_triad_blaze_score&quot;: 14\r\n      },\r\n      {\r\n        &quot;sce0_triad_blaze_score&quot;: 15\r\n      },\r\n      {\r\n        &quot;sce0_triad_blaze_score&quot;: 16\r\n      },\r\n      {\r\n        &quot;sce0_triad_blaze_score&quot;: 17\r\n      },\r\n      {\r\n        &quot;sce0_triad_blaze_score&quot;: 18\r\n      }\r\n    ],\r\n    &quot;sce0_cb_score_data_2&quot;: [\r\n      {\r\n        &quot;sce0_cb_score_2&quot;: -326862643,\r\n        &quot;sce0_date_cb_score_2&quot;: 1271544989\r\n      },\r\n      {\r\n        &quot;sce0_cb_score_2&quot;: -1664695633,\r\n        &quot;sce0_date_cb_score_2&quot;: 101\r\n      },\r\n      {\r\n        &quot;sce0_cb_score_2&quot;: 1340696727,\r\n        &quot;sce0_date_cb_score_2&quot;: -1830228389\r\n      },\r\n      {\r\n        &quot;sce0_cb_score_2&quot;: 101,\r\n        &quot;sce0_date_cb_score_2&quot;: 337343512\r\n      },\r\n      {\r\n        &quot;sce0_cb_score_2&quot;: 102,\r\n        &quot;sce0_date_cb_score_2&quot;: 55555\r\n      }\r\n    ],\r\n    &quot;sce0_custom_char_field&quot;: [\r\n      1,\r\n      2,\r\n      3,\r\n      4,\r\n      5,\r\n      6,\r\n      7,\r\n      8,\r\n      9,\r\n      10,\r\n      11,\r\n      12,\r\n      13,\r\n      14,\r\n      15,\r\n      16\r\n    ],\r\n    &quot;sce0_custom_numeric_field&quot;: [\r\n      1,\r\n      2,\r\n      3,\r\n      4,\r\n      5,\r\n      6,\r\n      7,\r\n      8,\r\n      9,\r\n      10,\r\n      11,\r\n      12,\r\n      13,\r\n      14,\r\n      15,\r\n      16,\r\n      17,\r\n      18,\r\n      19,\r\n      20,\r\n      21,\r\n      22,\r\n      23,\r\n      24,\r\n      25,\r\n      26,\r\n      27,\r\n      28,\r\n      29,\r\n      30,\r\n      31,\r\n      32,\r\n      33,\r\n      34,\r\n      35,\r\n      36,\r\n      37,\r\n      38\r\n    ],\r\n    &quot;sce0_custom_numeric_field_33&quot;: [\r\n      1,\r\n      2,\r\n      3,\r\n      4,\r\n      5,\r\n      6,\r\n      7,\r\n      8,\r\n      9,\r\n      10,\r\n      11,\r\n      12,\r\n      13,\r\n      14,\r\n      15,\r\n      16,\r\n      17,\r\n      18,\r\n      19,\r\n      20,\r\n      21,\r\n      22,\r\n      23,\r\n      24,\r\n      25,\r\n      26,\r\n      27,\r\n      28,\r\n      29,\r\n      30,\r\n      31,\r\n      32,\r\n      33\r\n    ],\r\n    &quot;sce0_pmax_score_dollar_val_01&quot;: &quot;iiiiiii&quot;,\r\n    &quot;sce0_pmax_score_dollar_val_02&quot;: &quot;ooooo&quot;,\r\n    &quot;sce0_pmax_score_aligned_03&quot;: 101,\r\n    &quot;sce0_pmax_score_aligned_04&quot;: -1252234954199944000,\r\n    &quot;sce0_pmax_score_aligned_05&quot;: 9201734396028061000\r\n  }\r\n}\r\n```\r\n\r\nSo in the above input i have 2 types of array type fields, 1 normal array (sce0-*custom-numeric*-\\*field) and second fields inside an array (eg sce0-triad-score-\\*aligned inside sce0-behavior-scores). If we take the second case, i want the whole array under a single string in output, i.e. the whole array i want to map it to behavr_scr.\r\n\r\nCan anyone help how i can achieve that in jolt itself.\r\n\r\nI tried doing the below for the first scenario but there was no change.  \r\nhttps://github.com/bazaarvoice/jolt/issues/547","title":"Transforming an array to a string containing that array using jolt","body":"<p>This is my source input json</p>\n<pre><code>{\n  &quot;payload&quot;: {\n    &quot;keys&quot;: {\n      &quot;sce0_client_num&quot;: 101,\n      &quot;sce0_application_num&quot;: -5493929203645992000,\n      &quot;sce0_application_suffix&quot;: 101\n    },\n    &quot;sce0_segment_length&quot;: 101,\n    &quot;sce0_behavior_scores&quot;: [\n      {\n        &quot;sce0_triad_score_raw&quot;: 101,\n        &quot;sce0_triad_score_aligned&quot;: 101,\n        &quot;sce0_triad_scorecard_id&quot;: 101,\n        &quot;sce0_date_behavior_scores&quot;: -1319636323\n      },\n      {\n        &quot;sce0_triad_score_raw&quot;: 52645188,\n        &quot;sce0_triad_score_aligned&quot;: -1856889773,\n        &quot;sce0_triad_scorecard_id&quot;: 101,\n        &quot;sce0_date_behavior_scores&quot;: 101\n      },\n      {\n        &quot;sce0_triad_score_raw&quot;: 1,\n        &quot;sce0_triad_score_aligned&quot;: -11,\n        &quot;sce0_triad_scorecard_id&quot;: 101,\n        &quot;sce0_date_behavior_scores&quot;: 101\n      },\n      {\n        &quot;sce0_triad_score_raw&quot;: 2,\n        &quot;sce0_triad_score_aligned&quot;: -22,\n        &quot;sce0_triad_scorecard_id&quot;: 102,\n        &quot;sce0_date_behavior_scores&quot;: 102\n      },\n      {\n        &quot;sce0_triad_score_raw&quot;: 3,\n        &quot;sce0_triad_score_aligned&quot;: -33,\n        &quot;sce0_triad_scorecard_id&quot;: 103,\n        &quot;sce0_date_behavior_scores&quot;: 103\n      },\n      {\n        &quot;sce0_triad_score_raw&quot;: 4,\n        &quot;sce0_triad_score_aligned&quot;: -44,\n        &quot;sce0_triad_scorecard_id&quot;: 104,\n        &quot;sce0_date_behavior_scores&quot;: 104\n      },\n      {\n        &quot;sce0_triad_score_raw&quot;: 5,\n        &quot;sce0_triad_score_aligned&quot;: -55,\n        &quot;sce0_triad_scorecard_id&quot;: 105,\n        &quot;sce0_date_behavior_scores&quot;: 105\n      },\n      {\n        &quot;sce0_triad_score_raw&quot;: 6,\n        &quot;sce0_triad_score_aligned&quot;: -66,\n        &quot;sce0_triad_scorecard_id&quot;: 106,\n        &quot;sce0_date_behavior_scores&quot;: 106\n      },\n      {\n        &quot;sce0_triad_score_raw&quot;: 7,\n        &quot;sce0_triad_score_aligned&quot;: -77,\n        &quot;sce0_triad_scorecard_id&quot;: 107,\n        &quot;sce0_date_behavior_scores&quot;: 107\n      },\n      {\n        &quot;sce0_triad_score_raw&quot;: 8,\n        &quot;sce0_triad_score_aligned&quot;: -88,\n        &quot;sce0_triad_scorecard_id&quot;: 108,\n        &quot;sce0_date_behavior_scores&quot;: 108\n      },\n      {\n        &quot;sce0_triad_score_raw&quot;: 9,\n        &quot;sce0_triad_score_aligned&quot;: -99,\n        &quot;sce0_triad_scorecard_id&quot;: 109,\n        &quot;sce0_date_behavior_scores&quot;: 109\n      },\n      {\n        &quot;sce0_triad_score_raw&quot;: 10,\n        &quot;sce0_triad_score_aligned&quot;: -100,\n        &quot;sce0_triad_scorecard_id&quot;: 111,\n        &quot;sce0_date_behavior_scores&quot;: 111\n      }\n    ],\n    &quot;sce0_credit_score_org&quot;: 1720785150,\n    &quot;sce0_mds_auth_score&quot;: 101,\n    &quot;sce0_mds_coll_score&quot;: 101,\n    &quot;sce0_cb_score_data&quot;: [\n      {\n        &quot;sce0_cb_score&quot;: -326862643,\n        &quot;sce0_date_cb_score&quot;: 1271544989\n      },\n      {\n        &quot;sce0_cb_score&quot;: -1664695633,\n        &quot;sce0_date_cb_score&quot;: 101\n      },\n      {\n        &quot;sce0_cb_score&quot;: 1340696727,\n        &quot;sce0_date_cb_score&quot;: -1830228389\n      },\n      {\n        &quot;sce0_cb_score&quot;: 101,\n        &quot;sce0_date_cb_score&quot;: 337343512\n      },\n      {\n        &quot;sce0_cb_score&quot;: 102,\n        &quot;sce0_date_cb_score&quot;: 55555\n      },\n      {\n        &quot;sce0_cb_score&quot;: 103,\n        &quot;sce0_date_cb_score&quot;: 6666\n      },\n      {\n        &quot;sce0_cb_score&quot;: 104,\n        &quot;sce0_date_cb_score&quot;: 7777\n      }\n    ],\n    &quot;sce0_cb_worst_public_record&quot;: 2024061225,\n    &quot;sce0_cb_worst_trade_line&quot;: -506011687,\n    &quot;sce0_cb_number_trade_lines&quot;: 2000451889,\n    &quot;sce0_cb_number_disputed_lines&quot;: 834290474,\n    &quot;sce0_triad_batch_auth_cntr&quot;: 101,\n    &quot;sce0_triad_blaze_advisor&quot;: [\n      {\n        &quot;sce0_triad_blaze_score&quot;: 1\n      },\n      {\n        &quot;sce0_triad_blaze_score&quot;: -2\n      },\n      {\n        &quot;sce0_triad_blaze_score&quot;: 3\n      },\n      {\n        &quot;sce0_triad_blaze_score&quot;: 4\n      },\n      {\n        &quot;sce0_triad_blaze_score&quot;: 5\n      },\n      {\n        &quot;sce0_triad_blaze_score&quot;: 6\n      },\n      {\n        &quot;sce0_triad_blaze_score&quot;: 7\n      },\n      {\n        &quot;sce0_triad_blaze_score&quot;: 8\n      },\n      {\n        &quot;sce0_triad_blaze_score&quot;: 9\n      },\n      {\n        &quot;sce0_triad_blaze_score&quot;: 10\n      },\n      {\n        &quot;sce0_triad_blaze_score&quot;: 11\n      },\n      {\n        &quot;sce0_triad_blaze_score&quot;: 12\n      },\n      {\n        &quot;sce0_triad_blaze_score&quot;: 13\n      },\n      {\n        &quot;sce0_triad_blaze_score&quot;: 14\n      },\n      {\n        &quot;sce0_triad_blaze_score&quot;: 15\n      },\n      {\n        &quot;sce0_triad_blaze_score&quot;: 16\n      },\n      {\n        &quot;sce0_triad_blaze_score&quot;: 17\n      },\n      {\n        &quot;sce0_triad_blaze_score&quot;: 18\n      }\n    ],\n    &quot;sce0_cb_score_data_2&quot;: [\n      {\n        &quot;sce0_cb_score_2&quot;: -326862643,\n        &quot;sce0_date_cb_score_2&quot;: 1271544989\n      },\n      {\n        &quot;sce0_cb_score_2&quot;: -1664695633,\n        &quot;sce0_date_cb_score_2&quot;: 101\n      },\n      {\n        &quot;sce0_cb_score_2&quot;: 1340696727,\n        &quot;sce0_date_cb_score_2&quot;: -1830228389\n      },\n      {\n        &quot;sce0_cb_score_2&quot;: 101,\n        &quot;sce0_date_cb_score_2&quot;: 337343512\n      },\n      {\n        &quot;sce0_cb_score_2&quot;: 102,\n        &quot;sce0_date_cb_score_2&quot;: 55555\n      }\n    ],\n    &quot;sce0_custom_char_field&quot;: [\n      1,\n      2,\n      3,\n      4,\n      5,\n      6,\n      7,\n      8,\n      9,\n      10,\n      11,\n      12,\n      13,\n      14,\n      15,\n      16\n    ],\n    &quot;sce0_custom_numeric_field&quot;: [\n      1,\n      2,\n      3,\n      4,\n      5,\n      6,\n      7,\n      8,\n      9,\n      10,\n      11,\n      12,\n      13,\n      14,\n      15,\n      16,\n      17,\n      18,\n      19,\n      20,\n      21,\n      22,\n      23,\n      24,\n      25,\n      26,\n      27,\n      28,\n      29,\n      30,\n      31,\n      32,\n      33,\n      34,\n      35,\n      36,\n      37,\n      38\n    ],\n    &quot;sce0_custom_numeric_field_33&quot;: [\n      1,\n      2,\n      3,\n      4,\n      5,\n      6,\n      7,\n      8,\n      9,\n      10,\n      11,\n      12,\n      13,\n      14,\n      15,\n      16,\n      17,\n      18,\n      19,\n      20,\n      21,\n      22,\n      23,\n      24,\n      25,\n      26,\n      27,\n      28,\n      29,\n      30,\n      31,\n      32,\n      33\n    ],\n    &quot;sce0_pmax_score_dollar_val_01&quot;: &quot;iiiiiii&quot;,\n    &quot;sce0_pmax_score_dollar_val_02&quot;: &quot;ooooo&quot;,\n    &quot;sce0_pmax_score_aligned_03&quot;: 101,\n    &quot;sce0_pmax_score_aligned_04&quot;: -1252234954199944000,\n    &quot;sce0_pmax_score_aligned_05&quot;: 9201734396028061000\n  }\n}\n</code></pre>\n<p>So in the above input i have 2 types of array type fields, 1 normal array (sce0-<em>custom-numeric</em>-*field) and second fields inside an array (eg sce0-triad-score-*aligned inside sce0-behavior-scores). If we take the second case, i want the whole array under a single string in output, i.e. the whole array i want to map it to behavr_scr.</p>\n<p>Can anyone help how i can achieve that in jolt itself.</p>\n<p>I tried doing the below for the first scenario but there was no change.<br />\n<a href=\"https://github.com/bazaarvoice/jolt/issues/547\" rel=\"nofollow noreferrer\">https://github.com/bazaarvoice/jolt/issues/547</a></p>\n"},{"tags":["java","hibernate","jpa","h2","many-to-one"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1690995641,"post_id":76821555,"comment_id":135431841,"body_markdown":"You don&#39;t want the parent persisted. Your issue is when you persist the child, your cascade setting tells JPA to also persist the parent - the specification requires an exception to be thrown if you persist an existing entity. So if all your children will only be associated to existing parents and you don&#39;t want to do the work to read in the parent and have it use the managed parent reference, don&#39;t use cascade persist.","body":"You don&#39;t want the parent persisted. Your issue is when you persist the child, your cascade setting tells JPA to also persist the parent - the specification requires an exception to be thrown if you persist an existing entity. So if all your children will only be associated to existing parents and you don&#39;t want to do the work to read in the parent and have it use the managed parent reference, don&#39;t use cascade persist."}],"owner":{"account_id":14780587,"reputation":351,"user_id":10674188,"display_name":"rost shan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690991182,"creation_date":1690991182,"question_id":76821555,"body_markdown":"Assume that I have the following entity (Yes with lombok):\r\n\r\n```java\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@FieldDefaults(level = AccessLevel.PRIVATE)\r\n@Table(name = &quot;entry&quot;)\r\n@Entity\r\npublic class EntryEntity {\r\n    @Id\r\n    int id;\r\n\r\n    String name;\r\n\r\n    @EqualsAndHashCode.Exclude\r\n    @ToString.Exclude\r\n    @ManyToOne(fetch = FetchType.LAZY, cascade = {CascadeType.MERGE, CascadeType.PERSIST})\r\n    @JoinColumn(name = &quot;parent_id&quot;)\r\n    EntryEntity entity;\r\n}\r\n```\r\n\r\nThat entity represents some linked tree, that children entries refer to their parents. I assume that 1 child has 1 parent entity. For example, I want to save 2 entries in different transaction:\r\n\r\n1. `EntryEntity child1 = new EntryEntity(2, &quot;child1&quot;, new EntryEntity(1, &quot;parent&quot;, null));`\r\n2. `EntryEntity child2 = new EntryEntity(3, &quot;child2&quot;, new EntryEntity(1, &quot;parent&quot;, null));`.\r\n\r\n`child1` and `child2` refer to the one entry `parent`.\r\n\r\nI use H2 database with jakarta annotations with Hibernate Implementation.\r\n\r\nWhen I try to save 2 children in different transactions, I receive the error: `Unique index or primary key violation: &quot;PRIMARY KEY ON PUBLIC.ENTRY(ID) ( /* key:1 */ 1, &#39;root&#39;, NULL)&quot;`. Hibernate try to save twice `parent` entry.\r\n\r\nShould I refuse to use cascade saving in that way or do I need to configure hibernate somehow in order to fix my problem?","title":"What is the correct way to use cascade type when an entities refers to itself?","body":"<p>Assume that I have the following entity (Yes with lombok):</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@FieldDefaults(level = AccessLevel.PRIVATE)\n@Table(name = &quot;entry&quot;)\n@Entity\npublic class EntryEntity {\n    @Id\n    int id;\n\n    String name;\n\n    @EqualsAndHashCode.Exclude\n    @ToString.Exclude\n    @ManyToOne(fetch = FetchType.LAZY, cascade = {CascadeType.MERGE, CascadeType.PERSIST})\n    @JoinColumn(name = &quot;parent_id&quot;)\n    EntryEntity entity;\n}\n</code></pre>\n<p>That entity represents some linked tree, that children entries refer to their parents. I assume that 1 child has 1 parent entity. For example, I want to save 2 entries in different transaction:</p>\n<ol>\n<li><code>EntryEntity child1 = new EntryEntity(2, &quot;child1&quot;, new EntryEntity(1, &quot;parent&quot;, null));</code></li>\n<li><code>EntryEntity child2 = new EntryEntity(3, &quot;child2&quot;, new EntryEntity(1, &quot;parent&quot;, null));</code>.</li>\n</ol>\n<p><code>child1</code> and <code>child2</code> refer to the one entry <code>parent</code>.</p>\n<p>I use H2 database with jakarta annotations with Hibernate Implementation.</p>\n<p>When I try to save 2 children in different transactions, I receive the error: <code>Unique index or primary key violation: &quot;PRIMARY KEY ON PUBLIC.ENTRY(ID) ( /* key:1 */ 1, 'root', NULL)&quot;</code>. Hibernate try to save twice <code>parent</code> entry.</p>\n<p>Should I refuse to use cascade saving in that way or do I need to configure hibernate somehow in order to fix my problem?</p>\n"},{"tags":["java","spring","openapi"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1690529943,"post_id":76754704,"comment_id":135369444,"body_markdown":"Does this even work as an actual endpoint in Spring? I doubt it&#39;s smart enough to know which endpoint you &quot;meant&quot; to hit.","body":"Does this even work as an actual endpoint in Spring? I doubt it&#39;s smart enough to know which endpoint you &quot;meant&quot; to hit."},{"owner":{"account_id":16657935,"reputation":834,"user_id":13927534,"display_name":"Miss Skooter"},"score":1,"creation_date":1690530072,"post_id":76754704,"comment_id":135369465,"body_markdown":"@Jorn yeah I was shocked as well. But apparently it is smart enough. This code is quite old and is actively used by clients without issues &#175;\\_()_/&#175;","body":"@Jorn yeah I was shocked as well. But apparently it is smart enough. This code is quite old and is actively used by clients without issues &#175;_()_/&#175;"},{"owner":{"account_id":26746848,"reputation":226,"user_id":20346807,"display_name":"Joan"},"score":0,"creation_date":1690549861,"post_id":76754704,"comment_id":135373331,"body_markdown":"Why don&#39;t you use that @RequestBody (required=false) ?","body":"Why don&#39;t you use that @RequestBody (required=false) ?"},{"owner":{"account_id":16657935,"reputation":834,"user_id":13927534,"display_name":"Miss Skooter"},"score":0,"creation_date":1690556692,"post_id":76754704,"comment_id":135374959,"body_markdown":"@Joan not entirely sure how that would help?","body":"@Joan not entirely sure how that would help?"},{"owner":{"account_id":26746848,"reputation":226,"user_id":20346807,"display_name":"Joan"},"score":0,"creation_date":1690798868,"post_id":76754704,"comment_id":135398300,"body_markdown":"Sorry, not developing more my comment. But maybe if you define a single endpoint with @RequestBody(required = false). Then you can auto generate the open API documentation. (And so you will know the correct way to define it)","body":"Sorry, not developing more my comment. But maybe if you define a single endpoint with @RequestBody(required = false). Then you can auto generate the open API documentation. (And so you will know the correct way to define it)"},{"owner":{"account_id":16657935,"reputation":834,"user_id":13927534,"display_name":"Miss Skooter"},"score":0,"creation_date":1690800751,"post_id":76754704,"comment_id":135398645,"body_markdown":"@Joan hmm I could try that, any particular plugin or library that you use to automatically generate OpenAPI files?","body":"@Joan hmm I could try that, any particular plugin or library that you use to automatically generate OpenAPI files?"},{"owner":{"account_id":26746848,"reputation":226,"user_id":20346807,"display_name":"Joan"},"score":0,"creation_date":1690881765,"post_id":76754704,"comment_id":135411607,"body_markdown":"@Miss Skooter You could try this: https://www.baeldung.com/spring-rest-openapi-documentation","body":"@Miss Skooter You could try this: <a href=\"https://www.baeldung.com/spring-rest-openapi-documentation\" rel=\"nofollow noreferrer\">baeldung.com/spring-rest-openapi-documentation</a>"}],"answers":[{"tags":[],"owner":{"account_id":3696585,"reputation":11,"user_id":3077761,"display_name":"Jason091"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1690991028,"creation_date":1690666347,"answer_id":76795541,"question_id":76754704,"body_markdown":"one of your endpoints `(Controller1.create())` expects a `RandomObject` in the request body, and the other `(Controller2.createDifferent())` does not expect anybody. To define this in the OpenAPI specification, you should use required: true for the first endpoint and required: false (or simply omit the requestBody section) for the second.\r\n\r\nThe required attribute in the requestBody section of OpenAPI spec indicates whether the request body itself is required for the request, not if individual properties within the body are nullable or not. If it&#39;s set to true, the API endpoint expects a body in the request. If it&#39;s false, the API endpoint can be called without a body.","title":"How can I define two endpoints with the same mapping and request type but different parameters in OpenAPI 3.0.0 spec?","body":"<p>one of your endpoints <code>(Controller1.create())</code> expects a <code>RandomObject</code> in the request body, and the other <code>(Controller2.createDifferent())</code> does not expect anybody. To define this in the OpenAPI specification, you should use required: true for the first endpoint and required: false (or simply omit the requestBody section) for the second.</p>\n<p>The required attribute in the requestBody section of OpenAPI spec indicates whether the request body itself is required for the request, not if individual properties within the body are nullable or not. If it's set to true, the API endpoint expects a body in the request. If it's false, the API endpoint can be called without a body.</p>\n"},{"tags":[],"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1690817825,"creation_date":1690817825,"answer_id":76805139,"question_id":76754704,"body_markdown":"The code provided will work fine in Spring Boot. However it is not allowed according to the OpenAPI Specification. Hence you can&#39;t generate two different specifications for the same path/method combination.\r\n\r\n&gt; OpenAPI defines a unique operation as a combination of a path and an HTTP method. This means that two GET or two POST methods for the same path are not allowed  *even if they have different parameters (parameters have no effect on uniqueness)*.\r\n\r\nBased on: [https://swagger.io/docs/specification/paths-and-operations/][1]\r\n\r\n\r\n  [1]: https://swagger.io/docs/specification/paths-and-operations/","title":"How can I define two endpoints with the same mapping and request type but different parameters in OpenAPI 3.0.0 spec?","body":"<p>The code provided will work fine in Spring Boot. However it is not allowed according to the OpenAPI Specification. Hence you can't generate two different specifications for the same path/method combination.</p>\n<blockquote>\n<p>OpenAPI defines a unique operation as a combination of a path and an HTTP method. This means that two GET or two POST methods for the same path are not allowed  <em>even if they have different parameters (parameters have no effect on uniqueness)</em>.</p>\n</blockquote>\n<p>Based on: <a href=\"https://swagger.io/docs/specification/paths-and-operations/\" rel=\"nofollow noreferrer\">https://swagger.io/docs/specification/paths-and-operations/</a></p>\n"}],"owner":{"account_id":16657935,"reputation":834,"user_id":13927534,"display_name":"Miss Skooter"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":738,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76805139,"answer_count":2,"score":1,"last_activity_date":1690991028,"creation_date":1690203147,"question_id":76754704,"body_markdown":"Given the following classes:\r\n\r\n```\r\npublic class Controller1 {\r\n\r\n    @PostMapping(path = &quot;endpoint/path/post&quot;, consumes = MediaType.APPLICATION_JSON_VALUE)\r\n    @Override\r\n    public ResponseEntity&lt;RandomObject&gt; create(RandomObject randomObject) throws Exception {\r\n        ...\r\n    }\r\n}\r\n```\r\n\r\n```\r\n@RestController\r\n@RequestMapping(EVALUATION_DOMAIN)\r\npublic class Controller2 extends Controller1 {\r\n\r\n    @PostMapping(path = &quot;endpoint/path/post&quot;)\r\n    @Override\r\n    public ResponseEntity&lt;Void&gt; createDifferent() throws Exception {\r\n        ...\r\n    }\r\n}\r\n```\r\n\r\nYou&#39;ll notice the only difference between these methods (aside from the implementation) is that one takes a body and the other does not.\r\n\r\nMy problem becomes how to define such endpoints in the OpenAPI spec.\r\n\r\nUltimately, my purpose is to validate that each endpoint defined in the controllers has a definition in the relevant OpenAPI file. This is usually simple to do through a combination of the mapping and the request type.\r\n\r\nHowever, as far as I can tell, the only way to define these methods would be to have something like this:\r\n\r\n```\r\n/endpoint/path/post:\r\n  post:\r\n    requestBody:\r\n      required: false\r\n```\r\n\r\nMy question is essentially this:\r\n\r\nIs this the correct (expected) usage of the `required` property? Or is it meant for when the body is nullable?\r\n\r\nIf not, is there another way to define the endpoints in an unambiguous manner?\r\n\r\n-----\r\n\r\nI could not find much in the [swagger documentation](https://swagger.io/docs/specification/describing-request-body/) aside from this (rather unclear) sentence:\r\n\r\n&gt; Request bodies are optional by default. To mark the body as required, use required: true.\r\n\r\nand [this question](https://stackoverflow.com/questions/28687616/use-requestbody-with-optional-body-in-latest-spring-v4) makes me think that &quot;optional&quot; is probably not meant as two different methods, but rather as a nullable body.\r\n\r\nSide note: To be honest, I didn&#39;t even know spring-boot allowed you to define methods with the same mapping + method type, but apparently this code is in production and works as expected.","title":"How can I define two endpoints with the same mapping and request type but different parameters in OpenAPI 3.0.0 spec?","body":"<p>Given the following classes:</p>\n<pre><code>public class Controller1 {\n\n    @PostMapping(path = &quot;endpoint/path/post&quot;, consumes = MediaType.APPLICATION_JSON_VALUE)\n    @Override\n    public ResponseEntity&lt;RandomObject&gt; create(RandomObject randomObject) throws Exception {\n        ...\n    }\n}\n</code></pre>\n<pre><code>@RestController\n@RequestMapping(EVALUATION_DOMAIN)\npublic class Controller2 extends Controller1 {\n\n    @PostMapping(path = &quot;endpoint/path/post&quot;)\n    @Override\n    public ResponseEntity&lt;Void&gt; createDifferent() throws Exception {\n        ...\n    }\n}\n</code></pre>\n<p>You'll notice the only difference between these methods (aside from the implementation) is that one takes a body and the other does not.</p>\n<p>My problem becomes how to define such endpoints in the OpenAPI spec.</p>\n<p>Ultimately, my purpose is to validate that each endpoint defined in the controllers has a definition in the relevant OpenAPI file. This is usually simple to do through a combination of the mapping and the request type.</p>\n<p>However, as far as I can tell, the only way to define these methods would be to have something like this:</p>\n<pre><code>/endpoint/path/post:\n  post:\n    requestBody:\n      required: false\n</code></pre>\n<p>My question is essentially this:</p>\n<p>Is this the correct (expected) usage of the <code>required</code> property? Or is it meant for when the body is nullable?</p>\n<p>If not, is there another way to define the endpoints in an unambiguous manner?</p>\n<hr />\n<p>I could not find much in the <a href=\"https://swagger.io/docs/specification/describing-request-body/\" rel=\"nofollow noreferrer\">swagger documentation</a> aside from this (rather unclear) sentence:</p>\n<blockquote>\n<p>Request bodies are optional by default. To mark the body as required, use required: true.</p>\n</blockquote>\n<p>and <a href=\"https://stackoverflow.com/questions/28687616/use-requestbody-with-optional-body-in-latest-spring-v4\">this question</a> makes me think that &quot;optional&quot; is probably not meant as two different methods, but rather as a nullable body.</p>\n<p>Side note: To be honest, I didn't even know spring-boot allowed you to define methods with the same mapping + method type, but apparently this code is in production and works as expected.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1691000425,"post_id":76821226,"comment_id":135432705,"body_markdown":"`$(` is the wrong start for a value expression you must use curly braces. Also `-montly.text` is the wrong way of providing system. properties they must be prefixed with `-D`. `-Dmontly.text=foo`.","body":"<code>$(</code> is the wrong start for a value expression you must use curly braces. Also <code>-montly.text</code> is the wrong way of providing system. properties they must be prefixed with <code>-D</code>. <code>-Dmontly.text=foo</code>."},{"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":1,"creation_date":1691005449,"post_id":76821226,"comment_id":135433648,"body_markdown":"System properties are part of the `Environment` so you can just use `@Value(&quot;${monthly.text}&quot;)`. Do you have to use a SpEL expression for some reason?","body":"System properties are part of the <code>Environment</code> so you can just use <code>@Value(&quot;${monthly.text}&quot;)</code>. Do you have to use a SpEL expression for some reason?"},{"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"score":0,"creation_date":1691029053,"post_id":76821226,"comment_id":135436440,"body_markdown":"@AndyWilkinson it is a question in interview more than a reality case (must choose 2 ways). In the past, I used SpEL in Thymeleaf view, even I also used SpEL in Java code.","body":"@AndyWilkinson it is a question in interview more than a reality case (must choose 2 ways). In the past, I used SpEL in Thymeleaf view, even I also used SpEL in Java code."}],"answers":[{"tags":[],"owner":{"account_id":257549,"reputation":4988,"user_id":539048,"accept_rate":66,"display_name":"GreenGiant"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690990839,"creation_date":1690990839,"answer_id":76821505,"question_id":76821226,"body_markdown":"This worked for me:\r\n\r\n    @Value(&quot;#{systemProperties[&#39;monthly.text&#39;]}&quot;)\r\n    String string2;\r\n\r\nAnd set the JVM arguments:\r\n\r\n    -Dmonthly.text=love\r\n\r\nPart of the difficulty is that the name of the property includes a period. If you have control over the name of the property, I would get rid of the period. Then it becomes simpler:\r\n\r\n    @Value(&quot;${monthly_text}&quot;) String param\r\n\r\nAnd of course:\r\n\r\n    -Dmonthly_text=love\r\n","title":"Spring cannot print system properties","body":"<p>This worked for me:</p>\n<pre><code>@Value(&quot;#{systemProperties['monthly.text']}&quot;)\nString string2;\n</code></pre>\n<p>And set the JVM arguments:</p>\n<pre><code>-Dmonthly.text=love\n</code></pre>\n<p>Part of the difficulty is that the name of the property includes a period. If you have control over the name of the property, I would get rid of the period. Then it becomes simpler:</p>\n<pre><code>@Value(&quot;${monthly_text}&quot;) String param\n</code></pre>\n<p>And of course:</p>\n<pre><code>-Dmonthly_text=love\n</code></pre>\n"}],"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1690990839,"creation_date":1690988738,"question_id":76821226,"body_markdown":"My `pom.xml`\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.1.2&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;demo&lt;/name&gt;\r\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;20&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n\r\n\r\n\r\n\t\t&lt;!--&lt;dependency&gt;--&gt;\r\n\t\t&lt;!--\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;--&gt;\r\n\t\t&lt;!--\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;--&gt;\r\n\t\t&lt;!--&lt;/dependency&gt;--&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-undertow&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n[![enter image description here][3]][3]\r\n\r\nFile `FooController.java`\r\n\r\n\r\n```java\r\npackage com.example.demo;\r\n\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\n@RestController(&quot;foo&quot;)\r\npublic class FooController {\r\n\r\n    @Value(&quot;#{systemEnvironment[&#39;JAVA_HOME&#39;]}&quot;)\r\n    String javaHome;\r\n\r\n    @Value(&quot;$(systemProperties.monthly.text)&quot;)\r\n    String string2;\r\n\r\n    @Value(&quot;#{systemProperties[&#39;monthly.text&#39;]}&quot;)\r\n    String string3;\r\n\r\n    @GetMapping(&quot;/bar&quot;)\r\n    String foo(){\r\n        System.out.println(&quot;string2 = &quot; + string2);\r\n        System.out.println(&quot;string3 = &quot; + string3);\r\n        return javaHome;\r\n    }\r\n\r\n}\r\n\r\n// http://localhost:8080/bar\r\n// D:\\tools\\graalvm-jdk-20.0.1+9.1\r\n```\r\nThis is my full project https://github.com/donhuvy/spring-boot3-system-properties/blob/main/src/main/java/com/example/demo/FooController.java#L13 .\r\n\r\nI want print system properties in 2 ways. Please help me `monthly.text`\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FA5hN.png\r\n  [2]: https://i.stack.imgur.com/39mKP.png\r\n  [3]: https://i.stack.imgur.com/Zf62P.png","title":"Spring cannot print system properties","body":"<p>My <code>pom.xml</code></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.2&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;20&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n\n\n\n        &lt;!--&lt;dependency&gt;--&gt;\n        &lt;!--    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;--&gt;\n        &lt;!--    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;--&gt;\n        &lt;!--&lt;/dependency&gt;--&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-undertow&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/FA5hN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FA5hN.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/39mKP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/39mKP.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/Zf62P.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Zf62P.png\" alt=\"enter image description here\" /></a></p>\n<p>File <code>FooController.java</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.demo;\n\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController(&quot;foo&quot;)\npublic class FooController {\n\n    @Value(&quot;#{systemEnvironment['JAVA_HOME']}&quot;)\n    String javaHome;\n\n    @Value(&quot;$(systemProperties.monthly.text)&quot;)\n    String string2;\n\n    @Value(&quot;#{systemProperties['monthly.text']}&quot;)\n    String string3;\n\n    @GetMapping(&quot;/bar&quot;)\n    String foo(){\n        System.out.println(&quot;string2 = &quot; + string2);\n        System.out.println(&quot;string3 = &quot; + string3);\n        return javaHome;\n    }\n\n}\n\n// http://localhost:8080/bar\n// D:\\tools\\graalvm-jdk-20.0.1+9.1\n</code></pre>\n<p>This is my full project <a href=\"https://github.com/donhuvy/spring-boot3-system-properties/blob/main/src/main/java/com/example/demo/FooController.java#L13\" rel=\"nofollow noreferrer\">https://github.com/donhuvy/spring-boot3-system-properties/blob/main/src/main/java/com/example/demo/FooController.java#L13</a> .</p>\n<p>I want print system properties in 2 ways. Please help me <code>monthly.text</code></p>\n"},{"tags":["java","junit","junit4"],"comments":[{"owner":{"display_name":"user2453382"},"score":2,"creation_date":1690599172,"post_id":76791850,"comment_id":135379892,"body_markdown":"The message says `199970 more` so it is unrealistic to think any one person can go through the whole sequence, that is why it makes sense JUnit would truncate it. Alternatively, if you care about the exact difference between these two lists, check out https://stackoverflow.com/q/41723028/2453382 and it&#39;s corresponding answers.","body":"The message says <code>199970 more</code> so it is unrealistic to think any one person can go through the whole sequence, that is why it makes sense JUnit would truncate it. Alternatively, if you care about the exact difference between these two lists, check out <a href=\"https://stackoverflow.com/q/41723028/2453382\">stackoverflow.com/q/41723028/2453382</a> and it&#39;s corresponding answers."},{"owner":{"display_name":"user2453382"},"score":1,"creation_date":1690599360,"post_id":76791850,"comment_id":135379895,"body_markdown":"I am also curious as to why would you need to compare two large generics AND care about their members? Should it not be enough to know that they are not the same? What was the motivation behind this test? Usually complicated problems come with systemic issues, you can consider a refactor as well.","body":"I am also curious as to why would you need to compare two large generics AND care about their members? Should it not be enough to know that they are not the same? What was the motivation behind this test? Usually complicated problems come with systemic issues, you can consider a refactor as well."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1690599929,"post_id":76791850,"comment_id":135379923,"body_markdown":"Every class has `toString`, so I&#39;m not sure why the members of the Lists being of an unknown class is an obstacle to printing them?","body":"Every class has <code>toString</code>, so I&#39;m not sure why the members of the Lists being of an unknown class is an obstacle to printing them?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1690599998,"post_id":76791850,"comment_id":135379927,"body_markdown":"Incidentally you can connect a debugger to a JVM remotely, so you can use a GUI debugger, as long as you can get access to a socket.","body":"Incidentally you can connect a debugger to a JVM remotely, so you can use a GUI debugger, as long as you can get access to a socket."},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":1,"creation_date":1690619457,"post_id":76791850,"comment_id":135381206,"body_markdown":"Are you using AssertJ? Please [edit] your question to include a [mcve], which shows the problem you have and how you use the generic types. Is it an option to use `assertThatList()`?","body":"Are you using AssertJ? Please <a href=\"https://stackoverflow.com/posts/76791850/edit\">edit</a> your question to include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, which shows the problem you have and how you use the generic types. Is it an option to use <code>assertThatList()</code>?"},{"owner":{"account_id":13763612,"reputation":125,"user_id":9932718,"display_name":"Lucas W"},"score":0,"creation_date":1690990738,"post_id":76791850,"comment_id":135430812,"body_markdown":"Thank you all for the feedback! I&#39;ve added an example &amp; will investigate the directions above.","body":"Thank you all for the feedback! I&#39;ve added an example &amp; will investigate the directions above."}],"owner":{"account_id":13763612,"reputation":125,"user_id":9932718,"display_name":"Lucas W"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690990690,"creation_date":1690598096,"question_id":76791850,"body_markdown":"In my headless system, I&#39;m looking to check for content equality of two generic types (e.g `T`) with the `assertThat(generic1).isEqualTo(generic2)` function in JUnit4.\r\n\r\nA minimally reproducible example can be made by defining two generic variables and calling the `isEqualTo` method on them, where `T` is a Java Generic type, and the function `returnArrayListGeneric()` has a return type of T, which ***could*** be an ArrayList:\r\n\r\n    T a = returnArrayListGeneric();\r\n    T b = returnArrayListGeneric();\r\n    \r\n    assertThat(a).isEqualTo(b)\r\n\r\nThis works when T is some simple generic types, but with a very long array, JUnit automatically truncates the printed content of the Arrays to 30 elements long, which makes it impossible to examine the difference between the ArrayLists past that point. Example below:\r\n\r\n    Expecting:\r\n     &lt;&quot;[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, ... (199970 more)] (ArrayList@7bde3f35)&quot;&gt;\r\n    to be equal to:\r\n     &lt;&quot;[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, ... (199970 more)] (ArrayList@c67be61)&quot;&gt;\r\n    but was not.\r\n\r\nSince this is a headless system, I don&#39;t believe that I have access to setting variables such as `idea.junit....`, neither do I have access to GUI-based debuggers.\r\n\r\nI have attempted augmenting the test method itself to print out the content of the arrays manually. But since the arguments themselves are generics and cannot be directly casted to an `ArrayList&lt;Integer&gt;`, and I do not wish to modify the implementation of the classes and methods themselves, I am currently stuck on that as well.\r\n\r\nAny input  would be greatly appreciated!","title":"JUnit AssertEquals truncates array results","body":"<p>In my headless system, I'm looking to check for content equality of two generic types (e.g <code>T</code>) with the <code>assertThat(generic1).isEqualTo(generic2)</code> function in JUnit4.</p>\n<p>A minimally reproducible example can be made by defining two generic variables and calling the <code>isEqualTo</code> method on them, where <code>T</code> is a Java Generic type, and the function <code>returnArrayListGeneric()</code> has a return type of T, which <em><strong>could</strong></em> be an ArrayList:</p>\n<pre><code>T a = returnArrayListGeneric();\nT b = returnArrayListGeneric();\n\nassertThat(a).isEqualTo(b)\n</code></pre>\n<p>This works when T is some simple generic types, but with a very long array, JUnit automatically truncates the printed content of the Arrays to 30 elements long, which makes it impossible to examine the difference between the ArrayLists past that point. Example below:</p>\n<pre><code>Expecting:\n &lt;&quot;[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, ... (199970 more)] (ArrayList@7bde3f35)&quot;&gt;\nto be equal to:\n &lt;&quot;[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, ... (199970 more)] (ArrayList@c67be61)&quot;&gt;\nbut was not.\n</code></pre>\n<p>Since this is a headless system, I don't believe that I have access to setting variables such as <code>idea.junit....</code>, neither do I have access to GUI-based debuggers.</p>\n<p>I have attempted augmenting the test method itself to print out the content of the arrays manually. But since the arguments themselves are generics and cannot be directly casted to an <code>ArrayList&lt;Integer&gt;</code>, and I do not wish to modify the implementation of the classes and methods themselves, I am currently stuck on that as well.</p>\n<p>Any input  would be greatly appreciated!</p>\n"},{"tags":["java","android","dagger-2","classnotfoundexception","androidx"],"answers":[{"tags":[],"owner":{"account_id":12175166,"reputation":2703,"user_id":8888461,"display_name":"Oluwasegun Wahaab"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574345009,"creation_date":1574345009,"answer_id":58976771,"question_id":58965782,"body_markdown":"There are a couple of clarifications needed to answer your question\r\n\r\n1. Was the app working fine before you migrated to androidx?\r\n\r\n2. Does the app work without crashing on other devices but crashes on just android 10.0?\r\n\r\n3. did you refactor your package names correctly? If your file names in the manifest or generated code have a package name starting with capital letters, &#39;class not found exception&#39; could result\r\n\r\n\r\nYou can try pasting (if possible) the Github link to the whole project for proper debugging. \r\n\r\nHowever, from the code you pasted, your minsdkversion= 16 in your project build.gradle ext block differs from the minsdkversion= 15 in your app build.gradle file. The targetsdkversion also differs in the two files\r\n","title":"ClassNotFoundException: config_inputEventCompatProcessorOverrideClassName androidx, running on andoridx crashes","body":"<p>There are a couple of clarifications needed to answer your question</p>\n\n<ol>\n<li><p>Was the app working fine before you migrated to androidx?</p></li>\n<li><p>Does the app work without crashing on other devices but crashes on just android 10.0?</p></li>\n<li><p>did you refactor your package names correctly? If your file names in the manifest or generated code have a package name starting with capital letters, 'class not found exception' could result</p></li>\n</ol>\n\n<p>You can try pasting (if possible) the Github link to the whole project for proper debugging. </p>\n\n<p>However, from the code you pasted, your minsdkversion= 16 in your project build.gradle ext block differs from the minsdkversion= 15 in your app build.gradle file. The targetsdkversion also differs in the two files</p>\n"},{"tags":[],"owner":{"account_id":7854411,"reputation":63,"user_id":9191757,"display_name":"Mukesh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1575228427,"creation_date":1575228427,"answer_id":59129135,"question_id":58965782,"body_markdown":"thanks for all the support i solved the issues, this was due to the usage of deprecated method, this was not related to migration\r\n\r\n    @Override\r\n    public Resources getResources() {\r\n        return new CustomResources(sharedPrefence, getAssets(), super.getResources().getDisplayMetrics(), super.getResources().getConfiguration());\r\n    }\r\n\r\n custom Resources class cannot be used in this way in androidX, by removing this method from Baseactivity.java solved the problem, thanks for all your suppor","title":"ClassNotFoundException: config_inputEventCompatProcessorOverrideClassName androidx, running on andoridx crashes","body":"<p>thanks for all the support i solved the issues, this was due to the usage of deprecated method, this was not related to migration</p>\n\n<pre><code>@Override\npublic Resources getResources() {\n    return new CustomResources(sharedPrefence, getAssets(), super.getResources().getDisplayMetrics(), super.getResources().getConfiguration());\n}\n</code></pre>\n\n<p>custom Resources class cannot be used in this way in androidX, by removing this method from Baseactivity.java solved the problem, thanks for all your suppor</p>\n"},{"tags":[],"owner":{"account_id":7684850,"reputation":1085,"user_id":5823014,"display_name":"J&#225;nos Sicz-Meszi&#225;r"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1586884426,"creation_date":1586884426,"answer_id":61213419,"question_id":58965782,"body_markdown":"I have faced with the same issue on Android 10. I used the [Restring][1] library which injects a custom `Resource` implementation through `attachBaseContext(newBase: Context)`. Everyone here mentioned that constructor of `Resource` marked as deprecated, but it doesn&#39;t really cause a problem.\r\n\r\nI was digging into the Android source code and I found the real reason that can throw NPE.\r\n\r\nAffected lines from `ViewRootImpl.java`:\r\n```java\r\nString processorOverrideName = context.getResources().getString(\r\n                                    R.string.config_inputEventCompatProcessorOverrideClassName);\r\n        if (processorOverrideName.isEmpty()) {\r\n            // No compatibility processor override, using default.\r\n            mInputCompatProcessor = new InputEventCompatProcessor(context);\r\n        } else {\r\n            InputEventCompatProcessor compatProcessor = null;\r\n            try {\r\n                final Class&lt;? extends InputEventCompatProcessor&gt; klass =\r\n                        (Class&lt;? extends InputEventCompatProcessor&gt;) Class.forName(\r\n                                processorOverrideName);\r\n                compatProcessor = klass.getConstructor(Context.class).newInstance(context);\r\n            } catch (Exception e) {\r\n                Log.e(TAG, &quot;Unable to create the InputEventCompatProcessor. &quot;, e);\r\n            } finally {\r\n                mInputCompatProcessor = compatProcessor;\r\n            }\r\n        }\r\n```\r\n\r\nIn my case, using Restring library, I defined a new way to resolve a string key and return text. If the key isn&#39;t available in my string repository (simple HashMap) or as a string resource, it returns with the key itself. So never will be empty, but according to the code it will try to load as custom `InputEventCompatProcessor` that will fail and  `mInputCompatProcessor` will be `null`.\r\n\r\nMake sure all verions of `getText()` in your custom `Resource` respect the original behavior and it won&#39;t cause NPE crash. For example make sure `R.string.config_inputEventCompatProcessorOverrideClassName` resource will be resolved as empty string when it&#39;s not available.\r\n\r\nThis will solve the real issue and you can still use the deprecated Resource constructor.\r\n\r\n\r\n  [1]: https://github.com/hamidness/restring","title":"ClassNotFoundException: config_inputEventCompatProcessorOverrideClassName androidx, running on andoridx crashes","body":"<p>I have faced with the same issue on Android 10. I used the <a href=\"https://github.com/hamidness/restring\" rel=\"noreferrer\">Restring</a> library which injects a custom <code>Resource</code> implementation through <code>attachBaseContext(newBase: Context)</code>. Everyone here mentioned that constructor of <code>Resource</code> marked as deprecated, but it doesn't really cause a problem.</p>\n\n<p>I was digging into the Android source code and I found the real reason that can throw NPE.</p>\n\n<p>Affected lines from <code>ViewRootImpl.java</code>:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>String processorOverrideName = context.getResources().getString(\n                                    R.string.config_inputEventCompatProcessorOverrideClassName);\n        if (processorOverrideName.isEmpty()) {\n            // No compatibility processor override, using default.\n            mInputCompatProcessor = new InputEventCompatProcessor(context);\n        } else {\n            InputEventCompatProcessor compatProcessor = null;\n            try {\n                final Class&lt;? extends InputEventCompatProcessor&gt; klass =\n                        (Class&lt;? extends InputEventCompatProcessor&gt;) Class.forName(\n                                processorOverrideName);\n                compatProcessor = klass.getConstructor(Context.class).newInstance(context);\n            } catch (Exception e) {\n                Log.e(TAG, \"Unable to create the InputEventCompatProcessor. \", e);\n            } finally {\n                mInputCompatProcessor = compatProcessor;\n            }\n        }\n</code></pre>\n\n<p>In my case, using Restring library, I defined a new way to resolve a string key and return text. If the key isn't available in my string repository (simple HashMap) or as a string resource, it returns with the key itself. So never will be empty, but according to the code it will try to load as custom <code>InputEventCompatProcessor</code> that will fail and  <code>mInputCompatProcessor</code> will be <code>null</code>.</p>\n\n<p>Make sure all verions of <code>getText()</code> in your custom <code>Resource</code> respect the original behavior and it won't cause NPE crash. For example make sure <code>R.string.config_inputEventCompatProcessorOverrideClassName</code> resource will be resolved as empty string when it's not available.</p>\n\n<p>This will solve the real issue and you can still use the deprecated Resource constructor.</p>\n"}],"owner":{"account_id":7854411,"reputation":63,"user_id":9191757,"display_name":"Mukesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":547,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":59129135,"answer_count":3,"score":1,"last_activity_date":1690990651,"creation_date":1574298752,"question_id":58965782,"body_markdown":"After Migrating to AndroidX(29) running on the AndroidX device Crashes showing \r\n\r\n    ClassNotFoundException: config_inputEventCompatProcessorOverrideClassName\r\n\r\nthe project compiles and runs it crashes when launched in andorid10.0\r\nwhen clicked on the editText i get this error\r\n\r\n    NullPointerException: Attempt to invoke virtual method &#39;java.util.List android.view.InputEventCompatProcessor.processInputEventForCompatibility(android.view.InputEvent)&#39; on a null object reference\r\n\r\nproject/build.gradle\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    buildscript {\r\n        repositories {\r\n            jcenter()\r\n            maven { url &#39;https://maven.fabric.io/public&#39; }\r\n            maven { url &#39;https://jitpack.io&#39; }\r\n            google()\r\n        }\r\n        dependencies {\r\n    //        classpath &#39;com.android.tools.build:gradle:2.3.3&#39;\r\n            classpath &#39;com.android.tools.build:gradle:3.5.0&#39;\r\n            classpath &#39;com.google.gms:google-services:3.0.0&#39;\r\n    //        classpath &#39;io.fabric.tools:gradle:1.+&#39;\r\n\r\n            // NOTE: Do not place your application dependencies here; they belong\r\n            // in the individual module build.gradle files\r\n        }\r\n    }\r\n\r\n    allprojects {\r\n        repositories {\r\n            google()\r\n            jcenter()\r\n            mavenCentral()\r\n            maven { url &#39;https://maven.google.com&#39; }\r\n            maven { url &#39;https://jitpack.io&#39; }\r\n        }\r\n    }\r\n\r\n    task clean(type: Delete) {\r\n        delete rootProject.buildDir\r\n    }\r\n    ext {\r\n        // Sdk and tools\r\n        minSdkVersion = 16\r\n        targetSdkVersion = 26\r\n        compileSdkVersion = 26\r\n        buildToolsVersion = &#39;26.0.0&#39;\r\n\r\n        // App dependencies\r\n        supportLibraryVersion = &#39;25.4.0&#39;\r\n        gsonVersion = &#39;2.8.0&#39;\r\n        calligraphyVersion = &#39;2.2.0&#39;\r\n        glideVersion = &#39;3.7.0&#39;\r\n        roomDatabase = &#39;1.0.0-alpha3&#39;\r\n        rx2FastAndroidNetworking = &#39;1.0.0&#39;\r\n\r\n        dagger2Version = &#39;2.16&#39;\r\n        rxjava2Version = &#39;2.0.6&#39;\r\n        rxandroidVersion = &#39;2.0.1&#39;\r\n        placeholderviewVersion = &#39;0.6.1&#39;\r\n        debugDBVersion = &#39;1.0.0&#39;\r\n        timberVersion = &#39;4.5.1&#39;\r\n        lifecycle = &#39;1.0.0-alpha3&#39;\r\n\r\n        retrofitVersion=&#39;2.3.0&#39;\r\n        GsonVersion=&#39;2.7&#39;\r\n        okhttpVersion= &#39;3.8.0&#39;\r\n        googleplus= &#39;11.0.0&#39;//&#39;10.2.0&#39;//&#39;11.0.4&#39;\r\n        glideversion= &#39;4.1.1&#39;\r\n\r\n        //Test dependencies\r\n        junitVersion = &#39;4.12&#39;\r\n        espressoVersion = &#39;2.2.2&#39;\r\n        mockitoVersion = &#39;2.7.1&#39;\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\napp/build.gradle\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    apply plugin: &#39;com.android.application&#39;\r\n    apply plugin: &#39;io.fabric&#39;\r\n\r\n    repositories {\r\n        maven { url &#39;https://maven.fabric.io/public&#39; }\r\n    }\r\n    buildscript {\r\n        repositories {\r\n            maven { url &#39;https://maven.fabric.io/public&#39; }\r\n        }\r\n\r\n        dependencies {\r\n            classpath &#39;io.fabric.tools:gradle:1.27.1&#39;\r\n        }\r\n    }\r\n    android {\r\n        compileSdkVersion 28\r\n        signingConfigs {\r\n            ReleaseConfig {\r\n                keyAlias &#39;xxxxx&#39;\r\n                keyPassword &#39;xxxxx&#39;\r\n                storeFile file(&#39;../KeyStore/xxxxx.jks&#39;)\r\n                storePassword &#39;xxxxx&#39;\r\n            }\r\n        }\r\n        defaultConfig {\r\n            applicationId &quot;bz.pei.driver&quot;\r\n            minSdkVersion 15\r\n            targetSdkVersion 28\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n            multiDexEnabled true\r\n            vectorDrawables.useSupportLibrary = true\r\n            testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n            signingConfig signingConfigs.ReleaseConfig\r\n            setProperty(&quot;archivesBaseName&quot;, &quot;PEI Taxi_Driver_v$versionName&quot;)\r\n\r\n        }\r\n        compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_1_7\r\n            targetCompatibility JavaVersion.VERSION_1_7\r\n        }\r\n\r\n        List&lt;String&gt; dirs = [\r\n                &#39;main&#39;,     // main sample code; look here for the interesting stuff.\r\n                &#39;common&#39;,   // components that are reused by multiple samples\r\n                &#39;template&#39;] // boilerplate code that is generated by the sample template process\r\n        sourceSets {\r\n            main {\r\n                dirs.each { dir -&gt;\r\n                    java.srcDirs &quot;src/${dir}/java&quot;\r\n                    res.srcDirs &quot;src/${dir}/res&quot;\r\n                }\r\n            }\r\n            androidTest.setRoot(&#39;tests&#39;)\r\n            androidTest.java.srcDirs = [&#39;tests/src&#39;]\r\n\r\n        }\r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n        lintOptions {\r\n            checkReleaseBuilds false\r\n            abortOnError false\r\n        }\r\n        dataBinding.enabled = true\r\n    }\r\n\r\n    dependencies {\r\n        implementation fileTree(include: [&#39;*.jar&#39;], dir: &#39;libs&#39;)\r\n        androidTestImplementation(&#39;androidx.test.espresso:espresso-core:3.1.0&#39;, {\r\n            exclude group: &#39;com.android.support&#39;, module: &#39;support-annotations&#39;\r\n        })\r\n        //Crashlytics\r\n        implementation(&#39;com.crashlytics.sdk.android:crashlytics:2.8.0@aar&#39;) {\r\n            transitive = true;\r\n        }\r\n        // dependency injection\r\n        implementation &quot;com.google.dagger:dagger:$rootProject.dagger2Version&quot;\r\n        annotationProcessor &quot;com.google.dagger:dagger-compiler:$rootProject.dagger2Version&quot;\r\n        annotationProcessor &quot;com.google.dagger:dagger-android-processor:$rootProject.dagger2Version&quot;\r\n        implementation &quot;com.google.dagger:dagger-android-support:$rootProject.dagger2Version&quot;\r\n        //Viewmodel\r\n        implementation &quot;com.squareup.retrofit2:retrofit:$rootProject.retrofitVersion&quot;\r\n        implementation &quot;com.squareup.retrofit2:converter-gson:$rootProject.retrofitVersion&quot;\r\n        implementation &quot;com.squareup.okhttp3:logging-interceptor:$rootProject.okhttpVersion&quot;\r\n        implementation &quot;com.google.android.gms:play-services-auth:$rootProject.googleplus&quot;\r\n        implementation &quot;com.google.android.gms:play-services-maps:$rootProject.googleplus&quot;\r\n        implementation &quot;com.google.android.gms:play-services-location:11.0.0&quot;\r\n        implementation &#39;com.google.maps.android:android-maps-utils:0.5+&#39;\r\n        implementation &#39;com.github.javiersantos:AppUpdater:2.7&#39;\r\n        implementation &#39;com.google.firebase:firebase-core:11.0.0&#39;\r\n        implementation &#39;com.google.firebase:firebase-messaging:11.0.0&#39;\r\n        implementation &quot;com.github.bumptech.glide:glide:$rootProject.glideversion&quot;\r\n        implementation(&#39;io.socket:socket.io-client:1.0.0&#39;) {//0.8.3&#39;) {\r\n            exclude group: &#39;org.json&#39;, module: &#39;json&#39;\r\n        }\r\n        implementation &#39;androidx.cardview:cardview:1.0.0&#39;\r\n        implementation &#39;androidx.appcompat:appcompat:1.0.0&#39;\r\n        implementation &#39;com.google.android.material:material:1.0.0&#39;\r\n        implementation &#39;androidx.constraintlayout:constraintlayout:1.1.3&#39;\r\n        implementation &#39;com.intuit.sdp:sdp-android:1.0.4&#39;\r\n        implementation &quot;com.google.android.gms:play-services-maps:$rootProject.googleplus&quot;\r\n        implementation &#39;fr.avianey.com.viewpagerindicator:library:2.4.1.1@aar&#39;\r\n        testImplementation &#39;junit:junit:4.12&#39;\r\n\r\n    }\r\n    apply plugin: &#39;com.google.gms.google-services&#39;\r\n    configurations.all {\r\n        resolutionStrategy.force &quot;com.android.support:support-annotations:$supportLibraryVersion&quot;\r\n        resolutionStrategy.force &#39;com.google.code.findbugs:jsr305:1.3.9&#39;\r\n    }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\ngradle-wrapper.properties\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    #Wed Nov 20 00:37:33 IST 2019\r\n    distributionBase=GRADLE_USER_HOME\r\n    distributionPath=wrapper/dists\r\n    zipStoreBase=GRADLE_USER_HOME\r\n    zipStorePath=wrapper/dists\r\n    distributionUrl=https\\://services.gradle.org/distributions/gradle-5.4.1-all.zip\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    # Project-wide Gradle settings.\r\n\r\n    # IDE (e.g. Android Studio) users:\r\n    # Gradle settings configured through the IDE *will override*\r\n    # any settings specified in this file.\r\n\r\n    # For more details on how to configure your build environment visit\r\n    # http://www.gradle.org/docs/current/userguide/build_environment.html\r\n\r\n    # Specifies the JVM arguments used for the daemon process.\r\n    # The setting is particularly useful for tweaking memory settings.\r\n    android.enableJetifier=true\r\n    android.useAndroidX=true\r\n    org.gradle.jvmargs=-Xmx1536m\r\n\r\n    # When configured, Gradle will run in incubating parallel mode.\r\n    # This option should only be used with decoupled projects. More details, visit\r\n    # http://www.gradle.org/docs/current/userguide/multi_project_builds.html#sec:decoupled_projects\r\n    # org.gradle.parallel=true\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n    java.lang.ClassNotFoundException: config_inputEventCompatProcessorOverrideClassName\r\n        at java.lang.Class.classForName(Native Method)\r\n        at java.lang.Class.forName(Class.java:454)\r\n        at java.lang.Class.forName(Class.java:379)\r\n        at android.view.ViewRootImpl.&lt;init&gt;(ViewRootImpl.java:635)\r\n        at android.view.WindowManagerGlobal.addView(WindowManagerGlobal.java:377)\r\n        at android.view.WindowManagerImpl.addView(WindowManagerImpl.java:95)\r\n        at android.app.ActivityThread.handleResumeActivity(ActivityThread.java:4296)\r\n        at android.app.servertransaction.ResumeActivityItem.execute(ResumeActivityItem.java:52)\r\n        at android.app.servertransaction.TransactionExecutor.executeLifecycleState(TransactionExecutor.java:176)\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:97)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2016)\r\n        at android.os.Handler.dispatchMessage(Handler.java:107)\r\n        at android.os.Looper.loop(Looper.java:214)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7356)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:930)\r\n     Caused by: java.lang.ClassNotFoundException: config_inputEventCompatProcessorOverrideClassName\r\n        at java.lang.Class.classForName(Native Method)\r\n        at java.lang.BootClassLoader.findClass(ClassLoader.java:1358)\r\n        at java.lang.BootClassLoader.loadClass(ClassLoader.java:1418)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:312)\r\n        at java.lang.Class.classForName(Native Method)&#160;\r\n        at java.lang.Class.forName(Class.java:454)&#160;\r\n        at java.lang.Class.forName(Class.java:379)&#160;\r\n        at android.view.ViewRootImpl.&lt;init&gt;(ViewRootImpl.java:635)&#160;\r\n        at android.view.WindowManagerGlobal.addView(WindowManagerGlobal.java:377)&#160;\r\n        at android.view.WindowManagerImpl.addView(WindowManagerImpl.java:95)&#160;\r\n        at android.app.ActivityThread.handleResumeActivity(ActivityThread.java:4296)&#160;\r\n        at android.app.servertransaction.ResumeActivityItem.execute(ResumeActivityItem.java:52)&#160;\r\n        at android.app.servertransaction.TransactionExecutor.executeLifecycleState(TransactionExecutor.java:176)&#160;\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:97)&#160;\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2016)&#160;\r\n        at android.os.Handler.dispatchMessage(Handler.java:107)&#160;\r\n        at android.os.Looper.loop(Looper.java:214)&#160;\r\n        at android.app.ActivityThread.main(ActivityThread.java:7356)&#160;\r\n        at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)&#160;\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:930)&#160;\r\n     Caused by: java.lang.NoClassDefFoundError: Class not found using the boot class loader; no stack trace available\r\n    java.lang.NullPointerException: Attempt to invoke virtual method &#39;java.util.List android.view.InputEventCompatProcessor.processInputEventForCompatibility(android.view.InputEvent)&#39; on a null object reference\r\n        at android.view.ViewRootImpl$WindowInputEventReceiver.onInputEvent(ViewRootImpl.java:7614)\r\n        at android.view.InputEventReceiver.dispatchInputEvent(InputEventReceiver.java:188)\r\n        at android.os.MessageQueue.nativePollOnce(Native Method)\r\n        at android.os.MessageQueue.next(MessageQueue.java:336)\r\n        at android.os.Looper.loop(Looper.java:174)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7356)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:930)\r\n2019-11-21 06:41:59.007 27692-27692/bz.pei.driver E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: bz.pei.driver, PID: 27692\r\n    java.lang.NullPointerException: Attempt to invoke virtual method &#39;java.util.List android.view.InputEventCompatProcessor.processInputEventForCompatibility(android.view.InputEvent)&#39; on a null object reference\r\n        at android.view.ViewRootImpl$WindowInputEventReceiver.onInputEvent(ViewRootImpl.java:7614)\r\n        at android.view.InputEventReceiver.dispatchInputEvent(InputEventReceiver.java:188)\r\n        at android.os.MessageQueue.nativePollOnce(Native Method)\r\n        at android.os.MessageQueue.next(MessageQueue.java:336)\r\n        at android.os.Looper.loop(Looper.java:174)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7356)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:930)\r\n\r\n","title":"ClassNotFoundException: config_inputEventCompatProcessorOverrideClassName androidx, running on andoridx crashes","body":"<p>After Migrating to AndroidX(29) running on the AndroidX device Crashes showing</p>\n<pre><code>ClassNotFoundException: config_inputEventCompatProcessorOverrideClassName\n</code></pre>\n<p>the project compiles and runs it crashes when launched in andorid10.0\nwhen clicked on the editText i get this error</p>\n<pre><code>NullPointerException: Attempt to invoke virtual method 'java.util.List android.view.InputEventCompatProcessor.processInputEventForCompatibility(android.view.InputEvent)' on a null object reference\n</code></pre>\n<p>project/build.gradle\n<div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>buildscript {\n    repositories {\n        jcenter()\n        maven { url 'https://maven.fabric.io/public' }\n        maven { url 'https://jitpack.io' }\n        google()\n    }\n    dependencies {\n//        classpath 'com.android.tools.build:gradle:2.3.3'\n        classpath 'com.android.tools.build:gradle:3.5.0'\n        classpath 'com.google.gms:google-services:3.0.0'\n//        classpath 'io.fabric.tools:gradle:1.+'\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        jcenter()\n        mavenCentral()\n        maven { url 'https://maven.google.com' }\n        maven { url 'https://jitpack.io' }\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\next {\n    // Sdk and tools\n    minSdkVersion = 16\n    targetSdkVersion = 26\n    compileSdkVersion = 26\n    buildToolsVersion = '26.0.0'\n\n    // App dependencies\n    supportLibraryVersion = '25.4.0'\n    gsonVersion = '2.8.0'\n    calligraphyVersion = '2.2.0'\n    glideVersion = '3.7.0'\n    roomDatabase = '1.0.0-alpha3'\n    rx2FastAndroidNetworking = '1.0.0'\n\n    dagger2Version = '2.16'\n    rxjava2Version = '2.0.6'\n    rxandroidVersion = '2.0.1'\n    placeholderviewVersion = '0.6.1'\n    debugDBVersion = '1.0.0'\n    timberVersion = '4.5.1'\n    lifecycle = '1.0.0-alpha3'\n\n    retrofitVersion='2.3.0'\n    GsonVersion='2.7'\n    okhttpVersion= '3.8.0'\n    googleplus= '11.0.0'//'10.2.0'//'11.0.4'\n    glideversion= '4.1.1'\n\n    //Test dependencies\n    junitVersion = '4.12'\n    espressoVersion = '2.2.2'\n    mockitoVersion = '2.7.1'\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>app/build.gradle</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>apply plugin: 'com.android.application'\napply plugin: 'io.fabric'\n\nrepositories {\n    maven { url 'https://maven.fabric.io/public' }\n}\nbuildscript {\n    repositories {\n        maven { url 'https://maven.fabric.io/public' }\n    }\n\n    dependencies {\n        classpath 'io.fabric.tools:gradle:1.27.1'\n    }\n}\nandroid {\n    compileSdkVersion 28\n    signingConfigs {\n        ReleaseConfig {\n            keyAlias 'xxxxx'\n            keyPassword 'xxxxx'\n            storeFile file('../KeyStore/xxxxx.jks')\n            storePassword 'xxxxx'\n        }\n    }\n    defaultConfig {\n        applicationId \"bz.pei.driver\"\n        minSdkVersion 15\n        targetSdkVersion 28\n        versionCode 1\n        versionName \"1.0\"\n        multiDexEnabled true\n        vectorDrawables.useSupportLibrary = true\n        testInstrumentationRunner \"androidx.test.runner.AndroidJUnitRunner\"\n        signingConfig signingConfigs.ReleaseConfig\n        setProperty(\"archivesBaseName\", \"PEI Taxi_Driver_v$versionName\")\n\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_7\n        targetCompatibility JavaVersion.VERSION_1_7\n    }\n\n    List&lt;String&gt; dirs = [\n            'main',     // main sample code; look here for the interesting stuff.\n            'common',   // components that are reused by multiple samples\n            'template'] // boilerplate code that is generated by the sample template process\n    sourceSets {\n        main {\n            dirs.each { dir -&gt;\n                java.srcDirs \"src/${dir}/java\"\n                res.srcDirs \"src/${dir}/res\"\n            }\n        }\n        androidTest.setRoot('tests')\n        androidTest.java.srcDirs = ['tests/src']\n\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n    lintOptions {\n        checkReleaseBuilds false\n        abortOnError false\n    }\n    dataBinding.enabled = true\n}\n\ndependencies {\n    implementation fileTree(include: ['*.jar'], dir: 'libs')\n    androidTestImplementation('androidx.test.espresso:espresso-core:3.1.0', {\n        exclude group: 'com.android.support', module: 'support-annotations'\n    })\n    //Crashlytics\n    implementation('com.crashlytics.sdk.android:crashlytics:2.8.0@aar') {\n        transitive = true;\n    }\n    // dependency injection\n    implementation \"com.google.dagger:dagger:$rootProject.dagger2Version\"\n    annotationProcessor \"com.google.dagger:dagger-compiler:$rootProject.dagger2Version\"\n    annotationProcessor \"com.google.dagger:dagger-android-processor:$rootProject.dagger2Version\"\n    implementation \"com.google.dagger:dagger-android-support:$rootProject.dagger2Version\"\n    //Viewmodel\n    implementation \"com.squareup.retrofit2:retrofit:$rootProject.retrofitVersion\"\n    implementation \"com.squareup.retrofit2:converter-gson:$rootProject.retrofitVersion\"\n    implementation \"com.squareup.okhttp3:logging-interceptor:$rootProject.okhttpVersion\"\n    implementation \"com.google.android.gms:play-services-auth:$rootProject.googleplus\"\n    implementation \"com.google.android.gms:play-services-maps:$rootProject.googleplus\"\n    implementation \"com.google.android.gms:play-services-location:11.0.0\"\n    implementation 'com.google.maps.android:android-maps-utils:0.5+'\n    implementation 'com.github.javiersantos:AppUpdater:2.7'\n    implementation 'com.google.firebase:firebase-core:11.0.0'\n    implementation 'com.google.firebase:firebase-messaging:11.0.0'\n    implementation \"com.github.bumptech.glide:glide:$rootProject.glideversion\"\n    implementation('io.socket:socket.io-client:1.0.0') {//0.8.3') {\n        exclude group: 'org.json', module: 'json'\n    }\n    implementation 'androidx.cardview:cardview:1.0.0'\n    implementation 'androidx.appcompat:appcompat:1.0.0'\n    implementation 'com.google.android.material:material:1.0.0'\n    implementation 'androidx.constraintlayout:constraintlayout:1.1.3'\n    implementation 'com.intuit.sdp:sdp-android:1.0.4'\n    implementation \"com.google.android.gms:play-services-maps:$rootProject.googleplus\"\n    implementation 'fr.avianey.com.viewpagerindicator:library:2.4.1.1@aar'\n    testImplementation 'junit:junit:4.12'\n\n}\napply plugin: 'com.google.gms.google-services'\nconfigurations.all {\n    resolutionStrategy.force \"com.android.support:support-annotations:$supportLibraryVersion\"\n    resolutionStrategy.force 'com.google.code.findbugs:jsr305:1.3.9'\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>gradle-wrapper.properties</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>#Wed Nov 20 00:37:33 IST 2019\ndistributionBase=GRADLE_USER_HOME\ndistributionPath=wrapper/dists\nzipStoreBase=GRADLE_USER_HOME\nzipStorePath=wrapper/dists\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-5.4.1-all.zip</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code># Project-wide Gradle settings.\n\n# IDE (e.g. Android Studio) users:\n# Gradle settings configured through the IDE *will override*\n# any settings specified in this file.\n\n# For more details on how to configure your build environment visit\n# http://www.gradle.org/docs/current/userguide/build_environment.html\n\n# Specifies the JVM arguments used for the daemon process.\n# The setting is particularly useful for tweaking memory settings.\nandroid.enableJetifier=true\nandroid.useAndroidX=true\norg.gradle.jvmargs=-Xmx1536m\n\n# When configured, Gradle will run in incubating parallel mode.\n# This option should only be used with decoupled projects. More details, visit\n# http://www.gradle.org/docs/current/userguide/multi_project_builds.html#sec:decoupled_projects\n# org.gradle.parallel=true</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<pre><code>java.lang.ClassNotFoundException: config_inputEventCompatProcessorOverrideClassName\n    at java.lang.Class.classForName(Native Method)\n    at java.lang.Class.forName(Class.java:454)\n    at java.lang.Class.forName(Class.java:379)\n    at android.view.ViewRootImpl.&lt;init&gt;(ViewRootImpl.java:635)\n    at android.view.WindowManagerGlobal.addView(WindowManagerGlobal.java:377)\n    at android.view.WindowManagerImpl.addView(WindowManagerImpl.java:95)\n    at android.app.ActivityThread.handleResumeActivity(ActivityThread.java:4296)\n    at android.app.servertransaction.ResumeActivityItem.execute(ResumeActivityItem.java:52)\n    at android.app.servertransaction.TransactionExecutor.executeLifecycleState(TransactionExecutor.java:176)\n    at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:97)\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2016)\n    at android.os.Handler.dispatchMessage(Handler.java:107)\n    at android.os.Looper.loop(Looper.java:214)\n    at android.app.ActivityThread.main(ActivityThread.java:7356)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:930)\n Caused by: java.lang.ClassNotFoundException: config_inputEventCompatProcessorOverrideClassName\n    at java.lang.Class.classForName(Native Method)\n    at java.lang.BootClassLoader.findClass(ClassLoader.java:1358)\n    at java.lang.BootClassLoader.loadClass(ClassLoader.java:1418)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:312)\n    at java.lang.Class.classForName(Native Method)\n    at java.lang.Class.forName(Class.java:454)\n    at java.lang.Class.forName(Class.java:379)\n    at android.view.ViewRootImpl.&lt;init&gt;(ViewRootImpl.java:635)\n    at android.view.WindowManagerGlobal.addView(WindowManagerGlobal.java:377)\n    at android.view.WindowManagerImpl.addView(WindowManagerImpl.java:95)\n    at android.app.ActivityThread.handleResumeActivity(ActivityThread.java:4296)\n    at android.app.servertransaction.ResumeActivityItem.execute(ResumeActivityItem.java:52)\n    at android.app.servertransaction.TransactionExecutor.executeLifecycleState(TransactionExecutor.java:176)\n    at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:97)\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2016)\n    at android.os.Handler.dispatchMessage(Handler.java:107)\n    at android.os.Looper.loop(Looper.java:214)\n    at android.app.ActivityThread.main(ActivityThread.java:7356)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:930)\n Caused by: java.lang.NoClassDefFoundError: Class not found using the boot class loader; no stack trace available\njava.lang.NullPointerException: Attempt to invoke virtual method 'java.util.List android.view.InputEventCompatProcessor.processInputEventForCompatibility(android.view.InputEvent)' on a null object reference\n    at android.view.ViewRootImpl$WindowInputEventReceiver.onInputEvent(ViewRootImpl.java:7614)\n    at android.view.InputEventReceiver.dispatchInputEvent(InputEventReceiver.java:188)\n    at android.os.MessageQueue.nativePollOnce(Native Method)\n    at android.os.MessageQueue.next(MessageQueue.java:336)\n    at android.os.Looper.loop(Looper.java:174)\n    at android.app.ActivityThread.main(ActivityThread.java:7356)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:930)\n</code></pre>\n<p>2019-11-21 06:41:59.007 27692-27692/bz.pei.driver E/AndroidRuntime: FATAL EXCEPTION: main\nProcess: bz.pei.driver, PID: 27692\njava.lang.NullPointerException: Attempt to invoke virtual method 'java.util.List android.view.InputEventCompatProcessor.processInputEventForCompatibility(android.view.InputEvent)' on a null object reference\nat android.view.ViewRootImpl$WindowInputEventReceiver.onInputEvent(ViewRootImpl.java:7614)\nat android.view.InputEventReceiver.dispatchInputEvent(InputEventReceiver.java:188)\nat android.os.MessageQueue.nativePollOnce(Native Method)\nat android.os.MessageQueue.next(MessageQueue.java:336)\nat android.os.Looper.loop(Looper.java:174)\nat android.app.ActivityThread.main(ActivityThread.java:7356)\nat java.lang.reflect.Method.invoke(Native Method)\nat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:930)</p>\n"},{"tags":["java","android-studio","programmatically-created"],"comments":[{"owner":{"account_id":18858502,"reputation":325,"user_id":13755907,"display_name":"basileus"},"score":1,"creation_date":1691044176,"post_id":76821376,"comment_id":135438020,"body_markdown":"Regarding setting Tint, you can use setBackgroundTintList() method. You can readm more in this very old thread: https://stackoverflow.com/questions/29801031/how-to-add-button-tint-programmatically","body":"Regarding setting Tint, you can use setBackgroundTintList() method. You can readm more in this very old thread: <a href=\"https://stackoverflow.com/questions/29801031/how-to-add-button-tint-programmatically\" title=\"how to add button tint programmatically\">stackoverflow.com/questions/29801031/&hellip;</a>"}],"owner":{"account_id":25353346,"reputation":13,"user_id":19169874,"display_name":"Mordechay"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690990558,"creation_date":1690989784,"question_id":76821376,"body_markdown":"I am trying to transfer an xml design to a design programmatically in java.\r\nBut the code in java does not create the same result for me as in xml.\r\nHow can I make it exactly the same?\r\n\r\nxml:\r\n```\r\n&lt;Button\r\n            style=&quot;@style/Widget.AppCompat.Button.Colored&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_gravity=&quot;bottom&quot;\r\n            android:text=&quot;next&quot;\r\n            app:backgroundTint=&quot;@color/purple_500&quot; /&gt;\r\n```\r\n[![result][1]][1]\r\n\r\njava:\r\n```\r\nint buttonStyle = R.style.Theme_Button;\r\n        Button button = new Button( new ContextThemeWrapper(this, buttonStyle), null, buttonStyle);\r\n        button.setId(R.id.centralized_btn_next);\r\n        button.setOnClickListener(this);\r\n        button.setLayoutParams(Components.createLayoutParams(LinearLayout.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.WRAP_CONTENT, Gravity.BOTTOM));\r\n        button.setGravity(Gravity.CENTER);\r\n        button.setText(&quot;next&quot;);\r\n        button.setBackgroundResource(R.color.purple_500);\r\n        rootLayout.addView(button);\r\n```\r\nTheme_Button:\r\n```\r\n &lt;style name=&quot;Theme.Button&quot; parent=&quot;Widget.AppCompat.Button.Colored&quot;&gt;\r\n      \r\n    &lt;/style&gt;\r\n```\r\n[![result][2]][2]\r\n\r\nI tried to search a lot on Google and to use chatGPT but I did not find a solution, the style is the same in both and the attributes.\r\nThere are two differences in both the color and the style of the button.\r\nI think it&#39;s because the app theme (which is set in the minifest) doesn&#39;t apply to the java code, I tried setting setTheme.\r\nApparently the values can be set as in the app&#39;s theme but it still won&#39;t help me know why it happened and what the solution is\r\n\r\n**editing:**\r\nI&#39;ve found that the button processes its shape due to setBackgroundResource. I&#39;ll try to find an alternative for that, but still, the question remains why the text color is different.\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tgTeY.png\r\n  [2]: https://i.stack.imgur.com/EpDzQ.png","title":"Design elements in xml and java the result is not equal","body":"<p>I am trying to transfer an xml design to a design programmatically in java.\nBut the code in java does not create the same result for me as in xml.\nHow can I make it exactly the same?</p>\n<p>xml:</p>\n<pre><code>&lt;Button\n            style=&quot;@style/Widget.AppCompat.Button.Colored&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_gravity=&quot;bottom&quot;\n            android:text=&quot;next&quot;\n            app:backgroundTint=&quot;@color/purple_500&quot; /&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/tgTeY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tgTeY.png\" alt=\"result\" /></a></p>\n<p>java:</p>\n<pre><code>int buttonStyle = R.style.Theme_Button;\n        Button button = new Button( new ContextThemeWrapper(this, buttonStyle), null, buttonStyle);\n        button.setId(R.id.centralized_btn_next);\n        button.setOnClickListener(this);\n        button.setLayoutParams(Components.createLayoutParams(LinearLayout.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.WRAP_CONTENT, Gravity.BOTTOM));\n        button.setGravity(Gravity.CENTER);\n        button.setText(&quot;next&quot;);\n        button.setBackgroundResource(R.color.purple_500);\n        rootLayout.addView(button);\n</code></pre>\n<p>Theme_Button:</p>\n<pre><code> &lt;style name=&quot;Theme.Button&quot; parent=&quot;Widget.AppCompat.Button.Colored&quot;&gt;\n      \n    &lt;/style&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/EpDzQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EpDzQ.png\" alt=\"result\" /></a></p>\n<p>I tried to search a lot on Google and to use chatGPT but I did not find a solution, the style is the same in both and the attributes.\nThere are two differences in both the color and the style of the button.\nI think it's because the app theme (which is set in the minifest) doesn't apply to the java code, I tried setting setTheme.\nApparently the values can be set as in the app's theme but it still won't help me know why it happened and what the solution is</p>\n<p><strong>editing:</strong>\nI've found that the button processes its shape due to setBackgroundResource. I'll try to find an alternative for that, but still, the question remains why the text color is different.</p>\n"},{"tags":["java","angular","httprequest"],"comments":[{"owner":{"account_id":4809624,"reputation":3467,"user_id":3883475,"accept_rate":85,"display_name":"Ironluca"},"score":0,"creation_date":1690958150,"post_id":76814267,"comment_id":135423412,"body_markdown":"The following answers might help https://stackoverflow.com/questions/27186036/i18n-ns-error-dom-bad-uri-access-to-restricted-uri-denied   https://stackoverflow.com/questions/17340482/ns-error-dom-bad-uri-access-to-restricted-uri-denied","body":"The following answers might help <a href=\"https://stackoverflow.com/questions/27186036/i18n-ns-error-dom-bad-uri-access-to-restricted-uri-denied\" title=\"i18n ns error dom bad uri access to restricted uri denied\">stackoverflow.com/questions/27186036/&hellip;</a>   <a href=\"https://stackoverflow.com/questions/17340482/ns-error-dom-bad-uri-access-to-restricted-uri-denied\" title=\"ns error dom bad uri access to restricted uri denied\">stackoverflow.com/questions/17340482/&hellip;</a>"},{"owner":{"account_id":20701840,"reputation":871,"user_id":15200705,"display_name":"Luciana Oliveira"},"score":0,"creation_date":1691005283,"post_id":76814267,"comment_id":135433621,"body_markdown":"@Ironluca, is it possible that I need to inclued the origin URL inside the APIC (Advanced Programmable Interrupt Controller) Cors&#39;s ?","body":"@Ironluca, is it possible that I need to inclued the origin URL inside the APIC (Advanced Programmable Interrupt Controller) Cors&#39;s ?"},{"owner":{"account_id":4809624,"reputation":3467,"user_id":3883475,"accept_rate":85,"display_name":"Ironluca"},"score":1,"creation_date":1691038678,"post_id":76814267,"comment_id":135437262,"body_markdown":"You are getting the above error due to URL access under CORS. Refer: https://en.wikipedia.org/wiki/Cross-origin_resource_sharing Also check how the server is setup, especially the ACAO header from server. The URL provides the basic flow.","body":"You are getting the above error due to URL access under CORS. Refer: <a href=\"https://en.wikipedia.org/wiki/Cross-origin_resource_sharing\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Cross-origin_resource_sharing</a> Also check how the server is setup, especially the ACAO header from server. The URL provides the basic flow."}],"owner":{"account_id":20701840,"reputation":871,"user_id":15200705,"display_name":"Luciana Oliveira"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690990550,"creation_date":1690913874,"question_id":76814267,"body_markdown":"I&#39;m supporting an Angular&#39;s website with Java as backend.\r\n\r\nThe problem is when the browser&#39;s cache was cleaned the URL returns `NS_ERROR_DOM_BAD_URI`. In a second call, the same URL run OK. Does anyone have any idea that what was happen?\r\n\r\n **Test after the browser&#39;s cache was cleaned**\r\n\r\n    GET /v/data?cod=1&amp;pageSize=10&amp;page=0 undefined\r\n    Host: homol.com.br\r\n    User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:109.0) Gecko/20100101 Firefox/115.0\r\n    Accept: application/json, text/plain, */*\r\n    Accept-Language: pt-BR,pt;q=0.8,en-US;q=0.5,en;q=0.3\r\n    Accept-Encoding: gzip, deflate, br\r\n    Authorization: Bearer xxx\r\n    client_id: xxx\r\n    Content-Type: application/json\r\n    Origin: http://angular-nodejs.homologacao.com.br\r\n    Connection: keep-alive\r\n    Referer: http://angular-nodejs.homologacao.com.br/\r\n    Sec-Fetch-Dest: empty\r\n    Sec-Fetch-Mode: cors\r\n    Sec-Fetch-Site: cross-site\r\n\r\n **Test after the error before:**\r\n\r\n    GET /v/data?cod=1&amp;pageSize=10&amp;page=0 HTTP/1.1\r\n    Host: homol.com.br\r\n    User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:109.0) Gecko/20100101 Firefox/115.0\r\n    Accept: application/json, text/plain, */*\r\n    Accept-Language: pt-BR,pt;q=0.8,en-US;q=0.5,en;q=0.3\r\n    Accept-Encoding: gzip, deflate, br\r\n    Authorization: Bearer xxx\r\n    client_id: xxx\r\n    Content-Type: application/json\r\n    Origin: http://angular-nodejs.homologacao.com.br\r\n    Connection: keep-alive\r\n    Referer: http://angular-nodejs.homologacao.com.br/\r\n    Sec-Fetch-Dest: empty\r\n    Sec-Fetch-Mode: cors\r\n    Sec-Fetch-Site: cross-site\r\n\r\n\r\n**P.S. Note that the HTTP/1.1 in the first test is undefined.**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/cjlPO.png","title":"GET HTTP/1.1 undefined NS_ERROR_DOM_URI","body":"<p>I'm supporting an Angular's website with Java as backend.</p>\n<p>The problem is when the browser's cache was cleaned the URL returns <code>NS_ERROR_DOM_BAD_URI</code>. In a second call, the same URL run OK. Does anyone have any idea that what was happen?</p>\n<p><strong>Test after the browser's cache was cleaned</strong></p>\n<pre><code>GET /v/data?cod=1&amp;pageSize=10&amp;page=0 undefined\nHost: homol.com.br\nUser-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:109.0) Gecko/20100101 Firefox/115.0\nAccept: application/json, text/plain, */*\nAccept-Language: pt-BR,pt;q=0.8,en-US;q=0.5,en;q=0.3\nAccept-Encoding: gzip, deflate, br\nAuthorization: Bearer xxx\nclient_id: xxx\nContent-Type: application/json\nOrigin: http://angular-nodejs.homologacao.com.br\nConnection: keep-alive\nReferer: http://angular-nodejs.homologacao.com.br/\nSec-Fetch-Dest: empty\nSec-Fetch-Mode: cors\nSec-Fetch-Site: cross-site\n</code></pre>\n<p><strong>Test after the error before:</strong></p>\n<pre><code>GET /v/data?cod=1&amp;pageSize=10&amp;page=0 HTTP/1.1\nHost: homol.com.br\nUser-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:109.0) Gecko/20100101 Firefox/115.0\nAccept: application/json, text/plain, */*\nAccept-Language: pt-BR,pt;q=0.8,en-US;q=0.5,en;q=0.3\nAccept-Encoding: gzip, deflate, br\nAuthorization: Bearer xxx\nclient_id: xxx\nContent-Type: application/json\nOrigin: http://angular-nodejs.homologacao.com.br\nConnection: keep-alive\nReferer: http://angular-nodejs.homologacao.com.br/\nSec-Fetch-Dest: empty\nSec-Fetch-Mode: cors\nSec-Fetch-Site: cross-site\n</code></pre>\n<p><strong>P.S. Note that the HTTP/1.1 in the first test is undefined.</strong></p>\n<p><a href=\"https://i.stack.imgur.com/cjlPO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cjlPO.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","swing","jide"],"comments":[{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":0,"creation_date":1690991145,"post_id":76821453,"comment_id":135430899,"body_markdown":"That picture did not give much more help. Can you - in words - describe what is happening and what isn&#39;t working?","body":"That picture did not give much more help. Can you - in words - describe what is happening and what isn&#39;t working?"},{"owner":{"account_id":28169604,"reputation":3,"user_id":21528347,"display_name":"user21528347"},"score":0,"creation_date":1690991559,"post_id":76821453,"comment_id":135431000,"body_markdown":"@JustanotherJavaprogrammer here we have UI where we have one button. So requirement is like when user click the button ideally it should open dockable panel. Problem is when user click the button panel is not showing up.","body":"@JustanotherJavaprogrammer here we have UI where we have one button. So requirement is like when user click the button ideally it should open dockable panel. Problem is when user click the button panel is not showing up."}],"owner":{"account_id":28169604,"reputation":3,"user_id":21528347,"display_name":"user21528347"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690990505,"creation_date":1690990505,"question_id":76821453,"body_markdown":"Hi I am using JideSoft to implement Dockable Panel.\r\nI used https://www.jidesoft.com/products/JIDE_Docking_Framework_Developer_Guide.pdf as reference and developed below program.\r\n\r\n    import java.awt.FlowLayout;\r\n    \r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    \r\n    import com.jidesoft.action.DockableBarDockableHolderPanel;\r\n    import com.jidesoft.docking.DockContext;\r\n    import com.jidesoft.docking.DockableFrame;\r\n    import com.jidesoft.docking.DockingManager;\r\n    import com.jidesoft.swing.LayoutPersistence;\r\n    \r\n    public class JFrameExample {\r\n    \r\n    \tprivate DockableBarDockableHolderPanel holderPanel;\r\n    \tprivate JFrame frame;\r\n    \tprivate static final String MY_FRAME = &quot;DockableFrame&quot;;\r\n    \r\n    \tJFrameExample() {\r\n    \t\tframe = new JFrame(&quot;JFrame Example&quot;);\r\n    \t\tbuildDockableFrame();\r\n    \t\tJPanel panel = new JPanel();\r\n    \t\tpanel.setLayout(new FlowLayout());\r\n    \t\tJLabel label = new JLabel(&quot;JFrame By Example&quot;);\r\n    \t\tJButton button = new JButton();\r\n    \t\tbutton.setText(&quot;Button&quot;);\r\n    \t\tbutton.addActionListener(e -&gt; {\r\n    \t\t\tif (button.equals(e.getSource())) {\r\n    \r\n    \t\t\t\tgetDockingPanel().getDockingManager().activateFrame(MY_FRAME);\r\n    \t\t\t}\r\n    \t\t});\r\n    \r\n    \t\tpanel.add(label);\r\n    \t\tpanel.add(button);\r\n    \t\tframe.add(panel);\r\n    \t\tframe.setSize(200, 300);\r\n    \t\tframe.setLocationRelativeTo(null);\r\n    \t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\tframe.setVisible(true);\r\n    \r\n    \t}\r\n    \r\n    \tpublic static void main(String s[]) {\r\n    \t\tnew JFrameExample();\r\n    \t}\r\n    \r\n    \tprivate void buildDockableFrame() {\r\n    \r\n    \t\tDockableFrame frame1 = new DockableFrame(MY_FRAME);\r\n    \t\tframe1.getContentPane().add(new JLabel(&quot;Yes I am visible now...&quot;));\r\n    \r\n    \t\tframe1.getContext().setInitMode(DockContext.STATE_AUTOHIDE);\r\n    \t\tframe1.getContext().setInitSide(DockContext.DOCK_SIDE_EAST);\r\n    \t\tframe1.getContext().setCurrentMode(DockContext.STATE_HIDDEN);\r\n    \t\tframe1.getContext().setAutohidable(true);\r\n    \t\tframe1.getContext().setFloatable(false);\r\n    \t\tframe1.setShowContextMenu(false);\r\n    \r\n    \t\tgetDockingPanel().getDockingManager().addFrame(frame1);\r\n    \t}\r\n    \r\n    \tprivate DockableBarDockableHolderPanel getDockingPanel() {\r\n    \t\tif (holderPanel == null) {\r\n    \t\t\tholderPanel = createDockableHolderPanel();\r\n    \t\t}\r\n    \t\treturn holderPanel;\r\n    \t}\r\n    \r\n    \tprotected DockableBarDockableHolderPanel createDockableHolderPanel() {\r\n    \t\tDockableBarDockableHolderPanel dockableBarDockableHolderPanel = createDockableHolderPanelWithDefaultLayout();\r\n    \t\tinitDockableHolderPanelDockingManager(dockableBarDockableHolderPanel.getDockingManager());\r\n    \t\treturn dockableBarDockableHolderPanel;\r\n    \t}\r\n    \r\n    \tprivate DockableBarDockableHolderPanel createDockableHolderPanelWithDefaultLayout() {\r\n    \t\tDockableBarDockableHolderPanel dockableBarDockableHolderPanel = new DockableBarDockableHolderPanel(null);\r\n    \t\tinitDockableHolderPanelLayoutPersistence(dockableBarDockableHolderPanel.getLayoutPersistence());\r\n    \t\treturn dockableBarDockableHolderPanel;\r\n    \t}\r\n    \r\n    \tprivate void initDockableHolderPanelDockingManager(DockingManager dockingManager) {\r\n    \t\tdockingManager.setEasyTabDock(true);\r\n    \t\tdockingManager.setShowDividerGripper(true);\r\n    \t\tdockingManager.setInitSplitPriority(DockingManager.SPLIT_SOUTH_NORTH_EAST_WEST);\r\n    \t\tdockingManager.getAllFrameNames();\r\n    \t\tdockingManager.setInitDelay(30);\r\n    \t\tdockingManager.setSteps(1);\r\n    \t\tdockingManager.setStepDelay(0);\r\n    \t\tdockingManager.setDoubleClickAction(DockingManager.DOUBLE_CLICK_TO_MAXIMIZE);\r\n    \t}\r\n    \r\n    \tprivate void initDockableHolderPanelLayoutPersistence(LayoutPersistence layoutPersistence) {\r\n    \t\tlayoutPersistence.setProfileKey(MY_FRAME);\r\n    \t\tlayoutPersistence.setUseFrameBounds(false);\r\n    \t\tlayoutPersistence.setUseFrameState(false);\r\n    \t}\r\n    }\r\n\r\nBelow is My UI:\r\n[enter image description here][1] expected result is when i click the button it should open Dockable panel but it is not working in mycase.\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HRQPb.png\r\n\r\nI checked but no luck. Help appreciated. . ","title":"Not able to show DockablePanel after clicking button","body":"<p>Hi I am using JideSoft to implement Dockable Panel.\nI used <a href=\"https://www.jidesoft.com/products/JIDE_Docking_Framework_Developer_Guide.pdf\" rel=\"nofollow noreferrer\">https://www.jidesoft.com/products/JIDE_Docking_Framework_Developer_Guide.pdf</a> as reference and developed below program.</p>\n<pre><code>import java.awt.FlowLayout;\n\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\n\nimport com.jidesoft.action.DockableBarDockableHolderPanel;\nimport com.jidesoft.docking.DockContext;\nimport com.jidesoft.docking.DockableFrame;\nimport com.jidesoft.docking.DockingManager;\nimport com.jidesoft.swing.LayoutPersistence;\n\npublic class JFrameExample {\n\n    private DockableBarDockableHolderPanel holderPanel;\n    private JFrame frame;\n    private static final String MY_FRAME = &quot;DockableFrame&quot;;\n\n    JFrameExample() {\n        frame = new JFrame(&quot;JFrame Example&quot;);\n        buildDockableFrame();\n        JPanel panel = new JPanel();\n        panel.setLayout(new FlowLayout());\n        JLabel label = new JLabel(&quot;JFrame By Example&quot;);\n        JButton button = new JButton();\n        button.setText(&quot;Button&quot;);\n        button.addActionListener(e -&gt; {\n            if (button.equals(e.getSource())) {\n\n                getDockingPanel().getDockingManager().activateFrame(MY_FRAME);\n            }\n        });\n\n        panel.add(label);\n        panel.add(button);\n        frame.add(panel);\n        frame.setSize(200, 300);\n        frame.setLocationRelativeTo(null);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setVisible(true);\n\n    }\n\n    public static void main(String s[]) {\n        new JFrameExample();\n    }\n\n    private void buildDockableFrame() {\n\n        DockableFrame frame1 = new DockableFrame(MY_FRAME);\n        frame1.getContentPane().add(new JLabel(&quot;Yes I am visible now...&quot;));\n\n        frame1.getContext().setInitMode(DockContext.STATE_AUTOHIDE);\n        frame1.getContext().setInitSide(DockContext.DOCK_SIDE_EAST);\n        frame1.getContext().setCurrentMode(DockContext.STATE_HIDDEN);\n        frame1.getContext().setAutohidable(true);\n        frame1.getContext().setFloatable(false);\n        frame1.setShowContextMenu(false);\n\n        getDockingPanel().getDockingManager().addFrame(frame1);\n    }\n\n    private DockableBarDockableHolderPanel getDockingPanel() {\n        if (holderPanel == null) {\n            holderPanel = createDockableHolderPanel();\n        }\n        return holderPanel;\n    }\n\n    protected DockableBarDockableHolderPanel createDockableHolderPanel() {\n        DockableBarDockableHolderPanel dockableBarDockableHolderPanel = createDockableHolderPanelWithDefaultLayout();\n        initDockableHolderPanelDockingManager(dockableBarDockableHolderPanel.getDockingManager());\n        return dockableBarDockableHolderPanel;\n    }\n\n    private DockableBarDockableHolderPanel createDockableHolderPanelWithDefaultLayout() {\n        DockableBarDockableHolderPanel dockableBarDockableHolderPanel = new DockableBarDockableHolderPanel(null);\n        initDockableHolderPanelLayoutPersistence(dockableBarDockableHolderPanel.getLayoutPersistence());\n        return dockableBarDockableHolderPanel;\n    }\n\n    private void initDockableHolderPanelDockingManager(DockingManager dockingManager) {\n        dockingManager.setEasyTabDock(true);\n        dockingManager.setShowDividerGripper(true);\n        dockingManager.setInitSplitPriority(DockingManager.SPLIT_SOUTH_NORTH_EAST_WEST);\n        dockingManager.getAllFrameNames();\n        dockingManager.setInitDelay(30);\n        dockingManager.setSteps(1);\n        dockingManager.setStepDelay(0);\n        dockingManager.setDoubleClickAction(DockingManager.DOUBLE_CLICK_TO_MAXIMIZE);\n    }\n\n    private void initDockableHolderPanelLayoutPersistence(LayoutPersistence layoutPersistence) {\n        layoutPersistence.setProfileKey(MY_FRAME);\n        layoutPersistence.setUseFrameBounds(false);\n        layoutPersistence.setUseFrameState(false);\n    }\n}\n</code></pre>\n<p>Below is My UI:\n<a href=\"https://i.stack.imgur.com/HRQPb.png\" rel=\"nofollow noreferrer\">enter image description here</a> expected result is when i click the button it should open Dockable panel but it is not working in mycase.</p>\n<p>I checked but no luck. Help appreciated. .</p>\n"},{"tags":["java","arrays","csv","read-csv"],"comments":[{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1690564664,"post_id":76789813,"comment_id":135376408,"body_markdown":"So, do you need to read the CSV and list the movies categorized by actor and subcategorized by genre?","body":"So, do you need to read the CSV and list the movies categorized by actor and subcategorized by genre?"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1690570318,"post_id":76789813,"comment_id":135377331,"body_markdown":"@DiegoBorba &quot;actor&quot; doesn&#39;t even appear anywhere in the question.","body":"@DiegoBorba &quot;actor&quot; doesn&#39;t even appear anywhere in the question."},{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1690570425,"post_id":76789813,"comment_id":135377348,"body_markdown":"@DavidConrad I mean **Director**, sorry.","body":"@DavidConrad I mean <b>Director</b>, sorry."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1690570559,"post_id":76789813,"comment_id":135377368,"body_markdown":"I suppose you will have to loop over the data and count how many genres there are for Nolan, then create an array to store counts, then loop again and find how many movies of each genre there are for Nolan, then create a 2D array for movies (I assume you mean titles) by genre, and then loop one last time to populate it. Or, if you don&#39;t need to store it, you could just output the results once you know all the genres for Nolan.","body":"I suppose you will have to loop over the data and count how many genres there are for Nolan, then create an array to store counts, then loop again and find how many movies of each genre there are for Nolan, then create a 2D array for movies (I assume you mean titles) by genre, and then loop one last time to populate it. Or, if you don&#39;t need to store it, you could just output the results once you know all the genres for Nolan."},{"owner":{"account_id":24282146,"reputation":127,"user_id":18228482,"display_name":"DR8"},"score":0,"creation_date":1690583271,"post_id":76789813,"comment_id":135378886,"body_markdown":"@DiegoBorba yes, thats what I want. I&#39;ve managed to find a solution!","body":"@DiegoBorba yes, thats what I want. I&#39;ve managed to find a solution!"},{"owner":{"account_id":24282146,"reputation":127,"user_id":18228482,"display_name":"DR8"},"score":0,"creation_date":1690583280,"post_id":76789813,"comment_id":135378889,"body_markdown":"@DavidConrad, thank you. I&#39;ve managed to find a solution. I didn&#39;t create another 2D array, I just used a void function! But your solution to create an 2D array for movies (yes, the movies are the titles) by genre seems a lot better.","body":"@DavidConrad, thank you. I&#39;ve managed to find a solution. I didn&#39;t create another 2D array, I just used a void function! But your solution to create an 2D array for movies (yes, the movies are the titles) by genre seems a lot better."}],"answers":[{"tags":[],"owner":{"account_id":21076903,"reputation":31,"user_id":15492116,"display_name":"Zanzmera Jahanvi"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1690990220,"creation_date":1690565127,"answer_id":76789909,"question_id":76789813,"body_markdown":"1. Find all the unique genres associated with the director &quot;Christopher Nolan&quot; and store them in an array `directorGenres`.\r\n2. For each genre in the `directorGenres` array, find and store all the movies associated with that genre and director in a separate array `moviesByGenre`.\r\n3.Print the movies for each genre along with the genre heading.\r\n\r\nfor reference :\r\n\r\n        public static void printMoviesByGenreForDirector(String[][] movieCinema, String director) {\r\n        // Step 1: Find unique genres for the given director\r\n        String[] directorGenres = Library.uniqueValues(search(movieCinema, director, 4, 3));\r\n        String[] directorMovies = Library.uniqueValues(search(movieCinema, director, 4, 2));\r\n    \r\n        // Step 3: Print movies for each genre\r\n        for (String genre : directorGenres) {\r\n            System.out.println(&quot;Genre: &quot; + genre);\r\n            boolean foundMoviesInGenre = false;\r\n            for (String movie : directorMovies) {\r\n                int movieIndex = -1;\r\n                for (int i = 0; i &lt; movieCinema.length; i++) {\r\n                    if (director.equals(movieCinema[i][4]) &amp;&amp; genre.equals(movieCinema[i][3])) {\r\n                        movieIndex = i;\r\n                        break;\r\n                    }\r\n                }\r\n                if (movieIndex != -1) {\r\n                    System.out.println(movieCinema[movieIndex][1]);\r\n                    foundMoviesInGenre = true;\r\n                }\r\n            }\r\n            if (!foundMoviesInGenre) {\r\n                System.out.println(&quot;No movies found in this genre for &quot; + director);\r\n            }\r\n        }\r\n    }\r\n\r\nYou can call this function in your main method with the specific director&#39;s name, like this:\r\n\r\n    public static void main(String[] args) {\r\n        String[][] movieCinema = // Your 2D array containing movie data\r\n        String director = &quot;Christopher Nolan&quot;;\r\n        printMoviesByGenreForDirector(movieCinema, director);\r\n    }\r\n\r\nThis function will print the movies for each genre of the given director in the desired format.\r\nGood Luck !!!\r\n","title":"Java - search csvfile using arrays","body":"<ol>\n<li>Find all the unique genres associated with the director &quot;Christopher Nolan&quot; and store them in an array <code>directorGenres</code>.</li>\n<li>For each genre in the <code>directorGenres</code> array, find and store all the movies associated with that genre and director in a separate array <code>moviesByGenre</code>.\n3.Print the movies for each genre along with the genre heading.</li>\n</ol>\n<p>for reference :</p>\n<pre><code>    public static void printMoviesByGenreForDirector(String[][] movieCinema, String director) {\n    // Step 1: Find unique genres for the given director\n    String[] directorGenres = Library.uniqueValues(search(movieCinema, director, 4, 3));\n    String[] directorMovies = Library.uniqueValues(search(movieCinema, director, 4, 2));\n\n    // Step 3: Print movies for each genre\n    for (String genre : directorGenres) {\n        System.out.println(&quot;Genre: &quot; + genre);\n        boolean foundMoviesInGenre = false;\n        for (String movie : directorMovies) {\n            int movieIndex = -1;\n            for (int i = 0; i &lt; movieCinema.length; i++) {\n                if (director.equals(movieCinema[i][4]) &amp;&amp; genre.equals(movieCinema[i][3])) {\n                    movieIndex = i;\n                    break;\n                }\n            }\n            if (movieIndex != -1) {\n                System.out.println(movieCinema[movieIndex][1]);\n                foundMoviesInGenre = true;\n            }\n        }\n        if (!foundMoviesInGenre) {\n            System.out.println(&quot;No movies found in this genre for &quot; + director);\n        }\n    }\n}\n</code></pre>\n<p>You can call this function in your main method with the specific director's name, like this:</p>\n<pre><code>public static void main(String[] args) {\n    String[][] movieCinema = // Your 2D array containing movie data\n    String director = &quot;Christopher Nolan&quot;;\n    printMoviesByGenreForDirector(movieCinema, director);\n}\n</code></pre>\n<p>This function will print the movies for each genre of the given director in the desired format.\nGood Luck !!!</p>\n"},{"tags":[],"owner":{"account_id":24282146,"reputation":127,"user_id":18228482,"display_name":"DR8"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690985402,"creation_date":1690583043,"answer_id":76791310,"question_id":76789813,"body_markdown":"Thanks to @Zanzmera Jahanvi code I was able to find a code that puts the Movies by Genre of a specific director.\r\n\r\n                    public static void printMoviesByGenreForDirector(String[][] movieCinema, String director) {\r\n\r\n                        // Step 1: Find unique genres for the given director\r\n                        String[] directorGenres = Library.uniqueValues(search(movieCinema, director, 4, 3));\r\n                        String[] directorMovies = Library.uniqueValues(search(movieCinema, director, 4, 2));\r\n\r\n\r\n                        // Step 2: Print games for each category\r\n                        for (int genreIndex = 0; genreIndex &lt; directorGenres.length; genreIndex++) {\r\n                            String genre = directorGenres[genreIndex];\r\n                            System.out.println(&quot;\\nGenre: &quot; + genre);\r\n                            boolean foundMoviesInGenre = false;\r\n                            for (int i = 0; i &lt; movieCinema.length; i++) {\r\n                                if (director.equals(movieCinema[i][4]) &amp;&amp; genre.equals(movieCinema[i][3])) {\r\n                                    System.out.println(movieCinema[i][2]);\r\n                                    foundMoviesInGenre = true;\r\n                                }\r\n                            }\r\n                            if (foundMoviesInGenre == false) {\r\n                                System.out.println(&quot;No games found in this genre for &quot; + director);\r\n                            }\r\n                        }\r\n                    }\r\n\r\n","title":"Java - search csvfile using arrays","body":"<p>Thanks to @Zanzmera Jahanvi code I was able to find a code that puts the Movies by Genre of a specific director.</p>\n<pre><code>                public static void printMoviesByGenreForDirector(String[][] movieCinema, String director) {\n\n                    // Step 1: Find unique genres for the given director\n                    String[] directorGenres = Library.uniqueValues(search(movieCinema, director, 4, 3));\n                    String[] directorMovies = Library.uniqueValues(search(movieCinema, director, 4, 2));\n\n\n                    // Step 2: Print games for each category\n                    for (int genreIndex = 0; genreIndex &lt; directorGenres.length; genreIndex++) {\n                        String genre = directorGenres[genreIndex];\n                        System.out.println(&quot;\\nGenre: &quot; + genre);\n                        boolean foundMoviesInGenre = false;\n                        for (int i = 0; i &lt; movieCinema.length; i++) {\n                            if (director.equals(movieCinema[i][4]) &amp;&amp; genre.equals(movieCinema[i][3])) {\n                                System.out.println(movieCinema[i][2]);\n                                foundMoviesInGenre = true;\n                            }\n                        }\n                        if (foundMoviesInGenre == false) {\n                            System.out.println(&quot;No games found in this genre for &quot; + director);\n                        }\n                    }\n                }\n</code></pre>\n"}],"owner":{"account_id":24282146,"reputation":127,"user_id":18228482,"display_name":"DR8"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1690990220,"creation_date":1690564066,"question_id":76789813,"body_markdown":"I have a csv.file with 80 lines and 4 columns that represents one specific Movie Store.\r\n\r\n - 1st column: idSale \r\n - 2nd column: Movie \r\n - 3rd column: Genre \r\n - 4td column: Director\r\n\r\nThe file has a header with the names above and the rest of lines are the content.\r\nThere are 79 sales, 30 movies, 10 directors and 8 genres. In the file one movie as only one genre and one director.\r\n\r\nThe movies, the genres and the directors are repeated... only the id is a non-repeated value.\r\n\r\nI&#39;ve managed to put the csv file into an array2D by counting the number of lines and columns. The array 2D is called movieCinema.\r\n\r\nI&#39;ve already managed a way to store each column into an array with non-repatead values because one of the tasks was to print the movies, the directors and the genres.\r\n\r\nI&#39;ve 3 arrays with repeated values with the following names:\r\n\r\n - movies \r\n - directors  \r\n - genres\r\n\r\nThe length of this arrays is equal to the number of lines in the array2D-1 (because I didn&#39;t store the header).\r\n\r\nAnd I&#39;ve 3 arrays with non-repeated values)\r\n\r\n - moviesUnique (length equals 30) \r\n - directors (length equals 10) \r\n - genres (length equals 8)\r\n\r\n\r\nNow, the last task is to print the movies by genre of the director Christopher Nolan. Example:\r\n\r\nChristopher Nolan\r\n\r\nGenre: Action\r\n - Movie 1\r\n - Movie 5\r\n\r\nGenre: Drama\r\n - Movie 2\r\n\r\nGenre: Sy-fy\r\n - Movie 3\r\n - Movie 4\r\n\r\n\r\n\r\nI can&#39;t do this. I&#39;m able to print all the movies of Chistopher Nolan and all the genres of him as well, but I can&#39;t put his the movies by genre.\r\n\r\n\r\n\r\nThis is my function to search:\r\n\r\n    public static String[] search (String[][] matrix, String searchItem, int searchCol, int indexCol) {\r\n        int arraySize = 0;\r\n        int index = 0;\r\n        String[] items;\r\n\r\n        // Compares each line (skip the header) that is equals to the max value and increases arraySize\r\n        for (int i=1; i&lt;matrix.length; i++) {\r\n            if (searchItem.equals(matrix[i][searchCol])){\r\n                arraySize++;\r\n            }\r\n        }\r\n\r\n        // Declare array\r\n        items = new String[arraySize];\r\n\r\n        // Store all lines that has correspondence to the searchItem\r\n        for (int i=1; i&lt;matrix.length; i++){\r\n            if (searchItem.equals(matrix[i][searchCol])){\r\n                items[index] = matrix[i][indexCol];\r\n                index++;\r\n            }\r\n        }\r\n\r\n        return items;\r\n    }\r\n\r\n\r\n\r\nThen I have a function to store only the unique values of an array called uniqueValues, that is working perfectly. \r\n\r\n    /**\r\n     * Function that removes the duplicates of an array and stores only the unique valus\r\n     * @param array\r\n     * @return\r\n     */\r\n    public static String[] uniqueValues (String[] array) {\r\n        boolean duplicate;\r\n        int index=0;\r\n        int arraySize = 0;\r\n\r\n        for (int i=1; i&lt;array.length; i++) {\r\n            duplicate = false;\r\n            for (int j=i+1; j&lt;array.length; j++) {\r\n                if (array[i].equals(array[j]) &amp;&amp; duplicate == false) {\r\n                    duplicate = true;\r\n                }\r\n            }\r\n\r\n            if (duplicate == false) {\r\n                arraySize++;\r\n            }\r\n        }\r\n\r\n        String[] arrayUnique = new String[arraySize];\r\n\r\n        for (int i=1; i&lt;array.length; i++) {\r\n            duplicate = false;\r\n            for (int j=i+1; j&lt;array.length; j++) {\r\n                if (array[i].equals(array[j]) &amp;&amp; duplicate == false) {\r\n                    duplicate = true;\r\n                }\r\n            }\r\n\r\n            if (duplicate == false) {\r\n                arrayUnique[index] = array[i];\r\n                index++;\r\n            }\r\n        }\r\n\r\n        return arrayUnique;\r\n    }\r\n\r\n\r\n\r\n\r\nSo in the main I call the functions:\r\n\r\n    String director = &quot;Chistopher Nolan&quot;\r\n\r\n    // This has movies and genres repeated\r\n    String[] directorGenresRepeated = search(movieCinema, director, 4, 3);\r\n    String[] diretorMoviesRepeated = Library.search(store, director, 4, 2);\r\n    \r\n    // This has movies and genres non-repeated\r\n    String[] directorGenres = Library.uniqueValues(directorGenresRepeated);\r\n    String[] directorMovies = Library.uniqueValues(directorMoviesRepeated);\r\n   \r\n\r\n\r\n\r\nSo if I print this array with a for I get all the movies of Chistopher Nolan and I get all the genres movies of Chistopher Nolan... It print this:\r\n\r\n - Genre 1 \r\n - Genre 2\r\n - Genre 3\r\n\r\nAnd then the movies:\r\n\r\n 1. Movie 1 \r\n 2. Movie 2\r\n 3. Movie 3 \r\n 4. Movie 4\r\n 5. Movie 5\r\n\r\nBut the point is to have:\r\n\r\nGenre: Action\r\n - Movie 1\r\n - Movie 5\r\n\r\nGenre: Drama\r\n - Movie 2\r\n\r\nGenre: Sy-fy\r\n - Movie 3\r\n - Movie 4\r\n\r\n\r\nHow can I do this?? I can&#39;t use lists or sets... or hashmaps... I can only use arrays, 2 arrays, for loops, while loops..\r\n\r\nCould you help me?","title":"Java - search csvfile using arrays","body":"<p>I have a csv.file with 80 lines and 4 columns that represents one specific Movie Store.</p>\n<ul>\n<li>1st column: idSale</li>\n<li>2nd column: Movie</li>\n<li>3rd column: Genre</li>\n<li>4td column: Director</li>\n</ul>\n<p>The file has a header with the names above and the rest of lines are the content.\nThere are 79 sales, 30 movies, 10 directors and 8 genres. In the file one movie as only one genre and one director.</p>\n<p>The movies, the genres and the directors are repeated... only the id is a non-repeated value.</p>\n<p>I've managed to put the csv file into an array2D by counting the number of lines and columns. The array 2D is called movieCinema.</p>\n<p>I've already managed a way to store each column into an array with non-repatead values because one of the tasks was to print the movies, the directors and the genres.</p>\n<p>I've 3 arrays with repeated values with the following names:</p>\n<ul>\n<li>movies</li>\n<li>directors</li>\n<li>genres</li>\n</ul>\n<p>The length of this arrays is equal to the number of lines in the array2D-1 (because I didn't store the header).</p>\n<p>And I've 3 arrays with non-repeated values)</p>\n<ul>\n<li>moviesUnique (length equals 30)</li>\n<li>directors (length equals 10)</li>\n<li>genres (length equals 8)</li>\n</ul>\n<p>Now, the last task is to print the movies by genre of the director Christopher Nolan. Example:</p>\n<p>Christopher Nolan</p>\n<p>Genre: Action</p>\n<ul>\n<li>Movie 1</li>\n<li>Movie 5</li>\n</ul>\n<p>Genre: Drama</p>\n<ul>\n<li>Movie 2</li>\n</ul>\n<p>Genre: Sy-fy</p>\n<ul>\n<li>Movie 3</li>\n<li>Movie 4</li>\n</ul>\n<p>I can't do this. I'm able to print all the movies of Chistopher Nolan and all the genres of him as well, but I can't put his the movies by genre.</p>\n<p>This is my function to search:</p>\n<pre><code>public static String[] search (String[][] matrix, String searchItem, int searchCol, int indexCol) {\n    int arraySize = 0;\n    int index = 0;\n    String[] items;\n\n    // Compares each line (skip the header) that is equals to the max value and increases arraySize\n    for (int i=1; i&lt;matrix.length; i++) {\n        if (searchItem.equals(matrix[i][searchCol])){\n            arraySize++;\n        }\n    }\n\n    // Declare array\n    items = new String[arraySize];\n\n    // Store all lines that has correspondence to the searchItem\n    for (int i=1; i&lt;matrix.length; i++){\n        if (searchItem.equals(matrix[i][searchCol])){\n            items[index] = matrix[i][indexCol];\n            index++;\n        }\n    }\n\n    return items;\n}\n</code></pre>\n<p>Then I have a function to store only the unique values of an array called uniqueValues, that is working perfectly.</p>\n<pre><code>/**\n * Function that removes the duplicates of an array and stores only the unique valus\n * @param array\n * @return\n */\npublic static String[] uniqueValues (String[] array) {\n    boolean duplicate;\n    int index=0;\n    int arraySize = 0;\n\n    for (int i=1; i&lt;array.length; i++) {\n        duplicate = false;\n        for (int j=i+1; j&lt;array.length; j++) {\n            if (array[i].equals(array[j]) &amp;&amp; duplicate == false) {\n                duplicate = true;\n            }\n        }\n\n        if (duplicate == false) {\n            arraySize++;\n        }\n    }\n\n    String[] arrayUnique = new String[arraySize];\n\n    for (int i=1; i&lt;array.length; i++) {\n        duplicate = false;\n        for (int j=i+1; j&lt;array.length; j++) {\n            if (array[i].equals(array[j]) &amp;&amp; duplicate == false) {\n                duplicate = true;\n            }\n        }\n\n        if (duplicate == false) {\n            arrayUnique[index] = array[i];\n            index++;\n        }\n    }\n\n    return arrayUnique;\n}\n</code></pre>\n<p>So in the main I call the functions:</p>\n<pre><code>String director = &quot;Chistopher Nolan&quot;\n\n// This has movies and genres repeated\nString[] directorGenresRepeated = search(movieCinema, director, 4, 3);\nString[] diretorMoviesRepeated = Library.search(store, director, 4, 2);\n\n// This has movies and genres non-repeated\nString[] directorGenres = Library.uniqueValues(directorGenresRepeated);\nString[] directorMovies = Library.uniqueValues(directorMoviesRepeated);\n</code></pre>\n<p>So if I print this array with a for I get all the movies of Chistopher Nolan and I get all the genres movies of Chistopher Nolan... It print this:</p>\n<ul>\n<li>Genre 1</li>\n<li>Genre 2</li>\n<li>Genre 3</li>\n</ul>\n<p>And then the movies:</p>\n<ol>\n<li>Movie 1</li>\n<li>Movie 2</li>\n<li>Movie 3</li>\n<li>Movie 4</li>\n<li>Movie 5</li>\n</ol>\n<p>But the point is to have:</p>\n<p>Genre: Action</p>\n<ul>\n<li>Movie 1</li>\n<li>Movie 5</li>\n</ul>\n<p>Genre: Drama</p>\n<ul>\n<li>Movie 2</li>\n</ul>\n<p>Genre: Sy-fy</p>\n<ul>\n<li>Movie 3</li>\n<li>Movie 4</li>\n</ul>\n<p>How can I do this?? I can't use lists or sets... or hashmaps... I can only use arrays, 2 arrays, for loops, while loops..</p>\n<p>Could you help me?</p>\n"},{"tags":["java","firebase","firebase-realtime-database","firebase-admin","minecraft-forge"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1691042933,"post_id":76820773,"comment_id":135437806,"body_markdown":"Have you tried to check if there is an error when you&#39;re using setValue?","body":"Have you tried to check if there is an error when you&#39;re using setValue?"},{"owner":{"account_id":11376739,"reputation":139,"user_id":8340815,"display_name":"simplexshotz"},"score":0,"creation_date":1691118154,"post_id":76820773,"comment_id":135451627,"body_markdown":"@AlexMamo there&#39;s no errors being printed to the console, no","body":"@AlexMamo there&#39;s no errors being printed to the console, no"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1691126786,"post_id":76820773,"comment_id":135452295,"body_markdown":"Can show us how did you do that?","body":"Can show us how did you do that?"},{"owner":{"account_id":11376739,"reputation":139,"user_id":8340815,"display_name":"simplexshotz"},"score":0,"creation_date":1691147347,"post_id":76820773,"comment_id":135455742,"body_markdown":"@AlexMamo see the main mod file code; it&#39;s not printing any errors. As a side note, I ended up trying MongoDB Atlas, and I got it working without issue. I&#39;ll probably just stick with it, even though I&#39;m much more familiar with Firebase.","body":"@AlexMamo see the main mod file code; it&#39;s not printing any errors. As a side note, I ended up trying MongoDB Atlas, and I got it working without issue. I&#39;ll probably just stick with it, even though I&#39;m much more familiar with Firebase."}],"owner":{"account_id":11376739,"reputation":139,"user_id":8340815,"display_name":"simplexshotz"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1690989903,"creation_date":1690985593,"question_id":76820773,"body_markdown":"I&#39;m trying to make a mod for Minecraft 1.8.9 (using Forge), and I need to use Firebase as a part of the project. I&#39;ve gotten Forge setup and Firebase is working as a dependency. The mod builds, and I&#39;m able to use the mod in-game. For those curious, here&#39;s my `build.gradle` file:\r\n```\r\nbuildscript {\r\n    repositories {\r\n        google()\r\n        mavenCentral()\r\n        maven {\r\n            name &quot;forge&quot;\r\n            url &quot;https://files.minecraftforge.net/maven&quot;\r\n        }\r\n        maven {\r\n            name &quot;google&quot;\r\n            url &quot;https://maven.google.com&quot;\r\n        }\r\n    }\r\n    dependencies {\r\n        classpath &#39;net.minecraftforge.gradle:ForgeGradle:2.1-SNAPSHOT&#39;\r\n    }\r\n}\r\napply plugin: &#39;net.minecraftforge.gradle.forge&#39;\r\n\r\nallprojects {\r\n  repositories {\r\n    // Make sure that you have the following two repositories\r\n    google()  // Google&#39;s Maven repository\r\n    mavenCentral()  // Maven Central repository\r\n  }\r\n}\r\n\r\nversion = &quot;1.0a&quot;\r\ngroup= &quot;com.oshotz.testmod&quot; // http://maven.apache.org/guides/mini/guide-naming-conventions.html\r\narchivesBaseName = &quot;testmod&quot;\r\n\r\nminecraft {\r\n    version = &quot;1.8.9-11.15.1.2318-1.8.9&quot;\r\n    runDir = &quot;run&quot;\r\n    \r\n    mappings = &quot;stable_20&quot;\r\n}\r\n\r\nconfigurations {\r\n    shade\r\n    implementation.extendsFrom shade\r\n}\r\n\r\ndependencies {\r\n    shade &#39;com.google.firebase:firebase-admin:9.2.0&#39;\r\n    shade &#39;com.google.firebase:firebase-database:9.2.0&#39;\r\n}\r\n\r\njar {\r\n    configurations.shade.each { dep -&gt;\r\n        from(project.zipTree(dep)){\r\n            exclude &#39;META-INF&#39;, &#39;META-INF/**&#39;\r\n        }\r\n    }\r\n}\r\n\r\nprocessResources\r\n{\r\n    // this will ensure that this task is redone when the versions change.\r\n    inputs.property &quot;version&quot;, project.version\r\n    inputs.property &quot;mcversion&quot;, project.minecraft.version\r\n\r\n    // replace stuff in mcmod.info, nothing else\r\n    from(sourceSets.main.resources.srcDirs) {\r\n        include &#39;mcmod.info&#39;\r\n                \r\n        // replace version and mcversion\r\n        expand &#39;version&#39;:project.version, &#39;mcversion&#39;:project.minecraft.version\r\n    }\r\n        \r\n    // copy everything else, thats not the mcmod.info\r\n    from(sourceSets.main.resources.srcDirs) {\r\n        exclude &#39;mcmod.info&#39;\r\n    }\r\n}\r\n```\r\nAgain, as I mentioned, this works. Here&#39;s my main mod file:\r\n```java\r\npackage com.oshotz.testmod;\r\n\r\nimport java.io.FileInputStream;\r\nimport java.io.FileNotFoundException;\r\nimport java.io.IOException;\r\nimport java.util.concurrent.CountDownLatch;\r\nimport java.util.concurrent.ExecutionException;\r\nimport java.util.concurrent.TimeUnit;\r\nimport java.util.concurrent.TimeoutException;\r\n\r\nimport com.google.api.core.ApiFuture;\r\nimport com.google.auth.oauth2.GoogleCredentials;\r\n\r\n// import com.google.firebase.FirebaseApp;\r\n\r\nimport com.google.firebase.FirebaseApp;\r\nimport com.google.firebase.FirebaseOptions;\r\nimport com.google.firebase.database.DataSnapshot;\r\nimport com.google.firebase.database.DatabaseError;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.database.ValueEventListener;\r\nimport com.google.storage.v2.Object;\r\n\r\nimport net.minecraftforge.common.MinecraftForge;\r\n// import net.minecraft.client.Minecraft;\r\nimport net.minecraftforge.fml.common.Mod;\r\nimport net.minecraftforge.fml.common.Mod.EventHandler;\r\nimport net.minecraftforge.fml.common.event.FMLInitializationEvent;\r\nimport net.minecraftforge.fml.common.event.FMLPostInitializationEvent;\r\nimport net.minecraftforge.fml.common.event.FMLPreInitializationEvent;\r\nimport scala.collection.parallel.Tasks;\r\n\r\n// import com.google.firebase.FirebaseApp;\r\n\r\n@Mod(modid = Reference.MOD_ID, name = Reference.MOD_NAME, version = Reference.VERSION)\r\npublic class TestMod {\r\n  \r\n  // private Minecraft mc = Minecraft.getMinecraft();\r\n  private FirebaseDatabase firebaseDatabase;\r\n\r\n  @EventHandler\r\n  public void preInit(FMLPreInitializationEvent event) {\r\n    \r\n  }\r\n\r\n  @EventHandler\r\n  public void init(FMLInitializationEvent event) throws IOException, InterruptedException, ExecutionException, TimeoutException {\r\n\r\n    System.out.println(&quot;Test Mod is running!&quot;);\r\n\r\n    FileInputStream serviceAccount = new FileInputStream(&quot;C:\\\\Users\\\\Brandon\\\\credentials.json&quot;);\r\n\r\n    FirebaseOptions options = new FirebaseOptions.Builder()\r\n      .setCredentials(GoogleCredentials.fromStream(serviceAccount))\r\n      .setDatabaseUrl(&quot;https://&lt;redacted&gt;.firebaseio.com&quot;)\r\n      .build();\r\n\r\n    FirebaseApp defaultApp = FirebaseApp.initializeApp(options);\r\n    firebaseDatabase = FirebaseDatabase.getInstance(&quot;https://&lt;redacted&gt;.firebaseio.com&quot;);\r\n\r\n    System.out.println(defaultApp.getName());\r\n\r\n    DatabaseReference ref = firebaseDatabase.getReference(&quot;message&quot;);\r\n    ref.setValue(&quot;Hello, World!&quot;, null);\r\n\r\n    ref.setValue(&quot;testing!!&quot;, new DatabaseReference.CompletionListener() {\r\n      @Override\r\n      public void onComplete(DatabaseError de, DatabaseReference dr) {\r\n        System.out.println(&quot;finish&quot;);\r\n      }\r\n    });\r\n\r\n    ChatEventHandler chatEventHandler = new ChatEventHandler();\r\n    MinecraftForge.EVENT_BUS.register(chatEventHandler);\r\n\r\n    ClientTickEventHandler clientTickEventHandler = new ClientTickEventHandler();\r\n    MinecraftForge.EVENT_BUS.register(clientTickEventHandler);\r\n\r\n    ChestEventHandler chestEventHandler = new ChestEventHandler();\r\n    MinecraftForge.EVENT_BUS.register(chestEventHandler);\r\n\r\n    // update(&quot;hello world&quot;);\r\n    \r\n  }\r\n\r\n  @EventHandler\r\n  public void postInit(FMLPostInitializationEvent event) {\r\n    \r\n  }\r\n\r\n  public void update(String value) {\r\n    update(value, &quot;message&quot;);\r\n  }\r\n\r\n  public void update(String value, String key) {\r\n      try {\r\n          DatabaseReference ref = firebaseDatabase.getReference(key);\r\n          final CountDownLatch latch = new CountDownLatch(1);\r\n          ref.setValue(value, new DatabaseReference.CompletionListener() {\r\n              @Override\r\n              public void onComplete(DatabaseError databaseError, DatabaseReference databaseReference) {\r\n                  if (databaseError != null) {\r\n                      System.out.println(&quot;Data could not be saved &quot; + databaseError.getMessage());\r\n                      latch.countDown();\r\n                  } else {\r\n                      System.out.println(&quot;Data saved successfully.&quot;);\r\n                      latch.countDown();\r\n                  }\r\n              }\r\n          });\r\n          latch.await();\r\n      } catch (InterruptedException e) {\r\n          e.printStackTrace();\r\n      }\r\n}\r\n  \r\n}\r\n```\r\n...note that I&#39;ve commented out the call to the `update` function, which I&#39;ll explain in a moment.\r\n\r\nThe code, as is above, builds and runs. I can use the mod in game. However, even though `&quot;Test Mod is running!&quot;` and `[DEFAULT]` (printed by the `System.out.println(defaultApp.getName());` line) are both printed to the console (meaning the mod was properly loaded, and the Firebase dependency is working), neither of the two calls to `setValue` do ***anything***. Nothing else is printed, and the data in the Realtime Database is not changed or updated.\r\n\r\nIf I uncomment the `update(&quot;hello world&quot;);` line, then it calls the `update` function, which implements a `CountDownLatch`, as suggested by many of the other answers I&#39;ve found on this issue. However, when running the game, it hangs indefinitely on the `update(&quot;hello world&quot;);` line, until I force quit the game. Again, the data stored in Firebase is not changed or updated (for reference, I&#39;ve created the `&quot;message&quot;` ref manually in Firebase, so the database is not completely empty).\r\n\r\nNo errors are thrown anywhere. Looking at the database rule monitoring, it seems as though the database never actually receives the requests at all (the database has no allows, denies, or errors reported).\r\n\r\nI have no idea why this is, and any help would be appreciated. If I need to include any other files, let me know!\r\n\r\nAlso: I&#39;m using the Java 1.8 JDK (Java 8) for Windows x64, and am using Gradle 4.0 (as Forge for 1.8.9 doesn&#39;t play nicely with newer versions).","title":"Java Firebase Admin SDK setValue Never Completes","body":"<p>I'm trying to make a mod for Minecraft 1.8.9 (using Forge), and I need to use Firebase as a part of the project. I've gotten Forge setup and Firebase is working as a dependency. The mod builds, and I'm able to use the mod in-game. For those curious, here's my <code>build.gradle</code> file:</p>\n<pre><code>buildscript {\n    repositories {\n        google()\n        mavenCentral()\n        maven {\n            name &quot;forge&quot;\n            url &quot;https://files.minecraftforge.net/maven&quot;\n        }\n        maven {\n            name &quot;google&quot;\n            url &quot;https://maven.google.com&quot;\n        }\n    }\n    dependencies {\n        classpath 'net.minecraftforge.gradle:ForgeGradle:2.1-SNAPSHOT'\n    }\n}\napply plugin: 'net.minecraftforge.gradle.forge'\n\nallprojects {\n  repositories {\n    // Make sure that you have the following two repositories\n    google()  // Google's Maven repository\n    mavenCentral()  // Maven Central repository\n  }\n}\n\nversion = &quot;1.0a&quot;\ngroup= &quot;com.oshotz.testmod&quot; // http://maven.apache.org/guides/mini/guide-naming-conventions.html\narchivesBaseName = &quot;testmod&quot;\n\nminecraft {\n    version = &quot;1.8.9-11.15.1.2318-1.8.9&quot;\n    runDir = &quot;run&quot;\n    \n    mappings = &quot;stable_20&quot;\n}\n\nconfigurations {\n    shade\n    implementation.extendsFrom shade\n}\n\ndependencies {\n    shade 'com.google.firebase:firebase-admin:9.2.0'\n    shade 'com.google.firebase:firebase-database:9.2.0'\n}\n\njar {\n    configurations.shade.each { dep -&gt;\n        from(project.zipTree(dep)){\n            exclude 'META-INF', 'META-INF/**'\n        }\n    }\n}\n\nprocessResources\n{\n    // this will ensure that this task is redone when the versions change.\n    inputs.property &quot;version&quot;, project.version\n    inputs.property &quot;mcversion&quot;, project.minecraft.version\n\n    // replace stuff in mcmod.info, nothing else\n    from(sourceSets.main.resources.srcDirs) {\n        include 'mcmod.info'\n                \n        // replace version and mcversion\n        expand 'version':project.version, 'mcversion':project.minecraft.version\n    }\n        \n    // copy everything else, thats not the mcmod.info\n    from(sourceSets.main.resources.srcDirs) {\n        exclude 'mcmod.info'\n    }\n}\n</code></pre>\n<p>Again, as I mentioned, this works. Here's my main mod file:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.oshotz.testmod;\n\nimport java.io.FileInputStream;\nimport java.io.FileNotFoundException;\nimport java.io.IOException;\nimport java.util.concurrent.CountDownLatch;\nimport java.util.concurrent.ExecutionException;\nimport java.util.concurrent.TimeUnit;\nimport java.util.concurrent.TimeoutException;\n\nimport com.google.api.core.ApiFuture;\nimport com.google.auth.oauth2.GoogleCredentials;\n\n// import com.google.firebase.FirebaseApp;\n\nimport com.google.firebase.FirebaseApp;\nimport com.google.firebase.FirebaseOptions;\nimport com.google.firebase.database.DataSnapshot;\nimport com.google.firebase.database.DatabaseError;\nimport com.google.firebase.database.DatabaseReference;\nimport com.google.firebase.database.FirebaseDatabase;\nimport com.google.firebase.database.ValueEventListener;\nimport com.google.storage.v2.Object;\n\nimport net.minecraftforge.common.MinecraftForge;\n// import net.minecraft.client.Minecraft;\nimport net.minecraftforge.fml.common.Mod;\nimport net.minecraftforge.fml.common.Mod.EventHandler;\nimport net.minecraftforge.fml.common.event.FMLInitializationEvent;\nimport net.minecraftforge.fml.common.event.FMLPostInitializationEvent;\nimport net.minecraftforge.fml.common.event.FMLPreInitializationEvent;\nimport scala.collection.parallel.Tasks;\n\n// import com.google.firebase.FirebaseApp;\n\n@Mod(modid = Reference.MOD_ID, name = Reference.MOD_NAME, version = Reference.VERSION)\npublic class TestMod {\n  \n  // private Minecraft mc = Minecraft.getMinecraft();\n  private FirebaseDatabase firebaseDatabase;\n\n  @EventHandler\n  public void preInit(FMLPreInitializationEvent event) {\n    \n  }\n\n  @EventHandler\n  public void init(FMLInitializationEvent event) throws IOException, InterruptedException, ExecutionException, TimeoutException {\n\n    System.out.println(&quot;Test Mod is running!&quot;);\n\n    FileInputStream serviceAccount = new FileInputStream(&quot;C:\\\\Users\\\\Brandon\\\\credentials.json&quot;);\n\n    FirebaseOptions options = new FirebaseOptions.Builder()\n      .setCredentials(GoogleCredentials.fromStream(serviceAccount))\n      .setDatabaseUrl(&quot;https://&lt;redacted&gt;.firebaseio.com&quot;)\n      .build();\n\n    FirebaseApp defaultApp = FirebaseApp.initializeApp(options);\n    firebaseDatabase = FirebaseDatabase.getInstance(&quot;https://&lt;redacted&gt;.firebaseio.com&quot;);\n\n    System.out.println(defaultApp.getName());\n\n    DatabaseReference ref = firebaseDatabase.getReference(&quot;message&quot;);\n    ref.setValue(&quot;Hello, World!&quot;, null);\n\n    ref.setValue(&quot;testing!!&quot;, new DatabaseReference.CompletionListener() {\n      @Override\n      public void onComplete(DatabaseError de, DatabaseReference dr) {\n        System.out.println(&quot;finish&quot;);\n      }\n    });\n\n    ChatEventHandler chatEventHandler = new ChatEventHandler();\n    MinecraftForge.EVENT_BUS.register(chatEventHandler);\n\n    ClientTickEventHandler clientTickEventHandler = new ClientTickEventHandler();\n    MinecraftForge.EVENT_BUS.register(clientTickEventHandler);\n\n    ChestEventHandler chestEventHandler = new ChestEventHandler();\n    MinecraftForge.EVENT_BUS.register(chestEventHandler);\n\n    // update(&quot;hello world&quot;);\n    \n  }\n\n  @EventHandler\n  public void postInit(FMLPostInitializationEvent event) {\n    \n  }\n\n  public void update(String value) {\n    update(value, &quot;message&quot;);\n  }\n\n  public void update(String value, String key) {\n      try {\n          DatabaseReference ref = firebaseDatabase.getReference(key);\n          final CountDownLatch latch = new CountDownLatch(1);\n          ref.setValue(value, new DatabaseReference.CompletionListener() {\n              @Override\n              public void onComplete(DatabaseError databaseError, DatabaseReference databaseReference) {\n                  if (databaseError != null) {\n                      System.out.println(&quot;Data could not be saved &quot; + databaseError.getMessage());\n                      latch.countDown();\n                  } else {\n                      System.out.println(&quot;Data saved successfully.&quot;);\n                      latch.countDown();\n                  }\n              }\n          });\n          latch.await();\n      } catch (InterruptedException e) {\n          e.printStackTrace();\n      }\n}\n  \n}\n</code></pre>\n<p>...note that I've commented out the call to the <code>update</code> function, which I'll explain in a moment.</p>\n<p>The code, as is above, builds and runs. I can use the mod in game. However, even though <code>&quot;Test Mod is running!&quot;</code> and <code>[DEFAULT]</code> (printed by the <code>System.out.println(defaultApp.getName());</code> line) are both printed to the console (meaning the mod was properly loaded, and the Firebase dependency is working), neither of the two calls to <code>setValue</code> do <em><strong>anything</strong></em>. Nothing else is printed, and the data in the Realtime Database is not changed or updated.</p>\n<p>If I uncomment the <code>update(&quot;hello world&quot;);</code> line, then it calls the <code>update</code> function, which implements a <code>CountDownLatch</code>, as suggested by many of the other answers I've found on this issue. However, when running the game, it hangs indefinitely on the <code>update(&quot;hello world&quot;);</code> line, until I force quit the game. Again, the data stored in Firebase is not changed or updated (for reference, I've created the <code>&quot;message&quot;</code> ref manually in Firebase, so the database is not completely empty).</p>\n<p>No errors are thrown anywhere. Looking at the database rule monitoring, it seems as though the database never actually receives the requests at all (the database has no allows, denies, or errors reported).</p>\n<p>I have no idea why this is, and any help would be appreciated. If I need to include any other files, let me know!</p>\n<p>Also: I'm using the Java 1.8 JDK (Java 8) for Windows x64, and am using Gradle 4.0 (as Forge for 1.8.9 doesn't play nicely with newer versions).</p>\n"},{"tags":["java","postgresql","hibernate","quarkus","quarkus-panache"],"answers":[{"tags":[],"owner":{"account_id":6366204,"reputation":2197,"user_id":4940126,"display_name":"mark_o"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689688133,"creation_date":1689688133,"answer_id":76713474,"question_id":76706594,"body_markdown":"I&#39;d highly recommend checking out this migration guide https://github.com/quarkusio/quarkus/wiki/Migration-Guide-3.0:-Hibernate-ORM-5-to-6-migration\r\n\r\nThe issue you are encountering most likely comes from [this particular change][1], where the default increment size changed from 1 to 50.\r\n\r\nYou could try explicitly setting the increment size back to 1 and see if that helps.\r\n\r\n  [1]: https://github.com/quarkusio/quarkus/wiki/Migration-Guide-3.0:-Hibernate-ORM-5-to-6-migration#sequence-increment-size","title":"Issues with Sequence Synchronization and Duplicate Key Violation after migration to v3.2.0.Final","body":"<p>I'd highly recommend checking out this migration guide <a href=\"https://github.com/quarkusio/quarkus/wiki/Migration-Guide-3.0:-Hibernate-ORM-5-to-6-migration\" rel=\"nofollow noreferrer\">https://github.com/quarkusio/quarkus/wiki/Migration-Guide-3.0:-Hibernate-ORM-5-to-6-migration</a></p>\n<p>The issue you are encountering most likely comes from <a href=\"https://github.com/quarkusio/quarkus/wiki/Migration-Guide-3.0:-Hibernate-ORM-5-to-6-migration#sequence-increment-size\" rel=\"nofollow noreferrer\">this particular change</a>, where the default increment size changed from 1 to 50.</p>\n<p>You could try explicitly setting the increment size back to 1 and see if that helps.</p>\n"},{"tags":[],"owner":{"account_id":8974783,"reputation":9445,"user_id":6692043,"display_name":"yrodiere"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690989731,"creation_date":1690989731,"answer_id":76821363,"question_id":76706594,"body_markdown":"You should set the increment size of your sequence to 50.\r\n\r\nSee https://github.com/quarkusio/quarkus/wiki/Migration-Guide-3.0:-Hibernate-ORM-5-to-6-migration#sequence-increment-size :\r\n\r\n&gt; Use DDL (SQL such as `alter sequence []`) to set the increment size of your sequences to the right value, i.e. to the allocation size of your identifier generators, which defaults to 50 since Hibernate ORM 6.","title":"Issues with Sequence Synchronization and Duplicate Key Violation after migration to v3.2.0.Final","body":"<p>You should set the increment size of your sequence to 50.</p>\n<p>See <a href=\"https://github.com/quarkusio/quarkus/wiki/Migration-Guide-3.0:-Hibernate-ORM-5-to-6-migration#sequence-increment-size\" rel=\"nofollow noreferrer\">https://github.com/quarkusio/quarkus/wiki/Migration-Guide-3.0:-Hibernate-ORM-5-to-6-migration#sequence-increment-size</a> :</p>\n<blockquote>\n<p>Use DDL (SQL such as <code>alter sequence []</code>) to set the increment size of your sequences to the right value, i.e. to the allocation size of your identifier generators, which defaults to 50 since Hibernate ORM 6.</p>\n</blockquote>\n"}],"owner":{"account_id":1580764,"reputation":593,"user_id":1466201,"accept_rate":0,"display_name":"Fortran"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":369,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1690989731,"creation_date":1689612735,"question_id":76706594,"body_markdown":"Recently, I migrated a service from Quarkus 2.7 to the latest version, 3.2.0.Final. The migration process went smoothly, and the project builds successfully. However, I encountered a problem when attempting to write data to a PostgreSQL database.\r\nnitially, I faced the error:\r\n\r\n    Caused by: org.postgresql.util.PSQLException: ERROR: relation &quot;public.revinfo_seq&quot; does not exist\r\n      Position: 16\r\n                    at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675)\r\n                    at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2365)\r\n                    at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355)\r\n                    at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490)\r\n                    at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408)\r\n                    at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:166)\r\n                    at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:118)\r\n                    at io.agroal.pool.wrapper.PreparedStatementWrapper.executeQuery(PreparedStatementWrapper.java:78)\r\n                    at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:\r\n\r\n\r\nTo resolve this, I renamed the current sequence from `info_rev_seq` to `revinfo_seq`  since Hibernate 6 introduced a change in sequence naming strategy https://jpa-buddy.com/blog/hibernate6-whats-new-and-why-its-important/\r\n\r\nAfter fixing the sequence name, the above problem was resolved. However, I discovered another issue that emerged after some time.\r\n\r\nI encountered the following error:\r\n\r\n    org.hibernate.exception.ConstraintViolationException: could not execute statement [ERROR: duplicate key value violates unique constraint &quot;pk_revinfo&quot;\r\n    Detail: Key (rev)=(60) already exists.] [insert into public.REVINFO (REVTSTMP,REV) values (?,?)]\r\n      at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:95)\r\n      at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)\r\n      at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)\r\n      at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:278)\r\n      at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.performNonBatchedMutation(AbstractMutationExecutor.java:108)\r\n      at org.hibernate.engine.jdbc.mutation.internal.MutationExecutorSingleNonBatched.performNonBatchedOperations(MutationExecutorSingleNonBatched.java:40)\r\n      at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:53)\r\n      at org.hibernate.persister.entity.mutation.InsertCoordinator.doStaticInserts(InsertCoordinator.java:170)\r\n      at org.hibernate.persister.entity.mutation.InsertCoordinator.coordinateInsert(InsertCoordinator.java:112)\r\n      at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:2761)\r\n      at org.hibernate.action.internal.EntityInsertAction.execute(EntityInsertAction.java:102)\r\n      at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:606)\r\n      at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:475)\r\n      at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:358)\r\n      at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39)\r\n      at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)\r\n      ...\r\n      Caused by: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint &quot;pk_revinfo&quot;\r\n      Detail: Key (rev)=(60) already exists.\r\n\r\n\r\nThe structure of the `revinfo` table is as follows:\r\n  \r\n\r\n    create table revinfo\r\n    (\r\n        rev      bigserial,\r\n        revtstmp bigint\r\n    );\r\n    \r\n    alter table revinfo\r\n        add constraint pk_revinfo\r\n            primary key (rev);\r\n\r\n\r\nUpon investigation, it became apparent that the sequence was becoming out of sync. For example, the `revinfo` table contained **54 rows**, but the `sequence` had a value of **23**. I manually fixed the sequence to align with the correct value, but it eventually became out of sync again.\r\n\r\nThe issue seems to be related to sequence synchronization. Although the specific cause is yet to be determined, factors such as transaction rollbacks, concurrent operations, or improper sequence management might be contributing to the problem.\r\n\r\nI suspect that the migration to `Quarkus 3.2.0.Final` might have influenced the behavior, as the sequence synchronization was working correctly before the migration.\r\n\r\nI am also using Hibernate Envers for auditing my tables, including the `revinfo` table. However, since the issue arises even without any reference to the `revinfo` table in my primary tables, it seems that the problem lies in the sequence synchronization rather than the auditing itself.\r\n\r\nHas anyone encountered a similar problem and could provide advice on solving the issue and identifying its root cause? \r\nYour insights and suggestions would be greatly appreciated in resolving the sequence synchronization problem mentioned above. \r\n\r\nPlease feel free to share any experiences or recommendations that could help in troubleshooting and resolving the issue effectively. \r\nThank you in advance for your assistance\r\n\r\nP.S. The database being used is PostgreSQL","title":"Issues with Sequence Synchronization and Duplicate Key Violation after migration to v3.2.0.Final","body":"<p>Recently, I migrated a service from Quarkus 2.7 to the latest version, 3.2.0.Final. The migration process went smoothly, and the project builds successfully. However, I encountered a problem when attempting to write data to a PostgreSQL database.\nnitially, I faced the error:</p>\n<pre><code>Caused by: org.postgresql.util.PSQLException: ERROR: relation &quot;public.revinfo_seq&quot; does not exist\n  Position: 16\n                at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675)\n                at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2365)\n                at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355)\n                at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490)\n                at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408)\n                at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:166)\n                at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:118)\n                at io.agroal.pool.wrapper.PreparedStatementWrapper.executeQuery(PreparedStatementWrapper.java:78)\n                at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:\n</code></pre>\n<p>To resolve this, I renamed the current sequence from <code>info_rev_seq</code> to <code>revinfo_seq</code>  since Hibernate 6 introduced a change in sequence naming strategy <a href=\"https://jpa-buddy.com/blog/hibernate6-whats-new-and-why-its-important/\" rel=\"nofollow noreferrer\">https://jpa-buddy.com/blog/hibernate6-whats-new-and-why-its-important/</a></p>\n<p>After fixing the sequence name, the above problem was resolved. However, I discovered another issue that emerged after some time.</p>\n<p>I encountered the following error:</p>\n<pre><code>org.hibernate.exception.ConstraintViolationException: could not execute statement [ERROR: duplicate key value violates unique constraint &quot;pk_revinfo&quot;\nDetail: Key (rev)=(60) already exists.] [insert into public.REVINFO (REVTSTMP,REV) values (?,?)]\n  at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:95)\n  at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)\n  at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)\n  at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:278)\n  at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.performNonBatchedMutation(AbstractMutationExecutor.java:108)\n  at org.hibernate.engine.jdbc.mutation.internal.MutationExecutorSingleNonBatched.performNonBatchedOperations(MutationExecutorSingleNonBatched.java:40)\n  at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:53)\n  at org.hibernate.persister.entity.mutation.InsertCoordinator.doStaticInserts(InsertCoordinator.java:170)\n  at org.hibernate.persister.entity.mutation.InsertCoordinator.coordinateInsert(InsertCoordinator.java:112)\n  at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:2761)\n  at org.hibernate.action.internal.EntityInsertAction.execute(EntityInsertAction.java:102)\n  at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:606)\n  at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:475)\n  at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:358)\n  at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39)\n  at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)\n  ...\n  Caused by: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint &quot;pk_revinfo&quot;\n  Detail: Key (rev)=(60) already exists.\n</code></pre>\n<p>The structure of the <code>revinfo</code> table is as follows:</p>\n<pre><code>create table revinfo\n(\n    rev      bigserial,\n    revtstmp bigint\n);\n\nalter table revinfo\n    add constraint pk_revinfo\n        primary key (rev);\n</code></pre>\n<p>Upon investigation, it became apparent that the sequence was becoming out of sync. For example, the <code>revinfo</code> table contained <strong>54 rows</strong>, but the <code>sequence</code> had a value of <strong>23</strong>. I manually fixed the sequence to align with the correct value, but it eventually became out of sync again.</p>\n<p>The issue seems to be related to sequence synchronization. Although the specific cause is yet to be determined, factors such as transaction rollbacks, concurrent operations, or improper sequence management might be contributing to the problem.</p>\n<p>I suspect that the migration to <code>Quarkus 3.2.0.Final</code> might have influenced the behavior, as the sequence synchronization was working correctly before the migration.</p>\n<p>I am also using Hibernate Envers for auditing my tables, including the <code>revinfo</code> table. However, since the issue arises even without any reference to the <code>revinfo</code> table in my primary tables, it seems that the problem lies in the sequence synchronization rather than the auditing itself.</p>\n<p>Has anyone encountered a similar problem and could provide advice on solving the issue and identifying its root cause?\nYour insights and suggestions would be greatly appreciated in resolving the sequence synchronization problem mentioned above.</p>\n<p>Please feel free to share any experiences or recommendations that could help in troubleshooting and resolving the issue effectively.\nThank you in advance for your assistance</p>\n<p>P.S. The database being used is PostgreSQL</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":4739783,"reputation":612574,"user_id":3832970,"display_name":"Wiktor Stribiew"},"score":0,"creation_date":1690448200,"post_id":76778068,"comment_id":135356191,"body_markdown":"Why did you escape character class `[` and `]` chars?","body":"Why did you escape character class <code>[</code> and <code>]</code> chars?"}],"answers":[{"tags":[],"owner":{"account_id":29101650,"reputation":1,"user_id":22293349,"display_name":"user22293349"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1690988848,"creation_date":1690448412,"answer_id":76778125,"question_id":76778068,"body_markdown":"This worked:\r\n\r\n```regex\r\n&#39;^[a-zA-Z0-9\\u00C0-\\u024F\\u1E00-\\u1EFF\\@\\/\\-\\s]+$&#39;\r\n```","title":"Regex to allow specific and special characters","body":"<p>This worked:</p>\n<pre><code>'^[a-zA-Z0-9\\u00C0-\\u024F\\u1E00-\\u1EFF\\@\\/\\-\\s]+$'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11122988,"reputation":473,"user_id":8165349,"display_name":"Paul Pazderski"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1690448512,"creation_date":1690448512,"answer_id":76778135,"question_id":76778068,"body_markdown":"    ^[-@/ a-zA-Z0-9\\u00C0-\\u024F\\u1E00-\\u1EFF]+$&#39;\r\n\r\nA `-` is best added first in a character class to ensure it is not interpreted as range. For the other missing characters simply add them.\r\n\r\nAlso note that your ranges `\\u00C0-\\u024F` and `\\u1E00-\\u1EFF` add a lot more than just &#224;&#232;&#236;&#242;&#249;&#192;&#200;&#204;&#210;&#217;&#225;&#233;&#237;&#243;&#250;&#253;&#193;&#201;&#205;&#211;&#218;&#221;&#226;&#234;&#238;&#244;&#251;&#194;&#202;&#206;&#212;&#219;&#227;&#241;&#245;&#195;&#209;&#213;&#228;&#235;&#239;&#246;&#252;&#255;&#196;&#203;&#207;&#214;&#220; (and ranges can be a bit unreliable with different locals; might be best to explicit add all wanted characters)\r\n\r\nAnd to match &quot;between words&quot; you probably want `\\b[...]\\b` instead of `^[...]$` which matches the entire input.","title":"Regex to allow specific and special characters","body":"<pre><code>^[-@/ a-zA-Z0-9\\u00C0-\\u024F\\u1E00-\\u1EFF]+$'\n</code></pre>\n<p>A <code>-</code> is best added first in a character class to ensure it is not interpreted as range. For the other missing characters simply add them.</p>\n<p>Also note that your ranges <code>\\u00C0-\\u024F</code> and <code>\\u1E00-\\u1EFF</code> add a lot more than just  (and ranges can be a bit unreliable with different locals; might be best to explicit add all wanted characters)</p>\n<p>And to match &quot;between words&quot; you probably want <code>\\b[...]\\b</code> instead of <code>^[...]$</code> which matches the entire input.</p>\n"}],"owner":{"account_id":29101650,"reputation":1,"user_id":22293349,"display_name":"user22293349"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1690988848,"creation_date":1690447922,"question_id":76778068,"body_markdown":"I need to create a regex in java that allows the following:\r\n\r\nCharacters a-z, A-Z and &#224;&#232;&#236;&#242;&#249;&#192;&#200;&#204;&#210;&#217;&#225;&#233;&#237;&#243;&#250;&#253;&#193;&#201;&#205;&#211;&#218;&#221;&#226;&#234;&#238;&#244;&#251;&#194;&#202;&#206;&#212;&#219;&#227;&#241;&#245;&#195;&#209;&#213;&#228;&#235;&#239;&#246;&#252;&#255;&#196;&#203;&#207;&#214;&#220;\r\nNumbers 0-9\r\nSpecial characters: @ - /\r\nSpaces between words\r\n\r\nCurrently I have this: &#39;^\\[a-zA-Z0-9\\\\u00C0-\\\\u024F\\\\u1E00-\\\\u1EFF\\]+$&#39;\r\nwhich allows: a-z, A-Z, 0-9 and &#224;&#232;&#236;&#242;&#249;&#192;&#200;&#204;&#210;&#217;&#225;&#233;&#237;&#243;&#250;&#253;&#193;&#201;&#205;&#211;&#218;&#221;&#226;&#234;&#238;&#244;&#251;&#194;&#202;&#206;&#212;&#219;&#227;&#241;&#245;&#195;&#209;&#213;&#228;&#235;&#239;&#246;&#252;&#255;&#196;&#203;&#207;&#214;&#220; - but does not allow spaces or the characters @ - /\r\nI cannot figure out a regex that includes all of this, please help\r\n\r\nI tried the following other regex variations:\r\n\r\n    &#39;^\\[a-zA-Z0-9!/-\\\\u00C0-\\\\u024F\\\\u1E00-\\\\u1EFF\\]+$&#39;\r\n    &#39;^\\[a-zA-Z0-9\\\\w+\\\\u00C0-\\\\u024F\\\\u1E00-\\\\u1EFF\\]+$&#39;\r\n    &#39;^\\[a-zA-Z0-9\\\\w+@/-\\\\u00C0-\\\\u024F\\\\u1E00-\\\\u1EFF\\]+$&#39;","title":"Regex to allow specific and special characters","body":"<p>I need to create a regex in java that allows the following:</p>\n<p>Characters a-z, A-Z and \nNumbers 0-9\nSpecial characters: @ - /\nSpaces between words</p>\n<p>Currently I have this: '^[a-zA-Z0-9\\u00C0-\\u024F\\u1E00-\\u1EFF]+$'\nwhich allows: a-z, A-Z, 0-9 and  - but does not allow spaces or the characters @ - /\nI cannot figure out a regex that includes all of this, please help</p>\n<p>I tried the following other regex variations:</p>\n<pre><code>'^\\[a-zA-Z0-9!/-\\\\u00C0-\\\\u024F\\\\u1E00-\\\\u1EFF\\]+$'\n'^\\[a-zA-Z0-9\\\\w+\\\\u00C0-\\\\u024F\\\\u1E00-\\\\u1EFF\\]+$'\n'^\\[a-zA-Z0-9\\\\w+@/-\\\\u00C0-\\\\u024F\\\\u1E00-\\\\u1EFF\\]+$'\n</code></pre>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":3065312,"reputation":6928,"user_id":2597143,"accept_rate":83,"display_name":"ESala"},"score":2,"creation_date":1510928994,"post_id":47352902,"comment_id":81657978,"body_markdown":"If you do it with setters, then they can&#39;t be final.","body":"If you do it with setters, then they can&#39;t be final."},{"owner":{"account_id":255184,"reputation":7191,"user_id":535060,"accept_rate":94,"display_name":"Somaiah Kumbera"},"score":0,"creation_date":1510930223,"post_id":47352902,"comment_id":81658797,"body_markdown":"Good point - I tried that and forgot that that wasnt an option ;)","body":"Good point - I tried that and forgot that that wasnt an option ;)"},{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":3,"creation_date":1510930269,"post_id":47352902,"comment_id":81658834,"body_markdown":"Use Lombok to generate the constructor for you?","body":"Use Lombok to generate the constructor for you?"},{"owner":{"account_id":2647922,"reputation":1409,"user_id":2290251,"accept_rate":89,"display_name":"Javier Alvarez"},"score":0,"creation_date":1510930291,"post_id":47352902,"comment_id":81658850,"body_markdown":"I don&#39;t understand the problem. You want to change to constructor injection but without constructor? If the problem is only about code appealing, you can use Lombok @RequiredArgsConstructor annotation  https://projectlombok.org/features/constructor","body":"I don&#39;t understand the problem. You want to change to constructor injection but without constructor? If the problem is only about code appealing, you can use Lombok @RequiredArgsConstructor annotation  <a href=\"https://projectlombok.org/features/constructor\" rel=\"nofollow noreferrer\">projectlombok.org/features/constructor</a>"},{"owner":{"account_id":255184,"reputation":7191,"user_id":535060,"accept_rate":94,"display_name":"Somaiah Kumbera"},"score":0,"creation_date":1510930385,"post_id":47352902,"comment_id":81658927,"body_markdown":"@WinterN no I want to use a constructor - but having so many args is a little unwieldy.","body":"@WinterN no I want to use a constructor - but having so many args is a little unwieldy."},{"owner":{"account_id":255184,"reputation":7191,"user_id":535060,"accept_rate":94,"display_name":"Somaiah Kumbera"},"score":0,"creation_date":1511100945,"post_id":47352902,"comment_id":81707687,"body_markdown":"@chrylis Thanks for the tip about constructor injections with lombok. I found a useful guide here: http://www.baeldung.com/spring-injection-lombok. If you post an answer, I&#39;ll accept it.","body":"@chrylis Thanks for the tip about constructor injections with lombok. I found a useful guide here: <a href=\"http://www.baeldung.com/spring-injection-lombok\" rel=\"nofollow noreferrer\">baeldung.com/spring-injection-lombok</a>. If you post an answer, I&#39;ll accept it."}],"answers":[{"tags":[],"owner":{"account_id":8781643,"reputation":25950,"user_id":6565093,"accept_rate":47,"display_name":"pvpkiran"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1510930506,"creation_date":1510929131,"answer_id":47353026,"question_id":47352902,"body_markdown":"Firstly, there is no alternative.   \r\nSecondly, if a contructor has 8 parameters, it is not designed  properly. I think you should rethink about the class structure and responsibility. Consider splitting the class into two or three separate beans and inject those.  \r\n\r\nIf a constructor has 8 arguments, in most cases it will be vioalating SRP(Single Responsibility principle)","title":"Spring constructor injection with lots of fields","body":"<p>Firstly, there is no alternative.<br>\nSecondly, if a contructor has 8 parameters, it is not designed  properly. I think you should rethink about the class structure and responsibility. Consider splitting the class into two or three separate beans and inject those.  </p>\n\n<p>If a constructor has 8 arguments, in most cases it will be vioalating SRP(Single Responsibility principle)</p>\n"},{"tags":[],"owner":{"account_id":8046768,"reputation":545,"user_id":6066756,"display_name":"Amr Alaa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1510934326,"creation_date":1510934326,"answer_id":47354608,"question_id":47352902,"body_markdown":"First of all you can set the initial values of these parameters in an .properties file and then read this property file as a pojo configuration class and it is very easy in spring to convert .properties file into pojo.\r\n\r\nso the constructor will be something like this\r\n\r\n@Autowired\r\npublic Temp(ConfigPojoClass config) {\r\n.....\r\n}","title":"Spring constructor injection with lots of fields","body":"<p>First of all you can set the initial values of these parameters in an .properties file and then read this property file as a pojo configuration class and it is very easy in spring to convert .properties file into pojo.</p>\n\n<p>so the constructor will be something like this</p>\n\n<p>@Autowired\npublic Temp(ConfigPojoClass config) {\n.....\n}</p>\n"},{"tags":[],"owner":{"account_id":95983,"reputation":1408,"user_id":261123,"accept_rate":86,"display_name":"boardtc"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690988788,"creation_date":1690988788,"answer_id":76821233,"question_id":47352902,"body_markdown":"There is an option if you are happy to introduce Project Lombok. Given the following class:\r\n\r\n    @Component\r\n    @RequiredArgsConstructor\r\n    public class ThankingService {\r\n\r\n        private final Translator translator;\r\n\r\n        public String produce() {\r\n            return translator.translate(&quot;thank you&quot;);\r\n        }\r\n   }\r\n\r\nThe Lombok annotation @RequiredArgsConstructor will cause Lombok to generate a constructor, this happens if there is 1 data variable or 10, etc.\r\n\r\n    @Component\r\n    public class ThankingService {\r\n\r\n        private final Translator translator;\r\n\r\n        public String thank() {\r\n            return translator.translate(&quot;thank you&quot;);\r\n        }\r\n\r\n        /* Generated by Lombok */\r\n        public ThankingService(Translator translator) {\r\n            this.translator = translator;\r\n        }\r\n    }\r\n\r\nMore info: https://www.baeldung.com/spring-injection-lombok","title":"Spring constructor injection with lots of fields","body":"<p>There is an option if you are happy to introduce Project Lombok. Given the following class:</p>\n<pre><code>@Component\n@RequiredArgsConstructor\npublic class ThankingService {\n\n    private final Translator translator;\n\n    public String produce() {\n        return translator.translate(&quot;thank you&quot;);\n    }\n</code></pre>\n<p>}</p>\n<p>The Lombok annotation @RequiredArgsConstructor will cause Lombok to generate a constructor, this happens if there is 1 data variable or 10, etc.</p>\n<pre><code>@Component\npublic class ThankingService {\n\n    private final Translator translator;\n\n    public String thank() {\n        return translator.translate(&quot;thank you&quot;);\n    }\n\n    /* Generated by Lombok */\n    public ThankingService(Translator translator) {\n        this.translator = translator;\n    }\n}\n</code></pre>\n<p>More info: <a href=\"https://www.baeldung.com/spring-injection-lombok\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-injection-lombok</a></p>\n"}],"owner":{"account_id":255184,"reputation":7191,"user_id":535060,"accept_rate":94,"display_name":"Somaiah Kumbera"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2707,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":47353026,"answer_count":3,"score":4,"last_activity_date":1690988788,"creation_date":1510928779,"question_id":47352902,"body_markdown":"I have a Spring component that has 8 members.\r\n\r\nI am currently autowiring these 8 members with field injection.\r\n\r\nI now want make these members private final, and do constructor injection to set them. \r\n\r\nThis is easy enough to do, but now I have a component constructor with 8 parameters. \r\n\r\nI know I can use setter injection and set these values in an XML file, but this I don&#39;t want to do. \r\n\r\nAre there any other alternatives?\r\n\r\nEDIT: \r\n\r\nThis component just does a single thing. But that involves calling several other services. Hence the 8 injections","title":"Spring constructor injection with lots of fields","body":"<p>I have a Spring component that has 8 members.</p>\n\n<p>I am currently autowiring these 8 members with field injection.</p>\n\n<p>I now want make these members private final, and do constructor injection to set them. </p>\n\n<p>This is easy enough to do, but now I have a component constructor with 8 parameters. </p>\n\n<p>I know I can use setter injection and set these values in an XML file, but this I don't want to do. </p>\n\n<p>Are there any other alternatives?</p>\n\n<p>EDIT: </p>\n\n<p>This component just does a single thing. But that involves calling several other services. Hence the 8 injections</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1690989426,"post_id":76821227,"comment_id":135430502,"body_markdown":"If project A depends on project B as a dependency and Project B depends itself on A, what would be the correct build order? If you want to build A it requires you to have build B first, and building B would require you to build A first. In very layman terms it is the old &quot;Chicken-egg-problem&quot;","body":"If project A depends on project B as a dependency and Project B depends itself on A, what would be the correct build order? If you want to build A it requires you to have build B first, and building B would require you to build A first. In very layman terms it is the old &quot;Chicken-egg-problem&quot;"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":2,"creation_date":1690990032,"post_id":76821227,"comment_id":135430648,"body_markdown":"Circular dependencies form a serious technical debt, see [Baeldung](https://www.baeldung.com/circular-dependencies-in-spring). Indirections, uncoupling, facades, APIs and other solutions can be found. You will need to dive into some solutions inside your team.","body":"Circular dependencies form a serious technical debt, see <a href=\"https://www.baeldung.com/circular-dependencies-in-spring\" rel=\"nofollow noreferrer\">Baeldung</a>. Indirections, uncoupling, facades, APIs and other solutions can be found. You will need to dive into some solutions inside your team."},{"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1690990679,"post_id":76821227,"comment_id":135430801,"body_markdown":"@OHGODSPIDERS In the case of Spring it is bean A depending on bean B depending on bean A. The way to solve that is with proxies or setter injection, but both have their downsides.","body":"@OHGODSPIDERS In the case of Spring it is bean A depending on bean B depending on bean A. The way to solve that is with proxies or setter injection, but both have their downsides."},{"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1690991015,"post_id":76821227,"comment_id":135430875,"body_markdown":"It is not so much a &quot;risk&quot;, but that some normal cases of creating beans will not work, and the &quot;work arounds&quot; (setter injection or lazy initialization), make some forms of initialization harder (e.g. not only in the constructor, but also in the setter), or introduce overhead (e.g. the proxy used for lazy initialization), and/or makes it harder (or impossible) to create immutable beans (e.g. because of the setter).","body":"It is not so much a &quot;risk&quot;, but that some normal cases of creating beans will not work, and the &quot;work arounds&quot; (setter injection or lazy initialization), make some forms of initialization harder (e.g. not only in the constructor, but also in the setter), or introduce overhead (e.g. the proxy used for lazy initialization), and/or makes it harder (or impossible) to create immutable beans (e.g. because of the setter)."},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1690993252,"post_id":76821227,"comment_id":135431356,"body_markdown":"circular dependencies are unavoidable in large projects, especially in configuration classes. Internally spring(-boot) resolves that via `*Aware` beans and `ObjectProvider`, which, IMO, is even poorer than allowing circular dependencies, `spring-security` has another square wheel (`ObjectPostProcessor` and `HttpSecurityBuilder`), which neither looks robust. That is kind of situation when treatment is worse than disease.","body":"circular dependencies are unavoidable in large projects, especially in configuration classes. Internally spring(-boot) resolves that via <code>*Aware</code> beans and <code>ObjectProvider</code>, which, IMO, is even poorer than allowing circular dependencies, <code>spring-security</code> has another square wheel (<code>ObjectPostProcessor</code> and <code>HttpSecurityBuilder</code>), which neither looks robust. That is kind of situation when treatment is worse than disease."}],"owner":{"account_id":6284,"reputation":14589,"user_id":10508,"accept_rate":53,"display_name":"David M. Karr"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1690988743,"creation_date":1690988743,"question_id":76821227,"body_markdown":"I certainly know that allowing a Spring context to have circular dependencies is discouraged.  I remove them if I discover them in my own code, and we tell developers we work with to do that.  However, they still have the workaround of setting `spring.main.allow-circular-references=true`.\r\n\r\nIt doesn&#39;t do any good to tell developers it is &quot;discouraged&quot;, when they can clearly see that they simply have to set that property to fix the problem.\r\n\r\nWhat are the actual risks or problems with forcing Spring to allow circular dependencies?","title":"What are the actual risks from forcing Spring to allow circular dependencies?","body":"<p>I certainly know that allowing a Spring context to have circular dependencies is discouraged.  I remove them if I discover them in my own code, and we tell developers we work with to do that.  However, they still have the workaround of setting <code>spring.main.allow-circular-references=true</code>.</p>\n<p>It doesn't do any good to tell developers it is &quot;discouraged&quot;, when they can clearly see that they simply have to set that property to fix the problem.</p>\n<p>What are the actual risks or problems with forcing Spring to allow circular dependencies?</p>\n"},{"tags":["java","spring-boot","caffeine-cache"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1690976581,"post_id":76817520,"comment_id":135427212,"body_markdown":"What are the values? How big is each value? What is `CompressingCaffeineManager` (this class doesn&#39;t seem to exist in the official sources)? Why do you think that compressing the values will improve performance, 30k are not that many elements?","body":"What are the values? How big is each value? What is <code>CompressingCaffeineManager</code> (this class doesn&#39;t seem to exist in the official sources)? Why do you think that compressing the values will improve performance, 30k are not that many elements?"},{"owner":{"account_id":8792043,"reputation":460,"user_id":6571471,"accept_rate":38,"display_name":"manjosh"},"score":0,"creation_date":1690988839,"post_id":76817520,"comment_id":135430358,"body_markdown":"I have corrected my code. the value is a custom object. it has around 10 fields. Just thought to compress it so that it won&#39;t cause any memory issues later.","body":"I have corrected my code. the value is a custom object. it has around 10 fields. Just thought to compress it so that it won&#39;t cause any memory issues later."}],"owner":{"account_id":8792043,"reputation":460,"user_id":6571471,"accept_rate":38,"display_name":"manjosh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690988667,"creation_date":1690961261,"question_id":76817520,"body_markdown":"I have implemented a caffeine cache in spring boot. This cache holds up to 30k elements. This affects the performance. Hence I want to implement compression on the values it stores. Please advise.\r\n\r\nhere is my config class:\r\n\r\n    @Configuration\r\n    @EnableCaching\r\n    public class CachingConfig {\r\n    @Bean\r\n    public CacheManager cacheManager() {\r\n        CaffeineCacheManager cacheManager = new CaffeineCacheManager();\r\n        cacheManager.setCaffeine(Caffeine.newBuilder().expireAfterWrite(10, TimeUnit.MINUTES) // Set the expiration time\r\n                .maximumSize(30000).recordStats());\r\n        cacheManager.setCacheNames(Collections.singletonList(&quot;my_cache&quot;));\r\n\r\n        return cacheManager;\r\n    }\r\n    }\r\n\r\n","title":"Implement compression in caffeineCache springboot","body":"<p>I have implemented a caffeine cache in spring boot. This cache holds up to 30k elements. This affects the performance. Hence I want to implement compression on the values it stores. Please advise.</p>\n<p>here is my config class:</p>\n<pre><code>@Configuration\n@EnableCaching\npublic class CachingConfig {\n@Bean\npublic CacheManager cacheManager() {\n    CaffeineCacheManager cacheManager = new CaffeineCacheManager();\n    cacheManager.setCaffeine(Caffeine.newBuilder().expireAfterWrite(10, TimeUnit.MINUTES) // Set the expiration time\n            .maximumSize(30000).recordStats());\n    cacheManager.setCacheNames(Collections.singletonList(&quot;my_cache&quot;));\n\n    return cacheManager;\n}\n}\n</code></pre>\n"},{"tags":["java","cryptography"],"comments":[{"owner":{"account_id":357343,"reputation":54520,"user_id":697449,"accept_rate":82,"display_name":"Paul Bellora"},"score":2,"creation_date":1336662596,"post_id":10536930,"comment_id":13631379,"body_markdown":"Please explain what you&#39;ve tried.","body":"Please explain what you&#39;ve tried."},{"owner":{"account_id":943268,"reputation":221,"user_id":970986,"accept_rate":50,"display_name":"RyanSoper"},"score":1,"creation_date":1336662701,"post_id":10536930,"comment_id":13631430,"body_markdown":"Haven&#39;t tried, rather read, Generating a key and then converting to bytes. But I can&#39;t find any clear instructions on how I would go about doing even this, the examples are always doing way more than I need.","body":"Haven&#39;t tried, rather read, Generating a key and then converting to bytes. But I can&#39;t find any clear instructions on how I would go about doing even this, the examples are always doing way more than I need."},{"owner":{"account_id":10730,"reputation":118663,"user_id":20394,"accept_rate":73,"display_name":"Mike Samuel"},"score":0,"creation_date":1336663063,"post_id":10536930,"comment_id":13631618,"body_markdown":"Does [`Key.getEncoded()`](http://docs.oracle.com/javase/7/docs/api/java/security/Key.html#getEncoded%28%29) not do what you want?","body":"Does <a href=\"http://docs.oracle.com/javase/7/docs/api/java/security/Key.html#getEncoded%28%29\" rel=\"nofollow noreferrer\"><code>Key.getEncoded()</code></a> not do what you want?"},{"owner":{"account_id":943268,"reputation":221,"user_id":970986,"accept_rate":50,"display_name":"RyanSoper"},"score":1,"creation_date":1336663520,"post_id":10536930,"comment_id":13631861,"body_markdown":"I don&#39;t really understand How i&#39;m meant to use that method, and i can&#39;t find any decent examples.","body":"I don&#39;t really understand How i&#39;m meant to use that method, and i can&#39;t find any decent examples."}],"answers":[{"tags":[],"owner":{"account_id":10730,"reputation":118663,"user_id":20394,"accept_rate":73,"display_name":"Mike Samuel"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1336665041,"creation_date":1336664238,"answer_id":10537499,"question_id":10536930,"body_markdown":"`javax.crypto.SecretKey extends java.security.Key`\r\n\r\n`java.security.Key extends java.io.Serializable`\r\n\r\nSo if you trust the file-system to which you&#39;re storing keys, you can write out a key using `java.io.ObjectOutputStream` and read it in using `java.io.ObjectInputStream`.\r\n\r\n    ObjectOutputStream oout = new ObjectOutputStream(outputStream);\r\n    try {\r\n      oout.writeObject(myKey);\r\n    } finally {\r\n      oout.close();\r\n    }\r\n\r\nand the input looks similar\r\n\r\n    Key key;\r\n    ObjectInputStream oin = new ObjectInputStream(inputStream);\r\n    try {\r\n      key = (Key) oin.readObject();\r\n    } finally {\r\n      oin.close();\r\n    }\r\n\r\nTo generate a key, you need a `KeyFactory` or [`SecretKeyFactory`](http://docs.oracle.com/javase/7/docs/api/javax/crypto/SecretKeyFactory.html) \r\n\r\n    SecretKeyFactory factory = SecretKeyFactory.getInstance(algorithm);\r\n\r\nand then to generate a secret\r\n\r\n    factory.generateSecret(keySpec);\r\n\r\ngiven a key spec that is appropriate to the algorithm.  See the [`KeySpec` javadoc](http://docs.oracle.com/javase/7/docs/api/java/security/spec/KeySpec.html) for pointers to algorithm specific `KeySpec` implementations.\r\n\r\nFor DES, see [`DESKeySpec`](http://docs.oracle.com/javase/7/docs/api/javax/crypto/spec/DESKeySpec.html) though you might want something [more modern](http://en.wikipedia.org/wiki/Cryptography_standards#Encryption_standards).\r\n","title":"Reading and Writing a SecretKey to a file","body":"<p><code>javax.crypto.SecretKey extends java.security.Key</code></p>\n\n<p><code>java.security.Key extends java.io.Serializable</code></p>\n\n<p>So if you trust the file-system to which you're storing keys, you can write out a key using <code>java.io.ObjectOutputStream</code> and read it in using <code>java.io.ObjectInputStream</code>.</p>\n\n<pre><code>ObjectOutputStream oout = new ObjectOutputStream(outputStream);\ntry {\n  oout.writeObject(myKey);\n} finally {\n  oout.close();\n}\n</code></pre>\n\n<p>and the input looks similar</p>\n\n<pre><code>Key key;\nObjectInputStream oin = new ObjectInputStream(inputStream);\ntry {\n  key = (Key) oin.readObject();\n} finally {\n  oin.close();\n}\n</code></pre>\n\n<p>To generate a key, you need a <code>KeyFactory</code> or <a href=\"http://docs.oracle.com/javase/7/docs/api/javax/crypto/SecretKeyFactory.html\" rel=\"noreferrer\"><code>SecretKeyFactory</code></a> </p>\n\n<pre><code>SecretKeyFactory factory = SecretKeyFactory.getInstance(algorithm);\n</code></pre>\n\n<p>and then to generate a secret</p>\n\n<pre><code>factory.generateSecret(keySpec);\n</code></pre>\n\n<p>given a key spec that is appropriate to the algorithm.  See the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/security/spec/KeySpec.html\" rel=\"noreferrer\"><code>KeySpec</code> javadoc</a> for pointers to algorithm specific <code>KeySpec</code> implementations.</p>\n\n<p>For DES, see <a href=\"http://docs.oracle.com/javase/7/docs/api/javax/crypto/spec/DESKeySpec.html\" rel=\"noreferrer\"><code>DESKeySpec</code></a> though you might want something <a href=\"http://en.wikipedia.org/wiki/Cryptography_standards#Encryption_standards\" rel=\"noreferrer\">more modern</a>.</p>\n"},{"tags":[],"owner":{"account_id":155770,"reputation":120153,"user_id":372643,"accept_rate":88,"display_name":"Bruno"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1336664954,"creation_date":1336664954,"answer_id":10537705,"question_id":10536930,"body_markdown":"The most &quot;natural&quot; way to save a `SecretKey` into a file in Java is to use [a `KeyStore`][1]: that&#39;s exactly what it&#39;s for (although you can save certificates too, of course).\r\n\r\nThe [example in the documentation][2] shows how to save a private key and a secret key. It will also encrypt it with a protection parameter (password here).\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/security/KeyStore.html\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/security/KeyStore.html","title":"Reading and Writing a SecretKey to a file","body":"<p>The most \"natural\" way to save a <code>SecretKey</code> into a file in Java is to use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/security/KeyStore.html\" rel=\"noreferrer\">a <code>KeyStore</code></a>: that's exactly what it's for (although you can save certificates too, of course).</p>\n\n<p>The <a href=\"http://docs.oracle.com/javase/7/docs/api/java/security/KeyStore.html\" rel=\"noreferrer\">example in the documentation</a> shows how to save a private key and a secret key. It will also encrypt it with a protection parameter (password here).</p>\n"},{"tags":[],"owner":{"account_id":1017281,"reputation":1537,"user_id":1028560,"accept_rate":83,"display_name":"Sanjeev"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1690988129,"creation_date":1336665064,"answer_id":10537739,"question_id":10536930,"body_markdown":"Not clear on a couple of things: how you&#39;re generating the key, and what format you have the key in.  If you don&#39;t have the key you can use keytool (a utility which comes with jdk) to generate it and put it into a file called a keystore.  You can also use the KeyGenerator class and the KeyStore class to programmatically do the same thing (both are documented pretty well and the [KeyStore javadoc][1] has an example which does exactly what you seem to want.)\r\n\r\nA much less secure but easy way you can generate the key and put it into a text file as clear text.  Then you can just access it using a BufferedReader.  This is less secure because anyone with access to this file will know your key, but it&#39;s a little easier.  \r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/security/KeyStore.html","title":"Reading and Writing a SecretKey to a file","body":"<p>Not clear on a couple of things: how you're generating the key, and what format you have the key in.  If you don't have the key you can use keytool (a utility which comes with jdk) to generate it and put it into a file called a keystore.  You can also use the KeyGenerator class and the KeyStore class to programmatically do the same thing (both are documented pretty well and the <a href=\"http://docs.oracle.com/javase/6/docs/api/java/security/KeyStore.html\" rel=\"nofollow noreferrer\">KeyStore javadoc</a> has an example which does exactly what you seem to want.)</p>\n<p>A much less secure but easy way you can generate the key and put it into a text file as clear text.  Then you can just access it using a BufferedReader.  This is less secure because anyone with access to this file will know your key, but it's a little easier.</p>\n"}],"owner":{"account_id":943268,"reputation":221,"user_id":970986,"accept_rate":50,"display_name":"RyanSoper"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18932,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":10537739,"answer_count":3,"score":8,"last_activity_date":1690988129,"creation_date":1336662427,"question_id":10536930,"body_markdown":"I&#39;m looking to be able to save a DES SecretKey to a file, so you can import and use it later on.\r\nI&#39;ve looked at a few routes, but they all seem a bit long winded, is there no conscise simple way of doing this?","title":"Reading and Writing a SecretKey to a file","body":"<p>I'm looking to be able to save a DES SecretKey to a file, so you can import and use it later on.\nI've looked at a few routes, but they all seem a bit long winded, is there no conscise simple way of doing this?</p>\n"},{"tags":["java","spring","spring-webclient"],"answers":[{"tags":[],"owner":{"account_id":129956,"reputation":3578,"user_id":328883,"accept_rate":100,"display_name":"olan"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1585835890,"creation_date":1585835890,"answer_id":60993313,"question_id":55921619,"body_markdown":"This likely wasn&#39;t the case when the question was answered, but since Spring 5.2, `ClientResponse` has a `createException()` method that will build and return a `Mono&lt;WebClientResponseException&gt;`.\r\n\r\n```\r\nclientResponse.createException()\r\n\t\t\t  .flatMap(e -&gt; handleException(e))\r\n    \r\n```\r\n\r\nhttps://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/reactive/function/client/ClientResponse.html#createException--\r\n\r\nhttps://github.com/spring-projects/spring-framework/commit/b4207823afa0f48e06d6bbfe9ae8821e389e380f","title":"How to throw WebClientResponseException when using exchange() with Spring WebClient","body":"<p>This likely wasn't the case when the question was answered, but since Spring 5.2, <code>ClientResponse</code> has a <code>createException()</code> method that will build and return a <code>Mono&lt;WebClientResponseException&gt;</code>.</p>\n\n<pre><code>clientResponse.createException()\n              .flatMap(e -&gt; handleException(e))\n\n</code></pre>\n\n<p><a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/reactive/function/client/ClientResponse.html#createException--\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/reactive/function/client/ClientResponse.html#createException--</a></p>\n\n<p><a href=\"https://github.com/spring-projects/spring-framework/commit/b4207823afa0f48e06d6bbfe9ae8821e389e380f\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-framework/commit/b4207823afa0f48e06d6bbfe9ae8821e389e380f</a></p>\n"},{"tags":[],"owner":{"account_id":20280572,"reputation":51,"user_id":14874450,"display_name":"Arthur Met"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1690988101,"creation_date":1690988101,"answer_id":76821137,"question_id":55921619,"body_markdown":"I faced a considerable struggle with this one as well.  \r\n\r\nMy solution draws inspiration from the approach by @olan, but my aim was to employ identical error handling to that of the retrieve() method. Unfortunately, the guidance provided in the [Spring Docs][1] do not work. I had to resort to using flatmap(Mono::error) as elaborated [here][2].\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    return webClient\r\n      .get()\r\n      .uri(\r\n        // do stuff\r\n      )\r\n      .headers(\r\n        // do stuff \r\n      )\r\n      .exchangeToMono(\r\n        response - &gt; {\r\n          if (response.statusCode().equals(HttpStatus.OK)) {\r\n            return response.toEntity(JsonNode.class);\r\n          } else {\r\n            return response.createException().flatMap(Mono::error);\r\n          }\r\n        })\r\n      .doOnNext(\r\n        res - &gt;\r\n        // do stuff\r\n        .block();\r\n      }\r\n    catch (WebClientResponseException e) {\r\n      throw new CustomError(e);\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nI&#39;m utilizing Spring 5.3.3.  \r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/5.3.3/javadoc-api/org/springframework/web/reactive/function/client/WebClient.RequestHeadersSpec.html#exchangeToMono-java.util.function.Function-\r\n  [2]: https://github.com/spring-projects/spring-framework/issues/27637#issuecomment-982839471","title":"How to throw WebClientResponseException when using exchange() with Spring WebClient","body":"<p>I faced a considerable struggle with this one as well.</p>\n<p>My solution draws inspiration from the approach by @olan, but my aim was to employ identical error handling to that of the retrieve() method. Unfortunately, the guidance provided in the <a href=\"https://docs.spring.io/spring-framework/docs/5.3.3/javadoc-api/org/springframework/web/reactive/function/client/WebClient.RequestHeadersSpec.html#exchangeToMono-java.util.function.Function-\" rel=\"nofollow noreferrer\">Spring Docs</a> do not work. I had to resort to using flatmap(Mono::error) as elaborated <a href=\"https://github.com/spring-projects/spring-framework/issues/27637#issuecomment-982839471\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>return webClient\n  .get()\n  .uri(\n    // do stuff\n  )\n  .headers(\n    // do stuff \n  )\n  .exchangeToMono(\n    response - &gt; {\n      if (response.statusCode().equals(HttpStatus.OK)) {\n        return response.toEntity(JsonNode.class);\n      } else {\n        return response.createException().flatMap(Mono::error);\n      }\n    })\n  .doOnNext(\n    res - &gt;\n    // do stuff\n    .block();\n  }\ncatch (WebClientResponseException e) {\n  throw new CustomError(e);\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>I'm utilizing Spring 5.3.3.</p>\n"}],"owner":{"account_id":10601776,"reputation":381,"user_id":7808515,"display_name":"Fable"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13525,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":60993313,"answer_count":2,"score":5,"last_activity_date":1690988101,"creation_date":1556629679,"question_id":55921619,"body_markdown":"When using the retrieve() method of Spring WebClient in conjunction with bodyToMono default error handling is applied (if the response has status code 4xx or 5xx, the Mono will contain a WebClientException). In error cases the resulting WebClientException is very helpful because it contains the request AND the response, which is very convenient e.g. for logging. Furthermore, I can react to errors very nicely in place.\r\n```java\r\n/*\r\n * Easy to use retrieve() with default error handling:\r\n * By default, if the response has status code 4xx or 5xx, the Mono will contain a WebClientException - AWESOME!\r\n */\r\npublic Optional&lt;MyType&gt; getMyType() {\r\n    try {\r\n        MyType result = client\r\n                .get()\r\n                .uri(&quot;/myType&quot;)\r\n                .retrieve().bodyToMono(MyType.class).block();\r\n\r\n        return Optional.ofNullable(result);\r\n    } catch (NotFound e) {\r\n        return Optional.empty();\r\n    }\r\n}\r\n```\r\n\r\nHowever, sometimes I need to know the exact status code of the response to react to it when further processing this response. The only method to also get the status code is to call the exchange() Method instead of the retrieve() Method. Unfortunately, in that case the default error handling is not applied. The reason for that seems to be that calling bodyToMono() on ClientResponse has a different semantics than calling it on ResponseSpec.\r\n\r\nI cannot call the already implemented Methods from Spring to &quot;trigger&quot; the error handling because all the nice methods are buried as private in the WebClient.\r\n\r\nEven if I would try to &quot;manually&quot; create a WebClientResponseException I cannot \r\naccess the request to feed to the exception.\r\n\r\n```java\r\npublic String updateMyType() {\r\n    ClientResponse response = client\r\n            .put()\r\n            .uri(&quot;/myType&quot;)\r\n            .header(CONTENT_TYPE, APPLICATION_JSON_VALUE)\r\n            .body(fromObject(new MyType()))\r\n            .exchange()\r\n            .block();\r\n\r\n    if (response.statusCode().equals(HttpStatus.CREATED)) {\r\n        return &quot;OK&quot;;\r\n    } else if (response.statusCode().equals(HttpStatus.NO_CONTENT)) {\r\n        return &quot;updated&quot;;\r\n    } else {\r\n        byte[] bodyBytes = null; // already implemented by Sping but not accessible\r\n        Charset charset = null; // already implemented by Sping but not accessible\r\n        HttpRequest request = null; // where should I get this from?\r\n        throw WebClientResponseException.create(response.statusCode().value(),\r\n                response.statusCode().getReasonPhrase(),\r\n                response.headers().asHttpHeaders(),\r\n                bodyBytes,\r\n                charset,\r\n                request);\r\n    }\r\n}\r\n```\r\n\r\nWhat is the best way to mimic the same behavior as for the retrieve() Method?","title":"How to throw WebClientResponseException when using exchange() with Spring WebClient","body":"<p>When using the retrieve() method of Spring WebClient in conjunction with bodyToMono default error handling is applied (if the response has status code 4xx or 5xx, the Mono will contain a WebClientException). In error cases the resulting WebClientException is very helpful because it contains the request AND the response, which is very convenient e.g. for logging. Furthermore, I can react to errors very nicely in place.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>/*\n * Easy to use retrieve() with default error handling:\n * By default, if the response has status code 4xx or 5xx, the Mono will contain a WebClientException - AWESOME!\n */\npublic Optional&lt;MyType&gt; getMyType() {\n    try {\n        MyType result = client\n                .get()\n                .uri(\"/myType\")\n                .retrieve().bodyToMono(MyType.class).block();\n\n        return Optional.ofNullable(result);\n    } catch (NotFound e) {\n        return Optional.empty();\n    }\n}\n</code></pre>\n\n<p>However, sometimes I need to know the exact status code of the response to react to it when further processing this response. The only method to also get the status code is to call the exchange() Method instead of the retrieve() Method. Unfortunately, in that case the default error handling is not applied. The reason for that seems to be that calling bodyToMono() on ClientResponse has a different semantics than calling it on ResponseSpec.</p>\n\n<p>I cannot call the already implemented Methods from Spring to \"trigger\" the error handling because all the nice methods are buried as private in the WebClient.</p>\n\n<p>Even if I would try to \"manually\" create a WebClientResponseException I cannot \naccess the request to feed to the exception.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public String updateMyType() {\n    ClientResponse response = client\n            .put()\n            .uri(\"/myType\")\n            .header(CONTENT_TYPE, APPLICATION_JSON_VALUE)\n            .body(fromObject(new MyType()))\n            .exchange()\n            .block();\n\n    if (response.statusCode().equals(HttpStatus.CREATED)) {\n        return \"OK\";\n    } else if (response.statusCode().equals(HttpStatus.NO_CONTENT)) {\n        return \"updated\";\n    } else {\n        byte[] bodyBytes = null; // already implemented by Sping but not accessible\n        Charset charset = null; // already implemented by Sping but not accessible\n        HttpRequest request = null; // where should I get this from?\n        throw WebClientResponseException.create(response.statusCode().value(),\n                response.statusCode().getReasonPhrase(),\n                response.headers().asHttpHeaders(),\n                bodyBytes,\n                charset,\n                request);\n    }\n}\n</code></pre>\n\n<p>What is the best way to mimic the same behavior as for the retrieve() Method?</p>\n"},{"tags":["java","pdfbox"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1690996139,"post_id":76821132,"comment_id":135431928,"body_markdown":"if you need to sign, then register with a commercial TSA service or use a free service, e.g. https://freetsa.org/index_en.php","body":"if you need to sign, then register with a commercial TSA service or use a free service, e.g. <a href=\"https://freetsa.org/index_en.php\" rel=\"nofollow noreferrer\">freetsa.org/index_en.php</a>"}],"owner":{"account_id":14961660,"reputation":1403,"user_id":10801227,"display_name":"John"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690988066,"creation_date":1690988066,"question_id":76821132,"body_markdown":"I need to sign a pdf with timestamping authority, and I use [this][1] library. I need to get a TSA URL from the Certificates, but I have not found any examples of how to get it with ```PdfBox``` utils. In the ```itext``` library I have found the following code:\r\n```\r\nString tsaUrl = CertificateUtil.getTSAURL(cert);\r\n```\r\n\r\nMaybe the ```PdfBox``` library has the same utils method?\r\n\r\n  [1]: https://ec.europa.eu/digital-building-blocks/wikis/display/DIGITAL/Digital+Signature+Service+-++DSS","title":"How to get TSA URL from a certificate","body":"<p>I need to sign a pdf with timestamping authority, and I use <a href=\"https://ec.europa.eu/digital-building-blocks/wikis/display/DIGITAL/Digital+Signature+Service+-++DSS\" rel=\"nofollow noreferrer\">this</a> library. I need to get a TSA URL from the Certificates, but I have not found any examples of how to get it with <code>PdfBox</code> utils. In the <code>itext</code> library I have found the following code:</p>\n<pre><code>String tsaUrl = CertificateUtil.getTSAURL(cert);\n</code></pre>\n<p>Maybe the <code>PdfBox</code> library has the same utils method?</p>\n"},{"tags":["java","jakarta-ee","jersey"],"answers":[{"tags":[],"owner":{"account_id":1742,"reputation":42756,"user_id":2362,"accept_rate":79,"display_name":"brabster"},"down_vote_count":1,"up_vote_count":88,"is_accepted":true,"score":87,"last_activity_date":1459881882,"creation_date":1264458658,"answer_id":2136175,"question_id":2136119,"body_markdown":"Not done this yet myself, but a quick bit of Google-Fu reveals a [tech tip on blogs.oracle.com][1] with examples of exactly what you ask for.\r\n\r\nExample taken from the blog post:\r\n\r\n    MultivaluedMap formData = new MultivaluedMapImpl();\r\n    formData.add(&quot;name1&quot;, &quot;val1&quot;);\r\n    formData.add(&quot;name2&quot;, &quot;val2&quot;);\r\n    ClientResponse response = webResource\r\n        .type(MediaType.APPLICATION_FORM_URLENCODED_TYPE)\r\n        .post(ClientResponse.class, formData);\r\n\r\nThat any help?\r\n\r\n\r\n  [1]: http://blogs.oracle.com/enterprisetechtips/entry/consuming_restful_web_services_with","title":"Using the Jersey client to do a POST operation","body":"<p>Not done this yet myself, but a quick bit of Google-Fu reveals a <a href=\"http://blogs.oracle.com/enterprisetechtips/entry/consuming_restful_web_services_with\" rel=\"noreferrer\">tech tip on blogs.oracle.com</a> with examples of exactly what you ask for.</p>\n\n<p>Example taken from the blog post:</p>\n\n<pre><code>MultivaluedMap formData = new MultivaluedMapImpl();\nformData.add(\"name1\", \"val1\");\nformData.add(\"name2\", \"val2\");\nClientResponse response = webResource\n    .type(MediaType.APPLICATION_FORM_URLENCODED_TYPE)\n    .post(ClientResponse.class, formData);\n</code></pre>\n\n<p>That any help?</p>\n"},{"tags":[],"owner":{"account_id":2462612,"reputation":29,"user_id":2146438,"display_name":"RVelarde"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1429129312,"creation_date":1362697671,"answer_id":15283612,"question_id":2136119,"body_markdown":"Also you can try this:\r\n\r\n    MultivaluedMap formData = new MultivaluedMapImpl();\r\n    formData.add(&quot;name1&quot;, &quot;val1&quot;);\r\n    formData.add(&quot;name2&quot;, &quot;val2&quot;);\r\n    webResource.path(&quot;yourJerseysPathPost&quot;).queryParams(formData).post();\r\n\r\n","title":"Using the Jersey client to do a POST operation","body":"<p>Also you can try this:</p>\n\n<pre><code>MultivaluedMap formData = new MultivaluedMapImpl();\nformData.add(\"name1\", \"val1\");\nformData.add(\"name2\", \"val2\");\nwebResource.path(\"yourJerseysPathPost\").queryParams(formData).post();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1197629,"reputation":875,"user_id":1169009,"display_name":"dimuthu"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1401950080,"creation_date":1401950080,"answer_id":24053177,"question_id":2136119,"body_markdown":"If you need to do a file upload, you&#39;ll need to use MediaType.MULTIPART_FORM_DATA_TYPE.\r\nLooks like MultivaluedMap cannot be used with that so here&#39;s a solution with FormDataMultiPart.\r\n\r\n    InputStream stream = getClass().getClassLoader().getResourceAsStream(fileNameToUpload);\r\n\r\n    FormDataMultiPart part = new FormDataMultiPart();\r\n    part.field(&quot;String_key&quot;, &quot;String_value&quot;);\r\n    part.field(&quot;fileToUpload&quot;, stream, MediaType.TEXT_PLAIN_TYPE);\r\n    String response = WebResource.type(MediaType.MULTIPART_FORM_DATA_TYPE).post(String.class, part);","title":"Using the Jersey client to do a POST operation","body":"<p>If you need to do a file upload, you'll need to use MediaType.MULTIPART_FORM_DATA_TYPE.\nLooks like MultivaluedMap cannot be used with that so here's a solution with FormDataMultiPart.</p>\n\n<pre><code>InputStream stream = getClass().getClassLoader().getResourceAsStream(fileNameToUpload);\n\nFormDataMultiPart part = new FormDataMultiPart();\npart.field(\"String_key\", \"String_value\");\npart.field(\"fileToUpload\", stream, MediaType.TEXT_PLAIN_TYPE);\nString response = WebResource.type(MediaType.MULTIPART_FORM_DATA_TYPE).post(String.class, part);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1813967,"reputation":11821,"user_id":1649466,"accept_rate":64,"display_name":"tonga"},"down_vote_count":0,"up_vote_count":53,"is_accepted":false,"score":53,"last_activity_date":1407375828,"creation_date":1407375828,"answer_id":25172970,"question_id":2136119,"body_markdown":"Starting from Jersey 2.x, the `MultivaluedMapImpl` class is replaced by [`MultivaluedHashMap`][1]. You can use it to add form data and send it to the server:\r\n\r\n\t\tWebTarget webTarget = client.target(&quot;http://www.example.com/some/resource&quot;);\r\n\t\tMultivaluedMap&lt;String, String&gt; formData = new MultivaluedHashMap&lt;String, String&gt;();\r\n\t\tformData.add(&quot;key1&quot;, &quot;value1&quot;);\r\n\t\tformData.add(&quot;key2&quot;, &quot;value2&quot;);\r\n\t\tResponse response = webTarget.request().post(Entity.form(formData));\r\n\r\nNote that the form entity is sent in the format of `&quot;application/x-www-form-urlencoded&quot;`.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javaee/7/api/javax/ws/rs/core/MultivaluedHashMap.html","title":"Using the Jersey client to do a POST operation","body":"<p>Starting from Jersey 2.x, the <code>MultivaluedMapImpl</code> class is replaced by <a href=\"http://docs.oracle.com/javaee/7/api/javax/ws/rs/core/MultivaluedHashMap.html\"><code>MultivaluedHashMap</code></a>. You can use it to add form data and send it to the server:</p>\n\n<pre><code>    WebTarget webTarget = client.target(\"http://www.example.com/some/resource\");\n    MultivaluedMap&lt;String, String&gt; formData = new MultivaluedHashMap&lt;String, String&gt;();\n    formData.add(\"key1\", \"value1\");\n    formData.add(\"key2\", \"value2\");\n    Response response = webTarget.request().post(Entity.form(formData));\n</code></pre>\n\n<p>Note that the form entity is sent in the format of <code>\"application/x-www-form-urlencoded\"</code>.</p>\n"},{"tags":[],"owner":{"account_id":72797,"reputation":15932,"user_id":210006,"accept_rate":73,"display_name":"supercobra"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1415918793,"creation_date":1412294229,"answer_id":26171429,"question_id":2136119,"body_markdown":"Simplest:\r\n\r\n    Form form = new Form();\r\n    form.add(&quot;id&quot;, &quot;1&quot;);\t\r\n    form.add(&quot;name&quot;, &quot;supercobra&quot;);\r\n    ClientResponse response = webResource\r\n      .type(MediaType.APPLICATION_FORM_URLENCODED_TYPE)\r\n      .post(ClientResponse.class, form);","title":"Using the Jersey client to do a POST operation","body":"<p>Simplest:</p>\n\n<pre><code>Form form = new Form();\nform.add(\"id\", \"1\");    \nform.add(\"name\", \"supercobra\");\nClientResponse response = webResource\n  .type(MediaType.APPLICATION_FORM_URLENCODED_TYPE)\n  .post(ClientResponse.class, form);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1907716,"reputation":3402,"user_id":1722236,"accept_rate":89,"display_name":"Olivier Tonglet"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1569401067,"creation_date":1426662069,"answer_id":29115914,"question_id":2136119,"body_markdown":"It is now the first example in the [Jersey Client documentation][1]\r\n\r\n**Example 5.1. POST request with form parameters**\r\n\r\n    Client client = ClientBuilder.newClient();\r\n    WebTarget target = client.target(&quot;http://localhost:9998&quot;).path(&quot;resource&quot;);\r\n     \r\n    Form form = new Form();\r\n    form.param(&quot;x&quot;, &quot;foo&quot;);\r\n    form.param(&quot;y&quot;, &quot;bar&quot;);\r\n     \r\n    MyJAXBBean bean =\r\n    target.request(MediaType.APPLICATION_JSON_TYPE)\r\n        .post(Entity.entity(form,MediaType.APPLICATION_FORM_URLENCODED_TYPE),\r\n            MyJAXBBean.class);\r\n\r\n  [1]: https://eclipse-ee4j.github.io/jersey.github.io/documentation/latest/client.html#client.ex.formpost","title":"Using the Jersey client to do a POST operation","body":"<p>It is now the first example in the <a href=\"https://eclipse-ee4j.github.io/jersey.github.io/documentation/latest/client.html#client.ex.formpost\" rel=\"noreferrer\">Jersey Client documentation</a></p>\n\n<p><strong>Example 5.1. POST request with form parameters</strong></p>\n\n<pre><code>Client client = ClientBuilder.newClient();\nWebTarget target = client.target(\"http://localhost:9998\").path(\"resource\");\n\nForm form = new Form();\nform.param(\"x\", \"foo\");\nform.param(\"y\", \"bar\");\n\nMyJAXBBean bean =\ntarget.request(MediaType.APPLICATION_JSON_TYPE)\n    .post(Entity.entity(form,MediaType.APPLICATION_FORM_URLENCODED_TYPE),\n        MyJAXBBean.class);\n</code></pre>\n"}],"owner":{"account_id":45002,"reputation":13531,"user_id":132374,"accept_rate":87,"display_name":"Jon Onstott"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116142,"favorite_count":0,"down_vote_count":0,"up_vote_count":59,"accepted_answer_id":2136175,"answer_count":6,"score":59,"last_activity_date":1690987654,"creation_date":1264458157,"question_id":2136119,"body_markdown":"In a Java method, I&#39;d like to use a Jersey client object to do a POST operation on a RESTful web service (also written using Jersey) but am not sure how to use the client to send the values that will be used as FormParam&#39;s on the server.  I&#39;m able to send query params just fine.\r\n\r\n","title":"Using the Jersey client to do a POST operation","body":"<p>In a Java method, I'd like to use a Jersey client object to do a POST operation on a RESTful web service (also written using Jersey) but am not sure how to use the client to send the values that will be used as FormParam's on the server.  I'm able to send query params just fine.</p>\n"},{"tags":["java","amazon-web-services","amazon-s3"],"comments":[{"owner":{"account_id":1845098,"reputation":171667,"user_id":1695906,"display_name":"Michael - sqlbot"},"score":4,"creation_date":1467031646,"post_id":38051789,"comment_id":63547211,"body_markdown":"This behavior would be expected if you actually created the &quot;empty folder&quot; in the console, because that action actually creates an empty object with the key `path/to/my/folder/` so the console has a placeholder.  Did you do that, while testing?","body":"This behavior would be expected if you actually created the &quot;empty folder&quot; in the console, because that action actually creates an empty object with the key <code>path&#47;to&#47;my&#47;folder&#47;</code> so the console has a placeholder.  Did you do that, while testing?"},{"owner":{"account_id":1059597,"reputation":24002,"user_id":1061499,"accept_rate":84,"display_name":"davioooh"},"score":0,"creation_date":1467031858,"post_id":38051789,"comment_id":63547368,"body_markdown":"@Michael-sqlbot I didn&#39;t create any empty folder. Infact all files are uploaded by the application using the folder structure I reported as prefix for the file key.","body":"@Michael-sqlbot I didn&#39;t create any empty folder. Infact all files are uploaded by the application using the folder structure I reported as prefix for the file key."},{"owner":{"account_id":1845098,"reputation":171667,"user_id":1695906,"display_name":"Michael - sqlbot"},"score":0,"creation_date":1467032567,"post_id":38051789,"comment_id":63547891,"body_markdown":"You might want to try a `GET` on the apparent object with trailing slash, then, because if you didn&#39;t create a folder and you did use the `/` delimiter `withDelimiter(&quot;/&quot;)` when listing the objects, this should mean that you do in fact have an object named with a trailing slash, possibly due to a bug in your code that created one that way.  Such an object would likely be invisible in the console.","body":"You might want to try a <code>GET</code> on the apparent object with trailing slash, then, because if you didn&#39;t create a folder and you did use the <code>&#47;</code> delimiter <code>withDelimiter(&quot;&#47;&quot;)</code> when listing the objects, this should mean that you do in fact have an object named with a trailing slash, possibly due to a bug in your code that created one that way.  Such an object would likely be invisible in the console."},{"owner":{"account_id":7097390,"reputation":65,"user_id":5461753,"display_name":"John Detroit"},"score":3,"creation_date":1523434749,"post_id":38051789,"comment_id":86554806,"body_markdown":"Here is the code: http://codeflex.co/get-list-of-objects-from-s3-directory/","body":"Here is the code: <a href=\"http://codeflex.co/get-list-of-objects-from-s3-directory/\" rel=\"nofollow noreferrer\">codeflex.co/get-list-of-objects-from-s3-directory</a>"},{"owner":{"account_id":80160,"reputation":6410,"user_id":226844,"display_name":"Sarsaparilla"},"score":0,"creation_date":1579730414,"post_id":38051789,"comment_id":105868586,"body_markdown":"Indeed Michael is right, there is an object with that key in your bucket.  Run this command to remove it `aws s3api delete-object --bucket X --key path/to/my/folder/`.  And make sure your code doesn&#39;t create that object again.","body":"Indeed Michael is right, there is an object with that key in your bucket.  Run this command to remove it <code>aws s3api delete-object --bucket X --key path&#47;to&#47;my&#47;folder&#47;</code>.  And make sure your code doesn&#39;t create that object again."},{"owner":{"account_id":12156027,"reputation":13933,"user_id":8874958,"display_name":"Kishan Solanki"},"score":0,"creation_date":1627963701,"post_id":38051789,"comment_id":121288673,"body_markdown":"One can check this if they are not able to list objects/files in specific folder https://stackoverflow.com/a/68481553/8874958","body":"One can check this if they are not able to list objects/files in specific folder <a href=\"https://stackoverflow.com/a/68481553/8874958\">stackoverflow.com/a/68481553/8874958</a>"}],"answers":[{"tags":[],"owner":{"account_id":1680363,"reputation":7992,"user_id":1544715,"accept_rate":71,"display_name":"Magnus"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1467024427,"creation_date":1467024427,"answer_id":38051989,"question_id":38051789,"body_markdown":"S3 does not have directories, while you can list files in a pseudo directory manner like you demonstrated, there is no directory &quot;file&quot; per-se.  \r\nYou may of inadvertently created a data file called `users/&lt;user-id&gt;/contacts/&lt;contact-id&gt;/`.","title":"Listing files in a specific &quot;folder&quot; of a AWS S3 bucket","body":"<p>S3 does not have directories, while you can list files in a pseudo directory manner like you demonstrated, there is no directory \"file\" per-se.<br>\nYou may of inadvertently created a data file called <code>users/&lt;user-id&gt;/contacts/&lt;contact-id&gt;/</code>.</p>\n"},{"tags":[],"owner":{"account_id":1032327,"reputation":34523,"user_id":1574489,"accept_rate":56,"display_name":"Matt Houser"},"down_vote_count":2,"up_vote_count":59,"is_accepted":true,"score":57,"last_activity_date":1544085641,"creation_date":1467034181,"answer_id":38055287,"question_id":38051789,"body_markdown":"Everything in S3 is an object. To you, it may be files and folders. But to S3, they&#39;re just objects.\r\n\r\nObjects that end with the delimiter (`/` in most cases) are usually perceived as a folder, but it&#39;s not always the case. It depends on the application. Again, in your case, you&#39;re interpretting it as a folder. S3 is not. It&#39;s just another object.\r\n\r\nIn your case above, the object `users/&lt;user-id&gt;/contacts/&lt;contact-id&gt;/` exists in S3 as a distinct object, but the object `users/&lt;user-id&gt;/` does not. That&#39;s the difference in your responses. Why they&#39;re like that, we cannot tell you, but someone made the object in one case, and didn&#39;t in the other. You don&#39;t see it in the AWS Management Console because the console is interpreting it as a folder and hiding it from you.\r\n\r\nSince S3 just sees these things as objects, it won&#39;t &quot;exclude&quot; certain things for you. It&#39;s up to the client to deal with the objects as they should be dealt with.\r\n\r\n**Your Solution**\r\n\r\nSince you&#39;re the one that doesn&#39;t want the folder objects, you can exclude it yourself by checking the last character for a `/`. If it is, then ignore the object from the response.","title":"Listing files in a specific &quot;folder&quot; of a AWS S3 bucket","body":"<p>Everything in S3 is an object. To you, it may be files and folders. But to S3, they're just objects.</p>\n\n<p>Objects that end with the delimiter (<code>/</code> in most cases) are usually perceived as a folder, but it's not always the case. It depends on the application. Again, in your case, you're interpretting it as a folder. S3 is not. It's just another object.</p>\n\n<p>In your case above, the object <code>users/&lt;user-id&gt;/contacts/&lt;contact-id&gt;/</code> exists in S3 as a distinct object, but the object <code>users/&lt;user-id&gt;/</code> does not. That's the difference in your responses. Why they're like that, we cannot tell you, but someone made the object in one case, and didn't in the other. You don't see it in the AWS Management Console because the console is interpreting it as a folder and hiding it from you.</p>\n\n<p>Since S3 just sees these things as objects, it won't \"exclude\" certain things for you. It's up to the client to deal with the objects as they should be dealt with.</p>\n\n<p><strong>Your Solution</strong></p>\n\n<p>Since you're the one that doesn't want the folder objects, you can exclude it yourself by checking the last character for a <code>/</code>. If it is, then ignore the object from the response.</p>\n"},{"tags":[],"owner":{"account_id":3466574,"reputation":1687,"user_id":5071635,"display_name":"Victor Kim"},"down_vote_count":0,"up_vote_count":75,"is_accepted":false,"score":75,"last_activity_date":1611636995,"creation_date":1473972528,"answer_id":39520124,"question_id":38051789,"body_markdown":"While everybody say that there are no directories and files in s3, but only objects (and buckets), which is absolutely true, I would suggest to take advantage of CommonPrefixes, described in [this][1] answer.\r\nSo, you can do following to get list of &quot;folders&quot; (commonPrefixes) and &quot;files&quot; (objectSummaries):\r\n\r\n    ListObjectsV2Request req = new ListObjectsV2Request().withBucketName(bucket.getName()).withPrefix(prefix).withDelimiter(DELIMITER);\r\n    ListObjectsV2Result listing = s3Client.listObjectsV2(req);\r\n    for (String commonPrefix : listing.getCommonPrefixes()) {\r\n            System.out.println(commonPrefix);\r\n    }\r\n    for (S3ObjectSummary summary: listing.getObjectSummaries()) {\r\n        System.out.println(summary.getKey());\r\n    }\r\n\r\n\r\nIn your case, for objectSummaries (files) it should return (in case of correct prefix): &lt;br/&gt;\r\n    _users/user-id/contacts/contact-id/file1.txt_&lt;br/&gt;\r\n    _users/user-id/contacts/contact-id/file2.txt_&lt;br/&gt;&lt;br/&gt;\r\nfor commonPrefixes:&lt;br/&gt;\r\n_users/user-id/contacts/contact-id/_\r\n\r\nReference: https://docs.aws.amazon.com/AmazonS3/latest/API/API_ListObjectsV2.html\r\n\r\n  [1]: https://stackoverflow.com/questions/17561432/amazon-s3-listing-directories","title":"Listing files in a specific &quot;folder&quot; of a AWS S3 bucket","body":"<p>While everybody say that there are no directories and files in s3, but only objects (and buckets), which is absolutely true, I would suggest to take advantage of CommonPrefixes, described in <a href=\"https://stackoverflow.com/questions/17561432/amazon-s3-listing-directories\">this</a> answer.\nSo, you can do following to get list of &quot;folders&quot; (commonPrefixes) and &quot;files&quot; (objectSummaries):</p>\n<pre><code>ListObjectsV2Request req = new ListObjectsV2Request().withBucketName(bucket.getName()).withPrefix(prefix).withDelimiter(DELIMITER);\nListObjectsV2Result listing = s3Client.listObjectsV2(req);\nfor (String commonPrefix : listing.getCommonPrefixes()) {\n        System.out.println(commonPrefix);\n}\nfor (S3ObjectSummary summary: listing.getObjectSummaries()) {\n    System.out.println(summary.getKey());\n}\n</code></pre>\n<p>In your case, for objectSummaries (files) it should return (in case of correct prefix): <br/>\n<em>users/user-id/contacts/contact-id/file1.txt</em><br/>\n<em>users/user-id/contacts/contact-id/file2.txt</em><br/><br/>\nfor commonPrefixes:<br/>\n<em>users/user-id/contacts/contact-id/</em></p>\n<p>Reference: <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/API_ListObjectsV2.html\" rel=\"noreferrer\">https://docs.aws.amazon.com/AmazonS3/latest/API/API_ListObjectsV2.html</a></p>\n"},{"tags":[],"owner":{"account_id":11188077,"reputation":419,"user_id":8209605,"display_name":"Yaroslav Malyk"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1527348454,"creation_date":1527348130,"answer_id":50544246,"question_id":38051789,"body_markdown":"you can check the type. s3 has a special *application/x-directory*\r\n\r\n    bucket.objects({:delimiter=&gt;&quot;/&quot;, :prefix=&gt;&quot;f1/&quot;}).each { |obj| p obj.object.content_type }","title":"Listing files in a specific &quot;folder&quot; of a AWS S3 bucket","body":"<p>you can check the type. s3 has a special <em>application/x-directory</em></p>\n\n<pre><code>bucket.objects({:delimiter=&gt;\"/\", :prefix=&gt;\"f1/\"}).each { |obj| p obj.object.content_type }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":344421,"reputation":1245,"user_id":676731,"accept_rate":80,"display_name":"BartoszMiller"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1548945933,"creation_date":1548945933,"answer_id":54463070,"question_id":38051789,"body_markdown":"As other have already said, everything in S3 is an object. To you, it may be files and folders. But to S3, they&#39;re just objects.\r\n\r\nIf you don&#39;t need objects which end with a &#39;/&#39; you can safely delete them e.g. via REST api or AWS Java SDK (I assume you have write access). You will not lose &quot;nested files&quot; (there no files, so you will not lose objects whose names are prefixed with the key you delete)\r\n\r\n    AmazonS3 amazonS3 = AmazonS3ClientBuilder.standard().withCredentials(new ProfileCredentialsProvider()).withRegion(&quot;region&quot;).build();\r\n    amazonS3.deleteObject(new DeleteObjectRequest(&quot;my-bucket&quot;, &quot;users/&lt;user-id&gt;/contacts/&lt;contact-id&gt;/&quot;));\r\n\r\nPlease note that I&#39;m using `ProfileCredentialsProvider` so that my requests are not anonymous. Otherwise, you will not be able to delete an object. I have my AWS keep key stored in ~/.aws/credentials file.","title":"Listing files in a specific &quot;folder&quot; of a AWS S3 bucket","body":"<p>As other have already said, everything in S3 is an object. To you, it may be files and folders. But to S3, they're just objects.</p>\n\n<p>If you don't need objects which end with a '/' you can safely delete them e.g. via REST api or AWS Java SDK (I assume you have write access). You will not lose \"nested files\" (there no files, so you will not lose objects whose names are prefixed with the key you delete)</p>\n\n<pre><code>AmazonS3 amazonS3 = AmazonS3ClientBuilder.standard().withCredentials(new ProfileCredentialsProvider()).withRegion(\"region\").build();\namazonS3.deleteObject(new DeleteObjectRequest(\"my-bucket\", \"users/&lt;user-id&gt;/contacts/&lt;contact-id&gt;/\"));\n</code></pre>\n\n<p>Please note that I'm using <code>ProfileCredentialsProvider</code> so that my requests are not anonymous. Otherwise, you will not be able to delete an object. I have my AWS keep key stored in ~/.aws/credentials file.</p>\n"},{"tags":[],"owner":{"account_id":5361726,"reputation":471,"user_id":4272770,"display_name":"TuanDPH"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1589162016,"creation_date":1589162016,"answer_id":61721116,"question_id":38051789,"body_markdown":"Based on @davioooh answer.\r\nThis code is worked for me.\r\n\r\n    ListObjectsRequest listObjectsRequest = new ListObjectsRequest().withBucketName(&quot;your-bucket&quot;)\r\n                .withPrefix(&quot;your/folder/path/&quot;).withDelimiter(&quot;/&quot;);","title":"Listing files in a specific &quot;folder&quot; of a AWS S3 bucket","body":"<p>Based on @davioooh answer.\nThis code is worked for me.</p>\n\n<pre><code>ListObjectsRequest listObjectsRequest = new ListObjectsRequest().withBucketName(\"your-bucket\")\n            .withPrefix(\"your/folder/path/\").withDelimiter(\"/\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9039016,"reputation":91,"user_id":12119734,"display_name":"Nahuelgrc"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1604602526,"creation_date":1604417527,"answer_id":64665848,"question_id":38051789,"body_markdown":"If your goal is only to take the files and not the folder, the approach I made was to use the file `size` as a filter. This property is the current size of the file hosted by AWS. All the folders return 0 in that property.\r\nThe following is a C# code using linq but it shouldn&#39;t be hard to translate to Java.\r\n\r\n```C#\r\nvar amazonClient = new AmazonS3Client(key, secretKey, region);\r\nvar listObjectsRequest= new ListObjectsRequest\r\n            {\r\n                BucketName = &#39;someBucketName&#39;,\r\n                Delimiter = &#39;someDelimiter&#39;,\r\n                Prefix = &#39;somePrefix&#39;\r\n            };\r\nvar objects = amazonClient.ListObjects(listObjectsRequest);\r\nvar objectsInFolder = objects.S3Objects.Where(file =&gt; file.Size &gt; 0).ToList();\r\n```\r\n\r\n\r\n","title":"Listing files in a specific &quot;folder&quot; of a AWS S3 bucket","body":"<p>If your goal is only to take the files and not the folder, the approach I made was to use the file <code>size</code> as a filter. This property is the current size of the file hosted by AWS. All the folders return 0 in that property.\nThe following is a C# code using linq but it shouldn't be hard to translate to Java.</p>\n<pre><code>var amazonClient = new AmazonS3Client(key, secretKey, region);\nvar listObjectsRequest= new ListObjectsRequest\n            {\n                BucketName = 'someBucketName',\n                Delimiter = 'someDelimiter',\n                Prefix = 'somePrefix'\n            };\nvar objects = amazonClient.ListObjects(listObjectsRequest);\nvar objectsInFolder = objects.S3Objects.Where(file =&gt; file.Size &gt; 0).ToList();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":252934,"reputation":3119,"user_id":1644618,"display_name":"yerlilbilgin"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1690139160,"creation_date":1690139160,"answer_id":76749906,"question_id":38051789,"body_markdown":"Maybe helpful for Rust `aws-sdk-s3` users:\r\n\r\n      let mut output = s3_client.list_objects_v2()\r\n        .bucket(&quot;bucketname&quot;)\r\n        //limit listing to bucketname/The/Parent/Object/Name\r\n        .prefix(&quot;The/Parent/Object/Name/&quot;) \r\n        .send().await?;\r\n      \r\n      loop{\r\n        if let Some(objects) = output.contents() {\r\n          for object in objects {\r\n            println!(&quot;Object: {:}&quot;, object.key().unwrap())\r\n          }\r\n        }\r\n      \r\n        if output.is_truncated() {\r\n          output = s3_client.list_objects_v2()\r\n                   .bucket(&quot;bucketname&quot;)\r\n                   //limit listing to bucketname/The/Parent/Object/Name\r\n                   .prefix(&quot;The/Parent/Object/Name/&quot;) \r\n                   .continuation_token(output.next_continuation_token().unwrap())\r\n                   .send().await?\r\n        } else {\r\n          break;\r\n        }\r\n      }","title":"Listing files in a specific &quot;folder&quot; of a AWS S3 bucket","body":"<p>Maybe helpful for Rust <code>aws-sdk-s3</code> users:</p>\n<pre><code>  let mut output = s3_client.list_objects_v2()\n    .bucket(&quot;bucketname&quot;)\n    //limit listing to bucketname/The/Parent/Object/Name\n    .prefix(&quot;The/Parent/Object/Name/&quot;) \n    .send().await?;\n  \n  loop{\n    if let Some(objects) = output.contents() {\n      for object in objects {\n        println!(&quot;Object: {:}&quot;, object.key().unwrap())\n      }\n    }\n  \n    if output.is_truncated() {\n      output = s3_client.list_objects_v2()\n               .bucket(&quot;bucketname&quot;)\n               //limit listing to bucketname/The/Parent/Object/Name\n               .prefix(&quot;The/Parent/Object/Name/&quot;) \n               .continuation_token(output.next_continuation_token().unwrap())\n               .send().await?\n    } else {\n      break;\n    }\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7506415,"reputation":200,"user_id":6796260,"display_name":"Jamalianpour"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690987620,"creation_date":1690987620,"answer_id":76821071,"question_id":38051789,"body_markdown":"In AWS SDK for Java 2.x You can use this code:\r\n```java\r\nListObjectsV2Request req = ListObjectsV2Request.builder()\r\n        .bucket(&quot;bucketName&quot;)\r\n        .prefix(prefix)\r\n        .delimiter(&quot;/&quot;)\r\n        .build();\r\n\r\nListObjectsV2Response listing = s3Client.listObjectsV2(req);\r\n\r\nfor (S3Object object: listing.contents()) {\r\n    System.out.println(object.key());\r\n}\r\n```\r\n\r\nAnd if your prefix is some things like this `Images/602cef3dd96bda7c2e97b8ad/` output will be:\r\n```\r\nImages/602cef3dd96bda7c2e97b8ad/\r\nImages/602cef3dd96bda7c2e97b8ad/06136e02_20220501.jpg\r\nImages/602cef3dd96bda7c2e97b8ad/0638da47_20220501.jpg\r\nImages/602cef3dd96bda7c2e97b8ad/142e98f1_20220501.jpg\r\nImages/602cef3dd96bda7c2e97b8ad/160ca9f1_20220501.jpg\r\n```","title":"Listing files in a specific &quot;folder&quot; of a AWS S3 bucket","body":"<p>In AWS SDK for Java 2.x You can use this code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ListObjectsV2Request req = ListObjectsV2Request.builder()\n        .bucket(&quot;bucketName&quot;)\n        .prefix(prefix)\n        .delimiter(&quot;/&quot;)\n        .build();\n\nListObjectsV2Response listing = s3Client.listObjectsV2(req);\n\nfor (S3Object object: listing.contents()) {\n    System.out.println(object.key());\n}\n</code></pre>\n<p>And if your prefix is some things like this <code>Images/602cef3dd96bda7c2e97b8ad/</code> output will be:</p>\n<pre><code>Images/602cef3dd96bda7c2e97b8ad/\nImages/602cef3dd96bda7c2e97b8ad/06136e02_20220501.jpg\nImages/602cef3dd96bda7c2e97b8ad/0638da47_20220501.jpg\nImages/602cef3dd96bda7c2e97b8ad/142e98f1_20220501.jpg\nImages/602cef3dd96bda7c2e97b8ad/160ca9f1_20220501.jpg\n</code></pre>\n"}],"owner":{"account_id":1059597,"reputation":24002,"user_id":1061499,"accept_rate":84,"display_name":"davioooh"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":201881,"favorite_count":0,"down_vote_count":0,"up_vote_count":105,"accepted_answer_id":38055287,"answer_count":9,"score":105,"last_activity_date":1690987620,"creation_date":1467023884,"question_id":38051789,"body_markdown":"I need to list all files contained in a certain folder contained in my S3 bucket.\r\n\r\nThe folder structure is the following\r\n\r\n    /my-bucket/users/&lt;user-id&gt;/contacts/&lt;contact-id&gt;\r\n\r\nI have files related to users and files related to a certain user&#39;s contact.\r\nI need to list both.\r\n\r\nTo list files I&#39;m using this code:\r\n\r\n    ListObjectsRequest listObjectsRequest = new ListObjectsRequest().withBucketName(&quot;my-bucket&quot;)\r\n    \t\t\t\t.withPrefix(&quot;some-prefix&quot;).withDelimiter(&quot;/&quot;);\r\n    ObjectListing objects = transferManager.getAmazonS3Client().listObjects(listObjectsRequest);\r\n\r\nTo list a certain user&#39;s files I&#39;m using this prefix: \r\n\r\n`users/&lt;user-id&gt;/` \r\n\r\nand I&#39;m correctly getting all files in the directory excluding `contacts` subdirectory, for example:\r\n\r\n    users/&lt;user-id&gt;/file1.txt\r\n    users/&lt;user-id&gt;/file2.txt\r\n    users/&lt;user-id&gt;/file3.txt\r\n\r\nTo list a certain user contact&#39;s files instead I&#39;m using this prefix: \r\n\r\n`users/&lt;user-id&gt;/contacts/&lt;contact-id&gt;/`\r\n\r\nbut in this case I&#39;m getting also the \r\ndirectory itself as a returned object:\r\n\r\n    users/&lt;user-id&gt;/contacts/&lt;contact-id&gt;/file1.txt\r\n    users/&lt;user-id&gt;/contacts/&lt;contact-id&gt;/file2.txt\r\n    users/&lt;user-id&gt;/contacts/&lt;contact-id&gt;/\r\n\r\nWhy am I getting this behaviour? What&#39;s different beetween the two listing requests? I need to list only files in the directory, excluding sub-directories.","title":"Listing files in a specific &quot;folder&quot; of a AWS S3 bucket","body":"<p>I need to list all files contained in a certain folder contained in my S3 bucket.</p>\n\n<p>The folder structure is the following</p>\n\n<pre><code>/my-bucket/users/&lt;user-id&gt;/contacts/&lt;contact-id&gt;\n</code></pre>\n\n<p>I have files related to users and files related to a certain user's contact.\nI need to list both.</p>\n\n<p>To list files I'm using this code:</p>\n\n<pre><code>ListObjectsRequest listObjectsRequest = new ListObjectsRequest().withBucketName(\"my-bucket\")\n                .withPrefix(\"some-prefix\").withDelimiter(\"/\");\nObjectListing objects = transferManager.getAmazonS3Client().listObjects(listObjectsRequest);\n</code></pre>\n\n<p>To list a certain user's files I'm using this prefix: </p>\n\n<p><code>users/&lt;user-id&gt;/</code> </p>\n\n<p>and I'm correctly getting all files in the directory excluding <code>contacts</code> subdirectory, for example:</p>\n\n<pre><code>users/&lt;user-id&gt;/file1.txt\nusers/&lt;user-id&gt;/file2.txt\nusers/&lt;user-id&gt;/file3.txt\n</code></pre>\n\n<p>To list a certain user contact's files instead I'm using this prefix: </p>\n\n<p><code>users/&lt;user-id&gt;/contacts/&lt;contact-id&gt;/</code></p>\n\n<p>but in this case I'm getting also the \ndirectory itself as a returned object:</p>\n\n<pre><code>users/&lt;user-id&gt;/contacts/&lt;contact-id&gt;/file1.txt\nusers/&lt;user-id&gt;/contacts/&lt;contact-id&gt;/file2.txt\nusers/&lt;user-id&gt;/contacts/&lt;contact-id&gt;/\n</code></pre>\n\n<p>Why am I getting this behaviour? What's different beetween the two listing requests? I need to list only files in the directory, excluding sub-directories.</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","spring-test"],"comments":[{"owner":{"account_id":165479,"reputation":30116,"user_id":388980,"display_name":"Sam Brannen"},"score":2,"creation_date":1511713634,"post_id":47487609,"comment_id":81951883,"body_markdown":"What happens if you annotate `RelationalPlayerRepositoryTests` with `@ContextConfiguration(classes = GrandJourneyMonolithApplication.class)`?","body":"What happens if you annotate <code>RelationalPlayerRepositoryTests</code> with <code>@ContextConfiguration(classes = GrandJourneyMonolithApplication.class)</code>?"},{"owner":{"account_id":1537344,"reputation":12765,"user_id":1432980,"accept_rate":73,"display_name":"lapots"},"score":0,"creation_date":1511718913,"post_id":47487609,"comment_id":81953710,"body_markdown":"@SamBrannen it shows error that it `failed to replace DataSource with embedded`","body":"@SamBrannen it shows error that it <code>failed to replace DataSource with embedded</code>"},{"owner":{"account_id":5483053,"reputation":406,"user_id":4358787,"display_name":"Gaurav"},"score":0,"creation_date":1666183426,"post_id":47487609,"comment_id":130874759,"body_markdown":"worked for me after adding empty @SpringBootApplication","body":"worked for me after adding empty @SpringBootApplication"}],"answers":[{"tags":[],"owner":{"account_id":9727934,"reputation":2489,"user_id":7214142,"display_name":"Yuriy Tsarkov"},"down_vote_count":0,"up_vote_count":38,"is_accepted":true,"score":38,"last_activity_date":1690987380,"creation_date":1511624619,"answer_id":47487712,"question_id":47487609,"body_markdown":"When Spring Boot starts, it scans the classpath from top to bottom of the project to find the config file. Your config is under another files and that is a reason of the problem. Move you config higher up to the _monolith_ package and everything will be fine.","title":"Unable to find a @SpringBootConfiguration, you need to use @ContextConfiguration or @SpringBootTest(classes=...) with your test","body":"<p>When Spring Boot starts, it scans the classpath from top to bottom of the project to find the config file. Your config is under another files and that is a reason of the problem. Move you config higher up to the <em>monolith</em> package and everything will be fine.</p>\n"},{"tags":[],"owner":{"account_id":13038584,"reputation":2631,"user_id":9422633,"display_name":"Saurabh Parmar"},"down_vote_count":0,"up_vote_count":263,"is_accepted":false,"score":263,"last_activity_date":1612768649,"creation_date":1539933619,"answer_id":52887524,"question_id":47487609,"body_markdown":"`src/test/java` packages and `src/main/java` packages should match.\r\nI had same issue where \r\n\r\n - my `src/main/java` packages were starting with **com.comp.example** but  \r\n - `src/test/java` packages were starting with **com.sample.example**\r\n\r\nBecause of this spring boot application was not able to pickup the configuration of the application, which it picks up from `@SpringBootApplication` class.\r\nSo test case should fall under the same packages where `@SpringBootApplication` in `src/main/java` is written.","title":"Unable to find a @SpringBootConfiguration, you need to use @ContextConfiguration or @SpringBootTest(classes=...) with your test","body":"<p><code>src/test/java</code> packages and <code>src/main/java</code> packages should match.\nI had same issue where</p>\n<ul>\n<li>my <code>src/main/java</code> packages were starting with <strong>com.comp.example</strong> but</li>\n<li><code>src/test/java</code> packages were starting with <strong>com.sample.example</strong></li>\n</ul>\n<p>Because of this spring boot application was not able to pickup the configuration of the application, which it picks up from <code>@SpringBootApplication</code> class.\nSo test case should fall under the same packages where <code>@SpringBootApplication</code> in <code>src/main/java</code> is written.</p>\n"},{"tags":[],"owner":{"account_id":1833521,"reputation":1236,"user_id":4387162,"display_name":"downeyt"},"down_vote_count":1,"up_vote_count":29,"is_accepted":false,"score":28,"last_activity_date":1604570935,"creation_date":1593021476,"answer_id":62561246,"question_id":47487609,"body_markdown":"`@SpringBootTest` has a parameter named `classes`. It accepts an array of classes for configuration. Add the class for the config file to it, for example:\r\n\r\n```\r\n@SpringBootTest(classes={com.lapots.game.monolith.web.GrandJourneyMonolithApplication.class})\r\n```","title":"Unable to find a @SpringBootConfiguration, you need to use @ContextConfiguration or @SpringBootTest(classes=...) with your test","body":"<p><code>@SpringBootTest</code> has a parameter named <code>classes</code>. It accepts an array of classes for configuration. Add the class for the config file to it, for example:</p>\n<pre><code>@SpringBootTest(classes={com.lapots.game.monolith.web.GrandJourneyMonolithApplication.class})\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1062835,"reputation":1529,"user_id":1064101,"accept_rate":12,"display_name":"Nava Polak Onik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657631815,"creation_date":1615126096,"answer_id":66517395,"question_id":47487609,"body_markdown":"I was able to resolve this problem only after including in the `@SpringBootTest` classes both the context configuration class and the application class.","title":"Unable to find a @SpringBootConfiguration, you need to use @ContextConfiguration or @SpringBootTest(classes=...) with your test","body":"<p>I was able to resolve this problem only after including in the <code>@SpringBootTest</code> classes both the context configuration class and the application class.</p>\n"},{"tags":[],"owner":{"account_id":8524530,"reputation":456,"user_id":6390368,"display_name":"Joel Mata"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1651303220,"creation_date":1615207050,"answer_id":66530021,"question_id":47487609,"body_markdown":"In my case this was due to some [move|copy/paste] of classes. For some, the `package` clause was either [not updated correctly|not present] and the changes were not picked up but the IDE.\r\n\r\nAnyways, review your project packaging.","title":"Unable to find a @SpringBootConfiguration, you need to use @ContextConfiguration or @SpringBootTest(classes=...) with your test","body":"<p>In my case this was due to some [move|copy/paste] of classes. For some, the <code>package</code> clause was either [not updated correctly|not present] and the changes were not picked up but the IDE.</p>\n<p>Anyways, review your project packaging.</p>\n"},{"tags":[],"owner":{"account_id":6185837,"reputation":473,"user_id":4819978,"display_name":"pwipo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645156101,"creation_date":1643990614,"answer_id":70989357,"question_id":47487609,"body_markdown":"Delete the file `module-info.java`. This worked for me.","title":"Unable to find a @SpringBootConfiguration, you need to use @ContextConfiguration or @SpringBootTest(classes=...) with your test","body":"<p>Delete the file <code>module-info.java</code>. This worked for me.</p>\n"},{"tags":[],"owner":{"account_id":11054958,"reputation":397,"user_id":8118030,"display_name":"pankaj pundir"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1647448846,"creation_date":1647448846,"answer_id":71501001,"question_id":47487609,"body_markdown":"The Test `src/test/java` files should also follow the same directory structure as in `src/main/java`.\r\n\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qTGB8.png","title":"Unable to find a @SpringBootConfiguration, you need to use @ContextConfiguration or @SpringBootTest(classes=...) with your test","body":"<p>The Test <code>src/test/java</code> files should also follow the same directory structure as in <code>src/main/java</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/qTGB8.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/qTGB8.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":5281693,"reputation":702,"user_id":4216826,"display_name":"mumbasa"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1663098407,"creation_date":1663098407,"answer_id":73708514,"question_id":47487609,"body_markdown":"if your project has no testable code in it and you have the default test block in the spring boot default test class\r\n\r\n    @SpringBootTest\r\n    \r\n    class DemoApplicationTests {\r\n    \t@Test\r\n    \tvoid contextLoads() {\r\n    \t}\r\n    }\r\n\r\ndelete the test annotation and the the contextLoads() method. to this\r\n\r\n    @SpringBootTest\r\n    class DemoApplicationTests {\r\n    }","title":"Unable to find a @SpringBootConfiguration, you need to use @ContextConfiguration or @SpringBootTest(classes=...) with your test","body":"<p>if your project has no testable code in it and you have the default test block in the spring boot default test class</p>\n<pre><code>@SpringBootTest\n\nclass DemoApplicationTests {\n    @Test\n    void contextLoads() {\n    }\n}\n</code></pre>\n<p>delete the test annotation and the the contextLoads() method. to this</p>\n<pre><code>@SpringBootTest\nclass DemoApplicationTests {\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28321645,"reputation":21,"user_id":21657339,"display_name":"Dhurba Ghimire"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1681928026,"creation_date":1681659015,"answer_id":76028657,"question_id":47487609,"body_markdown":"For me it worked by adding the path to the main class as below\r\n```java\r\n@SpringBootTest(classes = {com.ghimire.bookApi.SpringBookApiPracticeApplication.class})\r\n```","title":"Unable to find a @SpringBootConfiguration, you need to use @ContextConfiguration or @SpringBootTest(classes=...) with your test","body":"<p>For me it worked by adding the path to the main class as below</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest(classes = {com.ghimire.bookApi.SpringBookApiPracticeApplication.class})\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1352612,"reputation":4119,"user_id":1357094,"accept_rate":85,"display_name":"cellepo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682985604,"creation_date":1682985604,"answer_id":76150902,"question_id":47487609,"body_markdown":"Although not a direct answer to the OP Question, I was able to solve my own experience of the same error message (as the Title of this Question) in `IntelliJ IDEA`:\r\n\r\nSome part of the &quot;Maven Dance&quot; {`mvn clean compile`, [IntelliJ] `Reload All Maven Projects`} solved it for me.","title":"Unable to find a @SpringBootConfiguration, you need to use @ContextConfiguration or @SpringBootTest(classes=...) with your test","body":"<p>Although not a direct answer to the OP Question, I was able to solve my own experience of the same error message (as the Title of this Question) in <code>IntelliJ IDEA</code>:</p>\n<p>Some part of the &quot;Maven Dance&quot; {<code>mvn clean compile</code>, [IntelliJ] <code>Reload All Maven Projects</code>} solved it for me.</p>\n"}],"owner":{"account_id":1537344,"reputation":12765,"user_id":1432980,"accept_rate":73,"display_name":"lapots"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":166713,"favorite_count":0,"down_vote_count":0,"up_vote_count":120,"accepted_answer_id":47487712,"answer_count":10,"score":120,"last_activity_date":1690987380,"creation_date":1511623924,"question_id":47487609,"body_markdown":"I am using `Spring Data JPA` and `Spring Boot`. The layout of the application is this\r\n\r\n    main\r\n        +-- java\r\n            +-- com/lapots/game/monolith\r\n                +-- repository/relational\r\n                    +--RelationalPlayerRepository.java\r\n                +-- web\r\n                    +--GrandJourneyMonolithApplication.java\r\n                    +-- config\r\n                        +-- RelationalDBConfiguration.java\r\n    test\r\n        +-- java\r\n            +-- com/lapots/game/monolith\r\n                +-- repository/relational\r\n                    +-- RelationalPlayerRepositoryTests.java\r\n                +-- web\r\n                    +-- GrandJourneyMonolithApplicationTests.java\r\n\r\n\r\nThe repository for my object looks like this\r\n\r\n    public interface RelationalPlayerRepository extends JpaRepository&lt;Player, Long&gt; {\r\n    }\r\n\r\nAdditionally for the repositories I provided a configuration\r\n\r\n    @Configuration\r\n    @EnableJpaRepositories(basePackages = &quot;com.lapots.game.monolith.repository.relational&quot;)\r\n    @EntityScan(&quot;com.lapots.game.monolith.domain&quot;)\r\n    public class RelationalDBConfiguration {\r\n    }\r\n\r\nMy main application looks like this\r\n\r\n    @SpringBootApplication\r\n    @ComponentScan(&quot;com.lapots.game.monolith&quot;)\r\n    public class GrandJourneyMonolithApplication {\r\n\r\n        @Autowired\r\n        private RelationalPlayerRepository relationalPlayerRepository;\r\n\r\n        public static void main(String[] args) {\r\n            SpringApplication.run(GrandJourneyMonolithApplication.class, args);\r\n        }\r\n\r\n        @Bean\r\n        public CommandLineRunner initPlayers() {\r\n            return (args) -&gt; {\r\n                Player p = new Player();\r\n                p.setLevel(10);\r\n                p.setName(&quot;Master1909&quot;);\r\n                p.setClazz(&quot;warrior&quot;);\r\n\r\n                relationalPlayerRepository.save(p);\r\n            };\r\n        }\r\n    }\r\n    \r\nTest for application looks like this\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest\r\n    public class GrandJourneyMonolithApplicationTests {\r\n\r\n        @Test\r\n        public void contextLoads() {\r\n        }\r\n\r\n    }\r\n    \r\nThe test for repository looks like this\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @DataJpaTest\r\n    public class RelationalPlayerRepositoryTests {\r\n\r\n        @Autowired\r\n        private TestEntityManager entityManager;\r\n\r\n        @Autowired\r\n        private RelationalPlayerRepository repository;\r\n\r\n        @Test\r\n        public void testBasic() {\r\n            Player expected = createPlayer(&quot;Master12&quot;, &quot;warrior&quot;, 10);\r\n            this.entityManager.persist(expected);\r\n            List&lt;Player&gt; players = repository.findAll();\r\n            assertThat(repository.findAll()).isNotEmpty();\r\n            assertEquals(expected, players.get(0));\r\n        }\r\n\r\n        private Player createPlayer(String name, String clazz, int level) {\r\n            Player p = new Player();\r\n            p.setId(1L);\r\n            p.setName(name);\r\n            p.setClazz(clazz);\r\n            p.setLevel(level);\r\n            return p;\r\n        }\r\n    }\r\n\r\nBut when I try to run the tests I get the error\r\n\r\n    Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 0.041 sec &lt;&lt;&lt; FAILURE! - in com.lapots.game.monolith.repository.relational.RelationalPlayerRepositoryTests\r\n    initializationError(com.lapots.game.monolith.repository.relational.RelationalPlayerRepositoryTests)  Time elapsed: 0.006 sec  &lt;&lt;&lt; ERROR!\r\n    java.lang.IllegalStateException: Unable to find a @SpringBootConfiguration, you need to use @ContextConfiguration or @SpringBootTest(classes=...) with your test\r\n    at org.springframework.util.Assert.state(Assert.java:70)\r\n    at org.springframework.boot.test.context.SpringBootTestContextBootstrapper.getOrFindConfigurationClasses(SpringBootTestContextBootstrapper.java:202)\r\n    at org.springframework.boot.test.context.SpringBootTestContextBootstrapper.processMergedContextConfiguration(SpringBootTestContextBootstrapper.java:137)\r\n    at org.springframework.test.context.support.AbstractTestContextBootstrapper.buildMergedContextConfiguration(AbstractTestContextBootstrapper.java:409)\r\n    at org.springframework.test.context.support.AbstractTestContextBootstrapper.buildDefaultMergedContextConfiguration(AbstractTestContextBootstrapper.java:323)\r\n    at org.springframework.test.context.support.AbstractTestContextBootstrapper.buildMergedContextConfiguration(AbstractTestContextBootstrapper.java:277)\r\n    at org.springframework.test.context.support.AbstractTestContextBootstrapper.buildTestContext(AbstractTestContextBootstrapper.java:112)\r\n    at org.springframework.boot.test.context.SpringBootTestContextBootstrapper.buildTestContext(SpringBootTestContextBootstrapper.java:82)\r\n    at org.springframework.test.context.TestContextManager.&lt;init&gt;(TestContextManager.java:120)\r\n    at org.springframework.test.context.TestContextManager.&lt;init&gt;(TestContextManager.java:105)\r\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTestContextManager(SpringJUnit4ClassRunner.java:152)\r\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.&lt;init&gt;(SpringJUnit4ClassRunner.java:143)\r\n    at org.springframework.test.context.junit4.SpringRunner.&lt;init&gt;(SpringRunner.java:49)\r\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n    at org.junit.internal.builders.AnnotatedBuilder.buildRunner(AnnotatedBuilder.java:104)\r\n    at org.junit.internal.builders.AnnotatedBuilder.runnerForClass(AnnotatedBuilder.java:86)\r\n    at org.junit.runners.model.RunnerBuilder.safeRunnerForClass(RunnerBuilder.java:59)\r\n    at org.junit.internal.builders.AllDefaultPossibilitiesBuilder.runnerForClass(AllDefaultPossibilitiesBuilder.java:26)\r\n    at org.junit.runners.model.RunnerBuilder.safeRunnerForClass(RunnerBuilder.java:59)\r\n    at org.junit.internal.requests.ClassRequest.getRunner(ClassRequest.java:33)\r\n    at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:283)\r\n    at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:173)\r\n    at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:153)\r\n    at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:128)\r\n    at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:203)\r\n    at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:155)\r\n    at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103)\r\n\r\nWhat is the problem?\r\nDomain `Player` loooks like this\r\n\r\n    @Data\r\n    @Entity\r\n    @Table(schema = &quot;app&quot;, name = &quot;players&quot;)\r\n    public class Player {\r\n        @Id\r\n        @GeneratedValue\r\n        private Long id;\r\n\r\n        @Transient\r\n        Set&lt;Player&gt; comrades;\r\n\r\n        @Column(unique = true)\r\n        private String name;\r\n\r\n        private int level;\r\n\r\n        @Column(name = &quot;class&quot;)\r\n        private String clazz;\r\n    }","title":"Unable to find a @SpringBootConfiguration, you need to use @ContextConfiguration or @SpringBootTest(classes=...) with your test","body":"<p>I am using <code>Spring Data JPA</code> and <code>Spring Boot</code>. The layout of the application is this</p>\n\n<pre><code>main\n    +-- java\n        +-- com/lapots/game/monolith\n            +-- repository/relational\n                +--RelationalPlayerRepository.java\n            +-- web\n                +--GrandJourneyMonolithApplication.java\n                +-- config\n                    +-- RelationalDBConfiguration.java\ntest\n    +-- java\n        +-- com/lapots/game/monolith\n            +-- repository/relational\n                +-- RelationalPlayerRepositoryTests.java\n            +-- web\n                +-- GrandJourneyMonolithApplicationTests.java\n</code></pre>\n\n<p>The repository for my object looks like this</p>\n\n<pre><code>public interface RelationalPlayerRepository extends JpaRepository&lt;Player, Long&gt; {\n}\n</code></pre>\n\n<p>Additionally for the repositories I provided a configuration</p>\n\n<pre><code>@Configuration\n@EnableJpaRepositories(basePackages = \"com.lapots.game.monolith.repository.relational\")\n@EntityScan(\"com.lapots.game.monolith.domain\")\npublic class RelationalDBConfiguration {\n}\n</code></pre>\n\n<p>My main application looks like this</p>\n\n<pre><code>@SpringBootApplication\n@ComponentScan(\"com.lapots.game.monolith\")\npublic class GrandJourneyMonolithApplication {\n\n    @Autowired\n    private RelationalPlayerRepository relationalPlayerRepository;\n\n    public static void main(String[] args) {\n        SpringApplication.run(GrandJourneyMonolithApplication.class, args);\n    }\n\n    @Bean\n    public CommandLineRunner initPlayers() {\n        return (args) -&gt; {\n            Player p = new Player();\n            p.setLevel(10);\n            p.setName(\"Master1909\");\n            p.setClazz(\"warrior\");\n\n            relationalPlayerRepository.save(p);\n        };\n    }\n}\n</code></pre>\n\n<p>Test for application looks like this</p>\n\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest\npublic class GrandJourneyMonolithApplicationTests {\n\n    @Test\n    public void contextLoads() {\n    }\n\n}\n</code></pre>\n\n<p>The test for repository looks like this</p>\n\n<pre><code>@RunWith(SpringRunner.class)\n@DataJpaTest\npublic class RelationalPlayerRepositoryTests {\n\n    @Autowired\n    private TestEntityManager entityManager;\n\n    @Autowired\n    private RelationalPlayerRepository repository;\n\n    @Test\n    public void testBasic() {\n        Player expected = createPlayer(\"Master12\", \"warrior\", 10);\n        this.entityManager.persist(expected);\n        List&lt;Player&gt; players = repository.findAll();\n        assertThat(repository.findAll()).isNotEmpty();\n        assertEquals(expected, players.get(0));\n    }\n\n    private Player createPlayer(String name, String clazz, int level) {\n        Player p = new Player();\n        p.setId(1L);\n        p.setName(name);\n        p.setClazz(clazz);\n        p.setLevel(level);\n        return p;\n    }\n}\n</code></pre>\n\n<p>But when I try to run the tests I get the error</p>\n\n<pre><code>Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 0.041 sec &lt;&lt;&lt; FAILURE! - in com.lapots.game.monolith.repository.relational.RelationalPlayerRepositoryTests\ninitializationError(com.lapots.game.monolith.repository.relational.RelationalPlayerRepositoryTests)  Time elapsed: 0.006 sec  &lt;&lt;&lt; ERROR!\njava.lang.IllegalStateException: Unable to find a @SpringBootConfiguration, you need to use @ContextConfiguration or @SpringBootTest(classes=...) with your test\nat org.springframework.util.Assert.state(Assert.java:70)\nat org.springframework.boot.test.context.SpringBootTestContextBootstrapper.getOrFindConfigurationClasses(SpringBootTestContextBootstrapper.java:202)\nat org.springframework.boot.test.context.SpringBootTestContextBootstrapper.processMergedContextConfiguration(SpringBootTestContextBootstrapper.java:137)\nat org.springframework.test.context.support.AbstractTestContextBootstrapper.buildMergedContextConfiguration(AbstractTestContextBootstrapper.java:409)\nat org.springframework.test.context.support.AbstractTestContextBootstrapper.buildDefaultMergedContextConfiguration(AbstractTestContextBootstrapper.java:323)\nat org.springframework.test.context.support.AbstractTestContextBootstrapper.buildMergedContextConfiguration(AbstractTestContextBootstrapper.java:277)\nat org.springframework.test.context.support.AbstractTestContextBootstrapper.buildTestContext(AbstractTestContextBootstrapper.java:112)\nat org.springframework.boot.test.context.SpringBootTestContextBootstrapper.buildTestContext(SpringBootTestContextBootstrapper.java:82)\nat org.springframework.test.context.TestContextManager.&lt;init&gt;(TestContextManager.java:120)\nat org.springframework.test.context.TestContextManager.&lt;init&gt;(TestContextManager.java:105)\nat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTestContextManager(SpringJUnit4ClassRunner.java:152)\nat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.&lt;init&gt;(SpringJUnit4ClassRunner.java:143)\nat org.springframework.test.context.junit4.SpringRunner.&lt;init&gt;(SpringRunner.java:49)\nat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\nat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\nat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\nat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\nat org.junit.internal.builders.AnnotatedBuilder.buildRunner(AnnotatedBuilder.java:104)\nat org.junit.internal.builders.AnnotatedBuilder.runnerForClass(AnnotatedBuilder.java:86)\nat org.junit.runners.model.RunnerBuilder.safeRunnerForClass(RunnerBuilder.java:59)\nat org.junit.internal.builders.AllDefaultPossibilitiesBuilder.runnerForClass(AllDefaultPossibilitiesBuilder.java:26)\nat org.junit.runners.model.RunnerBuilder.safeRunnerForClass(RunnerBuilder.java:59)\nat org.junit.internal.requests.ClassRequest.getRunner(ClassRequest.java:33)\nat org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:283)\nat org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:173)\nat org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:153)\nat org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:128)\nat org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:203)\nat org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:155)\nat org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103)\n</code></pre>\n\n<p>What is the problem?\nDomain <code>Player</code> loooks like this</p>\n\n<pre><code>@Data\n@Entity\n@Table(schema = \"app\", name = \"players\")\npublic class Player {\n    @Id\n    @GeneratedValue\n    private Long id;\n\n    @Transient\n    Set&lt;Player&gt; comrades;\n\n    @Column(unique = true)\n    private String name;\n\n    private int level;\n\n    @Column(name = \"class\")\n    private String clazz;\n}\n</code></pre>\n"},{"tags":["java","certificate","ssl-certificate","keystore","keytool"],"comments":[{"owner":{"account_id":155770,"reputation":120153,"user_id":372643,"accept_rate":88,"display_name":"Bruno"},"score":0,"creation_date":1343065746,"post_id":11617210,"comment_id":15382953,"body_markdown":"I wouldn&#39;t necessarily rely on that code. Things like `Security.addProvider(new com.sun.net.ssl.internal.ssl.Provider())` are completely unnecessary in the first part. The second doesn&#39;t do any cert verification. Try with a plain `URLConnection` to start with. Are you sure you&#39;ve modified `cacerts` in `lib/security` of your JRE installation? Have you tried the [`trustmanager` debugging option](http://docs.oracle.com/javase/7/docs/technotes/guides/security/jsse/JSSERefGuide.html#Debug)?","body":"I wouldn&#39;t necessarily rely on that code. Things like <code>Security.addProvider(new com.sun.net.ssl.internal.ssl.Provider())</code> are completely unnecessary in the first part. The second doesn&#39;t do any cert verification. Try with a plain <code>URLConnection</code> to start with. Are you sure you&#39;ve modified <code>cacerts</code> in <code>lib&#47;security</code> of your JRE installation? Have you tried the <a href=\"http://docs.oracle.com/javase/7/docs/technotes/guides/security/jsse/JSSERefGuide.html#Debug\" rel=\"nofollow noreferrer\"><code>trustmanager</code> debugging option</a>?"}],"answers":[{"tags":[],"owner":{"account_id":16279,"reputation":12487,"user_id":35264,"accept_rate":74,"display_name":"Sarel Botha"},"down_vote_count":3,"up_vote_count":280,"is_accepted":false,"score":277,"last_activity_date":1583142543,"creation_date":1343065389,"answer_id":11617655,"question_id":11617210,"body_markdown":"**On Windows** the easiest way is to use the program [portecle][1].\r\n\r\n1. Download and install portecle.\r\n1. First make 100% sure you know which JRE or JDK is being used to run your program. On a 64 bit Windows 7 there could be quite a few JREs. Process Explorer can help you with this or you can use: `System.out.println(System.getProperty(&quot;java.home&quot;));`\r\n1. Copy the file JAVA_HOME\\lib\\security\\cacerts to another folder.\r\n1. In Portecle click File &gt; Open Keystore File\r\n1. Select the cacerts file\r\n1. Enter this password: changeit\r\n1. Click Tools &gt; Import Trusted Certificate\r\n1. Browse for the file mycertificate.pem\r\n1. Click Import\r\n1. Click OK for the warning about the trust path.\r\n1. Click OK when it displays the details about the certificate.\r\n1. Click Yes to accept the certificate as trusted.\r\n1. When it asks for an alias click OK and click OK again when it says it has imported the certificate.\r\n1. Click save. Dont forget this or the change is discarded.\r\n1. Copy the file cacerts back where you found it.\r\n\r\n**On Linux:**\r\n\r\nYou can download the SSL certificate from a web server that is already using it like this:\r\n\r\n    $ echo -n | openssl s_client -connect www.example.com:443 | \\\r\n       sed -ne &#39;/-BEGIN CERTIFICATE-/,/-END CERTIFICATE-/p&#39; &gt; /tmp/examplecert.crt\r\n\r\nOptionally verify the certificate information:\r\n\r\n    $ openssl x509 -in /tmp/examplecert.crt -text\r\n\r\nImport the certificate into the Java cacerts keystore:\r\n\r\n    $ keytool -import -trustcacerts -keystore /opt/java/jre/lib/security/cacerts \\\r\n       -storepass changeit -noprompt -alias mycert -file /tmp/examplecert.crt\r\n\r\n  [1]: http://portecle.sourceforge.net/","title":"How to properly import a selfsigned certificate into Java keystore that is available to all Java applications by default?","body":"<p><strong>On Windows</strong> the easiest way is to use the program <a href=\"http://portecle.sourceforge.net/\" rel=\"noreferrer\">portecle</a>.</p>\n\n<ol>\n<li>Download and install portecle.</li>\n<li>First make 100% sure you know which JRE or JDK is being used to run your program. On a 64 bit Windows 7 there could be quite a few JREs. Process Explorer can help you with this or you can use: <code>System.out.println(System.getProperty(\"java.home\"));</code></li>\n<li>Copy the file JAVA_HOME\\lib\\security\\cacerts to another folder.</li>\n<li>In Portecle click File > Open Keystore File</li>\n<li>Select the cacerts file</li>\n<li>Enter this password: changeit</li>\n<li>Click Tools > Import Trusted Certificate</li>\n<li>Browse for the file mycertificate.pem</li>\n<li>Click Import</li>\n<li>Click OK for the warning about the trust path.</li>\n<li>Click OK when it displays the details about the certificate.</li>\n<li>Click Yes to accept the certificate as trusted.</li>\n<li>When it asks for an alias click OK and click OK again when it says it has imported the certificate.</li>\n<li>Click save. Dont forget this or the change is discarded.</li>\n<li>Copy the file cacerts back where you found it.</li>\n</ol>\n\n<p><strong>On Linux:</strong></p>\n\n<p>You can download the SSL certificate from a web server that is already using it like this:</p>\n\n<pre><code>$ echo -n | openssl s_client -connect www.example.com:443 | \\\n   sed -ne '/-BEGIN CERTIFICATE-/,/-END CERTIFICATE-/p' &gt; /tmp/examplecert.crt\n</code></pre>\n\n<p>Optionally verify the certificate information:</p>\n\n<pre><code>$ openssl x509 -in /tmp/examplecert.crt -text\n</code></pre>\n\n<p>Import the certificate into the Java cacerts keystore:</p>\n\n<pre><code>$ keytool -import -trustcacerts -keystore /opt/java/jre/lib/security/cacerts \\\n   -storepass changeit -noprompt -alias mycert -file /tmp/examplecert.crt\n</code></pre>\n"},{"tags":[],"owner":{"account_id":35261,"reputation":163460,"user_id":99834,"accept_rate":46,"display_name":"sorin"},"down_vote_count":1,"up_vote_count":37,"is_accepted":false,"score":36,"last_activity_date":1423061292,"creation_date":1423061292,"answer_id":28324237,"question_id":11617210,"body_markdown":"I ended up writing a small script that adds the certificates to the keystores, so it is much easier to use.\r\n\r\nYou can get the latest version from https://github.com/ssbarnea/keytool-trust\r\n    \r\n    #!/bin/bash\r\n    # version 1.0\r\n    # https://github.com/ssbarnea/keytool-trust\r\n    REMHOST=$1\r\n    REMPORT=${2:-443}\r\n    \r\n    KEYSTORE_PASS=changeit\r\n    KEYTOOL=&quot;sudo keytool&quot;\r\n    \r\n    # /etc/java-6-sun/security/cacerts\r\n    \r\n    for CACERTS in \t/usr/lib/jvm/java-8-oracle/jre/lib/security/cacerts \\\r\n    \t/usr/lib/jvm/java-7-oracle/jre/lib/security/cacerts \\\r\n    \t&quot;/System/Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents/Home/lib/security/cacerts&quot; \\\r\n    \t&quot;/Applications/Xcode.app/Contents/Applications/Application Loader.app/Contents/MacOS/itms/java/lib/security/cacerts&quot;\r\n    do\r\n    \r\n    if [ -e &quot;$CACERTS&quot; ]\r\n    then\r\n        echo --- Adding certs to $CACERTS\r\n    \r\n    # FYI: the default keystore is located in ~/.keystore\r\n    \r\n    if [ -z &quot;$REMHOST&quot; ]\r\n        then\r\n        echo &quot;ERROR: Please specify the server name to import the certificatin from, eventually followed by the port number, if other than 443.&quot;\r\n        exit 1\r\n        fi\r\n    \r\n    set -e\r\n    \r\n    rm -f $REMHOST:$REMPORT.pem\r\n    \r\n    if openssl s_client -connect $REMHOST:$REMPORT 1&gt;/tmp/keytool_stdout 2&gt;/tmp/output &lt;/dev/null\r\n            then\r\n            :\r\n            else\r\n            cat /tmp/keytool_stdout\r\n            cat /tmp/output\r\n            exit 1\r\n            fi\r\n    \r\n    if sed -ne &#39;/-BEGIN CERTIFICATE-/,/-END CERTIFICATE-/p&#39; &lt;/tmp/keytool_stdout &gt; /tmp/$REMHOST:$REMPORT.pem\r\n            then\r\n            :\r\n            else\r\n            echo &quot;ERROR: Unable to extract the certificate from $REMHOST:$REMPORT ($?)&quot;\r\n            cat /tmp/output\r\n            fi\r\n    \r\n    if $KEYTOOL -list -storepass ${KEYSTORE_PASS} -alias $REMHOST:$REMPORT &gt;/dev/null\r\n        then\r\n        echo &quot;Key of $REMHOST already found, skipping it.&quot;\r\n        else\r\n        $KEYTOOL -import -trustcacerts -noprompt -storepass ${KEYSTORE_PASS} -alias $REMHOST:$REMPORT -file /tmp/$REMHOST:$REMPORT.pem\r\n        fi\r\n    \r\n    if $KEYTOOL -list -storepass ${KEYSTORE_PASS} -alias $REMHOST:$REMPORT -keystore &quot;$CACERTS&quot; &gt;/dev/null\r\n        then\r\n        echo &quot;Key of $REMHOST already found in cacerts, skipping it.&quot;\r\n        else\r\n        $KEYTOOL -import -trustcacerts -noprompt -keystore &quot;$CACERTS&quot; -storepass ${KEYSTORE_PASS} -alias $REMHOST:$REMPORT -file /tmp/$REMHOST:$REMPORT.pem\r\n        fi\r\n    \r\n    fi\r\n    \r\n    done\r\n\r\n```","title":"How to properly import a selfsigned certificate into Java keystore that is available to all Java applications by default?","body":"<p>I ended up writing a small script that adds the certificates to the keystores, so it is much easier to use.</p>\n\n<p>You can get the latest version from <a href=\"https://github.com/ssbarnea/keytool-trust\" rel=\"noreferrer\">https://github.com/ssbarnea/keytool-trust</a></p>\n\n<pre><code>#!/bin/bash\n# version 1.0\n# https://github.com/ssbarnea/keytool-trust\nREMHOST=$1\nREMPORT=${2:-443}\n\nKEYSTORE_PASS=changeit\nKEYTOOL=\"sudo keytool\"\n\n# /etc/java-6-sun/security/cacerts\n\nfor CACERTS in  /usr/lib/jvm/java-8-oracle/jre/lib/security/cacerts \\\n    /usr/lib/jvm/java-7-oracle/jre/lib/security/cacerts \\\n    \"/System/Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents/Home/lib/security/cacerts\" \\\n    \"/Applications/Xcode.app/Contents/Applications/Application Loader.app/Contents/MacOS/itms/java/lib/security/cacerts\"\ndo\n\nif [ -e \"$CACERTS\" ]\nthen\n    echo --- Adding certs to $CACERTS\n\n# FYI: the default keystore is located in ~/.keystore\n\nif [ -z \"$REMHOST\" ]\n    then\n    echo \"ERROR: Please specify the server name to import the certificatin from, eventually followed by the port number, if other than 443.\"\n    exit 1\n    fi\n\nset -e\n\nrm -f $REMHOST:$REMPORT.pem\n\nif openssl s_client -connect $REMHOST:$REMPORT 1&gt;/tmp/keytool_stdout 2&gt;/tmp/output &lt;/dev/null\n        then\n        :\n        else\n        cat /tmp/keytool_stdout\n        cat /tmp/output\n        exit 1\n        fi\n\nif sed -ne '/-BEGIN CERTIFICATE-/,/-END CERTIFICATE-/p' &lt;/tmp/keytool_stdout &gt; /tmp/$REMHOST:$REMPORT.pem\n        then\n        :\n        else\n        echo \"ERROR: Unable to extract the certificate from $REMHOST:$REMPORT ($?)\"\n        cat /tmp/output\n        fi\n\nif $KEYTOOL -list -storepass ${KEYSTORE_PASS} -alias $REMHOST:$REMPORT &gt;/dev/null\n    then\n    echo \"Key of $REMHOST already found, skipping it.\"\n    else\n    $KEYTOOL -import -trustcacerts -noprompt -storepass ${KEYSTORE_PASS} -alias $REMHOST:$REMPORT -file /tmp/$REMHOST:$REMPORT.pem\n    fi\n\nif $KEYTOOL -list -storepass ${KEYSTORE_PASS} -alias $REMHOST:$REMPORT -keystore \"$CACERTS\" &gt;/dev/null\n    then\n    echo \"Key of $REMHOST already found in cacerts, skipping it.\"\n    else\n    $KEYTOOL -import -trustcacerts -noprompt -keystore \"$CACERTS\" -storepass ${KEYSTORE_PASS} -alias $REMHOST:$REMPORT -file /tmp/$REMHOST:$REMPORT.pem\n    fi\n\nfi\n\ndone\n</code></pre>\n\n<p>```</p>\n"},{"tags":[],"owner":{"account_id":1544964,"reputation":1153,"user_id":1438692,"accept_rate":83,"display_name":"Vikky"},"down_vote_count":2,"up_vote_count":64,"is_accepted":false,"score":62,"last_activity_date":1672220168,"creation_date":1426727086,"answer_id":29135496,"question_id":11617210,"body_markdown":"    D:\\Java\\jdk1.5.0_10\\bin\\keytool -import -file &quot;D:\\Certificates\\SDS services\\Dev\\dev-sdsservices-was8.infavig.com.cer&quot; -keystore &quot;D:\\Java\\jdk1.5.0_10\\jre\\lib\\security\\cacerts&quot; -alias &quot;sds certificate&quot;","title":"How to properly import a selfsigned certificate into Java keystore that is available to all Java applications by default?","body":"<pre><code>D:\\Java\\jdk1.5.0_10\\bin\\keytool -import -file &quot;D:\\Certificates\\SDS services\\Dev\\dev-sdsservices-was8.infavig.com.cer&quot; -keystore &quot;D:\\Java\\jdk1.5.0_10\\jre\\lib\\security\\cacerts&quot; -alias &quot;sds certificate&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1864818,"reputation":325,"user_id":1688640,"display_name":"Bharat Darakh"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1621362784,"creation_date":1431082381,"answer_id":30122034,"question_id":11617210,"body_markdown":"If you are using a certificate signed by a Certificate Authority that is not included in the Java cacerts file by default, you need to complete the following configuration for HTTPS connections.\r\nTo import certificates into cacerts:\r\n\r\n1. Open Windows Explorer and navigate to the cacerts file, which is located in the jre\\lib\\security subfolder where AX Core Client is installed. The default location is C:\\Program Files\\ACL Software\\AX Core Client\\jre\\lib\\security\r\n2. Create a backup copy of the file before making any changes.\r\n3. Depending on the certificates you receive from the Certificate Authority you are using, you may need to import an intermediate certificate and/or root certificate into the cacerts file. Use the following syntax to import certificates:\r\n\r\n    `keytool -import -alias &lt;alias&gt; -keystore &lt;cacerts_file&gt; -trustcacerts -file &lt;certificate_filename&gt;`\r\n\r\n4. If you are importing both certificates the alias specified for each certificate should be unique.\r\n5. Type the password for the keystore at the Password prompt and press Enter. The default Java password for the cacerts file is changeit.\r\n\tType y at the Trust this certificate? prompt and press Enter.","title":"How to properly import a selfsigned certificate into Java keystore that is available to all Java applications by default?","body":"<p>If you are using a certificate signed by a Certificate Authority that is not included in the Java cacerts file by default, you need to complete the following configuration for HTTPS connections.\nTo import certificates into cacerts:</p>\n<ol>\n<li><p>Open Windows Explorer and navigate to the cacerts file, which is located in the jre\\lib\\security subfolder where AX Core Client is installed. The default location is C:\\Program Files\\ACL Software\\AX Core Client\\jre\\lib\\security</p>\n</li>\n<li><p>Create a backup copy of the file before making any changes.</p>\n</li>\n<li><p>Depending on the certificates you receive from the Certificate Authority you are using, you may need to import an intermediate certificate and/or root certificate into the cacerts file. Use the following syntax to import certificates:</p>\n<p><code>keytool -import -alias &lt;alias&gt; -keystore &lt;cacerts_file&gt; -trustcacerts -file &lt;certificate_filename&gt;</code></p>\n</li>\n<li><p>If you are importing both certificates the alias specified for each certificate should be unique.</p>\n</li>\n<li><p>Type the password for the keystore at the Password prompt and press Enter. The default Java password for the cacerts file is changeit.\nType y at the Trust this certificate? prompt and press Enter.</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":4260201,"reputation":134,"user_id":3484756,"display_name":"Gradient"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1481726561,"creation_date":1481726561,"answer_id":41145344,"question_id":11617210,"body_markdown":"Might want to try\r\n\r\n    keytool -import -trustcacerts -noprompt -keystore &lt;full path to cacerts&gt; -storepass changeit -alias $REMHOST -file $REMHOST.pem\r\n\r\ni honestly have no idea where it puts your certificate if you just write `cacerts` just give it a full path","title":"How to properly import a selfsigned certificate into Java keystore that is available to all Java applications by default?","body":"<p>Might want to try</p>\n\n<pre><code>keytool -import -trustcacerts -noprompt -keystore &lt;full path to cacerts&gt; -storepass changeit -alias $REMHOST -file $REMHOST.pem\n</code></pre>\n\n<p>i honestly have no idea where it puts your certificate if you just write <code>cacerts</code> just give it a full path</p>\n"},{"tags":[],"owner":{"account_id":7152159,"reputation":1531,"user_id":5465790,"display_name":"Walk"},"down_vote_count":1,"up_vote_count":20,"is_accepted":false,"score":19,"last_activity_date":1490255812,"creation_date":1490253275,"answer_id":42969473,"question_id":11617210,"body_markdown":"This worked for me. :) \r\n\r\n&lt;pre&gt;\r\nsudo keytool -importcert -file filename.cer -alias randomaliasname -keystore $JAVA_HOME/jre/lib/security/cacerts -storepass changeit \r\n&lt;/pre&gt;","title":"How to properly import a selfsigned certificate into Java keystore that is available to all Java applications by default?","body":"<p>This worked for me. :) </p>\n\n<pre>\nsudo keytool -importcert -file filename.cer -alias randomaliasname -keystore $JAVA_HOME/jre/lib/security/cacerts -storepass changeit \n</pre>\n"},{"tags":[],"owner":{"account_id":182171,"reputation":370,"user_id":416688,"display_name":"Jordan Gee"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1501868206,"creation_date":1501868206,"answer_id":45512588,"question_id":11617210,"body_markdown":"The simple command &#39;keytool&#39; also works on Windows and/or with Cygwin. \r\n\r\n**IF you&#39;re using Cygwin** here is the modified command that I used from the bottom of &quot;S.Botha&#39;s&quot; answer :\r\n\r\n 1. make sure you identify the JRE inside the JDK that you will be using\r\n 2. Start your prompt/cygwin as admin\r\n 3. go inside the bin directory of that JDK e.g.   cd /cygdrive/c/Program\\ Files/Java/jdk1.8.0_121/jre/bin\r\n 4. Execute the keytool command from inside it, where you provide the path to your new Cert at the end, like so:\r\n\r\n        ./keytool.exe -import -trustcacerts -keystore ../lib/security/cacerts  -storepass changeit -noprompt -alias myownaliasformysystem -file &quot;D:\\Stuff\\saved-certs\\ca.cert&quot;\r\n\r\n\r\nNotice, because if this is under Cygwin you&#39;re giving a path to a non-Cygwin program, so the path is DOS-like and in quotes. \r\n","title":"How to properly import a selfsigned certificate into Java keystore that is available to all Java applications by default?","body":"<p>The simple command 'keytool' also works on Windows and/or with Cygwin. </p>\n\n<p><strong>IF you're using Cygwin</strong> here is the modified command that I used from the bottom of \"S.Botha's\" answer :</p>\n\n<ol>\n<li>make sure you identify the JRE inside the JDK that you will be using</li>\n<li>Start your prompt/cygwin as admin</li>\n<li>go inside the bin directory of that JDK e.g.   cd /cygdrive/c/Program\\ Files/Java/jdk1.8.0_121/jre/bin</li>\n<li><p>Execute the keytool command from inside it, where you provide the path to your new Cert at the end, like so:</p>\n\n<pre><code>./keytool.exe -import -trustcacerts -keystore ../lib/security/cacerts  -storepass changeit -noprompt -alias myownaliasformysystem -file \"D:\\Stuff\\saved-certs\\ca.cert\"\n</code></pre></li>\n</ol>\n\n<p>Notice, because if this is under Cygwin you're giving a path to a non-Cygwin program, so the path is DOS-like and in quotes. </p>\n"},{"tags":[],"owner":{"account_id":5512007,"reputation":399,"user_id":4378009,"display_name":"Apuri Srikanth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1552494101,"creation_date":1552494101,"answer_id":55146668,"question_id":11617210,"body_markdown":"**install certificate in java linux**\r\n\r\n/opt/jdk(version)/bin/keytool -import -alias aliasname -file certificate.cer -keystore cacerts -storepass password\r\n\r\n","title":"How to properly import a selfsigned certificate into Java keystore that is available to all Java applications by default?","body":"<p><strong>install certificate in java linux</strong></p>\n\n<p>/opt/jdk(version)/bin/keytool -import -alias aliasname -file certificate.cer -keystore cacerts -storepass password</p>\n"},{"tags":[],"owner":{"account_id":16121915,"reputation":709,"user_id":11637696,"display_name":"Hilal Aissani"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1640115491,"creation_date":1595301904,"answer_id":63006868,"question_id":11617210,"body_markdown":"Fist get the certificate from the provider.  Create a file ends with .cer and paste the certificate.\r\n    \r\nCopy the text file or paste it somewhere you can access it then use the cmd prompt as an admin and cd to the bin of the jdk; the command that will be used is the:  `keytool`\r\n\r\nChange the password of the keystore with:\r\n    \r\n    keytool -storepasswd -keystore &quot;path of the key store from c\\ and down&quot;\r\n    \r\nThe password is : `changeit`\r\n\r\nThen you will be asked to enter the new password twice.  Then type the following:\r\n    \r\n    keytool -importcert -file &quot;C:\\Program Files\\Java\\jdk-13.0.2\\lib\\security\\certificateFile.cer&quot; -alias chooseAname -keystore  &quot;C:\\Program Files\\Java\\jdk-13.0.2\\lib\\security\\cacerts&quot;","title":"How to properly import a selfsigned certificate into Java keystore that is available to all Java applications by default?","body":"<p>Fist get the certificate from the provider.  Create a file ends with .cer and paste the certificate.</p>\n<p>Copy the text file or paste it somewhere you can access it then use the cmd prompt as an admin and cd to the bin of the jdk; the command that will be used is the:  <code>keytool</code></p>\n<p>Change the password of the keystore with:</p>\n<pre><code>keytool -storepasswd -keystore &quot;path of the key store from c\\ and down&quot;\n</code></pre>\n<p>The password is : <code>changeit</code></p>\n<p>Then you will be asked to enter the new password twice.  Then type the following:</p>\n<pre><code>keytool -importcert -file &quot;C:\\Program Files\\Java\\jdk-13.0.2\\lib\\security\\certificateFile.cer&quot; -alias chooseAname -keystore  &quot;C:\\Program Files\\Java\\jdk-13.0.2\\lib\\security\\cacerts&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6235501,"reputation":3140,"user_id":4850949,"accept_rate":57,"display_name":"not2savvy"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1642438904,"creation_date":1625158391,"answer_id":68214137,"question_id":11617210,"body_markdown":"You can use `keytool` with your Java installation which should be in `$JAVA_HOME/bin`. The Java keystore is located in `$JAVA_HOME/lib/security/cacerts` or `$JAVA_HOME/jre/lib/security/cacerts` which depends on if you have the JDK or JRE installed.\r\n\r\nIf using Java 9 or later, you don&#39;t need to know the exact location. You can use the `-cacerts` option as a shortcut. \r\n\r\nJava 9+\r\n-------\r\n\r\nSo with Java 9 (aka Java 1.9) or later, simply use \r\n\r\n    keytool -importcert -trustcacerts -cacerts -file myCert.pem -alias myCert\r\n\r\nEarlier Java versions\r\n---------------------\r\n\r\nWith Java 8 (aka 1.8) or older, you must specify the keystore location like so\r\n\r\n    keytool -importcert -trustcacerts -keystore $JAVA_HOME/lib/security/cacerts -file myCert.pem -alias myCert\r\n\r\nWith Java 5 (aka 1.5) or older, the `-importcert` option did not exist. It was called `-import`, but otherwise it&#39;s identical. So use\r\n\r\n    keytool -import -trustcacerts -keystore $JAVA_HOME/lib/security/cacerts -file myCert.pem -alias myCert\r\n\r\nAdditional options\r\n------------------\r\n\r\n - You will be asked for the truststore password, The default password is *changeit*.\r\n - If you need to run the import unattended, you can add `-storepass changeit -noprompt`\r\n\r\nFormats\r\n-------\r\n\r\n`keytool` can import X.509 v1, v2, and v3 certificates, and PKCS#7 formatted certificate chains consisting of certificates of that type (P7B). The data to be imported must be provided \r\n\r\n - either in binary encoding format (DER)\r\n - or in printable encoding format (aka base64 encoded), enclosed in `-----BEGIN` and `-----END` lines (PEM)\r\n\r\n*Note: I&#39;m not sure if certificate chains in PEM format really work.*\r\n\r\n\r\nBonus script\r\n------------\r\n\r\nI&#39;m afraid, it&#39;s bash, so no solution for Windows users.\r\n\r\nThis simple script, created thanks to several useful questions and smart answers here on stackoverflow, checks the Java version and - if necessary - determines the correct keystore location, and it can import multiple certificates in one command. Note that you must pass the file pattern argument in single quotes (see usage).\r\n\r\naddcerts.sh\r\n````\r\n#!/bin/bash\r\n\r\n# Add custom root certificates to Java trust store\r\n\r\nif [ &quot;$#&quot; -ne 1 ]; then\r\n    SCRIPT=`basename &quot;$0&quot;`\r\n    echo &quot;Usage: $SCRIPT &#39;path/to/certs/*&#39;&quot;\r\n    exit 1\r\nfi\r\n\r\nCERTFILES=$1\t\r\n\r\nJAVA_VERSION=`java -version 2&gt;&amp;1 | head -1 | cut -d&#39;&quot;&#39; -f2 | sed &#39;/^1\\./s///&#39; | cut -d&#39;.&#39; -f1`\r\n\r\nif (( $JAVA_VERSION &gt;= 9 )); then\r\n\tCACERTS=&quot;-cacerts&quot;\r\nelse\t\r\n\t# Check where cacerts are located\r\n\t# differs depending or jdk or jre installed\r\n\tif [ -d &quot;$JAVA_HOME/jre&quot; ]; then\r\n\t\tCACERTS=&quot;$JAVA_HOME/jre&quot;\r\n\telse\r\n\t\tCACERTS=&quot;$JAVA_HOME&quot;\r\n\tfi\r\n\tCACERTS=&quot;-keystore $CACERTS/lib/security/cacerts&quot;\t\r\nfi\t\t\r\n\r\n# Now add certificates \r\nfor CERTFILE in $CERTFILES; do\r\n\t# Remove path, then suffix to derive alias from filename\r\n    ALIAS=${CERTFILE##*/}  \r\n\tALIAS=${ALIAS%.*}\r\n\t$JAVA_HOME/bin/keytool -importcert -file &quot;$CERTFILE&quot; -alias &quot;$ALIAS&quot; $CACERTS -trustcacerts -storepass changeit -noprompt\r\n\tif [ $? -ne 0 ]; then\r\n\t\techo &quot;Failed to add $CERTFILE as $ALIAS to $CACERTS&quot;\r\n\t\texit 1\r\n\tfi\t\r\ndone\r\n````\r\n\r\n \r\n\r\n\r\n\r\n","title":"How to properly import a selfsigned certificate into Java keystore that is available to all Java applications by default?","body":"<p>You can use <code>keytool</code> with your Java installation which should be in <code>$JAVA_HOME/bin</code>. The Java keystore is located in <code>$JAVA_HOME/lib/security/cacerts</code> or <code>$JAVA_HOME/jre/lib/security/cacerts</code> which depends on if you have the JDK or JRE installed.</p>\n<p>If using Java 9 or later, you don't need to know the exact location. You can use the <code>-cacerts</code> option as a shortcut.</p>\n<h2>Java 9+</h2>\n<p>So with Java 9 (aka Java 1.9) or later, simply use</p>\n<pre><code>keytool -importcert -trustcacerts -cacerts -file myCert.pem -alias myCert\n</code></pre>\n<h2>Earlier Java versions</h2>\n<p>With Java 8 (aka 1.8) or older, you must specify the keystore location like so</p>\n<pre><code>keytool -importcert -trustcacerts -keystore $JAVA_HOME/lib/security/cacerts -file myCert.pem -alias myCert\n</code></pre>\n<p>With Java 5 (aka 1.5) or older, the <code>-importcert</code> option did not exist. It was called <code>-import</code>, but otherwise it's identical. So use</p>\n<pre><code>keytool -import -trustcacerts -keystore $JAVA_HOME/lib/security/cacerts -file myCert.pem -alias myCert\n</code></pre>\n<h2>Additional options</h2>\n<ul>\n<li>You will be asked for the truststore password, The default password is <em>changeit</em>.</li>\n<li>If you need to run the import unattended, you can add <code>-storepass changeit -noprompt</code></li>\n</ul>\n<h2>Formats</h2>\n<p><code>keytool</code> can import X.509 v1, v2, and v3 certificates, and PKCS#7 formatted certificate chains consisting of certificates of that type (P7B). The data to be imported must be provided</p>\n<ul>\n<li>either in binary encoding format (DER)</li>\n<li>or in printable encoding format (aka base64 encoded), enclosed in <code>-----BEGIN</code> and <code>-----END</code> lines (PEM)</li>\n</ul>\n<p><em>Note: I'm not sure if certificate chains in PEM format really work.</em></p>\n<h2>Bonus script</h2>\n<p>I'm afraid, it's bash, so no solution for Windows users.</p>\n<p>This simple script, created thanks to several useful questions and smart answers here on stackoverflow, checks the Java version and - if necessary - determines the correct keystore location, and it can import multiple certificates in one command. Note that you must pass the file pattern argument in single quotes (see usage).</p>\n<p>addcerts.sh</p>\n<pre><code>#!/bin/bash\n\n# Add custom root certificates to Java trust store\n\nif [ &quot;$#&quot; -ne 1 ]; then\n    SCRIPT=`basename &quot;$0&quot;`\n    echo &quot;Usage: $SCRIPT 'path/to/certs/*'&quot;\n    exit 1\nfi\n\nCERTFILES=$1    \n\nJAVA_VERSION=`java -version 2&gt;&amp;1 | head -1 | cut -d'&quot;' -f2 | sed '/^1\\./s///' | cut -d'.' -f1`\n\nif (( $JAVA_VERSION &gt;= 9 )); then\n    CACERTS=&quot;-cacerts&quot;\nelse    \n    # Check where cacerts are located\n    # differs depending or jdk or jre installed\n    if [ -d &quot;$JAVA_HOME/jre&quot; ]; then\n        CACERTS=&quot;$JAVA_HOME/jre&quot;\n    else\n        CACERTS=&quot;$JAVA_HOME&quot;\n    fi\n    CACERTS=&quot;-keystore $CACERTS/lib/security/cacerts&quot;   \nfi      \n\n# Now add certificates \nfor CERTFILE in $CERTFILES; do\n    # Remove path, then suffix to derive alias from filename\n    ALIAS=${CERTFILE##*/}  \n    ALIAS=${ALIAS%.*}\n    $JAVA_HOME/bin/keytool -importcert -file &quot;$CERTFILE&quot; -alias &quot;$ALIAS&quot; $CACERTS -trustcacerts -storepass changeit -noprompt\n    if [ $? -ne 0 ]; then\n        echo &quot;Failed to add $CERTFILE as $ALIAS to $CACERTS&quot;\n        exit 1\n    fi  \ndone\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3242704,"reputation":13438,"user_id":2735286,"accept_rate":89,"display_name":"gil.fernandes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637002666,"creation_date":1637002666,"answer_id":69979508,"question_id":11617210,"body_markdown":"In Windows these commands work on the command line:\r\n\r\n    cd C:\\Program Files\\Java\\jre1.8.0_301\\lib\\security\\\r\n    keytool -import -trustcacerts -alias cert_ssl -file C:\\opt\\esb-config\\keystores\\cert.cer -noprompt -storepass changeit -keystore cacerts\r\n\r\n`changeit` is the default password for the trust store.","title":"How to properly import a selfsigned certificate into Java keystore that is available to all Java applications by default?","body":"<p>In Windows these commands work on the command line:</p>\n<pre><code>cd C:\\Program Files\\Java\\jre1.8.0_301\\lib\\security\\\nkeytool -import -trustcacerts -alias cert_ssl -file C:\\opt\\esb-config\\keystores\\cert.cer -noprompt -storepass changeit -keystore cacerts\n</code></pre>\n<p><code>changeit</code> is the default password for the trust store.</p>\n"},{"tags":[],"owner":{"account_id":3056393,"reputation":127,"user_id":2589891,"display_name":"Vijay Kesanupalli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689361707,"creation_date":1689361707,"answer_id":76690532,"question_id":11617210,"body_markdown":"I used below command to import keystore into existing keystore\r\n\r\nkeytool -importkeystore -srckeystore &lt;source&gt;-destkeystore &lt;destination&gt;","title":"How to properly import a selfsigned certificate into Java keystore that is available to all Java applications by default?","body":"<p>I used below command to import keystore into existing keystore</p>\n<p>keytool -importkeystore -srckeystore -destkeystore </p>\n"},{"tags":[],"owner":{"account_id":8587609,"reputation":1094,"user_id":6433161,"display_name":"Sandeep Jain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690987264,"creation_date":1690987264,"answer_id":76821020,"question_id":11617210,"body_markdown":"Keytool to import certs : \r\n    \r\nkeytool -import -trustcacerts -noprompt -keystore cacerts -storepass changeit -alias nexcert -file &lt;certFileLocation&gt;","title":"How to properly import a selfsigned certificate into Java keystore that is available to all Java applications by default?","body":"<p>Keytool to import certs :</p>\n<p>keytool -import -trustcacerts -noprompt -keystore cacerts -storepass changeit -alias nexcert -file </p>\n"}],"owner":{"account_id":35261,"reputation":163460,"user_id":99834,"accept_rate":46,"display_name":"sorin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":552106,"favorite_count":0,"down_vote_count":0,"up_vote_count":192,"answer_count":13,"score":192,"last_activity_date":1690987264,"creation_date":1343063459,"question_id":11617210,"body_markdown":"I do want to import a self signed certificate into Java so any Java application that will try to establish a SSL connection will trust this certificate.\r\n\r\nSo far, I managed to import it in\r\n    \r\n    keytool -import -trustcacerts -noprompt -storepass changeit -alias $REMHOST -file $REMHOST.pem\r\n    keytool -import -trustcacerts -noprompt -keystore cacerts -storepass changeit -alias $REMHOST -file $REMHOST.pem\r\n\r\nStill, when I try to run [`HTTPSClient.class`](http://adywicaksono.wordpress.com/2007/07/15/ssl-connection-with-java/) I still get:\r\n\r\n&lt;pre&gt;javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target&lt;/pre&gt;\r\n","title":"How to properly import a selfsigned certificate into Java keystore that is available to all Java applications by default?","body":"<p>I do want to import a self signed certificate into Java so any Java application that will try to establish a SSL connection will trust this certificate.</p>\n\n<p>So far, I managed to import it in</p>\n\n<pre><code>keytool -import -trustcacerts -noprompt -storepass changeit -alias $REMHOST -file $REMHOST.pem\nkeytool -import -trustcacerts -noprompt -keystore cacerts -storepass changeit -alias $REMHOST -file $REMHOST.pem\n</code></pre>\n\n<p>Still, when I try to run <a href=\"http://adywicaksono.wordpress.com/2007/07/15/ssl-connection-with-java/\"><code>HTTPSClient.class</code></a> I still get:</p>\n\n<pre>javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target</pre>\n"},{"tags":["java","android","android-room"],"answers":[{"tags":[],"owner":{"account_id":11986058,"reputation":794,"user_id":8770539,"display_name":"Santhosh Joseph"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1539173550,"creation_date":1539173550,"answer_id":52739995,"question_id":52739840,"body_markdown":"Update your query with this annotation :\r\n\r\n    @Insert(onConflict = OnConflictStrategy.REPLACE)","title":"How can I check whether data exist in Room database before inserting into database on Android?","body":"<p>Update your query with this annotation :</p>\n\n<pre><code>@Insert(onConflict = OnConflictStrategy.REPLACE)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14224377,"reputation":53,"user_id":10275540,"display_name":"Mila Gurova"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1539173952,"creation_date":1539173952,"answer_id":52740114,"question_id":52739840,"body_markdown":"You have a constraint violation, you&#39;re trying to add entity with the same id. Depends on your logic do you want to update with the new entity or if it is not empty leave it that way.","title":"How can I check whether data exist in Room database before inserting into database on Android?","body":"<p>You have a constraint violation, you're trying to add entity with the same id. Depends on your logic do you want to update with the new entity or if it is not empty leave it that way.</p>\n"},{"tags":[],"owner":{"account_id":13774187,"reputation":418,"user_id":9940904,"display_name":"mehdi musavi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1539174268,"creation_date":1539174268,"answer_id":52740222,"question_id":52739840,"body_markdown":"you have two way:\r\n1- When you want to  data into database You don&#39;t need to enter an ID ,you can also enter duplicate data with this method\r\n\r\n2-\r\n   \r\n\r\n     @Insert(onConflict = OnConflictStrategy.REPLACE)\r\n     void addNews(offlineDatum);\r\n\r\nI hope use it\r\n","title":"How can I check whether data exist in Room database before inserting into database on Android?","body":"<p>you have two way:\n1- When you want to  data into database You don't need to enter an ID ,you can also enter duplicate data with this method</p>\n\n<p>2-</p>\n\n<pre><code> @Insert(onConflict = OnConflictStrategy.REPLACE)\n void addNews(offlineDatum);\n</code></pre>\n\n<p>I hope use it</p>\n"},{"tags":[],"owner":{"account_id":12291783,"reputation":212,"user_id":8968815,"display_name":"Mehul Boghra"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1594806262,"creation_date":1594806262,"answer_id":62912048,"question_id":52739840,"body_markdown":"Here is working solution for check data exist or not in your table.\r\n\r\n - Room Database never returns a **boolean** for whether it exists or not on your database table\r\n \r\nFor check data exists or not you can get **int** value. \r\n\r\n    0 = data is not exist in your table\r\n\r\nfor do this you have to try below code\r\n\r\n    @Query(&quot;SELECT * FROM TableName WHERE userName = :userName&quot;)\r\n    int isDataExist(String userName);\r\n\r\ncall this query using below code.\r\n\r\n    if (AppDatabase.getInstance(this).employeeDao().isDataExist(tvUserName.getText().toString()) == 0) {\r\n     // data not exist.\r\n     } else {\r\n     // data already exist.\r\n     }\r\n\r\n\r\n","title":"How can I check whether data exist in Room database before inserting into database on Android?","body":"<p>Here is working solution for check data exist or not in your table.</p>\n<ul>\n<li>Room Database never returns a <strong>boolean</strong> for whether it exists or not on your database table</li>\n</ul>\n<p>For check data exists or not you can get <strong>int</strong> value.</p>\n<pre><code>0 = data is not exist in your table\n</code></pre>\n<p>for do this you have to try below code</p>\n<pre><code>@Query(&quot;SELECT * FROM TableName WHERE userName = :userName&quot;)\nint isDataExist(String userName);\n</code></pre>\n<p>call this query using below code.</p>\n<pre><code>if (AppDatabase.getInstance(this).employeeDao().isDataExist(tvUserName.getText().toString()) == 0) {\n // data not exist.\n } else {\n // data already exist.\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10170593,"reputation":441,"user_id":7511020,"display_name":"Zeeshan Akhtar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1612263510,"creation_date":1612263510,"answer_id":66008334,"question_id":52739840,"body_markdown":"use this query if you want to simply check whether the record exists or not.\r\n```\r\n    @Query(&quot;SELECT EXISTS(SELECT * FROM TableName WHERE userId = :userId)&quot;)\r\n    boolean isRecordExistsUserId(String userId);\r\n ```\r\n\r\nthis will simply return true or false. and based on boolean you can execute your rest of the flow.","title":"How can I check whether data exist in Room database before inserting into database on Android?","body":"<p>use this query if you want to simply check whether the record exists or not.</p>\n<pre><code>    @Query(&quot;SELECT EXISTS(SELECT * FROM TableName WHERE userId = :userId)&quot;)\n    boolean isRecordExistsUserId(String userId);\n</code></pre>\n<p>this will simply return true or false. and based on boolean you can execute your rest of the flow.</p>\n"},{"tags":[],"owner":{"account_id":7717943,"reputation":2840,"user_id":5845024,"accept_rate":75,"display_name":"Ebin Joy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690987231,"creation_date":1690987231,"answer_id":76821015,"question_id":52739840,"body_markdown":"      @Query(&quot;SELECT EXISTS(SELECT 1 FROM table_name)&quot;)\r\n      fun hasTable(): Boolean\r\n\r\nIn your Dao add above code. Then use following code in your logic\r\n\r\n              if(mDao.hasTable()) {\r\n                    //Already have data\r\n                } else {\r\n                    // Add data\r\n                }\r\n\r\n \r\n\r\n","title":"How can I check whether data exist in Room database before inserting into database on Android?","body":"<pre><code>  @Query(&quot;SELECT EXISTS(SELECT 1 FROM table_name)&quot;)\n  fun hasTable(): Boolean\n</code></pre>\n<p>In your Dao add above code. Then use following code in your logic</p>\n<pre><code>          if(mDao.hasTable()) {\n                //Already have data\n            } else {\n                // Add data\n            }\n</code></pre>\n"}],"owner":{"account_id":14182895,"reputation":247,"user_id":10245856,"display_name":"Jungle"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8650,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":52739995,"answer_count":6,"score":4,"last_activity_date":1690987231,"creation_date":1539173015,"question_id":52739840,"body_markdown":"In my application I want to use **Room Database** to show offline data. &lt;br&gt;\r\nI wrote below code, but when clicked on button to add in data, if this data exist in the **Room database** it shows **ForceClose** error!&lt;br&gt;\r\nHow can I check for this data in the database, before adding to the database?\r\n\r\n**My NewsOfflineDatum class :**\r\n\r\n    @Entity(tableName = &quot;newsList&quot;)\r\n    public class NewsOfflineDatum {\r\n        @PrimaryKey\r\n        private int id;\r\n    \r\n        @ColumnInfo(name = &quot;newsTitle&quot;)\r\n        private String title;\r\n    \r\n        @ColumnInfo(name = &quot;newsImage&quot;)\r\n        private String image;\r\n    \r\n        public int getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(int id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public String getTitle() {\r\n            return title;\r\n        }\r\n    \r\n        public void setTitle(String title) {\r\n            this.title = title;\r\n        }\r\n    \r\n        public String getImage() {\r\n            return image;\r\n        }\r\n    \r\n        public void setImage(String image) {\r\n            this.image = image;\r\n        }\r\n    }\r\n\r\n**My adapter class :**\r\n\r\n    public class NewsAdapter extends RecyclerView.Adapter&lt;NewsAdapter.MyViewHolder&gt; {\r\n    \r\n        private List&lt;Today&gt; model;\r\n        private Context context;\r\n    \r\n        public NewsAdapter(List&lt;Today&gt; model) {\r\n            this.model = model;\r\n        }\r\n    \r\n        @Override\r\n        public MyViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\r\n            View itemView = LayoutInflater.from(parent.getContext()).inflate(R.layout.row_news, parent, false);\r\n            context = parent.getContext();\r\n    \r\n            return new MyViewHolder(itemView);\r\n        }\r\n    \r\n        @Override\r\n        public void onBindViewHolder(MyViewHolder holder, int position) {\r\n            final Today todayModel = model.get(position);\r\n    \r\n            Glide.with(context)\r\n                    .load(AppConstant.IMAGE_URL + todayModel.getImage())\r\n                    .diskCacheStrategy(DiskCacheStrategy.SOURCE)\r\n                    .into(holder.rowNews_img);\r\n            holder.rowNews_txt.setText(todayModel.getTitle());\r\n            holder.rowNews_dl.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    NewsOfflineDatum offlineDatum = new NewsOfflineDatum();\r\n                    offlineDatum.setId(todayModel.getId());\r\n                    offlineDatum.setTitle(todayModel.getTitle());\r\n                    offlineDatum.setImage(todayModel.getImage());\r\n    \r\n                    MainActivity.myAppDatabase.getMyDao().addNews(offlineDatum);\r\n    \r\n                    Toast.makeText(context, &quot;Saved :)&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            });\r\n        }\r\n    \r\n        @Override\r\n        public int getItemCount() {\r\n            return model.size();\r\n        }\r\n    \r\n        public class MyViewHolder extends RecyclerView.ViewHolder {\r\n    \r\n            @BindView(R.id.rowNews_img)\r\n            ImageView rowNews_img;\r\n            @BindView(R.id.rowNews_txt)\r\n            TextView rowNews_txt;\r\n            @BindView(R.id.rowNews_dl)\r\n            ImageView rowNews_dl;\r\n    \r\n            public MyViewHolder(View view) {\r\n                super(view);\r\n                ButterKnife.bind(this, view);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n**LogCat error :** \r\n\r\n    Process: com.example.mac8.mvplearnclicksite, PID: 7697\r\n    android.database.sqlite.SQLiteConstraintException: UNIQUE constraint failed: newsList.id (code 1555)\r\n    #################################################################\r\n    Error Code : 1555 (SQLITE_CONSTRAINT_PRIMARYKEY)\r\n    Caused By : Abort due to constraint violation.\r\n    \t(UNIQUE constraint failed: newsList.id (code 1555))\r\n    #################################################################\r\n        at android.database.sqlite.SQLiteConnection.nativeExecuteForLastInsertedRowId(Native Method)\r\n        at android.database.sqlite.SQLiteConnection.executeForLastInsertedRowId(SQLiteConnection.java:865)\r\n        at android.database.sqlite.SQLiteSession.executeForLastInsertedRowId(SQLiteSession.java:788)\r\n        at android.database.sqlite.SQLiteStatement.executeInsert(SQLiteStatement.java:86)\r\n        at android.arch.persistence.db.framework.FrameworkSQLiteStatement.executeInsert(FrameworkSQLiteStatement.java:50)\r\n        at android.arch.persistence.room.EntityInsertionAdapter.insert(EntityInsertionAdapter.java:64)\r\n        at com.example.mac8.mvplearnclicksite.Data.DataBase.MyDao_Impl.addNews(MyDao_Impl.java:49)\r\n        at com.example.mac8.mvplearnclicksite.Home.NewsAdapter$1.onClick(NewsAdapter.java:59)\r\n        at android.view.View.performClick(View.java:6261)\r\n        at android.view.View$PerformClick.run(View.java:23752)\r\n        at android.os.Handler.handleCallback(Handler.java:751)\r\n        at android.os.Handler.dispatchMessage(Handler.java:95)\r\n        at android.os.Looper.loop(Looper.java:154)\r\n        at android.app.ActivityThread.main(ActivityThread.java:6776)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1518)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1408)\r\n\r\n\r\nShows me error for this **line** : `MainActivity.myAppDatabase.getMyDao().addNews(offlineDatum);`\r\n\r\n\r\n\r\nHow can I fix this?","title":"How can I check whether data exist in Room database before inserting into database on Android?","body":"<p>In my application I want to use <strong>Room Database</strong> to show offline data. <br>\nI wrote below code, but when clicked on button to add in data, if this data exist in the <strong>Room database</strong> it shows <strong>ForceClose</strong> error!<br>\nHow can I check for this data in the database, before adding to the database?</p>\n\n<p><strong>My NewsOfflineDatum class :</strong></p>\n\n<pre><code>@Entity(tableName = \"newsList\")\npublic class NewsOfflineDatum {\n    @PrimaryKey\n    private int id;\n\n    @ColumnInfo(name = \"newsTitle\")\n    private String title;\n\n    @ColumnInfo(name = \"newsImage\")\n    private String image;\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public String getTitle() {\n        return title;\n    }\n\n    public void setTitle(String title) {\n        this.title = title;\n    }\n\n    public String getImage() {\n        return image;\n    }\n\n    public void setImage(String image) {\n        this.image = image;\n    }\n}\n</code></pre>\n\n<p><strong>My adapter class :</strong></p>\n\n<pre><code>public class NewsAdapter extends RecyclerView.Adapter&lt;NewsAdapter.MyViewHolder&gt; {\n\n    private List&lt;Today&gt; model;\n    private Context context;\n\n    public NewsAdapter(List&lt;Today&gt; model) {\n        this.model = model;\n    }\n\n    @Override\n    public MyViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\n        View itemView = LayoutInflater.from(parent.getContext()).inflate(R.layout.row_news, parent, false);\n        context = parent.getContext();\n\n        return new MyViewHolder(itemView);\n    }\n\n    @Override\n    public void onBindViewHolder(MyViewHolder holder, int position) {\n        final Today todayModel = model.get(position);\n\n        Glide.with(context)\n                .load(AppConstant.IMAGE_URL + todayModel.getImage())\n                .diskCacheStrategy(DiskCacheStrategy.SOURCE)\n                .into(holder.rowNews_img);\n        holder.rowNews_txt.setText(todayModel.getTitle());\n        holder.rowNews_dl.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                NewsOfflineDatum offlineDatum = new NewsOfflineDatum();\n                offlineDatum.setId(todayModel.getId());\n                offlineDatum.setTitle(todayModel.getTitle());\n                offlineDatum.setImage(todayModel.getImage());\n\n                MainActivity.myAppDatabase.getMyDao().addNews(offlineDatum);\n\n                Toast.makeText(context, \"Saved :)\", Toast.LENGTH_SHORT).show();\n            }\n        });\n    }\n\n    @Override\n    public int getItemCount() {\n        return model.size();\n    }\n\n    public class MyViewHolder extends RecyclerView.ViewHolder {\n\n        @BindView(R.id.rowNews_img)\n        ImageView rowNews_img;\n        @BindView(R.id.rowNews_txt)\n        TextView rowNews_txt;\n        @BindView(R.id.rowNews_dl)\n        ImageView rowNews_dl;\n\n        public MyViewHolder(View view) {\n            super(view);\n            ButterKnife.bind(this, view);\n        }\n    }\n}\n</code></pre>\n\n<p><strong>LogCat error :</strong> </p>\n\n<pre><code>Process: com.example.mac8.mvplearnclicksite, PID: 7697\nandroid.database.sqlite.SQLiteConstraintException: UNIQUE constraint failed: newsList.id (code 1555)\n#################################################################\nError Code : 1555 (SQLITE_CONSTRAINT_PRIMARYKEY)\nCaused By : Abort due to constraint violation.\n    (UNIQUE constraint failed: newsList.id (code 1555))\n#################################################################\n    at android.database.sqlite.SQLiteConnection.nativeExecuteForLastInsertedRowId(Native Method)\n    at android.database.sqlite.SQLiteConnection.executeForLastInsertedRowId(SQLiteConnection.java:865)\n    at android.database.sqlite.SQLiteSession.executeForLastInsertedRowId(SQLiteSession.java:788)\n    at android.database.sqlite.SQLiteStatement.executeInsert(SQLiteStatement.java:86)\n    at android.arch.persistence.db.framework.FrameworkSQLiteStatement.executeInsert(FrameworkSQLiteStatement.java:50)\n    at android.arch.persistence.room.EntityInsertionAdapter.insert(EntityInsertionAdapter.java:64)\n    at com.example.mac8.mvplearnclicksite.Data.DataBase.MyDao_Impl.addNews(MyDao_Impl.java:49)\n    at com.example.mac8.mvplearnclicksite.Home.NewsAdapter$1.onClick(NewsAdapter.java:59)\n    at android.view.View.performClick(View.java:6261)\n    at android.view.View$PerformClick.run(View.java:23752)\n    at android.os.Handler.handleCallback(Handler.java:751)\n    at android.os.Handler.dispatchMessage(Handler.java:95)\n    at android.os.Looper.loop(Looper.java:154)\n    at android.app.ActivityThread.main(ActivityThread.java:6776)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1518)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1408)\n</code></pre>\n\n<p>Shows me error for this <strong>line</strong> : <code>MainActivity.myAppDatabase.getMyDao().addNews(offlineDatum);</code></p>\n\n<p>How can I fix this?</p>\n"},{"tags":["java","spring","multipartform-data","attachment","http-status-code-400"],"owner":{"account_id":20494934,"reputation":11,"user_id":15040135,"display_name":"cabbott"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1690987080,"creation_date":1690938483,"question_id":76816049,"body_markdown":"I am having issues handing for submission with an attachment. For example, I get the error: HTTP Status 400  Bad Request\r\n\r\nType Status Report\r\n\r\nDescription The server cannot or will not process the request due to something that is perceived to be a client error (e.g., malformed request syntax, invalid request message framing, or deceptive request routing). Whenever I have the attachment path in my form submission, however, once I take it off the form submits perfectly. I know the issue is that I am not handling the form correctly, I just can&#39;t wrap my head around it. \r\n\r\n```\r\n&lt;form:form method=&quot;POST&quot; action=&quot;create&quot; modelAttribute=&quot;ticket&quot; enctype=&quot;multipart/form-data&quot;&gt;\r\n&lt;form:label path=&quot;customerName&quot;&gt;Customer Name:&lt;/form:label&gt;\r\n&lt;form:input path=&quot;customerName&quot;/&gt;&lt;br&gt;\r\n&lt;form:label path=&quot;subject&quot;&gt;Subject:&lt;/form:label&gt;\r\n&lt;form:input path=&quot;subject&quot;/&gt;&lt;br&gt;\r\n&lt;form:label path=&quot;body&quot;&gt;Body:&lt;/form:label&gt;\r\n&lt;form:textarea path=&quot;body&quot;/&gt;&lt;br&gt;\r\n&lt;form:label path=&quot;attachment&quot;&gt;Attachment:&lt;/form:label&gt;\r\n&lt;form:input type=&quot;file&quot; path=&quot;attachment&quot;/&gt;&lt;br&gt;\r\n&lt;input type=&quot;submit&quot; value=&quot;Create&quot;&gt;&lt;/form:form&gt;\r\n```\r\n\r\nhere is my TicketController: \r\n\r\n```\r\npackage com.example.calebabbottcustomersupport;\r\n\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.ui.Model;\r\nimport org.springframework.web.bind.annotation.*;\r\nimport org.springframework.web.multipart.MultipartFile;\r\nimport org.springframework.web.servlet.ModelAndView;\r\n\r\nimport java.io.IOException;\r\nimport java.util.HashMap;\r\nimport java.util.LinkedHashMap;\r\nimport java.util.Map;\r\nimport java.util.concurrent.atomic.AtomicInteger;\r\n\r\n@Controller\r\n@RequestMapping(&quot;/tickets&quot;)\r\npublic class TicketController {\r\n\r\n    private Map&lt;Integer, Ticket&gt; ticketMap = new HashMap&lt;&gt;();\r\n    private AtomicInteger ticketIdGenerator = new AtomicInteger(1);\r\n\r\n    @GetMapping(&quot;/list&quot;)\r\n    public ModelAndView listTickets() {\r\n        Map&lt;Integer, Ticket&gt; tickets = ticketMap;\r\n        Map&lt;Integer, Boolean&gt; hasAttachmentsMap = new LinkedHashMap&lt;&gt;();\r\n\r\n        for (Ticket ticket : tickets.values()) {\r\n            boolean hasAttachments = !ticket.getAllAttachments().isEmpty();\r\n            hasAttachmentsMap.put(ticket.getId(), hasAttachments);\r\n        }\r\n\r\n        ModelAndView modelAndView = new ModelAndView(&quot;home&quot;);\r\n        modelAndView.addObject(&quot;tickets&quot;, tickets.values());\r\n        modelAndView.addObject(&quot;hasAttachmentsMap&quot;, hasAttachmentsMap);\r\n        return modelAndView;\r\n    }\r\n    @GetMapping(&quot;/view/{id}&quot;)\r\n    public String viewTicket(@PathVariable int id, Model model) {\r\n        Ticket ticket = ticketMap.get(id);\r\n        if (ticket != null) {\r\n            model.addAttribute(&quot;ticket&quot;, ticket);\r\n            return &quot;ticketview&quot;;\r\n        } else {\r\n            throw new TicketNotFoundException();\r\n        }\r\n    }\r\n\r\n    @GetMapping(&quot;/form&quot;)\r\n    public String showTicketForm(Model model) {\r\n        model.addAttribute(&quot;ticket&quot;, new Ticket());\r\n        return &quot;ticketform&quot;;\r\n    }\r\n\r\n    @PostMapping(&quot;/create&quot;)\r\n    public String createTicket(@ModelAttribute(&quot;ticket&quot;) Ticket ticket) throws IOException {\r\n        if (ticket.getCustomerName() != null &amp;&amp; ticket.getSubject() != null &amp;&amp; ticket.getBody() != null) {\r\n            ticket.setId(ticketIdGenerator.getAndIncrement());\r\n\r\n            MultipartFile file = ticket.getAttachment();\r\n            if (file != null &amp;&amp; !file.isEmpty()) {\r\n                Attachment attachment = new Attachment(file.getOriginalFilename(), file.getBytes());\r\n                ticket.addAttachment(attachment);\r\n            }\r\n\r\n            ticketMap.put(ticket.getId(), ticket);\r\n            return &quot;redirect:list&quot;;\r\n        } else {\r\n            throw new InvalidTicketException();\r\n        }\r\n    }\r\n\r\n    @GetMapping(&quot;/download/{id}/{attachmentIndex}&quot;)\r\n    public String downloadAttachment(@PathVariable int id, @PathVariable int attachmentIndex, Model model) {\r\n        Ticket ticket = ticketMap.get(id);\r\n        if (ticket != null) {\r\n            Map&lt;Integer, Attachment&gt; attachments = ticket.getAllAttachments();\r\n            Attachment attachment = attachments.get(attachmentIndex);\r\n            if (attachment != null) {\r\n                model.addAttribute(&quot;attachment&quot;, attachment);\r\n                return &quot;attachment&quot;;\r\n            } else {\r\n                throw new AttachmentNotFoundException();\r\n            }\r\n        } else {\r\n            throw new TicketNotFoundException();\r\n        }\r\n    }\r\n\r\n    @ResponseStatus(HttpStatus.NOT_FOUND)\r\n    public static class TicketNotFoundException extends RuntimeException {\r\n        public TicketNotFoundException() {\r\n            super(&quot;Ticket not found&quot;);\r\n        }\r\n    }\r\n\r\n    @ResponseStatus(HttpStatus.NOT_FOUND)\r\n    public static class AttachmentNotFoundException extends RuntimeException {\r\n        public AttachmentNotFoundException() {\r\n            super(&quot;Attachment not found&quot;);\r\n        }\r\n    }\r\n\r\n    @ResponseStatus(HttpStatus.BAD_REQUEST)\r\n    public static class InvalidTicketException extends RuntimeException {\r\n        public InvalidTicketException() {\r\n            super(&quot;Invalid ticket information&quot;);\r\n        }\r\n\r\n    }\r\n}\r\n\r\n\r\n```\r\n\r\nHere is my Ticket class to store information on the ticket: \r\n\r\n```\r\npackage com.example.calebabbottcustomersupport;\r\n\r\nimport org.springframework.web.multipart.MultipartFile;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\npublic class Ticket {\r\n    private int id;\r\n    private String customerName;\r\n    private String subject;\r\n    private String body;\r\n    private MultipartFile attachment;\r\n    private Map&lt;Integer, Attachment&gt; attachments;\r\n    private byte[] attachmentContent;\r\n\r\n    // Add a no-argument constructor\r\n    public Ticket() {\r\n        this.attachments = new HashMap&lt;&gt;();\r\n    }\r\n\r\n    public byte[] getAttachmentContent() {\r\n        return attachmentContent;\r\n    }\r\n\r\n    public void setAttachmentContent(byte[] attachmentContent) {\r\n        this.attachmentContent = attachmentContent;\r\n    }\r\n\r\n    public Ticket(int id, String customerName, String subject, String body) {\r\n        this.id = id;\r\n        this.customerName = customerName;\r\n        this.subject = subject;\r\n        this.body = body;\r\n        this.attachments = new HashMap&lt;&gt;();\r\n    }\r\n\r\n    public Ticket(String customerName, String subject, String body) {\r\n        this.customerName = customerName;\r\n        this.subject = subject;\r\n        this.body = body;\r\n        this.attachments = new HashMap&lt;&gt;();\r\n    }\r\n\r\n    public int getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(int id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public void addAttachment(Attachment attachment) {\r\n        attachments.put(attachments.size() + 1, attachment);\r\n    }\r\n\r\n    public String getCustomerName() {\r\n        return customerName;\r\n    }\r\n\r\n    public void setCustomerName(String customerName) {\r\n        this.customerName = customerName;\r\n    }\r\n\r\n    public String getSubject() {\r\n        return subject;\r\n    }\r\n\r\n    public void setSubject(String subject) {\r\n        this.subject = subject;\r\n    }\r\n\r\n    public String getBody() {\r\n        return body;\r\n    }\r\n\r\n    public void setBody(String body) {\r\n        this.body = body;\r\n    }\r\n\r\n    public void addAttachment(int index, Attachment attachment) {\r\n        attachments.put(index, attachment);\r\n    }\r\n\r\n    public int getNumberOfAttachments() {\r\n        return attachments.size();\r\n    }\r\n\r\n    public Attachment getAttachment(int index) {\r\n        return attachments.get(index);\r\n    }\r\n\r\n    public Map&lt;Integer, Attachment&gt; getAllAttachments() {\r\n        return attachments;\r\n    }\r\n\r\n    // Add the getter and setter for the attachment field\r\n    public MultipartFile getAttachment() {\r\n        return attachment;\r\n    }\r\n\r\n    public void setAttachment(MultipartFile attachment) {\r\n        this.attachment = attachment;\r\n    }\r\n\r\n    // Add toString() method for debugging and logging purposes\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Ticket{&quot; +\r\n                &quot;id=&quot; + id +\r\n                &quot;, customerName=&#39;&quot; + customerName + &#39;\\&#39;&#39; +\r\n                &quot;, subject=&#39;&quot; + subject + &#39;\\&#39;&#39; +\r\n                &quot;, body=&#39;&quot; + body + &#39;\\&#39;&#39; +\r\n                &quot;, attachments=&quot; + attachments +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n\r\n```\r\n\r\nHere is my Attachment class to handle attachments: \r\n\r\n```\r\npackage com.example.calebabbottcustomersupport;\r\n\r\nimport java.util.Arrays;\r\n\r\npublic class Attachment {\r\n    private String name;\r\n    private byte[] contents;\r\n\r\n    public Attachment(String name, byte[] contents) {\r\n        this.name = name;\r\n        this.contents = contents;\r\n    }\r\n\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public byte[] getContents() {\r\n        return contents;\r\n    }\r\n\r\n    public void setContents(byte[] contents) {\r\n        this.contents = contents;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Attachment{&quot; +\r\n                &quot;name=&#39;&quot; + name + &#39;\\&#39;&#39; +\r\n                &quot;, contents=&quot; + Arrays.toString(contents) +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n```\r\n\r\nWhat am I missing? Let me know if you need anything else.","title":"Issues handling form submission with attachment using Spring","body":"<p>I am having issues handing for submission with an attachment. For example, I get the error: HTTP Status 400  Bad Request</p>\n<p>Type Status Report</p>\n<p>Description The server cannot or will not process the request due to something that is perceived to be a client error (e.g., malformed request syntax, invalid request message framing, or deceptive request routing). Whenever I have the attachment path in my form submission, however, once I take it off the form submits perfectly. I know the issue is that I am not handling the form correctly, I just can't wrap my head around it.</p>\n<pre><code>&lt;form:form method=&quot;POST&quot; action=&quot;create&quot; modelAttribute=&quot;ticket&quot; enctype=&quot;multipart/form-data&quot;&gt;\n&lt;form:label path=&quot;customerName&quot;&gt;Customer Name:&lt;/form:label&gt;\n&lt;form:input path=&quot;customerName&quot;/&gt;&lt;br&gt;\n&lt;form:label path=&quot;subject&quot;&gt;Subject:&lt;/form:label&gt;\n&lt;form:input path=&quot;subject&quot;/&gt;&lt;br&gt;\n&lt;form:label path=&quot;body&quot;&gt;Body:&lt;/form:label&gt;\n&lt;form:textarea path=&quot;body&quot;/&gt;&lt;br&gt;\n&lt;form:label path=&quot;attachment&quot;&gt;Attachment:&lt;/form:label&gt;\n&lt;form:input type=&quot;file&quot; path=&quot;attachment&quot;/&gt;&lt;br&gt;\n&lt;input type=&quot;submit&quot; value=&quot;Create&quot;&gt;&lt;/form:form&gt;\n</code></pre>\n<p>here is my TicketController:</p>\n<pre><code>package com.example.calebabbottcustomersupport;\n\nimport org.springframework.http.HttpStatus;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.*;\nimport org.springframework.web.multipart.MultipartFile;\nimport org.springframework.web.servlet.ModelAndView;\n\nimport java.io.IOException;\nimport java.util.HashMap;\nimport java.util.LinkedHashMap;\nimport java.util.Map;\nimport java.util.concurrent.atomic.AtomicInteger;\n\n@Controller\n@RequestMapping(&quot;/tickets&quot;)\npublic class TicketController {\n\n    private Map&lt;Integer, Ticket&gt; ticketMap = new HashMap&lt;&gt;();\n    private AtomicInteger ticketIdGenerator = new AtomicInteger(1);\n\n    @GetMapping(&quot;/list&quot;)\n    public ModelAndView listTickets() {\n        Map&lt;Integer, Ticket&gt; tickets = ticketMap;\n        Map&lt;Integer, Boolean&gt; hasAttachmentsMap = new LinkedHashMap&lt;&gt;();\n\n        for (Ticket ticket : tickets.values()) {\n            boolean hasAttachments = !ticket.getAllAttachments().isEmpty();\n            hasAttachmentsMap.put(ticket.getId(), hasAttachments);\n        }\n\n        ModelAndView modelAndView = new ModelAndView(&quot;home&quot;);\n        modelAndView.addObject(&quot;tickets&quot;, tickets.values());\n        modelAndView.addObject(&quot;hasAttachmentsMap&quot;, hasAttachmentsMap);\n        return modelAndView;\n    }\n    @GetMapping(&quot;/view/{id}&quot;)\n    public String viewTicket(@PathVariable int id, Model model) {\n        Ticket ticket = ticketMap.get(id);\n        if (ticket != null) {\n            model.addAttribute(&quot;ticket&quot;, ticket);\n            return &quot;ticketview&quot;;\n        } else {\n            throw new TicketNotFoundException();\n        }\n    }\n\n    @GetMapping(&quot;/form&quot;)\n    public String showTicketForm(Model model) {\n        model.addAttribute(&quot;ticket&quot;, new Ticket());\n        return &quot;ticketform&quot;;\n    }\n\n    @PostMapping(&quot;/create&quot;)\n    public String createTicket(@ModelAttribute(&quot;ticket&quot;) Ticket ticket) throws IOException {\n        if (ticket.getCustomerName() != null &amp;&amp; ticket.getSubject() != null &amp;&amp; ticket.getBody() != null) {\n            ticket.setId(ticketIdGenerator.getAndIncrement());\n\n            MultipartFile file = ticket.getAttachment();\n            if (file != null &amp;&amp; !file.isEmpty()) {\n                Attachment attachment = new Attachment(file.getOriginalFilename(), file.getBytes());\n                ticket.addAttachment(attachment);\n            }\n\n            ticketMap.put(ticket.getId(), ticket);\n            return &quot;redirect:list&quot;;\n        } else {\n            throw new InvalidTicketException();\n        }\n    }\n\n    @GetMapping(&quot;/download/{id}/{attachmentIndex}&quot;)\n    public String downloadAttachment(@PathVariable int id, @PathVariable int attachmentIndex, Model model) {\n        Ticket ticket = ticketMap.get(id);\n        if (ticket != null) {\n            Map&lt;Integer, Attachment&gt; attachments = ticket.getAllAttachments();\n            Attachment attachment = attachments.get(attachmentIndex);\n            if (attachment != null) {\n                model.addAttribute(&quot;attachment&quot;, attachment);\n                return &quot;attachment&quot;;\n            } else {\n                throw new AttachmentNotFoundException();\n            }\n        } else {\n            throw new TicketNotFoundException();\n        }\n    }\n\n    @ResponseStatus(HttpStatus.NOT_FOUND)\n    public static class TicketNotFoundException extends RuntimeException {\n        public TicketNotFoundException() {\n            super(&quot;Ticket not found&quot;);\n        }\n    }\n\n    @ResponseStatus(HttpStatus.NOT_FOUND)\n    public static class AttachmentNotFoundException extends RuntimeException {\n        public AttachmentNotFoundException() {\n            super(&quot;Attachment not found&quot;);\n        }\n    }\n\n    @ResponseStatus(HttpStatus.BAD_REQUEST)\n    public static class InvalidTicketException extends RuntimeException {\n        public InvalidTicketException() {\n            super(&quot;Invalid ticket information&quot;);\n        }\n\n    }\n}\n\n\n</code></pre>\n<p>Here is my Ticket class to store information on the ticket:</p>\n<pre><code>package com.example.calebabbottcustomersupport;\n\nimport org.springframework.web.multipart.MultipartFile;\nimport java.util.HashMap;\nimport java.util.Map;\n\npublic class Ticket {\n    private int id;\n    private String customerName;\n    private String subject;\n    private String body;\n    private MultipartFile attachment;\n    private Map&lt;Integer, Attachment&gt; attachments;\n    private byte[] attachmentContent;\n\n    // Add a no-argument constructor\n    public Ticket() {\n        this.attachments = new HashMap&lt;&gt;();\n    }\n\n    public byte[] getAttachmentContent() {\n        return attachmentContent;\n    }\n\n    public void setAttachmentContent(byte[] attachmentContent) {\n        this.attachmentContent = attachmentContent;\n    }\n\n    public Ticket(int id, String customerName, String subject, String body) {\n        this.id = id;\n        this.customerName = customerName;\n        this.subject = subject;\n        this.body = body;\n        this.attachments = new HashMap&lt;&gt;();\n    }\n\n    public Ticket(String customerName, String subject, String body) {\n        this.customerName = customerName;\n        this.subject = subject;\n        this.body = body;\n        this.attachments = new HashMap&lt;&gt;();\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public void addAttachment(Attachment attachment) {\n        attachments.put(attachments.size() + 1, attachment);\n    }\n\n    public String getCustomerName() {\n        return customerName;\n    }\n\n    public void setCustomerName(String customerName) {\n        this.customerName = customerName;\n    }\n\n    public String getSubject() {\n        return subject;\n    }\n\n    public void setSubject(String subject) {\n        this.subject = subject;\n    }\n\n    public String getBody() {\n        return body;\n    }\n\n    public void setBody(String body) {\n        this.body = body;\n    }\n\n    public void addAttachment(int index, Attachment attachment) {\n        attachments.put(index, attachment);\n    }\n\n    public int getNumberOfAttachments() {\n        return attachments.size();\n    }\n\n    public Attachment getAttachment(int index) {\n        return attachments.get(index);\n    }\n\n    public Map&lt;Integer, Attachment&gt; getAllAttachments() {\n        return attachments;\n    }\n\n    // Add the getter and setter for the attachment field\n    public MultipartFile getAttachment() {\n        return attachment;\n    }\n\n    public void setAttachment(MultipartFile attachment) {\n        this.attachment = attachment;\n    }\n\n    // Add toString() method for debugging and logging purposes\n    @Override\n    public String toString() {\n        return &quot;Ticket{&quot; +\n                &quot;id=&quot; + id +\n                &quot;, customerName='&quot; + customerName + '\\'' +\n                &quot;, subject='&quot; + subject + '\\'' +\n                &quot;, body='&quot; + body + '\\'' +\n                &quot;, attachments=&quot; + attachments +\n                '}';\n    }\n}\n\n</code></pre>\n<p>Here is my Attachment class to handle attachments:</p>\n<pre><code>package com.example.calebabbottcustomersupport;\n\nimport java.util.Arrays;\n\npublic class Attachment {\n    private String name;\n    private byte[] contents;\n\n    public Attachment(String name, byte[] contents) {\n        this.name = name;\n        this.contents = contents;\n    }\n\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public byte[] getContents() {\n        return contents;\n    }\n\n    public void setContents(byte[] contents) {\n        this.contents = contents;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Attachment{&quot; +\n                &quot;name='&quot; + name + '\\'' +\n                &quot;, contents=&quot; + Arrays.toString(contents) +\n                '}';\n    }\n}\n</code></pre>\n<p>What am I missing? Let me know if you need anything else.</p>\n"},{"tags":["java","android","xml","kotlin","lottie"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1690962580,"post_id":76816736,"comment_id":135424281,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":19315649,"reputation":692,"user_id":14120486,"display_name":"ItzDavi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690986901,"creation_date":1690986901,"answer_id":76820963,"question_id":76816736,"body_markdown":"Why not trying to set their visibility ?\r\nEvery `View` has a `.visibility`, you can hide the progress bar when it reaches 100% and show your Lottie animation right after, without going for overlays or other things.\r\n\r\n    val progressbar = findViewById&lt;...&gt;(R.id.progress_bar)\r\n    val lottieAnimation = findViewById&lt;...&gt;(R.id.lottie_animation)\r\n    ...\r\n\r\n    // When the progressbar reaches 100%\r\n    progressbar.visibility = View.GONE\r\n    lottieAnimation.visibility = View.VISIBLE\r\n    \r\n    // Start the animation\r\n\r\nRemember to set correctly the `ProgressBar` and the `Lottie` views `visibility` respectively to `visible` and `gone` in the xml file.\r\n\r\n    &lt;ProgressBar\r\n        android:id=&quot;@+id/progress_bar&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:visibility=&quot;visible&quot; &lt;--- This\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;/&gt;\r\n\r\n    &lt;Lottie\r\n        android:id=&quot;@+id/lottie_animation&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:visibility=&quot;gone&quot; &lt;--- This\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;/&gt;\r\n\r\nIf this doesn&#39;t solve your problem please let me know and provide the code that&#39;s not working, happy coding!","title":"How to overlay a Lottie Animation in Constraint layout in Android?","body":"<p>Why not trying to set their visibility ?\nEvery <code>View</code> has a <code>.visibility</code>, you can hide the progress bar when it reaches 100% and show your Lottie animation right after, without going for overlays or other things.</p>\n<pre><code>val progressbar = findViewById&lt;...&gt;(R.id.progress_bar)\nval lottieAnimation = findViewById&lt;...&gt;(R.id.lottie_animation)\n...\n\n// When the progressbar reaches 100%\nprogressbar.visibility = View.GONE\nlottieAnimation.visibility = View.VISIBLE\n\n// Start the animation\n</code></pre>\n<p>Remember to set correctly the <code>ProgressBar</code> and the <code>Lottie</code> views <code>visibility</code> respectively to <code>visible</code> and <code>gone</code> in the xml file.</p>\n<pre><code>&lt;ProgressBar\n    android:id=&quot;@+id/progress_bar&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:visibility=&quot;visible&quot; &lt;--- This\n    app:layout_constraintTop_toTopOf=&quot;parent&quot;/&gt;\n\n&lt;Lottie\n    android:id=&quot;@+id/lottie_animation&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:visibility=&quot;gone&quot; &lt;--- This\n    app:layout_constraintTop_toTopOf=&quot;parent&quot;/&gt;\n</code></pre>\n<p>If this doesn't solve your problem please let me know and provide the code that's not working, happy coding!</p>\n"}],"owner":{"account_id":29141309,"reputation":1,"user_id":22324209,"display_name":"Sanjay"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690986901,"creation_date":1690952209,"question_id":76816736,"body_markdown":"I have a constraint layout, it has a progress bar in center, once the progress bar reached 100,I need to use Lottie animation to show animation, that animation should overlay the existing Progress bar.\r\n\r\nI tried to add the Lottie animation inside a View, and have the view in same constraint layout as progress bar, but it doesn&#39;t work. Is there any way to do it so?","title":"How to overlay a Lottie Animation in Constraint layout in Android?","body":"<p>I have a constraint layout, it has a progress bar in center, once the progress bar reached 100,I need to use Lottie animation to show animation, that animation should overlay the existing Progress bar.</p>\n<p>I tried to add the Lottie animation inside a View, and have the view in same constraint layout as progress bar, but it doesn't work. Is there any way to do it so?</p>\n"},{"tags":["java","sql","amazon-athena","presto","trino"],"answers":[{"tags":[],"owner":{"account_id":21226704,"reputation":168,"user_id":15612265,"display_name":"strojan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690966505,"creation_date":1690966505,"answer_id":76818176,"question_id":76809319,"body_markdown":"The problem is that you&#39;re trying to subtract time from a string, not a timestamp object. You could use `date_sub` function to get the date.\r\n\r\n```java\r\nprivate static final String SIMPLE_ATHENA_QUERY_TIME = &quot;\r\n    SELECT * FROM dmat_db.dmat_kpi_tbldmat_csv_file_processed_bucket\r\n        WHERE &#39;date&#39; &gt; &#39;2023-06-18&#39; \r\n        AND &#39;Timestamp&#39; &gt; date_sub(&#39;2023-06-18&#39;, 1, &#39;hour&#39;);&quot;; \r\n```\r\n\r\nSomething like this should solve your problem.","title":"athena query date and time stamp logic for 1 hour","body":"<p>The problem is that you're trying to subtract time from a string, not a timestamp object. You could use <code>date_sub</code> function to get the date.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static final String SIMPLE_ATHENA_QUERY_TIME = &quot;\n    SELECT * FROM dmat_db.dmat_kpi_tbldmat_csv_file_processed_bucket\n        WHERE 'date' &gt; '2023-06-18' \n        AND 'Timestamp' &gt; date_sub('2023-06-18', 1, 'hour');&quot;; \n</code></pre>\n<p>Something like this should solve your problem.</p>\n"},{"tags":[],"owner":{"account_id":2918545,"reputation":111555,"user_id":2501279,"display_name":"Guru Stron"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690986834,"creation_date":1690986834,"answer_id":76820947,"question_id":76809319,"body_markdown":"You should not compare dates/timestamps as strings, especially when some parts are encoded with variable length (i.e. month which is one or two digits). Parse the timestamp and then compare. Sample SQL will look like:\r\n\r\n```sql\r\n-- sample data\r\nwith dataset(date, timestamp) as (\r\n    values (&#39;6/18/2023&#39;, &#39;20:30:24&#39;)\r\n)\r\n\r\n-- sample query \r\nSELECT *\r\nFROM dataset\r\nwhere date_parse(date || &#39; &#39; || timestamp, &#39;%c/%e/%Y %T&#39;) &gt; timestamp &#39;2023-06-18&#39; - interval &#39;1&#39; hour;\r\n```\r\n\r\nRead more:\r\n\r\n- [MySQL Date Functions][1]\r\n\r\n\r\n  [1]: https://prestodb.io/docs/current/functions/datetime.html#mysql-date-functions","title":"athena query date and time stamp logic for 1 hour","body":"<p>You should not compare dates/timestamps as strings, especially when some parts are encoded with variable length (i.e. month which is one or two digits). Parse the timestamp and then compare. Sample SQL will look like:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>-- sample data\nwith dataset(date, timestamp) as (\n    values ('6/18/2023', '20:30:24')\n)\n\n-- sample query \nSELECT *\nFROM dataset\nwhere date_parse(date || ' ' || timestamp, '%c/%e/%Y %T') &gt; timestamp '2023-06-18' - interval '1' hour;\n</code></pre>\n<p>Read more:</p>\n<ul>\n<li><a href=\"https://prestodb.io/docs/current/functions/datetime.html#mysql-date-functions\" rel=\"nofollow noreferrer\">MySQL Date Functions</a></li>\n</ul>\n"}],"owner":{"account_id":29134264,"reputation":21,"user_id":22318795,"display_name":"Srinivas B"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":189,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1690986841,"creation_date":1690874413,"question_id":76809319,"body_markdown":"i am trying to get the data from s3 bucket with CSV file based on the 1 hour time interval but date and time stamp is two different column so can you please let me know how to write the athena query \r\n\r\ndate and Timestamp  are string \r\n\r\ndate : 6/18/2023\r\n\r\nTimestamp : 20:30:24\r\n\r\n\tprivate static final String SIMPLE_ATHENA_QUERY_TIME = &quot;SELECT * FROM dmat_db.dmat_kpi_tbldmat_csv_file_processed_bucket where date &gt; &#39;6/18/2023&#39; and Timestamp &gt; &#39;6/18/2023&#39; - interval &#39;1&#39; hour;&quot;;\r\n\r\n\r\n\r\n\r\n&gt; java.lang.RuntimeException: Query Failed to run with Error Message:\r\n&gt; TYPE_MISMATCH: line 1:119: Cannot apply operator: varchar(9) -\r\n&gt; interval day to second \tat\r\n&gt; com.dmat.kpi.controller.DMATKpiController.waitForQueryToComplete(DMATKpiController.java:103)\r\n&gt; ~[classes/:na] \tat\r\n&gt; com.dmat.kpi.controller.DMATKpiController.AthenaQuery(DMATKpiController.java:65)\r\n&gt; ~[classes/:","title":"athena query date and time stamp logic for 1 hour","body":"<p>i am trying to get the data from s3 bucket with CSV file based on the 1 hour time interval but date and time stamp is two different column so can you please let me know how to write the athena query</p>\n<p>date and Timestamp  are string</p>\n<p>date : 6/18/2023</p>\n<p>Timestamp : 20:30:24</p>\n<pre><code>private static final String SIMPLE_ATHENA_QUERY_TIME = &quot;SELECT * FROM dmat_db.dmat_kpi_tbldmat_csv_file_processed_bucket where date &gt; '6/18/2023' and Timestamp &gt; '6/18/2023' - interval '1' hour;&quot;;\n</code></pre>\n<blockquote>\n<p>java.lang.RuntimeException: Query Failed to run with Error Message:\nTYPE_MISMATCH: line 1:119: Cannot apply operator: varchar(9) -\ninterval day to second    at\ncom.dmat.kpi.controller.DMATKpiController.waitForQueryToComplete(DMATKpiController.java:103)\n~[classes/:na]    at\ncom.dmat.kpi.controller.DMATKpiController.AthenaQuery(DMATKpiController.java:65)\n~[classes/:</p>\n</blockquote>\n"},{"tags":["java","arrays","json","http","mule-studio"],"comments":[{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1585078356,"post_id":60837635,"comment_id":107638269,"body_markdown":"503 sounds like proxy report - and probably missconfigured","body":"503 sounds like proxy report - and probably missconfigured"},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1585079899,"post_id":60837635,"comment_id":107638916,"body_markdown":"You need to provide more details of the issue. Is it in the same server? Are you using API Manager? Your application implements the listener or the requester? What does an HTTP wire logging shows?","body":"You need to provide more details of the issue. Is it in the same server? Are you using API Manager? Your application implements the listener or the requester? What does an HTTP wire logging shows?"},{"owner":{"account_id":15320891,"reputation":21,"user_id":11053410,"display_name":"Ravi"},"score":0,"creation_date":1585085364,"post_id":60837635,"comment_id":107641040,"body_markdown":"Same application with 2 days or earlier created workspace working and receiving call from listener but just yesterday and today when I checkout code from bitbucket and import into new or old workspace then not receiving calls to Http listener.","body":"Same application with 2 days or earlier created workspace working and receiving call from listener but just yesterday and today when I checkout code from bitbucket and import into new or old workspace then not receiving calls to Http listener."},{"owner":{"account_id":15320891,"reputation":21,"user_id":11053410,"display_name":"Ravi"},"score":0,"creation_date":1585085632,"post_id":60837635,"comment_id":107641138,"body_markdown":"for my colleague it is working when he checkout code from bitbucket and import into new old workspace.... he is receiving call through http listener...  listener configuration for both are same as both are using same bitbucket branch/version.  I am using Anypoint studio for testing. And no logging in console as at least call is not coming inside of the flow through listener when i test from postman and soap ui","body":"for my colleague it is working when he checkout code from bitbucket and import into new old workspace.... he is receiving call through http listener...  listener configuration for both are same as both are using same bitbucket branch/version.  I am using Anypoint studio for testing. And no logging in console as at least call is not coming inside of the flow through listener when i test from postman and soap ui"},{"owner":{"account_id":15320891,"reputation":21,"user_id":11053410,"display_name":"Ravi"},"score":0,"creation_date":1585086113,"post_id":60837635,"comment_id":107641328,"body_markdown":"If I create now just sample mule app just to see httplistener by placing httplistener and logger and deployed then i am receiving call from listener.","body":"If I create now just sample mule app just to see httplistener by placing httplistener and logger and deployed then i am receiving call from listener."},{"owner":{"account_id":15320891,"reputation":21,"user_id":11053410,"display_name":"Ravi"},"score":0,"creation_date":1585091527,"post_id":60837635,"comment_id":107642992,"body_markdown":"I have to resolve why existing mule project not able to receive calls from http listener.  Please help to guide on this.","body":"I have to resolve why existing mule project not able to receive calls from http listener.  Please help to guide on this."}],"answers":[{"tags":[],"owner":{"account_id":21057643,"reputation":61,"user_id":15476634,"display_name":"user15476634"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1627425854,"creation_date":1616678832,"answer_id":66800483,"question_id":60837635,"body_markdown":"I faced the same problem.\r\nEverything was working, and suddenly (don&#39;t know why) I received the same 503 response.\r\n\r\nI tried a lot to figure out what was going on.\r\nAdded new listeners and tested existing flows, which all went well.\r\nOnly my particular listener with the APIKit was never getting reached anymore.\r\n\r\nI also disabled &#39;the gatekeeper&#39; as suggested in the following article :\r\n[API-returns-503-Service-Unavailable-error-to-clients][1]\r\n[Run -&gt; Run configurations -&gt; tab Arguments][2]\r\n\r\nI exported the project to a deployable archive file, with the checkbox &#39;only export project sources&#39; selected. Tested this application on different PC&#39;s which went well.\r\nCreated a new workspace on my PC, imported the file , and the application failed again.\r\n\r\nAfter a few other try &amp; errors, I enabled the &#39;clear application data&#39; -&gt; &#39;prompt&#39; selection box, and I disabled the &#39;APIKit settings&#39; -&gt; &#39;Show APIKit consol&#39;.\r\nI&#39;m not sure if that consol had something to do with it, but after restarting the application and select YES on **Clear application data** , it worked well again.\r\n[Run configurations][3]\r\n\r\nI re-enabled the &#39;show APIKit consol&#39; again, and it still worked fine.\r\n\r\nThis should solve your problem as well.\r\n\r\n  [1]: https://help.mulesoft.com/s/article/API-returns-503-Service-Unavailable-error-to-clients\r\n  [2]: https://i.stack.imgur.com/Y6mgl.png\r\n  [3]: https://i.stack.imgur.com/DnOmH.png","title":"503 Service Unavailable in Mule","body":"<p>I faced the same problem.\nEverything was working, and suddenly (don't know why) I received the same 503 response.</p>\n<p>I tried a lot to figure out what was going on.\nAdded new listeners and tested existing flows, which all went well.\nOnly my particular listener with the APIKit was never getting reached anymore.</p>\n<p>I also disabled 'the gatekeeper' as suggested in the following article :\n<a href=\"https://help.mulesoft.com/s/article/API-returns-503-Service-Unavailable-error-to-clients\" rel=\"nofollow noreferrer\">API-returns-503-Service-Unavailable-error-to-clients</a>\n<a href=\"https://i.stack.imgur.com/Y6mgl.png\" rel=\"nofollow noreferrer\">Run -&gt; Run configurations -&gt; tab Arguments</a></p>\n<p>I exported the project to a deployable archive file, with the checkbox 'only export project sources' selected. Tested this application on different PC's which went well.\nCreated a new workspace on my PC, imported the file , and the application failed again.</p>\n<p>After a few other try &amp; errors, I enabled the 'clear application data' -&gt; 'prompt' selection box, and I disabled the 'APIKit settings' -&gt; 'Show APIKit consol'.\nI'm not sure if that consol had something to do with it, but after restarting the application and select YES on <strong>Clear application data</strong> , it worked well again.\n<a href=\"https://i.stack.imgur.com/DnOmH.png\" rel=\"nofollow noreferrer\">Run configurations</a></p>\n<p>I re-enabled the 'show APIKit consol' again, and it still worked fine.</p>\n<p>This should solve your problem as well.</p>\n"},{"tags":[],"owner":{"account_id":12962662,"reputation":93,"user_id":9371403,"display_name":"DanilVanDovgal"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1625040273,"creation_date":1625040273,"answer_id":68190758,"question_id":60837635,"body_markdown":"I had the same problem when I added an autodiscovery configuration for my application. Adding this to VM arguments folved my issue.\r\n\r\n    -Danypoint.platform.gatekeeper=disabled","title":"503 Service Unavailable in Mule","body":"<p>I had the same problem when I added an autodiscovery configuration for my application. Adding this to VM arguments folved my issue.</p>\n<pre><code>-Danypoint.platform.gatekeeper=disabled\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15823311,"reputation":73,"user_id":11417027,"display_name":"netiv"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1627425757,"creation_date":1627411081,"answer_id":68550198,"question_id":60837635,"body_markdown":"This is basically the same answer as the [answer][1] provided by [user15476634][2], but with a visual description, and reasons why this error may occur.\r\n\r\nFor those who are wondering where to find Clear Application Data, please see below screenshot. \r\n[![enter image description here][3]][3]\r\n\r\nMost usual suspects in these type of issues is corrupted Application data due to following issues:  \r\n * Trying to open multiple test consoles at a time\r\n * Working on huge payload and not enough memory allocated\r\n * Accidentally selecting the multiple run configurations and/or debug configurations at once\r\n * when you try to re-run the same app while an instance is already\r\n   running by disregarding the prompt/warning window (Do you want to stop the running application and start ...?)\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/66800483/11417027\r\n  [2]: https://stackoverflow.com/users/15476634/user15476634\r\n  [3]: https://i.stack.imgur.com/We9ps.png\r\n","title":"503 Service Unavailable in Mule","body":"<p>This is basically the same answer as the <a href=\"https://stackoverflow.com/a/66800483/11417027\">answer</a> provided by <a href=\"https://stackoverflow.com/users/15476634/user15476634\">user15476634</a>, but with a visual description, and reasons why this error may occur.</p>\n<p>For those who are wondering where to find Clear Application Data, please see below screenshot.\n<a href=\"https://i.stack.imgur.com/We9ps.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/We9ps.png\" alt=\"enter image description here\" /></a></p>\n<p>Most usual suspects in these type of issues is corrupted Application data due to following issues:</p>\n<ul>\n<li>Trying to open multiple test consoles at a time</li>\n<li>Working on huge payload and not enough memory allocated</li>\n<li>Accidentally selecting the multiple run configurations and/or debug configurations at once</li>\n<li>when you try to re-run the same app while an instance is already\nrunning by disregarding the prompt/warning window (Do you want to stop the running application and start ...?)</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2340051,"reputation":2950,"user_id":2051552,"display_name":"user2051552"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662135936,"creation_date":1662135936,"answer_id":73585538,"question_id":60837635,"body_markdown":"For me, I had the same experience, the 503s appeared out of nowhere.  Clearing application data did not work for me, setting \r\n\r\n    -Danypoint.platform.gatekeeper=disabled\r\n\r\n\r\n did not work for me.  I had to remove this xml tag from my global config \r\n\r\n    &lt;api-gateway:autodiscovery ... /&gt;","title":"503 Service Unavailable in Mule","body":"<p>For me, I had the same experience, the 503s appeared out of nowhere.  Clearing application data did not work for me, setting</p>\n<pre><code>-Danypoint.platform.gatekeeper=disabled\n</code></pre>\n<p>did not work for me.  I had to remove this xml tag from my global config</p>\n<pre><code>&lt;api-gateway:autodiscovery ... /&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2651641,"reputation":4549,"user_id":2293146,"display_name":"Bishoy Hanna"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672316588,"creation_date":1672316588,"answer_id":74951068,"question_id":60837635,"body_markdown":"It happened to me after turning on autodiscovery in order to deploy, so i had to remove these lines (autodiscovery) temporary then test then return these lines back in order to deploy ","title":"503 Service Unavailable in Mule","body":"<p>It happened to me after turning on autodiscovery in order to deploy, so i had to remove these lines (autodiscovery) temporary then test then return these lines back in order to deploy</p>\n"},{"tags":[],"owner":{"account_id":395016,"reputation":125,"user_id":5070182,"display_name":"Justin Nimmo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690986743,"creation_date":1690986743,"answer_id":76820936,"question_id":60837635,"body_markdown":"I was able to add the -Danypoint.platform.gatekeeper=disabled line just fine in Anypoint 7.11.1.  When I moved to 7.13.0, nothing worked including clearing application data.  The thing that fixed it for me was simply removing the other run configurations and creating a new one with gatekeeper=disabled line.  Then everything ran as it should.  Hindsight, removing the other configurations probably wasn&#39;t needed.  I was being overly cautious at that point.","title":"503 Service Unavailable in Mule","body":"<p>I was able to add the -Danypoint.platform.gatekeeper=disabled line just fine in Anypoint 7.11.1.  When I moved to 7.13.0, nothing worked including clearing application data.  The thing that fixed it for me was simply removing the other run configurations and creating a new one with gatekeeper=disabled line.  Then everything ran as it should.  Hindsight, removing the other configurations probably wasn't needed.  I was being overly cautious at that point.</p>\n"}],"owner":{"account_id":15320891,"reputation":21,"user_id":11053410,"display_name":"Ravi"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6568,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":6,"score":2,"last_activity_date":1690986743,"creation_date":1585076599,"question_id":60837635,"body_markdown":"I am getting 503 Service Unavailable when call in Mule application...  Call is not reaching to HTTP Listener I think and beside of HTTP Listener there is Set Variable... to Set Variable also not reaching call...  Till day before yesterday it was working in all work spaces but suddenly it is not reaching to listener when I was trying after putting debug mode.  But for other developer is not having any issue and he is able to receive call to Listener and other components.  Current configurations everything is good. Can you please suggest what needs to check. ","title":"503 Service Unavailable in Mule","body":"<p>I am getting 503 Service Unavailable when call in Mule application...  Call is not reaching to HTTP Listener I think and beside of HTTP Listener there is Set Variable... to Set Variable also not reaching call...  Till day before yesterday it was working in all work spaces but suddenly it is not reaching to listener when I was trying after putting debug mode.  But for other developer is not having any issue and he is able to receive call to Listener and other components.  Current configurations everything is good. Can you please suggest what needs to check. </p>\n"},{"tags":["java","configuration","log4j","log4j2","lookup"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690543359,"post_id":76787264,"comment_id":135372089,"body_markdown":"`$${env:log.filePath:-env:java.io.tmpdir} ` might work per their docs","body":"<code>$${env:log.filePath:-env:java.io.tmpdir} </code> might work per their docs"},{"owner":{"account_id":10706418,"reputation":675,"user_id":7880079,"display_name":"Kousik Mandal"},"score":0,"creation_date":1690549085,"post_id":76787264,"comment_id":135373171,"body_markdown":"no luck with this.","body":"no luck with this."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690551326,"post_id":76787264,"comment_id":135373652,"body_markdown":"So what *exactly* was the `&lt;PatternLayout&gt;` node in your attempt?","body":"So what <i>exactly</i> was the <code>&lt;PatternLayout&gt;</code> node in your attempt?"},{"owner":{"account_id":10706418,"reputation":675,"user_id":7880079,"display_name":"Kousik Mandal"},"score":0,"creation_date":1690779119,"post_id":76787264,"comment_id":135395201,"body_markdown":"I am using log4j2.properties file not .xml file. Following are the configuration options for fileName and layout\n\nappender.file.fileName=${sys:log.filePath}\n\nappender.file.layout.type=PatternLayout\n\nappender.file.layout.pattern=%d{yyyy/MM/dd HH:mm:ss.SSS} [%5p] %t (%c) - %m%n","body":"I am using log4j2.properties file not .xml file. Following are the configuration options for fileName and layout  appender.file.fileName=${sys:log.filePath}  appender.file.layout.type=PatternLayout  appender.file.layout.pattern=%d{yyyy/MM/dd HH:mm:ss.SSS} [%5p] %t (%c) - %m%n"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690794540,"post_id":76787264,"comment_id":135397506,"body_markdown":"You&#39;re going to have to use the XML form most probably. In any case,  it&#39;s preferable to using a properties file","body":"You&#39;re going to have to use the XML form most probably. In any case,  it&#39;s preferable to using a properties file"}],"answers":[{"tags":[],"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690922106,"creation_date":1690922106,"answer_id":76815010,"question_id":76787264,"body_markdown":"The fallback value after `:-` is treated as a literal, but accepts nested lookups. So you have two choices:\r\n\r\n - use `${sys:logPath:-${sys:java.io.tmpdir}}`,\r\n - or define a configuration property named `logPath` (the default fallback for `${sys:logPath}` is `${logPath}`):\r\n   ```xml\r\n   &lt;Properties&gt;\r\n     &lt;Property name=&quot;logPath&quot; value=&quot;${sys:java.io.tmpdir}&quot;/&gt;\r\n   &lt;/Properties&gt;\r\n   &lt;Appenders&gt;\r\n     &lt;File fileName=&quot;${sys:logPath}/app.log&quot; .../&gt;\r\n   &lt;/Appenders&gt;\r\n   ```","title":"Nested lookup and substitute System properties in log4j2 properties file","body":"<p>The fallback value after <code>:-</code> is treated as a literal, but accepts nested lookups. So you have two choices:</p>\n<ul>\n<li>use <code>${sys:logPath:-${sys:java.io.tmpdir}}</code>,</li>\n<li>or define a configuration property named <code>logPath</code> (the default fallback for <code>${sys:logPath}</code> is <code>${logPath}</code>):\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;Properties&gt;\n  &lt;Property name=&quot;logPath&quot; value=&quot;${sys:java.io.tmpdir}&quot;/&gt;\n&lt;/Properties&gt;\n&lt;Appenders&gt;\n  &lt;File fileName=&quot;${sys:logPath}/app.log&quot; .../&gt;\n&lt;/Appenders&gt;\n</code></pre>\n</li>\n</ul>\n"}],"owner":{"account_id":10706418,"reputation":675,"user_id":7880079,"display_name":"Kousik Mandal"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76815010,"answer_count":1,"score":0,"last_activity_date":1690986460,"creation_date":1690542664,"question_id":76787264,"body_markdown":"In log4j2.properties file we have following definition to accept dynamic file path via System property log.filePath\r\n\r\n    appender.file.fileName=${sys:log.filePath}\r\n\r\nIn JAVA layer before creation of Logger instance we are replacing log.filePath System property with actual value\r\n\r\n    System.setProperty(&quot;log.filePath&quot; + logfilePath);\r\n\r\nWe would like to ensure if System property log.filePath is not available/replaced, then want to create the log file in java.io.tmpdir directory with name app.log. \r\n\r\nAs per Log4j2 System Properties Lookup doc &lt;https://logging.apache.org/log4j/2.x/manual/lookups.html&gt; following syntax exists `fileName=&quot;${sys:logPath:-/var/logs}/app.log&quot;` to create default log in /var/logs/app.log\r\n\r\nConsidering both Unix and Windows environment we would like to use java.io.tmpdir System property instead of /var/logs directory\r\n\r\nI have tried multiple combination of following syntaxes but not works\r\n\r\n    fileName=&quot;${sys:logPath:-sys:java.io.tmpdir}/app.log&quot;\r\n\r\nCan someone please suggest if using a System property for lookup default value is supported?","title":"Nested lookup and substitute System properties in log4j2 properties file","body":"<p>In log4j2.properties file we have following definition to accept dynamic file path via System property log.filePath</p>\n<pre><code>appender.file.fileName=${sys:log.filePath}\n</code></pre>\n<p>In JAVA layer before creation of Logger instance we are replacing log.filePath System property with actual value</p>\n<pre><code>System.setProperty(&quot;log.filePath&quot; + logfilePath);\n</code></pre>\n<p>We would like to ensure if System property log.filePath is not available/replaced, then want to create the log file in java.io.tmpdir directory with name app.log.</p>\n<p>As per Log4j2 System Properties Lookup doc <a href=\"https://logging.apache.org/log4j/2.x/manual/lookups.html\" rel=\"nofollow noreferrer\">https://logging.apache.org/log4j/2.x/manual/lookups.html</a> following syntax exists <code>fileName=&quot;${sys:logPath:-/var/logs}/app.log&quot;</code> to create default log in /var/logs/app.log</p>\n<p>Considering both Unix and Windows environment we would like to use java.io.tmpdir System property instead of /var/logs directory</p>\n<p>I have tried multiple combination of following syntaxes but not works</p>\n<pre><code>fileName=&quot;${sys:logPath:-sys:java.io.tmpdir}/app.log&quot;\n</code></pre>\n<p>Can someone please suggest if using a System property for lookup default value is supported?</p>\n"},{"tags":["java","entitymanager"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1690984128,"post_id":76820288,"comment_id":135429095,"body_markdown":"Because that is what you ask for with `FROM Quota q, QuotaLine ql, Deal d`. Your query returns 3 objects per row. What you probably wanted was JOIN instead o including them in the FROM. Or add `SELECT q FROM Quota q...`.","body":"Because that is what you ask for with <code>FROM Quota q, QuotaLine ql, Deal d</code>. Your query returns 3 objects per row. What you probably wanted was JOIN instead o including them in the FROM. Or add <code>SELECT q FROM Quota q...</code>."},{"owner":{"account_id":25487387,"reputation":11,"user_id":19282772,"display_name":"Pablo Olivera"},"score":0,"creation_date":1690985041,"post_id":76820288,"comment_id":135429354,"body_markdown":"Yes that&#39;s true, I saw in another stack overflow post how a guy explained that JOIN should be used like that with entity manager. Now I know It&#39;s possible to write it like:\n\n&quot;&quot;FROM Quota q INNER JOIN QuotaLine ql on (q.id = ql.quota.id)&quot;","body":"Yes that&#39;s true, I saw in another stack overflow post how a guy explained that JOIN should be used like that with entity manager. Now I know It&#39;s possible to write it like:  &quot;&quot;FROM Quota q INNER JOIN QuotaLine ql on (q.id = ql.quota.id)&quot;"}],"answers":[{"tags":[],"owner":{"account_id":25487387,"reputation":11,"user_id":19282772,"display_name":"Pablo Olivera"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690986217,"creation_date":1690986217,"answer_id":76820863,"question_id":76820288,"body_markdown":"It was a query problem. As [M. Deinum][1] said, I was asking for 3 objects.\r\n\r\nString baseQuery = &quot;FROM Quota q, QuotaLine ql, Deal d &quot; + &quot;where ql.quota = q &quot; + &quot;and ql.deal = d &quot;;\r\n\r\nTo solve it -&gt; &quot;FROM Quota q INNER JOIN QuotaLine ql on (q.id = ql.quota.id)&quot;\r\n\r\n  [1]: https://stackoverflow.com/users/2696260/m-deinum","title":"Using Entity Manager to return a List, but instead It returns a list inside a list. why?","body":"<p>It was a query problem. As <a href=\"https://stackoverflow.com/users/2696260/m-deinum\">M. Deinum</a> said, I was asking for 3 objects.</p>\n<p>String baseQuery = &quot;FROM Quota q, QuotaLine ql, Deal d &quot; + &quot;where ql.quota = q &quot; + &quot;and ql.deal = d &quot;;</p>\n<p>To solve it -&gt; &quot;FROM Quota q INNER JOIN QuotaLine ql on (q.id = ql.quota.id)&quot;</p>\n"}],"owner":{"account_id":25487387,"reputation":11,"user_id":19282772,"display_name":"Pablo Olivera"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1690986217,"creation_date":1690982263,"question_id":76820288,"body_markdown":"This is my method:\r\n\r\n\r\n```java\r\n@Override\r\npublic List&lt;Quota&gt; getAllQuota(Pageable pageable, QuotaRequestFiltered qreq) {\r\n\tString baseQuery = &quot;FROM Quota q, QuotaLine ql, Deal d &quot; + &quot;where ql.quota = q &quot; + &quot;and ql.deal = d &quot;;\r\n\r\n\tString queryState = &quot;&quot;;\r\n\r\n\tif (qreq.getState() != 0) {\r\n\t\tqueryState = &quot; and q.state.id = &quot; + qreq.getState();\r\n\t}\r\n\r\n\tString queryClient = &quot;&quot;;\r\n\r\n\tif (qreq.getClient() != 0) {\r\n\t\tqueryClient = &quot; and ql.client.id = &quot; + qreq.getClient();\r\n\t}\r\n\r\n\tString queryDealNumber = &quot;&quot;;\r\n\r\n\tif (qreq.getDeal_number() != null) {\r\n\t\tqueryDealNumber = &quot; and d.dealNumber = &#39;&quot; + qreq.getDeal_number() + &quot;&#39;&quot;;\r\n\t}\r\n\r\n\tString queryDateRequest = &quot;&quot;;\r\n\r\n\tSimpleDateFormat dateFormat = new SimpleDateFormat(&quot;dd-MM-yyyy&quot;);\r\n\r\n\tif (qreq.getDate_request_from() != null &amp;&amp; qreq.getDate_request_to() != null) {\r\n\t\tString dateFrom = dateFormat.format(qreq.getDate_request_from());\r\n\t\tString dateTo = dateFormat.format(qreq.getDate_request_to());\r\n\t\tqueryDateRequest = &quot; and q.dateRequest between to_timestamp(&#39;&quot; + dateFrom + &quot;&#39;,&#39;DD-MM-YYYYHH24MISS&#39;&quot; + &quot;)and to_timestamp(&#39;&quot; + dateTo + &quot;&#39;,&#39;DD-MM-YYYYHH24MISS&#39;&quot; + &quot;)&quot;;\r\n\t} else if (qreq.getDate_request_from() != null) {\r\n\t\tString dateFrom = dateFormat.format(qreq.getDate_request_from());\r\n\t\tqueryDateRequest = &quot; and q.dateRequest &gt;= to_timestamp(&#39;&quot; + dateFrom + &quot;&#39;,&#39;DD-MM-YYYYHH24MISS&#39;&quot; + &quot;)&quot;;\r\n\t} else if (qreq.getDate_request_to() != null) {\r\n\t\tString dateTo = dateFormat.format(qreq.getDate_request_to());\r\n\t\tqueryDateRequest = &quot; and q.dateRequest &lt;= to_timestamp(&#39;&quot; + dateTo + &quot;&#39;,&#39;DD-MM-YYYYHH24MISS&#39;&quot; + &quot;)&quot;;\r\n\t}\r\n\r\n\tString queryDateWithdraw = &quot;&quot;;\r\n\r\n\tif (qreq.getDate_withdraw_from() != null &amp;&amp; qreq.getDate_withdraw_to() != null) {\r\n\t\tString dateFrom = dateFormat.format(qreq.getDate_withdraw_from());\r\n\t\tString dateTo = dateFormat.format(qreq.getDate_withdraw_to());\r\n\t\tqueryDateWithdraw = &quot; and q.dateWithdraw between to_timestamp(&#39;&quot; + dateFrom + &quot;&#39;,&#39;DD-MM-YYYYHH24MISS&#39;&quot; + &quot;)and to_timestamp(&#39;&quot; + dateTo + &quot;&#39;,&#39;DD-MM-YYYYHH24MISS&#39;&quot; + &quot;)&quot;;\r\n\t} else if (qreq.getDate_withdraw_from() != null) {\r\n\t\tString dateFrom = dateFormat.format(qreq.getDate_withdraw_from());\r\n\t\tqueryDateWithdraw = &quot; and q.dateWithdraw &gt;= to_timestamp(&#39;&quot; + dateFrom + &quot;&#39;,&#39;DD-MM-YYYYHH24MISS&#39;&quot; + &quot;)&quot;;\r\n\t} else if (qreq.getDate_withdraw_to() != null) {\r\n\t\tString dateTo = dateFormat.format(qreq.getDate_withdraw_to());\r\n\t\tqueryDateWithdraw = &quot; and q.dateWithdraw &lt;= to_timestamp(&#39;&quot; + dateTo + &quot;&#39;,&#39;DD-MM-YYYYHH24MISS&#39;&quot; + &quot;)&quot;;\r\n\t}\r\n\r\n\tString finalQuery = baseQuery + queryState + queryClient + queryDealNumber + queryDateRequest + queryDateWithdraw;\r\n\r\n\tQuery query = em.createQuery(finalQuery); /// em -&gt; @PersistanceContext\r\n\t\t\t\t\t\t\t\t\t\t\t\t/// private EntityManager em;\r\n\tList&lt;Quota&gt; quotas = query.getResultList();\r\n\r\n\treturn quotas;\r\n\r\n}\r\n```\r\n\r\nQuota: \r\n\r\n```java\r\n@Entity\r\n@Table(name = &quot;quotas&quot;)\r\npublic class Quota extends FullBaseEntity{\r\n\t@Id\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;quota_seq&quot;)\r\n    @SequenceGenerator(sequenceName = &quot;quota_seq&quot;, \r\n                       name = &quot;quota_seq&quot;, allocationSize = 1, initialValue = 1)\r\n    private Long id;\r\n\t\r\n\t@OneToOne\r\n    @JoinColumn(name = &quot;state_id&quot;, referencedColumnName = &quot;id&quot;)\r\n\tprivate State state;\r\n\t\t\t\t\t\r\n\t@NotNull\r\n\t@Column(name=&quot;date_request&quot;)\r\n\tprivate LocalDateTime dateRequest;\r\n\r\n\t@Column(name=&quot;date_withdraw&quot;)\r\n\tprivate LocalDateTime dateWithdraw;\r\n\t\r\n\t@OneToOne\r\n    @JoinColumn(name = &quot;cargo_depot_id&quot;, referencedColumnName = &quot;id&quot;)\r\n\tprivate CargoDepot cargoDepot;\r\n\t\r\n\t@Column(name=&quot;name_carrier&quot;, length=255)\r\n\tprivate String nameCarrier;\r\n\r\n\t@Column(name=&quot;phone_carrier&quot;, length=100)\r\n\tprivate String phoneCarrier;\r\n\t\r\n\t@OneToOne\r\n\t@JoinColumn(name = &quot;transport_id&quot;, referencedColumnName =&quot;id&quot;)\r\n\tprivate Transport transport;\r\n\t\r\n\t@NotNull\r\n\t@OneToOne\r\n\t@JoinColumn(name = &quot;doc_type_carrier_id&quot;, referencedColumnName = &quot;id&quot;)\r\n\tprivate DocType docTypeCarrier;\r\n\t\r\n\t@Column(name=&quot;document_carrier&quot;, length=100)\r\n\tprivate String documentCarrier;\r\n\r\n\t@Column(name=&quot;patent_chassis&quot;, length=100)\r\n\tprivate String patentChassis;\r\n\t\r\n\t@Column(name=&quot;coupled_patent&quot;, length=100)\r\n\tprivate String coupledPatent;\r\n\t\r\n\t@Column(name=&quot;comment&quot;, length=100)\r\n\tprivate String comment;\r\n\t\r\n\t@OneToOne\r\n\t@JoinColumn(name = &quot;rejectionReason&quot;, referencedColumnName = &quot;id&quot;)\r\n\tprivate RejectReason rejectionReason;\r\n\t\r\n\t\r\n//\t@Cascade({ CascadeType.,CascadeType.ALL, CascadeType.DELETE_ORPHAN })\r\n//\t@OneToMany(mappedBy = &quot;quota&quot;,cascade = { CascadeType.REMOVE, CascadeType.PERSIST })\r\n//\t@OneToMany(mappedBy = &quot;quota&quot;, cascade = CascadeType.ALL)\r\n//\tprivate List&lt;QuotaLine&gt; lines  = new ArrayList&lt;&gt;();\r\n\t\r\n\t@OneToMany(cascade = CascadeType.ALL, orphanRemoval = true, mappedBy = &quot;quota&quot;)\r\n//\t@JoinColumn(name = &quot;quota_id&quot;)\r\n\tprivate List&lt;QuotaLine&gt; lines = new ArrayList&lt;&gt;();\r\n\r\n```\r\n\r\nQuotaLine:\r\n```java\r\n@Entity\r\n@Table(name = &quot;quota_lines&quot;)\r\npublic class QuotaLine extends FullBaseEntity{\r\n\r\n\t@Id\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;quota_lines_seq&quot;)\r\n    @SequenceGenerator(sequenceName = &quot;quota_lines_seq&quot;, \r\n                       name = &quot;quota_lines_seq&quot;, allocationSize = 1, initialValue = 1)\r\n    private Long id;\r\n\t\r\n\t@OneToOne\r\n    @JoinColumn(name = &quot;quota_id&quot;, referencedColumnName = &quot;id&quot;)\r\n\tprivate Quota quota;\r\n\t\r\n\t@OneToOne\r\n    @JoinColumn(name = &quot;client_id&quot;, referencedColumnName = &quot;id&quot;)\r\n\tprivate Client client;\r\n\t\r\n\t@OneToOne\r\n    @JoinColumn(name = &quot;product_id&quot;, referencedColumnName = &quot;id&quot;)\r\n\tprivate Product product;\r\n\t\r\n//\t@OneToOne\r\n//    @JoinColumn(name = &quot;weight_unit_id&quot;, referencedColumnName = &quot;id&quot;)\r\n//\tprivate WeightUnit weightUnit;\r\n\t\r\n\t@Column(name=&quot;ammount&quot;)\r\n\tprivate int ammount;\r\n\t\r\n\t@OneToOne\r\n    @JoinColumn(name = &quot;province_id&quot;, referencedColumnName = &quot;id&quot;)\r\n\tprivate Province province;\r\n\t\r\n\t@OneToOne\r\n    @JoinColumn(name = &quot;city_id&quot;, referencedColumnName = &quot;id&quot;)\r\n\tprivate City city;\r\n\t\r\n\t@Column(name=&quot;postal_code&quot;)\r\n\tprivate String postalCode;\r\n\t\r\n\t@Column(name=&quot;address&quot;)\r\n\tprivate String address;\r\n\t\r\n\t@OneToOne\r\n    @JoinColumn(name = &quot;deal_id&quot;, referencedColumnName = &quot;id&quot;)\r\n\tprivate Deal deal;\r\n\t\r\n```\r\n\r\nDeal:\r\n```java\r\n@Entity\r\n@Table(name = &quot;deals&quot;)\r\n@SuppressWarnings({&quot;serial&quot;})\r\npublic class Deal extends FullBaseEntity {\r\n\t@Id\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;deals_seq&quot;)\r\n    @SequenceGenerator(sequenceName = &quot;deals_seq&quot;, \r\n                       name = &quot;deals_seq&quot;, allocationSize = 1, initialValue = 1)\r\n    private Long id;\r\n\t\r\n\t@Column(name = &quot;deal_number&quot;)\r\n\tprivate String dealNumber;\r\n\t\r\n    @OneToOne\r\n    @JoinColumn(name = &quot;client_id&quot;, referencedColumnName = &quot;id&quot;)\r\n    @NotNull\r\n    private Client client;\r\n    \r\n    @Column(name = &quot;closed&quot;)\r\n    private Boolean closed;\r\n\r\n```\r\nAs the title says, &quot;quotas&quot; show an array inside an array when I test it on postman, why? \r\n\r\nresponse example from postman:\r\n\r\n\r\n```json\r\n[\r\n    [\r\n        {\r\n            &quot;createdAt&quot;: null,\r\n            &quot;updatedAt&quot;: null,\r\n            &quot;createdBy&quot;: null,\r\n            &quot;updatedBy&quot;: null,\r\n            &quot;id&quot;: 27,\r\n            &quot;state&quot;: {\r\n             ........\r\n        }\r\n   ]\r\n]\r\n```\r\n\r\n\r\nThis method getAllQuota is invoked by a controller which exposes an endpoint, so I think it&#39;s not relevant to show. \r\n\r\n\r\n\r\n\r\nI tried getting the first result, but It returns an Int so I discarded that option. \r\nI think It&#39;s a model problem, but I can&#39;t see where It is. ","title":"Using Entity Manager to return a List, but instead It returns a list inside a list. why?","body":"<p>This is my method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic List&lt;Quota&gt; getAllQuota(Pageable pageable, QuotaRequestFiltered qreq) {\n    String baseQuery = &quot;FROM Quota q, QuotaLine ql, Deal d &quot; + &quot;where ql.quota = q &quot; + &quot;and ql.deal = d &quot;;\n\n    String queryState = &quot;&quot;;\n\n    if (qreq.getState() != 0) {\n        queryState = &quot; and q.state.id = &quot; + qreq.getState();\n    }\n\n    String queryClient = &quot;&quot;;\n\n    if (qreq.getClient() != 0) {\n        queryClient = &quot; and ql.client.id = &quot; + qreq.getClient();\n    }\n\n    String queryDealNumber = &quot;&quot;;\n\n    if (qreq.getDeal_number() != null) {\n        queryDealNumber = &quot; and d.dealNumber = '&quot; + qreq.getDeal_number() + &quot;'&quot;;\n    }\n\n    String queryDateRequest = &quot;&quot;;\n\n    SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;dd-MM-yyyy&quot;);\n\n    if (qreq.getDate_request_from() != null &amp;&amp; qreq.getDate_request_to() != null) {\n        String dateFrom = dateFormat.format(qreq.getDate_request_from());\n        String dateTo = dateFormat.format(qreq.getDate_request_to());\n        queryDateRequest = &quot; and q.dateRequest between to_timestamp('&quot; + dateFrom + &quot;','DD-MM-YYYYHH24MISS'&quot; + &quot;)and to_timestamp('&quot; + dateTo + &quot;','DD-MM-YYYYHH24MISS'&quot; + &quot;)&quot;;\n    } else if (qreq.getDate_request_from() != null) {\n        String dateFrom = dateFormat.format(qreq.getDate_request_from());\n        queryDateRequest = &quot; and q.dateRequest &gt;= to_timestamp('&quot; + dateFrom + &quot;','DD-MM-YYYYHH24MISS'&quot; + &quot;)&quot;;\n    } else if (qreq.getDate_request_to() != null) {\n        String dateTo = dateFormat.format(qreq.getDate_request_to());\n        queryDateRequest = &quot; and q.dateRequest &lt;= to_timestamp('&quot; + dateTo + &quot;','DD-MM-YYYYHH24MISS'&quot; + &quot;)&quot;;\n    }\n\n    String queryDateWithdraw = &quot;&quot;;\n\n    if (qreq.getDate_withdraw_from() != null &amp;&amp; qreq.getDate_withdraw_to() != null) {\n        String dateFrom = dateFormat.format(qreq.getDate_withdraw_from());\n        String dateTo = dateFormat.format(qreq.getDate_withdraw_to());\n        queryDateWithdraw = &quot; and q.dateWithdraw between to_timestamp('&quot; + dateFrom + &quot;','DD-MM-YYYYHH24MISS'&quot; + &quot;)and to_timestamp('&quot; + dateTo + &quot;','DD-MM-YYYYHH24MISS'&quot; + &quot;)&quot;;\n    } else if (qreq.getDate_withdraw_from() != null) {\n        String dateFrom = dateFormat.format(qreq.getDate_withdraw_from());\n        queryDateWithdraw = &quot; and q.dateWithdraw &gt;= to_timestamp('&quot; + dateFrom + &quot;','DD-MM-YYYYHH24MISS'&quot; + &quot;)&quot;;\n    } else if (qreq.getDate_withdraw_to() != null) {\n        String dateTo = dateFormat.format(qreq.getDate_withdraw_to());\n        queryDateWithdraw = &quot; and q.dateWithdraw &lt;= to_timestamp('&quot; + dateTo + &quot;','DD-MM-YYYYHH24MISS'&quot; + &quot;)&quot;;\n    }\n\n    String finalQuery = baseQuery + queryState + queryClient + queryDealNumber + queryDateRequest + queryDateWithdraw;\n\n    Query query = em.createQuery(finalQuery); /// em -&gt; @PersistanceContext\n                                                /// private EntityManager em;\n    List&lt;Quota&gt; quotas = query.getResultList();\n\n    return quotas;\n\n}\n</code></pre>\n<p>Quota:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;quotas&quot;)\npublic class Quota extends FullBaseEntity{\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;quota_seq&quot;)\n    @SequenceGenerator(sequenceName = &quot;quota_seq&quot;, \n                       name = &quot;quota_seq&quot;, allocationSize = 1, initialValue = 1)\n    private Long id;\n    \n    @OneToOne\n    @JoinColumn(name = &quot;state_id&quot;, referencedColumnName = &quot;id&quot;)\n    private State state;\n                    \n    @NotNull\n    @Column(name=&quot;date_request&quot;)\n    private LocalDateTime dateRequest;\n\n    @Column(name=&quot;date_withdraw&quot;)\n    private LocalDateTime dateWithdraw;\n    \n    @OneToOne\n    @JoinColumn(name = &quot;cargo_depot_id&quot;, referencedColumnName = &quot;id&quot;)\n    private CargoDepot cargoDepot;\n    \n    @Column(name=&quot;name_carrier&quot;, length=255)\n    private String nameCarrier;\n\n    @Column(name=&quot;phone_carrier&quot;, length=100)\n    private String phoneCarrier;\n    \n    @OneToOne\n    @JoinColumn(name = &quot;transport_id&quot;, referencedColumnName =&quot;id&quot;)\n    private Transport transport;\n    \n    @NotNull\n    @OneToOne\n    @JoinColumn(name = &quot;doc_type_carrier_id&quot;, referencedColumnName = &quot;id&quot;)\n    private DocType docTypeCarrier;\n    \n    @Column(name=&quot;document_carrier&quot;, length=100)\n    private String documentCarrier;\n\n    @Column(name=&quot;patent_chassis&quot;, length=100)\n    private String patentChassis;\n    \n    @Column(name=&quot;coupled_patent&quot;, length=100)\n    private String coupledPatent;\n    \n    @Column(name=&quot;comment&quot;, length=100)\n    private String comment;\n    \n    @OneToOne\n    @JoinColumn(name = &quot;rejectionReason&quot;, referencedColumnName = &quot;id&quot;)\n    private RejectReason rejectionReason;\n    \n    \n//  @Cascade({ CascadeType.,CascadeType.ALL, CascadeType.DELETE_ORPHAN })\n//  @OneToMany(mappedBy = &quot;quota&quot;,cascade = { CascadeType.REMOVE, CascadeType.PERSIST })\n//  @OneToMany(mappedBy = &quot;quota&quot;, cascade = CascadeType.ALL)\n//  private List&lt;QuotaLine&gt; lines  = new ArrayList&lt;&gt;();\n    \n    @OneToMany(cascade = CascadeType.ALL, orphanRemoval = true, mappedBy = &quot;quota&quot;)\n//  @JoinColumn(name = &quot;quota_id&quot;)\n    private List&lt;QuotaLine&gt; lines = new ArrayList&lt;&gt;();\n\n</code></pre>\n<p>QuotaLine:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;quota_lines&quot;)\npublic class QuotaLine extends FullBaseEntity{\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;quota_lines_seq&quot;)\n    @SequenceGenerator(sequenceName = &quot;quota_lines_seq&quot;, \n                       name = &quot;quota_lines_seq&quot;, allocationSize = 1, initialValue = 1)\n    private Long id;\n    \n    @OneToOne\n    @JoinColumn(name = &quot;quota_id&quot;, referencedColumnName = &quot;id&quot;)\n    private Quota quota;\n    \n    @OneToOne\n    @JoinColumn(name = &quot;client_id&quot;, referencedColumnName = &quot;id&quot;)\n    private Client client;\n    \n    @OneToOne\n    @JoinColumn(name = &quot;product_id&quot;, referencedColumnName = &quot;id&quot;)\n    private Product product;\n    \n//  @OneToOne\n//    @JoinColumn(name = &quot;weight_unit_id&quot;, referencedColumnName = &quot;id&quot;)\n//  private WeightUnit weightUnit;\n    \n    @Column(name=&quot;ammount&quot;)\n    private int ammount;\n    \n    @OneToOne\n    @JoinColumn(name = &quot;province_id&quot;, referencedColumnName = &quot;id&quot;)\n    private Province province;\n    \n    @OneToOne\n    @JoinColumn(name = &quot;city_id&quot;, referencedColumnName = &quot;id&quot;)\n    private City city;\n    \n    @Column(name=&quot;postal_code&quot;)\n    private String postalCode;\n    \n    @Column(name=&quot;address&quot;)\n    private String address;\n    \n    @OneToOne\n    @JoinColumn(name = &quot;deal_id&quot;, referencedColumnName = &quot;id&quot;)\n    private Deal deal;\n    \n</code></pre>\n<p>Deal:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;deals&quot;)\n@SuppressWarnings({&quot;serial&quot;})\npublic class Deal extends FullBaseEntity {\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;deals_seq&quot;)\n    @SequenceGenerator(sequenceName = &quot;deals_seq&quot;, \n                       name = &quot;deals_seq&quot;, allocationSize = 1, initialValue = 1)\n    private Long id;\n    \n    @Column(name = &quot;deal_number&quot;)\n    private String dealNumber;\n    \n    @OneToOne\n    @JoinColumn(name = &quot;client_id&quot;, referencedColumnName = &quot;id&quot;)\n    @NotNull\n    private Client client;\n    \n    @Column(name = &quot;closed&quot;)\n    private Boolean closed;\n\n</code></pre>\n<p>As the title says, &quot;quotas&quot; show an array inside an array when I test it on postman, why?</p>\n<p>response example from postman:</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n    [\n        {\n            &quot;createdAt&quot;: null,\n            &quot;updatedAt&quot;: null,\n            &quot;createdBy&quot;: null,\n            &quot;updatedBy&quot;: null,\n            &quot;id&quot;: 27,\n            &quot;state&quot;: {\n             ........\n        }\n   ]\n]\n</code></pre>\n<p>This method getAllQuota is invoked by a controller which exposes an endpoint, so I think it's not relevant to show.</p>\n<p>I tried getting the first result, but It returns an Int so I discarded that option.\nI think It's a model problem, but I can't see where It is.</p>\n"},{"tags":["java","otel"],"owner":{"account_id":4693413,"reputation":335,"user_id":5519012,"accept_rate":75,"display_name":"Meir Tolpin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690986163,"creation_date":1690986163,"question_id":76820857,"body_markdown":"I have an Otel `InstrumentationModule` that requires `com.google.gson` library, from what I understand from [Otel Documentation][1] in order to inject `com.google.json` I need to override `getAdditionalHelperClassNames` function with - \r\n```\r\n  @Override\r\n  public List&lt;String&gt; getAdditionalHelperClassNames() {\r\n    return Arrays.asList(\r\n        &quot;com.google.gson.Gson&quot;,\r\n  }\r\n```\r\n\r\nMy issue is that `com.google.gson` is not a single class, there are a lot of classes inside this library, and I don&#39;t want to specify all the classes in the correct order to make that work.\r\n\r\nIs there an option the inject a full library instead of separate classes ? \r\n\r\n\r\n\r\n  [1]: https://github.com/open-telemetry/opentelemetry-java-instrumentation/blob/main/docs/contributing/writing-instrumentation-module.md","title":"Opentelemetry Java InstrumentationModule - How to use &quot;com.google.gson&quot; as Helper class?","body":"<p>I have an Otel <code>InstrumentationModule</code> that requires <code>com.google.gson</code> library, from what I understand from <a href=\"https://github.com/open-telemetry/opentelemetry-java-instrumentation/blob/main/docs/contributing/writing-instrumentation-module.md\" rel=\"nofollow noreferrer\">Otel Documentation</a> in order to inject <code>com.google.json</code> I need to override <code>getAdditionalHelperClassNames</code> function with -</p>\n<pre><code>  @Override\n  public List&lt;String&gt; getAdditionalHelperClassNames() {\n    return Arrays.asList(\n        &quot;com.google.gson.Gson&quot;,\n  }\n</code></pre>\n<p>My issue is that <code>com.google.gson</code> is not a single class, there are a lot of classes inside this library, and I don't want to specify all the classes in the correct order to make that work.</p>\n<p>Is there an option the inject a full library instead of separate classes ?</p>\n"},{"tags":["java","python","csv","automation"],"comments":[{"owner":{"account_id":4874231,"reputation":13953,"user_id":3929826,"display_name":"Klaus D."},"score":0,"creation_date":1610782762,"post_id":65747178,"comment_id":116245294,"body_markdown":"What have you tried so far?","body":"What have you tried so far?"}],"answers":[{"tags":[],"owner":{"account_id":20306748,"reputation":430,"user_id":14894794,"display_name":"Shag"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1610780458,"creation_date":1610780458,"answer_id":65747224,"question_id":65747178,"body_markdown":"There are many online converters to convert mpp to csv. One of them are [MPP to CSV][1]\r\n\r\n\r\nAlso you can visit [Automate MPP to CSV][2] for references.\r\n\r\n\r\n  [1]: https://products.groupdocs.app/conversion/mpp-to-csv\r\n  [2]: https://stackoverflow.com/questions/9671475/any-way-to-automate-the-process-of-opening-a-mpp-file-and-saving-it-as-a-csv","title":"How Can i convert MPP file into CSV using Script","body":"<p>There are many online converters to convert mpp to csv. One of them are <a href=\"https://products.groupdocs.app/conversion/mpp-to-csv\" rel=\"nofollow noreferrer\">MPP to CSV</a></p>\n<p>Also you can visit <a href=\"https://stackoverflow.com/questions/9671475/any-way-to-automate-the-process-of-opening-a-mpp-file-and-saving-it-as-a-csv\">Automate MPP to CSV</a> for references.</p>\n"}],"owner":{"account_id":20412667,"reputation":356,"user_id":14975651,"display_name":"Naveen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":378,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":65747224,"answer_count":1,"score":-3,"last_activity_date":1690985848,"creation_date":1610779860,"question_id":65747178,"body_markdown":"I was trying to fetch data from MPP file , Since it is hard i was thinking about converting the MPP file into something more readable and have some library support, Is there any way to convert MPP file into CSV by script","title":"How Can i convert MPP file into CSV using Script","body":"<p>I was trying to fetch data from MPP file , Since it is hard i was thinking about converting the MPP file into something more readable and have some library support, Is there any way to convert MPP file into CSV by script</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":2993414,"reputation":12019,"user_id":2540471,"display_name":"Robert Scholte"},"score":1,"creation_date":1690883303,"post_id":76807256,"comment_id":135411920,"body_markdown":"uesrname/password management should not be done with properties, but with server-entries in the settings.xml. So to correct you a bit, this is not just for repositories. However, the specific maven-plugin must be capable to use this. Here&#39;s an example with a database: https://www.mojohaus.org/sql-maven-plugin/execute-mojo.html#settingsKey","body":"uesrname/password management should not be done with properties, but with server-entries in the settings.xml. So to correct you a bit, this is not just for repositories. However, the specific maven-plugin must be capable to use this. Here&#39;s an example with a database: <a href=\"https://www.mojohaus.org/sql-maven-plugin/execute-mojo.html#settingsKey\" rel=\"nofollow noreferrer\">mojohaus.org/sql-maven-plugin/execute-mojo.html#settingsKey</a>"},{"owner":{"account_id":3486623,"reputation":547,"user_id":2917389,"display_name":"jlar310"},"score":1,"creation_date":1690897821,"post_id":76807256,"comment_id":135415103,"body_markdown":"Unfortunately, the plugin I am using only supports plain maven properties. The plugin author says &quot;don&#39;t use a production database&quot;, which we don&#39;t, but I still don&#39;t want the password to our development database floating around.","body":"Unfortunately, the plugin I am using only supports plain maven properties. The plugin author says &quot;don&#39;t use a production database&quot;, which we don&#39;t, but I still don&#39;t want the password to our development database floating around."},{"owner":{"account_id":356850,"reputation":18179,"user_id":696632,"accept_rate":62,"display_name":"Michael-O"},"score":0,"creation_date":1691007194,"post_id":76807256,"comment_id":135433968,"body_markdown":"Update to 3.8.8+","body":"Update to 3.8.8+"},{"owner":{"account_id":3486623,"reputation":547,"user_id":2917389,"display_name":"jlar310"},"score":0,"creation_date":1691158147,"post_id":76807256,"comment_id":135458113,"body_markdown":"@Michael-O As stated in the question, the issue is the same on 3.9.x","body":"@Michael-O As stated in the question, the issue is the same on 3.9.x"},{"owner":{"account_id":356850,"reputation":18179,"user_id":696632,"accept_rate":62,"display_name":"Michael-O"},"score":0,"creation_date":1691181387,"post_id":76807256,"comment_id":135462529,"body_markdown":"Then you should file a JIRA issue if this seems to be regression along with a reproducer.","body":"Then you should file a JIRA issue if this seems to be regression along with a reproducer."}],"owner":{"account_id":3486623,"reputation":547,"user_id":2917389,"display_name":"jlar310"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1690985841,"creation_date":1690839147,"question_id":76807256,"body_markdown":"I have a maven project sub-module that requires a database password for a code generation build phase. I do not wish to place this password in any file that is committed to version control. This is not a production instance password, but I wish to keep the password as secure as possible in any case.\r\n\r\nDevelopers working on this module must place the password in a profile in settings.xml. Additionally, it is preferred that this profile is not active by default and is only active when building this specific project. So the profile is activated by the presence of the &#39;my-sub-module/pom.xml&#39; file. \r\n\r\nsettings.xml:\r\n\r\n```\r\n&lt;settings&gt;\r\n  ...\r\n  &lt;profiles&gt;\r\n    &lt;profile&gt;\r\n      &lt;id&gt;db-password&lt;/id&gt;\r\n      &lt;properties&gt;\r\n        &lt;my.db.password&gt;secret-password&lt;/my.db.password&gt;\r\n      &lt;/properties&gt;\r\n      &lt;activation&gt;\r\n        &lt;file&gt;\r\n          &lt;exists&gt;my-sub-module/pom.xml&lt;/exists&gt;\r\n        &lt;/file&gt;\r\n      &lt;/activation&gt;\r\n    &lt;/profile&gt;\r\n  &lt;/profiles&gt;\r\n&lt;/settings&gt;\r\n```\r\n\r\nThis worked great, right through Maven version 3.8.4. But it does not work for any newer Maven 3.8.x versions or Maven 3.9.x. Note that it relies on the `my-sub-module` directory path in the `&lt;exists&gt;` element to make it somewhat specific to this project.\r\n\r\nFor older Maven, the following commands output the password as expected in both cases:\r\n\r\n```\r\nmvn help:evaluate -Dexpression=my.db.password -q -DforceStdout\r\nmvn help:evaluate -pl my-sub-module -Dexpression=my.db.password -q -DforceStdout\r\n```\r\n\r\nWith newer Maven the first command above, outputs the password as expected, but the second command does not. It says &quot;null object or  invalid expression&quot;. \r\n\r\nSo clearly something changed in Maven regarding the &quot;relative-ness&quot;, if you will, of the path specified in `&lt;exists&gt;`. So when running a full Maven build on the parent module with 3.8.5 or greater, the context for &lt;exists&gt; seems to be different when it builds the sub-module.\r\n\r\nI tried removing the `&lt;activation&gt;` block from settings.xml and adding profile activation directly in my-sub-module/pom.xml or the parent pom.xml, thus not requiring any &lt;exists&gt; criteria\r\n\r\n```\r\n    &lt;profiles&gt;\r\n        &lt;profile&gt;\r\n            &lt;id&gt;db-password&lt;/id&gt;\r\n            &lt;activation&gt;\r\n                &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\r\n            &lt;/activation&gt;\r\n        &lt;/profile&gt;\r\n    &lt;/profiles&gt;\r\n```\r\n\r\nBut Maven does not merge the property defined in the settings.xml profile into the environment at runtime. It seems like it should but the docs were not definitive on that point.\r\n\r\nI have come up with a workaround, but I think it will only work if I and all other developers edit settings.xml AND update Maven to 3.8.5 or newer. By referencing an arbitrary file (with a more unique name than pom.xml) that exists in the root directory of the submodule (such as activate-my-db-password.txt) in the `&lt;exists&gt;` element without any path, then a full build of the parent project will work as it did before. \r\n\r\nI am not terribly pleased with that workaround.\r\n\r\nSo, is there a totally different approach to this in Maven that I am missing? I know that one can encrypt a password in settings-security.xml, but that seems to be for Maven repositories only. Or is there some way to decrypt such a password for use in an arbitrary maven plugin configuration?\r\n\r\nIs the failure to get the profile property from settings.xml when activation is enabled in the pom.xml a Maven bug?\r\n\r\nClearly, Maven functionality changed on a patch-release, so consider me annoyed with that, no matter if my approach to managing this password is sane or not.\r\n\r\n","title":"Maven 3.8.5 and newer file-path sensitivity in Profile activation based on file exists","body":"<p>I have a maven project sub-module that requires a database password for a code generation build phase. I do not wish to place this password in any file that is committed to version control. This is not a production instance password, but I wish to keep the password as secure as possible in any case.</p>\n<p>Developers working on this module must place the password in a profile in settings.xml. Additionally, it is preferred that this profile is not active by default and is only active when building this specific project. So the profile is activated by the presence of the 'my-sub-module/pom.xml' file.</p>\n<p>settings.xml:</p>\n<pre><code>&lt;settings&gt;\n  ...\n  &lt;profiles&gt;\n    &lt;profile&gt;\n      &lt;id&gt;db-password&lt;/id&gt;\n      &lt;properties&gt;\n        &lt;my.db.password&gt;secret-password&lt;/my.db.password&gt;\n      &lt;/properties&gt;\n      &lt;activation&gt;\n        &lt;file&gt;\n          &lt;exists&gt;my-sub-module/pom.xml&lt;/exists&gt;\n        &lt;/file&gt;\n      &lt;/activation&gt;\n    &lt;/profile&gt;\n  &lt;/profiles&gt;\n&lt;/settings&gt;\n</code></pre>\n<p>This worked great, right through Maven version 3.8.4. But it does not work for any newer Maven 3.8.x versions or Maven 3.9.x. Note that it relies on the <code>my-sub-module</code> directory path in the <code>&lt;exists&gt;</code> element to make it somewhat specific to this project.</p>\n<p>For older Maven, the following commands output the password as expected in both cases:</p>\n<pre><code>mvn help:evaluate -Dexpression=my.db.password -q -DforceStdout\nmvn help:evaluate -pl my-sub-module -Dexpression=my.db.password -q -DforceStdout\n</code></pre>\n<p>With newer Maven the first command above, outputs the password as expected, but the second command does not. It says &quot;null object or  invalid expression&quot;.</p>\n<p>So clearly something changed in Maven regarding the &quot;relative-ness&quot;, if you will, of the path specified in <code>&lt;exists&gt;</code>. So when running a full Maven build on the parent module with 3.8.5 or greater, the context for  seems to be different when it builds the sub-module.</p>\n<p>I tried removing the <code>&lt;activation&gt;</code> block from settings.xml and adding profile activation directly in my-sub-module/pom.xml or the parent pom.xml, thus not requiring any  criteria</p>\n<pre><code>    &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;db-password&lt;/id&gt;\n            &lt;activation&gt;\n                &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\n            &lt;/activation&gt;\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n</code></pre>\n<p>But Maven does not merge the property defined in the settings.xml profile into the environment at runtime. It seems like it should but the docs were not definitive on that point.</p>\n<p>I have come up with a workaround, but I think it will only work if I and all other developers edit settings.xml AND update Maven to 3.8.5 or newer. By referencing an arbitrary file (with a more unique name than pom.xml) that exists in the root directory of the submodule (such as activate-my-db-password.txt) in the <code>&lt;exists&gt;</code> element without any path, then a full build of the parent project will work as it did before.</p>\n<p>I am not terribly pleased with that workaround.</p>\n<p>So, is there a totally different approach to this in Maven that I am missing? I know that one can encrypt a password in settings-security.xml, but that seems to be for Maven repositories only. Or is there some way to decrypt such a password for use in an arbitrary maven plugin configuration?</p>\n<p>Is the failure to get the profile property from settings.xml when activation is enabled in the pom.xml a Maven bug?</p>\n<p>Clearly, Maven functionality changed on a patch-release, so consider me annoyed with that, no matter if my approach to managing this password is sane or not.</p>\n"},{"tags":["java","testing","cucumber","testng"],"comments":[{"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1690999375,"post_id":76820812,"comment_id":135432534,"body_markdown":"It&#39;s not possible to do that. What are you trying to do with the information you&#39;re trying to access?","body":"It&#39;s not possible to do that. What are you trying to do with the information you&#39;re trying to access?"},{"owner":{"account_id":7527198,"reputation":1099,"user_id":5716914,"accept_rate":11,"display_name":"Johnyb"},"score":0,"creation_date":1691002506,"post_id":76820812,"comment_id":135433096,"body_markdown":"report it to another service. To log what failed and what passed","body":"report it to another service. To log what failed and what passed"},{"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1691061551,"post_id":76820812,"comment_id":135442106,"body_markdown":"Have a look at Cucumbers plugin system. It&#39;s not very well documented at all, but if you look at the existing ones in the source code you should be able to write one. This may also be useful: https://blog.jdriven.com/2019/01/cucumber-jvm-plugin/","body":"Have a look at Cucumbers plugin system. It&#39;s not very well documented at all, but if you look at the existing ones in the source code you should be able to write one. This may also be useful: <a href=\"https://blog.jdriven.com/2019/01/cucumber-jvm-plugin/\" rel=\"nofollow noreferrer\">blog.jdriven.com/2019/01/cucumber-jvm-plugin</a>"}],"owner":{"account_id":7527198,"reputation":1099,"user_id":5716914,"accept_rate":11,"display_name":"Johnyb"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690985811,"creation_date":1690985811,"question_id":76820812,"body_markdown":"I am using `AbstractTestNGSpringContextTests` from spring to run cucumber test and `cucumber-testng:7.3.4`\r\n\r\nAs example:\r\n\r\nScenario file:\r\n\r\n    # Feature definition in Grehkin syntax\r\n    Feature: Is it Friday yet?\r\n      Everybody wants to know when it&#39;s Friday\r\n    \r\n      Scenario Outline: Jira-0000: Checking whether it is Friday\r\n        Given today is &quot;&lt;day&gt;&quot;\r\n        When I ask whether it&#39;s Friday yet\r\n        Then I should be told &quot;&lt;resp&gt;&quot;\r\n        Examples:\r\n          | day    | resp |\r\n          | Sunday | Nope |\r\n          | Monday | Nope |\r\n          | Friday | Yes  |\r\n\r\nCode:\r\n\r\n    @CucumberOptions(\r\n            features = &quot;src/test/java/cucumber/features/Cucumber.feature&quot;, //link to features\r\n            glue = {&quot;cucumber/stepdefs&quot;} // link to action code\r\n    )\r\n    public class CucumberTest extends AbstractTestNGSpringContextTests {\r\n    \r\n        @Test(dataProvider = &quot;scenarios&quot;) // runs all scenarios at once\r\n        public void testSampleCucumberAll(PickleWrapper pi, FeatureWrapper wr) throws Throwable {\r\n            this.testNGCucumberRunner.runScenario(pi.getPickle());\r\n        }\r\n    }\r\n\r\nAt some point in test, i need to retrieve either:\r\n\r\n1) Arguments, so for this scenario file for first run it would be &quot;Sunday,Nope&quot;, second run &quot;Monday, Nope&quot; and last run &quot;Friday,Yes&quot;\r\n2) whole step definition e.g &quot;Given today is Sunday&quot;, &quot;When i ask whether it&#39;s Friday yet&quot;,&quot;Then i should be told Nope&quot;\r\n\r\nI can retreive step definitions using:\r\n\r\n`pi.getPickle().getPickle().getSteps()`. however the second `getPickle()` method is package private so i cannot access it. \r\n\r\nIs there any other way i can access the data  i need?\r\n\r\nThanks for help","title":"Accessing cucumber steps or parameters","body":"<p>I am using <code>AbstractTestNGSpringContextTests</code> from spring to run cucumber test and <code>cucumber-testng:7.3.4</code></p>\n<p>As example:</p>\n<p>Scenario file:</p>\n<pre><code># Feature definition in Grehkin syntax\nFeature: Is it Friday yet?\n  Everybody wants to know when it's Friday\n\n  Scenario Outline: Jira-0000: Checking whether it is Friday\n    Given today is &quot;&lt;day&gt;&quot;\n    When I ask whether it's Friday yet\n    Then I should be told &quot;&lt;resp&gt;&quot;\n    Examples:\n      | day    | resp |\n      | Sunday | Nope |\n      | Monday | Nope |\n      | Friday | Yes  |\n</code></pre>\n<p>Code:</p>\n<pre><code>@CucumberOptions(\n        features = &quot;src/test/java/cucumber/features/Cucumber.feature&quot;, //link to features\n        glue = {&quot;cucumber/stepdefs&quot;} // link to action code\n)\npublic class CucumberTest extends AbstractTestNGSpringContextTests {\n\n    @Test(dataProvider = &quot;scenarios&quot;) // runs all scenarios at once\n    public void testSampleCucumberAll(PickleWrapper pi, FeatureWrapper wr) throws Throwable {\n        this.testNGCucumberRunner.runScenario(pi.getPickle());\n    }\n}\n</code></pre>\n<p>At some point in test, i need to retrieve either:</p>\n<ol>\n<li>Arguments, so for this scenario file for first run it would be &quot;Sunday,Nope&quot;, second run &quot;Monday, Nope&quot; and last run &quot;Friday,Yes&quot;</li>\n<li>whole step definition e.g &quot;Given today is Sunday&quot;, &quot;When i ask whether it's Friday yet&quot;,&quot;Then i should be told Nope&quot;</li>\n</ol>\n<p>I can retreive step definitions using:</p>\n<p><code>pi.getPickle().getPickle().getSteps()</code>. however the second <code>getPickle()</code> method is package private so i cannot access it.</p>\n<p>Is there any other way i can access the data  i need?</p>\n<p>Thanks for help</p>\n"},{"tags":["java","spring-boot","google-cloud-vision","google-developers-console"],"comments":[{"owner":{"account_id":21381582,"reputation":1706,"user_id":15747414,"display_name":"Prajna Rai T"},"score":0,"creation_date":1681633191,"post_id":76026210,"comment_id":134085370,"body_markdown":"Does this [link1](https://cloud.google.com/vision/docs/adding-spring), [link2](https://cloud.spring.io/spring-cloud-static/spring-cloud-gcp/1.2.0.M2/reference/html/spring-cloud-gcp.html#_google_cloud_vision) and [link3](https://www.knowledgefactory.net/2023/03/spring-boot-google-cloud-vision-integration-example.html) help you in resolving the issue?","body":"Does this <a href=\"https://cloud.google.com/vision/docs/adding-spring\" rel=\"nofollow noreferrer\">link1</a>, <a href=\"https://cloud.spring.io/spring-cloud-static/spring-cloud-gcp/1.2.0.M2/reference/html/spring-cloud-gcp.html#_google_cloud_vision\" rel=\"nofollow noreferrer\">link2</a> and <a href=\"https://www.knowledgefactory.net/2023/03/spring-boot-google-cloud-vision-integration-example.html\" rel=\"nofollow noreferrer\">link3</a> help you in resolving the issue?"}],"answers":[{"tags":[],"owner":{"account_id":9330948,"reputation":2699,"user_id":7179509,"accept_rate":78,"display_name":"Maksym"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690985694,"creation_date":1690985137,"answer_id":76820700,"question_id":76026210,"body_markdown":"You are using CloudVisionTemplate from the wrong package.\r\n&lt;br&gt;\r\nUse \r\n\r\n&gt; `import com.google.cloud.spring.vision.CloudVisionTemplate;`\r\n\r\n instead of \r\n\r\n&gt; `import org.springframework.cloud.gcp.vision.CloudVisionTemplate;`\r\n\r\nHere is example of maven POM with correct dependencies:\r\n\r\n  \r\n\r\n    &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.4&lt;/version&gt;\r\n            &lt;relativePath/&gt;\r\n    &lt;/parent&gt;\r\n    \t\r\n     &lt;properties&gt;\r\n            &lt;java.version&gt;17&lt;/java.version&gt;\r\n            &lt;spring-cloud-gcp.version&gt;4.1.2&lt;/spring-cloud-gcp.version&gt;\r\n            &lt;spring-cloud.version&gt;2022.0.1&lt;/spring-cloud.version&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;dependencyManagement&gt;\r\n            &lt;dependencies&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n                    &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n                    &lt;type&gt;pom&lt;/type&gt;\r\n                    &lt;scope&gt;import&lt;/scope&gt;\r\n                &lt;/dependency&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-cloud-gcp-dependencies&lt;/artifactId&gt;\r\n                    &lt;version&gt;${spring-cloud-gcp.version}&lt;/version&gt;\r\n                    &lt;type&gt;pom&lt;/type&gt;\r\n                    &lt;scope&gt;import&lt;/scope&gt;\r\n                &lt;/dependency&gt;\r\n            &lt;/dependencies&gt;\r\n        &lt;/dependencyManagement&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-cloud-gcp-starter&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-cloud-gcp-starter-vision&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;","title":"Unable to create bean for org.springframework.cloud.gcp.vision.CloudVisionTemplate","body":"<p>You are using CloudVisionTemplate from the wrong package.\n<br>\nUse</p>\n<blockquote>\n<p><code>import com.google.cloud.spring.vision.CloudVisionTemplate;</code></p>\n</blockquote>\n<p>instead of</p>\n<blockquote>\n<p><code>import org.springframework.cloud.gcp.vision.CloudVisionTemplate;</code></p>\n</blockquote>\n<p>Here is example of maven POM with correct dependencies:</p>\n<pre><code>&lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.4&lt;/version&gt;\n        &lt;relativePath/&gt;\n&lt;/parent&gt;\n    \n &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;spring-cloud-gcp.version&gt;4.1.2&lt;/spring-cloud-gcp.version&gt;\n        &lt;spring-cloud.version&gt;2022.0.1&lt;/spring-cloud.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-gcp-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud-gcp.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-gcp-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-gcp-starter-vision&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n"}],"owner":{"account_id":9086638,"reputation":41,"user_id":6764355,"display_name":"neeraj sharma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":226,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1690985694,"creation_date":1681626363,"question_id":76026210,"body_markdown":"required a bean of type &#39;org.springframework.cloud.gcp.vision.CloudVisionTemplate&#39; that could not be found\r\n\r\n**VisionController.java**&lt;br/&gt;\r\n&lt;code&gt;\r\n\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.cloud.gcp.vision.CloudVisionTemplate;\r\n    \r\n    @RestController\r\n    public class VisionController {\r\n        \r\n        @Autowired\r\n    \tprivate ResourceLoader resourceLoader;\r\n    \r\n    \t@Autowired\r\n    \tprivate CloudVisionTemplate cloudVisionTemplate;\r\n    }\r\n\r\n&lt;/code&gt;\r\n\r\n**build.gradle** \r\n&lt;code&gt;\r\n\r\n    dependencies {\r\n    implementation group: &#39;org.springframework.cloud&#39;, name: &#39;spring-cloud-gcp-dependencies&#39;, version: &#39;1.2.8.RELEASE&#39;, ext: &#39;pom&#39;\r\n    implementation group: &#39;org.springframework.cloud&#39;, name: &#39;spring-cloud-gcp-starter-vision&#39;, version: &#39;1.2.8.RELEASE&#39;\r\n    }\r\n\r\n&lt;/code&gt;\r\n\r\n**application.properties**&lt;br/&gt;\r\n&lt;code&gt;\r\n\r\n    spring.cloud.gcp.credentials.location=file:src/main/resources/key.json\r\n    spring.cloud.gcp.project.id=MyProjectKey\r\n\r\n&lt;/code&gt;\r\n\r\n***Exception*** \r\n&lt;br/&gt;\r\nField cloudVisionTemplate in com.vision.lens.VisionController required a bean of type &#39;org.springframework.cloud.gcp.vision.CloudVisionTemplate&#39; that could not be found.\r\n\r\nThe injection point has the following annotations:\r\n\t- @org.springframework.beans.factory.annotation.Autowired(required=true)\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;org.springframework.cloud.gcp.vision.CloudVisionTemplate&#39; in your configuration.","title":"Unable to create bean for org.springframework.cloud.gcp.vision.CloudVisionTemplate","body":"<p>required a bean of type 'org.springframework.cloud.gcp.vision.CloudVisionTemplate' that could not be found</p>\n<p><strong>VisionController.java</strong><br/>\n<code></p>\n<pre><code>import org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.cloud.gcp.vision.CloudVisionTemplate;\n\n@RestController\npublic class VisionController {\n    \n    @Autowired\n    private ResourceLoader resourceLoader;\n\n    @Autowired\n    private CloudVisionTemplate cloudVisionTemplate;\n}\n</code></pre>\n</code>\n<p><strong>build.gradle</strong>\n<code></p>\n<pre><code>dependencies {\nimplementation group: 'org.springframework.cloud', name: 'spring-cloud-gcp-dependencies', version: '1.2.8.RELEASE', ext: 'pom'\nimplementation group: 'org.springframework.cloud', name: 'spring-cloud-gcp-starter-vision', version: '1.2.8.RELEASE'\n}\n</code></pre>\n</code>\n<p><strong>application.properties</strong><br/>\n<code></p>\n<pre><code>spring.cloud.gcp.credentials.location=file:src/main/resources/key.json\nspring.cloud.gcp.project.id=MyProjectKey\n</code></pre>\n</code>\n<p><em><strong>Exception</strong></em>\n<br/>\nField cloudVisionTemplate in com.vision.lens.VisionController required a bean of type 'org.springframework.cloud.gcp.vision.CloudVisionTemplate' that could not be found.</p>\n<p>The injection point has the following annotations:\n- @org.springframework.beans.factory.annotation.Autowired(required=true)</p>\n<p>Action:</p>\n<p>Consider defining a bean of type 'org.springframework.cloud.gcp.vision.CloudVisionTemplate' in your configuration.</p>\n"},{"tags":["java","junit","assertions"],"comments":[{"owner":{"account_id":4728704,"reputation":17022,"user_id":3824919,"display_name":"Tom"},"score":0,"creation_date":1413147942,"post_id":26329883,"comment_id":41323837,"body_markdown":"You could for example test if the file with the name `filename` was created successfully if your method did his work.","body":"You could for example test if the file with the name <code>filename</code> was created successfully if your method did his work."},{"owner":{"account_id":31011,"reputation":122006,"user_id":84889,"display_name":"Peter Niederwieser"},"score":1,"creation_date":1413148350,"post_id":26329883,"comment_id":41323955,"body_markdown":"Call the method with a http or file URL, and check the contents of the file.","body":"Call the method with a http or file URL, and check the contents of the file."}],"answers":[{"tags":[],"owner":{"account_id":115767,"reputation":42976,"user_id":303810,"accept_rate":84,"display_name":"lexicore"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690985575,"creation_date":1413148561,"answer_id":26330063,"question_id":26329883,"body_markdown":"Try to decompose your method into simpler ones:\r\n\r\n* `List&lt;URL&gt; readHyperlinksFromUrl(URL url);`\r\n* `void writeUrlsToFile(List&lt;URL&gt; urls, String fileName);`\r\n\r\nYou could already test your first method by saving a sample document as a resource and running it against that resource, comparing the result with the known list of URLs.\r\n\r\nYou can also test the second method by re-reading that file.\r\n\r\nBut you can decompose things further on:\r\n\r\n* `void writeUrlsToWriter(List&lt;URL&gt; urls, Writer writer);`\r\n* `Writer createFileWriter(String fileName);`\r\n\r\nNow you can test your first method by writing to a `StringWriter` and checking, what was written there by asserting the equality of `writer.toString()` with the sample value. Not that methods are becoming simpler and simpler.\r\n\r\nIt would be actually a very good exercise to write the whole thing test-first or even play [ping-pong][1] with yourself.\r\n\r\n\r\n  [1]: http://c2.com/cgi/wiki?PairProgrammingPingPongPattern","title":"How can I use an assertion to test this java code?","body":"<p>Try to decompose your method into simpler ones:</p>\n<ul>\n<li><code>List&lt;URL&gt; readHyperlinksFromUrl(URL url);</code></li>\n<li><code>void writeUrlsToFile(List&lt;URL&gt; urls, String fileName);</code></li>\n</ul>\n<p>You could already test your first method by saving a sample document as a resource and running it against that resource, comparing the result with the known list of URLs.</p>\n<p>You can also test the second method by re-reading that file.</p>\n<p>But you can decompose things further on:</p>\n<ul>\n<li><code>void writeUrlsToWriter(List&lt;URL&gt; urls, Writer writer);</code></li>\n<li><code>Writer createFileWriter(String fileName);</code></li>\n</ul>\n<p>Now you can test your first method by writing to a <code>StringWriter</code> and checking, what was written there by asserting the equality of <code>writer.toString()</code> with the sample value. Not that methods are becoming simpler and simpler.</p>\n<p>It would be actually a very good exercise to write the whole thing test-first or even play <a href=\"http://c2.com/cgi/wiki?PairProgrammingPingPongPattern\" rel=\"nofollow noreferrer\">ping-pong</a> with yourself.</p>\n"}],"owner":{"account_id":4164115,"reputation":91,"user_id":3413471,"accept_rate":56,"display_name":"Lacju"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690985575,"creation_date":1413147320,"question_id":26329883,"body_markdown":"My homework assignment is to read a URL and print all hyperlinks at that URL to a file. I also need to submit a junit test case with at least one assertion. I have looked at the different forms of Assert but I just can&#39;t come up with any use of them that applies to my code. Any help steering me in the right direction would be great.\r\n\r\n(I&#39;m not looking for anyone to write the test case for me, just a little guidance on what direction I should be looking in)\r\n\r\n   \r\n\r\n    public void saveHyperLinkToFile(String url, String fileName)\r\n    throws IOException\r\n    {\r\n    \r\n        URL pageLocation = new URL(url);\r\n        Scanner in = new Scanner(pageLocation.openStream());\r\n        PrintWriter out = new PrintWriter(fileName);\r\n    \r\n        while (in.hasNext())\r\n        {\r\n            String line = in.next();\r\n            if (line.contains(&quot;href=\\&quot;http://&quot;))\r\n            {\r\n                int from = line.indexOf(&quot;\\&quot;&quot;);\r\n                int to = line.lastIndexOf(&quot;\\&quot;&quot;);\r\n                out.println(line.substring(from + 1, to));\r\n            \r\n            }\r\n        \r\n                \r\n        }\r\n        in.close();\r\n        out.close();\r\n\r\n    }\r\n    \r\n}","title":"How can I use an assertion to test this java code?","body":"<p>My homework assignment is to read a URL and print all hyperlinks at that URL to a file. I also need to submit a junit test case with at least one assertion. I have looked at the different forms of Assert but I just can't come up with any use of them that applies to my code. Any help steering me in the right direction would be great.</p>\n\n<p>(I'm not looking for anyone to write the test case for me, just a little guidance on what direction I should be looking in)</p>\n\n<pre><code>public void saveHyperLinkToFile(String url, String fileName)\nthrows IOException\n{\n\n    URL pageLocation = new URL(url);\n    Scanner in = new Scanner(pageLocation.openStream());\n    PrintWriter out = new PrintWriter(fileName);\n\n    while (in.hasNext())\n    {\n        String line = in.next();\n        if (line.contains(\"href=\\\"http://\"))\n        {\n            int from = line.indexOf(\"\\\"\");\n            int to = line.lastIndexOf(\"\\\"\");\n            out.println(line.substring(from + 1, to));\n\n        }\n\n\n    }\n    in.close();\n    out.close();\n\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":["java","plugins","minecraft"],"owner":{"account_id":29144940,"reputation":1,"user_id":22327079,"display_name":"Lorenzo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690985117,"creation_date":1690984807,"question_id":76820662,"body_markdown":"i tried to create a plugin that can share one chest with all player on server in MC.\r\nBut when i create this, don&#39;t put any item in the chest. \r\n\r\n```\r\nif (player.isSneaking() &amp;&amp; isEmptyInventory(chest.getInventory()) &amp;&amp; !Objects.equals(chest.getCustomName(), &quot;ShareChest&quot;))\r\n            {\r\n                chest.setCustomName(&quot;ShareChest&quot;);\r\n                \r\n                Inventory inv = getInv();\r\n\r\n                if (inv != null)\r\n                    chest.getInventory().setStorageContents(inv.getStorageContents());\r\n                    player.sendMessage(inv.toString());\r\n\r\n                player.sendMessage(ChatColor.GOLD + &quot;[LorenzoPluginMC] ShareChest impostata&quot;);\r\n\r\n\r\n                chest.update();\r\n\r\n            }\r\n```\r\n\r\nFor take object i create the getInv() function, that take all item in chest and put them in config.yml. So i can take all and put them in when i want.\r\n\r\nThis is the getInv function:\r\n\r\n```\r\nprivate Inventory getInv ()\r\n    {\r\n        Inventory new_inv = plugin.getServer().createInventory(null, 27, &quot;ShareChest&quot;);\r\n\r\n        FileConfiguration config = plugin.getConfig();\r\n\r\n        // Controlla se la sezione &quot;settings.shareChest.inv&quot; esiste nella configurazione\r\n        if (config.isConfigurationSection(&quot;settings.shareChest.inv&quot;)) {\r\n            // Ottieni la sezione &quot;settings.shareChest.inv&quot;\r\n            ConfigurationSection invSection = config.getConfigurationSection(&quot;settings.shareChest.inv&quot;);\r\n\r\n            // Leggi i valori dalla sezione &quot;settings.shareChest.inv&quot;\r\n            if (invSection != null) {\r\n\r\n                Map&lt;String, Object&gt; valuesMap = invSection.getValues(false); // false indica che non vogliamo i valori da sottosezioni\r\n                for (String key : valuesMap.keySet()) {\r\n                    // Usa i valori come necessario, puoi effettuare il cast a tipi specifici se necessario\r\n                    Object value = valuesMap.get(key);\r\n                    new_inv.addItem(new ItemStack(Objects.requireNonNull(Material.matchMaterial(key)), (int) value));\r\n                }\r\n            }\r\n        }\r\n\r\n        return new_inv;\r\n    }\r\n```\r\n\r\nI tried many solutions but nothing work.\r\n\r\nchest.getInventory().setStorageContents(inv.getStorageContents());\r\nThi in particular dont work. I tried also with setContents(), but nothing.","title":"Don&#39;t work the chest.getInventory.addItem() of JavaPlugin","body":"<p>i tried to create a plugin that can share one chest with all player on server in MC.\nBut when i create this, don't put any item in the chest.</p>\n<pre><code>if (player.isSneaking() &amp;&amp; isEmptyInventory(chest.getInventory()) &amp;&amp; !Objects.equals(chest.getCustomName(), &quot;ShareChest&quot;))\n            {\n                chest.setCustomName(&quot;ShareChest&quot;);\n                \n                Inventory inv = getInv();\n\n                if (inv != null)\n                    chest.getInventory().setStorageContents(inv.getStorageContents());\n                    player.sendMessage(inv.toString());\n\n                player.sendMessage(ChatColor.GOLD + &quot;[LorenzoPluginMC] ShareChest impostata&quot;);\n\n\n                chest.update();\n\n            }\n</code></pre>\n<p>For take object i create the getInv() function, that take all item in chest and put them in config.yml. So i can take all and put them in when i want.</p>\n<p>This is the getInv function:</p>\n<pre><code>private Inventory getInv ()\n    {\n        Inventory new_inv = plugin.getServer().createInventory(null, 27, &quot;ShareChest&quot;);\n\n        FileConfiguration config = plugin.getConfig();\n\n        // Controlla se la sezione &quot;settings.shareChest.inv&quot; esiste nella configurazione\n        if (config.isConfigurationSection(&quot;settings.shareChest.inv&quot;)) {\n            // Ottieni la sezione &quot;settings.shareChest.inv&quot;\n            ConfigurationSection invSection = config.getConfigurationSection(&quot;settings.shareChest.inv&quot;);\n\n            // Leggi i valori dalla sezione &quot;settings.shareChest.inv&quot;\n            if (invSection != null) {\n\n                Map&lt;String, Object&gt; valuesMap = invSection.getValues(false); // false indica che non vogliamo i valori da sottosezioni\n                for (String key : valuesMap.keySet()) {\n                    // Usa i valori come necessario, puoi effettuare il cast a tipi specifici se necessario\n                    Object value = valuesMap.get(key);\n                    new_inv.addItem(new ItemStack(Objects.requireNonNull(Material.matchMaterial(key)), (int) value));\n                }\n            }\n        }\n\n        return new_inv;\n    }\n</code></pre>\n<p>I tried many solutions but nothing work.</p>\n<p>chest.getInventory().setStorageContents(inv.getStorageContents());\nThi in particular dont work. I tried also with setContents(), but nothing.</p>\n"},{"tags":["java","android","screenshot","screen-recording","android-mediaprojection"],"owner":{"account_id":22821260,"reputation":1,"user_id":16971087,"display_name":"Hijam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690985114,"creation_date":1690985114,"question_id":76820698,"body_markdown":" I&#39;m working with the MediaProjection API in Android to record the screen. I&#39;ve noticed that some built-in screen recorder apps manage to overlay icons on the screen during recording, but these icons are not included in the recorded video. How can I achieve this behavior using the MediaProjection API? Are there any specific techniques or options I should be aware of to exclude certain elements like overlays from the recorded content?\r\n\r\nI expected that by implementing these approaches, I would be able to record the screen while excluding overlay icons or elements from the recorded video. The overlay icons should be visible during the recording but should not appear in the final recorded content.","title":"How to exclude overlay/floating icons or contents from Android screen recording using MediaProjection API or when taking screenshot","body":"<p>I'm working with the MediaProjection API in Android to record the screen. I've noticed that some built-in screen recorder apps manage to overlay icons on the screen during recording, but these icons are not included in the recorded video. How can I achieve this behavior using the MediaProjection API? Are there any specific techniques or options I should be aware of to exclude certain elements like overlays from the recorded content?</p>\n<p>I expected that by implementing these approaches, I would be able to record the screen while excluding overlay icons or elements from the recorded video. The overlay icons should be visible during the recording but should not appear in the final recorded content.</p>\n"},{"tags":["java","android","cordova"],"answers":[{"tags":[],"owner":{"account_id":5960289,"reputation":2267,"user_id":4685664,"display_name":"Norman Breau"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1667495826,"creation_date":1607479961,"answer_id":65209662,"question_id":65044161,"body_markdown":"`Build.VERSION_CODES.R` only exists in [API 30](https://developer.android.com/reference/android/os/Build.VERSION_CODES#R), but you&#39;re compiling with API 29.\r\n\r\nThe compileSdkVersion should be set to 30 if you want to use `Build.VERSION_CODES.R`.\r\n\r\n##### Update for cordova-android@10\r\n\r\nAs of cordova-android@10, `compileSdkVersion` has been removed `android-targetSdkVersion` is unified to set both the target &amp; compile SDK versions, so that they always remain consistent.\r\n\r\n##### Update for cordova-android@11\r\n\r\nAs of cordova-android@11, the ability to independently set the compile SDK and target SDK separately has returned.\r\n\r\nJust like before, use `android-targetSdkVersion` preference to set the Target SDK. Use `android-compileSdkVersion` preference to set the Compile SDK.\r\n\r\nLike before, the target SDK will default to a particular version that cordova-android has been tested with. Cordova-android@11 uses API 32 by default. The compile SDK will default to the configured Target SDK.\r\n\r\nGenerally speaking, the target and compile should match, but with cordova-android@11 (and 9), you can set the compile SDK higher while keeping the target SDK lower, which can be useful for things that requires the API codes for compatibility checks.","title":"Build failed error: cannot find symbol if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R)","body":"<p><code>Build.VERSION_CODES.R</code> only exists in <a href=\"https://developer.android.com/reference/android/os/Build.VERSION_CODES#R\" rel=\"noreferrer\">API 30</a>, but you're compiling with API 29.</p>\n<p>The compileSdkVersion should be set to 30 if you want to use <code>Build.VERSION_CODES.R</code>.</p>\n<h5>Update for cordova-android@10</h5>\n<p>As of cordova-android@10, <code>compileSdkVersion</code> has been removed <code>android-targetSdkVersion</code> is unified to set both the target &amp; compile SDK versions, so that they always remain consistent.</p>\n<h5>Update for cordova-android@11</h5>\n<p>As of cordova-android@11, the ability to independently set the compile SDK and target SDK separately has returned.</p>\n<p>Just like before, use <code>android-targetSdkVersion</code> preference to set the Target SDK. Use <code>android-compileSdkVersion</code> preference to set the Compile SDK.</p>\n<p>Like before, the target SDK will default to a particular version that cordova-android has been tested with. Cordova-android@11 uses API 32 by default. The compile SDK will default to the configured Target SDK.</p>\n<p>Generally speaking, the target and compile should match, but with cordova-android@11 (and 9), you can set the compile SDK higher while keeping the target SDK lower, which can be useful for things that requires the API codes for compatibility checks.</p>\n"},{"tags":[],"owner":{"account_id":11586699,"reputation":2375,"user_id":8593424,"display_name":"Shailendra Rajput"},"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1636541036,"creation_date":1633952007,"answer_id":69525529,"question_id":65044161,"body_markdown":"Updated-: make sure you set `compileSdkVersion` in your android/app/build.gradle file to `31`\r\n\r\nOld-: I encounter this error while using the Geolocator plugin in the flutter app. to Solve this error you have to open LocationMapper.java (you can find this path in your Debug console). and remove this part\r\n \r\n\r\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.S)\r\n\r\nand also make sure your android compile version is 30 (For GeoLocator Build.gradle)\r\n\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.S) {\r\n          position.put(&quot;is_mocked&quot;, location.isMock());\r\n       } ","title":"Build failed error: cannot find symbol if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R)","body":"<p>Updated-: make sure you set <code>compileSdkVersion</code> in your android/app/build.gradle file to <code>31</code></p>\n<p>Old-: I encounter this error while using the Geolocator plugin in the flutter app. to Solve this error you have to open LocationMapper.java (you can find this path in your Debug console). and remove this part</p>\n<pre><code>if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.S)\n</code></pre>\n<p>and also make sure your android compile version is 30 (For GeoLocator Build.gradle)</p>\n<pre><code>    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.S) {\n      position.put(&quot;is_mocked&quot;, location.isMock());\n   } \n</code></pre>\n"},{"tags":[],"owner":{"account_id":23024994,"reputation":511,"user_id":17145397,"display_name":"Andrew Amin"},"down_vote_count":0,"up_vote_count":38,"is_accepted":false,"score":38,"last_activity_date":1634159783,"creation_date":1634154412,"answer_id":69561511,"question_id":65044161,"body_markdown":"Simply upgrade the compileSdkVersion and targetSdkVersion to 31 in your android/app/build.gradle file.","title":"Build failed error: cannot find symbol if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R)","body":"<p>Simply upgrade the compileSdkVersion and targetSdkVersion to 31 in your android/app/build.gradle file.</p>\n"},{"tags":[],"owner":{"account_id":18255291,"reputation":357,"user_id":13289378,"display_name":"Walied Abdulaziem"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1641736361,"creation_date":1641736361,"answer_id":70641947,"question_id":65044161,"body_markdown":"**Check which SDK version you downloaded and make all same that:-\r\ncompileSdkVersion XX\r\nminSdkVersion XX\r\ntargetSdkVersion XX**","title":"Build failed error: cannot find symbol if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R)","body":"<p><strong>Check which SDK version you downloaded and make all same that:-\ncompileSdkVersion XX\nminSdkVersion XX\ntargetSdkVersion XX</strong></p>\n"},{"tags":[],"owner":{"account_id":11815791,"reputation":1503,"user_id":8646021,"display_name":"Hai Dinh"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1641978848,"creation_date":1641978539,"answer_id":70678869,"question_id":65044161,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vBVbG.png\r\n\r\nFind and change this line form 30 to 31.","title":"Build failed error: cannot find symbol if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R)","body":"<p><a href=\"https://i.stack.imgur.com/vBVbG.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/vBVbG.png\" alt=\"enter image description here\" /></a></p>\n<p>Find and change this line form 30 to 31.</p>\n"},{"tags":[],"owner":{"account_id":10715585,"reputation":953,"user_id":7886372,"display_name":"MUHINDO"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1642933753,"creation_date":1642933753,"answer_id":70821128,"question_id":65044161,"body_markdown":"I just changed from compileSdkVersion 30 to compileSdkVersion 31 in build.gradel and everything became okay","title":"Build failed error: cannot find symbol if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R)","body":"<p>I just changed from compileSdkVersion 30 to compileSdkVersion 31 in build.gradel and everything became okay</p>\n"},{"tags":[],"owner":{"account_id":9218808,"reputation":131,"user_id":6849012,"display_name":"Anand Ramachandran"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1664699688,"creation_date":1664699688,"answer_id":73924428,"question_id":65044161,"body_markdown":"    buildscript {\r\n        ext {\r\n            buildToolsVersion = &quot;30.0.3&quot;\r\n            minSdkVersion = 21\r\n            compileSdkVersion = 33 // increase one by one \r\n            }\r\n        }\r\n\r\nIn our case, it was 31 when the error was occurring, we increase it to compileSdkVersion 33, and the error is solved. You can increase it by 1 each time until your error is not solved.\r\n\r\n","title":"Build failed error: cannot find symbol if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R)","body":"<pre><code>buildscript {\n    ext {\n        buildToolsVersion = &quot;30.0.3&quot;\n        minSdkVersion = 21\n        compileSdkVersion = 33 // increase one by one \n        }\n    }\n</code></pre>\n<p>In our case, it was 31 when the error was occurring, we increase it to compileSdkVersion 33, and the error is solved. You can increase it by 1 each time until your error is not solved.</p>\n"},{"tags":[],"owner":{"account_id":13632970,"reputation":91,"user_id":9834660,"display_name":"Shay Elbaz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1671543723,"creation_date":1671543723,"answer_id":74863989,"question_id":65044161,"body_markdown":"If you like me, use notifee, look at this:\r\n\r\n&gt; https://notifee.app/react-native/docs/release-notes\r\n&gt; \r\n&gt; 6.0.0 [Android] BREAKING CHANGE: Added support for requesting permission on Android 13 via requestPermission, the minimum\r\n&gt; compileSdkVersion required has increased to 33. And, to support this\r\n&gt; feature, the targetSdkVersion must also be increased to 33.\r\n\r\n","title":"Build failed error: cannot find symbol if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R)","body":"<p>If you like me, use notifee, look at this:</p>\n<blockquote>\n<p><a href=\"https://notifee.app/react-native/docs/release-notes\" rel=\"nofollow noreferrer\">https://notifee.app/react-native/docs/release-notes</a></p>\n<p>6.0.0 [Android] BREAKING CHANGE: Added support for requesting permission on Android 13 via requestPermission, the minimum\ncompileSdkVersion required has increased to 33. And, to support this\nfeature, the targetSdkVersion must also be increased to 33.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":24706227,"reputation":181,"user_id":18597013,"display_name":"ND verma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673865580,"creation_date":1673865580,"answer_id":75133048,"question_id":65044161,"body_markdown":"  ****work for me****\r\n\r\n***in android/build.gradle***\r\n\r\n\r\n  compileSdkVersion = 32  // &lt;---- increase one by one \r\n\r\n","title":"Build failed error: cannot find symbol if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R)","body":"<p><strong><strong>work for me</strong></strong></p>\n<p><em><strong>in android/build.gradle</strong></em></p>\n<p>compileSdkVersion = 32  // &lt;---- increase one by one</p>\n"},{"tags":[],"owner":{"account_id":22516601,"reputation":849,"user_id":16710738,"display_name":"Deepak Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678174254,"creation_date":1678174254,"answer_id":75659083,"question_id":65044161,"body_markdown":"Im using **npm i react-native-background-actions** then I got this error \r\n\r\nand my react native version is `&quot;react-native&quot;: &quot;0.62.2&quot;,`\r\nso is just to update the(android/build.gradle) `compileSdkVersion 30 to 31`\r\n\r\n    subprojects {\r\n    afterEvaluate {project -&gt;\r\n        if (project.hasProperty(&quot;android&quot;)) {\r\n            android {\r\n                compileSdkVersion 31    \r\n                buildToolsVersion &quot;28.0.3&quot;\r\n            }\r\n        }\r\n    }\r\n}","title":"Build failed error: cannot find symbol if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R)","body":"<p>Im using <strong>npm i react-native-background-actions</strong> then I got this error</p>\n<p>and my react native version is <code>&quot;react-native&quot;: &quot;0.62.2&quot;,</code>\nso is just to update the(android/build.gradle) <code>compileSdkVersion 30 to 31</code></p>\n<pre><code>subprojects {\nafterEvaluate {project -&gt;\n    if (project.hasProperty(&quot;android&quot;)) {\n        android {\n            compileSdkVersion 31    \n            buildToolsVersion &quot;28.0.3&quot;\n        }\n    }\n}\n</code></pre>\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":8630890,"reputation":116,"user_id":6462519,"display_name":"Praveen Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690984693,"creation_date":1690984693,"answer_id":76820647,"question_id":65044161,"body_markdown":"Just update your sdk version to 33. Because some plugin you added uses android 13 (api 33) check, but couldn&#39;t find in your code.\r\n\r\n    buildscript {\r\n        ext {\r\n            buildToolsVersion = &quot;30.0.3&quot;\r\n            minSdkVersion = 23\r\n            compileSdkVersion = 33 // Just increase your sdk version\r\n            }\r\n        }","title":"Build failed error: cannot find symbol if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R)","body":"<p>Just update your sdk version to 33. Because some plugin you added uses android 13 (api 33) check, but couldn't find in your code.</p>\n<pre><code>buildscript {\n    ext {\n        buildToolsVersion = &quot;30.0.3&quot;\n        minSdkVersion = 23\n        compileSdkVersion = 33 // Just increase your sdk version\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":8943355,"reputation":491,"user_id":6671636,"accept_rate":0,"display_name":"fagbemi ayodele"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54199,"favorite_count":0,"down_vote_count":0,"up_vote_count":29,"answer_count":11,"score":29,"last_activity_date":1690984693,"creation_date":1606513523,"question_id":65044161,"body_markdown":"I tried building my ionic app after development; but in the process the following errors surfaced:\r\n\r\n\r\n&gt; C:\\incidentApp\\platforms\\android\\app\\src\\main\\java\\com\\moust\\cordova\\videoplayer\\VideoPlayer.java:123:\r\n&gt; error: cannot find symbol if (Build.VERSION.SDK_INT &gt;=\r\n&gt; Build.VERSION_CODES.R) { ^ &gt; Task :app:compileDebugJavaWithJavac\r\n&gt; symbol:   variable R location: class VERSION_CODES\r\n&gt; C:\\incidentApp\\platforms\\android\\app\\src\\main\\java\\com\\moust\\cordova\\videoplayer\\VideoPlayer.java:124:\r\n&gt; error: cannot find symbol\r\n&gt; dialog.getWindow().getInsetsController().hide(WindowInsets.Type.statusBars());\r\n&gt; ^ symbol:   variable Type location: class WindowInsets\r\n&gt; C:\\incidentApp\\platforms\\android\\app\\src\\main\\java\\com\\moust\\cordova\\videoplayer\\VideoPlayer.java:124:\r\n&gt; error:  cannot find symbol\r\n&gt; dialog.getWindow().getInsetsController().hide(WindowInsets.Type.statusBars());\r\n&gt; ^ symbol:   method getInsetsController() location: class Window Note:\r\n&gt; Some input files use or override a deprecated API. Note: Recompile\r\n&gt; with -Xlint:deprecation for details. Note: Some input files use\r\n&gt; unchecked or unsafe operations. Note: Recompile with -Xlint:unchecked\r\n&gt; for details. 3 errors\r\n&gt; \r\n&gt; \r\n&gt; FAILURE: Build failed with an exception.\r\n&gt; \r\n&gt; &gt; Task :app:compileDebugJavaWithJavac FAILED 24 actionable tasks: 1 executed, 23 up-to-date\r\n&gt; * What went wrong: Execution failed for task &#39;:app:compileDebugJavaWithJavac&#39;.\r\n&gt; &gt; Compilation failed; see the compiler error output for details.\r\n&gt; \r\n&gt; * Try: Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output.  Run with --scan to get full insights.\r\n&gt; \r\n&gt; * Get more help at https://help.gradle.org\r\n&gt; \r\n&gt; BUILD FAILED in 2m 5s c:\\incidentApp\\platforms\\android\\gradlew:\r\n&gt; Command failed with exit code 1 Error output:\r\n&gt; C:\\incidentApp\\platforms\\android\\app\\src\\main\\java\\com\\moust\\cordova\\videoplayer\\VideoPlayer.java:123:\r\n&gt; error:  cannot find symbol if (Build.VERSION.SDK_INT &gt;=\r\n&gt; Build.VERSION_CODES.R) { ^ symbol:   variable R location: class\r\n&gt; VERSION_CODES\r\n&gt; C:\\incidentApp\\platforms\\android\\app\\src\\main\\java\\com\\moust\\cordova\\videoplayer\\VideoPlayer.java:124:\r\n&gt; error:  cannot find symbol\r\n&gt; dialog.getWindow().getInsetsController().hide(WindowInsets.Type.statusBars());\r\n&gt; ^ symbol:   variable Type location: class WindowInsets\r\n&gt; C:\\incidentApp\\platforms\\android\\app\\src\\main\\java\\com\\moust\\cordova\\videoplayer\\VideoPlayer.java:124:\r\n&gt; error:  cannot find symbol\r\n&gt; dialog.getWindow().getInsetsController().hide(WindowInsets.Type.statusBars());\r\n&gt; ^ symbol:   method getInsetsController() location: class Window Note:\r\n&gt; Some input files use or override a deprecated API. Note: Recompile\r\n&gt; with -Xlint:deprecation for details. Note: Some input files use\r\n&gt; unchecked or unsafe operations. Note: Recompile with -Xlint:unchecked\r\n&gt; for details. 3 errors\r\n&gt; \r\n&gt; FAILURE: Build failed with an exception.\r\n&gt; \r\n&gt; * What went wrong: Execution failed for task &#39;:app:compileDebugJavaWithJavac&#39;.\r\n&gt; &gt; Compilation failed; see the compiler error output for details.\r\n\r\nI&#39;d tried everything(removing of android package and re-installing) I could lay my hands on but still not working.\r\n\r\nBelow is my **build.gradle**\r\n\r\n  \r\n\r\n     project.ext {\r\n          defaultBuildToolsVersion=&quot;29.0.3&quot; //String\r\n          defaultMinSdkVersion=22 //Integer - Minimum requirement is Android 5.1\r\n          defaultTargetSdkVersion=28 //Integer - We ALWAYS target the latest by default\r\n          defaultCompileSdkVersion=29 //Integer - We ALWAYS compile with the latest by default\r\n        }","title":"Build failed error: cannot find symbol if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R)","body":"<p>I tried building my ionic app after development; but in the process the following errors surfaced:</p>\n<blockquote>\n<p>C:\\incidentApp\\platforms\\android\\app\\src\\main\\java\\com\\moust\\cordova\\videoplayer\\VideoPlayer.java:123:\nerror: cannot find symbol if (Build.VERSION.SDK_INT &gt;=\nBuild.VERSION_CODES.R) { ^ &gt; Task :app:compileDebugJavaWithJavac\nsymbol:   variable R location: class VERSION_CODES\nC:\\incidentApp\\platforms\\android\\app\\src\\main\\java\\com\\moust\\cordova\\videoplayer\\VideoPlayer.java:124:\nerror: cannot find symbol\ndialog.getWindow().getInsetsController().hide(WindowInsets.Type.statusBars());\n^ symbol:   variable Type location: class WindowInsets\nC:\\incidentApp\\platforms\\android\\app\\src\\main\\java\\com\\moust\\cordova\\videoplayer\\VideoPlayer.java:124:\nerror:  cannot find symbol\ndialog.getWindow().getInsetsController().hide(WindowInsets.Type.statusBars());\n^ symbol:   method getInsetsController() location: class Window Note:\nSome input files use or override a deprecated API. Note: Recompile\nwith -Xlint:deprecation for details. Note: Some input files use\nunchecked or unsafe operations. Note: Recompile with -Xlint:unchecked\nfor details. 3 errors</p>\n<p>FAILURE: Build failed with an exception.</p>\n<blockquote>\n<p>Task :app:compileDebugJavaWithJavac FAILED 24 actionable tasks: 1 executed, 23 up-to-date</p>\n</blockquote>\n<ul>\n<li>What went wrong: Execution failed for task ':app:compileDebugJavaWithJavac'.</li>\n</ul>\n<blockquote>\n<p>Compilation failed; see the compiler error output for details.</p>\n</blockquote>\n<ul>\n<li><p>Try: Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output.  Run with --scan to get full insights.</p>\n</li>\n<li><p>Get more help at <a href=\"https://help.gradle.org\" rel=\"noreferrer\">https://help.gradle.org</a></p>\n</li>\n</ul>\n<p>BUILD FAILED in 2m 5s c:\\incidentApp\\platforms\\android\\gradlew:\nCommand failed with exit code 1 Error output:\nC:\\incidentApp\\platforms\\android\\app\\src\\main\\java\\com\\moust\\cordova\\videoplayer\\VideoPlayer.java:123:\nerror:  cannot find symbol if (Build.VERSION.SDK_INT &gt;=\nBuild.VERSION_CODES.R) { ^ symbol:   variable R location: class\nVERSION_CODES\nC:\\incidentApp\\platforms\\android\\app\\src\\main\\java\\com\\moust\\cordova\\videoplayer\\VideoPlayer.java:124:\nerror:  cannot find symbol\ndialog.getWindow().getInsetsController().hide(WindowInsets.Type.statusBars());\n^ symbol:   variable Type location: class WindowInsets\nC:\\incidentApp\\platforms\\android\\app\\src\\main\\java\\com\\moust\\cordova\\videoplayer\\VideoPlayer.java:124:\nerror:  cannot find symbol\ndialog.getWindow().getInsetsController().hide(WindowInsets.Type.statusBars());\n^ symbol:   method getInsetsController() location: class Window Note:\nSome input files use or override a deprecated API. Note: Recompile\nwith -Xlint:deprecation for details. Note: Some input files use\nunchecked or unsafe operations. Note: Recompile with -Xlint:unchecked\nfor details. 3 errors</p>\n<p>FAILURE: Build failed with an exception.</p>\n<ul>\n<li>What went wrong: Execution failed for task ':app:compileDebugJavaWithJavac'.</li>\n</ul>\n<blockquote>\n<p>Compilation failed; see the compiler error output for details.</p>\n</blockquote>\n</blockquote>\n<p>I'd tried everything(removing of android package and re-installing) I could lay my hands on but still not working.</p>\n<p>Below is my <strong>build.gradle</strong></p>\n<pre><code> project.ext {\n      defaultBuildToolsVersion=&quot;29.0.3&quot; //String\n      defaultMinSdkVersion=22 //Integer - Minimum requirement is Android 5.1\n      defaultTargetSdkVersion=28 //Integer - We ALWAYS target the latest by default\n      defaultCompileSdkVersion=29 //Integer - We ALWAYS compile with the latest by default\n    }\n</code></pre>\n"},{"tags":["java","android","kotlin","android-jetpack-compose","foreground-service"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1690958100,"post_id":76813038,"comment_id":135423400,"body_markdown":"Can you please explain how is this question r elated to Firebase?","body":"Can you please explain how is this question r elated to Firebase?"},{"owner":{"account_id":22107371,"reputation":11,"user_id":16362748,"display_name":"Srijan Khadka"},"score":0,"creation_date":1690984372,"post_id":76813038,"comment_id":135429161,"body_markdown":"@AlexMamo that was a mistake, but could you please tell me the answer?","body":"@AlexMamo that was a mistake, but could you please tell me the answer?"}],"owner":{"account_id":22107371,"reputation":11,"user_id":16362748,"display_name":"Srijan Khadka"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690984318,"creation_date":1690902861,"question_id":76813038,"body_markdown":"I am trying to build an app locker. I can display an overlay Screen, but I want that locked app to be paused until the user opens it. The problem here is Sometimes When the activity of another app launches in the background my app is terminated(maybe by Android OS). How to deal with this?","title":"How to Intercept another app so that it pause it&#39;s process unit I remove the overlay screen in android Kotlin?","body":"<p>I am trying to build an app locker. I can display an overlay Screen, but I want that locked app to be paused until the user opens it. The problem here is Sometimes When the activity of another app launches in the background my app is terminated(maybe by Android OS). How to deal with this?</p>\n"},{"tags":["java","android","react-native","logging","logback"],"answers":[{"tags":[],"owner":{"account_id":14197482,"reputation":101,"user_id":10256352,"display_name":"Greynairod"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690984122,"creation_date":1536496477,"answer_id":52244586,"question_id":52209545,"body_markdown":"The configuration of `logback.xml` was wrong. Here is my solution:\r\n\r\n```xml\r\n&lt;configuration&gt;\r\n    &lt;!-- Create a file appender for a log in the application&#39;s data directory --&gt;\r\n    &lt;appender name=&quot;file&quot; class=&quot;ch.qos.logback.core.FileAppender&quot;&gt;\r\n        &lt;file&gt;/data/data/com.eeg_project/files/log/eegdata.log&lt;/file&gt;\r\n        &lt;encoder&gt;\r\n            &lt;pattern&gt;%d{HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n&lt;/pattern&gt;\r\n        &lt;/encoder&gt;\r\n    &lt;/appender&gt;\r\n\r\n    &lt;!-- Write INFO (and higher-level) messages to the log file --&gt;\r\n    &lt;root level=&quot;INFO&quot;&gt;\r\n        &lt;appender-ref ref=&quot;file&quot; /&gt;\r\n    &lt;/root&gt;\r\n&lt;/configuration&gt;\r\n```","title":"Using Logback in bridged java method for React Native","body":"<p>The configuration of <code>logback.xml</code> was wrong. Here is my solution:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;configuration&gt;\n    &lt;!-- Create a file appender for a log in the application's data directory --&gt;\n    &lt;appender name=&quot;file&quot; class=&quot;ch.qos.logback.core.FileAppender&quot;&gt;\n        &lt;file&gt;/data/data/com.eeg_project/files/log/eegdata.log&lt;/file&gt;\n        &lt;encoder&gt;\n            &lt;pattern&gt;%d{HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n&lt;/pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n\n    &lt;!-- Write INFO (and higher-level) messages to the log file --&gt;\n    &lt;root level=&quot;INFO&quot;&gt;\n        &lt;appender-ref ref=&quot;file&quot; /&gt;\n    &lt;/root&gt;\n&lt;/configuration&gt;\n</code></pre>\n"}],"owner":{"account_id":14197482,"reputation":101,"user_id":10256352,"display_name":"Greynairod"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":333,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1690984122,"creation_date":1536255639,"question_id":52209545,"body_markdown":"I&#39;m trying to modify working app. I installed logback for android from this repository -&gt; https://github.com/tony19/logback-android And after that I created bridged method for in java file, which was originally bridged and contains other @reactmethod methods.\r\n\r\nHere is my java code (not full code, just logback things):\r\n\r\n    package com.eeg_project.components.classifier;\r\n    \r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    \r\n    public class ClassifierModule extends ReactContextBaseJavaModule implements BufferListener {\r\n    \r\n        // Logback\r\n        private static Logger logger = LoggerFactory.getLogger(ClassifierModule.class);\r\n    \r\n        @ReactMethod\r\n        public void startSaveCSV() {\r\n    \r\n            //test ints\r\n            int a = 2;\r\n            int b = 2;\r\n    \r\n            String csvLine = a + &quot;,&quot; + b;\r\n            logger.info(csvLine);\r\n        }\r\n    }\r\n    \r\nMy logback.xml is configured like this:\r\n    \r\n\r\n    &lt;configuration&gt;\r\n        &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n            &lt;layout class=&quot;ch.qos.logback.classic.PatternLayout&quot;&gt;\r\n                &lt;Pattern&gt;\r\n                    %d{dd-MM-yyyy HH:mm:ss.SSS} %-5level [%thread] %logger - %msg%n\r\n                &lt;/Pattern&gt;\r\n            &lt;/layout&gt;\r\n        &lt;/appender&gt;\r\n        &lt;appender name=&quot;FILE-APPENDER&quot; class=&quot;ch.qos.logback.core.FileAppender&quot;&gt;\r\n            &lt;file&gt;/storage/emulated/0/Download/Data.csv&lt;/file&gt;\r\n            &lt;encoder class=&quot;ch.qos.logback.classic.encoder.PatternLayoutEncoder&quot;&gt;\r\n                &lt;Pattern&gt;\r\n                    %msg%n\r\n                &lt;/Pattern&gt;\r\n            &lt;/encoder&gt;\r\n        &lt;/appender&gt;\r\n        &lt;logger name=&quot;com.eeg_project.components.classifier.ClassifierModule&quot; level=&quot;info&quot; additivity=&quot;false&quot;&gt;\r\n            &lt;appender-ref ref=&quot;FILE-APPENDER&quot; /&gt;\r\n        &lt;/logger&gt;\r\n        &lt;root level=&quot;info&quot;&gt;\r\n            &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\r\n        &lt;/root&gt;\r\n    &lt;/configuration&gt; \r\n\r\nAnd here is the code for recat native to call bridged method from java (sandboxbutton is original app button, I just changed it&#39;s function):\r\n\r\n    import Classifier from &quot;../native/Classifier&quot;;\r\n    \r\n      }\r\n    \r\n       &lt;SandboxButton onPress={() =&gt; Classifier.startSaveCSV()}&gt;CSV&lt;/SandboxButton&gt;\r\n\r\nApp compiles cuccesfully, but the problem occurs when I tap my button. Nothing happens :( App doesn&#39;t even create my Data.csv file..\r\n\r\nAny sloution?.\r\n","title":"Using Logback in bridged java method for React Native","body":"<p>I'm trying to modify working app. I installed logback for android from this repository -> <a href=\"https://github.com/tony19/logback-android\" rel=\"nofollow noreferrer\">https://github.com/tony19/logback-android</a> And after that I created bridged method for in java file, which was originally bridged and contains other @reactmethod methods.</p>\n\n<p>Here is my java code (not full code, just logback things):</p>\n\n<pre><code>package com.eeg_project.components.classifier;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\npublic class ClassifierModule extends ReactContextBaseJavaModule implements BufferListener {\n\n    // Logback\n    private static Logger logger = LoggerFactory.getLogger(ClassifierModule.class);\n\n    @ReactMethod\n    public void startSaveCSV() {\n\n        //test ints\n        int a = 2;\n        int b = 2;\n\n        String csvLine = a + \",\" + b;\n        logger.info(csvLine);\n    }\n}\n</code></pre>\n\n<p>My logback.xml is configured like this:</p>\n\n<pre><code>&lt;configuration&gt;\n    &lt;appender name=\"STDOUT\" class=\"ch.qos.logback.core.ConsoleAppender\"&gt;\n        &lt;layout class=\"ch.qos.logback.classic.PatternLayout\"&gt;\n            &lt;Pattern&gt;\n                %d{dd-MM-yyyy HH:mm:ss.SSS} %-5level [%thread] %logger - %msg%n\n            &lt;/Pattern&gt;\n        &lt;/layout&gt;\n    &lt;/appender&gt;\n    &lt;appender name=\"FILE-APPENDER\" class=\"ch.qos.logback.core.FileAppender\"&gt;\n        &lt;file&gt;/storage/emulated/0/Download/Data.csv&lt;/file&gt;\n        &lt;encoder class=\"ch.qos.logback.classic.encoder.PatternLayoutEncoder\"&gt;\n            &lt;Pattern&gt;\n                %msg%n\n            &lt;/Pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n    &lt;logger name=\"com.eeg_project.components.classifier.ClassifierModule\" level=\"info\" additivity=\"false\"&gt;\n        &lt;appender-ref ref=\"FILE-APPENDER\" /&gt;\n    &lt;/logger&gt;\n    &lt;root level=\"info\"&gt;\n        &lt;appender-ref ref=\"STDOUT\" /&gt;\n    &lt;/root&gt;\n&lt;/configuration&gt; \n</code></pre>\n\n<p>And here is the code for recat native to call bridged method from java (sandboxbutton is original app button, I just changed it's function):</p>\n\n<pre><code>import Classifier from \"../native/Classifier\";\n\n  }\n\n   &lt;SandboxButton onPress={() =&gt; Classifier.startSaveCSV()}&gt;CSV&lt;/SandboxButton&gt;\n</code></pre>\n\n<p>App compiles cuccesfully, but the problem occurs when I tap my button. Nothing happens :( App doesn't even create my Data.csv file..</p>\n\n<p>Any sloution?.</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1690983989,"post_id":76820506,"comment_id":135429049,"body_markdown":"You very probably want a `JComboBox&lt;TestAccount&gt;`, not `&lt;TestAccount[]&gt;`. It gets confused because there is a constructor allowing to pass in an array of the element type.","body":"You very probably want a <code>JComboBox&lt;TestAccount&gt;</code>, not <code>&lt;TestAccount[]&gt;</code>. It gets confused because there is a constructor allowing to pass in an array of the element type."},{"owner":{"display_name":"user6073886"},"score":2,"creation_date":1690984037,"post_id":76820506,"comment_id":135429067,"body_markdown":"`JComboBox&lt;TestAccount&gt;` - You want the generic type `&lt;E&gt;` to be `TestAccount` and use the  public `JComboBox(E[] items)` constructor with an `TestAccount[]` not a `TestAccount[][]` - edit: This is analog to how you would create a `List&lt;String&gt;` and not `List&lt;String[]&gt;`. Even if the data Structure in the end can hold more than one of your generic type the generic type itself does not need to be an array.","body":"<code>JComboBox&lt;TestAccount&gt;</code> - You want the generic type <code>&lt;E&gt;</code> to be <code>TestAccount</code> and use the  public <code>JComboBox(E[] items)</code> constructor with an <code>TestAccount[]</code> not a <code>TestAccount[][]</code> - edit: This is analog to how you would create a <code>List&lt;String&gt;</code> and not <code>List&lt;String[]&gt;</code>. Even if the data Structure in the end can hold more than one of your generic type the generic type itself does not need to be an array."}],"owner":{"account_id":1153695,"reputation":1,"user_id":1134875,"display_name":"John"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690983752,"creation_date":1690983752,"question_id":76820506,"body_markdown":"I&#39;m doing the following:\r\n`private TestAccount[] accounts;`\r\n`private JComboBox&lt;TestAccount[]&gt; accountComboBox;`\r\n\r\n`JComboBox&lt;TestAccount[]&gt;  comboBox = new JComboBox (accounts);`\r\n\r\nBut get warnings:\r\nThe constructor JComboBox(Object[]) belongs to the raw type JComboBox. References to generic type JComboBox(&lt;E&gt;) should be parameterized. \r\nThe expression of type JComboBox neeads unchecked conversion to conform to JComboBox(TestAccount[]). \r\n\r\nHow to resolve?\r\n\r\n\r\nI&#39;ve tried:\r\n`JComboBox&lt;TestAccount[]&gt;  comboBox = new JComboBox &lt;TestAccount[]&gt;();`\r\nthen adding accounts to a default model, but get the same warnings.\r\n","title":"How to parameterize an array passed to a JComoBox?","body":"<p>I'm doing the following:\n<code>private TestAccount[] accounts;</code>\n<code>private JComboBox&lt;TestAccount[]&gt; accountComboBox;</code></p>\n<p><code>JComboBox&lt;TestAccount[]&gt;  comboBox = new JComboBox (accounts);</code></p>\n<p>But get warnings:\nThe constructor JComboBox(Object[]) belongs to the raw type JComboBox. References to generic type JComboBox() should be parameterized.\nThe expression of type JComboBox neeads unchecked conversion to conform to JComboBox(TestAccount[]).</p>\n<p>How to resolve?</p>\n<p>I've tried:\n<code>JComboBox&lt;TestAccount[]&gt;  comboBox = new JComboBox &lt;TestAccount[]&gt;();</code>\nthen adding accounts to a default model, but get the same warnings.</p>\n"},{"tags":["java","apache-flink","google-cloud-pubsub"],"comments":[{"owner":{"account_id":2128,"reputation":3307,"user_id":2935,"accept_rate":88,"display_name":"Vetle"},"score":0,"creation_date":1694983737,"post_id":76820477,"comment_id":135959965,"body_markdown":"Came here searching for a solution, looks like we need to submit a patch :)","body":"Came here searching for a solution, looks like we need to submit a patch :)"}],"owner":{"account_id":26305661,"reputation":1,"user_id":19970283,"display_name":"Muaaz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690983510,"creation_date":1690983510,"question_id":76820477,"body_markdown":"Here I need to set some attributes to the Pubsub Messages before publishing them to the Google PubSub.\r\nFor example:\r\n\r\n```\r\n{\r\n  &quot;data&quot;: &quot;Pubsub message data...&quot;,\r\n  &quot;attributes&quot;: {\r\n    &quot;attribute1&quot;: &quot;value 1&quot;,\r\n    &quot;attribute2&quot;: &quot;value 2&quot;,\r\n  }\r\n}\r\n```\r\n\r\nHowever, I did not find a way to achieve this with Apache Flink Google Cloud PubSub connector for Java([here](https://nightlies.apache.org/flink/flink-docs-release-1.17/docs/connectors/datastream/pubsub/#google-cloud-pubsub)). The message publishing part of the library looks like below, where it only sets the data to the Pubsub message while not setting the attributes.\r\n\r\n```\r\n @Override\r\n    public void invoke(IN message, SinkFunction.Context context) {\r\n        PubsubMessage pubsubMessage =\r\n                PubsubMessage.newBuilder()\r\n                        .setData(ByteString.copyFrom(serializationSchema.serialize(message)))\r\n                        .build();\r\n\r\n        ApiFuture&lt;String&gt; future = publisher.publish(pubsubMessage);\r\n        numPendingFutures.incrementAndGet();\r\n        ApiFutures.addCallback(future, failureHandler, directExecutor());\r\n    }\r\n```\r\n\r\nI am new to Apache Flink. Much appreciate any help on this to find out a way to set the attributes to the Pubsub messages.\r\n\r\nThanks in advance!","title":"Apache Flink: Google Cloud PubSub Connector: Unable to set attributes to the Pubsub Messages","body":"<p>Here I need to set some attributes to the Pubsub Messages before publishing them to the Google PubSub.\nFor example:</p>\n<pre><code>{\n  &quot;data&quot;: &quot;Pubsub message data...&quot;,\n  &quot;attributes&quot;: {\n    &quot;attribute1&quot;: &quot;value 1&quot;,\n    &quot;attribute2&quot;: &quot;value 2&quot;,\n  }\n}\n</code></pre>\n<p>However, I did not find a way to achieve this with Apache Flink Google Cloud PubSub connector for Java(<a href=\"https://nightlies.apache.org/flink/flink-docs-release-1.17/docs/connectors/datastream/pubsub/#google-cloud-pubsub\" rel=\"nofollow noreferrer\">here</a>). The message publishing part of the library looks like below, where it only sets the data to the Pubsub message while not setting the attributes.</p>\n<pre><code> @Override\n    public void invoke(IN message, SinkFunction.Context context) {\n        PubsubMessage pubsubMessage =\n                PubsubMessage.newBuilder()\n                        .setData(ByteString.copyFrom(serializationSchema.serialize(message)))\n                        .build();\n\n        ApiFuture&lt;String&gt; future = publisher.publish(pubsubMessage);\n        numPendingFutures.incrementAndGet();\n        ApiFutures.addCallback(future, failureHandler, directExecutor());\n    }\n</code></pre>\n<p>I am new to Apache Flink. Much appreciate any help on this to find out a way to set the attributes to the Pubsub messages.</p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","excel","csv","opencsv"],"comments":[{"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1690983559,"post_id":76820430,"comment_id":135428938,"body_markdown":"IIRC, Excel uses the ANSI code page of the default locale of your machine, so if your locale isn&#39;t set to some Arabian locale, it likely uses something like windows-1252 (i.e. Western European/US locales) to open it, which will mean the wrong characters will be derived.","body":"IIRC, Excel uses the ANSI code page of the default locale of your machine, so if your locale isn&#39;t set to some Arabian locale, it likely uses something like windows-1252 (i.e. Western European/US locales) to open it, which will mean the wrong characters will be derived."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690983596,"post_id":76820430,"comment_id":135428951,"body_markdown":"Do you have an Arabic-capable font in Excel?","body":"Do you have an Arabic-capable font in Excel?"},{"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1690983608,"post_id":76820430,"comment_id":135428954,"body_markdown":"In any case, see also https://superuser.com/questions/280603/how-to-set-character-encoding-when-opening-a-csv-file-in-excel how to select a different character set","body":"In any case, see also <a href=\"https://superuser.com/questions/280603/how-to-set-character-encoding-when-opening-a-csv-file-in-excel\" title=\"how to set character encoding when opening a csv file in excel\">superuser.com/questions/280603/&hellip;</a> how to select a different character set"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":1,"creation_date":1690984207,"post_id":76820430,"comment_id":135429124,"body_markdown":"It seems Excel has [a problem](https://stackoverflow.com/a/6488070/636009) with UTF-8 [CSV files](https://stackoverflow.com/a/155176/636009). You can prepend the &#39;byte order mark&#39; (BOM), `&quot;\\ufeff&quot;`, to the beginning of the file (either in the first field or before you pass the output stream into the CSV writer), or I think the UTF-16 encoding would automatically add a BOM. But for UTF-8, you&#39;ll have to add the BOM yourself.","body":"It seems Excel has <a href=\"https://stackoverflow.com/a/6488070/636009\">a problem</a> with UTF-8 <a href=\"https://stackoverflow.com/a/155176/636009\">CSV files</a>. You can prepend the &#39;byte order mark&#39; (BOM), <code>&quot;\\ufeff&quot;</code>, to the beginning of the file (either in the first field or before you pass the output stream into the CSV writer), or I think the UTF-16 encoding would automatically add a BOM. But for UTF-8, you&#39;ll have to add the BOM yourself."},{"owner":{"account_id":3427552,"reputation":55394,"user_id":2872922,"accept_rate":54,"display_name":"Ron Rosenfeld"},"score":3,"creation_date":1690989280,"post_id":76820430,"comment_id":135430465,"body_markdown":"Do the same as has been recommended so many times in this forum. Do not **OPEN** the file, rather **IMPORT** the file using either Power Query or the legacy import wizard. At that point, you will have the opportunity to select the correct code page.","body":"Do the same as has been recommended so many times in this forum. Do not <b>OPEN</b> the file, rather <b>IMPORT</b> the file using either Power Query or the legacy import wizard. At that point, you will have the opportunity to select the correct code page."}],"owner":{"account_id":4400414,"reputation":331,"user_id":3586286,"display_name":"user3586286"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690983493,"creation_date":1690983166,"question_id":76820430,"body_markdown":"I have the below code but when open the generated CSV using Excel, the Arabic word show as symbols. If I open the file using Notepad++, it displays the value correctly.\r\n\r\n```java\r\nCSVWriter writer234 = new CSVWriter(new OutputStreamWriter(new FileOutputStream(&quot;C:\\\\Users\\\\Desktop\\\\file456789.csv&quot;), StandardCharsets.UTF_8));\r\n\r\nString[] header = { &quot;Field1&quot;, &quot;Field2&quot;, &quot;Field3&quot;, &quot;Field4&quot;, &quot;Field5&quot;, &quot;Field6&quot;, &quot;Field7&quot;, &quot;Field8&quot; };\r\nwriter234.writeNext(header);\r\n\r\nString[] data = { &quot;&quot;, &quot;Field2&quot;, &quot;Field3&quot;, &quot;Field4&quot;, &quot;Field5&quot;, &quot;Field6&quot;, &quot;Field7&quot;, &quot;Field8&quot; };\r\nwriter234.writeNext(data);\r\n\r\nwriter234.close();\r\n```\r\n\r\n","title":"CSV encoding is not correct when opened from Excel","body":"<p>I have the below code but when open the generated CSV using Excel, the Arabic word show as symbols. If I open the file using Notepad++, it displays the value correctly.</p>\n<pre class=\"lang-java prettyprint-override\"><code>CSVWriter writer234 = new CSVWriter(new OutputStreamWriter(new FileOutputStream(&quot;C:\\\\Users\\\\Desktop\\\\file456789.csv&quot;), StandardCharsets.UTF_8));\n\nString[] header = { &quot;Field1&quot;, &quot;Field2&quot;, &quot;Field3&quot;, &quot;Field4&quot;, &quot;Field5&quot;, &quot;Field6&quot;, &quot;Field7&quot;, &quot;Field8&quot; };\nwriter234.writeNext(header);\n\nString[] data = { &quot;&quot;, &quot;Field2&quot;, &quot;Field3&quot;, &quot;Field4&quot;, &quot;Field5&quot;, &quot;Field6&quot;, &quot;Field7&quot;, &quot;Field8&quot; };\nwriter234.writeNext(data);\n\nwriter234.close();\n</code></pre>\n"},{"tags":["java","android","firebase","google-cloud-firestore"],"comments":[{"owner":{"account_id":9172301,"reputation":4168,"user_id":6819340,"accept_rate":39,"display_name":"darshan"},"score":0,"creation_date":1690982236,"post_id":76819954,"comment_id":135428582,"body_markdown":"Its because the listener operation may take a while and in that period if the user exits the Fragment, it may not be attached to an activity, hence the call to `requireActivity()` is causing an issue. You could check if the fragment is attached via `isAdded` flag on Fragment before using `requireActivity()`. You could also move this Firestore logic to a Activity ViewModel and share that data to fragment via `activityViewModels()`.","body":"Its because the listener operation may take a while and in that period if the user exits the Fragment, it may not be attached to an activity, hence the call to <code>requireActivity()</code> is causing an issue. You could check if the fragment is attached via <code>isAdded</code> flag on Fragment before using <code>requireActivity()</code>. You could also move this Firestore logic to a Activity ViewModel and share that data to fragment via <code>activityViewModels()</code>."}],"answers":[{"tags":[],"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690983391,"creation_date":1690982441,"answer_id":76820310,"question_id":76819954,"body_markdown":"The crash happens because the listener code gets run later, whenever the firebase operation is complete, and if the user navigates away before that happens the fragment has been detached from the activity and the call to `requireActivity()` throws.\r\n\r\nIf you just want it to fail gracefully in that case instead of crashing, change your code from using [`requireActivity()`](https://developer.android.com/reference/androidx/fragment/app/Fragment.html#requireActivity()) (which throws if the activity is not attached) to using [`getActivity()`](https://developer.android.com/reference/androidx/fragment/app/Fragment.html#getActivity()) instead (which can return null in those cases) and check that it is not null before using it. For example:\r\n\r\n\r\n```java\r\nFragmentActivity a = getActivity();\r\nif( a != null ) {\r\n   a.getSupportFragmentManager().popBackStack();\r\n}\r\n```\r\n\r\nIf you don&#39;t want any of the listener code to run in the case where the user navigated away already, you could use this to do an early exit from the listener\r\n\r\n```java\r\nFragmentActivity a = getActivity();\r\nif( a == null ) return;\r\n\r\n// the rest of the listener code\r\n```","title":"Firebase onComplete causes crashes on quick exit","body":"<p>The crash happens because the listener code gets run later, whenever the firebase operation is complete, and if the user navigates away before that happens the fragment has been detached from the activity and the call to <code>requireActivity()</code> throws.</p>\n<p>If you just want it to fail gracefully in that case instead of crashing, change your code from using <a href=\"https://developer.android.com/reference/androidx/fragment/app/Fragment.html#requireActivity()\" rel=\"nofollow noreferrer\"><code>requireActivity()</code></a> (which throws if the activity is not attached) to using <a href=\"https://developer.android.com/reference/androidx/fragment/app/Fragment.html#getActivity()\" rel=\"nofollow noreferrer\"><code>getActivity()</code></a> instead (which can return null in those cases) and check that it is not null before using it. For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>FragmentActivity a = getActivity();\nif( a != null ) {\n   a.getSupportFragmentManager().popBackStack();\n}\n</code></pre>\n<p>If you don't want any of the listener code to run in the case where the user navigated away already, you could use this to do an early exit from the listener</p>\n<pre class=\"lang-java prettyprint-override\"><code>FragmentActivity a = getActivity();\nif( a == null ) return;\n\n// the rest of the listener code\n</code></pre>\n"}],"owner":{"account_id":29012930,"reputation":1,"user_id":22224027,"display_name":"Kaushalya Vishwanath"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690983391,"creation_date":1690979829,"question_id":76819954,"body_markdown":"I am very new to android development. I am developing an app an on backend I am using firebase firestore as the databse.\r\n**I have attached on complete listner like this,**\r\n\r\n```\r\ndb = FirebaseFirestore.getInstance();\r\ndb.collection(&quot;Students&quot;)\r\n        .document(userID)\r\n        .collection(&quot;Classes&quot;)\r\n        .get(sourceL)\r\n        .addOnCompleteListener(task -&gt; {\r\n            if (task.isSuccessful()){\r\n\r\n                for (QueryDocumentSnapshot document : task.getResult()){\r\n                    classList.add(document.getString(&quot;TeacherName&quot;));\r\n                    double val = document.getDouble(&quot;TeacherID&quot;);\r\n                    int intVal = (int) val;\r\n                    tIDList.add(intVal);\r\n                }\r\n                editor.putBoolean(&quot;TutionBase&quot;, false).apply();\r\n                triggrtListView();\r\n\r\n            } else {\r\n\r\n                msgTXT.setText(&quot;Connection Issue&quot;);\r\n                btnTXT.setText(&quot;Dismiss&quot;);\r\n                retry.setOnClickListener(v -&gt; {\r\n                    dialogretry.dismiss();\r\n                    requireActivity().getSupportFragmentManager().popBackStack();\r\n                });\r\n                dialogretry.setOnCancelListener(dialog -&gt; {\r\n                    dialogretry.dismiss();\r\n                    requireActivity().getSupportFragmentManager().popBackStack();\r\n                });\r\n                dialogretry.show();\r\n            }\r\n        });\r\n```\r\n\r\nit&#39;s using on a fragment.\r\nsource is using to define SERVER OR CACHE.\r\n\r\n**code Works without errors on normal scenarios. If user pop to backstack fragment quickly while this method is running, app crashes giving follow log errors,**\r\n\r\n```\r\nFATAL EXCEPTION: main\r\n\r\nProcess: com.example.mcqpanthiya, PID: 6199\r\njava.lang.IllegalStateException: Fragment FragmentTutionBase{c5193a6} (a82d5330-61ff-415e-95eb-c6c3b0b9254d) not attached to an activity.\r\n\tat androidx.fragment.app.Fragment.requireActivity(Fragment.java:928)\r\n\tat com.example.mcqpanthiya.FragmentTutionBase.lambda$triggrtListView$14$com-example-mcqpanthiya-FragmentTutionBase(FragmentTutionBase.java:363)\r\n\tat com.example.mcqpanthiya.FragmentTutionBase$$ExternalSyntheticLambda5.run(Unknown Source:2)\r\n\tat android.os.Handler.handleCallback(Handler.java:938)\r\n\tat android.os.Handler.dispatchMessage(Handler.java:99)\r\n\tat android.os.Looper.loopOnce(Looper.java:226)\r\n\tat android.os.Looper.loop(Looper.java:313)\r\n\tat android.app.ActivityThread.main(ActivityThread.java:8751)\r\n\tat java.lang.reflect.Method.invoke(Native Method)\r\n\tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:571)\r\n\tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1135)\r\n\r\n```\r\n\r\nIf I flag user inputs and remove it after completion there is no issue.\r\n\r\n**But I want to know how to avoid this app crash. I want to know what causes this crash in more detail.**\r\n\r\nIf the user waits for 2 or 3 seconds and then exits, there are also no crashes.\r\n","title":"Firebase onComplete causes crashes on quick exit","body":"<p>I am very new to android development. I am developing an app an on backend I am using firebase firestore as the databse.\n<strong>I have attached on complete listner like this,</strong></p>\n<pre><code>db = FirebaseFirestore.getInstance();\ndb.collection(&quot;Students&quot;)\n        .document(userID)\n        .collection(&quot;Classes&quot;)\n        .get(sourceL)\n        .addOnCompleteListener(task -&gt; {\n            if (task.isSuccessful()){\n\n                for (QueryDocumentSnapshot document : task.getResult()){\n                    classList.add(document.getString(&quot;TeacherName&quot;));\n                    double val = document.getDouble(&quot;TeacherID&quot;);\n                    int intVal = (int) val;\n                    tIDList.add(intVal);\n                }\n                editor.putBoolean(&quot;TutionBase&quot;, false).apply();\n                triggrtListView();\n\n            } else {\n\n                msgTXT.setText(&quot;Connection Issue&quot;);\n                btnTXT.setText(&quot;Dismiss&quot;);\n                retry.setOnClickListener(v -&gt; {\n                    dialogretry.dismiss();\n                    requireActivity().getSupportFragmentManager().popBackStack();\n                });\n                dialogretry.setOnCancelListener(dialog -&gt; {\n                    dialogretry.dismiss();\n                    requireActivity().getSupportFragmentManager().popBackStack();\n                });\n                dialogretry.show();\n            }\n        });\n</code></pre>\n<p>it's using on a fragment.\nsource is using to define SERVER OR CACHE.</p>\n<p><strong>code Works without errors on normal scenarios. If user pop to backstack fragment quickly while this method is running, app crashes giving follow log errors,</strong></p>\n<pre><code>FATAL EXCEPTION: main\n\nProcess: com.example.mcqpanthiya, PID: 6199\njava.lang.IllegalStateException: Fragment FragmentTutionBase{c5193a6} (a82d5330-61ff-415e-95eb-c6c3b0b9254d) not attached to an activity.\n    at androidx.fragment.app.Fragment.requireActivity(Fragment.java:928)\n    at com.example.mcqpanthiya.FragmentTutionBase.lambda$triggrtListView$14$com-example-mcqpanthiya-FragmentTutionBase(FragmentTutionBase.java:363)\n    at com.example.mcqpanthiya.FragmentTutionBase$$ExternalSyntheticLambda5.run(Unknown Source:2)\n    at android.os.Handler.handleCallback(Handler.java:938)\n    at android.os.Handler.dispatchMessage(Handler.java:99)\n    at android.os.Looper.loopOnce(Looper.java:226)\n    at android.os.Looper.loop(Looper.java:313)\n    at android.app.ActivityThread.main(ActivityThread.java:8751)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:571)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1135)\n\n</code></pre>\n<p>If I flag user inputs and remove it after completion there is no issue.</p>\n<p><strong>But I want to know how to avoid this app crash. I want to know what causes this crash in more detail.</strong></p>\n<p>If the user waits for 2 or 3 seconds and then exits, there are also no crashes.</p>\n"},{"tags":["java","spring","spring-boot","maven"],"comments":[{"owner":{"account_id":4427703,"reputation":3041,"user_id":3605712,"accept_rate":97,"display_name":"Malakai"},"score":2,"creation_date":1627429467,"post_id":68552789,"comment_id":121152991,"body_markdown":"Try reopening IDE and use `mvn install &amp;&amp; spring-boot:run`. Please let me know if that will resolve your issue","body":"Try reopening IDE and use <code>mvn install &amp;&amp; spring-boot:run</code>. Please let me know if that will resolve your issue"},{"owner":{"account_id":12565045,"reputation":887,"user_id":9141338,"accept_rate":14,"display_name":"jammy"},"score":1,"creation_date":1627429735,"post_id":68552789,"comment_id":121153026,"body_markdown":"I did invalidate cache from intellij and those red marks don&#39;t exist any more in pom.xml.","body":"I did invalidate cache from intellij and those red marks don&#39;t exist any more in pom.xml."},{"owner":{"account_id":12565045,"reputation":887,"user_id":9141338,"accept_rate":14,"display_name":"jammy"},"score":0,"creation_date":1627429775,"post_id":68552789,"comment_id":121153032,"body_markdown":"@Reborn  i have another question as how compilation works because even with those red marks in pom.xml ,compilation happened .","body":"@Reborn  i have another question as how compilation works because even with those red marks in pom.xml ,compilation happened ."},{"owner":{"account_id":4427703,"reputation":3041,"user_id":3605712,"accept_rate":97,"display_name":"Malakai"},"score":0,"creation_date":1627430068,"post_id":68552789,"comment_id":121153086,"body_markdown":"If you see red marks in the pom.xml even after installing dependencies, then there might be another issue. Double check on how you import the project ( it should be imported as Maven). Afterwards, make sure you right click on the project and select &#39;Sync the project;","body":"If you see red marks in the pom.xml even after installing dependencies, then there might be another issue. Double check on how you import the project ( it should be imported as Maven). Afterwards, make sure you right click on the project and select &#39;Sync the project;"},{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":1,"creation_date":1627432238,"post_id":68552789,"comment_id":121153355,"body_markdown":"_This error_ you forgot to actually include the error.","body":"<i>This error</i> you forgot to actually include the error."}],"answers":[{"tags":[],"owner":{"account_id":18579182,"reputation":61,"user_id":16547959,"display_name":"shubham kumar Singh"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1627490392,"creation_date":1627490392,"answer_id":68564288,"question_id":68552789,"body_markdown":"Reloading the project might help. \r\nSteps\r\n\r\n 1. Right click on the project \r\n 2. Go to the &quot;maven&quot; option \r\n 3. Click on &quot;Reload Project&quot;","title":"Dependency &#39;org.springframework.boot:spring-boot-starter-data-jpa:2.5.3&#39; not found","body":"<p>Reloading the project might help.\nSteps</p>\n<ol>\n<li>Right click on the project</li>\n<li>Go to the &quot;maven&quot; option</li>\n<li>Click on &quot;Reload Project&quot;</li>\n</ol>\n"}],"owner":{"account_id":12565045,"reputation":887,"user_id":9141338,"accept_rate":14,"display_name":"jammy"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4061,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1690983385,"creation_date":1627428844,"question_id":68552789,"body_markdown":"I am new to spring boot and just started exploring it .I came across this issue where intellij ide shows this error in pom.xml .I fail to understand as to why this is happening.\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.5.3&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;Spring-boot-tutorial&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;Spring-boot-tutorial&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.5.3&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.5.3&lt;/version&gt;\r\n\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\nIt will be really helpful if someone can enlighten as to how these dependencies issues happen in spring boot and how they can be traced.\r\nNote i had a similar issue with spring-boot-maven-plugin so i just added the version code below it to make it work .The same addition of the version didn&#39;t work for spring-boot-starter-data-jpa.","title":"Dependency &#39;org.springframework.boot:spring-boot-starter-data-jpa:2.5.3&#39; not found","body":"<p>I am new to spring boot and just started exploring it .I came across this issue where intellij ide shows this error in pom.xml .I fail to understand as to why this is happening.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.5.3&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;Spring-boot-tutorial&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;Spring-boot-tutorial&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;version&gt;2.5.3&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.5.3&lt;/version&gt;\n\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>It will be really helpful if someone can enlighten as to how these dependencies issues happen in spring boot and how they can be traced.\nNote i had a similar issue with spring-boot-maven-plugin so i just added the version code below it to make it work .The same addition of the version didn't work for spring-boot-starter-data-jpa.</p>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1690969989,"post_id":76818629,"comment_id":135425959,"body_markdown":"Have a look at `Collections.retainAll` and `Collections.removeAll` Incidentally, your code would be sounder using `java.time.DayOfWeek`","body":"Have a look at <code>Collections.retainAll</code> and <code>Collections.removeAll</code> Incidentally, your code would be sounder using <code>java.time.DayOfWeek</code>"}],"answers":[{"tags":[],"owner":{"account_id":10827831,"reputation":143,"user_id":7963227,"display_name":"Sametcey"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1690970429,"creation_date":1690970429,"answer_id":76818762,"question_id":76818629,"body_markdown":"If i understand your question so you can try like this for Example:\r\n\r\n    ArrayList&lt;String&gt; list1 = new ArrayList&lt;&gt;();\r\n    list1.add(&quot;MON&quot;);\r\n    list1.add(&quot;WED&quot;);\r\n    list1.add(&quot;THU&quot;);\r\n    list1.add(&quot;SAT&quot;);\r\n    list1.add(&quot;SUN&quot;);\r\n    \r\n    ArrayList&lt;String&gt; list2 = DBmanager.getList2();\r\n    // Assuming list2 = {&quot;MON&quot;, &quot;WED&quot;, &quot;THU&quot;, &quot;FRI&quot;, &quot;SAT&quot; }\r\n    \r\n    ArrayList&lt;String&gt; list3 = DBmanager.getList3();\r\n    // Assuming list3 = {&quot;MON&quot;, &quot;TUE&quot;, &quot;THU&quot;, &quot;SAT&quot; }\r\n\r\nthen you can search in the Lists like them:\r\n\r\n    ArrayList&lt;String&gt; missingInList1VsList2List3 = new ArrayList&lt;&gt;();\r\n    ArrayList&lt;String&gt; missingInList2VsList1List3 = new ArrayList&lt;&gt;();\r\n    ArrayList&lt;String&gt; missingInList3VsList1List2 = new ArrayList&lt;&gt;();\r\n    ArrayList&lt;String&gt; newInList1VsList2List3 = new ArrayList&lt;&gt;();\r\n    ArrayList&lt;String&gt; newInList2VsList1List3 = new ArrayList&lt;&gt;();\r\n    ArrayList&lt;String&gt; newInList3VsList1List2 = new ArrayList&lt;&gt;();\r\n    ArrayList&lt;String&gt; commonInList2List3 = new ArrayList&lt;&gt;();\r\n    \r\n    //Comparing list1 with list2 and list3\r\n    for (String day : list2) {\r\n        if (!list1.contains(day)) {\r\n            missingInList1VsList2List3.add(day);\r\n        } else {\r\n            commonInList2List3.add(day);\r\n        }\r\n    }\r\n    \r\n    for (String day : list3) {\r\n        if (!list1.contains(day)) {\r\n            missingInList1VsList2List3.add(day);\r\n        } else {\r\n            commonInList2List3.add(day);\r\n        }\r\n    }\r\n    \r\n    //Comparing list2 with list1 and list3\r\n    for (String day : list1) {\r\n        if (!list2.contains(day)) {\r\n            missingInList2VsList1List3.add(day);\r\n        }\r\n    }\r\n    \r\n    for (String day : list3) {\r\n        if (!list2.contains(day)) {\r\n            missingInList2VsList1List3.add(day);\r\n        }\r\n    }\r\n    \r\n    // Comparing list3 with list1 and list2\r\n    for (String day : list1) {\r\n        if (!list3.contains(day)) {\r\n            missingInList3VsList1List2.add(day);\r\n        }\r\n    }\r\n    \r\n    for (String day : list2) {\r\n        if (!list3.contains(day)) {\r\n            missingInList3VsList1List2.add(day);\r\n        }\r\n    }\r\n    \r\n    // Find new days in list1, list2, and list3\r\n    for (String day : list1) {\r\n        if (!list2.contains(day) &amp;&amp; !list3.contains(day)) {\r\n            newInList1VsList2List3.add(day);\r\n        }\r\n    }\r\n    \r\n    for (String day : list2) {\r\n        if (!list1.contains(day) &amp;&amp; !list3.contains(day)) {\r\n            newInList2VsList1List3.add(day);\r\n        }\r\n    }\r\n    \r\n    for (String day : list3) {\r\n        if (!list1.contains(day) &amp;&amp; !list2.contains(day)) {\r\n            newInList3VsList1List2.add(day);\r\n        }\r\n    }\r\n\r\nif you want to output them:\r\n\r\n    System.out.println(&quot;Missing in list1 vs list2 and list3: &quot; + missingInList1VsList2List3);\r\n    System.out.println(&quot;Missing in list2 vs list1 and list3: &quot; + missingInList2VsList1List3);\r\n    System.out.println(&quot;Missing in list3 vs list1 and list2: &quot; + missingInList3VsList1List2);\r\n    System.out.println(&quot;New in list1 vs list2 and list3: &quot; + newInList1VsList2List3);\r\n    System.out.println(&quot;New in list2 vs list1 and list3: &quot; + newInList2VsList1List3);\r\n    System.out.println(&quot;New in list3 vs list1 and list2: &quot; + newInList3VsList1List2);\r\n    System.out.println(&quot;Common in list2 and list3: &quot; + commonInList2List3);","title":"How to compare three different Lists and get the differences, common?","body":"<p>If i understand your question so you can try like this for Example:</p>\n<pre><code>ArrayList&lt;String&gt; list1 = new ArrayList&lt;&gt;();\nlist1.add(&quot;MON&quot;);\nlist1.add(&quot;WED&quot;);\nlist1.add(&quot;THU&quot;);\nlist1.add(&quot;SAT&quot;);\nlist1.add(&quot;SUN&quot;);\n\nArrayList&lt;String&gt; list2 = DBmanager.getList2();\n// Assuming list2 = {&quot;MON&quot;, &quot;WED&quot;, &quot;THU&quot;, &quot;FRI&quot;, &quot;SAT&quot; }\n\nArrayList&lt;String&gt; list3 = DBmanager.getList3();\n// Assuming list3 = {&quot;MON&quot;, &quot;TUE&quot;, &quot;THU&quot;, &quot;SAT&quot; }\n</code></pre>\n<p>then you can search in the Lists like them:</p>\n<pre><code>ArrayList&lt;String&gt; missingInList1VsList2List3 = new ArrayList&lt;&gt;();\nArrayList&lt;String&gt; missingInList2VsList1List3 = new ArrayList&lt;&gt;();\nArrayList&lt;String&gt; missingInList3VsList1List2 = new ArrayList&lt;&gt;();\nArrayList&lt;String&gt; newInList1VsList2List3 = new ArrayList&lt;&gt;();\nArrayList&lt;String&gt; newInList2VsList1List3 = new ArrayList&lt;&gt;();\nArrayList&lt;String&gt; newInList3VsList1List2 = new ArrayList&lt;&gt;();\nArrayList&lt;String&gt; commonInList2List3 = new ArrayList&lt;&gt;();\n\n//Comparing list1 with list2 and list3\nfor (String day : list2) {\n    if (!list1.contains(day)) {\n        missingInList1VsList2List3.add(day);\n    } else {\n        commonInList2List3.add(day);\n    }\n}\n\nfor (String day : list3) {\n    if (!list1.contains(day)) {\n        missingInList1VsList2List3.add(day);\n    } else {\n        commonInList2List3.add(day);\n    }\n}\n\n//Comparing list2 with list1 and list3\nfor (String day : list1) {\n    if (!list2.contains(day)) {\n        missingInList2VsList1List3.add(day);\n    }\n}\n\nfor (String day : list3) {\n    if (!list2.contains(day)) {\n        missingInList2VsList1List3.add(day);\n    }\n}\n\n// Comparing list3 with list1 and list2\nfor (String day : list1) {\n    if (!list3.contains(day)) {\n        missingInList3VsList1List2.add(day);\n    }\n}\n\nfor (String day : list2) {\n    if (!list3.contains(day)) {\n        missingInList3VsList1List2.add(day);\n    }\n}\n\n// Find new days in list1, list2, and list3\nfor (String day : list1) {\n    if (!list2.contains(day) &amp;&amp; !list3.contains(day)) {\n        newInList1VsList2List3.add(day);\n    }\n}\n\nfor (String day : list2) {\n    if (!list1.contains(day) &amp;&amp; !list3.contains(day)) {\n        newInList2VsList1List3.add(day);\n    }\n}\n\nfor (String day : list3) {\n    if (!list1.contains(day) &amp;&amp; !list2.contains(day)) {\n        newInList3VsList1List2.add(day);\n    }\n}\n</code></pre>\n<p>if you want to output them:</p>\n<pre><code>System.out.println(&quot;Missing in list1 vs list2 and list3: &quot; + missingInList1VsList2List3);\nSystem.out.println(&quot;Missing in list2 vs list1 and list3: &quot; + missingInList2VsList1List3);\nSystem.out.println(&quot;Missing in list3 vs list1 and list2: &quot; + missingInList3VsList1List2);\nSystem.out.println(&quot;New in list1 vs list2 and list3: &quot; + newInList1VsList2List3);\nSystem.out.println(&quot;New in list2 vs list1 and list3: &quot; + newInList2VsList1List3);\nSystem.out.println(&quot;New in list3 vs list1 and list2: &quot; + newInList3VsList1List2);\nSystem.out.println(&quot;Common in list2 and list3: &quot; + commonInList2List3);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690983274,"creation_date":1690983274,"answer_id":76820449,"question_id":76818629,"body_markdown":"You can use `removeAll()` and `retainAll()` methods of `Collection`.\r\n\r\n```java\r\n    public static void main(String... args) {\r\n        List&lt;String&gt; one = List.of(&quot;MON&quot;, &quot;WED&quot;, &quot;THU&quot;, &quot;SAT&quot;, &quot;SUN&quot;);\r\n        List&lt;String&gt; two = List.of(&quot;MON&quot;, &quot;WED&quot;, &quot;THU&quot;, &quot;FRI&quot;, &quot;SAT&quot;);\r\n        List&lt;String&gt; three = List.of(&quot;MON&quot;, &quot;TUE&quot;, &quot;THU&quot;, &quot;SAT&quot;);\r\n\r\n        String oneName = &quot;list1&quot;;\r\n        String twoName = &quot;list2&quot;;\r\n        String threeName = &quot;list3&quot;;\r\n\r\n        System.out.println(oneName + &quot;: &quot; + one);\r\n        System.out.println(twoName + &quot;: &quot; + two);\r\n        System.out.println(threeName + &quot;: &quot; + three);\r\n\r\n        System.out.println();\r\n\r\n        print(one, oneName, two, twoName, three, threeName);\r\n    }\r\n\r\n    public static void print(List&lt;String&gt; one, String oneName,\r\n                             List&lt;String&gt; two, String twoName,\r\n                             List&lt;String&gt; three, String threeName) {\r\n        printMissing(one, oneName, two, twoName, three, threeName);\r\n        printMissing(two, twoName, one, oneName, three, threeName);\r\n        printMissing(three, threeName, one, oneName, two, twoName);\r\n\r\n        printNew(one, oneName, two, twoName, three, threeName);\r\n        printNew(two, twoName, one, oneName, three, threeName);\r\n        printNew(three, threeName, one, oneName, two, twoName);\r\n\r\n        printCommon(three, threeName, one, oneName, two, twoName);\r\n    }\r\n\r\n    private static void printMissing(List&lt;String&gt; one, String oneName,\r\n                                     List&lt;String&gt; two, String twoName,\r\n                                     List&lt;String&gt; three, String threeName) {\r\n        print(&quot;Missing&quot;, oneName, twoName, threeName, () -&gt; {\r\n            List&lt;String&gt; res = new ArrayList&lt;&gt;(two);\r\n            res.addAll(three);\r\n            res.removeAll(one);\r\n            return res;\r\n        });\r\n    }\r\n\r\n    private static void printNew(List&lt;String&gt; one, String oneName,\r\n                                 List&lt;String&gt; two, String twoName,\r\n                                 List&lt;String&gt; three, String threeName) {\r\n        print(&quot;New&quot;, oneName, twoName, threeName, () -&gt; {\r\n            List&lt;String&gt; res = new ArrayList&lt;&gt;(one);\r\n            res.removeAll(two);\r\n            res.removeAll(three);\r\n            return res;\r\n        });\r\n    }\r\n\r\n    private static void printCommon(List&lt;String&gt; one, String oneName,\r\n                                    List&lt;String&gt; two, String twoName,\r\n                                    List&lt;String&gt; three, String threeName) {\r\n        print(&quot;Common&quot;, oneName, twoName, threeName, () -&gt; {\r\n            List&lt;String&gt; res = new ArrayList&lt;&gt;(one);\r\n            res.retainAll(two);\r\n            res.retainAll(three);\r\n            return res;\r\n        });\r\n    }\r\n\r\n    private static void print(String action,\r\n                              String oneName,\r\n                              String twoName,\r\n                              String threeName,\r\n                              Supplier&lt;List&lt;String&gt;&gt; result) {\r\n        List&lt;String&gt; res = result.get();\r\n\r\n        if (!res.isEmpty()) {\r\n            System.out.format(&quot;%s in %s vs %s and %s: %s\\n&quot;,\r\n                              action, oneName, twoName, threeName, res);\r\n        }\r\n    }\r\n```\r\n\r\nOutput:\r\n```\r\nlist1: [MON, WED, THU, SAT, SUN]\r\nlist2: [MON, WED, THU, FRI, SAT]\r\nlist3: [MON, TUE, THU, SAT]\r\n\r\nMissing in list1 vs list2 and list3: [FRI, TUE]\r\nMissing in list2 vs list1 and list3: [SUN, TUE]\r\nMissing in list3 vs list1 and list2: [WED, SUN, WED, FRI]\r\nNew in list1 vs list2 and list3: [SUN]\r\nNew in list2 vs list1 and list3: [FRI]\r\nNew in list3 vs list1 and list2: [TUE]\r\nCommon in list3 vs list1 and list2: [MON, THU, SAT]\r\n```\r\n","title":"How to compare three different Lists and get the differences, common?","body":"<p>You can use <code>removeAll()</code> and <code>retainAll()</code> methods of <code>Collection</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static void main(String... args) {\n        List&lt;String&gt; one = List.of(&quot;MON&quot;, &quot;WED&quot;, &quot;THU&quot;, &quot;SAT&quot;, &quot;SUN&quot;);\n        List&lt;String&gt; two = List.of(&quot;MON&quot;, &quot;WED&quot;, &quot;THU&quot;, &quot;FRI&quot;, &quot;SAT&quot;);\n        List&lt;String&gt; three = List.of(&quot;MON&quot;, &quot;TUE&quot;, &quot;THU&quot;, &quot;SAT&quot;);\n\n        String oneName = &quot;list1&quot;;\n        String twoName = &quot;list2&quot;;\n        String threeName = &quot;list3&quot;;\n\n        System.out.println(oneName + &quot;: &quot; + one);\n        System.out.println(twoName + &quot;: &quot; + two);\n        System.out.println(threeName + &quot;: &quot; + three);\n\n        System.out.println();\n\n        print(one, oneName, two, twoName, three, threeName);\n    }\n\n    public static void print(List&lt;String&gt; one, String oneName,\n                             List&lt;String&gt; two, String twoName,\n                             List&lt;String&gt; three, String threeName) {\n        printMissing(one, oneName, two, twoName, three, threeName);\n        printMissing(two, twoName, one, oneName, three, threeName);\n        printMissing(three, threeName, one, oneName, two, twoName);\n\n        printNew(one, oneName, two, twoName, three, threeName);\n        printNew(two, twoName, one, oneName, three, threeName);\n        printNew(three, threeName, one, oneName, two, twoName);\n\n        printCommon(three, threeName, one, oneName, two, twoName);\n    }\n\n    private static void printMissing(List&lt;String&gt; one, String oneName,\n                                     List&lt;String&gt; two, String twoName,\n                                     List&lt;String&gt; three, String threeName) {\n        print(&quot;Missing&quot;, oneName, twoName, threeName, () -&gt; {\n            List&lt;String&gt; res = new ArrayList&lt;&gt;(two);\n            res.addAll(three);\n            res.removeAll(one);\n            return res;\n        });\n    }\n\n    private static void printNew(List&lt;String&gt; one, String oneName,\n                                 List&lt;String&gt; two, String twoName,\n                                 List&lt;String&gt; three, String threeName) {\n        print(&quot;New&quot;, oneName, twoName, threeName, () -&gt; {\n            List&lt;String&gt; res = new ArrayList&lt;&gt;(one);\n            res.removeAll(two);\n            res.removeAll(three);\n            return res;\n        });\n    }\n\n    private static void printCommon(List&lt;String&gt; one, String oneName,\n                                    List&lt;String&gt; two, String twoName,\n                                    List&lt;String&gt; three, String threeName) {\n        print(&quot;Common&quot;, oneName, twoName, threeName, () -&gt; {\n            List&lt;String&gt; res = new ArrayList&lt;&gt;(one);\n            res.retainAll(two);\n            res.retainAll(three);\n            return res;\n        });\n    }\n\n    private static void print(String action,\n                              String oneName,\n                              String twoName,\n                              String threeName,\n                              Supplier&lt;List&lt;String&gt;&gt; result) {\n        List&lt;String&gt; res = result.get();\n\n        if (!res.isEmpty()) {\n            System.out.format(&quot;%s in %s vs %s and %s: %s\\n&quot;,\n                              action, oneName, twoName, threeName, res);\n        }\n    }\n</code></pre>\n<p>Output:</p>\n<pre><code>list1: [MON, WED, THU, SAT, SUN]\nlist2: [MON, WED, THU, FRI, SAT]\nlist3: [MON, TUE, THU, SAT]\n\nMissing in list1 vs list2 and list3: [FRI, TUE]\nMissing in list2 vs list1 and list3: [SUN, TUE]\nMissing in list3 vs list1 and list2: [WED, SUN, WED, FRI]\nNew in list1 vs list2 and list3: [SUN]\nNew in list2 vs list1 and list3: [FRI]\nNew in list3 vs list1 and list2: [TUE]\nCommon in list3 vs list1 and list2: [MON, THU, SAT]\n</code></pre>\n"}],"owner":{"account_id":18219875,"reputation":1,"user_id":13260854,"display_name":"tamilanban"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1691001589,"answer_count":2,"score":-1,"last_activity_date":1690983274,"creation_date":1690969466,"question_id":76818629,"body_markdown":"I have 3 ArrayLists. the first list is constant and always has 7 values (Days of a week).\r\n   \r\n   ```java\r\n   ArrayList&lt;String&gt; list1= new ArrayList&lt;String&gt;();\r\n   \r\n   list1.add(&quot;MON&quot;);\r\n   list1.add(&quot;WED&quot;);\r\n   list1.add(&quot;THU&quot;);\r\n   list1.add(&quot;SAT&quot;);\r\n   list1.add(&quot;SUN&quot;); The second ArrayList is a collection of Days\r\n   \r\n   ArrayList&lt;String&gt; list2 = DBmanager.getList2();\r\n   \r\n   // list2 = {&quot;MON&quot;, &quot;WED&quot;, &quot;THU&quot;, &quot;FRI&quot;, &quot;SAT&quot; } \r\n```\r\n\r\nThe 3rd ArryList is also a collection of Days\r\n   \r\n   ```java\r\n   ArrayList&lt;String&gt; list3 = DBmanager.getList3();\r\n   \r\n   // list3 = {&quot;MON&quot;, &quot;TUE&quot;, &quot;THU&quot;, &quot;SAT&quot; } \r\n```\r\n\r\nNow, I have to compare all 3. Now I need to record the comparison result in  ArrayLists like\r\n   \r\n   ```none\r\n   MissinginList1VsList2List3  for example ans should be \r\n   [FRI:list2,TUE:list3] because list1 does not have fri and tue\r\n   MissinginList2VsList1List3 MissinginList3VsList1List2\r\n   NewinList1VsList2List3 NewinList2VsList1List3 NewinList3VsList1List2\r\n   commoninList1List2List3\r\n```\r\n   \r\nHow can I achieve this?","title":"How to compare three different Lists and get the differences, common?","body":"<p>I have 3 ArrayLists. the first list is constant and always has 7 values (Days of a week).</p>\n<pre class=\"lang-java prettyprint-override\"><code>ArrayList&lt;String&gt; list1= new ArrayList&lt;String&gt;();\n\nlist1.add(&quot;MON&quot;);\nlist1.add(&quot;WED&quot;);\nlist1.add(&quot;THU&quot;);\nlist1.add(&quot;SAT&quot;);\nlist1.add(&quot;SUN&quot;); The second ArrayList is a collection of Days\n\nArrayList&lt;String&gt; list2 = DBmanager.getList2();\n\n// list2 = {&quot;MON&quot;, &quot;WED&quot;, &quot;THU&quot;, &quot;FRI&quot;, &quot;SAT&quot; } \n</code></pre>\n<p>The 3rd ArryList is also a collection of Days</p>\n<pre class=\"lang-java prettyprint-override\"><code>ArrayList&lt;String&gt; list3 = DBmanager.getList3();\n\n// list3 = {&quot;MON&quot;, &quot;TUE&quot;, &quot;THU&quot;, &quot;SAT&quot; } \n</code></pre>\n<p>Now, I have to compare all 3. Now I need to record the comparison result in  ArrayLists like</p>\n<pre class=\"lang-none prettyprint-override\"><code>MissinginList1VsList2List3  for example ans should be \n[FRI:list2,TUE:list3] because list1 does not have fri and tue\nMissinginList2VsList1List3 MissinginList3VsList1List2\nNewinList1VsList2List3 NewinList2VsList1List3 NewinList3VsList1List2\ncommoninList1List2List3\n</code></pre>\n<p>How can I achieve this?</p>\n"},{"tags":["java","mysql","jdbc"],"comments":[{"owner":{"account_id":7373320,"reputation":17364,"user_id":5612858,"display_name":"Arnaud"},"score":0,"creation_date":1690982976,"post_id":76820380,"comment_id":135428786,"body_markdown":"Please add the relevant parts of your code.","body":"Please add the relevant parts of your code."},{"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1690983188,"post_id":76820380,"comment_id":135428847,"body_markdown":"Why would it show a table name? The data in the column created by `GROUP_CONCAT` does not have an underlying table. As the [documentation](https://docs.oracle.com/en/java/javase/17/docs/api/java.sql/java/sql/ResultSetMetaData.html#getTableName(int)) says _&quot;Returns: table name or &quot;&quot; if not applicable&quot;_. In all the years I have worked with JDBC, I have probably only needed to know the table name of a column once, so are you actually sure you *really* need it.","body":"Why would it show a table name? The data in the column created by <code>GROUP_CONCAT</code> does not have an underlying table. As the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.sql/java/sql/ResultSetMetaData.html#getTableName(int)\" rel=\"nofollow noreferrer\">documentation</a> says <i>&quot;Returns: table name or &quot;&quot; if not applicable&quot;</i>. In all the years I have worked with JDBC, I have probably only needed to know the table name of a column once, so are you actually sure you <i>really</i> need it."},{"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1690983270,"post_id":76820380,"comment_id":135428859,"body_markdown":"And `GROUP_CONCAT` returning less rows is entirely expected, as it is an aggregate function, aggregating a group of rows into a single row.","body":"And <code>GROUP_CONCAT</code> returning less rows is entirely expected, as it is an aggregate function, aggregating a group of rows into a single row."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1691757281,"post_id":76820380,"comment_id":135538527,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":24009502,"reputation":1,"user_id":17993268,"display_name":"Mario"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690983109,"creation_date":1690982834,"question_id":76820380,"body_markdown":"Can someone please explain to me what is going on? Just removing the group_concat function fixes the issue, but in this particular case I need it, alongside the table names in Java. Also, for some reason, it&#180;s returning less rows then without group_concat.\r\n\r\nI tried removing group_concat and editing it differently with group by and nothing happened.\r\n","title":"ResultSetMetadata returning blank table names when using Group Concat?","body":"<p>Can someone please explain to me what is going on? Just removing the group_concat function fixes the issue, but in this particular case I need it, alongside the table names in Java. Also, for some reason, its returning less rows then without group_concat.</p>\n<p>I tried removing group_concat and editing it differently with group by and nothing happened.</p>\n"},{"tags":["java","spring","email","transactions"],"answers":[{"tags":[],"owner":{"account_id":7061,"reputation":2451,"user_id":12067,"accept_rate":93,"display_name":"guigui42"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1291280869,"creation_date":1291280869,"answer_id":4333285,"question_id":4331388,"body_markdown":"To send emails, it is recommanded to use a Queue and schedule the emails to be send like every 5 or 15 minutes.\r\nThe queue will be stored in the database, therefor within the transaction. Then schedule a procedure to  send email from that Queue at regular interval.\r\n\r\nIts the only way i found to make sure the email is sent only when the transaction is coompleted and commited, since emails by definition are not tied to any kind of database transactions.","title":"Transaction and sending an email","body":"<p>To send emails, it is recommanded to use a Queue and schedule the emails to be send like every 5 or 15 minutes.\nThe queue will be stored in the database, therefor within the transaction. Then schedule a procedure to  send email from that Queue at regular interval.</p>\n\n<p>Its the only way i found to make sure the email is sent only when the transaction is coompleted and commited, since emails by definition are not tied to any kind of database transactions.</p>\n"},{"tags":[],"owner":{"account_id":253594,"reputation":1,"user_id":532427,"display_name":"user532427"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1291648917,"creation_date":1291648917,"answer_id":4367875,"question_id":4331388,"body_markdown":"I would add a lightweight JMS layer like ActiveMQ for the email, it is pretty easy to setup and integrates (and even embeds) with Spring. Then you have\r\n\r\n1) User creation transaction &amp; send of JMS message happening in 1 transaction. If either fails you&#39;re still in a good state (both commit or both rollback and you present an error to the user)\r\n\r\n2) If the JMS consumer fails to send the email you can setup the JMS queue to retry a few times and you&#39;ll have a better solution for managing transient problems with your email system. ","title":"Transaction and sending an email","body":"<p>I would add a lightweight JMS layer like ActiveMQ for the email, it is pretty easy to setup and integrates (and even embeds) with Spring. Then you have</p>\n\n<p>1) User creation transaction &amp; send of JMS message happening in 1 transaction. If either fails you're still in a good state (both commit or both rollback and you present an error to the user)</p>\n\n<p>2) If the JMS consumer fails to send the email you can setup the JMS queue to retry a few times and you'll have a better solution for managing transient problems with your email system. </p>\n"},{"tags":[],"owner":{"account_id":682239,"reputation":61,"user_id":537677,"display_name":"qtxo"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1291975101,"creation_date":1291975101,"answer_id":4407607,"question_id":4331388,"body_markdown":"Another option I am currently using to solve this problem:\r\n\r\nhttp://download.oracle.com/javaee/6/api/javax/transaction/Synchronization.html\r\n ","title":"Transaction and sending an email","body":"<p>Another option I am currently using to solve this problem:</p>\n\n<p><a href=\"http://download.oracle.com/javaee/6/api/javax/transaction/Synchronization.html\" rel=\"noreferrer\">http://download.oracle.com/javaee/6/api/javax/transaction/Synchronization.html</a></p>\n"},{"tags":[],"owner":{"account_id":2368861,"reputation":1591,"user_id":2073963,"display_name":"wonhee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1361319417,"creation_date":1361319417,"answer_id":14970105,"question_id":4331388,"body_markdown":"Queuing with database table and run scheduling program with Quartz or something like whould be reasonable and easy to implement. \r\n\r\nIt&#39;s also good idea to use RabbitMQ for those feature development. RabbitMQ is quite easy to configure and can be used for the most of the case for publish/subscribe interworking betwen systems even though you may need to implement application level ack and small apps that subscribes messages from RabbitMQ and send email through SMTP.\r\n\r\nIt may sounds overkill, but you can use this #2 solution for every system that requires email send in the future. You can still use database queue based model for this, but will use expensive database cpu/resources for to send emmail.","title":"Transaction and sending an email","body":"<p>Queuing with database table and run scheduling program with Quartz or something like whould be reasonable and easy to implement. </p>\n\n<p>It's also good idea to use RabbitMQ for those feature development. RabbitMQ is quite easy to configure and can be used for the most of the case for publish/subscribe interworking betwen systems even though you may need to implement application level ack and small apps that subscribes messages from RabbitMQ and send email through SMTP.</p>\n\n<p>It may sounds overkill, but you can use this #2 solution for every system that requires email send in the future. You can still use database queue based model for this, but will use expensive database cpu/resources for to send emmail.</p>\n"},{"tags":[],"owner":{"account_id":29144744,"reputation":1,"user_id":22326932,"display_name":"zymarev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690982964,"creation_date":1690982964,"answer_id":76820395,"question_id":4331388,"body_markdown":"You can use event-based approach.\r\n1. Publish event via spring event published from transaction\r\n2. Create @TransactionalEventListener to handle this event and send email here\r\n@TransactionalEventListener supports different transaction phase (AFTER_COMMIT by default)\r\nIn this case you could be sure that email will be sent only if transaction is commited","title":"Transaction and sending an email","body":"<p>You can use event-based approach.</p>\n<ol>\n<li>Publish event via spring event published from transaction</li>\n<li>Create @TransactionalEventListener to handle this event and send email here\n@TransactionalEventListener supports different transaction phase (AFTER_COMMIT by default)\nIn this case you could be sure that email will be sent only if transaction is commited</li>\n</ol>\n"}],"owner":{"account_id":108548,"reputation":2266,"user_id":288052,"accept_rate":80,"display_name":"Spiff"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6834,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":5,"score":7,"last_activity_date":1690982964,"creation_date":1291260621,"question_id":4331388,"body_markdown":"Considering the common use case of a user creating a new account on a web application and the application sending a confirmation email to the user&#39;s address.  From what I&#39;ve seen, this is typically implemented in one of 3 ways:\r\n\r\n1. The web controller calls a service method, which creates the user account and sends the email, both within a single transaction.\r\n2. The web controller calls a service method (with tx propagation = never), which invokes a 1st method on itself to create the user account within a transaction, and then invokes a 2nd method on itself to send the email.\r\n3. The web controller calls a 1st service method, which creates the user account within a transaction, then a 2nd service method that sends the email.\r\n\r\nThe 1st approach is simple and straightforward, but there is a risk that the transaction is rolled back after the email was sent, thereby making the email invalid. The 2nd approach is more complicated, but it guarantees that the email is sent only if user creation has actually succeeded.  The 3rd approach is simple but burdens the web layer with business logic that it shouldn&#39;t need to know.\r\n\r\nIsn&#39;t there a simpler approach, maybe AOP-driven, that guarantees that the email will be sent only if the user creation transaction actually succeeded?  Am I paranoid in thinking that the 1st approach could fail?\r\n\r\nWe&#39;re using a Java EE + Spring stack and are willing to integrate additional APIs (AOP? Spring Integration?) to achieve this.\r\n\r\nCheers!\r\n","title":"Transaction and sending an email","body":"<p>Considering the common use case of a user creating a new account on a web application and the application sending a confirmation email to the user's address.  From what I've seen, this is typically implemented in one of 3 ways:</p>\n\n<ol>\n<li>The web controller calls a service method, which creates the user account and sends the email, both within a single transaction.</li>\n<li>The web controller calls a service method (with tx propagation = never), which invokes a 1st method on itself to create the user account within a transaction, and then invokes a 2nd method on itself to send the email.</li>\n<li>The web controller calls a 1st service method, which creates the user account within a transaction, then a 2nd service method that sends the email.</li>\n</ol>\n\n<p>The 1st approach is simple and straightforward, but there is a risk that the transaction is rolled back after the email was sent, thereby making the email invalid. The 2nd approach is more complicated, but it guarantees that the email is sent only if user creation has actually succeeded.  The 3rd approach is simple but burdens the web layer with business logic that it shouldn't need to know.</p>\n\n<p>Isn't there a simpler approach, maybe AOP-driven, that guarantees that the email will be sent only if the user creation transaction actually succeeded?  Am I paranoid in thinking that the 1st approach could fail?</p>\n\n<p>We're using a Java EE + Spring stack and are willing to integrate additional APIs (AOP? Spring Integration?) to achieve this.</p>\n\n<p>Cheers!</p>\n"},{"tags":["java","spring-boot","spring-batch"],"answers":[{"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690969281,"creation_date":1690969281,"answer_id":76818608,"question_id":76814435,"body_markdown":"This error means you are passing a `null` `filePath` here:\r\n\r\n```\r\nreader.setResource(new FileSystemResource(filePath));\r\n```\r\n\r\nMake sure the job parameter is correctly passed to the job.","title":"Getting: Path must not be null while passing parameters to ItemReader in Spring Batch","body":"<p>This error means you are passing a <code>null</code> <code>filePath</code> here:</p>\n<pre><code>reader.setResource(new FileSystemResource(filePath));\n</code></pre>\n<p>Make sure the job parameter is correctly passed to the job.</p>\n"}],"owner":{"account_id":427236,"reputation":2707,"user_id":808891,"accept_rate":97,"display_name":"Somebody"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":194,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76818608,"answer_count":1,"score":0,"last_activity_date":1690982863,"creation_date":1690915612,"question_id":76814435,"body_markdown":"I have a spring boot with spring batch application that is giving me below error:\r\n\r\n    8161 [01 Aug 2023 12:25:02.580] ERROR server01 [main] org.springframework.batch.core.step.AbstractStep - Encountered an error executing step step in job importUserJob\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;scopedTarget.reader&#39; defined in class path resource [com/batch/BatchConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.beanio.spring.BeanIOFlatFileItemReader]: Factory method &#39;reader&#39; threw exception; nested exception is java.lang.IllegalArgumentException: Path must not be null\r\n\r\n\r\n**BatchConfiguration.java**\r\n       \r\n        @Bean\r\n        @StepScope\r\n        public BeanIOFlatFileItemReader&lt;Contact&gt; reader(@Value(&quot;#{jobParameters[&#39;filePath&#39;]}&quot;) String filePath) {    \t    \t\r\n        \t\r\n        \tBeanIOFlatFileItemReader&lt;Contact&gt; reader = new BeanIOFlatFileItemReader&lt;&gt;();    \t\r\n        \treader.setUseSpringExceptions(true);\r\n    \t\treader.setResource(new FileSystemResource(filePath));    \t\t\r\n    \t\treader.setStreamName(inputContactStreamName);\r\n    \t\treader.setStreamMapping(new ClassPathResource(beanIoConfigurationXmlPath));\r\n    \t\treader.setStreamFactory(StreamFactory.newInstance());\r\n    \t\treader.getLineNumber();\r\n        \t\r\n        \treturn reader;    \t\r\n        }\r\n\r\n\r\nAny idea on why that error is coming and how to solve it?","title":"Getting: Path must not be null while passing parameters to ItemReader in Spring Batch","body":"<p>I have a spring boot with spring batch application that is giving me below error:</p>\n<pre><code>8161 [01 Aug 2023 12:25:02.580] ERROR server01 [main] org.springframework.batch.core.step.AbstractStep - Encountered an error executing step step in job importUserJob\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'scopedTarget.reader' defined in class path resource [com/batch/BatchConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.beanio.spring.BeanIOFlatFileItemReader]: Factory method 'reader' threw exception; nested exception is java.lang.IllegalArgumentException: Path must not be null\n</code></pre>\n<p><strong>BatchConfiguration.java</strong></p>\n<pre><code>    @Bean\n    @StepScope\n    public BeanIOFlatFileItemReader&lt;Contact&gt; reader(@Value(&quot;#{jobParameters['filePath']}&quot;) String filePath) {               \n        \n        BeanIOFlatFileItemReader&lt;Contact&gt; reader = new BeanIOFlatFileItemReader&lt;&gt;();        \n        reader.setUseSpringExceptions(true);\n        reader.setResource(new FileSystemResource(filePath));           \n        reader.setStreamName(inputContactStreamName);\n        reader.setStreamMapping(new ClassPathResource(beanIoConfigurationXmlPath));\n        reader.setStreamFactory(StreamFactory.newInstance());\n        reader.getLineNumber();\n        \n        return reader;      \n    }\n</code></pre>\n<p>Any idea on why that error is coming and how to solve it?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9721,"page":271,"page_size":100}
