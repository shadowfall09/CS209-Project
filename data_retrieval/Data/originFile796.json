{"items":[{"tags":["java","spring","configuration","swagger","openapi"],"answers":[{"tags":[],"owner":{"account_id":1190548,"reputation":4725,"user_id":1163457,"accept_rate":91,"display_name":"dtrunk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671456996,"creation_date":1671456996,"answer_id":74851298,"question_id":73028742,"body_markdown":"You&#39;re getting this because it can&#39;t access `/v3/api-docs/swagger-config`. You should configure Spring Security to permit access to `/v3/api-docs/**`.\r\n\r\nFor Webflux this would be:\r\n```java\r\n@Configuration\r\npublic class SecurityConfiguration {\r\n    @Bean\r\n    public SecurityWebFilterChain securityWebFilterChain(final ServerHttpSecurity http) {\r\n        http\r\n            .authorizeExchange()\r\n                .pathMatchers(&quot;/actuator/**&quot;, &quot;/webjars/swagger-ui/**&quot;, &quot;/swagger-ui.html&quot;, &quot;/v3/api-docs/**&quot;).permitAll()\r\n                .anyExchange().authenticated()\r\n                .and()\r\n            .oauth2ResourceServer().jwt();\r\n\r\n        return http.build();\r\n    }\r\n}\r\n```","title":"Issue with Authorization (401) with Bearer JWT token using latest OpenAPI / Swagger UI | Spring Boot","body":"<p>You're getting this because it can't access <code>/v3/api-docs/swagger-config</code>. You should configure Spring Security to permit access to <code>/v3/api-docs/**</code>.</p>\n<p>For Webflux this would be:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class SecurityConfiguration {\n    @Bean\n    public SecurityWebFilterChain securityWebFilterChain(final ServerHttpSecurity http) {\n        http\n            .authorizeExchange()\n                .pathMatchers(&quot;/actuator/**&quot;, &quot;/webjars/swagger-ui/**&quot;, &quot;/swagger-ui.html&quot;, &quot;/v3/api-docs/**&quot;).permitAll()\n                .anyExchange().authenticated()\n                .and()\n            .oauth2ResourceServer().jwt();\n\n        return http.build();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25839083,"reputation":1,"user_id":19574964,"display_name":"Dylan McDungis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":891,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671456996,"creation_date":1658179071,"question_id":73028742,"body_markdown":"I&#39;m upgrading from Swagger 2.9.2 to -&gt; OpenAPI / Springdocs (1.6.9) and it&#39;s built-in Swagger UI (version 4.10.3). Using the following code *was* working perfectly fine with Swagger 2, allowing the token to be passed along without any issue:\r\n\r\n**OLD SWAGGER 2 CONFIGURATION CLASS:**\r\n\r\n    ...\r\n    @Configuration\r\n    @EnableSwagger2\r\n    public class SwaggerConfig {\r\n\r\n    @Bean\r\n    public Docket docket() {\r\n        return new Docket(DocumentationType.SWAGGER_2)\r\n                .select()\r\n                .apis(RequestHandlerSelectors.basePackage(&quot;com.program.programName&quot;))\r\n                .build()\r\n                .globalRequestParameters(defaultParams());\r\n    }\r\n\r\n    private List&lt;RequestParameter&gt; defaultParams() {\r\n        return Collections.singletonList(\r\n                new RequestParameterBuilder()\r\n                        .name(&quot;Authorization&quot;)\r\n                        .description(&quot;auth token&quot;)\r\n                        .in(ParameterType.HEADER)\r\n                        .required(true)\r\n                        .build());\r\n      }\r\n    }\r\n\r\nHere&#39;s the new configuration class which I added based on OpenAPI&#39;s own documentation, unfortunately it doesn&#39;t seem to work. I&#39;ll also post a screenshot of the exact error I&#39;m seeing when trying to access the /swagger-config json data:\r\n\r\n**NEW CONFIGURATION (NOT WORKING):**\r\n\r\n    ...    \r\n    @Configuration\r\n    @ComponentScan(basePackages = {&quot;com.program.programName&quot;})\r\n    public class SwaggerConfig {\r\n\r\n    @Bean\r\n    public OpenAPI openAPI() {\r\n        return new OpenAPI()\r\n                .info(new Info()\r\n                        .title(&quot;Program API&quot;)\r\n                        .description(&quot;Application&quot;)\r\n                        .version(&quot;v0.0.1&quot;))\r\n                .components(new Components()\r\n                        .addSecuritySchemes(&quot;bearerAuth&quot;,\r\n                                new SecurityScheme()\r\n                                        .type(SecurityScheme.Type.HTTP)\r\n                                        .scheme(&quot;bearer&quot;)\r\n                                        .bearerFormat(&quot;JWT&quot;))\r\n                        .addHeaders(&quot;Authorization&quot;,\r\n                                new Header()\r\n                                        .description(&quot;auth token&quot;)\r\n                                        .required(true)));\r\n      }\r\n    }\r\n[Image of the 401 error trying to get /swagger-config data][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bGUHb.png\r\n\r\nAs you can see in ^that screenshot, I&#39;m getting this &quot;Failed to load remote configuration.&quot; error on the main swagger page. Any help would be appreciated.","title":"Issue with Authorization (401) with Bearer JWT token using latest OpenAPI / Swagger UI | Spring Boot","body":"<p>I'm upgrading from Swagger 2.9.2 to -&gt; OpenAPI / Springdocs (1.6.9) and it's built-in Swagger UI (version 4.10.3). Using the following code <em>was</em> working perfectly fine with Swagger 2, allowing the token to be passed along without any issue:</p>\n<p><strong>OLD SWAGGER 2 CONFIGURATION CLASS:</strong></p>\n<pre><code>...\n@Configuration\n@EnableSwagger2\npublic class SwaggerConfig {\n\n@Bean\npublic Docket docket() {\n    return new Docket(DocumentationType.SWAGGER_2)\n            .select()\n            .apis(RequestHandlerSelectors.basePackage(&quot;com.program.programName&quot;))\n            .build()\n            .globalRequestParameters(defaultParams());\n}\n\nprivate List&lt;RequestParameter&gt; defaultParams() {\n    return Collections.singletonList(\n            new RequestParameterBuilder()\n                    .name(&quot;Authorization&quot;)\n                    .description(&quot;auth token&quot;)\n                    .in(ParameterType.HEADER)\n                    .required(true)\n                    .build());\n  }\n}\n</code></pre>\n<p>Here's the new configuration class which I added based on OpenAPI's own documentation, unfortunately it doesn't seem to work. I'll also post a screenshot of the exact error I'm seeing when trying to access the /swagger-config json data:</p>\n<p><strong>NEW CONFIGURATION (NOT WORKING):</strong></p>\n<pre><code>...    \n@Configuration\n@ComponentScan(basePackages = {&quot;com.program.programName&quot;})\npublic class SwaggerConfig {\n\n@Bean\npublic OpenAPI openAPI() {\n    return new OpenAPI()\n            .info(new Info()\n                    .title(&quot;Program API&quot;)\n                    .description(&quot;Application&quot;)\n                    .version(&quot;v0.0.1&quot;))\n            .components(new Components()\n                    .addSecuritySchemes(&quot;bearerAuth&quot;,\n                            new SecurityScheme()\n                                    .type(SecurityScheme.Type.HTTP)\n                                    .scheme(&quot;bearer&quot;)\n                                    .bearerFormat(&quot;JWT&quot;))\n                    .addHeaders(&quot;Authorization&quot;,\n                            new Header()\n                                    .description(&quot;auth token&quot;)\n                                    .required(true)));\n  }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/bGUHb.png\" rel=\"nofollow noreferrer\">Image of the 401 error trying to get /swagger-config data</a></p>\n<p>As you can see in ^that screenshot, I'm getting this &quot;Failed to load remote configuration.&quot; error on the main swagger page. Any help would be appreciated.</p>\n"},{"tags":["java","spring-boot","yaml","configmap","application.properties"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1671456690,"post_id":74851217,"comment_id":132096503,"body_markdown":"So if the values are dynamic why are they in application.yaml at all?","body":"So if the values are dynamic why are they in application.yaml at all?"},{"owner":{"account_id":740820,"reputation":47963,"user_id":2353911,"accept_rate":100,"display_name":"Mena"},"score":0,"creation_date":1671462415,"post_id":74851217,"comment_id":132098417,"body_markdown":"Not sure if this is the right direction but maybe consider using Spring profiles and annotate accordingly? Wouldn&#39;t be &quot;dynamic&quot; but might solve your use case nonetheless.","body":"Not sure if this is the right direction but maybe consider using Spring profiles and annotate accordingly? Wouldn&#39;t be &quot;dynamic&quot; but might solve your use case nonetheless."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1671471267,"post_id":74851217,"comment_id":132101636,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":11778223,"reputation":1,"user_id":8618842,"display_name":"yoganand raju"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":171,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671456512,"creation_date":1671456512,"question_id":74851217,"body_markdown":"How to override application.yaml or configmap.yaml property values dynamically or during runtime in springboot using java\r\n\r\ni am having 3 Boolean flags in application.yaml, by default A1,A2 will be false and i am introducing 3rd Boolean Z.\r\n\r\n1st scenario: if ZConnector.isEnable: ture means\r\n\r\nA1Connector.isEnable: true\r\nA2Connector.isEnable: false\r\n\r\n2nd scenario: if ZConnector.isEnable: false means\r\n\r\nA1Connector.isEnable: false\r\nA2Connector.isEnable: true\r\n\r\nonce the application is started means value should be override in application.yaml or configmap.yaml and maintain override value in full session.\r\n\r\nI tried using postconstruct method but the value is not maintained in the session, it is maintained in the implemented class only instead in session.","title":"How to override application.yaml or configmap.yaml dynamically","body":"<p>How to override application.yaml or configmap.yaml property values dynamically or during runtime in springboot using java</p>\n<p>i am having 3 Boolean flags in application.yaml, by default A1,A2 will be false and i am introducing 3rd Boolean Z.</p>\n<p>1st scenario: if ZConnector.isEnable: ture means</p>\n<p>A1Connector.isEnable: true\nA2Connector.isEnable: false</p>\n<p>2nd scenario: if ZConnector.isEnable: false means</p>\n<p>A1Connector.isEnable: false\nA2Connector.isEnable: true</p>\n<p>once the application is started means value should be override in application.yaml or configmap.yaml and maintain override value in full session.</p>\n<p>I tried using postconstruct method but the value is not maintained in the session, it is maintained in the implemented class only instead in session.</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1671447492,"post_id":74849414,"comment_id":132093872,"body_markdown":"there are still some errors to be resolved: what is being shown in the `Problems` view (`ALT-SHIFT-Q`,`X` or the left-most tab left of the console)","body":"there are still some errors to be resolved: what is being shown in the <code>Problems</code> view (<code>ALT-SHIFT-Q</code>,<code>X</code> or the left-most tab left of the console)"},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1671519272,"post_id":74849414,"comment_id":132110941,"body_markdown":"Specifically, problems in the *AutoSherretii* project, not the one with application you&#39;re trying to launch.","body":"Specifically, problems in the <i>AutoSherretii</i> project, not the one with application you&#39;re trying to launch."},{"owner":{"account_id":27229941,"reputation":1,"user_id":20757820,"display_name":"NOVA"},"score":0,"creation_date":1671531761,"post_id":74849414,"comment_id":132114398,"body_markdown":"did you open console img, there u will see more, and problem doesnt solved, so i recreated same one,   and i used VM args,  user library, and mysql-connector, now is working good. THNX.","body":"did you open console img, there u will see more, and problem doesnt solved, so i recreated same one,   and i used VM args,  user library, and mysql-connector, now is working good. THNX."},{"owner":{"account_id":2946005,"reputation":101,"user_id":3123382,"display_name":"Martin Gisser"},"score":0,"creation_date":1701265364,"post_id":74849414,"comment_id":136754071,"body_markdown":"This isn&#39;t necessarily due to Problems. It could also be totally unrelated Eclipse download errors, as in my case (I went offline). No solution found yet.","body":"This isn&#39;t necessarily due to Problems. It could also be totally unrelated Eclipse download errors, as in my case (I went offline). No solution found yet."}],"owner":{"account_id":27229941,"reputation":1,"user_id":20757820,"display_name":"NOVA"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671456476,"creation_date":1671446741,"question_id":74849414,"body_markdown":"Here is error when I press run:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nDown is Main.java and I don&#39;t know what this is. Yesterday I used this file and nothing happened.\r\n\r\n```\r\npackage application;\r\n\r\nimport javafx.application.Application;\r\nimport javafx.stage.Stage;\r\nimport javafx.stage.StageStyle;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.image.Image;\r\nimport javafx.scene.layout.BorderPane;\r\nimport javafx.fxml.FXMLLoader;\r\n\r\npublic class Main extends Application {\r\n\r\n\t@Override\r\n\tpublic void start(Stage primaryStage) {\r\n\t\ttry {\r\n\t\t\tBorderPane root = (BorderPane)FXMLLoader.load(getClass().getResource(&quot;LogIn.fxml&quot;));\r\n\t\t\tScene scene = new Scene(root, 700,512);\r\n\t\t\tscene.getStylesheets().add(getClass().getResource(&quot;application.css&quot;).toExternalForm());\r\n\t\t\tprimaryStage.initStyle(StageStyle.DECORATED);\r\n\t\t\tprimaryStage.setScene(scene);\r\n\t\t\tprimaryStage.show();\r\n\t\t\tprimaryStage.setTitle(&quot;Log In&quot;);\r\n\t\t\tImage icon = new Image(getClass().getResourceAsStream(&quot;sherr.jpeg&quot;));\r\n\t\t\tprimaryStage.getIcons().add(icon);\r\n\t\t\tprimaryStage.setResizable(false);\r\n\t\t} catch(Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tlaunch(args);\r\n\t}\r\n}\r\n```\r\n\r\n[Here is what displayed on Console](https://i.stack.imgur.com/2EZCe.png)\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7cHdV.png","title":"Why can&#39;t I run Main.java on Eclipse &quot;Errors exist in required project(s)&quot;","body":"<p>Here is error when I press run:</p>\n<p><a href=\"https://i.stack.imgur.com/7cHdV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7cHdV.png\" alt=\"enter image description here\" /></a></p>\n<p>Down is Main.java and I don't know what this is. Yesterday I used this file and nothing happened.</p>\n<pre><code>package application;\n\nimport javafx.application.Application;\nimport javafx.stage.Stage;\nimport javafx.stage.StageStyle;\nimport javafx.scene.Scene;\nimport javafx.scene.image.Image;\nimport javafx.scene.layout.BorderPane;\nimport javafx.fxml.FXMLLoader;\n\npublic class Main extends Application {\n\n    @Override\n    public void start(Stage primaryStage) {\n        try {\n            BorderPane root = (BorderPane)FXMLLoader.load(getClass().getResource(&quot;LogIn.fxml&quot;));\n            Scene scene = new Scene(root, 700,512);\n            scene.getStylesheets().add(getClass().getResource(&quot;application.css&quot;).toExternalForm());\n            primaryStage.initStyle(StageStyle.DECORATED);\n            primaryStage.setScene(scene);\n            primaryStage.show();\n            primaryStage.setTitle(&quot;Log In&quot;);\n            Image icon = new Image(getClass().getResourceAsStream(&quot;sherr.jpeg&quot;));\n            primaryStage.getIcons().add(icon);\n            primaryStage.setResizable(false);\n        } catch(Exception e) {\n            e.printStackTrace();\n        }\n    }\n    \n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/2EZCe.png\" rel=\"nofollow noreferrer\">Here is what displayed on Console</a></p>\n"},{"tags":["java","spring","spring-boot","spring-data"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1671457050,"post_id":74845182,"comment_id":132096611,"body_markdown":"As documented it defaults to `mongodb://localhost/test`. It is in the list of properties and specified with a default.","body":"As documented it defaults to <code>mongodb:&#47;&#47;localhost&#47;test</code>. It is in the list of properties and specified with a default."},{"owner":{"account_id":1067937,"reputation":13238,"user_id":1067943,"accept_rate":65,"display_name":"Michael"},"score":0,"creation_date":1671825221,"post_id":74845182,"comment_id":132185291,"body_markdown":"@M.Deinum thank you for the post. Can you please attach a link to the document?","body":"@M.Deinum thank you for the post. Can you please attach a link to the document?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1671869420,"post_id":74845182,"comment_id":132190217,"body_markdown":"It is documented in the Spring Boot reference guide at least in the section explaining the differnt properties. https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#appendix.application-properties.data","body":"It is documented in the Spring Boot reference guide at least in the section explaining the differnt properties. <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#appendix.application-properties.data\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/reference/html/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":139494,"reputation":804,"user_id":345130,"accept_rate":40,"display_name":"ILya Cyclone"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1671456393,"creation_date":1671408421,"answer_id":74845231,"question_id":74845182,"body_markdown":"I can&#39;t say if there is anything specific with Mongo, but for Spring in general you can create typesafe config and validate it on startup.\r\n\r\napplication.yml\r\n```\r\nmyapp:\r\n  mongo-uri: mongodb://localhost:27017/development \r\n\r\nspring:\r\n  data:\r\n    mongodb:\r\n     uri: ${myapp.mongo-uri}\r\n\r\n```\r\n\r\nMyAppProperties.java\r\n```\r\n@Validated\r\n@ConfigurationProperties(prefix = &quot;myapp&quot;)\r\npublic class MyAppProperties {\r\n  @NotEmpty\r\n  private String mongoUri;\r\n  // accessors\r\n}\r\n```\r\n\r\nIn @Configuration&#39;s or @SpringBootApplication\r\n\r\n`@EnableConfigurationProperties(MyAppProperties.class)`\r\n\r\nThe key things are @Validated and @NotEmpty. You will get startup error if `${myapp.mongo-uri}` is not provided.","title":"Why spring boot boot not indicates that connection string removed from yml file?","body":"<p>I can't say if there is anything specific with Mongo, but for Spring in general you can create typesafe config and validate it on startup.</p>\n<p>application.yml</p>\n<pre><code>myapp:\n  mongo-uri: mongodb://localhost:27017/development \n\nspring:\n  data:\n    mongodb:\n     uri: ${myapp.mongo-uri}\n\n</code></pre>\n<p>MyAppProperties.java</p>\n<pre><code>@Validated\n@ConfigurationProperties(prefix = &quot;myapp&quot;)\npublic class MyAppProperties {\n  @NotEmpty\n  private String mongoUri;\n  // accessors\n}\n</code></pre>\n<p>In @Configuration's or @SpringBootApplication</p>\n<p><code>@EnableConfigurationProperties(MyAppProperties.class)</code></p>\n<p>The key things are @Validated and @NotEmpty. You will get startup error if <code>${myapp.mongo-uri}</code> is not provided.</p>\n"}],"owner":{"account_id":1067937,"reputation":13238,"user_id":1067943,"accept_rate":65,"display_name":"Michael"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671456393,"creation_date":1671407508,"question_id":74845182,"body_markdown":"I work on a java spring boot project.\r\nI have an application.yml file that contains the connection string:\r\n\r\n    spring:\r\n      data:\r\n        mongodb:\r\n         uri: mongodb://localhost:27017/development \r\n\r\nI comment on connection string rows in the application.yml file:\r\n\r\n    #spring:\r\n    #  data:\r\n    #    mongodb:\r\n    #  uri: mongodb://localhost:27017/development\r\n\r\nAnd then I rebuild the project and trigger repository functions.\r\n\r\nTo my surprise, I do not get any exceptions or errors while the repositories are executed and application.yml has commented connection string.\r\n\r\nThe result that I get from repository functions is an empty result.\r\n\r\nSo my question is very simple, why i do not get any indications on a runtime that the connection string is removed does spring create some default connection in case it cannot find the conn string in yml file?\r\n\r\n\r\n","title":"Why spring boot boot not indicates that connection string removed from yml file?","body":"<p>I work on a java spring boot project.\nI have an application.yml file that contains the connection string:</p>\n<pre><code>spring:\n  data:\n    mongodb:\n     uri: mongodb://localhost:27017/development \n</code></pre>\n<p>I comment on connection string rows in the application.yml file:</p>\n<pre><code>#spring:\n#  data:\n#    mongodb:\n#  uri: mongodb://localhost:27017/development\n</code></pre>\n<p>And then I rebuild the project and trigger repository functions.</p>\n<p>To my surprise, I do not get any exceptions or errors while the repositories are executed and application.yml has commented connection string.</p>\n<p>The result that I get from repository functions is an empty result.</p>\n<p>So my question is very simple, why i do not get any indications on a runtime that the connection string is removed does spring create some default connection in case it cannot find the conn string in yml file?</p>\n"},{"tags":["java","intellij-idea","jboss","ide","wildfly"],"answers":[{"tags":[],"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671456388,"creation_date":1671456388,"answer_id":74851195,"question_id":74850334,"body_markdown":"The IntelliJ Community Edition is not suitable for application server management. You need  the Ultimate Edition instead. See the [IntelliJ Edition comparison page][1] under section &quot;Deployment&quot;.\r\n\r\nIf you don&#39;t want to pay for the Ultimate Edition you can use Eclipse or Netbeans with application server integration for free.\r\n\r\n\r\n  [1]: https://www.jetbrains.com/products/compare/?product=idea&amp;product=idea-ce","title":"Add WildFly to IntelliJ Community","body":"<p>The IntelliJ Community Edition is not suitable for application server management. You need  the Ultimate Edition instead. See the <a href=\"https://www.jetbrains.com/products/compare/?product=idea&amp;product=idea-ce\" rel=\"nofollow noreferrer\">IntelliJ Edition comparison page</a> under section &quot;Deployment&quot;.</p>\n<p>If you don't want to pay for the Ultimate Edition you can use Eclipse or Netbeans with application server integration for free.</p>\n"}],"owner":{"account_id":22436368,"reputation":276,"user_id":16641566,"display_name":"Robs"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":345,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74851195,"answer_count":1,"score":0,"last_activity_date":1671456388,"creation_date":1671451843,"question_id":74850334,"body_markdown":"I&#39;m trying to add wildfly to the configuration servers but I can&#39;t find the option Application Server under Build, Exec..., All the tutorial showed me to go there and I don&#39;t know what to do now, any help?\r\n\r\n[![intellij](https://i.stack.imgur.com/FBFlH.png)](https://i.stack.imgur.com/FBFlH.png)\r\n\r\nTried to see if there are any other video but nothing","title":"Add WildFly to IntelliJ Community","body":"<p>I'm trying to add wildfly to the configuration servers but I can't find the option Application Server under Build, Exec..., All the tutorial showed me to go there and I don't know what to do now, any help?</p>\n<p><a href=\"https://i.stack.imgur.com/FBFlH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FBFlH.png\" alt=\"intellij\" /></a></p>\n<p>Tried to see if there are any other video but nothing</p>\n"},{"tags":["java","maven","jenkins","jacoco"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1671456388,"post_id":74851150,"comment_id":132096380,"body_markdown":"probably you wan&#39;t to exclude it [also in `report`](https://www.eclemma.org/jacoco/trunk/doc/report-mojo.html#excludes) execution!? :) (or generally : in plugin/-management)","body":"probably you wan&#39;t to exclude it <a href=\"https://www.eclemma.org/jacoco/trunk/doc/report-mojo.html#excludes\" rel=\"nofollow noreferrer\">also in <code>report</code></a> execution!? :) (or generally : in plugin/-management)"},{"owner":{"account_id":27297784,"reputation":1,"user_id":20815147,"display_name":"Ricardo Quino"},"score":1,"creation_date":1671456471,"post_id":74851150,"comment_id":132096413,"body_markdown":"You mean adding the exclusion to &#39;report&#39; goal? If yes, I already tried that, without success :(","body":"You mean adding the exclusion to &#39;report&#39; goal? If yes, I already tried that, without success :("},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1671456767,"post_id":74851150,"comment_id":132096532,"body_markdown":"problem could be in: &lt;exclude/&gt; value, try `**` (it follows ant style path matching syntax, and refers to class (files!) ... https://www.baeldung.com/jacoco-report-exclude) ..but of course also: somewhere in the &quot;pipe&quot;/ci...","body":"problem could be in: &lt;exclude/&gt; value, try <code>**</code> (it follows ant style path matching syntax, and refers to class (files!) ... <a href=\"https://www.baeldung.com/jacoco-report-exclude\" rel=\"nofollow noreferrer\">baeldung.com/jacoco-report-exclude</a>) ..but of course also: somewhere in the &quot;pipe&quot;/ci..."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1671456895,"post_id":74851150,"comment_id":132096568,"body_markdown":"&quot;* matches zero or more characters\n** matches zero or more directories\n? matches a single character&quot;","body":"&quot;* matches zero or more characters ** matches zero or more directories ? matches a single character&quot;"},{"owner":{"account_id":27297784,"reputation":1,"user_id":20815147,"display_name":"Ricardo Quino"},"score":0,"creation_date":1671457330,"post_id":74851150,"comment_id":132096698,"body_markdown":"Tried that, but it is still showing 0% coverage for &#39;Cde&#39;. It is being &quot;ignored&quot;, but I want it to completely disappear from my report, in order to not affect it.","body":"Tried that, but it is still showing 0% coverage for &#39;Cde&#39;. It is being &quot;ignored&quot;, but I want it to completely disappear from my report, in order to not affect it."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1671458685,"post_id":74851150,"comment_id":132097139,"body_markdown":"sorry, cannot reproduce in &quot;jacoco report&quot;, but &quot;in sonar&quot; ...","body":"sorry, cannot reproduce in &quot;jacoco report&quot;, but &quot;in sonar&quot; ..."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1671470410,"post_id":74851150,"comment_id":132101310,"body_markdown":"Is the report of jacoco generated furthermore have you configured the jacoco plugin in Jenkins?","body":"Is the report of jacoco generated furthermore have you configured the jacoco plugin in Jenkins?"},{"owner":{"account_id":27297784,"reputation":1,"user_id":20815147,"display_name":"Ricardo Quino"},"score":0,"creation_date":1671470720,"post_id":74851150,"comment_id":132101419,"body_markdown":"@khmarbaise I have just installed the jacoco plugin in jenkins, and then added the stage as shown above.","body":"@khmarbaise I have just installed the jacoco plugin in jenkins, and then added the stage as shown above."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1671470796,"post_id":74851150,"comment_id":132101444,"body_markdown":"have you checked the workspace if the reports is being generated and checked your configuration in your Maven project is correct? Have you checked if this works if run locally ? Do you see some reports ?","body":"have you checked the workspace if the reports is being generated and checked your configuration in your Maven project is correct? Have you checked if this works if run locally ? Do you see some reports ?"},{"owner":{"account_id":27297784,"reputation":1,"user_id":20815147,"display_name":"Ricardo Quino"},"score":0,"creation_date":1671471097,"post_id":74851150,"comment_id":132101566,"body_markdown":"@khmarbaise how do I do that? im quite new to this, but im guessing you are refering to “Run tests with coverage” option. Btw, Im using Intellij","body":"@khmarbaise how do I do that? im quite new to this, but im guessing you are refering to “Run tests with coverage” option. Btw, Im using Intellij"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1671473865,"post_id":74851150,"comment_id":132102475,"body_markdown":"Run on plain command line .... is the jacoco plugin within pluginManagement tags in the pom.xml or related to a profile?","body":"Run on plain command line .... is the jacoco plugin within pluginManagement tags in the pom.xml or related to a profile?"}],"owner":{"account_id":27297784,"reputation":1,"user_id":20815147,"display_name":"Ricardo Quino"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671456171,"creation_date":1671456171,"question_id":74851150,"body_markdown":"I&#39;m trying to integrate jacoco with jenkins. For now, whenever there&#39;s a push, jenkins detects and runs the jenkins file, where I have a stage for JaCoCo, that looks as follow and working:\r\n\r\n```\r\nif(runJaCoCo){\r\n    stage(&#39;JaCoCo&#39;){\r\n            jacoco(\r\n            )\r\n            }\r\n}\r\n```\r\n\r\nMy pom.xml looks as follow: \r\n\r\n```\r\n&lt;plugin&gt;\r\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;0.8.5&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;default-prepare-agent&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;excludes&gt;\r\n                                &lt;exclude&gt;com/Abc/Bcd/Cde/*&lt;/exclude&gt;\r\n                            &lt;/excludes&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;execution&gt; \r\n                        &lt;id&gt;default-report&lt;/id&gt;\r\n                        &lt;phase&gt;prepare-package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;report&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n```\r\n\r\nTo simplify, my problem is that whenever I open the report in Jenkins, instead of not showing the package, it shows 0% for all files under Cde, which is making the report look worst than before.\r\n\r\nI&#39;m expecting that the report doesn&#39;t show at all the packages, instead of showing 0% for them.","title":"JaCoCo report showing 0% for excluded classes","body":"<p>I'm trying to integrate jacoco with jenkins. For now, whenever there's a push, jenkins detects and runs the jenkins file, where I have a stage for JaCoCo, that looks as follow and working:</p>\n<pre><code>if(runJaCoCo){\n    stage('JaCoCo'){\n            jacoco(\n            )\n            }\n}\n</code></pre>\n<p>My pom.xml looks as follow:</p>\n<pre><code>&lt;plugin&gt;\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.8.5&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;default-prepare-agent&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;prepare-agent&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;excludes&gt;\n                                &lt;exclude&gt;com/Abc/Bcd/Cde/*&lt;/exclude&gt;\n                            &lt;/excludes&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt; \n                        &lt;id&gt;default-report&lt;/id&gt;\n                        &lt;phase&gt;prepare-package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;report&lt;/goal&gt;\n                        &lt;/goals&gt;\n\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p>To simplify, my problem is that whenever I open the report in Jenkins, instead of not showing the package, it shows 0% for all files under Cde, which is making the report look worst than before.</p>\n<p>I'm expecting that the report doesn't show at all the packages, instead of showing 0% for them.</p>\n"},{"tags":["java","function","kotlin"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1670009319,"post_id":74660175,"comment_id":131781074,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":12703682,"reputation":104,"user_id":9229654,"display_name":"A. Hajian"},"down_vote_count":2,"up_vote_count":0,"is_accepted":true,"score":-2,"last_activity_date":1670022648,"creation_date":1670022648,"answer_id":74662472,"question_id":74660175,"body_markdown":"You have initialized the result with a space character. So the result starts with a space that may confuse you. Apart from that, your function is working fine.\r\nAdditionally, you can use the replace function to remove all spaces from a string\r\n\r\n    &quot;abc d e&quot;.replace(&quot;\\\\s+&quot;.toRegex(), &quot;&quot;)","title":"why this function is not working in Kotlin","body":"<p>You have initialized the result with a space character. So the result starts with a space that may confuse you. Apart from that, your function is working fine.\nAdditionally, you can use the replace function to remove all spaces from a string</p>\n<pre><code>&quot;abc d e&quot;.replace(&quot;\\\\s+&quot;.toRegex(), &quot;&quot;)\n</code></pre>\n"}],"owner":{"account_id":25530436,"reputation":3,"user_id":19318569,"display_name":"ramazan &#199;ELİK"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1670036799,"accepted_answer_id":74662472,"answer_count":1,"score":-2,"last_activity_date":1671455445,"creation_date":1670006436,"question_id":74660175,"body_markdown":"I&#39;m trying to make a function that removes all spaces in the given string. This is my code:\r\n```\r\nfun nonSpaceString(s: String): String {\r\n  var result = &quot; &quot;\r\n  for (index in 0..s.length-1) {\r\n    if (s[index] != &#39; &#39;) {\r\n      result += s[index]\r\n    }\r\n  }\r\n  return result\r\n}\r\nfun main(){\r\nnonSpaceString(&quot;abc d e&quot;)\r\n}\r\n```\r\n\r\nBut the result is holding &quot;a&quot; and then holding &quot;ab&quot; but the end result holds nothing. Does anyone know what I&#39;m doing wrong here?","title":"why this function is not working in Kotlin","body":"<p>I'm trying to make a function that removes all spaces in the given string. This is my code:</p>\n<pre><code>fun nonSpaceString(s: String): String {\n  var result = &quot; &quot;\n  for (index in 0..s.length-1) {\n    if (s[index] != ' ') {\n      result += s[index]\n    }\n  }\n  return result\n}\nfun main(){\nnonSpaceString(&quot;abc d e&quot;)\n}\n</code></pre>\n<p>But the result is holding &quot;a&quot; and then holding &quot;ab&quot; but the end result holds nothing. Does anyone know what I'm doing wrong here?</p>\n"},{"tags":["java","json","rest","jackson","quarkus"],"comments":[{"owner":{"account_id":7788702,"reputation":836,"user_id":5892518,"display_name":"Harsh"},"score":0,"creation_date":1671445241,"post_id":74848853,"comment_id":132093213,"body_markdown":"Since you can&#39;t have multiple properties with same name, at least in Java class, hence, you will have to change the second name too, i.e. the orange one, else , I believe the value should be overridden in Java controller. If you would like to send a list, I suggest to make name as ArrayList and pass fruit names comma separated","body":"Since you can&#39;t have multiple properties with same name, at least in Java class, hence, you will have to change the second name too, i.e. the orange one, else , I believe the value should be overridden in Java controller. If you would like to send a list, I suggest to make name as ArrayList and pass fruit names comma separated"},{"owner":{"account_id":7788702,"reputation":836,"user_id":5892518,"display_name":"Harsh"},"score":0,"creation_date":1671445297,"post_id":74848853,"comment_id":132093228,"body_markdown":"Alternatively, feel free to check this https://stackoverflow.com/questions/21832701/does-json-syntax-allow-duplicate-keys-in-an-object","body":"Alternatively, feel free to check this <a href=\"https://stackoverflow.com/questions/21832701/does-json-syntax-allow-duplicate-keys-in-an-object\" title=\"does json syntax allow duplicate keys in an object\">stackoverflow.com/questions/21832701/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1671454810,"creation_date":1671454810,"answer_id":74850885,"question_id":74848853,"body_markdown":"Add the following:\r\n\r\n    @Singleton\r\n    public class MyCustomizer implements ObjectMapperCustomizer {\r\n        @Override\r\n        public void customize(ObjectMapper objectMapper) {\r\n            objectMapper.enable(JsonParser.Feature.STRICT_DUPLICATE_DETECTION);\r\n        }\r\n    }\r\n\r\nIf you do, the `ObjectMapper` that Quarkus uses will throw a `JsonParseException` thus leading to a HTTP 400 response.","title":"How to make json deserialization fail when detecting duplicate properties in API POST request body","body":"<p>Add the following:</p>\n<pre><code>@Singleton\npublic class MyCustomizer implements ObjectMapperCustomizer {\n    @Override\n    public void customize(ObjectMapper objectMapper) {\n        objectMapper.enable(JsonParser.Feature.STRICT_DUPLICATE_DETECTION);\n    }\n}\n</code></pre>\n<p>If you do, the <code>ObjectMapper</code> that Quarkus uses will throw a <code>JsonParseException</code> thus leading to a HTTP 400 response.</p>\n"}],"owner":{"account_id":11205041,"reputation":35,"user_id":8220912,"display_name":"TheRelax"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":266,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74850885,"answer_count":1,"score":0,"last_activity_date":1671454810,"creation_date":1671443885,"question_id":74848853,"body_markdown":"I have a POST endpoint which accepts a JSON as request body. \r\n\r\n```\r\n@Path(&quot;/drink&quot;)\r\n@Produces(MediaType.APPLICATION_JSON)\r\n@Consumes(MediaType.APPLICATION_JSON)\r\npublic class DrinkResource {\r\n\r\n    @POST\r\n    public Drink getDrink(Fruit fruit) {\r\n        return new Drink(fruit.getName());\r\n    }\r\n}\r\n```\r\n\r\nThe request body is supposed to be deserialized into this POJO : \r\n\r\n```\r\npublic class Fruit {\r\n\r\n    private final String name;\r\n\r\n    @JsonCreator\r\n    public Fruit(@JsonProperty(&quot;name&quot;) String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n}\r\n```\r\n\r\nI&#39;m using Jackson for the deserialization.\r\n\r\n**Is it possible to make the deserialization fail when the JSON in the request body has duplicate keys ?**\r\n\r\nFor example, if the request body looks like this : ```{&quot;name&quot; : &quot;banana&quot;, &quot;name&quot; : &quot;orange&quot;}```, I would like to get a 500 status code or another kind of error instead of having the json deserialized with the last property.\r\n\r\nBasically, I&#39;m looking for a solution with the same logic as the ```JsonParser.Feature.STRICT_DUPLICATE_DETECTION``` with the ```ObjectMapper``` but for a POST endpoint. \r\n\r\nI&#39;m also using quarkus so I don&#39;t know if there is a property for this. Something similar to ```quarkus.jackson.fail-on-unknown-properties=true``` but for the duplicate properties.","title":"How to make json deserialization fail when detecting duplicate properties in API POST request body","body":"<p>I have a POST endpoint which accepts a JSON as request body.</p>\n<pre><code>@Path(&quot;/drink&quot;)\n@Produces(MediaType.APPLICATION_JSON)\n@Consumes(MediaType.APPLICATION_JSON)\npublic class DrinkResource {\n\n    @POST\n    public Drink getDrink(Fruit fruit) {\n        return new Drink(fruit.getName());\n    }\n}\n</code></pre>\n<p>The request body is supposed to be deserialized into this POJO :</p>\n<pre><code>public class Fruit {\n\n    private final String name;\n\n    @JsonCreator\n    public Fruit(@JsonProperty(&quot;name&quot;) String name) {\n        this.name = name;\n    }\n\n    public String getName() {\n        return name;\n    }\n}\n</code></pre>\n<p>I'm using Jackson for the deserialization.</p>\n<p><strong>Is it possible to make the deserialization fail when the JSON in the request body has duplicate keys ?</strong></p>\n<p>For example, if the request body looks like this : <code>{&quot;name&quot; : &quot;banana&quot;, &quot;name&quot; : &quot;orange&quot;}</code>, I would like to get a 500 status code or another kind of error instead of having the json deserialized with the last property.</p>\n<p>Basically, I'm looking for a solution with the same logic as the <code>JsonParser.Feature.STRICT_DUPLICATE_DETECTION</code> with the <code>ObjectMapper</code> but for a POST endpoint.</p>\n<p>I'm also using quarkus so I don't know if there is a property for this. Something similar to <code>quarkus.jackson.fail-on-unknown-properties=true</code> but for the duplicate properties.</p>\n"},{"tags":["java","hashmap"],"comments":[{"owner":{"account_id":4716677,"reputation":580,"user_id":3815660,"display_name":"Yurii"},"score":0,"creation_date":1671453865,"post_id":74850667,"comment_id":132095611,"body_markdown":"What is the purpose to instantiate it? Maybe better to use HashMap put method to add something into the Map","body":"What is the purpose to instantiate it? Maybe better to use HashMap put method to add something into the Map"},{"owner":{"account_id":15002662,"reputation":1,"user_id":20814844,"display_name":"Li Chen"},"score":0,"creation_date":1671453944,"post_id":74850667,"comment_id":132095635,"body_markdown":"I know that HashMap.Node&#39;s constructor needs lots of arguments, but I just wonder whether it can be instantiated, grammatically","body":"I know that HashMap.Node&#39;s constructor needs lots of arguments, but I just wonder whether it can be instantiated, grammatically"},{"owner":{"account_id":4716677,"reputation":580,"user_id":3815660,"display_name":"Yurii"},"score":0,"creation_date":1671454264,"post_id":74850667,"comment_id":132095731,"body_markdown":"It is an internal class, that is used by HashMap to operate with values internally, encapsulated by design.","body":"It is an internal class, that is used by HashMap to operate with values internally, encapsulated by design."}],"answers":[{"tags":[],"owner":{"account_id":3466983,"reputation":8589,"user_id":3800782,"accept_rate":77,"display_name":"rghome"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1671454576,"creation_date":1671454576,"answer_id":74850838,"question_id":74850667,"body_markdown":"`HashMap.Node` is declared with *package private* visibility (the default visibility if `public`, `private` or `protected` is not used).\r\n\r\n        static class Node&lt;K,V&gt; implements Map.Entry&lt;K,V&gt; {\r\n\r\nThis means that the class is only visible to classes in the same package.\r\n\r\nSee this question for more details: https://stackoverflow.com/questions/215497/what-is-the-difference-between-public-protected-package-private-and-private-in\r\n","title":"Trying to instantiate HashMap.Node in Java","body":"<p><code>HashMap.Node</code> is declared with <em>package private</em> visibility (the default visibility if <code>public</code>, <code>private</code> or <code>protected</code> is not used).</p>\n<pre><code>    static class Node&lt;K,V&gt; implements Map.Entry&lt;K,V&gt; {\n</code></pre>\n<p>This means that the class is only visible to classes in the same package.</p>\n<p>See this question for more details: <a href=\"https://stackoverflow.com/questions/215497/what-is-the-difference-between-public-protected-package-private-and-private-in\">What is the difference between public, protected, package-private and private in Java?</a></p>\n"}],"owner":{"account_id":15002662,"reputation":1,"user_id":20814844,"display_name":"Li Chen"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74850838,"answer_count":1,"score":-1,"last_activity_date":1671454576,"creation_date":1671453586,"question_id":74850667,"body_markdown":"Java HashMap class has a static nested class Node\r\n\r\n```\r\nstatic class Node&lt;K,V&gt; implements Map.Entry&lt;K,V&gt;\r\n```\r\n\r\nI was trying to instantiate that Node class, but it seemed like I can&#39;t get it done as IDEA couldn&#39;t find any suitable option, as shown in screen shot below,\r\n\r\n[enter image description here](https://i.stack.imgur.com/PZqae.png)\r\n\r\nanyone here can enlignten me about this?\r\n\r\nCan this static nested class be instantiated, if so, how?","title":"Trying to instantiate HashMap.Node in Java","body":"<p>Java HashMap class has a static nested class Node</p>\n<pre><code>static class Node&lt;K,V&gt; implements Map.Entry&lt;K,V&gt;\n</code></pre>\n<p>I was trying to instantiate that Node class, but it seemed like I can't get it done as IDEA couldn't find any suitable option, as shown in screen shot below,</p>\n<p><a href=\"https://i.stack.imgur.com/PZqae.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>anyone here can enlignten me about this?</p>\n<p>Can this static nested class be instantiated, if so, how?</p>\n"},{"tags":["java","android","ontouchlistener","soundpool"],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671379829,"creation_date":1671379829,"answer_id":74842784,"question_id":74842582,"body_markdown":"[`SoundPool.play()`](https://developer.android.com/reference/android/media/SoundPool#play(int,%20float,%20float,%20int,%20int,%20float)) returns a streamID that you need if you want to stop the playback.\r\n\r\nIn your trial code you assign that value to some field `fStream`:\r\n\r\n    fStream = soundPool.play(F4, 1, 1,0,-1,1);\r\n\r\nand use it to stop the playback when you want to stop it:\r\n\r\n    soundPool.stop(fStream);\r\n\r\nIn your &quot;production&quot; code you assign that value to a parameter:\r\n\r\n    public void rotate_method(int note, int sharp, int stream, int loop_num){\r\n        stream = soundPool.play(sharp, 1, 1,0,loop_num,1);\r\n        // stream is a method parameter here and changes are lost!\r\n    }\r\n\r\nYou must instead store the returned value in some field - why not reuse the field from the previous sample:\r\n\r\n    public void rotate_method(int note, int sharp, int stream, int loop_num){\r\n        fStream = soundPool.play(sharp, 1, 1,0,loop_num,1);\r\n    }\r\n\r\nAnd since you now no longer need the parameter you should remove it from the method:\r\n\r\n    public void rotate_method(int note, int sharp, int loop_num){\r\n        fStream = soundPool.play(sharp, 1, 1,0,loop_num,1);\r\n    }\r\n\r\nThis change will propagate back to the calling methods.","title":"Why is my soundpool behaving differently in these 2 situations? (The value soundpool.play assigned to stream is never used)","body":"<p><a href=\"https://developer.android.com/reference/android/media/SoundPool#play(int,%20float,%20float,%20int,%20int,%20float)\" rel=\"nofollow noreferrer\"><code>SoundPool.play()</code></a> returns a streamID that you need if you want to stop the playback.</p>\n<p>In your trial code you assign that value to some field <code>fStream</code>:</p>\n<pre><code>fStream = soundPool.play(F4, 1, 1,0,-1,1);\n</code></pre>\n<p>and use it to stop the playback when you want to stop it:</p>\n<pre><code>soundPool.stop(fStream);\n</code></pre>\n<p>In your &quot;production&quot; code you assign that value to a parameter:</p>\n<pre><code>public void rotate_method(int note, int sharp, int stream, int loop_num){\n    stream = soundPool.play(sharp, 1, 1,0,loop_num,1);\n    // stream is a method parameter here and changes are lost!\n}\n</code></pre>\n<p>You must instead store the returned value in some field - why not reuse the field from the previous sample:</p>\n<pre><code>public void rotate_method(int note, int sharp, int stream, int loop_num){\n    fStream = soundPool.play(sharp, 1, 1,0,loop_num,1);\n}\n</code></pre>\n<p>And since you now no longer need the parameter you should remove it from the method:</p>\n<pre><code>public void rotate_method(int note, int sharp, int loop_num){\n    fStream = soundPool.play(sharp, 1, 1,0,loop_num,1);\n}\n</code></pre>\n<p>This change will propagate back to the calling methods.</p>\n"}],"owner":{"account_id":26982886,"reputation":25,"user_id":20546967,"display_name":"motty_here"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74842784,"answer_count":1,"score":0,"last_activity_date":1671454077,"creation_date":1671377446,"question_id":74842582,"body_markdown":"I want to play a sound when the user touch the button and have the sound stop when the finger is lifted. This is my trial code which works as I wanted:\r\n\r\n```\r\n            public boolean onTouch(View view, MotionEvent motionEvent) {\r\n                    switch (motionEvent.getAction()){\r\n                        case MotionEvent.ACTION_DOWN:\r\n                            // -1 so it keeps looping\r\n                            fStream = soundPool.play(F4, 1, 1,0,-1,1);\r\n                            return true;\r\n                        case MotionEvent.ACTION_UP:\r\n                            soundPool.stop(fStream);\r\n                    }\r\n                return false;\r\n            }\r\n```\r\nThis is the code I want to put in my app after I apply some conditions:\r\n```\r\n    int A4, A5, aStream; //global variable in MainActivity\r\n```\r\n```\r\n            public boolean onTouch(View view, MotionEvent event) {\r\n                switch (event.getAction()){\r\n                    case MotionEvent.ACTION_DOWN:\r\n                        if(up){\r\n                            horizontal_method(A5, A5_sharp, aStream);\r\n                        } else if(down){\r\n                            horizontal_method(A4, A4_sharp, aStream);\r\n                        }\r\n                        return true;\r\n                    case MotionEvent.ACTION_UP:\r\n                        stop_audio_method(aStream);\r\n                        //soundPool.stop(aStream);\r\n                }\r\n                return false;\r\n            }\r\n```\r\n```\r\n    public void horizontal_method(int note, int sharp, int stream){\r\n        if(horizontal){ //if phone is moving\r\n            loop_num = -1;\r\n        } else { //if phone is not moving\r\n            loop_num = 0;\r\n        }\r\n        rotate_method(note, sharp, stream, loop_num);\r\n    }\r\n\r\n    public void rotate_method(int note, int sharp, int stream, int loop_num){\r\n        if(rotate){ //if it&#39;s sharp\r\n            stream = soundPool.play(sharp, 1, 1,0,loop_num,1);\r\n        } else { // if it&#39;s normal note\r\n            stream = soundPool.play(note, 1, 1,0,loop_num,1);\r\n        }\r\n    }\r\n\r\n    public void stop_audio_method(int stream){\r\n        soundPool.stop(stream);\r\n    }\r\n```\r\n\r\nThe problem:\r\n\r\nIn the trial code, when I press and hold the button, the sound loops. When I lift my finger, it stops. But in my app, when I lift my finger, the sound doesn&#39;t immediately stop. It plays the whole audio instead, doesn&#39;t matter whether it&#39;s looping or not. (Now when it loops it never stops). I tried putting the `soundpool.stop(aStream)` directly in the `MotionEvent.ACTION_UP` but it&#39;s still the same.\r\n\r\nIn the `rotate_method`, the `stream` variable has an underline and it says &quot;The value soundPool.play(sharp, 1, 1, 0, loop_num, 1) assigned to stream is never used.&quot; Like yeah it&#39;s not used, it&#39;s just for playing the audio.\r\n\r\nThe trial code doesn&#39;t have this &#39;disclaimer&#39;.\r\n\r\nWhat did I do wrong? Why is the soundpool behaving differently in the trial code and in my app?","title":"Why is my soundpool behaving differently in these 2 situations? (The value soundpool.play assigned to stream is never used)","body":"<p>I want to play a sound when the user touch the button and have the sound stop when the finger is lifted. This is my trial code which works as I wanted:</p>\n<pre><code>            public boolean onTouch(View view, MotionEvent motionEvent) {\n                    switch (motionEvent.getAction()){\n                        case MotionEvent.ACTION_DOWN:\n                            // -1 so it keeps looping\n                            fStream = soundPool.play(F4, 1, 1,0,-1,1);\n                            return true;\n                        case MotionEvent.ACTION_UP:\n                            soundPool.stop(fStream);\n                    }\n                return false;\n            }\n</code></pre>\n<p>This is the code I want to put in my app after I apply some conditions:</p>\n<pre><code>    int A4, A5, aStream; //global variable in MainActivity\n</code></pre>\n<pre><code>            public boolean onTouch(View view, MotionEvent event) {\n                switch (event.getAction()){\n                    case MotionEvent.ACTION_DOWN:\n                        if(up){\n                            horizontal_method(A5, A5_sharp, aStream);\n                        } else if(down){\n                            horizontal_method(A4, A4_sharp, aStream);\n                        }\n                        return true;\n                    case MotionEvent.ACTION_UP:\n                        stop_audio_method(aStream);\n                        //soundPool.stop(aStream);\n                }\n                return false;\n            }\n</code></pre>\n<pre><code>    public void horizontal_method(int note, int sharp, int stream){\n        if(horizontal){ //if phone is moving\n            loop_num = -1;\n        } else { //if phone is not moving\n            loop_num = 0;\n        }\n        rotate_method(note, sharp, stream, loop_num);\n    }\n\n    public void rotate_method(int note, int sharp, int stream, int loop_num){\n        if(rotate){ //if it's sharp\n            stream = soundPool.play(sharp, 1, 1,0,loop_num,1);\n        } else { // if it's normal note\n            stream = soundPool.play(note, 1, 1,0,loop_num,1);\n        }\n    }\n\n    public void stop_audio_method(int stream){\n        soundPool.stop(stream);\n    }\n</code></pre>\n<p>The problem:</p>\n<p>In the trial code, when I press and hold the button, the sound loops. When I lift my finger, it stops. But in my app, when I lift my finger, the sound doesn't immediately stop. It plays the whole audio instead, doesn't matter whether it's looping or not. (Now when it loops it never stops). I tried putting the <code>soundpool.stop(aStream)</code> directly in the <code>MotionEvent.ACTION_UP</code> but it's still the same.</p>\n<p>In the <code>rotate_method</code>, the <code>stream</code> variable has an underline and it says &quot;The value soundPool.play(sharp, 1, 1, 0, loop_num, 1) assigned to stream is never used.&quot; Like yeah it's not used, it's just for playing the audio.</p>\n<p>The trial code doesn't have this 'disclaimer'.</p>\n<p>What did I do wrong? Why is the soundpool behaving differently in the trial code and in my app?</p>\n"},{"tags":["java","user-interface"],"owner":{"account_id":26943832,"reputation":17,"user_id":20514142,"display_name":"linh dao"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1671453586,"creation_date":1671451974,"question_id":74850356,"body_markdown":"I have created a menu bar where i have 5 items:\r\n[![Menu Bar][1]][1]\r\n\r\nNow what i want to do is, for each items, when i click one of them, an interface dedicated for that item will be open under the menu bar in java, as shown in this example:\r\n\r\n[![Example interface][2]][2]\r\n\r\nHow can i do this in java? Thank you so much for your helps.\r\nHere is my java code:\r\n\r\n```\r\npublic class MainView extends Div {\r\n\r\n    public MainView() {\r\n        MenuBar menuBar = new MenuBar();\r\n        Text selected = new Text(&quot;&quot;);\r\n        ComponentEventListener&lt;ClickEvent&lt;MenuItem&gt;&gt; listener = e -&gt; selected\r\n                .setText(e.getSource().getText());\r\n        Div message = new Div(new Text(&quot;Clicked item: &quot;), selected);\r\n\r\n        menuBar.addItem(&quot;Administrateur&quot;, listener);\r\n        menuBar.addItem(&quot;Utilisateur&quot;, listener);\r\n        MenuItem share = menuBar.addItem(&quot;Article&quot;);\r\n        MenuItem move = menuBar.addItem(&quot;Fournisseur&quot;);\r\n        menuBar.addItem(&quot;Cat&#233;gorie&quot;, listener);\r\n        add(menuBar, message);\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n\r\nCreate an interface for each element of menu bar in java.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Q5GtI.png\r\n  [2]: https://i.stack.imgur.com/KJBLX.png","title":"New interface for each element of menu bar in java","body":"<p>I have created a menu bar where i have 5 items:\n<a href=\"https://i.stack.imgur.com/Q5GtI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Q5GtI.png\" alt=\"Menu Bar\" /></a></p>\n<p>Now what i want to do is, for each items, when i click one of them, an interface dedicated for that item will be open under the menu bar in java, as shown in this example:</p>\n<p><a href=\"https://i.stack.imgur.com/KJBLX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KJBLX.png\" alt=\"Example interface\" /></a></p>\n<p>How can i do this in java? Thank you so much for your helps.\nHere is my java code:</p>\n<pre><code>public class MainView extends Div {\n\n    public MainView() {\n        MenuBar menuBar = new MenuBar();\n        Text selected = new Text(&quot;&quot;);\n        ComponentEventListener&lt;ClickEvent&lt;MenuItem&gt;&gt; listener = e -&gt; selected\n                .setText(e.getSource().getText());\n        Div message = new Div(new Text(&quot;Clicked item: &quot;), selected);\n\n        menuBar.addItem(&quot;Administrateur&quot;, listener);\n        menuBar.addItem(&quot;Utilisateur&quot;, listener);\n        MenuItem share = menuBar.addItem(&quot;Article&quot;);\n        MenuItem move = menuBar.addItem(&quot;Fournisseur&quot;);\n        menuBar.addItem(&quot;Catégorie&quot;, listener);\n        add(menuBar, message);\n    }\n\n}\n</code></pre>\n<p>Create an interface for each element of menu bar in java.</p>\n"},{"tags":["java","json","generics","gson"],"comments":[{"owner":{"account_id":113294,"reputation":54886,"user_id":298455,"accept_rate":100,"display_name":"Nishant"},"score":1,"creation_date":1302017409,"post_id":5554217,"comment_id":6315496,"body_markdown":"The answer you pointed to, uses `TokenType`. Have you tried that way?","body":"The answer you pointed to, uses <code>TokenType</code>. Have you tried that way?"},{"owner":{"account_id":335418,"reputation":7908,"user_id":662493,"accept_rate":100,"display_name":"jellyfish"},"score":0,"creation_date":1302017795,"post_id":5554217,"comment_id":6315632,"body_markdown":"just got the same hint as an answer. next time I&#39;ll give the example a closer look. ;)","body":"just got the same hint as an answer. next time I&#39;ll give the example a closer look. ;)"},{"owner":{"account_id":281184,"reputation":21762,"user_id":577334,"accept_rate":50,"display_name":"billygoat"},"score":0,"creation_date":1302095538,"post_id":5554217,"comment_id":6331772,"body_markdown":"Can you try an implementation of list in type token? Since your raw type is array list you should try array list.","body":"Can you try an implementation of list in type token? Since your raw type is array list you should try array list."}],"answers":[{"tags":[],"owner":{"account_id":281184,"reputation":21762,"user_id":577334,"accept_rate":50,"display_name":"billygoat"},"down_vote_count":0,"up_vote_count":1104,"is_accepted":true,"score":1104,"last_activity_date":1521548419,"creation_date":1302017015,"answer_id":5554296,"question_id":5554217,"body_markdown":"Method to deserialize generic collection:\r\n\r\n    import java.lang.reflect.Type;\r\n    import com.google.gson.reflect.TypeToken;\r\n\r\n    ...\r\n\r\n    Type listType = new TypeToken&lt;ArrayList&lt;YourClass&gt;&gt;(){}.getType();\r\n    List&lt;YourClass&gt; yourClassList = new Gson().fromJson(jsonArray, listType);\r\n\r\n\r\nSince several people in the comments have mentioned it, here&#39;s an explanation of how the `TypeToken` class is being used. The construction `new TypeToken&lt;...&gt;() {}.getType()` captures a compile-time type (between the `&lt;` and `&gt;`) into a runtime `java.lang.reflect.Type` object. Unlike a `Class` object, which can only represent a raw (erased) type, the `Type` object can represent any type in the Java language, including a parameterized instantiation of a generic type.\r\n\r\nThe `TypeToken` class itself does not have a public constructor, because you&#39;re not supposed to construct it directly. Instead, you always construct an anonymous subclass (hence the `{}`, which is a necessary part of this expression).\r\n\r\nDue to type erasure, the `TypeToken` class is only able to capture types that are fully known at compile time. (That is, you can&#39;t do `new TypeToken&lt;List&lt;T&gt;&gt;() {}.getType()` for a type parameter `T`.)\r\n\r\nFor more information, see the [documentation for the `TypeToken` class](https://google.github.io/gson/apidocs/com/google/gson/reflect/TypeToken.html).","title":"Deserialize a List&lt;T&gt; object with Gson?","body":"<p>Method to deserialize generic collection:</p>\n\n<pre><code>import java.lang.reflect.Type;\nimport com.google.gson.reflect.TypeToken;\n\n...\n\nType listType = new TypeToken&lt;ArrayList&lt;YourClass&gt;&gt;(){}.getType();\nList&lt;YourClass&gt; yourClassList = new Gson().fromJson(jsonArray, listType);\n</code></pre>\n\n<p>Since several people in the comments have mentioned it, here's an explanation of how the <code>TypeToken</code> class is being used. The construction <code>new TypeToken&lt;...&gt;() {}.getType()</code> captures a compile-time type (between the <code>&lt;</code> and <code>&gt;</code>) into a runtime <code>java.lang.reflect.Type</code> object. Unlike a <code>Class</code> object, which can only represent a raw (erased) type, the <code>Type</code> object can represent any type in the Java language, including a parameterized instantiation of a generic type.</p>\n\n<p>The <code>TypeToken</code> class itself does not have a public constructor, because you're not supposed to construct it directly. Instead, you always construct an anonymous subclass (hence the <code>{}</code>, which is a necessary part of this expression).</p>\n\n<p>Due to type erasure, the <code>TypeToken</code> class is only able to capture types that are fully known at compile time. (That is, you can't do <code>new TypeToken&lt;List&lt;T&gt;&gt;() {}.getType()</code> for a type parameter <code>T</code>.)</p>\n\n<p>For more information, see the <a href=\"https://google.github.io/gson/apidocs/com/google/gson/reflect/TypeToken.html\" rel=\"noreferrer\">documentation for the <code>TypeToken</code> class</a>.</p>\n"},{"tags":[],"owner":{"account_id":335418,"reputation":7908,"user_id":662493,"accept_rate":100,"display_name":"jellyfish"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1302251226,"creation_date":1302251226,"answer_id":5592457,"question_id":5554217,"body_markdown":"As it answers my original question, I have accepted doc_180&#39;s answer, but if someone runs into this problem again, I will answer the 2nd half of my question as well:\r\n\r\nThe NullPointerError I described had nothing to do with the List itself, but with its content! \r\n\r\nThe &quot;MyClass&quot; class didn&#39;t have a &quot;no args&quot; constructor, and neither had its superclass one. Once I added a simple &quot;MyClass()&quot; constructor to MyClass and its superclass, everything worked fine, including the List serialization and deserialization as suggested by doc_180.\r\n\r\n","title":"Deserialize a List&lt;T&gt; object with Gson?","body":"<p>As it answers my original question, I have accepted doc_180's answer, but if someone runs into this problem again, I will answer the 2nd half of my question as well:</p>\n\n<p>The NullPointerError I described had nothing to do with the List itself, but with its content! </p>\n\n<p>The \"MyClass\" class didn't have a \"no args\" constructor, and neither had its superclass one. Once I added a simple \"MyClass()\" constructor to MyClass and its superclass, everything worked fine, including the List serialization and deserialization as suggested by doc_180.</p>\n"},{"tags":[],"owner":{"account_id":2428011,"reputation":5905,"user_id":2119552,"display_name":"DevNG"},"down_vote_count":1,"up_vote_count":309,"is_accepted":false,"score":308,"last_activity_date":1430984648,"creation_date":1372170382,"answer_id":17300003,"question_id":5554217,"body_markdown":"Another way is to use an array as a type, e.g.:\r\n\r\n    MyClass[] mcArray = gson.fromJson(jsonString, MyClass[].class);\r\n\r\nThis way you avoid all the hassle with the Type object, and if you really need a list you can always convert the array to a list by:\r\n\r\n    List&lt;MyClass&gt; mcList = Arrays.asList(mcArray);\r\n\r\nIMHO this is much more readable.\r\n\r\nAnd to make it be an actual list (that can be modified, see limitations of `Arrays.asList()`) then just do the following:\r\n\r\n    List&lt;MyClass&gt; mcList = new ArrayList&lt;&gt;(Arrays.asList(mcArray));","title":"Deserialize a List&lt;T&gt; object with Gson?","body":"<p>Another way is to use an array as a type, e.g.:</p>\n\n<pre><code>MyClass[] mcArray = gson.fromJson(jsonString, MyClass[].class);\n</code></pre>\n\n<p>This way you avoid all the hassle with the Type object, and if you really need a list you can always convert the array to a list by:</p>\n\n<pre><code>List&lt;MyClass&gt; mcList = Arrays.asList(mcArray);\n</code></pre>\n\n<p>IMHO this is much more readable.</p>\n\n<p>And to make it be an actual list (that can be modified, see limitations of <code>Arrays.asList()</code>) then just do the following:</p>\n\n<pre><code>List&lt;MyClass&gt; mcList = new ArrayList&lt;&gt;(Arrays.asList(mcArray));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":427415,"reputation":838,"user_id":809164,"display_name":"Happier"},"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1430991263,"creation_date":1413423723,"answer_id":26394917,"question_id":5554217,"body_markdown":"Refer to this post.\r\nhttps://stackoverflow.com/questions/14139437/java-type-generic-as-argument-for-gson\r\n\r\nI have better solution for this. Here&#39;s the wrapper class for list so the wrapper can store the exactly type of list.\r\n\r\n    public class ListOfJson&lt;T&gt; implements ParameterizedType\r\n    {\r\n      private Class&lt;?&gt; wrapped;\r\n\r\n      public ListOfJson(Class&lt;T&gt; wrapper)\r\n      {\r\n        this.wrapped = wrapper;\r\n      }\r\n\r\n      @Override\r\n      public Type[] getActualTypeArguments()\r\n      {\r\n          return new Type[] { wrapped };\r\n      }\r\n\r\n      @Override\r\n      public Type getRawType()\r\n      {\r\n        return List.class;\r\n      }\r\n\r\n      @Override\r\n      public Type getOwnerType()\r\n      {\r\n        return null;\r\n      }\r\n    }\r\n\r\nAnd then, the code can be simple:\r\n\r\n    public static &lt;T&gt; List&lt;T&gt; toList(String json, Class&lt;T&gt; typeClass)\r\n    {\r\n        return sGson.fromJson(json, new ListOfJson&lt;T&gt;(typeClass));\r\n    }","title":"Deserialize a List&lt;T&gt; object with Gson?","body":"<p>Refer to this post.\n<a href=\"https://stackoverflow.com/questions/14139437/java-type-generic-as-argument-for-gson\">Java Type Generic as Argument for GSON</a></p>\n\n<p>I have better solution for this. Here's the wrapper class for list so the wrapper can store the exactly type of list.</p>\n\n<pre><code>public class ListOfJson&lt;T&gt; implements ParameterizedType\n{\n  private Class&lt;?&gt; wrapped;\n\n  public ListOfJson(Class&lt;T&gt; wrapper)\n  {\n    this.wrapped = wrapper;\n  }\n\n  @Override\n  public Type[] getActualTypeArguments()\n  {\n      return new Type[] { wrapped };\n  }\n\n  @Override\n  public Type getRawType()\n  {\n    return List.class;\n  }\n\n  @Override\n  public Type getOwnerType()\n  {\n    return null;\n  }\n}\n</code></pre>\n\n<p>And then, the code can be simple:</p>\n\n<pre><code>public static &lt;T&gt; List&lt;T&gt; toList(String json, Class&lt;T&gt; typeClass)\n{\n    return sGson.fromJson(json, new ListOfJson&lt;T&gt;(typeClass));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1144833,"reputation":7270,"user_id":1127843,"accept_rate":86,"display_name":"kayz1"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1425284017,"creation_date":1425284017,"answer_id":28805176,"question_id":5554217,"body_markdown":"\tpublic static final &lt;T&gt; List&lt;T&gt; getList(final Class&lt;T[]&gt; clazz, final String json)\r\n\t{\r\n\t\tfinal T[] jsonToObject = new Gson().fromJson(json, clazz);\r\n\r\n\t\treturn Arrays.asList(jsonToObject);\r\n\t}\r\n\r\nExample:\r\n\r\n    getList(MyClass[].class, &quot;[{...}]&quot;);","title":"Deserialize a List&lt;T&gt; object with Gson?","body":"<pre><code>public static final &lt;T&gt; List&lt;T&gt; getList(final Class&lt;T[]&gt; clazz, final String json)\n{\n    final T[] jsonToObject = new Gson().fromJson(json, clazz);\n\n    return Arrays.asList(jsonToObject);\n}\n</code></pre>\n\n<p>Example:</p>\n\n<pre><code>getList(MyClass[].class, \"[{...}]\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4835133,"reputation":301,"user_id":3902106,"display_name":"Apurva Sharma"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1439544883,"creation_date":1439544883,"answer_id":32006864,"question_id":5554217,"body_markdown":"I want to add for one more possibility. If you don&#39;t want to use TypeToken and want to convert json objects array to an ArrayList, then you can proceed like this:\r\n\r\nIf your json structure is like:\r\n\r\n    {\r\n    \r\n    &quot;results&quot;: [\r\n        {\r\n            &quot;a&quot;: 100,\r\n            &quot;b&quot;: &quot;value1&quot;,\r\n            &quot;c&quot;: true\r\n        },\r\n        {\r\n            &quot;a&quot;: 200,\r\n            &quot;b&quot;: &quot;value2&quot;,\r\n            &quot;c&quot;: false\r\n        },\r\n        {\r\n            &quot;a&quot;: 300,\r\n            &quot;b&quot;: &quot;value3&quot;,\r\n            &quot;c&quot;: true\r\n        }\r\n    ]\r\n}\r\n\r\nand your class structure is like:\r\n\r\n    public class ClassName implements Parcelable {\r\n    \r\n        public ArrayList&lt;InnerClassName&gt; results = new ArrayList&lt;InnerClassName&gt;();\r\n        public static class InnerClassName {\r\n            int a;\r\n            String b;\r\n            boolean c;\t\t\r\n        }\r\n    }\r\n\r\nthen you can parse it like:\r\n    \r\n    Gson gson = new Gson();\r\n    final ClassName className = gson.fromJson(data, ClassName.class);\r\n    int currentTotal = className.results.size();\r\n\r\nNow you can access each element of className object.","title":"Deserialize a List&lt;T&gt; object with Gson?","body":"<p>I want to add for one more possibility. If you don't want to use TypeToken and want to convert json objects array to an ArrayList, then you can proceed like this:</p>\n\n<p>If your json structure is like:</p>\n\n<pre><code>{\n\n\"results\": [\n    {\n        \"a\": 100,\n        \"b\": \"value1\",\n        \"c\": true\n    },\n    {\n        \"a\": 200,\n        \"b\": \"value2\",\n        \"c\": false\n    },\n    {\n        \"a\": 300,\n        \"b\": \"value3\",\n        \"c\": true\n    }\n]\n</code></pre>\n\n<p>}</p>\n\n<p>and your class structure is like:</p>\n\n<pre><code>public class ClassName implements Parcelable {\n\n    public ArrayList&lt;InnerClassName&gt; results = new ArrayList&lt;InnerClassName&gt;();\n    public static class InnerClassName {\n        int a;\n        String b;\n        boolean c;      \n    }\n}\n</code></pre>\n\n<p>then you can parse it like:</p>\n\n<pre><code>Gson gson = new Gson();\nfinal ClassName className = gson.fromJson(data, ClassName.class);\nint currentTotal = className.results.size();\n</code></pre>\n\n<p>Now you can access each element of className object.</p>\n"},{"tags":[],"owner":{"account_id":2518143,"reputation":481,"user_id":2189057,"accept_rate":40,"display_name":"mike83_dev"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1445302687,"creation_date":1445301293,"answer_id":33226150,"question_id":5554217,"body_markdown":"I liked the answer from kays1 but I couldn&#39;t implement it. So I built my own version using his concept.\r\n\r\n    public class JsonListHelper{\r\n        public static final &lt;T&gt; List&lt;T&gt; getList(String json) throws Exception {\r\n            Gson gson = new GsonBuilder().setDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;).create();\r\n            Type typeOfList = new TypeToken&lt;List&lt;T&gt;&gt;(){}.getType();\r\n            return gson.fromJson(json, typeOfList);\r\n        }\r\n    }\r\n\r\nUsage:\r\n\r\n    List&lt;MyClass&gt; MyList= JsonListHelper.getList(jsonArrayString);","title":"Deserialize a List&lt;T&gt; object with Gson?","body":"<p>I liked the answer from kays1 but I couldn't implement it. So I built my own version using his concept.</p>\n\n<pre><code>public class JsonListHelper{\n    public static final &lt;T&gt; List&lt;T&gt; getList(String json) throws Exception {\n        Gson gson = new GsonBuilder().setDateFormat(\"yyyy-MM-dd HH:mm:ss\").create();\n        Type typeOfList = new TypeToken&lt;List&lt;T&gt;&gt;(){}.getType();\n        return gson.fromJson(json, typeOfList);\n    }\n}\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>List&lt;MyClass&gt; MyList= JsonListHelper.getList(jsonArrayString);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":250813,"reputation":11515,"user_id":2191890,"accept_rate":56,"display_name":"Roc Boronat"},"down_vote_count":2,"up_vote_count":31,"is_accepted":false,"score":29,"last_activity_date":1464777129,"creation_date":1448623394,"answer_id":33956307,"question_id":5554217,"body_markdown":"Wep, another way to achieve the same result. We use it for its readability.\r\n\r\nInstead of doing this hard-to-read sentence:\r\n    \r\n    Type listType = new TypeToken&lt;ArrayList&lt;YourClass&gt;&gt;(){}.getType();\r\n    List&lt;YourClass&gt; list = new Gson().fromJson(jsonArray, listType);\r\n\r\nCreate a empty class that extends a List of your object:\r\n\r\n    public class YourClassList extends ArrayList&lt;YourClass&gt; {}\r\n\r\n\r\nAnd use it when parsing the JSON:\r\n\r\n    List&lt;YourClass&gt; list = new Gson().fromJson(jsonArray, YourClassList.class);\r\n","title":"Deserialize a List&lt;T&gt; object with Gson?","body":"<p>Wep, another way to achieve the same result. We use it for its readability.</p>\n\n<p>Instead of doing this hard-to-read sentence:</p>\n\n<pre><code>Type listType = new TypeToken&lt;ArrayList&lt;YourClass&gt;&gt;(){}.getType();\nList&lt;YourClass&gt; list = new Gson().fromJson(jsonArray, listType);\n</code></pre>\n\n<p>Create a empty class that extends a List of your object:</p>\n\n<pre><code>public class YourClassList extends ArrayList&lt;YourClass&gt; {}\n</code></pre>\n\n<p>And use it when parsing the JSON:</p>\n\n<pre><code>List&lt;YourClass&gt; list = new Gson().fromJson(jsonArray, YourClassList.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":413997,"reputation":434,"user_id":787971,"accept_rate":12,"display_name":"David Wood"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1639848642,"creation_date":1459440200,"answer_id":36338377,"question_id":5554217,"body_markdown":"Here is a solution that works with a dynamically defined type.  The trick is creating the proper type of of array using `Array.newInstance()`.\r\n\r\n\tpublic static &lt;T&gt; List&lt;T&gt; fromJsonList(String json, Class&lt;T&gt; clazz) {\r\n\t\tObject [] array = (Object[])java.lang.reflect.Array.newInstance(clazz, 0);\r\n\t\tarray = gson.fromJson(json, array.getClass());\r\n\t\tList&lt;T&gt; list = new ArrayList&lt;T&gt;();\r\n\t\tfor (int i=0 ; i&lt;array.length ; i++)\r\n\t\t\tlist.add(clazz.cast(array[i]));\r\n\t\treturn list; \r\n\t}\r\n","title":"Deserialize a List&lt;T&gt; object with Gson?","body":"<p>Here is a solution that works with a dynamically defined type.  The trick is creating the proper type of of array using <code>Array.newInstance()</code>.</p>\n<pre><code>public static &lt;T&gt; List&lt;T&gt; fromJsonList(String json, Class&lt;T&gt; clazz) {\n    Object [] array = (Object[])java.lang.reflect.Array.newInstance(clazz, 0);\n    array = gson.fromJson(json, array.getClass());\n    List&lt;T&gt; list = new ArrayList&lt;T&gt;();\n    for (int i=0 ; i&lt;array.length ; i++)\n        list.add(clazz.cast(array[i]));\n    return list; \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2135786,"reputation":801,"user_id":1895627,"accept_rate":86,"display_name":"Andrei"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1490369298,"creation_date":1490369298,"answer_id":43003439,"question_id":5554217,"body_markdown":"In My case @uncaught_exceptions&#39;s answer didn&#39;t work, I had to use `List.class` instead of `java.lang.reflect.Type`:\r\n\r\n    String jsonDuplicatedItems = request.getSession().getAttribute(&quot;jsonDuplicatedItems&quot;).toString();\r\n\tList&lt;Map.Entry&lt;Product, Integer&gt;&gt; entries = gson.fromJson(jsonDuplicatedItems, List.class);","title":"Deserialize a List&lt;T&gt; object with Gson?","body":"<p>In My case @uncaught_exceptions's answer didn't work, I had to use <code>List.class</code> instead of <code>java.lang.reflect.Type</code>:</p>\n\n<pre><code>String jsonDuplicatedItems = request.getSession().getAttribute(\"jsonDuplicatedItems\").toString();\nList&lt;Map.Entry&lt;Product, Integer&gt;&gt; entries = gson.fromJson(jsonDuplicatedItems, List.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6172948,"reputation":121,"user_id":4810731,"accept_rate":0,"display_name":"Ram Patro"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1505192095,"creation_date":1505075777,"answer_id":46145342,"question_id":5554217,"body_markdown":"Refer to example 2 for &#39;Type&#39; class understanding of Gson.\r\n\r\nExample 1: In this deserilizeResturant we used Employee[] array and get the details\r\n        \r\n    public static void deserializeResturant(){\r\n\r\n           String empList =&quot;[{\\&quot;name\\&quot;:\\&quot;Ram\\&quot;,\\&quot;empId\\&quot;:1},{\\&quot;name\\&quot;:\\&quot;Surya\\&quot;,\\&quot;empId\\&quot;:2},{\\&quot;name\\&quot;:\\&quot;Prasants\\&quot;,\\&quot;empId\\&quot;:3}]&quot;;\r\n           Gson gson = new Gson();\r\n           Employee[] emp = gson.fromJson(empList, Employee[].class);\r\n           int numberOfElementInJson = emp.length();\r\n           System.out.println(&quot;Total JSON Elements&quot; + numberOfElementInJson);\r\n           for(Employee e: emp){\r\n               System.out.println(e.getName());\r\n               System.out.println(e.getEmpId());\r\n           }\r\n       }\r\n\r\nExample 2:\r\n\r\n    //Above deserilizeResturant used Employee[] array but what if we need to use List&lt;Employee&gt;\r\n    public static void deserializeResturantUsingList(){\r\n\r\n        String empList =&quot;[{\\&quot;name\\&quot;:\\&quot;Ram\\&quot;,\\&quot;empId\\&quot;:1},{\\&quot;name\\&quot;:\\&quot;Surya\\&quot;,\\&quot;empId\\&quot;:2},{\\&quot;name\\&quot;:\\&quot;Prasants\\&quot;,\\&quot;empId\\&quot;:3}]&quot;;\r\n        Gson gson = new Gson();\r\n\r\n        // Additionally we need to se the Type then only it accepts List&lt;Employee&gt; which we sent here empTypeList\r\n        Type empTypeList = new TypeToken&lt;ArrayList&lt;Employee&gt;&gt;(){}.getType();\r\n\r\n\r\n        List&lt;Employee&gt; emp = gson.fromJson(empList, empTypeList);\r\n        int numberOfElementInJson = emp.size();\r\n        System.out.println(&quot;Total JSON Elements&quot; + numberOfElementInJson);\r\n        for(Employee e: emp){\r\n            System.out.println(e.getName());\r\n            System.out.println(e.getEmpId());\r\n        }\r\n    }","title":"Deserialize a List&lt;T&gt; object with Gson?","body":"<p>Refer to example 2 for 'Type' class understanding of Gson.</p>\n\n<p>Example 1: In this deserilizeResturant we used Employee[] array and get the details</p>\n\n<pre><code>public static void deserializeResturant(){\n\n       String empList =\"[{\\\"name\\\":\\\"Ram\\\",\\\"empId\\\":1},{\\\"name\\\":\\\"Surya\\\",\\\"empId\\\":2},{\\\"name\\\":\\\"Prasants\\\",\\\"empId\\\":3}]\";\n       Gson gson = new Gson();\n       Employee[] emp = gson.fromJson(empList, Employee[].class);\n       int numberOfElementInJson = emp.length();\n       System.out.println(\"Total JSON Elements\" + numberOfElementInJson);\n       for(Employee e: emp){\n           System.out.println(e.getName());\n           System.out.println(e.getEmpId());\n       }\n   }\n</code></pre>\n\n<p>Example 2:</p>\n\n<pre><code>//Above deserilizeResturant used Employee[] array but what if we need to use List&lt;Employee&gt;\npublic static void deserializeResturantUsingList(){\n\n    String empList =\"[{\\\"name\\\":\\\"Ram\\\",\\\"empId\\\":1},{\\\"name\\\":\\\"Surya\\\",\\\"empId\\\":2},{\\\"name\\\":\\\"Prasants\\\",\\\"empId\\\":3}]\";\n    Gson gson = new Gson();\n\n    // Additionally we need to se the Type then only it accepts List&lt;Employee&gt; which we sent here empTypeList\n    Type empTypeList = new TypeToken&lt;ArrayList&lt;Employee&gt;&gt;(){}.getType();\n\n\n    List&lt;Employee&gt; emp = gson.fromJson(empList, empTypeList);\n    int numberOfElementInJson = emp.size();\n    System.out.println(\"Total JSON Elements\" + numberOfElementInJson);\n    for(Employee e: emp){\n        System.out.println(e.getName());\n        System.out.println(e.getEmpId());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1804682,"reputation":32958,"user_id":1642079,"accept_rate":89,"display_name":"Chad Bingham"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1590756300,"creation_date":1508891210,"answer_id":46922019,"question_id":5554217,"body_markdown":"For Kotlin simply: \r\n\r\n    import java.lang.reflect.Type\r\n    import com.google.gson.reflect.TypeToken\r\n    ...\r\n    val type = object : TypeToken&lt;List&lt;T&gt;&gt;() {}.type\r\n\r\nor, here is a useful function:\r\n\r\n    fun &lt;T&gt; typeOfList(): Type {\r\n        return object : TypeToken&lt;List&lt;T&gt;&gt;() {}.type\r\n    }\r\n\r\nThen, to use:\r\n\r\n    val type = typeOfList&lt;YourMagicObject&gt;()\r\n","title":"Deserialize a List&lt;T&gt; object with Gson?","body":"<p>For Kotlin simply: </p>\n\n<pre><code>import java.lang.reflect.Type\nimport com.google.gson.reflect.TypeToken\n...\nval type = object : TypeToken&lt;List&lt;T&gt;&gt;() {}.type\n</code></pre>\n\n<p>or, here is a useful function:</p>\n\n<pre><code>fun &lt;T&gt; typeOfList(): Type {\n    return object : TypeToken&lt;List&lt;T&gt;&gt;() {}.type\n}\n</code></pre>\n\n<p>Then, to use:</p>\n\n<pre><code>val type = typeOfList&lt;YourMagicObject&gt;()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7022638,"reputation":58830,"user_id":5381331,"accept_rate":60,"display_name":"Linh"},"down_vote_count":0,"up_vote_count":88,"is_accepted":false,"score":88,"last_activity_date":1639845082,"creation_date":1534835091,"answer_id":51943312,"question_id":5554217,"body_markdown":"Since Gson 2.8, we can create util function like this:\r\n\r\n    public &lt;T&gt; List&lt;T&gt; getList(String jsonArray, Class&lt;T&gt; clazz) {\r\n        Type typeOfT = TypeToken.getParameterized(List.class, clazz).getType();\r\n        return new Gson().fromJson(jsonArray, typeOfT);\r\n    }\r\n\r\nExample usage:\r\n    \r\n    String jsonArray = ...\r\n    List&lt;User&gt; user = getList(jsonArray, User.class);\r\n\r\n","title":"Deserialize a List&lt;T&gt; object with Gson?","body":"<p>Since Gson 2.8, we can create util function like this:</p>\n<pre><code>public &lt;T&gt; List&lt;T&gt; getList(String jsonArray, Class&lt;T&gt; clazz) {\n    Type typeOfT = TypeToken.getParameterized(List.class, clazz).getType();\n    return new Gson().fromJson(jsonArray, typeOfT);\n}\n</code></pre>\n<p>Example usage:</p>\n<pre><code>String jsonArray = ...\nList&lt;User&gt; user = getList(jsonArray, User.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1610391417,"creation_date":1610391417,"answer_id":65672926,"question_id":5554217,"body_markdown":"I have created [GsonUtils][1] lib for this case. I add this into maven central repository.\r\n\r\n```java\r\nMap&lt;String, SimpleStructure&gt; expected = new HashMap&lt;&gt;();\r\nexpected.put(&quot;foo&quot;, new SimpleStructure(&quot;peperoni&quot;));\r\n\r\nString json = GsonUtils.writeValue(expected);\r\n\r\nMap&lt;String, SimpleStructure&gt; actual = GsonUtils.readMap(json, String.class, SimpleStructure.class);\r\n```\r\n\r\n\r\n  [1]: https://github.com/oleg-cherednik/GsonUtils","title":"Deserialize a List&lt;T&gt; object with Gson?","body":"<p>I have created <a href=\"https://github.com/oleg-cherednik/GsonUtils\" rel=\"nofollow noreferrer\">GsonUtils</a> lib for this case. I add this into maven central repository.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, SimpleStructure&gt; expected = new HashMap&lt;&gt;();\nexpected.put(&quot;foo&quot;, new SimpleStructure(&quot;peperoni&quot;));\n\nString json = GsonUtils.writeValue(expected);\n\nMap&lt;String, SimpleStructure&gt; actual = GsonUtils.readMap(json, String.class, SimpleStructure.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4730901,"reputation":709,"user_id":3826579,"accept_rate":56,"display_name":"Peterstev Uremgba"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1627858012,"creation_date":1627857620,"answer_id":68614886,"question_id":5554217,"body_markdown":"using Kotlin, you can get generic MutableList type for all custom Serializable  Types\r\n\r\n```\r\nprivate fun &lt;T : Serializable&gt; getGenericList(\r\n    sharedPreferences: SharedPreferences,\r\n    key: String,\r\n    clazz: KClass&lt;T&gt;\r\n): List&lt;T&gt; {\r\n    return sharedPreferences.let { prefs -&gt;\r\n        val data = prefs.getString(key, null)\r\n        val type: Type = TypeToken.getParameterized(MutableList::class.java, clazz.java).type\r\n        gson.fromJson(data, type) as MutableList&lt;T&gt;\r\n    }\r\n}\r\n```\r\nyou can call this function \r\n\r\n```\r\ngetGenericList.(sharedPrefObj, sharedpref_key, GenericClass::class)\r\n```","title":"Deserialize a List&lt;T&gt; object with Gson?","body":"<p>using Kotlin, you can get generic MutableList type for all custom Serializable  Types</p>\n<pre><code>private fun &lt;T : Serializable&gt; getGenericList(\n    sharedPreferences: SharedPreferences,\n    key: String,\n    clazz: KClass&lt;T&gt;\n): List&lt;T&gt; {\n    return sharedPreferences.let { prefs -&gt;\n        val data = prefs.getString(key, null)\n        val type: Type = TypeToken.getParameterized(MutableList::class.java, clazz.java).type\n        gson.fromJson(data, type) as MutableList&lt;T&gt;\n    }\n}\n</code></pre>\n<p>you can call this function</p>\n<pre><code>getGenericList.(sharedPrefObj, sharedpref_key, GenericClass::class)\n</code></pre>\n"}],"owner":{"account_id":335418,"reputation":7908,"user_id":662493,"accept_rate":100,"display_name":"jellyfish"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":428738,"favorite_count":0,"down_vote_count":0,"up_vote_count":532,"accepted_answer_id":5554296,"answer_count":15,"score":532,"last_activity_date":1671453302,"creation_date":1302016653,"question_id":5554217,"body_markdown":"I want to transfer a list object via Google Gson, but I don&#39;t know how to deserialize generic types. \r\n\r\nWhat I tried after looking at [this][1] (BalusC&#39;s answer):\r\n\r\n    MyClass mc = new Gson().fromJson(result, new List&lt;MyClass&gt;() {}.getClass());\r\n\r\nbut then I get an error in Eclipse saying &quot;The type new `List&lt;MyClass&gt;() {}` must implement the inherited abstract method...&quot; and if I use a quick fix I get a monster of over 20 method stubs. \r\n\r\nI am pretty sure that there is an easier solution, but I seem unable to find it!\r\n\r\nNow I have this:\r\n\r\n    Type listType = new TypeToken&lt;List&lt;MyClass&gt;&gt;() {}.getType();\r\n\r\n    MyClass mc = new Gson().fromJson(result, listType);\r\n\r\nHowever, I do get the following exception at the `fromJson` line:\r\n\r\n    java.lang.NullPointerException\r\n    at org.apache.harmony.luni.lang.reflect.ListOfTypes.length(ListOfTypes.java:47)\r\n    at org.apache.harmony.luni.lang.reflect.ImplForType.toString(ImplForType.java:83)\r\n    at java.lang.StringBuilder.append(StringBuilder.java:203)\r\n    at com.google.gson.JsonDeserializerExceptionWrapper.deserialize(JsonDeserializerExceptionWrapper.java:56)\r\n    at com.google.gson.JsonDeserializationVisitor.invokeCustomDeserializer(JsonDeserializationVisitor.java:88)\r\n    at com.google.gson.JsonDeserializationVisitor.visitUsingCustomHandler(JsonDeserializationVisitor.java:76)\r\n    at com.google.gson.ObjectNavigator.accept(ObjectNavigator.java:106)\r\n    at com.google.gson.JsonDeserializationContextDefault.fromJsonArray(JsonDeserializationContextDefault.java:64)\r\n    at com.google.gson.JsonDeserializationContextDefault.deserialize(JsonDeserializationContextDefault.java:49)\r\n    at com.google.gson.Gson.fromJson(Gson.java:568)\r\n    at com.google.gson.Gson.fromJson(Gson.java:515)\r\n    at com.google.gson.Gson.fromJson(Gson.java:484)\r\n    at com.google.gson.Gson.fromJson(Gson.java:434)\r\n\r\nI *do* catch `JsonParseExceptions` and `result` is not null.\r\n\r\nI checked `listType` with the debugger and got the following:\r\n\r\n - `list Type` \r\n    - `args = ListOfTypes`\r\n        - `list = null`\r\n        - `resolvedTypes = Type[ 1 ]`\r\n    - `loader = PathClassLoader`\r\n    - `ownerType0 = null`\r\n    - `ownerTypeRes = null`\r\n    - `rawType = Class (java.util.ArrayList)`\r\n    - `rawTypeName = &quot;java.util.ArrayList&quot;`\r\n   \r\nSo it seems the `getClass` invocation didn&#39;t work properly. Any suggestions...?\r\n\r\n\r\nI&#39;ve checked on the [Gson User Guide][2]. It mentions a runtime exception that should happen during parsing a generic type to Json. I did it &quot;wrong&quot; (not shown above), just as in the example, but didn&#39;t get that exception at all. So I changed the serialization as in the user guide suggested. Didn&#39;t help, though.\r\n\r\nEdit:\r\n\r\nSolved, see my answer below.\r\n\r\n  [1]: https://stackoverflow.com/questions/2496494/library-to-encode-decode-from-json-to-java-util-map\r\n  [2]: http://sites.google.com/site/gson/gson-user-guide#TOC-Serializing-and-Deserializing-Gener","title":"Deserialize a List&lt;T&gt; object with Gson?","body":"<p>I want to transfer a list object via Google Gson, but I don't know how to deserialize generic types.</p>\n<p>What I tried after looking at <a href=\"https://stackoverflow.com/questions/2496494/library-to-encode-decode-from-json-to-java-util-map\">this</a> (BalusC's answer):</p>\n<pre><code>MyClass mc = new Gson().fromJson(result, new List&lt;MyClass&gt;() {}.getClass());\n</code></pre>\n<p>but then I get an error in Eclipse saying &quot;The type new <code>List&lt;MyClass&gt;() {}</code> must implement the inherited abstract method...&quot; and if I use a quick fix I get a monster of over 20 method stubs.</p>\n<p>I am pretty sure that there is an easier solution, but I seem unable to find it!</p>\n<p>Now I have this:</p>\n<pre><code>Type listType = new TypeToken&lt;List&lt;MyClass&gt;&gt;() {}.getType();\n\nMyClass mc = new Gson().fromJson(result, listType);\n</code></pre>\n<p>However, I do get the following exception at the <code>fromJson</code> line:</p>\n<pre><code>java.lang.NullPointerException\nat org.apache.harmony.luni.lang.reflect.ListOfTypes.length(ListOfTypes.java:47)\nat org.apache.harmony.luni.lang.reflect.ImplForType.toString(ImplForType.java:83)\nat java.lang.StringBuilder.append(StringBuilder.java:203)\nat com.google.gson.JsonDeserializerExceptionWrapper.deserialize(JsonDeserializerExceptionWrapper.java:56)\nat com.google.gson.JsonDeserializationVisitor.invokeCustomDeserializer(JsonDeserializationVisitor.java:88)\nat com.google.gson.JsonDeserializationVisitor.visitUsingCustomHandler(JsonDeserializationVisitor.java:76)\nat com.google.gson.ObjectNavigator.accept(ObjectNavigator.java:106)\nat com.google.gson.JsonDeserializationContextDefault.fromJsonArray(JsonDeserializationContextDefault.java:64)\nat com.google.gson.JsonDeserializationContextDefault.deserialize(JsonDeserializationContextDefault.java:49)\nat com.google.gson.Gson.fromJson(Gson.java:568)\nat com.google.gson.Gson.fromJson(Gson.java:515)\nat com.google.gson.Gson.fromJson(Gson.java:484)\nat com.google.gson.Gson.fromJson(Gson.java:434)\n</code></pre>\n<p>I <em>do</em> catch <code>JsonParseExceptions</code> and <code>result</code> is not null.</p>\n<p>I checked <code>listType</code> with the debugger and got the following:</p>\n<ul>\n<li><code>list Type</code>\n<ul>\n<li><code>args = ListOfTypes</code>\n<ul>\n<li><code>list = null</code></li>\n<li><code>resolvedTypes = Type[ 1 ]</code></li>\n</ul>\n</li>\n<li><code>loader = PathClassLoader</code></li>\n<li><code>ownerType0 = null</code></li>\n<li><code>ownerTypeRes = null</code></li>\n<li><code>rawType = Class (java.util.ArrayList)</code></li>\n<li><code>rawTypeName = &quot;java.util.ArrayList&quot;</code></li>\n</ul>\n</li>\n</ul>\n<p>So it seems the <code>getClass</code> invocation didn't work properly. Any suggestions...?</p>\n<p>I've checked on the <a href=\"http://sites.google.com/site/gson/gson-user-guide#TOC-Serializing-and-Deserializing-Gener\" rel=\"noreferrer\">Gson User Guide</a>. It mentions a runtime exception that should happen during parsing a generic type to Json. I did it &quot;wrong&quot; (not shown above), just as in the example, but didn't get that exception at all. So I changed the serialization as in the user guide suggested. Didn't help, though.</p>\n<p>Edit:</p>\n<p>Solved, see my answer below.</p>\n"},{"tags":["java","android-studio"],"owner":{"account_id":23188436,"reputation":1,"user_id":17285155,"display_name":"ahsdsgfc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1671453128,"answer_count":0,"score":0,"last_activity_date":1671453123,"creation_date":1671417003,"question_id":74845824,"body_markdown":"I have an activity that has a button that calling a random activity, but I always encounter this error. I&#39;m still learning, so I really have no idea.  \r\n\r\n&gt; java.lang.NullPointerException: Attempt to invoke virtual method\r\n&gt; &#39;java.lang.Object android.os.Bundle.get(java.lang.String)&#39; on a null\r\n&gt; object reference\r\n\r\n\r\n```\r\nbutton = (Button) findViewById(R.id.play);\r\nbutton.setOnClickListener(new View.OnClickListener() {\r\n    @Override\r\n    public void onClick(View v) {\r\n        ArrayList&lt;Class&gt; activityList = new ArrayList&lt;&gt;();\r\n        activityList.add(eleven14.class);\r\n        activityList.add(fourth10.class);\r\n        activityList.add(MainActivity15.class);\r\n        activityList.add(MainActivity16.class);\r\n        activityList.add(nine15.class);\r\n        activityList.add(sixth8.class);\r\n        activityList.add(ten14.class);\r\n        activityList.add(twelve15.class);\r\n\r\n        Random generator = new Random();\r\n        int number = generator.nextInt(8) + 1;\r\n\r\n        Class activity = null;\r\n\r\n        // Here, we are checking to see what the output of the random was\r\n        switch(number) {\r\n            case 1:\r\n                activity = eleven14.class;\r\n                // We are adding the number of the activity to the list\r\n                activityList.remove(eleven14.class);\r\n                break;\r\n            case 2:\r\n                activity = fourth10.class;\r\n                activityList.remove(fourth10.class);\r\n                break;\r\n            case 3:\r\n                activity = MainActivity16.class;\r\n                activityList.remove(MainActivity16.class);\r\n                break;\r\n            case 4:\r\n                activity = nine15.class;\r\n                activityList.remove(nine15.class);\r\n                break;\r\n            case 5:\r\n                activity = sixth8.class;\r\n                activityList.remove(sixth8.class);\r\n                break;\r\n            case 6:\r\n                activity = ten14.class;\r\n                activityList.remove(ten14.class);\r\n                break;\r\n            case 7:\r\n                activity = twelve15.class;\r\n                activityList.remove(twelve15.class);\r\n                break;\r\n            default:\r\n                activity = MainActivity15.class;\r\n                activityList.remove(MainActivity15.class);\r\n                break;\r\n        }\r\n        // We use intents to start activities\r\n        Intent intent = new Intent(getBaseContext(), activity);\r\n        // `intent.putExtra(...)` is used to pass on extra information to the next activity\r\n        intent.putExtra(&quot;LIST_A&quot;, activityList);\r\n        startActivity(intent);\r\n    }\r\n});\r\n```\r\n\r\nI put this to other activity\r\n\r\n```\r\nArrayList&lt;Class&gt; activityList = new ArrayList&lt;&gt;();\r\nBundle extras = getIntent().getExtras();\r\nactivityList = (ArrayList&lt;Class&gt;) extras.get(&quot;LIST_A&quot;);\r\n\r\nif (activityList.size() == 0) {\r\n    showDialog();\r\n} else {\r\n    int r = new Random().nextInt(activityList.size());\r\n    Class&lt;? extends Activity&gt; activity = activityList.remove(r);\r\n\r\n    Intent intent = new Intent(getBaseContext(), activity);\r\n    intent.putExtra(&quot;LIST_A&quot;, activityList);\r\n    startActivity(intent);\r\n}\r\n```\r\n\r\n\r\n","title":"java.lang.NullPointerException: Attempt to invoke virtual method &#39;java.lang.Object android.os.Bundle.get(java.lang.String)&#39; on a null object reference","body":"<p>I have an activity that has a button that calling a random activity, but I always encounter this error. I'm still learning, so I really have no idea.</p>\n<blockquote>\n<p>java.lang.NullPointerException: Attempt to invoke virtual method\n'java.lang.Object android.os.Bundle.get(java.lang.String)' on a null\nobject reference</p>\n</blockquote>\n<pre><code>button = (Button) findViewById(R.id.play);\nbutton.setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View v) {\n        ArrayList&lt;Class&gt; activityList = new ArrayList&lt;&gt;();\n        activityList.add(eleven14.class);\n        activityList.add(fourth10.class);\n        activityList.add(MainActivity15.class);\n        activityList.add(MainActivity16.class);\n        activityList.add(nine15.class);\n        activityList.add(sixth8.class);\n        activityList.add(ten14.class);\n        activityList.add(twelve15.class);\n\n        Random generator = new Random();\n        int number = generator.nextInt(8) + 1;\n\n        Class activity = null;\n\n        // Here, we are checking to see what the output of the random was\n        switch(number) {\n            case 1:\n                activity = eleven14.class;\n                // We are adding the number of the activity to the list\n                activityList.remove(eleven14.class);\n                break;\n            case 2:\n                activity = fourth10.class;\n                activityList.remove(fourth10.class);\n                break;\n            case 3:\n                activity = MainActivity16.class;\n                activityList.remove(MainActivity16.class);\n                break;\n            case 4:\n                activity = nine15.class;\n                activityList.remove(nine15.class);\n                break;\n            case 5:\n                activity = sixth8.class;\n                activityList.remove(sixth8.class);\n                break;\n            case 6:\n                activity = ten14.class;\n                activityList.remove(ten14.class);\n                break;\n            case 7:\n                activity = twelve15.class;\n                activityList.remove(twelve15.class);\n                break;\n            default:\n                activity = MainActivity15.class;\n                activityList.remove(MainActivity15.class);\n                break;\n        }\n        // We use intents to start activities\n        Intent intent = new Intent(getBaseContext(), activity);\n        // `intent.putExtra(...)` is used to pass on extra information to the next activity\n        intent.putExtra(&quot;LIST_A&quot;, activityList);\n        startActivity(intent);\n    }\n});\n</code></pre>\n<p>I put this to other activity</p>\n<pre><code>ArrayList&lt;Class&gt; activityList = new ArrayList&lt;&gt;();\nBundle extras = getIntent().getExtras();\nactivityList = (ArrayList&lt;Class&gt;) extras.get(&quot;LIST_A&quot;);\n\nif (activityList.size() == 0) {\n    showDialog();\n} else {\n    int r = new Random().nextInt(activityList.size());\n    Class&lt;? extends Activity&gt; activity = activityList.remove(r);\n\n    Intent intent = new Intent(getBaseContext(), activity);\n    intent.putExtra(&quot;LIST_A&quot;, activityList);\n    startActivity(intent);\n}\n</code></pre>\n"},{"tags":["java","android","kotlin","android-workmanager"],"owner":{"account_id":18268534,"reputation":408,"user_id":13299740,"display_name":"Tieria"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671452500,"creation_date":1671452500,"question_id":74850459,"body_markdown":"When use WorkManager with one of these:\r\n\r\n    .setExpedited(OutOfQuotaPolicy.RUN_AS_NON_EXPEDITED_WORK_REQUEST)\r\n    .setExpedited(OutOfQuotaPolicy.DROP_WORK_REQUEST) \r\n\r\nAt this time, I want to detect if the device could not run as expedited. Is it possible to Try-catch or any other ways to detect when OutOfQuota? \r\n\r\nThank you.","title":"Detect if Expedited is OutOfQuota for WorkManager Android","body":"<p>When use WorkManager with one of these:</p>\n<pre><code>.setExpedited(OutOfQuotaPolicy.RUN_AS_NON_EXPEDITED_WORK_REQUEST)\n.setExpedited(OutOfQuotaPolicy.DROP_WORK_REQUEST) \n</code></pre>\n<p>At this time, I want to detect if the device could not run as expedited. Is it possible to Try-catch or any other ways to detect when OutOfQuota?</p>\n<p>Thank you.</p>\n"},{"tags":["java","spring","tomcat"],"comments":[{"owner":{"account_id":1696393,"reputation":748,"user_id":1557707,"accept_rate":67,"display_name":"vish213"},"score":0,"creation_date":1671448540,"post_id":74848686,"comment_id":132094171,"body_markdown":"Can you please share ls output of webapps directory? Also would it be possible for you to share full server.xml file?","body":"Can you please share ls output of webapps directory? Also would it be possible for you to share full server.xml file?"},{"owner":{"account_id":1696393,"reputation":748,"user_id":1557707,"accept_rate":67,"display_name":"vish213"},"score":0,"creation_date":1671448855,"post_id":74848686,"comment_id":132094253,"body_markdown":"Btw: It is NOT recommended to place &lt;Context&gt; elements directly in the server.xml file.","body":"Btw: It is NOT recommended to place &lt;Context&gt; elements directly in the server.xml file."},{"owner":{"account_id":20892011,"reputation":99,"user_id":15347191,"display_name":"Nguyen Cuc"},"score":0,"creation_date":1671449954,"post_id":74848686,"comment_id":132094525,"body_markdown":"@vish213 : thanks for your comment, I have been update all as you need","body":"@vish213 : thanks for your comment, I have been update all as you need"},{"owner":{"account_id":1696393,"reputation":748,"user_id":1557707,"accept_rate":67,"display_name":"vish213"},"score":0,"creation_date":1671450145,"post_id":74848686,"comment_id":132094570,"body_markdown":"Sorry I should I have clarified, I meant webapps directory of tomcat. You&#39;ll find it in apache-tomcat-8.5.x directory.","body":"Sorry I should I have clarified, I meant webapps directory of tomcat. You&#39;ll find it in apache-tomcat-8.5.x directory."},{"owner":{"account_id":20892011,"reputation":99,"user_id":15347191,"display_name":"Nguyen Cuc"},"score":0,"creation_date":1671452486,"post_id":74848686,"comment_id":132095188,"body_markdown":"@vish213 : thanks, I have been update the webapps folder as you need, you can download it and give me some advices ?","body":"@vish213 : thanks, I have been update the webapps folder as you need, you can download it and give me some advices ?"},{"owner":{"account_id":1696393,"reputation":748,"user_id":1557707,"accept_rate":67,"display_name":"vish213"},"score":0,"creation_date":1671511765,"post_id":74848686,"comment_id":132109738,"body_markdown":"Your webapps folder doesn&#39;t have the application at all. The folder you&#39;re referring in docBase needs to be present in this directory. You can refer to https://tomcat.apache.org/tomcat-9.0-doc/deployer-howto.html","body":"Your webapps folder doesn&#39;t have the application at all. The folder you&#39;re referring in docBase needs to be present in this directory. You can refer to <a href=\"https://tomcat.apache.org/tomcat-9.0-doc/deployer-howto.html\" rel=\"nofollow noreferrer\">tomcat.apache.org/tomcat-9.0-doc/deployer-howto.html</a>"}],"answers":[{"tags":[],"owner":{"account_id":1696393,"reputation":748,"user_id":1557707,"accept_rate":67,"display_name":"vish213"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671448956,"creation_date":1671448956,"answer_id":74849796,"question_id":74848686,"body_markdown":"Most probably the docBase=&quot;DemoSpringMVC&quot; you&#39;re referring to doesn&#39;t exist in webapp directory, because the war/jar file you might have built contains &quot;SNAPSHOT&quot; like strings.","title":"java spring problem : project can not run on tomcat server even though edited the server.xml file?","body":"<p>Most probably the docBase=&quot;DemoSpringMVC&quot; you're referring to doesn't exist in webapp directory, because the war/jar file you might have built contains &quot;SNAPSHOT&quot; like strings.</p>\n"}],"owner":{"account_id":20892011,"reputation":99,"user_id":15347191,"display_name":"Nguyen Cuc"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671452428,"creation_date":1671442914,"question_id":74848686,"body_markdown":"I am newbie with java spring and here is my problem.\r\n\r\nI created a simple project named DiamonShop and tried to run it by tomcat 9.0.62.\r\n\r\nBut it show me this error\r\n\r\n[![my error][1]][1]\r\n\r\n\r\nI think that the error is because of the file server.xml, because I have 2 projects named DemoSpringMVC and DiamonShop, in the file server.xml, I found that there is this line\r\n\r\n    &lt;Context docBase=&quot;DemoSpringMVC&quot; path=&quot;/DemoSpringMVC&quot; reloadable=&quot;true&quot; source=&quot;org.eclipse.jst.jee.server:DemoSpringMVC&quot;/&gt;\r\n      &lt;Context docBase=&quot;DiamonShop&quot; path=&quot;/DiamonShop&quot; reloadable=&quot;true&quot; source=&quot;org.eclipse.jst.jee.server:DiamonShop&quot;/&gt;&lt;/Host&gt;\r\n\r\nAnd the link `http://localhost:8888/DemoSpringMVC/` worked perfectly\r\nWhen I changed the line above into this\r\n\r\n    &lt;Context docBase=&quot;DiamonShop&quot; path=&quot;/DiamonShop&quot; reloadable=&quot;true&quot; source=&quot;org.eclipse.jst.jee.server:DiamonShop&quot;/&gt;&lt;/Host&gt;\r\n\r\nThe link `http://localhost:8888/DemoSpringMVC/` did not work, so I thought that maybe the link `http://localhost:8888/DiamonShop/` must work ? But it did not.\r\n\r\nI also tried tomcat 8.5 and tomcat 10, but it showed the same error.\r\n\r\nHere is my code (DemoSpringMVC and DiamonShop), for reference, if you need.\r\n\r\n    https://github.com/nguyencuc2586/Spring3.3\r\n    https://github.com/nguyencuc2586/DIamonShop4.1\r\n\r\nHere is my webapp directory\r\n\r\n[![webapp directory][2]][2]\r\n\r\nHere is my server.xml file\r\n\r\n    https://github.com/nguyencuc2586/DiamonShop4.1Serverfile\r\n\r\nHere is my webapp at my apache-tomcat\r\n\r\n    https://github.com/nguyencuc2586/DiamonShop4.1apache-tomcat-9.0.62-webapps\r\n\r\nCould you please give me some advices for this problem ? Thank you in advance.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3SoUl.png\r\n  [2]: https://i.stack.imgur.com/J3vib.png","title":"java spring problem : project can not run on tomcat server even though edited the server.xml file?","body":"<p>I am newbie with java spring and here is my problem.</p>\n<p>I created a simple project named DiamonShop and tried to run it by tomcat 9.0.62.</p>\n<p>But it show me this error</p>\n<p><a href=\"https://i.stack.imgur.com/3SoUl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3SoUl.png\" alt=\"my error\" /></a></p>\n<p>I think that the error is because of the file server.xml, because I have 2 projects named DemoSpringMVC and DiamonShop, in the file server.xml, I found that there is this line</p>\n<pre><code>&lt;Context docBase=&quot;DemoSpringMVC&quot; path=&quot;/DemoSpringMVC&quot; reloadable=&quot;true&quot; source=&quot;org.eclipse.jst.jee.server:DemoSpringMVC&quot;/&gt;\n  &lt;Context docBase=&quot;DiamonShop&quot; path=&quot;/DiamonShop&quot; reloadable=&quot;true&quot; source=&quot;org.eclipse.jst.jee.server:DiamonShop&quot;/&gt;&lt;/Host&gt;\n</code></pre>\n<p>And the link <code>http://localhost:8888/DemoSpringMVC/</code> worked perfectly\nWhen I changed the line above into this</p>\n<pre><code>&lt;Context docBase=&quot;DiamonShop&quot; path=&quot;/DiamonShop&quot; reloadable=&quot;true&quot; source=&quot;org.eclipse.jst.jee.server:DiamonShop&quot;/&gt;&lt;/Host&gt;\n</code></pre>\n<p>The link <code>http://localhost:8888/DemoSpringMVC/</code> did not work, so I thought that maybe the link <code>http://localhost:8888/DiamonShop/</code> must work ? But it did not.</p>\n<p>I also tried tomcat 8.5 and tomcat 10, but it showed the same error.</p>\n<p>Here is my code (DemoSpringMVC and DiamonShop), for reference, if you need.</p>\n<pre><code>https://github.com/nguyencuc2586/Spring3.3\nhttps://github.com/nguyencuc2586/DIamonShop4.1\n</code></pre>\n<p>Here is my webapp directory</p>\n<p><a href=\"https://i.stack.imgur.com/J3vib.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/J3vib.png\" alt=\"webapp directory\" /></a></p>\n<p>Here is my server.xml file</p>\n<pre><code>https://github.com/nguyencuc2586/DiamonShop4.1Serverfile\n</code></pre>\n<p>Here is my webapp at my apache-tomcat</p>\n<pre><code>https://github.com/nguyencuc2586/DiamonShop4.1apache-tomcat-9.0.62-webapps\n</code></pre>\n<p>Could you please give me some advices for this problem ? Thank you in advance.</p>\n"},{"tags":["java","maven-plugin","maven-dependency-plugin","org.json"],"comments":[{"owner":{"account_id":25125122,"reputation":468,"user_id":18973005,"display_name":"Randommm"},"score":0,"creation_date":1671452046,"post_id":74850319,"comment_id":132095087,"body_markdown":"https://mvnrepository.com/artifact/org.json/json I don&#39;t see such version","body":"<a href=\"https://mvnrepository.com/artifact/org.json/json\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/org.json/json</a> I don&#39;t see such version"}],"answers":[{"tags":[],"owner":{"account_id":15800454,"reputation":120,"user_id":11401122,"display_name":"Bonniu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671452190,"creation_date":1671452190,"answer_id":74850402,"question_id":74850319,"body_markdown":"Version you added is not available in maven repository, find proper version on [this site][1]. For example, this dependency should work:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.json&lt;/groupId&gt;\r\n        &lt;artifactId&gt;json&lt;/artifactId&gt;\r\n        &lt;version&gt;20220924&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/org.json/json","title":"The POM for org.json:json:jar:20210118 is missing, no dependency information available","body":"<p>Version you added is not available in maven repository, find proper version on <a href=\"https://mvnrepository.com/artifact/org.json/json\" rel=\"nofollow noreferrer\">this site</a>. For example, this dependency should work:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.json&lt;/groupId&gt;\n    &lt;artifactId&gt;json&lt;/artifactId&gt;\n    &lt;version&gt;20220924&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":21673536,"reputation":31,"user_id":15990842,"display_name":"Ranga chimalgi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":959,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74850402,"answer_count":1,"score":1,"last_activity_date":1671452190,"creation_date":1671451768,"question_id":74850319,"body_markdown":"I am adding jar dependency in pom.xml file in maven project \r\n \r\n```\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;org.json&lt;/groupId&gt;\r\n   &lt;artifactId&gt;json&lt;/artifactId&gt;\r\n   &lt;version&gt;20210118&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n```\r\n\r\nbut i got error: The POM for org.json:json:jar:20210118 is missing, no dependency information available\r\n\r\n\r\nI am trying add that dependency ","title":"The POM for org.json:json:jar:20210118 is missing, no dependency information available","body":"<p>I am adding jar dependency in pom.xml file in maven project</p>\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;org.json&lt;/groupId&gt;\n   &lt;artifactId&gt;json&lt;/artifactId&gt;\n   &lt;version&gt;20210118&lt;/version&gt;\n&lt;/dependency&gt;\n\n</code></pre>\n<p>but i got error: The POM for org.json:json:jar:20210118 is missing, no dependency information available</p>\n<p>I am trying add that dependency</p>\n"},{"tags":["java","compiler-errors","decode"],"comments":[{"owner":{"account_id":20433410,"reputation":19832,"user_id":14991864,"display_name":"Abdul Aziz Barkat"},"score":0,"creation_date":1672843417,"post_id":74850304,"comment_id":132364389,"body_markdown":"Does this answer your question? [Error of int cannot be dereferenced?](https://stackoverflow.com/questions/28213083/error-of-int-cannot-be-dereferenced)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/28213083/error-of-int-cannot-be-dereferenced\">Error of int cannot be dereferenced?</a>"}],"answers":[{"tags":[],"owner":{"account_id":2818342,"reputation":299858,"user_id":2422776,"display_name":"Mureinik"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1671451953,"creation_date":1671451953,"answer_id":74850353,"question_id":74850304,"body_markdown":"[`decode`](https://docs.oracle.com/javase/7/docs/api/java/lang/Integer.html#decode(java.lang.String)) is a `static` method that belongs to the wrapper class `Integer`, not the primitive `int` (primitives don&#39;t have methods anyway):\r\n\r\n```java\r\nfirstNum = Integer.decode(firstNumS);\r\n```","title":"How does the .decode() method work in Java?","body":"<p><a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Integer.html#decode(java.lang.String)\" rel=\"nofollow noreferrer\"><code>decode</code></a> is a <code>static</code> method that belongs to the wrapper class <code>Integer</code>, not the primitive <code>int</code> (primitives don't have methods anyway):</p>\n<pre class=\"lang-java prettyprint-override\"><code>firstNum = Integer.decode(firstNumS);\n</code></pre>\n"}],"owner":{"account_id":10187542,"reputation":409,"user_id":20692967,"display_name":"Sergey Zolotarev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1671452187,"creation_date":1671451661,"question_id":74850304,"body_markdown":"I need to make a calculator that can work with numbers of up to ten, both Arab and Roman numbers. I decided to use the *String* method *.compareTo()* to help my program figure out whether it&#39;s one or the other. Now, I want to convert numerical *Strings* to *Integers*. I [found][1] an *int* method for decoding *Strings* to *ints*, but it doesn&#39;t appear to work: it returns an error\r\n\r\n```\r\nIntroduction.java:52: error: int cannot be dereferenced\r\n      firstNum = firstNum.decode(firstNumS);\r\n                         ^\r\nIntroduction.java:90: error: int cannot be dereferenced\r\n      secondNum = secondNum.decode(secondNumS);\r\n```\r\n\r\nWhy is that? Here&#39;s my code (bear with me, it may be a bit clumsy)\r\n\r\n```\r\nimport java.util.Scanner;\r\nimport java.io.IOException;\r\n\r\npublic class Introduction {\r\n  static int firstNum = 0;\r\n  static int secondNum = 0;\r\n  static double result;\r\n  public static void main(String[] args) {\r\n    String firstNumS = &quot;1&quot;;\r\n    String secondNumS = &quot;2&quot;;\r\n    String operationS = &quot;+&quot;;\r\n    Scanner scanner = new Scanner(System.in);\r\n    firstNumS = scanner.next();\r\n    operationS = scanner.next();\r\n    secondNumS = scanner.next();\r\n    if(firstNumS.compareTo(operationS) &gt; 15){\r\n      switch(firstNumS){\r\n      case &quot;I&quot;:\r\n      firstNum = 1;\r\n      break;\r\n      case &quot;II&quot;:\r\n      firstNum = 2;\r\n      break;\r\n      case &quot;III&quot;:\r\n      firstNum = 3;\r\n      break;\r\n      case &quot;IV&quot;:\r\n      firstNum = 4;\r\n      break;\r\n      case &quot;V&quot;:\r\n      firstNum = 5;\r\n      break;\r\n      case &quot;VI&quot;:\r\n      firstNum = 6;\r\n      break;\r\n      case &quot;VII&quot;:\r\n      firstNum = 7;\r\n      break;\r\n      case &quot;VIII&quot;:\r\n      firstNum = 8;\r\n      break;\r\n      case &quot;IX&quot;:\r\n      firstNum = 9;\r\n      break;\r\n      case &quot;X&quot;:\r\n      firstNum = 10;\r\n      break;\r\n      default:\r\n      System.out.println(&quot;I don&#39;t know the first number!&quot;);\r\n    }\r\n    } else {\r\n      firstNum = firstNum.decode(firstNumS);\r\n    }\r\n    if(secondNumS.compareTo(operationS) &gt; 15){\r\n      switch(secondNumS){\r\n      case &quot;I&quot;:\r\n      secondNum = 1;\r\n      break;\r\n      case &quot;II&quot;:\r\n      secondNum = 2;\r\n      break;\r\n      case &quot;III&quot;:\r\n      secondNum = 3;\r\n      break;\r\n      case &quot;IV&quot;:\r\n      secondNum = 4;\r\n      break;\r\n      case &quot;V&quot;:\r\n      secondNum = 5;\r\n      break;\r\n      case &quot;VI&quot;:\r\n      secondNum = 6;\r\n      break;\r\n      case &quot;VII&quot;:\r\n      secondNum = 7;\r\n      break;\r\n      case &quot;VIII&quot;:\r\n      secondNum = 8;\r\n      break;\r\n      case &quot;IX&quot;:\r\n      secondNum = 9;\r\n      break;\r\n      case &quot;X&quot;:\r\n      secondNum = 10;\r\n      break;\r\n      default:\r\n      System.out.println(&quot;I don&#39;t know the second number!&quot;);\r\n    }\r\n    } else {\r\n      secondNum = secondNum.decode(secondNumS);\r\n    }\r\n    if(operationS == &quot;+&quot;){\r\n      result = firstNum + secondNum;\r\n    } else if(operationS == &quot;-&quot;) {\r\n      result = firstNum - secondNum;\r\n    } else if(operationS == &quot;*&quot;){\r\n      result = firstNum * secondNum;\r\n    } else if(operationS == &quot;/&quot;){\r\n      result = firstNum / secondNum;\r\n    } else {\r\n      System.out.println(&quot;I don&#39;t know such an operation!&quot;);\r\n    }\r\n\r\n    System.out.println(result);\r\n  }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/lang/Integer.html","title":"How does the .decode() method work in Java?","body":"<p>I need to make a calculator that can work with numbers of up to ten, both Arab and Roman numbers. I decided to use the <em>String</em> method <em>.compareTo()</em> to help my program figure out whether it's one or the other. Now, I want to convert numerical <em>Strings</em> to <em>Integers</em>. I <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Integer.html\" rel=\"nofollow noreferrer\">found</a> an <em>int</em> method for decoding <em>Strings</em> to <em>ints</em>, but it doesn't appear to work: it returns an error</p>\n<pre><code>Introduction.java:52: error: int cannot be dereferenced\n      firstNum = firstNum.decode(firstNumS);\n                         ^\nIntroduction.java:90: error: int cannot be dereferenced\n      secondNum = secondNum.decode(secondNumS);\n</code></pre>\n<p>Why is that? Here's my code (bear with me, it may be a bit clumsy)</p>\n<pre><code>import java.util.Scanner;\nimport java.io.IOException;\n\npublic class Introduction {\n  static int firstNum = 0;\n  static int secondNum = 0;\n  static double result;\n  public static void main(String[] args) {\n    String firstNumS = &quot;1&quot;;\n    String secondNumS = &quot;2&quot;;\n    String operationS = &quot;+&quot;;\n    Scanner scanner = new Scanner(System.in);\n    firstNumS = scanner.next();\n    operationS = scanner.next();\n    secondNumS = scanner.next();\n    if(firstNumS.compareTo(operationS) &gt; 15){\n      switch(firstNumS){\n      case &quot;I&quot;:\n      firstNum = 1;\n      break;\n      case &quot;II&quot;:\n      firstNum = 2;\n      break;\n      case &quot;III&quot;:\n      firstNum = 3;\n      break;\n      case &quot;IV&quot;:\n      firstNum = 4;\n      break;\n      case &quot;V&quot;:\n      firstNum = 5;\n      break;\n      case &quot;VI&quot;:\n      firstNum = 6;\n      break;\n      case &quot;VII&quot;:\n      firstNum = 7;\n      break;\n      case &quot;VIII&quot;:\n      firstNum = 8;\n      break;\n      case &quot;IX&quot;:\n      firstNum = 9;\n      break;\n      case &quot;X&quot;:\n      firstNum = 10;\n      break;\n      default:\n      System.out.println(&quot;I don't know the first number!&quot;);\n    }\n    } else {\n      firstNum = firstNum.decode(firstNumS);\n    }\n    if(secondNumS.compareTo(operationS) &gt; 15){\n      switch(secondNumS){\n      case &quot;I&quot;:\n      secondNum = 1;\n      break;\n      case &quot;II&quot;:\n      secondNum = 2;\n      break;\n      case &quot;III&quot;:\n      secondNum = 3;\n      break;\n      case &quot;IV&quot;:\n      secondNum = 4;\n      break;\n      case &quot;V&quot;:\n      secondNum = 5;\n      break;\n      case &quot;VI&quot;:\n      secondNum = 6;\n      break;\n      case &quot;VII&quot;:\n      secondNum = 7;\n      break;\n      case &quot;VIII&quot;:\n      secondNum = 8;\n      break;\n      case &quot;IX&quot;:\n      secondNum = 9;\n      break;\n      case &quot;X&quot;:\n      secondNum = 10;\n      break;\n      default:\n      System.out.println(&quot;I don't know the second number!&quot;);\n    }\n    } else {\n      secondNum = secondNum.decode(secondNumS);\n    }\n    if(operationS == &quot;+&quot;){\n      result = firstNum + secondNum;\n    } else if(operationS == &quot;-&quot;) {\n      result = firstNum - secondNum;\n    } else if(operationS == &quot;*&quot;){\n      result = firstNum * secondNum;\n    } else if(operationS == &quot;/&quot;){\n      result = firstNum / secondNum;\n    } else {\n      System.out.println(&quot;I don't know such an operation!&quot;);\n    }\n\n    System.out.println(result);\n  }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","websocket","stomp","sockjs"],"answers":[{"tags":[],"owner":{"account_id":11322917,"reputation":765,"user_id":15074748,"display_name":"pacman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1654077424,"creation_date":1654077424,"answer_id":72459877,"question_id":72112761,"body_markdown":"I figured out the issue myself. Issue occurs when the stomp server try to send heart beat from server to client. If the client disconnects while the server is sending the heartbeat, the issue occurs.","title":"Spring boot with Stomp gives HttpMessageNotWritableException","body":"<p>I figured out the issue myself. Issue occurs when the stomp server try to send heart beat from server to client. If the client disconnects while the server is sending the heartbeat, the issue occurs.</p>\n"}],"owner":{"account_id":11322917,"reputation":765,"user_id":15074748,"display_name":"pacman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1024,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72459877,"answer_count":1,"score":0,"last_activity_date":1671451979,"creation_date":1651666338,"question_id":72112761,"body_markdown":"I have been using spring boot with stomp server for websocket with sockjs as frontend library. Intermittently I get the following message in the logs.\r\n\r\n```\r\n11:10:15.017 [37] [http-nio-8080-exec-7] WARN  org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: No converter for [class java.util.LinkedHashMap] with preset Content-Type &#39;application/javascript;charset=UTF-8&#39;]\r\n```\r\n\r\nAs far as I have read this occurs when wrong content type is recieved in controller. But this data comes in through websocket and all the data is made to string using `JSON.Stringify` from frontend and recieved by `@MessageMapping` annoted controller. Iam not able to understand why this error occurs , could there be other reasons for this issue to occur. I have used ActiveMQ as the message broker.\r\n\r\nCan someone throw some light into what could be happening here.","title":"Spring boot with Stomp gives HttpMessageNotWritableException","body":"<p>I have been using spring boot with stomp server for websocket with sockjs as frontend library. Intermittently I get the following message in the logs.</p>\n<pre><code>11:10:15.017 [37] [http-nio-8080-exec-7] WARN  org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: No converter for [class java.util.LinkedHashMap] with preset Content-Type 'application/javascript;charset=UTF-8']\n</code></pre>\n<p>As far as I have read this occurs when wrong content type is recieved in controller. But this data comes in through websocket and all the data is made to string using <code>JSON.Stringify</code> from frontend and recieved by <code>@MessageMapping</code> annoted controller. Iam not able to understand why this error occurs , could there be other reasons for this issue to occur. I have used ActiveMQ as the message broker.</p>\n<p>Can someone throw some light into what could be happening here.</p>\n"},{"tags":["java","algorithm","backtracking"],"comments":[{"owner":{"account_id":1517424,"reputation":8052,"user_id":1418097,"accept_rate":83,"display_name":"Display Name"},"score":3,"creation_date":1403546770,"post_id":24372387,"comment_id":37690427,"body_markdown":"this code cracks the interview because it violates Java code style","body":"this code cracks the interview because it violates Java code style"},{"owner":{"account_id":2439364,"reputation":5868,"user_id":2128327,"display_name":"Khaled.K"},"score":4,"creation_date":1403598613,"post_id":24372387,"comment_id":37707830,"body_markdown":"Because at first you check drawers in the first room, but it&#39;s not found, so you **backtrack** out of the first room to check the drawers in the next room. It&#39;s also called **Trial &amp; Error**.","body":"Because at first you check drawers in the first room, but it&#39;s not found, so you <b>backtrack</b> out of the first room to check the drawers in the next room. It&#39;s also called <b>Trial &amp; Error</b>."}],"answers":[{"tags":[],"owner":{"account_id":26078,"reputation":452381,"user_id":67579,"accept_rate":81,"display_name":"willeM_ Van Onsem"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1403546709,"creation_date":1403546709,"answer_id":24372470,"question_id":24372387,"body_markdown":"&quot;Backtracking&quot; is a term that occurs in enumerating algorithms.\r\n\r\nYou built a &quot;solution&quot; (that is a structure where every variable is assigned a value).\r\n\r\nIt is however possible that during construction, you realize that the solution is not successful (does not satisfy certain constraints), then you *backtrack*: you undo certain assignments of values to variables in order to reassign them.\r\n\r\n---\r\n\r\n**Example**:\r\n\r\nBased on your example you want to construct a path in a 2D grid. So you start generating paths from (0,0). For instance:\r\n\r\n    (0,0)\r\n    (0,0) (1,0) go right\r\n    (0,0) (1,0) (1,1) go up\r\n    (0,0) (1,0) (1,1) (0,1) go left\r\n    (0,0) (1,0) (1,1) (0,1) (0,0) go down\r\n    Oops, visiting a cell a second time, this is not a path anymore\r\n    Backtrack: remove the last cell from the path\r\n    (0,0) (1,0) (1,1) (0,1)\r\n    (0,0) (1,0) (1,1) (0,1) (1,1) go right\r\n    Oops, visiting a cell a second time, this is not a path anymore\r\n    Backtrack: remove the last cell from the path\r\n    ....","title":"Why is this called backtracking?","body":"<p>\"Backtracking\" is a term that occurs in enumerating algorithms.</p>\n\n<p>You built a \"solution\" (that is a structure where every variable is assigned a value).</p>\n\n<p>It is however possible that during construction, you realize that the solution is not successful (does not satisfy certain constraints), then you <em>backtrack</em>: you undo certain assignments of values to variables in order to reassign them.</p>\n\n<hr>\n\n<p><strong>Example</strong>:</p>\n\n<p>Based on your example you want to construct a path in a 2D grid. So you start generating paths from (0,0). For instance:</p>\n\n<pre><code>(0,0)\n(0,0) (1,0) go right\n(0,0) (1,0) (1,1) go up\n(0,0) (1,0) (1,1) (0,1) go left\n(0,0) (1,0) (1,1) (0,1) (0,0) go down\nOops, visiting a cell a second time, this is not a path anymore\nBacktrack: remove the last cell from the path\n(0,0) (1,0) (1,1) (0,1)\n(0,0) (1,0) (1,1) (0,1) (1,1) go right\nOops, visiting a cell a second time, this is not a path anymore\nBacktrack: remove the last cell from the path\n....\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1398557,"reputation":9636,"user_id":1327788,"accept_rate":84,"display_name":"Giovanni Botta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1403546733,"creation_date":1403546733,"answer_id":24372479,"question_id":24372387,"body_markdown":"From [Wikipedia](http://en.wikipedia.org/wiki/Backtracking):\r\n\r\n&gt; Backtracking is a general algorithm for finding all (or some) solutions to some computational problem, that incrementally builds candidates to the solutions, and abandons each partial candidate c (&quot;backtracks&quot;) as soon as it determines that c cannot possibly be completed to a valid solution.\r\n\r\nBacktracking is easily implemented as a recursive algorithm. You look for the solution of a problem of size _n_ by looking for solutions of size _n_ - 1 and so on. If the smaller solution doesn&#39;t work you discard it. \r\n\r\nThat&#39;s basically what the code above is doing: it returns true in the base case, otherwise it &#39;tries&#39; the right path or the left path discarding the solution that doesn&#39;t work. \r\n\r\nSince the code above it&#39;s recursive, it might not be clear where the &quot;backtracking&quot; comes into play, but what the algorithm actually does is building a solution from a partial one, where the smallest possible solution is handled at line 5 in your example. A non recursive version of the algorithm would have to start from the smallest solution and build from there.","title":"Why is this called backtracking?","body":"<p>From <a href=\"http://en.wikipedia.org/wiki/Backtracking\" rel=\"nofollow\">Wikipedia</a>:</p>\n\n<blockquote>\n  <p>Backtracking is a general algorithm for finding all (or some) solutions to some computational problem, that incrementally builds candidates to the solutions, and abandons each partial candidate c (\"backtracks\") as soon as it determines that c cannot possibly be completed to a valid solution.</p>\n</blockquote>\n\n<p>Backtracking is easily implemented as a recursive algorithm. You look for the solution of a problem of size <em>n</em> by looking for solutions of size <em>n</em> - 1 and so on. If the smaller solution doesn't work you discard it. </p>\n\n<p>That's basically what the code above is doing: it returns true in the base case, otherwise it 'tries' the right path or the left path discarding the solution that doesn't work. </p>\n\n<p>Since the code above it's recursive, it might not be clear where the \"backtracking\" comes into play, but what the algorithm actually does is building a solution from a partial one, where the smallest possible solution is handled at line 5 in your example. A non recursive version of the algorithm would have to start from the smallest solution and build from there.</p>\n"},{"tags":[],"owner":{"account_id":10730,"reputation":118663,"user_id":20394,"accept_rate":73,"display_name":"Mike Samuel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1403546747,"creation_date":1403546747,"answer_id":24372481,"question_id":24372387,"body_markdown":"&gt; I cannot figure out what &quot;backtracking algorithm&quot; means.\r\n\r\nAn algorithm is &quot;back-tracking&quot; when it tries a solution, and on failure, returns to a simpler solution as the basis for new attempts.\r\n\r\nIn this implementation,\r\n\r\n    current_path.remove(p)\r\n\r\ngoes back along the path when the current path does not succeed so that a caller can try a different variant of the path that led to `current_path`.","title":"Why is this called backtracking?","body":"<blockquote>\n  <p>I cannot figure out what \"backtracking algorithm\" means.</p>\n</blockquote>\n\n<p>An algorithm is \"back-tracking\" when it tries a solution, and on failure, returns to a simpler solution as the basis for new attempts.</p>\n\n<p>In this implementation,</p>\n\n<pre><code>current_path.remove(p)\n</code></pre>\n\n<p>goes back along the path when the current path does not succeed so that a caller can try a different variant of the path that led to <code>current_path</code>.</p>\n"},{"tags":[],"owner":{"account_id":4395066,"reputation":2189,"user_id":3582399,"accept_rate":83,"display_name":"Josef E."},"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1403548169,"creation_date":1403546765,"answer_id":24372493,"question_id":24372387,"body_markdown":"**Backtracking** is a form of recursion, at times.\r\n\r\nThis boolean based algorithm is being faced with a choice, then making that choice and then being presented with a new set of choices after that initial choice.\r\n\r\n&lt;hr&gt;\r\n\r\nConceptually, you start at the root of a tree; the tree probably has some good leaves and some bad leaves, though it may be that the leaves are all good or all bad. You want to get to a good leaf. At each node, beginning with the root, you choose one of its children to move to, and you keep this up until you get to a leaf.(See image below)\r\n\r\n![enter image description here][1]\r\n\r\n\r\nExplanation of Example:\r\n\r\n\r\n   1. Starting at Root, your options are A and B. You choose A.\r\n   2. At A, your options are C and D. You choose C.\r\n   3. C is bad. Go back to A.\r\n   4. At A, you have already tried C, and it failed. Try D.\r\n   5. D is bad. Go back to A.\r\n   6. At A, you have no options left to try. Go back to Root.\r\n   7. At Root, you have already tried A. Try B.\r\n   8. At B, your options are E and F. Try E.\r\n   9. E is good. Congratulations!\r\n\r\nSource: [upenn.edu][2]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/nx9vl.gif\r\n  [2]: http://www.cis.upenn.edu/~matuszek/cit596-2012/NewPages/backtracking.html","title":"Why is this called backtracking?","body":"<p><strong>Backtracking</strong> is a form of recursion, at times.</p>\n\n<p>This boolean based algorithm is being faced with a choice, then making that choice and then being presented with a new set of choices after that initial choice.</p>\n\n<hr>\n\n<p>Conceptually, you start at the root of a tree; the tree probably has some good leaves and some bad leaves, though it may be that the leaves are all good or all bad. You want to get to a good leaf. At each node, beginning with the root, you choose one of its children to move to, and you keep this up until you get to a leaf.(See image below)</p>\n\n<p><img src=\"https://i.stack.imgur.com/nx9vl.gif\" alt=\"enter image description here\"></p>\n\n<p>Explanation of Example:</p>\n\n<ol>\n<li>Starting at Root, your options are A and B. You choose A.</li>\n<li>At A, your options are C and D. You choose C.</li>\n<li>C is bad. Go back to A.</li>\n<li>At A, you have already tried C, and it failed. Try D.</li>\n<li>D is bad. Go back to A.</li>\n<li>At A, you have no options left to try. Go back to Root.</li>\n<li>At Root, you have already tried A. Try B.</li>\n<li>At B, your options are E and F. Try E.</li>\n<li>E is good. Congratulations!</li>\n</ol>\n\n<p>Source: <a href=\"http://www.cis.upenn.edu/~matuszek/cit596-2012/NewPages/backtracking.html\" rel=\"noreferrer\">upenn.edu</a></p>\n"},{"tags":[],"owner":{"account_id":1879439,"reputation":572,"user_id":1699971,"accept_rate":27,"display_name":"Jenian"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1403546782,"creation_date":1403546782,"answer_id":24372497,"question_id":24372387,"body_markdown":"Backtracking basically means trying all possible options. It&#39;s usually the naive, inefficient solutions to problems.\r\n\r\nIn your example solution, that&#39;s exactly what&#39;s going on - you simply try out all possible paths, recursively:\r\nYou try each possible direction; if you found a successful path - good. if not - **backtrack** and try another direction.","title":"Why is this called backtracking?","body":"<p>Backtracking basically means trying all possible options. It's usually the naive, inefficient solutions to problems.</p>\n\n<p>In your example solution, that's exactly what's going on - you simply try out all possible paths, recursively:\nYou try each possible direction; if you found a successful path - good. if not - <strong>backtrack</strong> and try another direction.</p>\n"},{"tags":[],"owner":{"account_id":3066113,"reputation":791,"user_id":2597758,"accept_rate":71,"display_name":"WebViewer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1671451663,"creation_date":1671445997,"answer_id":74849274,"question_id":24372387,"body_markdown":"Indeed, the word &quot;back&quot; in the term &quot;backtracking&quot; could sometimes be confusing when a backtracking solution &quot;keeps going forward&quot; as in my solution of the classic N queens problem:\r\n\r\n    /**\r\n     * Given *starting* row, try all columns.\r\n     * Recurse into subsequent rows if can put.\r\n     * When reached last row (stopper), increment count if put successfully.\r\n     * \r\n     * By recursing into all rows (of a given single column), an entire placement is tried.\r\n     * Backtracking is the avoidance of recursion as soon as &quot;cannot put&quot;...  \r\n     *    (eliminating current col&#39;s placement and proceeding to the next col).\r\n     */\r\n    int countQueenPlacements(int row) {\t\t// queen# is also queen&#39;s row (y axis)\r\n    \tint count = 0;\r\n    \tfor (int col=1; col&lt;=N; col++) { \t// try all columns for each row\r\n    \t\tif (canPutQueen(col, row)) {\r\n    \t\t\tputQueen(col, row);\r\n    \t\t\tcount += (row == N) ? print(board, ++solutionNum) : countQueenPlacements(row+1);\r\n    \t\t}\r\n    \t}\r\n    \treturn count; \t\r\n    }\r\n\r\n\r\nNote that my comment defines Backtracking as the avoidance of recursion as soon as &quot;cannot put&quot; -- but this is not entirely full. Backtracking in this solution could also mean that once a proper placement is found, the recursion stack unwinds (or backtracks).","title":"Why is this called backtracking?","body":"<p>Indeed, the word &quot;back&quot; in the term &quot;backtracking&quot; could sometimes be confusing when a backtracking solution &quot;keeps going forward&quot; as in my solution of the classic N queens problem:</p>\n<pre><code>/**\n * Given *starting* row, try all columns.\n * Recurse into subsequent rows if can put.\n * When reached last row (stopper), increment count if put successfully.\n * \n * By recursing into all rows (of a given single column), an entire placement is tried.\n * Backtracking is the avoidance of recursion as soon as &quot;cannot put&quot;...  \n *    (eliminating current col's placement and proceeding to the next col).\n */\nint countQueenPlacements(int row) {     // queen# is also queen's row (y axis)\n    int count = 0;\n    for (int col=1; col&lt;=N; col++) {    // try all columns for each row\n        if (canPutQueen(col, row)) {\n            putQueen(col, row);\n            count += (row == N) ? print(board, ++solutionNum) : countQueenPlacements(row+1);\n        }\n    }\n    return count;   \n}\n</code></pre>\n<p>Note that my comment defines Backtracking as the avoidance of recursion as soon as &quot;cannot put&quot; -- but this is not entirely full. Backtracking in this solution could also mean that once a proper placement is found, the recursion stack unwinds (or backtracks).</p>\n"}],"owner":{"account_id":1065081,"reputation":14102,"user_id":1065869,"accept_rate":57,"display_name":"Elad Benda2"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16095,"favorite_count":0,"down_vote_count":1,"up_vote_count":11,"accepted_answer_id":24372470,"answer_count":6,"score":10,"last_activity_date":1671451663,"creation_date":1403546457,"question_id":24372387,"body_markdown":"I have read in Wikipedia and have also Googled it, \r\n\r\nbut I cannot figure out what &quot;Backtracking Algorithm&quot; means.\r\n\r\nI saw this solution from &quot;Cracking the Code Interviews&quot;\r\n\r\nand wonder why is this a backtracking algorithm?\r\n\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/fDMDs.png","title":"Why is this called backtracking?","body":"<p>I have read in Wikipedia and have also Googled it, </p>\n\n<p>but I cannot figure out what \"Backtracking Algorithm\" means.</p>\n\n<p>I saw this solution from \"Cracking the Code Interviews\"</p>\n\n<p>and wonder why is this a backtracking algorithm?</p>\n\n<p><img src=\"https://i.stack.imgur.com/fDMDs.png\" alt=\"enter image description here\"></p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":8391404,"reputation":293,"user_id":6300032,"display_name":"SimGel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671451646,"creation_date":1671449173,"answer_id":74849838,"question_id":74848280,"body_markdown":"If you throw an exception (or dont handle thrown exceptions) in your `run()` method the scheduler will stop processing the task.\r\n\r\nSo you have to handle all exceptions `try {...} catch(Exception e) {}` (at least). See: https://stackoverflow.com/questions/6894595/scheduledexecutorservice-exception-handling","title":"i want to run my code block again by the minute","body":"<p>If you throw an exception (or dont handle thrown exceptions) in your <code>run()</code> method the scheduler will stop processing the task.</p>\n<p>So you have to handle all exceptions <code>try {...} catch(Exception e) {}</code> (at least). See: <a href=\"https://stackoverflow.com/questions/6894595/scheduledexecutorservice-exception-handling\">ScheduledExecutorService Exception handling</a></p>\n"}],"owner":{"account_id":24402864,"reputation":5,"user_id":18331361,"display_name":"Quadante"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74849838,"answer_count":1,"score":0,"last_activity_date":1671451646,"creation_date":1671440809,"question_id":74848280,"body_markdown":"I want to run my code block again every minute. Because I need to pull data from a site continuously gradually. \r\nEven if the site crashes or the machine crashes, I want it to run the data withdrawal codes again.\r\n\r\n`\r\n```\r\nScheduledExecutorService executorService = Executors.newScheduledThreadPool(1);\r\n\r\nRunnable task = () -&gt; {\r\n\r\n///CODE///\r\n\r\ncatch (InterruptedException e) {\r\n    throw new RuntimeException(e);\r\n} finally {\r\n\r\n    driver.close();\r\n\r\n}\r\n\r\nexecutorService.scheduleAtFixedRate(task, 0, 1, TimeUnit.MINUTES);\r\n\r\n\r\n\r\n```\r\n`\r\n\r\nI have tried this system, but when the program or site crashes. It just keeps the program open and it does not run the codes that it needs to run again every 1 minute. This cycle works when the site and the program do not crash.","title":"i want to run my code block again by the minute","body":"<p>I want to run my code block again every minute. Because I need to pull data from a site continuously gradually.\nEven if the site crashes or the machine crashes, I want it to run the data withdrawal codes again.</p>\n<p>`</p>\n<pre><code>ScheduledExecutorService executorService = Executors.newScheduledThreadPool(1);\n\nRunnable task = () -&gt; {\n\n///CODE///\n\ncatch (InterruptedException e) {\n    throw new RuntimeException(e);\n} finally {\n\n    driver.close();\n\n}\n\nexecutorService.scheduleAtFixedRate(task, 0, 1, TimeUnit.MINUTES);\n\n\n\n</code></pre>\n<p>`</p>\n<p>I have tried this system, but when the program or site crashes. It just keeps the program open and it does not run the codes that it needs to run again every 1 minute. This cycle works when the site and the program do not crash.</p>\n"},{"tags":["java","arrays","textreader"],"owner":{"account_id":26810167,"reputation":1,"user_id":20400910,"display_name":"atoantonio"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1671451245,"answer_count":0,"score":0,"last_activity_date":1671451630,"creation_date":1671450868,"question_id":74850169,"body_markdown":"For java a program, there will be a 2D array entry in the text file, but the size of the array will not be determined. How can I create a reading class without library, so that the program runs stably at all given values?\r\n\r\nI tried to make a dynamic array but I couldn&#39;t get it to work.","title":"Text-Reader class","body":"<p>For java a program, there will be a 2D array entry in the text file, but the size of the array will not be determined. How can I create a reading class without library, so that the program runs stably at all given values?</p>\n<p>I tried to make a dynamic array but I couldn't get it to work.</p>\n"},{"tags":["java","asynchronous","android-asynctask","socket.io-java-client"],"answers":[{"tags":[],"owner":{"account_id":16016577,"reputation":76,"user_id":11559139,"display_name":"amrtaweel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1590002962,"creation_date":1590002962,"answer_id":61921364,"question_id":61918424,"body_markdown":"Try this \r\n\r\n    public class  getvalue extends AsyncTask&lt;JSONObject,Void,String&gt;{\r\n    \r\n    \r\n              @Override\r\n              protected String doInBackground(JSONObject... jsonObjects) {\r\n                  String value;\r\n                  socket.emit(&quot;request&quot;, jsonObjects, new Ack() {\r\n                      @Override\r\n                      public void call(Object... args) {\r\n                          value = (String) args[1]; // how to wait for this value?\r\n                      }\r\n              });\r\n              return value;\r\n          }\r\n              protected void onPostExecute(String result) {\r\n                  //result is the final String;\r\n              }\r\n          }\r\n\r\nAnd after that go to Activity that you want to use this function in and try this :\r\n\r\n   \r\n\r\n     getvalue a=new getvalue();\r\n                getvalue.execute(data);\r\nHere is some useful link\r\nhttps://developer.android.com/reference/android/os/AsyncTask\r\n\r\nhttps://stackoverflow.com/questions/9671546/asynctask-android-example\r\nhopefully to work\r\n","title":"Java socket.io wait for callback","body":"<p>Try this </p>\n\n<pre><code>public class  getvalue extends AsyncTask&lt;JSONObject,Void,String&gt;{\n\n\n          @Override\n          protected String doInBackground(JSONObject... jsonObjects) {\n              String value;\n              socket.emit(\"request\", jsonObjects, new Ack() {\n                  @Override\n                  public void call(Object... args) {\n                      value = (String) args[1]; // how to wait for this value?\n                  }\n          });\n          return value;\n      }\n          protected void onPostExecute(String result) {\n              //result is the final String;\n          }\n      }\n</code></pre>\n\n<p>And after that go to Activity that you want to use this function in and try this :</p>\n\n<pre><code> getvalue a=new getvalue();\n            getvalue.execute(data);\n</code></pre>\n\n<p>Here is some useful link\n<a href=\"https://developer.android.com/reference/android/os/AsyncTask\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/os/AsyncTask</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/9671546/asynctask-android-example\">AsyncTask Android example</a>\nhopefully to work</p>\n"},{"tags":[],"owner":{"account_id":16487187,"reputation":115,"user_id":11912210,"display_name":"Саша Семенищев"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671451594,"creation_date":1671451594,"answer_id":74850292,"question_id":61918424,"body_markdown":"For anyone who&#39;s still facing for the same issue, use CompletableFuture\r\n```java\r\npublic String request(JSONObject... objects) {\r\n    CompletableFuture&lt;String&gt; future = new CompletableFuture&lt;&gt;();\r\n    socket.emit(&quot;request&quot;, objects, (Ack) callback -&gt; {\r\n        future.complete(args[1].toString());\r\n    });\r\n    return future.join();\r\n}\r\n```\r\n\r\nHowever, note that if answer wasn&#39;t provided, your code will be blocked until the answer would be provided by the server, however this is the question itself, so here you are\r\n\r\n","title":"Java socket.io wait for callback","body":"<p>For anyone who's still facing for the same issue, use CompletableFuture</p>\n<pre class=\"lang-java prettyprint-override\"><code>public String request(JSONObject... objects) {\n    CompletableFuture&lt;String&gt; future = new CompletableFuture&lt;&gt;();\n    socket.emit(&quot;request&quot;, objects, (Ack) callback -&gt; {\n        future.complete(args[1].toString());\n    });\n    return future.join();\n}\n</code></pre>\n<p>However, note that if answer wasn't provided, your code will be blocked until the answer would be provided by the server, however this is the question itself, so here you are</p>\n"}],"owner":{"account_id":1342742,"reputation":2702,"user_id":1284113,"accept_rate":50,"display_name":"Footniko"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":475,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1671451594,"creation_date":1589993083,"question_id":61918424,"body_markdown":"My Activity code:\r\n\r\n    public String getValue(JSONObject data) {\r\n        String value;\r\n        socket.emit(&quot;request&quot;, data, new Ack() {\r\n            @Override\r\n            public void call(Object... args) {\r\n                value = (String) args[1]; // how to wait for this value?\r\n            });\r\n        \r\n        return value;\r\n    }\r\n\r\nHow do I wait for the `value` that came from the socket.io callback?","title":"Java socket.io wait for callback","body":"<p>My Activity code:</p>\n\n<pre><code>public String getValue(JSONObject data) {\n    String value;\n    socket.emit(\"request\", data, new Ack() {\n        @Override\n        public void call(Object... args) {\n            value = (String) args[1]; // how to wait for this value?\n        });\n\n    return value;\n}\n</code></pre>\n\n<p>How do I wait for the <code>value</code> that came from the socket.io callback?</p>\n"},{"tags":["java","terraform","datadog","fluxcd","terraform-provider-datadog"],"owner":{"account_id":3055659,"reputation":319,"user_id":2589325,"accept_rate":25,"display_name":"Erick De Miranda Oliveira"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":243,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671451470,"creation_date":1671450772,"question_id":74850158,"body_markdown":"I have a terraform infra structure project built with FluxCD, that has amongst other things, a spring boot service loaded by a docker image.\r\n\r\nWhat I wanna do is to monitor the JVM of this service with datadog on it&#39;s service catalog. \r\nNo need to create custom metrics etc.  \r\n\r\nThe last layers of this docker image install the DATADOG agent with this:\r\n```\r\nARG DATADOG_JAVA_AGENT_VERSION=0.75.0\r\n\r\nRUN |1 DATADOG_JAVA_AGENT_VERSION=0.75.0 /bin/sh -c wget --quiet --retry-connrefused --waitretry=1 --read-timeout=10 --timeout=10 --output-document /app/dd-java-agent.jar     https://repository.sonatype.org/service/local/repositories/central-proxy/content/com/datadoghq/dd-java-agent/${DATADOG_JAVA_AGENT_VERSION}/dd-java-agent-${DATADOG_JAVA_AGENT_VERSION}.jar &amp;&amp;     chmod +x /app/dd-java-agent.jar # buildkit\r\n\r\nENTRYPOINT [&quot;java&quot; &quot;-jar&quot; &quot;/app/my-service.jar&quot;]\r\n```\r\n\r\nAccording to [DD documentation][1]:\r\n\r\n&gt; Download dd-java-agent.jar that contains the latest Agent class files:\r\n\r\n```\r\nwget -O dd-java-agent.jar https://dtdg.co/latest-java-tracer\r\n\r\n```\r\n\r\n[Add the Java Tracer to the JVM][2]\r\n\r\n&gt; If you’re adding the -javaagent argument to your java -jar command, it needs to be added before the -jar argument, as a JVM option, not as an application argument. For example:\r\n\r\n`java -javaagent:/path/to/dd-java-agent.jar -jar my_app.jar` \r\n\r\nInside my TF project, I edited this with the following:\r\n\r\n```\r\n-Project\r\n   -infrastructre\r\n      -fluxcd\r\n         -services\r\n             -base\r\n                 - myservice\r\n                     - myService.yaml\r\n\r\n```\r\n```\r\napiVersion: helm.toolkit.fluxcd.io/v2beta1\r\nkind: HelmRelease\r\nspec:\r\n   values:\r\n      deployment:\r\n        env:  \r\n          - name: JAVA_OPTS\r\n            value: &quot;${JAVA_OPTS} -javaagent:/app/dd-java-agent.jar -Ddd.logs.injection=true -Ddd.service=myservice -Ddd.env=dev&quot;\r\n\r\n```\r\n\r\nAnd after all this and restarting my service, it still doesn&#39;t show up on Datadog&#39;s service catalog.\r\n\r\nAm I injecting `JAVA_OPTS` wrong?\r\n\r\nShould I add those under, like this?\r\n\r\n```\r\ndeployment:\r\n   args:\r\n\r\n```\r\nWhat am I missing?\r\n\r\n\r\n  [1]: https://docs.datadoghq.com/tracing/trace_collection/dd_libraries/java/?tab=otherenvironments#instrument-your-application\r\n  [2]: https://docs.datadoghq.com/tracing/trace_collection/dd_libraries/java/?tab=otherenvironments#add-the-java-tracer-to-the-jvm","title":"run datadog agent by adding as JAVA_OPS on fluxCD","body":"<p>I have a terraform infra structure project built with FluxCD, that has amongst other things, a spring boot service loaded by a docker image.</p>\n<p>What I wanna do is to monitor the JVM of this service with datadog on it's service catalog.\nNo need to create custom metrics etc.</p>\n<p>The last layers of this docker image install the DATADOG agent with this:</p>\n<pre><code>ARG DATADOG_JAVA_AGENT_VERSION=0.75.0\n\nRUN |1 DATADOG_JAVA_AGENT_VERSION=0.75.0 /bin/sh -c wget --quiet --retry-connrefused --waitretry=1 --read-timeout=10 --timeout=10 --output-document /app/dd-java-agent.jar     https://repository.sonatype.org/service/local/repositories/central-proxy/content/com/datadoghq/dd-java-agent/${DATADOG_JAVA_AGENT_VERSION}/dd-java-agent-${DATADOG_JAVA_AGENT_VERSION}.jar &amp;&amp;     chmod +x /app/dd-java-agent.jar # buildkit\n\nENTRYPOINT [&quot;java&quot; &quot;-jar&quot; &quot;/app/my-service.jar&quot;]\n</code></pre>\n<p>According to <a href=\"https://docs.datadoghq.com/tracing/trace_collection/dd_libraries/java/?tab=otherenvironments#instrument-your-application\" rel=\"nofollow noreferrer\">DD documentation</a>:</p>\n<blockquote>\n<p>Download dd-java-agent.jar that contains the latest Agent class files:</p>\n</blockquote>\n<pre><code>wget -O dd-java-agent.jar https://dtdg.co/latest-java-tracer\n\n</code></pre>\n<p><a href=\"https://docs.datadoghq.com/tracing/trace_collection/dd_libraries/java/?tab=otherenvironments#add-the-java-tracer-to-the-jvm\" rel=\"nofollow noreferrer\">Add the Java Tracer to the JVM</a></p>\n<blockquote>\n<p>If you’re adding the -javaagent argument to your java -jar command, it needs to be added before the -jar argument, as a JVM option, not as an application argument. For example:</p>\n</blockquote>\n<p><code>java -javaagent:/path/to/dd-java-agent.jar -jar my_app.jar</code></p>\n<p>Inside my TF project, I edited this with the following:</p>\n<pre><code>-Project\n   -infrastructre\n      -fluxcd\n         -services\n             -base\n                 - myservice\n                     - myService.yaml\n\n</code></pre>\n<pre><code>apiVersion: helm.toolkit.fluxcd.io/v2beta1\nkind: HelmRelease\nspec:\n   values:\n      deployment:\n        env:  \n          - name: JAVA_OPTS\n            value: &quot;${JAVA_OPTS} -javaagent:/app/dd-java-agent.jar -Ddd.logs.injection=true -Ddd.service=myservice -Ddd.env=dev&quot;\n\n</code></pre>\n<p>And after all this and restarting my service, it still doesn't show up on Datadog's service catalog.</p>\n<p>Am I injecting <code>JAVA_OPTS</code> wrong?</p>\n<p>Should I add those under, like this?</p>\n<pre><code>deployment:\n   args:\n\n</code></pre>\n<p>What am I missing?</p>\n"},{"tags":["java","methods","cart","shopping-cart"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1671402468,"post_id":74844808,"comment_id":132086362,"body_markdown":"Did you try changing `lineItem.setQuantity(quantity);` to `lineItem.setQuantity(quantity + lineItem.getQuantity());` in the `if` block inside `Cart.java`?","body":"Did you try changing <code>lineItem.setQuantity(quantity);</code> to <code>lineItem.setQuantity(quantity + lineItem.getQuantity());</code> in the <code>if</code> block inside <code>Cart.java</code>?"}],"owner":{"account_id":26786736,"reputation":1,"user_id":20380805,"display_name":"booyouwhore"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671451383,"creation_date":1671402353,"question_id":74844808,"body_markdown":"I&#39;m extremely new to programming, and I&#39;m trying to write a basic shopping cart app. Right now, I have a JPA entity class Product, a LineItem child table and class, and a Cart class. The Cart class has an addItem() method that the CartServlet uses to create a new LineItem and add it to a list of LineItems in the cart. It doesn&#39;t do this if an identical item already exists in the cart.\r\n\r\nThe LineItem class also has an attribute, private int quantity = 1. When the user adds an item to the cart, it sets the quantity to one. In my JSP, there&#39;s a text input field that displays the quantity, and the user can edit it, which updates the total price.\r\n\r\nHowever, I want the quantity value to update when a user manually adds a duplicate item. So if I add an item to the cart, go back, and add it again, I want the quantity to be 2. I was going to write out my best guess, but I honestly don&#39;t even know where to start, so here&#39;s the addItem() method and the relevant servlet block for reference:\r\n\r\nCart.java\r\n\r\n```\r\npublic void addItem(LineItem item)\r\n{\r\n    String title = item.getProduct().getTitle();\r\n    int quantity = item.getQuantity();\r\n    \r\n    for (int i = 0; i &lt; items.size(); i++)\r\n    {\r\n        LineItem lineItem = items.get(i);\r\n        if (lineItem.getProduct().getTitle().equals(title))\r\n        {\r\n            lineItem.setQuantity(quantity);\r\n            return;\r\n        }\r\n    }    \r\n}\r\n```\r\n\r\nCartServlet.java\r\n\r\n```\r\nelse if (action.equals(&quot;add&quot;))\r\n{\r\n    if (cart == null)\r\n    {\r\n        cart = new Cart();\r\n    }\r\n    \r\n    String title = request.getParameter(&quot;title&quot;);\r\n    \r\n    Product product = ProductUtil.selectProduct(title);\r\n    if (product != null)\r\n    {\r\n        LineItem lineItem = new LineItem();\r\n        lineItem.setProduct(product);\r\n        cart.addItem(lineItem);\r\n    }\r\n    \r\n    session.setAttribute(&quot;cart&quot;, cart);\r\n    url = &quot;/cart/cart.jsp&quot;;\r\n}\r\n```\r\n\r\nI don&#39;t know if would be best create another method in the Cart class (e.g. addQuantity()) and utilize it in the servlet, to do all of it in the servlet, or to add it to the addItems() method. I also don&#39;t really know how to do any of those things. If anyone could point me in the right direction, that would be great.","title":"I want to write a function that increases the value of an int attribute by one [Java]","body":"<p>I'm extremely new to programming, and I'm trying to write a basic shopping cart app. Right now, I have a JPA entity class Product, a LineItem child table and class, and a Cart class. The Cart class has an addItem() method that the CartServlet uses to create a new LineItem and add it to a list of LineItems in the cart. It doesn't do this if an identical item already exists in the cart.</p>\n<p>The LineItem class also has an attribute, private int quantity = 1. When the user adds an item to the cart, it sets the quantity to one. In my JSP, there's a text input field that displays the quantity, and the user can edit it, which updates the total price.</p>\n<p>However, I want the quantity value to update when a user manually adds a duplicate item. So if I add an item to the cart, go back, and add it again, I want the quantity to be 2. I was going to write out my best guess, but I honestly don't even know where to start, so here's the addItem() method and the relevant servlet block for reference:</p>\n<p>Cart.java</p>\n<pre><code>public void addItem(LineItem item)\n{\n    String title = item.getProduct().getTitle();\n    int quantity = item.getQuantity();\n    \n    for (int i = 0; i &lt; items.size(); i++)\n    {\n        LineItem lineItem = items.get(i);\n        if (lineItem.getProduct().getTitle().equals(title))\n        {\n            lineItem.setQuantity(quantity);\n            return;\n        }\n    }    \n}\n</code></pre>\n<p>CartServlet.java</p>\n<pre><code>else if (action.equals(&quot;add&quot;))\n{\n    if (cart == null)\n    {\n        cart = new Cart();\n    }\n    \n    String title = request.getParameter(&quot;title&quot;);\n    \n    Product product = ProductUtil.selectProduct(title);\n    if (product != null)\n    {\n        LineItem lineItem = new LineItem();\n        lineItem.setProduct(product);\n        cart.addItem(lineItem);\n    }\n    \n    session.setAttribute(&quot;cart&quot;, cart);\n    url = &quot;/cart/cart.jsp&quot;;\n}\n</code></pre>\n<p>I don't know if would be best create another method in the Cart class (e.g. addQuantity()) and utilize it in the servlet, to do all of it in the servlet, or to add it to the addItems() method. I also don't really know how to do any of those things. If anyone could point me in the right direction, that would be great.</p>\n"},{"tags":["java","eclipse","maven"],"comments":[{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":1,"creation_date":1671428941,"post_id":74846444,"comment_id":132089523,"body_markdown":"Have you configured a JDK on the Installed JREs preference page?","body":"Have you configured a JDK on the Installed JREs preference page?"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1671446123,"post_id":74846444,"comment_id":132093484,"body_markdown":"Eclipse compiles incrementally, which means that Java files are compiled on save, so the application is ready to be launched/debugged anytime without being built first. Your `pom.xml` tells about things that might need to be done when compiling as well, e.g. compiling Groovy code. The dialog ask you how to handle these things. cobertura-maven-plugin 2.7 has been released 2015 and seems not to work with Java 17 not having a `lib/tools.jar` file like Java 8 does. On your terminal your probably run Maven with Java 8 or lower. So, in Eclipse, in the Maven launch configuration, choose also Java 8.","body":"Eclipse compiles incrementally, which means that Java files are compiled on save, so the application is ready to be launched/debugged anytime without being built first. Your <code>pom.xml</code> tells about things that might need to be done when compiling as well, e.g. compiling Groovy code. The dialog ask you how to handle these things. cobertura-maven-plugin 2.7 has been released 2015 and seems not to work with Java 17 not having a <code>lib&#47;tools.jar</code> file like Java 8 does. On your terminal your probably run Maven with Java 8 or lower. So, in Eclipse, in the Maven launch configuration, choose also Java 8."},{"owner":{"account_id":1999161,"reputation":2268,"user_id":1790598,"accept_rate":59,"display_name":"mrjayviper"},"score":0,"creation_date":1671514468,"post_id":74846444,"comment_id":132110100,"body_markdown":"@howlger I changed the &#39;installed JRE&quot; in eclipse config to use java8. In the maven build (run configurations), I can see &quot;runtime JRE&quot; tab is using java8.","body":"@howlger I changed the &#39;installed JRE&quot; in eclipse config to use java8. In the maven build (run configurations), I can see &quot;runtime JRE&quot; tab is using java8."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1671525029,"post_id":74846444,"comment_id":132112348,"body_markdown":"So please edit your question with the new information. Please be aware that running a Maven build from within Eclipse and the Maven plugin connectors which are used to make incrementally compiling work are different things.","body":"So please edit your question with the new information. Please be aware that running a Maven build from within Eclipse and the Maven plugin connectors which are used to make incrementally compiling work are different things."}],"owner":{"account_id":1999161,"reputation":2268,"user_id":1790598,"accept_rate":59,"display_name":"mrjayviper"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671451164,"creation_date":1671426082,"question_id":74846444,"body_markdown":"Some info:\r\n- I selected `J2EE/Web` developer when installing Eclipse\r\n- I have not installed any other plugin after installing Eclipse. \r\n- I checked marketplace and it seems `m2e` is installed as part of the install configuration I selected.\r\n- When importing the maven project into Eclipse, I get the error below (**see image**).\r\n- When I tried running &quot;mvn clean install&quot; from inside Eclipse (via run maven run configurations), I get an error (**full error text below**)\r\n- On IntelliJ community edition, I have no problem importing the maven project and running &quot;mvn clean install&quot;\r\n- On my terminal, I have no problem running &quot;mvn clean install&quot;.\r\n\r\nAny ideas on how to fix? Thanks\r\n\r\nEclipse import error\r\n[![Eclipse import error][1]][1]\r\n\r\nFull Eclipse mvn clean install error\r\n\r\n    [ERROR] Failed to execute goal org.codehaus.mojo:cobertura-maven-plugin:2.7:clean(default) on project cbus-portals-features:Execution default of goal org.codehaus.mojo:cobertura-maven-plugin:2.7:clean failed: Plugin org.codehaus.mojo:cobertura-maven-plugin:2.7 or one of its dependencies could not be resolved: Could not find artifact com.sun:tools:jar:0 at specified path C:\\Users\\myuser\\.p2\\pool\\plugins\\org.eclipse.justj.openjdk.hotspot.jre.full.win32.x86_64_17.0.5.v20221102-0933\\jre/../lib/tools.jar \r\n\r\n  [1]: https://i.stack.imgur.com/elgF5.png","title":"getting these errors when opening maven project in Eclipse","body":"<p>Some info:</p>\n<ul>\n<li>I selected <code>J2EE/Web</code> developer when installing Eclipse</li>\n<li>I have not installed any other plugin after installing Eclipse.</li>\n<li>I checked marketplace and it seems <code>m2e</code> is installed as part of the install configuration I selected.</li>\n<li>When importing the maven project into Eclipse, I get the error below (<strong>see image</strong>).</li>\n<li>When I tried running &quot;mvn clean install&quot; from inside Eclipse (via run maven run configurations), I get an error (<strong>full error text below</strong>)</li>\n<li>On IntelliJ community edition, I have no problem importing the maven project and running &quot;mvn clean install&quot;</li>\n<li>On my terminal, I have no problem running &quot;mvn clean install&quot;.</li>\n</ul>\n<p>Any ideas on how to fix? Thanks</p>\n<p>Eclipse import error\n<a href=\"https://i.stack.imgur.com/elgF5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/elgF5.png\" alt=\"Eclipse import error\" /></a></p>\n<p>Full Eclipse mvn clean install error</p>\n<pre><code>[ERROR] Failed to execute goal org.codehaus.mojo:cobertura-maven-plugin:2.7:clean(default) on project cbus-portals-features:Execution default of goal org.codehaus.mojo:cobertura-maven-plugin:2.7:clean failed: Plugin org.codehaus.mojo:cobertura-maven-plugin:2.7 or one of its dependencies could not be resolved: Could not find artifact com.sun:tools:jar:0 at specified path C:\\Users\\myuser\\.p2\\pool\\plugins\\org.eclipse.justj.openjdk.hotspot.jre.full.win32.x86_64_17.0.5.v20221102-0933\\jre/../lib/tools.jar \n</code></pre>\n"},{"tags":["java","spring","logging","log4j","logback"],"comments":[{"owner":{"account_id":7505,"reputation":7034,"user_id":13075,"accept_rate":83,"display_name":"Henrik Aasted S&#248;rensen"},"score":4,"creation_date":1487850566,"post_id":42414643,"comment_id":71975135,"body_markdown":"I&#39;m guessing the danger is not so much memory leaks, as it is one request unintentionally &quot;inheriting&quot; MDC values from a previous request.","body":"I&#39;m guessing the danger is not so much memory leaks, as it is one request unintentionally &quot;inheriting&quot; MDC values from a previous request."}],"answers":[{"tags":[],"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"down_vote_count":1,"up_vote_count":27,"is_accepted":false,"score":26,"last_activity_date":1585570509,"creation_date":1487850613,"answer_id":42414992,"question_id":42414643,"body_markdown":"Not for memory leaks, but to prevent retaining information between requests. You don&#39;t want your first request putting `foo` and your second request putting `bar`, ending up with `foo` `bar` instead of just `bar`.\r\n\r\nOf course if you&#39;re always filling up only the same exact values (like remote IP, etc.), this couldn&#39;t happen, but better safe than sorry. You don&#39;t want to log bad information.\r\n\r\nNote: the information that you put in one request is not always propagated to next requests, because they can be executed on other threads even for the same endpoint. That&#39;s why the issue may be overlooked as it doesn&#39;t reproduce reliably, especially in cases where you&#39;re overwriting most of the values.","title":"Do we need clear MDC after HTTP request in Spring","body":"<p>Not for memory leaks, but to prevent retaining information between requests. You don't want your first request putting <code>foo</code> and your second request putting <code>bar</code>, ending up with <code>foo</code> <code>bar</code> instead of just <code>bar</code>.</p>\n\n<p>Of course if you're always filling up only the same exact values (like remote IP, etc.), this couldn't happen, but better safe than sorry. You don't want to log bad information.</p>\n\n<p>Note: the information that you put in one request is not always propagated to next requests, because they can be executed on other threads even for the same endpoint. That's why the issue may be overlooked as it doesn't reproduce reliably, especially in cases where you're overwriting most of the values.</p>\n"},{"tags":[],"owner":{"account_id":19200031,"reputation":9,"user_id":14028180,"display_name":"anonymous"},"down_vote_count":4,"up_vote_count":1,"is_accepted":false,"score":-3,"last_activity_date":1596193695,"creation_date":1596193695,"answer_id":63190731,"question_id":42414643,"body_markdown":"MDC is thread-based so it is not possible that Information is shared between threads... Only if in the same thread somebody uses the MDC-Values again it could have effects...\r\nAnd when the thread ends, the ThreadLocalMap of MDC will disapear... I guess...","title":"Do we need clear MDC after HTTP request in Spring","body":"<p>MDC is thread-based so it is not possible that Information is shared between threads... Only if in the same thread somebody uses the MDC-Values again it could have effects...\nAnd when the thread ends, the ThreadLocalMap of MDC will disapear... I guess...</p>\n"},{"tags":[],"owner":{"account_id":6283683,"reputation":3277,"user_id":4883754,"display_name":"Jess Chen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640052349,"creation_date":1640050285,"answer_id":70429753,"question_id":42414643,"body_markdown":"You can write a test code as below.\r\n\r\n```java\r\n    public static void request(ThrowingRunnable runnable, String para)  {\r\n            CompletableFuture.runAsync(() -&gt; {\r\n                MDC.put(&quot;var&quot;+ para, &quot;value&quot;+ para);\r\n                try {\r\n                    runnable.runThrows();\r\n                } catch (Exception e) {\r\n                    log.warn(e.getMessage(), e);\r\n                }finally {\r\n                    // get MDC variables\r\n                    String st = MDC.getCopyOfContextMap().entrySet().stream().map(e -&gt; e.getKey() + &quot;=&quot; + e.getValue()).reduce((a, b) -&gt; a + &quot;,&quot; + b).orElse(&quot;&quot;);\r\n                    log.info(st);\r\n                }\r\n            });\r\n    }\r\n\r\n    public static void main(String[] args) throws InterruptedException {\r\n        for (int i = 0; i &lt; 100; i++) {\r\n            request(() -&gt; {\r\n            }, i + &quot;&quot;);\r\n        }\r\n        Thread.sleep(10000);\r\n    }\r\n```","title":"Do we need clear MDC after HTTP request in Spring","body":"<p>You can write a test code as below.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static void request(ThrowingRunnable runnable, String para)  {\n            CompletableFuture.runAsync(() -&gt; {\n                MDC.put(&quot;var&quot;+ para, &quot;value&quot;+ para);\n                try {\n                    runnable.runThrows();\n                } catch (Exception e) {\n                    log.warn(e.getMessage(), e);\n                }finally {\n                    // get MDC variables\n                    String st = MDC.getCopyOfContextMap().entrySet().stream().map(e -&gt; e.getKey() + &quot;=&quot; + e.getValue()).reduce((a, b) -&gt; a + &quot;,&quot; + b).orElse(&quot;&quot;);\n                    log.info(st);\n                }\n            });\n    }\n\n    public static void main(String[] args) throws InterruptedException {\n        for (int i = 0; i &lt; 100; i++) {\n            request(() -&gt; {\n            }, i + &quot;&quot;);\n        }\n        Thread.sleep(10000);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9454624,"reputation":1,"user_id":7030303,"display_name":"Shubham Damkondwar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671451140,"creation_date":1671451140,"answer_id":74850216,"question_id":42414643,"body_markdown":"Whether you should clear the MDC or not after an HTTP request depends on your specific use case. If you are using the MDC to store information that is specific to a particular request and should not be carried over to subsequent requests, then it might be a good idea to clear the MDC after the request has been processed. \r\nThis can help to ensure that the MDC does not contain any stale or irrelevant information.","title":"Do we need clear MDC after HTTP request in Spring","body":"<p>Whether you should clear the MDC or not after an HTTP request depends on your specific use case. If you are using the MDC to store information that is specific to a particular request and should not be carried over to subsequent requests, then it might be a good idea to clear the MDC after the request has been processed.\nThis can help to ensure that the MDC does not contain any stale or irrelevant information.</p>\n"}],"owner":{"account_id":1710413,"reputation":1635,"user_id":1568605,"accept_rate":28,"display_name":"Łukasz Woźniczka"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21665,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"answer_count":4,"score":26,"last_activity_date":1671451140,"creation_date":1487849671,"question_id":42414643,"body_markdown":"According to this answer [thread local variable][1] when we use thread local we should clear all variable in thread pool environment.\r\n\r\nSo basically I just want to **confirm** that when we are using MDC (Mapped diagnostic context) we also should clear MDC to aware memory leaks, is that true ?  \r\n\r\nSo for instance :\r\n \r\n```java\r\n@Configuration\r\npublic class WebConfig implements WebMvcConfigurer {\r\n    public class HttpInterceptor implements HandlerInterceptor {\r\n\t    @Override\r\n\t    public boolean preHandle(final HttpServletRequest request,\r\n                                 final HttpServletResponse response,\r\n                                 final Object handler) {\r\n            MDC.put(SESSION_ID, session_id);\r\n\t    {\r\n\r\n\t    @Override\r\n\t    public void postHandle(final HttpServletRequest request,\r\n                               final HttpServletResponse response,\r\n                               final Object handler,\r\n\t\t\t                   final ModelAndView modelAndView) {\r\n\t\t   MDC.clear(); //WE SHOULD CLEAR MDC.... if not memory leaks ?\r\n\t    }\r\n    }\r\n\r\n    @Override\r\n    public void addInterceptors(InterceptorRegistry registry) {\r\n        registry.addInterceptor(new MdcHandlerInterceptor());\r\n    }\r\n}\r\n```\r\n\r\n  [1]: https://stackoverflow.com/a/818120/1568605","title":"Do we need clear MDC after HTTP request in Spring","body":"<p>According to this answer <a href=\"https://stackoverflow.com/a/818120/1568605\">thread local variable</a> when we use thread local we should clear all variable in thread pool environment.</p>\n\n<p>So basically I just want to <strong>confirm</strong> that when we are using MDC (Mapped diagnostic context) we also should clear MDC to aware memory leaks, is that true ?  </p>\n\n<p>So for instance :</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class WebConfig implements WebMvcConfigurer {\n    public class HttpInterceptor implements HandlerInterceptor {\n        @Override\n        public boolean preHandle(final HttpServletRequest request,\n                                 final HttpServletResponse response,\n                                 final Object handler) {\n            MDC.put(SESSION_ID, session_id);\n        {\n\n        @Override\n        public void postHandle(final HttpServletRequest request,\n                               final HttpServletResponse response,\n                               final Object handler,\n                               final ModelAndView modelAndView) {\n           MDC.clear(); //WE SHOULD CLEAR MDC.... if not memory leaks ?\n        }\n    }\n\n    @Override\n    public void addInterceptors(InterceptorRegistry registry) {\n        registry.addInterceptor(new MdcHandlerInterceptor());\n    }\n}\n</code></pre>\n"},{"tags":["java","marklogic","autosuggest","marklogic-8"],"answers":[{"tags":[],"owner":{"account_id":3883533,"reputation":7620,"user_id":3215485,"display_name":"David Ennis  -CleverLlamas.com"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1470743715,"creation_date":1470743715,"answer_id":38850034,"question_id":38845252,"body_markdown":"Perhaps you are looking for the use of dynamic query options as defined in the java API documentation:\r\n\r\n[https://docs.marklogic.com/guide/java/searches#id_76144][1]\r\n\r\nFurthermore, you can also register more than one query option file and use one for each language.\r\n\r\n\r\n  [1]: https://docs.marklogic.com/guide/java/searches#id_76144","title":"MarkLogic - How to switch Language of Suggest","body":"<p>Perhaps you are looking for the use of dynamic query options as defined in the java API documentation:</p>\n\n<p><a href=\"https://docs.marklogic.com/guide/java/searches#id_76144\" rel=\"nofollow\">https://docs.marklogic.com/guide/java/searches#id_76144</a></p>\n\n<p>Furthermore, you can also register more than one query option file and use one for each language.</p>\n"},{"tags":[],"owner":{"account_id":8824156,"reputation":203,"user_id":6592903,"accept_rate":75,"display_name":"Zipunrar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1474438109,"creation_date":1474438109,"answer_id":39608669,"question_id":38845252,"body_markdown":"The solution comes through two possible (and practical) ideas:\r\n\r\nEither create more than one query options file per language as suggested (and additional indexes per language) or just ignore the problem! \r\n\r\nIf the field behind the suggestion (the source) points to elements that are tagged with different xml:lang attributes, than a suggest call with say &quot;books&quot; will return only english suggestions and a call with the german &quot;B&#252;cher&quot; will return only german suggestions.\r\n\r\nThe only exception is if there is german text in an english tagged element. This could lead to false positives.\r\n\r\nAdditional thought: Searching through suggestions like &quot;books&quot; and setting the search language to german will return nothing.\r\n\r\nConclusion: Searching under a specific language is a complex topic. It really depends on how the user want to search and how the application works.\r\n\r\nP.S: I used the second solution to just ignore the problem for now.","title":"MarkLogic - How to switch Language of Suggest","body":"<p>The solution comes through two possible (and practical) ideas:</p>\n\n<p>Either create more than one query options file per language as suggested (and additional indexes per language) or just ignore the problem! </p>\n\n<p>If the field behind the suggestion (the source) points to elements that are tagged with different xml:lang attributes, than a suggest call with say \"books\" will return only english suggestions and a call with the german \"Bücher\" will return only german suggestions.</p>\n\n<p>The only exception is if there is german text in an english tagged element. This could lead to false positives.</p>\n\n<p>Additional thought: Searching through suggestions like \"books\" and setting the search language to german will return nothing.</p>\n\n<p>Conclusion: Searching under a specific language is a complex topic. It really depends on how the user want to search and how the application works.</p>\n\n<p>P.S: I used the second solution to just ignore the problem for now.</p>\n"}],"owner":{"account_id":8824156,"reputation":203,"user_id":6592903,"accept_rate":75,"display_name":"Zipunrar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":39608669,"answer_count":2,"score":0,"last_activity_date":1671451120,"creation_date":1470729842,"question_id":38845252,"body_markdown":"i want to use the suggestion feature of MarkLogic database in conjunction with the Java Client API.\r\n\r\nThe problem with that is, to do a suggest call i need a field or something that serves as a suggestion source. The next step is to create query options that reference this suggestion source. The last step is to call:\r\n\r\n    SuggestionDefinition def = marklogicClient.newQueryManager().newSuggestionDefinition();\r\n    def.setLimit(10);\r\n    def.setOptionsName(&quot;my-query-options&quot;);\r\n    def.setStringCriteria(&quot;Test&quot;);\r\n    //setup lang?\r\n\r\nThe question is: How to switch language?\r\nIf my frontend can be switched between german and english, then i have to switch the search/suggest language. In order to do this i have to switch the collation but how?\r\n\r\nThe query options are static after upload, containing something like:\r\n\r\n    &lt;default-suggestion-source&gt;\r\n\t\t&lt;word collation=&quot;http://marklogic.com/collation/de&quot;&gt;\r\n\t\t\t&lt;field name=&quot;my-suggest&quot; /&gt;\r\n\t\t&lt;/word&gt;\r\n\t&lt;/default-suggestion-source&gt;\r\n","title":"MarkLogic - How to switch Language of Suggest","body":"<p>i want to use the suggestion feature of MarkLogic database in conjunction with the Java Client API.</p>\n<p>The problem with that is, to do a suggest call i need a field or something that serves as a suggestion source. The next step is to create query options that reference this suggestion source. The last step is to call:</p>\n<pre><code>SuggestionDefinition def = marklogicClient.newQueryManager().newSuggestionDefinition();\ndef.setLimit(10);\ndef.setOptionsName(&quot;my-query-options&quot;);\ndef.setStringCriteria(&quot;Test&quot;);\n//setup lang?\n</code></pre>\n<p>The question is: How to switch language?\nIf my frontend can be switched between german and english, then i have to switch the search/suggest language. In order to do this i have to switch the collation but how?</p>\n<p>The query options are static after upload, containing something like:</p>\n<pre><code>&lt;default-suggestion-source&gt;\n    &lt;word collation=&quot;http://marklogic.com/collation/de&quot;&gt;\n        &lt;field name=&quot;my-suggest&quot; /&gt;\n    &lt;/word&gt;\n&lt;/default-suggestion-source&gt;\n</code></pre>\n"},{"tags":["java","macos","cocoa","cocoa-touch"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1615963804,"post_id":66667832,"comment_id":117851488,"body_markdown":"I&#39;ve never used this API, but you can try out [`java.awt.desktop.SystemSleepListener`](https://docs.oracle.com/en/java/javase/15/docs/api/java.desktop/java/awt/desktop/SystemSleepListener.html) (added in Java 9).","body":"I&#39;ve never used this API, but you can try out <a href=\"https://docs.oracle.com/en/java/javase/15/docs/api/java.desktop/java/awt/desktop/SystemSleepListener.html\" rel=\"nofollow noreferrer\"><code>java.awt.desktop.SystemSleepListener</code></a> (added in Java 9)."},{"owner":{"account_id":20169710,"reputation":86,"user_id":15258958,"display_name":"Ananthu K Kumar"},"score":0,"creation_date":1615965729,"post_id":66667832,"comment_id":117852082,"body_markdown":"Thank you for answering but I need to know If I can use Cocoa (Listing 1) and I/O Kit (Listing 3, Listing 4) for receiving sleep and wake notifications. =&gt; https://developer.apple.com/library/archive/qa/qa1340/_index.html                                       This link keeps coming up often in the related stackoverflow codes by the mentioned code has no beginnig or end and I have no idea on how to integrate it with my coide. Can you help me with this.","body":"Thank you for answering but I need to know If I can use Cocoa (Listing 1) and I/O Kit (Listing 3, Listing 4) for receiving sleep and wake notifications. =&gt; <a href=\"https://developer.apple.com/library/archive/qa/qa1340/_index.html\" rel=\"nofollow noreferrer\">developer.apple.com/library/archive/qa/qa1340/_index.html</a>                                       This link keeps coming up often in the related stackoverflow codes by the mentioned code has no beginnig or end and I have no idea on how to integrate it with my coide. Can you help me with this."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1615967235,"post_id":66667832,"comment_id":117852540,"body_markdown":"But you&#39;re using Java. Why not try to use the cross-platform API it provides? For all I know, it uses what you&#39;re talking about under-the-hood when executing on a Mac.","body":"But you&#39;re using Java. Why not try to use the cross-platform API it provides? For all I know, it uses what you&#39;re talking about under-the-hood when executing on a Mac."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1671119467,"post_id":66667832,"comment_id":132034172,"body_markdown":"To answer your comment about using the Cocoa API: it should be possible to use it from Java ... but you are going to take the time read / learn about calling native code from your Mac Java application; e.g. Google for &quot;calling Cocoa from Java&quot; ... and watch out for out-of-date advice!!   (Mine would be to follow Slaw&#39;s suggestion above ...)","body":"To answer your comment about using the Cocoa API: it should be possible to use it from Java ... but you are going to take the time read / learn about calling native code from your Mac Java application; e.g. Google for &quot;calling Cocoa from Java&quot; ... and watch out for out-of-date advice!!   (Mine would be to follow Slaw&#39;s suggestion above ...)"},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1680365806,"post_id":66667832,"comment_id":133887882,"body_markdown":"Possible duplicate of https://stackoverflow.com/q/74601069/150978","body":"Possible duplicate of <a href=\"https://stackoverflow.com/q/74601069/150978\">stackoverflow.com/q/74601069/150978</a>"}],"owner":{"account_id":20169710,"reputation":86,"user_id":15258958,"display_name":"Ananthu K Kumar"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":320,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1671451119,"creation_date":1615961492,"question_id":66667832,"body_markdown":"My Time-tracking application gets into hibernate-mode when the Mac it runs on gets into sleep mode (Forced sleep or by its own), this time goes untracked. The application needs to input this time as inert, is there any way to find that the Mac has gone to sleep and if it has woke-up.\r\nAnd btw my app runs in Java.","title":"How to detect sleep in Mac","body":"<p>My Time-tracking application gets into hibernate-mode when the Mac it runs on gets into sleep mode (Forced sleep or by its own), this time goes untracked. The application needs to input this time as inert, is there any way to find that the Mac has gone to sleep and if it has woke-up.\nAnd btw my app runs in Java.</p>\n"},{"tags":["java","android","mvvm","android-room"],"comments":[{"owner":{"account_id":4192472,"reputation":1728,"user_id":3434763,"display_name":"TheLibrarian"},"score":0,"creation_date":1667457730,"post_id":74295637,"comment_id":131172256,"body_markdown":"Have you added the prepopulation logic after the app was installed? onCreate for Room doesn&#39;t happen on every app start-up, if you can clear data/uninstall and run it again.","body":"Have you added the prepopulation logic after the app was installed? onCreate for Room doesn&#39;t happen on every app start-up, if you can clear data/uninstall and run it again."}],"answers":[{"tags":[],"owner":{"account_id":6077735,"reputation":52951,"user_id":4744514,"accept_rate":96,"display_name":"MikeT"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667467566,"creation_date":1667467566,"answer_id":74300695,"question_id":74295637,"body_markdown":"Your issue is likely that you have run the App without the code in the onCreate callback, or with code that failed, in the onCreate callback. The callback is only run after the database has been created. Once the database has been created, unless it is deleted, onCreate will not be called again.\r\n\r\nThe simplest option is to delete the database (easiest way is to uninstall the App) and then run the App and the onCreate callback will then be run. ","title":"Pre-Populated Room Database shows empty ArrayList","body":"<p>Your issue is likely that you have run the App without the code in the onCreate callback, or with code that failed, in the onCreate callback. The callback is only run after the database has been created. Once the database has been created, unless it is deleted, onCreate will not be called again.</p>\n<p>The simplest option is to delete the database (easiest way is to uninstall the App) and then run the App and the onCreate callback will then be run.</p>\n"}],"owner":{"account_id":26811043,"reputation":11,"user_id":20401674,"display_name":"Samantha Popovic"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74300695,"answer_count":1,"score":0,"last_activity_date":1671451083,"creation_date":1667423261,"question_id":74295637,"body_markdown":"I&#39;m following a tutorial on MVVM and using Room and Viewmodel. I manually inserted a few items into the database and it&#39;s supposed to update a RecyclerView with these items. Still, when I run it the arrayList attached to the adapter is showing 0. I&#39;m not sure where I went wrong since I followed a tutorial, but after checking the steps a few times I&#39;m still stuck\r\n\r\nMainActivity:\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    private NoteViewModel noteViewModel;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        RecyclerView recyclerView = findViewById(R.id.recycler_view);\r\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\r\n        recyclerView.setHasFixedSize(true);\r\n        NoteAdapter noteAdapter = new NoteAdapter();\r\n        recyclerView.setAdapter(noteAdapter);\r\n\r\n        noteViewModel = new ViewModelProvider(this).get(NoteViewModel.class);\r\n\r\n        //noteViewModel = new ViewModelProvider(this).get(NoteViewModel.class);\r\n        noteViewModel.getAllNotes().observe(this, new Observer&lt;List&lt;Note&gt;&gt;() {\r\n            @Override\r\n            public void onChanged(List&lt;Note&gt; notes) {\r\n                noteAdapter.setNotes(notes);\r\n                Toast.makeText(MainActivity.this, &quot;onChanged&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n            }\r\n        });\r\n\r\n    }\r\n```\r\n\r\nViewModel:\r\n```\r\npublic class NoteViewModel extends AndroidViewModel {\r\n\r\n    private NoteRepository repository;\r\n    private LiveData&lt;List&lt;Note&gt;&gt; allNotes;\r\n\r\n\r\n    public NoteViewModel(@NonNull Application application) {\r\n        super(application);\r\n        repository = new NoteRepository(application);\r\n        allNotes = repository.getAllNotes();\r\n    }\r\n\r\n    public void insert(Note note){\r\n        repository.insert(note);\r\n    }\r\n\r\n    public void update(Note note){\r\n        repository.update(note);\r\n    }\r\n\r\n    public void delete(Note note){\r\n        repository.delete(note);\r\n    }\r\n\r\n    public void deleteAllNotes(){\r\n        repository.deleteAllNotes();\r\n    }\r\n\r\n    public LiveData&lt;List&lt;Note&gt;&gt; getAllNotes() {\r\n        return allNotes;\r\n    }\r\n}\r\n```\r\n\r\nRepository:\r\n\r\n```\r\npublic class NoteRepository {\r\n    private NoteDao noteDao;\r\n    private LiveData&lt;List&lt;Note&gt;&gt; allNotes;\r\n\r\n    public NoteRepository(Application application){\r\n        NoteDatabase database = NoteDatabase.getInstance(application);\r\n        noteDao = database.noteDao();\r\n        allNotes = noteDao.getAllNotes();\r\n    }\r\n\r\n    public void insert(Note note){\r\n        new InsertNoteAsyncTask(noteDao).execute(note);\r\n    }\r\n\r\n    public void update(Note note){\r\n        new UpdateNoteAsyncTask(noteDao).execute(note);\r\n    }\r\n\r\n    public void delete(Note note){\r\n        new DeleteNoteAsyncTask(noteDao).execute(note);\r\n    }\r\n\r\n    public void deleteAllNotes(){\r\n        new DeleteAllNotesAsyncTask(noteDao).execute();\r\n    }\r\n\r\n    public LiveData&lt;List&lt;Note&gt;&gt; getAllNotes(){\r\n        return allNotes;\r\n    }\r\n\r\n    private static class InsertNoteAsyncTask extends AsyncTask&lt;Note, Void, Void&gt;{\r\n        private NoteDao noteDao;\r\n\r\n        private InsertNoteAsyncTask(NoteDao noteDao){\r\n            this.noteDao = noteDao;\r\n        }\r\n\r\n        @Override\r\n        protected Void doInBackground(Note... notes) {\r\n            noteDao.insert(notes[0]);\r\n            return null;\r\n        }\r\n    }\r\n    private static class UpdateNoteAsyncTask extends AsyncTask&lt;Note, Void, Void&gt;{\r\n        private NoteDao noteDao;\r\n\r\n        private UpdateNoteAsyncTask(NoteDao noteDao){\r\n            this.noteDao = noteDao;\r\n        }\r\n\r\n        @Override\r\n        protected Void doInBackground(Note... notes) {\r\n            noteDao.update(notes[0]);\r\n            return null;\r\n        }\r\n    }\r\n    private static class DeleteNoteAsyncTask extends AsyncTask&lt;Note, Void, Void&gt;{\r\n        private NoteDao noteDao;\r\n\r\n        private DeleteNoteAsyncTask(NoteDao noteDao){\r\n            this.noteDao = noteDao;\r\n        }\r\n\r\n        @Override\r\n        protected Void doInBackground(Note... notes) {\r\n            noteDao.delete(notes[0]);\r\n            return null;\r\n        }\r\n    }\r\n    private static class DeleteAllNotesAsyncTask extends AsyncTask&lt;Void, Void, Void&gt;{\r\n        private NoteDao noteDao;\r\n\r\n        private DeleteAllNotesAsyncTask(NoteDao noteDao){\r\n            this.noteDao = noteDao;\r\n        }\r\n\r\n        @Override\r\n        protected Void doInBackground(Void... voids) {\r\n            noteDao.deleteAllNotes();\r\n            return null;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nAdapter:\r\n```\r\npublic class NoteAdapter extends RecyclerView.Adapter&lt;NoteAdapter.MyViewHolder&gt; {\r\n    private List&lt;Note&gt; notes = new ArrayList&lt;&gt;();\r\n\r\n\r\n    @NonNull\r\n    @Override\r\n    public MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View itemView = LayoutInflater.from(parent.getContext())\r\n                .inflate(R.layout.note_item, parent, false);\r\n        return new MyViewHolder(itemView);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull MyViewHolder holder, int position) {\r\n        Note currentNote = notes.get(position);\r\n        holder.tvTitle.setText(currentNote.getTitle());\r\n        holder.tvDescription.setText(currentNote.getDescription());\r\n        holder.tvPriority.setText(String.valueOf(currentNote.getPriority()));\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return notes.size();\r\n    }\r\n\r\n    public void setNotes(List&lt;Note&gt; notes){\r\n        this.notes = notes;\r\n        notifyDataSetChanged();\r\n    }\r\n    public class MyViewHolder extends RecyclerView.ViewHolder{\r\n\r\n        private TextView tvTitle;\r\n        private TextView tvDescription;\r\n        private TextView tvPriority;\r\n\r\n        public MyViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            tvTitle = itemView.findViewById(R.id.tvTitle);\r\n            tvDescription = itemView.findViewById(R.id.tvDescription);\r\n            tvPriority = itemView.findViewById(R.id.tvPriority);\r\n        }\r\n    }\r\n```\r\n\r\nDatabase class:\r\n```\r\n@Database(entities = {Note.class}, version = 1)\r\npublic abstract class NoteDatabase extends RoomDatabase {\r\n\r\n    private static NoteDatabase instance;\r\n\r\n    public abstract NoteDao noteDao();\r\n\r\n    public static synchronized NoteDatabase getInstance(Context context){\r\n        if(instance == null){\r\n            instance = Room.databaseBuilder(context.getApplicationContext(),\r\n                    NoteDatabase.class, &quot;note_database&quot;)\r\n                    .fallbackToDestructiveMigration()\r\n                    .addCallback(roomCallback)\r\n                    .build();\r\n        }\r\n        return instance;\r\n    }\r\n    private static RoomDatabase.Callback roomCallback = new RoomDatabase.Callback(){\r\n        @Override\r\n        public void onCreate(@NonNull SupportSQLiteDatabase db) {\r\n            super.onCreate(db);\r\n            new PopulateDbAsyncTask(instance).execute();\r\n        }\r\n    };\r\n\r\n    private static class PopulateDbAsyncTask extends AsyncTask&lt;Void, Void, Void&gt;{\r\n        private NoteDao noteDao;\r\n\r\n        public PopulateDbAsyncTask(NoteDatabase db){\r\n            noteDao = db.noteDao();\r\n        }\r\n\r\n        @Override\r\n        protected Void doInBackground(Void... voids) {\r\n            noteDao.insert(new Note(&quot;Title 1&quot;, &quot;Description 1&quot;, 1));\r\n            noteDao.insert(new Note(&quot;Title 2&quot;, &quot;Description 2&quot;, 2));\r\n            noteDao.insert(new Note(&quot;Title 3&quot;, &quot;Description 3&quot;, 3));\r\n\r\n            return null;\r\n        }\r\n    }\r\n```\r\n\r\nDao:\r\n```\r\n@Dao\r\npublic interface NoteDao {\r\n\r\n    @Insert\r\n    void insert(Note note);\r\n\r\n    @Update\r\n    void update(Note note);\r\n\r\n    @Delete\r\n    void delete(Note note);\r\n\r\n    @Query(&quot;DELETE FROM note_table&quot;)\r\n    void deleteAllNotes();\r\n\r\n    @Query(&quot;SELECT * FROM note_table ORDER BY priority DESC&quot;) // &#39;*&#39; means all columns\r\n    LiveData&lt;List&lt;Note&gt;&gt; getAllNotes();\r\n\r\n}\r\n```\r\n\r\nThanks for any input","title":"Pre-Populated Room Database shows empty ArrayList","body":"<p>I'm following a tutorial on MVVM and using Room and Viewmodel. I manually inserted a few items into the database and it's supposed to update a RecyclerView with these items. Still, when I run it the arrayList attached to the adapter is showing 0. I'm not sure where I went wrong since I followed a tutorial, but after checking the steps a few times I'm still stuck</p>\n<p>MainActivity:</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    private NoteViewModel noteViewModel;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        RecyclerView recyclerView = findViewById(R.id.recycler_view);\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\n        recyclerView.setHasFixedSize(true);\n        NoteAdapter noteAdapter = new NoteAdapter();\n        recyclerView.setAdapter(noteAdapter);\n\n        noteViewModel = new ViewModelProvider(this).get(NoteViewModel.class);\n\n        //noteViewModel = new ViewModelProvider(this).get(NoteViewModel.class);\n        noteViewModel.getAllNotes().observe(this, new Observer&lt;List&lt;Note&gt;&gt;() {\n            @Override\n            public void onChanged(List&lt;Note&gt; notes) {\n                noteAdapter.setNotes(notes);\n                Toast.makeText(MainActivity.this, &quot;onChanged&quot;, Toast.LENGTH_SHORT).show();\n\n            }\n        });\n\n    }\n</code></pre>\n<p>ViewModel:</p>\n<pre><code>public class NoteViewModel extends AndroidViewModel {\n\n    private NoteRepository repository;\n    private LiveData&lt;List&lt;Note&gt;&gt; allNotes;\n\n\n    public NoteViewModel(@NonNull Application application) {\n        super(application);\n        repository = new NoteRepository(application);\n        allNotes = repository.getAllNotes();\n    }\n\n    public void insert(Note note){\n        repository.insert(note);\n    }\n\n    public void update(Note note){\n        repository.update(note);\n    }\n\n    public void delete(Note note){\n        repository.delete(note);\n    }\n\n    public void deleteAllNotes(){\n        repository.deleteAllNotes();\n    }\n\n    public LiveData&lt;List&lt;Note&gt;&gt; getAllNotes() {\n        return allNotes;\n    }\n}\n</code></pre>\n<p>Repository:</p>\n<pre><code>public class NoteRepository {\n    private NoteDao noteDao;\n    private LiveData&lt;List&lt;Note&gt;&gt; allNotes;\n\n    public NoteRepository(Application application){\n        NoteDatabase database = NoteDatabase.getInstance(application);\n        noteDao = database.noteDao();\n        allNotes = noteDao.getAllNotes();\n    }\n\n    public void insert(Note note){\n        new InsertNoteAsyncTask(noteDao).execute(note);\n    }\n\n    public void update(Note note){\n        new UpdateNoteAsyncTask(noteDao).execute(note);\n    }\n\n    public void delete(Note note){\n        new DeleteNoteAsyncTask(noteDao).execute(note);\n    }\n\n    public void deleteAllNotes(){\n        new DeleteAllNotesAsyncTask(noteDao).execute();\n    }\n\n    public LiveData&lt;List&lt;Note&gt;&gt; getAllNotes(){\n        return allNotes;\n    }\n\n    private static class InsertNoteAsyncTask extends AsyncTask&lt;Note, Void, Void&gt;{\n        private NoteDao noteDao;\n\n        private InsertNoteAsyncTask(NoteDao noteDao){\n            this.noteDao = noteDao;\n        }\n\n        @Override\n        protected Void doInBackground(Note... notes) {\n            noteDao.insert(notes[0]);\n            return null;\n        }\n    }\n    private static class UpdateNoteAsyncTask extends AsyncTask&lt;Note, Void, Void&gt;{\n        private NoteDao noteDao;\n\n        private UpdateNoteAsyncTask(NoteDao noteDao){\n            this.noteDao = noteDao;\n        }\n\n        @Override\n        protected Void doInBackground(Note... notes) {\n            noteDao.update(notes[0]);\n            return null;\n        }\n    }\n    private static class DeleteNoteAsyncTask extends AsyncTask&lt;Note, Void, Void&gt;{\n        private NoteDao noteDao;\n\n        private DeleteNoteAsyncTask(NoteDao noteDao){\n            this.noteDao = noteDao;\n        }\n\n        @Override\n        protected Void doInBackground(Note... notes) {\n            noteDao.delete(notes[0]);\n            return null;\n        }\n    }\n    private static class DeleteAllNotesAsyncTask extends AsyncTask&lt;Void, Void, Void&gt;{\n        private NoteDao noteDao;\n\n        private DeleteAllNotesAsyncTask(NoteDao noteDao){\n            this.noteDao = noteDao;\n        }\n\n        @Override\n        protected Void doInBackground(Void... voids) {\n            noteDao.deleteAllNotes();\n            return null;\n        }\n    }\n}\n</code></pre>\n<p>Adapter:</p>\n<pre><code>public class NoteAdapter extends RecyclerView.Adapter&lt;NoteAdapter.MyViewHolder&gt; {\n    private List&lt;Note&gt; notes = new ArrayList&lt;&gt;();\n\n\n    @NonNull\n    @Override\n    public MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View itemView = LayoutInflater.from(parent.getContext())\n                .inflate(R.layout.note_item, parent, false);\n        return new MyViewHolder(itemView);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull MyViewHolder holder, int position) {\n        Note currentNote = notes.get(position);\n        holder.tvTitle.setText(currentNote.getTitle());\n        holder.tvDescription.setText(currentNote.getDescription());\n        holder.tvPriority.setText(String.valueOf(currentNote.getPriority()));\n    }\n\n    @Override\n    public int getItemCount() {\n        return notes.size();\n    }\n\n    public void setNotes(List&lt;Note&gt; notes){\n        this.notes = notes;\n        notifyDataSetChanged();\n    }\n    public class MyViewHolder extends RecyclerView.ViewHolder{\n\n        private TextView tvTitle;\n        private TextView tvDescription;\n        private TextView tvPriority;\n\n        public MyViewHolder(@NonNull View itemView) {\n            super(itemView);\n            tvTitle = itemView.findViewById(R.id.tvTitle);\n            tvDescription = itemView.findViewById(R.id.tvDescription);\n            tvPriority = itemView.findViewById(R.id.tvPriority);\n        }\n    }\n</code></pre>\n<p>Database class:</p>\n<pre><code>@Database(entities = {Note.class}, version = 1)\npublic abstract class NoteDatabase extends RoomDatabase {\n\n    private static NoteDatabase instance;\n\n    public abstract NoteDao noteDao();\n\n    public static synchronized NoteDatabase getInstance(Context context){\n        if(instance == null){\n            instance = Room.databaseBuilder(context.getApplicationContext(),\n                    NoteDatabase.class, &quot;note_database&quot;)\n                    .fallbackToDestructiveMigration()\n                    .addCallback(roomCallback)\n                    .build();\n        }\n        return instance;\n    }\n    private static RoomDatabase.Callback roomCallback = new RoomDatabase.Callback(){\n        @Override\n        public void onCreate(@NonNull SupportSQLiteDatabase db) {\n            super.onCreate(db);\n            new PopulateDbAsyncTask(instance).execute();\n        }\n    };\n\n    private static class PopulateDbAsyncTask extends AsyncTask&lt;Void, Void, Void&gt;{\n        private NoteDao noteDao;\n\n        public PopulateDbAsyncTask(NoteDatabase db){\n            noteDao = db.noteDao();\n        }\n\n        @Override\n        protected Void doInBackground(Void... voids) {\n            noteDao.insert(new Note(&quot;Title 1&quot;, &quot;Description 1&quot;, 1));\n            noteDao.insert(new Note(&quot;Title 2&quot;, &quot;Description 2&quot;, 2));\n            noteDao.insert(new Note(&quot;Title 3&quot;, &quot;Description 3&quot;, 3));\n\n            return null;\n        }\n    }\n</code></pre>\n<p>Dao:</p>\n<pre><code>@Dao\npublic interface NoteDao {\n\n    @Insert\n    void insert(Note note);\n\n    @Update\n    void update(Note note);\n\n    @Delete\n    void delete(Note note);\n\n    @Query(&quot;DELETE FROM note_table&quot;)\n    void deleteAllNotes();\n\n    @Query(&quot;SELECT * FROM note_table ORDER BY priority DESC&quot;) // '*' means all columns\n    LiveData&lt;List&lt;Note&gt;&gt; getAllNotes();\n\n}\n</code></pre>\n<p>Thanks for any input</p>\n"},{"tags":["java","data-structures","sorting"],"comments":[{"owner":{"account_id":10611,"reputation":110107,"user_id":20128,"accept_rate":73,"display_name":"serg"},"score":4,"creation_date":1288650203,"post_id":4031572,"comment_id":4378410,"body_markdown":"If you insert occasionally and read frequently why not just sort it during insertion?","body":"If you insert occasionally and read frequently why not just sort it during insertion?"}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1288170892,"creation_date":1288170892,"answer_id":4031580,"question_id":4031572,"body_markdown":"Lists typically preserve the order in which items are added. Do you definitely need a *list*, or would a sorted *set* (e.g. [`TreeSet&lt;E&gt;`][1]) be okay for you? Basically, do you need to need to preserve duplicates?\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/util/TreeSet.html","title":"Sorted array list in Java","body":"<p>Lists typically preserve the order in which items are added. Do you definitely need a <em>list</em>, or would a sorted <em>set</em> (e.g. <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/TreeSet.html\" rel=\"noreferrer\"><code>TreeSet&lt;E&gt;</code></a>) be okay for you? Basically, do you need to need to preserve duplicates?</p>\n"},{"tags":[],"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1288171516,"creation_date":1288170912,"answer_id":4031589,"question_id":4031572,"body_markdown":"Have a look at [SortedList][1]  \r\n\r\n&gt;This class implements a sorted list. It is constructed with a comparator that can compare two objects and sort objects accordingly. When you add an object to the list, it is inserted in the correct place. Object that are equal according to the comparator, will be in the list in the order that they were added to this list. Add only objects that the comparator can compare.  \r\n\r\n---\r\n&gt;When the list already contains objects that are equal according to the comparator, the new object will be inserted immediately after these other objects.\r\n\r\n\r\n  [1]: http://www.ltg.ed.ac.uk/NITE/nxt/apidoc/net/sourceforge/nite/util/SortedList.html","title":"Sorted array list in Java","body":"<p>Have a look at <a href=\"http://www.ltg.ed.ac.uk/NITE/nxt/apidoc/net/sourceforge/nite/util/SortedList.html\" rel=\"nofollow noreferrer\">SortedList</a>  </p>\n\n<blockquote>\n  <p>This class implements a sorted list. It is constructed with a comparator that can compare two objects and sort objects accordingly. When you add an object to the list, it is inserted in the correct place. Object that are equal according to the comparator, will be in the list in the order that they were added to this list. Add only objects that the comparator can compare.  </p>\n</blockquote>\n\n<hr>\n\n<blockquote>\n  <p>When the list already contains objects that are equal according to the comparator, the new object will be inserted immediately after these other objects.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":178633,"reputation":2676,"user_id":410737,"accept_rate":36,"display_name":"Gadolin"},"down_vote_count":5,"up_vote_count":16,"is_accepted":false,"score":11,"last_activity_date":1288171571,"creation_date":1288171063,"answer_id":4031607,"question_id":4031572,"body_markdown":"Use [`java.util.PriorityQueue`](http://download.oracle.com/javase/6/docs/api/java/util/PriorityQueue.html).","title":"Sorted array list in Java","body":"<p>Use <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/PriorityQueue.html\" rel=\"noreferrer\"><code>java.util.PriorityQueue</code></a>.</p>\n"},{"tags":[],"owner":{"account_id":106870,"reputation":1000,"user_id":284472,"accept_rate":86,"display_name":"codeporn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1288171851,"creation_date":1288171851,"answer_id":4031710,"question_id":4031572,"body_markdown":"I think the choice between SortedSets/Lists and &#39;normal&#39; sortable collections depends, whether you need sorting only for presentation purposes or at almost every point during runtime. Using a sorted collection may be much more expensive because the sorting is done everytime you insert an element. \r\n\r\nIf you can&#39;t opt for a collection in the JDK, you can take a look at the [Apache Commons Collections][1]\r\n\r\n\r\n  [1]: http://commons.apache.org/collections/","title":"Sorted array list in Java","body":"<p>I think the choice between SortedSets/Lists and 'normal' sortable collections depends, whether you need sorting only for presentation purposes or at almost every point during runtime. Using a sorted collection may be much more expensive because the sorting is done everytime you insert an element. </p>\n\n<p>If you can't opt for a collection in the JDK, you can take a look at the <a href=\"http://commons.apache.org/collections/\" rel=\"nofollow\">Apache Commons Collections</a></p>\n"},{"tags":[],"owner":{"account_id":40256,"reputation":46474,"user_id":116639,"accept_rate":25,"display_name":"Tom Anderson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1288172117,"creation_date":1288172117,"answer_id":4031742,"question_id":4031572,"body_markdown":"You could subclass ArrayList, and call Collections.sort(this) after any element is added - you would need to override two versions of add, and two of addAll, to do this.\r\n\r\nPerformance would not be as good as a smarter implementation which inserted elements in the right place, but it would do the job. If addition to the list is rare, the cost amortised over all operations on the list should be low.","title":"Sorted array list in Java","body":"<p>You could subclass ArrayList, and call Collections.sort(this) after any element is added - you would need to override two versions of add, and two of addAll, to do this.</p>\n\n<p>Performance would not be as good as a smarter implementation which inserted elements in the right place, but it would do the job. If addition to the list is rare, the cost amortised over all operations on the list should be low.</p>\n"},{"tags":[],"owner":{"account_id":102965,"reputation":415230,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"down_vote_count":1,"up_vote_count":65,"is_accepted":true,"score":64,"last_activity_date":1664117574,"creation_date":1288172900,"answer_id":4031849,"question_id":4031572,"body_markdown":"## Minimalistic Solution ##\r\n\r\nHere is a quick and dirty solution.\r\n\r\n    class SortedArrayList&lt;T&gt; extends ArrayList&lt;T&gt; {\r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        public void insertSorted(T value) {\r\n            int i = Collections.binarySearch((List&lt;Comparable&lt;T&gt;&gt;) this, value);\r\n            add(i &lt; 0 ? -i - 1 : i, value);\r\n        }\r\n    }\r\n\r\n\r\nNote that despite the `binarySearch`, `insertSorted` will run in linear time since `add(index, value)` runs in linear time for an `ArrayList`.\r\n\r\nInserting something non-comparable results in a ClassCastException. (This is the approach taken by [`PriorityQueue`](http://download.oracle.com/javase/6/docs/api/java/util/PriorityQueue.html) as well: *A priority queue relying on natural ordering also does not permit insertion of non-comparable objects (doing so may result in ClassCastException).*)\r\n\r\nA more complete implementation would, just like the `PriorityQueue`, also include a constructor that allows the user to pass in a `Comparator`.\r\n\r\n## Demo ##\r\n\r\n    SortedArrayList&lt;String&gt; test = new SortedArrayList&lt;String&gt;();\r\n    \r\n    test.insertSorted(&quot;ddd&quot;);    System.out.println(test);\r\n    test.insertSorted(&quot;aaa&quot;);    System.out.println(test);\r\n    test.insertSorted(&quot;ccc&quot;);    System.out.println(test);\r\n    test.insertSorted(&quot;bbb&quot;);    System.out.println(test);\r\n    test.insertSorted(&quot;eee&quot;);    System.out.println(test);\r\n\r\n....prints:\r\n\r\n    [ddd]\r\n    [aaa, ddd]\r\n    [aaa, ccc, ddd]\r\n    [aaa, bbb, ccc, ddd]\r\n    [aaa, bbb, ccc, ddd, eee]\r\n\r\n## Overriding `List.add` ##\r\n\r\nNote that overriding [`List.add`](http://download.oracle.com/javase/6/docs/api/java/util/List.html#add%28E%29) (or [`List.addAll`](http://download.oracle.com/javase/6/docs/api/java/util/List.html#addAll%28java.util.Collection%29) for that matter) to insert elements in a sorted fashion would be a **direct violation of the interface specification**.\r\n\r\nFrom the docs of `List.add`:\r\n\r\n&gt; &lt;code&gt;boolean add(E e)&lt;/code&gt;&lt;br /&gt;\r\n&gt; &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*Appends the specified element to the end of this list (optional operation).*\r\n\r\n## Maintaining the sortedness invariant ##\r\n\r\nUnless this is some throw-away code, you probably want to guarantee that all elements remain sorted. This would include throwing `UnsupportedOperationException` for methods like `add`, `addAll` and `set`, as well as overriding `listIterator` to return a `ListIterator` whose `set` method throws.","title":"Sorted array list in Java","body":"<h2>Minimalistic Solution</h2>\n<p>Here is a quick and dirty solution.</p>\n<pre><code>class SortedArrayList&lt;T&gt; extends ArrayList&lt;T&gt; {\n    @SuppressWarnings(&quot;unchecked&quot;)\n    public void insertSorted(T value) {\n        int i = Collections.binarySearch((List&lt;Comparable&lt;T&gt;&gt;) this, value);\n        add(i &lt; 0 ? -i - 1 : i, value);\n    }\n}\n</code></pre>\n<p>Note that despite the <code>binarySearch</code>, <code>insertSorted</code> will run in linear time since <code>add(index, value)</code> runs in linear time for an <code>ArrayList</code>.</p>\n<p>Inserting something non-comparable results in a ClassCastException. (This is the approach taken by <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/PriorityQueue.html\" rel=\"nofollow noreferrer\"><code>PriorityQueue</code></a> as well: <em>A priority queue relying on natural ordering also does not permit insertion of non-comparable objects (doing so may result in ClassCastException).</em>)</p>\n<p>A more complete implementation would, just like the <code>PriorityQueue</code>, also include a constructor that allows the user to pass in a <code>Comparator</code>.</p>\n<h2>Demo</h2>\n<pre><code>SortedArrayList&lt;String&gt; test = new SortedArrayList&lt;String&gt;();\n\ntest.insertSorted(&quot;ddd&quot;);    System.out.println(test);\ntest.insertSorted(&quot;aaa&quot;);    System.out.println(test);\ntest.insertSorted(&quot;ccc&quot;);    System.out.println(test);\ntest.insertSorted(&quot;bbb&quot;);    System.out.println(test);\ntest.insertSorted(&quot;eee&quot;);    System.out.println(test);\n</code></pre>\n<p>....prints:</p>\n<pre><code>[ddd]\n[aaa, ddd]\n[aaa, ccc, ddd]\n[aaa, bbb, ccc, ddd]\n[aaa, bbb, ccc, ddd, eee]\n</code></pre>\n<h2>Overriding <code>List.add</code></h2>\n<p>Note that overriding <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/List.html#add%28E%29\" rel=\"nofollow noreferrer\"><code>List.add</code></a> (or <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/List.html#addAll%28java.util.Collection%29\" rel=\"nofollow noreferrer\"><code>List.addAll</code></a> for that matter) to insert elements in a sorted fashion would be a <strong>direct violation of the interface specification</strong>.</p>\n<p>From the docs of <code>List.add</code>:</p>\n<blockquote>\n<p><code>boolean add(E e)</code><br />\n    <em>Appends the specified element to the end of this list (optional operation).</em></p>\n</blockquote>\n<h2>Maintaining the sortedness invariant</h2>\n<p>Unless this is some throw-away code, you probably want to guarantee that all elements remain sorted. This would include throwing <code>UnsupportedOperationException</code> for methods like <code>add</code>, <code>addAll</code> and <code>set</code>, as well as overriding <code>listIterator</code> to return a <code>ListIterator</code> whose <code>set</code> method throws.</p>\n"},{"tags":[],"owner":{"account_id":52010,"reputation":27006,"user_id":155392,"accept_rate":81,"display_name":"I82Much"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1288177075,"creation_date":1288177075,"answer_id":4032456,"question_id":4031572,"body_markdown":"It might be a bit too heavyweight for you, but [GlazedLists][1] has a [SortedList][2] that is perfect to use as the model of a table or JList\r\n\r\n\r\n  [1]: http://publicobject.com/glazedlists/\r\n  [2]: http://publicobject.com/glazedlists/glazedlists-1.7.0/api/ca/odell/glazedlists/SortedList.html","title":"Sorted array list in Java","body":"<p>It might be a bit too heavyweight for you, but <a href=\"http://publicobject.com/glazedlists/\" rel=\"nofollow\">GlazedLists</a> has a <a href=\"http://publicobject.com/glazedlists/glazedlists-1.7.0/api/ca/odell/glazedlists/SortedList.html\" rel=\"nofollow\">SortedList</a> that is perfect to use as the model of a table or JList</p>\n"},{"tags":[],"owner":{"account_id":117125,"reputation":13617,"user_id":306855,"accept_rate":73,"display_name":"Emil"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1664365059,"creation_date":1288179808,"answer_id":4032817,"question_id":4031572,"body_markdown":"You can try [Guava&#39;s][1] [TreeMultiSet][2].\r\n\r\n \r\n\r\n     Multiset&lt;Integer&gt; ms=TreeMultiset.create(Arrays.asList(1,2,3,1,1,-1,2,4,5,100));\r\n     System.out.println(ms);\r\n\r\n\r\n  [1]: https://guava.dev/releases/21.0/api/docs/overview-summary.html\r\n  [2]: https://guava.dev/releases/21.0/api/docs/com/google/common/collect/TreeMultiset.html\r\n  [3]: https://guava.dev/releases/21.0/api/docs/com/google/common/collect/Multiset.html","title":"Sorted array list in Java","body":"<p>You can try <a href=\"https://guava.dev/releases/21.0/api/docs/overview-summary.html\" rel=\"nofollow noreferrer\">Guava's</a> <a href=\"https://guava.dev/releases/21.0/api/docs/com/google/common/collect/TreeMultiset.html\" rel=\"nofollow noreferrer\">TreeMultiSet</a>.</p>\n<pre><code> Multiset&lt;Integer&gt; ms=TreeMultiset.create(Arrays.asList(1,2,3,1,1,-1,2,4,5,100));\n System.out.println(ms);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":311516,"reputation":3096,"user_id":625146,"accept_rate":100,"display_name":"Omnaest"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1331496100,"creation_date":1331496100,"answer_id":9658397,"question_id":4031572,"body_markdown":"Since the currently proposed implementations which do implement a sorted list by breaking the Collection API, have an own implementation of a tree or something similar, I was curios how an implementation based on the TreeMap would perform. (Especialy since the TreeSet does base on TreeMap, too)\r\n\r\nIf someone is interested in that, too, he or she can feel free to look into it:\r\n\r\n[TreeList][1]\r\n\r\nIts part of the [core library][2], you can add it via Maven dependency of course. (Apache License)\r\n\r\nCurrently the implementation seems to compare quite well on the same level than the guava SortedMultiSet and to the TreeList of the Apache Commons library.\r\n\r\nBut I would be happy if more than only me would test the implementation to be sure I did not miss something important.\r\n\r\nBest regards!\r\n\r\n\r\n\r\n  [1]: http://code.google.com/p/utils-apl-derived/source/browse/trunk/utils-apl-derived/utils-apl-derived-core/src/main/java/org/omnaest/utils/structure/collection/list/TreeList.java\r\n  [2]: http://code.google.com/p/utils-apl-derived/","title":"Sorted array list in Java","body":"<p>Since the currently proposed implementations which do implement a sorted list by breaking the Collection API, have an own implementation of a tree or something similar, I was curios how an implementation based on the TreeMap would perform. (Especialy since the TreeSet does base on TreeMap, too)</p>\n\n<p>If someone is interested in that, too, he or she can feel free to look into it:</p>\n\n<p><a href=\"http://code.google.com/p/utils-apl-derived/source/browse/trunk/utils-apl-derived/utils-apl-derived-core/src/main/java/org/omnaest/utils/structure/collection/list/TreeList.java\" rel=\"nofollow\">TreeList</a></p>\n\n<p>Its part of the <a href=\"http://code.google.com/p/utils-apl-derived/\" rel=\"nofollow\">core library</a>, you can add it via Maven dependency of course. (Apache License)</p>\n\n<p>Currently the implementation seems to compare quite well on the same level than the guava SortedMultiSet and to the TreeList of the Apache Commons library.</p>\n\n<p>But I would be happy if more than only me would test the implementation to be sure I did not miss something important.</p>\n\n<p>Best regards!</p>\n"},{"tags":[],"owner":{"account_id":227148,"reputation":625,"user_id":488635,"display_name":"Vitaly Sazanovich"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1621543451,"creation_date":1360532465,"answer_id":14802892,"question_id":4031572,"body_markdown":"https://github.com/geniot/indexed-tree-map\r\n\r\nI had the same problem. So I took the source code of java.util.TreeMap and wrote **IndexedTreeMap**. It implements my own **IndexedNavigableMap**:\r\n\r\n    public interface IndexedNavigableMap&lt;K, V&gt; extends NavigableMap&lt;K, V&gt; {\r\n       K exactKey(int index);\r\n       Entry&lt;K, V&gt; exactEntry(int index);\r\n       int keyIndex(K k);\r\n    }\r\n\r\nThe implementation is based on updating node weights in the red-black tree when it is changed. Weight is the number of child nodes beneath a given node, plus one - self. For example when a tree is rotated to the left:\r\n\r\n        private void rotateLeft(Entry&lt;K, V&gt; p) {\r\n        if (p != null) {\r\n            Entry&lt;K, V&gt; r = p.right;\r\n\r\n            int delta = getWeight(r.left) - getWeight(p.right);\r\n            p.right = r.left;\r\n            p.updateWeight(delta);\r\n\r\n            if (r.left != null) {\r\n                r.left.parent = p;\r\n            }\r\n\r\n            r.parent = p.parent;\r\n\r\n\r\n            if (p.parent == null) {\r\n                root = r;\r\n            } else if (p.parent.left == p) {\r\n                delta = getWeight(r) - getWeight(p.parent.left);\r\n                p.parent.left = r;\r\n                p.parent.updateWeight(delta);\r\n            } else {\r\n                delta = getWeight(r) - getWeight(p.parent.right);\r\n                p.parent.right = r;\r\n                p.parent.updateWeight(delta);\r\n            }\r\n\r\n            delta = getWeight(p) - getWeight(r.left);\r\n            r.left = p;\r\n            r.updateWeight(delta);\r\n\r\n            p.parent = r;\r\n        }\r\n      }\r\n\r\nupdateWeight simply updates weights up to the root:\r\n\r\n       void updateWeight(int delta) {\r\n            weight += delta;\r\n            Entry&lt;K, V&gt; p = parent;\r\n            while (p != null) {\r\n                p.weight += delta;\r\n                p = p.parent;\r\n            }\r\n        }\r\n\r\nAnd when we need to find the element by index here is the implementation that uses weights:\r\n\r\n    public K exactKey(int index) {\r\n        if (index &lt; 0 || index &gt; size() - 1) {\r\n            throw new ArrayIndexOutOfBoundsException();\r\n        }\r\n        return getExactKey(root, index);\r\n    }\r\n\r\n    private K getExactKey(Entry&lt;K, V&gt; e, int index) {\r\n        if (e.left == null &amp;&amp; index == 0) {\r\n            return e.key;\r\n        }\r\n        if (e.left == null &amp;&amp; e.right == null) {\r\n            return e.key;\r\n        }\r\n        if (e.left != null &amp;&amp; e.left.weight &gt; index) {\r\n            return getExactKey(e.left, index);\r\n        }\r\n        if (e.left != null &amp;&amp; e.left.weight == index) {\r\n            return e.key;\r\n        }\r\n        return getExactKey(e.right, index - (e.left == null ? 0 : e.left.weight) - 1);\r\n    }\r\n\r\nAlso comes in very handy finding the index of a key:\r\n\r\n        public int keyIndex(K key) {\r\n        if (key == null) {\r\n            throw new NullPointerException();\r\n        }\r\n        Entry&lt;K, V&gt; e = getEntry(key);\r\n        if (e == null) {\r\n            throw new NullPointerException();\r\n        }\r\n        if (e == root) {\r\n            return getWeight(e) - getWeight(e.right) - 1;//index to return\r\n        }\r\n        int index = 0;\r\n        int cmp;\r\n        index += getWeight(e.left);\r\n        \r\n        Entry&lt;K, V&gt; p = e.parent;\r\n        // split comparator and comparable paths\r\n        Comparator&lt;? super K&gt; cpr = comparator;\r\n        if (cpr != null) {\r\n            while (p != null) {\r\n                cmp = cpr.compare(key, p.key);\r\n                if (cmp &gt; 0) {\r\n                    index += getWeight(p.left) + 1;\r\n                }\r\n                p = p.parent;\r\n            }\r\n        } else {\r\n            Comparable&lt;? super K&gt; k = (Comparable&lt;? super K&gt;) key;\r\n            while (p != null) {\r\n                if (k.compareTo(p.key) &gt; 0) {\r\n                    index += getWeight(p.left) + 1;\r\n                }\r\n                p = p.parent;\r\n            }\r\n        }\r\n        return index;\r\n    }\r\n\r\nYou can find the result of this work at [https://github.com/geniot/indexed-tree-map][1]\r\n\r\n\r\n  [1]: https://github.com/geniot/indexed-tree-map\r\n\r\nTreeSet/TreeMap (as well as their indexed counterparts from the indexed-tree-map project) do not allow duplicate keys , you can use 1 key for an array of values. If you need a SortedSet with duplicates use TreeMap with values as arrays. I would do that.","title":"Sorted array list in Java","body":"<p><a href=\"https://github.com/geniot/indexed-tree-map\" rel=\"nofollow noreferrer\">https://github.com/geniot/indexed-tree-map</a></p>\n<p>I had the same problem. So I took the source code of java.util.TreeMap and wrote <strong>IndexedTreeMap</strong>. It implements my own <strong>IndexedNavigableMap</strong>:</p>\n<pre><code>public interface IndexedNavigableMap&lt;K, V&gt; extends NavigableMap&lt;K, V&gt; {\n   K exactKey(int index);\n   Entry&lt;K, V&gt; exactEntry(int index);\n   int keyIndex(K k);\n}\n</code></pre>\n<p>The implementation is based on updating node weights in the red-black tree when it is changed. Weight is the number of child nodes beneath a given node, plus one - self. For example when a tree is rotated to the left:</p>\n<pre><code>    private void rotateLeft(Entry&lt;K, V&gt; p) {\n    if (p != null) {\n        Entry&lt;K, V&gt; r = p.right;\n\n        int delta = getWeight(r.left) - getWeight(p.right);\n        p.right = r.left;\n        p.updateWeight(delta);\n\n        if (r.left != null) {\n            r.left.parent = p;\n        }\n\n        r.parent = p.parent;\n\n\n        if (p.parent == null) {\n            root = r;\n        } else if (p.parent.left == p) {\n            delta = getWeight(r) - getWeight(p.parent.left);\n            p.parent.left = r;\n            p.parent.updateWeight(delta);\n        } else {\n            delta = getWeight(r) - getWeight(p.parent.right);\n            p.parent.right = r;\n            p.parent.updateWeight(delta);\n        }\n\n        delta = getWeight(p) - getWeight(r.left);\n        r.left = p;\n        r.updateWeight(delta);\n\n        p.parent = r;\n    }\n  }\n</code></pre>\n<p>updateWeight simply updates weights up to the root:</p>\n<pre><code>   void updateWeight(int delta) {\n        weight += delta;\n        Entry&lt;K, V&gt; p = parent;\n        while (p != null) {\n            p.weight += delta;\n            p = p.parent;\n        }\n    }\n</code></pre>\n<p>And when we need to find the element by index here is the implementation that uses weights:</p>\n<pre><code>public K exactKey(int index) {\n    if (index &lt; 0 || index &gt; size() - 1) {\n        throw new ArrayIndexOutOfBoundsException();\n    }\n    return getExactKey(root, index);\n}\n\nprivate K getExactKey(Entry&lt;K, V&gt; e, int index) {\n    if (e.left == null &amp;&amp; index == 0) {\n        return e.key;\n    }\n    if (e.left == null &amp;&amp; e.right == null) {\n        return e.key;\n    }\n    if (e.left != null &amp;&amp; e.left.weight &gt; index) {\n        return getExactKey(e.left, index);\n    }\n    if (e.left != null &amp;&amp; e.left.weight == index) {\n        return e.key;\n    }\n    return getExactKey(e.right, index - (e.left == null ? 0 : e.left.weight) - 1);\n}\n</code></pre>\n<p>Also comes in very handy finding the index of a key:</p>\n<pre><code>    public int keyIndex(K key) {\n    if (key == null) {\n        throw new NullPointerException();\n    }\n    Entry&lt;K, V&gt; e = getEntry(key);\n    if (e == null) {\n        throw new NullPointerException();\n    }\n    if (e == root) {\n        return getWeight(e) - getWeight(e.right) - 1;//index to return\n    }\n    int index = 0;\n    int cmp;\n    index += getWeight(e.left);\n    \n    Entry&lt;K, V&gt; p = e.parent;\n    // split comparator and comparable paths\n    Comparator&lt;? super K&gt; cpr = comparator;\n    if (cpr != null) {\n        while (p != null) {\n            cmp = cpr.compare(key, p.key);\n            if (cmp &gt; 0) {\n                index += getWeight(p.left) + 1;\n            }\n            p = p.parent;\n        }\n    } else {\n        Comparable&lt;? super K&gt; k = (Comparable&lt;? super K&gt;) key;\n        while (p != null) {\n            if (k.compareTo(p.key) &gt; 0) {\n                index += getWeight(p.left) + 1;\n            }\n            p = p.parent;\n        }\n    }\n    return index;\n}\n</code></pre>\n<p>You can find the result of this work at <a href=\"https://github.com/geniot/indexed-tree-map\" rel=\"nofollow noreferrer\">https://github.com/geniot/indexed-tree-map</a></p>\n<p>TreeSet/TreeMap (as well as their indexed counterparts from the indexed-tree-map project) do not allow duplicate keys , you can use 1 key for an array of values. If you need a SortedSet with duplicates use TreeMap with values as arrays. I would do that.</p>\n"},{"tags":[],"owner":{"account_id":254817,"reputation":28628,"user_id":534471,"accept_rate":92,"display_name":"Emanuel Moecklin"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1469126031,"creation_date":1469126031,"answer_id":38511893,"question_id":4031572,"body_markdown":"Aioobe&#39;s approach is the way to go. I would like to suggest the following improvement over his solution though.\r\n\r\n    class SortedList&lt;T&gt; extends ArrayList&lt;T&gt; {\r\n    \r\n        public void insertSorted(T value) {\r\n            int insertPoint = insertPoint(value);\r\n            add(insertPoint, value);\r\n        }\r\n    \r\n        /**\r\n         * @return The insert point for a new value. If the value is found the insert point can be any\r\n         * of the possible positions that keeps the collection sorted (.33 or 3.3 or 33.).\r\n         */\r\n        private int insertPoint(T key) {\r\n            int low = 0;\r\n            int high = size() - 1;\r\n    \r\n            while (low &lt;= high) {\r\n                int mid = (low + high) &gt;&gt;&gt; 1;\r\n                Comparable&lt;? super T&gt; midVal = (Comparable&lt;T&gt;) get(mid);\r\n                int cmp = midVal.compareTo(key);\r\n    \r\n                if (cmp &lt; 0)\r\n                    low = mid + 1;\r\n                else if (cmp &gt; 0)\r\n                    high = mid - 1;\r\n                else {\r\n                    return mid; // key found\r\n                }\r\n            }\r\n    \r\n            return low;  // key not found\r\n        }\r\n    }\r\n\r\naioobe&#39;s solution gets very slow when using large lists. Using the fact that the list is sorted allows us to find the insert point for new values using binary search.\r\n\r\nI would also use composition over inheritance, something along the lines of \r\n\r\n    SortedList&lt;E&gt; implements List&lt;E&gt;, RandomAccess, Cloneable, java.io.Serializable","title":"Sorted array list in Java","body":"<p>Aioobe's approach is the way to go. I would like to suggest the following improvement over his solution though.</p>\n\n<pre><code>class SortedList&lt;T&gt; extends ArrayList&lt;T&gt; {\n\n    public void insertSorted(T value) {\n        int insertPoint = insertPoint(value);\n        add(insertPoint, value);\n    }\n\n    /**\n     * @return The insert point for a new value. If the value is found the insert point can be any\n     * of the possible positions that keeps the collection sorted (.33 or 3.3 or 33.).\n     */\n    private int insertPoint(T key) {\n        int low = 0;\n        int high = size() - 1;\n\n        while (low &lt;= high) {\n            int mid = (low + high) &gt;&gt;&gt; 1;\n            Comparable&lt;? super T&gt; midVal = (Comparable&lt;T&gt;) get(mid);\n            int cmp = midVal.compareTo(key);\n\n            if (cmp &lt; 0)\n                low = mid + 1;\n            else if (cmp &gt; 0)\n                high = mid - 1;\n            else {\n                return mid; // key found\n            }\n        }\n\n        return low;  // key not found\n    }\n}\n</code></pre>\n\n<p>aioobe's solution gets very slow when using large lists. Using the fact that the list is sorted allows us to find the insert point for new values using binary search.</p>\n\n<p>I would also use composition over inheritance, something along the lines of </p>\n\n<pre><code>SortedList&lt;E&gt; implements List&lt;E&gt;, RandomAccess, Cloneable, java.io.Serializable\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18851613,"reputation":11,"user_id":13750620,"display_name":"user13750620"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1592236275,"creation_date":1592234512,"answer_id":62391497,"question_id":4031572,"body_markdown":"Just make a new class like this:\r\n\r\n    public class SortedList&lt;T&gt; extends ArrayList&lt;T&gt; {\r\n    \r\n    private final Comparator&lt;? super T&gt; comparator;\r\n    \r\n    public SortedList() {\r\n        super();\r\n        this.comparator = null;\r\n    }\r\n    \r\n    public SortedList(Comparator&lt;T&gt; comparator) {\r\n        super();\r\n        this.comparator = comparator;\r\n    }\r\n    \r\n    @Override\r\n    public boolean add(T item) {\r\n        int index = comparator == null ? Collections.binarySearch((List&lt;? extends Comparable&lt;? super T&gt;&gt;)this, item) :\r\n                Collections.binarySearch(this, item, comparator);\r\n        if (index &lt; 0) {\r\n            index = index * -1 - 2;\r\n        }\r\n        super.add(index+1, item);\r\n        return true;\r\n    }\r\n    \r\n    @Override\r\n    public void add(int index, T item) {\r\n        throw new UnsupportedOperationException(&quot;&#39;add&#39; with an index is not supported in SortedArrayList&quot;);\r\n    }\r\n    \r\n    @Override\r\n    public boolean addAll(Collection&lt;? extends T&gt; items) {\r\n        boolean allAdded = true;\r\n        for (T item : items) {\r\n            allAdded = allAdded &amp;&amp; add(item);\r\n        }\r\n        return allAdded;\r\n    }\r\n    \r\n    @Override\r\n    public boolean addAll(int index, Collection&lt;? extends T&gt; items) {\r\n        throw new UnsupportedOperationException(&quot;&#39;addAll&#39; with an index is not supported in SortedArrayList&quot;);\r\n    }\r\n    \r\n    }\r\n\r\n\r\nYou can test it like this:\r\n\r\n        List&lt;Integer&gt; list = new SortedArrayList&lt;&gt;((Integer i1, Integer i2) -&gt; i1.compareTo(i2));\r\n        for (Integer i : Arrays.asList(4, 7, 3, 8, 9, 25, 20, 23, 52, 3)) {\r\n            list.add(i);\r\n        }\r\n        System.out.println(list);","title":"Sorted array list in Java","body":"<p>Just make a new class like this:</p>\n\n<pre><code>public class SortedList&lt;T&gt; extends ArrayList&lt;T&gt; {\n\nprivate final Comparator&lt;? super T&gt; comparator;\n\npublic SortedList() {\n    super();\n    this.comparator = null;\n}\n\npublic SortedList(Comparator&lt;T&gt; comparator) {\n    super();\n    this.comparator = comparator;\n}\n\n@Override\npublic boolean add(T item) {\n    int index = comparator == null ? Collections.binarySearch((List&lt;? extends Comparable&lt;? super T&gt;&gt;)this, item) :\n            Collections.binarySearch(this, item, comparator);\n    if (index &lt; 0) {\n        index = index * -1 - 2;\n    }\n    super.add(index+1, item);\n    return true;\n}\n\n@Override\npublic void add(int index, T item) {\n    throw new UnsupportedOperationException(\"'add' with an index is not supported in SortedArrayList\");\n}\n\n@Override\npublic boolean addAll(Collection&lt;? extends T&gt; items) {\n    boolean allAdded = true;\n    for (T item : items) {\n        allAdded = allAdded &amp;&amp; add(item);\n    }\n    return allAdded;\n}\n\n@Override\npublic boolean addAll(int index, Collection&lt;? extends T&gt; items) {\n    throw new UnsupportedOperationException(\"'addAll' with an index is not supported in SortedArrayList\");\n}\n\n}\n</code></pre>\n\n<p>You can test it like this:</p>\n\n<pre><code>    List&lt;Integer&gt; list = new SortedArrayList&lt;&gt;((Integer i1, Integer i2) -&gt; i1.compareTo(i2));\n    for (Integer i : Arrays.asList(4, 7, 3, 8, 9, 25, 20, 23, 52, 3)) {\n        list.add(i);\n    }\n    System.out.println(list);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27266247,"reputation":1,"user_id":20788230,"display_name":"pilus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671451079,"creation_date":1671139436,"answer_id":74817724,"question_id":4031572,"body_markdown":"The following method can be used to print the elements of a **LinkedList** of String objects.\r\n\r\nThe method accepts a **LinkedList** object as input and prints each element of the list, separated by a space, to the console.\r\nTo make the output more readable, the method also adds a newline before and after the list. \r\n\r\n    public static void printList(LinkedList&lt;String&gt; list) {\r\n\t\tSystem.out.println(&quot;\\nList is: &quot;);\r\n\t\tfor (String element : list) {\r\n\t\t\tSystem.out.print(element + &quot; &quot;);\r\n\t\t}\r\n\t\tSystem.out.println();\r\n\t}","title":"Sorted array list in Java","body":"<p>The following method can be used to print the elements of a <strong>LinkedList</strong> of String objects.</p>\n<p>The method accepts a <strong>LinkedList</strong> object as input and prints each element of the list, separated by a space, to the console.\nTo make the output more readable, the method also adds a newline before and after the list.</p>\n<pre><code>public static void printList(LinkedList&lt;String&gt; list) {\n    System.out.println(&quot;\\nList is: &quot;);\n    for (String element : list) {\n        System.out.print(element + &quot; &quot;);\n    }\n    System.out.println();\n}\n</code></pre>\n"}],"owner":{"account_id":112221,"reputation":24579,"user_id":296108,"accept_rate":92,"display_name":"Chris Knight"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":119714,"favorite_count":0,"down_vote_count":1,"up_vote_count":95,"accepted_answer_id":4031849,"answer_count":13,"score":94,"last_activity_date":1671451079,"creation_date":1288170778,"question_id":4031572,"body_markdown":"I&#39;m baffled that I can&#39;t find a quick answer to this.  I&#39;m essentially looking for a datastructure in Java which implements the ``java.util.List`` interface, but which stores its members in a sorted order.  I know that you can use a normal ``ArrayList`` and use ``Collections.sort()`` on it, but I have a scenario where I am occasionally adding and often retrieving members from my list and I don&#39;t want to have to sort it every time I retrieve a member in case a new one has been added.  Can anyone point me towards such a thing which exists in the JDK or even 3rd party libraries?\r\n\r\n**EDIT**:  The datastructure will need to preserve duplicates.\r\n\r\n**ANSWER&#39;s SUMMARY**:  I found all of this very interesting and learned a lot.  Aioobe in particular deserves mention for his perseverance in trying to achieve my requirements above (mainly a sorted java.util.List implementation which supports duplicates).  I have accepted his answer as the most accurate for what I asked and most thought provoking on the implications of what I was looking for even if what I asked wasn&#39;t exactly what I needed.  \r\n\r\nThe problem with what I asked for lies in the List interface itself and the concept of optional methods in an interface.  To quote the javadoc:\r\n\r\n&gt; The user of this interface has precise control over where in the list each element is inserted.\r\n\r\nInserting into a sorted list doesn&#39;t have precise control over insertion point.  Then, you have to think how you will handle some of the methods.  Take `add` for example:\r\n\r\n&gt; public boolean add(Object o)\r\n&gt;\r\n&gt;      Appends the specified element to the end of this list (optional operation).\r\n\r\nYou are now left in the uncomfortable situation of either\r\n1) Breaking the contract and implementing a sorted version of add\r\n2) Letting `add` add an element to the end of the list, breaking your sorted order\r\n3) Leaving `add` out (as its optional) by throwing an `UnsupportedOperationException` and implementing another method which adds items in a sorted order.\r\n\r\nOption 3 is probably the best, but I find it unsavory having an add method you can&#39;t use and another sortedAdd method which isn&#39;t in the interface.\r\n\r\nOther related solutions (in no particular order):\r\n\r\n* [java.util.PriorityQueue](http://download.oracle.com/javase/6/docs/api/java/util/PriorityQueue.html) which is probably closest to what I needed than what I asked for.  A queue isn&#39;t the most precise definition of a collection of objects in my case, but functionally it does everything I need it to. \r\n* [net.sourceforge.nite.util.SortedList](http://www.ltg.ed.ac.uk/NITE/nxt/apidoc/net/sourceforge/nite/util/SortedList.html).  However, this implementation breaks the contract of the List interface by implementing the sorting in the `add(Object obj)` method and bizarrely has a no effect method for `add(int index, Object obj)`.  General consensus suggests `throw new UnsupportedOperationException()` might be a better choice in this scenario.\r\n* [Guava&#39;s TreeMultiSet](http://google-collections.googlecode.com/svn/trunk/javadoc/com/google/common/collect/TreeMultiset.html) A set implementation which supports duplicates\r\n* [ca.odell.glazedlists.SortedList](http://publicobject.com/glazedlists/glazedlists-1.7.0/api/ca/odell/glazedlists/SortedList.html)  This class comes with the caveat in its javadoc: `Warning: This class breaks the contract required by List`","title":"Sorted array list in Java","body":"<p>I'm baffled that I can't find a quick answer to this.  I'm essentially looking for a datastructure in Java which implements the <code>java.util.List</code> interface, but which stores its members in a sorted order.  I know that you can use a normal <code>ArrayList</code> and use <code>Collections.sort()</code> on it, but I have a scenario where I am occasionally adding and often retrieving members from my list and I don't want to have to sort it every time I retrieve a member in case a new one has been added.  Can anyone point me towards such a thing which exists in the JDK or even 3rd party libraries?</p>\n\n<p><strong>EDIT</strong>:  The datastructure will need to preserve duplicates.</p>\n\n<p><strong>ANSWER's SUMMARY</strong>:  I found all of this very interesting and learned a lot.  Aioobe in particular deserves mention for his perseverance in trying to achieve my requirements above (mainly a sorted java.util.List implementation which supports duplicates).  I have accepted his answer as the most accurate for what I asked and most thought provoking on the implications of what I was looking for even if what I asked wasn't exactly what I needed.  </p>\n\n<p>The problem with what I asked for lies in the List interface itself and the concept of optional methods in an interface.  To quote the javadoc:</p>\n\n<blockquote>\n  <p>The user of this interface has precise control over where in the list each element is inserted.</p>\n</blockquote>\n\n<p>Inserting into a sorted list doesn't have precise control over insertion point.  Then, you have to think how you will handle some of the methods.  Take <code>add</code> for example:</p>\n\n<blockquote>\n  <p>public boolean add(Object o)</p>\n\n<pre><code> Appends the specified element to the end of this list (optional operation).\n</code></pre>\n</blockquote>\n\n<p>You are now left in the uncomfortable situation of either\n1) Breaking the contract and implementing a sorted version of add\n2) Letting <code>add</code> add an element to the end of the list, breaking your sorted order\n3) Leaving <code>add</code> out (as its optional) by throwing an <code>UnsupportedOperationException</code> and implementing another method which adds items in a sorted order.</p>\n\n<p>Option 3 is probably the best, but I find it unsavory having an add method you can't use and another sortedAdd method which isn't in the interface.</p>\n\n<p>Other related solutions (in no particular order):</p>\n\n<ul>\n<li><a href=\"http://download.oracle.com/javase/6/docs/api/java/util/PriorityQueue.html\" rel=\"noreferrer\">java.util.PriorityQueue</a> which is probably closest to what I needed than what I asked for.  A queue isn't the most precise definition of a collection of objects in my case, but functionally it does everything I need it to. </li>\n<li><a href=\"http://www.ltg.ed.ac.uk/NITE/nxt/apidoc/net/sourceforge/nite/util/SortedList.html\" rel=\"noreferrer\">net.sourceforge.nite.util.SortedList</a>.  However, this implementation breaks the contract of the List interface by implementing the sorting in the <code>add(Object obj)</code> method and bizarrely has a no effect method for <code>add(int index, Object obj)</code>.  General consensus suggests <code>throw new UnsupportedOperationException()</code> might be a better choice in this scenario.</li>\n<li><a href=\"http://google-collections.googlecode.com/svn/trunk/javadoc/com/google/common/collect/TreeMultiset.html\" rel=\"noreferrer\">Guava's TreeMultiSet</a> A set implementation which supports duplicates</li>\n<li><a href=\"http://publicobject.com/glazedlists/glazedlists-1.7.0/api/ca/odell/glazedlists/SortedList.html\" rel=\"noreferrer\">ca.odell.glazedlists.SortedList</a>  This class comes with the caveat in its javadoc: <code>Warning: This class breaks the contract required by List</code></li>\n</ul>\n"},{"tags":["java","environment","buildpath"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1667420889,"post_id":74294459,"comment_id":131166043,"body_markdown":"It says **strictly** compatible; i.e., actually a Java 16 JDK. That said... why Java 16? Java 17 is the LTS.","body":"It says <b>strictly</b> compatible; i.e., actually a Java 16 JDK. That said... why Java 16? Java 17 is the LTS."}],"answers":[{"tags":[],"owner":{"account_id":200481,"reputation":5195,"user_id":446357,"accept_rate":64,"display_name":"MTilsted"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667416320,"creation_date":1667416320,"answer_id":74294525,"question_id":74294459,"body_markdown":"If you open Eclipse and select Window-&gt;Preferences the preferences window will open.\r\n\r\nThere you can select Java, and then the sub menu Installed JREs&quot;.\r\n\r\nThere you can add a new jre/jdk to eclipse.\r\n\r\nPs: This will just tell Eclipse about an existing jdk. If you have not installed JDK version 16, you will have to download it from Oracle first.\r\n\r\n\r\n","title":"No JREs that are compatible with JavaSE-16","body":"<p>If you open Eclipse and select Window-&gt;Preferences the preferences window will open.</p>\n<p>There you can select Java, and then the sub menu Installed JREs&quot;.</p>\n<p>There you can add a new jre/jdk to eclipse.</p>\n<p>Ps: This will just tell Eclipse about an existing jdk. If you have not installed JDK version 16, you will have to download it from Oracle first.</p>\n"}],"owner":{"account_id":26810070,"reputation":23,"user_id":20400825,"display_name":"Abdullah"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":174,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":74294525,"answer_count":1,"score":0,"last_activity_date":1671450946,"creation_date":1667415933,"question_id":74294459,"body_markdown":"The error below frequently occurs whenever a new Java Project is created. I know how to fix this issue but is there a more permanent solution so that my JDK system library is pre-installed instead of the one provided? Both eclipse and the JDK are installed but do they have to be in the same folder?\r\n\r\n&quot;Build path specifies execution environment JavaSE-16. No JREs installed in the workspace that are strictly compatible with this environment.&quot;\r\n\r\nBefore:\r\n[![JRE Installed](https://i.stack.imgur.com/xpPaR.png)](https://i.stack.imgur.com/xpPaR.png)\r\n\r\nAfter:[![JDK Installed](https://i.stack.imgur.com/MZokK.png)](https://i.stack.imgur.com/MZokK.png)\r\n\r\n\r\nI have tried to move my JDK into the system environment variables and have tried to re-install eclipse. I expected a prompt for the build path so that I can manually insert it but that did not occur.\r\n\r\n[![Installation](https://i.stack.imgur.com/mAPbH.png)](https://i.stack.imgur.com/mAPbH.png)","title":"No JREs that are compatible with JavaSE-16","body":"<p>The error below frequently occurs whenever a new Java Project is created. I know how to fix this issue but is there a more permanent solution so that my JDK system library is pre-installed instead of the one provided? Both eclipse and the JDK are installed but do they have to be in the same folder?</p>\n<p>&quot;Build path specifies execution environment JavaSE-16. No JREs installed in the workspace that are strictly compatible with this environment.&quot;</p>\n<p>Before:\n<a href=\"https://i.stack.imgur.com/xpPaR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xpPaR.png\" alt=\"JRE Installed\" /></a></p>\n<p>After:<a href=\"https://i.stack.imgur.com/MZokK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MZokK.png\" alt=\"JDK Installed\" /></a></p>\n<p>I have tried to move my JDK into the system environment variables and have tried to re-install eclipse. I expected a prompt for the build path so that I can manually insert it but that did not occur.</p>\n<p><a href=\"https://i.stack.imgur.com/mAPbH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mAPbH.png\" alt=\"Installation\" /></a></p>\n"},{"tags":["java","debugging","post","servlets","xmlhttprequest"],"comments":[{"owner":{"account_id":26183044,"reputation":3,"user_id":19866075,"display_name":"skver"},"score":0,"creation_date":1671622124,"post_id":74850161,"comment_id":132137233,"body_markdown":"As for why I is empty, I understand. In the request, I upload the body, and on the server I look at the parameters. But with head(head... it&#39;s still not clear. However, everything works","body":"As for why I is empty, I understand. In the request, I upload the body, and on the server I look at the parameters. But with head(head... it&#39;s still not clear. However, everything works"}],"owner":{"account_id":26183044,"reputation":3,"user_id":19866075,"display_name":"skver"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671450876,"creation_date":1671450817,"question_id":74850161,"body_markdown":"I&#39;m making a POST request to a servlet and trying to get data from the request\r\n\r\n    \r\n\r\n    public class mainServlet extends HttpServlet {\r\n\r\n    @Override\r\n    protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\r\n        if(!resp.containsHeader(&quot;Access-Control-Allow-Origin&quot;))resp.addHeader(&quot;Access-Control-Allow-Origin&quot;,&quot;*&quot;);\r\n        else resp.setHeader(&quot;Access-Control-Allow-Origin&quot;,&quot;*&quot;);\r\n        Map&lt;String, String&gt; i=req.getParameterMap();\r\n        resp.getWriter().write(&quot;555&quot;);\r\n       }\r\n    }\r\n\r\nI have a breakpoint on the last line. In it I catch a strange error\r\n[enter image description here][1]\r\nAnd also the variable i is empty, although it should contain the request body.\r\n\r\nHere is the request\r\n\r\n    const req = new XMLHttpRequest()\r\n      req.open(&quot;POST&quot;, &quot;http://localhost:8081/backEnd-1.0-SNAPSHOT/&quot;)\r\n      let data= JSON.stringify({name: 1});\r\n      req.send(data)\r\n      req.onload = () =&gt; {\r\n        alert(req.response)\r\n      }\r\n      req.onerror=()=&gt;{\r\n      }\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7ZbEs.png","title":"I send a request to a servlet and get a strange error: ((Head)((Head)..........((Head)s).sourceStage)..............sourceStage).sourceStage","body":"<p>I'm making a POST request to a servlet and trying to get data from the request</p>\n<pre><code>public class mainServlet extends HttpServlet {\n\n@Override\nprotected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\n    if(!resp.containsHeader(&quot;Access-Control-Allow-Origin&quot;))resp.addHeader(&quot;Access-Control-Allow-Origin&quot;,&quot;*&quot;);\n    else resp.setHeader(&quot;Access-Control-Allow-Origin&quot;,&quot;*&quot;);\n    Map&lt;String, String&gt; i=req.getParameterMap();\n    resp.getWriter().write(&quot;555&quot;);\n   }\n}\n</code></pre>\n<p>I have a breakpoint on the last line. In it I catch a strange error\n<a href=\"https://i.stack.imgur.com/7ZbEs.png\" rel=\"nofollow noreferrer\">enter image description here</a>\nAnd also the variable i is empty, although it should contain the request body.</p>\n<p>Here is the request</p>\n<pre><code>const req = new XMLHttpRequest()\n  req.open(&quot;POST&quot;, &quot;http://localhost:8081/backEnd-1.0-SNAPSHOT/&quot;)\n  let data= JSON.stringify({name: 1});\n  req.send(data)\n  req.onload = () =&gt; {\n    alert(req.response)\n  }\n  req.onerror=()=&gt;{\n  }\n</code></pre>\n"},{"tags":["java","performance","jmx"],"comments":[{"owner":{"account_id":109168,"reputation":31181,"user_id":289396,"accept_rate":89,"display_name":"JoseK"},"score":1,"creation_date":1279714549,"post_id":3298979,"comment_id":3417077,"body_markdown":"related http://stackoverflow.com/questions/313730/is-a-good-idea-to-enable-jmx-lambda-probe-on-a-production-server","body":"related <a href=\"http://stackoverflow.com/questions/313730/is-a-good-idea-to-enable-jmx-lambda-probe-on-a-production-server\" title=\"is a good idea to enable jmx lambda probe on a production server\">stackoverflow.com/questions/313730/&hellip;</a>"},{"owner":{"account_id":17905,"reputation":1262,"user_id":40548,"accept_rate":64,"display_name":"azerole"},"score":0,"creation_date":1279717243,"post_id":3298979,"comment_id":3417526,"body_markdown":"Thanks a lot, JoseK, this link contains all answers that I need!","body":"Thanks a lot, JoseK, this link contains all answers that I need!"},{"owner":{"account_id":15623,"reputation":15616,"user_id":33204,"accept_rate":69,"display_name":"slm"},"score":0,"creation_date":1500221640,"post_id":3298979,"comment_id":77230746,"body_markdown":"Possible duplicate of [Is enabling JConsole remote monitoring affect system performance in production?](https://stackoverflow.com/questions/6577758/is-enabling-jconsole-remote-monitoring-affect-system-performance-in-production)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/6577758/is-enabling-jconsole-remote-monitoring-affect-system-performance-in-production\">Is enabling JConsole remote monitoring affect system performance in production?</a>"}],"answers":[{"tags":[],"owner":{"account_id":85644,"reputation":54700,"user_id":238639,"display_name":"bakkal"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1279714359,"creation_date":1279714359,"answer_id":3299013,"question_id":3298979,"body_markdown":"From *Tuning Your GlassFish – Performance Tips* :\r\n\r\n&gt; **General Tuning Tips**\r\n&gt; \r\n&gt; Unused features could have a negative\r\n&gt; impact on the performance and should\r\n&gt; be disabled:\r\n&gt;      \r\n&gt; \r\n&gt;  - Auto-deployment of applications\r\n&gt;    \r\n&gt;  -  **JMX Monitoring**\r\n&gt;    \r\n&gt;  - JMS\r\n&gt;    \r\n&gt;  - Dynamic JSP reloading\r\n&gt;    \r\n&gt;  - JDBC Connection validation\r\n&gt;    \r\n&gt;  - Security Manager could be turned off if the   applications are all\r\n&gt; trusted internal applications\r\n\r\nSource: http://wiki.glassfish.java.net/attach/GlassFishDay2008Hyderabad/GlassFishDay2008PerfPreso.pdf (PDF document)\r\n","title":"Does enabling JMX agent have a performance overhead?","body":"<p>From <em>Tuning Your GlassFish – Performance Tips</em> :</p>\n\n<blockquote>\n  <p><strong>General Tuning Tips</strong></p>\n  \n  <p>Unused features could have a negative\n  impact on the performance and should\n  be disabled:</p>\n  \n  <ul>\n  <li><p>Auto-deployment of applications</p></li>\n  <li><p><strong>JMX Monitoring</strong></p></li>\n  <li><p>JMS</p></li>\n  <li><p>Dynamic JSP reloading</p></li>\n  <li><p>JDBC Connection validation</p></li>\n  <li><p>Security Manager could be turned off if the   applications are all\n  trusted internal applications</p></li>\n  </ul>\n</blockquote>\n\n<p>Source: <a href=\"http://wiki.glassfish.java.net/attach/GlassFishDay2008Hyderabad/GlassFishDay2008PerfPreso.pdf\" rel=\"nofollow noreferrer\">http://wiki.glassfish.java.net/attach/GlassFishDay2008Hyderabad/GlassFishDay2008PerfPreso.pdf</a> (PDF document)</p>\n"},{"tags":[],"owner":{"account_id":198909,"reputation":191,"user_id":443863,"display_name":"Marvan"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1671450363,"creation_date":1354536722,"answer_id":13682990,"question_id":3298979,"body_markdown":"In general running the JVM with JMX enabled does not incur in appreciable performance hits.\r\nThe performance hit happens only when a tool like jconsole is connected and actually polling for information.\r\n\r\nSee the below link for more details:\r\n\r\n- https://web.archive.org/web/20200820010106/https://community.oracle.com/blogs/emcmanus/2006/07/21/how-much-does-it-cost-monitor-app-jconsole","title":"Does enabling JMX agent have a performance overhead?","body":"<p>In general running the JVM with JMX enabled does not incur in appreciable performance hits.\nThe performance hit happens only when a tool like jconsole is connected and actually polling for information.</p>\n<p>See the below link for more details:</p>\n<ul>\n<li><a href=\"https://web.archive.org/web/20200820010106/https://community.oracle.com/blogs/emcmanus/2006/07/21/how-much-does-it-cost-monitor-app-jconsole\" rel=\"nofollow noreferrer\">https://web.archive.org/web/20200820010106/https://community.oracle.com/blogs/emcmanus/2006/07/21/how-much-does-it-cost-monitor-app-jconsole</a></li>\n</ul>\n"}],"owner":{"account_id":17905,"reputation":1262,"user_id":40548,"accept_rate":64,"display_name":"azerole"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14809,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"answer_count":2,"score":28,"last_activity_date":1671450363,"creation_date":1279714040,"question_id":3298979,"body_markdown":"I would like to have a possibility to use jconsole in production, but am a bit concerned about performance. Is it ok to leave JMX agent running (via -Dcom.sun.management.jmxremote) or will it have a noticeable performance footprint?","title":"Does enabling JMX agent have a performance overhead?","body":"<p>I would like to have a possibility to use jconsole in production, but am a bit concerned about performance. Is it ok to leave JMX agent running (via -Dcom.sun.management.jmxremote) or will it have a noticeable performance footprint?</p>\n"},{"tags":["java","java-8","java-stream"],"answers":[{"tags":[],"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671450237,"creation_date":1671440910,"answer_id":74848302,"question_id":74847745,"body_markdown":"Well, you could do the following. I assumed you have a record&lt;sup&gt;1&lt;/sup&gt; of the following form:\r\n\r\n```java\r\npublic record PendingScheduleAction(\r\n    long scheduleRequestId,\r\n    int userId,\r\n    LocalDateTime startTimeUtc,\r\n    LocalDateTime endTimeUtc,\r\n    String requestJson\r\n) { }\r\n```\r\n\r\nWe could first create a `Merger`, which is used as grouping-by key. We add an `ofPendingScheduleAction` method, which is a convenience method to ease the grouping-by. We also add a `merge` method, which is able to merge two `PendingScheduleAction` objects.\r\n\r\n\r\n```java\r\nrecord Merger(long scheduleRequestId, int userId, LocalDateTime startTimeUtc, LocalDateTime endTimeUtc) {\r\n\r\n    public static Merger ofPendingScheduleAction(PendingScheduleAction action) {\r\n        return new Merger(action.scheduleRequestId(), action.userId(), action.startTimeUtc(), action.endTimeUtc());\r\n    }\r\n\r\n    private static PendingScheduleAction merge(PendingScheduleAction a, PendingScheduleAction b) {\r\n        String json = a.requestJson() + &#39;\\0&#39; + b.requestJson();\r\n        return new PendingScheduleAction(a.scheduleRequestId(), a.userId(), a.startTimeUtc(), a.endTimeUtc(), json);\r\n    }\r\n}\r\n```\r\n\r\nNow you can utilize `groupingBy`, `reducing` and `collectingAndThen` in order to achieve the desired result:\r\n\r\n```java\r\nlist.stream()\r\n    .collect(groupingBy(Merger::ofPendingScheduleAction, collectingAndThen(reducing(Merger::merge), optional -&gt; {\r\n        var entry = optional.orElseThrow();\r\n        String[] jsonLines = entry.requestJson().split(&quot;\\0&quot;);\r\n        String json = (jsonLines.length == 1 ? jsonLines[0] : &quot;[&quot; + String.join(&quot;,&quot;, jsonLines) + &quot;]&quot;);\r\n        return new PendingScheduleAction(entry.scheduleRequestId(), entry.userId(), entry.startTimeUtc(), entry.endTimeUtc(), json);\r\n    })));\r\n```\r\n\r\nWhat happens here, is that we first define how our `PendingScheduleAction` instances are grouped. The Javadocs call this the *classifier*. Now you said *&quot;such that if values of `schedule_request_id`, `user_id`, `start_time_utc` and `end_time_utc` of any rows are same then merge&quot;*, so we need to have those properties together into an object. The `Merger` class does this.\r\n\r\nThen `Collectors.reducing(Merger::merge)` takes all objects of a group and merges them using the `Merger::merge` method. Since `reducing` returns an `Optional`, we need to unpack it (with `orElseThrow`), but we also need to fix the JSON, since we temporarily joined it with a `NUL` byte.\r\n\r\nThen the result is a `Map&lt;Merger, PendingScheduleAction&gt;`, of which you can call `values()` to get a list with the merged values.\r\n\r\n---\r\n\r\nA few notes:\r\n\r\n* I used a `NUL` byte to temporarily separate different JSON parts (which is kinda hacky). This is due to your requirement that you want multiple merged JSON entries to be in a JSON array, but a single entry without an array. I suggest you put *all* JSON entries into an array, regardless of the number of entries (which may be 1). This is both easier to parse and easier to process.\r\n\r\n    You could replace all `\\0`s by `,` in the abovementioned code and the *finisher function* of the `collectingAndThen` method would look like this:\r\n\r\n    ```java\r\n    var entry = optional.orElseThrow();\r\n    return new PendingScheduleAction(entry.scheduleRequestId(), entry.userId(), entry.startTimeUtc(), entry.endTimeUtc(), &quot;[&quot; + entry.requestJson() + &quot;]&quot;);\r\n    ```\r\n\r\n* Your start time and end time suggest they are UTC timestamps, but the date strings show a local time. I think your timestamps should look like something like this: `2022-12-16T21:00:00Z`.\r\n\r\n---\r\n\r\n&lt;sup&gt;&lt;sup&gt;1&lt;/sup&gt; If you don&#39;t have access to the *records* feature, you could easily simulate them with the following:&lt;/sup&gt;\r\n\r\n&lt;sup&gt;\r\n\r\n```java\r\npublic class PendingScheduleAction {\r\n    private long scheduleRequestId;\r\n    private int userId;\r\n    private LocalDateTime startTimeUtc;\r\n    private LocalDateTime endTimeUtc;\r\n    private String requestJson;\r\n\r\n    // Canonical all-args constructor\r\n    public PendingScheduleAction(long scheduleRequestId, int userId, LocalDateTime startTimeUtc, LocalDateTime endTimeUtc, String requestJson) {\r\n        this.scheduleRequestId = scheduleRequestId;\r\n        this.userId = userId;\r\n        this.startTimeUtc = startTimeUtc;\r\n        this.endTimeUtc = endTimeUtc;\r\n        this.requestJson = requestJson;\r\n    }\r\n\r\n    // Record-style getter (just the name of the field, not starting with &#39;get&#39;\r\n    public long scheduleRequestId() {\r\n        return scheduleRequestId;\r\n    }\r\n\r\n    // And the remaining getters\r\n\r\n    public boolean equals(Object o) {\r\n        // A proper equals implementation.\r\n        // Don&#39;t forget hashCode()\r\n    }\r\n}\r\n```\r\n\r\n&lt;/sup&gt;\r\n\r\n&lt;sub&gt;You could also use Lombok to annotate the class with `@AllArgsConstructor`, `@Getter` and `@EqualsAndHashCode`.&lt;/sub&gt;","title":"get list from DB and merge the common fields of the list","body":"<p>Well, you could do the following. I assumed you have a record<sup>1</sup> of the following form:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public record PendingScheduleAction(\n    long scheduleRequestId,\n    int userId,\n    LocalDateTime startTimeUtc,\n    LocalDateTime endTimeUtc,\n    String requestJson\n) { }\n</code></pre>\n<p>We could first create a <code>Merger</code>, which is used as grouping-by key. We add an <code>ofPendingScheduleAction</code> method, which is a convenience method to ease the grouping-by. We also add a <code>merge</code> method, which is able to merge two <code>PendingScheduleAction</code> objects.</p>\n<pre class=\"lang-java prettyprint-override\"><code>record Merger(long scheduleRequestId, int userId, LocalDateTime startTimeUtc, LocalDateTime endTimeUtc) {\n\n    public static Merger ofPendingScheduleAction(PendingScheduleAction action) {\n        return new Merger(action.scheduleRequestId(), action.userId(), action.startTimeUtc(), action.endTimeUtc());\n    }\n\n    private static PendingScheduleAction merge(PendingScheduleAction a, PendingScheduleAction b) {\n        String json = a.requestJson() + '\\0' + b.requestJson();\n        return new PendingScheduleAction(a.scheduleRequestId(), a.userId(), a.startTimeUtc(), a.endTimeUtc(), json);\n    }\n}\n</code></pre>\n<p>Now you can utilize <code>groupingBy</code>, <code>reducing</code> and <code>collectingAndThen</code> in order to achieve the desired result:</p>\n<pre class=\"lang-java prettyprint-override\"><code>list.stream()\n    .collect(groupingBy(Merger::ofPendingScheduleAction, collectingAndThen(reducing(Merger::merge), optional -&gt; {\n        var entry = optional.orElseThrow();\n        String[] jsonLines = entry.requestJson().split(&quot;\\0&quot;);\n        String json = (jsonLines.length == 1 ? jsonLines[0] : &quot;[&quot; + String.join(&quot;,&quot;, jsonLines) + &quot;]&quot;);\n        return new PendingScheduleAction(entry.scheduleRequestId(), entry.userId(), entry.startTimeUtc(), entry.endTimeUtc(), json);\n    })));\n</code></pre>\n<p>What happens here, is that we first define how our <code>PendingScheduleAction</code> instances are grouped. The Javadocs call this the <em>classifier</em>. Now you said <em>&quot;such that if values of <code>schedule_request_id</code>, <code>user_id</code>, <code>start_time_utc</code> and <code>end_time_utc</code> of any rows are same then merge&quot;</em>, so we need to have those properties together into an object. The <code>Merger</code> class does this.</p>\n<p>Then <code>Collectors.reducing(Merger::merge)</code> takes all objects of a group and merges them using the <code>Merger::merge</code> method. Since <code>reducing</code> returns an <code>Optional</code>, we need to unpack it (with <code>orElseThrow</code>), but we also need to fix the JSON, since we temporarily joined it with a <code>NUL</code> byte.</p>\n<p>Then the result is a <code>Map&lt;Merger, PendingScheduleAction&gt;</code>, of which you can call <code>values()</code> to get a list with the merged values.</p>\n<hr />\n<p>A few notes:</p>\n<ul>\n<li><p>I used a <code>NUL</code> byte to temporarily separate different JSON parts (which is kinda hacky). This is due to your requirement that you want multiple merged JSON entries to be in a JSON array, but a single entry without an array. I suggest you put <em>all</em> JSON entries into an array, regardless of the number of entries (which may be 1). This is both easier to parse and easier to process.</p>\n<p>You could replace all <code>\\0</code>s by <code>,</code> in the abovementioned code and the <em>finisher function</em> of the <code>collectingAndThen</code> method would look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var entry = optional.orElseThrow();\nreturn new PendingScheduleAction(entry.scheduleRequestId(), entry.userId(), entry.startTimeUtc(), entry.endTimeUtc(), &quot;[&quot; + entry.requestJson() + &quot;]&quot;);\n</code></pre>\n</li>\n<li><p>Your start time and end time suggest they are UTC timestamps, but the date strings show a local time. I think your timestamps should look like something like this: <code>2022-12-16T21:00:00Z</code>.</p>\n</li>\n</ul>\n<hr />\n<p><sup><sup>1</sup> If you don't have access to the <em>records</em> feature, you could easily simulate them with the following:</sup></p>\n<sup>\n<pre class=\"lang-java prettyprint-override\"><code>public class PendingScheduleAction {\n    private long scheduleRequestId;\n    private int userId;\n    private LocalDateTime startTimeUtc;\n    private LocalDateTime endTimeUtc;\n    private String requestJson;\n\n    // Canonical all-args constructor\n    public PendingScheduleAction(long scheduleRequestId, int userId, LocalDateTime startTimeUtc, LocalDateTime endTimeUtc, String requestJson) {\n        this.scheduleRequestId = scheduleRequestId;\n        this.userId = userId;\n        this.startTimeUtc = startTimeUtc;\n        this.endTimeUtc = endTimeUtc;\n        this.requestJson = requestJson;\n    }\n\n    // Record-style getter (just the name of the field, not starting with 'get'\n    public long scheduleRequestId() {\n        return scheduleRequestId;\n    }\n\n    // And the remaining getters\n\n    public boolean equals(Object o) {\n        // A proper equals implementation.\n        // Don't forget hashCode()\n    }\n}\n</code></pre>\n</sup>\n<p><sub>You could also use Lombok to annotate the class with <code>@AllArgsConstructor</code>, <code>@Getter</code> and <code>@EqualsAndHashCode</code>.</sub></p>\n"}],"owner":{"account_id":1672317,"reputation":23196,"user_id":1538553,"accept_rate":59,"display_name":"sjain"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74848302,"answer_count":1,"score":0,"last_activity_date":1671450237,"creation_date":1671437552,"question_id":74847745,"body_markdown":"I have a list as follows:-\r\n\r\n    List&lt;ScheduleActionDispatchDTO&gt; pendingScheduleActions \r\n    =restClientApi.getPendingSchedules();\r\n\r\nThe above list is coming from DB whose values are like this - \r\n\r\n    schedule_request_id = 576, user_id = 24, \r\n    start_time_utc = &#39;2022-12-16 21:00:00&#39;, end_time_utc = &#39;2022-12-17 01:00:00&#39;, \r\n    request_json = &#39;{&quot;testId&quot;: &quot;5&quot;, &quot;grade&quot;: &quot;A&quot;}&#39;\r\n    \r\n    schedule_request_id = 576, user_id = 24, \r\n    start_time_utc = &#39;2022-12-16 21:00:00&#39;, end_time_utc = &#39;2022-12-17 01:00:00&#39;, \r\n    request_json = &#39;{&quot;subjectId&quot;: &quot;10&quot;, &quot;name&quot;: &quot;dictation&quot;}&#39;\r\n    \r\n    schedule_request_id = 577, user_id = 24, start_time_utc = &#39;2022-12-17 21:00:00&#39;, \r\n    end_time_utc = &#39;2022-12-18 01:00:00&#39;, request_json = &#39;{&quot;testId&quot;: &quot;5&quot;, &quot;grade&quot;: &quot;A&quot;}&#39;\r\n\r\nNow I want the result to be such that if values of `schedule_request_id`, `user_id`, `start_time_utc` and `end_time_utc` of any rows are same then merge the values of `request_json` of those rows together.\r\n\r\nSo it should become - \r\n\r\n    schedule_request_id = 576, user_id = 24, \r\n    start_time_utc = &#39;2022-12-16 21:00:00&#39;, end_time_utc = &#39;2022-12-17 01:00:00&#39;, \r\n    combinedResult = &#39;[{&quot;testId&quot;: &quot;5&quot;, &quot;grade&quot;: &quot;A&quot;}, {&quot;subjectId&quot;: &quot;10&quot;, &quot;name&quot;: &quot;dictation&quot;}]&#39;\r\n\r\nand \r\n\r\n    schedule_request_id = 577, user_id = 24, start_time_utc = &#39;2022-12-17 21:00:00&#39;, \r\n    end_time_utc = &#39;2022-12-18 01:00:00&#39;, combinedResult = &#39;{&quot;testId&quot;: &quot;5&quot;, &quot;grade&quot;: &quot;A&quot;}&#39;\r\n\r\nI tried this - \r\n\r\n    Map&lt;Long, List&lt;ScheduleActionDispatchDTO&gt;&gt; requestMap = pendingScheduleActions.stream()\r\n                        .collect(Collectors.groupingBy(\r\n                                ScheduleActionDispatchDTO::getScheduleRequestId, Collectors.toList()));\r\n    \r\n    for (Map.Entry&lt;Long, List&lt;ScheduleActionDispatchDTO&gt;&gt; entry : requestMap.entrySet()) {\r\n       List&lt;ScheduleActionDispatchDTO&gt; sameRequestActions = entry.getValue();\r\n       Map&lt;ScheduleActionDispatchPair, ScheduleActionDispatchDTO&gt; schedulePairAction =\r\n                                sameRequestActions.stream().\r\n                                collect(Collectors.toMap(\r\n                                s -&gt; new ScheduleActionDispatchPair(s.getScheduleRequestId(), s.getUserUd(), s.getStartTimeUtc(), s.getEndTimeUtc()),\r\n                                s -&gt; s));\r\n    \r\n    // iterate and combine but not sure how\r\n    \r\n    }\r\n\r\n","title":"get list from DB and merge the common fields of the list","body":"<p>I have a list as follows:-</p>\n<pre><code>List&lt;ScheduleActionDispatchDTO&gt; pendingScheduleActions \n=restClientApi.getPendingSchedules();\n</code></pre>\n<p>The above list is coming from DB whose values are like this -</p>\n<pre><code>schedule_request_id = 576, user_id = 24, \nstart_time_utc = '2022-12-16 21:00:00', end_time_utc = '2022-12-17 01:00:00', \nrequest_json = '{&quot;testId&quot;: &quot;5&quot;, &quot;grade&quot;: &quot;A&quot;}'\n\nschedule_request_id = 576, user_id = 24, \nstart_time_utc = '2022-12-16 21:00:00', end_time_utc = '2022-12-17 01:00:00', \nrequest_json = '{&quot;subjectId&quot;: &quot;10&quot;, &quot;name&quot;: &quot;dictation&quot;}'\n\nschedule_request_id = 577, user_id = 24, start_time_utc = '2022-12-17 21:00:00', \nend_time_utc = '2022-12-18 01:00:00', request_json = '{&quot;testId&quot;: &quot;5&quot;, &quot;grade&quot;: &quot;A&quot;}'\n</code></pre>\n<p>Now I want the result to be such that if values of <code>schedule_request_id</code>, <code>user_id</code>, <code>start_time_utc</code> and <code>end_time_utc</code> of any rows are same then merge the values of <code>request_json</code> of those rows together.</p>\n<p>So it should become -</p>\n<pre><code>schedule_request_id = 576, user_id = 24, \nstart_time_utc = '2022-12-16 21:00:00', end_time_utc = '2022-12-17 01:00:00', \ncombinedResult = '[{&quot;testId&quot;: &quot;5&quot;, &quot;grade&quot;: &quot;A&quot;}, {&quot;subjectId&quot;: &quot;10&quot;, &quot;name&quot;: &quot;dictation&quot;}]'\n</code></pre>\n<p>and</p>\n<pre><code>schedule_request_id = 577, user_id = 24, start_time_utc = '2022-12-17 21:00:00', \nend_time_utc = '2022-12-18 01:00:00', combinedResult = '{&quot;testId&quot;: &quot;5&quot;, &quot;grade&quot;: &quot;A&quot;}'\n</code></pre>\n<p>I tried this -</p>\n<pre><code>Map&lt;Long, List&lt;ScheduleActionDispatchDTO&gt;&gt; requestMap = pendingScheduleActions.stream()\n                    .collect(Collectors.groupingBy(\n                            ScheduleActionDispatchDTO::getScheduleRequestId, Collectors.toList()));\n\nfor (Map.Entry&lt;Long, List&lt;ScheduleActionDispatchDTO&gt;&gt; entry : requestMap.entrySet()) {\n   List&lt;ScheduleActionDispatchDTO&gt; sameRequestActions = entry.getValue();\n   Map&lt;ScheduleActionDispatchPair, ScheduleActionDispatchDTO&gt; schedulePairAction =\n                            sameRequestActions.stream().\n                            collect(Collectors.toMap(\n                            s -&gt; new ScheduleActionDispatchPair(s.getScheduleRequestId(), s.getUserUd(), s.getStartTimeUtc(), s.getEndTimeUtc()),\n                            s -&gt; s));\n\n// iterate and combine but not sure how\n\n}\n</code></pre>\n"},{"tags":["java","bash","for-loop"],"comments":[{"owner":{"account_id":34671,"reputation":8309,"user_id":98044,"accept_rate":95,"display_name":"Vini"},"score":0,"creation_date":1671436784,"post_id":74847391,"comment_id":132090870,"body_markdown":"You can use the `wait` command with `&amp;` - see details here https://www.cyberciti.biz/faq/how-to-run-command-or-code-in-parallel-in-bash-shell-under-linux-or-unix/ also refer to a this question - https://stackoverflow.com/questions/3004811/how-do-you-run-multiple-programs-in-parallel-from-a-bash-script","body":"You can use the <code>wait</code> command with <code>&amp;</code> - see details here <a href=\"https://www.cyberciti.biz/faq/how-to-run-command-or-code-in-parallel-in-bash-shell-under-linux-or-unix/\" rel=\"nofollow noreferrer\">cyberciti.biz/faq/&hellip;</a> also refer to a this question - <a href=\"https://stackoverflow.com/questions/3004811/how-do-you-run-multiple-programs-in-parallel-from-a-bash-script\" title=\"how do you run multiple programs in parallel from a bash script\">stackoverflow.com/questions/3004811/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":11656497,"reputation":21431,"user_id":8572380,"display_name":"tshiono"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671450107,"creation_date":1671438786,"answer_id":74847909,"question_id":74847391,"body_markdown":"First of all, `bash array` must be assigned as a space separated list as:\r\n```\r\narray=(&quot;USA+AL&quot; &quot;USA+AK&quot; &quot;USA+AZ&quot; &quot;USA+AR&quot; &quot;USA+AS&quot; &quot;USA+CA&quot; ...)\r\n```\r\nThen would you please try something like:\r\n```\r\narray=(&quot;USA+AL&quot; &quot;USA+AK&quot; &quot;USA+AZ&quot; &quot;USA+AR&quot; &quot;USA+AS&quot; &quot;USA+CA&quot; ...)\r\nfor (( i = 0; i &lt; ${#array[@]}; i+=4 )); do\r\n    echo java -jar test-execute.jar --localities=&quot;$(IFS=,; echo &quot;${array[*]:i:4}&quot;)&quot;\r\ndone\r\n```\r\n- The `for` loop has a C-like syntax to increment the index by value 4.\r\n- The array slice `${array[*]:i:4}` divides the array into sub-arrays\r\n  of every four elements starting with i&#39;th index.\r\n  The last chunk with two elements are treated as well.\r\n- `$(IFS=,; echo &quot;${array[*]:i:4}&quot;)` joins the array with commas to be\r\n  fed to `java` as an argument.\r\n\r\nIf the output looks good, drop `echo` in front of `java`.\r\n\r\n**[Edit]**  \r\nAs for the parallelism, we can make use of `-P` option to `xargs`.\r\nWould you please try:\r\n```\r\narray=(&quot;USA+AL&quot; &quot;USA+AK&quot; &quot;USA+AZ&quot; &quot;USA+AR&quot; &quot;USA+AS&quot; &quot;USA+CA&quot; ...)\r\nfor (( i = 0; i &lt; ${#array[@]}; i+=4 )); do\r\n    printf &quot;%s\\n&quot; &quot;$(IFS=,; echo &quot;${array[*]:i:4}&quot;)&quot;\r\ndone | xargs -P4 -L1 -I{} java -jar test-execute.jar --localities=&quot;{}&quot;\r\n```\r\n- It groups four states into an argument.\r\n- The `-P4` option generates four processes at a time.\r\n- Then 16 states are processed in total at once.\r\n","title":"Bash for loop in batch on list","body":"<p>First of all, <code>bash array</code> must be assigned as a space separated list as:</p>\n<pre><code>array=(&quot;USA+AL&quot; &quot;USA+AK&quot; &quot;USA+AZ&quot; &quot;USA+AR&quot; &quot;USA+AS&quot; &quot;USA+CA&quot; ...)\n</code></pre>\n<p>Then would you please try something like:</p>\n<pre><code>array=(&quot;USA+AL&quot; &quot;USA+AK&quot; &quot;USA+AZ&quot; &quot;USA+AR&quot; &quot;USA+AS&quot; &quot;USA+CA&quot; ...)\nfor (( i = 0; i &lt; ${#array[@]}; i+=4 )); do\n    echo java -jar test-execute.jar --localities=&quot;$(IFS=,; echo &quot;${array[*]:i:4}&quot;)&quot;\ndone\n</code></pre>\n<ul>\n<li>The <code>for</code> loop has a C-like syntax to increment the index by value 4.</li>\n<li>The array slice <code>${array[*]:i:4}</code> divides the array into sub-arrays\nof every four elements starting with i'th index.\nThe last chunk with two elements are treated as well.</li>\n<li><code>$(IFS=,; echo &quot;${array[*]:i:4}&quot;)</code> joins the array with commas to be\nfed to <code>java</code> as an argument.</li>\n</ul>\n<p>If the output looks good, drop <code>echo</code> in front of <code>java</code>.</p>\n<p><strong>[Edit]</strong><br />\nAs for the parallelism, we can make use of <code>-P</code> option to <code>xargs</code>.\nWould you please try:</p>\n<pre><code>array=(&quot;USA+AL&quot; &quot;USA+AK&quot; &quot;USA+AZ&quot; &quot;USA+AR&quot; &quot;USA+AS&quot; &quot;USA+CA&quot; ...)\nfor (( i = 0; i &lt; ${#array[@]}; i+=4 )); do\n    printf &quot;%s\\n&quot; &quot;$(IFS=,; echo &quot;${array[*]:i:4}&quot;)&quot;\ndone | xargs -P4 -L1 -I{} java -jar test-execute.jar --localities=&quot;{}&quot;\n</code></pre>\n<ul>\n<li>It groups four states into an argument.</li>\n<li>The <code>-P4</code> option generates four processes at a time.</li>\n<li>Then 16 states are processed in total at once.</li>\n</ul>\n"}],"owner":{"account_id":19068200,"reputation":113,"user_id":19692198,"display_name":"deewreck"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":159,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671450107,"creation_date":1671435105,"question_id":74847391,"body_markdown":"I am trying to bash script where it executes following java jar command in batch mode on the basis of size of list. \r\n\r\ni have a list of string with 54 states of USA. \r\n\r\n```\r\nlist = [USA+CA,USA+TX,USA+TN...]\r\n```\r\ni need to execute following command in parallel with 4 instances having 4 values as input from list. \r\n\r\n```\r\njava -jar test-execute.jar --localities=USA+TX,USA+CA,USA+TN,USA+AB\r\n```\r\nwait till execution is complete for any instance, then start new instance of jar with next 4 states. \r\n\r\n```\r\narray=( USA+TX,USA+CA,USA+TN,USA+AB )\r\nfor i in &quot;${array[@]}&quot;\r\ndo\r\n\tjava -jar test-execute.jar --localities= ???\r\ndone\r\n```\r\nI am not able to understand how can i dynamically provide inputs from array into jar execution. \r\n\r\nso, \r\n\r\ni have list of size 54, \r\n\r\ni need to run 4 java instances in parallel with each instance having 4 unique state as input from list of 54. , once these instances complete, then start next 4 instances with next unique 4 states per instance. \r\n\r\nupdate:\r\n\r\ni have list of 54 states , 16 core machine. each java jar instance will use 4 cores, so i can run 4 java instances at a time to to use 16 core machine . \r\n\r\n```\r\n16 core machine \r\n   java instance-1 4 states\r\n   java instance-2 4 states\r\n   java instance-3 4 states\r\n   java instance-4 4 states\r\n \r\nwait till any of these instances complete, once completed, start new instance with next 4 states until all 54 states has been executed. \r\n\r\n```\r\n\r\nplease help. \r\n","title":"Bash for loop in batch on list","body":"<p>I am trying to bash script where it executes following java jar command in batch mode on the basis of size of list.</p>\n<p>i have a list of string with 54 states of USA.</p>\n<pre><code>list = [USA+CA,USA+TX,USA+TN...]\n</code></pre>\n<p>i need to execute following command in parallel with 4 instances having 4 values as input from list.</p>\n<pre><code>java -jar test-execute.jar --localities=USA+TX,USA+CA,USA+TN,USA+AB\n</code></pre>\n<p>wait till execution is complete for any instance, then start new instance of jar with next 4 states.</p>\n<pre><code>array=( USA+TX,USA+CA,USA+TN,USA+AB )\nfor i in &quot;${array[@]}&quot;\ndo\n    java -jar test-execute.jar --localities= ???\ndone\n</code></pre>\n<p>I am not able to understand how can i dynamically provide inputs from array into jar execution.</p>\n<p>so,</p>\n<p>i have list of size 54,</p>\n<p>i need to run 4 java instances in parallel with each instance having 4 unique state as input from list of 54. , once these instances complete, then start next 4 instances with next unique 4 states per instance.</p>\n<p>update:</p>\n<p>i have list of 54 states , 16 core machine. each java jar instance will use 4 cores, so i can run 4 java instances at a time to to use 16 core machine .</p>\n<pre><code>16 core machine \n   java instance-1 4 states\n   java instance-2 4 states\n   java instance-3 4 states\n   java instance-4 4 states\n \nwait till any of these instances complete, once completed, start new instance with next 4 states until all 54 states has been executed. \n\n</code></pre>\n<p>please help.</p>\n"},{"tags":["java","abstract-class"],"comments":[{"owner":{"account_id":6228391,"reputation":708,"user_id":4845935,"display_name":"dimnnv"},"score":0,"creation_date":1671449874,"post_id":74849876,"comment_id":132094501,"body_markdown":"It depends if anyone else is using your ConcreteHandler or not.\nIt yes then it can be painful to modify them because they rely on implementation of AbstractHandler that works with FlawedLogger and change of this class would result in compile error.\nIf no external clients are using this logger than you can modify the code at the same time.","body":"It depends if anyone else is using your ConcreteHandler or not. It yes then it can be painful to modify them because they rely on implementation of AbstractHandler that works with FlawedLogger and change of this class would result in compile error. If no external clients are using this logger than you can modify the code at the same time."}],"owner":{"account_id":354716,"reputation":1249,"user_id":693233,"accept_rate":61,"display_name":"l0r3nz4cc10"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1671449404,"creation_date":1671449404,"question_id":74849876,"body_markdown":"In my project, I am using a class like this :\r\n\r\n    public class ConcreteHandler extends AbstractHandler {\r\n        @Override\r\n        protected FlawedLogger getLogger() { return FlawedLogger.getInstance(); }\r\n    }\r\n\r\nHowever, because of security concerns, I can no longer use the class `FlawedLogger`, I have to replace it with the new provided `Logger` class, which is not related to `FlawedLogger` in any way.\r\n\r\nThe class `AbstractHandler` is also provided in a library, it has an abstract method `getLogger()` and a bunch of public methods.\r\n\r\nTo achieve my goal, I plan to copy the `AbstractHandler` into a new class and change the return type of its abstract method, so I can still use the `ConcreteHandler` :\r\n\r\n    public class ConcreteHandler extends NewAbstractHandler {\r\n        @Override\r\n        protected Logger getLogger() { return Logger.getInstance(); }\r\n    }\r\n\r\nIs there a better way to do it ?","title":"How to replace the return type of an abstract method in the subclass","body":"<p>In my project, I am using a class like this :</p>\n<pre><code>public class ConcreteHandler extends AbstractHandler {\n    @Override\n    protected FlawedLogger getLogger() { return FlawedLogger.getInstance(); }\n}\n</code></pre>\n<p>However, because of security concerns, I can no longer use the class <code>FlawedLogger</code>, I have to replace it with the new provided <code>Logger</code> class, which is not related to <code>FlawedLogger</code> in any way.</p>\n<p>The class <code>AbstractHandler</code> is also provided in a library, it has an abstract method <code>getLogger()</code> and a bunch of public methods.</p>\n<p>To achieve my goal, I plan to copy the <code>AbstractHandler</code> into a new class and change the return type of its abstract method, so I can still use the <code>ConcreteHandler</code> :</p>\n<pre><code>public class ConcreteHandler extends NewAbstractHandler {\n    @Override\n    protected Logger getLogger() { return Logger.getInstance(); }\n}\n</code></pre>\n<p>Is there a better way to do it ?</p>\n"},{"tags":["java","collections","java-stream"],"comments":[{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":0,"creation_date":1671183865,"post_id":74822606,"comment_id":132048730,"body_markdown":"How `Experience` and `Education` look like, can you elaborate more please, your question is not clear, maybe with an input/output example.","body":"How <code>Experience</code> and <code>Education</code> look like, can you elaborate more please, your question is not clear, maybe with an input/output example."},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1671186313,"post_id":74822606,"comment_id":132049475,"body_markdown":"@YCF_L I gave some information about it.","body":"@YCF_L I gave some information about it."},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1671279464,"post_id":74822606,"comment_id":132067955,"body_markdown":"@YCF_L I still wait for your feedback.","body":"@YCF_L I still wait for your feedback."}],"answers":[{"tags":[],"owner":{"account_id":16196987,"reputation":1,"user_id":11694386,"display_name":"Serhii Ilnytskiy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671195829,"creation_date":1671195536,"answer_id":74824789,"question_id":74822606,"body_markdown":"    Set&lt;String&gt; eduExp = Stream.of(\r\n        person.getEducations().stream().map(Education::getName),\r\n        person.getExperiences().stream().map(Experience::getName)\r\n    ).flatMap(o -&gt; o).collect(Collectors.toSet());\r\n\r\nYou can also use Stream.concat ","title":"Java Stream get some values from the Entity containing more than one collection","body":"<pre><code>Set&lt;String&gt; eduExp = Stream.of(\n    person.getEducations().stream().map(Education::getName),\n    person.getExperiences().stream().map(Experience::getName)\n).flatMap(o -&gt; o).collect(Collectors.toSet());\n</code></pre>\n<p>You can also use Stream.concat</p>\n"},{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671449372,"creation_date":1671449372,"answer_id":74849870,"question_id":74822606,"body_markdown":"If you need to get a list of DTOs per `Person` instance where each education is paired with each experience like this:\r\n```\r\nexpOne    edu1\r\nexpOne    edu2\r\nexpOne    edu3\r\nexpTwo    edu1\r\nexpTwo    edu2\r\nexpTwo    edu3\r\n```\r\n\r\nIt may be implemented as follows using `flatMap`:\r\n```java\r\nList&lt;Dto&gt; dtos = person.getExperiences()\r\n    .stream()                 // Stream&lt;Experience&gt;\r\n    .map(Experience::getName) // Stream&lt;String&gt; exp names\r\n    .flatMap(expName -&gt; person.getEducations()\r\n            .stream()                // inner Stream&lt;Education&gt;\r\n            .map(Education::getName) // Stream&lt;String&gt; edu names\r\n            .map(eduName -&gt; new Dto(expName, eduName)) // Stream&lt;Dto&gt;\r\n    ) // Stream&lt;Dto&gt;\r\n    .collect(Collectors.toList());\r\n```\r\n","title":"Java Stream get some values from the Entity containing more than one collection","body":"<p>If you need to get a list of DTOs per <code>Person</code> instance where each education is paired with each experience like this:</p>\n<pre><code>expOne    edu1\nexpOne    edu2\nexpOne    edu3\nexpTwo    edu1\nexpTwo    edu2\nexpTwo    edu3\n</code></pre>\n<p>It may be implemented as follows using <code>flatMap</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Dto&gt; dtos = person.getExperiences()\n    .stream()                 // Stream&lt;Experience&gt;\n    .map(Experience::getName) // Stream&lt;String&gt; exp names\n    .flatMap(expName -&gt; person.getEducations()\n            .stream()                // inner Stream&lt;Education&gt;\n            .map(Education::getName) // Stream&lt;String&gt; edu names\n            .map(eduName -&gt; new Dto(expName, eduName)) // Stream&lt;Dto&gt;\n    ) // Stream&lt;Dto&gt;\n    .collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":236,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74849870,"answer_count":2,"score":-1,"last_activity_date":1671449388,"creation_date":1671183417,"question_id":74822606,"body_markdown":"I have a problem about getting some values from more than one list in entity.\r\n\r\n\r\nHere is the **Person** entity shown below.\r\n\r\nPerson\r\n\r\n....\r\n\r\n    Set&lt;Experience&gt; experinences = new HashSet&lt;Experience&gt;()\r\n    Set&lt;Education&gt; educations = new HashSet&lt;Education&gt;()\r\n\r\n....\r\n\r\nHere is the **Experience** entity shown below.\r\n\r\nExperience\r\n\r\n    ....\r\n    name\r\n    description\r\n\r\nHere is the **Education** entity shown below.\r\n\r\nEducation\r\n\r\n    .....\r\n    name\r\n    description\r\n\r\nHere is the **Dto** shown below.\r\n\r\n**Dto**\r\n\r\n    String experienceName;\r\n    String educationName;\r\n\r\n\r\nWhat I want to do it to get only name of both experience and education from the entity through Java Stream. I knew **flatmap** is used for that but I have no idea how to do that in more than one collection.\r\n\r\nHow can I do that?","title":"Java Stream get some values from the Entity containing more than one collection","body":"<p>I have a problem about getting some values from more than one list in entity.</p>\n<p>Here is the <strong>Person</strong> entity shown below.</p>\n<p>Person</p>\n<p>....</p>\n<pre><code>Set&lt;Experience&gt; experinences = new HashSet&lt;Experience&gt;()\nSet&lt;Education&gt; educations = new HashSet&lt;Education&gt;()\n</code></pre>\n<p>....</p>\n<p>Here is the <strong>Experience</strong> entity shown below.</p>\n<p>Experience</p>\n<pre><code>....\nname\ndescription\n</code></pre>\n<p>Here is the <strong>Education</strong> entity shown below.</p>\n<p>Education</p>\n<pre><code>.....\nname\ndescription\n</code></pre>\n<p>Here is the <strong>Dto</strong> shown below.</p>\n<p><strong>Dto</strong></p>\n<pre><code>String experienceName;\nString educationName;\n</code></pre>\n<p>What I want to do it to get only name of both experience and education from the entity through Java Stream. I knew <strong>flatmap</strong> is used for that but I have no idea how to do that in more than one collection.</p>\n<p>How can I do that?</p>\n"},{"tags":["java","gradle","gradlew"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1647874671,"post_id":71559269,"comment_id":126474639,"body_markdown":"`compileJava` is part of `build`, and `test` depends on `build`, so if e.g., `compileJava` is slow, the others are slow, too, as they need to run `compileJava`. Have you tried running with `--profile` to get more information? Or `--parallel` to speed things up?","body":"<code>compileJava</code> is part of <code>build</code>, and <code>test</code> depends on <code>build</code>, so if e.g., <code>compileJava</code> is slow, the others are slow, too, as they need to run <code>compileJava</code>. Have you tried running with <code>--profile</code> to get more information? Or <code>--parallel</code> to speed things up?"},{"owner":{"account_id":7561989,"reputation":331,"user_id":5739235,"accept_rate":50,"display_name":"Aaronmacaron"},"score":0,"creation_date":1647876223,"post_id":71559269,"comment_id":126475339,"body_markdown":"@Robert `--parallel` did not result in a significant performance improvement. See this scan for performance details: https://scans.gradle.com/s/vpdk72ozzv73m/performance/build For comparison see this performance scan when I re-run gradle right after it taking a long time (as described in the question): https://scans.gradle.com/s/3rts7cpwy2o4w/performance/build As you can see there is a dramatic performance improvement.","body":"@Robert <code>--parallel</code> did not result in a significant performance improvement. See this scan for performance details: <a href=\"https://scans.gradle.com/s/vpdk72ozzv73m/performance/build\" rel=\"nofollow noreferrer\">scans.gradle.com/s/vpdk72ozzv73m/performance/build</a> For comparison see this performance scan when I re-run gradle right after it taking a long time (as described in the question): <a href=\"https://scans.gradle.com/s/3rts7cpwy2o4w/performance/build\" rel=\"nofollow noreferrer\">scans.gradle.com/s/3rts7cpwy2o4w/performance/build</a> As you can see there is a dramatic performance improvement."}],"answers":[{"tags":[],"owner":{"account_id":2370977,"reputation":667,"user_id":2075605,"display_name":"tequilacat"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1671449388,"creation_date":1655228812,"answer_id":72621351,"question_id":71559269,"body_markdown":"**EDIT: Use @eskatos answer.**\r\n\r\nExplicitly enabling filesystem watch is naturally better than disabling it.\r\n\r\nA little bit counter-intuitive and there&#39;s no hint in the documentation, but it works.\r\n\r\n**---- old answer begins here**\r\n\r\nTLDR: disable file system watching (if you can afford it)\r\n\r\n    gradlew.bat --no-watch-fs yourTaskName\r\n\r\nDetails:\r\n\r\nSame problem troubled me for a month. Finally I got bored enough and after examining gradle debug output (-d key) I found that just before going into IDLE the gradle reports that:\r\n\r\n    [INFO] [org.gradle.tooling.internal.provider.FileSystemWatchingBuildActionRunner] Watching the file system is configured to be enabled if available\r\n    [DEBUG] [org.gradle.internal.operations.DefaultBuildOperationRunner] Build operation &#39;Build started for file system watching&#39; started\r\n    [DEBUG] [org.gradle.internal.watch.registry.impl.DefaultFileWatcherRegistry] Started listening to file system change events\r\n\r\n\r\nSo I disabled FS watching and whoosh!\r\n\r\nhttps://docs.gradle.org/current/userguide/gradle_daemon.html#enabling_and_disabling_file_system_watching","title":"Why does gradle initializing sometimes take very long?","body":"<p><strong>EDIT: Use @eskatos answer.</strong></p>\n<p>Explicitly enabling filesystem watch is naturally better than disabling it.</p>\n<p>A little bit counter-intuitive and there's no hint in the documentation, but it works.</p>\n<p><strong>---- old answer begins here</strong></p>\n<p>TLDR: disable file system watching (if you can afford it)</p>\n<pre><code>gradlew.bat --no-watch-fs yourTaskName\n</code></pre>\n<p>Details:</p>\n<p>Same problem troubled me for a month. Finally I got bored enough and after examining gradle debug output (-d key) I found that just before going into IDLE the gradle reports that:</p>\n<pre><code>[INFO] [org.gradle.tooling.internal.provider.FileSystemWatchingBuildActionRunner] Watching the file system is configured to be enabled if available\n[DEBUG] [org.gradle.internal.operations.DefaultBuildOperationRunner] Build operation 'Build started for file system watching' started\n[DEBUG] [org.gradle.internal.watch.registry.impl.DefaultFileWatcherRegistry] Started listening to file system change events\n</code></pre>\n<p>So I disabled FS watching and whoosh!</p>\n<p><a href=\"https://docs.gradle.org/current/userguide/gradle_daemon.html#enabling_and_disabling_file_system_watching\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/userguide/gradle_daemon.html#enabling_and_disabling_file_system_watching</a></p>\n"},{"tags":[],"owner":{"account_id":114038,"reputation":4244,"user_id":300053,"display_name":"eskatos"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1669804755,"creation_date":1669804755,"answer_id":74626372,"question_id":71559269,"body_markdown":"This is the following issue\r\nhttps://github.com/gradle/gradle/issues/17955\r\n\r\nDuring initialization Gradle tries to decide if file system watching is safe to enable. On a Windows machine with network drives connected and depending on your network setup it can take a long while.\r\n\r\nThe good workaround is not to disable FSW but to enable it explicitly. This will disable the discovery process that takes a long time while keeping FSW enabled and making your builds faster.\r\n\r\nThis can be done on the command line:\r\n\r\n```\r\ngradlew.bat --watch-fs yourTaskName\r\n\r\n```\r\n\r\nOr persistently in your `gradle.properties`\r\n\r\n```\r\norg.gradle.vfs.watch=true\r\n```","title":"Why does gradle initializing sometimes take very long?","body":"<p>This is the following issue\n<a href=\"https://github.com/gradle/gradle/issues/17955\" rel=\"noreferrer\">https://github.com/gradle/gradle/issues/17955</a></p>\n<p>During initialization Gradle tries to decide if file system watching is safe to enable. On a Windows machine with network drives connected and depending on your network setup it can take a long while.</p>\n<p>The good workaround is not to disable FSW but to enable it explicitly. This will disable the discovery process that takes a long time while keeping FSW enabled and making your builds faster.</p>\n<p>This can be done on the command line:</p>\n<pre><code>gradlew.bat --watch-fs yourTaskName\n\n</code></pre>\n<p>Or persistently in your <code>gradle.properties</code></p>\n<pre><code>org.gradle.vfs.watch=true\n</code></pre>\n"}],"owner":{"account_id":7561989,"reputation":331,"user_id":5739235,"accept_rate":50,"display_name":"Aaronmacaron"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1964,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1671449388,"creation_date":1647873002,"question_id":71559269,"body_markdown":"When I execute gradle sometimes it takes very long to &quot;Initzialize&quot; (up to 40 seconds).\r\n\r\n    PS C:\\Users\\Username\\project&gt; gradle build\r\n    &lt;------------&gt; 0% INITIALIZING [35s]\r\n    &gt; IDLE\r\n\r\nIt doesn&#39;t seem to matter what goal I try to execute (`compileJava`, `test` and `build` all take this long)\r\n\r\nIf I re-run Gradle shortly after it took so long it&#39;s very quick and executes in a matter of milliseconds or seconds but if I wait longer to re-run, it again takes very long.\r\n\r\nThis happens to me in different projects and it happens with `gradlew` and also with `gradle`.\r\n\r\nI&#39;m on Windows 10 and I use Gradle 7.4.","title":"Why does gradle initializing sometimes take very long?","body":"<p>When I execute gradle sometimes it takes very long to &quot;Initzialize&quot; (up to 40 seconds).</p>\n<pre><code>PS C:\\Users\\Username\\project&gt; gradle build\n&lt;------------&gt; 0% INITIALIZING [35s]\n&gt; IDLE\n</code></pre>\n<p>It doesn't seem to matter what goal I try to execute (<code>compileJava</code>, <code>test</code> and <code>build</code> all take this long)</p>\n<p>If I re-run Gradle shortly after it took so long it's very quick and executes in a matter of milliseconds or seconds but if I wait longer to re-run, it again takes very long.</p>\n<p>This happens to me in different projects and it happens with <code>gradlew</code> and also with <code>gradle</code>.</p>\n<p>I'm on Windows 10 and I use Gradle 7.4.</p>\n"},{"tags":["java","icu","icu4j"],"owner":{"account_id":27296575,"reputation":1,"user_id":20814112,"display_name":"Азамат Шаяхметов"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671449370,"creation_date":1671448497,"question_id":74849722,"body_markdown":"There is a problem with number spellout in russian language. \r\nTrailing zeros in decimal number are ignored in final result. Here is what I mean:\r\n`\r\n```\r\nRuleBasedNumberFormat nf = new RuleBasedNumberFormat(Locale.forLanguageTag(&quot;ru&quot;), RuleBasedNumberFormat.SPELLOUT);\r\n// двенадцать целых три десятых, OK\r\nSystem.err.println(nf.format(12.3, &quot;%spellout-cardinal-neuter&quot;));\r\n\r\n// same output, двенадцать целых три десятых. Expected &#39;двенадцать целых триста тысячных&#39;\r\nSystem.err.println(nf.format(12.300, &quot;%spellout-cardinal-neuter&quot;));\r\n```\r\n`\r\n\r\nPlayed around with various settings and rules, seems like there is no way to set minimum fraction digits for spellout.","title":"ICU RuleBasedNumberFormat spellout trailing zero issue","body":"<p>There is a problem with number spellout in russian language.\nTrailing zeros in decimal number are ignored in final result. Here is what I mean:\n`</p>\n<pre><code>RuleBasedNumberFormat nf = new RuleBasedNumberFormat(Locale.forLanguageTag(&quot;ru&quot;), RuleBasedNumberFormat.SPELLOUT);\n// двенадцать целых три десятых, OK\nSystem.err.println(nf.format(12.3, &quot;%spellout-cardinal-neuter&quot;));\n\n// same output, двенадцать целых три десятых. Expected 'двенадцать целых триста тысячных'\nSystem.err.println(nf.format(12.300, &quot;%spellout-cardinal-neuter&quot;));\n</code></pre>\n<p>`</p>\n<p>Played around with various settings and rules, seems like there is no way to set minimum fraction digits for spellout.</p>\n"},{"tags":["java","try-catch"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":2,"creation_date":1671449252,"post_id":74849839,"comment_id":132094355,"body_markdown":"Yes, check you don&#39;t go out of bounds *before* trying to `get` from `items`. Don&#39;t use exceptions for flow control. An `IndexOutOfBoundsException` is something that should not happen in the first place.","body":"Yes, check you don&#39;t go out of bounds <i>before</i> trying to <code>get</code> from <code>items</code>. Don&#39;t use exceptions for flow control. An <code>IndexOutOfBoundsException</code> is something that should not happen in the first place."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1671449672,"post_id":74849839,"comment_id":132094450,"body_markdown":"Don&#39;t catch Runtime exceptions (because contrary to checked exceptions, runtime exceptions are not something that is somewhat expected to happen, but an indicator of a flaw in the code), and don&#39;t swallow exceptions by leaving catch blocks empty.","body":"Don&#39;t catch Runtime exceptions (because contrary to checked exceptions, runtime exceptions are not something that is somewhat expected to happen, but an indicator of a flaw in the code), and don&#39;t swallow exceptions by leaving catch blocks empty."},{"owner":{"account_id":27296845,"reputation":1,"user_id":20814357,"display_name":"DuncanDalas"},"score":0,"creation_date":1671449904,"post_id":74849839,"comment_id":132094513,"body_markdown":"Okay, it seems people really don&#39;t like when I use try/catch like this, will make it the proper way, thanks for feedback, I always felt like this is a very comfortable way of doing this","body":"Okay, it seems people really don&#39;t like when I use try/catch like this, will make it the proper way, thanks for feedback, I always felt like this is a very comfortable way of doing this"},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":2,"creation_date":1671450431,"post_id":74849839,"comment_id":132094656,"body_markdown":"*it seems people really don&#39;t like when I use try/catch like this* **Correct**.","body":"<i>it seems people really don&#39;t like when I use try/catch like this</i> <b>Correct</b>."}],"answers":[{"tags":[],"owner":{"account_id":10748,"reputation":6056,"user_id":20444,"accept_rate":75,"display_name":"activout.se"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671449299,"creation_date":1671449299,"answer_id":74849857,"question_id":74849839,"body_markdown":"Yes, create a separate method like `addNoThrow` that does the `add` with the same parameters inside a try/catch. \r\n\r\nBut as @federico-klez-culloca wrote, it&#39;s better to check the values first. That could be done in a `safeAdd` method that checks inputs and only gets and adds if they are valid.","title":"Is there a good alternative to individual try/catch statements?","body":"<p>Yes, create a separate method like <code>addNoThrow</code> that does the <code>add</code> with the same parameters inside a try/catch.</p>\n<p>But as @federico-klez-culloca wrote, it's better to check the values first. That could be done in a <code>safeAdd</code> method that checks inputs and only gets and adds if they are valid.</p>\n"}],"owner":{"account_id":27296845,"reputation":1,"user_id":20814357,"display_name":"DuncanDalas"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671449299,"creation_date":1671449180,"question_id":74849839,"body_markdown":"Code below is repetitive, no need to read all.\r\n\r\nThis code finds 8 neighbors around a plane, if the plane is on the edge\r\nindex can go out of bounds on each of them, hence I have to check each\r\nindividually\r\n\r\n```\r\n// Catch out of bound exception\r\ntry {\r\n    // top\r\n    neighborPlanes.add((Plane) items.get(index - rowLength));\r\n} catch (IndexOutOfBoundsException e) {\r\n    // Do nothing\r\n}\r\n\r\ntry {\r\n    // top left\r\n    neighborPlanes.add((Plane) items.get(index - rowLength - 1));\r\n} catch (IndexOutOfBoundsException e) {\r\n    // Do nothing\r\n}\r\n\r\ntry {\r\n    // top right\r\n    neighborPlanes.add((Plane) items.get(index - rowLength + 1));\r\n} catch (IndexOutOfBoundsException e) {\r\n    // Do nothing\r\n}\r\n\r\ntry {\r\n    // middle left\r\n    neighborPlanes.add((Plane) items.get(index - 1));\r\n} catch (IndexOutOfBoundsException e) {\r\n    // Do nothing\r\n}\r\n\r\ntry {\r\n    // middle right\r\n    neighborPlanes.add((Plane) items.get(index + 1));\r\n} catch (IndexOutOfBoundsException e) {\r\n    // Do nothing\r\n}\r\n\r\ntry {\r\n    // bottom\r\n    neighborPlanes.add((Plane) items.get(index + rowLength));\r\n} catch (IndexOutOfBoundsException e) {\r\n// Do nothing\r\n}\r\n\r\ntry {\r\n    // bottom left\r\n    neighborPlanes.add((Plane) items.get(index + rowLength - 1));\r\n} catch (IndexOutOfBoundsException e) {\r\n// Do nothing\r\n}\r\n\r\ntry {\r\n    // bottom right\r\n    neighborPlanes.add((Plane) items.get(index + rowLength + 1));\r\n} catch (IndexOutOfBoundsException e) {\r\n// Do nothing\r\n}\r\n```\r\n\r\n\r\n\r\nIs there a way to make this not look terrible?\r\nWould making a function call with nested try/catch inside be a better solution?\r\n","title":"Is there a good alternative to individual try/catch statements?","body":"<p>Code below is repetitive, no need to read all.</p>\n<p>This code finds 8 neighbors around a plane, if the plane is on the edge\nindex can go out of bounds on each of them, hence I have to check each\nindividually</p>\n<pre><code>// Catch out of bound exception\ntry {\n    // top\n    neighborPlanes.add((Plane) items.get(index - rowLength));\n} catch (IndexOutOfBoundsException e) {\n    // Do nothing\n}\n\ntry {\n    // top left\n    neighborPlanes.add((Plane) items.get(index - rowLength - 1));\n} catch (IndexOutOfBoundsException e) {\n    // Do nothing\n}\n\ntry {\n    // top right\n    neighborPlanes.add((Plane) items.get(index - rowLength + 1));\n} catch (IndexOutOfBoundsException e) {\n    // Do nothing\n}\n\ntry {\n    // middle left\n    neighborPlanes.add((Plane) items.get(index - 1));\n} catch (IndexOutOfBoundsException e) {\n    // Do nothing\n}\n\ntry {\n    // middle right\n    neighborPlanes.add((Plane) items.get(index + 1));\n} catch (IndexOutOfBoundsException e) {\n    // Do nothing\n}\n\ntry {\n    // bottom\n    neighborPlanes.add((Plane) items.get(index + rowLength));\n} catch (IndexOutOfBoundsException e) {\n// Do nothing\n}\n\ntry {\n    // bottom left\n    neighborPlanes.add((Plane) items.get(index + rowLength - 1));\n} catch (IndexOutOfBoundsException e) {\n// Do nothing\n}\n\ntry {\n    // bottom right\n    neighborPlanes.add((Plane) items.get(index + rowLength + 1));\n} catch (IndexOutOfBoundsException e) {\n// Do nothing\n}\n</code></pre>\n<p>Is there a way to make this not look terrible?\nWould making a function call with nested try/catch inside be a better solution?</p>\n"},{"tags":["java","spring","jdbc","google-bigquery","jdbctemplate"],"answers":[{"tags":[],"owner":{"account_id":12799902,"reputation":5994,"user_id":9261558,"display_name":"Mazlum Tosun"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671449047,"creation_date":1671449047,"answer_id":74849809,"question_id":74847047,"body_markdown":"Instead of using the `SimbaJdbcDriver` for `Bigquery`, you can use a starter to use directly `Bigquery` client with `Spring Boot` app : \r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-cloud-gcp-starter-bigquery&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n```java\r\n@Autowired\r\nBigQuery bigquery;\r\n\r\n// Execute a query\r\npublic void runQuery() throws InterruptedException {\r\n  String query = &quot;SELECT column FROM table;&quot;;\r\n  QueryJobConfiguration queryConfig =\r\n      QueryJobConfiguration.newBuilder(query).build();\r\n\r\n  for (FieldValueList row : bigquery.query(queryConfig).iterateAll()) {\r\n    for (FieldValue val : row) {\r\n      System.out.println(val);\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nUse `BigQueryTemplate` : \r\n\r\n```java\r\n@Autowired\r\nBigQueryTemplate bigQueryTemplate;\r\n\r\npublic void loadData(InputStream dataInputStream, String tableName) {\r\n  ListenableFuture&lt;Job&gt; bigQueryJobFuture =\r\n      bigQueryTemplate.writeDataToTable(\r\n          tableName,\r\n          dataFile.getInputStream(),\r\n          FormatOptions.csv());\r\n\r\n  // After the future is complete, the data is successfully loaded.\r\n  Job job = bigQueryJobFuture.get();\r\n}\r\n```\r\n\r\nThe following [link](https://blog.knoldus.com/spring-gcp-bigquery/) gives more information.\r\n\r\nIn `Java` (Spring Boot or not), you can also directly use the `BigQuery` [client](https://cloud.google.com/bigquery/docs/quickstarts/quickstart-client-libraries#run_the_query)","title":"Problems with JDBC connection for BigQuery with Java SpringBoot","body":"<p>Instead of using the <code>SimbaJdbcDriver</code> for <code>Bigquery</code>, you can use a starter to use directly <code>Bigquery</code> client with <code>Spring Boot</code> app :</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-cloud-gcp-starter-bigquery&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Autowired\nBigQuery bigquery;\n\n// Execute a query\npublic void runQuery() throws InterruptedException {\n  String query = &quot;SELECT column FROM table;&quot;;\n  QueryJobConfiguration queryConfig =\n      QueryJobConfiguration.newBuilder(query).build();\n\n  for (FieldValueList row : bigquery.query(queryConfig).iterateAll()) {\n    for (FieldValue val : row) {\n      System.out.println(val);\n    }\n  }\n}\n</code></pre>\n<p>Use <code>BigQueryTemplate</code> :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Autowired\nBigQueryTemplate bigQueryTemplate;\n\npublic void loadData(InputStream dataInputStream, String tableName) {\n  ListenableFuture&lt;Job&gt; bigQueryJobFuture =\n      bigQueryTemplate.writeDataToTable(\n          tableName,\n          dataFile.getInputStream(),\n          FormatOptions.csv());\n\n  // After the future is complete, the data is successfully loaded.\n  Job job = bigQueryJobFuture.get();\n}\n</code></pre>\n<p>The following <a href=\"https://blog.knoldus.com/spring-gcp-bigquery/\" rel=\"nofollow noreferrer\">link</a> gives more information.</p>\n<p>In <code>Java</code> (Spring Boot or not), you can also directly use the <code>BigQuery</code> <a href=\"https://cloud.google.com/bigquery/docs/quickstarts/quickstart-client-libraries#run_the_query\" rel=\"nofollow noreferrer\">client</a></p>\n"}],"owner":{"account_id":12139112,"reputation":11,"user_id":9511517,"display_name":"deathrasher"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":743,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671449047,"creation_date":1671432365,"question_id":74847047,"body_markdown":"I am trying to add the BigQuery JDBC driver to my Spring Boot application but I am having some problems. I have downloaded the driver from the Google Cloud download page and added the dependency in my pom.xml file, but when I try to connect to BigQuery I get a &quot;No suitable driver found&quot; exception.\r\n\r\n&gt; java.sql.SQLException: No suitable driver found for jdbc:bigquery://https://www.googleapis.com/bigquery/v2:443;......\r\n\tat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:702) ~[java.sql:na]\r\n\tat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:251) ~[java.sql:na]\r\n\r\nI have added the drive as follows in pom.xml:\r\n\r\n&gt; \r\n&gt; \t\t&lt;dependency&gt; \t\t\t\r\n&gt;             &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n&gt; \t\t\t&lt;artifactId&gt;google-cloud-bigquery-jdbc&lt;/artifactId&gt;\r\n&gt; \t\t\t&lt;version&gt;1.3.0&lt;/version&gt; \t\t\t&lt;scope&gt;system&lt;/scope&gt;\r\n&gt; \t\t\t&lt;systemPath&gt;... resources/drivers/bigquer/SimbaJDBCDriverforGoogleBigQuery42_1.3.0.1001_JB.zip&lt;/systemPath&gt;\r\n&gt; \t\t&lt;/dependency&gt;\r\n\r\n\r\nI&#39;m trying to get the connection in this ways:\r\n\r\n&gt;     private  static Connection connectViaDM() throws Exception\r\n&gt;     {\r\n&gt;         Connection connection = null;\r\n&gt;         connection = DriverManager.getConnection(CONNECTION_URL);\r\n&gt;         return connection;\r\n&gt;     }\r\n\r\n    private Connection connectViaDS() throws Exception\r\n    {\r\n        Connection connection = null;\r\n        DataSource ds = new com.simba.googlebigquery.jdbc42.DataSource();\r\n        ds.setURL(CONNECTION_URL);\r\n        ....\r\n        connection = ds.getConnection();\r\n        return connection;\r\n    }\r\n\r\nThe bigquery access data that I handle is correct because I am able to connect to the java client:\r\n\r\n&gt;             BigQuery bigquery = BigQueryOptions.newBuilder().setProjectId(PROJECT_ID).setCredentials(\r\n&gt;                     ServiceAccountCredentials.fromStream(\r\n&gt;                             new FileInputStream(KEY_FILE))\r\n&gt;             )\r\n&gt;                     .build().getService();\r\n&gt; \r\n&gt; \r\n&gt;             QueryJobConfiguration queryConfig = QueryJobConfiguration.newBuilder(query).build();\r\n&gt;             TableResult results = bigquery.query(queryConfig);","title":"Problems with JDBC connection for BigQuery with Java SpringBoot","body":"<p>I am trying to add the BigQuery JDBC driver to my Spring Boot application but I am having some problems. I have downloaded the driver from the Google Cloud download page and added the dependency in my pom.xml file, but when I try to connect to BigQuery I get a &quot;No suitable driver found&quot; exception.</p>\n<blockquote>\n<p>java.sql.SQLException: No suitable driver found for jdbc:bigquery://https://www.googleapis.com/bigquery/v2:443;......\nat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:702) ~[java.sql:na]\nat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:251) ~[java.sql:na]</p>\n</blockquote>\n<p>I have added the drive as follows in pom.xml:</p>\n<blockquote>\n<pre><code>  &lt;dependency&gt;            \n        &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n      &lt;artifactId&gt;google-cloud-bigquery-jdbc&lt;/artifactId&gt;\n      &lt;version&gt;1.3.0&lt;/version&gt;            &lt;scope&gt;system&lt;/scope&gt;\n      &lt;systemPath&gt;... resources/drivers/bigquer/SimbaJDBCDriverforGoogleBigQuery42_1.3.0.1001_JB.zip&lt;/systemPath&gt;\n  &lt;/dependency&gt;\n</code></pre>\n</blockquote>\n<p>I'm trying to get the connection in this ways:</p>\n<blockquote>\n<pre><code>private  static Connection connectViaDM() throws Exception\n{\n    Connection connection = null;\n    connection = DriverManager.getConnection(CONNECTION_URL);\n    return connection;\n}\n</code></pre>\n</blockquote>\n<pre><code>private Connection connectViaDS() throws Exception\n{\n    Connection connection = null;\n    DataSource ds = new com.simba.googlebigquery.jdbc42.DataSource();\n    ds.setURL(CONNECTION_URL);\n    ....\n    connection = ds.getConnection();\n    return connection;\n}\n</code></pre>\n<p>The bigquery access data that I handle is correct because I am able to connect to the java client:</p>\n<blockquote>\n<pre><code>        BigQuery bigquery = BigQueryOptions.newBuilder().setProjectId(PROJECT_ID).setCredentials(\n                ServiceAccountCredentials.fromStream(\n                        new FileInputStream(KEY_FILE))\n        )\n                .build().getService();\n\n\n        QueryJobConfiguration queryConfig = QueryJobConfiguration.newBuilder(query).build();\n        TableResult results = bigquery.query(queryConfig);\n</code></pre>\n</blockquote>\n"},{"tags":["java","sql-server","hibernate","ddl","xpand"],"answers":[{"tags":[],"owner":{"account_id":9704231,"reputation":48,"user_id":7198134,"display_name":"Lahiru Pathirana"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671448880,"creation_date":1671448880,"answer_id":74849786,"question_id":74738905,"body_markdown":"Using the below combination resolved the issue.\r\n``` \r\n@org.hibernate.annotations.Type(type = &quot;org.hibernate.type.BooleanType&quot;)\r\n@org.hibernate.annotations.ColumnDefault(value = &quot;1&quot;)\r\n```","title":"Hibernate columnDefault true needs to be mapped to sqlserver BIT default 1","body":"<p>Using the below combination resolved the issue.</p>\n<pre><code>@org.hibernate.annotations.Type(type = &quot;org.hibernate.type.BooleanType&quot;)\n@org.hibernate.annotations.ColumnDefault(value = &quot;1&quot;)\n</code></pre>\n"}],"owner":{"account_id":9704231,"reputation":48,"user_id":7198134,"display_name":"Lahiru Pathirana"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74849786,"answer_count":1,"score":0,"last_activity_date":1671448880,"creation_date":1670559880,"question_id":74738905,"body_markdown":"I have a need to map the `@org.hibernate.annotations.ColumnDefault(&quot;true&quot;)` to `BIT default 1` in generated SQL schema. Is there anyway other than adding a `@Column(columnDefinintion=&quot;BIT default 1&quot;)`\r\n\r\nI&#39;m using SQL Server 2008 Dialect and hibernate 5.3.26 and XPAND for code generation.\r\n\r\nI have tried using `@org.hibernate.type.BooleanType` also but it did not work.\r\nDone some debugging in hibernate core also and in `org/hibernate/cfg/Ejb3Column.java:625` where it takes the @ColumnDefault annotation value and later set it as it is without mapping in `org/hibernate/mapping/Table.java:561`. May be I have missed something. Is there anyway to override this functionality?\r\n\r\nWhere is the SQL type and default value mapping happens in schema generation? classes methods etc.\r\n\r\nAny help would be grateful.","title":"Hibernate columnDefault true needs to be mapped to sqlserver BIT default 1","body":"<p>I have a need to map the <code>@org.hibernate.annotations.ColumnDefault(&quot;true&quot;)</code> to <code>BIT default 1</code> in generated SQL schema. Is there anyway other than adding a <code>@Column(columnDefinintion=&quot;BIT default 1&quot;)</code></p>\n<p>I'm using SQL Server 2008 Dialect and hibernate 5.3.26 and XPAND for code generation.</p>\n<p>I have tried using <code>@org.hibernate.type.BooleanType</code> also but it did not work.\nDone some debugging in hibernate core also and in <code>org/hibernate/cfg/Ejb3Column.java:625</code> where it takes the @ColumnDefault annotation value and later set it as it is without mapping in <code>org/hibernate/mapping/Table.java:561</code>. May be I have missed something. Is there anyway to override this functionality?</p>\n<p>Where is the SQL type and default value mapping happens in schema generation? classes methods etc.</p>\n<p>Any help would be grateful.</p>\n"},{"tags":["java","spring","spring-boot","validation","model-view-controller"],"answers":[{"tags":[],"owner":{"account_id":6228391,"reputation":708,"user_id":4845935,"display_name":"dimnnv"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671448735,"creation_date":1671448735,"answer_id":74849757,"question_id":74849666,"body_markdown":"As you need to combine two fields in your validator, you need to write custom [class-level constraint][1].\r\n\r\nThis answer can help:\r\nhttps://stackoverflow.com/a/2783859/4845935\r\n\r\n\r\n  [1]: https://docs.jboss.org/hibernate/validator/5.0/reference/en-US/html/chapter-bean-constraints.html","title":"How to display the message triggered by @AsserTrue in a view (Cross-field)","body":"<p>As you need to combine two fields in your validator, you need to write custom <a href=\"https://docs.jboss.org/hibernate/validator/5.0/reference/en-US/html/chapter-bean-constraints.html\" rel=\"nofollow noreferrer\">class-level constraint</a>.</p>\n<p>This answer can help:\n<a href=\"https://stackoverflow.com/a/2783859/4845935\">https://stackoverflow.com/a/2783859/4845935</a></p>\n"}],"owner":{"account_id":27296715,"reputation":1,"user_id":20814239,"display_name":"Katie201"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671448735,"creation_date":1671448187,"question_id":74849666,"body_markdown":"I have a problem with validation.\r\n\r\nI have two separate objects which are dates:\r\n1) LocalDateTime startDate\r\n2) LocalDateTime endDate\r\n\r\nIn the form, I do some validations, e.g. text length, etc. and everything is ok.\r\n\r\nBut I want to do a validation of two dates with each other, that is that date #2 can&#39;t be earlier than date #1.\r\n\r\nI decided to use @AssertTrue. \r\n\r\n\r\nBut I want to have a message in the view after submitting the form with wrong dates, e.g. &quot;The dates entered are wrong&quot;\r\n\r\nHow to do it similar to e.g. validation related to the Name field. That when we do not enter, a message appears after sending the form that we need to correct (picture below)\r\n[enter image description here](https://i.stack.imgur.com/LyOfG.png)\r\n\r\n\r\n# **CreateEventForm**\r\n\r\n```\r\npublic class CreateEventForm {\r\n    private Long id;\r\n    @NotBlank(message = &quot;Field title is required.&quot;)\r\n    private String name;\r\n    \r\n    private LocalDateTime startDate;\r\n    private LocalDateTime endDate;\r\n    \r\n    @AssertTrue(message = &quot;Fields startindDateTime should be before than endingDateTime&quot;)\r\n    private boolean isvalid() {\r\n        return startingDateTime.isBefore(endingDateTime);\r\n    }\r\n\r\n```\r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\n```\r\nI tried many ways but to no avail\r\n```\r\n","title":"How to display the message triggered by @AsserTrue in a view (Cross-field)","body":"<p>I have a problem with validation.</p>\n<p>I have two separate objects which are dates:</p>\n<ol>\n<li>LocalDateTime startDate</li>\n<li>LocalDateTime endDate</li>\n</ol>\n<p>In the form, I do some validations, e.g. text length, etc. and everything is ok.</p>\n<p>But I want to do a validation of two dates with each other, that is that date #2 can't be earlier than date #1.</p>\n<p>I decided to use @AssertTrue.</p>\n<p>But I want to have a message in the view after submitting the form with wrong dates, e.g. &quot;The dates entered are wrong&quot;</p>\n<p>How to do it similar to e.g. validation related to the Name field. That when we do not enter, a message appears after sending the form that we need to correct (picture below)\n<a href=\"https://i.stack.imgur.com/LyOfG.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<h1><strong>CreateEventForm</strong></h1>\n<pre><code>public class CreateEventForm {\n    private Long id;\n    @NotBlank(message = &quot;Field title is required.&quot;)\n    private String name;\n    \n    private LocalDateTime startDate;\n    private LocalDateTime endDate;\n    \n    @AssertTrue(message = &quot;Fields startindDateTime should be before than endingDateTime&quot;)\n    private boolean isvalid() {\n        return startingDateTime.isBefore(endingDateTime);\n    }\n\n</code></pre>\n<pre><code>\n\n\n\n\n</code></pre>\n<p>I tried many ways but to no avail</p>\n<pre><code></code></pre>\n"},{"tags":["java","spring","asynchronous","proxyfactory"],"owner":{"account_id":4881286,"reputation":429,"user_id":3935008,"accept_rate":0,"display_name":"loshad vtapkah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1671448661,"creation_date":1671213634,"question_id":74828199,"body_markdown":"Lets suppose we have an Actor interface:\r\n```\r\n  public interface Actor {\r\n      ...\r\n      void doAction(arg1, arg2, etc ...);\r\n  }\r\n\r\n```\r\nAnd we have some implementations:\r\n```\r\n    @Async\r\n    void doAction(...) {\r\n```\r\n\r\nNow we implement some lib, that has a map of actors, and it code smth like this:\r\n```\r\n    var actor = actorMap.get(&quot;actorName&quot;);\r\n    actor.doAction(...);\r\n```\r\nAnd @Async doesn&#39;t work, cause particular actor is not a proxy, but a real instance.  But we keep fighting.  Lets proxy the call:\r\n```\r\n  ProxyFactory factory = new ProxyFactory(actor);\r\n  factory.addInterface(Actor.class);\r\n  factory.addAdvisor(new AsyncAnnotationAdvisor());\r\n\r\n  var ifaceActor = (Actor) factory.getProxy();\r\n\r\n  // this is a method call on the proxy!\r\n  ifaceActor.doTheAction(update, null, this, session, sender);\r\n\r\n```\r\nAnd this starts to magically work, but I am not sure that the line with factory.addAdvice() is correct enough. Probably, there is a more correct way to get AsyncAdvice, but I failed to google it. (And yes, it is a sample code and I&#39;ll reuse adviser object.  More over, I&#39;ll try to keep proxy objects, not recreate them always.)","title":"The correct way to force @Async work using ProxyFactory","body":"<p>Lets suppose we have an Actor interface:</p>\n<pre><code>  public interface Actor {\n      ...\n      void doAction(arg1, arg2, etc ...);\n  }\n\n</code></pre>\n<p>And we have some implementations:</p>\n<pre><code>    @Async\n    void doAction(...) {\n</code></pre>\n<p>Now we implement some lib, that has a map of actors, and it code smth like this:</p>\n<pre><code>    var actor = actorMap.get(&quot;actorName&quot;);\n    actor.doAction(...);\n</code></pre>\n<p>And @Async doesn't work, cause particular actor is not a proxy, but a real instance.  But we keep fighting.  Lets proxy the call:</p>\n<pre><code>  ProxyFactory factory = new ProxyFactory(actor);\n  factory.addInterface(Actor.class);\n  factory.addAdvisor(new AsyncAnnotationAdvisor());\n\n  var ifaceActor = (Actor) factory.getProxy();\n\n  // this is a method call on the proxy!\n  ifaceActor.doTheAction(update, null, this, session, sender);\n\n</code></pre>\n<p>And this starts to magically work, but I am not sure that the line with factory.addAdvice() is correct enough. Probably, there is a more correct way to get AsyncAdvice, but I failed to google it. (And yes, it is a sample code and I'll reuse adviser object.  More over, I'll try to keep proxy objects, not recreate them always.)</p>\n"},{"tags":["java","rfid"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1671447266,"post_id":74846724,"comment_id":132093810,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"owner":{"account_id":27294719,"reputation":11,"user_id":20812541,"display_name":"Mohnish Kamble"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671448178,"creation_date":1671429460,"question_id":74846724,"body_markdown":"I am working on a RFID fixed reader on Java and I am unable to programmatically get which antenna is reading the tags\r\n\r\nI just want to get which antenna is currently reading the tags and which tag is read by which antenna, in Java.","title":"Get antenna port of RFID fixed reader","body":"<p>I am working on a RFID fixed reader on Java and I am unable to programmatically get which antenna is reading the tags</p>\n<p>I just want to get which antenna is currently reading the tags and which tag is read by which antenna, in Java.</p>\n"},{"tags":["java","null","nested","mapstruct"],"comments":[{"owner":{"account_id":6589671,"reputation":10127,"user_id":5091346,"accept_rate":72,"display_name":"Andrii Abramov"},"score":0,"creation_date":1506604361,"post_id":46469955,"comment_id":79895129,"body_markdown":"There are some typos (error) in the code that you attached, e.g. `customer.getAddress()=.getHouseNumber()`","body":"There are some typos (error) in the code that you attached, e.g. <code>customer.getAddress()=.getHouseNumber()</code>"},{"owner":{"account_id":11870292,"reputation":249,"user_id":8686695,"display_name":"Malathi Damodaran"},"score":0,"creation_date":1506609206,"post_id":46469955,"comment_id":79898614,"body_markdown":"Thank you Andrii. Corrected it.","body":"Thank you Andrii. Corrected it."}],"answers":[{"tags":[],"owner":{"account_id":1128956,"reputation":19765,"user_id":1115491,"display_name":"Filip"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1506978575,"creation_date":1506978575,"answer_id":46533757,"question_id":46469955,"body_markdown":"This is something similar as in [mapstruct/mapstruct#879](https://github.com/mapstruct/mapstruct/issues/879). Currently what you are looking for is not possible.\r\n\r\nA way to do it would be do have an `@AfterMapping` method that will set it back to `null` if the `address.houseNumber` is `null`","title":"MapStruct nested object, create target object only if source element is not null","body":"<p>This is something similar as in <a href=\"https://github.com/mapstruct/mapstruct/issues/879\" rel=\"noreferrer\">mapstruct/mapstruct#879</a>. Currently what you are looking for is not possible.</p>\n\n<p>A way to do it would be do have an <code>@AfterMapping</code> method that will set it back to <code>null</code> if the <code>address.houseNumber</code> is <code>null</code></p>\n"},{"tags":[],"owner":{"account_id":27296725,"reputation":11,"user_id":20814249,"display_name":"Laurens"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671447694,"creation_date":1671447366,"answer_id":74849523,"question_id":46469955,"body_markdown":"You can do this by using nested mappers. \r\nmapCustomerToHouse mapper will use mapHouseNumberToHouseNo mapper to map houseNumber to homeDTO, since they are not the same type.\r\nThe nested mapper will check whether houseNo is null and if so, not instantiate the HomeDTO object:\r\n\r\n    @Mapping(source=&quot;address.houseNumber, target=&quot;homeDTO&quot; )\r\n    void mapCustomerHouse(Customer customer, @MappingTarget  UserDTO userDTO)  ;\r\n\r\n    @Mapping(source=&quot;houseNumber, target=&quot;addressDTO.houseNo&quot; )\r\n    HomeDTO mapHouseNumberToHouseNo(Integer houseNumber)","title":"MapStruct nested object, create target object only if source element is not null","body":"<p>You can do this by using nested mappers.\nmapCustomerToHouse mapper will use mapHouseNumberToHouseNo mapper to map houseNumber to homeDTO, since they are not the same type.\nThe nested mapper will check whether houseNo is null and if so, not instantiate the HomeDTO object:</p>\n<pre><code>@Mapping(source=&quot;address.houseNumber, target=&quot;homeDTO&quot; )\nvoid mapCustomerHouse(Customer customer, @MappingTarget  UserDTO userDTO)  ;\n\n@Mapping(source=&quot;houseNumber, target=&quot;addressDTO.houseNo&quot; )\nHomeDTO mapHouseNumberToHouseNo(Integer houseNumber)\n</code></pre>\n"}],"owner":{"account_id":11870292,"reputation":249,"user_id":8686695,"display_name":"Malathi Damodaran"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3564,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"answer_count":2,"score":5,"last_activity_date":1671448134,"creation_date":1506603964,"question_id":46469955,"body_markdown":"I want to map nested java objects. `Customer.address.houseNumber` to `userDTO.homeDTO.addressDTO.houseNo`.\r\n    \r\n**Expectation:**  If and only if  `Customer.address.houseNumber`  is not null, then create `homeDTO` object under `userDTO`. Otherwise, do not create any target objects.  \r\n\r\n**Problem:**  I have used `&quot;NullValueCheckStrategy.ALWAYS&quot;`in the mapper, but _mapstruct_ is checking if `address` is not null then it creates `homeDTO`. Inside the `address`, the `houseNumber` is `null`. I would like the null check till the `houseNumber` (leaf/last level object) and then create the target objects. \r\n\r\nHow can I achieve this?\r\n    \r\nHere is mapping that I am using. \r\n\r\n    @Mapper( nullValueCheckStrategy = NullValueCheckStrategy.ALWAYS )\r\n    public interface Customer2UserMapper {\r\n\r\n        @Mapping(source=&quot;address.houseNumber&quot;, target=&quot;homeDTO.addressDTO.houseNo&quot; )\r\n        void mapCustomerHouse(Customer customer, @MappingTarget  UserDTO userDTO)  ;\r\n    \r\n    }\r\n    \r\nThe generated code  is in https://github.com/mapstruct/mapstruct/issues/1303\r\n      \r\n\r\n\r\n","title":"MapStruct nested object, create target object only if source element is not null","body":"<p>I want to map nested java objects. <code>Customer.address.houseNumber</code> to <code>userDTO.homeDTO.addressDTO.houseNo</code>.</p>\n<p><strong>Expectation:</strong>  If and only if  <code>Customer.address.houseNumber</code>  is not null, then create <code>homeDTO</code> object under <code>userDTO</code>. Otherwise, do not create any target objects.</p>\n<p><strong>Problem:</strong>  I have used <code>&quot;NullValueCheckStrategy.ALWAYS&quot;</code>in the mapper, but <em>mapstruct</em> is checking if <code>address</code> is not null then it creates <code>homeDTO</code>. Inside the <code>address</code>, the <code>houseNumber</code> is <code>null</code>. I would like the null check till the <code>houseNumber</code> (leaf/last level object) and then create the target objects.</p>\n<p>How can I achieve this?</p>\n<p>Here is mapping that I am using.</p>\n<pre><code>@Mapper( nullValueCheckStrategy = NullValueCheckStrategy.ALWAYS )\npublic interface Customer2UserMapper {\n\n    @Mapping(source=&quot;address.houseNumber&quot;, target=&quot;homeDTO.addressDTO.houseNo&quot; )\n    void mapCustomerHouse(Customer customer, @MappingTarget  UserDTO userDTO)  ;\n\n}\n</code></pre>\n<p>The generated code  is in <a href=\"https://github.com/mapstruct/mapstruct/issues/1303\" rel=\"nofollow noreferrer\">https://github.com/mapstruct/mapstruct/issues/1303</a></p>\n"},{"tags":["java","web-services","jax-rs"],"comments":[{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1671477474,"post_id":74849611,"comment_id":132103489,"body_markdown":"So basically your question is &quot;How do I parse command line args?&quot;. I&#39;m sure you can just google that.","body":"So basically your question is &quot;How do I parse command line args?&quot;. I&#39;m sure you can just google that."}],"owner":{"account_id":15032752,"reputation":29,"user_id":10850275,"display_name":"N.Omar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671447898,"creation_date":1671447898,"question_id":74849611,"body_markdown":"I want to start a Jax-Rs server and the user has to give in the args some paramters.\r\nThoses parameters I need them to initialise the variable metaDatalist that will be after used in the Get service.\r\n\r\n    @Path(&quot;namenode&quot;)\r\n    public class MWNameNode {\r\n\r\n    private List&lt;MWFileMetaData&gt; metaDatalist;\r\n\r\n    @GET\r\n    @Path(&quot;test&quot;)\r\n    public Response getSize() {\r\n    //do Something with metaDatalist;\r\n        System.out.println(&quot;Calling test :)&quot;);\r\n        return Response.ok(//object to return).build();\r\n      }\r\n    }\r\n    public static void main(String[] args) {\r\n    //read args and init the variable metaDatalist\r\n    URI uri = UriBuilder.fromUri(&quot;http://localhost/&quot;).port(12354).build();\r\n        ResourceConfig config = new ResourceConfig(MWNameNode.class);\r\n        GrizzlyHttpServerFactory.createHttpServer(uri, config);\r\n    }\r\n\r\n\r\n\r\nIs there any clean way to do this ?\r\n\r\n","title":"Pass args parameters at the start of a Jax-Rs Server","body":"<p>I want to start a Jax-Rs server and the user has to give in the args some paramters.\nThoses parameters I need them to initialise the variable metaDatalist that will be after used in the Get service.</p>\n<pre><code>@Path(&quot;namenode&quot;)\npublic class MWNameNode {\n\nprivate List&lt;MWFileMetaData&gt; metaDatalist;\n\n@GET\n@Path(&quot;test&quot;)\npublic Response getSize() {\n//do Something with metaDatalist;\n    System.out.println(&quot;Calling test :)&quot;);\n    return Response.ok(//object to return).build();\n  }\n}\npublic static void main(String[] args) {\n//read args and init the variable metaDatalist\nURI uri = UriBuilder.fromUri(&quot;http://localhost/&quot;).port(12354).build();\n    ResourceConfig config = new ResourceConfig(MWNameNode.class);\n    GrizzlyHttpServerFactory.createHttpServer(uri, config);\n}\n</code></pre>\n<p>Is there any clean way to do this ?</p>\n"},{"tags":["java","email","smtp","amazon-ses"],"comments":[{"owner":{"account_id":2731460,"reputation":300,"user_id":2355156,"accept_rate":20,"display_name":"Cristian Veronesi"},"score":0,"creation_date":1671535414,"post_id":74849601,"comment_id":132115491,"body_markdown":"I had a thought. DNS resolves email-smtp.eu-central-1.amazonaws.com to 3 different IP addresses. I remember Java by default has a strong DNS cache. Perhaps what is annoying AWS is that I keep trying to connect to the same IP address for days and days.\n\nI tried to add `-Dsun.net.inetaddr.ttl=60` to JVM command line parameters and a `System.out.println(host+&quot; is &quot;+InetAddress.getByName(host).getHostAddress())` statement just before the transport.connect() to see if the IP address really changes from time to time\n\nDoes this make sense?","body":"I had a thought. DNS resolves email-smtp.eu-central-1.amazonaws.com to 3 different IP addresses. I remember Java by default has a strong DNS cache. Perhaps what is annoying AWS is that I keep trying to connect to the same IP address for days and days.  I tried to add <code>-Dsun.net.inetaddr.ttl=60</code> to JVM command line parameters and a <code>System.out.println(host+&quot; is &quot;+InetAddress.getByName(host).getHostAddress())</code> statement just before the transport.connect() to see if the IP address really changes from time to time  Does this make sense?"}],"owner":{"account_id":2731460,"reputation":300,"user_id":2355156,"accept_rate":20,"display_name":"Cristian Veronesi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671447843,"creation_date":1671447843,"question_id":74849601,"body_markdown":"I have a strange problem with Java 8, Javamail 1.6.2 and Amazon SES.\r\n\r\nI have a plain Java application with a main loop that performs some actions, sends a mail to Amazon SES SMTP service using Javamail, then pauses and then repeat the actions etc.\r\n\r\nThe Javamail code is very simple and it&#39;s almost identical to the Amazon SES example:\r\n\r\nhttps://docs.aws.amazon.com/ses/latest/dg/send-using-smtp-programmatically.html\r\n\r\nMy problem is that after a few days of work every email sending attempt starts to raise a com.sun.mail.util.MailConnectException:\r\n```\r\ncom.sun.mail.util.MailConnectException : Couldn&#39;t connect to host, port: email-smtp.eu-central-1.amazonaws.com, 587; timeout 60000\r\n```\r\nThe strange things are two:\r\n - in the meanwhile, if I separately try to telnet email-smtp.eu-central-1.amazonaws.com 587 from the same host the connection is accepted\r\n - if I restart the application the error disappears and the application starts to work again\r\n\r\nIt seems to me that Amazon SES somehow recognize the application and denies access to it after some days of work. I don&#39;t understand how can it recognize that the connection comes from the same JVM instance.\r\nHow can I completely reset the Javamail enviroment after every email sending?\r\nWhat I&#39;m doing now is just:\r\n\r\n```\r\n// Create a transport.\r\nTransport transport = session.getTransport();\r\ntransport.connect(host, user, password);\r\n\t    \r\n// send the message\r\ntransport.sendMessage (msg, msg.getAllRecipients()) ;\r\n\r\n// close transport\r\ntransport.close() ;\r\n```\r\n\r\nSince there is no `session.close()` method in Javamail\r\n","title":"com.sun.mail.util.MailConnectException after a few days of use with Amazon SES","body":"<p>I have a strange problem with Java 8, Javamail 1.6.2 and Amazon SES.</p>\n<p>I have a plain Java application with a main loop that performs some actions, sends a mail to Amazon SES SMTP service using Javamail, then pauses and then repeat the actions etc.</p>\n<p>The Javamail code is very simple and it's almost identical to the Amazon SES example:</p>\n<p><a href=\"https://docs.aws.amazon.com/ses/latest/dg/send-using-smtp-programmatically.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/ses/latest/dg/send-using-smtp-programmatically.html</a></p>\n<p>My problem is that after a few days of work every email sending attempt starts to raise a com.sun.mail.util.MailConnectException:</p>\n<pre><code>com.sun.mail.util.MailConnectException : Couldn't connect to host, port: email-smtp.eu-central-1.amazonaws.com, 587; timeout 60000\n</code></pre>\n<p>The strange things are two:</p>\n<ul>\n<li>in the meanwhile, if I separately try to telnet email-smtp.eu-central-1.amazonaws.com 587 from the same host the connection is accepted</li>\n<li>if I restart the application the error disappears and the application starts to work again</li>\n</ul>\n<p>It seems to me that Amazon SES somehow recognize the application and denies access to it after some days of work. I don't understand how can it recognize that the connection comes from the same JVM instance.\nHow can I completely reset the Javamail enviroment after every email sending?\nWhat I'm doing now is just:</p>\n<pre><code>// Create a transport.\nTransport transport = session.getTransport();\ntransport.connect(host, user, password);\n        \n// send the message\ntransport.sendMessage (msg, msg.getAllRecipients()) ;\n\n// close transport\ntransport.close() ;\n</code></pre>\n<p>Since there is no <code>session.close()</code> method in Javamail</p>\n"},{"tags":["java","variables","initialization"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":6,"creation_date":1671411537,"post_id":74845473,"comment_id":132087561,"body_markdown":"what do you think would happen if `top3Compland` was empty? Also `test == company` is not the way to comapre Strings in Java","body":"what do you think would happen if <code>top3Compland</code> was empty? Also <code>test == company</code> is not the way to comapre Strings in Java"},{"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"score":1,"creation_date":1671412654,"post_id":74845473,"comment_id":132087678,"body_markdown":"Not the stated problem, but -- if top3Compland has 42 entries, index is computed for the first 41 entries but otherwise ignored; the return value depends only on the last entry, and which entry that might be is arbitrary given hashed keys. This seems like not very useful code.","body":"Not the stated problem, but -- if top3Compland has 42 entries, index is computed for the first 41 entries but otherwise ignored; the return value depends only on the last entry, and which entry that might be is arbitrary given hashed keys. This seems like not very useful code."},{"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"score":1,"creation_date":1671412724,"post_id":74845473,"comment_id":132087685,"body_markdown":"Also also, do not compare strings with `==`.  Use `equals`.","body":"Also also, do not compare strings with <code>==</code>.  Use <code>equals</code>."}],"answers":[{"tags":[],"owner":{"account_id":25091810,"reputation":162,"user_id":18943372,"display_name":"Salvador Palma"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1671411958,"creation_date":1671411958,"answer_id":74845499,"question_id":74845473,"body_markdown":"You do have an initialization in both if/else statements, however this only applies when you enter the foreach loop. When `top3Compland` is empty the program doesn&#39;t enter the loop and the variable `index` is never initialized.","title":"I have a problem with &quot;variable may not have been initialized&quot; despite having an if/else statement (initialization in both cases)","body":"<p>You do have an initialization in both if/else statements, however this only applies when you enter the foreach loop. When <code>top3Compland</code> is empty the program doesn't enter the loop and the variable <code>index</code> is never initialized.</p>\n"}],"owner":{"account_id":23885046,"reputation":19,"user_id":17885291,"display_name":"Student_1899"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1671416589,"answer_count":1,"score":-1,"last_activity_date":1671447437,"creation_date":1671411425,"question_id":74845473,"body_markdown":"    protected int getGewichtung(String company)\r\n    {\r\n        int index;\r\n\r\n        for (HashMap&lt;String,String&gt; i : top3Compland) \r\n        {\r\n            String test = String.join(_name, i.keySet());\r\n            System.out.println(test);\r\n\r\n            if (test == company) \r\n            {\r\n                index = top3Compland.indexOf(i);\r\n                \r\n            } \r\n            else \r\n            {\r\n                index = -5; \r\n            }\r\n        }\r\n        \r\n        return index;\r\n    }\r\n\r\nI have checked with print statements whether it is entering the for-loop at all. But all the keys are being printed out so it does enter it and also the conversion to a string does take place and as I am at first putting only valid strings to the function it also must enter the if statement for sure but if even it doesn&#39;t then it would be enter the else statement and initialize it with a number so it should&#39;t be complaining about the variable &quot;index&quot; possibly not being initialized. What am I overseeing?? Thank you for your help!\r\n\r\nupdated Version: I improved some flaws, but the same error is arising. But I cannot fathom a case in which index is not being initialized...\r\n \r\n\r\n        protected int getGewichtung(String company)\r\n    {\r\n        int index;\r\n\r\n\r\n       \r\n        if (top3Compland.size() &gt; 0 &amp;&amp; top3Compland != null) \r\n        {\r\n            for (HashMap&lt;String,String&gt; i : top3Compland) \r\n            {\r\n                String test = String.join(_name, i.keySet());\r\n                System.out.println(test);\r\n\r\n                if (test.equals(company)) \r\n                {\r\n                    index = top3Compland.indexOf(i);\r\n                \r\n                } \r\n           \r\n            }\r\n        }\r\n        else\r\n        {\r\n            index = -5; //company not found\r\n        }\r\n        return index;\r\n    }","title":"I have a problem with &quot;variable may not have been initialized&quot; despite having an if/else statement (initialization in both cases)","body":"<pre><code>protected int getGewichtung(String company)\n{\n    int index;\n\n    for (HashMap&lt;String,String&gt; i : top3Compland) \n    {\n        String test = String.join(_name, i.keySet());\n        System.out.println(test);\n\n        if (test == company) \n        {\n            index = top3Compland.indexOf(i);\n            \n        } \n        else \n        {\n            index = -5; \n        }\n    }\n    \n    return index;\n}\n</code></pre>\n<p>I have checked with print statements whether it is entering the for-loop at all. But all the keys are being printed out so it does enter it and also the conversion to a string does take place and as I am at first putting only valid strings to the function it also must enter the if statement for sure but if even it doesn't then it would be enter the else statement and initialize it with a number so it should't be complaining about the variable &quot;index&quot; possibly not being initialized. What am I overseeing?? Thank you for your help!</p>\n<p>updated Version: I improved some flaws, but the same error is arising. But I cannot fathom a case in which index is not being initialized...</p>\n<pre><code>    protected int getGewichtung(String company)\n{\n    int index;\n\n\n   \n    if (top3Compland.size() &gt; 0 &amp;&amp; top3Compland != null) \n    {\n        for (HashMap&lt;String,String&gt; i : top3Compland) \n        {\n            String test = String.join(_name, i.keySet());\n            System.out.println(test);\n\n            if (test.equals(company)) \n            {\n                index = top3Compland.indexOf(i);\n            \n            } \n       \n        }\n    }\n    else\n    {\n        index = -5; //company not found\n    }\n    return index;\n}\n</code></pre>\n"},{"tags":["java","oracle","jdbc","prepared-statement"],"comments":[{"owner":{"account_id":1635690,"reputation":150047,"user_id":1509264,"accept_rate":58,"display_name":"MT0"},"score":1,"creation_date":1670928691,"post_id":74783295,"comment_id":131981483,"body_markdown":"**NEVER** use the `sys` or `system` tablespaces or you risk modifying critical parts of the database and making the database unusable. Instead, create a new user and use their schema.","body":"<b>NEVER</b> use the <code>sys</code> or <code>system</code> tablespaces or you risk modifying critical parts of the database and making the database unusable. Instead, create a new user and use their schema."},{"owner":{"account_id":1635690,"reputation":150047,"user_id":1509264,"accept_rate":58,"display_name":"MT0"},"score":0,"creation_date":1670928938,"post_id":74783295,"comment_id":131981580,"body_markdown":"It all looks like it should work. Does it work if you hardcode the bind variable `delete from employee where emp_id=101`? or if you use a named bind variable `delete from employee where emp_id=:emp_id` and `((OraclePreparedStatement) statement).setIntAtName(&quot;emp_id&quot;, 101);`?","body":"It all looks like it should work. Does it work if you hardcode the bind variable <code>delete from employee where emp_id=101</code>? or if you use a named bind variable <code>delete from employee where emp_id=:emp_id</code> and <code>((OraclePreparedStatement) statement).setIntAtName(&quot;emp_id&quot;, 101);</code>?"},{"owner":{"account_id":6389739,"reputation":2892,"user_id":4956336,"display_name":"p3consulting"},"score":0,"creation_date":1670929904,"post_id":74783295,"comment_id":131981877,"body_markdown":"employee table is NOT in the schema SYSTEM and very unlikely that the password is the same as the one of the HR schema, and in HR the correct table name is employees, so difficult to guess what you are trying to do exactly. For me the stacktrace doesn&#39;t correspond to the code, you should get a &quot;table not found&quot; if not no access at all because of the password.","body":"employee table is NOT in the schema SYSTEM and very unlikely that the password is the same as the one of the HR schema, and in HR the correct table name is employees, so difficult to guess what you are trying to do exactly. For me the stacktrace doesn&#39;t correspond to the code, you should get a &quot;table not found&quot; if not no access at all because of the password."},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1670933724,"post_id":74783295,"comment_id":131983231,"body_markdown":"You should use `statement.executeUpdate()`, not `statement.executeUpdate(sql)`","body":"You should use <code>statement.executeUpdate()</code>, not <code>statement.executeUpdate(sql)</code>"}],"answers":[{"tags":[],"owner":{"account_id":17203913,"reputation":1755,"user_id":12454906,"display_name":"SHUBHAM SHEDGE"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671447377,"creation_date":1671447377,"answer_id":74849525,"question_id":74783295,"body_markdown":"Answer :- use statement.executeUpdate(), not statement.executeUpdate(sql)","title":"Exception in thread &quot;main&quot; java.sql.SQLException: ORA-01008: not all variables bound","body":"<p>Answer :- use statement.executeUpdate(), not statement.executeUpdate(sql)</p>\n"}],"owner":{"account_id":17203913,"reputation":1755,"user_id":12454906,"display_name":"SHUBHAM SHEDGE"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":240,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74849525,"answer_count":1,"score":0,"last_activity_date":1671447377,"creation_date":1670926925,"question_id":74783295,"body_markdown":"I am trying to delete record from employee database (Oracle) and I used PreparedStatement interface and its method. The code throws an exception:\r\n\r\n&gt; Exception in thread &quot;main&quot; java.sql.SQLException: ORA-01008: not all\r\n&gt; variables bound\r\n\r\nHere is my code\r\n\r\n```java\r\nClass.forName(&quot;oracle.jdbc.driver.OracleDriver&quot;);\r\n\r\ndbURL = &quot;jbdc:oracle:thin:@localhost:1521:orcl&quot;;\r\nusername = &quot;system&quot;;\r\npassword = &quot;tiger&quot;;\r\n\r\nconnection = DriverManager.getConnection(dbURL, username, password);\r\nSystem.out.println(&quot;Connected Successfully Database &quot;);\r\n\r\nString sql = &quot;delete from employee where emp_id=? &quot;;\r\nstatement = connection.prepareStatement(sql);\r\n\r\nstatement.setInt(1, 101);\r\n\r\nint result = statement.executeUpdate(sql);\r\n\r\nSystem.out.println(result + &quot; record deleted&quot;);\r\n\r\nconnection.close();\r\nSystem.out.println(&quot;Connection Successfully Closed&quot;);\r\n```\r\n\r\nConsole\r\n\r\n```none\r\nConnected Successfully Database \r\nException in thread &quot;main&quot; java.sql.SQLException: ORA-01008: not all variables bound\r\n\tat oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:112)\r\n\tat oracle.jdbc.driver.T4CTTIoer.processError(T4CTTIoer.java:331)\r\n\tat oracle.jdbc.driver.T4CTTIoer.processError(T4CTTIoer.java:288)\r\n\tat oracle.jdbc.driver.T4C8Oall.receive(T4C8Oall.java:743)\r\n\tat oracle.jdbc.driver.T4CPreparedStatement.doOall8(T4CPreparedStatement.java:216)\r\n\tat oracle.jdbc.driver.T4CPreparedStatement.executeForRows(T4CPreparedStatement.java:955)\r\n\tat oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1169)\r\n\tat oracle.jdbc.driver.OracleStatement.executeUpdateInternal(OracleStatement.java:1615)\r\n\tat oracle.jdbc.driver.OracleStatement.executeUpdate(OracleStatement.java:1580)\r\n\tat preparedStatementInterface.AllQueryPgm.deleteData(AllQueryPgm.java:79)\r\n\tat preparedStatementInterface.AllQueryPgm.main(AllQueryPgm.java:132)\r\n```\r\n\r\n","title":"Exception in thread &quot;main&quot; java.sql.SQLException: ORA-01008: not all variables bound","body":"<p>I am trying to delete record from employee database (Oracle) and I used PreparedStatement interface and its method. The code throws an exception:</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.sql.SQLException: ORA-01008: not all\nvariables bound</p>\n</blockquote>\n<p>Here is my code</p>\n<pre class=\"lang-java prettyprint-override\"><code>Class.forName(&quot;oracle.jdbc.driver.OracleDriver&quot;);\n\ndbURL = &quot;jbdc:oracle:thin:@localhost:1521:orcl&quot;;\nusername = &quot;system&quot;;\npassword = &quot;tiger&quot;;\n\nconnection = DriverManager.getConnection(dbURL, username, password);\nSystem.out.println(&quot;Connected Successfully Database &quot;);\n\nString sql = &quot;delete from employee where emp_id=? &quot;;\nstatement = connection.prepareStatement(sql);\n\nstatement.setInt(1, 101);\n\nint result = statement.executeUpdate(sql);\n\nSystem.out.println(result + &quot; record deleted&quot;);\n\nconnection.close();\nSystem.out.println(&quot;Connection Successfully Closed&quot;);\n</code></pre>\n<p>Console</p>\n<pre class=\"lang-none prettyprint-override\"><code>Connected Successfully Database \nException in thread &quot;main&quot; java.sql.SQLException: ORA-01008: not all variables bound\n    at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:112)\n    at oracle.jdbc.driver.T4CTTIoer.processError(T4CTTIoer.java:331)\n    at oracle.jdbc.driver.T4CTTIoer.processError(T4CTTIoer.java:288)\n    at oracle.jdbc.driver.T4C8Oall.receive(T4C8Oall.java:743)\n    at oracle.jdbc.driver.T4CPreparedStatement.doOall8(T4CPreparedStatement.java:216)\n    at oracle.jdbc.driver.T4CPreparedStatement.executeForRows(T4CPreparedStatement.java:955)\n    at oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1169)\n    at oracle.jdbc.driver.OracleStatement.executeUpdateInternal(OracleStatement.java:1615)\n    at oracle.jdbc.driver.OracleStatement.executeUpdate(OracleStatement.java:1580)\n    at preparedStatementInterface.AllQueryPgm.deleteData(AllQueryPgm.java:79)\n    at preparedStatementInterface.AllQueryPgm.main(AllQueryPgm.java:132)\n</code></pre>\n"},{"tags":["java","querydsl"],"answers":[{"tags":[],"owner":{"account_id":15044072,"reputation":853,"user_id":10857795,"display_name":"Johannes Pertl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671447236,"creation_date":1671447236,"answer_id":74849497,"question_id":74842187,"body_markdown":"A `boolean` can be converted to a `BooleanExpression` like that:\r\n\r\n```java\r\nExpressions.asBoolean(isEditor).isTrue();\r\n```","title":"How do I use a method returning a boolean value with QueryDSL?","body":"<p>A <code>boolean</code> can be converted to a <code>BooleanExpression</code> like that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Expressions.asBoolean(isEditor).isTrue();\n</code></pre>\n"}],"owner":{"account_id":15044072,"reputation":853,"user_id":10857795,"display_name":"Johannes Pertl"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74849497,"answer_count":1,"score":1,"last_activity_date":1671447236,"creation_date":1671374092,"question_id":74842187,"body_markdown":"I have an object `message` and an authenticated `user`. I want to only show a message to the authenticated user, if they are the author or have a specific role.\r\n\r\n```java\r\nprivate boolean isEditor(User user){\r\n    // some complex logic\r\n}\r\n\r\nQMessage message = QMessage.message;\r\nUser user = getAuthenticatedUser();\r\nboolean isEditor = isEditor(user);\r\nBooleanExpression canRead = message.author.id.eq(user.getId()).or(isEditor); // isEditor is not working here\r\n```\r\n\r\nI can&#39;t combine the boolean `isEditor` with the BooleanExpression though, is that possible somehow?","title":"How do I use a method returning a boolean value with QueryDSL?","body":"<p>I have an object <code>message</code> and an authenticated <code>user</code>. I want to only show a message to the authenticated user, if they are the author or have a specific role.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private boolean isEditor(User user){\n    // some complex logic\n}\n\nQMessage message = QMessage.message;\nUser user = getAuthenticatedUser();\nboolean isEditor = isEditor(user);\nBooleanExpression canRead = message.author.id.eq(user.getId()).or(isEditor); // isEditor is not working here\n</code></pre>\n<p>I can't combine the boolean <code>isEditor</code> with the BooleanExpression though, is that possible somehow?</p>\n"},{"tags":["java","validation","annotations"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":1,"creation_date":1671448607,"post_id":74849358,"comment_id":132094188,"body_markdown":"The interface approach is what I usually do.","body":"The interface approach is what I usually do."},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":1,"creation_date":1671448703,"post_id":74849358,"comment_id":132094224,"body_markdown":"Note that it&#39;s common to return `true` if the object to check (`dto`) is `null`. That prevents `NullPointerExceptions` if the DTO is `null`. It&#39;s then usually combined with `@NotNull`.","body":"Note that it&#39;s common to return <code>true</code> if the object to check (<code>dto</code>) is <code>null</code>. That prevents <code>NullPointerExceptions</code> if the DTO is <code>null</code>. It&#39;s then usually combined with <code>@NotNull</code>."},{"owner":{"account_id":18670408,"reputation":143,"user_id":13609359,"display_name":"Slevin"},"score":0,"creation_date":1671470589,"post_id":74849358,"comment_id":132101364,"body_markdown":"@RobSpoor, thanks for the response. I will include the check for null.","body":"@RobSpoor, thanks for the response. I will include the check for null."}],"owner":{"account_id":18670408,"reputation":143,"user_id":13609359,"display_name":"Slevin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671446444,"creation_date":1671446444,"question_id":74849358,"body_markdown":"I am adding a custom annotation constraint at class level as follows:\r\n```Java\r\n@PasswordMatch(message = &quot;Given passwords don&#39;t match&quot;)\r\npublic class RegistrationDto {\r\n\r\n    private String password;\r\n    private String passwordConfirmation;\r\n    ...\r\n```\r\n\r\nThe PasswordMatchValidator looks like:\r\n```Java\r\npublic class PasswordMatchValidator implements ConstraintValidator&lt;PasswordMatch, Object&gt; {\r\n\r\n    @Override\r\n    public boolean isValid(Object object, ConstraintValidatorContext context) {\r\n\r\n        RegistrationDto registrationDto = (RegistrationDto) object;\r\n\r\n        String password = registrationDto.getPassword();\r\n        String passwordConfirmation = registrationDto.getPasswordConfirmation();\r\n\r\n       return password.equals(passwordConfirmation);\r\n    }\r\n}\r\n```\r\nThis works fine, as long as I know that the class I am checking is of type RegistrationDto. My question is:\r\n\r\n**How can I generalize this annotation so that I can use it for other dtos as well?**\r\n\r\nMy current approach is to use an interface:\r\n```Java\r\n@PasswordMatch(message = &quot;Given passwords don&#39;t match&quot;)\r\npublic class RegistrationDto implements PasswordMatchCheckable {\r\n\r\n    private String password;\r\n    private String passwordConfirmation;\r\n    ...\r\n```\r\n```Java\r\npublic interface PasswordMatchCheckable {\r\n\r\n    String getPassword();\r\n    String getPasswordConfirmation();\r\n}\r\n```\r\n```Java\r\npublic class PasswordMatchValidator implements ConstraintValidator&lt;PasswordMatch, PasswordMatchCkeckable&gt; {\r\n\r\n    @Override\r\n    public boolean isValid(PasswordMatchCkeckable dto, ConstraintValidatorContext context) {\r\n\r\n        String password = dto.getPassword();\r\n        String passwordConfirmation = dto.getPasswordConfirmation();\r\n\r\n       return password.equals(passwordConfirmation);\r\n    }\r\n}\r\n```\r\n\r\nThis seems to be a bit better, but I&#39;m still not completely convinced.\r\n\r\nIs there a better way to obtain the annotated class and check whether we can perform a password match validation? What can we do with the ConstraintValidatorContext? I couldn&#39;t come up with a cool solution, but I don&#39;t wanna give up until someone tells me that there is no better way.\r\n\r\nMany thanks","title":"How to obtain the validated class with ConstraintValidatorContext","body":"<p>I am adding a custom annotation constraint at class level as follows:</p>\n<pre><code>@PasswordMatch(message = &quot;Given passwords don't match&quot;)\npublic class RegistrationDto {\n\n    private String password;\n    private String passwordConfirmation;\n    ...\n</code></pre>\n<p>The PasswordMatchValidator looks like:</p>\n<pre><code>public class PasswordMatchValidator implements ConstraintValidator&lt;PasswordMatch, Object&gt; {\n\n    @Override\n    public boolean isValid(Object object, ConstraintValidatorContext context) {\n\n        RegistrationDto registrationDto = (RegistrationDto) object;\n\n        String password = registrationDto.getPassword();\n        String passwordConfirmation = registrationDto.getPasswordConfirmation();\n\n       return password.equals(passwordConfirmation);\n    }\n}\n</code></pre>\n<p>This works fine, as long as I know that the class I am checking is of type RegistrationDto. My question is:</p>\n<p><strong>How can I generalize this annotation so that I can use it for other dtos as well?</strong></p>\n<p>My current approach is to use an interface:</p>\n<pre><code>@PasswordMatch(message = &quot;Given passwords don't match&quot;)\npublic class RegistrationDto implements PasswordMatchCheckable {\n\n    private String password;\n    private String passwordConfirmation;\n    ...\n</code></pre>\n<pre><code>public interface PasswordMatchCheckable {\n\n    String getPassword();\n    String getPasswordConfirmation();\n}\n</code></pre>\n<pre><code>public class PasswordMatchValidator implements ConstraintValidator&lt;PasswordMatch, PasswordMatchCkeckable&gt; {\n\n    @Override\n    public boolean isValid(PasswordMatchCkeckable dto, ConstraintValidatorContext context) {\n\n        String password = dto.getPassword();\n        String passwordConfirmation = dto.getPasswordConfirmation();\n\n       return password.equals(passwordConfirmation);\n    }\n}\n</code></pre>\n<p>This seems to be a bit better, but I'm still not completely convinced.</p>\n<p>Is there a better way to obtain the annotated class and check whether we can perform a password match validation? What can we do with the ConstraintValidatorContext? I couldn't come up with a cool solution, but I don't wanna give up until someone tells me that there is no better way.</p>\n<p>Many thanks</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":14549133,"reputation":525,"user_id":10508565,"display_name":"Mieczkoni"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1671446141,"creation_date":1671446141,"answer_id":74849304,"question_id":74848847,"body_markdown":"Following the documentation:\r\n&gt; This method has been deprecated in favor of using the Activity Result API which brings increased type safety via an [ActivityResultContract][1] and the prebuilt contracts for common intents available in [androidx.activity.result.contract.ActivityResultContracts][2], provides hooks for testing, and allow receiving results in separate, testable classes independent from your activity. Use [registerForActivityResult(ActivityResultContract, ActivityResultCallback)][3] passing in a [StartIntentSenderForResult][4] object for the [ActivityResultContract][1].\r\n\r\n\r\n  [1]: https://developer.android.com/reference/androidx/activity/result/contract/ActivityResultContract\r\n  [2]: https://developer.android.com/reference/androidx/activity/result/contract/ActivityResultContracts\r\n  [3]: https://developer.android.com/reference/androidx/activity/ComponentActivity#registerForActivityResult(androidx.activity.result.contract.ActivityResultContract%3CI,O%3E,androidx.activity.result.ActivityResultCallback%3CO%3E)\r\n  [4]: https://developer.android.com/reference/androidx/activity/result/contract/ActivityResultContracts.StartIntentSenderForResult","title":"what is alternative of &#39;startIntentSenderForResult(android.content.IntentSender, int, android.content.Intent, int, int, int)&#39; is deprecated","body":"<p>Following the documentation:</p>\n<blockquote>\n<p>This method has been deprecated in favor of using the Activity Result API which brings increased type safety via an <a href=\"https://developer.android.com/reference/androidx/activity/result/contract/ActivityResultContract\" rel=\"nofollow noreferrer\">ActivityResultContract</a> and the prebuilt contracts for common intents available in <a href=\"https://developer.android.com/reference/androidx/activity/result/contract/ActivityResultContracts\" rel=\"nofollow noreferrer\">androidx.activity.result.contract.ActivityResultContracts</a>, provides hooks for testing, and allow receiving results in separate, testable classes independent from your activity. Use <a href=\"https://developer.android.com/reference/androidx/activity/ComponentActivity#registerForActivityResult(androidx.activity.result.contract.ActivityResultContract%3CI,O%3E,androidx.activity.result.ActivityResultCallback%3CO%3E)\" rel=\"nofollow noreferrer\">registerForActivityResult(ActivityResultContract, ActivityResultCallback)</a> passing in a <a href=\"https://developer.android.com/reference/androidx/activity/result/contract/ActivityResultContracts.StartIntentSenderForResult\" rel=\"nofollow noreferrer\">StartIntentSenderForResult</a> object for the <a href=\"https://developer.android.com/reference/androidx/activity/result/contract/ActivityResultContract\" rel=\"nofollow noreferrer\">ActivityResultContract</a>.</p>\n</blockquote>\n"}],"owner":{"account_id":24081976,"reputation":260,"user_id":18056527,"display_name":"Abhi S"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":355,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671446141,"creation_date":1671443872,"question_id":74848847,"body_markdown":"startIntentSenderForResult(android.content.IntentSender, int, android.content.Intent, int, int, int)&#39; is deprecated\r\nwhich I use alternative","title":"what is alternative of &#39;startIntentSenderForResult(android.content.IntentSender, int, android.content.Intent, int, int, int)&#39; is deprecated","body":"<p>startIntentSenderForResult(android.content.IntentSender, int, android.content.Intent, int, int, int)' is deprecated\nwhich I use alternative</p>\n"},{"tags":["java","validation","spring-boot"],"comments":[{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":1,"creation_date":1520017810,"post_id":49075817,"comment_id":85157474,"body_markdown":"A GET request can&#39;t possibly have a request body.","body":"A GET request can&#39;t possibly have a request body."},{"owner":{"account_id":3533376,"reputation":242,"user_id":2952285,"accept_rate":100,"display_name":"Jun Huh"},"score":0,"creation_date":1520018068,"post_id":49075817,"comment_id":85157590,"body_markdown":"Change it to @PutMapping","body":"Change it to @PutMapping"}],"answers":[{"tags":[],"owner":{"account_id":3533376,"reputation":242,"user_id":2952285,"accept_rate":100,"display_name":"Jun Huh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1520019111,"creation_date":1520018183,"answer_id":49075916,"question_id":49075817,"body_markdown":"It needs to be PUT since you are updating a resource\r\n\r\n    @PutMapping(&quot;/test&quot;)\r\n    public ResponseEntity&lt;String&gt; update(@Validated @RequestBody @Size(min = 2) List&lt;Document&gt; docs) {\r\n        return new ResponseEntity&lt;&gt;(\r\n                &quot;Tested&quot;,\r\n                HttpStatus.OK\r\n        );\r\n    }\r\n\r\nOr \r\n\r\n    public class DocumentRequestDto {\r\n    \r\n        @Valid\r\n        @Size(min = 2)\r\n        private List&lt;Document&gt; documents;\r\n    \r\n        public List&lt;Document&gt; getDocuments() {\r\n            return documents;\r\n        }\r\n        public void setDocuments(List&lt;Document&gt; documents) {\r\n            this.documents = documents;\r\n        }\r\n    }\r\n\r\nAnd controller\r\n\r\n    @PutMapping(&quot;/test&quot;)\r\n    public ResponseEntity&lt;String&gt; update(@RequestBody DocumentRequestDto requestDto) {\r\n        return new ResponseEntity&lt;&gt;(\r\n                &quot;Tested&quot;,\r\n                HttpStatus.OK\r\n        );\r\n    }\r\n","title":"@Size not working in SpringBoot Controller","body":"<p>It needs to be PUT since you are updating a resource</p>\n\n<pre><code>@PutMapping(\"/test\")\npublic ResponseEntity&lt;String&gt; update(@Validated @RequestBody @Size(min = 2) List&lt;Document&gt; docs) {\n    return new ResponseEntity&lt;&gt;(\n            \"Tested\",\n            HttpStatus.OK\n    );\n}\n</code></pre>\n\n<p>Or </p>\n\n<pre><code>public class DocumentRequestDto {\n\n    @Valid\n    @Size(min = 2)\n    private List&lt;Document&gt; documents;\n\n    public List&lt;Document&gt; getDocuments() {\n        return documents;\n    }\n    public void setDocuments(List&lt;Document&gt; documents) {\n        this.documents = documents;\n    }\n}\n</code></pre>\n\n<p>And controller</p>\n\n<pre><code>@PutMapping(\"/test\")\npublic ResponseEntity&lt;String&gt; update(@RequestBody DocumentRequestDto requestDto) {\n    return new ResponseEntity&lt;&gt;(\n            \"Tested\",\n            HttpStatus.OK\n    );\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6220832,"reputation":165,"user_id":4840515,"display_name":"Shirsh Sinha"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1520018728,"creation_date":1520018728,"answer_id":49076029,"question_id":49075817,"body_markdown":"Try not to use requests body like this..better make a pojo or DTO having list as its instance variables and use @Valid annotation and bindingResult to validate any entity. \nThis approach is not scalable.","title":"@Size not working in SpringBoot Controller","body":"<p>Try not to use requests body like this..better make a pojo or DTO having list as its instance variables and use @Valid annotation and bindingResult to validate any entity. \nThis approach is not scalable.</p>\n"},{"tags":[],"owner":{"account_id":12175626,"reputation":332,"user_id":8888796,"display_name":"Heybat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671446064,"creation_date":1671446064,"answer_id":74849287,"question_id":49075817,"body_markdown":"I had the same issue and fixed it by adding @Validated to controller(class) itself","title":"@Size not working in SpringBoot Controller","body":"<p>I had the same issue and fixed it by adding @Validated to controller(class) itself</p>\n"}],"owner":{"account_id":1564647,"reputation":1501,"user_id":1453700,"accept_rate":36,"display_name":"Rajan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4989,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1671446064,"creation_date":1520017725,"question_id":49075817,"body_markdown":"I am trying to validate the size of the list passed in my rest endpoint.\r\n\r\n    @PostMapping(&quot;/test&quot;)\r\n    public ResponseEntity&lt;String&gt; test(@RequestBody @Size(min = 2) List&lt;Document&gt; docs){\r\n            return new ResponseEntity&lt;&gt;(\r\n                    &quot;Tested&quot;,\r\n                    HttpStatus.OK\r\n            );\r\n        }\r\n\r\nLooks like it&#39;s not working. I am getting 200 OK regardless of the number of documents i send in the endpoint. \r\n\r\nDoes anybody knows any way to get it working?\r\n","title":"@Size not working in SpringBoot Controller","body":"<p>I am trying to validate the size of the list passed in my rest endpoint.</p>\n\n<pre><code>@PostMapping(\"/test\")\npublic ResponseEntity&lt;String&gt; test(@RequestBody @Size(min = 2) List&lt;Document&gt; docs){\n        return new ResponseEntity&lt;&gt;(\n                \"Tested\",\n                HttpStatus.OK\n        );\n    }\n</code></pre>\n\n<p>Looks like it's not working. I am getting 200 OK regardless of the number of documents i send in the endpoint. </p>\n\n<p>Does anybody knows any way to get it working?</p>\n"},{"tags":["java","android","android-volley"],"comments":[{"owner":{"account_id":18378745,"reputation":802,"user_id":13387235,"display_name":"Dhruv Sakariya"},"score":0,"creation_date":1671442722,"post_id":74848622,"comment_id":132092426,"body_markdown":"send api response..","body":"send api response.."},{"owner":{"account_id":6672594,"reputation":5516,"user_id":5148289,"accept_rate":58,"display_name":"V-rund Puro-hit"},"score":0,"creation_date":1671449484,"post_id":74848622,"comment_id":132094404,"body_markdown":"API response is JSONObject and you are calling it with JsonArrayRequest. Use JsonObjectRequest instead","body":"API response is JSONObject and you are calling it with JsonArrayRequest. Use JsonObjectRequest instead"},{"owner":{"account_id":26359116,"reputation":585,"user_id":20015640,"display_name":"Urvish Shiroya"},"score":0,"creation_date":1671451145,"post_id":74848622,"comment_id":132094862,"body_markdown":"you can convert **JSONArray** or **JSONObject** from **string response** using **StringRequest**","body":"you can convert <b>JSONArray</b> or <b>JSONObject</b> from <b>string response</b> using <b>StringRequest</b>"}],"owner":{"account_id":20407601,"reputation":1,"user_id":14971801,"display_name":"Ledeni"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671445855,"creation_date":1671442615,"question_id":74848622,"body_markdown":"\r\n**I have a problem with JsonArrayRequest,can&#39;t pull data from the &quot;openweathermap&quot; API, when I do the same thing with StringRequest, it pulls the data without any problem. But it doesn&#39;t work with JsonArrayRequest.**\r\n\r\n\r\n\r\n\r\n\r\n```\r\nbtn_cityID.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n\r\n                // Instantiate the RequestQueue.\r\n                RequestQueue queue = Volley.newRequestQueue(MainActivity.this);\r\n                String apikey = &quot;//&quot;;\r\n                String url = &quot;//&quot;;\r\n\r\n                JsonArrayRequest request = new JsonArrayRequest(Request.Method.GET, url,null, new Response.Listener&lt;JSONArray&gt;() {\r\n                    @Override\r\n                    public void onResponse(JSONArray response){\r\n                        \r\n                        Toast.makeText(MainActivity.this, response.toString(), Toast.LENGTH_SHORT).show();\r\n                    }\r\n                }, new Response.ErrorListener() {\r\n                    @Override\r\n                    public void onErrorResponse(VolleyError error) {\r\n                        Toast.makeText(MainActivity.this, &quot;Unable to fetch data: &quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                });\r\n//             StringRequest stringRequest = new StringRequest(Request.Method.GET, url, new Response.Listener&lt;String&gt;() {\r\n//                    @Override\r\n//                    public void onResponse(String response) {\r\n//\r\n//                        Toast.makeText(MainActivity.this, response, Toast.LENGTH_SHORT).show();\r\n//                    }\r\n//                }, new Response.ErrorListener() {\r\n//                    @Override\r\n//                    public void onErrorResponse(VolleyError error) {\r\n//                        Toast.makeText(MainActivity.this, &quot;Unable to fetch data: &quot;, Toast.LENGTH_SHORT).show();\r\n//                    }\r\n//                });\r\n\r\n\r\n                queue.add(request);\r\n\r\n\r\n            }\r\n        });\r\n```\r\n\r\n**API response:**\r\n\r\n{\r\n    &quot;coord&quot;: {\r\n        &quot;lon&quot;: -0.1257,\r\n        &quot;lat&quot;: 51.5085\r\n    },\r\n    &quot;weather&quot;: [\r\n        {\r\n            &quot;id&quot;: 500,\r\n            &quot;main&quot;: &quot;Rain&quot;,\r\n            &quot;description&quot;: &quot;light rain&quot;,\r\n            &quot;icon&quot;: &quot;10d&quot;\r\n        }\r\n    ],\r\n    &quot;base&quot;: &quot;stations&quot;,\r\n    &quot;main&quot;: {\r\n        &quot;temp&quot;: 285.39,\r\n        &quot;feels_like&quot;: 285.1,\r\n        &quot;temp_min&quot;: 284.32,\r\n        &quot;temp_max&quot;: 286.08,\r\n        &quot;pressure&quot;: 1007,\r\n        &quot;humidity&quot;: 93\r\n    },\r\n    &quot;visibility&quot;: 10000,\r\n    &quot;wind&quot;: {\r\n        &quot;speed&quot;: 7.2,\r\n        &quot;deg&quot;: 210\r\n    },\r\n    &quot;rain&quot;: {\r\n        &quot;1h&quot;: 0.27\r\n    },\r\n    &quot;clouds&quot;: {\r\n        &quot;all&quot;: 100\r\n    },\r\n    &quot;dt&quot;: 1671445217,\r\n    &quot;sys&quot;: {\r\n        &quot;type&quot;: 2,\r\n        &quot;id&quot;: 2075535,\r\n        &quot;country&quot;: &quot;GB&quot;,\r\n        &quot;sunrise&quot;: 1671436957,\r\n        &quot;sunset&quot;: 1671465146\r\n    },\r\n    &quot;timezone&quot;: 0,\r\n    &quot;id&quot;: 2643743,\r\n    &quot;name&quot;: &quot;London&quot;,\r\n    &quot;cod&quot;: 200\r\n}\r\n\r\n\r\n\r\n","title":"JSONArray problem, cant get data, Android Studio","body":"<p><strong>I have a problem with JsonArrayRequest,can't pull data from the &quot;openweathermap&quot; API, when I do the same thing with StringRequest, it pulls the data without any problem. But it doesn't work with JsonArrayRequest.</strong></p>\n<pre><code>btn_cityID.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n\n                // Instantiate the RequestQueue.\n                RequestQueue queue = Volley.newRequestQueue(MainActivity.this);\n                String apikey = &quot;//&quot;;\n                String url = &quot;//&quot;;\n\n                JsonArrayRequest request = new JsonArrayRequest(Request.Method.GET, url,null, new Response.Listener&lt;JSONArray&gt;() {\n                    @Override\n                    public void onResponse(JSONArray response){\n                        \n                        Toast.makeText(MainActivity.this, response.toString(), Toast.LENGTH_SHORT).show();\n                    }\n                }, new Response.ErrorListener() {\n                    @Override\n                    public void onErrorResponse(VolleyError error) {\n                        Toast.makeText(MainActivity.this, &quot;Unable to fetch data: &quot;, Toast.LENGTH_SHORT).show();\n                    }\n                });\n//             StringRequest stringRequest = new StringRequest(Request.Method.GET, url, new Response.Listener&lt;String&gt;() {\n//                    @Override\n//                    public void onResponse(String response) {\n//\n//                        Toast.makeText(MainActivity.this, response, Toast.LENGTH_SHORT).show();\n//                    }\n//                }, new Response.ErrorListener() {\n//                    @Override\n//                    public void onErrorResponse(VolleyError error) {\n//                        Toast.makeText(MainActivity.this, &quot;Unable to fetch data: &quot;, Toast.LENGTH_SHORT).show();\n//                    }\n//                });\n\n\n                queue.add(request);\n\n\n            }\n        });\n</code></pre>\n<p><strong>API response:</strong></p>\n<p>{\n&quot;coord&quot;: {\n&quot;lon&quot;: -0.1257,\n&quot;lat&quot;: 51.5085\n},\n&quot;weather&quot;: [\n{\n&quot;id&quot;: 500,\n&quot;main&quot;: &quot;Rain&quot;,\n&quot;description&quot;: &quot;light rain&quot;,\n&quot;icon&quot;: &quot;10d&quot;\n}\n],\n&quot;base&quot;: &quot;stations&quot;,\n&quot;main&quot;: {\n&quot;temp&quot;: 285.39,\n&quot;feels_like&quot;: 285.1,\n&quot;temp_min&quot;: 284.32,\n&quot;temp_max&quot;: 286.08,\n&quot;pressure&quot;: 1007,\n&quot;humidity&quot;: 93\n},\n&quot;visibility&quot;: 10000,\n&quot;wind&quot;: {\n&quot;speed&quot;: 7.2,\n&quot;deg&quot;: 210\n},\n&quot;rain&quot;: {\n&quot;1h&quot;: 0.27\n},\n&quot;clouds&quot;: {\n&quot;all&quot;: 100\n},\n&quot;dt&quot;: 1671445217,\n&quot;sys&quot;: {\n&quot;type&quot;: 2,\n&quot;id&quot;: 2075535,\n&quot;country&quot;: &quot;GB&quot;,\n&quot;sunrise&quot;: 1671436957,\n&quot;sunset&quot;: 1671465146\n},\n&quot;timezone&quot;: 0,\n&quot;id&quot;: 2643743,\n&quot;name&quot;: &quot;London&quot;,\n&quot;cod&quot;: 200\n}</p>\n"},{"tags":["java","spring","maven"],"comments":[{"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"score":1,"creation_date":1421047490,"post_id":27897104,"comment_id":44194489,"body_markdown":"you need to run it from the same directory where `pom.xml` is placed","body":"you need to run it from the same directory where <code>pom.xml</code> is placed"},{"owner":{"account_id":5377347,"reputation":491,"user_id":4283747,"display_name":"Mikhail Vega"},"score":0,"creation_date":1421047610,"post_id":27897104,"comment_id":44194531,"body_markdown":"everything is placed in the ./hello directory -- the two java files and the pom.xml file","body":"everything is placed in the ./hello directory -- the two java files and the pom.xml file"},{"owner":{"account_id":1626752,"reputation":9002,"user_id":1502148,"accept_rate":25,"display_name":"G&#225;bor Bakos"},"score":3,"creation_date":1421047661,"post_id":27897104,"comment_id":44194553,"body_markdown":"The java files shoule be placed in `./hello/src/main/java/your/packages/of/java/files`.","body":"The java files shoule be placed in <code>.&#47;hello&#47;src&#47;main&#47;java&#47;your&#47;packages&#47;of&#47;java&#47;files</code>."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":4,"creation_date":1421047724,"post_id":27897104,"comment_id":44194576,"body_markdown":"Your pom should be in the root of the project, i.e. where the `src` directory is not in `src/main/java/hello`.","body":"Your pom should be in the root of the project, i.e. where the <code>src</code> directory is not in <code>src&#47;main&#47;java&#47;hello</code>."}],"answers":[{"tags":[],"owner":{"account_id":3150862,"reputation":11755,"user_id":2664350,"display_name":"piet.t"},"down_vote_count":0,"up_vote_count":65,"is_accepted":true,"score":65,"last_activity_date":1421047741,"creation_date":1421047741,"answer_id":27897167,"question_id":27897104,"body_markdown":"To create a maven-project you need\r\n\r\n 1. A project-directory containing the `pom.xml`-file\r\n 2. Within this project-directory a subdirectory `src/main/java` containing your java-code (packages go to subdirectories of `src/main/java`)\r\n\r\nTo invoke maven run `mvn compile` or something similar from the project-directory.","title":"Maven: No sources to compile","body":"<p>To create a maven-project you need</p>\n\n<ol>\n<li>A project-directory containing the <code>pom.xml</code>-file</li>\n<li>Within this project-directory a subdirectory <code>src/main/java</code> containing your java-code (packages go to subdirectories of <code>src/main/java</code>)</li>\n</ol>\n\n<p>To invoke maven run <code>mvn compile</code> or something similar from the project-directory.</p>\n"},{"tags":[],"owner":{"display_name":"user2879704"},"down_vote_count":3,"up_vote_count":7,"is_accepted":false,"score":4,"last_activity_date":1421047830,"creation_date":1421047830,"answer_id":27897184,"question_id":27897104,"body_markdown":"because there are no java files in `$PROJECT_DIR/src/main/java`","title":"Maven: No sources to compile","body":"<p>because there are no java files in <code>$PROJECT_DIR/src/main/java</code></p>\n"},{"tags":[],"owner":{"account_id":5605534,"reputation":46,"user_id":4440287,"display_name":"P.Brian"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1421048033,"creation_date":1421048033,"answer_id":27897220,"question_id":27897104,"body_markdown":"Are you try to compile project or class ? As the guideline in https://spring.io/guides/gs/maven/#scratch you need to compile for project. \r\nTry to run `mvn compile` from project direction.\r\n","title":"Maven: No sources to compile","body":"<p>Are you try to compile project or class ? As the guideline in <a href=\"https://spring.io/guides/gs/maven/#scratch\" rel=\"nofollow\">https://spring.io/guides/gs/maven/#scratch</a> you need to compile for project. \nTry to run <code>mvn compile</code> from project direction.</p>\n"},{"tags":[],"owner":{"account_id":1094163,"reputation":3336,"user_id":7023816,"display_name":"Cameron Hudson"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1614281816,"creation_date":1567697523,"answer_id":57808747,"question_id":27897104,"body_markdown":"In my case, I was missing this:\r\n\r\n    &lt;project&gt;\r\n        ...\r\n        &lt;build&gt;\r\n            &lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\r\n            &lt;testSourceDirectory&gt;test&lt;/testSourceDirectory&gt;\r\n        &lt;/build&gt;\r\n        ...\r\n    &lt;/project&gt;\r\n\r\nNormally, I&#39;d just use the default directory structure \r\n\r\n - `src/main/java` as a `source folder`.\r\n - `src/test/java` as a `test folder`.\r\n\r\n  \r\nBut I&#39;m working on a class project with existing code, and can&#39;t rearrange the file structure.","title":"Maven: No sources to compile","body":"<p>In my case, I was missing this:</p>\n<pre><code>&lt;project&gt;\n    ...\n    &lt;build&gt;\n        &lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\n        &lt;testSourceDirectory&gt;test&lt;/testSourceDirectory&gt;\n    &lt;/build&gt;\n    ...\n&lt;/project&gt;\n</code></pre>\n<p>Normally, I'd just use the default directory structure</p>\n<ul>\n<li><code>src/main/java</code> as a <code>source folder</code>.</li>\n<li><code>src/test/java</code> as a <code>test folder</code>.</li>\n</ul>\n<p>But I'm working on a class project with existing code, and can't rearrange the file structure.</p>\n"},{"tags":[],"owner":{"account_id":27041788,"reputation":1,"user_id":20596533,"display_name":"Ranjith_chary"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1669462961,"creation_date":1669462961,"answer_id":74581854,"question_id":27897104,"body_markdown":"The recommended git tool is: NONE\r\nusing credential fcdbaabd-0a76-4111-876f-f6c6a5dfb89a\r\n &gt; /usr/bin/git rev-parse --resolve-git-dir /var/lib/jenkins/workspace/test3/.git # timeout=10\r\nFetching changes from the remote Git repository\r\n &gt; /usr/bin/git config remote.origin.url https://github.com/Ranjithchary/realme-stand.git # timeout=10\r\nFetching upstream changes from https://github.com/Ranjithchary/realme-stand.git\r\n &gt; /usr/bin/git --version # timeout=10\r\n &gt; git --version # &#39;git version 2.37.1&#39;\r\nusing GIT_ASKPASS to set credentials \r\n &gt; /usr/bin/git fetch --tags --force --progress -- https://github.com/Ranjithchary/realme-stand.git +refs/heads/*:refs/remotes/origin/* # timeout=10\r\n &gt; /usr/bin/git rev-parse refs/remotes/origin/main^{commit} # timeout=10\r\nChecking out Revision a37696f887a202dc75b5e7860709b5fff3467998 (refs/remotes/origin/main)\r\n &gt; /usr/bin/git config core.sparsecheckout # timeout=10\r\n &gt; /usr/bin/git checkout -f a37696f887a202dc75b5e7860709b5fff3467998 # timeout=10\r\nCommit message: &quot;files added&quot;\r\n &gt; /usr/bin/git rev-list --no-walk a37696f887a202dc75b5e7860709b5fff3467998 # timeout=10\r\n[test3] $ mvn mvn install\r\nError: JAVA_HOME is not defined correctly.\r\n  We cannot execute /opt/openjdk-11.0.2_linux-x64/bin/java\r\nBuild step &#39;Invoke top-level Maven targets&#39; marked build as failure\r\nFinished: FAILURE","title":"Maven: No sources to compile","body":"<p>The recommended git tool is: NONE\nusing credential fcdbaabd-0a76-4111-876f-f6c6a5dfb89a</p>\n<blockquote>\n<p>/usr/bin/git rev-parse --resolve-git-dir /var/lib/jenkins/workspace/test3/.git # timeout=10\nFetching changes from the remote Git repository\n/usr/bin/git config remote.origin.url <a href=\"https://github.com/Ranjithchary/realme-stand.git\" rel=\"nofollow noreferrer\">https://github.com/Ranjithchary/realme-stand.git</a> # timeout=10\nFetching upstream changes from <a href=\"https://github.com/Ranjithchary/realme-stand.git\" rel=\"nofollow noreferrer\">https://github.com/Ranjithchary/realme-stand.git</a>\n/usr/bin/git --version # timeout=10\ngit --version # 'git version 2.37.1'\nusing GIT_ASKPASS to set credentials\n/usr/bin/git fetch --tags --force --progress -- <a href=\"https://github.com/Ranjithchary/realme-stand.git\" rel=\"nofollow noreferrer\">https://github.com/Ranjithchary/realme-stand.git</a> +refs/heads/<em>:refs/remotes/origin/</em> # timeout=10\n/usr/bin/git rev-parse refs/remotes/origin/main^{commit} # timeout=10\nChecking out Revision a37696f887a202dc75b5e7860709b5fff3467998 (refs/remotes/origin/main)\n/usr/bin/git config core.sparsecheckout # timeout=10\n/usr/bin/git checkout -f a37696f887a202dc75b5e7860709b5fff3467998 # timeout=10\nCommit message: &quot;files added&quot;\n/usr/bin/git rev-list --no-walk a37696f887a202dc75b5e7860709b5fff3467998 # timeout=10\n[test3] $ mvn mvn install\nError: JAVA_HOME is not defined correctly.\nWe cannot execute /opt/openjdk-11.0.2_linux-x64/bin/java\nBuild step 'Invoke top-level Maven targets' marked build as failure\nFinished: FAILURE</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":27103352,"reputation":1,"user_id":20649565,"display_name":"jacnes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669840626,"creation_date":1669840626,"answer_id":74633883,"question_id":27897104,"body_markdown":"In my case, I had to downgrade JDK version from JDK 18 to JDK 17 (IDE: Apache NetBeans 15)","title":"Maven: No sources to compile","body":"<p>In my case, I had to downgrade JDK version from JDK 18 to JDK 17 (IDE: Apache NetBeans 15)</p>\n"},{"tags":[],"owner":{"account_id":88165,"reputation":1499,"user_id":244051,"display_name":"Erik Finnman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671445440,"creation_date":1671445440,"answer_id":74849164,"question_id":27897104,"body_markdown":"I was adding some Java code to a multi-module Kotlin project and in the top level `pom.xml` the following was defined:\r\n\r\n    &lt;sourceDirectory&gt;${project.basedir}/src/main/kotlin&lt;/sourceDirectory&gt;\r\n    &lt;testSourceDirectory&gt;${project.basedir}/src/test/kotlin&lt;/testSourceDirectory&gt;\r\n\r\nSo the Java code was never detected by Maven until I added the Java directories to the build configuration:\r\n```\r\n    &lt;build&gt;\r\n        &lt;sourceDirectory&gt;${project.basedir}/src/main/java&lt;/sourceDirectory&gt;\r\n        &lt;testSourceDirectory&gt;${project.basedir}/src/test/java&lt;/testSourceDirectory&gt;\r\n...\r\n```","title":"Maven: No sources to compile","body":"<p>I was adding some Java code to a multi-module Kotlin project and in the top level <code>pom.xml</code> the following was defined:</p>\n<pre><code>&lt;sourceDirectory&gt;${project.basedir}/src/main/kotlin&lt;/sourceDirectory&gt;\n&lt;testSourceDirectory&gt;${project.basedir}/src/test/kotlin&lt;/testSourceDirectory&gt;\n</code></pre>\n<p>So the Java code was never detected by Maven until I added the Java directories to the build configuration:</p>\n<pre><code>    &lt;build&gt;\n        &lt;sourceDirectory&gt;${project.basedir}/src/main/java&lt;/sourceDirectory&gt;\n        &lt;testSourceDirectory&gt;${project.basedir}/src/test/java&lt;/testSourceDirectory&gt;\n...\n</code></pre>\n"}],"owner":{"account_id":5377347,"reputation":491,"user_id":4283747,"display_name":"Mikhail Vega"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64270,"favorite_count":0,"down_vote_count":0,"up_vote_count":48,"accepted_answer_id":27897167,"answer_count":7,"score":48,"last_activity_date":1671445440,"creation_date":1421047422,"question_id":27897104,"body_markdown":"I am following the &#39;Build Java Projects with Maven&#39; (https://spring.io/guides/gs/maven/#scratch) and when I run &#39;mvn compile&#39; from /Users/Misha/Desktop/src/main/java/hello, I get this prompt:\r\n\r\n    [INFO] Scanning for projects...   \r\n    [INFO]                                                                                  \r\n    [INFO] ------------------------------------------------------------------------   \r\n    [INFO] Building gs-maven 0.1.0    \r\n    [INFO] ------------------------------------------------------------------------   \r\n    [INFO]    \r\n    [INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ gs-maven ---   \r\n    [INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.   \r\n    [INFO] Copying 3 resources   \r\n    [INFO]    \r\n    [INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ gs-maven ---   \r\n    [INFO] No sources to compile   \r\n    [INFO] ------------------------------------------------------------------------   \r\n    [INFO] BUILD SUCCESS     \r\n    [INFO] ------------------------------------------------------------------------    \r\n    [INFO] Total time: 0.942 s    \r\n    [INFO] Finished at: 2015-01-11T23:10:28-08:00   \r\n    [INFO] Final Memory: 7M/155M\r\n    [INFO] ------------------------------------------------------------------------\r\n\r\n\r\n\r\nI have the two java files and the xml file in the hello directory, and I am assuming that I should see &quot;Hello World!&quot; instead of No sources to compile. Why is my java code not compiling? Thanks!","title":"Maven: No sources to compile","body":"<p>I am following the 'Build Java Projects with Maven' (<a href=\"https://spring.io/guides/gs/maven/#scratch\">https://spring.io/guides/gs/maven/#scratch</a>) and when I run 'mvn compile' from /Users/Misha/Desktop/src/main/java/hello, I get this prompt:</p>\n\n<pre><code>[INFO] Scanning for projects...   \n[INFO]                                                                                  \n[INFO] ------------------------------------------------------------------------   \n[INFO] Building gs-maven 0.1.0    \n[INFO] ------------------------------------------------------------------------   \n[INFO]    \n[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ gs-maven ---   \n[INFO] Using 'UTF-8' encoding to copy filtered resources.   \n[INFO] Copying 3 resources   \n[INFO]    \n[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ gs-maven ---   \n[INFO] No sources to compile   \n[INFO] ------------------------------------------------------------------------   \n[INFO] BUILD SUCCESS     \n[INFO] ------------------------------------------------------------------------    \n[INFO] Total time: 0.942 s    \n[INFO] Finished at: 2015-01-11T23:10:28-08:00   \n[INFO] Final Memory: 7M/155M\n[INFO] ------------------------------------------------------------------------\n</code></pre>\n\n<p>I have the two java files and the xml file in the hello directory, and I am assuming that I should see \"Hello World!\" instead of No sources to compile. Why is my java code not compiling? Thanks!</p>\n"},{"tags":["java","xml-validation","xmlunit","xmlunit-2"],"answers":[{"tags":[],"owner":{"account_id":34671,"reputation":8309,"user_id":98044,"accept_rate":95,"display_name":"Vini"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671445026,"creation_date":1671443709,"answer_id":74848823,"question_id":74848577,"body_markdown":"This is happening because `setIgnoteAttributeOrder` ignores the order of the attributes of a node/element and not the actual order of node/element in the XML document. So, while `&lt;xsd:attribute name=&quot;object_level_ind&quot; type=&quot;Str.1&quot; use=&quot;optional&quot; /&gt;` and `&lt;xsd:attribute  use=&quot;optional&quot; name=&quot;object_level_ind&quot; type=&quot;Str.1&quot; /&gt;` are considered same, the order of the elements is not ignored.\r\n\r\nThis answer here may have more details on how to compare ignoring element order - https://stackoverflow.com/questions/16540318/compare-two-xml-strings-ignoring-element-order\r\n","title":"Compare XML using xmlunit when order of Attributes is different is not working","body":"<p>This is happening because <code>setIgnoteAttributeOrder</code> ignores the order of the attributes of a node/element and not the actual order of node/element in the XML document. So, while <code>&lt;xsd:attribute name=&quot;object_level_ind&quot; type=&quot;Str.1&quot; use=&quot;optional&quot; /&gt;</code> and <code>&lt;xsd:attribute  use=&quot;optional&quot; name=&quot;object_level_ind&quot; type=&quot;Str.1&quot; /&gt;</code> are considered same, the order of the elements is not ignored.</p>\n<p>This answer here may have more details on how to compare ignoring element order - <a href=\"https://stackoverflow.com/questions/16540318/compare-two-xml-strings-ignoring-element-order\">Compare two XML strings ignoring element order</a></p>\n"}],"owner":{"account_id":1588748,"reputation":299,"user_id":1472551,"display_name":"Abhi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":423,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671445026,"creation_date":1671442422,"question_id":74848577,"body_markdown":"I have 2 xmls : Basically two XSD schemas\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;xsd:schema xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;\r\n      &lt;xsd:element name=&quot;my_export_file&quot;&gt;\r\n        &lt;xsd:complexType&gt;\r\n          &lt;xsd:sequence minOccurs=&quot;0&quot; maxOccurs=&quot;unbounded&quot;&gt;\r\n            &lt;xsd:element name=&quot;row&quot;&gt;\r\n              &lt;xsd:complexType&gt;\r\n                &lt;xsd:attributeGroup ref=&quot;rowattr&quot; /&gt;\r\n              &lt;/xsd:complexType&gt;\r\n            &lt;/xsd:element&gt;\r\n          &lt;/xsd:sequence&gt;\r\n          &lt;xsd:attributeGroup ref=&quot;docelattr&quot; /&gt;\r\n        &lt;/xsd:complexType&gt;\r\n      &lt;/xsd:element&gt;\r\n      &lt;xsd:attributeGroup name=&quot;rowattr&quot;&gt;\r\n        &lt;xsd:attribute name=&quot;subject_level_ind&quot; type=&quot;Str.1&quot; use=&quot;optional&quot; /&gt;\r\n        **&lt;xsd:attribute name=&quot;object_level_ind&quot; type=&quot;Str.1&quot; use=&quot;optional&quot; /&gt;**\r\n        &lt;xsd:attribute name=&quot;src_system_id&quot; type=&quot;Str.80&quot; use=&quot;required&quot; /&gt;   \r\n      &lt;/xsd:attributeGroup&gt;\r\n      &lt;xsd:attributeGroup name=&quot;docelattr&quot;&gt;\r\n        &lt;xsd:attribute name=&quot;reporting_date&quot; type=&quot;xsd:string&quot; /&gt;\r\n        &lt;xsd:attribute name=&quot;interface_type&quot; type=&quot;xsd:string&quot; /&gt; \r\n      &lt;/xsd:attributeGroup&gt;\r\n      &lt;xsd:simpleType name=&quot;Str.1&quot;&gt;\r\n        &lt;xsd:restriction base=&quot;xsd:string&quot;&gt;\r\n          &lt;xsd:maxLength value=&quot;1&quot; /&gt;\r\n        &lt;/xsd:restriction&gt;\r\n      &lt;/xsd:simpleType&gt;\r\n        &lt;xsd:simpleType name=&quot;Str.80&quot;&gt;\r\n        &lt;xsd:restriction base=&quot;xsd:string&quot;&gt;\r\n          &lt;xsd:maxLength value=&quot;80&quot; /&gt;\r\n        &lt;/xsd:restriction&gt;\r\n      &lt;/xsd:simpleType&gt;\r\n    &lt;/xsd:schema&gt;\r\n\r\nand\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;xsd:schema xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;\r\n      &lt;xsd:element name=&quot;my_export_file&quot;&gt;\r\n        &lt;xsd:complexType&gt;\r\n          &lt;xsd:sequence minOccurs=&quot;0&quot; maxOccurs=&quot;unbounded&quot;&gt;\r\n            &lt;xsd:element name=&quot;row&quot;&gt;\r\n              &lt;xsd:complexType&gt;\r\n                &lt;xsd:attributeGroup ref=&quot;rowattr&quot; /&gt;\r\n              &lt;/xsd:complexType&gt;\r\n            &lt;/xsd:element&gt;\r\n          &lt;/xsd:sequence&gt;\r\n          &lt;xsd:attributeGroup ref=&quot;docelattr&quot; /&gt;\r\n        &lt;/xsd:complexType&gt;\r\n      &lt;/xsd:element&gt;\r\n      &lt;xsd:attributeGroup name=&quot;rowattr&quot;&gt;\r\n        &lt;xsd:attribute name=&quot;subject_level_ind&quot; type=&quot;Str.1&quot; use=&quot;optional&quot; /&gt;\r\n    \t&lt;xsd:attribute name=&quot;src_system_id&quot; type=&quot;Str.80&quot; use=&quot;required&quot; /&gt;\r\n        **&lt;xsd:attribute name=&quot;object_level_ind&quot; type=&quot;Str.1&quot; use=&quot;optional&quot; /&gt;**       \r\n      &lt;/xsd:attributeGroup&gt;\r\n      &lt;xsd:attributeGroup name=&quot;docelattr&quot;&gt;\r\n        &lt;xsd:attribute name=&quot;reporting_date&quot; type=&quot;xsd:string&quot; /&gt;\r\n        &lt;xsd:attribute name=&quot;interface_type&quot; type=&quot;xsd:string&quot; /&gt; \r\n      &lt;/xsd:attributeGroup&gt;\r\n      &lt;xsd:simpleType name=&quot;Str.1&quot;&gt;\r\n        &lt;xsd:restriction base=&quot;xsd:string&quot;&gt;\r\n          &lt;xsd:maxLength value=&quot;1&quot; /&gt;\r\n        &lt;/xsd:restriction&gt;\r\n      &lt;/xsd:simpleType&gt;\r\n        &lt;xsd:simpleType name=&quot;Str.80&quot;&gt;\r\n        &lt;xsd:restriction base=&quot;xsd:string&quot;&gt;\r\n          &lt;xsd:maxLength value=&quot;80&quot; /&gt;\r\n        &lt;/xsd:restriction&gt;\r\n      &lt;/xsd:simpleType&gt;\r\n    &lt;/xsd:schema&gt;\r\n\r\nI want to compare those and give differences. My code works fine but the only issue is if order of attributes is different it doesn&#39;t treat them as &quot;SIMILAR&quot;. As you can see in the example, my xmls are same with just one change - order of **object_level_ind** is different. I want my code to not return this difference.\r\n\r\n**Code**\r\n\r\n \r\n\r\n    var fis1 = new FileReader(&quot;C:\\\\Users\\\\test1.xsd &quot;);\r\n     var fis2 = new FileReader(&quot;C:\\\\Users\\\\test2.xsd&quot;);\r\n     XMLUnit.setIgnoreWhitespace(true);\r\n     XMLUnit.setIgnoreAttributeOrder(true);\r\n     DetailedDiff diff =  new DetailedDiff(XMLUnit.compareXML(fis1,fis2));\r\n     diff.overrideElementQualifier(new ElementNameAndTextQualifier());\r\n     List&lt;?&gt; allDifferences = diff.getAllDifferences();\r\n     System.out.println(allDifferences);\r\n\r\nI Also tried:\r\n\r\n    DifferenceEvaluator evaluator = DifferenceEvaluators\r\n                    .downgradeDifferencesToEqual(ComparisonType.CHILD_NODELIST_SEQUENCE);\r\n    \r\n            Diff diff = DiffBuilder.compare(fis1)\r\n                    .withTest(fis2).ignoreComments()\r\n                    .ignoreWhitespace()\r\n                    .withNodeMatcher(new DefaultNodeMatcher(ElementSelectors.byName))\r\n                    .withDifferenceEvaluator(evaluator)\r\n                    .checkForSimilar()\r\n                    .build();\r\n            System.out.println(&quot;Differences: &quot; + diff);\r\n\r\nI Also tried solution given in https://stackoverflow.com/questions/35123800/comparing-two-xmls-using-xmlunit-ignorng-their-order\r\n\r\nBut for my xml it gives:\r\n\r\n    identical: false\r\n    similar  : false\r\n\r\nPlease let me know if any pointers.\r\n\r\nBest Regards,\r\n\r\nAbhi\r\n","title":"Compare XML using xmlunit when order of Attributes is different is not working","body":"<p>I have 2 xmls : Basically two XSD schemas</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;xsd:schema xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;\n  &lt;xsd:element name=&quot;my_export_file&quot;&gt;\n    &lt;xsd:complexType&gt;\n      &lt;xsd:sequence minOccurs=&quot;0&quot; maxOccurs=&quot;unbounded&quot;&gt;\n        &lt;xsd:element name=&quot;row&quot;&gt;\n          &lt;xsd:complexType&gt;\n            &lt;xsd:attributeGroup ref=&quot;rowattr&quot; /&gt;\n          &lt;/xsd:complexType&gt;\n        &lt;/xsd:element&gt;\n      &lt;/xsd:sequence&gt;\n      &lt;xsd:attributeGroup ref=&quot;docelattr&quot; /&gt;\n    &lt;/xsd:complexType&gt;\n  &lt;/xsd:element&gt;\n  &lt;xsd:attributeGroup name=&quot;rowattr&quot;&gt;\n    &lt;xsd:attribute name=&quot;subject_level_ind&quot; type=&quot;Str.1&quot; use=&quot;optional&quot; /&gt;\n    **&lt;xsd:attribute name=&quot;object_level_ind&quot; type=&quot;Str.1&quot; use=&quot;optional&quot; /&gt;**\n    &lt;xsd:attribute name=&quot;src_system_id&quot; type=&quot;Str.80&quot; use=&quot;required&quot; /&gt;   \n  &lt;/xsd:attributeGroup&gt;\n  &lt;xsd:attributeGroup name=&quot;docelattr&quot;&gt;\n    &lt;xsd:attribute name=&quot;reporting_date&quot; type=&quot;xsd:string&quot; /&gt;\n    &lt;xsd:attribute name=&quot;interface_type&quot; type=&quot;xsd:string&quot; /&gt; \n  &lt;/xsd:attributeGroup&gt;\n  &lt;xsd:simpleType name=&quot;Str.1&quot;&gt;\n    &lt;xsd:restriction base=&quot;xsd:string&quot;&gt;\n      &lt;xsd:maxLength value=&quot;1&quot; /&gt;\n    &lt;/xsd:restriction&gt;\n  &lt;/xsd:simpleType&gt;\n    &lt;xsd:simpleType name=&quot;Str.80&quot;&gt;\n    &lt;xsd:restriction base=&quot;xsd:string&quot;&gt;\n      &lt;xsd:maxLength value=&quot;80&quot; /&gt;\n    &lt;/xsd:restriction&gt;\n  &lt;/xsd:simpleType&gt;\n&lt;/xsd:schema&gt;\n</code></pre>\n<p>and</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;xsd:schema xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;\n  &lt;xsd:element name=&quot;my_export_file&quot;&gt;\n    &lt;xsd:complexType&gt;\n      &lt;xsd:sequence minOccurs=&quot;0&quot; maxOccurs=&quot;unbounded&quot;&gt;\n        &lt;xsd:element name=&quot;row&quot;&gt;\n          &lt;xsd:complexType&gt;\n            &lt;xsd:attributeGroup ref=&quot;rowattr&quot; /&gt;\n          &lt;/xsd:complexType&gt;\n        &lt;/xsd:element&gt;\n      &lt;/xsd:sequence&gt;\n      &lt;xsd:attributeGroup ref=&quot;docelattr&quot; /&gt;\n    &lt;/xsd:complexType&gt;\n  &lt;/xsd:element&gt;\n  &lt;xsd:attributeGroup name=&quot;rowattr&quot;&gt;\n    &lt;xsd:attribute name=&quot;subject_level_ind&quot; type=&quot;Str.1&quot; use=&quot;optional&quot; /&gt;\n    &lt;xsd:attribute name=&quot;src_system_id&quot; type=&quot;Str.80&quot; use=&quot;required&quot; /&gt;\n    **&lt;xsd:attribute name=&quot;object_level_ind&quot; type=&quot;Str.1&quot; use=&quot;optional&quot; /&gt;**       \n  &lt;/xsd:attributeGroup&gt;\n  &lt;xsd:attributeGroup name=&quot;docelattr&quot;&gt;\n    &lt;xsd:attribute name=&quot;reporting_date&quot; type=&quot;xsd:string&quot; /&gt;\n    &lt;xsd:attribute name=&quot;interface_type&quot; type=&quot;xsd:string&quot; /&gt; \n  &lt;/xsd:attributeGroup&gt;\n  &lt;xsd:simpleType name=&quot;Str.1&quot;&gt;\n    &lt;xsd:restriction base=&quot;xsd:string&quot;&gt;\n      &lt;xsd:maxLength value=&quot;1&quot; /&gt;\n    &lt;/xsd:restriction&gt;\n  &lt;/xsd:simpleType&gt;\n    &lt;xsd:simpleType name=&quot;Str.80&quot;&gt;\n    &lt;xsd:restriction base=&quot;xsd:string&quot;&gt;\n      &lt;xsd:maxLength value=&quot;80&quot; /&gt;\n    &lt;/xsd:restriction&gt;\n  &lt;/xsd:simpleType&gt;\n&lt;/xsd:schema&gt;\n</code></pre>\n<p>I want to compare those and give differences. My code works fine but the only issue is if order of attributes is different it doesn't treat them as &quot;SIMILAR&quot;. As you can see in the example, my xmls are same with just one change - order of <strong>object_level_ind</strong> is different. I want my code to not return this difference.</p>\n<p><strong>Code</strong></p>\n<pre><code>var fis1 = new FileReader(&quot;C:\\\\Users\\\\test1.xsd &quot;);\n var fis2 = new FileReader(&quot;C:\\\\Users\\\\test2.xsd&quot;);\n XMLUnit.setIgnoreWhitespace(true);\n XMLUnit.setIgnoreAttributeOrder(true);\n DetailedDiff diff =  new DetailedDiff(XMLUnit.compareXML(fis1,fis2));\n diff.overrideElementQualifier(new ElementNameAndTextQualifier());\n List&lt;?&gt; allDifferences = diff.getAllDifferences();\n System.out.println(allDifferences);\n</code></pre>\n<p>I Also tried:</p>\n<pre><code>DifferenceEvaluator evaluator = DifferenceEvaluators\n                .downgradeDifferencesToEqual(ComparisonType.CHILD_NODELIST_SEQUENCE);\n\n        Diff diff = DiffBuilder.compare(fis1)\n                .withTest(fis2).ignoreComments()\n                .ignoreWhitespace()\n                .withNodeMatcher(new DefaultNodeMatcher(ElementSelectors.byName))\n                .withDifferenceEvaluator(evaluator)\n                .checkForSimilar()\n                .build();\n        System.out.println(&quot;Differences: &quot; + diff);\n</code></pre>\n<p>I Also tried solution given in <a href=\"https://stackoverflow.com/questions/35123800/comparing-two-xmls-using-xmlunit-ignorng-their-order\">comparing two xmls using xmlunit ignorng their order</a></p>\n<p>But for my xml it gives:</p>\n<pre><code>identical: false\nsimilar  : false\n</code></pre>\n<p>Please let me know if any pointers.</p>\n<p>Best Regards,</p>\n<p>Abhi</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":1853886,"reputation":210597,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"score":5,"creation_date":1350455493,"post_id":12928393,"comment_id":17519599,"body_markdown":"Go through some tutorials. You can start with: - http://docs.oracle.com/javase/tutorial/extra/generics/index.html","body":"Go through some tutorials. You can start with: - <a href=\"http://docs.oracle.com/javase/tutorial/extra/generics/index.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/extra/generics/index.html</a>"},{"owner":{"account_id":1865865,"reputation":2521,"user_id":1689451,"display_name":"Rudolf M&#252;hlbauer"},"score":5,"creation_date":1350455622,"post_id":12928393,"comment_id":17519631,"body_markdown":"I don&#39;t find it bad to ask how a construct is called! +1","body":"I don&#39;t find it bad to ask how a construct is called! +1"}],"answers":[{"tags":[],"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1350455952,"creation_date":1350455450,"answer_id":12928421,"question_id":12928393,"body_markdown":"It means that you **must** send an `ABC` object or a child of `ABC`, no other classes allowed. Also, your `Acd` variable could use the methods in `ABC` class that are visible to the class that contians the `save` method.\r\n\r\nThis is useful when your `T` class extends interfaces. For example, you&#39;re creating a class that handles object array sorting and this class **must** implement tne `Comparable` interface, otherwise the array won&#39;t be allowed:\r\n\r\n    class Class1 implements Comparable&lt;Class1&gt; {\r\n        //attributes, getters and setters...\r\n        int x;\r\n\r\n        //implementing the interface...\r\n        public int compareTo(Class1 c1) {\r\n            //nice implementation of compareTo\r\n            return (this.x &gt; c1.x)? 1 : (this.x &lt; c1.x) ? 0 : -1;\r\n        }\r\n    }\r\n\r\n    class Class2 {\r\n        int x;\r\n    }\r\n\r\n    public class Sorter&lt;T extends Comparable&lt;T&gt;&gt; {\r\n\r\n        public static void insertionSort(T[] array) {\r\n            //good implementation of insertion sort goes here...\r\n            //just to prove that you can use the methods of the Comparable interface...\r\n            array[0].compareTo(array[1]);\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            Class1[] arrC1 = new Class1[5];\r\n            Class2[] arrC2 = new Class2[5];\r\n            //fill the arrays...\r\n            insertionSort(arrC1); //good!\r\n            insertionSort(arrC2); //compiler error!\r\n        }\r\n    }\r\n","title":"What does &lt;T extends mean?","body":"<p>It means that you <strong>must</strong> send an <code>ABC</code> object or a child of <code>ABC</code>, no other classes allowed. Also, your <code>Acd</code> variable could use the methods in <code>ABC</code> class that are visible to the class that contians the <code>save</code> method.</p>\n\n<p>This is useful when your <code>T</code> class extends interfaces. For example, you're creating a class that handles object array sorting and this class <strong>must</strong> implement tne <code>Comparable</code> interface, otherwise the array won't be allowed:</p>\n\n<pre><code>class Class1 implements Comparable&lt;Class1&gt; {\n    //attributes, getters and setters...\n    int x;\n\n    //implementing the interface...\n    public int compareTo(Class1 c1) {\n        //nice implementation of compareTo\n        return (this.x &gt; c1.x)? 1 : (this.x &lt; c1.x) ? 0 : -1;\n    }\n}\n\nclass Class2 {\n    int x;\n}\n\npublic class Sorter&lt;T extends Comparable&lt;T&gt;&gt; {\n\n    public static void insertionSort(T[] array) {\n        //good implementation of insertion sort goes here...\n        //just to prove that you can use the methods of the Comparable interface...\n        array[0].compareTo(array[1]);\n    }\n\n    public static void main(String[] args) {\n        Class1[] arrC1 = new Class1[5];\n        Class2[] arrC2 = new Class2[5];\n        //fill the arrays...\n        insertionSort(arrC1); //good!\n        insertionSort(arrC2); //compiler error!\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1616735,"reputation":983,"user_id":1494219,"accept_rate":25,"display_name":"basar"},"down_vote_count":1,"up_vote_count":50,"is_accepted":true,"score":49,"last_activity_date":1350455480,"creation_date":1350455480,"answer_id":12928427,"question_id":12928393,"body_markdown":"It is called a generic method. This whole concept is called &quot;Generics&quot; in Java. That declaration means T can be any type that is subclass of ABC.","title":"What does &lt;T extends mean?","body":"<p>It is called a generic method. This whole concept is called \"Generics\" in Java. That declaration means T can be any type that is subclass of ABC.</p>\n"},{"tags":[],"owner":{"account_id":1865865,"reputation":2521,"user_id":1689451,"display_name":"Rudolf M&#252;hlbauer"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1350455748,"creation_date":1350455498,"answer_id":12928432,"question_id":12928393,"body_markdown":"This are generics. Generics with Type Bounds!\r\n\r\n[See here for refernce](http://docs.oracle.com/javase/tutorial/java/generics/bounded.html)","title":"What does &lt;T extends mean?","body":"<p>This are generics. Generics with Type Bounds!</p>\n\n<p><a href=\"http://docs.oracle.com/javase/tutorial/java/generics/bounded.html\" rel=\"nofollow\">See here for refernce</a></p>\n"},{"tags":[],"owner":{"account_id":72575,"reputation":40784,"user_id":209513,"accept_rate":100,"display_name":"Subhrajyoti Majumder"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1631234335,"creation_date":1350455529,"answer_id":12928444,"question_id":12928393,"body_markdown":"This is a `generic` save method which excepts parameter T and boolean type where T must be upper bounded by ABC Class. ABC class or any subclass will be accepted.","title":"What does &lt;T extends mean?","body":"<p>This is a <code>generic</code> save method which excepts parameter T and boolean type where T must be upper bounded by ABC Class. ABC class or any subclass will be accepted.</p>\n"},{"tags":[],"owner":{"account_id":1441669,"reputation":10356,"user_id":1361638,"accept_rate":90,"display_name":"Okky"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1350456805,"creation_date":1350456805,"answer_id":12928719,"question_id":12928393,"body_markdown":"Bounded Type Parameters:\r\n\r\nThere may be times when you&#39;ll want to restrict the kinds of types that are allowed to be passed to a type parameter. For example, a method that operates on numbers might only want to accept instances of Number or its subclasses. This is what bounded type parameters are for.\r\n\r\nTo declare a bounded type parameter, list the type parameter&#39;s name, followed by the extends keyword, followed by its upper bound.\r\nExample:\r\n\r\nFollowing example illustrate how extends is used in a general sense to mean either &quot;extends&quot; (as in classes) or &quot;implements&quot; (as in interfaces). This example is Generic method to return the largest of three Comparable objects:\r\n\r\n    public class MaximumTest\r\n    {\r\n       // determines the largest of three Comparable objects\r\n       public static &lt;T extends Comparable&lt;T&gt;&gt; T maximum(T x, T y, T z)\r\n       {                      \r\n          T max = x; // assume x is initially the largest       \r\n          if ( y.compareTo( max ) &gt; 0 ){\r\n             max = y; // y is the largest so far\r\n          }\r\n          if ( z.compareTo( max ) &gt; 0 ){\r\n             max = z; // z is the largest now                 \r\n          }\r\n          return max; // returns the largest object   \r\n       }\r\n       public static void main( String args[] )\r\n       {\r\n          System.out.printf( &quot;Max of %d, %d and %d is %d\\n\\n&quot;, \r\n                       3, 4, 5, maximum( 3, 4, 5 ) );\r\n    \r\n           System.out.printf( &quot;Maxm of %.1f,%.1f and %.1f is %.1f\\n\\n&quot;,\r\n                       6.6, 8.8, 7.7, maximum( 6.6, 8.8, 7.7 ) );\r\n    \r\n           System.out.printf( &quot;Max of %s, %s and %s is %s\\n&quot;,&quot;pear&quot;,\r\n             &quot;apple&quot;, &quot;orange&quot;, maximum( &quot;pear&quot;, &quot;apple&quot;, &quot;orange&quot; ) );\r\n       }\r\n    }\r\n\r\n","title":"What does &lt;T extends mean?","body":"<p>Bounded Type Parameters:</p>\n\n<p>There may be times when you'll want to restrict the kinds of types that are allowed to be passed to a type parameter. For example, a method that operates on numbers might only want to accept instances of Number or its subclasses. This is what bounded type parameters are for.</p>\n\n<p>To declare a bounded type parameter, list the type parameter's name, followed by the extends keyword, followed by its upper bound.\nExample:</p>\n\n<p>Following example illustrate how extends is used in a general sense to mean either \"extends\" (as in classes) or \"implements\" (as in interfaces). This example is Generic method to return the largest of three Comparable objects:</p>\n\n<pre><code>public class MaximumTest\n{\n   // determines the largest of three Comparable objects\n   public static &lt;T extends Comparable&lt;T&gt;&gt; T maximum(T x, T y, T z)\n   {                      \n      T max = x; // assume x is initially the largest       \n      if ( y.compareTo( max ) &gt; 0 ){\n         max = y; // y is the largest so far\n      }\n      if ( z.compareTo( max ) &gt; 0 ){\n         max = z; // z is the largest now                 \n      }\n      return max; // returns the largest object   \n   }\n   public static void main( String args[] )\n   {\n      System.out.printf( \"Max of %d, %d and %d is %d\\n\\n\", \n                   3, 4, 5, maximum( 3, 4, 5 ) );\n\n       System.out.printf( \"Maxm of %.1f,%.1f and %.1f is %.1f\\n\\n\",\n                   6.6, 8.8, 7.7, maximum( 6.6, 8.8, 7.7 ) );\n\n       System.out.printf( \"Max of %s, %s and %s is %s\\n\",\"pear\",\n         \"apple\", \"orange\", maximum( \"pear\", \"apple\", \"orange\" ) );\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8593046,"reputation":1177,"user_id":6447563,"accept_rate":96,"display_name":"sixtytrees"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1539315608,"creation_date":1465573370,"answer_id":37752230,"question_id":12928393,"body_markdown":"This is called generics in Java.  \r\n\r\n[Official explanation][1]:\r\n\r\n&gt; In a nutshell, generics enable types (classes and interfaces) to be parameters when defining classes, interfaces and methods. Much like the more familiar formal parameters used in method declarations, type parameters provide a way for you to re-use the same code with different inputs. The difference is that the inputs to formal parameters are values, while the inputs to type parameters are types.\r\n\r\nInformally:\r\n\r\nStrongly typed languages like Java cause more errors show up at compile time instead of runtime. This is a good thing. But it causes code duplication. To mitigate this generics was added to Java.  \r\n\r\n[1]: https://docs.oracle.com/javase/tutorial/java/generics/why.html","title":"What does &lt;T extends mean?","body":"<p>This is called generics in Java.  </p>\n\n<p><a href=\"https://docs.oracle.com/javase/tutorial/java/generics/why.html\" rel=\"nofollow noreferrer\">Official explanation</a>:</p>\n\n<blockquote>\n  <p>In a nutshell, generics enable types (classes and interfaces) to be parameters when defining classes, interfaces and methods. Much like the more familiar formal parameters used in method declarations, type parameters provide a way for you to re-use the same code with different inputs. The difference is that the inputs to formal parameters are values, while the inputs to type parameters are types.</p>\n</blockquote>\n\n<p>Informally:</p>\n\n<p>Strongly typed languages like Java cause more errors show up at compile time instead of runtime. This is a good thing. But it causes code duplication. To mitigate this generics was added to Java.  </p>\n"},{"tags":[],"owner":{"account_id":7438670,"reputation":991,"user_id":5657159,"display_name":"Uvuvwevwevwe"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1671444935,"creation_date":1558519530,"answer_id":56254313,"question_id":12928393,"body_markdown":"    protected &lt;T extends ABC&gt; T save( T Acd, boolean en) {\r\n        // ...\r\n    }\r\n\r\nIn this function, there are three places where the `T` appears\r\n\r\n - **bounded type parameter**: `&lt;T extends ABC&gt;`\r\n - **returned-type**: `T`\r\n - **parameter**: `T Acd`\r\n\r\nBased on those, I can answer your questions as following\r\n&gt; What does it do?\r\n\r\n`save()` is a generic method that accepts two parameters and one of them has the type of `T` and returns a value of type `T`. `T` is a generic type, that is restricted to `ABC`. The scope of `T` is limited to `save()`.\r\n\r\n&gt; What is these type of method declarations called in Java?\r\n\r\nIMO, the answer should be **bounded type parameters**, instead of **generics**. More about **generics** in Java, you can find [here][1].\r\n\r\nOne more question I would like to add by myself: ***Why do we want such thing?***\r\n&gt; There may be times when you want to restrict the types that can be used as type arguments in a parameterized type. For example, a method that operates on numbers might only want to accept instances of Number or its subclasses. This is what bounded type parameters are for[ \\[1\\]][2].\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/generics/index.html\r\n  [2]: https://docs.oracle.com/javase/tutorial/java/generics/bounded.html","title":"What does &lt;T extends mean?","body":"<pre><code>protected &lt;T extends ABC&gt; T save( T Acd, boolean en) {\n    // ...\n}\n</code></pre>\n<p>In this function, there are three places where the <code>T</code> appears</p>\n<ul>\n<li><strong>bounded type parameter</strong>: <code>&lt;T extends ABC&gt;</code></li>\n<li><strong>returned-type</strong>: <code>T</code></li>\n<li><strong>parameter</strong>: <code>T Acd</code></li>\n</ul>\n<p>Based on those, I can answer your questions as following</p>\n<blockquote>\n<p>What does it do?</p>\n</blockquote>\n<p><code>save()</code> is a generic method that accepts two parameters and one of them has the type of <code>T</code> and returns a value of type <code>T</code>. <code>T</code> is a generic type, that is restricted to <code>ABC</code>. The scope of <code>T</code> is limited to <code>save()</code>.</p>\n<blockquote>\n<p>What is these type of method declarations called in Java?</p>\n</blockquote>\n<p>IMO, the answer should be <strong>bounded type parameters</strong>, instead of <strong>generics</strong>. More about <strong>generics</strong> in Java, you can find <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/index.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>One more question I would like to add by myself: <em><strong>Why do we want such thing?</strong></em></p>\n<blockquote>\n<p>There may be times when you want to restrict the types that can be used as type arguments in a parameterized type. For example, a method that operates on numbers might only want to accept instances of Number or its subclasses. This is what bounded type parameters are for<a href=\"https://docs.oracle.com/javase/tutorial/java/generics/bounded.html\" rel=\"nofollow noreferrer\"> [1]</a>.</p>\n</blockquote>\n"}],"owner":{"account_id":1557687,"reputation":1891,"user_id":1448282,"accept_rate":80,"display_name":"Nigel Thomas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76452,"favorite_count":0,"down_vote_count":2,"up_vote_count":59,"accepted_answer_id":12928427,"answer_count":7,"score":57,"last_activity_date":1671444935,"creation_date":1350455328,"question_id":12928393,"body_markdown":"I have seen a method like shown below:\r\n\r\n    protected &lt;T extends ABC&gt; T save( T Acd, boolean en) {\r\n\r\nWhat does it do? What is these type of method declarations called in Java?","title":"What does &lt;T extends mean?","body":"<p>I have seen a method like shown below:</p>\n\n<pre><code>protected &lt;T extends ABC&gt; T save( T Acd, boolean en) {\n</code></pre>\n\n<p>What does it do? What is these type of method declarations called in Java?</p>\n"},{"tags":["java","project-reactor"],"comments":[{"owner":{"account_id":2747887,"reputation":1764,"user_id":2367906,"accept_rate":73,"display_name":"adnan_e"},"score":0,"creation_date":1670512113,"post_id":74725611,"comment_id":131896169,"body_markdown":"What does `typeService.findType(typeId)` do when no records are found? Does it perhaps return an empty flux?","body":"What does <code>typeService.findType(typeId)</code> do when no records are found? Does it perhaps return an empty flux?"},{"owner":{"account_id":16906630,"reputation":11,"user_id":12226810,"display_name":"mohamed didi"},"score":0,"creation_date":1670570043,"post_id":74725611,"comment_id":131908975,"body_markdown":"@adnan_e typeService.findType(typeId) retunrs a Mon&lt;Type&gt;. Here is its code  :  public Mono&lt;Type&gt; findType(long typeId) {\n        return Mono.defer(()\n                -&gt; Mono.justOrEmpty(doFindType(typeId).orElseThrow(()\n                -&gt; new TypeException(typeId))));\n    }","body":"@adnan_e typeService.findType(typeId) retunrs a Mon&lt;Type&gt;. Here is its code  :  public Mono&lt;Type&gt; findType(long typeId) {         return Mono.defer(()                 -&gt; Mono.justOrEmpty(doFindType(typeId).orElseThrow(()                 -&gt; new TypeException(typeId))));     }"},{"owner":{"account_id":16906630,"reputation":11,"user_id":12226810,"display_name":"mohamed didi"},"score":0,"creation_date":1670570251,"post_id":74725611,"comment_id":131909011,"body_markdown":"doFindType(typeId) rerurns an Optional&lt;Type&gt;","body":"doFindType(typeId) rerurns an Optional&lt;Type&gt;"},{"owner":{"account_id":16906630,"reputation":11,"user_id":12226810,"display_name":"mohamed didi"},"score":0,"creation_date":1670571321,"post_id":74725611,"comment_id":131909271,"body_markdown":"Instead of using flatMapMany(onNext, onError, onComplete), I tried flamMapMany(onNex) combbined with returnOnError(value), I&#39;am surprised that now it only consider the onErrorRetunr operator, the process non longer enter  the faltMapMany operator ! consequently the endponit now always return an error even if the type does exist. Here is the code :","body":"Instead of using flatMapMany(onNext, onError, onComplete), I tried flamMapMany(onNex) combbined with returnOnError(value), I&#39;am surprised that now it only consider the onErrorRetunr operator, the process non longer enter  the faltMapMany operator ! consequently the endponit now always return an error even if the type does exist. Here is the code :"},{"owner":{"account_id":16906630,"reputation":11,"user_id":12226810,"display_name":"mohamed didi"},"score":0,"creation_date":1670571326,"post_id":74725611,"comment_id":131909274,"body_markdown":"public Flux&lt;Type&gt; findProductsByTypeId(long typeId) {\n        return typeService.findType(typeId)\n                .flatMapMany(type -&gt; typeService\n                        .findProductsByTypeId(typeId))\n                .onErrorReturn(new ArrayList&lt;Asset&gt;()\n                        .stream()\n                        .findFirst()\n                        .orElseThrow(() -&gt; new TypeException(typeId)));\n\n    }","body":"public Flux&lt;Type&gt; findProductsByTypeId(long typeId) {         return typeService.findType(typeId)                 .flatMapMany(type -&gt; typeService                         .findProductsByTypeId(typeId))                 .onErrorReturn(new ArrayList&lt;Asset&gt;()                         .stream()                         .findFirst()                         .orElseThrow(() -&gt; new TypeException(typeId)));      }"}],"answers":[{"tags":[],"owner":{"account_id":16906630,"reputation":11,"user_id":12226810,"display_name":"mohamed didi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671444881,"creation_date":1671444881,"answer_id":74849052,"question_id":74725611,"body_markdown":"Apparently project reactor can&#39;t handle more than one flux at time. \r\nInstead of searching the type first, I create a method that check if the type exist (its retun type is a boolean not a flux thats the key point). Accorgind to the check result, I return either the products flux or throw the exception.\r\n\r\nHere is the new code that works for me :\r\n\r\n\r\n    Get(&quot;/products/{typeId}/products&quot;)\r\n    @Operation(description = &quot;Returns the products of the specified type.&quot;)\r\n    @ApiResponse(responseCode = &quot;200&quot;, description = &quot;List of products.&quot;)\r\n    @ApiResponse(responseCode = &quot;404&quot;, description = &quot;type Id does not exist.&quot;)\r\n    @ApiResponse(responseCode = &quot;500&quot;, description = &quot;Internal Error.&quot;)\r\n    public Flux&lt;Asset&gt; findProductsByTypeId(long typeId) {\r\n        return typeExist(typeId)\r\n                ? typeService.findProductsByTypeId(typeId)\r\n                : Flux.error(() -&gt; new TypeException(typeId));\r\n    }","title":"How to make exception handler called from Project Reactor 3 flatMapMany?","body":"<p>Apparently project reactor can't handle more than one flux at time.\nInstead of searching the type first, I create a method that check if the type exist (its retun type is a boolean not a flux thats the key point). Accorgind to the check result, I return either the products flux or throw the exception.</p>\n<p>Here is the new code that works for me :</p>\n<pre><code>Get(&quot;/products/{typeId}/products&quot;)\n@Operation(description = &quot;Returns the products of the specified type.&quot;)\n@ApiResponse(responseCode = &quot;200&quot;, description = &quot;List of products.&quot;)\n@ApiResponse(responseCode = &quot;404&quot;, description = &quot;type Id does not exist.&quot;)\n@ApiResponse(responseCode = &quot;500&quot;, description = &quot;Internal Error.&quot;)\npublic Flux&lt;Asset&gt; findProductsByTypeId(long typeId) {\n    return typeExist(typeId)\n            ? typeService.findProductsByTypeId(typeId)\n            : Flux.error(() -&gt; new TypeException(typeId));\n}\n</code></pre>\n"}],"owner":{"account_id":16906630,"reputation":11,"user_id":12226810,"display_name":"mohamed didi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1671444881,"creation_date":1670474583,"question_id":74725611,"body_markdown":"In the following code, I want to get the list of products for the specified type Id.\r\nIf the specified type does not exist, I want to return a 404 code as response for the request.\r\n\r\nEndpoint :\r\n\r\n```\r\nGet(&quot;/products/{typeId}/products&quot;)\r\n@Operation(description = &quot;Returns the products of the specified type.&quot;)\r\n@ApiResponse(responseCode = &quot;200&quot;, description = &quot;List of products.&quot;)\r\n@ApiResponse(responseCode = &quot;404&quot;, description = &quot;type Id does not exist.&quot;)\r\n@ApiResponse(responseCode = &quot;500&quot;, description = &quot;Internal Error.&quot;)\r\npublic Flux&lt;Asset&gt; findProductsByTypeId(long typeId) {\r\n    return typeService.findType(typeId)\r\n            .flatMapMany(\r\n                    type -&gt; {\r\n                        LOGGER.info(&quot;On success!&quot;);\r\n                        return typeService.findProductsByTypeId(typeId);\r\n                    },\r\n                    error -&gt; {\r\n                        LOGGER.info(&quot;On error!&quot;);\r\n                        Flux.error(() -&gt; new TypeException(typeId)); \r\n                    },\r\n                    null);\r\n}\r\n```\r\n\r\nException handler :\r\n\r\n\r\n```\r\n@Singleton\r\n@Requires(classes = TypeException.class)\r\npublic class TypeExceptionHandler implements ExceptionHandler&lt;TypeException, HttpResponse&lt;JsonError&gt;&gt; {\r\n    @Override\r\n    public HttpResponse&lt;JsonError&gt; handle(HttpRequest request, TypeException exception) {\r\n        return HttpResponse.&lt;JsonError&gt;notFound(new JsonError(exception.getMessage())\r\n                .link(Link.SELF, Link.of(request.getUri())));\r\n    }\r\n}\r\n```\r\n\r\n\r\nIn case that the type exist, the result is as expected (200 code with the products list), but when the type \r\ndoes not exist, the exception does not trigger the expected response code (404).\r\n\r\nI tried to replace \r\n\r\n    Flux.error(() -&gt; new TypeException(typeId));\r\n\r\nby \r\n\r\n    throw new TypeException(typeId);\r\n\r\nbut it got the same result\r\n","title":"How to make exception handler called from Project Reactor 3 flatMapMany?","body":"<p>In the following code, I want to get the list of products for the specified type Id.\nIf the specified type does not exist, I want to return a 404 code as response for the request.</p>\n<p>Endpoint :</p>\n<pre><code>Get(&quot;/products/{typeId}/products&quot;)\n@Operation(description = &quot;Returns the products of the specified type.&quot;)\n@ApiResponse(responseCode = &quot;200&quot;, description = &quot;List of products.&quot;)\n@ApiResponse(responseCode = &quot;404&quot;, description = &quot;type Id does not exist.&quot;)\n@ApiResponse(responseCode = &quot;500&quot;, description = &quot;Internal Error.&quot;)\npublic Flux&lt;Asset&gt; findProductsByTypeId(long typeId) {\n    return typeService.findType(typeId)\n            .flatMapMany(\n                    type -&gt; {\n                        LOGGER.info(&quot;On success!&quot;);\n                        return typeService.findProductsByTypeId(typeId);\n                    },\n                    error -&gt; {\n                        LOGGER.info(&quot;On error!&quot;);\n                        Flux.error(() -&gt; new TypeException(typeId)); \n                    },\n                    null);\n}\n</code></pre>\n<p>Exception handler :</p>\n<pre><code>@Singleton\n@Requires(classes = TypeException.class)\npublic class TypeExceptionHandler implements ExceptionHandler&lt;TypeException, HttpResponse&lt;JsonError&gt;&gt; {\n    @Override\n    public HttpResponse&lt;JsonError&gt; handle(HttpRequest request, TypeException exception) {\n        return HttpResponse.&lt;JsonError&gt;notFound(new JsonError(exception.getMessage())\n                .link(Link.SELF, Link.of(request.getUri())));\n    }\n}\n</code></pre>\n<p>In case that the type exist, the result is as expected (200 code with the products list), but when the type\ndoes not exist, the exception does not trigger the expected response code (404).</p>\n<p>I tried to replace</p>\n<pre><code>Flux.error(() -&gt; new TypeException(typeId));\n</code></pre>\n<p>by</p>\n<pre><code>throw new TypeException(typeId);\n</code></pre>\n<p>but it got the same result</p>\n"},{"tags":["java","spring","request-mapping"],"owner":{"account_id":27271042,"reputation":1,"user_id":20792348,"display_name":"Jt-"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671444686,"creation_date":1671425185,"question_id":74846369,"body_markdown":"Ideally request parameters should be case insensitive.\r\n\r\nHow can request parameters with hyphens be mapped to a java `POJO` without extending `ServletModelAttributeMethodProcessor` in Spring Web `MVC`?\r\n\r\nTried some common solution:\r\nhttps://stackoverflow.com/questions/33924200/mapping-url-parameters-with-dashes-to-object-in-spring-web-mvc/74846315#74846315\r\n\r\nThis works fine.\r\n\r\nTrying to find some other workaround..... ","title":"Mapping URL parameters with hyphens to object in Spring Web MVC without extending ServletModelAttributeMethodProcessor","body":"<p>Ideally request parameters should be case insensitive.</p>\n<p>How can request parameters with hyphens be mapped to a java <code>POJO</code> without extending <code>ServletModelAttributeMethodProcessor</code> in Spring Web <code>MVC</code>?</p>\n<p>Tried some common solution:\n<a href=\"https://stackoverflow.com/questions/33924200/mapping-url-parameters-with-dashes-to-object-in-spring-web-mvc/74846315#74846315\">Mapping URL parameters with dashes to object in Spring Web MVC</a></p>\n<p>This works fine.</p>\n<p>Trying to find some other workaround.....</p>\n"},{"tags":["java","controller","aws-ssm","elixir-jason"],"comments":[{"owner":{"account_id":7788702,"reputation":836,"user_id":5892518,"display_name":"Harsh"},"score":0,"creation_date":1671444171,"post_id":74848883,"comment_id":132092855,"body_markdown":"You are missing `content-type` header while sending request, also for your consistency, add `@consumes` annotation as well in the controller","body":"You are missing <code>content-type</code> header while sending request, also for your consistency, add <code>@consumes</code> annotation as well in the controller"},{"owner":{"account_id":22703321,"reputation":1,"user_id":16870430,"display_name":"pickle"},"score":0,"creation_date":1671453954,"post_id":74848883,"comment_id":132095636,"body_markdown":"doesn&#39;s work,it return the same error message.","body":"doesn&#39;s work,it return the same error message."},{"owner":{"account_id":22703321,"reputation":1,"user_id":16870430,"display_name":"pickle"},"score":0,"creation_date":1671461018,"post_id":74848883,"comment_id":132097924,"body_markdown":"I added a&lt;packaging&gt;war&lt;/packaging&gt;to the pom file, which successfully solved the problem","body":"I added a&lt;packaging&gt;war&lt;/packaging&gt;to the pom file, which successfully solved the problem"},{"owner":{"account_id":7788702,"reputation":836,"user_id":5892518,"display_name":"Harsh"},"score":0,"creation_date":1671511422,"post_id":74848883,"comment_id":132109677,"body_markdown":"since that wasn&#39;t mentioned in the POM you posted, could not see it but a similar issue has been due to what I also mentioned","body":"since that wasn&#39;t mentioned in the POM you posted, could not see it but a similar issue has been due to what I also mentioned"}],"owner":{"account_id":22703321,"reputation":1,"user_id":16870430,"display_name":"pickle"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671444049,"creation_date":1671444049,"question_id":74848883,"body_markdown":"I tried to write an SSM project, but when I used the Controller to return my custom object, it gave me a No converter for [class cn.pickle.entiry.Student] with preset Content-Type &#39;null&#39;]\r\n\r\nerror message\r\n\r\n\r\n```\r\n19-Dec-2022 17:43:13.011 警告 [http-nio-8080-exec-6] org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver.logException Resolved [org.springframework.http.converter.HttpMessageNotWritableException: No converter for [class cn.pickle.entiry.Student] with preset Content-Type &#39;null&#39;]\r\n```\r\n\r\n\r\n\r\nreturned object\r\n\r\n```java\r\n@Getter\r\n@Setter\r\npublic class Student {\r\n    private int age;\r\n    private String name;\r\n}\r\n```\r\nmycontroller\r\n```java\r\n\r\n@RestController\r\n@RequestMapping(value = &quot;/demo&quot;)\r\npublic class demo {\r\n    @GetMapping(value = &quot;/demo2&quot;,produces = {MediaType.APPLICATION_JSON_VALUE})\r\n    public Student demo2(){\r\n        final Student student = new Student();\r\n        student.setAge(11);\r\n        student.setName(&quot;pickle&quot;);\r\n        return student;\r\n    }\r\n}\r\n```\r\n\r\n\r\npartial pom.xml\r\n\r\n```xml\r\n&lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n        &lt;version&gt;1.18.24&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n        &lt;version&gt;5.3.20&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n        &lt;version&gt;5.3.20&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\r\n        &lt;version&gt;5.3.20&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\r\n        &lt;version&gt;5.3.20&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n        &lt;version&gt;2.14.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```\r\n\r\n\r\nI use \r\n```\r\n&lt;mvc:annotation-driven/&gt;\r\n```\r\nin springmvc-config.xml, but it doesn&#39;t work;\r\n\r\n\r\n\r\n```\r\nHow can I return the Object directly from the controller\r\n```\r\n","title":"SpringMvc No converter fo * with persent Content-Type &#39;null&#39;","body":"<p>I tried to write an SSM project, but when I used the Controller to return my custom object, it gave me a No converter for [class cn.pickle.entiry.Student] with preset Content-Type 'null']</p>\n<p>error message</p>\n<pre><code>19-Dec-2022 17:43:13.011 警告 [http-nio-8080-exec-6] org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver.logException Resolved [org.springframework.http.converter.HttpMessageNotWritableException: No converter for [class cn.pickle.entiry.Student] with preset Content-Type 'null']\n</code></pre>\n<p>returned object</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\n@Setter\npublic class Student {\n    private int age;\n    private String name;\n}\n</code></pre>\n<p>mycontroller</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@RestController\n@RequestMapping(value = &quot;/demo&quot;)\npublic class demo {\n    @GetMapping(value = &quot;/demo2&quot;,produces = {MediaType.APPLICATION_JSON_VALUE})\n    public Student demo2(){\n        final Student student = new Student();\n        student.setAge(11);\n        student.setName(&quot;pickle&quot;);\n        return student;\n    }\n}\n</code></pre>\n<p>partial pom.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;version&gt;1.18.24&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n        &lt;version&gt;5.3.20&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n        &lt;version&gt;5.3.20&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\n        &lt;version&gt;5.3.20&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\n        &lt;version&gt;5.3.20&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n        &lt;version&gt;2.14.0&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>I use</p>\n<pre><code>&lt;mvc:annotation-driven/&gt;\n</code></pre>\n<p>in springmvc-config.xml, but it doesn't work;</p>\n<pre><code>How can I return the Object directly from the controller\n</code></pre>\n"},{"tags":["java","string","compare"],"comments":[{"owner":{"account_id":3415144,"reputation":23576,"user_id":2864275,"display_name":"Iłya Bursov"},"score":0,"creation_date":1671380786,"post_id":74842837,"comment_id":132082726,"body_markdown":"`valid = email.contains(&quot;@&quot;) &amp;&amp; (email.ends(&quot;.com&quot;) || email.ends(&quot;.ca&quot;)); if (!valid)...`","body":"<code>valid = email.contains(&quot;@&quot;) &amp;&amp; (email.ends(&quot;.com&quot;) || email.ends(&quot;.ca&quot;)); if (!valid)...</code>"},{"owner":{"account_id":23616176,"reputation":1,"user_id":17650245,"display_name":"naz192"},"score":0,"creation_date":1671381247,"post_id":74842837,"comment_id":132082812,"body_markdown":"is valid going to be a boolean type?","body":"is valid going to be a boolean type?"},{"owner":{"account_id":3415144,"reputation":23576,"user_id":2864275,"display_name":"Iłya Bursov"},"score":0,"creation_date":1671381711,"post_id":74842837,"comment_id":132082933,"body_markdown":"yes, result of condition is boolean","body":"yes, result of condition is boolean"}],"answers":[{"tags":[],"owner":{"account_id":25311212,"reputation":1,"user_id":19133923,"display_name":"Sergey Korotaev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671383793,"creation_date":1671383793,"answer_id":74843158,"question_id":74842837,"body_markdown":"You need to change a logic operation. || instead &amp;&amp;.\r\n\r\n      while (!email.contains(&quot;@&quot;) || !email.endsWith(&quot;.com&quot;) || !email.endsWith(&quot;.ca&quot;))\r\n    {\r\n       System. out.println(&quot;Your email is not valid&quot;);\r\n      return;\r\n    }\r\nin your case, if you have @ but haven&#39;t .com (for example) then you&#39;ll get false in result (because of &amp;&amp;) and your cycle will finish.","title":"How to use AND in two string methods","body":"<p>You need to change a logic operation. || instead &amp;&amp;.</p>\n<pre><code>  while (!email.contains(&quot;@&quot;) || !email.endsWith(&quot;.com&quot;) || !email.endsWith(&quot;.ca&quot;))\n{\n   System. out.println(&quot;Your email is not valid&quot;);\n  return;\n}\n</code></pre>\n<p>in your case, if you have @ but haven't .com (for example) then you'll get false in result (because of &amp;&amp;) and your cycle will finish.</p>\n"}],"owner":{"account_id":23616176,"reputation":1,"user_id":17650245,"display_name":"naz192"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1671443956,"creation_date":1671380362,"question_id":74842837,"body_markdown":"Here when I try to execute the program it works only with @ but it doesn&#39;t check for .com or .ca. How should I fix this? \r\n```\r\nSystem. out.println(&quot;Enter your email:&quot;);\r\nemail = input.next();\r\nwhile (!email.contains(&quot;@&quot;) &amp;&amp; !email.endsWith(&quot;.com&quot;) || !email.contains(&quot;@&quot;) &amp;&amp; !email.endsWith(&quot;.ca&quot;))\r\n{\r\n    System. out.println(&quot;Your email is not valid&quot;);\r\n    return;\r\n}\r\n```\r\n\r\n\r\nBasically my email should contain both @ and `.com` or @ and `.ca`, Otherwise email is invalid will be shown.","title":"How to use AND in two string methods","body":"<p>Here when I try to execute the program it works only with @ but it doesn't check for .com or .ca. How should I fix this?</p>\n<pre><code>System. out.println(&quot;Enter your email:&quot;);\nemail = input.next();\nwhile (!email.contains(&quot;@&quot;) &amp;&amp; !email.endsWith(&quot;.com&quot;) || !email.contains(&quot;@&quot;) &amp;&amp; !email.endsWith(&quot;.ca&quot;))\n{\n    System. out.println(&quot;Your email is not valid&quot;);\n    return;\n}\n</code></pre>\n<p>Basically my email should contain both @ and <code>.com</code> or @ and <code>.ca</code>, Otherwise email is invalid will be shown.</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":18757259,"reputation":1751,"user_id":13676960,"display_name":"Hopey One"},"score":0,"creation_date":1671089620,"post_id":74807284,"comment_id":132023603,"body_markdown":"The error is telling you your request headers sent to the server by the client web browser has an accept header that doesn&#39;t match what you are attempting to put in the response. Use the developer tools in your browser to inspect the request sent to the server. You most likely need to add the correct mime type to the request header in your front-end code.","body":"The error is telling you your request headers sent to the server by the client web browser has an accept header that doesn&#39;t match what you are attempting to put in the response. Use the developer tools in your browser to inspect the request sent to the server. You most likely need to add the correct mime type to the request header in your front-end code."}],"owner":{"account_id":26295695,"reputation":117,"user_id":19961979,"display_name":"testjava dev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671443845,"creation_date":1671083328,"question_id":74807284,"body_markdown":"I&#39;m sending the resourceAsStream to the front-end and the code works in one project but failed in another\r\n\r\n    The failed one shows the error - &quot;The resource identified by this request is only capable \r\n     of generating responses with characteristics not acceptable according to the request \r\n    &quot;accept&quot; headers.&quot;\r\n    \r\n    return new ResponseEntity&lt;&gt;(byteArray, headers, HttpStatus.OK)\r\n   \r\nBoth of them are spring project.\r\n\r\nPlease let me know why I am getting the above error in one of the project.\r\n","title":"Error on Displaying Image in Spring Project","body":"<p>I'm sending the resourceAsStream to the front-end and the code works in one project but failed in another</p>\n<pre><code>The failed one shows the error - &quot;The resource identified by this request is only capable \n of generating responses with characteristics not acceptable according to the request \n&quot;accept&quot; headers.&quot;\n\nreturn new ResponseEntity&lt;&gt;(byteArray, headers, HttpStatus.OK)\n</code></pre>\n<p>Both of them are spring project.</p>\n<p>Please let me know why I am getting the above error in one of the project.</p>\n"},{"tags":["java","spring","spring-boot","maven","gradle"],"comments":[{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1671445634,"post_id":74848843,"comment_id":132093330,"body_markdown":"You should let Spring Boot manage the dependency versions of Spring (and other libraries), not specify them yourself. For example, Spring Boot 2.2.13.RELEASE uses Spring 5.2.12.RELEASE. If you want to use a newer Spring version, you should also change your Spring Boot version. Likely your Spring Boot version tries to call a method from Spring 5.2 that no longer exists in Spring 5.3.","body":"You should let Spring Boot manage the dependency versions of Spring (and other libraries), not specify them yourself. For example, Spring Boot 2.2.13.RELEASE uses Spring 5.2.12.RELEASE. If you want to use a newer Spring version, you should also change your Spring Boot version. Likely your Spring Boot version tries to call a method from Spring 5.2 that no longer exists in Spring 5.3."},{"owner":{"account_id":7788702,"reputation":836,"user_id":5892518,"display_name":"Harsh"},"score":0,"creation_date":1671446734,"post_id":74848843,"comment_id":132093651,"body_markdown":"Correct your dependencies, some might be clashing or duplicate, hence the issue","body":"Correct your dependencies, some might be clashing or duplicate, hence the issue"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1671447004,"post_id":74848843,"comment_id":132093735,"body_markdown":"You are using SPring Boot 2.2 which is old, you cannot upgrade a major version of SPring inside Spring Boot as that will lead to incompatible classes (as you noticed). Instead upgrade Spring Boot to 2.7.6 (which is the latest and includes the proper fixes). Quickly looking at your dependencies is that you define all the versions yourself, which kind of beats the purpose of the starter dependencies and lets you run the risk of including incompatible versions of modules.","body":"You are using SPring Boot 2.2 which is old, you cannot upgrade a major version of SPring inside Spring Boot as that will lead to incompatible classes (as you noticed). Instead upgrade Spring Boot to 2.7.6 (which is the latest and includes the proper fixes). Quickly looking at your dependencies is that you define all the versions yourself, which kind of beats the purpose of the starter dependencies and lets you run the risk of including incompatible versions of modules."}],"owner":{"account_id":13632911,"reputation":43,"user_id":9834612,"display_name":"Romano"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":702,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671443844,"creation_date":1671443844,"question_id":74848843,"body_markdown":"I am trying to upgrade Spring dependency jars without upgrading the Spring Boot version in my project to fix some of CVE&#39;s reported.\r\n\r\nSo i am trying to upgrade the Spring dependencies to v5.3.24 . While the build seems to be fine, when i run the application, Spring Boot fails with below error.\r\n\r\nI know i could only adjust Spring dependencie&#39;s version, but not spring boot. Appreciate any help to fix this.\r\n\r\n    ***************************\r\n    APPLICATION FAILED TO START\r\n    ***************************\r\n    \r\n    Description:\r\n    \r\n    An attempt was made to call a method that does not exist. The attempt was made from the following location:\r\n    \r\n        org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$EnableWebMvcConfiguration.resourceHandlerMapping(WebMvcAutoConfiguration.java:377)\r\n    \r\n    The following method did not exist:\r\n    \r\n        org.springframework.web.servlet.config.annotation.DelegatingWebMvcConfiguration.resourceHandlerMapping(Lorg/springframework/web/util/UrlPathHelper;Lorg/springframework/util/PathMatcher;Lorg/springframework/web/accept/ContentNegotiationManager;Lorg/springframework/format/support/FormattingConversionService;Lorg/springframework/web/servlet/resource/ResourceUrlProvider;)Lorg/springframework/web/servlet/HandlerMapping;\r\n    \r\n    The method&#39;s class, org.springframework.web.servlet.config.annotation.DelegatingWebMvcConfiguration, is available from the following locations:\r\n    \r\n        jar:file:/Users/fazshaik/.gradle/caches/modules-2/files-2.1/org.springframework/spring-webmvc/5.3.24/33d2187c2bf1cb2c222bd1cc18b618736babcf3d/spring-webmvc-5.3.24.jar!/org/springframework/web/servlet/config/annotation/DelegatingWebMvcConfiguration.class\r\n    \r\n    It was loaded from the following location:\r\n    \r\n        file:/Users/fazshaik/.gradle/caches/modules-2/files-2.1/org.springframework/spring-webmvc/5.3.24/33d2187c2bf1cb2c222bd1cc18b618736babcf3d/spring-webmvc-5.3.24.jar\r\n    \r\n    \r\n    Action:\r\n    \r\n    Correct the classpath of your application so that it contains a single, compatible version of org.springframework.web.servlet.config.annotation.DelegatingWebMvcConfiguration\r\n\r\n\r\nBelow is my build.gradle file.\r\n\r\n    buildscript {\r\n        ext {\r\n            springBootVersion = &#39;2.2.13.RELEASE&#39;\r\n            junitVersion = &quot;5.3.1&quot;\r\n            axonVersion=&#39;4.1&#39;\r\n        }\r\n        repositories {\r\n            mavenCentral()\r\n            mavenLocal()\r\n        }\r\n        dependencies {\r\n            classpath(&quot;org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}&quot;)\r\n            classpath &quot;org.sonarsource.scanner.gradle:sonarqube-gradle-plugin:2.6.2&quot;\r\n            classpath &quot;org.junit.platform:junit-platform-gradle-plugin:1.2.0&quot;\r\n            classpath &quot;org.owasp:dependency-check-gradle:$owaspVersion&quot;\r\n        }\r\n    }\r\n    \r\n    apply plugin: &#39;java&#39;\r\n    apply plugin: &#39;eclipse&#39;\r\n    apply plugin: &#39;org.springframework.boot&#39;\r\n    apply plugin: &#39;io.spring.dependency-management&#39;\r\n    apply plugin: &#39;org.sonarqube&#39;\r\n    apply plugin: &#39;org.junit.platform.gradle.plugin&#39;\r\n    apply plugin: &quot;org.owasp.dependencycheck&quot;\r\n    \r\n    apply from: &quot;${rootDir}/build-support/packaging.gradle&quot;\r\n    apply from: &quot;${rootDir}/contracts/build.gradle&quot;\r\n    \r\n    group = &#39;com.testproj.relateditems&#39;\r\n    sourceCompatibility = 1.8\r\n    targetCompatibility = 1.8\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n        mavenLocal()\r\n        maven {\r\n            name &quot;testprojdoc-public&quot;\r\n            url &quot;https://artifacthub-phx.oci.mytesthostcorp.com/testprojdoc-public&quot;\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n    \r\n        compile (&#39;org.axonframework:axon-spring-boot-starter:4.1.1&#39;){\r\n            exclude group: &#39;org.axonframework&#39;, module: &#39;axon-server-connector&#39;\r\n        }\r\n    \r\n        compile group: &#39;com.testproj&#39;, name: &#39;shared-secrets-implementation&#39;, version: &#39;2.0.404&#39;\r\n    \r\n        compile group: &#39;io.springfox&#39;, name: &#39;springfox-swagger2&#39;, version: &#39;2.9.2&#39;\r\n        compile group: &#39;io.springfox&#39;, name: &#39;springfox-swagger-ui&#39;, version: &#39;2.10.0&#39;\r\n        compile group: &#39;org.postgresql&#39;, name: &#39;postgresql&#39;, version: &#39;42.5.0&#39;\r\n        compile(&#39;org.springframework.boot:spring-boot-starter-data-jpa:2.2.13.RELEASE&#39;)\r\n        compile group: &#39;org.yaml&#39;, name: &#39;snakeyaml&#39;, version: &#39;1.27&#39;\r\n        compile group: &#39;com.testproj.linkingservice&#39;, name: &#39;dtos&#39;, version: &#39;0.2.1&#39;\r\n        compile group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-actuator&#39;, version: &#39;2.2.13.RELEASE&#39;\r\n        compile group: &#39;com.fasterxml.jackson.datatype&#39;, name: &#39;jackson-datatype-joda&#39;, version: &#39;2.9.9&#39;\r\n        compile group: &#39;com.testproj&#39;, name: &#39;secrets-management-vault-spring&#39;, version:&#39;1.5.133&#39;\r\n        compile group: &#39;com.testproj&#39;, name: &#39;secrets-management-simple&#39;, version: &#39;1.5.133&#39;\r\n        compile group: &#39;com.testproj&#39;, name: &#39;secrets-management-tls-common&#39;, version: &#39;1.5.133&#39;\r\n        compile group: &#39;com.testproj&#39;, name: &#39;spring-pcp-monitoring&#39;, version: &#39;0.3.3&#39;\r\n        compile group: &#39;net.bull.javamelody&#39;, name: &#39;javamelody-spring-boot-starter&#39;, version: &#39;1.79.0&#39;\r\n        compile group: &#39;com.testproj&#39;, name: &#39;testapp-private-api-client-common&#39;, version: &#39;0.884&#39;\r\n        compile group: &#39;org.apache.httpcomponents&#39;, name:&#39;httpclient&#39;, version: &#39;4.5.13&#39;\r\n        compile group: &#39;com.testproj&#39;, name: &#39;trusted-api-client&#39;, version: &#39;1.1.57&#39;\r\n        compile group: &#39;org.jolokia&#39;, name: &#39;jolokia-core&#39;, version: &#39;1.6.1&#39;\r\n        compile group: &#39;org.jolokia&#39;, name: &#39;jolokia-spring&#39;, version: &#39;1.6.1&#39;\r\n        compile group: &#39;org.springframework&#39;, name: &#39;spring-core&#39;, version: &#39;5.3.24&#39;\r\n        runtime group: &#39;org.springframework&#39;, name: &#39;spring-web&#39;, version: &#39;5.3.24&#39;\r\n        runtime group: &#39;org.springframework&#39;, name: &#39;spring-webmvc&#39;, version: &#39;5.3.24&#39;\r\n        runtime group: &#39;org.springframework&#39;, name: &#39;spring-context&#39;, version: &#39;5.3.24&#39;\r\n        runtime group: &#39;org.springframework&#39;, name: &#39;spring-context-support&#39;, version: &#39;5.3.24&#39;\r\n        runtime group: &#39;org.springframework&#39;, name: &#39;spring-expression&#39;, version: &#39;5.3.24&#39;\r\n        runtime group: &#39;org.springframework&#39;, name: &#39;spring-beans&#39;, version: &#39;5.3.24&#39;\r\n        runtime group: &#39;org.springframework&#39;, name: &#39;spring-aop&#39;, version: &#39;5.3.24&#39;\r\n        runtime group: &#39;org.springframework&#39;, name: &#39;spring-test&#39;, version: &#39;5.3.24&#39;\r\n        runtime group: &#39;org.springframework&#39;, name: &#39;spring-jcl&#39;, version: &#39;5.3.24&#39;\r\n        runtime group: &#39;org.springframework&#39;, name: &#39;spring-orm&#39;, version: &#39;5.3.24&#39;\r\n        runtime group: &#39;org.springframework&#39;, name: &#39;spring-jdbc&#39;, version: &#39;5.3.24&#39;\r\n        runtime group: &#39;org.springframework&#39;, name: &#39;spring-aspects&#39;, version: &#39;5.3.24&#39;\r\n    \r\n    \r\n        implementation(&#39;org.springframework.boot:spring-boot-starter-web&#39;)\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-security&#39;\r\n        compile group: &#39;org.projectlombok&#39;, name: &#39;lombok&#39;, version: &#39;1.18.6&#39;\r\n        annotationProcessor &#39;org.projectlombok:lombok:1.18.6&#39;\r\n    \r\n        compile group: &#39;com.mikesamuel&#39;, name: &#39;json-sanitizer&#39;, version: &#39;1.2.2&#39;\r\n        compile group: &#39;com.thoughtworks.xstream&#39;, name: &#39;xstream&#39;, version: &#39;1.4.19&#39;\r\n        compile group: &#39;com.google.guava&#39;, name: &#39;guava&#39;, version: &#39;30.0-jre&#39;\r\n        compile group: &#39;org.reflections&#39;, name: &#39;reflections&#39;, version: &#39;0.9.11&#39;\r\n        compile group: &#39;org.apache.logging.log4j&#39;, name: &#39;log4j-to-slf4j&#39;, version: &#39;2.17.1&#39;\r\n        compile group: &#39;org.apache.commons&#39;, name: &#39;commons-configuration2&#39;, version: &#39;2.8.0&#39;\r\n        compile group: &#39;commons-beanutils&#39;, name: &#39;commons-beanutils&#39;, version: &#39;1.9.4&#39;\r\n        compile group: &#39;org.dom4j&#39;, name: &#39;dom4j&#39;, version: &#39;2.1.3&#39;\r\n        compile group: &#39;org.apache.logging.log4j&#39;, name: &#39;log4j-api&#39;, version: &#39;2.17.1&#39;\r\n        compile group: &#39;org.apache.tomcat.embed&#39;, name: &#39;tomcat-embed-websocket&#39;, version: &#39;9.0.55&#39;\r\n        compile group: &#39;org.apache.tomcat.embed&#39;, name: &#39;tomcat-embed-core&#39;, version: &#39;9.0.55&#39;\r\n        compile group: &#39;org.apache.tomcat&#39;, name: &#39;tomcat-annotations-api&#39;, version: &#39;9.0.55&#39;\r\n        compile group: &#39;org.apache.tomcat.embed&#39;, name: &#39;tomcat-embed-el&#39;, version: &#39;9.0.55&#39;\r\n        compile group: &#39;org.apache.logging.log4j&#39;, name: &#39;log4j-core&#39;, version: &#39;2.17.1&#39;\r\n        compile group: &#39;org.apache.logging.log4j&#39;, name: &#39;log4j-1.2-api&#39;, version: &#39;2.17.1&#39;\r\n    \r\n        compile group: &#39;org.springframework.security&#39;, name: &#39;spring-security-config&#39;, version: &#39;5.7.5&#39;\r\n        compile group: &#39;org.springframework.security&#39;, name: &#39;spring-security-core&#39;, version: &#39;5.7.5&#39;\r\n        compile group: &#39;org.springframework.security&#39;, name: &#39;spring-security-test&#39;, version: &#39;5.7.5&#39;\r\n        compile group: &#39;org.springframework.security&#39;, name: &#39;spring-security-web&#39;, version: &#39;5.7.5&#39;\r\n        compile group: &#39;org.springframework.security&#39;, name: &#39;spring-security-crypto&#39;, version: &#39;5.7.5&#39;\r\n    \r\n        implementation group: &#39;org.springframework&#39;, name: &#39;spring-tx&#39;, version: &#39;5.3.24&#39;\r\n        implementation group: &#39;ch.qos.logback&#39;, name: &#39;logback-core&#39;, version: &#39;1.2.9&#39;\r\n    \r\n    \r\n        compile group: &#39;io.pcp.parfait&#39;, name: &#39;dxm&#39;, version: &#39;0.5.1&#39;\r\n        compile group: &#39;io.pcp.parfait&#39;, name: &#39;parfait-core&#39;, version: &#39;0.5.1&#39;\r\n        compile group: &#39;io.pcp.parfait&#39;, name: &#39;parfait-jdbc&#39;, version: &#39;0.5.1&#39;\r\n        compile group: &#39;io.pcp.parfait&#39;, name: &#39;parfait-jmx&#39;, version: &#39;0.5.1&#39;\r\n        compile group: &#39;io.pcp.parfait&#39;, name: &#39;parfait-pcp&#39;, version: &#39;0.5.1&#39;\r\n    \r\n        runtime(&#39;com.h2database:h2:2.0.206&#39;)\r\n        runtime(&#39;com.testproj:testapp-contracts:+&#39;) {\r\n            exclude group: &#39;org.apache.logging.log4j&#39;, module: &#39;log4j-core&#39;\r\n            exclude group: &#39;org.apache.logging.log4j&#39;, module: &#39;log4j-1.2-api&#39;\r\n        }\r\n        runtime group: &#39;com.testproj.linkingservice&#39;, name: &#39;linking-service-contract&#39;, version: &#39;+&#39;, changing: true\r\n    \r\n    \r\n        testCompile group: &#39;org.axonframework&#39;, name: &#39;axon-test&#39;, version: &#39;4.1.1&#39;\r\n        implementation group: &#39;net.minidev&#39;, name: &#39;json-smart&#39;, version: &#39;2.4.8&#39;\r\n        testImplementation(&#39;org.junit.jupiter:junit-jupiter-api:5.3.1&#39;)\r\n        testCompile(&#39;org.junit.jupiter:junit-jupiter-params:5.3.1&#39;)\r\n        testRuntimeOnly(&#39;org.junit.jupiter:junit-jupiter-engine:5.3.1&#39;)\r\n        testImplementation &#39;org.mockito:mockito-core:2.13.0&#39;\r\n        // https://mvnrepository.com/artifact/com.h2database/h2\r\n        testImplementation group: &#39;com.h2database&#39;, name: &#39;h2&#39;, version: &#39;2.0.206&#39;\r\n        testCompile(&#39;org.mockito:mockito-junit-jupiter:2.18.3&#39;)\r\n        testImplementation(&#39;org.springframework.boot:spring-boot-starter-test&#39;) {\r\n            exclude group: &#39;junit&#39;, module: &#39;junit&#39;\r\n            exclude group: &#39;org.junit.vintage&#39;, module: &#39;junit-vintage-engine&#39;\r\n        }\r\n        testImplementation &#39;org.springframework.security:spring-security-test&#39;\r\n        configurations {\r\n            implementation {\r\n                exclude group: &#39;com.google.j2objc&#39;, module:&#39;j2objc-annotations&#39;\r\n                exclude group: &#39;com.google.code.findbugs&#39;, module:&#39;jsr305&#39;\r\n                exclude group: &#39;com.google.errorprone&#39;, module:&#39;error_prone_annotations&#39;\r\n                exclude group: &#39;org.checkerframework&#39;, module:&#39;checker-qual&#39;\r\n                exclude group: &#39;org.codehaus.mojo&#39;, module:&#39;animal-sniffer-annotations&#39;\r\n            }\r\n        }\r\n    }\r\n    \r\n    sonarqube {\r\n        properties {\r\n            property &quot;sonar.host.url&quot;, &quot;http://build.engr.doc:9000/sonar&quot;\r\n        }\r\n    }\r\n    \r\n    dependencyCheck {\r\n        format = &#39;ALL&#39;\r\n        suppressionFile = &quot;${rootDir}/owasp/suppressions.xml&quot;\r\n        failBuildOnCVSS = 0\r\n    }\r\n    \r\n    task gruntStage(type: Exec) {\r\n        println &#39;Task :gruntStage: Executing build.sh to build ui(webapp-src).&#39;\r\n        commandLine &#39;sh&#39;, &#39;./build.sh&#39;\r\n    \r\n    }\r\n    \r\n    task buildui(type: Copy) {\r\n        dependsOn gruntStage\r\n        println &#39;Task :buildui: Copying static resources to public&#39;\r\n        from(&#39;webapp-src/stage/rsrc&#39;)\r\n        into(&#39;src/main/resources/public&#39;)\r\n    \r\n    }\r\n    \r\n    springBoot {\r\n        buildInfo {\r\n            properties {\r\n                additional = [\r\n                        &#39;srcVersion&#39; : &quot;${  buildInformation.tag}&quot;\r\n                ]\r\n            }\r\n        }\r\n    }\r\n    \r\n    processResources.dependsOn buildui\r\n\r\n\r\nBelow is the dependency tree info for Spring-webmvc dependency.\r\n\r\n    gradle -q dependencies | grep spring-webmvc\r\n    |    +--- org.springframework:spring-webmvc:4.3.11.RELEASE -&gt; 5.2.12.RELEASE\r\n    |    \\--- org.springframework:spring-webmvc:5.2.12.RELEASE\r\n    |    +--- org.springframework:spring-webmvc:4.3.11.RELEASE -&gt; 5.3.24\r\n    |    \\--- org.springframework:spring-webmvc:5.2.12.RELEASE -&gt; 5.3.24 (*)\r\n    +--- org.springframework:spring-webmvc:5.3.24 (*)\r\n    |    +--- org.springframework:spring-webmvc:4.3.11.RELEASE -&gt; 5.3.24\r\n    +--- org.springframework:spring-webmvc:5.3.24 (*)\r\n    |    +--- org.springframework:spring-webmvc:4.3.11.RELEASE -&gt; 5.3.24\r\n    |    \\--- org.springframework:spring-webmvc:5.2.12.RELEASE -&gt; 5.3.24 (*)\r\n    +--- org.springframework:spring-webmvc:5.3.24 (*)\r\n    |    +--- org.springframework:spring-webmvc:4.3.11.RELEASE -&gt; 5.2.12.RELEASE\r\n    |    \\--- org.springframework:spring-webmvc:5.2.12.RELEASE\r\n    |    +--- org.springframework:spring-webmvc:4.3.11.RELEASE -&gt; 5.3.24\r\n    +--- org.springframework:spring-webmvc:5.3.24 (*)\r\n    |    +--- org.springframework:spring-webmvc:4.3.11.RELEASE -&gt; 5.3.24\r\n    |    \\--- org.springframework:spring-webmvc:5.2.12.RELEASE -&gt; 5.3.24 (*)\r\n    +--- org.springframework:spring-webmvc:5.3.24 (*)\r\n\r\n","title":"Spring Boot : An attempt was made to call a method that does not exist","body":"<p>I am trying to upgrade Spring dependency jars without upgrading the Spring Boot version in my project to fix some of CVE's reported.</p>\n<p>So i am trying to upgrade the Spring dependencies to v5.3.24 . While the build seems to be fine, when i run the application, Spring Boot fails with below error.</p>\n<p>I know i could only adjust Spring dependencie's version, but not spring boot. Appreciate any help to fix this.</p>\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nAn attempt was made to call a method that does not exist. The attempt was made from the following location:\n\n    org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$EnableWebMvcConfiguration.resourceHandlerMapping(WebMvcAutoConfiguration.java:377)\n\nThe following method did not exist:\n\n    org.springframework.web.servlet.config.annotation.DelegatingWebMvcConfiguration.resourceHandlerMapping(Lorg/springframework/web/util/UrlPathHelper;Lorg/springframework/util/PathMatcher;Lorg/springframework/web/accept/ContentNegotiationManager;Lorg/springframework/format/support/FormattingConversionService;Lorg/springframework/web/servlet/resource/ResourceUrlProvider;)Lorg/springframework/web/servlet/HandlerMapping;\n\nThe method's class, org.springframework.web.servlet.config.annotation.DelegatingWebMvcConfiguration, is available from the following locations:\n\n    jar:file:/Users/fazshaik/.gradle/caches/modules-2/files-2.1/org.springframework/spring-webmvc/5.3.24/33d2187c2bf1cb2c222bd1cc18b618736babcf3d/spring-webmvc-5.3.24.jar!/org/springframework/web/servlet/config/annotation/DelegatingWebMvcConfiguration.class\n\nIt was loaded from the following location:\n\n    file:/Users/fazshaik/.gradle/caches/modules-2/files-2.1/org.springframework/spring-webmvc/5.3.24/33d2187c2bf1cb2c222bd1cc18b618736babcf3d/spring-webmvc-5.3.24.jar\n\n\nAction:\n\nCorrect the classpath of your application so that it contains a single, compatible version of org.springframework.web.servlet.config.annotation.DelegatingWebMvcConfiguration\n</code></pre>\n<p>Below is my build.gradle file.</p>\n<pre><code>buildscript {\n    ext {\n        springBootVersion = '2.2.13.RELEASE'\n        junitVersion = &quot;5.3.1&quot;\n        axonVersion='4.1'\n    }\n    repositories {\n        mavenCentral()\n        mavenLocal()\n    }\n    dependencies {\n        classpath(&quot;org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}&quot;)\n        classpath &quot;org.sonarsource.scanner.gradle:sonarqube-gradle-plugin:2.6.2&quot;\n        classpath &quot;org.junit.platform:junit-platform-gradle-plugin:1.2.0&quot;\n        classpath &quot;org.owasp:dependency-check-gradle:$owaspVersion&quot;\n    }\n}\n\napply plugin: 'java'\napply plugin: 'eclipse'\napply plugin: 'org.springframework.boot'\napply plugin: 'io.spring.dependency-management'\napply plugin: 'org.sonarqube'\napply plugin: 'org.junit.platform.gradle.plugin'\napply plugin: &quot;org.owasp.dependencycheck&quot;\n\napply from: &quot;${rootDir}/build-support/packaging.gradle&quot;\napply from: &quot;${rootDir}/contracts/build.gradle&quot;\n\ngroup = 'com.testproj.relateditems'\nsourceCompatibility = 1.8\ntargetCompatibility = 1.8\n\nrepositories {\n    mavenCentral()\n    mavenLocal()\n    maven {\n        name &quot;testprojdoc-public&quot;\n        url &quot;https://artifacthub-phx.oci.mytesthostcorp.com/testprojdoc-public&quot;\n    }\n}\n\ndependencies {\n\n    compile ('org.axonframework:axon-spring-boot-starter:4.1.1'){\n        exclude group: 'org.axonframework', module: 'axon-server-connector'\n    }\n\n    compile group: 'com.testproj', name: 'shared-secrets-implementation', version: '2.0.404'\n\n    compile group: 'io.springfox', name: 'springfox-swagger2', version: '2.9.2'\n    compile group: 'io.springfox', name: 'springfox-swagger-ui', version: '2.10.0'\n    compile group: 'org.postgresql', name: 'postgresql', version: '42.5.0'\n    compile('org.springframework.boot:spring-boot-starter-data-jpa:2.2.13.RELEASE')\n    compile group: 'org.yaml', name: 'snakeyaml', version: '1.27'\n    compile group: 'com.testproj.linkingservice', name: 'dtos', version: '0.2.1'\n    compile group: 'org.springframework.boot', name: 'spring-boot-starter-actuator', version: '2.2.13.RELEASE'\n    compile group: 'com.fasterxml.jackson.datatype', name: 'jackson-datatype-joda', version: '2.9.9'\n    compile group: 'com.testproj', name: 'secrets-management-vault-spring', version:'1.5.133'\n    compile group: 'com.testproj', name: 'secrets-management-simple', version: '1.5.133'\n    compile group: 'com.testproj', name: 'secrets-management-tls-common', version: '1.5.133'\n    compile group: 'com.testproj', name: 'spring-pcp-monitoring', version: '0.3.3'\n    compile group: 'net.bull.javamelody', name: 'javamelody-spring-boot-starter', version: '1.79.0'\n    compile group: 'com.testproj', name: 'testapp-private-api-client-common', version: '0.884'\n    compile group: 'org.apache.httpcomponents', name:'httpclient', version: '4.5.13'\n    compile group: 'com.testproj', name: 'trusted-api-client', version: '1.1.57'\n    compile group: 'org.jolokia', name: 'jolokia-core', version: '1.6.1'\n    compile group: 'org.jolokia', name: 'jolokia-spring', version: '1.6.1'\n    compile group: 'org.springframework', name: 'spring-core', version: '5.3.24'\n    runtime group: 'org.springframework', name: 'spring-web', version: '5.3.24'\n    runtime group: 'org.springframework', name: 'spring-webmvc', version: '5.3.24'\n    runtime group: 'org.springframework', name: 'spring-context', version: '5.3.24'\n    runtime group: 'org.springframework', name: 'spring-context-support', version: '5.3.24'\n    runtime group: 'org.springframework', name: 'spring-expression', version: '5.3.24'\n    runtime group: 'org.springframework', name: 'spring-beans', version: '5.3.24'\n    runtime group: 'org.springframework', name: 'spring-aop', version: '5.3.24'\n    runtime group: 'org.springframework', name: 'spring-test', version: '5.3.24'\n    runtime group: 'org.springframework', name: 'spring-jcl', version: '5.3.24'\n    runtime group: 'org.springframework', name: 'spring-orm', version: '5.3.24'\n    runtime group: 'org.springframework', name: 'spring-jdbc', version: '5.3.24'\n    runtime group: 'org.springframework', name: 'spring-aspects', version: '5.3.24'\n\n\n    implementation('org.springframework.boot:spring-boot-starter-web')\n    implementation 'org.springframework.boot:spring-boot-starter-security'\n    compile group: 'org.projectlombok', name: 'lombok', version: '1.18.6'\n    annotationProcessor 'org.projectlombok:lombok:1.18.6'\n\n    compile group: 'com.mikesamuel', name: 'json-sanitizer', version: '1.2.2'\n    compile group: 'com.thoughtworks.xstream', name: 'xstream', version: '1.4.19'\n    compile group: 'com.google.guava', name: 'guava', version: '30.0-jre'\n    compile group: 'org.reflections', name: 'reflections', version: '0.9.11'\n    compile group: 'org.apache.logging.log4j', name: 'log4j-to-slf4j', version: '2.17.1'\n    compile group: 'org.apache.commons', name: 'commons-configuration2', version: '2.8.0'\n    compile group: 'commons-beanutils', name: 'commons-beanutils', version: '1.9.4'\n    compile group: 'org.dom4j', name: 'dom4j', version: '2.1.3'\n    compile group: 'org.apache.logging.log4j', name: 'log4j-api', version: '2.17.1'\n    compile group: 'org.apache.tomcat.embed', name: 'tomcat-embed-websocket', version: '9.0.55'\n    compile group: 'org.apache.tomcat.embed', name: 'tomcat-embed-core', version: '9.0.55'\n    compile group: 'org.apache.tomcat', name: 'tomcat-annotations-api', version: '9.0.55'\n    compile group: 'org.apache.tomcat.embed', name: 'tomcat-embed-el', version: '9.0.55'\n    compile group: 'org.apache.logging.log4j', name: 'log4j-core', version: '2.17.1'\n    compile group: 'org.apache.logging.log4j', name: 'log4j-1.2-api', version: '2.17.1'\n\n    compile group: 'org.springframework.security', name: 'spring-security-config', version: '5.7.5'\n    compile group: 'org.springframework.security', name: 'spring-security-core', version: '5.7.5'\n    compile group: 'org.springframework.security', name: 'spring-security-test', version: '5.7.5'\n    compile group: 'org.springframework.security', name: 'spring-security-web', version: '5.7.5'\n    compile group: 'org.springframework.security', name: 'spring-security-crypto', version: '5.7.5'\n\n    implementation group: 'org.springframework', name: 'spring-tx', version: '5.3.24'\n    implementation group: 'ch.qos.logback', name: 'logback-core', version: '1.2.9'\n\n\n    compile group: 'io.pcp.parfait', name: 'dxm', version: '0.5.1'\n    compile group: 'io.pcp.parfait', name: 'parfait-core', version: '0.5.1'\n    compile group: 'io.pcp.parfait', name: 'parfait-jdbc', version: '0.5.1'\n    compile group: 'io.pcp.parfait', name: 'parfait-jmx', version: '0.5.1'\n    compile group: 'io.pcp.parfait', name: 'parfait-pcp', version: '0.5.1'\n\n    runtime('com.h2database:h2:2.0.206')\n    runtime('com.testproj:testapp-contracts:+') {\n        exclude group: 'org.apache.logging.log4j', module: 'log4j-core'\n        exclude group: 'org.apache.logging.log4j', module: 'log4j-1.2-api'\n    }\n    runtime group: 'com.testproj.linkingservice', name: 'linking-service-contract', version: '+', changing: true\n\n\n    testCompile group: 'org.axonframework', name: 'axon-test', version: '4.1.1'\n    implementation group: 'net.minidev', name: 'json-smart', version: '2.4.8'\n    testImplementation('org.junit.jupiter:junit-jupiter-api:5.3.1')\n    testCompile('org.junit.jupiter:junit-jupiter-params:5.3.1')\n    testRuntimeOnly('org.junit.jupiter:junit-jupiter-engine:5.3.1')\n    testImplementation 'org.mockito:mockito-core:2.13.0'\n    // https://mvnrepository.com/artifact/com.h2database/h2\n    testImplementation group: 'com.h2database', name: 'h2', version: '2.0.206'\n    testCompile('org.mockito:mockito-junit-jupiter:2.18.3')\n    testImplementation('org.springframework.boot:spring-boot-starter-test') {\n        exclude group: 'junit', module: 'junit'\n        exclude group: 'org.junit.vintage', module: 'junit-vintage-engine'\n    }\n    testImplementation 'org.springframework.security:spring-security-test'\n    configurations {\n        implementation {\n            exclude group: 'com.google.j2objc', module:'j2objc-annotations'\n            exclude group: 'com.google.code.findbugs', module:'jsr305'\n            exclude group: 'com.google.errorprone', module:'error_prone_annotations'\n            exclude group: 'org.checkerframework', module:'checker-qual'\n            exclude group: 'org.codehaus.mojo', module:'animal-sniffer-annotations'\n        }\n    }\n}\n\nsonarqube {\n    properties {\n        property &quot;sonar.host.url&quot;, &quot;http://build.engr.doc:9000/sonar&quot;\n    }\n}\n\ndependencyCheck {\n    format = 'ALL'\n    suppressionFile = &quot;${rootDir}/owasp/suppressions.xml&quot;\n    failBuildOnCVSS = 0\n}\n\ntask gruntStage(type: Exec) {\n    println 'Task :gruntStage: Executing build.sh to build ui(webapp-src).'\n    commandLine 'sh', './build.sh'\n\n}\n\ntask buildui(type: Copy) {\n    dependsOn gruntStage\n    println 'Task :buildui: Copying static resources to public'\n    from('webapp-src/stage/rsrc')\n    into('src/main/resources/public')\n\n}\n\nspringBoot {\n    buildInfo {\n        properties {\n            additional = [\n                    'srcVersion' : &quot;${  buildInformation.tag}&quot;\n            ]\n        }\n    }\n}\n\nprocessResources.dependsOn buildui\n</code></pre>\n<p>Below is the dependency tree info for Spring-webmvc dependency.</p>\n<pre><code>gradle -q dependencies | grep spring-webmvc\n|    +--- org.springframework:spring-webmvc:4.3.11.RELEASE -&gt; 5.2.12.RELEASE\n|    \\--- org.springframework:spring-webmvc:5.2.12.RELEASE\n|    +--- org.springframework:spring-webmvc:4.3.11.RELEASE -&gt; 5.3.24\n|    \\--- org.springframework:spring-webmvc:5.2.12.RELEASE -&gt; 5.3.24 (*)\n+--- org.springframework:spring-webmvc:5.3.24 (*)\n|    +--- org.springframework:spring-webmvc:4.3.11.RELEASE -&gt; 5.3.24\n+--- org.springframework:spring-webmvc:5.3.24 (*)\n|    +--- org.springframework:spring-webmvc:4.3.11.RELEASE -&gt; 5.3.24\n|    \\--- org.springframework:spring-webmvc:5.2.12.RELEASE -&gt; 5.3.24 (*)\n+--- org.springframework:spring-webmvc:5.3.24 (*)\n|    +--- org.springframework:spring-webmvc:4.3.11.RELEASE -&gt; 5.2.12.RELEASE\n|    \\--- org.springframework:spring-webmvc:5.2.12.RELEASE\n|    +--- org.springframework:spring-webmvc:4.3.11.RELEASE -&gt; 5.3.24\n+--- org.springframework:spring-webmvc:5.3.24 (*)\n|    +--- org.springframework:spring-webmvc:4.3.11.RELEASE -&gt; 5.3.24\n|    \\--- org.springframework:spring-webmvc:5.2.12.RELEASE -&gt; 5.3.24 (*)\n+--- org.springframework:spring-webmvc:5.3.24 (*)\n</code></pre>\n"},{"tags":["java","spring-boot","spring-data-jpa","spring-test","junit-jupiter"],"comments":[{"owner":{"account_id":78881,"reputation":154,"user_id":224155,"display_name":"Arturas Gusevas"},"score":0,"creation_date":1671454514,"post_id":74848835,"comment_id":132095805,"body_markdown":"Take a look at the solution described in https://stackoverflow.com/questions/66315013/failed-to-resolve-junit-platform-launcher-1-6-3-intellij","body":"Take a look at the solution described in <a href=\"https://stackoverflow.com/questions/66315013/failed-to-resolve-junit-platform-launcher-1-6-3-intellij\" title=\"failed to resolve junit platform launcher 1 6 3 intellij\">stackoverflow.com/questions/66315013/&hellip;</a>"}],"owner":{"account_id":5631811,"reputation":747,"user_id":4458543,"accept_rate":100,"display_name":"Samuel Owino"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":559,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1671443767,"creation_date":1671443767,"question_id":74848835,"body_markdown":"Whenever I add @DataJpaTest to a test test execution fails with the following error:\r\n\r\n```java\r\nimport com.owino.paginateddata.entities.Tweet;\r\nimport org.assertj.core.api.Assertions;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.junit.jupiter.api.extension.ExtendWith;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTest;\r\nimport org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManager;\r\nimport org.springframework.test.context.junit.jupiter.SpringExtension;\r\n\r\n@DataJpaTest\r\n@ExtendWith(SpringExtension.class)\r\npublic class PersistTweetTest {\r\n\r\n    @Autowired\r\n    private TestEntityManager entityManager;\r\n\r\n    @Test\r\n    public void shouldPersistTweetTest(){\r\n        var entity = entityManager.persistAndFlush(new Tweet(1L,&quot;#goodvibes #sweetypie&quot;, &quot;2022-12-11&quot;,&quot;11:00PM&quot;));\r\n\r\n        Assertions.assertThat(entity).isNotNull();\r\n        Assertions.assertThat(entity.getId()).isEqualTo(1L);\r\n        Assertions.assertThat(entity.getContents()).isEqualTo(&quot;#goodvibes #sweetypie&quot;);\r\n        Assertions.assertThat(entity.getDateString()).isEqualTo(&quot;2022-12-11&quot;);\r\n        Assertions.assertThat(entity.getTimeString()).isEqualTo(&quot;11:00PM&quot;);\r\n    }\r\n}\r\n```\r\n\r\n\r\n```java\r\nInternal Error occurred.\r\norg.junit.platform.commons.JUnitException: TestEngine with ID &#39;junit-jupiter&#39; failed to discover tests\r\n\tat org.junit.platform.launcher.core.EngineDiscoveryOrchestrator.discoverEngineRoot(EngineDiscoveryOrchestrator.java:160)\r\n\tat org.junit.platform.launcher.core.EngineDiscoveryOrchestrator.discoverSafely(EngineDiscoveryOrchestrator.java:132)\r\n\tat org.junit.platform.launcher.core.EngineDiscoveryOrchestrator.discover(EngineDiscoveryOrchestrator.java:107)\r\n\tat org.junit.platform.launcher.core.EngineDiscoveryOrchestrator.discover(EngineDiscoveryOrchestrator.java:78)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.discover(DefaultLauncher.java:110)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n\tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n\tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\r\n\tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n\tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\r\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\r\nCaused by: org.junit.platform.commons.JUnitException: ClassSelector [className = &#39;com.owino.paginateddata.persistence_test.PersistTweetTest&#39;] resolution failed\r\n\tat org.junit.platform.launcher.listeners.discovery.AbortOnFailureLauncherDiscoveryListener.selectorProcessed(AbortOnFailureLauncherDiscoveryListener.java:39)\r\n\tat org.junit.platform.engine.support.discovery.EngineDiscoveryRequestResolution.resolveCompletely(EngineDiscoveryRequestResolution.java:103)\r\n\tat org.junit.platform.engine.support.discovery.EngineDiscoveryRequestResolution.run(EngineDiscoveryRequestResolution.java:83)\r\n\tat org.junit.platform.engine.support.discovery.EngineDiscoveryRequestResolver.resolve(EngineDiscoveryRequestResolver.java:113)\r\n\tat org.junit.jupiter.engine.discovery.DiscoverySelectorResolver.resolveSelectors(DiscoverySelectorResolver.java:46)\r\n\tat org.junit.jupiter.engine.JupiterTestEngine.discover(JupiterTestEngine.java:69)\r\n\tat org.junit.platform.launcher.core.EngineDiscoveryOrchestrator.discoverEngineRoot(EngineDiscoveryOrchestrator.java:152)\r\n\t... 13 more\r\n```\r\n\r\nTests that are not annoted with @DataJpaTest and @ExtendWith(SpringExtension.class) execute smoothly. I have observed this only in Spring Boot 3.0.0, I am running these tests smoothly on 2.7.x. \r\n\r\nWhile Running $ mvn test I noticed maven skips the test. \r\n\r\nRunning on Intelij 2022.3 leads to the above error being produced.","title":"Using @DataJpaTest in Spring Boot 3.0.0 Integration test causes Test discovery error","body":"<p>Whenever I add @DataJpaTest to a test test execution fails with the following error:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.owino.paginateddata.entities.Tweet;\nimport org.assertj.core.api.Assertions;\nimport org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.extension.ExtendWith;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTest;\nimport org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManager;\nimport org.springframework.test.context.junit.jupiter.SpringExtension;\n\n@DataJpaTest\n@ExtendWith(SpringExtension.class)\npublic class PersistTweetTest {\n\n    @Autowired\n    private TestEntityManager entityManager;\n\n    @Test\n    public void shouldPersistTweetTest(){\n        var entity = entityManager.persistAndFlush(new Tweet(1L,&quot;#goodvibes #sweetypie&quot;, &quot;2022-12-11&quot;,&quot;11:00PM&quot;));\n\n        Assertions.assertThat(entity).isNotNull();\n        Assertions.assertThat(entity.getId()).isEqualTo(1L);\n        Assertions.assertThat(entity.getContents()).isEqualTo(&quot;#goodvibes #sweetypie&quot;);\n        Assertions.assertThat(entity.getDateString()).isEqualTo(&quot;2022-12-11&quot;);\n        Assertions.assertThat(entity.getTimeString()).isEqualTo(&quot;11:00PM&quot;);\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>Internal Error occurred.\norg.junit.platform.commons.JUnitException: TestEngine with ID 'junit-jupiter' failed to discover tests\n    at org.junit.platform.launcher.core.EngineDiscoveryOrchestrator.discoverEngineRoot(EngineDiscoveryOrchestrator.java:160)\n    at org.junit.platform.launcher.core.EngineDiscoveryOrchestrator.discoverSafely(EngineDiscoveryOrchestrator.java:132)\n    at org.junit.platform.launcher.core.EngineDiscoveryOrchestrator.discover(EngineDiscoveryOrchestrator.java:107)\n    at org.junit.platform.launcher.core.EngineDiscoveryOrchestrator.discover(EngineDiscoveryOrchestrator.java:78)\n    at org.junit.platform.launcher.core.DefaultLauncher.discover(DefaultLauncher.java:110)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\n    at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\nCaused by: org.junit.platform.commons.JUnitException: ClassSelector [className = 'com.owino.paginateddata.persistence_test.PersistTweetTest'] resolution failed\n    at org.junit.platform.launcher.listeners.discovery.AbortOnFailureLauncherDiscoveryListener.selectorProcessed(AbortOnFailureLauncherDiscoveryListener.java:39)\n    at org.junit.platform.engine.support.discovery.EngineDiscoveryRequestResolution.resolveCompletely(EngineDiscoveryRequestResolution.java:103)\n    at org.junit.platform.engine.support.discovery.EngineDiscoveryRequestResolution.run(EngineDiscoveryRequestResolution.java:83)\n    at org.junit.platform.engine.support.discovery.EngineDiscoveryRequestResolver.resolve(EngineDiscoveryRequestResolver.java:113)\n    at org.junit.jupiter.engine.discovery.DiscoverySelectorResolver.resolveSelectors(DiscoverySelectorResolver.java:46)\n    at org.junit.jupiter.engine.JupiterTestEngine.discover(JupiterTestEngine.java:69)\n    at org.junit.platform.launcher.core.EngineDiscoveryOrchestrator.discoverEngineRoot(EngineDiscoveryOrchestrator.java:152)\n    ... 13 more\n</code></pre>\n<p>Tests that are not annoted with @DataJpaTest and @ExtendWith(SpringExtension.class) execute smoothly. I have observed this only in Spring Boot 3.0.0, I am running these tests smoothly on 2.7.x.</p>\n<p>While Running $ mvn test I noticed maven skips the test.</p>\n<p>Running on Intelij 2022.3 leads to the above error being produced.</p>\n"},{"tags":["java","file"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1671438433,"post_id":74847838,"comment_id":132091251,"body_markdown":"For a start, `int num = Integer.parseInt(reader.readLine());` - you never print it. or re-read in the loop","body":"For a start, <code>int num = Integer.parseInt(reader.readLine());</code> - you never print it. or re-read in the loop"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1671454967,"post_id":74847838,"comment_id":132095943,"body_markdown":"You should be using [`newLine`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/BufferedWriter.html#newLine()). Since your code will function only by virtue of your current string concatenations  you should also use `String.valueOf(int)`","body":"You should be using <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/BufferedWriter.html#newLine()\" rel=\"nofollow noreferrer\"><code>newLine</code></a>. Since your code will function only by virtue of your current string concatenations  you should also use <code>String.valueOf(int)</code>"}],"answers":[{"tags":[],"owner":{"account_id":15800454,"reputation":120,"user_id":11401122,"display_name":"Bonniu"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1671438820,"creation_date":1671438820,"answer_id":74847914,"question_id":74847838,"body_markdown":"You can try to check earlier, if given string is a number, e.g.:\r\n\r\n    private static boolean isNumeric(String str) {\r\n        return str != null &amp;&amp; str.matches(&quot;[0-9.]+&quot;);\r\n    }\r\n\r\nand then, if `isNumeric(line)` is true, assign it as integer.\r\n\r\n","title":"How to use both string and int in BufferReader?","body":"<p>You can try to check earlier, if given string is a number, e.g.:</p>\n<pre><code>private static boolean isNumeric(String str) {\n    return str != null &amp;&amp; str.matches(&quot;[0-9.]+&quot;);\n}\n</code></pre>\n<p>and then, if <code>isNumeric(line)</code> is true, assign it as integer.</p>\n"},{"tags":[],"owner":{"account_id":24643497,"reputation":29,"user_id":18541426,"display_name":"ktxdev"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1671439158,"creation_date":1671439158,"answer_id":74847972,"question_id":74847838,"body_markdown":"First you are missing a few semicolons(;) on the line where you are creating the nums array and on the line you are writing the string &#39;\\n welcome&#39;.\r\n\r\nSecondly when writing to you file the first 2 lines are string values, so when you try to use `parseInt` on the second line it throws a `NumberFormatException`.","title":"How to use both string and int in BufferReader?","body":"<p>First you are missing a few semicolons(;) on the line where you are creating the nums array and on the line you are writing the string '\\n welcome'.</p>\n<p>Secondly when writing to you file the first 2 lines are string values, so when you try to use <code>parseInt</code> on the second line it throws a <code>NumberFormatException</code>.</p>\n"}],"owner":{"display_name":"user18316205"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1671442709,"creation_date":1671438310,"question_id":74847838,"body_markdown":"I&#39;m wondering if I can use BufferedReader with both string and integer, and what&#39;s wrong with my code?\r\n\r\n```\r\nimport java.io.*;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        int[] nums = {1, 2, 3, 4, 5};\r\n        try {\r\n            var writer = new BufferedWriter(new FileWriter(&quot;test.txt&quot;));\r\n            writer.write(&quot;hello&quot;);\r\n            writer.write(&quot;\\n welcome&quot;);\r\n            for (int num : nums) {\r\n                writer.write(num + &quot;\\n&quot;);\r\n            }\r\n            writer.close();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n\r\n        \r\n        try {\r\n            BufferedReader reader = new BufferedReader(new FileReader(&quot;test.txt&quot;));\r\n            String line = reader.readLine();\r\n            int num = Integer.parseInt(reader.readLine());\r\n            while (line != null) {\r\n                System.out.println(line);\r\n                line = reader.readLine();\r\n            }\r\n            reader.close();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\nI want to read both int and string that have been written in the above method by JUST using BufferedReader ","title":"How to use both string and int in BufferReader?","body":"<p>I'm wondering if I can use BufferedReader with both string and integer, and what's wrong with my code?</p>\n<pre><code>import java.io.*;\n\npublic class Main {\n    public static void main(String[] args) {\n        int[] nums = {1, 2, 3, 4, 5};\n        try {\n            var writer = new BufferedWriter(new FileWriter(&quot;test.txt&quot;));\n            writer.write(&quot;hello&quot;);\n            writer.write(&quot;\\n welcome&quot;);\n            for (int num : nums) {\n                writer.write(num + &quot;\\n&quot;);\n            }\n            writer.close();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n\n        \n        try {\n            BufferedReader reader = new BufferedReader(new FileReader(&quot;test.txt&quot;));\n            String line = reader.readLine();\n            int num = Integer.parseInt(reader.readLine());\n            while (line != null) {\n                System.out.println(line);\n                line = reader.readLine();\n            }\n            reader.close();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>I want to read both int and string that have been written in the above method by JUST using BufferedReader</p>\n"},{"tags":["java","multithreading","file","fork-join"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1671443310,"post_id":74847374,"comment_id":132092627,"body_markdown":"Would be nice if you showed your usage of `ForkJoinPool` in the code and not just create it without using. Also probably the use of classes in the package `java.nio.file` would suit a multithreaded approach better with it&#39;s non-blocking IO than the blocking IO in `java.io`.","body":"Would be nice if you showed your usage of <code>ForkJoinPool</code> in the code and not just create it without using. Also probably the use of classes in the package <code>java.nio.file</code> would suit a multithreaded approach better with it&#39;s non-blocking IO than the blocking IO in <code>java.io</code>."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671436972,"creation_date":1671436972,"answer_id":74847672,"question_id":74847374,"body_markdown":"`ForkJoinPool` is poorly suited to scenarios where a thread is liable to block in an I/O operation.  The problem is that the (Java 17) pool implementation cannot deal with an I/O operation that blocks in a syscall.  As the [javadoc][1] says:\r\n\r\n&gt; *&quot;For applications that require separate or custom pools, a `ForkJoinPool` may be constructed with a given target parallelism level; by default, equal to the number of available processors. The pool attempts to maintain enough active (or available) threads by dynamically adding, suspending, or resuming internal worker threads, even if some tasks are stalled waiting to join others. However, no such adjustments are guaranteed in the face of blocked I/O or other unmanaged synchronization. &quot;*.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ForkJoinPool.html","title":"How can I add &quot;Fork-join&quot; to my file search code?","body":"<p><code>ForkJoinPool</code> is poorly suited to scenarios where a thread is liable to block in an I/O operation.  The problem is that the (Java 17) pool implementation cannot deal with an I/O operation that blocks in a syscall.  As the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ForkJoinPool.html\" rel=\"nofollow noreferrer\">javadoc</a> says:</p>\n<blockquote>\n<p><em>&quot;For applications that require separate or custom pools, a <code>ForkJoinPool</code> may be constructed with a given target parallelism level; by default, equal to the number of available processors. The pool attempts to maintain enough active (or available) threads by dynamically adding, suspending, or resuming internal worker threads, even if some tasks are stalled waiting to join others. However, no such adjustments are guaranteed in the face of blocked I/O or other unmanaged synchronization. &quot;</em>.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671442492,"creation_date":1671442492,"answer_id":74848592,"question_id":74847374,"body_markdown":"I think the idea is that each task should process a single file/directory.\r\n\r\nExample:\r\n\r\n        ForkJoinPool pool = new ForkJoinPool(20);\r\n        FileTask task = new FileTask(directory);\r\n        pool.invoke(task);\r\n\r\nclass FileTask:\r\n\r\n\r\n    public class FileTask extends RecursiveAction {\r\n        private final DecimalFormat df = new DecimalFormat(&quot;#.#&quot;);\r\n        private final File file;\r\n    \r\n        public FileTask(File file) {\r\n            this.file = file;\r\n        }\r\n    \r\n        @Override\r\n        protected void compute() {\r\n            if (file.isDirectory()) {\r\n                processDir();\r\n            } else if (file.isFile()) {\r\n                processFile();\r\n            }\r\n        }\r\n    \r\n        private void processFile() {\r\n            if(file.length()&gt;= 1073741824) {\r\n                double Gb = (double) file.length() / 1073741824;\r\n                System.out.printf(&quot;%s Gb  %s%n&quot;, df.format(Gb), file); \r\n            } else if(file.length()&gt;= 1048576) {\r\n                System.out.printf(&quot;%s Mb  %s%n&quot;, file.length() / 1048576, file); \r\n            } else if (file.length()&gt;= 1024){\r\n                System.out.printf(&quot;%s Kb  %s%n&quot;, file.length() / 1024, file);  \r\n            } else if (file.length()&lt; 1024){\r\n                System.out.printf(&quot;%s B  %s%n&quot;, file.length(), file); \r\n            } else {\r\n                System.out.printf(&quot;%s Gb  %s%n&quot;, file.length() / (1073741824 * 1024), file); \r\n            }\r\n        }\r\n    \r\n        private void processDir() {\r\n            List&lt;FileTask&gt; tasks = new ArrayList&lt;&gt;();\r\n            File[] subFiles = file.listFiles();\r\n            for (File sub: subFiles) {\r\n                tasks.add(new FileTask(sub));\r\n            }\r\n            ForkJoinTask.invokeAll(tasks);\r\n        }\r\n    }\r\n\r\n","title":"How can I add &quot;Fork-join&quot; to my file search code?","body":"<p>I think the idea is that each task should process a single file/directory.</p>\n<p>Example:</p>\n<pre><code>    ForkJoinPool pool = new ForkJoinPool(20);\n    FileTask task = new FileTask(directory);\n    pool.invoke(task);\n</code></pre>\n<p>class FileTask:</p>\n<pre><code>public class FileTask extends RecursiveAction {\n    private final DecimalFormat df = new DecimalFormat(&quot;#.#&quot;);\n    private final File file;\n\n    public FileTask(File file) {\n        this.file = file;\n    }\n\n    @Override\n    protected void compute() {\n        if (file.isDirectory()) {\n            processDir();\n        } else if (file.isFile()) {\n            processFile();\n        }\n    }\n\n    private void processFile() {\n        if(file.length()&gt;= 1073741824) {\n            double Gb = (double) file.length() / 1073741824;\n            System.out.printf(&quot;%s Gb  %s%n&quot;, df.format(Gb), file); \n        } else if(file.length()&gt;= 1048576) {\n            System.out.printf(&quot;%s Mb  %s%n&quot;, file.length() / 1048576, file); \n        } else if (file.length()&gt;= 1024){\n            System.out.printf(&quot;%s Kb  %s%n&quot;, file.length() / 1024, file);  \n        } else if (file.length()&lt; 1024){\n            System.out.printf(&quot;%s B  %s%n&quot;, file.length(), file); \n        } else {\n            System.out.printf(&quot;%s Gb  %s%n&quot;, file.length() / (1073741824 * 1024), file); \n        }\n    }\n\n    private void processDir() {\n        List&lt;FileTask&gt; tasks = new ArrayList&lt;&gt;();\n        File[] subFiles = file.listFiles();\n        for (File sub: subFiles) {\n            tasks.add(new FileTask(sub));\n        }\n        ForkJoinTask.invokeAll(tasks);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27258764,"reputation":3,"user_id":20801129,"display_name":"VasiaJava"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74848592,"answer_count":2,"score":0,"last_activity_date":1671442492,"creation_date":1671435002,"question_id":74847374,"body_markdown":"I wrote a program that searches for the necessary files in a directory and its subfolders based on the desired file size. But according to the assignment, I need to add a multithreaded &quot;Fork-join&quot; mode. I understand that he can slow down, not speed up the work, but this was my assignment. I can&#39;t add it to the code in any way to make everything work.\r\n\r\n\r\n```\r\nimport java.io.File;\r\nimport java.text.DecimalFormat;\r\nimport java.util.ArrayList;\r\nimport java.util.Comparator;\r\nimport java.util.List;\r\nimport java.util.Scanner;\r\nimport java.util.concurrent.ForkJoinPool;\r\nimport java.util.concurrent.RecursiveTask;\r\n\r\npublic class  Main{\r\n    static Scanner in = new Scanner(System.in);\r\n    static File directory = new File(in.next());\r\n    public static final double MIN_LENGTH = in.nextDouble() * 1048576;  \r\n    static int numOfThreads = 2; \r\n\r\n\r\n\r\n    public static void main(String[] args) {\r\n        ArrayList&lt;File&gt; fileList = new ArrayList&lt;&gt;();\r\n        getFiles(directory, fileList);\r\n        fileList.sort(Comparator.&lt;File&gt;comparingLong(File::length).reversed());\r\n        DecimalFormat df = new DecimalFormat(&quot;#.#&quot;);\r\n        ForkJoinPool pool = new ForkJoinPool(numOfThreads);\r\n\r\n\r\n\r\n        for(File file: fileList) {\r\n\r\n            if(file.length()&gt;= 1073741824) {\r\n                double Gb = (double) file.length() / 1073741824;\r\n                System.out.printf(&quot;%s Gb  %s%n&quot;, df.format(Gb), file); \r\n            } else if(file.length()&gt;= 1048576) {\r\n                System.out.printf(&quot;%s Mb  %s%n&quot;, file.length() / 1048576, file); \r\n            } else if (file.length()&gt;= 1024){\r\n                System.out.printf(&quot;%s Kb  %s%n&quot;, file.length() / 1024, file);  \r\n            } else if (file.length()&lt; 1024){\r\n                System.out.printf(&quot;%s B  %s%n&quot;, file.length(), file); \r\n            } else {\r\n                System.out.printf(&quot;%s Gb  %s%n&quot;, file.length() / (1073741824 * 1024), file); \r\n            }\r\n        }\r\n    }\r\n\r\n    private static void getFiles(File rootFile, List&lt;File&gt; fileList) {\r\n        if (rootFile.isDirectory()) {\r\n            File[] directoryFiles = rootFile.listFiles();\r\n            if (directoryFiles != null) {\r\n                for (File file: directoryFiles) {\r\n                    if (file.isDirectory()) {\r\n                        getFiles(file, fileList);\r\n                    } else {\r\n                        if (file.isFile() &amp;&amp; file.length() &gt;= MIN_LENGTH) {\r\n                            fileList.add(file);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\nI tried to divide the work into 2 threads, the first thread processes files up to 5 megabytes, and the second one connects if the file is larger than 5 megabytes, but everything turned out crookedly and does not work","title":"How can I add &quot;Fork-join&quot; to my file search code?","body":"<p>I wrote a program that searches for the necessary files in a directory and its subfolders based on the desired file size. But according to the assignment, I need to add a multithreaded &quot;Fork-join&quot; mode. I understand that he can slow down, not speed up the work, but this was my assignment. I can't add it to the code in any way to make everything work.</p>\n<pre><code>import java.io.File;\nimport java.text.DecimalFormat;\nimport java.util.ArrayList;\nimport java.util.Comparator;\nimport java.util.List;\nimport java.util.Scanner;\nimport java.util.concurrent.ForkJoinPool;\nimport java.util.concurrent.RecursiveTask;\n\npublic class  Main{\n    static Scanner in = new Scanner(System.in);\n    static File directory = new File(in.next());\n    public static final double MIN_LENGTH = in.nextDouble() * 1048576;  \n    static int numOfThreads = 2; \n\n\n\n    public static void main(String[] args) {\n        ArrayList&lt;File&gt; fileList = new ArrayList&lt;&gt;();\n        getFiles(directory, fileList);\n        fileList.sort(Comparator.&lt;File&gt;comparingLong(File::length).reversed());\n        DecimalFormat df = new DecimalFormat(&quot;#.#&quot;);\n        ForkJoinPool pool = new ForkJoinPool(numOfThreads);\n\n\n\n        for(File file: fileList) {\n\n            if(file.length()&gt;= 1073741824) {\n                double Gb = (double) file.length() / 1073741824;\n                System.out.printf(&quot;%s Gb  %s%n&quot;, df.format(Gb), file); \n            } else if(file.length()&gt;= 1048576) {\n                System.out.printf(&quot;%s Mb  %s%n&quot;, file.length() / 1048576, file); \n            } else if (file.length()&gt;= 1024){\n                System.out.printf(&quot;%s Kb  %s%n&quot;, file.length() / 1024, file);  \n            } else if (file.length()&lt; 1024){\n                System.out.printf(&quot;%s B  %s%n&quot;, file.length(), file); \n            } else {\n                System.out.printf(&quot;%s Gb  %s%n&quot;, file.length() / (1073741824 * 1024), file); \n            }\n        }\n    }\n\n    private static void getFiles(File rootFile, List&lt;File&gt; fileList) {\n        if (rootFile.isDirectory()) {\n            File[] directoryFiles = rootFile.listFiles();\n            if (directoryFiles != null) {\n                for (File file: directoryFiles) {\n                    if (file.isDirectory()) {\n                        getFiles(file, fileList);\n                    } else {\n                        if (file.isFile() &amp;&amp; file.length() &gt;= MIN_LENGTH) {\n                            fileList.add(file);\n                        }\n                    }\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>I tried to divide the work into 2 threads, the first thread processes files up to 5 megabytes, and the second one connects if the file is larger than 5 megabytes, but everything turned out crookedly and does not work</p>\n"},{"tags":["java","spring-boot","junit","bearer-token"],"answers":[{"tags":[],"owner":{"account_id":8968914,"reputation":156,"user_id":6688283,"display_name":"Hanan Zamalin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671442125,"creation_date":1671442125,"answer_id":74848530,"question_id":74843707,"body_markdown":"The getForObject() method of RestTemplate does not support headers. You should use the exchange() method provided by the RestTemplate class.","title":"Spring Boot Microservices - Add authorization header to restTemplate.getForObject","body":"<p>The getForObject() method of RestTemplate does not support headers. You should use the exchange() method provided by the RestTemplate class.</p>\n"}],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671442125,"creation_date":1671390473,"question_id":74843707,"body_markdown":"I have a problem in defining bearer token in restTemplate.getForObject in OrderServiceImpl and OrderServiceImplTest of order service. The problem is located at **getOrderDetails** of **OrderServiceImpl**,  **test_When_Order_Success** and **test_When_Get_Order_NOT_FOUND_then_Not_Found** of OrderServiceImplTest.\r\n\r\nHere is the code snippets shown below.\r\n\r\n     @Override\r\n        public OrderResponse getOrderDetails(long orderId, String bearerToken) {\r\n    \r\n            HttpHeaders headers = new HttpHeaders();\r\n            headers.setContentType(MediaType.APPLICATION_JSON);\r\n            headers.set(&quot;Authorization&quot;, &quot;Bearer &quot;+ bearerToken);\r\n    \r\n            // How can I add bearer token in here\r\n            ProductResponse productResponse\r\n                    = restTemplate.getForObject(\r\n                    &quot;http://PRODUCT-SERVICE/product/&quot; + order.getProductId(),\r\n                    ProductResponse.class\r\n            );\r\n    \r\n            // How can I add bearer token in here\r\n            PaymentResponse paymentResponse\r\n                    = restTemplate.getForObject(\r\n                    &quot;http://PAYMENT-SERVICE/payment/order/&quot; + order.getId(),\r\n                    PaymentResponse.class\r\n            );\r\n    \r\n            ....\r\n    }\r\n\r\nHere is the test method shown below.\r\n\r\n        @DisplayName(&quot;Get Order - Success Scenario&quot;)\r\n        @Test\r\n        void test_When_Order_Success() {\r\n    \r\n            String bearerToken = &quot;&quot;;\r\n    \r\n            HttpHeaders headers = new HttpHeaders();\r\n            headers.setContentType(MediaType.APPLICATION_JSON);\r\n            headers.set(&quot;Authorization&quot;, &quot;Bearer &quot;+ bearerToken);\r\n    \r\n            //Mocking\r\n            Order order = getMockOrder();\r\n            when(orderRepository.findById(anyLong()))\r\n                    .thenReturn(Optional.of(order));\r\n    \r\n            when(restTemplate.getForObject(\r\n                    &quot;http://PRODUCT-SERVICE/product/&quot; + order.getProductId(),\r\n                    ProductResponse.class\r\n            )).thenReturn(getMockProductResponse());\r\n    \r\n            when(restTemplate.getForObject(\r\n                    &quot;http://PAYMENT-SERVICE/payment/order/&quot; + order.getId(),\r\n                    PaymentResponse.class\r\n            )).thenReturn(getMockPaymentResponse());\r\n    \r\n            //Actual\r\n            OrderResponse orderResponse = orderService.getOrderDetails(1,bearerToken);\r\n    \r\n            //Verification\r\n            verify(orderRepository, times(1)).findById(anyLong());\r\n            verify(restTemplate, times(1)).getForObject(\r\n                    &quot;http://PRODUCT-SERVICE/product/&quot; + order.getProductId(),\r\n                    ProductResponse.class);\r\n            verify(restTemplate, times(1)).getForObject(\r\n                    &quot;http://PAYMENT-SERVICE/payment/order/&quot; + order.getId(),\r\n                    PaymentResponse.class);\r\n    \r\n            //Assert\r\n            assertNotNull(orderResponse);\r\n            assertEquals(order.getId(), orderResponse.getOrderId());\r\n        }\r\n\r\n\r\nHow can I define bearer token in these methods?\r\n\r\nHere is the OrderServiceImpl : [Link][1]\r\n\r\nHere is the OrderServiceImplTest : [Link][2]\r\n\r\n\r\n  [1]: https://github.com/Rapter1990/springbootmicroservicedailybuffer/blob/master/orderservice/src/main/java/com/microservice/orderservice/service/impl/OrderServiceImpl.java\r\n  [2]: https://github.com/Rapter1990/springbootmicroservicedailybuffer/blob/master/orderservice/src/test/java/com/microservice/orderservice/service/OrderServiceImplTest.java","title":"Spring Boot Microservices - Add authorization header to restTemplate.getForObject","body":"<p>I have a problem in defining bearer token in restTemplate.getForObject in OrderServiceImpl and OrderServiceImplTest of order service. The problem is located at <strong>getOrderDetails</strong> of <strong>OrderServiceImpl</strong>,  <strong>test_When_Order_Success</strong> and <strong>test_When_Get_Order_NOT_FOUND_then_Not_Found</strong> of OrderServiceImplTest.</p>\n<p>Here is the code snippets shown below.</p>\n<pre><code> @Override\n    public OrderResponse getOrderDetails(long orderId, String bearerToken) {\n\n        HttpHeaders headers = new HttpHeaders();\n        headers.setContentType(MediaType.APPLICATION_JSON);\n        headers.set(&quot;Authorization&quot;, &quot;Bearer &quot;+ bearerToken);\n\n        // How can I add bearer token in here\n        ProductResponse productResponse\n                = restTemplate.getForObject(\n                &quot;http://PRODUCT-SERVICE/product/&quot; + order.getProductId(),\n                ProductResponse.class\n        );\n\n        // How can I add bearer token in here\n        PaymentResponse paymentResponse\n                = restTemplate.getForObject(\n                &quot;http://PAYMENT-SERVICE/payment/order/&quot; + order.getId(),\n                PaymentResponse.class\n        );\n\n        ....\n}\n</code></pre>\n<p>Here is the test method shown below.</p>\n<pre><code>    @DisplayName(&quot;Get Order - Success Scenario&quot;)\n    @Test\n    void test_When_Order_Success() {\n\n        String bearerToken = &quot;&quot;;\n\n        HttpHeaders headers = new HttpHeaders();\n        headers.setContentType(MediaType.APPLICATION_JSON);\n        headers.set(&quot;Authorization&quot;, &quot;Bearer &quot;+ bearerToken);\n\n        //Mocking\n        Order order = getMockOrder();\n        when(orderRepository.findById(anyLong()))\n                .thenReturn(Optional.of(order));\n\n        when(restTemplate.getForObject(\n                &quot;http://PRODUCT-SERVICE/product/&quot; + order.getProductId(),\n                ProductResponse.class\n        )).thenReturn(getMockProductResponse());\n\n        when(restTemplate.getForObject(\n                &quot;http://PAYMENT-SERVICE/payment/order/&quot; + order.getId(),\n                PaymentResponse.class\n        )).thenReturn(getMockPaymentResponse());\n\n        //Actual\n        OrderResponse orderResponse = orderService.getOrderDetails(1,bearerToken);\n\n        //Verification\n        verify(orderRepository, times(1)).findById(anyLong());\n        verify(restTemplate, times(1)).getForObject(\n                &quot;http://PRODUCT-SERVICE/product/&quot; + order.getProductId(),\n                ProductResponse.class);\n        verify(restTemplate, times(1)).getForObject(\n                &quot;http://PAYMENT-SERVICE/payment/order/&quot; + order.getId(),\n                PaymentResponse.class);\n\n        //Assert\n        assertNotNull(orderResponse);\n        assertEquals(order.getId(), orderResponse.getOrderId());\n    }\n</code></pre>\n<p>How can I define bearer token in these methods?</p>\n<p>Here is the OrderServiceImpl : <a href=\"https://github.com/Rapter1990/springbootmicroservicedailybuffer/blob/master/orderservice/src/main/java/com/microservice/orderservice/service/impl/OrderServiceImpl.java\" rel=\"nofollow noreferrer\">Link</a></p>\n<p>Here is the OrderServiceImplTest : <a href=\"https://github.com/Rapter1990/springbootmicroservicedailybuffer/blob/master/orderservice/src/test/java/com/microservice/orderservice/service/OrderServiceImplTest.java\" rel=\"nofollow noreferrer\">Link</a></p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":20420629,"reputation":658,"user_id":14981685,"display_name":"hossein"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671363718,"creation_date":1671363718,"answer_id":74841018,"question_id":74840791,"body_markdown":"set the layout_height from wrap_content to match_parent    \r\n\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;&gt;","title":"how to increase layout RtlViewPager","body":"<p>set the layout_height from wrap_content to match_parent</p>\n<pre><code>&lt;androidx.constraintlayout.widget.ConstraintLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18378745,"reputation":802,"user_id":13387235,"display_name":"Dhruv Sakariya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671441987,"creation_date":1671441987,"answer_id":74848497,"question_id":74840791,"body_markdown":"try this code..\r\n\r\n\r\n    &lt;LinearLayout \r\n         xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n            xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n            xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:descendantFocusability=&quot;blocksDescendants&quot;\r\n            android:focusableInTouchMode=&quot;true&quot;\r\n            android:orientation=&quot;vertical&quot;&gt;\r\n            &lt;LinearLayout\r\n                android:background=&quot;@color/colorPrimary&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n               \r\n                android:orientation=&quot;horizontal&quot;&gt;\r\n        \r\n                &lt;TextView\r\n                    android:textColor=&quot;@color/colorWhite&quot;\r\n                    android:layout_marginStart=&quot;30dp&quot;\r\n                    android:layout_marginTop=&quot;16dp&quot;\r\n                    android:id=&quot;@+id/calendartoday&quot;\r\n                    android:textSize=&quot;16dp&quot;\r\n                    android:layout_width=&quot;376dp&quot;\r\n                    android:layout_height=&quot;48dp&quot;\r\n                    android:text=&quot;TextView4&quot; /&gt;\r\n        \r\n            &lt;/LinearLayout&gt;\r\n        \r\n        \r\n            &lt;LinearLayout\r\n                           android:id=&quot;@+id/lyt_fragment_header&quot;\r\n                           android:layout_width=&quot;match_parent&quot;\r\n                           android:layout_height=&quot;wrap_content&quot;\r\n                           android:orientation=&quot;vertical&quot;\r\n                           android:paddingLeft=&quot;10dp&quot;\r\n                           android:paddingTop=&quot;10dp&quot;\r\n                           android:paddingRight=&quot;10dp&quot;&gt;\r\n        \r\n                           &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n                               android:layout_width=&quot;match_parent&quot;\r\n                               android:layout_height=&quot;wrap_content&quot;&gt;\r\n        \r\n                               &lt;com.Tamiltv.newspaper.utils.RtlViewPager\r\n                                   android:id=&quot;@+id/fragment_header&quot;\r\n                                   android:layout_width=&quot;0dp&quot;\r\n                                   android:layout_height=&quot;0dp&quot;\r\n                                   android:clipToPadding=&quot;false&quot;\r\n                                   android:overScrollMode=&quot;never&quot;\r\n                                   app:layout_constraintDimensionRatio=&quot;H,2:1.2&quot;\r\n                                   app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n                                   app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n                                   app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n        \r\n                           &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n        \r\n        \r\n        \r\n                       &lt;/LinearLayout&gt;\r\n        \r\n        \r\n        \r\n        \r\n        \r\n            &lt;LinearLayout\r\n                android:id=&quot;@+id/lyt_featured&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:orientation=&quot;vertical&quot;\r\n                android:paddingLeft=&quot;10dp&quot;\r\n                android:paddingTop=&quot;10dp&quot;\r\n                android:paddingRight=&quot;10dp&quot;&gt;\r\n        \r\n                &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;&gt;\r\n        \r\n                    &lt;androidx.viewpager.widget.ViewPager\r\n                        android:id=&quot;@+id/view_pager_featured&quot;\r\n                        android:layout_width=&quot;0dp&quot;\r\n                        android:layout_height=&quot;0dp&quot;\r\n                        android:clipToPadding=&quot;false&quot;\r\n                        android:overScrollMode=&quot;never&quot;\r\n                        app:layout_constraintDimensionRatio=&quot;H,2:1.2&quot;\r\n                        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n                        app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n                        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n                        tools:ignore=&quot;SpeakableTextPresentCheck&quot; /&gt;\r\n        \r\n                &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n        \r\n        \r\n                &lt;LinearLayout\r\n        \r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_marginTop=&quot;6dp&quot;\r\n                    android:orientation=&quot;vertical&quot;&gt;\r\n        \r\n                    &lt;com.google.android.material.tabs.TabLayout\r\n                        android:id=&quot;@+id/tabDots&quot;\r\n                        android:background=&quot;@color/card_background_color&quot;\r\n        \r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;24dp&quot;\r\n                        app:tabBackground=&quot;@drawable/tab_selector&quot;\r\n                        app:tabGravity=&quot;center&quot;\r\n                        app:tabIndicatorHeight=&quot;0dp&quot;\r\n                        tools:ignore=&quot;SpeakableTextPresentCheck&quot; /&gt;\r\n        \r\n                &lt;/LinearLayout&gt;\r\n        \r\n            &lt;/LinearLayout&gt;\r\n        \r\n        \r\n            &lt;LinearLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n        \r\n                android:layout_marginTop=&quot;6dp&quot;\r\n                android:orientation=&quot;horizontal&quot;&gt;\r\n        \r\n                &lt;Spinner\r\n        \r\n                    android:id=&quot;@+id/spinner&quot;\r\n                    android:layout_width=&quot;132dp&quot;\r\n                    android:layout_height=&quot;58dp&quot;\r\n                    android:layout_marginStart=&quot;8dp&quot;\r\n                    android:layout_marginTop=&quot;8dp&quot;\r\n                    android:layout_marginEnd=&quot;8dp&quot;\r\n                    android:layout_marginBottom=&quot;8dp&quot;\r\n                    android:layout_weight=&quot;1&quot;\r\n                    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                    app:layout_constraintHorizontal_bias=&quot;0.502&quot;\r\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                    app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n                    app:layout_constraintVertical_bias=&quot;0.498&quot;\r\n                    tools:ignore=&quot;SpeakableTextPresentCheck&quot; /&gt;\r\n        \r\n                &lt;Spinner\r\n        \r\n                    android:id=&quot;@+id/spinner2&quot;\r\n                    android:layout_width=&quot;132dp&quot;\r\n                    android:layout_height=&quot;58dp&quot;\r\n                    android:layout_marginStart=&quot;8dp&quot;\r\n                    android:layout_marginTop=&quot;8dp&quot;\r\n                    android:layout_marginEnd=&quot;8dp&quot;\r\n                    android:layout_marginBottom=&quot;8dp&quot;\r\n                    android:layout_weight=&quot;1&quot;\r\n                    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                    app:layout_constraintHorizontal_bias=&quot;0.502&quot;\r\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                    app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n                    app:layout_constraintVertical_bias=&quot;0.498&quot;\r\n                    tools:ignore=&quot;SpeakableTextPresentCheck&quot; /&gt;\r\n        \r\n                &lt;Spinner\r\n        \r\n                    android:id=&quot;@+id/spinner3&quot;\r\n                    android:layout_width=&quot;132dp&quot;\r\n                    android:layout_height=&quot;58dp&quot;\r\n                    android:layout_marginStart=&quot;8dp&quot;\r\n                    android:layout_marginTop=&quot;8dp&quot;\r\n                    android:layout_marginEnd=&quot;8dp&quot;\r\n                    android:layout_marginBottom=&quot;8dp&quot;\r\n                    android:layout_weight=&quot;1&quot;\r\n                    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                    app:layout_constraintHorizontal_bias=&quot;0.502&quot;\r\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                    app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n                    app:layout_constraintVertical_bias=&quot;0.498&quot;\r\n                    tools:ignore=&quot;SpeakableTextPresentCheck&quot; /&gt;\r\n        \r\n            &lt;/LinearLayout&gt;\r\n        \r\n            &lt;Button\r\n                android:layout_margin=&quot;10dp&quot;\r\n                android:id=&quot;@+id/button4&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;64dp&quot;\r\n                android:text=&quot;submit&quot; /&gt;\r\n        \r\n        \r\n        \r\n            &lt;LinearLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginTop=&quot;6dp&quot;\r\n                android:orientation=&quot;horizontal&quot;&gt;\r\n        \r\n        \r\n                &lt;Button\r\n                    android:id=&quot;@+id/prev&quot;\r\n        \r\n                    android:layout_width=&quot;120dp&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n        \r\n                    android:layout_weight=&quot;1&quot;\r\n                    android:background=&quot;@drawable/ripple_effect&quot;\r\n                    android:text=&quot;Prev&quot;\r\n                    app:icon=&quot;@drawable/prev&quot;\r\n                    app:iconGravity=&quot;start&quot;\r\n                    tools:ignore=&quot;TouchTargetSizeCheck&quot;&gt;\r\n        \r\n                &lt;/Button&gt;\r\n        \r\n                &lt;Button\r\n                    android:id=&quot;@+id/today&quot;\r\n                    app:icon=&quot;@drawable/today&quot;\r\n                    app:iconGravity=&quot;start&quot;\r\n        \r\n                    android:layout_width=&quot;120dp&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:background=&quot;@drawable/ripple_effect&quot;\r\n                    android:text=&quot;Today&quot;&gt;\r\n        \r\n                &lt;/Button&gt;\r\n        \r\n                &lt;Button\r\n                    android:id=&quot;@+id/next&quot;\r\n                    android:layout_width=&quot;120dp&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n        \r\n                    android:background=&quot;@drawable/ripple_effect&quot;\r\n                    android:text=&quot;Next&quot;\r\n                    app:icon=&quot;@drawable/next&quot;\r\n                    app:iconGravity=&quot;start&quot;\r\n                    tools:ignore=&quot;TouchTargetSizeCheck&quot;&gt;\r\n        \r\n                &lt;/Button&gt;\r\n            &lt;/LinearLayout&gt;\r\n        \r\n        \r\n        \r\n        \r\n        \r\n        \r\n        \r\n        \r\n        \r\n        &lt;!--    &lt;LinearLayout--&gt;\r\n        &lt;!--        android:id=&quot;@+id/lyt_category2&quot;--&gt;\r\n        &lt;!--        android:layout_width=&quot;match_parent&quot;--&gt;\r\n        &lt;!--        android:layout_height=&quot;wrap_content&quot;--&gt;\r\n        &lt;!--        android:layout_marginBottom=&quot;12dp&quot;--&gt;\r\n        &lt;!--        android:orientation=&quot;vertical&quot;&gt;--&gt;\r\n        \r\n        &lt;!--        &lt;com.balysv.materialripple.MaterialRippleLayout--&gt;\r\n        &lt;!--            android:id=&quot;@+id/ripple_more_category2&quot;--&gt;\r\n        &lt;!--            android:layout_width=&quot;wrap_content&quot;--&gt;\r\n        &lt;!--            android:layout_height=&quot;wrap_content&quot;--&gt;\r\n        &lt;!--            android:layout_marginBottom=&quot;10dp&quot;--&gt;\r\n        &lt;!--            app:mrl_rippleAlpha=&quot;0.2&quot;--&gt;\r\n        &lt;!--            app:mrl_rippleColor=&quot;@color/colorRipple&quot;--&gt;\r\n        &lt;!--            app:mrl_rippleHover=&quot;true&quot;--&gt;\r\n        &lt;!--            app:mrl_rippleOverlay=&quot;true&quot;/&gt;--&gt;\r\n        \r\n        &lt;!--        &lt;androidx.recyclerview.widget.RecyclerView--&gt;\r\n        &lt;!--            android:id=&quot;@+id/recycler_view_category2&quot;--&gt;\r\n        &lt;!--            android:layout_width=&quot;wrap_content&quot;--&gt;\r\n        &lt;!--            android:layout_height=&quot;wrap_content&quot;--&gt;\r\n        &lt;!--            android:layout_marginStart=&quot;10dp&quot;--&gt;\r\n        &lt;!--            android:layout_marginLeft=&quot;10dp&quot;--&gt;\r\n        &lt;!--            android:scrollbars=&quot;none&quot;--&gt;\r\n        &lt;!--            android:scrollingCache=&quot;true&quot; /&gt;--&gt;\r\n        \r\n        &lt;!--    &lt;/LinearLayout&gt;--&gt;\r\n        \r\n        \r\n        \r\n        \r\n        \r\n        \r\n        \r\n        \r\n        \r\n        &lt;!--    &lt;LinearLayout--&gt;\r\n        &lt;!--        android:id=&quot;@+id/lyt_category3&quot;--&gt;\r\n        &lt;!--        android:layout_width=&quot;match_parent&quot;--&gt;\r\n        &lt;!--        android:layout_height=&quot;wrap_content&quot;--&gt;\r\n        &lt;!--        android:layout_marginBottom=&quot;12dp&quot;--&gt;\r\n        &lt;!--        android:orientation=&quot;vertical&quot;&gt;--&gt;\r\n        \r\n        &lt;!--        &lt;com.balysv.materialripple.MaterialRippleLayout--&gt;\r\n        &lt;!--            android:id=&quot;@+id/ripple_more_category3&quot;--&gt;\r\n        &lt;!--            android:layout_width=&quot;wrap_content&quot;--&gt;\r\n        &lt;!--            android:layout_height=&quot;wrap_content&quot;--&gt;\r\n        &lt;!--            android:layout_marginBottom=&quot;10dp&quot;--&gt;\r\n        &lt;!--            app:mrl_rippleAlpha=&quot;0.2&quot;--&gt;\r\n        &lt;!--            app:mrl_rippleColor=&quot;@color/colorRipple&quot;--&gt;\r\n        &lt;!--            app:mrl_rippleHover=&quot;true&quot;--&gt;\r\n        &lt;!--            app:mrl_rippleOverlay=&quot;true&quot;&gt;--&gt;\r\n        \r\n        &lt;!--            &lt;RelativeLayout--&gt;\r\n        &lt;!--                android:layout_width=&quot;match_parent&quot;--&gt;\r\n        &lt;!--                android:layout_height=&quot;wrap_content&quot;--&gt;\r\n        &lt;!--                android:gravity=&quot;center_vertical&quot;--&gt;\r\n        &lt;!--                android:orientation=&quot;horizontal&quot;--&gt;\r\n        &lt;!--                android:padding=&quot;10dp&quot;&gt;--&gt;\r\n        \r\n        &lt;!--                &lt;LinearLayout--&gt;\r\n        &lt;!--                    android:layout_width=&quot;match_parent&quot;--&gt;\r\n        &lt;!--                    android:layout_height=&quot;wrap_content&quot;--&gt;\r\n        &lt;!--                    android:layout_marginEnd=&quot;2dp&quot;--&gt;\r\n        &lt;!--                    android:layout_marginRight=&quot;2dp&quot;--&gt;\r\n        &lt;!--                    android:layout_toStartOf=&quot;@+id/arrow_more3&quot;--&gt;\r\n        &lt;!--                    android:layout_toLeftOf=&quot;@+id/arrow_more3&quot;--&gt;\r\n        &lt;!--                    android:orientation=&quot;vertical&quot;&gt;--&gt;\r\n        \r\n        &lt;!--                    &lt;TextView--&gt;\r\n        &lt;!--                        android:id=&quot;@+id/txt_title_category3&quot;--&gt;\r\n        &lt;!--                        android:layout_width=&quot;wrap_content&quot;--&gt;\r\n        &lt;!--                        android:layout_height=&quot;wrap_content&quot;--&gt;\r\n        &lt;!--                        android:text=&quot;&quot;--&gt;\r\n        &lt;!--                        android:textAppearance=&quot;@style/Base.TextAppearance.AppCompat.Body2&quot;--&gt;\r\n        &lt;!--                        android:textSize=&quot;18sp&quot;--&gt;\r\n        &lt;!--                        android:textStyle=&quot;bold&quot; /&gt;--&gt;\r\n        \r\n        &lt;!--                &lt;/LinearLayout&gt;--&gt;\r\n        \r\n        &lt;!--                &lt;com.balysv.materialripple.MaterialRippleLayout--&gt;\r\n        &lt;!--                    android:id=&quot;@+id/arrow_more3&quot;--&gt;\r\n        &lt;!--                    android:layout_width=&quot;wrap_content&quot;--&gt;\r\n        &lt;!--                    android:layout_height=&quot;wrap_content&quot;--&gt;\r\n        &lt;!--                    android:layout_alignParentEnd=&quot;true&quot;--&gt;\r\n        &lt;!--                    android:layout_alignParentRight=&quot;true&quot;--&gt;\r\n        &lt;!--                    android:layout_centerVertical=&quot;true&quot;--&gt;\r\n        &lt;!--                    app:mrl_rippleAlpha=&quot;0.2&quot;--&gt;\r\n        &lt;!--                    app:mrl_rippleColor=&quot;@color/colorRipple&quot;--&gt;\r\n        &lt;!--                    app:mrl_rippleHover=&quot;true&quot;--&gt;\r\n        &lt;!--                    app:mrl_rippleOverlay=&quot;true&quot;&gt;--&gt;\r\n        \r\n        &lt;!--                    &lt;ImageView--&gt;\r\n        &lt;!--                        android:id=&quot;@+id/img_arrow_category3&quot;--&gt;\r\n        &lt;!--                        android:layout_width=&quot;24dp&quot;--&gt;\r\n        &lt;!--                        android:layout_height=&quot;24dp&quot; /&gt;--&gt;\r\n        \r\n        &lt;!--                &lt;/com.balysv.materialripple.MaterialRippleLayout&gt;--&gt;\r\n        \r\n        &lt;!--            &lt;/RelativeLayout&gt;--&gt;\r\n        \r\n        &lt;!--        &lt;/com.balysv.materialripple.MaterialRippleLayout&gt;--&gt;\r\n        \r\n        &lt;!--        &lt;androidx.recyclerview.widget.RecyclerView--&gt;\r\n        &lt;!--            android:id=&quot;@+id/recycler_view_category3&quot;--&gt;\r\n        &lt;!--            android:layout_width=&quot;wrap_content&quot;--&gt;\r\n        &lt;!--            android:layout_height=&quot;wrap_content&quot;--&gt;\r\n        &lt;!--            android:layout_marginStart=&quot;10dp&quot;--&gt;\r\n        &lt;!--            android:layout_marginLeft=&quot;10dp&quot;--&gt;\r\n        &lt;!--            android:scrollbars=&quot;none&quot;--&gt;\r\n        &lt;!--            android:scrollingCache=&quot;true&quot; /&gt;--&gt;\r\n        \r\n        &lt;!--    &lt;/LinearLayout&gt;--&gt;\r\n        \r\n        \r\n        \r\n        \r\n        \r\n        \r\n        \r\n        \r\n        \r\n        \r\n        \r\n        \r\n            &lt;LinearLayout\r\n                android:id=&quot;@+id/lyt_category&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:orientation=&quot;vertical&quot;&gt;\r\n        \r\n                &lt;com.balysv.materialripple.MaterialRippleLayout\r\n                    android:id=&quot;@+id/ripple_more_category&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_marginBottom=&quot;10dp&quot;\r\n                    app:mrl_rippleAlpha=&quot;0.2&quot;\r\n                    app:mrl_rippleColor=&quot;@color/colorRipple&quot;\r\n                    app:mrl_rippleHover=&quot;true&quot;\r\n                    app:mrl_rippleOverlay=&quot;true&quot;&gt;\r\n        \r\n                    &lt;RelativeLayout\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:gravity=&quot;center_vertical&quot;\r\n                        android:orientation=&quot;horizontal&quot;\r\n                        android:padding=&quot;10dp&quot;&gt;\r\n        \r\n                        &lt;LinearLayout\r\n                            android:layout_width=&quot;match_parent&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;\r\n                            android:layout_marginEnd=&quot;2dp&quot;\r\n                            android:layout_marginRight=&quot;2dp&quot;\r\n                            android:layout_toStartOf=&quot;@+id/arrow_more&quot;\r\n                            android:layout_toLeftOf=&quot;@+id/arrow_more&quot;\r\n                            android:orientation=&quot;vertical&quot;&gt;\r\n        \r\n                            &lt;TextView\r\n                                android:id=&quot;@+id/txt_title_category&quot;\r\n                                android:layout_width=&quot;wrap_content&quot;\r\n                                android:layout_height=&quot;wrap_content&quot;\r\n                                android:text=&quot;&quot;\r\n                                android:textAppearance=&quot;@style/Base.TextAppearance.AppCompat.Body2&quot;\r\n                                android:textSize=&quot;18sp&quot;\r\n                                android:textStyle=&quot;bold&quot; /&gt;\r\n        \r\n                        &lt;/LinearLayout&gt;\r\n        \r\n                        &lt;com.balysv.materialripple.MaterialRippleLayout\r\n                            android:id=&quot;@+id/arrow_more&quot;\r\n                            android:layout_width=&quot;wrap_content&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;\r\n                            android:layout_alignParentEnd=&quot;true&quot;\r\n                            android:layout_alignParentRight=&quot;true&quot;\r\n                            android:layout_centerVertical=&quot;true&quot;\r\n                            app:mrl_rippleAlpha=&quot;0.2&quot;\r\n                            app:mrl_rippleColor=&quot;@color/colorRipple&quot;\r\n                            app:mrl_rippleHover=&quot;true&quot;\r\n                            app:mrl_rippleOverlay=&quot;true&quot;&gt;\r\n        \r\n                            &lt;ImageView\r\n                                android:id=&quot;@+id/img_arrow_category&quot;\r\n                                android:layout_width=&quot;24dp&quot;\r\n                                android:layout_height=&quot;24dp&quot; /&gt;\r\n        \r\n                        &lt;/com.balysv.materialripple.MaterialRippleLayout&gt;\r\n        \r\n                    &lt;/RelativeLayout&gt;\r\n        \r\n                &lt;/com.balysv.materialripple.MaterialRippleLayout&gt;\r\n        \r\n                &lt;androidx.recyclerview.widget.RecyclerView\r\n                    android:id=&quot;@+id/recycler_view_category&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_marginStart=&quot;10dp&quot;\r\n                    android:layout_marginLeft=&quot;10dp&quot;\r\n                    android:scrollbars=&quot;none&quot;\r\n                    android:scrollingCache=&quot;true&quot; /&gt;\r\n        \r\n            &lt;/LinearLayout&gt;\r\n        \r\n            &lt;com.solodroid.ads.sdk.ui.MediumNativeAdView\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginLeft=&quot;10dp&quot;\r\n                android:layout_marginRight=&quot;10dp&quot; /&gt;\r\n        \r\n            &lt;LinearLayout\r\n                android:id=&quot;@+id/lyt_recipes&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginBottom=&quot;10dp&quot;\r\n                android:orientation=&quot;vertical&quot;&gt;\r\n        \r\n                &lt;com.balysv.materialripple.MaterialRippleLayout\r\n                    android:id=&quot;@+id/ripple_recent_more&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_marginBottom=&quot;10dp&quot;\r\n                    app:mrl_rippleAlpha=&quot;0.2&quot;\r\n                    app:mrl_rippleColor=&quot;@color/colorRipple&quot;\r\n                    app:mrl_rippleHover=&quot;true&quot;\r\n                    app:mrl_rippleOverlay=&quot;true&quot;&gt;\r\n        \r\n                    &lt;RelativeLayout\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:gravity=&quot;center_vertical&quot;\r\n                        android:orientation=&quot;horizontal&quot;\r\n                        android:padding=&quot;10dp&quot;&gt;\r\n        \r\n                        &lt;LinearLayout\r\n                            android:layout_width=&quot;match_parent&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;\r\n                            android:layout_centerVertical=&quot;true&quot;\r\n                            android:layout_toStartOf=&quot;@+id/arrow_recent_more&quot;\r\n                            android:layout_toLeftOf=&quot;@+id/arrow_recent_more&quot;\r\n                            android:orientation=&quot;vertical&quot;&gt;\r\n        \r\n                            &lt;TextView\r\n                                android:id=&quot;@+id/txt_title_recent&quot;\r\n                                android:layout_width=&quot;wrap_content&quot;\r\n                                android:layout_height=&quot;wrap_content&quot;\r\n                                android:text=&quot;&quot;\r\n                                android:textAppearance=&quot;@style/Base.TextAppearance.AppCompat.Body2&quot;\r\n                                android:textSize=&quot;18sp&quot;\r\n                                android:textStyle=&quot;bold&quot; /&gt;\r\n        \r\n                        &lt;/LinearLayout&gt;\r\n        \r\n                        &lt;com.balysv.materialripple.MaterialRippleLayout\r\n                            android:id=&quot;@+id/arrow_recent_more&quot;\r\n                            android:layout_width=&quot;wrap_content&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;\r\n                            android:layout_alignParentEnd=&quot;true&quot;\r\n                            android:layout_alignParentRight=&quot;true&quot;\r\n                            android:layout_centerVertical=&quot;true&quot;\r\n                            app:mrl_rippleAlpha=&quot;0.2&quot;\r\n                            app:mrl_rippleColor=&quot;@color/colorRipple&quot;\r\n                            app:mrl_rippleHover=&quot;true&quot;\r\n                            app:mrl_rippleOverlay=&quot;true&quot;&gt;\r\n        \r\n                            &lt;ImageView\r\n                                android:id=&quot;@+id/img_arrow_recent&quot;\r\n                                android:layout_width=&quot;24dp&quot;\r\n                                android:layout_height=&quot;24dp&quot; /&gt;\r\n        \r\n                        &lt;/com.balysv.materialripple.MaterialRippleLayout&gt;\r\n        \r\n                    &lt;/RelativeLayout&gt;\r\n        \r\n                &lt;/com.balysv.materialripple.MaterialRippleLayout&gt;\r\n        \r\n                &lt;androidx.recyclerview.widget.RecyclerView\r\n                    android:id=&quot;@+id/recycler_view_recent&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_marginStart=&quot;10dp&quot;\r\n                    android:layout_marginLeft=&quot;10dp&quot;\r\n                    android:scrollbars=&quot;none&quot;\r\n                    android:scrollingCache=&quot;true&quot; /&gt;\r\n        \r\n            &lt;/LinearLayout&gt;\r\n        \r\n            &lt;LinearLayout\r\n                android:id=&quot;@+id/lyt_videos&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginBottom=&quot;10dp&quot;\r\n                android:orientation=&quot;vertical&quot;&gt;\r\n        \r\n                &lt;com.balysv.materialripple.MaterialRippleLayout\r\n                    android:id=&quot;@+id/ripple_videos_more&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_marginBottom=&quot;10dp&quot;\r\n                    app:mrl_rippleAlpha=&quot;0.2&quot;\r\n                    app:mrl_rippleColor=&quot;@color/colorRipple&quot;\r\n                    app:mrl_rippleHover=&quot;true&quot;\r\n                    app:mrl_rippleOverlay=&quot;true&quot;&gt;\r\n        \r\n                    &lt;RelativeLayout\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:gravity=&quot;center_vertical&quot;\r\n                        android:orientation=&quot;horizontal&quot;\r\n                        android:padding=&quot;10dp&quot;&gt;\r\n        \r\n                        &lt;LinearLayout\r\n                            android:layout_width=&quot;match_parent&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;\r\n                            android:layout_centerVertical=&quot;true&quot;\r\n                            android:layout_toStartOf=&quot;@+id/arrow_videos_more&quot;\r\n                            android:layout_toLeftOf=&quot;@+id/arrow_videos_more&quot;\r\n                            android:orientation=&quot;vertical&quot;&gt;\r\n        \r\n                            &lt;TextView\r\n                                android:id=&quot;@+id/txt_title_videos&quot;\r\n                                android:layout_width=&quot;wrap_content&quot;\r\n                                android:layout_height=&quot;wrap_content&quot;\r\n                                android:text=&quot;&quot;\r\n                                android:textAppearance=&quot;@style/Base.TextAppearance.AppCompat.Body2&quot;\r\n                                android:textSize=&quot;18sp&quot;\r\n                                android:textStyle=&quot;bold&quot; /&gt;\r\n        \r\n                        &lt;/LinearLayout&gt;\r\n        \r\n                        &lt;com.balysv.materialripple.MaterialRippleLayout\r\n                            android:id=&quot;@+id/arrow_videos_more&quot;\r\n                            android:layout_width=&quot;wrap_content&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;\r\n                            android:layout_alignParentEnd=&quot;true&quot;\r\n                            android:layout_alignParentRight=&quot;true&quot;\r\n                            android:layout_centerVertical=&quot;true&quot;\r\n                            app:mrl_rippleAlpha=&quot;0.2&quot;\r\n                            app:mrl_rippleColor=&quot;@color/colorRipple&quot;\r\n                            app:mrl_rippleHover=&quot;true&quot;\r\n                            app:mrl_rippleOverlay=&quot;true&quot;&gt;\r\n        \r\n                            &lt;ImageView\r\n                                android:id=&quot;@+id/img_arrow_videos&quot;\r\n                                android:layout_width=&quot;24dp&quot;\r\n                                android:layout_height=&quot;24dp&quot; /&gt;\r\n        \r\n                        &lt;/com.balysv.materialripple.MaterialRippleLayout&gt;\r\n        \r\n                    &lt;/RelativeLayout&gt;\r\n        \r\n                &lt;/com.balysv.materialripple.MaterialRippleLayout&gt;\r\n        \r\n                &lt;androidx.recyclerview.widget.RecyclerView\r\n                    android:id=&quot;@+id/recycler_view_videos&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_marginStart=&quot;10dp&quot;\r\n                    android:layout_marginLeft=&quot;10dp&quot;\r\n                    android:scrollbars=&quot;none&quot;\r\n                    android:scrollingCache=&quot;true&quot; /&gt;\r\n        \r\n            &lt;/LinearLayout&gt;\r\n        \r\n        \r\n        &lt;/LinearLayout&gt;\r\n\r\n","title":"how to increase layout RtlViewPager","body":"<p>try this code..</p>\n<pre><code>&lt;LinearLayout \n     xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:descendantFocusability=&quot;blocksDescendants&quot;\n        android:focusableInTouchMode=&quot;true&quot;\n        android:orientation=&quot;vertical&quot;&gt;\n        &lt;LinearLayout\n            android:background=&quot;@color/colorPrimary&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n           \n            android:orientation=&quot;horizontal&quot;&gt;\n    \n            &lt;TextView\n                android:textColor=&quot;@color/colorWhite&quot;\n                android:layout_marginStart=&quot;30dp&quot;\n                android:layout_marginTop=&quot;16dp&quot;\n                android:id=&quot;@+id/calendartoday&quot;\n                android:textSize=&quot;16dp&quot;\n                android:layout_width=&quot;376dp&quot;\n                android:layout_height=&quot;48dp&quot;\n                android:text=&quot;TextView4&quot; /&gt;\n    \n        &lt;/LinearLayout&gt;\n    \n    \n        &lt;LinearLayout\n                       android:id=&quot;@+id/lyt_fragment_header&quot;\n                       android:layout_width=&quot;match_parent&quot;\n                       android:layout_height=&quot;wrap_content&quot;\n                       android:orientation=&quot;vertical&quot;\n                       android:paddingLeft=&quot;10dp&quot;\n                       android:paddingTop=&quot;10dp&quot;\n                       android:paddingRight=&quot;10dp&quot;&gt;\n    \n                       &lt;androidx.constraintlayout.widget.ConstraintLayout\n                           android:layout_width=&quot;match_parent&quot;\n                           android:layout_height=&quot;wrap_content&quot;&gt;\n    \n                           &lt;com.Tamiltv.newspaper.utils.RtlViewPager\n                               android:id=&quot;@+id/fragment_header&quot;\n                               android:layout_width=&quot;0dp&quot;\n                               android:layout_height=&quot;0dp&quot;\n                               android:clipToPadding=&quot;false&quot;\n                               android:overScrollMode=&quot;never&quot;\n                               app:layout_constraintDimensionRatio=&quot;H,2:1.2&quot;\n                               app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n                               app:layout_constraintRight_toRightOf=&quot;parent&quot;\n                               app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n    \n                       &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n    \n    \n    \n                   &lt;/LinearLayout&gt;\n    \n    \n    \n    \n    \n        &lt;LinearLayout\n            android:id=&quot;@+id/lyt_featured&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:orientation=&quot;vertical&quot;\n            android:paddingLeft=&quot;10dp&quot;\n            android:paddingTop=&quot;10dp&quot;\n            android:paddingRight=&quot;10dp&quot;&gt;\n    \n            &lt;androidx.constraintlayout.widget.ConstraintLayout\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;&gt;\n    \n                &lt;androidx.viewpager.widget.ViewPager\n                    android:id=&quot;@+id/view_pager_featured&quot;\n                    android:layout_width=&quot;0dp&quot;\n                    android:layout_height=&quot;0dp&quot;\n                    android:clipToPadding=&quot;false&quot;\n                    android:overScrollMode=&quot;never&quot;\n                    app:layout_constraintDimensionRatio=&quot;H,2:1.2&quot;\n                    app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n                    app:layout_constraintRight_toRightOf=&quot;parent&quot;\n                    app:layout_constraintTop_toTopOf=&quot;parent&quot;\n                    tools:ignore=&quot;SpeakableTextPresentCheck&quot; /&gt;\n    \n            &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n    \n    \n            &lt;LinearLayout\n    \n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginTop=&quot;6dp&quot;\n                android:orientation=&quot;vertical&quot;&gt;\n    \n                &lt;com.google.android.material.tabs.TabLayout\n                    android:id=&quot;@+id/tabDots&quot;\n                    android:background=&quot;@color/card_background_color&quot;\n    \n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;24dp&quot;\n                    app:tabBackground=&quot;@drawable/tab_selector&quot;\n                    app:tabGravity=&quot;center&quot;\n                    app:tabIndicatorHeight=&quot;0dp&quot;\n                    tools:ignore=&quot;SpeakableTextPresentCheck&quot; /&gt;\n    \n            &lt;/LinearLayout&gt;\n    \n        &lt;/LinearLayout&gt;\n    \n    \n        &lt;LinearLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n    \n            android:layout_marginTop=&quot;6dp&quot;\n            android:orientation=&quot;horizontal&quot;&gt;\n    \n            &lt;Spinner\n    \n                android:id=&quot;@+id/spinner&quot;\n                android:layout_width=&quot;132dp&quot;\n                android:layout_height=&quot;58dp&quot;\n                android:layout_marginStart=&quot;8dp&quot;\n                android:layout_marginTop=&quot;8dp&quot;\n                android:layout_marginEnd=&quot;8dp&quot;\n                android:layout_marginBottom=&quot;8dp&quot;\n                android:layout_weight=&quot;1&quot;\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                app:layout_constraintHorizontal_bias=&quot;0.502&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\n                app:layout_constraintVertical_bias=&quot;0.498&quot;\n                tools:ignore=&quot;SpeakableTextPresentCheck&quot; /&gt;\n    \n            &lt;Spinner\n    \n                android:id=&quot;@+id/spinner2&quot;\n                android:layout_width=&quot;132dp&quot;\n                android:layout_height=&quot;58dp&quot;\n                android:layout_marginStart=&quot;8dp&quot;\n                android:layout_marginTop=&quot;8dp&quot;\n                android:layout_marginEnd=&quot;8dp&quot;\n                android:layout_marginBottom=&quot;8dp&quot;\n                android:layout_weight=&quot;1&quot;\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                app:layout_constraintHorizontal_bias=&quot;0.502&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\n                app:layout_constraintVertical_bias=&quot;0.498&quot;\n                tools:ignore=&quot;SpeakableTextPresentCheck&quot; /&gt;\n    \n            &lt;Spinner\n    \n                android:id=&quot;@+id/spinner3&quot;\n                android:layout_width=&quot;132dp&quot;\n                android:layout_height=&quot;58dp&quot;\n                android:layout_marginStart=&quot;8dp&quot;\n                android:layout_marginTop=&quot;8dp&quot;\n                android:layout_marginEnd=&quot;8dp&quot;\n                android:layout_marginBottom=&quot;8dp&quot;\n                android:layout_weight=&quot;1&quot;\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                app:layout_constraintHorizontal_bias=&quot;0.502&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\n                app:layout_constraintVertical_bias=&quot;0.498&quot;\n                tools:ignore=&quot;SpeakableTextPresentCheck&quot; /&gt;\n    \n        &lt;/LinearLayout&gt;\n    \n        &lt;Button\n            android:layout_margin=&quot;10dp&quot;\n            android:id=&quot;@+id/button4&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;64dp&quot;\n            android:text=&quot;submit&quot; /&gt;\n    \n    \n    \n        &lt;LinearLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginTop=&quot;6dp&quot;\n            android:orientation=&quot;horizontal&quot;&gt;\n    \n    \n            &lt;Button\n                android:id=&quot;@+id/prev&quot;\n    \n                android:layout_width=&quot;120dp&quot;\n                android:layout_height=&quot;wrap_content&quot;\n    \n                android:layout_weight=&quot;1&quot;\n                android:background=&quot;@drawable/ripple_effect&quot;\n                android:text=&quot;Prev&quot;\n                app:icon=&quot;@drawable/prev&quot;\n                app:iconGravity=&quot;start&quot;\n                tools:ignore=&quot;TouchTargetSizeCheck&quot;&gt;\n    \n            &lt;/Button&gt;\n    \n            &lt;Button\n                android:id=&quot;@+id/today&quot;\n                app:icon=&quot;@drawable/today&quot;\n                app:iconGravity=&quot;start&quot;\n    \n                android:layout_width=&quot;120dp&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:background=&quot;@drawable/ripple_effect&quot;\n                android:text=&quot;Today&quot;&gt;\n    \n            &lt;/Button&gt;\n    \n            &lt;Button\n                android:id=&quot;@+id/next&quot;\n                android:layout_width=&quot;120dp&quot;\n                android:layout_height=&quot;wrap_content&quot;\n    \n                android:background=&quot;@drawable/ripple_effect&quot;\n                android:text=&quot;Next&quot;\n                app:icon=&quot;@drawable/next&quot;\n                app:iconGravity=&quot;start&quot;\n                tools:ignore=&quot;TouchTargetSizeCheck&quot;&gt;\n    \n            &lt;/Button&gt;\n        &lt;/LinearLayout&gt;\n    \n    \n    \n    \n    \n    \n    \n    \n    \n    &lt;!--    &lt;LinearLayout--&gt;\n    &lt;!--        android:id=&quot;@+id/lyt_category2&quot;--&gt;\n    &lt;!--        android:layout_width=&quot;match_parent&quot;--&gt;\n    &lt;!--        android:layout_height=&quot;wrap_content&quot;--&gt;\n    &lt;!--        android:layout_marginBottom=&quot;12dp&quot;--&gt;\n    &lt;!--        android:orientation=&quot;vertical&quot;&gt;--&gt;\n    \n    &lt;!--        &lt;com.balysv.materialripple.MaterialRippleLayout--&gt;\n    &lt;!--            android:id=&quot;@+id/ripple_more_category2&quot;--&gt;\n    &lt;!--            android:layout_width=&quot;wrap_content&quot;--&gt;\n    &lt;!--            android:layout_height=&quot;wrap_content&quot;--&gt;\n    &lt;!--            android:layout_marginBottom=&quot;10dp&quot;--&gt;\n    &lt;!--            app:mrl_rippleAlpha=&quot;0.2&quot;--&gt;\n    &lt;!--            app:mrl_rippleColor=&quot;@color/colorRipple&quot;--&gt;\n    &lt;!--            app:mrl_rippleHover=&quot;true&quot;--&gt;\n    &lt;!--            app:mrl_rippleOverlay=&quot;true&quot;/&gt;--&gt;\n    \n    &lt;!--        &lt;androidx.recyclerview.widget.RecyclerView--&gt;\n    &lt;!--            android:id=&quot;@+id/recycler_view_category2&quot;--&gt;\n    &lt;!--            android:layout_width=&quot;wrap_content&quot;--&gt;\n    &lt;!--            android:layout_height=&quot;wrap_content&quot;--&gt;\n    &lt;!--            android:layout_marginStart=&quot;10dp&quot;--&gt;\n    &lt;!--            android:layout_marginLeft=&quot;10dp&quot;--&gt;\n    &lt;!--            android:scrollbars=&quot;none&quot;--&gt;\n    &lt;!--            android:scrollingCache=&quot;true&quot; /&gt;--&gt;\n    \n    &lt;!--    &lt;/LinearLayout&gt;--&gt;\n    \n    \n    \n    \n    \n    \n    \n    \n    \n    &lt;!--    &lt;LinearLayout--&gt;\n    &lt;!--        android:id=&quot;@+id/lyt_category3&quot;--&gt;\n    &lt;!--        android:layout_width=&quot;match_parent&quot;--&gt;\n    &lt;!--        android:layout_height=&quot;wrap_content&quot;--&gt;\n    &lt;!--        android:layout_marginBottom=&quot;12dp&quot;--&gt;\n    &lt;!--        android:orientation=&quot;vertical&quot;&gt;--&gt;\n    \n    &lt;!--        &lt;com.balysv.materialripple.MaterialRippleLayout--&gt;\n    &lt;!--            android:id=&quot;@+id/ripple_more_category3&quot;--&gt;\n    &lt;!--            android:layout_width=&quot;wrap_content&quot;--&gt;\n    &lt;!--            android:layout_height=&quot;wrap_content&quot;--&gt;\n    &lt;!--            android:layout_marginBottom=&quot;10dp&quot;--&gt;\n    &lt;!--            app:mrl_rippleAlpha=&quot;0.2&quot;--&gt;\n    &lt;!--            app:mrl_rippleColor=&quot;@color/colorRipple&quot;--&gt;\n    &lt;!--            app:mrl_rippleHover=&quot;true&quot;--&gt;\n    &lt;!--            app:mrl_rippleOverlay=&quot;true&quot;&gt;--&gt;\n    \n    &lt;!--            &lt;RelativeLayout--&gt;\n    &lt;!--                android:layout_width=&quot;match_parent&quot;--&gt;\n    &lt;!--                android:layout_height=&quot;wrap_content&quot;--&gt;\n    &lt;!--                android:gravity=&quot;center_vertical&quot;--&gt;\n    &lt;!--                android:orientation=&quot;horizontal&quot;--&gt;\n    &lt;!--                android:padding=&quot;10dp&quot;&gt;--&gt;\n    \n    &lt;!--                &lt;LinearLayout--&gt;\n    &lt;!--                    android:layout_width=&quot;match_parent&quot;--&gt;\n    &lt;!--                    android:layout_height=&quot;wrap_content&quot;--&gt;\n    &lt;!--                    android:layout_marginEnd=&quot;2dp&quot;--&gt;\n    &lt;!--                    android:layout_marginRight=&quot;2dp&quot;--&gt;\n    &lt;!--                    android:layout_toStartOf=&quot;@+id/arrow_more3&quot;--&gt;\n    &lt;!--                    android:layout_toLeftOf=&quot;@+id/arrow_more3&quot;--&gt;\n    &lt;!--                    android:orientation=&quot;vertical&quot;&gt;--&gt;\n    \n    &lt;!--                    &lt;TextView--&gt;\n    &lt;!--                        android:id=&quot;@+id/txt_title_category3&quot;--&gt;\n    &lt;!--                        android:layout_width=&quot;wrap_content&quot;--&gt;\n    &lt;!--                        android:layout_height=&quot;wrap_content&quot;--&gt;\n    &lt;!--                        android:text=&quot;&quot;--&gt;\n    &lt;!--                        android:textAppearance=&quot;@style/Base.TextAppearance.AppCompat.Body2&quot;--&gt;\n    &lt;!--                        android:textSize=&quot;18sp&quot;--&gt;\n    &lt;!--                        android:textStyle=&quot;bold&quot; /&gt;--&gt;\n    \n    &lt;!--                &lt;/LinearLayout&gt;--&gt;\n    \n    &lt;!--                &lt;com.balysv.materialripple.MaterialRippleLayout--&gt;\n    &lt;!--                    android:id=&quot;@+id/arrow_more3&quot;--&gt;\n    &lt;!--                    android:layout_width=&quot;wrap_content&quot;--&gt;\n    &lt;!--                    android:layout_height=&quot;wrap_content&quot;--&gt;\n    &lt;!--                    android:layout_alignParentEnd=&quot;true&quot;--&gt;\n    &lt;!--                    android:layout_alignParentRight=&quot;true&quot;--&gt;\n    &lt;!--                    android:layout_centerVertical=&quot;true&quot;--&gt;\n    &lt;!--                    app:mrl_rippleAlpha=&quot;0.2&quot;--&gt;\n    &lt;!--                    app:mrl_rippleColor=&quot;@color/colorRipple&quot;--&gt;\n    &lt;!--                    app:mrl_rippleHover=&quot;true&quot;--&gt;\n    &lt;!--                    app:mrl_rippleOverlay=&quot;true&quot;&gt;--&gt;\n    \n    &lt;!--                    &lt;ImageView--&gt;\n    &lt;!--                        android:id=&quot;@+id/img_arrow_category3&quot;--&gt;\n    &lt;!--                        android:layout_width=&quot;24dp&quot;--&gt;\n    &lt;!--                        android:layout_height=&quot;24dp&quot; /&gt;--&gt;\n    \n    &lt;!--                &lt;/com.balysv.materialripple.MaterialRippleLayout&gt;--&gt;\n    \n    &lt;!--            &lt;/RelativeLayout&gt;--&gt;\n    \n    &lt;!--        &lt;/com.balysv.materialripple.MaterialRippleLayout&gt;--&gt;\n    \n    &lt;!--        &lt;androidx.recyclerview.widget.RecyclerView--&gt;\n    &lt;!--            android:id=&quot;@+id/recycler_view_category3&quot;--&gt;\n    &lt;!--            android:layout_width=&quot;wrap_content&quot;--&gt;\n    &lt;!--            android:layout_height=&quot;wrap_content&quot;--&gt;\n    &lt;!--            android:layout_marginStart=&quot;10dp&quot;--&gt;\n    &lt;!--            android:layout_marginLeft=&quot;10dp&quot;--&gt;\n    &lt;!--            android:scrollbars=&quot;none&quot;--&gt;\n    &lt;!--            android:scrollingCache=&quot;true&quot; /&gt;--&gt;\n    \n    &lt;!--    &lt;/LinearLayout&gt;--&gt;\n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n        &lt;LinearLayout\n            android:id=&quot;@+id/lyt_category&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:orientation=&quot;vertical&quot;&gt;\n    \n            &lt;com.balysv.materialripple.MaterialRippleLayout\n                android:id=&quot;@+id/ripple_more_category&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginBottom=&quot;10dp&quot;\n                app:mrl_rippleAlpha=&quot;0.2&quot;\n                app:mrl_rippleColor=&quot;@color/colorRipple&quot;\n                app:mrl_rippleHover=&quot;true&quot;\n                app:mrl_rippleOverlay=&quot;true&quot;&gt;\n    \n                &lt;RelativeLayout\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:gravity=&quot;center_vertical&quot;\n                    android:orientation=&quot;horizontal&quot;\n                    android:padding=&quot;10dp&quot;&gt;\n    \n                    &lt;LinearLayout\n                        android:layout_width=&quot;match_parent&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:layout_marginEnd=&quot;2dp&quot;\n                        android:layout_marginRight=&quot;2dp&quot;\n                        android:layout_toStartOf=&quot;@+id/arrow_more&quot;\n                        android:layout_toLeftOf=&quot;@+id/arrow_more&quot;\n                        android:orientation=&quot;vertical&quot;&gt;\n    \n                        &lt;TextView\n                            android:id=&quot;@+id/txt_title_category&quot;\n                            android:layout_width=&quot;wrap_content&quot;\n                            android:layout_height=&quot;wrap_content&quot;\n                            android:text=&quot;&quot;\n                            android:textAppearance=&quot;@style/Base.TextAppearance.AppCompat.Body2&quot;\n                            android:textSize=&quot;18sp&quot;\n                            android:textStyle=&quot;bold&quot; /&gt;\n    \n                    &lt;/LinearLayout&gt;\n    \n                    &lt;com.balysv.materialripple.MaterialRippleLayout\n                        android:id=&quot;@+id/arrow_more&quot;\n                        android:layout_width=&quot;wrap_content&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:layout_alignParentEnd=&quot;true&quot;\n                        android:layout_alignParentRight=&quot;true&quot;\n                        android:layout_centerVertical=&quot;true&quot;\n                        app:mrl_rippleAlpha=&quot;0.2&quot;\n                        app:mrl_rippleColor=&quot;@color/colorRipple&quot;\n                        app:mrl_rippleHover=&quot;true&quot;\n                        app:mrl_rippleOverlay=&quot;true&quot;&gt;\n    \n                        &lt;ImageView\n                            android:id=&quot;@+id/img_arrow_category&quot;\n                            android:layout_width=&quot;24dp&quot;\n                            android:layout_height=&quot;24dp&quot; /&gt;\n    \n                    &lt;/com.balysv.materialripple.MaterialRippleLayout&gt;\n    \n                &lt;/RelativeLayout&gt;\n    \n            &lt;/com.balysv.materialripple.MaterialRippleLayout&gt;\n    \n            &lt;androidx.recyclerview.widget.RecyclerView\n                android:id=&quot;@+id/recycler_view_category&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginStart=&quot;10dp&quot;\n                android:layout_marginLeft=&quot;10dp&quot;\n                android:scrollbars=&quot;none&quot;\n                android:scrollingCache=&quot;true&quot; /&gt;\n    \n        &lt;/LinearLayout&gt;\n    \n        &lt;com.solodroid.ads.sdk.ui.MediumNativeAdView\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginLeft=&quot;10dp&quot;\n            android:layout_marginRight=&quot;10dp&quot; /&gt;\n    \n        &lt;LinearLayout\n            android:id=&quot;@+id/lyt_recipes&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginBottom=&quot;10dp&quot;\n            android:orientation=&quot;vertical&quot;&gt;\n    \n            &lt;com.balysv.materialripple.MaterialRippleLayout\n                android:id=&quot;@+id/ripple_recent_more&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginBottom=&quot;10dp&quot;\n                app:mrl_rippleAlpha=&quot;0.2&quot;\n                app:mrl_rippleColor=&quot;@color/colorRipple&quot;\n                app:mrl_rippleHover=&quot;true&quot;\n                app:mrl_rippleOverlay=&quot;true&quot;&gt;\n    \n                &lt;RelativeLayout\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:gravity=&quot;center_vertical&quot;\n                    android:orientation=&quot;horizontal&quot;\n                    android:padding=&quot;10dp&quot;&gt;\n    \n                    &lt;LinearLayout\n                        android:layout_width=&quot;match_parent&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:layout_centerVertical=&quot;true&quot;\n                        android:layout_toStartOf=&quot;@+id/arrow_recent_more&quot;\n                        android:layout_toLeftOf=&quot;@+id/arrow_recent_more&quot;\n                        android:orientation=&quot;vertical&quot;&gt;\n    \n                        &lt;TextView\n                            android:id=&quot;@+id/txt_title_recent&quot;\n                            android:layout_width=&quot;wrap_content&quot;\n                            android:layout_height=&quot;wrap_content&quot;\n                            android:text=&quot;&quot;\n                            android:textAppearance=&quot;@style/Base.TextAppearance.AppCompat.Body2&quot;\n                            android:textSize=&quot;18sp&quot;\n                            android:textStyle=&quot;bold&quot; /&gt;\n    \n                    &lt;/LinearLayout&gt;\n    \n                    &lt;com.balysv.materialripple.MaterialRippleLayout\n                        android:id=&quot;@+id/arrow_recent_more&quot;\n                        android:layout_width=&quot;wrap_content&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:layout_alignParentEnd=&quot;true&quot;\n                        android:layout_alignParentRight=&quot;true&quot;\n                        android:layout_centerVertical=&quot;true&quot;\n                        app:mrl_rippleAlpha=&quot;0.2&quot;\n                        app:mrl_rippleColor=&quot;@color/colorRipple&quot;\n                        app:mrl_rippleHover=&quot;true&quot;\n                        app:mrl_rippleOverlay=&quot;true&quot;&gt;\n    \n                        &lt;ImageView\n                            android:id=&quot;@+id/img_arrow_recent&quot;\n                            android:layout_width=&quot;24dp&quot;\n                            android:layout_height=&quot;24dp&quot; /&gt;\n    \n                    &lt;/com.balysv.materialripple.MaterialRippleLayout&gt;\n    \n                &lt;/RelativeLayout&gt;\n    \n            &lt;/com.balysv.materialripple.MaterialRippleLayout&gt;\n    \n            &lt;androidx.recyclerview.widget.RecyclerView\n                android:id=&quot;@+id/recycler_view_recent&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginStart=&quot;10dp&quot;\n                android:layout_marginLeft=&quot;10dp&quot;\n                android:scrollbars=&quot;none&quot;\n                android:scrollingCache=&quot;true&quot; /&gt;\n    \n        &lt;/LinearLayout&gt;\n    \n        &lt;LinearLayout\n            android:id=&quot;@+id/lyt_videos&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginBottom=&quot;10dp&quot;\n            android:orientation=&quot;vertical&quot;&gt;\n    \n            &lt;com.balysv.materialripple.MaterialRippleLayout\n                android:id=&quot;@+id/ripple_videos_more&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginBottom=&quot;10dp&quot;\n                app:mrl_rippleAlpha=&quot;0.2&quot;\n                app:mrl_rippleColor=&quot;@color/colorRipple&quot;\n                app:mrl_rippleHover=&quot;true&quot;\n                app:mrl_rippleOverlay=&quot;true&quot;&gt;\n    \n                &lt;RelativeLayout\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:gravity=&quot;center_vertical&quot;\n                    android:orientation=&quot;horizontal&quot;\n                    android:padding=&quot;10dp&quot;&gt;\n    \n                    &lt;LinearLayout\n                        android:layout_width=&quot;match_parent&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:layout_centerVertical=&quot;true&quot;\n                        android:layout_toStartOf=&quot;@+id/arrow_videos_more&quot;\n                        android:layout_toLeftOf=&quot;@+id/arrow_videos_more&quot;\n                        android:orientation=&quot;vertical&quot;&gt;\n    \n                        &lt;TextView\n                            android:id=&quot;@+id/txt_title_videos&quot;\n                            android:layout_width=&quot;wrap_content&quot;\n                            android:layout_height=&quot;wrap_content&quot;\n                            android:text=&quot;&quot;\n                            android:textAppearance=&quot;@style/Base.TextAppearance.AppCompat.Body2&quot;\n                            android:textSize=&quot;18sp&quot;\n                            android:textStyle=&quot;bold&quot; /&gt;\n    \n                    &lt;/LinearLayout&gt;\n    \n                    &lt;com.balysv.materialripple.MaterialRippleLayout\n                        android:id=&quot;@+id/arrow_videos_more&quot;\n                        android:layout_width=&quot;wrap_content&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:layout_alignParentEnd=&quot;true&quot;\n                        android:layout_alignParentRight=&quot;true&quot;\n                        android:layout_centerVertical=&quot;true&quot;\n                        app:mrl_rippleAlpha=&quot;0.2&quot;\n                        app:mrl_rippleColor=&quot;@color/colorRipple&quot;\n                        app:mrl_rippleHover=&quot;true&quot;\n                        app:mrl_rippleOverlay=&quot;true&quot;&gt;\n    \n                        &lt;ImageView\n                            android:id=&quot;@+id/img_arrow_videos&quot;\n                            android:layout_width=&quot;24dp&quot;\n                            android:layout_height=&quot;24dp&quot; /&gt;\n    \n                    &lt;/com.balysv.materialripple.MaterialRippleLayout&gt;\n    \n                &lt;/RelativeLayout&gt;\n    \n            &lt;/com.balysv.materialripple.MaterialRippleLayout&gt;\n    \n            &lt;androidx.recyclerview.widget.RecyclerView\n                android:id=&quot;@+id/recycler_view_videos&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginStart=&quot;10dp&quot;\n                android:layout_marginLeft=&quot;10dp&quot;\n                android:scrollbars=&quot;none&quot;\n                android:scrollingCache=&quot;true&quot; /&gt;\n    \n        &lt;/LinearLayout&gt;\n    \n    \n    &lt;/LinearLayout&gt;\n</code></pre>\n"}],"owner":{"display_name":"user20801452"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1671441987,"creation_date":1671361169,"question_id":74840791,"body_markdown":"I don&#39;t know how to increase the size  RtlViewPager Only half of the image given below is working for me in the viewpage test. How to bring this full  [![i need data ](https://i.stack.imgur.com/d9BqH.png)](https://i.stack.imgur.com/d9BqH.png)  show only half screen data why [![image2](https://i.stack.imgur.com/6M01D.jpg)](https://i.stack.imgur.com/6M01D.jpg) dontshow fu screen data how togetfullscreen data I am given the image below but only half of the screen is shown to me\r\n\r\n```\r\n\r\n     &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout \r\n     xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:descendantFocusability=&quot;blocksDescendants&quot;\r\n        android:focusableInTouchMode=&quot;true&quot;\r\n        android:orientation=&quot;vertical&quot;&gt;\r\n        &lt;LinearLayout\r\n            android:background=&quot;@color/colorPrimary&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n           \r\n            android:orientation=&quot;horizontal&quot;&gt;\r\n    \r\n            &lt;TextView\r\n                android:textColor=&quot;@color/colorWhite&quot;\r\n                android:layout_marginStart=&quot;30dp&quot;\r\n                android:layout_marginTop=&quot;16dp&quot;\r\n                android:id=&quot;@+id/calendartoday&quot;\r\n                android:textSize=&quot;16dp&quot;\r\n                android:layout_width=&quot;376dp&quot;\r\n                android:layout_height=&quot;48dp&quot;\r\n                android:text=&quot;TextView4&quot; /&gt;\r\n    \r\n        &lt;/LinearLayout&gt;\r\n    \r\n    \r\n        &lt;LinearLayout\r\n                       android:id=&quot;@+id/lyt_fragment_header&quot;\r\n                       android:layout_width=&quot;match_parent&quot;\r\n                       android:layout_height=&quot;wrap_content&quot;\r\n                       android:orientation=&quot;vertical&quot;\r\n                       android:paddingLeft=&quot;10dp&quot;\r\n                       android:paddingTop=&quot;10dp&quot;\r\n                       android:paddingRight=&quot;10dp&quot;&gt;\r\n    \r\n                       &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n                           android:layout_width=&quot;match_parent&quot;\r\n                           android:layout_height=&quot;match_parent&quot;&gt;\r\n    \r\n                           &lt;com.Tamiltv.newspaper.utils.RtlViewPager\r\n                               android:id=&quot;@+id/fragment_header&quot;\r\n                               android:layout_width=&quot;0dp&quot;\r\n                               android:layout_height=&quot;0dp&quot;\r\n                               android:clipToPadding=&quot;false&quot;\r\n                               android:overScrollMode=&quot;never&quot;\r\n                               app:layout_constraintDimensionRatio=&quot;H,2:1.2&quot;\r\n                               app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n                               app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n                               app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n    \r\n                       &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n    \r\n    \r\n    \r\n                   &lt;/LinearLayout&gt;\r\n    \r\n    \r\n    \r\n    \r\n    \r\n        &lt;LinearLayout\r\n            android:id=&quot;@+id/lyt_featured&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:orientation=&quot;vertical&quot;\r\n            android:paddingLeft=&quot;10dp&quot;\r\n            android:paddingTop=&quot;10dp&quot;\r\n            android:paddingRight=&quot;10dp&quot;&gt;\r\n    \r\n            &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;&gt;\r\n    \r\n                &lt;androidx.viewpager.widget.ViewPager\r\n                    android:id=&quot;@+id/view_pager_featured&quot;\r\n                    android:layout_width=&quot;0dp&quot;\r\n                    android:layout_height=&quot;0dp&quot;\r\n                    android:clipToPadding=&quot;false&quot;\r\n                    android:overScrollMode=&quot;never&quot;\r\n                    app:layout_constraintDimensionRatio=&quot;H,2:1.2&quot;\r\n                    app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n                    app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n                    app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n                    tools:ignore=&quot;SpeakableTextPresentCheck&quot; /&gt;\r\n    \r\n            &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n            &lt;LinearLayout\r\n    \r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginTop=&quot;6dp&quot;\r\n                android:orientation=&quot;vertical&quot;&gt;\r\n    \r\n                &lt;com.google.android.material.tabs.TabLayout\r\n                    android:id=&quot;@+id/tabDots&quot;\r\n                    android:background=&quot;@color/card_background_color&quot;\r\n    \r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;24dp&quot;\r\n                    app:tabBackground=&quot;@drawable/tab_selector&quot;\r\n                    app:tabGravity=&quot;center&quot;\r\n                    app:tabIndicatorHeight=&quot;0dp&quot;\r\n                    tools:ignore=&quot;SpeakableTextPresentCheck&quot; /&gt;\r\n    \r\n            &lt;/LinearLayout&gt;\r\n    \r\n        &lt;/LinearLayout&gt;\r\n    \r\n    \r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n    \r\n            android:layout_marginTop=&quot;6dp&quot;\r\n            android:orientation=&quot;horizontal&quot;&gt;\r\n    \r\n            &lt;Spinner\r\n    \r\n                android:id=&quot;@+id/spinner&quot;\r\n                android:layout_width=&quot;132dp&quot;\r\n                android:layout_height=&quot;58dp&quot;\r\n                android:layout_marginStart=&quot;8dp&quot;\r\n                android:layout_marginTop=&quot;8dp&quot;\r\n                android:layout_marginEnd=&quot;8dp&quot;\r\n                android:layout_marginBottom=&quot;8dp&quot;\r\n                android:layout_weight=&quot;1&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintHorizontal_bias=&quot;0.502&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n                app:layout_constraintVertical_bias=&quot;0.498&quot;\r\n                tools:ignore=&quot;SpeakableTextPresentCheck&quot; /&gt;\r\n    \r\n            &lt;Spinner\r\n    \r\n                android:id=&quot;@+id/spinner2&quot;\r\n                android:layout_width=&quot;132dp&quot;\r\n                android:layout_height=&quot;58dp&quot;\r\n                android:layout_marginStart=&quot;8dp&quot;\r\n                android:layout_marginTop=&quot;8dp&quot;\r\n                android:layout_marginEnd=&quot;8dp&quot;\r\n                android:layout_marginBottom=&quot;8dp&quot;\r\n                android:layout_weight=&quot;1&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintHorizontal_bias=&quot;0.502&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n                app:layout_constraintVertical_bias=&quot;0.498&quot;\r\n                tools:ignore=&quot;SpeakableTextPresentCheck&quot; /&gt;\r\n    \r\n            &lt;Spinner\r\n    \r\n                android:id=&quot;@+id/spinner3&quot;\r\n                android:layout_width=&quot;132dp&quot;\r\n                android:layout_height=&quot;58dp&quot;\r\n                android:layout_marginStart=&quot;8dp&quot;\r\n                android:layout_marginTop=&quot;8dp&quot;\r\n                android:layout_marginEnd=&quot;8dp&quot;\r\n                android:layout_marginBottom=&quot;8dp&quot;\r\n                android:layout_weight=&quot;1&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintHorizontal_bias=&quot;0.502&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n                app:layout_constraintVertical_bias=&quot;0.498&quot;\r\n                tools:ignore=&quot;SpeakableTextPresentCheck&quot; /&gt;\r\n    \r\n        &lt;/LinearLayout&gt;\r\n    \r\n        &lt;Button\r\n            android:layout_margin=&quot;10dp&quot;\r\n            android:id=&quot;@+id/button4&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;64dp&quot;\r\n            android:text=&quot;submit&quot; /&gt;\r\n    \r\n    \r\n    \r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginTop=&quot;6dp&quot;\r\n            android:orientation=&quot;horizontal&quot;&gt;\r\n    \r\n    \r\n            &lt;Button\r\n                android:id=&quot;@+id/prev&quot;\r\n    \r\n                android:layout_width=&quot;120dp&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n    \r\n                android:layout_weight=&quot;1&quot;\r\n                android:background=&quot;@drawable/ripple_effect&quot;\r\n                android:text=&quot;Prev&quot;\r\n                app:icon=&quot;@drawable/prev&quot;\r\n                app:iconGravity=&quot;start&quot;\r\n                tools:ignore=&quot;TouchTargetSizeCheck&quot;&gt;\r\n    \r\n            &lt;/Button&gt;\r\n    \r\n            &lt;Button\r\n                android:id=&quot;@+id/today&quot;\r\n                app:icon=&quot;@drawable/today&quot;\r\n                app:iconGravity=&quot;start&quot;\r\n    \r\n                android:layout_width=&quot;120dp&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:background=&quot;@drawable/ripple_effect&quot;\r\n                android:text=&quot;Today&quot;&gt;\r\n    \r\n            &lt;/Button&gt;\r\n    \r\n            &lt;Button\r\n                android:id=&quot;@+id/next&quot;\r\n                android:layout_width=&quot;120dp&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n    \r\n                android:background=&quot;@drawable/ripple_effect&quot;\r\n                android:text=&quot;Next&quot;\r\n                app:icon=&quot;@drawable/next&quot;\r\n                app:iconGravity=&quot;start&quot;\r\n                tools:ignore=&quot;TouchTargetSizeCheck&quot;&gt;\r\n    \r\n            &lt;/Button&gt;\r\n        &lt;/LinearLayout&gt;\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    &lt;!--    &lt;LinearLayout--&gt;\r\n    &lt;!--        android:id=&quot;@+id/lyt_category2&quot;--&gt;\r\n    &lt;!--        android:layout_width=&quot;match_parent&quot;--&gt;\r\n    &lt;!--        android:layout_height=&quot;wrap_content&quot;--&gt;\r\n    &lt;!--        android:layout_marginBottom=&quot;12dp&quot;--&gt;\r\n    &lt;!--        android:orientation=&quot;vertical&quot;&gt;--&gt;\r\n    \r\n    &lt;!--        &lt;com.balysv.materialripple.MaterialRippleLayout--&gt;\r\n    &lt;!--            android:id=&quot;@+id/ripple_more_category2&quot;--&gt;\r\n    &lt;!--            android:layout_width=&quot;wrap_content&quot;--&gt;\r\n    &lt;!--            android:layout_height=&quot;wrap_content&quot;--&gt;\r\n    &lt;!--            android:layout_marginBottom=&quot;10dp&quot;--&gt;\r\n    &lt;!--            app:mrl_rippleAlpha=&quot;0.2&quot;--&gt;\r\n    &lt;!--            app:mrl_rippleColor=&quot;@color/colorRipple&quot;--&gt;\r\n    &lt;!--            app:mrl_rippleHover=&quot;true&quot;--&gt;\r\n    &lt;!--            app:mrl_rippleOverlay=&quot;true&quot;/&gt;--&gt;\r\n    \r\n    &lt;!--        &lt;androidx.recyclerview.widget.RecyclerView--&gt;\r\n    &lt;!--            android:id=&quot;@+id/recycler_view_category2&quot;--&gt;\r\n    &lt;!--            android:layout_width=&quot;wrap_content&quot;--&gt;\r\n    &lt;!--            android:layout_height=&quot;wrap_content&quot;--&gt;\r\n    &lt;!--            android:layout_marginStart=&quot;10dp&quot;--&gt;\r\n    &lt;!--            android:layout_marginLeft=&quot;10dp&quot;--&gt;\r\n    &lt;!--            android:scrollbars=&quot;none&quot;--&gt;\r\n    &lt;!--            android:scrollingCache=&quot;true&quot; /&gt;--&gt;\r\n    \r\n    &lt;!--    &lt;/LinearLayout&gt;--&gt;\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    &lt;!--    &lt;LinearLayout--&gt;\r\n    &lt;!--        android:id=&quot;@+id/lyt_category3&quot;--&gt;\r\n    &lt;!--        android:layout_width=&quot;match_parent&quot;--&gt;\r\n    &lt;!--        android:layout_height=&quot;wrap_content&quot;--&gt;\r\n    &lt;!--        android:layout_marginBottom=&quot;12dp&quot;--&gt;\r\n    &lt;!--        android:orientation=&quot;vertical&quot;&gt;--&gt;\r\n    \r\n    &lt;!--        &lt;com.balysv.materialripple.MaterialRippleLayout--&gt;\r\n    &lt;!--            android:id=&quot;@+id/ripple_more_category3&quot;--&gt;\r\n    &lt;!--            android:layout_width=&quot;wrap_content&quot;--&gt;\r\n    &lt;!--            android:layout_height=&quot;wrap_content&quot;--&gt;\r\n    &lt;!--            android:layout_marginBottom=&quot;10dp&quot;--&gt;\r\n    &lt;!--            app:mrl_rippleAlpha=&quot;0.2&quot;--&gt;\r\n    &lt;!--            app:mrl_rippleColor=&quot;@color/colorRipple&quot;--&gt;\r\n    &lt;!--            app:mrl_rippleHover=&quot;true&quot;--&gt;\r\n    &lt;!--            app:mrl_rippleOverlay=&quot;true&quot;&gt;--&gt;\r\n    \r\n    &lt;!--            &lt;RelativeLayout--&gt;\r\n    &lt;!--                android:layout_width=&quot;match_parent&quot;--&gt;\r\n    &lt;!--                android:layout_height=&quot;wrap_content&quot;--&gt;\r\n    &lt;!--                android:gravity=&quot;center_vertical&quot;--&gt;\r\n    &lt;!--                android:orientation=&quot;horizontal&quot;--&gt;\r\n    &lt;!--                android:padding=&quot;10dp&quot;&gt;--&gt;\r\n    \r\n    &lt;!--                &lt;LinearLayout--&gt;\r\n    &lt;!--                    android:layout_width=&quot;match_parent&quot;--&gt;\r\n    &lt;!--                    android:layout_height=&quot;wrap_content&quot;--&gt;\r\n    &lt;!--                    android:layout_marginEnd=&quot;2dp&quot;--&gt;\r\n    &lt;!--                    android:layout_marginRight=&quot;2dp&quot;--&gt;\r\n    &lt;!--                    android:layout_toStartOf=&quot;@+id/arrow_more3&quot;--&gt;\r\n    &lt;!--                    android:layout_toLeftOf=&quot;@+id/arrow_more3&quot;--&gt;\r\n    &lt;!--                    android:orientation=&quot;vertical&quot;&gt;--&gt;\r\n    \r\n    &lt;!--                    &lt;TextView--&gt;\r\n    &lt;!--                        android:id=&quot;@+id/txt_title_category3&quot;--&gt;\r\n    &lt;!--                        android:layout_width=&quot;wrap_content&quot;--&gt;\r\n    &lt;!--                        android:layout_height=&quot;wrap_content&quot;--&gt;\r\n    &lt;!--                        android:text=&quot;&quot;--&gt;\r\n    &lt;!--                        android:textAppearance=&quot;@style/Base.TextAppearance.AppCompat.Body2&quot;--&gt;\r\n    &lt;!--                        android:textSize=&quot;18sp&quot;--&gt;\r\n    &lt;!--                        android:textStyle=&quot;bold&quot; /&gt;--&gt;\r\n    \r\n    &lt;!--                &lt;/LinearLayout&gt;--&gt;\r\n    \r\n    &lt;!--                &lt;com.balysv.materialripple.MaterialRippleLayout--&gt;\r\n    &lt;!--                    android:id=&quot;@+id/arrow_more3&quot;--&gt;\r\n    &lt;!--                    android:layout_width=&quot;wrap_content&quot;--&gt;\r\n    &lt;!--                    android:layout_height=&quot;wrap_content&quot;--&gt;\r\n    &lt;!--                    android:layout_alignParentEnd=&quot;true&quot;--&gt;\r\n    &lt;!--                    android:layout_alignParentRight=&quot;true&quot;--&gt;\r\n    &lt;!--                    android:layout_centerVertical=&quot;true&quot;--&gt;\r\n    &lt;!--                    app:mrl_rippleAlpha=&quot;0.2&quot;--&gt;\r\n    &lt;!--                    app:mrl_rippleColor=&quot;@color/colorRipple&quot;--&gt;\r\n    &lt;!--                    app:mrl_rippleHover=&quot;true&quot;--&gt;\r\n    &lt;!--                    app:mrl_rippleOverlay=&quot;true&quot;&gt;--&gt;\r\n    \r\n    &lt;!--                    &lt;ImageView--&gt;\r\n    &lt;!--                        android:id=&quot;@+id/img_arrow_category3&quot;--&gt;\r\n    &lt;!--                        android:layout_width=&quot;24dp&quot;--&gt;\r\n    &lt;!--                        android:layout_height=&quot;24dp&quot; /&gt;--&gt;\r\n    \r\n    &lt;!--                &lt;/com.balysv.materialripple.MaterialRippleLayout&gt;--&gt;\r\n    \r\n    &lt;!--            &lt;/RelativeLayout&gt;--&gt;\r\n    \r\n    &lt;!--        &lt;/com.balysv.materialripple.MaterialRippleLayout&gt;--&gt;\r\n    \r\n    &lt;!--        &lt;androidx.recyclerview.widget.RecyclerView--&gt;\r\n    &lt;!--            android:id=&quot;@+id/recycler_view_category3&quot;--&gt;\r\n    &lt;!--            android:layout_width=&quot;wrap_content&quot;--&gt;\r\n    &lt;!--            android:layout_height=&quot;wrap_content&quot;--&gt;\r\n    &lt;!--            android:layout_marginStart=&quot;10dp&quot;--&gt;\r\n    &lt;!--            android:layout_marginLeft=&quot;10dp&quot;--&gt;\r\n    &lt;!--            android:scrollbars=&quot;none&quot;--&gt;\r\n    &lt;!--            android:scrollingCache=&quot;true&quot; /&gt;--&gt;\r\n    \r\n    &lt;!--    &lt;/LinearLayout&gt;--&gt;\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n        &lt;LinearLayout\r\n            android:id=&quot;@+id/lyt_category&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:orientation=&quot;vertical&quot;&gt;\r\n    \r\n            &lt;com.balysv.materialripple.MaterialRippleLayout\r\n                android:id=&quot;@+id/ripple_more_category&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginBottom=&quot;10dp&quot;\r\n                app:mrl_rippleAlpha=&quot;0.2&quot;\r\n                app:mrl_rippleColor=&quot;@color/colorRipple&quot;\r\n                app:mrl_rippleHover=&quot;true&quot;\r\n                app:mrl_rippleOverlay=&quot;true&quot;&gt;\r\n    \r\n                &lt;RelativeLayout\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:gravity=&quot;center_vertical&quot;\r\n                    android:orientation=&quot;horizontal&quot;\r\n                    android:padding=&quot;10dp&quot;&gt;\r\n    \r\n                    &lt;LinearLayout\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:layout_marginEnd=&quot;2dp&quot;\r\n                        android:layout_marginRight=&quot;2dp&quot;\r\n                        android:layout_toStartOf=&quot;@+id/arrow_more&quot;\r\n                        android:layout_toLeftOf=&quot;@+id/arrow_more&quot;\r\n                        android:orientation=&quot;vertical&quot;&gt;\r\n    \r\n                        &lt;TextView\r\n                            android:id=&quot;@+id/txt_title_category&quot;\r\n                            android:layout_width=&quot;wrap_content&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;\r\n                            android:text=&quot;&quot;\r\n                            android:textAppearance=&quot;@style/Base.TextAppearance.AppCompat.Body2&quot;\r\n                            android:textSize=&quot;18sp&quot;\r\n                            android:textStyle=&quot;bold&quot; /&gt;\r\n    \r\n                    &lt;/LinearLayout&gt;\r\n    \r\n                    &lt;com.balysv.materialripple.MaterialRippleLayout\r\n                        android:id=&quot;@+id/arrow_more&quot;\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:layout_alignParentEnd=&quot;true&quot;\r\n                        android:layout_alignParentRight=&quot;true&quot;\r\n                        android:layout_centerVertical=&quot;true&quot;\r\n                        app:mrl_rippleAlpha=&quot;0.2&quot;\r\n                        app:mrl_rippleColor=&quot;@color/colorRipple&quot;\r\n                        app:mrl_rippleHover=&quot;true&quot;\r\n                        app:mrl_rippleOverlay=&quot;true&quot;&gt;\r\n    \r\n                        &lt;ImageView\r\n                            android:id=&quot;@+id/img_arrow_category&quot;\r\n                            android:layout_width=&quot;24dp&quot;\r\n                            android:layout_height=&quot;24dp&quot; /&gt;\r\n    \r\n                    &lt;/com.balysv.materialripple.MaterialRippleLayout&gt;\r\n    \r\n                &lt;/RelativeLayout&gt;\r\n    \r\n            &lt;/com.balysv.materialripple.MaterialRippleLayout&gt;\r\n    \r\n            &lt;androidx.recyclerview.widget.RecyclerView\r\n                android:id=&quot;@+id/recycler_view_category&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginStart=&quot;10dp&quot;\r\n                android:layout_marginLeft=&quot;10dp&quot;\r\n                android:scrollbars=&quot;none&quot;\r\n                android:scrollingCache=&quot;true&quot; /&gt;\r\n    \r\n        &lt;/LinearLayout&gt;\r\n    \r\n        &lt;com.solodroid.ads.sdk.ui.MediumNativeAdView\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginLeft=&quot;10dp&quot;\r\n            android:layout_marginRight=&quot;10dp&quot; /&gt;\r\n    \r\n        &lt;LinearLayout\r\n            android:id=&quot;@+id/lyt_recipes&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginBottom=&quot;10dp&quot;\r\n            android:orientation=&quot;vertical&quot;&gt;\r\n    \r\n            &lt;com.balysv.materialripple.MaterialRippleLayout\r\n                android:id=&quot;@+id/ripple_recent_more&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginBottom=&quot;10dp&quot;\r\n                app:mrl_rippleAlpha=&quot;0.2&quot;\r\n                app:mrl_rippleColor=&quot;@color/colorRipple&quot;\r\n                app:mrl_rippleHover=&quot;true&quot;\r\n                app:mrl_rippleOverlay=&quot;true&quot;&gt;\r\n    \r\n                &lt;RelativeLayout\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:gravity=&quot;center_vertical&quot;\r\n                    android:orientation=&quot;horizontal&quot;\r\n                    android:padding=&quot;10dp&quot;&gt;\r\n    \r\n                    &lt;LinearLayout\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:layout_centerVertical=&quot;true&quot;\r\n                        android:layout_toStartOf=&quot;@+id/arrow_recent_more&quot;\r\n                        android:layout_toLeftOf=&quot;@+id/arrow_recent_more&quot;\r\n                        android:orientation=&quot;vertical&quot;&gt;\r\n    \r\n                        &lt;TextView\r\n                            android:id=&quot;@+id/txt_title_recent&quot;\r\n                            android:layout_width=&quot;wrap_content&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;\r\n                            android:text=&quot;&quot;\r\n                            android:textAppearance=&quot;@style/Base.TextAppearance.AppCompat.Body2&quot;\r\n                            android:textSize=&quot;18sp&quot;\r\n                            android:textStyle=&quot;bold&quot; /&gt;\r\n    \r\n                    &lt;/LinearLayout&gt;\r\n    \r\n                    &lt;com.balysv.materialripple.MaterialRippleLayout\r\n                        android:id=&quot;@+id/arrow_recent_more&quot;\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:layout_alignParentEnd=&quot;true&quot;\r\n                        android:layout_alignParentRight=&quot;true&quot;\r\n                        android:layout_centerVertical=&quot;true&quot;\r\n                        app:mrl_rippleAlpha=&quot;0.2&quot;\r\n                        app:mrl_rippleColor=&quot;@color/colorRipple&quot;\r\n                        app:mrl_rippleHover=&quot;true&quot;\r\n                        app:mrl_rippleOverlay=&quot;true&quot;&gt;\r\n    \r\n                        &lt;ImageView\r\n                            android:id=&quot;@+id/img_arrow_recent&quot;\r\n                            android:layout_width=&quot;24dp&quot;\r\n                            android:layout_height=&quot;24dp&quot; /&gt;\r\n    \r\n                    &lt;/com.balysv.materialripple.MaterialRippleLayout&gt;\r\n    \r\n                &lt;/RelativeLayout&gt;\r\n    \r\n            &lt;/com.balysv.materialripple.MaterialRippleLayout&gt;\r\n    \r\n            &lt;androidx.recyclerview.widget.RecyclerView\r\n                android:id=&quot;@+id/recycler_view_recent&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginStart=&quot;10dp&quot;\r\n                android:layout_marginLeft=&quot;10dp&quot;\r\n                android:scrollbars=&quot;none&quot;\r\n                android:scrollingCache=&quot;true&quot; /&gt;\r\n    \r\n        &lt;/LinearLayout&gt;\r\n    \r\n        &lt;LinearLayout\r\n            android:id=&quot;@+id/lyt_videos&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginBottom=&quot;10dp&quot;\r\n            android:orientation=&quot;vertical&quot;&gt;\r\n    \r\n            &lt;com.balysv.materialripple.MaterialRippleLayout\r\n                android:id=&quot;@+id/ripple_videos_more&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginBottom=&quot;10dp&quot;\r\n                app:mrl_rippleAlpha=&quot;0.2&quot;\r\n                app:mrl_rippleColor=&quot;@color/colorRipple&quot;\r\n                app:mrl_rippleHover=&quot;true&quot;\r\n                app:mrl_rippleOverlay=&quot;true&quot;&gt;\r\n    \r\n                &lt;RelativeLayout\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:gravity=&quot;center_vertical&quot;\r\n                    android:orientation=&quot;horizontal&quot;\r\n                    android:padding=&quot;10dp&quot;&gt;\r\n    \r\n                    &lt;LinearLayout\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:layout_centerVertical=&quot;true&quot;\r\n                        android:layout_toStartOf=&quot;@+id/arrow_videos_more&quot;\r\n                        android:layout_toLeftOf=&quot;@+id/arrow_videos_more&quot;\r\n                        android:orientation=&quot;vertical&quot;&gt;\r\n    \r\n                        &lt;TextView\r\n                            android:id=&quot;@+id/txt_title_videos&quot;\r\n                            android:layout_width=&quot;wrap_content&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;\r\n                            android:text=&quot;&quot;\r\n                            android:textAppearance=&quot;@style/Base.TextAppearance.AppCompat.Body2&quot;\r\n                            android:textSize=&quot;18sp&quot;\r\n                            android:textStyle=&quot;bold&quot; /&gt;\r\n    \r\n                    &lt;/LinearLayout&gt;\r\n    \r\n                    &lt;com.balysv.materialripple.MaterialRippleLayout\r\n                        android:id=&quot;@+id/arrow_videos_more&quot;\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:layout_alignParentEnd=&quot;true&quot;\r\n                        android:layout_alignParentRight=&quot;true&quot;\r\n                        android:layout_centerVertical=&quot;true&quot;\r\n                        app:mrl_rippleAlpha=&quot;0.2&quot;\r\n                        app:mrl_rippleColor=&quot;@color/colorRipple&quot;\r\n                        app:mrl_rippleHover=&quot;true&quot;\r\n                        app:mrl_rippleOverlay=&quot;true&quot;&gt;\r\n    \r\n                        &lt;ImageView\r\n                            android:id=&quot;@+id/img_arrow_videos&quot;\r\n                            android:layout_width=&quot;24dp&quot;\r\n                            android:layout_height=&quot;24dp&quot; /&gt;\r\n    \r\n                    &lt;/com.balysv.materialripple.MaterialRippleLayout&gt;\r\n    \r\n                &lt;/RelativeLayout&gt;\r\n    \r\n            &lt;/com.balysv.materialripple.MaterialRippleLayout&gt;\r\n    \r\n            &lt;androidx.recyclerview.widget.RecyclerView\r\n                android:id=&quot;@+id/recycler_view_videos&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginStart=&quot;10dp&quot;\r\n                android:layout_marginLeft=&quot;10dp&quot;\r\n                android:scrollbars=&quot;none&quot;\r\n                android:scrollingCache=&quot;true&quot; /&gt;\r\n    \r\n        &lt;/LinearLayout&gt;\r\n    \r\n    \r\n    &lt;/LinearLayout&gt;\r\n\r\n\r\nhow to clear viewpager size\r\n","title":"how to increase layout RtlViewPager","body":"<p>I don't know how to increase the size  RtlViewPager Only half of the image given below is working for me in the viewpage test. How to bring this full  <a href=\"https://i.stack.imgur.com/d9BqH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/d9BqH.png\" alt=\"i need data \" /></a>  show only half screen data why <a href=\"https://i.stack.imgur.com/6M01D.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6M01D.jpg\" alt=\"image2\" /></a> dontshow fu screen data how togetfullscreen data I am given the image below but only half of the screen is shown to me</p>\n<pre><code>\n     &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n    &lt;LinearLayout \n     xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:descendantFocusability=&quot;blocksDescendants&quot;\n        android:focusableInTouchMode=&quot;true&quot;\n        android:orientation=&quot;vertical&quot;&gt;\n        &lt;LinearLayout\n            android:background=&quot;@color/colorPrimary&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n           \n            android:orientation=&quot;horizontal&quot;&gt;\n    \n            &lt;TextView\n                android:textColor=&quot;@color/colorWhite&quot;\n                android:layout_marginStart=&quot;30dp&quot;\n                android:layout_marginTop=&quot;16dp&quot;\n                android:id=&quot;@+id/calendartoday&quot;\n                android:textSize=&quot;16dp&quot;\n                android:layout_width=&quot;376dp&quot;\n                android:layout_height=&quot;48dp&quot;\n                android:text=&quot;TextView4&quot; /&gt;\n    \n        &lt;/LinearLayout&gt;\n    \n    \n        &lt;LinearLayout\n                       android:id=&quot;@+id/lyt_fragment_header&quot;\n                       android:layout_width=&quot;match_parent&quot;\n                       android:layout_height=&quot;wrap_content&quot;\n                       android:orientation=&quot;vertical&quot;\n                       android:paddingLeft=&quot;10dp&quot;\n                       android:paddingTop=&quot;10dp&quot;\n                       android:paddingRight=&quot;10dp&quot;&gt;\n    \n                       &lt;androidx.constraintlayout.widget.ConstraintLayout\n                           android:layout_width=&quot;match_parent&quot;\n                           android:layout_height=&quot;match_parent&quot;&gt;\n    \n                           &lt;com.Tamiltv.newspaper.utils.RtlViewPager\n                               android:id=&quot;@+id/fragment_header&quot;\n                               android:layout_width=&quot;0dp&quot;\n                               android:layout_height=&quot;0dp&quot;\n                               android:clipToPadding=&quot;false&quot;\n                               android:overScrollMode=&quot;never&quot;\n                               app:layout_constraintDimensionRatio=&quot;H,2:1.2&quot;\n                               app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n                               app:layout_constraintRight_toRightOf=&quot;parent&quot;\n                               app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n    \n                       &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n    \n    \n    \n                   &lt;/LinearLayout&gt;\n    \n    \n    \n    \n    \n        &lt;LinearLayout\n            android:id=&quot;@+id/lyt_featured&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:orientation=&quot;vertical&quot;\n            android:paddingLeft=&quot;10dp&quot;\n            android:paddingTop=&quot;10dp&quot;\n            android:paddingRight=&quot;10dp&quot;&gt;\n    \n            &lt;androidx.constraintlayout.widget.ConstraintLayout\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;&gt;\n    \n                &lt;androidx.viewpager.widget.ViewPager\n                    android:id=&quot;@+id/view_pager_featured&quot;\n                    android:layout_width=&quot;0dp&quot;\n                    android:layout_height=&quot;0dp&quot;\n                    android:clipToPadding=&quot;false&quot;\n                    android:overScrollMode=&quot;never&quot;\n                    app:layout_constraintDimensionRatio=&quot;H,2:1.2&quot;\n                    app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n                    app:layout_constraintRight_toRightOf=&quot;parent&quot;\n                    app:layout_constraintTop_toTopOf=&quot;parent&quot;\n                    tools:ignore=&quot;SpeakableTextPresentCheck&quot; /&gt;\n    \n            &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n            &lt;LinearLayout\n    \n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginTop=&quot;6dp&quot;\n                android:orientation=&quot;vertical&quot;&gt;\n    \n                &lt;com.google.android.material.tabs.TabLayout\n                    android:id=&quot;@+id/tabDots&quot;\n                    android:background=&quot;@color/card_background_color&quot;\n    \n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;24dp&quot;\n                    app:tabBackground=&quot;@drawable/tab_selector&quot;\n                    app:tabGravity=&quot;center&quot;\n                    app:tabIndicatorHeight=&quot;0dp&quot;\n                    tools:ignore=&quot;SpeakableTextPresentCheck&quot; /&gt;\n    \n            &lt;/LinearLayout&gt;\n    \n        &lt;/LinearLayout&gt;\n    \n    \n        &lt;LinearLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n    \n            android:layout_marginTop=&quot;6dp&quot;\n            android:orientation=&quot;horizontal&quot;&gt;\n    \n            &lt;Spinner\n    \n                android:id=&quot;@+id/spinner&quot;\n                android:layout_width=&quot;132dp&quot;\n                android:layout_height=&quot;58dp&quot;\n                android:layout_marginStart=&quot;8dp&quot;\n                android:layout_marginTop=&quot;8dp&quot;\n                android:layout_marginEnd=&quot;8dp&quot;\n                android:layout_marginBottom=&quot;8dp&quot;\n                android:layout_weight=&quot;1&quot;\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                app:layout_constraintHorizontal_bias=&quot;0.502&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\n                app:layout_constraintVertical_bias=&quot;0.498&quot;\n                tools:ignore=&quot;SpeakableTextPresentCheck&quot; /&gt;\n    \n            &lt;Spinner\n    \n                android:id=&quot;@+id/spinner2&quot;\n                android:layout_width=&quot;132dp&quot;\n                android:layout_height=&quot;58dp&quot;\n                android:layout_marginStart=&quot;8dp&quot;\n                android:layout_marginTop=&quot;8dp&quot;\n                android:layout_marginEnd=&quot;8dp&quot;\n                android:layout_marginBottom=&quot;8dp&quot;\n                android:layout_weight=&quot;1&quot;\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                app:layout_constraintHorizontal_bias=&quot;0.502&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\n                app:layout_constraintVertical_bias=&quot;0.498&quot;\n                tools:ignore=&quot;SpeakableTextPresentCheck&quot; /&gt;\n    \n            &lt;Spinner\n    \n                android:id=&quot;@+id/spinner3&quot;\n                android:layout_width=&quot;132dp&quot;\n                android:layout_height=&quot;58dp&quot;\n                android:layout_marginStart=&quot;8dp&quot;\n                android:layout_marginTop=&quot;8dp&quot;\n                android:layout_marginEnd=&quot;8dp&quot;\n                android:layout_marginBottom=&quot;8dp&quot;\n                android:layout_weight=&quot;1&quot;\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                app:layout_constraintHorizontal_bias=&quot;0.502&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\n                app:layout_constraintVertical_bias=&quot;0.498&quot;\n                tools:ignore=&quot;SpeakableTextPresentCheck&quot; /&gt;\n    \n        &lt;/LinearLayout&gt;\n    \n        &lt;Button\n            android:layout_margin=&quot;10dp&quot;\n            android:id=&quot;@+id/button4&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;64dp&quot;\n            android:text=&quot;submit&quot; /&gt;\n    \n    \n    \n        &lt;LinearLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginTop=&quot;6dp&quot;\n            android:orientation=&quot;horizontal&quot;&gt;\n    \n    \n            &lt;Button\n                android:id=&quot;@+id/prev&quot;\n    \n                android:layout_width=&quot;120dp&quot;\n                android:layout_height=&quot;match_parent&quot;\n    \n                android:layout_weight=&quot;1&quot;\n                android:background=&quot;@drawable/ripple_effect&quot;\n                android:text=&quot;Prev&quot;\n                app:icon=&quot;@drawable/prev&quot;\n                app:iconGravity=&quot;start&quot;\n                tools:ignore=&quot;TouchTargetSizeCheck&quot;&gt;\n    \n            &lt;/Button&gt;\n    \n            &lt;Button\n                android:id=&quot;@+id/today&quot;\n                app:icon=&quot;@drawable/today&quot;\n                app:iconGravity=&quot;start&quot;\n    \n                android:layout_width=&quot;120dp&quot;\n                android:layout_height=&quot;match_parent&quot;\n                android:background=&quot;@drawable/ripple_effect&quot;\n                android:text=&quot;Today&quot;&gt;\n    \n            &lt;/Button&gt;\n    \n            &lt;Button\n                android:id=&quot;@+id/next&quot;\n                android:layout_width=&quot;120dp&quot;\n                android:layout_height=&quot;match_parent&quot;\n    \n                android:background=&quot;@drawable/ripple_effect&quot;\n                android:text=&quot;Next&quot;\n                app:icon=&quot;@drawable/next&quot;\n                app:iconGravity=&quot;start&quot;\n                tools:ignore=&quot;TouchTargetSizeCheck&quot;&gt;\n    \n            &lt;/Button&gt;\n        &lt;/LinearLayout&gt;\n    \n    \n    \n    \n    \n    \n    \n    \n    \n    &lt;!--    &lt;LinearLayout--&gt;\n    &lt;!--        android:id=&quot;@+id/lyt_category2&quot;--&gt;\n    &lt;!--        android:layout_width=&quot;match_parent&quot;--&gt;\n    &lt;!--        android:layout_height=&quot;wrap_content&quot;--&gt;\n    &lt;!--        android:layout_marginBottom=&quot;12dp&quot;--&gt;\n    &lt;!--        android:orientation=&quot;vertical&quot;&gt;--&gt;\n    \n    &lt;!--        &lt;com.balysv.materialripple.MaterialRippleLayout--&gt;\n    &lt;!--            android:id=&quot;@+id/ripple_more_category2&quot;--&gt;\n    &lt;!--            android:layout_width=&quot;wrap_content&quot;--&gt;\n    &lt;!--            android:layout_height=&quot;wrap_content&quot;--&gt;\n    &lt;!--            android:layout_marginBottom=&quot;10dp&quot;--&gt;\n    &lt;!--            app:mrl_rippleAlpha=&quot;0.2&quot;--&gt;\n    &lt;!--            app:mrl_rippleColor=&quot;@color/colorRipple&quot;--&gt;\n    &lt;!--            app:mrl_rippleHover=&quot;true&quot;--&gt;\n    &lt;!--            app:mrl_rippleOverlay=&quot;true&quot;/&gt;--&gt;\n    \n    &lt;!--        &lt;androidx.recyclerview.widget.RecyclerView--&gt;\n    &lt;!--            android:id=&quot;@+id/recycler_view_category2&quot;--&gt;\n    &lt;!--            android:layout_width=&quot;wrap_content&quot;--&gt;\n    &lt;!--            android:layout_height=&quot;wrap_content&quot;--&gt;\n    &lt;!--            android:layout_marginStart=&quot;10dp&quot;--&gt;\n    &lt;!--            android:layout_marginLeft=&quot;10dp&quot;--&gt;\n    &lt;!--            android:scrollbars=&quot;none&quot;--&gt;\n    &lt;!--            android:scrollingCache=&quot;true&quot; /&gt;--&gt;\n    \n    &lt;!--    &lt;/LinearLayout&gt;--&gt;\n    \n    \n    \n    \n    \n    \n    \n    \n    \n    &lt;!--    &lt;LinearLayout--&gt;\n    &lt;!--        android:id=&quot;@+id/lyt_category3&quot;--&gt;\n    &lt;!--        android:layout_width=&quot;match_parent&quot;--&gt;\n    &lt;!--        android:layout_height=&quot;wrap_content&quot;--&gt;\n    &lt;!--        android:layout_marginBottom=&quot;12dp&quot;--&gt;\n    &lt;!--        android:orientation=&quot;vertical&quot;&gt;--&gt;\n    \n    &lt;!--        &lt;com.balysv.materialripple.MaterialRippleLayout--&gt;\n    &lt;!--            android:id=&quot;@+id/ripple_more_category3&quot;--&gt;\n    &lt;!--            android:layout_width=&quot;wrap_content&quot;--&gt;\n    &lt;!--            android:layout_height=&quot;wrap_content&quot;--&gt;\n    &lt;!--            android:layout_marginBottom=&quot;10dp&quot;--&gt;\n    &lt;!--            app:mrl_rippleAlpha=&quot;0.2&quot;--&gt;\n    &lt;!--            app:mrl_rippleColor=&quot;@color/colorRipple&quot;--&gt;\n    &lt;!--            app:mrl_rippleHover=&quot;true&quot;--&gt;\n    &lt;!--            app:mrl_rippleOverlay=&quot;true&quot;&gt;--&gt;\n    \n    &lt;!--            &lt;RelativeLayout--&gt;\n    &lt;!--                android:layout_width=&quot;match_parent&quot;--&gt;\n    &lt;!--                android:layout_height=&quot;wrap_content&quot;--&gt;\n    &lt;!--                android:gravity=&quot;center_vertical&quot;--&gt;\n    &lt;!--                android:orientation=&quot;horizontal&quot;--&gt;\n    &lt;!--                android:padding=&quot;10dp&quot;&gt;--&gt;\n    \n    &lt;!--                &lt;LinearLayout--&gt;\n    &lt;!--                    android:layout_width=&quot;match_parent&quot;--&gt;\n    &lt;!--                    android:layout_height=&quot;wrap_content&quot;--&gt;\n    &lt;!--                    android:layout_marginEnd=&quot;2dp&quot;--&gt;\n    &lt;!--                    android:layout_marginRight=&quot;2dp&quot;--&gt;\n    &lt;!--                    android:layout_toStartOf=&quot;@+id/arrow_more3&quot;--&gt;\n    &lt;!--                    android:layout_toLeftOf=&quot;@+id/arrow_more3&quot;--&gt;\n    &lt;!--                    android:orientation=&quot;vertical&quot;&gt;--&gt;\n    \n    &lt;!--                    &lt;TextView--&gt;\n    &lt;!--                        android:id=&quot;@+id/txt_title_category3&quot;--&gt;\n    &lt;!--                        android:layout_width=&quot;wrap_content&quot;--&gt;\n    &lt;!--                        android:layout_height=&quot;wrap_content&quot;--&gt;\n    &lt;!--                        android:text=&quot;&quot;--&gt;\n    &lt;!--                        android:textAppearance=&quot;@style/Base.TextAppearance.AppCompat.Body2&quot;--&gt;\n    &lt;!--                        android:textSize=&quot;18sp&quot;--&gt;\n    &lt;!--                        android:textStyle=&quot;bold&quot; /&gt;--&gt;\n    \n    &lt;!--                &lt;/LinearLayout&gt;--&gt;\n    \n    &lt;!--                &lt;com.balysv.materialripple.MaterialRippleLayout--&gt;\n    &lt;!--                    android:id=&quot;@+id/arrow_more3&quot;--&gt;\n    &lt;!--                    android:layout_width=&quot;wrap_content&quot;--&gt;\n    &lt;!--                    android:layout_height=&quot;wrap_content&quot;--&gt;\n    &lt;!--                    android:layout_alignParentEnd=&quot;true&quot;--&gt;\n    &lt;!--                    android:layout_alignParentRight=&quot;true&quot;--&gt;\n    &lt;!--                    android:layout_centerVertical=&quot;true&quot;--&gt;\n    &lt;!--                    app:mrl_rippleAlpha=&quot;0.2&quot;--&gt;\n    &lt;!--                    app:mrl_rippleColor=&quot;@color/colorRipple&quot;--&gt;\n    &lt;!--                    app:mrl_rippleHover=&quot;true&quot;--&gt;\n    &lt;!--                    app:mrl_rippleOverlay=&quot;true&quot;&gt;--&gt;\n    \n    &lt;!--                    &lt;ImageView--&gt;\n    &lt;!--                        android:id=&quot;@+id/img_arrow_category3&quot;--&gt;\n    &lt;!--                        android:layout_width=&quot;24dp&quot;--&gt;\n    &lt;!--                        android:layout_height=&quot;24dp&quot; /&gt;--&gt;\n    \n    &lt;!--                &lt;/com.balysv.materialripple.MaterialRippleLayout&gt;--&gt;\n    \n    &lt;!--            &lt;/RelativeLayout&gt;--&gt;\n    \n    &lt;!--        &lt;/com.balysv.materialripple.MaterialRippleLayout&gt;--&gt;\n    \n    &lt;!--        &lt;androidx.recyclerview.widget.RecyclerView--&gt;\n    &lt;!--            android:id=&quot;@+id/recycler_view_category3&quot;--&gt;\n    &lt;!--            android:layout_width=&quot;wrap_content&quot;--&gt;\n    &lt;!--            android:layout_height=&quot;wrap_content&quot;--&gt;\n    &lt;!--            android:layout_marginStart=&quot;10dp&quot;--&gt;\n    &lt;!--            android:layout_marginLeft=&quot;10dp&quot;--&gt;\n    &lt;!--            android:scrollbars=&quot;none&quot;--&gt;\n    &lt;!--            android:scrollingCache=&quot;true&quot; /&gt;--&gt;\n    \n    &lt;!--    &lt;/LinearLayout&gt;--&gt;\n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n        &lt;LinearLayout\n            android:id=&quot;@+id/lyt_category&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:orientation=&quot;vertical&quot;&gt;\n    \n            &lt;com.balysv.materialripple.MaterialRippleLayout\n                android:id=&quot;@+id/ripple_more_category&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginBottom=&quot;10dp&quot;\n                app:mrl_rippleAlpha=&quot;0.2&quot;\n                app:mrl_rippleColor=&quot;@color/colorRipple&quot;\n                app:mrl_rippleHover=&quot;true&quot;\n                app:mrl_rippleOverlay=&quot;true&quot;&gt;\n    \n                &lt;RelativeLayout\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:gravity=&quot;center_vertical&quot;\n                    android:orientation=&quot;horizontal&quot;\n                    android:padding=&quot;10dp&quot;&gt;\n    \n                    &lt;LinearLayout\n                        android:layout_width=&quot;match_parent&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:layout_marginEnd=&quot;2dp&quot;\n                        android:layout_marginRight=&quot;2dp&quot;\n                        android:layout_toStartOf=&quot;@+id/arrow_more&quot;\n                        android:layout_toLeftOf=&quot;@+id/arrow_more&quot;\n                        android:orientation=&quot;vertical&quot;&gt;\n    \n                        &lt;TextView\n                            android:id=&quot;@+id/txt_title_category&quot;\n                            android:layout_width=&quot;wrap_content&quot;\n                            android:layout_height=&quot;wrap_content&quot;\n                            android:text=&quot;&quot;\n                            android:textAppearance=&quot;@style/Base.TextAppearance.AppCompat.Body2&quot;\n                            android:textSize=&quot;18sp&quot;\n                            android:textStyle=&quot;bold&quot; /&gt;\n    \n                    &lt;/LinearLayout&gt;\n    \n                    &lt;com.balysv.materialripple.MaterialRippleLayout\n                        android:id=&quot;@+id/arrow_more&quot;\n                        android:layout_width=&quot;wrap_content&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:layout_alignParentEnd=&quot;true&quot;\n                        android:layout_alignParentRight=&quot;true&quot;\n                        android:layout_centerVertical=&quot;true&quot;\n                        app:mrl_rippleAlpha=&quot;0.2&quot;\n                        app:mrl_rippleColor=&quot;@color/colorRipple&quot;\n                        app:mrl_rippleHover=&quot;true&quot;\n                        app:mrl_rippleOverlay=&quot;true&quot;&gt;\n    \n                        &lt;ImageView\n                            android:id=&quot;@+id/img_arrow_category&quot;\n                            android:layout_width=&quot;24dp&quot;\n                            android:layout_height=&quot;24dp&quot; /&gt;\n    \n                    &lt;/com.balysv.materialripple.MaterialRippleLayout&gt;\n    \n                &lt;/RelativeLayout&gt;\n    \n            &lt;/com.balysv.materialripple.MaterialRippleLayout&gt;\n    \n            &lt;androidx.recyclerview.widget.RecyclerView\n                android:id=&quot;@+id/recycler_view_category&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginStart=&quot;10dp&quot;\n                android:layout_marginLeft=&quot;10dp&quot;\n                android:scrollbars=&quot;none&quot;\n                android:scrollingCache=&quot;true&quot; /&gt;\n    \n        &lt;/LinearLayout&gt;\n    \n        &lt;com.solodroid.ads.sdk.ui.MediumNativeAdView\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginLeft=&quot;10dp&quot;\n            android:layout_marginRight=&quot;10dp&quot; /&gt;\n    \n        &lt;LinearLayout\n            android:id=&quot;@+id/lyt_recipes&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginBottom=&quot;10dp&quot;\n            android:orientation=&quot;vertical&quot;&gt;\n    \n            &lt;com.balysv.materialripple.MaterialRippleLayout\n                android:id=&quot;@+id/ripple_recent_more&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginBottom=&quot;10dp&quot;\n                app:mrl_rippleAlpha=&quot;0.2&quot;\n                app:mrl_rippleColor=&quot;@color/colorRipple&quot;\n                app:mrl_rippleHover=&quot;true&quot;\n                app:mrl_rippleOverlay=&quot;true&quot;&gt;\n    \n                &lt;RelativeLayout\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:gravity=&quot;center_vertical&quot;\n                    android:orientation=&quot;horizontal&quot;\n                    android:padding=&quot;10dp&quot;&gt;\n    \n                    &lt;LinearLayout\n                        android:layout_width=&quot;match_parent&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:layout_centerVertical=&quot;true&quot;\n                        android:layout_toStartOf=&quot;@+id/arrow_recent_more&quot;\n                        android:layout_toLeftOf=&quot;@+id/arrow_recent_more&quot;\n                        android:orientation=&quot;vertical&quot;&gt;\n    \n                        &lt;TextView\n                            android:id=&quot;@+id/txt_title_recent&quot;\n                            android:layout_width=&quot;wrap_content&quot;\n                            android:layout_height=&quot;wrap_content&quot;\n                            android:text=&quot;&quot;\n                            android:textAppearance=&quot;@style/Base.TextAppearance.AppCompat.Body2&quot;\n                            android:textSize=&quot;18sp&quot;\n                            android:textStyle=&quot;bold&quot; /&gt;\n    \n                    &lt;/LinearLayout&gt;\n    \n                    &lt;com.balysv.materialripple.MaterialRippleLayout\n                        android:id=&quot;@+id/arrow_recent_more&quot;\n                        android:layout_width=&quot;wrap_content&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:layout_alignParentEnd=&quot;true&quot;\n                        android:layout_alignParentRight=&quot;true&quot;\n                        android:layout_centerVertical=&quot;true&quot;\n                        app:mrl_rippleAlpha=&quot;0.2&quot;\n                        app:mrl_rippleColor=&quot;@color/colorRipple&quot;\n                        app:mrl_rippleHover=&quot;true&quot;\n                        app:mrl_rippleOverlay=&quot;true&quot;&gt;\n    \n                        &lt;ImageView\n                            android:id=&quot;@+id/img_arrow_recent&quot;\n                            android:layout_width=&quot;24dp&quot;\n                            android:layout_height=&quot;24dp&quot; /&gt;\n    \n                    &lt;/com.balysv.materialripple.MaterialRippleLayout&gt;\n    \n                &lt;/RelativeLayout&gt;\n    \n            &lt;/com.balysv.materialripple.MaterialRippleLayout&gt;\n    \n            &lt;androidx.recyclerview.widget.RecyclerView\n                android:id=&quot;@+id/recycler_view_recent&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginStart=&quot;10dp&quot;\n                android:layout_marginLeft=&quot;10dp&quot;\n                android:scrollbars=&quot;none&quot;\n                android:scrollingCache=&quot;true&quot; /&gt;\n    \n        &lt;/LinearLayout&gt;\n    \n        &lt;LinearLayout\n            android:id=&quot;@+id/lyt_videos&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginBottom=&quot;10dp&quot;\n            android:orientation=&quot;vertical&quot;&gt;\n    \n            &lt;com.balysv.materialripple.MaterialRippleLayout\n                android:id=&quot;@+id/ripple_videos_more&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginBottom=&quot;10dp&quot;\n                app:mrl_rippleAlpha=&quot;0.2&quot;\n                app:mrl_rippleColor=&quot;@color/colorRipple&quot;\n                app:mrl_rippleHover=&quot;true&quot;\n                app:mrl_rippleOverlay=&quot;true&quot;&gt;\n    \n                &lt;RelativeLayout\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:gravity=&quot;center_vertical&quot;\n                    android:orientation=&quot;horizontal&quot;\n                    android:padding=&quot;10dp&quot;&gt;\n    \n                    &lt;LinearLayout\n                        android:layout_width=&quot;match_parent&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:layout_centerVertical=&quot;true&quot;\n                        android:layout_toStartOf=&quot;@+id/arrow_videos_more&quot;\n                        android:layout_toLeftOf=&quot;@+id/arrow_videos_more&quot;\n                        android:orientation=&quot;vertical&quot;&gt;\n    \n                        &lt;TextView\n                            android:id=&quot;@+id/txt_title_videos&quot;\n                            android:layout_width=&quot;wrap_content&quot;\n                            android:layout_height=&quot;wrap_content&quot;\n                            android:text=&quot;&quot;\n                            android:textAppearance=&quot;@style/Base.TextAppearance.AppCompat.Body2&quot;\n                            android:textSize=&quot;18sp&quot;\n                            android:textStyle=&quot;bold&quot; /&gt;\n    \n                    &lt;/LinearLayout&gt;\n    \n                    &lt;com.balysv.materialripple.MaterialRippleLayout\n                        android:id=&quot;@+id/arrow_videos_more&quot;\n                        android:layout_width=&quot;wrap_content&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:layout_alignParentEnd=&quot;true&quot;\n                        android:layout_alignParentRight=&quot;true&quot;\n                        android:layout_centerVertical=&quot;true&quot;\n                        app:mrl_rippleAlpha=&quot;0.2&quot;\n                        app:mrl_rippleColor=&quot;@color/colorRipple&quot;\n                        app:mrl_rippleHover=&quot;true&quot;\n                        app:mrl_rippleOverlay=&quot;true&quot;&gt;\n    \n                        &lt;ImageView\n                            android:id=&quot;@+id/img_arrow_videos&quot;\n                            android:layout_width=&quot;24dp&quot;\n                            android:layout_height=&quot;24dp&quot; /&gt;\n    \n                    &lt;/com.balysv.materialripple.MaterialRippleLayout&gt;\n    \n                &lt;/RelativeLayout&gt;\n    \n            &lt;/com.balysv.materialripple.MaterialRippleLayout&gt;\n    \n            &lt;androidx.recyclerview.widget.RecyclerView\n                android:id=&quot;@+id/recycler_view_videos&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginStart=&quot;10dp&quot;\n                android:layout_marginLeft=&quot;10dp&quot;\n                android:scrollbars=&quot;none&quot;\n                android:scrollingCache=&quot;true&quot; /&gt;\n    \n        &lt;/LinearLayout&gt;\n    \n    \n    &lt;/LinearLayout&gt;\n\n\nhow to clear viewpager size\n</code></pre>\n"},{"tags":["java","runtime"],"answers":[{"tags":[],"owner":{"account_id":5273740,"reputation":698,"user_id":4211252,"display_name":"Thilo Schwarz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671441950,"creation_date":1671215873,"answer_id":74828552,"question_id":74827792,"body_markdown":"*No such file or directory* means, &#39;Runtime&#39; couldn&#39;t find the docker binary. You should run the command with the full path.\r\n\r\nAdditionally you should work with the *ProcessBuilder*, it&#39;s easier to use.\r\n\r\n    ProcessBuilder pb = new ProcessBuilder(&quot;[PATH]/docker.exe&quot;, &quot;-help&quot;);\r\n    pb.redirectErrorStream(true);\r\n    Process process = pb.start();\r\n    try (var infoStream = process.getInputStream()) {\r\n      infoStream.transferTo(System.out);\r\n    }\r\n    status = process.waitFor();\r\n\r\nKeep in mind, depending on what you want to do, it could be necessary to set the working directory, with:\r\n    \r\n    pb.derectory([PATH]);\r\n\r\nFor further information have a look on my blog article: https://thilosdevblog.wordpress.com/2022/09/18/how-to-properly-handle-the-output-of-the-processbuilder/","title":"unable to run command on rumtime from java","body":"<p><em>No such file or directory</em> means, 'Runtime' couldn't find the docker binary. You should run the command with the full path.</p>\n<p>Additionally you should work with the <em>ProcessBuilder</em>, it's easier to use.</p>\n<pre><code>ProcessBuilder pb = new ProcessBuilder(&quot;[PATH]/docker.exe&quot;, &quot;-help&quot;);\npb.redirectErrorStream(true);\nProcess process = pb.start();\ntry (var infoStream = process.getInputStream()) {\n  infoStream.transferTo(System.out);\n}\nstatus = process.waitFor();\n</code></pre>\n<p>Keep in mind, depending on what you want to do, it could be necessary to set the working directory, with:</p>\n<pre><code>pb.derectory([PATH]);\n</code></pre>\n<p>For further information have a look on my blog article: <a href=\"https://thilosdevblog.wordpress.com/2022/09/18/how-to-properly-handle-the-output-of-the-processbuilder/\" rel=\"nofollow noreferrer\">https://thilosdevblog.wordpress.com/2022/09/18/how-to-properly-handle-the-output-of-the-processbuilder/</a></p>\n"}],"owner":{"account_id":12695037,"reputation":201,"user_id":9223749,"display_name":"Francesco Scala"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74828552,"answer_count":1,"score":-1,"last_activity_date":1671441950,"creation_date":1671211328,"question_id":74827792,"body_markdown":"I&#39;m trying to start docker from my java application, this is the code:\r\n\r\n\r\n    Process p1 = Runtime.getRuntime().exec(&quot;docker --help&quot;);\r\n\tint x1 = p1.waitFor();\r\n\tSystem.out.println((new BufferedReader(new InputStreamReader(p1.getInputStream()))).readLine());\r\n\tSystem.out.println(path);\r\n\r\n\r\nBut I have this error:\r\n\r\n    java.io.IOException: Cannot run program &quot;docker&quot;: error=2, No such file or directory\r\n\r\nWhat is  the problem? Docker is installed on my Mac!","title":"unable to run command on rumtime from java","body":"<p>I'm trying to start docker from my java application, this is the code:</p>\n<pre><code>Process p1 = Runtime.getRuntime().exec(&quot;docker --help&quot;);\nint x1 = p1.waitFor();\nSystem.out.println((new BufferedReader(new InputStreamReader(p1.getInputStream()))).readLine());\nSystem.out.println(path);\n</code></pre>\n<p>But I have this error:</p>\n<pre><code>java.io.IOException: Cannot run program &quot;docker&quot;: error=2, No such file or directory\n</code></pre>\n<p>What is  the problem? Docker is installed on my Mac!</p>\n"},{"tags":["java","geometry"],"comments":[{"owner":{"display_name":"user180100"},"score":0,"creation_date":1466611320,"post_id":37972970,"comment_id":63392391,"body_markdown":"There&#39;s some explanation here: http://www.informit.com/articles/article.aspx?p=30085&amp;seqNum=5 but its&#39; in english","body":"There&#39;s some explanation here: <a href=\"http://www.informit.com/articles/article.aspx?p=30085&amp;seqNum=5\" rel=\"nofollow noreferrer\">informit.com/articles/article.aspx?p=30085&amp;seqNum=5</a> but its&#39; in english"}],"answers":[{"tags":[],"owner":{"account_id":3006590,"reputation":2296,"user_id":2551007,"accept_rate":80,"display_name":"Marc Wittmann"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1466611693,"creation_date":1466611389,"answer_id":37973144,"question_id":37972970,"body_markdown":"I think this one explains it pretty perfect\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nThe even-odd rule yields the same results as the non-zero winding rule for simple shapes, but different results for more complex ones.\r\n\r\nAnother theoretical example can be found here (without code)\r\n[Example][2]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/uULg1.jpg\r\n  [2]: http://folk.uio.no/bjornw/doc/bifrost-ref/bifrost-ref-12.html","title":"GeneralPath: What is winding?","body":"<p>I think this one explains it pretty perfect</p>\n\n<p><a href=\"https://i.stack.imgur.com/uULg1.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uULg1.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>The even-odd rule yields the same results as the non-zero winding rule for simple shapes, but different results for more complex ones.</p>\n\n<p>Another theoretical example can be found here (without code)\n<a href=\"http://folk.uio.no/bjornw/doc/bifrost-ref/bifrost-ref-12.html\" rel=\"nofollow noreferrer\">Example</a></p>\n"},{"tags":[],"owner":{"account_id":1656541,"reputation":684,"user_id":1525953,"display_name":"Boo Radley"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1466611916,"creation_date":1466611916,"answer_id":37973298,"question_id":37972970,"body_markdown":"As you discovered the Javadoc is not very helpful in this instance:\r\n\r\n**WIND_EVEN_ODD**\r\n\r\n    public static final int WIND_EVEN_ODD\r\n\r\n    An even-odd winding rule for determining the interior of a path.\r\n\r\n\r\n\r\n**WIND_NON_ZERO**\r\n\r\n    public static final int WIND_NON_ZERO\r\n\r\n    A non-zero winding rule for determining the interior of a path.\r\n\r\nBut the link @RC provided has a useful explanation. \r\n\r\n&gt;There are two common methods for determining if any point is inside a geometric shape. The first, called the odd-even rule, is based on drawing a line (ray) from the point to be classified to any point well outside the shape. If the number of edge crossings is odd, the point is inside the shape; otherwise it is not. The second approach is termed the non-zero winding rule and likewise determines the number of edge crossings that occur for a ray drawn to a distant point. However, in the non-zero winding rule scheme, the left to right crossings add to the total number of crossing whereas the right to left crossing subtracts from the total number of crossings. If the sum of left to right and right to left crossing isn&#39;t equal to zero, the point is determined to be inside. Figure 3.3 shows an example of applying the two rules. Indeed the odd-even and non-zero winding rules give different answers for the ambiguous area labeled 1.\r\n\r\n\r\n**References**\r\n\r\n* http://docs.oracle.com/javase/7/docs/api/java/awt/geom/Path2D.html\r\n* http://www.informit.com/articles/article.aspx?p=30085&amp;seqNum=5\r\n","title":"GeneralPath: What is winding?","body":"<p>As you discovered the Javadoc is not very helpful in this instance:</p>\n\n<p><strong>WIND_EVEN_ODD</strong></p>\n\n<pre><code>public static final int WIND_EVEN_ODD\n\nAn even-odd winding rule for determining the interior of a path.\n</code></pre>\n\n<p><strong>WIND_NON_ZERO</strong></p>\n\n<pre><code>public static final int WIND_NON_ZERO\n\nA non-zero winding rule for determining the interior of a path.\n</code></pre>\n\n<p>But the link @RC provided has a useful explanation. </p>\n\n<blockquote>\n  <p>There are two common methods for determining if any point is inside a geometric shape. The first, called the odd-even rule, is based on drawing a line (ray) from the point to be classified to any point well outside the shape. If the number of edge crossings is odd, the point is inside the shape; otherwise it is not. The second approach is termed the non-zero winding rule and likewise determines the number of edge crossings that occur for a ray drawn to a distant point. However, in the non-zero winding rule scheme, the left to right crossings add to the total number of crossing whereas the right to left crossing subtracts from the total number of crossings. If the sum of left to right and right to left crossing isn't equal to zero, the point is determined to be inside. Figure 3.3 shows an example of applying the two rules. Indeed the odd-even and non-zero winding rules give different answers for the ambiguous area labeled 1.</p>\n</blockquote>\n\n<p><strong>References</strong></p>\n\n<ul>\n<li><a href=\"http://docs.oracle.com/javase/7/docs/api/java/awt/geom/Path2D.html\" rel=\"nofollow\">http://docs.oracle.com/javase/7/docs/api/java/awt/geom/Path2D.html</a></li>\n<li><a href=\"http://www.informit.com/articles/article.aspx?p=30085&amp;seqNum=5\" rel=\"nofollow\">http://www.informit.com/articles/article.aspx?p=30085&amp;seqNum=5</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":179115,"reputation":355,"user_id":2284790,"display_name":"lumpchen"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1507780011,"creation_date":1507780011,"answer_id":46701077,"question_id":37972970,"body_markdown":"In PDF specification, there are 2 firgures to describe Nonzero Winding Number Rule and Even-Odd Rule.\r\n[![enter image description here][2]][2]\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GvGM9.jpg\r\n  [2]: https://i.stack.imgur.com/mDkrj.jpg","title":"GeneralPath: What is winding?","body":"<p>In PDF specification, there are 2 firgures to describe Nonzero Winding Number Rule and Even-Odd Rule.\n<a href=\"https://i.stack.imgur.com/mDkrj.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mDkrj.jpg\" alt=\"enter image description here\"></a>\n<a href=\"https://i.stack.imgur.com/GvGM9.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GvGM9.jpg\" alt=\"enter image description here\"></a></p>\n"}],"owner":{"account_id":8660518,"reputation":171,"user_id":6483143,"display_name":"Szala"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2349,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":37973144,"answer_count":3,"score":0,"last_activity_date":1671441786,"creation_date":1466610849,"question_id":37972970,"body_markdown":"What is winding? Yeah, i know, &quot;read the description&quot;.\r\n\r\n&#39;A non-zero winding rule for determining the interior of a path.&#39;\r\n\r\n&#39;An even-odd winding rule for determining the interior of a path.&#39;\r\n\r\nI can&#39;t understand what winding, &#39;non-zero&#39; and &#39;even-odd&#39; means here. Can someone explain that with other words? I can&#39;t see the difference in the screen.\r\n\r\n\r\n    \tGeneralPath gen1 = new GeneralPath(GeneralPath.WIND_NON_ZERO);\r\n\t\tGeneralPath gen2 = new GeneralPath(GeneralPath.WIND_EVEN_ODD);","title":"GeneralPath: What is winding?","body":"<p>What is winding? Yeah, i know, &quot;read the description&quot;.</p>\n<p>'A non-zero winding rule for determining the interior of a path.'</p>\n<p>'An even-odd winding rule for determining the interior of a path.'</p>\n<p>I can't understand what winding, 'non-zero' and 'even-odd' means here. Can someone explain that with other words? I can't see the difference in the screen.</p>\n<pre><code>    GeneralPath gen1 = new GeneralPath(GeneralPath.WIND_NON_ZERO);\n    GeneralPath gen2 = new GeneralPath(GeneralPath.WIND_EVEN_ODD);\n</code></pre>\n"},{"tags":["java","jframe"],"comments":[{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1466323998,"post_id":37898406,"comment_id":63262917,"body_markdown":"These are methods of Component, and are thus not specific to JFrame. Their javadoc explain what they do. Read the javadoc: it&#39;s your friend.","body":"These are methods of Component, and are thus not specific to JFrame. Their javadoc explain what they do. Read the javadoc: it&#39;s your friend."}],"answers":[{"tags":[],"owner":{"account_id":8655294,"reputation":953,"user_id":6479780,"display_name":"Omar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1466278338,"creation_date":1466278338,"answer_id":37900889,"question_id":37898406,"body_markdown":"When you create a JFrame like this, the parent is null, so it&#39;s the screen. That&#39;s why here, the functions returns the same values : `getLocationOnScreen()` returns the position of your frame relatively to your screen and `getLocation()` returns the position of your frame relatively to its parent, here, the screen","title":"What is the difference beetwen getLocation() and getLocationOnScreen() at JFrame?","body":"<p>When you create a JFrame like this, the parent is null, so it's the screen. That's why here, the functions returns the same values : <code>getLocationOnScreen()</code> returns the position of your frame relatively to your screen and <code>getLocation()</code> returns the position of your frame relatively to its parent, here, the screen</p>\n"}],"owner":{"account_id":8660518,"reputation":171,"user_id":6483143,"display_name":"Szala"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2674,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":37900889,"answer_count":1,"score":-2,"last_activity_date":1671441775,"creation_date":1466262292,"question_id":37898406,"body_markdown":"What is the difference beetwen `getLocation()` and `getLocationOnScreen()` metholds at `JFrame`?\r\n\r\nI wanted to test what is the difference with this code, but the result is the same. Which method should I use?\r\n\r\n    public static void main(String args[]) {\r\n\t\tJFrame frame = new JFrame();\r\n\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tframe.setLocation(150, 100);\r\n\t\tframe.setVisible(true);\r\n\t\t\r\n\t\tSystem.out.println(&quot;getLocation: &quot; + frame.getLocation().getX() + &quot; &quot; + frame.getLocation().getY());\r\n\t\tSystem.out.println(&quot;getLocationOnScreen: &quot; + frame.getLocationOnScreen().getX() + &quot; &quot; + frame.getLocationOnScreen().getY());\r\n\t}\r\n\r\nOutput:\r\n\r\n    getLocation: 150.0 100.0\r\n    \r\n    getLocationOnScreen: 150.0 100.0","title":"What is the difference beetwen getLocation() and getLocationOnScreen() at JFrame?","body":"<p>What is the difference beetwen <code>getLocation()</code> and <code>getLocationOnScreen()</code> metholds at <code>JFrame</code>?</p>\n\n<p>I wanted to test what is the difference with this code, but the result is the same. Which method should I use?</p>\n\n<pre><code>public static void main(String args[]) {\n    JFrame frame = new JFrame();\n    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    frame.setLocation(150, 100);\n    frame.setVisible(true);\n\n    System.out.println(\"getLocation: \" + frame.getLocation().getX() + \" \" + frame.getLocation().getY());\n    System.out.println(\"getLocationOnScreen: \" + frame.getLocationOnScreen().getX() + \" \" + frame.getLocationOnScreen().getY());\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>getLocation: 150.0 100.0\n\ngetLocationOnScreen: 150.0 100.0\n</code></pre>\n"},{"tags":["java","maven","github-actions","gpg-signature"],"answers":[{"tags":[],"owner":{"account_id":5459362,"reputation":565,"user_id":4341933,"accept_rate":100,"display_name":"Alexander Mladzhov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670848915,"creation_date":1670848268,"answer_id":74771138,"question_id":74752707,"body_markdown":"GPG is asking whether you want to continue on with the encryption using an unsigned key. There for the issue is with the signing. In usage from terminal adding these switches would be sufficient:\r\n`--yes` and `--always-trust`\r\n\r\nIn our case though, you might want to try adding it as env variable like so:\r\n\r\n    env:\r\n        GPG_PASSPHRASE: ${{ secrets.GPG_PASSPHRASE }}","title":"GitHub Actions : How to resolve : &quot;The process &#39;/usr/bin/gpg&#39; failed with exit code 2&quot; problem on actions/setup-java@v3","body":"<p>GPG is asking whether you want to continue on with the encryption using an unsigned key. There for the issue is with the signing. In usage from terminal adding these switches would be sufficient:\n<code>--yes</code> and <code>--always-trust</code></p>\n<p>In our case though, you might want to try adding it as env variable like so:</p>\n<pre><code>env:\n    GPG_PASSPHRASE: ${{ secrets.GPG_PASSPHRASE }}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1758597,"reputation":852,"user_id":1606260,"display_name":"lukee"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671433189,"creation_date":1671433189,"answer_id":74847135,"question_id":74752707,"body_markdown":"`actions/setup-java` is tricky here:\r\n```\r\ngpg-passphrase: description: &#39;Environment variable name for the GPG private key passphrase. Default is GPG_PASSPHRASE.\r\n```\r\n\r\nSo it&#39;s not actual passphrase, it&#39;s env var name that holds it. Very counter intuitive IMO.\r\n\r\nSo you need to remove this\r\n```\r\ngpg-passphrase: ${{ inputs.gpg-passphrase }}\r\n```\r\nand add this\r\n```\r\nenv:\r\n    GPG_PASSPHRASE: ${{ inputs.gpg-passphrase }}\r\n```","title":"GitHub Actions : How to resolve : &quot;The process &#39;/usr/bin/gpg&#39; failed with exit code 2&quot; problem on actions/setup-java@v3","body":"<p><code>actions/setup-java</code> is tricky here:</p>\n<pre><code>gpg-passphrase: description: 'Environment variable name for the GPG private key passphrase. Default is GPG_PASSPHRASE.\n</code></pre>\n<p>So it's not actual passphrase, it's env var name that holds it. Very counter intuitive IMO.</p>\n<p>So you need to remove this</p>\n<pre><code>gpg-passphrase: ${{ inputs.gpg-passphrase }}\n</code></pre>\n<p>and add this</p>\n<pre><code>env:\n    GPG_PASSPHRASE: ${{ inputs.gpg-passphrase }}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4851551,"reputation":371,"user_id":3913710,"accept_rate":0,"display_name":"apan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1671441706,"creation_date":1671441706,"answer_id":74848449,"question_id":74752707,"body_markdown":"Can you make sure GPG private key is in the correct format. The key should be in the ASCII Armored format, which can be done by running the following command:\r\n\r\n    gpg --armor --export-secret-keys &lt;key_id&gt; &gt; gpg_key.asc\r\n\r\nOnce the key is in the correct format, add it as an input variable in the Action and pass it to the action in the workflow.","title":"GitHub Actions : How to resolve : &quot;The process &#39;/usr/bin/gpg&#39; failed with exit code 2&quot; problem on actions/setup-java@v3","body":"<p>Can you make sure GPG private key is in the correct format. The key should be in the ASCII Armored format, which can be done by running the following command:</p>\n<pre><code>gpg --armor --export-secret-keys &lt;key_id&gt; &gt; gpg_key.asc\n</code></pre>\n<p>Once the key is in the correct format, add it as an input variable in the Action and pass it to the action in the workflow.</p>\n"}],"owner":{"account_id":20683611,"reputation":1177,"user_id":15186569,"display_name":"ThrowsError"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":871,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":74848449,"answer_count":3,"score":10,"last_activity_date":1671441706,"creation_date":1670673537,"question_id":74752707,"body_markdown":"## Introduction\r\n\r\nCurrently, I&#39;m trying to contribute on a GitHub Action that automatically publishes a java library.\r\nThe branch where I&#39;m developing: https://github.com/MathieuSoysal/Java-maven-library-publisher/tree/2-add-automated-tests\r\n\r\n**The yaml code of the Action** :\r\n```yaml\r\nname: Java maven library publisher\r\nauthor: &quot;Mathieu Soysal (@MathieuSoysal)&quot;\r\ndescription: &quot;Build automatically Java Maven library and publish it to GitHub Packages and Maven Central.&quot;\r\nbranding:\r\n  icon: &quot;package&quot;\r\n  color: &quot;gray-dark&quot;\r\n\r\ninputs:\r\n  nexus-username:\r\n    description: &quot;Nexus username&quot;\r\n    required: true\r\n  nexus-password:\r\n    description: &quot;Nexus password&quot;\r\n    required: true\r\n  gpg-private-key:\r\n    description: &quot;GPG private key&quot;\r\n    required: true\r\n  gpg-passphrase:\r\n    description: &quot;GPG passphrase&quot;\r\n    required: true\r\n  github-token:\r\n    description: &quot;GitHub token&quot;\r\n    required: true\r\n  # Java version to use\r\n  java-version:\r\n    description: &quot;Java version to use&quot;\r\n    required: true\r\n    default: &quot;17&quot;\r\n  # Library version\r\n  library-version:\r\n    description: &quot;Library version&quot;\r\n    required: false\r\n    default: &quot;&quot;\r\n\r\nruns:\r\n  using: &quot;composite&quot;\r\n\r\n  steps:\r\n    - name: Checkout\r\n      uses: actions/checkout@v3\r\n\r\n    - name: Set up JDK 17 for deploy to OSSRH\r\n      uses: actions/setup-java@v3\r\n      with:\r\n        distribution: &quot;adopt&quot;\r\n        java-version: ${{ inputs.java-version }}\r\n        server-id: ossrh\r\n        server-username: ${{ inputs.nexus-username }}\r\n        server-password: ${{ inputs.nexus-password }}\r\n        gpg-private-key: ${{ inputs.gpg-private-key }}\r\n        gpg-passphrase: ${{ inputs.gpg-passphrase }}\r\n\r\n    - name: Build with Maven\r\n      run: mvn -B package --file pom.xml\r\n      shell: bash\r\n\r\n    - name: Update package version\r\n      if: ${{ inputs.library-version != &#39;&#39; }}\r\n      run: mvn versions:set -DnewVersion=${{ inputs.library-version }}\r\n      shell: bash\r\n\r\n    - name: Prepare Maven environnement with Java 17 for deployment to OSSRH\r\n      run: export MAVEN_OPTS=&quot;--add-opens=java.base/java.util=ALL-UNNAMED --add-opens=java.base/java.lang.reflect=ALL-UNNAMED --add-opens=java.base/java.text=ALL-UNNAMED --add-opens=java.desktop/java.awt.font=ALL-UNNAMED&quot;\r\n      shell: bash\r\n\r\n    - name: Publish to Apache Maven Central\r\n      run: mvn deploy -PossrhDeploy\r\n      shell: bash\r\n      env:\r\n        MAVEN_USERNAME: ${{ inputs.nexus-username }}\r\n        MAVEN_CENTRAL_TOKEN: ${{ inputs.nexus-password }}\r\n        MAVEN_GPG_PASSPHRASE: ${{ inputs.gpg-passphrase }}\r\n\r\n    - name: Set up JDK 17 for deploy to github packages\r\n      uses: actions/setup-java@v3\r\n      with:\r\n        distribution: &quot;adopt&quot;\r\n        java-version: ${{ inputs.java-version }}\r\n        server-id: github\r\n\r\n    - name: Publish to GitHub Packages Apache Maven\r\n      run: mvn deploy -PgithubDeploy\r\n      shell: bash\r\n      env:\r\n        GITHUB_TOKEN: ${{ inputs.github-token }}\r\n```\r\n*link to the code: https://github.com/MathieuSoysal/Java-maven-library-publisher/blob/2-add-automated-tests/action.yaml*\r\n\r\n**The workflow that execute the Action**:\r\n```yaml\r\nname: Test Actions\r\n\r\non: [push]\r\n\r\njobs:\r\n  test:\r\n    runs-on: ubuntu-latest\r\n    steps:\r\n      - uses: actions/checkout@v3\r\n\r\n      - name: Maven Library build and publish\r\n        uses: ./\r\n        with:\r\n          nexus-username: ${{ secrets.NEXUS_USERNAME }}\r\n          nexus-password: ${{ secrets.NEXUS_PASSWORD }}\r\n          gpg-private-key: ${{ secrets.GPG_PRIVATE_KEY }}\r\n          gpg-passphrase: ${{ secrets.GPG_PASSPHRASE }}\r\n          library-version: $GITHUB_RUN_NUMBER\r\n          github-token: ${{ secrets.GITHUB_TOKEN }}\r\n          java-version: 17\r\n```\r\n*Link to the code: https://github.com/MathieuSoysal/Java-maven-library-publisher/blob/2-add-automated-tests/.github/workflows/test-action.yml*\r\n\r\n\r\n## Problem\r\n\r\nWhen i&#39;m trying to execute the action I obtain this error:\r\n\r\n```log\r\nGetting action download info\r\nDownload action repository &#39;actions/setup-java@v3&#39; (SHA:c3ac5dd0ed8db40fedb61c32fbe677e6b355e94c)\r\nRun ./\r\nRun actions/checkout@v3\r\nSyncing repository: ***/Java-maven-library-publisher\r\nGetting Git version info\r\nTemporarily overriding HOME=&#39;/home/runner/work/_temp/45376e45-02aa-4aa5-b536-5f744f7e10d3&#39; before making global git config changes\r\nAdding repository directory to the temporary git global config as a safe directory\r\n/usr/bin/git config --global --add safe.directory /home/runner/work/Java-maven-library-publisher/Java-maven-library-publisher\r\n/usr/bin/git config --local --get remote.origin.url\r\nhttps://github.com/***/Java-maven-library-publisher\r\nRemoving previously created refs, to avoid conflicts\r\nCleaning the repository\r\nDisabling automatic garbage collection\r\nSetting up auth\r\nFetching the repository\r\nDetermining the checkout info\r\nChecking out the ref\r\n/usr/bin/git log -1 --format=&#39;%H&#39;\r\n&#39;0e8da131bf626b218ddccbd08a661c7921dfb8da&#39;\r\nRun actions/setup-java@v3\r\nInstalled distributions\r\nCreating settings.xml with server-id: ossrh\r\nWriting to /home/runner/.m2/settings.xml\r\nImporting private gpg key\r\nError: The process &#39;/usr/bin/gpg&#39; failed with exit code 2\r\n```\r\n\r\n## Question\r\n\r\nSomeone know how we can fix this `The process &#39;/usr/bin/gpg&#39; failed with exit code 2` for *actions/setup-java@v3* ?\r\n\r\n\r\n\r\n","title":"GitHub Actions : How to resolve : &quot;The process &#39;/usr/bin/gpg&#39; failed with exit code 2&quot; problem on actions/setup-java@v3","body":"<h2>Introduction</h2>\n<p>Currently, I'm trying to contribute on a GitHub Action that automatically publishes a java library.\nThe branch where I'm developing: <a href=\"https://github.com/MathieuSoysal/Java-maven-library-publisher/tree/2-add-automated-tests\" rel=\"noreferrer\">https://github.com/MathieuSoysal/Java-maven-library-publisher/tree/2-add-automated-tests</a></p>\n<p><strong>The yaml code of the Action</strong> :</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>name: Java maven library publisher\nauthor: &quot;Mathieu Soysal (@MathieuSoysal)&quot;\ndescription: &quot;Build automatically Java Maven library and publish it to GitHub Packages and Maven Central.&quot;\nbranding:\n  icon: &quot;package&quot;\n  color: &quot;gray-dark&quot;\n\ninputs:\n  nexus-username:\n    description: &quot;Nexus username&quot;\n    required: true\n  nexus-password:\n    description: &quot;Nexus password&quot;\n    required: true\n  gpg-private-key:\n    description: &quot;GPG private key&quot;\n    required: true\n  gpg-passphrase:\n    description: &quot;GPG passphrase&quot;\n    required: true\n  github-token:\n    description: &quot;GitHub token&quot;\n    required: true\n  # Java version to use\n  java-version:\n    description: &quot;Java version to use&quot;\n    required: true\n    default: &quot;17&quot;\n  # Library version\n  library-version:\n    description: &quot;Library version&quot;\n    required: false\n    default: &quot;&quot;\n\nruns:\n  using: &quot;composite&quot;\n\n  steps:\n    - name: Checkout\n      uses: actions/checkout@v3\n\n    - name: Set up JDK 17 for deploy to OSSRH\n      uses: actions/setup-java@v3\n      with:\n        distribution: &quot;adopt&quot;\n        java-version: ${{ inputs.java-version }}\n        server-id: ossrh\n        server-username: ${{ inputs.nexus-username }}\n        server-password: ${{ inputs.nexus-password }}\n        gpg-private-key: ${{ inputs.gpg-private-key }}\n        gpg-passphrase: ${{ inputs.gpg-passphrase }}\n\n    - name: Build with Maven\n      run: mvn -B package --file pom.xml\n      shell: bash\n\n    - name: Update package version\n      if: ${{ inputs.library-version != '' }}\n      run: mvn versions:set -DnewVersion=${{ inputs.library-version }}\n      shell: bash\n\n    - name: Prepare Maven environnement with Java 17 for deployment to OSSRH\n      run: export MAVEN_OPTS=&quot;--add-opens=java.base/java.util=ALL-UNNAMED --add-opens=java.base/java.lang.reflect=ALL-UNNAMED --add-opens=java.base/java.text=ALL-UNNAMED --add-opens=java.desktop/java.awt.font=ALL-UNNAMED&quot;\n      shell: bash\n\n    - name: Publish to Apache Maven Central\n      run: mvn deploy -PossrhDeploy\n      shell: bash\n      env:\n        MAVEN_USERNAME: ${{ inputs.nexus-username }}\n        MAVEN_CENTRAL_TOKEN: ${{ inputs.nexus-password }}\n        MAVEN_GPG_PASSPHRASE: ${{ inputs.gpg-passphrase }}\n\n    - name: Set up JDK 17 for deploy to github packages\n      uses: actions/setup-java@v3\n      with:\n        distribution: &quot;adopt&quot;\n        java-version: ${{ inputs.java-version }}\n        server-id: github\n\n    - name: Publish to GitHub Packages Apache Maven\n      run: mvn deploy -PgithubDeploy\n      shell: bash\n      env:\n        GITHUB_TOKEN: ${{ inputs.github-token }}\n</code></pre>\n<p><em>link to the code: <a href=\"https://github.com/MathieuSoysal/Java-maven-library-publisher/blob/2-add-automated-tests/action.yaml\" rel=\"noreferrer\">https://github.com/MathieuSoysal/Java-maven-library-publisher/blob/2-add-automated-tests/action.yaml</a></em></p>\n<p><strong>The workflow that execute the Action</strong>:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>name: Test Actions\n\non: [push]\n\njobs:\n  test:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v3\n\n      - name: Maven Library build and publish\n        uses: ./\n        with:\n          nexus-username: ${{ secrets.NEXUS_USERNAME }}\n          nexus-password: ${{ secrets.NEXUS_PASSWORD }}\n          gpg-private-key: ${{ secrets.GPG_PRIVATE_KEY }}\n          gpg-passphrase: ${{ secrets.GPG_PASSPHRASE }}\n          library-version: $GITHUB_RUN_NUMBER\n          github-token: ${{ secrets.GITHUB_TOKEN }}\n          java-version: 17\n</code></pre>\n<p><em>Link to the code: <a href=\"https://github.com/MathieuSoysal/Java-maven-library-publisher/blob/2-add-automated-tests/.github/workflows/test-action.yml\" rel=\"noreferrer\">https://github.com/MathieuSoysal/Java-maven-library-publisher/blob/2-add-automated-tests/.github/workflows/test-action.yml</a></em></p>\n<h2>Problem</h2>\n<p>When i'm trying to execute the action I obtain this error:</p>\n<pre><code>Getting action download info\nDownload action repository 'actions/setup-java@v3' (SHA:c3ac5dd0ed8db40fedb61c32fbe677e6b355e94c)\nRun ./\nRun actions/checkout@v3\nSyncing repository: ***/Java-maven-library-publisher\nGetting Git version info\nTemporarily overriding HOME='/home/runner/work/_temp/45376e45-02aa-4aa5-b536-5f744f7e10d3' before making global git config changes\nAdding repository directory to the temporary git global config as a safe directory\n/usr/bin/git config --global --add safe.directory /home/runner/work/Java-maven-library-publisher/Java-maven-library-publisher\n/usr/bin/git config --local --get remote.origin.url\nhttps://github.com/***/Java-maven-library-publisher\nRemoving previously created refs, to avoid conflicts\nCleaning the repository\nDisabling automatic garbage collection\nSetting up auth\nFetching the repository\nDetermining the checkout info\nChecking out the ref\n/usr/bin/git log -1 --format='%H'\n'0e8da131bf626b218ddccbd08a661c7921dfb8da'\nRun actions/setup-java@v3\nInstalled distributions\nCreating settings.xml with server-id: ossrh\nWriting to /home/runner/.m2/settings.xml\nImporting private gpg key\nError: The process '/usr/bin/gpg' failed with exit code 2\n</code></pre>\n<h2>Question</h2>\n<p>Someone know how we can fix this <code>The process '/usr/bin/gpg' failed with exit code 2</code> for <em>actions/setup-java@v3</em> ?</p>\n"},{"tags":["java","arrays","spring-boot","arraylist"],"answers":[{"tags":[],"owner":{"account_id":210082,"reputation":19409,"user_id":461499,"accept_rate":73,"display_name":"Rob Audenaerde"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671441412,"creation_date":1671441412,"answer_id":74848393,"question_id":74848314,"body_markdown":"Use `Arrays.toString(products)` to convert the array contents to a `String`\r\n\r\nhttps://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html#toString(java.lang.Object[])","title":"how to print content of arraylist in my console","body":"<p>Use <code>Arrays.toString(products)</code> to convert the array contents to a <code>String</code></p>\n<p><a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html#toString(java.lang.Object%5B%5D)\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html#toString(java.lang.Object[])</a></p>\n"},{"tags":[],"owner":{"account_id":873767,"reputation":973,"user_id":924036,"display_name":"Kaj Hejer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671441689,"creation_date":1671441689,"answer_id":74848443,"question_id":74848314,"body_markdown":"One way of solving this is to add a `toString()` method to you `Product` class. If your `Product` has two attributes, `title` and `price` the `toString()` could be something like\r\n```\r\n public String toString(){ \r\n   return title=&quot; + getTitle() + &quot;, price=&quot; + getPrice()\r\n }  \r\n```\r\n\r\nMany IDEs has support for generating `toString()` methods. See f.x. https://www.jetbrains.com/help/idea/generate-tostring-dialog.html","title":"how to print content of arraylist in my console","body":"<p>One way of solving this is to add a <code>toString()</code> method to you <code>Product</code> class. If your <code>Product</code> has two attributes, <code>title</code> and <code>price</code> the <code>toString()</code> could be something like</p>\n<pre><code> public String toString(){ \n   return title=&quot; + getTitle() + &quot;, price=&quot; + getPrice()\n }  \n</code></pre>\n<p>Many IDEs has support for generating <code>toString()</code> methods. See f.x. <a href=\"https://www.jetbrains.com/help/idea/generate-tostring-dialog.html\" rel=\"nofollow noreferrer\">https://www.jetbrains.com/help/idea/generate-tostring-dialog.html</a></p>\n"}],"owner":{"account_id":24269568,"reputation":21,"user_id":18217883,"display_name":"Ali"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74848443,"answer_count":2,"score":0,"last_activity_date":1671441689,"creation_date":1671440984,"question_id":74848314,"body_markdown":"```\r\nSearchRequest searchRequest =  SearchRequest.of(s -&gt; s.index(&quot;products&quot;).query(q -&gt; q.multiMatch(\r\n\t\t t -&gt; t .fields(&quot;description&quot;,&quot;name&quot;).query(text)))\r\n\t\t );\r\n       SearchResponse searchResponse =  elasticsearchClient.search(searchRequest, Product.class);\r\n       List&lt;Hit&gt; hits = searchResponse.hits().hits();\r\n       List&lt;Product&gt; products = new ArrayList&lt;&gt;();\r\n       for(Hit object : hits){\r\n           System.out.print(((Product) object.source()));\r\n           System.out.println(products.toString());\r\n           products.add((Product) object.source()); \r\n           \r\n           }\r\n   \r\n       return products;    \r\n```\r\ni want to print &quot;products&quot; in my console\r\n\r\ni had tried :\r\n System.out.println(products.toString());\r\nbut it showing me a ref number only @6ae9453[] i want to display the content inside &quot;products&quot;","title":"how to print content of arraylist in my console","body":"<pre><code>SearchRequest searchRequest =  SearchRequest.of(s -&gt; s.index(&quot;products&quot;).query(q -&gt; q.multiMatch(\n         t -&gt; t .fields(&quot;description&quot;,&quot;name&quot;).query(text)))\n         );\n       SearchResponse searchResponse =  elasticsearchClient.search(searchRequest, Product.class);\n       List&lt;Hit&gt; hits = searchResponse.hits().hits();\n       List&lt;Product&gt; products = new ArrayList&lt;&gt;();\n       for(Hit object : hits){\n           System.out.print(((Product) object.source()));\n           System.out.println(products.toString());\n           products.add((Product) object.source()); \n           \n           }\n   \n       return products;    \n</code></pre>\n<p>i want to print &quot;products&quot; in my console</p>\n<p>i had tried :\nSystem.out.println(products.toString());\nbut it showing me a ref number only @6ae9453[] i want to display the content inside &quot;products&quot;</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":2,"creation_date":1671377041,"post_id":74842481,"comment_id":132082040,"body_markdown":"Cache lines are a function of hardware, not the Java language.  Your source is talking about a hardware issue, nothing that&#39;s forced on the system by the language.","body":"Cache lines are a function of hardware, not the Java language.  Your source is talking about a hardware issue, nothing that&#39;s forced on the system by the language."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1671377254,"post_id":74842481,"comment_id":132082075,"body_markdown":"The article you link to talks about ways to avoid false sharing (a hardware problem).  I&#39;ll add there&#39;s one more: if you can encourage the optimizer to use a cpu register, you can also avoid updating a field and avoid thrashing the cache.  Assigning a volatile to a local variable as a temporary copy might do the trick.","body":"The article you link to talks about ways to avoid false sharing (a hardware problem).  I&#39;ll add there&#39;s one more: if you can encourage the optimizer to use a cpu register, you can also avoid updating a field and avoid thrashing the cache.  Assigning a volatile to a local variable as a temporary copy might do the trick."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1671380827,"post_id":74842481,"comment_id":132082734,"body_markdown":"It&#39;s worse than you think. Using a `volatile` variable establishes a &quot;happens before&quot; relationship between threads. If thread A writes a value to a `volatile`, and then thread B reads that value, the write is said to &quot;happen before&quot; the read. But since everything that happens within any thread must &quot;happen&quot; in &quot;program order,&quot; that means, everything thread A did before it wrote the variable must become visible to thread B when B reads the variable—not just whatever else happens to affect the same cache line, but literally _everything._","body":"It&#39;s worse than you think. Using a <code>volatile</code> variable establishes a &quot;happens before&quot; relationship between threads. If thread A writes a value to a <code>volatile</code>, and then thread B reads that value, the write is said to &quot;happen before&quot; the read. But since everything that happens within any thread must &quot;happen&quot; in &quot;program order,&quot; that means, everything thread A did before it wrote the variable must become visible to thread B when B reads the variable—not just whatever else happens to affect the same cache line, but literally <i>everything.</i>"},{"owner":{"account_id":3788739,"reputation":365,"user_id":3145897,"display_name":"alfer"},"score":0,"creation_date":1671391192,"post_id":74842481,"comment_id":132084470,"body_markdown":"If the first thread updates variable count1, and the second thread reads variable count2, only count1 needs to be volatile for the cache line to be refreshed, or count2 needs to be volatile as well?","body":"If the first thread updates variable count1, and the second thread reads variable count2, only count1 needs to be volatile for the cache line to be refreshed, or count2 needs to be volatile as well?"}],"answers":[{"tags":[],"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671441531,"creation_date":1671439378,"answer_id":74848007,"question_id":74842481,"body_markdown":"Both variables need to be volatile. Caches on modern CPUs are always coherent. So it doesn&#39;t matter if a cache line is falsely shared or not since the cache ensures coherence. It is the compiler that can still mess things up.\r\n\r\nIf there is data race, then the JMM allows for any written value to be seen the read is in data race with (*). So imagine the following example:\r\n\r\n    class FalseSharing{\r\n       int a;\r\n       volatile int b;\r\n    }\r\n\r\nThe FalseSharing instance is shared between multiple threads and one thread does the following: \r\n    \r\n    while(shared.a==0){\r\n        print(shared.b);&lt;== triggers the false sharing\r\n    }\r\n\r\nAnd another thread at some point calls &#39;shared.a=1&#39;. Because there is a data race on &#39;a&#39;, the compiler can rewrite the code to:\r\n\r\n    if(shared.a==0){\r\n         while(true){\r\n             print(shared.b);\r\n         }\r\n    }\r\n\r\nThis is legal since the JMM mandates that the possible read values of &#39;a&#39; are {0,1}. And JVM is allowed to produce executions that produce a subset; in this case {0}.\r\n\r\nAfter this code transformation, it is clear that it doesn&#39;t matter if &#39;a&#39; is piggybacking on a falsely shared cache line.\r\n\r\n\r\n(*) Happens-before consistent is the JMM&#39;s solution to prevent undefined behavior in case of a data race. It states that a read needs to see the most recent write before it is in the happens-before order, or a write it is in data race with. ","title":"False sharing and Java memory model","body":"<p>Both variables need to be volatile. Caches on modern CPUs are always coherent. So it doesn't matter if a cache line is falsely shared or not since the cache ensures coherence. It is the compiler that can still mess things up.</p>\n<p>If there is data race, then the JMM allows for any written value to be seen the read is in data race with (*). So imagine the following example:</p>\n<pre><code>class FalseSharing{\n   int a;\n   volatile int b;\n}\n</code></pre>\n<p>The FalseSharing instance is shared between multiple threads and one thread does the following:</p>\n<pre><code>while(shared.a==0){\n    print(shared.b);&lt;== triggers the false sharing\n}\n</code></pre>\n<p>And another thread at some point calls 'shared.a=1'. Because there is a data race on 'a', the compiler can rewrite the code to:</p>\n<pre><code>if(shared.a==0){\n     while(true){\n         print(shared.b);\n     }\n}\n</code></pre>\n<p>This is legal since the JMM mandates that the possible read values of 'a' are {0,1}. And JVM is allowed to produce executions that produce a subset; in this case {0}.</p>\n<p>After this code transformation, it is clear that it doesn't matter if 'a' is piggybacking on a falsely shared cache line.</p>\n<p>(*) Happens-before consistent is the JMM's solution to prevent undefined behavior in case of a data race. It states that a read needs to see the most recent write before it is in the happens-before order, or a write it is in data race with.</p>\n"}],"owner":{"account_id":3788739,"reputation":365,"user_id":3145897,"display_name":"alfer"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":157,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1671441531,"creation_date":1671376407,"question_id":74842481,"body_markdown":"I am using the example described here https://jenkov.com/tutorials/java-concurrency/false-sharing.html where we have the following class:\r\n\r\n```\r\npublic class Counter {\r\n\r\n    public volatile long count1 = 0;\r\n    public volatile long count2 = 0;\r\n\r\n}\r\n```\r\n\r\nand two threads are each updating the variables count1 and count2 at the same time. Because count1 and count2 are in the same cache line, each time a thread updates one of the variables, the other thread needs to refresh the cache line.\r\n\r\nMy question is regarding the volatile keyword. The way volatile is usually presented is that when a thread A updates a volatile variable x, and then another thread B reads x, that other thread B is guaranteed to see the updated value of x. But here volatile is used on two different variables. So another property of volatile would be that when a thread A updates a volatile variable, if another thread B then reads any other (also volatile?) variable from the same cache line, then that other thread B needs to refresh the whole cache line?\r\n","title":"False sharing and Java memory model","body":"<p>I am using the example described here <a href=\"https://jenkov.com/tutorials/java-concurrency/false-sharing.html\" rel=\"nofollow noreferrer\">https://jenkov.com/tutorials/java-concurrency/false-sharing.html</a> where we have the following class:</p>\n<pre><code>public class Counter {\n\n    public volatile long count1 = 0;\n    public volatile long count2 = 0;\n\n}\n</code></pre>\n<p>and two threads are each updating the variables count1 and count2 at the same time. Because count1 and count2 are in the same cache line, each time a thread updates one of the variables, the other thread needs to refresh the cache line.</p>\n<p>My question is regarding the volatile keyword. The way volatile is usually presented is that when a thread A updates a volatile variable x, and then another thread B reads x, that other thread B is guaranteed to see the updated value of x. But here volatile is used on two different variables. So another property of volatile would be that when a thread A updates a volatile variable, if another thread B then reads any other (also volatile?) variable from the same cache line, then that other thread B needs to refresh the whole cache line?</p>\n"},{"tags":["java","android","android-fragments","android-recyclerview"],"comments":[{"owner":{"account_id":1796518,"reputation":5623,"user_id":1635817,"display_name":"florianmski"},"score":0,"creation_date":1426114976,"post_id":28992929,"comment_id":46245956,"body_markdown":"Are you sure your recyclerview visibility is set to visible ? Does your recyclerview has a decent height (try to put a background to your recyclerview so you can see visually if it takes any sapce at all in your layout) ?","body":"Are you sure your recyclerview visibility is set to visible ? Does your recyclerview has a decent height (try to put a background to your recyclerview so you can see visually if it takes any sapce at all in your layout) ?"},{"owner":{"account_id":4185081,"reputation":1017,"user_id":3429021,"accept_rate":0,"display_name":"Conti"},"score":2,"creation_date":1426145630,"post_id":28992929,"comment_id":46254785,"body_markdown":"I tried &#39;match_parent&#39;, &#39;wrap_content&#39; and a size of 400dp, all with a blue background value and still nothing. I also explicitly set the visibility to visible -- still nothing. Although I wasn&#39;t expecting it to appear anyway as the methods weren&#39;t called to create and bind the views.","body":"I tried &#39;match_parent&#39;, &#39;wrap_content&#39; and a size of 400dp, all with a blue background value and still nothing. I also explicitly set the visibility to visible -- still nothing. Although I wasn&#39;t expecting it to appear anyway as the methods weren&#39;t called to create and bind the views."},{"owner":{"account_id":1796518,"reputation":5623,"user_id":1635817,"display_name":"florianmski"},"score":0,"creation_date":1426167564,"post_id":28992929,"comment_id":46267586,"body_markdown":"That&#39;s super weird, I use recyclerview exactly like this minus setting the DefaultAnimator as it&#39;s already done by default...","body":"That&#39;s super weird, I use recyclerview exactly like this minus setting the DefaultAnimator as it&#39;s already done by default..."},{"owner":{"account_id":1349333,"reputation":691,"user_id":1289421,"display_name":"Raskilas"},"score":1,"creation_date":1428533778,"post_id":28992929,"comment_id":47207875,"body_markdown":"I have the same problem, data in adapter changed, notifyDataSetChanged called, setAdapter executed, fragment alive and drawed, but onCreateViewHolder or onBindView didn&#39;t call. All veiws visible.","body":"I have the same problem, data in adapter changed, notifyDataSetChanged called, setAdapter executed, fragment alive and drawed, but onCreateViewHolder or onBindView didn&#39;t call. All veiws visible."},{"owner":{"account_id":4185081,"reputation":1017,"user_id":3429021,"accept_rate":0,"display_name":"Conti"},"score":0,"creation_date":1428586908,"post_id":28992929,"comment_id":47232259,"body_markdown":"I just gave up and went back to using a CursorAdapter with ListView. I wasted way too many hours on it.","body":"I just gave up and went back to using a CursorAdapter with ListView. I wasted way too many hours on it."},{"owner":{"account_id":5643523,"reputation":6183,"user_id":4466472,"display_name":"Stoycho Andreev"},"score":1,"creation_date":1430054189,"post_id":28992929,"comment_id":47880339,"body_markdown":"I have the same problem my Adapter method getItemCount() return greater then 0 and still does not have positive result. I think there has a problems with SrollView and RecycleView working toghether.","body":"I have the same problem my Adapter method getItemCount() return greater then 0 and still does not have positive result. I think there has a problems with SrollView and RecycleView working toghether."},{"owner":{"account_id":528933,"reputation":852,"user_id":924054,"accept_rate":75,"display_name":"Martin Epsz"},"score":1,"creation_date":1438715297,"post_id":28992929,"comment_id":51559989,"body_markdown":"This is also happening to me. Weird thing is I have another RecyclerView in the same project that is working perfectly.","body":"This is also happening to me. Weird thing is I have another RecyclerView in the same project that is working perfectly."},{"owner":{"account_id":71611,"reputation":26366,"user_id":6998684,"display_name":"IgorGanapolsky"},"score":0,"creation_date":1444912864,"post_id":28992929,"comment_id":54106889,"body_markdown":"@Conti Let&#39;s see your layout where you defined the RecyclerView.  As answered by radityagumay below, your issue may be nesting the RecyclerView in a ScrollView - which would cause it to be hidden.","body":"@Conti Let&#39;s see your layout where you defined the RecyclerView.  As answered by radityagumay below, your issue may be nesting the RecyclerView in a ScrollView - which would cause it to be hidden."},{"owner":{"account_id":4185081,"reputation":1017,"user_id":3429021,"accept_rate":0,"display_name":"Conti"},"score":2,"creation_date":1444985718,"post_id":28992929,"comment_id":54140788,"body_markdown":"@IgorGanapolsky I&#39;ll have to search through my BitBucket and find it, I submitted this question 7 months ago and gave up after spending hours on it. But check my 3rd bullet point, _&quot;Parent View is a vertical LinearLayout; no scrollview, or any other view with their own scroll properties in sight.&quot;_ There were no scrollviews in the hierarchy at all.","body":"@IgorGanapolsky I&#39;ll have to search through my BitBucket and find it, I submitted this question 7 months ago and gave up after spending hours on it. But check my 3rd bullet point, <i>&quot;Parent View is a vertical LinearLayout; no scrollview, or any other view with their own scroll properties in sight.&quot;</i> There were no scrollviews in the hierarchy at all."},{"owner":{"account_id":330005,"reputation":132815,"user_id":653856,"accept_rate":100,"display_name":"Raghunandan"},"score":1,"creation_date":1455282647,"post_id":28992929,"comment_id":58432690,"body_markdown":"@Conti you managed to solve this problem??","body":"@Conti you managed to solve this problem??"},{"owner":{"account_id":2862860,"reputation":2085,"user_id":2457744,"accept_rate":60,"display_name":"J Wang"},"score":0,"creation_date":1475089143,"post_id":28992929,"comment_id":66807265,"body_markdown":"Possible duplicate of [Recyclerview not call onCreateViewHolder](http://stackoverflow.com/questions/27809524/recyclerview-not-call-oncreateviewholder)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/27809524/recyclerview-not-call-oncreateviewholder\">Recyclerview not call onCreateViewHolder</a>"},{"owner":{"account_id":5299878,"reputation":1098,"user_id":4229896,"accept_rate":66,"display_name":"David Luque"},"score":0,"creation_date":1507805787,"post_id":28992929,"comment_id":80362042,"body_markdown":"Make sure that the `RecyclerView` is not a `ConstraintLayout` child","body":"Make sure that the <code>RecyclerView</code> is not a <code>ConstraintLayout</code> child"},{"owner":{"account_id":3600876,"reputation":390,"user_id":3004209,"accept_rate":25,"display_name":"AMIT"},"score":0,"creation_date":1520419843,"post_id":28992929,"comment_id":85304353,"body_markdown":"add setLayoutManager()","body":"add setLayoutManager()"},{"owner":{"account_id":12044769,"reputation":269,"user_id":8810240,"display_name":"Bineesh P Babu"},"score":0,"creation_date":1540701933,"post_id":28992929,"comment_id":92958070,"body_markdown":"@DavidLuque you are awesome.","body":"@DavidLuque you are awesome."}],"answers":[{"tags":[],"owner":{"account_id":7106089,"reputation":2961,"user_id":5435658,"accept_rate":17,"display_name":"raditya gumay"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1444643345,"creation_date":1444643345,"answer_id":33078107,"question_id":28992929,"body_markdown":"Make sure you recycle view is not child from nestedscrollview\r\n\r\nfor example, this code will not work. \r\n\r\n    &lt;android.support.v4.widget.NestedScrollView\r\n        android:id=&quot;@+id/responder_scroll&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:background=&quot;@color/darkGray&quot;\r\n        android:clipToPadding=&quot;false&quot;\r\n        app:layout_behavior=&quot;@string/appbar_scrolling_view_behavior&quot;&gt;\r\n\r\n        &lt;FrameLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n            &lt;android.support.v7.widget.CardView\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginTop=&quot;24dp&quot;\r\n                app:cardElevation=&quot;@dimen/spacing_medium&quot;\r\n                app:cardUseCompatPadding=&quot;true&quot;&gt;\r\n\r\n                &lt;RelativeLayout\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n                    &lt;TextView\r\n                        android:id=&quot;@+id/responder_testimonial&quot;\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:layout_alignParentTop=&quot;true&quot;\r\n                        android:text=&quot;Testimonial&quot;\r\n                        android:textSize=&quot;@dimen/general_font_size&quot; /&gt;\r\n\r\n                    &lt;TextView\r\n                        android:id=&quot;@+id/responder_counter_testimonial&quot;\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:layout_toRightOf=&quot;@+id/responder_testimonial&quot;\r\n                        android:text=&quot;170&quot;\r\n                        android:textSize=&quot;@dimen/general_font_size_small&quot; /&gt;\r\n\r\n                    &lt;Button\r\n                        android:id=&quot;@+id/responder_btn_testimonial&quot;\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:layout_alignParentRight=&quot;true&quot;\r\n                        android:layout_alignParentTop=&quot;true&quot;\r\n                        android:text=&quot;Go&quot; /&gt;\r\n\r\n                   &lt;view\r\n                        android:id=&quot;@+id/responder_list_testimonial&quot;\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;match_parent&quot;\r\n                        android:layout_below=&quot;@+id/responder_testimonial&quot;\r\n                        class=&quot;android.support.v7.widget.RecyclerView&quot;/&gt;\r\n                &lt;/RelativeLayout&gt;\r\n            &lt;/android.support.v7.widget.CardView&gt;\r\n\r\n        &lt;/FrameLayout&gt;\r\n    &lt;/android.support.v4.widget.NestedScrollView&gt;\r\n\r\n\r\nthen i use,\r\n\r\n    &lt;android.support.design.widget.CoordinatorLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:fitsSystemWindows=&quot;true&quot;&gt;\r\n\r\n    &lt;view\r\n        android:id=&quot;@+id/responder_list_testimonial&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_below=&quot;@+id/responder_testimonial&quot;\r\n        class=&quot;android.support.v7.widget.RecyclerView&quot;/&gt;\r\n&lt;/android.support.design.widget.CoordinatorLayout&gt;\r\n","title":"RecyclerView not calling onCreateViewHolder or onBindView","body":"<p>Make sure you recycle view is not child from nestedscrollview</p>\n\n<p>for example, this code will not work. </p>\n\n<pre><code>&lt;android.support.v4.widget.NestedScrollView\n    android:id=\"@+id/responder_scroll\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:background=\"@color/darkGray\"\n    android:clipToPadding=\"false\"\n    app:layout_behavior=\"@string/appbar_scrolling_view_behavior\"&gt;\n\n    &lt;FrameLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"&gt;\n\n        &lt;android.support.v7.widget.CardView\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:layout_marginTop=\"24dp\"\n            app:cardElevation=\"@dimen/spacing_medium\"\n            app:cardUseCompatPadding=\"true\"&gt;\n\n            &lt;RelativeLayout\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"&gt;\n\n                &lt;TextView\n                    android:id=\"@+id/responder_testimonial\"\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:layout_alignParentTop=\"true\"\n                    android:text=\"Testimonial\"\n                    android:textSize=\"@dimen/general_font_size\" /&gt;\n\n                &lt;TextView\n                    android:id=\"@+id/responder_counter_testimonial\"\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:layout_toRightOf=\"@+id/responder_testimonial\"\n                    android:text=\"170\"\n                    android:textSize=\"@dimen/general_font_size_small\" /&gt;\n\n                &lt;Button\n                    android:id=\"@+id/responder_btn_testimonial\"\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:layout_alignParentRight=\"true\"\n                    android:layout_alignParentTop=\"true\"\n                    android:text=\"Go\" /&gt;\n\n               &lt;view\n                    android:id=\"@+id/responder_list_testimonial\"\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"match_parent\"\n                    android:layout_below=\"@+id/responder_testimonial\"\n                    class=\"android.support.v7.widget.RecyclerView\"/&gt;\n            &lt;/RelativeLayout&gt;\n        &lt;/android.support.v7.widget.CardView&gt;\n\n    &lt;/FrameLayout&gt;\n&lt;/android.support.v4.widget.NestedScrollView&gt;\n</code></pre>\n\n<p>then i use,</p>\n\n<pre><code>&lt;android.support.design.widget.CoordinatorLayout\nxmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\nandroid:fitsSystemWindows=\"true\"&gt;\n\n&lt;view\n    android:id=\"@+id/responder_list_testimonial\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:layout_below=\"@+id/responder_testimonial\"\n    class=\"android.support.v7.widget.RecyclerView\"/&gt;\n</code></pre>\n\n<p></p>\n"},{"tags":[],"owner":{"account_id":7858996,"reputation":163,"user_id":5939954,"display_name":"Abdul-Rahman Ahmad"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1455822034,"creation_date":1455709743,"answer_id":35455886,"question_id":28992929,"body_markdown":"I don&#39;t know if this will be helpful to anyone, but I almost had the same exact problem.\r\nMy problem was not in either the fragment/class nor the recycler adapter. The problem was in parent XML layout where the actionbar took `match_parent` where the `FrameLayout` -in which the fragment is replaced- didn&#39;t get any available place to be shown. That&#39;s why the methods weren&#39;t called.\r\n\r\nI guess similar scenarios might be the case for those facing the same problem. Double check every width and height in every XML file might be in the same tree, as the problem doesn&#39;t seem to be in the adapter at all.","title":"RecyclerView not calling onCreateViewHolder or onBindView","body":"<p>I don't know if this will be helpful to anyone, but I almost had the same exact problem.\nMy problem was not in either the fragment/class nor the recycler adapter. The problem was in parent XML layout where the actionbar took <code>match_parent</code> where the <code>FrameLayout</code> -in which the fragment is replaced- didn't get any available place to be shown. That's why the methods weren't called.</p>\n\n<p>I guess similar scenarios might be the case for those facing the same problem. Double check every width and height in every XML file might be in the same tree, as the problem doesn't seem to be in the adapter at all.</p>\n"},{"tags":[],"owner":{"account_id":2460064,"reputation":1996,"user_id":2144418,"accept_rate":75,"display_name":"Aerim"},"down_vote_count":2,"up_vote_count":112,"is_accepted":false,"score":110,"last_activity_date":1641325737,"creation_date":1457114350,"answer_id":35802948,"question_id":28992929,"body_markdown":"This may also help someone\r\n\r\nFirst Use\r\n\r\n    recyclerView.setAdapter(adapter);\r\n\r\nAnd then:\r\n\r\n    recyclerView.setLayoutManager(new LinearLayoutManager(getActivity()));\r\n\r\nSo it will look like this:\r\n\r\n    recyclerView.setAdapter(adapter);\r\n    recyclerView.setLayoutManager(new LinearLayoutManager(getActivity()));\r\n\r\nThe order is reversed\r\n\r\n**Update:** \r\n\r\nNowadays I simply use:\r\n\r\n    app:layoutManager=&quot;androidx.recyclerview.widget.LinearLayoutManager&quot;\r\n\r\non the `RecyclerView` in the xml","title":"RecyclerView not calling onCreateViewHolder or onBindView","body":"<p>This may also help someone</p>\n<p>First Use</p>\n<pre><code>recyclerView.setAdapter(adapter);\n</code></pre>\n<p>And then:</p>\n<pre><code>recyclerView.setLayoutManager(new LinearLayoutManager(getActivity()));\n</code></pre>\n<p>So it will look like this:</p>\n<pre><code>recyclerView.setAdapter(adapter);\nrecyclerView.setLayoutManager(new LinearLayoutManager(getActivity()));\n</code></pre>\n<p>The order is reversed</p>\n<p><strong>Update:</strong></p>\n<p>Nowadays I simply use:</p>\n<pre><code>app:layoutManager=&quot;androidx.recyclerview.widget.LinearLayoutManager&quot;\n</code></pre>\n<p>on the <code>RecyclerView</code> in the xml</p>\n"},{"tags":[],"owner":{"account_id":9022954,"reputation":79,"user_id":6723348,"display_name":"dpspae03"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1471612943,"creation_date":1471612943,"answer_id":39040180,"question_id":28992929,"body_markdown":"I had this same issue where neither onCreateViewHolder or onBindViewHolder were being called. Changing your onCreateViewHolder method to use the Context you saved a reference to in the constructor instead of doing parent.getContext() should fix it:\r\n\r\n    public ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\r\n        Log.d(TAG, &quot;onCreateViewHolder called&quot;);\r\n        View view = LayoutInflater.from(mContext).inflate(R.layout.row_resource_efficiency, parent, false);\r\n        return new ViewHolder(view);\r\n\r\n\r\n","title":"RecyclerView not calling onCreateViewHolder or onBindView","body":"<p>I had this same issue where neither onCreateViewHolder or onBindViewHolder were being called. Changing your onCreateViewHolder method to use the Context you saved a reference to in the constructor instead of doing parent.getContext() should fix it:</p>\n\n<pre><code>public ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\n    Log.d(TAG, \"onCreateViewHolder called\");\n    View view = LayoutInflater.from(mContext).inflate(R.layout.row_resource_efficiency, parent, false);\n    return new ViewHolder(view);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10183845,"reputation":111,"user_id":7519620,"display_name":"Venkatesh Shukla"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1486311361,"creation_date":1486311361,"answer_id":42054320,"question_id":28992929,"body_markdown":"My two pennies here. Just spent more than three hours debugging this.\r\n\r\nMake sure that you have not used the following line carelessly.\r\n\r\n```recyclerView.setHasFixedSize(true);\r\n```\r\n\r\nSet the fixed size only when you are sure that the view would have a constant size.\r\nIn case it is not, the onCreateViewHolder and onBindView methods might not get called at all.\r\n","title":"RecyclerView not calling onCreateViewHolder or onBindView","body":"<p>My two pennies here. Just spent more than three hours debugging this.</p>\n\n<p>Make sure that you have not used the following line carelessly.</p>\n\n<p><code>recyclerView.setHasFixedSize(true);\n</code></p>\n\n<p>Set the fixed size only when you are sure that the view would have a constant size.\nIn case it is not, the onCreateViewHolder and onBindView methods might not get called at all.</p>\n"},{"tags":[],"owner":{"account_id":5216245,"reputation":451,"user_id":4171098,"display_name":"Mateusz Wlodarczyk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1494199140,"creation_date":1494199140,"answer_id":43837732,"question_id":28992929,"body_markdown":"&gt; In my case I set the ID of my RecyclerView to &quot;recyclerView&quot;. It seems that this ID was already defined somewhere, because when I changed that to different ID, the methods from the adapter were called properly.\r\n\r\n\r\n[Link to the answer][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/43837703/4171098","title":"RecyclerView not calling onCreateViewHolder or onBindView","body":"<blockquote>\n  <p>In my case I set the ID of my RecyclerView to \"recyclerView\". It seems that this ID was already defined somewhere, because when I changed that to different ID, the methods from the adapter were called properly.</p>\n</blockquote>\n\n<p><a href=\"https://stackoverflow.com/a/43837703/4171098\">Link to the answer</a></p>\n"},{"tags":[],"owner":{"account_id":6157521,"reputation":181,"user_id":4800049,"display_name":"Vijay Pal"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1497262116,"creation_date":1497258485,"answer_id":44495508,"question_id":28992929,"body_markdown":"I had also face the same issue where `onCreateViewHolder` or `onBindView` method was not getting invoke, only `getItemCount` was getting invoked. So it was basically issue with the height and weight of `RecyclerView` which was set to `wrap_content` or `0dp`. After changing it to some value fixed the problem.","title":"RecyclerView not calling onCreateViewHolder or onBindView","body":"<p>I had also face the same issue where <code>onCreateViewHolder</code> or <code>onBindView</code> method was not getting invoke, only <code>getItemCount</code> was getting invoked. So it was basically issue with the height and weight of <code>RecyclerView</code> which was set to <code>wrap_content</code> or <code>0dp</code>. After changing it to some value fixed the problem.</p>\n"},{"tags":[],"owner":{"account_id":9492249,"reputation":276,"user_id":7056603,"display_name":"bem22"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1500164451,"creation_date":1500164451,"answer_id":45123873,"question_id":28992929,"body_markdown":"I know this topic is old, but if you did the same learner mistake, as I did, you might find this helpful.\r\n\r\nAs I was studying on some website about RecyclerView and copying some code and adapting to my context, I have created different variables (eg users and data) which were meant to do the same thing, except some methods were calling data and some were calling users. This is an easy mistake to do as you try to understand other&#39;s code and java functionality (it happens to me all the time). \r\n\r\nIt&#39;s good to know that you can println in your console anywhere in your java code, so you can debug like that pretty easily. \r\n\r\nGood luck!","title":"RecyclerView not calling onCreateViewHolder or onBindView","body":"<p>I know this topic is old, but if you did the same learner mistake, as I did, you might find this helpful.</p>\n\n<p>As I was studying on some website about RecyclerView and copying some code and adapting to my context, I have created different variables (eg users and data) which were meant to do the same thing, except some methods were calling data and some were calling users. This is an easy mistake to do as you try to understand other's code and java functionality (it happens to me all the time). </p>\n\n<p>It's good to know that you can println in your console anywhere in your java code, so you can debug like that pretty easily. </p>\n\n<p>Good luck!</p>\n"},{"tags":[],"owner":{"account_id":7327479,"reputation":651,"user_id":5581476,"display_name":"Jonathan Kibet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1511445983,"creation_date":1511445983,"answer_id":47457379,"question_id":28992929,"body_markdown":"I recently encountered this problem and apparently there are many possible causes. Try one or combination of these options, see which one(s) work(s) for you :)\r\n\r\n **1. Layout manager**&lt;br&gt;\r\nEnsure that you set a layout manager to your recycler view as below\r\n\r\n    // create a layout manager\r\n    LinearLayoutManager linearLayoutManager = new LinearLayoutManager(my_context);\r\n    linearLayoutManager.setOrientation(LinearLayoutManager.VERTICAL);\r\n\r\n    // get recycler view\r\n    RecyclerView recyclerView = (RecyclerView) findViewById(R.id.recycler_id);\r\n    // set\r\n    recyclerView.setLayoutManager(linearLayoutManager);\r\n\r\n **2. Fixed Size**&lt;br&gt;\r\nEnsure that you state whether your recycler view has a fixed size or not&lt;br&gt;\r\n    \r\n    // set fixed size\r\n    recyclerView.setHasFixedSize(true); // or false depending on implementation\r\n\r\n **3. XML**&lt;br&gt;\r\nEnsure that your recycler is not nested in too many layouts which may cause confusion such as combination of ScrollView and RelativeLayout. Make it simple, see if it fixes your issue&lt;br&gt;\r\n    \r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:orientation=&quot;vertical&quot;&gt;\r\n    \r\n    &lt;android.support.v7.widget.RecyclerView\r\n    android:id=&quot;@+id/thread_list&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot; /&gt;\r\n    &lt;/LinearLayout&gt;","title":"RecyclerView not calling onCreateViewHolder or onBindView","body":"<p>I recently encountered this problem and apparently there are many possible causes. Try one or combination of these options, see which one(s) work(s) for you :)</p>\n\n<p><strong>1. Layout manager</strong><br>\nEnsure that you set a layout manager to your recycler view as below</p>\n\n<pre><code>// create a layout manager\nLinearLayoutManager linearLayoutManager = new LinearLayoutManager(my_context);\nlinearLayoutManager.setOrientation(LinearLayoutManager.VERTICAL);\n\n// get recycler view\nRecyclerView recyclerView = (RecyclerView) findViewById(R.id.recycler_id);\n// set\nrecyclerView.setLayoutManager(linearLayoutManager);\n</code></pre>\n\n<p><strong>2. Fixed Size</strong><br>\nEnsure that you state whether your recycler view has a fixed size or not<br></p>\n\n<pre><code>// set fixed size\nrecyclerView.setHasFixedSize(true); // or false depending on implementation\n</code></pre>\n\n<p><strong>3. XML</strong><br>\nEnsure that your recycler is not nested in too many layouts which may cause confusion such as combination of ScrollView and RelativeLayout. Make it simple, see if it fixes your issue<br></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:tools=\"http://schemas.android.com/tools\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\nandroid:orientation=\"vertical\"&gt;\n\n&lt;android.support.v7.widget.RecyclerView\nandroid:id=\"@+id/thread_list\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\" /&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3398878,"reputation":10368,"user_id":2851687,"accept_rate":82,"display_name":"ralphgabb"},"down_vote_count":0,"up_vote_count":50,"is_accepted":false,"score":50,"last_activity_date":1540428360,"creation_date":1514255766,"answer_id":47973416,"question_id":28992929,"body_markdown":"Been chasing answer for over an hour. \r\n\r\nDont forget to call this one liner before setting your adapter.\r\n\r\n    recyclerView.setLayoutManager(new LinearLayoutManager(this));\r\n\r\nIt seems that recycler view do not have default layout manager option built in so we have to programatically add it.\r\n\r\nCheers if you found it helpful.","title":"RecyclerView not calling onCreateViewHolder or onBindView","body":"<p>Been chasing answer for over an hour. </p>\n\n<p>Dont forget to call this one liner before setting your adapter.</p>\n\n<pre><code>recyclerView.setLayoutManager(new LinearLayoutManager(this));\n</code></pre>\n\n<p>It seems that recycler view do not have default layout manager option built in so we have to programatically add it.</p>\n\n<p>Cheers if you found it helpful.</p>\n"},{"tags":[],"owner":{"account_id":1866615,"reputation":4181,"user_id":1690017,"accept_rate":38,"display_name":"David"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1517579848,"creation_date":1517579848,"answer_id":48584214,"question_id":28992929,"body_markdown":"In my case it was using setHasStableIds(true); in the adapter while some list items were returning -1 in getItemID(), so I suppose the RecyclerView was thinking they are equal.","title":"RecyclerView not calling onCreateViewHolder or onBindView","body":"<p>In my case it was using setHasStableIds(true); in the adapter while some list items were returning -1 in getItemID(), so I suppose the RecyclerView was thinking they are equal.</p>\n"},{"tags":[],"owner":{"account_id":1424234,"reputation":5363,"user_id":1348187,"accept_rate":69,"display_name":"Rafael Ruiz Mu&#241;oz"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1518712196,"creation_date":1518712196,"answer_id":48811988,"question_id":28992929,"body_markdown":"This is really old already, but in my case, I was using a `ConstraintLayout` and the height was set wrong so my view would have `0dp` and then the adapter would be saving to do its job, as the view is 0dp.\r\n\r\nMake sure height and width is ok and `RecyclerView` is has a positive size.","title":"RecyclerView not calling onCreateViewHolder or onBindView","body":"<p>This is really old already, but in my case, I was using a <code>ConstraintLayout</code> and the height was set wrong so my view would have <code>0dp</code> and then the adapter would be saving to do its job, as the view is 0dp.</p>\n\n<p>Make sure height and width is ok and <code>RecyclerView</code> is has a positive size.</p>\n"},{"tags":[],"owner":{"account_id":7161069,"reputation":1330,"user_id":5471822,"accept_rate":75,"display_name":"Daniil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1522298241,"creation_date":1522298241,"answer_id":49548135,"question_id":28992929,"body_markdown":"In my case a had a `Fragment` with `RecyclerView` inside a `ViewPager`. The issue appeared because i used `Fragment.getFragmentManager()` instead of `Fragment.getChildFragmentManager` for my `FragmentStatePagerAdapter`&#39;s constructor.\r\n\r\n**P.S.** Using Layout Inspector might be a great help at debugging this sort of issue.\r\n","title":"RecyclerView not calling onCreateViewHolder or onBindView","body":"<p>In my case a had a <code>Fragment</code> with <code>RecyclerView</code> inside a <code>ViewPager</code>. The issue appeared because i used <code>Fragment.getFragmentManager()</code> instead of <code>Fragment.getChildFragmentManager</code> for my <code>FragmentStatePagerAdapter</code>'s constructor.</p>\n\n<p><strong>P.S.</strong> Using Layout Inspector might be a great help at debugging this sort of issue.</p>\n"},{"tags":[],"owner":{"account_id":331265,"reputation":945,"user_id":655839,"accept_rate":57,"display_name":"Meriam"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1525538941,"creation_date":1525538941,"answer_id":50191845,"question_id":28992929,"body_markdown":"If you put wrap_content as height of your list as well as the height of your item list, nothing will show up and none of your recyclerView functions will be called.","title":"RecyclerView not calling onCreateViewHolder or onBindView","body":"<p>If you put wrap_content as height of your list as well as the height of your item list, nothing will show up and none of your recyclerView functions will be called.</p>\n"},{"tags":[],"owner":{"account_id":5207015,"reputation":3191,"user_id":4164585,"accept_rate":63,"display_name":"Siamak Ferdos"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1533803854,"creation_date":1533803854,"answer_id":51762395,"question_id":28992929,"body_markdown":"In my case after changing Activity to ViewModel and using Binding, I had forgotten to remove `setContentView` from `onCreate` method. By removing it my problem solved.","title":"RecyclerView not calling onCreateViewHolder or onBindView","body":"<p>In my case after changing Activity to ViewModel and using Binding, I had forgotten to remove <code>setContentView</code> from <code>onCreate</code> method. By removing it my problem solved.</p>\n"},{"tags":[],"owner":{"account_id":10118864,"reputation":648,"user_id":7476567,"display_name":"Prashant Paliwal"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1551904796,"creation_date":1551904796,"answer_id":55031801,"question_id":28992929,"body_markdown":"When implementing FirebaseListAdapter , one need to take care of following points to set it up correctly.\r\n\r\n 1. Check if recyclerview in xml has all attributes correct. Don&#39;t use wrap content for \r\n    height &amp; width, for instance.\r\n 2. Please check if layoutManager is set &amp; setHasFixedSize() is taken care of.\r\n 3. Make POJO class variables so that they match firebase child attributes.\r\n 4. FirebaseRecyclerOptions is set up.\r\n 5. FirebaseRecyclerAdapter&#39;s onCreateViewHolder() &amp; onBindViewHolder are there.\r\n 6. Lifecycle events are taken care of.\r\n\r\n**Note-** **Using wrap_content as height of recyclerview is one of easiest mistake anyone can do. So do check that first.**","title":"RecyclerView not calling onCreateViewHolder or onBindView","body":"<p>When implementing FirebaseListAdapter , one need to take care of following points to set it up correctly.</p>\n\n<ol>\n<li>Check if recyclerview in xml has all attributes correct. Don't use wrap content for \nheight &amp; width, for instance.</li>\n<li>Please check if layoutManager is set &amp; setHasFixedSize() is taken care of.</li>\n<li>Make POJO class variables so that they match firebase child attributes.</li>\n<li>FirebaseRecyclerOptions is set up.</li>\n<li>FirebaseRecyclerAdapter's onCreateViewHolder() &amp; onBindViewHolder are there.</li>\n<li>Lifecycle events are taken care of.</li>\n</ol>\n\n<p><strong>Note-</strong> <strong>Using wrap_content as height of recyclerview is one of easiest mistake anyone can do. So do check that first.</strong></p>\n"},{"tags":[],"owner":{"account_id":6696597,"reputation":1524,"user_id":5164438,"display_name":"Seyyed"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1558202167,"creation_date":1558202167,"answer_id":56201512,"question_id":28992929,"body_markdown":"Be careful about the thread you are working with adapter.&lt;br&gt;\r\nIn my case the problem was calling `notifyDataSetChanged()` from an activity when my data came from a service. Actually the method was calling from background thread. But the app didn&#39;t crash and there was nothing in Logcat (!).&lt;br&gt;\r\nSo i was called `notifyDataSetChanged()` in UI thread and the problem solved.\r\n\r\n    runOnUiThread(new Runnable() {\r\n        @Override\r\n        public void run() {\r\n            adapter.notifyDataSetChanged();\r\n        }\r\n    });","title":"RecyclerView not calling onCreateViewHolder or onBindView","body":"<p>Be careful about the thread you are working with adapter.<br>\nIn my case the problem was calling <code>notifyDataSetChanged()</code> from an activity when my data came from a service. Actually the method was calling from background thread. But the app didn't crash and there was nothing in Logcat (!).<br>\nSo i was called <code>notifyDataSetChanged()</code> in UI thread and the problem solved.</p>\n\n<pre><code>runOnUiThread(new Runnable() {\n    @Override\n    public void run() {\n        adapter.notifyDataSetChanged();\n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13762768,"reputation":1,"user_id":9932087,"display_name":"Mil Farad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1568979893,"creation_date":1568979893,"answer_id":58027744,"question_id":28992929,"body_markdown":"if you are using constraint layout when you are set recyclerview height to match parent (0)\r\nthis problem occur","title":"RecyclerView not calling onCreateViewHolder or onBindView","body":"<p>if you are using constraint layout when you are set recyclerview height to match parent (0)\nthis problem occur</p>\n"},{"tags":[],"owner":{"account_id":19715284,"reputation":11,"user_id":14434857,"display_name":"Kondwani Hara"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1602496521,"creation_date":1602496521,"answer_id":64315548,"question_id":28992929,"body_markdown":"I have the following situation:\r\n```\r\n@Override\r\n    protected void onStart() {\r\n        super.onStart();\r\n        Log.d(&quot;OnStart&quot;,&quot;Calling OnStart.&quot;);\r\n        FirebaseRecyclerOptions&lt;Data&gt; options = new FirebaseRecyclerOptions.Builder&lt;Data&gt;().setQuery(mDatabase, new SnapshotParser&lt;Data&gt;() {\r\n            @NonNull\r\n            @Override\r\n            public Data parseSnapshot(@NonNull DataSnapshot snapshot) {\r\n                Log.d(&quot;parseSnapshot&quot;,snapshot.child(&quot;name&quot;).getValue().toString());\r\n                return new Data(snapshot.child(&quot;name&quot;).getValue().toString(),\r\n                        snapshot.child(&quot;description&quot;).getValue().toString(),\r\n                        snapshot.child(&quot;id&quot;).getValue().toString(),\r\n                        snapshot.child(&quot;date&quot;).getValue().toString());\r\n            }\r\n        }).build();\r\n        FirebaseRecyclerAdapter&lt;Data,MyViewHolder&gt; adapter = new FirebaseRecyclerAdapter&lt;Data, MyViewHolder&gt;(options) {\r\n            @Override\r\n            protected void onBindViewHolder(@NonNull MyViewHolder myViewHolder, int i, @NonNull Data data) {\r\n                Log.d(&quot;OnBindViewHolder&quot;,data.getName());\r\n                myViewHolder.setName(data.getName());\r\n                myViewHolder.setDescription(data.getDescription());\r\n                myViewHolder.setDate(data.getDate());\r\n            }\r\n\r\n            @NonNull\r\n            @Override\r\n            public MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n                Log.d(&quot;OnCreateViewHolder&quot;,&quot;Creating the viewHolder&quot;);\r\n                View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.itemlayout,parent,false);\r\n                return new MyViewHolder(view);\r\n            }\r\n        };\r\n        recyclerView.setAdapter(adapter);\r\n        Log.d(&quot;OnStart&quot;,&quot;Exiting OnStart.&quot;);\r\n    }\r\n```\r\nand OnCreateViewHolder and OnBindViewHolder are not being called.","title":"RecyclerView not calling onCreateViewHolder or onBindView","body":"<p>I have the following situation:</p>\n<pre><code>@Override\n    protected void onStart() {\n        super.onStart();\n        Log.d(&quot;OnStart&quot;,&quot;Calling OnStart.&quot;);\n        FirebaseRecyclerOptions&lt;Data&gt; options = new FirebaseRecyclerOptions.Builder&lt;Data&gt;().setQuery(mDatabase, new SnapshotParser&lt;Data&gt;() {\n            @NonNull\n            @Override\n            public Data parseSnapshot(@NonNull DataSnapshot snapshot) {\n                Log.d(&quot;parseSnapshot&quot;,snapshot.child(&quot;name&quot;).getValue().toString());\n                return new Data(snapshot.child(&quot;name&quot;).getValue().toString(),\n                        snapshot.child(&quot;description&quot;).getValue().toString(),\n                        snapshot.child(&quot;id&quot;).getValue().toString(),\n                        snapshot.child(&quot;date&quot;).getValue().toString());\n            }\n        }).build();\n        FirebaseRecyclerAdapter&lt;Data,MyViewHolder&gt; adapter = new FirebaseRecyclerAdapter&lt;Data, MyViewHolder&gt;(options) {\n            @Override\n            protected void onBindViewHolder(@NonNull MyViewHolder myViewHolder, int i, @NonNull Data data) {\n                Log.d(&quot;OnBindViewHolder&quot;,data.getName());\n                myViewHolder.setName(data.getName());\n                myViewHolder.setDescription(data.getDescription());\n                myViewHolder.setDate(data.getDate());\n            }\n\n            @NonNull\n            @Override\n            public MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n                Log.d(&quot;OnCreateViewHolder&quot;,&quot;Creating the viewHolder&quot;);\n                View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.itemlayout,parent,false);\n                return new MyViewHolder(view);\n            }\n        };\n        recyclerView.setAdapter(adapter);\n        Log.d(&quot;OnStart&quot;,&quot;Exiting OnStart.&quot;);\n    }\n</code></pre>\n<p>and OnCreateViewHolder and OnBindViewHolder are not being called.</p>\n"},{"tags":[],"owner":{"account_id":17743776,"reputation":389,"user_id":12883471,"display_name":"Sangeetha Sakthivel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1605894156,"creation_date":1605894156,"answer_id":64934289,"question_id":28992929,"body_markdown":"In my case I was setting recycler view adapter as \r\n`recyclerview.apply {\r\n        adapter = adapter\r\n}`\r\n\r\nboth referring to the getAdapter() so renamed my adapter variable name as folderAdapter","title":"RecyclerView not calling onCreateViewHolder or onBindView","body":"<p>In my case I was setting recycler view adapter as\n<code>recyclerview.apply { adapter = adapter }</code></p>\n<p>both referring to the getAdapter() so renamed my adapter variable name as folderAdapter</p>\n"},{"tags":[],"owner":{"account_id":2460069,"reputation":291,"user_id":2144423,"display_name":"Sergey Stasishin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1630260301,"creation_date":1630260301,"answer_id":68975656,"question_id":28992929,"body_markdown":"In my case I&#39;ve been using paging library and PagingDataAdapter. I set an adapter AFTER all it&#39;s data were already fetched from a PagingSoure and RecyclerView didn&#39;t show anything. I solved this by calling `adapter.refresh()` just after setting the adapter. Like this:\r\n\r\n    recyclerView.adapter = myAdapter\r\n    myAdapter.refresh()\r\n\r\n","title":"RecyclerView not calling onCreateViewHolder or onBindView","body":"<p>In my case I've been using paging library and PagingDataAdapter. I set an adapter AFTER all it's data were already fetched from a PagingSoure and RecyclerView didn't show anything. I solved this by calling <code>adapter.refresh()</code> just after setting the adapter. Like this:</p>\n<pre><code>recyclerView.adapter = myAdapter\nmyAdapter.refresh()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16555177,"reputation":163,"user_id":11962518,"display_name":"Ghazal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643181918,"creation_date":1643181918,"answer_id":70859813,"question_id":28992929,"body_markdown":"I had the same problem. In my case recyclerView got empty after several refresh. For example when I clicked on a item and got back from another activity. I had data but data did not set to recyclerView and there was no error.\r\n \r\nI created the recyclerView on **onCreate** method like this : \r\n```\r\n        StaggeredGridLayoutManager staggeredGridLayoutManager = new StaggeredGridLayoutManager(2, LinearLayoutManager.VERTICAL);\r\n        binding.recyclerCommodityList2.setLayoutManager(staggeredGridLayoutManager);\r\n        binding.recyclerCommodityList2.addItemDecoration(new GridSpacingItemDecoration(2, 0, true));\r\n        adapterCommodityList = new RecyclerAdapterMyCommoditiAndPost(cardList.getCard(), context);\r\n        binding.recyclerCommodityList2.setAdapter(adapterCommodityList);\r\n\r\n        binding.recyclerCommodityList2.addOnScrollListener(new RecyclerView.OnScrollListener() {\r\n            @Override\r\n            public void onScrolled(@NotNull RecyclerView recyclerView, int dx, int dy) {\r\n                visibleItemCount = staggeredGridLayoutManager.getChildCount();\r\n                totalItemCount = staggeredGridLayoutManager.getItemCount();\r\n\r\n                if (dy &gt; 0) { //check for scroll down\r\n\r\n                    pastVisibleItems = staggeredGridLayoutManager.findFirstVisibleItemPositions(null)[1];\r\n\r\n                    if ((visibleItemCount + pastVisibleItems) &gt;= totalItemCount / 2 ) {\r\n\r\n                        if (loading) {\r\n                            loading = false;\r\n                            callGetListOfCommodity(selectedCategory); // call api again\r\n                        }\r\n                    }\r\n\r\n                }\r\n            }\r\n        });\r\n```\r\nand I sat data on api onResponse method like this : \r\n```\r\nadapterCommodityList = new RecyclerAdapterMyCommoditiAndPost(result.getCard(), MyTamukActivity.this);\r\nbinding.recyclerCommodityList2.setAdapter(adapterCommodityList);\r\n```\r\n\r\nSo I sat a new layout manager on onResponse method. like this : \r\n```\r\nStaggeredGridLayoutManager staggeredGridLayoutManager = new StaggeredGridLayoutManager(2, LinearLayoutManager.VERTICAL);\r\nbinding.recyclerCommodityList2.setLayoutManager(staggeredGridLayoutManager);\r\n\r\nadapterCommodityList = new RecyclerAdapterMyCommoditiAndPost(result.getCard(), MyTamukActivity.this);\r\nbinding.recyclerCommodityList2.setAdapter(adapterCommodityList);\r\n```\r\n\r\nThis solution worked but still sometimes recyclerView got empty.\r\n\r\nSo this is my final solution : \r\n\r\nI removed recyclerView from onCreate then I created the recyclerView on **onResume** method instead of that. So layout manager always sat on recyclerView correctly. \r\n\r\nAny way if you have same problem check your layout manager and how you set that on recyclerView. \r\n\r\n\r\n\r\n\r\n\r\n","title":"RecyclerView not calling onCreateViewHolder or onBindView","body":"<p>I had the same problem. In my case recyclerView got empty after several refresh. For example when I clicked on a item and got back from another activity. I had data but data did not set to recyclerView and there was no error.</p>\n<p>I created the recyclerView on <strong>onCreate</strong> method like this :</p>\n<pre><code>        StaggeredGridLayoutManager staggeredGridLayoutManager = new StaggeredGridLayoutManager(2, LinearLayoutManager.VERTICAL);\n        binding.recyclerCommodityList2.setLayoutManager(staggeredGridLayoutManager);\n        binding.recyclerCommodityList2.addItemDecoration(new GridSpacingItemDecoration(2, 0, true));\n        adapterCommodityList = new RecyclerAdapterMyCommoditiAndPost(cardList.getCard(), context);\n        binding.recyclerCommodityList2.setAdapter(adapterCommodityList);\n\n        binding.recyclerCommodityList2.addOnScrollListener(new RecyclerView.OnScrollListener() {\n            @Override\n            public void onScrolled(@NotNull RecyclerView recyclerView, int dx, int dy) {\n                visibleItemCount = staggeredGridLayoutManager.getChildCount();\n                totalItemCount = staggeredGridLayoutManager.getItemCount();\n\n                if (dy &gt; 0) { //check for scroll down\n\n                    pastVisibleItems = staggeredGridLayoutManager.findFirstVisibleItemPositions(null)[1];\n\n                    if ((visibleItemCount + pastVisibleItems) &gt;= totalItemCount / 2 ) {\n\n                        if (loading) {\n                            loading = false;\n                            callGetListOfCommodity(selectedCategory); // call api again\n                        }\n                    }\n\n                }\n            }\n        });\n</code></pre>\n<p>and I sat data on api onResponse method like this :</p>\n<pre><code>adapterCommodityList = new RecyclerAdapterMyCommoditiAndPost(result.getCard(), MyTamukActivity.this);\nbinding.recyclerCommodityList2.setAdapter(adapterCommodityList);\n</code></pre>\n<p>So I sat a new layout manager on onResponse method. like this :</p>\n<pre><code>StaggeredGridLayoutManager staggeredGridLayoutManager = new StaggeredGridLayoutManager(2, LinearLayoutManager.VERTICAL);\nbinding.recyclerCommodityList2.setLayoutManager(staggeredGridLayoutManager);\n\nadapterCommodityList = new RecyclerAdapterMyCommoditiAndPost(result.getCard(), MyTamukActivity.this);\nbinding.recyclerCommodityList2.setAdapter(adapterCommodityList);\n</code></pre>\n<p>This solution worked but still sometimes recyclerView got empty.</p>\n<p>So this is my final solution :</p>\n<p>I removed recyclerView from onCreate then I created the recyclerView on <strong>onResume</strong> method instead of that. So layout manager always sat on recyclerView correctly.</p>\n<p>Any way if you have same problem check your layout manager and how you set that on recyclerView.</p>\n"},{"tags":[],"owner":{"account_id":17378356,"reputation":121,"user_id":12591119,"display_name":"VIVek"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644662206,"creation_date":1644662206,"answer_id":71091098,"question_id":28992929,"body_markdown":"Sometimes this bug occurs if you put viewpager inside a scrollview which will shrink the parent view along with the viewpager and its child fragments.\r\nTherefore with now view to be found for child fragments onCreateView and onBindView methods will not be called.\r\nSimply remove scrollview or add weights to your layout so that the views don&#39;t shrink. ","title":"RecyclerView not calling onCreateViewHolder or onBindView","body":"<p>Sometimes this bug occurs if you put viewpager inside a scrollview which will shrink the parent view along with the viewpager and its child fragments.\nTherefore with now view to be found for child fragments onCreateView and onBindView methods will not be called.\nSimply remove scrollview or add weights to your layout so that the views don't shrink.</p>\n"},{"tags":[],"owner":{"account_id":9721031,"reputation":293,"user_id":7209777,"display_name":"Hagar Magdy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671441526,"creation_date":1671441526,"answer_id":74848416,"question_id":28992929,"body_markdown":"If you put your recyclerview inside scrollview, replace scrollview with NestedScrollView and put this line inside recyclerview tag \r\n\r\n                android:overScrollMode=&quot;never&quot;\r\n","title":"RecyclerView not calling onCreateViewHolder or onBindView","body":"<p>If you put your recyclerview inside scrollview, replace scrollview with NestedScrollView and put this line inside recyclerview tag</p>\n<pre><code>            android:overScrollMode=&quot;never&quot;\n</code></pre>\n"}],"owner":{"account_id":4185081,"reputation":1017,"user_id":3429021,"accept_rate":0,"display_name":"Conti"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65787,"favorite_count":0,"down_vote_count":0,"up_vote_count":72,"answer_count":24,"score":72,"last_activity_date":1671441526,"creation_date":1426093581,"question_id":28992929,"body_markdown":"Not getting any errors and all the data seems valid. For some reason, nether of the view related methods are being called. I have made sure of the following:\r\n\r\n- getItemCount() is the only adapter method being called and is returning a positive integer value, (I know this will be the area you guys will look at)\r\n\r\n - Constructor is being called, member variables are valid.\r\n\r\n - Parent View is a vertical LinearLayout; no scrollview, or any other view with their own scroll properties in sight.\r\n\r\n - containing fragment view is created and shown on screen.\r\n\r\nHere is the declaration in the fragment followed by the adapter. Any help would be appreciated as this has be completely baffled.\r\n\r\n    SubMenuAdapter adapter = new SubMenuAdapter(getActivity(), mContentItems);\r\n        recyclerView.setLayoutManager(new LinearLayoutManager(getActivity()));\r\n        recyclerView.setItemAnimator(new DefaultItemAnimator());\r\n        recyclerView.setAdapter(adapter);\r\n\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    public class SubMenuAdapter extends RecyclerView.Adapter&lt;SubMenuAdapter.ViewHolder&gt; {\r\n    private static final String TAG = String.format(&quot;==&gt; %S&quot;, SubMenuAdapter.class.getSimpleName());\r\n\r\n    private final List&lt;ContentItem&gt; mContentItems;\r\n    private Context mContext;\r\n\r\n    public SubMenuAdapter(Context context, List&lt;ContentItem&gt; contenItems) {\r\n        Log.d(TAG, &quot;Constructor called&quot;);\r\n        mContentItems = contenItems;\r\n        mContext = context;\r\n    }\r\n\r\n    @Override\r\n    public ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\r\n        Log.d(TAG, &quot;onCreateViewHolder called&quot;);\r\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.row_resource_efficiency, parent, false);\r\n        return new ViewHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(ViewHolder holder, int position) {\r\n        Log.d(TAG, &quot;onBindViewHolder called&quot;);\r\n\r\n        ContentItem item = mContentItems.get(position);\r\n        holder.textName.setText(item.getName());\r\n        FontSetter.setMyriadProRegular(mContext, holder.textName);\r\n        Picasso.with(mContext).load(&quot;file://&quot; + item.getPreviewImageDefault()).into(holder.imageIcon);\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        Log.d(mContext, String.format(&quot;getItemCount: %d&quot;, mContentItems.size()));\r\n        return mContentItems.size();\r\n    }\r\n\r\n    // ViewHolder\r\n    public static class ViewHolder extends RecyclerView.ViewHolder {\r\n\r\n        TextView textName;\r\n        ImageView imageIcon;\r\n\r\n        public ViewHolder(View view) {\r\n            super(view);\r\n            textName = (TextView) view.findViewById(R.id.tv_resource_efficiency_option);\r\n            imageIcon = (ImageView) view.findViewById(R.id.iv_resource_efficiency_icon);\r\n        }\r\n    }","title":"RecyclerView not calling onCreateViewHolder or onBindView","body":"<p>Not getting any errors and all the data seems valid. For some reason, nether of the view related methods are being called. I have made sure of the following:</p>\n\n<ul>\n<li><p>getItemCount() is the only adapter method being called and is returning a positive integer value, (I know this will be the area you guys will look at)</p>\n\n<ul>\n<li><p>Constructor is being called, member variables are valid.</p></li>\n<li><p>Parent View is a vertical LinearLayout; no scrollview, or any other view with their own scroll properties in sight.</p></li>\n<li><p>containing fragment view is created and shown on screen.</p></li>\n</ul></li>\n</ul>\n\n<p>Here is the declaration in the fragment followed by the adapter. Any help would be appreciated as this has be completely baffled.</p>\n\n<pre><code>SubMenuAdapter adapter = new SubMenuAdapter(getActivity(), mContentItems);\n    recyclerView.setLayoutManager(new LinearLayoutManager(getActivity()));\n    recyclerView.setItemAnimator(new DefaultItemAnimator());\n    recyclerView.setAdapter(adapter);\n</code></pre>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class SubMenuAdapter extends RecyclerView.Adapter&lt;SubMenuAdapter.ViewHolder&gt; {\nprivate static final String TAG = String.format(\"==&gt; %S\", SubMenuAdapter.class.getSimpleName());\n\nprivate final List&lt;ContentItem&gt; mContentItems;\nprivate Context mContext;\n\npublic SubMenuAdapter(Context context, List&lt;ContentItem&gt; contenItems) {\n    Log.d(TAG, \"Constructor called\");\n    mContentItems = contenItems;\n    mContext = context;\n}\n\n@Override\npublic ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\n    Log.d(TAG, \"onCreateViewHolder called\");\n    View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.row_resource_efficiency, parent, false);\n    return new ViewHolder(view);\n}\n\n@Override\npublic void onBindViewHolder(ViewHolder holder, int position) {\n    Log.d(TAG, \"onBindViewHolder called\");\n\n    ContentItem item = mContentItems.get(position);\n    holder.textName.setText(item.getName());\n    FontSetter.setMyriadProRegular(mContext, holder.textName);\n    Picasso.with(mContext).load(\"file://\" + item.getPreviewImageDefault()).into(holder.imageIcon);\n}\n\n@Override\npublic int getItemCount() {\n    Log.d(mContext, String.format(\"getItemCount: %d\", mContentItems.size()));\n    return mContentItems.size();\n}\n\n// ViewHolder\npublic static class ViewHolder extends RecyclerView.ViewHolder {\n\n    TextView textName;\n    ImageView imageIcon;\n\n    public ViewHolder(View view) {\n        super(view);\n        textName = (TextView) view.findViewById(R.id.tv_resource_efficiency_option);\n        imageIcon = (ImageView) view.findViewById(R.id.iv_resource_efficiency_icon);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":3719429,"reputation":4902,"user_id":3094805,"accept_rate":11,"display_name":"PaulNUK"},"score":0,"creation_date":1646066638,"post_id":71298254,"comment_id":126027434,"body_markdown":"Please post the relevant part of the console log of the application on startup","body":"Please post the relevant part of the console log of the application on startup"},{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1646066969,"post_id":71298254,"comment_id":126027593,"body_markdown":"Does this answer your question? [Spring @Autowired @Lazy](https://stackoverflow.com/questions/9700338/spring-autowired-lazy)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/9700338/spring-autowired-lazy\">Spring @Autowired @Lazy</a>"}],"answers":[{"tags":[],"owner":{"account_id":10501614,"reputation":1404,"user_id":7740166,"display_name":"Viettel Solutions"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1664178562,"creation_date":1646097035,"answer_id":71302713,"question_id":71298254,"body_markdown":"The cause of this error is \r\nSpring Boot 2.4 disable spring.main.allow-bean-definition-overriding by default and Spring Boot 2.6.4 enable\r\n\r\nThere are 2 solutions to fix it\r\n\r\nSolution 1: You set allow-bean-definition-overriding is true in application.properties\r\n\r\n    spring.main.allow-bean-definition-overriding=true\r\n\r\n\r\nSolution 2: You should move Bean WebMvcConfigurer to another class\r\n\r\nExample:\r\n\r\n    @EnableWebMvc\r\n    @Configuration\r\n    public class WebConfig implements WebMvcConfigurer {\r\n        @Autowired\r\n        LogInterceptor logInterceptor;\r\n\r\n        @Override\r\n        public void addResourceHandlers(ResourceHandlerRegistry registry) {\r\n            registry.addResourceHandler(&quot;/swagger-ui/**&quot;).addResourceLocations(&quot;classpath:/META-INF/resources/swagger-ui.html&quot;);\r\n            registry.addResourceHandler(&quot;/webjars/**&quot;).addResourceLocations(&quot;classpath:/META-INF/resources/webjars/&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void addInterceptors(InterceptorRegistry registry) {\r\n            registry.addInterceptor(logInterceptor);\r\n        }\r\n    \r\n        @Override\r\n        public void addCorsMappings(CorsRegistry registry) {\r\n            registry.addMapping(&quot;/**&quot;).allowedOrigins(&quot;*&quot;).allowedMethods(&quot;*&quot;);\r\n        }\r\n    \r\n        @Bean\r\n        public InternalResourceViewResolver defaultViewResolver() {\r\n            return new InternalResourceViewResolver();\r\n        }\r\n    \r\n    }\r\n\r\n    @Component\r\n    public class LogInterceptor implements HandlerInterceptor {\r\n    \r\n        @Autowired\r\n        LoggingService loggingService;\r\n    \r\n        @Override\r\n        public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) {\r\n            if (DispatcherType.REQUEST.name().equals(request.getDispatcherType().name()) &amp;&amp; request.getMethod().equals(HttpMethod.GET.name())) {\r\n                loggingService.logRequest(request, null);\r\n            }\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public void postHandle(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse, Object o, ModelAndView modelAndView) throws Exception {\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void afterCompletion(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse, Object o, Exception e) throws Exception {\r\n    \r\n        }\r\n    }\r\n\r\n","title":"Circular reference in Spring Boot","body":"<p>The cause of this error is\nSpring Boot 2.4 disable spring.main.allow-bean-definition-overriding by default and Spring Boot 2.6.4 enable</p>\n<p>There are 2 solutions to fix it</p>\n<p>Solution 1: You set allow-bean-definition-overriding is true in application.properties</p>\n<pre><code>spring.main.allow-bean-definition-overriding=true\n</code></pre>\n<p>Solution 2: You should move Bean WebMvcConfigurer to another class</p>\n<p>Example:</p>\n<pre><code>@EnableWebMvc\n@Configuration\npublic class WebConfig implements WebMvcConfigurer {\n    @Autowired\n    LogInterceptor logInterceptor;\n\n    @Override\n    public void addResourceHandlers(ResourceHandlerRegistry registry) {\n        registry.addResourceHandler(&quot;/swagger-ui/**&quot;).addResourceLocations(&quot;classpath:/META-INF/resources/swagger-ui.html&quot;);\n        registry.addResourceHandler(&quot;/webjars/**&quot;).addResourceLocations(&quot;classpath:/META-INF/resources/webjars/&quot;);\n    }\n\n    @Override\n    public void addInterceptors(InterceptorRegistry registry) {\n        registry.addInterceptor(logInterceptor);\n    }\n\n    @Override\n    public void addCorsMappings(CorsRegistry registry) {\n        registry.addMapping(&quot;/**&quot;).allowedOrigins(&quot;*&quot;).allowedMethods(&quot;*&quot;);\n    }\n\n    @Bean\n    public InternalResourceViewResolver defaultViewResolver() {\n        return new InternalResourceViewResolver();\n    }\n\n}\n\n@Component\npublic class LogInterceptor implements HandlerInterceptor {\n\n    @Autowired\n    LoggingService loggingService;\n\n    @Override\n    public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) {\n        if (DispatcherType.REQUEST.name().equals(request.getDispatcherType().name()) &amp;&amp; request.getMethod().equals(HttpMethod.GET.name())) {\n            loggingService.logRequest(request, null);\n        }\n        return true;\n    }\n\n    @Override\n    public void postHandle(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse, Object o, ModelAndView modelAndView) throws Exception {\n\n    }\n\n    @Override\n    public void afterCompletion(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse, Object o, Exception e) throws Exception {\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1137921,"reputation":91,"user_id":1122584,"accept_rate":67,"display_name":"sjayendra"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4583,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":71302713,"answer_count":1,"score":3,"last_activity_date":1671441505,"creation_date":1646066400,"question_id":71298254,"body_markdown":"I am trying to update Spring Boot application from 2.4 to 2.6.4 but I am getting following error:\r\n\r\n\r\nThe dependencies of some of the beans in the application context form a cycle:\r\n```\r\n┌─────┐\r\n|  webSecurityConfig\r\n↑     ↓\r\n|  org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$EnableWebMvcConfiguration.\r\n└─────┘\r\n\r\n```\r\nFollowing is WebSecurityConfig code:\r\n\r\n\r\n    import javax.sql.DataSource;\r\n    import com.jay.liqui.jwt.JWTAuthorizationFilter;\r\n    import com.jay.liqui.jwt.JwtTokenProvider;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.context.annotation.Lazy;\r\n    import org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\n    import org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\n    import org.springframework.security.core.userdetails.UserDetailsService;\r\n    import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\n    import org.springframework.security.crypto.password.PasswordEncoder;\r\n    import org.springframework.security.web.util.matcher.AntPathRequestMatcher;\r\n    import org.springframework.web.servlet.config.annotation.CorsRegistry;\r\n    import org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\r\n    import org.springframework.core.annotation.Order;\r\n    \r\n    @Configuration\r\n    //@Order(1)\r\n    @EnableWebSecurity\r\n    public class WebSecurityConfig  extends WebSecurityConfigurerAdapter {\r\n    \r\n        @Autowired\r\n        private DataSource dataSource;\r\n    \r\n        @Autowired\r\n        private JwtTokenProvider jwtTokenProvider;\r\n    \r\n    \r\n        @Bean\r\n        public static PasswordEncoder passwordEncoder(){\r\n            return new  BCryptPasswordEncoder();\r\n        }\r\n    \r\n    \r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            //Cross-origin-resource-sharing: localhost:8080, localhost:4200(allow for it.)\r\n            http.cors().and()\r\n                    .authorizeRequests()\r\n                    //These are public paths\r\n                    .antMatchers(&quot;/resources/**&quot;,  &quot;/error&quot;, &quot;/api/user/**&quot;).permitAll()\r\n                    //These can be reachable for just have admin role.\r\n                    .antMatchers(&quot;/api/admin/**&quot;).hasRole(&quot;ADMIN&quot;)\r\n                    //All remaining paths should need authentication.\r\n                    .anyRequest().fullyAuthenticated()\r\n                    .and()\r\n                    //logout will log the user out by invalidated session.\r\n                    .logout().permitAll()\r\n                    .logoutRequestMatcher(new AntPathRequestMatcher(&quot;/api/user/logout&quot;, &quot;POST&quot;))\r\n                    .and()\r\n                    //login form and path\r\n                    .formLogin().loginPage(&quot;/api/user/login&quot;).and()\r\n                    //enable basic authentication\r\n                    .httpBasic().and()\r\n                    //We will handle it later.\r\n                    //Cross side request forgery\r\n                    .csrf().disable();\r\n    \r\n            //jwt filter\r\n            http.addFilter(new JWTAuthorizationFilter(authenticationManager(),jwtTokenProvider));\r\n        }\r\n    \r\n        @Autowired\r\n        public void configAuthentication(AuthenticationManagerBuilder authBuilder) throws Exception {\r\n            authBuilder.jdbcAuthentication()\r\n                    .dataSource(dataSource)\r\n                    .passwordEncoder(new BCryptPasswordEncoder())\r\n                    .usersByUsernameQuery(&quot;select username, password, enabled from usr01 where username=?&quot;)\r\n                    .authoritiesByUsernameQuery(&quot;select username, role from usr01 where username=?&quot;)\r\n            ;\r\n    \r\n    \r\n        }\r\n    \r\n        //Cross origin resource sharing.\r\n        @Bean\r\n        public WebMvcConfigurer corsConfigurer(){\r\n            return new WebMvcConfigurer() {\r\n                @Override\r\n                public void addCorsMappings(CorsRegistry registry) {\r\n                    registry.addMapping(&quot;/**&quot;).allowedOrigins(&quot;*&quot;).allowedMethods(&quot;*&quot;);\r\n                }\r\n            };\r\n        }\r\n    }\r\n\r\n\r\n","title":"Circular reference in Spring Boot","body":"<p>I am trying to update Spring Boot application from 2.4 to 2.6.4 but I am getting following error:</p>\n<p>The dependencies of some of the beans in the application context form a cycle:</p>\n<pre><code>┌─────┐\n|  webSecurityConfig\n↑     ↓\n|  org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$EnableWebMvcConfiguration.\n└─────┘\n\n</code></pre>\n<p>Following is WebSecurityConfig code:</p>\n<pre><code>import javax.sql.DataSource;\nimport com.jay.liqui.jwt.JWTAuthorizationFilter;\nimport com.jay.liqui.jwt.JwtTokenProvider;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.context.annotation.Lazy;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.security.web.util.matcher.AntPathRequestMatcher;\nimport org.springframework.web.servlet.config.annotation.CorsRegistry;\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\nimport org.springframework.core.annotation.Order;\n\n@Configuration\n//@Order(1)\n@EnableWebSecurity\npublic class WebSecurityConfig  extends WebSecurityConfigurerAdapter {\n\n    @Autowired\n    private DataSource dataSource;\n\n    @Autowired\n    private JwtTokenProvider jwtTokenProvider;\n\n\n    @Bean\n    public static PasswordEncoder passwordEncoder(){\n        return new  BCryptPasswordEncoder();\n    }\n\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        //Cross-origin-resource-sharing: localhost:8080, localhost:4200(allow for it.)\n        http.cors().and()\n                .authorizeRequests()\n                //These are public paths\n                .antMatchers(&quot;/resources/**&quot;,  &quot;/error&quot;, &quot;/api/user/**&quot;).permitAll()\n                //These can be reachable for just have admin role.\n                .antMatchers(&quot;/api/admin/**&quot;).hasRole(&quot;ADMIN&quot;)\n                //All remaining paths should need authentication.\n                .anyRequest().fullyAuthenticated()\n                .and()\n                //logout will log the user out by invalidated session.\n                .logout().permitAll()\n                .logoutRequestMatcher(new AntPathRequestMatcher(&quot;/api/user/logout&quot;, &quot;POST&quot;))\n                .and()\n                //login form and path\n                .formLogin().loginPage(&quot;/api/user/login&quot;).and()\n                //enable basic authentication\n                .httpBasic().and()\n                //We will handle it later.\n                //Cross side request forgery\n                .csrf().disable();\n\n        //jwt filter\n        http.addFilter(new JWTAuthorizationFilter(authenticationManager(),jwtTokenProvider));\n    }\n\n    @Autowired\n    public void configAuthentication(AuthenticationManagerBuilder authBuilder) throws Exception {\n        authBuilder.jdbcAuthentication()\n                .dataSource(dataSource)\n                .passwordEncoder(new BCryptPasswordEncoder())\n                .usersByUsernameQuery(&quot;select username, password, enabled from usr01 where username=?&quot;)\n                .authoritiesByUsernameQuery(&quot;select username, role from usr01 where username=?&quot;)\n        ;\n\n\n    }\n\n    //Cross origin resource sharing.\n    @Bean\n    public WebMvcConfigurer corsConfigurer(){\n        return new WebMvcConfigurer() {\n            @Override\n            public void addCorsMappings(CorsRegistry registry) {\n                registry.addMapping(&quot;/**&quot;).allowedOrigins(&quot;*&quot;).allowedMethods(&quot;*&quot;);\n            }\n        };\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1671441454,"creation_date":1671441454,"answer_id":74848401,"question_id":74847994,"body_markdown":"The following should be enough for you\r\n\r\n    @Getter\r\n    @Setter\r\n    @Component\r\n    @ConfigurationProperties  // &lt;--------\r\n    public class Apps {\r\n    \r\n      private Map&lt;String, AppConfig&gt; apps;  // &lt;-------\r\n    \r\n      @Getter\r\n      @Setter\r\n      static class AppConfig {\r\n        private String name;\r\n        private String type;\r\n      }\r\n    }\r\n\r\nto map the example yaml of \r\n\r\n    apps:\r\n      google:\r\n        name: Google\r\n        type: Search Engine\r\n      bing:\r\n        name: Bing\r\n        type: Search Engine\r\n\r\nBy modyfying `@ConfigurationProperties(&quot;apps&quot;)` into `@ConfigurationProperties` you instruct that you want the parsing to start from top level of yaml which is `apps`. Your version with `@ConfigurationProperties(&quot;apps&quot;)` asks spring to start the mapping from first level children element after `apps`.\r\n\r\nBy naming the java class field to `apps` on the line `private Map&lt;String, AppConfig&gt; apps;` you instruct spring that it expects to find a yaml element named `apps` from where it starts reading, which according to the previous explanation will be the root of the yaml.","title":"How to bind Map&lt;String,Object&gt; to @ConfigurationProperties at top level?","body":"<p>The following should be enough for you</p>\n<pre><code>@Getter\n@Setter\n@Component\n@ConfigurationProperties  // &lt;--------\npublic class Apps {\n\n  private Map&lt;String, AppConfig&gt; apps;  // &lt;-------\n\n  @Getter\n  @Setter\n  static class AppConfig {\n    private String name;\n    private String type;\n  }\n}\n</code></pre>\n<p>to map the example yaml of</p>\n<pre><code>apps:\n  google:\n    name: Google\n    type: Search Engine\n  bing:\n    name: Bing\n    type: Search Engine\n</code></pre>\n<p>By modyfying <code>@ConfigurationProperties(&quot;apps&quot;)</code> into <code>@ConfigurationProperties</code> you instruct that you want the parsing to start from top level of yaml which is <code>apps</code>. Your version with <code>@ConfigurationProperties(&quot;apps&quot;)</code> asks spring to start the mapping from first level children element after <code>apps</code>.</p>\n<p>By naming the java class field to <code>apps</code> on the line <code>private Map&lt;String, AppConfig&gt; apps;</code> you instruct spring that it expects to find a yaml element named <code>apps</code> from where it starts reading, which according to the previous explanation will be the root of the yaml.</p>\n"}],"owner":{"account_id":5297359,"reputation":473,"user_id":4784969,"accept_rate":17,"display_name":"Politechniczny"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":801,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74848401,"answer_count":1,"score":1,"last_activity_date":1671441454,"creation_date":1671439279,"question_id":74847994,"body_markdown":"Example YAML\r\n```yaml\r\napps:\r\n  google:\r\n    name: Google\r\n    type: Search Engine\r\n  bing:\r\n    name: Bing\r\n    type: Search Engine\r\n```\r\n\r\nExample Spring bean\r\n\r\n```java\r\n@Getter\r\n@Setter\r\n@Component\r\n@ConfigurationProperties(&quot;apps&quot;)\r\npublic class Apps extends HashMap&lt;String, AppConfig&gt; {\r\n\r\n  @Getter\r\n  @Setter\r\n  static class AppConfig {\r\n    private String name;\r\n    private String type;\r\n  }\r\n}\r\n```\r\n\r\nThat doesn&#39;t seem to work. Any way to bind map from YAML at top level?\r\n\r\nThe following will work but this requires an extra property at lower level in YAML file.\r\n\r\n```yaml\r\napps:\r\n  config:\r\n    google:\r\n      name: Google\r\n      type: Search Engine\r\n    bing:\r\n      name: Bing\r\n      type: Search Engine\r\n```\r\n\r\n```java\r\n@Getter\r\n@Setter\r\n@Component\r\n@ConfigurationProperties(&quot;apps&quot;)\r\npublic class Apps {\r\n\r\n  private Map&lt;String, AppConfig&gt; config;\r\n\r\n  @Getter\r\n  @Setter\r\n  static class AppConfig {\r\n    private String name;\r\n    private String type;\r\n  }\r\n}\r\n```","title":"How to bind Map&lt;String,Object&gt; to @ConfigurationProperties at top level?","body":"<p>Example YAML</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>apps:\n  google:\n    name: Google\n    type: Search Engine\n  bing:\n    name: Bing\n    type: Search Engine\n</code></pre>\n<p>Example Spring bean</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\n@Setter\n@Component\n@ConfigurationProperties(&quot;apps&quot;)\npublic class Apps extends HashMap&lt;String, AppConfig&gt; {\n\n  @Getter\n  @Setter\n  static class AppConfig {\n    private String name;\n    private String type;\n  }\n}\n</code></pre>\n<p>That doesn't seem to work. Any way to bind map from YAML at top level?</p>\n<p>The following will work but this requires an extra property at lower level in YAML file.</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>apps:\n  config:\n    google:\n      name: Google\n      type: Search Engine\n    bing:\n      name: Bing\n      type: Search Engine\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\n@Setter\n@Component\n@ConfigurationProperties(&quot;apps&quot;)\npublic class Apps {\n\n  private Map&lt;String, AppConfig&gt; config;\n\n  @Getter\n  @Setter\n  static class AppConfig {\n    private String name;\n    private String type;\n  }\n}\n</code></pre>\n"},{"tags":["java","multithreading","timeout","callable","countdownlatch"],"answers":[{"tags":[],"owner":{"account_id":4402650,"reputation":95,"user_id":3587845,"display_name":"Dungeon Master"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671441427,"creation_date":1671441427,"answer_id":74848397,"question_id":74789430,"body_markdown":"What i did is manitained one synchronized collection, which will let us know status of execution of each processor, and based on that we can wait or go ahead","title":"How to wait until for few callable tasks complete and then execute","body":"<p>What i did is manitained one synchronized collection, which will let us know status of execution of each processor, and based on that we can wait or go ahead</p>\n"}],"owner":{"account_id":4402650,"reputation":95,"user_id":3587845,"display_name":"Dungeon Master"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74848397,"answer_count":1,"score":0,"last_activity_date":1671441427,"creation_date":1670956209,"question_id":74789430,"body_markdown":"I want to execute some processors in two threads.. few of them are independent and could run anytime but few of them have dependency.. whenver order of execution reaches to that processor i want to check whether all previous callable tasks are executed or not? and future should be executed once this current execute.\r\n\r\nfollowing is the main thread method\r\n\r\n    PackageExportGraph executeMultiThread(PackageExportGraph exportGraphInp, PackageExportContext exportContextnInp)\r\n                throws WTException {\r\n            Map&lt;PackageExportDependencyProcessor, Boolean&gt; processorToParallelExecutionMap = new LinkedHashMap&lt;&gt;();\r\n            this.processorQueue = new LinkedBlockingQueue&lt;&gt;();\r\n    \r\n            ExecutorService execService = null;\r\n            try {\r\n               \r\n                int threads = 2;// 2\r\n    \r\n                countDownLatch = new CountDownLatch(threads);\r\n                execService = ExecutorServiceFactory.getDefault().newExecutorService(threads, true);\r\n                boolean isThread1Started = false;\r\n                ThreadedDepProcessor thread1 = new ThreadedDepProcessor(\r\n                        exportGraphInp, countDownLatch,\r\n                        processorToParallelExecutionMap, processorQueue, exportContextnInp, isThread1Started);\r\n                threadList.add(thread1);\r\n                thread1.addListener(this);\r\n                boolean isThread2Started = false;\r\n    \r\n                ThreadedDepProcessor thread2 = new ThreadedDepProcessor(\r\n                        exportGraphInp, countDownLatch,\r\n                        processorToParallelExecutionMap, processorQueue, exportContextnInp, isThread2Started);\r\n                threadList.add(thread2);\r\n                thread1.addListener(this);\r\n                List&lt;Future&lt;LinkedBlockingQueue&gt;&gt; futureList = new ArrayList&lt;&gt;();\r\n    \r\n                for (ThreadedDepProcessor thread : threadList) {\r\n                    Future f = execService.submit(thread);\r\n                    System.out.println(&quot;f &quot; + f);\r\n                    futureList.add(f);\r\n                }\r\n    \r\n                int currentidx = 0;\r\n                for (PackageExportDependencyProcessor processor : origOrderedList) {\r\n                    if (!processorToParallelExecutionMap.containsKey(processor)) {\r\n    \r\n                        System.out.println(&quot; parallel threadStatusMap values 1 - &quot; + threadStatusMap.values());\r\n                        System.out.println(&quot;Adding parallel - &quot; + processor);\r\n                        if (currentidx &gt; 0) {\r\n                            while (threadStatusMap.containsValue(false)) {\r\n    \r\n                                System.out.println(&quot;Waiting&quot;);\r\n                                System.out.println(&quot;threadStatusMap values - &quot; + threadStatusMap.values());\r\n                                Thread.sleep(1000);\r\n                            }\r\n                            Thread.sleep(2000);\r\n    \r\n                            // execService.awaitTermination(5, TimeUnit.SECONDS);\r\n                            System.out.println(&quot;Size - &quot; + futureList.size());\r\n                            for (Future f : futureList) {\r\n    \r\n                                System.out.println(&quot;futureList is done &quot; + f.isDone());\r\n                                System.out.println(&quot;Getting future Object&quot;);\r\n                                if (f.isDone()) {\r\n                                    continue;\r\n                                }\r\n    \r\n                                Object o = f.get(10, TimeUnit.SECONDS);\r\n                                System.out.println(o);\r\n                               \r\n                                /*\r\n                                 * Object object = f.get(10, TimeUnit.SECONDS); System.out.println(&quot;Obj &quot; + object);\r\n                                 */\r\n                            }\r\n                            processorQueue.put(processor);\r\n                            Thread.sleep(2000);\r\n                        }\r\n                        else {\r\n                            processorQueue.put(processor);\r\n                            Thread.sleep(2000);\r\n                            System.out.println(&quot;Size - &quot; + futureList.size());\r\n                            for (Future f : futureList) {\r\n                                System.out.println(&quot;futureList is done &quot; + f.isDone());\r\n                                System.out.println(&quot;Getting future Object&quot;);\r\n                                if (f.isDone()) {\r\n                                    continue;\r\n                                }\r\n                                Object o = f.get(10, TimeUnit.SECONDS);\r\n                                System.out.println(o);\r\n    \r\n                                /*\r\n                                 * Object object = f.get(10, TimeUnit.SECONDS); System.out.println(&quot;Obj &quot; + object);\r\n                                 */\r\n                            }\r\n                            // execService.awaitTermination(5, TimeUnit.SECONDS);\r\n                            while (threadStatusMap.containsValue(false)) {\r\n                                System.out.println(&quot;Waiting&quot;);\r\n                                System.out.println(&quot;threadStatusMap values - &quot; + threadStatusMap.values());\r\n                                Thread.sleep(1000);\r\n                            }\r\n                        }\r\n    \r\n                        for (ThreadedDepProcessor thread : threadList) {\r\n                            System.out.println(&quot;Finished adding dependents&quot; + thread.finishedAddingDependents.get());\r\n                        }\r\n                    }\r\n                    else {\r\n                        System.out.println(&quot;Adding non-parallel - &quot; + processor);\r\n                        processorQueue.put(processor);\r\n                    }\r\n                    currentidx++;\r\n                }\r\n            } catch (WTException | RuntimeException exc) {\r\n                if (Objects.nonNull(execService)) {\r\n                    execService.shutdown();\r\n                }\r\n                throw exc;\r\n            } catch (Exception exc) {\r\n                throw new WTException(exc);\r\n            } finally {\r\n                System.out.println(&quot;shutting down&quot;);\r\n                try {\r\n                    countDownLatch.await();\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                }\r\n                execService.shutdown();\r\n            }\r\n            return exportGraphInp;\r\n    \r\n        }\r\n\r\n\r\nand this is callable \r\n\r\n\r\n     @Override\r\n            public LinkedBlockingQueue call() throws WTException, InterruptedException {\r\n                try {\r\n                    System.out.println(&quot;Started - &quot;);\r\n                    isThreadStarted = true;\r\n                    while (!processorQueue.isEmpty()) {\r\n                        nextEligible = processorQueue.take();\r\n                        if (Objects.isNull(nextEligible)) {\r\n                            finishedAddingDependents.set(true);\r\n                            break;\r\n                        }\r\n                        System.out.println(&quot;calling addDependentObjects for processor - &quot; + nextEligible);\r\n                        nextEligible.addDependentObjects(exportGraph, exportContext);\r\n                        nextEligible = null;\r\n                        // notifyListeners();\r\n                    }\r\n    \r\n                } catch (Exception e) {\r\n                    System.out.println(&quot;Error occured &quot; + e);\r\n                    e.printStackTrace();\r\n                    return processorQueue;\r\n                } finally {\r\n                    countDownLatch.countDown();\r\n                    System.out.println(&quot;countDownLatch now - &quot; + countDownLatch.getCount());\r\n    \r\n                }\r\n                return processorQueue;\r\n            }\r\n        }\r\n\r\n\r\nI was trying to check while(future.isDone()) but its going indefinite loop.\r\ni want to check whether thread/callable execution is started or not.\r\n\r\nIf started then while executing serial processor i want to wait till all existing is executed and then start execution and wait till its execution do not pick next one","title":"How to wait until for few callable tasks complete and then execute","body":"<p>I want to execute some processors in two threads.. few of them are independent and could run anytime but few of them have dependency.. whenver order of execution reaches to that processor i want to check whether all previous callable tasks are executed or not? and future should be executed once this current execute.</p>\n<p>following is the main thread method</p>\n<pre><code>PackageExportGraph executeMultiThread(PackageExportGraph exportGraphInp, PackageExportContext exportContextnInp)\n            throws WTException {\n        Map&lt;PackageExportDependencyProcessor, Boolean&gt; processorToParallelExecutionMap = new LinkedHashMap&lt;&gt;();\n        this.processorQueue = new LinkedBlockingQueue&lt;&gt;();\n\n        ExecutorService execService = null;\n        try {\n           \n            int threads = 2;// 2\n\n            countDownLatch = new CountDownLatch(threads);\n            execService = ExecutorServiceFactory.getDefault().newExecutorService(threads, true);\n            boolean isThread1Started = false;\n            ThreadedDepProcessor thread1 = new ThreadedDepProcessor(\n                    exportGraphInp, countDownLatch,\n                    processorToParallelExecutionMap, processorQueue, exportContextnInp, isThread1Started);\n            threadList.add(thread1);\n            thread1.addListener(this);\n            boolean isThread2Started = false;\n\n            ThreadedDepProcessor thread2 = new ThreadedDepProcessor(\n                    exportGraphInp, countDownLatch,\n                    processorToParallelExecutionMap, processorQueue, exportContextnInp, isThread2Started);\n            threadList.add(thread2);\n            thread1.addListener(this);\n            List&lt;Future&lt;LinkedBlockingQueue&gt;&gt; futureList = new ArrayList&lt;&gt;();\n\n            for (ThreadedDepProcessor thread : threadList) {\n                Future f = execService.submit(thread);\n                System.out.println(&quot;f &quot; + f);\n                futureList.add(f);\n            }\n\n            int currentidx = 0;\n            for (PackageExportDependencyProcessor processor : origOrderedList) {\n                if (!processorToParallelExecutionMap.containsKey(processor)) {\n\n                    System.out.println(&quot; parallel threadStatusMap values 1 - &quot; + threadStatusMap.values());\n                    System.out.println(&quot;Adding parallel - &quot; + processor);\n                    if (currentidx &gt; 0) {\n                        while (threadStatusMap.containsValue(false)) {\n\n                            System.out.println(&quot;Waiting&quot;);\n                            System.out.println(&quot;threadStatusMap values - &quot; + threadStatusMap.values());\n                            Thread.sleep(1000);\n                        }\n                        Thread.sleep(2000);\n\n                        // execService.awaitTermination(5, TimeUnit.SECONDS);\n                        System.out.println(&quot;Size - &quot; + futureList.size());\n                        for (Future f : futureList) {\n\n                            System.out.println(&quot;futureList is done &quot; + f.isDone());\n                            System.out.println(&quot;Getting future Object&quot;);\n                            if (f.isDone()) {\n                                continue;\n                            }\n\n                            Object o = f.get(10, TimeUnit.SECONDS);\n                            System.out.println(o);\n                           \n                            /*\n                             * Object object = f.get(10, TimeUnit.SECONDS); System.out.println(&quot;Obj &quot; + object);\n                             */\n                        }\n                        processorQueue.put(processor);\n                        Thread.sleep(2000);\n                    }\n                    else {\n                        processorQueue.put(processor);\n                        Thread.sleep(2000);\n                        System.out.println(&quot;Size - &quot; + futureList.size());\n                        for (Future f : futureList) {\n                            System.out.println(&quot;futureList is done &quot; + f.isDone());\n                            System.out.println(&quot;Getting future Object&quot;);\n                            if (f.isDone()) {\n                                continue;\n                            }\n                            Object o = f.get(10, TimeUnit.SECONDS);\n                            System.out.println(o);\n\n                            /*\n                             * Object object = f.get(10, TimeUnit.SECONDS); System.out.println(&quot;Obj &quot; + object);\n                             */\n                        }\n                        // execService.awaitTermination(5, TimeUnit.SECONDS);\n                        while (threadStatusMap.containsValue(false)) {\n                            System.out.println(&quot;Waiting&quot;);\n                            System.out.println(&quot;threadStatusMap values - &quot; + threadStatusMap.values());\n                            Thread.sleep(1000);\n                        }\n                    }\n\n                    for (ThreadedDepProcessor thread : threadList) {\n                        System.out.println(&quot;Finished adding dependents&quot; + thread.finishedAddingDependents.get());\n                    }\n                }\n                else {\n                    System.out.println(&quot;Adding non-parallel - &quot; + processor);\n                    processorQueue.put(processor);\n                }\n                currentidx++;\n            }\n        } catch (WTException | RuntimeException exc) {\n            if (Objects.nonNull(execService)) {\n                execService.shutdown();\n            }\n            throw exc;\n        } catch (Exception exc) {\n            throw new WTException(exc);\n        } finally {\n            System.out.println(&quot;shutting down&quot;);\n            try {\n                countDownLatch.await();\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n            execService.shutdown();\n        }\n        return exportGraphInp;\n\n    }\n</code></pre>\n<p>and this is callable</p>\n<pre><code> @Override\n        public LinkedBlockingQueue call() throws WTException, InterruptedException {\n            try {\n                System.out.println(&quot;Started - &quot;);\n                isThreadStarted = true;\n                while (!processorQueue.isEmpty()) {\n                    nextEligible = processorQueue.take();\n                    if (Objects.isNull(nextEligible)) {\n                        finishedAddingDependents.set(true);\n                        break;\n                    }\n                    System.out.println(&quot;calling addDependentObjects for processor - &quot; + nextEligible);\n                    nextEligible.addDependentObjects(exportGraph, exportContext);\n                    nextEligible = null;\n                    // notifyListeners();\n                }\n\n            } catch (Exception e) {\n                System.out.println(&quot;Error occured &quot; + e);\n                e.printStackTrace();\n                return processorQueue;\n            } finally {\n                countDownLatch.countDown();\n                System.out.println(&quot;countDownLatch now - &quot; + countDownLatch.getCount());\n\n            }\n            return processorQueue;\n        }\n    }\n</code></pre>\n<p>I was trying to check while(future.isDone()) but its going indefinite loop.\ni want to check whether thread/callable execution is started or not.</p>\n<p>If started then while executing serial processor i want to wait till all existing is executed and then start execution and wait till its execution do not pick next one</p>\n"},{"tags":["java","spring","aspectj","aspectj-maven-plugin"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1671269616,"post_id":74832530,"comment_id":132066519,"body_markdown":"It would be better to share a full sample project, not just snippets from the aspect and the POM. I want to verify that the code you want to intercept is getting called in the first place. Anyway, what I see at first glance is that you posted pseudo code. Like this, the aspect would not compile, because there is a statement after `return`. Please learn [how to ask a question on SO](https://stackoverflow.com/help/how-to-ask) and provide a [minimal, complete, and verifiable example](https://stackoverflow.com/help/mcve). Thank you.","body":"It would be better to share a full sample project, not just snippets from the aspect and the POM. I want to verify that the code you want to intercept is getting called in the first place. Anyway, what I see at first glance is that you posted pseudo code. Like this, the aspect would not compile, because there is a statement after <code>return</code>. Please learn <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask a question on SO</a> and provide a <a href=\"https://stackoverflow.com/help/mcve\">minimal, complete, and verifiable example</a>. Thank you."},{"owner":{"account_id":6389739,"reputation":2892,"user_id":4956336,"display_name":"p3consulting"},"score":0,"creation_date":1671301726,"post_id":74832530,"comment_id":132071914,"body_markdown":"&quot;call&quot; is not supported by Spring AOP anyway., you have to write a &quot;real&quot; Aspect (a &quot;public aspect ...&quot; in a &quot;src/main/aspect/package/.aj&quot; file because &quot;execution&quot; will not work for a method in class that is not a Spring bean (see https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#aop)","body":"&quot;call&quot; is not supported by Spring AOP anyway., you have to write a &quot;real&quot; Aspect (a &quot;public aspect ...&quot; in a &quot;src/main/aspect/package/.aj&quot; file because &quot;execution&quot; will not work for a method in class that is not a Spring bean (see <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#aop\" rel=\"nofollow noreferrer\">docs.spring.io/spring-framework/docs/current/reference/html/&zwnj;&#8203;&hellip;</a>)"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1671307106,"post_id":74832530,"comment_id":132073037,"body_markdown":"Please refrain from making confusing statements, if you don&#39;t know exactly what you are talking about. Nobody here is talking about Spring AOP, this question is about AspectJ.","body":"Please refrain from making confusing statements, if you don&#39;t know exactly what you are talking about. Nobody here is talking about Spring AOP, this question is about AspectJ."},{"owner":{"account_id":14659007,"reputation":121,"user_id":10586805,"display_name":"Akshay Som"},"score":0,"creation_date":1671425323,"post_id":74832530,"comment_id":132089115,"body_markdown":"Sorry it was a  mistake when posting, have edited it out, I wont be able to post the original code since its belongs to a work organisation, I have uploaded similar minimal example here https://github.com/akshaysom/spring-aspectj, Hope this helps - @kriegaex","body":"Sorry it was a  mistake when posting, have edited it out, I wont be able to post the original code since its belongs to a work organisation, I have uploaded similar minimal example here <a href=\"https://github.com/akshaysom/spring-aspectj\" rel=\"nofollow noreferrer\">github.com/akshaysom/spring-aspectj</a>, Hope this helps - @kriegaex"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1671440691,"post_id":74832530,"comment_id":132091844,"body_markdown":"Yes, it helps, because a reproducible example always does. See my upcoming answer. Besides, I never asked for your original code. Did you read the [MCVE](https://stackoverflow.com/help/mcve) link I posted before?","body":"Yes, it helps, because a reproducible example always does. See my upcoming answer. Besides, I never asked for your original code. Did you read the <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a> link I posted before?"},{"owner":{"account_id":14659007,"reputation":121,"user_id":10586805,"display_name":"Akshay Som"},"score":0,"creation_date":1671441064,"post_id":74832530,"comment_id":132091944,"body_markdown":"@kriegaex My issue was solved, Have added as answer ,Thanks for your support and time","body":"@kriegaex My issue was solved, Have added as answer ,Thanks for your support and time"}],"answers":[{"tags":[],"owner":{"account_id":6389739,"reputation":2892,"user_id":4956336,"display_name":"p3consulting"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671363150,"creation_date":1671363150,"answer_id":74840949,"question_id":74832530,"body_markdown":"This version works:\r\n\r\n    @Aspect\r\n    public class ProfileCallAspect {\r\n    \tprivate static final Logger LOGGER = LogManager.getLogger(ProfileCallAspect.class);\r\n    \t\r\n    \t@Pointcut(&quot;call(* org.springframework.jdbc.core.JdbcTemplate.query*(..)) || call(* org.springframework.jdbc.core.JdbcTemplate.update*(..))&quot;)\r\n    \tpublic void profileQuery() {\r\n    \t}\r\n    \r\n    \t@Around(&quot;profileQuery()&quot;)\r\n    \tpublic Object profile(ProceedingJoinPoint thisJoinPoint) throws Throwable {\r\n    \t\tLOGGER.info(&quot;ProfileCallAspect() Before&quot;);\r\n    \t\tObject res =  thisJoinPoint.proceed();\r\n    \t\tLOGGER.info(&quot;ProfileCallAspect() After&quot;);\r\n    \t\treturn res ;\r\n    \t}\r\n    \r\n    }\r\n\r\nIn a Spring project, you can&#39;t make it a @Component because of the &quot;call&quot; in the pointcut, but @Configurable works (enabling by @EnableSpringConfigured and with spring-aspects in the dependencies). As Aspect, it works without, but if you want to do something more useful than just logging you may need to inject dependencies in it.\r\nOf course, any exception during the proceed() and the &quot;after&quot; will not be logged, if you want that you should replace the @Around by entries: @Before @After, @AfterReturning, @AfterThrowing according to your needs.\r\nYou also need the build with aspectj-maven-plugin and spring-aspects as aspectLibrary in your pom.xml. (or the equiv. for gradle)\r\n","title":"AspectJ not working with compile time weaving","body":"<p>This version works:</p>\n<pre><code>@Aspect\npublic class ProfileCallAspect {\n    private static final Logger LOGGER = LogManager.getLogger(ProfileCallAspect.class);\n    \n    @Pointcut(&quot;call(* org.springframework.jdbc.core.JdbcTemplate.query*(..)) || call(* org.springframework.jdbc.core.JdbcTemplate.update*(..))&quot;)\n    public void profileQuery() {\n    }\n\n    @Around(&quot;profileQuery()&quot;)\n    public Object profile(ProceedingJoinPoint thisJoinPoint) throws Throwable {\n        LOGGER.info(&quot;ProfileCallAspect() Before&quot;);\n        Object res =  thisJoinPoint.proceed();\n        LOGGER.info(&quot;ProfileCallAspect() After&quot;);\n        return res ;\n    }\n\n}\n</code></pre>\n<p>In a Spring project, you can't make it a @Component because of the &quot;call&quot; in the pointcut, but @Configurable works (enabling by @EnableSpringConfigured and with spring-aspects in the dependencies). As Aspect, it works without, but if you want to do something more useful than just logging you may need to inject dependencies in it.\nOf course, any exception during the proceed() and the &quot;after&quot; will not be logged, if you want that you should replace the @Around by entries: @Before @After, @AfterReturning, @AfterThrowing according to your needs.\nYou also need the build with aspectj-maven-plugin and spring-aspects as aspectLibrary in your pom.xml. (or the equiv. for gradle)</p>\n"},{"tags":[],"owner":{"account_id":14659007,"reputation":121,"user_id":10586805,"display_name":"Akshay Som"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671440904,"creation_date":1671440904,"answer_id":74848301,"question_id":74832530,"body_markdown":"I got this working after removing &lt;pluginManagement&gt; in pom.xml.\r\n\r\ninstead of \r\n\r\n    &lt;pluginManagement&gt; \r\n      &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n        &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n    &lt;/pluginManagement&gt; \r\n\r\nI changed to  \r\n\r\n     &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n        &lt;/plugin&gt;\r\n     &lt;/plugins&gt;\r\n\r\nIn fact, the initial approach was a mistake I made in pom.xml\r\n\r\nOne point if any one else having weaving issues even after proper configuration :\r\n***Compile the project outside the IDE you are using, If you build the project from IDE there will be overrides for AJC (AspectJ compiler) and the weaving might not happen***\r\n","title":"AspectJ not working with compile time weaving","body":"<p>I got this working after removing  in pom.xml.</p>\n<p>instead of</p>\n<pre><code>&lt;pluginManagement&gt; \n  &lt;plugins&gt;\n    &lt;plugin&gt;\n    &lt;/plugin&gt;\n  &lt;/plugins&gt;\n&lt;/pluginManagement&gt; \n</code></pre>\n<p>I changed to</p>\n<pre><code> &lt;plugins&gt;\n    &lt;plugin&gt;\n    &lt;/plugin&gt;\n &lt;/plugins&gt;\n</code></pre>\n<p>In fact, the initial approach was a mistake I made in pom.xml</p>\n<p>One point if any one else having weaving issues even after proper configuration :\n<em><strong>Compile the project outside the IDE you are using, If you build the project from IDE there will be overrides for AJC (AspectJ compiler) and the weaving might not happen</strong></em></p>\n"},{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671441374,"creation_date":1671441374,"answer_id":74848385,"question_id":74832530,"body_markdown":"There are several problems in your POM and code, which I fixed in [this pull request](https://github.com/akshaysom/spring-aspectj/pull/1/files?diff=split&amp;w=1), for example:\r\n\r\n* You configured AspectJ Maven Plugin in the `pluginManagement` section, but forgot to actually add the plugin to the project in a separate `plugins` section.\r\n\r\n* Your example does not contain a test base directory. Therefore, you need to remove goal `test-compile` in order to avoid build errors.\r\n\r\n* When using `org.codehaus.mojo:aspectj-maven-plugin`, using `complianceLevel` is not enough, you also need to specify `source` and `target`. Or you simply switch to the better `dev.aspectj:aspectj-maven-plugin` variant, then `complianceLevel` is enough.\r\n\r\n* Package name `aspect` is not OK for native AspectJ, because in AspectJ it is a reserved keyword. So I renamed your package to `aop`.\r\n\r\n* Your pointcut `call(* service.apiInnerService(..))` is wrong, you forgot the class name and should use `call(* service.MainService.apiInnerService(..))` instead.\r\n\r\n* A native AspectJ aspect should not have a `@Component` annotation, because that is used for Spring AOP proxy-based aspects. You should avoid Spring to pick it up a second time.\r\n\r\nIn addition to these changes, I also removed some cruft from your code, reformatted everything a bit and added a main method to `AppConfig`, so I could easily run the applicaion from my IDE and verify that the aspect works. But it should work the same in your WAR.\r\n\r\nWhen running the application, now I see:\r\n\r\n```none\r\nBefore Around :testAspectPointcut\r\nInnerservice\r\nAfter Around\r\nSuccess\r\n```\r\n\r\nI.e., the aspect is working, intercepting your private method call. But allow me to say that if you need to apply aspects to private methods, you most likely have a design problem in your application.","title":"AspectJ not working with compile time weaving","body":"<p>There are several problems in your POM and code, which I fixed in <a href=\"https://github.com/akshaysom/spring-aspectj/pull/1/files?diff=split&amp;w=1\" rel=\"nofollow noreferrer\">this pull request</a>, for example:</p>\n<ul>\n<li><p>You configured AspectJ Maven Plugin in the <code>pluginManagement</code> section, but forgot to actually add the plugin to the project in a separate <code>plugins</code> section.</p>\n</li>\n<li><p>Your example does not contain a test base directory. Therefore, you need to remove goal <code>test-compile</code> in order to avoid build errors.</p>\n</li>\n<li><p>When using <code>org.codehaus.mojo:aspectj-maven-plugin</code>, using <code>complianceLevel</code> is not enough, you also need to specify <code>source</code> and <code>target</code>. Or you simply switch to the better <code>dev.aspectj:aspectj-maven-plugin</code> variant, then <code>complianceLevel</code> is enough.</p>\n</li>\n<li><p>Package name <code>aspect</code> is not OK for native AspectJ, because in AspectJ it is a reserved keyword. So I renamed your package to <code>aop</code>.</p>\n</li>\n<li><p>Your pointcut <code>call(* service.apiInnerService(..))</code> is wrong, you forgot the class name and should use <code>call(* service.MainService.apiInnerService(..))</code> instead.</p>\n</li>\n<li><p>A native AspectJ aspect should not have a <code>@Component</code> annotation, because that is used for Spring AOP proxy-based aspects. You should avoid Spring to pick it up a second time.</p>\n</li>\n</ul>\n<p>In addition to these changes, I also removed some cruft from your code, reformatted everything a bit and added a main method to <code>AppConfig</code>, so I could easily run the applicaion from my IDE and verify that the aspect works. But it should work the same in your WAR.</p>\n<p>When running the application, now I see:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Before Around :testAspectPointcut\nInnerservice\nAfter Around\nSuccess\n</code></pre>\n<p>I.e., the aspect is working, intercepting your private method call. But allow me to say that if you need to apply aspects to private methods, you most likely have a design problem in your application.</p>\n"}],"owner":{"account_id":14659007,"reputation":121,"user_id":10586805,"display_name":"Akshay Som"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":884,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74848385,"answer_count":3,"score":0,"last_activity_date":1671441374,"creation_date":1671263025,"question_id":74832530,"body_markdown":"I&#39;m trying to do a SQL query profiling using AOP\r\n\r\nBelow is my snippet from @Aspect defenition\r\n\r\n```java\r\n@Pointcut(&quot;(call(* org.springframework.jdbc.core.JdbcTemplate.query*(..)) || call(* org.springframework.jdbc.core.JdbcTemplate.update*(..)))&quot;)\r\npublic void profileQuery() {\r\n}\r\n\r\n@Around(&quot;profileQuery()&quot;)\r\npublic Object profile(ProceedingJoinPoint thisJoinPoint) throws Throwable {\r\n\tlogger.info(&quot;profileQuery() aspect Before&quot;);\r\n    Object pjp= thisJoinPoint.proceed();\r\n    logger.info(&quot;profileQuery() aspect After&quot;);\r\n    return pjp;\r\n}\r\n```\r\nPOM snippet for aspectj maven plugin\r\n\r\n```xml\r\n&lt;plugin&gt;\r\n\t&lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;aspectj-maven-plugin&lt;/artifactId&gt;\r\n\t&lt;version&gt;1.14.0&lt;/version&gt;\r\n\t&lt;configuration&gt;\r\n\t\t&lt;complianceLevel&gt;${java.version}&lt;/complianceLevel&gt;\r\n\t\t&lt;showWeaveInfo&gt;true&lt;/showWeaveInfo&gt;\r\n        &lt;verbose&gt;true&lt;/verbose&gt;\r\n        &lt;Xlint&gt;ignore&lt;/Xlint&gt;\r\n        &lt;encoding&gt;UTF-8 &lt;/encoding&gt;\r\n\t&lt;/configuration&gt;\r\n\t&lt;dependencies&gt;\r\n\t&lt;/dependencies&gt; \r\n\t&lt;executions&gt;\r\n\t\t&lt;execution&gt;\r\n\t\t\t&lt;id&gt;compile&lt;/id&gt;\r\n\t\t\t&lt;phase&gt;process-classes&lt;/phase&gt;\r\n\t\t\t&lt;goals&gt;\r\n\t\t\t\t&lt;goal&gt;compile&lt;/goal&gt;\r\n\t\t\t\t&lt;goal&gt;test-compile&lt;/goal&gt;\r\n\t\t\t&lt;/goals&gt;\t\r\n\t\t&lt;/execution&gt;\r\n\t&lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nPOM snippet for maven compiler plugin\r\n\r\n```xml\r\n&lt;plugin&gt;\r\n\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t&lt;configuration&gt;\r\n\t\t&lt;fork&gt;true&lt;/fork&gt;\r\n\t\t&lt;source&gt;${java.version}&lt;/source&gt;\r\n\t\t&lt;target&gt;${java.version}&lt;/target&gt;\r\n        &lt;useIncrementalCompilation&gt;false&lt;/useIncrementalCompilation&gt;\r\n\t\t&lt;excludes&gt;\r\n\t\t  &lt;exclude&gt;**/*.*&lt;/exclude&gt;\r\n\t\t&lt;/excludes&gt;\r\n\t&lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nI tried using Eclipse and also tried compiling outside Eclipse \r\nCommand used \r\n`mvn clean install -Dmaven.test.skip=true`\r\n\r\nNo issues in building and deploying it on Tomcat 8.5.83 , also the APIs are working, but the aspect is not being intercepted as expected.\r\n\r\n\r\n","title":"AspectJ not working with compile time weaving","body":"<p>I'm trying to do a SQL query profiling using AOP</p>\n<p>Below is my snippet from @Aspect defenition</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Pointcut(&quot;(call(* org.springframework.jdbc.core.JdbcTemplate.query*(..)) || call(* org.springframework.jdbc.core.JdbcTemplate.update*(..)))&quot;)\npublic void profileQuery() {\n}\n\n@Around(&quot;profileQuery()&quot;)\npublic Object profile(ProceedingJoinPoint thisJoinPoint) throws Throwable {\n    logger.info(&quot;profileQuery() aspect Before&quot;);\n    Object pjp= thisJoinPoint.proceed();\n    logger.info(&quot;profileQuery() aspect After&quot;);\n    return pjp;\n}\n</code></pre>\n<p>POM snippet for aspectj maven plugin</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n    &lt;artifactId&gt;aspectj-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;1.14.0&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;complianceLevel&gt;${java.version}&lt;/complianceLevel&gt;\n        &lt;showWeaveInfo&gt;true&lt;/showWeaveInfo&gt;\n        &lt;verbose&gt;true&lt;/verbose&gt;\n        &lt;Xlint&gt;ignore&lt;/Xlint&gt;\n        &lt;encoding&gt;UTF-8 &lt;/encoding&gt;\n    &lt;/configuration&gt;\n    &lt;dependencies&gt;\n    &lt;/dependencies&gt; \n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;compile&lt;/id&gt;\n            &lt;phase&gt;process-classes&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;compile&lt;/goal&gt;\n                &lt;goal&gt;test-compile&lt;/goal&gt;\n            &lt;/goals&gt;    \n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>POM snippet for maven compiler plugin</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;configuration&gt;\n        &lt;fork&gt;true&lt;/fork&gt;\n        &lt;source&gt;${java.version}&lt;/source&gt;\n        &lt;target&gt;${java.version}&lt;/target&gt;\n        &lt;useIncrementalCompilation&gt;false&lt;/useIncrementalCompilation&gt;\n        &lt;excludes&gt;\n          &lt;exclude&gt;**/*.*&lt;/exclude&gt;\n        &lt;/excludes&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>I tried using Eclipse and also tried compiling outside Eclipse\nCommand used\n<code>mvn clean install -Dmaven.test.skip=true</code></p>\n<p>No issues in building and deploying it on Tomcat 8.5.83 , also the APIs are working, but the aspect is not being intercepted as expected.</p>\n"},{"tags":["java","android","ftp","apache-commons-net"],"comments":[{"owner":{"account_id":308030,"reputation":12046,"user_id":619673,"accept_rate":80,"display_name":"deadfish"},"score":0,"creation_date":1562143106,"post_id":56865979,"comment_id":100281082,"body_markdown":"What is Your ftpClient variable?  What does it do? Please provide more data so we could help You.","body":"What is Your ftpClient variable?  What does it do? Please provide more data so we could help You."},{"owner":{"account_id":13623743,"reputation":3734,"user_id":9945307,"display_name":"NiceToMytyuk"},"score":0,"creation_date":1562143326,"post_id":56865979,"comment_id":100281216,"body_markdown":"@deadfish updated the question by adding the exact code i&#39;m using.","body":"@deadfish updated the question by adding the exact code i&#39;m using."},{"owner":{"account_id":308030,"reputation":12046,"user_id":619673,"accept_rate":80,"display_name":"deadfish"},"score":2,"creation_date":1562143879,"post_id":56865979,"comment_id":100281498,"body_markdown":"Using `*` won&#39;t work. After You get list of files in declared directory, You must iterate it and delete files one by one by using `deleteFile(String pathname)` (also checking if file name endsWith(&quot;.txt&quot;)). Every FTPFile has method `getName()`. You should construct full path so FTPClient will know what file to delete. I believe it would be something like `ftpClient.deleteFile(&quot;/prenotazioni/&quot; + remoteFiles[i].getName());`","body":"Using <code>*</code> won&#39;t work. After You get list of files in declared directory, You must iterate it and delete files one by one by using <code>deleteFile(String pathname)</code> (also checking if file name endsWith(&quot;.txt&quot;)). Every FTPFile has method <code>getName()</code>. You should construct full path so FTPClient will know what file to delete. I believe it would be something like <code>ftpClient.deleteFile(&quot;&#47;prenotazioni&#47;&quot; + remoteFiles[i].getName());</code>"},{"owner":{"account_id":13623743,"reputation":3734,"user_id":9945307,"display_name":"NiceToMytyuk"},"score":0,"creation_date":1562148097,"post_id":56865979,"comment_id":100283914,"body_markdown":"@deadfish that was it, make an answer so i could accept it.","body":"@deadfish that was it, make an answer so i could accept it."}],"answers":[{"tags":[],"owner":{"account_id":308030,"reputation":12046,"user_id":619673,"accept_rate":80,"display_name":"deadfish"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1562151529,"creation_date":1562150913,"answer_id":56868418,"question_id":56865979,"body_markdown":"Using `*` won&#39;t work. After You get list of files in declared directory, You must iterate it and delete files one by one by using `deleteFile(String pathname)` (also checking if file name `endsWith(&quot;.txt&quot;)`). \r\n\r\nEvery `FTPFile` has method `getName()`. You should construct full path so `FTPClient` will know what file to delete. I believe it would be something like: \r\n\r\n    ftpClient.deleteFile(&quot;/prenotazioni/&quot; + remoteFiles[i].getName());","title":"How to delete all txt files inside an FTP directory?","body":"<p>Using <code>*</code> won't work. After You get list of files in declared directory, You must iterate it and delete files one by one by using <code>deleteFile(String pathname)</code> (also checking if file name <code>endsWith(\".txt\")</code>). </p>\n\n<p>Every <code>FTPFile</code> has method <code>getName()</code>. You should construct full path so <code>FTPClient</code> will know what file to delete. I believe it would be something like: </p>\n\n<pre><code>ftpClient.deleteFile(\"/prenotazioni/\" + remoteFiles[i].getName());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2616296,"reputation":1932,"user_id":2265283,"accept_rate":7,"display_name":"Eyal Sooliman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671441345,"creation_date":1671441345,"answer_id":74848374,"question_id":56865979,"body_markdown":"full method: \r\n\r\n        public static void deleteFilesInFolderFtp(String dirPath, FTPClient ftpClient) {\r\n        try {\r\n            // use local passive mode to pass firewall\r\n            ftpClient.enterLocalPassiveMode();\r\n            FTPFile[] remoteFiles = ftpClient.listFiles(&quot;/&quot; + dirPath);\r\n            if (remoteFiles.length &gt; 0) {\r\n                for (int i = 0; i &lt; remoteFiles.length; i++) {\r\n                    ftpClient.deleteFile(&quot;/&quot; + dirPath + &quot;/&quot; + remoteFiles[i].getName());\r\n                }\r\n            }\r\n        } catch (IOException ex) {\r\n            ex.printStackTrace();\r\n        }\r\n    }","title":"How to delete all txt files inside an FTP directory?","body":"<p>full method:</p>\n<pre><code>    public static void deleteFilesInFolderFtp(String dirPath, FTPClient ftpClient) {\n    try {\n        // use local passive mode to pass firewall\n        ftpClient.enterLocalPassiveMode();\n        FTPFile[] remoteFiles = ftpClient.listFiles(&quot;/&quot; + dirPath);\n        if (remoteFiles.length &gt; 0) {\n            for (int i = 0; i &lt; remoteFiles.length; i++) {\n                ftpClient.deleteFile(&quot;/&quot; + dirPath + &quot;/&quot; + remoteFiles[i].getName());\n            }\n        }\n    } catch (IOException ex) {\n        ex.printStackTrace();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":13623743,"reputation":3734,"user_id":9945307,"display_name":"NiceToMytyuk"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1408,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":56868418,"answer_count":2,"score":2,"last_activity_date":1671441345,"creation_date":1562142651,"question_id":56865979,"body_markdown":"My app stores txt files on a FTP server which are also hosted on webservice.\r\n\r\nIn the directory where I host txt files I can find other txt files. I would like to delete all files in current directory every time when I store the new ones.\r\n\r\nActually i was trying to use the following command:  \r\n \r\n    FTPClient ftpClient = new FTPClient();\r\n    ftpClient.connect(siteFTP);\r\n    if (ftpClient.login(usrFTP, pswFTP)) {\r\n      ftpClient.enterLocalPassiveMode();          \r\n      FTPFile[] remoteFiles = ftpClient.listFiles(path);\r\n      if (remoteFiles.length &gt; 0) {\r\n        ftpClient.deleteFile(&quot;/prenotazioni/*.txt&quot;);\r\n      }\r\n    }\r\n\r\nBut even if there was txt files in that directory, FTP respose is:\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n    &gt; DELE /prenotazioni/*.txt\r\n    &gt; 550 File not found\r\n","title":"How to delete all txt files inside an FTP directory?","body":"<p>My app stores txt files on a FTP server which are also hosted on webservice.</p>\n\n<p>In the directory where I host txt files I can find other txt files. I would like to delete all files in current directory every time when I store the new ones.</p>\n\n<p>Actually i was trying to use the following command:  </p>\n\n<pre><code>FTPClient ftpClient = new FTPClient();\nftpClient.connect(siteFTP);\nif (ftpClient.login(usrFTP, pswFTP)) {\n  ftpClient.enterLocalPassiveMode();          \n  FTPFile[] remoteFiles = ftpClient.listFiles(path);\n  if (remoteFiles.length &gt; 0) {\n    ftpClient.deleteFile(\"/prenotazioni/*.txt\");\n  }\n}\n</code></pre>\n\n<p>But even if there was txt files in that directory, FTP respose is:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>&gt; DELE /prenotazioni/*.txt\n&gt; 550 File not found\n</code></pre>\n"},{"tags":["java","gradle","build","resources"],"answers":[{"tags":[],"owner":{"account_id":8579517,"reputation":367,"user_id":6427673,"display_name":"Dan Thomas"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1576796664,"creation_date":1576796664,"answer_id":59417976,"question_id":59401271,"body_markdown":"# Excluding Resources from the JAR with Gradle\n**Example** `build.gradle`\n```\nplugins {\n    id &#39;java&#39;\n    id &#39;application&#39;\n}\n\n// Project specifics\nversion &#39;1.0-SNAPSHOT&#39;\ngroup &#39;com.example&#39;\n\nsourceCompatibility = 1.8\nproject.mainClassName = &quot;core.ExampleApp&quot;\n\ndependencies {\n    testCompile &#39;junit:junit:4.12&#39;\n}\n\n// Define the project source paths\nsourceSets {\n    main.java {\n        srcDir &#39;core/src&#39;\n    }\n    test.java {\n        srcDir &#39;core/test&#39;\n    }\n}\n\n// Exclude all resources from the jar\njar {\n    processResources.exclude(&#39;*&#39;)\n}\n\n// Allows the &#39;test&#39; task to see the directories on the classpath\ntest {\n    classpath += files(&#39;conf&#39;)\n    classpath += files(&#39;res&#39;)\n}\n\n// Allows the &#39;run&#39; task to see the directories on the classpath\nrun {\n    classpath += files(&#39;conf&#39;)\n    classpath += files(&#39;res&#39;)\n}\n\n// Adds the directories to classpath in the start scripts\n// They will have &#39;$APP_DIR/lib/&#39; prepended so they need to be copied into &#39;dist/lib/&#39;\nstartScripts {\n    run {\n        classpath += files(&#39;conf&#39;)\n        classpath += files(&#39;res&#39;)\n    }\n}\n\n// Copy &#39;conf&#39; and &#39;res&#39; into the &#39;dist/lib&#39; directory\ndistributions {\n    main {\n        contents {\n            from(&#39;conf&#39;).into(&quot;lib/conf&quot;)\n            from(&#39;res&#39;).into(&quot;lib/res&quot;)\n        }\n    }\n}\n\n```\n\n- Resources are found during `gradle run`\n- Resources are found during `gradle test`\n- Built JAR does not contain the resources\n- Resources copied into `example.zip/lib/conf` &amp; `.../lib/res`\n- Resource content are added to the classpath in the generated build scripts\n- Running tests via IntelliJ UI does work (`right click -&gt; run tests` e.g.) \n\n**BUT**:\n\n- Running via IntelliJ UI does not work (`right click -&gt; run main()` e.g.)\n\n**Resolution**:\n\n- The IntelliJ Gradle Plugin allows `right click -&gt; run` and `right click -&gt; debug`\n- The above adds a configuration to IntelliJ run panel as a decent substitute\n","title":"How to exclude resources from the JAR in Gradle and also run via IntelliJ","body":"<h1>Excluding Resources from the JAR with Gradle</h1>\n<p><strong>Example</strong> <code>build.gradle</code></p>\n<pre><code>plugins {\n    id 'java'\n    id 'application'\n}\n\n// Project specifics\nversion '1.0-SNAPSHOT'\ngroup 'com.example'\n\nsourceCompatibility = 1.8\nproject.mainClassName = &quot;core.ExampleApp&quot;\n\ndependencies {\n    testCompile 'junit:junit:4.12'\n}\n\n// Define the project source paths\nsourceSets {\n    main.java {\n        srcDir 'core/src'\n    }\n    test.java {\n        srcDir 'core/test'\n    }\n}\n\n// Exclude all resources from the jar\njar {\n    processResources.exclude('*')\n}\n\n// Allows the 'test' task to see the directories on the classpath\ntest {\n    classpath += files('conf')\n    classpath += files('res')\n}\n\n// Allows the 'run' task to see the directories on the classpath\nrun {\n    classpath += files('conf')\n    classpath += files('res')\n}\n\n// Adds the directories to classpath in the start scripts\n// They will have '$APP_DIR/lib/' prepended so they need to be copied into 'dist/lib/'\nstartScripts {\n    run {\n        classpath += files('conf')\n        classpath += files('res')\n    }\n}\n\n// Copy 'conf' and 'res' into the 'dist/lib' directory\ndistributions {\n    main {\n        contents {\n            from('conf').into(&quot;lib/conf&quot;)\n            from('res').into(&quot;lib/res&quot;)\n        }\n    }\n}\n\n</code></pre>\n<ul>\n<li>Resources are found during <code>gradle run</code></li>\n<li>Resources are found during <code>gradle test</code></li>\n<li>Built JAR does not contain the resources</li>\n<li>Resources copied into <code>example.zip/lib/conf</code> &amp; <code>.../lib/res</code></li>\n<li>Resource content are added to the classpath in the generated build scripts</li>\n<li>Running tests via IntelliJ UI does work (<code>right click -&gt; run tests</code> e.g.)</li>\n</ul>\n<p><strong>BUT</strong>:</p>\n<ul>\n<li>Running via IntelliJ UI does not work (<code>right click -&gt; run main()</code> e.g.)</li>\n</ul>\n<p><strong>Resolution</strong>:</p>\n<ul>\n<li>The IntelliJ Gradle Plugin allows <code>right click -&gt; run</code> and <code>right click -&gt; debug</code></li>\n<li>The above adds a configuration to IntelliJ run panel as a decent substitute</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":20956710,"reputation":71,"user_id":15397013,"display_name":"Andrew"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1615775593,"creation_date":1615775593,"answer_id":66631671,"question_id":59401271,"body_markdown":"FYI: As a gradle newbie, I have recently been caught by this when trying just exclude a few src/main/resources files from the jar\r\n```\r\n// Exclude all resources from the jar\r\njar {\r\n    processResources.exclude(&#39;*&#39;)\r\n}\r\n```\r\nActually does more than exclude from the jar - it excludes from the build entirely, in that they do not exist in build/resources/; so may impact your testing etc.","title":"How to exclude resources from the JAR in Gradle and also run via IntelliJ","body":"<p>FYI: As a gradle newbie, I have recently been caught by this when trying just exclude a few src/main/resources files from the jar</p>\n<pre><code>// Exclude all resources from the jar\njar {\n    processResources.exclude('*')\n}\n</code></pre>\n<p>Actually does more than exclude from the jar - it excludes from the build entirely, in that they do not exist in build/resources/; so may impact your testing etc.</p>\n"},{"tags":[],"owner":{"account_id":429820,"reputation":3270,"user_id":812919,"display_name":"olfek"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1617663257,"creation_date":1617663257,"answer_id":66960738,"question_id":59401271,"body_markdown":"**In Kotlin DSL**\r\n```\r\ntasks.jar.configure {\r\n    exclude(&quot;**/node_modules/&quot;)\r\n    exclude(&quot;web/package*.json&quot;)\r\n    exclude(&quot;web/*.config.js&quot;)\r\n    archiveFileName.set(&quot;my.jar&quot;)\r\n    ...\r\n}\r\n```","title":"How to exclude resources from the JAR in Gradle and also run via IntelliJ","body":"<p><strong>In Kotlin DSL</strong></p>\n<pre><code>tasks.jar.configure {\n    exclude(&quot;**/node_modules/&quot;)\n    exclude(&quot;web/package*.json&quot;)\n    exclude(&quot;web/*.config.js&quot;)\n    archiveFileName.set(&quot;my.jar&quot;)\n    ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21884928,"reputation":1,"user_id":16172670,"display_name":"Cheng Pan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623221477,"creation_date":1623221477,"answer_id":67898965,"question_id":59401271,"body_markdown":"I got a solution, and it doesn&#39;t impact the testing. \r\n```\r\njar {\r\n    exclude { FileTreeElement el -&gt; el.file.toPath().startsWith(&quot;$buildDir/resources/main&quot;) }\r\n}\r\n```","title":"How to exclude resources from the JAR in Gradle and also run via IntelliJ","body":"<p>I got a solution, and it doesn't impact the testing.</p>\n<pre><code>jar {\n    exclude { FileTreeElement el -&gt; el.file.toPath().startsWith(&quot;$buildDir/resources/main&quot;) }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13764536,"reputation":1,"user_id":9933414,"display_name":"ExSystem"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671441340,"creation_date":1671441340,"answer_id":74848372,"question_id":59401271,"body_markdown":"For me, this works:\r\n\r\n```kotlin\r\ntasks.withType&lt;Jar&gt; {\r\n    exclude(&quot;application-*.yml&quot;) // for src/main/resources/application-*.yml, this is already from root directory.\r\n}\r\n```","title":"How to exclude resources from the JAR in Gradle and also run via IntelliJ","body":"<p>For me, this works:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>tasks.withType&lt;Jar&gt; {\n    exclude(&quot;application-*.yml&quot;) // for src/main/resources/application-*.yml, this is already from root directory.\n}\n</code></pre>\n"}],"owner":{"account_id":8579517,"reputation":367,"user_id":6427673,"display_name":"Dan Thomas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14140,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":59417976,"answer_count":5,"score":6,"last_activity_date":1671441340,"creation_date":1576710887,"question_id":59401271,"body_markdown":"I recently started work on a 7+ year **old project** which **uses Ant/Ivy** for dependency &amp; build management. I&#39;m tasked with **converting this to Gradle** but the structure is a bit unconventional:\r\n```\r\n|- projectRoot\r\n  |- folderA\r\n  |- folderB\r\n  |- projectX\r\n    |- conf\r\n    | |- file1.txt\r\n    |\r\n    |- core\r\n    |  |- src\r\n    |  | |- App.java\r\n    |  |\r\n    |  |- test\r\n    |    |- AppTest.java\r\n    |\r\n    |- res\r\n    | |- file2.txt\r\n    |\r\n    |- ivybuild.xml\r\n    |- ivysettings.xml\r\n```\r\n\r\nThe Ivy build process is fairly straight forward, the resulting dist folder looks like this:\r\n\r\n```\r\n|- dist\r\n  |- proj.jar\r\n  |- lib\r\n  |  |- dep1.jar\r\n  |  |- dep2.jar\r\n  |\r\n  |- conf\r\n  |  |- file1.txt\r\n  |- res\r\n     |- file2.txt\r\n```\r\n**No resources** are build in to the resulting JAR as some configurations are applied from a separate repository during deployment, thus the resources must stay external to the JAR.\r\n\r\nI&#39;m struggling to find a way to achieve this while also letting the IDE (Intellij IDEA) successfully locate the resources during debugging and running tests.\r\n\r\n```\r\nsourceSets {\r\n    main {\r\n        java {\r\n            srcDir &#39;core/src&#39;\r\n        }\r\n        resources {\r\n            srcDir &#39;conf&#39;\r\n            srcDir &#39;res&#39;\r\n        }\r\n    }\r\n    test {\r\n        java {\r\n            srcDir &#39;core/test&#39;\r\n        }\r\n    }\r\n}\r\nprocessResources {\r\n    from &#39;conf&#39; into &#39;lib/conf&#39;\r\n    from &#39;res&#39; into &#39;lib/res&#39;\r\n}\r\nstartScripts {\r\n    classpath += files(&#39;conf&#39;)\r\n    classpath += files(&#39;res&#39;)\r\n}\r\n``` \r\n\r\nWith the above I&#39;m able to run/test the project successfully as all files from &#39;conf&#39; and &#39;res&#39; are copied into &#39;build/resources/main&#39; which allows both debugging and tests to locate them. It copies both resource directories to the output lib folder and these are added to the classpath in the run script. \r\n\r\nThe above works except that the resources are still being copied into the built JAR. These override the external folder configurations so it will not do. \r\n\r\n```\r\njar {\r\n    processResources {\r\n        exclude(&quot;*&quot;)\r\n    }\r\n}\r\n``` \r\nIf I now run just `assemble` then the built project is exactly how I want it, however the IDE now cannot run the debugger or tests successfully as it cannot locate the files missing under `build/resources/main`\r\n\r\nI have also tried the `idea` plugin to set the resource paths but to no avail. \r\n\r\nIs there a way? \r\n","title":"How to exclude resources from the JAR in Gradle and also run via IntelliJ","body":"<p>I recently started work on a 7+ year <strong>old project</strong> which <strong>uses Ant/Ivy</strong> for dependency &amp; build management. I'm tasked with <strong>converting this to Gradle</strong> but the structure is a bit unconventional:</p>\n\n<pre><code>|- projectRoot\n  |- folderA\n  |- folderB\n  |- projectX\n    |- conf\n    | |- file1.txt\n    |\n    |- core\n    |  |- src\n    |  | |- App.java\n    |  |\n    |  |- test\n    |    |- AppTest.java\n    |\n    |- res\n    | |- file2.txt\n    |\n    |- ivybuild.xml\n    |- ivysettings.xml\n</code></pre>\n\n<p>The Ivy build process is fairly straight forward, the resulting dist folder looks like this:</p>\n\n<pre><code>|- dist\n  |- proj.jar\n  |- lib\n  |  |- dep1.jar\n  |  |- dep2.jar\n  |\n  |- conf\n  |  |- file1.txt\n  |- res\n     |- file2.txt\n</code></pre>\n\n<p><strong>No resources</strong> are build in to the resulting JAR as some configurations are applied from a separate repository during deployment, thus the resources must stay external to the JAR.</p>\n\n<p>I'm struggling to find a way to achieve this while also letting the IDE (Intellij IDEA) successfully locate the resources during debugging and running tests.</p>\n\n<pre><code>sourceSets {\n    main {\n        java {\n            srcDir 'core/src'\n        }\n        resources {\n            srcDir 'conf'\n            srcDir 'res'\n        }\n    }\n    test {\n        java {\n            srcDir 'core/test'\n        }\n    }\n}\nprocessResources {\n    from 'conf' into 'lib/conf'\n    from 'res' into 'lib/res'\n}\nstartScripts {\n    classpath += files('conf')\n    classpath += files('res')\n}\n</code></pre>\n\n<p>With the above I'm able to run/test the project successfully as all files from 'conf' and 'res' are copied into 'build/resources/main' which allows both debugging and tests to locate them. It copies both resource directories to the output lib folder and these are added to the classpath in the run script. </p>\n\n<p>The above works except that the resources are still being copied into the built JAR. These override the external folder configurations so it will not do. </p>\n\n<pre><code>jar {\n    processResources {\n        exclude(\"*\")\n    }\n}\n</code></pre>\n\n<p>If I now run just <code>assemble</code> then the built project is exactly how I want it, however the IDE now cannot run the debugger or tests successfully as it cannot locate the files missing under <code>build/resources/main</code></p>\n\n<p>I have also tried the <code>idea</code> plugin to set the resource paths but to no avail. </p>\n\n<p>Is there a way? </p>\n"},{"tags":["java","vue.js"],"owner":{"account_id":25334822,"reputation":101,"user_id":19154125,"display_name":"mobiw"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671441206,"creation_date":1671429955,"question_id":74846768,"body_markdown":"I need start my jar file on sub-path &quot;/new&quot;\r\n\r\nIf i change  publicPath: &#39;/new/&#39;, in my vue.config.js\r\n\r\nAfter build java in index in java i have src=&quot;/new/static/js/app.c5c5f2e6.js&quot; \r\n\r\nand this path dont work, because i dont have path &quot;/NEW/&quot;\r\n\r\nAnd in console i get error\r\n\r\n    Refused to apply style from &#39;http://localhost:8098/new/static/css/app.61cdbd8f.css&#39; because its MIME type (&#39;text/html&#39;) is not a supported stylesheet MIME type, and strict MIME checking is enabled.\r\n\r\nbecause app.61cdbd8f.css in to http://localhost:8098/static/css/app.61cdbd8f.css (without new)\r\n\r\nHow i can change path with / to /new/","title":"VueJS+Spring change sub-path","body":"<p>I need start my jar file on sub-path &quot;/new&quot;</p>\n<p>If i change  publicPath: '/new/', in my vue.config.js</p>\n<p>After build java in index in java i have src=&quot;/new/static/js/app.c5c5f2e6.js&quot;</p>\n<p>and this path dont work, because i dont have path &quot;/NEW/&quot;</p>\n<p>And in console i get error</p>\n<pre><code>Refused to apply style from 'http://localhost:8098/new/static/css/app.61cdbd8f.css' because its MIME type ('text/html') is not a supported stylesheet MIME type, and strict MIME checking is enabled.\n</code></pre>\n<p>because app.61cdbd8f.css in to http://localhost:8098/static/css/app.61cdbd8f.css (without new)</p>\n<p>How i can change path with / to /new/</p>\n"},{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"account_id":4528276,"reputation":67276,"user_id":3679490,"accept_rate":81,"display_name":"vks"},"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1521711266,"creation_date":1430903126,"answer_id":30072212,"question_id":30072184,"body_markdown":"    \\\\d+(?:\\\\.\\\\d+)?%\r\n\r\nThis should do it for you.\r\n\r\nFor more stringent test use,\r\n\r\n    \\b(?&lt;!\\.)(?!0+(?:\\.0+)?%)(?:\\d|[1-9]\\d|100)(?:(?&lt;!100)\\.\\d+)?%\r\n\r\nSee demo.\r\n\r\nhttps://regex101.com/r/zsNIrG/2","title":"Regular Expression for Percentage of marks","body":"<pre><code>\\\\d+(?:\\\\.\\\\d+)?%\n</code></pre>\n\n<p>This should do it for you.</p>\n\n<p>For more stringent test use,</p>\n\n<pre><code>\\b(?&lt;!\\.)(?!0+(?:\\.0+)?%)(?:\\d|[1-9]\\d|100)(?:(?&lt;!100)\\.\\d+)?%\n</code></pre>\n\n<p>See demo.</p>\n\n<p><a href=\"https://regex101.com/r/zsNIrG/2\" rel=\"noreferrer\">https://regex101.com/r/zsNIrG/2</a></p>\n"},{"tags":[],"owner":{"account_id":740820,"reputation":47963,"user_id":2353911,"accept_rate":100,"display_name":"Mena"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1430905035,"creation_date":1430903180,"answer_id":30072239,"question_id":30072184,"body_markdown":"You haven&#39;t double-escaped your dot, which means it&#39;s a wildcard for any character, including whitespace. \r\n\r\nUse something like: \r\n\r\n     ┌ integer part - any 1+ number of digits\r\n     |   ┌ dot and decimal part (grouped)\r\n     |   |┌ double-escaped dot\r\n     |   ||  ┌ decimal part = any 1+ number of digits\r\n     |   ||  |    ┌ 0 or 1 greedy quantifier for whole group\r\n     |   ||  |    |\r\n    &quot;\\\\d+(\\\\.\\\\d+)?%&quot;\r\n\r\nFor instance:\r\n\r\n    String[] inputs = { &quot;100%&quot;, &quot;56.78%&quot;, &quot;56 78.90%&quot;, &quot;34.6789%&quot; };\r\n    Matcher m = null;\r\n    for (String s: inputs) {\r\n    \tm = p.matcher(s);\r\n    \tif (m.find())\r\n    \t\tSystem.out.printf(&quot;Found: %s%n&quot;, m.group());\r\n    }\r\n\r\n**Output**\r\n\r\n    Found: 100%\r\n    Found: 56.78%\r\n    Found: 78.90%\r\n    Found: 34.6789%\r\n\r\n**Note**\r\n\r\nThis still matches the 3rd input, but only the last part. \r\n\r\nIf you want the 3rd input to just not match, you can surround your pattern with input boundaries, such as `^` for start of input, and `$` for end of input. \r\n\r\nThat would become: `&quot;^\\\\d+(\\\\.\\\\d+)?%$&quot;`\r\n\r\nOr, you can simply invoke `Matcher#matches` instead of `Matcher#find`. \r\n\r\n**Next step**\r\n\r\nYou may want to do *something* with the numerical value you&#39;re retrieving. \r\n\r\nIn this case, you can surround your pattern with a group (`&quot;(\\\\d+(\\\\.\\\\d+)?)%&quot;`) and invoke either `Double.parseDouble` or `new BigDecimal(...)` on your back-reference:\r\n\r\n - `Double.parseDouble(m.group(1))`\r\n - `new BigDecimal(m.group(1))`","title":"Regular Expression for Percentage of marks","body":"<p>You haven't double-escaped your dot, which means it's a wildcard for any character, including whitespace. </p>\n\n<p>Use something like: </p>\n\n<pre><code> ┌ integer part - any 1+ number of digits\n |   ┌ dot and decimal part (grouped)\n |   |┌ double-escaped dot\n |   ||  ┌ decimal part = any 1+ number of digits\n |   ||  |    ┌ 0 or 1 greedy quantifier for whole group\n |   ||  |    |\n\"\\\\d+(\\\\.\\\\d+)?%\"\n</code></pre>\n\n<p>For instance:</p>\n\n<pre><code>String[] inputs = { \"100%\", \"56.78%\", \"56 78.90%\", \"34.6789%\" };\nMatcher m = null;\nfor (String s: inputs) {\n    m = p.matcher(s);\n    if (m.find())\n        System.out.printf(\"Found: %s%n\", m.group());\n}\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<pre><code>Found: 100%\nFound: 56.78%\nFound: 78.90%\nFound: 34.6789%\n</code></pre>\n\n<p><strong>Note</strong></p>\n\n<p>This still matches the 3rd input, but only the last part. </p>\n\n<p>If you want the 3rd input to just not match, you can surround your pattern with input boundaries, such as <code>^</code> for start of input, and <code>$</code> for end of input. </p>\n\n<p>That would become: <code>\"^\\\\d+(\\\\.\\\\d+)?%$\"</code></p>\n\n<p>Or, you can simply invoke <code>Matcher#matches</code> instead of <code>Matcher#find</code>. </p>\n\n<p><strong>Next step</strong></p>\n\n<p>You may want to do <em>something</em> with the numerical value you're retrieving. </p>\n\n<p>In this case, you can surround your pattern with a group (<code>\"(\\\\d+(\\\\.\\\\d+)?)%\"</code>) and invoke either <code>Double.parseDouble</code> or <code>new BigDecimal(...)</code> on your back-reference:</p>\n\n<ul>\n<li><code>Double.parseDouble(m.group(1))</code></li>\n<li><code>new BigDecimal(m.group(1))</code></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":5142814,"reputation":771,"user_id":4119609,"display_name":"Alvin Magalona"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1430903379,"creation_date":1430903379,"answer_id":30072317,"question_id":30072184,"body_markdown":"The RegEx `\\\\d+(\\\\.?\\\\d+)?%` would work.\r\n  ","title":"Regular Expression for Percentage of marks","body":"<p>The RegEx <code>\\\\d+(\\\\.?\\\\d+)?%</code> would work.</p>\n"},{"tags":[],"owner":{"account_id":9520346,"reputation":169,"user_id":7075426,"display_name":"Saurabh Gupta"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1519229862,"creation_date":1519229263,"answer_id":48910418,"question_id":30072184,"body_markdown":"**^((100)|(\\d{1,2}(\\.\\d*)?))%$**\r\n\r\nCheck this regular expression here: https://regex101.com/r/Ou3mJI/2\r\n\r\nYou can use this regular expression. It is valid for:\r\n\r\n 1. 0 to 100 inclusive\r\n 2. With and without decimal places\r\n\r\nBelow are valid values:\r\n\r\n100% is valid&lt;br&gt;\r\n99.802% is valid&lt;br&gt;\r\n98.7% is valid&lt;br&gt;\r\n57% is valid&lt;br&gt;\r\n0% is valid&lt;br&gt;\r\n\r\nThis regular expression invalidates below values:\r\n\r\n 1. Negative numbers\r\n 2. Number &gt; 100\r\n 3. Number with spaces\r\n\r\nInvalid value examples:\r\n\r\n-1% &lt;br&gt;\r\n99.989%&lt;br&gt;\r\n101%&lt;br&gt;\r\n56 78.90%\r\n\r\nHope this will help!","title":"Regular Expression for Percentage of marks","body":"<p><strong>^((100)|(\\d{1,2}(.\\d*)?))%$</strong></p>\n\n<p>Check this regular expression here: <a href=\"https://regex101.com/r/Ou3mJI/2\" rel=\"noreferrer\">https://regex101.com/r/Ou3mJI/2</a></p>\n\n<p>You can use this regular expression. It is valid for:</p>\n\n<ol>\n<li>0 to 100 inclusive</li>\n<li>With and without decimal places</li>\n</ol>\n\n<p>Below are valid values:</p>\n\n<p>100% is valid<br>\n99.802% is valid<br>\n98.7% is valid<br>\n57% is valid<br>\n0% is valid<br></p>\n\n<p>This regular expression invalidates below values:</p>\n\n<ol>\n<li>Negative numbers</li>\n<li>Number > 100</li>\n<li>Number with spaces</li>\n</ol>\n\n<p>Invalid value examples:</p>\n\n<p>-1% <br>\n99.989%<br>\n101%<br>\n56 78.90%</p>\n\n<p>Hope this will help!</p>\n"},{"tags":[],"owner":{"account_id":9859954,"reputation":3445,"user_id":7303303,"display_name":"Jamie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633968440,"creation_date":1633968440,"answer_id":69529307,"question_id":30072184,"body_markdown":"All credit goes to @vks for this answer, but I was looking for a regex that matched:\r\n- Positive values between 0% - 100%\r\n- No negative values\r\n- In any given string\r\n\r\nThis includes a negative lookahead `(?&lt;!-)` which excludes minus numbers.\r\n```\r\n\\b(?&lt;!-)(?&lt;!\\.)(?!0+(?:\\.0+)?%)(?:\\d|[1-9]\\d|100)(?:(?&lt;!100)\\.\\d+)?%\r\n```","title":"Regular Expression for Percentage of marks","body":"<p>All credit goes to @vks for this answer, but I was looking for a regex that matched:</p>\n<ul>\n<li>Positive values between 0% - 100%</li>\n<li>No negative values</li>\n<li>In any given string</li>\n</ul>\n<p>This includes a negative lookahead <code>(?&lt;!-)</code> which excludes minus numbers.</p>\n<pre><code>\\b(?&lt;!-)(?&lt;!\\.)(?!0+(?:\\.0+)?%)(?:\\d|[1-9]\\d|100)(?:(?&lt;!100)\\.\\d+)?%\n</code></pre>\n"}],"owner":{"account_id":5444179,"reputation":1968,"user_id":4331291,"accept_rate":73,"display_name":"Nishant123"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53251,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":30072212,"answer_count":5,"score":11,"last_activity_date":1671440796,"creation_date":1430903040,"question_id":30072184,"body_markdown":"I am trying to create a regex that matches percentage for marks\r\n\r\nFor example if we consider few percentages\r\n\r\n    1)100%\r\n    2)56.78%\r\n    3)56 78.90%\r\n    4)34.6789%\r\n\r\nThe matched percentages should be\r\n\r\n    100%\r\n    56.78%\r\n    34.6789%\r\n\r\nI have made an expression `&quot;\\\\d.+[\\\\d]%&quot;` but it also matches for `56 78.90%` which I don&#39;t want.\r\n\r\nIf anyone knows such expression please share\r\n","title":"Regular Expression for Percentage of marks","body":"<p>I am trying to create a regex that matches percentage for marks</p>\n\n<p>For example if we consider few percentages</p>\n\n<pre><code>1)100%\n2)56.78%\n3)56 78.90%\n4)34.6789%\n</code></pre>\n\n<p>The matched percentages should be</p>\n\n<pre><code>100%\n56.78%\n34.6789%\n</code></pre>\n\n<p>I have made an expression <code>\"\\\\d.+[\\\\d]%\"</code> but it also matches for <code>56 78.90%</code> which I don't want.</p>\n\n<p>If anyone knows such expression please share</p>\n"},{"tags":["java","file","file-io","new-operator","fileoutputstream"],"comments":[{"owner":{"account_id":11087231,"reputation":1019,"user_id":8140473,"display_name":"Rohim Chou"},"score":0,"creation_date":1668611990,"post_id":9620683,"comment_id":131448464,"body_markdown":"if anyone is looking for [Files.write()](https://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html#write(java.nio.file.Path,%20byte[],%20java.nio.file.OpenOption...)) way of doing it, try `Files.write(Paths.get(&quot;./score.txt&quot;), &quot;sometext&quot;.getBytes(StandardCharsets.UTF_8), StandardOpenOption.CREATE, StandardOpenOption.APPEND);`. [StandardOpenOption](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/nio/file/StandardOpenOption.html)s","body":"if anyone is looking for <a href=\"https://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html#write(java.nio.file.Path,%20byte%5B%5D,%20java.nio.file.OpenOption...)\" rel=\"nofollow noreferrer\">Files.write()</a> way of doing it, try <code>Files.write(Paths.get(&quot;.&#47;score.txt&quot;), &quot;sometext&quot;.getBytes(StandardCharsets.UTF_8), StandardOpenOption.CREATE, StandardOpenOption.APPEND);</code>. <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/nio/file/StandardOpenOption.html\" rel=\"nofollow noreferrer\">StandardOpenOption</a>s"}],"answers":[{"tags":[],"owner":{"account_id":368385,"reputation":13915,"user_id":715171,"accept_rate":95,"display_name":"talnicolas"},"down_vote_count":5,"up_vote_count":369,"is_accepted":true,"score":364,"last_activity_date":1471334247,"creation_date":1331222455,"answer_id":9620718,"question_id":9620683,"body_markdown":"It will throw a `FileNotFoundException` if the file doesn&#39;t exist and cannot be created ([doc][1]), but it will create it if it can. To be sure you probably should first test that the file exists before you create the `FileOutputStream` (and create with `createNewFile()` if it doesn&#39;t):\r\n\r\n    File yourFile = new File(&quot;score.txt&quot;);\r\n    yourFile.createNewFile(); // if file already exists will do nothing \r\n    FileOutputStream oFile = new FileOutputStream(yourFile, false); \r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/io/FileOutputStream.html#FileOutputStream%28java.lang.String,%20boolean%29","title":"Java FileOutputStream Create File if not exists","body":"<p>It will throw a <code>FileNotFoundException</code> if the file doesn't exist and cannot be created (<a href=\"http://docs.oracle.com/javase/6/docs/api/java/io/FileOutputStream.html#FileOutputStream%28java.lang.String,%20boolean%29\" rel=\"noreferrer\">doc</a>), but it will create it if it can. To be sure you probably should first test that the file exists before you create the <code>FileOutputStream</code> (and create with <code>createNewFile()</code> if it doesn't):</p>\n\n<pre><code>File yourFile = new File(\"score.txt\");\nyourFile.createNewFile(); // if file already exists will do nothing \nFileOutputStream oFile = new FileOutputStream(yourFile, false); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":1137788,"reputation":8043,"user_id":1122476,"accept_rate":86,"display_name":"Shashank Kadne"},"down_vote_count":1,"up_vote_count":29,"is_accepted":false,"score":28,"last_activity_date":1526038786,"creation_date":1331222647,"answer_id":9620779,"question_id":9620683,"body_markdown":"    File f = new File(&quot;Test.txt&quot;);\r\n    if(!f.exists()){\r\n      f.createNewFile();\r\n    }else{\r\n      System.out.println(&quot;File already exists&quot;);\r\n    }\r\n\r\nPass this `f` to your `FileOutputStream` constructor.\r\n\r\n\r\n","title":"Java FileOutputStream Create File if not exists","body":"<pre><code>File f = new File(\"Test.txt\");\nif(!f.exists()){\n  f.createNewFile();\n}else{\n  System.out.println(\"File already exists\");\n}\n</code></pre>\n\n<p>Pass this <code>f</code> to your <code>FileOutputStream</code> constructor.</p>\n"},{"tags":[],"owner":{"account_id":250577,"reputation":2286,"user_id":527383,"display_name":"sikander"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1331222874,"creation_date":1331222874,"answer_id":9620827,"question_id":9620683,"body_markdown":"You can potentially get a `FileNotFoundException` if the file does not exist.\n\nJava documentation says:\n\n&gt; Whether or not a file is available or may be created depends upon the\n&gt; underlying platform\n&gt; http://docs.oracle.com/javase/7/docs/api/java/io/FileOutputStream.html\n\nIf you&#39;re using Java 7 you can use the java.nio package:\n\n&gt; The options parameter specifies how the the file is created or opened... it opens the file for writing, creating the file if it doesn&#39;t exist...\n&gt;\n&gt; http://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html","title":"Java FileOutputStream Create File if not exists","body":"<p>You can potentially get a <code>FileNotFoundException</code> if the file does not exist.</p>\n<p>Java documentation says:</p>\n<blockquote>\n<p>Whether or not a file is available or may be created depends upon the\nunderlying platform\n<a href=\"http://docs.oracle.com/javase/7/docs/api/java/io/FileOutputStream.html\" rel=\"nofollow noreferrer\">http://docs.oracle.com/javase/7/docs/api/java/io/FileOutputStream.html</a></p>\n</blockquote>\n<p>If you're using Java 7 you can use the java.nio package:</p>\n<blockquote>\n<p>The options parameter specifies how the the file is created or opened... it opens the file for writing, creating the file if it doesn't exist...</p>\n<p><a href=\"http://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html\" rel=\"nofollow noreferrer\">http://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html</a></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":2,"up_vote_count":28,"is_accepted":false,"score":26,"last_activity_date":1671440548,"creation_date":1331224273,"answer_id":9621189,"question_id":9620683,"body_markdown":"You can create an empty file whether it exists or not ...\r\n\r\n    new FileOutputStream(&quot;score.txt&quot;, false).close();\r\n\r\nif you want to leave the file if it exists ...\r\n\r\n    new FileOutputStream(&quot;score.txt&quot;, true).close();\r\n\r\nYou will only get a FileNotFoundException if you try to create the file in a directory which doesn&#39;t exist. \r\n\r\nEDIT: From Java 7 you can create a file, but get more meaningful error messages when it fails.\r\n\r\n    Path newFilePath = Paths.get(FILE_NAME);\r\n    Files.createFile(newFilePath); // throws FileAlreadyExistsException if it exists\r\n\r\nThis post has many variations. https://www.baeldung.com/java-how-to-create-a-file","title":"Java FileOutputStream Create File if not exists","body":"<p>You can create an empty file whether it exists or not ...</p>\n<pre><code>new FileOutputStream(&quot;score.txt&quot;, false).close();\n</code></pre>\n<p>if you want to leave the file if it exists ...</p>\n<pre><code>new FileOutputStream(&quot;score.txt&quot;, true).close();\n</code></pre>\n<p>You will only get a FileNotFoundException if you try to create the file in a directory which doesn't exist.</p>\n<p>EDIT: From Java 7 you can create a file, but get more meaningful error messages when it fails.</p>\n<pre><code>Path newFilePath = Paths.get(FILE_NAME);\nFiles.createFile(newFilePath); // throws FileAlreadyExistsException if it exists\n</code></pre>\n<p>This post has many variations. <a href=\"https://www.baeldung.com/java-how-to-create-a-file\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-how-to-create-a-file</a></p>\n"},{"tags":[],"owner":{"account_id":6372085,"reputation":1239,"user_id":4944223,"display_name":"Kostia Medvid"},"down_vote_count":0,"up_vote_count":89,"is_accepted":false,"score":89,"last_activity_date":1652439578,"creation_date":1441383137,"answer_id":32402390,"question_id":9620683,"body_markdown":"Before creating a file, it&#39;s necessary to create all parent directories.\r\n\r\nUse `yourFile.getParentFile().mkdirs()`\r\n\r\n\r\nUpdate: Create all parent folders only when they are not already exist. Otherwise it is not necessary.","title":"Java FileOutputStream Create File if not exists","body":"<p>Before creating a file, it's necessary to create all parent directories.</p>\n<p>Use <code>yourFile.getParentFile().mkdirs()</code></p>\n<p>Update: Create all parent folders only when they are not already exist. Otherwise it is not necessary.</p>\n"},{"tags":[],"owner":{"account_id":2127970,"reputation":2483,"user_id":1889574,"accept_rate":67,"display_name":"Nikhil Sahu"},"down_vote_count":2,"up_vote_count":41,"is_accepted":false,"score":39,"last_activity_date":1545355689,"creation_date":1468087338,"answer_id":38284744,"question_id":9620683,"body_markdown":"[FileUtils][1] from apache commons is a pretty good way to achieve this in a single line.\r\n\r\n    FileOutputStream s = FileUtils.openOutputStream(new File(&quot;/home/nikhil/somedir/file.txt&quot;))\r\n\r\nThis will create parent folders if do not exist and create a file if not exists and throw a exception if file object is a directory or cannot be written to. This is **equivalent to**:\r\n\r\n    File file = new File(&quot;/home/nikhil/somedir/file.txt&quot;);\r\n    file.getParentFile().mkdirs(); // Will create parent directories if not exists\r\n    file.createNewFile();\r\n    FileOutputStream s = new FileOutputStream(file,false);\r\n\r\n\r\nAll the above operations will throw an exception if the current user is not permitted to do the operation.\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-io/javadocs/api-2.5/org/apache/commons/io/FileUtils.html","title":"Java FileOutputStream Create File if not exists","body":"<p><a href=\"https://commons.apache.org/proper/commons-io/javadocs/api-2.5/org/apache/commons/io/FileUtils.html\" rel=\"noreferrer\">FileUtils</a> from apache commons is a pretty good way to achieve this in a single line.</p>\n\n<pre><code>FileOutputStream s = FileUtils.openOutputStream(new File(\"/home/nikhil/somedir/file.txt\"))\n</code></pre>\n\n<p>This will create parent folders if do not exist and create a file if not exists and throw a exception if file object is a directory or cannot be written to. This is <strong>equivalent to</strong>:</p>\n\n<pre><code>File file = new File(\"/home/nikhil/somedir/file.txt\");\nfile.getParentFile().mkdirs(); // Will create parent directories if not exists\nfile.createNewFile();\nFileOutputStream s = new FileOutputStream(file,false);\n</code></pre>\n\n<p>All the above operations will throw an exception if the current user is not permitted to do the operation.</p>\n"},{"tags":[],"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1471578677,"creation_date":1471578677,"answer_id":39030833,"question_id":9620683,"body_markdown":"Create file if not exist. If file exits, clear its content:\r\n\r\n    /**\r\n     * Create file if not exist.\r\n     *\r\n     * @param path For example: &quot;D:\\foo.xml&quot;\r\n     */\r\n    public static void createFile(String path) {\r\n        try {\r\n            File file = new File(path);\r\n            if (!file.exists()) {\r\n                file.createNewFile();\r\n            } else {\r\n                FileOutputStream writer = new FileOutputStream(path);\r\n                writer.write((&quot;&quot;).getBytes());\r\n                writer.close();\r\n            }\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }","title":"Java FileOutputStream Create File if not exists","body":"<p>Create file if not exist. If file exits, clear its content:</p>\n\n<pre><code>/**\n * Create file if not exist.\n *\n * @param path For example: \"D:\\foo.xml\"\n */\npublic static void createFile(String path) {\n    try {\n        File file = new File(path);\n        if (!file.exists()) {\n            file.createNewFile();\n        } else {\n            FileOutputStream writer = new FileOutputStream(path);\n            writer.write((\"\").getBytes());\n            writer.close();\n        }\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10298913,"reputation":2491,"user_id":7598188,"accept_rate":43,"display_name":"Manish Bansal"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1518597772,"creation_date":1518597772,"answer_id":48782882,"question_id":9620683,"body_markdown":"Just Giving an alternative way to create the file only if doesn&#39;t exists using Path and Files.\r\n\r\n    Path path = Paths.get(&quot;Some/path/filename.txt&quot;);\r\n    Files.createDirectories(path.getParent());\r\n    if( !Files.exists(path))\r\n    \tFiles.createFile(path);\r\n    Files.write(path, (&quot;&quot;).getBytes());","title":"Java FileOutputStream Create File if not exists","body":"<p>Just Giving an alternative way to create the file only if doesn't exists using Path and Files.</p>\n\n<pre><code>Path path = Paths.get(\"Some/path/filename.txt\");\nFiles.createDirectories(path.getParent());\nif( !Files.exists(path))\n    Files.createFile(path);\nFiles.write(path, (\"\").getBytes());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6403579,"reputation":755,"user_id":4965515,"accept_rate":60,"display_name":"stackoverflowed"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1549703704,"creation_date":1549703704,"answer_id":54604847,"question_id":9620683,"body_markdown":"`new FileOutputStream(f)` will create a file in most cases, but unfortunately you will get a FileNotFoundException \r\n\r\n&gt;  if the file exists but is a directory rather than a regular file, does not exist but cannot be created, or cannot be opened for any other reason\r\n\r\n[from Javadoc](https://docs.oracle.com/javase/7/docs/api/java/io/FileOutputStream.html#FileOutputStream(java.io.File))\r\n\r\nI other word there might be plenty of cases where you would get FileNotFoundException meaning &quot;Could not create your file&quot;, but you would not be able to find the reason of why the file creation failed.\r\n\r\nA solution is to remove any call to the File API and use the Files API instead as it provides much better error handling. Typically replace any `new FileOutputStream(f)` with `Files.newOutputStream(p)`.\r\n\r\nIn cases where you do need to use the File API (because you use an external interface using File for example), using `Files.createFile(p)` is a good way to make sure your file is created properly and if not you would know why it didn&#39;t work. Some people commented above that this is redundant. It is true, but you get better error handling which might be necessary in some cases.","title":"Java FileOutputStream Create File if not exists","body":"<p><code>new FileOutputStream(f)</code> will create a file in most cases, but unfortunately you will get a FileNotFoundException </p>\n\n<blockquote>\n  <p>if the file exists but is a directory rather than a regular file, does not exist but cannot be created, or cannot be opened for any other reason</p>\n</blockquote>\n\n<p><a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/FileOutputStream.html#FileOutputStream(java.io.File)\" rel=\"nofollow noreferrer\">from Javadoc</a></p>\n\n<p>I other word there might be plenty of cases where you would get FileNotFoundException meaning \"Could not create your file\", but you would not be able to find the reason of why the file creation failed.</p>\n\n<p>A solution is to remove any call to the File API and use the Files API instead as it provides much better error handling. Typically replace any <code>new FileOutputStream(f)</code> with <code>Files.newOutputStream(p)</code>.</p>\n\n<p>In cases where you do need to use the File API (because you use an external interface using File for example), using <code>Files.createFile(p)</code> is a good way to make sure your file is created properly and if not you would know why it didn't work. Some people commented above that this is redundant. It is true, but you get better error handling which might be necessary in some cases.</p>\n"}],"owner":{"account_id":1156577,"reputation":5403,"user_id":1137017,"accept_rate":52,"display_name":"Stefan Dunn"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":497559,"favorite_count":0,"down_vote_count":1,"up_vote_count":236,"accepted_answer_id":9620718,"answer_count":9,"score":235,"last_activity_date":1671440548,"creation_date":1331222328,"question_id":9620683,"body_markdown":"Is there a way to use FileOutputStream in a way that if a file (String filename) does not exist, then it will create it?\r\n\r\n    FileOutputStream oFile = new FileOutputStream(&quot;score.txt&quot;, false);","title":"Java FileOutputStream Create File if not exists","body":"<p>Is there a way to use FileOutputStream in a way that if a file (String filename) does not exist, then it will create it?</p>\n\n<pre><code>FileOutputStream oFile = new FileOutputStream(\"score.txt\", false);\n</code></pre>\n"},{"tags":["java","recursion"],"answers":[{"tags":[],"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639325891,"creation_date":1639325891,"answer_id":70325375,"question_id":70325305,"body_markdown":"You zero out the last digit only in reverse. This only works for numbers less than 100 (with a single recursive call). ","title":"Reversing of a number using recursion gives wrong result for numbers with 3 digits or more","body":"<p>You zero out the last digit only in reverse. This only works for numbers less than 100 (with a single recursive call).</p>\n"},{"tags":[],"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639325892,"creation_date":1639325892,"answer_id":70325376,"question_id":70325305,"body_markdown":"You&#39;re doing math addition, use string concatenation that&#39;ll be easier\r\n\r\n    static String reverse(int n) {\r\n        if (n &lt; 10)\r\n            return &quot;&quot; + n;\r\n        else\r\n            return &quot;&quot; + n % 10 + reverse(n / 10);\r\n    }\r\n","title":"Reversing of a number using recursion gives wrong result for numbers with 3 digits or more","body":"<p>You're doing math addition, use string concatenation that'll be easier</p>\n<pre><code>static String reverse(int n) {\n    if (n &lt; 10)\n        return &quot;&quot; + n;\n    else\n        return &quot;&quot; + n % 10 + reverse(n / 10);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1671440196,"creation_date":1639325989,"answer_id":70325390,"question_id":70325305,"body_markdown":"For n = 123: `n % 10 * 10` yields 30. Next, you are dividing `n` by 10, getting 12, which you pass in your recursive call. Since your method works correctly for 2-digit numbers, you correctly get 21. 30 + 21 equals 51.\r\n\r\nA recursive method using only math (as opposed to for example string manipulation) is not that simple. I think I would resort to an iterative solution. If you want to use this problem for training recursion, you should probably look into string manipulation as already suggested by azro.\r\n\r\nTo illustrate the challenge of combining math and recursion think of how you would reverse 102. Expecting 201. There are two ways:\r\n\r\n 1. Either you pass 10 to a recursive call and append the result to 2. The reverse of 10 is 01, which you will get as 1, so the naive solution will give you 21, not 201. There probably is a way to know that the intermediate result from the recursive call should be understood as two digits, you would need to be creative.\r\n 2. Or you pass 02 to a recursive call and append 1 to the result. Again the naive way of doing it would yield 21, not 201.","title":"Reversing of a number using recursion gives wrong result for numbers with 3 digits or more","body":"<p>For n = 123: <code>n % 10 * 10</code> yields 30. Next, you are dividing <code>n</code> by 10, getting 12, which you pass in your recursive call. Since your method works correctly for 2-digit numbers, you correctly get 21. 30 + 21 equals 51.</p>\n<p>A recursive method using only math (as opposed to for example string manipulation) is not that simple. I think I would resort to an iterative solution. If you want to use this problem for training recursion, you should probably look into string manipulation as already suggested by azro.</p>\n<p>To illustrate the challenge of combining math and recursion think of how you would reverse 102. Expecting 201. There are two ways:</p>\n<ol>\n<li>Either you pass 10 to a recursive call and append the result to 2. The reverse of 10 is 01, which you will get as 1, so the naive solution will give you 21, not 201. There probably is a way to know that the intermediate result from the recursive call should be understood as two digits, you would need to be creative.</li>\n<li>Or you pass 02 to a recursive call and append 1 to the result. Again the naive way of doing it would yield 21, not 201.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":17097776,"reputation":190,"user_id":12372430,"display_name":"diksown"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639326046,"creation_date":1639326046,"answer_id":70325402,"question_id":70325305,"body_markdown":"The problem is with the `((n%10)*10)+`. This part should concatenate the last digit with the reversed number, but it only multiplies the digit by ten and sum it. For numbers with two digits, it works, as multiplying by 10 is essentially putting the number in the second position in the first position. But it won&#39;t work for numbers larger than that.\r\n\r\nYou should concatenate strings instead.","title":"Reversing of a number using recursion gives wrong result for numbers with 3 digits or more","body":"<p>The problem is with the <code>((n%10)*10)+</code>. This part should concatenate the last digit with the reversed number, but it only multiplies the digit by ten and sum it. For numbers with two digits, it works, as multiplying by 10 is essentially putting the number in the second position in the first position. But it won't work for numbers larger than that.</p>\n<p>You should concatenate strings instead.</p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639331888,"creation_date":1639331888,"answer_id":70326240,"question_id":70325305,"body_markdown":"If you want a purely math based solution you can do it like this.\r\n- `div` is the power of 10 raised to the current number of digits.\r\n- then you build up the number backwards.  To see how this works, put in some print statements before and after the recursive call.  \r\n```\r\npublic static int reverse(int n) {\r\n\t  int rev = 0;\r\n\t  if (n &gt; 0) {\r\n           int div = (int)Math.pow(10,(int)(Math.log10(n)));\r\n\t       rev = 10 * reverse(n%div) + n/div;\r\n\t  }\r\n\t  return rev;\r\n}","title":"Reversing of a number using recursion gives wrong result for numbers with 3 digits or more","body":"<p>If you want a purely math based solution you can do it like this.</p>\n<ul>\n<li><code>div</code> is the power of 10 raised to the current number of digits.</li>\n<li>then you build up the number backwards.  To see how this works, put in some print statements before and after the recursive call.</li>\n</ul>\n<pre><code>public static int reverse(int n) {\n      int rev = 0;\n      if (n &gt; 0) {\n           int div = (int)Math.pow(10,(int)(Math.log10(n)));\n           rev = 10 * reverse(n%div) + n/div;\n      }\n      return rev;\n}\n</code></pre>\n"}],"owner":{"account_id":23626674,"reputation":9,"user_id":17659095,"display_name":"Sandeep Singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":5,"score":-1,"last_activity_date":1671440196,"creation_date":1639325319,"question_id":70325305,"body_markdown":"The code given below works fine for two digit numbers, that is, up to 99 but i dont know why it breaks after that.\r\nfor eg. it gives 51 as output for number 123 but it should be 321. can anyone help me in this?\r\n\r\n```\r\npublic class Main\r\n{\r\n    static int reverse(int n){\r\n        if(n&lt;10)\r\n            return n;\r\n        else\r\n            return ((n%10)*10)+(reverse(n/=10));\r\n    }\r\n\tpublic static void main(String[] args) {\r\n\t\tSystem.out.println(reverse(123));\r\n\t}\r\n}\r\n```","title":"Reversing of a number using recursion gives wrong result for numbers with 3 digits or more","body":"<p>The code given below works fine for two digit numbers, that is, up to 99 but i dont know why it breaks after that.\nfor eg. it gives 51 as output for number 123 but it should be 321. can anyone help me in this?</p>\n<pre><code>public class Main\n{\n    static int reverse(int n){\n        if(n&lt;10)\n            return n;\n        else\n            return ((n%10)*10)+(reverse(n/=10));\n    }\n    public static void main(String[] args) {\n        System.out.println(reverse(123));\n    }\n}\n</code></pre>\n"},{"tags":["java","android","android-automotive","android-asynclayoutinflater"],"comments":[{"owner":{"account_id":16972312,"reputation":322,"user_id":12276603,"display_name":"theChoosyBeggar"},"score":0,"creation_date":1671310139,"post_id":74837287,"comment_id":132073630,"body_markdown":"Sounds like you have an unresolved dependency. Can you upload your `build.gradle` file? These types of errors are impossible to fix without more context.","body":"Sounds like you have an unresolved dependency. Can you upload your <code>build.gradle</code> file? These types of errors are impossible to fix without more context."},{"owner":{"account_id":1820600,"reputation":201,"user_id":1654760,"accept_rate":30,"display_name":"T B"},"score":0,"creation_date":1671356371,"post_id":74837287,"comment_id":132078516,"body_markdown":"updated my question with build.gradle  files @theChoosyBeggar","body":"updated my question with build.gradle  files @theChoosyBeggar"}],"owner":{"account_id":1820600,"reputation":201,"user_id":1654760,"accept_rate":30,"display_name":"T B"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671440191,"creation_date":1671308971,"question_id":74837287,"body_markdown":"This error is thrown when I try to run my automotive application in android studio. \r\n\r\nIt also gives the following error:\r\n\r\n```\r\nCaused by: java.lang.ClassNotFoundException: Didn&#39;t find class\r\n&quot;androidx.asynclayoutinflater.view.AsyncLayoutInflater&quot; on path:\r\nDexPathList[[zip file &quot;/data/app/com.example.mycarapplication-lVN5UU1ZLpkjCRu9JNCF9w==/base.apk&quot;],nativeLibraryDirectories=[/data/app/com.example.mycarapplication-lVN5UU1ZLpkjCRu9JNCF9w==/lib/x86_64, /system/lib64]]\r\n```\r\n\r\nHow can I solve this error?\r\n\r\nMy build.gradle file (app level) is:\r\n\r\n```groovy\r\nplugins {\r\n    id &#39;com.android.application&#39;\r\n}\r\n\r\nandroid {\r\n    compileSdk 32\r\n    \r\n    defaultConfig {\r\n        applicationId &quot;com.example.mycarapplication&quot;\r\n        minSdk 29\r\n        targetSdk 32\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n}\r\n    \r\ndependencies {\r\n\r\n    implementation &#39;com.android.car.ui:car-ui-lib:2.3.0&#39;\r\n    //implementation &#39;androidx.core:core:1.5.0-alpha04&#39;\r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.5.1&#39;\r\n    implementation &#39;com.google.android.material:material:1.4.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.4&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.5.0&#39;\r\n}\r\n```\r\n\r\nMy build.gradle file (project level) is:\r\n\r\n```groovy\r\nplugins {\r\n    id &#39;com.android.application&#39; version &#39;7.2.1&#39; apply false\r\n    id &#39;com.android.library&#39; version &#39;7.2.1&#39; apply false\r\n}\r\n    \r\ntask clean(type: Delete) {\r\n    delete rootProject.buildDir\r\n}\r\n```\r\n\r\nAnd my gradle.properties is:\r\n\r\n```properties\r\norg.gradle.jvmargs=-Xmx2048m -Dfile.encoding=UTF-8\r\nandroid.useAndroidX=true\r\nandroid.nonTransitiveRClass=true\r\n```","title":"java.lang.NoClassDefFoundError: Failed resolution of: Landroidx/asynclayoutinflater/view/AsyncLayoutInflater; android studio","body":"<p>This error is thrown when I try to run my automotive application in android studio.</p>\n<p>It also gives the following error:</p>\n<pre><code>Caused by: java.lang.ClassNotFoundException: Didn't find class\n&quot;androidx.asynclayoutinflater.view.AsyncLayoutInflater&quot; on path:\nDexPathList[[zip file &quot;/data/app/com.example.mycarapplication-lVN5UU1ZLpkjCRu9JNCF9w==/base.apk&quot;],nativeLibraryDirectories=[/data/app/com.example.mycarapplication-lVN5UU1ZLpkjCRu9JNCF9w==/lib/x86_64, /system/lib64]]\n</code></pre>\n<p>How can I solve this error?</p>\n<p>My build.gradle file (app level) is:</p>\n<pre><code>plugins {\n    id 'com.android.application'\n}\n\nandroid {\n    compileSdk 32\n    \n    defaultConfig {\n        applicationId &quot;com.example.mycarapplication&quot;\n        minSdk 29\n        targetSdk 32\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n    \ndependencies {\n\n    implementation 'com.android.car.ui:car-ui-lib:2.3.0'\n    //implementation 'androidx.core:core:1.5.0-alpha04'\n\n    implementation 'androidx.appcompat:appcompat:1.5.1'\n    implementation 'com.google.android.material:material:1.4.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.4'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.0'\n}\n</code></pre>\n<p>My build.gradle file (project level) is:</p>\n<pre><code>plugins {\n    id 'com.android.application' version '7.2.1' apply false\n    id 'com.android.library' version '7.2.1' apply false\n}\n    \ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n<p>And my gradle.properties is:</p>\n<pre><code>org.gradle.jvmargs=-Xmx2048m -Dfile.encoding=UTF-8\nandroid.useAndroidX=true\nandroid.nonTransitiveRClass=true\n</code></pre>\n"},{"tags":["java","memory","concurrency","visibility"],"answers":[{"tags":[],"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1359923998,"creation_date":1359923998,"answer_id":14677050,"question_id":14676997,"body_markdown":"[The documentation][1] says:\n\n\n&gt;The methods of all classes in java.util.concurrent and its subpackages extend these guarantees to higher-level synchronization. In particular:\n&gt;\n&gt; Actions in a thread prior to placing an object into any concurrent collection happen-before actions subsequent to the access or removal of that element from the collection in another thread. \n\nso yes, you&#39;re guaranteed to see the values in the array that have been set prior to storing the object into the queue. (I&#39;m assuming you don&#39;t modify te array once after it has been stored into the queue here).\n\n  [1]: http://docs.oracle.com/javase/6/docs/api/#MemoryVisibility","title":"Java Memory Visibility and AtomicReference&#39;s","body":"<p><a href=\"http://docs.oracle.com/javase/6/docs/api/#MemoryVisibility\" rel=\"nofollow noreferrer\">The documentation</a> says:</p>\n<blockquote>\n<p>The methods of all classes in java.util.concurrent and its subpackages extend these guarantees to higher-level synchronization. In particular:</p>\n<p>Actions in a thread prior to placing an object into any concurrent collection happen-before actions subsequent to the access or removal of that element from the collection in another thread.</p>\n</blockquote>\n<p>so yes, you're guaranteed to see the values in the array that have been set prior to storing the object into the queue. (I'm assuming you don't modify te array once after it has been stored into the queue here).</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671440113,"creation_date":1359924240,"answer_id":14677092,"question_id":14676997,"body_markdown":"After object construction, final fields are guaranteed to be visible and correct.  As @AlexShavlovsky notes, this extends to the objects referenced by final fields.\r\n\r\nThere is a simple solution which is to use an ExecutorService.  It not only wraps a queue and a thread pool but makes enough access to volatile fields to ensure your data will be correct.\r\n\r\nIn short, keep it simple, use the standard libraries and it&#39;s more likely to work.","title":"Java Memory Visibility and AtomicReference&#39;s","body":"<p>After object construction, final fields are guaranteed to be visible and correct.  As @AlexShavlovsky notes, this extends to the objects referenced by final fields.</p>\n<p>There is a simple solution which is to use an ExecutorService.  It not only wraps a queue and a thread pool but makes enough access to volatile fields to ensure your data will be correct.</p>\n<p>In short, keep it simple, use the standard libraries and it's more likely to work.</p>\n"}],"owner":{"account_id":2225219,"reputation":565,"user_id":1964161,"display_name":"user1964161"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":455,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":14677050,"answer_count":2,"score":4,"last_activity_date":1671440113,"creation_date":1359923686,"question_id":14676997,"body_markdown":"Note:: This question has to do with memory visibility and not &quot;public&quot;, &quot;private&quot; etc.\r\n\r\nLets say I had the following class:\r\n\r\n    public class Data {\r\n        public final byte[] array;\r\n        public final int offset, length;\r\n        public Data(byte[] array, int offset, int length) {...}\r\n        ...\r\n    }\r\n\r\n(The elements in the above array can change through methods not shown.)\r\n\r\nNow suppose I had a queue with the given data in another class:\r\n\r\n    final ConcurrentLinkedQueue&lt;Data&gt; queue = new ConcurrentLinkedQueue&lt;&gt;();\r\n\r\nNow suppose i have the following code in the class with the queue:\r\n\r\n    Data data = queue.poll();\r\n    ... code for reading the elements in the data object.\r\n\r\nMy question is: **Are the elements in the array that were set BEFORE the polling of the queue guaranteed to be visible to the thread that polled the data from the queue?**\r\n\r\nI understand that the elements set after the polling of the queue will not be visible to the reader, I am only interested in the elements set before the polling of the queue.\r\n\r\n\r\nIf not, it is my understanding that the following code put after calling the poll method will ensure the visibility of the array\r\n\r\n    data = new Data(data.array, data.offset, data.length);\r\n\r\nbecause object construction ensures the full visibility of the object&#39;s fields.  Is this correct?\r\n\r\n\r\nThanks!\r\n","title":"Java Memory Visibility and AtomicReference&#39;s","body":"<p>Note:: This question has to do with memory visibility and not \"public\", \"private\" etc.</p>\n\n<p>Lets say I had the following class:</p>\n\n<pre><code>public class Data {\n    public final byte[] array;\n    public final int offset, length;\n    public Data(byte[] array, int offset, int length) {...}\n    ...\n}\n</code></pre>\n\n<p>(The elements in the above array can change through methods not shown.)</p>\n\n<p>Now suppose I had a queue with the given data in another class:</p>\n\n<pre><code>final ConcurrentLinkedQueue&lt;Data&gt; queue = new ConcurrentLinkedQueue&lt;&gt;();\n</code></pre>\n\n<p>Now suppose i have the following code in the class with the queue:</p>\n\n<pre><code>Data data = queue.poll();\n... code for reading the elements in the data object.\n</code></pre>\n\n<p>My question is: <strong>Are the elements in the array that were set BEFORE the polling of the queue guaranteed to be visible to the thread that polled the data from the queue?</strong></p>\n\n<p>I understand that the elements set after the polling of the queue will not be visible to the reader, I am only interested in the elements set before the polling of the queue.</p>\n\n<p>If not, it is my understanding that the following code put after calling the poll method will ensure the visibility of the array</p>\n\n<pre><code>data = new Data(data.array, data.offset, data.length);\n</code></pre>\n\n<p>because object construction ensures the full visibility of the object's fields.  Is this correct?</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","resteasy"],"answers":[{"tags":[],"owner":{"account_id":5382167,"reputation":334,"user_id":4287120,"display_name":"Julian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671440053,"creation_date":1671440053,"answer_id":74848133,"question_id":74824417,"body_markdown":"Finally I found a solution. I had to define a filename for the file itself. The MultiPartBody has to look like:\r\n\r\n    public class MultipartBody {\r\n\r\n    @FormParam(&quot;name&quot;)\r\n    @PartType(MediaType.TEXT_PLAIN)\r\n    public String name;\r\n\r\n    @FormParam(&quot;file&quot;)\r\n    @PartType(MediaType.APPLICATION_OCTET_STREAM)\r\n    @PartFilename(&quot;test.txt&quot;)\r\n    public InputStream file;\r\n\r\n    @FormParam(&quot;type&quot;)\r\n    @PartType(MediaType.TEXT_PLAIN)\r\n    public String type;\r\n}\r\n\r\nSo in my case I had to set the `@PartFilename` annotiation","title":"How to send Multiparfile and other formparams as @MultipartForm in java","body":"<p>Finally I found a solution. I had to define a filename for the file itself. The MultiPartBody has to look like:</p>\n<pre><code>public class MultipartBody {\n\n@FormParam(&quot;name&quot;)\n@PartType(MediaType.TEXT_PLAIN)\npublic String name;\n\n@FormParam(&quot;file&quot;)\n@PartType(MediaType.APPLICATION_OCTET_STREAM)\n@PartFilename(&quot;test.txt&quot;)\npublic InputStream file;\n\n@FormParam(&quot;type&quot;)\n@PartType(MediaType.TEXT_PLAIN)\npublic String type;\n</code></pre>\n<p>}</p>\n<p>So in my case I had to set the <code>@PartFilename</code> annotiation</p>\n"}],"owner":{"account_id":5382167,"reputation":334,"user_id":4287120,"display_name":"Julian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":202,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74848133,"answer_count":1,"score":0,"last_activity_date":1671440053,"creation_date":1671193421,"question_id":74824417,"body_markdown":"On the serverside the interface looks like:\r\n\r\n   \r\n    @RequestMapping(value = &quot;doSomething&quot;, method = RequestMethod.POST,\r\n            headers = {&quot;content-type=multipart/mixed&quot;,&quot;content-type=multipart/form-data&quot;}, produces = MediaType.TEXT_PLAIN_VALUE)\r\n    ResponseEntity&lt;String&gt; doSomething(\r\n            @RequestPart(&quot;name&quot;) String name,\r\n            @RequestPart(&quot;file&quot;) MultipartFile file,\r\n            @RequestPart(&quot;type&quot;) String type\r\n    );\r\n\r\nAnd on clientside the interfce is:\r\n    \r\n    @POST\r\n    @Path(&quot;doSomething&quot;)\r\n    @Produces(MediaType.TEXT_PLAIN)\r\n    @Consumes(MediaType.MULTIPART_FORM_DATA)\r\n    String doSomething(@MultipartForm MultipartBody body);\r\n\r\nWith the ResteasyClientBuilder i use this interface with the MultipartBody: \r\n\r\n    public class MultipartBody {\r\n\r\n        @FormParam(&quot;name&quot;)\r\n        @PartType(MediaType.TEXT_PLAIN)\r\n        public String name;\r\n\r\n        @FormParam(&quot;file&quot;)\r\n        @PartType(MediaType.APPLICATION_OCTET_STREAM)\r\n        public InputStream file;\r\n\r\n        @FormParam(&quot;type&quot;)\r\n        @PartType(MediaType.TEXT_PLAIN)\r\n        public String type;\r\n    }\r\n\r\nBut i got 400 bad request. And on serverside an Exception occurs: \r\n\r\n[org.springframework.web.multipart.support.MissingServletRequestPartException: Required request part &#39;file&#39; is not present]\r\n\r\nThe call of the client looks like.\r\n\r\n```\r\nBody: --02d16fb7-e89e-4847-adaa-d64db0c86700\r\nContent-Disposition: form-data; name=&quot;file&quot;\r\nContent-Type: application/octet-stream\r\n\r\ntesterito\r\n--02d16fb7-e89e-4847-adaa-d64db0c86700\r\nContent-Disposition: form-data; name=&quot;name&quot;\r\nContent-Type: text/plain\r\n\r\ntest\r\n--02d16fb7-e89e-4847-adaa-d64db0c86700\r\nContent-Disposition: form-data; name=&quot;type&quot;\r\nContent-Type: text/plain\r\n\r\ntest\r\n--02d16fb7-e89e-4847-adaa-d64db0c86700-- \r\n```\r\n\r\nWhat im doing wrong?","title":"How to send Multiparfile and other formparams as @MultipartForm in java","body":"<p>On the serverside the interface looks like:</p>\n<pre><code>@RequestMapping(value = &quot;doSomething&quot;, method = RequestMethod.POST,\n        headers = {&quot;content-type=multipart/mixed&quot;,&quot;content-type=multipart/form-data&quot;}, produces = MediaType.TEXT_PLAIN_VALUE)\nResponseEntity&lt;String&gt; doSomething(\n        @RequestPart(&quot;name&quot;) String name,\n        @RequestPart(&quot;file&quot;) MultipartFile file,\n        @RequestPart(&quot;type&quot;) String type\n);\n</code></pre>\n<p>And on clientside the interfce is:</p>\n<pre><code>@POST\n@Path(&quot;doSomething&quot;)\n@Produces(MediaType.TEXT_PLAIN)\n@Consumes(MediaType.MULTIPART_FORM_DATA)\nString doSomething(@MultipartForm MultipartBody body);\n</code></pre>\n<p>With the ResteasyClientBuilder i use this interface with the MultipartBody:</p>\n<pre><code>public class MultipartBody {\n\n    @FormParam(&quot;name&quot;)\n    @PartType(MediaType.TEXT_PLAIN)\n    public String name;\n\n    @FormParam(&quot;file&quot;)\n    @PartType(MediaType.APPLICATION_OCTET_STREAM)\n    public InputStream file;\n\n    @FormParam(&quot;type&quot;)\n    @PartType(MediaType.TEXT_PLAIN)\n    public String type;\n}\n</code></pre>\n<p>But i got 400 bad request. And on serverside an Exception occurs:</p>\n<p>[org.springframework.web.multipart.support.MissingServletRequestPartException: Required request part 'file' is not present]</p>\n<p>The call of the client looks like.</p>\n<pre><code>Body: --02d16fb7-e89e-4847-adaa-d64db0c86700\nContent-Disposition: form-data; name=&quot;file&quot;\nContent-Type: application/octet-stream\n\ntesterito\n--02d16fb7-e89e-4847-adaa-d64db0c86700\nContent-Disposition: form-data; name=&quot;name&quot;\nContent-Type: text/plain\n\ntest\n--02d16fb7-e89e-4847-adaa-d64db0c86700\nContent-Disposition: form-data; name=&quot;type&quot;\nContent-Type: text/plain\n\ntest\n--02d16fb7-e89e-4847-adaa-d64db0c86700-- \n</code></pre>\n<p>What im doing wrong?</p>\n"},{"tags":["java","kotlin","android-jetpack-compose","gif","android-viewmodel"],"owner":{"account_id":12711407,"reputation":250,"user_id":9234930,"display_name":"Youn Tivoli"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":281,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671440051,"creation_date":1671377216,"question_id":74842557,"body_markdown":"Hi everyone I&#39;m trying to save gif file locally in my storage from a **Uri** by glide.\r\n\r\nI&#39;ve been tried some code like below one but it didn&#39;t work,\r\n\r\nAnd all I get is `class com.bumptech.glide.load.engine.GlideException: Failed to load resource`\r\n\r\n```kotlin\r\n...\r\n\r\nfun saveGifLocally(ctx: Context, gifUri: Uri, path: String) {\r\n    viewModelScope.launch(Dispatchers.IO) {\r\n\r\n        val bytes = Glide.with(ctx)\r\n            .load(gifUri)\r\n            .into(250, 250)\r\n            .get()\r\n            .toBitmap()\r\n            .byteCount\r\n        \r\n        val file = File(path)\r\n        \r\n        FileOutputStream(file).use {\r\n            it.write(bytes)\r\n            it.flush()\r\n        }\r\n    }\r\n}\r\n\r\n...\r\n```\r\n\r\n```kotlin\r\n...\r\n\r\nval ctx = LocalContext.current\r\n\r\nsaveGifLocally(ctx,Uri.parse(&quot;https://media.giphy.com/media/26tn6t51nYZDwNIqI/giphy.gif&quot;),&quot;internalPath/test.gif&quot;)\r\n\r\n...\r\n```","title":"Load and save GIF file by Glide in Jetpack Compose","body":"<p>Hi everyone I'm trying to save gif file locally in my storage from a <strong>Uri</strong> by glide.</p>\n<p>I've been tried some code like below one but it didn't work,</p>\n<p>And all I get is <code>class com.bumptech.glide.load.engine.GlideException: Failed to load resource</code></p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>...\n\nfun saveGifLocally(ctx: Context, gifUri: Uri, path: String) {\n    viewModelScope.launch(Dispatchers.IO) {\n\n        val bytes = Glide.with(ctx)\n            .load(gifUri)\n            .into(250, 250)\n            .get()\n            .toBitmap()\n            .byteCount\n        \n        val file = File(path)\n        \n        FileOutputStream(file).use {\n            it.write(bytes)\n            it.flush()\n        }\n    }\n}\n\n...\n</code></pre>\n<pre class=\"lang-kotlin prettyprint-override\"><code>...\n\nval ctx = LocalContext.current\n\nsaveGifLocally(ctx,Uri.parse(&quot;https://media.giphy.com/media/26tn6t51nYZDwNIqI/giphy.gif&quot;),&quot;internalPath/test.gif&quot;)\n\n...\n</code></pre>\n"},{"tags":["java","vbscript","converters","documents4j"],"comments":[{"owner":{"account_id":1284143,"reputation":43090,"user_id":1237575,"accept_rate":96,"display_name":"Rafael Winterhalter"},"score":0,"creation_date":1464623167,"post_id":37280776,"comment_id":62549764,"body_markdown":"It seems like you might be using special characters somewhere in a file. VBS is complaining that you have less then three arguments provided in your script. Currentlty, there is a bug where spaces in any file name are not escaped properly and fail the conversion. Something similar seems to be the problem in your case.","body":"It seems like you might be using special characters somewhere in a file. VBS is complaining that you have less then three arguments provided in your script. Currentlty, there is a bug where spaces in any file name are not escaped properly and fail the conversion. Something similar seems to be the problem in your case."},{"owner":{"account_id":8387653,"reputation":1126,"user_id":6297496,"display_name":"Chetan Jadhav CD"},"score":0,"creation_date":1465243845,"post_id":37280776,"comment_id":62810370,"body_markdown":"Give proper path to test.doc, seems like the script isn&#39;t able to find them. Try putting it in a folder without spaces and refer to it like `File wordFile = new File(&quot;C:\\\\test\\\\test.doc&quot;);` A folder with spaces also should work, but try this one out first.","body":"Give proper path to test.doc, seems like the script isn&#39;t able to find them. Try putting it in a folder without spaces and refer to it like <code>File wordFile = new File(&quot;C:\\\\test\\\\test.doc&quot;);</code> A folder with spaces also should work, but try this one out first."}],"answers":[{"tags":[],"owner":{"account_id":1284143,"reputation":43090,"user_id":1237575,"accept_rate":96,"display_name":"Rafael Winterhalter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1482519177,"creation_date":1482519177,"answer_id":41306539,"question_id":37280776,"body_markdown":"This problem is most likely resolved in the newly released documents4j version 1.0.3 which adds proper escaping to the conversion script arguments. Previously, no arguments were escaped what can cause confusion when VBScript processes the script arguments as observed by you.","title":"Error when converting office files to pdf with documents4J: Class path contains multiple SLF4J bindings","body":"<p>This problem is most likely resolved in the newly released documents4j version 1.0.3 which adds proper escaping to the conversion script arguments. Previously, no arguments were escaped what can cause confusion when VBScript processes the script arguments as observed by you.</p>\n"}],"owner":{"account_id":8460019,"reputation":21,"user_id":6346091,"display_name":"Hans F"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4111,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1671440051,"creation_date":1463499732,"question_id":37280776,"body_markdown":"I am trying to use documents4J to convert the office files and images to PDF, but am getting &quot;_Class path contains multiple SLF4J bindings_&quot;.\r\n\r\nHere is my current code: \r\n\r\n    package documentsForJ;\r\n    import java.io.File;\r\n    import java.util.concurrent.Future;\r\n    import java.util.concurrent.TimeUnit;\r\n    import com.documents4j.api.DocumentType;\r\n    import com.documents4j.api.IConverter;\r\n    import com.documents4j.job.LocalConverter;\r\n    \r\n    public class App {\r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\tFile wordFile = new File(&quot;test.doc&quot;), target = new File(&quot;test.pdf&quot;);\r\n    \r\n    \t\tIConverter converter = LocalConverter.builder().baseFolder(new File(&quot;G:\\\\documentsForJ\\\\target&quot;))\r\n    \t\t\t\t.workerPool(20, 25, 2, TimeUnit.SECONDS)\r\n    \t\t\t\t.processTimeout(5, TimeUnit.SECONDS).build();\r\n    \r\n    \t\tFuture&lt;Boolean&gt; conversion = converter.convert(wordFile).as(DocumentType.DOCX).to(target).as(DocumentType.PDF)\r\n    \t\t\t\t// .prioritizeWith(1000) // optional\r\n    \t\t\t\t.schedule();\r\n    \r\n    \t}\r\n    }\r\n\r\n\r\nI have bind on the following Jars:\r\n\r\n - documents4j-api-1.0.2.jar documents4j-client-1.0.2.jar\r\n - documents4j-client-standalone-1.0.2-shaded.jar\r\n - documents4j-local-1.0.2.jar\r\n - documents4j-server-standalone-1.0.2-shaded.jar\r\n - documents4j-test-1.0.2.jar documents4j-transformer-api-1.0.2.jar\r\n - documents4j-transformer-msoffice-base-1.0.2.jar\r\n - documents4j-transformer-msoffice-excel-1.0.2.jar\r\n - documents4j-transformer-msoffice-test-1.0.2.jar\r\n - documents4j-transformer-msoffice-word-1.0.2.jar\r\n - documents4j-util-standalone-1.0.2.jar\r\n - documents4j-util-transformer-process-1.0.2.jar\r\n - documents4j-util-ws-1.0.2.jar documents4j-server-1.0.2.jar\r\n - documents4j-transformer-1.0.2.jar documents4j-util-all-1.0.2.jar\r\n - documents4j-util-conversion-1.0.2.jar\r\n\r\nWhen I run the Application, I get the following Error: \r\n\r\n    SLF4J: Class path contains multiple SLF4J bindings.\r\n    SLF4J: Found binding in [jar:file:/G:/AdminPrgs/Code/Java/eclipse/workspaceTest/documentsForJ/lib/documents4j-client-standalone-1.0.2-shaded.jar!/org/slf4j/impl/StaticLoggerBinder.class]\r\n    SLF4J: Found binding in [jar:file:/G:/AdminPrgs/Code/Java/eclipse/workspaceTest/documentsForJ/lib/documents4j-server-standalone-1.0.2-shaded.jar!/org/slf4j/impl/StaticLoggerBinder.class]\r\n    SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.\r\n    SLF4J: Actual binding is of type [ch.qos.logback.classic.util.ContextSelectorStaticBinder]\r\n    16:28:49.030 [main] DEBUG o.z.exec.ProcessExecutor - Executing [cmd, /C, &quot;C:\\temp\\excel_start1565707660.vbs&quot;] in C:\\temp.\r\n    16:28:49.038 [main] DEBUG o.z.exec.ProcessExecutor - Started java.lang.ProcessImpl@1bc6a36e\r\n    16:28:49.074 [WaitForProcess-java.lang.ProcessImpl@1bc6a36e] DEBUG o.zeroturnaround.exec.WaitForProcess - java.lang.ProcessImpl@1bc6a36e stopped with exit code 3\r\n    16:28:49.081 [main] INFO  c.d.c.msoffice.MicrosoftExcelBridge - From-Microsoft-Excel-Converter was started successfully\r\n    16:28:49.085 [main] DEBUG o.z.exec.ProcessExecutor - Executing [cmd, /C, &quot;C:\\temp\\word_start2143216009.vbs&quot;] in C:\\temp.\r\n    16:28:49.086 [main] DEBUG o.z.exec.ProcessExecutor - Started java.lang.ProcessImpl@6fffcba5\r\n    16:28:49.121 [WaitForProcess-java.lang.ProcessImpl@6fffcba5] DEBUG o.zeroturnaround.exec.WaitForProcess - java.lang.ProcessImpl@6fffcba5 stopped with exit code 3\r\n    16:28:49.121 [main] INFO  c.d.c.msoffice.MicrosoftWordBridge - From-Microsoft-Word-Converter was started successfully\r\n    16:28:49.132 [main] INFO  com.documents4j.job.LocalConverter - The documents4j local converter has started successfully\r\n    fertig!\r\n    16:28:49.145 [pool-1-thread-1] INFO  c.d.c.msoffice.MicrosoftExcelBridge - Requested conversion from AbrechnungKFZ-Kosten.xls (application/vnd.ms-excel) to AbrechnungKFZ-Kosten.pdf (application/pdf)\r\n    16:28:49.148 [pool-1-thread-1] DEBUG o.z.exec.ProcessExecutor - Executing [cmd, /C, &quot;C:\\temp\\excel_convert961528339.vbs G:\\AdminPrgs\\Code\\Java\\eclipse\\workspaceTest\\documentsForJ\\AbrechnungKFZ-Kosten.xls G:\\AdminPrgs\\Code\\Java\\eclipse\\workspaceTest\\documentsForJ\\AbrechnungKFZ-Kosten.pdf 999&quot;] in C:\\temp.\r\n    16:28:49.148 [pool-1-thread-1] DEBUG o.z.exec.ProcessExecutor - Started java.lang.ProcessImpl@39bd6b04\r\n    16:28:49.188 [WaitForProcess-java.lang.ProcessImpl@39bd6b04] DEBUG o.zeroturnaround.exec.WaitForProcess - java.lang.ProcessImpl@39bd6b04 stopped with exit code -4\r\n\r\nThe generated VBS C:\\temp\\excel_start1565707660.vbs gives the following error:[enter image description here][2]\r\n\r\nAnd that is the code of the generated vbs:\r\n\r\n    &#39; See http://msdn.microsoft.com/en-us/library/bb243311%28v=office.12%29.aspx\r\n    Const WdExportFormatPDF = 17\r\n    Const MagicFormatPDF = 999\r\n    \r\n    Dim arguments\r\n    Set arguments = WScript.Arguments\r\n    \r\n    &#39; Transforms a file using MS Excel into the given format.\r\n    Function ConvertFile( inputFile, outputFile, formatEnumeration )\r\n    \r\n      Dim fileSystemObject\r\n      Dim excelApplication\r\n      Dim excelDocument\r\n    \r\n      &#39; Get the running instance of MS Excel. If Excel is not running, exit the conversion.\r\n      On Error Resume Next\r\n      Set excelApplication = GetObject(, &quot;Excel.Application&quot;)\r\n      If Err &lt;&gt; 0 Then\r\n        WScript.Quit -6\r\n      End If\r\n      On Error GoTo 0\r\n    \r\n      &#39; Find the source file on the file system.\r\n      Set fileSystemObject = CreateObject(&quot;Scripting.FileSystemObject&quot;)\r\n      inputFile = fileSystemObject.GetAbsolutePathName(inputFile)\r\n    \r\n      \r\n      &#39; Convert the source file only if it exists.\r\n      If fileSystemObject.FileExists(inputFile) Then\r\n    \r\n        &#39; Attempt to open the source document.\r\n        On Error Resume Next\r\n        Set excelDocument = excelApplication.Workbooks.Open(inputFile, , True, , , , , , , , , , , , 2)\r\n        If Err &lt;&gt; 0 Then\r\n            WScript.Quit -2\r\n        End If\r\n        On Error GoTo 0\r\n    \r\n        &#39; Convert: See http://msdn2.microsoft.com/en-us/library/bb221597.aspx\r\n        On Error Resume Next\r\n        If formatEnumeration = MagicFormatPDF Then\r\n          excelDocument.ExportAsFixedFormat xlTypePDF, outputFile\r\n        Else\r\n          excelDocument.SaveAs outputFile, formatEnumeration\r\n        End If\r\n    \r\n        &#39; Close the source document.\r\n        excelDocument.Close False\r\n        If Err &lt;&gt; 0 Then\r\n            WScript.Quit -3\r\n        End If\r\n        On Error GoTo 0\r\n    \r\n        &#39; Signal that the conversion was successful.\r\n        WScript.Quit 2\r\n    \r\n      Else\r\n    \r\n        &#39; Files does not exist, could not convert\r\n        WScript.Quit -4\r\n    \r\n      End If\r\n    \r\n    End Function\r\n    \r\n    &#39; Execute the script.\r\n    Call ConvertFile( arguments.Unnamed.Item(0), arguments.Unnamed.Item(1), CInt(arguments.Unnamed.Item(2)) )\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/izani.png\r\n  [2]: http://i.stack.imgur.com/Ezx55.png\r\n\r\nWhy is this error happening, and how can the problem be fixed?","title":"Error when converting office files to pdf with documents4J: Class path contains multiple SLF4J bindings","body":"<p>I am trying to use documents4J to convert the office files and images to PDF, but am getting &quot;<em>Class path contains multiple SLF4J bindings</em>&quot;.</p>\n<p>Here is my current code:</p>\n<pre><code>package documentsForJ;\nimport java.io.File;\nimport java.util.concurrent.Future;\nimport java.util.concurrent.TimeUnit;\nimport com.documents4j.api.DocumentType;\nimport com.documents4j.api.IConverter;\nimport com.documents4j.job.LocalConverter;\n\npublic class App {\n    public static void main(String[] args) {\n\n        File wordFile = new File(&quot;test.doc&quot;), target = new File(&quot;test.pdf&quot;);\n\n        IConverter converter = LocalConverter.builder().baseFolder(new File(&quot;G:\\\\documentsForJ\\\\target&quot;))\n                .workerPool(20, 25, 2, TimeUnit.SECONDS)\n                .processTimeout(5, TimeUnit.SECONDS).build();\n\n        Future&lt;Boolean&gt; conversion = converter.convert(wordFile).as(DocumentType.DOCX).to(target).as(DocumentType.PDF)\n                // .prioritizeWith(1000) // optional\n                .schedule();\n\n    }\n}\n</code></pre>\n<p>I have bind on the following Jars:</p>\n<ul>\n<li>documents4j-api-1.0.2.jar documents4j-client-1.0.2.jar</li>\n<li>documents4j-client-standalone-1.0.2-shaded.jar</li>\n<li>documents4j-local-1.0.2.jar</li>\n<li>documents4j-server-standalone-1.0.2-shaded.jar</li>\n<li>documents4j-test-1.0.2.jar documents4j-transformer-api-1.0.2.jar</li>\n<li>documents4j-transformer-msoffice-base-1.0.2.jar</li>\n<li>documents4j-transformer-msoffice-excel-1.0.2.jar</li>\n<li>documents4j-transformer-msoffice-test-1.0.2.jar</li>\n<li>documents4j-transformer-msoffice-word-1.0.2.jar</li>\n<li>documents4j-util-standalone-1.0.2.jar</li>\n<li>documents4j-util-transformer-process-1.0.2.jar</li>\n<li>documents4j-util-ws-1.0.2.jar documents4j-server-1.0.2.jar</li>\n<li>documents4j-transformer-1.0.2.jar documents4j-util-all-1.0.2.jar</li>\n<li>documents4j-util-conversion-1.0.2.jar</li>\n</ul>\n<p>When I run the Application, I get the following Error:</p>\n<pre><code>SLF4J: Class path contains multiple SLF4J bindings.\nSLF4J: Found binding in [jar:file:/G:/AdminPrgs/Code/Java/eclipse/workspaceTest/documentsForJ/lib/documents4j-client-standalone-1.0.2-shaded.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: Found binding in [jar:file:/G:/AdminPrgs/Code/Java/eclipse/workspaceTest/documentsForJ/lib/documents4j-server-standalone-1.0.2-shaded.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.\nSLF4J: Actual binding is of type [ch.qos.logback.classic.util.ContextSelectorStaticBinder]\n16:28:49.030 [main] DEBUG o.z.exec.ProcessExecutor - Executing [cmd, /C, &quot;C:\\temp\\excel_start1565707660.vbs&quot;] in C:\\temp.\n16:28:49.038 [main] DEBUG o.z.exec.ProcessExecutor - Started java.lang.ProcessImpl@1bc6a36e\n16:28:49.074 [WaitForProcess-java.lang.ProcessImpl@1bc6a36e] DEBUG o.zeroturnaround.exec.WaitForProcess - java.lang.ProcessImpl@1bc6a36e stopped with exit code 3\n16:28:49.081 [main] INFO  c.d.c.msoffice.MicrosoftExcelBridge - From-Microsoft-Excel-Converter was started successfully\n16:28:49.085 [main] DEBUG o.z.exec.ProcessExecutor - Executing [cmd, /C, &quot;C:\\temp\\word_start2143216009.vbs&quot;] in C:\\temp.\n16:28:49.086 [main] DEBUG o.z.exec.ProcessExecutor - Started java.lang.ProcessImpl@6fffcba5\n16:28:49.121 [WaitForProcess-java.lang.ProcessImpl@6fffcba5] DEBUG o.zeroturnaround.exec.WaitForProcess - java.lang.ProcessImpl@6fffcba5 stopped with exit code 3\n16:28:49.121 [main] INFO  c.d.c.msoffice.MicrosoftWordBridge - From-Microsoft-Word-Converter was started successfully\n16:28:49.132 [main] INFO  com.documents4j.job.LocalConverter - The documents4j local converter has started successfully\nfertig!\n16:28:49.145 [pool-1-thread-1] INFO  c.d.c.msoffice.MicrosoftExcelBridge - Requested conversion from AbrechnungKFZ-Kosten.xls (application/vnd.ms-excel) to AbrechnungKFZ-Kosten.pdf (application/pdf)\n16:28:49.148 [pool-1-thread-1] DEBUG o.z.exec.ProcessExecutor - Executing [cmd, /C, &quot;C:\\temp\\excel_convert961528339.vbs G:\\AdminPrgs\\Code\\Java\\eclipse\\workspaceTest\\documentsForJ\\AbrechnungKFZ-Kosten.xls G:\\AdminPrgs\\Code\\Java\\eclipse\\workspaceTest\\documentsForJ\\AbrechnungKFZ-Kosten.pdf 999&quot;] in C:\\temp.\n16:28:49.148 [pool-1-thread-1] DEBUG o.z.exec.ProcessExecutor - Started java.lang.ProcessImpl@39bd6b04\n16:28:49.188 [WaitForProcess-java.lang.ProcessImpl@39bd6b04] DEBUG o.zeroturnaround.exec.WaitForProcess - java.lang.ProcessImpl@39bd6b04 stopped with exit code -4\n</code></pre>\n<p>The generated VBS C:\\temp\\excel_start1565707660.vbs gives the following error:<a href=\"https://i.stack.imgur.com/Ezx55.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>And that is the code of the generated vbs:</p>\n<pre><code>' See http://msdn.microsoft.com/en-us/library/bb243311%28v=office.12%29.aspx\nConst WdExportFormatPDF = 17\nConst MagicFormatPDF = 999\n\nDim arguments\nSet arguments = WScript.Arguments\n\n' Transforms a file using MS Excel into the given format.\nFunction ConvertFile( inputFile, outputFile, formatEnumeration )\n\n  Dim fileSystemObject\n  Dim excelApplication\n  Dim excelDocument\n\n  ' Get the running instance of MS Excel. If Excel is not running, exit the conversion.\n  On Error Resume Next\n  Set excelApplication = GetObject(, &quot;Excel.Application&quot;)\n  If Err &lt;&gt; 0 Then\n    WScript.Quit -6\n  End If\n  On Error GoTo 0\n\n  ' Find the source file on the file system.\n  Set fileSystemObject = CreateObject(&quot;Scripting.FileSystemObject&quot;)\n  inputFile = fileSystemObject.GetAbsolutePathName(inputFile)\n\n  \n  ' Convert the source file only if it exists.\n  If fileSystemObject.FileExists(inputFile) Then\n\n    ' Attempt to open the source document.\n    On Error Resume Next\n    Set excelDocument = excelApplication.Workbooks.Open(inputFile, , True, , , , , , , , , , , , 2)\n    If Err &lt;&gt; 0 Then\n        WScript.Quit -2\n    End If\n    On Error GoTo 0\n\n    ' Convert: See http://msdn2.microsoft.com/en-us/library/bb221597.aspx\n    On Error Resume Next\n    If formatEnumeration = MagicFormatPDF Then\n      excelDocument.ExportAsFixedFormat xlTypePDF, outputFile\n    Else\n      excelDocument.SaveAs outputFile, formatEnumeration\n    End If\n\n    ' Close the source document.\n    excelDocument.Close False\n    If Err &lt;&gt; 0 Then\n        WScript.Quit -3\n    End If\n    On Error GoTo 0\n\n    ' Signal that the conversion was successful.\n    WScript.Quit 2\n\n  Else\n\n    ' Files does not exist, could not convert\n    WScript.Quit -4\n\n  End If\n\nEnd Function\n\n' Execute the script.\nCall ConvertFile( arguments.Unnamed.Item(0), arguments.Unnamed.Item(1), CInt(arguments.Unnamed.Item(2)) )\n</code></pre>\n<p>Why is this error happening, and how can the problem be fixed?</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":18378745,"reputation":802,"user_id":13387235,"display_name":"Dhruv Sakariya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671440019,"creation_date":1671440019,"answer_id":74848123,"question_id":74848103,"body_markdown":"try this.\r\n\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        android:tag=&quot;cards main container&quot;&gt;\r\n    \r\n        &lt;androidx.cardview.widget.CardView\r\n            android:id=&quot;@+id/card_view&quot;\r\n            xmlns:card_view=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            card_view:cardBackgroundColor=&quot;@color/color_white&quot;\r\n            card_view:cardCornerRadius=&quot;10dp&quot;\r\n            card_view:cardElevation=&quot;5dp&quot;\r\n            card_view:cardUseCompatPadding=&quot;true&quot;&gt;\r\n    \r\n    \r\n            &lt;LinearLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:orientation=&quot;horizontal&quot;\r\n                &gt;\r\n    \r\n                &lt;ImageView\r\n                    android:id=&quot;@+id/imageView&quot;\r\n                    android:tag=&quot;image_tag&quot;\r\n                    android:layout_width=&quot;0dp&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_margin=&quot;5dp&quot;\r\n                    android:layout_weight=&quot;1&quot;\r\n                    android:src=&quot;@drawable/ic_launcher&quot;/&gt;\r\n    \r\n                &lt;LinearLayout\r\n                    android:layout_width=&quot;0dp&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_marginTop=&quot;12dp&quot;\r\n                    android:layout_weight=&quot;2&quot;\r\n                    android:orientation=&quot;vertical&quot;\r\n                    &gt;\r\n    \r\n                    &lt;TextView\r\n                        android:id=&quot;@+id/textViewName&quot;\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:layout_gravity=&quot;center_horizontal&quot;\r\n                        android:layout_marginTop=&quot;10dp&quot;\r\n                        android:text=&quot;Android Name&quot;\r\n                        android:textAppearance=&quot;?android:attr/textAppearanceLarge&quot;/&gt;\r\n    \r\n                    &lt;TextView\r\n                        android:id=&quot;@+id/textViewVersion&quot;\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:layout_gravity=&quot;center_horizontal&quot;\r\n                        android:layout_marginTop=&quot;10dp&quot;\r\n    \r\n                        android:text=&quot;Android Version&quot;\r\n                        android:textAppearance=&quot;?android:attr/textAppearanceMedium&quot;/&gt;\r\n    \r\n                &lt;/LinearLayout&gt;\r\n            &lt;/LinearLayout&gt;\r\n    \r\n        &lt;/androidx.cardview.widget.CardView&gt;\r\n    \r\n    &lt;/LinearLayout&gt;","title":"how decreasing recyleview card size is Shows me too much space. Need to reduce this","body":"<p>try this.</p>\n<pre><code>&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:orientation=&quot;vertical&quot;\n    android:tag=&quot;cards main container&quot;&gt;\n\n    &lt;androidx.cardview.widget.CardView\n        android:id=&quot;@+id/card_view&quot;\n        xmlns:card_view=&quot;http://schemas.android.com/apk/res-auto&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        card_view:cardBackgroundColor=&quot;@color/color_white&quot;\n        card_view:cardCornerRadius=&quot;10dp&quot;\n        card_view:cardElevation=&quot;5dp&quot;\n        card_view:cardUseCompatPadding=&quot;true&quot;&gt;\n\n\n        &lt;LinearLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:orientation=&quot;horizontal&quot;\n            &gt;\n\n            &lt;ImageView\n                android:id=&quot;@+id/imageView&quot;\n                android:tag=&quot;image_tag&quot;\n                android:layout_width=&quot;0dp&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_margin=&quot;5dp&quot;\n                android:layout_weight=&quot;1&quot;\n                android:src=&quot;@drawable/ic_launcher&quot;/&gt;\n\n            &lt;LinearLayout\n                android:layout_width=&quot;0dp&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginTop=&quot;12dp&quot;\n                android:layout_weight=&quot;2&quot;\n                android:orientation=&quot;vertical&quot;\n                &gt;\n\n                &lt;TextView\n                    android:id=&quot;@+id/textViewName&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_gravity=&quot;center_horizontal&quot;\n                    android:layout_marginTop=&quot;10dp&quot;\n                    android:text=&quot;Android Name&quot;\n                    android:textAppearance=&quot;?android:attr/textAppearanceLarge&quot;/&gt;\n\n                &lt;TextView\n                    android:id=&quot;@+id/textViewVersion&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_gravity=&quot;center_horizontal&quot;\n                    android:layout_marginTop=&quot;10dp&quot;\n\n                    android:text=&quot;Android Version&quot;\n                    android:textAppearance=&quot;?android:attr/textAppearanceMedium&quot;/&gt;\n\n            &lt;/LinearLayout&gt;\n        &lt;/LinearLayout&gt;\n\n    &lt;/androidx.cardview.widget.CardView&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n"}],"owner":{"display_name":"user20801452"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74848123,"answer_count":1,"score":1,"last_activity_date":1671440019,"creation_date":1671439927,"question_id":74848103,"body_markdown":"recyleview card size is decreasing how to reduce this. I have given the image below, look at it and predict. I should not have space.this card layout recyleview size decrease.I tried many times but I could not reduce the size this long size  i am new android devloper how to decreasing space card view \r\n[![enter image description here](https://i.stack.imgur.com/gn5A6.jpg)](https://i.stack.imgur.com/gn5A6.jpg)\r\n\r\n````\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n   &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    android:tag=&quot;cards main container&quot;&gt;\r\n\r\n    &lt;androidx.cardview.widget.CardView\r\n        android:id=&quot;@+id/card_view&quot;\r\n        xmlns:card_view=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        card_view:cardBackgroundColor=&quot;@color/color_white&quot;\r\n        card_view:cardCornerRadius=&quot;10dp&quot;\r\n        card_view:cardElevation=&quot;5dp&quot;\r\n        card_view:cardUseCompatPadding=&quot;true&quot;&gt;\r\n\r\n\r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:orientation=&quot;horizontal&quot;\r\n            &gt;\r\n\r\n            &lt;ImageView\r\n                android:id=&quot;@+id/imageView&quot;\r\n                android:tag=&quot;image_tag&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_margin=&quot;5dp&quot;\r\n                android:layout_weight=&quot;1&quot;\r\n                android:src=&quot;@drawable/ic_launcher&quot;/&gt;\r\n\r\n            &lt;LinearLayout\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginTop=&quot;12dp&quot;\r\n                android:layout_weight=&quot;2&quot;\r\n                android:orientation=&quot;vertical&quot;\r\n                &gt;\r\n\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/textViewName&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_gravity=&quot;center_horizontal&quot;\r\n                    android:layout_marginTop=&quot;10dp&quot;\r\n                    android:text=&quot;Android Name&quot;\r\n                    android:textAppearance=&quot;?android:attr/textAppearanceLarge&quot;/&gt;\r\n\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/textViewVersion&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_gravity=&quot;center_horizontal&quot;\r\n                    android:layout_marginTop=&quot;10dp&quot;\r\n\r\n                    android:text=&quot;Android Version&quot;\r\n                    android:textAppearance=&quot;?android:attr/textAppearanceMedium&quot;/&gt;\r\n\r\n            &lt;/LinearLayout&gt;\r\n        &lt;/LinearLayout&gt;\r\n\r\n    &lt;/androidx.cardview.widget.CardView&gt;\r\n\r\n&lt;/LinearLayout&gt;\r\n\r\n\r\n\r\n```\r\n`\r\n\r\nhow to decreasing space card view ","title":"how decreasing recyleview card size is Shows me too much space. Need to reduce this","body":"<p>recyleview card size is decreasing how to reduce this. I have given the image below, look at it and predict. I should not have space.this card layout recyleview size decrease.I tried many times but I could not reduce the size this long size  i am new android devloper how to decreasing space card view\n<a href=\"https://i.stack.imgur.com/gn5A6.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gn5A6.jpg\" alt=\"enter image description here\" /></a></p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n   &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:orientation=&quot;vertical&quot;\n    android:tag=&quot;cards main container&quot;&gt;\n\n    &lt;androidx.cardview.widget.CardView\n        android:id=&quot;@+id/card_view&quot;\n        xmlns:card_view=&quot;http://schemas.android.com/apk/res-auto&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        card_view:cardBackgroundColor=&quot;@color/color_white&quot;\n        card_view:cardCornerRadius=&quot;10dp&quot;\n        card_view:cardElevation=&quot;5dp&quot;\n        card_view:cardUseCompatPadding=&quot;true&quot;&gt;\n\n\n        &lt;LinearLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:orientation=&quot;horizontal&quot;\n            &gt;\n\n            &lt;ImageView\n                android:id=&quot;@+id/imageView&quot;\n                android:tag=&quot;image_tag&quot;\n                android:layout_width=&quot;0dp&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_margin=&quot;5dp&quot;\n                android:layout_weight=&quot;1&quot;\n                android:src=&quot;@drawable/ic_launcher&quot;/&gt;\n\n            &lt;LinearLayout\n                android:layout_width=&quot;0dp&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginTop=&quot;12dp&quot;\n                android:layout_weight=&quot;2&quot;\n                android:orientation=&quot;vertical&quot;\n                &gt;\n\n                &lt;TextView\n                    android:id=&quot;@+id/textViewName&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_gravity=&quot;center_horizontal&quot;\n                    android:layout_marginTop=&quot;10dp&quot;\n                    android:text=&quot;Android Name&quot;\n                    android:textAppearance=&quot;?android:attr/textAppearanceLarge&quot;/&gt;\n\n                &lt;TextView\n                    android:id=&quot;@+id/textViewVersion&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_gravity=&quot;center_horizontal&quot;\n                    android:layout_marginTop=&quot;10dp&quot;\n\n                    android:text=&quot;Android Version&quot;\n                    android:textAppearance=&quot;?android:attr/textAppearanceMedium&quot;/&gt;\n\n            &lt;/LinearLayout&gt;\n        &lt;/LinearLayout&gt;\n\n    &lt;/androidx.cardview.widget.CardView&gt;\n\n&lt;/LinearLayout&gt;\n\n\n\n```\n`\n\nhow to decreasing space card view \n</code></pre>\n"},{"tags":["java","android"],"owner":{"account_id":2082670,"reputation":591,"user_id":1854333,"accept_rate":76,"display_name":"Paiku Han"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":414,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1671439697,"creation_date":1655456806,"question_id":72656924,"body_markdown":"I&#39;m trying to use Watson Speech to Text API in my Android app on TV. I tried it on the TV emulator and, after enabling the mic on the virtual remote, the app work as it supposed to. But when I try the app on real hardware, its not recording my speech at all.\r\n\r\nSo what I did is add a piece of code found in the validated answer for [&quot;How to check if android microphone is available for use?&quot;][1]. Then I added code in the onKeyDown() function of my class extendind GLSurfaceView to check if the center key of the keypad is pressed. In which case the app check if the device got mic then display the appropriate message depending on the availability of th microphone.\r\n\r\n**code-listing 1**: check for mic\r\n\r\n    public class OpenGLView extends GLSurfaceView\r\n    {\r\n\r\n        //constructors and other member functions here\r\n    \r\n        @Override\r\n        public boolean onKeyDown(int keyCode, KeyEvent event)\r\n        {\r\n            switch(keyCode)\r\n            {\r\n                case KeyEvent.KEYCODE_DPAD_CENTER:\r\n                    if(getMicrophoneAvailable(ctx))\r\n                    {\r\n                        Toast.makeText(Display.getInstance().getContext(), &quot;Microphone available!&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                    else\r\n                    {\r\n                        Toast.makeText(Display.getInstance().getContext(), &quot;Microphone not available!&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n            }\r\n            \r\n            return super.onKeyDown(keyCode, event);\r\n        }\r\n    }\r\n\r\n\r\nI tried the modified app on emulator with and without the mic enabled. the toast saying &quot;Microphone available!&quot; is the only one showing. Same thing when I try on my Android TV device. Either the code I got from [&quot;How to check if android microphone is available for use?&quot;][1] is not working as it was supposed to or microphone availability and activation is different on Android TV. I am hoping for the later. That&#39;s why I am here.\r\n\r\nI&#39;m wondering how to enable microphone programmatically. And I think it can be done because one can enable Voice Assistant menu at the top-left most menu on the TV by pushing the center DPAD button.\r\n\r\n[![Top menu with Voice Assistant selected][2]][2]\r\n\r\nThe Android TV device I&#39;m using has no mic on it but the mic is on the remote as seen on the picture below (mic hole on top left corner):\r\n\r\n[![Android TV Remote][3]][3]\r\n\r\nAlso note that I&#39;m loading the microphone for recording this way.\r\n\r\n**code-listing 3**: loading and starting the mic\r\n\r\n\r\n    MediaRecorder mediaRecorder = new MediaRecorder();\r\n    mediaRecorder.setAudioSource(MediaRecorder.AudioSource.MIC);\r\n    mediaRecorder.setOutputFormat(MediaRecorder.OutputFormat.THREE_GPP);\r\n    mediaRecorder.setAudioEncoder(MediaRecorder.AudioEncoder.AMR_NB);\r\n    mediaRecorder.setOutputFile(&quot;file.3gp&quot;);\r\n    \r\n    mediaRecorder.prepare();\r\n    mediaRecorder.start();\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/22677749/how-to-check-if-android-microphone-is-available-for-use/22677778#22677778\r\n  [2]: https://i.stack.imgur.com/OYCWs.png\r\n  [3]: https://i.stack.imgur.com/xhuYF.jpg","title":"How to capture TV remote microphone on Android TV OS?","body":"<p>I'm trying to use Watson Speech to Text API in my Android app on TV. I tried it on the TV emulator and, after enabling the mic on the virtual remote, the app work as it supposed to. But when I try the app on real hardware, its not recording my speech at all.</p>\n<p>So what I did is add a piece of code found in the validated answer for <a href=\"https://stackoverflow.com/questions/22677749/how-to-check-if-android-microphone-is-available-for-use/22677778#22677778\">&quot;How to check if android microphone is available for use?&quot;</a>. Then I added code in the onKeyDown() function of my class extendind GLSurfaceView to check if the center key of the keypad is pressed. In which case the app check if the device got mic then display the appropriate message depending on the availability of th microphone.</p>\n<p><strong>code-listing 1</strong>: check for mic</p>\n<pre><code>public class OpenGLView extends GLSurfaceView\n{\n\n    //constructors and other member functions here\n\n    @Override\n    public boolean onKeyDown(int keyCode, KeyEvent event)\n    {\n        switch(keyCode)\n        {\n            case KeyEvent.KEYCODE_DPAD_CENTER:\n                if(getMicrophoneAvailable(ctx))\n                {\n                    Toast.makeText(Display.getInstance().getContext(), &quot;Microphone available!&quot;, Toast.LENGTH_SHORT).show();\n                }\n                else\n                {\n                    Toast.makeText(Display.getInstance().getContext(), &quot;Microphone not available!&quot;, Toast.LENGTH_SHORT).show();\n                }\n        }\n        \n        return super.onKeyDown(keyCode, event);\n    }\n}\n</code></pre>\n<p>I tried the modified app on emulator with and without the mic enabled. the toast saying &quot;Microphone available!&quot; is the only one showing. Same thing when I try on my Android TV device. Either the code I got from <a href=\"https://stackoverflow.com/questions/22677749/how-to-check-if-android-microphone-is-available-for-use/22677778#22677778\">&quot;How to check if android microphone is available for use?&quot;</a> is not working as it was supposed to or microphone availability and activation is different on Android TV. I am hoping for the later. That's why I am here.</p>\n<p>I'm wondering how to enable microphone programmatically. And I think it can be done because one can enable Voice Assistant menu at the top-left most menu on the TV by pushing the center DPAD button.</p>\n<p><a href=\"https://i.stack.imgur.com/OYCWs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OYCWs.png\" alt=\"Top menu with Voice Assistant selected\" /></a></p>\n<p>The Android TV device I'm using has no mic on it but the mic is on the remote as seen on the picture below (mic hole on top left corner):</p>\n<p><a href=\"https://i.stack.imgur.com/xhuYF.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xhuYF.jpg\" alt=\"Android TV Remote\" /></a></p>\n<p>Also note that I'm loading the microphone for recording this way.</p>\n<p><strong>code-listing 3</strong>: loading and starting the mic</p>\n<pre><code>MediaRecorder mediaRecorder = new MediaRecorder();\nmediaRecorder.setAudioSource(MediaRecorder.AudioSource.MIC);\nmediaRecorder.setOutputFormat(MediaRecorder.OutputFormat.THREE_GPP);\nmediaRecorder.setAudioEncoder(MediaRecorder.AudioEncoder.AMR_NB);\nmediaRecorder.setOutputFile(&quot;file.3gp&quot;);\n\nmediaRecorder.prepare();\nmediaRecorder.start();\n</code></pre>\n"},{"tags":["java","spring","spring-boot","hibernate","quarkus"],"comments":[{"owner":{"account_id":6790343,"reputation":1483,"user_id":5227721,"display_name":"Berk Kurkcuoglu"},"score":0,"creation_date":1671227880,"post_id":74829960,"comment_id":132061999,"body_markdown":"First thing that comes to my mind is adding an HTTP interceptor to determine and setting the user time zone in the global context and then using a util class to perform date time operations. Is that a viable option for you or are you looking for a more generic solution?","body":"First thing that comes to my mind is adding an HTTP interceptor to determine and setting the user time zone in the global context and then using a util class to perform date time operations. Is that a viable option for you or are you looking for a more generic solution?"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1671228844,"post_id":74829960,"comment_id":132062168,"body_markdown":"Related: [*Pass browser timezone to the backend springboot application to generate reports with dates as per the browser timezone*](https://stackoverflow.com/q/53496921/642706)","body":"Related: <a href=\"https://stackoverflow.com/q/53496921/642706\"><i>Pass browser timezone to the backend springboot application to generate reports with dates as per the browser timezone</i></a>"},{"owner":{"account_id":76507,"reputation":3223,"user_id":218971,"display_name":"Michał Zalewski"},"score":0,"creation_date":1671231298,"post_id":74829960,"comment_id":132062599,"body_markdown":"@BerkKurkcuoglu I tried with HTTP interceptor and separate service injected per request but it has one downside. I need to remember to always convert date/time loaded from database to user time zone. I&#39;m looking for more generic solution, I want to avoid simple mistakes. Using separate utilclass I need to remember to use it in all places and can miss by mistake.","body":"@BerkKurkcuoglu I tried with HTTP interceptor and separate service injected per request but it has one downside. I need to remember to always convert date/time loaded from database to user time zone. I&#39;m looking for more generic solution, I want to avoid simple mistakes. Using separate utilclass I need to remember to use it in all places and can miss by mistake."},{"owner":{"account_id":76507,"reputation":3223,"user_id":218971,"display_name":"Michał Zalewski"},"score":0,"creation_date":1671231526,"post_id":74829960,"comment_id":132062644,"body_markdown":"@BerkKurkcuoglu I needed to split into two comments :) I&#39;m looking for something similar to Ruby on Rails solution. They provide option to set up time zone for given request and ORM always use that time zone. ORM converts UTC to user time zone on loading data from database. I also think about Hibernate Interceptor to convert date/time to user time zone but I don&#39;t know is it good idea to do that. I will update question to add info about that.","body":"@BerkKurkcuoglu I needed to split into two comments :) I&#39;m looking for something similar to Ruby on Rails solution. They provide option to set up time zone for given request and ORM always use that time zone. ORM converts UTC to user time zone on loading data from database. I also think about Hibernate Interceptor to convert date/time to user time zone but I don&#39;t know is it good idea to do that. I will update question to add info about that."}],"answers":[{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671235158,"creation_date":1671234487,"answer_id":74830816,"question_id":74829960,"body_markdown":"I think this is simple and for some reason you have some over complicated situation.\r\n\r\nIf this was a `spring-mvc` application I would understood the need for UI-backend communication with some type of timezone. But you probably have a rest backend application since you are mentioning `quarkus` / `spring-boot`. Rest application is normally stateless.\r\n\r\nI think that this [article][1] from the very known **@vlad-mihalcea** also verifies what needs to be followed as best practice.  It concludes with what I also agree 100%.\r\n\r\n&gt; When dealing with time zones, it’s best to use UTC as much as possible\r\n&gt; and only convert the timestamp to the current user time zone when\r\n&gt; rendering the UI.\r\n\r\nSo I think your problem would be much simplified if you used UTC for database, UTC for backend server and you just used timezone in the UI just for the user to read it, by just converting from UTC to user&#39;s timezone. If you have the normal stateless rest application then the backend is completely agnostic for user timezone. The user lives in the browser window and so only the frontend knows about user timezone.\r\n\r\nEven if we suppose that you need to remember the timezone of the user, then you can store the specific timezone for the user in database (user A has timezone GMT+2), and then the UI can poll it once and then convert all data it receives from backend to that timezone for that specific user.\r\n\r\nSo if you make calculations in the backend related with user `timezone` and you also persist timezones in Database, I would look at this as a probable architecture deficiency which will might overcomplicate the situation in the future even if you manage to solve your issue for the moment.\r\n\r\n\r\n\r\n\r\n  [1]: https://vladmihalcea.com/time-zones-java-web-application/\r\n  [2]: https://stackoverflow.com/a/39086534/7237884","title":"How to handle timezone per user in web application using Quarkus or Spring Boot?","body":"<p>I think this is simple and for some reason you have some over complicated situation.</p>\n<p>If this was a <code>spring-mvc</code> application I would understood the need for UI-backend communication with some type of timezone. But you probably have a rest backend application since you are mentioning <code>quarkus</code> / <code>spring-boot</code>. Rest application is normally stateless.</p>\n<p>I think that this <a href=\"https://vladmihalcea.com/time-zones-java-web-application/\" rel=\"nofollow noreferrer\">article</a> from the very known <strong>@vlad-mihalcea</strong> also verifies what needs to be followed as best practice.  It concludes with what I also agree 100%.</p>\n<blockquote>\n<p>When dealing with time zones, it’s best to use UTC as much as possible\nand only convert the timestamp to the current user time zone when\nrendering the UI.</p>\n</blockquote>\n<p>So I think your problem would be much simplified if you used UTC for database, UTC for backend server and you just used timezone in the UI just for the user to read it, by just converting from UTC to user's timezone. If you have the normal stateless rest application then the backend is completely agnostic for user timezone. The user lives in the browser window and so only the frontend knows about user timezone.</p>\n<p>Even if we suppose that you need to remember the timezone of the user, then you can store the specific timezone for the user in database (user A has timezone GMT+2), and then the UI can poll it once and then convert all data it receives from backend to that timezone for that specific user.</p>\n<p>So if you make calculations in the backend related with user <code>timezone</code> and you also persist timezones in Database, I would look at this as a probable architecture deficiency which will might overcomplicate the situation in the future even if you manage to solve your issue for the moment.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1671439667,"creation_date":1671365255,"answer_id":74841183,"question_id":74829960,"body_markdown":"# Appointments are not moments\r\n\r\nAppointments should not be kept as moments. An appointment booked in the future, when driven by a time-of-day, cannot be pinned down to a particular point on the timeline. \r\n\r\nThe reason is that political time is controlled by politicians. And those politicians can change the rules of the time zones under their jurisdiction on a whim at any moment. So if you try to nail down the moment of an appointment next January 23rd at 3 PM, you’ll be early or late when the [politicians decide to stay on Daylight Saving Time year-round][1]. Or you’ll be a half-hour off when the [politicians decide to change their clock to match that of a neighbor][2] as a diplomatic gesture. \r\n\r\nSo you should keep appointments as a date with a time-of-day but keep the time zone separately. So *two* separate values. \r\n\r\n - In Java that means a `LocalDateTime` and a `ZoneId`. \r\n - In SQL that means one column of a type akin to the SQL standard type `TIMESTAMP WITHOUT TIME ZONE`, and another column of a textual type for the name of the time zone.\r\n\r\nWhen you need to build a schedule, you can determine a moment dynamically by combining the `LocalDateTime` with a `ZoneId` to produce a `ZonedDateTime`. Do not store this result — it will not be valid when the politicians change the time zone rules. \r\n\r\nNotice that the above is for appointments such as dentists and hair stylists and photographers, for appointments aimed at a particular time of the day. In contrast are plans tied to *natural* time such as a rocket launch scheduled according to expected weather conditions. Such plans are not altered by politicians changing the rules of a time zone. Such plans are recorded using a column of a type akin to SQL standard type `TIMESTAMP WITH TIME ZONE`, and Java type `Instant` (though exchanged with databases via the `OffsetDateTime` class). \r\n\r\nI’ve posted on this before on Stack Overflow, as have others. Search to learn more. \r\n\r\n\r\n  [1]: https://www.timeanddate.com/news/time/morocco-abolishes-time-changes.html\r\n  [2]: https://www.bbc.com/news/world-asia-44010705","title":"How to handle timezone per user in web application using Quarkus or Spring Boot?","body":"<h1>Appointments are not moments</h1>\n<p>Appointments should not be kept as moments. An appointment booked in the future, when driven by a time-of-day, cannot be pinned down to a particular point on the timeline.</p>\n<p>The reason is that political time is controlled by politicians. And those politicians can change the rules of the time zones under their jurisdiction on a whim at any moment. So if you try to nail down the moment of an appointment next January 23rd at 3 PM, you’ll be early or late when the <a href=\"https://www.timeanddate.com/news/time/morocco-abolishes-time-changes.html\" rel=\"nofollow noreferrer\">politicians decide to stay on Daylight Saving Time year-round</a>. Or you’ll be a half-hour off when the <a href=\"https://www.bbc.com/news/world-asia-44010705\" rel=\"nofollow noreferrer\">politicians decide to change their clock to match that of a neighbor</a> as a diplomatic gesture.</p>\n<p>So you should keep appointments as a date with a time-of-day but keep the time zone separately. So <em>two</em> separate values.</p>\n<ul>\n<li>In Java that means a <code>LocalDateTime</code> and a <code>ZoneId</code>.</li>\n<li>In SQL that means one column of a type akin to the SQL standard type <code>TIMESTAMP WITHOUT TIME ZONE</code>, and another column of a textual type for the name of the time zone.</li>\n</ul>\n<p>When you need to build a schedule, you can determine a moment dynamically by combining the <code>LocalDateTime</code> with a <code>ZoneId</code> to produce a <code>ZonedDateTime</code>. Do not store this result — it will not be valid when the politicians change the time zone rules.</p>\n<p>Notice that the above is for appointments such as dentists and hair stylists and photographers, for appointments aimed at a particular time of the day. In contrast are plans tied to <em>natural</em> time such as a rocket launch scheduled according to expected weather conditions. Such plans are not altered by politicians changing the rules of a time zone. Such plans are recorded using a column of a type akin to SQL standard type <code>TIMESTAMP WITH TIME ZONE</code>, and Java type <code>Instant</code> (though exchanged with databases via the <code>OffsetDateTime</code> class).</p>\n<p>I’ve posted on this before on Stack Overflow, as have others. Search to learn more.</p>\n"},{"tags":[],"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671415112,"creation_date":1671410360,"answer_id":74845392,"question_id":74829960,"body_markdown":"That:\r\n\r\n&gt; Hibernate gives ability to implement interceptor with onLoad method which allow to modify entity after load. In this case interceptor should modify date/time fields based on user time zone get from some global service. It looks like something I need but I don&#39;t have any experience with that on production and didn&#39;t know is it good way to solve the problem.\r\n\r\n&gt; I would like to change time zone used by Hibernate for every HTTP request based on current user settings. How to set time zone that Hibernate uses during a given request?\r\n\r\nbasically won&#39;t work, the problem is following:\r\n\r\n**internal** representation of entity state in Hibernate is **array**, those arrays are stored in `EntityEntryContext` (SessionImpl.persistenceContext.entityEntryContext) and the purpose of those arrays is to check whether entities have been modified or not (dirty checking). When you get control over load process in `LoadEventListener#onLoad` entity state is already stored in `EntityEntryContext`, thus modifying entity will make it dirty from Hibernate perspective.\r\n\r\nFlirting with &quot;timezones&quot; in persistence layer is bad idea.","title":"How to handle timezone per user in web application using Quarkus or Spring Boot?","body":"<p>That:</p>\n<blockquote>\n<p>Hibernate gives ability to implement interceptor with onLoad method which allow to modify entity after load. In this case interceptor should modify date/time fields based on user time zone get from some global service. It looks like something I need but I don't have any experience with that on production and didn't know is it good way to solve the problem.</p>\n</blockquote>\n<blockquote>\n<p>I would like to change time zone used by Hibernate for every HTTP request based on current user settings. How to set time zone that Hibernate uses during a given request?</p>\n</blockquote>\n<p>basically won't work, the problem is following:</p>\n<p><strong>internal</strong> representation of entity state in Hibernate is <strong>array</strong>, those arrays are stored in <code>EntityEntryContext</code> (SessionImpl.persistenceContext.entityEntryContext) and the purpose of those arrays is to check whether entities have been modified or not (dirty checking). When you get control over load process in <code>LoadEventListener#onLoad</code> entity state is already stored in <code>EntityEntryContext</code>, thus modifying entity will make it dirty from Hibernate perspective.</p>\n<p>Flirting with &quot;timezones&quot; in persistence layer is bad idea.</p>\n"}],"owner":{"account_id":76507,"reputation":3223,"user_id":218971,"display_name":"Michał Zalewski"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":582,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":74841183,"answer_count":3,"score":4,"last_activity_date":1671439667,"creation_date":1671226366,"question_id":74829960,"body_markdown":"I try to add support for time zones to the web application. User&#39;s time zone will be used to display time and for calculations.\r\n\r\nI checked a lot of blogs and posts on StackOverflow about Hibernate, Spring Boot related to time zones but I didn&#39;t found solution. Some posts describes using time zone only for displaying date/time to user but it&#39;s not enough. I need date time loaded from database with user time zone to make calculations on server.\r\n\r\nI made some experiments with Hibernate Interceptors ([Hibernate user guide - Events](https://docs.jboss.org/hibernate/orm/5.2/userguide/html_single/Hibernate_User_Guide.html#events)). Hibernate gives ability to implement interceptor with `onLoad` method which allow to modify entity after load. In this case interceptor should modify date/time fields based on user time zone get from some global service. It looks like something I need but I don&#39;t have any experience with that on production and didn&#39;t know is it good way to solve the problem.\r\n\r\n## Requirements\r\n\r\nEach user should be able to set their own time zone.\r\n\r\nThe time zone is used not only for time display, but also for calculations. The application includes a booking module where the exact time is important. It cannot be that we allow someone to book an appointment, for example, at 10:00, because it is just 8:30 on the server, because it may already be 1:00 p.m., i.e. 3 hours after the appointment time in user&#39;s time zone.\r\n\r\n## Problem\r\n\r\nI would like to change time zone used by Hibernate for every HTTP request based on current user settings. How to set time zone that Hibernate uses during a given request?\r\n\r\n## Tech stack\r\n\r\nIn the application I use Hibernate and the time is always saved in the database in UTC. On the application side, the time is converted to the time zone set in config (same time zone for every user).\r\n\r\nI use Quarkus in the application, but the solution for Spring Boot is also satisfactory for me. Rewrite solution for Spring Boot or other Java EE framework to Quarkus will not be a problem for me.\r\n\r\n## UPDATE 1\r\n\r\n### More context\r\n\r\nApplication is for photographers which can share booking page with their clients (and potential clients). I need to calculate available hours to reserve an appointment. Photographer can set up working hours like 8:00 - 16:00 in his/her time zone (e.g. Europe/Warsaw). In those hours clients can reserve appointments. Problem with using UTC on backend and using time zone only for display date/time starts when photographer use time zone with DST (Daylight Saving Time). In UTC 7:00 can be 8:00 in local time zone but it will be 9:00 during DST.\r\n\r\nThe same problem is when you try to send notifications like reminders about appointment. I need to know photographer time zone on server because I need to how much time remaining until appointment. For example in 20:00 UTC in time zone UTC+12 mean 8:00 next day. If I send reminder at 20:00 UTC with message like &quot;You have appointment next day&quot; it will wrong, because that client has appointment today.","title":"How to handle timezone per user in web application using Quarkus or Spring Boot?","body":"<p>I try to add support for time zones to the web application. User's time zone will be used to display time and for calculations.</p>\n<p>I checked a lot of blogs and posts on StackOverflow about Hibernate, Spring Boot related to time zones but I didn't found solution. Some posts describes using time zone only for displaying date/time to user but it's not enough. I need date time loaded from database with user time zone to make calculations on server.</p>\n<p>I made some experiments with Hibernate Interceptors (<a href=\"https://docs.jboss.org/hibernate/orm/5.2/userguide/html_single/Hibernate_User_Guide.html#events\" rel=\"nofollow noreferrer\">Hibernate user guide - Events</a>). Hibernate gives ability to implement interceptor with <code>onLoad</code> method which allow to modify entity after load. In this case interceptor should modify date/time fields based on user time zone get from some global service. It looks like something I need but I don't have any experience with that on production and didn't know is it good way to solve the problem.</p>\n<h2>Requirements</h2>\n<p>Each user should be able to set their own time zone.</p>\n<p>The time zone is used not only for time display, but also for calculations. The application includes a booking module where the exact time is important. It cannot be that we allow someone to book an appointment, for example, at 10:00, because it is just 8:30 on the server, because it may already be 1:00 p.m., i.e. 3 hours after the appointment time in user's time zone.</p>\n<h2>Problem</h2>\n<p>I would like to change time zone used by Hibernate for every HTTP request based on current user settings. How to set time zone that Hibernate uses during a given request?</p>\n<h2>Tech stack</h2>\n<p>In the application I use Hibernate and the time is always saved in the database in UTC. On the application side, the time is converted to the time zone set in config (same time zone for every user).</p>\n<p>I use Quarkus in the application, but the solution for Spring Boot is also satisfactory for me. Rewrite solution for Spring Boot or other Java EE framework to Quarkus will not be a problem for me.</p>\n<h2>UPDATE 1</h2>\n<h3>More context</h3>\n<p>Application is for photographers which can share booking page with their clients (and potential clients). I need to calculate available hours to reserve an appointment. Photographer can set up working hours like 8:00 - 16:00 in his/her time zone (e.g. Europe/Warsaw). In those hours clients can reserve appointments. Problem with using UTC on backend and using time zone only for display date/time starts when photographer use time zone with DST (Daylight Saving Time). In UTC 7:00 can be 8:00 in local time zone but it will be 9:00 during DST.</p>\n<p>The same problem is when you try to send notifications like reminders about appointment. I need to know photographer time zone on server because I need to how much time remaining until appointment. For example in 20:00 UTC in time zone UTC+12 mean 8:00 next day. If I send reminder at 20:00 UTC with message like &quot;You have appointment next day&quot; it will wrong, because that client has appointment today.</p>\n"},{"tags":["java","swing","game-development","keylistener","pong"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1671440637,"post_id":74848025,"comment_id":132091827,"body_markdown":"Don&#39;t forget the `break;` commands  inside `keyReleased`.","body":"Don&#39;t forget the <code>break;</code> commands  inside <code>keyReleased</code>."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1671440966,"post_id":74848025,"comment_id":132091922,"body_markdown":"Although it looks as though `keyReleased` does nothing.","body":"Although it looks as though <code>keyReleased</code> does nothing."},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":1,"creation_date":1671444353,"post_id":74848025,"comment_id":132092906,"body_markdown":"Use [key bindings](https://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html) instead of key listeners.  Your key bindings should set values and your game loop should process those values and do the actual movement.","body":"Use <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html\" rel=\"nofollow noreferrer\">key bindings</a> instead of key listeners.  Your key bindings should set values and your game loop should process those values and do the actual movement."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1671461284,"post_id":74848025,"comment_id":132098028,"body_markdown":"*with the W-S and UP-DOWN keys to move the racket left and right respectively* Check out the `KeyboardAnimation` example from [Motion Using the Keyboard](https://tips4java.wordpress.com/2013/06/09/motion-using-the-keyboard/) for an example.","body":"<i>with the W-S and UP-DOWN keys to move the racket left and right respectively</i> Check out the <code>KeyboardAnimation</code> example from <a href=\"https://tips4java.wordpress.com/2013/06/09/motion-using-the-keyboard/\" rel=\"nofollow noreferrer\">Motion Using the Keyboard</a> for an example."}],"owner":{"account_id":19650682,"reputation":19,"user_id":15994783,"display_name":"MrFull12"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671439461,"creation_date":1671439461,"question_id":74848025,"body_markdown":"I want to create a pong game where players move 2 paddles with w-s and up-down keys\r\n\r\nI&#39;m creating a pong game in java with swing and the graphics. My idea is that two players play game one on the same keyboard with the W-S and UP-DOWN keys to move the racket left and right respectively. When implementing it I got stuck since the two rackets cannot be moved at the same time, if you press W the racket on the left moves but the one on the right cannot be moved until you release the w, the same happens with the buttons on the shovel on the right I put the rackets in 2 different threads but the problem continues and it seems to me that it is because of the KeyListener.\r\n\r\nI leave you the important parts of the shovel and window class.\r\n\r\nKey listener: \r\n```\r\npublic Ventana() {\r\n        setSize(600, 400);\r\n        setResizable(false);\r\n        setLocationRelativeTo(null);\r\n        setTitle(&quot;Pong&quot;);\r\n        setDefaultCloseOperation(EXIT_ON_CLOSE);\r\n        \r\n        jugador1 = new Raqueta(this, Raqueta.JUGADOR1);\r\n        jugador2 = new Raqueta(this, Raqueta.JUGADOR2);\r\n        \r\n        jugador1.start();\r\n        jugador2.start();\r\n                \r\n        addKeyListener(this);\r\n    }\r\n\r\n    @Override\r\n    public void paint(Graphics g) { \r\n        g.setColor(Color.BLACK);\r\n        g.fillRect(0, 0, getWidth(), getHeight());\r\n        \r\n        \r\n        g.setColor(Color.WHITE);\r\n        jugador1.dibujar(g);\r\n        jugador2.dibujar(g);\r\n    }\r\n\r\n\r\n    @Override\r\n    public void keyTyped(KeyEvent e) {}\r\n\r\n    @Override\r\n    public void keyPressed(KeyEvent e) {\r\n        switch (e.getKeyCode()) {\r\n            case KeyEvent.VK_W:\r\n                jugador1.moverY(Raqueta.SUBIR);\r\n                break;\r\n            case KeyEvent.VK_S:\r\n                jugador1.moverY(Raqueta.BAJAR);\r\n                break;\r\n            case KeyEvent.VK_UP:\r\n                jugador2.moverY(Raqueta.SUBIR);\r\n                break;\r\n            case KeyEvent.VK_DOWN:\r\n                jugador2.moverY(Raqueta.BAJAR);\r\n                break;\r\n        }\r\n        \r\n        repaint();\r\n    }\r\n\r\n    @Override\r\n    public void keyReleased(KeyEvent e) {\r\n        switch (e.getKeyCode()) {\r\n            case KeyEvent.VK_W:\r\n            case KeyEvent.VK_S:\r\n                jugador1.moverY(Raqueta.PARAR);\r\n            case KeyEvent.VK_UP:\r\n            case KeyEvent.VK_DOWN:\r\n                jugador2.moverY(Raqueta.PARAR);\r\n        }\r\n    }\r\n\r\n```\r\n\r\nThe racket:\r\n\r\n```\r\npublic class Raqueta extends Thread{\r\n    private int x, y, anchura, altura;\r\n    private byte direccion;\r\n    public final static byte BAJAR = 0;\r\n    public final static byte SUBIR = 1;\r\n    public final static byte PARAR = -1;\r\n    public final static byte JUGADOR1 = 1;\r\n    public final static byte JUGADOR2 = 2;\r\n    \r\n\r\n    public void setDireccion(byte direccion) {\r\n        this.direccion = direccion;\r\n    }\r\n    \r\n    @Override\r\n    public void run() {\r\n        try {\r\n            while (true) {\r\n                moverY(direccion);\r\n                Thread.sleep(5);\r\n            }\r\n        } catch (InterruptedException ex) {\r\n            System.exit(0);\r\n        }\r\n    }\r\n    \r\n    public void moverY(byte x) {\r\n        if (x == BAJAR){\r\n            this.y = y + 10;\r\n        } else if (x == SUBIR){\r\n            this.y = y - 10;\r\n        }\r\n    }\r\n    \r\n    public void dibujar(Graphics g){\r\n        g.fillRect(getX(), getY(), getAnchura(), getAltura());\r\n    }\r\n}\r\n```\r\n\r\n","title":"Java pong can&#39;t move both paddles at once","body":"<p>I want to create a pong game where players move 2 paddles with w-s and up-down keys</p>\n<p>I'm creating a pong game in java with swing and the graphics. My idea is that two players play game one on the same keyboard with the W-S and UP-DOWN keys to move the racket left and right respectively. When implementing it I got stuck since the two rackets cannot be moved at the same time, if you press W the racket on the left moves but the one on the right cannot be moved until you release the w, the same happens with the buttons on the shovel on the right I put the rackets in 2 different threads but the problem continues and it seems to me that it is because of the KeyListener.</p>\n<p>I leave you the important parts of the shovel and window class.</p>\n<p>Key listener:</p>\n<pre><code>public Ventana() {\n        setSize(600, 400);\n        setResizable(false);\n        setLocationRelativeTo(null);\n        setTitle(&quot;Pong&quot;);\n        setDefaultCloseOperation(EXIT_ON_CLOSE);\n        \n        jugador1 = new Raqueta(this, Raqueta.JUGADOR1);\n        jugador2 = new Raqueta(this, Raqueta.JUGADOR2);\n        \n        jugador1.start();\n        jugador2.start();\n                \n        addKeyListener(this);\n    }\n\n    @Override\n    public void paint(Graphics g) { \n        g.setColor(Color.BLACK);\n        g.fillRect(0, 0, getWidth(), getHeight());\n        \n        \n        g.setColor(Color.WHITE);\n        jugador1.dibujar(g);\n        jugador2.dibujar(g);\n    }\n\n\n    @Override\n    public void keyTyped(KeyEvent e) {}\n\n    @Override\n    public void keyPressed(KeyEvent e) {\n        switch (e.getKeyCode()) {\n            case KeyEvent.VK_W:\n                jugador1.moverY(Raqueta.SUBIR);\n                break;\n            case KeyEvent.VK_S:\n                jugador1.moverY(Raqueta.BAJAR);\n                break;\n            case KeyEvent.VK_UP:\n                jugador2.moverY(Raqueta.SUBIR);\n                break;\n            case KeyEvent.VK_DOWN:\n                jugador2.moverY(Raqueta.BAJAR);\n                break;\n        }\n        \n        repaint();\n    }\n\n    @Override\n    public void keyReleased(KeyEvent e) {\n        switch (e.getKeyCode()) {\n            case KeyEvent.VK_W:\n            case KeyEvent.VK_S:\n                jugador1.moverY(Raqueta.PARAR);\n            case KeyEvent.VK_UP:\n            case KeyEvent.VK_DOWN:\n                jugador2.moverY(Raqueta.PARAR);\n        }\n    }\n\n</code></pre>\n<p>The racket:</p>\n<pre><code>public class Raqueta extends Thread{\n    private int x, y, anchura, altura;\n    private byte direccion;\n    public final static byte BAJAR = 0;\n    public final static byte SUBIR = 1;\n    public final static byte PARAR = -1;\n    public final static byte JUGADOR1 = 1;\n    public final static byte JUGADOR2 = 2;\n    \n\n    public void setDireccion(byte direccion) {\n        this.direccion = direccion;\n    }\n    \n    @Override\n    public void run() {\n        try {\n            while (true) {\n                moverY(direccion);\n                Thread.sleep(5);\n            }\n        } catch (InterruptedException ex) {\n            System.exit(0);\n        }\n    }\n    \n    public void moverY(byte x) {\n        if (x == BAJAR){\n            this.y = y + 10;\n        } else if (x == SUBIR){\n            this.y = y - 10;\n        }\n    }\n    \n    public void dibujar(Graphics g){\n        g.fillRect(getX(), getY(), getAnchura(), getAltura());\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-security","jwt"],"comments":[{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":2,"creation_date":1671111330,"post_id":74811033,"comment_id":132030817,"body_markdown":"Throwing helpfull error messages duric any type of authentication is a security risk as this aids users with malicious intents to understand what they have done wrong and adapt. All security issues should return a 403 FORBIDDEN with no error message when something is wrong","body":"Throwing helpfull error messages duric any type of authentication is a security risk as this aids users with malicious intents to understand what they have done wrong and adapt. All security issues should return a 403 FORBIDDEN with no error message when something is wrong"},{"owner":{"account_id":9088500,"reputation":436,"user_id":6765460,"display_name":"Forece85"},"score":0,"creation_date":1671113189,"post_id":74811033,"comment_id":132031622,"body_markdown":"How can client differentiate when to send refresh token request? Lets say I want to signal my client when token is expired so that it can request a new access token sending a refresh token. This would be possible if I can send different messages to client.","body":"How can client differentiate when to send refresh token request? Lets say I want to signal my client when token is expired so that it can request a new access token sending a refresh token. This would be possible if I can send different messages to client."},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1671116886,"post_id":74811033,"comment_id":132033060,"body_markdown":"By you returning a 401/403 and your client automatically tries to refresh once","body":"By you returning a 401/403 and your client automatically tries to refresh once"},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1671150771,"post_id":74811033,"comment_id":132042843,"body_markdown":"you see your client will get a token, use that token until it expires, when it expires your service will get a 401 bacck, you then in your client try to refresh it once, if it works it redoes the request, if the refresh failes, it redirects the user to the login page. You dont need any specific information to the client.","body":"you see your client will get a token, use that token until it expires, when it expires your service will get a 401 bacck, you then in your client try to refresh it once, if it works it redoes the request, if the refresh failes, it redirects the user to the login page. You dont need any specific information to the client."}],"answers":[{"tags":[],"owner":{"account_id":24626922,"reputation":59,"user_id":18526553,"display_name":"Beksultan"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1671439421,"creation_date":1671109651,"answer_id":74812026,"question_id":74811033,"body_markdown":"This exception throws from tokenAuthenticationFilter class. Note that the filter class won&#39;t stop even if an exception occurs. Your filter class will just ignore your exception.\r\n\r\nHow to stop when exception occurs?\r\nWhen you&#39;re calling decodeJwt(); method. You should put this method inside try-catch. If exception is catched then you should call sendError(); method from HttpServletResponse class and put return; method.\r\n\r\n&gt; Add return; even method is void\r\n    \r\n    DecodedJWT decodedJWT = null;\r\n    try {\r\n      decodedJWT = jwtUtils.decodeJWT(token);\r\n    } catch(Exception e) {\r\n      response.sendError(401, e.getMessage);\r\n      return;\r\n    }\r\n\r\nadd this code above to your filter class\r\n","title":"Spring Boot Security JWT custom authentication error messages","body":"<p>This exception throws from tokenAuthenticationFilter class. Note that the filter class won't stop even if an exception occurs. Your filter class will just ignore your exception.</p>\n<p>How to stop when exception occurs?\nWhen you're calling decodeJwt(); method. You should put this method inside try-catch. If exception is catched then you should call sendError(); method from HttpServletResponse class and put return; method.</p>\n<blockquote>\n<p>Add return; even method is void</p>\n</blockquote>\n<pre><code>DecodedJWT decodedJWT = null;\ntry {\n  decodedJWT = jwtUtils.decodeJWT(token);\n} catch(Exception e) {\n  response.sendError(401, e.getMessage);\n  return;\n}\n</code></pre>\n<p>add this code above to your filter class</p>\n"}],"owner":{"account_id":9088500,"reputation":436,"user_id":6765460,"display_name":"Forece85"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1282,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1671439421,"creation_date":1671104821,"question_id":74811033,"body_markdown":"How to send different error messages on JWT authentication failure? I tried below code, its always sending message as: `Full authentication is required to access this resource`\r\ninstead I want to use errorMessage from exception. I am using spring boot 3 (if it matters)\r\n\r\nWebSecurityConfig.class:\r\n\r\n     @Bean\r\n    public AuthenticationEntryPoint restAuthenticationEntryPoint() {\r\n        return (request, response, error) -&gt; {\r\n            log.info(&quot;restAuthenticationEntryPoint: {}&quot;, error.getMessage(), error);\r\n            Map&lt;String, Object&gt; errorObject = new HashMap&lt;&gt;();\r\n            int errorCode = 401;\r\n            errorObject.put(&quot;message&quot;, error.getMessage());\r\n            errorObject.put(&quot;error&quot;, HttpStatus.UNAUTHORIZED);\r\n            errorObject.put(&quot;code&quot;, errorCode);\r\n            errorObject.put(&quot;timestamp&quot;, new Timestamp(new Date().getTime()));\r\n            response.setContentType(&quot;application/json;charset=UTF-8&quot;);\r\n            response.setStatus(errorCode);\r\n            response.getWriter().write(objectMapper.writeValueAsString(errorObject));\r\n        };\r\n    }\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        http\r\n                .csrf()\r\n                .disable()\r\n                .formLogin()\r\n                .disable()\r\n                .httpBasic()\r\n                .disable()\r\n                .exceptionHandling()\r\n                .authenticationEntryPoint(restAuthenticationEntryPoint())\r\n                .and()\r\n                .sessionManagement(s -&gt; s.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\r\n                .addFilterBefore(tokenAuthenticationFilter, UsernamePasswordAuthenticationFilter.class);\r\n     \r\n        return http.build();\r\n    }\r\n\r\nAt JWT validation, I am throwing different messages, still client is receiving same error message.\r\n\r\n     public DecodedJWT decodeJWT(String authToken) {\r\n        try {\r\n            return verifier.verify(authToken));\r\n        } catch (SignatureVerificationException e) {\r\n            log.error(&quot;Invalid JWT signature: {}&quot;, e.getMessage());\r\n            throw new TokenException(e.getMessage());\r\n        } catch (TokenExpiredException e) {\r\n            log.error(&quot;JWT token is expired: {}&quot;, e.getMessage());\r\n            throw new TokenException(e.getMessage());\r\n        } catch (MissingClaimException e) {\r\n            log.error(&quot;JWT token is unsupported: {}&quot;, e.getMessage());\r\n            throw new TokenException(e.getMessage());\r\n        } catch (JWTDecodeException e) {\r\n            log.error(&quot;JWT claims string is empty: {}&quot;, e.getMessage());\r\n            throw new TokenException(e.getMessage());\r\n        } catch (AlgorithmMismatchException | IncorrectClaimException e) {\r\n            log.error(&quot;JWT alg mismatch or incorrect claim : {}&quot;, e.getMessage());\r\n            throw new TokenException(e.getMessage());\r\n        } catch (InvalidClaimException e) {\r\n            log.error(&quot;InvalidClaimException&quot;);\r\n            throw new TokenException(e.getMessage());\r\n        } catch (JWTVerificationException e) {\r\n            log.error(&quot;JWTVerificationException at end&quot;);\r\n            throw new TokenException(e.getMessage());\r\n        }\r\n    }\r\n\r\nTokenException class:\r\n\r\n    public class TokenException extends AuthenticationException {\r\n     public TokenException(String msg, Throwable cause) {\r\n        super(msg, cause);\r\n     }\r\n\r\n     public TokenException(String msg) {\r\n        super(msg);\r\n     }\r\n    }\r\n\r\n ","title":"Spring Boot Security JWT custom authentication error messages","body":"<p>How to send different error messages on JWT authentication failure? I tried below code, its always sending message as: <code>Full authentication is required to access this resource</code>\ninstead I want to use errorMessage from exception. I am using spring boot 3 (if it matters)</p>\n<p>WebSecurityConfig.class:</p>\n<pre><code> @Bean\npublic AuthenticationEntryPoint restAuthenticationEntryPoint() {\n    return (request, response, error) -&gt; {\n        log.info(&quot;restAuthenticationEntryPoint: {}&quot;, error.getMessage(), error);\n        Map&lt;String, Object&gt; errorObject = new HashMap&lt;&gt;();\n        int errorCode = 401;\n        errorObject.put(&quot;message&quot;, error.getMessage());\n        errorObject.put(&quot;error&quot;, HttpStatus.UNAUTHORIZED);\n        errorObject.put(&quot;code&quot;, errorCode);\n        errorObject.put(&quot;timestamp&quot;, new Timestamp(new Date().getTime()));\n        response.setContentType(&quot;application/json;charset=UTF-8&quot;);\n        response.setStatus(errorCode);\n        response.getWriter().write(objectMapper.writeValueAsString(errorObject));\n    };\n}\n\n@Bean\npublic SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n    http\n            .csrf()\n            .disable()\n            .formLogin()\n            .disable()\n            .httpBasic()\n            .disable()\n            .exceptionHandling()\n            .authenticationEntryPoint(restAuthenticationEntryPoint())\n            .and()\n            .sessionManagement(s -&gt; s.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\n            .addFilterBefore(tokenAuthenticationFilter, UsernamePasswordAuthenticationFilter.class);\n \n    return http.build();\n}\n</code></pre>\n<p>At JWT validation, I am throwing different messages, still client is receiving same error message.</p>\n<pre><code> public DecodedJWT decodeJWT(String authToken) {\n    try {\n        return verifier.verify(authToken));\n    } catch (SignatureVerificationException e) {\n        log.error(&quot;Invalid JWT signature: {}&quot;, e.getMessage());\n        throw new TokenException(e.getMessage());\n    } catch (TokenExpiredException e) {\n        log.error(&quot;JWT token is expired: {}&quot;, e.getMessage());\n        throw new TokenException(e.getMessage());\n    } catch (MissingClaimException e) {\n        log.error(&quot;JWT token is unsupported: {}&quot;, e.getMessage());\n        throw new TokenException(e.getMessage());\n    } catch (JWTDecodeException e) {\n        log.error(&quot;JWT claims string is empty: {}&quot;, e.getMessage());\n        throw new TokenException(e.getMessage());\n    } catch (AlgorithmMismatchException | IncorrectClaimException e) {\n        log.error(&quot;JWT alg mismatch or incorrect claim : {}&quot;, e.getMessage());\n        throw new TokenException(e.getMessage());\n    } catch (InvalidClaimException e) {\n        log.error(&quot;InvalidClaimException&quot;);\n        throw new TokenException(e.getMessage());\n    } catch (JWTVerificationException e) {\n        log.error(&quot;JWTVerificationException at end&quot;);\n        throw new TokenException(e.getMessage());\n    }\n}\n</code></pre>\n<p>TokenException class:</p>\n<pre><code>public class TokenException extends AuthenticationException {\n public TokenException(String msg, Throwable cause) {\n    super(msg, cause);\n }\n\n public TokenException(String msg) {\n    super(msg);\n }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","spring-data"],"comments":[{"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"score":1,"creation_date":1654676368,"post_id":72520225,"comment_id":128144944,"body_markdown":"Please do not post code as images, copy the actual code and format it using markdown instead.","body":"Please do not post code as images, copy the actual code and format it using markdown instead."},{"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"score":0,"creation_date":1654676434,"post_id":72520225,"comment_id":128144972,"body_markdown":"When something related to databases comes to a full stop most of the times locks are the problem. Check what blocking locks are present in your database.","body":"When something related to databases comes to a full stop most of the times locks are the problem. Check what blocking locks are present in your database."},{"owner":{"account_id":19942283,"reputation":381,"user_id":14613787,"display_name":"Deepanshu Rathi"},"score":0,"creation_date":1654699757,"post_id":72520225,"comment_id":128154453,"body_markdown":"I think you might be stuck in nested DTO loop. Please share the logs","body":"I think you might be stuck in nested DTO loop. Please share the logs"}],"answers":[{"tags":[],"owner":{"account_id":24502054,"reputation":21,"user_id":18417541,"display_name":"Sardor Shorahimov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671439330,"creation_date":1671049143,"answer_id":74803766,"question_id":72520225,"body_markdown":"```@OneToMany``` has parameter ```FetchType(Enumeration) fetch```. It be ```FetchType.LAZY``` by default, you should change it to ```FetchType.EAGER```. If parameter fetch is ```FetchType.LAZY``` Hibernate doesn&#39;t get Book entities until you call it. If fetch is ```FetchType.EAGER``` than Hibernate gets Book entities if you didn&#39;t call it.","title":"How to FETCH ALL RECORS and UPDATE RECORD in one to many mapping in SPRING DATA JPA?","body":"<p><code>@OneToMany</code> has parameter <code>FetchType(Enumeration) fetch</code>. It be <code>FetchType.LAZY</code> by default, you should change it to <code>FetchType.EAGER</code>. If parameter fetch is <code>FetchType.LAZY</code> Hibernate doesn't get Book entities until you call it. If fetch is <code>FetchType.EAGER</code> than Hibernate gets Book entities if you didn't call it.</p>\n"}],"owner":{"account_id":23472299,"reputation":9,"user_id":17525630,"display_name":"komal khan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":430,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1671439330,"creation_date":1654530524,"question_id":72520225,"body_markdown":"I have created two simple modal entities Book and Author and an author has many books. The mapping is working and when I save author along with book abjects from postman it gets saved according in both tables but when I hit query for fetching all authors or all books it does not respond.\r\nIs it something related to DTOs? How can I fetch the data, I don&#39;t want to use Join Query etc.\r\nPlease guide.[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NpyU7.png","title":"How to FETCH ALL RECORS and UPDATE RECORD in one to many mapping in SPRING DATA JPA?","body":"<p>I have created two simple modal entities Book and Author and an author has many books. The mapping is working and when I save author along with book abjects from postman it gets saved according in both tables but when I hit query for fetching all authors or all books it does not respond.\nIs it something related to DTOs? How can I fetch the data, I don't want to use Join Query etc.\nPlease guide.<a href=\"https://i.stack.imgur.com/NpyU7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NpyU7.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring-boot","redis"],"owner":{"account_id":10645250,"reputation":3023,"user_id":7838169,"display_name":"badger"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671438946,"creation_date":1671438946,"question_id":74847936,"body_markdown":"I recently started to work with Redis in a Spring Boot project.\r\nI configured Redis in Spring Boot like the following:\r\n\r\n    @Bean\r\n    public RedisTemplate&lt;String, Long&gt; redisTemplate() {\r\n        var redisConfiguration = new RedisStandaloneConfiguration();\r\n        redisConfiguration.setHostName(&quot;localhost&quot;);\r\n        redisConfiguration.setPort(6379);\r\n        JedisConnectionFactory jedisConnectionFactory = new JedisConnectionFactory(redisConfiguration);\r\n        jedisConnectionFactory.afterPropertiesSet();\r\n        RedisTemplate&lt;String, Long&gt; redisTemplate = new RedisTemplate&lt;&gt;();\r\n        redisTemplate.setConnectionFactory(jedisConnectionFactory);\r\n        redisTemplate.setKeySerializer(new StringRedisSerializer());\r\n        redisTemplate.setHashKeySerializer(new StringRedisSerializer());\r\n        redisTemplate.setValueSerializer(new LongSerializer());\r\n        redisTemplate.setEnableTransactionSupport(true);\r\n        redisTemplate.afterPropertiesSet();\r\n        return redisTemplate;\r\n    }\r\n\r\nAnd the code for `LongSerializer` is simply the following:\r\n\r\n    static class LongSerializer implements RedisSerializer&lt;Long&gt;{\r\n\r\n        @Override\r\n        public byte[] serialize(Long aLong) throws SerializationException {\r\n            return Longs.toByteArray(aLong);\r\n        }\r\n\r\n        @Override\r\n        public Long deserialize(byte[] bytes) throws SerializationException {\r\n            return Longs.fromByteArray(bytes);\r\n        }\r\n    }\r\n\r\nI read and write to Redis like the following:\r\n\r\n    public class RedisUrlOutputPort implements UrlOutputPort{\r\n    \r\n        // https://www.techgeeknext.com/spring-boot/spring-boot-redis-example\r\n        public static final String HASH_KEY_NAME = &quot;URL-ITEM&quot;;\r\n        private final RedisTemplate&lt;String, Long&gt; redisTemplate;\r\n    \r\n        public RedisUrlOutputPort(RedisTemplate&lt;String, Long&gt; redisTemplate) {\r\n            this.redisTemplate = redisTemplate;\r\n        }\r\n    \r\n        @Override\r\n        public Long incrementUrl(String url) {\r\n            return redisTemplate.opsForHash().increment(HASH_KEY_NAME, url, 1);\r\n        }\r\n    \r\n        @Override\r\n        public Cursor&lt;Map.Entry&lt;String, Long&gt;&gt; findAllUrl() {\r\n            return redisTemplate.&lt;String, Long&gt;opsForHash().scan(HASH_KEY_NAME, ScanOptions.scanOptions().count(300).build());\r\n        }\r\n    \r\n        @Override\r\n        public Long findUrl(String url) {\r\n            return redisTemplate.&lt;String, Long&gt;opsForHash().get(HASH_KEY_NAME,url);\r\n        }\r\n    \r\n        public void deleteUrl(String url){\r\n            redisTemplate.opsForHash().delete(HASH_KEY_NAME, url);\r\n        }\r\n    }\r\n\r\nWhen I call `findUrl(String url)` it throws exception, you can see the stacktrace:\r\n\r\n    org.springframework.messaging.MessageHandlingException: error occurred in message handler [bean &#39;getElasticSearchMessageHandler&#39; for component &#39;prepareForElasticSearchFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#0&#39;; defined in: &#39;class path resource [com/hatef/config/AppConfig.class]&#39;; from source: &#39;com.hatef.config.AppConfig.getElasticSearchMessageHandler(org.springframework.messaging.PollableChannel,com.hatef.output.UrlOutputPort)&#39;], failedMessage=GenericMessage [payload=https://gibson.tr/test, headers={kafka_offset=3083000, kafka_consumer=org.apache.kafka.clients.consumer.KafkaConsumer@6bd4cce5, kafka_timestampType=CREATE_TIME, kafka_receivedPartitionId=0, kafka_receivedMessageKey=aeb2b906-0d2c-a571-9953-5b12b8fb81d1, kafka_receivedTopic=si.topic, kafka_receivedTimestamp=1671437327112, kafka_groupId=si.group}]\r\n    \tat org.springframework.integration.support.utils.IntegrationUtils.wrapInHandlingExceptionIfNecessary(IntegrationUtils.java:191)\r\n    \tat org.springframework.integration.handler.AbstractMessageHandler.doHandleMessage(AbstractMessageHandler.java:109)\r\n    \tat org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:74)\r\n    \tat org.springframework.integration.endpoint.PollingConsumer.handleMessage(PollingConsumer.java:158)\r\n    \tat org.springframework.integration.endpoint.AbstractPollingEndpoint.messageReceived(AbstractPollingEndpoint.java:474)\r\n    \tat org.springframework.integration.endpoint.AbstractPollingEndpoint.doPoll(AbstractPollingEndpoint.java:460)\r\n    \tat org.springframework.integration.endpoint.AbstractPollingEndpoint.pollForMessage(AbstractPollingEndpoint.java:412)\r\n    \tat org.springframework.integration.endpoint.AbstractPollingEndpoint.lambda$createPoller$4(AbstractPollingEndpoint.java:348)\r\n    \tat org.springframework.integration.util.ErrorHandlingTaskExecutor.lambda$execute$0(ErrorHandlingTaskExecutor.java:57)\r\n    \tat org.springframework.core.task.SyncTaskExecutor.execute(SyncTaskExecutor.java:50)\r\n    \tat org.springframework.integration.util.ErrorHandlingTaskExecutor.execute(ErrorHandlingTaskExecutor.java:55)\r\n    \tat org.springframework.integration.endpoint.AbstractPollingEndpoint.lambda$createPoller$5(AbstractPollingEndpoint.java:341)\r\n    \tat org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)\r\n    \tat org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:96)\r\n    \tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)\r\n    \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n    \tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:833)\r\n    Caused by: org.springframework.data.redis.serializer.SerializationException: Cannot deserialize\r\n    \tat org.springframework.data.redis.serializer.JdkSerializationRedisSerializer.deserialize(JdkSerializationRedisSerializer.java:84)\r\n    \tat org.springframework.data.redis.core.AbstractOperations.deserializeHashValue(AbstractOperations.java:380)\r\n    \tat org.springframework.data.redis.core.DefaultHashOperations.get(DefaultHashOperations.java:53)\r\n    \tat com.hatef.output.RedisUrlOutputPort.findUrl(RedisUrlOutputPort.java:34)\r\n    \tat com.hatef.handler.WindowCountMessageHandler.handleMessageInternal(WindowCountMessageHandler.java:51)\r\n    \tat org.springframework.integration.handler.AbstractMessageHandler.doHandleMessage(AbstractMessageHandler.java:106)\r\n    \t... 18 more\r\n    Caused by: org.springframework.core.serializer.support.SerializationFailedException: Failed to deserialize payload. Is the byte array a result of corresponding serialization for DefaultDeserializer?\r\n    \tat org.springframework.core.serializer.support.DeserializingConverter.convert(DeserializingConverter.java:78)\r\n    \tat org.springframework.core.serializer.support.DeserializingConverter.convert(DeserializingConverter.java:36)\r\n    \tat org.springframework.data.redis.serializer.JdkSerializationRedisSerializer.deserialize(JdkSerializationRedisSerializer.java:82)\r\n    \t... 23 more\r\n    Caused by: java.io.EOFException\r\n    \tat java.base/java.io.ObjectInputStream$PeekInputStream.readFully(ObjectInputStream.java:2893)\r\n    \tat java.base/java.io.ObjectInputStream$BlockDataInputStream.readShort(ObjectInputStream.java:3388)\r\n    \tat java.base/java.io.ObjectInputStream.readStreamHeader(ObjectInputStream.java:959)\r\n    \tat java.base/java.io.ObjectInputStream.&lt;init&gt;(ObjectInputStream.java:397)\r\n    \tat org.springframework.core.ConfigurableObjectInputStream.&lt;init&gt;(ConfigurableObjectInputStream.java:65)\r\n    \tat org.springframework.core.ConfigurableObjectInputStream.&lt;init&gt;(ConfigurableObjectInputStream.java:51)\r\n    \tat org.springframework.core.serializer.DefaultDeserializer.deserialize(DefaultDeserializer.java:69)\r\n    \tat org.springframework.core.serializer.support.DeserializingConverter.convert(DeserializingConverter.java:73)\r\n    \t... 25 more\r\n\r\nI wanted to know the reason and the solution for this.\r\nIf you need the source code I pushed it [here][1]. in the `WindowCountMessageHandler` class method `handleMessageInternal` I write to and read from Redis. **this is just a test and don&#39;t make any sense yet.**\r\n\r\n\r\n  [1]: https://github.com/hatefap/mci","title":"Spring Boot throws EOFException when reading from Redis","body":"<p>I recently started to work with Redis in a Spring Boot project.\nI configured Redis in Spring Boot like the following:</p>\n<pre><code>@Bean\npublic RedisTemplate&lt;String, Long&gt; redisTemplate() {\n    var redisConfiguration = new RedisStandaloneConfiguration();\n    redisConfiguration.setHostName(&quot;localhost&quot;);\n    redisConfiguration.setPort(6379);\n    JedisConnectionFactory jedisConnectionFactory = new JedisConnectionFactory(redisConfiguration);\n    jedisConnectionFactory.afterPropertiesSet();\n    RedisTemplate&lt;String, Long&gt; redisTemplate = new RedisTemplate&lt;&gt;();\n    redisTemplate.setConnectionFactory(jedisConnectionFactory);\n    redisTemplate.setKeySerializer(new StringRedisSerializer());\n    redisTemplate.setHashKeySerializer(new StringRedisSerializer());\n    redisTemplate.setValueSerializer(new LongSerializer());\n    redisTemplate.setEnableTransactionSupport(true);\n    redisTemplate.afterPropertiesSet();\n    return redisTemplate;\n}\n</code></pre>\n<p>And the code for <code>LongSerializer</code> is simply the following:</p>\n<pre><code>static class LongSerializer implements RedisSerializer&lt;Long&gt;{\n\n    @Override\n    public byte[] serialize(Long aLong) throws SerializationException {\n        return Longs.toByteArray(aLong);\n    }\n\n    @Override\n    public Long deserialize(byte[] bytes) throws SerializationException {\n        return Longs.fromByteArray(bytes);\n    }\n}\n</code></pre>\n<p>I read and write to Redis like the following:</p>\n<pre><code>public class RedisUrlOutputPort implements UrlOutputPort{\n\n    // https://www.techgeeknext.com/spring-boot/spring-boot-redis-example\n    public static final String HASH_KEY_NAME = &quot;URL-ITEM&quot;;\n    private final RedisTemplate&lt;String, Long&gt; redisTemplate;\n\n    public RedisUrlOutputPort(RedisTemplate&lt;String, Long&gt; redisTemplate) {\n        this.redisTemplate = redisTemplate;\n    }\n\n    @Override\n    public Long incrementUrl(String url) {\n        return redisTemplate.opsForHash().increment(HASH_KEY_NAME, url, 1);\n    }\n\n    @Override\n    public Cursor&lt;Map.Entry&lt;String, Long&gt;&gt; findAllUrl() {\n        return redisTemplate.&lt;String, Long&gt;opsForHash().scan(HASH_KEY_NAME, ScanOptions.scanOptions().count(300).build());\n    }\n\n    @Override\n    public Long findUrl(String url) {\n        return redisTemplate.&lt;String, Long&gt;opsForHash().get(HASH_KEY_NAME,url);\n    }\n\n    public void deleteUrl(String url){\n        redisTemplate.opsForHash().delete(HASH_KEY_NAME, url);\n    }\n}\n</code></pre>\n<p>When I call <code>findUrl(String url)</code> it throws exception, you can see the stacktrace:</p>\n<pre><code>org.springframework.messaging.MessageHandlingException: error occurred in message handler [bean 'getElasticSearchMessageHandler' for component 'prepareForElasticSearchFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#0'; defined in: 'class path resource [com/hatef/config/AppConfig.class]'; from source: 'com.hatef.config.AppConfig.getElasticSearchMessageHandler(org.springframework.messaging.PollableChannel,com.hatef.output.UrlOutputPort)'], failedMessage=GenericMessage [payload=https://gibson.tr/test, headers={kafka_offset=3083000, kafka_consumer=org.apache.kafka.clients.consumer.KafkaConsumer@6bd4cce5, kafka_timestampType=CREATE_TIME, kafka_receivedPartitionId=0, kafka_receivedMessageKey=aeb2b906-0d2c-a571-9953-5b12b8fb81d1, kafka_receivedTopic=si.topic, kafka_receivedTimestamp=1671437327112, kafka_groupId=si.group}]\n    at org.springframework.integration.support.utils.IntegrationUtils.wrapInHandlingExceptionIfNecessary(IntegrationUtils.java:191)\n    at org.springframework.integration.handler.AbstractMessageHandler.doHandleMessage(AbstractMessageHandler.java:109)\n    at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:74)\n    at org.springframework.integration.endpoint.PollingConsumer.handleMessage(PollingConsumer.java:158)\n    at org.springframework.integration.endpoint.AbstractPollingEndpoint.messageReceived(AbstractPollingEndpoint.java:474)\n    at org.springframework.integration.endpoint.AbstractPollingEndpoint.doPoll(AbstractPollingEndpoint.java:460)\n    at org.springframework.integration.endpoint.AbstractPollingEndpoint.pollForMessage(AbstractPollingEndpoint.java:412)\n    at org.springframework.integration.endpoint.AbstractPollingEndpoint.lambda$createPoller$4(AbstractPollingEndpoint.java:348)\n    at org.springframework.integration.util.ErrorHandlingTaskExecutor.lambda$execute$0(ErrorHandlingTaskExecutor.java:57)\n    at org.springframework.core.task.SyncTaskExecutor.execute(SyncTaskExecutor.java:50)\n    at org.springframework.integration.util.ErrorHandlingTaskExecutor.execute(ErrorHandlingTaskExecutor.java:55)\n    at org.springframework.integration.endpoint.AbstractPollingEndpoint.lambda$createPoller$5(AbstractPollingEndpoint.java:341)\n    at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)\n    at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:96)\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: org.springframework.data.redis.serializer.SerializationException: Cannot deserialize\n    at org.springframework.data.redis.serializer.JdkSerializationRedisSerializer.deserialize(JdkSerializationRedisSerializer.java:84)\n    at org.springframework.data.redis.core.AbstractOperations.deserializeHashValue(AbstractOperations.java:380)\n    at org.springframework.data.redis.core.DefaultHashOperations.get(DefaultHashOperations.java:53)\n    at com.hatef.output.RedisUrlOutputPort.findUrl(RedisUrlOutputPort.java:34)\n    at com.hatef.handler.WindowCountMessageHandler.handleMessageInternal(WindowCountMessageHandler.java:51)\n    at org.springframework.integration.handler.AbstractMessageHandler.doHandleMessage(AbstractMessageHandler.java:106)\n    ... 18 more\nCaused by: org.springframework.core.serializer.support.SerializationFailedException: Failed to deserialize payload. Is the byte array a result of corresponding serialization for DefaultDeserializer?\n    at org.springframework.core.serializer.support.DeserializingConverter.convert(DeserializingConverter.java:78)\n    at org.springframework.core.serializer.support.DeserializingConverter.convert(DeserializingConverter.java:36)\n    at org.springframework.data.redis.serializer.JdkSerializationRedisSerializer.deserialize(JdkSerializationRedisSerializer.java:82)\n    ... 23 more\nCaused by: java.io.EOFException\n    at java.base/java.io.ObjectInputStream$PeekInputStream.readFully(ObjectInputStream.java:2893)\n    at java.base/java.io.ObjectInputStream$BlockDataInputStream.readShort(ObjectInputStream.java:3388)\n    at java.base/java.io.ObjectInputStream.readStreamHeader(ObjectInputStream.java:959)\n    at java.base/java.io.ObjectInputStream.&lt;init&gt;(ObjectInputStream.java:397)\n    at org.springframework.core.ConfigurableObjectInputStream.&lt;init&gt;(ConfigurableObjectInputStream.java:65)\n    at org.springframework.core.ConfigurableObjectInputStream.&lt;init&gt;(ConfigurableObjectInputStream.java:51)\n    at org.springframework.core.serializer.DefaultDeserializer.deserialize(DefaultDeserializer.java:69)\n    at org.springframework.core.serializer.support.DeserializingConverter.convert(DeserializingConverter.java:73)\n    ... 25 more\n</code></pre>\n<p>I wanted to know the reason and the solution for this.\nIf you need the source code I pushed it <a href=\"https://github.com/hatefap/mci\" rel=\"nofollow noreferrer\">here</a>. in the <code>WindowCountMessageHandler</code> class method <code>handleMessageInternal</code> I write to and read from Redis. <strong>this is just a test and don't make any sense yet.</strong></p>\n"},{"tags":["java","optimization","collections"],"comments":[{"owner":{"account_id":4925,"reputation":8327,"user_id":7647,"display_name":"jrudolph"},"score":0,"creation_date":1221643148,"post_id":81346,"comment_id":10139,"body_markdown":"I think it would be the same for java.util.Hashtable.","body":"I think it would be the same for java.util.Hashtable."},{"owner":{"account_id":82795,"reputation":5050,"user_id":232539,"accept_rate":88,"display_name":"whiskeysierra"},"score":3,"creation_date":1263132500,"post_id":81346,"comment_id":1962066,"body_markdown":"Of course if would be same, because Hashtable is infact a Map.","body":"Of course if would be same, because Hashtable is infact a Map."},{"owner":{"account_id":1257650,"reputation":23479,"user_id":1216775,"accept_rate":54,"display_name":"akhil_mittal"},"score":2,"creation_date":1533961088,"post_id":81346,"comment_id":90549989,"body_markdown":"Java 8 : computeIfAbsent example : https://stackoverflow.com/a/37439971/1216775","body":"Java 8 : computeIfAbsent example : <a href=\"https://stackoverflow.com/a/37439971/1216775\">stackoverflow.com/a/37439971/1216775</a>"},{"owner":{"account_id":1416522,"reputation":91354,"user_id":3553087,"display_name":"Brian Goetz"},"score":3,"creation_date":1619463710,"post_id":81346,"comment_id":118908793,"body_markdown":"Take a look at `Map::computeIfAbsent` and friends.","body":"Take a look at <code>Map::computeIfAbsent</code> and friends."}],"answers":[{"tags":[],"owner":{"account_id":2961,"reputation":70821,"user_id":4203,"accept_rate":90,"display_name":"Hank Gay"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1221643057,"creation_date":1221643057,"answer_id":81401,"question_id":81346,"body_markdown":"The various primitive wrappers, e.g., `Integer` are immutable so there&#39;s really not a more concise way to do what you&#39;re asking *unless* you can do it with something like [AtomicLong](http://java.sun.com/j2se/1.5.0/docs/api/java/util/concurrent/atomic/AtomicLong.html). I can give that a go in a minute and update. BTW, [Hashtable](http://java.sun.com/j2se/1.5.0/docs/api/java/util/Hashtable.html) *is* a part of the [Collections Framework](http://java.sun.com/j2se/1.5.0/docs/guide/collections/index.html).","title":"Most efficient way to increment a Map value in Java","body":"<p>The various primitive wrappers, e.g., <code>Integer</code> are immutable so there's really not a more concise way to do what you're asking <em>unless</em> you can do it with something like <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/util/concurrent/atomic/AtomicLong.html\" rel=\"nofollow noreferrer\">AtomicLong</a>. I can give that a go in a minute and update. BTW, <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/util/Hashtable.html\" rel=\"nofollow noreferrer\">Hashtable</a> <em>is</em> a part of the <a href=\"http://java.sun.com/j2se/1.5.0/docs/guide/collections/index.html\" rel=\"nofollow noreferrer\">Collections Framework</a>.</p>\n"},{"tags":[],"owner":{"account_id":7320,"reputation":4057,"user_id":12677,"accept_rate":75,"display_name":"tovare"},"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1222032526,"creation_date":1221643190,"answer_id":81417,"question_id":81346,"body_markdown":"There are a couple of approaches:\r\n\r\n1. Use a Bag alorithm like the sets contained in Google Collections.\r\n\r\n2. Create mutable container which you can use in the Map:\r\n\r\n&lt;pre&gt;\r\n&lt;code&gt;\r\n    class My{\r\n        String word;\r\n        int count;\r\n    }\r\n&lt;/code&gt;\r\n&lt;/pre&gt;\r\n\r\nAnd use put(&quot;word&quot;, new My(&quot;Word&quot;) ); Then you can check if it exists and increment when adding.\r\n\r\n\r\nAvoid rolling your own solution using lists, because if you get innerloop searching and sorting, your performance will stink. The first HashMap solution is actually quite fast, but a proper like that found in Google Collections is probably better.\r\n\r\n\r\nCounting words using Google Collections, looks something like this:\r\n\r\n&lt;pre&gt;\r\n&lt;code&gt;\r\n\r\n    HashMultiset&lt;String&gt; s = new HashMultiset&lt;String&gt;();\r\n    s.add(&quot;word&quot;);\r\n    s.add(&quot;word&quot;);\r\n    System.out.println(&quot;&quot;+s.count(&quot;word&quot;) );\r\n\r\n&lt;/code&gt;\r\n&lt;/pre&gt;\r\n\r\nUsing the HashMultiset is quite elegent, because a bag-algorithm is just what you need when counting words.\r\n","title":"Most efficient way to increment a Map value in Java","body":"<p>There are a couple of approaches:</p>\n\n<ol>\n<li><p>Use a Bag alorithm like the sets contained in Google Collections.</p></li>\n<li><p>Create mutable container which you can use in the Map:</p></li>\n</ol>\n\n<pre>\n<code>\n    class My{\n        String word;\n        int count;\n    }\n</code>\n</pre>\n\n<p>And use put(\"word\", new My(\"Word\") ); Then you can check if it exists and increment when adding.</p>\n\n<p>Avoid rolling your own solution using lists, because if you get innerloop searching and sorting, your performance will stink. The first HashMap solution is actually quite fast, but a proper like that found in Google Collections is probably better.</p>\n\n<p>Counting words using Google Collections, looks something like this:</p>\n\n<pre>\n<code>\n\n    HashMultiset s = new HashMultiset();\n    s.add(\"word\");\n    s.add(\"word\");\n    System.out.println(\"\"+s.count(\"word\") );\n\n</code>\n</pre>\n\n<p>Using the HashMultiset is quite elegent, because a bag-algorithm is just what you need when counting words.</p>\n"},{"tags":[],"owner":{"account_id":2961,"reputation":70821,"user_id":4203,"accept_rate":90,"display_name":"Hank Gay"},"down_vote_count":0,"up_vote_count":41,"is_accepted":false,"score":41,"last_activity_date":1613431899,"creation_date":1221644423,"answer_id":81522,"question_id":81346,"body_markdown":"As a follow-up to my own comment: Trove looks like the way to go. If, for whatever reason, you wanted to stick with the standard JDK, [ConcurrentMap](http://java.sun.com/j2se/1.5.0/docs/api/java/util/concurrent/ConcurrentMap.html) and [AtomicLong](http://java.sun.com/j2se/1.5.0/docs/api/java/util/concurrent/atomic/AtomicLong.html) can make the code a *tiny* bit nicer, though YMMV.\r\n\r\n        final ConcurrentMap&lt;String, AtomicLong&gt; map = new ConcurrentHashMap&lt;String, AtomicLong&gt;();\r\n        map.putIfAbsent(&quot;foo&quot;, new AtomicLong(0));\r\n        map.get(&quot;foo&quot;).incrementAndGet();\r\n\r\nwill leave `1` as the value in the map for `foo`. Realistically, increased friendliness to threading is all that this approach has to recommend it.\r\n\r\n","title":"Most efficient way to increment a Map value in Java","body":"<p>As a follow-up to my own comment: Trove looks like the way to go. If, for whatever reason, you wanted to stick with the standard JDK, <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/util/concurrent/ConcurrentMap.html\" rel=\"noreferrer\">ConcurrentMap</a> and <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/util/concurrent/atomic/AtomicLong.html\" rel=\"noreferrer\">AtomicLong</a> can make the code a <em>tiny</em> bit nicer, though YMMV.</p>\n<pre><code>    final ConcurrentMap&lt;String, AtomicLong&gt; map = new ConcurrentHashMap&lt;String, AtomicLong&gt;();\n    map.putIfAbsent(&quot;foo&quot;, new AtomicLong(0));\n    map.get(&quot;foo&quot;).incrementAndGet();\n</code></pre>\n<p>will leave <code>1</code> as the value in the map for <code>foo</code>. Realistically, increased friendliness to threading is all that this approach has to recommend it.</p>\n"},{"tags":[],"owner":{"account_id":8455,"reputation":1834,"user_id":15254,"display_name":"Philip Helger"},"down_vote_count":1,"up_vote_count":21,"is_accepted":false,"score":20,"last_activity_date":1221644823,"creation_date":1221644823,"answer_id":81550,"question_id":81346,"body_markdown":"Another way would be creating a mutable integer:\r\n\r\n    class MutableInt {\r\n      int value = 0;\r\n      public void inc () { ++value; }\r\n      public int get () { return value; }\r\n    }\r\n    ...\r\n    Map&lt;String,MutableInt&gt; map = new HashMap&lt;String,MutableInt&gt; ();\r\n    MutableInt value = map.get (key);\r\n    if (value == null) {\r\n      value = new MutableInt ();\r\n      map.put (key, value);\r\n    } else {\r\n      value.inc ();\r\n    }\r\n\r\nof course this implies creating an additional object but the overhead in comparison to creating an Integer (even with Integer.valueOf) should not be so much.","title":"Most efficient way to increment a Map value in Java","body":"<p>Another way would be creating a mutable integer:</p>\n\n<pre><code>class MutableInt {\n  int value = 0;\n  public void inc () { ++value; }\n  public int get () { return value; }\n}\n...\nMap&lt;String,MutableInt&gt; map = new HashMap&lt;String,MutableInt&gt; ();\nMutableInt value = map.get (key);\nif (value == null) {\n  value = new MutableInt ();\n  map.put (key, value);\n} else {\n  value.inc ();\n}\n</code></pre>\n\n<p>of course this implies creating an additional object but the overhead in comparison to creating an Integer (even with Integer.valueOf) should not be so much.</p>\n"},{"tags":[],"owner":{"account_id":8566,"reputation":105,"user_id":15504,"display_name":"Glever"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1221646472,"creation_date":1221646472,"answer_id":81722,"question_id":81346,"body_markdown":"Instead of calling containsKey() it is faster just to call map.get and check if the returned value is null or not.\r\n\r\n\t\tInteger count = map.get(word);\r\n\t\tif(count == null){\r\n\t\t\tcount = 0;\r\n\t\t}\r\n\t\tmap.put(word, count + 1);\r\n","title":"Most efficient way to increment a Map value in Java","body":"<p>Instead of calling containsKey() it is faster just to call map.get and check if the returned value is null or not.</p>\n\n<pre><code>    Integer count = map.get(word);\n    if(count == null){\n        count = 0;\n    }\n    map.put(word, count + 1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6921,"reputation":9295,"user_id":11797,"accept_rate":81,"display_name":"Aleksandar Dimitrov"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1221660805,"creation_date":1221646832,"answer_id":81765,"question_id":81346,"body_markdown":"You should be aware of the fact that your original attempt \r\n&lt;pre&gt;int count = map.containsKey(word) ? map.get(word) : 0;&lt;/pre&gt;\r\ncontains two potentially expensive operations on a map, namely &lt;code&gt;containsKey&lt;/code&gt; and &lt;code&gt;get&lt;/code&gt;. The former performs an operation potentially pretty similar to the latter, so you&#39;re doing the same work *twice*!\r\n\r\nIf you look at the API for Map, &lt;code&gt;get&lt;/code&gt; operations usually return &lt;code&gt;null&lt;/code&gt; when the map does not contain the requested element.\r\n\r\nNote that this will make a solution like\r\n&lt;pre&gt;map.put( key, map.get(key) + 1 );&lt;/pre&gt;\r\ndangerous, since it might yield &lt;code&gt;NullPointerException&lt;/code&gt;s. You should check for a &lt;code&gt;null&lt;/code&gt; first.\r\n&lt;p&gt;&lt;p&gt;\r\n&lt;b&gt;Also note&lt;/b&gt;, and this is very important, that &lt;code&gt;HashMap&lt;/code&gt;s *can* contain &lt;code&gt;nulls&lt;/code&gt; by definition. So not every returned &lt;code&gt;null&lt;/code&gt; says &quot;there is no such element&quot;. In this respect, &lt;code&gt;containsKey&lt;/code&gt; behaves *differently* from &lt;code&gt;get&lt;/code&gt; in actually telling you *whether* there is such an element. Refer to the API for details.\r\n&lt;p&gt;&lt;p&gt;\r\nFor your case, however, you might not want to distinguish between a stored &lt;code&gt;null&lt;/code&gt; and &quot;noSuchElement&quot;. If you don&#39;t want to permit &lt;code&gt;null&lt;/code&gt;s you might prefer a &lt;code&gt;Hashtable&lt;/code&gt;. Using a wrapper library as was already proposed in other answers might be a better solution to manual treatment, depending on the complexity of your application.\r\n\r\nTo complete the answer (and I forgot to put that in at first, thanks to the edit function!), the best way of doing it natively, is to &lt;code&gt;get&lt;/code&gt; into a &lt;code&gt;final&lt;/code&gt; variable, check for &lt;code&gt;null&lt;/code&gt; and &lt;code&gt;put&lt;/code&gt; it back in with a &lt;code&gt;1&lt;/code&gt;. The variable should be &lt;code&gt;final&lt;/code&gt; because it&#39;s immutable anyway. The compiler might not need this hint, but its clearer that way.\r\n&lt;pre&gt;\r\nfinal HashMap map = generateRandomHashMap();\r\nfinal Object key = fetchSomeKey();\r\nfinal Integer i = map.get(key);\r\nif (i != null) {\r\n\tmap.put(i + 1);\r\n} else {\r\n\t// do something\r\n}\r\n&lt;/pre&gt;\r\nIf you do not want to rely on autoboxing, you should say something like &lt;code&gt;map.put(new Integer(1 + i.getValue()));&lt;/code&gt; instead.\r\n","title":"Most efficient way to increment a Map value in Java","body":"<p>You should be aware of the fact that your original attempt </p>\n\n<pre>int count = map.containsKey(word) ? map.get(word) : 0;</pre>\n\n<p>contains two potentially expensive operations on a map, namely <code>containsKey</code> and <code>get</code>. The former performs an operation potentially pretty similar to the latter, so you're doing the same work <em>twice</em>!</p>\n\n<p>If you look at the API for Map, <code>get</code> operations usually return <code>null</code> when the map does not contain the requested element.</p>\n\n<p>Note that this will make a solution like</p>\n\n<pre>map.put( key, map.get(key) + 1 );</pre>\n\n<p>dangerous, since it might yield <code>NullPointerException</code>s. You should check for a <code>null</code> first.\n<p><p>\n<b>Also note</b>, and this is very important, that <code>HashMap</code>s <em>can</em> contain <code>nulls</code> by definition. So not every returned <code>null</code> says \"there is no such element\". In this respect, <code>containsKey</code> behaves <em>differently</em> from <code>get</code> in actually telling you <em>whether</em> there is such an element. Refer to the API for details.\n<p><p>\nFor your case, however, you might not want to distinguish between a stored <code>null</code> and \"noSuchElement\". If you don't want to permit <code>null</code>s you might prefer a <code>Hashtable</code>. Using a wrapper library as was already proposed in other answers might be a better solution to manual treatment, depending on the complexity of your application.</p>\n\n<p>To complete the answer (and I forgot to put that in at first, thanks to the edit function!), the best way of doing it natively, is to <code>get</code> into a <code>final</code> variable, check for <code>null</code> and <code>put</code> it back in with a <code>1</code>. The variable should be <code>final</code> because it's immutable anyway. The compiler might not need this hint, but its clearer that way.</p>\n\n<pre>\nfinal HashMap map = generateRandomHashMap();\nfinal Object key = fetchSomeKey();\nfinal Integer i = map.get(key);\nif (i != null) {\n    map.put(i + 1);\n} else {\n    // do something\n}\n</pre>\n\n<p>If you do not want to rely on autoboxing, you should say something like <code>map.put(new Integer(1 + i.getValue()));</code> instead.</p>\n"},{"tags":[],"owner":{"account_id":5049,"reputation":23450,"user_id":7918,"accept_rate":99,"display_name":"jb."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1221862457,"creation_date":1221646879,"answer_id":81771,"question_id":81346,"body_markdown":"I&#39;d use Apache Collections Lazy Map (to initialize values to 0) and use MutableIntegers from Apache Lang as values in that map. \r\n\r\nBiggest cost is having to serach the map twice in your method. In mine you have to do it just once. Just get the value (it will get initialized if absent) and increment it.","title":"Most efficient way to increment a Map value in Java","body":"<p>I'd use Apache Collections Lazy Map (to initialize values to 0) and use MutableIntegers from Apache Lang as values in that map. </p>\n\n<p>Biggest cost is having to serach the map twice in your method. In mine you have to do it just once. Just get the value (it will get initialized if absent) and increment it.</p>\n"},{"tags":[],"owner":{"display_name":"John Wright"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1221653553,"creation_date":1221653553,"answer_id":82423,"question_id":81346,"body_markdown":"Are you sure that this is a bottleneck? Have you done any performance analysis?\r\n\r\nTry using the NetBeans profiler (its free and built into NB 6.1) to look at hotspots.\r\n\r\nFinally, a JVM upgrade (say from 1.5-&gt;1.6) is often a cheap performance booster. Even an upgrade in build number can provide good performance boosts. If you are running on Windows and this is a server class application, use -server on the command line to use the Server Hotspot JVM. On Linux and Solaris machines this is autodetected.","title":"Most efficient way to increment a Map value in Java","body":"<p>Are you sure that this is a bottleneck? Have you done any performance analysis?</p>\n\n<p>Try using the NetBeans profiler (its free and built into NB 6.1) to look at hotspots.</p>\n\n<p>Finally, a JVM upgrade (say from 1.5->1.6) is often a cheap performance booster. Even an upgrade in build number can provide good performance boosts. If you are running on Windows and this is a server class application, use -server on the command line to use the Server Hotspot JVM. On Linux and Solaris machines this is autodetected.</p>\n"},{"tags":[],"owner":{"account_id":7896,"reputation":6671,"user_id":13905,"display_name":"volley"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1260393286,"creation_date":1221668748,"answer_id":85007,"question_id":81346,"body_markdown":"Memory rotation may be an issue here, since every boxing of an int larger than or equal to 128 causes an object allocation (see Integer.valueOf(int)). Although the garbage collector very efficiently deals with short-lived objects, performance will suffer to some degree.\r\n\r\nIf you know that the number of increments made will largely outnumber the number of keys (=words in this case), consider using an int holder instead. Phax already presented code for this. Here it is again, with two changes (holder class made static and initial value set to 1):\r\n\r\n    static class MutableInt {\r\n      int value = 1;\r\n      void inc() { ++value; }\r\n      int get() { return value; }\r\n    }\r\n    ...\r\n    Map&lt;String,MutableInt&gt; map = new HashMap&lt;String,MutableInt&gt;();\r\n    MutableInt value = map.get(key);\r\n    if (value == null) {\r\n      value = new MutableInt();\r\n      map.put(key, value);\r\n    } else {\r\n      value.inc();\r\n    }\r\n\r\nIf you need extreme performance, look for a Map implementation which is directly tailored towards primitive value types. jrudolph mentioned [GNU Trove][1].\r\n\r\nBy the way, a good search term for this subject is &quot;histogram&quot;.\r\n\r\n  [1]: http://trove4j.sourceforge.net","title":"Most efficient way to increment a Map value in Java","body":"<p>Memory rotation may be an issue here, since every boxing of an int larger than or equal to 128 causes an object allocation (see Integer.valueOf(int)). Although the garbage collector very efficiently deals with short-lived objects, performance will suffer to some degree.</p>\n\n<p>If you know that the number of increments made will largely outnumber the number of keys (=words in this case), consider using an int holder instead. Phax already presented code for this. Here it is again, with two changes (holder class made static and initial value set to 1):</p>\n\n<pre><code>static class MutableInt {\n  int value = 1;\n  void inc() { ++value; }\n  int get() { return value; }\n}\n...\nMap&lt;String,MutableInt&gt; map = new HashMap&lt;String,MutableInt&gt;();\nMutableInt value = map.get(key);\nif (value == null) {\n  value = new MutableInt();\n  map.put(key, value);\n} else {\n  value.inc();\n}\n</code></pre>\n\n<p>If you need extreme performance, look for a Map implementation which is directly tailored towards primitive value types. jrudolph mentioned <a href=\"http://trove4j.sourceforge.net\" rel=\"noreferrer\">GNU Trove</a>.</p>\n\n<p>By the way, a good search term for this subject is \"histogram\".</p>\n"},{"tags":[],"owner":{"account_id":5510,"reputation":301,"user_id":8902,"display_name":"Chris Nokleberg"},"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1221671040,"creation_date":1221670705,"answer_id":85342,"question_id":81346,"body_markdown":"It&#39;s always a good idea to look at the [Google Collections Library][1] for this kind of thing. In this case a [Multiset][2] will do the trick:\r\n\r\n    Multiset bag = Multisets.newHashMultiset();\r\n    String word = &quot;foo&quot;;\r\n    bag.add(word);\r\n    bag.add(word);\r\n    System.out.println(bag.count(word)); // Prints 2\r\n\r\nThere are Map-like methods for iterating over keys/entries, etc. Internally the implementation currently uses a &lt;code&gt;HashMap&amp;lt;E, AtomicInteger&amp;gt;&lt;/code&gt;, so you will not incur boxing costs.\r\n\r\n\r\n  [1]: http://code.google.com/p/google-collections/\r\n  [2]: http://google-collections.googlecode.com/svn/trunk/javadoc/com/google/common/collect/Multiset.html","title":"Most efficient way to increment a Map value in Java","body":"<p>It's always a good idea to look at the <a href=\"http://code.google.com/p/google-collections/\" rel=\"noreferrer\">Google Collections Library</a> for this kind of thing. In this case a <a href=\"http://google-collections.googlecode.com/svn/trunk/javadoc/com/google/common/collect/Multiset.html\" rel=\"noreferrer\">Multiset</a> will do the trick:</p>\n\n<pre><code>Multiset bag = Multisets.newHashMultiset();\nString word = \"foo\";\nbag.add(word);\nbag.add(word);\nSystem.out.println(bag.count(word)); // Prints 2\n</code></pre>\n\n<p>There are Map-like methods for iterating over keys/entries, etc. Internally the implementation currently uses a <code>HashMap&lt;E, AtomicInteger&gt;</code>, so you will not incur boxing costs.</p>\n"},{"tags":[],"owner":{"account_id":6138,"reputation":9524,"user_id":10204,"display_name":"gregory"},"down_vote_count":3,"up_vote_count":430,"is_accepted":true,"score":427,"last_activity_date":1337086240,"creation_date":1221911940,"answer_id":107987,"question_id":81346,"body_markdown":"## Some test results\r\n\r\nI&#39;ve gotten a lot of good answers to this question--thanks folks--so I decided to run some tests and figure out which method is actually fastest. The five methods I tested are these:\r\n\r\n* the &quot;ContainsKey&quot; method that I presented in [the question](https://stackoverflow.com/questions/81346/most-efficient-way-to-increment-a-map-value-in-java)\r\n* the &quot;TestForNull&quot; method suggested by [Aleksandar Dimitrov](#81765)\r\n* the &quot;AtomicLong&quot; method suggested by [Hank Gay](#81522)\r\n* the &quot;Trove&quot; method suggested by [jrudolph](#81399)\r\n* the &quot;MutableInt&quot; method suggested by [phax.myopenid.com](#81550)\r\n\r\n## Method\r\n\r\nHere&#39;s what I did...\r\n\r\n1. created five classes that were identical except for the differences shown below. Each class had to perform an operation typical of the scenario I presented: opening a 10MB file and reading it in, then performing a frequency count of all the word tokens in the file. Since this took an average of only 3 seconds, I had it perform the frequency count (not the I/O) 10 times.\r\n2. timed the loop of 10 iterations but _not the I/O operation_ and recorded the total time taken (in clock seconds) essentially using [Ian Darwin&#39;s method in the Java Cookbook](http://books.google.com/books?id=t85jM-ZwTX0C&amp;printsec=frontcover&amp;dq=java+cookbook&amp;sig=ACfU3U1lAe1vnbVUwdIcWeTpaxZi1xVUXQ#PPA734,M1).\r\n3. performed all five tests in series, and then did this another three times.\r\n4. averaged the four results for each method.\r\n\r\n## Results\r\n\r\nI&#39;ll present the results first and the code below for those who are interested.\r\n\r\nThe **ContainsKey** method was, as expected, the slowest, so I&#39;ll give the speed of each method in comparison to the speed of that method.\r\n\r\n* **ContainsKey:** 30.654 seconds (baseline)\r\n* **AtomicLong:** 29.780 seconds (1.03 times as fast)\r\n* **TestForNull:** 28.804 seconds (1.06 times as fast)\r\n* **Trove:** 26.313 seconds (1.16 times as fast)\r\n* **MutableInt:** 25.747 seconds (1.19 times as fast)\r\n\r\n## Conclusions\r\n\r\nIt would appear that only the MutableInt method and the Trove method are significantly faster, in that only they give a performance boost of more than 10%. However, if threading is an issue, AtomicLong might be more attractive than the others (I&#39;m not really sure). I also ran TestForNull with &lt;code&gt;final&lt;/code&gt; variables, but the difference was negligible.\r\n\r\nNote that I haven&#39;t profiled memory usage in the different scenarios. I&#39;d be happy to hear from anybody who has good insights into how the MutableInt and Trove methods would be likely to affect memory usage.\r\n\r\nPersonally, I find the MutableInt method the most attractive, since it doesn&#39;t require loading any third-party classes. So unless I discover problems with it, that&#39;s the way I&#39;m most likely to go.\r\n\r\n## The code\r\n\r\nHere is the crucial code from each method.\r\n\r\n### ContainsKey\r\n\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    ...\r\n    Map&lt;String, Integer&gt; freq = new HashMap&lt;String, Integer&gt;();\r\n    ...\r\n    int count = freq.containsKey(word) ? freq.get(word) : 0;\r\n    freq.put(word, count + 1);\r\n\r\n### TestForNull\r\n\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    ...\r\n    Map&lt;String, Integer&gt; freq = new HashMap&lt;String, Integer&gt;();\r\n    ...\r\n    Integer count = freq.get(word);\r\n    if (count == null) {\r\n        freq.put(word, 1);\r\n    }\r\n    else {\r\n        freq.put(word, count + 1);\r\n    }\r\n\r\n### AtomicLong\r\n\r\n    import java.util.concurrent.ConcurrentHashMap;\r\n    import java.util.concurrent.ConcurrentMap;\r\n    import java.util.concurrent.atomic.AtomicLong;\r\n    ...\r\n    final ConcurrentMap&lt;String, AtomicLong&gt; map = \r\n        new ConcurrentHashMap&lt;String, AtomicLong&gt;();\r\n    ...\r\n    map.putIfAbsent(word, new AtomicLong(0));\r\n    map.get(word).incrementAndGet();\r\n\r\n### Trove\r\n\r\n    import gnu.trove.TObjectIntHashMap;\r\n    ...\r\n    TObjectIntHashMap&lt;String&gt; freq = new TObjectIntHashMap&lt;String&gt;();\r\n    ...\r\n    freq.adjustOrPutValue(word, 1, 1);\r\n\r\n### MutableInt\r\n\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    ...\r\n    class MutableInt {\r\n      int value = 1; // note that we start at 1 since we&#39;re counting\r\n      public void increment () { ++value;      }\r\n      public int  get ()       { return value; }\r\n    }\r\n    ...\r\n    Map&lt;String, MutableInt&gt; freq = new HashMap&lt;String, MutableInt&gt;();\r\n    ...\r\n    MutableInt count = freq.get(word);\r\n    if (count == null) {\r\n        freq.put(word, new MutableInt());\r\n    }\r\n    else {\r\n        count.increment();\r\n    }\r\n\r\n","title":"Most efficient way to increment a Map value in Java","body":"<h2>Some test results</h2>\n\n<p>I've gotten a lot of good answers to this question--thanks folks--so I decided to run some tests and figure out which method is actually fastest. The five methods I tested are these:</p>\n\n<ul>\n<li>the \"ContainsKey\" method that I presented in <a href=\"https://stackoverflow.com/questions/81346/most-efficient-way-to-increment-a-map-value-in-java\">the question</a></li>\n<li>the \"TestForNull\" method suggested by Aleksandar Dimitrov</li>\n<li>the \"AtomicLong\" method suggested by Hank Gay</li>\n<li>the \"Trove\" method suggested by jrudolph</li>\n<li>the \"MutableInt\" method suggested by phax.myopenid.com</li>\n</ul>\n\n<h2>Method</h2>\n\n<p>Here's what I did...</p>\n\n<ol>\n<li>created five classes that were identical except for the differences shown below. Each class had to perform an operation typical of the scenario I presented: opening a 10MB file and reading it in, then performing a frequency count of all the word tokens in the file. Since this took an average of only 3 seconds, I had it perform the frequency count (not the I/O) 10 times.</li>\n<li>timed the loop of 10 iterations but <em>not the I/O operation</em> and recorded the total time taken (in clock seconds) essentially using <a href=\"http://books.google.com/books?id=t85jM-ZwTX0C&amp;printsec=frontcover&amp;dq=java+cookbook&amp;sig=ACfU3U1lAe1vnbVUwdIcWeTpaxZi1xVUXQ#PPA734,M1\" rel=\"noreferrer\">Ian Darwin's method in the Java Cookbook</a>.</li>\n<li>performed all five tests in series, and then did this another three times.</li>\n<li>averaged the four results for each method.</li>\n</ol>\n\n<h2>Results</h2>\n\n<p>I'll present the results first and the code below for those who are interested.</p>\n\n<p>The <strong>ContainsKey</strong> method was, as expected, the slowest, so I'll give the speed of each method in comparison to the speed of that method.</p>\n\n<ul>\n<li><strong>ContainsKey:</strong> 30.654 seconds (baseline)</li>\n<li><strong>AtomicLong:</strong> 29.780 seconds (1.03 times as fast)</li>\n<li><strong>TestForNull:</strong> 28.804 seconds (1.06 times as fast)</li>\n<li><strong>Trove:</strong> 26.313 seconds (1.16 times as fast)</li>\n<li><strong>MutableInt:</strong> 25.747 seconds (1.19 times as fast)</li>\n</ul>\n\n<h2>Conclusions</h2>\n\n<p>It would appear that only the MutableInt method and the Trove method are significantly faster, in that only they give a performance boost of more than 10%. However, if threading is an issue, AtomicLong might be more attractive than the others (I'm not really sure). I also ran TestForNull with <code>final</code> variables, but the difference was negligible.</p>\n\n<p>Note that I haven't profiled memory usage in the different scenarios. I'd be happy to hear from anybody who has good insights into how the MutableInt and Trove methods would be likely to affect memory usage.</p>\n\n<p>Personally, I find the MutableInt method the most attractive, since it doesn't require loading any third-party classes. So unless I discover problems with it, that's the way I'm most likely to go.</p>\n\n<h2>The code</h2>\n\n<p>Here is the crucial code from each method.</p>\n\n<h3>ContainsKey</h3>\n\n<pre><code>import java.util.HashMap;\nimport java.util.Map;\n...\nMap&lt;String, Integer&gt; freq = new HashMap&lt;String, Integer&gt;();\n...\nint count = freq.containsKey(word) ? freq.get(word) : 0;\nfreq.put(word, count + 1);\n</code></pre>\n\n<h3>TestForNull</h3>\n\n<pre><code>import java.util.HashMap;\nimport java.util.Map;\n...\nMap&lt;String, Integer&gt; freq = new HashMap&lt;String, Integer&gt;();\n...\nInteger count = freq.get(word);\nif (count == null) {\n    freq.put(word, 1);\n}\nelse {\n    freq.put(word, count + 1);\n}\n</code></pre>\n\n<h3>AtomicLong</h3>\n\n<pre><code>import java.util.concurrent.ConcurrentHashMap;\nimport java.util.concurrent.ConcurrentMap;\nimport java.util.concurrent.atomic.AtomicLong;\n...\nfinal ConcurrentMap&lt;String, AtomicLong&gt; map = \n    new ConcurrentHashMap&lt;String, AtomicLong&gt;();\n...\nmap.putIfAbsent(word, new AtomicLong(0));\nmap.get(word).incrementAndGet();\n</code></pre>\n\n<h3>Trove</h3>\n\n<pre><code>import gnu.trove.TObjectIntHashMap;\n...\nTObjectIntHashMap&lt;String&gt; freq = new TObjectIntHashMap&lt;String&gt;();\n...\nfreq.adjustOrPutValue(word, 1, 1);\n</code></pre>\n\n<h3>MutableInt</h3>\n\n<pre><code>import java.util.HashMap;\nimport java.util.Map;\n...\nclass MutableInt {\n  int value = 1; // note that we start at 1 since we're counting\n  public void increment () { ++value;      }\n  public int  get ()       { return value; }\n}\n...\nMap&lt;String, MutableInt&gt; freq = new HashMap&lt;String, MutableInt&gt;();\n...\nMutableInt count = freq.get(word);\nif (count == null) {\n    freq.put(word, new MutableInt());\n}\nelse {\n    count.increment();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2466,"reputation":34852,"user_id":3434,"accept_rate":90,"display_name":"Apocalisp"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1242166715,"creation_date":1242166715,"answer_id":855154,"question_id":81346,"body_markdown":"The [Functional Java][1] library&#39;s `TreeMap` datastructure has an `update` method in the latest trunk head:\r\n\r\n    public TreeMap&lt;K, V&gt; update(final K k, final F&lt;V, V&gt; f)\r\n\r\nExample usage:\r\n\r\n    import static fj.data.TreeMap.empty;\r\n    import static fj.function.Integers.add;\r\n    import static fj.pre.Ord.stringOrd;\r\n    import fj.data.TreeMap;\r\n\r\n    public class TreeMap_Update\r\n      {public static void main(String[] a)\r\n        {TreeMap&lt;String, Integer&gt; map = empty(stringOrd);\r\n         map = map.set(&quot;foo&quot;, 1);\r\n         map = map.update(&quot;foo&quot;, add.f(1));\r\n         System.out.println(map.get(&quot;foo&quot;).some());}}\r\n\r\n\r\n\r\nThis program prints &quot;2&quot;.\r\n\r\n  [1]: http://code.google.com/p/functionaljava","title":"Most efficient way to increment a Map value in Java","body":"<p>The <a href=\"http://code.google.com/p/functionaljava\" rel=\"nofollow noreferrer\">Functional Java</a> library's <code>TreeMap</code> datastructure has an <code>update</code> method in the latest trunk head:</p>\n\n<pre><code>public TreeMap&lt;K, V&gt; update(final K k, final F&lt;V, V&gt; f)\n</code></pre>\n\n<p>Example usage:</p>\n\n<pre><code>import static fj.data.TreeMap.empty;\nimport static fj.function.Integers.add;\nimport static fj.pre.Ord.stringOrd;\nimport fj.data.TreeMap;\n\npublic class TreeMap_Update\n  {public static void main(String[] a)\n    {TreeMap&lt;String, Integer&gt; map = empty(stringOrd);\n     map = map.set(\"foo\", 1);\n     map = map.update(\"foo\", add.f(1));\n     System.out.println(map.get(\"foo\").some());}}\n</code></pre>\n\n<p>This program prints \"2\".</p>\n"},{"tags":[],"owner":{"account_id":673574,"reputation":21,"user_id":517668,"display_name":"the felis leo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1290527866,"creation_date":1290527866,"answer_id":4257986,"question_id":81346,"body_markdown":"&quot;put&quot; need &quot;get&quot; (to ensure no duplicate key).&lt;br&gt;\r\nSo directly do a &quot;put&quot;,&lt;br&gt;\r\nand if there was a previous value, then do an addition:\r\n&lt;pre&gt;&lt;code&gt;Map&lt;String,MutableInt&gt; map = new HashMap&lt;String,MutableInt&gt; ();\r\n\r\nMutableInt newValue = new MutableInt (1); // default = inc\r\nMutableInt oldValue = map.put (key, newValue);\r\nif (oldValue != null) {\r\n  newValue.add(oldValue); // old + inc\r\n}\r\n&lt;/code&gt;&lt;/pre&gt;\r\n\r\nIf count starts at 0, then add 1: (or any others values...)\r\n&lt;pre&gt;&lt;code&gt;Map&lt;String,MutableInt&gt; map = new HashMap&lt;String,MutableInt&gt; ();\r\n\r\nMutableInt newValue = new MutableInt (0); // default\r\nMutableInt oldValue = map.put (key, newValue);\r\nif (oldValue != null) {\r\n  newValue.setValue(oldValue + 1); // old + inc\r\n}\r\n&lt;/code&gt;&lt;/pre&gt;\r\n\r\n*Notice :* This code is not thread safe. Use it to build then use the map, not to concurrently update it. \r\n\r\n*Optimization :* In a loop, keep old value to become the new value of next loop.\r\n&lt;pre&gt;&lt;code&gt;Map&lt;String,MutableInt&gt; map = new HashMap&lt;String,MutableInt&gt; ();\r\nfinal int defaut = 0;\r\nfinal int inc = 1;\r\n\r\nMutableInt oldValue = new MutableInt (default);\r\nwhile(true) {\r\n  MutableInt newValue = oldValue;\r\n\r\n  oldValue = map.put (key, newValue); // insert or...\r\n  if (oldValue != null) {\r\n    newValue.setValue(oldValue + inc); // ...update\r\n\r\n    oldValue.setValue(default); // reuse\r\n  } else\r\n    oldValue = new MutableInt (default); // renew\r\n  }\r\n}\r\n&lt;/code&gt;&lt;/pre&gt;\r\n\r\n","title":"Most efficient way to increment a Map value in Java","body":"<p>\"put\" need \"get\" (to ensure no duplicate key).<br>\nSo directly do a \"put\",<br>\nand if there was a previous value, then do an addition:</p>\n\n<pre><code>Map map = new HashMap ();\n\nMutableInt newValue = new MutableInt (1); // default = inc\nMutableInt oldValue = map.put (key, newValue);\nif (oldValue != null) {\n  newValue.add(oldValue); // old + inc\n}\n</code></pre>\n\n<p>If count starts at 0, then add 1: (or any others values...)</p>\n\n<pre><code>Map map = new HashMap ();\n\nMutableInt newValue = new MutableInt (0); // default\nMutableInt oldValue = map.put (key, newValue);\nif (oldValue != null) {\n  newValue.setValue(oldValue + 1); // old + inc\n}\n</code></pre>\n\n<p><em>Notice :</em> This code is not thread safe. Use it to build then use the map, not to concurrently update it. </p>\n\n<p><em>Optimization :</em> In a loop, keep old value to become the new value of next loop.</p>\n\n<pre><code>Map map = new HashMap ();\nfinal int defaut = 0;\nfinal int inc = 1;\n\nMutableInt oldValue = new MutableInt (default);\nwhile(true) {\n  MutableInt newValue = oldValue;\n\n  oldValue = map.put (key, newValue); // insert or...\n  if (oldValue != null) {\n    newValue.setValue(oldValue + inc); // ...update\n\n    oldValue.setValue(default); // reuse\n  } else\n    oldValue = new MutableInt (default); // renew\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":675586,"reputation":31,"user_id":521173,"display_name":"the felis leo"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1354785350,"creation_date":1290763232,"answer_id":4283959,"question_id":81346,"body_markdown":"Google Collections HashMultiset :  \r\n - quite elegant to use  \r\n - but consume CPU and memory\r\n\r\nBest would be to have a method like : `Entry&lt;K,V&gt; getOrPut(K);` \r\n(elegant, and low cost)\r\n\r\nSuch a method will compute hash and index only once,\r\nand then we could do what we want with the entry\r\n(either replace or update the value).\r\n\r\nMore elegant:  \r\n - take a `HashSet&lt;Entry&gt;`  \r\n - extend it so that `get(K)` put a new Entry if needed  \r\n - Entry could be your own object.  \r\n--&gt; `(new MyHashSet()).get(k).increment();`  \r\n\r\n","title":"Most efficient way to increment a Map value in Java","body":"<p>Google Collections HashMultiset :<br>\n - quite elegant to use<br>\n - but consume CPU and memory</p>\n\n<p>Best would be to have a method like : <code>Entry&lt;K,V&gt; getOrPut(K);</code> \n(elegant, and low cost)</p>\n\n<p>Such a method will compute hash and index only once,\nand then we could do what we want with the entry\n(either replace or update the value).</p>\n\n<p>More elegant:<br>\n - take a <code>HashSet&lt;Entry&gt;</code><br>\n - extend it so that <code>get(K)</code> put a new Entry if needed<br>\n - Entry could be your own object.<br>\n--> <code>(new MyHashSet()).get(k).increment();</code>  </p>\n"},{"tags":[],"owner":{"account_id":952680,"reputation":3352,"user_id":978525,"display_name":"Eamonn O&#39;Brien-Strain"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1342374576,"creation_date":1341199768,"answer_id":11287489,"question_id":81346,"body_markdown":"A variation on the MutableInt approach that might be even faster, if a bit of a hack, is to use a single-element int array: \r\n\r\n    Map&lt;String,int[]&gt; map = new HashMap&lt;String,int[]&gt;();\r\n    ...\r\n    int[] value = map.get(key);\r\n    if (value == null) \r\n      map.put(key, new int[]{1} );\r\n    else\r\n      ++value[0];\r\n\r\nIt would be interesting if you could rerun your performance tests with this variation.  It might be the fastest.\r\n\r\n_____________\r\nEdit: The above pattern worked fine for me, but eventually I changed to use Trove&#39;s collections to reduce memory size in some very large maps I was creating -- and as a bonus it was also faster.\r\n\r\nOne really nice feature is that the `TObjectIntHashMap` class has a single `adjustOrPutValue` call that, depending on whether there is already a value at that key, will either put an initial value or increment the existing value.  This is perfect for incrementing:\r\n\r\n    TObjectIntHashMap&lt;String&gt; map = new TObjectIntHashMap&lt;String&gt;();\r\n    ...\r\n    map.adjustOrPutValue(key, 1, 1);\r\n\r\n\r\n ","title":"Most efficient way to increment a Map value in Java","body":"<p>A variation on the MutableInt approach that might be even faster, if a bit of a hack, is to use a single-element int array: </p>\n\n<pre><code>Map&lt;String,int[]&gt; map = new HashMap&lt;String,int[]&gt;();\n...\nint[] value = map.get(key);\nif (value == null) \n  map.put(key, new int[]{1} );\nelse\n  ++value[0];\n</code></pre>\n\n<p>It would be interesting if you could rerun your performance tests with this variation.  It might be the fastest.</p>\n\n<hr>\n\n<p>Edit: The above pattern worked fine for me, but eventually I changed to use Trove's collections to reduce memory size in some very large maps I was creating -- and as a bonus it was also faster.</p>\n\n<p>One really nice feature is that the <code>TObjectIntHashMap</code> class has a single <code>adjustOrPutValue</code> call that, depending on whether there is already a value at that key, will either put an initial value or increment the existing value.  This is perfect for incrementing:</p>\n\n<pre><code>TObjectIntHashMap&lt;String&gt; map = new TObjectIntHashMap&lt;String&gt;();\n...\nmap.adjustOrPutValue(key, 1, 1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":143462,"reputation":31666,"user_id":419863,"accept_rate":92,"display_name":"H6_"},"down_vote_count":0,"up_vote_count":36,"is_accepted":false,"score":36,"last_activity_date":1548918790,"creation_date":1346771319,"answer_id":12266382,"question_id":81346,"body_markdown":"Google [Guava][1] is your friend...\r\n------------------------------\r\n\r\n...at least in some cases. They have this nice [*AtomicLongMap*][2]. Especially nice because you are dealing with *long* as value in your map.\r\n\r\nE.g.\r\n\r\n&lt;!-- language-all: lang-java --&gt;\r\n\r\n    AtomicLongMap&lt;String&gt; map = AtomicLongMap.create();\r\n    [...]\r\n    map.getAndIncrement(word);\r\n\r\nAlso possible to add more then 1 to the value:\r\n\r\n    map.getAndAdd(word, 112L); \r\n\r\n\r\n\r\n  [1]: https://github.com/google/guava\r\n  [2]: http://google.github.io/guava/releases/21.0/api/docs/index.html?com/google/common/util/concurrent/AtomicLongMap.html","title":"Most efficient way to increment a Map value in Java","body":"<h2>Google <a href=\"https://github.com/google/guava\" rel=\"noreferrer\">Guava</a> is your friend...</h2>\n\n<p>...at least in some cases. They have this nice <a href=\"http://google.github.io/guava/releases/21.0/api/docs/index.html?com/google/common/util/concurrent/AtomicLongMap.html\" rel=\"noreferrer\"><em>AtomicLongMap</em></a>. Especially nice because you are dealing with <em>long</em> as value in your map.</p>\n\n<p>E.g.</p>\n\n\n\n<pre class=\"lang-java prettyprint-override\"><code>AtomicLongMap&lt;String&gt; map = AtomicLongMap.create();\n[...]\nmap.getAndIncrement(word);\n</code></pre>\n\n<p>Also possible to add more then 1 to the value:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>map.getAndAdd(word, 112L); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":12059,"reputation":26552,"user_id":23572,"accept_rate":63,"display_name":"Craig P. Motlin"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1487642106,"creation_date":1379095436,"answer_id":18792535,"question_id":81346,"body_markdown":"If you&#39;re using [Eclipse Collections][1], you can use a `HashBag`. It will be the most efficient approach in terms of memory usage and it will also perform well in terms of execution speed.\r\n\r\n`HashBag` is backed by a `MutableObjectIntMap` which stores primitive ints instead of `Counter` objects. This reduces memory overhead and improves execution speed.\r\n\r\n`HashBag` provides the API you&#39;d need since it&#39;s a `Collection` that also allows you to query for the number of occurrences of an item.\r\n\r\nHere&#39;s an example from the [Eclipse Collections Kata][2].\r\n\r\n    MutableBag&lt;String&gt; bag =\r\n      HashBag.newBagWith(&quot;one&quot;, &quot;two&quot;, &quot;two&quot;, &quot;three&quot;, &quot;three&quot;, &quot;three&quot;);\r\n    \r\n    Assert.assertEquals(3, bag.occurrencesOf(&quot;three&quot;));\r\n    \r\n    bag.add(&quot;one&quot;);\r\n    Assert.assertEquals(2, bag.occurrencesOf(&quot;one&quot;));\r\n    \r\n    bag.addOccurrences(&quot;one&quot;, 4);\r\n    Assert.assertEquals(6, bag.occurrencesOf(&quot;one&quot;));\r\n\r\n**Note:** I am a committer for Eclipse Collections.\r\n\r\n\r\n  [1]: http://www.eclipse.org/collections/\r\n  [2]: https://github.com/eclipse/eclipse-collections-kata","title":"Most efficient way to increment a Map value in Java","body":"<p>If you're using <a href=\"http://www.eclipse.org/collections/\" rel=\"nofollow noreferrer\">Eclipse Collections</a>, you can use a <code>HashBag</code>. It will be the most efficient approach in terms of memory usage and it will also perform well in terms of execution speed.</p>\n\n<p><code>HashBag</code> is backed by a <code>MutableObjectIntMap</code> which stores primitive ints instead of <code>Counter</code> objects. This reduces memory overhead and improves execution speed.</p>\n\n<p><code>HashBag</code> provides the API you'd need since it's a <code>Collection</code> that also allows you to query for the number of occurrences of an item.</p>\n\n<p>Here's an example from the <a href=\"https://github.com/eclipse/eclipse-collections-kata\" rel=\"nofollow noreferrer\">Eclipse Collections Kata</a>.</p>\n\n<pre><code>MutableBag&lt;String&gt; bag =\n  HashBag.newBagWith(\"one\", \"two\", \"two\", \"three\", \"three\", \"three\");\n\nAssert.assertEquals(3, bag.occurrencesOf(\"three\"));\n\nbag.add(\"one\");\nAssert.assertEquals(2, bag.occurrencesOf(\"one\"));\n\nbag.addOccurrences(\"one\", 4);\nAssert.assertEquals(6, bag.occurrencesOf(\"one\"));\n</code></pre>\n\n<p><strong>Note:</strong> I am a committer for Eclipse Collections.</p>\n"},{"tags":[],"owner":{"account_id":326925,"reputation":14868,"user_id":648955,"accept_rate":62,"display_name":"leventov"},"down_vote_count":0,"up_vote_count":49,"is_accepted":false,"score":49,"last_activity_date":1464553216,"creation_date":1408317233,"answer_id":25354509,"question_id":81346,"body_markdown":"A little research in 2016: https://github.com/leventov/java-word-count, [benchmark source code](https://github.com/leventov/java-word-count/blob/8a12a5ea4f53f01b9ee0e57f8aec70d75bc2030d/src/jmh/java/com/koloboke/wordcount/WordCount.java)\r\n\r\nBest results per method (smaller is better):\r\n\r\n                     time, ms\r\n    kolobokeCompile  18.8\r\n    koloboke         19.8\r\n    trove            20.8\r\n    fastutil         22.7\r\n    mutableInt       24.3\r\n    atomicInteger    25.3\r\n    eclipse          26.9\r\n    hashMap          28.0\r\n    hppc             33.6\r\n    hppcRt           36.5\r\n\r\nTime\\space results:\r\n&lt;img src=&quot;http://i.stack.imgur.com/nR5yp.png&quot; width=&quot;600&quot;&gt;\r\n ","title":"Most efficient way to increment a Map value in Java","body":"<p>A little research in 2016: <a href=\"https://github.com/leventov/java-word-count\" rel=\"noreferrer\">https://github.com/leventov/java-word-count</a>, <a href=\"https://github.com/leventov/java-word-count/blob/8a12a5ea4f53f01b9ee0e57f8aec70d75bc2030d/src/jmh/java/com/koloboke/wordcount/WordCount.java\" rel=\"noreferrer\">benchmark source code</a></p>\n\n<p>Best results per method (smaller is better):</p>\n\n<pre><code>                 time, ms\nkolobokeCompile  18.8\nkoloboke         19.8\ntrove            20.8\nfastutil         22.7\nmutableInt       24.3\natomicInteger    25.3\neclipse          26.9\nhashMap          28.0\nhppc             33.6\nhppcRt           36.5\n</code></pre>\n\n<p>Time\\space results:\n<img src=\"https://i.stack.imgur.com/nR5yp.png\" width=\"600\"></p>\n"},{"tags":[],"owner":{"account_id":3061216,"reputation":3877,"user_id":2593810,"accept_rate":90,"display_name":"chancdn"},"down_vote_count":1,"up_vote_count":48,"is_accepted":false,"score":47,"last_activity_date":1580198522,"creation_date":1447523095,"answer_id":33711386,"question_id":81346,"body_markdown":"    Map&lt;String, Integer&gt; map = new HashMap&lt;&gt;();\r\n    String key = &quot;a random key&quot;;\r\n    int count = map.getOrDefault(key, 0); // ensure count will be one of 0,1,2,3,...\r\n    map.put(key, count + 1);\r\n\r\nAnd that&#39;s how you increment a value with simple code.\r\n\r\nBenefit:\r\n\r\n - No need to add a new class or use another concept of mutable int\r\n - Not relying on any library\r\n - Easy to understand what&#39;s going on exactly (Not too much abstraction)\r\n\r\nDownside:\r\n\r\n- The hash map will be searched twice for get() and put(). So it will not be the most performant code. \r\n\r\nTheoretically, once you call get(), you already know where to put(), so you should not have to search again. But searching in hash map usually takes a very minimal time that you can kind of ignore this performance issue.\r\n\r\n\r\nBut if you are very serious about the issue, you are a perfectionist, another way is to use merge method, this is (probably) more efficient than the previous code snippet as you will be (theoretically) searching the map only once: (though this code is not obvious from first sight, it&#39;s short and performant)\r\n\r\n    map.merge(key, 1, (a,b) -&gt; a+b);\r\n\r\nSuggestion: you should care about code readability more than little performance gain in most of the time. If the first code snippet is easier for you to understand then use it. But if you are able to understand the 2nd one fine then you can also go for it!","title":"Most efficient way to increment a Map value in Java","body":"<pre><code>Map&lt;String, Integer&gt; map = new HashMap&lt;&gt;();\nString key = \"a random key\";\nint count = map.getOrDefault(key, 0); // ensure count will be one of 0,1,2,3,...\nmap.put(key, count + 1);\n</code></pre>\n\n<p>And that's how you increment a value with simple code.</p>\n\n<p>Benefit:</p>\n\n<ul>\n<li>No need to add a new class or use another concept of mutable int</li>\n<li>Not relying on any library</li>\n<li>Easy to understand what's going on exactly (Not too much abstraction)</li>\n</ul>\n\n<p>Downside:</p>\n\n<ul>\n<li>The hash map will be searched twice for get() and put(). So it will not be the most performant code. </li>\n</ul>\n\n<p>Theoretically, once you call get(), you already know where to put(), so you should not have to search again. But searching in hash map usually takes a very minimal time that you can kind of ignore this performance issue.</p>\n\n<p>But if you are very serious about the issue, you are a perfectionist, another way is to use merge method, this is (probably) more efficient than the previous code snippet as you will be (theoretically) searching the map only once: (though this code is not obvious from first sight, it's short and performant)</p>\n\n<pre><code>map.merge(key, 1, (a,b) -&gt; a+b);\n</code></pre>\n\n<p>Suggestion: you should care about code readability more than little performance gain in most of the time. If the first code snippet is easier for you to understand then use it. But if you are able to understand the 2nd one fine then you can also go for it!</p>\n"},{"tags":[],"owner":{"account_id":4587113,"reputation":509,"user_id":3721429,"display_name":"MGoksu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1463565623,"creation_date":1463565623,"answer_id":37296257,"question_id":81346,"body_markdown":"I don&#39;t know how efficient it is but the below code works as well.You need to define a `BiFunction` at the beginning. Plus, you can make more than just increment with this method.\r\n\r\n    public static Map&lt;String, Integer&gt; strInt = new HashMap&lt;String, Integer&gt;();\r\n    \t\r\n\tpublic static void main(String[] args) {\r\n\t\tBiFunction&lt;Integer, Integer, Integer&gt; bi = (x,y) -&gt; {\r\n\t\t\tif(x == null)\r\n\t\t\t\treturn y;\r\n\t\t\treturn x+y;\r\n\t\t};\r\n\t\tstrInt.put(&quot;abc&quot;, 0);\r\n\t\t\r\n\t\t\r\n\t\tstrInt.merge(&quot;abc&quot;, 1, bi);\r\n\t\tstrInt.merge(&quot;abc&quot;, 1, bi);\r\n\t\tstrInt.merge(&quot;abc&quot;, 1, bi);\r\n        strInt.merge(&quot;abcd&quot;, 1, bi);\r\n    \t\t\r\n\t\tSystem.out.println(strInt.get(&quot;abc&quot;));\r\n\t\tSystem.out.println(strInt.get(&quot;abcd&quot;));\r\n\t}\r\n\r\noutput is\r\n\r\n    3\r\n    1","title":"Most efficient way to increment a Map value in Java","body":"<p>I don't know how efficient it is but the below code works as well.You need to define a <code>BiFunction</code> at the beginning. Plus, you can make more than just increment with this method.</p>\n\n<pre><code>public static Map&lt;String, Integer&gt; strInt = new HashMap&lt;String, Integer&gt;();\n\npublic static void main(String[] args) {\n    BiFunction&lt;Integer, Integer, Integer&gt; bi = (x,y) -&gt; {\n        if(x == null)\n            return y;\n        return x+y;\n    };\n    strInt.put(\"abc\", 0);\n\n\n    strInt.merge(\"abc\", 1, bi);\n    strInt.merge(\"abc\", 1, bi);\n    strInt.merge(\"abc\", 1, bi);\n    strInt.merge(\"abcd\", 1, bi);\n\n    System.out.println(strInt.get(\"abc\"));\n    System.out.println(strInt.get(\"abcd\"));\n}\n</code></pre>\n\n<p>output is</p>\n\n<pre><code>3\n1\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1257650,"reputation":23479,"user_id":1216775,"accept_rate":54,"display_name":"akhil_mittal"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1533961035,"creation_date":1464186073,"answer_id":37439971,"question_id":81346,"body_markdown":"You can make use of [computeIfAbsent][1] method in `Map` interface provided in **Java 8**. \r\n\r\n    final Map&lt;String,AtomicLong&gt; map = new ConcurrentHashMap&lt;&gt;();\r\n    map.computeIfAbsent(&quot;A&quot;, k-&gt;new AtomicLong(0)).incrementAndGet();\r\n    map.computeIfAbsent(&quot;B&quot;, k-&gt;new AtomicLong(0)).incrementAndGet();\r\n    map.computeIfAbsent(&quot;A&quot;, k-&gt;new AtomicLong(0)).incrementAndGet(); //[A=2, B=1]\r\n\r\nThe method `computeIfAbsent` checks if the specified key is already associated with a value or not? If no associated value then it attempts to compute its value using the given mapping function. In any case it returns the current (existing or computed) value associated with the specified key, or null if the computed value is null.\r\n\r\nOn a side note if you have a situation where multiple threads update a common sum you can have a look at [LongAdder][2] class.Under high contention, expected throughput of this class is significantly higher than `AtomicLong`, at the expense of higher space consumption.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#computeIfAbsent-K-java.util.function.Function-\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/atomic/LongAdder.html","title":"Most efficient way to increment a Map value in Java","body":"<p>You can make use of <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#computeIfAbsent-K-java.util.function.Function-\" rel=\"noreferrer\">computeIfAbsent</a> method in <code>Map</code> interface provided in <strong>Java 8</strong>. </p>\n\n<pre><code>final Map&lt;String,AtomicLong&gt; map = new ConcurrentHashMap&lt;&gt;();\nmap.computeIfAbsent(\"A\", k-&gt;new AtomicLong(0)).incrementAndGet();\nmap.computeIfAbsent(\"B\", k-&gt;new AtomicLong(0)).incrementAndGet();\nmap.computeIfAbsent(\"A\", k-&gt;new AtomicLong(0)).incrementAndGet(); //[A=2, B=1]\n</code></pre>\n\n<p>The method <code>computeIfAbsent</code> checks if the specified key is already associated with a value or not? If no associated value then it attempts to compute its value using the given mapping function. In any case it returns the current (existing or computed) value associated with the specified key, or null if the computed value is null.</p>\n\n<p>On a side note if you have a situation where multiple threads update a common sum you can have a look at <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/atomic/LongAdder.html\" rel=\"noreferrer\">LongAdder</a> class.Under high contention, expected throughput of this class is significantly higher than <code>AtomicLong</code>, at the expense of higher space consumption.</p>\n"},{"tags":[],"owner":{"account_id":88584,"reputation":7239,"user_id":244911,"accept_rate":29,"display_name":"LE GALL Beno&#238;t"},"down_vote_count":0,"up_vote_count":518,"is_accepted":false,"score":518,"last_activity_date":1671438189,"creation_date":1488890966,"answer_id":42648785,"question_id":81346,"body_markdown":"Now there is a shorter way with Java 8 using [`Map::merge`][1]. \r\n\r\n    myMap.merge(key, 1, Integer::sum)\r\n\r\nor \r\n\r\n    myMap.merge(key, 1L, Long::sum)\r\n\r\nfor longs respectively.\r\n\r\nWhat it does:\r\n\r\n - if *key* do not exists, put *1* as value\r\n - otherwise *sum 1* to the value linked to *key*\r\n\r\nMore information [here][2].\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html#merge(K,V,java.util.function.BiFunction)\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#merge-K-V-java.util.function.BiFunction-","title":"Most efficient way to increment a Map value in Java","body":"<p>Now there is a shorter way with Java 8 using <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html#merge(K,V,java.util.function.BiFunction)\" rel=\"noreferrer\"><code>Map::merge</code></a>.</p>\n<pre><code>myMap.merge(key, 1, Integer::sum)\n</code></pre>\n<p>or</p>\n<pre><code>myMap.merge(key, 1L, Long::sum)\n</code></pre>\n<p>for longs respectively.</p>\n<p>What it does:</p>\n<ul>\n<li>if <em>key</em> do not exists, put <em>1</em> as value</li>\n<li>otherwise <em>sum 1</em> to the value linked to <em>key</em></li>\n</ul>\n<p>More information <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#merge-K-V-java.util.function.BiFunction-\" rel=\"noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":18774,"reputation":573,"user_id":43370,"display_name":"Keith"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1518221787,"creation_date":1518221787,"answer_id":48715920,"question_id":81346,"body_markdown":"Since a lot of people search Java topics for Groovy answers, here&#39;s how you can do it in Groovy:\r\n    \r\n    dev map = new HashMap&lt;String, Integer&gt;()\r\n    map.put(&quot;key1&quot;, 3)\r\n    \r\n    map.merge(&quot;key1&quot;, 1) {a, b -&gt; a + b}\r\n    map.merge(&quot;key2&quot;, 1) {a, b -&gt; a + b}\r\n\r\n","title":"Most efficient way to increment a Map value in Java","body":"<p>Since a lot of people search Java topics for Groovy answers, here's how you can do it in Groovy:</p>\n\n<pre><code>dev map = new HashMap&lt;String, Integer&gt;()\nmap.put(\"key1\", 3)\n\nmap.merge(\"key1\", 1) {a, b -&gt; a + b}\nmap.merge(\"key2\", 1) {a, b -&gt; a + b}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14438347,"reputation":1,"user_id":10429757,"display_name":"ggaugler"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1549225541,"creation_date":1549225541,"answer_id":54507230,"question_id":81346,"body_markdown":"Hope I&#39;m understanding your question correctly, I&#39;m coming to Java from Python so I can empathize with your struggle. \r\n\r\nif you have\r\n\r\n    map.put(key, 1)\r\n\r\nyou would do\r\n\r\n    map.put(key, map.get(key) + 1)\r\n\r\nHope this helps!","title":"Most efficient way to increment a Map value in Java","body":"<p>Hope I'm understanding your question correctly, I'm coming to Java from Python so I can empathize with your struggle. </p>\n\n<p>if you have</p>\n\n<pre><code>map.put(key, 1)\n</code></pre>\n\n<p>you would do</p>\n\n<pre><code>map.put(key, map.get(key) + 1)\n</code></pre>\n\n<p>Hope this helps!</p>\n"},{"tags":[],"owner":{"account_id":5407878,"reputation":3375,"user_id":4305743,"display_name":"sudoz"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1555036807,"creation_date":1553528022,"answer_id":55341335,"question_id":81346,"body_markdown":"Quite simple, just use the built-in function in `Map.java` as followed\r\n\r\n```java\r\nmap.put(key, map.getOrDefault(key, 0) + 1);\r\n```","title":"Most efficient way to increment a Map value in Java","body":"<p>Quite simple, just use the built-in function in <code>Map.java</code> as followed</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>map.put(key, map.getOrDefault(key, 0) + 1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13597862,"reputation":67,"user_id":9809339,"display_name":"Assaduzzaman Assad"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1561178174,"creation_date":1561178174,"answer_id":56712619,"question_id":81346,"body_markdown":"The simple and easy way in java 8 is the following:\r\n\r\n    final ConcurrentMap&lt;String, AtomicLong&gt; map = new ConcurrentHashMap&lt;String, AtomicLong&gt;();\r\n        map.computeIfAbsent(&quot;foo&quot;, key -&gt; new AtomicLong(0)).incrementAndGet();","title":"Most efficient way to increment a Map value in Java","body":"<p>The simple and easy way in java 8 is the following:</p>\n\n<pre><code>final ConcurrentMap&lt;String, AtomicLong&gt; map = new ConcurrentHashMap&lt;String, AtomicLong&gt;();\n    map.computeIfAbsent(\"foo\", key -&gt; new AtomicLong(0)).incrementAndGet();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":939902,"reputation":352,"user_id":968152,"display_name":"Eugene Chung"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1567906458,"creation_date":1567906458,"answer_id":57838567,"question_id":81346,"body_markdown":"I suggest to use Java 8 Map::compute().\r\nIt considers the case when a key doesn&#39;t exist, too.\r\n\r\n    Map.compute(num, (k, v) -&gt; (v == null) ? 1 : v + 1);","title":"Most efficient way to increment a Map value in Java","body":"<p>I suggest to use Java 8 Map::compute().\nIt considers the case when a key doesn't exist, too.</p>\n\n<pre><code>Map.compute(num, (k, v) -&gt; (v == null) ? 1 : v + 1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2904275,"reputation":12430,"user_id":2490074,"accept_rate":62,"display_name":"Sarvar Nishonboyev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1624866525,"creation_date":1624866525,"answer_id":68159505,"question_id":81346,"body_markdown":"Counting using streams and `getOrDefault`:\r\n\r\n```\r\nString s = &quot;abcdeff&quot;;\r\ns.chars().mapToObj(c -&gt; (char) c)\r\n .forEach(c -&gt; {\r\n     int count = countMap.getOrDefault(c, 0) + 1;\r\n     countMap.put(c, count);\r\n  });\r\n```\r\n","title":"Most efficient way to increment a Map value in Java","body":"<p>Counting using streams and <code>getOrDefault</code>:</p>\n<pre><code>String s = &quot;abcdeff&quot;;\ns.chars().mapToObj(c -&gt; (char) c)\n .forEach(c -&gt; {\n     int count = countMap.getOrDefault(c, 0) + 1;\n     countMap.put(c, count);\n  });\n</code></pre>\n"}],"owner":{"account_id":6138,"reputation":9524,"user_id":10204,"display_name":"gregory"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":421032,"favorite_count":0,"down_vote_count":0,"up_vote_count":513,"accepted_answer_id":107987,"answer_count":28,"score":513,"last_activity_date":1671438189,"creation_date":1221642611,"question_id":81346,"body_markdown":"I hope this question is not considered too basic for this forum, but we&#39;ll see. I&#39;m wondering how to refactor some code for better performance that is getting run a bunch of times.\r\n\r\nSay I&#39;m creating a word frequency list, using a Map (probably a HashMap), where each key is a String with the word that&#39;s being counted and the value is an Integer that&#39;s incremented each time a token of the word is found.\r\n\r\nIn Perl, incrementing such a value would be trivially easy:\r\n\r\n    $map{$word}++;\r\n\r\nBut in Java, it&#39;s much more complicated. Here the way I&#39;m currently doing it:\r\n\r\n    int count = map.containsKey(word) ? map.get(word) : 0;\r\n    map.put(word, count + 1);\r\n\r\nWhich of course relies on the autoboxing feature in the newer Java versions. I wonder if you can suggest a more efficient way of incrementing such a value. Are there even good performance reasons for eschewing the Collections framework and using a something else instead?\r\n\r\nUpdate: I&#39;ve done a test of several of the answers. See below.\r\n\r\n\r\n\r\n","title":"Most efficient way to increment a Map value in Java","body":"<p>I hope this question is not considered too basic for this forum, but we'll see. I'm wondering how to refactor some code for better performance that is getting run a bunch of times.</p>\n\n<p>Say I'm creating a word frequency list, using a Map (probably a HashMap), where each key is a String with the word that's being counted and the value is an Integer that's incremented each time a token of the word is found.</p>\n\n<p>In Perl, incrementing such a value would be trivially easy:</p>\n\n<pre><code>$map{$word}++;\n</code></pre>\n\n<p>But in Java, it's much more complicated. Here the way I'm currently doing it:</p>\n\n<pre><code>int count = map.containsKey(word) ? map.get(word) : 0;\nmap.put(word, count + 1);\n</code></pre>\n\n<p>Which of course relies on the autoboxing feature in the newer Java versions. I wonder if you can suggest a more efficient way of incrementing such a value. Are there even good performance reasons for eschewing the Collections framework and using a something else instead?</p>\n\n<p>Update: I've done a test of several of the answers. See below.</p>\n"},{"tags":["java","android","android-studio","android-volley"],"comments":[{"owner":{"account_id":2607825,"reputation":5369,"user_id":2258611,"display_name":"Alexander Hoffmann"},"score":0,"creation_date":1671438454,"post_id":74847782,"comment_id":132091257,"body_markdown":"Have you enabled unsecure HTTP traffic for your app?\nhttps://stackoverflow.com/questions/45940861/android-8-cleartext-http-traffic-not-permitted","body":"Have you enabled unsecure HTTP traffic for your app? <a href=\"https://stackoverflow.com/questions/45940861/android-8-cleartext-http-traffic-not-permitted\" title=\"android 8 cleartext http traffic not permitted\">stackoverflow.com/questions/45940861/&hellip;</a>"},{"owner":{"account_id":17736278,"reputation":79,"user_id":12877598,"display_name":"Luigi V."},"score":0,"creation_date":1671441200,"post_id":74847782,"comment_id":132092002,"body_markdown":"@AlexanderHoffmann I&#39;ve just tried and the result is the same","body":"@AlexanderHoffmann I&#39;ve just tried and the result is the same"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1671473620,"post_id":74847782,"comment_id":132102404,"body_markdown":"Are you using an emulator or a device?","body":"Are you using an emulator or a device?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1671473738,"post_id":74847782,"comment_id":132102434,"body_markdown":"Why are you referring to localhost?","body":"Why are you referring to localhost?"}],"owner":{"account_id":17736278,"reputation":79,"user_id":12877598,"display_name":"Luigi V."},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671437812,"creation_date":1671437812,"question_id":74847782,"body_markdown":"I&#39;m sending an http request from Android Java using the Volley library to a Spring backend. The backend application should responds with a JSON string. The Tomcat server is on 192.168.1.8:8080 (or localhost on the same machine) and from browser and with the http apache library requests works fine. On android I get some strange error:\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n\r\n    private TextView textResponse;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        textResponse = findViewById(R.id.responseText);\r\n        // Instantiate the RequestQueue.\r\n        RequestQueue queue = Volley.newRequestQueue(this);\r\n        String url = &quot;http://192.168.1.8:8080/admin/getAll&quot;;\r\n        System.out.println(url);\r\n\r\n        // Request a string response from the provided URL.\r\n        StringRequest stringRequest = new StringRequest(Request.Method.GET, url,\r\n                response -&gt; {\r\n                    // Display the first 500 characters of the response string.\r\n                    System.out.println(&quot;Response is: &quot; + response.substring(0,500));\r\n                    textResponse.setText(response.substring(0,50));\r\n                },\r\n                error -&gt; {\r\n                    System.out.println(&quot;That didn&#39;t work!&quot; );\r\n                    textResponse.setText(&quot;error&quot;);\r\n                });\r\n\r\n        // Add the request to the RequestQueue.\r\n        queue.add(stringRequest);\r\n        //queue.start();\r\n        System.out.println(&quot;sto qua&quot;);\r\n\r\n    }}\r\nIt goes in the error case, and if I try to get the error status code with ` error.networkResponse.statusCode ` it gives me:\r\n\r\n    Attempt to read from field &#39;int com.android.volley.NetworkResponse.statusCode&#39; on a null \r\n    object reference\r\n\r\nWhere is the problem?","title":"Android Volley library doesn&#39;t work for localhost request","body":"<p>I'm sending an http request from Android Java using the Volley library to a Spring backend. The backend application should responds with a JSON string. The Tomcat server is on 192.168.1.8:8080 (or localhost on the same machine) and from browser and with the http apache library requests works fine. On android I get some strange error:</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\nprivate TextView textResponse;\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    textResponse = findViewById(R.id.responseText);\n    // Instantiate the RequestQueue.\n    RequestQueue queue = Volley.newRequestQueue(this);\n    String url = &quot;http://192.168.1.8:8080/admin/getAll&quot;;\n    System.out.println(url);\n\n    // Request a string response from the provided URL.\n    StringRequest stringRequest = new StringRequest(Request.Method.GET, url,\n            response -&gt; {\n                // Display the first 500 characters of the response string.\n                System.out.println(&quot;Response is: &quot; + response.substring(0,500));\n                textResponse.setText(response.substring(0,50));\n            },\n            error -&gt; {\n                System.out.println(&quot;That didn't work!&quot; );\n                textResponse.setText(&quot;error&quot;);\n            });\n\n    // Add the request to the RequestQueue.\n    queue.add(stringRequest);\n    //queue.start();\n    System.out.println(&quot;sto qua&quot;);\n\n}}\n</code></pre>\n<p>It goes in the error case, and if I try to get the error status code with <code>error.networkResponse.statusCode</code> it gives me:</p>\n<pre><code>Attempt to read from field 'int com.android.volley.NetworkResponse.statusCode' on a null \nobject reference\n</code></pre>\n<p>Where is the problem?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9196,"page":796,"page_size":100}
