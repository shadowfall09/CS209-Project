{"items":[{"tags":["java","spring-boot","docker","intellij-idea","docker-image"],"comments":[{"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"score":0,"creation_date":1689579396,"post_id":76697058,"comment_id":135227792,"body_markdown":"Please upload your project at https://uploads.jetbrains.com and share the UploadID here. I&#39;ve checked the guide above from my side and it worked fine. Ensure the you completed all the steps from the guide","body":"Please upload your project at <a href=\"https://uploads.jetbrains.com\" rel=\"nofollow noreferrer\">uploads.jetbrains.com</a> and share the UploadID here. I&#39;ve checked the guide above from my side and it worked fine. Ensure the you completed all the steps from the guide"}],"owner":{"account_id":29026448,"reputation":1,"user_id":22234485,"display_name":"subhransu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689490722,"creation_date":1689490722,"question_id":76697058,"body_markdown":"I am trying to containerize one application using docker. But getting java.lang.NullPointerException while running the dockerfile. Can anyone please help in resolving it?\r\n\r\n[Project Structure](https://i.stack.imgur.com/yaHCV.png)\r\n\r\n**Helloworld.java**\r\n-------------------\r\n\r\n```\r\npublic class HelloWorld {\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;Hello, World!&quot;);\r\n    }\r\n}\r\n```\r\n\r\n**Dockerfile**\r\n----------------\r\n```\r\nFROM amazoncorretto:11.0.14\r\nCOPY ./out/production/DockerHelloWorld/ /tmp\r\nWORKDIR /tmp\r\nENTRYPOINT [&quot;java&quot;,&quot;HelloWorld&quot;]\r\n```\r\n\r\n[Response while running the dockerfile](https://i.stack.imgur.com/pzuUl.png)\r\n\r\n\r\nI am trying to follow below link [https://www.jetbrains.com/help/idea/dockerize-java-app.html#run_java_app_in_container][Dockerize a java application](https://www.jetbrains.com/help/idea/dockerize-java-app.html#run_java_app_in_container)","title":"Unable to create docker image in intellij","body":"<p>I am trying to containerize one application using docker. But getting java.lang.NullPointerException while running the dockerfile. Can anyone please help in resolving it?</p>\n<p><a href=\"https://i.stack.imgur.com/yaHCV.png\" rel=\"nofollow noreferrer\">Project Structure</a></p>\n<h2><strong>Helloworld.java</strong></h2>\n<pre><code>public class HelloWorld {\n    public static void main(String[] args) {\n        System.out.println(&quot;Hello, World!&quot;);\n    }\n}\n</code></pre>\n<h2><strong>Dockerfile</strong></h2>\n<pre><code>FROM amazoncorretto:11.0.14\nCOPY ./out/production/DockerHelloWorld/ /tmp\nWORKDIR /tmp\nENTRYPOINT [&quot;java&quot;,&quot;HelloWorld&quot;]\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/pzuUl.png\" rel=\"nofollow noreferrer\">Response while running the dockerfile</a></p>\n<p>I am trying to follow below link [https://www.jetbrains.com/help/idea/dockerize-java-app.html#run_java_app_in_container]<a href=\"https://www.jetbrains.com/help/idea/dockerize-java-app.html#run_java_app_in_container\" rel=\"nofollow noreferrer\">Dockerize a java application</a></p>\n"},{"tags":["java","selenium-chromedriver"],"owner":{"account_id":3762699,"reputation":1446,"user_id":3127144,"accept_rate":56,"display_name":"iCoder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689490277,"creation_date":1689490277,"question_id":76697032,"body_markdown":"**Need:** To download CSV file from website - [Link][1]. I am using Selenium to simulate the browser behavior as the download file is controlled by a Javascript\r\n\r\n**Issue:** The download works fine a few times, but throws an error (Access Denied) as per attached image on other times. \r\n[![enter image description here][2]][2]\r\n\r\nI am unable to figure out, why it works sometimes &amp; on other occasions it issues error, although I do not change anything. Hope the issue faced is clear, await inputs on what might be causing this &amp; if I can do anything to fix it at my end.\r\n\r\n**Code:**\r\n\r\n    public static void main(String[] args) {\r\n            String url = &quot;https://www.nseindia.com/companies-listing/corporate-filings-event-calendar&quot;;\r\n            String elementId = &quot;CFeventCalendar-download&quot;;\r\n    \r\n            System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;path_to_chromedriver&quot;);\r\n            WebDriver driver = new ChromeDriver();\r\n    \r\n            try {\r\n                driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(10));\r\n    \r\n                driver.get(url);\r\n    \r\n                // Find the element with the specified ID\r\n                driver.findElement(By.id(elementId)).click();\r\n    \r\n                // Add a small delay to let the download start\r\n                Thread.sleep(5000);\r\n    \r\n                System.out.println(&quot;File downloaded successfully!&quot;);\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            } finally {\r\n                driver.quit();\r\n            }\r\n        }\r\n\r\n\r\n  [1]: https://www.nseindia.com/companies-listing/corporate-filings-event-calendar\r\n  [2]: https://i.stack.imgur.com/4hw6g.png","title":"Selenium - Issue with download of file","body":"<p><strong>Need:</strong> To download CSV file from website - <a href=\"https://www.nseindia.com/companies-listing/corporate-filings-event-calendar\" rel=\"nofollow noreferrer\">Link</a>. I am using Selenium to simulate the browser behavior as the download file is controlled by a Javascript</p>\n<p><strong>Issue:</strong> The download works fine a few times, but throws an error (Access Denied) as per attached image on other times.\n<a href=\"https://i.stack.imgur.com/4hw6g.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4hw6g.png\" alt=\"enter image description here\" /></a></p>\n<p>I am unable to figure out, why it works sometimes &amp; on other occasions it issues error, although I do not change anything. Hope the issue faced is clear, await inputs on what might be causing this &amp; if I can do anything to fix it at my end.</p>\n<p><strong>Code:</strong></p>\n<pre><code>public static void main(String[] args) {\n        String url = &quot;https://www.nseindia.com/companies-listing/corporate-filings-event-calendar&quot;;\n        String elementId = &quot;CFeventCalendar-download&quot;;\n\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;path_to_chromedriver&quot;);\n        WebDriver driver = new ChromeDriver();\n\n        try {\n            driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(10));\n\n            driver.get(url);\n\n            // Find the element with the specified ID\n            driver.findElement(By.id(elementId)).click();\n\n            // Add a small delay to let the download start\n            Thread.sleep(5000);\n\n            System.out.println(&quot;File downloaded successfully!&quot;);\n        } catch (Exception e) {\n            e.printStackTrace();\n        } finally {\n            driver.quit();\n        }\n    }\n</code></pre>\n"},{"tags":["java","excel","spring-mvc","testing","file-upload"],"comments":[{"owner":{"account_id":2218864,"reputation":416,"user_id":1958835,"accept_rate":100,"display_name":"Igorovics"},"score":0,"creation_date":1689236673,"post_id":76671676,"comment_id":135185625,"body_markdown":"Have you tried the example from the Github page? See https://github.com/jupiter-tools/mvc-requester#upload-the-multipartfile link.","body":"Have you tried the example from the Github page? See <a href=\"https://github.com/jupiter-tools/mvc-requester#upload-the-multipartfile\" rel=\"nofollow noreferrer\">github.com/jupiter-tools/mvc-requester#upload-the-multipartf&zwnj;&#8203;ile</a> link."},{"owner":{"account_id":29003101,"reputation":11,"user_id":22216282,"display_name":"EvoMGenius"},"score":0,"creation_date":1689488958,"post_id":76671676,"comment_id":135218757,"body_markdown":"@Igorovics yeah, i tried.\nThank you for some attention. I resolve this problem)","body":"@Igorovics yeah, i tried. Thank you for some attention. I resolve this problem)"}],"answers":[{"tags":[],"owner":{"account_id":29003101,"reputation":11,"user_id":22216282,"display_name":"EvoMGenius"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689489337,"creation_date":1689489337,"answer_id":76696989,"question_id":76671676,"body_markdown":"            byte[] response = MvcRequester.on(mockMvc)\r\n                                      .to(&quot;/api/reports/complaints/full&quot;)\r\n                                      .get()\r\n                                      .doExpect(status().isOk())\r\n                                      .returnResponse()\r\n                                      .getContentAsByteArray();\r\n\r\nchange dependency to (before i used not this dependency, it was custom dependency with same appointment)\r\n\r\n       &lt;dependency&gt;\r\n            &lt;groupId&gt;com.jupiter-tools&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mvc-requester&lt;/artifactId&gt;\r\n            &lt;version&gt;0.4&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\nThen i got response as byte array, i can compare it with expected file as i wish. ","title":"testing excel-file download by request","body":"<pre><code>        byte[] response = MvcRequester.on(mockMvc)\n                                  .to(&quot;/api/reports/complaints/full&quot;)\n                                  .get()\n                                  .doExpect(status().isOk())\n                                  .returnResponse()\n                                  .getContentAsByteArray();\n</code></pre>\n<p>change dependency to (before i used not this dependency, it was custom dependency with same appointment)</p>\n<pre><code>   &lt;dependency&gt;\n        &lt;groupId&gt;com.jupiter-tools&lt;/groupId&gt;\n        &lt;artifactId&gt;mvc-requester&lt;/artifactId&gt;\n        &lt;version&gt;0.4&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Then i got response as byte array, i can compare it with expected file as i wish.</p>\n"}],"owner":{"account_id":29003101,"reputation":11,"user_id":22216282,"display_name":"EvoMGenius"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76696989,"answer_count":1,"score":1,"last_activity_date":1689489337,"creation_date":1689172137,"question_id":76671676,"body_markdown":"```\r\n MvcRequester.on(mockMvc)\r\n             .to(&quot;/api/reports/complaints/full&quot;)                                        \r\n             .get()\r\n             .doExpect(status().isOk())\r\n             .returnAs(MultipartFile.class); //drop here, tried to use File, InputStream, FileInputStream\r\n```\r\n\r\nI this is the part of the test that makes sending the request to the endpoint. An excel file comes from this endpoint. Please tell me how to write the response into a variable.  \r\n[here is response body and exception](https://i.stack.imgur.com/rxL8I.png).   \r\nI use custom library for inject file into response. It&#39;s work correct 100%.  \r\n  \r\nHere is end of controller method with adding file into response\r\n\r\n```\r\n@GetMapping(&quot;/complaints/full&quot;)\r\n    @ResponseBody\r\n    public void getComplaintsFullReport(SearchComplaintDto dto,\r\n                                        HttpServletResponse servletResponse) {\r\n\r\n        SearchComplaintArgument argument = complaintMapper.toSearchArgument(dto);\r\n\r\n        File file = buildComplaintsReportAction.execute(argument);\r\n        FileResponse.builder()\r\n                    .file(file)\r\n                    .filename(&quot;Report_&quot;\r\n                                      .concat(LocalDateTime.now().format(DateTimeFormatter.ofPattern(&quot;dd.MM.yyyy_HH.mm&quot;)))\r\n                                      .concat(&quot;.xlsx&quot;))\r\n                    .mimeType(&quot;application/vnd.openxmlformats-officedocument.spreadsheetml.sheet&quot;)\r\n                    .response(servletResponse)\r\n                    .build();\r\n    }\r\n```\r\n\r\nAnswer to the question &quot;How can i write the response into a variable?&quot;.","title":"testing excel-file download by request","body":"<pre><code> MvcRequester.on(mockMvc)\n             .to(&quot;/api/reports/complaints/full&quot;)                                        \n             .get()\n             .doExpect(status().isOk())\n             .returnAs(MultipartFile.class); //drop here, tried to use File, InputStream, FileInputStream\n</code></pre>\n<p>I this is the part of the test that makes sending the request to the endpoint. An excel file comes from this endpoint. Please tell me how to write the response into a variable.<br />\n<a href=\"https://i.stack.imgur.com/rxL8I.png\" rel=\"nofollow noreferrer\">here is response body and exception</a>.<br />\nI use custom library for inject file into response. It's work correct 100%.</p>\n<p>Here is end of controller method with adding file into response</p>\n<pre><code>@GetMapping(&quot;/complaints/full&quot;)\n    @ResponseBody\n    public void getComplaintsFullReport(SearchComplaintDto dto,\n                                        HttpServletResponse servletResponse) {\n\n        SearchComplaintArgument argument = complaintMapper.toSearchArgument(dto);\n\n        File file = buildComplaintsReportAction.execute(argument);\n        FileResponse.builder()\n                    .file(file)\n                    .filename(&quot;Report_&quot;\n                                      .concat(LocalDateTime.now().format(DateTimeFormatter.ofPattern(&quot;dd.MM.yyyy_HH.mm&quot;)))\n                                      .concat(&quot;.xlsx&quot;))\n                    .mimeType(&quot;application/vnd.openxmlformats-officedocument.spreadsheetml.sheet&quot;)\n                    .response(servletResponse)\n                    .build();\n    }\n</code></pre>\n<p>Answer to the question &quot;How can i write the response into a variable?&quot;.</p>\n"},{"tags":["java","android","react-native","expo","android-gradle-plugin"],"comments":[{"owner":{"account_id":1849514,"reputation":193878,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"score":1,"creation_date":1689375835,"post_id":76691534,"comment_id":135209923,"body_markdown":"Include the full stack trace. That&#39;s will tell you and us what is actually creating the PendingIntent","body":"Include the full stack trace. That&#39;s will tell you and us what is actually creating the PendingIntent"}],"answers":[{"tags":[],"owner":{"account_id":11159794,"reputation":1257,"user_id":8190327,"display_name":"Abdullah Z Khan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689488958,"creation_date":1689488958,"answer_id":76696964,"question_id":76691534,"body_markdown":"If you are using firebase to handle custom/data messages for notifications, please check android source code for any pending intent calls.","title":"My app throws this error: Targeting S+ (version 31 and above) requires that one of FLAG_IMMUTABLE or FLAG_MUTABLE be specified... How can I solve it?","body":"<p>If you are using firebase to handle custom/data messages for notifications, please check android source code for any pending intent calls.</p>\n"}],"owner":{"account_id":26397459,"reputation":1,"user_id":20048389,"display_name":"Armando Neto"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":171,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1689488958,"creation_date":1689375775,"question_id":76691534,"body_markdown":"I&#39;m facing the above error on my app, developed with React Native and builded with Expo and gradlew. Tried some of the solutions available on internet, like: \r\n\r\n\r\n```gradlew\r\ndependencies {\r\n  // ...\r\n  implementation &#39;androidx.work:work-runtime-ktx:2.7.0&#39;\r\n}\r\n```\r\n\r\nBut it doesn&#180;t work...\r\n\r\nTried a bunch of solutions, some displayed on this topic: https://stackoverflow.com/questions/70894168/targeting-s-version-31-and-above-requires-that-one-of-flag-immutable-or-flag","title":"My app throws this error: Targeting S+ (version 31 and above) requires that one of FLAG_IMMUTABLE or FLAG_MUTABLE be specified... How can I solve it?","body":"<p>I'm facing the above error on my app, developed with React Native and builded with Expo and gradlew. Tried some of the solutions available on internet, like:</p>\n<pre><code>dependencies {\n  // ...\n  implementation 'androidx.work:work-runtime-ktx:2.7.0'\n}\n</code></pre>\n<p>But it doesn´t work...</p>\n<p>Tried a bunch of solutions, some displayed on this topic: <a href=\"https://stackoverflow.com/questions/70894168/targeting-s-version-31-and-above-requires-that-one-of-flag-immutable-or-flag\">Targeting S+ (version 31 and above) requires that one of FLAG_IMMUTABLE or FLAG_MUTABLE be specified</a></p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":1,"creation_date":1688548871,"post_id":76618847,"comment_id":135086723,"body_markdown":"Stacktrace? What class isn’t found?","body":"Stacktrace? What class isn’t found?"},{"owner":{"account_id":187094,"reputation":5113,"user_id":424903,"display_name":"Gimby"},"score":0,"creation_date":1688549281,"post_id":76618847,"comment_id":135086827,"body_markdown":"You can, your issue has nothing to do with the ControllerAdvice. A ClassNotFound usually indicates some kind of dependency problem.","body":"You can, your issue has nothing to do with the ControllerAdvice. A ClassNotFound usually indicates some kind of dependency problem."},{"owner":{"account_id":28954176,"reputation":1,"user_id":22178078,"display_name":"HoshinaJiuGe"},"score":0,"creation_date":1688604497,"post_id":76618847,"comment_id":135097203,"body_markdown":"Some business class, I will add stack","body":"Some business class, I will add stack"},{"owner":{"account_id":28954176,"reputation":1,"user_id":22178078,"display_name":"HoshinaJiuGe"},"score":0,"creation_date":1688604586,"post_id":76618847,"comment_id":135097209,"body_markdown":"But, it only appears when I do this.","body":"But, it only appears when I do this."}],"answers":[{"comments":[{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1688586843,"post_id":76619080,"comment_id":135095158,"body_markdown":"The quote talks about request handler, not exception handler. Did you verify this yourself?","body":"The quote talks about request handler, not exception handler. Did you verify this yourself?"},{"owner":{"account_id":28954176,"reputation":1,"user_id":22178078,"display_name":"HoshinaJiuGe"},"score":0,"creation_date":1688605817,"post_id":76619080,"comment_id":135097296,"body_markdown":"If I can&#39;t do this, how can I  throwing a new Exception after catch a global Exception.","body":"If I can&#39;t do this, how can I  throwing a new Exception after catch a global Exception."},{"owner":{"account_id":18535178,"reputation":340,"user_id":13505007,"display_name":"Spyros Palaiokostas"},"score":0,"creation_date":1688642060,"post_id":76619080,"comment_id":135102728,"body_markdown":"@AbhijitSarkar I tested it with this running a sample app https://gist.github.com/Spalaiokostas/ad9a049d8ab42fc436da1c495dbc8a05\nand got the following stack trace:  https://pastebin.com/gz2KE5hK","body":"@AbhijitSarkar I tested it with this running a sample app <a href=\"https://gist.github.com/Spalaiokostas/ad9a049d8ab42fc436da1c495dbc8a05\" rel=\"nofollow noreferrer\">gist.github.com/Spalaiokostas/ad9a049d8ab42fc436da1c495dbc8a&zwnj;&#8203;05</a> and got the following stack trace:  <a href=\"https://pastebin.com/gz2KE5hK\" rel=\"nofollow noreferrer\">pastebin.com/gz2KE5hK</a>"},{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1688642297,"post_id":76619080,"comment_id":135102776,"body_markdown":"I see nothing wrong with your code or the stacktrace, it is just as I’d expect. What did you mean by “the handler is ignored” in your answer? What handler is ignored?","body":"I see nothing wrong with your code or the stacktrace, it is just as I’d expect. What did you mean by “the handler is ignored” in your answer? What handler is ignored?"},{"owner":{"account_id":18535178,"reputation":340,"user_id":13505007,"display_name":"Spyros Palaiokostas"},"score":0,"creation_date":1688643908,"post_id":76619080,"comment_id":135103100,"body_markdown":"I think the `ExceptionHandlerExceptionResolver` logs the warning the stack trace of the exception that occurred inside the handler ie `RuntimeException`.\n\nBut the actual exception that was raised while processing the request is the `IllegalStateException` as seen by the logs:\n`2023-07-06T14:11:41.159+03:00 ERROR 42185 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.IllegalStateException] with root cause\n`","body":"I think the <code>ExceptionHandlerExceptionResolver</code> logs the warning the stack trace of the exception that occurred inside the handler ie <code>RuntimeException</code>.  But the actual exception that was raised while processing the request is the <code>IllegalStateException</code> as seen by the logs: <code>2023-07-06T14:11:41.159+03:00 ERROR 42185 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[&#47;].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.IllegalStateException] with root cause </code>"},{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1688644528,"post_id":76619080,"comment_id":135103257,"body_markdown":"Your experiment doesn’t prove what you said. Nothing says you can’t throw an exception in an exception handler, and if you do, nothing bad happens, things work just as expected.","body":"Your experiment doesn’t prove what you said. Nothing says you can’t throw an exception in an exception handler, and if you do, nothing bad happens, things work just as expected."},{"owner":{"account_id":28954176,"reputation":1,"user_id":22178078,"display_name":"HoshinaJiuGe"},"score":0,"creation_date":1688696747,"post_id":76619080,"comment_id":135111802,"body_markdown":"@Abhijit Sarkar  So what did I do wrong, if it can throw a new Exception in ControllerAdvice?","body":"@Abhijit Sarkar  So what did I do wrong, if it can throw a new Exception in ControllerAdvice?"},{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1688696860,"post_id":76619080,"comment_id":135111811,"body_markdown":"@user22178078 `ClassNotFoundException` has absolutely nothing to do with `ControllerAdvice`. You&#39;ll need to debug your runtime classpath.","body":"@user22178078 <code>ClassNotFoundException</code> has absolutely nothing to do with <code>ControllerAdvice</code>. You&#39;ll need to debug your runtime classpath."},{"owner":{"account_id":28954176,"reputation":1,"user_id":22178078,"display_name":"HoshinaJiuGe"},"score":0,"creation_date":1688700968,"post_id":76619080,"comment_id":135112044,"body_markdown":"@Abhijit Sarkar I have tried, and i found this exception throw when i throw a new ServiceException(my  custome exception and extend RuntimeException) , then I continue to track down, It seems to be thrown out when constructing HTTP return state(org.apache.catalina.core.forward). Finally, it It guides me to the interface javax.servlet.Servlet.service, then I can&#39;t find its implementation.","body":"@Abhijit Sarkar I have tried, and i found this exception throw when i throw a new ServiceException(my  custome exception and extend RuntimeException) , then I continue to track down, It seems to be thrown out when constructing HTTP return state(org.apache.catalina.core.forward). Finally, it It guides me to the interface javax.servlet.Servlet.service, then I can&#39;t find its implementation."},{"owner":{"account_id":28954176,"reputation":1,"user_id":22178078,"display_name":"HoshinaJiuGe"},"score":0,"creation_date":1688701093,"post_id":76619080,"comment_id":135112051,"body_markdown":"Or when building a stack? i cannot find why does it need to find my business class.","body":"Or when building a stack? i cannot find why does it need to find my business class."},{"owner":{"account_id":28954176,"reputation":1,"user_id":22178078,"display_name":"HoshinaJiuGe"},"score":0,"creation_date":1688710092,"post_id":76619080,"comment_id":135112865,"body_markdown":"sorry, I have a mistake. I found this ClassNotFoundException be throwen because log printing stack information.","body":"sorry, I have a mistake. I found this ClassNotFoundException be throwen because log printing stack information."}],"tags":[],"owner":{"account_id":18535178,"reputation":340,"user_id":13505007,"display_name":"Spyros Palaiokostas"},"comment_count":11,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1688550118,"creation_date":1688550118,"answer_id":76619080,"question_id":76618847,"body_markdown":"The `@ExceptionHandler` should not throw another exception because that exception is caught by Spring and interpreted as an error in the ExceptionHandler, so the handler is ignored. \r\n\r\nAs stated in the [docs][1]:\r\n&gt; If an exception occurs during request mapping or is thrown from a request handler such as an @Controller, the DispatcherServlet delegates to a chain of HandlerExceptionResolver beans to resolve the exception and provide alternative handling, which typically is an error response.\r\n\r\nThe actual try-catch when resolving and executing the exception handler done by `ExceptionHandlerExceptionResolver ` can be seen [here][2] \r\n\r\nInstead the `@ExceptionHandler` should return one of the values referenced in the [docs][3]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/5.0.5.RELEASE/spring-framework-reference/web.html#mvc-exceptionhandlers\r\n  [2]: https://github.com/spring-projects/spring-framework/blob/7c37f4bc5112d3f6cbb77a02c96b427f032d656c/spring-webmvc/src/main/java/org/springframework/web/servlet/mvc/method/annotation/ExceptionHandlerExceptionResolver.java#L415\r\n  [3]: https://docs.spring.io/spring-framework/docs/5.0.5.RELEASE/spring-framework-reference/web.html#mvc-ann-exceptionhandler-return-values","title":"Throw new Exception In @ControllerAdvice","body":"<p>The <code>@ExceptionHandler</code> should not throw another exception because that exception is caught by Spring and interpreted as an error in the ExceptionHandler, so the handler is ignored.</p>\n<p>As stated in the <a href=\"https://docs.spring.io/spring-framework/docs/5.0.5.RELEASE/spring-framework-reference/web.html#mvc-exceptionhandlers\" rel=\"nofollow noreferrer\">docs</a>:</p>\n<blockquote>\n<p>If an exception occurs during request mapping or is thrown from a request handler such as an @Controller, the DispatcherServlet delegates to a chain of HandlerExceptionResolver beans to resolve the exception and provide alternative handling, which typically is an error response.</p>\n</blockquote>\n<p>The actual try-catch when resolving and executing the exception handler done by <code>ExceptionHandlerExceptionResolver </code> can be seen <a href=\"https://github.com/spring-projects/spring-framework/blob/7c37f4bc5112d3f6cbb77a02c96b427f032d656c/spring-webmvc/src/main/java/org/springframework/web/servlet/mvc/method/annotation/ExceptionHandlerExceptionResolver.java#L415\" rel=\"nofollow noreferrer\">here</a></p>\n<p>Instead the <code>@ExceptionHandler</code> should return one of the values referenced in the <a href=\"https://docs.spring.io/spring-framework/docs/5.0.5.RELEASE/spring-framework-reference/web.html#mvc-ann-exceptionhandler-return-values\" rel=\"nofollow noreferrer\">docs</a></p>\n"},{"tags":[],"owner":{"account_id":27780880,"reputation":47,"user_id":21209255,"display_name":"Muhammadqodir Muhsinov"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1689488824,"creation_date":1688552883,"answer_id":76619431,"question_id":76618847,"body_markdown":"Instead of throw new exeption, just return usefull data. Ex:\r\n\r\n    Error{      \r\n    \r\n    Integer errorCode;      \r\n    \r\n    String message;\r\n    \r\n    }","title":"Throw new Exception In @ControllerAdvice","body":"<p>Instead of throw new exeption, just return usefull data. Ex:</p>\n<pre><code>Error{      \n\nInteger errorCode;      \n\nString message;\n\n}\n</code></pre>\n"}],"owner":{"account_id":28954176,"reputation":1,"user_id":22178078,"display_name":"HoshinaJiuGe"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1689488824,"creation_date":1688548618,"question_id":76618847,"body_markdown":"I need to deal with an `SqlException` to prevent its information from being obtained by the front end. So I used `@ControllerAdvice` to handle global exception, and I wanted to throw a new business exception after catch the `SQLException`.\r\n\r\nBut I get this `java.lang.ClassNotFoundException` error.\r\n\r\nCan I throw new abnormalities in `@ControllerAdvice` or what do I need to modify?\r\n\r\n**This is my code:** \r\n\r\n\r\n    @Log4j2\r\n    @ControllerAdvice\r\n    public class GlobalSQLExceptionHandler {\r\n    \r\n        /**\r\n         * 处理SQL异常\r\n         */\r\n        @ExceptionHandler(value = SQLException.class)\r\n        @ResponseBody\r\n        public void sqlExceptionHandler(HttpServletRequest req, SQLException e){\r\n            log.error(&quot;发生数据库异常！原因是：{}&quot;,e.getMessage());\r\n            throw new ServiceException(&quot;数据库操作发生异常&quot;);\r\n        }\r\n    }\r\n\r\n\r\nI hope to catch `SQLException` and then throw a business exception. Not in one or two places, in many places need it. So try...catch... can&#39;t.\r\n\r\nthis is Stacktrace,I hidden some local bag paths and some stacks of the same rear:\r\n\r\n        java.lang.ClassNotFoundException: com.sun.proxy.$Proxy205\r\n    \tat java.net.URLClassLoader.findClass(URLClassLoader.java:382)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:424)\r\n    \tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:349)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n    \tat java.lang.Class.forName0(Native Method)\r\n    \tat java.lang.Class.forName(Class.java:264)\r\n    \tat com.*.core.log.publisher.ErrorLogPublisher.getLoggableFromException(ErrorLogPublisher.java:73)\r\n    \tat com.*.core.log.publisher.ErrorLogPublisher.publishEvent(ErrorLogPublisher.java:42)\r\n    \tat com.*.core.log.error.CoreErrorAttributes.getErrorAttributes(CoreErrorAttributes.java:43)\r\n    \tat org.springframework.boot.autoconfigure.web.servlet.error.AbstractErrorController.getErrorAttributes(AbstractErrorController.java:71)\r\n    \tat org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(BasicErrorController.java:97)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:892)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1039)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:908)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:660)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:741)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)\r\n    \tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:116)\r\n    \tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n    \tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n    \tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:84)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n    \tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n    \tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n    \tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n    \tat org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter.doFilter(OAuth2AuthenticationProcessingFilter.java:182)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n    \tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n    \tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:712)\r\n    \tat org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:461)\r\n    \tat org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:384)\r\n    \tat org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:312)\r\n    \tat org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:394)\r\n    \tat org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:253)\r\n    \tat org.apache.catalina.core.StandardHostValve.throwable(StandardHostValve.java:348)\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:173)\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860)\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1587)\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tat java.lang.Thread.run(Thread.java:748)\r\n    java.lang.ClassNotFoundException: com.baomidou.mybatisplus.extension.service.IService$$FastClassBySpringCGLIB$$f8525d18\r\n    \tat java.net.URLClassLoader.findClass(URLClassLoader.java:382)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:424)\r\n    \tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:349)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n    \tat java.lang.Class.forName0(Native Method)\r\n    \tat java.lang.Class.forName(Class.java:264)\r\n    \tat com.*.core.log.publisher.ErrorLogPublisher.getLoggableFromException(ErrorLogPublisher.java:73)\r\n    \tat com.*.core.log.publisher.ErrorLogPublisher.publishEvent(ErrorLogPublisher.java:42)\r\n    \tat com.*.core.log.error.CoreErrorAttributes.getErrorAttributes(CoreErrorAttributes.java:43)\r\n    \tat org.springframework.boot.autoconfigure.web.servlet.error.AbstractErrorController.getErrorAttributes(AbstractErrorController.java:71)\r\n    \tat org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(BasicErrorController.java:97)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:892)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1039)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:908)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:660)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:741)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \t&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;\r\n    java.lang.ClassNotFoundException: com.*.*.*.service.impl.TSdDemandServiceImpl$$EnhancerBySpringCGLIB$$1c133c5c\r\n    \tat java.net.URLClassLoader.findClass(URLClassLoader.java:382)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:424)\r\n    \tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:349)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n    \tat java.lang.Class.forName0(Native Method)\r\n    \tat java.lang.Class.forName(Class.java:264)\r\n    \tat com.*.core.log.publisher.ErrorLogPublisher.getLoggableFromException(ErrorLogPublisher.java:73)\r\n    \tat com.*.core.log.publisher.ErrorLogPublisher.publishEvent(ErrorLogPublisher.java:42)\r\n    \tat com.*.core.log.error.CoreErrorAttributes.getErrorAttributes(CoreErrorAttributes.java:43)\r\n    \tat org.springframework.boot.autoconfigure.web.servlet.error.AbstractErrorController.getErrorAttributes(AbstractErrorController.java:71)\r\n    \tat org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(BasicErrorController.java:97)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:892)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1039)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:908)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:660)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:741)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \t&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;\r\n    java.lang.ClassNotFoundException: com.*.*.*.service.impl.SdDemandServiceImpl$$FastClassBySpringCGLIB$$2c057f7\r\n    \tat java.net.URLClassLoader.findClass(URLClassLoader.java:382)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:424)\r\n    \tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:349)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n    \tat java.lang.Class.forName0(Native Method)\r\n    \tat java.lang.Class.forName(Class.java:264)\r\n    \tat com.*.core.log.publisher.ErrorLogPublisher.getLoggableFromException(ErrorLogPublisher.java:73)\r\n    \tat com.*.core.log.publisher.ErrorLogPublisher.publishEvent(ErrorLogPublisher.java:42)\r\n    \tat com.*.core.log.error.CoreErrorAttributes.getErrorAttributes(CoreErrorAttributes.java:43)\r\n    \tat org.springframework.boot.autoconfigure.web.servlet.error.AbstractErrorController.getErrorAttributes(AbstractErrorController.java:71)\r\n    \tat org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(BasicErrorController.java:97)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:892)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1039)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:908)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:660)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:741)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \t&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;\r\n    java.lang.ClassNotFoundException: com.*.*.*.service.impl.SdDemandServiceImpl$$EnhancerBySpringCGLIB$$a81b250c\r\n    \tat java.net.URLClassLoader.findClass(URLClassLoader.java:382)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:424)\r\n    \tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:349)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n    \tat java.lang.Class.forName0(Native Method)\r\n    \tat java.lang.Class.forName(Class.java:264)\r\n    \tat com.*.core.log.publisher.ErrorLogPublisher.getLoggableFromException(ErrorLogPublisher.java:73)\r\n    \tat com.*.core.log.publisher.ErrorLogPublisher.publishEvent(ErrorLogPublisher.java:42)\r\n    \tat com.*.core.log.error.CoreErrorAttributes.getErrorAttributes(CoreErrorAttributes.java:43)\r\n    \tat org.springframework.boot.autoconfigure.web.servlet.error.AbstractErrorController.getErrorAttributes(AbstractErrorController.java:71)\r\n    \tat org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(BasicErrorController.java:97)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:892)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1039)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:908)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:660)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:741)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \t&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;","title":"Throw new Exception In @ControllerAdvice","body":"<p>I need to deal with an <code>SqlException</code> to prevent its information from being obtained by the front end. So I used <code>@ControllerAdvice</code> to handle global exception, and I wanted to throw a new business exception after catch the <code>SQLException</code>.</p>\n<p>But I get this <code>java.lang.ClassNotFoundException</code> error.</p>\n<p>Can I throw new abnormalities in <code>@ControllerAdvice</code> or what do I need to modify?</p>\n<p><strong>This is my code:</strong></p>\n<pre><code>@Log4j2\n@ControllerAdvice\npublic class GlobalSQLExceptionHandler {\n\n    /**\n     * 处理SQL异常\n     */\n    @ExceptionHandler(value = SQLException.class)\n    @ResponseBody\n    public void sqlExceptionHandler(HttpServletRequest req, SQLException e){\n        log.error(&quot;发生数据库异常！原因是：{}&quot;,e.getMessage());\n        throw new ServiceException(&quot;数据库操作发生异常&quot;);\n    }\n}\n</code></pre>\n<p>I hope to catch <code>SQLException</code> and then throw a business exception. Not in one or two places, in many places need it. So try...catch... can't.</p>\n<p>this is Stacktrace,I hidden some local bag paths and some stacks of the same rear:</p>\n<pre><code>    java.lang.ClassNotFoundException: com.sun.proxy.$Proxy205\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:382)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:349)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n    at java.lang.Class.forName0(Native Method)\n    at java.lang.Class.forName(Class.java:264)\n    at com.*.core.log.publisher.ErrorLogPublisher.getLoggableFromException(ErrorLogPublisher.java:73)\n    at com.*.core.log.publisher.ErrorLogPublisher.publishEvent(ErrorLogPublisher.java:42)\n    at com.*.core.log.error.CoreErrorAttributes.getErrorAttributes(CoreErrorAttributes.java:43)\n    at org.springframework.boot.autoconfigure.web.servlet.error.AbstractErrorController.getErrorAttributes(AbstractErrorController.java:71)\n    at org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(BasicErrorController.java:97)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:892)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1039)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005)\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:908)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:660)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:116)\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:84)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter.doFilter(OAuth2AuthenticationProcessingFilter.java:182)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:712)\n    at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:461)\n    at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:384)\n    at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:312)\n    at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:394)\n    at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:253)\n    at org.apache.catalina.core.StandardHostValve.throwable(StandardHostValve.java:348)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:173)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1587)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.lang.Thread.run(Thread.java:748)\njava.lang.ClassNotFoundException: com.baomidou.mybatisplus.extension.service.IService$$FastClassBySpringCGLIB$$f8525d18\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:382)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:349)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n    at java.lang.Class.forName0(Native Method)\n    at java.lang.Class.forName(Class.java:264)\n    at com.*.core.log.publisher.ErrorLogPublisher.getLoggableFromException(ErrorLogPublisher.java:73)\n    at com.*.core.log.publisher.ErrorLogPublisher.publishEvent(ErrorLogPublisher.java:42)\n    at com.*.core.log.error.CoreErrorAttributes.getErrorAttributes(CoreErrorAttributes.java:43)\n    at org.springframework.boot.autoconfigure.web.servlet.error.AbstractErrorController.getErrorAttributes(AbstractErrorController.java:71)\n    at org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(BasicErrorController.java:97)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:892)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1039)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005)\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:908)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:660)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    ········································\njava.lang.ClassNotFoundException: com.*.*.*.service.impl.TSdDemandServiceImpl$$EnhancerBySpringCGLIB$$1c133c5c\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:382)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:349)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n    at java.lang.Class.forName0(Native Method)\n    at java.lang.Class.forName(Class.java:264)\n    at com.*.core.log.publisher.ErrorLogPublisher.getLoggableFromException(ErrorLogPublisher.java:73)\n    at com.*.core.log.publisher.ErrorLogPublisher.publishEvent(ErrorLogPublisher.java:42)\n    at com.*.core.log.error.CoreErrorAttributes.getErrorAttributes(CoreErrorAttributes.java:43)\n    at org.springframework.boot.autoconfigure.web.servlet.error.AbstractErrorController.getErrorAttributes(AbstractErrorController.java:71)\n    at org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(BasicErrorController.java:97)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:892)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1039)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005)\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:908)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:660)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    ················································\njava.lang.ClassNotFoundException: com.*.*.*.service.impl.SdDemandServiceImpl$$FastClassBySpringCGLIB$$2c057f7\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:382)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:349)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n    at java.lang.Class.forName0(Native Method)\n    at java.lang.Class.forName(Class.java:264)\n    at com.*.core.log.publisher.ErrorLogPublisher.getLoggableFromException(ErrorLogPublisher.java:73)\n    at com.*.core.log.publisher.ErrorLogPublisher.publishEvent(ErrorLogPublisher.java:42)\n    at com.*.core.log.error.CoreErrorAttributes.getErrorAttributes(CoreErrorAttributes.java:43)\n    at org.springframework.boot.autoconfigure.web.servlet.error.AbstractErrorController.getErrorAttributes(AbstractErrorController.java:71)\n    at org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(BasicErrorController.java:97)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:892)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1039)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005)\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:908)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:660)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    ······················································\njava.lang.ClassNotFoundException: com.*.*.*.service.impl.SdDemandServiceImpl$$EnhancerBySpringCGLIB$$a81b250c\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:382)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:349)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n    at java.lang.Class.forName0(Native Method)\n    at java.lang.Class.forName(Class.java:264)\n    at com.*.core.log.publisher.ErrorLogPublisher.getLoggableFromException(ErrorLogPublisher.java:73)\n    at com.*.core.log.publisher.ErrorLogPublisher.publishEvent(ErrorLogPublisher.java:42)\n    at com.*.core.log.error.CoreErrorAttributes.getErrorAttributes(CoreErrorAttributes.java:43)\n    at org.springframework.boot.autoconfigure.web.servlet.error.AbstractErrorController.getErrorAttributes(AbstractErrorController.java:71)\n    at org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(BasicErrorController.java:97)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:892)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1039)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005)\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:908)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:660)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    ·············································\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-security","spring-websocket"],"answers":[{"comments":[{"owner":{"account_id":22197761,"reputation":101,"user_id":16438909,"display_name":"Szőke Attila"},"score":0,"creation_date":1679069328,"post_id":75768970,"comment_id":133660461,"body_markdown":"Sure, I added this but it is still missing.","body":"Sure, I added this but it is still missing."},{"owner":{"account_id":2486870,"reputation":685,"user_id":2165146,"display_name":"muhammed ozbilici"},"score":0,"creation_date":1679069793,"post_id":75768970,"comment_id":133660567,"body_markdown":"maybe do `invalidate cache restart`if you are using intellij, because `MessageMatcherDelegatingAuthorizationManager` class is under this dependency.","body":"maybe do <code>invalidate cache restart</code>if you are using intellij, because <code>MessageMatcherDelegatingAuthorizationManager</code> class is under this dependency."},{"owner":{"account_id":22197761,"reputation":101,"user_id":16438909,"display_name":"Szőke Attila"},"score":0,"creation_date":1679075033,"post_id":75768970,"comment_id":133661945,"body_markdown":"I did so but still the import statements `messaging` part is red and mvn clean install fails as well.","body":"I did so but still the import statements <code>messaging</code> part is red and mvn clean install fails as well."},{"owner":{"account_id":22197761,"reputation":101,"user_id":16438909,"display_name":"Szőke Attila"},"score":0,"creation_date":1679083464,"post_id":75768970,"comment_id":133663820,"body_markdown":"I used a jar search website and found out that I need `spring-security-messaging`. Now the class can be imported.","body":"I used a jar search website and found out that I need <code>spring-security-messaging</code>. Now the class can be imported."}],"tags":[],"owner":{"account_id":2486870,"reputation":685,"user_id":2165146,"display_name":"muhammed ozbilici"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679064376,"creation_date":1679064376,"answer_id":75768970,"question_id":75768422,"body_markdown":"Can you add this dependency and retry ;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-messaging&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;","title":"Cannot find MessageMatcherDelegatingAuthorizationManager class while trying to configure websocket security in Spring Boot 3","body":"<p>Can you add this dependency and retry ;</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-messaging&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22197761,"reputation":101,"user_id":16438909,"display_name":"Szőke Attila"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1688983598,"creation_date":1679083414,"answer_id":75771776,"question_id":75768422,"body_markdown":"Well I found this dependency and it was the one I needed \r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-messaging&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\nnow the class can be imported. I still find it strange that it is not included in `spring-boot-starter-security` as a default.","title":"Cannot find MessageMatcherDelegatingAuthorizationManager class while trying to configure websocket security in Spring Boot 3","body":"<p>Well I found this dependency and it was the one I needed</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-security-messaging&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>now the class can be imported. I still find it strange that it is not included in <code>spring-boot-starter-security</code> as a default.</p>\n"},{"tags":[],"owner":{"account_id":13111239,"reputation":338,"user_id":9472193,"display_name":"Abolfazl Abbasi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689485561,"creation_date":1689485561,"answer_id":76696826,"question_id":75768422,"body_markdown":"For gradle:\r\n\r\n    implementation group: &#39;org.springframework.security&#39;, name: &#39;spring-security-messaging&#39;, version: &#39;6.1.1&#39;\r\n","title":"Cannot find MessageMatcherDelegatingAuthorizationManager class while trying to configure websocket security in Spring Boot 3","body":"<p>For gradle:</p>\n<pre><code>implementation group: 'org.springframework.security', name: 'spring-security-messaging', version: '6.1.1'\n</code></pre>\n"}],"owner":{"account_id":22197761,"reputation":101,"user_id":16438909,"display_name":"Szőke Attila"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":902,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":75771776,"answer_count":3,"score":4,"last_activity_date":1689485561,"creation_date":1679061262,"question_id":75768422,"body_markdown":"I am trying to configure websocket security with Spring Boot 3, while using `spring-boot-starter-parent:3.0.4`, going by the `@EnableWebSocketSecurity` [docs](https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/config/annotation/web/socket/EnableWebSocketSecurity.html) which say that I should use the class `MessageMatcherDelegatingAuthorizationManager`, but I can&#39;t seem to import it, it is not where it should be according to its [docs](https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/messaging/access/intercept/MessageMatcherDelegatingAuthorizationManager.html).\r\n\r\nAm I missing some dependencies or what is happening here? \r\n\r\nHere is my pom.xml, maybe it helps.\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\t\t xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.4&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t... omitted project data ...\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-websocket&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jjwt-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.11.5&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jjwt-impl&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.11.5&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jjwt-jackson&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.11.5&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.6.15&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\n\r\nI tried finding which dependency should bring it into the project, but as far as I see, it should come with `spring-boot-starter-security`.","title":"Cannot find MessageMatcherDelegatingAuthorizationManager class while trying to configure websocket security in Spring Boot 3","body":"<p>I am trying to configure websocket security with Spring Boot 3, while using <code>spring-boot-starter-parent:3.0.4</code>, going by the <code>@EnableWebSocketSecurity</code> <a href=\"https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/config/annotation/web/socket/EnableWebSocketSecurity.html\" rel=\"nofollow noreferrer\">docs</a> which say that I should use the class <code>MessageMatcherDelegatingAuthorizationManager</code>, but I can't seem to import it, it is not where it should be according to its <a href=\"https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/messaging/access/intercept/MessageMatcherDelegatingAuthorizationManager.html\" rel=\"nofollow noreferrer\">docs</a>.</p>\n<p>Am I missing some dependencies or what is happening here?</p>\n<p>Here is my pom.xml, maybe it helps.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.4&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    ... omitted project data ...\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-websocket&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt-api&lt;/artifactId&gt;\n            &lt;version&gt;0.11.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt-impl&lt;/artifactId&gt;\n            &lt;version&gt;0.11.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt-jackson&lt;/artifactId&gt;\n            &lt;version&gt;0.11.5&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n            &lt;version&gt;1.6.15&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>I tried finding which dependency should bring it into the project, but as far as I see, it should come with <code>spring-boot-starter-security</code>.</p>\n"},{"tags":["java","gradle","javadoc","opensearch"],"comments":[{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1689382247,"post_id":76691756,"comment_id":135210332,"body_markdown":"Notice it says `...\\jdk1.8.0_361\\bin\\javadoc` and not `javadoc.exe`.  Sounds like a Linux/Windows mixup... or a path specification error.  Also, it&#39;s not clear why the gradle config says JDK-11 but the error message refers to JDK-8.","body":"Notice it says <code>...\\jdk1.8.0_361\\bin\\javadoc</code> and not <code>javadoc.exe</code>.  Sounds like a Linux/Windows mixup... or a path specification error.  Also, it&#39;s not clear why the gradle config says JDK-11 but the error message refers to JDK-8."},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1689388221,"post_id":76691756,"comment_id":135210628,"body_markdown":"Your own snippet shows it is using a different Java version: `JAVA_HOME: C:\\Program Files\\Java\\jdk-11`","body":"Your own snippet shows it is using a different Java version: <code>JAVA_HOME: C:\\Program Files\\Java\\jdk-11</code>"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1689414629,"post_id":76691756,"comment_id":135212392,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1689484899,"post_id":76691756,"comment_id":135218502,"body_markdown":"Why exactly do you need to build the sources? Can you not pull the dependency?","body":"Why exactly do you need to build the sources? Can you not pull the dependency?"},{"owner":{"account_id":27556310,"reputation":1,"user_id":21030463,"display_name":"vp158"},"score":0,"creation_date":1689611127,"post_id":76691756,"comment_id":135234725,"body_markdown":"Hi, All thank you for the replies. I am fairly new to java, I was following the instructions on this github page. https://github.com/opensearch-project/opensearch-hadoop. I have 3 jdks installed:\n\n&quot;To create a distributable zip, run gradlew distZip from the command line; once completed you will find the jar in build/libs.\nTo build the project, JVM 8, JVM 11, and JVM 17 are required. The minimum compiler version is Java 14 and the minimum runtime is Java 8.&quot;","body":"Hi, All thank you for the replies. I am fairly new to java, I was following the instructions on this github page. <a href=\"https://github.com/opensearch-project/opensearch-hadoop\" rel=\"nofollow noreferrer\">github.com/opensearch-project/opensearch-hadoop</a>. I have 3 jdks installed:  &quot;To create a distributable zip, run gradlew distZip from the command line; once completed you will find the jar in build/libs. To build the project, JVM 8, JVM 11, and JVM 17 are required. The minimum compiler version is Java 14 and the minimum runtime is Java 8.&quot;"}],"owner":{"account_id":27556310,"reputation":1,"user_id":21030463,"display_name":"vp158"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689484573,"creation_date":1689381232,"question_id":76691756,"body_markdown":"I am attempting to build this project:\r\n\r\n[https://github.com/opensearch-project/opensearch-hadoop#writing-2\r\n](https://github.com/opensearch-project/opensearch-hadoop#writing-2)\r\n\r\nHere is the Gradle configuration:\r\n\r\n```\r\n===========================================\r\nOpenSearch-Hadoop Build Hamster says Hello!\r\n===========================================\r\nMin runtime: 1.8\r\nBuilding version [1.0.1-SNAPSHOT]\r\nTesting against OpenSearch [2.7.0-SNAPSHOT] with Lucene [9.5.0-snapshot-a4ef70f]\r\nUsing Gradle [8.1.1]\r\nUsing Apache Hadoop on YARN [3.1.2]\r\n=======================================\r\nOpenSearch Build Hamster says Hello!\r\n  Gradle Version        : 8.1.1\r\n  OS Info               : Windows 10 10.0 (amd64)\r\n  JDK Version           : 11 (Oracle JDK)\r\n  JAVA_HOME             : C:\\Program Files\\Java\\jdk-11\r\n  Random Testing Seed   : DBEBD3C9481699C\r\n  In FIPS 140 mode      : false\r\n=======================================\r\n\r\n```\r\n\r\n\r\n**Error during build: **\r\n\r\n```\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:opensearch-hadoop-mr:javadoc&#39;.\r\n&gt; Error while evaluating property &#39;javadocTool&#39; of task &#39;:opensearch-hadoop-mr:javadoc&#39;.\r\n   &gt; Failed to calculate the value of task &#39;:opensearch-hadoop-mr:javadoc&#39; property &#39;javadocTool&#39;.\r\n      &gt; The configured executable does not exist (C:\\Program Files\\Java\\jdk1.8.0_361\\bin\\javadoc)\r\n```\r\n\r\n\r\n\r\nWhen checking the path C:\\Program Files\\Java\\jdk1.8.0_361\\bin\\javadoc, the javadoc.exe is present. I have tried the following:\r\n- Changing the JAVA_HOME and JAVA8_HOME variables\r\n- Adding %JAVA_HOME%\\bin to PATH,\r\n- Disabling javadoc tasks in the build.gradle file: \r\n`    tasks.withType(Javadoc).all { \r\n        enabled = false }`\r\n\r\nAny help is appreciated as to why the `C:\\Program Files\\Java\\jdk1.8.0_361\\bin\\javadoc.exe` file is not found and the build fails. Thank you\r\n","title":"Why can&#39;t Gradle find the javadoc executable?","body":"<p>I am attempting to build this project:</p>\n<p><a href=\"https://github.com/opensearch-project/opensearch-hadoop#writing-2\" rel=\"nofollow noreferrer\">https://github.com/opensearch-project/opensearch-hadoop#writing-2\n</a></p>\n<p>Here is the Gradle configuration:</p>\n<pre><code>===========================================\nOpenSearch-Hadoop Build Hamster says Hello!\n===========================================\nMin runtime: 1.8\nBuilding version [1.0.1-SNAPSHOT]\nTesting against OpenSearch [2.7.0-SNAPSHOT] with Lucene [9.5.0-snapshot-a4ef70f]\nUsing Gradle [8.1.1]\nUsing Apache Hadoop on YARN [3.1.2]\n=======================================\nOpenSearch Build Hamster says Hello!\n  Gradle Version        : 8.1.1\n  OS Info               : Windows 10 10.0 (amd64)\n  JDK Version           : 11 (Oracle JDK)\n  JAVA_HOME             : C:\\Program Files\\Java\\jdk-11\n  Random Testing Seed   : DBEBD3C9481699C\n  In FIPS 140 mode      : false\n=======================================\n\n</code></pre>\n<p>**Error during build: **</p>\n<pre><code>FAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':opensearch-hadoop-mr:javadoc'.\n&gt; Error while evaluating property 'javadocTool' of task ':opensearch-hadoop-mr:javadoc'.\n   &gt; Failed to calculate the value of task ':opensearch-hadoop-mr:javadoc' property 'javadocTool'.\n      &gt; The configured executable does not exist (C:\\Program Files\\Java\\jdk1.8.0_361\\bin\\javadoc)\n</code></pre>\n<p>When checking the path C:\\Program Files\\Java\\jdk1.8.0_361\\bin\\javadoc, the javadoc.exe is present. I have tried the following:</p>\n<ul>\n<li>Changing the JAVA_HOME and JAVA8_HOME variables</li>\n<li>Adding %JAVA_HOME%\\bin to PATH,</li>\n<li>Disabling javadoc tasks in the build.gradle file:\n<code>    tasks.withType(Javadoc).all {  enabled = false }</code></li>\n</ul>\n<p>Any help is appreciated as to why the <code>C:\\Program Files\\Java\\jdk1.8.0_361\\bin\\javadoc.exe</code> file is not found and the build fails. Thank you</p>\n"},{"tags":["java","spring","aop"],"comments":[{"owner":{"account_id":16657879,"reputation":2625,"user_id":12038714,"display_name":"J Asgarov"},"score":0,"creation_date":1688836567,"post_id":76644083,"comment_id":135128786,"body_markdown":"u know u could just define the return type directly in the Spring Repository interface? like so `interface CatRepository extends MongoRepository&lt;Cat, String&gt; {\n    Cat findById(String id);\n}`","body":"u know u could just define the return type directly in the Spring Repository interface? like so <code>interface CatRepository extends MongoRepository&lt;Cat, String&gt; {     Cat findById(String id); }</code>"},{"owner":{"account_id":2247617,"reputation":681,"user_id":1980630,"display_name":"Robert Vanden Eynde"},"score":0,"creation_date":1688836668,"post_id":76644083,"comment_id":135128801,"body_markdown":"I know but on Error this returns null, I want an exception :)","body":"I know but on Error this returns null, I want an exception :)"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1688886995,"post_id":76644083,"comment_id":135132352,"body_markdown":"The `findById` is already on the default methods of the interfaces so you don&#39;t need to respecify it. Just don&#39;t try to shoehorn AOP in there and generate classes at runtime. Keep it simple and just write the code.","body":"The <code>findById</code> is already on the default methods of the interfaces so you don&#39;t need to respecify it. Just don&#39;t try to shoehorn AOP in there and generate classes at runtime. Keep it simple and just write the code."}],"answers":[{"comments":[{"owner":{"account_id":2247617,"reputation":681,"user_id":1980630,"display_name":"Robert Vanden Eynde"},"score":0,"creation_date":1689572220,"post_id":76696768,"comment_id":135226747,"body_markdown":"Thanks that solves the problem for findById, all my services would have to extend some base service. I&#39;d be happy to also see a solution that automatically implements an interface on the fly, also because I&#39;m curious of doing like this and also because I&#39;m looking to do more retrieve* function that would call the corresponding find* function and unwrap the Optional. For example DogRepository would have a findByCanineId() and would like to create a retrieveByCanineId() function. Should I create another question or add an &quot;EDIT&quot; to it ?","body":"Thanks that solves the problem for findById, all my services would have to extend some base service. I&#39;d be happy to also see a solution that automatically implements an interface on the fly, also because I&#39;m curious of doing like this and also because I&#39;m looking to do more retrieve* function that would call the corresponding find* function and unwrap the Optional. For example DogRepository would have a findByCanineId() and would like to create a retrieveByCanineId() function. Should I create another question or add an &quot;EDIT&quot; to it ?"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1689587625,"post_id":76696768,"comment_id":135229453,"body_markdown":"Don&#39;t you mind reflection to determine classes and methods? I don&#39;t want any complaints later that is is not beuatiful.","body":"Don&#39;t you mind reflection to determine classes and methods? I don&#39;t want any complaints later that is is not beuatiful."},{"owner":{"account_id":2247617,"reputation":681,"user_id":1980630,"display_name":"Robert Vanden Eynde"},"score":0,"creation_date":1689682022,"post_id":76696768,"comment_id":135245467,"body_markdown":"Oh yeah I&#39;m totally willing to have reflection. I take the method name &quot;retrieveById&quot;, I remove the &quot;retrieve&quot; to have the &quot;ById&quot; and then I prepend &quot;find&quot; to know which method to call :)","body":"Oh yeah I&#39;m totally willing to have reflection. I take the method name &quot;retrieveById&quot;, I remove the &quot;retrieve&quot; to have the &quot;ById&quot; and then I prepend &quot;find&quot; to know which method to call :)"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1689736342,"post_id":76696768,"comment_id":135254118,"body_markdown":"The problem with your question is, that it is unclear due to incomplete example code. If e.g. your services do not inherit a repository member from a generic base service, but each one declares its own repository field manually with different field names and types, it gets really tricky to find them, especially if maybe the same service has multiple repository references. I also do not fully understand what you need the extra repository helper interfaces for.","body":"The problem with your question is, that it is unclear due to incomplete example code. If e.g. your services do not inherit a repository member from a generic base service, but each one declares its own repository field manually with different field names and types, it gets really tricky to find them, especially if maybe the same service has multiple repository references. I also do not fully understand what you need the extra repository helper interfaces for."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1689736510,"post_id":76696768,"comment_id":135254132,"body_markdown":"An [MCVE](https://stackoverflow.com/help/mcve) would be helpful, otherwise I will guess wrong, and you will complain again that it is not what you need. So please, do your job and publish an MCVE on GitHub, implementing the methods manually for cats and dogs, which you want to be aspect-generated. Do not use any extra interfaces unnecessary for the manual implementation, and please also add code calling the methods in question, so I can see them in action.","body":"An <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a> would be helpful, otherwise I will guess wrong, and you will complain again that it is not what you need. So please, do your job and publish an MCVE on GitHub, implementing the methods manually for cats and dogs, which you want to be aspect-generated. Do not use any extra interfaces unnecessary for the manual implementation, and please also add code calling the methods in question, so I can see them in action."}],"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689484213,"creation_date":1689484213,"answer_id":76696768,"question_id":76644083,"body_markdown":"How about something like this? I love AOP. In native AspectJ and to some degree also in Spring AOP, you could use ITD + reflection to achieve something like this. But in this case, maybe simple OOP is enough.\r\n\r\nGiven a simplified version of `MongoRepository`, ...\r\n\r\n```java\r\npackage org.springframework.data.mongodb.repository;\r\n\r\nimport java.util.Optional;\r\n\r\npublic interface MongoRepository&lt;T, ID&gt; {\r\n  Optional&lt;T&gt; findById(ID id);\r\n}\r\n```\r\n\r\n... and these entity classes and repository implementions:\r\n\r\n```java\r\npackage de.scrum_master.stackoverflow.q76644083;\r\n\r\npublic class Dog {}\r\n```\r\n\r\n```java\r\npackage de.scrum_master.stackoverflow.q76644083;\r\n\r\nimport java.util.Optional;\r\n\r\nimport org.springframework.data.mongodb.repository.MongoRepository;\r\n\r\npublic class DogRepository implements MongoRepository&lt;Dog, String&gt; {\r\n  @Override\r\n  public Optional&lt;Dog&gt; findById(String id) {\r\n    return Optional.ofNullable(new Dog());\r\n  }\r\n}\r\n```\r\n\r\n```java\r\npackage de.scrum_master.stackoverflow.q76644083;\r\n\r\npublic class Cat {}\r\n```\r\n\r\n```java\r\npackage de.scrum_master.stackoverflow.q76644083;\r\n\r\nimport java.util.Optional;\r\n\r\nimport org.springframework.data.mongodb.repository.MongoRepository;\r\n\r\npublic class CatRepository implements MongoRepository&lt;Cat, String&gt; {\r\n  @Override\r\n  public Optional&lt;Cat&gt; findById(String id) {\r\n    return Optional.empty();\r\n  }\r\n}\r\n```\r\n\r\nYou can then structure your services as follows:\r\n\r\n```java\r\npackage de.scrum_master.stackoverflow.q76644083;\r\n\r\nimport org.springframework.data.mongodb.repository.MongoRepository;\r\n\r\npublic interface MyService&lt;T, ID&gt; {\r\n  MongoRepository&lt;T, ID&gt; getRepository();\r\n\r\n  default T retrieveById(ID id) {\r\n    System.out.println(&quot;Retrieving by ID &quot; + id);\r\n    return getRepository().findById(id).orElseThrow();\r\n  }\r\n}\r\n```\r\n\r\n```java\r\npackage de.scrum_master.stackoverflow.q76644083;\r\n\r\nimport org.springframework.data.mongodb.repository.MongoRepository;\r\n\r\npublic class MyBaseService&lt;T&gt; implements MyService&lt;T, String&gt; {\r\n  private MongoRepository&lt;T, String&gt; repository;\r\n\r\n  public MyBaseService(MongoRepository&lt;T, String&gt; repository) {\r\n    this.repository = repository;\r\n  }\r\n\r\n  @Override\r\n  public MongoRepository&lt;T, String&gt; getRepository() {\r\n    return repository;\r\n  }\r\n}\r\n```\r\n\r\n```java\r\npackage de.scrum_master.stackoverflow.q76644083;\r\n\r\nimport org.springframework.data.mongodb.repository.MongoRepository;\r\n\r\npublic class DogService extends MyBaseService&lt;Dog&gt; {\r\n  public DogService(MongoRepository&lt;Dog, String&gt; repository) {\r\n    super(repository);\r\n  }\r\n}\r\n```\r\n\r\n```java\r\npackage de.scrum_master.stackoverflow.q76644083;\r\n\r\nimport org.springframework.data.mongodb.repository.MongoRepository;\r\n\r\npublic class CatService extends MyBaseService&lt;Cat&gt; {\r\n  public CatService(MongoRepository&lt;Cat, String&gt; repository) {\r\n    super(repository);\r\n  }\r\n}\r\n```\r\n\r\nPlease note the generic default implementation of `T retrieveById(ID id)`.\r\n\r\nWith a little driver application like this, ...\r\n\r\n```java\r\npackage de.scrum_master.stackoverflow.q76644083;\r\n\r\npublic class Application {\r\n  public static void main(String[] args) {\r\n    new DogService(new DogRepository()).retrieveById(&quot;Lassie&quot;);\r\n    new CatService(new CatRepository()).retrieveById(&quot;Garfield&quot;);\r\n  }\r\n}\r\n```\r\n\r\n... the console log looks as follows:\r\n\r\n```none\r\nRetrieving by ID Lassie\r\nRetrieving by ID Garfield\r\nException in thread &quot;main&quot; java.util.NoSuchElementException: No value present\r\n\tat java.base/java.util.Optional.orElseThrow(Optional.java:377)\r\n\tat de.scrum_master.stackoverflow.q76644083.MyService.retrieveById(MyService.java:10)\r\n\tat de.scrum_master.stackoverflow.q76644083.Application.main(Application.java:6)\r\n```\r\n","title":"Implement method of interface at runtime in Java Spring","body":"<p>How about something like this? I love AOP. In native AspectJ and to some degree also in Spring AOP, you could use ITD + reflection to achieve something like this. But in this case, maybe simple OOP is enough.</p>\n<p>Given a simplified version of <code>MongoRepository</code>, ...</p>\n<pre class=\"lang-java prettyprint-override\"><code>package org.springframework.data.mongodb.repository;\n\nimport java.util.Optional;\n\npublic interface MongoRepository&lt;T, ID&gt; {\n  Optional&lt;T&gt; findById(ID id);\n}\n</code></pre>\n<p>... and these entity classes and repository implementions:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.stackoverflow.q76644083;\n\npublic class Dog {}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.stackoverflow.q76644083;\n\nimport java.util.Optional;\n\nimport org.springframework.data.mongodb.repository.MongoRepository;\n\npublic class DogRepository implements MongoRepository&lt;Dog, String&gt; {\n  @Override\n  public Optional&lt;Dog&gt; findById(String id) {\n    return Optional.ofNullable(new Dog());\n  }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.stackoverflow.q76644083;\n\npublic class Cat {}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.stackoverflow.q76644083;\n\nimport java.util.Optional;\n\nimport org.springframework.data.mongodb.repository.MongoRepository;\n\npublic class CatRepository implements MongoRepository&lt;Cat, String&gt; {\n  @Override\n  public Optional&lt;Cat&gt; findById(String id) {\n    return Optional.empty();\n  }\n}\n</code></pre>\n<p>You can then structure your services as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.stackoverflow.q76644083;\n\nimport org.springframework.data.mongodb.repository.MongoRepository;\n\npublic interface MyService&lt;T, ID&gt; {\n  MongoRepository&lt;T, ID&gt; getRepository();\n\n  default T retrieveById(ID id) {\n    System.out.println(&quot;Retrieving by ID &quot; + id);\n    return getRepository().findById(id).orElseThrow();\n  }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.stackoverflow.q76644083;\n\nimport org.springframework.data.mongodb.repository.MongoRepository;\n\npublic class MyBaseService&lt;T&gt; implements MyService&lt;T, String&gt; {\n  private MongoRepository&lt;T, String&gt; repository;\n\n  public MyBaseService(MongoRepository&lt;T, String&gt; repository) {\n    this.repository = repository;\n  }\n\n  @Override\n  public MongoRepository&lt;T, String&gt; getRepository() {\n    return repository;\n  }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.stackoverflow.q76644083;\n\nimport org.springframework.data.mongodb.repository.MongoRepository;\n\npublic class DogService extends MyBaseService&lt;Dog&gt; {\n  public DogService(MongoRepository&lt;Dog, String&gt; repository) {\n    super(repository);\n  }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.stackoverflow.q76644083;\n\nimport org.springframework.data.mongodb.repository.MongoRepository;\n\npublic class CatService extends MyBaseService&lt;Cat&gt; {\n  public CatService(MongoRepository&lt;Cat, String&gt; repository) {\n    super(repository);\n  }\n}\n</code></pre>\n<p>Please note the generic default implementation of <code>T retrieveById(ID id)</code>.</p>\n<p>With a little driver application like this, ...</p>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.stackoverflow.q76644083;\n\npublic class Application {\n  public static void main(String[] args) {\n    new DogService(new DogRepository()).retrieveById(&quot;Lassie&quot;);\n    new CatService(new CatRepository()).retrieveById(&quot;Garfield&quot;);\n  }\n}\n</code></pre>\n<p>... the console log looks as follows:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Retrieving by ID Lassie\nRetrieving by ID Garfield\nException in thread &quot;main&quot; java.util.NoSuchElementException: No value present\n    at java.base/java.util.Optional.orElseThrow(Optional.java:377)\n    at de.scrum_master.stackoverflow.q76644083.MyService.retrieveById(MyService.java:10)\n    at de.scrum_master.stackoverflow.q76644083.Application.main(Application.java:6)\n</code></pre>\n"}],"owner":{"account_id":2247617,"reputation":681,"user_id":1980630,"display_name":"Robert Vanden Eynde"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1689484213,"creation_date":1688836176,"question_id":76644083,"body_markdown":"I have a spring data repository for each of my model classes:\r\n\r\n```java\r\ninterface CatRepository extends MongoRepository&lt;Cat, String&gt; {\r\n    Optional&lt;Cat&gt; findById(String id);\r\n}\r\n\r\ninterface DogRepository extends MongoRepository&lt;Dog, String&gt; {\r\n    Optional&lt;Dog&gt; findById(String id);\r\n}\r\n```\r\n\r\nIn the calling code, I often to this:\r\n\r\n```java\r\nclass CatService {\r\n    Cat retrieveById(String id) {\r\n        return catRepository.findById(id).orElseThrow();\r\n    }\r\n}\r\n\r\nclass DogService {\r\n    Dog retrieveById(String id) {\r\n        return dogRepository.findById(id).orElseThrow();\r\n    }\r\n}\r\n```\r\n\r\nBut the logic &quot;methods called retrieveById call the method findById and do .orElseThrow()&quot;\r\n\r\nWhat I want is to write this logic one time.\r\n\r\nI thought of doing a &quot;RepositoryHelper&quot; interface :\r\n\r\n```java\r\ninterface CatRepositoryHelper {\r\n    Cat retrieveById(String id);\r\n}\r\n\r\ninterface DogRepositoryHelper {\r\n    Dog retrieveById(String id);\r\n}\r\n```\r\n\r\nBut the implementation of this interface can be deduced, it&#39;s always:\r\n\r\n_Call the corresponding repository &quot;findById&quot; with the same parameter and apply .orElseThrow() on the result._\r\n\r\nHow to have this implementation generated automatically ? I think aspects and proxies can help.\r\n\r\n\r\n","title":"Implement method of interface at runtime in Java Spring","body":"<p>I have a spring data repository for each of my model classes:</p>\n<pre class=\"lang-java prettyprint-override\"><code>interface CatRepository extends MongoRepository&lt;Cat, String&gt; {\n    Optional&lt;Cat&gt; findById(String id);\n}\n\ninterface DogRepository extends MongoRepository&lt;Dog, String&gt; {\n    Optional&lt;Dog&gt; findById(String id);\n}\n</code></pre>\n<p>In the calling code, I often to this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class CatService {\n    Cat retrieveById(String id) {\n        return catRepository.findById(id).orElseThrow();\n    }\n}\n\nclass DogService {\n    Dog retrieveById(String id) {\n        return dogRepository.findById(id).orElseThrow();\n    }\n}\n</code></pre>\n<p>But the logic &quot;methods called retrieveById call the method findById and do .orElseThrow()&quot;</p>\n<p>What I want is to write this logic one time.</p>\n<p>I thought of doing a &quot;RepositoryHelper&quot; interface :</p>\n<pre class=\"lang-java prettyprint-override\"><code>interface CatRepositoryHelper {\n    Cat retrieveById(String id);\n}\n\ninterface DogRepositoryHelper {\n    Dog retrieveById(String id);\n}\n</code></pre>\n<p>But the implementation of this interface can be deduced, it's always:</p>\n<p><em>Call the corresponding repository &quot;findById&quot; with the same parameter and apply .orElseThrow() on the result.</em></p>\n<p>How to have this implementation generated automatically ? I think aspects and proxies can help.</p>\n"},{"tags":["java","java-time","backwards-compatibility"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1689405511,"post_id":76692634,"comment_id":135211551,"body_markdown":"Please explain how this is causing a schema change. Are you asking how to get `Instant.toString()` to print the same number of digits? Or something else?","body":"Please explain how this is causing a schema change. Are you asking how to get <code>Instant.toString()</code> to print the same number of digits? Or something else?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1689405669,"post_id":76692634,"comment_id":135211564,"body_markdown":"In Java 21 there are *nine* digits after the decimal point. And are you certain that there are double quotes around the result in Java 8?","body":"In Java 21 there are <i>nine</i> digits after the decimal point. And are you certain that there are double quotes around the result in Java 8?"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1689406202,"post_id":76692634,"comment_id":135211597,"body_markdown":"You can truncate the instant, for example with `truncatedTo(ChronoUnit.MILLIS)`.","body":"You can truncate the instant, for example with <code>truncatedTo(ChronoUnit.MILLIS)</code>."},{"owner":{"account_id":2994486,"reputation":9111,"user_id":2541276,"accept_rate":55,"display_name":"user51"},"score":0,"creation_date":1689406210,"post_id":76692634,"comment_id":135211599,"body_markdown":"@tgdavies sorry my editing mistake I added double quotes and I removed it after your comment","body":"@tgdavies sorry my editing mistake I added double quotes and I removed it after your comment"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1689406372,"post_id":76692634,"comment_id":135211607,"body_markdown":"Can you also clarify what &quot;make this api call backward compatible&quot; actually means? Which API call? What incompatibility are you finding?","body":"Can you also clarify what &quot;make this api call backward compatible&quot; actually means? Which API call? What incompatibility are you finding?"},{"owner":{"account_id":2994486,"reputation":9111,"user_id":2541276,"accept_rate":55,"display_name":"user51"},"score":0,"creation_date":1689406825,"post_id":76692634,"comment_id":135211642,"body_markdown":"@tgdavies I updated for backward compatible","body":"@tgdavies I updated for backward compatible"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1689408485,"post_id":76692634,"comment_id":135211780,"body_markdown":"I still don&#39;t understand exactly how non-zero trailing digits in `Instant.getNano()` break your code.","body":"I still don&#39;t understand exactly how non-zero trailing digits in <code>Instant.getNano()</code> break your code."},{"owner":{"account_id":2994486,"reputation":9111,"user_id":2541276,"accept_rate":55,"display_name":"user51"},"score":0,"creation_date":1689409567,"post_id":76692634,"comment_id":135211878,"body_markdown":"I updated the code which converts instant to string and that is sent downstream","body":"I updated the code which converts instant to string and that is sent downstream"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1689410029,"post_id":76692634,"comment_id":135211924,"body_markdown":"OK, then Sweeper&#39;s or Mark&#39;s answer should be fine.","body":"OK, then Sweeper&#39;s or Mark&#39;s answer should be fine."}],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689408127,"creation_date":1689407414,"answer_id":76692766,"question_id":76692634,"body_markdown":"If you just want a `String` with 3 digits of fractional seconds, you can make your own `DateTimeFormatter` and format the `Instant` with that:\r\n\r\n```\r\n// note that there are only 3 &quot;S&quot;\r\nvar formatter = DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd&#39;T&#39;HH:mm:ss.SSS&#39;Z&#39;&quot;)\r\n    .withZone(ZoneOffset.UTC);\r\nSystem.out.println(formatter.format(Instant.now()));\r\n```\r\n\r\nThis will always produce 3 digits after the decimal dot, even if they are all 0.\r\n\r\nIf you actually want an `Instant` that is rounded to the nearest millisecond, use `truncatedTo`:\r\n\r\n```\r\nSystem.out.println(Instant.now().truncatedTo(ChronoUnit.MILLIS));\r\n```\r\n\r\n[`Instant.toString`][1] will use *at most* 3 decimal places for such `Instant`s. `Instant.toString` uses the [`ISO_INSTANT`][2] formatter.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Instant.html#toString()\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/DateTimeFormatter.html#ISO_INSTANT","title":"java.time.Instant.now has more precision in java 11 compared to java 8 and how to get backward compatible","body":"<p>If you just want a <code>String</code> with 3 digits of fractional seconds, you can make your own <code>DateTimeFormatter</code> and format the <code>Instant</code> with that:</p>\n<pre><code>// note that there are only 3 &quot;S&quot;\nvar formatter = DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd'T'HH:mm:ss.SSS'Z'&quot;)\n    .withZone(ZoneOffset.UTC);\nSystem.out.println(formatter.format(Instant.now()));\n</code></pre>\n<p>This will always produce 3 digits after the decimal dot, even if they are all 0.</p>\n<p>If you actually want an <code>Instant</code> that is rounded to the nearest millisecond, use <code>truncatedTo</code>:</p>\n<pre><code>System.out.println(Instant.now().truncatedTo(ChronoUnit.MILLIS));\n</code></pre>\n<p><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Instant.html#toString()\" rel=\"nofollow noreferrer\"><code>Instant.toString</code></a> will use <em>at most</em> 3 decimal places for such <code>Instant</code>s. <code>Instant.toString</code> uses the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/DateTimeFormatter.html#ISO_INSTANT\" rel=\"nofollow noreferrer\"><code>ISO_INSTANT</code></a> formatter.</p>\n"}],"owner":{"account_id":2994486,"reputation":9111,"user_id":2541276,"accept_rate":55,"display_name":"user51"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":176,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1689483579,"creation_date":1689405317,"question_id":76692634,"body_markdown":"I&#39;ve below code in java\r\n\r\n```java\r\nimport com.fasterxml.jackson.core.JsonProcessingException;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport com.fasterxml.jackson.databind.SerializationFeature;\r\nimport com.fasterxml.jackson.datatype.joda.JodaModule;\r\nimport com.fasterxml.jackson.datatype.jsr310.JavaTimeModule;\r\nimport java.time.Instant;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) throws JsonProcessingException {\r\n        Instant instant = Instant.now();\r\n        System.out.println(&quot;java version &quot; + System.getProperty(&quot;java.version&quot;));\r\n        System.out.println(&quot;java vendor &quot; + System.getProperty(&quot;java.vendor&quot;));\r\n//        System.out.println(instant.truncatedTo(ChronoUnit.MILLIS));\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        mapper.registerModule(new JodaModule());\r\n        mapper.registerModule(new JavaTimeModule());\r\n        mapper.configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, false);\r\n        mapper.configure(SerializationFeature.WRITE_DATE_TIMESTAMPS_AS_NANOSECONDS, true);\r\n        System.out.println(mapper.writeValueAsString(instant));\r\n    }\r\n\r\n}\r\n```\r\n\r\nwhen I run with java 8 I get below output -\r\n\r\n```\r\njava version 1.8.0_352\r\njava vendor Azul Systems, Inc.\r\n2023-07-15T07:27:49.588Z\r\n```\r\n\r\nwhen I run with java 11 I get below output -\r\n\r\n```\r\njava version 11.0.17\r\njava vendor Azul Systems, Inc.\r\n2023-07-15T07:08:15.457153Z\r\n```\r\n\r\nIt is clearly java 11 has more precision than java 8 and it is causing schema change in the middleware downstream.\r\n\r\nIs there any way to make this api call backward compatible?\r\n\r\n\r\n\r\n \r\n  [1]: https://mvnrepository.com/artifact/clojure.java-time/clojure.java-time/1.2.0","title":"java.time.Instant.now has more precision in java 11 compared to java 8 and how to get backward compatible","body":"<p>I've below code in java</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.databind.SerializationFeature;\nimport com.fasterxml.jackson.datatype.joda.JodaModule;\nimport com.fasterxml.jackson.datatype.jsr310.JavaTimeModule;\nimport java.time.Instant;\n\npublic class Main {\n    public static void main(String[] args) throws JsonProcessingException {\n        Instant instant = Instant.now();\n        System.out.println(&quot;java version &quot; + System.getProperty(&quot;java.version&quot;));\n        System.out.println(&quot;java vendor &quot; + System.getProperty(&quot;java.vendor&quot;));\n//        System.out.println(instant.truncatedTo(ChronoUnit.MILLIS));\n        ObjectMapper mapper = new ObjectMapper();\n        mapper.registerModule(new JodaModule());\n        mapper.registerModule(new JavaTimeModule());\n        mapper.configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, false);\n        mapper.configure(SerializationFeature.WRITE_DATE_TIMESTAMPS_AS_NANOSECONDS, true);\n        System.out.println(mapper.writeValueAsString(instant));\n    }\n\n}\n</code></pre>\n<p>when I run with java 8 I get below output -</p>\n<pre><code>java version 1.8.0_352\njava vendor Azul Systems, Inc.\n2023-07-15T07:27:49.588Z\n</code></pre>\n<p>when I run with java 11 I get below output -</p>\n<pre><code>java version 11.0.17\njava vendor Azul Systems, Inc.\n2023-07-15T07:08:15.457153Z\n</code></pre>\n<p>It is clearly java 11 has more precision than java 8 and it is causing schema change in the middleware downstream.</p>\n<p>Is there any way to make this api call backward compatible?</p>\n"},{"tags":["java","bit-manipulation"],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1689483059,"creation_date":1689482329,"answer_id":76696696,"question_id":76696686,"body_markdown":"You can calculate it based on [`Long.numberOfTrailingZeros`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html#numberOfTrailingZeros(long)).\r\n\r\n```java\r\npublic static int getLSBIndx(long n) {\r\n\treturn n == 0 ? -1 : Long.numberOfTrailingZeros(n) + 1;\r\n}\r\n```","title":"Get index of least significant set bit for a long in Java","body":"<p>You can calculate it based on <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html#numberOfTrailingZeros(long)\" rel=\"nofollow noreferrer\"><code>Long.numberOfTrailingZeros</code></a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static int getLSBIndx(long n) {\n    return n == 0 ? -1 : Long.numberOfTrailingZeros(n) + 1;\n}\n</code></pre>\n"}],"owner":{"account_id":2558655,"reputation":23,"user_id":2220139,"accept_rate":0,"display_name":"user2220139"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76696696,"answer_count":1,"score":1,"last_activity_date":1689483059,"creation_date":1689481986,"question_id":76696686,"body_markdown":"I found some code [here][1] that does what I am looking for for an int but when I plug in a long and the LSB is the 64th bit, it returns 0 instead of 64. I could do an explicit check for that case but there must be a better way.\r\n\r\n   \r\n\r\n    public class Test{\r\n        public static void main(String[] args){\r\n            long test = 0b1000000000000000000000000000000000000000000000000000000000000000L;\r\n            \r\n            //this should print &quot;64&quot;\r\n            System.out.println(getLSBIndx(test));\r\n        }\r\n        public static int getLSBIndx(long n){\r\n            if(n == 0) return -1;\r\n            return (int)((Math.log10(n &amp; -n)) / Math.log10(2)) ;\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://www.geeksforgeeks.org/position-of-rightmost-set-bit/\r\n","title":"Get index of least significant set bit for a long in Java","body":"<p>I found some code <a href=\"https://www.geeksforgeeks.org/position-of-rightmost-set-bit/\" rel=\"nofollow noreferrer\">here</a> that does what I am looking for for an int but when I plug in a long and the LSB is the 64th bit, it returns 0 instead of 64. I could do an explicit check for that case but there must be a better way.</p>\n<pre><code>public class Test{\n    public static void main(String[] args){\n        long test = 0b1000000000000000000000000000000000000000000000000000000000000000L;\n        \n        //this should print &quot;64&quot;\n        System.out.println(getLSBIndx(test));\n    }\n    public static int getLSBIndx(long n){\n        if(n == 0) return -1;\n        return (int)((Math.log10(n &amp; -n)) / Math.log10(2)) ;\n    }\n}\n</code></pre>\n"},{"tags":["java","javafx","sleep"],"comments":[{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1689468895,"post_id":76696287,"comment_id":135217821,"body_markdown":"Maybe [this](https://stackoverflow.com/questions/53242990/how-to-make-a-barchart-behave-like-a-timer/53247585#53247585) or [this](https://stackoverflow.com/questions/9966136/javafx-periodic-background-task) can help.","body":"Maybe <a href=\"https://stackoverflow.com/questions/53242990/how-to-make-a-barchart-behave-like-a-timer/53247585#53247585\">this</a> or <a href=\"https://stackoverflow.com/questions/9966136/javafx-periodic-background-task\">this</a> can help."},{"owner":{"account_id":29025436,"reputation":11,"user_id":22233753,"display_name":"sadgeworth"},"score":1,"creation_date":1689476864,"post_id":76696287,"comment_id":135218176,"body_markdown":"Timeline solved the issue, thank you very much!","body":"Timeline solved the issue, thank you very much!"}],"answers":[{"tags":[],"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1689482902,"creation_date":1689482902,"answer_id":76696727,"question_id":76696287,"body_markdown":"There are a couple things wrong with your current approach.\r\n\r\n1. You must **never** sleep, block, or perform long-running tasks on the _JavaFX Application Thread_. Otherwise, you will cause the application to become unresponsive because the thread cannot process user-generated events or schedule render &quot;pulses&quot;.\r\n\r\n2. The scene will not be redrawn until the _JavaFX Application Thread_ has finished its current work. That means setting a label&#39;s text property to different values via consecutive statements will not work as you expect. Only the last update to the text property will be rendered.\r\n\r\nYou basically want a periodic task executed on the _JavaFX Application Thread_. The way to implement that is via an animation. See [my answer here][1] for more information. \r\n\r\nIn your case, your task is essentially a countdown timer. A relatively straightforward way to implement a countdown timer in JavaFX is to use a `PauseTranstion`. Set the transition&#39;s duration to the desired value, then make use of the `currentTime` property to calculate the _remaining time_ of the animation. You can also use the `onFinished` property to perform an action once the transition completes.\r\n\r\nHere&#39;s an example:\r\n\r\n```java\r\nimport javafx.animation.PauseTransition;\r\nimport javafx.application.Application;\r\nimport javafx.beans.binding.Bindings;\r\nimport javafx.beans.binding.StringBinding;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Alert;\r\nimport javafx.scene.control.Alert.AlertType;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.layout.StackPane;\r\nimport javafx.stage.Stage;\r\nimport javafx.stage.Window;\r\nimport javafx.util.Duration;\r\n\r\n\r\npublic class Main extends Application {\r\n\r\n    @Override\r\n    public void start(Stage primaryStage) {\r\n        Button button = new Button(&quot;Create account...&quot;);\r\n        button.setOnAction(e -&gt; {\r\n            e.consume();\r\n            showAccountCreatedAlert(primaryStage);\r\n        });\r\n\r\n        primaryStage.setScene(new Scene(new StackPane(button), 600, 400));\r\n        primaryStage.show();\r\n    }\r\n\r\n    private void showAccountCreatedAlert(Window owner) {\r\n        Alert alert = new Alert(AlertType.INFORMATION);\r\n        alert.initOwner(owner);\r\n        alert.setHeaderText(&quot;Account Created&quot;);\r\n        \r\n        // the countdown timer\r\n        PauseTransition timer = new PauseTransition(Duration.seconds(5));\r\n        alert.contentTextProperty()\r\n                .bind(createRemainingSecondsMessage(&quot;Dialog closing in %d seconds.&quot;, timer));\r\n        timer.setOnFinished(e -&gt; alert.close()); // close the alert when the timer completes\r\n\r\n        // Start the timer when the alert is shown. Stop it if the alert is\r\n        // closed before the timer completes.\r\n        alert.setOnShown(e -&gt; timer.play());\r\n        alert.setOnHidden(e -&gt; timer.stop());\r\n        alert.showAndWait();\r\n    }\r\n\r\n    private StringBinding createRemainingSecondsMessage(String format, PauseTransition timer) {\r\n        return Bindings.createStringBinding(() -&gt; {\r\n            Duration timeRemaining = timer.getDuration().subtract(timer.getCurrentTime());\r\n            int secondsRemaining = (int) timeRemaining.toSeconds() + 1;\r\n            return String.format(format, secondsRemaining);\r\n        }, timer.currentTimeProperty(), timer.durationProperty());\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Application.launch(Main.class, args);\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/60685975/6395627","title":"How do I pause a javafx program without causing the program to run in a laggy fashion?","body":"<p>There are a couple things wrong with your current approach.</p>\n<ol>\n<li><p>You must <strong>never</strong> sleep, block, or perform long-running tasks on the <em>JavaFX Application Thread</em>. Otherwise, you will cause the application to become unresponsive because the thread cannot process user-generated events or schedule render &quot;pulses&quot;.</p>\n</li>\n<li><p>The scene will not be redrawn until the <em>JavaFX Application Thread</em> has finished its current work. That means setting a label's text property to different values via consecutive statements will not work as you expect. Only the last update to the text property will be rendered.</p>\n</li>\n</ol>\n<p>You basically want a periodic task executed on the <em>JavaFX Application Thread</em>. The way to implement that is via an animation. See <a href=\"https://stackoverflow.com/a/60685975/6395627\">my answer here</a> for more information.</p>\n<p>In your case, your task is essentially a countdown timer. A relatively straightforward way to implement a countdown timer in JavaFX is to use a <code>PauseTranstion</code>. Set the transition's duration to the desired value, then make use of the <code>currentTime</code> property to calculate the <em>remaining time</em> of the animation. You can also use the <code>onFinished</code> property to perform an action once the transition completes.</p>\n<p>Here's an example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javafx.animation.PauseTransition;\nimport javafx.application.Application;\nimport javafx.beans.binding.Bindings;\nimport javafx.beans.binding.StringBinding;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Alert;\nimport javafx.scene.control.Alert.AlertType;\nimport javafx.scene.control.Button;\nimport javafx.scene.layout.StackPane;\nimport javafx.stage.Stage;\nimport javafx.stage.Window;\nimport javafx.util.Duration;\n\n\npublic class Main extends Application {\n\n    @Override\n    public void start(Stage primaryStage) {\n        Button button = new Button(&quot;Create account...&quot;);\n        button.setOnAction(e -&gt; {\n            e.consume();\n            showAccountCreatedAlert(primaryStage);\n        });\n\n        primaryStage.setScene(new Scene(new StackPane(button), 600, 400));\n        primaryStage.show();\n    }\n\n    private void showAccountCreatedAlert(Window owner) {\n        Alert alert = new Alert(AlertType.INFORMATION);\n        alert.initOwner(owner);\n        alert.setHeaderText(&quot;Account Created&quot;);\n        \n        // the countdown timer\n        PauseTransition timer = new PauseTransition(Duration.seconds(5));\n        alert.contentTextProperty()\n                .bind(createRemainingSecondsMessage(&quot;Dialog closing in %d seconds.&quot;, timer));\n        timer.setOnFinished(e -&gt; alert.close()); // close the alert when the timer completes\n\n        // Start the timer when the alert is shown. Stop it if the alert is\n        // closed before the timer completes.\n        alert.setOnShown(e -&gt; timer.play());\n        alert.setOnHidden(e -&gt; timer.stop());\n        alert.showAndWait();\n    }\n\n    private StringBinding createRemainingSecondsMessage(String format, PauseTransition timer) {\n        return Bindings.createStringBinding(() -&gt; {\n            Duration timeRemaining = timer.getDuration().subtract(timer.getCurrentTime());\n            int secondsRemaining = (int) timeRemaining.toSeconds() + 1;\n            return String.format(format, secondsRemaining);\n        }, timer.currentTimeProperty(), timer.durationProperty());\n    }\n\n    public static void main(String[] args) {\n        Application.launch(Main.class, args);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":29025436,"reputation":11,"user_id":22233753,"display_name":"sadgeworth"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1689482902,"creation_date":1689468036,"question_id":76696287,"body_markdown":"Trying to add a label in my program where the number on it reduces by one per second, but the label only appears once all the sleeps are completed\r\n\r\n\r\n```\r\n@FXML\r\nprivate Label successAccCrn;\r\nsuccessAccCrn.setVisible(false);\r\nsuccessAccCrn.setVisible(true);\r\nsuccessAccCrn.setText(&quot;Account created, page closes in 3&quot;);\r\njava.util.concurrent.TimeUnit.SECONDS.sleep(1);\r\nsuccessAccCrn.setText(&quot;Account created, page closes in 2&quot;);\r\njava.util.concurrent.TimeUnit.SECONDS.sleep(1);\r\nsuccessAccCrn.setText(&quot;Account created, page closes in 1&quot;);\r\njava.util.concurrent.TimeUnit.SECONDS.sleep(1);\r\n```\r\nAttempted to use Thread.sleep(millis) as well but once all the sleeps are finished then the line successAccCrn.setVisible(true) shows with text &quot;Account created, page closes in 1&quot;, meaning that the two other setTexts could not be seen ","title":"How do I pause a javafx program without causing the program to run in a laggy fashion?","body":"<p>Trying to add a label in my program where the number on it reduces by one per second, but the label only appears once all the sleeps are completed</p>\n<pre><code>@FXML\nprivate Label successAccCrn;\nsuccessAccCrn.setVisible(false);\nsuccessAccCrn.setVisible(true);\nsuccessAccCrn.setText(&quot;Account created, page closes in 3&quot;);\njava.util.concurrent.TimeUnit.SECONDS.sleep(1);\nsuccessAccCrn.setText(&quot;Account created, page closes in 2&quot;);\njava.util.concurrent.TimeUnit.SECONDS.sleep(1);\nsuccessAccCrn.setText(&quot;Account created, page closes in 1&quot;);\njava.util.concurrent.TimeUnit.SECONDS.sleep(1);\n</code></pre>\n<p>Attempted to use Thread.sleep(millis) as well but once all the sleeps are finished then the line successAccCrn.setVisible(true) shows with text &quot;Account created, page closes in 1&quot;, meaning that the two other setTexts could not be seen</p>\n"},{"tags":["python","java","jenkins"],"answers":[{"comments":[{"owner":{"account_id":3252657,"reputation":353,"user_id":2742533,"accept_rate":26,"display_name":"Venu"},"score":0,"creation_date":1689445758,"post_id":76679647,"comment_id":135215912,"body_markdown":"As I mentioned, I am able to trigger jenkins job but how to get build no? Also will be triggering multiple jenkin builds one after the other. I need to get corresponding build no. Without build no , i cant execute above API call to get consoleText","body":"As I mentioned, I am able to trigger jenkins job but how to get build no? Also will be triggering multiple jenkin builds one after the other. I need to get corresponding build no. Without build no , i cant execute above API call to get consoleText"},{"owner":{"account_id":4599455,"reputation":2892,"user_id":3730626,"display_name":"M B"},"score":0,"creation_date":1689481036,"post_id":76679647,"comment_id":135218335,"body_markdown":"@Venu I have edited the answer to show how you can get the build number of the last build.","body":"@Venu I have edited the answer to show how you can get the build number of the last build."}],"tags":[],"owner":{"account_id":4599455,"reputation":2892,"user_id":3730626,"display_name":"M B"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689481028,"creation_date":1689253167,"answer_id":76679647,"question_id":76676582,"body_markdown":"You can get the logs for any job by sending a simple GET request to the log url. For example, if you had a job called `test` and you wanted to get the logs of build `5`, use:\r\n\r\n```\r\nhttp://&lt;host&gt;:&lt;port&gt;/job/test/5/consoleText\r\n```\r\n\r\nYou can call this url the same way you would call any regular endpoint with Java (or any other language), and you will get the logs in plain text.\r\n\r\n**EDIT:** Once the job has been triggered, that build will be the last one that has run in that job. Therefore. you can get the build number by calling:\r\n\r\n```\r\nhttp://&lt;host&gt;:&lt;port&gt;/job/test/lastBuild/buildNumber\r\n```\r\n\r\nIn the same way you would call any other endpoint. This works even if you trigger multiple builds on the same job. Make sure you get the build number from the above URL and save it in an array every time you trigger a new job.","title":"Trigger and read jenkin console logs","body":"<p>You can get the logs for any job by sending a simple GET request to the log url. For example, if you had a job called <code>test</code> and you wanted to get the logs of build <code>5</code>, use:</p>\n<pre><code>http://&lt;host&gt;:&lt;port&gt;/job/test/5/consoleText\n</code></pre>\n<p>You can call this url the same way you would call any regular endpoint with Java (or any other language), and you will get the logs in plain text.</p>\n<p><strong>EDIT:</strong> Once the job has been triggered, that build will be the last one that has run in that job. Therefore. you can get the build number by calling:</p>\n<pre><code>http://&lt;host&gt;:&lt;port&gt;/job/test/lastBuild/buildNumber\n</code></pre>\n<p>In the same way you would call any other endpoint. This works even if you trigger multiple builds on the same job. Make sure you get the build number from the above URL and save it in an array every time you trigger a new job.</p>\n"}],"owner":{"account_id":3252657,"reputation":353,"user_id":2742533,"accept_rate":26,"display_name":"Venu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1689481028,"creation_date":1689230602,"question_id":76676582,"body_markdown":"I am planning to automate triggering jenkins job and read console logs to validate.\r\nCurrently I am able to trigger jenkins build using java.\r\nIs there a way to read console logs using java?\r\n\r\nWhich other language will be useful to perform the same task?","title":"Trigger and read jenkin console logs","body":"<p>I am planning to automate triggering jenkins job and read console logs to validate.\nCurrently I am able to trigger jenkins build using java.\nIs there a way to read console logs using java?</p>\n<p>Which other language will be useful to perform the same task?</p>\n"},{"tags":["java","android","android-asynctask","android-background"],"comments":[{"owner":{"account_id":9172301,"reputation":4168,"user_id":6819340,"accept_rate":39,"display_name":"darshan"},"score":0,"creation_date":1689444529,"post_id":76694798,"comment_id":135215776,"body_markdown":"Are you doing any `UI` related task inside `MyDatabase.initalize()`, maybe via a callback or event bus like logic? Seems like some Fragment is initialized in `doInBackground` which is causing this crash. Using `addObserver` should strictly be done on main thread, which isn&#39;t happening in this case.","body":"Are you doing any <code>UI</code> related task inside <code>MyDatabase.initalize()</code>, maybe via a callback or event bus like logic? Seems like some Fragment is initialized in <code>doInBackground</code> which is causing this crash. Using <code>addObserver</code> should strictly be done on main thread, which isn&#39;t happening in this case."},{"owner":{"account_id":17575058,"reputation":2200,"user_id":12749998,"display_name":"Kozmotronik"},"score":0,"creation_date":1689663908,"post_id":76694798,"comment_id":135241592,"body_markdown":"However the [AsyncTask](https://developer.android.com/reference/android/os/AsyncTask) is not much an up to date API.","body":"However the <a href=\"https://developer.android.com/reference/android/os/AsyncTask\" rel=\"nofollow noreferrer\">AsyncTask</a> is not much an up to date API."},{"owner":{"account_id":952605,"reputation":11497,"user_id":978461,"accept_rate":73,"display_name":"Adam Varhegyi"},"score":0,"creation_date":1689667829,"post_id":76694798,"comment_id":135242396,"body_markdown":"@Kozmotronik What is a better solution for showing a loading screen while doing background operation? Mind that it is a legacy project with Java and not Kotlin.","body":"@Kozmotronik What is a better solution for showing a loading screen while doing background operation? Mind that it is a legacy project with Java and not Kotlin."},{"owner":{"account_id":17575058,"reputation":2200,"user_id":12749998,"display_name":"Kozmotronik"},"score":0,"creation_date":1689669196,"post_id":76694798,"comment_id":135242705,"body_markdown":"What do you display in your *loading screen*? *Mind that it is a legacy project with Java and not Kotlin.* - This should not be a concern for replacing deprecated APIs in your project. However if you are certain about that your project will not be used on SDK 30 and above, then it is ok, you may leave it with AsyncTask.","body":"What do you display in your <i>loading screen</i>? <i>Mind that it is a legacy project with Java and not Kotlin.</i> - This should not be a concern for replacing deprecated APIs in your project. However if you are certain about that your project will not be used on SDK 30 and above, then it is ok, you may leave it with AsyncTask."},{"owner":{"account_id":952605,"reputation":11497,"user_id":978461,"accept_rate":73,"display_name":"Adam Varhegyi"},"score":0,"creation_date":1689669464,"post_id":76694798,"comment_id":135242763,"body_markdown":"@Kozmotronik I found it. There was a code part which created new fragments.","body":"@Kozmotronik I found it. There was a code part which created new fragments."}],"answers":[{"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689474844,"creation_date":1689474844,"answer_id":76696457,"question_id":76694798,"body_markdown":"Your init function of MyDatabase is creating a Fragment.  That Fragment is trying to observe it&#39;s Activity&#39;s lifecycle, which is not allowed to be done on any thread but the main.  Refactor your code so that none of your database code makes any UI calls.  Those two subsystems shouldn&#39;t be combined like that anyway\r\n","title":"AsyncTask onBackground() throws error - Caused by: java.lang.IllegalStateException: Method addObserver must be called on the main thread","body":"<p>Your init function of MyDatabase is creating a Fragment.  That Fragment is trying to observe it's Activity's lifecycle, which is not allowed to be done on any thread but the main.  Refactor your code so that none of your database code makes any UI calls.  Those two subsystems shouldn't be combined like that anyway</p>\n"}],"owner":{"account_id":952605,"reputation":11497,"user_id":978461,"accept_rate":73,"display_name":"Adam Varhegyi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76696457,"answer_count":1,"score":0,"last_activity_date":1689474844,"creation_date":1689439166,"question_id":76694798,"body_markdown":"Today I opened my project which haven&#39;t been updated for about 6 months now and **I decided to update all the libraries to make it up to date with recent Android development environment.**\r\n\r\nAfter updating a couple of libraries **my app throws an exception inside a very simple AsyncTask&#39;s onBackground() part.**\r\n\r\nHere is my AsyncTask, very simple code, creates database in the background, then starts a new activity.\r\n\r\n            new AsyncTask() {\r\n                  \r\n                @Override\r\n                protected Object doInBackground(Object[] objects) {\r\n                         \r\n                    //Creates database while showing a simple loading screen.\r\n                    MyDatabase.initalize();\r\n                    return null;\r\n                }\r\n        \r\n                @Override\r\n                protected void onPostExecute(Object o) {\r\n                    super.onPostExecute(o);\r\n\r\n                    //When the database has been created, starts a new activity\r\n\r\n                    if (isInForeground) {\r\n                        Intent intent= new Intent(StartAppActivity.this, GameAppActivity.class);\r\n                        startActivity(intent);\r\n                        finish();\r\n                    }\r\n                }\r\n            }.execute();\r\n\r\n\r\n---------\r\nThis is the crash:\r\n----------\r\n\r\n\r\n    hu.myname.test.app        E  FATAL EXCEPTION: AsyncTask #1\r\n    Process: hu.myname.test.app, PID: 15536\r\n    java.lang.RuntimeException: An error occurred while executing doInBackground()\r\n    \tat android.os.AsyncTask$4.done(AsyncTask.java:415)\r\n    \tat java.util.concurrent.FutureTask.finishCompletion(FutureTask.java:383)\r\n    \tat java.util.concurrent.FutureTask.setException(FutureTask.java:252)\r\n    \tat java.util.concurrent.FutureTask.run(FutureTask.java:271)\r\n    \tat android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:305)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\r\n    \tat java.lang.Thread.run(Thread.java:923)\r\n    Caused by: java.lang.ExceptionInInitializerError\r\n    \tat hu.myname.test.game.dbs.lexicon.MyDatabase.initalize(MyDatabase.java:49)\r\n    \tat hu.myname.test.activity.StartAppActivity$1.doInBackground(StartAppActivity.java:121)\r\n    \tat android.os.AsyncTask$3.call(AsyncTask.java:394)\r\n    \tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n    \tat android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:305)&#160;\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)&#160;\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)&#160;\r\n    \tat java.lang.Thread.run(Thread.java:923)&#160;\r\n    Caused by: java.lang.IllegalStateException: Method addObserver must be called on the main thread\r\n    \tat androidx.lifecycle.LifecycleRegistry.enforceMainThreadIfNeeded(LifecycleRegistry.java:317)\r\n    \tat androidx.lifecycle.LifecycleRegistry.addObserver(LifecycleRegistry.java:172)\r\n    \tat androidx.fragment.app.Fragment.initLifecycle(Fragment.java:471)\r\n    \tat androidx.fragment.app.Fragment.&lt;init&gt;(Fragment.java:451)\r\n    \tat hu.myname.test.fragment.base.BaseFragment.&lt;init&gt;(BaseFragment.java:30)\r\n    \tat hu.myname.test.fragment.lexicon.base.LexiconAbstractFragment.&lt;init&gt;(LexiconAbstractFragment.java:30)\r\n    \tat hu.myname.test.fragment.lexicon.TabsLexiconFragment.&lt;init&gt;(TabsLexiconFragment.java:11)\r\n    \tat hu.myname.test.game.dbs.lexicon.MyDatabase.&lt;clinit&gt;(MyDatabase.java:27)\r\n    \tat hu.myname.test.game.dbs.lexicon.MyDatabase.runStatic(MyDatabase.java:49)&#160;\r\n    \tat hu.myname.test.activity.StartAppActivity$1.doInBackground(StartAppActivity.java:121)&#160;\r\n    \tat android.os.AsyncTask$3.call(AsyncTask.java:394)&#160;\r\n    \tat java.util.concurrent.FutureTask.run(FutureTask.java:266)&#160;\r\n    \tat android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:305)&#160;\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)&#160;\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)&#160;\r\n    \tat java.lang.Thread.run(Thread.java:923)&#160;\r\n\r\n\r\n**I tried to change the async task to different background solutions like threads and executors but it throws the very same error.**\r\n\r\n    Caused by: java.lang.IllegalStateException: Method addObserver must be called on the main thread\r\n\r\nWhat is going on? I simple updated a few libraries, **didn&#39;t write new code.** I feel like Android development is putting down the rails while standing in front of a train.\r\n\r\nAny insights?","title":"AsyncTask onBackground() throws error - Caused by: java.lang.IllegalStateException: Method addObserver must be called on the main thread","body":"<p>Today I opened my project which haven't been updated for about 6 months now and <strong>I decided to update all the libraries to make it up to date with recent Android development environment.</strong></p>\n<p>After updating a couple of libraries <strong>my app throws an exception inside a very simple AsyncTask's onBackground() part.</strong></p>\n<p>Here is my AsyncTask, very simple code, creates database in the background, then starts a new activity.</p>\n<pre><code>        new AsyncTask() {\n              \n            @Override\n            protected Object doInBackground(Object[] objects) {\n                     \n                //Creates database while showing a simple loading screen.\n                MyDatabase.initalize();\n                return null;\n            }\n    \n            @Override\n            protected void onPostExecute(Object o) {\n                super.onPostExecute(o);\n\n                //When the database has been created, starts a new activity\n\n                if (isInForeground) {\n                    Intent intent= new Intent(StartAppActivity.this, GameAppActivity.class);\n                    startActivity(intent);\n                    finish();\n                }\n            }\n        }.execute();\n</code></pre>\n<hr />\n<h2>This is the crash:</h2>\n<pre><code>hu.myname.test.app        E  FATAL EXCEPTION: AsyncTask #1\nProcess: hu.myname.test.app, PID: 15536\njava.lang.RuntimeException: An error occurred while executing doInBackground()\n    at android.os.AsyncTask$4.done(AsyncTask.java:415)\n    at java.util.concurrent.FutureTask.finishCompletion(FutureTask.java:383)\n    at java.util.concurrent.FutureTask.setException(FutureTask.java:252)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:271)\n    at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:305)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\n    at java.lang.Thread.run(Thread.java:923)\nCaused by: java.lang.ExceptionInInitializerError\n    at hu.myname.test.game.dbs.lexicon.MyDatabase.initalize(MyDatabase.java:49)\n    at hu.myname.test.activity.StartAppActivity$1.doInBackground(StartAppActivity.java:121)\n    at android.os.AsyncTask$3.call(AsyncTask.java:394)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:305) \n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167) \n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641) \n    at java.lang.Thread.run(Thread.java:923) \nCaused by: java.lang.IllegalStateException: Method addObserver must be called on the main thread\n    at androidx.lifecycle.LifecycleRegistry.enforceMainThreadIfNeeded(LifecycleRegistry.java:317)\n    at androidx.lifecycle.LifecycleRegistry.addObserver(LifecycleRegistry.java:172)\n    at androidx.fragment.app.Fragment.initLifecycle(Fragment.java:471)\n    at androidx.fragment.app.Fragment.&lt;init&gt;(Fragment.java:451)\n    at hu.myname.test.fragment.base.BaseFragment.&lt;init&gt;(BaseFragment.java:30)\n    at hu.myname.test.fragment.lexicon.base.LexiconAbstractFragment.&lt;init&gt;(LexiconAbstractFragment.java:30)\n    at hu.myname.test.fragment.lexicon.TabsLexiconFragment.&lt;init&gt;(TabsLexiconFragment.java:11)\n    at hu.myname.test.game.dbs.lexicon.MyDatabase.&lt;clinit&gt;(MyDatabase.java:27)\n    at hu.myname.test.game.dbs.lexicon.MyDatabase.runStatic(MyDatabase.java:49) \n    at hu.myname.test.activity.StartAppActivity$1.doInBackground(StartAppActivity.java:121) \n    at android.os.AsyncTask$3.call(AsyncTask.java:394) \n    at java.util.concurrent.FutureTask.run(FutureTask.java:266) \n    at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:305) \n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167) \n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641) \n    at java.lang.Thread.run(Thread.java:923) \n</code></pre>\n<p><strong>I tried to change the async task to different background solutions like threads and executors but it throws the very same error.</strong></p>\n<pre><code>Caused by: java.lang.IllegalStateException: Method addObserver must be called on the main thread\n</code></pre>\n<p>What is going on? I simple updated a few libraries, <strong>didn't write new code.</strong> I feel like Android development is putting down the rails while standing in front of a train.</p>\n<p>Any insights?</p>\n"},{"tags":["java","rocketmq"],"comments":[{"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"score":0,"creation_date":1689328487,"post_id":76686556,"comment_id":135201115,"body_markdown":"NameServer by default listens for HTTP connections, not HTTPS, so you don&#39;t need to do anything. Just access the NameServer with http://ip:9876, as you&#39;ve found that it works fine. There is nothing to close","body":"NameServer by default listens for HTTP connections, not HTTPS, so you don&#39;t need to do anything. Just access the NameServer with <a href=\"http://ip:9876\" rel=\"nofollow noreferrer\">ip:9876</a>, as you&#39;ve found that it works fine. There is nothing to close"},{"owner":{"account_id":2795367,"reputation":11,"user_id":2404686,"display_name":"user2404686"},"score":0,"creation_date":1689329755,"post_id":76686556,"comment_id":135201337,"body_markdown":"@yahorbarkouski\nThinks! \nBut still issues\nI&#39;m update the question  add one img describe the detail","body":"@yahorbarkouski Thinks!  But still issues I&#39;m update the question  add one img describe the detail"},{"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"score":0,"creation_date":1689330914,"post_id":76686556,"comment_id":135201508,"body_markdown":"when you try to access the httpS://ip:9876, your browser attempts to establish a secure connection, but since the server isn&#39;t set up for HTTPS, you receive a safety warning, and that&#39;s fine","body":"when you try to access the <a href=\"httpS://ip:9876\" rel=\"nofollow noreferrer\">httpS://ip:9876</a>, your browser attempts to establish a secure connection, but since the server isn&#39;t set up for HTTPS, you receive a safety warning, and that&#39;s fine"}],"owner":{"account_id":2795367,"reputation":11,"user_id":2404686,"display_name":"user2404686"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689474277,"creation_date":1689328090,"question_id":76686556,"body_markdown":"I encountered a problem!!!\r\n\r\nstep 1. RocketMq server run in the windows server. \r\n\r\nstep 2. browser open https://ip:9876  appear safety warning, \r\nhttp://ip:9876 is ok \r\n[![enter image description here][1]][1]\r\n\r\nI&#39;m just want close https, how can I do it.\r\n\r\nThanks a lot!\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pG3mw.png","title":"how to close default https connection from rocketmq nameserver 9876","body":"<p>I encountered a problem!!!</p>\n<p>step 1. RocketMq server run in the windows server.</p>\n<p>step 2. browser open https://ip:9876  appear safety warning,\nhttp://ip:9876 is ok\n<a href=\"https://i.stack.imgur.com/pG3mw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pG3mw.png\" alt=\"enter image description here\" /></a></p>\n<p>I'm just want close https, how can I do it.</p>\n<p>Thanks a lot!</p>\n"},{"tags":["java","indexoutofboundsexception"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1689481240,"post_id":46627102,"comment_id":135218343,"body_markdown":"It isn&#39;t &#39;on a print statement&#39;. `println()` does not appear in your stack trace. It is at `ArrayList.get()`, and it is because the index *is* out of bounds.","body":"It isn&#39;t &#39;on a print statement&#39;. <code>println()</code> does not appear in your stack trace. It is at <code>ArrayList.get()</code>, and it is because the index <i>is</i> out of bounds."}],"answers":[{"comments":[{"owner":{"display_name":"user8705926"},"score":0,"creation_date":1507434444,"post_id":46627132,"comment_id":80204975,"body_markdown":"Hi, I added &#39;0&#39; to the list with column.add(0);. However, I&#39;m still getting an indexoutofbounds exception.","body":"Hi, I added &#39;0&#39; to the list with column.add(0);. However, I&#39;m still getting an indexoutofbounds exception."},{"owner":{"account_id":2508750,"reputation":4397,"user_id":2181703,"accept_rate":20,"display_name":"Optional"},"score":0,"creation_date":1507434607,"post_id":46627132,"comment_id":80204994,"body_markdown":"The idea is same. If you added only one element to list and are calling index  &gt; 0 then you will get exception. When you are calling get, make sure the index you pass is less than the size of list. In your question, value of number keeps on increasing...","body":"The idea is same. If you added only one element to list and are calling index  &gt; 0 then you will get exception. When you are calling get, make sure the index you pass is less than the size of list. In your question, value of number keeps on increasing..."}],"tags":[],"owner":{"account_id":2508750,"reputation":4397,"user_id":2181703,"accept_rate":20,"display_name":"Optional"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1507431633,"creation_date":1507431633,"answer_id":46627132,"question_id":46627102,"body_markdown":"It&#39;s clear that your code \r\n\r\n    System.out.println(row.get(number) + &quot;&quot; + column.get(number)); \r\n\r\nwill fail.\r\n\r\nAs before this code, you are adding value into row list, at index number but your column list is still empty with no element. If the list does not have an element, you are expected to have exception. Just like below code\r\n\r\n    List test = new ArrayList();\r\n    System.out.println(test.get(0));","title":"IndexOutOfBoundsException on a print statement","body":"<p>It's clear that your code </p>\n\n<pre><code>System.out.println(row.get(number) + \"\" + column.get(number)); \n</code></pre>\n\n<p>will fail.</p>\n\n<p>As before this code, you are adding value into row list, at index number but your column list is still empty with no element. If the list does not have an element, you are expected to have exception. Just like below code</p>\n\n<pre><code>List test = new ArrayList();\nSystem.out.println(test.get(0));\n</code></pre>\n"},{"comments":[{"owner":{"display_name":"user8705926"},"score":0,"creation_date":1507434455,"post_id":46627216,"comment_id":80204978,"body_markdown":"Hi, I added &#39;0&#39; to the list with column.add(0);. However, I&#39;m still getting an indexoutofbounds exception.","body":"Hi, I added &#39;0&#39; to the list with column.add(0);. However, I&#39;m still getting an indexoutofbounds exception."},{"owner":{"account_id":3140433,"reputation":1296,"user_id":2655988,"accept_rate":30,"display_name":"Nishit"},"score":0,"creation_date":1507435640,"post_id":46627216,"comment_id":80205129,"body_markdown":"@Lyfe. Are you adding it everytime you go inside the while loop? The problem is that you are trying to print column.get() everytime, but it is not being populated always. And everytime you are increasing &quot;number&quot;. Last time you were getting OutOfBound for index=0, after hardcoding your column.add(0), you would now be getting it at index=1 which means you passed the first iteration of the loop, but failed in the 2nd one","body":"@Lyfe. Are you adding it everytime you go inside the while loop? The problem is that you are trying to print column.get() everytime, but it is not being populated always. And everytime you are increasing &quot;number&quot;. Last time you were getting OutOfBound for index=0, after hardcoding your column.add(0), you would now be getting it at index=1 which means you passed the first iteration of the loop, but failed in the 2nd one"}],"tags":[],"owner":{"account_id":3140433,"reputation":1296,"user_id":2655988,"accept_rate":30,"display_name":"Nishit"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1507432781,"creation_date":1507432781,"answer_id":46627216,"question_id":46627102,"body_markdown":"The API for [ArrayList&#39;s get][1] method is clear enough on this. \r\n\r\n&gt; Throws:\r\nIndexOutOfBoundsException - if the index is out of range (index &lt; 0 || index &gt;= size())\r\n\r\nIn your case, the index &gt;=size() is what is happening.\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/ArrayList.html#get(int)","title":"IndexOutOfBoundsException on a print statement","body":"<p>The API for <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/ArrayList.html#get(int)\" rel=\"nofollow noreferrer\">ArrayList's get</a> method is clear enough on this. </p>\n\n<blockquote>\n  <p>Throws:\n  IndexOutOfBoundsException - if the index is out of range (index &lt; 0 || index >= size())</p>\n</blockquote>\n\n<p>In your case, the index >=size() is what is happening.</p>\n"},{"tags":[],"owner":{"account_id":4893463,"reputation":1507,"user_id":3943839,"accept_rate":83,"display_name":"Oguz Ozcan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1507433576,"creation_date":1507433272,"answer_id":46627250,"question_id":46627102,"body_markdown":"To better understand when your code fails, you can debug your code at some points. This is very helpful for the new developers to learn and understand what&#39;s going on.\n\nYou can also look at the explanation and go to the lone where the cods fails. The beginning of the error occus at line 23. \n\n    System.out.println(row.get(number) + &quot;&quot; + column.get(number));\n\nand you get the `IndexOutOfBoundException`. This is saying you that at some point you are trying to get beyond the size limits of your array. So, what you can do to gain some time is pit a debug point here and also add a case to enter debugging where the row or column is bigger or equal to 26 and continue debugging.","title":"IndexOutOfBoundsException on a print statement","body":"<p>To better understand when your code fails, you can debug your code at some points. This is very helpful for the new developers to learn and understand what's going on.</p>\n\n<p>You can also look at the explanation and go to the lone where the cods fails. The beginning of the error occus at line 23. </p>\n\n<pre><code>System.out.println(row.get(number) + \"\" + column.get(number));\n</code></pre>\n\n<p>and you get the <code>IndexOutOfBoundException</code>. This is saying you that at some point you are trying to get beyond the size limits of your array. So, what you can do to gain some time is pit a debug point here and also add a case to enter debugging where the row or column is bigger or equal to 26 and continue debugging.</p>\n"},{"tags":[],"owner":{"account_id":15974771,"reputation":1023,"user_id":11527968,"display_name":"Jimmy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634239514,"creation_date":1634239100,"answer_id":69576243,"question_id":46627102,"body_markdown":"The **IndexOutOfBoundException** throws at the following line e.i - \r\n\r\n     System.out.println(row.get(number) + &quot;&quot; + column.get(number));\r\n\r\nThe exception thrown because there is no any insertion happen in the ArrayList **column** and it always be empty that&#39;s why `column.get(number)` throws  **IndexOutOfBoundException** exception.\r\n\r\nIf you make the changes in the SOP as following then you get the output something like  -  \r\n\r\n    System.out.println(row + &quot; &quot; + column);\r\n\r\n**OUTPUT**\r\n\r\n    [A] []\r\n    [A, B] []\r\n    [A, B, C] []\r\n    [A, B, C, D] []\r\n    [A, B, C, D, E] []\r\n\r\nI think the issue is in the if condition which is false in very first pass and then throws the exception check the if condition\r\n\r\n       if(number == columns) {\r\n            column.add(number);\r\n            number = 0;\r\n            columns2--;\r\n        }","title":"IndexOutOfBoundsException on a print statement","body":"<p>The <strong>IndexOutOfBoundException</strong> throws at the following line e.i -</p>\n<pre><code> System.out.println(row.get(number) + &quot;&quot; + column.get(number));\n</code></pre>\n<p>The exception thrown because there is no any insertion happen in the ArrayList <strong>column</strong> and it always be empty that's why <code>column.get(number)</code> throws  <strong>IndexOutOfBoundException</strong> exception.</p>\n<p>If you make the changes in the SOP as following then you get the output something like  -</p>\n<pre><code>System.out.println(row + &quot; &quot; + column);\n</code></pre>\n<p><strong>OUTPUT</strong></p>\n<pre><code>[A] []\n[A, B] []\n[A, B, C] []\n[A, B, C, D] []\n[A, B, C, D, E] []\n</code></pre>\n<p>I think the issue is in the if condition which is false in very first pass and then throws the exception check the if condition</p>\n<pre><code>   if(number == columns) {\n        column.add(number);\n        number = 0;\n        columns2--;\n    }\n</code></pre>\n"}],"owner":{"display_name":"user8705926"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18982,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":4,"score":-1,"last_activity_date":1689473080,"creation_date":1507431191,"question_id":46627102,"body_markdown":"&lt;br&gt;\r\nI have a print statement that is triggering an exception `IndexOutOfBoundsException`. Here&#39;s the code:&lt;br&gt;\r\n**MAIN METHOD**\r\n\r\n    public class AdvDotComLauncher {\r\n        public static void main(String[] args) {\r\n            AdvDotComTable table = new AdvDotComTable();\r\n            table.createTable(5,5);\r\n        }\r\n    }\r\n**TABLE CLASS**\r\n\r\n    import java.util.ArrayList;\r\n    \r\n    public class AdvDotComTable {\r\n        public boolean createTable(int rows, int columns) {\r\n            if (rows == 26) {\r\n                //When true is returned, the program will let the user know they have to choose a lower number\r\n                return true;\r\n            }\r\n            String[] dotComs = {&quot;Pets.com&quot;, &quot;Amazon.com&quot;, &quot;Target.com&quot;, &quot;Apple.com&quot;, &quot;Microsoft.com&quot;, &quot;Steampowered.com&quot;};\r\n            ArrayList&lt;Character&gt; row = new ArrayList&lt;Character&gt;();\r\n            ArrayList&lt;Integer&gt; column = new ArrayList&lt;Integer&gt;();\r\n            char[] letters = &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;.toCharArray();\r\n            int number = 0;\r\n            int rows2 = rows;\r\n            int columns2 = columns;\r\n            while (rows2 != 0 &amp;&amp; columns2 != 0) {\r\n                row.add(letters[number]);\r\n                if(number == columns) {\r\n                    column.add(number);\r\n                    number = 0;\r\n                    columns2--;\r\n                }\r\n                System.out.println(row.get(number) + &quot;&quot; + column.get(number));\r\n                number++;\r\n                rows2--;\r\n            }\r\n            return false;\r\n        }\r\n    }\r\n**ERROR**&lt;br&gt;\r\n\r\n    Exception in thread &quot;main&quot; java.lang.IndexOutOfBoundsException: Index 0 out-of-bounds for length 0\r\n    \tat java.base/jdk.internal.util.Preconditions.outOfBounds(Preconditions.java:64)\r\n    \tat java.base/jdk.internal.util.Preconditions.outOfBoundsCheckIndex(Preconditions.java:70)\r\n    \tat java.base/jdk.internal.util.Preconditions.checkIndex(Preconditions.java:248)\r\n    \tat java.base/java.util.Objects.checkIndex(Objects.java:372)\r\n    \tat java.base/java.util.ArrayList.get(ArrayList.java:439)\r\n    \tat AdvDotComTable.createTable(AdvDotComTable.java:23)\r\n    \tat AdvDotComLauncher.main(AdvDotComLauncher.java:4)\r\n\r\nI have no idea what is causing this problem, and any assistance would be appreciated. I am an amateur developer just trying to learn, so it&#39;s probably a silly mistake (sorry about that). \r\nThanks in advance,&lt;br&gt;\r\nLyfe\r\n\r\n","title":"IndexOutOfBoundsException on a print statement","body":"<p><br>\nI have a print statement that is triggering an exception <code>IndexOutOfBoundsException</code>. Here's the code:<br>\n<strong>MAIN METHOD</strong></p>\n\n<pre><code>public class AdvDotComLauncher {\n    public static void main(String[] args) {\n        AdvDotComTable table = new AdvDotComTable();\n        table.createTable(5,5);\n    }\n}\n</code></pre>\n\n<p><strong>TABLE CLASS</strong></p>\n\n<pre><code>import java.util.ArrayList;\n\npublic class AdvDotComTable {\n    public boolean createTable(int rows, int columns) {\n        if (rows == 26) {\n            //When true is returned, the program will let the user know they have to choose a lower number\n            return true;\n        }\n        String[] dotComs = {\"Pets.com\", \"Amazon.com\", \"Target.com\", \"Apple.com\", \"Microsoft.com\", \"Steampowered.com\"};\n        ArrayList&lt;Character&gt; row = new ArrayList&lt;Character&gt;();\n        ArrayList&lt;Integer&gt; column = new ArrayList&lt;Integer&gt;();\n        char[] letters = \"ABCDEFGHIJKLMNOPQRSTUVWXYZ\".toCharArray();\n        int number = 0;\n        int rows2 = rows;\n        int columns2 = columns;\n        while (rows2 != 0 &amp;&amp; columns2 != 0) {\n            row.add(letters[number]);\n            if(number == columns) {\n                column.add(number);\n                number = 0;\n                columns2--;\n            }\n            System.out.println(row.get(number) + \"\" + column.get(number));\n            number++;\n            rows2--;\n        }\n        return false;\n    }\n}\n</code></pre>\n\n<p><strong>ERROR</strong><br></p>\n\n<pre><code>Exception in thread \"main\" java.lang.IndexOutOfBoundsException: Index 0 out-of-bounds for length 0\n    at java.base/jdk.internal.util.Preconditions.outOfBounds(Preconditions.java:64)\n    at java.base/jdk.internal.util.Preconditions.outOfBoundsCheckIndex(Preconditions.java:70)\n    at java.base/jdk.internal.util.Preconditions.checkIndex(Preconditions.java:248)\n    at java.base/java.util.Objects.checkIndex(Objects.java:372)\n    at java.base/java.util.ArrayList.get(ArrayList.java:439)\n    at AdvDotComTable.createTable(AdvDotComTable.java:23)\n    at AdvDotComLauncher.main(AdvDotComLauncher.java:4)\n</code></pre>\n\n<p>I have no idea what is causing this problem, and any assistance would be appreciated. I am an amateur developer just trying to learn, so it's probably a silly mistake (sorry about that). \nThanks in advance,<br>\nLyfe</p>\n"},{"tags":["java","android","image","imagedownload","android-internal-storage"],"answers":[{"comments":[{"owner":{"account_id":24830565,"reputation":79,"user_id":18709793,"display_name":"Newbie_programmer"},"score":0,"creation_date":1689607982,"post_id":76696121,"comment_id":135234074,"body_markdown":"I wanted to use the default manager, what does client key means? What am I supposed to put there?","body":"I wanted to use the default manager, what does client key means? What am I supposed to put there?"},{"owner":{"account_id":23786770,"reputation":1,"user_id":17798716,"display_name":"G&#246;kdeniz"},"score":0,"creation_date":1689859302,"post_id":76696121,"comment_id":135275095,"body_markdown":"Sorry for the late answer. Can you share log to us?","body":"Sorry for the late answer. Can you share log to us?"},{"owner":{"account_id":24830565,"reputation":79,"user_id":18709793,"display_name":"Newbie_programmer"},"score":0,"creation_date":1690211374,"post_id":76696121,"comment_id":135318236,"body_markdown":"I&#39;m talking about this line- request.addHeader(&quot;clientKey&quot;, &quot;SD78DF93_3947&amp;MVNGHE1WONG&quot;);","body":"I&#39;m talking about this line- request.addHeader(&quot;clientKey&quot;, &quot;SD78DF93_3947&amp;MVNGHE1WONG&quot;);"},{"owner":{"account_id":23786770,"reputation":1,"user_id":17798716,"display_name":"G&#246;kdeniz"},"score":0,"creation_date":1690326337,"post_id":76696121,"comment_id":135337198,"body_markdown":"Client key is a personalized code that we use to access any data. You don&#39;t need to use client key when using download manager. Where do you want or use it?","body":"Client key is a personalized code that we use to access any data. You don&#39;t need to use client key when using download manager. Where do you want or use it?"},{"owner":{"account_id":24830565,"reputation":79,"user_id":18709793,"display_name":"Newbie_programmer"},"score":0,"creation_date":1690475647,"post_id":76696121,"comment_id":135362486,"body_markdown":"Default download manager will do it in my case. I tried to be clear in my question that I just want to download an image from a link to my android storage that&#39;s all.","body":"Default download manager will do it in my case. I tried to be clear in my question that I just want to download an image from a link to my android storage that&#39;s all."},{"owner":{"account_id":23786770,"reputation":1,"user_id":17798716,"display_name":"G&#246;kdeniz"},"score":0,"creation_date":1690496456,"post_id":76696121,"comment_id":135366059,"body_markdown":"Where do you download the pictures?","body":"Where do you download the pictures?"},{"owner":{"account_id":24830565,"reputation":79,"user_id":18709793,"display_name":"Newbie_programmer"},"score":0,"creation_date":1690528469,"post_id":76696121,"comment_id":135369168,"body_markdown":"It should be in the &quot;download&quot; folder of the internal storage.","body":"It should be in the &quot;download&quot; folder of the internal storage."},{"owner":{"account_id":23786770,"reputation":1,"user_id":17798716,"display_name":"G&#246;kdeniz"},"score":0,"creation_date":1690645211,"post_id":76696121,"comment_id":135383942,"body_markdown":"You need yo try it. https://medium.com/@choirulihwan/download-image-and-save-to-storage-in-android-a5890df26196","body":"You need yo try it. <a href=\"https://medium.com/@choirulihwan/download-image-and-save-to-storage-in-android-a5890df26196\" rel=\"nofollow noreferrer\">medium.com/@choirulihwan/&hellip;</a>"}],"tags":[],"owner":{"account_id":23786770,"reputation":1,"user_id":17798716,"display_name":"G&#246;kdeniz"},"comment_count":8,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689463107,"creation_date":1689463107,"answer_id":76696121,"question_id":76694005,"body_markdown":"You can use other libraries for the download files. I can suggest you fetch is so usefully and have a simple download listener you can try this. That library is so simple and usefull. If you still getting error you can share log with us. https://github.com/tonyofrancis/Fetch","title":"How to download an image from a URL to personal storage in Android using Java?","body":"<p>You can use other libraries for the download files. I can suggest you fetch is so usefully and have a simple download listener you can try this. That library is so simple and usefull. If you still getting error you can share log with us. <a href=\"https://github.com/tonyofrancis/Fetch\" rel=\"nofollow noreferrer\">https://github.com/tonyofrancis/Fetch</a></p>\n"},{"comments":[{"owner":{"account_id":24830565,"reputation":79,"user_id":18709793,"display_name":"Newbie_programmer"},"score":0,"creation_date":1689606907,"post_id":76696392,"comment_id":135233842,"body_markdown":"Unfortunately, this guy used kotlin and I am not an expert on that..","body":"Unfortunately, this guy used kotlin and I am not an expert on that.."}],"tags":[],"owner":{"account_id":26792175,"reputation":126,"user_id":20385417,"display_name":"Nguyễn Minh Khoa"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689472287,"creation_date":1689472287,"answer_id":76696392,"question_id":76694005,"body_markdown":"Simple from this guy,  https://m.youtube.com/watch?v=4t8EevQSYK4 and It always work for me ","title":"How to download an image from a URL to personal storage in Android using Java?","body":"<p>Simple from this guy,  <a href=\"https://m.youtube.com/watch?v=4t8EevQSYK4\" rel=\"nofollow noreferrer\">https://m.youtube.com/watch?v=4t8EevQSYK4</a> and It always work for me</p>\n"}],"owner":{"account_id":24830565,"reputation":79,"user_id":18709793,"display_name":"Newbie_programmer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1689472287,"creation_date":1689428066,"question_id":76694005,"body_markdown":"I am trying to make a chat app. If a user sends a picture to me, I want to download that picture in my phone&#39;s internal storage. I used the `URL` of the image stored in the `Firebase Storage` to show it on my app via `Gradle`, but I don&#39;t understand how can I download this image in my own personal storage. I want the user to click a `button` on the app and be able to download the image that is being displayed to his phone&#39;s screen.\r\nI tried watching some videos but neither of them solved my problem. They just show how to display it inside the app, not how to download it. Or maybe I don&#39;t know how to find that video and what keywords to use. That&#39;s why I asked here. I made my question as clear as I can.\r\n\r\nI added these permissions in the `manifest` file for read and write storage, also for the `internet` permission- (Is there any other permission need to be added for WIFI connection?)\r\n\r\n```\r\n&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\r\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n```\r\n\r\nAnd I tried this code I found on the internet-\r\n\r\n```\r\nbinding.downloadBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                if (ContextCompat.checkSelfPermission(ShowImageActivity.this, android.Manifest.permission.READ_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED &amp;&amp;\r\n                        ContextCompat.checkSelfPermission(ShowImageActivity.this, android.Manifest.permission.WRITE_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED) {\r\n                    ActivityCompat.requestPermissions(ShowImageActivity.this, new String[]{android.Manifest.permission.READ_EXTERNAL_STORAGE}, 123);\r\n                    ActivityCompat.requestPermissions(ShowImageActivity.this, new String[]{android.Manifest.permission.WRITE_EXTERNAL_STORAGE}, 123);\r\n                    Toast.makeText(ShowImageActivity.this, &quot;Need Permission to access storage for Downloading Image&quot;, Toast.LENGTH_SHORT).show();\r\n                } else {\r\n                    Toast.makeText(ShowImageActivity.this, &quot;Downloading Image...&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n                    downloadImage(ShowImageActivity.this, &quot;image&quot;,&quot;.jpg&quot;,DIRECTORY_DOWNLOADS,imageURL);\r\n                }\r\n            }\r\n        });\r\n```\r\n\r\n\r\n```\r\npublic void downloadImage(Context cx, String fileName, String fileExtension, String destinationDirectory, String url){\r\n        DownloadManager dm = (DownloadManager) cx.getSystemService(cx.DOWNLOAD_SERVICE);\r\n        Uri uri = Uri.parse(url);\r\n        DownloadManager.Request request = new DownloadManager.Request(uri);\r\n        request.setNotificationVisibility(DownloadManager.Request.VISIBILITY_VISIBLE_NOTIFY_COMPLETED);\r\n        request.setDestinationInExternalFilesDir(cx, destinationDirectory, fileName+fileExtension);\r\n        dm.enqueue(request);\r\n    }\r\n```\r\n\r\nBut it isn&#39;t working, every time I click the `button` the notification shows **Download task failed**, and nothing is being downloaded. What are the easiest ways of downloading an image or any file from an `URL` using `Java`? I asked this question before but I haven&#39;t received any answers. I hope I will get some answers this time.","title":"How to download an image from a URL to personal storage in Android using Java?","body":"<p>I am trying to make a chat app. If a user sends a picture to me, I want to download that picture in my phone's internal storage. I used the <code>URL</code> of the image stored in the <code>Firebase Storage</code> to show it on my app via <code>Gradle</code>, but I don't understand how can I download this image in my own personal storage. I want the user to click a <code>button</code> on the app and be able to download the image that is being displayed to his phone's screen.\nI tried watching some videos but neither of them solved my problem. They just show how to display it inside the app, not how to download it. Or maybe I don't know how to find that video and what keywords to use. That's why I asked here. I made my question as clear as I can.</p>\n<p>I added these permissions in the <code>manifest</code> file for read and write storage, also for the <code>internet</code> permission- (Is there any other permission need to be added for WIFI connection?)</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n</code></pre>\n<p>And I tried this code I found on the internet-</p>\n<pre><code>binding.downloadBtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                if (ContextCompat.checkSelfPermission(ShowImageActivity.this, android.Manifest.permission.READ_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED &amp;&amp;\n                        ContextCompat.checkSelfPermission(ShowImageActivity.this, android.Manifest.permission.WRITE_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED) {\n                    ActivityCompat.requestPermissions(ShowImageActivity.this, new String[]{android.Manifest.permission.READ_EXTERNAL_STORAGE}, 123);\n                    ActivityCompat.requestPermissions(ShowImageActivity.this, new String[]{android.Manifest.permission.WRITE_EXTERNAL_STORAGE}, 123);\n                    Toast.makeText(ShowImageActivity.this, &quot;Need Permission to access storage for Downloading Image&quot;, Toast.LENGTH_SHORT).show();\n                } else {\n                    Toast.makeText(ShowImageActivity.this, &quot;Downloading Image...&quot;, Toast.LENGTH_SHORT).show();\n\n                    downloadImage(ShowImageActivity.this, &quot;image&quot;,&quot;.jpg&quot;,DIRECTORY_DOWNLOADS,imageURL);\n                }\n            }\n        });\n</code></pre>\n<pre><code>public void downloadImage(Context cx, String fileName, String fileExtension, String destinationDirectory, String url){\n        DownloadManager dm = (DownloadManager) cx.getSystemService(cx.DOWNLOAD_SERVICE);\n        Uri uri = Uri.parse(url);\n        DownloadManager.Request request = new DownloadManager.Request(uri);\n        request.setNotificationVisibility(DownloadManager.Request.VISIBILITY_VISIBLE_NOTIFY_COMPLETED);\n        request.setDestinationInExternalFilesDir(cx, destinationDirectory, fileName+fileExtension);\n        dm.enqueue(request);\n    }\n</code></pre>\n<p>But it isn't working, every time I click the <code>button</code> the notification shows <strong>Download task failed</strong>, and nothing is being downloaded. What are the easiest ways of downloading an image or any file from an <code>URL</code> using <code>Java</code>? I asked this question before but I haven't received any answers. I hope I will get some answers this time.</p>\n"},{"tags":["java","android","kotlin","date-parsing"],"comments":[{"owner":{"account_id":6423740,"reputation":483,"user_id":4979652,"display_name":"Amin"},"score":0,"creation_date":1689470980,"post_id":76675402,"comment_id":135217930,"body_markdown":"@Unmitigated You are right this only happens if the localization changed.\non my case the function works fine in English but when the app turns to Arabic here I faced the issue , I Changed Locale.getDefault() to Locale.ENGLISH and the problem solved","body":"@Unmitigated You are right this only happens if the localization changed. on my case the function works fine in English but when the app turns to Arabic here I faced the issue , I Changed Locale.getDefault() to Locale.ENGLISH and the problem solved"},{"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":1,"creation_date":1690019863,"post_id":76675402,"comment_id":135296695,"body_markdown":"[Never use `SimpleDateFormat` or `DateTimeFormatter` without a Locale](https://stackoverflow.com/a/65544056/10819573). Also, I recommend you switch from the error-prone legacy date-time API to the modern date-time API.","body":"<a href=\"https://stackoverflow.com/a/65544056/10819573\">Never use <code>SimpleDateFormat</code> or <code>DateTimeFormatter</code> without a Locale</a>. Also, I recommend you switch from the error-prone legacy date-time API to the modern date-time API."}],"answers":[{"tags":[],"owner":{"account_id":6423740,"reputation":483,"user_id":4979652,"display_name":"Amin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689471083,"creation_date":1689471083,"answer_id":76696363,"question_id":76675402,"body_markdown":"This only happens if the localization changed.\r\non my case the function works fine in English but when the app turns to Arabic here I faced the issue , \r\n\r\n&gt; I Changed **Locale.getDefault()** to **Locale.ENGLISH** and the problem solved","title":"Android Unparseable date exception when try to parse date format","body":"<p>This only happens if the localization changed.\non my case the function works fine in English but when the app turns to Arabic here I faced the issue ,</p>\n<blockquote>\n<p>I Changed <strong>Locale.getDefault()</strong> to <strong>Locale.ENGLISH</strong> and the problem solved</p>\n</blockquote>\n"}],"owner":{"account_id":6423740,"reputation":483,"user_id":4979652,"display_name":"Amin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76696363,"answer_count":1,"score":0,"last_activity_date":1689471083,"creation_date":1689212797,"question_id":76675402,"body_markdown":"I try to parse this date &quot;Wed Jul 12 2023 23:58:20 GMT+0000 (Coordinated Universal Time)&quot; \r\nusing this code \r\n\r\n      val sdf = SimpleDateFormat(&quot;EEE MMM dd yyyy HH:mm:ss &quot;, Locale.getDefault())\r\n        val time = try {\r\n            val mDate = sdf.parse(input)\r\n            mDate!!.time\r\n        } catch (e: ParseException) {\r\n            -1\r\n        }\r\nBut I get this error \r\n\r\n&gt; Unparseable date: \\&quot;Wed Jul 12 2023 23:58:20 GMT+0000 (Coordinated\r\n&gt; Universal Time)\\&quot;\r\n\r\n","title":"Android Unparseable date exception when try to parse date format","body":"<p>I try to parse this date &quot;Wed Jul 12 2023 23:58:20 GMT+0000 (Coordinated Universal Time)&quot;\nusing this code</p>\n<pre><code>  val sdf = SimpleDateFormat(&quot;EEE MMM dd yyyy HH:mm:ss &quot;, Locale.getDefault())\n    val time = try {\n        val mDate = sdf.parse(input)\n        mDate!!.time\n    } catch (e: ParseException) {\n        -1\n    }\n</code></pre>\n<p>But I get this error</p>\n<blockquote>\n<p>Unparseable date: &quot;Wed Jul 12 2023 23:58:20 GMT+0000 (Coordinated\nUniversal Time)&quot;</p>\n</blockquote>\n"},{"tags":["java","amazon-web-services","apache-flink","flink-streaming","amazon-kinesis"],"comments":[{"owner":{"account_id":15431827,"reputation":117,"user_id":11142693,"display_name":"Pierre"},"score":0,"creation_date":1701947975,"post_id":76696311,"comment_id":136839164,"body_markdown":"did you get an answer?","body":"did you get an answer?"}],"owner":{"account_id":29025470,"reputation":1,"user_id":22233773,"display_name":"squirrel_coder"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689468842,"creation_date":1689468842,"question_id":76696311,"body_markdown":"I&#39;m trying to use user A to assume role R1, and using R1 assume R2 in a different account. I have gone as far as creating an StsClient to get the accessKeyId, secretKeyId, and sessionToken that I need, but based on Flink&#39;s documentation there is no way for me to provide this property and that&#39;s causing me to get the following error:\r\n\r\n`Caused by: org.apache.flink.kinesis.shaded.com.amazonaws.services.kinesis.model.AmazonKinesisException: The security token included in the request is invalid.`\r\n\r\nHere&#39;s my code:\r\n\r\n```\r\npublic class TestKinesisConnection {\r\n    public static void main(String[] args) throws Exception {\r\n        // AWS Code\r\n        StsClient stsClient = StsClient.builder()\r\n                .region(Region.US_WEST_1)\r\n                .credentialsProvider(ProfileCredentialsProvider.create(&quot;someProfile&quot;))\r\n                .build();\r\n        AssumeRoleResponse assumeRoleResponse = stsClient.assumeRole(\r\n                AssumeRoleRequest.builder()\r\n                .roleArn(&quot;arn:aws:iam::1234567890:role/R1&quot;)\r\n                .roleSessionName(&quot;AssumeRole&quot;)\r\n                .build()\r\n        );\r\n        stsClient = StsClient.builder()\r\n                .region(Region.US_WEST_1)\r\n                .credentialsProvider(StaticCredentialsProvider.create(AwsSessionCredentials.create(\r\n                        assumeRoleResponse.credentials().accessKeyId(),\r\n                        assumeRoleResponse.credentials().secretAccessKey(),\r\n                        assumeRoleResponse.credentials().sessionToken()\r\n                ))).build();\r\n        assumeRoleResponse = stsClient.assumeRole(\r\n                AssumeRoleRequest.builder()\r\n                        .roleArn(&quot;arn:aws:iam::09876543210:role/R2&quot;)\r\n                        .roleSessionName(&quot;CrossAccount&quot;)\r\n                        .build()\r\n        );\r\n        \r\n        // Flink Code\r\n        Properties consumerConfig = new Properties();\r\n\r\n        consumerConfig.setProperty(AWSConfigConstants.AWS_REGION, Region.US_WEST_1);\r\n        consumerConfig.setProperty(AWSConfigConstants.AWS_ACCESS_KEY_ID, assumeRoleResponse.credentials().accessKeyId());\r\n        consumerConfig.setProperty(AWSConfigConstants.AWS_SECRET_ACCESS_KEY, assumeRoleResponse.credentials().secretAccessKey());\r\n        consumerConfig.setProperty(AWSConfigConstants.AWS_ROLE_SESSION_NAME, &quot;CrossAccount&quot;);\r\n        consumerConfig.setProperty(AWSConfigConstants.AWS_ROLE_ARN, &quot;arn:aws:iam::09876543210:role/R2&quot;);\r\n\r\n        consumerConfig.setProperty(&quot;flink.stream.initpos&quot;, &quot;TRIM_HORIZON&quot;);\r\n\r\n        StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\r\n        FlinkKinesisConsumer&lt;String&gt; kinesis = new FlinkKinesisConsumer&lt;&gt;(\r\n                &quot;TestFlinkConsumerStream&quot;, new SimpleStringSchema(), consumerConfig);\r\n\r\n        env.addSource(kinesis).addSink(new PrintSinkFunction&lt;&gt;());\r\n        env.execute(&quot;TestFlinkConsumer&quot;);\r\n    }\r\n}\r\n```\r\n\r\nI&#39;m expecting the program to output the contents of the Kinesis stream in the other account after successfully assuming the role R2.","title":"How do I provide a session token when using FlinkKinesisConsumer in Java?","body":"<p>I'm trying to use user A to assume role R1, and using R1 assume R2 in a different account. I have gone as far as creating an StsClient to get the accessKeyId, secretKeyId, and sessionToken that I need, but based on Flink's documentation there is no way for me to provide this property and that's causing me to get the following error:</p>\n<p><code>Caused by: org.apache.flink.kinesis.shaded.com.amazonaws.services.kinesis.model.AmazonKinesisException: The security token included in the request is invalid.</code></p>\n<p>Here's my code:</p>\n<pre><code>public class TestKinesisConnection {\n    public static void main(String[] args) throws Exception {\n        // AWS Code\n        StsClient stsClient = StsClient.builder()\n                .region(Region.US_WEST_1)\n                .credentialsProvider(ProfileCredentialsProvider.create(&quot;someProfile&quot;))\n                .build();\n        AssumeRoleResponse assumeRoleResponse = stsClient.assumeRole(\n                AssumeRoleRequest.builder()\n                .roleArn(&quot;arn:aws:iam::1234567890:role/R1&quot;)\n                .roleSessionName(&quot;AssumeRole&quot;)\n                .build()\n        );\n        stsClient = StsClient.builder()\n                .region(Region.US_WEST_1)\n                .credentialsProvider(StaticCredentialsProvider.create(AwsSessionCredentials.create(\n                        assumeRoleResponse.credentials().accessKeyId(),\n                        assumeRoleResponse.credentials().secretAccessKey(),\n                        assumeRoleResponse.credentials().sessionToken()\n                ))).build();\n        assumeRoleResponse = stsClient.assumeRole(\n                AssumeRoleRequest.builder()\n                        .roleArn(&quot;arn:aws:iam::09876543210:role/R2&quot;)\n                        .roleSessionName(&quot;CrossAccount&quot;)\n                        .build()\n        );\n        \n        // Flink Code\n        Properties consumerConfig = new Properties();\n\n        consumerConfig.setProperty(AWSConfigConstants.AWS_REGION, Region.US_WEST_1);\n        consumerConfig.setProperty(AWSConfigConstants.AWS_ACCESS_KEY_ID, assumeRoleResponse.credentials().accessKeyId());\n        consumerConfig.setProperty(AWSConfigConstants.AWS_SECRET_ACCESS_KEY, assumeRoleResponse.credentials().secretAccessKey());\n        consumerConfig.setProperty(AWSConfigConstants.AWS_ROLE_SESSION_NAME, &quot;CrossAccount&quot;);\n        consumerConfig.setProperty(AWSConfigConstants.AWS_ROLE_ARN, &quot;arn:aws:iam::09876543210:role/R2&quot;);\n\n        consumerConfig.setProperty(&quot;flink.stream.initpos&quot;, &quot;TRIM_HORIZON&quot;);\n\n        StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\n        FlinkKinesisConsumer&lt;String&gt; kinesis = new FlinkKinesisConsumer&lt;&gt;(\n                &quot;TestFlinkConsumerStream&quot;, new SimpleStringSchema(), consumerConfig);\n\n        env.addSource(kinesis).addSink(new PrintSinkFunction&lt;&gt;());\n        env.execute(&quot;TestFlinkConsumer&quot;);\n    }\n}\n</code></pre>\n<p>I'm expecting the program to output the contents of the Kinesis stream in the other account after successfully assuming the role R2.</p>\n"},{"tags":["java","android","kotlin","android-edittext","android-textinputlayout"],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1689767893,"post_id":76696236,"comment_id":135259338,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76696236/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":23786770,"reputation":1,"user_id":17798716,"display_name":"G&#246;kdeniz"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689466330,"creation_date":1689466330,"answer_id":76696236,"question_id":76692257,"body_markdown":"You can change your main bottom sheet layout with nested scroll view it should work.","title":"Change the default behaviour of edit text in android","body":"<p>You can change your main bottom sheet layout with nested scroll view it should work.</p>\n"}],"owner":{"account_id":29021070,"reputation":1,"user_id":22230445,"display_name":"Shubham Sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689466330,"creation_date":1689396454,"question_id":76692257,"body_markdown":"So I have make a bottom sheet drawer inside it i have a recycler view which have a set of item in list manner. so every item on click opens and have a chat box in it. so the problem here is i have make a custom editText for that but default property of edittext is it only take in focus a single line not all. so can you provide me some idea how can make all the edittext above the keyboard not a single line whenever i open it\r\n\r\n\r\n\r\n\r\n\r\nsolution i have used a --&gt; used windowSoftInput as adjustPan , adjustResize , change the focus of edittext as well as applied focus listener on edittext , change properties of scroll view to focusonTouch listener . so can you provide me how can i make my edittext to go up whenever focus goes on it as it is multiline","title":"Change the default behaviour of edit text in android","body":"<p>So I have make a bottom sheet drawer inside it i have a recycler view which have a set of item in list manner. so every item on click opens and have a chat box in it. so the problem here is i have make a custom editText for that but default property of edittext is it only take in focus a single line not all. so can you provide me some idea how can make all the edittext above the keyboard not a single line whenever i open it</p>\n<p>solution i have used a --&gt; used windowSoftInput as adjustPan , adjustResize , change the focus of edittext as well as applied focus listener on edittext , change properties of scroll view to focusonTouch listener . so can you provide me how can i make my edittext to go up whenever focus goes on it as it is multiline</p>\n"},{"tags":["java","spring","spring-boot","autowired"],"comments":[{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1689457275,"post_id":76695865,"comment_id":135217064,"body_markdown":"Where are you calling `findLatest`? I cannot reproduce this.","body":"Where are you calling <code>findLatest</code>? I cannot reproduce this."},{"owner":{"account_id":26885183,"reputation":17,"user_id":20464887,"display_name":"clement mensah"},"score":0,"creation_date":1689457689,"post_id":76695865,"comment_id":135217113,"body_markdown":"@Unmitigated from an interface","body":"@Unmitigated from an interface"},{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1689457761,"post_id":76695865,"comment_id":135217119,"body_markdown":"Can you show the code that calls it?","body":"Can you show the code that calls it?"},{"owner":{"account_id":26885183,"reputation":17,"user_id":20464887,"display_name":"clement mensah"},"score":0,"creation_date":1689458854,"post_id":76695865,"comment_id":135217187,"body_markdown":"@Unmitigated public interface AlertProvider {\n    List&lt;AppointmentEntity&gt; findLatest(String customerId);\n}","body":"@Unmitigated public interface AlertProvider {     List&lt;AppointmentEntity&gt; findLatest(String customerId); }"},{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1689459460,"post_id":76695865,"comment_id":135217233,"body_markdown":"That&#39;s the method definition, not where the method is called.","body":"That&#39;s the method definition, not where the method is called."},{"owner":{"account_id":26885183,"reputation":17,"user_id":20464887,"display_name":"clement mensah"},"score":0,"creation_date":1689459990,"post_id":76695865,"comment_id":135217281,"body_markdown":"@Unmitigated sorry, my bad. it is currently being called by a test class.                  \n   Test\n    void findLatest() {\n        List&lt;AppointmentEntity&gt; appointmentEntities =appointmentAlertProvider.findLatest(&quot;customerId&quot;);\n        assertThat(appointmentEntities.size()).isOne();\n    }","body":"@Unmitigated sorry, my bad. it is currently being called by a test class.                      Test     void findLatest() {         List&lt;AppointmentEntity&gt; appointmentEntities =appointmentAlertProvider.findLatest(&quot;customerId&quot;);         assertThat(appointmentEntities.size()).isOne();     }"},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1689462340,"post_id":76695865,"comment_id":135217456,"body_markdown":"Can you please [edit] your question and include the full test class where that happens? How is `AppointmentAlertProvider` instantiated?","body":"Can you please <a href=\"https://stackoverflow.com/posts/76695865/edit\">edit</a> your question and include the full test class where that happens? How is <code>AppointmentAlertProvider</code> instantiated?"},{"owner":{"account_id":26885183,"reputation":17,"user_id":20464887,"display_name":"clement mensah"},"score":0,"creation_date":1689465237,"post_id":76695865,"comment_id":135217620,"body_markdown":"@dan1stisonstrike it is edited now, thank you.","body":"@dan1stisonstrike it is edited now, thank you."},{"owner":{"account_id":16657879,"reputation":2625,"user_id":12038714,"display_name":"J Asgarov"},"score":0,"creation_date":1689484309,"post_id":76695865,"comment_id":135218467,"body_markdown":"If  Spring doesn&#39;t autowire your `AppointmentRepository` then it is because it can&#39;t find it.  I am guessing you forgot to annotate the `AppointmentRepository` or speficied the `@ComponentScan` to look in a different package","body":"If  Spring doesn&#39;t autowire your <code>AppointmentRepository</code> then it is because it can&#39;t find it.  I am guessing you forgot to annotate the <code>AppointmentRepository</code> or speficied the <code>@ComponentScan</code> to look in a different package"},{"owner":{"account_id":26885183,"reputation":17,"user_id":20464887,"display_name":"clement mensah"},"score":0,"creation_date":1689517666,"post_id":76695865,"comment_id":135221713,"body_markdown":"@Asgarov it does autowire the AppointmentRepository, yet does not with AlertService","body":"@Asgarov it does autowire the AppointmentRepository, yet does not with AlertService"},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1689534311,"post_id":76695865,"comment_id":135223622,"body_markdown":"See [Why is my Spring @Autowired field null?](https://stackoverflow.com/q/19896870). If you are creating your `AppointmentAlertProvider` using the constructor, it will not be a Spring Bean and `@Autowire` will therefore not do anything i that instance.","body":"See <a href=\"https://stackoverflow.com/q/19896870\">Why is my Spring @Autowired field null?</a>. If you are creating your <code>AppointmentAlertProvider</code> using the constructor, it will not be a Spring Bean and <code>@Autowire</code> will therefore not do anything i that instance."}],"owner":{"account_id":26885183,"reputation":17,"user_id":20464887,"display_name":"clement mensah"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689465211,"creation_date":1689456913,"question_id":76695865,"body_markdown":"I am trying to call a class from another class by autowiring and it is returning a null. \r\nI have two fields autowired, one works but the other does not work. \r\n\r\nThis is the class I am trying to autowire and I am trying to get &#39;apppointmentAlertDays&#39;:\r\n\r\n    @Service\r\n    public class AlertsService {\r\n\r\n    public final Integer appointmentAlertDays;\r\n\r\n    public AlertsService(@Value(&quot;${alerts.appointment-alert-days}&quot;) Integer appointmentAlertDays){\r\n        this.appointmentAlertDays = appointmentAlertDays;\r\n    }\r\n\r\nThis is the class I am trying to call &quot;AlertsService&quot; in, however appointmentRepository does not return a null:\r\n\r\n    @Service\r\n    public class AppointmentAlertProvider implements AlertProvider {\r\n    @Autowired\r\n    private AppointmentRepository appointmentRepository;\r\n\r\n    @Autowired\r\n    private AlertsService alertsService;\r\n\r\n    @Override\r\n    public List&lt;AppointmentEntity&gt; findLatest(String customerId) {\r\n        Integer alertDays = alertsService.appointmentAlertDays;\r\n    }\r\n\r\nThis is where I am calling the &quot;findLatest(String customerId)&quot; method:\r\n\r\n     @Test\r\n    void findLatest() {\r\n        Appointment appointmentRequest = generateDummyAppointment();\r\n        Vehicle vehicle = generateDummyVehicle();\r\n        AppointmentEntity appointmentEntity = appointmentMapper.map(appointmentRequest, vehicle, null);\r\n\r\n        when(appointmentRepository.findAllByCustomerId(anyString())).thenReturn(List.of(appointmentEntity));\r\n\r\n        List&lt;AppointmentEntity&gt; appointmentEntities = appointmentAlertProvider.findLatest(&quot;customerId&quot;);\r\n\r\n        assertThat(appointmentEntities.size()).isOne();\r\n    }\r\n\r\nThis is where AppointmentAlertProvider is instantiated:\r\n\r\n    @Component\r\n    public class AlertProviderFactory {\r\n\r\n    private AlertProviderFactory(){}\r\n\r\n    public static AlertProvider getAlertProvider(String alertType) {\r\n        if (alertType == null || alertType.isEmpty())\r\n                return null;\r\n        if (&quot;appointment-alert&quot;.equals(alertType)) {\r\n            return new AppointmentAlertProvider();\r\n        }\r\n        throw new IllegalArgumentException(&quot;Unknown alertType &quot; + alertType);\r\n    }\r\n\r\nMy question is, how do I get &#39;appointmentAlertDays&#39; from AlertsService? Thank you.\r\n\r\n\r\n","title":"@Autowiring from another service class returning null","body":"<p>I am trying to call a class from another class by autowiring and it is returning a null.\nI have two fields autowired, one works but the other does not work.</p>\n<p>This is the class I am trying to autowire and I am trying to get 'apppointmentAlertDays':</p>\n<pre><code>@Service\npublic class AlertsService {\n\npublic final Integer appointmentAlertDays;\n\npublic AlertsService(@Value(&quot;${alerts.appointment-alert-days}&quot;) Integer appointmentAlertDays){\n    this.appointmentAlertDays = appointmentAlertDays;\n}\n</code></pre>\n<p>This is the class I am trying to call &quot;AlertsService&quot; in, however appointmentRepository does not return a null:</p>\n<pre><code>@Service\npublic class AppointmentAlertProvider implements AlertProvider {\n@Autowired\nprivate AppointmentRepository appointmentRepository;\n\n@Autowired\nprivate AlertsService alertsService;\n\n@Override\npublic List&lt;AppointmentEntity&gt; findLatest(String customerId) {\n    Integer alertDays = alertsService.appointmentAlertDays;\n}\n</code></pre>\n<p>This is where I am calling the &quot;findLatest(String customerId)&quot; method:</p>\n<pre><code> @Test\nvoid findLatest() {\n    Appointment appointmentRequest = generateDummyAppointment();\n    Vehicle vehicle = generateDummyVehicle();\n    AppointmentEntity appointmentEntity = appointmentMapper.map(appointmentRequest, vehicle, null);\n\n    when(appointmentRepository.findAllByCustomerId(anyString())).thenReturn(List.of(appointmentEntity));\n\n    List&lt;AppointmentEntity&gt; appointmentEntities = appointmentAlertProvider.findLatest(&quot;customerId&quot;);\n\n    assertThat(appointmentEntities.size()).isOne();\n}\n</code></pre>\n<p>This is where AppointmentAlertProvider is instantiated:</p>\n<pre><code>@Component\npublic class AlertProviderFactory {\n\nprivate AlertProviderFactory(){}\n\npublic static AlertProvider getAlertProvider(String alertType) {\n    if (alertType == null || alertType.isEmpty())\n            return null;\n    if (&quot;appointment-alert&quot;.equals(alertType)) {\n        return new AppointmentAlertProvider();\n    }\n    throw new IllegalArgumentException(&quot;Unknown alertType &quot; + alertType);\n}\n</code></pre>\n<p>My question is, how do I get 'appointmentAlertDays' from AlertsService? Thank you.</p>\n"},{"tags":["java","multithreading","concurrency","synchronization","java.util.concurrent"],"comments":[{"owner":{"account_id":6701313,"reputation":7980,"user_id":5167682,"accept_rate":29,"display_name":"roottraveller"},"score":1,"creation_date":1506231671,"post_id":4201713,"comment_id":79731727,"body_markdown":"helpful article here : http://javarevisited.blogspot.in/2013/03/reentrantlock-example-in-java-synchronized-difference-vs-lock.html","body":"helpful article here : <a href=\"http://javarevisited.blogspot.in/2013/03/reentrantlock-example-in-java-synchronized-difference-vs-lock.html\" rel=\"nofollow noreferrer\">javarevisited.blogspot.in/2013/03/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":316665,"reputation":87011,"user_id":632951,"accept_rate":83,"display_name":"Pacerier"},"score":1,"creation_date":1331229004,"post_id":4201734,"comment_id":12210766,"body_markdown":"What&#39;s the difference between wait/notify vs park/unpark of LockSupport? http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/locks/LockSupport.html","body":"What&#39;s the difference between wait/notify vs park/unpark of LockSupport? <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/locks/LockSupport.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/util/concurrent/locks&zwnj;&#8203;/&hellip;</a>"},{"owner":{"account_id":1715751,"reputation":1737,"user_id":1572848,"accept_rate":88,"display_name":"William Reed"},"score":8,"creation_date":1409060720,"post_id":4201734,"comment_id":39817084,"body_markdown":"At first the example made sense with locks but then I realized that if you use a try finally block that problem would be avoided with locks not being released","body":"At first the example made sense with locks but then I realized that if you use a try finally block that problem would be avoided with locks not being released"},{"owner":{"account_id":1778015,"reputation":21307,"user_id":1621391,"accept_rate":75,"display_name":"WhiZTiM"},"score":0,"creation_date":1495014378,"post_id":4201734,"comment_id":75069364,"body_markdown":"Ahh... One of those moments to appreciate RAII model in C++. `std::lock_guard`","body":"Ahh... One of those moments to appreciate RAII model in C++. <code>std::lock_guard</code>"}],"tags":[],"owner":{"account_id":57112,"reputation":37790,"user_id":171061,"accept_rate":76,"display_name":"Steven Schlansker"},"comment_count":3,"down_vote_count":1,"up_vote_count":209,"is_accepted":true,"score":208,"last_activity_date":1289971136,"creation_date":1289971136,"answer_id":4201734,"question_id":4201713,"body_markdown":"If you&#39;re simply locking an object, I&#39;d prefer to use `synchronized`\r\n\r\nExample:\r\n\r\n    Lock.acquire();\r\n    doSomethingNifty(); // Throws a NPE!\r\n    Lock.release(); // Oh noes, we never release the lock!\r\n\r\nYou have to explicitly do `try{} finally{}` everywhere.\r\n\r\nWhereas with synchronized, it&#39;s super clear and impossible to get wrong:\r\n\r\n    synchronized(myObject) {\r\n        doSomethingNifty();\r\n    }\r\n\r\nThat said, `Lock`s may be more useful for more complicated things where you can&#39;t acquire and release in such a clean manner.  I would honestly prefer to avoid using bare `Lock`s in the first place, and just go with a more sophisticated concurrency control such as a `CyclicBarrier` or a `LinkedBlockingQueue`, if they meet your needs.\r\n\r\nI&#39;ve never had a reason to use `wait()` or `notify()` but there may be some good ones.","title":"Synchronization vs Lock","body":"<p>If you're simply locking an object, I'd prefer to use <code>synchronized</code></p>\n\n<p>Example:</p>\n\n<pre><code>Lock.acquire();\ndoSomethingNifty(); // Throws a NPE!\nLock.release(); // Oh noes, we never release the lock!\n</code></pre>\n\n<p>You have to explicitly do <code>try{} finally{}</code> everywhere.</p>\n\n<p>Whereas with synchronized, it's super clear and impossible to get wrong:</p>\n\n<pre><code>synchronized(myObject) {\n    doSomethingNifty();\n}\n</code></pre>\n\n<p>That said, <code>Lock</code>s may be more useful for more complicated things where you can't acquire and release in such a clean manner.  I would honestly prefer to avoid using bare <code>Lock</code>s in the first place, and just go with a more sophisticated concurrency control such as a <code>CyclicBarrier</code> or a <code>LinkedBlockingQueue</code>, if they meet your needs.</p>\n\n<p>I've never had a reason to use <code>wait()</code> or <code>notify()</code> but there may be some good ones.</p>\n"},{"comments":[{"owner":{"account_id":316665,"reputation":87011,"user_id":632951,"accept_rate":83,"display_name":"Pacerier"},"score":2,"creation_date":1331229211,"post_id":4201735,"comment_id":12210827,"body_markdown":"Is plain old wait/notify considered a lower-level primitive than java.util.concurrent.locks.LockSupport&#39;s park/unpark, or is it the other way round?","body":"Is plain old wait/notify considered a lower-level primitive than java.util.concurrent.locks.LockSupport&#39;s park/unpark, or is it the other way round?"},{"owner":{"account_id":8326,"reputation":258555,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":0,"creation_date":1331256060,"post_id":4201735,"comment_id":12219129,"body_markdown":"@Pacerier: I consider both to be low-level (i.e. something that an application programmer would want to avoid using directly), but certainly the lower-level parts of java.util.concurrency (such as the locks package) are built on top of the native JVM primitives wait/notify (which are even lower-level).","body":"@Pacerier: I consider both to be low-level (i.e. something that an application programmer would want to avoid using directly), but certainly the lower-level parts of java.util.concurrency (such as the locks package) are built on top of the native JVM primitives wait/notify (which are even lower-level)."},{"owner":{"account_id":316665,"reputation":87011,"user_id":632951,"accept_rate":83,"display_name":"Pacerier"},"score":2,"creation_date":1331257433,"post_id":4201735,"comment_id":12219403,"body_markdown":"No I mean out of the 3: Thread.sleep/interrupt, Object.wait/notify, LockSupport.park/unpark, which is the **most** primitive?","body":"No I mean out of the 3: Thread.sleep/interrupt, Object.wait/notify, LockSupport.park/unpark, which is the <b>most</b> primitive?"},{"owner":{"account_id":8326,"reputation":258555,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":0,"creation_date":1331268303,"post_id":4201735,"comment_id":12221137,"body_markdown":"@Pacerier: Maybe open a new question for that. Whether any of them is implemented on top of the other, if they all share the same even lower-level JVM internal primitives, or if they are independent from eachother.","body":"@Pacerier: Maybe open a new question for that. Whether any of them is implemented on top of the other, if they all share the same even lower-level JVM internal primitives, or if they are independent from eachother."},{"owner":{"account_id":1748411,"reputation":1539,"user_id":1598080,"display_name":"Iwan Aucamp"},"score":3,"creation_date":1401893401,"post_id":4201735,"comment_id":37062643,"body_markdown":"@Thilo I&#39;m not sure how you support your statement that `java.util.concurrent` is easier [in general] than the language features (`synchronized`, etc...). When you use `java.util.concurrent` you have to make a habit of completing `lock.lock(); try { ... } finally { lock.unlock() }` before writing code whereas with a `synchronized` you are basically fine from the start. On this basis alone I would say `synchronized` is easier (given you want its behavior) than `java.util.concurrent.locks.Lock`. [par 4](http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/locks/Lock.html)","body":"@Thilo I&#39;m not sure how you support your statement that <code>java.util.concurrent</code> is easier [in general] than the language features (<code>synchronized</code>, etc...). When you use <code>java.util.concurrent</code> you have to make a habit of completing <code>lock.lock(); try { ... } finally { lock.unlock() }</code> before writing code whereas with a <code>synchronized</code> you are basically fine from the start. On this basis alone I would say <code>synchronized</code> is easier (given you want its behavior) than <code>java.util.concurrent.locks.Lock</code>. <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/locks/Lock.html\" rel=\"nofollow noreferrer\">par 4</a>"},{"owner":{"account_id":8326,"reputation":258555,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":0,"creation_date":1401922921,"post_id":4201735,"comment_id":37078790,"body_markdown":"@Iwan: That&#39;s what I meant by &quot;the Lock class itself is on the lower-level side of this toolbox, you may not even need to use that directly either&quot;. The easy/safe/convenient tools are Queues and Futures and CompletionService and so on.","body":"@Iwan: That&#39;s what I meant by &quot;the Lock class itself is on the lower-level side of this toolbox, you may not even need to use that directly either&quot;. The easy/safe/convenient tools are Queues and Futures and CompletionService and so on."},{"owner":{"account_id":119421,"reputation":78,"user_id":2135646,"display_name":"Duncan Armstrong"},"score":1,"creation_date":1431369757,"post_id":4201735,"comment_id":48456529,"body_markdown":"Don&#39;t think you can exactly replicate the behavior of the AtomicXXX classes with just the concurrency primitives, as they rely on native CAS invocation not available prior to java.util.concurrent.","body":"Don&#39;t think you can exactly replicate the behavior of the AtomicXXX classes with just the concurrency primitives, as they rely on native CAS invocation not available prior to java.util.concurrent."}],"tags":[],"owner":{"account_id":8326,"reputation":258555,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"comment_count":7,"down_vote_count":1,"up_vote_count":31,"is_accepted":false,"score":30,"last_activity_date":1476723754,"creation_date":1289971137,"answer_id":4201735,"question_id":4201713,"body_markdown":"You can achieve everything the utilities in [java.util.concurrent][1]  do with the low-level primitives like `synchronized`, `volatile`, or [wait][2] / [notify][3]\r\n\r\nHowever, concurrency is tricky, and most people get at least some parts of it wrong, making their code either incorrect or inefficient (or both).\r\n\r\nThe concurrent API provides a higher-level approach, which is easier (and as such safer) to use. In a nutshell, you should not need to use `synchronized, volatile, wait, notify` directly anymore. \r\n\r\nThe [Lock][4]  class itself is on the lower-level side of this toolbox, you may not even need to use that directly either (you can use `Queues` and [Semaphore][5] and stuff, etc, most of the time).\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/package-summary.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#wait--\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#notify--\r\n  [4]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/locks/Lock.html\r\n  [5]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Semaphore.html","title":"Synchronization vs Lock","body":"<p>You can achieve everything the utilities in <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/package-summary.html\" rel=\"noreferrer\">java.util.concurrent</a>  do with the low-level primitives like <code>synchronized</code>, <code>volatile</code>, or <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#wait--\" rel=\"noreferrer\">wait</a> / <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#notify--\" rel=\"noreferrer\">notify</a></p>\n\n<p>However, concurrency is tricky, and most people get at least some parts of it wrong, making their code either incorrect or inefficient (or both).</p>\n\n<p>The concurrent API provides a higher-level approach, which is easier (and as such safer) to use. In a nutshell, you should not need to use <code>synchronized, volatile, wait, notify</code> directly anymore. </p>\n\n<p>The <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/locks/Lock.html\" rel=\"noreferrer\">Lock</a>  class itself is on the lower-level side of this toolbox, you may not even need to use that directly either (you can use <code>Queues</code> and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Semaphore.html\" rel=\"noreferrer\">Semaphore</a> and stuff, etc, most of the time).</p>\n"},{"tags":[],"owner":{"account_id":6664,"reputation":85927,"user_id":11296,"display_name":"Bert F"},"comment_count":0,"down_vote_count":1,"up_vote_count":82,"is_accepted":false,"score":81,"last_activity_date":1367687540,"creation_date":1289975389,"answer_id":4202037,"question_id":4201713,"body_markdown":"&gt; I am wondering which one of these is better in practice and why?\r\n\r\nI&#39;ve found that `Lock` and `Condition` (and other new `concurrent` classes) are just more tools for the toolbox. I could do most everything I needed with my old claw hammer (the `synchronized` keyword), but it was awkward to use in some situations. Several of those awkward situations became much simpler once I added more tools to my toolbox: a rubber mallet, a ball-peen hammer, a prybar, and some nail punches. *However*, my old claw hammer still sees its share of use.\r\n\r\nI don&#39;t think one is really &quot;better&quot; than the other, but rather each is a better fit for different problems.  In a nutshell, the simple model and scope-oriented nature of `synchronized` helps protect me from bugs in my code, but those same advantages are sometimes hindrances in more complex scenarios. Its these more complex scenarios that the concurrent package was created to help address. But using this higher level constructs requires more explicit and careful management in the code.\r\n\r\n===\r\n\r\nI think the [JavaDoc][1] does a good job of describing the distinction between `Lock` and `synchronized` (the emphasis is mine):\r\n\r\n&gt; Lock implementations provide ***more extensive locking operations*** than can be obtained using synchronized methods and statements. They allow ***more flexible structuring***, may have quite different properties, and may ***support multiple associated Condition objects***.\r\n\r\n&gt; ...\r\n\r\n&gt; The use of ***synchronized methods*** or statements provides access to the implicit monitor lock associated with every object, but ***forces all lock acquisition and release to occur in a block-structured way***: when ***multiple locks*** are ***acquired*** they ***must be released in the opposite order***, and all ***locks must be released in the same lexical scope in which they were acquired***.\r\n\r\n&gt; While the scoping mechanism for ***synchronized*** methods and statements ***makes it much easier to program with monitor locks***, and helps ***avoid many common programming errors involving locks, there are occasions where you need to work with locks in a more flexible way. For example, ***some algorithms*** for traversing concurrently accessed data structures ***require the use of &quot;hand-over-hand&quot; or &quot;chain locking&quot;***: you acquire the lock of node A, then node B, then release A and acquire C, then release B and acquire D and so on. Implementations of the ***Lock interface*** enable the use of such techniques by ***allowing a lock to be acquired and released in different scopes***, and ***allowing multiple locks to be acquired and released in any order***.\r\n\r\n&gt; With this ***increased flexibility comes additional responsibility***. The ***absence of block-structured locking removes the automatic release of locks*** that occurs with synchronized methods and statements. In most cases, the following idiom should be used:\r\n\r\n&gt; ...\r\n \r\n&gt; When ***locking and unlocking occur in different scopes***, care must be taken to ***ensure*** that all code that is executed while the lock is held ***is protected by try-finally or try-catch*** to ***ensure that the lock is released*** when necessary.\r\n\r\n&gt; Lock implementations provide ***additional functionality*** over the use of synchronized methods and statements by providing a ***non-blocking attempt to acquire*** a lock (tryLock()), an attempt to ***acquire the lock that can be interrupted*** (lockInterruptibly(), and an attempt to ***acquire the lock that can timeout*** (tryLock(long, TimeUnit)).\r\n\r\n&gt; ...\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/7/docs/api/java/util/concurrent/locks/Lock.html","title":"Synchronization vs Lock","body":"<blockquote>\n  <p>I am wondering which one of these is better in practice and why?</p>\n</blockquote>\n\n<p>I've found that <code>Lock</code> and <code>Condition</code> (and other new <code>concurrent</code> classes) are just more tools for the toolbox. I could do most everything I needed with my old claw hammer (the <code>synchronized</code> keyword), but it was awkward to use in some situations. Several of those awkward situations became much simpler once I added more tools to my toolbox: a rubber mallet, a ball-peen hammer, a prybar, and some nail punches. <em>However</em>, my old claw hammer still sees its share of use.</p>\n\n<p>I don't think one is really \"better\" than the other, but rather each is a better fit for different problems.  In a nutshell, the simple model and scope-oriented nature of <code>synchronized</code> helps protect me from bugs in my code, but those same advantages are sometimes hindrances in more complex scenarios. Its these more complex scenarios that the concurrent package was created to help address. But using this higher level constructs requires more explicit and careful management in the code.</p>\n\n<p>===</p>\n\n<p>I think the <a href=\"http://download.oracle.com/javase/7/docs/api/java/util/concurrent/locks/Lock.html\">JavaDoc</a> does a good job of describing the distinction between <code>Lock</code> and <code>synchronized</code> (the emphasis is mine):</p>\n\n<blockquote>\n  <p>Lock implementations provide <strong><em>more extensive locking operations</em></strong> than can be obtained using synchronized methods and statements. They allow <strong><em>more flexible structuring</em></strong>, may have quite different properties, and may <strong><em>support multiple associated Condition objects</em></strong>.</p>\n  \n  <p>...</p>\n  \n  <p>The use of <strong><em>synchronized methods</em></strong> or statements provides access to the implicit monitor lock associated with every object, but <strong><em>forces all lock acquisition and release to occur in a block-structured way</em></strong>: when <strong><em>multiple locks</em></strong> are <strong><em>acquired</em></strong> they <strong><em>must be released in the opposite order</em></strong>, and all <strong><em>locks must be released in the same lexical scope in which they were acquired</em></strong>.</p>\n  \n  <p>While the scoping mechanism for <strong><em>synchronized</em></strong> methods and statements <strong><em>makes it much easier to program with monitor locks</em></strong>, and helps <strong><em>avoid many common programming errors involving locks, there are occasions where you need to work with locks in a more flexible way. For example, *</em>*some algorithms*</strong> for traversing concurrently accessed data structures <strong><em>require the use of \"hand-over-hand\" or \"chain locking\"</em></strong>: you acquire the lock of node A, then node B, then release A and acquire C, then release B and acquire D and so on. Implementations of the <strong><em>Lock interface</em></strong> enable the use of such techniques by <strong><em>allowing a lock to be acquired and released in different scopes</em></strong>, and <strong><em>allowing multiple locks to be acquired and released in any order</em></strong>.</p>\n  \n  <p>With this <strong><em>increased flexibility comes additional responsibility</em></strong>. The <strong><em>absence of block-structured locking removes the automatic release of locks</em></strong> that occurs with synchronized methods and statements. In most cases, the following idiom should be used:</p>\n  \n  <p>...</p>\n  \n  <p>When <strong><em>locking and unlocking occur in different scopes</em></strong>, care must be taken to <strong><em>ensure</em></strong> that all code that is executed while the lock is held <strong><em>is protected by try-finally or try-catch</em></strong> to <strong><em>ensure that the lock is released</em></strong> when necessary.</p>\n  \n  <p>Lock implementations provide <strong><em>additional functionality</em></strong> over the use of synchronized methods and statements by providing a <strong><em>non-blocking attempt to acquire</em></strong> a lock (tryLock()), an attempt to <strong><em>acquire the lock that can be interrupted</em></strong> (lockInterruptibly(), and an attempt to <strong><em>acquire the lock that can timeout</em></strong> (tryLock(long, TimeUnit)).</p>\n  \n  <p>...</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":158125,"reputation":6731,"user_id":376527,"accept_rate":72,"display_name":"Sam Goldberg"},"score":0,"creation_date":1499091866,"post_id":4205518,"comment_id":76754126,"body_markdown":"I liked the details on your comment.  I would add one more bullet point - the ReadWriteLock provides useful behavior if you are dealing with several threads, only some of which need to write to the object.  Multiple threads can be concurrently reading the object and are only blocked if another thread is already writing to it.","body":"I liked the details on your comment.  I would add one more bullet point - the ReadWriteLock provides useful behavior if you are dealing with several threads, only some of which need to write to the object.  Multiple threads can be concurrently reading the object and are only blocked if another thread is already writing to it."},{"owner":{"account_id":10229167,"reputation":1920,"user_id":7550592,"display_name":"yiksanchan"},"score":0,"creation_date":1606755150,"post_id":4205518,"comment_id":115051054,"body_markdown":"To add to the 4th point - In j.u.c.ArrayBlockingQueue, the lock has 2 reasons to await: queue non-empty and queue non-full. For this reason, j.u.c.ArrayBlockingQueue uses the explicit lock and lock.newCondition().","body":"To add to the 4th point - In j.u.c.ArrayBlockingQueue, the lock has 2 reasons to await: queue non-empty and queue non-full. For this reason, j.u.c.ArrayBlockingQueue uses the explicit lock and lock.newCondition()."}],"tags":[],"owner":{"account_id":65386,"reputation":39895,"user_id":192444,"accept_rate":100,"display_name":"John Vint"},"comment_count":2,"down_vote_count":1,"up_vote_count":20,"is_accepted":false,"score":19,"last_activity_date":1450094738,"creation_date":1290005039,"answer_id":4205518,"question_id":4201713,"body_markdown":"There are 4 main factors into why you would want to use `synchronized` or `java.util.concurrent.Lock`.\r\n\r\nNote: Synchronized locking is what I mean when I say intrinsic locking. \r\n\r\n 1. When Java 5 came out with\r\n    ReentrantLocks, they proved to have\r\n    quite a noticeble throughput\r\n    difference then intrinsic locking. \r\n    If youre looking for faster locking\r\n    mechanism and are running 1.5\r\n    consider j.u.c.ReentrantLock.  Java\r\n    6&#39;s intrinsic locking is now\r\n    comparable.\r\n    \r\n 2. j.u.c.Lock has different mechanisms\r\n        for locking. Lock interruptable -\r\n        attempt to lock until the locking\r\n        thread is interrupted; timed lock -\r\n        attempt to lock for a certain amount\r\n        of time and give up if you do not\r\n        succeed; tryLock - attempt to lock,\r\n        if some other thread is holding the\r\n        lock give up.  This all is included\r\n        aside from the simple lock. \r\n        Intrinsic locking only offers simple\r\n        locking\r\n 3. Style.  If both 1 and 2 do not fall\r\n        into categories of what you are\r\n        concerned with most people,\r\n        including myself, would find the\r\n        intrinsic locking semenatics easier\r\n        to read and less verbose then\r\n        j.u.c.Lock locking.\r\n 4. Multiple Conditions.  An object you\r\n    lock on can only be notified and\r\n    waited for a single case.  Lock&#39;s\r\n    newCondition method allows for a\r\n    single Lock to have mutliple reasons\r\n    to await or signal.  I have yet to\r\n    actually need this functionality in\r\n    practice, but is a nice feature for\r\n    those who need it.\r\n\r\n ","title":"Synchronization vs Lock","body":"<p>There are 4 main factors into why you would want to use <code>synchronized</code> or <code>java.util.concurrent.Lock</code>.</p>\n\n<p>Note: Synchronized locking is what I mean when I say intrinsic locking. </p>\n\n<ol>\n<li><p>When Java 5 came out with\nReentrantLocks, they proved to have\nquite a noticeble throughput\ndifference then intrinsic locking. \nIf youre looking for faster locking\nmechanism and are running 1.5\nconsider j.u.c.ReentrantLock.  Java\n6's intrinsic locking is now\ncomparable.</p></li>\n<li><p>j.u.c.Lock has different mechanisms\n    for locking. Lock interruptable -\n    attempt to lock until the locking\n    thread is interrupted; timed lock -\n    attempt to lock for a certain amount\n    of time and give up if you do not\n    succeed; tryLock - attempt to lock,\n    if some other thread is holding the\n    lock give up.  This all is included\n    aside from the simple lock. \n    Intrinsic locking only offers simple\n    locking</p></li>\n<li>Style.  If both 1 and 2 do not fall\n    into categories of what you are\n    concerned with most people,\n    including myself, would find the\n    intrinsic locking semenatics easier\n    to read and less verbose then\n    j.u.c.Lock locking.</li>\n<li>Multiple Conditions.  An object you\nlock on can only be notified and\nwaited for a single case.  Lock's\nnewCondition method allows for a\nsingle Lock to have mutliple reasons\nto await or signal.  I have yet to\nactually need this functionality in\npractice, but is a nice feature for\nthose who need it.</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":75088,"reputation":649,"user_id":215496,"display_name":"weiresr"},"score":6,"creation_date":1353592652,"post_id":7533084,"comment_id":18498967,"body_markdown":"&quot;Method level synchronization ensures fair or FIFO allocation of the lock.&quot; =&gt; Really? Are you saying that a synchronized method behaves differently w.r.t. fairness than wrapping the methods content into a synchronized{} block? I wouldn&#39;t think so, or did I understand that sentence wrong...?","body":"&quot;Method level synchronization ensures fair or FIFO allocation of the lock.&quot; =&gt; Really? Are you saying that a synchronized method behaves differently w.r.t. fairness than wrapping the methods content into a synchronized{} block? I wouldn&#39;t think so, or did I understand that sentence wrong...?"},{"owner":{"account_id":932016,"reputation":2355,"user_id":961712,"accept_rate":53,"display_name":"Brian Tarbox"},"score":0,"creation_date":1353605456,"post_id":7533084,"comment_id":18504719,"body_markdown":"Yes, although surprising and counter intuitive thats correct.  Goetz&#39;s book is the best explanation.","body":"Yes, although surprising and counter intuitive thats correct.  Goetz&#39;s book is the best explanation."},{"owner":{"account_id":90882,"reputation":381,"user_id":249912,"accept_rate":75,"display_name":"xburgos"},"score":0,"creation_date":1434030816,"post_id":7533084,"comment_id":49615589,"body_markdown":"If you look at the code provided by @BrianTarbox the synchronized block is using some object other than &quot;this&quot; to lock. In theory there&#39;s no difference between a synchronized method and putting the entire body of said method inside a synchronized block, as long as the block uses &quot;this&quot; as lock.","body":"If you look at the code provided by @BrianTarbox the synchronized block is using some object other than &quot;this&quot; to lock. In theory there&#39;s no difference between a synchronized method and putting the entire body of said method inside a synchronized block, as long as the block uses &quot;this&quot; as lock."},{"owner":{"account_id":75804,"reputation":94840,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":0,"creation_date":1523120216,"post_id":7533084,"comment_id":86432966,"body_markdown":"Answer should be edited to include quote, and make it clear &quot; assurance&quot; here is &quot;statistical guarantee&quot;, not deterministic.","body":"Answer should be edited to include quote, and make it clear &quot; assurance&quot; here is &quot;statistical guarantee&quot;, not deterministic."},{"owner":{"account_id":6679362,"reputation":1250,"user_id":5153063,"accept_rate":60,"display_name":"Robert"},"score":0,"creation_date":1651842918,"post_id":7533084,"comment_id":127466680,"body_markdown":"The lock could be fair.  See the [constructor for ReentrantLock](https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/locks/ReentrantLock.html#ReentrantLock(boolean))","body":"The lock could be fair.  See the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/locks/ReentrantLock.html#ReentrantLock(boolean)\" rel=\"nofollow noreferrer\">constructor for ReentrantLock</a>"}],"tags":[],"owner":{"account_id":932016,"reputation":2355,"user_id":961712,"accept_rate":53,"display_name":"Brian Tarbox"},"comment_count":5,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1523120098,"creation_date":1316801204,"answer_id":7533084,"question_id":4201713,"body_markdown":"The main difference is fairness, in other words are requests handled FIFO or can there be barging?  Method level synchronization ensures fair or FIFO allocation of the lock.  Using \r\n  \r\n    synchronized(foo) {\r\n    }\r\nor\r\n    \r\n    lock.acquire(); .....lock.release();\r\ndoes not assure fairness.\r\n\r\nIf you have lots of contention for the lock you can easily encounter barging where newer requests get the lock and older requests get stuck.  I&#39;ve seen cases where 200 threads arrive in short order for a lock and the 2nd one to arrive got processed last.  This is ok for some applications but for others it&#39;s deadly.\r\n\r\nSee Brian Goetz&#39;s &quot;Java Concurrency In Practice&quot; book, section 13.3 for a full discussion of this topic.","title":"Synchronization vs Lock","body":"<p>The main difference is fairness, in other words are requests handled FIFO or can there be barging?  Method level synchronization ensures fair or FIFO allocation of the lock.  Using </p>\n\n<pre><code>synchronized(foo) {\n}\n</code></pre>\n\n<p>or</p>\n\n<pre><code>lock.acquire(); .....lock.release();\n</code></pre>\n\n<p>does not assure fairness.</p>\n\n<p>If you have lots of contention for the lock you can easily encounter barging where newer requests get the lock and older requests get stuck.  I've seen cases where 200 threads arrive in short order for a lock and the 2nd one to arrive got processed last.  This is ok for some applications but for others it's deadly.</p>\n\n<p>See Brian Goetz's \"Java Concurrency In Practice\" book, section 13.3 for a full discussion of this topic.</p>\n"},{"tags":[],"owner":{"account_id":1003622,"reputation":516,"user_id":1017901,"display_name":"bodrin"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1332510653,"creation_date":1332510653,"answer_id":9840341,"question_id":4201713,"body_markdown":"Brian Goetz&#39;s &quot;Java Concurrency In Practice&quot; book, section 13.3:\r\n&quot;...Like the default ReentrantLock, intrinsic locking offers no deterministic fairness guarantees, but the\r\nstatistical fairness guarantees of most locking implementations are good enough for almost all situations...&quot;","title":"Synchronization vs Lock","body":"<p>Brian Goetz's \"Java Concurrency In Practice\" book, section 13.3:\n\"...Like the default ReentrantLock, intrinsic locking offers no deterministic fairness guarantees, but the\nstatistical fairness guarantees of most locking implementations are good enough for almost all situations...\"</p>\n"},{"tags":[],"owner":{"account_id":6453072,"reputation":37996,"user_id":4999394,"accept_rate":98,"display_name":"Ravindra babu"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1477998099,"creation_date":1450097992,"answer_id":34267717,"question_id":4201713,"body_markdown":"I would like to add some more things on top of  *Bert F* answer.\r\n\r\n`Locks` support various methods for finer grained lock control, which are more expressive than implicit monitors (`synchronized` locks)\r\n\r\n&gt;  A Lock provides exclusive access to a shared resource: only one thread at a time can acquire the lock and all access to the shared resource requires that the lock be acquired first. However, some locks may allow concurrent access to a shared resource, such as the read lock of a ReadWriteLock.\r\n\r\n\r\nAdvantages of **Lock over Synchronization** from documentation [page][1]\r\n\r\n1. The use of synchronized methods or statements provides access to the implicit monitor lock associated with every object, but forces all lock acquisition and release to occur in a block-structured way\r\n\r\n2. Lock implementations provide additional functionality over the use of synchronized methods and statements by providing a non-blocking attempt to acquire a `lock (tryLock())`, an attempt to acquire the lock that can be interrupted (`lockInterruptibly()`, and an attempt to acquire the lock that can `timeout (tryLock(long, TimeUnit))`.\r\n\r\n3. A Lock class can also provide behavior and semantics that is quite different from that of the implicit monitor lock, such as **guaranteed ordering, non-reentrant usage, or deadlock detection**\r\n\r\n\r\n[ReentrantLock][2]: In simple terms as per my understanding, `ReentrantLock` allows an object to re-enter from one critical section to other critical section . Since you already have lock to enter one critical section, you can other critical section on same object by using current lock. \r\n\r\n`ReentrantLock` key features as per this [article][3]\r\n\r\n1. Ability to lock interruptibly.\r\n2. Ability to timeout while waiting for lock.\r\n3. Power to create fair lock.\r\n4. API to get list of waiting thread for lock.\r\n5. Flexibility to try for lock without blocking.\r\n\r\nYou can use  `ReentrantReadWriteLock.ReadLock, ReentrantReadWriteLock.WriteLock` to further acquire control on granular locking on read and write operations.\r\n\r\nApart from these three ReentrantLocks, java 8 provides one more Lock\r\n\r\n**StampedLock:**\r\n\r\n&gt; Java 8 ships with a new kind of lock called StampedLock which also support read and write locks just like in the example above. In contrast to ReadWriteLock the locking methods of a StampedLock return a stamp represented by a long value. \r\n\r\nYou can use these stamps to either release a lock or to check if the lock is still valid. Additionally stamped locks support another lock mode called optimistic locking.\r\n\r\n\r\nHave a look at this [article][4] on usage of different type of `ReentrantLock` and `StampedLock` locks.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/locks/Lock.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/locks/ReentrantLock.html\r\n  [3]: http://javarevisited.blogspot.com/2013/03/reentrantlock-example-in-java-synchronized-difference-vs-lock.html#ixzz3uIbhr77e\r\n  [4]: http://winterbe.com/posts/2015/04/30/java8-concurrency-tutorial-synchronized-locks-examples/","title":"Synchronization vs Lock","body":"<p>I would like to add some more things on top of  <em>Bert F</em> answer.</p>\n\n<p><code>Locks</code> support various methods for finer grained lock control, which are more expressive than implicit monitors (<code>synchronized</code> locks)</p>\n\n<blockquote>\n  <p>A Lock provides exclusive access to a shared resource: only one thread at a time can acquire the lock and all access to the shared resource requires that the lock be acquired first. However, some locks may allow concurrent access to a shared resource, such as the read lock of a ReadWriteLock.</p>\n</blockquote>\n\n<p>Advantages of <strong>Lock over Synchronization</strong> from documentation <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/locks/Lock.html\" rel=\"noreferrer\">page</a></p>\n\n<ol>\n<li><p>The use of synchronized methods or statements provides access to the implicit monitor lock associated with every object, but forces all lock acquisition and release to occur in a block-structured way</p></li>\n<li><p>Lock implementations provide additional functionality over the use of synchronized methods and statements by providing a non-blocking attempt to acquire a <code>lock (tryLock())</code>, an attempt to acquire the lock that can be interrupted (<code>lockInterruptibly()</code>, and an attempt to acquire the lock that can <code>timeout (tryLock(long, TimeUnit))</code>.</p></li>\n<li><p>A Lock class can also provide behavior and semantics that is quite different from that of the implicit monitor lock, such as <strong>guaranteed ordering, non-reentrant usage, or deadlock detection</strong></p></li>\n</ol>\n\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/locks/ReentrantLock.html\" rel=\"noreferrer\">ReentrantLock</a>: In simple terms as per my understanding, <code>ReentrantLock</code> allows an object to re-enter from one critical section to other critical section . Since you already have lock to enter one critical section, you can other critical section on same object by using current lock. </p>\n\n<p><code>ReentrantLock</code> key features as per this <a href=\"http://javarevisited.blogspot.com/2013/03/reentrantlock-example-in-java-synchronized-difference-vs-lock.html#ixzz3uIbhr77e\" rel=\"noreferrer\">article</a></p>\n\n<ol>\n<li>Ability to lock interruptibly.</li>\n<li>Ability to timeout while waiting for lock.</li>\n<li>Power to create fair lock.</li>\n<li>API to get list of waiting thread for lock.</li>\n<li>Flexibility to try for lock without blocking.</li>\n</ol>\n\n<p>You can use  <code>ReentrantReadWriteLock.ReadLock, ReentrantReadWriteLock.WriteLock</code> to further acquire control on granular locking on read and write operations.</p>\n\n<p>Apart from these three ReentrantLocks, java 8 provides one more Lock</p>\n\n<p><strong>StampedLock:</strong></p>\n\n<blockquote>\n  <p>Java 8 ships with a new kind of lock called StampedLock which also support read and write locks just like in the example above. In contrast to ReadWriteLock the locking methods of a StampedLock return a stamp represented by a long value. </p>\n</blockquote>\n\n<p>You can use these stamps to either release a lock or to check if the lock is still valid. Additionally stamped locks support another lock mode called optimistic locking.</p>\n\n<p>Have a look at this <a href=\"http://winterbe.com/posts/2015/04/30/java8-concurrency-tutorial-synchronized-locks-examples/\" rel=\"noreferrer\">article</a> on usage of different type of <code>ReentrantLock</code> and <code>StampedLock</code> locks.</p>\n"},{"tags":[],"owner":{"account_id":986157,"reputation":1713,"user_id":1004589,"accept_rate":36,"display_name":"Md Monjur Ul Hasan"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1594508428,"creation_date":1466039393,"answer_id":37848283,"question_id":4201713,"body_markdown":"Lock makes programmers&#39; life easier. Here are a few situations that can be achieved easily with lock.\r\n\r\n 1. Lock in one method, and release the lock in another method. \r\n 2. If You have two threads working on two different pieces of code, however, in the first thread has a pre-requisite on a certain piece of code in the second thread (while some other threads also working on the same piece of code in the second thread simultaneously). A shared lock can solve this problem quite easily.\r\n 3. Implementing monitors. For example, a simple queue where the put and get methods are executed from many other threads. However, you do not want multiple put (or get) methods running simultaneously, neither the put and get method running simultaneously. A private lock makes your life a lot easier to achieve this. \r\n\r\nWhile, the lock, and conditions build on the synchronized mechanism. Therefore, can certainly be able to achieve the same functionality that you can achieve using the lock. However, solving complex scenarios with synchronized may make your life difficult and can deviate you from solving the actual problem. ","title":"Synchronization vs Lock","body":"<p>Lock makes programmers' life easier. Here are a few situations that can be achieved easily with lock.</p>\n<ol>\n<li>Lock in one method, and release the lock in another method.</li>\n<li>If You have two threads working on two different pieces of code, however, in the first thread has a pre-requisite on a certain piece of code in the second thread (while some other threads also working on the same piece of code in the second thread simultaneously). A shared lock can solve this problem quite easily.</li>\n<li>Implementing monitors. For example, a simple queue where the put and get methods are executed from many other threads. However, you do not want multiple put (or get) methods running simultaneously, neither the put and get method running simultaneously. A private lock makes your life a lot easier to achieve this.</li>\n</ol>\n<p>While, the lock, and conditions build on the synchronized mechanism. Therefore, can certainly be able to achieve the same functionality that you can achieve using the lock. However, solving complex scenarios with synchronized may make your life difficult and can deviate you from solving the actual problem.</p>\n"},{"tags":[],"owner":{"account_id":7252265,"reputation":546,"user_id":5532090,"display_name":"NKumar"},"comment_count":0,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1547084920,"creation_date":1504103205,"answer_id":45963069,"question_id":4201713,"body_markdown":"Major difference between lock and synchronized:\r\n\r\n- with locks, you can release and acquire the locks in any order.\r\n- with synchronized, you can release the locks only in the order it was acquired.","title":"Synchronization vs Lock","body":"<p>Major difference between lock and synchronized:</p>\n\n<ul>\n<li>with locks, you can release and acquire the locks in any order.</li>\n<li>with synchronized, you can release the locks only in the order it was acquired.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":5331806,"reputation":191,"user_id":4252198,"display_name":"Shyam"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1532673003,"creation_date":1532673003,"answer_id":51551990,"question_id":4201713,"body_markdown":"Lock and synchronize block both serves the same purpose but it depends on the usage. Consider the below part\r\n\r\n    void randomFunction(){\r\n    .\r\n    .\r\n    .\r\n    synchronize(this){\r\n    //do some functionality\r\n    }\r\n    \r\n    .\r\n    .\r\n    .\r\n    synchronize(this)\r\n    {\r\n    // do some functionality\r\n    }\r\n    \r\n    \r\n    } // end of randomFunction\r\n\r\nIn the above case , if a thread enters the synchronize block, the other block is also locked. If there are multiple such synchronize block on the same object, all the blocks are locked. In such situations ,  java.util.concurrent.Lock can be used to prevent unwanted locking of blocks","title":"Synchronization vs Lock","body":"<p>Lock and synchronize block both serves the same purpose but it depends on the usage. Consider the below part</p>\n\n<pre><code>void randomFunction(){\n.\n.\n.\nsynchronize(this){\n//do some functionality\n}\n\n.\n.\n.\nsynchronize(this)\n{\n// do some functionality\n}\n\n\n} // end of randomFunction\n</code></pre>\n\n<p>In the above case , if a thread enters the synchronize block, the other block is also locked. If there are multiple such synchronize block on the same object, all the blocks are locked. In such situations ,  java.util.concurrent.Lock can be used to prevent unwanted locking of blocks</p>\n"},{"tags":[],"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689465044,"creation_date":1689465044,"answer_id":76696199,"question_id":4201713,"body_markdown":"Here is comprehensive comparison `synchronized` vs `Lock`\r\n\r\n**Synchronized advantages**:\r\n\r\n - Automatic release: no need in try-finally, protection against forgotten release.\r\n\r\n        synchronized {\r\n            someCode();\r\n        }\r\n\r\n    vs \r\n\r\n        lock.lock();\r\n        try {\r\n            someCode();\r\n        } finally {\r\n            lock.release();\r\n        }\r\n - Less extra lines (an example above)\r\n - Ability to mark an entire method `synchronized`, avoid extra lines and extra tabulation\r\n\r\n        public synchronized someMethod() {\r\n            someCode();\r\n        }\r\n\r\n**Lock advantages:**\r\n\r\n - Extended API: `.lockInterruptibly()`, `.tryLock()`, `tryLock(timeout)`\r\n - Ability to create multiple `Condition`s associated with a lock. For example, `ArrayBlockingQueue` holds both `notEmpty` and `notFull` conditions.\r\n - Ability to get lock-holding thread while debugging via `sync.exclusiveOwnerThread`. API for obtaining Lock state: `.getHoldCount()`, `.hasQueuedThreads()` etc.\r\n - Ability to pass as an object. For example keep a `Map&lt;ResourceObject, Lock&gt;`\r\n - Ability to acquire and release multiple locks in any order\r\n - Ability to create fair: `new ReentrantLock(true)`\r\n - Existence of `ReadWriteLock` allowing parallel reads","title":"Synchronization vs Lock","body":"<p>Here is comprehensive comparison <code>synchronized</code> vs <code>Lock</code></p>\n<p><strong>Synchronized advantages</strong>:</p>\n<ul>\n<li><p>Automatic release: no need in try-finally, protection against forgotten release.</p>\n<pre><code> synchronized {\n     someCode();\n }\n</code></pre>\n<p>vs</p>\n<pre><code> lock.lock();\n try {\n     someCode();\n } finally {\n     lock.release();\n }\n</code></pre>\n</li>\n<li><p>Less extra lines (an example above)</p>\n</li>\n<li><p>Ability to mark an entire method <code>synchronized</code>, avoid extra lines and extra tabulation</p>\n<pre><code> public synchronized someMethod() {\n     someCode();\n }\n</code></pre>\n</li>\n</ul>\n<p><strong>Lock advantages:</strong></p>\n<ul>\n<li>Extended API: <code>.lockInterruptibly()</code>, <code>.tryLock()</code>, <code>tryLock(timeout)</code></li>\n<li>Ability to create multiple <code>Condition</code>s associated with a lock. For example, <code>ArrayBlockingQueue</code> holds both <code>notEmpty</code> and <code>notFull</code> conditions.</li>\n<li>Ability to get lock-holding thread while debugging via <code>sync.exclusiveOwnerThread</code>. API for obtaining Lock state: <code>.getHoldCount()</code>, <code>.hasQueuedThreads()</code> etc.</li>\n<li>Ability to pass as an object. For example keep a <code>Map&lt;ResourceObject, Lock&gt;</code></li>\n<li>Ability to acquire and release multiple locks in any order</li>\n<li>Ability to create fair: <code>new ReentrantLock(true)</code></li>\n<li>Existence of <code>ReadWriteLock</code> allowing parallel reads</li>\n</ul>\n"}],"owner":{"account_id":159676,"reputation":88203,"user_id":379235,"accept_rate":62,"display_name":"daydreamer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":192131,"favorite_count":0,"down_vote_count":2,"up_vote_count":213,"accepted_answer_id":4201734,"answer_count":11,"score":211,"last_activity_date":1689465044,"creation_date":1289970781,"question_id":4201713,"body_markdown":"`java.util.concurrent` API provides a class called as `Lock`, which would basically serialize the control in order to access the critical resource. It gives method such as `park()` and `unpark()`.  \r\n\r\nWe can do similar things if we can use `synchronized` keyword and using `wait()` and `notify() notifyAll()` methods.  \r\n\r\nI am wondering which one of these is better in practice and why?","title":"Synchronization vs Lock","body":"<p><code>java.util.concurrent</code> API provides a class called as <code>Lock</code>, which would basically serialize the control in order to access the critical resource. It gives method such as <code>park()</code> and <code>unpark()</code>.  </p>\n\n<p>We can do similar things if we can use <code>synchronized</code> keyword and using <code>wait()</code> and <code>notify() notifyAll()</code> methods.  </p>\n\n<p>I am wondering which one of these is better in practice and why?</p>\n"},{"tags":["java","json","jackson"],"comments":[{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1689434479,"post_id":76694431,"comment_id":135214557,"body_markdown":"Using a proper JSON parser should already take care of this: the JSON structure can&#39;t have &quot;any type of object&quot; because JSON only models the plain (unclassed) JS object. You parse your JSON, then you query the result for key/value pairs, and values can be a boolean, number, string, array, the `null` object, or a generic key/value pair object. That&#39;s it, that&#39;s the only six options you get. Ask for a key, check what type it is, then do whatever you need to do based on that type. But if you don&#39;t know what your input is, how would you know what to do with it?","body":"Using a proper JSON parser should already take care of this: the JSON structure can&#39;t have &quot;any type of object&quot; because JSON only models the plain (unclassed) JS object. You parse your JSON, then you query the result for key/value pairs, and values can be a boolean, number, string, array, the <code>null</code> object, or a generic key/value pair object. That&#39;s it, that&#39;s the only six options you get. Ask for a key, check what type it is, then do whatever you need to do based on that type. But if you don&#39;t know what your input is, how would you know what to do with it?"},{"owner":{"account_id":5940639,"reputation":69,"user_id":4671997,"display_name":"Neta yam"},"score":0,"creation_date":1689435435,"post_id":76694431,"comment_id":135214664,"body_markdown":"Maybe my question wasn&#39;t clear but basically if it&#39;s array/nested object i would like to flatten it when i writeValueAsString. so  { age: { number: 12 } } would be { age.number : 12 }. From my understanding @JsonUnwrapped does that for me","body":"Maybe my question wasn&#39;t clear but basically if it&#39;s array/nested object i would like to flatten it when i writeValueAsString. so  { age: { number: 12 } } would be { age.number : 12 }. From my understanding @JsonUnwrapped does that for me"},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":1,"creation_date":1689435627,"post_id":76694431,"comment_id":135214687,"body_markdown":"Then give [the documentation for that annotation](https://fasterxml.github.io/jackson-annotations/javadoc/2.8/com/fasterxml/jackson/annotation/JsonUnwrapped.html)  a quick read, because that&#39;s not what it does. It&#39;ll turn `{ age: { number: 12 } }` into `{ number: 12 }`. But perhaps importantly: can you update your question with _why_ you need the data transformed in this way? Because that transformation might not be the best way to achieve what you _actually_ need.","body":"Then give <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.8/com/fasterxml/jackson/annotation/JsonUnwrapped.html\" rel=\"nofollow noreferrer\">the documentation for that annotation</a>  a quick read, because that&#39;s not what it does. It&#39;ll turn <code>{ age: { number: 12 } }</code> into <code>{ number: 12 }</code>. But perhaps importantly: can you update your question with <i>why</i> you need the data transformed in this way? Because that transformation might not be the best way to achieve what you <i>actually</i> need."},{"owner":{"account_id":5940639,"reputation":69,"user_id":4671997,"display_name":"Neta yam"},"score":0,"creation_date":1689452877,"post_id":76694431,"comment_id":135216587,"body_markdown":"I&#39;ve updated the question with some explanation. Would love to hear if you have recommendation to improve this code. I&#39;m thinking of putting all the flatting logic in another class. What do you think? I&#39;m pretty new to Java :)","body":"I&#39;ve updated the question with some explanation. Would love to hear if you have recommendation to improve this code. I&#39;m thinking of putting all the flatting logic in another class. What do you think? I&#39;m pretty new to Java :)"},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1689457404,"post_id":76694431,"comment_id":135217077,"body_markdown":"Don&#39;t put an &quot;edit&quot; in your post: future visitors, and future potential &quot;answerers&quot; don&#39;t care. Your post should just one cohesive post giving all the details so that people can tell whether your problem is their problem, too =) If you update your post with additonal details, work those into your post as if they were there from the start. If people need to know about the edit history, they can click the edit history link. And if you&#39;re pasting code, please use modern triple-ticks with the language indicator (github style) rather than four-spaced indented. Condensed code means fewer scrollbars.","body":"Don&#39;t put an &quot;edit&quot; in your post: future visitors, and future potential &quot;answerers&quot; don&#39;t care. Your post should just one cohesive post giving all the details so that people can tell whether your problem is their problem, too =) If you update your post with additonal details, work those into your post as if they were there from the start. If people need to know about the edit history, they can click the edit history link. And if you&#39;re pasting code, please use modern triple-ticks with the language indicator (github style) rather than four-spaced indented. Condensed code means fewer scrollbars."},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1689457750,"post_id":76694431,"comment_id":135217118,"body_markdown":"That said, if your &quot;current solution&quot; doesn&#39;t actually solve the problem, remember to say what it&#39;s doing, and how that differs from what you expected. You can&#39;t just add your current code to the end of your post and leave it at that: does it work? Because if so, problem solved. Does it _not_ work? Talk about that.","body":"That said, if your &quot;current solution&quot; doesn&#39;t actually solve the problem, remember to say what it&#39;s doing, and how that differs from what you expected. You can&#39;t just add your current code to the end of your post and leave it at that: does it work? Because if so, problem solved. Does it <i>not</i> work? Talk about that."},{"owner":{"account_id":5940639,"reputation":69,"user_id":4671997,"display_name":"Neta yam"},"score":0,"creation_date":1689461120,"post_id":76694431,"comment_id":135217385,"body_markdown":"wow thank you for the info! :D \nmy current solution solves the issue but i&#39;m not sure if what i did is good practice","body":"wow thank you for the info! :D  my current solution solves the issue but i&#39;m not sure if what i did is good practice"}],"owner":{"account_id":5940639,"reputation":69,"user_id":4671997,"display_name":"Neta yam"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1689463688,"creation_date":1689434311,"question_id":76694431,"body_markdown":"I have the following: \r\n\r\n```java\r\n@Data\r\npublic class LLMAsset {\r\n  public Object inputs = null;\r\n  public Object outputs = null;\r\n}\r\n```\r\n\r\ninputs and outputs can be any type of Object. For example: \r\n\r\n```json\r\ninputs: { \r\n  name: &quot;user&quot;,\r\n  age: {\r\n    number: 12\r\n  } \r\n}\r\n```\r\n\r\nor it might be just: \r\n\r\n```json\r\ninputs: &quot;some string&quot;\r\n```\r\n\r\nSo it depends on the user input. If it&#39;s a nested object i would like to flatten it. I&#39;ve seen there&#39;s the Jackson `@JsonUnwrapped` but it doesn&#39;t seem to work. I assume because I use an Object? How can i solve this? \r\n\r\nThe user logs some type of asset which can have dynamic input and output field. I would like to index only the input and output fields and flatten them. \r\n\r\nThis is my current solution which works but it feels like dirty code. might be a better option? \r\n\r\n```java\r\npublic class Asset {\r\n\r\n  private Integer version;\r\n  private String category;\r\n  public Object input = null;\r\n  public Object output = null;\r\n\r\n  public Asset() {}\r\n\r\n  public Asset(Object input, Object output) {\r\n    this.input = input;\r\n    this.output = output;\r\n  }\r\n\r\n  public Map&lt;String, String&gt; flattenIndexedFields() {\r\n    Map&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();\r\n    try {\r\n      addKeys(\r\n        &quot;&quot;,\r\n        JsonResolver.objectMapper.readTree(\r\n          JsonResolver.objectMapper.writeValueAsString(getFieldsToIndex())\r\n        ),\r\n        map\r\n      );\r\n    } catch (JsonProcessingException e) {\r\n      throw new RuntimeException(e);\r\n    }\r\n    return map;\r\n  }\r\n\r\n  private ObjectNode getFieldsToIndex() {\r\n    ObjectNode inputsOutputObj = objectMapper.createObjectNode();\r\n    inputsOutputObj.set(\r\n      &quot;chain_inputs&quot;,\r\n      objectMapper.valueToTree(this.getChain_inputs())\r\n    );\r\n    inputsOutputObj.set(\r\n      &quot;chain_outputs&quot;,\r\n      objectMapper.valueToTree(this.getChain_outputs())\r\n    );\r\n    return inputsOutputObj;\r\n  }\r\n\r\n  private void addKeys(\r\n    String currentPath,\r\n    JsonNode jsonNode,\r\n    Map&lt;String, String&gt; map\r\n  ) {\r\n    if (jsonNode.isObject()) {\r\n      ObjectNode objectNode = (ObjectNode) jsonNode;\r\n      Iterator&lt;Map.Entry&lt;String, JsonNode&gt;&gt; iter = objectNode.fields();\r\n      String pathPrefix = currentPath.isEmpty() ? &quot;&quot; : currentPath + &quot;.&quot;;\r\n\r\n      while (iter.hasNext()) {\r\n        Map.Entry&lt;String, JsonNode&gt; entry = iter.next();\r\n        addKeys(pathPrefix + entry.getKey(), entry.getValue(), map);\r\n      }\r\n    } else if (jsonNode.isArray()) {\r\n      ArrayNode arrayNode = (ArrayNode) jsonNode;\r\n      for (int i = 0; i &lt; arrayNode.size(); i++) {\r\n        addKeys(currentPath + &quot;[&quot; + i + &quot;]&quot;, arrayNode.get(i), map);\r\n      }\r\n    } else if (jsonNode.isValueNode()) {\r\n      ValueNode valueNode = (ValueNode) jsonNode;\r\n      map.put(currentPath, valueNode.asText());\r\n    }\r\n  }\r\n}\r\n```","title":"Flatten dynamic Object using jackson","body":"<p>I have the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\npublic class LLMAsset {\n  public Object inputs = null;\n  public Object outputs = null;\n}\n</code></pre>\n<p>inputs and outputs can be any type of Object. For example:</p>\n<pre class=\"lang-json prettyprint-override\"><code>inputs: { \n  name: &quot;user&quot;,\n  age: {\n    number: 12\n  } \n}\n</code></pre>\n<p>or it might be just:</p>\n<pre class=\"lang-json prettyprint-override\"><code>inputs: &quot;some string&quot;\n</code></pre>\n<p>So it depends on the user input. If it's a nested object i would like to flatten it. I've seen there's the Jackson <code>@JsonUnwrapped</code> but it doesn't seem to work. I assume because I use an Object? How can i solve this?</p>\n<p>The user logs some type of asset which can have dynamic input and output field. I would like to index only the input and output fields and flatten them.</p>\n<p>This is my current solution which works but it feels like dirty code. might be a better option?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Asset {\n\n  private Integer version;\n  private String category;\n  public Object input = null;\n  public Object output = null;\n\n  public Asset() {}\n\n  public Asset(Object input, Object output) {\n    this.input = input;\n    this.output = output;\n  }\n\n  public Map&lt;String, String&gt; flattenIndexedFields() {\n    Map&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();\n    try {\n      addKeys(\n        &quot;&quot;,\n        JsonResolver.objectMapper.readTree(\n          JsonResolver.objectMapper.writeValueAsString(getFieldsToIndex())\n        ),\n        map\n      );\n    } catch (JsonProcessingException e) {\n      throw new RuntimeException(e);\n    }\n    return map;\n  }\n\n  private ObjectNode getFieldsToIndex() {\n    ObjectNode inputsOutputObj = objectMapper.createObjectNode();\n    inputsOutputObj.set(\n      &quot;chain_inputs&quot;,\n      objectMapper.valueToTree(this.getChain_inputs())\n    );\n    inputsOutputObj.set(\n      &quot;chain_outputs&quot;,\n      objectMapper.valueToTree(this.getChain_outputs())\n    );\n    return inputsOutputObj;\n  }\n\n  private void addKeys(\n    String currentPath,\n    JsonNode jsonNode,\n    Map&lt;String, String&gt; map\n  ) {\n    if (jsonNode.isObject()) {\n      ObjectNode objectNode = (ObjectNode) jsonNode;\n      Iterator&lt;Map.Entry&lt;String, JsonNode&gt;&gt; iter = objectNode.fields();\n      String pathPrefix = currentPath.isEmpty() ? &quot;&quot; : currentPath + &quot;.&quot;;\n\n      while (iter.hasNext()) {\n        Map.Entry&lt;String, JsonNode&gt; entry = iter.next();\n        addKeys(pathPrefix + entry.getKey(), entry.getValue(), map);\n      }\n    } else if (jsonNode.isArray()) {\n      ArrayNode arrayNode = (ArrayNode) jsonNode;\n      for (int i = 0; i &lt; arrayNode.size(); i++) {\n        addKeys(currentPath + &quot;[&quot; + i + &quot;]&quot;, arrayNode.get(i), map);\n      }\n    } else if (jsonNode.isValueNode()) {\n      ValueNode valueNode = (ValueNode) jsonNode;\n      map.put(currentPath, valueNode.asText());\n    }\n  }\n}\n</code></pre>\n"},{"tags":["java","keyevent"],"comments":[{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":1,"creation_date":1689439588,"post_id":76694785,"comment_id":135215168,"body_markdown":"You already answered your own question.  You use booleans to turn KeyListeners on or off.  Edit your question to include a [mre] that we can copy into our IDE, compile, and run millions of tests to determine what the problem is.","body":"You already answered your own question.  You use booleans to turn KeyListeners on or off.  Edit your question to include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that we can copy into our IDE, compile, and run millions of tests to determine what the problem is."},{"owner":{"account_id":28866623,"reputation":11,"user_id":22109255,"display_name":"Ulala Olala"},"score":0,"creation_date":1689461774,"post_id":76694785,"comment_id":135217426,"body_markdown":"I&#39;ve tried to construct a minimal reproducible example now, maybe that makes my issue clearer. If you click fast enough, the boolean doesn&#39;t have the intended effect","body":"I&#39;ve tried to construct a minimal reproducible example now, maybe that makes my issue clearer. If you click fast enough, the boolean doesn&#39;t have the intended effect"}],"answers":[{"comments":[{"owner":{"account_id":28866623,"reputation":11,"user_id":22109255,"display_name":"Ulala Olala"},"score":0,"creation_date":1689530092,"post_id":76696135,"comment_id":135223149,"body_markdown":"That makes sense, I think I tried to fix it with a delay before but it still always seemed to remember the key inputs and just worked them off slowly. I&#39;ll try some more though, thank you &#128077;","body":"That makes sense, I think I tried to fix it with a delay before but it still always seemed to remember the key inputs and just worked them off slowly. I&#39;ll try some more though, thank you 👍"},{"owner":{"account_id":28866623,"reputation":11,"user_id":22109255,"display_name":"Ulala Olala"},"score":0,"creation_date":1689540605,"post_id":76696135,"comment_id":135224321,"body_markdown":"Hmm, so I&#39;ve tried to implemented now and added a Thread.sleep() line in every method before calling newQuestion() and it&#39;s the way it was before, that the key presses are still remembered for some reason and just processed slower. Should I call Thread.sleep() at another time? I also tried adding an if clause (checking that clicked is false) before calling the methods in the key bindings, but that didn&#39;t help either.","body":"Hmm, so I&#39;ve tried to implemented now and added a Thread.sleep() line in every method before calling newQuestion() and it&#39;s the way it was before, that the key presses are still remembered for some reason and just processed slower. Should I call Thread.sleep() at another time? I also tried adding an if clause (checking that clicked is false) before calling the methods in the key bindings, but that didn&#39;t help either."},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1689541558,"post_id":76696135,"comment_id":135224432,"body_markdown":"@UlalaOlala I explicit wrote in my answer that you shouldn&#39;t use `Thread.sleep()` inside your methods for that exact reason as it blocks the GUI thread, which might includes any event handling like `getInputMap()`/`getActionMap()`. Unhandled user inputs/events might be delayed because of this, which looks like the input is &quot;remembered&quot;. Use a timer instead to show/activate the next question at a later time.","body":"@UlalaOlala I explicit wrote in my answer that you shouldn&#39;t use <code>Thread.sleep()</code> inside your methods for that exact reason as it blocks the GUI thread, which might includes any event handling like <code>getInputMap()</code>/<code>getActionMap()</code>. Unhandled user inputs/events might be delayed because of this, which looks like the input is &quot;remembered&quot;. Use a timer instead to show/activate the next question at a later time."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1689542534,"post_id":76696135,"comment_id":135224558,"body_markdown":"@UlalaOlala: you were explicitly told *not* to use Thread sleep. Best to use a [Swing Timer](http://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html) for any Swing GUI related pauses. 1+ to this answer (given yesterday), and 1- to the question for ignoring the answer&#39;s advice.","body":"@UlalaOlala: you were explicitly told <i>not</i> to use Thread sleep. Best to use a <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html\" rel=\"nofollow noreferrer\">Swing Timer</a> for any Swing GUI related pauses. 1+ to this answer (given yesterday), and 1- to the question for ignoring the answer&#39;s advice."},{"owner":{"account_id":28866623,"reputation":11,"user_id":22109255,"display_name":"Ulala Olala"},"score":0,"creation_date":1689545070,"post_id":76696135,"comment_id":135224796,"body_markdown":"Oh true, I read it wrong sorry","body":"Oh true, I read it wrong sorry"}],"tags":[],"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689463324,"creation_date":1689463324,"answer_id":76696135,"question_id":76694785,"body_markdown":"The problem is not that the user inputs of the two players are handled in parallel. That will not be possible when you compare the reaction time of the players and the computational speed of your computer. The problem is that the variable `clicked` is only `true` for an extremely short time (due to the computational speed of your computer). The block of user inputs you want to write has to be longer in time to work.\r\n\r\nDepending on how you want your game to be played, you can &quot;activate&quot; the new question only after a short delay. So when one player pressed a key, the input is checked, but the new question isn&#39;t shown directly or isn&#39;t &quot;active&quot; yet. Only after some time is passed, like 500ms, the new question with the new answer is shown. During that time, no user input should be handled or should be simply ignored. After that time, the user input can begin answer the next question again.\r\n\r\nYou can use timers or threads to show the next question after a short delay. Keep in mind not to simply use `Thread.sleep()` in your `actionPerformed()` method as it might block the GUI thread and your application would look like it is hanging/stopped/unresponsive.","title":"How to act only on first KeyEvent","body":"<p>The problem is not that the user inputs of the two players are handled in parallel. That will not be possible when you compare the reaction time of the players and the computational speed of your computer. The problem is that the variable <code>clicked</code> is only <code>true</code> for an extremely short time (due to the computational speed of your computer). The block of user inputs you want to write has to be longer in time to work.</p>\n<p>Depending on how you want your game to be played, you can &quot;activate&quot; the new question only after a short delay. So when one player pressed a key, the input is checked, but the new question isn't shown directly or isn't &quot;active&quot; yet. Only after some time is passed, like 500ms, the new question with the new answer is shown. During that time, no user input should be handled or should be simply ignored. After that time, the user input can begin answer the next question again.</p>\n<p>You can use timers or threads to show the next question after a short delay. Keep in mind not to simply use <code>Thread.sleep()</code> in your <code>actionPerformed()</code> method as it might block the GUI thread and your application would look like it is hanging/stopped/unresponsive.</p>\n"}],"owner":{"account_id":28866623,"reputation":11,"user_id":22109255,"display_name":"Ulala Olala"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1689463324,"creation_date":1689438906,"question_id":76694785,"body_markdown":"I&#39;m working on an app, where I show a question and a person can answer by using the arrow keys for yes/no, which loads a new question and so on. This works well, but I&#39;m trying to implement a multiplayer mode aswell, where another person can use the a and d keys, which is causing problems. \r\n\r\nBasically, if the two people answer very quickly one after another, the first input gets counted as the answer for the current question, which causes a new question to load and the second input gets counted as the answer for that new question, even though the person hadn&#39;t even seen that question when they answered.\r\n\r\nI&#39;ve tried updating the question later, but it still always remembered the second KeyPress and processes them one after another.\r\n\r\nI&#39;ve also tried working with boolean variables to indicate that a person has already pressed and that the other person&#39;s input shouldn&#39;t be counted, but it either didn&#39;t work as expected or created a deadlock.\r\n\r\nI think it&#39;s probably because of the way Java handles the KeyEvents that the code that handles the events is processed in parallel, so the boolean variables weren&#39;t set in time for it to block from processing the second KeyEvent aswell.\r\n\r\nMy goal is that if two people answer while one question is showing, only the first person to answer can get the points for that (if both answered at exactly the same time, both would ideally get the points), then a new question is loaded and so on.\r\n\r\nMinimal reproducable example:\r\n```java\r\npublic class Test extends JFrame{\r\n    int right_score;\r\n\tint left_score;\r\n\tJLabel r_score = new JLabel();\r\n\tJLabel l_score = new JLabel();\r\n\tboolean answer;\r\n\tboolean clicked = false;\r\n\tJLabel answer_label = new JLabel();\r\n\r\n\tpublic static void main(String[] args) {new Test();}\r\n\t\r\n\tpublic Test() {\r\n\t\taddKeyBindings();\r\n\t\tr_score.setText(&quot;Right: 0&quot;);\r\n\t\tl_score.setText(&quot;Left: 0&quot;);\r\n\t\tanswer_label.setText(&quot;&quot; + answer);\r\n\t\tthis.setLayout(new FlowLayout(FlowLayout.CENTER));\r\n\t\tthis.setMinimumSize(new Dimension(100, 100));\r\n\t\tthis.add(answer_label);\r\n\t\tthis.add(l_score);\r\n\t\tthis.add(r_score);\r\n\t\tnewQuestion();\r\n\t\tthis.setVisible(true);\r\n\t}\r\n\t\r\n\tprivate void newQuestion() {\r\n\t\tRandom rand = new Random();\r\n\t\tanswer = rand.nextBoolean();\r\n\t\tanswer_label.setText(&quot;&quot; + answer);\r\n\t}\r\n\r\n\tpublic void r_pressed_yes() {\r\n\t\tif (answer &amp;&amp; !clicked) {\r\n\t    \tclicked = true;\r\n\t\t\tright_score += 1;\r\n\t\t\tr_score.setText(&quot;Right: &quot; + right_score);\r\n\t\t\tnewQuestion();\r\n\t\t\tclicked = false;\r\n\t\t}\r\n\t\telse if (!clicked){\r\n\t    \tclicked = true;\r\n\t\t\tright_score -= 1;\r\n\t\t\tr_score.setText(&quot;Right: &quot; + right_score);\r\n\t\t\tnewQuestion();\r\n\t\t\tclicked = false;\r\n\t\t}\r\n\t};\r\n\t\r\n\tpublic void r_pressed_no() {\r\n\t\tif (!answer &amp;&amp; !clicked) {\r\n\t    \tclicked = true;\r\n\t\t\tright_score += 1;\r\n\t\t\tr_score.setText(&quot;Right: &quot; + right_score);\r\n\t\t\tnewQuestion();\r\n\t\t\tclicked = false;\r\n\t\t}\r\n\t\telse if (!clicked){\r\n\t    \tclicked = true;\r\n\t\t\tright_score -= 1;\r\n\t\t\tr_score.setText(&quot;Right: &quot; + right_score);\r\n\t\t\tnewQuestion();\r\n\t\t\tclicked = false;\r\n\t\t}\r\n\t};\r\n\t\r\n\tpublic void l_pressed_yes() {\r\n\t\tif (answer &amp;&amp; !clicked) {\r\n\t    \tclicked = true;\r\n\t\t\tleft_score += 1;\r\n\t\t\tl_score.setText(&quot;Left: &quot; + left_score);\r\n\t\t\tnewQuestion();\r\n\t\t\tclicked = false;\r\n\t\t}\r\n\t\telse if (!clicked){\r\n\t    \tclicked = true;\r\n\t\t\tleft_score -= 1;\r\n\t\t\tl_score.setText(&quot;Left: &quot; + left_score);\r\n\t\t\tnewQuestion();\r\n\t\t\tclicked = false;\r\n\t\t}\r\n\t};\r\n\t\r\n\tpublic void l_pressed_no() {\r\n\t\tif (!answer &amp;&amp; !clicked) {\r\n\t    \tclicked = true;\r\n\t\t\tleft_score += 1;\r\n\t\t\tl_score.setText(&quot;Left: &quot; + left_score);\r\n\t\t\tnewQuestion();\r\n\t\t\tclicked = false;\r\n\t\t}\r\n\t\telse if (!clicked){\r\n\t    \tclicked = true;\r\n\t\t\tleft_score -= 1;\r\n\t\t\tl_score.setText(&quot;Left: &quot; + left_score);\r\n\t\t\tnewQuestion();\r\n\t\t\tclicked = false;\r\n\t\t}\r\n\t};\r\n\t\r\n\r\n\tprivate void addKeyBindings() {\r\n\t\tAction r_pressed_yes = new AbstractAction() {\r\n\t\t    public void actionPerformed(ActionEvent e) {\r\n\t\t    \tr_pressed_yes();\r\n\t\t    }};\r\n\t\tAction r_pressed_no = new AbstractAction() {\r\n\t\t    public void actionPerformed(ActionEvent e) {\r\n\t\t    \tr_pressed_no();\r\n\t\t    }};\r\n\t\tAction l_pressed_yes = new AbstractAction() {\r\n\t\t    public void actionPerformed(ActionEvent e) {\r\n\t\t    \tl_pressed_yes();\r\n\t\t    }};\r\n\t\tAction l_pressed_no = new AbstractAction() {\r\n\t\t    public void actionPerformed(ActionEvent e) {\r\n\t\t    \tl_pressed_no();\r\n\t\t    }};\r\n\t\tr_score.getInputMap(JComponent.WHEN_IN_FOCUSED_WINDOW).put(KeyStroke.getKeyStroke(&quot;LEFT&quot;), &quot;r_pressed_yes&quot;);\r\n\t\tr_score.getActionMap().put(&quot;r_pressed_yes&quot;, r_pressed_yes);\r\n\t\tr_score.getInputMap(JComponent.WHEN_IN_FOCUSED_WINDOW).put(KeyStroke.getKeyStroke(&quot;RIGHT&quot;), &quot;r_pressed_no&quot;);\r\n\t\tr_score.getActionMap().put(&quot;r_pressed_no&quot;, r_pressed_no);\r\n\t\tr_score.getInputMap(JComponent.WHEN_IN_FOCUSED_WINDOW).put(KeyStroke.getKeyStroke(&quot;A&quot;), &quot;l_pressed_yes&quot;);\r\n\t\tr_score.getActionMap().put(&quot;l_pressed_yes&quot;, l_pressed_yes);\r\n\t\tr_score.getInputMap(JComponent.WHEN_IN_FOCUSED_WINDOW).put(KeyStroke.getKeyStroke(&quot;D&quot;), &quot;l_pressed_no&quot;);\r\n\t\tr_score.getActionMap().put(&quot;l_pressed_no&quot;, l_pressed_no);\r\n\t}\r\n}\r\n```","title":"How to act only on first KeyEvent","body":"<p>I'm working on an app, where I show a question and a person can answer by using the arrow keys for yes/no, which loads a new question and so on. This works well, but I'm trying to implement a multiplayer mode aswell, where another person can use the a and d keys, which is causing problems.</p>\n<p>Basically, if the two people answer very quickly one after another, the first input gets counted as the answer for the current question, which causes a new question to load and the second input gets counted as the answer for that new question, even though the person hadn't even seen that question when they answered.</p>\n<p>I've tried updating the question later, but it still always remembered the second KeyPress and processes them one after another.</p>\n<p>I've also tried working with boolean variables to indicate that a person has already pressed and that the other person's input shouldn't be counted, but it either didn't work as expected or created a deadlock.</p>\n<p>I think it's probably because of the way Java handles the KeyEvents that the code that handles the events is processed in parallel, so the boolean variables weren't set in time for it to block from processing the second KeyEvent aswell.</p>\n<p>My goal is that if two people answer while one question is showing, only the first person to answer can get the points for that (if both answered at exactly the same time, both would ideally get the points), then a new question is loaded and so on.</p>\n<p>Minimal reproducable example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Test extends JFrame{\n    int right_score;\n    int left_score;\n    JLabel r_score = new JLabel();\n    JLabel l_score = new JLabel();\n    boolean answer;\n    boolean clicked = false;\n    JLabel answer_label = new JLabel();\n\n    public static void main(String[] args) {new Test();}\n    \n    public Test() {\n        addKeyBindings();\n        r_score.setText(&quot;Right: 0&quot;);\n        l_score.setText(&quot;Left: 0&quot;);\n        answer_label.setText(&quot;&quot; + answer);\n        this.setLayout(new FlowLayout(FlowLayout.CENTER));\n        this.setMinimumSize(new Dimension(100, 100));\n        this.add(answer_label);\n        this.add(l_score);\n        this.add(r_score);\n        newQuestion();\n        this.setVisible(true);\n    }\n    \n    private void newQuestion() {\n        Random rand = new Random();\n        answer = rand.nextBoolean();\n        answer_label.setText(&quot;&quot; + answer);\n    }\n\n    public void r_pressed_yes() {\n        if (answer &amp;&amp; !clicked) {\n            clicked = true;\n            right_score += 1;\n            r_score.setText(&quot;Right: &quot; + right_score);\n            newQuestion();\n            clicked = false;\n        }\n        else if (!clicked){\n            clicked = true;\n            right_score -= 1;\n            r_score.setText(&quot;Right: &quot; + right_score);\n            newQuestion();\n            clicked = false;\n        }\n    };\n    \n    public void r_pressed_no() {\n        if (!answer &amp;&amp; !clicked) {\n            clicked = true;\n            right_score += 1;\n            r_score.setText(&quot;Right: &quot; + right_score);\n            newQuestion();\n            clicked = false;\n        }\n        else if (!clicked){\n            clicked = true;\n            right_score -= 1;\n            r_score.setText(&quot;Right: &quot; + right_score);\n            newQuestion();\n            clicked = false;\n        }\n    };\n    \n    public void l_pressed_yes() {\n        if (answer &amp;&amp; !clicked) {\n            clicked = true;\n            left_score += 1;\n            l_score.setText(&quot;Left: &quot; + left_score);\n            newQuestion();\n            clicked = false;\n        }\n        else if (!clicked){\n            clicked = true;\n            left_score -= 1;\n            l_score.setText(&quot;Left: &quot; + left_score);\n            newQuestion();\n            clicked = false;\n        }\n    };\n    \n    public void l_pressed_no() {\n        if (!answer &amp;&amp; !clicked) {\n            clicked = true;\n            left_score += 1;\n            l_score.setText(&quot;Left: &quot; + left_score);\n            newQuestion();\n            clicked = false;\n        }\n        else if (!clicked){\n            clicked = true;\n            left_score -= 1;\n            l_score.setText(&quot;Left: &quot; + left_score);\n            newQuestion();\n            clicked = false;\n        }\n    };\n    \n\n    private void addKeyBindings() {\n        Action r_pressed_yes = new AbstractAction() {\n            public void actionPerformed(ActionEvent e) {\n                r_pressed_yes();\n            }};\n        Action r_pressed_no = new AbstractAction() {\n            public void actionPerformed(ActionEvent e) {\n                r_pressed_no();\n            }};\n        Action l_pressed_yes = new AbstractAction() {\n            public void actionPerformed(ActionEvent e) {\n                l_pressed_yes();\n            }};\n        Action l_pressed_no = new AbstractAction() {\n            public void actionPerformed(ActionEvent e) {\n                l_pressed_no();\n            }};\n        r_score.getInputMap(JComponent.WHEN_IN_FOCUSED_WINDOW).put(KeyStroke.getKeyStroke(&quot;LEFT&quot;), &quot;r_pressed_yes&quot;);\n        r_score.getActionMap().put(&quot;r_pressed_yes&quot;, r_pressed_yes);\n        r_score.getInputMap(JComponent.WHEN_IN_FOCUSED_WINDOW).put(KeyStroke.getKeyStroke(&quot;RIGHT&quot;), &quot;r_pressed_no&quot;);\n        r_score.getActionMap().put(&quot;r_pressed_no&quot;, r_pressed_no);\n        r_score.getInputMap(JComponent.WHEN_IN_FOCUSED_WINDOW).put(KeyStroke.getKeyStroke(&quot;A&quot;), &quot;l_pressed_yes&quot;);\n        r_score.getActionMap().put(&quot;l_pressed_yes&quot;, l_pressed_yes);\n        r_score.getInputMap(JComponent.WHEN_IN_FOCUSED_WINDOW).put(KeyStroke.getKeyStroke(&quot;D&quot;), &quot;l_pressed_no&quot;);\n        r_score.getActionMap().put(&quot;l_pressed_no&quot;, l_pressed_no);\n    }\n}\n</code></pre>\n"},{"tags":["java","mysql","spring-boot","docker","docker-compose"],"comments":[{"owner":{"account_id":13863020,"reputation":137043,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1689502569,"post_id":76695951,"comment_id":135219970,"body_markdown":"The important thing in this output is that there is database output after the application tries to start up.  Initializing the database can take some time, and if you&#39;re seeing this symptom (just `docker-compose up -d` a second time with no changes should bring things up) it means you&#39;re not correctly waiting for the database.  See [Docker Compose wait for container X before starting Y](https://stackoverflow.com/questions/31746182/docker-compose-wait-for-container-x-before-starting-y) for some suggestions.","body":"The important thing in this output is that there is database output after the application tries to start up.  Initializing the database can take some time, and if you&#39;re seeing this symptom (just <code>docker-compose up -d</code> a second time with no changes should bring things up) it means you&#39;re not correctly waiting for the database.  See <a href=\"https://stackoverflow.com/questions/31746182/docker-compose-wait-for-container-x-before-starting-y\">Docker Compose wait for container X before starting Y</a> for some suggestions."}],"owner":{"account_id":28342004,"reputation":43,"user_id":21674853,"display_name":"Nithin_Kamineni"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689459413,"creation_date":1689459020,"question_id":76695951,"body_markdown":"I could connect to the mysql database from spring boot server first time. After I downed the container using &#39;docker-compose down -v&#39; command I can no lonager make a connection to the server of spring boot and mysql database in docker network after the first time(every time I change container name is works). I want to make a connection between spring boot server and mysql\r\n\r\ndocker-compose.yml:\r\n```\r\nversion: &quot;3.8&quot;\r\n\r\nservices:\r\n  mysql:\r\n    container_name: db12w\r\n    image: mysql:5.7\r\n    restart: always\r\n    environment:\r\n      - MYSQL_ROOT_PASSWORD=root\r\n      - MYSQL_DATABASE=reactlibrarydatabase\r\n      - MYSQL_PORT=3306\r\n    networks:\r\n      - shared-network\r\n    volumes:\r\n      - mysqlvolume:/var/lib/mysql\r\n      # - ./db/bookwise.sql:/docker-entrypoint-initdb.d/bookwise.sql\r\n\r\n  # mysql-workbench:\r\n  #   container_name: mysqlwbcontainer\r\n  #   image: linuxserver/mysql-workbench:8.0.33\r\n  #   restart: always\r\n  #   environment:\r\n  #     CUSTOM_USER: abc\r\n  #     PASSWORD: root\r\n  #     CUSTOM_PORT: 5050\r\n  #   ports:\r\n  #     - 5050:5050\r\n  #   networks:\r\n  #     - shared-network\r\n  #   depends_on:\r\n  #     - mysql\r\n  #   # volumes:\r\n  #   #   - mysql-workbench-volume:/var/lib/mysql\r\n  \r\n  # nginx:\r\n  #   image: nginx\r\n  #   # container_name: nginx_container\r\n  #   restart: always\r\n  #   volumes:\r\n  #     - ./default.conf:/etc/nginx/conf.d/default.conf\r\n  #     # - ./certs/localsslexample-key.pem:/etc/nginx/certs/devopsbyexample-key.pem\r\n  #     # - ./certs/localsslexample.pem:/etc/nginx/certs/devopsbyexample.pem\r\n  #   ports:\r\n  #     - 80:80\r\n  #     - 443:443\r\n  #   networks:\r\n  #     - shared-network\r\n  #   depends_on:\r\n  #     - server\r\n  #     - client\r\n\r\n  server:\r\n    container_name: bookwise_server\r\n    restart: unless-stopped\r\n    image: bookwise-server-image:1.0.0\r\n    build:\r\n      context: Backend\r\n      dockerfile: Dockerfile\r\n    environment:\r\n      - spring_datasource_driver-class-name=com.mysql.cj.jdbc.Driver\r\n      - spring_datasource_url=jdbc:mysql://db12w:3306/reactlibrarydatabase\r\n      - spring_datasource_username=root\r\n      - spring_datasource_password=root\r\n    ports:  #outside:inside(container) #8443\r\n      - 8443:8443\r\n    networks:\r\n      - shared-network\r\n    depends_on:\r\n      - mysql\r\n\r\n  client:\r\n    container_name: bookwise_client\r\n    restart: unless-stopped\r\n    image: bookwise-client-image:1.0.0\r\n    build:\r\n      context: Frontend\r\n      dockerfile: Dockerfile\r\n    ports:  #outside:inside(container)\r\n      - 3000:3000\r\n    # environment:\r\n      # - REACT_APP_API_URL=https://localhost/api\r\n    # volumes:\r\n    #   - ./certs/devopsbyexample-key.pem:/etc/nginx/certs/devopsbyexample-key.pem\r\n    #   - ./certs/devopsbyexample.pem:/etc/nginx/certs/devopsbyexample.pem\r\n    networks:\r\n      - shared-network\r\n    depends_on:\r\n      - server\r\nvolumes:\r\n  mysqlvolume:\r\n  # mysql-workbench-volume:\r\nnetworks:\r\n  shared-network:\r\n    driver: bridge\r\n```\r\n\r\nThis is the log in command prompt when I launch &#39;docker-compose up&#39; first time the code works fine but the second time it theowing the error. Both the output are in the below log one after the other\r\n```\r\nC:\\profitional\\react\\LibraryManagmentSystem&gt;docker-compose up\r\n[+] Running 3/3\r\n ✔ Container db12w            Recreated                                                                                                                                                                                                  0.1s \r\n ✔ Container bookwise_server  Recreated                                                                                                                                                                                                  0.2s \r\n ✔ Container bookwise_client  Recreated                                                                                                                                                                                                  0.1s \r\nAttaching to bookwise_client, bookwise_server, db12w\r\ndb12w            | 2023-07-15 22:10:37+00:00 [Note] [Entrypoint]: Entrypoint script for MySQL Server 5.7.42-1.el7 started.\r\ndb12w            | 2023-07-15 22:10:37+00:00 [Note] [Entrypoint]: Switching to dedicated user &#39;mysql&#39;\r\ndb12w            | 2023-07-15 22:10:37+00:00 [Note] [Entrypoint]: Entrypoint script for MySQL Server 5.7.42-1.el7 started.\r\ndb12w            | &#39;/var/lib/mysql/mysql.sock&#39; -&gt; &#39;/var/run/mysqld/mysqld.sock&#39;\r\ndb12w            | 2023-07-15T22:10:37.888464Z 0 [Warning] TIMESTAMP with implicit DEFAULT value is deprecated. Please use --explicit_defaults_for_timestamp server option (see documentation for more details).\r\ndb12w            | 2023-07-15T22:10:37.890408Z 0 [Note] mysqld (mysqld 5.7.42) starting as process 1 ...\r\ndb12w            | 2023-07-15T22:10:37.895488Z 0 [Note] InnoDB: PUNCH HOLE support available\r\ndb12w            | 2023-07-15T22:10:37.895550Z 0 [Note] InnoDB: Mutexes and rw_locks use GCC atomic builtins\r\ndb12w            | 2023-07-15T22:10:37.895559Z 0 [Note] InnoDB: Uses event mutexes\r\ndb12w            | 2023-07-15T22:10:37.895563Z 0 [Note] InnoDB: GCC builtin __atomic_thread_fence() is used for memory barrier\r\ndb12w            | 2023-07-15T22:10:37.895567Z 0 [Note] InnoDB: Compressed tables use zlib 1.2.13\r\ndb12w            | 2023-07-15T22:10:37.895571Z 0 [Note] InnoDB: Using Linux native AIO\r\ndb12w            | 2023-07-15T22:10:37.896119Z 0 [Note] InnoDB: Number of pools: 1\r\ndb12w            | 2023-07-15T22:10:37.896373Z 0 [Note] InnoDB: Using CPU crc32 instructions\r\ndb12w            | 2023-07-15T22:10:37.905985Z 0 [Note] InnoDB: Initializing buffer pool, total size = 128M, instances = 1, chunk size = 128M\r\ndb12w            | 2023-07-15T22:10:37.921187Z 0 [Note] InnoDB: Completed initialization of buffer pool\r\ndb12w            | 2023-07-15T22:10:37.925524Z 0 [Note] InnoDB: If the mysqld execution user is authorized, page cleaner thread priority can be changed. See the man page of setpriority().\r\ndb12w            | 2023-07-15T22:10:37.938253Z 0 [Note] InnoDB: Highest supported file format is Barracuda.\r\ndb12w            | 2023-07-15T22:10:37.940360Z 0 [Note] InnoDB: Log scan progressed past the checkpoint lsn 12218043\r\ndb12w            | 2023-07-15T22:10:37.940449Z 0 [Note] InnoDB: Doing recovery: scanned up to log sequence number 12218052\r\ndb12w            | 2023-07-15T22:10:37.940461Z 0 [Note] InnoDB: Database was not shutdown normally!\r\ndb12w            | 2023-07-15T22:10:37.940468Z 0 [Note] InnoDB: Starting crash recovery.\r\ndb12w            | 2023-07-15T22:10:38.052807Z 0 [Note] InnoDB: Removed temporary tablespace data file: &quot;ibtmp1&quot;\r\ndb12w            | 2023-07-15T22:10:38.052865Z 0 [Note] InnoDB: Creating shared tablespace for temporary tables\r\ndb12w            | 2023-07-15T22:10:38.052920Z 0 [Note] InnoDB: Setting file &#39;./ibtmp1&#39; size to 12 MB. Physically writing the file full; Please wait ...\r\ndb12w            | 2023-07-15T22:10:38.073676Z 0 [Note] InnoDB: File &#39;./ibtmp1&#39; size is now 12 MB.\r\ndb12w            | 2023-07-15T22:10:38.075104Z 0 [Note] InnoDB: 96 redo rollback segment(s) found. 96 redo rollback segment(s) are active.\r\ndb12w            | 2023-07-15T22:10:38.075168Z 0 [Note] InnoDB: 32 non-redo rollback segment(s) are active.\r\ndb12w            | 2023-07-15T22:10:38.077215Z 0 [Note] InnoDB: 5.7.42 started; log sequence number 12218052\r\ndb12w            | 2023-07-15T22:10:38.078418Z 0 [Note] InnoDB: Loading buffer pool(s) from /var/lib/mysql/ib_buffer_pool\r\ndb12w            | 2023-07-15T22:10:38.079016Z 0 [Note] Plugin &#39;FEDERATED&#39; is disabled.\r\ndb12w            | 2023-07-15T22:10:38.083454Z 0 [Note] InnoDB: Buffer pool(s) load completed at 230715 22:10:38\r\ndb12w            | 2023-07-15T22:10:38.089920Z 0 [Note] Found ca.pem, server-cert.pem and server-key.pem in data directory. Trying to enable SSL support using them.\r\ndb12w            | 2023-07-15T22:10:38.090087Z 0 [Note] Skipping generation of SSL certificates as certificate files are present in data directory.\r\ndb12w            | 2023-07-15T22:10:38.090134Z 0 [Warning] A deprecated TLS version TLSv1 is enabled. Please use TLSv1.2 or higher.\r\ndb12w            | 2023-07-15T22:10:38.090170Z 0 [Warning] A deprecated TLS version TLSv1.1 is enabled. Please use TLSv1.2 or higher.\r\ndb12w            | 2023-07-15T22:10:38.092800Z 0 [Warning] CA certificate ca.pem is self signed.\r\ndb12w            | 2023-07-15T22:10:38.092872Z 0 [Note] Skipping generation of RSA key pair as key files are present in data directory.\r\ndb12w            | 2023-07-15T22:10:38.093323Z 0 [Note] Server hostname (bind-address): &#39;*&#39;; port: 3306\r\ndb12w            | 2023-07-15T22:10:38.093378Z 0 [Note] IPv6 is available.\r\ndb12w            | 2023-07-15T22:10:38.093397Z 0 [Note]   - &#39;::&#39; resolves to &#39;::&#39;;\r\ndb12w            | 2023-07-15T22:10:38.093419Z 0 [Note] Server socket created on IP: &#39;::&#39;.\r\ndb12w            | 2023-07-15T22:10:38.098890Z 0 [Warning] Insecure configuration for --pid-file: Location &#39;/var/run/mysqld&#39; in the path is accessible to all OS users. Consider choosing a different directory.\r\ndb12w            | 2023-07-15T22:10:38.113072Z 0 [Note] Event Scheduler: Loaded 0 events\r\ndb12w            | 2023-07-15T22:10:38.113560Z 0 [Note] mysqld: ready for connections.\r\ndb12w            | Version: &#39;5.7.42&#39;  socket: &#39;/var/run/mysqld/mysqld.sock&#39;  port: 3306  MySQL Community Server (GPL)\r\nbookwise_client  | /docker-entrypoint.sh: /docker-entrypoint.d/ is not empty, will attempt to perform configuration\r\nbookwise_client  | /docker-entrypoint.sh: Looking for shell scripts in /docker-entrypoint.d/\r\nbookwise_client  | /docker-entrypoint.sh: Launching /docker-entrypoint.d/10-listen-on-ipv6-by-default.sh\r\nbookwise_client  | 10-listen-on-ipv6-by-default.sh: info: Getting the checksum of /etc/nginx/conf.d/default.conf\r\nbookwise_client  | 10-listen-on-ipv6-by-default.sh: info: Enabled listen on IPv6 in /etc/nginx/conf.d/default.conf\r\nbookwise_client  | /docker-entrypoint.sh: Sourcing /docker-entrypoint.d/15-local-resolvers.envsh\r\nbookwise_client  | /docker-entrypoint.sh: Launching /docker-entrypoint.d/20-envsubst-on-templates.sh\r\nbookwise_client  | /docker-entrypoint.sh: Launching /docker-entrypoint.d/30-tune-worker-processes.sh\r\nbookwise_client  | /docker-entrypoint.sh: Configuration complete; ready for start up\r\nbookwise_server  | \r\nbookwise_server  |   .   ____          _            __ _ _\r\nbookwise_server  |  /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\nbookwise_server  | ( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\nbookwise_server  |  \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\nbookwise_server  |   &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\nbookwise_server  |  =========|_|==============|___/=/_/_/_/\r\nbookwise_server  |  :: Spring Boot ::               (v2.7.11)\r\nbookwise_server  |\r\nbookwise_server  | 2023-07-15 22:10:39.204  INFO 1 --- [           main] c.l.l.s.SpringBootLibraryApplication     : Starting SpringBootLibraryApplication v0.0.1-SNAPSHOT using Java 17.0.2 on bcfb65cd1390 with PID 1 (/app/app.jar started by root in /app)\r\nbookwise_server  | 2023-07-15 22:10:39.208  INFO 1 --- [           main] c.l.l.s.SpringBootLibraryApplication     : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\nbookwise_server  | 2023-07-15 22:10:40.252  INFO 1 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\nbookwise_server  | 2023-07-15 22:10:40.347  INFO 1 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 81 ms. Found 6 JPA repository interfaces.\r\nbookwise_server  | 2023-07-15 22:10:41.366  INFO 1 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8443 (https)\r\nbookwise_server  | 2023-07-15 22:10:41.382  INFO 1 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\nbookwise_server  | 2023-07-15 22:10:41.383  INFO 1 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.74]\r\nbookwise_server  | 2023-07-15 22:10:41.470  INFO 1 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\nbookwise_server  | 2023-07-15 22:10:41.470  INFO 1 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2162 ms\r\nbookwise_server  | 2023-07-15 22:10:41.834  INFO 1 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\nbookwise_server  | 2023-07-15 22:10:42.306  INFO 1 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\r\nbookwise_server  | 2023-07-15 22:10:42.367  INFO 1 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\r\nbookwise_server  | 2023-07-15 22:10:42.434  INFO 1 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.15.Final\r\nbookwise_server  | 2023-07-15 22:10:42.663  INFO 1 --- [           main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\r\nbookwise_server  | 2023-07-15 22:10:42.808  INFO 1 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect\r\nbookwise_server  | 2023-07-15 22:10:43.506  INFO 1 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\nbookwise_server  | 2023-07-15 22:10:43.519  INFO 1 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\nbookwise_server  | 2023-07-15 22:10:45.701  WARN 1 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\r\nbookwise_server  | 2023-07-15 22:10:46.425  INFO 1 --- [           main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1ac6dd3d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@562919fe, org.springframework.security.web.context.SecurityContextPersistenceFilter@36f7d7b, org.springframework.security.web.header.HeaderWriterFilter@1e79d43, org.springframework.web.filter.CorsFilter@794f11cd, org.springframework.security.web.authentication.logout.LogoutFilter@2007435e, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@64ae105d, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@53aa2fc9, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@7c281eb8, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@715f45c6, org.springframework.security.oauth2.server.resource.web.BearerTokenAuthenticationFilter@67b355c8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6361b799, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1b9d9a2b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5d5c41e5, org.springframework.security.web.session.SessionManagementFilter@4c0e426a, org.springframework.security.web.access.ExceptionTranslationFilter@467233e4, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@294aba23]\r\nbookwise_server  | 2023-07-15 22:10:47.408  INFO 1 --- [           main] o.a.t.util.net.NioEndpoint.certificate   : Connector [https-jsse-nio-8443], TLS virtual host [_default_], certificate type [UNDEFINED] configured from [jar:file:/app/app.jar!/BOOT-INF/classes!/luv2code-keystore.p12] using alias [luv2code] and with trust store [null]\r\nbookwise_server  | 2023-07-15 22:10:47.431  INFO 1 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8443 (https) with context path &#39;&#39;\r\nbookwise_server  | 2023-07-15 22:10:47.446  INFO 1 --- [           main] c.l.l.s.SpringBootLibraryApplication     : Started SpringBootLibraryApplication in 8.803 seconds (JVM running for 9.56)\r\nGracefully stopping... (press Ctrl+C again to force)\r\nAborting on container exit...\r\n[+] Running 1/2\r\n ✔ Container bookwise_client  Stopped                                                                                                                                                                                                    0.5s \r\n - Container bookwise_server  Stopping                                                                                                                                                                                                   0.2s \r\n[+] Running 3/3\r\n ✔ Container bookwise_client  Stopped                                                                                                                                                                                                    0.5s \r\n ✔ Container bookwise_server  Stopped                                                                                                                                                                                                    0.6s \r\n ✔ Container db12w            Stopped                                                                                                                                                                                                    0.1s \r\ncanceled\r\n\r\nC:\\profitional\\react\\LibraryManagmentSystem&gt;docker-compose down -v\r\n[+] Running 5/5\r\n ✔ Container bookwise_client                      Removed                                                                                                                                                                                0.0s \r\n ✔ Container bookwise_server                      Removed                                                                                                                                                                                0.0s \r\n ✔ Container db12w                                Removed                                                                                                                                                                                0.0s \r\n ✔ Volume librarymanagmentsystem_mysqlvolume      Removed                                                                                                                                                                                0.1s \r\n ✔ Network librarymanagmentsystem_shared-network  Removed                                                                                                                                                                                0.3s \r\n\r\nC:\\profitional\\react\\LibraryManagmentSystem&gt;docker-compose up      \r\n[+] Running 5/4\r\n ✔ Network librarymanagmentsystem_shared-network  Created                                                                                                                                                                                0.0s \r\n ✔ Volume &quot;librarymanagmentsystem_mysqlvolume&quot;    Created                                                                                                                                                                                0.0s \r\n ✔ Container db12w                                Created                                                                                                                                                                                0.1s \r\n ✔ Container bookwise_server                      Created                                                                                                                                                                                0.1s \r\n ✔ Container bookwise_client                      Created                                                                                                                                                                                0.1s \r\nAttaching to bookwise_client, bookwise_server, db12w\r\ndb12w            | 2023-07-15 22:11:12+00:00 [Note] [Entrypoint]: Entrypoint script for MySQL Server 5.7.42-1.el7 started.\r\ndb12w            | 2023-07-15 22:11:12+00:00 [Note] [Entrypoint]: Switching to dedicated user &#39;mysql&#39;\r\ndb12w            | 2023-07-15 22:11:12+00:00 [Note] [Entrypoint]: Entrypoint script for MySQL Server 5.7.42-1.el7 started.\r\ndb12w            | 2023-07-15 22:11:12+00:00 [Note] [Entrypoint]: Initializing database files\r\ndb12w            | 2023-07-15T22:11:12.657616Z 0 [Warning] TIMESTAMP with implicit DEFAULT value is deprecated. Please use --explicit_defaults_for_timestamp server option (see documentation for more details).\r\ndb12w            | 2023-07-15T22:11:12.816916Z 0 [Warning] InnoDB: New log files created, LSN=45790\r\ndb12w            | 2023-07-15T22:11:12.854744Z 0 [Warning] InnoDB: Creating foreign key constraint system tables.\r\ndb12w            | 2023-07-15T22:11:12.915335Z 0 [Warning] No existing UUID has been found, so we assume that this is the first time that this server has been started. Generating a new UUID: 828aaacf-235c-11ee-ae02-0242ac1b0002.\r\ndb12w            | 2023-07-15T22:11:12.918775Z 0 [Warning] Gtid table is not ready to be used. Table &#39;mysql.gtid_executed&#39; cannot be opened.\r\ndb12w            | 2023-07-15T22:11:13.273991Z 0 [Warning] A deprecated TLS version TLSv1 is enabled. Please use TLSv1.2 or higher.\r\ndb12w            | 2023-07-15T22:11:13.274046Z 0 [Warning] A deprecated TLS version TLSv1.1 is enabled. Please use TLSv1.2 or higher.\r\ndb12w            | 2023-07-15T22:11:13.274805Z 0 [Warning] CA certificate ca.pem is self signed.\r\ndb12w            | 2023-07-15T22:11:13.310035Z 1 [Warning] root@localhost is created with an empty password ! Please consider switching off the --initialize-insecure option.\r\nbookwise_client  | /docker-entrypoint.sh: /docker-entrypoint.d/ is not empty, will attempt to perform configuration\r\nbookwise_client  | /docker-entrypoint.sh: Looking for shell scripts in /docker-entrypoint.d/\r\nbookwise_client  | /docker-entrypoint.sh: Launching /docker-entrypoint.d/10-listen-on-ipv6-by-default.sh\r\nbookwise_client  | 10-listen-on-ipv6-by-default.sh: info: Getting the checksum of /etc/nginx/conf.d/default.conf\r\nbookwise_client  | 10-listen-on-ipv6-by-default.sh: info: Enabled listen on IPv6 in /etc/nginx/conf.d/default.conf\r\nbookwise_client  | /docker-entrypoint.sh: Sourcing /docker-entrypoint.d/15-local-resolvers.envsh\r\nbookwise_client  | /docker-entrypoint.sh: Launching /docker-entrypoint.d/20-envsubst-on-templates.sh\r\nbookwise_client  | /docker-entrypoint.sh: Launching /docker-entrypoint.d/30-tune-worker-processes.sh\r\nbookwise_client  | /docker-entrypoint.sh: Configuration complete; ready for start up\r\nbookwise_server  | \r\nbookwise_server  |   .   ____          _            __ _ _\r\nbookwise_server  |  /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\nbookwise_server  | ( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\nbookwise_server  |  \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\nbookwise_server  |   &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\nbookwise_server  |  =========|_|==============|___/=/_/_/_/\r\nbookwise_server  |  :: Spring Boot ::               (v2.7.11)\r\nbookwise_server  |\r\nbookwise_server  | 2023-07-15 22:11:14.291  INFO 1 --- [           main] c.l.l.s.SpringBootLibraryApplication     : Starting SpringBootLibraryApplication v0.0.1-SNAPSHOT using Java 17.0.2 on df9c0c2f70c9 with PID 1 (/app/app.jar started by root in /app)\r\nbookwise_server  | 2023-07-15 22:11:14.295  INFO 1 --- [           main] c.l.l.s.SpringBootLibraryApplication     : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\nbookwise_server  | 2023-07-15 22:11:15.317  INFO 1 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\nbookwise_server  | 2023-07-15 22:11:15.403  INFO 1 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 75 ms. Found 6 JPA repository interfaces.\r\nbookwise_server  | 2023-07-15 22:11:16.401  INFO 1 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8443 (https)\r\nbookwise_server  | 2023-07-15 22:11:16.414  INFO 1 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\nbookwise_server  | 2023-07-15 22:11:16.415  INFO 1 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.74]\r\nbookwise_server  | 2023-07-15 22:11:16.528  INFO 1 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\nbookwise_server  | 2023-07-15 22:11:16.528  INFO 1 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2126 ms\r\ndb12w            | 2023-07-15 22:11:16+00:00 [Note] [Entrypoint]: Database files initialized\r\ndb12w            | 2023-07-15 22:11:16+00:00 [Note] [Entrypoint]: Starting temporary server\r\ndb12w            | 2023-07-15 22:11:16+00:00 [Note] [Entrypoint]: Waiting for server startup\r\ndb12w            | 2023-07-15T22:11:16.867643Z 0 [Warning] TIMESTAMP with implicit DEFAULT value is deprecated. Please use --explicit_defaults_for_timestamp server option (see documentation for more details).\r\ndb12w            | 2023-07-15T22:11:16.870005Z 0 [Note] mysqld (mysqld 5.7.42) starting as process 125 ...\r\ndb12w            | 2023-07-15T22:11:16.875441Z 0 [Note] InnoDB: PUNCH HOLE support available\r\ndb12w            | 2023-07-15T22:11:16.875526Z 0 [Note] InnoDB: Mutexes and rw_locks use GCC atomic builtins\r\ndb12w            | 2023-07-15T22:11:16.875536Z 0 [Note] InnoDB: Uses event mutexes\r\ndb12w            | 2023-07-15T22:11:16.875541Z 0 [Note] InnoDB: GCC builtin __atomic_thread_fence() is used for memory barrier\r\ndb12w            | 2023-07-15T22:11:16.875545Z 0 [Note] InnoDB: Compressed tables use zlib 1.2.13\r\ndb12w            | 2023-07-15T22:11:16.875549Z 0 [Note] InnoDB: Using Linux native AIO\r\ndb12w            | 2023-07-15T22:11:16.876002Z 0 [Note] InnoDB: Number of pools: 1\r\ndb12w            | 2023-07-15T22:11:16.876222Z 0 [Note] InnoDB: Using CPU crc32 instructions\r\ndb12w            | 2023-07-15T22:11:16.879169Z 0 [Note] InnoDB: Initializing buffer pool, total size = 128M, instances = 1, chunk size = 128M\r\ndb12w            | 2023-07-15T22:11:16.900360Z 0 [Note] InnoDB: Completed initialization of buffer pool\r\ndb12w            | 2023-07-15T22:11:16.904268Z 0 [Note] InnoDB: If the mysqld execution user is authorized, page cleaner thread priority can be changed. See the man page of setpriority().\r\ndb12w            | 2023-07-15T22:11:16.917087Z 0 [Note] InnoDB: Highest supported file format is Barracuda.\r\ndb12w            | 2023-07-15T22:11:16.939074Z 0 [Note] InnoDB: Creating shared tablespace for temporary tables\r\ndb12w            | 2023-07-15T22:11:16.939246Z 0 [Note] InnoDB: Setting file &#39;./ibtmp1&#39; size to 12 MB. Physically writing the file full; Please wait ...\r\nbookwise_server  | 2023-07-15 22:11:16.958  INFO 1 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\ndb12w            | 2023-07-15T22:11:16.966648Z 0 [Note] InnoDB: File &#39;./ibtmp1&#39; size is now 12 MB.\r\ndb12w            | 2023-07-15T22:11:16.968359Z 0 [Note] InnoDB: 96 redo rollback segment(s) found. 96 redo rollback segment(s) are active.\r\ndb12w            | 2023-07-15T22:11:16.968435Z 0 [Note] InnoDB: 32 non-redo rollback segment(s) are active.\r\n```\r\n","title":"Docker spring boot and MySQL connection more than once","body":"<p>I could connect to the mysql database from spring boot server first time. After I downed the container using 'docker-compose down -v' command I can no lonager make a connection to the server of spring boot and mysql database in docker network after the first time(every time I change container name is works). I want to make a connection between spring boot server and mysql</p>\n<p>docker-compose.yml:</p>\n<pre><code>version: &quot;3.8&quot;\n\nservices:\n  mysql:\n    container_name: db12w\n    image: mysql:5.7\n    restart: always\n    environment:\n      - MYSQL_ROOT_PASSWORD=root\n      - MYSQL_DATABASE=reactlibrarydatabase\n      - MYSQL_PORT=3306\n    networks:\n      - shared-network\n    volumes:\n      - mysqlvolume:/var/lib/mysql\n      # - ./db/bookwise.sql:/docker-entrypoint-initdb.d/bookwise.sql\n\n  # mysql-workbench:\n  #   container_name: mysqlwbcontainer\n  #   image: linuxserver/mysql-workbench:8.0.33\n  #   restart: always\n  #   environment:\n  #     CUSTOM_USER: abc\n  #     PASSWORD: root\n  #     CUSTOM_PORT: 5050\n  #   ports:\n  #     - 5050:5050\n  #   networks:\n  #     - shared-network\n  #   depends_on:\n  #     - mysql\n  #   # volumes:\n  #   #   - mysql-workbench-volume:/var/lib/mysql\n  \n  # nginx:\n  #   image: nginx\n  #   # container_name: nginx_container\n  #   restart: always\n  #   volumes:\n  #     - ./default.conf:/etc/nginx/conf.d/default.conf\n  #     # - ./certs/localsslexample-key.pem:/etc/nginx/certs/devopsbyexample-key.pem\n  #     # - ./certs/localsslexample.pem:/etc/nginx/certs/devopsbyexample.pem\n  #   ports:\n  #     - 80:80\n  #     - 443:443\n  #   networks:\n  #     - shared-network\n  #   depends_on:\n  #     - server\n  #     - client\n\n  server:\n    container_name: bookwise_server\n    restart: unless-stopped\n    image: bookwise-server-image:1.0.0\n    build:\n      context: Backend\n      dockerfile: Dockerfile\n    environment:\n      - spring_datasource_driver-class-name=com.mysql.cj.jdbc.Driver\n      - spring_datasource_url=jdbc:mysql://db12w:3306/reactlibrarydatabase\n      - spring_datasource_username=root\n      - spring_datasource_password=root\n    ports:  #outside:inside(container) #8443\n      - 8443:8443\n    networks:\n      - shared-network\n    depends_on:\n      - mysql\n\n  client:\n    container_name: bookwise_client\n    restart: unless-stopped\n    image: bookwise-client-image:1.0.0\n    build:\n      context: Frontend\n      dockerfile: Dockerfile\n    ports:  #outside:inside(container)\n      - 3000:3000\n    # environment:\n      # - REACT_APP_API_URL=https://localhost/api\n    # volumes:\n    #   - ./certs/devopsbyexample-key.pem:/etc/nginx/certs/devopsbyexample-key.pem\n    #   - ./certs/devopsbyexample.pem:/etc/nginx/certs/devopsbyexample.pem\n    networks:\n      - shared-network\n    depends_on:\n      - server\nvolumes:\n  mysqlvolume:\n  # mysql-workbench-volume:\nnetworks:\n  shared-network:\n    driver: bridge\n</code></pre>\n<p>This is the log in command prompt when I launch 'docker-compose up' first time the code works fine but the second time it theowing the error. Both the output are in the below log one after the other</p>\n<pre><code>C:\\profitional\\react\\LibraryManagmentSystem&gt;docker-compose up\n[+] Running 3/3\n ✔ Container db12w            Recreated                                                                                                                                                                                                  0.1s \n ✔ Container bookwise_server  Recreated                                                                                                                                                                                                  0.2s \n ✔ Container bookwise_client  Recreated                                                                                                                                                                                                  0.1s \nAttaching to bookwise_client, bookwise_server, db12w\ndb12w            | 2023-07-15 22:10:37+00:00 [Note] [Entrypoint]: Entrypoint script for MySQL Server 5.7.42-1.el7 started.\ndb12w            | 2023-07-15 22:10:37+00:00 [Note] [Entrypoint]: Switching to dedicated user 'mysql'\ndb12w            | 2023-07-15 22:10:37+00:00 [Note] [Entrypoint]: Entrypoint script for MySQL Server 5.7.42-1.el7 started.\ndb12w            | '/var/lib/mysql/mysql.sock' -&gt; '/var/run/mysqld/mysqld.sock'\ndb12w            | 2023-07-15T22:10:37.888464Z 0 [Warning] TIMESTAMP with implicit DEFAULT value is deprecated. Please use --explicit_defaults_for_timestamp server option (see documentation for more details).\ndb12w            | 2023-07-15T22:10:37.890408Z 0 [Note] mysqld (mysqld 5.7.42) starting as process 1 ...\ndb12w            | 2023-07-15T22:10:37.895488Z 0 [Note] InnoDB: PUNCH HOLE support available\ndb12w            | 2023-07-15T22:10:37.895550Z 0 [Note] InnoDB: Mutexes and rw_locks use GCC atomic builtins\ndb12w            | 2023-07-15T22:10:37.895559Z 0 [Note] InnoDB: Uses event mutexes\ndb12w            | 2023-07-15T22:10:37.895563Z 0 [Note] InnoDB: GCC builtin __atomic_thread_fence() is used for memory barrier\ndb12w            | 2023-07-15T22:10:37.895567Z 0 [Note] InnoDB: Compressed tables use zlib 1.2.13\ndb12w            | 2023-07-15T22:10:37.895571Z 0 [Note] InnoDB: Using Linux native AIO\ndb12w            | 2023-07-15T22:10:37.896119Z 0 [Note] InnoDB: Number of pools: 1\ndb12w            | 2023-07-15T22:10:37.896373Z 0 [Note] InnoDB: Using CPU crc32 instructions\ndb12w            | 2023-07-15T22:10:37.905985Z 0 [Note] InnoDB: Initializing buffer pool, total size = 128M, instances = 1, chunk size = 128M\ndb12w            | 2023-07-15T22:10:37.921187Z 0 [Note] InnoDB: Completed initialization of buffer pool\ndb12w            | 2023-07-15T22:10:37.925524Z 0 [Note] InnoDB: If the mysqld execution user is authorized, page cleaner thread priority can be changed. See the man page of setpriority().\ndb12w            | 2023-07-15T22:10:37.938253Z 0 [Note] InnoDB: Highest supported file format is Barracuda.\ndb12w            | 2023-07-15T22:10:37.940360Z 0 [Note] InnoDB: Log scan progressed past the checkpoint lsn 12218043\ndb12w            | 2023-07-15T22:10:37.940449Z 0 [Note] InnoDB: Doing recovery: scanned up to log sequence number 12218052\ndb12w            | 2023-07-15T22:10:37.940461Z 0 [Note] InnoDB: Database was not shutdown normally!\ndb12w            | 2023-07-15T22:10:37.940468Z 0 [Note] InnoDB: Starting crash recovery.\ndb12w            | 2023-07-15T22:10:38.052807Z 0 [Note] InnoDB: Removed temporary tablespace data file: &quot;ibtmp1&quot;\ndb12w            | 2023-07-15T22:10:38.052865Z 0 [Note] InnoDB: Creating shared tablespace for temporary tables\ndb12w            | 2023-07-15T22:10:38.052920Z 0 [Note] InnoDB: Setting file './ibtmp1' size to 12 MB. Physically writing the file full; Please wait ...\ndb12w            | 2023-07-15T22:10:38.073676Z 0 [Note] InnoDB: File './ibtmp1' size is now 12 MB.\ndb12w            | 2023-07-15T22:10:38.075104Z 0 [Note] InnoDB: 96 redo rollback segment(s) found. 96 redo rollback segment(s) are active.\ndb12w            | 2023-07-15T22:10:38.075168Z 0 [Note] InnoDB: 32 non-redo rollback segment(s) are active.\ndb12w            | 2023-07-15T22:10:38.077215Z 0 [Note] InnoDB: 5.7.42 started; log sequence number 12218052\ndb12w            | 2023-07-15T22:10:38.078418Z 0 [Note] InnoDB: Loading buffer pool(s) from /var/lib/mysql/ib_buffer_pool\ndb12w            | 2023-07-15T22:10:38.079016Z 0 [Note] Plugin 'FEDERATED' is disabled.\ndb12w            | 2023-07-15T22:10:38.083454Z 0 [Note] InnoDB: Buffer pool(s) load completed at 230715 22:10:38\ndb12w            | 2023-07-15T22:10:38.089920Z 0 [Note] Found ca.pem, server-cert.pem and server-key.pem in data directory. Trying to enable SSL support using them.\ndb12w            | 2023-07-15T22:10:38.090087Z 0 [Note] Skipping generation of SSL certificates as certificate files are present in data directory.\ndb12w            | 2023-07-15T22:10:38.090134Z 0 [Warning] A deprecated TLS version TLSv1 is enabled. Please use TLSv1.2 or higher.\ndb12w            | 2023-07-15T22:10:38.090170Z 0 [Warning] A deprecated TLS version TLSv1.1 is enabled. Please use TLSv1.2 or higher.\ndb12w            | 2023-07-15T22:10:38.092800Z 0 [Warning] CA certificate ca.pem is self signed.\ndb12w            | 2023-07-15T22:10:38.092872Z 0 [Note] Skipping generation of RSA key pair as key files are present in data directory.\ndb12w            | 2023-07-15T22:10:38.093323Z 0 [Note] Server hostname (bind-address): '*'; port: 3306\ndb12w            | 2023-07-15T22:10:38.093378Z 0 [Note] IPv6 is available.\ndb12w            | 2023-07-15T22:10:38.093397Z 0 [Note]   - '::' resolves to '::';\ndb12w            | 2023-07-15T22:10:38.093419Z 0 [Note] Server socket created on IP: '::'.\ndb12w            | 2023-07-15T22:10:38.098890Z 0 [Warning] Insecure configuration for --pid-file: Location '/var/run/mysqld' in the path is accessible to all OS users. Consider choosing a different directory.\ndb12w            | 2023-07-15T22:10:38.113072Z 0 [Note] Event Scheduler: Loaded 0 events\ndb12w            | 2023-07-15T22:10:38.113560Z 0 [Note] mysqld: ready for connections.\ndb12w            | Version: '5.7.42'  socket: '/var/run/mysqld/mysqld.sock'  port: 3306  MySQL Community Server (GPL)\nbookwise_client  | /docker-entrypoint.sh: /docker-entrypoint.d/ is not empty, will attempt to perform configuration\nbookwise_client  | /docker-entrypoint.sh: Looking for shell scripts in /docker-entrypoint.d/\nbookwise_client  | /docker-entrypoint.sh: Launching /docker-entrypoint.d/10-listen-on-ipv6-by-default.sh\nbookwise_client  | 10-listen-on-ipv6-by-default.sh: info: Getting the checksum of /etc/nginx/conf.d/default.conf\nbookwise_client  | 10-listen-on-ipv6-by-default.sh: info: Enabled listen on IPv6 in /etc/nginx/conf.d/default.conf\nbookwise_client  | /docker-entrypoint.sh: Sourcing /docker-entrypoint.d/15-local-resolvers.envsh\nbookwise_client  | /docker-entrypoint.sh: Launching /docker-entrypoint.d/20-envsubst-on-templates.sh\nbookwise_client  | /docker-entrypoint.sh: Launching /docker-entrypoint.d/30-tune-worker-processes.sh\nbookwise_client  | /docker-entrypoint.sh: Configuration complete; ready for start up\nbookwise_server  | \nbookwise_server  |   .   ____          _            __ _ _\nbookwise_server  |  /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\nbookwise_server  | ( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\nbookwise_server  |  \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\nbookwise_server  |   '  |____| .__|_| |_|_| |_\\__, | / / / /\nbookwise_server  |  =========|_|==============|___/=/_/_/_/\nbookwise_server  |  :: Spring Boot ::               (v2.7.11)\nbookwise_server  |\nbookwise_server  | 2023-07-15 22:10:39.204  INFO 1 --- [           main] c.l.l.s.SpringBootLibraryApplication     : Starting SpringBootLibraryApplication v0.0.1-SNAPSHOT using Java 17.0.2 on bcfb65cd1390 with PID 1 (/app/app.jar started by root in /app)\nbookwise_server  | 2023-07-15 22:10:39.208  INFO 1 --- [           main] c.l.l.s.SpringBootLibraryApplication     : No active profile set, falling back to 1 default profile: &quot;default&quot;\nbookwise_server  | 2023-07-15 22:10:40.252  INFO 1 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\nbookwise_server  | 2023-07-15 22:10:40.347  INFO 1 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 81 ms. Found 6 JPA repository interfaces.\nbookwise_server  | 2023-07-15 22:10:41.366  INFO 1 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8443 (https)\nbookwise_server  | 2023-07-15 22:10:41.382  INFO 1 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\nbookwise_server  | 2023-07-15 22:10:41.383  INFO 1 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.74]\nbookwise_server  | 2023-07-15 22:10:41.470  INFO 1 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\nbookwise_server  | 2023-07-15 22:10:41.470  INFO 1 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2162 ms\nbookwise_server  | 2023-07-15 22:10:41.834  INFO 1 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\nbookwise_server  | 2023-07-15 22:10:42.306  INFO 1 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\nbookwise_server  | 2023-07-15 22:10:42.367  INFO 1 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\nbookwise_server  | 2023-07-15 22:10:42.434  INFO 1 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.15.Final\nbookwise_server  | 2023-07-15 22:10:42.663  INFO 1 --- [           main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\nbookwise_server  | 2023-07-15 22:10:42.808  INFO 1 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect\nbookwise_server  | 2023-07-15 22:10:43.506  INFO 1 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\nbookwise_server  | 2023-07-15 22:10:43.519  INFO 1 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'\nbookwise_server  | 2023-07-15 22:10:45.701  WARN 1 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\nbookwise_server  | 2023-07-15 22:10:46.425  INFO 1 --- [           main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1ac6dd3d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@562919fe, org.springframework.security.web.context.SecurityContextPersistenceFilter@36f7d7b, org.springframework.security.web.header.HeaderWriterFilter@1e79d43, org.springframework.web.filter.CorsFilter@794f11cd, org.springframework.security.web.authentication.logout.LogoutFilter@2007435e, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@64ae105d, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@53aa2fc9, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@7c281eb8, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@715f45c6, org.springframework.security.oauth2.server.resource.web.BearerTokenAuthenticationFilter@67b355c8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6361b799, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1b9d9a2b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5d5c41e5, org.springframework.security.web.session.SessionManagementFilter@4c0e426a, org.springframework.security.web.access.ExceptionTranslationFilter@467233e4, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@294aba23]\nbookwise_server  | 2023-07-15 22:10:47.408  INFO 1 --- [           main] o.a.t.util.net.NioEndpoint.certificate   : Connector [https-jsse-nio-8443], TLS virtual host [_default_], certificate type [UNDEFINED] configured from [jar:file:/app/app.jar!/BOOT-INF/classes!/luv2code-keystore.p12] using alias [luv2code] and with trust store [null]\nbookwise_server  | 2023-07-15 22:10:47.431  INFO 1 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8443 (https) with context path ''\nbookwise_server  | 2023-07-15 22:10:47.446  INFO 1 --- [           main] c.l.l.s.SpringBootLibraryApplication     : Started SpringBootLibraryApplication in 8.803 seconds (JVM running for 9.56)\nGracefully stopping... (press Ctrl+C again to force)\nAborting on container exit...\n[+] Running 1/2\n ✔ Container bookwise_client  Stopped                                                                                                                                                                                                    0.5s \n - Container bookwise_server  Stopping                                                                                                                                                                                                   0.2s \n[+] Running 3/3\n ✔ Container bookwise_client  Stopped                                                                                                                                                                                                    0.5s \n ✔ Container bookwise_server  Stopped                                                                                                                                                                                                    0.6s \n ✔ Container db12w            Stopped                                                                                                                                                                                                    0.1s \ncanceled\n\nC:\\profitional\\react\\LibraryManagmentSystem&gt;docker-compose down -v\n[+] Running 5/5\n ✔ Container bookwise_client                      Removed                                                                                                                                                                                0.0s \n ✔ Container bookwise_server                      Removed                                                                                                                                                                                0.0s \n ✔ Container db12w                                Removed                                                                                                                                                                                0.0s \n ✔ Volume librarymanagmentsystem_mysqlvolume      Removed                                                                                                                                                                                0.1s \n ✔ Network librarymanagmentsystem_shared-network  Removed                                                                                                                                                                                0.3s \n\nC:\\profitional\\react\\LibraryManagmentSystem&gt;docker-compose up      \n[+] Running 5/4\n ✔ Network librarymanagmentsystem_shared-network  Created                                                                                                                                                                                0.0s \n ✔ Volume &quot;librarymanagmentsystem_mysqlvolume&quot;    Created                                                                                                                                                                                0.0s \n ✔ Container db12w                                Created                                                                                                                                                                                0.1s \n ✔ Container bookwise_server                      Created                                                                                                                                                                                0.1s \n ✔ Container bookwise_client                      Created                                                                                                                                                                                0.1s \nAttaching to bookwise_client, bookwise_server, db12w\ndb12w            | 2023-07-15 22:11:12+00:00 [Note] [Entrypoint]: Entrypoint script for MySQL Server 5.7.42-1.el7 started.\ndb12w            | 2023-07-15 22:11:12+00:00 [Note] [Entrypoint]: Switching to dedicated user 'mysql'\ndb12w            | 2023-07-15 22:11:12+00:00 [Note] [Entrypoint]: Entrypoint script for MySQL Server 5.7.42-1.el7 started.\ndb12w            | 2023-07-15 22:11:12+00:00 [Note] [Entrypoint]: Initializing database files\ndb12w            | 2023-07-15T22:11:12.657616Z 0 [Warning] TIMESTAMP with implicit DEFAULT value is deprecated. Please use --explicit_defaults_for_timestamp server option (see documentation for more details).\ndb12w            | 2023-07-15T22:11:12.816916Z 0 [Warning] InnoDB: New log files created, LSN=45790\ndb12w            | 2023-07-15T22:11:12.854744Z 0 [Warning] InnoDB: Creating foreign key constraint system tables.\ndb12w            | 2023-07-15T22:11:12.915335Z 0 [Warning] No existing UUID has been found, so we assume that this is the first time that this server has been started. Generating a new UUID: 828aaacf-235c-11ee-ae02-0242ac1b0002.\ndb12w            | 2023-07-15T22:11:12.918775Z 0 [Warning] Gtid table is not ready to be used. Table 'mysql.gtid_executed' cannot be opened.\ndb12w            | 2023-07-15T22:11:13.273991Z 0 [Warning] A deprecated TLS version TLSv1 is enabled. Please use TLSv1.2 or higher.\ndb12w            | 2023-07-15T22:11:13.274046Z 0 [Warning] A deprecated TLS version TLSv1.1 is enabled. Please use TLSv1.2 or higher.\ndb12w            | 2023-07-15T22:11:13.274805Z 0 [Warning] CA certificate ca.pem is self signed.\ndb12w            | 2023-07-15T22:11:13.310035Z 1 [Warning] root@localhost is created with an empty password ! Please consider switching off the --initialize-insecure option.\nbookwise_client  | /docker-entrypoint.sh: /docker-entrypoint.d/ is not empty, will attempt to perform configuration\nbookwise_client  | /docker-entrypoint.sh: Looking for shell scripts in /docker-entrypoint.d/\nbookwise_client  | /docker-entrypoint.sh: Launching /docker-entrypoint.d/10-listen-on-ipv6-by-default.sh\nbookwise_client  | 10-listen-on-ipv6-by-default.sh: info: Getting the checksum of /etc/nginx/conf.d/default.conf\nbookwise_client  | 10-listen-on-ipv6-by-default.sh: info: Enabled listen on IPv6 in /etc/nginx/conf.d/default.conf\nbookwise_client  | /docker-entrypoint.sh: Sourcing /docker-entrypoint.d/15-local-resolvers.envsh\nbookwise_client  | /docker-entrypoint.sh: Launching /docker-entrypoint.d/20-envsubst-on-templates.sh\nbookwise_client  | /docker-entrypoint.sh: Launching /docker-entrypoint.d/30-tune-worker-processes.sh\nbookwise_client  | /docker-entrypoint.sh: Configuration complete; ready for start up\nbookwise_server  | \nbookwise_server  |   .   ____          _            __ _ _\nbookwise_server  |  /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\nbookwise_server  | ( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\nbookwise_server  |  \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\nbookwise_server  |   '  |____| .__|_| |_|_| |_\\__, | / / / /\nbookwise_server  |  =========|_|==============|___/=/_/_/_/\nbookwise_server  |  :: Spring Boot ::               (v2.7.11)\nbookwise_server  |\nbookwise_server  | 2023-07-15 22:11:14.291  INFO 1 --- [           main] c.l.l.s.SpringBootLibraryApplication     : Starting SpringBootLibraryApplication v0.0.1-SNAPSHOT using Java 17.0.2 on df9c0c2f70c9 with PID 1 (/app/app.jar started by root in /app)\nbookwise_server  | 2023-07-15 22:11:14.295  INFO 1 --- [           main] c.l.l.s.SpringBootLibraryApplication     : No active profile set, falling back to 1 default profile: &quot;default&quot;\nbookwise_server  | 2023-07-15 22:11:15.317  INFO 1 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\nbookwise_server  | 2023-07-15 22:11:15.403  INFO 1 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 75 ms. Found 6 JPA repository interfaces.\nbookwise_server  | 2023-07-15 22:11:16.401  INFO 1 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8443 (https)\nbookwise_server  | 2023-07-15 22:11:16.414  INFO 1 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\nbookwise_server  | 2023-07-15 22:11:16.415  INFO 1 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.74]\nbookwise_server  | 2023-07-15 22:11:16.528  INFO 1 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\nbookwise_server  | 2023-07-15 22:11:16.528  INFO 1 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2126 ms\ndb12w            | 2023-07-15 22:11:16+00:00 [Note] [Entrypoint]: Database files initialized\ndb12w            | 2023-07-15 22:11:16+00:00 [Note] [Entrypoint]: Starting temporary server\ndb12w            | 2023-07-15 22:11:16+00:00 [Note] [Entrypoint]: Waiting for server startup\ndb12w            | 2023-07-15T22:11:16.867643Z 0 [Warning] TIMESTAMP with implicit DEFAULT value is deprecated. Please use --explicit_defaults_for_timestamp server option (see documentation for more details).\ndb12w            | 2023-07-15T22:11:16.870005Z 0 [Note] mysqld (mysqld 5.7.42) starting as process 125 ...\ndb12w            | 2023-07-15T22:11:16.875441Z 0 [Note] InnoDB: PUNCH HOLE support available\ndb12w            | 2023-07-15T22:11:16.875526Z 0 [Note] InnoDB: Mutexes and rw_locks use GCC atomic builtins\ndb12w            | 2023-07-15T22:11:16.875536Z 0 [Note] InnoDB: Uses event mutexes\ndb12w            | 2023-07-15T22:11:16.875541Z 0 [Note] InnoDB: GCC builtin __atomic_thread_fence() is used for memory barrier\ndb12w            | 2023-07-15T22:11:16.875545Z 0 [Note] InnoDB: Compressed tables use zlib 1.2.13\ndb12w            | 2023-07-15T22:11:16.875549Z 0 [Note] InnoDB: Using Linux native AIO\ndb12w            | 2023-07-15T22:11:16.876002Z 0 [Note] InnoDB: Number of pools: 1\ndb12w            | 2023-07-15T22:11:16.876222Z 0 [Note] InnoDB: Using CPU crc32 instructions\ndb12w            | 2023-07-15T22:11:16.879169Z 0 [Note] InnoDB: Initializing buffer pool, total size = 128M, instances = 1, chunk size = 128M\ndb12w            | 2023-07-15T22:11:16.900360Z 0 [Note] InnoDB: Completed initialization of buffer pool\ndb12w            | 2023-07-15T22:11:16.904268Z 0 [Note] InnoDB: If the mysqld execution user is authorized, page cleaner thread priority can be changed. See the man page of setpriority().\ndb12w            | 2023-07-15T22:11:16.917087Z 0 [Note] InnoDB: Highest supported file format is Barracuda.\ndb12w            | 2023-07-15T22:11:16.939074Z 0 [Note] InnoDB: Creating shared tablespace for temporary tables\ndb12w            | 2023-07-15T22:11:16.939246Z 0 [Note] InnoDB: Setting file './ibtmp1' size to 12 MB. Physically writing the file full; Please wait ...\nbookwise_server  | 2023-07-15 22:11:16.958  INFO 1 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\ndb12w            | 2023-07-15T22:11:16.966648Z 0 [Note] InnoDB: File './ibtmp1' size is now 12 MB.\ndb12w            | 2023-07-15T22:11:16.968359Z 0 [Note] InnoDB: 96 redo rollback segment(s) found. 96 redo rollback segment(s) are active.\ndb12w            | 2023-07-15T22:11:16.968435Z 0 [Note] InnoDB: 32 non-redo rollback segment(s) are active.\n</code></pre>\n"},{"tags":["java","spring","resourcebundle"],"comments":[{"owner":{"account_id":9847991,"reputation":56906,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"score":0,"creation_date":1501401529,"post_id":45397626,"comment_id":77755894,"body_markdown":"Can you load all properties to 1 property object? see also https://stackoverflow.com/questions/3403773/using-multiple-property-files-via-propertyplaceholderconfigurer-in-multiple-pr","body":"Can you load all properties to 1 property object? see also <a href=\"https://stackoverflow.com/questions/3403773/using-multiple-property-files-via-propertyplaceholderconfigurer-in-multiple-pr\" title=\"using multiple property files via propertyplaceholderconfigurer in multiple pr\">stackoverflow.com/questions/3403773/&hellip;</a>"},{"owner":{"account_id":2062574,"reputation":843,"user_id":1838804,"accept_rate":7,"display_name":"Mohammad Mirzaeyan"},"score":0,"creation_date":1501403508,"post_id":45397626,"comment_id":77756386,"body_markdown":"i load it but in the service side i cant define @value","body":"i load it but in the service side i cant define @value"}],"answers":[{"comments":[{"owner":{"account_id":2062574,"reputation":843,"user_id":1838804,"accept_rate":7,"display_name":"Mohammad Mirzaeyan"},"score":0,"creation_date":1501417109,"post_id":45398148,"comment_id":77759995,"body_markdown":"it give me null for the key that exists in my properties file","body":"it give me null for the key that exists in my properties file"}],"tags":[],"owner":{"account_id":1051595,"reputation":2587,"user_id":7717350,"display_name":"mgyongyosi"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1501405852,"creation_date":1501405415,"answer_id":45398148,"question_id":45397626,"body_markdown":"To get the value of the key programmatically you can use the following:\r\n\r\n    @Autowired\r\n    private Environment env;\r\n    ...\r\n    String something = env.getProperty(&quot;property.key.something&quot;);","title":"Find message in multiple properties files","body":"<p>To get the value of the key programmatically you can use the following:</p>\n\n<pre><code>@Autowired\nprivate Environment env;\n...\nString something = env.getProperty(\"property.key.something\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8186124,"reputation":4869,"user_id":6161898,"display_name":"fg78nc"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1501423424,"creation_date":1501422601,"answer_id":45400503,"question_id":45397626,"body_markdown":"You can use Spring `Environment` abstraction for that. \r\n\r\nFirst you need to add Property Source to your Java Configuration file\r\n\r\n    @Configuration\r\n    @PropertySource(&quot;classpath:/com/mypacakge/core-message.properties&quot;)\r\n    public class AppConfig { \r\n\r\nOr if you have multiple properties files\r\n\r\n\r\n\r\n    @Configuration\r\n    @PropertySources({\r\n    \t@PropertySource(&quot;classpath:core-message.properties&quot;),\r\n    \t@PropertySource(&quot;classpath:database.properties&quot;)\r\n    }) \r\n        public class AppConfig { \r\n    \r\n\r\nAdd `PropertySourceConfigurer` to to your Java Configuration file\r\n\r\n     @Bean\r\n     public static PropertySourcesPlaceholderConfigurer placeHolderConfigurer() {\r\n        return new PropertySourcesPlaceholderConfigurer();\r\n     }\r\n\r\n\r\n\r\nNow let&#39;s say that in your `core-message.properties` you have the following data\r\n\r\n    message.name=Hello\r\n\r\nYou can retrieve this data in any bean by autowiring `Environment` abstraction and then calling `env.getProperty()`\r\n\r\n    @Autowired\r\n    Environment env;\r\n\r\n    public void m1(){\r\n    String message = env.getProperty(&quot;message.name&quot;)` // will return Hello\r\n\r\n--- \r\n\r\n`Environment` object provides interface to configure property sources and resolve properties. It provides convenience to read from a variety of sources: properties files, system environment variable, JVM system properties, servlet context parameters, and so on, which is very useful. For example :\r\n\r\n        environment.getSystemProperties().put(&quot;message&quot;, &quot;Hello&quot;);\r\n\t\tSystem.getProperties().put(&quot;message&quot;, &quot;Hello&quot;);\r\n\r\n        environment.getSystemProperties().get(&quot;message&quot;); // retrieve property\r\n        environment.getPropertySources() // allows manipulation of Properties objects\r\n\r\n[Spring Reference Documentation - Environment][1]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring/docs/current/spring-framework-reference/htmlsingle/#beans-environment","title":"Find message in multiple properties files","body":"<p>You can use Spring <code>Environment</code> abstraction for that. </p>\n\n<p>First you need to add Property Source to your Java Configuration file</p>\n\n<pre><code>@Configuration\n@PropertySource(\"classpath:/com/mypacakge/core-message.properties\")\npublic class AppConfig { \n</code></pre>\n\n<p>Or if you have multiple properties files</p>\n\n<pre><code>@Configuration\n@PropertySources({\n    @PropertySource(\"classpath:core-message.properties\"),\n    @PropertySource(\"classpath:database.properties\")\n}) \n    public class AppConfig { \n</code></pre>\n\n<p>Add <code>PropertySourceConfigurer</code> to to your Java Configuration file</p>\n\n<pre><code> @Bean\n public static PropertySourcesPlaceholderConfigurer placeHolderConfigurer() {\n    return new PropertySourcesPlaceholderConfigurer();\n }\n</code></pre>\n\n<p>Now let's say that in your <code>core-message.properties</code> you have the following data</p>\n\n<pre><code>message.name=Hello\n</code></pre>\n\n<p>You can retrieve this data in any bean by autowiring <code>Environment</code> abstraction and then calling <code>env.getProperty()</code></p>\n\n<pre><code>@Autowired\nEnvironment env;\n\npublic void m1(){\nString message = env.getProperty(\"message.name\")` // will return Hello\n</code></pre>\n\n<hr>\n\n<p><code>Environment</code> object provides interface to configure property sources and resolve properties. It provides convenience to read from a variety of sources: properties files, system environment variable, JVM system properties, servlet context parameters, and so on, which is very useful. For example :</p>\n\n<pre><code>    environment.getSystemProperties().put(\"message\", \"Hello\");\n    System.getProperties().put(\"message\", \"Hello\");\n\n    environment.getSystemProperties().get(\"message\"); // retrieve property\n    environment.getPropertySources() // allows manipulation of Properties objects\n</code></pre>\n\n<p><a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/htmlsingle/#beans-environment\" rel=\"nofollow noreferrer\">Spring Reference Documentation - Environment</a></p>\n"}],"owner":{"account_id":2062574,"reputation":843,"user_id":1838804,"accept_rate":7,"display_name":"Mohammad Mirzaeyan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1091,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1689459104,"creation_date":1501401233,"question_id":45397626,"body_markdown":"In an application there are multiple properties file for managing exception messages, alerts, and some others text these file like this: \r\n- core-message.properties\r\n- databaseException.properties \r\n...\r\n\r\nin Service layer maybe a database call occurs and the database returns a key that exists in one the properties files, and I want get the value and raise the exception message to user interface layer. \r\n\r\nif I know that the key in which properties file the code will be like this: \r\n\r\n    @Value(&quot;#{core[&#39;theExceptionKey&#39;]}&quot;) \r\n    public String excpetionMessage; \r\n    \r\n    private void myMethod() {\r\n    throw new ExceptionClass(exceptionMessage);\r\n    }\r\n\r\nI think spring can do that because when I use spring:message tag in jsp files spring does not know the key in which file but it loads the message correctly.","title":"Find message in multiple properties files","body":"<p>In an application there are multiple properties file for managing exception messages, alerts, and some others text these file like this:</p>\n<ul>\n<li>core-message.properties</li>\n<li>databaseException.properties\n...</li>\n</ul>\n<p>in Service layer maybe a database call occurs and the database returns a key that exists in one the properties files, and I want get the value and raise the exception message to user interface layer.</p>\n<p>if I know that the key in which properties file the code will be like this:</p>\n<pre><code>@Value(&quot;#{core['theExceptionKey']}&quot;) \npublic String excpetionMessage; \n\nprivate void myMethod() {\nthrow new ExceptionClass(exceptionMessage);\n}\n</code></pre>\n<p>I think spring can do that because when I use spring:message tag in jsp files spring does not know the key in which file but it loads the message correctly.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":1,"creation_date":1689462199,"post_id":76695894,"comment_id":135217449,"body_markdown":"Did you try `SELECT NEW HistoricoDiario(DATE(dataHora), min(temperatura), max(temperatura), SUM(chuva) ...`?","body":"Did you try <code>SELECT NEW HistoricoDiario(DATE(dataHora), min(temperatura), max(temperatura), SUM(chuva) ...</code>?"}],"owner":{"account_id":21158557,"reputation":7,"user_id":17580646,"display_name":"Luis Ribeiro"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689457598,"creation_date":1689457598,"question_id":76695894,"body_markdown":"A query no Repository:\r\n\r\n    @Query(&quot;&quot;&quot;\r\n                SELECT DATE(dataHora) as data, min(temperatura) as minima, max(temperatura) as maxima, SUM(chuva) as chuva\r\n                FROM Historico\r\n                GROUP BY DATE(dataHora)\r\n                &quot;&quot;&quot;)\r\n        List&lt;HistoricoDiario&gt; listarHistoricoDiario();\r\n\r\nA classe Record:\r\n\r\n    public record HistoricoDiario(String data, Double minima, Double maxima, Double chuva) {\r\n    }\r\n\r\nA chamada no Controller:\r\n\r\n    public List&lt;HistoricoDiario&gt; historicoPorDia(){\r\n        return historicoRepository.listarHistoricoDiario();\r\n\r\n    }\r\n\r\nAo executar, gera este erro:\r\n\r\nNo converter found capable of converting from type [org.springframework.data.jpa.repository.query.AbstractJpaQuery$TupleConverter$TupleBackedMap] to type [br.com.xxxxxx.api.domain.historico.HistoricoDiario]&quot;,\r\n\r\n\r\n","title":"Erro: No converter found capable of converting from type no Spring JPA","body":"<p>A query no Repository:</p>\n<pre><code>@Query(&quot;&quot;&quot;\n            SELECT DATE(dataHora) as data, min(temperatura) as minima, max(temperatura) as maxima, SUM(chuva) as chuva\n            FROM Historico\n            GROUP BY DATE(dataHora)\n            &quot;&quot;&quot;)\n    List&lt;HistoricoDiario&gt; listarHistoricoDiario();\n</code></pre>\n<p>A classe Record:</p>\n<pre><code>public record HistoricoDiario(String data, Double minima, Double maxima, Double chuva) {\n}\n</code></pre>\n<p>A chamada no Controller:</p>\n<pre><code>public List&lt;HistoricoDiario&gt; historicoPorDia(){\n    return historicoRepository.listarHistoricoDiario();\n\n}\n</code></pre>\n<p>Ao executar, gera este erro:</p>\n<p>No converter found capable of converting from type [org.springframework.data.jpa.repository.query.AbstractJpaQuery$TupleConverter$TupleBackedMap] to type [br.com.xxxxxx.api.domain.historico.HistoricoDiario]&quot;,</p>\n"},{"tags":["java","maven","gradle","groovy"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1689174424,"post_id":76669840,"comment_id":135176854,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."},{"owner":{"account_id":3837378,"reputation":35488,"user_id":3181392,"display_name":"cfrick"},"score":0,"creation_date":1689704735,"post_id":76669840,"comment_id":135250580,"body_markdown":"Are you asking how to run a generic maven plugin from within gradle and this is just an example?","body":"Are you asking how to run a generic maven plugin from within gradle and this is just an example?"}],"answers":[{"tags":[],"owner":{"account_id":51881,"reputation":38016,"user_id":155020,"accept_rate":80,"display_name":"chubbsondubs"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689455071,"creation_date":1689454485,"answer_id":76695744,"question_id":76669840,"body_markdown":"I&#39;m not a maven person, but I think it&#39;s just running a class or script.  In Gradle you define a task of type [Exec][1] to run a script.  For example:\r\n```\r\ntask runScript( type: Exec ) {\r\n   commandLine &#39;./start.sh&#39;\r\n}\r\n```\r\nif you want to run a java class you use [JavaExec][2]:\r\n```\r\ntask doSomeJava( type: JavaExec ) {\r\n   classpath = sourceSets.main.runtimeClasspath\r\n   mainClass = &quot;com.host.lib.MyCoolLib&quot;\r\n}\r\n```\r\nIn this example, I&#39;m using the classpath of my codebase (ie `sourceSets.main.runtimeClasspath`).  You could specify your own classpath that doesn&#39;t use the classpath&#39;s of your project (ie `file(someJar.jar)`)  The way I&#39;m showing it leverages your dependencies you have in Gradle.\r\n\r\nUsing the closure syntax of task can be tricky to new gradle people.  I think most people think of a task as a set of instructions to run like in ant goes inside the task.  That&#39;s not exactly right.  The code inside the task is configuring the task which runs everything the gradle file is read. \r\nThe code that runs when you execute a task does not run then.  A plain vanilla task would look like this:\r\n\r\n```\r\ntask someTask {\r\n   // we configure the task here\r\n   group = &#39;analysis&#39;\r\n   doLast {\r\n     // Groovy code goes here to execute the task\r\n   }\r\n}\r\n```\r\nBut when we use `type` parameter we are switching the object class of our task.  Typically we aren&#39;t running code in this situation and we are only configuring the our task  Here is a [Zip][3] task type.\r\n```\r\ntask makeAZip(type: Zip) {\r\n   from file(&quot;${srcDir}/some&quot;)\r\n   to file(&quot;${buildDir}&quot;)\r\n   include &quot;*.txt&quot;\r\n}\r\n```\r\nWe&#39;re just configuring the task either through task type instance variables, or calling instance methods.  We wouldn&#39;t write code to produce the zip file because the Zip task already does that for us.  We just need to configure it.  And that is fundamental concept of how Gradle tasks work.\r\n\r\nIn your case you&#39;ll want your `javaxToJakarta` task to run before you make a jar file.  When building a java app you add the `java` plugin which adds predefined tasks for building java projects.  In gradle the java project has several phases it goes through when building.  These phases are nothing more than a set of predefined tasks.  You just need to attach your task to that chain of work.\r\n\r\n```\r\ntasks.named(&quot;jar&quot;) {\r\n    dependsOn(javaxToJakarta)\r\n}\r\n```\r\n\r\nSo now your `javaxToJakarta` task will run before jar because jar `dependsOn` `javaxToJakarta` now.  For more information on default tasks in java builds see this: https://gradlehero.com/gradle-assemble-task-essentials/#:~:text=Assemble%20is%20a%20lifecycle%20task,artifact%20into%20a%20single%20task.\r\n\r\n  [1]: https://docs.gradle.org/current/dsl/org.gradle.api.tasks.Exec.html\r\n  [2]: https://docs.gradle.org/current/dsl/org.gradle.api.tasks.JavaExec.html\r\n  [3]: https://docs.gradle.org/current/dsl/org.gradle.api.tasks.bundling.Zip.html","title":"What is the equivalent of Maven&#39;s &lt;execution&gt; in Gradle?","body":"<p>I'm not a maven person, but I think it's just running a class or script.  In Gradle you define a task of type <a href=\"https://docs.gradle.org/current/dsl/org.gradle.api.tasks.Exec.html\" rel=\"nofollow noreferrer\">Exec</a> to run a script.  For example:</p>\n<pre><code>task runScript( type: Exec ) {\n   commandLine './start.sh'\n}\n</code></pre>\n<p>if you want to run a java class you use <a href=\"https://docs.gradle.org/current/dsl/org.gradle.api.tasks.JavaExec.html\" rel=\"nofollow noreferrer\">JavaExec</a>:</p>\n<pre><code>task doSomeJava( type: JavaExec ) {\n   classpath = sourceSets.main.runtimeClasspath\n   mainClass = &quot;com.host.lib.MyCoolLib&quot;\n}\n</code></pre>\n<p>In this example, I'm using the classpath of my codebase (ie <code>sourceSets.main.runtimeClasspath</code>).  You could specify your own classpath that doesn't use the classpath's of your project (ie <code>file(someJar.jar)</code>)  The way I'm showing it leverages your dependencies you have in Gradle.</p>\n<p>Using the closure syntax of task can be tricky to new gradle people.  I think most people think of a task as a set of instructions to run like in ant goes inside the task.  That's not exactly right.  The code inside the task is configuring the task which runs everything the gradle file is read.\nThe code that runs when you execute a task does not run then.  A plain vanilla task would look like this:</p>\n<pre><code>task someTask {\n   // we configure the task here\n   group = 'analysis'\n   doLast {\n     // Groovy code goes here to execute the task\n   }\n}\n</code></pre>\n<p>But when we use <code>type</code> parameter we are switching the object class of our task.  Typically we aren't running code in this situation and we are only configuring the our task  Here is a <a href=\"https://docs.gradle.org/current/dsl/org.gradle.api.tasks.bundling.Zip.html\" rel=\"nofollow noreferrer\">Zip</a> task type.</p>\n<pre><code>task makeAZip(type: Zip) {\n   from file(&quot;${srcDir}/some&quot;)\n   to file(&quot;${buildDir}&quot;)\n   include &quot;*.txt&quot;\n}\n</code></pre>\n<p>We're just configuring the task either through task type instance variables, or calling instance methods.  We wouldn't write code to produce the zip file because the Zip task already does that for us.  We just need to configure it.  And that is fundamental concept of how Gradle tasks work.</p>\n<p>In your case you'll want your <code>javaxToJakarta</code> task to run before you make a jar file.  When building a java app you add the <code>java</code> plugin which adds predefined tasks for building java projects.  In gradle the java project has several phases it goes through when building.  These phases are nothing more than a set of predefined tasks.  You just need to attach your task to that chain of work.</p>\n<pre><code>tasks.named(&quot;jar&quot;) {\n    dependsOn(javaxToJakarta)\n}\n</code></pre>\n<p>So now your <code>javaxToJakarta</code> task will run before jar because jar <code>dependsOn</code> <code>javaxToJakarta</code> now.  For more information on default tasks in java builds see this: <a href=\"https://gradlehero.com/gradle-assemble-task-essentials/#:%7E:text=Assemble%20is%20a%20lifecycle%20task,artifact%20into%20a%20single%20task\" rel=\"nofollow noreferrer\">https://gradlehero.com/gradle-assemble-task-essentials/#:~:text=Assemble%20is%20a%20lifecycle%20task,artifact%20into%20a%20single%20task</a>.</p>\n"}],"owner":{"account_id":6439793,"reputation":23,"user_id":4990145,"display_name":"Joo Sung Lee"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689455071,"creation_date":1689159646,"question_id":76669840,"body_markdown":"When I searched to change Javax to Jakarta, I found something like this, so I tried to refer to it. The problem is that I have to use Gradle. How can I use this code in Gradle?\r\n\r\n             &lt;plugin&gt;\r\n                &lt;groupId&gt;org.eclipse.transformer&lt;/groupId&gt;\r\n                &lt;artifactId&gt;org.eclipse.transformer.maven&lt;/artifactId&gt;\r\n                &lt;version&gt;0.2.0&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;jakarta-ee&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;run&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;classifier&gt;jakarta&lt;/classifier&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n\r\nI still don&#39;t get it how to use task in gradle\r\n\r\ntask javaxToJakarta(type:){\r\n    \r\n}","title":"What is the equivalent of Maven&#39;s &lt;execution&gt; in Gradle?","body":"<p>When I searched to change Javax to Jakarta, I found something like this, so I tried to refer to it. The problem is that I have to use Gradle. How can I use this code in Gradle?</p>\n<pre><code>         &lt;plugin&gt;\n            &lt;groupId&gt;org.eclipse.transformer&lt;/groupId&gt;\n            &lt;artifactId&gt;org.eclipse.transformer.maven&lt;/artifactId&gt;\n            &lt;version&gt;0.2.0&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;jakarta-ee&lt;/id&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;run&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;configuration&gt;\n                        &lt;classifier&gt;jakarta&lt;/classifier&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n</code></pre>\n<p>I still don't get it how to use task in gradle</p>\n<p>task javaxToJakarta(type:){</p>\n<p>}</p>\n"},{"tags":["java","eclipse","formatter"],"comments":[{"owner":{"account_id":3508394,"reputation":2007,"user_id":2933389,"accept_rate":100,"display_name":"Paramesh Korrakuti"},"score":3,"creation_date":1538697296,"post_id":6676305,"comment_id":92244193,"body_markdown":"Is there any variable in external formatter (org.eclipse.jdt.core.formatter......) to enforce each enum variable in a separate line?","body":"Is there any variable in external formatter (org.eclipse.jdt.core.formatter......) to enforce each enum variable in a separate line?"}],"answers":[{"comments":[{"owner":{"account_id":28866,"reputation":473,"user_id":77462,"accept_rate":38,"display_name":"LegendLength"},"score":0,"creation_date":1498645058,"post_id":6676359,"comment_id":76579346,"body_markdown":"I had this problem for months.  The thing I didn&#39;t try was &quot;force split&quot;.  Not sure why it should be needed as you&#39;d think &quot;wrap all elements&quot; would actually wrap all elements!  Thanks for the solution.","body":"I had this problem for months.  The thing I didn&#39;t try was &quot;force split&quot;.  Not sure why it should be needed as you&#39;d think &quot;wrap all elements&quot; would actually wrap all elements!  Thanks for the solution."}],"tags":[],"owner":{"account_id":337407,"reputation":10009,"user_id":665657,"accept_rate":75,"display_name":"wjans"},"comment_count":1,"down_vote_count":0,"up_vote_count":51,"is_accepted":false,"score":51,"last_activity_date":1310685857,"creation_date":1310546864,"answer_id":6676359,"question_id":6676305,"body_markdown":"You can specify this in your formatter preferences:\r\n\r\n* Preferences: Java -- Code Style -- Formatter\r\n* Click Edit\r\n* Select the &#39;Line Wrapping&#39; tab\r\n* Select &#39;enum&#39; declaration -&gt; Constants in the box on the left\r\n* Set Line wrapping policy to &#39;Wrap all elements, every element on a new line&#39;\r\n* Check &#39;Force split...&#39;\r\n","title":"How to stop Eclipse formatter from placing all enums on one line","body":"<p>You can specify this in your formatter preferences:</p>\n\n<ul>\n<li>Preferences: Java -- Code Style -- Formatter</li>\n<li>Click Edit</li>\n<li>Select the 'Line Wrapping' tab</li>\n<li>Select 'enum' declaration -> Constants in the box on the left</li>\n<li>Set Line wrapping policy to 'Wrap all elements, every element on a new line'</li>\n<li>Check 'Force split...'</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":351709,"reputation":10880,"user_id":688355,"accept_rate":87,"display_name":"Bob Kuhar"},"score":1,"creation_date":1326318382,"post_id":6676422,"comment_id":11019511,"body_markdown":"This works...kind of.  The compiler now thinks its an error.  Putting them in comments overcomes this problem like // @formatter:off","body":"This works...kind of.  The compiler now thinks its an error.  Putting them in comments overcomes this problem like // @formatter:off"}],"tags":[],"owner":{"account_id":72987,"reputation":3238,"user_id":210445,"accept_rate":70,"display_name":"pillingworth"},"comment_count":1,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1429714380,"creation_date":1310547187,"answer_id":6676422,"question_id":6676305,"body_markdown":"It&#39;s not nice but you can turn the Eclipse formatter off for some sections of code...\r\n\r\n    // @formatter:off\r\n    public static enum Command {\r\n        login,\r\n        register,\r\n        logout,\r\n        newMessage\r\n    };\r\n    // @formatter:on\r\n\r\nthe option is in the Windows-&gt;Preferences-&gt;Java-&gt;Code Style-&gt;Formatter-&gt;Edit-&gt;Off/On Tags panel","title":"How to stop Eclipse formatter from placing all enums on one line","body":"<p>It's not nice but you can turn the Eclipse formatter off for some sections of code...</p>\n\n<pre><code>// @formatter:off\npublic static enum Command {\n    login,\n    register,\n    logout,\n    newMessage\n};\n// @formatter:on\n</code></pre>\n\n<p>the option is in the Windows->Preferences->Java->Code Style->Formatter->Edit->Off/On Tags panel</p>\n"},{"tags":[],"owner":{"account_id":441661,"reputation":86528,"user_id":831878,"accept_rate":92,"display_name":"Ray Toal"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1310547207,"creation_date":1310547207,"answer_id":6676427,"question_id":6676305,"body_markdown":"You need to set the line wrapping policy under enum declaration for &quot;Constants.&quot;\r\n\r\nSet the wrapping policy to\r\n\r\n * Wrap all elements, every element on a new line\r\n\r\n**AND**\r\n\r\n * Check the box that says &quot;Force Split, even if line shorter than,,,,,\r\n\r\n","title":"How to stop Eclipse formatter from placing all enums on one line","body":"<p>You need to set the line wrapping policy under enum declaration for \"Constants.\"</p>\n\n<p>Set the wrapping policy to</p>\n\n<ul>\n<li>Wrap all elements, every element on a new line</li>\n</ul>\n\n<p><strong>AND</strong></p>\n\n<ul>\n<li>Check the box that says \"Force Split, even if line shorter than,,,,,</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":441528,"reputation":591,"user_id":831684,"display_name":"Raku"},"comment_count":0,"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1310547432,"creation_date":1310547432,"answer_id":6676465,"question_id":6676305,"body_markdown":"It&#39;s slightly ugly too, but if your company policy prevents you from changing the formatter, you can just put comments at the end of lines you don&#39;t want to be wrapped.\r\n\r\n\r\n    public static enum Command \r\n    {\r\n        login,//\r\n        register,//\r\n        logout,//\r\n        newMessage//\r\n    };\r\n","title":"How to stop Eclipse formatter from placing all enums on one line","body":"<p>It's slightly ugly too, but if your company policy prevents you from changing the formatter, you can just put comments at the end of lines you don't want to be wrapped.</p>\n\n<pre><code>public static enum Command \n{\n    login,//\n    register,//\n    logout,//\n    newMessage//\n};\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1230408,"reputation":6991,"user_id":1195139,"accept_rate":76,"display_name":"Ben Thurley"},"score":1,"creation_date":1381492389,"post_id":12705543,"comment_id":28611603,"body_markdown":"Still looks wrong in the eclipse previewer for me but when I tried it on the actual source it worked like a charm. Thanks.","body":"Still looks wrong in the eclipse previewer for me but when I tried it on the actual source it worked like a charm. Thanks."},{"owner":{"account_id":6525393,"reputation":332,"user_id":5048304,"display_name":"Tob"},"score":2,"creation_date":1645007991,"post_id":12705543,"comment_id":125754216,"body_markdown":"Thank you, could you post the corresponding XML markup from a eclipse-codeformatter.xml?","body":"Thank you, could you post the corresponding XML markup from a eclipse-codeformatter.xml?"}],"tags":[],"owner":{"account_id":161822,"reputation":3122,"user_id":382885,"display_name":"PolyTekPatrick"},"comment_count":2,"down_vote_count":0,"up_vote_count":210,"is_accepted":true,"score":210,"last_activity_date":1416922564,"creation_date":1349256457,"answer_id":12705543,"question_id":6676305,"body_markdown":"The answer by @wjans worked fine for normal enums, but not for enums with arguments. To expand on his answer a bit, here&#39;s the settings that provided the most sensible formatting for me in Eclipse Juno:\r\n\r\n 1. `Window` &gt; `Preferences` &gt; `Java` &gt; `Code Style` &gt; `Formatter`\r\n 2. Click `Edit`\r\n 3. Select the `Line Wrapping` tab\r\n 4. Select the `enum` declaration treenode\r\n 5. Set `Line wrapping policy` to `Wrap all elements, every element on a new line (...)` so it now says 3 of 3 in the parenthesis.\r\n 6. Uncheck `Force split, even if line shorter than maximum line width (...)` so it now says 3 of 3 in the parenthesis.\r\n 7. Select the `Constants` treenode\r\n 8. Check `Force split, even if line shorter than maximum line width`\r\n\r\nThis sets the 3 subnodes for the enum treenode to the same wrapping policy, and the same force split policy except for the `Constants` treenode, so your enums with arguments will be formatted each on their own line. The arguments will only wrap if they exceed maximum line width.\r\n\r\n**Examples:**\r\n\r\n**@wjans**\r\n\r\n    enum Example {\r\n    \tCANCELLED,\r\n    \tRUNNING,\r\n    \tWAITING,\r\n    \tFINISHED\r\n    }\r\n    \r\n    enum Example {\r\n    \tGREEN(\r\n    \t\t0,\r\n    \t\t255,\r\n    \t\t0),\r\n    \tRED(\r\n    \t\t255,\r\n    \t\t0,\r\n    \t\t0)\r\n    }\r\n\r\n\r\n**Solution described above:**\r\n\r\n    enum Example {\r\n    \tCANCELLED,\r\n    \tRUNNING,\r\n    \tWAITING,\r\n    \tFINISHED\r\n    }\r\n    \r\n    enum Example {\r\n    \tGREEN(0, 255, 0),\r\n    \tRED(255, 0, 0)\r\n    }","title":"How to stop Eclipse formatter from placing all enums on one line","body":"<p>The answer by @wjans worked fine for normal enums, but not for enums with arguments. To expand on his answer a bit, here's the settings that provided the most sensible formatting for me in Eclipse Juno:</p>\n\n<ol>\n<li><code>Window</code> > <code>Preferences</code> > <code>Java</code> > <code>Code Style</code> > <code>Formatter</code></li>\n<li>Click <code>Edit</code></li>\n<li>Select the <code>Line Wrapping</code> tab</li>\n<li>Select the <code>enum</code> declaration treenode</li>\n<li>Set <code>Line wrapping policy</code> to <code>Wrap all elements, every element on a new line (...)</code> so it now says 3 of 3 in the parenthesis.</li>\n<li>Uncheck <code>Force split, even if line shorter than maximum line width (...)</code> so it now says 3 of 3 in the parenthesis.</li>\n<li>Select the <code>Constants</code> treenode</li>\n<li>Check <code>Force split, even if line shorter than maximum line width</code></li>\n</ol>\n\n<p>This sets the 3 subnodes for the enum treenode to the same wrapping policy, and the same force split policy except for the <code>Constants</code> treenode, so your enums with arguments will be formatted each on their own line. The arguments will only wrap if they exceed maximum line width.</p>\n\n<p><strong>Examples:</strong></p>\n\n<p><strong>@wjans</strong></p>\n\n<pre><code>enum Example {\n    CANCELLED,\n    RUNNING,\n    WAITING,\n    FINISHED\n}\n\nenum Example {\n    GREEN(\n        0,\n        255,\n        0),\n    RED(\n        255,\n        0,\n        0)\n}\n</code></pre>\n\n<p><strong>Solution described above:</strong></p>\n\n<pre><code>enum Example {\n    CANCELLED,\n    RUNNING,\n    WAITING,\n    FINISHED\n}\n\nenum Example {\n    GREEN(0, 255, 0),\n    RED(255, 0, 0)\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1026421,"reputation":6747,"user_id":1035634,"display_name":"Ondrej Burkert"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1543573774,"creation_date":1543573774,"answer_id":53555690,"question_id":6676305,"body_markdown":"Just adding latest Eclipse 2018.9\r\n\r\n 1. `Window &gt; Preferences &gt; Java &gt; Code Style &gt; Formatter` - `Edit`\r\n 2. Expand `Line Wrapping` tree node.\r\n 3. Expand `Wrapping settings`\r\n 4. Expand `&#39;enum&#39; declaration`\r\n 5. Edit `Constants` and `Constant arguments`.\r\n\r\nConstants need to be `Wrap all elements, every element on a new line`.\r\nConstant arguments need to be `Wrap where necessary`.","title":"How to stop Eclipse formatter from placing all enums on one line","body":"<p>Just adding latest Eclipse 2018.9</p>\n\n<ol>\n<li><code>Window &gt; Preferences &gt; Java &gt; Code Style &gt; Formatter</code> - <code>Edit</code></li>\n<li>Expand <code>Line Wrapping</code> tree node.</li>\n<li>Expand <code>Wrapping settings</code></li>\n<li>Expand <code>'enum' declaration</code></li>\n<li>Edit <code>Constants</code> and <code>Constant arguments</code>.</li>\n</ol>\n\n<p>Constants need to be <code>Wrap all elements, every element on a new line</code>.\nConstant arguments need to be <code>Wrap where necessary</code>.</p>\n"},{"comments":[{"owner":{"account_id":2043806,"reputation":4771,"user_id":2118777,"display_name":"Pipo"},"score":0,"creation_date":1695991425,"post_id":76695765,"comment_id":136100246,"body_markdown":"awesome, any clue where the doc stands for those values?","body":"awesome, any clue where the doc stands for those values?"}],"tags":[],"owner":{"account_id":3654622,"reputation":2634,"user_id":3045978,"display_name":"ninjahoahong"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689454910,"creation_date":1689454910,"answer_id":76695765,"question_id":6676305,"body_markdown":"in my case set `org.eclipse.jdt.core.formatter.alignment_for_enum_constants` to `17` works with maven formatter plugin: https://code.revelc.net/formatter-maven-plugin/\r\n```\r\n    &lt;setting\r\n      id=&quot;org.eclipse.jdt.core.formatter.alignment_for_enum_constants&quot;\r\n      value=&quot;17&quot;\r\n    /&gt;\r\n```\r\nhttps://gitlab.inria.fr/stopcovid19/submission-code-server/-/blob/develop/.etc/eclipse-formatter-java.xml","title":"How to stop Eclipse formatter from placing all enums on one line","body":"<p>in my case set <code>org.eclipse.jdt.core.formatter.alignment_for_enum_constants</code> to <code>17</code> works with maven formatter plugin: <a href=\"https://code.revelc.net/formatter-maven-plugin/\" rel=\"nofollow noreferrer\">https://code.revelc.net/formatter-maven-plugin/</a></p>\n<pre><code>    &lt;setting\n      id=&quot;org.eclipse.jdt.core.formatter.alignment_for_enum_constants&quot;\n      value=&quot;17&quot;\n    /&gt;\n</code></pre>\n<p><a href=\"https://gitlab.inria.fr/stopcovid19/submission-code-server/-/blob/develop/.etc/eclipse-formatter-java.xml\" rel=\"nofollow noreferrer\">https://gitlab.inria.fr/stopcovid19/submission-code-server/-/blob/develop/.etc/eclipse-formatter-java.xml</a></p>\n"}],"owner":{"account_id":442105,"reputation":3230,"user_id":832565,"accept_rate":78,"display_name":"MetaChrome"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27606,"favorite_count":0,"down_vote_count":0,"up_vote_count":113,"accepted_answer_id":12705543,"answer_count":7,"score":113,"last_activity_date":1689454910,"creation_date":1310546614,"question_id":6676305,"body_markdown":"I have enums like:\r\n\r\n    public static enum Command\r\n    {\r\n    login,\r\n    register,\r\n    logout,\r\n    newMessage\r\n    }\r\n\r\nWhen formatting the file, the output becomes:\r\n\r\n    public static enum Command \r\n    {\r\n    login, register, logout, newMessage\r\n    }\r\n\r\n","title":"How to stop Eclipse formatter from placing all enums on one line","body":"<p>I have enums like:</p>\n\n<pre><code>public static enum Command\n{\nlogin,\nregister,\nlogout,\nnewMessage\n}\n</code></pre>\n\n<p>When formatting the file, the output becomes:</p>\n\n<pre><code>public static enum Command \n{\nlogin, register, logout, newMessage\n}\n</code></pre>\n"},{"tags":["java","spring-boot","email","google-cloud-platform","google-drive-api"],"comments":[{"owner":{"account_id":15760814,"reputation":68973,"user_id":11372593,"display_name":"guillaume blaquiere"},"score":0,"creation_date":1689360454,"post_id":76687017,"comment_id":135207882,"body_markdown":"Let me summarize: You want your code use an email/password of a GMAIL address to get a credential, and use that credential to download file in Google Drive?","body":"Let me summarize: You want your code use an email/password of a GMAIL address to get a credential, and use that credential to download file in Google Drive?"},{"owner":{"account_id":12586219,"reputation":107,"user_id":9155008,"display_name":"Neela"},"score":0,"creation_date":1689363631,"post_id":76687017,"comment_id":135208380,"body_markdown":"Hi, @guillaumeblaquiere anything would be fine. 1. If possible generate the credentials using our Gmail. we can use it. OR 2. without any credentials if we can connect to google drive using Gmail? Is this possible? then either of the ones I can use.","body":"Hi, @guillaumeblaquiere anything would be fine. 1. If possible generate the credentials using our Gmail. we can use it. OR 2. without any credentials if we can connect to google drive using Gmail? Is this possible? then either of the ones I can use."},{"owner":{"account_id":25926563,"reputation":119,"user_id":19648355,"display_name":"Irremediable"},"score":0,"creation_date":1689367180,"post_id":76687017,"comment_id":135208975,"body_markdown":"If you&#39;re looking for an option to use Google API without pre-created application credentials then there aren&#39;t any options. Other way is to make web scraper which will be blocked in some time after","body":"If you&#39;re looking for an option to use Google API without pre-created application credentials then there aren&#39;t any options. Other way is to make web scraper which will be blocked in some time after"},{"owner":{"account_id":12586219,"reputation":107,"user_id":9155008,"display_name":"Neela"},"score":0,"creation_date":1689394715,"post_id":76687017,"comment_id":135210917,"body_markdown":"Hi, @Irremediable Thanks for the reply. I say If I don&#39;t have access to Gcloud download the service JSON key and use it in the program. For that case, I have my Gmail address with that if there is any possibility then I can use it.","body":"Hi, @Irremediable Thanks for the reply. I say If I don&#39;t have access to Gcloud download the service JSON key and use it in the program. For that case, I have my Gmail address with that if there is any possibility then I can use it."}],"answers":[{"comments":[{"owner":{"account_id":12586219,"reputation":107,"user_id":9155008,"display_name":"Neela"},"score":0,"creation_date":1689514471,"post_id":76695627,"comment_id":135221309,"body_markdown":"Thank you so much, @Linda Lawton - DaImTo for the reply. Thanks for the insights again.","body":"Thank you so much, @Linda Lawton - DaImTo for the reply. Thanks for the insights again."}],"tags":[],"owner":{"account_id":2066403,"reputation":109440,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689452174,"creation_date":1689452174,"answer_id":76695627,"question_id":76687017,"body_markdown":"To access a Google api in this case the google drive API you must register your application with Google.\r\n\r\n\r\nThen you can use Oauth2 to request consent to access private user data in this case an image owner by a user.\r\n\r\n\r\nIts not possible to access the google API without first registering your application and then crediting credentials json\r\n\r\nno you can&#39;t use an email ","title":"Is it possible to download an image from Google Drive with our Email (Gmail) and password using SpringBoot + Java","body":"<p>To access a Google api in this case the google drive API you must register your application with Google.</p>\n<p>Then you can use Oauth2 to request consent to access private user data in this case an image owner by a user.</p>\n<p>Its not possible to access the google API without first registering your application and then crediting credentials json</p>\n<p>no you can't use an email</p>\n"}],"owner":{"account_id":12586219,"reputation":107,"user_id":9155008,"display_name":"Neela"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689452174,"creation_date":1689332221,"question_id":76687017,"body_markdown":"I try downloading an image or a file from Google Drive using Spring Boot with Java. But it is expecting Google credentials. I don&#39;t have any credentials handy. So can we download our own Google Drive image or file using our email (Gmail and password) to bypass the credentials? I will attach the code am using currently, and please let me know if I can replace the credentials with Gmail or any other way...\r\n\r\n    public static ByteArrayOutputStream downloadFile(String fileId) throws IOException{\r\n        GoogleCredentials credentials = GoogleCredentials.getApplicationDefault().createScoped(Arrays.asList(DriveScopes.DRIVE));\r\n    HttpRequestInitializer requestInitializer = new HttpCredentialsAdapter(credentials);\r\n    Drive service = new Drive.Builder(new NetHttpTransport(),\r\n                            GsonFactory.getDefaultInstance(),\r\n                            requestInitializer)\r\n                            .setApplicationName(&quot;Drive Samples&quot;)\r\n                            .build();\r\n    try{\r\n             OutputStream outputStream = new ByteArrayOutputStream();\r\n             service.files().get(fileId).executeMediaAndDownloadTo(outputStream);\r\n             return (ByteArrayOutputStream) outputStream;\r\n    \r\n    }catch(GoogleJsonResponseException e){\r\n       System.err.print(&quot;unable to move file: &quot; e.getDetails());\r\n       throw e;\r\n    }\r\n    \r\n    }\r\n\r\nPlease check and share if any other ways other than Google credentials are there.\r\n\r\nThanks in advance.\r\n","title":"Is it possible to download an image from Google Drive with our Email (Gmail) and password using SpringBoot + Java","body":"<p>I try downloading an image or a file from Google Drive using Spring Boot with Java. But it is expecting Google credentials. I don't have any credentials handy. So can we download our own Google Drive image or file using our email (Gmail and password) to bypass the credentials? I will attach the code am using currently, and please let me know if I can replace the credentials with Gmail or any other way...</p>\n<pre><code>public static ByteArrayOutputStream downloadFile(String fileId) throws IOException{\n    GoogleCredentials credentials = GoogleCredentials.getApplicationDefault().createScoped(Arrays.asList(DriveScopes.DRIVE));\nHttpRequestInitializer requestInitializer = new HttpCredentialsAdapter(credentials);\nDrive service = new Drive.Builder(new NetHttpTransport(),\n                        GsonFactory.getDefaultInstance(),\n                        requestInitializer)\n                        .setApplicationName(&quot;Drive Samples&quot;)\n                        .build();\ntry{\n         OutputStream outputStream = new ByteArrayOutputStream();\n         service.files().get(fileId).executeMediaAndDownloadTo(outputStream);\n         return (ByteArrayOutputStream) outputStream;\n\n}catch(GoogleJsonResponseException e){\n   System.err.print(&quot;unable to move file: &quot; e.getDetails());\n   throw e;\n}\n\n}\n</code></pre>\n<p>Please check and share if any other ways other than Google credentials are there.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","kivy","crash","kivymd","buildozer"],"comments":[{"owner":{"account_id":6387730,"reputation":36641,"user_id":7254633,"display_name":"John Anderson"},"score":0,"creation_date":1689369368,"post_id":76684458,"comment_id":135209275,"body_markdown":"Try connecting your phone to your PC and running `buildozer -v android debug deploy run logcat &gt; my_log.txt`. Then look in `my_log.txt` for hints.","body":"Try connecting your phone to your PC and running <code>buildozer -v android debug deploy run logcat &gt; my_log.txt</code>. Then look in <code>my_log.txt</code> for hints."}],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1689801398,"post_id":76695553,"comment_id":135266862,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76695553/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":28996829,"reputation":1,"user_id":22211301,"display_name":"Harsh Kukadiya"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689450868,"creation_date":1689450868,"answer_id":76695553,"question_id":76684458,"body_markdown":"Try collab using this [notebook][1] and in generated buildozer.spec file on line 40 use \r\n\r\n&gt; requirements = python3, kivy==2.1.0, kivymd==1.1.1, sdl2_ttf==2.0.15, pillow\r\n\r\nlet me know after trying.\r\n\r\n\r\n  [1]: https://colab.research.google.com/drive/1BZv4XslhqGtHJG0jEmcYo1rbk1TI1hiC?usp=sharing","title":"Why my KivyMD app Crashes On Startup after converting to Android with Buildozer?","body":"<p>Try collab using this <a href=\"https://colab.research.google.com/drive/1BZv4XslhqGtHJG0jEmcYo1rbk1TI1hiC?usp=sharing\" rel=\"nofollow noreferrer\">notebook</a> and in generated buildozer.spec file on line 40 use</p>\n<blockquote>\n<p>requirements = python3, kivy==2.1.0, kivymd==1.1.1, sdl2_ttf==2.0.15, pillow</p>\n</blockquote>\n<p>let me know after trying.</p>\n"}],"owner":{"account_id":29014206,"reputation":1,"user_id":22225000,"display_name":"Fakhri"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689450868,"creation_date":1689304110,"question_id":76684458,"body_markdown":"I have built an APP from Python Kivy &amp; KivyMD, using Buildozer. It was converted to an APK file successfully. But when I open the app after installing, it is loaded a little while and crashes. Nothing Shows and nothing happens. \r\n\r\nI tried with many ways such as using of Google Colab, Using Github Repository. But nothing was succeed.\r\n\r\nPlease Help me to resolve the issue.\r\n\r\n**main.py**\r\n\r\n```\r\nfrom kivymd.app import MDApp\r\nfrom kivy.lang import Builder\r\nfrom kivy.uix.screenmanager import ScreenManager, SlideTransition\r\nfrom kivymd.uix.button import MDFlatButton\r\nfrom kivy.core.window import Window\r\nfrom kivymd.uix.screen import Screen\r\nfrom kivymd.uix.dialog import MDDialog\r\nfrom functions import *\r\nfrom plyer import filechooser\r\nfrom kivy import platform\r\n\r\nif platform == &quot;android&quot;:\r\n    from android.permissions import request_permissions, Permission\r\n    request_permissions([Permission.CAMERA, Permission.WRITE_EXTERNAL_STORAGE, Permission.READ_EXTERNAL_STORAGE])\r\n\r\nWindow.size = (414, 896)\r\n\r\nclass MyApp(MDApp):\r\n    dialog = None\r\n\r\n    def build(self):\r\n\r\n        self.theme_cls.primary_palette = &quot;Red&quot;\r\n        self.theme_cls.secondary_palette = &quot;Black&quot;\r\n        self.theme_cls.theme_style = &quot;Dark&quot;\r\n\r\n        Builder.load_file(&#39;screens/menuutama.kv&#39;)\r\n        Builder.load_file(&#39;screens/enkripsi.kv&#39;)\r\n        Builder.load_file(&#39;screens/dekripsi.kv&#39;)  # Load the MenuDekripsi kv file\r\n        Builder.load_file(&#39;screens/bantuan.kv&#39;)  # Load the BantuanPengguna kv file\r\n        Builder.load_file(&#39;screens/tentang.kv&#39;)\r\n\r\n        screen_manager = ScreenManager()\r\n        screen_manager.add_widget(MenuUtama(name=&#39;menuutama&#39;))\r\n        screen_manager.add_widget(MenuEnkripsi(name=&#39;enkripsi&#39;))\r\n        screen_manager.add_widget(MenuDekripsi(name=&#39;dekripsi&#39;))\r\n        screen_manager.add_widget(BantuanPengguna(name=&#39;bantuan&#39;))\r\n        screen_manager.add_widget(TentangAplikasi(name=&#39;tentang&#39;))\r\n        return screen_manager\r\n    \r\n    def on_start(self, **kwargs):\r\n        if platform == &quot;android&quot;:\r\n            from android.permissions import request_permissions, Permission\r\n            request_permissions([Permission.WRITE_EXTERNAL_STORAGE, Permission.READ_EXTERNAL_STORAGE])\r\n    \r\n    def file_chooser(self):\r\n        filechooser.open_file(on_selection=self.selected)\r\n\r\n    #and another code\r\n\r\n```\r\n\r\n**buildozer.spec**\r\n\r\n\r\n```\r\ntitle = ImSecure\r\n\r\n# (str) Package name\r\npackage.name = imsecure\r\n\r\n# (str) Package domain (needed for android/ios packaging)\r\npackage.domain = org.test\r\n\r\n# (str) Source code where the main.py live\r\nsource.dir = .\r\n\r\n# (list) Source files to include (let empty to include all the files)\r\nsource.include_exts = py,kv,png,jpg,bmp\r\n\r\n# (list) Source files to exclude (let empty to not exclude anything)\r\nsource.exclude_exts = spec\r\n\r\n# (list) List of directory to exclude (let empty to not exclude anything)\r\nsource.exclude_dirs = tests, bin, venv\r\n\r\n# (str) Application versioning (method 1)\r\nversion = 0.1\r\n\r\n\r\n# change the major version of python used by the app\r\nosx.python_version = 3\r\n\r\n# Kivy version to use\r\nosx.kivy_version = 1.9.1\r\n\r\n# (list) Permissions\r\n# (See https://python-for-android.readthedocs.io/en/latest/buildoptions/#build-options-1 for all the supported syntaxes and properties)\r\nandroid.permissions = WRITE_EXTERNAL_STORAGE, READ_EXTERNAL_STORAGE\r\n```\r\n\r\ncan you guys help me?\r\n\r\n\r\n\r\n","title":"Why my KivyMD app Crashes On Startup after converting to Android with Buildozer?","body":"<p>I have built an APP from Python Kivy &amp; KivyMD, using Buildozer. It was converted to an APK file successfully. But when I open the app after installing, it is loaded a little while and crashes. Nothing Shows and nothing happens.</p>\n<p>I tried with many ways such as using of Google Colab, Using Github Repository. But nothing was succeed.</p>\n<p>Please Help me to resolve the issue.</p>\n<p><strong>main.py</strong></p>\n<pre><code>from kivymd.app import MDApp\nfrom kivy.lang import Builder\nfrom kivy.uix.screenmanager import ScreenManager, SlideTransition\nfrom kivymd.uix.button import MDFlatButton\nfrom kivy.core.window import Window\nfrom kivymd.uix.screen import Screen\nfrom kivymd.uix.dialog import MDDialog\nfrom functions import *\nfrom plyer import filechooser\nfrom kivy import platform\n\nif platform == &quot;android&quot;:\n    from android.permissions import request_permissions, Permission\n    request_permissions([Permission.CAMERA, Permission.WRITE_EXTERNAL_STORAGE, Permission.READ_EXTERNAL_STORAGE])\n\nWindow.size = (414, 896)\n\nclass MyApp(MDApp):\n    dialog = None\n\n    def build(self):\n\n        self.theme_cls.primary_palette = &quot;Red&quot;\n        self.theme_cls.secondary_palette = &quot;Black&quot;\n        self.theme_cls.theme_style = &quot;Dark&quot;\n\n        Builder.load_file('screens/menuutama.kv')\n        Builder.load_file('screens/enkripsi.kv')\n        Builder.load_file('screens/dekripsi.kv')  # Load the MenuDekripsi kv file\n        Builder.load_file('screens/bantuan.kv')  # Load the BantuanPengguna kv file\n        Builder.load_file('screens/tentang.kv')\n\n        screen_manager = ScreenManager()\n        screen_manager.add_widget(MenuUtama(name='menuutama'))\n        screen_manager.add_widget(MenuEnkripsi(name='enkripsi'))\n        screen_manager.add_widget(MenuDekripsi(name='dekripsi'))\n        screen_manager.add_widget(BantuanPengguna(name='bantuan'))\n        screen_manager.add_widget(TentangAplikasi(name='tentang'))\n        return screen_manager\n    \n    def on_start(self, **kwargs):\n        if platform == &quot;android&quot;:\n            from android.permissions import request_permissions, Permission\n            request_permissions([Permission.WRITE_EXTERNAL_STORAGE, Permission.READ_EXTERNAL_STORAGE])\n    \n    def file_chooser(self):\n        filechooser.open_file(on_selection=self.selected)\n\n    #and another code\n\n</code></pre>\n<p><strong>buildozer.spec</strong></p>\n<pre><code>title = ImSecure\n\n# (str) Package name\npackage.name = imsecure\n\n# (str) Package domain (needed for android/ios packaging)\npackage.domain = org.test\n\n# (str) Source code where the main.py live\nsource.dir = .\n\n# (list) Source files to include (let empty to include all the files)\nsource.include_exts = py,kv,png,jpg,bmp\n\n# (list) Source files to exclude (let empty to not exclude anything)\nsource.exclude_exts = spec\n\n# (list) List of directory to exclude (let empty to not exclude anything)\nsource.exclude_dirs = tests, bin, venv\n\n# (str) Application versioning (method 1)\nversion = 0.1\n\n\n# change the major version of python used by the app\nosx.python_version = 3\n\n# Kivy version to use\nosx.kivy_version = 1.9.1\n\n# (list) Permissions\n# (See https://python-for-android.readthedocs.io/en/latest/buildoptions/#build-options-1 for all the supported syntaxes and properties)\nandroid.permissions = WRITE_EXTERNAL_STORAGE, READ_EXTERNAL_STORAGE\n</code></pre>\n<p>can you guys help me?</p>\n"},{"tags":["java","database","jpa","openapi","quarkus"],"answers":[{"comments":[{"owner":{"account_id":10383987,"reputation":2344,"user_id":7657749,"display_name":"Jan D.M."},"score":0,"creation_date":1689454977,"post_id":76695538,"comment_id":135216835,"body_markdown":"Using the active record pattern, it still does not work. However with the repository pattern it works. But now is my question: Why is this the case? And why am I not able to get it to work with the active record pattern?","body":"Using the active record pattern, it still does not work. However with the repository pattern it works. But now is my question: Why is this the case? And why am I not able to get it to work with the active record pattern?"},{"owner":{"account_id":4979751,"reputation":111,"user_id":4005094,"display_name":"Kirill Byvshev"},"score":0,"creation_date":1689455867,"post_id":76695538,"comment_id":135216924,"body_markdown":"No idea I cannot  see your current version of code, the result should be the same in both ways","body":"No idea I cannot  see your current version of code, the result should be the same in both ways"}],"tags":[],"owner":{"account_id":4979751,"reputation":111,"user_id":4005094,"display_name":"Kirill Byvshev"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689450694,"creation_date":1689450694,"answer_id":76695538,"question_id":76694822,"body_markdown":"There are two different approaches using of Panache within the Quarkus application:\r\n\r\n 1. using the active record pattern through PanacheEntity\r\n 2. using the repository pattern through PanacheRepository\r\n\r\nIf you use PanacheEntity you shouldn&#39;t use PanacheRepository. And vice versa don&#39;t extend PanacheEntity if you work with PanacheRepository\r\n\r\nSo I think the problem is you mixed both approaches in your addPriceRequest() method.\r\n\r\n ","title":"&#39;Detached entity passed to persist&#39; in OpenAPI UI, but not in Postman","body":"<p>There are two different approaches using of Panache within the Quarkus application:</p>\n<ol>\n<li>using the active record pattern through PanacheEntity</li>\n<li>using the repository pattern through PanacheRepository</li>\n</ol>\n<p>If you use PanacheEntity you shouldn't use PanacheRepository. And vice versa don't extend PanacheEntity if you work with PanacheRepository</p>\n<p>So I think the problem is you mixed both approaches in your addPriceRequest() method.</p>\n"}],"owner":{"account_id":10383987,"reputation":2344,"user_id":7657749,"display_name":"Jan D.M."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76695538,"answer_count":1,"score":0,"last_activity_date":1689450694,"creation_date":1689439527,"question_id":76694822,"body_markdown":"I am creating a quarkus application where a certain `PriceRequest` entity should be stored in the DB. This is a short version of the entity\r\n\r\n    @Entity\r\n    @Table(name = &quot;t_price_request&quot;)\r\n    public class PriceRequest extends PanacheEntity {\r\n      @Column\r\n      public String buildingType;\r\n      @Column\r\n      public int squareMeters;\r\n    }\r\n\r\nNow, I would like to test a post call which tries to save a PriceRequest into the DB. It calls the `addPriceRequest` function from the repository which you can find below.\r\n\r\n    @ApplicationScoped\r\n    public class PriceRequestRepository implements PanacheRepository&lt;PriceRequest&gt; {\r\n        @Transactional\r\n        public void addPriceRequest(PriceRequest priceRequest) {\r\n            priceRequest.setCreationDate(LocalDateTime.now());\r\n            priceRequest.persistAndFlush();\r\n        }\r\n    \r\n        @Transactional\r\n        public PriceRequest findPriceRequestById(Long id) {\r\n            return findById(id);\r\n        }\r\n    \r\n        @Transactional\r\n        public List&lt;PriceRequest&gt; findAllPriceRequests() {\r\n            return findAll().stream().toList();\r\n        }\r\n    }\r\n\r\nWhen testing this via a Postman call, everything works. When testing this with the OpenAPI UI, the following error pops up:\r\n\r\n     HTTP Request to /price-request failed, error id: a5caae7f-5daa-49ef-8358-0e57b9895a1a-6: org.hibernate.PersistentObjectException: detached entity passed to persist: be.backeit.domain.PriceRequest\r\n            at org.hibernate.event.internal.DefaultPersistEventListener.persist(DefaultPersistEventListener.java:88)\r\n\r\n\r\nWhats wrong in my code? Do I need to add some extra annotations?","title":"&#39;Detached entity passed to persist&#39; in OpenAPI UI, but not in Postman","body":"<p>I am creating a quarkus application where a certain <code>PriceRequest</code> entity should be stored in the DB. This is a short version of the entity</p>\n<pre><code>@Entity\n@Table(name = &quot;t_price_request&quot;)\npublic class PriceRequest extends PanacheEntity {\n  @Column\n  public String buildingType;\n  @Column\n  public int squareMeters;\n}\n</code></pre>\n<p>Now, I would like to test a post call which tries to save a PriceRequest into the DB. It calls the <code>addPriceRequest</code> function from the repository which you can find below.</p>\n<pre><code>@ApplicationScoped\npublic class PriceRequestRepository implements PanacheRepository&lt;PriceRequest&gt; {\n    @Transactional\n    public void addPriceRequest(PriceRequest priceRequest) {\n        priceRequest.setCreationDate(LocalDateTime.now());\n        priceRequest.persistAndFlush();\n    }\n\n    @Transactional\n    public PriceRequest findPriceRequestById(Long id) {\n        return findById(id);\n    }\n\n    @Transactional\n    public List&lt;PriceRequest&gt; findAllPriceRequests() {\n        return findAll().stream().toList();\n    }\n}\n</code></pre>\n<p>When testing this via a Postman call, everything works. When testing this with the OpenAPI UI, the following error pops up:</p>\n<pre><code> HTTP Request to /price-request failed, error id: a5caae7f-5daa-49ef-8358-0e57b9895a1a-6: org.hibernate.PersistentObjectException: detached entity passed to persist: be.backeit.domain.PriceRequest\n        at org.hibernate.event.internal.DefaultPersistEventListener.persist(DefaultPersistEventListener.java:88)\n</code></pre>\n<p>Whats wrong in my code? Do I need to add some extra annotations?</p>\n"},{"tags":["java","binary-search-tree"],"comments":[{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1689454284,"post_id":76695441,"comment_id":135216741,"body_markdown":"If this is [LeetCode 98](https://leetcode.com/problems/validate-binary-search-tree/), there’s an option to add the failed test case to the set of unit tests you can see. You can’t use a debugger unless you pay for premium, but for simple code like this, you can use print statements to debug your code.","body":"If this is <a href=\"https://leetcode.com/problems/validate-binary-search-tree/\" rel=\"nofollow noreferrer\">LeetCode 98</a>, there’s an option to add the failed test case to the set of unit tests you can see. You can’t use a debugger unless you pay for premium, but for simple code like this, you can use print statements to debug your code."}],"answers":[{"comments":[{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":1,"creation_date":1689460176,"post_id":76695470,"comment_id":135217294,"body_markdown":"&quot;You need to ensure that the max value in the left node is less than the root, and vice versa for the right node&quot; - in other words: in-order traversal must produce monotonic sequence","body":"&quot;You need to ensure that the max value in the left node is less than the root, and vice versa for the right node&quot; - in other words: in-order traversal must produce monotonic sequence"},{"owner":{"account_id":26453399,"reputation":59,"user_id":20096277,"display_name":"Dhairya Gupta"},"score":1,"creation_date":1689539646,"post_id":76695470,"comment_id":135224222,"body_markdown":"Thanks a lot, I now understand why my code gives an error","body":"Thanks a lot, I now understand why my code gives an error"}],"tags":[],"owner":{"account_id":20780824,"reputation":29149,"user_id":15261315,"display_name":"Chris"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1689449556,"creation_date":1689449556,"answer_id":76695470,"question_id":76695441,"body_markdown":"What does your solution say about the following tree?\r\n\r\n```none\r\n      --6--\r\n     /     \\\r\n   -4-     -8-\r\n  /   \\   /   \\\r\n 2     7 5     9\r\n```\r\n\r\nThe left and right nodes are both valid binary search trees, and 4 is less than 6 and 8 is greater than 6. But doing a BST traversal of this will never find 7 or 5.\r\n\r\nYou need to ensure that the max value in the left node is less than the root, and vice versa for the right node.","title":"Check if Binary Tree is a Binary Search Tree","body":"<p>What does your solution say about the following tree?</p>\n<pre class=\"lang-none prettyprint-override\"><code>      --6--\n     /     \\\n   -4-     -8-\n  /   \\   /   \\\n 2     7 5     9\n</code></pre>\n<p>The left and right nodes are both valid binary search trees, and 4 is less than 6 and 8 is greater than 6. But doing a BST traversal of this will never find 7 or 5.</p>\n<p>You need to ensure that the max value in the left node is less than the root, and vice versa for the right node.</p>\n"}],"owner":{"account_id":26453399,"reputation":59,"user_id":20096277,"display_name":"Dhairya Gupta"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76695470,"answer_count":1,"score":1,"last_activity_date":1689450304,"creation_date":1689449137,"question_id":76695441,"body_markdown":"I tried to write a code to check if a given binary tree is a BST or not. But my code does not pass all the test cases. It passes 6 out of 8 test cases. Why is it wrong/incomplete?\r\n\r\nbelow is my code\r\n\r\n```\r\npublic static boolean isBST(BinaryTreeNode&lt;Integer&gt; root) {\r\n    if (root == null) {\r\n\t\treturn true;\r\n\t}\r\n\r\n\tboolean left = isBST(root.left);\r\n\tboolean right = isBST(root.right);\r\n\r\n\tboolean currentL = true, currentR = true;\r\n\r\n\tif (root.left != null) {\r\n\t\tcurrentL = root.left.data &lt; root.data;\r\n\t}\r\n\r\n\tif (root.right != null) {\r\n\t\tcurrentR = root.right.data &gt; root.data;\r\n\t}\r\n\r\n\treturn left &amp;&amp; right &amp;&amp; currentL &amp;&amp; currentR;\r\n}\r\n```\r\nusing recursion, I get boolean for left and right. Then I return the final value as the answer if all  left, right and current subtree is BST. Where is my code lacking? Is it because even if a subtree is BST, its left node might be bigger than some element of main tree that the subtree is part of? ","title":"Check if Binary Tree is a Binary Search Tree","body":"<p>I tried to write a code to check if a given binary tree is a BST or not. But my code does not pass all the test cases. It passes 6 out of 8 test cases. Why is it wrong/incomplete?</p>\n<p>below is my code</p>\n<pre><code>public static boolean isBST(BinaryTreeNode&lt;Integer&gt; root) {\n    if (root == null) {\n        return true;\n    }\n\n    boolean left = isBST(root.left);\n    boolean right = isBST(root.right);\n\n    boolean currentL = true, currentR = true;\n\n    if (root.left != null) {\n        currentL = root.left.data &lt; root.data;\n    }\n\n    if (root.right != null) {\n        currentR = root.right.data &gt; root.data;\n    }\n\n    return left &amp;&amp; right &amp;&amp; currentL &amp;&amp; currentR;\n}\n</code></pre>\n<p>using recursion, I get boolean for left and right. Then I return the final value as the answer if all  left, right and current subtree is BST. Where is my code lacking? Is it because even if a subtree is BST, its left node might be bigger than some element of main tree that the subtree is part of?</p>\n"},{"tags":["java","javafx","dice"],"comments":[{"owner":{"account_id":370994,"reputation":35154,"user_id":719263,"accept_rate":100,"display_name":"Jean-Baptiste Yun&#232;s"},"score":1,"creation_date":1689449754,"post_id":76695414,"comment_id":135216303,"body_markdown":"`diceView*` are not defined in the scope of `handle`, they are local variables of a method of the enclosing class of `ButtonClickHandler`. YOu can try to make them fields and not local variables.","body":"<code>diceView*</code> are not defined in the scope of <code>handle</code>, they are local variables of a method of the enclosing class of <code>ButtonClickHandler</code>. YOu can try to make them fields and not local variables."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1689449798,"post_id":76695414,"comment_id":135216304,"body_markdown":"&quot;_I think it has something to do with the scope of the variable_&quot; – This is absolutely right. The `diceView1` and `diceView2` variables are local to the `start` method, and so they cannot be referenced outside that method. There are a few ways you could fix this. (1) You could make those two local variables _instance fields_ of the `DiceSimulator` class. (2) Similarly, you could make them instance fields of the `ButtonClickHandler` class, then add a constructor which lets you pass references to the image views to the handler. (3) Use a _lambda expression_ for the on-event handler.","body":"&quot;<i>I think it has something to do with the scope of the variable</i>&quot; – This is absolutely right. The <code>diceView1</code> and <code>diceView2</code> variables are local to the <code>start</code> method, and so they cannot be referenced outside that method. There are a few ways you could fix this. (1) You could make those two local variables <i>instance fields</i> of the <code>DiceSimulator</code> class. (2) Similarly, you could make them instance fields of the <code>ButtonClickHandler</code> class, then add a constructor which lets you pass references to the image views to the handler. (3) Use a <i>lambda expression</i> for the on-event handler."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1689449938,"post_id":76695414,"comment_id":135216325,"body_markdown":"Note the first approach only works because your `ButtonClickHandler` is an inner class (i.e., a _non-static_ nested class). If it were a static nested class, then it wouldn&#39;t be able to directly reference instance fields of its enclosing class. Also, assuming your images are _resources_, you may want to read [How do I determine the correct path for FXML files, CSS files, Images, and other resources needed by my JavaFX Application?](https://stackoverflow.com/q/61531317/6395627).","body":"Note the first approach only works because your <code>ButtonClickHandler</code> is an inner class (i.e., a <i>non-static</i> nested class). If it were a static nested class, then it wouldn&#39;t be able to directly reference instance fields of its enclosing class. Also, assuming your images are <i>resources</i>, you may want to read <a href=\"https://stackoverflow.com/q/61531317/6395627\">How do I determine the correct path for FXML files, CSS files, Images, and other resources needed by my JavaFX Application?</a>."},{"owner":{"account_id":29024519,"reputation":1,"user_id":22233083,"display_name":"Newbie123"},"score":0,"creation_date":1689456527,"post_id":76695414,"comment_id":135216989,"body_markdown":"After I make diceView1 and diceView2 instance fields in either the Dice Simulator or ButtonClickerHandler class, how would I make sure they are still apart of the overall scene? Do both the Image and ImageView have to be created in the same class together or can they be in separate classes?","body":"After I make diceView1 and diceView2 instance fields in either the Dice Simulator or ButtonClickerHandler class, how would I make sure they are still apart of the overall scene? Do both the Image and ImageView have to be created in the same class together or can they be in separate classes?"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1689468833,"post_id":76695414,"comment_id":135217818,"body_markdown":"So long as you have a reference to the appropriate `ImageView` instance, you can call `setImage(...)` on it from anywhere you like (as long as it&#39;s done on the _JavaFX Application Thread_, at least if the `ImageView` is part of a &quot;live&quot; scene graph). And no, the `Image` does not need to be created alongside the `ImageView`.","body":"So long as you have a reference to the appropriate <code>ImageView</code> instance, you can call <code>setImage(...)</code> on it from anywhere you like (as long as it&#39;s done on the <i>JavaFX Application Thread</i>, at least if the <code>ImageView</code> is part of a &quot;live&quot; scene graph). And no, the <code>Image</code> does not need to be created alongside the <code>ImageView</code>."}],"owner":{"account_id":29024519,"reputation":1,"user_id":22233083,"display_name":"Newbie123"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689449564,"creation_date":1689448866,"question_id":76695414,"body_markdown":"I&#39;m working on a dice simulator for class where clicking a button generates two random numbers and shows images of dice with the `ImageView` control.\r\n\r\n**Homework problem:** Create a JavaFX application that simulates rolling a pair of dice. When the user clicks a\r\nbutton, the application should generate two random numbers, each in the range of 1 through 6, to represent the value of the dice. Use `ImageView` controls to display the dice.\r\n\r\nI&#39;m trying to use the `setImage` method to change the image of the die when the button is pressed but I keep getting the error &quot;cannot find symbol&quot;. I think it has something to do with the scope of the variable or a lack of defining the variable but I&#39;m a beginner at all this so I have no clue.\r\n\r\nHow do I get this to work properly? Am I on the right track and just need to fix a few errors or do I need to go about the task a completely different way?\r\n\r\n\r\nCode:\r\n\r\n```\r\nimport java.util.Random;\r\nimport javafx.application.Application;\r\nimport javafx.stage.Stage;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.layout.VBox;\r\nimport javafx.scene.image.Image;\r\nimport javafx.scene.image.ImageView;\r\nimport javafx.scene.control.Label;\r\nimport javafx.scene.control.Button;\r\nimport javafx.geometry.Pos;\r\nimport javafx.event.ActionEvent;\r\nimport javafx.event.EventHandler;\r\nimport java.io.FileInputStream;\r\n\r\n\r\npublic class DiceSimulator extends Application\r\n{\r\n\t\r\n\tprivate Label myLabel;\r\n\r\n\tpublic static void main(String[] args)\r\n\t{\r\n\t\tlaunch(args);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void start(Stage primaryStage)\r\n\t{\r\n\t\tmyLabel = new Label(&quot;Click the button to roll the dice.&quot;);\r\n\t\r\n   \r\n      Image diceImage1 = new Image(new FileInputStream(&quot;file:Java Chapter 12 Assignment PC 6/Dice/Die1.bmp&quot;));   \r\n\t\tImageView diceView1 = new ImageView(diceImage1);\r\n\r\n\t\tdiceView1.setX(0);\r\n\t\tdiceView1.setY(0);\r\n\r\n\t\tdiceView1.setFitHeight(150);\r\n\t\tdiceView1.setFitWidth(150);\r\n\t\t\r\n\t\tdiceView1.setPreserveRatio(true);\r\n\r\n\r\n      Image diceImage2 = new Image(new FileInputStream(&quot;file:Java Chapter 12 Assignment PC 6/Dice/Die1.bmp&quot;));\r\n      ImageView diceView2 = new ImageView(diceImage2);\r\n\r\n\t\tdiceView2.setX(0);\r\n\t\tdiceView2.setY(0);\r\n\r\n\t\tdiceView2.setFitHeight(150);\r\n\t\tdiceView2.setFitWidth(150);\r\n\t\t\r\n\t\tdiceView2.setPreserveRatio(true);\r\n\r\n\r\n\r\n\t\tButton myButton = new Button(&quot;Roll the dice!&quot;);\r\n\t\tmyButton.setOnAction(new ButtonClickHandler());\r\n\r\n\t\tVBox vbox = new VBox(10, myLabel, myButton, diceView1, diceView2);\r\n\r\n\t\tScene scene = new Scene(vbox, 300, 100);\r\n\t\t\r\n\t\tvbox.setAlignment(Pos.CENTER);\r\n\r\n\t\tprimaryStage.setScene(scene);\r\n\r\n\t\tprimaryStage.setTitle(&quot;Dice Simulator&quot;);\r\n\r\n\t\tprimaryStage.show();\r\n\t}\r\n\r\n\tclass ButtonClickHandler implements EventHandler&lt;ActionEvent&gt;\r\n\t{\r\n\t\t@Override\r\n\t\tpublic void handle(ActionEvent event)\r\n\t\t{\r\n       \r\n        \r\n         \r\n\t\t\tint dice1=(int)(Math.random()*6+1);\r\n\t\t\tint dice2=(int)(Math.random()*6+1);\r\n\r\n\t\t\tString imgpath1 = &quot;file:Java Chapter 12 Assignment PC 6/Dice/Die&quot; +dice1+ &quot;.bmp&quot;;\r\n\t\t\tString imgpath2 = &quot;file:Java Chapter 12 Assignment PC 6/Dice/Die&quot; +dice2+ &quot;.bmp&quot;;\r\n\r\n\t\t\tdiceView1.setImage(new Image(new FileInputStream(imgpath1)));\r\n\t\t\tdiceView2.setImage(new Image(new FileInputStream(imgpath2)));\t\t\r\n\r\n\r\n\t\t}\r\n\t\r\n\t}\r\n\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\nCode error:\r\n\r\n```none\r\nDiceSimulator.java:93: error: cannot find symbol\r\n\t\t\tdiceView1.setImage(new Image(new FileInputStream(imgpath1)));\r\n\t\t\t^\r\n  symbol:   variable diceView1\r\n  location: class DiceSimulator.ButtonClickHandler\r\nDiceSimulator.java:94: error: cannot find symbol\r\n\t\t\tdiceView2.setImage(new Image(new FileInputStream(imgpath2)));\t\t\r\n\t\t\t^\r\n  symbol:   variable diceView2\r\n  location: class DiceSimulator.ButtonClickHandler\r\n2 errors\r\n```\r\n\r\n","title":"JavaFX - Dice Simulator - SetImage Inside ActionEvent-Cannot find Symbol","body":"<p>I'm working on a dice simulator for class where clicking a button generates two random numbers and shows images of dice with the <code>ImageView</code> control.</p>\n<p><strong>Homework problem:</strong> Create a JavaFX application that simulates rolling a pair of dice. When the user clicks a\nbutton, the application should generate two random numbers, each in the range of 1 through 6, to represent the value of the dice. Use <code>ImageView</code> controls to display the dice.</p>\n<p>I'm trying to use the <code>setImage</code> method to change the image of the die when the button is pressed but I keep getting the error &quot;cannot find symbol&quot;. I think it has something to do with the scope of the variable or a lack of defining the variable but I'm a beginner at all this so I have no clue.</p>\n<p>How do I get this to work properly? Am I on the right track and just need to fix a few errors or do I need to go about the task a completely different way?</p>\n<p>Code:</p>\n<pre><code>import java.util.Random;\nimport javafx.application.Application;\nimport javafx.stage.Stage;\nimport javafx.scene.Scene;\nimport javafx.scene.layout.VBox;\nimport javafx.scene.image.Image;\nimport javafx.scene.image.ImageView;\nimport javafx.scene.control.Label;\nimport javafx.scene.control.Button;\nimport javafx.geometry.Pos;\nimport javafx.event.ActionEvent;\nimport javafx.event.EventHandler;\nimport java.io.FileInputStream;\n\n\npublic class DiceSimulator extends Application\n{\n    \n    private Label myLabel;\n\n    public static void main(String[] args)\n    {\n        launch(args);\n    }\n\n    @Override\n    public void start(Stage primaryStage)\n    {\n        myLabel = new Label(&quot;Click the button to roll the dice.&quot;);\n    \n   \n      Image diceImage1 = new Image(new FileInputStream(&quot;file:Java Chapter 12 Assignment PC 6/Dice/Die1.bmp&quot;));   \n        ImageView diceView1 = new ImageView(diceImage1);\n\n        diceView1.setX(0);\n        diceView1.setY(0);\n\n        diceView1.setFitHeight(150);\n        diceView1.setFitWidth(150);\n        \n        diceView1.setPreserveRatio(true);\n\n\n      Image diceImage2 = new Image(new FileInputStream(&quot;file:Java Chapter 12 Assignment PC 6/Dice/Die1.bmp&quot;));\n      ImageView diceView2 = new ImageView(diceImage2);\n\n        diceView2.setX(0);\n        diceView2.setY(0);\n\n        diceView2.setFitHeight(150);\n        diceView2.setFitWidth(150);\n        \n        diceView2.setPreserveRatio(true);\n\n\n\n        Button myButton = new Button(&quot;Roll the dice!&quot;);\n        myButton.setOnAction(new ButtonClickHandler());\n\n        VBox vbox = new VBox(10, myLabel, myButton, diceView1, diceView2);\n\n        Scene scene = new Scene(vbox, 300, 100);\n        \n        vbox.setAlignment(Pos.CENTER);\n\n        primaryStage.setScene(scene);\n\n        primaryStage.setTitle(&quot;Dice Simulator&quot;);\n\n        primaryStage.show();\n    }\n\n    class ButtonClickHandler implements EventHandler&lt;ActionEvent&gt;\n    {\n        @Override\n        public void handle(ActionEvent event)\n        {\n       \n        \n         \n            int dice1=(int)(Math.random()*6+1);\n            int dice2=(int)(Math.random()*6+1);\n\n            String imgpath1 = &quot;file:Java Chapter 12 Assignment PC 6/Dice/Die&quot; +dice1+ &quot;.bmp&quot;;\n            String imgpath2 = &quot;file:Java Chapter 12 Assignment PC 6/Dice/Die&quot; +dice2+ &quot;.bmp&quot;;\n\n            diceView1.setImage(new Image(new FileInputStream(imgpath1)));\n            diceView2.setImage(new Image(new FileInputStream(imgpath2)));       \n\n\n        }\n    \n    }\n\n}\n</code></pre>\n<p>Code error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>DiceSimulator.java:93: error: cannot find symbol\n            diceView1.setImage(new Image(new FileInputStream(imgpath1)));\n            ^\n  symbol:   variable diceView1\n  location: class DiceSimulator.ButtonClickHandler\nDiceSimulator.java:94: error: cannot find symbol\n            diceView2.setImage(new Image(new FileInputStream(imgpath2)));       \n            ^\n  symbol:   variable diceView2\n  location: class DiceSimulator.ButtonClickHandler\n2 errors\n</code></pre>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":45934,"reputation":203679,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1548315697,"post_id":54341444,"comment_id":95499000,"body_markdown":"The filesystem on your computer keeps track of when a file was last changed. Maven compares the last change time of the source file with the corresponding class file. If the source file is newer than the class file, it recompiles the source file into a new class file.","body":"The filesystem on your computer keeps track of when a file was last changed. Maven compares the last change time of the source file with the corresponding class file. If the source file is newer than the class file, it recompiles the source file into a new class file."},{"owner":{"account_id":9018482,"reputation":822,"user_id":6720343,"accept_rate":80,"display_name":"Anuj Vishwakarma"},"score":0,"creation_date":1548315760,"post_id":54341444,"comment_id":95499037,"body_markdown":"You can look for &lt;staleMillis&gt; at http://maven.apache.org/plugins/maven-compiler-plugin/compile-mojo.html","body":"You can look for &lt;staleMillis&gt; at <a href=\"http://maven.apache.org/plugins/maven-compiler-plugin/compile-mojo.html\" rel=\"nofollow noreferrer\">maven.apache.org/plugins/maven-compiler-plugin/&hellip;</a>"},{"owner":{"account_id":5515546,"reputation":167,"user_id":4380432,"accept_rate":100,"display_name":"J Mas"},"score":0,"creation_date":1548315947,"post_id":54341444,"comment_id":95499125,"body_markdown":"@jesper where in the comiled file this date is saved?  I didn&#39;t find information in &quot;target&quot; folder. for example I created two classes in one hour run compile, than in one hour change one of two classes. how manen find out what is the files is modified","body":"@jesper where in the comiled file this date is saved?  I didn&#39;t find information in &quot;target&quot; folder. for example I created two classes in one hour run compile, than in one hour change one of two classes. how manen find out what is the files is modified"},{"owner":{"account_id":45934,"reputation":203679,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1548316109,"post_id":54341444,"comment_id":95499197,"body_markdown":"It&#39;s in the metadata of the file system; it&#39;s not stored in a file. On Linux when you use the command `ls -l` or on Windows using `dir` you&#39;ll see the date and time that a file was last modified.","body":"It&#39;s in the metadata of the file system; it&#39;s not stored in a file. On Linux when you use the command <code>ls -l</code> or on Windows using <code>dir</code> you&#39;ll see the date and time that a file was last modified."}],"answers":[{"comments":[{"owner":{"account_id":5515546,"reputation":167,"user_id":4380432,"accept_rate":100,"display_name":"J Mas"},"score":0,"creation_date":1548315519,"post_id":54341503,"comment_id":95498917,"body_markdown":"sorry, I mean compile, not about dependencies","body":"sorry, I mean compile, not about dependencies"},{"owner":{"account_id":11499155,"reputation":1563,"user_id":8427457,"display_name":"TheSprinter"},"score":1,"creation_date":1548315793,"post_id":54341503,"comment_id":95499058,"body_markdown":"it checks if `.java` file &amp; `.class` file **creation date**, if .java file created after class file then it will consider that as new/changed file and compiles only those.","body":"it checks if <code>.java</code> file &amp; <code>.class</code> file <b>creation date</b>, if .java file created after class file then it will consider that as new/changed file and compiles only those."}],"tags":[],"owner":{"account_id":11499155,"reputation":1563,"user_id":8427457,"display_name":"TheSprinter"},"comment_count":2,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1689449397,"creation_date":1548315431,"answer_id":54341503,"question_id":54341444,"body_markdown":"Everytime you call `mvn install` in your project folder, maven reads **pom.xml** file.\r\nIf any of the dependency(jar file) is not present in local repository(.m2 folder) then it look for maven centralised/main repository and download those.\r\n\r\nfor source code when you call `mvn compile` \r\nMaven plugin uses last modified time on the source and class files to check whether to compile or not.","title":"How does maven find out what is the files changed by using mvn compile","body":"<p>Everytime you call <code>mvn install</code> in your project folder, maven reads <strong>pom.xml</strong> file.\nIf any of the dependency(jar file) is not present in local repository(.m2 folder) then it look for maven centralised/main repository and download those.</p>\n<p>for source code when you call <code>mvn compile</code>\nMaven plugin uses last modified time on the source and class files to check whether to compile or not.</p>\n"}],"owner":{"account_id":5515546,"reputation":167,"user_id":4380432,"accept_rate":100,"display_name":"J Mas"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1440,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"closed_date":1548315665,"answer_count":1,"score":4,"last_activity_date":1689449397,"creation_date":1548315167,"question_id":54341444,"body_markdown":"If I don&#39;t use `maven clean`, maven compiles only modified files.  \r\nI was googling and I also tried to find in &quot;target&quot; folder information such as hashcode of class or date  \r\nbut couldn&#39;t.   \r\nHow does maven find out what is the files modified by using `mvn compile`?","title":"How does maven find out what is the files changed by using mvn compile","body":"<p>If I don't use <code>maven clean</code>, maven compiles only modified files.<br>\nI was googling and I also tried to find in \"target\" folder information such as hashcode of class or date<br>\nbut couldn't.<br>\nHow does maven find out what is the files modified by using <code>mvn compile</code>?</p>\n"},{"tags":["java","struts2","struts","action-mapping"],"answers":[{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689440354,"creation_date":1689440354,"answer_id":76694893,"question_id":76690057,"body_markdown":"&gt;Is there any way to find all request types for all struts2 actions without invoking that action.\r\n\r\nBy default Struts2 doesn&#39;t map HTTP request types. So you can&#39;t get it from the config-browser plugin. \r\n\r\nIf you want to map it yourself then you should extend the framework with the custom `ActionMapper`. You can find details how to add a custom action mapped in [this][1] answer.\r\n\r\n  [1]: https://stackoverflow.com/a/42497452/573032","title":"How can I get Request Type(GET or POST) from list of Action names in Struts 2?","body":"<blockquote>\n<p>Is there any way to find all request types for all struts2 actions without invoking that action.</p>\n</blockquote>\n<p>By default Struts2 doesn't map HTTP request types. So you can't get it from the config-browser plugin.</p>\n<p>If you want to map it yourself then you should extend the framework with the custom <code>ActionMapper</code>. You can find details how to add a custom action mapped in <a href=\"https://stackoverflow.com/a/42497452/573032\">this</a> answer.</p>\n"}],"owner":{"account_id":18230420,"reputation":13,"user_id":13269465,"display_name":"Ritesh_RM"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1689842865,"answer_count":1,"score":-1,"last_activity_date":1689449224,"creation_date":1689356363,"question_id":76690057,"body_markdown":"I want to get all POST/GET request types for all of the struts actions present in my application.\r\n\r\nI have used struts2-config-browser-plugin and got all action names throughout the application.\r\n\r\nNow, I want to get Request types of all those action names and consolidated those in a Java collection(list).\r\n\r\nIs there any way to find all request types for all struts2 actions without invoking that action.\r\n\r\n","title":"How can I get Request Type(GET or POST) from list of Action names in Struts 2?","body":"<p>I want to get all POST/GET request types for all of the struts actions present in my application.</p>\n<p>I have used struts2-config-browser-plugin and got all action names throughout the application.</p>\n<p>Now, I want to get Request types of all those action names and consolidated those in a Java collection(list).</p>\n<p>Is there any way to find all request types for all struts2 actions without invoking that action.</p>\n"},{"tags":["java","docker","maven","jib","maven-jib"],"comments":[{"owner":{"account_id":20503413,"reputation":63,"user_id":15046825,"display_name":"Davide _-"},"score":0,"creation_date":1652802618,"post_id":72277087,"comment_id":127692305,"body_markdown":"java version: 17","body":"java version: 17"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1652804620,"post_id":72277087,"comment_id":127693089,"body_markdown":"The problem is: `registry-1.docker.io/library/eclipse-temurin: 401 Unauthorized` this... do you have an account and maybe: https://www.docker.com/pricing/","body":"The problem is: <code>registry-1.docker.io&#47;library&#47;eclipse-temurin: 401 Unauthorized</code> this... do you have an account and maybe: <a href=\"https://www.docker.com/pricing/\" rel=\"nofollow noreferrer\">docker.com/pricing</a>"},{"owner":{"account_id":20503413,"reputation":63,"user_id":15046825,"display_name":"Davide _-"},"score":0,"creation_date":1652808557,"post_id":72277087,"comment_id":127694345,"body_markdown":"I do have an account and I am logged in Docker Desktop and DockerHub","body":"I do have an account and I am logged in Docker Desktop and DockerHub"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1652809023,"post_id":72277087,"comment_id":127694509,"body_markdown":"The output states different... You have not logging in via `docker login`...","body":"The output states different... You have not logging in via <code>docker login</code>..."},{"owner":{"account_id":20503413,"reputation":63,"user_id":15046825,"display_name":"Davide _-"},"score":0,"creation_date":1652809427,"post_id":72277087,"comment_id":127694634,"body_markdown":"I ran that command and it says it was successfull but then I run the jib command and it still doesnt work, I also found a line which may help ```[INFO] Using credentials from Docker config (C:\\Users\\david\\.docker\\config.json) for openjdk:17```, and tried to add this to the pom ```&lt;from&gt;&lt;image&gt;openjdk:17&lt;/image&gt;&lt;/from&gt;```","body":"I ran that command and it says it was successfull but then I run the jib command and it still doesnt work, I also found a line which may help <code>[INFO] Using credentials from Docker config (C:\\Users\\david\\.docker\\config.json) for openjdk:17</code>, and tried to add this to the pom <code>&lt;from&gt;&lt;image&gt;openjdk:17&lt;&#47;image&gt;&lt;&#47;from&gt;</code>"},{"owner":{"account_id":20503413,"reputation":63,"user_id":15046825,"display_name":"Davide _-"},"score":0,"creation_date":1652809517,"post_id":72277087,"comment_id":127694654,"body_markdown":"The fact that I am saving my docker password on google passwords might be a problem maybe?","body":"The fact that I am saving my docker password on google passwords might be a problem maybe?"}],"answers":[{"comments":[{"owner":{"account_id":20503413,"reputation":63,"user_id":15046825,"display_name":"Davide _-"},"score":0,"creation_date":1652994746,"post_id":72303165,"comment_id":127749463,"body_markdown":"thank you for your suggestions but unfortunately they didn&#39;t work for me :(","body":"thank you for your suggestions but unfortunately they didn&#39;t work for me :("},{"owner":{"account_id":196842,"reputation":1036,"user_id":440516,"accept_rate":57,"display_name":"Vicary"},"score":0,"creation_date":1675087413,"post_id":72303165,"comment_id":132846913,"body_markdown":"The `&quot;credStore&quot;: &quot;desktop&quot;` worked for me on my Mac Mini GitLab Runner.","body":"The <code>&quot;credStore&quot;: &quot;desktop&quot;</code> worked for me on my Mac Mini GitLab Runner."},{"owner":{"account_id":247140,"reputation":101,"user_id":2479107,"display_name":"Ivan"},"score":0,"creation_date":1694229919,"post_id":72303165,"comment_id":135867723,"body_markdown":"I made two changes (running on WSL2), a) credsStore -&gt; credStore and b) desktop.exe to desktop and then surprisingly it worked. Thanks!  Do you have the link referenced where you read this recommendation? is the issue that is expecting an array of credentials instead of a single one?","body":"I made two changes (running on WSL2), a) credsStore -&gt; credStore and b) desktop.exe to desktop and then surprisingly it worked. Thanks!  Do you have the link referenced where you read this recommendation? is the issue that is expecting an array of credentials instead of a single one?"}],"tags":[],"owner":{"account_id":16849349,"reputation":41,"user_id":12182808,"display_name":"Alexey"},"comment_count":3,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1675259303,"creation_date":1652957172,"answer_id":72303165,"question_id":72277087,"body_markdown":"I had the same issue on Mac.\r\nAnd I found 2 ways how to solve it:\r\n\r\n 1. To do this, you can use the jib config:\r\n```\r\n&lt;configuration&gt;\r\n  ...\r\n  &lt;from&gt;\r\n    &lt;image&gt;aws_account_id.dkr.ecr.region.amazonaws.com/my-base-image&lt;/image&gt;\r\n    &lt;auth&gt;\r\n      &lt;username&gt;my_username&lt;/username&gt;\r\n      &lt;password&gt;my_password&lt;/password&gt;\r\n    &lt;/auth&gt;\r\n  &lt;/from&gt;\r\n  &lt;to&gt;\r\n    &lt;image&gt;gcr.io/my-gcp-project/my-app&lt;/image&gt;\r\n    &lt;auth&gt;\r\n      &lt;username&gt;${env.REGISTRY_USERNAME}&lt;/username&gt;\r\n      &lt;password&gt;${env.REGISTRY_PASSWORD}&lt;/password&gt;\r\n    &lt;/auth&gt;\r\n  &lt;/to&gt;\r\n  ...\r\n&lt;/configuration&gt;\r\n```\r\nhttps://github.com/GoogleContainerTools/jib/blob/master/jib-maven-plugin/README.md#auth-object\r\n\r\n2. The second way is not about Windows, i fixed this issue on Mac OS but you can try to use my experience. I figured that it&#39;s strange if we&#39;re getting 401 unauthorized the most likely Jib trying to login with some wrong credentials.\r\nIn my case i found 2 rows in Keychain Access: \r\n- The first (wrong) with email in password (instead real password))\r\n- The second (correct) with real password\r\nJib tried to use first. The problem was solved after deleting the first value.\r\nIn windows case you can try to use `Credential Manager` or find some another credentials storage.\r\n\r\nAdditionally.\r\nWhile i was researching it i found recommendations to change:\r\n```\r\n &quot;credsStore&quot;: &quot;desktop&quot; -&gt; &quot;credStore&quot;: &quot;desktop&quot;\r\n```\r\nBut it didn&#39;t work for me.\r\n\r\nUPD\r\nSame story on Windows use `Credential Manager`","title":"401 Unauthorized when using jib to create docker image","body":"<p>I had the same issue on Mac.\nAnd I found 2 ways how to solve it:</p>\n<ol>\n<li>To do this, you can use the jib config:</li>\n</ol>\n<pre><code>&lt;configuration&gt;\n  ...\n  &lt;from&gt;\n    &lt;image&gt;aws_account_id.dkr.ecr.region.amazonaws.com/my-base-image&lt;/image&gt;\n    &lt;auth&gt;\n      &lt;username&gt;my_username&lt;/username&gt;\n      &lt;password&gt;my_password&lt;/password&gt;\n    &lt;/auth&gt;\n  &lt;/from&gt;\n  &lt;to&gt;\n    &lt;image&gt;gcr.io/my-gcp-project/my-app&lt;/image&gt;\n    &lt;auth&gt;\n      &lt;username&gt;${env.REGISTRY_USERNAME}&lt;/username&gt;\n      &lt;password&gt;${env.REGISTRY_PASSWORD}&lt;/password&gt;\n    &lt;/auth&gt;\n  &lt;/to&gt;\n  ...\n&lt;/configuration&gt;\n</code></pre>\n<p><a href=\"https://github.com/GoogleContainerTools/jib/blob/master/jib-maven-plugin/README.md#auth-object\" rel=\"nofollow noreferrer\">https://github.com/GoogleContainerTools/jib/blob/master/jib-maven-plugin/README.md#auth-object</a></p>\n<ol start=\"2\">\n<li>The second way is not about Windows, i fixed this issue on Mac OS but you can try to use my experience. I figured that it's strange if we're getting 401 unauthorized the most likely Jib trying to login with some wrong credentials.\nIn my case i found 2 rows in Keychain Access:</li>\n</ol>\n<ul>\n<li>The first (wrong) with email in password (instead real password))</li>\n<li>The second (correct) with real password\nJib tried to use first. The problem was solved after deleting the first value.\nIn windows case you can try to use <code>Credential Manager</code> or find some another credentials storage.</li>\n</ul>\n<p>Additionally.\nWhile i was researching it i found recommendations to change:</p>\n<pre><code> &quot;credsStore&quot;: &quot;desktop&quot; -&gt; &quot;credStore&quot;: &quot;desktop&quot;\n</code></pre>\n<p>But it didn't work for me.</p>\n<p>UPD\nSame story on Windows use <code>Credential Manager</code></p>\n"},{"comments":[{"owner":{"account_id":18263692,"reputation":563,"user_id":13295921,"display_name":"UN..D"},"score":0,"creation_date":1672412914,"post_id":72394364,"comment_id":132285828,"body_markdown":"deleting config.json never worked cause it&#39;s generated again with auths &amp; credsStore","body":"deleting config.json never worked cause it&#39;s generated again with auths &amp; credsStore"},{"owner":{"account_id":18263692,"reputation":563,"user_id":13295921,"display_name":"UN..D"},"score":0,"creation_date":1672413806,"post_id":72394364,"comment_id":132286048,"body_markdown":"Chanseok Oh, Could you please mention resources about how to implement Docker-Credential-helper for windows ?","body":"Chanseok Oh, Could you please mention resources about how to implement Docker-Credential-helper for windows ?"}],"tags":[],"owner":{"account_id":1881220,"reputation":4005,"user_id":1701388,"display_name":"Chanseok Oh"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1672544445,"creation_date":1653579240,"answer_id":72394364,"question_id":72277087,"body_markdown":"```\r\n{&quot;details&quot;:&quot;incorrect username or password&quot;}\r\n```\r\nThe response from the server is clear. Credentials were given to the server, and it says they are wrong.\r\n\r\nIndeed, Jib did retrieve some (probably non-working) credentials from the Docker `config.json` file:\r\n```\r\n[INFO] Using credentials from Docker config (C:\\Users\\david\\.docker\\config.json) for openjdk:17\r\n```\r\n\r\nTry emptying `config.json` entirely or have just an empty `{}` block. Particularly, remove the entry for `&quot;https://index.docker.io/v1/&quot;` and `credsStore`. Deleting the file may or may not work, as Docker or other tools can regenerate it with wrong credentials again.\r\n\r\nProbably the same kind of issue to this [Stack Overflow question](https://stackoverflow.com/q/72365455/1701388). Also take a look at this [GitHub issue](https://github.com/GoogleContainerTools/jib/issues/3677) on the Jib repo.","title":"401 Unauthorized when using jib to create docker image","body":"<pre><code>{&quot;details&quot;:&quot;incorrect username or password&quot;}\n</code></pre>\n<p>The response from the server is clear. Credentials were given to the server, and it says they are wrong.</p>\n<p>Indeed, Jib did retrieve some (probably non-working) credentials from the Docker <code>config.json</code> file:</p>\n<pre><code>[INFO] Using credentials from Docker config (C:\\Users\\david\\.docker\\config.json) for openjdk:17\n</code></pre>\n<p>Try emptying <code>config.json</code> entirely or have just an empty <code>{}</code> block. Particularly, remove the entry for <code>&quot;https://index.docker.io/v1/&quot;</code> and <code>credsStore</code>. Deleting the file may or may not work, as Docker or other tools can regenerate it with wrong credentials again.</p>\n<p>Probably the same kind of issue to this <a href=\"https://stackoverflow.com/q/72365455/1701388\">Stack Overflow question</a>. Also take a look at this <a href=\"https://github.com/GoogleContainerTools/jib/issues/3677\" rel=\"nofollow noreferrer\">GitHub issue</a> on the Jib repo.</p>\n"},{"tags":[],"owner":{"account_id":16849349,"reputation":41,"user_id":12182808,"display_name":"Alexey"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655222444,"creation_date":1655222266,"answer_id":72620053,"question_id":72277087,"body_markdown":"I ran into the same problem on Windows.\r\nTry removing the following creds:\r\n - ..docker../acces-token\r\n - ..docker../refresh-token\r\n\r\nhttps://i.stack.imgur.com/G9aGR.png","title":"401 Unauthorized when using jib to create docker image","body":"<p>I ran into the same problem on Windows.\nTry removing the following creds:</p>\n<ul>\n<li>..docker../acces-token</li>\n<li>..docker../refresh-token</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/G9aGR.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/G9aGR.png</a></p>\n"},{"comments":[{"owner":{"account_id":18280342,"reputation":548,"user_id":13309282,"display_name":"Golamrabbi Azad"},"score":1,"creation_date":1679256545,"post_id":72674235,"comment_id":133684662,"body_markdown":"This one just lit. Works OOB. Thanks!","body":"This one just lit. Works OOB. Thanks!"}],"tags":[],"owner":{"account_id":8713079,"reputation":312,"user_id":6518664,"accept_rate":100,"display_name":"Elated Coder"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655612060,"creation_date":1655612060,"answer_id":72674235,"question_id":72277087,"body_markdown":"If you don&#39;t want to go the extra credentials configuration step, pass them when running `mvn package` as below:\r\n\r\n    mvn package -D jib.to.auth.username=&quot;yourdockerUsername&quot; -Djib.to.auth.password=&quot;yourDockerPassword&quot;\r\n\r\nIt will build and push to docker Hub as required.","title":"401 Unauthorized when using jib to create docker image","body":"<p>If you don't want to go the extra credentials configuration step, pass them when running <code>mvn package</code> as below:</p>\n<pre><code>mvn package -D jib.to.auth.username=&quot;yourdockerUsername&quot; -Djib.to.auth.password=&quot;yourDockerPassword&quot;\n</code></pre>\n<p>It will build and push to docker Hub as required.</p>\n"},{"comments":[{"owner":{"account_id":18263692,"reputation":563,"user_id":13295921,"display_name":"UN..D"},"score":0,"creation_date":1672412676,"post_id":73345355,"comment_id":132285771,"body_markdown":"I did what u mention, and then after login this add inside the file &quot;credsStore&quot;: &quot;wincred&quot;, and never work with JIB","body":"I did what u mention, and then after login this add inside the file &quot;credsStore&quot;: &quot;wincred&quot;, and never work with JIB"}],"tags":[],"owner":{"account_id":14591629,"reputation":549,"user_id":10538548,"display_name":"Khairul Bashar Lemon"},"comment_count":1,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1660402965,"creation_date":1660402965,"answer_id":73345355,"question_id":72277087,"body_markdown":"Just delete the credsStore property from the docker-config file.\r\nYou will find the config.json at your user-home dir.\r\n\r\nthe path is: **$USER/.docker/config.json**\r\nand suppose the file contains the followings, \r\n\r\n    {\r\n      &quot;auths&quot;: {\r\n        &quot;https://index.docker.io/v1/&quot;: {}\r\n      },\r\n      &quot;credsStore&quot;: &quot;desktop&quot;\r\n    }\r\n\r\nand now delete the line :\r\n      &quot;credsStore&quot;: &quot;desktop&quot;\r\n\r\nSo, the file will now contain the following\r\n\r\n    {\r\n      &quot;auths&quot;: {\r\n        &quot;https://index.docker.io/v1/&quot;: {}\r\n      }\r\n    }","title":"401 Unauthorized when using jib to create docker image","body":"<p>Just delete the credsStore property from the docker-config file.\nYou will find the config.json at your user-home dir.</p>\n<p>the path is: <strong>$USER/.docker/config.json</strong>\nand suppose the file contains the followings,</p>\n<pre><code>{\n  &quot;auths&quot;: {\n    &quot;https://index.docker.io/v1/&quot;: {}\n  },\n  &quot;credsStore&quot;: &quot;desktop&quot;\n}\n</code></pre>\n<p>and now delete the line :\n&quot;credsStore&quot;: &quot;desktop&quot;</p>\n<p>So, the file will now contain the following</p>\n<pre><code>{\n  &quot;auths&quot;: {\n    &quot;https://index.docker.io/v1/&quot;: {}\n  }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1667802335,"post_id":74306078,"comment_id":131245410,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/74306078/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":26078639,"reputation":41,"user_id":19777207,"display_name":"Gregory Risch"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1667491302,"creation_date":1667491302,"answer_id":74306078,"question_id":72277087,"body_markdown":"I had the issue on windows and solved the problem as follows: \r\n\r\n&gt; Control Panel\\All Control Panel Items\\Credential Manager\r\n\r\nFrom here I have removed in the **Generic Credentials** section all the entries related to docker\r\n\r\nThe from the powershell prompt:\r\n\r\ndocker login\r\n\r\nand it worked!","title":"401 Unauthorized when using jib to create docker image","body":"<p>I had the issue on windows and solved the problem as follows:</p>\n<blockquote>\n<p>Control Panel\\All Control Panel Items\\Credential Manager</p>\n</blockquote>\n<p>From here I have removed in the <strong>Generic Credentials</strong> section all the entries related to docker</p>\n<p>The from the powershell prompt:</p>\n<p>docker login</p>\n<p>and it worked!</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1672428251,"post_id":74963894,"comment_id":132289638,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/74963894/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":27392621,"reputation":1,"user_id":20895382,"display_name":"Fernan"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672418844,"creation_date":1672418844,"answer_id":74963894,"question_id":72277087,"body_markdown":"faced same issue on win10 ... had to close docker desktop, I got some WARN related to credentials though, but it created the img\r\n\r\n\r\n\r\n","title":"401 Unauthorized when using jib to create docker image","body":"<p>faced same issue on win10 ... had to close docker desktop, I got some WARN related to credentials though, but it created the img</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1680324186,"post_id":75854942,"comment_id":133883151,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/75854942/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":25336552,"reputation":1,"user_id":19155602,"display_name":"Dmitry Narodetsky"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679914762,"creation_date":1679914762,"answer_id":75854942,"question_id":72277087,"body_markdown":"Use userId and NOT email to logon to docker hub. You should have an account on docker hub","title":"401 Unauthorized when using jib to create docker image","body":"<p>Use userId and NOT email to logon to docker hub. You should have an account on docker hub</p>\n"},{"tags":[],"owner":{"account_id":7151918,"reputation":3927,"user_id":5465632,"accept_rate":83,"display_name":"Ram"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689447784,"creation_date":1689447784,"answer_id":76695342,"question_id":72277087,"body_markdown":"I tried almost every possible solution here and other sources, none of them worked for me. Follow the below steps to fix this.\r\n\r\nI am using the Windows 11 OS.\r\n\r\nBelow is what I want to push to docker hub.\r\n\r\n    &lt;to&gt;\r\n                    &lt;image&gt;registry.hub.docker.com/&lt;docker-hub-username&gt;/${project.artifactId}:1.0&lt;/image&gt;\r\n                &lt;/to&gt;\r\n\r\n`.config/config.json` file\r\n\r\nDo not delete this file. Keep it open in notepad. \r\n\r\nBefore you login to docker hub in CMD, just remove `credStore` key-value from `config.json` file.\r\n\r\nNow go to Windows CMD to login to docker hub as follows and hit the enter button. It will ask for the password. Use access token/password for the docker hub.\r\n\r\n    docker login -u &lt;docker-hub-username&gt;\r\n\r\nOutput:\r\n[![enter image description here][1]][1]\r\n\r\nIt should add auth key-value in your config.json file as following.\r\n\r\n    {\r\n\t&quot;auths&quot;: {\r\n\t\t&quot;https://index.docker.io/v1/&quot;: {\r\n\t\t\t&quot;auth&quot;: &quot;&lt;auto-generated-base64-encoded-username-password-for-docker-hub&gt;&quot;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nNow push the image to docker hub using Jib.\r\n\r\n     mvn clean compile jib:build\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Y3XHo.png","title":"401 Unauthorized when using jib to create docker image","body":"<p>I tried almost every possible solution here and other sources, none of them worked for me. Follow the below steps to fix this.</p>\n<p>I am using the Windows 11 OS.</p>\n<p>Below is what I want to push to docker hub.</p>\n<pre><code>&lt;to&gt;\n                &lt;image&gt;registry.hub.docker.com/&lt;docker-hub-username&gt;/${project.artifactId}:1.0&lt;/image&gt;\n            &lt;/to&gt;\n</code></pre>\n<p><code>.config/config.json</code> file</p>\n<p>Do not delete this file. Keep it open in notepad.</p>\n<p>Before you login to docker hub in CMD, just remove <code>credStore</code> key-value from <code>config.json</code> file.</p>\n<p>Now go to Windows CMD to login to docker hub as follows and hit the enter button. It will ask for the password. Use access token/password for the docker hub.</p>\n<pre><code>docker login -u &lt;docker-hub-username&gt;\n</code></pre>\n<p>Output:\n<a href=\"https://i.stack.imgur.com/Y3XHo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Y3XHo.png\" alt=\"enter image description here\" /></a></p>\n<p>It should add auth key-value in your config.json file as following.</p>\n<pre><code>{\n&quot;auths&quot;: {\n    &quot;https://index.docker.io/v1/&quot;: {\n        &quot;auth&quot;: &quot;&lt;auto-generated-base64-encoded-username-password-for-docker-hub&gt;&quot;\n    }\n}\n</code></pre>\n<p>}</p>\n<p>Now push the image to docker hub using Jib.</p>\n<pre><code> mvn clean compile jib:build\n</code></pre>\n"}],"owner":{"account_id":20503413,"reputation":63,"user_id":15046825,"display_name":"Davide _-"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10550,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":9,"score":6,"last_activity_date":1689447784,"creation_date":1652802554,"question_id":72277087,"body_markdown":"I am on windows and this is the plugin configuration:\r\n```\r\n&lt;plugin&gt;\r\n\t&lt;groupId&gt;com.google.cloud.tools&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;jib-maven-plugin&lt;/artifactId&gt;\r\n\t&lt;version&gt;3.2.1&lt;/version&gt;\r\n\t&lt;configuration&gt;\r\n\t\t&lt;container&gt;\r\n\t\t\t&lt;ports&gt;\r\n\t\t\t\t&lt;port&gt;8080&lt;/port&gt;\r\n\t\t\t&lt;/ports&gt;\r\n\t\t    &lt;format&gt;OCI&lt;/format&gt;\r\n\t    &lt;/container&gt;\r\n\t&lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\nThis is the command I run:\r\n```\r\n.\\mvnw clean install jib:dockerBuild -Dimage=fullstack:v1\r\n```\r\nThis is the error I keep getting no matter what I do:\r\n```\r\n[ERROR] Failed to execute goal com.google.cloud.tools:jib-maven-plugin:3.2.1:dockerBuild (default-cli) on project SpringBootFullStack: Build\r\n to Docker daemon failed, perhaps you should make sure your credentials for &#39;registry-1.docker.io/library/eclipse-temurin&#39; are set up correc\r\ntly. See https://github.com/GoogleContainerTools/jib/blob/master/docs/faq.md#what-should-i-do-when-the-registry-responds-with-unauthorized f\r\nor help: Unauthorized for registry-1.docker.io/library/eclipse-temurin: 401 Unauthorized\r\n[ERROR] {&quot;details&quot;:&quot;incorrect username or password&quot;}\r\n[ERROR] -&gt; [Help 1]\r\n[ERROR]\r\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n[ERROR]\r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\n```\r\nHow should I go about it? I&#39;ve read the documentation on jib github repo on authenticating but I don&#39;t really understand how to procede and feel overwhelmed\r\n\r\nUPDATE\r\n\r\nI ran ```docker login``` and I get:\r\n```\r\nAuthenticating with existing credentials...\r\nLogin Succeeded\r\n```\r\nbut the error persists (and I figured I didn&#39;t include some part of the logging maybe:\r\n```\r\n[INFO] Using credentials from Docker config (C:\\Users\\david\\.docker\\config.json) for openjdk:17\r\n[INFO] Executing tasks:                               \r\n[INFO] [============                  ] 40.0% complete\r\n[INFO] &gt; building image to Docker daemon              \r\n[INFO]                                                \r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  2.964 s\r\n[INFO] Finished at: 2022-05-17T19:39:12+02:00\r\n[INFO] ------------------------------------------------------------------------\r\n[ERROR] Failed to execute goal com.google.cloud.tools:jib-maven-plugin:3.2.1:dockerBuild (default-cli) on project SpringBootFullStack: Build\r\n to Docker daemon failed, perhaps you should make sure your credentials for &#39;registry-1.docker.io/library/openjdk&#39; are set up correctly. See\r\n Unauthorized for registry-1.docker.io/library/openjdk: 401 Unauthorized\r\n[ERROR] {&quot;details&quot;:&quot;incorrect username or password&quot;}\r\n[ERROR] -&gt; [Help 1]\r\n[ERROR]\r\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n[ERROR]\r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\n```\r\n\r\nUPDATE 2\r\n\r\nthis is also the content of the file logs refer to in order to get username and password:\r\n```\r\n{\r\n\t&quot;auths&quot;: {\r\n\t\t&quot;https://index.docker.io/v1/&quot;: {}\r\n\t},\r\n\t&quot;credsStore&quot;: &quot;desktop&quot;\r\n}\r\n```\r\n\r\nUPDATE 3\r\n\r\nAfter two days of trying I decided to look for something else that would do the same job: https://spring.io/guides/gs/spring-boot-docker/\r\nAnd with this the job was done in ~10 minutes. Life really is crazy","title":"401 Unauthorized when using jib to create docker image","body":"<p>I am on windows and this is the plugin configuration:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;com.google.cloud.tools&lt;/groupId&gt;\n    &lt;artifactId&gt;jib-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.2.1&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;container&gt;\n            &lt;ports&gt;\n                &lt;port&gt;8080&lt;/port&gt;\n            &lt;/ports&gt;\n            &lt;format&gt;OCI&lt;/format&gt;\n        &lt;/container&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>This is the command I run:</p>\n<pre><code>.\\mvnw clean install jib:dockerBuild -Dimage=fullstack:v1\n</code></pre>\n<p>This is the error I keep getting no matter what I do:</p>\n<pre><code>[ERROR] Failed to execute goal com.google.cloud.tools:jib-maven-plugin:3.2.1:dockerBuild (default-cli) on project SpringBootFullStack: Build\n to Docker daemon failed, perhaps you should make sure your credentials for 'registry-1.docker.io/library/eclipse-temurin' are set up correc\ntly. See https://github.com/GoogleContainerTools/jib/blob/master/docs/faq.md#what-should-i-do-when-the-registry-responds-with-unauthorized f\nor help: Unauthorized for registry-1.docker.io/library/eclipse-temurin: 401 Unauthorized\n[ERROR] {&quot;details&quot;:&quot;incorrect username or password&quot;}\n[ERROR] -&gt; [Help 1]\n[ERROR]\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\n</code></pre>\n<p>How should I go about it? I've read the documentation on jib github repo on authenticating but I don't really understand how to procede and feel overwhelmed</p>\n<p>UPDATE</p>\n<p>I ran <code>docker login</code> and I get:</p>\n<pre><code>Authenticating with existing credentials...\nLogin Succeeded\n</code></pre>\n<p>but the error persists (and I figured I didn't include some part of the logging maybe:</p>\n<pre><code>[INFO] Using credentials from Docker config (C:\\Users\\david\\.docker\\config.json) for openjdk:17\n[INFO] Executing tasks:                               \n[INFO] [============                  ] 40.0% complete\n[INFO] &gt; building image to Docker daemon              \n[INFO]                                                \n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  2.964 s\n[INFO] Finished at: 2022-05-17T19:39:12+02:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal com.google.cloud.tools:jib-maven-plugin:3.2.1:dockerBuild (default-cli) on project SpringBootFullStack: Build\n to Docker daemon failed, perhaps you should make sure your credentials for 'registry-1.docker.io/library/openjdk' are set up correctly. See\n Unauthorized for registry-1.docker.io/library/openjdk: 401 Unauthorized\n[ERROR] {&quot;details&quot;:&quot;incorrect username or password&quot;}\n[ERROR] -&gt; [Help 1]\n[ERROR]\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\n</code></pre>\n<p>UPDATE 2</p>\n<p>this is also the content of the file logs refer to in order to get username and password:</p>\n<pre><code>{\n    &quot;auths&quot;: {\n        &quot;https://index.docker.io/v1/&quot;: {}\n    },\n    &quot;credsStore&quot;: &quot;desktop&quot;\n}\n</code></pre>\n<p>UPDATE 3</p>\n<p>After two days of trying I decided to look for something else that would do the same job: <a href=\"https://spring.io/guides/gs/spring-boot-docker/\" rel=\"noreferrer\">https://spring.io/guides/gs/spring-boot-docker/</a>\nAnd with this the job was done in ~10 minutes. Life really is crazy</p>\n"},{"tags":["java","sql","mysql"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1689447796,"post_id":76695337,"comment_id":135216106,"body_markdown":"The error is telling you exactly what is wrong as you appear to be assigning all SQL variables to the same parameter, parameter 1.","body":"The error is telling you exactly what is wrong as you appear to be assigning all SQL variables to the same parameter, parameter 1."},{"owner":{"account_id":17259056,"reputation":27,"user_id":12497473,"display_name":"sqlcoder"},"score":0,"creation_date":1689448012,"post_id":76695337,"comment_id":135216126,"body_markdown":"Thanks I have just noticed. I changed the parameters and it has produced another error:  You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;VALUES(&#39;q&#39;&#39;a&#39;&#39;a&#39;&#39;ss&#39;)&#39; at line 1","body":"Thanks I have just noticed. I changed the parameters and it has produced another error:  You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;VALUES(&#39;q&#39;&#39;a&#39;&#39;a&#39;&#39;ss&#39;)&#39; at line 1"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1689448097,"post_id":76695337,"comment_id":135216136,"body_markdown":"Shouldn&#39;t there be commas?","body":"Shouldn&#39;t there be commas?"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1689448124,"post_id":76695337,"comment_id":135216142,"body_markdown":"Have you gone through the relevant tutorials on this topic? You can find some resources both [here](https://stackoverflow.com/tags/sql/info) and [here](https://stackoverflow.com/tags/mysql/info)","body":"Have you gone through the relevant tutorials on this topic? You can find some resources both <a href=\"https://stackoverflow.com/tags/sql/info\">here</a> and <a href=\"https://stackoverflow.com/tags/mysql/info\">here</a>"},{"owner":{"account_id":17259056,"reputation":27,"user_id":12497473,"display_name":"sqlcoder"},"score":0,"creation_date":1689448202,"post_id":76695337,"comment_id":135216152,"body_markdown":"yes I am getting really confused. I am very new to this, so I could be making stupid mistakes.","body":"yes I am getting really confused. I am very new to this, so I could be making stupid mistakes."},{"owner":{"account_id":17259056,"reputation":27,"user_id":12497473,"display_name":"sqlcoder"},"score":0,"creation_date":1689449715,"post_id":76695337,"comment_id":135216297,"body_markdown":"@HovercraftFullOfEels managed to solve the issue it was the commas lol. These small mistakes stress you out!! thanks for the advice and your time (:","body":"@HovercraftFullOfEels managed to solve the issue it was the commas lol. These small mistakes stress you out!! thanks for the advice and your time (:"}],"owner":{"account_id":17259056,"reputation":27,"user_id":12497473,"display_name":"sqlcoder"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1689447770,"answer_count":0,"score":0,"last_activity_date":1689447670,"creation_date":1689447670,"question_id":76695337,"body_markdown":"I&#39;m currently new to JAVAfx and I am trying to create a signup user method. When I run the program I get this error: \r\n\r\n```\r\n\r\njava.sql.SQLException: No value specified for parameter 2\r\n\tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)\r\n\tat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\r\n\tat com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:379)\r\n\tat com.example.demo2/com.example.demo2.DatabaseHandler.signUpUser(DatabaseHandler.java:34)\r\n\tat com.example.demo2/com.example.demo2.registerController.lambda$initialize$0(registerController.java:37)\r\n\r\n```\r\n\r\n```\r\n    public void signUpUser(String firstName, String lastName, String email, String password) {\r\n\r\n        String insert = &quot;INSERT INTO &quot; + Const.USERS_TABLE + &quot;(&quot; + Const.USERS_FIRSTNAME + &quot;,&quot; + &quot;VALUES(????)&quot;;\r\n\r\n        try {\r\n            PreparedStatement preparedStatement = getDbConnection().prepareStatement(insert);\r\n\r\n            preparedStatement.setString(1,firstName);\r\n            preparedStatement.setString(1,lastName);\r\n            preparedStatement.setString(1,email);\r\n            preparedStatement.setString(1,password);\r\n\r\n            preparedStatement.execute();\r\n        } catch (SQLException e) {\r\n            e.printStackTrace();\r\n        } catch (ClassNotFoundException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n    }\r\n```\r\n\r\nAny help would be great. I think this method is faulty.\r\n\r\nThanks\r\n","title":"How to fix No value specified for parameter 2 error","body":"<p>I'm currently new to JAVAfx and I am trying to create a signup user method. When I run the program I get this error:</p>\n<pre><code>\njava.sql.SQLException: No value specified for parameter 2\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)\n    at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\n    at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:379)\n    at com.example.demo2/com.example.demo2.DatabaseHandler.signUpUser(DatabaseHandler.java:34)\n    at com.example.demo2/com.example.demo2.registerController.lambda$initialize$0(registerController.java:37)\n\n</code></pre>\n<pre><code>    public void signUpUser(String firstName, String lastName, String email, String password) {\n\n        String insert = &quot;INSERT INTO &quot; + Const.USERS_TABLE + &quot;(&quot; + Const.USERS_FIRSTNAME + &quot;,&quot; + &quot;VALUES(????)&quot;;\n\n        try {\n            PreparedStatement preparedStatement = getDbConnection().prepareStatement(insert);\n\n            preparedStatement.setString(1,firstName);\n            preparedStatement.setString(1,lastName);\n            preparedStatement.setString(1,email);\n            preparedStatement.setString(1,password);\n\n            preparedStatement.execute();\n        } catch (SQLException e) {\n            e.printStackTrace();\n        } catch (ClassNotFoundException e) {\n            e.printStackTrace();\n        }\n\n    }\n</code></pre>\n<p>Any help would be great. I think this method is faulty.</p>\n<p>Thanks</p>\n"},{"tags":["java","naming"],"comments":[{"owner":{"account_id":40721,"reputation":357298,"user_id":118068,"display_name":"Marc B"},"score":3,"creation_date":1329584061,"post_id":9343081,"comment_id":11793140,"body_markdown":"Queues CAN be empty. A pop operation on an empty stack doesn&#39;t make much sense, so it makes more sense to call it &quot;Poll&quot; - fetch something if it&#39;s available, otherwise do nothing.","body":"Queues CAN be empty. A pop operation on an empty stack doesn&#39;t make much sense, so it makes more sense to call it &quot;Poll&quot; - fetch something if it&#39;s available, otherwise do nothing."},{"owner":{"account_id":1259596,"reputation":1142,"user_id":1218290,"display_name":"zpangwin"},"score":1,"creation_date":1329586892,"post_id":9343081,"comment_id":11793744,"body_markdown":"That makes more sense... I had been comparing mostly against Stack and the C++ std classes for stack and queue (not to mention arrays in JS, lol). Between duffymo, Tomasz, and ruakh&#39;s answers -- and looking over the api descriptions a little more thoroughly -- I think I see why they chose to avoid the names &quot;push&quot; and &quot;pop&quot; for Queue. Thanks to all for the great responses!","body":"That makes more sense... I had been comparing mostly against Stack and the C++ std classes for stack and queue (not to mention arrays in JS, lol). Between duffymo, Tomasz, and ruakh&#39;s answers -- and looking over the api descriptions a little more thoroughly -- I think I see why they chose to avoid the names &quot;push&quot; and &quot;pop&quot; for Queue. Thanks to all for the great responses!"}],"answers":[{"comments":[{"owner":{"account_id":953149,"reputation":177303,"user_id":978917,"accept_rate":86,"display_name":"ruakh"},"score":13,"creation_date":1329584465,"post_id":9343130,"comment_id":11793225,"body_markdown":"I don&#39;t completely agree. True, `push` and `pop` are very strongly associated with stacks, but they&#39;re often used with queues as well; for example, C++&#39;s `std::queue` has `push` and `pop`.","body":"I don&#39;t completely agree. True, <code>push</code> and <code>pop</code> are very strongly associated with stacks, but they&#39;re often used with queues as well; for example, C++&#39;s <code>std::queue</code> has <code>push</code> and <code>pop</code>."},{"owner":{"account_id":3260426,"reputation":11579,"user_id":2746110,"accept_rate":67,"display_name":"Arefe"},"score":0,"creation_date":1532591693,"post_id":9343130,"comment_id":90035026,"body_markdown":"@ruakh I think he mentioned about Java ie no `pop` and `push` for the `Stack` data structure. The question is about Java anyway","body":"@ruakh I think he mentioned about Java ie no <code>pop</code> and <code>push</code> for the <code>Stack</code> data structure. The question is about Java anyway"}],"tags":[],"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"comment_count":2,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1329584147,"creation_date":1329584147,"answer_id":9343130,"question_id":9343081,"body_markdown":"You&#39;re confusing Queue with Stack; push and pop are associated with the latter.\r\n\r\nThink of Queue in its proper producer/consumer context; poll and offer will make far more sense.\r\n","title":"Java Queues - why &quot;poll&quot; and &quot;offer&quot;?","body":"<p>You're confusing Queue with Stack; push and pop are associated with the latter.</p>\n\n<p>Think of Queue in its proper producer/consumer context; poll and offer will make far more sense.</p>\n"},{"tags":[],"owner":{"account_id":299251,"reputation":335925,"user_id":605744,"accept_rate":100,"display_name":"Tomasz Nurkiewicz"},"comment_count":0,"down_vote_count":0,"up_vote_count":55,"is_accepted":false,"score":55,"last_activity_date":1329586019,"creation_date":1329584227,"answer_id":9343149,"question_id":9343081,"body_markdown":"Because these methods have different semantics explained in the [JavaDoc](http://docs.oracle.com/javase/7/docs/api/java/util/Queue.html). `add`/`remove` are unconditional while `offer`/`poll` *return special value*:\r\n\r\n* `offer` only *offers* a new value, but it might not be accepted, e.g. if the queue is full\r\n\r\n* `poll` only *polls* for the value, but we accept the fact the value might not be there.\r\n\r\nTo complicate matters more, [`BlockingQueue`](http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/BlockingQueue.html) introduces yet another pair of methods for blocking `add`/`remove`. Of course they could have used the same named with a bunch of parameters/flags, \r\n\r\n    smellyGet(boolean blocking, boolean failOnEmpty)\r\n\r\nbut don&#39;t you think this is a better design?\r\n\r\n\t        | Throws ex. | Special v. | Blocks | Times out\r\n\t--------+------------+------------+--------+---------------------\r\n\tInsert  | add(e)     | offer(e)   | put(e) | offer(e, time, unit)\r\n\tRemove  | remove()   | poll()     | take() | poll(time, unit)\r\n\tExamine | element()  | peek()     | N/A    | N/A\r\n\r\n&lt;sup&gt;* https://meta.stackexchange.com/questions/73566 &lt;/sup&gt;","title":"Java Queues - why &quot;poll&quot; and &quot;offer&quot;?","body":"<p>Because these methods have different semantics explained in the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Queue.html\" rel=\"noreferrer\">JavaDoc</a>. <code>add</code>/<code>remove</code> are unconditional while <code>offer</code>/<code>poll</code> <em>return special value</em>:</p>\n\n<ul>\n<li><p><code>offer</code> only <em>offers</em> a new value, but it might not be accepted, e.g. if the queue is full</p></li>\n<li><p><code>poll</code> only <em>polls</em> for the value, but we accept the fact the value might not be there.</p></li>\n</ul>\n\n<p>To complicate matters more, <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/BlockingQueue.html\" rel=\"noreferrer\"><code>BlockingQueue</code></a> introduces yet another pair of methods for blocking <code>add</code>/<code>remove</code>. Of course they could have used the same named with a bunch of parameters/flags, </p>\n\n<pre><code>smellyGet(boolean blocking, boolean failOnEmpty)\n</code></pre>\n\n<p>but don't you think this is a better design?</p>\n\n<pre><code>        | Throws ex. | Special v. | Blocks | Times out\n--------+------------+------------+--------+---------------------\nInsert  | add(e)     | offer(e)   | put(e) | offer(e, time, unit)\nRemove  | remove()   | poll()     | take() | poll(time, unit)\nExamine | element()  | peek()     | N/A    | N/A\n</code></pre>\n\n<p><sup>* <a href=\"https://meta.stackexchange.com/questions/73566\">https://meta.stackexchange.com/questions/73566</a> </sup></p>\n"},{"tags":[],"owner":{"account_id":953149,"reputation":177303,"user_id":978917,"accept_rate":86,"display_name":"ruakh"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1329584322,"creation_date":1329584322,"answer_id":9343160,"question_id":9343081,"body_markdown":"I assume it&#39;s simply because the names `push` and `pop` sound ambiguous between the behavior of `add` and `remove` and that of `offer` and `poll` &amp;mdash; and `pop`, in particular, is reminiscent of `java.util.Stack.pop()`, which behaves like `remove` rather than like `poll`. The names `add` and `remove` were obviously chosen to match the names of similar methods elsewhere in the Java Collections Framework, which either perform the requested operation or else raise an exception; the names `offer` and `poll` are suggestive of the fact that they don&#39;t raise exceptions.","title":"Java Queues - why &quot;poll&quot; and &quot;offer&quot;?","body":"<p>I assume it's simply because the names <code>push</code> and <code>pop</code> sound ambiguous between the behavior of <code>add</code> and <code>remove</code> and that of <code>offer</code> and <code>poll</code> &mdash; and <code>pop</code>, in particular, is reminiscent of <code>java.util.Stack.pop()</code>, which behaves like <code>remove</code> rather than like <code>poll</code>. The names <code>add</code> and <code>remove</code> were obviously chosen to match the names of similar methods elsewhere in the Java Collections Framework, which either perform the requested operation or else raise an exception; the names <code>offer</code> and <code>poll</code> are suggestive of the fact that they don't raise exceptions.</p>\n"},{"tags":[],"owner":{"account_id":5861536,"reputation":748,"user_id":4617050,"display_name":"dinesh kandpal"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1500619640,"creation_date":1490689587,"answer_id":43064356,"question_id":9343081,"body_markdown":"The Queue interface defines some methods for acting on the first element of the list, which differ in the way they behave.\r\nThese methods are:\r\n\r\n    peek()\r\n    element()\r\n    poll()\r\n    remove()\r\n\r\n**The peek()** \r\nThis method retrieves the value of the first element of the queue without removing it from the queue. For each invocation of the method we always get the same value and its execution does not affect the size of the queue. **If the queue is empty the peek() method returns null**.\r\n\r\n**The element()** \r\nThis method behaves like peek(), so it again retrieves the value of the first element without removing it. however, if the list is empty element() **throws a NoSuchElementException**.\r\n\r\n**The poll()** \r\nThis method retrieves the value of the first element of the queue by removing it from the queue. . At each invocation it removes the first element of the list and if the list is already empty it returns null but **does not throw any exception**.\r\n\r\n**The remove()** \r\nThis method behaves as the poll() method, so it removes the first element of the list and **if the list is empty it throws a NoSuchElementException**\r\n","title":"Java Queues - why &quot;poll&quot; and &quot;offer&quot;?","body":"<p>The Queue interface defines some methods for acting on the first element of the list, which differ in the way they behave.\nThese methods are:</p>\n\n<pre><code>peek()\nelement()\npoll()\nremove()\n</code></pre>\n\n<p><strong>The peek()</strong> \nThis method retrieves the value of the first element of the queue without removing it from the queue. For each invocation of the method we always get the same value and its execution does not affect the size of the queue. <strong>If the queue is empty the peek() method returns null</strong>.</p>\n\n<p><strong>The element()</strong> \nThis method behaves like peek(), so it again retrieves the value of the first element without removing it. however, if the list is empty element() <strong>throws a NoSuchElementException</strong>.</p>\n\n<p><strong>The poll()</strong> \nThis method retrieves the value of the first element of the queue by removing it from the queue. . At each invocation it removes the first element of the list and if the list is already empty it returns null but <strong>does not throw any exception</strong>.</p>\n\n<p><strong>The remove()</strong> \nThis method behaves as the poll() method, so it removes the first element of the list and <strong>if the list is empty it throws a NoSuchElementException</strong></p>\n"},{"tags":[],"owner":{"account_id":8661253,"reputation":1840,"user_id":6483580,"display_name":"Raj Saraogi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689447621,"creation_date":1689447621,"answer_id":76695336,"question_id":9343081,"body_markdown":"All method names have specific usecase may be thats why name \r\n\r\n**add()**\r\n\r\n - Inserts the specified element into the queue. If the task is successful, add() returns true, if not it throws an exception.\r\n\r\n**offer()**\r\n\r\n - Inserts the specified element into the queue. If the task is successful, offer() returns true, if not it returns false.\r\n\r\n**element()** \r\n\r\n- Returns the head of the queue. Throws an exception if the queue is empty.\r\n\r\n**peek()** \r\n\r\n- Returns the head of the queue. Returns null if the queue is empty.\r\n\r\n**remove()** \r\n\r\n- Returns and removes the head of the queue. Throws an exception if the queue is empty.\r\n\r\n**poll()** \r\n\r\n- Returns and removes the head of the queue. Returns null if the queue is empty.","title":"Java Queues - why &quot;poll&quot; and &quot;offer&quot;?","body":"<p>All method names have specific usecase may be thats why name</p>\n<p><strong>add()</strong></p>\n<ul>\n<li>Inserts the specified element into the queue. If the task is successful, add() returns true, if not it throws an exception.</li>\n</ul>\n<p><strong>offer()</strong></p>\n<ul>\n<li>Inserts the specified element into the queue. If the task is successful, offer() returns true, if not it returns false.</li>\n</ul>\n<p><strong>element()</strong></p>\n<ul>\n<li>Returns the head of the queue. Throws an exception if the queue is empty.</li>\n</ul>\n<p><strong>peek()</strong></p>\n<ul>\n<li>Returns the head of the queue. Returns null if the queue is empty.</li>\n</ul>\n<p><strong>remove()</strong></p>\n<ul>\n<li>Returns and removes the head of the queue. Throws an exception if the queue is empty.</li>\n</ul>\n<p><strong>poll()</strong></p>\n<ul>\n<li>Returns and removes the head of the queue. Returns null if the queue is empty.</li>\n</ul>\n"}],"owner":{"account_id":1259596,"reputation":1142,"user_id":1218290,"display_name":"zpangwin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46509,"favorite_count":0,"down_vote_count":0,"up_vote_count":49,"answer_count":5,"score":49,"last_activity_date":1689447621,"creation_date":1329583839,"question_id":9343081,"body_markdown":"Ok, so I&#39;ve been using Java for a long time now and have recently been preparing for my OCJP exam. I was wondering if anyone might be able to provide any insight into ***why*** the method names &quot;poll&quot; (as opposed to the more traditional &quot;pop&quot;) and &quot;offer&quot; (as opposed to the more traditional &quot;push&quot;) were chosen? I&#39;m looking specifically at the java.util.Queue interface, but would be interested in more general explanations as well :)\r\n\r\nThis is really more of an academic question than for any specific coding scenario, as I&#39;m just trying to make sense of why Sun (as this was done before Oracle bought them) would choose to the names that they did.\r\n\r\nOh and before anyone decides to crucify me or throw back links to lmgtfy... I&#39;ve already looked on google, yahoo, wiki, bing, and SO so if I&#39;m overlooking some obvious search criteria or missed some old post here that explains it then I apologize in advance.","title":"Java Queues - why &quot;poll&quot; and &quot;offer&quot;?","body":"<p>Ok, so I've been using Java for a long time now and have recently been preparing for my OCJP exam. I was wondering if anyone might be able to provide any insight into <strong><em>why</em></strong> the method names \"poll\" (as opposed to the more traditional \"pop\") and \"offer\" (as opposed to the more traditional \"push\") were chosen? I'm looking specifically at the java.util.Queue interface, but would be interested in more general explanations as well :)</p>\n\n<p>This is really more of an academic question than for any specific coding scenario, as I'm just trying to make sense of why Sun (as this was done before Oracle bought them) would choose to the names that they did.</p>\n\n<p>Oh and before anyone decides to crucify me or throw back links to lmgtfy... I've already looked on google, yahoo, wiki, bing, and SO so if I'm overlooking some obvious search criteria or missed some old post here that explains it then I apologize in advance.</p>\n"},{"tags":["java","android","sqlite","unit-testing","junit"],"comments":[{"owner":{"account_id":5970271,"reputation":229,"user_id":4692781,"accept_rate":67,"display_name":"Jos&#233; Mar&#237;a"},"score":0,"creation_date":1689447484,"post_id":76695300,"comment_id":135216083,"body_markdown":"I forgot it: the min API version is 26","body":"I forgot it: the min API version is 26"}],"owner":{"account_id":5970271,"reputation":229,"user_id":4692781,"accept_rate":67,"display_name":"Jos&#233; Mar&#237;a"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689447139,"creation_date":1689447139,"question_id":76695300,"body_markdown":"I&#39;m trying to execute Android Unit tests with Context, but it throws an error at creating database on test package on the method with `@BeforeClass` annotation\r\n\r\nThe `SQLiteOpenHelper` implementation is following:\r\n\r\n```\r\npublic class SqLiteHelper extends SQLiteOpenHelper {\r\n  private SqLiteHelper(Context context, String name, int version, AppProperties props) {\r\n    super(context, name, null, version);\r\n    this.context = context;\r\n    this.props = props;\r\n    this.db = this.getWritableDatabase();\r\n  }\r\n\r\n  public static SqLiteHelper getInstance(Context context) {\r\n    INSTANCE = Optional.ofNullable(INSTANCE).orElseGet(() -&gt; {\r\n      AppProperties props = new AppProperties(context, AppConstants.DATABASE_PROPERTIES); // create an instance with some properties\r\n      String name = props.getProperty(Database.DATABASE_NAME); // database_name\r\n      int version = props.getIntProperty(Database.DATABASE_VERSION); // 1\r\n      return new SqLiteHelper(context, name, version, props);\r\n    });\r\n    return INSTANCE;\r\n  }\r\n\r\n  // more code\r\n}\r\n```\r\n\r\nAnd test class is:\r\n\r\n```\r\n@RunWith(AndroidJUnit4.class)\r\npublic class SqLiteHelperTest extends TestCase {\r\n\r\n  private static SqLiteHelper helper;\r\n\r\n  @BeforeClass\r\n  public static void setup() {\r\n    Context context = InstrumentationRegistry.getInstrumentation().getContext();\r\n    helper = SqLiteHelper.getInstance(context); // throws exception\r\n    // more configuration\r\n  }\r\n  // tests\r\n}\r\n```\r\n\r\nThe exception stack trace is:\r\n\r\n```\r\nandroid.database.sqlite.SQLiteCantOpenDatabaseException: Cannot open database &#39;/data/user/0/pe.com.disceria.moanalarm.test/databases/alarm_moan_test&#39;: Directory /data/user/0/pe.com.disceria.moanalarm.test/databases doesn&#39;t exist\r\nat android.database.sqlite.SQLiteConnection.open(SQLiteConnection.java:252)\r\nat android.database.sqlite.SQLiteConnection.open(SQLiteConnection.java:205)\r\nat android.database.sqlite.SQLiteConnectionPool.openConnectionLocked(SQLiteConnectionPool.java:505)\r\nat android.database.sqlite.SQLiteConnectionPool.open(SQLiteConnectionPool.java:206)\r\nat android.database.sqlite.SQLiteConnectionPool.open(SQLiteConnectionPool.java:198)\r\nat android.database.sqlite.SQLiteDatabase.openInner(SQLiteDatabase.java:918)\r\nat android.database.sqlite.SQLiteDatabase.open(SQLiteDatabase.java:898)\r\nat android.database.sqlite.SQLiteDatabase.openDatabase(SQLiteDatabase.java:762)\r\nat android.database.sqlite.SQLiteDatabase.openDatabase(SQLiteDatabase.java:751)\r\nat android.database.sqlite.SQLiteOpenHelper.getDatabaseLocked(SQLiteOpenHelper.java:373)\r\nat android.database.sqlite.SQLiteOpenHelper.getWritableDatabase(SQLiteOpenHelper.java:316)\r\nat my.app.pack.sqlite.SqLiteHelper.&lt;init&gt;(SqLiteHelper.java:34)\r\nat my.app.pack.sqlite.SqLiteHelper.lambda$getInstance$0(SqLiteHelper.java:42)\r\nat my.app.pack.sqlite.SqLiteHelper$$ExternalSyntheticLambda7.get(Unknown Source:2)\r\nat java.util.Optional.orElseGet(Optional.java:263)\r\nat my.app.pack.sqlite.SqLiteHelper.getInstance(SqLiteHelper.java:38)\r\nat my.app.pack.sqlite.SqLiteHelperTest.setup(SqLiteHelperTest.java:41)\r\n... 24 trimmed\r\nCaused by: android.database.sqlite.SQLiteCantOpenDatabaseException: unknown error (code 14 SQLITE_CANTOPEN): Could not open database\r\nat android.database.sqlite.SQLiteConnection.nativeOpen(Native Method)\r\nat android.database.sqlite.SQLiteConnection.open(SQLiteConnection.java:224)\r\n... 41 more\r\n```\r\n\r\nBut when I enter on my device, I see that the route &#39;/data/user/0/my.app.pack.test/&#39; already exists, so how can I fix this issue?","title":"Can&#39;t execute unit tests for SQLiteOpenHelper implementation in Android project","body":"<p>I'm trying to execute Android Unit tests with Context, but it throws an error at creating database on test package on the method with <code>@BeforeClass</code> annotation</p>\n<p>The <code>SQLiteOpenHelper</code> implementation is following:</p>\n<pre><code>public class SqLiteHelper extends SQLiteOpenHelper {\n  private SqLiteHelper(Context context, String name, int version, AppProperties props) {\n    super(context, name, null, version);\n    this.context = context;\n    this.props = props;\n    this.db = this.getWritableDatabase();\n  }\n\n  public static SqLiteHelper getInstance(Context context) {\n    INSTANCE = Optional.ofNullable(INSTANCE).orElseGet(() -&gt; {\n      AppProperties props = new AppProperties(context, AppConstants.DATABASE_PROPERTIES); // create an instance with some properties\n      String name = props.getProperty(Database.DATABASE_NAME); // database_name\n      int version = props.getIntProperty(Database.DATABASE_VERSION); // 1\n      return new SqLiteHelper(context, name, version, props);\n    });\n    return INSTANCE;\n  }\n\n  // more code\n}\n</code></pre>\n<p>And test class is:</p>\n<pre><code>@RunWith(AndroidJUnit4.class)\npublic class SqLiteHelperTest extends TestCase {\n\n  private static SqLiteHelper helper;\n\n  @BeforeClass\n  public static void setup() {\n    Context context = InstrumentationRegistry.getInstrumentation().getContext();\n    helper = SqLiteHelper.getInstance(context); // throws exception\n    // more configuration\n  }\n  // tests\n}\n</code></pre>\n<p>The exception stack trace is:</p>\n<pre><code>android.database.sqlite.SQLiteCantOpenDatabaseException: Cannot open database '/data/user/0/pe.com.disceria.moanalarm.test/databases/alarm_moan_test': Directory /data/user/0/pe.com.disceria.moanalarm.test/databases doesn't exist\nat android.database.sqlite.SQLiteConnection.open(SQLiteConnection.java:252)\nat android.database.sqlite.SQLiteConnection.open(SQLiteConnection.java:205)\nat android.database.sqlite.SQLiteConnectionPool.openConnectionLocked(SQLiteConnectionPool.java:505)\nat android.database.sqlite.SQLiteConnectionPool.open(SQLiteConnectionPool.java:206)\nat android.database.sqlite.SQLiteConnectionPool.open(SQLiteConnectionPool.java:198)\nat android.database.sqlite.SQLiteDatabase.openInner(SQLiteDatabase.java:918)\nat android.database.sqlite.SQLiteDatabase.open(SQLiteDatabase.java:898)\nat android.database.sqlite.SQLiteDatabase.openDatabase(SQLiteDatabase.java:762)\nat android.database.sqlite.SQLiteDatabase.openDatabase(SQLiteDatabase.java:751)\nat android.database.sqlite.SQLiteOpenHelper.getDatabaseLocked(SQLiteOpenHelper.java:373)\nat android.database.sqlite.SQLiteOpenHelper.getWritableDatabase(SQLiteOpenHelper.java:316)\nat my.app.pack.sqlite.SqLiteHelper.&lt;init&gt;(SqLiteHelper.java:34)\nat my.app.pack.sqlite.SqLiteHelper.lambda$getInstance$0(SqLiteHelper.java:42)\nat my.app.pack.sqlite.SqLiteHelper$$ExternalSyntheticLambda7.get(Unknown Source:2)\nat java.util.Optional.orElseGet(Optional.java:263)\nat my.app.pack.sqlite.SqLiteHelper.getInstance(SqLiteHelper.java:38)\nat my.app.pack.sqlite.SqLiteHelperTest.setup(SqLiteHelperTest.java:41)\n... 24 trimmed\nCaused by: android.database.sqlite.SQLiteCantOpenDatabaseException: unknown error (code 14 SQLITE_CANTOPEN): Could not open database\nat android.database.sqlite.SQLiteConnection.nativeOpen(Native Method)\nat android.database.sqlite.SQLiteConnection.open(SQLiteConnection.java:224)\n... 41 more\n</code></pre>\n<p>But when I enter on my device, I see that the route '/data/user/0/my.app.pack.test/' already exists, so how can I fix this issue?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":28020964,"reputation":1207,"user_id":21401783,"display_name":"Dinux"},"score":0,"creation_date":1689582383,"post_id":76695275,"comment_id":135228359,"body_markdown":"Pls post a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Pls post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"owner":{"account_id":29024433,"reputation":11,"user_id":22233018,"display_name":"Lambda Developers"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1689446602,"creation_date":1689446602,"question_id":76695275,"body_markdown":"MyDeviceAdminReceiver.Java\r\n\r\n```\r\npackage com.example.securitycapture;\r\n\r\nimport android.Manifest;\r\nimport android.app.admin.DeviceAdminReceiver;\r\nimport android.app.admin.DevicePolicyManager;\r\nimport android.content.ComponentName;\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.content.pm.PackageManager;\r\nimport android.graphics.ImageFormat;\r\nimport android.hardware.camera2.CameraAccessException;\r\nimport android.hardware.camera2.CameraCaptureSession;\r\nimport android.hardware.camera2.CameraCharacteristics;\r\nimport android.hardware.camera2.CameraDevice;\r\nimport android.hardware.camera2.CameraManager;\r\nimport android.hardware.camera2.CaptureRequest;\r\nimport android.hardware.camera2.TotalCaptureResult;\r\nimport android.hardware.camera2.params.StreamConfigurationMap;\r\nimport android.media.Image;\r\nimport android.media.ImageReader;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport android.os.Environment;\r\nimport android.util.Log;\r\nimport android.util.Size;\r\nimport android.view.Surface;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.RequiresApi;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.app.ActivityCompat;\r\nimport androidx.core.content.ContextCompat;\r\n\r\nimport java.io.File;\r\nimport java.io.FileOutputStream;\r\nimport java.io.IOException;\r\nimport java.nio.ByteBuffer;\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.ArrayList;\r\nimport java.util.Date;\r\nimport java.util.List;\r\nimport java.util.Locale;\r\nimport java.util.Objects;\r\n\r\n@RequiresApi(api = Build.VERSION_CODES.LOLLIPOP)\r\npublic class MyDeviceAdminReceiver extends DeviceAdminReceiver {\r\n\r\n    private static final String TAG = &quot;MyDeviceAdminReceiver&quot;;\r\n    private static final int REQUEST_CAMERA_PERMISSION = 200;\r\n    private static final int IMAGE_QUALITY = 100;\r\n\r\n    @Override\r\n    public void onPasswordFailed(Context context, Intent intent) {\r\n        super.onPasswordFailed(context, intent);\r\n\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n            if (ContextCompat.checkSelfPermission(context, Manifest.permission.CAMERA)\r\n                    != PackageManager.PERMISSION_GRANTED) {\r\n                ActivityCompat.requestPermissions((AppCompatActivity) context,\r\n                        new String[]{Manifest.permission.CAMERA}, REQUEST_CAMERA_PERMISSION);\r\n            } else {\r\n                captureImage(context);\r\n            }\r\n        } else {\r\n            captureImage(context);\r\n        }\r\n    }\r\n\r\n    private void captureImage(Context context) {\r\n        CameraManager cameraManager = (CameraManager) context.getSystemService(Context.CAMERA_SERVICE);\r\n        try {\r\n            String cameraId = getBackCameraId(cameraManager);\r\n\r\n            Size imageDimensions = getImageDimensions(cameraManager, cameraId);\r\n\r\n            final ImageReader imageReader = ImageReader.newInstance(\r\n                    imageDimensions.getWidth(),\r\n                    imageDimensions.getHeight(),\r\n                    ImageFormat.JPEG,\r\n                    1\r\n            );\r\n\r\n            List&lt;Surface&gt; outputSurfaces = new ArrayList&lt;&gt;(2);\r\n            outputSurfaces.add(imageReader.getSurface());\r\n\r\n            final CameraDevice.StateCallback stateCallback = new CameraDevice.StateCallback() {\r\n                @Override\r\n                public void onOpened(@NonNull CameraDevice camera) {\r\n                    try {\r\n                        CaptureRequest.Builder captureRequestBuilder = camera.createCaptureRequest(CameraDevice.TEMPLATE_STILL_CAPTURE);\r\n                        captureRequestBuilder.addTarget(imageReader.getSurface());\r\n                        captureRequestBuilder.set(CaptureRequest.CONTROL_MODE, CaptureRequest.CONTROL_MODE_AUTO);\r\n\r\n                        camera.createCaptureSession(outputSurfaces, new CameraCaptureSession.StateCallback() {\r\n                            @Override\r\n                            public void onConfigured(@NonNull CameraCaptureSession session) {\r\n                                try {\r\n                                    session.capture(captureRequestBuilder.build(), new CameraCaptureSession.CaptureCallback() {\r\n                                        @Override\r\n                                        public void onCaptureCompleted(@NonNull CameraCaptureSession session, @NonNull CaptureRequest request, @NonNull TotalCaptureResult result) {\r\n                                            super.onCaptureCompleted(session, request, result);\r\n                                            imageReader.setOnImageAvailableListener(reader -&gt; {\r\n                                                Image image = reader.acquireLatestImage();\r\n                                                ByteBuffer buffer = Objects.requireNonNull(image).getPlanes()[0].getBuffer();\r\n                                                byte[] bytes = new byte[buffer.capacity()];\r\n                                                buffer.get(bytes);\r\n\r\n                                                saveImage(context, bytes);\r\n\r\n                                                image.close();\r\n                                                camera.close();\r\n                                            }, null);\r\n                                        }\r\n                                    }, null);\r\n                                } catch (CameraAccessException e) {\r\n                                    e.printStackTrace();\r\n                                }\r\n                            }\r\n\r\n                            @Override\r\n                            public void onConfigureFailed(@NonNull CameraCaptureSession session) {\r\n                                Log.e(TAG, &quot;Capture session configuration failed.&quot;);\r\n                            }\r\n                        }, null);\r\n                    } catch (CameraAccessException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n\r\n                @Override\r\n                public void onDisconnected(@NonNull CameraDevice camera) {\r\n                    camera.close();\r\n                }\r\n\r\n                @Override\r\n                public void onError(@NonNull CameraDevice camera, int error) {\r\n                    camera.close();\r\n                }\r\n            };\r\n\r\n            if (ActivityCompat.checkSelfPermission(context, Manifest.permission.CAMERA)\r\n                    == PackageManager.PERMISSION_GRANTED) {\r\n                cameraManager.openCamera(cameraId, stateCallback, null);\r\n            } else {\r\n                Log.e(TAG, &quot;Camera permission not granted.&quot;);\r\n            }\r\n        } catch (CameraAccessException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private String getBackCameraId(CameraManager cameraManager) throws CameraAccessException {\r\n        for (String cameraId : cameraManager.getCameraIdList()) {\r\n            CameraCharacteristics characteristics = cameraManager.getCameraCharacteristics(cameraId);\r\n            int cameraOrientation = characteristics.get(CameraCharacteristics.LENS_FACING);\r\n\r\n            if (cameraOrientation == CameraCharacteristics.LENS_FACING_BACK) {\r\n                return cameraId;\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n    private Size getImageDimensions(CameraManager cameraManager, String cameraId) throws CameraAccessException {\r\n        CameraCharacteristics characteristics = cameraManager.getCameraCharacteristics(cameraId);\r\n        StreamConfigurationMap streamConfigurationMap = characteristics.get(CameraCharacteristics.SCALER_STREAM_CONFIGURATION_MAP);\r\n        Size[] sizes = Objects.requireNonNull(streamConfigurationMap).getOutputSizes(ImageFormat.JPEG);\r\n        if (sizes != null &amp;&amp; sizes.length &gt; 0) {\r\n            return sizes[0];\r\n        }\r\n        return null;\r\n    }\r\n\r\n    private void saveImage(Context context, byte[] imageBytes) {\r\n        SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyyMMdd_HHmmss&quot;, Locale.getDefault());\r\n        String currentDateAndTime = sdf.format(new Date());\r\n        String fileName = &quot;IMG_&quot; + currentDateAndTime + &quot;.jpg&quot;;\r\n\r\n        File storageDir = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_PICTURES);\r\n        if (!storageDir.exists()) {\r\n            storageDir.mkdirs();\r\n        }\r\n\r\n        File imageFile = new File(storageDir, fileName);\r\n\r\n        try (FileOutputStream outputStream = new FileOutputStream(imageFile)) {\r\n            outputStream.write(imageBytes);\r\n            Log.d(TAG, &quot;Image saved: &quot; + imageFile.getAbsolutePath());\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n\r\n```\r\nAndroidManifest.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.BIND_DEVICE_ADMIN&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;\r\n    &lt;uses-feature android:name=&quot;android.hardware.camera.any&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n\r\n    &lt;uses-feature android:name=&quot;android.hardware.camera&quot; /&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.SecurityCapture&quot;\r\n        tools:targetApi=&quot;31&quot;&gt;\r\n\r\n        &lt;!-- Add your services, activities, and providers here --&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n        &lt;provider\r\n            android:name=&quot;androidx.core.content.FileProvider&quot;\r\n            android:authorities=&quot;com.example.securitycapture.fileprovider&quot;\r\n            android:exported=&quot;false&quot;\r\n            android:grantUriPermissions=&quot;true&quot;&gt;\r\n            &lt;meta-data\r\n                android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\r\n                android:resource=&quot;@xml/file_paths&quot; /&gt;\r\n        &lt;/provider&gt;\r\n\r\n        &lt;receiver\r\n            android:name=&quot;.MyDeviceAdminReceiver&quot;\r\n            android:description=&quot;@string/app_name&quot;\r\n            android:exported=&quot;true&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:permission=&quot;android.permission.BIND_DEVICE_ADMIN&quot;&gt;\r\n            &lt;meta-data\r\n                android:name=&quot;android.app.device_admin&quot;\r\n                android:resource=&quot;@xml/device_admin&quot; /&gt;\r\n\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.app.action.DEVICE_ADMIN_ENABLED&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/receiver&gt;\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n\r\n```\r\nDeivce_admin.xml\r\n```\r\n&lt;device-admin xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n    &lt;uses-policies&gt;\r\n        &lt;limit-password /&gt;\r\n        &lt;watch-login /&gt;\r\n        &lt;disable-camera /&gt;\r\n    &lt;/uses-policies&gt;\r\n&lt;/device-admin&gt;\r\n```\r\nI have shared all code. I am beginner in android development. I want to do this as a learning project.\r\nI have tried multiple times but still unable to capture the image. What is wrong or is there any better solution to this? \r\nAny guidance would be much appreciated.\r\n","title":"I want to get coordinated, capture image onPasswordFailed() using DeviceAdminReceiver and send it via mail. i am stuck on image capturing","body":"<p>MyDeviceAdminReceiver.Java</p>\n<pre><code>package com.example.securitycapture;\n\nimport android.Manifest;\nimport android.app.admin.DeviceAdminReceiver;\nimport android.app.admin.DevicePolicyManager;\nimport android.content.ComponentName;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.content.pm.PackageManager;\nimport android.graphics.ImageFormat;\nimport android.hardware.camera2.CameraAccessException;\nimport android.hardware.camera2.CameraCaptureSession;\nimport android.hardware.camera2.CameraCharacteristics;\nimport android.hardware.camera2.CameraDevice;\nimport android.hardware.camera2.CameraManager;\nimport android.hardware.camera2.CaptureRequest;\nimport android.hardware.camera2.TotalCaptureResult;\nimport android.hardware.camera2.params.StreamConfigurationMap;\nimport android.media.Image;\nimport android.media.ImageReader;\nimport android.os.Build;\nimport android.os.Bundle;\nimport android.os.Environment;\nimport android.util.Log;\nimport android.util.Size;\nimport android.view.Surface;\n\nimport androidx.annotation.NonNull;\nimport androidx.annotation.RequiresApi;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.core.app.ActivityCompat;\nimport androidx.core.content.ContextCompat;\n\nimport java.io.File;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.nio.ByteBuffer;\nimport java.text.SimpleDateFormat;\nimport java.util.ArrayList;\nimport java.util.Date;\nimport java.util.List;\nimport java.util.Locale;\nimport java.util.Objects;\n\n@RequiresApi(api = Build.VERSION_CODES.LOLLIPOP)\npublic class MyDeviceAdminReceiver extends DeviceAdminReceiver {\n\n    private static final String TAG = &quot;MyDeviceAdminReceiver&quot;;\n    private static final int REQUEST_CAMERA_PERMISSION = 200;\n    private static final int IMAGE_QUALITY = 100;\n\n    @Override\n    public void onPasswordFailed(Context context, Intent intent) {\n        super.onPasswordFailed(context, intent);\n\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n            if (ContextCompat.checkSelfPermission(context, Manifest.permission.CAMERA)\n                    != PackageManager.PERMISSION_GRANTED) {\n                ActivityCompat.requestPermissions((AppCompatActivity) context,\n                        new String[]{Manifest.permission.CAMERA}, REQUEST_CAMERA_PERMISSION);\n            } else {\n                captureImage(context);\n            }\n        } else {\n            captureImage(context);\n        }\n    }\n\n    private void captureImage(Context context) {\n        CameraManager cameraManager = (CameraManager) context.getSystemService(Context.CAMERA_SERVICE);\n        try {\n            String cameraId = getBackCameraId(cameraManager);\n\n            Size imageDimensions = getImageDimensions(cameraManager, cameraId);\n\n            final ImageReader imageReader = ImageReader.newInstance(\n                    imageDimensions.getWidth(),\n                    imageDimensions.getHeight(),\n                    ImageFormat.JPEG,\n                    1\n            );\n\n            List&lt;Surface&gt; outputSurfaces = new ArrayList&lt;&gt;(2);\n            outputSurfaces.add(imageReader.getSurface());\n\n            final CameraDevice.StateCallback stateCallback = new CameraDevice.StateCallback() {\n                @Override\n                public void onOpened(@NonNull CameraDevice camera) {\n                    try {\n                        CaptureRequest.Builder captureRequestBuilder = camera.createCaptureRequest(CameraDevice.TEMPLATE_STILL_CAPTURE);\n                        captureRequestBuilder.addTarget(imageReader.getSurface());\n                        captureRequestBuilder.set(CaptureRequest.CONTROL_MODE, CaptureRequest.CONTROL_MODE_AUTO);\n\n                        camera.createCaptureSession(outputSurfaces, new CameraCaptureSession.StateCallback() {\n                            @Override\n                            public void onConfigured(@NonNull CameraCaptureSession session) {\n                                try {\n                                    session.capture(captureRequestBuilder.build(), new CameraCaptureSession.CaptureCallback() {\n                                        @Override\n                                        public void onCaptureCompleted(@NonNull CameraCaptureSession session, @NonNull CaptureRequest request, @NonNull TotalCaptureResult result) {\n                                            super.onCaptureCompleted(session, request, result);\n                                            imageReader.setOnImageAvailableListener(reader -&gt; {\n                                                Image image = reader.acquireLatestImage();\n                                                ByteBuffer buffer = Objects.requireNonNull(image).getPlanes()[0].getBuffer();\n                                                byte[] bytes = new byte[buffer.capacity()];\n                                                buffer.get(bytes);\n\n                                                saveImage(context, bytes);\n\n                                                image.close();\n                                                camera.close();\n                                            }, null);\n                                        }\n                                    }, null);\n                                } catch (CameraAccessException e) {\n                                    e.printStackTrace();\n                                }\n                            }\n\n                            @Override\n                            public void onConfigureFailed(@NonNull CameraCaptureSession session) {\n                                Log.e(TAG, &quot;Capture session configuration failed.&quot;);\n                            }\n                        }, null);\n                    } catch (CameraAccessException e) {\n                        e.printStackTrace();\n                    }\n                }\n\n                @Override\n                public void onDisconnected(@NonNull CameraDevice camera) {\n                    camera.close();\n                }\n\n                @Override\n                public void onError(@NonNull CameraDevice camera, int error) {\n                    camera.close();\n                }\n            };\n\n            if (ActivityCompat.checkSelfPermission(context, Manifest.permission.CAMERA)\n                    == PackageManager.PERMISSION_GRANTED) {\n                cameraManager.openCamera(cameraId, stateCallback, null);\n            } else {\n                Log.e(TAG, &quot;Camera permission not granted.&quot;);\n            }\n        } catch (CameraAccessException e) {\n            e.printStackTrace();\n        }\n    }\n\n    private String getBackCameraId(CameraManager cameraManager) throws CameraAccessException {\n        for (String cameraId : cameraManager.getCameraIdList()) {\n            CameraCharacteristics characteristics = cameraManager.getCameraCharacteristics(cameraId);\n            int cameraOrientation = characteristics.get(CameraCharacteristics.LENS_FACING);\n\n            if (cameraOrientation == CameraCharacteristics.LENS_FACING_BACK) {\n                return cameraId;\n            }\n        }\n        return null;\n    }\n\n    private Size getImageDimensions(CameraManager cameraManager, String cameraId) throws CameraAccessException {\n        CameraCharacteristics characteristics = cameraManager.getCameraCharacteristics(cameraId);\n        StreamConfigurationMap streamConfigurationMap = characteristics.get(CameraCharacteristics.SCALER_STREAM_CONFIGURATION_MAP);\n        Size[] sizes = Objects.requireNonNull(streamConfigurationMap).getOutputSizes(ImageFormat.JPEG);\n        if (sizes != null &amp;&amp; sizes.length &gt; 0) {\n            return sizes[0];\n        }\n        return null;\n    }\n\n    private void saveImage(Context context, byte[] imageBytes) {\n        SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyyMMdd_HHmmss&quot;, Locale.getDefault());\n        String currentDateAndTime = sdf.format(new Date());\n        String fileName = &quot;IMG_&quot; + currentDateAndTime + &quot;.jpg&quot;;\n\n        File storageDir = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_PICTURES);\n        if (!storageDir.exists()) {\n            storageDir.mkdirs();\n        }\n\n        File imageFile = new File(storageDir, fileName);\n\n        try (FileOutputStream outputStream = new FileOutputStream(imageFile)) {\n            outputStream.write(imageBytes);\n            Log.d(TAG, &quot;Image saved: &quot; + imageFile.getAbsolutePath());\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n\n</code></pre>\n<p>AndroidManifest.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.BIND_DEVICE_ADMIN&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;\n    &lt;uses-feature android:name=&quot;android.hardware.camera.any&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n\n    &lt;uses-feature android:name=&quot;android.hardware.camera&quot; /&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.SecurityCapture&quot;\n        tools:targetApi=&quot;31&quot;&gt;\n\n        &lt;!-- Add your services, activities, and providers here --&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n        &lt;provider\n            android:name=&quot;androidx.core.content.FileProvider&quot;\n            android:authorities=&quot;com.example.securitycapture.fileprovider&quot;\n            android:exported=&quot;false&quot;\n            android:grantUriPermissions=&quot;true&quot;&gt;\n            &lt;meta-data\n                android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\n                android:resource=&quot;@xml/file_paths&quot; /&gt;\n        &lt;/provider&gt;\n\n        &lt;receiver\n            android:name=&quot;.MyDeviceAdminReceiver&quot;\n            android:description=&quot;@string/app_name&quot;\n            android:exported=&quot;true&quot;\n            android:label=&quot;@string/app_name&quot;\n            android:permission=&quot;android.permission.BIND_DEVICE_ADMIN&quot;&gt;\n            &lt;meta-data\n                android:name=&quot;android.app.device_admin&quot;\n                android:resource=&quot;@xml/device_admin&quot; /&gt;\n\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.app.action.DEVICE_ADMIN_ENABLED&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/receiver&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n\n</code></pre>\n<p>Deivce_admin.xml</p>\n<pre><code>&lt;device-admin xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n    &lt;uses-policies&gt;\n        &lt;limit-password /&gt;\n        &lt;watch-login /&gt;\n        &lt;disable-camera /&gt;\n    &lt;/uses-policies&gt;\n&lt;/device-admin&gt;\n</code></pre>\n<p>I have shared all code. I am beginner in android development. I want to do this as a learning project.\nI have tried multiple times but still unable to capture the image. What is wrong or is there any better solution to this?\nAny guidance would be much appreciated.</p>\n"},{"tags":["java","tomcat","servlets"],"answers":[{"comments":[{"owner":{"account_id":5919781,"reputation":29352,"user_id":4657412,"display_name":"DavidW"},"score":2,"creation_date":1689499483,"post_id":76695257,"comment_id":135219671,"body_markdown":"This answer looks like ChatGPT","body":"This answer looks like ChatGPT"}],"tags":[],"owner":{"account_id":27762409,"reputation":1,"user_id":21194555,"display_name":"Griffin"},"comment_count":1,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1689446345,"creation_date":1689446345,"answer_id":76695257,"question_id":76695072,"body_markdown":"Yes, it is possible to check for the Content-Encoding header programmatically in your web application. The Content-Encoding header is included in the HTTP response headers and indicates whether the response has been encoded, such as with compression.\r\n\r\nTo check for the Content-Encoding header programmatically, you can access the response headers in your web application code. The specific implementation depends on the programming language or framework you are using.\r\n\r\nIn Java with Tomcat, you can use the Servlet API to access the response headers. Here&#39;s an example using Java Servlets:\r\n\r\n```java\r\nprotected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n    // Get the Content-Encoding header from the response\r\n    String contentEncoding = response.getHeader(&quot;Content-Encoding&quot;);\r\n    \r\n    // Check if the Content-Encoding header is present and if it indicates compression\r\n    if (contentEncoding != null &amp;&amp; contentEncoding.contains(&quot;gzip&quot;)) {\r\n        // Content is compressed\r\n        // You can handle billing for data transfer usage accordingly\r\n    } else {\r\n        // Content is not compressed\r\n        // Handle billing for data transfer usage accordingly\r\n    }\r\n}\r\n```\r\n\r\nThis code retrieves the Content-Encoding header from the response and checks if it contains the value &quot;gzip&quot; to determine if the response is compressed. You can then handle the billing for data transfer usage based on this information.\r\n\r\nRemember to adapt the code to your specific programming language or framework if you are not using Java with Tomcat.","title":"Is it possible to check for content-encoding header programmatically?","body":"<p>Yes, it is possible to check for the Content-Encoding header programmatically in your web application. The Content-Encoding header is included in the HTTP response headers and indicates whether the response has been encoded, such as with compression.</p>\n<p>To check for the Content-Encoding header programmatically, you can access the response headers in your web application code. The specific implementation depends on the programming language or framework you are using.</p>\n<p>In Java with Tomcat, you can use the Servlet API to access the response headers. Here's an example using Java Servlets:</p>\n<pre class=\"lang-java prettyprint-override\"><code>protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n    // Get the Content-Encoding header from the response\n    String contentEncoding = response.getHeader(&quot;Content-Encoding&quot;);\n    \n    // Check if the Content-Encoding header is present and if it indicates compression\n    if (contentEncoding != null &amp;&amp; contentEncoding.contains(&quot;gzip&quot;)) {\n        // Content is compressed\n        // You can handle billing for data transfer usage accordingly\n    } else {\n        // Content is not compressed\n        // Handle billing for data transfer usage accordingly\n    }\n}\n</code></pre>\n<p>This code retrieves the Content-Encoding header from the response and checks if it contains the value &quot;gzip&quot; to determine if the response is compressed. You can then handle the billing for data transfer usage based on this information.</p>\n<p>Remember to adapt the code to your specific programming language or framework if you are not using Java with Tomcat.</p>\n"}],"owner":{"account_id":457009,"reputation":199,"user_id":856057,"accept_rate":75,"display_name":"Sai Ganesh Pittala"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689446345,"creation_date":1689443159,"question_id":76695072,"body_markdown":"We are developing a saas web product and need to bill the customer for data transfer usage. Tomcat server is enabled with compression and the responses above 2048 bytes would be encoded, so would it be possible to check for Content-Encoding header programmatically ?","title":"Is it possible to check for content-encoding header programmatically?","body":"<p>We are developing a saas web product and need to bill the customer for data transfer usage. Tomcat server is enabled with compression and the responses above 2048 bytes would be encoded, so would it be possible to check for Content-Encoding header programmatically ?</p>\n"},{"tags":["java","functional-interface","supplier"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":3,"creation_date":1689351295,"post_id":76689394,"comment_id":135206107,"body_markdown":"Your `Animal` interface is a valid functional interface, so you can assign `Dog::new` to a variable of that type, just like if it were `Supplier`, `Runnable` or any other functional interface that doesn&#39;t take arguments (because `Dog::new` is &quot;void-compatible&quot;, it doesn&#39;t matter if it has a return type or void). If you add another method to the interface, it won&#39;t be a functional interface anymore.","body":"Your <code>Animal</code> interface is a valid functional interface, so you can assign <code>Dog::new</code> to a variable of that type, just like if it were <code>Supplier</code>, <code>Runnable</code> or any other functional interface that doesn&#39;t take arguments (because <code>Dog::new</code> is &quot;void-compatible&quot;, it doesn&#39;t matter if it has a return type or void). If you add another method to the interface, it won&#39;t be a functional interface anymore."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":3,"creation_date":1689351457,"post_id":76689394,"comment_id":135206130,"body_markdown":"BTW: the variable `dog` doesn&#39;t hold a `Supplier&lt;Animal&gt;`, it holds an `Animal` (specifically a lambda that will execute `new Dog()` when you call `makeVoice()`).","body":"BTW: the variable <code>dog</code> doesn&#39;t hold a <code>Supplier&lt;Animal&gt;</code>, it holds an <code>Animal</code> (specifically a lambda that will execute <code>new Dog()</code> when you call <code>makeVoice()</code>)."},{"owner":{"account_id":23167573,"reputation":41,"user_id":17267276,"display_name":"Maor Hassid"},"score":0,"creation_date":1689352382,"post_id":76689394,"comment_id":135206354,"body_markdown":"when I call makeVoice(), nothing happens..","body":"when I call makeVoice(), nothing happens.."},{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":3,"creation_date":1689352454,"post_id":76689394,"comment_id":135206371,"body_markdown":"Create the no argument constructor for Dog and add a print statement. You will see it execute when calling makeVoice.","body":"Create the no argument constructor for Dog and add a print statement. You will see it execute when calling makeVoice."},{"owner":{"account_id":23167573,"reputation":41,"user_id":17267276,"display_name":"Maor Hassid"},"score":2,"creation_date":1689353207,"post_id":76689394,"comment_id":135206535,"body_markdown":"I think that I understand. &#39;Animal&#39; has &quot;makeVoice()&quot; that it is feet to &quot;Dog::new&quot; signature, so every time I call &quot;makeVoice()&quot; I actually run &quot;() -&gt; new Dog()&quot;. Thanks for all!","body":"I think that I understand. &#39;Animal&#39; has &quot;makeVoice()&quot; that it is feet to &quot;Dog::new&quot; signature, so every time I call &quot;makeVoice()&quot; I actually run &quot;() -&gt; new Dog()&quot;. Thanks for all!"},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":2,"creation_date":1689357918,"post_id":76689394,"comment_id":135207431,"body_markdown":"If it helps, imagine you&#39;ve made some kind of monster animal that, when it opens its mouth, spits out a dog instead of making a sound.","body":"If it helps, imagine you&#39;ve made some kind of monster animal that, when it opens its mouth, spits out a dog instead of making a sound."}],"answers":[{"comments":[{"owner":{"account_id":23167573,"reputation":41,"user_id":17267276,"display_name":"Maor Hassid"},"score":0,"creation_date":1689352016,"post_id":76689488,"comment_id":135206268,"body_markdown":"dog hold Supplier. please check again.\nSupplier&lt;Animal&gt; dogSupplier = () -&gt; new Dog();","body":"dog hold Supplier. please check again. Supplier&lt;Animal&gt; dogSupplier = () -&gt; new Dog();"},{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":1,"creation_date":1689352227,"post_id":76689488,"comment_id":135206326,"body_markdown":"@MaorHassid No, that&#39;s not how it works. You can use the same lambda or method reference to implement multiple different functional interfaces, as long as the signature is compatible. You set the type to Animal, so it isn&#39;t a Supplier.","body":"@MaorHassid No, that&#39;s not how it works. You can use the same lambda or method reference to implement multiple different functional interfaces, as long as the signature is compatible. You set the type to Animal, so it isn&#39;t a Supplier."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1689352406,"post_id":76689488,"comment_id":135206363,"body_markdown":"@MaorHassid easy to test, a `Supplier` declares a `get()` method, try `dog.get()`","body":"@MaorHassid easy to test, a <code>Supplier</code> declares a <code>get()</code> method, try <code>dog.get()</code>"},{"owner":{"account_id":23167573,"reputation":41,"user_id":17267276,"display_name":"Maor Hassid"},"score":0,"creation_date":1689352818,"post_id":76689488,"comment_id":135206447,"body_markdown":"How can you explain that &#39;dog.makeVoice()&#39; doesn&#39;t work?","body":"How can you explain that &#39;dog.makeVoice()&#39; doesn&#39;t work?"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":3,"creation_date":1689353066,"post_id":76689488,"comment_id":135206502,"body_markdown":"@MaorHassid when calling `makeVoice()`, from the interface `Animal`&#185;, it will do `new Dog()`, that is, create an instance of `Dog` which will then be lost, since `makeVoice()` is declared to return `void`... add `System.out.println(...)` to the constructor of `Dog` to verify that. || **&#185;** it is NOT calling `makeVoice()` from `Dog`","body":"@MaorHassid when calling <code>makeVoice()</code>, from the interface <code>Animal</code>&#185;, it will do <code>new Dog()</code>, that is, create an instance of <code>Dog</code> which will then be lost, since <code>makeVoice()</code> is declared to return <code>void</code>... add <code>System.out.println(...)</code> to the constructor of <code>Dog</code> to verify that. || <b>&#185;</b> it is NOT calling <code>makeVoice()</code> from <code>Dog</code>"}],"tags":[],"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"comment_count":5,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1689444328,"creation_date":1689351360,"answer_id":76689488,"question_id":76689394,"body_markdown":"The constructor for `Dog` satisfies the `Animal` functional interface. The parameter types match as both `makeVoice` and the default constructor for `Dog` take no parameters. The constructor call is also void-compatible (it matches the `void` return type) because a class instance creation expression is an [expression statement](https://docs.oracle.com/javase/specs/jls/se20/html/jls-14.html#jls-14.8).\r\n\r\nThe code is essentially equivalent to the following and it creates an implementation of `Animal`, not `Supplier`:\r\n\r\n```java\r\nAnimal dog = () -&gt; new Dog();\r\n// or equivalently, as the created Dog instance is ignored:\r\nAnimal dog = () -&gt; {\r\n    new Dog();\r\n};\r\n```\r\n\r\nAs an anonymous class, it would look like this:\r\n\r\n```java\r\nAnimal dog = new Animal() {\r\n\t@Override\r\n\tpublic void makeVoice() {\r\n\t\tnew Dog();\r\n\t}\r\n};\r\n```","title":"Why is it compiled? - T = Supplier&lt;T&gt;?","body":"<p>The constructor for <code>Dog</code> satisfies the <code>Animal</code> functional interface. The parameter types match as both <code>makeVoice</code> and the default constructor for <code>Dog</code> take no parameters. The constructor call is also void-compatible (it matches the <code>void</code> return type) because a class instance creation expression is an <a href=\"https://docs.oracle.com/javase/specs/jls/se20/html/jls-14.html#jls-14.8\" rel=\"nofollow noreferrer\">expression statement</a>.</p>\n<p>The code is essentially equivalent to the following and it creates an implementation of <code>Animal</code>, not <code>Supplier</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Animal dog = () -&gt; new Dog();\n// or equivalently, as the created Dog instance is ignored:\nAnimal dog = () -&gt; {\n    new Dog();\n};\n</code></pre>\n<p>As an anonymous class, it would look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Animal dog = new Animal() {\n    @Override\n    public void makeVoice() {\n        new Dog();\n    }\n};\n</code></pre>\n"}],"owner":{"account_id":23167573,"reputation":41,"user_id":17267276,"display_name":"Maor Hassid"},"comment_count":6,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"closed_date":1689357304,"accepted_answer_id":76689488,"answer_count":1,"score":3,"last_activity_date":1689444328,"creation_date":1689350398,"question_id":76689394,"body_markdown":"I have an &#39;Animal&#39; interface and &#39;Dog&#39; class that implements &#39;Animal&#39;.\r\n\r\n```\r\npublic interface Animal {\r\n    void makeVoice();\r\n}\r\n```\r\n\r\n```\r\npublic class Dog implements Animal {\r\n    @Override\r\n    public void makeVoice() {\r\n        System.out.println(&quot;aou aou&quot;);\r\n    }\r\n}\r\n```\r\n\r\nIn my main method, I wrote the following lines.\r\n\r\n```\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        Animal dog = Dog::new; // How is it compiled? it should be Supplier&lt;Animal&gt;\r\n\r\n        dog.makeVoice(); // Doesn&#39;t call because &#39;dog&#39; holds lambda expression (Supplier&lt;Animal&gt;) and not the actual &#39;Dog&#39; class.\r\n    }\r\n} \r\n```\r\n\r\nWhy is it possible that Animal can hold Supplier&lt;Animal&gt;?\r\n\r\nI expected that it doesn&#39;t compile.","title":"Why is it compiled? - T = Supplier&lt;T&gt;?","body":"<p>I have an 'Animal' interface and 'Dog' class that implements 'Animal'.</p>\n<pre><code>public interface Animal {\n    void makeVoice();\n}\n</code></pre>\n<pre><code>public class Dog implements Animal {\n    @Override\n    public void makeVoice() {\n        System.out.println(&quot;aou aou&quot;);\n    }\n}\n</code></pre>\n<p>In my main method, I wrote the following lines.</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        Animal dog = Dog::new; // How is it compiled? it should be Supplier&lt;Animal&gt;\n\n        dog.makeVoice(); // Doesn't call because 'dog' holds lambda expression (Supplier&lt;Animal&gt;) and not the actual 'Dog' class.\n    }\n} \n</code></pre>\n<p>Why is it possible that Animal can hold Supplier?</p>\n<p>I expected that it doesn't compile.</p>\n"},{"tags":["java","amazon-web-services","amazon-s3"],"comments":[{"owner":{"account_id":100740,"reputation":73227,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"score":1,"creation_date":1654217410,"post_id":40898257,"comment_id":128044465,"body_markdown":"None of the AWS SDKs implement syncing to S3 that I&#39;m aware of. This is a higher-level feature of the awscli. You could, of course, implement it using any of the SDKs.","body":"None of the AWS SDKs implement syncing to S3 that I&#39;m aware of. This is a higher-level feature of the awscli. You could, of course, implement it using any of the SDKs."}],"answers":[{"comments":[{"owner":{"account_id":4946876,"reputation":5401,"user_id":3982001,"display_name":"Fabio says Reinstate Monica"},"score":0,"creation_date":1492167167,"post_id":43409625,"comment_id":73879014,"body_markdown":"Could you please [edit] your answer and add a link to this function&#39;s documentation? It would be helpful. Thank you!","body":"Could you please <a href=\"https://stackoverflow.com/posts/43409625/edit\">edit</a> your answer and add a link to this function&#39;s documentation? It would be helpful. Thank you!"},{"owner":{"account_id":5994477,"reputation":366,"user_id":4925944,"display_name":"JonathanT"},"score":4,"creation_date":1529405957,"post_id":43409625,"comment_id":88852471,"body_markdown":"The TransferManage.uploadDirectory does not appear to provide any functionality related to performing a sync like the CLI tool.  It might be best to have your Java application start a child process with the AWS credentials as environment variables and call the CLI tool like you would on the command line.","body":"The TransferManage.uploadDirectory does not appear to provide any functionality related to performing a sync like the CLI tool.  It might be best to have your Java application start a child process with the AWS credentials as environment variables and call the CLI tool like you would on the command line."},{"owner":{"account_id":2481541,"reputation":1940,"user_id":2160917,"accept_rate":5,"display_name":"bosari"},"score":5,"creation_date":1539342576,"post_id":43409625,"comment_id":92478012,"body_markdown":"This doesn&#39;t sync. It uploads.","body":"This doesn&#39;t sync. It uploads."}],"tags":[],"owner":{"account_id":3585001,"reputation":181,"user_id":2992389,"accept_rate":75,"display_name":"user2992389"},"comment_count":3,"down_vote_count":6,"up_vote_count":5,"is_accepted":false,"score":-1,"last_activity_date":1493094788,"creation_date":1492165218,"answer_id":43409625,"question_id":40898257,"body_markdown":"I&#39;ve found it, it is [`TransferManage.uploadDirectory()`][1]\r\n\r\n\r\n  [1]: http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/s3/transfer/TransferManager.html","title":"How to sync directory with AWS S3 using Java SDK?","body":"<p>I've found it, it is <a href=\"http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/s3/transfer/TransferManager.html\" rel=\"nofollow noreferrer\"><code>TransferManage.uploadDirectory()</code></a></p>\n"},{"tags":[],"owner":{"account_id":6138689,"reputation":67,"user_id":4786733,"display_name":"Anton"},"comment_count":0,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1558622426,"creation_date":1558622351,"answer_id":56277644,"question_id":40898257,"body_markdown":"[`TransferManager.copy()`][1] might do something similar, but I do not know what behaviour is employed in case a file or directory with the same name and modification time exists on the destination server.\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/s3/transfer/TransferManager.html#copy-com.amazonaws.services.s3.model.CopyObjectRequest-","title":"How to sync directory with AWS S3 using Java SDK?","body":"<p><a href=\"https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/s3/transfer/TransferManager.html#copy-com.amazonaws.services.s3.model.CopyObjectRequest-\" rel=\"nofollow noreferrer\"><code>TransferManager.copy()</code></a> might do something similar, but I do not know what behaviour is employed in case a file or directory with the same name and modification time exists on the destination server.</p>\n"},{"tags":[],"owner":{"account_id":25038914,"reputation":41,"user_id":18896001,"display_name":"Eddie"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676429717,"creation_date":1676429717,"answer_id":75455112,"question_id":40898257,"body_markdown":"There is no SDK implementation of s3 sync command. You will have to implement it in Java if needed. According to the CLI doc https://awscli.amazonaws.com/v2/documentation/api/latest/reference/s3/sync.html, \r\n\r\n&gt; An s3 object will require downloading if one of the following\r\n&gt; conditions is true:\r\n&gt; \r\n&gt; - The s3 object does not exist in the local directory.\r\n&gt; \r\n&gt; - The size of the s3 object differs from the size of the local file.\r\n&gt; \r\n&gt; - The last modified time of the s3 object is older than the last\r\n&gt; modified time of the local file.\r\n\r\nTherefore essentially you will need to compare objects in target bucket with your local files based on above rules. \r\n\r\nAlso note that above checking will not handle `--delete`, so you might need to implement the logic for deleting remote objects when the local file does not exist if it is needed.","title":"How to sync directory with AWS S3 using Java SDK?","body":"<p>There is no SDK implementation of s3 sync command. You will have to implement it in Java if needed. According to the CLI doc <a href=\"https://awscli.amazonaws.com/v2/documentation/api/latest/reference/s3/sync.html\" rel=\"nofollow noreferrer\">https://awscli.amazonaws.com/v2/documentation/api/latest/reference/s3/sync.html</a>,</p>\n<blockquote>\n<p>An s3 object will require downloading if one of the following\nconditions is true:</p>\n<ul>\n<li><p>The s3 object does not exist in the local directory.</p>\n</li>\n<li><p>The size of the s3 object differs from the size of the local file.</p>\n</li>\n<li><p>The last modified time of the s3 object is older than the last\nmodified time of the local file.</p>\n</li>\n</ul>\n</blockquote>\n<p>Therefore essentially you will need to compare objects in target bucket with your local files based on above rules.</p>\n<p>Also note that above checking will not handle <code>--delete</code>, so you might need to implement the logic for deleting remote objects when the local file does not exist if it is needed.</p>\n"}],"owner":{"account_id":1078185,"reputation":977,"user_id":1075885,"accept_rate":52,"display_name":"Tommo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10289,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"answer_count":3,"score":16,"last_activity_date":1689444140,"creation_date":1480540250,"question_id":40898257,"body_markdown":"I came across this article https://aws.amazon.com/blogs/developer/syncing-data-with-amazon-s3/ which made me aware of the uploadDirectory() method.  The blog states: &quot;This small bit of code compares the contents of the local directory to the contents in the Amazon S3 bucket and only transfer files that have changed.&quot;  This does not seem to be entirely correct since it appears to always transfer every file in a given directory as opposed to only the files that have changed.\r\n\r\nI was able to do what I wanted using AWSCLI&#39;s s3 sync command, however the goal is to be able to do this syncing using the Java SDK.  Is it possible to do this same type of sync using the Java SDK?","title":"How to sync directory with AWS S3 using Java SDK?","body":"<p>I came across this article <a href=\"https://aws.amazon.com/blogs/developer/syncing-data-with-amazon-s3/\" rel=\"noreferrer\">https://aws.amazon.com/blogs/developer/syncing-data-with-amazon-s3/</a> which made me aware of the uploadDirectory() method.  The blog states: \"This small bit of code compares the contents of the local directory to the contents in the Amazon S3 bucket and only transfer files that have changed.\"  This does not seem to be entirely correct since it appears to always transfer every file in a given directory as opposed to only the files that have changed.</p>\n\n<p>I was able to do what I wanted using AWSCLI's s3 sync command, however the goal is to be able to do this syncing using the Java SDK.  Is it possible to do this same type of sync using the Java SDK?</p>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":4727510,"reputation":85,"user_id":3823986,"display_name":"Tomz"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646206842,"creation_date":1646206842,"answer_id":71319013,"question_id":71317891,"body_markdown":"It keeps running because you are using an ApplicationContext. You should close the context. \r\nYou can use ConfigurableApplicationContext and call the close() method .\r\n\r\n\t\t\r\n\r\n    ConfigurableApplicationContext applicationContext = SpringApplication.run(DemoApplication.class, args);\r\n    \t\tTest test = applicationContext.getBean(Test.class);\r\n    \t\ttest.printTest();\r\n    \t\tapplicationContext.close();","title":"Springboot process keeps running even after completion in batch mode","body":"<p>It keeps running because you are using an ApplicationContext. You should close the context.\nYou can use ConfigurableApplicationContext and call the close() method .</p>\n<pre><code>ConfigurableApplicationContext applicationContext = SpringApplication.run(DemoApplication.class, args);\n        Test test = applicationContext.getBean(Test.class);\n        test.printTest();\n        applicationContext.close();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689443416,"creation_date":1689443416,"answer_id":76695088,"question_id":71317891,"body_markdown":"Your application keeps running because it is configured as a Web server. If you want to run it as a _one off_ application you should remove the `spring-boot-starter-web` from `pom.xml`.","title":"Springboot process keeps running even after completion in batch mode","body":"<p>Your application keeps running because it is configured as a Web server. If you want to run it as a <em>one off</em> application you should remove the <code>spring-boot-starter-web</code> from <code>pom.xml</code>.</p>\n"}],"owner":{"account_id":957750,"reputation":1466,"user_id":982747,"accept_rate":50,"display_name":"Praveenks"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":989,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71319013,"answer_count":2,"score":0,"last_activity_date":1689443416,"creation_date":1646199313,"question_id":71317891,"body_markdown":"I need to run the springboot application in the batch mode. As soon as the processes get finished, the process should exit. I have written a mock code to achieve the same but even after the print statement is completed, the process is not getting completed and I have to manually abort the process.\r\n\r\n    @SpringBootApplication\r\n    public class DemoApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tApplicationContext applicationContext = SpringApplication.run(DemoApplication.class, args);\r\n    \t\tTest test = applicationContext.getBean(Test.class);\r\n    \t\ttest.printTest();\r\n    \t}\r\n    \r\n    }\r\n\r\n***Test.class :***\r\n\r\n    package com.example.demo.service;\r\n    \r\n    import org.springframework.stereotype.Component;\r\n    \r\n    @Component\r\n    public class Test{\r\n    \r\n        public void printTest(){\r\n            System.out.println(&quot;Test class !&quot;);\r\n        }\r\n    \r\n    }\r\n\r\n***Dependencies :***\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.6.4&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;demo&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n    \r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;excludes&gt;\r\n    \t\t\t\t\t\t&lt;exclude&gt;\r\n    \t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;/excludes&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7iuFx.png","title":"Springboot process keeps running even after completion in batch mode","body":"<p>I need to run the springboot application in the batch mode. As soon as the processes get finished, the process should exit. I have written a mock code to achieve the same but even after the print statement is completed, the process is not getting completed and I have to manually abort the process.</p>\n<pre><code>@SpringBootApplication\npublic class DemoApplication {\n\n    public static void main(String[] args) {\n        ApplicationContext applicationContext = SpringApplication.run(DemoApplication.class, args);\n        Test test = applicationContext.getBean(Test.class);\n        test.printTest();\n    }\n\n}\n</code></pre>\n<p><em><strong>Test.class :</strong></em></p>\n<pre><code>package com.example.demo.service;\n\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class Test{\n\n    public void printTest(){\n        System.out.println(&quot;Test class !&quot;);\n    }\n\n}\n</code></pre>\n<p><em><strong>Dependencies :</strong></em></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.4&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/7iuFx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7iuFx.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","string","random","integer","java-stream"],"comments":[{"owner":{"account_id":28162853,"reputation":116,"user_id":21522468,"display_name":"John"},"score":0,"creation_date":1689439943,"post_id":76694752,"comment_id":135215214,"body_markdown":"The string length is 100","body":"The string length is 100"},{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":1,"creation_date":1689440215,"post_id":76694752,"comment_id":135215244,"body_markdown":"Your first example could use a `StringBuilder` but that&#39;s a nit.  How is the first example &quot;too complicated&quot;?  Put the code in a method and the rest of your code can generate a random `String` of digits with one method call.","body":"Your first example could use a <code>StringBuilder</code> but that&#39;s a nit.  How is the first example &quot;too complicated&quot;?  Put the code in a method and the rest of your code can generate a random <code>String</code> of digits with one method call."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1689692482,"post_id":76694752,"comment_id":135248103,"body_markdown":"`String pageReferenceString = new Random().ints(100, &#39;0&#39;, &#39;9&#39; + 1) .collect(StringBuilder::new, StringBuilder::appendCodePoint, StringBuilder::append).toString();`","body":"<code>String pageReferenceString = new Random().ints(100, &#39;0&#39;, &#39;9&#39; + 1) .collect(StringBuilder::new, StringBuilder::appendCodePoint, StringBuilder::append).toString();</code>"}],"answers":[{"tags":[],"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689440035,"creation_date":1689440035,"answer_id":76694861,"question_id":76694752,"body_markdown":"You can simplify the stream as follows:\r\n\r\n        String pageReferenceString = Stream\r\n                .generate(() -&gt; String.valueOf(r.nextInt(9)))\r\n                .limit(100)\r\n                .collect(Collectors.joining());","title":"How to generate random String of numbers?","body":"<p>You can simplify the stream as follows:</p>\n<pre><code>    String pageReferenceString = Stream\n            .generate(() -&gt; String.valueOf(r.nextInt(9)))\n            .limit(100)\n            .collect(Collectors.joining());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":28162853,"reputation":116,"user_id":21522468,"display_name":"John"},"score":0,"creation_date":1689442400,"post_id":76694994,"comment_id":135215498,"body_markdown":"This would be what I am looking for, but sometimes it produces `strings` of length `101`.","body":"This would be what I am looking for, but sometimes it produces <code>strings</code> of length <code>101</code>."},{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":0,"creation_date":1689442439,"post_id":76694994,"comment_id":135215505,"body_markdown":"hence the `substring` portion - did you include that?","body":"hence the <code>substring</code> portion - did you include that?"},{"owner":{"account_id":28162853,"reputation":116,"user_id":21522468,"display_name":"John"},"score":0,"creation_date":1689442494,"post_id":76694994,"comment_id":135215515,"body_markdown":"Oh, missed that :)","body":"Oh, missed that :)"},{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":1,"creation_date":1689442654,"post_id":76694994,"comment_id":135215534,"body_markdown":"Updated to 336 - if one assumes a leading 0 not rendered then need an extra 3 bits (from 333).  See : https://planetcalc.com/8985/?num=99999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999.","body":"Updated to 336 - if one assumes a leading 0 not rendered then need an extra 3 bits (from 333).  See : <a href=\"https://planetcalc.com/8985/?num=99999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999\" rel=\"nofollow noreferrer\">planetcalc.com/8985/&hellip;</a>."}],"tags":[],"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1689442678,"creation_date":1689441777,"answer_id":76694994,"question_id":76694752,"body_markdown":"Try using `java.math.BigInteger` to represent a 100-decimal digit number to string:\r\n\r\n    String s = new java.math.BigInteger(336,new Random()).toString().substring(0,100);\r\n    System.out.println(s.length() + &quot; : &quot; + s);\r\n\r\nProduces:\r\n\r\n    100 : 3627584459248992174732353013411646520422611738128940010551544228607987109715317481157384457047726562\r\n\r\n336 is the number of bits required to ensure a 100-digit number and account for a &quot;missing&quot; leading 0.\r\n   \r\n","title":"How to generate random String of numbers?","body":"<p>Try using <code>java.math.BigInteger</code> to represent a 100-decimal digit number to string:</p>\n<pre><code>String s = new java.math.BigInteger(336,new Random()).toString().substring(0,100);\nSystem.out.println(s.length() + &quot; : &quot; + s);\n</code></pre>\n<p>Produces:</p>\n<pre><code>100 : 3627584459248992174732353013411646520422611738128940010551544228607987109715317481157384457047726562\n</code></pre>\n<p>336 is the number of bits required to ensure a 100-digit number and account for a &quot;missing&quot; leading 0.</p>\n"}],"owner":{"account_id":28162853,"reputation":116,"user_id":21522468,"display_name":"John"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76694994,"answer_count":2,"score":1,"last_activity_date":1689442678,"creation_date":1689438543,"question_id":76694752,"body_markdown":"I need to generate a `String` of random ints, and I could use a loop\r\n```\r\nimport java.util.Random;\r\n\r\npublic class RandomNumbers {\r\n\tpublic static void main(String[] args) {\r\n\t\tRandom r = new Random();\r\n\t\tString pageReferenceString = &quot;&quot;;\r\n\t\tfor (int i = 0; i &lt; 100; i++) {\r\n\t\t\tpageReferenceString += String.valueOf(r.nextInt(9));\r\n\t\t}\r\n\t\tSystem.out.println(pageReferenceString);\r\n\t}\r\n}\r\n```\r\nBut, it seems too complicated, I could also have used streams\r\n```\r\nimport java.util.Random;\r\nimport java.util.stream.IntStream;\r\n\r\npublic class StreamRandomNumbers {\r\n\tpublic static void main(String[] args) {\r\n\t\tRandom r = new Random();\r\n\t\tString pageReferenceString = IntStream\r\n\t\t\t.generate(() -&gt; r.nextInt(9))\r\n\t\t\t.limit(100)\r\n\t\t\t.mapToObj(String::valueOf)\r\n\t\t\t.reduce((a, b) -&gt; a+b) // a.concat(b)\r\n\t\t\t.get();\r\n\t\tSystem.out.println(pageReferenceString);\r\n\t}\r\n}\r\n```\r\nBut it is still too complicated.\r\n\r\nIs there a simple way of doing this?\r\n","title":"How to generate random String of numbers?","body":"<p>I need to generate a <code>String</code> of random ints, and I could use a loop</p>\n<pre><code>import java.util.Random;\n\npublic class RandomNumbers {\n    public static void main(String[] args) {\n        Random r = new Random();\n        String pageReferenceString = &quot;&quot;;\n        for (int i = 0; i &lt; 100; i++) {\n            pageReferenceString += String.valueOf(r.nextInt(9));\n        }\n        System.out.println(pageReferenceString);\n    }\n}\n</code></pre>\n<p>But, it seems too complicated, I could also have used streams</p>\n<pre><code>import java.util.Random;\nimport java.util.stream.IntStream;\n\npublic class StreamRandomNumbers {\n    public static void main(String[] args) {\n        Random r = new Random();\n        String pageReferenceString = IntStream\n            .generate(() -&gt; r.nextInt(9))\n            .limit(100)\n            .mapToObj(String::valueOf)\n            .reduce((a, b) -&gt; a+b) // a.concat(b)\n            .get();\n        System.out.println(pageReferenceString);\n    }\n}\n</code></pre>\n<p>But it is still too complicated.</p>\n<p>Is there a simple way of doing this?</p>\n"},{"tags":["java","nullpointerexception","bundle"],"owner":{"account_id":29023505,"reputation":9,"user_id":22232297,"display_name":"Krokbz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1689441790,"answer_count":0,"score":0,"last_activity_date":1689441682,"creation_date":1689441682,"question_id":76694988,"body_markdown":"The app I&#39;m making is giving me a fatal exception on my bundle.getDoubleArray(&quot;key&quot;).\r\nIt says I&#39;m invoking a null object reference on it.\r\n\r\nMy code in the second fragment:\r\n\r\n```\r\n    public View onCreateView(\r\n            LayoutInflater inflater, ViewGroup container,\r\n            Bundle savedInstanceState\r\n    ) {\r\n        rezultat=new double[3];\r\n        bundle= new Bundle();\r\n        bundle = this.getArguments();\r\n        rezultat=bundle.getDoubleArray(&quot;key&quot;);\r\n        View v=inflater.inflate(R.layout.fragment_second,container,false);\r\n\r\n        setTextR1(v);\r\n        setTextR2(v);\r\n        setTextR3(v);\r\n\r\n        return v;\r\n\r\n    }\r\n```\r\nCode in the first fragment where I&#39;m putting a double array in the bundle:\r\n\r\n```\r\n            public void onClick(View view) {\r\n                ArrayList&lt;ValAtt&gt; mValAtts=new ArrayList&lt;&gt;();\r\n                Baza baz=new Baza();\r\n                mValAtts=baz.getVA();\r\n                double fibLoss, fibLen, lossBud;\r\n                spinner=(Spinner) spinner.findViewById(R.id.tip);\r\n                brSplice=(EditText) brSplice.findViewById(R.id.brSpoj);\r\n                brCon=(EditText) brCon.findViewById(R.id.brKon);\r\n                cLen=(EditText) cLen.findViewById(R.id.duzKabel);\r\n                minPow=(EditText) minPow.findViewById(R.id.minPow);\r\n                recPow=(EditText) recPow.findViewById(R.id.recPow);\r\n\r\n                double sFAtt=mValAtts.get(spinner.getSelectedItemPosition()).getmAtt();\r\n                fibLoss = kons.getsLoss()*Double.parseDouble(brSplice.getText().toString())+kons.getcLoss()*Double.parseDouble(brCon.getText().toString())+Double.parseDouble(cLen.getText().toString())*sFAtt+ kons.getsMarg();\r\n                fibLen = (Double.parseDouble(minPow.getText().toString())-Double.parseDouble(recPow.getText().toString())-kons.getsLoss()*Double.parseDouble(brSplice.getText().toString())-kons.getcLoss()*Double.parseDouble(brCon.getText().toString()))/sFAtt;\r\n                lossBud = fibLoss+Double.parseDouble(minPow.getText().toString())-Double.parseDouble(recPow.getText().toString());\r\n                NavHostFragment.findNavController(FirstFragment.this)\r\n                        .navigate(R.id.action_FirstFragment_to_SecondFragment);\r\n\r\n                double[] rez=new double[3];\r\n                rez[0]=fibLoss; rez[1]=fibLen;rez[2]=lossBud;\r\n\r\n                Bundle bundle = new Bundle();\r\n                bundle.putDoubleArray(&quot;key&quot;,rez);\r\n\r\n                SecondFragment fragment2 = new SecondFragment();\r\n                fragment2.setArguments(bundle);\r\n\r\n\r\n            }\r\n\r\n```\r\n\r\nlogcat:\r\n\r\n```\r\n2023-07-15 17:47:46.538 17344-17344/com.example.optickikalkulator E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.optickikalkulator, PID: 17344\r\n    java.lang.NullPointerException: Attempt to invoke virtual method &#39;double[] android.os.Bundle.getDoubleArray(java.lang.String)&#39; on a null object reference\r\n        at com.example.optickikalkulator.SecondFragment.onCreateView(SecondFragment.java:28)\r\n        at androidx.fragment.app.Fragment.performCreateView(Fragment.java:2698)\r\n        at androidx.fragment.app.FragmentStateManager.createView(FragmentStateManager.java:320)\r\n        at androidx.fragment.app.FragmentManager.moveToState(FragmentManager.java:1187)\r\n        at androidx.fragment.app.FragmentManager.addAddedFragments(FragmentManager.java:2224)\r\n        at androidx.fragment.app.FragmentManager.executeOpsTogether(FragmentManager.java:1997)\r\n        at androidx.fragment.app.FragmentManager.removeRedundantOperationsAndExecute(FragmentManager.java:1953)\r\n        at androidx.fragment.app.FragmentManager.execPendingActions(FragmentManager.java:1849)\r\n        at androidx.fragment.app.FragmentManager$4.run(FragmentManager.java:413)\r\n        at android.os.Handler.handleCallback(Handler.java:942)\r\n        at android.os.Handler.dispatchMessage(Handler.java:99)\r\n        at android.os.Looper.loopOnce(Looper.java:210)\r\n        at android.os.Looper.loop(Looper.java:299)\r\n        at android.app.ActivityThread.main(ActivityThread.java:8252)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:559)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:954)\r\n```\r\n\r\n\r\n\r\n\r\n\r\nI&#39;m guessing I didn&#39;t initialize something, I didn&#39;t set up the bundle properly or I didn&#39;t receive the bundle properly.\r\nAlso I&#39;m sorry if my English isn&#39;t good or if I didn&#39;t explain the problem properly, English is my second language and I&#39;m a really amateur programmer.","title":"My app is invoking virtual method getDoubleArray on a null object reference","body":"<p>The app I'm making is giving me a fatal exception on my bundle.getDoubleArray(&quot;key&quot;).\nIt says I'm invoking a null object reference on it.</p>\n<p>My code in the second fragment:</p>\n<pre><code>    public View onCreateView(\n            LayoutInflater inflater, ViewGroup container,\n            Bundle savedInstanceState\n    ) {\n        rezultat=new double[3];\n        bundle= new Bundle();\n        bundle = this.getArguments();\n        rezultat=bundle.getDoubleArray(&quot;key&quot;);\n        View v=inflater.inflate(R.layout.fragment_second,container,false);\n\n        setTextR1(v);\n        setTextR2(v);\n        setTextR3(v);\n\n        return v;\n\n    }\n</code></pre>\n<p>Code in the first fragment where I'm putting a double array in the bundle:</p>\n<pre><code>            public void onClick(View view) {\n                ArrayList&lt;ValAtt&gt; mValAtts=new ArrayList&lt;&gt;();\n                Baza baz=new Baza();\n                mValAtts=baz.getVA();\n                double fibLoss, fibLen, lossBud;\n                spinner=(Spinner) spinner.findViewById(R.id.tip);\n                brSplice=(EditText) brSplice.findViewById(R.id.brSpoj);\n                brCon=(EditText) brCon.findViewById(R.id.brKon);\n                cLen=(EditText) cLen.findViewById(R.id.duzKabel);\n                minPow=(EditText) minPow.findViewById(R.id.minPow);\n                recPow=(EditText) recPow.findViewById(R.id.recPow);\n\n                double sFAtt=mValAtts.get(spinner.getSelectedItemPosition()).getmAtt();\n                fibLoss = kons.getsLoss()*Double.parseDouble(brSplice.getText().toString())+kons.getcLoss()*Double.parseDouble(brCon.getText().toString())+Double.parseDouble(cLen.getText().toString())*sFAtt+ kons.getsMarg();\n                fibLen = (Double.parseDouble(minPow.getText().toString())-Double.parseDouble(recPow.getText().toString())-kons.getsLoss()*Double.parseDouble(brSplice.getText().toString())-kons.getcLoss()*Double.parseDouble(brCon.getText().toString()))/sFAtt;\n                lossBud = fibLoss+Double.parseDouble(minPow.getText().toString())-Double.parseDouble(recPow.getText().toString());\n                NavHostFragment.findNavController(FirstFragment.this)\n                        .navigate(R.id.action_FirstFragment_to_SecondFragment);\n\n                double[] rez=new double[3];\n                rez[0]=fibLoss; rez[1]=fibLen;rez[2]=lossBud;\n\n                Bundle bundle = new Bundle();\n                bundle.putDoubleArray(&quot;key&quot;,rez);\n\n                SecondFragment fragment2 = new SecondFragment();\n                fragment2.setArguments(bundle);\n\n\n            }\n\n</code></pre>\n<p>logcat:</p>\n<pre><code>2023-07-15 17:47:46.538 17344-17344/com.example.optickikalkulator E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.optickikalkulator, PID: 17344\n    java.lang.NullPointerException: Attempt to invoke virtual method 'double[] android.os.Bundle.getDoubleArray(java.lang.String)' on a null object reference\n        at com.example.optickikalkulator.SecondFragment.onCreateView(SecondFragment.java:28)\n        at androidx.fragment.app.Fragment.performCreateView(Fragment.java:2698)\n        at androidx.fragment.app.FragmentStateManager.createView(FragmentStateManager.java:320)\n        at androidx.fragment.app.FragmentManager.moveToState(FragmentManager.java:1187)\n        at androidx.fragment.app.FragmentManager.addAddedFragments(FragmentManager.java:2224)\n        at androidx.fragment.app.FragmentManager.executeOpsTogether(FragmentManager.java:1997)\n        at androidx.fragment.app.FragmentManager.removeRedundantOperationsAndExecute(FragmentManager.java:1953)\n        at androidx.fragment.app.FragmentManager.execPendingActions(FragmentManager.java:1849)\n        at androidx.fragment.app.FragmentManager$4.run(FragmentManager.java:413)\n        at android.os.Handler.handleCallback(Handler.java:942)\n        at android.os.Handler.dispatchMessage(Handler.java:99)\n        at android.os.Looper.loopOnce(Looper.java:210)\n        at android.os.Looper.loop(Looper.java:299)\n        at android.app.ActivityThread.main(ActivityThread.java:8252)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:559)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:954)\n</code></pre>\n<p>I'm guessing I didn't initialize something, I didn't set up the bundle properly or I didn't receive the bundle properly.\nAlso I'm sorry if my English isn't good or if I didn't explain the problem properly, English is my second language and I'm a really amateur programmer.</p>\n"},{"tags":["java","interface","java-20"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1689608273,"post_id":76694349,"comment_id":135234126,"body_markdown":"You should not go into the package directory. Run `javac` from the parent directory. Or, if you want to stay in that directory,. specify `-sourcepath ..`. Or just run `javac *.java`, if you are going to compile all files anyway. Btw, what’s the reason to use the ancient, outdated class `Vector` which has been superseded by `ArrayList` a quarter century ago?","body":"You should not go into the package directory. Run <code>javac</code> from the parent directory. Or, if you want to stay in that directory,. specify <code>-sourcepath ..</code>. Or just run <code>javac *.java</code>, if you are going to compile all files anyway. Btw, what’s the reason to use the ancient, outdated class <code>Vector</code> which has been superseded by <code>ArrayList</code> a quarter century ago?"}],"answers":[{"tags":[],"owner":{"account_id":20338,"reputation":63801,"user_id":48503,"accept_rate":100,"display_name":"Luke Woodward"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689441579,"creation_date":1689441579,"answer_id":76694978,"question_id":76694349,"body_markdown":"You are running the Java compiler from the wrong directory.\r\n\r\nIt seems you are running the `javac` command from within the `jexample` directory. This isn&#39;t made clear, but this can be deduced from the directory\r\nstructure and the fact that you are compiling the `Main` class using `javac .\\Main.java`. You aslo say that the code compiles in IntelliJ. If this is the case then all of the classes must be the `jexample` package.\r\n\r\nWhen the Java compiler starts compiling your `Main` class and needs to find the `RunnableKeyValueFactory` class in the `jexample` package, it looks for the file `RunnableKeyValueFactory.java` within the `jexample` subdirectory of the current directory. Because you are running `javac` from within the `jexample` directory, the Java compiler is looking for this class in\r\n```lang-none\r\nC:\\-----\\jexample\\jexample\\RunnableKeyValueFactory.java\r\n```\r\nI suspect this file does not exist. Hence the compiler cannot find your `RunnableKeyValueFactory` class.\r\n\r\nTry changing to the parent directory and running `javac .\\jexample\\MyCryptMain.java`. Your code should compile from there, or if it doesn&#39;t, you should get different compiler errors.\r\n\r\nNote that the Java compiler won&#39;t automatically detect that you are in a subdirectory whose name matches the package and automatically base its searches for classes from the parent directory.\r\n\r\n","title":"Problems with RunnableInterfaces in Java JDK-20","body":"<p>You are running the Java compiler from the wrong directory.</p>\n<p>It seems you are running the <code>javac</code> command from within the <code>jexample</code> directory. This isn't made clear, but this can be deduced from the directory\nstructure and the fact that you are compiling the <code>Main</code> class using <code>javac .\\Main.java</code>. You aslo say that the code compiles in IntelliJ. If this is the case then all of the classes must be the <code>jexample</code> package.</p>\n<p>When the Java compiler starts compiling your <code>Main</code> class and needs to find the <code>RunnableKeyValueFactory</code> class in the <code>jexample</code> package, it looks for the file <code>RunnableKeyValueFactory.java</code> within the <code>jexample</code> subdirectory of the current directory. Because you are running <code>javac</code> from within the <code>jexample</code> directory, the Java compiler is looking for this class in</p>\n<pre class=\"lang-none prettyprint-override\"><code>C:\\-----\\jexample\\jexample\\RunnableKeyValueFactory.java\n</code></pre>\n<p>I suspect this file does not exist. Hence the compiler cannot find your <code>RunnableKeyValueFactory</code> class.</p>\n<p>Try changing to the parent directory and running <code>javac .\\jexample\\MyCryptMain.java</code>. Your code should compile from there, or if it doesn't, you should get different compiler errors.</p>\n<p>Note that the Java compiler won't automatically detect that you are in a subdirectory whose name matches the package and automatically base its searches for classes from the parent directory.</p>\n"}],"owner":{"account_id":29023513,"reputation":1,"user_id":22232304,"display_name":"Liffecs"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689441579,"creation_date":1689433065,"question_id":76694349,"body_markdown":"I have problems to import an interface in Java. In intellj I can execute the code despite errors. When I do it with Java itself it does not work. Can you help me?\r\n\r\nThis is my interface.\r\n\r\n```java\r\npackage jexample;\r\n\r\nimport java.util.Vector;\r\n\r\npublic interface RunnableInterface {\r\n    public void run(Vector&lt;String&gt; args);\r\n}\r\n```\r\n\r\nThis is my MyCryptMain.java:\r\n\r\n```java\r\npackage jexample;\r\n\r\nimport java.util.Vector;\r\n\r\npublic class MyCryptMain {\r\n\r\n    static final String PROG_NAME = &quot;MyCryptMain&quot;;\r\n    static final String SCOPE = &quot;jexample.&quot;;\r\n\r\n    public static final String[][] MY_ARRAY = {\r\n            {&quot;-genkeys&quot;, SCOPE + &quot;RunGenKeys&quot;},\r\n            {&quot;-encrypt&quot;, SCOPE + &quot;RunEncrypt&quot;},\r\n            {&quot;-decrypt&quot;, SCOPE + &quot;RunDecrypt&quot;},\r\n            {&quot;-copy&quot;, SCOPE + &quot;RunCopy&quot;}\r\n    };\r\n\r\n    public static void usage() {\r\n        String msg[] = {\r\n                &quot;Program &#39;&quot; + PROG_NAME + &quot;&#39;&quot;,\r\n                &quot;usage:&quot;,\r\n                &quot;\\t&quot; + PROG_NAME + &quot; &quot; + MY_ARRAY[0][0]\r\n                        + &quot; [priv_keyfile] [pub_keyfile]&quot;,\r\n                &quot;\\t&quot; + PROG_NAME + &quot; &quot; + MY_ARRAY[1][0]\r\n                        + &quot; [pub_keyfile] [ifile] [ofile] &quot;,\r\n                &quot;\\t&quot; + PROG_NAME + &quot; &quot; + MY_ARRAY[2][0]\r\n                        + &quot; [privkeyfile] [ifile] [ofile] &quot;,\r\n                &quot;\\t&quot; + PROG_NAME + &quot; &quot; + MY_ARRAY[3][0]\r\n                        + &quot; [dummyword] [ifile]  [ofile] &quot;,\r\n                &quot;&quot;\r\n        };\r\n\r\n        for (int i = 0; i &lt; msg.length; ++i) {\r\n            System.err.println(msg[i]);\r\n        }\r\n\r\n        System.exit(0);\r\n    }\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        RunnableKeyValueFactory runnableKeyValueFactory = new RunnableKeyValueFactory(MY_ARRAY);\r\n\r\n        int argSize = args.length;\r\n\r\n        if (argSize &lt;= 0) {\r\n            usage();\r\n        }\r\n\r\n        String cmdKey = new String(args[0]);\r\n\r\n        if (!runnableKeyValueFactory.containsKey(cmdKey)) {\r\n            usage();\r\n        }\r\n\r\n        Vector&lt;String&gt; optArgVector = MyUtils.shiftArgs(args, 5);\r\n\r\n        RunnableInterface myRun = runnableKeyValueFactory.getInstanceFromKey(cmdKey);\r\n\r\n        myRun.run(optArgVector);\r\n\r\n        System.out.println(&quot;Ende des Programms.&quot;);\r\n    }\r\n}\r\n```\r\n\r\n\r\nThis is my folder structure:\r\n```bash\r\nC:.\r\n\\---jexample\r\n        MyCryptMain.java\r\n        MyUtils.java\r\n        RunCopy.java\r\n        RunDecrypt.java\r\n        RunEncrypt.java\r\n        RunGenKeys.java\r\n        RunnableBase.java\r\n        RunnableFactory.java\r\n        RunnableInterface.java\r\n        RunnableKeyValueFactory.java\r\n```\r\n\r\n\r\n\r\nAs you can see, all files are in the right place and can be found. \r\n\r\n\r\n\r\n\r\n```bash\r\njavac .\\MyCryptMain.java\r\n.\\MyCryptMain.java:56: error: cannot find symbol\r\nRunnableKeyValueFactory runnableKeyValueFactory\r\n^\r\nsymbol: class RunnableKeyValueFactory\r\nlocation: class MyCryptMain\r\n.\\MyCryptMain.java:57: error: cannot find symbol\r\n= new RunnableKeyValueFactory(MY_ARRAY);\r\n^\r\nsymbol: class RunnableKeyValueFactory\r\nlocation: class MyCryptMain\r\n.\\MyCryptMain.java:75: error: cannot find symbol\r\nVector&lt;String&gt; optArgVector = MyUtils.shiftArgs(args, 5);\r\n^\r\nsymbol: variable MyUtils\r\nlocation: class MyCryptMain\r\n.\\MyCryptMain.java:78: error: cannot find symbol\r\nRunnableInterface myRun\r\n^\r\nsymbol: class RunnableInterface\r\nlocation: class MyCryptMain\r\n4 errors\r\n```\r\n\r\nNevertheless, java (javac) does not find the interface. Can you help me please?\r\n\r\nGreetings Liffecs.\r\n\r\n\r\n\r\nI expected java to find the interface and continue executing the program normally. In Intellj with OpenJDK 20 it also works without problems.","title":"Problems with RunnableInterfaces in Java JDK-20","body":"<p>I have problems to import an interface in Java. In intellj I can execute the code despite errors. When I do it with Java itself it does not work. Can you help me?</p>\n<p>This is my interface.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package jexample;\n\nimport java.util.Vector;\n\npublic interface RunnableInterface {\n    public void run(Vector&lt;String&gt; args);\n}\n</code></pre>\n<p>This is my MyCryptMain.java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package jexample;\n\nimport java.util.Vector;\n\npublic class MyCryptMain {\n\n    static final String PROG_NAME = &quot;MyCryptMain&quot;;\n    static final String SCOPE = &quot;jexample.&quot;;\n\n    public static final String[][] MY_ARRAY = {\n            {&quot;-genkeys&quot;, SCOPE + &quot;RunGenKeys&quot;},\n            {&quot;-encrypt&quot;, SCOPE + &quot;RunEncrypt&quot;},\n            {&quot;-decrypt&quot;, SCOPE + &quot;RunDecrypt&quot;},\n            {&quot;-copy&quot;, SCOPE + &quot;RunCopy&quot;}\n    };\n\n    public static void usage() {\n        String msg[] = {\n                &quot;Program '&quot; + PROG_NAME + &quot;'&quot;,\n                &quot;usage:&quot;,\n                &quot;\\t&quot; + PROG_NAME + &quot; &quot; + MY_ARRAY[0][0]\n                        + &quot; [priv_keyfile] [pub_keyfile]&quot;,\n                &quot;\\t&quot; + PROG_NAME + &quot; &quot; + MY_ARRAY[1][0]\n                        + &quot; [pub_keyfile] [ifile] [ofile] &quot;,\n                &quot;\\t&quot; + PROG_NAME + &quot; &quot; + MY_ARRAY[2][0]\n                        + &quot; [privkeyfile] [ifile] [ofile] &quot;,\n                &quot;\\t&quot; + PROG_NAME + &quot; &quot; + MY_ARRAY[3][0]\n                        + &quot; [dummyword] [ifile]  [ofile] &quot;,\n                &quot;&quot;\n        };\n\n        for (int i = 0; i &lt; msg.length; ++i) {\n            System.err.println(msg[i]);\n        }\n\n        System.exit(0);\n    }\n\n    public static void main(String[] args) throws Exception {\n        RunnableKeyValueFactory runnableKeyValueFactory = new RunnableKeyValueFactory(MY_ARRAY);\n\n        int argSize = args.length;\n\n        if (argSize &lt;= 0) {\n            usage();\n        }\n\n        String cmdKey = new String(args[0]);\n\n        if (!runnableKeyValueFactory.containsKey(cmdKey)) {\n            usage();\n        }\n\n        Vector&lt;String&gt; optArgVector = MyUtils.shiftArgs(args, 5);\n\n        RunnableInterface myRun = runnableKeyValueFactory.getInstanceFromKey(cmdKey);\n\n        myRun.run(optArgVector);\n\n        System.out.println(&quot;Ende des Programms.&quot;);\n    }\n}\n</code></pre>\n<p>This is my folder structure:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>C:.\n\\---jexample\n        MyCryptMain.java\n        MyUtils.java\n        RunCopy.java\n        RunDecrypt.java\n        RunEncrypt.java\n        RunGenKeys.java\n        RunnableBase.java\n        RunnableFactory.java\n        RunnableInterface.java\n        RunnableKeyValueFactory.java\n</code></pre>\n<p>As you can see, all files are in the right place and can be found.</p>\n<pre class=\"lang-bash prettyprint-override\"><code>javac .\\MyCryptMain.java\n.\\MyCryptMain.java:56: error: cannot find symbol\nRunnableKeyValueFactory runnableKeyValueFactory\n^\nsymbol: class RunnableKeyValueFactory\nlocation: class MyCryptMain\n.\\MyCryptMain.java:57: error: cannot find symbol\n= new RunnableKeyValueFactory(MY_ARRAY);\n^\nsymbol: class RunnableKeyValueFactory\nlocation: class MyCryptMain\n.\\MyCryptMain.java:75: error: cannot find symbol\nVector&lt;String&gt; optArgVector = MyUtils.shiftArgs(args, 5);\n^\nsymbol: variable MyUtils\nlocation: class MyCryptMain\n.\\MyCryptMain.java:78: error: cannot find symbol\nRunnableInterface myRun\n^\nsymbol: class RunnableInterface\nlocation: class MyCryptMain\n4 errors\n</code></pre>\n<p>Nevertheless, java (javac) does not find the interface. Can you help me please?</p>\n<p>Greetings Liffecs.</p>\n<p>I expected java to find the interface and continue executing the program normally. In Intellj with OpenJDK 20 it also works without problems.</p>\n"},{"tags":["java","spring","jpa","asynchronous"],"comments":[{"owner":{"account_id":449256,"reputation":2120,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"score":0,"creation_date":1689541895,"post_id":76693356,"comment_id":135224487,"body_markdown":"From an DevOps point of view: You could clone the incomming database in the target database (in different tables) and use plain sql to merge (`INSERT INTO x SELECT * FROM Z`). This way you have 100% performance and respect the ACID rules. As soon as you confirm the merge is finished, you could remove the clone-tables. Is the wording merge correct? Looks more like a replication.","body":"From an DevOps point of view: You could clone the incomming database in the target database (in different tables) and use plain sql to merge (<code>INSERT INTO x SELECT * FROM Z</code>). This way you have 100% performance and respect the ACID rules. As soon as you confirm the merge is finished, you could remove the clone-tables. Is the wording merge correct? Looks more like a replication."}],"owner":{"account_id":10197972,"reputation":1986,"user_id":7529228,"accept_rate":50,"display_name":"cactuschibre"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689440801,"creation_date":1689417518,"question_id":76693356,"body_markdown":"I have a Spring Boot application with an `@Async` API implementation to manage large computations and store some states.\r\n\r\n**Simplified synthesis:**\r\n\r\n- Controller:\r\n\r\n```java\r\n@PostMapping(&quot;/do&quot;)\r\npublic void doSomething(@RequestBody @Valid MyDto myDto) {\r\n    this.service.do(myDto);\r\n}\r\n```\r\n\r\n- Service\r\n\r\n```java\r\n @Async(&quot;asyncExecutor&quot;)\r\npublic void do(MyDto myDto) {\r\n     doSomething(myDto);\r\n     this.anotherService.mergeInDatabase(myDto);\r\n}\r\n```\r\n\r\n- Another service:\r\n\r\n```java\r\n@Transactional\r\npublic Object mergeInDatabase(MyDto myDto) {\r\n       // ...\r\n       Object o = this.repository.findByName(myDto.getName());\r\n       if (o == null) {\r\n            Data newData = new Data();\r\n            return this.repository.save(newData);\r\n       }\r\n       // ...\r\n}\r\n```\r\n\r\nThere is a problem to manage asynchronous call and database integrity.\r\nSometimes, `this.repository.findByName(myDto.getName())` returns 2 objects because two threads have previously called `this.repository.save(newData);` at the same time.\r\n\r\nAs you see, I tried to add `@Transactional` because I thought it could solve that problem.\r\nShould I need to add `synchronized` or another kind of synchronization, or there is another mechanism to manage database integrity (unique keys, indexes, etc.) for asynchronous processes in Spring Boot ?\r\n\r\n\r\n\r\n**Edit:**\r\n\r\n- I decided to catch `DataIntegrityViolationException` and modify my entity with `@Column(unique = true)` to keep uniqueness of some data.\r\n- `@Transactional` has been removed as it is without effect on multi-threading operations.\r\n- `synchronized` has not be choosen due to potential loss of performance.\r\n\r\nSo, I &quot;reversed&quot; the code in that way (pseudo-code):\r\n\r\n```\r\npublic Object mergeInDatabase(MyDto myDto) {\r\ntry {\r\n   Data newData = new Data(myDto);\r\n   return this.repository.save(newData);\r\n} catch (DataIntegrityViolationException e) {\r\n   // The data already exists, following the DB constraints\r\n   Data existingData = this.repository.findByName(myDto.getName());\r\n   // ... Update appropriate fields in existingData here ...\r\n   return this.repository.save(existingData);\r\n}\r\n```\r\n\r\nI am not really fan of this solution, but it works as expected. If you have a better approach, I&#39;ll try it.","title":"Spring: how to manage databases merge with @Async","body":"<p>I have a Spring Boot application with an <code>@Async</code> API implementation to manage large computations and store some states.</p>\n<p><strong>Simplified synthesis:</strong></p>\n<ul>\n<li>Controller:</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>@PostMapping(&quot;/do&quot;)\npublic void doSomething(@RequestBody @Valid MyDto myDto) {\n    this.service.do(myDto);\n}\n</code></pre>\n<ul>\n<li>Service</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code> @Async(&quot;asyncExecutor&quot;)\npublic void do(MyDto myDto) {\n     doSomething(myDto);\n     this.anotherService.mergeInDatabase(myDto);\n}\n</code></pre>\n<ul>\n<li>Another service:</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>@Transactional\npublic Object mergeInDatabase(MyDto myDto) {\n       // ...\n       Object o = this.repository.findByName(myDto.getName());\n       if (o == null) {\n            Data newData = new Data();\n            return this.repository.save(newData);\n       }\n       // ...\n}\n</code></pre>\n<p>There is a problem to manage asynchronous call and database integrity.\nSometimes, <code>this.repository.findByName(myDto.getName())</code> returns 2 objects because two threads have previously called <code>this.repository.save(newData);</code> at the same time.</p>\n<p>As you see, I tried to add <code>@Transactional</code> because I thought it could solve that problem.\nShould I need to add <code>synchronized</code> or another kind of synchronization, or there is another mechanism to manage database integrity (unique keys, indexes, etc.) for asynchronous processes in Spring Boot ?</p>\n<p><strong>Edit:</strong></p>\n<ul>\n<li>I decided to catch <code>DataIntegrityViolationException</code> and modify my entity with <code>@Column(unique = true)</code> to keep uniqueness of some data.</li>\n<li><code>@Transactional</code> has been removed as it is without effect on multi-threading operations.</li>\n<li><code>synchronized</code> has not be choosen due to potential loss of performance.</li>\n</ul>\n<p>So, I &quot;reversed&quot; the code in that way (pseudo-code):</p>\n<pre><code>public Object mergeInDatabase(MyDto myDto) {\ntry {\n   Data newData = new Data(myDto);\n   return this.repository.save(newData);\n} catch (DataIntegrityViolationException e) {\n   // The data already exists, following the DB constraints\n   Data existingData = this.repository.findByName(myDto.getName());\n   // ... Update appropriate fields in existingData here ...\n   return this.repository.save(existingData);\n}\n</code></pre>\n<p>I am not really fan of this solution, but it works as expected. If you have a better approach, I'll try it.</p>\n"},{"tags":["java","javascript","spring"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1420719224,"post_id":27839870,"comment_id":44083394,"body_markdown":"`th:field`  and `th:value`  are different things. The field is for accessing a property of a model object which you don&#39;t use. You shold create a model object which contains all the properties you want, then use `th:field` for all those (instead of `th:value`). Spring will do the data binding when you submit the form and yuo can readily use the object in your controller. Saves you accessing all those rquest parameters yourself.","body":"<code>th:field</code>  and <code>th:value</code>  are different things. The field is for accessing a property of a model object which you don&#39;t use. You shold create a model object which contains all the properties you want, then use <code>th:field</code> for all those (instead of <code>th:value</code>). Spring will do the data binding when you submit the form and yuo can readily use the object in your controller. Saves you accessing all those rquest parameters yourself."}],"answers":[{"tags":[],"owner":{"account_id":6620479,"reputation":227,"user_id":5112362,"display_name":"Amy Slawson"},"comment_count":0,"down_vote_count":1,"up_vote_count":20,"is_accepted":false,"score":19,"last_activity_date":1436979293,"creation_date":1436979293,"answer_id":31436493,"question_id":27839870,"body_markdown":"I had the same problem finding that textarea does not support a value attribute.\r\nIf you are trying to insert thymeleaf variable into a html textarea, you can use text inlining.  So something like this...\r\n\r\n    &lt;div&gt;&lt;textarea class=&quot;form-control&quot; rows=&quot;12&quot;\r\n        style=&quot;margin-top: 10px;&quot;  placeholder=&quot;Sonstige Bemerkungen&quot;\r\n        name=&quot;notes&quot; th:inline=&quot;text&quot;&gt;[[${Notes}]]\r\n    &lt;/textarea&gt;&lt;/div&gt;\r\n\r\nGood reference here: http://loongest.com/uncategorized/thymeleaf/","title":"access textarea with spring-thymeleaf","body":"<p>I had the same problem finding that textarea does not support a value attribute.\nIf you are trying to insert thymeleaf variable into a html textarea, you can use text inlining.  So something like this...</p>\n\n<pre><code>&lt;div&gt;&lt;textarea class=\"form-control\" rows=\"12\"\n    style=\"margin-top: 10px;\"  placeholder=\"Sonstige Bemerkungen\"\n    name=\"notes\" th:inline=\"text\"&gt;[[${Notes}]]\n&lt;/textarea&gt;&lt;/div&gt;\n</code></pre>\n\n<p>Good reference here: <a href=\"http://loongest.com/uncategorized/thymeleaf/\" rel=\"noreferrer\">http://loongest.com/uncategorized/thymeleaf/</a></p>\n"},{"comments":[{"owner":{"account_id":7951842,"reputation":716,"user_id":6002457,"display_name":"Roland"},"score":3,"creation_date":1546864993,"post_id":34551752,"comment_id":94982136,"body_markdown":"Using `&lt;textarea name=&quot;name&quot; th:text=&quot;${whatever}&quot;&gt;&lt;/textarea&gt;`is surely the better way!","body":"Using <code>&lt;textarea name=&quot;name&quot; th:text=&quot;${whatever}&quot;&gt;&lt;&#47;textarea&gt;</code>is surely the better way!"}],"tags":[],"owner":{"account_id":4870108,"reputation":3891,"user_id":3926930,"accept_rate":60,"display_name":"Shafin Mahmud"},"comment_count":1,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1451597553,"creation_date":1451597553,"answer_id":34551752,"question_id":27839870,"body_markdown":"you can just use `th:text` it will work too. Bu I prefer @Amy&#39;s way.","title":"access textarea with spring-thymeleaf","body":"<p>you can just use <code>th:text</code> it will work too. Bu I prefer @Amy's way.</p>\n"},{"tags":[],"owner":{"account_id":10501954,"reputation":61,"user_id":7740411,"display_name":"Pthahnil"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1582265480,"creation_date":1582265480,"answer_id":60333036,"question_id":27839870,"body_markdown":"I&#39;m having the same problem, you can try th:text, it works for me.\r\n\r\n    th:text=&quot;${Notes}&quot;","title":"access textarea with spring-thymeleaf","body":"<p>I'm having the same problem, you can try th:text, it works for me.</p>\n\n<pre><code>th:text=\"${Notes}\"\n</code></pre>\n"}],"owner":{"account_id":5384339,"reputation":53,"user_id":4288749,"display_name":"Paule Wasgehtsiedenndasan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20227,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":3,"score":5,"last_activity_date":1689438388,"creation_date":1420719097,"question_id":27839870,"body_markdown":"following Problem: I try to change the text of a textarea.   \r\nI&#39;m using Sping and Thymeleaf.  \r\nRight now my Code looks like this:  \r\n\r\nSpring:    \r\n\r\n        [...]\r\n\t\tmodelMap.addAttribute(&quot;Email&quot;, &quot;035and so on&quot;);\r\n\t\tmodelMap.addAttribute(&quot;Notes&quot;, &quot;Please take this text and use it!&quot;);\r\n        [...]\r\n\r\nThymeleaf:\r\n\r\n        [...]\r\n        &lt;div class=&quot;col-sm-6 col-md-6 col-lg-6&quot;&gt;\r\n\t\t\t&lt;input name=&quot;Tel&quot; class=&quot;form-control&quot; placeholder=&quot;Telefonnummer&quot;\r\n\t\t\tth:value=&quot;${Tel}&quot; style=&quot;width: 100%;&quot; /&gt;\r\n\t\t&lt;/div&gt;\r\n        &lt;div&gt;&lt;textarea class=&quot;form-control&quot; rows=&quot;12&quot;\r\n\t\t\tstyle=&quot;margin-top: 10px;&quot;  placeholder=&quot;Sonstige Bemerkungen&quot;\r\n            name=&quot;notes&quot; th:field=&quot;*{Notes}&quot;&gt;\r\n        &lt;/textarea&gt;&lt;/div&gt;\r\n        [...]\r\n\r\nthe telephone String works fine, but i dont know how to access the   \r\nTextarea. Would be glad if someone could help me.\r\n  \r\n","title":"access textarea with spring-thymeleaf","body":"<p>following Problem: I try to change the text of a textarea.<br>\nI'm using Sping and Thymeleaf.<br>\nRight now my Code looks like this:  </p>\n\n<p>Spring:    </p>\n\n<pre><code>    [...]\n    modelMap.addAttribute(\"Email\", \"035and so on\");\n    modelMap.addAttribute(\"Notes\", \"Please take this text and use it!\");\n    [...]\n</code></pre>\n\n<p>Thymeleaf:</p>\n\n<pre><code>    [...]\n    &lt;div class=\"col-sm-6 col-md-6 col-lg-6\"&gt;\n        &lt;input name=\"Tel\" class=\"form-control\" placeholder=\"Telefonnummer\"\n        th:value=\"${Tel}\" style=\"width: 100%;\" /&gt;\n    &lt;/div&gt;\n    &lt;div&gt;&lt;textarea class=\"form-control\" rows=\"12\"\n        style=\"margin-top: 10px;\"  placeholder=\"Sonstige Bemerkungen\"\n        name=\"notes\" th:field=\"*{Notes}\"&gt;\n    &lt;/textarea&gt;&lt;/div&gt;\n    [...]\n</code></pre>\n\n<p>the telephone String works fine, but i dont know how to access the<br>\nTextarea. Would be glad if someone could help me.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1689423968,"post_id":76693716,"comment_id":135213307,"body_markdown":"Try replacing `notify()` by `notifyAll()` in both runnables","body":"Try replacing <code>notify()</code> by <code>notifyAll()</code> in both runnables"},{"owner":{"account_id":22064593,"reputation":61,"user_id":16326672,"display_name":"Christoph Linden"},"score":0,"creation_date":1689425334,"post_id":76693716,"comment_id":135213496,"body_markdown":"@user16320675 my main issue is that it looks like it is waiting until stock is full/empty. But that is just because it is so fast, that the notify will take longer to activate the thread.\n\nSo I think this is just visualization here and a Thread.sleep(5) does already resolve it. Then you can see that it works as intended.","body":"@user16320675 my main issue is that it looks like it is waiting until stock is full/empty. But that is just because it is so fast, that the notify will take longer to activate the thread.  So I think this is just visualization here and a Thread.sleep(5) does already resolve it. Then you can see that it works as intended."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":1,"creation_date":1689429455,"post_id":76693716,"comment_id":135213960,"body_markdown":"This is totally valid behaviour for this code. There’s nothing that requires the lock to be shared fairly between the two threads. Certain JVM optimizations might be part of the reason this happens (https://shipilev.net/jvm/anatomy-quarks/1-lock-coarsening-for-loops/). In more realistic code, there will generally be some I/O happening outside of the synchronized block that would give the other thread an opportunity to run.","body":"This is totally valid behaviour for this code. There’s nothing that requires the lock to be shared fairly between the two threads. Certain JVM optimizations might be part of the reason this happens (<a href=\"https://shipilev.net/jvm/anatomy-quarks/1-lock-coarsening-for-loops/\" rel=\"nofollow noreferrer\">shipilev.net/jvm/anatomy-quarks/1-lock-coarsening-for-loops</a>&zwnj;&#8203;). In more realistic code, there will generally be some I/O happening outside of the synchronized block that would give the other thread an opportunity to run."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1689437335,"post_id":76693716,"comment_id":135214894,"body_markdown":"Given that there is in this code only 0 or 1 threads waiting on a notification, @DuncG&#39;s advice of using `notifyAll()` is useless. It has no bearing on the question or the snippet.","body":"Given that there is in this code only 0 or 1 threads waiting on a notification, @DuncG&#39;s advice of using <code>notifyAll()</code> is useless. It has no bearing on the question or the snippet."},{"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1689440995,"post_id":76693716,"comment_id":135215328,"body_markdown":"Agreed, note that change in behaviour can be seen simply by adding`Thread.currentThread(). yield()` or moving the `System.out.println()` outside synchronized blocks.","body":"Agreed, note that change in behaviour can be seen simply by adding<code>Thread.currentThread(). yield()</code> or moving the <code>System.out.println()</code> outside synchronized blocks."}],"answers":[{"comments":[{"owner":{"account_id":22064593,"reputation":61,"user_id":16326672,"display_name":"Christoph Linden"},"score":0,"creation_date":1689842043,"post_id":76694649,"comment_id":135271429,"body_markdown":"Thank you so much for your explanation. The major issue with all of that is, that this is actually out of a University course, where this is an example on how mutex works.\nThis is actually a pretty bad example then.","body":"Thank you so much for your explanation. The major issue with all of that is, that this is actually out of a University course, where this is an example on how mutex works. This is actually a pretty bad example then."}],"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1689437615,"creation_date":1689437269,"answer_id":76694649,"question_id":76693716,"body_markdown":"TL;DR: What you are observing is [A] legal, and [B] actually because threads work faster than you think, not slower than you think. [C] The example you created is not good. It has fundamental flaws that result in you drawing the wrong conclusion.\r\n\r\n-----\r\n\r\nTo fully explain this, we need LOTS of context.\r\n\r\n## The ebb and flow of `wait`/`notify` systems\r\n\r\nThe behaviour you are observing is, as per the spec, legal. `notify()` is not the problem: Given that when you fire off that notify, only exactly one thread is at that moment `wait()`ing on that object, it HAS to wake up. So it does - but the way all notify/wait systems work, given that you must be in `synchronized (x)` when you invoke either `x.wait()` or `x.notify()`, is this:\r\n\r\n* The `wait()` method wants to end now, given that it has been notified. So it does, but it cannot actually return until that thread re-acquires the lock on `x`. After all, the code we are trying to now continue with is _within_ a `synchronized (x)` block. `wait` first relinquishes that lock, then waits for a notify, then reacquires it, then returns. Thus, notifying it moves it from the &#39;waiting for the notify state&#39; to the &#39;waiting to reacquire the lock&#39; state.\r\n\r\n* This will _neccessarily_ fail - after all, the code that just called `x.notify()` still has it! That means the thread that was just woken up with `notify()` is immediately going to resort to &#39;wait around until we can acquire the lock on `x`&#39;. It doesn&#39;t actually wake up _at all_ to do any of this, it&#39;s just internal bookkeeping by the scheduler all done on the &#39;dime&#39; of the notifying thread. You aren&#39;t losing CPU cycles. Point is, notify() doesn&#39;t actually immediately wake anything up. The combination of notifying __and__ ending the `synchronized` block that the `x.notify()` call was in, _that_ potentially wakes up something else.\r\n\r\n* In the mean time the notifying thread runs to its end, exits its synchronized block, hits the while loop and immediately re-enters it, and the first line in the while block is.. re-acquiring the lock. So, whilst in theory at the exact point it exits, the other thread is now free to acquire the lock on `x` and start, this thread doesn&#39;t stop what its doing whilst all that is happening (you seem to think threads are too slow. Now, they are __faster__ than you think they are - the consumer gets through its while loop and hits its `synchronized` faster than you think - effectively instantaneously).\r\n\r\n* Hence we have now arrived at a contention: Both the producer and the consumer want to reacquire the lock _at the same time_.\r\n\r\n* The `synchronized` specs are quite explicit about this: _They are not guaranteed to be fair_ - there is no &#39;oh well the consumer most recently held this lock so it is more fair to give the lock to the producer as it was waiting longer&#39; mechanism happening here. Instead the system flips an evil coin. (&#39;coin&#39; is in, either one COULD win, &#39;evil&#39; as in, it doesn&#39;t do what you want, nor does it follow any material guideline such as &#39;50% of the time it picks one, 50% of the time the other&#39; - instead it might pick the consumer 999999 out of 1000000 times, but on another system it picks the producer far more often. Or it picks the consumer every time, except the one day you are giving an important demo, then it picks the consumer. If your code depends on any particular selection behaviour about which of 2 contenders &#39;wins&#39; the battle, your code is by definition therefore broken. In an untestable way.\r\n\r\n* This is merely _what usually happens_, given that as per spec anything can happen, but, on _most_ systems the notifying thread wins that battle almost always. It&#39;s still running, after all.\r\n\r\nWith all that context it should now be clear that what you observe is technically perfectly legal and not indicative that things could have been done any faster (it is, as far as the code and the CPU is concerned, not inherently faster to go &#39;produce something, consume something, produce something&#39; than to go &#39;produce something, produce something, consume something&#39;). It could be considered &#39;more fair&#39; to alternate producing and consuming but adding fairness is very expensive and hard to define, so most systems instead explicitly say that no fairness is guaranteed, and if you need fairness, you write code to establish it.\r\n\r\n\r\n\r\nAnd it isn&#39;t slow! That&#39;s because in this example, there is effectively zero time in between holding the lock: Given the code you pasted, one core is all you&#39;re ever going to end up using. That&#39;s because due to the way things are set up, there is nothing for the system to do outside of the stuff that is in `synchronized` blocks.\r\n\r\nIn normal, non-academic cases, your producer and your consumer don&#39;t work like that. The producer takes some time to produce a value and does this __outside__ of any lock. It then acquires the lock (or waits to do so if need be) to &#39;provide&#39; what it produced to the queue. The consumer is the same way: It locks to obtain an item from the queue, but once it has that item, it consumes it outside of the lock and takes some time to do so.\r\n\r\nHad this snippet worked like that you&#39;d see the benefits of your multithreaded approach: Most of the time both threads are active - with threads sleeping only in rare cases where they both finish their main jobs (consuming resp. producing) at the same time and thus they need to one-at-a-time go through the queue, or, of course, when there is nothing for them to do (e.g. if the producer produces faster than the consumer can consume, the producer will often be frozen. And vice versa. That&#39;s intentional, of course).\r\n\r\n## Better primitives\r\n\r\nMore generally this is an _extremely_ common concept (producers that add to a queue, consumers that consume from it), and because of that, you shouldn&#39;t be using wait/notify for this. Have a look through the `j.u.concurrent` package, it has loads of nice stuff for this. Specifically, the [BlockingQueue](https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/BlockingQueue.html) which has much better primitives. The producer simply calls `.put(elem)`, which will block if the queue is full. The consumer calls `take()` which will block if the queue is empty. And no `synchronized`, `wait`, or `notify` needs to be written anywhere. Just works.\r\n\r\n## So why does `Thread.sleep` fix things?\r\n\r\nBecause with the sleep you are emulating &#39;the act of producing / consuming&#39; is a non-instantaneous job.\r\n\r\n## A warning about multicore experimentation\r\n\r\nNormally, &#39;just play around, you learn more that way&#39; is great. __But not here__.\r\n\r\nThe problem is that evil coin, which is all over multicore. It comes up with lock contention, sure, but also with memory synchronization: _If ever you read a field from 2 threads you have broken code_ - unless you can explicitly ascertain that proper Happens-Before relationships have been established. And here, too, we have the evil coin:\r\n\r\n```\r\n// initial condition:\r\nfieldA = 0;\r\nfieldB = 0;\r\n\r\n// writer:\r\nfieldA = 1;\r\nfieldB = 2;\r\n\r\n// reader:\r\nSystem.out.println(fieldA);\r\nSystem.out.println(fieldB);\r\n```\r\n\r\nIn the above code, assuming writer and reader run simultaneously and have no HB establishing code in it, reader can legally print &#39;0/0&#39;, &#39;0/2&#39;, &#39;1/0&#39;, and &#39;1/2&#39;. Yes, &#39;0/2&#39; would be out-of-order observation: The write to fieldA isn&#39;t &#39;seen&#39; but the write to fieldB __is__ seen. __This is legal__.\r\n\r\nHowever, not all JVMs use this. For example, it&#39;s more likely on ARM chips than on intel chips. Herein lies in inherent problem when using experimentation to figure out how it all works: Your experiments lead you to draw the wrong conclusion, and you end up writing code that works great right now but won&#39;t work on my machine, or won&#39;t work tomorrow, or won&#39;t work when that song on your music player switches over to another.\r\n\r\nAlso, synchronization limits sneak in, in the weirdest places. For example, `System.out.println` is generally synchronized - and is incredibly slow relative to CPU operations, so, often causes a pre-emption. It is often treated as ignorable &#39;just logging stuff so I can see what happens, nothing to see here&#39; interjections that you don&#39;t even think about when reasoning about threading, but, that is precisely wrong: It is likely dominating the locking and thread switching behaviour!\r\n","title":"Java mutex.wait() and mutex.notify() timing issues? unexpected behaviour","body":"<p>TL;DR: What you are observing is [A] legal, and [B] actually because threads work faster than you think, not slower than you think. [C] The example you created is not good. It has fundamental flaws that result in you drawing the wrong conclusion.</p>\n<hr />\n<p>To fully explain this, we need LOTS of context.</p>\n<h2>The ebb and flow of <code>wait</code>/<code>notify</code> systems</h2>\n<p>The behaviour you are observing is, as per the spec, legal. <code>notify()</code> is not the problem: Given that when you fire off that notify, only exactly one thread is at that moment <code>wait()</code>ing on that object, it HAS to wake up. So it does - but the way all notify/wait systems work, given that you must be in <code>synchronized (x)</code> when you invoke either <code>x.wait()</code> or <code>x.notify()</code>, is this:</p>\n<ul>\n<li><p>The <code>wait()</code> method wants to end now, given that it has been notified. So it does, but it cannot actually return until that thread re-acquires the lock on <code>x</code>. After all, the code we are trying to now continue with is <em>within</em> a <code>synchronized (x)</code> block. <code>wait</code> first relinquishes that lock, then waits for a notify, then reacquires it, then returns. Thus, notifying it moves it from the 'waiting for the notify state' to the 'waiting to reacquire the lock' state.</p>\n</li>\n<li><p>This will <em>neccessarily</em> fail - after all, the code that just called <code>x.notify()</code> still has it! That means the thread that was just woken up with <code>notify()</code> is immediately going to resort to 'wait around until we can acquire the lock on <code>x</code>'. It doesn't actually wake up <em>at all</em> to do any of this, it's just internal bookkeeping by the scheduler all done on the 'dime' of the notifying thread. You aren't losing CPU cycles. Point is, notify() doesn't actually immediately wake anything up. The combination of notifying <strong>and</strong> ending the <code>synchronized</code> block that the <code>x.notify()</code> call was in, <em>that</em> potentially wakes up something else.</p>\n</li>\n<li><p>In the mean time the notifying thread runs to its end, exits its synchronized block, hits the while loop and immediately re-enters it, and the first line in the while block is.. re-acquiring the lock. So, whilst in theory at the exact point it exits, the other thread is now free to acquire the lock on <code>x</code> and start, this thread doesn't stop what its doing whilst all that is happening (you seem to think threads are too slow. Now, they are <strong>faster</strong> than you think they are - the consumer gets through its while loop and hits its <code>synchronized</code> faster than you think - effectively instantaneously).</p>\n</li>\n<li><p>Hence we have now arrived at a contention: Both the producer and the consumer want to reacquire the lock <em>at the same time</em>.</p>\n</li>\n<li><p>The <code>synchronized</code> specs are quite explicit about this: <em>They are not guaranteed to be fair</em> - there is no 'oh well the consumer most recently held this lock so it is more fair to give the lock to the producer as it was waiting longer' mechanism happening here. Instead the system flips an evil coin. ('coin' is in, either one COULD win, 'evil' as in, it doesn't do what you want, nor does it follow any material guideline such as '50% of the time it picks one, 50% of the time the other' - instead it might pick the consumer 999999 out of 1000000 times, but on another system it picks the producer far more often. Or it picks the consumer every time, except the one day you are giving an important demo, then it picks the consumer. If your code depends on any particular selection behaviour about which of 2 contenders 'wins' the battle, your code is by definition therefore broken. In an untestable way.</p>\n</li>\n<li><p>This is merely <em>what usually happens</em>, given that as per spec anything can happen, but, on <em>most</em> systems the notifying thread wins that battle almost always. It's still running, after all.</p>\n</li>\n</ul>\n<p>With all that context it should now be clear that what you observe is technically perfectly legal and not indicative that things could have been done any faster (it is, as far as the code and the CPU is concerned, not inherently faster to go 'produce something, consume something, produce something' than to go 'produce something, produce something, consume something'). It could be considered 'more fair' to alternate producing and consuming but adding fairness is very expensive and hard to define, so most systems instead explicitly say that no fairness is guaranteed, and if you need fairness, you write code to establish it.</p>\n<p>And it isn't slow! That's because in this example, there is effectively zero time in between holding the lock: Given the code you pasted, one core is all you're ever going to end up using. That's because due to the way things are set up, there is nothing for the system to do outside of the stuff that is in <code>synchronized</code> blocks.</p>\n<p>In normal, non-academic cases, your producer and your consumer don't work like that. The producer takes some time to produce a value and does this <strong>outside</strong> of any lock. It then acquires the lock (or waits to do so if need be) to 'provide' what it produced to the queue. The consumer is the same way: It locks to obtain an item from the queue, but once it has that item, it consumes it outside of the lock and takes some time to do so.</p>\n<p>Had this snippet worked like that you'd see the benefits of your multithreaded approach: Most of the time both threads are active - with threads sleeping only in rare cases where they both finish their main jobs (consuming resp. producing) at the same time and thus they need to one-at-a-time go through the queue, or, of course, when there is nothing for them to do (e.g. if the producer produces faster than the consumer can consume, the producer will often be frozen. And vice versa. That's intentional, of course).</p>\n<h2>Better primitives</h2>\n<p>More generally this is an <em>extremely</em> common concept (producers that add to a queue, consumers that consume from it), and because of that, you shouldn't be using wait/notify for this. Have a look through the <code>j.u.concurrent</code> package, it has loads of nice stuff for this. Specifically, the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/BlockingQueue.html\" rel=\"nofollow noreferrer\">BlockingQueue</a> which has much better primitives. The producer simply calls <code>.put(elem)</code>, which will block if the queue is full. The consumer calls <code>take()</code> which will block if the queue is empty. And no <code>synchronized</code>, <code>wait</code>, or <code>notify</code> needs to be written anywhere. Just works.</p>\n<h2>So why does <code>Thread.sleep</code> fix things?</h2>\n<p>Because with the sleep you are emulating 'the act of producing / consuming' is a non-instantaneous job.</p>\n<h2>A warning about multicore experimentation</h2>\n<p>Normally, 'just play around, you learn more that way' is great. <strong>But not here</strong>.</p>\n<p>The problem is that evil coin, which is all over multicore. It comes up with lock contention, sure, but also with memory synchronization: <em>If ever you read a field from 2 threads you have broken code</em> - unless you can explicitly ascertain that proper Happens-Before relationships have been established. And here, too, we have the evil coin:</p>\n<pre><code>// initial condition:\nfieldA = 0;\nfieldB = 0;\n\n// writer:\nfieldA = 1;\nfieldB = 2;\n\n// reader:\nSystem.out.println(fieldA);\nSystem.out.println(fieldB);\n</code></pre>\n<p>In the above code, assuming writer and reader run simultaneously and have no HB establishing code in it, reader can legally print '0/0', '0/2', '1/0', and '1/2'. Yes, '0/2' would be out-of-order observation: The write to fieldA isn't 'seen' but the write to fieldB <strong>is</strong> seen. <strong>This is legal</strong>.</p>\n<p>However, not all JVMs use this. For example, it's more likely on ARM chips than on intel chips. Herein lies in inherent problem when using experimentation to figure out how it all works: Your experiments lead you to draw the wrong conclusion, and you end up writing code that works great right now but won't work on my machine, or won't work tomorrow, or won't work when that song on your music player switches over to another.</p>\n<p>Also, synchronization limits sneak in, in the weirdest places. For example, <code>System.out.println</code> is generally synchronized - and is incredibly slow relative to CPU operations, so, often causes a pre-emption. It is often treated as ignorable 'just logging stuff so I can see what happens, nothing to see here' interjections that you don't even think about when reasoning about threading, but, that is precisely wrong: It is likely dominating the locking and thread switching behaviour!</p>\n"}],"owner":{"account_id":22064593,"reputation":61,"user_id":16326672,"display_name":"Christoph Linden"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1689437615,"creation_date":1689423501,"question_id":76693716,"body_markdown":"Hi I have create the following small java class that wants to run a stock and there is a producer thread and a consumer thread. \r\n\r\nThe stock has a max CAPACITY (100) and it has a variable &quot;stock&quot; (meaning the current number of items in it).\r\n\r\n\r\n```\r\npackage kapitel4;\r\n\r\npublic class StockNotifyWait {\r\n    static final int CAPACITY = 100;\r\n    static int stock = 0;\r\n\r\n    public static void main(String[] args) {\r\n        var mutex_stock = new Object();\r\n        var random = new java.util.Random();\r\n\r\n        var producer = new Runnable () {\r\n            @Override public void run() {\r\n                while(true) {\r\n                    synchronized (mutex_stock) {\r\n                        while (stock == CAPACITY) {\r\n                            System.out.println(&quot;producer waiting&quot;);\r\n                            try {\r\n                                mutex_stock.wait();\r\n                            } catch (InterruptedException ex) { }\r\n                        }\r\n                        int howmany = random.nextInt(CAPACITY - stock) + 1;\r\n                        stock += howmany;\r\n                        System.out.println(&quot;producing &quot; + howmany + &quot;, stock: &quot; + stock);\r\n                        mutex_stock.notify();\r\n                    }\r\n                }\r\n            }\r\n        };\r\n\r\n        var consumer = new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                while(true) {\r\n                    synchronized (mutex_stock) {\r\n                        while (stock == 0) {\r\n                            System.out.println(&quot;consumer waiting&quot;);\r\n                            try {\r\n                                mutex_stock.wait();\r\n                            } catch (InterruptedException ex) { }\r\n                        }\r\n                        int howmany = random.nextInt(stock) + 1;\r\n                        stock -= howmany;\r\n                        System.out.println(&quot;consuming &quot; + howmany + &quot;, stock: &quot; + stock);\r\n                        mutex_stock.notify();\r\n                    }\r\n                }\r\n            }\r\n        };\r\n\r\n        new Thread(producer).start();\r\n        new Thread(consumer).start();\r\n    }\r\n}\r\n```\r\n\r\nBoth producer and consumer are taking/putting a random number of the available/empty slots into the stock. \r\n\r\nSo the idea is, that if lager is full than the producer waits until the consumer at least takes 1 out. And then start producing again.\r\n\r\nTo the opposite if the lager is empty, consumer will wait until produced has at least produced 1 unit.\r\n\r\nBut instead of this behaviour I get this.\r\n\r\n```\r\n$ java kapitel4.StockNotifyWait \r\nproducing 78, stock: 78\r\nproducing 20, stock: 98\r\nproducing 1, stock: 99\r\nproducing 1, stock: 100\r\nproducer waiting\r\nconsuming 70, stock: 30\r\nconsuming 27, stock: 3\r\nconsuming 1, stock: 2\r\nconsuming 1, stock: 1\r\nconsuming 1, stock: 0\r\nconsumer waiting\r\nproducing 38, stock: 38\r\nproducing 33, stock: 71\r\nproducing 5, stock: 76\r\nproducing 9, stock: 85\r\nproducing 3, stock: 88\r\nproducing 5, stock: 93\r\nproducing 3, stock: 96\r\nproducing 1, stock: 97\r\nproducing 2, stock: 99\r\nproducing 1, stock: 100\r\nproducer waiting\r\nconsuming 15, stock: 85\r\nconsuming 26, stock: 59\r\nconsuming 7, stock: 52\r\nconsuming 6, stock: 46\r\nconsuming 3, stock: 43\r\nconsuming 20, stock: 23\r\nconsuming 12, stock: 11\r\nconsuming 5, stock: 6\r\nconsuming 5, stock: 1\r\nconsuming 1, stock: 0\r\nconsumer waiting\r\nproducing 18, stock: 18\r\nproducing 12, stock: 30\r\nproducing 7, stock: 37\r\nproducing 36, stock: 73\r\nproducing 11, stock: 84\r\nproducing 2, stock: 86\r\nproducing 3, stock: 89\r\nproducing 7, stock: 96\r\nproducing 3, stock: 99\r\nproducing 1, stock: 100\r\nproducer waiting\r\nconsuming 32, stock: 68\r\nconsuming 33, stock: 35\r\nconsuming 8, stock: 27\r\nconsuming 2, stock: 25\r\nconsuming 5, stock: 20\r\nconsuming 15, stock: 5\r\nconsuming 4, stock: 1\r\nconsuming 1, stock: 0\r\nconsumer waiting\r\nproducing 83, stock: 83\r\nproducing 7, stock: 90\r\nproducing 9, stock: 99\r\nproducing 1, stock: 100\r\nproducer waiting\r\nconsuming 31, stock: 69\r\nconsuming 19, stock: 50\r\nconsuming 40, stock: 10\r\nconsuming 9, stock: 1\r\nconsuming 1, stock: 0\r\nconsumer waiting\r\nproducing 17, stock: 17\r\nproducing 39, stock: 56\r\nproducing 25, stock: 81\r\nproducing 5, stock: 86\r\nproducing 10, stock: 96\r\nproducing 2, stock: 98\r\nproducing 1, stock: 99\r\nproducing 1, stock: 100\r\nproducer waiting\r\nconsuming 71, stock: 29\r\nconsuming 20, stock: 9\r\nconsuming 2, stock: 7\r\nconsuming 2, stock: 5\r\nconsuming 4, stock: 1\r\nconsuming 1, stock: 0\r\nconsumer waiting\r\nproducing 13, stock: 13\r\nproducing 45, stock: 58\r\nproducing 3, stock: 61\r\nproducing 37, stock: 98\r\nproducing 1, stock: 99\r\nproducing 1, stock: 100\r\nproducer waiting\r\nconsuming 85, stock: 15\r\nconsuming 12, stock: 3\r\nconsuming 3, stock: 0\r\nconsumer waiting\r\nproducing 32, stock: 32\r\nproducing 2, stock: 34\r\nproducing 48, stock: 82\r\nproducing 13, stock: 95\r\nproducing 4, stock: 99\r\nproducing 1, stock: 100\r\nproducer waiting\r\nconsuming 9, stock: 91\r\nconsuming 58, stock: 33\r\nconsuming 7, stock: 26\r\nconsuming 13, stock: 13\r\nconsuming 9, stock: 4\r\nconsuming 3, stock: 1\r\nconsuming 1, stock: 0\r\nconsumer waiting\r\n\r\n```\r\n\r\nIt looks ike the producer is waiting until the consumer has fully emptied the stock before it starts producing again, and same for the consumer. It waits until the producer has filled the stack before it starting to consume again.\r\n\r\n\r\nIf i put the threads to sleep, it looks better \r\n\r\n(I added to both threads after the synchronize block):\r\n\r\n\r\n```\r\n                   try {\r\n                        Thread.sleep(50);\r\n                    } catch (InterruptedException ex) { }\r\n```\r\n\r\nthen this looks better.\r\n\r\n\r\n```\r\nconsuming 12, stock: 65\r\nconsuming 10, stock: 55\r\nproducing 17, stock: 72\r\nproducing 11, stock: 83\r\nconsuming 54, stock: 29\r\nconsuming 12, stock: 17\r\nproducing 35, stock: 52\r\nproducing 10, stock: 62\r\nconsuming 54, stock: 8\r\nconsuming 2, stock: 6\r\nproducing 35, stock: 41\r\nconsuming 9, stock: 32\r\nproducing 26, stock: 58\r\nconsuming 10, stock: 48\r\nproducing 52, stock: 100\r\nproducer waiting\r\nconsuming 82, stock: 18\r\nproducing 33, stock: 51\r\nconsuming 26, stock: 25\r\nproducing 67, stock: 92\r\nconsuming 5, stock: 87\r\nproducing 9, stock: 96\r\nconsuming 79, stock: 17\r\nproducing 22, stock: 39\r\nconsuming 8, stock: 31\r\n```\r\n\r\nSo is that actually the notify and wait are taking to long, so that the producer (without wait) has already filled the stack before the consumer is even receiving the notification?\r\n","title":"Java mutex.wait() and mutex.notify() timing issues? unexpected behaviour","body":"<p>Hi I have create the following small java class that wants to run a stock and there is a producer thread and a consumer thread.</p>\n<p>The stock has a max CAPACITY (100) and it has a variable &quot;stock&quot; (meaning the current number of items in it).</p>\n<pre><code>package kapitel4;\n\npublic class StockNotifyWait {\n    static final int CAPACITY = 100;\n    static int stock = 0;\n\n    public static void main(String[] args) {\n        var mutex_stock = new Object();\n        var random = new java.util.Random();\n\n        var producer = new Runnable () {\n            @Override public void run() {\n                while(true) {\n                    synchronized (mutex_stock) {\n                        while (stock == CAPACITY) {\n                            System.out.println(&quot;producer waiting&quot;);\n                            try {\n                                mutex_stock.wait();\n                            } catch (InterruptedException ex) { }\n                        }\n                        int howmany = random.nextInt(CAPACITY - stock) + 1;\n                        stock += howmany;\n                        System.out.println(&quot;producing &quot; + howmany + &quot;, stock: &quot; + stock);\n                        mutex_stock.notify();\n                    }\n                }\n            }\n        };\n\n        var consumer = new Runnable() {\n            @Override\n            public void run() {\n                while(true) {\n                    synchronized (mutex_stock) {\n                        while (stock == 0) {\n                            System.out.println(&quot;consumer waiting&quot;);\n                            try {\n                                mutex_stock.wait();\n                            } catch (InterruptedException ex) { }\n                        }\n                        int howmany = random.nextInt(stock) + 1;\n                        stock -= howmany;\n                        System.out.println(&quot;consuming &quot; + howmany + &quot;, stock: &quot; + stock);\n                        mutex_stock.notify();\n                    }\n                }\n            }\n        };\n\n        new Thread(producer).start();\n        new Thread(consumer).start();\n    }\n}\n</code></pre>\n<p>Both producer and consumer are taking/putting a random number of the available/empty slots into the stock.</p>\n<p>So the idea is, that if lager is full than the producer waits until the consumer at least takes 1 out. And then start producing again.</p>\n<p>To the opposite if the lager is empty, consumer will wait until produced has at least produced 1 unit.</p>\n<p>But instead of this behaviour I get this.</p>\n<pre><code>$ java kapitel4.StockNotifyWait \nproducing 78, stock: 78\nproducing 20, stock: 98\nproducing 1, stock: 99\nproducing 1, stock: 100\nproducer waiting\nconsuming 70, stock: 30\nconsuming 27, stock: 3\nconsuming 1, stock: 2\nconsuming 1, stock: 1\nconsuming 1, stock: 0\nconsumer waiting\nproducing 38, stock: 38\nproducing 33, stock: 71\nproducing 5, stock: 76\nproducing 9, stock: 85\nproducing 3, stock: 88\nproducing 5, stock: 93\nproducing 3, stock: 96\nproducing 1, stock: 97\nproducing 2, stock: 99\nproducing 1, stock: 100\nproducer waiting\nconsuming 15, stock: 85\nconsuming 26, stock: 59\nconsuming 7, stock: 52\nconsuming 6, stock: 46\nconsuming 3, stock: 43\nconsuming 20, stock: 23\nconsuming 12, stock: 11\nconsuming 5, stock: 6\nconsuming 5, stock: 1\nconsuming 1, stock: 0\nconsumer waiting\nproducing 18, stock: 18\nproducing 12, stock: 30\nproducing 7, stock: 37\nproducing 36, stock: 73\nproducing 11, stock: 84\nproducing 2, stock: 86\nproducing 3, stock: 89\nproducing 7, stock: 96\nproducing 3, stock: 99\nproducing 1, stock: 100\nproducer waiting\nconsuming 32, stock: 68\nconsuming 33, stock: 35\nconsuming 8, stock: 27\nconsuming 2, stock: 25\nconsuming 5, stock: 20\nconsuming 15, stock: 5\nconsuming 4, stock: 1\nconsuming 1, stock: 0\nconsumer waiting\nproducing 83, stock: 83\nproducing 7, stock: 90\nproducing 9, stock: 99\nproducing 1, stock: 100\nproducer waiting\nconsuming 31, stock: 69\nconsuming 19, stock: 50\nconsuming 40, stock: 10\nconsuming 9, stock: 1\nconsuming 1, stock: 0\nconsumer waiting\nproducing 17, stock: 17\nproducing 39, stock: 56\nproducing 25, stock: 81\nproducing 5, stock: 86\nproducing 10, stock: 96\nproducing 2, stock: 98\nproducing 1, stock: 99\nproducing 1, stock: 100\nproducer waiting\nconsuming 71, stock: 29\nconsuming 20, stock: 9\nconsuming 2, stock: 7\nconsuming 2, stock: 5\nconsuming 4, stock: 1\nconsuming 1, stock: 0\nconsumer waiting\nproducing 13, stock: 13\nproducing 45, stock: 58\nproducing 3, stock: 61\nproducing 37, stock: 98\nproducing 1, stock: 99\nproducing 1, stock: 100\nproducer waiting\nconsuming 85, stock: 15\nconsuming 12, stock: 3\nconsuming 3, stock: 0\nconsumer waiting\nproducing 32, stock: 32\nproducing 2, stock: 34\nproducing 48, stock: 82\nproducing 13, stock: 95\nproducing 4, stock: 99\nproducing 1, stock: 100\nproducer waiting\nconsuming 9, stock: 91\nconsuming 58, stock: 33\nconsuming 7, stock: 26\nconsuming 13, stock: 13\nconsuming 9, stock: 4\nconsuming 3, stock: 1\nconsuming 1, stock: 0\nconsumer waiting\n\n</code></pre>\n<p>It looks ike the producer is waiting until the consumer has fully emptied the stock before it starts producing again, and same for the consumer. It waits until the producer has filled the stack before it starting to consume again.</p>\n<p>If i put the threads to sleep, it looks better</p>\n<p>(I added to both threads after the synchronize block):</p>\n<pre><code>                   try {\n                        Thread.sleep(50);\n                    } catch (InterruptedException ex) { }\n</code></pre>\n<p>then this looks better.</p>\n<pre><code>consuming 12, stock: 65\nconsuming 10, stock: 55\nproducing 17, stock: 72\nproducing 11, stock: 83\nconsuming 54, stock: 29\nconsuming 12, stock: 17\nproducing 35, stock: 52\nproducing 10, stock: 62\nconsuming 54, stock: 8\nconsuming 2, stock: 6\nproducing 35, stock: 41\nconsuming 9, stock: 32\nproducing 26, stock: 58\nconsuming 10, stock: 48\nproducing 52, stock: 100\nproducer waiting\nconsuming 82, stock: 18\nproducing 33, stock: 51\nconsuming 26, stock: 25\nproducing 67, stock: 92\nconsuming 5, stock: 87\nproducing 9, stock: 96\nconsuming 79, stock: 17\nproducing 22, stock: 39\nconsuming 8, stock: 31\n</code></pre>\n<p>So is that actually the notify and wait are taking to long, so that the producer (without wait) has already filled the stack before the consumer is even receiving the notification?</p>\n"},{"tags":["java","spring","jar","version","compatibility"],"comments":[{"owner":{"account_id":55989,"reputation":17809,"user_id":167745,"accept_rate":76,"display_name":"Stewart"},"score":1,"creation_date":1489524458,"post_id":40626103,"comment_id":72707125,"body_markdown":"Possible duplicate of [Is there a Spring version matrix of sub-projects/components?](http://stackoverflow.com/questions/21361599/is-there-a-spring-version-matrix-of-sub-projects-components)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/21361599/is-there-a-spring-version-matrix-of-sub-projects-components\">Is there a Spring version matrix of sub-projects/components?</a>"}],"answers":[{"comments":[{"owner":{"account_id":9595833,"reputation":165,"user_id":7124991,"accept_rate":100,"display_name":"zeji"},"score":0,"creation_date":1479281819,"post_id":40626346,"comment_id":68486221,"body_markdown":"In addition, I must use http://www.springframework.org/schema/security/spring-security-4.2.xsd in my security-xml right ?","body":"In addition, I must use <a href=\"http://www.springframework.org/schema/security/spring-security-4.2.xsd\" rel=\"nofollow noreferrer\">springframework.org/schema/security/spring-security-4.2.xsd</a> in my security-xml right ?"},{"owner":{"account_id":2257408,"reputation":4873,"user_id":1988304,"accept_rate":92,"display_name":"JimHawkins"},"score":0,"creation_date":1479281969,"post_id":40626346,"comment_id":68486299,"body_markdown":"I&#39;ver never used this xsd file, but I think its version should match the artifacts version.","body":"I&#39;ver never used this xsd file, but I think its version should match the artifacts version."}],"tags":[],"owner":{"account_id":2257408,"reputation":4873,"user_id":1988304,"accept_rate":92,"display_name":"JimHawkins"},"comment_count":2,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1684179125,"creation_date":1479281489,"answer_id":40626346,"question_id":40626103,"body_markdown":"The [documentation for Spring Security 4.2.x][1] says that the current Spring Security version 4.2.x is compatible with Spring 4.3.26 and 4.0.x.\r\n\r\nFor Spring Security 3.2.5 you should use Spring 4.0.2 ([doc for 3.2.5][2]).\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-security/site/docs/4.2.x/reference/htmlsingle/#maven-bom &quot;documentation for spring security 4.2.x&quot;\r\n  [2]: http://docs.spring.io/spring-security/site/docs/3.2.5.RELEASE/reference/htmlsingle/#get-spring-security","title":"What is the compatible version of Spring Security with Spring 4.3.0?","body":"<p>The <a href=\"https://docs.spring.io/spring-security/site/docs/4.2.x/reference/htmlsingle/#maven-bom\" rel=\"nofollow noreferrer\" title=\"documentation for spring security 4.2.x\">documentation for Spring Security 4.2.x</a> says that the current Spring Security version 4.2.x is compatible with Spring 4.3.26 and 4.0.x.</p>\n<p>For Spring Security 3.2.5 you should use Spring 4.0.2 (<a href=\"http://docs.spring.io/spring-security/site/docs/3.2.5.RELEASE/reference/htmlsingle/#get-spring-security\" rel=\"nofollow noreferrer\">doc for 3.2.5</a>).</p>\n"},{"tags":[],"owner":{"account_id":22367616,"reputation":11,"user_id":16583145,"display_name":"Piyush Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650087274,"creation_date":1650087274,"answer_id":71891384,"question_id":40626103,"body_markdown":"(Latest Version)\r\n\r\nUPDATES - Spring Security 5.6.0\r\n\r\nSpring Security 5.6.0 was released on 15 November 2021. This is a maintenance/bug fix release.\r\n\r\nSpring Security 5.6.0 is compatible with Spring Framework 5.3.13\r\n\r\nIf you want to use the latest version, update your Maven POM file to use the compatible versions below\r\n\r\n    &lt;springframework.version&gt;5.3.13&lt;/springframework.version&gt;\r\n     \r\n    &lt;springsecurity.version&gt;5.6.0&lt;/springsecurity.version&gt;","title":"What is the compatible version of Spring Security with Spring 4.3.0?","body":"<p>(Latest Version)</p>\n<p>UPDATES - Spring Security 5.6.0</p>\n<p>Spring Security 5.6.0 was released on 15 November 2021. This is a maintenance/bug fix release.</p>\n<p>Spring Security 5.6.0 is compatible with Spring Framework 5.3.13</p>\n<p>If you want to use the latest version, update your Maven POM file to use the compatible versions below</p>\n<pre><code>&lt;springframework.version&gt;5.3.13&lt;/springframework.version&gt;\n \n&lt;springsecurity.version&gt;5.6.0&lt;/springsecurity.version&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1131752,"reputation":2435,"user_id":1117679,"display_name":"sorrymissjackson"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662644218,"creation_date":1662643074,"answer_id":73649727,"question_id":40626103,"body_markdown":"I keep coming back to asking myself which spring-security version is &quot;compatible&quot; with which spring-framework version.\r\n\r\nThere&#39;s this [Spring Security docs page][1], that informs on that subject, distinguishing between Spring Boot / Non-Spring-Boot projects combined with Maven / Gradle.\r\n\r\nFor Non-Spring-Boot projects the recommended way is to use the BOM (bill of material) artifact.\r\n\r\n - details for [Maven][2]\r\n - details for [Gradle][3]\r\n\r\nSpring Boot utilizes this BOM too, so you don&#39;t have to set anything specifically there.\r\n\r\nYou can also find the same information for a specific spring-security version, e.g. for 5.1.13 it&#39;s: https://docs.spring.io/spring-security/site/docs/5.1.13.RELEASE/reference/htmlsingle/#get-spring-security\r\n\r\nwhich contains version specific details. Just go to https://docs.spring.io/spring-security/site/docs and find your version.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-security/reference/getting-spring-security.html\r\n  [2]: https://docs.spring.io/spring-security/reference/getting-spring-security.html#getting-maven-no-boot\r\n  [3]: https://docs.spring.io/spring-security/reference/getting-spring-security.html#_gradle_without_spring_boot","title":"What is the compatible version of Spring Security with Spring 4.3.0?","body":"<p>I keep coming back to asking myself which spring-security version is &quot;compatible&quot; with which spring-framework version.</p>\n<p>There's this <a href=\"https://docs.spring.io/spring-security/reference/getting-spring-security.html\" rel=\"nofollow noreferrer\">Spring Security docs page</a>, that informs on that subject, distinguishing between Spring Boot / Non-Spring-Boot projects combined with Maven / Gradle.</p>\n<p>For Non-Spring-Boot projects the recommended way is to use the BOM (bill of material) artifact.</p>\n<ul>\n<li>details for <a href=\"https://docs.spring.io/spring-security/reference/getting-spring-security.html#getting-maven-no-boot\" rel=\"nofollow noreferrer\">Maven</a></li>\n<li>details for <a href=\"https://docs.spring.io/spring-security/reference/getting-spring-security.html#_gradle_without_spring_boot\" rel=\"nofollow noreferrer\">Gradle</a></li>\n</ul>\n<p>Spring Boot utilizes this BOM too, so you don't have to set anything specifically there.</p>\n<p>You can also find the same information for a specific spring-security version, e.g. for 5.1.13 it's: <a href=\"https://docs.spring.io/spring-security/site/docs/5.1.13.RELEASE/reference/htmlsingle/#get-spring-security\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-security/site/docs/5.1.13.RELEASE/reference/htmlsingle/#get-spring-security</a></p>\n<p>which contains version specific details. Just go to <a href=\"https://docs.spring.io/spring-security/site/docs\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-security/site/docs</a> and find your version.</p>\n"}],"owner":{"account_id":9595833,"reputation":165,"user_id":7124991,"accept_rate":100,"display_name":"zeji"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33285,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":40626346,"answer_count":3,"score":11,"last_activity_date":1689435559,"creation_date":1479280423,"question_id":40626103,"body_markdown":"Which version of Spring Security is compatible with Spring version 4.3.0.\r\n\r\n**My JARs are as follows:**\r\n\r\n - spring-aop-4.3.0.RELEASE.jar\r\n - spring-beans-4.3.0.RELEASE.jar\r\n - spring-context-4.3.0.RELEASE.jar\r\n - spring-context-support-4.3.0.RELEASE.jar\r\n - spring-core-4.3.0.RELEASE.jar\r\n - spring-expression-4.3.0.RELEASE.jar\r\n - spring-jdbc-4.3.0.RELEASE.jar\r\n - spring-orm-4.3.0.RELEASE.jar\r\n - spring-oxm-4.3.0.RELEASE.jar\r\n - spring-tx-4.3.0.RELEASE.jar\r\n - spring-web-4.3.0.RELEASE.jar\r\n\r\n**With Security JARs:**\r\n\r\n - spring-security-config-3.2.5.RELEASE.jar\r\n - spring-security-core-3.2.5.RELEASE.jar\r\n - spring-security-web-3.2.5.RELEASE.jar","title":"What is the compatible version of Spring Security with Spring 4.3.0?","body":"<p>Which version of Spring Security is compatible with Spring version 4.3.0.</p>\n<p><strong>My JARs are as follows:</strong></p>\n<ul>\n<li>spring-aop-4.3.0.RELEASE.jar</li>\n<li>spring-beans-4.3.0.RELEASE.jar</li>\n<li>spring-context-4.3.0.RELEASE.jar</li>\n<li>spring-context-support-4.3.0.RELEASE.jar</li>\n<li>spring-core-4.3.0.RELEASE.jar</li>\n<li>spring-expression-4.3.0.RELEASE.jar</li>\n<li>spring-jdbc-4.3.0.RELEASE.jar</li>\n<li>spring-orm-4.3.0.RELEASE.jar</li>\n<li>spring-oxm-4.3.0.RELEASE.jar</li>\n<li>spring-tx-4.3.0.RELEASE.jar</li>\n<li>spring-web-4.3.0.RELEASE.jar</li>\n</ul>\n<p><strong>With Security JARs:</strong></p>\n<ul>\n<li>spring-security-config-3.2.5.RELEASE.jar</li>\n<li>spring-security-core-3.2.5.RELEASE.jar</li>\n<li>spring-security-web-3.2.5.RELEASE.jar</li>\n</ul>\n"},{"tags":["java","jfreechart"],"comments":[{"owner":{"account_id":29023642,"reputation":1,"user_id":22232398,"display_name":"regksem"},"score":0,"creation_date":1689435092,"post_id":76694489,"comment_id":135214623,"body_markdown":"that is, it colored only the graph, but without the values themselves on the left and bottom","body":"that is, it colored only the graph, but without the values themselves on the left and bottom"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1689618935,"post_id":76694489,"comment_id":135236305,"body_markdown":"Have you tried an implementation of `Paint` that has a _gradient_?","body":"Have you tried an implementation of <code>Paint</code> that has a <i>gradient</i>?"},{"owner":{"account_id":29023642,"reputation":1,"user_id":22232398,"display_name":"regksem"},"score":0,"creation_date":1689684588,"post_id":76694489,"comment_id":135246073,"body_markdown":"Yes, I used it for the color of the graph, but how does this relate to the creation of a black transparent square?","body":"Yes, I used it for the color of the graph, but how does this relate to the creation of a black transparent square?"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1689702787,"post_id":76694489,"comment_id":135250260,"body_markdown":"Honesty, I don&#39;t think I understand the question; in the hope that someone does, please [edit] your question to include a [mre] that shows your current approach.","body":"Honesty, I don&#39;t think I understand the question; in the hope that someone does, please <a href=\"https://stackoverflow.com/posts/76694489/edit\">edit</a> your question to include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that shows your current approach."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1689717299,"post_id":76694489,"comment_id":135252530,"body_markdown":"Also, review the _gallery of sample charts_, cited [here](https://stackoverflow.com/tags/jfreechart/info).","body":"Also, review the <i>gallery of sample charts</i>, cited <a href=\"https://stackoverflow.com/tags/jfreechart/info\">here</a>."}],"owner":{"account_id":29023642,"reputation":1,"user_id":22232398,"display_name":"regksem"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689435026,"creation_date":1689435026,"question_id":76694489,"body_markdown":"The provided link (this is the result I need) demonstrates the desired result. To achieve this, I tried to access the X y chart graph and set its background coloring to a semi-transparent color using the following code:\r\n\r\n`val plot = chart.getXYPlot();\r\nplot.setBackgroundPaint(new Color(0x4D575656, true));\r\n`\r\n\r\n[The result that came out](https://i.stack.imgur.com/nCMMU.png)\r\nI tried this, but it turns out [this](https://i.stack.imgur.com/0PowA.png)\r\n                                                                          ","title":"jfreechart, how to paint a graph transparently black","body":"<p>The provided link (this is the result I need) demonstrates the desired result. To achieve this, I tried to access the X y chart graph and set its background coloring to a semi-transparent color using the following code:</p>\n<p><code>val plot = chart.getXYPlot(); plot.setBackgroundPaint(new Color(0x4D575656, true)); </code></p>\n<p><a href=\"https://i.stack.imgur.com/nCMMU.png\" rel=\"nofollow noreferrer\">The result that came out</a>\nI tried this, but it turns out <a href=\"https://i.stack.imgur.com/0PowA.png\" rel=\"nofollow noreferrer\">this</a></p>\n"},{"tags":["java","android-studio","bundle"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1689432970,"post_id":76694331,"comment_id":135214343,"body_markdown":"Where is your logcat output? This should provide you with the stacktrace related to the crash and should be the first thing that you inspect (and the first thing that you should show us) if a crash occurs.","body":"Where is your logcat output? This should provide you with the stacktrace related to the crash and should be the first thing that you inspect (and the first thing that you should show us) if a crash occurs."},{"owner":{"account_id":29023505,"reputation":9,"user_id":22232297,"display_name":"Krokbz"},"score":0,"creation_date":1689434698,"post_id":76694331,"comment_id":135214580,"body_markdown":"I edited the post with the logcat output added.","body":"I edited the post with the logcat output added."}],"owner":{"account_id":29023505,"reputation":9,"user_id":22232297,"display_name":"Krokbz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1689434742,"answer_count":0,"score":0,"last_activity_date":1689434893,"creation_date":1689432883,"question_id":76694331,"body_markdown":"I&#39;m trying to make a program that does a calculation from data entered in the first fragment, then sends and displays the calculated values in the second fragment.\r\nWhen I press the button in my app, the app crashes.\r\n\r\nOnClick in the first fragment:\r\n```\r\npublic void onViewCreated(@NonNull View view, Bundle savedInstanceState) {\r\n        super.onViewCreated(view, savedInstanceState);\r\n\r\n        view.findViewById(R.id.ButIzracun).setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                ArrayList&lt;ValAtt&gt; mValAtts=new ArrayList&lt;&gt;();\r\n                Baza baz=new Baza();\r\n                mValAtts=baz.getVA();\r\n                double fibLoss, fibLen, lossBud;\r\n                s=(Spinner) s.findViewById(R.id.tip);\r\n                brSplice=(EditText) brSplice.findViewById(R.id.brSpoj);\r\n                brCon=(EditText) brCon.findViewById(R.id.brKon);\r\n                cLen=(EditText) cLen.findViewById(R.id.duzKabel);\r\n                minPow=(EditText) minPow.findViewById(R.id.minPow);\r\n                recPow=(EditText) recPow.findViewById(R.id.recPow);\r\n\r\n                double sFAtt=mValAtts.get(s.getSelectedItemPosition()).getmAtt();\r\n                fibLoss = kons.getsLoss()*Double.parseDouble(brSplice.getText().toString())+kons.getcLoss()*Double.parseDouble(brCon.getText().toString())+Double.parseDouble(cLen.getText().toString())*sFAtt+ kons.getsMarg();\r\n                fibLen = (Double.parseDouble(minPow.getText().toString())-Double.parseDouble(recPow.getText().toString())-kons.getsLoss()*Double.parseDouble(brSplice.getText().toString())-kons.getcLoss()*Double.parseDouble(brCon.getText().toString()))/sFAtt;\r\n                lossBud = fibLoss+Double.parseDouble(minPow.getText().toString())-Double.parseDouble(recPow.getText().toString());\r\n                NavHostFragment.findNavController(FirstFragment.this)\r\n                        .navigate(R.id.action_FirstFragment_to_SecondFragment);\r\n\r\n                double[] rez=new double[3];\r\n                rez[0]=fibLoss; rez[1]=fibLen;rez[2]=lossBud;\r\n\r\n                Bundle bundle = new Bundle();\r\n                bundle.putDoubleArray(&quot;key&quot;,rez);\r\n\r\n                SecondFragment fragment2 = new SecondFragment();\r\n                fragment2.setArguments(bundle);\r\n\r\n\r\n            }\r\n\r\n        });\r\n    }\r\n```\r\n\r\nOnCreateView in the second fragment:\r\n\r\n```\r\n    public View onCreateView(\r\n            LayoutInflater inflater, ViewGroup container,\r\n            Bundle savedInstanceState\r\n    ) {\r\n        Bundle bundle = this.getArguments();\r\n        assert bundle != null;\r\n        rezultat=bundle.getDoubleArray(&quot;key&quot;);\r\n        View v=inflater.inflate(R.layout.fragment_second,container,false);\r\n\r\n        setTextR1(v);\r\n        setTextR2(v);\r\n        setTextR3(v);\r\n\r\n        // Inflate the layout for this fragment\r\n        return inflater.inflate(R.layout.fragment_second, container, false);\r\n\r\n\r\n\r\n    }\r\n\r\n    @SuppressLint(&quot;SetTextI18n&quot;)\r\n    public void setTextR1(View v) {\r\n        r1 = (TextView) v.findViewById(R.id.textView6);\r\n        r1.setText(Double.toString(rezultat[0]));\r\n    }\r\n    @SuppressLint(&quot;SetTextI18n&quot;)\r\n    public void setTextR2(View v) {\r\n        r2 = (TextView) v.findViewById(R.id.textView8);\r\n        r2.setText(Double.toString(rezultat[1]));\r\n    }\r\n    @SuppressLint(&quot;SetTextI18n&quot;)\r\n    public void setTextR3(View v) {\r\n        r3 = (TextView) v.findViewById(R.id.textView10);\r\n        r3.setText(Double.toString(rezultat[2]));\r\n    }\r\n```\r\nEvery class or variable is declared beforehand if it&#39;s not in the code that I copied.\r\n.\r\n\r\nI wanted to send the data through the bundle, get the data in the second fragment, then display that data in the TextView.\r\n\r\nLogcat:\r\n```\r\n2023-07-15 17:18:39.932 7336-7336/com.example.optickikalkulator E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.optickikalkulator, PID: 7336\r\n    java.lang.NullPointerException: Attempt to invoke virtual method &#39;android.view.View android.widget.Spinner.findViewById(int)&#39; on a null object reference\r\n        at com.example.optickikalkulator.FirstFragment$2.onClick(FirstFragment.java:91)\r\n        at android.view.View.performClick(View.java:7548)\r\n        at com.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1119)\r\n        at android.view.View.performClickInternal(View.java:7525)\r\n        at android.view.View.-$$Nest$mperformClickInternal(Unknown Source:0)\r\n        at android.view.View$PerformClick.run(View.java:29562)\r\n        at android.os.Handler.handleCallback(Handler.java:942)\r\n        at android.os.Handler.dispatchMessage(Handler.java:99)\r\n        at android.os.Looper.loopOnce(Looper.java:210)\r\n        at android.os.Looper.loop(Looper.java:299)\r\n        at android.app.ActivityThread.main(ActivityThread.java:8252)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:559)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:954)\r\n```","title":"My Android app crashes after button is clicked","body":"<p>I'm trying to make a program that does a calculation from data entered in the first fragment, then sends and displays the calculated values in the second fragment.\nWhen I press the button in my app, the app crashes.</p>\n<p>OnClick in the first fragment:</p>\n<pre><code>public void onViewCreated(@NonNull View view, Bundle savedInstanceState) {\n        super.onViewCreated(view, savedInstanceState);\n\n        view.findViewById(R.id.ButIzracun).setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                ArrayList&lt;ValAtt&gt; mValAtts=new ArrayList&lt;&gt;();\n                Baza baz=new Baza();\n                mValAtts=baz.getVA();\n                double fibLoss, fibLen, lossBud;\n                s=(Spinner) s.findViewById(R.id.tip);\n                brSplice=(EditText) brSplice.findViewById(R.id.brSpoj);\n                brCon=(EditText) brCon.findViewById(R.id.brKon);\n                cLen=(EditText) cLen.findViewById(R.id.duzKabel);\n                minPow=(EditText) minPow.findViewById(R.id.minPow);\n                recPow=(EditText) recPow.findViewById(R.id.recPow);\n\n                double sFAtt=mValAtts.get(s.getSelectedItemPosition()).getmAtt();\n                fibLoss = kons.getsLoss()*Double.parseDouble(brSplice.getText().toString())+kons.getcLoss()*Double.parseDouble(brCon.getText().toString())+Double.parseDouble(cLen.getText().toString())*sFAtt+ kons.getsMarg();\n                fibLen = (Double.parseDouble(minPow.getText().toString())-Double.parseDouble(recPow.getText().toString())-kons.getsLoss()*Double.parseDouble(brSplice.getText().toString())-kons.getcLoss()*Double.parseDouble(brCon.getText().toString()))/sFAtt;\n                lossBud = fibLoss+Double.parseDouble(minPow.getText().toString())-Double.parseDouble(recPow.getText().toString());\n                NavHostFragment.findNavController(FirstFragment.this)\n                        .navigate(R.id.action_FirstFragment_to_SecondFragment);\n\n                double[] rez=new double[3];\n                rez[0]=fibLoss; rez[1]=fibLen;rez[2]=lossBud;\n\n                Bundle bundle = new Bundle();\n                bundle.putDoubleArray(&quot;key&quot;,rez);\n\n                SecondFragment fragment2 = new SecondFragment();\n                fragment2.setArguments(bundle);\n\n\n            }\n\n        });\n    }\n</code></pre>\n<p>OnCreateView in the second fragment:</p>\n<pre><code>    public View onCreateView(\n            LayoutInflater inflater, ViewGroup container,\n            Bundle savedInstanceState\n    ) {\n        Bundle bundle = this.getArguments();\n        assert bundle != null;\n        rezultat=bundle.getDoubleArray(&quot;key&quot;);\n        View v=inflater.inflate(R.layout.fragment_second,container,false);\n\n        setTextR1(v);\n        setTextR2(v);\n        setTextR3(v);\n\n        // Inflate the layout for this fragment\n        return inflater.inflate(R.layout.fragment_second, container, false);\n\n\n\n    }\n\n    @SuppressLint(&quot;SetTextI18n&quot;)\n    public void setTextR1(View v) {\n        r1 = (TextView) v.findViewById(R.id.textView6);\n        r1.setText(Double.toString(rezultat[0]));\n    }\n    @SuppressLint(&quot;SetTextI18n&quot;)\n    public void setTextR2(View v) {\n        r2 = (TextView) v.findViewById(R.id.textView8);\n        r2.setText(Double.toString(rezultat[1]));\n    }\n    @SuppressLint(&quot;SetTextI18n&quot;)\n    public void setTextR3(View v) {\n        r3 = (TextView) v.findViewById(R.id.textView10);\n        r3.setText(Double.toString(rezultat[2]));\n    }\n</code></pre>\n<p>Every class or variable is declared beforehand if it's not in the code that I copied.\n.</p>\n<p>I wanted to send the data through the bundle, get the data in the second fragment, then display that data in the TextView.</p>\n<p>Logcat:</p>\n<pre><code>2023-07-15 17:18:39.932 7336-7336/com.example.optickikalkulator E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.optickikalkulator, PID: 7336\n    java.lang.NullPointerException: Attempt to invoke virtual method 'android.view.View android.widget.Spinner.findViewById(int)' on a null object reference\n        at com.example.optickikalkulator.FirstFragment$2.onClick(FirstFragment.java:91)\n        at android.view.View.performClick(View.java:7548)\n        at com.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1119)\n        at android.view.View.performClickInternal(View.java:7525)\n        at android.view.View.-$$Nest$mperformClickInternal(Unknown Source:0)\n        at android.view.View$PerformClick.run(View.java:29562)\n        at android.os.Handler.handleCallback(Handler.java:942)\n        at android.os.Handler.dispatchMessage(Handler.java:99)\n        at android.os.Looper.loopOnce(Looper.java:210)\n        at android.os.Looper.loop(Looper.java:299)\n        at android.app.ActivityThread.main(ActivityThread.java:8252)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:559)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:954)\n</code></pre>\n"},{"tags":["java","android","cyanogenmod","tasker"],"answers":[{"tags":[],"owner":{"account_id":7585076,"reputation":113,"user_id":5754486,"display_name":"Cloonix"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1489316137,"creation_date":1489316137,"answer_id":42746524,"question_id":42746368,"body_markdown":"Sometimes by asking a question, the answer comes up.\r\n\r\nSELinux is the reason that my method is not working. Temporarily set SELinux to &quot;permissive&quot; (setenforce 0) and everything is fine.\r\n\r\nSo i guess there is no workaround other than disabling SELinux (which i do not want). ","title":"LineageOS: Tasker Java Function &quot;setActiveProfile(java.lang.String)&quot;","body":"<p>Sometimes by asking a question, the answer comes up.</p>\n\n<p>SELinux is the reason that my method is not working. Temporarily set SELinux to \"permissive\" (setenforce 0) and everything is fine.</p>\n\n<p>So i guess there is no workaround other than disabling SELinux (which i do not want). </p>\n"},{"comments":[{"owner":{"account_id":7585076,"reputation":113,"user_id":5754486,"display_name":"Cloonix"},"score":0,"creation_date":1490174470,"post_id":42910587,"comment_id":72990152,"body_markdown":"I&#39;ve added another answer, because this comment field was to small (character limit).","body":"I&#39;ve added another answer, because this comment field was to small (character limit)."}],"tags":[],"owner":{"account_id":10503450,"reputation":1,"user_id":7741460,"display_name":"wowo"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1490032267,"creation_date":1490032267,"answer_id":42910587,"question_id":42746368,"body_markdown":"You can disable SELinux right before the Function and re-enable it right after it in Tasker.\r\n\r\nI guess I want to accomplish the same thing you are trying to do, but I can&#39;t make it work. Could you be so kind and post all the values for the fields in Tasker to create the proman object? I seem to be missing something.","title":"LineageOS: Tasker Java Function &quot;setActiveProfile(java.lang.String)&quot;","body":"<p>You can disable SELinux right before the Function and re-enable it right after it in Tasker.</p>\n\n<p>I guess I want to accomplish the same thing you are trying to do, but I can't make it work. Could you be so kind and post all the values for the fields in Tasker to create the proman object? I seem to be missing something.</p>\n"},{"tags":[],"owner":{"account_id":7585076,"reputation":113,"user_id":5754486,"display_name":"Cloonix"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1490174434,"creation_date":1490174434,"answer_id":42947267,"question_id":42746368,"body_markdown":"\r\nFor those who want to use Lineage OS profiles within tasker (Android 7) you need the following task. Attention: Commands A1 and A4 disable/enable SELinux. The used variable %Newprofile equals the name of the Lineage profile (eg. &quot;4G&quot;). I set the variable within another task.\r\n\r\n    A1: Run Shell [ Command:setenforce 0 Timeout (Seconds):0 Use Root:On Store Output In: Store Errors In: Store Result In: ] \r\n    A2: Java Function [ Return:proman Class Or Object:cyanogenmod.app.ProfileManager Function:getInstance {cyanogenmod.app.ProfileManager} (Context) Param:CONTEXT Param: Param: Param: Param: Param: Param: ] \r\n    A3: Java Function [ Return: Class Or Object:proman Function:setActiveProfile {} (String) Param:%Newprofile Param: Param: Param: Param: Param: Param: ] \r\n    A4: Run Shell [ Command:setenforce 1 Timeout (Seconds):0 Use Root:On Store Output In: Store Errors In: Store Result In: ] \r\n","title":"LineageOS: Tasker Java Function &quot;setActiveProfile(java.lang.String)&quot;","body":"<p>For those who want to use Lineage OS profiles within tasker (Android 7) you need the following task. Attention: Commands A1 and A4 disable/enable SELinux. The used variable %Newprofile equals the name of the Lineage profile (eg. \"4G\"). I set the variable within another task.</p>\n\n<pre><code>A1: Run Shell [ Command:setenforce 0 Timeout (Seconds):0 Use Root:On Store Output In: Store Errors In: Store Result In: ] \nA2: Java Function [ Return:proman Class Or Object:cyanogenmod.app.ProfileManager Function:getInstance {cyanogenmod.app.ProfileManager} (Context) Param:CONTEXT Param: Param: Param: Param: Param: Param: ] \nA3: Java Function [ Return: Class Or Object:proman Function:setActiveProfile {} (String) Param:%Newprofile Param: Param: Param: Param: Param: Param: ] \nA4: Run Shell [ Command:setenforce 1 Timeout (Seconds):0 Use Root:On Store Output In: Store Errors In: Store Result In: ] \n</code></pre>\n"},{"comments":[{"owner":{"account_id":7585076,"reputation":113,"user_id":5754486,"display_name":"Cloonix"},"score":0,"creation_date":1501359895,"post_id":45380847,"comment_id":77748081,"body_markdown":"You are right. It&#39;s working without setting SELinux. Maybe a change in recent LineageOS builds. Tried it myself right now.","body":"You are right. It&#39;s working without setting SELinux. Maybe a change in recent LineageOS builds. Tried it myself right now."}],"tags":[],"owner":{"account_id":10912178,"reputation":36,"user_id":8021223,"display_name":"OrenRysn"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1501269516,"creation_date":1501269213,"answer_id":45380847,"question_id":42746368,"body_markdown":"I know this is an older post, but I stumbled on this post while doing some research to verify if the API names have changed since the spinoff of LineageOS from the original CM source, and wanted to provide what I hope is some useful information. \r\n\r\nA permissive SELinux is not required to set a system profile on LineageOS with Tasker. I have a Tasker profile that I&#39;ve had since CM12 or CM13 that still works on LineageOS, and my SELinux status is currently Enforcing. \r\n\r\nLineageOS, Android v7.1.2\r\n\r\nAttached are screenshots showing the Java logic, and I&#39;ll include the full XML of the task below.\r\n\r\n[Setting System Profile in LineageOS with Tasker][1]\r\n\r\n    &lt;TaskerData sr=&quot;&quot; dvi=&quot;1&quot; tv=&quot;5.0u2m&quot;&gt;\r\n    \t&lt;Task sr=&quot;task9&quot;&gt;\r\n    \t\t&lt;cdate&gt;1420510419053&lt;/cdate&gt;\r\n    \t\t&lt;edate&gt;1501266948615&lt;/edate&gt;\r\n    \t\t&lt;id&gt;9&lt;/id&gt;\r\n    \t\t&lt;nme&gt;Set CM Profile&lt;/nme&gt;\r\n    \t\t&lt;pri&gt;100&lt;/pri&gt;\r\n    \t\t&lt;Action sr=&quot;act0&quot; ve=&quot;7&quot;&gt;\r\n    \t\t\t&lt;code&gt;547&lt;/code&gt;\r\n    \t\t\t&lt;Str sr=&quot;arg0&quot; ve=&quot;3&quot;&gt;%profile&lt;/Str&gt;\r\n    \t\t\t&lt;Str sr=&quot;arg1&quot; ve=&quot;3&quot;&gt;%par1&lt;/Str&gt;\r\n    \t\t\t&lt;Int sr=&quot;arg2&quot; val=&quot;0&quot;/&gt;\r\n    \t\t\t&lt;Int sr=&quot;arg3&quot; val=&quot;0&quot;/&gt;\r\n    \t\t\t&lt;Int sr=&quot;arg4&quot; val=&quot;0&quot;/&gt;\r\n    \t\t&lt;/Action&gt;\r\n    \t\t&lt;Action sr=&quot;act1&quot; ve=&quot;7&quot;&gt;\r\n    \t\t\t&lt;code&gt;664&lt;/code&gt;\r\n    \t\t\t&lt;Str sr=&quot;arg0&quot; ve=&quot;3&quot;&gt;ps&lt;/Str&gt;\r\n    \t\t\t&lt;Str sr=&quot;arg1&quot; ve=&quot;3&quot;&gt;cyanogenmod.app.ProfileManager&lt;/Str&gt;\r\n    \t\t\t&lt;Str sr=&quot;arg2&quot; ve=&quot;3&quot;&gt;getService {cyanogenmod.app.IProfileManager} ()&lt;/Str&gt;\r\n    \t\t\t&lt;Str sr=&quot;arg3&quot; ve=&quot;3&quot;&gt;profile&lt;/Str&gt;\r\n    \t\t\t&lt;Str sr=&quot;arg4&quot; ve=&quot;3&quot;/&gt;\r\n    \t\t\t&lt;Str sr=&quot;arg5&quot; ve=&quot;3&quot;/&gt;\r\n    \t\t\t&lt;Str sr=&quot;arg6&quot; ve=&quot;3&quot;/&gt;\r\n    \t\t\t&lt;Str sr=&quot;arg7&quot; ve=&quot;3&quot;/&gt;\r\n    \t\t\t&lt;Str sr=&quot;arg8&quot; ve=&quot;3&quot;/&gt;\r\n    \t\t\t&lt;Str sr=&quot;arg9&quot; ve=&quot;3&quot;/&gt;\r\n    \t\t&lt;/Action&gt;\r\n    \t\t&lt;Action sr=&quot;act2&quot; ve=&quot;7&quot;&gt;\r\n    \t\t\t&lt;code&gt;664&lt;/code&gt;\r\n    \t\t\t&lt;Str sr=&quot;arg0&quot; ve=&quot;3&quot;&gt;%returnValue&lt;/Str&gt;\r\n    \t\t\t&lt;Str sr=&quot;arg1&quot; ve=&quot;3&quot;&gt;ps&lt;/Str&gt;\r\n    \t\t\t&lt;Str sr=&quot;arg2&quot; ve=&quot;3&quot;&gt;setActiveProfileByName {boolean} (String)&lt;/Str&gt;\r\n    \t\t\t&lt;Str sr=&quot;arg3&quot; ve=&quot;3&quot;&gt;%profile&lt;/Str&gt;\r\n    \t\t\t&lt;Str sr=&quot;arg4&quot; ve=&quot;3&quot;/&gt;\r\n    \t\t\t&lt;Str sr=&quot;arg5&quot; ve=&quot;3&quot;/&gt;\r\n    \t\t\t&lt;Str sr=&quot;arg6&quot; ve=&quot;3&quot;/&gt;\r\n    \t\t\t&lt;Str sr=&quot;arg7&quot; ve=&quot;3&quot;/&gt;\r\n    \t\t\t&lt;Str sr=&quot;arg8&quot; ve=&quot;3&quot;/&gt;\r\n    \t\t\t&lt;Str sr=&quot;arg9&quot; ve=&quot;3&quot;/&gt;\r\n    \t\t&lt;/Action&gt;\r\n    \t\t&lt;Img sr=&quot;icn&quot; ve=&quot;2&quot;&gt;\r\n    \t\t\t&lt;nme&gt;hl_aaa_ext_barcode_1&lt;/nme&gt;\r\n    \t\t&lt;/Img&gt;\r\n    \t&lt;/Task&gt;\r\n    &lt;/TaskerData&gt;\r\n\r\nNote: this is a generic Task that takes the name of a Profile and tries to set the System Profile to the profile matching the incoming parameter. This requires other tasks that send a specific string to this task. \r\n\r\nThe final screenshot of the link above shows using another task and passing the name of the profile you wish to set. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BiELu.jpg &quot;Set System Profile in LineageOS with Tasker&quot;","title":"LineageOS: Tasker Java Function &quot;setActiveProfile(java.lang.String)&quot;","body":"<p>I know this is an older post, but I stumbled on this post while doing some research to verify if the API names have changed since the spinoff of LineageOS from the original CM source, and wanted to provide what I hope is some useful information. </p>\n\n<p>A permissive SELinux is not required to set a system profile on LineageOS with Tasker. I have a Tasker profile that I've had since CM12 or CM13 that still works on LineageOS, and my SELinux status is currently Enforcing. </p>\n\n<p>LineageOS, Android v7.1.2</p>\n\n<p>Attached are screenshots showing the Java logic, and I'll include the full XML of the task below.</p>\n\n<p><a href=\"https://i.stack.imgur.com/BiELu.jpg\" rel=\"nofollow noreferrer\" title=\"Set System Profile in LineageOS with Tasker\">Setting System Profile in LineageOS with Tasker</a></p>\n\n<pre><code>&lt;TaskerData sr=\"\" dvi=\"1\" tv=\"5.0u2m\"&gt;\n    &lt;Task sr=\"task9\"&gt;\n        &lt;cdate&gt;1420510419053&lt;/cdate&gt;\n        &lt;edate&gt;1501266948615&lt;/edate&gt;\n        &lt;id&gt;9&lt;/id&gt;\n        &lt;nme&gt;Set CM Profile&lt;/nme&gt;\n        &lt;pri&gt;100&lt;/pri&gt;\n        &lt;Action sr=\"act0\" ve=\"7\"&gt;\n            &lt;code&gt;547&lt;/code&gt;\n            &lt;Str sr=\"arg0\" ve=\"3\"&gt;%profile&lt;/Str&gt;\n            &lt;Str sr=\"arg1\" ve=\"3\"&gt;%par1&lt;/Str&gt;\n            &lt;Int sr=\"arg2\" val=\"0\"/&gt;\n            &lt;Int sr=\"arg3\" val=\"0\"/&gt;\n            &lt;Int sr=\"arg4\" val=\"0\"/&gt;\n        &lt;/Action&gt;\n        &lt;Action sr=\"act1\" ve=\"7\"&gt;\n            &lt;code&gt;664&lt;/code&gt;\n            &lt;Str sr=\"arg0\" ve=\"3\"&gt;ps&lt;/Str&gt;\n            &lt;Str sr=\"arg1\" ve=\"3\"&gt;cyanogenmod.app.ProfileManager&lt;/Str&gt;\n            &lt;Str sr=\"arg2\" ve=\"3\"&gt;getService {cyanogenmod.app.IProfileManager} ()&lt;/Str&gt;\n            &lt;Str sr=\"arg3\" ve=\"3\"&gt;profile&lt;/Str&gt;\n            &lt;Str sr=\"arg4\" ve=\"3\"/&gt;\n            &lt;Str sr=\"arg5\" ve=\"3\"/&gt;\n            &lt;Str sr=\"arg6\" ve=\"3\"/&gt;\n            &lt;Str sr=\"arg7\" ve=\"3\"/&gt;\n            &lt;Str sr=\"arg8\" ve=\"3\"/&gt;\n            &lt;Str sr=\"arg9\" ve=\"3\"/&gt;\n        &lt;/Action&gt;\n        &lt;Action sr=\"act2\" ve=\"7\"&gt;\n            &lt;code&gt;664&lt;/code&gt;\n            &lt;Str sr=\"arg0\" ve=\"3\"&gt;%returnValue&lt;/Str&gt;\n            &lt;Str sr=\"arg1\" ve=\"3\"&gt;ps&lt;/Str&gt;\n            &lt;Str sr=\"arg2\" ve=\"3\"&gt;setActiveProfileByName {boolean} (String)&lt;/Str&gt;\n            &lt;Str sr=\"arg3\" ve=\"3\"&gt;%profile&lt;/Str&gt;\n            &lt;Str sr=\"arg4\" ve=\"3\"/&gt;\n            &lt;Str sr=\"arg5\" ve=\"3\"/&gt;\n            &lt;Str sr=\"arg6\" ve=\"3\"/&gt;\n            &lt;Str sr=\"arg7\" ve=\"3\"/&gt;\n            &lt;Str sr=\"arg8\" ve=\"3\"/&gt;\n            &lt;Str sr=\"arg9\" ve=\"3\"/&gt;\n        &lt;/Action&gt;\n        &lt;Img sr=\"icn\" ve=\"2\"&gt;\n            &lt;nme&gt;hl_aaa_ext_barcode_1&lt;/nme&gt;\n        &lt;/Img&gt;\n    &lt;/Task&gt;\n&lt;/TaskerData&gt;\n</code></pre>\n\n<p>Note: this is a generic Task that takes the name of a Profile and tries to set the System Profile to the profile matching the incoming parameter. This requires other tasks that send a specific string to this task. </p>\n\n<p>The final screenshot of the link above shows using another task and passing the name of the profile you wish to set. </p>\n"},{"tags":[],"owner":{"account_id":29023550,"reputation":1,"user_id":22232329,"display_name":"Helium100"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689434443,"creation_date":1689434353,"answer_id":76694435,"question_id":42746368,"body_markdown":"&lt;br&gt;&lt;br&gt;\r\nIt&#39;s a old topic, but still very current issue,\r\nif like me you ended up here few days ago and getting stuck with lineageOS API changes, and golly-gosh-where-can-I-find-profile-UUID??, you may take advantages of the tasker&#39;s tasks here:\r\n[GitHub][1] &lt;br&gt;&lt;br&gt;\r\nWith them you should be able to set profile with UUID string (as long as tasker got the appropriate permissions) + get the UUID string currently in use by the system.\r\n\r\nI precise that this work hugely take source on [Samara Jinnah][2] initial work on the subject.\r\n\r\n\r\n  [1]: https://gist.github.com/Helium100/cc817db5d3ac8508bdda6a00134be0dd\r\n  [2]: https://gist.github.com/udf","title":"LineageOS: Tasker Java Function &quot;setActiveProfile(java.lang.String)&quot;","body":"<p><br><br>\nIt's a old topic, but still very current issue,\nif like me you ended up here few days ago and getting stuck with lineageOS API changes, and golly-gosh-where-can-I-find-profile-UUID??, you may take advantages of the tasker's tasks here:\n<a href=\"https://gist.github.com/Helium100/cc817db5d3ac8508bdda6a00134be0dd\" rel=\"nofollow noreferrer\">GitHub</a> <br><br>\nWith them you should be able to set profile with UUID string (as long as tasker got the appropriate permissions) + get the UUID string currently in use by the system.</p>\n<p>I precise that this work hugely take source on <a href=\"https://gist.github.com/udf\" rel=\"nofollow noreferrer\">Samara Jinnah</a> initial work on the subject.</p>\n"}],"owner":{"account_id":7585076,"reputation":113,"user_id":5754486,"display_name":"Cloonix"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1561,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":45380847,"answer_count":5,"score":1,"last_activity_date":1689434443,"creation_date":1489315137,"question_id":42746368,"body_markdown":"i&#39;m trying to set a LineageOS system profile by a tasker task. I found some examples for CM13 but i can&#39;t get it work on LineagesOS. I&#39;m not much into Java.  \r\n\r\nWhat have i done so far...\r\n\r\n1. Created a Tasker task &quot;Java Function&quot;: proman = cyanogenmod.app.ProfileManager.getInstance{cyanogenmod.app.ProfileManager} (Context)\r\n\r\n2. Second &quot;Java Function&quot;: proman.setActiveProfile( %Newprofile )\r\n\r\n3. Value of %Newprofile = &quot;4G&quot;\r\n\r\nBut i get the following error in my tasker log:\r\n\r\n    &gt; 11.30.17/E Java Function:  -&gt; \r\n    &gt; 11.30.17/JU analyse: target: proman expected: null\r\n    &gt; 11.30.17/JU target: analyse done: proman: class: cyanogenmod.app.ProfileManager  obj: cyanogenmod.app.ProfileManager@1f3308e partWithoutMods: null static: false const false casted: false\r\n    &gt; 11.30.17/JU analyse: returnval: java.lang.Void expected: null\r\n    &gt; 11.30.17/JU returnval: analyse done: java.lang.Void: class: java.lang.Void  obj: null partWithoutMods: null static: true const false casted: false\r\n    &gt; 11.30.17/JU initClass: class: java.lang.Void  obj: null partWithoutMods: java.lang.Void static: true const false casted: false\r\n    &gt; 11.30.17/JU initClass: retnovar: init with array handling -&gt; class java.lang.Void\r\n    &gt; 11.30.17/JU initClass: class: cyanogenmod.app.ProfileManager  obj: cyanogenmod.app.ProfileManager@1f3308e partWithoutMods: proman static: false const false casted: false\r\n    &gt; 11.30.17/JU initclass: target: use object class: cyanogenmod.app.ProfileManager\r\n    &gt; 11.30.17/JU analyse: param0: %Newprofile expected: class java.lang.String\r\n    &gt; 11.30.17/Variables doreplresult: |%Newprofile| -&gt; |4G|\r\n    &gt; 11.30.17/JU param0: analyse done: %Newprofile: class: java.lang.String  obj: 4G partWithoutMods: null static: false const true casted: false\r\n    &gt; 11.30.17/E param 0 class: class java.lang.String\r\n    &gt; 11.30.17/E targetClass: class cyanogenmod.app.ProfileManager\r\n    &gt; 11.30.17/E object: cyanogenmod.app.ProfileManager@1f3308e\r\n    &gt; 11.30.17/E method: public void cyanogenmod.app.ProfileManager.setActiveProfile(java.lang.String)\r\n    &gt; 11.30.17/E arg0 class java.lang.String value 4G\r\n    &gt; 11.30.17/E Java Function: java.lang.reflect.InvocationTargetException\r\n    &gt; 11.30.17/ Caused by: java.lang.NullPointerException: Attempt to invoke interface method &#39;boolean cyanogenmod.app.IProfileManager.setActiveProfileByName(java.lang.String)&#39; on a null object reference\r\n    &gt; 11.30.17/ cyanogenmod.app.ProfileManager.setActiveProfile(Unknown Source)\r\n    &gt; 11.30.17/ java.lang.reflect.Method.invoke(Native Method)\r\n    &gt; 11.30.17/ net.dinglisch.android.taskerm.ExecuteService.c(Unknown Source)\r\n    &gt; 11.30.17/ net.dinglisch.android.taskerm.ExecuteService.a(Unknown Source)\r\n    &gt; 11.30.17/ net.dinglisch.android.taskerm.ExecuteService.a(Unknown Source)\r\n    &gt; 11.30.17/ net.dinglisch.android.taskerm.fd.run(Unknown Source)\r\n    &gt; 11.30.17/E result: stop task (error)\r\n    &gt; 11.30.17/E Error: 1\r\n    &gt; 11.30.17/MacroEdit action finished exeID 1 action no 1 code 664 status: Err next 1\r\n\r\nCan anyone give ma a hint to narrow down my error? I guess something is wrong with the creation of the object &quot;proman&quot;.\r\n\r\nThanks. \r\n\r\nEDIT: Source of the Class - [https://github.com/LineageOS/cm_platform_sdk/blob/cm-14.1/sdk/src/java/cyanogenmod/app/ProfileManager.java][1]\r\n\r\n\r\n  [1]: https://github.com/LineageOS/cm_platform_sdk/blob/cm-14.1/sdk/src/java/cyanogenmod/app/ProfileManager.java","title":"LineageOS: Tasker Java Function &quot;setActiveProfile(java.lang.String)&quot;","body":"<p>i'm trying to set a LineageOS system profile by a tasker task. I found some examples for CM13 but i can't get it work on LineagesOS. I'm not much into Java.  </p>\n\n<p>What have i done so far...</p>\n\n<ol>\n<li><p>Created a Tasker task \"Java Function\": proman = cyanogenmod.app.ProfileManager.getInstance{cyanogenmod.app.ProfileManager} (Context)</p></li>\n<li><p>Second \"Java Function\": proman.setActiveProfile( %Newprofile )</p></li>\n<li><p>Value of %Newprofile = \"4G\"</p></li>\n</ol>\n\n<p>But i get the following error in my tasker log:</p>\n\n<pre><code>&gt; 11.30.17/E Java Function:  -&gt; \n&gt; 11.30.17/JU analyse: target: proman expected: null\n&gt; 11.30.17/JU target: analyse done: proman: class: cyanogenmod.app.ProfileManager  obj: cyanogenmod.app.ProfileManager@1f3308e partWithoutMods: null static: false const false casted: false\n&gt; 11.30.17/JU analyse: returnval: java.lang.Void expected: null\n&gt; 11.30.17/JU returnval: analyse done: java.lang.Void: class: java.lang.Void  obj: null partWithoutMods: null static: true const false casted: false\n&gt; 11.30.17/JU initClass: class: java.lang.Void  obj: null partWithoutMods: java.lang.Void static: true const false casted: false\n&gt; 11.30.17/JU initClass: retnovar: init with array handling -&gt; class java.lang.Void\n&gt; 11.30.17/JU initClass: class: cyanogenmod.app.ProfileManager  obj: cyanogenmod.app.ProfileManager@1f3308e partWithoutMods: proman static: false const false casted: false\n&gt; 11.30.17/JU initclass: target: use object class: cyanogenmod.app.ProfileManager\n&gt; 11.30.17/JU analyse: param0: %Newprofile expected: class java.lang.String\n&gt; 11.30.17/Variables doreplresult: |%Newprofile| -&gt; |4G|\n&gt; 11.30.17/JU param0: analyse done: %Newprofile: class: java.lang.String  obj: 4G partWithoutMods: null static: false const true casted: false\n&gt; 11.30.17/E param 0 class: class java.lang.String\n&gt; 11.30.17/E targetClass: class cyanogenmod.app.ProfileManager\n&gt; 11.30.17/E object: cyanogenmod.app.ProfileManager@1f3308e\n&gt; 11.30.17/E method: public void cyanogenmod.app.ProfileManager.setActiveProfile(java.lang.String)\n&gt; 11.30.17/E arg0 class java.lang.String value 4G\n&gt; 11.30.17/E Java Function: java.lang.reflect.InvocationTargetException\n&gt; 11.30.17/ Caused by: java.lang.NullPointerException: Attempt to invoke interface method 'boolean cyanogenmod.app.IProfileManager.setActiveProfileByName(java.lang.String)' on a null object reference\n&gt; 11.30.17/ cyanogenmod.app.ProfileManager.setActiveProfile(Unknown Source)\n&gt; 11.30.17/ java.lang.reflect.Method.invoke(Native Method)\n&gt; 11.30.17/ net.dinglisch.android.taskerm.ExecuteService.c(Unknown Source)\n&gt; 11.30.17/ net.dinglisch.android.taskerm.ExecuteService.a(Unknown Source)\n&gt; 11.30.17/ net.dinglisch.android.taskerm.ExecuteService.a(Unknown Source)\n&gt; 11.30.17/ net.dinglisch.android.taskerm.fd.run(Unknown Source)\n&gt; 11.30.17/E result: stop task (error)\n&gt; 11.30.17/E Error: 1\n&gt; 11.30.17/MacroEdit action finished exeID 1 action no 1 code 664 status: Err next 1\n</code></pre>\n\n<p>Can anyone give ma a hint to narrow down my error? I guess something is wrong with the creation of the object \"proman\".</p>\n\n<p>Thanks. </p>\n\n<p>EDIT: Source of the Class - <a href=\"https://github.com/LineageOS/cm_platform_sdk/blob/cm-14.1/sdk/src/java/cyanogenmod/app/ProfileManager.java\" rel=\"nofollow noreferrer\">https://github.com/LineageOS/cm_platform_sdk/blob/cm-14.1/sdk/src/java/cyanogenmod/app/ProfileManager.java</a></p>\n"},{"tags":["java","data-structures"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1689385241,"post_id":76691893,"comment_id":135210490,"body_markdown":"I can guess `arr` is a `Shape []`. But, where is there an `ArrayList` in your code?","body":"I can guess <code>arr</code> is a <code>Shape []</code>. But, where is there an <code>ArrayList</code> in your code?"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":3,"creation_date":1689385362,"post_id":76691893,"comment_id":135210496,"body_markdown":"But, anyway, putting that aside, whoever wrote the specs for the `Shape set (int i, Shape e)` method thought it might be useful in some cases to return the former value of `arr [i]`.  So, why not offer it? If it isn&#39;t needed, the programmer writing the code that calls `Shape set (int i, Shape e)` method is free to ignore the returned value.","body":"But, anyway, putting that aside, whoever wrote the specs for the <code>Shape set (int i, Shape e)</code> method thought it might be useful in some cases to return the former value of <code>arr [i]</code>.  So, why not offer it? If it isn&#39;t needed, the programmer writing the code that calls <code>Shape set (int i, Shape e)</code> method is free to ignore the returned value."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":3,"creation_date":1689385699,"post_id":76691893,"comment_id":135210509,"body_markdown":"It’s just returning the displaced item - might be useful in some cases and reduces the need for a caller to lookup the current item first - in cases where a List operation is not optimised for random access, it would provide a performance improvement (one action instead of two)","body":"It’s just returning the displaced item - might be useful in some cases and reduces the need for a caller to lookup the current item first - in cases where a List operation is not optimised for random access, it would provide a performance improvement (one action instead of two)"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1689385881,"post_id":76691893,"comment_id":135210519,"body_markdown":"Also, this is a requirement enforced by the List interface which ArrayList implements","body":"Also, this is a requirement enforced by the List interface which ArrayList implements"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1689386005,"post_id":76691893,"comment_id":135210526,"body_markdown":"The code you posted is incorrect. It doesn&#39;t have a return value in the case that the `if` condition fails. Is that the real code?","body":"The code you posted is incorrect. It doesn&#39;t have a return value in the case that the <code>if</code> condition fails. Is that the real code?"},{"owner":{"account_id":10732579,"reputation":666,"user_id":7898202,"display_name":"MorganS42"},"score":0,"creation_date":1689389251,"post_id":76691893,"comment_id":135210679,"body_markdown":"Mr. Brown, have you read my answer?","body":"Mr. Brown, have you read my answer?"},{"owner":{"account_id":10943394,"reputation":111,"user_id":22230072,"display_name":"Mr. Brown"},"score":0,"creation_date":1689391365,"post_id":76691893,"comment_id":135210769,"body_markdown":"The code is part of defining the ArrayList class. I&#39;m missing some code preceding what I posted, which is defining the class ArrayList, and initializing the fields Shape[] arr and int size. I&#39;ll edit for clarity.","body":"The code is part of defining the ArrayList class. I&#39;m missing some code preceding what I posted, which is defining the class ArrayList, and initializing the fields Shape[] arr and int size. I&#39;ll edit for clarity."},{"owner":{"account_id":10943394,"reputation":111,"user_id":22230072,"display_name":"Mr. Brown"},"score":0,"creation_date":1689399665,"post_id":76691893,"comment_id":135211160,"body_markdown":"@user16320675 you are right, you must throw an except otherwise. Should be fixed now","body":"@user16320675 you are right, you must throw an except otherwise. Should be fixed now"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1689465532,"post_id":76691893,"comment_id":135217634,"body_markdown":"By the way, having a non-void return type makes it more flexible. One could, for example, use an invocation of the method as an argument in another method. `foo.bar (3, shapeList.set (i, new Pentagon ()), 47.24);` for a dumb hypothetical example.","body":"By the way, having a non-void return type makes it more flexible. One could, for example, use an invocation of the method as an argument in another method. <code>foo.bar (3, shapeList.set (i, new Pentagon ()), 47.24);</code> for a dumb hypothetical example."}],"answers":[{"comments":[{"owner":{"account_id":10943394,"reputation":111,"user_id":22230072,"display_name":"Mr. Brown"},"score":2,"creation_date":1689392302,"post_id":76691924,"comment_id":135210803,"body_markdown":"Thanks, your answer makes it clear I had a conceptual error. I had thought that the function .set() &quot;should&quot; discard the oldShape after modifying the array with newShape, but in fact I should think of .set() as swapping the oldShape for the newShape.","body":"Thanks, your answer makes it clear I had a conceptual error. I had thought that the function .set() &quot;should&quot; discard the oldShape after modifying the array with newShape, but in fact I should think of .set() as swapping the oldShape for the newShape."}],"tags":[],"owner":{"account_id":10732579,"reputation":666,"user_id":7898202,"display_name":"MorganS42"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1689385725,"creation_date":1689385725,"answer_id":76691924,"question_id":76691893,"body_markdown":"Simple Answer: It&#39;s convenient.\r\n\r\nThere are many times when we use the `.set()` method on an `ArrayList` when we still want to store the old value. If this functionality did not exist it would mean writing an extra line (and programmers hate writing extra lines when it is just as readable not to). Consider the scenario of having a list of shapes, but we sometimes want to replace old shapes with new shapes, when we do this we want to print out the old shape, without the `return` on the `.set()` we would have to do it like this:\r\n\r\n```java\r\nList&lt;Shape&gt; shapes = new ArrayList&lt;Shape&gt;();\r\n\r\n* populate the list *\r\n\r\nint index = 3;\r\nShape oldShape = shapes.get(index);\r\nShape newShape = new Shape(&quot;Pentagon&quot;);\r\n\r\nshapes.set(index, newShape);\r\nSystem.out.println(oldShape);\r\n```\r\n\r\nWith the `return` it allows us to concisely do this:\r\n\r\n```java\r\nList&lt;Shape&gt; shapes = new ArrayList&lt;Shape&gt;();\r\n\r\n* populate the list *\r\n\r\nShape newShape = new Shape(&quot;Pentagon&quot;);\r\nSystem.out.println(shapes.set(3, newShape));\r\n```","title":"For arraylists in java, why is the return of the function set not void?","body":"<p>Simple Answer: It's convenient.</p>\n<p>There are many times when we use the <code>.set()</code> method on an <code>ArrayList</code> when we still want to store the old value. If this functionality did not exist it would mean writing an extra line (and programmers hate writing extra lines when it is just as readable not to). Consider the scenario of having a list of shapes, but we sometimes want to replace old shapes with new shapes, when we do this we want to print out the old shape, without the <code>return</code> on the <code>.set()</code> we would have to do it like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Shape&gt; shapes = new ArrayList&lt;Shape&gt;();\n\n* populate the list *\n\nint index = 3;\nShape oldShape = shapes.get(index);\nShape newShape = new Shape(&quot;Pentagon&quot;);\n\nshapes.set(index, newShape);\nSystem.out.println(oldShape);\n</code></pre>\n<p>With the <code>return</code> it allows us to concisely do this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Shape&gt; shapes = new ArrayList&lt;Shape&gt;();\n\n* populate the list *\n\nShape newShape = new Shape(&quot;Pentagon&quot;);\nSystem.out.println(shapes.set(3, newShape));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":43022,"reputation":22842,"user_id":125562,"accept_rate":64,"display_name":"Basilevs"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689433467,"creation_date":1689433467,"answer_id":76694371,"question_id":76691893,"body_markdown":"Thread safety.\r\n\r\nConsider:\r\n\r\n    List&lt;Integer&gt; list = Collections.synchronizedList(new ArrayList&lt;&gt;());\r\n    ....\r\n    var old = list.set(4, 5);\r\n\r\nThis approach would always work, independently of activity in other execution threads.\r\n\r\nNow consider:\r\n\r\n    List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\r\n    ....\r\n    synchronized(list) {\r\n        var old = list.get(4);\r\n        list.set(4, 5);\r\n    }\r\n\r\nThis approach requires cooperative locking in other threads, which may not always be possible (for example, if list is used in a third-party library).\r\n\r\nIn general, a thread-safe interface strives to provide methods useful in a single &quot;atomic&quot; invocation, as multiple invocations may be hard to synchronize.\r\n","title":"For arraylists in java, why is the return of the function set not void?","body":"<p>Thread safety.</p>\n<p>Consider:</p>\n<pre><code>List&lt;Integer&gt; list = Collections.synchronizedList(new ArrayList&lt;&gt;());\n....\nvar old = list.set(4, 5);\n</code></pre>\n<p>This approach would always work, independently of activity in other execution threads.</p>\n<p>Now consider:</p>\n<pre><code>List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\n....\nsynchronized(list) {\n    var old = list.get(4);\n    list.set(4, 5);\n}\n</code></pre>\n<p>This approach requires cooperative locking in other threads, which may not always be possible (for example, if list is used in a third-party library).</p>\n<p>In general, a thread-safe interface strives to provide methods useful in a single &quot;atomic&quot; invocation, as multiple invocations may be hard to synchronize.</p>\n"}],"owner":{"account_id":10943394,"reputation":111,"user_id":22230072,"display_name":"Mr. Brown"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76691924,"answer_count":2,"score":1,"last_activity_date":1689433467,"creation_date":1689385025,"question_id":76691893,"body_markdown":"In class, the set method for arraylist was as such:\r\n    \r\n    public class ArrayList{\r\n        private Shape[] arr;\r\n        private int size;\r\n    \r\n        public Shape set(int i, Shape e){ \r\n            if (i&gt;=0 &amp;&amp; i&lt;size){\r\n                Shape tmp = arr[i];\r\n                arr[i] = e;\r\n                return tmp;\r\n            }\r\n            else{ \r\n                throw new IndexOutOfBoundsException();\r\n            }\r\n        }\r\n    }\r\n\r\nI don&#39;t understand why there is a return type at all. I tried googling and chatGPTing without success.\r\n\r\n","title":"For arraylists in java, why is the return of the function set not void?","body":"<p>In class, the set method for arraylist was as such:</p>\n<pre><code>public class ArrayList{\n    private Shape[] arr;\n    private int size;\n\n    public Shape set(int i, Shape e){ \n        if (i&gt;=0 &amp;&amp; i&lt;size){\n            Shape tmp = arr[i];\n            arr[i] = e;\n            return tmp;\n        }\n        else{ \n            throw new IndexOutOfBoundsException();\n        }\n    }\n}\n</code></pre>\n<p>I don't understand why there is a return type at all. I tried googling and chatGPTing without success.</p>\n"},{"tags":["java","javafx","sdk","gluon"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1689447836,"post_id":76694265,"comment_id":135216112,"body_markdown":"See [_Getting Started with JavaFX_](https://openjfx.io/openjfx-docs/) in the [tag:javafx] tag [info](https://stackoverflow.com/tags/javafx/info); I keep mine in `/Users/Shared`.","body":"See <a href=\"https://openjfx.io/openjfx-docs/\" rel=\"nofollow noreferrer\"><i>Getting Started with JavaFX</i></a> in the <a href=\"https://stackoverflow.com/questions/tagged/javafx\">javafx</a> tag <a href=\"https://stackoverflow.com/tags/javafx/info\">info</a>; I keep mine in <code>&#47;Users&#47;Shared</code>."}],"owner":{"account_id":28782442,"reputation":11,"user_id":22043770,"display_name":"Efendo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1689432035,"creation_date":1689432035,"question_id":76694265,"body_markdown":"does the JFX-SDK also include the java and javac binarys? im asking since in netbeans the Build native executable option is grayed out. If yes, do i have to move it to the Java Virtual Machines Folder on my mac?\r\n\r\ni put it in my system path but it still doesnt work","title":"Is the Gluon JavaFX-SDK a JDK like thing","body":"<p>does the JFX-SDK also include the java and javac binarys? im asking since in netbeans the Build native executable option is grayed out. If yes, do i have to move it to the Java Virtual Machines Folder on my mac?</p>\n<p>i put it in my system path but it still doesnt work</p>\n"},{"tags":["java","spring-boot","boxsdk"],"owner":{"account_id":19812989,"reputation":1,"user_id":14526312,"display_name":"Rishil Boddula"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689431711,"creation_date":1689398013,"question_id":76692310,"body_markdown":"I am developing an application in spring-boot which uploads the file in a searched folder. Even though I have followed all instructions given the program is not working. It is not  identifying the folder even though the folder is present.     \r\n\r\n\r\n\r\n```\r\npackage com.example.demo;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestParam;\r\nimport org.springframework.web.bind.annotation.RestController;\r\nimport org.springframework.web.multipart.MultipartFile;\r\n\r\nimport com.box.sdk.BoxAPIConnection;\r\nimport com.box.sdk.BoxAPIException;\r\nimport com.box.sdk.BoxFile;\r\nimport com.box.sdk.BoxFolder;\r\nimport com.box.sdk.BoxItem;\r\nimport com.box.sdk.BoxSearch;\r\nimport com.box.sdk.BoxSearchParameters;\r\nimport com.box.sdk.PartialCollection;\r\n\r\n\r\n@RestController\r\npublic class Upload_file {\r\n\t@Autowired //using @Autowired we can automatically inherit the properties of componnent class,i.e we can automatically wire/inject dependencies into the class without explicit instantion or congiguration\r\n\tConfig_file cf;\r\n\t\r\n\t@PostMapping(&quot;/upLoad&quot;)//we put the path for this conntroller\r\n\tpublic String upload(@RequestParam(&quot;file&quot;) MultipartFile file){\r\n\t\t\r\n\t\tBoxAPIConnection api = cf.create();//we create api using create method mentioned in cONFIG_FILE COMPONENT CLASS\r\n\t\tSystem.out.println(api.getAccessToken());\r\n\t\tSystem.out.println(&quot;Connection established&quot;);\r\n\t\t\r\n        \r\n\t\ttry {\r\n\t\t\tSystem.out.println(&quot;Entering try block&quot;);\r\n\t        \r\n\t\t\tlong offsetValue = 0;\r\n\t\t\tlong limitValue = 100;\r\n\t\t\tBoxSearch boxSearch = new BoxSearch(api);//api.getAccessToken()\r\n\t\t\tSystem.out.println(&quot;Box Search API  &quot;+boxSearch.getAPI());\r\n\t\t\tBoxSearchParameters searchParams = new BoxSearchParameters();\r\n\t\t\tsearchParams.setQuery(&quot;Rishil_testing&quot;);\r\n\t\t\tsearchParams.setType(&quot;folder&quot;);\r\n\t\t\tSystem.out.println(&quot;Folder set&quot;);\r\n\t\t\tSystem.out.println(&quot;Set query type and type: &quot;+searchParams.getType());\r\n\t\t\t\r\n\t\t\tPartialCollection&lt;BoxItem.Info&gt; searchResults = boxSearch.searchRange(offsetValue, limitValue, searchParams);\r\n\t\t\tSystem.out.println(&quot;Defining Partila Collection&quot;);\r\n\t\t\tBoxFolder rootFolder=  BoxFolder.getRootFolder(api);\r\n\t\t\tSystem.out.println(&quot; root folder Defined&quot;);\r\n\t\t\t\r\n\t\t\tSystem.out.println(&quot;entering for loop &quot;+searchResults.size());\r\n\t\t\t\r\n\t\t\tfor ( BoxItem.Info  iteminfo : searchResults) {\r\n\t\t\t\tSystem.out.println(&quot;inside for loop&quot;);\r\n\t\t\t\tif(iteminfo instanceof BoxFolder.Info) {\r\n\t\t\t\t\tSystem.out.println(&quot;hiiiiiii222222222&quot;);\r\n\r\n\t\t\t\t\tBoxFolder.Info folderinfo=(BoxFolder.Info) iteminfo;\r\n\t\t\t\t\tSystem.out.println(&quot;hiiiiiii111111111 folderinfo.getID(): &quot;+folderinfo.getID());\r\n\t\t\t\t\tBoxFolder folder=new BoxFolder(api,folderinfo.getID());\r\n\t\t\t\t\tSystem.out.println(&quot;hiiiiiii333333333&quot;);\r\n\t\t\t\t\tBoxFile.Info fileInfo = folder.uploadFile(file.getInputStream(), file.getName());\r\n\t\t\t\t\tSystem.out.println(&quot;hiiiiiii444444444&quot;);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch (BoxAPIException e) {\r\n\t\t    System.out.println(&quot;Box API Exception: &quot; + e.getMessage());\r\n\t\t    e.printStackTrace();\r\n\t\t}\r\n\t\tcatch(Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn &quot;File uploaded successfully tis time&quot;;\r\n\t\t\r\n\t}\r\n\r\n}\r\n```\r\n\r\n\r\nI tried all the following methods-\r\n\r\n1. Verify the search query and folder type: Double-check the values you set for the search query and folder type (**`&quot;Rishil_testing&quot;`** and **`&quot;folder&quot;`** respectively). Ensure that the folder you are searching for matches the query and has the correct type.\r\n\r\n2. Check the authentication and permissions: Make sure that the API connection (**`BoxAPIConnection`**) used for searching and accessing the folder has the necessary authentication credentials and sufficient permissions to perform the operations. Ensure that you have proper authentication and access token handling in place.\r\n\r\n3. Confirm the folder ID: Check if the folder ID you are using to create the **`BoxFolder`** object is correct. Verify that the folder ID corresponds to the desired folder you want to upload the file to.\r\n\r\n4. Handle errors and exceptions: Surround the code block within the for loop with try-catch blocks to handle any exceptions that may occur during the folder identification or file upload process. Log any exceptions or error messages to understand the cause of the issue.\r\n\r\n5. Debug and log messages: Use logging statements or debugging tools to trace the execution flow and print relevant information. This will help you identify any intermediate states or variables that might be causing the problem.\r\n\r\n6. Test with a different folder: Try searching and uploading the file to a different folder to see if the issue persists. This can help determine if the problem is specific to the folder you are currently targeting.\r\n\r\n7. Validate API responses: Print or log the API responses or information retrieved during the search process. This will provide insights into the data received from the API and help identify any inconsistencies or unexpected results.\r\n\r\nBy following these suggestions, you should be able to pinpoint the issue and resolve it. If the problem persists, consider sharing more details about your code, any error messages or exceptions you encounter, and the specific API or SDK you are using. This additional information can help in providing more targeted assistance.","title":"The program is unable to identify the folder while performing an operation on selecting the folder and uploading the file on BOX java sdk","body":"<p>I am developing an application in spring-boot which uploads the file in a searched folder. Even though I have followed all instructions given the program is not working. It is not  identifying the folder even though the folder is present.</p>\n<pre><code>package com.example.demo;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport org.springframework.web.bind.annotation.RestController;\nimport org.springframework.web.multipart.MultipartFile;\n\nimport com.box.sdk.BoxAPIConnection;\nimport com.box.sdk.BoxAPIException;\nimport com.box.sdk.BoxFile;\nimport com.box.sdk.BoxFolder;\nimport com.box.sdk.BoxItem;\nimport com.box.sdk.BoxSearch;\nimport com.box.sdk.BoxSearchParameters;\nimport com.box.sdk.PartialCollection;\n\n\n@RestController\npublic class Upload_file {\n    @Autowired //using @Autowired we can automatically inherit the properties of componnent class,i.e we can automatically wire/inject dependencies into the class without explicit instantion or congiguration\n    Config_file cf;\n    \n    @PostMapping(&quot;/upLoad&quot;)//we put the path for this conntroller\n    public String upload(@RequestParam(&quot;file&quot;) MultipartFile file){\n        \n        BoxAPIConnection api = cf.create();//we create api using create method mentioned in cONFIG_FILE COMPONENT CLASS\n        System.out.println(api.getAccessToken());\n        System.out.println(&quot;Connection established&quot;);\n        \n        \n        try {\n            System.out.println(&quot;Entering try block&quot;);\n            \n            long offsetValue = 0;\n            long limitValue = 100;\n            BoxSearch boxSearch = new BoxSearch(api);//api.getAccessToken()\n            System.out.println(&quot;Box Search API  &quot;+boxSearch.getAPI());\n            BoxSearchParameters searchParams = new BoxSearchParameters();\n            searchParams.setQuery(&quot;Rishil_testing&quot;);\n            searchParams.setType(&quot;folder&quot;);\n            System.out.println(&quot;Folder set&quot;);\n            System.out.println(&quot;Set query type and type: &quot;+searchParams.getType());\n            \n            PartialCollection&lt;BoxItem.Info&gt; searchResults = boxSearch.searchRange(offsetValue, limitValue, searchParams);\n            System.out.println(&quot;Defining Partila Collection&quot;);\n            BoxFolder rootFolder=  BoxFolder.getRootFolder(api);\n            System.out.println(&quot; root folder Defined&quot;);\n            \n            System.out.println(&quot;entering for loop &quot;+searchResults.size());\n            \n            for ( BoxItem.Info  iteminfo : searchResults) {\n                System.out.println(&quot;inside for loop&quot;);\n                if(iteminfo instanceof BoxFolder.Info) {\n                    System.out.println(&quot;hiiiiiii222222222&quot;);\n\n                    BoxFolder.Info folderinfo=(BoxFolder.Info) iteminfo;\n                    System.out.println(&quot;hiiiiiii111111111 folderinfo.getID(): &quot;+folderinfo.getID());\n                    BoxFolder folder=new BoxFolder(api,folderinfo.getID());\n                    System.out.println(&quot;hiiiiiii333333333&quot;);\n                    BoxFile.Info fileInfo = folder.uploadFile(file.getInputStream(), file.getName());\n                    System.out.println(&quot;hiiiiiii444444444&quot;);\n                }\n            }\n        }\n        catch (BoxAPIException e) {\n            System.out.println(&quot;Box API Exception: &quot; + e.getMessage());\n            e.printStackTrace();\n        }\n        catch(Exception e) {\n            e.printStackTrace();\n        }\n        return &quot;File uploaded successfully tis time&quot;;\n        \n    }\n\n}\n</code></pre>\n<p>I tried all the following methods-</p>\n<ol>\n<li><p>Verify the search query and folder type: Double-check the values you set for the search query and folder type (<strong><code>&quot;Rishil_testing&quot;</code></strong> and <strong><code>&quot;folder&quot;</code></strong> respectively). Ensure that the folder you are searching for matches the query and has the correct type.</p>\n</li>\n<li><p>Check the authentication and permissions: Make sure that the API connection (<strong><code>BoxAPIConnection</code></strong>) used for searching and accessing the folder has the necessary authentication credentials and sufficient permissions to perform the operations. Ensure that you have proper authentication and access token handling in place.</p>\n</li>\n<li><p>Confirm the folder ID: Check if the folder ID you are using to create the <strong><code>BoxFolder</code></strong> object is correct. Verify that the folder ID corresponds to the desired folder you want to upload the file to.</p>\n</li>\n<li><p>Handle errors and exceptions: Surround the code block within the for loop with try-catch blocks to handle any exceptions that may occur during the folder identification or file upload process. Log any exceptions or error messages to understand the cause of the issue.</p>\n</li>\n<li><p>Debug and log messages: Use logging statements or debugging tools to trace the execution flow and print relevant information. This will help you identify any intermediate states or variables that might be causing the problem.</p>\n</li>\n<li><p>Test with a different folder: Try searching and uploading the file to a different folder to see if the issue persists. This can help determine if the problem is specific to the folder you are currently targeting.</p>\n</li>\n<li><p>Validate API responses: Print or log the API responses or information retrieved during the search process. This will provide insights into the data received from the API and help identify any inconsistencies or unexpected results.</p>\n</li>\n</ol>\n<p>By following these suggestions, you should be able to pinpoint the issue and resolve it. If the problem persists, consider sharing more details about your code, any error messages or exceptions you encounter, and the specific API or SDK you are using. This additional information can help in providing more targeted assistance.</p>\n"},{"tags":["java","ssl","jedis"],"comments":[{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":1,"creation_date":1689442140,"post_id":76694225,"comment_id":135215461,"body_markdown":"The TLS protocols provide for the server, when requesting client authentication, to specify the CA(s) it wants the client cert to use; that info is passed to X509[Extended]KeyManager as &#39;principals&#39; for it to use in choosing the cert-and-key. I don&#39;t know redis but according to doc at redis.io it uses OpenSSL, and OpenSSL by default does NOT implement this &#39;desired CA&#39; information. You could confirm this by (temporarily) setting sysprop `javax.net.debug=ssl,handshake` in your client, or by getting an external trace with wireshark or similar.","body":"The TLS protocols provide for the server, when requesting client authentication, to specify the CA(s) it wants the client cert to use; that info is passed to X509[Extended]KeyManager as &#39;principals&#39; for it to use in choosing the cert-and-key. I don&#39;t know redis but according to doc at redis.io it uses OpenSSL, and OpenSSL by default does NOT implement this &#39;desired CA&#39; information. You could confirm this by (temporarily) setting sysprop <code>javax.net.debug=ssl,handshake</code> in your client, or by getting an external trace with wireshark or similar."},{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":1,"creation_date":1689442295,"post_id":76694225,"comment_id":135215484,"body_markdown":"... If so, yes you will need a different KeyManager (and thus context and socketfactory) for each server where you want to use a different cert. These could be instances of a custom KeyManager that selects the correct entry from a common keystore, or it might be easier to create multiple in-memory keystores each with only one cert, and instantiate the standard KeyManager for each of those keystores.","body":"... If so, yes you will need a different KeyManager (and thus context and socketfactory) for each server where you want to use a different cert. These could be instances of a custom KeyManager that selects the correct entry from a common keystore, or it might be easier to create multiple in-memory keystores each with only one cert, and instantiate the standard KeyManager for each of those keystores."},{"owner":{"account_id":15773280,"reputation":31,"user_id":11381698,"display_name":"NPC"},"score":0,"creation_date":1689455980,"post_id":76694225,"comment_id":135216942,"body_markdown":"@dave_thompson_085 Thanks man! Stackoverflow is always a 50/50 on whether people will provide helpful responses or just close out the question, and your response was super solid in helping me understand what&#39;s going on.","body":"@dave_thompson_085 Thanks man! Stackoverflow is always a 50/50 on whether people will provide helpful responses or just close out the question, and your response was super solid in helping me understand what&#39;s going on."},{"owner":{"account_id":9107988,"reputation":3190,"user_id":6777695,"display_name":"Hakan54"},"score":1,"creation_date":1689547055,"post_id":76694225,"comment_id":135224925,"body_markdown":"@NPC This might work: https://github.com/Hakky54/sslcontext-kickstart#routing-identity-material-to-specific-host It is possible to specify which alias it should use for a specific hosts. So there is no need to recreate a new sslcontext for each clean targetting a different server. I have used this setup with a traditional client/servver setup and it worked, so I assume it will also work for Jedis, can you maybe give it a try?","body":"@NPC This might work: <a href=\"https://github.com/Hakky54/sslcontext-kickstart#routing-identity-material-to-specific-host\" rel=\"nofollow noreferrer\">github.com/Hakky54/&hellip;</a> It is possible to specify which alias it should use for a specific hosts. So there is no need to recreate a new sslcontext for each clean targetting a different server. I have used this setup with a traditional client/servver setup and it worked, so I assume it will also work for Jedis, can you maybe give it a try?"},{"owner":{"account_id":15773280,"reputation":31,"user_id":11381698,"display_name":"NPC"},"score":0,"creation_date":1689549614,"post_id":76694225,"comment_id":135225096,"body_markdown":"@Hakan54  Yeah that would also work, I see what that&#39;s doing for matching the hosts to aliases and it&#39;s a pretty nifty idea. I&#39;m surprised Java doesn&#39;t have built-in functions for that already, it seems like that should be a core feature.","body":"@Hakan54  Yeah that would also work, I see what that&#39;s doing for matching the hosts to aliases and it&#39;s a pretty nifty idea. I&#39;m surprised Java doesn&#39;t have built-in functions for that already, it seems like that should be a core feature."},{"owner":{"account_id":9107988,"reputation":3190,"user_id":6777695,"display_name":"Hakan54"},"score":1,"creation_date":1689576734,"post_id":76694225,"comment_id":135227372,"body_markdown":"Java normally just picks the first alias which matches the authentication type. If you happen to have more keys which only works for some target servers it just does not work out of the box. I didn&#39;t liked the idea of recreating a sslcontext for every connection having a different key, so I thought this would be a good idea. It is just routing the alias to the correct url.","body":"Java normally just picks the first alias which matches the authentication type. If you happen to have more keys which only works for some target servers it just does not work out of the box. I didn&#39;t liked the idea of recreating a sslcontext for every connection having a different key, so I thought this would be a good idea. It is just routing the alias to the correct url."}],"owner":{"account_id":15773280,"reputation":31,"user_id":11381698,"display_name":"NPC"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1689431603,"creation_date":1689431363,"question_id":76694225,"body_markdown":"I&#39;m trying to connect to Redis using TLS, and it works fine for a keystore that has only a single cert inside of it.\r\n\r\nThe problem is, if I have multiple certs imported to my keystore, how does it know to choose the correct alias to pull the correct key?\r\n\r\nI implemented my own X509KeyManager to see how it works, and the `chooseClientAlias(String[] strings, Principal[] prncpls, Socket socket)`\r\nmethod appears to be passed an empty array for prncples, which I&#39;d presume would be how it could tell what cert to use.\r\n\r\nBut since that is empty, it simply returns whatever the first alias is that matches the keytype specified in the strings input, aka RSA, and that first alias might not be the correct one (which then ends up with it picking the incorrect key, and the ssl connection fails).\r\n\r\nIs there something I&#39;m misunderstanding about how this should be working to choose the correct alias for the connection, like do I need to be creating a different SSL Socket Factory &amp; KeyManager for every SSL application I interface with, and explicitly specify the alias to use? Sorry, I&#39;m not super well versed in TLS with java. Thanks.\r\n\r\n---\r\n\r\nCommands I used to generate the certs (ran this twice to create the real test cert, and a random fake cert which I imported after the real one to test if it would pick the right alias):\r\n\r\n```\r\nCreate CA:\r\n===\r\n&quot;C:\\Program Files\\Git\\mingw64\\bin\\openssl.exe&quot; genrsa -out ca.key 2048\r\n&quot;C:\\Program Files\\Git\\mingw64\\bin\\openssl.exe&quot; req -new -x509 -sha256 -key ca.key -out ca.crt\r\n\r\nCreate Redis Server Cert:\r\n===\r\n&quot;C:\\Program Files\\Git\\mingw64\\bin\\openssl.exe&quot; genrsa -out redis.key\r\n&quot;C:\\Program Files\\Git\\mingw64\\bin\\openssl.exe&quot; req -new -sha256 -key redis.key -out redis.csr\r\n&quot;C:\\Program Files\\Git\\mingw64\\bin\\openssl.exe&quot; x509 -req -in redis.csr -CA ca.crt -CAkey ca.key -CAcreateserial -out redis.crt -days 1000 -sha256\r\n\r\nCreate Client:\r\n===\r\n&quot;C:\\Program Files\\Git\\mingw64\\bin\\openssl.exe&quot; genrsa -out client1.key 2048\r\n&quot;C:\\Program Files\\Git\\mingw64\\bin\\openssl.exe&quot; req -new -sha256 -key client1.key -out client1.csr\r\n&quot;C:\\Program Files\\Git\\mingw64\\bin\\openssl.exe&quot; x509 -req -in client1.csr -CA ca.crt -CAkey ca.key -CAcreateserial -out client1.crt -days 1000 -sha256\r\n```\r\n\r\nCommands I used to import the certs to a keystore:\r\n\r\n```\r\nAdd ca to truststore:\r\n=====\r\nkeytool -import -alias redisCA -keystore keystore.jks -file ca.crt\r\n\r\ngenerate pkcs12:\r\n=====\r\nopenssl pkcs12 -export -in client1.crt -inkey client1.key -out keystore.p12 -name my_cert\r\n\r\nImport pkcs12 cert/key to keystore:\r\n=====\r\nkeytool -importkeystore -destkeystore keystore.jks -srckeystore keystore.p12 -srcstoretype PKCS12 -alias my_cert\r\n```\r\n\r\nCode I used to interface with Redis (taken basically straight off their websites example):\r\n\r\n```\r\npublic void testWithTls() throws IOException, GeneralSecurityException {\r\n        HostAndPort address = new HostAndPort(&quot;localhost&quot;, 6379);\r\n        \r\n        SSLSocketFactory sslFactory = createSslSocketFactory(\r\n                &quot;D:\\\\tmp\\\\keystore.jks&quot;,\r\n                &quot;123456&quot;,\r\n                &quot;D:\\\\tmp\\\\keystore.jks&quot;,\r\n                &quot;123456&quot;\r\n        );\r\n\r\n        JedisClientConfig config = DefaultJedisClientConfig.builder()\r\n                .ssl(true).sslSocketFactory(sslFactory)\r\n                .build();\r\n\r\n        JedisPooled jedis = new JedisPooled(address, config);\r\n        jedis.set(&quot;foo&quot;, &quot;bar&quot;);\r\n        System.out.println(jedis.get(&quot;foo&quot;)); // prints bar\r\n}\r\n   \r\nprivate static SSLSocketFactory createSslSocketFactory(\r\n            String caCertPath, String caCertPassword, String userCertPath, String userCertPassword)\r\n            throws IOException, GeneralSecurityException {\r\n\r\n        KeyStore keyStore = KeyStore.getInstance(KeyStore.getDefaultType());\r\n        keyStore.load(new FileInputStream(userCertPath), userCertPassword.toCharArray());\r\n\r\n        KeyStore trustStore = KeyStore.getInstance(KeyStore.getDefaultType());\r\n        trustStore.load(new FileInputStream(caCertPath), caCertPassword.toCharArray());\r\n\r\n        TrustManagerFactory trustManagerFactory = TrustManagerFactory.getInstance(&quot;SunX509&quot;);\r\n        trustManagerFactory.init(trustStore);\r\n\r\n        KeyManagerFactory keyManagerFactory = KeyManagerFactory.getInstance(&quot;SunX509&quot;);\r\n        keyManagerFactory.init(keyStore, userCertPassword.toCharArray());\r\n\r\n        SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\r\n        sslContext.init(keyManagerFactory.getKeyManagers(), trustManagerFactory.getTrustManagers(), null);\r\n\r\n        return sslContext.getSocketFactory();\r\n}\r\n```\r\n\r\nInformation:\r\n\r\n```\r\nJedis version: 4.4.3\r\nRedis Docker container version: redis:7.0.10\r\nRedis Docker container run command: `redis-server --tls-port 6379 --port 0 --tls-cert-file /tls/redis.crt --tls-key-file /tls/redis.key --tls-ca-cert-file /tls/ca.crt --loglevel warning`\r\nWhy am I using a jks store and not the p12: Because thats what the company I work at uses\r\n```","title":"With Jedis in Java, how can it choose the correct alias for SSL if you have multiple keys in your keystore?","body":"<p>I'm trying to connect to Redis using TLS, and it works fine for a keystore that has only a single cert inside of it.</p>\n<p>The problem is, if I have multiple certs imported to my keystore, how does it know to choose the correct alias to pull the correct key?</p>\n<p>I implemented my own X509KeyManager to see how it works, and the <code>chooseClientAlias(String[] strings, Principal[] prncpls, Socket socket)</code>\nmethod appears to be passed an empty array for prncples, which I'd presume would be how it could tell what cert to use.</p>\n<p>But since that is empty, it simply returns whatever the first alias is that matches the keytype specified in the strings input, aka RSA, and that first alias might not be the correct one (which then ends up with it picking the incorrect key, and the ssl connection fails).</p>\n<p>Is there something I'm misunderstanding about how this should be working to choose the correct alias for the connection, like do I need to be creating a different SSL Socket Factory &amp; KeyManager for every SSL application I interface with, and explicitly specify the alias to use? Sorry, I'm not super well versed in TLS with java. Thanks.</p>\n<hr />\n<p>Commands I used to generate the certs (ran this twice to create the real test cert, and a random fake cert which I imported after the real one to test if it would pick the right alias):</p>\n<pre><code>Create CA:\n===\n&quot;C:\\Program Files\\Git\\mingw64\\bin\\openssl.exe&quot; genrsa -out ca.key 2048\n&quot;C:\\Program Files\\Git\\mingw64\\bin\\openssl.exe&quot; req -new -x509 -sha256 -key ca.key -out ca.crt\n\nCreate Redis Server Cert:\n===\n&quot;C:\\Program Files\\Git\\mingw64\\bin\\openssl.exe&quot; genrsa -out redis.key\n&quot;C:\\Program Files\\Git\\mingw64\\bin\\openssl.exe&quot; req -new -sha256 -key redis.key -out redis.csr\n&quot;C:\\Program Files\\Git\\mingw64\\bin\\openssl.exe&quot; x509 -req -in redis.csr -CA ca.crt -CAkey ca.key -CAcreateserial -out redis.crt -days 1000 -sha256\n\nCreate Client:\n===\n&quot;C:\\Program Files\\Git\\mingw64\\bin\\openssl.exe&quot; genrsa -out client1.key 2048\n&quot;C:\\Program Files\\Git\\mingw64\\bin\\openssl.exe&quot; req -new -sha256 -key client1.key -out client1.csr\n&quot;C:\\Program Files\\Git\\mingw64\\bin\\openssl.exe&quot; x509 -req -in client1.csr -CA ca.crt -CAkey ca.key -CAcreateserial -out client1.crt -days 1000 -sha256\n</code></pre>\n<p>Commands I used to import the certs to a keystore:</p>\n<pre><code>Add ca to truststore:\n=====\nkeytool -import -alias redisCA -keystore keystore.jks -file ca.crt\n\ngenerate pkcs12:\n=====\nopenssl pkcs12 -export -in client1.crt -inkey client1.key -out keystore.p12 -name my_cert\n\nImport pkcs12 cert/key to keystore:\n=====\nkeytool -importkeystore -destkeystore keystore.jks -srckeystore keystore.p12 -srcstoretype PKCS12 -alias my_cert\n</code></pre>\n<p>Code I used to interface with Redis (taken basically straight off their websites example):</p>\n<pre><code>public void testWithTls() throws IOException, GeneralSecurityException {\n        HostAndPort address = new HostAndPort(&quot;localhost&quot;, 6379);\n        \n        SSLSocketFactory sslFactory = createSslSocketFactory(\n                &quot;D:\\\\tmp\\\\keystore.jks&quot;,\n                &quot;123456&quot;,\n                &quot;D:\\\\tmp\\\\keystore.jks&quot;,\n                &quot;123456&quot;\n        );\n\n        JedisClientConfig config = DefaultJedisClientConfig.builder()\n                .ssl(true).sslSocketFactory(sslFactory)\n                .build();\n\n        JedisPooled jedis = new JedisPooled(address, config);\n        jedis.set(&quot;foo&quot;, &quot;bar&quot;);\n        System.out.println(jedis.get(&quot;foo&quot;)); // prints bar\n}\n   \nprivate static SSLSocketFactory createSslSocketFactory(\n            String caCertPath, String caCertPassword, String userCertPath, String userCertPassword)\n            throws IOException, GeneralSecurityException {\n\n        KeyStore keyStore = KeyStore.getInstance(KeyStore.getDefaultType());\n        keyStore.load(new FileInputStream(userCertPath), userCertPassword.toCharArray());\n\n        KeyStore trustStore = KeyStore.getInstance(KeyStore.getDefaultType());\n        trustStore.load(new FileInputStream(caCertPath), caCertPassword.toCharArray());\n\n        TrustManagerFactory trustManagerFactory = TrustManagerFactory.getInstance(&quot;SunX509&quot;);\n        trustManagerFactory.init(trustStore);\n\n        KeyManagerFactory keyManagerFactory = KeyManagerFactory.getInstance(&quot;SunX509&quot;);\n        keyManagerFactory.init(keyStore, userCertPassword.toCharArray());\n\n        SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\n        sslContext.init(keyManagerFactory.getKeyManagers(), trustManagerFactory.getTrustManagers(), null);\n\n        return sslContext.getSocketFactory();\n}\n</code></pre>\n<p>Information:</p>\n<pre><code>Jedis version: 4.4.3\nRedis Docker container version: redis:7.0.10\nRedis Docker container run command: `redis-server --tls-port 6379 --port 0 --tls-cert-file /tls/redis.crt --tls-key-file /tls/redis.key --tls-ca-cert-file /tls/ca.crt --loglevel warning`\nWhy am I using a jks store and not the p12: Because thats what the company I work at uses\n</code></pre>\n"},{"tags":["java","kotlin","gradle","android-gradle-plugin","gradle-plugin"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1682081817,"post_id":76073318,"comment_id":134163821,"body_markdown":"You need to provide a [mre] and the full exception stacktrace. There are a number of breaking changes in Gradle 8, so maybe you&#39;re using a plugin or something else which is not (yet) compatible with Gradle 8.","body":"You need to provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and the full exception stacktrace. There are a number of breaking changes in Gradle 8, so maybe you&#39;re using a plugin or something else which is not (yet) compatible with Gradle 8."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1682084160,"post_id":76073318,"comment_id":134164399,"body_markdown":"And the full exception stacktrace?","body":"And the full exception stacktrace?"},{"owner":{"account_id":5909013,"reputation":1410,"user_id":4649860,"display_name":"Chirag Thummar"},"score":0,"creation_date":1682090692,"post_id":76073318,"comment_id":134165999,"body_markdown":"It is in cipher form because I have enabled R8. Although I&#39;ll share it","body":"It is in cipher form because I have enabled R8. Although I&#39;ll share it"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1682158626,"post_id":76073318,"comment_id":134173627,"body_markdown":"Add it to the question itself, not in comments.","body":"Add it to the question itself, not in comments."}],"answers":[{"comments":[{"owner":{"account_id":5909013,"reputation":1410,"user_id":4649860,"display_name":"Chirag Thummar"},"score":1,"creation_date":1682403100,"post_id":76073611,"comment_id":134205178,"body_markdown":"Solved By Adding Proguard Rules","body":"Solved By Adding Proguard Rules"},{"owner":{"account_id":10380997,"reputation":91,"user_id":7655782,"display_name":"Michael Winkler"},"score":0,"creation_date":1682406398,"post_id":76073611,"comment_id":134205693,"body_markdown":"@chiragthummar Can you share your complete rules file? Got the same problem","body":"@chiragthummar Can you share your complete rules file? Got the same problem"},{"owner":{"account_id":5909013,"reputation":1410,"user_id":4649860,"display_name":"Chirag Thummar"},"score":0,"creation_date":1682410042,"post_id":76073611,"comment_id":134206499,"body_markdown":"@MichaelWinkler find it on my original questions I added a solution there. The issue is because of parcelize plugin if you have used it.","body":"@MichaelWinkler find it on my original questions I added a solution there. The issue is because of parcelize plugin if you have used it."},{"owner":{"account_id":1799622,"reputation":5635,"user_id":1638277,"accept_rate":59,"display_name":"avianey"},"score":1,"creation_date":1682488011,"post_id":76073611,"comment_id":134221876,"body_markdown":"https://github.com/square/retrofit/issues/3880","body":"<a href=\"https://github.com/square/retrofit/issues/3880\" rel=\"nofollow noreferrer\">github.com/square/retrofit/issues/3880</a>"}],"tags":[],"owner":{"account_id":25917617,"reputation":86,"user_id":19640780,"display_name":"Cosmin Drăguşanu"},"comment_count":4,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1682083541,"creation_date":1682083541,"answer_id":76073611,"question_id":76073318,"body_markdown":"Most probably you are using a plugin that is not compatible with Gradle 8.0. If it is not necessary to upgrade to Gradle 8.0 I suggest you downgrade back to 7.4.2 until those plugins will become compatible . Another way would be to check the plugins that would not be compatible and try to replace them when they can be added. ","title":"Upgrading Gradle from 7.4.2 to Gradle 8.0.0 gives error on release app - java.lang.ClassCastException","body":"<p>Most probably you are using a plugin that is not compatible with Gradle 8.0. If it is not necessary to upgrade to Gradle 8.0 I suggest you downgrade back to 7.4.2 until those plugins will become compatible . Another way would be to check the plugins that would not be compatible and try to replace them when they can be added.</p>\n"},{"comments":[{"owner":{"account_id":7422609,"reputation":113,"user_id":5646338,"display_name":"HiddenCoder7"},"score":1,"creation_date":1682749674,"post_id":76100126,"comment_id":134267704,"body_markdown":"adding dontshrink dontobfuscate is not a good idea.","body":"adding dontshrink dontobfuscate is not a good idea."},{"owner":{"account_id":12633751,"reputation":757,"user_id":9184066,"display_name":"SaharVX9"},"score":0,"creation_date":1683131259,"post_id":76100126,"comment_id":134320549,"body_markdown":"all your progaurd are ignored by this items :\n-dontshrink\n-dontobfuscate","body":"all your progaurd are ignored by this items : -dontshrink -dontobfuscate"},{"owner":{"account_id":4760928,"reputation":2129,"user_id":3848334,"accept_rate":76,"display_name":"David"},"score":0,"creation_date":1690195774,"post_id":76100126,"comment_id":135314794,"body_markdown":"I think the &quot;***.R$*&quot; is not for parcelize plugin. it is for Android R file. Am I true?","body":"I think the &quot;<i>**.R$</i>&quot; is not for parcelize plugin. it is for Android R file. Am I true?"}],"tags":[],"owner":{"account_id":5909013,"reputation":1410,"user_id":4649860,"display_name":"Chirag Thummar"},"comment_count":3,"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1683178725,"creation_date":1682418239,"answer_id":76100126,"question_id":76073318,"body_markdown":"I was facing this issue because of the **Parcelize plugin**. I&#39;m using the Parcelize plugin to pass Custom Object ArrayList between activities.\r\n\r\nAfter a lot of trials finally found the solution of changing ***proguard-rules.pro*** files.\r\n\r\nHere is my content of ***proguard-rules.pro*** file\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    # Add project specific ProGuard rules here.\r\n    # You can control the set of applied configuration files using the\r\n    # proguardFiles setting in build.gradle.\r\n    #\r\n    # For more details, see\r\n    #   http://developer.android.com/guide/developing/tools/proguard.html\r\n    \r\n    # If your project uses WebView with JS, uncomment the following\r\n    # and specify the fully qualified class name to the JavaScript interface\r\n    # class:\r\n    #-keepclassmembers class fqcn.of.javascript.interface.for.webview {\r\n    #   public *;\r\n    #}\r\n    \r\n    # Uncomment this to preserve the line number information for\r\n    # debugging stack traces.\r\n    #-keepattributes SourceFile,LineNumberTable\r\n    \r\n    # If you keep the line number information, uncomment this to\r\n    # hide the original source file name.\r\n    #-renamesourcefileattribute SourceFile\r\n    \r\n    -dontwarn rx.**\r\n    \r\n    -dontwarn okio.**\r\n    \r\n    -dontwarn com.squareup.okhttp.**\r\n    -keep class com.squareup.okhttp.** { *; }\r\n    -keep interface com.squareup.okhttp.** { *; }\r\n    \r\n    -dontwarn retrofit.**\r\n    -keep class retrofit.** { *; }\r\n    -keepclasseswithmembers class * {\r\n        @retrofit.http.* &lt;methods&gt;;\r\n    }\r\n    \r\n    -keepattributes Signature\r\n    -keepattributes *Annotation*\r\n    \r\n    \r\n    -dontwarn javax.annotation.**\r\n    \r\n    # A resource is loaded with a relative path so the package of this class must be preserved.\r\n    -adaptresourcefilenames okhttp3/internal/publicsuffix/PublicSuffixDatabase.gz\r\n    \r\n    # Animal Sniffer compileOnly dependency to ensure APIs are compatible with older versions of Java.\r\n    -dontwarn org.codehaus.mojo.animal_sniffer.*\r\n    \r\n    # OkHttp platform used only on JVM and when Conscrypt and other security providers are available.\r\n    -dontwarn okhttp3.internal.platform.**\r\n    -dontwarn org.conscrypt.**\r\n    -dontwarn org.bouncycastle.**\r\n    -dontwarn org.openjsse.**\r\n    \r\n    -repackageclasses\r\n    -ignorewarnings\r\n    \r\n    # Retrofit does reflection on generic parameters. InnerClasses is required to use Signature and\r\n    # EnclosingMethod is required to use InnerClasses.\r\n    -keepattributes Signature, InnerClasses, EnclosingMethod\r\n    \r\n    # Retrofit does reflection on method and parameter annotations.\r\n    -keepattributes RuntimeVisibleAnnotations, RuntimeVisibleParameterAnnotations\r\n    \r\n    # Keep annotation default values (e.g., retrofit2.http.Field.encoded).\r\n    -keepattributes AnnotationDefault\r\n    \r\n    # Retain service method parameters when optimizing.\r\n    -keepclassmembers,allowshrinking,allowobfuscation interface * {\r\n        @retrofit2.http.* &lt;methods&gt;;\r\n    }\r\n    \r\n    # Ignore JSR 305 annotations for embedding nullability information.\r\n    -dontwarn javax.annotation.**\r\n    \r\n    # Guarded by a NoClassDefFoundError try/catch and only used when on the classpath.\r\n    -dontwarn kotlin.Unit\r\n    \r\n    # Top-level functions that can only be used by Kotlin.\r\n    -dontwarn retrofit2.KotlinExtensions\r\n    -dontwarn retrofit2.KotlinExtensions$*\r\n    \r\n    # With R8 full mode, it sees no subtypes of Retrofit interfaces since they are created with a Proxy\r\n    # and replaces all potential values with null. Explicitly keeping the interfaces prevents this.\r\n    -if interface * { @retrofit2.http.* &lt;methods&gt;; }\r\n    -keep,allowobfuscation interface &lt;1&gt;\r\n    \r\n    # Keep inherited services.\r\n    -if interface * { @retrofit2.http.* &lt;methods&gt;; }\r\n    -keep,allowobfuscation interface * extends &lt;1&gt;\r\n    \r\n    # Keep generic signature of Call, Response (R8 full mode strips signatures from non-kept items).\r\n    -keep,allowobfuscation,allowshrinking interface retrofit2.Call\r\n    -keep,allowobfuscation,allowshrinking class retrofit2.Response\r\n    \r\n    # With R8 full mode generic signatures are stripped for classes that are not\r\n    # kept. Suspend functions are wrapped in continuations where the type argument\r\n    # is used.\r\n    -keep,allowobfuscation,allowshrinking class kotlin.coroutines.Continuation\r\n    \r\n    \r\n    # Animal Sniffer compileOnly dependency to ensure APIs are compatible with older versions of Java.\r\n    -dontwarn org.codehaus.mojo.animal_sniffer.*\r\n    \r\n    #-keep public class com.itextpdf.**\r\n    -keep class com.itextpdf.** { *; }\r\n    -dontwarn com.itextpdf.*\r\n    \r\n    -renamesourcefileattribute SourceFile\r\n    \r\n    -dontwarn retrofit2.**\r\n    -keep class retrofit2.** {*;}\r\n    \r\n    ##---------------Begin: proguard configuration for Gson  ----------\r\n    # Gson uses generic type information stored in a class file when working with fields. Proguard\r\n    # removes such information by default, so configure it to keep all of it.\r\n    -keepattributes Signature\r\n    \r\n    # For using GSON @Expose annotation\r\n    -keepattributes *Annotation*\r\n    \r\n    # Gson specific classes\r\n    -dontwarn sun.misc.**\r\n    #-keep class com.google.gson.stream.** { *; }\r\n    \r\n    # Application classes that will be serialized/deserialized over Gson\r\n    -keep class com.google.gson.examples.android.model.** { &lt;fields&gt;; }\r\n    \r\n    # Prevent proguard from stripping interface information from TypeAdapter, TypeAdapterFactory,\r\n    # JsonSerializer, JsonDeserializer instances (so they can be used in @JsonAdapter)\r\n    -keep class * extends com.google.gson.TypeAdapter\r\n    -keep class * implements com.google.gson.TypeAdapterFactory\r\n    -keep class * implements com.google.gson.JsonSerializer\r\n    -keep class * implements com.google.gson.JsonDeserializer\r\n    \r\n    # Prevent R8 from leaving Data object members always null\r\n    -keepclassmembers,allowobfuscation class * {\r\n      @com.google.gson.annotations.SerializedName &lt;fields&gt;;\r\n    }\r\n    \r\n    \r\n    -keep class com.google.gson.reflect.TypeToken\r\n    -keep class * extends com.google.gson.reflect.TypeToken\r\n    -keep public class * implements java.lang.reflect.Type\r\n    \r\n    \r\n    # Retain generic signatures of TypeToken and its subclasses with R8 version 3.0 and higher.\r\n    -keep,allowobfuscation,allowshrinking class com.google.gson.reflect.TypeToken\r\n    -keep,allowobfuscation,allowshrinking class * extends com.google.gson.reflect.TypeToken\r\n    \r\n    ##---------------End: proguard configuration for Gson  ----------\r\n    -dontwarn org.slf4j.**\r\n    \r\n    -keepdirectories src/main/res/font/*\r\n    \r\n    \r\n    \r\n    -dontusemixedcaseclassnames\r\n    -verbose\r\n    -keepattributes *Annotation*\r\n    \r\n    # For native methods, see http://proguard.sourceforge.net/manual/examples.html#native\r\n    -keepclasseswithmembernames class * {\r\n        native &lt;methods&gt;;\r\n    }\r\n    \r\n    # keep setters in Views so that animations can still work.\r\n    # see http://proguard.sourceforge.net/manual/examples.html#beans\r\n    -keepclassmembers public class * extends android.view.View {\r\n       void set*(***);\r\n       *** get*();\r\n    }\r\n    \r\n    # We want to keep methods in Activity that could be used in the XML attribute onClick\r\n    -keepclassmembers class * extends android.app.Activity {\r\n       public void *(android.view.View);\r\n    }\r\n    \r\n    # For enumeration classes, see http://proguard.sourceforge.net/manual/examples.html#enumerations\r\n    -keepclassmembers enum * {\r\n        public static **[] values();\r\n        public static ** valueOf(java.lang.String);\r\n    }\r\n    \r\n    -keep class * implements android.os.Parcelable {\r\n      public static final android.os.Parcelable$Creator *;\r\n    }\r\n    \r\n    -keepclassmembers class **.R$* {\r\n        public static &lt;fields&gt;;\r\n    }\r\n    \r\n    # Firebase\r\n    -keep class com.google.android.gms.** { *; }\r\n    -keep class com.google.firebase.** { *; }\r\n    \r\n    # in order to provide the most meaningful crash reports, add the following line:\r\n    -keepattributes SourceFile,LineNumberTable\r\n    # If you are using custom exceptions, add this line so that custom exception types are skipped during obfuscation:\r\n    -keep public class * extends java.lang.Exception\r\n    \r\n    -keep class com.crashlytics.** { *; }\r\n    -dontwarn com.crashlytics.**\r\n    \r\n    # Jackson\r\n    -keep @com.fasterxml.jackson.annotation.JsonIgnoreProperties class * { *; }\r\n    -keep class com.fasterxml.** { *; }\r\n    -keep class org.codehaus.** { *; }\r\n    -keepnames class com.fasterxml.jackson.** { *; }\r\n    -keepclassmembers public final enum com.fasterxml.jackson.annotation.JsonAutoDetect$Visibility {\r\n        public static final com.fasterxml.jackson.annotation.JsonAutoDetect$Visibility *;\r\n    }\r\n    \r\n    # General\r\n    -keepattributes SourceFile,LineNumberTable,*Annotation*,EnclosingMethod,Signature,Exceptions,InnerClasses\r\n\r\n**This code is for parcelize plugin**\r\n\r\n    # For enumeration classes, see http://proguard.sourceforge.net/manual/examples.html#enumerations\r\n        -keepclassmembers enum * {\r\n            public static **[] values();\r\n            public static ** valueOf(java.lang.String);\r\n        }\r\n        \r\n        -keep class * implements android.os.Parcelable {\r\n          public static final android.os.Parcelable$Creator *;\r\n        }\r\n        \r\n        -keepclassmembers class **.R$* {\r\n            public static &lt;fields&gt;;\r\n        }","title":"Upgrading Gradle from 7.4.2 to Gradle 8.0.0 gives error on release app - java.lang.ClassCastException","body":"<p>I was facing this issue because of the <strong>Parcelize plugin</strong>. I'm using the Parcelize plugin to pass Custom Object ArrayList between activities.</p>\n<p>After a lot of trials finally found the solution of changing <em><strong>proguard-rules.pro</strong></em> files.</p>\n<p>Here is my content of <em><strong>proguard-rules.pro</strong></em> file</p>\n<pre><code># Add project specific ProGuard rules here.\n# You can control the set of applied configuration files using the\n# proguardFiles setting in build.gradle.\n#\n# For more details, see\n#   http://developer.android.com/guide/developing/tools/proguard.html\n\n# If your project uses WebView with JS, uncomment the following\n# and specify the fully qualified class name to the JavaScript interface\n# class:\n#-keepclassmembers class fqcn.of.javascript.interface.for.webview {\n#   public *;\n#}\n\n# Uncomment this to preserve the line number information for\n# debugging stack traces.\n#-keepattributes SourceFile,LineNumberTable\n\n# If you keep the line number information, uncomment this to\n# hide the original source file name.\n#-renamesourcefileattribute SourceFile\n\n-dontwarn rx.**\n\n-dontwarn okio.**\n\n-dontwarn com.squareup.okhttp.**\n-keep class com.squareup.okhttp.** { *; }\n-keep interface com.squareup.okhttp.** { *; }\n\n-dontwarn retrofit.**\n-keep class retrofit.** { *; }\n-keepclasseswithmembers class * {\n    @retrofit.http.* &lt;methods&gt;;\n}\n\n-keepattributes Signature\n-keepattributes *Annotation*\n\n\n-dontwarn javax.annotation.**\n\n# A resource is loaded with a relative path so the package of this class must be preserved.\n-adaptresourcefilenames okhttp3/internal/publicsuffix/PublicSuffixDatabase.gz\n\n# Animal Sniffer compileOnly dependency to ensure APIs are compatible with older versions of Java.\n-dontwarn org.codehaus.mojo.animal_sniffer.*\n\n# OkHttp platform used only on JVM and when Conscrypt and other security providers are available.\n-dontwarn okhttp3.internal.platform.**\n-dontwarn org.conscrypt.**\n-dontwarn org.bouncycastle.**\n-dontwarn org.openjsse.**\n\n-repackageclasses\n-ignorewarnings\n\n# Retrofit does reflection on generic parameters. InnerClasses is required to use Signature and\n# EnclosingMethod is required to use InnerClasses.\n-keepattributes Signature, InnerClasses, EnclosingMethod\n\n# Retrofit does reflection on method and parameter annotations.\n-keepattributes RuntimeVisibleAnnotations, RuntimeVisibleParameterAnnotations\n\n# Keep annotation default values (e.g., retrofit2.http.Field.encoded).\n-keepattributes AnnotationDefault\n\n# Retain service method parameters when optimizing.\n-keepclassmembers,allowshrinking,allowobfuscation interface * {\n    @retrofit2.http.* &lt;methods&gt;;\n}\n\n# Ignore JSR 305 annotations for embedding nullability information.\n-dontwarn javax.annotation.**\n\n# Guarded by a NoClassDefFoundError try/catch and only used when on the classpath.\n-dontwarn kotlin.Unit\n\n# Top-level functions that can only be used by Kotlin.\n-dontwarn retrofit2.KotlinExtensions\n-dontwarn retrofit2.KotlinExtensions$*\n\n# With R8 full mode, it sees no subtypes of Retrofit interfaces since they are created with a Proxy\n# and replaces all potential values with null. Explicitly keeping the interfaces prevents this.\n-if interface * { @retrofit2.http.* &lt;methods&gt;; }\n-keep,allowobfuscation interface &lt;1&gt;\n\n# Keep inherited services.\n-if interface * { @retrofit2.http.* &lt;methods&gt;; }\n-keep,allowobfuscation interface * extends &lt;1&gt;\n\n# Keep generic signature of Call, Response (R8 full mode strips signatures from non-kept items).\n-keep,allowobfuscation,allowshrinking interface retrofit2.Call\n-keep,allowobfuscation,allowshrinking class retrofit2.Response\n\n# With R8 full mode generic signatures are stripped for classes that are not\n# kept. Suspend functions are wrapped in continuations where the type argument\n# is used.\n-keep,allowobfuscation,allowshrinking class kotlin.coroutines.Continuation\n\n\n# Animal Sniffer compileOnly dependency to ensure APIs are compatible with older versions of Java.\n-dontwarn org.codehaus.mojo.animal_sniffer.*\n\n#-keep public class com.itextpdf.**\n-keep class com.itextpdf.** { *; }\n-dontwarn com.itextpdf.*\n\n-renamesourcefileattribute SourceFile\n\n-dontwarn retrofit2.**\n-keep class retrofit2.** {*;}\n\n##---------------Begin: proguard configuration for Gson  ----------\n# Gson uses generic type information stored in a class file when working with fields. Proguard\n# removes such information by default, so configure it to keep all of it.\n-keepattributes Signature\n\n# For using GSON @Expose annotation\n-keepattributes *Annotation*\n\n# Gson specific classes\n-dontwarn sun.misc.**\n#-keep class com.google.gson.stream.** { *; }\n\n# Application classes that will be serialized/deserialized over Gson\n-keep class com.google.gson.examples.android.model.** { &lt;fields&gt;; }\n\n# Prevent proguard from stripping interface information from TypeAdapter, TypeAdapterFactory,\n# JsonSerializer, JsonDeserializer instances (so they can be used in @JsonAdapter)\n-keep class * extends com.google.gson.TypeAdapter\n-keep class * implements com.google.gson.TypeAdapterFactory\n-keep class * implements com.google.gson.JsonSerializer\n-keep class * implements com.google.gson.JsonDeserializer\n\n# Prevent R8 from leaving Data object members always null\n-keepclassmembers,allowobfuscation class * {\n  @com.google.gson.annotations.SerializedName &lt;fields&gt;;\n}\n\n\n-keep class com.google.gson.reflect.TypeToken\n-keep class * extends com.google.gson.reflect.TypeToken\n-keep public class * implements java.lang.reflect.Type\n\n\n# Retain generic signatures of TypeToken and its subclasses with R8 version 3.0 and higher.\n-keep,allowobfuscation,allowshrinking class com.google.gson.reflect.TypeToken\n-keep,allowobfuscation,allowshrinking class * extends com.google.gson.reflect.TypeToken\n\n##---------------End: proguard configuration for Gson  ----------\n-dontwarn org.slf4j.**\n\n-keepdirectories src/main/res/font/*\n\n\n\n-dontusemixedcaseclassnames\n-verbose\n-keepattributes *Annotation*\n\n# For native methods, see http://proguard.sourceforge.net/manual/examples.html#native\n-keepclasseswithmembernames class * {\n    native &lt;methods&gt;;\n}\n\n# keep setters in Views so that animations can still work.\n# see http://proguard.sourceforge.net/manual/examples.html#beans\n-keepclassmembers public class * extends android.view.View {\n   void set*(***);\n   *** get*();\n}\n\n# We want to keep methods in Activity that could be used in the XML attribute onClick\n-keepclassmembers class * extends android.app.Activity {\n   public void *(android.view.View);\n}\n\n# For enumeration classes, see http://proguard.sourceforge.net/manual/examples.html#enumerations\n-keepclassmembers enum * {\n    public static **[] values();\n    public static ** valueOf(java.lang.String);\n}\n\n-keep class * implements android.os.Parcelable {\n  public static final android.os.Parcelable$Creator *;\n}\n\n-keepclassmembers class **.R$* {\n    public static &lt;fields&gt;;\n}\n\n# Firebase\n-keep class com.google.android.gms.** { *; }\n-keep class com.google.firebase.** { *; }\n\n# in order to provide the most meaningful crash reports, add the following line:\n-keepattributes SourceFile,LineNumberTable\n# If you are using custom exceptions, add this line so that custom exception types are skipped during obfuscation:\n-keep public class * extends java.lang.Exception\n\n-keep class com.crashlytics.** { *; }\n-dontwarn com.crashlytics.**\n\n# Jackson\n-keep @com.fasterxml.jackson.annotation.JsonIgnoreProperties class * { *; }\n-keep class com.fasterxml.** { *; }\n-keep class org.codehaus.** { *; }\n-keepnames class com.fasterxml.jackson.** { *; }\n-keepclassmembers public final enum com.fasterxml.jackson.annotation.JsonAutoDetect$Visibility {\n    public static final com.fasterxml.jackson.annotation.JsonAutoDetect$Visibility *;\n}\n\n# General\n-keepattributes SourceFile,LineNumberTable,*Annotation*,EnclosingMethod,Signature,Exceptions,InnerClasses\n</code></pre>\n<p><strong>This code is for parcelize plugin</strong></p>\n<pre><code># For enumeration classes, see http://proguard.sourceforge.net/manual/examples.html#enumerations\n    -keepclassmembers enum * {\n        public static **[] values();\n        public static ** valueOf(java.lang.String);\n    }\n    \n    -keep class * implements android.os.Parcelable {\n      public static final android.os.Parcelable$Creator *;\n    }\n    \n    -keepclassmembers class **.R$* {\n        public static &lt;fields&gt;;\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5909013,"reputation":1410,"user_id":4649860,"display_name":"Chirag Thummar"},"score":0,"creation_date":1684990131,"post_id":76328211,"comment_id":134598780,"body_markdown":"Sometimes there is a problem with @Keep so I have added my own script to skip Required classes from Proguards","body":"Sometimes there is a problem with @Keep so I have added my own script to skip Required classes from Proguards"},{"owner":{"account_id":4598289,"reputation":1210,"user_id":3763032,"accept_rate":62,"display_name":"mochadwi"},"score":0,"creation_date":1692605207,"post_id":76328211,"comment_id":135640873,"body_markdown":"keeping the interface also works for me through proguard-rules.pro `-keep interface company.package.** { *; }`","body":"keeping the interface also works for me through proguard-rules.pro <code>-keep interface company.package.** { *; }</code>"}],"tags":[],"owner":{"account_id":348776,"reputation":8185,"user_id":683658,"display_name":"Marco RS"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684975836,"creation_date":1684975294,"answer_id":76328211,"question_id":76073318,"body_markdown":"The posted solutions did not work for me after upgrading to AGP 8.0.1. I was still getting a ClassCastException for an interface that Retrofit creates and is provided through a Dagger Module. \r\n\r\nI was able to fix the`java.lang.ClassCastException` by using the  `@Keep` annotation. This will tell the compiler to keep the interface in the generated bytecode, even if it is not used anywhere else in your code.\r\n\r\nFor example:\r\n\r\n```\r\n@Keep\r\ninterface MyApi {\r\n  ...\r\n}\r\n```","title":"Upgrading Gradle from 7.4.2 to Gradle 8.0.0 gives error on release app - java.lang.ClassCastException","body":"<p>The posted solutions did not work for me after upgrading to AGP 8.0.1. I was still getting a ClassCastException for an interface that Retrofit creates and is provided through a Dagger Module.</p>\n<p>I was able to fix the<code>java.lang.ClassCastException</code> by using the  <code>@Keep</code> annotation. This will tell the compiler to keep the interface in the generated bytecode, even if it is not used anywhere else in your code.</p>\n<p>For example:</p>\n<pre><code>@Keep\ninterface MyApi {\n  ...\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5909013,"reputation":1410,"user_id":4649860,"display_name":"Chirag Thummar"},"score":0,"creation_date":1689583677,"post_id":76694211,"comment_id":135228645,"body_markdown":"Yes you can do this as well","body":"Yes you can do this as well"},{"owner":{"account_id":185012,"reputation":3371,"user_id":421467,"accept_rate":100,"display_name":"Dr.jacky"},"score":1,"creation_date":1691423731,"post_id":76694211,"comment_id":135486448,"body_markdown":"Still get the error: `Execution failed for task &#39;:app:minifyReleaseWithR8&#39;. A failure occurred while executing com.android.build.gradle.internal.tasks.R8Task$R8Runnable`; due to `ERROR: R8: Missing class com.google.errorprone.annotations.DoNotMock (referenced from: autodispose2.ScopeProvider and 1 other context)`","body":"Still get the error: <code>Execution failed for task &#39;:app:minifyReleaseWithR8&#39;. A failure occurred while executing com.android.build.gradle.internal.tasks.R8Task$R8Runnable</code>; due to <code>ERROR: R8: Missing class com.google.errorprone.annotations.DoNotMock (referenced from: autodispose2.ScopeProvider and 1 other context)</code>"},{"owner":{"account_id":185012,"reputation":3371,"user_id":421467,"accept_rate":100,"display_name":"Dr.jacky"},"score":0,"creation_date":1691429289,"post_id":76694211,"comment_id":135487492,"body_markdown":"Solution: R8 8.1.56 and gradle tools 8.2.0-alpha15 and `-dontwarn com.google.errorprone.annotations.**` in the `app/proguard-rules.pro`","body":"Solution: R8 8.1.56 and gradle tools 8.2.0-alpha15 and <code>-dontwarn com.google.errorprone.annotations.**</code> in the <code>app&#47;proguard-rules.pro</code>"}],"tags":[],"owner":{"account_id":1854815,"reputation":2720,"user_id":1680637,"display_name":"Ayman Al-Absi"},"comment_count":3,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1689431192,"creation_date":1689431192,"answer_id":76694211,"question_id":76073318,"body_markdown":"I think disabling **R8 fullmode** is the solution till all libraries are updated to Gradle 8 and consider *R8 fullmode* rules.\r\n\r\nin **gradle.properties** add below line:\r\n\r\n    android.enableR8.fullMode=false","title":"Upgrading Gradle from 7.4.2 to Gradle 8.0.0 gives error on release app - java.lang.ClassCastException","body":"<p>I think disabling <strong>R8 fullmode</strong> is the solution till all libraries are updated to Gradle 8 and consider <em>R8 fullmode</em> rules.</p>\n<p>in <strong>gradle.properties</strong> add below line:</p>\n<pre><code>android.enableR8.fullMode=false\n</code></pre>\n"}],"owner":{"account_id":5909013,"reputation":1410,"user_id":4649860,"display_name":"Chirag Thummar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8211,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":76100126,"answer_count":4,"score":19,"last_activity_date":1689431192,"creation_date":1682081220,"question_id":76073318,"body_markdown":"I have recently upgraded Android Studio to Flamingo and also upgraded Gradle from 7.4.2 to 8.0.0. All things working fine in version 7.4.2. \r\n\r\nWhen I generate a signed APK using Gradle 8.0.0, it&#39;s giving me a runtime error of `java.lang.ClassCastException`.\r\n\r\nI have tried many solutions like adding Proguard rules for Retrofit, Okio, OkHttp, etc., but it still give me an error like this.\r\n\r\n\r\nNote: When I downgraded from 8.0.0 to 7.4.2, it&#39;s working.\r\n\r\nSo anyone can help me to find out problem with AGP 8.0.0.\r\n\r\n\r\n***build.gradle(app)***\r\n\r\n\r\n    plugins {\r\n        id &#39;com.android.application&#39;\r\n        id &#39;org.jetbrains.kotlin.android&#39;\r\n        id &#39;kotlin-kapt&#39;\r\n        id &#39;kotlin-parcelize&#39;\r\n        id &#39;com.google.dagger.hilt.android&#39;\r\n        id &#39;com.google.gms.google-services&#39;\r\n        id &#39;com.google.firebase.crashlytics&#39;\r\n    }\r\n    \r\n    \r\n    android {\r\n        \r\n        compileSdk 33\r\n    \r\n        defaultConfig {\r\n            \r\n            minSdk 24\r\n            targetSdk 33\r\n            versionCode 22\r\n            versionName &quot;1.0.16&quot;\r\n            multiDexEnabled true\r\n    \r\n            testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n            /*vectorDrawables {\r\n                useSupportLibrary true\r\n            }*/\r\n    \r\n            def localPropertiesFile = rootProject.file(&quot;local.properties&quot;)\r\n            def localProperties = new Properties()\r\n            localProperties.load(new FileInputStream(localPropertiesFile))\r\n            buildConfigField &quot;String&quot;, &quot;API_KEY&quot;, localProperties[&#39;API_KEY&#39;]\r\n    \r\n    \r\n    \r\n        }\r\n    \r\n        \r\n        buildTypes {\r\n            release {\r\n                minifyEnabled true\r\n                shrinkResources true\r\n                signingConfig signingConfigs.release\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n        compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_17\r\n            targetCompatibility JavaVersion.VERSION_17\r\n        }\r\n        kotlinOptions {\r\n            jvmTarget = &#39;17&#39;\r\n        }\r\n        buildFeatures {\r\n            compose true\r\n            viewBinding = true\r\n        }\r\n        composeOptions {\r\n            kotlinCompilerExtensionVersion &#39;1.4.2&#39;\r\n        }\r\n        packagingOptions {\r\n            resources {\r\n                excludes += &#39;/META-INF/{AL2.0,LGPL2.1}&#39;\r\n            }\r\n        }\r\n        bundle {\r\n            language {\r\n                enableSplit = false\r\n            }\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n    \r\n        implementation &#39;androidx.core:core-ktx:1.10.0&#39;\r\n        implementation &#39;androidx.appcompat:appcompat:1.6.1&#39;\r\n        implementation &#39;com.google.android.material:material:1.8.0&#39;\r\n        implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n        implementation &#39;androidx.multidex:multidex:2.0.1&#39;\r\n    \r\n        \r\n        implementation &#39;com.google.accompanist:accompanist-permissions:0.24.11-rc&#39;\r\n        implementation &#39;com.google.accompanist:accompanist-webview:0.24.11-rc&#39;\r\n        implementation &#39;com.google.accompanist:accompanist-pager:0.24.13-rc&#39;\r\n        implementation &quot;com.google.accompanist:accompanist-pager-indicators:0.24.13-rc&quot;\r\n        implementation &quot;com.google.accompanist:accompanist-drawablepainter:0.25.1&quot;\r\n        implementation &quot;com.google.accompanist:accompanist-flowlayout:0.31.0-alpha&quot;\r\n    \r\n    \r\n       \r\n        implementation &#39;androidx.activity:activity-compose:1.7.1&#39;\r\n        implementation platform(&#39;androidx.compose:compose-bom:2022.10.00&#39;)\r\n        implementation &#39;androidx.compose.ui:ui&#39;\r\n        implementation &#39;androidx.compose.ui:ui-graphics&#39;\r\n        implementation &#39;androidx.compose.ui:ui-tooling-preview&#39;\r\n        implementation &#39;androidx.compose.material:material&#39;\r\n    //    implementation &#39;androidx.compose.material3:material3&#39;\r\n        implementation &quot;androidx.navigation:navigation-compose:2.5.3&quot;\r\n        implementation &#39;com.google.firebase:protolite-well-known-types:18.0.0&#39;\r\n        implementation &quot;androidx.compose.ui:ui-viewbinding&quot;\r\n        implementation project(path: &#39;:pdfviewer&#39;)\r\n    \r\n      \r\n        testImplementation &#39;junit:junit:4.13.2&#39;\r\n        androidTestImplementation &#39;androidx.test.ext:junit:1.1.5&#39;\r\n        androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.5.1&#39;\r\n        androidTestImplementation &quot;androidx.compose.ui:ui-test-junit4&quot;\r\n    \r\n        \r\n        implementation &quot;com.google.dagger:hilt-android:2.45&quot;\r\n        debugImplementation &quot;androidx.compose.ui:ui-test-manifest&quot;\r\n        kapt &quot;com.google.dagger:hilt-compiler:2.45&quot;\r\n        kapt &quot;androidx.hilt:hilt-compiler:1.0.0&quot;\r\n        implementation &#39;androidx.hilt:hilt-navigation-compose:1.0.0&#39;\r\n    \r\n      \r\n        implementation &quot;androidx.activity:activity-ktx:1.7.1&quot;\r\n    \r\n      \r\n        implementation &quot;androidx.lifecycle:lifecycle-extensions:2.2.0&quot;\r\n        implementation &quot;androidx.lifecycle:lifecycle-livedata-ktx:2.6.1&quot;\r\n        implementation &quot;androidx.lifecycle:lifecycle-runtime-ktx:2.6.1&quot;\r\n        implementation &quot;androidx.lifecycle:lifecycle-viewmodel-ktx:2.6.1&quot;\r\n        implementation &quot;androidx.lifecycle:lifecycle-process:2.6.1&quot;\r\n        kapt &quot;androidx.lifecycle:lifecycle-compiler:2.6.1&quot;\r\n    \r\n        /* *****************************************************\r\n           **** Retrofit2\r\n           ****************************************************** */\r\n        implementation &#39;com.squareup.retrofit2:retrofit:2.9.0&#39;\r\n        implementation &#39;com.squareup.retrofit2:converter-gson:2.9.0&#39;\r\n        implementation &quot;com.squareup.okhttp3:okhttp:4.9.0&quot;\r\n        implementation &quot;com.squareup.okhttp3:logging-interceptor:4.9.0&quot;\r\n        implementation &#39;com.squareup.retrofit2:converter-moshi:2.9.0&#39;\r\n    \r\n       \r\n        implementation &#39;org.jetbrains.kotlinx:kotlinx-coroutines-core:1.6.4&#39;\r\n        implementation &#39;org.jetbrains.kotlinx:kotlinx-coroutines-android:1.6.4&#39;\r\n    \r\n       \r\n        implementation &quot;androidx.room:room-runtime:2.5.1&quot;\r\n        kapt &quot;androidx.room:room-compiler:2.5.1&quot;\r\n    \r\n        \r\n        implementation &quot;androidx.room:room-ktx:2.5.1&quot;\r\n    \r\n       \r\n        implementation &#39;androidx.core:core-splashscreen:1.0.1&#39;\r\n    \r\n        \r\n        def billing_version = &quot;5.2.0&quot;\r\n        implementation &quot;com.android.billingclient:billing:$billing_version&quot;\r\n        implementation &quot;com.android.billingclient:billing-ktx:$billing_version&quot;\r\n        implementation &#39;com.google.firebase:firebase-crashlytics-buildtools:2.9.5&#39;\r\n    \r\n       \r\n        implementation platform(&#39;com.google.firebase:firebase-bom:31.1.0&#39;)\r\n        implementation &#39;com.google.firebase:firebase-config-ktx&#39;\r\n        implementation &#39;com.google.firebase:firebase-analytics-ktx&#39;\r\n        implementation &#39;com.google.firebase:firebase-crashlytics-ktx&#39;\r\n        implementation &#39;com.google.firebase:firebase-messaging-ktx&#39;\r\n        implementation &#39;com.google.android.gms:play-services-ads:22.0.0&#39;\r\n    \r\n       \r\n        implementation &#39;com.airbnb.android:lottie-compose:4.0.0&#39;\r\n    \r\n    \r\n    }\r\n    \r\n    kapt {\r\n        correctErrorTypes true\r\n    }\r\n\r\n\r\n\r\n\r\n**Project Gradle File**\r\n\r\n\r\n\r\n    buildscript {\r\n        ext {\r\n            compose_ui_version = &#39;1.5.0-alpha02&#39;\r\n            kotlin_version = &#39;1.8.10&#39;\r\n        }\r\n            dependencies {\r\n                // Add this line\r\n                classpath &#39;com.google.gms:google-services:4.3.15&#39;\r\n                classpath &#39;com.google.firebase:firebase-crashlytics-gradle:2.9.5&#39;\r\n                classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\r\n            }\r\n        repositories {\r\n            mavenCentral()\r\n        }\r\n    }// Top-level build file where you can add configuration options common to all sub-projects/modules.\r\n    plugins {\r\n        id &#39;com.android.application&#39; version &#39;8.0.0&#39; apply false\r\n        id &#39;com.android.library&#39; version &#39;8.0.0&#39; apply false\r\n        id &#39;org.jetbrains.kotlin.android&#39; version &#39;1.8.10&#39; apply false\r\n        id &#39;com.google.dagger.hilt.android&#39; version &#39;2.44&#39; apply false\r\n    }","title":"Upgrading Gradle from 7.4.2 to Gradle 8.0.0 gives error on release app - java.lang.ClassCastException","body":"<p>I have recently upgraded Android Studio to Flamingo and also upgraded Gradle from 7.4.2 to 8.0.0. All things working fine in version 7.4.2.</p>\n<p>When I generate a signed APK using Gradle 8.0.0, it's giving me a runtime error of <code>java.lang.ClassCastException</code>.</p>\n<p>I have tried many solutions like adding Proguard rules for Retrofit, Okio, OkHttp, etc., but it still give me an error like this.</p>\n<p>Note: When I downgraded from 8.0.0 to 7.4.2, it's working.</p>\n<p>So anyone can help me to find out problem with AGP 8.0.0.</p>\n<p><em><strong>build.gradle(app)</strong></em></p>\n<pre><code>plugins {\n    id 'com.android.application'\n    id 'org.jetbrains.kotlin.android'\n    id 'kotlin-kapt'\n    id 'kotlin-parcelize'\n    id 'com.google.dagger.hilt.android'\n    id 'com.google.gms.google-services'\n    id 'com.google.firebase.crashlytics'\n}\n\n\nandroid {\n    \n    compileSdk 33\n\n    defaultConfig {\n        \n        minSdk 24\n        targetSdk 33\n        versionCode 22\n        versionName &quot;1.0.16&quot;\n        multiDexEnabled true\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n        /*vectorDrawables {\n            useSupportLibrary true\n        }*/\n\n        def localPropertiesFile = rootProject.file(&quot;local.properties&quot;)\n        def localProperties = new Properties()\n        localProperties.load(new FileInputStream(localPropertiesFile))\n        buildConfigField &quot;String&quot;, &quot;API_KEY&quot;, localProperties['API_KEY']\n\n\n\n    }\n\n    \n    buildTypes {\n        release {\n            minifyEnabled true\n            shrinkResources true\n            signingConfig signingConfigs.release\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_17\n        targetCompatibility JavaVersion.VERSION_17\n    }\n    kotlinOptions {\n        jvmTarget = '17'\n    }\n    buildFeatures {\n        compose true\n        viewBinding = true\n    }\n    composeOptions {\n        kotlinCompilerExtensionVersion '1.4.2'\n    }\n    packagingOptions {\n        resources {\n            excludes += '/META-INF/{AL2.0,LGPL2.1}'\n        }\n    }\n    bundle {\n        language {\n            enableSplit = false\n        }\n    }\n}\n\ndependencies {\n\n    implementation 'androidx.core:core-ktx:1.10.0'\n    implementation 'androidx.appcompat:appcompat:1.6.1'\n    implementation 'com.google.android.material:material:1.8.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\n    implementation 'androidx.multidex:multidex:2.0.1'\n\n    \n    implementation 'com.google.accompanist:accompanist-permissions:0.24.11-rc'\n    implementation 'com.google.accompanist:accompanist-webview:0.24.11-rc'\n    implementation 'com.google.accompanist:accompanist-pager:0.24.13-rc'\n    implementation &quot;com.google.accompanist:accompanist-pager-indicators:0.24.13-rc&quot;\n    implementation &quot;com.google.accompanist:accompanist-drawablepainter:0.25.1&quot;\n    implementation &quot;com.google.accompanist:accompanist-flowlayout:0.31.0-alpha&quot;\n\n\n   \n    implementation 'androidx.activity:activity-compose:1.7.1'\n    implementation platform('androidx.compose:compose-bom:2022.10.00')\n    implementation 'androidx.compose.ui:ui'\n    implementation 'androidx.compose.ui:ui-graphics'\n    implementation 'androidx.compose.ui:ui-tooling-preview'\n    implementation 'androidx.compose.material:material'\n//    implementation 'androidx.compose.material3:material3'\n    implementation &quot;androidx.navigation:navigation-compose:2.5.3&quot;\n    implementation 'com.google.firebase:protolite-well-known-types:18.0.0'\n    implementation &quot;androidx.compose.ui:ui-viewbinding&quot;\n    implementation project(path: ':pdfviewer')\n\n  \n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.5'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.1'\n    androidTestImplementation &quot;androidx.compose.ui:ui-test-junit4&quot;\n\n    \n    implementation &quot;com.google.dagger:hilt-android:2.45&quot;\n    debugImplementation &quot;androidx.compose.ui:ui-test-manifest&quot;\n    kapt &quot;com.google.dagger:hilt-compiler:2.45&quot;\n    kapt &quot;androidx.hilt:hilt-compiler:1.0.0&quot;\n    implementation 'androidx.hilt:hilt-navigation-compose:1.0.0'\n\n  \n    implementation &quot;androidx.activity:activity-ktx:1.7.1&quot;\n\n  \n    implementation &quot;androidx.lifecycle:lifecycle-extensions:2.2.0&quot;\n    implementation &quot;androidx.lifecycle:lifecycle-livedata-ktx:2.6.1&quot;\n    implementation &quot;androidx.lifecycle:lifecycle-runtime-ktx:2.6.1&quot;\n    implementation &quot;androidx.lifecycle:lifecycle-viewmodel-ktx:2.6.1&quot;\n    implementation &quot;androidx.lifecycle:lifecycle-process:2.6.1&quot;\n    kapt &quot;androidx.lifecycle:lifecycle-compiler:2.6.1&quot;\n\n    /* *****************************************************\n       **** Retrofit2\n       ****************************************************** */\n    implementation 'com.squareup.retrofit2:retrofit:2.9.0'\n    implementation 'com.squareup.retrofit2:converter-gson:2.9.0'\n    implementation &quot;com.squareup.okhttp3:okhttp:4.9.0&quot;\n    implementation &quot;com.squareup.okhttp3:logging-interceptor:4.9.0&quot;\n    implementation 'com.squareup.retrofit2:converter-moshi:2.9.0'\n\n   \n    implementation 'org.jetbrains.kotlinx:kotlinx-coroutines-core:1.6.4'\n    implementation 'org.jetbrains.kotlinx:kotlinx-coroutines-android:1.6.4'\n\n   \n    implementation &quot;androidx.room:room-runtime:2.5.1&quot;\n    kapt &quot;androidx.room:room-compiler:2.5.1&quot;\n\n    \n    implementation &quot;androidx.room:room-ktx:2.5.1&quot;\n\n   \n    implementation 'androidx.core:core-splashscreen:1.0.1'\n\n    \n    def billing_version = &quot;5.2.0&quot;\n    implementation &quot;com.android.billingclient:billing:$billing_version&quot;\n    implementation &quot;com.android.billingclient:billing-ktx:$billing_version&quot;\n    implementation 'com.google.firebase:firebase-crashlytics-buildtools:2.9.5'\n\n   \n    implementation platform('com.google.firebase:firebase-bom:31.1.0')\n    implementation 'com.google.firebase:firebase-config-ktx'\n    implementation 'com.google.firebase:firebase-analytics-ktx'\n    implementation 'com.google.firebase:firebase-crashlytics-ktx'\n    implementation 'com.google.firebase:firebase-messaging-ktx'\n    implementation 'com.google.android.gms:play-services-ads:22.0.0'\n\n   \n    implementation 'com.airbnb.android:lottie-compose:4.0.0'\n\n\n}\n\nkapt {\n    correctErrorTypes true\n}\n</code></pre>\n<p><strong>Project Gradle File</strong></p>\n<pre><code>buildscript {\n    ext {\n        compose_ui_version = '1.5.0-alpha02'\n        kotlin_version = '1.8.10'\n    }\n        dependencies {\n            // Add this line\n            classpath 'com.google.gms:google-services:4.3.15'\n            classpath 'com.google.firebase:firebase-crashlytics-gradle:2.9.5'\n            classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\n        }\n    repositories {\n        mavenCentral()\n    }\n}// Top-level build file where you can add configuration options common to all sub-projects/modules.\nplugins {\n    id 'com.android.application' version '8.0.0' apply false\n    id 'com.android.library' version '8.0.0' apply false\n    id 'org.jetbrains.kotlin.android' version '1.8.10' apply false\n    id 'com.google.dagger.hilt.android' version '2.44' apply false\n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-jdbc","jdbctemplate","java-17"],"comments":[{"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"score":1,"creation_date":1689430901,"post_id":76694178,"comment_id":135214105,"body_markdown":"You probably using wrong jdbcTemplate?\nas you error said `org.flywaydb.core.internal.jdbc.RowMapper`","body":"You probably using wrong jdbcTemplate? as you error said <code>org.flywaydb.core.internal.jdbc.RowMapper</code>"},{"owner":{"account_id":887173,"reputation":11957,"user_id":926333,"accept_rate":100,"display_name":"Girish"},"score":0,"creation_date":1689431272,"post_id":76694178,"comment_id":135214149,"body_markdown":"@samabcde correct, i just replaced `org.flywaydb.core.internal.jdbc.JdbcTemplate` from `org.springframework.jdbc.core.JdbcTemplate` it worked thanks","body":"@samabcde correct, i just replaced <code>org.flywaydb.core.internal.jdbc.JdbcTemplate</code> from <code>org.springframework.jdbc.core.JdbcTemplate</code> it worked thanks"}],"owner":{"account_id":887173,"reputation":11957,"user_id":926333,"accept_rate":100,"display_name":"Girish"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689430459,"creation_date":1689430459,"question_id":76694178,"body_markdown":"I have stuck in RowMapper, the code is showing Generic type error.\r\n\r\n    @Override\r\n        public List&lt;Person&gt; selectAllPerson() {\r\n            final String sql = &quot;SELECT id, name FROM person&quot;;\r\n            List&lt;Person&gt; persons = jdbcTemplate.query(sql, new PersonRowMapper(), new Object[]{});\r\n                                                           //^^^^^type error^^^^\r\n            return persons;\r\n        }\r\nnetbeans IDE is also showing error hits. but i am unable to understand\r\n[![enter image description here][1]][1]\r\n\r\nAnd here is `RowMapper` Class\r\npackage com.gmc.dpro.dao;\r\n\r\n    import org.springframework.jdbc.core.RowMapper;\r\n    import java.sql.ResultSet;\r\n    import java.sql.SQLException;\r\n    import com.gmc.dpro.model.Person;\r\n    import java.util.UUID;\r\n    \r\n    public class PersonRowMapper implements RowMapper&lt;Person&gt;{\r\n        \r\n        @Override\r\n        public Person mapRow(ResultSet rs, int rowNum) throws SQLException {\r\n            return new Person(UUID.fromString(rs.getString(&quot;id&quot;)), rs.getString(&quot;name&quot;));\r\n        }\r\n    }\r\n\r\nthe code is throwing following type error\r\n\r\n&gt; required:\r\n&gt; java.lang.String,org.flywaydb.core.internal.jdbc.RowMapper&lt;T&gt;,java.lang.Object[]\r\n&gt; found:   \r\n&gt; java.lang.String,com.gmc.dpro.dao.PersonRowMapper,java.lang.Object[]  \r\n&gt; reason: cannot infer type-variable(s) T\r\n&gt;     (argument mismatch; com.gmc.dpro.dao.PersonRowMapper cannot be converted to org.flywaydb.core.internal.jdbc.RowMapper&lt;T&gt;)\r\n\r\n\r\ni am beginner in Java spring boot, can you please provide solution for above error. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GNiGP.png","title":"spring boot `jdbcTemplate.query` RowMapper generic issue","body":"<p>I have stuck in RowMapper, the code is showing Generic type error.</p>\n<pre><code>@Override\n    public List&lt;Person&gt; selectAllPerson() {\n        final String sql = &quot;SELECT id, name FROM person&quot;;\n        List&lt;Person&gt; persons = jdbcTemplate.query(sql, new PersonRowMapper(), new Object[]{});\n                                                       //^^^^^type error^^^^\n        return persons;\n    }\n</code></pre>\n<p>netbeans IDE is also showing error hits. but i am unable to understand\n<a href=\"https://i.stack.imgur.com/GNiGP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GNiGP.png\" alt=\"enter image description here\" /></a></p>\n<p>And here is <code>RowMapper</code> Class\npackage com.gmc.dpro.dao;</p>\n<pre><code>import org.springframework.jdbc.core.RowMapper;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport com.gmc.dpro.model.Person;\nimport java.util.UUID;\n\npublic class PersonRowMapper implements RowMapper&lt;Person&gt;{\n    \n    @Override\n    public Person mapRow(ResultSet rs, int rowNum) throws SQLException {\n        return new Person(UUID.fromString(rs.getString(&quot;id&quot;)), rs.getString(&quot;name&quot;));\n    }\n}\n</code></pre>\n<p>the code is throwing following type error</p>\n<blockquote>\n<p>required:\njava.lang.String,org.flywaydb.core.internal.jdbc.RowMapper,java.lang.Object[]\nfound:<br />\njava.lang.String,com.gmc.dpro.dao.PersonRowMapper,java.lang.Object[]<br />\nreason: cannot infer type-variable(s) T\n(argument mismatch; com.gmc.dpro.dao.PersonRowMapper cannot be converted to org.flywaydb.core.internal.jdbc.RowMapper)</p>\n</blockquote>\n<p>i am beginner in Java spring boot, can you please provide solution for above error.</p>\n"},{"tags":["java","rest","groovy","wslite"],"comments":[{"owner":{"account_id":905874,"reputation":3369,"user_id":940794,"accept_rate":59,"display_name":"Rop"},"score":0,"creation_date":1689347152,"post_id":76685407,"comment_id":135205214,"body_markdown":"Why the down-votes? Been googling this at length, without success...","body":"Why the down-votes? Been googling this at length, without success..."},{"owner":{"account_id":1333316,"reputation":26958,"user_id":1276664,"accept_rate":17,"display_name":"daggett"},"score":0,"creation_date":1689425367,"post_id":76685407,"comment_id":135213503,"body_markdown":"Rewriting just closure to java is possible, but has no sense because of complexity in this particular case.","body":"Rewriting just closure to java is possible, but has no sense because of complexity in this particular case."}],"answers":[{"comments":[{"owner":{"account_id":905874,"reputation":3369,"user_id":940794,"accept_rate":59,"display_name":"Rop"},"score":0,"creation_date":1689353412,"post_id":76689109,"comment_id":135206587,"body_markdown":"hmm... but where does that text() method come from? It&#39;s not defined in our code that I can see... how does groovy evaluate that?","body":"hmm... but where does that text() method come from? It&#39;s not defined in our code that I can see... how does groovy evaluate that?"},{"owner":{"account_id":1333316,"reputation":26958,"user_id":1276664,"accept_rate":17,"display_name":"daggett"},"score":1,"creation_date":1689424897,"post_id":76689109,"comment_id":135213438,"body_markdown":"text is defined here https://github.com/jwagenleitner/groovy-wslite/blob/4457c93354f6c20b1c32b689469ef5794037db8b/src/main/groovy/wslite/rest/ContentBuilder.groovy#L73","body":"text is defined here <a href=\"https://github.com/jwagenleitner/groovy-wslite/blob/4457c93354f6c20b1c32b689469ef5794037db8b/src/main/groovy/wslite/rest/ContentBuilder.groovy#L73\" rel=\"nofollow noreferrer\">github.com/jwagenleitner/groovy-wslite/blob/&hellip;</a>"}],"tags":[],"owner":{"account_id":51881,"reputation":38016,"user_id":155020,"accept_rate":80,"display_name":"chubbsondubs"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689348067,"creation_date":1689348067,"answer_id":76689109,"question_id":76685407,"body_markdown":"So `Closure` is just an object in Java.  You would just need to create an anonymous class that extends Closure.\r\n\r\n```\r\nclient.put( new Closure&lt;Integer&gt;(null) { //need to pass owner = null\r\n    @Override\r\n    public Integer call() {\r\n       return 100;\r\n    }\r\n});\r\n```\r\nThis of course requires you have groovy libraries in your classpath, but you&#39;d have to do that anyway to support using ws-lite since it would require Groovy.  Something to consider is that you have to have Groovy in your classpath to use ws-lite so unless you are stripping that out too why not just use Groovy to do your script?  You&#39;re not saving yourself any performance by writing the wrapper in Java if Java just calls ws-lite to do the bulk of the work.","title":"Convert groovy Closure to Java?","body":"<p>So <code>Closure</code> is just an object in Java.  You would just need to create an anonymous class that extends Closure.</p>\n<pre><code>client.put( new Closure&lt;Integer&gt;(null) { //need to pass owner = null\n    @Override\n    public Integer call() {\n       return 100;\n    }\n});\n</code></pre>\n<p>This of course requires you have groovy libraries in your classpath, but you'd have to do that anyway to support using ws-lite since it would require Groovy.  Something to consider is that you have to have Groovy in your classpath to use ws-lite so unless you are stripping that out too why not just use Groovy to do your script?  You're not saving yourself any performance by writing the wrapper in Java if Java just calls ws-lite to do the bulk of the work.</p>\n"},{"tags":[],"owner":{"account_id":1333316,"reputation":26958,"user_id":1276664,"accept_rate":17,"display_name":"daggett"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689429961,"creation_date":1689428714,"answer_id":76694046,"question_id":76685407,"body_markdown":"Can&#39;t understand the goal because it&#39;s better to change rest-client if you are switching to java. \r\n\r\nwslite library designed for groovy and using it for java will add complexity to your code.\r\n\r\n---\r\n\r\nHowever, in this particular case java code will look like this:\r\n\r\n(it&#39;s groovy but with java-like syntax)\r\n\r\n```\r\n@Grab(group=&#39;com.github.groovy-wslite&#39;, module=&#39;groovy-wslite&#39;, version=&#39;1.1.2&#39;, transitive=false)\r\n\r\nimport groovy.json.*\r\nimport wslite.rest.*\r\n\r\n@groovy.transform.CompileStatic\r\nclass TextBodyClosure extends Closure&lt;Object&gt; {\r\n    Object body;\r\n    public TextBodyClosure(Object owner, Object body) {\r\n        super(owner);\r\n        this.body = body;\r\n    }\r\n    public Object call() {\r\n        ContentBuilder cb = (ContentBuilder)this.getDelegate();\r\n        cb.text(body);\r\n        return null;\r\n    }\r\n}\r\n\r\ndef content = [&quot;hello&quot;: &quot;world&quot;];\r\nJsonBuilder request = new JsonBuilder(content);\r\nMap&lt;String, Object&gt; params = [:];\r\nRESTClient client = new RESTClient(&quot;http://httpbin.org/put&quot;);\r\n//Response response = client.put(params){ it -&gt; text(request) };\r\nResponse response = client.put(params, new TextBodyClosure(this, request));\r\n\r\nassert response.parsedResponseContent.json.json == content\r\nprintln &quot;SUCCESS&quot;\r\n```\r\n\r\nthis conversion based on a source code of wslite library.\r\n\r\nwhen you are calling `client.put(params, content)` the following code executed to transform content-closure to bytes:\r\n\r\nhttps://github.com/jwagenleitner/groovy-wslite/blob/master/src/main/groovy/wslite/rest/RESTClient.groovy#L101-L105\r\n\r\n[![enter image description here][1]][1]\r\n\r\nas you can see - the content-closure passed into ContentBuilder that executes closure against itself - so, the delegate object is ContentBuilder at moment of execution...\r\n\r\nhttps://github.com/jwagenleitner/groovy-wslite/blob/master/src/main/groovy/wslite/rest/ContentBuilder.groovy#L45\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WF6lC.png\r\n  [2]: https://i.stack.imgur.com/7olP6.png","title":"Convert groovy Closure to Java?","body":"<p>Can't understand the goal because it's better to change rest-client if you are switching to java.</p>\n<p>wslite library designed for groovy and using it for java will add complexity to your code.</p>\n<hr />\n<p>However, in this particular case java code will look like this:</p>\n<p>(it's groovy but with java-like syntax)</p>\n<pre><code>@Grab(group='com.github.groovy-wslite', module='groovy-wslite', version='1.1.2', transitive=false)\n\nimport groovy.json.*\nimport wslite.rest.*\n\n@groovy.transform.CompileStatic\nclass TextBodyClosure extends Closure&lt;Object&gt; {\n    Object body;\n    public TextBodyClosure(Object owner, Object body) {\n        super(owner);\n        this.body = body;\n    }\n    public Object call() {\n        ContentBuilder cb = (ContentBuilder)this.getDelegate();\n        cb.text(body);\n        return null;\n    }\n}\n\ndef content = [&quot;hello&quot;: &quot;world&quot;];\nJsonBuilder request = new JsonBuilder(content);\nMap&lt;String, Object&gt; params = [:];\nRESTClient client = new RESTClient(&quot;http://httpbin.org/put&quot;);\n//Response response = client.put(params){ it -&gt; text(request) };\nResponse response = client.put(params, new TextBodyClosure(this, request));\n\nassert response.parsedResponseContent.json.json == content\nprintln &quot;SUCCESS&quot;\n</code></pre>\n<p>this conversion based on a source code of wslite library.</p>\n<p>when you are calling <code>client.put(params, content)</code> the following code executed to transform content-closure to bytes:</p>\n<p><a href=\"https://github.com/jwagenleitner/groovy-wslite/blob/master/src/main/groovy/wslite/rest/RESTClient.groovy#L101-L105\" rel=\"nofollow noreferrer\">https://github.com/jwagenleitner/groovy-wslite/blob/master/src/main/groovy/wslite/rest/RESTClient.groovy#L101-L105</a></p>\n<p><a href=\"https://i.stack.imgur.com/WF6lC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WF6lC.png\" alt=\"enter image description here\" /></a></p>\n<p>as you can see - the content-closure passed into ContentBuilder that executes closure against itself - so, the delegate object is ContentBuilder at moment of execution...</p>\n<p><a href=\"https://github.com/jwagenleitner/groovy-wslite/blob/master/src/main/groovy/wslite/rest/ContentBuilder.groovy#L45\" rel=\"nofollow noreferrer\">https://github.com/jwagenleitner/groovy-wslite/blob/master/src/main/groovy/wslite/rest/ContentBuilder.groovy#L45</a></p>\n<p><a href=\"https://i.stack.imgur.com/7olP6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7olP6.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":905874,"reputation":3369,"user_id":940794,"accept_rate":59,"display_name":"Rop"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":106,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":76694046,"answer_count":2,"score":0,"last_activity_date":1689429961,"creation_date":1689318363,"question_id":76685407,"body_markdown":"*EDIT: Why the down-votes? Been googling this at length, without success...*\r\n\r\nI have some groovy-classes, I&#39;m trying to rewrite to Java.\r\n\r\nThe groovy-code uses wslite for REST-calls, and follows this pattern:\r\n\r\n    JsonBuilder request = createRequest();\r\n    Map&lt;String, Object&gt; params = createParams();\r\n    RESTClient client = new RESTClient(endpoint);\r\n    Response response = client.put(params) ( it -&gt; { text(request); });\r\n\r\nHow do I rewrite the final line with the Closure part?\r\n\r\nWhat is the Java equivalent?","title":"Convert groovy Closure to Java?","body":"<p><em>EDIT: Why the down-votes? Been googling this at length, without success...</em></p>\n<p>I have some groovy-classes, I'm trying to rewrite to Java.</p>\n<p>The groovy-code uses wslite for REST-calls, and follows this pattern:</p>\n<pre><code>JsonBuilder request = createRequest();\nMap&lt;String, Object&gt; params = createParams();\nRESTClient client = new RESTClient(endpoint);\nResponse response = client.put(params) ( it -&gt; { text(request); });\n</code></pre>\n<p>How do I rewrite the final line with the Closure part?</p>\n<p>What is the Java equivalent?</p>\n"},{"tags":["java","google-cloud-platform","google-cloud-datastore","objectify"],"answers":[{"comments":[{"owner":{"account_id":21804,"reputation":7207,"user_id":53300,"accept_rate":53,"display_name":"DaveH"},"score":0,"creation_date":1547113876,"post_id":54115183,"comment_id":95083203,"body_markdown":"thanks @stickfigure - that&#39;s exactly what I was doing. I moved to JUnit 5 ( not as easy as I might have hoped ) and have implemented the JUnit5 interceptors you suggest. The situation is much better, but I now get a timeout memcached tries to connect to localhost/127.0.0.1:11211 - it recovers and runs the tests, but have you any ideas how to get rid of that annoyance?","body":"thanks @stickfigure - that&#39;s exactly what I was doing. I moved to JUnit 5 ( not as easy as I might have hoped ) and have implemented the JUnit5 interceptors you suggest. The situation is much better, but I now get a timeout memcached tries to connect to localhost/127.0.0.1:11211 - it recovers and runs the tests, but have you any ideas how to get rid of that annoyance?"},{"owner":{"account_id":318652,"reputation":13503,"user_id":635982,"accept_rate":58,"display_name":"stickfigure"},"score":0,"creation_date":1547145666,"post_id":54115183,"comment_id":95101430,"body_markdown":"I just run memcached locally. But you can construct ObjectifyFactory without memcached; it disables the cache, which is probably fine for your tests.","body":"I just run memcached locally. But you can construct ObjectifyFactory without memcached; it disables the cache, which is probably fine for your tests."},{"owner":{"account_id":347392,"reputation":8392,"user_id":681479,"accept_rate":62,"display_name":"Brian White"},"score":0,"creation_date":1674008427,"post_id":54115183,"comment_id":132621928,"body_markdown":"Now 4y later and this is still the best answer?  For the life of me, I can&#39;t find _any_ documentation about how to do this other that copying these classes and figuring out how to make them work.  I&#39;d expect this to be a very common test-case.","body":"Now 4y later and this is still the best answer?  For the life of me, I can&#39;t find <i>any</i> documentation about how to do this other that copying these classes and figuring out how to make them work.  I&#39;d expect this to be a very common test-case."},{"owner":{"account_id":347392,"reputation":8392,"user_id":681479,"accept_rate":62,"display_name":"Brian White"},"score":0,"creation_date":1674010893,"post_id":54115183,"comment_id":132622185,"body_markdown":"Not sure what&#39;s going on.  I&#39;ve created similar classes locally and used `@ExtendWith` on my test base class to get them operational; the debugger shows everything being called.  The `LocalDatastoreHelper` is being started but the `helper.reset()` call fails with &quot;Connection refused: connect&quot;.  Perhaps because I removed the Memcache code?","body":"Not sure what&#39;s going on.  I&#39;ve created similar classes locally and used <code>@ExtendWith</code> on my test base class to get them operational; the debugger shows everything being called.  The <code>LocalDatastoreHelper</code> is being started but the <code>helper.reset()</code> call fails with &quot;Connection refused: connect&quot;.  Perhaps because I removed the Memcache code?"},{"owner":{"account_id":347392,"reputation":8392,"user_id":681479,"accept_rate":62,"display_name":"Brian White"},"score":0,"creation_date":1674054169,"post_id":54115183,"comment_id":132633392,"body_markdown":"Ah...  I needed a `setPort(...)` call when creating the LocalDatastoreHelper.","body":"Ah...  I needed a <code>setPort(...)</code> call when creating the LocalDatastoreHelper."}],"tags":[],"owner":{"account_id":318652,"reputation":13503,"user_id":635982,"accept_rate":58,"display_name":"stickfigure"},"comment_count":5,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1547053808,"creation_date":1547053808,"answer_id":54115183,"question_id":54108560,"body_markdown":"It looks like you&#39;re using Objectify6, which uses the new dedicated datastore API, but you&#39;re looking at documentation for the old appengine-everything-combined API.\r\n\r\nThe new datastore API has a completely different emulator. That local test harness you&#39;re using is what you would use with Objectify5 or what used to be called the &quot;appengine datastore low level API&quot;.\r\n\r\nThe documentation for setting up a test environment for the new API wasn&#39;t great the last time I looked. I recommend looking at Objectify&#39;s test harness itself. You can actually use the Objectify JUnit5 interceptors directly if you want to upgrade from JUnit4. Otherwise it shouldn&#39;t be too hard to figure out what&#39;s going on.\r\n\r\nHere&#39;s the meat of it:\r\n\r\nhttps://github.com/objectify/objectify/blob/master/src/test/java/com/googlecode/objectify/test/util/LocalDatastoreExtension.java\r\nhttps://github.com/objectify/objectify/blob/master/src/test/java/com/googlecode/objectify/test/util/ObjectifyExtension.java","title":"Objectify Unit Tests are persisting data to Google Cloud Datastore","body":"<p>It looks like you're using Objectify6, which uses the new dedicated datastore API, but you're looking at documentation for the old appengine-everything-combined API.</p>\n\n<p>The new datastore API has a completely different emulator. That local test harness you're using is what you would use with Objectify5 or what used to be called the \"appengine datastore low level API\".</p>\n\n<p>The documentation for setting up a test environment for the new API wasn't great the last time I looked. I recommend looking at Objectify's test harness itself. You can actually use the Objectify JUnit5 interceptors directly if you want to upgrade from JUnit4. Otherwise it shouldn't be too hard to figure out what's going on.</p>\n\n<p>Here's the meat of it:</p>\n\n<p><a href=\"https://github.com/objectify/objectify/blob/master/src/test/java/com/googlecode/objectify/test/util/LocalDatastoreExtension.java\" rel=\"nofollow noreferrer\">https://github.com/objectify/objectify/blob/master/src/test/java/com/googlecode/objectify/test/util/LocalDatastoreExtension.java</a>\n<a href=\"https://github.com/objectify/objectify/blob/master/src/test/java/com/googlecode/objectify/test/util/ObjectifyExtension.java\" rel=\"nofollow noreferrer\">https://github.com/objectify/objectify/blob/master/src/test/java/com/googlecode/objectify/test/util/ObjectifyExtension.java</a></p>\n"},{"comments":[{"owner":{"account_id":21804,"reputation":7207,"user_id":53300,"accept_rate":53,"display_name":"DaveH"},"score":0,"creation_date":1689442121,"post_id":76694113,"comment_id":135215456,"body_markdown":"&quot;Regress into Java&quot; - how dare you!!","body":"&quot;Regress into Java&quot; - how dare you!!"},{"owner":{"account_id":347392,"reputation":8392,"user_id":681479,"accept_rate":62,"display_name":"Brian White"},"score":0,"creation_date":1690072987,"post_id":76694113,"comment_id":135302155,"body_markdown":"Hah!  I wondered if that would get a rise out of anybody.  :-)  I used the term merely because I started in Java and converted the underlying code to Kotlin some months back.  And because it was fun.","body":"Hah!  I wondered if that would get a rise out of anybody.  :-)  I used the term merely because I started in Java and converted the underlying code to Kotlin some months back.  And because it was fun."}],"tags":[],"owner":{"account_id":347392,"reputation":8392,"user_id":681479,"accept_rate":62,"display_name":"Brian White"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689429613,"creation_date":1689429613,"answer_id":76694113,"question_id":54108560,"body_markdown":"This is my implementation of @stickfigure&#39;s answer.  It&#39;s Kotlin but should be easy enough to regress into Java if that&#39;s your language of choice.\r\n\r\n**LocalDatastoreExtension.kt:**\r\n```\r\npackage com.mydomain.common\r\n\r\nimport com.google.cloud.datastore.testing.LocalDatastoreHelper\r\nimport org.junit.jupiter.api.extension.BeforeAllCallback\r\nimport org.junit.jupiter.api.extension.BeforeEachCallback\r\nimport org.junit.jupiter.api.extension.ExtensionContext\r\n\r\n\r\n/**\r\n * Sets up and tears down the Local Datastore emulator\r\n */\r\nclass LocalDatastoreExtension : BeforeAllCallback, BeforeEachCallback {\r\n    @Throws(Exception::class)\r\n    override fun beforeAll(context: ExtensionContext) {\r\n        if (getHelper(context) == null) {\r\n            val helper = LocalDatastoreHelper.newBuilder()\r\n                .setPort(DATASTORE_PORT)\r\n                .setConsistency(1.0) // we always have strong consistency now\r\n                .setStoreOnDisk(false)\r\n                .build()\r\n            context.root.getStore(ExtensionContext.Namespace.GLOBAL).put(LocalDatastoreHelper::class.java, helper)\r\n            helper.start()\r\n        }\r\n    }\r\n\r\n    @Throws(Exception::class)\r\n    override fun beforeEach(context: ExtensionContext) {\r\n        val helper = getHelper(context)\r\n        helper!!.reset()\r\n    }\r\n\r\n    companion object {\r\n        const val DATASTORE_PORT = 8585\r\n\r\n        /* Get the helper created in beforeAll; it should be global so there will one per test run  */\r\n        fun getHelper(context: ExtensionContext): LocalDatastoreHelper? {\r\n            return context.root.getStore(ExtensionContext.Namespace.GLOBAL).get&lt;LocalDatastoreHelper&gt;(\r\n                LocalDatastoreHelper::class.java,\r\n                LocalDatastoreHelper::class.java\r\n            )\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n**ObjectifyExtension.kt:**\r\n```\r\npackage com.mydomain.common\r\n\r\nimport com.google.cloud.datastore.Datastore\r\nimport com.google.common.base.Preconditions\r\nimport com.googlecode.objectify.ObjectifyFactory\r\nimport com.googlecode.objectify.ObjectifyService\r\nimport com.googlecode.objectify.util.Closeable\r\nimport com.mydomain.common.LocalDatastoreExtension\r\nimport org.junit.jupiter.api.extension.AfterEachCallback\r\nimport org.junit.jupiter.api.extension.BeforeEachCallback\r\nimport org.junit.jupiter.api.extension.ExtensionContext\r\n\r\n\r\n/**\r\n * Sets up and tears down the Objectify local unit test harness environment\r\n */\r\nclass ObjectifyExtension : BeforeEachCallback, AfterEachCallback {\r\n    @Throws(Exception::class)\r\n    override fun beforeEach(context: ExtensionContext) {\r\n        val helper = LocalDatastoreExtension.getHelper(context)\r\n        Preconditions.checkNotNull(\r\n            helper,\r\n            &quot;This extension depends on &quot; + LocalDatastoreExtension::class.java.simpleName\r\n        )\r\n        val datastore: Datastore = helper!!.options.service\r\n        ObjectifyService.init(ObjectifyFactory(datastore))\r\n        /* GlobalInit.registerObjectifyClasses() */\r\n        val rootService: Closeable = ObjectifyService.begin()\r\n        context.getStore(NAMESPACE).put(Closeable::class.java, rootService)\r\n    }\r\n\r\n    @Throws(Exception::class)\r\n    override fun afterEach(context: ExtensionContext) {\r\n        val rootService: Closeable = context.getStore(NAMESPACE).get(\r\n            Closeable::class.java,\r\n            Closeable::class.java\r\n        )\r\n        rootService.close()\r\n    }\r\n\r\n    companion object {\r\n        private val NAMESPACE = ExtensionContext.Namespace.create(ObjectifyExtension::class.java)\r\n    }\r\n}\r\n```\r\n\r\n**MyClassTest.kt:**\r\n```\r\npackage com.mydomain.common\r\n\r\nimport kotlin.test.*\r\n\r\nimport com.mydomain.common.LocalDatastoreExtension\r\nimport com.mydomain.common.ObjectifyExtension\r\nimport org.junit.jupiter.api.extension.ExtendWith\r\n\r\n@ExtendWith(\r\n    LocalDatastoreExtension::class,\r\n    ObjectifyExtension::class,\r\n)\r\nclass MyClassTest {\r\n    @BeforeTest\r\n    fun setup() {\r\n        // This is here to ensure we&#39;re not somehow accessing the production database.\r\n        assertFalse(MyClass.getAll().hasNext())\r\n    }\r\n\r\n    @Test\r\n    fun testSomething() {\r\n        ...\r\n    }\r\n```\r\n","title":"Objectify Unit Tests are persisting data to Google Cloud Datastore","body":"<p>This is my implementation of @stickfigure's answer.  It's Kotlin but should be easy enough to regress into Java if that's your language of choice.</p>\n<p><strong>LocalDatastoreExtension.kt:</strong></p>\n<pre><code>package com.mydomain.common\n\nimport com.google.cloud.datastore.testing.LocalDatastoreHelper\nimport org.junit.jupiter.api.extension.BeforeAllCallback\nimport org.junit.jupiter.api.extension.BeforeEachCallback\nimport org.junit.jupiter.api.extension.ExtensionContext\n\n\n/**\n * Sets up and tears down the Local Datastore emulator\n */\nclass LocalDatastoreExtension : BeforeAllCallback, BeforeEachCallback {\n    @Throws(Exception::class)\n    override fun beforeAll(context: ExtensionContext) {\n        if (getHelper(context) == null) {\n            val helper = LocalDatastoreHelper.newBuilder()\n                .setPort(DATASTORE_PORT)\n                .setConsistency(1.0) // we always have strong consistency now\n                .setStoreOnDisk(false)\n                .build()\n            context.root.getStore(ExtensionContext.Namespace.GLOBAL).put(LocalDatastoreHelper::class.java, helper)\n            helper.start()\n        }\n    }\n\n    @Throws(Exception::class)\n    override fun beforeEach(context: ExtensionContext) {\n        val helper = getHelper(context)\n        helper!!.reset()\n    }\n\n    companion object {\n        const val DATASTORE_PORT = 8585\n\n        /* Get the helper created in beforeAll; it should be global so there will one per test run  */\n        fun getHelper(context: ExtensionContext): LocalDatastoreHelper? {\n            return context.root.getStore(ExtensionContext.Namespace.GLOBAL).get&lt;LocalDatastoreHelper&gt;(\n                LocalDatastoreHelper::class.java,\n                LocalDatastoreHelper::class.java\n            )\n        }\n    }\n}\n</code></pre>\n<p><strong>ObjectifyExtension.kt:</strong></p>\n<pre><code>package com.mydomain.common\n\nimport com.google.cloud.datastore.Datastore\nimport com.google.common.base.Preconditions\nimport com.googlecode.objectify.ObjectifyFactory\nimport com.googlecode.objectify.ObjectifyService\nimport com.googlecode.objectify.util.Closeable\nimport com.mydomain.common.LocalDatastoreExtension\nimport org.junit.jupiter.api.extension.AfterEachCallback\nimport org.junit.jupiter.api.extension.BeforeEachCallback\nimport org.junit.jupiter.api.extension.ExtensionContext\n\n\n/**\n * Sets up and tears down the Objectify local unit test harness environment\n */\nclass ObjectifyExtension : BeforeEachCallback, AfterEachCallback {\n    @Throws(Exception::class)\n    override fun beforeEach(context: ExtensionContext) {\n        val helper = LocalDatastoreExtension.getHelper(context)\n        Preconditions.checkNotNull(\n            helper,\n            &quot;This extension depends on &quot; + LocalDatastoreExtension::class.java.simpleName\n        )\n        val datastore: Datastore = helper!!.options.service\n        ObjectifyService.init(ObjectifyFactory(datastore))\n        /* GlobalInit.registerObjectifyClasses() */\n        val rootService: Closeable = ObjectifyService.begin()\n        context.getStore(NAMESPACE).put(Closeable::class.java, rootService)\n    }\n\n    @Throws(Exception::class)\n    override fun afterEach(context: ExtensionContext) {\n        val rootService: Closeable = context.getStore(NAMESPACE).get(\n            Closeable::class.java,\n            Closeable::class.java\n        )\n        rootService.close()\n    }\n\n    companion object {\n        private val NAMESPACE = ExtensionContext.Namespace.create(ObjectifyExtension::class.java)\n    }\n}\n</code></pre>\n<p><strong>MyClassTest.kt:</strong></p>\n<pre><code>package com.mydomain.common\n\nimport kotlin.test.*\n\nimport com.mydomain.common.LocalDatastoreExtension\nimport com.mydomain.common.ObjectifyExtension\nimport org.junit.jupiter.api.extension.ExtendWith\n\n@ExtendWith(\n    LocalDatastoreExtension::class,\n    ObjectifyExtension::class,\n)\nclass MyClassTest {\n    @BeforeTest\n    fun setup() {\n        // This is here to ensure we're not somehow accessing the production database.\n        assertFalse(MyClass.getAll().hasNext())\n    }\n\n    @Test\n    fun testSomething() {\n        ...\n    }\n</code></pre>\n"}],"owner":{"account_id":21804,"reputation":7207,"user_id":53300,"accept_rate":53,"display_name":"DaveH"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":745,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":54115183,"answer_count":2,"score":1,"last_activity_date":1689429613,"creation_date":1547031466,"question_id":54108560,"body_markdown":"I have a Unit Test that attempts to follow the Unit Test instructions found [here][1]. I find that any entities that I persist are actually stored in the &quot;real&quot; Google Cloud Platform DataStore associated with my Google Project.\r\n\r\nMy intention was that the Entities would be persisted to In Memory storage and torn down after each test.\r\n\r\nWhen the test runs it appears that it tries to write to the Local Datastore, but everything somehow ends up being written to the Cloud Datastore. Here&#39;s the console output \r\n\r\n&gt; com.google.appengine.api.datastore.dev.LocalDatastoreService init\r\nINFO: Local Datastore initialized: \r\n\tType: High Replication\r\n\tStorage: In-memory\r\nJan 09, 2019 10:44:49 AM com.google.appengine.api.datastore.dev.LocalDatastoreService init\r\nINFO: Local Datastore initialized: \r\n\tType: High Replication\r\n\tStorage: In-memory\r\n\r\n\r\n\r\nHere&#39;s my Unit Test\r\n\r\n    public class AccountGCPDatastoreDaoTest {\r\n\r\n    private final LocalServiceTestHelper helper = new LocalServiceTestHelper(\r\n                new LocalDatastoreServiceTestConfig().setApplyAllHighRepJobPolicy());\r\n\r\n    private Closeable session;\r\n\r\n    private AccountGCPDatastoreDao dao = new AccountGCPDatastoreDao();\r\n\r\n    @BeforeClass\r\n    public static void setUpBeforeClass() {\r\n        System.out.println(&quot;init Objectify&quot;);\r\n        ObjectifyService.init(new ObjectifyFactory());\r\n        ObjectifyService.register(Account.class);\r\n    }\r\n\r\n    @Before\r\n    public void setUp() { ;\r\n        helper.setUp();\r\n        session = ObjectifyService.begin();\r\n    }\r\n\r\n    @After\r\n    public void tearDown() {\r\n        session.close();\r\n        helper.tearDown();\r\n    }\r\n\r\n\r\n    @Test\r\n    public void save() {\r\n        Account account = new Account(1L, &quot;Test Account&quot;, false, AccountType.SMALL);\r\n        dao.save(account);\r\n\r\n        Account retAcc = ofy().load().type(Account.class).id(1).now();\r\n        assertEquals(new Long(1),retAcc.getId());\r\n        assertEquals(&quot;Test Account&quot;,retAcc.getName());\r\n        assertFalse(retAcc.getPaidSubscription());\r\n        assertEquals(AccountType.SMALL,retAcc.getAccountType());\r\n    }\r\n\r\n\r\n    @Test\r\n    public void findAccountsForRegistration_NoAccountsExist() {\r\n\r\n        List&lt;Account&gt; accountsForRegistration = dao.findAccountsForRegistration();\r\n        assertEquals(0,accountsForRegistration.size());\r\n\r\n\r\n    }\r\n\r\nMy Account entity :\r\n\r\n    @Entity\r\n    public class Account {\r\n\r\n    @Id private Long id;\r\n    private String name;\r\n    private boolean paidSubscription;\r\n    @Index private AccountType accountType;\r\n\r\n    private Account(){}\r\n\r\n    public Account(Long id,\r\n                   String name,\r\n                   boolean paidSubscription,\r\n                   AccountType accountType){\r\n        this.id = id;\r\n        this.name = name;\r\n        this.paidSubscription = paidSubscription;\r\n        this.accountType = accountType;\r\n    }\r\n\r\n    public Long getId() {\r\n        return id;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public AccountType getAccountType(){\r\n        return accountType;\r\n    }\r\n\r\n    public boolean getPaidSubscription() {\r\n        return paidSubscription;\r\n    }\r\n}\r\n\r\n\r\n  [1]: https://cloud.google.com/appengine/docs/standard/java/tools/localunittesting","title":"Objectify Unit Tests are persisting data to Google Cloud Datastore","body":"<p>I have a Unit Test that attempts to follow the Unit Test instructions found <a href=\"https://cloud.google.com/appengine/docs/standard/java/tools/localunittesting\" rel=\"nofollow noreferrer\">here</a>. I find that any entities that I persist are actually stored in the \"real\" Google Cloud Platform DataStore associated with my Google Project.</p>\n\n<p>My intention was that the Entities would be persisted to In Memory storage and torn down after each test.</p>\n\n<p>When the test runs it appears that it tries to write to the Local Datastore, but everything somehow ends up being written to the Cloud Datastore. Here's the console output </p>\n\n<blockquote>\n  <p>com.google.appengine.api.datastore.dev.LocalDatastoreService init\n  INFO: Local Datastore initialized: \n      Type: High Replication\n      Storage: In-memory\n  Jan 09, 2019 10:44:49 AM com.google.appengine.api.datastore.dev.LocalDatastoreService init\n  INFO: Local Datastore initialized: \n      Type: High Replication\n      Storage: In-memory</p>\n</blockquote>\n\n<p>Here's my Unit Test</p>\n\n<pre><code>public class AccountGCPDatastoreDaoTest {\n\nprivate final LocalServiceTestHelper helper = new LocalServiceTestHelper(\n            new LocalDatastoreServiceTestConfig().setApplyAllHighRepJobPolicy());\n\nprivate Closeable session;\n\nprivate AccountGCPDatastoreDao dao = new AccountGCPDatastoreDao();\n\n@BeforeClass\npublic static void setUpBeforeClass() {\n    System.out.println(\"init Objectify\");\n    ObjectifyService.init(new ObjectifyFactory());\n    ObjectifyService.register(Account.class);\n}\n\n@Before\npublic void setUp() { ;\n    helper.setUp();\n    session = ObjectifyService.begin();\n}\n\n@After\npublic void tearDown() {\n    session.close();\n    helper.tearDown();\n}\n\n\n@Test\npublic void save() {\n    Account account = new Account(1L, \"Test Account\", false, AccountType.SMALL);\n    dao.save(account);\n\n    Account retAcc = ofy().load().type(Account.class).id(1).now();\n    assertEquals(new Long(1),retAcc.getId());\n    assertEquals(\"Test Account\",retAcc.getName());\n    assertFalse(retAcc.getPaidSubscription());\n    assertEquals(AccountType.SMALL,retAcc.getAccountType());\n}\n\n\n@Test\npublic void findAccountsForRegistration_NoAccountsExist() {\n\n    List&lt;Account&gt; accountsForRegistration = dao.findAccountsForRegistration();\n    assertEquals(0,accountsForRegistration.size());\n\n\n}\n</code></pre>\n\n<p>My Account entity :</p>\n\n<pre><code>@Entity\npublic class Account {\n\n@Id private Long id;\nprivate String name;\nprivate boolean paidSubscription;\n@Index private AccountType accountType;\n\nprivate Account(){}\n\npublic Account(Long id,\n               String name,\n               boolean paidSubscription,\n               AccountType accountType){\n    this.id = id;\n    this.name = name;\n    this.paidSubscription = paidSubscription;\n    this.accountType = accountType;\n}\n\npublic Long getId() {\n    return id;\n}\n\npublic String getName() {\n    return name;\n}\n\npublic AccountType getAccountType(){\n    return accountType;\n}\n\npublic boolean getPaidSubscription() {\n    return paidSubscription;\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":["java","random","random-seed"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1689356057,"post_id":76689066,"comment_id":135207106,"body_markdown":"In your example code, Should the leftmost `(` be &#39;{` and the rightmost `)` be `}` ?  Also, your example should show how `random` is declared and initialized. Is it `Random random = new Random ()`, or what?","body":"In your example code, Should the leftmost <code>(</code> be &#39;{` and the rightmost <code>)</code> be <code>}</code> ?  Also, your example should show how <code>random</code> is declared and initialized. Is it <code>Random random = new Random ()</code>, or what?"}],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1689350354,"creation_date":1689350354,"answer_id":76689385,"question_id":76689066,"body_markdown":"No, this is not enough information to find the random seed.\r\n\r\nThe seed is a value with 48 bits: if a `Random` instance gives you a specific `int` value (with 32 bits) you can deduce that the seed currently has one of 65_536 possible values.\r\n\r\nWhen you call `random.nextInt(16)` the result is one of 16 possible values - which means there are 17_592_186_044_416 possible seed values that can produce that specific result. By calling `random.nextInt(16)` several times and storing the returned values you could reduce that search space by at most 1/16th for every generated random number in the range 0-15.\r\n\r\nBut by calculating `random.nextInt(16) - random.nextInt(16)` you loose much of the information that could be gained - if the difference is 0 you don&#39;t know if both calls returned 0, both returned 1, both returned 2, ..., both returned 15. Likewise if the difference is 1 it could be that the first call returned 1 and the second call 0, the first call could have returned 2 and the second call 1, etc....\r\n\r\nThere are billions and billions possible seed values that can generate the same sequence of three values that you store in `int[] pos`.","title":"How do I get the seed from a Random with a bound in Java?","body":"<p>No, this is not enough information to find the random seed.</p>\n<p>The seed is a value with 48 bits: if a <code>Random</code> instance gives you a specific <code>int</code> value (with 32 bits) you can deduce that the seed currently has one of 65_536 possible values.</p>\n<p>When you call <code>random.nextInt(16)</code> the result is one of 16 possible values - which means there are 17_592_186_044_416 possible seed values that can produce that specific result. By calling <code>random.nextInt(16)</code> several times and storing the returned values you could reduce that search space by at most 1/16th for every generated random number in the range 0-15.</p>\n<p>But by calculating <code>random.nextInt(16) - random.nextInt(16)</code> you loose much of the information that could be gained - if the difference is 0 you don't know if both calls returned 0, both returned 1, both returned 2, ..., both returned 15. Likewise if the difference is 1 it could be that the first call returned 1 and the second call 0, the first call could have returned 2 and the second call 1, etc....</p>\n<p>There are billions and billions possible seed values that can generate the same sequence of three values that you store in <code>int[] pos</code>.</p>\n"},{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689354910,"creation_date":1689354424,"answer_id":76689845,"question_id":76689066,"body_markdown":"`&quot;Can I calculate the seed from the following code with the 3 numbers that come out of the calculation?&quot;`\r\n\r\nNo...I don&#39;t think you can, but you can keep track of them via the index number of the returned value in question from the `pos` array by placing the seeds in 2D int[][] array. For example:\r\n\r\n    Random random = new Random();\r\n    int[][] seeds = {{16, 16}, {8, 8}, {16, 16}};\r\n\r\n    int[] pos = new int[seeds.length];\r\n    for (int i = 0; i &lt; seeds.length; i++) {\r\n        pos[i] = random.nextInt(seeds[i][0]) - random.nextInt(seeds[i][1]);\r\n    }\r\n        \r\n    StringBuilder sb = new StringBuilder(&quot;&quot;);\r\n    System.out.println(&quot;Random Values Generated:\\n&quot;\r\n                     + &quot;------------------------&quot;);\r\n    for (int i = 0; i &lt; pos.length; i++) {\r\n        sb.setLength(0);\r\n        sb.append(&quot;Random `pos` value at Index #&quot;).append(i).append(&quot; is &quot;)\r\n                .append(pos[i]).append(&quot; from seed(s): &quot;);\r\n        for (int j = 0; j &lt; seeds[i].length; j++) {\r\n            sb.append(seeds[i][j]);\r\n            if (j &lt; seeds[i].length - 1) {\r\n                sb.append(&quot;, &quot;);\r\n            }\r\n        }\r\n        System.out.println(sb.toString());\r\n    }\r\n\r\nOutput to Console window would look something like this:\r\n\r\n```\r\nRandom Values Generated:\r\n------------------------\r\nRandom `pos` value at Index #0 is 3 from seed(s): 16, 16\r\nRandom `pos` value at Index #1 is 1 from seed(s): 8, 8\r\nRandom `pos` value at Index #2 is 4 from seed(s): 16, 16\r\n```\r\n","title":"How do I get the seed from a Random with a bound in Java?","body":"<p><code>&quot;Can I calculate the seed from the following code with the 3 numbers that come out of the calculation?&quot;</code></p>\n<p>No...I don't think you can, but you can keep track of them via the index number of the returned value in question from the <code>pos</code> array by placing the seeds in 2D int[][] array. For example:</p>\n<pre><code>Random random = new Random();\nint[][] seeds = {{16, 16}, {8, 8}, {16, 16}};\n\nint[] pos = new int[seeds.length];\nfor (int i = 0; i &lt; seeds.length; i++) {\n    pos[i] = random.nextInt(seeds[i][0]) - random.nextInt(seeds[i][1]);\n}\n    \nStringBuilder sb = new StringBuilder(&quot;&quot;);\nSystem.out.println(&quot;Random Values Generated:\\n&quot;\n                 + &quot;------------------------&quot;);\nfor (int i = 0; i &lt; pos.length; i++) {\n    sb.setLength(0);\n    sb.append(&quot;Random `pos` value at Index #&quot;).append(i).append(&quot; is &quot;)\n            .append(pos[i]).append(&quot; from seed(s): &quot;);\n    for (int j = 0; j &lt; seeds[i].length; j++) {\n        sb.append(seeds[i][j]);\n        if (j &lt; seeds[i].length - 1) {\n            sb.append(&quot;, &quot;);\n        }\n    }\n    System.out.println(sb.toString());\n}\n</code></pre>\n<p>Output to Console window would look something like this:</p>\n<pre><code>Random Values Generated:\n------------------------\nRandom `pos` value at Index #0 is 3 from seed(s): 16, 16\nRandom `pos` value at Index #1 is 1 from seed(s): 8, 8\nRandom `pos` value at Index #2 is 4 from seed(s): 16, 16\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1689429220,"creation_date":1689358845,"answer_id":76690263,"question_id":76689066,"body_markdown":"You just get the seed. Period. \r\n\r\nThe bound is mostly irrelevant to the value of the seed.[1]\r\n\r\nHere are some excerpts from the [source code for java.util.Random](https://developer.classpath.org/doc/java/util/Random-source.html):\r\n\r\n    protected synchronized int next(int bits)\r\n    {\r\n       seed = (seed * 0x5DEECE66DL + 0xBL) &amp; ((1L &lt;&lt; 48) - 1);\r\n       return (int) (seed &gt;&gt;&gt; (48 - bits));\r\n    }\r\n\r\nAnd  \r\n    \r\n    public int nextInt(int n)\r\n    {\r\n      if (n &lt;= 0)\r\n        throw new IllegalArgumentException(&quot;n must be positive&quot;);\r\n      if ((n &amp; -n) == n) // i.e., n is a power of 2\r\n       return (int) ((n * (long) next(31)) &gt;&gt; 31);\r\n      int bits, val;\r\n      do\r\n        {\r\n         bits = next(31);\r\n         val = bits % n;\r\n        }\r\n      while (bits - val + (n - 1) &lt; 0);\r\n      return val;\r\n    }\r\n\r\nNote the value of `seed` is calculated in `next (int bits)`. It &quot;knows&quot; only the current value of `seed` and the number of desired bits. \r\n\r\nNote within `nextInt (int n)`, where `n` is the bound, `next` is always called with a value of `31`. So, `next (int bits)` knows nothing about the bound. \r\n\r\n[1] Note some values of the bound can result in `next()` being called more than once within `nextInt(int n)`. That seems to be the only way a bound can affect the value of `seed`.\r\n\r\n[2] This answer does not explain why you cannot take the results of some calls to nextInt (int n) and calculate the seed from the results. An [earlier answer](https://stackoverflow.com/questions/76689066/how-do-i-get-the-seed-from-a-random-with-a-bound-in-java/76689385#76689385) does a good with that that. This answer is supplementary, and is a response to the &quot;I can only find examples to find out the java.until.random seed without a bound in the numbers&quot; part of the question.","title":"How do I get the seed from a Random with a bound in Java?","body":"<p>You just get the seed. Period.</p>\n<p>The bound is mostly irrelevant to the value of the seed.[1]</p>\n<p>Here are some excerpts from the <a href=\"https://developer.classpath.org/doc/java/util/Random-source.html\" rel=\"nofollow noreferrer\">source code for java.util.Random</a>:</p>\n<pre><code>protected synchronized int next(int bits)\n{\n   seed = (seed * 0x5DEECE66DL + 0xBL) &amp; ((1L &lt;&lt; 48) - 1);\n   return (int) (seed &gt;&gt;&gt; (48 - bits));\n}\n</code></pre>\n<p>And</p>\n<pre><code>public int nextInt(int n)\n{\n  if (n &lt;= 0)\n    throw new IllegalArgumentException(&quot;n must be positive&quot;);\n  if ((n &amp; -n) == n) // i.e., n is a power of 2\n   return (int) ((n * (long) next(31)) &gt;&gt; 31);\n  int bits, val;\n  do\n    {\n     bits = next(31);\n     val = bits % n;\n    }\n  while (bits - val + (n - 1) &lt; 0);\n  return val;\n}\n</code></pre>\n<p>Note the value of <code>seed</code> is calculated in <code>next (int bits)</code>. It &quot;knows&quot; only the current value of <code>seed</code> and the number of desired bits.</p>\n<p>Note within <code>nextInt (int n)</code>, where <code>n</code> is the bound, <code>next</code> is always called with a value of <code>31</code>. So, <code>next (int bits)</code> knows nothing about the bound.</p>\n<p>[1] Note some values of the bound can result in <code>next()</code> being called more than once within <code>nextInt(int n)</code>. That seems to be the only way a bound can affect the value of <code>seed</code>.</p>\n<p>[2] This answer does not explain why you cannot take the results of some calls to nextInt (int n) and calculate the seed from the results. An <a href=\"https://stackoverflow.com/questions/76689066/how-do-i-get-the-seed-from-a-random-with-a-bound-in-java/76689385#76689385\">earlier answer</a> does a good with that that. This answer is supplementary, and is a response to the &quot;I can only find examples to find out the java.until.random seed without a bound in the numbers&quot; part of the question.</p>\n"}],"owner":{"account_id":29018264,"reputation":11,"user_id":22228259,"display_name":"Zacharias N&#252;rnberger"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1689429220,"creation_date":1689347756,"question_id":76689066,"body_markdown":"```JAVA\r\nint[] pos = (random.nextInt(16) - random.nextInt(16), random.nextInt(8) - random.nextInt(8), random.nextInt(16) - random.nextInt(16));\r\n```\r\n\r\nHello,\r\nCan I calculate the seed from the following code with the 3 numbers that come out of the calculation?\r\n\r\n\r\nI can only find examples to find out the `java.until.random` seed without a bound in the numbers.","title":"How do I get the seed from a Random with a bound in Java?","body":"<pre><code>int[] pos = (random.nextInt(16) - random.nextInt(16), random.nextInt(8) - random.nextInt(8), random.nextInt(16) - random.nextInt(16));\n</code></pre>\n<p>Hello,\nCan I calculate the seed from the following code with the 3 numbers that come out of the calculation?</p>\n<p>I can only find examples to find out the <code>java.until.random</code> seed without a bound in the numbers.</p>\n"},{"tags":["java","jersey","httpserver"],"answers":[{"comments":[{"owner":{"account_id":160779,"reputation":2279,"user_id":381091,"accept_rate":100,"display_name":"Speck"},"score":0,"creation_date":1417328484,"post_id":17834810,"comment_id":42902703,"body_markdown":"I didn&#39;t want to do this but came back to it after running into conflicting jar files in other solutions. I will mention that &quot;httpServer.createContext(&quot;/&quot;, new MyHandler());&quot; is the line to add your handler to the server. The &#39;/&#39; is required to begin the path.","body":"I didn&#39;t want to do this but came back to it after running into conflicting jar files in other solutions. I will mention that &quot;httpServer.createContext(&quot;/&quot;, new MyHandler());&quot; is the line to add your handler to the server. The &#39;/&#39; is required to begin the path."},{"owner":{"account_id":1662580,"reputation":956,"user_id":1530567,"accept_rate":69,"display_name":"Ashok Shah"},"score":0,"creation_date":1441455260,"post_id":17834810,"comment_id":52693073,"body_markdown":"i am using windows. And I want my D: drive to use as root folder. Any suggestion.","body":"i am using windows. And I want my D: drive to use as root folder. Any suggestion."},{"owner":{"account_id":103073,"reputation":9057,"user_id":276263,"accept_rate":58,"display_name":"krishnakumarp"},"score":0,"creation_date":1484489332,"post_id":17834810,"comment_id":70522277,"body_markdown":"Starting Java 7, use String mime = Files.probeContentType(file.toPath());","body":"Starting Java 7, use String mime = Files.probeContentType(file.toPath());"},{"owner":{"account_id":16209,"reputation":280512,"user_id":35070,"accept_rate":78,"display_name":"phihag"},"score":0,"creation_date":1487807993,"post_id":17834810,"comment_id":71956036,"body_markdown":"@krishnakumarp That&#39;s potentially a bad idea if you allow file uploads: An attacker could trick you into mislabeling the file. For instance, suppose another part of your website allows text uploads as long as files end in `.txt`. Than your suggestion would allow attackers to place executables on the server. Better to look at something enforcable.","body":"@krishnakumarp That&#39;s potentially a bad idea if you allow file uploads: An attacker could trick you into mislabeling the file. For instance, suppose another part of your website allows text uploads as long as files end in <code>.txt</code>. Than your suggestion would allow attackers to place executables on the server. Better to look at something enforcable."}],"tags":[],"owner":{"account_id":3039000,"reputation":99,"user_id":2576465,"display_name":"user2576465"},"comment_count":4,"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1549399905,"creation_date":1374670898,"answer_id":17834810,"question_id":15902662,"body_markdown":"This will do the trick, though it does allow anyone to walk the tree by requesting ../../../\r\nYou can change ./wwwroot to any valid java filepath.\r\n\r\n    static class MyHandler implements HttpHandler {\r\n        public void handle(HttpExchange t) throws IOException {\r\n\t\t\tString root = &quot;./wwwroot&quot;;\r\n\t\t\tURI uri = t.getRequestURI();\r\n\t\t\tSystem.out.println(&quot;looking for: &quot;+ root + uri.getPath());\r\n\t\t\tString path = uri.getPath();\r\n\t\t\tFile file = new File(root + path).getCanonicalFile();\r\n\t\t\t\r\n\t\t\tif (!file.isFile()) {\r\n\t\t\t  // Object does not exist or is not a file: reject with 404 error.\r\n\t\t\t  String response = &quot;404 (Not Found)\\n&quot;;\r\n\t\t\t  t.sendResponseHeaders(404, response.length());\r\n\t\t\t  OutputStream os = t.getResponseBody();\r\n\t\t\t  os.write(response.getBytes());\r\n\t\t\t  os.close();\r\n\t\t\t} else {\r\n\t\t\t  // Object exists and is a file: accept with response code 200.\r\n\t\t\t  String mime = &quot;text/html&quot;;\r\n\t\t\t  if(path.substring(path.length()-3).equals(&quot;.js&quot;)) mime = &quot;application/javascript&quot;;\r\n\t\t\t  if(path.substring(path.length()-3).equals(&quot;css&quot;)) mime = &quot;text/css&quot;;\t\t\t  \r\n\r\n\t\t\t  Headers h = t.getResponseHeaders();\r\n\t\t\t  h.set(&quot;Content-Type&quot;, mime);\r\n\t\t\t  t.sendResponseHeaders(200, 0);\t\t\t  \r\n\r\n\t\t\t  OutputStream os = t.getResponseBody();\r\n\t\t\t  FileInputStream fs = new FileInputStream(file);\r\n\t\t\t  final byte[] buffer = new byte[0x10000];\r\n\t\t\t  int count = 0;\r\n\t\t\t  while ((count = fs.read(buffer)) &gt;= 0) {\r\n\t\t\t\tos.write(buffer,0,count);\r\n\t\t\t  }\r\n\t\t\t  fs.close();\r\n\t\t\t  os.close();\r\n\t\t\t}  \r\n        }\r\n    }","title":"How to serve static content using suns simple httpserver","body":"<p>This will do the trick, though it does allow anyone to walk the tree by requesting ../../../\nYou can change ./wwwroot to any valid java filepath.</p>\n\n<pre><code>static class MyHandler implements HttpHandler {\n    public void handle(HttpExchange t) throws IOException {\n        String root = \"./wwwroot\";\n        URI uri = t.getRequestURI();\n        System.out.println(\"looking for: \"+ root + uri.getPath());\n        String path = uri.getPath();\n        File file = new File(root + path).getCanonicalFile();\n\n        if (!file.isFile()) {\n          // Object does not exist or is not a file: reject with 404 error.\n          String response = \"404 (Not Found)\\n\";\n          t.sendResponseHeaders(404, response.length());\n          OutputStream os = t.getResponseBody();\n          os.write(response.getBytes());\n          os.close();\n        } else {\n          // Object exists and is a file: accept with response code 200.\n          String mime = \"text/html\";\n          if(path.substring(path.length()-3).equals(\".js\")) mime = \"application/javascript\";\n          if(path.substring(path.length()-3).equals(\"css\")) mime = \"text/css\";            \n\n          Headers h = t.getResponseHeaders();\n          h.set(\"Content-Type\", mime);\n          t.sendResponseHeaders(200, 0);              \n\n          OutputStream os = t.getResponseBody();\n          FileInputStream fs = new FileInputStream(file);\n          final byte[] buffer = new byte[0x10000];\n          int count = 0;\n          while ((count = fs.read(buffer)) &gt;= 0) {\n            os.write(buffer,0,count);\n          }\n          fs.close();\n          os.close();\n        }  \n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16209,"reputation":280512,"user_id":35070,"accept_rate":78,"display_name":"phihag"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1487807224,"creation_date":1487807224,"answer_id":42404471,"question_id":15902662,"body_markdown":"Here is a safe version. You may want to add a couple of MIME types, depending on which ones are common (or use another method if [your platform has that](https://developer.android.com/reference/android/webkit/MimeTypeMap.html)).\r\n\r\n    package de.phihag.miniticker;\r\n    \r\n    import java.io.File;\r\n    import java.io.FileInputStream;\r\n    import java.io.FileNotFoundException;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.io.OutputStream;\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    \r\n    import com.sun.net.httpserver.HttpExchange;\r\n    import com.sun.net.httpserver.HttpHandler;\r\n    import com.sun.net.httpserver.HttpServer;\r\n    \r\n    public class StaticFileHandler implements HttpHandler {\r\n    \tprivate static final Map&lt;String,String&gt; MIME_MAP = new HashMap&lt;&gt;();\r\n    \tstatic {\r\n    \t\tMIME_MAP.put(&quot;appcache&quot;, &quot;text/cache-manifest&quot;);\r\n    \t\tMIME_MAP.put(&quot;css&quot;, &quot;text/css&quot;);\r\n    \t\tMIME_MAP.put(&quot;gif&quot;, &quot;image/gif&quot;);\r\n    \t\tMIME_MAP.put(&quot;html&quot;, &quot;text/html&quot;);\r\n    \t\tMIME_MAP.put(&quot;js&quot;, &quot;application/javascript&quot;);\r\n    \t\tMIME_MAP.put(&quot;json&quot;, &quot;application/json&quot;);\r\n    \t\tMIME_MAP.put(&quot;jpg&quot;, &quot;image/jpeg&quot;);\r\n    \t\tMIME_MAP.put(&quot;jpeg&quot;, &quot;image/jpeg&quot;);\r\n    \t\tMIME_MAP.put(&quot;mp4&quot;, &quot;video/mp4&quot;);\r\n    \t\tMIME_MAP.put(&quot;pdf&quot;, &quot;application/pdf&quot;);\r\n    \t\tMIME_MAP.put(&quot;png&quot;, &quot;image/png&quot;);\r\n    \t\tMIME_MAP.put(&quot;svg&quot;, &quot;image/svg+xml&quot;);\r\n    \t\tMIME_MAP.put(&quot;xlsm&quot;, &quot;application/vnd.openxmlformats-officedocument.spreadsheetml.sheet&quot;);\r\n    \t\tMIME_MAP.put(&quot;xml&quot;, &quot;application/xml&quot;);\r\n    \t\tMIME_MAP.put(&quot;zip&quot;, &quot;application/zip&quot;);\r\n    \t\tMIME_MAP.put(&quot;md&quot;, &quot;text/plain&quot;);\r\n    \t\tMIME_MAP.put(&quot;txt&quot;, &quot;text/plain&quot;);\r\n    \t\tMIME_MAP.put(&quot;php&quot;, &quot;text/plain&quot;);\r\n    \t};\r\n    \t\r\n    \tprivate String filesystemRoot;\r\n    \tprivate String urlPrefix;\r\n    \tprivate String directoryIndex;\r\n    \t\r\n    \t/**\r\n    \t * @param urlPrefix The prefix of all URLs.\r\n    \t * \t\t\t         This is the first argument to createContext. Must start and end in a slash.\r\n    \t * @param filesystemRoot The root directory in the filesystem.\r\n    \t *                       Only files under this directory will be served to the client.\r\n    \t *                       For instance &quot;./staticfiles&quot;.\r\n    \t * @param directoryIndex File to show when a directory is requested, e.g. &quot;index.html&quot;.\r\n    \t */\r\n    \tpublic StaticFileHandler(String urlPrefix, String filesystemRoot, String directoryIndex) {\r\n    \t\tif (!urlPrefix.startsWith(&quot;/&quot;)) {\r\n    \t\t\tthrow new RuntimeException(&quot;pathPrefix does not start with a slash&quot;);\r\n    \t\t}\r\n    \t\tif (!urlPrefix.endsWith(&quot;/&quot;)) {\r\n    \t\t\tthrow new RuntimeException(&quot;pathPrefix does not end with a slash&quot;);\r\n    \t\t}\r\n    \t\tthis.urlPrefix = urlPrefix;\r\n    \r\n    \t\tassert filesystemRoot.endsWith(&quot;/&quot;);\r\n    \t\ttry {\r\n    \t\t\tthis.filesystemRoot = new File(filesystemRoot).getCanonicalPath();\r\n    \t\t} catch (IOException e) {\r\n    \t\t\tthrow new RuntimeException(e);\r\n    \t\t}\r\n    \t\t\r\n    \t\tthis.directoryIndex = directoryIndex;\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Create and register a new static file handler.\r\n    \t * @param hs The HTTP server where the file handler will be registered.\r\n    \t * @param path The path in the URL prefixed to all requests, such as &quot;/static/&quot;\r\n    \t * @param filesystemRoot The filesystem location.\r\n    \t *                       For instance &quot;/var/www/mystaticfiles/&quot;.\r\n    \t *                       A request to &quot;/static/x/y.html&quot; will be served from the filesystem file &quot;/var/www/mystaticfiles/x/y.html&quot;\r\n    \t * @param directoryIndex File to show when a directory is requested, e.g. &quot;index.html&quot;.\r\n    \t */\r\n    \tpublic static void create(HttpServer hs, String path, String filesystemRoot, String directoryIndex) {\r\n    \t\tStaticFileHandler sfh = new StaticFileHandler(path, filesystemRoot, directoryIndex);\r\n    \t\ths.createContext(path, sfh);\r\n    \t}\r\n    \t\r\n    \tpublic void handle(HttpExchange he) throws IOException {\r\n    \t\tString method = he.getRequestMethod(); \r\n    \t\tif (! (&quot;HEAD&quot;.equals(method) || &quot;GET&quot;.equals(method))) {\r\n    \t\t\tsendError(he, 501, &quot;Unsupported HTTP method&quot;);\r\n    \t\t\treturn;\r\n    \t\t}\r\n    \t\t\r\n    \t\tString wholeUrlPath = he.getRequestURI().getPath();\r\n    \t\tif (wholeUrlPath.endsWith(&quot;/&quot;)) {\r\n    \t\t\twholeUrlPath += directoryIndex;\r\n    \t\t}\r\n    \t\tif (! wholeUrlPath.startsWith(urlPrefix)) {\r\n    \t\t\tthrow new RuntimeException(&quot;Path is not in prefix - incorrect routing?&quot;);\r\n    \t\t}\r\n    \t\tString urlPath = wholeUrlPath.substring(urlPrefix.length());\r\n    \t\t\r\n    \t\tFile f = new File(filesystemRoot, urlPath);\r\n    \t\tFile canonicalFile;\r\n    \t\ttry {\r\n    \t\t\tcanonicalFile = f.getCanonicalFile();\r\n    \t\t} catch (IOException e) {\r\n    \t\t\t// This may be more benign (i.e. not an attack, just a 403),\r\n    \t\t\t// but we don&#39;t want the attacker to be able to discern the difference.\r\n    \t\t\treportPathTraversal(he);\r\n    \t\t\treturn;\r\n    \t\t}\r\n    \t\t\r\n    \t\tString canonicalPath = canonicalFile.getPath();\r\n    \t\tif (! canonicalPath.startsWith(filesystemRoot)) {\r\n    \t\t\treportPathTraversal(he);\r\n    \t\t\treturn;\r\n    \t\t}\r\n    \r\n    \t\tFileInputStream fis;\r\n    \t\ttry {\r\n    \t\t\tfis = new FileInputStream(canonicalFile);\r\n    \t\t} catch (FileNotFoundException e) {\r\n    \t\t\t// The file may also be forbidden to us instead of missing, but we&#39;re leaking less information this way \r\n    \t\t\tsendError(he, 404, &quot;File not found&quot;); \r\n    \t\t\treturn;\r\n    \t\t}\r\n    \r\n    \t\tString mimeType = lookupMime(urlPath);\r\n    \t\the.getResponseHeaders().set(&quot;Content-Type&quot;, mimeType);\r\n    \t\tif (&quot;GET&quot;.equals(method)) {\r\n    \t\t\the.sendResponseHeaders(200, canonicalFile.length());\t\t\t\r\n    \t\t\tOutputStream os = he.getResponseBody();\r\n    \t\t\tcopyStream(fis, os);\r\n    \t\t\tos.close();\r\n    \t\t} else {\r\n    \t\t\tassert(&quot;HEAD&quot;.equals(method));\r\n    \t\t\the.sendResponseHeaders(200, -1);\r\n    \t\t}\r\n    \t\tfis.close();\r\n    \t}\r\n    \r\n    \tprivate void copyStream(InputStream is, OutputStream os) throws IOException {\r\n            byte[] buf = new byte[4096];\r\n            int n;\r\n            while ((n = is.read(buf)) &gt;= 0) {\r\n                os.write(buf, 0, n);\r\n            }\r\n    \t}\r\n    \r\n    \tprivate void sendError(HttpExchange he, int rCode, String description) throws IOException {\r\n    \t\tString message = &quot;HTTP error &quot; + rCode + &quot;: &quot; + description;\r\n    \t\tbyte[] messageBytes = message.getBytes(&quot;UTF-8&quot;);\r\n    \r\n    \t\the.getResponseHeaders().set(&quot;Content-Type&quot;, &quot;text/plain; charset=utf-8&quot;);\r\n    \t\the.sendResponseHeaders(rCode, messageBytes.length);\r\n    \t\tOutputStream os = he.getResponseBody();\r\n    \t\tos.write(messageBytes);\r\n    \t\tos.close();\r\n    \t}\r\n    \t\r\n    \t// This is one function to avoid giving away where we failed \r\n    \tprivate void reportPathTraversal(HttpExchange he) throws IOException {\r\n    \t\tsendError(he, 400, &quot;Path traversal attempt detected&quot;);\r\n    \t}\r\n    \r\n    \tprivate static String getExt(String path) {\r\n    \t\tint slashIndex = path.lastIndexOf(&#39;/&#39;);\r\n    \t\tString basename = (slashIndex &lt; 0) ? path : path.substring(slashIndex + 1);\r\n    \r\n    \t\tint dotIndex = basename.lastIndexOf(&#39;.&#39;);\r\n    \t\tif (dotIndex &gt;= 0) {\r\n    \t\t\treturn basename.substring(dotIndex + 1);\r\n    \t\t} else {\r\n    \t\t\treturn &quot;&quot;;\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprivate static String lookupMime(String path) {\r\n    \t\tString ext = getExt(path).toLowerCase();\r\n    \t\treturn MIME_MAP.getOrDefault(ext, &quot;application/octet-stream&quot;);\r\n    \t}\r\n    }\r\n","title":"How to serve static content using suns simple httpserver","body":"<p>Here is a safe version. You may want to add a couple of MIME types, depending on which ones are common (or use another method if <a href=\"https://developer.android.com/reference/android/webkit/MimeTypeMap.html\" rel=\"noreferrer\">your platform has that</a>).</p>\n\n<pre><code>package de.phihag.miniticker;\n\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.FileNotFoundException;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.OutputStream;\nimport java.util.HashMap;\nimport java.util.Map;\n\nimport com.sun.net.httpserver.HttpExchange;\nimport com.sun.net.httpserver.HttpHandler;\nimport com.sun.net.httpserver.HttpServer;\n\npublic class StaticFileHandler implements HttpHandler {\n    private static final Map&lt;String,String&gt; MIME_MAP = new HashMap&lt;&gt;();\n    static {\n        MIME_MAP.put(\"appcache\", \"text/cache-manifest\");\n        MIME_MAP.put(\"css\", \"text/css\");\n        MIME_MAP.put(\"gif\", \"image/gif\");\n        MIME_MAP.put(\"html\", \"text/html\");\n        MIME_MAP.put(\"js\", \"application/javascript\");\n        MIME_MAP.put(\"json\", \"application/json\");\n        MIME_MAP.put(\"jpg\", \"image/jpeg\");\n        MIME_MAP.put(\"jpeg\", \"image/jpeg\");\n        MIME_MAP.put(\"mp4\", \"video/mp4\");\n        MIME_MAP.put(\"pdf\", \"application/pdf\");\n        MIME_MAP.put(\"png\", \"image/png\");\n        MIME_MAP.put(\"svg\", \"image/svg+xml\");\n        MIME_MAP.put(\"xlsm\", \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\");\n        MIME_MAP.put(\"xml\", \"application/xml\");\n        MIME_MAP.put(\"zip\", \"application/zip\");\n        MIME_MAP.put(\"md\", \"text/plain\");\n        MIME_MAP.put(\"txt\", \"text/plain\");\n        MIME_MAP.put(\"php\", \"text/plain\");\n    };\n\n    private String filesystemRoot;\n    private String urlPrefix;\n    private String directoryIndex;\n\n    /**\n     * @param urlPrefix The prefix of all URLs.\n     *                   This is the first argument to createContext. Must start and end in a slash.\n     * @param filesystemRoot The root directory in the filesystem.\n     *                       Only files under this directory will be served to the client.\n     *                       For instance \"./staticfiles\".\n     * @param directoryIndex File to show when a directory is requested, e.g. \"index.html\".\n     */\n    public StaticFileHandler(String urlPrefix, String filesystemRoot, String directoryIndex) {\n        if (!urlPrefix.startsWith(\"/\")) {\n            throw new RuntimeException(\"pathPrefix does not start with a slash\");\n        }\n        if (!urlPrefix.endsWith(\"/\")) {\n            throw new RuntimeException(\"pathPrefix does not end with a slash\");\n        }\n        this.urlPrefix = urlPrefix;\n\n        assert filesystemRoot.endsWith(\"/\");\n        try {\n            this.filesystemRoot = new File(filesystemRoot).getCanonicalPath();\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n\n        this.directoryIndex = directoryIndex;\n    }\n\n    /**\n     * Create and register a new static file handler.\n     * @param hs The HTTP server where the file handler will be registered.\n     * @param path The path in the URL prefixed to all requests, such as \"/static/\"\n     * @param filesystemRoot The filesystem location.\n     *                       For instance \"/var/www/mystaticfiles/\".\n     *                       A request to \"/static/x/y.html\" will be served from the filesystem file \"/var/www/mystaticfiles/x/y.html\"\n     * @param directoryIndex File to show when a directory is requested, e.g. \"index.html\".\n     */\n    public static void create(HttpServer hs, String path, String filesystemRoot, String directoryIndex) {\n        StaticFileHandler sfh = new StaticFileHandler(path, filesystemRoot, directoryIndex);\n        hs.createContext(path, sfh);\n    }\n\n    public void handle(HttpExchange he) throws IOException {\n        String method = he.getRequestMethod(); \n        if (! (\"HEAD\".equals(method) || \"GET\".equals(method))) {\n            sendError(he, 501, \"Unsupported HTTP method\");\n            return;\n        }\n\n        String wholeUrlPath = he.getRequestURI().getPath();\n        if (wholeUrlPath.endsWith(\"/\")) {\n            wholeUrlPath += directoryIndex;\n        }\n        if (! wholeUrlPath.startsWith(urlPrefix)) {\n            throw new RuntimeException(\"Path is not in prefix - incorrect routing?\");\n        }\n        String urlPath = wholeUrlPath.substring(urlPrefix.length());\n\n        File f = new File(filesystemRoot, urlPath);\n        File canonicalFile;\n        try {\n            canonicalFile = f.getCanonicalFile();\n        } catch (IOException e) {\n            // This may be more benign (i.e. not an attack, just a 403),\n            // but we don't want the attacker to be able to discern the difference.\n            reportPathTraversal(he);\n            return;\n        }\n\n        String canonicalPath = canonicalFile.getPath();\n        if (! canonicalPath.startsWith(filesystemRoot)) {\n            reportPathTraversal(he);\n            return;\n        }\n\n        FileInputStream fis;\n        try {\n            fis = new FileInputStream(canonicalFile);\n        } catch (FileNotFoundException e) {\n            // The file may also be forbidden to us instead of missing, but we're leaking less information this way \n            sendError(he, 404, \"File not found\"); \n            return;\n        }\n\n        String mimeType = lookupMime(urlPath);\n        he.getResponseHeaders().set(\"Content-Type\", mimeType);\n        if (\"GET\".equals(method)) {\n            he.sendResponseHeaders(200, canonicalFile.length());            \n            OutputStream os = he.getResponseBody();\n            copyStream(fis, os);\n            os.close();\n        } else {\n            assert(\"HEAD\".equals(method));\n            he.sendResponseHeaders(200, -1);\n        }\n        fis.close();\n    }\n\n    private void copyStream(InputStream is, OutputStream os) throws IOException {\n        byte[] buf = new byte[4096];\n        int n;\n        while ((n = is.read(buf)) &gt;= 0) {\n            os.write(buf, 0, n);\n        }\n    }\n\n    private void sendError(HttpExchange he, int rCode, String description) throws IOException {\n        String message = \"HTTP error \" + rCode + \": \" + description;\n        byte[] messageBytes = message.getBytes(\"UTF-8\");\n\n        he.getResponseHeaders().set(\"Content-Type\", \"text/plain; charset=utf-8\");\n        he.sendResponseHeaders(rCode, messageBytes.length);\n        OutputStream os = he.getResponseBody();\n        os.write(messageBytes);\n        os.close();\n    }\n\n    // This is one function to avoid giving away where we failed \n    private void reportPathTraversal(HttpExchange he) throws IOException {\n        sendError(he, 400, \"Path traversal attempt detected\");\n    }\n\n    private static String getExt(String path) {\n        int slashIndex = path.lastIndexOf('/');\n        String basename = (slashIndex &lt; 0) ? path : path.substring(slashIndex + 1);\n\n        int dotIndex = basename.lastIndexOf('.');\n        if (dotIndex &gt;= 0) {\n            return basename.substring(dotIndex + 1);\n        } else {\n            return \"\";\n        }\n    }\n\n    private static String lookupMime(String path) {\n        String ext = getExt(path).toLowerCase();\n        return MIME_MAP.getOrDefault(ext, \"application/octet-stream\");\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":15396644,"reputation":25775,"user_id":11107541,"display_name":"starball"},"score":0,"creation_date":1689184923,"post_id":76670693,"comment_id":135179020,"body_markdown":"any affiliation? [/help/promotion](/help/promotion)","body":"any affiliation? <a href=\"/help/promotion\">/help/promotion</a>"}],"tags":[],"owner":{"account_id":16437617,"reputation":19,"user_id":11874829,"display_name":"ownerofglory"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1689428255,"creation_date":1689165819,"answer_id":76670693,"question_id":15902662,"body_markdown":"To serve static content using Sun&#39;s HttpServer, you can follow these steps:\r\nCreate a HttpServer instance:\r\n```\r\nHttpServer server = HttpServer.create(new InetSocketAddress(8000), 0);\r\n```\r\n\r\nThis creates a new `HttpServer` instance that listens on port 8000.\r\n\r\n\r\nCreate a HttpContext instance for the static content:\r\n```\r\nHttpContext staticContext = server.createContext(&quot;/static&quot;);\r\n```\r\n\r\nThis creates a new HttpContext instance for the /static path.\r\nSet the HttpHandler for the HttpContext:\r\n\r\n```\r\nstaticContext.setHandler(new StaticHandler());\r\n```\r\n\r\n\r\nThis sets the StaticHandler class as the HttpHandler for the HttpContext. The StaticHandler class is responsible for serving the static content.\r\n\r\nThen, Start the server:\r\n\r\n```\r\nserver.start();\r\n```\r\n\r\nThis starts the HttpServer and begins listening for incoming requests.\r\nHere&#39;s an example implementation of the StaticHandler class:\r\n\r\n```\r\nclass StaticHandler implements HttpHandler {\r\n    @Override\r\n    public void handle(HttpExchange exchange) throws IOException {\r\n        String path = exchange.getRequestURI().getPath();\r\n        String filename = &quot;path/to/static/files&quot; + path;\r\n        File file = new File(filename);\r\n        if (file.exists()) {\r\n            Headers headers = exchange.getResponseHeaders();\r\n            headers.set(&quot;Content-Type&quot;, &quot;text/html&quot;);\r\n            exchange.sendResponseHeaders(200, file.length());\r\n            OutputStream os = exchange.getResponseBody();\r\n            FileInputStream fis = new FileInputStream(file);\r\n            byte[] buffer = new byte[1024];\r\n            int count;\r\n            while ((count = fis.read(buffer)) != -1) {\r\n                os.write(buffer, 0, count);\r\n            }\r\n            fis.close();\r\n            os.close();\r\n        } else {\r\n            String response = &quot;File not found&quot;;\r\n            exchange.sendResponseHeaders(404, response.length());\r\n            OutputStream os = exchange.getResponseBody();\r\n            os.write(response.getBytes());\r\n            os.close();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nAbove implementation serves static files located in the path/to/static/files directory. It first checks if the requested file exists, and if it does, it sets the Content-Type header and sends the file contents as the response body. If the file does not exist, it sends a 404 response with a &quot;File not found&quot; message as the response body.\r\nNote that the StaticHandler class can be modified to handle different file types and directories as needed.\r\n\r\nReference: command line tool:\r\n[Java Simple Web Server][1]\r\n\r\n  [1]: https://blogs.oracle.com/javamagazine/post/java-18-simple-web-server","title":"How to serve static content using suns simple httpserver","body":"<p>To serve static content using Sun's HttpServer, you can follow these steps:\nCreate a HttpServer instance:</p>\n<pre><code>HttpServer server = HttpServer.create(new InetSocketAddress(8000), 0);\n</code></pre>\n<p>This creates a new <code>HttpServer</code> instance that listens on port 8000.</p>\n<p>Create a HttpContext instance for the static content:</p>\n<pre><code>HttpContext staticContext = server.createContext(&quot;/static&quot;);\n</code></pre>\n<p>This creates a new HttpContext instance for the /static path.\nSet the HttpHandler for the HttpContext:</p>\n<pre><code>staticContext.setHandler(new StaticHandler());\n</code></pre>\n<p>This sets the StaticHandler class as the HttpHandler for the HttpContext. The StaticHandler class is responsible for serving the static content.</p>\n<p>Then, Start the server:</p>\n<pre><code>server.start();\n</code></pre>\n<p>This starts the HttpServer and begins listening for incoming requests.\nHere's an example implementation of the StaticHandler class:</p>\n<pre><code>class StaticHandler implements HttpHandler {\n    @Override\n    public void handle(HttpExchange exchange) throws IOException {\n        String path = exchange.getRequestURI().getPath();\n        String filename = &quot;path/to/static/files&quot; + path;\n        File file = new File(filename);\n        if (file.exists()) {\n            Headers headers = exchange.getResponseHeaders();\n            headers.set(&quot;Content-Type&quot;, &quot;text/html&quot;);\n            exchange.sendResponseHeaders(200, file.length());\n            OutputStream os = exchange.getResponseBody();\n            FileInputStream fis = new FileInputStream(file);\n            byte[] buffer = new byte[1024];\n            int count;\n            while ((count = fis.read(buffer)) != -1) {\n                os.write(buffer, 0, count);\n            }\n            fis.close();\n            os.close();\n        } else {\n            String response = &quot;File not found&quot;;\n            exchange.sendResponseHeaders(404, response.length());\n            OutputStream os = exchange.getResponseBody();\n            os.write(response.getBytes());\n            os.close();\n        }\n    }\n}\n</code></pre>\n<p>Above implementation serves static files located in the path/to/static/files directory. It first checks if the requested file exists, and if it does, it sets the Content-Type header and sends the file contents as the response body. If the file does not exist, it sends a 404 response with a &quot;File not found&quot; message as the response body.\nNote that the StaticHandler class can be modified to handle different file types and directories as needed.</p>\n<p>Reference: command line tool:\n<a href=\"https://blogs.oracle.com/javamagazine/post/java-18-simple-web-server\" rel=\"nofollow noreferrer\">Java Simple Web Server</a></p>\n"}],"owner":{"account_id":2611739,"reputation":183,"user_id":2261729,"display_name":"Jay Mann"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9460,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"answer_count":3,"score":16,"last_activity_date":1689428255,"creation_date":1365512490,"question_id":15902662,"body_markdown":"I&#39;m using jersey&#39;s `HttpServerFactory` to create a simple embedded `HttpServer` that hosts a couple of rest services.  We just needed something small quick and lightweight. I need to host a small static html page inside the same server instance. Is there a simple way to add a static handler to the server? Is there a pre-defined handler I can use?  It seems like a pretty common task, I&#39;d hate to re-write code for it if it already exists.\r\n\r\n    server = HttpServerFactory.create(url);\r\n    server.setExecutor(Executors.newCachedThreadPool());\r\n    server.createContext(&quot;/staticcontent&quot;, new HttpHandler() {\r\n\t\t@Override\r\n\t\tpublic void handle(HttpExchange arg0) throws IOException {\r\n\t\t\t//What goes here?\r\n\t\t}\r\n\t});\r\n    server.start();\r\n\r\n","title":"How to serve static content using suns simple httpserver","body":"<p>I'm using jersey's <code>HttpServerFactory</code> to create a simple embedded <code>HttpServer</code> that hosts a couple of rest services.  We just needed something small quick and lightweight. I need to host a small static html page inside the same server instance. Is there a simple way to add a static handler to the server? Is there a pre-defined handler I can use?  It seems like a pretty common task, I'd hate to re-write code for it if it already exists.</p>\n\n<pre><code>server = HttpServerFactory.create(url);\nserver.setExecutor(Executors.newCachedThreadPool());\nserver.createContext(\"/staticcontent\", new HttpHandler() {\n    @Override\n    public void handle(HttpExchange arg0) throws IOException {\n        //What goes here?\n    }\n});\nserver.start();\n</code></pre>\n"},{"tags":["java","android","android-download-manager"],"comments":[{"owner":{"account_id":17292493,"reputation":93,"user_id":12523807,"display_name":"AZyre"},"score":0,"creation_date":1683629119,"post_id":76102294,"comment_id":134392558,"body_markdown":"any solution? also facing same issue.","body":"any solution? also facing same issue."},{"owner":{"account_id":3666023,"reputation":470,"user_id":3054437,"accept_rate":25,"display_name":"mohammad"},"score":0,"creation_date":1683635952,"post_id":76102294,"comment_id":134394200,"body_markdown":"I didn&#39;t found any solution yet! @AZyre","body":"I didn&#39;t found any solution yet! @AZyre"}],"owner":{"account_id":3666023,"reputation":470,"user_id":3054437,"accept_rate":25,"display_name":"mohammad"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689428213,"creation_date":1682432738,"question_id":76102294,"body_markdown":"I&#39;m writing a file downloader for my app.  here is how I pause and resume the android download manager:\r\n\r\n    public static boolean resumeDownload(Context context, Long downloadManagerId) {\r\n        int updatedRows = 0;\r\n\r\n        ContentValues resumeDownload = new ContentValues();\r\n        resumeDownload.put(&quot;control&quot;, 0); // Resume Control Value\r\n\r\n        try {\r\n            updatedRows = context\r\n                    .getContentResolver()\r\n                    .update(Uri.parse(&quot;content://downloads/my_downloads&quot;),\r\n                            resumeDownload,\r\n                            &quot;_id=?&quot;,\r\n                            new String[]{String.valueOf(downloadManagerId)});\r\n        } catch (Exception e) {\r\n        }\r\n        return 0 &lt; updatedRows;\r\n    }\r\n\r\n    public static boolean pauseDownload(Context context, Long downloadManagerId) {\r\n        int updatedRows = 0;\r\n\r\n        ContentValues pauseDownload = new ContentValues();\r\n        pauseDownload.put(&quot;control&quot;, 1); // Pause Control Value\r\n\r\n        try {\r\n            updatedRows = context\r\n                    .getContentResolver()\r\n                    .update(Uri.parse(&quot;content://downloads/my_downloads&quot;),\r\n                            pauseDownload,\r\n                            &quot;_id=?&quot;,\r\n                            new String[]{String.valueOf(downloadManagerId)});\r\n        } catch (Exception e) {\r\n        }\r\n        return 0 &lt; updatedRows;\r\n    }\r\n\r\nthe problem is that when I pause and resume a downloading file it get stuck for some seconds! Is there any other way to pause and resume in android?","title":"Android download manager get stuck when I pause and then resume","body":"<p>I'm writing a file downloader for my app.  here is how I pause and resume the android download manager:</p>\n<pre><code>public static boolean resumeDownload(Context context, Long downloadManagerId) {\n    int updatedRows = 0;\n\n    ContentValues resumeDownload = new ContentValues();\n    resumeDownload.put(&quot;control&quot;, 0); // Resume Control Value\n\n    try {\n        updatedRows = context\n                .getContentResolver()\n                .update(Uri.parse(&quot;content://downloads/my_downloads&quot;),\n                        resumeDownload,\n                        &quot;_id=?&quot;,\n                        new String[]{String.valueOf(downloadManagerId)});\n    } catch (Exception e) {\n    }\n    return 0 &lt; updatedRows;\n}\n\npublic static boolean pauseDownload(Context context, Long downloadManagerId) {\n    int updatedRows = 0;\n\n    ContentValues pauseDownload = new ContentValues();\n    pauseDownload.put(&quot;control&quot;, 1); // Pause Control Value\n\n    try {\n        updatedRows = context\n                .getContentResolver()\n                .update(Uri.parse(&quot;content://downloads/my_downloads&quot;),\n                        pauseDownload,\n                        &quot;_id=?&quot;,\n                        new String[]{String.valueOf(downloadManagerId)});\n    } catch (Exception e) {\n    }\n    return 0 &lt; updatedRows;\n}\n</code></pre>\n<p>the problem is that when I pause and resume a downloading file it get stuck for some seconds! Is there any other way to pause and resume in android?</p>\n"},{"tags":["java","android-studio"],"owner":{"account_id":29023080,"reputation":1,"user_id":22231961,"display_name":"ALAA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689427607,"creation_date":1689427542,"question_id":76693971,"body_markdown":"How to delete the user from firebase authentication if the user sign up with phone number using java?","title":"Delete user from Firebase Authentication","body":"<p>How to delete the user from firebase authentication if the user sign up with phone number using java?</p>\n"},{"tags":["java","apache-poi","fileoutputstream","filewriter","filehandle"],"comments":[{"owner":{"account_id":1890132,"reputation":6513,"user_id":1794706,"display_name":"anacron"},"score":2,"creation_date":1487137928,"post_id":42241624,"comment_id":71641913,"body_markdown":"Can&#39;t you change the signature of the methods - return type and parameters?","body":"Can&#39;t you change the signature of the methods - return type and parameters?"},{"owner":{"account_id":1616389,"reputation":1813,"user_id":1493954,"display_name":"liorsolomon"},"score":0,"creation_date":1487138156,"post_id":42241624,"comment_id":71642025,"body_markdown":"Possible duplicate of [Which is better - using String or File as parameter type for methods that take filenames](http://stackoverflow.com/questions/17142469/which-is-better-using-string-or-file-as-parameter-type-for-methods-that-take-f)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/17142469/which-is-better-using-string-or-file-as-parameter-type-for-methods-that-take-f\">Which is better - using String or File as parameter type for methods that take filenames</a>"},{"owner":{"account_id":10253188,"reputation":11,"user_id":7566721,"display_name":"Abhinav Kumar"},"score":0,"creation_date":1487226138,"post_id":42241624,"comment_id":71689347,"body_markdown":"**For Excel**:I can send the fileName as String parameter, but I am using FileOutputStream to write the data. So can I return FileOutputStream directly fro mthis method, or do I need to convert it into File object. If I need to convert , then how ?\n**For CSV**: I am writing data through fileWriter. Can I directly return the fileWriter, or do I need to convert it into file object. If so, then how do we convert it ?","body":"<b>For Excel</b>:I can send the fileName as String parameter, but I am using FileOutputStream to write the data. So can I return FileOutputStream directly fro mthis method, or do I need to convert it into File object. If I need to convert , then how ? <b>For CSV</b>: I am writing data through fileWriter. Can I directly return the fileWriter, or do I need to convert it into file object. If so, then how do we convert it ?"}],"answers":[{"comments":[{"owner":{"account_id":10253188,"reputation":11,"user_id":7566721,"display_name":"Abhinav Kumar"},"score":0,"creation_date":1487226254,"post_id":42241993,"comment_id":71689398,"body_markdown":"**For Excel**:I want to send the fileName as String parameter, but I am using FileOutputStream to write the data. So can I return FileOutputStream directly fro mthis method, or do I need to convert it into File object. If I need to convert , then how ?\n**For CSV**: I am writing data through fileWriter. Can I directly return the fileWriter, or do I need to convert it into file object. If so, then how do we convert it ?","body":"<b>For Excel</b>:I want to send the fileName as String parameter, but I am using FileOutputStream to write the data. So can I return FileOutputStream directly fro mthis method, or do I need to convert it into File object. If I need to convert , then how ? <b>For CSV</b>: I am writing data through fileWriter. Can I directly return the fileWriter, or do I need to convert it into file object. If so, then how do we convert it ?"}],"tags":[],"owner":{"account_id":9729954,"reputation":145,"user_id":7215366,"display_name":"PankajT"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1487161432,"creation_date":1487139467,"answer_id":42241993,"question_id":42241624,"body_markdown":"**I want the method to accept the filename as parameter :** You can send a `String`, A `File` Object or `InputStream` - `createExcel(PageModel req, PageModel resp, File yourFileObj)` &lt;br&gt;&lt;br&gt; **And return the `File` object from the method :** The signature becomes: `public File createExcel()`","title":"Return a file from java method","body":"<p><strong>I want the method to accept the filename as parameter :</strong> You can send a <code>String</code>, A <code>File</code> Object or <code>InputStream</code> - <code>createExcel(PageModel req, PageModel resp, File yourFileObj)</code> <br><br> <strong>And return the <code>File</code> object from the method :</strong> The signature becomes: <code>public File createExcel()</code></p>\n"},{"tags":[],"owner":{"account_id":2137644,"reputation":17159,"user_id":1897010,"display_name":"Sameer Kazi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1523350973,"creation_date":1523350973,"answer_id":49749534,"question_id":42241624,"body_markdown":"Use this way and you are able to get a file object \r\n\r\n       File file = new File(fileName);\r\n       FileOutputStream outputStream = new FileOutputStream(file);\r\n       workBook.write(outputStream);\r\n\r\n\r\nMy details explanation answer was deleted by someone so I explained here ","title":"Return a file from java method","body":"<p>Use this way and you are able to get a file object </p>\n\n<pre><code>   File file = new File(fileName);\n   FileOutputStream outputStream = new FileOutputStream(file);\n   workBook.write(outputStream);\n</code></pre>\n\n<p>My details explanation answer was deleted by someone so I explained here </p>\n"}],"owner":{"account_id":10253188,"reputation":11,"user_id":7566721,"display_name":"Abhinav Kumar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13129,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1689426465,"creation_date":1487137784,"question_id":42241624,"body_markdown":"I have created a method which accepts the JSON response and export the data to Excel and CSV file. I want the method to accept the filename as a parameter, and return the File/FileHandle object from the method. \r\n\r\nCan anyone help me regarding this? \r\n\r\nI am using below code to export data from **creteExcel** and **createCSV**.\r\n\r\n    public void createExcel( PageModel pageModelRequest,PageModel pageModelResponse ){\r\n            FileOutputStream outputStream=new FileOutputStream(new File(&quot;GridData.xlsx&quot;));\r\n            createGrid(pageModelResponse, sheet, workbook);\r\n            workbook.write(outputStream);\r\n            System.out.println(&quot;Excel Written&quot;);\t\r\n            outputStream.close();\r\n            workbook.close();\r\n    }\r\n\r\n    public void createCSV(PageModel pageModelRequest,PageModel pageModelResponse){\r\n            String csvFile = &quot;/Users/abhinak4/Desktop/GridData.csv&quot;;\t\t\r\n            FileWriter writer = new FileWriter(csvFile);\r\n            createGrid(pageModelRequest, pageModelResponse, writer);\r\n    }\r\n\r\nIn the method `createGrid`, I am creating the workbook for excel, and I am appending the data, to the `writer` (writer.append). \r\n\r\nI want to know, how can I accept the fileName as parameters for `createExcel` and `createCSV` method, and return the file with the same name containing the data?","title":"Return a file from java method","body":"<p>I have created a method which accepts the JSON response and export the data to Excel and CSV file. I want the method to accept the filename as a parameter, and return the File/FileHandle object from the method. </p>\n\n<p>Can anyone help me regarding this? </p>\n\n<p>I am using below code to export data from <strong>creteExcel</strong> and <strong>createCSV</strong>.</p>\n\n<pre><code>public void createExcel( PageModel pageModelRequest,PageModel pageModelResponse ){\n        FileOutputStream outputStream=new FileOutputStream(new File(\"GridData.xlsx\"));\n        createGrid(pageModelResponse, sheet, workbook);\n        workbook.write(outputStream);\n        System.out.println(\"Excel Written\");    \n        outputStream.close();\n        workbook.close();\n}\n\npublic void createCSV(PageModel pageModelRequest,PageModel pageModelResponse){\n        String csvFile = \"/Users/abhinak4/Desktop/GridData.csv\";        \n        FileWriter writer = new FileWriter(csvFile);\n        createGrid(pageModelRequest, pageModelResponse, writer);\n}\n</code></pre>\n\n<p>In the method <code>createGrid</code>, I am creating the workbook for excel, and I am appending the data, to the <code>writer</code> (writer.append). </p>\n\n<p>I want to know, how can I accept the fileName as parameters for <code>createExcel</code> and <code>createCSV</code> method, and return the file with the same name containing the data?</p>\n"},{"tags":["java","https","discord"],"comments":[{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":0,"creation_date":1625754716,"post_id":68303531,"comment_id":120716495,"body_markdown":"Did you write `&quot;client_id=id&quot; + &quot;&amp;client_secret=secret&quot;`  to hide the credentials for SO, or is that in your actual query?","body":"Did you write <code>&quot;client_id=id&quot; + &quot;&amp;client_secret=secret&quot;</code>  to hide the credentials for SO, or is that in your actual query?"},{"owner":{"account_id":18506189,"reputation":317,"user_id":13482428,"display_name":"doc. Chocholoušek"},"score":1,"creation_date":1625754778,"post_id":68303531,"comment_id":120716520,"body_markdown":"I just did it to hide the credentials. And btw, it should return 401 if the credentials are incorrect.","body":"I just did it to hide the credentials. And btw, it should return 401 if the credentials are incorrect."},{"owner":{"account_id":14719989,"reputation":5877,"user_id":10630900,"display_name":"Minn"},"score":0,"creation_date":1625760480,"post_id":68303531,"comment_id":120719208,"body_markdown":"You should use an http library like okhttp","body":"You should use an http library like okhttp"},{"owner":{"account_id":18506189,"reputation":317,"user_id":13482428,"display_name":"doc. Chocholoušek"},"score":0,"creation_date":1625761023,"post_id":68303531,"comment_id":120719457,"body_markdown":"@Minn, what are its pros compared to the build-in https class?","body":"@Minn, what are its pros compared to the build-in https class?"},{"owner":{"account_id":14719989,"reputation":5877,"user_id":10630900,"display_name":"Minn"},"score":0,"creation_date":1625762439,"post_id":68303531,"comment_id":120720036,"body_markdown":"Pros are active development, modern implementation, correct and full coverage of the standard, proper defaults, etc.","body":"Pros are active development, modern implementation, correct and full coverage of the standard, proper defaults, etc."}],"answers":[{"tags":[],"owner":{"account_id":182970,"reputation":3454,"user_id":418057,"display_name":"Craigo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689425696,"creation_date":1689425696,"answer_id":76693842,"question_id":68303531,"body_markdown":"For some reason, Discord expects a User-Agent, which Java doesn&#39;t send by default.\r\n\r\nAdd:\r\n```\r\nconnection.setRequestProperty(&quot;User-Agent&quot;, &quot;Java&quot;);\r\n```\r\nand it should work.\r\n\r\nMy code if needed:\r\n```Java\r\nURL url = new URL(&quot;https://discord.com/api/oauth2/token&quot;);\r\nURLConnection httpConn = url.openConnection();\r\nOutputStreamWriter writer = null;\r\nBufferedReader reader = null;\r\nString json = &quot;&quot;;\r\n\r\nhttpConn.setUseCaches(false);\r\nhttpConn.setDoOutput(true); // do a POST\r\nhttpConn.setDoInput(true);\r\nhttpConn.setConnectTimeout(10000);\r\nhttpConn.setReadTimeout(10000);\r\nhttpConn.setRequestProperty(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;);\r\nhttpConn.setRequestProperty(&quot;User-Agent&quot;, &quot;Java&quot;);\r\n\r\n// Convert the code into an id token\r\ntry {\r\n\twriter = new OutputStreamWriter(httpConn.getOutputStream());\r\n\twriter.write(\r\n\t\t\t&quot;code=&quot; + code +\r\n\t\t\t&quot;&amp;client_id=&quot; + DISCORD_OAUTH_CLIENT_ID +\r\n\t\t\t&quot;&amp;client_secret=&quot; + DISCORD_OAUTH_CLIENT_SECRET +\r\n\t\t\t&quot;&amp;grant_type=authorization_code&quot; +\r\n\t\t\t&quot;&amp;redirect_uri=&quot; + URLEncoder.encode(returnUrl, StandardCharsets.UTF_8.toString()));\r\n\twriter.flush();\r\n\t\r\n\tString line;\r\n\treader = new BufferedReader(new InputStreamReader(httpConn.getInputStream()));\r\n\t\r\n\twhile ((line = reader.readLine()) != null) {\r\n\t\tjson = json + line;\r\n\t}\r\n}\r\nfinally {\r\n\tif (writer != null) {\r\n\t\twriter.close();\r\n\t}\r\n\tif (reader != null) {\r\n\t\treader.close();\r\n\t}\r\n}\r\n```","title":"Why does discord return 403 on any request?","body":"<p>For some reason, Discord expects a User-Agent, which Java doesn't send by default.</p>\n<p>Add:</p>\n<pre><code>connection.setRequestProperty(&quot;User-Agent&quot;, &quot;Java&quot;);\n</code></pre>\n<p>and it should work.</p>\n<p>My code if needed:</p>\n<pre><code>URL url = new URL(&quot;https://discord.com/api/oauth2/token&quot;);\nURLConnection httpConn = url.openConnection();\nOutputStreamWriter writer = null;\nBufferedReader reader = null;\nString json = &quot;&quot;;\n\nhttpConn.setUseCaches(false);\nhttpConn.setDoOutput(true); // do a POST\nhttpConn.setDoInput(true);\nhttpConn.setConnectTimeout(10000);\nhttpConn.setReadTimeout(10000);\nhttpConn.setRequestProperty(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;);\nhttpConn.setRequestProperty(&quot;User-Agent&quot;, &quot;Java&quot;);\n\n// Convert the code into an id token\ntry {\n    writer = new OutputStreamWriter(httpConn.getOutputStream());\n    writer.write(\n            &quot;code=&quot; + code +\n            &quot;&amp;client_id=&quot; + DISCORD_OAUTH_CLIENT_ID +\n            &quot;&amp;client_secret=&quot; + DISCORD_OAUTH_CLIENT_SECRET +\n            &quot;&amp;grant_type=authorization_code&quot; +\n            &quot;&amp;redirect_uri=&quot; + URLEncoder.encode(returnUrl, StandardCharsets.UTF_8.toString()));\n    writer.flush();\n    \n    String line;\n    reader = new BufferedReader(new InputStreamReader(httpConn.getInputStream()));\n    \n    while ((line = reader.readLine()) != null) {\n        json = json + line;\n    }\n}\nfinally {\n    if (writer != null) {\n        writer.close();\n    }\n    if (reader != null) {\n        reader.close();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":18506189,"reputation":317,"user_id":13482428,"display_name":"doc. Chocholoušek"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689425696,"creation_date":1625754259,"question_id":68303531,"body_markdown":"I am trying to send https request to discord api form java, but discord is responding with 403. &lt;br&gt; My code is:\r\n```\r\nString query = &quot;client_id=id&quot; +\r\n                    &quot;&amp;client_secret=secret&quot; +\r\n                    &quot;&amp;grant_type=authorization_code&quot; +\r\n                    &quot;&amp;code=&quot; + code +\r\n                    &quot;&amp;redirect_uri=&quot; + URLEncoder.encode(&quot;https://discordapi.tridentgames.eu/oauth2&quot;, StandardCharsets.UTF_8.toString());\r\n\r\n            HttpsURLConnection connection = (HttpsURLConnection) new URL(&quot;https://discord.com/api/oauth2/token&quot;).openConnection();\r\n            connection.setRequestMethod(&quot;POST&quot;);\r\n\r\n            connection.setRequestProperty(&quot;Content-length&quot;, String.valueOf(query.length()));\r\n            connection.setRequestProperty(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;);\r\n            connection.setDoOutput(true);\r\n            connection.setDoInput(true);\r\n\r\n            DataOutputStream output = new DataOutputStream(connection.getOutputStream());\r\n\r\n            output.writeBytes(query);\r\n            output.close();\r\n\r\n            DataInputStream input = new DataInputStream(connection.getInputStream());\r\n            for (int c = input.read(); c != -1; c = input.read())\r\n                System.out.print((char) c);\r\n            input.close();\r\n```\r\nIt is running in pterodactyl&#39;s docker container. I tried to execute the same request from postman and it is ok, even I was unsuccesfull when I tried to recreate the 403 error from postman. I also tried to change the URL, but result is same even with only `https://discord.com`. I also tried to curl discord api from the docker container and it was ok. Also, the code is based on my older node.js code, that worked without any problems. &lt;br&gt; Does anyone know what&#39;s wrong with my request?","title":"Why does discord return 403 on any request?","body":"<p>I am trying to send https request to discord api form java, but discord is responding with 403. <br> My code is:</p>\n<pre><code>String query = &quot;client_id=id&quot; +\n                    &quot;&amp;client_secret=secret&quot; +\n                    &quot;&amp;grant_type=authorization_code&quot; +\n                    &quot;&amp;code=&quot; + code +\n                    &quot;&amp;redirect_uri=&quot; + URLEncoder.encode(&quot;https://discordapi.tridentgames.eu/oauth2&quot;, StandardCharsets.UTF_8.toString());\n\n            HttpsURLConnection connection = (HttpsURLConnection) new URL(&quot;https://discord.com/api/oauth2/token&quot;).openConnection();\n            connection.setRequestMethod(&quot;POST&quot;);\n\n            connection.setRequestProperty(&quot;Content-length&quot;, String.valueOf(query.length()));\n            connection.setRequestProperty(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;);\n            connection.setDoOutput(true);\n            connection.setDoInput(true);\n\n            DataOutputStream output = new DataOutputStream(connection.getOutputStream());\n\n            output.writeBytes(query);\n            output.close();\n\n            DataInputStream input = new DataInputStream(connection.getInputStream());\n            for (int c = input.read(); c != -1; c = input.read())\n                System.out.print((char) c);\n            input.close();\n</code></pre>\n<p>It is running in pterodactyl's docker container. I tried to execute the same request from postman and it is ok, even I was unsuccesfull when I tried to recreate the 403 error from postman. I also tried to change the URL, but result is same even with only <code>https://discord.com</code>. I also tried to curl discord api from the docker container and it was ok. Also, the code is based on my older node.js code, that worked without any problems. <br> Does anyone know what's wrong with my request?</p>\n"},{"tags":["java","spring-boot","asynchronous"],"comments":[{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":1,"creation_date":1689427313,"post_id":76693817,"comment_id":135213720,"body_markdown":"Please check above answers. Basically your asynchronous runner returns without any delay but your application will wait until all threads completed. Unless you call the close() method directly.","body":"Please check above answers. Basically your asynchronous runner returns without any delay but your application will wait until all threads completed. Unless you call the close() method directly."},{"owner":{"account_id":322960,"reputation":7711,"user_id":642680,"accept_rate":74,"display_name":"D-Dᴙum"},"score":0,"creation_date":1689428589,"post_id":76693817,"comment_id":135213860,"body_markdown":"@Mar-Z yes it did. Specifically I needed to change the `main()` method to call the `close()` method.","body":"@Mar-Z yes it did. Specifically I needed to change the <code>main()</code> method to call the <code>close()</code> method."}],"owner":{"account_id":322960,"reputation":7711,"user_id":642680,"accept_rate":74,"display_name":"D-Dᴙum"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1689428740,"answer_count":0,"score":0,"last_activity_date":1689425195,"creation_date":1689425195,"question_id":76693817,"body_markdown":"I have found that my spring boot application that implements `ApplicationRunner` hangs when trying to shut down. It appears to be caused by when `@Async` annotated methods have been executed.\r\n\r\nI have a `MainComponent` and `JobService` classes:\r\n\r\n```java\r\n@Configuration\r\n@EnableAsync\r\npublic class AsyncConfig {\r\n\r\n}\r\n\r\n@SpringBootApplication\r\npublic class AsyncJobsApplication {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(AsyncJobsApplication.class, args);\r\n    }\r\n\r\n}\r\n```\r\n\r\n```java\r\n@RequiredArgsConstructor\r\n@Log4j2\r\n@Component\r\npublic class MainComponent implements ApplicationRunner {\r\n\r\n    private final JobsService jobsService;\r\n\r\n    @Override\r\n    public void run(ApplicationArguments args) throws Exception {\r\n\r\n        final List&lt;AtomicInteger&gt; counters = IntStream.range(0, 1).mapToObj(value -&gt; new AtomicInteger(0)).toList();\r\n        final List&lt;Future&lt;Void&gt;&gt; futures = counters.stream().map(this.jobsService::doTask).toList();\r\n\r\n        boolean complete = false;\r\n        while (!complete) {\r\n            plotCounter(counters);\r\n            Thread.sleep(250);\r\n            complete = futures.stream().map(Future::isDone).reduce((aBoolean, aBoolean2) -&gt; aBoolean &amp;&amp; aBoolean2).get();\r\n        }\r\n        plotCounter(counters);\r\n\r\n        System.out.println(&quot;Complete.&quot;);\r\n\r\n    }\r\n\r\n    private void plotCounter(final List&lt;AtomicInteger&gt; counters) {\r\n        for (int i = 0; i &lt; counters.size(); i++) {\r\n            System.out.printf(&quot;Counter %d - %d%s&quot;, i, counters.get(i).get(), System.lineSeparator());\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\n```java\r\n@Service\r\n@Log4j2\r\npublic class JobsService {\r\n\r\n    @Async\r\n    public Future&lt;Void&gt; doTask(final AtomicInteger counter) {\r\n\r\n        for (int i = 0; i &lt; 10; i++) {\r\n            try {\r\n                Thread.sleep((long)(Math.random() * 3000));\r\n            } catch (InterruptedException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n            counter.incrementAndGet();\r\n        }\r\n        return new AsyncResult&lt;&gt;(null);\r\n    }\r\n}\r\n```\r\n\r\nAll the tasks complete successfully but the application takes sometime to terminate after the final `System.out.println()` call.\r\n\r\nThis is executing on Linux Mint with Open-JDK 17.0.7 but it also does the same on a RaspberryPi.\r\n\r\nA full demo application is here: [async-jobs-demo][1]\r\n\r\n\r\n  [1]: https://github.com/jtkb/async-jobs","title":"Spring Boot Application hanging on shutdown after running Async methods","body":"<p>I have found that my spring boot application that implements <code>ApplicationRunner</code> hangs when trying to shut down. It appears to be caused by when <code>@Async</code> annotated methods have been executed.</p>\n<p>I have a <code>MainComponent</code> and <code>JobService</code> classes:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableAsync\npublic class AsyncConfig {\n\n}\n\n@SpringBootApplication\npublic class AsyncJobsApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(AsyncJobsApplication.class, args);\n    }\n\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@RequiredArgsConstructor\n@Log4j2\n@Component\npublic class MainComponent implements ApplicationRunner {\n\n    private final JobsService jobsService;\n\n    @Override\n    public void run(ApplicationArguments args) throws Exception {\n\n        final List&lt;AtomicInteger&gt; counters = IntStream.range(0, 1).mapToObj(value -&gt; new AtomicInteger(0)).toList();\n        final List&lt;Future&lt;Void&gt;&gt; futures = counters.stream().map(this.jobsService::doTask).toList();\n\n        boolean complete = false;\n        while (!complete) {\n            plotCounter(counters);\n            Thread.sleep(250);\n            complete = futures.stream().map(Future::isDone).reduce((aBoolean, aBoolean2) -&gt; aBoolean &amp;&amp; aBoolean2).get();\n        }\n        plotCounter(counters);\n\n        System.out.println(&quot;Complete.&quot;);\n\n    }\n\n    private void plotCounter(final List&lt;AtomicInteger&gt; counters) {\n        for (int i = 0; i &lt; counters.size(); i++) {\n            System.out.printf(&quot;Counter %d - %d%s&quot;, i, counters.get(i).get(), System.lineSeparator());\n        }\n    }\n}\n\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\n@Log4j2\npublic class JobsService {\n\n    @Async\n    public Future&lt;Void&gt; doTask(final AtomicInteger counter) {\n\n        for (int i = 0; i &lt; 10; i++) {\n            try {\n                Thread.sleep((long)(Math.random() * 3000));\n            } catch (InterruptedException e) {\n                throw new RuntimeException(e);\n            }\n            counter.incrementAndGet();\n        }\n        return new AsyncResult&lt;&gt;(null);\n    }\n}\n</code></pre>\n<p>All the tasks complete successfully but the application takes sometime to terminate after the final <code>System.out.println()</code> call.</p>\n<p>This is executing on Linux Mint with Open-JDK 17.0.7 but it also does the same on a RaspberryPi.</p>\n<p>A full demo application is here: <a href=\"https://github.com/jtkb/async-jobs\" rel=\"nofollow noreferrer\">async-jobs-demo</a></p>\n"},{"tags":["java","byte","hex","dump"],"comments":[{"owner":{"account_id":9640511,"reputation":4079,"user_id":7154924,"accept_rate":86,"display_name":"flow2k"},"score":0,"creation_date":1540320891,"post_id":140131,"comment_id":92819600,"body_markdown":"See also https://stackoverflow.com/questions/9655181/how-to-convert-a-byte-array-to-a-hex-string-in-java.","body":"See also <a href=\"https://stackoverflow.com/questions/9655181/how-to-convert-a-byte-array-to-a-hex-string-in-java\" title=\"how to convert a byte array to a hex string in java\">stackoverflow.com/questions/9655181/&hellip;</a>."},{"owner":{"account_id":13546471,"reputation":3498,"user_id":9772691,"display_name":"John McClane"},"score":0,"creation_date":1543109678,"post_id":140131,"comment_id":93798986,"body_markdown":"I have tamed `BigInteger` [here](https://stackoverflow.com/a/53463843).","body":"I have tamed <code>BigInteger</code> <a href=\"https://stackoverflow.com/a/53463843\">here</a>."},{"owner":{"account_id":1782787,"reputation":9911,"user_id":1650674,"accept_rate":92,"display_name":"tir38"},"score":0,"creation_date":1568221516,"post_id":140131,"comment_id":102209028,"body_markdown":"FWIW `String.getBytes()` won&#39;t work like you think it might. Had to learn this the hard way. `if (&quot;FF&quot;.getBytes() != &quot;ff&quot;.getBytes()) { System.out.println(&quot;Try again&quot;); }`","body":"FWIW <code>String.getBytes()</code> won&#39;t work like you think it might. Had to learn this the hard way. <code>if (&quot;FF&quot;.getBytes() != &quot;ff&quot;.getBytes()) { System.out.println(&quot;Try again&quot;); }</code>"}],"answers":[{"comments":[{"owner":{"account_id":2241,"reputation":44197,"user_id":3093,"accept_rate":83,"display_name":"Dave L."},"score":7,"creation_date":1222451182,"post_id":140147,"comment_id":37843,"body_markdown":"This also looks good.  See org.apache.commons.codec.binary.Hex.decodeHex()","body":"This also looks good.  See org.apache.commons.codec.binary.Hex.decodeHex()"},{"owner":{"account_id":6922,"reputation":4846,"user_id":11798,"display_name":"rafraf"},"score":0,"creation_date":1222477570,"post_id":140147,"comment_id":38954,"body_markdown":"It was interesting. But I found their solution hard to follow. Does it have any advantages over what you proposed (other than checking for even number of chars)?","body":"It was interesting. But I found their solution hard to follow. Does it have any advantages over what you proposed (other than checking for even number of chars)?"}],"tags":[],"owner":{"account_id":11089,"reputation":400050,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"comment_count":2,"down_vote_count":4,"up_vote_count":115,"is_accepted":false,"score":111,"last_activity_date":1538080057,"creation_date":1222442119,"answer_id":140147,"question_id":140131,"body_markdown":"The Hex class in commons-codec should do that for you.\r\n\r\nhttp://commons.apache.org/codec/\r\n\r\n    import org.apache.commons.codec.binary.Hex;\r\n    ...\r\n    byte[] decoded = Hex.decodeHex(&quot;00A0BF&quot;);\r\n    // 0x00 0xA0 0xBF","title":"Convert a string representation of a hex dump to a byte array using Java?","body":"<p>The Hex class in commons-codec should do that for you.</p>\n\n<p><a href=\"http://commons.apache.org/codec/\" rel=\"noreferrer\">http://commons.apache.org/codec/</a></p>\n\n<pre><code>import org.apache.commons.codec.binary.Hex;\n...\nbyte[] decoded = Hex.decodeHex(\"00A0BF\");\n// 0x00 0xA0 0xBF\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7745,"reputation":189765,"user_id":13531,"accept_rate":75,"display_name":"Michael Myers"},"score":0,"creation_date":1222442484,"post_id":140166,"comment_id":37391,"body_markdown":"The string concatenation is unnecessary. Just use Integer.valueOf(val, 16).","body":"The string concatenation is unnecessary. Just use Integer.valueOf(val, 16)."},{"owner":{"account_id":11508,"reputation":3302,"user_id":22221,"display_name":"pfranza"},"score":0,"creation_date":1222442620,"post_id":140166,"comment_id":37398,"body_markdown":"I&#39;ve tried using the radix conversions like that before and I&#39;ve had mixed results","body":"I&#39;ve tried using the radix conversions like that before and I&#39;ve had mixed results"},{"owner":{"account_id":6922,"reputation":4846,"user_id":11798,"display_name":"rafraf"},"score":0,"creation_date":1222445222,"post_id":140166,"comment_id":37506,"body_markdown":"thanks - oddly it works fine with this string:\n&quot;9C001C&quot; or &quot;001C21&quot;\nand fails with this one:\n&quot;9C001C21&quot;\n\nException in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;9C001C21&quot;\n\tat java.lang.NumberFormatException.forInputString(Unknown Source)","body":"thanks - oddly it works fine with this string: &quot;9C001C&quot; or &quot;001C21&quot; and fails with this one: &quot;9C001C21&quot;  Exception in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;9C001C21&quot; \tat java.lang.NumberFormatException.forInputString(Unknown Source)"},{"owner":{"account_id":4680926,"reputation":2259,"user_id":3789665,"accept_rate":57,"display_name":"greybeard"},"score":0,"creation_date":1455387478,"post_id":140166,"comment_id":58471662,"body_markdown":"(That&#39;s not more odd than in the `Byte`/`byte` case: highest bit set without leading -)","body":"(That&#39;s not more odd than in the <code>Byte</code>/<code>byte</code> case: highest bit set without leading -)"}],"tags":[],"owner":{"account_id":11508,"reputation":3302,"user_id":22221,"display_name":"pfranza"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1222442321,"creation_date":1222442321,"answer_id":140166,"question_id":140131,"body_markdown":"I&#39;ve always used a method like\r\n\r\n    public static final byte[] fromHexString(final String s) {\r\n        String[] v = s.split(&quot; &quot;);\r\n        byte[] arr = new byte[v.length];\r\n        int i = 0;\r\n        for(String val: v) {\r\n            arr[i++] =  Integer.decode(&quot;0x&quot; + val).byteValue();\r\n\r\n        }\r\n        return arr;\r\n    }\r\n\r\nthis method splits on space delimited hex values but it wouldn&#39;t be hard to make it split the string on any other criteria such as into groupings of two characters. ","title":"Convert a string representation of a hex dump to a byte array using Java?","body":"<p>I've always used a method like</p>\n\n<pre><code>public static final byte[] fromHexString(final String s) {\n    String[] v = s.split(\" \");\n    byte[] arr = new byte[v.length];\n    int i = 0;\n    for(String val: v) {\n        arr[i++] =  Integer.decode(\"0x\" + val).byteValue();\n\n    }\n    return arr;\n}\n</code></pre>\n\n<p>this method splits on space delimited hex values but it wouldn't be hard to make it split the string on any other criteria such as into groupings of two characters. </p>\n"},{"comments":[{"owner":{"account_id":7745,"reputation":189765,"user_id":13531,"accept_rate":75,"display_name":"Michael Myers"},"score":0,"creation_date":1222444109,"post_id":140181,"comment_id":37453,"body_markdown":"First, you shouldn&#39;t need to convert the string to uppercase. Second, it is possible to append chars directly to a StringBuffer, which should be much more efficient.","body":"First, you shouldn&#39;t need to convert the string to uppercase. Second, it is possible to append chars directly to a StringBuffer, which should be much more efficient."},{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1641232380,"post_id":140181,"comment_id":124747992,"body_markdown":"For that matter you don&#39;t need any StringBuffer (which since 2004 could better be StringBuilder), just do `new String (enc, i, 2)`","body":"For that matter you don&#39;t need any StringBuffer (which since 2004 could better be StringBuilder), just do <code>new String (enc, i, 2)</code>"}],"tags":[],"owner":{"account_id":4549,"reputation":25490,"user_id":6897,"accept_rate":92,"display_name":"Bob King"},"comment_count":2,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1222442524,"creation_date":1222442514,"answer_id":140181,"question_id":140131,"body_markdown":"I think will do it for you. I cobbled it together from a similar function that returned the data as a string:\r\n\r\n    private static byte[] decode(String encoded) {\r\n        byte result[] = new byte[encoded/2];\r\n        char enc[] = encoded.toUpperCase().toCharArray();\r\n        StringBuffer curr;\r\n        for (int i = 0; i &lt; enc.length; i += 2) {\r\n            curr = new StringBuffer(&quot;&quot;);\r\n            curr.append(String.valueOf(enc[i]));\r\n            curr.append(String.valueOf(enc[i + 1]));\r\n            result[i] = (byte) Integer.parseInt(curr.toString(), 16);\r\n        }\r\n        return result;\r\n    }","title":"Convert a string representation of a hex dump to a byte array using Java?","body":"<p>I think will do it for you. I cobbled it together from a similar function that returned the data as a string:</p>\n\n<pre><code>private static byte[] decode(String encoded) {\n    byte result[] = new byte[encoded/2];\n    char enc[] = encoded.toUpperCase().toCharArray();\n    StringBuffer curr;\n    for (int i = 0; i &lt; enc.length; i += 2) {\n        curr = new StringBuffer(\"\");\n        curr.append(String.valueOf(enc[i]));\n        curr.append(String.valueOf(enc[i + 1]));\n        result[i] = (byte) Integer.parseInt(curr.toString(), 16);\n    }\n    return result;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7745,"reputation":189765,"user_id":13531,"accept_rate":75,"display_name":"Michael Myers"},"score":1,"creation_date":1222443252,"post_id":140188,"comment_id":37420,"body_markdown":"Close, but this method fails on the given input &quot;00A0BBF&quot;. See http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=6259307.","body":"Close, but this method fails on the given input &quot;00A0BBF&quot;. See <a href=\"http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=6259307\" rel=\"nofollow noreferrer\">bugs.sun.com/bugdatabase/view_bug.do?bug_id=6259307</a>."},{"owner":{"account_id":6922,"reputation":4846,"user_id":11798,"display_name":"rafraf"},"score":1,"creation_date":1222444726,"post_id":140188,"comment_id":37487,"body_markdown":"Also strangely it does not deal with &quot;9C&quot;","body":"Also strangely it does not deal with &quot;9C&quot;"},{"owner":{"account_id":914,"reputation":234979,"user_id":1199,"display_name":"Blair Conrad"},"score":1,"creation_date":1222447078,"post_id":140188,"comment_id":37597,"body_markdown":"@mmyers: whoa. That&#39;s not good. Sorry for th confusion.\n@ravigad: 9C has the same problem because in this case the high bit is set.","body":"@mmyers: whoa. That&#39;s not good. Sorry for th confusion. @ravigad: 9C has the same problem because in this case the high bit is set."},{"owner":{"account_id":82017,"reputation":2340,"user_id":230925,"display_name":"Jamey Hicks"},"score":1,"creation_date":1501247402,"post_id":140188,"comment_id":77709831,"body_markdown":"(byte)Short.parseShort(thisByte, 16) solves that problem","body":"(byte)Short.parseShort(thisByte, 16) solves that problem"}],"tags":[],"owner":{"account_id":914,"reputation":234979,"user_id":1199,"display_name":"Blair Conrad"},"comment_count":4,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1639941795,"creation_date":1222442601,"answer_id":140188,"question_id":140131,"body_markdown":"EDIT: as pointed out by @mmyers, this method doesn&#39;t work on input that contains substrings corresponding to bytes with the high bit set (&quot;80&quot; - &quot;FF&quot;). The explanation is at [Bug ID: 6259307 Byte.parseByte not working as advertised in the SDK Documentation][1].\r\n\r\n    public static final byte[] fromHexString(final String s) {\r\n        byte[] arr = new byte[s.length()/2];\r\n        for ( int start = 0; start &lt; s.length(); start += 2 )\r\n        {\r\n            String thisByte = s.substring(start, start+2);\r\n            arr[start/2] = Byte.parseByte(thisByte, 16);\r\n        }\r\n        return arr;\r\n    }\r\n\r\n\r\n  [1]: https://bugs.java.com/bugdatabase/view_bug.do?bug_id=6259307","title":"Convert a string representation of a hex dump to a byte array using Java?","body":"<p>EDIT: as pointed out by @mmyers, this method doesn't work on input that contains substrings corresponding to bytes with the high bit set (&quot;80&quot; - &quot;FF&quot;). The explanation is at <a href=\"https://bugs.java.com/bugdatabase/view_bug.do?bug_id=6259307\" rel=\"nofollow noreferrer\">Bug ID: 6259307 Byte.parseByte not working as advertised in the SDK Documentation</a>.</p>\n<pre><code>public static final byte[] fromHexString(final String s) {\n    byte[] arr = new byte[s.length()/2];\n    for ( int start = 0; start &lt; s.length(); start += 2 )\n    {\n        String thisByte = s.substring(start, start+2);\n        arr[start/2] = Byte.parseByte(thisByte, 16);\n    }\n    return arr;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":267816,"reputation":6421,"user_id":1970896,"accept_rate":60,"display_name":"BonanzaDriver"},"score":1,"creation_date":1319398136,"post_id":140430,"comment_id":9599584,"body_markdown":"Thanks Michael - you&#39;re a life saver!  Working on a BlackBerry project and trying to convert a string representation of a byte back into the byte ... using RIM&#39;s &quot;Byte.parseByte( byteString, 16 )&quot; method.  Kept throwing a NumberFormatExcpetion.  Spent hours tyring to figure out why.  Your suggestion of &quot;Integer.praseInt()&quot; did the trick.  Thanks again!!","body":"Thanks Michael - you&#39;re a life saver!  Working on a BlackBerry project and trying to convert a string representation of a byte back into the byte ... using RIM&#39;s &quot;Byte.parseByte( byteString, 16 )&quot; method.  Kept throwing a NumberFormatExcpetion.  Spent hours tyring to figure out why.  Your suggestion of &quot;Integer.praseInt()&quot; did the trick.  Thanks again!!"}],"tags":[],"owner":{"account_id":7745,"reputation":189765,"user_id":13531,"accept_rate":75,"display_name":"Michael Myers"},"comment_count":1,"down_vote_count":1,"up_vote_count":19,"is_accepted":false,"score":18,"last_activity_date":1222445696,"creation_date":1222445218,"answer_id":140430,"question_id":140131,"body_markdown":"Here is a method that actually works (based on several previous semi-correct answers):\r\n\r\n    private static byte[] fromHexString(final String encoded) {\r\n        if ((encoded.length() % 2) != 0)\r\n            throw new IllegalArgumentException(&quot;Input string must contain an even number of characters&quot;);\r\n\r\n        final byte result[] = new byte[encoded.length()/2];\r\n        final char enc[] = encoded.toCharArray();\r\n        for (int i = 0; i &lt; enc.length; i += 2) {\r\n            StringBuilder curr = new StringBuilder(2);\r\n            curr.append(enc[i]).append(enc[i + 1]);\r\n            result[i/2] = (byte) Integer.parseInt(curr.toString(), 16);\r\n        }\r\n        return result;\r\n    }\r\nThe only possible issue that I can see is if the input string is extremely long; calling toCharArray() makes a copy of the string&#39;s internal array.\r\n\r\nEDIT: Oh, and by the way, bytes are signed in Java, so your input string converts to [0, -96, -65] instead of [0, 160, 191]. But you probably knew that already.","title":"Convert a string representation of a hex dump to a byte array using Java?","body":"<p>Here is a method that actually works (based on several previous semi-correct answers):</p>\n\n<pre><code>private static byte[] fromHexString(final String encoded) {\n    if ((encoded.length() % 2) != 0)\n        throw new IllegalArgumentException(\"Input string must contain an even number of characters\");\n\n    final byte result[] = new byte[encoded.length()/2];\n    final char enc[] = encoded.toCharArray();\n    for (int i = 0; i &lt; enc.length; i += 2) {\n        StringBuilder curr = new StringBuilder(2);\n        curr.append(enc[i]).append(enc[i + 1]);\n        result[i/2] = (byte) Integer.parseInt(curr.toString(), 16);\n    }\n    return result;\n}\n</code></pre>\n\n<p>The only possible issue that I can see is if the input string is extremely long; calling toCharArray() makes a copy of the string's internal array.</p>\n\n<p>EDIT: Oh, and by the way, bytes are signed in Java, so your input string converts to [0, -96, -65] instead of [0, 160, 191]. But you probably knew that already.</p>\n"},{"comments":[{"owner":{"account_id":6922,"reputation":4846,"user_id":11798,"display_name":"rafraf"},"score":1,"creation_date":1222447423,"post_id":140592,"comment_id":37620,"body_markdown":"I also thought so initially. And thank you for documenting it - I was just thinking I should... it did some strange things though that I didn&#39;t really understand - like omit some leading 0x00 and also mix up the order of 1 byte in a 156 byte string I was playing with.","body":"I also thought so initially. And thank you for documenting it - I was just thinking I should... it did some strange things though that I didn&#39;t really understand - like omit some leading 0x00 and also mix up the order of 1 byte in a 156 byte string I was playing with."},{"owner":{"account_id":2241,"reputation":44197,"user_id":3093,"accept_rate":83,"display_name":"Dave L."},"score":2,"creation_date":1222448147,"post_id":140592,"comment_id":37652,"body_markdown":"That&#39;s a good point about leading 0&#39;s.  I&#39;m not sure I believe it could mix up the order of bytes, and would be very interested to see it demonstrated.","body":"That&#39;s a good point about leading 0&#39;s.  I&#39;m not sure I believe it could mix up the order of bytes, and would be very interested to see it demonstrated."},{"owner":{"account_id":6922,"reputation":4846,"user_id":11798,"display_name":"rafraf"},"score":1,"creation_date":1222448979,"post_id":140592,"comment_id":37705,"body_markdown":"yeah, as soon as I said it, I didn&#39;t believe me either :) I ran a compare of the byte array from BigInteger with mmyers&#39;fromHexString and (with no 0x00) against the offending string - they were identical. The &quot;mix up&quot; did happen, but it may have been something else. I willlook more closely tomorrow","body":"yeah, as soon as I said it, I didn&#39;t believe me either :) I ran a compare of the byte array from BigInteger with mmyers&#39;fromHexString and (with no 0x00) against the offending string - they were identical. The &quot;mix up&quot; did happen, but it may have been something else. I willlook more closely tomorrow"},{"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"score":5,"creation_date":1319818847,"post_id":140592,"comment_id":9690476,"body_markdown":"The issue with BigInteger is that there must be a &quot;sign bit&quot;.  If the leading byte has the high bit set then the resulting byte array has an extra 0 in the 1st position. But still +1.","body":"The issue with BigInteger is that there must be a &quot;sign bit&quot;.  If the leading byte has the high bit set then the resulting byte array has an extra 0 in the 1st position. But still +1."},{"owner":{"account_id":338173,"reputation":2361,"user_id":666887,"accept_rate":83,"display_name":"PowerAktar"},"score":0,"creation_date":1664799914,"post_id":140592,"comment_id":130547044,"body_markdown":"This adds a leading 0 for negative values. I assume that `BigInteger` expects the value to be unsigned and thus fails where bit positions are essential","body":"This adds a leading 0 for negative values. I assume that <code>BigInteger</code> expects the value to be unsigned and thus fails where bit positions are essential"}],"tags":[],"owner":{"account_id":2241,"reputation":44197,"user_id":3093,"accept_rate":83,"display_name":"Dave L."},"comment_count":5,"down_vote_count":1,"up_vote_count":38,"is_accepted":false,"score":37,"last_activity_date":1222451228,"creation_date":1222447060,"answer_id":140592,"question_id":140131,"body_markdown":"Actually, I think the BigInteger is solution is very nice:\r\n\r\n    new BigInteger(&quot;00A0BF&quot;, 16).toByteArray();\r\n\r\nEdit: **Not safe for leading zeros**, as noted by the poster.","title":"Convert a string representation of a hex dump to a byte array using Java?","body":"<p>Actually, I think the BigInteger is solution is very nice:</p>\n\n<pre><code>new BigInteger(\"00A0BF\", 16).toByteArray();\n</code></pre>\n\n<p>Edit: <strong>Not safe for leading zeros</strong>, as noted by the poster.</p>\n"},{"comments":[{"owner":{"account_id":8326,"reputation":258555,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":0,"creation_date":1268564556,"post_id":140861,"comment_id":2427663,"body_markdown":"Thanks. There should be a built-in for this. Especially that Byte.parseByte croaks on negative values is cumbersome.","body":"Thanks. There should be a built-in for this. Especially that Byte.parseByte croaks on negative values is cumbersome."},{"owner":{"account_id":207923,"reputation":18301,"user_id":458093,"accept_rate":75,"display_name":"Gabriel Llamas"},"score":0,"creation_date":1302955470,"post_id":140861,"comment_id":6494005,"body_markdown":"Produces a wrong result. See the apache implementation in the below post.","body":"Produces a wrong result. See the apache implementation in the below post."},{"owner":{"account_id":2241,"reputation":44197,"user_id":3093,"accept_rate":83,"display_name":"Dave L."},"score":3,"creation_date":1303050938,"post_id":140861,"comment_id":6504837,"body_markdown":"Can you give an example that is decoded incorrectly, or explain how it&#39;s wrong?","body":"Can you give an example that is decoded incorrectly, or explain how it&#39;s wrong?"},{"owner":{"account_id":287767,"reputation":793,"user_id":587789,"accept_rate":59,"display_name":"ovdsrn"},"score":6,"creation_date":1307563572,"post_id":140861,"comment_id":7337378,"body_markdown":"It doesn&#39;t work for the String &quot;0&quot;. It throws an java.lang.StringIndexOutOfBoundsException","body":"It doesn&#39;t work for the String &quot;0&quot;. It throws an java.lang.StringIndexOutOfBoundsException"},{"owner":{"account_id":2241,"reputation":44197,"user_id":3093,"accept_rate":83,"display_name":"Dave L."},"score":56,"creation_date":1307637731,"post_id":140861,"comment_id":7353989,"body_markdown":"&quot;0&quot; is not valid input.  Bytes require two hexidecimal digits each.  As the answer notes, &quot;Feel free to add argument checking...if the argument is not known to be safe.&quot;","body":"&quot;0&quot; is not valid input.  Bytes require two hexidecimal digits each.  As the answer notes, &quot;Feel free to add argument checking...if the argument is not known to be safe.&quot;"},{"owner":{"account_id":1075870,"reputation":7152,"user_id":1074041,"accept_rate":100,"display_name":"Trevor Freeman"},"score":16,"creation_date":1333564276,"post_id":140861,"comment_id":12808398,"body_markdown":"javax.xml.bind.DatatypeConverter.parseHexBinary(hexString) seems to be about 20% faster than the above solution in my micro tests (for whatever little they are worth), as well as correctly throwing exceptions on invalid input (e.g. &quot;gg&quot; is not a valid hexString but will return -77 using the solution as proposed).","body":"javax.xml.bind.DatatypeConverter.parseHexBinary(hexString) seems to be about 20% faster than the above solution in my micro tests (for whatever little they are worth), as well as correctly throwing exceptions on invalid input (e.g. &quot;gg&quot; is not a valid hexString but will return -77 using the solution as proposed)."},{"owner":{"account_id":2283985,"reputation":6580,"user_id":2008463,"accept_rate":80,"display_name":"Mohamed El-Nakeep"},"score":0,"creation_date":1395239356,"post_id":140861,"comment_id":34246686,"body_markdown":"I don&#39;t understand this: Safe with leading zeros (unlike BigInteger) and with negative byte values (unlike Byte.parseByte), how are these two unsafe? Could you give me any examples for testing, please?","body":"I don&#39;t understand this: Safe with leading zeros (unlike BigInteger) and with negative byte values (unlike Byte.parseByte), how are these two unsafe? Could you give me any examples for testing, please?"},{"owner":{"account_id":2241,"reputation":44197,"user_id":3093,"accept_rate":83,"display_name":"Dave L."},"score":1,"creation_date":1395252193,"post_id":140861,"comment_id":34256732,"body_markdown":"@MuhammadAnnaqeeb See other answers below that use BigInteger or Byte.parseByte","body":"@MuhammadAnnaqeeb See other answers below that use BigInteger or Byte.parseByte"},{"owner":{"account_id":346179,"reputation":2386,"user_id":679550,"accept_rate":84,"display_name":"Chef Pharaoh"},"score":0,"creation_date":1414007091,"post_id":140861,"comment_id":41661415,"body_markdown":"@Dave Shouldn&#39;t this be using logical shift instead of arithmetic shift?","body":"@Dave Shouldn&#39;t this be using logical shift instead of arithmetic shift?"},{"owner":{"account_id":2241,"reputation":44197,"user_id":3093,"accept_rate":83,"display_name":"Dave L."},"score":0,"creation_date":1414019175,"post_id":140861,"comment_id":41666722,"body_markdown":"@ChefPharaoh There is only a single left shift operator in Java which has the same effect as logical or arithmetic shift.  See http://en.wikipedia.org/wiki/Logical_shift","body":"@ChefPharaoh There is only a single left shift operator in Java which has the same effect as logical or arithmetic shift.  See <a href=\"http://en.wikipedia.org/wiki/Logical_shift\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Logical_shift</a>"},{"owner":{"account_id":297601,"reputation":78,"user_id":603202,"accept_rate":50,"display_name":"Arun George"},"score":0,"creation_date":1421967473,"post_id":140861,"comment_id":44576019,"body_markdown":"How does a hex dump looks like. Can some one give an example","body":"How does a hex dump looks like. Can some one give an example"},{"owner":{"account_id":47296,"reputation":27247,"user_id":140037,"accept_rate":74,"display_name":"Brett Ryan"},"score":0,"creation_date":1424418843,"post_id":140861,"comment_id":45549252,"body_markdown":"I&#39;m wondering if `data[i / 2] = (byte) (((Character.digit(s.charAt(i), 16) &lt;&lt; 4) | Character.digit(s.charAt(i + 1), 16)));` could be slightly more optimal? Or maybe a `0xFF` mask could also be necessary.","body":"I&#39;m wondering if <code>data[i &#47; 2] = (byte) (((Character.digit(s.charAt(i), 16) &lt;&lt; 4) | Character.digit(s.charAt(i + 1), 16)));</code> could be slightly more optimal? Or maybe a <code>0xFF</code> mask could also be necessary."},{"owner":{"account_id":233189,"reputation":1648,"user_id":498519,"accept_rate":93,"display_name":"DaedalusAlpha"},"score":0,"creation_date":1431516145,"post_id":140861,"comment_id":48530684,"body_markdown":"If the for-statement is changed to `for (int i = 0; i &lt; len - 1; i += 2)` the function will no longer throw exceptions for data of invalid length. It still won&#39;t return correct data in those cases, but at least there is no longer a crash.","body":"If the for-statement is changed to <code>for (int i = 0; i &lt; len - 1; i += 2)</code> the function will no longer throw exceptions for data of invalid length. It still won&#39;t return correct data in those cases, but at least there is no longer a crash."},{"owner":{"account_id":2241,"reputation":44197,"user_id":3093,"accept_rate":83,"display_name":"Dave L."},"score":8,"creation_date":1434556983,"post_id":140861,"comment_id":49832485,"body_markdown":"@DaedalusAlpha It depends on your context, but usually I find it&#39;s better to fail fast and loud with such things so that you can fix your assumptions rather than silently returning incorrect data.","body":"@DaedalusAlpha It depends on your context, but usually I find it&#39;s better to fail fast and loud with such things so that you can fix your assumptions rather than silently returning incorrect data."},{"owner":{"account_id":287350,"reputation":411,"user_id":587103,"display_name":"Rohan"},"score":1,"creation_date":1449797151,"post_id":140861,"comment_id":56173993,"body_markdown":"Works like a charm. For the index of out of bounds issue prefix hex string with &quot;0&quot;&#39;s to make the string to what ever size you need the output to be - for example if you are converting a 2 byte hex string do this before calling the method StringUtils.leftPad(hextString, 4, &quot;0&quot;). Two characters in hex string is converted to 1 byte.","body":"Works like a charm. For the index of out of bounds issue prefix hex string with &quot;0&quot;&#39;s to make the string to what ever size you need the output to be - for example if you are converting a 2 byte hex string do this before calling the method StringUtils.leftPad(hextString, 4, &quot;0&quot;). Two characters in hex string is converted to 1 byte."},{"owner":{"account_id":312775,"reputation":11845,"user_id":627042,"accept_rate":0,"display_name":"Erik Aronesty"},"score":0,"creation_date":1532462579,"post_id":140861,"comment_id":89982369,"body_markdown":"I added a reason... when developing for android/linux/windows/macosx/ios in one source base, this solution always works.","body":"I added a reason... when developing for android/linux/windows/macosx/ios in one source base, this solution always works."},{"owner":{"account_id":186022,"reputation":27604,"user_id":423105,"accept_rate":68,"display_name":"LarsH"},"score":0,"creation_date":1596567330,"post_id":140861,"comment_id":111851110,"body_markdown":"I would strongly disagree with &#39;&quot;0&quot; is not valid input.&#39; `0` is a perfectly valid hex string. Just because it isn&#39;t safe for this code doesn&#39;t mean it&#39;s not valid. The fact that each byte is normally expressed as two hex characters doesn&#39;t mean `0` isn&#39;t a valid hex string; hex strings can be converted to many things besides byte arrays. If the function requires an even-length hex string as input, that should be clearly documented, instead of leaving it to the user to analyze the code in order to know what its assumptions are. https://garethrees.org/2014/05/08/heartbleed/","body":"I would strongly disagree with &#39;&quot;0&quot; is not valid input.&#39; <code>0</code> is a perfectly valid hex string. Just because it isn&#39;t safe for this code doesn&#39;t mean it&#39;s not valid. The fact that each byte is normally expressed as two hex characters doesn&#39;t mean <code>0</code> isn&#39;t a valid hex string; hex strings can be converted to many things besides byte arrays. If the function requires an even-length hex string as input, that should be clearly documented, instead of leaving it to the user to analyze the code in order to know what its assumptions are. <a href=\"https://garethrees.org/2014/05/08/heartbleed/\" rel=\"nofollow noreferrer\">garethrees.org/2014/05/08/heartbleed</a>"},{"owner":{"account_id":2241,"reputation":44197,"user_id":3093,"accept_rate":83,"display_name":"Dave L."},"score":1,"creation_date":1596579676,"post_id":140861,"comment_id":111855597,"body_markdown":"@LarsH Thanks for the reminder that it&#39;s always good to be clear about one&#39;s assumptions. In the context of this question, about a hex dump, with an example using pairs of characters, including leading zeros, I think it&#39;s a fair assumption that the data should represent bytes using two characters each.  However, I can imagine domains where one would want to allow the special case of a single or leading &#39;0&#39; character instead.  I agree that if this function is part of a public API that behavior either way should be documented, as it is in org.apache.commons.codec.binary.Hex and the XML datatypes","body":"@LarsH Thanks for the reminder that it&#39;s always good to be clear about one&#39;s assumptions. In the context of this question, about a hex dump, with an example using pairs of characters, including leading zeros, I think it&#39;s a fair assumption that the data should represent bytes using two characters each.  However, I can imagine domains where one would want to allow the special case of a single or leading &#39;0&#39; character instead.  I agree that if this function is part of a public API that behavior either way should be documented, as it is in org.apache.commons.codec.binary.Hex and the XML datatypes"},{"owner":{"account_id":186022,"reputation":27604,"user_id":423105,"accept_rate":68,"display_name":"LarsH"},"score":0,"creation_date":1596642362,"post_id":140861,"comment_id":111878640,"body_markdown":"Fair enough. The question title does say &quot;hex dump,&quot; not just &quot;hex string.&quot; BTW I just used your code in a production project. (And added a check for odd-length strings.) So thanks.","body":"Fair enough. The question title does say &quot;hex dump,&quot; not just &quot;hex string.&quot; BTW I just used your code in a production project. (And added a check for odd-length strings.) So thanks."},{"owner":{"account_id":186022,"reputation":27604,"user_id":423105,"accept_rate":68,"display_name":"LarsH"},"score":0,"creation_date":1596643465,"post_id":140861,"comment_id":111879186,"body_markdown":"P.S. I made a proposed edit to document the assumption. Obviously you can change it as desired.","body":"P.S. I made a proposed edit to document the assumption. Obviously you can change it as desired."},{"owner":{"account_id":2004398,"reputation":1950,"user_id":1866771,"accept_rate":65,"display_name":"Bhavin Chauhan"},"score":0,"creation_date":1603696860,"post_id":140861,"comment_id":114107160,"body_markdown":"104207194088 TESTINGG 4304 GG2741 ��&#244;CONN���|��$GK23000023R00P08TESTINGG104207194088201026072003BVodafone IN��������������;��  - &gt; Getting this &quot;??&quot; type of response while receiving data using datagram socket. Any suggestion where i am going wrong?","body":"104207194088 TESTINGG 4304 GG2741 ��&#244;CONN���|��$GK23000023R00P08TESTINGG1042071940882010260720&zwnj;&#8203;03BVodafone IN��������������;��  - &gt; Getting this &quot;??&quot; type of response while receiving data using datagram socket. Any suggestion where i am going wrong?"},{"owner":{"account_id":13060408,"reputation":707,"user_id":9437799,"display_name":"Sam Ginrich"},"score":0,"creation_date":1688297215,"post_id":140861,"comment_id":135052609,"body_markdown":"My Hex Dumps contain blanks. &quot;/2&quot;  won&#39;t work for me.","body":"My Hex Dumps contain blanks. &quot;/2&quot;  won&#39;t work for me."}],"tags":[],"owner":{"account_id":2241,"reputation":44197,"user_id":3093,"accept_rate":83,"display_name":"Dave L."},"comment_count":22,"down_vote_count":9,"up_vote_count":778,"is_accepted":true,"score":769,"last_activity_date":1638328673,"creation_date":1222450717,"answer_id":140861,"question_id":140131,"body_markdown":"Update (2021) - **Java 17** now includes [`java.util.HexFormat`][1] (only took 25 years):\r\n\r\n`HexFormat.of().parseHex(s)`\r\n\r\n&lt;hr&gt;\r\nFor older versions of Java:\r\n\r\nHere&#39;s a solution that I think is better than any posted so far:\r\n\r\n    /* s must be an even-length string. */\r\n    public static byte[] hexStringToByteArray(String s) {\r\n        int len = s.length();\r\n        byte[] data = new byte[len / 2];\r\n        for (int i = 0; i &lt; len; i += 2) {\r\n            data[i / 2] = (byte) ((Character.digit(s.charAt(i), 16) &lt;&lt; 4)\r\n                                 + Character.digit(s.charAt(i+1), 16));\r\n        }\r\n        return data;\r\n    }\r\n\r\nReasons why it is an improvement:\r\n\r\n - Safe with leading zeros (unlike BigInteger) and with negative byte values (unlike Byte.parseByte)\r\n \r\n - Doesn&#39;t convert the String into a `char[]`, or create StringBuilder and String objects for every single byte.\r\n \r\n - No library dependencies that may not be available\r\n\r\nFeel free to add argument checking via `assert` or exceptions if the argument is not known to be safe.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/HexFormat.html","title":"Convert a string representation of a hex dump to a byte array using Java?","body":"<p>Update (2021) - <strong>Java 17</strong> now includes <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/HexFormat.html\" rel=\"noreferrer\"><code>java.util.HexFormat</code></a> (only took 25 years):</p>\n<p><code>HexFormat.of().parseHex(s)</code></p>\n<hr>\nFor older versions of Java:\n<p>Here's a solution that I think is better than any posted so far:</p>\n<pre><code>/* s must be an even-length string. */\npublic static byte[] hexStringToByteArray(String s) {\n    int len = s.length();\n    byte[] data = new byte[len / 2];\n    for (int i = 0; i &lt; len; i += 2) {\n        data[i / 2] = (byte) ((Character.digit(s.charAt(i), 16) &lt;&lt; 4)\n                             + Character.digit(s.charAt(i+1), 16));\n    }\n    return data;\n}\n</code></pre>\n<p>Reasons why it is an improvement:</p>\n<ul>\n<li><p>Safe with leading zeros (unlike BigInteger) and with negative byte values (unlike Byte.parseByte)</p>\n</li>\n<li><p>Doesn't convert the String into a <code>char[]</code>, or create StringBuilder and String objects for every single byte.</p>\n</li>\n<li><p>No library dependencies that may not be available</p>\n</li>\n</ul>\n<p>Feel free to add argument checking via <code>assert</code> or exceptions if the argument is not known to be safe.</p>\n"},{"tags":[],"owner":{"account_id":570352,"reputation":61,"user_id":207215,"display_name":"Sniper"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1257794244,"creation_date":1257793923,"answer_id":1703094,"question_id":140131,"body_markdown":"The `BigInteger()` Method from java.math is very Slow and not recommandable.\r\n\r\n`Integer.parseInt(HEXString, 16)`\r\n\r\ncan cause problems with some characters without\r\nconverting to Digit / Integer\r\n\r\na Well Working method:\r\n\r\n    Integer.decode(&quot;0xXX&quot;) .byteValue()\r\n\r\n\r\nFunction:\r\n\r\n    public static byte[] HexStringToByteArray(String s) {\r\n        byte data[] = new byte[s.length()/2];\r\n        for(int i=0;i &lt; s.length();i+=2) {\r\n            data[i/2] = (Integer.decode(&quot;0x&quot;+s.charAt(i)+s.charAt(i+1))).byteValue();\r\n        }\r\n        return data;\r\n    }\r\n\r\n\r\n\r\n\r\nHave Fun, Good Luck","title":"Convert a string representation of a hex dump to a byte array using Java?","body":"<p>The <code>BigInteger()</code> Method from java.math is very Slow and not recommandable.</p>\n\n<p><code>Integer.parseInt(HEXString, 16)</code></p>\n\n<p>can cause problems with some characters without\nconverting to Digit / Integer</p>\n\n<p>a Well Working method:</p>\n\n<pre><code>Integer.decode(\"0xXX\") .byteValue()\n</code></pre>\n\n<p>Function:</p>\n\n<pre><code>public static byte[] HexStringToByteArray(String s) {\n    byte data[] = new byte[s.length()/2];\n    for(int i=0;i &lt; s.length();i+=2) {\n        data[i/2] = (Integer.decode(\"0x\"+s.charAt(i)+s.charAt(i+1))).byteValue();\n    }\n    return data;\n}\n</code></pre>\n\n<p>Have Fun, Good Luck</p>\n"},{"tags":[],"owner":{"account_id":111286,"reputation":1,"user_id":294072,"display_name":"David V"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1268667967,"creation_date":1268667967,"answer_id":2448414,"question_id":140131,"body_markdown":"    public static byte[] hex2ba(String sHex) throws Hex2baException {\r\n        if (1==sHex.length()%2) {\r\n            throw(new Hex2baException(&quot;Hex string need even number of chars&quot;));\r\n        }\r\n        \r\n        byte[] ba = new byte[sHex.length()/2];\r\n        for (int i=0;i&lt;sHex.length()/2;i++) {\r\n            ba[i] = (Integer.decode(\r\n                    &quot;0x&quot;+sHex.substring(i*2, (i+1)*2))).byteValue();\r\n        }\r\n        return ba;\r\n    }\r\n","title":"Convert a string representation of a hex dump to a byte array using Java?","body":"<pre><code>public static byte[] hex2ba(String sHex) throws Hex2baException {\n    if (1==sHex.length()%2) {\n        throw(new Hex2baException(\"Hex string need even number of chars\"));\n    }\n\n    byte[] ba = new byte[sHex.length()/2];\n    for (int i=0;i&lt;sHex.length()/2;i++) {\n        ba[i] = (Integer.decode(\n                \"0x\"+sHex.substring(i*2, (i+1)*2))).byteValue();\n    }\n    return ba;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":638182,"reputation":31,"user_id":411092,"display_name":"Kernel Panic"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1280943580,"creation_date":1280943580,"answer_id":3408174,"question_id":140131,"body_markdown":"I like the Character.digit solution, but here is how I solved it\r\n\r\n    public byte[] hex2ByteArray( String hexString ) {\r\n        String hexVal = &quot;0123456789ABCDEF&quot;;\r\n        byte[] out = new byte[hexString.length() / 2];\r\n\r\n        int n = hexString.length();\r\n\r\n        for( int i = 0; i &lt; n; i += 2 ) {\r\n            //make a bit representation in an int of the hex value \r\n            int hn = hexVal.indexOf( hexString.charAt( i ) );\r\n            int ln = hexVal.indexOf( hexString.charAt( i + 1 ) );\r\n\r\n            //now just shift the high order nibble and add them together\r\n            out[i/2] = (byte)( ( hn &lt;&lt; 4 ) | ln );\r\n        }\r\n\r\n        return out;\r\n    }","title":"Convert a string representation of a hex dump to a byte array using Java?","body":"<p>I like the Character.digit solution, but here is how I solved it</p>\n\n<pre><code>public byte[] hex2ByteArray( String hexString ) {\n    String hexVal = \"0123456789ABCDEF\";\n    byte[] out = new byte[hexString.length() / 2];\n\n    int n = hexString.length();\n\n    for( int i = 0; i &lt; n; i += 2 ) {\n        //make a bit representation in an int of the hex value \n        int hn = hexVal.indexOf( hexString.charAt( i ) );\n        int ln = hexVal.indexOf( hexString.charAt( i + 1 ) );\n\n        //now just shift the high order nibble and add them together\n        out[i/2] = (byte)( ( hn &lt;&lt; 4 ) | ln );\n    }\n\n    return out;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":287767,"reputation":793,"user_id":587789,"accept_rate":59,"display_name":"ovdsrn"},"score":6,"creation_date":1307564102,"post_id":4586527,"comment_id":7337534,"body_markdown":"It works only if the input string (hexString) has an even number of characters. Otherwise: Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: hexBinary needs to be even-length:","body":"It works only if the input string (hexString) has an even number of characters. Otherwise: Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: hexBinary needs to be even-length:"},{"owner":{"account_id":40981,"reputation":2122,"user_id":118999,"accept_rate":88,"display_name":"GrkEngineer"},"score":4,"creation_date":1308239648,"post_id":4586527,"comment_id":7466455,"body_markdown":"Oh, thanks for pointing that out. A user really shouldn&#39;t have an odd number of characters because the byte array is represented as {0x00,0xA0,0xBf}. Each byte has two hex digits or nibbles. So any number of bytes should always have an even number of characters. Thanks for mentioning this.","body":"Oh, thanks for pointing that out. A user really shouldn&#39;t have an odd number of characters because the byte array is represented as {0x00,0xA0,0xBf}. Each byte has two hex digits or nibbles. So any number of bytes should always have an even number of characters. Thanks for mentioning this."},{"owner":{"account_id":1075870,"reputation":7152,"user_id":1074041,"accept_rate":100,"display_name":"Trevor Freeman"},"score":8,"creation_date":1333564411,"post_id":4586527,"comment_id":12808459,"body_markdown":"You can use java.xml.bind.DatatypeConverter.parseHexBinary(hexString) directly instead of using HexBinaryAdapter (which in turn calls DatatypeConverter).  This way you do not have to create an adapter instance object (since DatatypeConverter methods are static).","body":"You can use java.xml.bind.DatatypeConverter.parseHexBinary(hexString) directly instead of using HexBinaryAdapter (which in turn calls DatatypeConverter).  This way you do not have to create an adapter instance object (since DatatypeConverter methods are static)."},{"owner":{"account_id":2111849,"reputation":1037,"user_id":1876980,"accept_rate":86,"display_name":"Stephen M -on strike-"},"score":0,"creation_date":1503939171,"post_id":4586527,"comment_id":78806296,"body_markdown":"javax.xml.bind.* is no longer available in Java 9. The dangerous thing is code using it will compile under Java 1.8 or earlier (Java 9 with source settings to earlier), but get a runtime exception running under Java 9.","body":"javax.xml.bind.* is no longer available in Java 9. The dangerous thing is code using it will compile under Java 1.8 or earlier (Java 9 with source settings to earlier), but get a runtime exception running under Java 9."}],"tags":[],"owner":{"account_id":40981,"reputation":2122,"user_id":118999,"accept_rate":88,"display_name":"GrkEngineer"},"comment_count":4,"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1328101820,"creation_date":1294074384,"answer_id":4586527,"question_id":140131,"body_markdown":"The `HexBinaryAdapter` provides the ability to marshal and unmarshal between `String` and `byte[]`.\r\n\r\n    import javax.xml.bind.annotation.adapters.HexBinaryAdapter;\r\n    \r\n    public byte[] hexToBytes(String hexString) {\r\n         HexBinaryAdapter adapter = new HexBinaryAdapter();\r\n         byte[] bytes = adapter.unmarshal(hexString);\r\n         return bytes;\r\n    }\r\n\r\nThat&#39;s just an example I typed in...I actually just use it as is and don&#39;t need to make a separate method for using it.","title":"Convert a string representation of a hex dump to a byte array using Java?","body":"<p>The <code>HexBinaryAdapter</code> provides the ability to marshal and unmarshal between <code>String</code> and <code>byte[]</code>.</p>\n\n<pre><code>import javax.xml.bind.annotation.adapters.HexBinaryAdapter;\n\npublic byte[] hexToBytes(String hexString) {\n     HexBinaryAdapter adapter = new HexBinaryAdapter();\n     byte[] bytes = adapter.unmarshal(hexString);\n     return bytes;\n}\n</code></pre>\n\n<p>That's just an example I typed in...I actually just use it as is and don't need to make a separate method for using it.</p>\n"},{"comments":[{"owner":{"account_id":1008930,"reputation":2893,"user_id":1021943,"accept_rate":80,"display_name":"Priidu Neemre"},"score":18,"creation_date":1439901628,"post_id":5942951,"comment_id":52041822,"body_markdown":"IMHO this should be the accepted/top answer since it&#39;s short and *cleanish* (unlike @DaveL&#39;s answer) and doesn&#39;t require any external libs (like skaffman&#39;s answer). Also, *&lt;Enter a worn joke about reinventing the bicycle&gt;*.","body":"IMHO this should be the accepted/top answer since it&#39;s short and <i>cleanish</i> (unlike @DaveL&#39;s answer) and doesn&#39;t require any external libs (like skaffman&#39;s answer). Also, <i>&lt;Enter a worn joke about reinventing the bicycle&gt;</i>."},{"owner":{"account_id":2992111,"reputation":970,"user_id":2539474,"accept_rate":100,"display_name":"Fabian"},"score":11,"creation_date":1455108060,"post_id":5942951,"comment_id":58339733,"body_markdown":"the datatypeconverter class is not available in android for example.","body":"the datatypeconverter class is not available in android for example."},{"owner":{"account_id":7567,"reputation":10188,"user_id":13189,"accept_rate":75,"display_name":"eckes"},"score":4,"creation_date":1478780225,"post_id":5942951,"comment_id":68294984,"body_markdown":"Warning: in Java 9 Jigsaw this is no longer part of the (default) `java.se` root set so it will result in a `ClassNotFoundException` unless you specify `--add-modules java.se.ee`","body":"Warning: in Java 9 Jigsaw this is no longer part of the (default) <code>java.se</code> root set so it will result in a <code>ClassNotFoundException</code> unless you specify <code>--add-modules java.se.ee</code>"},{"owner":{"account_id":2725736,"reputation":1466,"user_id":2350854,"accept_rate":40,"display_name":"dantebarba"},"score":0,"creation_date":1483730400,"post_id":5942951,"comment_id":70231549,"body_markdown":"Amazing answer, could decode a base64 string request, used hex to convert the byte array with the provided solution and it worked like a charm","body":"Amazing answer, could decode a base64 string request, used hex to convert the byte array with the provided solution and it worked like a charm"},{"owner":{"account_id":8576610,"reputation":341,"user_id":6425776,"display_name":"DragShot"},"score":3,"creation_date":1499120289,"post_id":5942951,"comment_id":76767013,"body_markdown":"@dantebarba I think `javax.xml.bind.DatatypeConverter` already provides a method for encoding/decoding Base64 data. See `parseBase64Binary()` and `printBase64Binary()`.","body":"@dantebarba I think <code>javax.xml.bind.DatatypeConverter</code> already provides a method for encoding/decoding Base64 data. See <code>parseBase64Binary()</code> and <code>printBase64Binary()</code>."},{"owner":{"account_id":2289455,"reputation":5106,"user_id":2012715,"accept_rate":66,"display_name":"Dmytro"},"score":0,"creation_date":1526337611,"post_id":5942951,"comment_id":87696201,"body_markdown":"can confirm that depending on javax.xml.bind can cause java.lang.NoClassDefFoundError.","body":"can confirm that depending on javax.xml.bind can cause java.lang.NoClassDefFoundError."},{"owner":{"account_id":9926324,"reputation":813,"user_id":7347751,"accept_rate":54,"display_name":"David Mordigal"},"score":2,"creation_date":1548827519,"post_id":5942951,"comment_id":95677530,"body_markdown":"To add to the issues with `DataTypeConverter`, Java SE 11 has removed the JAXB API entirely and is now only included with Java EE. You can also add it as a Maven dependency, as suggested here: https://stackoverflow.com/a/43574427/7347751","body":"To add to the issues with <code>DataTypeConverter</code>, Java SE 11 has removed the JAXB API entirely and is now only included with Java EE. You can also add it as a Maven dependency, as suggested here: <a href=\"https://stackoverflow.com/a/43574427/7347751\">stackoverflow.com/a/43574427/7347751</a>"}],"tags":[],"owner":{"account_id":57987,"reputation":29516,"user_id":173677,"accept_rate":83,"display_name":"Vladislav Rastrusny"},"comment_count":7,"down_vote_count":4,"up_vote_count":358,"is_accepted":false,"score":354,"last_activity_date":1494837087,"creation_date":1304978012,"answer_id":5942951,"question_id":140131,"body_markdown":"**One-liners:**\r\n\r\n    import javax.xml.bind.DatatypeConverter;\r\n\r\n    public static String toHexString(byte[] array) {\r\n        return DatatypeConverter.printHexBinary(array);\r\n    }\r\n    \r\n    public static byte[] toByteArray(String s) {\r\n        return DatatypeConverter.parseHexBinary(s);\r\n    }\r\n\r\n**Warnings**: \r\n\r\n - in Java 9 Jigsaw this is no longer part of the (default) java.se root\r\n   set so it will result in a ClassNotFoundException unless you specify\r\n   --add-modules java.se.ee (thanks to @`eckes`)\r\n - Not available on Android (thanks to `Fabian` for noting that), but you can just [take the source code][1] if your system lacks `javax.xml` for some reason. Thanks to @`Bert Regelink` for extracting the source.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/11139098/173677","title":"Convert a string representation of a hex dump to a byte array using Java?","body":"<p><strong>One-liners:</strong></p>\n\n<pre><code>import javax.xml.bind.DatatypeConverter;\n\npublic static String toHexString(byte[] array) {\n    return DatatypeConverter.printHexBinary(array);\n}\n\npublic static byte[] toByteArray(String s) {\n    return DatatypeConverter.parseHexBinary(s);\n}\n</code></pre>\n\n<p><strong>Warnings</strong>: </p>\n\n<ul>\n<li>in Java 9 Jigsaw this is no longer part of the (default) java.se root\nset so it will result in a ClassNotFoundException unless you specify\n--add-modules java.se.ee (thanks to @<code>eckes</code>)</li>\n<li>Not available on Android (thanks to <code>Fabian</code> for noting that), but you can just <a href=\"https://stackoverflow.com/a/11139098/173677\">take the source code</a> if your system lacks <code>javax.xml</code> for some reason. Thanks to @<code>Bert Regelink</code> for extracting the source.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1173070,"reputation":11,"user_id":1149783,"display_name":"Clayton Balabanov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1332613665,"creation_date":1332612138,"answer_id":9854133,"question_id":140131,"body_markdown":"I found Kernel Panic to have the solution most useful to me, but ran into problems if the hex string was an odd number.  solved it this way:\r\n\r\n    boolean isOdd(int value)\r\n    {\r\n    \treturn (value &amp; 0x01) !=0;\r\n    }\r\n\r\n    private int hexToByte(byte[] out, int value)\r\n    {\r\n    \tString hexVal = &quot;0123456789ABCDEF&quot;; \r\n    \tString hexValL = &quot;0123456789abcdef&quot;;\r\n    \tString st = Integer.toHexString(value);\r\n    \tint len = st.length();\r\n    \tif (isOdd(len))\r\n    \t\t{\r\n    \t\tlen+=1; // need length to be an even number.\r\n    \t\tst = (&quot;0&quot; + st);  // make it an even number of chars\r\n    \t\t}\r\n    \tout[0]=(byte)(len/2);\r\n    \tfor (int i =0;i&lt;len;i+=2)\r\n    \t{\r\n    \t\tint hh = hexVal.indexOf(st.charAt(i));\r\n    \t\t\tif (hh == -1)  hh = hexValL.indexOf(st.charAt(i));\r\n    \t\tint lh = hexVal.indexOf(st.charAt(i+1));\r\n    \t\t\tif (lh == -1)  lh = hexValL.indexOf(st.charAt(i+1));\r\n    \t\tout[(i/2)+1] = (byte)((hh &lt;&lt; 4)|lh);\r\n    \t}\r\n    \treturn (len/2)+1;\r\n    }\r\n    \r\nI am adding a number of hex numbers to an array, so i pass the reference to the array I am using, and the int I need converted and returning the relative position of the next hex number.  So the final byte array has [0] number of hex pairs, [1...] hex pairs, then the number of pairs...  ","title":"Convert a string representation of a hex dump to a byte array using Java?","body":"<p>I found Kernel Panic to have the solution most useful to me, but ran into problems if the hex string was an odd number.  solved it this way:</p>\n\n<pre><code>boolean isOdd(int value)\n{\n    return (value &amp; 0x01) !=0;\n}\n\nprivate int hexToByte(byte[] out, int value)\n{\n    String hexVal = \"0123456789ABCDEF\"; \n    String hexValL = \"0123456789abcdef\";\n    String st = Integer.toHexString(value);\n    int len = st.length();\n    if (isOdd(len))\n        {\n        len+=1; // need length to be an even number.\n        st = (\"0\" + st);  // make it an even number of chars\n        }\n    out[0]=(byte)(len/2);\n    for (int i =0;i&lt;len;i+=2)\n    {\n        int hh = hexVal.indexOf(st.charAt(i));\n            if (hh == -1)  hh = hexValL.indexOf(st.charAt(i));\n        int lh = hexVal.indexOf(st.charAt(i+1));\n            if (lh == -1)  lh = hexValL.indexOf(st.charAt(i+1));\n        out[(i/2)+1] = (byte)((hh &lt;&lt; 4)|lh);\n    }\n    return (len/2)+1;\n}\n</code></pre>\n\n<p>I am adding a number of hex numbers to an array, so i pass the reference to the array I am using, and the int I need converted and returning the relative position of the next hex number.  So the final byte array has [0] number of hex pairs, [1...] hex pairs, then the number of pairs...  </p>\n"},{"comments":[{"owner":{"account_id":2111849,"reputation":1037,"user_id":1876980,"accept_rate":86,"display_name":"Stephen M -on strike-"},"score":4,"creation_date":1503939244,"post_id":11139098,"comment_id":78806333,"body_markdown":"DatatypeConverter is also not available in Java 9 by default. The dangerous thing is code using it will compile under Java 1.8 or earlier (Java 9 with source settings to earlier), but get a runtime exception under Java 9 without &quot;--add-modules java.se.ee&quot;.","body":"DatatypeConverter is also not available in Java 9 by default. The dangerous thing is code using it will compile under Java 1.8 or earlier (Java 9 with source settings to earlier), but get a runtime exception under Java 9 without &quot;--add-modules java.se.ee&quot;."}],"tags":[],"owner":{"account_id":1286972,"reputation":2696,"user_id":1239858,"display_name":"Bert Regelink"},"comment_count":1,"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1689424063,"creation_date":1340284775,"answer_id":11139098,"question_id":140131,"body_markdown":"&gt; **One-liners:**\r\n&gt; \r\n&gt;     import jakarta.xml.bind.DatatypeConverter;\r\n&gt; \r\n&gt;     public static String toHexString(byte[] array) {\r\n&gt;         return DatatypeConverter.printHexBinary(array);\r\n&gt;     }\r\n&gt;     \r\n&gt;     public static byte[] toByteArray(String s) {\r\n&gt;         return DatatypeConverter.parseHexBinary(s);\r\n&gt;     }\r\n\r\n\r\nFor those of you interested in the actual code behind the **One-liners** from [FractalizeR][1] (I needed that since javax.xml.bind is not available for Android and Java 9+ by default), this comes from [jakarta.xml.bind.DatatypeConverterImpl.java](https://github.com/jakartaee/jaxb-api/blob/master/api/src/main/java/jakarta/xml/bind/DatatypeConverterImpl.java#L436C1-L482C6):\r\n\r\n```\r\npublic byte[] parseHexBinary(String s) {\r\n    final int len = s.length();\r\n\r\n    // &quot;111&quot; is not a valid hex encoding.\r\n    if (len % 2 != 0) {\r\n        throw new IllegalArgumentException(&quot;hexBinary needs to be even-length: &quot; + s);\r\n    }\r\n\r\n    byte[] out = new byte[len / 2];\r\n\r\n    for (int i = 0; i &lt; len; i += 2) {\r\n        int h = hexToBin(s.charAt(i));\r\n        int l = hexToBin(s.charAt(i + 1));\r\n        if (h == -1 || l == -1) {\r\n            throw new IllegalArgumentException(&quot;contains illegal character for hexBinary: &quot; + s);\r\n        }\r\n\r\n        out[i / 2] = (byte) (h * 16 + l);\r\n    }\r\n\r\n    return out;\r\n}\r\n\r\nprivate static int hexToBin(char ch) {\r\n    if (&#39;0&#39; &lt;= ch &amp;&amp; ch &lt;= &#39;9&#39;) {\r\n        return ch - &#39;0&#39;;\r\n    }\r\n    if (&#39;A&#39; &lt;= ch &amp;&amp; ch &lt;= &#39;F&#39;) {\r\n        return ch - &#39;A&#39; + 10;\r\n    }\r\n    if (&#39;a&#39; &lt;= ch &amp;&amp; ch &lt;= &#39;f&#39;) {\r\n        return ch - &#39;a&#39; + 10;\r\n    }\r\n    return -1;\r\n}\r\n\r\nprivate static final char[] hexCode = &quot;0123456789ABCDEF&quot;.toCharArray();\r\n\r\npublic String printHexBinary(byte[] data) {\r\n    StringBuilder r = new StringBuilder(data.length * 2);\r\n    for (byte b : data) {\r\n        r.append(hexCode[(b &gt;&gt; 4) &amp; 0xF]);\r\n        r.append(hexCode[(b &amp; 0xF)]);\r\n    }\r\n    return r.toString();\r\n}\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/173677/fractalizer","title":"Convert a string representation of a hex dump to a byte array using Java?","body":"<blockquote>\n<p><strong>One-liners:</strong></p>\n<pre><code>import jakarta.xml.bind.DatatypeConverter;\n\npublic static String toHexString(byte[] array) {\n    return DatatypeConverter.printHexBinary(array);\n}\n\npublic static byte[] toByteArray(String s) {\n    return DatatypeConverter.parseHexBinary(s);\n}\n</code></pre>\n</blockquote>\n<p>For those of you interested in the actual code behind the <strong>One-liners</strong> from <a href=\"https://stackoverflow.com/users/173677/fractalizer\">FractalizeR</a> (I needed that since javax.xml.bind is not available for Android and Java 9+ by default), this comes from <a href=\"https://github.com/jakartaee/jaxb-api/blob/master/api/src/main/java/jakarta/xml/bind/DatatypeConverterImpl.java#L436C1-L482C6\" rel=\"nofollow noreferrer\">jakarta.xml.bind.DatatypeConverterImpl.java</a>:</p>\n<pre><code>public byte[] parseHexBinary(String s) {\n    final int len = s.length();\n\n    // &quot;111&quot; is not a valid hex encoding.\n    if (len % 2 != 0) {\n        throw new IllegalArgumentException(&quot;hexBinary needs to be even-length: &quot; + s);\n    }\n\n    byte[] out = new byte[len / 2];\n\n    for (int i = 0; i &lt; len; i += 2) {\n        int h = hexToBin(s.charAt(i));\n        int l = hexToBin(s.charAt(i + 1));\n        if (h == -1 || l == -1) {\n            throw new IllegalArgumentException(&quot;contains illegal character for hexBinary: &quot; + s);\n        }\n\n        out[i / 2] = (byte) (h * 16 + l);\n    }\n\n    return out;\n}\n\nprivate static int hexToBin(char ch) {\n    if ('0' &lt;= ch &amp;&amp; ch &lt;= '9') {\n        return ch - '0';\n    }\n    if ('A' &lt;= ch &amp;&amp; ch &lt;= 'F') {\n        return ch - 'A' + 10;\n    }\n    if ('a' &lt;= ch &amp;&amp; ch &lt;= 'f') {\n        return ch - 'a' + 10;\n    }\n    return -1;\n}\n\nprivate static final char[] hexCode = &quot;0123456789ABCDEF&quot;.toCharArray();\n\npublic String printHexBinary(byte[] data) {\n    StringBuilder r = new StringBuilder(data.length * 2);\n    for (byte b : data) {\n        r.append(hexCode[(b &gt;&gt; 4) &amp; 0xF]);\n        r.append(hexCode[(b &amp; 0xF)]);\n    }\n    return r.toString();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2025097,"reputation":29,"user_id":1810344,"display_name":"Sean Coffey"},"score":3,"creation_date":1352404105,"post_id":13296284,"comment_id":18131101,"body_markdown":"This is a different problem really, and probably belongs on another thread.","body":"This is a different problem really, and probably belongs on another thread."}],"tags":[],"owner":{"account_id":2025097,"reputation":29,"user_id":1810344,"display_name":"Sean Coffey"},"comment_count":1,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1352404299,"creation_date":1352402844,"answer_id":13296284,"question_id":140131,"body_markdown":"The Code presented by Bert Regelink simply does not work. \r\nTry the following:\r\n\r\n    import javax.xml.bind.DatatypeConverter;\r\n    import java.io.*;\r\n\r\n    public class Test\r\n    {  \r\n        @Test\r\n        public void testObjectStreams( ) throws IOException, ClassNotFoundException\r\n        {     \r\n                ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n                ObjectOutputStream oos = new ObjectOutputStream(baos);\r\n        \r\n                String stringTest = &quot;TEST&quot;;\r\n                oos.writeObject( stringTest );\r\n    \r\n                oos.close();\r\n                baos.close();\r\n        \r\n                byte[] bytes = baos.toByteArray();\r\n                String hexString = DatatypeConverter.printHexBinary( bytes);\r\n                byte[] reconvertedBytes = DatatypeConverter.parseHexBinary(hexString);\r\n  \r\n                assertArrayEquals( bytes, reconvertedBytes );\r\n\r\n                ByteArrayInputStream bais = new ByteArrayInputStream(reconvertedBytes);\r\n                ObjectInputStream ois = new ObjectInputStream(bais);\r\n          \r\n                String readString = (String) ois.readObject();\r\n       \r\n                assertEquals( stringTest, readString);\r\n            }\r\n        }\r\n\r\n","title":"Convert a string representation of a hex dump to a byte array using Java?","body":"<p>The Code presented by Bert Regelink simply does not work. \nTry the following:</p>\n\n<pre><code>import javax.xml.bind.DatatypeConverter;\nimport java.io.*;\n\npublic class Test\n{  \n    @Test\n    public void testObjectStreams( ) throws IOException, ClassNotFoundException\n    {     \n            ByteArrayOutputStream baos = new ByteArrayOutputStream();\n            ObjectOutputStream oos = new ObjectOutputStream(baos);\n\n            String stringTest = \"TEST\";\n            oos.writeObject( stringTest );\n\n            oos.close();\n            baos.close();\n\n            byte[] bytes = baos.toByteArray();\n            String hexString = DatatypeConverter.printHexBinary( bytes);\n            byte[] reconvertedBytes = DatatypeConverter.parseHexBinary(hexString);\n\n            assertArrayEquals( bytes, reconvertedBytes );\n\n            ByteArrayInputStream bais = new ByteArrayInputStream(reconvertedBytes);\n            ObjectInputStream ois = new ObjectInputStream(bais);\n\n            String readString = (String) ois.readObject();\n\n            assertEquals( stringTest, readString);\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":190177,"reputation":10331,"user_id":429972,"accept_rate":67,"display_name":"jontro"},"comment_count":0,"down_vote_count":1,"up_vote_count":47,"is_accepted":false,"score":46,"last_activity_date":1517500287,"creation_date":1364379536,"answer_id":15656440,"question_id":140131,"body_markdown":"You can now use [BaseEncoding][1] in `guava` to accomplish this.\r\n \r\n    BaseEncoding.base16().decode(string);\r\n\r\nTo reverse it use \r\n\r\n    BaseEncoding.base16().encode(bytes);\r\n\r\n[1]: https://google.github.io/guava/releases/snapshot-jre/api/docs/com/google/common/io/BaseEncoding.html","title":"Convert a string representation of a hex dump to a byte array using Java?","body":"<p>You can now use <a href=\"https://google.github.io/guava/releases/snapshot-jre/api/docs/com/google/common/io/BaseEncoding.html\" rel=\"noreferrer\">BaseEncoding</a> in <code>guava</code> to accomplish this.</p>\n\n<pre><code>BaseEncoding.base16().decode(string);\n</code></pre>\n\n<p>To reverse it use </p>\n\n<pre><code>BaseEncoding.base16().encode(bytes);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8455,"reputation":1834,"user_id":15254,"display_name":"Philip Helger"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1368715427,"creation_date":1368715427,"answer_id":16590535,"question_id":140131,"body_markdown":"Based on the op voted solution, the following should be a bit more efficient:\r\n\r\n      public static byte [] hexStringToByteArray (final String s) {\r\n        if (s == null || (s.length () % 2) == 1)\r\n          throw new IllegalArgumentException ();\r\n        final char [] chars = s.toCharArray ();\r\n        final int len = chars.length;\r\n        final byte [] data = new byte [len / 2];\r\n        for (int i = 0; i &lt; len; i += 2) {\r\n          data[i / 2] = (byte) ((Character.digit (chars[i], 16) &lt;&lt; 4) + Character.digit (chars[i + 1], 16));\r\n        }\r\n        return data;\r\n      }\r\n\r\nBecause: the initial conversion to a char array spares the length checks in charAt","title":"Convert a string representation of a hex dump to a byte array using Java?","body":"<p>Based on the op voted solution, the following should be a bit more efficient:</p>\n\n<pre><code>  public static byte [] hexStringToByteArray (final String s) {\n    if (s == null || (s.length () % 2) == 1)\n      throw new IllegalArgumentException ();\n    final char [] chars = s.toCharArray ();\n    final int len = chars.length;\n    final byte [] data = new byte [len / 2];\n    for (int i = 0; i &lt; len; i += 2) {\n      data[i / 2] = (byte) ((Character.digit (chars[i], 16) &lt;&lt; 4) + Character.digit (chars[i + 1], 16));\n    }\n    return data;\n  }\n</code></pre>\n\n<p>Because: the initial conversion to a char array spares the length checks in charAt</p>\n"},{"comments":[{"owner":{"account_id":4133009,"reputation":5082,"user_id":3390364,"display_name":"rfornal"},"score":0,"creation_date":1417828230,"post_id":27326948,"comment_id":43113292,"body_markdown":"This question has been answered for a while and has several good alternatives in place; unfortunately, your answer does not provide any significantly improved value at this point.","body":"This question has been answered for a while and has several good alternatives in place; unfortunately, your answer does not provide any significantly improved value at this point."}],"tags":[],"owner":{"account_id":5443362,"reputation":1,"user_id":4330776,"display_name":"Alejandro"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1417827529,"creation_date":1417826483,"answer_id":27326948,"question_id":140131,"body_markdown":"For Me this was the solution, HEX=&quot;FF01&quot; then split to FF(255) and 01(01) \r\n\r\n    private static byte[] BytesEncode(String encoded) {\r\n        //System.out.println(encoded.length());\r\n        byte result[] = new byte[encoded.length() / 2];\r\n        char enc[] = encoded.toUpperCase().toCharArray();\r\n        String curr = &quot;&quot;;\r\n        for (int i = 0; i &lt; encoded.length(); i=i+2) {\r\n            curr = encoded.substring(i,i+2);\r\n            System.out.println(curr);\r\n            if(i==0){\r\n                result[i]=((byte) Integer.parseInt(curr, 16));\r\n            }else{\r\n                result[i/2]=((byte) Integer.parseInt(curr, 16));\r\n            }\r\n            \r\n        }\r\n        return result;\r\n    }","title":"Convert a string representation of a hex dump to a byte array using Java?","body":"<p>For Me this was the solution, HEX=\"FF01\" then split to FF(255) and 01(01) </p>\n\n<pre><code>private static byte[] BytesEncode(String encoded) {\n    //System.out.println(encoded.length());\n    byte result[] = new byte[encoded.length() / 2];\n    char enc[] = encoded.toUpperCase().toCharArray();\n    String curr = \"\";\n    for (int i = 0; i &lt; encoded.length(); i=i+2) {\n        curr = encoded.substring(i,i+2);\n        System.out.println(curr);\n        if(i==0){\n            result[i]=((byte) Integer.parseInt(curr, 16));\n        }else{\n            result[i/2]=((byte) Integer.parseInt(curr, 16));\n        }\n\n    }\n    return result;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1741872,"reputation":1592,"user_id":1593044,"accept_rate":76,"display_name":"poby"},"score":0,"creation_date":1588658821,"post_id":33523093,"comment_id":108975348,"body_markdown":"I have tested many different methods but this one is at least twice as fast!","body":"I have tested many different methods but this one is at least twice as fast!"},{"owner":{"account_id":19417,"reputation":37980,"user_id":45525,"accept_rate":83,"display_name":"Synesso"},"score":0,"creation_date":1632523827,"post_id":33523093,"comment_id":122524920,"body_markdown":"This is the goat.","body":"This is the goat."}],"tags":[],"owner":{"account_id":4995161,"reputation":954,"user_id":4016014,"display_name":"Miao1007"},"comment_count":2,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1446643502,"creation_date":1446643502,"answer_id":33523093,"question_id":140131,"body_markdown":"In android ,if you are working with hex, you can try [okio](https://github.com/square/okio).\r\n\r\nsimple usage:\r\n\r\n    byte[] bytes = ByteString.decodeHex(&quot;c000060000&quot;).toByteArray();\r\n\r\nand result will be \r\n\r\n    [-64, 0, 6, 0, 0]","title":"Convert a string representation of a hex dump to a byte array using Java?","body":"<p>In android ,if you are working with hex, you can try <a href=\"https://github.com/square/okio\" rel=\"noreferrer\">okio</a>.</p>\n\n<p>simple usage:</p>\n\n<pre><code>byte[] bytes = ByteString.decodeHex(\"c000060000\").toByteArray();\n</code></pre>\n\n<p>and result will be </p>\n\n<pre><code>[-64, 0, 6, 0, 0]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3878382,"reputation":1171,"user_id":3211687,"display_name":"Conor Svensson"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1476159365,"creation_date":1476159365,"answer_id":39970426,"question_id":140131,"body_markdown":"For what it&#39;s worth, here&#39;s another version which supports odd length strings, without resorting to string concatenation.\r\n\r\n    public static byte[] hexStringToByteArray(String input) {\r\n        int len = input.length();\r\n\r\n        if (len == 0) {\r\n            return new byte[] {};\r\n        }\r\n\r\n        byte[] data;\r\n        int startIdx;\r\n        if (len % 2 != 0) {\r\n            data = new byte[(len / 2) + 1];\r\n            data[0] = (byte) Character.digit(input.charAt(0), 16);\r\n            startIdx = 1;\r\n        } else {\r\n            data = new byte[len / 2];\r\n            startIdx = 0;\r\n        }\r\n\r\n        for (int i = startIdx; i &lt; len; i += 2) {\r\n            data[(i + 1) / 2] = (byte) ((Character.digit(input.charAt(i), 16) &lt;&lt; 4)\r\n                    + Character.digit(input.charAt(i+1), 16));\r\n        }\r\n        return data;\r\n    }\r\n","title":"Convert a string representation of a hex dump to a byte array using Java?","body":"<p>For what it's worth, here's another version which supports odd length strings, without resorting to string concatenation.</p>\n\n<pre><code>public static byte[] hexStringToByteArray(String input) {\n    int len = input.length();\n\n    if (len == 0) {\n        return new byte[] {};\n    }\n\n    byte[] data;\n    int startIdx;\n    if (len % 2 != 0) {\n        data = new byte[(len / 2) + 1];\n        data[0] = (byte) Character.digit(input.charAt(0), 16);\n        startIdx = 1;\n    } else {\n        data = new byte[len / 2];\n        startIdx = 0;\n    }\n\n    for (int i = startIdx; i &lt; len; i += 2) {\n        data[(i + 1) / 2] = (byte) ((Character.digit(input.charAt(i), 16) &lt;&lt; 4)\n                + Character.digit(input.charAt(i+1), 16));\n    }\n    return data;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":954960,"reputation":13272,"user_id":980442,"accept_rate":25,"display_name":"Daniel De Le&#243;n"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1493972679,"creation_date":1493971054,"answer_id":43799515,"question_id":140131,"body_markdown":"My formal solution:\r\n\r\n    /**\r\n     * Decodes a hexadecimally encoded binary string.\r\n     * &lt;p&gt;\r\n     * Note that this function does &lt;em&gt;NOT&lt;/em&gt; convert a hexadecimal number to a\r\n     * binary number.\r\n     *\r\n     * @param hex Hexadecimal representation of data.\r\n     * @return The byte[] representation of the given data.\r\n     * @throws NumberFormatException If the hexadecimal input string is of odd\r\n     * length or invalid hexadecimal string.\r\n     */\r\n    public static byte[] hex2bin(String hex) throws NumberFormatException {\r\n        if (hex.length() % 2 &gt; 0) {\r\n            throw new NumberFormatException(&quot;Hexadecimal input string must have an even length.&quot;);\r\n        }\r\n        byte[] r = new byte[hex.length() / 2];\r\n        for (int i = hex.length(); i &gt; 0;) {\r\n            r[i / 2 - 1] = (byte) (digit(hex.charAt(--i)) | (digit(hex.charAt(--i)) &lt;&lt; 4));\r\n        }\r\n        return r;\r\n    }\r\n\r\n    private static int digit(char ch) {\r\n        int r = Character.digit(ch, 16);\r\n        if (r &lt; 0) {\r\n            throw new NumberFormatException(&quot;Invalid hexadecimal string: &quot; + ch);\r\n        }\r\n        return r;\r\n    }\r\n\r\nIs like the [PHP hex2bin() Function][1] but in Java style.\r\n\r\n**Example:**\r\n\r\n    String data = new String(hex2bin(&quot;6578616d706c65206865782064617461&quot;));\r\n    // data value: &quot;example hex data&quot;\r\n\r\n\r\n\r\n  [1]: http://php.net/manual/en/function.hex2bin.php","title":"Convert a string representation of a hex dump to a byte array using Java?","body":"<p>My formal solution:</p>\n\n<pre><code>/**\n * Decodes a hexadecimally encoded binary string.\n * &lt;p&gt;\n * Note that this function does &lt;em&gt;NOT&lt;/em&gt; convert a hexadecimal number to a\n * binary number.\n *\n * @param hex Hexadecimal representation of data.\n * @return The byte[] representation of the given data.\n * @throws NumberFormatException If the hexadecimal input string is of odd\n * length or invalid hexadecimal string.\n */\npublic static byte[] hex2bin(String hex) throws NumberFormatException {\n    if (hex.length() % 2 &gt; 0) {\n        throw new NumberFormatException(\"Hexadecimal input string must have an even length.\");\n    }\n    byte[] r = new byte[hex.length() / 2];\n    for (int i = hex.length(); i &gt; 0;) {\n        r[i / 2 - 1] = (byte) (digit(hex.charAt(--i)) | (digit(hex.charAt(--i)) &lt;&lt; 4));\n    }\n    return r;\n}\n\nprivate static int digit(char ch) {\n    int r = Character.digit(ch, 16);\n    if (r &lt; 0) {\n        throw new NumberFormatException(\"Invalid hexadecimal string: \" + ch);\n    }\n    return r;\n}\n</code></pre>\n\n<p>Is like the <a href=\"http://php.net/manual/en/function.hex2bin.php\" rel=\"nofollow noreferrer\">PHP hex2bin() Function</a> but in Java style.</p>\n\n<p><strong>Example:</strong></p>\n\n<pre><code>String data = new String(hex2bin(\"6578616d706c65206865782064617461\"));\n// data value: \"example hex data\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1961640,"reputation":12136,"user_id":1763035,"accept_rate":56,"display_name":"Andy Brown"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1523870334,"creation_date":1523870334,"answer_id":49853711,"question_id":140131,"body_markdown":"If you have a preference for Java 8 streams as your coding style then this can be achieved using just JDK primitives.\r\n\r\n    String hex = &quot;0001027f80fdfeff&quot;;\r\n\r\n    byte[] converted = IntStream.range(0, hex.length() / 2)\r\n        .map(i -&gt; Character.digit(hex.charAt(i * 2), 16) &lt;&lt; 4 | Character.digit(hex.charAt((i * 2) + 1), 16))\r\n        .collect(ByteArrayOutputStream::new,\r\n                 ByteArrayOutputStream::write,\r\n                 (s1, s2) -&gt; s1.write(s2.toByteArray(), 0, s2.size()))\r\n        .toByteArray();\r\n\r\nThe `, 0, s2.size()` parameters in the collector concatenate function can be omitted if you don&#39;t mind catching `IOException`.","title":"Convert a string representation of a hex dump to a byte array using Java?","body":"<p>If you have a preference for Java 8 streams as your coding style then this can be achieved using just JDK primitives.</p>\n\n<pre><code>String hex = \"0001027f80fdfeff\";\n\nbyte[] converted = IntStream.range(0, hex.length() / 2)\n    .map(i -&gt; Character.digit(hex.charAt(i * 2), 16) &lt;&lt; 4 | Character.digit(hex.charAt((i * 2) + 1), 16))\n    .collect(ByteArrayOutputStream::new,\n             ByteArrayOutputStream::write,\n             (s1, s2) -&gt; s1.write(s2.toByteArray(), 0, s2.size()))\n    .toByteArray();\n</code></pre>\n\n<p>The <code>, 0, s2.size()</code> parameters in the collector concatenate function can be omitted if you don't mind catching <code>IOException</code>.</p>\n"},{"tags":[],"owner":{"account_id":9925264,"reputation":614,"user_id":7347085,"display_name":"DrPhill"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1535187784,"creation_date":1535187784,"answer_id":52015636,"question_id":140131,"body_markdown":"Late to the party, but I have amalgamated the answer above by DaveL into a class with the reverse action - just in case it helps. \r\n\r\n    public final class HexString {\r\n    \tprivate static final char[] digits = &quot;0123456789ABCDEF&quot;.toCharArray();\r\n    \t\r\n    \tprivate HexString() {}\r\n    \r\n    \tpublic static final String fromBytes(final byte[] bytes) {\r\n    \t\tfinal StringBuilder buf = new StringBuilder();\r\n    \t\tfor (int i = 0; i &lt; bytes.length; i++) {\r\n    \t\t\tbuf.append(HexString.digits[(bytes[i] &gt;&gt; 4) &amp; 0x0f]);\r\n    \t\t\tbuf.append(HexString.digits[bytes[i] &amp; 0x0f]);\r\n    \t\t}\r\n    \t\treturn buf.toString();\r\n    \t}\r\n    \r\n    \tpublic static final byte[] toByteArray(final String hexString) {\r\n    \t\tif ((hexString.length() % 2) != 0) {\r\n    \t\t\tthrow new IllegalArgumentException(&quot;Input string must contain an even number of characters&quot;);\r\n    \t\t}\r\n    \t\tfinal int len = hexString.length();\r\n    \t\tfinal byte[] data = new byte[len / 2];\r\n    \t\tfor (int i = 0; i &lt; len; i += 2) {\r\n    \t\t\tdata[i / 2] = (byte) ((Character.digit(hexString.charAt(i), 16) &lt;&lt; 4)\r\n    \t\t\t\t\t+ Character.digit(hexString.charAt(i + 1), 16));\r\n    \t\t}\r\n    \t\treturn data;\r\n    \t}\r\n    }\r\n\r\nAnd JUnit test class:\r\n\r\n    public class TestHexString {\r\n    \r\n    \t@Test\r\n    \tpublic void test() {\r\n    \t\tString[] tests = {&quot;0FA1056D73&quot;, &quot;&quot;, &quot;00&quot;, &quot;0123456789ABCDEF&quot;, &quot;FFFFFFFF&quot;};\r\n    \t\t\r\n    \t\tfor (int i = 0; i &lt; tests.length; i++) {\r\n    \t\t\tString in = tests[i];\r\n    \t\t\tbyte[] bytes = HexString.toByteArray(in);\r\n    \t\t\tString out = HexString.fromBytes(bytes);\r\n    \t\t\tSystem.out.println(in); //DEBUG\r\n    \t\t\tSystem.out.println(out); //DEBUG\r\n    \t\t\tAssert.assertEquals(in, out);\r\n    \t\t\t\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    \r\n    }","title":"Convert a string representation of a hex dump to a byte array using Java?","body":"<p>Late to the party, but I have amalgamated the answer above by DaveL into a class with the reverse action - just in case it helps. </p>\n\n<pre><code>public final class HexString {\n    private static final char[] digits = \"0123456789ABCDEF\".toCharArray();\n\n    private HexString() {}\n\n    public static final String fromBytes(final byte[] bytes) {\n        final StringBuilder buf = new StringBuilder();\n        for (int i = 0; i &lt; bytes.length; i++) {\n            buf.append(HexString.digits[(bytes[i] &gt;&gt; 4) &amp; 0x0f]);\n            buf.append(HexString.digits[bytes[i] &amp; 0x0f]);\n        }\n        return buf.toString();\n    }\n\n    public static final byte[] toByteArray(final String hexString) {\n        if ((hexString.length() % 2) != 0) {\n            throw new IllegalArgumentException(\"Input string must contain an even number of characters\");\n        }\n        final int len = hexString.length();\n        final byte[] data = new byte[len / 2];\n        for (int i = 0; i &lt; len; i += 2) {\n            data[i / 2] = (byte) ((Character.digit(hexString.charAt(i), 16) &lt;&lt; 4)\n                    + Character.digit(hexString.charAt(i + 1), 16));\n        }\n        return data;\n    }\n}\n</code></pre>\n\n<p>And JUnit test class:</p>\n\n<pre><code>public class TestHexString {\n\n    @Test\n    public void test() {\n        String[] tests = {\"0FA1056D73\", \"\", \"00\", \"0123456789ABCDEF\", \"FFFFFFFF\"};\n\n        for (int i = 0; i &lt; tests.length; i++) {\n            String in = tests[i];\n            byte[] bytes = HexString.toByteArray(in);\n            String out = HexString.fromBytes(bytes);\n            System.out.println(in); //DEBUG\n            System.out.println(out); //DEBUG\n            Assert.assertEquals(in, out);\n\n        }\n\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7590302,"reputation":37,"user_id":5758166,"display_name":"tigger"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1537889279,"creation_date":1537888263,"answer_id":52501458,"question_id":140131,"body_markdown":"I know this is a very old thread, but still like to add my penny worth.\r\n\r\nIf I really need to code up a simple hex string to binary converter, I&#39;d like to do it as follows.\r\n\r\n    public static byte[] hexToBinary(String s){\r\n      \r\n      /*\r\n       * skipped any input validation code\r\n       */\r\n      \r\n      byte[] data = new byte[s.length()/2];\r\n      \r\n      for( int i=0, j=0; \r\n           i&lt;s.length() &amp;&amp; j&lt;data.length; \r\n           i+=2, j++)\r\n      {\r\n         data[j] = (byte)Integer.parseInt(s.substring(i, i+2), 16);\r\n      }\r\n      \r\n      return data;\r\n    }\r\n","title":"Convert a string representation of a hex dump to a byte array using Java?","body":"<p>I know this is a very old thread, but still like to add my penny worth.</p>\n\n<p>If I really need to code up a simple hex string to binary converter, I'd like to do it as follows.</p>\n\n<pre><code>public static byte[] hexToBinary(String s){\n\n  /*\n   * skipped any input validation code\n   */\n\n  byte[] data = new byte[s.length()/2];\n\n  for( int i=0, j=0; \n       i&lt;s.length() &amp;&amp; j&lt;data.length; \n       i+=2, j++)\n  {\n     data[j] = (byte)Integer.parseInt(s.substring(i, i+2), 16);\n  }\n\n  return data;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2638842,"reputation":271,"user_id":2282938,"display_name":"lbruun"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1647165339,"creation_date":1647165339,"answer_id":71455588,"question_id":140131,"body_markdown":"If your needs are more than just the occasional conversion then you can use [HexUtils][1].\r\n\r\nExample:\r\n```java\r\nbyte[] byteArray = Hex.hexStrToBytes(&quot;00A0BF&quot;);\r\n```\r\n\r\nThis is the most simple case. Your input may contain delimiters (think MAC addresses, certificate thumbprints, etc), your input may be streaming, etc. In such cases it gets easier to justify to pull in an external library like [HexUtils][1], however small.\r\n\r\nWith JDK 17 the [HexFormat][2] class will fulfill most needs and the need for something like HexUtils is greatly diminished. However, HexUtils can still be used for things like converting very large amounts to/from hex (streaming) or pretty printing hex (think wire dumps) which the JDK HexFormat class cannot do.\r\n\r\n(full disclosure: I&#39;m the author of HexUtils)\r\n\r\n\r\n\r\n  [1]: https://github.com/lbruun/hexutils\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/HexFormat.html","title":"Convert a string representation of a hex dump to a byte array using Java?","body":"<p>If your needs are more than just the occasional conversion then you can use <a href=\"https://github.com/lbruun/hexutils\" rel=\"nofollow noreferrer\">HexUtils</a>.</p>\n<p>Example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>byte[] byteArray = Hex.hexStrToBytes(&quot;00A0BF&quot;);\n</code></pre>\n<p>This is the most simple case. Your input may contain delimiters (think MAC addresses, certificate thumbprints, etc), your input may be streaming, etc. In such cases it gets easier to justify to pull in an external library like <a href=\"https://github.com/lbruun/hexutils\" rel=\"nofollow noreferrer\">HexUtils</a>, however small.</p>\n<p>With JDK 17 the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/HexFormat.html\" rel=\"nofollow noreferrer\">HexFormat</a> class will fulfill most needs and the need for something like HexUtils is greatly diminished. However, HexUtils can still be used for things like converting very large amounts to/from hex (streaming) or pretty printing hex (think wire dumps) which the JDK HexFormat class cannot do.</p>\n<p>(full disclosure: I'm the author of HexUtils)</p>\n"}],"owner":{"account_id":6922,"reputation":4846,"user_id":11798,"display_name":"rafraf"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":615828,"favorite_count":0,"down_vote_count":3,"up_vote_count":449,"accepted_answer_id":140861,"answer_count":25,"score":446,"last_activity_date":1689424063,"creation_date":1222441965,"question_id":140131,"body_markdown":"I am looking for a way to convert a long string (from a dump), that represents hex values into a byte array.\r\n\r\nI couldn&#39;t have phrased it better than the person that posted [the same question here][1].\r\n\r\nBut to keep it original, I&#39;ll phrase it my own way: suppose I have a string `&quot;00A0BF&quot;` that I would like interpreted as the\r\n\r\n    byte[] {0x00,0xA0,0xBf}\r\n\r\nwhat should I do?\r\n\r\nI am a Java novice and ended up using `BigInteger` and watching out for leading hex zeros. But I think it is ugly and I am sure I am missing something simple. \r\n\r\n\r\n  [1]: http://www.experts-exchange.com/Programming/Programming_Languages/Java/Q_21062554.html","title":"Convert a string representation of a hex dump to a byte array using Java?","body":"<p>I am looking for a way to convert a long string (from a dump), that represents hex values into a byte array.</p>\n\n<p>I couldn't have phrased it better than the person that posted <a href=\"http://www.experts-exchange.com/Programming/Programming_Languages/Java/Q_21062554.html\" rel=\"noreferrer\">the same question here</a>.</p>\n\n<p>But to keep it original, I'll phrase it my own way: suppose I have a string <code>\"00A0BF\"</code> that I would like interpreted as the</p>\n\n<pre><code>byte[] {0x00,0xA0,0xBf}\n</code></pre>\n\n<p>what should I do?</p>\n\n<p>I am a Java novice and ended up using <code>BigInteger</code> and watching out for leading hex zeros. But I think it is ugly and I am sure I am missing something simple. </p>\n"},{"tags":["java","apache-poi"],"comments":[{"owner":{"account_id":3023214,"reputation":20361,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":2,"creation_date":1689422886,"post_id":76693641,"comment_id":135213173,"body_markdown":"Why are you bothering? The second namespace declaration is superfluous and can be omitted.","body":"Why are you bothering? The second namespace declaration is superfluous and can be omitted."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":4,"creation_date":1689424577,"post_id":76693641,"comment_id":135213396,"body_markdown":"POI writes the Excel file from scratch, it doesn&#39;t know nor care that you had this unneeded extra declaration in the original XML. If spread.js can&#39;t handle that, then that sounds like a bug in spread.js not conforming to XML specifications.","body":"POI writes the Excel file from scratch, it doesn&#39;t know nor care that you had this unneeded extra declaration in the original XML. If spread.js can&#39;t handle that, then that sounds like a bug in spread.js not conforming to XML specifications."},{"owner":{"account_id":29022648,"reputation":9,"user_id":22231622,"display_name":"Yufei Amazon"},"score":0,"creation_date":1689429061,"post_id":76693641,"comment_id":135213920,"body_markdown":"I am a little upset because the back end use POI dealing Excel while the front end use spread.js dealing Excel, front end can not work mormally when POI delete the namespace in ext tag of sheet1.xml in Excel , and my customer need me to fix this problem.At the same time, My front-end colleague is also thinking about using spread.js to solve the problem","body":"I am a little upset because the back end use POI dealing Excel while the front end use spread.js dealing Excel, front end can not work mormally when POI delete the namespace in ext tag of sheet1.xml in Excel , and my customer need me to fix this problem.At the same time, My front-end colleague is also thinking about using spread.js to solve the problem"}],"owner":{"account_id":29022648,"reputation":9,"user_id":22231622,"display_name":"Yufei Amazon"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1689422364,"creation_date":1689422364,"question_id":76693641,"body_markdown":"I found that POI has this behavior: When the child tag in xml of a Excel file has the same namespace as the parent tag, the namespace of the child tag will be removed. Why is that?\r\n\r\nHere are the details：\r\nI have a excel file, I use a decompression software unzip it away, and then opened the file /xl/worksheets/sheet1.xml which has the following contents:\r\n\r\n\r\nthe key point of it should be the first and the last part：\r\n[enter image description here](https://i.stack.imgur.com/on039.png)\r\n\r\nthen I use POI deal with this Excel, and wrote it out as a another Excel, but the new Excel file delete the namespace of ext tag, you can see it in follwoing picture: \r\n[enter image description here](https://i.stack.imgur.com/Pepyn.png)\r\n\r\nI don&#39;t want POI delete the namespace of ext tag. Because spread.js can not work normally for some functions when this happed. I hope anybody can do help \r\n\r\nI hope figure out why that is?","title":"how POI delete namespace of xml in Excel","body":"<p>I found that POI has this behavior: When the child tag in xml of a Excel file has the same namespace as the parent tag, the namespace of the child tag will be removed. Why is that?</p>\n<p>Here are the details：\nI have a excel file, I use a decompression software unzip it away, and then opened the file /xl/worksheets/sheet1.xml which has the following contents:</p>\n<p>the key point of it should be the first and the last part：\n<a href=\"https://i.stack.imgur.com/on039.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>then I use POI deal with this Excel, and wrote it out as a another Excel, but the new Excel file delete the namespace of ext tag, you can see it in follwoing picture:\n<a href=\"https://i.stack.imgur.com/Pepyn.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I don't want POI delete the namespace of ext tag. Because spread.js can not work normally for some functions when this happed. I hope anybody can do help</p>\n<p>I hope figure out why that is?</p>\n"},{"tags":["java","xml","jackson","xml-deserialization"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1689332172,"post_id":76686975,"comment_id":135201732,"body_markdown":"One way is to give `Customer` a constructor which takes a Base64 string, converts it to XML and parses it. But better to use a custom deserializer, see https://stackoverflow.com/questions/19158345/custom-json-deserialization-with-jackson","body":"One way is to give <code>Customer</code> a constructor which takes a Base64 string, converts it to XML and parses it. But better to use a custom deserializer, see <a href=\"https://stackoverflow.com/questions/19158345/custom-json-deserialization-with-jackson\" title=\"custom json deserialization with jackson\">stackoverflow.com/questions/19158345/&hellip;</a>"},{"owner":{"account_id":28995288,"reputation":1,"user_id":22210101,"display_name":"user22210101"},"score":0,"creation_date":1689367966,"post_id":76686975,"comment_id":135209082,"body_markdown":"hi @tgdavies, thank you for your answer. this is what i did : public class CustomerDeserializer extends JsonDeserializer&lt;Customer&gt; {\n\n\tOverride\n\tpublic Customer deserialize(JsonParser p, DeserializationContext ctxt) throws IOException, JacksonException {\n\t\tString decodedCustomer = new String(Base64.getDecoder().decode(p.getText()));\n\t\t// How to delegate parsing &amp; deserialization to the Super/Default implementation\n\t\treturn null;\n\t}\n\n}.  =&gt;. But How to delegate parsing &amp; deserialization to the Super/Default implementation after i decode the text","body":"hi @tgdavies, thank you for your answer. this is what i did : public class CustomerDeserializer extends JsonDeserializer&lt;Customer&gt; {  \tOverride \tpublic Customer deserialize(JsonParser p, DeserializationContext ctxt) throws IOException, JacksonException { \t\tString decodedCustomer = new String(Base64.getDecoder().decode(p.getText())); \t\t// How to delegate parsing &amp; deserialization to the Super/Default implementation \t\treturn null; \t}  }.  =&gt;. But How to delegate parsing &amp; deserialization to the Super/Default implementation after i decode the text"}],"answers":[{"tags":[],"owner":{"account_id":28850828,"reputation":512,"user_id":22096771,"display_name":"Bademeister"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689422269,"creation_date":1689376153,"answer_id":76691561,"question_id":76686975,"body_markdown":"You use JsonDeserialiser. But you have XML. A custom JsonDeserializer is set on the property with the [@JsonDeserialize][1] annotation. In my opinion there is no [annotation][2] for jackson-dataformat-xml or you cannot set a custom deserialiser with the XmlMapper. But maybe there is a possible.\r\n\r\nHere&#39;s what I would do:\r\n\r\n* Read response with SAXParser\r\n* Decode base64 string in &lt;Customer&gt;.\r\n* Replace &lt;Customer&gt; with decoded XML with SAXParser\r\n\r\n```xml\r\n&lt;WebResponse&gt;\r\n    &lt;RequestId&gt;6541635537&lt;/RequestId&gt;\r\n    &lt;Items&gt;\r\n        &lt;Item&gt;\r\n            &lt;Id&gt;1aSd&lt;/Id&gt;\r\n            &lt;Name&gt;spider&lt;/Name&gt;\r\n        &lt;/Item&gt;\r\n        &lt;Item&gt;\r\n            &lt;Id&gt;2sze&lt;/Id&gt;\r\n            &lt;Name&gt;catman&lt;/Name&gt;\r\n        &lt;/Item&gt;\r\n    &lt;/Items&gt;\r\n    &lt;Customer&gt;\r\n        &lt;Name&gt;Nico&lt;/Name&gt;\r\n        &lt;Accounts&gt;\r\n            &lt;Account&gt;\r\n                &lt;Type&gt;PRO&lt;/Type&gt;\r\n            &lt;/Account&gt;\r\n            &lt;Account&gt;\r\n                &lt;Type&gt;PROMAX&lt;/Type&gt;\r\n            &lt;/Account&gt;\r\n        &lt;/Accounts&gt;\r\n    &lt;/Customer&gt;\r\n&lt;/WebResponse&gt;\r\n```\r\n\r\nYou can then deserialize this XML with Jackson.\r\n\r\n\r\n  [1]: https://www.baeldung.com/jackson-annotations#5-jsondeserialize\r\n  [2]: https://github.com/FasterXML/jackson-dataformat-xml/tree/1320f003e7f7de8f06e77de76345dd8031712b2a/src/main/java/com/fasterxml/jackson/dataformat/xml/annotation","title":"Java Jackson XML base64 encoded tag serializer","body":"<p>You use JsonDeserialiser. But you have XML. A custom JsonDeserializer is set on the property with the <a href=\"https://www.baeldung.com/jackson-annotations#5-jsondeserialize\" rel=\"nofollow noreferrer\">@JsonDeserialize</a> annotation. In my opinion there is no <a href=\"https://github.com/FasterXML/jackson-dataformat-xml/tree/1320f003e7f7de8f06e77de76345dd8031712b2a/src/main/java/com/fasterxml/jackson/dataformat/xml/annotation\" rel=\"nofollow noreferrer\">annotation</a> for jackson-dataformat-xml or you cannot set a custom deserialiser with the XmlMapper. But maybe there is a possible.</p>\n<p>Here's what I would do:</p>\n<ul>\n<li>Read response with SAXParser</li>\n<li>Decode base64 string in .</li>\n<li>Replace  with decoded XML with SAXParser</li>\n</ul>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;WebResponse&gt;\n    &lt;RequestId&gt;6541635537&lt;/RequestId&gt;\n    &lt;Items&gt;\n        &lt;Item&gt;\n            &lt;Id&gt;1aSd&lt;/Id&gt;\n            &lt;Name&gt;spider&lt;/Name&gt;\n        &lt;/Item&gt;\n        &lt;Item&gt;\n            &lt;Id&gt;2sze&lt;/Id&gt;\n            &lt;Name&gt;catman&lt;/Name&gt;\n        &lt;/Item&gt;\n    &lt;/Items&gt;\n    &lt;Customer&gt;\n        &lt;Name&gt;Nico&lt;/Name&gt;\n        &lt;Accounts&gt;\n            &lt;Account&gt;\n                &lt;Type&gt;PRO&lt;/Type&gt;\n            &lt;/Account&gt;\n            &lt;Account&gt;\n                &lt;Type&gt;PROMAX&lt;/Type&gt;\n            &lt;/Account&gt;\n        &lt;/Accounts&gt;\n    &lt;/Customer&gt;\n&lt;/WebResponse&gt;\n</code></pre>\n<p>You can then deserialize this XML with Jackson.</p>\n"}],"owner":{"account_id":28995288,"reputation":1,"user_id":22210101,"display_name":"user22210101"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689422269,"creation_date":1689331744,"question_id":76686975,"body_markdown":"I&#39;am trying to deserialize xml that contains a base64 encoded tag into an object\r\n\r\nThis is an example of the api response data :\r\n\r\n```\r\n&lt;WebResponse&gt;\r\n    &lt;RequestId&gt;6541635537&lt;/RequestId&gt;\r\n    &lt;Items&gt;\r\n        &lt;Item&gt;\r\n            &lt;Id&gt;1aSd&lt;/Id&gt;\r\n            &lt;Name&gt;spider&lt;/Name&gt;\r\n        &lt;/Item&gt;\r\n        &lt;Item&gt;\r\n            &lt;Id&gt;2sze&lt;/Id&gt;\r\n            &lt;Name&gt;catman&lt;/Name&gt;\r\n        &lt;/Item&gt;\r\n    &lt;/Items&gt; &lt;Customer&gt;PEN1c3RvbWVyPg0KIDxOYW1lPk5pY288L05hbWU+DQogPEFjY291bnRzPg0KICA8QWNjb3VudD4NCiAgIDxUeXBlPlBSTzwvVHlwZT4NCiAgPC9BY2NvdW50Pg0KICA8QWNjb3VudD4NCiAgIDxUeXBlPlBST01BWDwvVHlwZT4NCiAgPC9BY2NvdW50Pg0KIDwvQWNjb3VudHM+DQo8L0N1c3RvbWVyPg==&lt;/Customer&gt;\r\n&lt;/WebResponse&gt;\r\n```\r\n\r\nIf you decode the Customer block, you will get :\r\n\r\n\r\n```\r\n&lt;Customer&gt;\r\n &lt;Name&gt;Nico&lt;/Name&gt;\r\n &lt;Accounts&gt;\r\n  &lt;Account&gt;\r\n   &lt;Type&gt;PRO&lt;/Type&gt;\r\n  &lt;/Account&gt;\r\n  &lt;Account&gt;\r\n   &lt;Type&gt;PROMAX&lt;/Type&gt;\r\n  &lt;/Account&gt;\r\n &lt;/Accounts&gt;\r\n&lt;/Customer&gt;\r\n```\r\n\r\n\r\n\r\nWhat i want to do, is to decode the Customer block first before serialization.\r\n\r\nthis is what i have tried to do so fare :\r\n\r\n\r\n```\r\nObjectMapper MAPPER = new XmlMapper().configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\r\nWebResponse result = MAPPER.readerFor(WebResponse.class).readValue(webResponse);\r\n```\r\n\r\nI have got this excepting while giving a try : Exception in thread &quot;main&quot; com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot construct instance of org.Customer (although at least one Creator exists): no String-argument\r\n\r\nAny hints are welcome. This is the classes : [link](https://github.com/atifhub/xmlserializer) =&gt; MainMapper.class has the main method to launch the test.\r\n\r\n\r\nThank you &#128591; ","title":"Java Jackson XML base64 encoded tag serializer","body":"<p>I'am trying to deserialize xml that contains a base64 encoded tag into an object</p>\n<p>This is an example of the api response data :</p>\n<pre><code>&lt;WebResponse&gt;\n    &lt;RequestId&gt;6541635537&lt;/RequestId&gt;\n    &lt;Items&gt;\n        &lt;Item&gt;\n            &lt;Id&gt;1aSd&lt;/Id&gt;\n            &lt;Name&gt;spider&lt;/Name&gt;\n        &lt;/Item&gt;\n        &lt;Item&gt;\n            &lt;Id&gt;2sze&lt;/Id&gt;\n            &lt;Name&gt;catman&lt;/Name&gt;\n        &lt;/Item&gt;\n    &lt;/Items&gt; &lt;Customer&gt;PEN1c3RvbWVyPg0KIDxOYW1lPk5pY288L05hbWU+DQogPEFjY291bnRzPg0KICA8QWNjb3VudD4NCiAgIDxUeXBlPlBSTzwvVHlwZT4NCiAgPC9BY2NvdW50Pg0KICA8QWNjb3VudD4NCiAgIDxUeXBlPlBST01BWDwvVHlwZT4NCiAgPC9BY2NvdW50Pg0KIDwvQWNjb3VudHM+DQo8L0N1c3RvbWVyPg==&lt;/Customer&gt;\n&lt;/WebResponse&gt;\n</code></pre>\n<p>If you decode the Customer block, you will get :</p>\n<pre><code>&lt;Customer&gt;\n &lt;Name&gt;Nico&lt;/Name&gt;\n &lt;Accounts&gt;\n  &lt;Account&gt;\n   &lt;Type&gt;PRO&lt;/Type&gt;\n  &lt;/Account&gt;\n  &lt;Account&gt;\n   &lt;Type&gt;PROMAX&lt;/Type&gt;\n  &lt;/Account&gt;\n &lt;/Accounts&gt;\n&lt;/Customer&gt;\n</code></pre>\n<p>What i want to do, is to decode the Customer block first before serialization.</p>\n<p>this is what i have tried to do so fare :</p>\n<pre><code>ObjectMapper MAPPER = new XmlMapper().configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\nWebResponse result = MAPPER.readerFor(WebResponse.class).readValue(webResponse);\n</code></pre>\n<p>I have got this excepting while giving a try : Exception in thread &quot;main&quot; com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot construct instance of org.Customer (although at least one Creator exists): no String-argument</p>\n<p>Any hints are welcome. This is the classes : <a href=\"https://github.com/atifhub/xmlserializer\" rel=\"nofollow noreferrer\">link</a> =&gt; MainMapper.class has the main method to launch the test.</p>\n<p>Thank you 🙏</p>\n"},{"tags":["java","spring","hibernate","spring-data-jpa","optional-parameters"],"answers":[{"tags":[],"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673641201,"creation_date":1673640829,"answer_id":75114068,"question_id":75113900,"body_markdown":"It is not required to use `Optional` with `List&lt;T&gt;` since Spring Data will return an empty list (zero size) if nothing found.\r\n\r\nHowever, if you return a single object, it is possible that there will be no match and then you will get `null` instead of object. And further you will possibly get `NullPointerException` trying to invoke it&#39;s methods.\r\nIt&#39;s up to you to use `Optional` with single object or don&#39;t. Because there may be situations depending on your business, if for example you&#39;re totally sure that desired object will be found (for example, some constants), then you may not use `Optional`. But in cases when there is any chance that object may be not found, surely use `Optional` and check if your actual object is present.\r\n\r\nThis is the typical approach.","title":"Use of Optional return types for custom Spring Repositories","body":"<p>It is not required to use <code>Optional</code> with <code>List&lt;T&gt;</code> since Spring Data will return an empty list (zero size) if nothing found.</p>\n<p>However, if you return a single object, it is possible that there will be no match and then you will get <code>null</code> instead of object. And further you will possibly get <code>NullPointerException</code> trying to invoke it's methods.\nIt's up to you to use <code>Optional</code> with single object or don't. Because there may be situations depending on your business, if for example you're totally sure that desired object will be found (for example, some constants), then you may not use <code>Optional</code>. But in cases when there is any chance that object may be not found, surely use <code>Optional</code> and check if your actual object is present.</p>\n<p>This is the typical approach.</p>\n"},{"tags":[],"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1673641114,"creation_date":1673641114,"answer_id":75114110,"question_id":75113900,"body_markdown":"`Optional` is a core Java class, so it was not introduced for anything to do with Spring or JPA, but the practical answer to your question is &quot;yes.&quot; Spring/Hibernate/JPA support it for cases like your first example. It not only provides some convenient methods to act based on the presence or absence of a value (such as `orElse()`), but also as a form of contract that clearly indicates the return can be null. Returning `Optinal` makes it clear to callers that it&#39;s possible for the result to be empty/missing/absent - in other words, `null`.\r\n\r\nHaving said that, returning `Optional&lt;List&lt;&gt;&gt;`, as in your Example 2, doesn&#39;t make sense; a query method that returns a collection of objects would return an _empty_ collection, not `null`. So there&#39;s no need to use `Optional` in that case.","title":"Use of Optional return types for custom Spring Repositories","body":"<p><code>Optional</code> is a core Java class, so it was not introduced for anything to do with Spring or JPA, but the practical answer to your question is &quot;yes.&quot; Spring/Hibernate/JPA support it for cases like your first example. It not only provides some convenient methods to act based on the presence or absence of a value (such as <code>orElse()</code>), but also as a form of contract that clearly indicates the return can be null. Returning <code>Optinal</code> makes it clear to callers that it's possible for the result to be empty/missing/absent - in other words, <code>null</code>.</p>\n<p>Having said that, returning <code>Optional&lt;List&lt;&gt;&gt;</code>, as in your Example 2, doesn't make sense; a query method that returns a collection of objects would return an <em>empty</em> collection, not <code>null</code>. So there's no need to use <code>Optional</code> in that case.</p>\n"},{"tags":[],"owner":{"account_id":13365877,"reputation":11,"user_id":9646171,"display_name":"Pritam Nath"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689422051,"creation_date":1689422051,"answer_id":76693619,"question_id":75113900,"body_markdown":"In Spring Data repositories, the relationship between repository methods and `Optional` can vary depending on the specific use case and method signature.\r\n\r\n\r\n\r\n1. `Optional` as a return type:\r\n\r\n   When a repository method is defined to return a single entity or an optional result, you can use the `Optional` type as the return type. This indicates that the method may or may not find a matching entity in the database.\r\n\r\nread this link \r\nhttps://java-speed.blogspot.com/2023/07/the-relationship-between-spring-data.html","title":"Use of Optional return types for custom Spring Repositories","body":"<p>In Spring Data repositories, the relationship between repository methods and <code>Optional</code> can vary depending on the specific use case and method signature.</p>\n<ol>\n<li><p><code>Optional</code> as a return type:</p>\n<p>When a repository method is defined to return a single entity or an optional result, you can use the <code>Optional</code> type as the return type. This indicates that the method may or may not find a matching entity in the database.</p>\n</li>\n</ol>\n<p>read this link\n<a href=\"https://java-speed.blogspot.com/2023/07/the-relationship-between-spring-data.html\" rel=\"nofollow noreferrer\">https://java-speed.blogspot.com/2023/07/the-relationship-between-spring-data.html</a></p>\n"}],"owner":{"account_id":19923752,"reputation":3,"user_id":14598969,"display_name":"Debapratim Shyam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1256,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75114110,"answer_count":3,"score":0,"last_activity_date":1689422051,"creation_date":1673639604,"question_id":75113900,"body_markdown":"I have been writing a custom JPA Query to handle a complicated query that may or may not return a result.\r\n\r\n**Note**: I am using a simple query as an example for this question.\r\n\r\nExample 1:\r\n```\r\n@Query(value = &quot;SELECT TOP(1) e FROM Employee e WHERE e.NAME = :name&quot;, nativeQuery = true)\r\nEmployee getEmployeeByName(@Param(&quot;name&quot;) String employeeName);\r\n```\r\n\r\nExample 2:\r\n```\r\n@Query(value = &quot;SELECT s FROM Student s WHERE s.CLASS = :class&quot;, nativeQuery = true)\r\nList&lt;Student&gt; getStudentsByClass(@Param(&quot;class&quot;) String className);\r\n```\r\n\r\nIn both these examples is it **recommended** to use Optional as a return type (as shown below), since there could be cases where either we don&#39;t get an Employee or Student?\r\n\r\n```\r\n@Query(value = &quot;SELECT TOP(1) e FROM Employee e WHERE e.NAME = :name&quot;, nativeQuery = true)\r\nOptional&lt;Employee&gt; getEmployeeByName(@Param(&quot;name&quot;) String employeeName);\r\n\r\n\r\n@Query(value = &quot;SELECT s FROM Student s WHERE s.CLASS = :class&quot;, nativeQuery = true)\r\nOptional&lt;List&lt;Student&gt;&gt; getStudentsByClass(@Param(&quot;class&quot;) String className);\r\n```\r\n\r\n\r\n\r\nI have tried both the ways but just want to understand if this is one of the original use-case for introducing Optional.","title":"Use of Optional return types for custom Spring Repositories","body":"<p>I have been writing a custom JPA Query to handle a complicated query that may or may not return a result.</p>\n<p><strong>Note</strong>: I am using a simple query as an example for this question.</p>\n<p>Example 1:</p>\n<pre><code>@Query(value = &quot;SELECT TOP(1) e FROM Employee e WHERE e.NAME = :name&quot;, nativeQuery = true)\nEmployee getEmployeeByName(@Param(&quot;name&quot;) String employeeName);\n</code></pre>\n<p>Example 2:</p>\n<pre><code>@Query(value = &quot;SELECT s FROM Student s WHERE s.CLASS = :class&quot;, nativeQuery = true)\nList&lt;Student&gt; getStudentsByClass(@Param(&quot;class&quot;) String className);\n</code></pre>\n<p>In both these examples is it <strong>recommended</strong> to use Optional as a return type (as shown below), since there could be cases where either we don't get an Employee or Student?</p>\n<pre><code>@Query(value = &quot;SELECT TOP(1) e FROM Employee e WHERE e.NAME = :name&quot;, nativeQuery = true)\nOptional&lt;Employee&gt; getEmployeeByName(@Param(&quot;name&quot;) String employeeName);\n\n\n@Query(value = &quot;SELECT s FROM Student s WHERE s.CLASS = :class&quot;, nativeQuery = true)\nOptional&lt;List&lt;Student&gt;&gt; getStudentsByClass(@Param(&quot;class&quot;) String className);\n</code></pre>\n<p>I have tried both the ways but just want to understand if this is one of the original use-case for introducing Optional.</p>\n"},{"tags":["java","windows","maven","vscode-extensions"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1689420743,"post_id":76693231,"comment_id":135212958,"body_markdown":"That behavior is special to Windows, used [JAR] files can not be overwritten and usually also not deleted. That is the way how Windows file-system works. Linux and MacOS works different and allow to delete or overwrite those files, but retain the original file data unless the process that uses them is exited.","body":"That behavior is special to Windows, used [JAR] files can not be overwritten and usually also not deleted. That is the way how Windows file-system works. Linux and MacOS works different and allow to delete or overwrite those files, but retain the original file data unless the process that uses them is exited."}],"owner":{"account_id":2714088,"reputation":47,"user_id":2341827,"display_name":"Damo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689420648,"creation_date":1689415539,"question_id":76693231,"body_markdown":"Until recently I had no issues copying jars to my local repo using `mvn install`.\r\n\r\nNow, when I run mvn install, I get the error: \r\n\r\n&gt; Failed to install artifact\r\n\r\nThis is because the jar file is open with an instance of the JRE running in another instance of VS Code - eg when I try to delete the jar from the local repo, I get the error: \r\n\r\n&gt; The action can&#39;t be completed because the file is open in Java\r\n&gt; Platform SE binary\r\n\r\nIf I close the other instance of VS Code, the JRE running in that instance is closed and I regain access to the file.\r\n\r\nI assume it&#39;s a Java extension running the JRE, but I&#39;m not sure which. It&#39;s hard to pinpoint because disabling one means having to disable the others.\r\n\r\nHas anyone come across this issue?","title":"Cannot install Maven artifact (mvn install) because jar file is open with JRE running in VS Code","body":"<p>Until recently I had no issues copying jars to my local repo using <code>mvn install</code>.</p>\n<p>Now, when I run mvn install, I get the error:</p>\n<blockquote>\n<p>Failed to install artifact</p>\n</blockquote>\n<p>This is because the jar file is open with an instance of the JRE running in another instance of VS Code - eg when I try to delete the jar from the local repo, I get the error:</p>\n<blockquote>\n<p>The action can't be completed because the file is open in Java\nPlatform SE binary</p>\n</blockquote>\n<p>If I close the other instance of VS Code, the JRE running in that instance is closed and I regain access to the file.</p>\n<p>I assume it's a Java extension running the JRE, but I'm not sure which. It's hard to pinpoint because disabling one means having to disable the others.</p>\n<p>Has anyone come across this issue?</p>\n"},{"tags":["java","android","android-studio"],"answers":[{"tags":[],"owner":{"account_id":27097368,"reputation":1,"user_id":20644435,"display_name":"AHDZ"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1678687813,"creation_date":1678687813,"answer_id":75718523,"question_id":75718405,"body_markdown":"Download and install Java version `19.0.2` from [here][1].\r\n\r\nThen go to `Gradle/Wrapper/gradle-wrapper.properties` from your root project and set the `distributionUrl` property to `https\\://services.gradle.org/distributions/gradle-7.5-bin.zip`.\r\n\r\nNext, sync your Gradle project in Android Studio.\r\n\r\n\r\n  [1]: https://www.oracle.com/java/technologies/javase/jdk19-archive-downloads.html","title":"Android Studio :- Your build is currently configured to use Java 19.0.2 and Gradle 7.5","body":"<p>Download and install Java version <code>19.0.2</code> from <a href=\"https://www.oracle.com/java/technologies/javase/jdk19-archive-downloads.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>Then go to <code>Gradle/Wrapper/gradle-wrapper.properties</code> from your root project and set the <code>distributionUrl</code> property to <code>https\\://services.gradle.org/distributions/gradle-7.5-bin.zip</code>.</p>\n<p>Next, sync your Gradle project in Android Studio.</p>\n"},{"tags":[],"owner":{"account_id":1635921,"reputation":473,"user_id":1509419,"accept_rate":57,"display_name":"Mike Dannyboy"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679545833,"creation_date":1679545833,"answer_id":75819275,"question_id":75718405,"body_markdown":"[Apparently Gradle 7.5 doesn&#39;t support Java 19][1]. That fix went into Gradle 7.6.\r\n\r\nSo open `gradle-wrapper.properties` and change the line\r\n\r\n    distributionUrl=https\\://services.gradle.org/distributions/gradle-7.5-bin.zip\r\n\r\nto\r\n\r\n    distributionUrl=https\\://services.gradle.org/distributions/gradle-7.6-bin.zip\r\n\r\nChanging 7.5 to 7.6.\r\n\r\nAndroid studio will download the updated Gradle and then you can resync and shouldn&#39;t have any errors.  Worked for me at least, hope it does for you too.\r\n\r\n  [1]: https://github.com/gradle/gradle/issues/20372","title":"Android Studio :- Your build is currently configured to use Java 19.0.2 and Gradle 7.5","body":"<p><a href=\"https://github.com/gradle/gradle/issues/20372\" rel=\"nofollow noreferrer\">Apparently Gradle 7.5 doesn't support Java 19</a>. That fix went into Gradle 7.6.</p>\n<p>So open <code>gradle-wrapper.properties</code> and change the line</p>\n<pre><code>distributionUrl=https\\://services.gradle.org/distributions/gradle-7.5-bin.zip\n</code></pre>\n<p>to</p>\n<pre><code>distributionUrl=https\\://services.gradle.org/distributions/gradle-7.6-bin.zip\n</code></pre>\n<p>Changing 7.5 to 7.6.</p>\n<p>Android studio will download the updated Gradle and then you can resync and shouldn't have any errors.  Worked for me at least, hope it does for you too.</p>\n"},{"tags":[],"owner":{"account_id":23587547,"reputation":21,"user_id":17625794,"display_name":"Siriana"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689420271,"creation_date":1689420271,"answer_id":76693503,"question_id":75718405,"body_markdown":"This is how I finally did it in Android Studio Flamingo with Java Version 8 Update 371 that was released in April 2023:\r\n\r\nIn gradle-wrapper.properties change the distribution URL to\r\n\r\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-7.5-bin.zip\r\n\r\nYou might get an error with 3 possible fixes suggested. Just click on the link &#39;update wrapper and reimport project&#39;\r\n\r\nHope it helps!","title":"Android Studio :- Your build is currently configured to use Java 19.0.2 and Gradle 7.5","body":"<p>This is how I finally did it in Android Studio Flamingo with Java Version 8 Update 371 that was released in April 2023:</p>\n<p>In gradle-wrapper.properties change the distribution URL to</p>\n<p>distributionUrl=https://services.gradle.org/distributions/gradle-7.5-bin.zip</p>\n<p>You might get an error with 3 possible fixes suggested. Just click on the link 'update wrapper and reimport project'</p>\n<p>Hope it helps!</p>\n"}],"owner":{"account_id":24558392,"reputation":11,"user_id":18466570,"display_name":"Mobile World"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1592,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1689420271,"creation_date":1678686498,"question_id":75718405,"body_markdown":"[Unsupported Java. \r\nYour build is currently configured to use Java 19.0.2 and Gradle 7.5.\r\n\r\nPossible solution:\r\n - Open Gradle wrapper settings, change `distributionUrl` property to use compatible Gradle version and reload the project\r\n\r\n](https://i.stack.imgur.com/TXiFY.png)","title":"Android Studio :- Your build is currently configured to use Java 19.0.2 and Gradle 7.5","body":"<p>[Unsupported Java.\nYour build is currently configured to use Java 19.0.2 and Gradle 7.5.</p>\n<p>Possible solution:</p>\n<ul>\n<li>Open Gradle wrapper settings, change <code>distributionUrl</code> property to use compatible Gradle version and reload the project</li>\n</ul>\n<p>](<a href=\"https://i.stack.imgur.com/TXiFY.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/TXiFY.png</a>)</p>\n"},{"tags":["java","language-agnostic","jvm"],"comments":[{"owner":{"account_id":289134,"reputation":372228,"user_id":589924,"accept_rate":100,"display_name":"ikegami"},"score":0,"creation_date":1385871827,"post_id":20307768,"comment_id":30304542,"body_markdown":"What function would this OS provide?","body":"What function would this OS provide?"},{"owner":{"account_id":1337436,"reputation":14559,"user_id":1279820,"accept_rate":59,"display_name":"Celeritas"},"score":0,"creation_date":1385887599,"post_id":20307768,"comment_id":30307330,"body_markdown":"@ikegami scheduling for which thread gets time in CPU, memory management, basically anything a normal OS would do. I don&#39;t get your point?","body":"@ikegami scheduling for which thread gets time in CPU, memory management, basically anything a normal OS would do. I don&#39;t get your point?"},{"owner":{"account_id":289134,"reputation":372228,"user_id":589924,"accept_rate":100,"display_name":"ikegami"},"score":0,"creation_date":1385910644,"post_id":20307768,"comment_id":30312838,"body_markdown":"But it&#39;s doing all that already without the OS. So again, what function would this OS provide?","body":"But it&#39;s doing all that already without the OS. So again, what function would this OS provide?"},{"owner":{"account_id":1337436,"reputation":14559,"user_id":1279820,"accept_rate":59,"display_name":"Celeritas"},"score":0,"creation_date":1385947806,"post_id":20307768,"comment_id":30323428,"body_markdown":"@ikegami I see what you&#39;re saying. doesn&#39;t that mean that JVM IS an operating system since you just said &quot;it&#39;s doing all that&quot;","body":"@ikegami I see what you&#39;re saying. doesn&#39;t that mean that JVM IS an operating system since you just said &quot;it&#39;s doing all that&quot;"},{"owner":{"account_id":289134,"reputation":372228,"user_id":589924,"accept_rate":100,"display_name":"ikegami"},"score":0,"creation_date":1385953689,"post_id":20307768,"comment_id":30324557,"body_markdown":"Nope, the JVM doesn&#39;t know anything about any of those. &quot;It&quot;, in this case, is the Java libraries.","body":"Nope, the JVM doesn&#39;t know anything about any of those. &quot;It&quot;, in this case, is the Java libraries."},{"owner":{"account_id":110843,"reputation":9645,"user_id":293147,"display_name":"SK-logic"},"score":0,"creation_date":1386000600,"post_id":20307768,"comment_id":30346373,"body_markdown":"Something like Tomcat running on top of JVM can be called an operating system.","body":"Something like Tomcat running on top of JVM can be called an operating system."},{"owner":{"account_id":1337436,"reputation":14559,"user_id":1279820,"accept_rate":59,"display_name":"Celeritas"},"score":0,"creation_date":1404847373,"post_id":20307768,"comment_id":38191330,"body_markdown":"I seriously think this question should have gotten better explained answers.","body":"I seriously think this question should have gotten better explained answers."}],"answers":[{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1385873147,"post_id":20307888,"comment_id":30304757,"body_markdown":"A rather myopic eye!  There are some critical things that an OS does / needs to do that are not provided by a JVM; e.g. see Thorbjorn&#39;s answer.","body":"A rather myopic eye!  There are some critical things that an OS does / needs to do that are not provided by a JVM; e.g. see Thorbjorn&#39;s answer."}],"tags":[],"owner":{"account_id":2988754,"reputation":5716,"user_id":2536842,"accept_rate":64,"display_name":"Dylan Meeus"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1385863038,"creation_date":1385863038,"answer_id":20307888,"question_id":20307768,"body_markdown":"As far as the &quot;eye&quot; can tell, the virtual machine is its own operating system. It just has no physical hardware to account for. \r\n\r\nThe (physical/real) CPU executes the JVM - this is platform dependant, the JVM then executes the Java code - this is platform independant.\r\n\r\nSo the JVM does actually need an operating system. There is a different between being independant of an OS and not needed one. Independant in this case means that to Java, it doesn&#39;t matter on which OS you run it. As long as the JVM is present, it will work fine. The JVM has to make sure that your Java code gets executed correctly by the underlying Operating System.","title":"Why don&#39;t virtual machines have operating systems?","body":"<p>As far as the \"eye\" can tell, the virtual machine is its own operating system. It just has no physical hardware to account for. </p>\n\n<p>The (physical/real) CPU executes the JVM - this is platform dependant, the JVM then executes the Java code - this is platform independant.</p>\n\n<p>So the JVM does actually need an operating system. There is a different between being independant of an OS and not needed one. Independant in this case means that to Java, it doesn't matter on which OS you run it. As long as the JVM is present, it will work fine. The JVM has to make sure that your Java code gets executed correctly by the underlying Operating System.</p>\n"},{"tags":[],"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1385863127,"creation_date":1385863127,"answer_id":20307895,"question_id":20307768,"body_markdown":"The JVM known to most Java programmers - the Oracle JVM - expects to run under an existing operating system (Linux, Windows, Solaris etc), but JVM&#39;s exist that expects to run on the bare metal.  See http://jnode.org for such a JVM.\r\n\r\nUnfortunately the Oracle JVM lacks some necessary facilities to be able to build the facilites provided by the operating system into the JVM itself.  For instance you cannot limit the amount of memory or cpu used by a single thread, and you cannot forcibly kill a thread.\r\n\r\n","title":"Why don&#39;t virtual machines have operating systems?","body":"<p>The JVM known to most Java programmers - the Oracle JVM - expects to run under an existing operating system (Linux, Windows, Solaris etc), but JVM's exist that expects to run on the bare metal.  See <a href=\"http://jnode.org\" rel=\"nofollow\">http://jnode.org</a> for such a JVM.</p>\n\n<p>Unfortunately the Oracle JVM lacks some necessary facilities to be able to build the facilites provided by the operating system into the JVM itself.  For instance you cannot limit the amount of memory or cpu used by a single thread, and you cannot forcibly kill a thread.</p>\n"},{"tags":[],"owner":{"account_id":997513,"reputation":12945,"user_id":3893496,"accept_rate":54,"display_name":"arcy"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1385864032,"creation_date":1385864032,"answer_id":20307993,"question_id":20307768,"body_markdown":"The short answer is that the JVM does not need an operating system.\r\n\r\nThe JVM is specified on its own, separate from a specific operating system.  It is useful without having to specify an operating system, and, as pointed out elsewhere, there is such a thing as a JVM without what we usually think of as an operating system.  \r\n\r\nJava was originally developed, in fact, for use in things like kitchen appliances -- no file system, no mouse or keyboard, maybe a keypad and some 7-digit display, that&#39;s it.  \r\n\r\nSo when a Java program needs to run on a machine that IS complex enough to need an operating system, then Java interacts with whatever operating system is there -- Windows, Mac OS, Unix, etc. -- and parts of its core classes abstract many of the normal operating system operations to the extent that a single Java program can run on any of these without changes.  Certainly there are difficulties with this -- it is a difficult thing to do -- but Java does this more broadly and better than anything else I&#39;m aware of.","title":"Why don&#39;t virtual machines have operating systems?","body":"<p>The short answer is that the JVM does not need an operating system.</p>\n\n<p>The JVM is specified on its own, separate from a specific operating system.  It is useful without having to specify an operating system, and, as pointed out elsewhere, there is such a thing as a JVM without what we usually think of as an operating system.  </p>\n\n<p>Java was originally developed, in fact, for use in things like kitchen appliances -- no file system, no mouse or keyboard, maybe a keypad and some 7-digit display, that's it.  </p>\n\n<p>So when a Java program needs to run on a machine that IS complex enough to need an operating system, then Java interacts with whatever operating system is there -- Windows, Mac OS, Unix, etc. -- and parts of its core classes abstract many of the normal operating system operations to the extent that a single Java program can run on any of these without changes.  Certainly there are difficulties with this -- it is a difficult thing to do -- but Java does this more broadly and better than anything else I'm aware of.</p>\n"},{"tags":[],"owner":{"account_id":87093,"reputation":9555,"user_id":241753,"accept_rate":100,"display_name":"Ross Patterson"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1385921155,"creation_date":1385921155,"answer_id":20315422,"question_id":20307768,"body_markdown":"Real virtual machines need operating systems.  But Java&#39;s so-called virtual machine is not a virtual machine.  It implements an idealized instruction set within the context of an operating system, usually within a user-mode process.  Before Java mis-used that term, we used to call these things pseudo-code interpreters, and some very powerful systems were built with them.","title":"Why don&#39;t virtual machines have operating systems?","body":"<p>Real virtual machines need operating systems.  But Java's so-called virtual machine is not a virtual machine.  It implements an idealized instruction set within the context of an operating system, usually within a user-mode process.  Before Java mis-used that term, we used to call these things pseudo-code interpreters, and some very powerful systems were built with them.</p>\n"},{"tags":[],"owner":{"account_id":29022374,"reputation":1,"user_id":22231422,"display_name":"slyguy"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1689416720,"creation_date":1689416720,"answer_id":76693310,"question_id":20307768,"body_markdown":"Java is just an interpreter of its own code. Not a VM in a full sence","title":"Why don&#39;t virtual machines have operating systems?","body":"<p>Java is just an interpreter of its own code. Not a VM in a full sence</p>\n"}],"owner":{"account_id":1337436,"reputation":14559,"user_id":1279820,"accept_rate":59,"display_name":"Celeritas"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":240,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":5,"score":0,"last_activity_date":1689416720,"creation_date":1385861767,"question_id":20307768,"body_markdown":"In the context of programing languages, if compiled code runs on some sort of virtual machine why does the virtual machine not need an operating system? For example with Java, a program written in Java runs in the JVM but (as far as I&#39;m aware) the JVM does not have an OS. I know operating systems are necessary because they manage resources (e.g.which process gets a turn with the CPU) so how can the JVM not need one? My understanding of a virtual machine is that it is its own processor with it&#39;s own architecture and instructions, but can the term &quot;virtual machine&quot; be though of as coming with its own operating system?","title":"Why don&#39;t virtual machines have operating systems?","body":"<p>In the context of programing languages, if compiled code runs on some sort of virtual machine why does the virtual machine not need an operating system? For example with Java, a program written in Java runs in the JVM but (as far as I'm aware) the JVM does not have an OS. I know operating systems are necessary because they manage resources (e.g.which process gets a turn with the CPU) so how can the JVM not need one? My understanding of a virtual machine is that it is its own processor with it's own architecture and instructions, but can the term \"virtual machine\" be though of as coming with its own operating system?</p>\n"},{"tags":["java","android","sql-server","jdbc"],"comments":[{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":2,"creation_date":1688919292,"post_id":76648366,"comment_id":135135993,"body_markdown":"I’m voting to close this question because you failed to include any code, failed to include the exception, failed to specify the exact version numbers, failed to clarify what you mean by a direct jdbc driver, and you already have some version of all the above that works (but you didn&#39;t include that either).","body":"I’m voting to close this question because you failed to include any code, failed to include the exception, failed to specify the exact version numbers, failed to clarify what you mean by a direct jdbc driver, and you already have some version of all the above that works (but you didn&#39;t include that either)."},{"owner":{"account_id":2667845,"reputation":10491,"user_id":2305826,"accept_rate":89,"display_name":"MarsAtomic"},"score":1,"creation_date":1688919833,"post_id":76648366,"comment_id":135136054,"body_markdown":"Please read up on [how to ask](https://stackoverflow.com/help/how-to-ask) good questions which will receive good answers.","body":"Please read up on <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask</a> good questions which will receive good answers."},{"owner":{"account_id":5448686,"reputation":6798,"user_id":4573839,"accept_rate":89,"display_name":"yu yang Jian"},"score":1,"creation_date":1689412080,"post_id":76648366,"comment_id":135212133,"body_markdown":"please include error log message","body":"please include error log message"},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1689589254,"post_id":76648366,"comment_id":135229803,"body_markdown":"Voting to close (even after it was reopened) because you have still not included any details of the exception, or any of the other details requested in the above messages. We can&#39;t answer this question without more information. A stack trace would be useful too.","body":"Voting to close (even after it was reopened) because you have still not included any details of the exception, or any of the other details requested in the above messages. We can&#39;t answer this question without more information. A stack trace would be useful too."}],"owner":{"account_id":28981719,"reputation":11,"user_id":22199454,"display_name":"Raj .."},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1689416560,"creation_date":1688918909,"question_id":76648366,"body_markdown":"\r\n    private Connection connection;\r\n    private Statement statement;\r\n\r\n    public void connect() {\r\n        try {\r\n            String url = &quot;jdbc:sqlserver://YOUR_SERVER:YOUR_PORT;databaseName=YOUR_DATABASE;user=YOUR_USERNAME;password=YOUR_PASSWORD;&quot;;\r\n            Class.forName(&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;);\r\n            connection = DriverManager.getConnection(url);\r\n            statement = connection.createStatement();\r\n        } catch (ClassNotFoundException e) {\r\n            e.printStackTrace();\r\n        } \r\n\r\n    \r\nNot able to connect ms sql server using latest JDBC driver in Android studio \r\n\r\nI try to connect with jtds driver it get connected but i want to connect with latest JDBC driver and Jtds have old version of JDBC i tried with  latest JDBC but it Won&#39;t get connected it throws exception ","title":"Can we connect ms sql server using direct jdbc driver without jtds driver in Android studio","body":"<pre><code>private Connection connection;\nprivate Statement statement;\n\npublic void connect() {\n    try {\n        String url = &quot;jdbc:sqlserver://YOUR_SERVER:YOUR_PORT;databaseName=YOUR_DATABASE;user=YOUR_USERNAME;password=YOUR_PASSWORD;&quot;;\n        Class.forName(&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;);\n        connection = DriverManager.getConnection(url);\n        statement = connection.createStatement();\n    } catch (ClassNotFoundException e) {\n        e.printStackTrace();\n    } \n</code></pre>\n<p>Not able to connect ms sql server using latest JDBC driver in Android studio</p>\n<p>I try to connect with jtds driver it get connected but i want to connect with latest JDBC driver and Jtds have old version of JDBC i tried with  latest JDBC but it Won't get connected it throws exception</p>\n"},{"tags":["java","noclassdeffounderror"],"comments":[{"owner":{"account_id":56124,"reputation":7256,"user_id":2506382,"accept_rate":67,"display_name":"dcsohl"},"score":0,"creation_date":1480350716,"post_id":40849100,"comment_id":68914708,"body_markdown":"Have you tried (a) shutting down JBoss, (b) rebuilding the whole jar, (c) dropping that into JBoss, and finally (d) starting JBoss again?","body":"Have you tried (a) shutting down JBoss, (b) rebuilding the whole jar, (c) dropping that into JBoss, and finally (d) starting JBoss again?"},{"owner":{"account_id":7567,"reputation":10188,"user_id":13189,"accept_rate":75,"display_name":"eckes"},"score":0,"creation_date":1480366025,"post_id":40849100,"comment_id":68923078,"body_markdown":"Look out for earlier excetions. Most likely your static initializer failed. For example that you get an Exception in `Class.forName`","body":"Look out for earlier excetions. Most likely your static initializer failed. For example that you get an Exception in <code>Class.forName</code>"}],"answers":[{"tags":[],"owner":{"account_id":9451892,"reputation":13,"user_id":7028423,"display_name":"Vasu G"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631729350,"creation_date":1480365867,"answer_id":40853135,"question_id":40849100,"body_markdown":"`NoClassDefFoundError` typically means the JVM has located the class (as opposed to `ClassNotFoundException`), but unable to load it because of not having some dependent classes.\r\n\r\nNot sure if you tried rebuilding the entire jar (with all 3 classes) and use the new jar in JBoss?","title":"java.lang.NoClassDefFoundError: Could not initialize class | static block","body":"<p><code>NoClassDefFoundError</code> typically means the JVM has located the class (as opposed to <code>ClassNotFoundException</code>), but unable to load it because of not having some dependent classes.</p>\n<p>Not sure if you tried rebuilding the entire jar (with all 3 classes) and use the new jar in JBoss?</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634477301,"creation_date":1634476755,"answer_id":69604717,"question_id":40849100,"body_markdown":"This is an old question, but I think it deserves a better answer.\r\n\r\nThere are actually two things going on here.\r\n\r\n1.  Some time before the exception that the Question is talking about, the JVM has attempted to execute the static initialization for the `AccessorFactory` class.  That has thrown an unchecked exception, causing initialization to fail.  As a result of that, the `AccessorFactory` class has been marked as failed.  It is effectively dead.  The JVM will never retry the initialization.\r\n\r\n2.  The exception you are seeing is an `NoClassDefFoundError`.  This has occurred because&lt;sup&gt;1&lt;/sup&gt; the JVM has tried to load or initialize another class that depends on `AccessorFactory`.  The JVM has noted that `AccessorFactory` has been marked as failed, and thrown this exception.\r\n\r\nSo what caused the original problem?\r\n\r\nUnfortunately, we can&#39;t say.  There is insufficient information&lt;sup&gt;2&lt;/sup&gt;.  The code in the static initializer is:\r\n\r\n        classMap = new HashMap(100);\r\n        classMap.put(&quot;bills&quot;, Class.forName(&quot;com.example.BillAccessor&quot;));\r\n\r\nIt is highly unlikely that the first statement failed, but the second one is attempting to load a class.  That could fail for a number of reasons, including the following.\r\n\r\n   - It could fail to find the class at all.  That would result in a `ClassNotFoundException`.\r\n\r\n   - It could detect a fault in a `.class` file being loaded, that would result in an `Error` of some kind.\r\n\r\n   - It could detect a binary version incompatibility between a `.class` file being loaded and some other class that has already been loaded.  This are a range of things that could cause this, but they will also result in an `Error` of some kind.\r\n\r\n-----------------\r\n\r\n&lt;sup&gt;1 - The exception can happen for other reasons too, but in this case the exception&#39;s message tells us it is an earlier class initialization failure.&lt;br&gt;\r\n2 - The real reason was most likely reported in an earlier stacktrace which could be earlier in the OP&#39;s log file.&lt;/sup&gt;\r\n\r\n-----------------\r\n\r\nHaving said that, I don&#39;t think that the code in the question is &quot;real&quot;.  Specifically, the `static` as shown *should not compile*.  The `ClassNotFoundException` thrown by `forName` is a *checked* exception and it *must* be caught.  The JLS does not allow checked exceptions to propagate from a `static` block.","title":"java.lang.NoClassDefFoundError: Could not initialize class | static block","body":"<p>This is an old question, but I think it deserves a better answer.</p>\n<p>There are actually two things going on here.</p>\n<ol>\n<li><p>Some time before the exception that the Question is talking about, the JVM has attempted to execute the static initialization for the <code>AccessorFactory</code> class.  That has thrown an unchecked exception, causing initialization to fail.  As a result of that, the <code>AccessorFactory</code> class has been marked as failed.  It is effectively dead.  The JVM will never retry the initialization.</p>\n</li>\n<li><p>The exception you are seeing is an <code>NoClassDefFoundError</code>.  This has occurred because<sup>1</sup> the JVM has tried to load or initialize another class that depends on <code>AccessorFactory</code>.  The JVM has noted that <code>AccessorFactory</code> has been marked as failed, and thrown this exception.</p>\n</li>\n</ol>\n<p>So what caused the original problem?</p>\n<p>Unfortunately, we can't say.  There is insufficient information<sup>2</sup>.  The code in the static initializer is:</p>\n<pre><code>    classMap = new HashMap(100);\n    classMap.put(&quot;bills&quot;, Class.forName(&quot;com.example.BillAccessor&quot;));\n</code></pre>\n<p>It is highly unlikely that the first statement failed, but the second one is attempting to load a class.  That could fail for a number of reasons, including the following.</p>\n<ul>\n<li><p>It could fail to find the class at all.  That would result in a <code>ClassNotFoundException</code>.</p>\n</li>\n<li><p>It could detect a fault in a <code>.class</code> file being loaded, that would result in an <code>Error</code> of some kind.</p>\n</li>\n<li><p>It could detect a binary version incompatibility between a <code>.class</code> file being loaded and some other class that has already been loaded.  This are a range of things that could cause this, but they will also result in an <code>Error</code> of some kind.</p>\n</li>\n</ul>\n<hr />\n<p><sup>1 - The exception can happen for other reasons too, but in this case the exception's message tells us it is an earlier class initialization failure.<br>\n2 - The real reason was most likely reported in an earlier stacktrace which could be earlier in the OP's log file.</sup></p>\n<hr />\n<p>Having said that, I don't think that the code in the question is &quot;real&quot;.  Specifically, the <code>static</code> as shown <em>should not compile</em>.  The <code>ClassNotFoundException</code> thrown by <code>forName</code> is a <em>checked</em> exception and it <em>must</em> be caught.  The JLS does not allow checked exceptions to propagate from a <code>static</code> block.</p>\n"}],"owner":{"account_id":4933185,"reputation":87,"user_id":3972247,"accept_rate":75,"display_name":"hnadiger"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12278,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1689415335,"creation_date":1480350481,"question_id":40849100,"body_markdown":"I&#39;m stuck with a strange issue where my JVM is throwing java.lang.NoClassDefFoundError. Any help in identifying the problem is greatly appreciated.\r\n\r\n    public class AccessorFactory\r\n    {\r\n    private static Map classMap = null;\r\n        static\r\n        {\r\n            classMap = new HashMap(100);\r\n            classMap.put(&quot;bills&quot;, Class.forName(&quot;com.example.BillAccessor&quot;));\r\n        }\r\n    }\r\n    \r\n    public class BillAccessor\r\n    {\r\n        class BillInnerClass\r\n        {\r\n            //some code\r\n        }\r\n    }\r\n\r\nI have 3 classes AccessorFactory.class, BillAccessor.class and BillAccessor$BillInnerClass.class. All 3 are in same jar file and all are present in the classpath.\r\n\r\nI&#39;ve recently changed something in BillAccessor$BillInnerClass class and replaced this file in the jar file and restarted application instance in server (jboss). \r\n\r\nPost restart I&#39;m getting\r\n\r\n    java.lang.NoClassDefFoundError: Could not initialize class AccessorFactory\r\n\r\nAccessorFactory class present in the jar file and in the class path. Nothing else is changed except that I&#39;ve replaced BillAccessor$BillInnerClass.\r\n\r\n\r\n","title":"java.lang.NoClassDefFoundError: Could not initialize class | static block","body":"<p>I'm stuck with a strange issue where my JVM is throwing java.lang.NoClassDefFoundError. Any help in identifying the problem is greatly appreciated.</p>\n\n<pre><code>public class AccessorFactory\n{\nprivate static Map classMap = null;\n    static\n    {\n        classMap = new HashMap(100);\n        classMap.put(\"bills\", Class.forName(\"com.example.BillAccessor\"));\n    }\n}\n\npublic class BillAccessor\n{\n    class BillInnerClass\n    {\n        //some code\n    }\n}\n</code></pre>\n\n<p>I have 3 classes AccessorFactory.class, BillAccessor.class and BillAccessor$BillInnerClass.class. All 3 are in same jar file and all are present in the classpath.</p>\n\n<p>I've recently changed something in BillAccessor$BillInnerClass class and replaced this file in the jar file and restarted application instance in server (jboss). </p>\n\n<p>Post restart I'm getting</p>\n\n<pre><code>java.lang.NoClassDefFoundError: Could not initialize class AccessorFactory\n</code></pre>\n\n<p>AccessorFactory class present in the jar file and in the class path. Nothing else is changed except that I've replaced BillAccessor$BillInnerClass.</p>\n"},{"tags":["java","android","printing","maui","point-of-sale"],"comments":[{"owner":{"account_id":1008,"reputation":87078,"user_id":1338,"accept_rate":74,"display_name":"Jason"},"score":0,"creation_date":1689360241,"post_id":76690153,"comment_id":135207845,"body_markdown":"please do NOT post code or errors as images.  This is a basic rule of the site.","body":"please do NOT post code or errors as images.  This is a basic rule of the site."},{"owner":{"account_id":25114602,"reputation":21,"user_id":18963799,"display_name":"rosner altamira"},"score":0,"creation_date":1689369464,"post_id":76690153,"comment_id":135209287,"body_markdown":"Sorry for the mistake, it is my first time.","body":"Sorry for the mistake, it is my first time."},{"owner":{"account_id":1008,"reputation":87078,"user_id":1338,"accept_rate":74,"display_name":"Jason"},"score":1,"creation_date":1689371772,"post_id":76690153,"comment_id":135209552,"body_markdown":"you need to [edit] your question to fix the problem if you expect anyone to help you","body":"you need to <a href=\"https://stackoverflow.com/posts/76690153/edit\">edit</a> your question to fix the problem if you expect anyone to help you"},{"owner":{"account_id":68306,"reputation":19143,"user_id":199364,"accept_rate":83,"display_name":"ToolmakerSteve"},"score":0,"creation_date":1689378191,"post_id":76690153,"comment_id":135210108,"body_markdown":"Are you asking how to communicate between two apps, or how to fix a bug when adding a java library to Maui? These are not the same topic, yet you mention both. Please correct title and question contents to talk about only ONE of those possibilities. This will make the discussion clearer.","body":"Are you asking how to communicate between two apps, or how to fix a bug when adding a java library to Maui? These are not the same topic, yet you mention both. Please correct title and question contents to talk about only ONE of those possibilities. This will make the discussion clearer."},{"owner":{"account_id":25114602,"reputation":21,"user_id":18963799,"display_name":"rosner altamira"},"score":0,"creation_date":1689415462,"post_id":76690153,"comment_id":135212469,"body_markdown":"I edited the post to only deal with communication within java app and .net maui app.","body":"I edited the post to only deal with communication within java app and .net maui app."}],"owner":{"account_id":25114602,"reputation":21,"user_id":18963799,"display_name":"rosner altamira"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689415068,"creation_date":1689357606,"question_id":76690153,"body_markdown":"I am developing a .net maui application for bill payment and receipt generation. the target platform is a payment terminal that runs on Android 8.1. according to the documentation it is possible to print via a Java application. I did the test by coding a java application and it works fine. However I don&#39;t know how to integrate this functionality of the payment terminal to the .net maui application. what I&#39;m looking for now is a way to enable communication between the .net maui app and the java app, so the java app will run as a service and the .net maui app can call a function from the app Java by giving it the informations to launch the printing of a receipt.","title":"How to enable communication within a .net maui app and java app that will run in background as service","body":"<p>I am developing a .net maui application for bill payment and receipt generation. the target platform is a payment terminal that runs on Android 8.1. according to the documentation it is possible to print via a Java application. I did the test by coding a java application and it works fine. However I don't know how to integrate this functionality of the payment terminal to the .net maui application. what I'm looking for now is a way to enable communication between the .net maui app and the java app, so the java app will run as a service and the .net maui app can call a function from the app Java by giving it the informations to launch the printing of a receipt.</p>\n"},{"tags":["java","bluez","bluecove","jsr82"],"comments":[{"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"score":0,"creation_date":1689414485,"post_id":76693134,"comment_id":135212382,"body_markdown":"You may try downgrading your BlueZ version to a version that BlueCove can work with, BlueCove is kinda ancient, so compatibility issues are expected","body":"You may try downgrading your BlueZ version to a version that BlueCove can work with, BlueCove is kinda ancient, so compatibility issues are expected"}],"owner":{"account_id":29022096,"reputation":1,"user_id":22231216,"display_name":"Rushil Shrivastava"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689413938,"creation_date":1689413938,"question_id":76693134,"body_markdown":"I am trying to connect Bluetooth in Java using Bluecove, below is the code I am trying to run. It keeps giving me the error \r\n`Exception in thread &quot;main&quot; javax.bluetooth.BluetoothStateException: BlueCove com.intel.bluetooth.BluetoothStackBlueZ not available`\r\n```\r\npackage blue.first;\r\n\r\nimport javax.bluetooth.*;\r\nimport java.util.*;\r\nimport java.io.*;\r\n\r\npublic class Pair_Device {\r\n    public static void main(String[] args) throws Exception {\r\n        System.setProperty(&quot;bluecove.stack&quot;, &quot;bluez&quot;);\r\n\r\n        LocalDevice device = LocalDevice.getLocalDevice();\r\n\r\n        RemoteDevice[] remoteDevice = device.getDiscoveryAgent().retrieveDevices(DiscoveryAgent.PREKNOWN);\r\n        for(RemoteDevice d: remoteDevice) {\r\n            System.out.println(&quot;Device Name : &quot;+d.getFriendlyName(false));\r\n            System.out.println(&quot;Bluetooth Address : &quot;+d.getBluetoothAddress() + &quot;\\n&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\nI have installed BlueZ version 5.64-0ubuntu1, I also installed the bluecove-2.1.0.jar file and added it to the build path. I Checked the requirements of bluecove to function in it&#39;s documentation and also made changes accordingly, which included making a symbolic link of libbluetooth.so and installing libbluetooth-dev. I also tried reading a [similar article](https://stackoverflow.com/questions/50704036/javax-bluetooth-bluetoothstateexception-bluecove-com-intel-bluetooth-bluetooths) on this and had no success.\r\n\r\nCan someone explain me what I am doing wrong here? I use Ubuntu 22.04 and Java version &#39;18.0.2-ea&#39; and Idea IntelliJ. Java version is SE. \r\n\r\n","title":"BlueCove com.intel.bluetooth.BluetoothStackBlueZ not available","body":"<p>I am trying to connect Bluetooth in Java using Bluecove, below is the code I am trying to run. It keeps giving me the error\n<code>Exception in thread &quot;main&quot; javax.bluetooth.BluetoothStateException: BlueCove com.intel.bluetooth.BluetoothStackBlueZ not available</code></p>\n<pre><code>package blue.first;\n\nimport javax.bluetooth.*;\nimport java.util.*;\nimport java.io.*;\n\npublic class Pair_Device {\n    public static void main(String[] args) throws Exception {\n        System.setProperty(&quot;bluecove.stack&quot;, &quot;bluez&quot;);\n\n        LocalDevice device = LocalDevice.getLocalDevice();\n\n        RemoteDevice[] remoteDevice = device.getDiscoveryAgent().retrieveDevices(DiscoveryAgent.PREKNOWN);\n        for(RemoteDevice d: remoteDevice) {\n            System.out.println(&quot;Device Name : &quot;+d.getFriendlyName(false));\n            System.out.println(&quot;Bluetooth Address : &quot;+d.getBluetoothAddress() + &quot;\\n&quot;);\n        }\n    }\n}\n</code></pre>\n<p>I have installed BlueZ version 5.64-0ubuntu1, I also installed the bluecove-2.1.0.jar file and added it to the build path. I Checked the requirements of bluecove to function in it's documentation and also made changes accordingly, which included making a symbolic link of libbluetooth.so and installing libbluetooth-dev. I also tried reading a <a href=\"https://stackoverflow.com/questions/50704036/javax-bluetooth-bluetoothstateexception-bluecove-com-intel-bluetooth-bluetooths\">similar article</a> on this and had no success.</p>\n<p>Can someone explain me what I am doing wrong here? I use Ubuntu 22.04 and Java version '18.0.2-ea' and Idea IntelliJ. Java version is SE.</p>\n"},{"tags":["java","spring","spring-boot","spring-data"],"comments":[{"owner":{"account_id":25926563,"reputation":119,"user_id":19648355,"display_name":"Irremediable"},"score":0,"creation_date":1689364701,"post_id":76690600,"comment_id":135208550,"body_markdown":"You should provide to Spring Context your own DataSource bean.","body":"You should provide to Spring Context your own DataSource bean."}],"answers":[{"tags":[],"owner":{"account_id":27097454,"reputation":797,"user_id":20644506,"display_name":"Peng"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689412771,"creation_date":1689412771,"answer_id":76693065,"question_id":76690600,"body_markdown":"It may be potential solution for your reference , you can make use of spring ```@Configuration``` and  ```@AutoConfigureBefore```\r\nthe code snippet like following \r\n\r\n```\r\n@AutoConfiguration(before = { DataSourceAutoConfiguration.class, SqlInitializationAutoConfiguration.class }) \r\n// above is AutoConfiguration is dataSource Autowired , such as mysql oracle ,and some else\r\npublic class CustomDataSourceAutoConfiguration {\r\n\r\n    @Bean\r\n     public CustomCredentials customCredentials(){\r\n         // get your external source credentials\r\n     }\r\n\r\n}\r\n\r\n\r\n```\r\n\r\nfor more annotation, you can read the spring source code , tht package path is ```org.springframework.boot.autoconfigure.condition```","title":"Make Spring Data automatic DataSource dependent on Bean","body":"<p>It may be potential solution for your reference , you can make use of spring <code>@Configuration</code> and  <code>@AutoConfigureBefore</code>\nthe code snippet like following</p>\n<pre><code>@AutoConfiguration(before = { DataSourceAutoConfiguration.class, SqlInitializationAutoConfiguration.class }) \n// above is AutoConfiguration is dataSource Autowired , such as mysql oracle ,and some else\npublic class CustomDataSourceAutoConfiguration {\n\n    @Bean\n     public CustomCredentials customCredentials(){\n         // get your external source credentials\n     }\n\n}\n\n\n</code></pre>\n<p>for more annotation, you can read the spring source code , tht package path is <code>org.springframework.boot.autoconfigure.condition</code></p>\n"}],"owner":{"account_id":3946188,"reputation":2133,"user_id":3258708,"accept_rate":88,"display_name":"Matt"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":76693065,"answer_count":1,"score":-2,"last_activity_date":1689412771,"creation_date":1689362300,"question_id":76690600,"body_markdown":"I have a Bean that fetches database credentials from an external source, and sets them as system properties. I want to ensure the DataSource automatically configured by Spring Data depends on my Bean, so I can ensure that the credentials have been fetched and set before the DataSource Bean is created.\r\n\r\nIs there a way to do this without implementing a DataSource bean myself with the `DependsOn` annotation?","title":"Make Spring Data automatic DataSource dependent on Bean","body":"<p>I have a Bean that fetches database credentials from an external source, and sets them as system properties. I want to ensure the DataSource automatically configured by Spring Data depends on my Bean, so I can ensure that the credentials have been fetched and set before the DataSource Bean is created.</p>\n<p>Is there a way to do this without implementing a DataSource bean myself with the <code>DependsOn</code> annotation?</p>\n"},{"tags":["java","spring","spring-boot","spring-security","cors"],"answers":[{"tags":[],"owner":{"account_id":24923710,"reputation":64,"user_id":18791740,"display_name":"Taylan Rojen Doger"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1689412227,"creation_date":1689409219,"answer_id":76692863,"question_id":76692822,"body_markdown":"I got the solution. It is kinda silly but can help the people who encounter the same problem:\r\n\r\nI was importing **UrlBasedCorsConfigurationSource** from:\r\n\r\n  `import org.springframework.web.cors.reactive.UrlBasedCorsConfigurationSource;`\r\n\r\n\r\nInstead of\r\n\r\n`import org.springframework.web.cors.UrlBasedCorsConfigurationSource;`\r\n\r\nSo, you shouldn&#39;t import it from reactive package.\r\n","title":"CorsConfigurationSource required type error","body":"<p>I got the solution. It is kinda silly but can help the people who encounter the same problem:</p>\n<p>I was importing <strong>UrlBasedCorsConfigurationSource</strong> from:</p>\n<p><code>import org.springframework.web.cors.reactive.UrlBasedCorsConfigurationSource;</code></p>\n<p>Instead of</p>\n<p><code>import org.springframework.web.cors.UrlBasedCorsConfigurationSource;</code></p>\n<p>So, you shouldn't import it from reactive package.</p>\n"}],"owner":{"account_id":24923710,"reputation":64,"user_id":18791740,"display_name":"Taylan Rojen Doger"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76692863,"answer_count":1,"score":0,"last_activity_date":1689412227,"creation_date":1689408432,"question_id":76692822,"body_markdown":"I was trying to set CORS configs to my Spring Boot application globally in order not to use @CrossOrigin annotation in each controller or endpoint. As far as I checked  [Spring docs][1] and stackoverflow, the way setting custom CORS configs is like:\r\n\r\n\r\n```\r\n  @Bean\r\n    public CorsConfigurationSource corsConfigurationSource() {\r\n        CorsConfiguration configuration = new CorsConfiguration();\r\n        configuration.addAllowedOrigin(&quot;http://localhost:3000&quot;);\r\n        configuration.addAllowedMethod(&quot;*&quot;);\r\n        configuration.addAllowedHeader(&quot;*&quot;);\r\n        configuration.setAllowCredentials(true);\r\n        UrlBasedCorsConfigurationSource source = new\r\n                UrlBasedCorsConfigurationSource();\r\n        source.registerCorsConfiguration(&quot;/**&quot;, configuration);\r\n        return source;\r\n    }\r\n```\r\n\r\nand finally using it in SecurityFilterChain like:\r\n\r\n\r\n```\r\n @Bean\r\n    protected SecurityFilterChain securityFilterChain(final HttpSecurity http) throws Exception {\r\n        http.cors(cors -&gt; cors.configurationSource(corsConfigurationSource()))\r\n                //.cors(Customizer.withDefaults())\r\n                .csrf(\r\n                        AbstractHttpConfigurer::disable \r\n                )\r\n    //Some more configurations...\r\n        return http.build();\r\n    }\r\n```\r\n\r\n\r\n\r\nThis code block should be fine according to other usages but it gives me:\r\n\r\n**Required type: CorsConfigurationSource\r\nProvided: UrlBasedCorsConfigurationSource**\r\n\r\nerror due to return type of CorsConfigurationSource bean. Casting does not work either.\r\n\r\nI am using Spring Boot 3.1.0.\r\n\r\nAny suggestions?\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-security/reference/servlet/integrations/cors.html#page-title","title":"CorsConfigurationSource required type error","body":"<p>I was trying to set CORS configs to my Spring Boot application globally in order not to use @CrossOrigin annotation in each controller or endpoint. As far as I checked  <a href=\"https://docs.spring.io/spring-security/reference/servlet/integrations/cors.html#page-title\" rel=\"nofollow noreferrer\">Spring docs</a> and stackoverflow, the way setting custom CORS configs is like:</p>\n<pre><code>  @Bean\n    public CorsConfigurationSource corsConfigurationSource() {\n        CorsConfiguration configuration = new CorsConfiguration();\n        configuration.addAllowedOrigin(&quot;http://localhost:3000&quot;);\n        configuration.addAllowedMethod(&quot;*&quot;);\n        configuration.addAllowedHeader(&quot;*&quot;);\n        configuration.setAllowCredentials(true);\n        UrlBasedCorsConfigurationSource source = new\n                UrlBasedCorsConfigurationSource();\n        source.registerCorsConfiguration(&quot;/**&quot;, configuration);\n        return source;\n    }\n</code></pre>\n<p>and finally using it in SecurityFilterChain like:</p>\n<pre><code> @Bean\n    protected SecurityFilterChain securityFilterChain(final HttpSecurity http) throws Exception {\n        http.cors(cors -&gt; cors.configurationSource(corsConfigurationSource()))\n                //.cors(Customizer.withDefaults())\n                .csrf(\n                        AbstractHttpConfigurer::disable \n                )\n    //Some more configurations...\n        return http.build();\n    }\n</code></pre>\n<p>This code block should be fine according to other usages but it gives me:</p>\n<p><strong>Required type: CorsConfigurationSource\nProvided: UrlBasedCorsConfigurationSource</strong></p>\n<p>error due to return type of CorsConfigurationSource bean. Casting does not work either.</p>\n<p>I am using Spring Boot 3.1.0.</p>\n<p>Any suggestions?</p>\n"},{"tags":["java","mongodb","spring-boot"],"comments":[{"owner":{"account_id":24911703,"reputation":71,"user_id":18781174,"display_name":"loredon"},"score":0,"creation_date":1687168728,"post_id":76488279,"comment_id":134894347,"body_markdown":"I&#39;m also having this issue and i observed that it triggered once i updated form spring boot 3.0 to spring boot .31","body":"I&#39;m also having this issue and i observed that it triggered once i updated form spring boot 3.0 to spring boot .31"}],"answers":[{"tags":[],"owner":{"account_id":23453222,"reputation":81,"user_id":17509104,"display_name":"Michał Łukasik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689411668,"creation_date":1687365301,"answer_id":76525439,"question_id":76488279,"body_markdown":"Firstly, if u are trying to connect to remote server, check if server ip is added to [configuration][1]\r\n```bash\r\nsudo vim /etc/mongod.conf\r\n```\r\n```\r\n# network interfaces\r\nnet:\r\n  port: 27017\r\n  bindIp: 127.0.0.1,mongodb_server_ip\r\n```\r\n\r\nNext, you can check if a user exists by following these [steps][2]:\r\n\r\nOpen up the mongo shell and type:\r\n```monogdb\r\nuse admin\r\ndb.system.users.find()\r\n```\r\n\r\nIf you really want to use &quot;root&quot;/&quot;admin&quot; user, make sure to specify the authSource in the URI by adding uri [like this][3] to your application&#39;s configuration file:\r\nspring.data.mongodb.uri=mongodb://\\&lt;username&gt;:\\&lt;password&gt;@&lt;host&gt;:&lt;port&gt;/\\&lt;db-name&gt;?authSource=admin\r\n\r\nHowever, I highly recommend creating a new user dedicated to your database. To create such a user, simply follow these steps in the mongosh:\r\n1. Switch to the desired database using the command: use \\&lt;database-name&gt;\r\n2. Create a new user by running the command:\r\n```monogdb\r\ndb.createUser({ \r\n\tuser: &quot;&lt;username&gt;&quot;,\r\n\tpwd: &quot;&lt;password&gt;&quot;,\r\n\troles: [\r\n\t\t{ role: &quot;userAdmin&quot;, db: &quot;&lt;database-name&gt;&quot; },\r\n\t\t{ role: &quot;dbAdmin&quot;, db: &quot;&lt;database-name&gt;&quot; },\r\n\t\t{ role: &quot;readWrite&quot;, db: &quot;&lt;database-name&gt;&quot; }\r\n\t]\r\n  }\r\n);\r\n```\r\nPlease note that the roles &quot;dbAdmin&quot; and &quot;userAdmin&quot; might not be necessary for your specific use case. If you&#39;re interested in learning more about MongoDB roles, you can find additional information [here][4].\r\n\r\nOnce you&#39;ve created a user with the desired roles, you can easily add it into your application.yml file like this:\r\n```yml\r\nspring:\r\n  data:\r\n    mongodb:\r\n      host: &lt;host&gt;\r\n      port: &lt;port&gt;\r\n      username: &lt;username&gt;\r\n      password: &lt;password&gt;\r\n      database: &lt;database-name&gt;\r\n```\r\n\r\n\r\n  [1]: https://www.digitalocean.com/community/tutorials/how-to-configure-remote-access-for-mongodb-on-ubuntu-20-04\r\n  [2]: https://www.mongodb.com/docs/manual/tutorial/list-users/\r\n  [3]: https://stackoverflow.com/questions/54011332/authenticationfailed-to-mongodb-with-spring-boot\r\n  [4]: https://www.mongodb.com/docs/manual/reference/built-in-roles/","title":"springboot mongodb connection failure exception","body":"<p>Firstly, if u are trying to connect to remote server, check if server ip is added to <a href=\"https://www.digitalocean.com/community/tutorials/how-to-configure-remote-access-for-mongodb-on-ubuntu-20-04\" rel=\"nofollow noreferrer\">configuration</a></p>\n<pre class=\"lang-bash prettyprint-override\"><code>sudo vim /etc/mongod.conf\n</code></pre>\n<pre><code># network interfaces\nnet:\n  port: 27017\n  bindIp: 127.0.0.1,mongodb_server_ip\n</code></pre>\n<p>Next, you can check if a user exists by following these <a href=\"https://www.mongodb.com/docs/manual/tutorial/list-users/\" rel=\"nofollow noreferrer\">steps</a>:</p>\n<p>Open up the mongo shell and type:</p>\n<pre><code>use admin\ndb.system.users.find()\n</code></pre>\n<p>If you really want to use &quot;root&quot;/&quot;admin&quot; user, make sure to specify the authSource in the URI by adding uri <a href=\"https://stackoverflow.com/questions/54011332/authenticationfailed-to-mongodb-with-spring-boot\">like this</a> to your application's configuration file:\nspring.data.mongodb.uri=mongodb://&lt;username&gt;:&lt;password&gt;@:/&lt;db-name&gt;?authSource=admin</p>\n<p>However, I highly recommend creating a new user dedicated to your database. To create such a user, simply follow these steps in the mongosh:</p>\n<ol>\n<li>Switch to the desired database using the command: use &lt;database-name&gt;</li>\n<li>Create a new user by running the command:</li>\n</ol>\n<pre><code>db.createUser({ \n    user: &quot;&lt;username&gt;&quot;,\n    pwd: &quot;&lt;password&gt;&quot;,\n    roles: [\n        { role: &quot;userAdmin&quot;, db: &quot;&lt;database-name&gt;&quot; },\n        { role: &quot;dbAdmin&quot;, db: &quot;&lt;database-name&gt;&quot; },\n        { role: &quot;readWrite&quot;, db: &quot;&lt;database-name&gt;&quot; }\n    ]\n  }\n);\n</code></pre>\n<p>Please note that the roles &quot;dbAdmin&quot; and &quot;userAdmin&quot; might not be necessary for your specific use case. If you're interested in learning more about MongoDB roles, you can find additional information <a href=\"https://www.mongodb.com/docs/manual/reference/built-in-roles/\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>Once you've created a user with the desired roles, you can easily add it into your application.yml file like this:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  data:\n    mongodb:\n      host: &lt;host&gt;\n      port: &lt;port&gt;\n      username: &lt;username&gt;\n      password: &lt;password&gt;\n      database: &lt;database-name&gt;\n</code></pre>\n"}],"owner":{"account_id":28832582,"reputation":11,"user_id":22082658,"display_name":"ROSHEN JAYAKODY"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":395,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1689411668,"creation_date":1686903638,"question_id":76488279,"body_markdown":"I&#39;m getting an exception on authenticating Mongo Credentials. \r\n\r\nI&#39;m trying to build a REST API using spring boot with using Mongo db. I&#39;m receiving this exception while creating a collection on my custom created database named &quot;abc&quot;.\r\n\r\nIt states that &quot;Failed to execute CommandLineRunner&quot; and it caused by \r\n\r\n```\r\n&quot;Exception authenticating MongoCredential{mechanism=SCRAM-SHA-1, userName=&#39;rootuser&#39;, source=&#39;abc&#39;, password=&lt;hidden&gt;, mechanismProperties=&lt;hidden&gt;}&quot;\r\n```\r\n\r\nThis is the entire stacktrace:\r\n\r\n```\r\nError starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled.\r\n2023-06-16T13:42:45.889+05:30 ERROR 12852 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n\r\njava.lang.IllegalStateException: Failed to execute CommandLineRunner\r\n\tat org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:773) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\tat org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:754) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1305) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1294) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\tat com.example.abc.AbcApplication.main(AbcApplication.java:15) ~[classes/:na]\r\nCaused by: org.springframework.data.mongodb.UncategorizedMongoDbException: Exception authenticating MongoCredential{mechanism=SCRAM-SHA-1, userName=&#39;rootuser&#39;, source=&#39;abc&#39;, password=&lt;hidden&gt;, mechanismProperties=&lt;hidden&gt;}\r\n\tat org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:140) ~[spring-data-mongodb-4.1.0.jar:4.1.0]\r\n\tat org.springframework.data.mongodb.core.MongoTemplate.potentiallyConvertRuntimeException(MongoTemplate.java:2932) ~[spring-data-mongodb-4.1.0.jar:4.1.0]\r\n\tat org.springframework.data.mongodb.core.MongoTemplate.execute(MongoTemplate.java:602) ~[spring-data-mongodb-4.1.0.jar:4.1.0]\r\n\tat org.springframework.data.mongodb.core.MongoTemplate.insertDocument(MongoTemplate.java:1538) ~[spring-data-mongodb-4.1.0.jar:4.1.0]\r\n\tat org.springframework.data.mongodb.core.MongoTemplate.doInsert(MongoTemplate.java:1334) ~[spring-data-mongodb-4.1.0.jar:4.1.0]\r\n\tat org.springframework.data.mongodb.core.MongoTemplate.insert(MongoTemplate.java:1260) ~[spring-data-mongodb-4.1.0.jar:4.1.0]\r\n\tat org.springframework.data.mongodb.repository.support.SimpleMongoRepository.insert(SimpleMongoRepository.java:228) ~[spring-data-mongodb-4.1.0.jar:4.1.0]\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:288) ~[spring-data-commons-3.1.0.jar:3.1.0]\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136) ~[spring-data-commons-3.1.0.jar:3.1.0]\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120) ~[spring-data-commons-3.1.0.jar:3.1.0]\r\n\tat org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:516) ~[spring-data-commons-3.1.0.jar:3.1.0]\r\n\tat org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285) ~[spring-data-commons-3.1.0.jar:3.1.0]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:628) ~[spring-data-commons-3.1.0.jar:3.1.0]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.9.jar:6.0.9]\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:168) ~[spring-data-commons-3.1.0.jar:3.1.0]\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143) ~[spring-data-commons-3.1.0.jar:3.1.0]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.9.jar:6.0.9]\r\n\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:77) ~[spring-data-commons-3.1.0.jar:3.1.0]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.9.jar:6.0.9]\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.0.9.jar:6.0.9]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.9.jar:6.0.9]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.0.9.jar:6.0.9]\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy83.insert(Unknown Source) ~[na:na]\r\n\tat com.example.abc.AbcApplication.lambda$runner$0(AbcApplication.java:30) ~[classes/:na]\r\n\tat org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:770) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\t... 5 common frames omitted\r\nCaused by: com.mongodb.MongoSecurityException: Exception authenticating MongoCredential{mechanism=SCRAM-SHA-1, userName=&#39;rootuser&#39;, source=&#39;abc&#39;, password=&lt;hidden&gt;, mechanismProperties=&lt;hidden&gt;}\r\n\tat com.mongodb.internal.connection.SaslAuthenticator.wrapException(SaslAuthenticator.java:270) ~[mongodb-driver-core-4.9.1.jar:na]\r\n\tat com.mongodb.internal.connection.SaslAuthenticator.getNextSaslResponse(SaslAuthenticator.java:133) ~[mongodb-driver-core-4.9.1.jar:na]\r\n\tat com.mongodb.internal.connection.SaslAuthenticator.lambda$authenticate$0(SaslAuthenticator.java:63) ~[mongodb-driver-core-4.9.1.jar:na]\r\n\tat com.mongodb.internal.connection.SaslAuthenticator.doAsSubject(SaslAuthenticator.java:277) ~[mongodb-driver-core-4.9.1.jar:na]\r\n\tat com.mongodb.internal.connection.SaslAuthenticator.authenticate(SaslAuthenticator.java:59) ~[mongodb-driver-core-4.9.1.jar:na]\r\n\tat com.mongodb.internal.connection.DefaultAuthenticator.authenticate(DefaultAuthenticator.java:57) ~[mongodb-driver-core-4.9.1.jar:na]\r\n\tat com.mongodb.internal.connection.InternalStreamConnectionInitializer.authenticate(InternalStreamConnectionInitializer.java:205) ~[mongodb-driver-core-4.9.1.jar:na]\r\n\tat com.mongodb.internal.connection.InternalStreamConnectionInitializer.finishHandshake(InternalStreamConnectionInitializer.java:85) ~[mongodb-driver-core-4.9.1.jar:na]\r\n\tat com.mongodb.internal.connection.InternalStreamConnection.open(InternalStreamConnection.java:209) ~[mongodb-driver-core-4.9.1.jar:na]\r\n\tat com.mongodb.internal.connection.UsageTrackingInternalConnection.open(UsageTrackingInternalConnection.java:55) ~[mongodb-driver-core-4.9.1.jar:na]\r\n\tat com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.open(DefaultConnectionPool.java:534) ~[mongodb-driver-core-4.9.1.jar:na]\r\n\tat com.mongodb.internal.connection.DefaultConnectionPool$OpenConcurrencyLimiter.openWithConcurrencyLimit(DefaultConnectionPool.java:895) ~[mongodb-driver-core-4.9.1.jar:na]\r\n\tat com.mongodb.internal.connection.DefaultConnectionPool$OpenConcurrencyLimiter.openOrGetAvailable(DefaultConnectionPool.java:836) ~[mongodb-driver-core-4.9.1.jar:na]\r\n\tat com.mongodb.internal.connection.DefaultConnectionPool.get(DefaultConnectionPool.java:177) ~[mongodb-driver-core-4.9.1.jar:na]\r\n\tat com.mongodb.internal.connection.DefaultConnectionPool.get(DefaultConnectionPool.java:166) ~[mongodb-driver-core-4.9.1.jar:na]\r\n\tat com.mongodb.internal.connection.DefaultServer.getConnection(DefaultServer.java:97) ~[mongodb-driver-core-4.9.1.jar:na]\r\n\tat com.mongodb.internal.binding.ClusterBinding$ClusterBindingConnectionSource.getConnection(ClusterBinding.java:173) ~[mongodb-driver-core-4.9.1.jar:na]\r\n\tat com.mongodb.client.internal.ClientSessionBinding$SessionBindingConnectionSource.getConnection(ClientSessionBinding.java:193) ~[mongodb-driver-sync-4.9.1.jar:na]\r\n\tat com.mongodb.internal.operation.OperationHelper.withSuppliedResource(OperationHelper.java:375) ~[mongodb-driver-core-4.9.1.jar:na]\r\n\tat com.mongodb.internal.operation.OperationHelper.lambda$withSourceAndConnection$1(OperationHelper.java:357) ~[mongodb-driver-core-4.9.1.jar:na]\r\n\tat com.mongodb.internal.operation.OperationHelper.withSuppliedResource(OperationHelper.java:383) ~[mongodb-driver-core-4.9.1.jar:na]\r\n\tat com.mongodb.internal.operation.OperationHelper.withSourceAndConnection(OperationHelper.java:356) ~[mongodb-driver-core-4.9.1.jar:na]\r\n\tat com.mongodb.internal.operation.MixedBulkWriteOperation.lambda$execute$1(MixedBulkWriteOperation.java:181) ~[mongodb-driver-core-4.9.1.jar:na]\r\n\tat com.mongodb.internal.async.function.RetryingSyncSupplier.get(RetryingSyncSupplier.java:67) ~[mongodb-driver-core-4.9.1.jar:na]\r\n\tat com.mongodb.internal.operation.MixedBulkWriteOperation.execute(MixedBulkWriteOperation.java:202) ~[mongodb-driver-core-4.9.1.jar:na]\r\n\tat com.mongodb.internal.operation.MixedBulkWriteOperation.execute(MixedBulkWriteOperation.java:76) ~[mongodb-driver-core-4.9.1.jar:na]\r\n\tat com.mongodb.client.internal.MongoClientDelegate$DelegateOperationExecutor.execute(MongoClientDelegate.java:206) ~[mongodb-driver-sync-4.9.1.jar:na]\r\n\tat com.mongodb.client.internal.MongoCollectionImpl.executeSingleWriteRequest(MongoCollectionImpl.java:1024) ~[mongodb-driver-sync-4.9.1.jar:na]\r\n\tat com.mongodb.client.internal.MongoCollectionImpl.executeInsertOne(MongoCollectionImpl.java:475) ~[mongodb-driver-sync-4.9.1.jar:na]\r\n\tat com.mongodb.client.internal.MongoCollectionImpl.insertOne(MongoCollectionImpl.java:458) ~[mongodb-driver-sync-4.9.1.jar:na]\r\n\tat com.mongodb.client.internal.MongoCollectionImpl.insertOne(MongoCollectionImpl.java:452) ~[mongodb-driver-sync-4.9.1.jar:na]\r\n\tat org.springframework.data.mongodb.core.MongoTemplate.lambda$insertDocument$16(MongoTemplate.java:1544) ~[spring-data-mongodb-4.1.0.jar:4.1.0]\r\n\tat org.springframework.data.mongodb.core.MongoTemplate.execute(MongoTemplate.java:600) ~[spring-data-mongodb-4.1.0.jar:4.1.0]\r\n\t... 29 common frames omitted\r\nCaused by: com.mongodb.MongoCommandException: Command failed with error 18 (AuthenticationFailed): &#39;Authentication failed.&#39; on server localhost:27017. The full response is {&quot;ok&quot;: 0.0, &quot;errmsg&quot;: &quot;Authentication failed.&quot;, &quot;code&quot;: 18, &quot;codeName&quot;: &quot;AuthenticationFailed&quot;}\r\n\tat com.mongodb.internal.connection.ProtocolHelper.getCommandFailureException(ProtocolHelper.java:205) ~[mongodb-driver-core-4.9.1.jar:na]\r\n\tat com.mongodb.internal.connection.InternalStreamConnection.receiveCommandMessageResponse(InternalStreamConnection.java:443) ~[mongodb-driver-core-4.9.1.jar:na]\r\n\tat com.mongodb.internal.connection.InternalStreamConnection.sendAndReceive(InternalStreamConnection.java:365) ~[mongodb-driver-core-4.9.1.jar:na]\r\n\tat com.mongodb.internal.connection.CommandHelper.sendAndReceive(CommandHelper.java:102) ~[mongodb-driver-core-4.9.1.jar:na]\r\n\tat com.mongodb.internal.connection.CommandHelper.executeCommand(CommandHelper.java:49) ~[mongodb-driver-core-4.9.1.jar:na]\r\n\tat com.mongodb.internal.connection.SaslAuthenticator.sendSaslStart(SaslAuthenticator.java:224) ~[mongodb-driver-core-4.9.1.jar:na]\r\n\tat com.mongodb.internal.connection.SaslAuthenticator.getNextSaslResponse(SaslAuthenticator.java:131) ~[mongodb-driver-core-4.9.1.jar:na]\r\n\t... 60 common frames omitted\r\n\r\n\r\nProcess finished with exit code 1\r\n\r\n```\r\n","title":"springboot mongodb connection failure exception","body":"<p>I'm getting an exception on authenticating Mongo Credentials.</p>\n<p>I'm trying to build a REST API using spring boot with using Mongo db. I'm receiving this exception while creating a collection on my custom created database named &quot;abc&quot;.</p>\n<p>It states that &quot;Failed to execute CommandLineRunner&quot; and it caused by</p>\n<pre><code>&quot;Exception authenticating MongoCredential{mechanism=SCRAM-SHA-1, userName='rootuser', source='abc', password=&lt;hidden&gt;, mechanismProperties=&lt;hidden&gt;}&quot;\n</code></pre>\n<p>This is the entire stacktrace:</p>\n<pre><code>Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.\n2023-06-16T13:42:45.889+05:30 ERROR 12852 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\njava.lang.IllegalStateException: Failed to execute CommandLineRunner\n    at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:773) ~[spring-boot-3.1.0.jar:3.1.0]\n    at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:754) ~[spring-boot-3.1.0.jar:3.1.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.1.0.jar:3.1.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1305) ~[spring-boot-3.1.0.jar:3.1.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1294) ~[spring-boot-3.1.0.jar:3.1.0]\n    at com.example.abc.AbcApplication.main(AbcApplication.java:15) ~[classes/:na]\nCaused by: org.springframework.data.mongodb.UncategorizedMongoDbException: Exception authenticating MongoCredential{mechanism=SCRAM-SHA-1, userName='rootuser', source='abc', password=&lt;hidden&gt;, mechanismProperties=&lt;hidden&gt;}\n    at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:140) ~[spring-data-mongodb-4.1.0.jar:4.1.0]\n    at org.springframework.data.mongodb.core.MongoTemplate.potentiallyConvertRuntimeException(MongoTemplate.java:2932) ~[spring-data-mongodb-4.1.0.jar:4.1.0]\n    at org.springframework.data.mongodb.core.MongoTemplate.execute(MongoTemplate.java:602) ~[spring-data-mongodb-4.1.0.jar:4.1.0]\n    at org.springframework.data.mongodb.core.MongoTemplate.insertDocument(MongoTemplate.java:1538) ~[spring-data-mongodb-4.1.0.jar:4.1.0]\n    at org.springframework.data.mongodb.core.MongoTemplate.doInsert(MongoTemplate.java:1334) ~[spring-data-mongodb-4.1.0.jar:4.1.0]\n    at org.springframework.data.mongodb.core.MongoTemplate.insert(MongoTemplate.java:1260) ~[spring-data-mongodb-4.1.0.jar:4.1.0]\n    at org.springframework.data.mongodb.repository.support.SimpleMongoRepository.insert(SimpleMongoRepository.java:228) ~[spring-data-mongodb-4.1.0.jar:4.1.0]\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:288) ~[spring-data-commons-3.1.0.jar:3.1.0]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136) ~[spring-data-commons-3.1.0.jar:3.1.0]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120) ~[spring-data-commons-3.1.0.jar:3.1.0]\n    at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:516) ~[spring-data-commons-3.1.0.jar:3.1.0]\n    at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285) ~[spring-data-commons-3.1.0.jar:3.1.0]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:628) ~[spring-data-commons-3.1.0.jar:3.1.0]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.9.jar:6.0.9]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:168) ~[spring-data-commons-3.1.0.jar:3.1.0]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143) ~[spring-data-commons-3.1.0.jar:3.1.0]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.9.jar:6.0.9]\n    at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:77) ~[spring-data-commons-3.1.0.jar:3.1.0]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.9.jar:6.0.9]\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.0.9.jar:6.0.9]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.9.jar:6.0.9]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.0.9.jar:6.0.9]\n    at jdk.proxy2/jdk.proxy2.$Proxy83.insert(Unknown Source) ~[na:na]\n    at com.example.abc.AbcApplication.lambda$runner$0(AbcApplication.java:30) ~[classes/:na]\n    at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:770) ~[spring-boot-3.1.0.jar:3.1.0]\n    ... 5 common frames omitted\nCaused by: com.mongodb.MongoSecurityException: Exception authenticating MongoCredential{mechanism=SCRAM-SHA-1, userName='rootuser', source='abc', password=&lt;hidden&gt;, mechanismProperties=&lt;hidden&gt;}\n    at com.mongodb.internal.connection.SaslAuthenticator.wrapException(SaslAuthenticator.java:270) ~[mongodb-driver-core-4.9.1.jar:na]\n    at com.mongodb.internal.connection.SaslAuthenticator.getNextSaslResponse(SaslAuthenticator.java:133) ~[mongodb-driver-core-4.9.1.jar:na]\n    at com.mongodb.internal.connection.SaslAuthenticator.lambda$authenticate$0(SaslAuthenticator.java:63) ~[mongodb-driver-core-4.9.1.jar:na]\n    at com.mongodb.internal.connection.SaslAuthenticator.doAsSubject(SaslAuthenticator.java:277) ~[mongodb-driver-core-4.9.1.jar:na]\n    at com.mongodb.internal.connection.SaslAuthenticator.authenticate(SaslAuthenticator.java:59) ~[mongodb-driver-core-4.9.1.jar:na]\n    at com.mongodb.internal.connection.DefaultAuthenticator.authenticate(DefaultAuthenticator.java:57) ~[mongodb-driver-core-4.9.1.jar:na]\n    at com.mongodb.internal.connection.InternalStreamConnectionInitializer.authenticate(InternalStreamConnectionInitializer.java:205) ~[mongodb-driver-core-4.9.1.jar:na]\n    at com.mongodb.internal.connection.InternalStreamConnectionInitializer.finishHandshake(InternalStreamConnectionInitializer.java:85) ~[mongodb-driver-core-4.9.1.jar:na]\n    at com.mongodb.internal.connection.InternalStreamConnection.open(InternalStreamConnection.java:209) ~[mongodb-driver-core-4.9.1.jar:na]\n    at com.mongodb.internal.connection.UsageTrackingInternalConnection.open(UsageTrackingInternalConnection.java:55) ~[mongodb-driver-core-4.9.1.jar:na]\n    at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.open(DefaultConnectionPool.java:534) ~[mongodb-driver-core-4.9.1.jar:na]\n    at com.mongodb.internal.connection.DefaultConnectionPool$OpenConcurrencyLimiter.openWithConcurrencyLimit(DefaultConnectionPool.java:895) ~[mongodb-driver-core-4.9.1.jar:na]\n    at com.mongodb.internal.connection.DefaultConnectionPool$OpenConcurrencyLimiter.openOrGetAvailable(DefaultConnectionPool.java:836) ~[mongodb-driver-core-4.9.1.jar:na]\n    at com.mongodb.internal.connection.DefaultConnectionPool.get(DefaultConnectionPool.java:177) ~[mongodb-driver-core-4.9.1.jar:na]\n    at com.mongodb.internal.connection.DefaultConnectionPool.get(DefaultConnectionPool.java:166) ~[mongodb-driver-core-4.9.1.jar:na]\n    at com.mongodb.internal.connection.DefaultServer.getConnection(DefaultServer.java:97) ~[mongodb-driver-core-4.9.1.jar:na]\n    at com.mongodb.internal.binding.ClusterBinding$ClusterBindingConnectionSource.getConnection(ClusterBinding.java:173) ~[mongodb-driver-core-4.9.1.jar:na]\n    at com.mongodb.client.internal.ClientSessionBinding$SessionBindingConnectionSource.getConnection(ClientSessionBinding.java:193) ~[mongodb-driver-sync-4.9.1.jar:na]\n    at com.mongodb.internal.operation.OperationHelper.withSuppliedResource(OperationHelper.java:375) ~[mongodb-driver-core-4.9.1.jar:na]\n    at com.mongodb.internal.operation.OperationHelper.lambda$withSourceAndConnection$1(OperationHelper.java:357) ~[mongodb-driver-core-4.9.1.jar:na]\n    at com.mongodb.internal.operation.OperationHelper.withSuppliedResource(OperationHelper.java:383) ~[mongodb-driver-core-4.9.1.jar:na]\n    at com.mongodb.internal.operation.OperationHelper.withSourceAndConnection(OperationHelper.java:356) ~[mongodb-driver-core-4.9.1.jar:na]\n    at com.mongodb.internal.operation.MixedBulkWriteOperation.lambda$execute$1(MixedBulkWriteOperation.java:181) ~[mongodb-driver-core-4.9.1.jar:na]\n    at com.mongodb.internal.async.function.RetryingSyncSupplier.get(RetryingSyncSupplier.java:67) ~[mongodb-driver-core-4.9.1.jar:na]\n    at com.mongodb.internal.operation.MixedBulkWriteOperation.execute(MixedBulkWriteOperation.java:202) ~[mongodb-driver-core-4.9.1.jar:na]\n    at com.mongodb.internal.operation.MixedBulkWriteOperation.execute(MixedBulkWriteOperation.java:76) ~[mongodb-driver-core-4.9.1.jar:na]\n    at com.mongodb.client.internal.MongoClientDelegate$DelegateOperationExecutor.execute(MongoClientDelegate.java:206) ~[mongodb-driver-sync-4.9.1.jar:na]\n    at com.mongodb.client.internal.MongoCollectionImpl.executeSingleWriteRequest(MongoCollectionImpl.java:1024) ~[mongodb-driver-sync-4.9.1.jar:na]\n    at com.mongodb.client.internal.MongoCollectionImpl.executeInsertOne(MongoCollectionImpl.java:475) ~[mongodb-driver-sync-4.9.1.jar:na]\n    at com.mongodb.client.internal.MongoCollectionImpl.insertOne(MongoCollectionImpl.java:458) ~[mongodb-driver-sync-4.9.1.jar:na]\n    at com.mongodb.client.internal.MongoCollectionImpl.insertOne(MongoCollectionImpl.java:452) ~[mongodb-driver-sync-4.9.1.jar:na]\n    at org.springframework.data.mongodb.core.MongoTemplate.lambda$insertDocument$16(MongoTemplate.java:1544) ~[spring-data-mongodb-4.1.0.jar:4.1.0]\n    at org.springframework.data.mongodb.core.MongoTemplate.execute(MongoTemplate.java:600) ~[spring-data-mongodb-4.1.0.jar:4.1.0]\n    ... 29 common frames omitted\nCaused by: com.mongodb.MongoCommandException: Command failed with error 18 (AuthenticationFailed): 'Authentication failed.' on server localhost:27017. The full response is {&quot;ok&quot;: 0.0, &quot;errmsg&quot;: &quot;Authentication failed.&quot;, &quot;code&quot;: 18, &quot;codeName&quot;: &quot;AuthenticationFailed&quot;}\n    at com.mongodb.internal.connection.ProtocolHelper.getCommandFailureException(ProtocolHelper.java:205) ~[mongodb-driver-core-4.9.1.jar:na]\n    at com.mongodb.internal.connection.InternalStreamConnection.receiveCommandMessageResponse(InternalStreamConnection.java:443) ~[mongodb-driver-core-4.9.1.jar:na]\n    at com.mongodb.internal.connection.InternalStreamConnection.sendAndReceive(InternalStreamConnection.java:365) ~[mongodb-driver-core-4.9.1.jar:na]\n    at com.mongodb.internal.connection.CommandHelper.sendAndReceive(CommandHelper.java:102) ~[mongodb-driver-core-4.9.1.jar:na]\n    at com.mongodb.internal.connection.CommandHelper.executeCommand(CommandHelper.java:49) ~[mongodb-driver-core-4.9.1.jar:na]\n    at com.mongodb.internal.connection.SaslAuthenticator.sendSaslStart(SaslAuthenticator.java:224) ~[mongodb-driver-core-4.9.1.jar:na]\n    at com.mongodb.internal.connection.SaslAuthenticator.getNextSaslResponse(SaslAuthenticator.java:131) ~[mongodb-driver-core-4.9.1.jar:na]\n    ... 60 common frames omitted\n\n\nProcess finished with exit code 1\n\n</code></pre>\n"},{"tags":["java","javafx","graalvm"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1689413751,"post_id":76692985,"comment_id":135212311,"body_markdown":"You probably need javafx.graphics.jmod. How did you build it?","body":"You probably need javafx.graphics.jmod. How did you build it?"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1689415529,"post_id":76692985,"comment_id":135212471,"body_markdown":"There is only one unnamed module, and that comprises all classes and libraries on the classpath. Only libraries on the modulepath become a (named) module. In other words, you don&#39;t need to find out its name, you need to correctly configure the modulepath.","body":"There is only one unnamed module, and that comprises all classes and libraries on the classpath. Only libraries on the modulepath become a (named) module. In other words, you don&#39;t need to find out its name, you need to correctly configure the modulepath."},{"owner":{"account_id":793512,"reputation":788,"user_id":900699,"accept_rate":17,"display_name":"Graham Seed"},"score":0,"creation_date":1689423967,"post_id":76692985,"comment_id":135213306,"body_markdown":"I built it using GraalVM, starting from a Maven pom.xml that works without GraalVM. I then added the &lt;profiles&gt; block described here [https://graalvm.github.io/native-build-tools/latest/maven-plugin.html]. I assumed it would load the required JavaFX modules but it&#39;s clearly not including them and I have no way of pointing it to the modules by using --module-path and add-modules as I could do pre-GraalVM.","body":"I built it using GraalVM, starting from a Maven pom.xml that works without GraalVM. I then added the &lt;profiles&gt; block described here [<a href=\"https://graalvm.github.io/native-build-tools/latest/maven-plugin.html]\" rel=\"nofollow noreferrer\">graalvm.github.io/native-build-tools/latest/maven-plugin.ht&zwnj;&#8203;ml]</a>. I assumed it would load the required JavaFX modules but it&#39;s clearly not including them and I have no way of pointing it to the modules by using --module-path and add-modules as I could do pre-GraalVM."},{"owner":{"account_id":793512,"reputation":788,"user_id":900699,"accept_rate":17,"display_name":"Graham Seed"},"score":0,"creation_date":1689424072,"post_id":76692985,"comment_id":135213323,"body_markdown":"&quot;you need to correctly configure the modulepath&quot; --&gt; and how do I do that with a JavaFX v20 project? After adding the GraalVM &lt;profiles&gt; block I looked at the configuration options but don&#39;t see any for specifying the module path.","body":"&quot;you need to correctly configure the modulepath&quot; --&gt; and how do I do that with a JavaFX v20 project? After adding the GraalVM &lt;profiles&gt; block I looked at the configuration options but don&#39;t see any for specifying the module path."},{"owner":{"account_id":793512,"reputation":788,"user_id":900699,"accept_rate":17,"display_name":"Graham Seed"},"score":0,"creation_date":1689424216,"post_id":76692985,"comment_id":135213346,"body_markdown":"Do you know of a good example/tutorial that details how a module JavaFX project is built using jmods and GraalVM?","body":"Do you know of a good example/tutorial that details how a module JavaFX project is built using jmods and GraalVM?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1689426025,"post_id":76692985,"comment_id":135213580,"body_markdown":"You know you can build an executable (and even an installer) with just the jdk now?","body":"You know you can build an executable (and even an installer) with just the jdk now?"},{"owner":{"account_id":793512,"reputation":788,"user_id":900699,"accept_rate":17,"display_name":"Graham Seed"},"score":0,"creation_date":1689448341,"post_id":76692985,"comment_id":135216168,"body_markdown":"&quot;You know you can build an executable (and even an installer) with just the jdk now? &quot; --&gt; point me to a detailed webpage that shows how, otherwise such answers are a waste of time","body":"&quot;You know you can build an executable (and even an installer) with just the jdk now? &quot; --&gt; point me to a detailed webpage that shows how, otherwise such answers are a waste of time"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1689448468,"post_id":76692985,"comment_id":135216186,"body_markdown":"g00se is most likely referring to the [jpackage](https://docs.oracle.com/en/java/javase/20/jpackage/packaging-overview.html#GUID-C1027043-587D-418D-8188-EF8F44A4C06A) tool. Though note that tool does not perform ahead-of-time compilation like GraalVM&#39;s native image does.","body":"g00se is most likely referring to the <a href=\"https://docs.oracle.com/en/java/javase/20/jpackage/packaging-overview.html#GUID-C1027043-587D-418D-8188-EF8F44A4C06A\" rel=\"nofollow noreferrer\">jpackage</a> tool. Though note that tool does not perform ahead-of-time compilation like GraalVM&#39;s native image does."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1689453659,"post_id":76692985,"comment_id":135216682,"body_markdown":"@GrahamSeed Related [How to create a standalone .exe in Java (that runs without an installer and a JRE)](https://stackoverflow.com/questions/69811401/how-to-create-a-standalone-exe-in-java-that-runs-without-an-installer-and-a-jr/69824145#69824145).  That example uses the JDK + Warp to build a native executable, and has some discussion of alternate distribution options.  It is not an answer to your question or related to it, but is related to your request for information in comments on building executables.","body":"@GrahamSeed Related <a href=\"https://stackoverflow.com/questions/69811401/how-to-create-a-standalone-exe-in-java-that-runs-without-an-installer-and-a-jr/69824145#69824145\">How to create a standalone .exe in Java (that runs without an installer and a JRE)</a>.  That example uses the JDK + Warp to build a native executable, and has some discussion of alternate distribution options.  It is not an answer to your question or related to it, but is related to your request for information in comments on building executables."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1689458949,"post_id":76692985,"comment_id":135217193,"body_markdown":"*It is not an answer to your question or related to it, but is related to your request for information in comments on building executables* Yes, indeed. Let&#39;s just hope we&#39;re not &quot;wasting his time&quot;","body":"<i>It is not an answer to your question or related to it, but is related to your request for information in comments on building executables</i> Yes, indeed. Let&#39;s just hope we&#39;re not &quot;wasting his time&quot;"}],"owner":{"account_id":793512,"reputation":788,"user_id":900699,"accept_rate":17,"display_name":"Graham Seed"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":198,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1689411308,"creation_date":1689411308,"question_id":76692985,"body_markdown":"I have managed to build a GraalVM / JavaFX build but when I run it I get the following error:\r\n```\r\n$ ./app\r\nJul 15, 2023 9:49:59 AM com.sun.javafx.application.PlatformImpl startup\r\nWARNING: Unsupported JavaFX configuration: classes were loaded from &#39;unnamed module @21325036&#39;\r\njava.lang.ClassNotFoundException: com.sun.javafx.tk.quantum.QuantumToolkit\r\n\tat java.base@17.0.6/java.lang.Class.forName(DynamicHub.java:1132)\r\n\tat com.sun.javafx.tk.Toolkit.getToolkit(Toolkit.java:253)\r\n\tat com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:290)\r\n...\r\n\r\n```\r\nIt states the guilty module is &#39;unnamed module @21325036&#39;, which is pretty useless to me. How do I map this id to the module&#39;s actual name so I can find out what is wrong?","title":"Determining the Name of an Un-named Module","body":"<p>I have managed to build a GraalVM / JavaFX build but when I run it I get the following error:</p>\n<pre><code>$ ./app\nJul 15, 2023 9:49:59 AM com.sun.javafx.application.PlatformImpl startup\nWARNING: Unsupported JavaFX configuration: classes were loaded from 'unnamed module @21325036'\njava.lang.ClassNotFoundException: com.sun.javafx.tk.quantum.QuantumToolkit\n    at java.base@17.0.6/java.lang.Class.forName(DynamicHub.java:1132)\n    at com.sun.javafx.tk.Toolkit.getToolkit(Toolkit.java:253)\n    at com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:290)\n...\n\n</code></pre>\n<p>It states the guilty module is 'unnamed module @21325036', which is pretty useless to me. How do I map this id to the module's actual name so I can find out what is wrong?</p>\n"},{"tags":["java","dependency-injection","quarkus","quarkus-rest-client","quarkus-reactive"],"comments":[{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1689518303,"post_id":76692795,"comment_id":135221768,"body_markdown":"I assume `FlightMock` is in test code?","body":"I assume <code>FlightMock</code> is in test code?"},{"owner":{"account_id":8530734,"reputation":53,"user_id":7284383,"display_name":"topgun"},"score":0,"creation_date":1689528327,"post_id":76692795,"comment_id":135222927,"body_markdown":"It is in the main. Mock is used in the main application as well as the test","body":"It is in the main. Mock is used in the main application as well as the test"},{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1689576669,"post_id":76692795,"comment_id":135227357,"body_markdown":"And your goal is to have it replace the actual `FlightGateway`?","body":"And your goal is to have it replace the actual <code>FlightGateway</code>?"}],"owner":{"account_id":8530734,"reputation":53,"user_id":7284383,"display_name":"topgun"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689410008,"creation_date":1689408030,"question_id":76692795,"body_markdown":"Quarkus legacy RestEasy gives error of &quot;unsatisfied dependency&quot; when **@RestClient annotation is used** on gateway to inject in service layer **and Mock of that same gateway is also implemented** at the same time.\r\n\r\nThe gateway is like below\r\n\r\n    @RegisterRestClient(configKey = &quot;gateway&quot;)\r\n    public interface FlightGateway\r\n    {\r\n\t  @Path(&quot;/esb/flight/bookflight/v1&quot;)\r\n\t  @POST\r\n\t  public BookFlightResp bookFlight(BookFlightReq req);\r\n    }\r\n\r\n\r\nMy service class \r\n\r\n    public class FlightServiceImpl implements FlightService {\r\n    @RestClient\r\n    FlightGateway flightGateway;\r\n\t@Override\r\n\tpublic BookFlightRply flightBooking(BookFlight req) {\r\n\t\t\r\n\t\tBookFlightRply rply = flightGateway.bookFlight(req);\r\n\r\n\t\treturn rply;\r\n\t}\r\n\r\nThe problem happens below when I implement FlightGateway in mock class i get unsatisfied dependency error. If I remove &quot;implements FlightGateway&quot; on below mock class, application works perfectly. **This problem doesnt happen in RestEasy reactive** but only in legacy RestEasy.\r\n\r\n    public class FlightMock implements FlightGateway {\r\n\r\n\t@Override\r\n\tpublic BookFlightResp bookFlight(BookFlightReq req) {\r\n\r\n\t\t//Mock code here\r\n\t\treturn resp;\r\n\t}\r\n\r\n}\r\n\r\nThe error is below\r\n\r\n[error]: Build step io.quarkus.arc.deployment.ArcProcessor#validate threw an exception: javax.enterprise.inject.spi.DeploymentException: javax.enterprise.inject.UnsatisfiedResolutionException: Unsatisfied dependency for type com.as.flight.integration.gateway.FlightGateway and qualifiers [@RestClient]\r\n\r\n- java member: com.as.flight.service.FlightServiceImpl#FlightGateway\r\n[[1;31mERROR[m] \t- declared on CLASS bean [types=[com.as.flight.service.FlightServiceImpl, java.lang.Object, com.as.flight.service.FlightService], qualifiers=[@Default, @Any], target=com.as.flight.service.FlightServiceImpl]\r\n","title":"Quarkus Rest Easy dependency injection error in @RestClient, when Gateway interface is also implemented","body":"<p>Quarkus legacy RestEasy gives error of &quot;unsatisfied dependency&quot; when <strong>@RestClient annotation is used</strong> on gateway to inject in service layer <strong>and Mock of that same gateway is also implemented</strong> at the same time.</p>\n<p>The gateway is like below</p>\n<pre><code>@RegisterRestClient(configKey = &quot;gateway&quot;)\npublic interface FlightGateway\n{\n  @Path(&quot;/esb/flight/bookflight/v1&quot;)\n  @POST\n  public BookFlightResp bookFlight(BookFlightReq req);\n}\n</code></pre>\n<p>My service class</p>\n<pre><code>public class FlightServiceImpl implements FlightService {\n@RestClient\nFlightGateway flightGateway;\n@Override\npublic BookFlightRply flightBooking(BookFlight req) {\n    \n    BookFlightRply rply = flightGateway.bookFlight(req);\n\n    return rply;\n}\n</code></pre>\n<p>The problem happens below when I implement FlightGateway in mock class i get unsatisfied dependency error. If I remove &quot;implements FlightGateway&quot; on below mock class, application works perfectly. <strong>This problem doesnt happen in RestEasy reactive</strong> but only in legacy RestEasy.</p>\n<pre><code>public class FlightMock implements FlightGateway {\n\n@Override\npublic BookFlightResp bookFlight(BookFlightReq req) {\n\n    //Mock code here\n    return resp;\n}\n</code></pre>\n<p>}</p>\n<p>The error is below</p>\n<p>[error]: Build step io.quarkus.arc.deployment.ArcProcessor#validate threw an exception: javax.enterprise.inject.spi.DeploymentException: javax.enterprise.inject.UnsatisfiedResolutionException: Unsatisfied dependency for type com.as.flight.integration.gateway.FlightGateway and qualifiers [@RestClient]</p>\n<ul>\n<li>java member: com.as.flight.service.FlightServiceImpl#FlightGateway\n[[1;31mERROR[m]     - declared on CLASS bean [types=[com.as.flight.service.FlightServiceImpl, java.lang.Object, com.as.flight.service.FlightService], qualifiers=[@Default, @Any], target=com.as.flight.service.FlightServiceImpl]</li>\n</ul>\n"},{"tags":["java","spring","rest","spring-boot"],"comments":[{"owner":{"account_id":6798273,"reputation":146,"user_id":5232658,"display_name":"Babasaheb Matsagar"},"score":0,"creation_date":1567087236,"post_id":57711677,"comment_id":101865949,"body_markdown":"https://stackoverflow.com/questions/42767079/download-file-java-spring-rest-api this one is useful","body":"<a href=\"https://stackoverflow.com/questions/42767079/download-file-java-spring-rest-api\" title=\"download file java spring rest api\">stackoverflow.com/questions/42767079/&hellip;</a> this one is useful"},{"owner":{"account_id":7475911,"reputation":1,"user_id":5682363,"display_name":"avr"},"score":0,"creation_date":1567088267,"post_id":57711677,"comment_id":101866574,"body_markdown":"@Babasheb: thanks for your reply,  # I have already tried it, but not working. #","body":"@Babasheb: thanks for your reply,  # I have already tried it, but not working. #"},{"owner":{"account_id":11896372,"reputation":182,"user_id":8705653,"display_name":"Fakipo"},"score":0,"creation_date":1594142652,"post_id":57711677,"comment_id":111020987,"body_markdown":"Have you got it to work yet? I am facing the same problem.","body":"Have you got it to work yet? I am facing the same problem."}],"answers":[{"comments":[{"owner":{"account_id":7475911,"reputation":1,"user_id":5682363,"display_name":"avr"},"score":0,"creation_date":1567770076,"post_id":57712240,"comment_id":102072701,"body_markdown":"I have realized the problem is that, when I am uploading/sending file content of the excel file (rest of files eg:pdf, csv, .docx .zip have no issue) as byte[] byteArr = MultipartFile.getBytes() to file storage REST service input, the data is getting corrupted. I don&#39;t understand why is it so!\nAnd I don&#39;t have any issue with the download functionality of mine. I realized it.","body":"I have realized the problem is that, when I am uploading/sending file content of the excel file (rest of files eg:pdf, csv, .docx .zip have no issue) as byte[] byteArr = MultipartFile.getBytes() to file storage REST service input, the data is getting corrupted. I don&#39;t understand why is it so! And I don&#39;t have any issue with the download functionality of mine. I realized it."}],"tags":[],"owner":{"account_id":3763662,"reputation":7765,"user_id":3127812,"accept_rate":0,"display_name":"Sambit"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1567088463,"creation_date":1567088463,"answer_id":57712240,"question_id":57711677,"body_markdown":"Please try with the following code.\r\n\r\n    @GetMapping(value = &quot;/files/{id}&quot;, produces = MediaType.APPLICATION_OCTET_STREAM_VALUE)\r\n      public ResponseEntity&lt;?&gt; downloadAnyFile() {\r\n        String dirPath = &quot;your-location-path&quot;;\r\n    \tbyte[] byteArray;  // data comes from external service call in byte[]\r\n        try {\r\n           String fileName = &quot;your-custom-file-name&quot;;\r\n          byteArray = Files.readAllBytes(Paths.get(dirPath + fileName));\r\n        } catch (IOException e) {\r\n          e.printStackTrace();\r\n        }\r\n        return ResponseEntity.ok()\r\n            .contentType(MediaType.APPLICATION_OCTET_STREAM)\r\n            .header(HttpHeaders.CONTENT_DISPOSITION, &quot;attachment; filename=\\&quot;&quot; + fileName + &quot;\\&quot;&quot;)\r\n            .body(byteArray);\r\n      }\r\n\r\nYou can use `@GetMapping` or `@PostMapping` based upon the requirments.","title":"How to download Excel using spring rest service / spring boot","body":"<p>Please try with the following code.</p>\n\n<pre><code>@GetMapping(value = \"/files/{id}\", produces = MediaType.APPLICATION_OCTET_STREAM_VALUE)\n  public ResponseEntity&lt;?&gt; downloadAnyFile() {\n    String dirPath = \"your-location-path\";\n    byte[] byteArray;  // data comes from external service call in byte[]\n    try {\n       String fileName = \"your-custom-file-name\";\n      byteArray = Files.readAllBytes(Paths.get(dirPath + fileName));\n    } catch (IOException e) {\n      e.printStackTrace();\n    }\n    return ResponseEntity.ok()\n        .contentType(MediaType.APPLICATION_OCTET_STREAM)\n        .header(HttpHeaders.CONTENT_DISPOSITION, \"attachment; filename=\\\"\" + fileName + \"\\\"\")\n        .body(byteArray);\n  }\n</code></pre>\n\n<p>You can use <code>@GetMapping</code> or <code>@PostMapping</code> based upon the requirments.</p>\n"},{"tags":[],"owner":{"account_id":11738231,"reputation":356,"user_id":8591363,"display_name":"Ashok Parmar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689409524,"creation_date":1689409524,"answer_id":76692879,"question_id":57711677,"body_markdown":"Using Spring Boot 2.7.xx API for get the excel file\r\n\r\n@GetMapping(value = &quot;/ashok/excelfile&quot;, produces = &quot;application/json;charset=UTF-8&quot;)\r\n    public JsonCommonResponse downloadPatientExcelFile(HttpServletRequest request ) throws Exception {\r\n    \r\n\r\n        byte[] byteArray = null;\r\n        FileDownloadResponse download = new FileDownloadResponse();\r\n        try {\r\n            byteArray = Files.readAllBytes(Paths.get(&quot;/home/ashok/exel.xls&quot;)); // File Path\r\n         //   byteArray = Base64.getEncoder().encode(byteArray);\r\n            download.setFileContent(byteArray);\r\n            //download.setFileType(&quot;application/octet-stream&quot;);\r\n            download.setFileType(&quot;application/vnd.ms-excel&quot;);\r\n            download.setFileName(&quot;ashok_&quot; + DateUtils.getFormatedCurrentDateTime() +&quot;.xlsx&quot;);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n       return JsonCommonResponseHelper.getSuccessJsonResponse(download, &quot;File&quot;, request.getServletPath());\r\n\r\n    }\r\n------\r\npublic class FileDownloadResponse implements Serializable {\r\n\r\n    private byte[] fileContent;\r\n    private String fileType;\r\n    private String fileName;\r\n\r\n}\r\n\r\n**JsonCommonResponse** is a pojo class to set the data and send it with JSON object. modify the same as require.\r\n \r\n","title":"How to download Excel using spring rest service / spring boot","body":"<p>Using Spring Boot 2.7.xx API for get the excel file</p>\n<p>@GetMapping(value = &quot;/ashok/excelfile&quot;, produces = &quot;application/json;charset=UTF-8&quot;)\npublic JsonCommonResponse downloadPatientExcelFile(HttpServletRequest request ) throws Exception {</p>\n<pre><code>    byte[] byteArray = null;\n    FileDownloadResponse download = new FileDownloadResponse();\n    try {\n        byteArray = Files.readAllBytes(Paths.get(&quot;/home/ashok/exel.xls&quot;)); // File Path\n     //   byteArray = Base64.getEncoder().encode(byteArray);\n        download.setFileContent(byteArray);\n        //download.setFileType(&quot;application/octet-stream&quot;);\n        download.setFileType(&quot;application/vnd.ms-excel&quot;);\n        download.setFileName(&quot;ashok_&quot; + DateUtils.getFormatedCurrentDateTime() +&quot;.xlsx&quot;);\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n\n   return JsonCommonResponseHelper.getSuccessJsonResponse(download, &quot;File&quot;, request.getServletPath());\n\n}\n</code></pre>\n<hr />\n<p>public class FileDownloadResponse implements Serializable {</p>\n<pre><code>private byte[] fileContent;\nprivate String fileType;\nprivate String fileName;\n</code></pre>\n<p>}</p>\n<p><strong>JsonCommonResponse</strong> is a pojo class to set the data and send it with JSON object. modify the same as require.</p>\n"}],"owner":{"account_id":7475911,"reputation":1,"user_id":5682363,"display_name":"avr"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3468,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1689409524,"creation_date":1567086584,"question_id":57711677,"body_markdown":"Excel download is not working while downloading using spring boot - issue might be setting the CONTENT TYPE , I doubt!\nI have tried setting different CONTENT TYPE headers but not working with EXCEL.\n\n# My requirement: The below code should be generic for all type of files.\n\n    @GetMapping(value = &quot;/files/{id}&quot;, produces = MediaType.APPLICATION_OCTET_STREAM_VALUE)\n    public ResponseEntity&lt;ByteArrayResource&gt; downloadAnyFile()\n    {\n    \n    byte[] byteArray;  // data comes from external service call in byte[]\n    \n    ByteArrayResource resource = new ByteArrayResource(byteArray, docName);\n                    return ResponseEntity.ok()\n                            .header(HttpHeaders.CONTENT_DISPOSITION, ATTACHMENT + docName)\n                            .contentType(MediaType.APPLICATION_OCTET_STREAM)\n                            .contentLength(resource.contentLength())\n                            .body(resource);\n    \n    // Also tried this below content-type but not working\n    String mimeType = ServletContext.getMimeType(fileName);\n     .contentType(MediaType.parseMediaType(mimeType))\n    \n    }\n\n\n`I am seeing warning of file corrupted while opening , The downloaded excel` file should not be corrupted. It should be opened as it was before upload. ","title":"How to download Excel using spring rest service / spring boot","body":"<p>Excel download is not working while downloading using spring boot - issue might be setting the CONTENT TYPE , I doubt!\nI have tried setting different CONTENT TYPE headers but not working with EXCEL.</p>\n<h1>My requirement: The below code should be generic for all type of files.</h1>\n<pre><code>@GetMapping(value = &quot;/files/{id}&quot;, produces = MediaType.APPLICATION_OCTET_STREAM_VALUE)\npublic ResponseEntity&lt;ByteArrayResource&gt; downloadAnyFile()\n{\n\nbyte[] byteArray;  // data comes from external service call in byte[]\n\nByteArrayResource resource = new ByteArrayResource(byteArray, docName);\n                return ResponseEntity.ok()\n                        .header(HttpHeaders.CONTENT_DISPOSITION, ATTACHMENT + docName)\n                        .contentType(MediaType.APPLICATION_OCTET_STREAM)\n                        .contentLength(resource.contentLength())\n                        .body(resource);\n\n// Also tried this below content-type but not working\nString mimeType = ServletContext.getMimeType(fileName);\n .contentType(MediaType.parseMediaType(mimeType))\n\n}\n</code></pre>\n<p><code>I am seeing warning of file corrupted while opening , The downloaded excel</code> file should not be corrupted. It should be opened as it was before upload.</p>\n"},{"tags":["java","activemq-artemis","hawtio"],"comments":[{"owner":{"account_id":29001964,"reputation":3,"user_id":22215350,"display_name":"hosseinJafari"},"score":0,"creation_date":1689342769,"post_id":76670206,"comment_id":135204082,"body_markdown":"first of all thanks for your help . i want to run a simple embedded programmatic artemis first . this is my simple class :","body":"first of all thanks for your help . i want to run a simple embedded programmatic artemis first . this is my simple class :"}],"answers":[{"comments":[{"owner":{"account_id":29001964,"reputation":3,"user_id":22215350,"display_name":"hosseinJafari"},"score":0,"creation_date":1689408517,"post_id":76689316,"comment_id":135211786,"body_markdown":"I have used your solution but I had a little problem with it. I updated my question . with two pictures.Is it possible for you to answer my question please?","body":"I have used your solution but I had a little problem with it. I updated my question . with two pictures.Is it possible for you to answer my question please?"}],"tags":[],"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689349771,"creation_date":1689349771,"answer_id":76689316,"question_id":76670206,"body_markdown":"You can enable the management console via an embedded instance of Jetty managed by the broker using the following code:\r\n```java\r\nSystem.setProperty(&quot;hawtio.realm&quot;, &quot;hawtio&quot;);\r\nSystem.setProperty(&quot;hawtio.role&quot;, &quot;myRole&quot;);\r\nSystem.setProperty(&quot;hawtio.rolePrincipalClasses&quot;, &quot;org.apache.activemq.artemis.spi.core.security.jaas.RolePrincipal&quot;);\r\nSystem.setProperty(&quot;java.security.auth.login.config&quot;, &quot;/path/to/login.config&quot;);\r\nString pathToArtemis = &quot;/path/to/artemis&quot;;\r\nConfigurationImpl config = new ConfigurationImpl()\r\n        .addAcceptorConfiguration(&quot;in-vm&quot;, &quot;vm://0&quot;)\r\n        .addAcceptorConfiguration(&quot;tcp&quot;, &quot;tcp://localhost:61616&quot;)\r\n        .setJMXManagementEnabled(true);\r\nEmbeddedActiveMQ server = new EmbeddedActiveMQ();\r\nserver.setMbeanServer(ManagementFactory.getPlatformMBeanServer());\r\nserver.start();\r\nWebServerComponent webServerComponent = new WebServerComponent();\r\nWebServerDTO webServerDTO = new WebServerDTO();\r\nwebServerDTO.path = &quot;web&quot;;\r\nBindingDTO bindingDTO = new BindingDTO();\r\nbindingDTO.uri = &quot;http://localhost:8161&quot;;\r\nAppDTO branding = new AppDTO();\r\nbranding.name = &quot;branding&quot;;\r\nbranding.url = &quot;activemq-branding&quot;;\r\nbranding.war = &quot;activemq-branding.war&quot;;\r\nAppDTO plugin = new AppDTO();\r\nplugin.name = &quot;plugin&quot;;\r\nplugin.url = &quot;artemis-plugin&quot;;\r\nplugin.war = &quot;artemis-plugin.war&quot;;\r\nAppDTO console = new AppDTO();\r\nconsole.name = &quot;console&quot;;\r\nconsole.url = &quot;console&quot;;\r\nconsole.war = &quot;console.war&quot;;\r\nbindingDTO.addApp(branding);\r\nbindingDTO.addApp(plugin);\r\nbindingDTO.addApp(console);\r\nwebServerDTO.addBinding(bindingDTO);\r\nwebServerComponent.configure(webServerDTO, pathToArtemis, pathToArtemis);\r\nserver.getActiveMQServer().addExternalComponent(webServerComponent, true);\r\n```\r\n\r\nYour `login.config` might look something like this:\r\n```\r\nhawtio {\r\n   org.apache.activemq.artemis.spi.core.security.jaas.PropertiesLoginModule required\r\n       debug=false\r\n       reload=true\r\n       org.apache.activemq.jaas.properties.user=&quot;hawtio-users.properties&quot;\r\n       org.apache.activemq.jaas.properties.role=&quot;hawtio-roles.properties&quot;;\r\n};\r\n```\r\n`hawtio-users.properties`:\r\n```\r\nmyUser=myPass\r\n```\r\n`hawtio-roles.properties`:\r\n```\r\nmyRole=myUser\r\n```\r\nThen you can login to the console at `http://localhost:8161/console` with the user `myUser` and the password `myPass`.\r\n\r\nLastly, I believe you can simplify your dependencies down to this:\r\n```xml\r\n&lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.activemq&lt;/groupId&gt;\r\n        &lt;artifactId&gt;artemis-server&lt;/artifactId&gt;\r\n        &lt;version&gt;2.16.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```","title":"Embedded ActiveMQ Artemis doesn&#39;t show web console","body":"<p>You can enable the management console via an embedded instance of Jetty managed by the broker using the following code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.setProperty(&quot;hawtio.realm&quot;, &quot;hawtio&quot;);\nSystem.setProperty(&quot;hawtio.role&quot;, &quot;myRole&quot;);\nSystem.setProperty(&quot;hawtio.rolePrincipalClasses&quot;, &quot;org.apache.activemq.artemis.spi.core.security.jaas.RolePrincipal&quot;);\nSystem.setProperty(&quot;java.security.auth.login.config&quot;, &quot;/path/to/login.config&quot;);\nString pathToArtemis = &quot;/path/to/artemis&quot;;\nConfigurationImpl config = new ConfigurationImpl()\n        .addAcceptorConfiguration(&quot;in-vm&quot;, &quot;vm://0&quot;)\n        .addAcceptorConfiguration(&quot;tcp&quot;, &quot;tcp://localhost:61616&quot;)\n        .setJMXManagementEnabled(true);\nEmbeddedActiveMQ server = new EmbeddedActiveMQ();\nserver.setMbeanServer(ManagementFactory.getPlatformMBeanServer());\nserver.start();\nWebServerComponent webServerComponent = new WebServerComponent();\nWebServerDTO webServerDTO = new WebServerDTO();\nwebServerDTO.path = &quot;web&quot;;\nBindingDTO bindingDTO = new BindingDTO();\nbindingDTO.uri = &quot;http://localhost:8161&quot;;\nAppDTO branding = new AppDTO();\nbranding.name = &quot;branding&quot;;\nbranding.url = &quot;activemq-branding&quot;;\nbranding.war = &quot;activemq-branding.war&quot;;\nAppDTO plugin = new AppDTO();\nplugin.name = &quot;plugin&quot;;\nplugin.url = &quot;artemis-plugin&quot;;\nplugin.war = &quot;artemis-plugin.war&quot;;\nAppDTO console = new AppDTO();\nconsole.name = &quot;console&quot;;\nconsole.url = &quot;console&quot;;\nconsole.war = &quot;console.war&quot;;\nbindingDTO.addApp(branding);\nbindingDTO.addApp(plugin);\nbindingDTO.addApp(console);\nwebServerDTO.addBinding(bindingDTO);\nwebServerComponent.configure(webServerDTO, pathToArtemis, pathToArtemis);\nserver.getActiveMQServer().addExternalComponent(webServerComponent, true);\n</code></pre>\n<p>Your <code>login.config</code> might look something like this:</p>\n<pre><code>hawtio {\n   org.apache.activemq.artemis.spi.core.security.jaas.PropertiesLoginModule required\n       debug=false\n       reload=true\n       org.apache.activemq.jaas.properties.user=&quot;hawtio-users.properties&quot;\n       org.apache.activemq.jaas.properties.role=&quot;hawtio-roles.properties&quot;;\n};\n</code></pre>\n<p><code>hawtio-users.properties</code>:</p>\n<pre><code>myUser=myPass\n</code></pre>\n<p><code>hawtio-roles.properties</code>:</p>\n<pre><code>myRole=myUser\n</code></pre>\n<p>Then you can login to the console at <code>http://localhost:8161/console</code> with the user <code>myUser</code> and the password <code>myPass</code>.</p>\n<p>Lastly, I believe you can simplify your dependencies down to this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.activemq&lt;/groupId&gt;\n        &lt;artifactId&gt;artemis-server&lt;/artifactId&gt;\n        &lt;version&gt;2.16.0&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n"}],"owner":{"account_id":29001964,"reputation":3,"user_id":22215350,"display_name":"hosseinJafari"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":163,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76689316,"answer_count":1,"score":-1,"last_activity_date":1689409439,"creation_date":1689162407,"question_id":76670206,"body_markdown":"I am a junior Java developer, and I made a simple sample of embedded ActiveMQ Artemis programmatic. It works correctly, but I want to monitor it on my browser on `http://localost:8161` (like ActiveMQ Artemis that I install and run standalone). However, in embedded mode it didn&#39;t give me the web console, and I can&#39;t find any correct sample on any where to see it. Somewhere people say about Hawtio, JMX, and other ways but they didn&#39;t work correctly. Can somebody give a simple demo to me please?\r\n\r\nJMX Hawtio and other things didn&#39;t work.\r\n\r\nThis is my simple class : \r\n\r\n```java    \r\nimport org.apache.activemq.artemis.core.config.impl.ConfigurationImpl;\r\nimport org.apache.activemq.artemis.core.server.embedded.EmbeddedActiveMQ;\r\n\r\npublic class EmbeddedActiveMq {\r\n\r\n    public static void main(String[] args) throws Exception {\r\n\r\n        ConfigurationImpl config = new ConfigurationImpl()\r\n                .addAcceptorConfiguration(&quot;in-vm&quot;, &quot;vm://0&quot;)\r\n                .addAcceptorConfiguration(&quot;tcp&quot;, &quot;tcp://localhost:61616&quot;)\r\n                .setJMXManagementEnabled(true);\r\n\r\n        EmbeddedActiveMQ server = new EmbeddedActiveMQ();\r\n        server.setConfiguration(config);\r\n\r\n        server.start();\r\n        System.out.println(&quot;artemis is ok&quot;);\r\n        while (true) {\r\n\r\n        }\r\n    }\r\n}\r\n```\r\nThese are my dependencies: \r\n```xml\r\n&lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.activemq&lt;/groupId&gt;\r\n        &lt;artifactId&gt;artemis-server&lt;/artifactId&gt;\r\n        &lt;version&gt;2.16.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.activemq&lt;/groupId&gt;\r\n        &lt;artifactId&gt;artemis-jms-server&lt;/artifactId&gt;\r\n        &lt;version&gt;2.16.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.activemq&lt;/groupId&gt;\r\n        &lt;artifactId&gt;artemis-jms-client&lt;/artifactId&gt;\r\n        &lt;version&gt;2.16.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.jolokia&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jolokia-core&lt;/artifactId&gt;\r\n        &lt;version&gt;1.7.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.activemq&lt;/groupId&gt;\r\n        &lt;artifactId&gt;artemis-core-client&lt;/artifactId&gt;\r\n        &lt;version&gt;2.17.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.activemq&lt;/groupId&gt;\r\n        &lt;artifactId&gt;artemis-web&lt;/artifactId&gt;\r\n        &lt;version&gt;2.29.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;io.hawt&lt;/groupId&gt;\r\n        &lt;artifactId&gt;hawtio-default&lt;/artifactId&gt;\r\n        &lt;version&gt;2.12.0&lt;/version&gt;\r\n        &lt;type&gt;war&lt;/type&gt;\r\n    &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```\r\n\r\n\r\nupdate : \r\n\r\n\r\ni use your solution Mr.Bertram , and now i have a little problem. it listen on port 8161 but it seems i do somewhere wrong : \r\n\r\n\r\n\r\n[my localhost:8161 pic][1]\r\n\r\n\r\n[my localhost:8161/console pic][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/RIl0A.png\r\n  [2]: https://i.stack.imgur.com/qdNDw.png\r\n\r\n\r\nfor pathToArtemis i use this path :\r\n &quot;.m2/repository/org/apache/activemq/artemis-server/2.16.0/artemis-server-2.16.0.jar&quot;;  \r\nand this path :\r\n &quot;.m2/repository/org/apache/activemq/artemis-web/2.16.0/artemis-web-2.16.0.jar&quot;;\r\nand the installation directory of artemis .\r\n but non of them didnt work and i got nothing in panel .","title":"Embedded ActiveMQ Artemis doesn&#39;t show web console","body":"<p>I am a junior Java developer, and I made a simple sample of embedded ActiveMQ Artemis programmatic. It works correctly, but I want to monitor it on my browser on <code>http://localost:8161</code> (like ActiveMQ Artemis that I install and run standalone). However, in embedded mode it didn't give me the web console, and I can't find any correct sample on any where to see it. Somewhere people say about Hawtio, JMX, and other ways but they didn't work correctly. Can somebody give a simple demo to me please?</p>\n<p>JMX Hawtio and other things didn't work.</p>\n<p>This is my simple class :</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.apache.activemq.artemis.core.config.impl.ConfigurationImpl;\nimport org.apache.activemq.artemis.core.server.embedded.EmbeddedActiveMQ;\n\npublic class EmbeddedActiveMq {\n\n    public static void main(String[] args) throws Exception {\n\n        ConfigurationImpl config = new ConfigurationImpl()\n                .addAcceptorConfiguration(&quot;in-vm&quot;, &quot;vm://0&quot;)\n                .addAcceptorConfiguration(&quot;tcp&quot;, &quot;tcp://localhost:61616&quot;)\n                .setJMXManagementEnabled(true);\n\n        EmbeddedActiveMQ server = new EmbeddedActiveMQ();\n        server.setConfiguration(config);\n\n        server.start();\n        System.out.println(&quot;artemis is ok&quot;);\n        while (true) {\n\n        }\n    }\n}\n</code></pre>\n<p>These are my dependencies:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.activemq&lt;/groupId&gt;\n        &lt;artifactId&gt;artemis-server&lt;/artifactId&gt;\n        &lt;version&gt;2.16.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.activemq&lt;/groupId&gt;\n        &lt;artifactId&gt;artemis-jms-server&lt;/artifactId&gt;\n        &lt;version&gt;2.16.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.activemq&lt;/groupId&gt;\n        &lt;artifactId&gt;artemis-jms-client&lt;/artifactId&gt;\n        &lt;version&gt;2.16.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.jolokia&lt;/groupId&gt;\n        &lt;artifactId&gt;jolokia-core&lt;/artifactId&gt;\n        &lt;version&gt;1.7.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.activemq&lt;/groupId&gt;\n        &lt;artifactId&gt;artemis-core-client&lt;/artifactId&gt;\n        &lt;version&gt;2.17.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.activemq&lt;/groupId&gt;\n        &lt;artifactId&gt;artemis-web&lt;/artifactId&gt;\n        &lt;version&gt;2.29.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.hawt&lt;/groupId&gt;\n        &lt;artifactId&gt;hawtio-default&lt;/artifactId&gt;\n        &lt;version&gt;2.12.0&lt;/version&gt;\n        &lt;type&gt;war&lt;/type&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>update :</p>\n<p>i use your solution Mr.Bertram , and now i have a little problem. it listen on port 8161 but it seems i do somewhere wrong :</p>\n<p><a href=\"https://i.stack.imgur.com/RIl0A.png\" rel=\"nofollow noreferrer\">my localhost:8161 pic</a></p>\n<p><a href=\"https://i.stack.imgur.com/qdNDw.png\" rel=\"nofollow noreferrer\">my localhost:8161/console pic</a></p>\n<p>for pathToArtemis i use this path :\n&quot;.m2/repository/org/apache/activemq/artemis-server/2.16.0/artemis-server-2.16.0.jar&quot;;<br />\nand this path :\n&quot;.m2/repository/org/apache/activemq/artemis-web/2.16.0/artemis-web-2.16.0.jar&quot;;\nand the installation directory of artemis .\nbut non of them didnt work and i got nothing in panel .</p>\n"},{"tags":["java","database","postgresql","intellij-idea","arrayobject"],"comments":[{"owner":{"account_id":15800454,"reputation":120,"user_id":11401122,"display_name":"Bonniu"},"score":0,"creation_date":1671527942,"post_id":74860748,"comment_id":132113227,"body_markdown":"You can try to iterate through elements of `resultSet.getArray(&quot;array_agg&quot;).getArray();` and extract it to another array","body":"You can try to iterate through elements of <code>resultSet.getArray(&quot;array_agg&quot;).getArray();</code> and extract it to another array"},{"owner":{"account_id":13107451,"reputation":11,"user_id":9495869,"display_name":"Lam3rok"},"score":0,"creation_date":1671528136,"post_id":74860748,"comment_id":132113281,"body_markdown":"@Bonniu I think about it. I try to `myField.toString()` and `String.valueOf(myField)` but it return only  `[Ljava.lang.Object;@15173873`. Tnx for tha answer.","body":"@Bonniu I think about it. I try to <code>myField.toString()</code> and <code>String.valueOf(myField)</code> but it return only  <code>[Ljava.lang.Object;@15173873</code>. Tnx for tha answer."},{"owner":{"account_id":15800454,"reputation":120,"user_id":11401122,"display_name":"Bonniu"},"score":0,"creation_date":1671528249,"post_id":74860748,"comment_id":132113320,"body_markdown":"`myField` is an array, print it in a `for` loop and see what is inside","body":"<code>myField</code> is an array, print it in a <code>for</code> loop and see what is inside"},{"owner":{"account_id":13107451,"reputation":11,"user_id":9495869,"display_name":"Lam3rok"},"score":0,"creation_date":1671528451,"post_id":74860748,"comment_id":132113389,"body_markdown":"@Bonniu                                                                                                                         `for (int j = 0; j &lt; myField.length; j++) {\n                System.out.println(myField[j]);\n            }`                                                                                                                               Result is `(1,&quot;Ларингит острый&quot;,t,t,t,t,t,t,t,t,f,f,f,f,f,f,f,f)` because length of myFiels is 1","body":"@Bonniu                                                                                                                         <code>for (int j = 0; j &lt; myField.length; j++) {                 System.out.println(myField[j]);             }</code>                                                                                                                               Result is <code>(1,&quot;Ларингит острый&quot;,t,t,t,t,t,t,t,t,f,f,f,f,f,f,f,f)</code> because length of myFiels is 1"}],"answers":[{"tags":[],"owner":{"account_id":10917864,"reputation":46,"user_id":8025145,"display_name":"Renan.Silvano"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689407271,"creation_date":1671746781,"answer_id":74894302,"question_id":74860748,"body_markdown":"Maybe you can change your query to return the columns values each one in a row using `unnest` (see doc [9.18. Array Functions and Operators](https://www.postgresql.org/docs/9.2/functions-array.html)). Check this example:\r\n\r\nGiven you have a table like:\r\n\r\n|id|type| line |\r\n|:---|:-----:|:-----:|---:|\r\n|ba4323f9-bf91-4048-98b3-338dd45c810a|PENDENTE|Facetada|\r\n|4ec17454-9f21-497c-bdc2-53e0951abeb8|PENDENTE|Cil&#237;ndrica|\r\n|8f7521ab-a559-4e9e-b26f-265d4741e78e|PENDENTE|Cil&#237;ndrica|\r\n|bf67f77e-3052-4ea5-bf73-e947c5541f46|PENDENTE|Cil&#237;ndrica|\r\n|95717728-fd66-4e0d-841c-34dea9246af7|PENDENTE|Cil&#237;ndrica|\r\n\r\nWhen you select your columns as an array and apply `unnest` function to show each column in a row.\r\n```sql\r\nselect unnest(array[r.id::text,r.type, r.line]) columns_values from alamar.luminarias as r where id = &#39;ba4323f9-bf91-4048-98b3-338dd45c810a&#39;;\r\n```\r\nResult:\r\n\r\n|columns_values |\r\n|---|\r\n|ba4323f9-bf91-4048-98b3-338dd45c810a|\r\n|PENDENTE|\r\n|Facetada|\r\n\r\nThen you can get this results like a array and interact with it\r\n```java\r\n(Object[]) resultSet.getArray(&quot;columns_values&quot;).getArray();\r\n```\r\n","title":"Array_agg From PostgreSQL To Java Array","body":"<p>Maybe you can change your query to return the columns values each one in a row using <code>unnest</code> (see doc <a href=\"https://www.postgresql.org/docs/9.2/functions-array.html\" rel=\"nofollow noreferrer\">9.18. Array Functions and Operators</a>). Check this example:</p>\n<p>Given you have a table like:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th style=\"text-align: left;\">id</th>\n<th style=\"text-align: center;\">type</th>\n<th style=\"text-align: center;\">line</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: left;\">ba4323f9-bf91-4048-98b3-338dd45c810a</td>\n<td style=\"text-align: center;\">PENDENTE</td>\n<td style=\"text-align: center;\">Facetada</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">4ec17454-9f21-497c-bdc2-53e0951abeb8</td>\n<td style=\"text-align: center;\">PENDENTE</td>\n<td style=\"text-align: center;\">Cilíndrica</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">8f7521ab-a559-4e9e-b26f-265d4741e78e</td>\n<td style=\"text-align: center;\">PENDENTE</td>\n<td style=\"text-align: center;\">Cilíndrica</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">bf67f77e-3052-4ea5-bf73-e947c5541f46</td>\n<td style=\"text-align: center;\">PENDENTE</td>\n<td style=\"text-align: center;\">Cilíndrica</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">95717728-fd66-4e0d-841c-34dea9246af7</td>\n<td style=\"text-align: center;\">PENDENTE</td>\n<td style=\"text-align: center;\">Cilíndrica</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>When you select your columns as an array and apply <code>unnest</code> function to show each column in a row.</p>\n<pre class=\"lang-sql prettyprint-override\"><code>select unnest(array[r.id::text,r.type, r.line]) columns_values from alamar.luminarias as r where id = 'ba4323f9-bf91-4048-98b3-338dd45c810a';\n</code></pre>\n<p>Result:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>columns_values</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>ba4323f9-bf91-4048-98b3-338dd45c810a</td>\n</tr>\n<tr>\n<td>PENDENTE</td>\n</tr>\n<tr>\n<td>Facetada</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Then you can get this results like a array and interact with it</p>\n<pre class=\"lang-java prettyprint-override\"><code>(Object[]) resultSet.getArray(&quot;columns_values&quot;).getArray();\n</code></pre>\n"}],"owner":{"account_id":13107451,"reputation":11,"user_id":9495869,"display_name":"Lam3rok"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":421,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689407271,"creation_date":1671527509,"question_id":74860748,"body_markdown":"I make a request from Java:\r\n\r\n\r\n```\r\n  select array_agg(symptoms.*) from symptoms where sickId=1;\r\n```\r\nI get the result:\r\n\r\n\r\n```\r\n    {(1,&quot;Ларингит острый&quot;,t,t,t,t,t,t,t,t,f,f,f,f,f,f,f,f)}\r\n```\r\nThen I try to put it all into an array of objects in Java:\r\n\r\n```\r\n Object[] myField = (Object[]) resultSet.getArray(&quot;array_agg&quot;).getArray();\r\n```\r\nHe puts the whole result in the first cell of the array. And I need it to split the result into cells. For example:\r\n\r\n```\r\n    myField[0] = 1, myField[1]=&quot;Ларингит острый&quot;, myField[2] = true  etc\r\n```\r\n How to fix?\r\n\r\nI&#39;m trying to get a string from PostgreSQL with a specific index and convert it to an array of Object in Java.","title":"Array_agg From PostgreSQL To Java Array","body":"<p>I make a request from Java:</p>\n<pre><code>  select array_agg(symptoms.*) from symptoms where sickId=1;\n</code></pre>\n<p>I get the result:</p>\n<pre><code>    {(1,&quot;Ларингит острый&quot;,t,t,t,t,t,t,t,t,f,f,f,f,f,f,f,f)}\n</code></pre>\n<p>Then I try to put it all into an array of objects in Java:</p>\n<pre><code> Object[] myField = (Object[]) resultSet.getArray(&quot;array_agg&quot;).getArray();\n</code></pre>\n<p>He puts the whole result in the first cell of the array. And I need it to split the result into cells. For example:</p>\n<pre><code>    myField[0] = 1, myField[1]=&quot;Ларингит острый&quot;, myField[2] = true  etc\n</code></pre>\n<p>How to fix?</p>\n<p>I'm trying to get a string from PostgreSQL with a specific index and convert it to an array of Object in Java.</p>\n"},{"tags":["java","multithreading","variables","concurrency","javafx-11"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":2,"creation_date":1689415020,"post_id":76692643,"comment_id":135212436,"body_markdown":"I very much doubt whether someone will look at the code in your question and tell you how to fix the problem. I spotted at least one inconsistency in the code in your question, namely, in the code for the `#onActionMethod` you wrote: `StructureSolver solver = new StructureSolver();` however I don&#39;t see a no-args constructor in the code of class `StructureSolver` that you posted. Is that a mistake you made in your question? I suggest that you [edit] your question and post a [mcve].","body":"I very much doubt whether someone will look at the code in your question and tell you how to fix the problem. I spotted at least one inconsistency in the code in your question, namely, in the code for the <code>#onActionMethod</code> you wrote: <code>StructureSolver solver = new StructureSolver();</code> however I don&#39;t see a no-args constructor in the code of class <code>StructureSolver</code> that you posted. Is that a mistake you made in your question? I suggest that you <a href=\"https://stackoverflow.com/posts/76692643/edit\">edit</a> your question and post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1689531030,"post_id":76692643,"comment_id":135223259,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"owner":{"account_id":29021495,"reputation":1,"user_id":22230762,"display_name":"Mohammed Yasser"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689405517,"creation_date":1689405517,"question_id":76692643,"body_markdown":"I&#39;m working on this javaFX application that creates an object &quot;StructureNode&quot; and update it&#39;s data as you update the screen UI inputs and then I assign this object to &quot;TrussMember&quot; which holds two instances of &quot;StructureNode&quot; and finally the &quot;StructureSolver&quot; is used to retrieve the data in &quot;StructureNode&quot; that exist in every &quot;TrussMember&quot; and use it as indexes for matrices.\r\n\r\nthe problem is that all values are read successfully except these two integers `private int x_index=1 , y_index=2;` they always return the initial value no matter what is it zero or one or hundred this problem is driving me crazy hope you can help with it.    \r\n\r\n\r\n`StructureNode class` //the object encapsulates the data\r\n```\r\npublic class StructureNode {\r\n\r\n    .\r\n    .\r\n    .\r\n    private int x_index=0 , y_index=0;\r\n    .\r\n    .\r\n    .\r\n    public int getX_index() {\r\n        //System.out.println(&quot;x_index = &quot; + x_index);\r\n        return x_index;\r\n    }\r\n\r\n    public void setX_index(int nex_index) {\r\n        x_index = nex_index;\r\n        System.out.println(&quot;x_index changed to &quot; + x_index);\r\n    }\r\n\r\n    public int getY_index() {\r\n        //System.out.println(&quot;y_index = &quot; +y_index);\r\n        return y_index;\r\n    }\r\n\r\n    public void setY_index(int ney_index) {\r\n        y_index = ney_index;\r\n        System.out.println(&quot;y_index changed to &quot; + y_index);\r\n    }\r\n\r\n```\r\n\r\n`TrussModelBuider class` //the class that adds the &quot;StrutureNode&quot; to &quot;StructureMember&quot; and adds these members to a bigger model called &quot;Truss&quot;.\r\n\r\n```\r\npublic class TrussModelBuider{\r\n\r\n    private boolean isBuilt = false;\r\n    private Truss structure;\r\n\r\n    public TrussModelBuider(Truss truss){\r\n        structure = truss;\r\n    }\r\n\r\n    @Deprecated\r\n    public void addNode(double X, double Y){\r\n        StructureNode n = new StructureNode();\r\n        n.setCoordinates(new Coordinates(X, Y));\r\n        structure.addJoint(n);\r\n        System.out.println(&quot;+pt[&quot;+X+&quot;, &quot;+Y+&quot;]&quot;);\r\n    }\r\n    public void addNode(StructureNode n){\r\n        structure.addJoint(n);\r\n        System.out.println(&quot;+pt[&quot;+n.getCoordinates().getX_COO()+&quot;, &quot;+n.getCoordinates().getY_COO()+&quot;]&quot;);\r\n    }\r\n\r\n    public void removeNode(double X, double Y){\r\n        structure.getJoints().remove(findNodeIndex(X,Y));\r\n    }\r\n\r\n    private int findNodeIndex(double X, double Y){\r\n        int index = 0;\r\n        for (int i = 0; i &lt; structure.getJoints().size(); i++) {\r\n            if (structure.getJoints().get(i).getCoordinates().getX_COO()==X\r\n            &amp;&amp; structure.getJoints().get(i).getCoordinates().getY_COO()==Y) {\r\n                index = i;\r\n                break;\r\n            }\r\n        }\r\n        return index;\r\n    }\r\n\r\n    public void addMember(TrussMember member){\r\n        structure.addMember(member);\r\n        System.out.println(&quot;+mem &quot;+member.getID()+&quot;: &quot;+member.getStartJoint()+&quot;, &quot;+member.getEndJoint());\r\n    }\r\n    public void removeMember(int ID){\r\n        structure.getMembers().remove(findMember(ID));\r\n    }\r\n   \r\n\r\n}\r\n```\r\n\r\n\r\n```\r\npublic class StructureSolver {\r\n\r\n    private Truss structure;\r\n    .\r\n    .\r\n    .\r\n    public StructureSolver(Truss truss){\r\n        structure = truss;\r\n    }\r\n    .\r\n    .\r\n    .\r\n    public void setStructure(Truss structure) {\r\n        this.structure = structure;\r\n    }\r\n    .\r\n    .\r\n    .\r\n    private void createStructureStiffnessMatrix(){\r\n        K = new StiffnessMatrix(structure.getJoints().size()*2);\r\n        assignIds();\r\n\r\n        for (TrussMember member: structure.getMembers()) {\r\n\r\n            int Nx = member.getNx();\r\n            int Ny = member.getNy();\r\n\r\n            int Fx = member.getFx();\r\n            int Fy = member.getFy();\r\n\r\n            double lambdaX = calculateLambdaX(member);\r\n            double lambdaY = calculateLambdaY(member);\r\n\r\n            double lambdaXSq = lambdaX*lambdaX/ member.getLength();\r\n            double lambdaYSq = lambdaY*lambdaY/ member.getLength();\r\n            double lambdaXY = lambdaX*lambdaY/ member.getLength();\r\n```\r\n\r\n`TrussMember class`\r\n```\r\npublic class TrussMember {\r\n\r\n    private StructureNode startJoint, endJoint;\r\n    .\r\n    .\r\n    .\r\n    public TrussMember() {\r\n    }\r\n\r\n    public TrussMember(StructureNode startJoint, StructureNode endJoint) {\r\n        this.startJoint = startJoint;\r\n        this.endJoint = endJoint;\r\n    }\r\n    .\r\n    .\r\n    .    .\r\n    .\r\n    .\r\n    public double getLength() {\r\n        double calculatedLength = 0;\r\n        Point2D p1 = new Point2D(startJoint.getCoordinates().getX_COO(),\r\n                startJoint.getCoordinates().getY_COO());\r\n        Point2D p2 = new Point2D(endJoint.getCoordinates().getX_COO(),\r\n                endJoint.getCoordinates().getY_COO());\r\n        calculatedLength = p1.distance(p2);\r\n        return calculatedLength;\r\n    }\r\n\r\n    public StructureNode getStartJoint() {\r\n        return startJoint;\r\n    }\r\n\r\n    public void setStartJoint(StructureNode startJoint) {\r\n        this.startJoint = startJoint;\r\n    }\r\n\r\n    public StructureNode getEndJoint() {\r\n        return endJoint;\r\n    }\r\n\r\n    public int getNx(){return getStartJoint().getX_index();}\r\n    public int getNy(){return getStartJoint().getY_index();}\r\n\r\n    public int getFx(){return getEndJoint().getX_index();}\r\n    public int getFy(){return getEndJoint().getY_index();}\r\n\r\n}\r\n```\r\n\r\n\r\n`in the controller class #onActionMethod`\r\n\r\n```\r\n        StructureSolver solver = new StructureSolver();\r\n        solver.setStructure(truss);\r\n        solver.solve();\r\n```\r\n\r\n\r\nI tried using another thread and tried making them final with no initial value but always the same result.","title":"JavaFX problem only reads variable initial value and never the new one?","body":"<p>I'm working on this javaFX application that creates an object &quot;StructureNode&quot; and update it's data as you update the screen UI inputs and then I assign this object to &quot;TrussMember&quot; which holds two instances of &quot;StructureNode&quot; and finally the &quot;StructureSolver&quot; is used to retrieve the data in &quot;StructureNode&quot; that exist in every &quot;TrussMember&quot; and use it as indexes for matrices.</p>\n<p>the problem is that all values are read successfully except these two integers <code>private int x_index=1 , y_index=2;</code> they always return the initial value no matter what is it zero or one or hundred this problem is driving me crazy hope you can help with it.</p>\n<p><code>StructureNode class</code> //the object encapsulates the data</p>\n<pre><code>public class StructureNode {\n\n    .\n    .\n    .\n    private int x_index=0 , y_index=0;\n    .\n    .\n    .\n    public int getX_index() {\n        //System.out.println(&quot;x_index = &quot; + x_index);\n        return x_index;\n    }\n\n    public void setX_index(int nex_index) {\n        x_index = nex_index;\n        System.out.println(&quot;x_index changed to &quot; + x_index);\n    }\n\n    public int getY_index() {\n        //System.out.println(&quot;y_index = &quot; +y_index);\n        return y_index;\n    }\n\n    public void setY_index(int ney_index) {\n        y_index = ney_index;\n        System.out.println(&quot;y_index changed to &quot; + y_index);\n    }\n\n</code></pre>\n<p><code>TrussModelBuider class</code> //the class that adds the &quot;StrutureNode&quot; to &quot;StructureMember&quot; and adds these members to a bigger model called &quot;Truss&quot;.</p>\n<pre><code>public class TrussModelBuider{\n\n    private boolean isBuilt = false;\n    private Truss structure;\n\n    public TrussModelBuider(Truss truss){\n        structure = truss;\n    }\n\n    @Deprecated\n    public void addNode(double X, double Y){\n        StructureNode n = new StructureNode();\n        n.setCoordinates(new Coordinates(X, Y));\n        structure.addJoint(n);\n        System.out.println(&quot;+pt[&quot;+X+&quot;, &quot;+Y+&quot;]&quot;);\n    }\n    public void addNode(StructureNode n){\n        structure.addJoint(n);\n        System.out.println(&quot;+pt[&quot;+n.getCoordinates().getX_COO()+&quot;, &quot;+n.getCoordinates().getY_COO()+&quot;]&quot;);\n    }\n\n    public void removeNode(double X, double Y){\n        structure.getJoints().remove(findNodeIndex(X,Y));\n    }\n\n    private int findNodeIndex(double X, double Y){\n        int index = 0;\n        for (int i = 0; i &lt; structure.getJoints().size(); i++) {\n            if (structure.getJoints().get(i).getCoordinates().getX_COO()==X\n            &amp;&amp; structure.getJoints().get(i).getCoordinates().getY_COO()==Y) {\n                index = i;\n                break;\n            }\n        }\n        return index;\n    }\n\n    public void addMember(TrussMember member){\n        structure.addMember(member);\n        System.out.println(&quot;+mem &quot;+member.getID()+&quot;: &quot;+member.getStartJoint()+&quot;, &quot;+member.getEndJoint());\n    }\n    public void removeMember(int ID){\n        structure.getMembers().remove(findMember(ID));\n    }\n   \n\n}\n</code></pre>\n<pre><code>public class StructureSolver {\n\n    private Truss structure;\n    .\n    .\n    .\n    public StructureSolver(Truss truss){\n        structure = truss;\n    }\n    .\n    .\n    .\n    public void setStructure(Truss structure) {\n        this.structure = structure;\n    }\n    .\n    .\n    .\n    private void createStructureStiffnessMatrix(){\n        K = new StiffnessMatrix(structure.getJoints().size()*2);\n        assignIds();\n\n        for (TrussMember member: structure.getMembers()) {\n\n            int Nx = member.getNx();\n            int Ny = member.getNy();\n\n            int Fx = member.getFx();\n            int Fy = member.getFy();\n\n            double lambdaX = calculateLambdaX(member);\n            double lambdaY = calculateLambdaY(member);\n\n            double lambdaXSq = lambdaX*lambdaX/ member.getLength();\n            double lambdaYSq = lambdaY*lambdaY/ member.getLength();\n            double lambdaXY = lambdaX*lambdaY/ member.getLength();\n</code></pre>\n<p><code>TrussMember class</code></p>\n<pre><code>public class TrussMember {\n\n    private StructureNode startJoint, endJoint;\n    .\n    .\n    .\n    public TrussMember() {\n    }\n\n    public TrussMember(StructureNode startJoint, StructureNode endJoint) {\n        this.startJoint = startJoint;\n        this.endJoint = endJoint;\n    }\n    .\n    .\n    .    .\n    .\n    .\n    public double getLength() {\n        double calculatedLength = 0;\n        Point2D p1 = new Point2D(startJoint.getCoordinates().getX_COO(),\n                startJoint.getCoordinates().getY_COO());\n        Point2D p2 = new Point2D(endJoint.getCoordinates().getX_COO(),\n                endJoint.getCoordinates().getY_COO());\n        calculatedLength = p1.distance(p2);\n        return calculatedLength;\n    }\n\n    public StructureNode getStartJoint() {\n        return startJoint;\n    }\n\n    public void setStartJoint(StructureNode startJoint) {\n        this.startJoint = startJoint;\n    }\n\n    public StructureNode getEndJoint() {\n        return endJoint;\n    }\n\n    public int getNx(){return getStartJoint().getX_index();}\n    public int getNy(){return getStartJoint().getY_index();}\n\n    public int getFx(){return getEndJoint().getX_index();}\n    public int getFy(){return getEndJoint().getY_index();}\n\n}\n</code></pre>\n<p><code>in the controller class #onActionMethod</code></p>\n<pre><code>        StructureSolver solver = new StructureSolver();\n        solver.setStructure(truss);\n        solver.solve();\n</code></pre>\n<p>I tried using another thread and tried making them final with no initial value but always the same result.</p>\n"},{"tags":["java","automation","apk","appium","appium-android"],"comments":[{"owner":{"account_id":21257490,"reputation":76,"user_id":15638753,"display_name":"ChrisMersi"},"score":0,"creation_date":1689447515,"post_id":76692598,"comment_id":135216085,"body_markdown":"You are missing some required capabilities like `appium:automationName` and capabilities regarding the device information you want the automation to run for, like `appium:deviceName`. You can check more  [here](https://appium.io/docs/en/2.0/guides/caps/)","body":"You are missing some required capabilities like <code>appium:automationName</code> and capabilities regarding the device information you want the automation to run for, like <code>appium:deviceName</code>. You can check more  <a href=\"https://appium.io/docs/en/2.0/guides/caps/\" rel=\"nofollow noreferrer\">here</a>"},{"owner":{"account_id":29021492,"reputation":1,"user_id":22230759,"display_name":"Steve"},"score":0,"creation_date":1689493978,"post_id":76692598,"comment_id":135219186,"body_markdown":"After doing a lot of research, the problem was with apk I was using. Tried with new apk and it worked\nhttps://m.apkpure.com/automation-sample/com.dgotlieb.automationsample","body":"After doing a lot of research, the problem was with apk I was using. Tried with new apk and it worked <a href=\"https://m.apkpure.com/automation-sample/com.dgotlieb.automationsample\" rel=\"nofollow noreferrer\">m.apkpure.com/automation-sample/com.dgotlieb.automationsampl&zwnj;&#8203;e</a>"}],"owner":{"account_id":29021492,"reputation":1,"user_id":22230759,"display_name":"Steve"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689405280,"creation_date":1689404660,"question_id":76692598,"body_markdown":"I am trying to automate an APK using the Appium framework. \r\n\r\nI&#39;m getting the below error:\r\n\r\n    &gt; Exception occurred while executing &#39;start&#39;:\r\n    &gt; [debug] [W3C] java.lang.SecurityException: Permission Denial: starting Intent { act=android.intent.action.MAIN cat=[android.intent.category.LAUNCHER] flg=0x10200000 cmp=com.pnr.engproverbsandsayings/.EngProverbsActivity } from null (pid=10400, uid=2000) not exported from uid 10151\r\n    &gt; [debug] [W3C] \tat com.android.server.wm.ActivityTaskSupervisor.checkStartAnyActivityPermission(ActivityTaskSupervisor.java:1047)\r\n    &gt; [debug] [W3C] \tat com.android.server.wm.ActivityStarter.executeRequest(ActivityStarter.java:975)\r\n    &gt; [debug] [W3C] \tat com.android.server.wm.ActivityStarter.execute(ActivityStarter.java:665)\r\n    &gt; [debug] [W3C] \tat com.android.server.wm.ActivityTaskManagerService.startActivityAndWait(ActivityTaskManagerService.java:1441)\r\n    &gt; [debug] [W3C] \tat com.android.server.am.ActivityManagerService.startActivityAndWait(ActivityManagerService.java:2935)\r\n    \r\n### Java code for execution:\r\n    \r\n```\r\nAppiumDriver&lt;MobileElement&gt; driver = null;\r\nDesiredCapabilities desiredCapabilities = new DesiredCapabilities();\r\n\r\ndesiredCapabilities.setCapability(MobileCapabilityType.PLATFORM_NAME, &quot;ANDROID&quot;);\r\ndesiredCapabilities.setCapability(&quot;appPackage&quot;, &quot;com.pnr.engproverbsandsayings&quot;);\r\ndesiredCapabilities.setCapability(&quot;appActivity&quot;, &quot;com.pnr.engproverbsandsayings.EngProverbsActivity&quot;);\r\n    \r\ntry {\r\n    URL url = new URL(&quot;http://127.0.0.1:4723/wd/hub&quot;);\r\n    driver = new AndroidDriver&lt;MobileElement&gt;(url, desiredCapabilities);\r\n    System.out.println(&quot;Appium started&quot;);\r\n} catch (Exception e) {\r\n    System.out.println(e.getMessage());\r\n}\r\n```\r\nAndriodManifest.xml file is as follows:\r\n```\r\n   &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    package=&quot;com.example.myapplication&quot;&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.MyApplication&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:theme=&quot;@style/Theme.MyApplication.NoActionBar&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n```\r\n\r\n\r\nTried multiple solutions from stackoverflow but nothing is working\r\nhttps://stackoverflow.com/questions/4162447/android-java-lang-securityexception-permission-denial-start-intent\r\n\r\n","title":"Exception occurred while executing &#39;start&#39;: java.lang.SecurityException: Permission Denial: starting Intent","body":"<p>I am trying to automate an APK using the Appium framework.</p>\n<p>I'm getting the below error:</p>\n<pre><code>&gt; Exception occurred while executing 'start':\n&gt; [debug] [W3C] java.lang.SecurityException: Permission Denial: starting Intent { act=android.intent.action.MAIN cat=[android.intent.category.LAUNCHER] flg=0x10200000 cmp=com.pnr.engproverbsandsayings/.EngProverbsActivity } from null (pid=10400, uid=2000) not exported from uid 10151\n&gt; [debug] [W3C]     at com.android.server.wm.ActivityTaskSupervisor.checkStartAnyActivityPermission(ActivityTaskSupervisor.java:1047)\n&gt; [debug] [W3C]     at com.android.server.wm.ActivityStarter.executeRequest(ActivityStarter.java:975)\n&gt; [debug] [W3C]     at com.android.server.wm.ActivityStarter.execute(ActivityStarter.java:665)\n&gt; [debug] [W3C]     at com.android.server.wm.ActivityTaskManagerService.startActivityAndWait(ActivityTaskManagerService.java:1441)\n&gt; [debug] [W3C]     at com.android.server.am.ActivityManagerService.startActivityAndWait(ActivityManagerService.java:2935)\n</code></pre>\n<h3>Java code for execution:</h3>\n<pre><code>AppiumDriver&lt;MobileElement&gt; driver = null;\nDesiredCapabilities desiredCapabilities = new DesiredCapabilities();\n\ndesiredCapabilities.setCapability(MobileCapabilityType.PLATFORM_NAME, &quot;ANDROID&quot;);\ndesiredCapabilities.setCapability(&quot;appPackage&quot;, &quot;com.pnr.engproverbsandsayings&quot;);\ndesiredCapabilities.setCapability(&quot;appActivity&quot;, &quot;com.pnr.engproverbsandsayings.EngProverbsActivity&quot;);\n    \ntry {\n    URL url = new URL(&quot;http://127.0.0.1:4723/wd/hub&quot;);\n    driver = new AndroidDriver&lt;MobileElement&gt;(url, desiredCapabilities);\n    System.out.println(&quot;Appium started&quot;);\n} catch (Exception e) {\n    System.out.println(e.getMessage());\n}\n</code></pre>\n<p>AndriodManifest.xml file is as follows:</p>\n<pre><code>   &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    package=&quot;com.example.myapplication&quot;&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.MyApplication&quot;&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;\n            android:label=&quot;@string/app_name&quot;\n            android:theme=&quot;@style/Theme.MyApplication.NoActionBar&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<p>Tried multiple solutions from stackoverflow but nothing is working\n<a href=\"https://stackoverflow.com/questions/4162447/android-java-lang-securityexception-permission-denial-start-intent\">Android: java.lang.SecurityException: Permission Denial: start Intent</a></p>\n"},{"tags":["java","kotlin","mockito"],"owner":{"account_id":2854040,"reputation":215,"user_id":2450625,"accept_rate":71,"display_name":"SAR"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689405220,"creation_date":1689370666,"question_id":76691249,"body_markdown":"using Mockito 4, how can we mock below Builder class constructor?\r\n\r\n      val alias = &quot;some string&quot;\r\n      val purpose = 1 \r\n      val builder = KeyGenParameterSpec.Builder(alias, purpose)\r\n      val spec = builder.build()\r\n\r\n","title":"Mockito mock final static inner class constructor","body":"<p>using Mockito 4, how can we mock below Builder class constructor?</p>\n<pre><code>  val alias = &quot;some string&quot;\n  val purpose = 1 \n  val builder = KeyGenParameterSpec.Builder(alias, purpose)\n  val spec = builder.build()\n</code></pre>\n"},{"tags":["java","network-programming"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1359846423,"post_id":14666082,"comment_id":20501230,"body_markdown":"It&#39;s described in the Javadoc, which you have also misquoted.","body":"It&#39;s described in the Javadoc, which you have also misquoted."},{"owner":{"account_id":2190559,"reputation":1449,"user_id":1937725,"accept_rate":70,"display_name":"Rajat"},"score":2,"creation_date":1359967760,"post_id":14666082,"comment_id":20528410,"body_markdown":"Yeah, and I also wrote that I didn&#39;t understood it completely.","body":"Yeah, and I also wrote that I didn&#39;t understood it completely."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1689409245,"post_id":14666082,"comment_id":135211843,"body_markdown":"Misquoting it is a big part of that. Read what it actually says.","body":"Misquoting it is a big part of that. Read what it actually says."}],"answers":[{"tags":[],"owner":{"account_id":398383,"reputation":12130,"user_id":763029,"accept_rate":88,"display_name":"Caffeinated"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1359837106,"creation_date":1359836450,"answer_id":14666118,"question_id":14666082,"body_markdown":"I found this [in a sun-blog][1]:\r\n\r\n&gt;  But decided to keep it as is but use createUnresolved() to create an\r\n&gt; InetSocketAddress, so that we know what was used to instantiate it. If\r\n&gt; the user slapped in an IP address to begin with, we won&#39;t handle it.\r\n&gt; (I think it was indistinguishable before) The token will have whatever\r\n&gt; the user used (IP or name) in the beginning and in case of using name,\r\n&gt; the key to the token cache won&#39;t change even with addr changes. So the\r\n&gt; delegation token should continue to work.\r\n\r\nBasically, it&#39;s a half-baked InetSocketAddress - so it&#39;s not the final iteration. It&#39;s an intermediary step..\r\n\r\n\r\nAnd From API:\r\n\r\n&gt;  It can also be a pair (hostname + port number), in which case an\r\n&gt; attempt will be made to resolve the hostname.\r\n&gt; \r\n&gt;  If resolution fails then the address is said to be unresolved but can\r\n&gt; still be used on some circumstances like connecting through a proxy\r\n\r\nSo we didn&#39;t find the hostname, or the user-friendly &quot;www.abc.com&quot; method.\r\n\r\nBut if we are connecting via a proxy it&#39;s OK because that the proxy server handles the hostname  .\r\n\r\n\r\n  [1]: http://grokbase.com/t/hadoop/common-issues/117jsjk8d7/jira-created-hadoop-7472-rpc-client-should-deal-with-the-ip-address-changes","title":"unresolved socket address","body":"<p>I found this <a href=\"http://grokbase.com/t/hadoop/common-issues/117jsjk8d7/jira-created-hadoop-7472-rpc-client-should-deal-with-the-ip-address-changes\" rel=\"nofollow\">in a sun-blog</a>:</p>\n\n<blockquote>\n  <p>But decided to keep it as is but use createUnresolved() to create an\n  InetSocketAddress, so that we know what was used to instantiate it. If\n  the user slapped in an IP address to begin with, we won't handle it.\n  (I think it was indistinguishable before) The token will have whatever\n  the user used (IP or name) in the beginning and in case of using name,\n  the key to the token cache won't change even with addr changes. So the\n  delegation token should continue to work.</p>\n</blockquote>\n\n<p>Basically, it's a half-baked InetSocketAddress - so it's not the final iteration. It's an intermediary step..</p>\n\n<p>And From API:</p>\n\n<blockquote>\n  <p>It can also be a pair (hostname + port number), in which case an\n  attempt will be made to resolve the hostname.</p>\n  \n  <p>If resolution fails then the address is said to be unresolved but can\n  still be used on some circumstances like connecting through a proxy</p>\n</blockquote>\n\n<p>So we didn't find the hostname, or the user-friendly \"www.abc.com\" method.</p>\n\n<p>But if we are connecting via a proxy it's OK because that the proxy server handles the hostname  .</p>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1689409289,"post_id":41449313,"comment_id":135211850,"body_markdown":"The OP didn&#39;t have this exception. Didn&#39;t have any exception.","body":"The OP didn&#39;t have this exception. Didn&#39;t have any exception."}],"tags":[],"owner":{"account_id":2363141,"reputation":24680,"user_id":2069407,"accept_rate":73,"display_name":"s-hunter"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1689405085,"creation_date":1483465400,"answer_id":41449313,"question_id":14666082,"body_markdown":"I had the same exception: \r\n\r\n    java.net.UnknownHostException: Host is unresolved: https://www.google.com\r\n\r\nThe problem was because I added the protocol `https://` &lt;br&gt; \r\nand resolved after I removed it.\r\n\r\n\r\n    try {\r\n        Socket socket = new Socket();\r\n        socket.connect(new InetSocketAddress(&quot;www.google.com&quot;, 443), 100);\r\n        socket.close();\r\n        return true;\r\n    } catch (IOException e) {\r\n        e.printStackTrace();\r\n        return false;\r\n    }","title":"unresolved socket address","body":"<p>I had the same exception:</p>\n<pre><code>java.net.UnknownHostException: Host is unresolved: https://www.google.com\n</code></pre>\n<p>The problem was because I added the protocol <code>https://</code> <br>\nand resolved after I removed it.</p>\n<pre><code>try {\n    Socket socket = new Socket();\n    socket.connect(new InetSocketAddress(&quot;www.google.com&quot;, 443), 100);\n    socket.close();\n    return true;\n} catch (IOException e) {\n    e.printStackTrace();\n    return false;\n}\n</code></pre>\n"}],"owner":{"account_id":2190559,"reputation":1449,"user_id":1937725,"accept_rate":70,"display_name":"Rajat"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6826,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":2,"score":7,"last_activity_date":1689405085,"creation_date":1359836266,"question_id":14666082,"body_markdown":"This is more of a novice question, but I am unable to get the type of answer I am looking for on Google.\r\n\r\nI was reading the `InetSocketAddress` class in java.net package and I came across this method named `createUnresolved(String host, int port)`. This method creates an **unresolved** Socket.\r\n\r\nBasically what do we mean by unresolved ? I have come across this term often in errors while compiling a program but never have understood it completely. Can anyone please explain the general meaning in java, and meaning with context to the said method.\r\n\r\nThanks.","title":"unresolved socket address","body":"<p>This is more of a novice question, but I am unable to get the type of answer I am looking for on Google.</p>\n\n<p>I was reading the <code>InetSocketAddress</code> class in java.net package and I came across this method named <code>createUnresolved(String host, int port)</code>. This method creates an <strong>unresolved</strong> Socket.</p>\n\n<p>Basically what do we mean by unresolved ? I have come across this term often in errors while compiling a program but never have understood it completely. Can anyone please explain the general meaning in java, and meaning with context to the said method.</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","sql","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1689403039,"post_id":76692158,"comment_id":135211363,"body_markdown":"Your query doesn&#39;t select all the columns of the table, so when JPA tries to create a `compras` instance, it can&#39;t find the columns it needs. (by the way, please use Java naming conventions)","body":"Your query doesn&#39;t select all the columns of the table, so when JPA tries to create a <code>compras</code> instance, it can&#39;t find the columns it needs. (by the way, please use Java naming conventions)"},{"owner":{"account_id":26557153,"reputation":45,"user_id":20185593,"display_name":"Raknaros"},"score":0,"creation_date":1689403739,"post_id":76692158,"comment_id":135211405,"body_markdown":"@tgdavies can u explain me more pls","body":"@tgdavies can u explain me more pls"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1689404205,"post_id":76692158,"comment_id":135211436,"body_markdown":"When you create a `compras` instance, you need to give it a value for the `clasificacion_bienes_servicios` field. Your `@Query` ignores that column, so there is no value for that field.","body":"When you create a <code>compras</code> instance, you need to give it a value for the <code>clasificacion_bienes_servicios</code> field. Your <code>@Query</code> ignores that column, so there is no value for that field."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1689404255,"post_id":76692158,"comment_id":135211441,"body_markdown":"And why is your title different to you question?","body":"And why is your title different to you question?"}],"answers":[{"tags":[],"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689403838,"creation_date":1689403838,"answer_id":76692562,"question_id":76692158,"body_markdown":"It looks like you want to read only selected fields from the table. In this case you can&#39;t use the entity class in the result list. As explained in the comment by `@tgdavis`.\r\n\r\n**Solution**\r\n\r\nDefine a new class (POJO) containing only the fields you have in the select statement. Something like this:\r\n```\r\npublic class TablaPersonal {\r\n    private long id;\r\n    private Date fechaEmision;\r\n    private String numeroSerie;\r\n    // ...\r\n}\r\n```\r\nThen use it in the repo like this:\r\n```\r\nList&lt;TablaPersonal&gt; getTablaPersonal(...)\r\n```","title":"Unable to find column position by name: column1 [The column name column1 was not found in this ResultSet","body":"<p>It looks like you want to read only selected fields from the table. In this case you can't use the entity class in the result list. As explained in the comment by <code>@tgdavis</code>.</p>\n<p><strong>Solution</strong></p>\n<p>Define a new class (POJO) containing only the fields you have in the select statement. Something like this:</p>\n<pre><code>public class TablaPersonal {\n    private long id;\n    private Date fechaEmision;\n    private String numeroSerie;\n    // ...\n}\n</code></pre>\n<p>Then use it in the repo like this:</p>\n<pre><code>List&lt;TablaPersonal&gt; getTablaPersonal(...)\n</code></pre>\n"}],"owner":{"account_id":26557153,"reputation":45,"user_id":20185593,"display_name":"Raknaros"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1858,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1689403838,"creation_date":1689393334,"question_id":76692158,"body_markdown":"I have this Entity:\r\n\r\n    @Entity\r\n    @Table(name = &quot;_8&quot;, schema = &quot;acc&quot;)\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Getter\r\n    @Setter\r\n    public class compras {\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Id\r\n    @Column(name = &quot;id&quot;)\r\n    private long id;\r\n    @Basic\r\n    @Column(name = &quot;entity_id&quot;)\r\n    private Integer entityId;\r\n    @Basic\r\n    @Column(name = &quot;subdiario&quot;)\r\n    private Integer subdiario;\r\n    @Basic\r\n    @Column(name = &quot;periodo_tributario&quot;)\r\n    private Integer periodoTributario;\r\n    @Basic\r\n    @Column(name = &quot;tipo_operacion&quot;)\r\n    private Integer tipoOperacion;\r\n    @Basic\r\n    @Column(name = &quot;tipo_comprobante&quot;)\r\n    private Integer tipoComprobante;\r\n    @Basic\r\n    @Column(name = &quot;fecha_emision&quot;)\r\n    private Date fechaEmision;\r\n    @Basic\r\n    @Column(name = &quot;fecha_vencimiento&quot;)\r\n    private Date fechaVencimiento;\r\n    @Basic\r\n    @Column(name = &quot;numero_serie&quot;)\r\n    private String numeroSerie;\r\n    @Basic\r\n    @Column(name = &quot;numero_correlativo&quot;)\r\n    private String numeroCorrelativo;\r\n    @Basic\r\n    @Column(name = &quot;importe_final&quot;)\r\n    private Integer importeFinal;\r\n    @Basic\r\n    @Column(name = &quot;tipo_documento&quot;)\r\n    private String tipoDocumento;\r\n    @Basic\r\n    @Column(name = &quot;numero_documento&quot;)\r\n    private String numeroDocumento;\r\n    @Basic\r\n    @Column(name = &quot;clasificacion_bienes_servicios&quot;)\r\n    private Integer clasificacionBienesServicios;\r\n    @Basic\r\n    @Column(name = &quot;destino&quot;)\r\n    private Integer destino;\r\n    @Basic\r\n    @Column(name = &quot;valor&quot;)\r\n    private BigDecimal valor;\r\n    @Basic\r\n    @Column(name = &quot;icbp&quot;)\r\n    private BigDecimal icbp;\r\n    @Basic\r\n    @Column(name = &quot;isc&quot;)\r\n    private BigDecimal isc;\r\n    @Basic\r\n    @Column(name = &quot;otros_cargos&quot;)\r\n    private BigDecimal otrosCargos;\r\n    @Basic\r\n    @Column(name = &quot;tipo_moneda&quot;)\r\n    private String tipoMoneda;\r\n    @Basic\r\n    @Column(name = &quot;tasa_detraccion&quot;)\r\n    private Integer tasaDetraccion;\r\n    @Basic\r\n    @Column(name = &quot;tasa_percepcion&quot;)\r\n    private Integer tasaPercepcion;\r\n    @Basic\r\n    @Column(name = &quot;medio_pago&quot;)\r\n    private Integer medioPago;\r\n    @Basic\r\n    @Column(name = &quot;tipo_comprobante_modificado&quot;)\r\n    private Integer tipoComprobanteModificado;\r\n    @Basic\r\n    @Column(name = &quot;numero_serie_modificado&quot;)\r\n    private String numeroSerieModificado;\r\n    @Basic\r\n    @Column(name = &quot;numero_correlativo_modificado&quot;)\r\n    private Integer numeroCorrelativoModificado;\r\n    @Basic\r\n    @Column(name = &quot;glosa&quot;)\r\n    private String glosa;\r\n    @Basic\r\n    @Column(name = &quot;cui&quot;)\r\n    private String cui;\r\n    @Basic\r\n    @Column(name = &quot;observaciones&quot;)\r\n    private String observaciones;}\r\n\r\nAnd this Repository with a Native Query (\r\nI need this as native since it is an example to be able to map a more complex):\r\n\r\n    public interface ComprasRepo extends JpaRepository &lt;compras,Long&gt; {\r\n        List&lt;compras&gt; findAllByEntityId(int entityId);\r\n        @Query(value = &quot;SELECT id,fecha_emision AS FechaEmision, numero_serie AS NumeroSerie, numero_correlativo AS NumeroCorreltivo, valor AS Valor, igv AS IGV, icbp AS ICBP, isc AS ISC, otros_cargos AS OtrosCargos FROM acc._8 WHERE entity_id = :entity AND periodo_tributario = :periodo&quot;, nativeQuery = true)\r\n        List&lt;compras&gt; TablaPersonal(@Param(&quot;entity&quot;) Long entityId, @Param(&quot;periodo&quot;) Integer periodo);\r\n    }\r\n\r\nAnd when a try testing with: \r\n\r\n    @SpringBootTest\r\n    class DataWarehouseApplicationTests {\r\n    \t@Autowired\r\n    \tprivate ComprasRepo comprasRepo;\r\n    \t@Test\r\n    \tvoid contextLoads() {\r\n    \r\n    \t\tList&lt;compras&gt; resultado=comprasRepo.TablaPersonal(1L, 202201);\r\n    \t\tfor (compras record : resultado){\r\n    \t\t\tSystem.out.println(record);\r\n    \t\t};\r\n    \t}\r\n    }\r\n\r\nThis return this error:\r\n\r\n&gt; org.springframework.dao.InvalidDataAccessResourceUsageException:\r\n&gt; Unable to find column position by name: clasificacion_bienes_servicios\r\n&gt; [The column name clasificacion_bienes_servicios was not found in this\r\n&gt; ResultSet.] [n/a]; SQL [n/a]\r\n\r\n\r\nThe problem is, column A I don&#39;t want to retrieve, I don&#39;t know why the error says not found if it&#39;s not in the query either.\r\n\r\nPlease help.\r\n\r\nPD: The mapping of the entity is correct, it has already been tested with the FindAll method\r\n\r\n","title":"Unable to find column position by name: column1 [The column name column1 was not found in this ResultSet","body":"<p>I have this Entity:</p>\n<pre><code>@Entity\n@Table(name = &quot;_8&quot;, schema = &quot;acc&quot;)\n@AllArgsConstructor\n@NoArgsConstructor\n@Getter\n@Setter\npublic class compras {\n@GeneratedValue(strategy = GenerationType.IDENTITY)\n@Id\n@Column(name = &quot;id&quot;)\nprivate long id;\n@Basic\n@Column(name = &quot;entity_id&quot;)\nprivate Integer entityId;\n@Basic\n@Column(name = &quot;subdiario&quot;)\nprivate Integer subdiario;\n@Basic\n@Column(name = &quot;periodo_tributario&quot;)\nprivate Integer periodoTributario;\n@Basic\n@Column(name = &quot;tipo_operacion&quot;)\nprivate Integer tipoOperacion;\n@Basic\n@Column(name = &quot;tipo_comprobante&quot;)\nprivate Integer tipoComprobante;\n@Basic\n@Column(name = &quot;fecha_emision&quot;)\nprivate Date fechaEmision;\n@Basic\n@Column(name = &quot;fecha_vencimiento&quot;)\nprivate Date fechaVencimiento;\n@Basic\n@Column(name = &quot;numero_serie&quot;)\nprivate String numeroSerie;\n@Basic\n@Column(name = &quot;numero_correlativo&quot;)\nprivate String numeroCorrelativo;\n@Basic\n@Column(name = &quot;importe_final&quot;)\nprivate Integer importeFinal;\n@Basic\n@Column(name = &quot;tipo_documento&quot;)\nprivate String tipoDocumento;\n@Basic\n@Column(name = &quot;numero_documento&quot;)\nprivate String numeroDocumento;\n@Basic\n@Column(name = &quot;clasificacion_bienes_servicios&quot;)\nprivate Integer clasificacionBienesServicios;\n@Basic\n@Column(name = &quot;destino&quot;)\nprivate Integer destino;\n@Basic\n@Column(name = &quot;valor&quot;)\nprivate BigDecimal valor;\n@Basic\n@Column(name = &quot;icbp&quot;)\nprivate BigDecimal icbp;\n@Basic\n@Column(name = &quot;isc&quot;)\nprivate BigDecimal isc;\n@Basic\n@Column(name = &quot;otros_cargos&quot;)\nprivate BigDecimal otrosCargos;\n@Basic\n@Column(name = &quot;tipo_moneda&quot;)\nprivate String tipoMoneda;\n@Basic\n@Column(name = &quot;tasa_detraccion&quot;)\nprivate Integer tasaDetraccion;\n@Basic\n@Column(name = &quot;tasa_percepcion&quot;)\nprivate Integer tasaPercepcion;\n@Basic\n@Column(name = &quot;medio_pago&quot;)\nprivate Integer medioPago;\n@Basic\n@Column(name = &quot;tipo_comprobante_modificado&quot;)\nprivate Integer tipoComprobanteModificado;\n@Basic\n@Column(name = &quot;numero_serie_modificado&quot;)\nprivate String numeroSerieModificado;\n@Basic\n@Column(name = &quot;numero_correlativo_modificado&quot;)\nprivate Integer numeroCorrelativoModificado;\n@Basic\n@Column(name = &quot;glosa&quot;)\nprivate String glosa;\n@Basic\n@Column(name = &quot;cui&quot;)\nprivate String cui;\n@Basic\n@Column(name = &quot;observaciones&quot;)\nprivate String observaciones;}\n</code></pre>\n<p>And this Repository with a Native Query (\nI need this as native since it is an example to be able to map a more complex):</p>\n<pre><code>public interface ComprasRepo extends JpaRepository &lt;compras,Long&gt; {\n    List&lt;compras&gt; findAllByEntityId(int entityId);\n    @Query(value = &quot;SELECT id,fecha_emision AS FechaEmision, numero_serie AS NumeroSerie, numero_correlativo AS NumeroCorreltivo, valor AS Valor, igv AS IGV, icbp AS ICBP, isc AS ISC, otros_cargos AS OtrosCargos FROM acc._8 WHERE entity_id = :entity AND periodo_tributario = :periodo&quot;, nativeQuery = true)\n    List&lt;compras&gt; TablaPersonal(@Param(&quot;entity&quot;) Long entityId, @Param(&quot;periodo&quot;) Integer periodo);\n}\n</code></pre>\n<p>And when a try testing with:</p>\n<pre><code>@SpringBootTest\nclass DataWarehouseApplicationTests {\n    @Autowired\n    private ComprasRepo comprasRepo;\n    @Test\n    void contextLoads() {\n\n        List&lt;compras&gt; resultado=comprasRepo.TablaPersonal(1L, 202201);\n        for (compras record : resultado){\n            System.out.println(record);\n        };\n    }\n}\n</code></pre>\n<p>This return this error:</p>\n<blockquote>\n<p>org.springframework.dao.InvalidDataAccessResourceUsageException:\nUnable to find column position by name: clasificacion_bienes_servicios\n[The column name clasificacion_bienes_servicios was not found in this\nResultSet.] [n/a]; SQL [n/a]</p>\n</blockquote>\n<p>The problem is, column A I don't want to retrieve, I don't know why the error says not found if it's not in the query either.</p>\n<p>Please help.</p>\n<p>PD: The mapping of the entity is correct, it has already been tested with the FindAll method</p>\n"},{"tags":["java","maven","opencv","machine-learning","pytorch"],"answers":[{"tags":[],"owner":{"account_id":1408651,"reputation":1395,"user_id":1335717,"accept_rate":70,"display_name":"Martin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689403749,"creation_date":1689403749,"answer_id":76692557,"question_id":74649892,"body_markdown":"Have you tried adding the respective Pytorch dependency into your pom.xml according to https://github.com/deepjavalibrary/djl/discussions/126#discussioncomment-319676\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;ai.djl.pytorch&lt;/groupId&gt;\r\n            &lt;artifactId&gt;pytorch-model-zoo&lt;/artifactId&gt;\r\n            &lt;version&gt;${djl.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;","title":"ModelNotFoundException: ModelZoo doesn&#39;t support specified engine: PyTorch","body":"<p>Have you tried adding the respective Pytorch dependency into your pom.xml according to <a href=\"https://github.com/deepjavalibrary/djl/discussions/126#discussioncomment-319676\" rel=\"nofollow noreferrer\">https://github.com/deepjavalibrary/djl/discussions/126#discussioncomment-319676</a></p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;ai.djl.pytorch&lt;/groupId&gt;\n        &lt;artifactId&gt;pytorch-model-zoo&lt;/artifactId&gt;\n        &lt;version&gt;${djl.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":2218073,"reputation":970,"user_id":1958210,"accept_rate":44,"display_name":"Son"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":360,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1689403749,"creation_date":1669943744,"question_id":74649892,"body_markdown":"I&#39;m try to run some ML on Java (17) using Yolov5, DJL with OpenCV.\r\n\r\nI have built a model and exported to torchscript. When I run my code in IntelliJ all works fine, photos are processed and the object are recognized on them... great :)\r\n\r\nBut when I try to run this app outside IntelliJ i have problems.\r\nApplication is built using maven and maven-assembly-plugin with jar-with-dependencies.\r\n\r\nI run it using command:\r\n```\r\njava &quot;-Djava.library.path=C:\\Program Files\\OpenCV\\build\\java\\x64&quot; -jar app-0.1-SNAPSHOT-jar-with-dependencies.jar\r\n```\r\nin return I get:\r\n\r\n```\r\nException in thread &quot;main&quot; ai.djl.repository.zoo.ModelNotFoundException: ModelZoo doesn&#39;t support specified engine: PyTorch\r\n        at ai.djl.repository.zoo.Criteria.loadModel(Criteria.java:121)\r\n        at my.app.Yolov5.process(Yolov5.java:70)\r\n        at my.app.Main.main(Main.java:22)\r\n```\r\n\r\nIn pom I have dependencies to (0.19.0 versions + 4.5.5-0 in opencv [same as installed in OS]):\r\n\r\n - ai.djl:api\r\n - ai.djl:model-zoo\r\n - ai.djl.pytorch:pytorch-model-zoo\r\n - ai.djl.pytorch:pytorch-engine\r\n - ai.djl.pytorch:pytorch-native-auto\r\n - org.openpnp:opencv","title":"ModelNotFoundException: ModelZoo doesn&#39;t support specified engine: PyTorch","body":"<p>I'm try to run some ML on Java (17) using Yolov5, DJL with OpenCV.</p>\n<p>I have built a model and exported to torchscript. When I run my code in IntelliJ all works fine, photos are processed and the object are recognized on them... great :)</p>\n<p>But when I try to run this app outside IntelliJ i have problems.\nApplication is built using maven and maven-assembly-plugin with jar-with-dependencies.</p>\n<p>I run it using command:</p>\n<pre><code>java &quot;-Djava.library.path=C:\\Program Files\\OpenCV\\build\\java\\x64&quot; -jar app-0.1-SNAPSHOT-jar-with-dependencies.jar\n</code></pre>\n<p>in return I get:</p>\n<pre><code>Exception in thread &quot;main&quot; ai.djl.repository.zoo.ModelNotFoundException: ModelZoo doesn't support specified engine: PyTorch\n        at ai.djl.repository.zoo.Criteria.loadModel(Criteria.java:121)\n        at my.app.Yolov5.process(Yolov5.java:70)\n        at my.app.Main.main(Main.java:22)\n</code></pre>\n<p>In pom I have dependencies to (0.19.0 versions + 4.5.5-0 in opencv [same as installed in OS]):</p>\n<ul>\n<li>ai.djl:api</li>\n<li>ai.djl:model-zoo</li>\n<li>ai.djl.pytorch:pytorch-model-zoo</li>\n<li>ai.djl.pytorch:pytorch-engine</li>\n<li>ai.djl.pytorch:pytorch-native-auto</li>\n<li>org.openpnp:opencv</li>\n</ul>\n"},{"tags":["java","spring-boot","quartz-scheduler","java-threads","quartz"],"answers":[{"tags":[],"owner":{"account_id":26738302,"reputation":74,"user_id":20339497,"display_name":"HuaJFrame"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689403459,"creation_date":1689403459,"answer_id":76692545,"question_id":76569619,"body_markdown":"I think I found a solution.\r\nI added the quartz.properties file in the resources directory of the project and set the following content\r\n```\r\norg.quartz.jobStore.class=org.quartz.simpl.RAMJobStore\r\norg.quartz.jobStore.misfireThreshold=100\r\n# others\r\n```\r\nIn this way, I will not redo the work when I resume after a period of suspension, and the artificial operation can hardly be faster than 100ms\r\n\r\n[Quartz scheduler misfire instructions explained](https://nurkiewicz.com/2012/04/quartz-scheduler-misfire-instructions.html)\r\n\r\n[RAMJobStore](http://www.quartz-scheduler.org/documentation/quartz-2.3.0/tutorials/tutorial-lesson-09.html)\r\n\r\nI didn&#39;t add it to quartz.properties at first, but I set properties in SchedulerFactoryBean, but it didn&#39;t seem to take effect\r\n\r\nFor thread safety issues, I choose to lock for different jobkeys","title":"Quartz pauses for a period of time and then resumes, it will quickly execute the tasks during the pause, and then execute according to corn","body":"<p>I think I found a solution.\nI added the quartz.properties file in the resources directory of the project and set the following content</p>\n<pre><code>org.quartz.jobStore.class=org.quartz.simpl.RAMJobStore\norg.quartz.jobStore.misfireThreshold=100\n# others\n</code></pre>\n<p>In this way, I will not redo the work when I resume after a period of suspension, and the artificial operation can hardly be faster than 100ms</p>\n<p><a href=\"https://nurkiewicz.com/2012/04/quartz-scheduler-misfire-instructions.html\" rel=\"nofollow noreferrer\">Quartz scheduler misfire instructions explained</a></p>\n<p><a href=\"http://www.quartz-scheduler.org/documentation/quartz-2.3.0/tutorials/tutorial-lesson-09.html\" rel=\"nofollow noreferrer\">RAMJobStore</a></p>\n<p>I didn't add it to quartz.properties at first, but I set properties in SchedulerFactoryBean, but it didn't seem to take effect</p>\n<p>For thread safety issues, I choose to lock for different jobkeys</p>\n"}],"owner":{"account_id":26738302,"reputation":74,"user_id":20339497,"display_name":"HuaJFrame"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76692545,"answer_count":1,"score":0,"last_activity_date":1689403459,"creation_date":1687918081,"question_id":76569619,"body_markdown":"My English is not very good, I use Google Translate, which may cause trouble for everyone&#39;s reading, sorry\r\n\r\nI want to use quartz to implement a scheduled push task, but there are some problems;\r\n\r\nI will show my problems and attempts now, hoping to get help from everyone, thank you！\r\n\r\nI am not using a database for persistence , here is my test code for adding task，some location pointers that need to push data are recorded in the JobDataMap\r\n\r\n```\r\n@Override\r\n    public int addJob(JobInfo jobInfo) {\r\n        int result = 0;\r\n        int isJobExist = this.isJobExist(JobKey.jobKey(jobInfo.getJobName(), jobInfo.getJobGroup()));\r\n        if (isJobExist == 1) {\r\n            result = -1;\r\n            log.info(&quot;Task already exists&quot;);\r\n        } else {\r\n            try {\r\n                JobDetail jobDetail = null;\r\n                if (isJobExist == 0) {\r\n                    jobDetail = scheduler.getJobDetail(JobKey.jobKey(jobInfo.getJobName(), jobInfo.getJobGroup()));\r\n                } else if (isJobExist == -1) {\r\n                    jobDetail = JobBuilder.newJob(\r\n                            (Class&lt;? extends QuartzJobBean&gt;) Class.forName(jobInfo.getJobClassname()))\r\n                            .withIdentity(jobInfo.getJobName(), jobInfo.getJobGroup())\r\n                            .withDescription(jobInfo.getDescription())\r\n                            .storeDurably(jobInfo.isDurability()).build();\r\n                    if(jobInfo.getNpcParam() != null){\r\n                        jobDetail.getJobDataMap().put(NpcParam.NPC_JOB_PARAM, jobInfo.getNpcParam());\r\n                    }\r\n                }\r\n                // If the cron expression of jobInfo is empty, a regular task will be created, \r\n                // otherwise a periodic task will be created\r\n                if (!StringUtils.isEmpty(jobInfo.getCronExpression())) {\r\n                    CronTrigger cronTrigger = TriggerBuilder.newTrigger()\r\n                            .withIdentity(jobInfo.getTriggerName(), jobInfo.getTriggerGroup())\r\n                            .withSchedule(CronScheduleBuilder.cronSchedule(jobInfo.getCronExpression()))\r\n                            .build();\r\n                    scheduler.scheduleJob(jobDetail, cronTrigger);\r\n                } else {\r\n                    Trigger trigger = TriggerBuilder.newTrigger()\r\n                            .withIdentity(jobInfo.getJobName(), jobInfo.getJobGroup())\r\n                            .startAt(sdf.parse(jobInfo.getNextFireTime()))\r\n                            .withSchedule(SimpleScheduleBuilder.simpleSchedule().withRepeatCount(0))\r\n                            .build();\r\n                    scheduler.scheduleJob(jobDetail, trigger);\r\n                }\r\n            } catch (ClassNotFoundException e) {\r\n                result = 1;\r\n                log.error(&quot;The Class corresponding to the task does not exist!&quot;);\r\n            } catch (SchedulerException e) {\r\n                result = 2;\r\n                e.printStackTrace();\r\n                log.error(&quot;task scheduling failed&quot;);\r\n            } catch (ParseException e) {\r\n                result = 3;\r\n                log.error(&quot;time conversion error&quot;);\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n```\r\n\r\npause method\r\n\r\n```\r\nscheduler.pauseJob(JobKey.jobKey(jobName, jobGroup));\r\n```\r\n\r\nresume method\r\n\r\n```\r\nscheduler.resumeJob(JobKey.jobKey(jobName, jobGroup));\r\n```\r\n\r\nBut this will cause the problem in the title, the data will be pushed to the front end soon\r\n\r\nI try to delete the job while suspending the job, get the location pointer of the pushed data before deleting, and create a new job when continuing.\r\n\r\nWhile this solves the above problem, I think there may be hidden dangers:\r\n\r\nQuartz deletes the job and waits for the execution of the current job to complete. The deleted job and the scheduled job are two different threads, but I cannot ensure that the obtained location pointer is the latest, which will cause a set of already pushed data to be pushed next time.","title":"Quartz pauses for a period of time and then resumes, it will quickly execute the tasks during the pause, and then execute according to corn","body":"<p>My English is not very good, I use Google Translate, which may cause trouble for everyone's reading, sorry</p>\n<p>I want to use quartz to implement a scheduled push task, but there are some problems;</p>\n<p>I will show my problems and attempts now, hoping to get help from everyone, thank you！</p>\n<p>I am not using a database for persistence , here is my test code for adding task，some location pointers that need to push data are recorded in the JobDataMap</p>\n<pre><code>@Override\n    public int addJob(JobInfo jobInfo) {\n        int result = 0;\n        int isJobExist = this.isJobExist(JobKey.jobKey(jobInfo.getJobName(), jobInfo.getJobGroup()));\n        if (isJobExist == 1) {\n            result = -1;\n            log.info(&quot;Task already exists&quot;);\n        } else {\n            try {\n                JobDetail jobDetail = null;\n                if (isJobExist == 0) {\n                    jobDetail = scheduler.getJobDetail(JobKey.jobKey(jobInfo.getJobName(), jobInfo.getJobGroup()));\n                } else if (isJobExist == -1) {\n                    jobDetail = JobBuilder.newJob(\n                            (Class&lt;? extends QuartzJobBean&gt;) Class.forName(jobInfo.getJobClassname()))\n                            .withIdentity(jobInfo.getJobName(), jobInfo.getJobGroup())\n                            .withDescription(jobInfo.getDescription())\n                            .storeDurably(jobInfo.isDurability()).build();\n                    if(jobInfo.getNpcParam() != null){\n                        jobDetail.getJobDataMap().put(NpcParam.NPC_JOB_PARAM, jobInfo.getNpcParam());\n                    }\n                }\n                // If the cron expression of jobInfo is empty, a regular task will be created, \n                // otherwise a periodic task will be created\n                if (!StringUtils.isEmpty(jobInfo.getCronExpression())) {\n                    CronTrigger cronTrigger = TriggerBuilder.newTrigger()\n                            .withIdentity(jobInfo.getTriggerName(), jobInfo.getTriggerGroup())\n                            .withSchedule(CronScheduleBuilder.cronSchedule(jobInfo.getCronExpression()))\n                            .build();\n                    scheduler.scheduleJob(jobDetail, cronTrigger);\n                } else {\n                    Trigger trigger = TriggerBuilder.newTrigger()\n                            .withIdentity(jobInfo.getJobName(), jobInfo.getJobGroup())\n                            .startAt(sdf.parse(jobInfo.getNextFireTime()))\n                            .withSchedule(SimpleScheduleBuilder.simpleSchedule().withRepeatCount(0))\n                            .build();\n                    scheduler.scheduleJob(jobDetail, trigger);\n                }\n            } catch (ClassNotFoundException e) {\n                result = 1;\n                log.error(&quot;The Class corresponding to the task does not exist!&quot;);\n            } catch (SchedulerException e) {\n                result = 2;\n                e.printStackTrace();\n                log.error(&quot;task scheduling failed&quot;);\n            } catch (ParseException e) {\n                result = 3;\n                log.error(&quot;time conversion error&quot;);\n            }\n        }\n        return result;\n    }\n</code></pre>\n<p>pause method</p>\n<pre><code>scheduler.pauseJob(JobKey.jobKey(jobName, jobGroup));\n</code></pre>\n<p>resume method</p>\n<pre><code>scheduler.resumeJob(JobKey.jobKey(jobName, jobGroup));\n</code></pre>\n<p>But this will cause the problem in the title, the data will be pushed to the front end soon</p>\n<p>I try to delete the job while suspending the job, get the location pointer of the pushed data before deleting, and create a new job when continuing.</p>\n<p>While this solves the above problem, I think there may be hidden dangers:</p>\n<p>Quartz deletes the job and waits for the execution of the current job to complete. The deleted job and the scheduled job are two different threads, but I cannot ensure that the obtained location pointer is the latest, which will cause a set of already pushed data to be pushed next time.</p>\n"},{"tags":["java","windows","batch-file","tomcat"],"comments":[{"owner":{"account_id":323466,"reputation":14771,"user_id":643500,"display_name":"Sully"},"score":4,"creation_date":1473444309,"post_id":39417312,"comment_id":66159503,"body_markdown":"Change port 8009 or turn off the service using it","body":"Change port 8009 or turn off the service using it"},{"owner":{"account_id":5568649,"reputation":746,"user_id":4414875,"display_name":"Tacsiazuma"},"score":0,"creation_date":1473444459,"post_id":39417312,"comment_id":66159561,"body_markdown":"Try to run it as an administrator.","body":"Try to run it as an administrator."},{"owner":{"account_id":7951510,"reputation":584,"user_id":6002202,"accept_rate":42,"display_name":"subbu royal"},"score":0,"creation_date":1473444539,"post_id":39417312,"comment_id":66159601,"body_markdown":"@HithamS.AlQadheeb thanks for your reply which service do I need to turn off?","body":"@HithamS.AlQadheeb thanks for your reply which service do I need to turn off?"},{"owner":{"account_id":7951510,"reputation":584,"user_id":6002202,"accept_rate":42,"display_name":"subbu royal"},"score":0,"creation_date":1473444696,"post_id":39417312,"comment_id":66159676,"body_markdown":"@HithamS.AlQadheeb I changed port no `8009` and I am not getting first two exceptions but I am getting last exception `JVM_Bind`","body":"@HithamS.AlQadheeb I changed port no <code>8009</code> and I am not getting first two exceptions but I am getting last exception <code>JVM_Bind</code>"},{"owner":{"account_id":7951510,"reputation":584,"user_id":6002202,"accept_rate":42,"display_name":"subbu royal"},"score":0,"creation_date":1473444917,"post_id":39417312,"comment_id":66159795,"body_markdown":"@HithamS.AlQadheeb  thank you very much I changes port numbers, `8009` and `8005` like you suggested, now I am able to run my `tomcat9` with port no `9090` by using `startup.bat`  thanks a lot.","body":"@HithamS.AlQadheeb  thank you very much I changes port numbers, <code>8009</code> and <code>8005</code> like you suggested, now I am able to run my <code>tomcat9</code> with port no <code>9090</code> by using <code>startup.bat</code>  thanks a lot."},{"owner":{"account_id":5107530,"reputation":1799,"user_id":4095194,"display_name":"Dennis R"},"score":1,"creation_date":1473449453,"post_id":39417312,"comment_id":66162008,"body_markdown":"Run netstat -abno  as admin in windows to see which processes using which ports. In you case some other processed used the same ports. May be tomcat was running as a service","body":"Run netstat -abno  as admin in windows to see which processes using which ports. In you case some other processed used the same ports. May be tomcat was running as a service"}],"answers":[{"tags":[],"owner":{"account_id":289025,"reputation":319,"user_id":589763,"display_name":"Michael Akerman"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1473458960,"creation_date":1473458960,"answer_id":39420371,"question_id":39417312,"body_markdown":"Your error is with the AJP connector on port 8009.\r\n\r\nI&#39;d leave the 8080 connector the way that it was.\r\n\r\nSearch for this line and change it:\r\n\r\n    &lt;Connector port=&quot;8009&quot; protocol=&quot;AJP/1.3&quot; redirectPort=&quot;8443&quot; /&gt;\r\n\r\n","title":"Tomcat 9 getting BindException Address is already in use","body":"<p>Your error is with the AJP connector on port 8009.</p>\n\n<p>I'd leave the 8080 connector the way that it was.</p>\n\n<p>Search for this line and change it:</p>\n\n<pre><code>&lt;Connector port=\"8009\" protocol=\"AJP/1.3\" redirectPort=\"8443\" /&gt;\n</code></pre>\n"}],"owner":{"account_id":7951510,"reputation":584,"user_id":6002202,"accept_rate":42,"display_name":"subbu royal"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8232,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1689400935,"creation_date":1473444127,"question_id":39417312,"body_markdown":"I installed `tomcat 9` and tried to run `tomcat9.exe` by double clicking it expected server to start, instead I saw that command prompt is just closing immediately without starting the server. I am using `jdk 1.8`, I tried few solution to solve this problem like changing \r\n\r\n`call &quot;%EXECUTABLE%&quot; start %CMD_LINE_ARGS% ` to  `call &quot;%EXECUTABLE%&quot; run %CMD_LINE_ARGS%`   in `startup.bat`\r\n\r\nand even I set `JAVA_HOME` in `catalina.bat` \r\n\r\n`set JAVA_HOME=C:\\Program Files\\Java\\jdk1.8.0_101`\r\n\r\nafter above changes I tried to run `startup.bat` but I am getting below exception saying\r\n\r\n    09-Sep-2016 23:28:23.952 SEVERE [main] org.apache.coyote.AbstractProtocol.init Failed to initialize\r\n    end point associated with ProtocolHandler [&quot;ajp-nio-8009&quot;]\r\n     java.net.BindException: Address already in use: bind\r\n            at sun.nio.ch.Net.bind0(Native Method)\r\n            at sun.nio.ch.Net.bind(Net.java:433)\r\n            at sun.nio.ch.Net.bind(Net.java:425)\r\n            at sun.nio.ch.ServerSocketChannelImpl.bind(ServerSocketChannelImpl.java:223)\r\n            at sun.nio.ch.ServerSocketAdaptor.bind(ServerSocketAdaptor.java:74)\r\n            at org.apache.tomcat.util.net.NioEndpoint.bind(NioEndpoint.java:229)\r\n            at org.apache.tomcat.util.net.AbstractEndpoint.init(AbstractEndpoint.java:866)\r\n            at org.apache.coyote.AbstractProtocol.init(AbstractProtocol.java:575)\r\n            at org.apache.catalina.connector.Connector.initInternal(Connector.java:944)\r\n            at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:107)\r\n            at org.apache.catalina.core.StandardService.initInternal(StandardService.java:549)\r\n            at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:107)\r\n            at org.apache.catalina.core.StandardServer.initInternal(StandardServer.java:873)\r\n            at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:107)\r\n            at org.apache.catalina.startup.Catalina.load(Catalina.java:606)\r\n            at org.apache.catalina.startup.Catalina.load(Catalina.java:629)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n            at java.lang.reflect.Method.invoke(Method.java:498)\r\n            at org.apache.catalina.startup.Bootstrap.load(Bootstrap.java:311)\r\n            at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:494)\r\n    \r\n    09-Sep-2016 23:06:31.634 SEVERE [main] org.apache.catalina.core.StandardService.initInternal Failed\r\n    to initialize connector [Connector[AJP/1.3-8009]]\r\n     org.apache.catalina.LifecycleException: Failed to initialize component [Connector[AJP/1.3-8009]]\r\n            at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:113)\r\n            at org.apache.catalina.core.StandardService.initInternal(StandardService.java:549)\r\n            at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:107)\r\n            at org.apache.catalina.core.StandardServer.initInternal(StandardServer.java:873)\r\n            at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:107)\r\n            at org.apache.catalina.startup.Catalina.load(Catalina.java:606)\r\n            at org.apache.catalina.startup.Catalina.load(Catalina.java:629)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n            at java.lang.reflect.Method.invoke(Method.java:498)\r\n            at org.apache.catalina.startup.Bootstrap.load(Bootstrap.java:311)\r\n            at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:494)\r\n    Caused by: org.apache.catalina.LifecycleException: Protocol handler initialization failed\r\n            at org.apache.catalina.connector.Connector.initInternal(Connector.java:947)\r\n            at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:107)\r\n            ... 12 more\r\n    Caused by: java.net.BindException: Address already in use: bind\r\n            at sun.nio.ch.Net.bind0(Native Method)\r\n            at sun.nio.ch.Net.bind(Net.java:433)\r\n            at sun.nio.ch.Net.bind(Net.java:425)\r\n            at sun.nio.ch.ServerSocketChannelImpl.bind(ServerSocketChannelImpl.java:223)\r\n            at sun.nio.ch.ServerSocketAdaptor.bind(ServerSocketAdaptor.java:74)\r\n            at org.apache.tomcat.util.net.NioEndpoint.bind(NioEndpoint.java:229)\r\n            at org.apache.tomcat.util.net.AbstractEndpoint.init(AbstractEndpoint.java:866)\r\n            at org.apache.coyote.AbstractProtocol.init(AbstractProtocol.java:575)\r\n            at org.apache.catalina.connector.Connector.initInternal(Connector.java:944)\r\n            ... 13 more\r\n\r\n    09-Sep-2016 23:28:25.006 SEVERE [main] org.apache.catalina.core.StandardServer.await StandardServer.\r\n    await: create[localhost:8005]:\r\n     java.net.BindException: Address already in use: JVM_Bind\r\n            at java.net.DualStackPlainSocketImpl.bind0(Native Method)\r\n            at java.net.DualStackPlainSocketImpl.socketBind(DualStackPlainSocketImpl.java:106)\r\n            at java.net.AbstractPlainSocketImpl.bind(AbstractPlainSocketImpl.java:387)\r\n            at java.net.PlainSocketImpl.bind(PlainSocketImpl.java:190)\r\n            at java.net.ServerSocket.bind(ServerSocket.java:375)\r\n            at java.net.ServerSocket.&lt;init&gt;(ServerSocket.java:237)\r\n            at org.apache.catalina.core.StandardServer.await(StandardServer.java:441)\r\n            at org.apache.catalina.startup.Catalina.await(Catalina.java:743)\r\n            at org.apache.catalina.startup.Catalina.start(Catalina.java:689)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n            at java.lang.reflect.Method.invoke(Method.java:498)\r\n            at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:355)\r\n            at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:495)\r\n\r\nafter this I changed port number in `server.xml` from `8080` to `9090`\r\n\r\n      &lt;Connector port=&quot;9090&quot; protocol=&quot;HTTP/1.1&quot;\r\n                   connectionTimeout=&quot;20000&quot;\r\n                   redirectPort=&quot;8443&quot; /&gt;\r\n\r\nstill I am getting same exception can anyone help me how to solve this problem.\r\n\r\nI am unable to start the `tomcat server` by `tomcat9.exe` or `startup.bat`","title":"Tomcat 9 getting BindException Address is already in use","body":"<p>I installed <code>tomcat 9</code> and tried to run <code>tomcat9.exe</code> by double clicking it expected server to start, instead I saw that command prompt is just closing immediately without starting the server. I am using <code>jdk 1.8</code>, I tried few solution to solve this problem like changing </p>\n\n<p><code>call \"%EXECUTABLE%\" start %CMD_LINE_ARGS%</code> to  <code>call \"%EXECUTABLE%\" run %CMD_LINE_ARGS%</code>   in <code>startup.bat</code></p>\n\n<p>and even I set <code>JAVA_HOME</code> in <code>catalina.bat</code> </p>\n\n<p><code>set JAVA_HOME=C:\\Program Files\\Java\\jdk1.8.0_101</code></p>\n\n<p>after above changes I tried to run <code>startup.bat</code> but I am getting below exception saying</p>\n\n<pre><code>09-Sep-2016 23:28:23.952 SEVERE [main] org.apache.coyote.AbstractProtocol.init Failed to initialize\nend point associated with ProtocolHandler [\"ajp-nio-8009\"]\n java.net.BindException: Address already in use: bind\n        at sun.nio.ch.Net.bind0(Native Method)\n        at sun.nio.ch.Net.bind(Net.java:433)\n        at sun.nio.ch.Net.bind(Net.java:425)\n        at sun.nio.ch.ServerSocketChannelImpl.bind(ServerSocketChannelImpl.java:223)\n        at sun.nio.ch.ServerSocketAdaptor.bind(ServerSocketAdaptor.java:74)\n        at org.apache.tomcat.util.net.NioEndpoint.bind(NioEndpoint.java:229)\n        at org.apache.tomcat.util.net.AbstractEndpoint.init(AbstractEndpoint.java:866)\n        at org.apache.coyote.AbstractProtocol.init(AbstractProtocol.java:575)\n        at org.apache.catalina.connector.Connector.initInternal(Connector.java:944)\n        at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:107)\n        at org.apache.catalina.core.StandardService.initInternal(StandardService.java:549)\n        at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:107)\n        at org.apache.catalina.core.StandardServer.initInternal(StandardServer.java:873)\n        at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:107)\n        at org.apache.catalina.startup.Catalina.load(Catalina.java:606)\n        at org.apache.catalina.startup.Catalina.load(Catalina.java:629)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at org.apache.catalina.startup.Bootstrap.load(Bootstrap.java:311)\n        at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:494)\n\n09-Sep-2016 23:06:31.634 SEVERE [main] org.apache.catalina.core.StandardService.initInternal Failed\nto initialize connector [Connector[AJP/1.3-8009]]\n org.apache.catalina.LifecycleException: Failed to initialize component [Connector[AJP/1.3-8009]]\n        at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:113)\n        at org.apache.catalina.core.StandardService.initInternal(StandardService.java:549)\n        at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:107)\n        at org.apache.catalina.core.StandardServer.initInternal(StandardServer.java:873)\n        at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:107)\n        at org.apache.catalina.startup.Catalina.load(Catalina.java:606)\n        at org.apache.catalina.startup.Catalina.load(Catalina.java:629)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at org.apache.catalina.startup.Bootstrap.load(Bootstrap.java:311)\n        at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:494)\nCaused by: org.apache.catalina.LifecycleException: Protocol handler initialization failed\n        at org.apache.catalina.connector.Connector.initInternal(Connector.java:947)\n        at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:107)\n        ... 12 more\nCaused by: java.net.BindException: Address already in use: bind\n        at sun.nio.ch.Net.bind0(Native Method)\n        at sun.nio.ch.Net.bind(Net.java:433)\n        at sun.nio.ch.Net.bind(Net.java:425)\n        at sun.nio.ch.ServerSocketChannelImpl.bind(ServerSocketChannelImpl.java:223)\n        at sun.nio.ch.ServerSocketAdaptor.bind(ServerSocketAdaptor.java:74)\n        at org.apache.tomcat.util.net.NioEndpoint.bind(NioEndpoint.java:229)\n        at org.apache.tomcat.util.net.AbstractEndpoint.init(AbstractEndpoint.java:866)\n        at org.apache.coyote.AbstractProtocol.init(AbstractProtocol.java:575)\n        at org.apache.catalina.connector.Connector.initInternal(Connector.java:944)\n        ... 13 more\n\n09-Sep-2016 23:28:25.006 SEVERE [main] org.apache.catalina.core.StandardServer.await StandardServer.\nawait: create[localhost:8005]:\n java.net.BindException: Address already in use: JVM_Bind\n        at java.net.DualStackPlainSocketImpl.bind0(Native Method)\n        at java.net.DualStackPlainSocketImpl.socketBind(DualStackPlainSocketImpl.java:106)\n        at java.net.AbstractPlainSocketImpl.bind(AbstractPlainSocketImpl.java:387)\n        at java.net.PlainSocketImpl.bind(PlainSocketImpl.java:190)\n        at java.net.ServerSocket.bind(ServerSocket.java:375)\n        at java.net.ServerSocket.&lt;init&gt;(ServerSocket.java:237)\n        at org.apache.catalina.core.StandardServer.await(StandardServer.java:441)\n        at org.apache.catalina.startup.Catalina.await(Catalina.java:743)\n        at org.apache.catalina.startup.Catalina.start(Catalina.java:689)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:355)\n        at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:495)\n</code></pre>\n\n<p>after this I changed port number in <code>server.xml</code> from <code>8080</code> to <code>9090</code></p>\n\n<pre><code>  &lt;Connector port=\"9090\" protocol=\"HTTP/1.1\"\n               connectionTimeout=\"20000\"\n               redirectPort=\"8443\" /&gt;\n</code></pre>\n\n<p>still I am getting same exception can anyone help me how to solve this problem.</p>\n\n<p>I am unable to start the <code>tomcat server</code> by <code>tomcat9.exe</code> or <code>startup.bat</code></p>\n"},{"tags":["java","c#","memory"],"comments":[{"owner":{"account_id":5311013,"reputation":1462,"user_id":4237346,"display_name":"itwasntme"},"score":0,"creation_date":1439478504,"post_id":31991831,"comment_id":51888360,"body_markdown":"Could you give any example why would you measure Objects size?","body":"Could you give any example why would you measure Objects size?"},{"owner":{"account_id":62564,"reputation":43722,"user_id":2101267,"accept_rate":88,"display_name":"Dark Falcon"},"score":1,"creation_date":1439478569,"post_id":31991831,"comment_id":51888418,"body_markdown":"I&#39;d say the answers on that question elaborate quite a bit. What exactly don&#39;t you understand about it? Objects in many managed languages have additional overhead, which includes structures use for locking/gc/etc. They also may have padding to allow for aligned member access, and what and how much padding may vary based on architecture.","body":"I&#39;d say the answers on that question elaborate quite a bit. What exactly don&#39;t you understand about it? Objects in many managed languages have additional overhead, which includes structures use for locking/gc/etc. They also may have padding to allow for aligned member access, and what and how much padding may vary based on architecture."},{"owner":{"account_id":3109026,"reputation":1369,"user_id":2631220,"accept_rate":100,"display_name":"Ali Zahid"},"score":0,"creation_date":1439483368,"post_id":31991831,"comment_id":51891641,"body_markdown":"@DarkFalcon so two objects of the same class would have the same overheads? or are these random? is there a way to find out how many of such overheads exist and maybe even find out their sizes individually?","body":"@DarkFalcon so two objects of the same class would have the same overheads? or are these random? is there a way to find out how many of such overheads exist and maybe even find out their sizes individually?"},{"owner":{"account_id":3109026,"reputation":1369,"user_id":2631220,"accept_rate":100,"display_name":"Ali Zahid"},"score":0,"creation_date":1439483437,"post_id":31991831,"comment_id":51891675,"body_markdown":"@mastah say to find out which class on average takes up more memory  than the other","body":"@mastah say to find out which class on average takes up more memory  than the other"}],"answers":[{"comments":[{"owner":{"account_id":3883582,"reputation":32684,"user_id":3215527,"accept_rate":40,"display_name":"wero"},"score":1,"creation_date":1439495386,"post_id":31995411,"comment_id":51898180,"body_markdown":"The serialized bytes of an object are not a snapshot of the objects memory within the JVM, and therefore do not allow to calculate its memory size. For instance the serialized version of an object will contain its class name (as serialized string), whereas the JVM object only has pointer to a its class object. Still like your approach.","body":"The serialized bytes of an object are not a snapshot of the objects memory within the JVM, and therefore do not allow to calculate its memory size. For instance the serialized version of an object will contain its class name (as serialized string), whereas the JVM object only has pointer to a its class object. Still like your approach."},{"owner":{"account_id":6453072,"reputation":37996,"user_id":4999394,"accept_rate":98,"display_name":"Ravindra babu"},"score":0,"creation_date":1439518411,"post_id":31995411,"comment_id":51905781,"body_markdown":"The only problem with instrumentation api : It does not include size of other objects, which are part of this object. It&#39;s not deep size of the object.","body":"The only problem with instrumentation api : It does not include size of other objects, which are part of this object. It&#39;s not deep size of the object."},{"owner":{"account_id":3109026,"reputation":1369,"user_id":2631220,"accept_rate":100,"display_name":"Ali Zahid"},"score":0,"creation_date":1439520818,"post_id":31995411,"comment_id":51906257,"body_markdown":"@sunrise76 Thanks for your help! much appreciated!","body":"@sunrise76 Thanks for your help! much appreciated!"}],"tags":[],"owner":{"account_id":6453072,"reputation":37996,"user_id":4999394,"accept_rate":98,"display_name":"Ravindra babu"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1439489345,"creation_date":1439489032,"answer_id":31995411,"question_id":31991831,"body_markdown":"&gt;*  Getting size of object is easily possible.\r\n\r\n&gt;* Getting object size may have little overhead if the object is large and we use IO streams to get the size. \r\n\r\n&gt;* If you have to get size of larger objects very frequently, you have to be careful. \r\n \r\n&gt; Have a look at below code.\r\n\r\n     import java.io.*;  \r\n    \r\n        class ObjectData implements Serializable{\r\n            private int id=1;;\r\n            private String name=&quot;sunrise76&quot;;\r\n            private String city = &quot;Newyork&quot;;\r\n            private int dimensitons[] = {20,45,789}; \r\n        }\r\n    \r\n        public class ObjectSize{\r\n            public static void main(String args[]){\r\n                try{\r\n                ObjectData data = new ObjectData();\r\n                ByteArrayOutputStream b = new ByteArrayOutputStream();\r\n                ObjectOutputStream oos = new ObjectOutputStream(b);\r\n                oos.writeObject(data);\r\n                System.out.println(&quot;Size:&quot;+b.toByteArray().length);\r\n                }catch(Exception err){\r\n                    err.printStackTrace();\r\n                }\r\n            }\r\n        }","title":"Why can&#39;t object size be measured in a managed environment?","body":"<blockquote>\n  <ul>\n  <li><p>Getting size of object is easily possible.</p></li>\n  <li><p>Getting object size may have little overhead if the object is large and we use IO streams to get the size. </p></li>\n  <li><p>If you have to get size of larger objects very frequently, you have to be careful. </p></li>\n  </ul>\n  \n  <p>Have a look at below code.</p>\n</blockquote>\n\n<pre><code> import java.io.*;  \n\n    class ObjectData implements Serializable{\n        private int id=1;;\n        private String name=\"sunrise76\";\n        private String city = \"Newyork\";\n        private int dimensitons[] = {20,45,789}; \n    }\n\n    public class ObjectSize{\n        public static void main(String args[]){\n            try{\n            ObjectData data = new ObjectData();\n            ByteArrayOutputStream b = new ByteArrayOutputStream();\n            ObjectOutputStream oos = new ObjectOutputStream(b);\n            oos.writeObject(data);\n            System.out.println(\"Size:\"+b.toByteArray().length);\n            }catch(Exception err){\n                err.printStackTrace();\n            }\n        }\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3109026,"reputation":1369,"user_id":2631220,"accept_rate":100,"display_name":"Ali Zahid"},"score":0,"creation_date":1439520921,"post_id":31997022,"comment_id":51906280,"body_markdown":"Makes sense now! Thanks for your help!","body":"Makes sense now! Thanks for your help!"}],"tags":[],"owner":{"account_id":3883582,"reputation":32684,"user_id":3215527,"accept_rate":40,"display_name":"wero"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1439494756,"creation_date":1439494756,"answer_id":31997022,"question_id":31991831,"body_markdown":"I guess from the tags that you are asking about measurements of object sizes  in Java and C#. Don&#39;t know much about C# therefore the following only pertains to Java. \r\n\r\nAlso there is a difference between the shallow and detained size of a single object and I suppose you are asking about the shallow size (which would be the base to derive the detained size).\r\n\r\nI also interpret your term *managed environment* that you only want to know the size of an object at **runtime in a specific JVM** (not for instance calculating the size looking only at source code).\r\n\r\nMy short answers first:\r\n\r\n   - Does it **make sense** to measure object sizes? Yes it does. Any developer of an application which runs under memory constraints is happy to know the memory implications of class layouts and object allocations.\r\n   - Is it **impossible** to measure in managed environments? No it is not.  The JVM must know about the size of its objects and therefore must be able to report the size of an object. If we only had a way to ask for it.\r\n\r\nLong answer:\r\n\r\nThere are plenty of reasons why the object size cannot be derived from the class definition alone, for example:\r\n\r\n- The Java language spec only gives lowerbound memory requirements for primitive types. A `int` consumes at least 4 bytes, but the real size is up to the VM. \r\n\r\n- Not sure what the language spec tells about the size of references. Is there  any constraint on the number of possible objects in a JVM (which would have implications for the size of internal storage for object references)? Today&#39;s JVMs use 4 bytes for a reference pointer.\r\n\r\n- JVMs may (and do) pad the object bytes to align at some boundary which may extend the object size. Todays JVMs usually align object memory at a 8 byte boundary.\r\n\r\nBut all these reasons do not apply to a JVM runtime which uses actual memory layouts, eventually allows its generational garbage collector to push objects around, and must therefore be able to report object sizes.\r\n\r\nSo how do we know about object sizes at runtime?\r\nIn Java 1.5 we got `java.lang.instrument.Instrumentation#getObjectSize(Object)`.\r\nThe Javadoc says:\r\n\r\n&gt; Returns an implementation-specific approximation of the amount of\r\n&gt; storage consumed by the specified object. The result may include some\r\n&gt; or all of the object&#39;s overhead, and thus is useful for comparison\r\n&gt; within an implementation but not between implementations. The estimate\r\n&gt; may change during a single invocation of the JVM.\r\n\r\nReading with a grain of salt this tells me that there is a reasonable way to get the exact shallow size of an object during one point at runtime.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Why can&#39;t object size be measured in a managed environment?","body":"<p>I guess from the tags that you are asking about measurements of object sizes  in Java and C#. Don't know much about C# therefore the following only pertains to Java. </p>\n\n<p>Also there is a difference between the shallow and detained size of a single object and I suppose you are asking about the shallow size (which would be the base to derive the detained size).</p>\n\n<p>I also interpret your term <em>managed environment</em> that you only want to know the size of an object at <strong>runtime in a specific JVM</strong> (not for instance calculating the size looking only at source code).</p>\n\n<p>My short answers first:</p>\n\n<ul>\n<li>Does it <strong>make sense</strong> to measure object sizes? Yes it does. Any developer of an application which runs under memory constraints is happy to know the memory implications of class layouts and object allocations.</li>\n<li>Is it <strong>impossible</strong> to measure in managed environments? No it is not.  The JVM must know about the size of its objects and therefore must be able to report the size of an object. If we only had a way to ask for it.</li>\n</ul>\n\n<p>Long answer:</p>\n\n<p>There are plenty of reasons why the object size cannot be derived from the class definition alone, for example:</p>\n\n<ul>\n<li><p>The Java language spec only gives lowerbound memory requirements for primitive types. A <code>int</code> consumes at least 4 bytes, but the real size is up to the VM. </p></li>\n<li><p>Not sure what the language spec tells about the size of references. Is there  any constraint on the number of possible objects in a JVM (which would have implications for the size of internal storage for object references)? Today's JVMs use 4 bytes for a reference pointer.</p></li>\n<li><p>JVMs may (and do) pad the object bytes to align at some boundary which may extend the object size. Todays JVMs usually align object memory at a 8 byte boundary.</p></li>\n</ul>\n\n<p>But all these reasons do not apply to a JVM runtime which uses actual memory layouts, eventually allows its generational garbage collector to push objects around, and must therefore be able to report object sizes.</p>\n\n<p>So how do we know about object sizes at runtime?\nIn Java 1.5 we got <code>java.lang.instrument.Instrumentation#getObjectSize(Object)</code>.\nThe Javadoc says:</p>\n\n<blockquote>\n  <p>Returns an implementation-specific approximation of the amount of\n  storage consumed by the specified object. The result may include some\n  or all of the object's overhead, and thus is useful for comparison\n  within an implementation but not between implementations. The estimate\n  may change during a single invocation of the JVM.</p>\n</blockquote>\n\n<p>Reading with a grain of salt this tells me that there is a reasonable way to get the exact shallow size of an object during one point at runtime.</p>\n"},{"tags":[],"owner":{"account_id":25372528,"reputation":31,"user_id":19186098,"display_name":"Amin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689400833,"creation_date":1689400279,"answer_id":76692405,"question_id":31991831,"body_markdown":"Getting the memory size of managed types is not a straightforward task in C#. I faced a similar problem and would like to share my solution to this issue.\r\n\r\nOne approach is to use the JSON serializer to convert the object to a byte array and estimate its size. However, this method is not effective for large objects exceeding 1 GB in size.\r\n\r\nAn alternative solution is using the [ManagedObjectSize][1] NuGet package, which accesses the memory layout and properties of managed objects to calculate their size accurately. While this package can be useful for optimizing memory usage and performance, it can also be a time-consuming process, so it should be used carefully.\r\n\r\n\r\n  [1]: https://github.com/cklutz/ManagedObjectSize","title":"Why can&#39;t object size be measured in a managed environment?","body":"<p>Getting the memory size of managed types is not a straightforward task in C#. I faced a similar problem and would like to share my solution to this issue.</p>\n<p>One approach is to use the JSON serializer to convert the object to a byte array and estimate its size. However, this method is not effective for large objects exceeding 1 GB in size.</p>\n<p>An alternative solution is using the <a href=\"https://github.com/cklutz/ManagedObjectSize\" rel=\"nofollow noreferrer\">ManagedObjectSize</a> NuGet package, which accesses the memory layout and properties of managed objects to calculate their size accurately. While this package can be useful for optimizing memory usage and performance, it can also be a time-consuming process, so it should be used carefully.</p>\n"}],"owner":{"account_id":3109026,"reputation":1369,"user_id":2631220,"accept_rate":100,"display_name":"Ali Zahid"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":233,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":31997022,"answer_count":3,"score":2,"last_activity_date":1689400833,"creation_date":1439477923,"question_id":31991831,"body_markdown":"So a number of variations of a question exist here on stackoverflow that ask how to measure the size of an object (for example [this one](https://stackoverflow.com/questions/207592/getting-the-size-of-a-field-in-bytes-with-c-sharp)). And the answers point to the fact, without much elaboration, that it is not possible. Can somebody explain in length why is it not possible or why does it not make sense to measure object sizes?","title":"Why can&#39;t object size be measured in a managed environment?","body":"<p>So a number of variations of a question exist here on stackoverflow that ask how to measure the size of an object (for example <a href=\"https://stackoverflow.com/questions/207592/getting-the-size-of-a-field-in-bytes-with-c-sharp\">this one</a>). And the answers point to the fact, without much elaboration, that it is not possible. Can somebody explain in length why is it not possible or why does it not make sense to measure object sizes?</p>\n"},{"tags":["java","pyspark"],"owner":{"account_id":8187843,"reputation":1,"user_id":6163108,"display_name":"Dpka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689400747,"creation_date":1689353727,"question_id":76689771,"body_markdown":"version details:\r\n```\r\nPython 3.10.9\r\nPySpark  version 3.2.4\r\nJava version &quot;1.8.0_202&quot;\r\n```\r\nI have been getting an error when executing PySpark.\r\n```\r\nTypeError: &#39;JavaPackage&#39; object is not callable in PySpark \r\n```\r\ncode:\r\n```\r\nfrom IPython.core.interactiveshell import InteractiveShell\r\nInteractiveShell.ast_node_interactivity = &quot;all&quot;\r\n\r\nfrom pyspark import SparkContext, SparkConf\r\nsc = SparkContext()\r\n\r\ninputWords = [&quot;c&quot;, &quot;c++&quot;, &quot;java&quot;, &quot;.net&quot;, &quot;python&quot;, &quot;sql&quot;, &quot;angular&quot;,&quot;react&quot;,&quot;azure&quot;]\r\n\r\nwordRdd = sc.parallelize(inputWords)\r\nwords = wordRdd.take(3)   #Errors on this line\r\n```\r\nAny help is much appreciated!\r\nI tried setting JAVA_HOME in environment variables. While the error did not go away.","title":"TypeError: &#39;JavaPackage&#39; object is not callable in PySpark","body":"<p>version details:</p>\n<pre><code>Python 3.10.9\nPySpark  version 3.2.4\nJava version &quot;1.8.0_202&quot;\n</code></pre>\n<p>I have been getting an error when executing PySpark.</p>\n<pre><code>TypeError: 'JavaPackage' object is not callable in PySpark \n</code></pre>\n<p>code:</p>\n<pre><code>from IPython.core.interactiveshell import InteractiveShell\nInteractiveShell.ast_node_interactivity = &quot;all&quot;\n\nfrom pyspark import SparkContext, SparkConf\nsc = SparkContext()\n\ninputWords = [&quot;c&quot;, &quot;c++&quot;, &quot;java&quot;, &quot;.net&quot;, &quot;python&quot;, &quot;sql&quot;, &quot;angular&quot;,&quot;react&quot;,&quot;azure&quot;]\n\nwordRdd = sc.parallelize(inputWords)\nwords = wordRdd.take(3)   #Errors on this line\n</code></pre>\n<p>Any help is much appreciated!\nI tried setting JAVA_HOME in environment variables. While the error did not go away.</p>\n"},{"tags":["java","hibernate","jpa","design-patterns","orm"],"comments":[{"owner":{"account_id":1936546,"reputation":133675,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"score":2,"creation_date":1441704329,"post_id":32453989,"comment_id":52770184,"body_markdown":"Use lazy-loading: http://stackoverflow.com/q/2192242/","body":"Use lazy-loading: <a href=\"http://stackoverflow.com/q/2192242/\">stackoverflow.com/q/2192242</a>"},{"owner":{"account_id":341185,"reputation":16364,"user_id":671639,"accept_rate":69,"display_name":"BetaRide"},"score":24,"creation_date":1441707735,"post_id":32453989,"comment_id":52772498,"body_markdown":"@Tunaki: That&#39;s wrong. Whether you have eager or lazy loading does say when the select is executed. It does not at all avoid the N+1 issue.","body":"@Tunaki: That&#39;s wrong. Whether you have eager or lazy loading does say when the select is executed. It does not at all avoid the N+1 issue."},{"owner":{"account_id":69386,"reputation":5102,"user_id":201891,"accept_rate":85,"display_name":"DavidS"},"score":2,"creation_date":1573065666,"post_id":32453989,"comment_id":103763323,"body_markdown":"@BetaRide, maybe I&#39;m misunderstanding your comment, but despite your seven upvotes it sounds completely wrong. Eager fetching does absolutely avoid the N+1 issue. See point 3 of this [blog post by a JPA expert](https://thoughts-on-java.org/common-hibernate-mistakes-cripple-performance/).","body":"@BetaRide, maybe I&#39;m misunderstanding your comment, but despite your seven upvotes it sounds completely wrong. Eager fetching does absolutely avoid the N+1 issue. See point 3 of this <a href=\"https://thoughts-on-java.org/common-hibernate-mistakes-cripple-performance/\" rel=\"nofollow noreferrer\">blog post by a JPA expert</a>."}],"answers":[{"comments":[{"owner":{"account_id":4665646,"reputation":578,"user_id":3778769,"display_name":"faizan"},"score":0,"creation_date":1504873154,"post_id":32454317,"comment_id":79194814,"body_markdown":"What can I do if I am updating a set of objects of same entity in a single transaction, the orm layer issues multiple updates but I want one update statement to work. Is that doable? How?","body":"What can I do if I am updating a set of objects of same entity in a single transaction, the orm layer issues multiple updates but I want one update statement to work. Is that doable? How?"}],"tags":[],"owner":{"account_id":6739555,"reputation":2194,"user_id":5193194,"display_name":"karim mohsen"},"comment_count":1,"down_vote_count":0,"up_vote_count":43,"is_accepted":true,"score":43,"last_activity_date":1600954934,"creation_date":1441705211,"answer_id":32454317,"question_id":32453989,"body_markdown":"Suppose we have a class Manufacturer with a many-to-one relationship with Contact.\r\n\r\nWe solve this problem by making sure that the initial query fetches all the data needed to load the objects we need in their appropriately initialized state. One way of doing this is using an HQL fetch join. We use the HQL\r\n\r\n    &quot;from Manufacturer manufacturer join fetch manufacturer.contact contact&quot;\r\n\r\nwith the fetch statement. This results in an inner join:\r\n\r\n    select MANUFACTURER.id from manufacturer and contact ... from \r\n    MANUFACTURER inner join CONTACT on MANUFACTURER.CONTACT_ID=CONTACT.id\r\nUsing a Criteria query we can get the same result from\r\n\r\n    Criteria criteria = session.createCriteria(Manufacturer.class);\r\n    criteria.setFetchMode(&quot;contact&quot;, FetchMode.EAGER);\r\nwhich creates the SQL :\r\n \r\n\r\n    select MANUFACTURER.id from MANUFACTURER left outer join CONTACT on \r\n    MANUFACTURER.CONTACT_ID=CONTACT.id where 1=1\r\nin both cases, our query returns a list of Manufacturer objects with the contact initialized. Only one query needs to be run to return all the contact and manufacturer information required\r\n\r\nfor further information here is a link to the [problem and the solution][1].\r\n\r\n\r\n  [1]: https://www.javacodemonk.com/n-1-problem-in-hibernate-spring-data-jpa-894097b9#:~:text=N%2B1%20problem%20is%20a,catch%20and%20prevent%20this%20problem.","title":"What is the solution for the N+1 issue in JPA and Hibernate?","body":"<p>Suppose we have a class Manufacturer with a many-to-one relationship with Contact.</p>\n<p>We solve this problem by making sure that the initial query fetches all the data needed to load the objects we need in their appropriately initialized state. One way of doing this is using an HQL fetch join. We use the HQL</p>\n<pre><code>&quot;from Manufacturer manufacturer join fetch manufacturer.contact contact&quot;\n</code></pre>\n<p>with the fetch statement. This results in an inner join:</p>\n<pre><code>select MANUFACTURER.id from manufacturer and contact ... from \nMANUFACTURER inner join CONTACT on MANUFACTURER.CONTACT_ID=CONTACT.id\n</code></pre>\n<p>Using a Criteria query we can get the same result from</p>\n<pre><code>Criteria criteria = session.createCriteria(Manufacturer.class);\ncriteria.setFetchMode(&quot;contact&quot;, FetchMode.EAGER);\n</code></pre>\n<p>which creates the SQL :</p>\n<pre><code>select MANUFACTURER.id from MANUFACTURER left outer join CONTACT on \nMANUFACTURER.CONTACT_ID=CONTACT.id where 1=1\n</code></pre>\n<p>in both cases, our query returns a list of Manufacturer objects with the contact initialized. Only one query needs to be run to return all the contact and manufacturer information required</p>\n<p>for further information here is a link to the <a href=\"https://www.javacodemonk.com/n-1-problem-in-hibernate-spring-data-jpa-894097b9#:%7E:text=N%2B1%20problem%20is%20a,catch%20and%20prevent%20this%20problem.\" rel=\"noreferrer\">problem and the solution</a>.</p>\n"},{"comments":[{"owner":{"account_id":6531759,"reputation":1523,"user_id":5052704,"accept_rate":83,"display_name":"Vipul Agarwal"},"score":2,"creation_date":1441711638,"post_id":32456516,"comment_id":52775128,"body_markdown":"I think batch fetching or lazy loading is just delaying the queries and not actually avoiding the multiple queries. This doesn&#39;t solve the problem as such. It just is one way to have less impact of it.","body":"I think batch fetching or lazy loading is just delaying the queries and not actually avoiding the multiple queries. This doesn&#39;t solve the problem as such. It just is one way to have less impact of it."},{"owner":{"account_id":1853233,"reputation":122831,"user_id":1679310,"display_name":"Radim K&#246;hler"},"score":0,"creation_date":1441711905,"post_id":32456516,"comment_id":52775286,"body_markdown":"The fact is, that I use this setting on every Class and every collection. Every. Whenever I load list of some entity, and touch its reference or collection ... only ONE (well depends on batch size) SELECT for all of them (1 + 1) is executed. **That&#39;s the real, built in solution for 1 + N.** Even more, we do not have to change our queries (to use Fetch.mode on some references or collection)... we can query just root entity... with very few SELECT later (lazily) we get all loaded... hope it is clear a bit more ;)","body":"The fact is, that I use this setting on every Class and every collection. Every. Whenever I load list of some entity, and touch its reference or collection ... only ONE (well depends on batch size) SELECT for all of them (1 + 1) is executed. <b>That&#39;s the real, built in solution for 1 + N.</b> Even more, we do not have to change our queries (to use Fetch.mode on some references or collection)... we can query just root entity... with very few SELECT later (lazily) we get all loaded... hope it is clear a bit more ;)"},{"owner":{"account_id":6093107,"reputation":23152,"user_id":4754790,"accept_rate":94,"display_name":"Dragan Bozanovic"},"score":2,"creation_date":1441716933,"post_id":32456516,"comment_id":52778811,"body_markdown":"+1. Lazy loading with batch fetching and, only when really needed, `join fetch` in queries is the most straightforward and standard way to deal with n+1 selects problem.","body":"+1. Lazy loading with batch fetching and, only when really needed, <code>join fetch</code> in queries is the most straightforward and standard way to deal with n+1 selects problem."},{"owner":{"account_id":4424946,"reputation":5229,"user_id":3603660,"accept_rate":75,"display_name":"loicmathieu"},"score":3,"creation_date":1539964567,"post_id":32456516,"comment_id":92704455,"body_markdown":"Batch fetching doesn&#39;t avoid the n+1 query but divide the number of n queries by the batch size. So the appropriate question si the join fetch.\nMoreover, batch fetching is defined at entity level, so if multiple queries use the same entity they will use the same batch size and it can be problematic (imagine the same entity used in a batch and in a GUI)","body":"Batch fetching doesn&#39;t avoid the n+1 query but divide the number of n queries by the batch size. So the appropriate question si the join fetch. Moreover, batch fetching is defined at entity level, so if multiple queries use the same entity they will use the same batch size and it can be problematic (imagine the same entity used in a batch and in a GUI)"}],"tags":[],"owner":{"account_id":1853233,"reputation":122831,"user_id":1679310,"display_name":"Radim K&#246;hler"},"comment_count":4,"down_vote_count":2,"up_vote_count":25,"is_accepted":false,"score":23,"last_activity_date":1441731717,"creation_date":1441711394,"answer_id":32456516,"question_id":32453989,"body_markdown":"Native solution for *1 + N* in Hibernate, is called:\r\n\r\n### [20.1.5. Using batch fetching][1]\r\n\r\n&gt; Using batch fetching, Hibernate can load several uninitialized proxies if one proxy is accessed. **Batch fetching is an optimization of the lazy select fetching strategy.** There are two ways we can configure batch fetching: on the 1) class level and the 2) collection level...\r\n\r\nCheck these Q &amp; A:\r\n\r\n- https://stackoverflow.com/q/27688343/1679310\r\n- [Avoiding n+1 eager fetching of child collection element association][2]\r\n\r\nWith annotations we can do it like this:\r\n\r\nA `class` level:\r\n\r\n    @Entity\r\n    @BatchSize(size=25)\r\n    @Table(...\r\n    public class MyEntity implements java.io.Serializable {...\r\n\r\nA `collection` level:\r\n\r\n    @OneToMany(fetch = FetchType.LAZY...)\r\n    @BatchSize(size=25)\r\n    public Set&lt;MyEntity&gt; getMyColl() \r\n\r\nLazy loading and batch fetching together represent optimization, which:\r\n\r\n- does **not** require any **explicit fetching** in our queries\r\n- will be applied on **any amount of references** which are (lazily) touched after the root entity is loaded *(while explicit fetching effects only these named in query)*\r\n- will solve issue 1 + N with **collections** *(because **only one collection** could be fetched with root query)* without need to farther processing To get  DISTINCT root values *(check: https://stackoverflow.com/q/25536868/1679310)*\r\n\r\n  [1]: http://docs.jboss.org/hibernate/orm/4.3/manual/en-US/html_single/#performance-fetching-batch\r\n  [2]: https://stackoverflow.com/a/13379448/1679310","title":"What is the solution for the N+1 issue in JPA and Hibernate?","body":"<p>Native solution for <em>1 + N</em> in Hibernate, is called:</p>\n\n<h3><a href=\"http://docs.jboss.org/hibernate/orm/4.3/manual/en-US/html_single/#performance-fetching-batch\" rel=\"noreferrer\">20.1.5. Using batch fetching</a></h3>\n\n<blockquote>\n  <p>Using batch fetching, Hibernate can load several uninitialized proxies if one proxy is accessed. <strong>Batch fetching is an optimization of the lazy select fetching strategy.</strong> There are two ways we can configure batch fetching: on the 1) class level and the 2) collection level...</p>\n</blockquote>\n\n<p>Check these Q &amp; A:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/q/27688343/1679310\">@BatchSize but many round trip in @ManyToOne case</a></li>\n<li><a href=\"https://stackoverflow.com/a/13379448/1679310\">Avoiding n+1 eager fetching of child collection element association</a></li>\n</ul>\n\n<p>With annotations we can do it like this:</p>\n\n<p>A <code>class</code> level:</p>\n\n<pre><code>@Entity\n@BatchSize(size=25)\n@Table(...\npublic class MyEntity implements java.io.Serializable {...\n</code></pre>\n\n<p>A <code>collection</code> level:</p>\n\n<pre><code>@OneToMany(fetch = FetchType.LAZY...)\n@BatchSize(size=25)\npublic Set&lt;MyEntity&gt; getMyColl() \n</code></pre>\n\n<p>Lazy loading and batch fetching together represent optimization, which:</p>\n\n<ul>\n<li>does <strong>not</strong> require any <strong>explicit fetching</strong> in our queries</li>\n<li>will be applied on <strong>any amount of references</strong> which are (lazily) touched after the root entity is loaded <em>(while explicit fetching effects only these named in query)</em></li>\n<li>will solve issue 1 + N with <strong>collections</strong> <em>(because <strong>only one collection</strong> could be fetched with root query)</em> without need to farther processing To get  DISTINCT root values <em>(check: <a href=\"https://stackoverflow.com/q/25536868/1679310\">Criteria.DISTINCT_ROOT_ENTITY vs Projections.distinct</a>)</em></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1012936,"reputation":145178,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"comment_count":0,"down_vote_count":0,"up_vote_count":93,"is_accepted":false,"score":93,"last_activity_date":1683712388,"creation_date":1523516180,"answer_id":49789933,"question_id":32453989,"body_markdown":"The problem\r\n-------\r\n\r\nThe N+1 query issue happens when you forget to fetch an association and then you need to access it.\r\n\r\nFor instance, let&#39;s assume we have the following JPA query:\r\n\r\n    List&lt;PostComment&gt; comments = entityManager.createQuery(&quot;&quot;&quot;\r\n        select pc\r\n        from PostComment pc\r\n        where pc.review = :review\r\n        &quot;&quot;&quot;, PostComment.class)\r\n    .setParameter(&quot;review&quot;, review)\r\n    .getResultList();\r\n\r\nNow, if we iterate the `PostComment` entities and traverse the `post` association:\r\n        \r\n    for(PostComment comment : comments) {\r\n        LOGGER.info(&quot;The post title is &#39;{}&#39;&quot;, comment.getPost().getTitle());\r\n    }\r\n\r\nHibernate will generate the following SQL statements:\r\n\r\n    SELECT pc.id AS id1_1_, pc.post_id AS post_id3_1_, pc.review AS review2_1_\r\n    FROM   post_comment pc\r\n    WHERE  pc.review = &#39;Excellent!&#39;\r\n    \r\n    INFO - Loaded 3 comments\r\n    \r\n    SELECT pc.id AS id1_0_0_, pc.title AS title2_0_0_\r\n    FROM   post pc\r\n    WHERE  pc.id = 1\r\n    \r\n    INFO - The post title is &#39;Post nr. 1&#39;\r\n    \r\n    SELECT pc.id AS id1_0_0_, pc.title AS title2_0_0_\r\n    FROM   post pc\r\n    WHERE  pc.id = 2\r\n    \r\n    INFO - The post title is &#39;Post nr. 2&#39;\r\n    \r\n    SELECT pc.id AS id1_0_0_, pc.title AS title2_0_0_\r\n    FROM   post pc\r\n    WHERE  pc.id = 3\r\n    \r\n    INFO - The post title is &#39;Post nr. 3&#39;\r\n\r\nThat&#39;s how the N+1 query issue is generated.\r\n\r\nBecause the `post` association is not initialized when fetching the `PostComment` entities, Hibernate must fetch the `Post` entity with a secondary query, and for N `PostComment` entities, N more queries are going to be executed (hence the N+1 query problem).\r\n\r\nThe fix\r\n-------\r\n\r\nThe first thing you need to do to tackle this issue is to add [proper SQL logging and monitoring][1]. Without logging, you won&#39;t notice the N+1 query issue while developing a certain feature.\r\n\r\nSecond, to fix it, you can just `JOIN FETCH` the relationship causing this issue:\r\n\r\n    List&lt;PostComment&gt; comments = entityManager.createQuery(&quot;&quot;&quot;\r\n        select pc\r\n        from PostComment pc\r\n        join fetch pc.post p\r\n        where pc.review = :review\r\n        &quot;&quot;&quot;, PostComment.class)\r\n    .setParameter(&quot;review&quot;, review)\r\n    .getResultList();\r\n\r\nIf you need to fetch multiple child associations, it&#39;s better to fetch one collection in the initial query and the second one with a secondary SQL query.\r\n\r\nHow to automatically detect the N+1 query issue\r\n-----------------------------------------------\r\n\r\nThis issue is better to be caught by integration tests. \r\n\r\nYou can use an automatic JUnit assert to validate the expected count of generated SQL statements. The [`db-util` project][3] already provides this functionality, and it&#39;s open-source and the dependency is available on Maven Central.\r\n\r\n  [1]: https://vladmihalcea.com/the-best-way-of-logging-jdbc-statements/\r\n  [3]: https://github.com/vladmihalcea/db-util","title":"What is the solution for the N+1 issue in JPA and Hibernate?","body":"<h2>The problem</h2>\n<p>The N+1 query issue happens when you forget to fetch an association and then you need to access it.</p>\n<p>For instance, let's assume we have the following JPA query:</p>\n<pre><code>List&lt;PostComment&gt; comments = entityManager.createQuery(&quot;&quot;&quot;\n    select pc\n    from PostComment pc\n    where pc.review = :review\n    &quot;&quot;&quot;, PostComment.class)\n.setParameter(&quot;review&quot;, review)\n.getResultList();\n</code></pre>\n<p>Now, if we iterate the <code>PostComment</code> entities and traverse the <code>post</code> association:</p>\n<pre><code>for(PostComment comment : comments) {\n    LOGGER.info(&quot;The post title is '{}'&quot;, comment.getPost().getTitle());\n}\n</code></pre>\n<p>Hibernate will generate the following SQL statements:</p>\n<pre><code>SELECT pc.id AS id1_1_, pc.post_id AS post_id3_1_, pc.review AS review2_1_\nFROM   post_comment pc\nWHERE  pc.review = 'Excellent!'\n\nINFO - Loaded 3 comments\n\nSELECT pc.id AS id1_0_0_, pc.title AS title2_0_0_\nFROM   post pc\nWHERE  pc.id = 1\n\nINFO - The post title is 'Post nr. 1'\n\nSELECT pc.id AS id1_0_0_, pc.title AS title2_0_0_\nFROM   post pc\nWHERE  pc.id = 2\n\nINFO - The post title is 'Post nr. 2'\n\nSELECT pc.id AS id1_0_0_, pc.title AS title2_0_0_\nFROM   post pc\nWHERE  pc.id = 3\n\nINFO - The post title is 'Post nr. 3'\n</code></pre>\n<p>That's how the N+1 query issue is generated.</p>\n<p>Because the <code>post</code> association is not initialized when fetching the <code>PostComment</code> entities, Hibernate must fetch the <code>Post</code> entity with a secondary query, and for N <code>PostComment</code> entities, N more queries are going to be executed (hence the N+1 query problem).</p>\n<h2>The fix</h2>\n<p>The first thing you need to do to tackle this issue is to add <a href=\"https://vladmihalcea.com/the-best-way-of-logging-jdbc-statements/\" rel=\"nofollow noreferrer\">proper SQL logging and monitoring</a>. Without logging, you won't notice the N+1 query issue while developing a certain feature.</p>\n<p>Second, to fix it, you can just <code>JOIN FETCH</code> the relationship causing this issue:</p>\n<pre><code>List&lt;PostComment&gt; comments = entityManager.createQuery(&quot;&quot;&quot;\n    select pc\n    from PostComment pc\n    join fetch pc.post p\n    where pc.review = :review\n    &quot;&quot;&quot;, PostComment.class)\n.setParameter(&quot;review&quot;, review)\n.getResultList();\n</code></pre>\n<p>If you need to fetch multiple child associations, it's better to fetch one collection in the initial query and the second one with a secondary SQL query.</p>\n<h2>How to automatically detect the N+1 query issue</h2>\n<p>This issue is better to be caught by integration tests.</p>\n<p>You can use an automatic JUnit assert to validate the expected count of generated SQL statements. The <a href=\"https://github.com/vladmihalcea/db-util\" rel=\"nofollow noreferrer\"><code>db-util</code> project</a> already provides this functionality, and it's open-source and the dependency is available on Maven Central.</p>\n"},{"tags":[],"owner":{"account_id":5885056,"reputation":1880,"user_id":4633326,"display_name":"philippn"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1546508853,"creation_date":1546508853,"answer_id":54019768,"question_id":32453989,"body_markdown":"You can even get it working without having to add the `@BatchSize` annotation everywhere, just set the property `hibernate.default_batch_fetch_size` to the desired value to enable batch fetching globally. See the  [Hibernate docs][1] for details.\r\n\r\nWhile you are at it, you will probably also want to change the [BatchFetchStyle][2], because the default (`LEGACY`) is most likely not what you want. So a complete configuration for globally enabling batch fetching would look like this:\r\n\r\n    hibernate.batch_fetch_style=PADDED\r\n    hibernate.default_batch_fetch_size=25\r\n\r\nAlso, I&#39;m suprised that one of the proposed solutions involves join-fetching. Join-fetching is rarely desirable because it causes more data to be transferred with every result row, even if the dependent entity has already been loaded into the L1 or L2 cache. Thus I would recommend to disable it completey by setting\r\n\r\n    hibernate.max_fetch_depth=0\r\n\r\n  [1]: http://docs.jboss.org/hibernate/orm/5.4/userguide/html_single/Hibernate_User_Guide.html#configurations-batch\r\n  [2]: https://docs.jboss.org/hibernate/orm/5.4/javadocs/org/hibernate/loader/BatchFetchStyle.html","title":"What is the solution for the N+1 issue in JPA and Hibernate?","body":"<p>You can even get it working without having to add the <code>@BatchSize</code> annotation everywhere, just set the property <code>hibernate.default_batch_fetch_size</code> to the desired value to enable batch fetching globally. See the  <a href=\"http://docs.jboss.org/hibernate/orm/5.4/userguide/html_single/Hibernate_User_Guide.html#configurations-batch\" rel=\"noreferrer\">Hibernate docs</a> for details.</p>\n\n<p>While you are at it, you will probably also want to change the <a href=\"https://docs.jboss.org/hibernate/orm/5.4/javadocs/org/hibernate/loader/BatchFetchStyle.html\" rel=\"noreferrer\">BatchFetchStyle</a>, because the default (<code>LEGACY</code>) is most likely not what you want. So a complete configuration for globally enabling batch fetching would look like this:</p>\n\n<pre><code>hibernate.batch_fetch_style=PADDED\nhibernate.default_batch_fetch_size=25\n</code></pre>\n\n<p>Also, I'm suprised that one of the proposed solutions involves join-fetching. Join-fetching is rarely desirable because it causes more data to be transferred with every result row, even if the dependent entity has already been loaded into the L1 or L2 cache. Thus I would recommend to disable it completey by setting</p>\n\n<pre><code>hibernate.max_fetch_depth=0\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8460659,"reputation":2301,"user_id":6346531,"display_name":"aksh1618"},"score":0,"creation_date":1579293381,"post_id":59794067,"comment_id":105731093,"body_markdown":"Welcome to Stack Overflow! While self-promotion isn&#39;t an issue if it helps, please consider adding some code/ explanation that relates to solving the actual problem for it to be a valuable answer, or consider using comments once you have answered enough questions :)","body":"Welcome to Stack Overflow! While self-promotion isn&#39;t an issue if it helps, please consider adding some code/ explanation that relates to solving the actual problem for it to be a valuable answer, or consider using comments once you have answered enough questions :)"},{"owner":{"account_id":14974347,"reputation":563,"user_id":10810188,"display_name":"Ybri"},"score":0,"creation_date":1579427234,"post_id":59794067,"comment_id":105757095,"body_markdown":"Thanks for your advice @aksh1618\nI added some code to show how it relates to the problem.","body":"Thanks for your advice @aksh1618 I added some code to show how it relates to the problem."}],"tags":[],"owner":{"account_id":14974347,"reputation":563,"user_id":10810188,"display_name":"Ybri"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1686038227,"creation_date":1579290932,"answer_id":59794067,"question_id":32453989,"body_markdown":"&gt; This is a frequently asked question so I created the article [Eliminate Spring Hibernate N+1 Queries](https://yannbriancon.com/blog/eliminate-hibernate-n-plus-one-queries/) to detail the solutions\r\n\r\nTo help you detect all the N+1 queries in your application and avoid adding more queries, I created the library [spring-hibernate-query-utils][1] that auto-detects the Hibernate N+1 queries. \r\n\r\nHere is some code to explain how to add it to your application:\r\n\r\n - Add the library to your dependencies\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.yannbriancon&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-hibernate-query-utils&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0.3&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n - Configure it in your application properties to return exceptions, default is error logs\r\n\r\n```yaml\r\nhibernate.query.interceptor.error-level=EXCEPTION\r\n```\r\n\r\n  [1]: https://github.com/yannbriancon/spring-hibernate-query-utils","title":"What is the solution for the N+1 issue in JPA and Hibernate?","body":"<blockquote>\n<p>This is a frequently asked question so I created the article <a href=\"https://yannbriancon.com/blog/eliminate-hibernate-n-plus-one-queries/\" rel=\"nofollow noreferrer\">Eliminate Spring Hibernate N+1 Queries</a> to detail the solutions</p>\n</blockquote>\n<p>To help you detect all the N+1 queries in your application and avoid adding more queries, I created the library <a href=\"https://github.com/yannbriancon/spring-hibernate-query-utils\" rel=\"nofollow noreferrer\">spring-hibernate-query-utils</a> that auto-detects the Hibernate N+1 queries.</p>\n<p>Here is some code to explain how to add it to your application:</p>\n<ul>\n<li>Add the library to your dependencies</li>\n</ul>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.yannbriancon&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-hibernate-query-utils&lt;/artifactId&gt;\n    &lt;version&gt;1.0.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<ul>\n<li>Configure it in your application properties to return exceptions, default is error logs</li>\n</ul>\n<pre class=\"lang-yaml prettyprint-override\"><code>hibernate.query.interceptor.error-level=EXCEPTION\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3178228,"reputation":4984,"user_id":2685581,"display_name":"Ajay Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1588688862,"creation_date":1588688862,"answer_id":61615468,"question_id":32453989,"body_markdown":"**Here are some snippet codes that would help you to fix the N+1 Problem.**\r\n\r\nOne to Many Relationship with Manager and Client Entity.\r\n\r\nClient JPA Repository - \r\n\r\n    public interface ClientDetailsRepository extends JpaRepository&lt;ClientEntity, Long&gt; {\r\n        @Query(&quot;FROM clientMaster c join fetch c.manager m where m.managerId= :managerId&quot;)\r\n        List&lt;ClientEntity&gt; findClientByManagerId(String managerId);\r\n    }\r\n\r\n\r\n**Manager Entity -** \r\n\r\n    @Entity(name = &quot;portfolioManager&quot;)\r\n    @Table(name = &quot;portfolio_manager&quot;)\r\n    public class ManagerEntity implements Serializable {\r\n\r\n          // some fields\r\n\r\n    @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;manager&quot;)\r\n    protected List&lt;ClientEntity&gt; clients = new ArrayList&lt;&gt;();\r\n\r\n         // Getter &amp; Setter \r\n\r\n    }\r\n\r\n**Client Entity -** \r\n\r\n    @Entity(name = &quot;clientMaster&quot;)\r\n    @Table(name = &quot;clientMaster&quot;)\r\n    public class ClientEntity implements Serializable {\r\n\r\n        // some fields\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;manager_id&quot;, insertable = false, updatable = false)\r\n        protected ManagerEntity manager;\r\n\r\n        // Getter &amp; Setter \r\n\r\n     }\r\n\r\n\r\nAnd finally, Generate output - \r\n\r\n    Hibernate: select cliententi0_.client_id as client_id1_0_0_, cliententi0_.manager_id as manager_id2_0_0_, managerent1_.manager_id as manager_id1_2_1_, cliententi0_.created_by as created_by7_0_0_, cliententi0_.created_date as created_date3_0_0_, cliententi0_.client_name as client_name4_0_0_, cliententi0_.sector_name as sector_name5_0_0_, cliententi0_.updated_by as updated_by8_0_0_, cliententi0_.updated_date as updated_date6_0_0_, managerent1_.manager_name as manager_name2_2_1_ from client_master cliententi0_, portfolio_manager managerent1_ where cliententi0_.manager_id=managerent1_.manager_id and managerent1_.manager_id=?```\r\n","title":"What is the solution for the N+1 issue in JPA and Hibernate?","body":"<p><strong>Here are some snippet codes that would help you to fix the N+1 Problem.</strong></p>\n\n<p>One to Many Relationship with Manager and Client Entity.</p>\n\n<p>Client JPA Repository - </p>\n\n<pre><code>public interface ClientDetailsRepository extends JpaRepository&lt;ClientEntity, Long&gt; {\n    @Query(\"FROM clientMaster c join fetch c.manager m where m.managerId= :managerId\")\n    List&lt;ClientEntity&gt; findClientByManagerId(String managerId);\n}\n</code></pre>\n\n<p><strong>Manager Entity -</strong> </p>\n\n<pre><code>@Entity(name = \"portfolioManager\")\n@Table(name = \"portfolio_manager\")\npublic class ManagerEntity implements Serializable {\n\n      // some fields\n\n@OneToMany(fetch = FetchType.LAZY, mappedBy = \"manager\")\nprotected List&lt;ClientEntity&gt; clients = new ArrayList&lt;&gt;();\n\n     // Getter &amp; Setter \n\n}\n</code></pre>\n\n<p><strong>Client Entity -</strong> </p>\n\n<pre><code>@Entity(name = \"clientMaster\")\n@Table(name = \"clientMaster\")\npublic class ClientEntity implements Serializable {\n\n    // some fields\n\n@ManyToOne(fetch = FetchType.LAZY)\n@JoinColumn(name = \"manager_id\", insertable = false, updatable = false)\n    protected ManagerEntity manager;\n\n    // Getter &amp; Setter \n\n }\n</code></pre>\n\n<p>And finally, Generate output - </p>\n\n<pre><code>Hibernate: select cliententi0_.client_id as client_id1_0_0_, cliententi0_.manager_id as manager_id2_0_0_, managerent1_.manager_id as manager_id1_2_1_, cliententi0_.created_by as created_by7_0_0_, cliententi0_.created_date as created_date3_0_0_, cliententi0_.client_name as client_name4_0_0_, cliententi0_.sector_name as sector_name5_0_0_, cliententi0_.updated_by as updated_by8_0_0_, cliententi0_.updated_date as updated_date6_0_0_, managerent1_.manager_name as manager_name2_2_1_ from client_master cliententi0_, portfolio_manager managerent1_ where cliententi0_.manager_id=managerent1_.manager_id and managerent1_.manager_id=?```\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8953983,"reputation":3285,"user_id":6679072,"display_name":"ootero"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1605048725,"creation_date":1605048725,"answer_id":64777962,"question_id":32453989,"body_markdown":"If you are using `Spring Data JPA` to implement your repositories, you can specify lazy fetching in the `JPA` associations:\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;film&quot;, schema = &quot;public&quot;)\r\npublic class Film implements Serializable {\r\n\r\n  @ManyToOne(fetch = FetchType.LAZY)\r\n  @JoinColumn(name = &quot;language_id&quot;, nullable = false)\r\n  private Language language;\r\n\r\n  @OneToMany(cascade = CascadeType.ALL, fetch = FetchType.LAZY, mappedBy = &quot;film&quot;)\r\n  private Set&lt;FilmActor&gt; filmActors;\r\n...\r\n}\r\n\r\n@Entity\r\n@Table(name = &quot;film_actor&quot;, schema = &quot;public&quot;)\r\npublic class FilmActor implements Serializable {\r\n\r\n  @ManyToOne(fetch = FetchType.LAZY)\r\n  @JoinColumn(name = &quot;film_id&quot;, nullable = false, insertable = false, updatable = false)\r\n  private Film film;\r\n\r\n  @ManyToOne(fetch = FetchType.LAZY)\r\n  @JoinColumn(name = &quot;actor_id&quot;, nullable = false, insertable = false, updatable = false)\r\n  private Actor actor;\r\n...\r\n}\r\n\r\n@Entity\r\n@Table(name = &quot;actor&quot;, schema = &quot;public&quot;)\r\npublic class Actor implements Serializable {\r\n\r\n  @OneToMany(cascade = CascadeType.ALL, fetch = FetchType.LAZY, mappedBy = &quot;actor&quot;)\r\n  private Set&lt;FilmActor&gt; filmActors;\r\n...\r\n}\r\n```\r\n\r\nAnd add `@EntityGraph` to your `Spring Data JPA`-based repository:\r\n\r\n```\r\n@Repository\r\npublic interface FilmDao extends JpaRepository&lt;Film, Integer&gt; {\r\n\r\n  @EntityGraph(\r\n    type = EntityGraphType.FETCH,\r\n    attributePaths = {\r\n      &quot;language&quot;,\r\n      &quot;filmActors&quot;,\r\n      &quot;filmActors.actor&quot;\r\n    }\r\n  )\r\n  Page&lt;Film&gt; findAll(Pageable pageable);\r\n...\r\n}\r\n```\r\n\r\nMy blog post at https://tech.asimio.net/2020/11/06/Preventing-N-plus-1-select-problem-using-Spring-Data-JPA-EntityGraph.html helps you preventing the N+1 select problem using `Spring Data JPA` and `@EntityGraph`.","title":"What is the solution for the N+1 issue in JPA and Hibernate?","body":"<p>If you are using <code>Spring Data JPA</code> to implement your repositories, you can specify lazy fetching in the <code>JPA</code> associations:</p>\n<pre><code>@Entity\n@Table(name = &quot;film&quot;, schema = &quot;public&quot;)\npublic class Film implements Serializable {\n\n  @ManyToOne(fetch = FetchType.LAZY)\n  @JoinColumn(name = &quot;language_id&quot;, nullable = false)\n  private Language language;\n\n  @OneToMany(cascade = CascadeType.ALL, fetch = FetchType.LAZY, mappedBy = &quot;film&quot;)\n  private Set&lt;FilmActor&gt; filmActors;\n...\n}\n\n@Entity\n@Table(name = &quot;film_actor&quot;, schema = &quot;public&quot;)\npublic class FilmActor implements Serializable {\n\n  @ManyToOne(fetch = FetchType.LAZY)\n  @JoinColumn(name = &quot;film_id&quot;, nullable = false, insertable = false, updatable = false)\n  private Film film;\n\n  @ManyToOne(fetch = FetchType.LAZY)\n  @JoinColumn(name = &quot;actor_id&quot;, nullable = false, insertable = false, updatable = false)\n  private Actor actor;\n...\n}\n\n@Entity\n@Table(name = &quot;actor&quot;, schema = &quot;public&quot;)\npublic class Actor implements Serializable {\n\n  @OneToMany(cascade = CascadeType.ALL, fetch = FetchType.LAZY, mappedBy = &quot;actor&quot;)\n  private Set&lt;FilmActor&gt; filmActors;\n...\n}\n</code></pre>\n<p>And add <code>@EntityGraph</code> to your <code>Spring Data JPA</code>-based repository:</p>\n<pre><code>@Repository\npublic interface FilmDao extends JpaRepository&lt;Film, Integer&gt; {\n\n  @EntityGraph(\n    type = EntityGraphType.FETCH,\n    attributePaths = {\n      &quot;language&quot;,\n      &quot;filmActors&quot;,\n      &quot;filmActors.actor&quot;\n    }\n  )\n  Page&lt;Film&gt; findAll(Pageable pageable);\n...\n}\n</code></pre>\n<p>My blog post at <a href=\"https://tech.asimio.net/2020/11/06/Preventing-N-plus-1-select-problem-using-Spring-Data-JPA-EntityGraph.html\" rel=\"noreferrer\">https://tech.asimio.net/2020/11/06/Preventing-N-plus-1-select-problem-using-Spring-Data-JPA-EntityGraph.html</a> helps you preventing the N+1 select problem using <code>Spring Data JPA</code> and <code>@EntityGraph</code>.</p>\n"},{"tags":[],"owner":{"account_id":10158490,"reputation":150,"user_id":7502769,"display_name":"KESHAV KUMAR"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689400695,"creation_date":1689400695,"answer_id":76692425,"question_id":32453989,"body_markdown":"One of the best solution is to use @Fetch(FetchMode.SUBSELECT) fetch model. Below is a sample illustration. \r\n\r\n**Customer Class**    \r\n\r\n    @Entity\r\n    @Table(name =&quot;customer_table&quot;)\r\n    public class Customer {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private int customerId;\r\n        private String name;\r\n    \r\n        @OneToMany(mappedBy = &quot;customer&quot;, cascade = CascadeType.ALL,fetch = FetchType.EAGER)\r\n        @Fetch(FetchMode.SUBSELECT)\r\n        private List&lt;Order&gt; orderList;\r\n    \r\n        \r\n       @Override\r\n       public String toString() {\r\n          return String.format(&quot;customerId %d&quot;, customerId);\r\n       }\r\n    }\r\n\r\n**Order Class** \r\n\r\n    @Entity\r\n    @Table(name = &quot;order_table&quot;)\r\n    public class Order {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private int orderId;\r\n        private double amount;\r\n    \r\n        public Order(double amount) {\r\n            this.amount = amount;\r\n        }\r\n    \r\n        @JsonIgnore\r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;customer_Id&quot;)\r\n        private Customer customer;\r\n    }\r\n\r\nThis will trigger below hql query for fetching customer with id 1,2\r\n\r\n    customerRepo.findAllById(List.of(1, 2));\r\n    \r\n       select\r\n            o1_0.customer_id,\r\n            o1_0.order_id,\r\n            o1_0.amount \r\n        from\r\n            order_table o1_0 \r\n        where\r\n            o1_0.customer_id in(select\r\n                c1_0.customer_id \r\n            from\r\n                customer_table c1_0 \r\n            where\r\n                c1_0.customer_id in (?,?))\r\n    \r\n     binding parameter [1] as [INTEGER] - [1]\r\n     binding parameter [2] as [INTEGER] - [2]\r\n\r\nCredit: [appmap][1]\r\n\r\n\r\n  [1]: https://appmap.io/blog/2021/10/04/detecting_n_plus_one_for_spring_applications/#:~:text=3%3A00%20The%20easiest%20way,EAGER","title":"What is the solution for the N+1 issue in JPA and Hibernate?","body":"<p>One of the best solution is to use @Fetch(FetchMode.SUBSELECT) fetch model. Below is a sample illustration.</p>\n<p><strong>Customer Class</strong></p>\n<pre><code>@Entity\n@Table(name =&quot;customer_table&quot;)\npublic class Customer {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int customerId;\n    private String name;\n\n    @OneToMany(mappedBy = &quot;customer&quot;, cascade = CascadeType.ALL,fetch = FetchType.EAGER)\n    @Fetch(FetchMode.SUBSELECT)\n    private List&lt;Order&gt; orderList;\n\n    \n   @Override\n   public String toString() {\n      return String.format(&quot;customerId %d&quot;, customerId);\n   }\n}\n</code></pre>\n<p><strong>Order Class</strong></p>\n<pre><code>@Entity\n@Table(name = &quot;order_table&quot;)\npublic class Order {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int orderId;\n    private double amount;\n\n    public Order(double amount) {\n        this.amount = amount;\n    }\n\n    @JsonIgnore\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;customer_Id&quot;)\n    private Customer customer;\n}\n</code></pre>\n<p>This will trigger below hql query for fetching customer with id 1,2</p>\n<pre><code>customerRepo.findAllById(List.of(1, 2));\n\n   select\n        o1_0.customer_id,\n        o1_0.order_id,\n        o1_0.amount \n    from\n        order_table o1_0 \n    where\n        o1_0.customer_id in(select\n            c1_0.customer_id \n        from\n            customer_table c1_0 \n        where\n            c1_0.customer_id in (?,?))\n\n binding parameter [1] as [INTEGER] - [1]\n binding parameter [2] as [INTEGER] - [2]\n</code></pre>\n<p>Credit: <a href=\"https://appmap.io/blog/2021/10/04/detecting_n_plus_one_for_spring_applications/#:%7E:text=3%3A00%20The%20easiest%20way,EAGER\" rel=\"nofollow noreferrer\">appmap</a></p>\n"}],"owner":{"account_id":6531759,"reputation":1523,"user_id":5052704,"accept_rate":83,"display_name":"Vipul Agarwal"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98057,"favorite_count":0,"down_vote_count":1,"up_vote_count":81,"accepted_answer_id":32454317,"answer_count":8,"score":80,"last_activity_date":1689400695,"creation_date":1441704269,"question_id":32453989,"body_markdown":"I understand that the N+1 problem is where one query is executed to fetch N records and N queries to fetch some relational records.\r\n\r\nBut how can it be avoided in Hibernate?","title":"What is the solution for the N+1 issue in JPA and Hibernate?","body":"<p>I understand that the N+1 problem is where one query is executed to fetch N records and N queries to fetch some relational records.</p>\n\n<p>But how can it be avoided in Hibernate?</p>\n"},{"tags":["java","spring","gradle","microservices"],"answers":[{"tags":[],"owner":{"account_id":5458151,"reputation":423,"user_id":4340987,"accept_rate":80,"display_name":"z17"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1476376286,"creation_date":1476376286,"answer_id":40026427,"question_id":39956391,"body_markdown":"Ok, You just need to create new module, then set it in settings.gradle:\r\n\r\n    include &#39;service-client&#39;\r\n\r\nAnd then in build.gradle of submodule where you need, add this dependency: \r\n\r\n    compile project(&#39;:service-client&#39;)\r\n","title":"How can I use gradle submodule as a library in another modules?","body":"<p>Ok, You just need to create new module, then set it in settings.gradle:</p>\n\n<pre><code>include 'service-client'\n</code></pre>\n\n<p>And then in build.gradle of submodule where you need, add this dependency: </p>\n\n<pre><code>compile project(':service-client')\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3991638,"reputation":25,"user_id":3290379,"display_name":"Shane Lee"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689400563,"creation_date":1689400563,"answer_id":76692419,"question_id":39956391,"body_markdown":"For anyone using gradle 7.0 the answer from z17 needs to be amended\r\n\r\nIn the submodule it will now need to be \r\n\r\nAnd then in build.gradle of submodule where you need, add this dependency:\r\n\r\n```implementation project(&#39;:service-client&#39;)```\r\n\r\nThis is because compile has been removed from the java plugin since gradle 7.0","title":"How can I use gradle submodule as a library in another modules?","body":"<p>For anyone using gradle 7.0 the answer from z17 needs to be amended</p>\n<p>In the submodule it will now need to be</p>\n<p>And then in build.gradle of submodule where you need, add this dependency:</p>\n<p><code>implementation project(':service-client')</code></p>\n<p>This is because compile has been removed from the java plugin since gradle 7.0</p>\n"}],"owner":{"account_id":5458151,"reputation":423,"user_id":4340987,"accept_rate":80,"display_name":"z17"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1971,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":40026427,"answer_count":2,"score":2,"last_activity_date":1689400563,"creation_date":1476095975,"question_id":39956391,"body_markdown":"I try to write my project with four microservices, where every service need to have opportunity to call any another.\r\n\r\nThus I need a some client module, which will be able to call any service. And I want to use this module as a library in my services.\r\n\r\nHow can I do this?","title":"How can I use gradle submodule as a library in another modules?","body":"<p>I try to write my project with four microservices, where every service need to have opportunity to call any another.</p>\n<p>Thus I need a some client module, which will be able to call any service. And I want to use this module as a library in my services.</p>\n<p>How can I do this?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":7860,"page":308,"page_size":100}
