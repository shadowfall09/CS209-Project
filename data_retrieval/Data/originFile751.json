{"items":[{"tags":["java","jpa","querydsl"],"answers":[{"tags":[],"owner":{"account_id":19987292,"reputation":424,"user_id":14649181,"display_name":"Oskar"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1673031097,"creation_date":1672954957,"answer_id":75024664,"question_id":75023441,"body_markdown":"You can simply use coalesce that is supported by QueryDSL and will work same as `ISNULL`\r\n\r\nFor example:\r\n```java\r\nnew Coalesce&lt;&gt;(Date.class)\r\n   .add(qEntity.firstOptional)\r\n   .add(qEntity.secondOptional)\r\n```","title":"QueryDSL implementation of SQL&#39;s ISNULL function","body":"<p>You can simply use coalesce that is supported by QueryDSL and will work same as <code>ISNULL</code></p>\n<p>For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>new Coalesce&lt;&gt;(Date.class)\n   .add(qEntity.firstOptional)\n   .add(qEntity.secondOptional)\n</code></pre>\n"}],"owner":{"account_id":4196154,"reputation":815,"user_id":4339010,"display_name":"DFW"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":274,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75024664,"answer_count":1,"score":0,"last_activity_date":1673031097,"creation_date":1672946772,"question_id":75023441,"body_markdown":"Is there a way to write the SQL function `ISNULL` in a JPAQuery using QueryDSL when it&#39;s part of the selected data? For example, I have the native SQL query:\r\n\r\n    SELECT ISNULL(date1, date2) AS date_field FROM TABLE..\r\n\r\nCurrently, the only option I see is to return both date1 and date2 in my JPAQuery, and then do my own check in Java code to know which one to access. But it would be nice to have to return multiple fields when I don&#39;t need to.\r\n\r\nI think it would look like this:\r\n\r\n    return new JPAQuery&lt;ResponseObject&gt;(entityManager)\r\n         .select(Projections.bean(ResponseObject.class, \r\n                 table.date1,\r\n                 table.date2))\r\n         .from(table)\r\n         .fetch();\r\nSorry if I&#39;ve confused some areas of JPA with QueryDSL or vice versa.","title":"QueryDSL implementation of SQL&#39;s ISNULL function","body":"<p>Is there a way to write the SQL function <code>ISNULL</code> in a JPAQuery using QueryDSL when it's part of the selected data? For example, I have the native SQL query:</p>\n<pre><code>SELECT ISNULL(date1, date2) AS date_field FROM TABLE..\n</code></pre>\n<p>Currently, the only option I see is to return both date1 and date2 in my JPAQuery, and then do my own check in Java code to know which one to access. But it would be nice to have to return multiple fields when I don't need to.</p>\n<p>I think it would look like this:</p>\n<pre><code>return new JPAQuery&lt;ResponseObject&gt;(entityManager)\n     .select(Projections.bean(ResponseObject.class, \n             table.date1,\n             table.date2))\n     .from(table)\n     .fetch();\n</code></pre>\n<p>Sorry if I've confused some areas of JPA with QueryDSL or vice versa.</p>\n"},{"tags":["java","spring-boot","vaadin","hilla"],"comments":[{"owner":{"account_id":7510409,"reputation":1883,"user_id":5705554,"display_name":"Marcus Hellberg"},"score":1,"creation_date":1667844691,"post_id":74350806,"comment_id":131260036,"body_markdown":"Try re-running the app, it sounds like something in the frontend compilation hasn&#39;t worked the way it should","body":"Try re-running the app, it sounds like something in the frontend compilation hasn&#39;t worked the way it should"}],"owner":{"account_id":3135571,"reputation":23,"user_id":2652139,"display_name":"anoop"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1673030932,"creation_date":1667843304,"question_id":74350806,"body_markdown":"I was trying to create a vaadin hilla application, trying to save a person&#39;s details. Created endpoint and the person object as well, but in generated files, the error is showing as below.\r\n\r\n&gt;[TypeScript]&#160;Property &#39;call&#39; does not exist on type &#39;PersonDetails&#39;.\r\n\r\nThe application is running, pages also came up but with error.\r\n\r\n```\r\n@Endpoint\r\n@AnonymousAllowed\r\npublic class PersonEndpoint {\r\n\r\n\tprivate InterPersonService personService;\r\n\r\n\t@Autowired\r\n\tpublic PersonEndpoint(InterPersonService personService) {\r\n\t\tthis.personService = personService;\r\n\t}\r\n\r\n\t@Nonnull\r\n\tpublic String savePerson(PersonDetails person) {\r\n\t\treturn this.personService.savePerson(person);\r\n\t}\r\n\r\n}\r\n```\r\n\r\nVaadin hilla application to save a person&#39;s details. Expected to set the value from the textbox to the generated object and the data will be available in the endpoint save method.","title":"Vaadin hilla property call does not exist","body":"<p>I was trying to create a vaadin hilla application, trying to save a person's details. Created endpoint and the person object as well, but in generated files, the error is showing as below.</p>\n<blockquote>\n<p>[TypeScript]Â Property 'call' does not exist on type 'PersonDetails'.</p>\n</blockquote>\n<p>The application is running, pages also came up but with error.</p>\n<pre><code>@Endpoint\n@AnonymousAllowed\npublic class PersonEndpoint {\n\n    private InterPersonService personService;\n\n    @Autowired\n    public PersonEndpoint(InterPersonService personService) {\n        this.personService = personService;\n    }\n\n    @Nonnull\n    public String savePerson(PersonDetails person) {\n        return this.personService.savePerson(person);\n    }\n\n}\n</code></pre>\n<p>Vaadin hilla application to save a person's details. Expected to set the value from the textbox to the generated object and the data will be available in the endpoint save method.</p>\n"},{"tags":["java","stream","java-stream","collectors"],"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1673006916,"post_id":75030687,"comment_id":132405993,"body_markdown":"It would be easier to help you if you&#39;d provide a [mcve], ideally including any progress you&#39;ve already made. Concrete examples (with sample data and expected outputs) are *much* easier to work with than somewhat vague descriptions.","body":"It would be easier to help you if you&#39;d provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, ideally including any progress you&#39;ve already made. Concrete examples (with sample data and expected outputs) are <i>much</i> easier to work with than somewhat vague descriptions."},{"owner":{"account_id":16760288,"reputation":41,"user_id":12115215,"display_name":"Bedirhan G&#246;kce"},"score":0,"creation_date":1673007295,"post_id":75030687,"comment_id":132406083,"body_markdown":"@JonSkeet Thanks for advice. In that case, I have to provide 4 classes and tons of functions. I just want to learn how could it be possible to get sum of 2 functions and divide them in single line.","body":"@JonSkeet Thanks for advice. In that case, I have to provide 4 classes and tons of functions. I just want to learn how could it be possible to get sum of 2 functions and divide them in single line."},{"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"score":1,"creation_date":1673007376,"post_id":75030687,"comment_id":132406107,"body_markdown":"No you don&#39;t. You just have to provide info on the model of TrainConnection class and with an example.","body":"No you don&#39;t. You just have to provide info on the model of TrainConnection class and with an example."},{"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"score":0,"creation_date":1673007635,"post_id":75030687,"comment_id":132406165,"body_markdown":"It is not clear if you want to first sum the values the function returns and then finally divide or divide the return value of the two functions and sum them. I think it is the former one","body":"It is not clear if you want to first sum the values the function returns and then finally divide or divide the return value of the two functions and sum them. I think it is the former one"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1673007874,"post_id":75030687,"comment_id":132406225,"body_markdown":"&quot;In that case, I have to provide 4 classes and tons of functions.&quot; Is it really impossible to demonstrate what you want without all those classes and functions? We don&#39;t need to see your *actual* code - we need to see a minimal representative example which is *just* enough to demonstrate what you&#39;re trying to do.","body":"&quot;In that case, I have to provide 4 classes and tons of functions.&quot; Is it really impossible to demonstrate what you want without all those classes and functions? We don&#39;t need to see your <i>actual</i> code - we need to see a minimal representative example which is <i>just</i> enough to demonstrate what you&#39;re trying to do."},{"owner":{"account_id":16760288,"reputation":41,"user_id":12115215,"display_name":"Bedirhan G&#246;kce"},"score":0,"creation_date":1673008974,"post_id":75030687,"comment_id":132406531,"body_markdown":"Sorry my mistake. I provide a sample class and sample data for my problem. I hope it is clear now.","body":"Sorry my mistake. I provide a sample class and sample data for my problem. I hope it is clear now."},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":1,"creation_date":1673025276,"post_id":75030687,"comment_id":132411961,"body_markdown":"FYI, in case you didn&#39;t know the record keyword automatically creates both a getter and a field of the same names as the arguments.  In your case, `a`, `a()`, `b`, `b()`, `type`,and `type()` would be created, along with your explicit getters of `getA()` and `getB()`.","body":"FYI, in case you didn&#39;t know the record keyword automatically creates both a getter and a field of the same names as the arguments.  In your case, <code>a</code>, <code>a()</code>, <code>b</code>, <code>b()</code>, <code>type</code>,and <code>type()</code> would be created, along with your explicit getters of <code>getA()</code> and <code>getB()</code>."}],"answers":[{"tags":[],"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1673030641,"creation_date":1673009825,"answer_id":75031225,"question_id":75030687,"body_markdown":"## 1. Using Collectors.teeing\r\nIf you are using Java 12+ you can use `Collectors.teeing` to solve this.\r\n\r\nWe pass two *Collectors* to `Collectors.teeing`; the first one sums the return values of function `a()` and the second for function `b()`. In the `merger` function of teeing, we divide the summed values.\r\n\r\n```\r\npublic static Map&lt;String, Double&gt; myFunction(Stream&lt;TestRecord&gt; testRecordStream) {\r\n    return testRecordStream\r\n            .collect(Collectors.groupingBy(TestRecord::type,\r\n                    Collectors.teeing(\r\n                            Collectors.summingDouble(TestRecord::a),\r\n                            Collectors.summingDouble(TestRecord::b),\r\n                            (a, b) -&gt; a / b)\r\n            ));\r\n}\r\n```\r\n\r\n## 2 Using Collectors.reducing + Collectors.collectingAndThen\r\nIn case, you are using Java version &lt; 12, then you can use *reduction* mechanism to reduce (here it is sum) the values for a given type. But this would require a simple auxiliary class.\r\n\r\n```\r\nprivate class Pair {\r\n    private final int l;\r\n    private final int r;\r\n    //Constructors, getters skipped\r\n}\r\n\r\n```\r\n\r\n\r\nThe *reducing* Collector is used from within a *collectingAndThen* Collector.  \r\n* The first argument of the reducing collector is the *identity value* (`new Pair(0, 0)`).\r\n* The second argument maps an instance of `TestRecord` to a `Pair`.\r\n* The final argument merges two Pair instances by summing the left and right value (which is `l` and `r` here).\r\n\r\nFinally, after reducing, we would have a single `Pair` instance whose `l` is equal to the sum of all `a()` function values and `r` is the sum of all `b()` function values (for a given `type`). We divide these two in the *finisher* of the `collectingAndThen` Collector.\r\n\r\n```\r\npublic static Map&lt;String, Double&gt; myFunction(Stream&lt;TestRecord&gt; testRecordStream) {\r\n    return testRecordStream\r\n            .collect(Collectors.groupingBy(TestRecord::type,\r\n                    Collectors.collectingAndThen(\r\n                            Collectors.reducing(new Pair(0, 0),\r\n                                    testRecord -&gt; new Pair(testRecord.a(), testRecord.b()),\r\n                                    (p1, p2) -&gt; new Pair(p1.l + p2.l, p1.r + p2.r)),\r\n                            pair -&gt; (double) pair.l / pair.r\r\n                    )));\r\n}\r\n```","title":"Division in Java Streams","body":"<h2>1. Using Collectors.teeing</h2>\n<p>If you are using Java 12+ you can use <code>Collectors.teeing</code> to solve this.</p>\n<p>We pass two <em>Collectors</em> to <code>Collectors.teeing</code>; the first one sums the return values of function <code>a()</code> and the second for function <code>b()</code>. In the <code>merger</code> function of teeing, we divide the summed values.</p>\n<pre><code>public static Map&lt;String, Double&gt; myFunction(Stream&lt;TestRecord&gt; testRecordStream) {\n    return testRecordStream\n            .collect(Collectors.groupingBy(TestRecord::type,\n                    Collectors.teeing(\n                            Collectors.summingDouble(TestRecord::a),\n                            Collectors.summingDouble(TestRecord::b),\n                            (a, b) -&gt; a / b)\n            ));\n}\n</code></pre>\n<h2>2 Using Collectors.reducing + Collectors.collectingAndThen</h2>\n<p>In case, you are using Java version &lt; 12, then you can use <em>reduction</em> mechanism to reduce (here it is sum) the values for a given type. But this would require a simple auxiliary class.</p>\n<pre><code>private class Pair {\n    private final int l;\n    private final int r;\n    //Constructors, getters skipped\n}\n\n</code></pre>\n<p>The <em>reducing</em> Collector is used from within a <em>collectingAndThen</em> Collector.</p>\n<ul>\n<li>The first argument of the reducing collector is the <em>identity value</em> (<code>new Pair(0, 0)</code>).</li>\n<li>The second argument maps an instance of <code>TestRecord</code> to a <code>Pair</code>.</li>\n<li>The final argument merges two Pair instances by summing the left and right value (which is <code>l</code> and <code>r</code> here).</li>\n</ul>\n<p>Finally, after reducing, we would have a single <code>Pair</code> instance whose <code>l</code> is equal to the sum of all <code>a()</code> function values and <code>r</code> is the sum of all <code>b()</code> function values (for a given <code>type</code>). We divide these two in the <em>finisher</em> of the <code>collectingAndThen</code> Collector.</p>\n<pre><code>public static Map&lt;String, Double&gt; myFunction(Stream&lt;TestRecord&gt; testRecordStream) {\n    return testRecordStream\n            .collect(Collectors.groupingBy(TestRecord::type,\n                    Collectors.collectingAndThen(\n                            Collectors.reducing(new Pair(0, 0),\n                                    testRecord -&gt; new Pair(testRecord.a(), testRecord.b()),\n                                    (p1, p2) -&gt; new Pair(p1.l + p2.l, p1.r + p2.r)),\n                            pair -&gt; (double) pair.l / pair.r\n                    )));\n}\n</code></pre>\n"}],"owner":{"account_id":16760288,"reputation":41,"user_id":12115215,"display_name":"Bedirhan G&#246;kce"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":208,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75031225,"answer_count":1,"score":0,"last_activity_date":1673030641,"creation_date":1673006560,"question_id":75030687,"body_markdown":"I have stream of objects. I want to group them and calculate the division of sum of values I get from object functions.\r\n\r\n```java\r\nimport java.util.Map;\r\nimport java.util.stream.Stream;\r\n\r\nrecord TestRecord(String type, int a, int b) {\r\n    public int getA() { return a; }\r\n    public int getB() { return b; }\r\n}\r\n    \r\npublic class Test {    \r\n    public static void main(String[] args) {\r\n        Stream&lt;TestRecord&gt; testRecords = Stream.of(\r\n            new TestRecord(&quot;TYPE1&quot;, 1, 2),\r\n            new TestRecord(&quot;TYPE1&quot;, 3, 4),\r\n            new TestRecord(&quot;TYPE2&quot;, 5, 6),\r\n            new TestRecord(&quot;TYPE2&quot;, 7, 8),\r\n            new TestRecord(&quot;TYPE2&quot;, 9, 10)\r\n        );\r\n    }\r\n    \r\n    //It should return {TYPE1= (4/6), TYPE2 = (21 / 24)}\r\n    //TYPE1= (1+3 / 2+4), TYPE2 = ((5+7+9) / (6+8+10))\r\n    public static Map&lt;String, Double&gt; myFunction(Stream&lt;TestRecord&gt; testRecordStream) {\r\n        //TODO\r\n        return null;\r\n    }\r\n}\r\n```\r\n\r\nI want to return map like {TYPE1= (0.66), TYPE2 = (0.875)}, in above example. I cannot use for loops or forEach function in stream.\r\n\r\n\r\n\r\n\r\n","title":"Division in Java Streams","body":"<p>I have stream of objects. I want to group them and calculate the division of sum of values I get from object functions.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Map;\nimport java.util.stream.Stream;\n\nrecord TestRecord(String type, int a, int b) {\n    public int getA() { return a; }\n    public int getB() { return b; }\n}\n    \npublic class Test {    \n    public static void main(String[] args) {\n        Stream&lt;TestRecord&gt; testRecords = Stream.of(\n            new TestRecord(&quot;TYPE1&quot;, 1, 2),\n            new TestRecord(&quot;TYPE1&quot;, 3, 4),\n            new TestRecord(&quot;TYPE2&quot;, 5, 6),\n            new TestRecord(&quot;TYPE2&quot;, 7, 8),\n            new TestRecord(&quot;TYPE2&quot;, 9, 10)\n        );\n    }\n    \n    //It should return {TYPE1= (4/6), TYPE2 = (21 / 24)}\n    //TYPE1= (1+3 / 2+4), TYPE2 = ((5+7+9) / (6+8+10))\n    public static Map&lt;String, Double&gt; myFunction(Stream&lt;TestRecord&gt; testRecordStream) {\n        //TODO\n        return null;\n    }\n}\n</code></pre>\n<p>I want to return map like {TYPE1= (0.66), TYPE2 = (0.875)}, in above example. I cannot use for loops or forEach function in stream.</p>\n"},{"tags":["java","spring-boot","apache-kafka","spring-kafka"],"comments":[{"owner":{"account_id":14608678,"reputation":3385,"user_id":10550738,"display_name":"H.&#199;.T"},"score":0,"creation_date":1584103998,"post_id":60669598,"comment_id":107341042,"body_markdown":"Why do you think it is not a good solution?","body":"Why do you think it is not a good solution?"},{"owner":{"account_id":3029291,"reputation":1704,"user_id":2568649,"display_name":"Chris"},"score":0,"creation_date":1584170392,"post_id":60669598,"comment_id":107359493,"body_markdown":"It is a good solution as far as I can see, and in your Spring Listener you can then use overloaded methods for the different types which keeps your code nice and clean","body":"It is a good solution as far as I can see, and in your Spring Listener you can then use overloaded methods for the different types which keeps your code nice and clean"},{"owner":{"account_id":15741600,"reputation":37,"user_id":11358850,"display_name":"Sanjeet Mehta"},"score":0,"creation_date":1584362275,"post_id":60669598,"comment_id":107405502,"body_markdown":"I was just hoping that there might be some Spring way to cleanly handle it.","body":"I was just hoping that there might be some Spring way to cleanly handle it."}],"answers":[{"tags":[],"owner":{"account_id":16723554,"reputation":36,"user_id":12322967,"display_name":"Mahesh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1584101151,"creation_date":1584101151,"answer_id":60670189,"question_id":60669598,"body_markdown":"You can add header to kafka message while sending the msg &amp; based on header value you can cast it to desired Object while receiving it..","title":"Is there a way in Java Spring boot where I can use a single kafka queue for different Java object?","body":"<p>You can add header to kafka message while sending the msg &amp; based on header value you can cast it to desired Object while receiving it..</p>\n"},{"tags":[],"owner":{"account_id":4487116,"reputation":429,"user_id":3649352,"accept_rate":67,"display_name":"Kunal Varpe"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673030277,"creation_date":1673030277,"answer_id":75034910,"question_id":60669598,"body_markdown":"You might be use a custom `BatchToRecordAdapter` to call the record level listener, and set some flag in the message from batch to signal that it is the last\r\n\r\nSee [this](https://docs.spring.io/spring-kafka/docs/current/reference/html/#transactions-batch)","title":"Is there a way in Java Spring boot where I can use a single kafka queue for different Java object?","body":"<p>You might be use a custom <code>BatchToRecordAdapter</code> to call the record level listener, and set some flag in the message from batch to signal that it is the last</p>\n<p>See <a href=\"https://docs.spring.io/spring-kafka/docs/current/reference/html/#transactions-batch\" rel=\"nofollow noreferrer\">this</a></p>\n"}],"owner":{"account_id":15741600,"reputation":37,"user_id":11358850,"display_name":"Sanjeet Mehta"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1673030277,"creation_date":1584098653,"question_id":60669598,"body_markdown":"I want to use a single kafka queue for different Java objects. How can I achieve that?\r\n\r\nPS: One of the way is to convert the JavaObject to JSON string and on receiving end convert it to desired object and if this conversion operation fails we can handle it gracefully. But I think its not a good solution.","title":"Is there a way in Java Spring boot where I can use a single kafka queue for different Java object?","body":"<p>I want to use a single kafka queue for different Java objects. How can I achieve that?</p>\n\n<p>PS: One of the way is to convert the JavaObject to JSON string and on receiving end convert it to desired object and if this conversion operation fails we can handle it gracefully. But I think its not a good solution.</p>\n"},{"tags":["java","android","hex","bluetooth-lowenergy","esp32"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1673021942,"post_id":75031910,"comment_id":132410880,"body_markdown":"Your formatting is off. But actually your code doesn&#39;t really tell us anything as the actual implementation of your file to byte array code is not shown","body":"Your formatting is off. But actually your code doesn&#39;t really tell us anything as the actual implementation of your file to byte array code is not shown"}],"owner":{"account_id":1159880,"reputation":196,"user_id":1139624,"accept_rate":73,"display_name":"Spriggsy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673030272,"creation_date":1673013568,"question_id":75031910,"body_markdown":"edited for code formatting \r\n\r\nI&#39;m trying to implement a Ble OTA system with a Esp32\r\n\r\nI need to read a binary file into a Hex array and pass this over Ble to my Esp32 characteristic\r\nThe Esp32 works fine, and accepts an update from a simple Python3 script\r\n\r\nthe basics are below\r\n`\r\n        # compute the packet size\r\n        packet_size = (512)\r\n  \r\n        # split the firmware into packets\r\n        with open(file_path, &quot;rb&quot;) as file:\r\n            while chunk := file.read(packet_size):\r\n                firmware.append(chunk)\r\n \r\n        # sequentially write all packets to OTA data\r\n        for i, pkg in enumerate(firmware):\r\n            print(f&quot;Sending packet {i}/{len(firmware)-1}&quot;)\r\n  \r\n            await client.write_gatt_char(\r\n                OTA_DATA_UUID,\r\n                pkg,\r\n                response=True\r\n            )`\r\n\r\n\r\nTrying the same in Android java produces an array of unsigned ints, this does not seem to be compatible with the type of bytes that the Esp32 is expecting\r\n\r\nheres a cut down example of what im trying\r\n\r\n         String path = \r\n        ContentUriUtils.INSTANCE.getFilePath(firmwareSelectActivity.this, \r\n        chosenFile);\r\n     \r\n        File file = new File(path); \r\n        byte[] fileByteArray =  readFile(file);\r\n    \r\n        byte[][] test =   splitArray(fileByteArray,512);\r\n    \r\n        for(int i = 0;i &lt;  test.length;i++)\r\n    { mBluetoothLeService.addBleOtaWriteByteCommandToQueue(BluetoothLeService \r\n       .getOtaTXcharacteristic(),  test[i]);\r\n            }\r\n        \r\n\r\nThe ESP32 OTA library is expecting the first byte to be 0xE9 to start the upgrade process. But I seem to be sending 0x13","title":"Android Java readFile to hex byte array","body":"<p>edited for code formatting</p>\n<p>I'm trying to implement a Ble OTA system with a Esp32</p>\n<p>I need to read a binary file into a Hex array and pass this over Ble to my Esp32 characteristic\nThe Esp32 works fine, and accepts an update from a simple Python3 script</p>\n<p>the basics are below\n`\n# compute the packet size\npacket_size = (512)</p>\n<pre><code>    # split the firmware into packets\n    with open(file_path, &quot;rb&quot;) as file:\n        while chunk := file.read(packet_size):\n            firmware.append(chunk)\n\n    # sequentially write all packets to OTA data\n    for i, pkg in enumerate(firmware):\n        print(f&quot;Sending packet {i}/{len(firmware)-1}&quot;)\n\n        await client.write_gatt_char(\n            OTA_DATA_UUID,\n            pkg,\n            response=True\n        )`\n</code></pre>\n<p>Trying the same in Android java produces an array of unsigned ints, this does not seem to be compatible with the type of bytes that the Esp32 is expecting</p>\n<p>heres a cut down example of what im trying</p>\n<pre><code>     String path = \n    ContentUriUtils.INSTANCE.getFilePath(firmwareSelectActivity.this, \n    chosenFile);\n \n    File file = new File(path); \n    byte[] fileByteArray =  readFile(file);\n\n    byte[][] test =   splitArray(fileByteArray,512);\n\n    for(int i = 0;i &lt;  test.length;i++)\n{ mBluetoothLeService.addBleOtaWriteByteCommandToQueue(BluetoothLeService \n   .getOtaTXcharacteristic(),  test[i]);\n        }\n    \n</code></pre>\n<p>The ESP32 OTA library is expecting the first byte to be 0xE9 to start the upgrade process. But I seem to be sending 0x13</p>\n"},{"tags":["java","selenium","window","alert"],"comments":[{"owner":{"account_id":7876987,"reputation":121,"user_id":5952448,"accept_rate":91,"display_name":"todivefor"},"score":0,"creation_date":1673112671,"post_id":75034885,"comment_id":132426872,"body_markdown":"@AbiSaran Unfortunately, no.","body":"@AbiSaran Unfortunately, no."},{"owner":{"account_id":10404380,"reputation":2588,"user_id":7671727,"display_name":"AbiSaran"},"score":0,"creation_date":1673149977,"post_id":75034885,"comment_id":132432297,"body_markdown":"&#39;driver.switchTo().alert();&#39; statement should switch the focus to alert window, in your case it is not, so this is not the normal scenario. So without checking the website, we cannot debug, can&#39;t suggest you a solution.","body":"&#39;driver.switchTo().alert();&#39; statement should switch the focus to alert window, in your case it is not, so this is not the normal scenario. So without checking the website, we cannot debug, can&#39;t suggest you a solution."}],"owner":{"account_id":7876987,"reputation":121,"user_id":5952448,"accept_rate":91,"display_name":"todivefor"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673030111,"creation_date":1673030111,"question_id":75034885,"body_markdown":"I am using selenium, java app to navigate a web page. I get to a point where if I hover over an area, I see a + magnifying glass. When I click here, it brings up a new window. This window contains the information I am after. On MacOS, this window only contains the information and a close X in upper right corner see attached. \r\n\r\nIâve tried  to treat this window as an âalertâ (ie driver.switchTo().alert(); and get âException in thread &quot;main&quot; org.openqa.selenium.NoAlertPresentException: no such alert.â  \r\n\r\nIâve tried treating as a window (ie  boolean isChildWindowOpen = wait.until(ExpectedConditions.\r\nNumberOfWindowsToBe(2)); and get âException in thread &quot;main&quot; org.openqa.selenium.TimeoutException: Expected condition failed: waiting for number of open windows to be 2 (tried for 10 second(s) with 500 milliseconds interval). I only get 1 window.\r\n\r\nThe HTML code I am clicking on is &lt;td&gt; == $0. Iâm guessing this is related to JS doing something?\r\n\r\nAttached is the parent window with the child overlayed and inspect data for the parent window.\r\n\r\n[![Parent/child with parent inspect][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xOAuL.jpg","title":"Selenium, canât access child window / alert /?","body":"<p>I am using selenium, java app to navigate a web page. I get to a point where if I hover over an area, I see a + magnifying glass. When I click here, it brings up a new window. This window contains the information I am after. On MacOS, this window only contains the information and a close X in upper right corner see attached.</p>\n<p>Iâve tried  to treat this window as an âalertâ (ie driver.switchTo().alert(); and get âException in thread &quot;main&quot; org.openqa.selenium.NoAlertPresentException: no such alert.â</p>\n<p>Iâve tried treating as a window (ie  boolean isChildWindowOpen = wait.until(ExpectedConditions.\nNumberOfWindowsToBe(2)); and get âException in thread &quot;main&quot; org.openqa.selenium.TimeoutException: Expected condition failed: waiting for number of open windows to be 2 (tried for 10 second(s) with 500 milliseconds interval). I only get 1 window.</p>\n<p>The HTML code I am clicking on is  == $0. Iâm guessing this is related to JS doing something?</p>\n<p>Attached is the parent window with the child overlayed and inspect data for the parent window.</p>\n<p><a href=\"https://i.stack.imgur.com/xOAuL.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xOAuL.jpg\" alt=\"Parent/child with parent inspect\" /></a></p>\n"},{"tags":["java","android-studio","google-cloud-vision","google-cloud-vertex-ai","google-ai-platform"],"comments":[{"owner":{"account_id":4487116,"reputation":429,"user_id":3649352,"accept_rate":67,"display_name":"Kunal Varpe"},"score":0,"creation_date":1673078743,"post_id":75034881,"comment_id":132420848,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":27456034,"reputation":1,"user_id":20947467,"display_name":"P&#233;rez Rojas Sa&#250;l Eduardo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":202,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673030087,"creation_date":1673030087,"question_id":75034881,"body_markdown":"I am developing an app on Android Studio using the Cloud Vision APIs from Google, and I have already made the label detection from a picture taken with the smartphone, but I would like to make a second version with a pre-trained model by me with the API Vertex AI since the general label detection is not pretty specific for what I want.\r\n\r\nI already know how to train the model in the web, but I have been looking for an example of how to implement the Vertex API on Android Studio (Java), does anybody have an example? or could help me? the documentation is not full since it is a &quot;new&quot; API.\r\n\r\nThanks.","title":"Vertex AI project on Android Studio","body":"<p>I am developing an app on Android Studio using the Cloud Vision APIs from Google, and I have already made the label detection from a picture taken with the smartphone, but I would like to make a second version with a pre-trained model by me with the API Vertex AI since the general label detection is not pretty specific for what I want.</p>\n<p>I already know how to train the model in the web, but I have been looking for an example of how to implement the Vertex API on Android Studio (Java), does anybody have an example? or could help me? the documentation is not full since it is a &quot;new&quot; API.</p>\n<p>Thanks.</p>\n"},{"tags":["java","eclipse","docusignapi","electronic-signature"],"comments":[{"owner":{"account_id":3941825,"reputation":12917,"user_id":3255871,"display_name":"Inbar Gazit"},"score":0,"creation_date":1656356306,"post_id":72777060,"comment_id":128547466,"body_markdown":"What version of Java do you use?\nDid you try to download a quickstart?","body":"What version of Java do you use? Did you try to download a quickstart?"},{"owner":{"account_id":25570787,"reputation":11,"user_id":19351187,"display_name":"Salma Louhaichy"},"score":0,"creation_date":1656415037,"post_id":72777060,"comment_id":128561427,"body_markdown":"i am using java 15, the quickstart does not run because of missing methods in the DSConfiguration class","body":"i am using java 15, the quickstart does not run because of missing methods in the DSConfiguration class"}],"answers":[{"comments":[{"owner":{"account_id":25570787,"reputation":11,"user_id":19351187,"display_name":"Salma Louhaichy"},"score":0,"creation_date":1656402091,"post_id":72777548,"comment_id":128556470,"body_markdown":"i did update them to the same version but still the same error !","body":"i did update them to the same version but still the same error !"},{"owner":{"account_id":25664310,"reputation":21,"user_id":19429594,"display_name":"Docusign Dev"},"score":0,"creation_date":1656457446,"post_id":72777548,"comment_id":128576142,"body_markdown":"First, I would recommend trying a full clean-compile. Sometimes, issues with external dependencies will resolve itself. If not, you may have to do something more complex called shading. I&#39;ve provided some resources to learn and try to fix this:\n1. https://stackoverflow.com/questions/49810578/what-is-a-shaded-jar-and-what-is-the-difference-similarities-between-uber-jar-a\n2. https://www.waitingforcode.com/apache-spark/shading-solution-dependency-hell-spark/read","body":"First, I would recommend trying a full clean-compile. Sometimes, issues with external dependencies will resolve itself. If not, you may have to do something more complex called shading. I&#39;ve provided some resources to learn and try to fix this: 1. <a href=\"https://stackoverflow.com/questions/49810578/what-is-a-shaded-jar-and-what-is-the-difference-similarities-between-uber-jar-a\" title=\"what is a shaded jar and what is the difference similarities between uber jar a\">stackoverflow.com/questions/49810578/&hellip;</a> 2. <a href=\"https://www.waitingforcode.com/apache-spark/shading-solution-dependency-hell-spark/read\" rel=\"nofollow noreferrer\">waitingforcode.com/apache-spark/&hellip;</a>"}],"tags":[],"owner":{"account_id":25664310,"reputation":21,"user_id":19429594,"display_name":"Docusign Dev"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656358962,"creation_date":1656358962,"answer_id":72777548,"question_id":72777060,"body_markdown":"I&#39;m guessing that this is due to multiple versions of jersey-client in your codebase. Docusign&#39;s current jersey-client version is 2.29.1. Are you able to update your other versions to at least that, or you can add dependencies in your pom.xml for specific versions like so here: https://www.tutorialspoint.com/maven/maven_external_dependencies.htm. Please try that and let us know.","title":"java.lang.NoSuchMethodError: &#39;void org.glassfish.jersey.model.internal.CommonConfig.&lt;init&gt;(javax.ws.rs.RuntimeType, java.util.function.Predicate)&#39;","body":"<p>I'm guessing that this is due to multiple versions of jersey-client in your codebase. Docusign's current jersey-client version is 2.29.1. Are you able to update your other versions to at least that, or you can add dependencies in your pom.xml for specific versions like so here: <a href=\"https://www.tutorialspoint.com/maven/maven_external_dependencies.htm\" rel=\"nofollow noreferrer\">https://www.tutorialspoint.com/maven/maven_external_dependencies.htm</a>. Please try that and let us know.</p>\n"},{"tags":[],"owner":{"account_id":445017,"reputation":1103,"user_id":837189,"display_name":"scott"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673029480,"creation_date":1673029480,"answer_id":75034787,"question_id":72777060,"body_markdown":"I ran into the same exception, although in a slightly different context, when trying to set up a jersey-server, and looks like you are encountering this in the setup of jersey-client, but I suspect the issue is the same.\r\n\r\nIn my case, I was using jersey-server 2.28 (org.glassfish.jersey.core:jersey-server:2.28), and tracked down that the class: `org.glassfish.jersey.model.internal.CommonConfig` comes from the jersey-common.jar (org.glassfish.jersey.core:jersey-common). \r\n\r\nLooking at the jars in my classpath I noticed that a `jersey-common-3.1.0.jar` had made it&#39;s way into the classpath and believe that was causing the issue. After removing the offending dependency that was causing jersey-common 3.1.0 to be pulled into the classpath, the exception went away.\r\n\r\nI suspect you are using jersey-client version: 2.x but have a jersey-common 3.x jar in the classpath","title":"java.lang.NoSuchMethodError: &#39;void org.glassfish.jersey.model.internal.CommonConfig.&lt;init&gt;(javax.ws.rs.RuntimeType, java.util.function.Predicate)&#39;","body":"<p>I ran into the same exception, although in a slightly different context, when trying to set up a jersey-server, and looks like you are encountering this in the setup of jersey-client, but I suspect the issue is the same.</p>\n<p>In my case, I was using jersey-server 2.28 (org.glassfish.jersey.core:jersey-server:2.28), and tracked down that the class: <code>org.glassfish.jersey.model.internal.CommonConfig</code> comes from the jersey-common.jar (org.glassfish.jersey.core:jersey-common).</p>\n<p>Looking at the jars in my classpath I noticed that a <code>jersey-common-3.1.0.jar</code> had made it's way into the classpath and believe that was causing the issue. After removing the offending dependency that was causing jersey-common 3.1.0 to be pulled into the classpath, the exception went away.</p>\n<p>I suspect you are using jersey-client version: 2.x but have a jersey-common 3.x jar in the classpath</p>\n"}],"owner":{"account_id":25570787,"reputation":11,"user_id":19351187,"display_name":"Salma Louhaichy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2161,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1673029480,"creation_date":1656355892,"question_id":72777060,"body_markdown":"I am working on use the embedded e-signature in my web app ( java eclipse) i get this error and i do not understand what it means ?:\r\n```none\r\n    java.lang.NoSuchMethodError: &#39;void org.glassfish.jersey.model.internal.CommonConfig.&lt;init&gt; \r\n    (javax.ws.rs.RuntimeType, java.util.function.Predicate)&#39;\r\n\torg.glassfish.jersey.client.ClientConfig$State.&lt;init&gt;(ClientConfig.java:140)\r\n\torg.glassfish.jersey.client.ClientConfig.&lt;init&gt;(ClientConfig.java:496)\r\n\tcom.docusign.esign.client.ApiClient.buildHttpClient(ApiClient.java:1753)\r\n\tcom.docusign.esign.client.ApiClient.&lt;init&gt;(ApiClient.java:77)\r\n\tcom.docusign.esign.client.Configuration.&lt;clinit&gt;(Configuration.java:5)\r\n\tcom.docusign.esign.api.EnvelopesApi.&lt;init&gt;(EnvelopesApi.java:16)\r\n\tcom.uniquedeveloper.registration.test2.EmbeddedSigningTest(test2.java:141)\r\n\tcom.uniquedeveloper.registration.test2.doPost(test2.java:64)\r\n\tjavax.servlet.http.HttpServlet.service(HttpServlet.java:681)\r\n\tjavax.servlet.http.HttpServlet.service(HttpServlet.java:764)\r\n\torg.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n```\r\nHere is my updated pom file , i am still trying to work through the different versions of jersey but none of them have worked so far.\r\n\r\n```\r\n    &lt;project xmlns=&quot;https://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;groupId&gt;Trial1&lt;/groupId&gt;\r\n      &lt;artifactId&gt;Trial1&lt;/artifactId&gt;\r\n      &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n      &lt;packaging&gt;war&lt;/packaging&gt;\r\n      &lt;build&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.8.1&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n              &lt;release&gt;15&lt;/release&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n          &lt;plugin&gt;\r\n            &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.2.3&lt;/version&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n       &lt;properties&gt;\r\n            &lt;java.version&gt;11&lt;/java.version&gt;\r\n            &lt;oauth2.version&gt;2.5.6&lt;/oauth2.version&gt;\r\n            &lt;commonsio.version&gt;2.11.0&lt;/commonsio.version&gt;\r\n            &lt;docusign.version&gt;3.18.0&lt;/docusign.version&gt;\r\n            &lt;rooms.version&gt;1.1.0&lt;/rooms.version&gt;\r\n            &lt;click.version&gt;1.0.0&lt;/click.version&gt;\r\n            &lt;monitor.version&gt;1.1.0&lt;/monitor.version&gt;\r\n            &lt;admin.version&gt;1.0.0-BETA&lt;/admin.version&gt;\r\n        &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n     &lt;dependency&gt;\r\n```","title":"java.lang.NoSuchMethodError: &#39;void org.glassfish.jersey.model.internal.CommonConfig.&lt;init&gt;(javax.ws.rs.RuntimeType, java.util.function.Predicate)&#39;","body":"<p>I am working on use the embedded e-signature in my web app ( java eclipse) i get this error and i do not understand what it means ?:</p>\n<pre class=\"lang-none prettyprint-override\"><code>    java.lang.NoSuchMethodError: 'void org.glassfish.jersey.model.internal.CommonConfig.&lt;init&gt; \n    (javax.ws.rs.RuntimeType, java.util.function.Predicate)'\n    org.glassfish.jersey.client.ClientConfig$State.&lt;init&gt;(ClientConfig.java:140)\n    org.glassfish.jersey.client.ClientConfig.&lt;init&gt;(ClientConfig.java:496)\n    com.docusign.esign.client.ApiClient.buildHttpClient(ApiClient.java:1753)\n    com.docusign.esign.client.ApiClient.&lt;init&gt;(ApiClient.java:77)\n    com.docusign.esign.client.Configuration.&lt;clinit&gt;(Configuration.java:5)\n    com.docusign.esign.api.EnvelopesApi.&lt;init&gt;(EnvelopesApi.java:16)\n    com.uniquedeveloper.registration.test2.EmbeddedSigningTest(test2.java:141)\n    com.uniquedeveloper.registration.test2.doPost(test2.java:64)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:681)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\n    org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n</code></pre>\n<p>Here is my updated pom file , i am still trying to work through the different versions of jersey but none of them have worked so far.</p>\n<pre><code>    &lt;project xmlns=&quot;https://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n      &lt;groupId&gt;Trial1&lt;/groupId&gt;\n      &lt;artifactId&gt;Trial1&lt;/artifactId&gt;\n      &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n      &lt;packaging&gt;war&lt;/packaging&gt;\n      &lt;build&gt;\n        &lt;plugins&gt;\n          &lt;plugin&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.8.1&lt;/version&gt;\n            &lt;configuration&gt;\n              &lt;release&gt;15&lt;/release&gt;\n            &lt;/configuration&gt;\n          &lt;/plugin&gt;\n          &lt;plugin&gt;\n            &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.2.3&lt;/version&gt;\n          &lt;/plugin&gt;\n        &lt;/plugins&gt;\n      &lt;/build&gt;\n       &lt;properties&gt;\n            &lt;java.version&gt;11&lt;/java.version&gt;\n            &lt;oauth2.version&gt;2.5.6&lt;/oauth2.version&gt;\n            &lt;commonsio.version&gt;2.11.0&lt;/commonsio.version&gt;\n            &lt;docusign.version&gt;3.18.0&lt;/docusign.version&gt;\n            &lt;rooms.version&gt;1.1.0&lt;/rooms.version&gt;\n            &lt;click.version&gt;1.0.0&lt;/click.version&gt;\n            &lt;monitor.version&gt;1.1.0&lt;/monitor.version&gt;\n            &lt;admin.version&gt;1.0.0-BETA&lt;/admin.version&gt;\n        &lt;/properties&gt;\n    &lt;dependencies&gt;\n     &lt;dependency&gt;\n</code></pre>\n"},{"tags":["java","design-patterns","project-reactor","reactor"],"comments":[{"owner":{"account_id":5823420,"reputation":785,"user_id":6656833,"display_name":"Pavel"},"score":1,"creation_date":1672432647,"post_id":74965386,"comment_id":132290593,"body_markdown":"There is a more general question on difference between reactor pattern and reactive steams  (which project reactor is one of the implementations) here https://stackoverflow.com/questions/69479765/reactive-streams-vs-reactor-pattern","body":"There is a more general question on difference between reactor pattern and reactive steams  (which project reactor is one of the implementations) here <a href=\"https://stackoverflow.com/questions/69479765/reactive-streams-vs-reactor-pattern\" title=\"reactive streams vs reactor pattern\">stackoverflow.com/questions/69479765/&hellip;</a>"},{"owner":{"account_id":2757427,"reputation":2709,"user_id":2375105,"accept_rate":62,"display_name":"traveh"},"score":1,"creation_date":1672432849,"post_id":74965386,"comment_id":132290625,"body_markdown":"Thanks. So according to that answer, the author of &quot;java-design-patterns&quot; indeed just pulled that &quot;fact&quot; out of thin air.","body":"Thanks. So according to that answer, the author of &quot;java-design-patterns&quot; indeed just pulled that &quot;fact&quot; out of thin air."}],"answers":[{"tags":[],"owner":{"account_id":27455820,"reputation":21,"user_id":20947291,"display_name":"Beddan Brek"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673029222,"creation_date":1673029222,"answer_id":75034738,"question_id":74965386,"body_markdown":"Project reactor is directed towards building non-blocking applications. It&#39;s threading model does allow using small number of threads. \r\n\r\nFrom reading the docs still still seems to consider themselves as based on the Reactor design pattern (although it is supposed to be for single threads) because \r\nit&#39;s possible to run it in a single-thread environment.\r\n\r\nAccording to the [docs][1]:\r\n \r\n&gt; Obtaining a Flux or a Mono does not necessarily mean that it runs in a dedicated Thread. Instead, most operators continue working in the Thread on which the previous operator executed.\r\n\r\nHowever, you can use an `ExecutorService` with multiple threads (see [this post][2]  for instructions).\r\n\r\n\r\n\r\n  [1]: https://projectreactor.io/docs/core/release/reference/#schedulers\r\n  [2]: https://stackoverflow.com/questions/30023582/increase-thread-count-in-spring-reactor-asynctaskexecutor","title":"Is there actually relation between project-reactor and the Reactor design pattern?","body":"<p>Project reactor is directed towards building non-blocking applications. It's threading model does allow using small number of threads.</p>\n<p>From reading the docs still still seems to consider themselves as based on the Reactor design pattern (although it is supposed to be for single threads) because\nit's possible to run it in a single-thread environment.</p>\n<p>According to the <a href=\"https://projectreactor.io/docs/core/release/reference/#schedulers\" rel=\"nofollow noreferrer\">docs</a>:</p>\n<blockquote>\n<p>Obtaining a Flux or a Mono does not necessarily mean that it runs in a dedicated Thread. Instead, most operators continue working in the Thread on which the previous operator executed.</p>\n</blockquote>\n<p>However, you can use an <code>ExecutorService</code> with multiple threads (see <a href=\"https://stackoverflow.com/questions/30023582/increase-thread-count-in-spring-reactor-asynctaskexecutor\">this post</a>  for instructions).</p>\n"}],"owner":{"account_id":2757427,"reputation":2709,"user_id":2375105,"accept_rate":62,"display_name":"traveh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1673029222,"creation_date":1672430422,"question_id":74965386,"body_markdown":"I&#39;ve been reading on the Reactor design pattern [here][1], and it mentions [project-reactor][2] as a &quot;Real world example&quot; of this design pattern. However, I couldn&#39;t find any mention or even a hint in project-reactor of the Reactor design pattern other than using the word &quot;reactor&quot; in the name.\r\n\r\nI&#39;m wondering the author of java-design-patterns just pulled that &quot;fact&quot; out of thin air or not.\r\n\r\n\r\n  [1]: https://java-design-patterns.com/patterns/reactor/\r\n  [2]: https://projectreactor.io/","title":"Is there actually relation between project-reactor and the Reactor design pattern?","body":"<p>I've been reading on the Reactor design pattern <a href=\"https://java-design-patterns.com/patterns/reactor/\" rel=\"nofollow noreferrer\">here</a>, and it mentions <a href=\"https://projectreactor.io/\" rel=\"nofollow noreferrer\">project-reactor</a> as a &quot;Real world example&quot; of this design pattern. However, I couldn't find any mention or even a hint in project-reactor of the Reactor design pattern other than using the word &quot;reactor&quot; in the name.</p>\n<p>I'm wondering the author of java-design-patterns just pulled that &quot;fact&quot; out of thin air or not.</p>\n"},{"tags":["java","apache-kafka","avro","kafka-consumer-api","kafka-producer-api"],"answers":[{"comments":[{"owner":{"account_id":3708451,"reputation":1331,"user_id":3086378,"accept_rate":67,"display_name":"Javier Holguera"},"score":1,"creation_date":1486979569,"post_id":42201111,"comment_id":71563647,"body_markdown":"If that doesn&#39;t fix it, consider these steps:\n1. Check that your schema registry contains a schema for the corresponding subject.\n2. Use `kafka-avro-console-consumer` to consume your event.\nThat would narrow the scope of the problem to either your producer or your consumer.","body":"If that doesn&#39;t fix it, consider these steps: 1. Check that your schema registry contains a schema for the corresponding subject. 2. Use <code>kafka-avro-console-consumer</code> to consume your event. That would narrow the scope of the problem to either your producer or your consumer."},{"owner":{"account_id":1141338,"reputation":6503,"user_id":1125151,"accept_rate":34,"display_name":"Harmeet Singh Taara"},"score":0,"creation_date":1486981831,"post_id":42201111,"comment_id":71565042,"body_markdown":"Hey @Javier, I ma using `./kafka-avro-console-consumer --bootstrap-server localhost:2181 --topic CustomerSpecificCountry --from-beginning --property schema.registry.url=http://localhost:8081\n` for executing consumer, but nothing is received bu this consumer, Is something wrong with my command?","body":"Hey @Javier, I ma using <code>.&#47;kafka-avro-console-consumer --bootstrap-server localhost:2181 --topic CustomerSpecificCountry --from-beginning --property schema.registry.url=http:&#47;&#47;localhost:8081 </code> for executing consumer, but nothing is received bu this consumer, Is something wrong with my command?"},{"owner":{"account_id":3708451,"reputation":1331,"user_id":3086378,"accept_rate":67,"display_name":"Javier Holguera"},"score":0,"creation_date":1486981955,"post_id":42201111,"comment_id":71565124,"body_markdown":"bootstrap-server should point to one or more of your kafka brokers, not your zookeeper node.","body":"bootstrap-server should point to one or more of your kafka brokers, not your zookeeper node."},{"owner":{"account_id":1141338,"reputation":6503,"user_id":1125151,"accept_rate":34,"display_name":"Harmeet Singh Taara"},"score":0,"creation_date":1486982255,"post_id":42201111,"comment_id":71565302,"body_markdown":"I got it, I am getting this exception ` ERROR Unknown error when running consumer:  (kafka.tools.ConsoleConsumer$:105)\norg.apache.kafka.common.KafkaException: Failed to construct kafka consumer\n\tat org.apache.kafka.clients.consumer.KafkaConsumer.&lt;init&gt;(KafkaConsumer.java:703)\n\tat org.apache.kafka.clients.consumer.KafkaConsumer.&lt;init&gt;(KafkaConsumer.java:584)\n\tat org.apache.kafka.clients.consumer.KafkaConsumer.&lt;init&gt;(KafkaConsumer.java:566)\n\tat kafka.consumer.NewShinyConsumer.&lt;init&gt;(BaseConsumer.scala:65)\n` How can I resolve this?","body":"I got it, I am getting this exception ` ERROR Unknown error when running consumer:  (kafka.tools.ConsoleConsumer$:105) org.apache.kafka.common.KafkaException: Failed to construct kafka consumer \tat org.apache.kafka.clients.consumer.KafkaConsumer.&lt;init&gt;(Kafka&zwnj;&#8203;Consumer.java:703) \tat org.apache.kafka.clients.consumer.KafkaConsumer.&lt;init&gt;(Kafka&zwnj;&#8203;Consumer.java:584) \tat org.apache.kafka.clients.consumer.KafkaConsumer.&lt;init&gt;(Kafka&zwnj;&#8203;Consumer.java:566) \tat kafka.consumer.NewShinyConsumer.&lt;init&gt;(BaseConsumer.scala:65&zwnj;&#8203;) ` How can I resolve this?"},{"owner":{"account_id":3708451,"reputation":1331,"user_id":3086378,"accept_rate":67,"display_name":"Javier Holguera"},"score":0,"creation_date":1486982485,"post_id":42201111,"comment_id":71565471,"body_markdown":"That&#39;s not very helpful. Are you passing more than one kafka broker? I&#39;d consider passing just one, I can never remember what&#39;s the format to pass multiple, if separate them by commands or semicolons or what. You only need one because it just needs to reach one broker to get the metadata about the cluster.","body":"That&#39;s not very helpful. Are you passing more than one kafka broker? I&#39;d consider passing just one, I can never remember what&#39;s the format to pass multiple, if separate them by commands or semicolons or what. You only need one because it just needs to reach one broker to get the metadata about the cluster."},{"owner":{"account_id":1141338,"reputation":6503,"user_id":1125151,"accept_rate":34,"display_name":"Harmeet Singh Taara"},"score":0,"creation_date":1486982532,"post_id":42201111,"comment_id":71565505,"body_markdown":"No, I have only one kafka broker. How can we register schema into schema-registry?","body":"No, I have only one kafka broker. How can we register schema into schema-registry?"},{"owner":{"account_id":3708451,"reputation":1331,"user_id":3086378,"accept_rate":67,"display_name":"Javier Holguera"},"score":0,"creation_date":1486982543,"post_id":42201111,"comment_id":71565510,"body_markdown":"Let us [continue this discussion in chat](http://chat.stackoverflow.com/rooms/135575/discussion-between-javier-holguera-and-harmeet-singh-taara).","body":"Let us <a href=\"http://chat.stackoverflow.com/rooms/135575/discussion-between-javier-holguera-and-harmeet-singh-taara\">continue this discussion in chat</a>."},{"owner":{"account_id":1039480,"reputation":191,"user_id":1045874,"display_name":"JackWang"},"score":0,"creation_date":1562686410,"post_id":42201111,"comment_id":100450491,"body_markdown":"thanks. this is work for me:\nT data = (T) SpecificData.get().deepCopy(record.value().getSchema(), record.value());\n\nrecode is ConsumerRecord&lt;String, GenericData.Record&gt; record","body":"thanks. this is work for me: T data = (T) SpecificData.get().deepCopy(record.value().getSchema(), record.value());  recode is ConsumerRecord&lt;String, GenericData.Record&gt; record"}],"tags":[],"owner":{"account_id":3708451,"reputation":1331,"user_id":3086378,"accept_rate":67,"display_name":"Javier Holguera"},"comment_count":8,"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1486987893,"creation_date":1486979556,"answer_id":42201111,"question_id":42200875,"body_markdown":"This is the final code that would work, after discussing with @harmeen\r\n\r\n    static { \r\n        kafkaProps.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;smallest&quot;); \r\n        kafkaProps.put(ConsumerConfig.GROUP_ID_CONFIG, &quot;CustomerCountryGroup1&quot;); \r\n        kafkaProps.put(&quot;zookeeper.connect&quot;, &quot;localhost:2181&quot;); \r\n        kafkaProps.put(&quot;schema.registry.url&quot;, &quot;http://localhost:8081&quot;); \r\n        kafkaProps.put(KafkaAvroDeserializerConfig.SPECIFIC_AVRO_READER_CONFIG, true); \r\n    }\r\n  \r\n    public static void infiniteConsumer() throws IOException { \r\n\r\n    VerifiableProperties properties = new VerifiableProperties(kafkaProps); \r\n    StringDecoder keyDecoder = new StringDecoder(properties); \r\n    KafkaAvroDecoder valueDecoder = new KafkaAvroDecoder(properties); \r\n\r\n    Map&lt;String, Integer&gt; topicCountMap = new HashMap&lt;&gt;(); \r\n    topicCountMap.put(&quot;BrandNewTopics&quot;, 1); \r\n\r\n    ConsumerConnector consumer = createJavaConsumerConnector(new kafka.consumer.ConsumerConfig(kafkaProps)); \r\n    Map&lt;String, List&lt;KafkaStream&lt;String, Object&gt;&gt;&gt; consumerMap = consumer.createMessageStreams(topicCountMap, keyDecoder, valueDecoder); \r\n\r\n    KafkaStream stream = consumerMap.get(&quot;BrandNewTopics&quot;).get(0); \r\n    ConsumerIterator it = stream.iterator(); \r\n\r\n    while (it.hasNext()) { \r\n        MessageAndMetadata messageAndMetadata = it.next(); \r\n        String key = (String) messageAndMetadata.key(); \r\n        GenericRecord record = (GenericRecord) messageAndMetadata.message(); \r\n        Customer customer = (Customer) SpecificData.get().deepCopy(Customer.SCHEMA$, record); \r\n        System.out.println(&quot;Key: &quot; + key); \r\n        System.out.println(&quot;Value: &quot; + customer); \r\n    } \r\n\r\nThings that got change:\r\n\r\n - Adding `SPECIFIC_AVRO_READER_CONFIG` property to true.\r\n - Using _smallest_ to start from the beginning of the topic.\r\n - Using `StringSerializer` and `StringDeserializer` for keys.\r\n - Change both producer and consumer to reflect the previous change\r\n - Adjust the namespace for the `Customer` class that represents the Avro record.","title":"Apache Kafka and Avro: org.apache.avro.generic.GenericData$Record cannot be cast to com.harmeetsingh13.java.Customer","body":"<p>This is the final code that would work, after discussing with @harmeen</p>\n\n<pre><code>static { \n    kafkaProps.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, \"smallest\"); \n    kafkaProps.put(ConsumerConfig.GROUP_ID_CONFIG, \"CustomerCountryGroup1\"); \n    kafkaProps.put(\"zookeeper.connect\", \"localhost:2181\"); \n    kafkaProps.put(\"schema.registry.url\", \"http://localhost:8081\"); \n    kafkaProps.put(KafkaAvroDeserializerConfig.SPECIFIC_AVRO_READER_CONFIG, true); \n}\n\npublic static void infiniteConsumer() throws IOException { \n\nVerifiableProperties properties = new VerifiableProperties(kafkaProps); \nStringDecoder keyDecoder = new StringDecoder(properties); \nKafkaAvroDecoder valueDecoder = new KafkaAvroDecoder(properties); \n\nMap&lt;String, Integer&gt; topicCountMap = new HashMap&lt;&gt;(); \ntopicCountMap.put(\"BrandNewTopics\", 1); \n\nConsumerConnector consumer = createJavaConsumerConnector(new kafka.consumer.ConsumerConfig(kafkaProps)); \nMap&lt;String, List&lt;KafkaStream&lt;String, Object&gt;&gt;&gt; consumerMap = consumer.createMessageStreams(topicCountMap, keyDecoder, valueDecoder); \n\nKafkaStream stream = consumerMap.get(\"BrandNewTopics\").get(0); \nConsumerIterator it = stream.iterator(); \n\nwhile (it.hasNext()) { \n    MessageAndMetadata messageAndMetadata = it.next(); \n    String key = (String) messageAndMetadata.key(); \n    GenericRecord record = (GenericRecord) messageAndMetadata.message(); \n    Customer customer = (Customer) SpecificData.get().deepCopy(Customer.SCHEMA$, record); \n    System.out.println(\"Key: \" + key); \n    System.out.println(\"Value: \" + customer); \n} \n</code></pre>\n\n<p>Things that got change:</p>\n\n<ul>\n<li>Adding <code>SPECIFIC_AVRO_READER_CONFIG</code> property to true.</li>\n<li>Using <em>smallest</em> to start from the beginning of the topic.</li>\n<li>Using <code>StringSerializer</code> and <code>StringDeserializer</code> for keys.</li>\n<li>Change both producer and consumer to reflect the previous change</li>\n<li>Adjust the namespace for the <code>Customer</code> class that represents the Avro record.</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":18088193,"reputation":595,"user_id":13148560,"display_name":"Japhei"},"score":0,"creation_date":1657396699,"post_id":72877940,"comment_id":128802190,"body_markdown":"This does not really answer the question. If you have a different question, you can ask it by clicking [Ask Question](https://stackoverflow.com/questions/ask). To get notified when this question gets new answers, you can [follow this question](https://meta.stackexchange.com/q/345661). Once you have enough [reputation](https://stackoverflow.com/help/whats-reputation), you can also [add a bounty](https://stackoverflow.com/help/privileges/set-bounties) to draw more attention to this question. - [From Review](/review/late-answers/32182338)","body":"This does not really answer the question. If you have a different question, you can ask it by clicking <a href=\"https://stackoverflow.com/questions/ask\">Ask Question</a>. To get notified when this question gets new answers, you can <a href=\"https://meta.stackexchange.com/q/345661\">follow this question</a>. Once you have enough <a href=\"https://stackoverflow.com/help/whats-reputation\">reputation</a>, you can also <a href=\"https://stackoverflow.com/help/privileges/set-bounties\">add a bounty</a> to draw more attention to this question. - <a href=\"/review/late-answers/32182338\">From Review</a>"}],"tags":[],"owner":{"account_id":464955,"reputation":21,"user_id":7234451,"display_name":"Prakhya"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657081450,"creation_date":1657081450,"answer_id":72877940,"question_id":42200875,"body_markdown":"I did get the issue. The root cause is Avro deserializer expect the class also should be in the same package as serializer. For example if in your producer you used a.b.c.AvroSerializer and a.b.c.AvroDeserializer in your consumer you should use the same package structure. Just keeping the same package structure resolved the issue for me.","title":"Apache Kafka and Avro: org.apache.avro.generic.GenericData$Record cannot be cast to com.harmeetsingh13.java.Customer","body":"<p>I did get the issue. The root cause is Avro deserializer expect the class also should be in the same package as serializer. For example if in your producer you used a.b.c.AvroSerializer and a.b.c.AvroDeserializer in your consumer you should use the same package structure. Just keeping the same package structure resolved the issue for me.</p>\n"},{"tags":[],"owner":{"account_id":4518934,"reputation":3509,"user_id":7764014,"accept_rate":47,"display_name":"Yassine CHABLI"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673029156,"creation_date":1673029156,"answer_id":75034730,"question_id":42200875,"body_markdown":"Facing the same issue was resolved to put this two configurations within the consumer factory config: \r\n\r\n    config.put(AbstractKafkaAvroSerDeConfig.AUTO_REGISTER_SCHEMAS, false);\r\n    config.put(KafkaAvroDeserializerConfig.SPECIFIC_AVRO_READER_CONFIG, true);","title":"Apache Kafka and Avro: org.apache.avro.generic.GenericData$Record cannot be cast to com.harmeetsingh13.java.Customer","body":"<p>Facing the same issue was resolved to put this two configurations within the consumer factory config:</p>\n<pre><code>config.put(AbstractKafkaAvroSerDeConfig.AUTO_REGISTER_SCHEMAS, false);\nconfig.put(KafkaAvroDeserializerConfig.SPECIFIC_AVRO_READER_CONFIG, true);\n</code></pre>\n"}],"owner":{"account_id":1141338,"reputation":6503,"user_id":1125151,"accept_rate":34,"display_name":"Harmeet Singh Taara"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28816,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":42201111,"answer_count":3,"score":7,"last_activity_date":1673029156,"creation_date":1486978707,"question_id":42200875,"body_markdown":"Whenever I am trying to read the message from kafka queue, I am getting following exception : \r\n\r\n    [error] (run-main-0) java.lang.ClassCastException: org.apache.avro.generic.GenericData$Record cannot be cast to com.harmeetsingh13.java.Customer\r\n    java.lang.ClassCastException: org.apache.avro.generic.GenericData$Record cannot be cast to com.harmeetsingh13.java.Customer\r\n            at com.harmeetsingh13.java.consumers.avrodesrializer.AvroSpecificDeserializer.infiniteConsumer(AvroSpecificDeserializer.java:79)\r\n            at com.harmeetsingh13.java.consumers.avrodesrializer.AvroSpecificDeserializer.main(AvroSpecificDeserializer.java:87)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n            at java.lang.reflect.Method.invoke(Method.java:498)\r\n\r\nKafka Producer Code: \r\n\r\n    public class AvroSpecificProducer {\r\n        private static Properties kafkaProps = new Properties();\r\n        private static KafkaProducer&lt;String, Customer&gt; kafkaProducer;\r\n    \r\n        static {\r\n            kafkaProps.put(&quot;bootstrap.servers&quot;, &quot;localhost:9092&quot;);\r\n            kafkaProps.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, KafkaAvroSerializer.class);\r\n            kafkaProps.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, KafkaAvroSerializer.class);\r\n            kafkaProps.put(&quot;schema.registry.url&quot;, &quot;http://localhost:8081&quot;);\r\n            kafkaProducer = new KafkaProducer&lt;&gt;(kafkaProps);\r\n        }\r\n    \r\n        public static void fireAndForget(ProducerRecord&lt;String, Customer&gt; record) {\r\n            kafkaProducer.send(record);\r\n        }\r\n    \r\n        public static void asyncSend(ProducerRecord&lt;String, Customer&gt; record) {\r\n            kafkaProducer.send(record, (recordMetaData, ex) -&gt; {\r\n                System.out.println(&quot;Offset: &quot;+ recordMetaData.offset());\r\n                System.out.println(&quot;Topic: &quot;+ recordMetaData.topic());\r\n                System.out.println(&quot;Partition: &quot;+ recordMetaData.partition());\r\n                System.out.println(&quot;Timestamp: &quot;+ recordMetaData.timestamp());\r\n            });\r\n        }\r\n    \r\n        public static void main(String[] args) throws InterruptedException, IOException {\r\n            Customer customer1 = new Customer(1002, &quot;Jimmy&quot;);\r\n            ProducerRecord&lt;String, Customer&gt; record1 = new ProducerRecord&lt;&gt;(&quot;CustomerSpecificCountry&quot;,\r\n                    &quot;Customer One 11 &quot;, customer1\r\n            );\r\n    \r\n            asyncSend(record1);\r\n    \r\n            Thread.sleep(1000);\r\n        }\r\n    }\r\n\r\nKafka Consumer Code: \r\n\r\n    public class AvroSpecificDeserializer {\r\n    \r\n        private static Properties kafkaProps = new Properties();\r\n    \r\n        static {\r\n            kafkaProps.put(ConsumerConfig.GROUP_ID_CONFIG, &quot;CustomerCountryGroup1&quot;);\r\n            kafkaProps.put(&quot;zookeeper.connect&quot;, &quot;localhost:2181&quot;);\r\n            kafkaProps.put(&quot;schema.registry.url&quot;, &quot;http://localhost:8081&quot;);\r\n        }\r\n    \r\n        public static void infiniteConsumer() throws IOException {\r\n            VerifiableProperties properties = new VerifiableProperties(kafkaProps);\r\n            KafkaAvroDecoder keyDecoder = new KafkaAvroDecoder(properties);\r\n            KafkaAvroDecoder valueDecoder = new KafkaAvroDecoder(properties);\r\n    \r\n            Map&lt;String, Integer&gt; topicCountMap = new HashMap&lt;&gt;();\r\n            topicCountMap.put(&quot;NewTopic&quot;, 1);\r\n    \r\n            ConsumerConnector consumer = createJavaConsumerConnector(new kafka.consumer.ConsumerConfig(kafkaProps));\r\n            Map&lt;String, List&lt;KafkaStream&lt;Object, Object&gt;&gt;&gt; consumerMap = consumer.createMessageStreams(topicCountMap, keyDecoder, valueDecoder);\r\n    \r\n            KafkaStream stream = consumerMap.get(&quot;NewTopic&quot;).get(0);\r\n            ConsumerIterator it = stream.iterator();\r\n    \r\n            System.out.println(&quot;???????????????????????????????????????????????? &quot;);\r\n            while (it.hasNext()) {\r\n                System.out.println(&quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; &quot;);\r\n                MessageAndMetadata messageAndMetadata = it.next();\r\n                String key = (String) messageAndMetadata.key();\r\n                GenericRecord record = (GenericRecord) messageAndMetadata.message();\r\n                Customer customer = (Customer) SpecificData.get().deepCopy(Customer.SCHEMA$, record);\r\n                System.out.println(&quot;Key: &quot; + key);\r\n                System.out.println(&quot;Value: &quot; + customer);\r\n            }\r\n    \r\n        }\r\n    \r\n        public static void main(String[] args) throws IOException {\r\n            infiniteConsumer();\r\n        }\r\n    }\r\n\r\nI am following, These examples: \r\n\r\n 1. https://github.com/confluentinc/examples/blob/3.1.x/kafka-clients/specific-avro-producer/src/main/java/io/confluent/examples/producer/AvroClicksProducer.java\r\n 2. https://github.com/confluentinc/examples/blob/3.1.x/kafka-clients/specific-avro-consumer/src/main/java/io/confluent/examples/consumer/AvroClicksSessionizer.java\r\n\r\n","title":"Apache Kafka and Avro: org.apache.avro.generic.GenericData$Record cannot be cast to com.harmeetsingh13.java.Customer","body":"<p>Whenever I am trying to read the message from kafka queue, I am getting following exception : </p>\n\n<pre><code>[error] (run-main-0) java.lang.ClassCastException: org.apache.avro.generic.GenericData$Record cannot be cast to com.harmeetsingh13.java.Customer\njava.lang.ClassCastException: org.apache.avro.generic.GenericData$Record cannot be cast to com.harmeetsingh13.java.Customer\n        at com.harmeetsingh13.java.consumers.avrodesrializer.AvroSpecificDeserializer.infiniteConsumer(AvroSpecificDeserializer.java:79)\n        at com.harmeetsingh13.java.consumers.avrodesrializer.AvroSpecificDeserializer.main(AvroSpecificDeserializer.java:87)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n</code></pre>\n\n<p>Kafka Producer Code: </p>\n\n<pre><code>public class AvroSpecificProducer {\n    private static Properties kafkaProps = new Properties();\n    private static KafkaProducer&lt;String, Customer&gt; kafkaProducer;\n\n    static {\n        kafkaProps.put(\"bootstrap.servers\", \"localhost:9092\");\n        kafkaProps.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, KafkaAvroSerializer.class);\n        kafkaProps.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, KafkaAvroSerializer.class);\n        kafkaProps.put(\"schema.registry.url\", \"http://localhost:8081\");\n        kafkaProducer = new KafkaProducer&lt;&gt;(kafkaProps);\n    }\n\n    public static void fireAndForget(ProducerRecord&lt;String, Customer&gt; record) {\n        kafkaProducer.send(record);\n    }\n\n    public static void asyncSend(ProducerRecord&lt;String, Customer&gt; record) {\n        kafkaProducer.send(record, (recordMetaData, ex) -&gt; {\n            System.out.println(\"Offset: \"+ recordMetaData.offset());\n            System.out.println(\"Topic: \"+ recordMetaData.topic());\n            System.out.println(\"Partition: \"+ recordMetaData.partition());\n            System.out.println(\"Timestamp: \"+ recordMetaData.timestamp());\n        });\n    }\n\n    public static void main(String[] args) throws InterruptedException, IOException {\n        Customer customer1 = new Customer(1002, \"Jimmy\");\n        ProducerRecord&lt;String, Customer&gt; record1 = new ProducerRecord&lt;&gt;(\"CustomerSpecificCountry\",\n                \"Customer One 11 \", customer1\n        );\n\n        asyncSend(record1);\n\n        Thread.sleep(1000);\n    }\n}\n</code></pre>\n\n<p>Kafka Consumer Code: </p>\n\n<pre><code>public class AvroSpecificDeserializer {\n\n    private static Properties kafkaProps = new Properties();\n\n    static {\n        kafkaProps.put(ConsumerConfig.GROUP_ID_CONFIG, \"CustomerCountryGroup1\");\n        kafkaProps.put(\"zookeeper.connect\", \"localhost:2181\");\n        kafkaProps.put(\"schema.registry.url\", \"http://localhost:8081\");\n    }\n\n    public static void infiniteConsumer() throws IOException {\n        VerifiableProperties properties = new VerifiableProperties(kafkaProps);\n        KafkaAvroDecoder keyDecoder = new KafkaAvroDecoder(properties);\n        KafkaAvroDecoder valueDecoder = new KafkaAvroDecoder(properties);\n\n        Map&lt;String, Integer&gt; topicCountMap = new HashMap&lt;&gt;();\n        topicCountMap.put(\"NewTopic\", 1);\n\n        ConsumerConnector consumer = createJavaConsumerConnector(new kafka.consumer.ConsumerConfig(kafkaProps));\n        Map&lt;String, List&lt;KafkaStream&lt;Object, Object&gt;&gt;&gt; consumerMap = consumer.createMessageStreams(topicCountMap, keyDecoder, valueDecoder);\n\n        KafkaStream stream = consumerMap.get(\"NewTopic\").get(0);\n        ConsumerIterator it = stream.iterator();\n\n        System.out.println(\"???????????????????????????????????????????????? \");\n        while (it.hasNext()) {\n            System.out.println(\"&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; \");\n            MessageAndMetadata messageAndMetadata = it.next();\n            String key = (String) messageAndMetadata.key();\n            GenericRecord record = (GenericRecord) messageAndMetadata.message();\n            Customer customer = (Customer) SpecificData.get().deepCopy(Customer.SCHEMA$, record);\n            System.out.println(\"Key: \" + key);\n            System.out.println(\"Value: \" + customer);\n        }\n\n    }\n\n    public static void main(String[] args) throws IOException {\n        infiniteConsumer();\n    }\n}\n</code></pre>\n\n<p>I am following, These examples: </p>\n\n<ol>\n<li><a href=\"https://github.com/confluentinc/examples/blob/3.1.x/kafka-clients/specific-avro-producer/src/main/java/io/confluent/examples/producer/AvroClicksProducer.java\" rel=\"noreferrer\">https://github.com/confluentinc/examples/blob/3.1.x/kafka-clients/specific-avro-producer/src/main/java/io/confluent/examples/producer/AvroClicksProducer.java</a></li>\n<li><a href=\"https://github.com/confluentinc/examples/blob/3.1.x/kafka-clients/specific-avro-consumer/src/main/java/io/confluent/examples/consumer/AvroClicksSessionizer.java\" rel=\"noreferrer\">https://github.com/confluentinc/examples/blob/3.1.x/kafka-clients/specific-avro-consumer/src/main/java/io/confluent/examples/consumer/AvroClicksSessionizer.java</a></li>\n</ol>\n"},{"tags":["java","string","comparison"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":4,"creation_date":1673027578,"post_id":75034425,"comment_id":132412683,"body_markdown":"Use loop to iterate over corresponding characters, compare them, if they are not the same increase counter.","body":"Use loop to iterate over corresponding characters, compare them, if they are not the same increase counter."}],"answers":[{"tags":[],"owner":{"account_id":2818342,"reputation":299906,"user_id":2422776,"display_name":"Mureinik"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1673028171,"creation_date":1673028171,"answer_id":75034546,"question_id":75034425,"body_markdown":"You could iterate up to the length of the strings and increment a counter for each different character:\r\n\r\n```java\r\nint numDiffs = 0;\r\nfor (int i = 0; i &lt; s1.length(); ++i) {\r\n    if (s1.charAt(i) != s2.charAt(i)) {\r\n        ++numDiffs;\r\n    }\r\n}\r\n```\r\n\r\nOr you could stream this length for an arguably more elegant one-liner:\r\n```java\r\nlong numDiffs = \r\n    IntStream.range(0, s1.length()).filter(i -&gt; s1.charAt(i) != s2.charAt(i)).count();\r\n```","title":"Counting differences in 2 strings which have the same length","body":"<p>You could iterate up to the length of the strings and increment a counter for each different character:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int numDiffs = 0;\nfor (int i = 0; i &lt; s1.length(); ++i) {\n    if (s1.charAt(i) != s2.charAt(i)) {\n        ++numDiffs;\n    }\n}\n</code></pre>\n<p>Or you could stream this length for an arguably more elegant one-liner:</p>\n<pre class=\"lang-java prettyprint-override\"><code>long numDiffs = \n    IntStream.range(0, s1.length()).filter(i -&gt; s1.charAt(i) != s2.charAt(i)).count();\n</code></pre>\n"}],"owner":{"account_id":22102258,"reputation":61,"user_id":20848772,"display_name":"Some Ace"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":75034546,"answer_count":1,"score":-1,"last_activity_date":1673028872,"creation_date":1673027464,"question_id":75034425,"body_markdown":"Let&#39;s say I have two strings with the same character length. They look something like this.\r\n\r\n```\r\nString s1 = &quot;R20k20r20&quot;;\r\nString s2 = &quot;R21k20r20&quot;;\r\n```\r\n\r\nI don&#39;t really care about **where** the differences are, but I want to be able to count how many differences they have between them. In this case, it should be just 1. What would be the easiest way to accomplish this given the circumstances? ","title":"Counting differences in 2 strings which have the same length","body":"<p>Let's say I have two strings with the same character length. They look something like this.</p>\n<pre><code>String s1 = &quot;R20k20r20&quot;;\nString s2 = &quot;R21k20r20&quot;;\n</code></pre>\n<p>I don't really care about <strong>where</strong> the differences are, but I want to be able to count how many differences they have between them. In this case, it should be just 1. What would be the easiest way to accomplish this given the circumstances?</p>\n"},{"tags":["java","groovy"],"answers":[{"tags":[],"owner":{"account_id":2073393,"reputation":2457,"user_id":1847378,"display_name":"AndrewL"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673028751,"creation_date":1673028751,"answer_id":75034655,"question_id":75034271,"body_markdown":"If it is not binary stream, but text this certainly seems like an encoding issue.\r\n\r\nBy using `new InputStreamReader(connection.getInputStream())` you will use the default charset - does that match what is in the stream?\r\n\r\nTry looking at what the URLConnection is reporting as the encoding/content type : https://docs.oracle.com/javase/7/docs/api/java/net/URLConnection.html\r\n\r\nThen look how a library handles the conversion, for instance:\r\nApache&#39;s HttpClient [BasicHttpClientResponseHandler][1] delegates to `EntityUtils`, have a look at how that works: [EntityUtils.java][2]\r\n\r\n\r\nBut overall, why not save yourself the pain and use a library to do this? Several are discussed here: https://www.baeldung.com/java-http-response-body-as-string\r\n\r\n  [1]: https://github.com/apache/httpcomponents-client/blob/master/httpclient5/src/main/java/org/apache/hc/client5/http/impl/classic/BasicHttpClientResponseHandler.java\r\n  [2]: http://www.javased.com/index.php?source_dir=httpcore/httpcore/src/main/java/org/apache/http/util/EntityUtils.java","title":"HttpsURLConnection strange characters","body":"<p>If it is not binary stream, but text this certainly seems like an encoding issue.</p>\n<p>By using <code>new InputStreamReader(connection.getInputStream())</code> you will use the default charset - does that match what is in the stream?</p>\n<p>Try looking at what the URLConnection is reporting as the encoding/content type : <a href=\"https://docs.oracle.com/javase/7/docs/api/java/net/URLConnection.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/net/URLConnection.html</a></p>\n<p>Then look how a library handles the conversion, for instance:\nApache's HttpClient <a href=\"https://github.com/apache/httpcomponents-client/blob/master/httpclient5/src/main/java/org/apache/hc/client5/http/impl/classic/BasicHttpClientResponseHandler.java\" rel=\"nofollow noreferrer\">BasicHttpClientResponseHandler</a> delegates to <code>EntityUtils</code>, have a look at how that works: <a href=\"http://www.javased.com/index.php?source_dir=httpcore/httpcore/src/main/java/org/apache/http/util/EntityUtils.java\" rel=\"nofollow noreferrer\">EntityUtils.java</a></p>\n<p>But overall, why not save yourself the pain and use a library to do this? Several are discussed here: <a href=\"https://www.baeldung.com/java-http-response-body-as-string\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-http-response-body-as-string</a></p>\n"}],"owner":{"account_id":27455482,"reputation":1,"user_id":20947018,"display_name":"rsando"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673028751,"creation_date":1673026530,"question_id":75034271,"body_markdown":"all.\r\n\r\nI&#39;m trying to connect with a service to get a token by HttpsURLConnection(using groovy). The connection works ok, I&#39;m getting an http code 200, but I&#39;m getting the response with all strage characters. \r\n\r\nresponseCode: 200 \r\nResponse Code : 200 \r\nResponse Msg : OK \r\n********** LINE: â¹       -&#204;&#177; \r\n********** LINE: â0&#208;^&#240;d&#235;(â°&amp;&#177;&#188;\tâºuD0â&#164;P&#255;]â°&#182;3&#243;&#230;_WMH&#196;)&#185;^aâN&#202;n&#210;D&#194;&#210;Eâ¦&#215;&#222;&#251;&#243;&#202;&#170;&#222;!&#194;&#167;&#200;B\\&gt;6&#190;&#221;â1r|&#222;&#183;9rr&#243;&#253;(â¡&#182;}&#210;D&#161;LC&#240;PW&#231;B9&#255;&#253;    \r\nResponse: â¹       -&#204;&#177;â0&#208;^&#240;d&#235;(â°&amp;&#177;&#188;\tâºuD0â&#164;P&#255;]â°&#182;3&#243;&#230;_WMH&#196;)&#185;^aâN&#202;n&#210;D&#194;&#210;Eâ¦&#215;&#222;&#251;&#243;&#202;&#170;&#222;!&#194;&#167;&#200;B\\&gt;6&#190;&#221;â1r|&#222;&#183;9rr&#243;&#253;(â¡&#182;}&#210;D&#161;LC&#240;PW&#231;B9&#255;&#253;   \r\n\r\nThe charset i&#39;m using is UTF-8. I&#39;ve tried by postman and it works ok. I don&#39;t know what i&#39;m doin wrong in my code.\r\n\r\n\tconnection.setDoOutput(true);\r\n\tOutputStreamWriter outputStreamWriter = new OutputStreamWriter(connection.getOutputStream());\r\n    outputStreamWriter.write(Parameters);\r\n    outputStreamWriter.flush();\r\n\r\n\tint responseCode = connection.getResponseCode();\r\n\tString responseMessage = connection.getResponseMessage();\r\n\r\n\tlogger.debug(&quot;responseCode: &quot; + responseCode);\r\n\t\r\n\tif(responseCode == 200){\r\n\t\tlogger.debug(&quot;Response Code : &quot; + responseCode);\r\n\t\tlogger.debug(&quot;Response Msg : &quot; + responseMessage);\r\n \r\n    \t\tBufferedReader input = new BufferedReader(new InputStreamReader(connection.getInputStream()));\r\n\t\tString inputLine;\r\n\t\tStringBuffer response = new StringBuffer();\r\n \r\n\t\twhile ((inputLine = input.readLine()) != null) { //In this while i&#39;m getting the response from service\r\n\t\t\tresponse.append(inputLine);\r\n\t\t\tlogger.debug(&quot;\\*\\*\\*\\*\\*\\*\\*\\*\\*\\* LINE: &quot; + inputLine);\r\n\t\t}\r\n\t\tinput.close();\r\n \r\n\t\tlogger.debug(&quot;Response: &quot; + response.toString()); //Here  i&#39;m printing the response in the log file\r\n\t\t\r\n\t\tJSONObject jsonObj = new JSONObject(response.toString());\r\n\t\ttoken = jsonObj.getString(&quot;access_token&quot;);","title":"HttpsURLConnection strange characters","body":"<p>all.</p>\n<p>I'm trying to connect with a service to get a token by HttpsURLConnection(using groovy). The connection works ok, I'm getting an http code 200, but I'm getting the response with all strage characters.</p>\n<p>responseCode: 200\nResponse Code : 200\nResponse Msg : OK\n********** LINE: â¹       -ÃÂ±\n********** LINE: â0Ã^Ã°dÃ«(â°&amp;Â±Â¼   âºuD0âÂ¤PÃ¿]â°Â¶3Ã³Ã¦_WMHÃ)Â¹^aâNÃnÃDÃÃEâ¦ÃÃÃ»Ã³ÃÂªÃ!ÃÂ§ÃB&gt;6Â¾Ãâ1r|ÃÂ·9rrÃ³Ã½(â¡Â¶}ÃDÂ¡LCÃ°PWÃ§B9Ã¿Ã½<br />\nResponse: â¹       -ÃÂ±â0Ã^Ã°dÃ«(â°&amp;Â±Â¼   âºuD0âÂ¤PÃ¿]â°Â¶3Ã³Ã¦_WMHÃ)Â¹^aâNÃnÃDÃÃEâ¦ÃÃÃ»Ã³ÃÂªÃ!ÃÂ§ÃB&gt;6Â¾Ãâ1r|ÃÂ·9rrÃ³Ã½(â¡Â¶}ÃDÂ¡LCÃ°PWÃ§B9Ã¿Ã½</p>\n<p>The charset i'm using is UTF-8. I've tried by postman and it works ok. I don't know what i'm doin wrong in my code.</p>\n<pre><code>connection.setDoOutput(true);\nOutputStreamWriter outputStreamWriter = new OutputStreamWriter(connection.getOutputStream());\noutputStreamWriter.write(Parameters);\noutputStreamWriter.flush();\n\nint responseCode = connection.getResponseCode();\nString responseMessage = connection.getResponseMessage();\n\nlogger.debug(&quot;responseCode: &quot; + responseCode);\n\nif(responseCode == 200){\n    logger.debug(&quot;Response Code : &quot; + responseCode);\n    logger.debug(&quot;Response Msg : &quot; + responseMessage);\n\n        BufferedReader input = new BufferedReader(new InputStreamReader(connection.getInputStream()));\n    String inputLine;\n    StringBuffer response = new StringBuffer();\n\n    while ((inputLine = input.readLine()) != null) { //In this while i'm getting the response from service\n        response.append(inputLine);\n        logger.debug(&quot;\\*\\*\\*\\*\\*\\*\\*\\*\\*\\* LINE: &quot; + inputLine);\n    }\n    input.close();\n\n    logger.debug(&quot;Response: &quot; + response.toString()); //Here  i'm printing the response in the log file\n    \n    JSONObject jsonObj = new JSONObject(response.toString());\n    token = jsonObj.getString(&quot;access_token&quot;);\n</code></pre>\n"},{"tags":["java","arrays","spring-boot","file","war"],"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1673029174,"post_id":75034651,"comment_id":132413158,"body_markdown":"Are you testing with the exact same war file in both cases, or are you *creating* the war file on each system before the test?","body":"Are you testing with the exact same war file in both cases, or are you <i>creating</i> the war file on each system before the test?"},{"owner":{"account_id":20811140,"reputation":51,"user_id":15285050,"display_name":"Pop Alexandru"},"score":0,"creation_date":1673029464,"post_id":75034651,"comment_id":132413225,"body_markdown":"The WAR file is generated via Maven, through `mvn install`, from the exact same source code, when the app is being deployed. The values from the example were extracted at runtime, through remote debugging.","body":"The WAR file is generated via Maven, through <code>mvn install</code>, from the exact same source code, when the app is being deployed. The values from the example were extracted at runtime, through remote debugging."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1673029649,"post_id":75034651,"comment_id":132413288,"body_markdown":"Okay, I&#39;m suspicious of that then... if you can generate the war file once and then deploy *that exact file* on multiple systems, then you remove the potential for &quot;exact same source code&quot; to actually mean &quot;modulo what a git clone might do to line endings&quot; for example.","body":"Okay, I&#39;m suspicious of that then... if you can generate the war file once and then deploy <i>that exact file</i> on multiple systems, then you remove the potential for &quot;exact same source code&quot; to actually mean &quot;modulo what a git clone might do to line endings&quot; for example."},{"owner":{"account_id":20811140,"reputation":51,"user_id":15285050,"display_name":"Pop Alexandru"},"score":0,"creation_date":1673030581,"post_id":75034651,"comment_id":132413553,"body_markdown":"The WAR file is generated on each cloud instance (*each OS*) during deployment, resulting a WAR file for each OS.\n\nBut the WAR file is generated based on the same source code. I mean, the `mvn install` command is executed on the same source code, and produces a WAR file for each OS where that command is executed.","body":"The WAR file is generated on each cloud instance (<i>each OS</i>) during deployment, resulting a WAR file for each OS.  But the WAR file is generated based on the same source code. I mean, the <code>mvn install</code> command is executed on the same source code, and produces a WAR file for each OS where that command is executed."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1673030878,"post_id":75034651,"comment_id":132413625,"body_markdown":"Are you saying you have *absolutely no way* of taking the same physical war file and deploying it on multiple systems? It doesn&#39;t matter whether that&#39;s how you *normally* deploy or not - this is for diagnostic purposes. Because I strongly suspect that if you do that, you&#39;ll see the same bytes on all OSes - but you should test it.","body":"Are you saying you have <i>absolutely no way</i> of taking the same physical war file and deploying it on multiple systems? It doesn&#39;t matter whether that&#39;s how you <i>normally</i> deploy or not - this is for diagnostic purposes. Because I strongly suspect that if you do that, you&#39;ll see the same bytes on all OSes - but you should test it."},{"owner":{"account_id":1600162,"reputation":1885,"user_id":1481345,"display_name":"Ale Zalazar"},"score":1,"creation_date":1673031905,"post_id":75034651,"comment_id":132413916,"body_markdown":"If you want to implement a solution that would work with both flavors of the WAR file you&#39;d probably need to use or implement a custom &quot;FilterReader&quot; (maybe based/extending a LineReader) that would either replace/fix the character or read &quot;lines&quot; and just skip the line separator (this is just for the case you need to continue using different WAR files)","body":"If you want to implement a solution that would work with both flavors of the WAR file you&#39;d probably need to use or implement a custom &quot;FilterReader&quot; (maybe based/extending a LineReader) that would either replace/fix the character or read &quot;lines&quot; and just skip the line separator (this is just for the case you need to continue using different WAR files)"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1673091098,"post_id":75034651,"comment_id":132422524,"body_markdown":"*byte[] fileAsByteArray = IOUtils...* is a black box to us. Why not `InputStream.readAllBytes`? Varying line separators have no bearing on a binary data read","body":"<i>byte[] fileAsByteArray = IOUtils...</i> is a black box to us. Why not <code>InputStream.readAllBytes</code>? Varying line separators have no bearing on a binary data read"},{"owner":{"account_id":20811140,"reputation":51,"user_id":15285050,"display_name":"Pop Alexandru"},"score":0,"creation_date":1674053782,"post_id":75034651,"comment_id":132633243,"body_markdown":"@JonSkeet thank you for the suggestion, but we cannot deploy our app like that. But it could be a valid solution for other people.","body":"@JonSkeet thank you for the suggestion, but we cannot deploy our app like that. But it could be a valid solution for other people."},{"owner":{"account_id":20811140,"reputation":51,"user_id":15285050,"display_name":"Pop Alexandru"},"score":0,"creation_date":1674053859,"post_id":75034651,"comment_id":132633272,"body_markdown":"@AleZalazar thanks for the suggestion. This is how we will proceed.","body":"@AleZalazar thanks for the suggestion. This is how we will proceed."},{"owner":{"account_id":20811140,"reputation":51,"user_id":15285050,"display_name":"Pop Alexandru"},"score":0,"creation_date":1674053969,"post_id":75034651,"comment_id":132633318,"body_markdown":"@g00se thanks, but we use Java 8 and that method needs Java 9","body":"@g00se thanks, but we use Java 8 and that method needs Java 9"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1674053973,"post_id":75034651,"comment_id":132633320,"body_markdown":"It wasn&#39;t intended to be a solution. The point of the suggestion wasn&#39;t that that would fix the problem, and I wasn&#39;t suggesting that you do that in production - the point was *purely for diagnostics*.","body":"It wasn&#39;t intended to be a solution. The point of the suggestion wasn&#39;t that that would fix the problem, and I wasn&#39;t suggesting that you do that in production - the point was <i>purely for diagnostics</i>."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1674054208,"post_id":75034651,"comment_id":132633408,"body_markdown":"OK fair enough but the point is that there should be no difference between the binary form between OSs, *unless* they are *starting out different*. Plus, for most normal purposes, i.e. text file processing, differences in line separators shouldn&#39;t really be causing a problem","body":"OK fair enough but the point is that there should be no difference between the binary form between OSs, <i>unless</i> they are <i>starting out different</i>. Plus, for most normal purposes, i.e. text file processing, differences in line separators shouldn&#39;t really be causing a problem"}],"owner":{"account_id":20811140,"reputation":51,"user_id":15285050,"display_name":"Pop Alexandru"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1673028724,"creation_date":1673028724,"question_id":75034651,"body_markdown":"I have a Spring Boot app that runs from a WAR file, and I test it in different Operating Systems.\r\nIt reads a file from the &quot;*resources*&quot; directory (*this is the path within the WAR: &quot;/WEB-INF/classes/file-name&quot;*) by performing the following steps:\r\n\r\n **1.** Get the InputStream:\r\n```\r\nInputStream fileAsInputStream = new ClassPathResource(&quot;file-name&quot;).getInputStream();\r\n```\r\n\r\n **2.** Convert the InputStream to ByteArray:\r\n```\r\nbyte[] fileAsByteArray = IOUtils.toByteArray(fileAsInputStream );\r\n```\r\n\r\n---\r\n\r\nThe issue is that the content of the obtained Byte Array is different between Operating Systems, causing inconsistencies in further operations. The reason for this is that the file contains newline characters (*`&quot;\\n&quot; = 0x0A = 10` in Linux, and `&quot;\\r\\n&quot; = 0x0A 0x0D = 10 13` in Windows*). The differences across Operating Systems are explained for example in this thread: https://stackoverflow.com/questions/9260126/what-are-the-differences-between-char-literals-n-and-r-in-java6\r\n\r\n---\r\n\r\nThis is an example where the Byte Arrays have different contents:\r\n- **When app runs on Linux**: [114, 115, 97, **10**, 69, 110] =&gt; **10** is the `&quot;\\n&quot;`\r\n- **When app runs on Windows**: [114, 115, 97, **13**, **10**, 69, 110] =&gt; **13 10** is the `&quot;\\r\\n&quot;`\r\n\r\n\r\nSo between these two OSs, the `10` is the same with `13 10`. The file is always the same (*because it is a Private Key used for establishing the SFTP communication*). Differs only the Operating System from which the code is being run.\r\n\r\n---\r\n\r\n**Is there a solution to obtain the same Byte Array, regardless of the Operating System from which the code is being run?**\r\n\r\n\r\nOne working workaround would be to map the newline character to the same byte. So to iterate through the array, and to replace each `10` (*for example*) with `13 10`.\r\n\r\nAnother solution that was tried is using `StandardCharsets.UTF_8`, but the elements of the arrays are still different:\r\n```java\r\nIOUtils.toByteArray(new BufferedReader(new InputStreamReader(new ClassPathResource(&quot;file-name&quot;).getInputStream())), StandardCharsets.UTF_8)\r\n```\r\n\r\n","title":"Read file as the same Byte Array across operating systems","body":"<p>I have a Spring Boot app that runs from a WAR file, and I test it in different Operating Systems.\nIt reads a file from the &quot;<em>resources</em>&quot; directory (<em>this is the path within the WAR: &quot;/WEB-INF/classes/file-name&quot;</em>) by performing the following steps:</p>\n<p><strong>1.</strong> Get the InputStream:</p>\n<pre><code>InputStream fileAsInputStream = new ClassPathResource(&quot;file-name&quot;).getInputStream();\n</code></pre>\n<p><strong>2.</strong> Convert the InputStream to ByteArray:</p>\n<pre><code>byte[] fileAsByteArray = IOUtils.toByteArray(fileAsInputStream );\n</code></pre>\n<hr />\n<p>The issue is that the content of the obtained Byte Array is different between Operating Systems, causing inconsistencies in further operations. The reason for this is that the file contains newline characters (<em><code>&quot;\\n&quot; = 0x0A = 10</code> in Linux, and <code>&quot;\\r\\n&quot; = 0x0A 0x0D = 10 13</code> in Windows</em>). The differences across Operating Systems are explained for example in this thread: <a href=\"https://stackoverflow.com/questions/9260126/what-are-the-differences-between-char-literals-n-and-r-in-java6\">What are the differences between char literals &#39;\\n&#39; and &#39;\\r&#39; in Java?</a></p>\n<hr />\n<p>This is an example where the Byte Arrays have different contents:</p>\n<ul>\n<li><strong>When app runs on Linux</strong>: [114, 115, 97, <strong>10</strong>, 69, 110] =&gt; <strong>10</strong> is the <code>&quot;\\n&quot;</code></li>\n<li><strong>When app runs on Windows</strong>: [114, 115, 97, <strong>13</strong>, <strong>10</strong>, 69, 110] =&gt; <strong>13 10</strong> is the <code>&quot;\\r\\n&quot;</code></li>\n</ul>\n<p>So between these two OSs, the <code>10</code> is the same with <code>13 10</code>. The file is always the same (<em>because it is a Private Key used for establishing the SFTP communication</em>). Differs only the Operating System from which the code is being run.</p>\n<hr />\n<p><strong>Is there a solution to obtain the same Byte Array, regardless of the Operating System from which the code is being run?</strong></p>\n<p>One working workaround would be to map the newline character to the same byte. So to iterate through the array, and to replace each <code>10</code> (<em>for example</em>) with <code>13 10</code>.</p>\n<p>Another solution that was tried is using <code>StandardCharsets.UTF_8</code>, but the elements of the arrays are still different:</p>\n<pre class=\"lang-java prettyprint-override\"><code>IOUtils.toByteArray(new BufferedReader(new InputStreamReader(new ClassPathResource(&quot;file-name&quot;).getInputStream())), StandardCharsets.UTF_8)\n</code></pre>\n"},{"tags":["java","spring-boot","google-app-engine","spring-security"],"comments":[{"owner":{"account_id":27445765,"reputation":31,"user_id":20939581,"display_name":"Jessie"},"score":1,"creation_date":1672951379,"post_id":75023909,"comment_id":132394915,"body_markdown":"For the local test, I use http://localhost:8080. For Google cloud test, I use http://eomclubregistrationweb.ue.r.appspot.com which is generated by Google cloud. I don&#39;t know if there is any reverse proxy or not.","body":"For the local test, I use <a href=\"http://localhost:8080\" rel=\"nofollow noreferrer\">localhost:8080</a>. For Google cloud test, I use <a href=\"http://eomclubregistrationweb.ue.r.appspot.com\" rel=\"nofollow noreferrer\">eomclubregistrationweb.ue.r.appspot.com</a> which is generated by Google cloud. I don&#39;t know if there is any reverse proxy or not."},{"owner":{"account_id":27445765,"reputation":31,"user_id":20939581,"display_name":"Jessie"},"score":1,"creation_date":1672954241,"post_id":75023909,"comment_id":132395697,"body_markdown":"I am sure I am running the same Spring application code on Google. The pom.xml has some extra configuration for Google. I use Java 17 locally while Google requires to use Java 11. I added more debug logs above. Please take a look. It looks like Ant [pattern=&#39;/admin*&#39;] is missing in the log on Google.","body":"I am sure I am running the same Spring application code on Google. The pom.xml has some extra configuration for Google. I use Java 17 locally while Google requires to use Java 11. I added more debug logs above. Please take a look. It looks like Ant [pattern=&#39;/admin*&#39;] is missing in the log on Google."},{"owner":{"account_id":18740842,"reputation":3833,"user_id":13664137,"display_name":"moken"},"score":0,"creation_date":1672997829,"post_id":75023909,"comment_id":132403329,"body_markdown":"All your comments should be added to the question. Edit and rewite if necessary.","body":"All your comments should be added to the question. Edit and rewite if necessary."}],"answers":[{"tags":[],"owner":{"account_id":27445765,"reputation":31,"user_id":20939581,"display_name":"Jessie"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673028483,"creation_date":1673028483,"answer_id":75034610,"question_id":75023909,"body_markdown":"I found the issue is related to the order of the security config applied to the Spring security framework.\r\n\r\nWhen running the code using localhost:8080, the admin security config is applied first and the Google oauth2 is applied later. I noticed this from the Spring security debug log. However, when running the same code on google cloud, the order of processing the security config is reversed. I don&#39;t know why. Once the google oauth2 is configured first, the admin form login is configured later, I start to see the issue.\r\n\r\nSo, a workaround fix is available. I tried to reverse the security config order in the code for my google cloud version. This did fix the issue. I was able to see the admin form login as well as Google oauth2 login.\r\n\r\nIt looks like the &quot;@Order&quot; doesn&#39;t work as expected. The actual order of processing the security config is determined by the class name alphabetically. ","title":"Spring boot mixed form login and oauth2 Google login don&#39;t work when deploying the code in Google Cloud","body":"<p>I found the issue is related to the order of the security config applied to the Spring security framework.</p>\n<p>When running the code using localhost:8080, the admin security config is applied first and the Google oauth2 is applied later. I noticed this from the Spring security debug log. However, when running the same code on google cloud, the order of processing the security config is reversed. I don't know why. Once the google oauth2 is configured first, the admin form login is configured later, I start to see the issue.</p>\n<p>So, a workaround fix is available. I tried to reverse the security config order in the code for my google cloud version. This did fix the issue. I was able to see the admin form login as well as Google oauth2 login.</p>\n<p>It looks like the &quot;@Order&quot; doesn't work as expected. The actual order of processing the security config is determined by the class name alphabetically.</p>\n"}],"owner":{"account_id":27445765,"reputation":31,"user_id":20939581,"display_name":"Jessie"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":493,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1673028483,"creation_date":1672949879,"question_id":75023909,"body_markdown":"I have a Spring Boot web application with two types of authentication configurations. One is form login for admin and the other is OAuth2 using Google account. \r\n\r\nThis works fine when I run it locally on Eclipse. It also works fine when I run the same using `./mvnw spring-boot:run` on cloud-shell. But when I deploy the application to Google App engine or Google Run, the form login stop working. The form login doesn&#39;t show up and the the webpage secured for admin is accessible to anyone. The Google OAuth2 login always works fine.\r\n\r\nHere is the code for security config.\r\n\r\n```java\r\n@Configuration\r\n@EnableWebSecurity\r\n// Spring boot security configuration\r\npublic class SecurityConfig {\r\n\r\n\t@Bean\r\n\tpublic static PasswordEncoder encoder() {\r\n\t\treturn new BCryptPasswordEncoder();\r\n\t}\r\n\r\n\t// Admin credential configuration\r\n\t@Configuration\r\n\t@Order(1)\r\n\tpublic static class AdminConfigurationAdapter {\r\n\t\t@Bean\r\n\t\tpublic UserDetailsService userDetailsServiceAdmin() {\r\n\t\t\tUserDetails user = User\r\n                    .withUsername(&quot;admin&quot;)\r\n                    .password(encoder().encode(&quot;adminPass&quot;))\r\n                    .roles(&quot;ADMIN&quot;)\r\n\t\t\t\t\t.build();\r\n\t\t\treturn new InMemoryUserDetailsManager(user);\r\n\t\t}\r\n\r\n\t\t@Bean\r\n\t\tpublic SecurityFilterChain filterChainAdmin(HttpSecurity http) throws Exception {\r\n\t\t\thttp\r\n                .antMatcher(&quot;/admin*&quot;)\r\n                .authorizeRequests()\r\n                    .anyRequest().hasRole(&quot;ADMIN&quot;)\r\n\t\t\t\t\t// log in\r\n\t\t\t\t\t.and()\r\n                .formLogin()\r\n                    .loginPage(&quot;/loginAdmin&quot;)\r\n                    .loginProcessingUrl(&quot;/admin_login&quot;)\r\n\t\t\t\t\t.failureUrl(&quot;/loginAdmin?error=loginError&quot;)\r\n                    .defaultSuccessUrl(&quot;/admin_view&quot;)\r\n\t\t\t\t\t// logout\r\n\t\t\t\t\t.and()\r\n                .logout()\r\n                    .logoutUrl(&quot;/admin_logout&quot;)\r\n                    .logoutSuccessUrl(&quot;/welcome&quot;)\r\n                    .deleteCookies(&quot;JSESSIONID&quot;)\r\n\t\t\t\t\t.and()\r\n                .exceptionHandling()\r\n                    .accessDeniedPage(&quot;/403&quot;)\r\n                    .and()\r\n                .csrf().disable();\r\n\r\n\t\t\treturn http.build();\r\n\t\t}\r\n\t}\r\n\r\n\t// Google account oauth2 login configuration\r\n\t@Order(2)\r\n\t@Configuration\r\n\tpublic static class ApplicantConfiguration {\r\n\t\t@Bean\r\n\t\tpublic SecurityFilterChain filterChainApplicant(HttpSecurity http) throws Exception {\r\n\t\t\thttp\r\n                .authorizeRequests()\r\n                    .antMatchers(&quot;/applicant*&quot;).authenticated()\r\n                    .and()\r\n                .oauth2Login()\r\n                    .and()\r\n                .logout()\r\n\t\t\t\t\t.logoutSuccessUrl(&quot;/welcome&quot;)\r\n                    .deleteCookies(&quot;JSESSIONID&quot;)\r\n                    .and()\r\n                .exceptionHandling()\r\n\t\t\t\t\t.accessDeniedPage(&quot;/403&quot;);\r\n\t\t\treturn http.build();\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nI found that if I create two different form login using different user/passwd, it works fine in Google Cloud App engine. Only the case that the form login mixed with Google OAuth2 login doesn&#39;t work.\r\n\r\nHere are the Spring Security debug logs for comparing. When running on Google Cloud APP, it says &quot;Authorized public object filter invocation [GET /admin_view]&quot;. When running locally, it says &quot;Redirecting to http://localhost:8080/loginAdmin&quot;. I just couldn&#39;t figure out why.\r\n\r\n**The logs for the working one on localhost:8080**\r\n\r\n    2022-12-29 22:05:08.768 DEBUG 92679 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /admin_view\r\n\r\n    2022-12-29 22:05:08.768 DEBUG 92679 --- [nio-8080-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext\r\n\r\n    2022-12-29 22:05:08.768 DEBUG 92679 --- [nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\r\n\r\n    2022-12-29 22:05:08.768 DEBUG 92679 --- [nio-8080-exec-3] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 0C1EB7E035C74BC01E7F8D1E706683FC\r\n\r\n    2022-12-29 22:05:08.776 DEBUG 92679 --- [nio-8080-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /admin_view] with attributes [hasRole(&#39;ROLE_ADMIN&#39;)]\r\n\r\n    2022-12-29 22:05:08.798 DEBUG 92679 --- [nio-8080-exec-3] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/admin_view to session\r\n\r\n    2022-12-29 22:05:08.799 DEBUG 92679 --- [nio-8080-exec-3] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/loginAdmin\r\n\r\n**The logs for the application running on Google App engine.**\r\n\r\n    2022-12-30 03:07:15 default[20221230t020608]  2022-12-30 03:07:15.991 DEBUG 11 --- [0.0-8081-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /admin_view\r\n\r\n    2022-12-30 03:07:15 default[20221230t020608]  2022-12-30 03:07:15.992 DEBUG 11 --- [0.0-8081-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext\r\n\r\n    2022-12-30 03:07:15 default[20221230t020608]  2022-12-30 03:07:15.992 DEBUG 11 --- [0.0-8081-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\r\n\r\n    2022-12-30 03:07:15 default[20221230t020608]  2022-12-30 03:07:15.992 DEBUG 11 --- [0.0-8081-exec-2] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id A7635E4C3457927648904B5BCAC69E7C\r\n\r\n    2022-12-30 03:07:15 default[20221230t020608]  2022-12-30 03:07:15.992 DEBUG 11 --- [0.0-8081-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized public object filter invocation [GET /admin_view]\r\n\r\n    2022-12-30 03:07:15 default[20221230t020608]  2022-12-30 03:07:15.993 DEBUG 11 --- [0.0-8081-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /admin_view\r\n\r\n","title":"Spring boot mixed form login and oauth2 Google login don&#39;t work when deploying the code in Google Cloud","body":"<p>I have a Spring Boot web application with two types of authentication configurations. One is form login for admin and the other is OAuth2 using Google account.</p>\n<p>This works fine when I run it locally on Eclipse. It also works fine when I run the same using <code>./mvnw spring-boot:run</code> on cloud-shell. But when I deploy the application to Google App engine or Google Run, the form login stop working. The form login doesn't show up and the the webpage secured for admin is accessible to anyone. The Google OAuth2 login always works fine.</p>\n<p>Here is the code for security config.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebSecurity\n// Spring boot security configuration\npublic class SecurityConfig {\n\n    @Bean\n    public static PasswordEncoder encoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    // Admin credential configuration\n    @Configuration\n    @Order(1)\n    public static class AdminConfigurationAdapter {\n        @Bean\n        public UserDetailsService userDetailsServiceAdmin() {\n            UserDetails user = User\n                    .withUsername(&quot;admin&quot;)\n                    .password(encoder().encode(&quot;adminPass&quot;))\n                    .roles(&quot;ADMIN&quot;)\n                    .build();\n            return new InMemoryUserDetailsManager(user);\n        }\n\n        @Bean\n        public SecurityFilterChain filterChainAdmin(HttpSecurity http) throws Exception {\n            http\n                .antMatcher(&quot;/admin*&quot;)\n                .authorizeRequests()\n                    .anyRequest().hasRole(&quot;ADMIN&quot;)\n                    // log in\n                    .and()\n                .formLogin()\n                    .loginPage(&quot;/loginAdmin&quot;)\n                    .loginProcessingUrl(&quot;/admin_login&quot;)\n                    .failureUrl(&quot;/loginAdmin?error=loginError&quot;)\n                    .defaultSuccessUrl(&quot;/admin_view&quot;)\n                    // logout\n                    .and()\n                .logout()\n                    .logoutUrl(&quot;/admin_logout&quot;)\n                    .logoutSuccessUrl(&quot;/welcome&quot;)\n                    .deleteCookies(&quot;JSESSIONID&quot;)\n                    .and()\n                .exceptionHandling()\n                    .accessDeniedPage(&quot;/403&quot;)\n                    .and()\n                .csrf().disable();\n\n            return http.build();\n        }\n    }\n\n    // Google account oauth2 login configuration\n    @Order(2)\n    @Configuration\n    public static class ApplicantConfiguration {\n        @Bean\n        public SecurityFilterChain filterChainApplicant(HttpSecurity http) throws Exception {\n            http\n                .authorizeRequests()\n                    .antMatchers(&quot;/applicant*&quot;).authenticated()\n                    .and()\n                .oauth2Login()\n                    .and()\n                .logout()\n                    .logoutSuccessUrl(&quot;/welcome&quot;)\n                    .deleteCookies(&quot;JSESSIONID&quot;)\n                    .and()\n                .exceptionHandling()\n                    .accessDeniedPage(&quot;/403&quot;);\n            return http.build();\n        }\n    }\n}\n</code></pre>\n<p>I found that if I create two different form login using different user/passwd, it works fine in Google Cloud App engine. Only the case that the form login mixed with Google OAuth2 login doesn't work.</p>\n<p>Here are the Spring Security debug logs for comparing. When running on Google Cloud APP, it says &quot;Authorized public object filter invocation [GET /admin_view]&quot;. When running locally, it says &quot;Redirecting to http://localhost:8080/loginAdmin&quot;. I just couldn't figure out why.</p>\n<p><strong>The logs for the working one on localhost:8080</strong></p>\n<pre><code>2022-12-29 22:05:08.768 DEBUG 92679 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /admin_view\n\n2022-12-29 22:05:08.768 DEBUG 92679 --- [nio-8080-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext\n\n2022-12-29 22:05:08.768 DEBUG 92679 --- [nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\n\n2022-12-29 22:05:08.768 DEBUG 92679 --- [nio-8080-exec-3] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 0C1EB7E035C74BC01E7F8D1E706683FC\n\n2022-12-29 22:05:08.776 DEBUG 92679 --- [nio-8080-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /admin_view] with attributes [hasRole('ROLE_ADMIN')]\n\n2022-12-29 22:05:08.798 DEBUG 92679 --- [nio-8080-exec-3] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/admin_view to session\n\n2022-12-29 22:05:08.799 DEBUG 92679 --- [nio-8080-exec-3] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/loginAdmin\n</code></pre>\n<p><strong>The logs for the application running on Google App engine.</strong></p>\n<pre><code>2022-12-30 03:07:15 default[20221230t020608]  2022-12-30 03:07:15.991 DEBUG 11 --- [0.0-8081-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /admin_view\n\n2022-12-30 03:07:15 default[20221230t020608]  2022-12-30 03:07:15.992 DEBUG 11 --- [0.0-8081-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext\n\n2022-12-30 03:07:15 default[20221230t020608]  2022-12-30 03:07:15.992 DEBUG 11 --- [0.0-8081-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\n\n2022-12-30 03:07:15 default[20221230t020608]  2022-12-30 03:07:15.992 DEBUG 11 --- [0.0-8081-exec-2] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id A7635E4C3457927648904B5BCAC69E7C\n\n2022-12-30 03:07:15 default[20221230t020608]  2022-12-30 03:07:15.992 DEBUG 11 --- [0.0-8081-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized public object filter invocation [GET /admin_view]\n\n2022-12-30 03:07:15 default[20221230t020608]  2022-12-30 03:07:15.993 DEBUG 11 --- [0.0-8081-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /admin_view\n</code></pre>\n"},{"tags":["java","aws-lambda"],"owner":{"account_id":1515643,"reputation":2068,"user_id":1416694,"display_name":"Prasad Karunagoda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1673027915,"creation_date":1673027915,"question_id":75034503,"body_markdown":"I&#39;m trying to call an AWS Lambda function within itself (i.e. recursively). But, unless I block the thread and wait for the response using `future.get()`, the 2nd invocation does not happen.\r\n\r\nI have shown my code for the 2 approaches below. I have implemented the Lambda functions using Java (SDK Version 2).\r\n\r\nAm I missing something? Can someone explain the reason for this difference we see here? Thanks.\r\n\r\n# Non-blocking Approach - HandlerNonBlocking Lambda function (non-blocking)\r\n```\r\npublic class HandlerNonBlocking {\r\n    public void process(Map&lt;String, Object&gt; event, Context context) {\r\n        context.getLogger().log(&quot;HandlerNonBlocking.process() invoked\\n&quot;);\r\n\r\n        Object isSecond = event.get(&quot;isSecond&quot;);\r\n        if (isSecond == null) {\r\n            context.getLogger().log(&quot;First\\n&quot;);\r\n        } else {\r\n            context.getLogger().log(&quot;Second\\n&quot;);\r\n            return;\r\n        }\r\n\r\n        String json = &quot;{\\&quot;isSecond\\&quot;: \\&quot;Y\\&quot;}&quot;;\r\n        SdkBytes payload = SdkBytes.fromUtf8String(json) ;\r\n        InvokeRequest request = InvokeRequest.builder()\r\n                .functionName(&quot;recurring-function&quot;)\r\n                .invocationType(InvocationType.EVENT)\r\n                .payload(payload)\r\n                .build();\r\n\r\n        try (LambdaAsyncClient lambdaClient = LambdaAsyncClient.create()) {\r\n            context.getLogger().log(&quot;Calling again\\n&quot;);\r\n            CompletableFuture&lt;InvokeResponse&gt; future = lambdaClient.invoke(request);\r\n            // Set a callback\r\n            future.thenAccept(response -&gt; context.getLogger().log(&quot;Response status code: &quot; + response.statusCode() + &quot;\\n&quot;));\r\n        } catch (Exception ex) {\r\n            context.getLogger().log(&quot;Error when invoking Lambda function. &quot; +\r\n                    ex.getClass().getSimpleName() + &quot;: &quot; + ex.getMessage() + &quot;\\n&quot;);\r\n        }\r\n\r\n        try {\r\n            Thread.sleep(5_000);\r\n        } catch (InterruptedException ex) {\r\n            context.getLogger().log(&quot;Sleep interrupted. &quot; + ex.getMessage() + &quot;\\n&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n**Log - First invocation**\r\n```\r\nSTART RequestId: c44b0384-c159-4954-a241-8d14044f85db Version: $LATEST\r\nHandlerNonBlocking.process() invoked\r\nFirst\r\nCalling again\r\nEND RequestId: c44b0384-c159-4954-a241-8d14044f85db\r\n```\r\n\r\n**There is no second invocation in CloudWatch logs.**\r\n\r\n\r\n\r\n# Blocking Approach - HandlerBlocking Lambda function (block and wait for response)\r\n```\r\npublic class HandlerBlocking {\r\n    public void process(Map&lt;String, Object&gt; event, Context context) {\r\n        context.getLogger().log(&quot;HandlerBlocking.process() invoked\\n&quot;);\r\n\r\n        Object isSecond = event.get(&quot;isSecond&quot;);\r\n        if (isSecond == null) {\r\n            context.getLogger().log(&quot;First\\n&quot;);\r\n        } else {\r\n            context.getLogger().log(&quot;Second\\n&quot;);\r\n            return;\r\n        }\r\n\r\n        String json = &quot;{\\&quot;isSecond\\&quot;: \\&quot;Y\\&quot;}&quot;;\r\n        SdkBytes payload = SdkBytes.fromUtf8String(json) ;\r\n        InvokeRequest request = InvokeRequest.builder()\r\n                .functionName(&quot;recurring-function&quot;)\r\n                .invocationType(InvocationType.EVENT)\r\n                .payload(payload)\r\n                .build();\r\n\r\n        try (LambdaAsyncClient lambdaClient = LambdaAsyncClient.create()) {\r\n            context.getLogger().log(&quot;Calling again\\n&quot;);\r\n            CompletableFuture&lt;InvokeResponse&gt; future = lambdaClient.invoke(request);\r\n            // Wait for response\r\n            InvokeResponse response = future.get();\r\n            context.getLogger().log(&quot;Response status code: &quot; + response.statusCode() + &quot;\\n&quot;);\r\n        } catch (Exception ex) {\r\n            context.getLogger().log(&quot;Error when invoking Lambda function. &quot; +\r\n                    ex.getClass().getSimpleName() + &quot;: &quot; + ex.getMessage() + &quot;\\n&quot;);\r\n        }\r\n\r\n        try {\r\n            Thread.sleep(5_000);\r\n        } catch (InterruptedException ex) {\r\n            context.getLogger().log(&quot;Sleep interrupted. &quot; + ex.getMessage() + &quot;\\n&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n**Log - First invocation**\r\n```\r\nSTART RequestId: 1a70cb3e-6752-4427-a703-69ff6f6c404b Version: $LATEST\r\nHandlerBlocking.process() invoked\r\nFirst\r\nCalling again\r\nResponse status code: 202\r\nEND RequestId: 1a70cb3e-6752-4427-a703-69ff6f6c404b\r\n```\r\n\r\n**Log - Second invocation**\r\n```\r\nSTART RequestId: db71eb54-547a-4ee9-9e9d-0d5b689588f8 Version: $LATEST\r\nHandlerBlocking.process() invoked\r\nSecond\r\nEND RequestId: db71eb54-547a-4ee9-9e9d-0d5b689588f8\r\n```\r\n\r\n\r\nI have tried the 2 approaches shown above.","title":"Asynchronous Recursive AWS Lambda call does not work","body":"<p>I'm trying to call an AWS Lambda function within itself (i.e. recursively). But, unless I block the thread and wait for the response using <code>future.get()</code>, the 2nd invocation does not happen.</p>\n<p>I have shown my code for the 2 approaches below. I have implemented the Lambda functions using Java (SDK Version 2).</p>\n<p>Am I missing something? Can someone explain the reason for this difference we see here? Thanks.</p>\n<h1>Non-blocking Approach - HandlerNonBlocking Lambda function (non-blocking)</h1>\n<pre><code>public class HandlerNonBlocking {\n    public void process(Map&lt;String, Object&gt; event, Context context) {\n        context.getLogger().log(&quot;HandlerNonBlocking.process() invoked\\n&quot;);\n\n        Object isSecond = event.get(&quot;isSecond&quot;);\n        if (isSecond == null) {\n            context.getLogger().log(&quot;First\\n&quot;);\n        } else {\n            context.getLogger().log(&quot;Second\\n&quot;);\n            return;\n        }\n\n        String json = &quot;{\\&quot;isSecond\\&quot;: \\&quot;Y\\&quot;}&quot;;\n        SdkBytes payload = SdkBytes.fromUtf8String(json) ;\n        InvokeRequest request = InvokeRequest.builder()\n                .functionName(&quot;recurring-function&quot;)\n                .invocationType(InvocationType.EVENT)\n                .payload(payload)\n                .build();\n\n        try (LambdaAsyncClient lambdaClient = LambdaAsyncClient.create()) {\n            context.getLogger().log(&quot;Calling again\\n&quot;);\n            CompletableFuture&lt;InvokeResponse&gt; future = lambdaClient.invoke(request);\n            // Set a callback\n            future.thenAccept(response -&gt; context.getLogger().log(&quot;Response status code: &quot; + response.statusCode() + &quot;\\n&quot;));\n        } catch (Exception ex) {\n            context.getLogger().log(&quot;Error when invoking Lambda function. &quot; +\n                    ex.getClass().getSimpleName() + &quot;: &quot; + ex.getMessage() + &quot;\\n&quot;);\n        }\n\n        try {\n            Thread.sleep(5_000);\n        } catch (InterruptedException ex) {\n            context.getLogger().log(&quot;Sleep interrupted. &quot; + ex.getMessage() + &quot;\\n&quot;);\n        }\n    }\n}\n</code></pre>\n<p><strong>Log - First invocation</strong></p>\n<pre><code>START RequestId: c44b0384-c159-4954-a241-8d14044f85db Version: $LATEST\nHandlerNonBlocking.process() invoked\nFirst\nCalling again\nEND RequestId: c44b0384-c159-4954-a241-8d14044f85db\n</code></pre>\n<p><strong>There is no second invocation in CloudWatch logs.</strong></p>\n<h1>Blocking Approach - HandlerBlocking Lambda function (block and wait for response)</h1>\n<pre><code>public class HandlerBlocking {\n    public void process(Map&lt;String, Object&gt; event, Context context) {\n        context.getLogger().log(&quot;HandlerBlocking.process() invoked\\n&quot;);\n\n        Object isSecond = event.get(&quot;isSecond&quot;);\n        if (isSecond == null) {\n            context.getLogger().log(&quot;First\\n&quot;);\n        } else {\n            context.getLogger().log(&quot;Second\\n&quot;);\n            return;\n        }\n\n        String json = &quot;{\\&quot;isSecond\\&quot;: \\&quot;Y\\&quot;}&quot;;\n        SdkBytes payload = SdkBytes.fromUtf8String(json) ;\n        InvokeRequest request = InvokeRequest.builder()\n                .functionName(&quot;recurring-function&quot;)\n                .invocationType(InvocationType.EVENT)\n                .payload(payload)\n                .build();\n\n        try (LambdaAsyncClient lambdaClient = LambdaAsyncClient.create()) {\n            context.getLogger().log(&quot;Calling again\\n&quot;);\n            CompletableFuture&lt;InvokeResponse&gt; future = lambdaClient.invoke(request);\n            // Wait for response\n            InvokeResponse response = future.get();\n            context.getLogger().log(&quot;Response status code: &quot; + response.statusCode() + &quot;\\n&quot;);\n        } catch (Exception ex) {\n            context.getLogger().log(&quot;Error when invoking Lambda function. &quot; +\n                    ex.getClass().getSimpleName() + &quot;: &quot; + ex.getMessage() + &quot;\\n&quot;);\n        }\n\n        try {\n            Thread.sleep(5_000);\n        } catch (InterruptedException ex) {\n            context.getLogger().log(&quot;Sleep interrupted. &quot; + ex.getMessage() + &quot;\\n&quot;);\n        }\n    }\n}\n</code></pre>\n<p><strong>Log - First invocation</strong></p>\n<pre><code>START RequestId: 1a70cb3e-6752-4427-a703-69ff6f6c404b Version: $LATEST\nHandlerBlocking.process() invoked\nFirst\nCalling again\nResponse status code: 202\nEND RequestId: 1a70cb3e-6752-4427-a703-69ff6f6c404b\n</code></pre>\n<p><strong>Log - Second invocation</strong></p>\n<pre><code>START RequestId: db71eb54-547a-4ee9-9e9d-0d5b689588f8 Version: $LATEST\nHandlerBlocking.process() invoked\nSecond\nEND RequestId: db71eb54-547a-4ee9-9e9d-0d5b689588f8\n</code></pre>\n<p>I have tried the 2 approaches shown above.</p>\n"},{"tags":["java","linux","terminal"],"comments":[{"owner":{"account_id":4728704,"reputation":17032,"user_id":3824919,"display_name":"Tom"},"score":0,"creation_date":1672972072,"post_id":75026288,"comment_id":132398919,"body_markdown":"These packages don&#39;t exist. Would be useful to show us how you try to install Java","body":"These packages don&#39;t exist. Would be useful to show us how you try to install Java"},{"owner":{"account_id":27448211,"reputation":13,"user_id":20941187,"display_name":"SomeoneThatCodes"},"score":0,"creation_date":1672972432,"post_id":75026288,"comment_id":132398960,"body_markdown":"In the second link, I show the steps that I did to install it (or try) I&#39;ll put the translation rn","body":"In the second link, I show the steps that I did to install it (or try) I&#39;ll put the translation rn"},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1672980397,"post_id":75026288,"comment_id":132399993,"body_markdown":"Try to change mirror site `How can I get apt to use a mirror close to me, or choose a faster mirror?` (https://askubuntu.com/questions/37753/how-can-i-get-apt-to-use-a-mirror-close-to-me-or-choose-a-faster-mirror)","body":"Try to change mirror site <code>How can I get apt to use a mirror close to me, or choose a faster mirror?</code> (<a href=\"https://askubuntu.com/questions/37753/how-can-i-get-apt-to-use-a-mirror-close-to-me-or-choose-a-faster-mirror\" title=\"how can i get apt to use a mirror close to me or choose a faster mirror\">askubuntu.com/questions/37753/&hellip;</a>)"},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1672980528,"post_id":75026288,"comment_id":132400016,"body_markdown":"If there are no special requirements, using `sdkman` (https://sdkman.io/install) to install JDK is the easiest choice.","body":"If there are no special requirements, using <code>sdkman</code> (<a href=\"https://sdkman.io/install\" rel=\"nofollow noreferrer\">sdkman.io/install</a>) to install JDK is the easiest choice."},{"owner":{"account_id":27448211,"reputation":13,"user_id":20941187,"display_name":"SomeoneThatCodes"},"score":0,"creation_date":1673017432,"post_id":75026288,"comment_id":132409265,"body_markdown":"I tried to download any other app from the terminal like steam but I get a repository error, and if I open the software updater I can&#39;t update the system","body":"I tried to download any other app from the terminal like steam but I get a repository error, and if I open the software updater I can&#39;t update the system"},{"owner":{"account_id":27448211,"reputation":13,"user_id":20941187,"display_name":"SomeoneThatCodes"},"score":0,"creation_date":1673731629,"post_id":75026288,"comment_id":132565009,"body_markdown":"Hello everyone, installing ubuntu 22.04 was the solution for me, as the previous version didn&#39;t worked","body":"Hello everyone, installing ubuntu 22.04 was the solution for me, as the previous version didn&#39;t worked"}],"owner":{"account_id":27448211,"reputation":13,"user_id":20941187,"display_name":"SomeoneThatCodes"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":281,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673027307,"creation_date":1672971239,"question_id":75026288,"body_markdown":"I am using ubuntu 20.10 and I am trying to install java by the terminal of course. I get the error message E: Unable to fetch some archives, maybe run apt-get update or try with --fix-missing? I tried both of the commands but they don&#39;t help in a thing. The full error message:\r\n\r\n    E: Failed to fetch http://security.ubuntu.com/ubuntu/pool/main/o/openjdk-lts/openjdk-11-jdk_11.0.11+9-0ubuntu2~20.10_amd64.deb  404  Not Found [IP: 2620:2d:4000:1::19 80]\r\n    \r\n    E: Failed to fetch http://co.archive.ubuntu.com/ubuntu/pool/main/j/java-atk-wrapper/libatk-wrapper-java_0.38.0-1_all.deb  404  Not Found [IP: 2620:2d:4000:1::19 80]\r\n    E: Failed to fetch http://co.archive.ubuntu.com/ubuntu/pool/main/j/java-atk-wrapper/libatk-wrapper-java-jni_0.38.0-1_amd64.deb  404  Not Found [IP: 2620:2d:4000:1::19 80]\r\n    E: Failed to fetch http://co.archive.ubuntu.com/ubuntu/pool/main/x/xorgproto/x11proto-dev_2020.1-1_all.deb  404  Not Found [IP: 2620:2d:4000:1::19 80]\r\n    E: Failed to fetch http://co.archive.ubuntu.com/ubuntu/pool/main/libi/libice/libice-dev_1.0.10-1_amd64.deb  404  Not Found [IP: 2620:2d:4000:1::19 80]\r\n    E: Failed to fetch http://co.archive.ubuntu.com/ubuntu/pool/main/x/xorgproto/x11proto-core-dev_2020.1-1_all.deb  404  Not Found [IP: 2620:2d:4000:1::19 80]\r\n    E: Failed to fetch http://security.ubuntu.com/ubuntu/pool/main/libx/libx11/libx11-dev_1.6.12-1ubuntu0.1_amd64.deb  404  Not Found [IP: 2620:2d:4000:1::19 80]\r\n    E: Failed to fetch http://co.archive.ubuntu.com/ubuntu/pool/main/libx/libxt/libxt-dev_1.2.0-1_amd64.deb  404  Not Found [IP: 2620:2d:4000:1::19 80]\r\n\r\nI found [this](https://askubuntu.com/questions/416930/how-do-i-solve-unable-to-fetch-some-archives-maybe-run-apt-get-update-or-try-w) post that I think everyone who had the same issue came to this post, but nothing helped me to get out of the problem, in [this](https://guatewireless.org/como-instalar-java-ubuntu-20-10/) another post (in Spanish) tells many ways to download, but nothing helps. Any help would be very appreciated.\r\n","title":"Unable to install java in ubuntu 20.10 with the error of Unable to fetch some archives","body":"<p>I am using ubuntu 20.10 and I am trying to install java by the terminal of course. I get the error message E: Unable to fetch some archives, maybe run apt-get update or try with --fix-missing? I tried both of the commands but they don't help in a thing. The full error message:</p>\n<pre><code>E: Failed to fetch http://security.ubuntu.com/ubuntu/pool/main/o/openjdk-lts/openjdk-11-jdk_11.0.11+9-0ubuntu2~20.10_amd64.deb  404  Not Found [IP: 2620:2d:4000:1::19 80]\n\nE: Failed to fetch http://co.archive.ubuntu.com/ubuntu/pool/main/j/java-atk-wrapper/libatk-wrapper-java_0.38.0-1_all.deb  404  Not Found [IP: 2620:2d:4000:1::19 80]\nE: Failed to fetch http://co.archive.ubuntu.com/ubuntu/pool/main/j/java-atk-wrapper/libatk-wrapper-java-jni_0.38.0-1_amd64.deb  404  Not Found [IP: 2620:2d:4000:1::19 80]\nE: Failed to fetch http://co.archive.ubuntu.com/ubuntu/pool/main/x/xorgproto/x11proto-dev_2020.1-1_all.deb  404  Not Found [IP: 2620:2d:4000:1::19 80]\nE: Failed to fetch http://co.archive.ubuntu.com/ubuntu/pool/main/libi/libice/libice-dev_1.0.10-1_amd64.deb  404  Not Found [IP: 2620:2d:4000:1::19 80]\nE: Failed to fetch http://co.archive.ubuntu.com/ubuntu/pool/main/x/xorgproto/x11proto-core-dev_2020.1-1_all.deb  404  Not Found [IP: 2620:2d:4000:1::19 80]\nE: Failed to fetch http://security.ubuntu.com/ubuntu/pool/main/libx/libx11/libx11-dev_1.6.12-1ubuntu0.1_amd64.deb  404  Not Found [IP: 2620:2d:4000:1::19 80]\nE: Failed to fetch http://co.archive.ubuntu.com/ubuntu/pool/main/libx/libxt/libxt-dev_1.2.0-1_amd64.deb  404  Not Found [IP: 2620:2d:4000:1::19 80]\n</code></pre>\n<p>I found <a href=\"https://askubuntu.com/questions/416930/how-do-i-solve-unable-to-fetch-some-archives-maybe-run-apt-get-update-or-try-w\">this</a> post that I think everyone who had the same issue came to this post, but nothing helped me to get out of the problem, in <a href=\"https://guatewireless.org/como-instalar-java-ubuntu-20-10/\" rel=\"nofollow noreferrer\">this</a> another post (in Spanish) tells many ways to download, but nothing helps. Any help would be very appreciated.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1673091781,"post_id":75034333,"comment_id":132422636,"body_markdown":"Not without full control of the initiating process as in &quot;Start program two and then write a file to the temporary directory saying program two has finished&quot;","body":"Not without full control of the initiating process as in &quot;Start program two and then write a file to the temporary directory saying program two has finished&quot;"}],"owner":{"account_id":25297861,"reputation":17,"user_id":19122683,"display_name":"Blrackerd"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673026891,"creation_date":1673026891,"question_id":75034333,"body_markdown":"I am building a standalone program in java that launches &#39;exe&#39; or &#39;lnk&#39; and gets the execution time.\r\n\r\nIt has worked perfectly for me but with one of the programs launches a second exe and the first one closes giving me only the time of the first when I need both. \r\n\r\nThe first option that occurred to me is to launch the second directly but this gives an error if it is not launched from the first\r\n\r\nMy code is\r\n\r\n    String ruta = &quot;C:\\\\folder\\\\launch.exe&quot;;\r\n    long inicio = System.currentTimeMillis();\r\n    Process p;\r\n    try {\r\n    \tp = new ProcessBuilder(&quot;cmd&quot;, &quot;/c&quot;, &quot;\\&quot;&quot; + ruta + &quot;\\&quot;&quot;).redirectError(Redirect.INHERIT).redirectInput(Redirect.INHERIT).redirectOutput(Redirect.INHERIT).start();\r\n    \t\t\t\r\n    \tp.waitFor();\r\n    \t\r\n    } catch (IOException | InterruptedException e) {\r\n    \te.printStackTrace();\r\n    }\r\n    \t\t\r\n    long fin = System.currentTimeMillis();\r\n    long total = fin - inicio;\r\n\r\nIs there any way to do what I need?\r\n\r\nMany Thanks","title":"Detect start and end of an exe launched by another exe from java","body":"<p>I am building a standalone program in java that launches 'exe' or 'lnk' and gets the execution time.</p>\n<p>It has worked perfectly for me but with one of the programs launches a second exe and the first one closes giving me only the time of the first when I need both.</p>\n<p>The first option that occurred to me is to launch the second directly but this gives an error if it is not launched from the first</p>\n<p>My code is</p>\n<pre><code>String ruta = &quot;C:\\\\folder\\\\launch.exe&quot;;\nlong inicio = System.currentTimeMillis();\nProcess p;\ntry {\n    p = new ProcessBuilder(&quot;cmd&quot;, &quot;/c&quot;, &quot;\\&quot;&quot; + ruta + &quot;\\&quot;&quot;).redirectError(Redirect.INHERIT).redirectInput(Redirect.INHERIT).redirectOutput(Redirect.INHERIT).start();\n            \n    p.waitFor();\n    \n} catch (IOException | InterruptedException e) {\n    e.printStackTrace();\n}\n        \nlong fin = System.currentTimeMillis();\nlong total = fin - inicio;\n</code></pre>\n<p>Is there any way to do what I need?</p>\n<p>Many Thanks</p>\n"},{"tags":["java","fonts","itext","cjk"],"answers":[{"comments":[{"owner":{"account_id":14886649,"reputation":1,"user_id":10749635,"display_name":"Vivek Tailang"},"score":0,"creation_date":1673327906,"post_id":75034196,"comment_id":132468158,"body_markdown":"Hi,\nI used following setting and now PDF is displaying the kanji charachter\n\n`BaseFont bfJapanese = BaseFont.createFont(&quot;C:\\\\Windows\\\\Fonts\\\\msmincho.ttc,0&quot;, \n\t\t\t\t\tBaseFont.IDENTITY_H, BaseFont.EMBEDDED);`\nThanks","body":"Hi, I used following setting and now PDF is displaying the kanji charachter  <code>BaseFont bfJapanese = BaseFont.createFont(&quot;C:\\\\Windows\\\\Fonts\\\\msmincho.ttc,0&quot;,  \t\t\t\t\tBaseFont.IDENTITY_H, BaseFont.EMBEDDED);</code> Thanks"}],"tags":[],"owner":{"account_id":7547772,"reputation":8593,"user_id":5730279,"display_name":"hc_dev"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673026628,"creation_date":1673026088,"answer_id":75034196,"question_id":75029883,"body_markdown":"### Creating a font by name and encoding\r\nYou called the method `BaseFont.createFont(String name, String encoding, boolean embedded)` correctly.\r\n\r\nThe `AsianFontMapper` class has those constants for 2 font names and 4 encodings:\r\n```\r\n// font names\r\n    public static final String JapaneseFont_Go = &quot;HeiseiKakuGo-W5&quot;;\r\n    public static final String JapaneseFont_Min = &quot;HeiseiMin-W3&quot;;\r\n// encodings\r\n    public static final String JapaneseEncoding_H = &quot;UniJIS-UCS2-H&quot;;\r\n    public static final String JapaneseEncoding_V = &quot;UniJIS-UCS2-V&quot;;\r\n    public static final String JapaneseEncoding_HW_H = &quot;UniJIS-UCS2-HW-H&quot;;\r\n    public static final String JapaneseEncoding_HW_V = &quot;UniJIS-UCS2-HW-V&quot;;\r\n```\r\n\r\nThe [Kanji character `&#134071;` for &quot;earth&quot;][1] should be supported by above Japanese fonts of *Heisei* family and all of those encodings.\r\n\r\n### Japanese font must be present on your system\r\n\r\nMake sure that they are available the system creating and viewing the PDF.\r\n\r\nWhen using `embedded = false` to keep the PDF-size small, they must also been present on the viewing system.\r\n\r\nSee Wikipedia article: *List of CJK fonts*, especially the table for [Japanese][2]:\r\n\r\n* Adobe provides the above named [`Heisei Mincho`][3] font-family and [`Heisei Kaku Gothic`][4].\r\n* Microsoft supports the Japanese script with font-families like [`SimHei`][5] or [`SimSun`][6].\r\n* From Google you can download [Japanese fonts, e.g. the `Noto` family](https://fonts.google.com/?subset=japanese&amp;noto.script=Jpan)\r\n\r\n\r\n  [1]: https://www.kanshudo.com/kanji/%F0%A0%AE%B7\r\n  [2]: https://en.wikipedia.org/wiki/List_of_CJK_fonts#Japanese_2\r\n  [3]: https://fonts.adobe.com/fonts/heisei-mincho-std\r\n  [4]: https://fonts.adobe.com/fonts/heisei-kaku-gothic-std\r\n  [5]: https://learn.microsoft.com/en-us/typography/font-list/simhei?source=recommendations\r\n  [6]: https://learn.microsoft.com/en-us/typography/font-list/simsun","title":"Using iTextpdf version 5.5 and itext-asian 5.2 kanji charachter &#134071; is not displaying on PDF","body":"<h3>Creating a font by name and encoding</h3>\n<p>You called the method <code>BaseFont.createFont(String name, String encoding, boolean embedded)</code> correctly.</p>\n<p>The <code>AsianFontMapper</code> class has those constants for 2 font names and 4 encodings:</p>\n<pre><code>// font names\n    public static final String JapaneseFont_Go = &quot;HeiseiKakuGo-W5&quot;;\n    public static final String JapaneseFont_Min = &quot;HeiseiMin-W3&quot;;\n// encodings\n    public static final String JapaneseEncoding_H = &quot;UniJIS-UCS2-H&quot;;\n    public static final String JapaneseEncoding_V = &quot;UniJIS-UCS2-V&quot;;\n    public static final String JapaneseEncoding_HW_H = &quot;UniJIS-UCS2-HW-H&quot;;\n    public static final String JapaneseEncoding_HW_V = &quot;UniJIS-UCS2-HW-V&quot;;\n</code></pre>\n<p>The <a href=\"https://www.kanshudo.com/kanji/%F0%A0%AE%B7\" rel=\"nofollow noreferrer\">Kanji character <code>ð ®·</code> for &quot;earth&quot;</a> should be supported by above Japanese fonts of <em>Heisei</em> family and all of those encodings.</p>\n<h3>Japanese font must be present on your system</h3>\n<p>Make sure that they are available the system creating and viewing the PDF.</p>\n<p>When using <code>embedded = false</code> to keep the PDF-size small, they must also been present on the viewing system.</p>\n<p>See Wikipedia article: <em>List of CJK fonts</em>, especially the table for <a href=\"https://en.wikipedia.org/wiki/List_of_CJK_fonts#Japanese_2\" rel=\"nofollow noreferrer\">Japanese</a>:</p>\n<ul>\n<li>Adobe provides the above named <a href=\"https://fonts.adobe.com/fonts/heisei-mincho-std\" rel=\"nofollow noreferrer\"><code>Heisei Mincho</code></a> font-family and <a href=\"https://fonts.adobe.com/fonts/heisei-kaku-gothic-std\" rel=\"nofollow noreferrer\"><code>Heisei Kaku Gothic</code></a>.</li>\n<li>Microsoft supports the Japanese script with font-families like <a href=\"https://learn.microsoft.com/en-us/typography/font-list/simhei?source=recommendations\" rel=\"nofollow noreferrer\"><code>SimHei</code></a> or <a href=\"https://learn.microsoft.com/en-us/typography/font-list/simsun\" rel=\"nofollow noreferrer\"><code>SimSun</code></a>.</li>\n<li>From Google you can download <a href=\"https://fonts.google.com/?subset=japanese&amp;noto.script=Jpan\" rel=\"nofollow noreferrer\">Japanese fonts, e.g. the <code>Noto</code> family</a></li>\n</ul>\n"}],"owner":{"account_id":14886649,"reputation":1,"user_id":10749635,"display_name":"Vivek Tailang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":238,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":75034196,"answer_count":1,"score":-2,"last_activity_date":1673026628,"creation_date":1673001717,"question_id":75029883,"body_markdown":"Creating PDF using\r\n* iTextpdf version 5.5.13.3\r\n* itext-asian 5.2.0\r\n\r\nOnly kanji character `&#134071;` is not displayed,\r\nbut all other Japanese characters are displayed on created PDF.\r\n\r\n### Code\r\nUsed to set the BaseFont\r\n```\r\nBaseFont bfJapanese = BaseFont.createFont(\r\n  AsianFontMapper.JapaneseFont_Min,\r\n  AsianFontMapper.JapaneseEncoding_H,\r\n  BaseFont.NOT_EMBEDDED\r\n);\r\n```\r\nIs there any other way to set the Japanese fonts?","title":"Using iTextpdf version 5.5 and itext-asian 5.2 kanji charachter &#134071; is not displaying on PDF","body":"<p>Creating PDF using</p>\n<ul>\n<li>iTextpdf version 5.5.13.3</li>\n<li>itext-asian 5.2.0</li>\n</ul>\n<p>Only kanji character <code>ð ®·</code> is not displayed,\nbut all other Japanese characters are displayed on created PDF.</p>\n<h3>Code</h3>\n<p>Used to set the BaseFont</p>\n<pre><code>BaseFont bfJapanese = BaseFont.createFont(\n  AsianFontMapper.JapaneseFont_Min,\n  AsianFontMapper.JapaneseEncoding_H,\n  BaseFont.NOT_EMBEDDED\n);\n</code></pre>\n<p>Is there any other way to set the Japanese fonts?</p>\n"},{"tags":["java","spring-boot","jpa","java-time","localdate"],"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1673007703,"post_id":75030785,"comment_id":132406186,"body_markdown":"1664584019 equals GMT: Saturday 1. October 2022 00:26:59. So it seems you got the correct date in this case, but where the time 18:39:59.0 comes from is a mystery to me.","body":"1664584019 equals GMT: Saturday 1. October 2022 00:26:59. So it seems you got the correct date in this case, but where the time 18:39:59.0 comes from is a mystery to me."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1673007960,"post_id":75030785,"comment_id":132406261,"body_markdown":"In Java itâs easy enough: `Instant.ofEpochSecond(1664584019).atOffset(ZoneOffset.UTC).toLocalDate()`. How much of that works in a JOQL query I donât know. If all else fails, you may convert the first and the last timestamp of the current date to epoch timestamps and select events between them.","body":"In Java itâs easy enough: <code>Instant.ofEpochSecond(1664584019).atOffset(ZoneOffset.UTC).t&zwnj;&#8203;oLocalDate()</code>. How much of that works in a JOQL query I donât know. If all else fails, you may convert the first and the last timestamp of the current date to epoch timestamps and select events between them."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1673008005,"post_id":75030785,"comment_id":132406271,"body_markdown":"Lesson to learn: Do not store numeric timestamps in your database. Use `timestamp with time zone` data type.","body":"Lesson to learn: Do not store numeric timestamps in your database. Use <code>timestamp with time zone</code> data type."},{"owner":{"account_id":16194832,"reputation":582,"user_id":11692715,"display_name":"Mohit Kumar"},"score":0,"creation_date":1673008381,"post_id":75030785,"comment_id":132406361,"body_markdown":"Is there sill a way that somehow I will be able to use some SQL function which just convert the epoch to UTC time. I tried everything. And I know at the end if there were now choice, I have to use startTimestamp and endtimestamp","body":"Is there sill a way that somehow I will be able to use some SQL function which just convert the epoch to UTC time. I tried everything. And I know at the end if there were now choice, I have to use startTimestamp and endtimestamp"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1673017016,"post_id":75030785,"comment_id":132409146,"body_markdown":"Does this answer your question? [How to select unix timestamp as date in Jooq?](https://stackoverflow.com/questions/60848890/how-to-select-unix-timestamp-as-date-in-jooq) Does this? [PostgreSQL: how to convert from Unix epoch to date?](https://stackoverflow.com/questions/16609722/postgresql-how-to-convert-from-unix-epoch-to-date) Also see [How to Convert a Unix Timestamp to a Date/Time Value in PostgreSQL](https://database.guide/how-to-convert-a-unix-timestamp-to-a-date-time-value-in-postgresql/).","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/60848890/how-to-select-unix-timestamp-as-date-in-jooq\">How to select unix timestamp as date in Jooq?</a> Does this? <a href=\"https://stackoverflow.com/questions/16609722/postgresql-how-to-convert-from-unix-epoch-to-date\">PostgreSQL: how to convert from Unix epoch to date?</a> Also see <a href=\"https://database.guide/how-to-convert-a-unix-timestamp-to-a-date-time-value-in-postgresql/\" rel=\"nofollow noreferrer\">How to Convert a Unix Timestamp to a Date/Time Value in PostgreSQL</a>."}],"answers":[{"comments":[{"owner":{"account_id":16194832,"reputation":582,"user_id":11692715,"display_name":"Mohit Kumar"},"score":0,"creation_date":1673029935,"post_id":75034279,"comment_id":132413362,"body_markdown":"But I need to do it in JPQL, it&#39;s creating weird timezone issues","body":"But I need to do it in JPQL, it&#39;s creating weird timezone issues"}],"tags":[],"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673026559,"creation_date":1673026559,"answer_id":75034279,"question_id":75030785,"body_markdown":"&gt; Can anybody help me regarding how to convert epoch time to LocalDate?\r\n\r\nYou can convert the epoch seconds into an `Instant` which can subsequently be converted into an `OffsetDateTime` or `ZonedDateTime` depending on your time-zone requirement. Finally, you can get the `LocalDate` out of the `OffsetDateTime` or `ZonedDateTime` using its `.toLocalDate()` function.\r\n\r\n**Note**: The following demo uses `ZoneOffset.UTC`. You can use a different offset e.g. `ZoneOffset.of(&quot;+05:30&quot;)` to get an `OffsetDateTime` at this offset or a `ZoneId` e.g. `ZoneId.of(&quot;Asia/Kolkata&quot;)` to get a `ZonedDateTime` at this time-zone.\r\n\r\n**Demo**:\r\n\r\n    import java.time.Instant;\r\n    import java.time.LocalDate;\r\n    import java.time.ZoneOffset;\r\n    \r\n    class Main {\r\n        public static void main(String[] args) {\r\n            long epochSeconds = 1664584019;\r\n            Instant instant = Instant.ofEpochSecond(epochSeconds);\r\n            System.out.println(instant);\r\n    \r\n            // Get LocalDate out of Instant\r\n            LocalDate date = instant.atOffset(ZoneOffset.UTC).toLocalDate();\r\n            System.out.println(date);\r\n        }\r\n    }\r\n\r\n**Output**:\r\n\r\n    2022-10-01T00:26:59Z\r\n    2022-10-01\r\n\r\n[&lt;kbd&gt;ONLINE DEMO&lt;/kbd&gt;](https://ideone.com/fmlRXv)\r\n\r\n**Note**: Since you want to compare a `LocalDate` at UTC with `curDate`, the value of `curDate` should also be obtained at UTC i.e. `curDate = LocalDate.now(ZoneOffset.UTC)`.\r\n\r\nLearn more about the modern Date-Time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.\r\n\r\n","title":"Spring boot convert epoch timestamp to java.time.LocalDate?","body":"<blockquote>\n<p>Can anybody help me regarding how to convert epoch time to LocalDate?</p>\n</blockquote>\n<p>You can convert the epoch seconds into an <code>Instant</code> which can subsequently be converted into an <code>OffsetDateTime</code> or <code>ZonedDateTime</code> depending on your time-zone requirement. Finally, you can get the <code>LocalDate</code> out of the <code>OffsetDateTime</code> or <code>ZonedDateTime</code> using its <code>.toLocalDate()</code> function.</p>\n<p><strong>Note</strong>: The following demo uses <code>ZoneOffset.UTC</code>. You can use a different offset e.g. <code>ZoneOffset.of(&quot;+05:30&quot;)</code> to get an <code>OffsetDateTime</code> at this offset or a <code>ZoneId</code> e.g. <code>ZoneId.of(&quot;Asia/Kolkata&quot;)</code> to get a <code>ZonedDateTime</code> at this time-zone.</p>\n<p><strong>Demo</strong>:</p>\n<pre><code>import java.time.Instant;\nimport java.time.LocalDate;\nimport java.time.ZoneOffset;\n\nclass Main {\n    public static void main(String[] args) {\n        long epochSeconds = 1664584019;\n        Instant instant = Instant.ofEpochSecond(epochSeconds);\n        System.out.println(instant);\n\n        // Get LocalDate out of Instant\n        LocalDate date = instant.atOffset(ZoneOffset.UTC).toLocalDate();\n        System.out.println(date);\n    }\n}\n</code></pre>\n<p><strong>Output</strong>:</p>\n<pre><code>2022-10-01T00:26:59Z\n2022-10-01\n</code></pre>\n<p><a href=\"https://ideone.com/fmlRXv\" rel=\"nofollow noreferrer\"><kbd>ONLINE DEMO</kbd></a></p>\n<p><strong>Note</strong>: Since you want to compare a <code>LocalDate</code> at UTC with <code>curDate</code>, the value of <code>curDate</code> should also be obtained at UTC i.e. <code>curDate = LocalDate.now(ZoneOffset.UTC)</code>.</p>\n<p>Learn more about the modern Date-Time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</p>\n"}],"owner":{"account_id":16194832,"reputation":582,"user_id":11692715,"display_name":"Mohit Kumar"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":980,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1673026559,"creation_date":1673007080,"question_id":75030785,"body_markdown":"I want to compare LocalDate with the timestamp in database (Postgres with UTC timezone).\r\n\r\ncode I wrote\r\n\r\n    @Query(&quot;&quot;&quot;\r\n          select eve from Events eve\r\n          where cast(to_timestamp(pe.timestamp) as LocalDate)  = :curDate\r\n       &quot;&quot;&quot;)\r\n      List&lt;Event&gt; getAllByDate(LocalDate curDate);\r\n\r\n\r\nI added both\r\n\r\n      @PostConstruct\r\n      public void init(){\r\n        // Setting Spring Boot SetTimeZone\r\n        TimeZone.setDefault(TimeZone.getTimeZone(&quot;UTC&quot;));\r\n      }\r\n\r\n\r\nand \r\n\r\n    spring.jpa.properties.hibernate.jdbc.time_zone=UTC\r\n\r\n\r\nthen I tried to run \r\n\r\nselect to_timestamp(eve.timestamp)\r\n\r\ninside @Query where eve.timestamp was 1664584019 and it converted into 2022-10-01 18:39:59.0\r\n\r\nFirst I through it is converting into IST (Indian standard time) but I think that also wrong.\r\n\r\n\r\nSo, Can anybody help me regarding how to convert epoch time to LocalDate to compare with LocalDate?","title":"Spring boot convert epoch timestamp to java.time.LocalDate?","body":"<p>I want to compare LocalDate with the timestamp in database (Postgres with UTC timezone).</p>\n<p>code I wrote</p>\n<pre><code>@Query(&quot;&quot;&quot;\n      select eve from Events eve\n      where cast(to_timestamp(pe.timestamp) as LocalDate)  = :curDate\n   &quot;&quot;&quot;)\n  List&lt;Event&gt; getAllByDate(LocalDate curDate);\n</code></pre>\n<p>I added both</p>\n<pre><code>  @PostConstruct\n  public void init(){\n    // Setting Spring Boot SetTimeZone\n    TimeZone.setDefault(TimeZone.getTimeZone(&quot;UTC&quot;));\n  }\n</code></pre>\n<p>and</p>\n<pre><code>spring.jpa.properties.hibernate.jdbc.time_zone=UTC\n</code></pre>\n<p>then I tried to run</p>\n<p>select to_timestamp(eve.timestamp)</p>\n<p>inside @Query where eve.timestamp was 1664584019 and it converted into 2022-10-01 18:39:59.0</p>\n<p>First I through it is converting into IST (Indian standard time) but I think that also wrong.</p>\n<p>So, Can anybody help me regarding how to convert epoch time to LocalDate to compare with LocalDate?</p>\n"},{"tags":["java","jsp","ear","wildfly-18","precompiled-binaries"],"owner":{"account_id":10418608,"reputation":201,"user_id":7681907,"accept_rate":100,"display_name":"ShraddhaJ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673026548,"creation_date":1673026548,"question_id":75034275,"body_markdown":"Explanation:\r\n\r\nWe are using WildFly 18.0.1 in domain mode with one master and multiple slaves with jdk1.8.0_261.\r\nApplication is deployed on WildFly Master in zipped .ear format.\r\nApplication Ear Structure\r\n\r\n   ```\r\n     application.ear \r\n     -&gt; abc.war  \r\n        -&gt; file1.html\r\n        -&gt; file2.js\r\n        -&gt; ...\r\n        -&gt;  WEB-INF\r\n            -&gt; classes\r\n                -&gt; org\r\n                  -&gt; apache\r\n                    -&gt; jsp\r\n                       -&gt; com\r\n                          -&gt;test\r\n                             -&gt; test_005_login.class\r\n            -&gt;  web.xml\r\n            -&gt;  jboss-web.xml\r\n    -&gt; pqr.jar\r\n    -&gt; lib\r\n    -&gt; xyz.war\r\n    -&gt; META-INF\r\n        -&gt; application.xml\r\n        -&gt; jboss-deployment-structure.xml  \r\n```  \r\n\r\n We want to access test_login.jsp from pqr.jar and other wars, which has code to call test_login.jsp present in com/test folder.\r\n\r\n  In domain.xml we use following configuration for JSPs.\r\n   &lt;jsp-config mapped-file=&quot;false&quot; x-powered-by=&quot;false&quot; display-source-fragment=&quot;false&quot;/&gt;  \r\n\r\n**Note:\r\n   We want to avoid JSP servlet entries in web.xml as we have more than 100 JSPs**\r\n  ","title":"How to access pre-compiled JSP&#39;s classes present in WEB-INF/classes folder, when App is bundeled in ear format and deployed in WildFly server?","body":"<p>Explanation:</p>\n<p>We are using WildFly 18.0.1 in domain mode with one master and multiple slaves with jdk1.8.0_261.\nApplication is deployed on WildFly Master in zipped .ear format.\nApplication Ear Structure</p>\n<pre><code>  application.ear \n  -&gt; abc.war  \n     -&gt; file1.html\n     -&gt; file2.js\n     -&gt; ...\n     -&gt;  WEB-INF\n         -&gt; classes\n             -&gt; org\n               -&gt; apache\n                 -&gt; jsp\n                    -&gt; com\n                       -&gt;test\n                          -&gt; test_005_login.class\n         -&gt;  web.xml\n         -&gt;  jboss-web.xml\n -&gt; pqr.jar\n -&gt; lib\n -&gt; xyz.war\n -&gt; META-INF\n     -&gt; application.xml\n     -&gt; jboss-deployment-structure.xml  \n</code></pre>\n<p>We want to access test_login.jsp from pqr.jar and other wars, which has code to call test_login.jsp present in com/test folder.</p>\n<p>In domain.xml we use following configuration for JSPs.\n</p>\n<p><strong>Note:\nWe want to avoid JSP servlet entries in web.xml as we have more than 100 JSPs</strong></p>\n"},{"tags":["java","spring-boot","java-11"],"comments":[{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":1,"creation_date":1673026187,"post_id":75034153,"comment_id":132412268,"body_markdown":"Why is `&lt;java.version&gt;17&lt;/java.version&gt;` if you&#39;re targeting JDK 11?","body":"Why is <code>&lt;java.version&gt;17&lt;&#47;java.version&gt;</code> if you&#39;re targeting JDK 11?"},{"owner":{"account_id":8591840,"reputation":46475,"user_id":6436191,"display_name":"The Impaler"},"score":0,"creation_date":1673026253,"post_id":75034153,"comment_id":132412288,"body_markdown":"Do you want the project to use Java 11 or Java 17?","body":"Do you want the project to use Java 11 or Java 17?"},{"owner":{"account_id":11884555,"reputation":191,"user_id":8697309,"display_name":"cabronHp"},"score":0,"creation_date":1673032717,"post_id":75034153,"comment_id":132414150,"body_markdown":"@Michael automatically Sprint initializr puts it","body":"@Michael automatically Sprint initializr puts it"}],"answers":[{"tags":[],"owner":{"account_id":11884555,"reputation":191,"user_id":8697309,"display_name":"cabronHp"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673025797,"creation_date":1673025797,"answer_id":75034154,"question_id":75034153,"body_markdown":"According to [this article][1] Spring Boot 3.0 will require Java 17 (jdk 17). So during project generation change Spring Boot version from 3.* to 2.7.* and solved !\r\n\r\n\r\n  [1]: https://spring.io/blog/2022/05/24/preparing-for-spring-boot-3-0","title":"Language level is invalid or missing in pom.xml. Current project JDK is 11. Specify language level in project","body":"<p>According to <a href=\"https://spring.io/blog/2022/05/24/preparing-for-spring-boot-3-0\" rel=\"nofollow noreferrer\">this article</a> Spring Boot 3.0 will require Java 17 (jdk 17). So during project generation change Spring Boot version from 3.* to 2.7.* and solved !</p>\n"}],"owner":{"account_id":11884555,"reputation":191,"user_id":8697309,"display_name":"cabronHp"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1092,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673025797,"creation_date":1673025797,"question_id":75034153,"body_markdown":"I am generate the following project and its dependencies with Spring Boot 3 from Spring initializr\r\n\r\n[![Spring initializr][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4F3gT.png\r\n\r\nOpening and running project in Intellij IDEA the following output is returned\r\n\r\n    error: release version 17 not supported\r\n    \r\n    Language level is invalid or missing in pom.xml. Current project JDK is 11. Specify language level in webflux-project \r\n\r\n I have jdk 11 installed on my system\r\n\r\n    &gt; java --version\r\n    java 11.0.14 2022-01-18 LTS\r\n    Java(TM) SE Runtime Environment 18.9 (build 11.0.14+8-LTS-263)\r\n    Java HotSpot(TM) 64-Bit Server VM 18.9 (build 11.0.14+8-LTS-263, mixed mode)\r\n\r\npom.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;3.0.1&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.gamesmall&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;webflux&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;packaging&gt;war&lt;/packaging&gt;\r\n    \t&lt;name&gt;webflux&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot with WebFlux&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n            ...\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\nhow to resolved this issue ?\r\n\r\n","title":"Language level is invalid or missing in pom.xml. Current project JDK is 11. Specify language level in project","body":"<p>I am generate the following project and its dependencies with Spring Boot 3 from Spring initializr</p>\n<p><a href=\"https://i.stack.imgur.com/4F3gT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4F3gT.png\" alt=\"Spring initializr\" /></a></p>\n<p>Opening and running project in Intellij IDEA the following output is returned</p>\n<pre><code>error: release version 17 not supported\n\nLanguage level is invalid or missing in pom.xml. Current project JDK is 11. Specify language level in webflux-project \n</code></pre>\n<p>I have jdk 11 installed on my system</p>\n<pre><code>&gt; java --version\njava 11.0.14 2022-01-18 LTS\nJava(TM) SE Runtime Environment 18.9 (build 11.0.14+8-LTS-263)\nJava HotSpot(TM) 64-Bit Server VM 18.9 (build 11.0.14+8-LTS-263, mixed mode)\n</code></pre>\n<p>pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.1&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.gamesmall&lt;/groupId&gt;\n    &lt;artifactId&gt;webflux&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;name&gt;webflux&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot with WebFlux&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        ...\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>how to resolved this issue ?</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa"],"owner":{"account_id":13975330,"reputation":149,"user_id":10092887,"display_name":"Flinty926"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1673025681,"creation_date":1673025681,"question_id":75034129,"body_markdown":"Preface:\r\n - Using Springboot with JPA (MySQL) and JsonViews\r\n - Below `Community` entity works normally on it&#39;s own.\r\n - My JsonView I&#39;m trying to use is named Social.\r\n - My ultimate question is how can I fix the code below to either Lazy Load the community tags\r\n - Additionally; is it better to have 3/4 views that are linked to their function; i.e. `Brief` for list operations, `Social` for expanded resources and `Internal` for all data, or is it better to have a view like `UserBrief`, `UserExpanded` and so on?\r\n\r\nI have an Entity named `User`, with a `Many-One` relationship called `communities`, which is a set of the `Community` entity. In the `Community` entity, it has a Set of `CommunityTag` entities as a `Many-Many` relationship. All child relationships are Lazy loaded.\r\n\r\nI get the following error: \r\n```\r\nCould not write JSON: failed to lazily initialize a collection of role: core.models.\r\nCommunity.tags:\r\n```\r\n\r\nBelow is the relevant code of both Entities and the UserRepository class\r\nUser class:\r\n```java\r\n@Entity\r\n@Table(name=&quot;users&quot;)\r\n@JsonIgnoreProperties({&quot;hibernateLazyInitializer&quot;, &quot;handler&quot;})\r\npublic class User implements Serializable {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy= GenerationType.IDENTITY)\r\n    @Getter @Setter\r\n    @JsonView({Views.Brief.class})\r\n    private Integer id;\r\n    ...\r\n    @Getter @Setter\r\n    @OneToMany(cascade = CascadeType.ALL, fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;user_id&quot;, nullable = false)\r\n    @JsonView({Views.Social.class})\r\n    Set&lt;Community&gt; communities = new HashSet&lt;&gt;();\r\n```\r\nCommunity:\r\n```java\r\n@Entity\r\n@Table(name = &quot;communities&quot;)\r\n@ToString\r\n@JsonIgnoreProperties({&quot;hibernateLazyInitializer&quot;, &quot;handler&quot;})\r\npublic class Community implements Serializable {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Getter @Setter\r\n    @JsonView({Views.Brief.class, Views.Internal.class, Views.Social.class})\r\n    private Integer id;\r\n    ...\r\n    @Getter @Setter\r\n    @ManyToMany(fetch = FetchType.LAZY)\r\n    @Nullable\r\n    @JoinTable(\r\n            name = &quot;communities_tags&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;community_id&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;tag_id&quot;)\r\n    )\r\n    @ToString.Exclude\r\n    @JsonView(Views.Social.class)\r\n    private Set&lt;CommunityTag&gt; tags = new HashSet&lt;&gt;();\r\n}\r\n```\r\nUserRepository, extends JpaRepository:\r\n```java\r\n    @EntityGraph(attributePaths = {&quot;avatar&quot;, &quot;banner&quot;, &quot;communities&quot;})\r\n    List&lt;User&gt; findAllWithAvatarWithBannerWithCommunitiesByIdNotNull();\r\n```\r\nThanks for any help provided!\r\n","title":"Spring Boot JPA/JsonView Grandchild relationship","body":"<p>Preface:</p>\n<ul>\n<li>Using Springboot with JPA (MySQL) and JsonViews</li>\n<li>Below <code>Community</code> entity works normally on it's own.</li>\n<li>My JsonView I'm trying to use is named Social.</li>\n<li>My ultimate question is how can I fix the code below to either Lazy Load the community tags</li>\n<li>Additionally; is it better to have 3/4 views that are linked to their function; i.e. <code>Brief</code> for list operations, <code>Social</code> for expanded resources and <code>Internal</code> for all data, or is it better to have a view like <code>UserBrief</code>, <code>UserExpanded</code> and so on?</li>\n</ul>\n<p>I have an Entity named <code>User</code>, with a <code>Many-One</code> relationship called <code>communities</code>, which is a set of the <code>Community</code> entity. In the <code>Community</code> entity, it has a Set of <code>CommunityTag</code> entities as a <code>Many-Many</code> relationship. All child relationships are Lazy loaded.</p>\n<p>I get the following error:</p>\n<pre><code>Could not write JSON: failed to lazily initialize a collection of role: core.models.\nCommunity.tags:\n</code></pre>\n<p>Below is the relevant code of both Entities and the UserRepository class\nUser class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name=&quot;users&quot;)\n@JsonIgnoreProperties({&quot;hibernateLazyInitializer&quot;, &quot;handler&quot;})\npublic class User implements Serializable {\n\n    @Id\n    @GeneratedValue(strategy= GenerationType.IDENTITY)\n    @Getter @Setter\n    @JsonView({Views.Brief.class})\n    private Integer id;\n    ...\n    @Getter @Setter\n    @OneToMany(cascade = CascadeType.ALL, fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;user_id&quot;, nullable = false)\n    @JsonView({Views.Social.class})\n    Set&lt;Community&gt; communities = new HashSet&lt;&gt;();\n</code></pre>\n<p>Community:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;communities&quot;)\n@ToString\n@JsonIgnoreProperties({&quot;hibernateLazyInitializer&quot;, &quot;handler&quot;})\npublic class Community implements Serializable {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Getter @Setter\n    @JsonView({Views.Brief.class, Views.Internal.class, Views.Social.class})\n    private Integer id;\n    ...\n    @Getter @Setter\n    @ManyToMany(fetch = FetchType.LAZY)\n    @Nullable\n    @JoinTable(\n            name = &quot;communities_tags&quot;,\n            joinColumns = @JoinColumn(name = &quot;community_id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;tag_id&quot;)\n    )\n    @ToString.Exclude\n    @JsonView(Views.Social.class)\n    private Set&lt;CommunityTag&gt; tags = new HashSet&lt;&gt;();\n}\n</code></pre>\n<p>UserRepository, extends JpaRepository:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @EntityGraph(attributePaths = {&quot;avatar&quot;, &quot;banner&quot;, &quot;communities&quot;})\n    List&lt;User&gt; findAllWithAvatarWithBannerWithCommunitiesByIdNotNull();\n</code></pre>\n<p>Thanks for any help provided!</p>\n"},{"tags":["java","linux","logging","jar","cron"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1673025355,"post_id":75034065,"comment_id":132411994,"body_markdown":"What log file? cron will email you the output of the program it runs. Did you set up the email and check what it contains?","body":"What log file? cron will email you the output of the program it runs. Did you set up the email and check what it contains?"},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":2,"creation_date":1673025932,"post_id":75034065,"comment_id":132412181,"body_markdown":"@Robert It&#39;s often the case that Java apps won&#39;t write much or anything to stdout. Usually it&#39;s log4j/logback writing to a file. It&#39;s unclear which they&#39;re referring to.","body":"@Robert It&#39;s often the case that Java apps won&#39;t write much or anything to stdout. Usually it&#39;s log4j/logback writing to a file. It&#39;s unclear which they&#39;re referring to."},{"owner":{"account_id":12236597,"reputation":1,"user_id":8930820,"display_name":"RRS"},"score":0,"creation_date":1673026110,"post_id":75034065,"comment_id":132412237,"body_markdown":"Configuring log4j.properties in this project using log4j api for generating tracks.log whenever chron will run , it will generate &#39;logFile/tracks.log&#39; but cron not generated ,, Using direct jar command it generates successfully but crontab it is not generated.","body":"Configuring log4j.properties in this project using log4j api for generating tracks.log whenever chron will run , it will generate &#39;logFile/tracks.log&#39; but cron not generated ,, Using direct jar command it generates successfully but crontab it is not generated."},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":1,"creation_date":1673026272,"post_id":75034065,"comment_id":132412298,"body_markdown":"Is the cron user the same as the user you&#39;re running manually with? Maybe it&#39;s a unix file permissions issue and the cron user can&#39;t write to that dir.","body":"Is the cron user the same as the user you&#39;re running manually with? Maybe it&#39;s a unix file permissions issue and the cron user can&#39;t write to that dir."},{"owner":{"account_id":12236597,"reputation":1,"user_id":8930820,"display_name":"RRS"},"score":0,"creation_date":1673030367,"post_id":75034065,"comment_id":132413500,"body_markdown":"Ya , Michael cron user and loging user are same and permission also granted for this location .","body":"Ya , Michael cron user and loging user are same and permission also granted for this location ."},{"owner":{"account_id":308303,"reputation":36789,"user_id":620097,"display_name":"shellter"},"score":1,"creation_date":1673048768,"post_id":75034065,"comment_id":132417919,"body_markdown":"Maybe you need to post an [MCVE] coded version of the problem. Good luck.","body":"Maybe you need to post an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> coded version of the problem. Good luck."}],"owner":{"account_id":12236597,"reputation":1,"user_id":8930820,"display_name":"RRS"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673025351,"creation_date":1673025249,"question_id":75034065,"body_markdown":"I run a cron job in Linux with jar files that executed successfully but the log file is not created.\r\n\r\n```\r\n*/10 * * * * java -jar /home/rrs/app.jar\r\n```","title":"Cron job is not creating logs after running jar in Java","body":"<p>I run a cron job in Linux with jar files that executed successfully but the log file is not created.</p>\n<pre><code>*/10 * * * * java -jar /home/rrs/app.jar\n</code></pre>\n"},{"tags":["java","android","database","date","simpledateformat"],"comments":[{"owner":{"account_id":26359116,"reputation":585,"user_id":20015640,"display_name":"Urvish Shiroya"},"score":0,"creation_date":1673008591,"post_id":75031001,"comment_id":132406423,"body_markdown":"what you stored in your database can you give example.?","body":"what you stored in your database can you give example.?"},{"owner":{"account_id":8247829,"reputation":291,"user_id":6203399,"accept_rate":20,"display_name":"Abm"},"score":0,"creation_date":1673009639,"post_id":75031001,"comment_id":132406721,"body_markdown":"@Urvish Shiroya - U can refer to the screenshot which I have updated","body":"@Urvish Shiroya - U can refer to the screenshot which I have updated"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1673017401,"post_id":75031001,"comment_id":132409256,"body_markdown":"First of all consider throwing away the `SimpleDateFormat` and `Date` classes since they were always troublesome and a long outdated. You want to use `YearMonth` and potentially `DateTimeFormatter`, both from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/index.html).","body":"First of all consider throwing away the <code>SimpleDateFormat</code> and <code>Date</code> classes since they were always troublesome and a long outdated. You want to use <code>YearMonth</code> and potentially <code>DateTimeFormatter</code>, both from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1673017772,"post_id":75031001,"comment_id":132409361,"body_markdown":"After you have retrieved your strings, you get your `YearMonth` from `YearMonth gspYm = Year.parse(gspYr).atMonth(Integer.parseInt(gspMonth));`. After that you may compare it to current month using for example `gspYm.equals(YearMonth.now(ZoneId.systemDefault()))`.","body":"After you have retrieved your strings, you get your <code>YearMonth</code> from <code>YearMonth gspYm = Year.parse(gspYr).atMonth(Integer.parseInt(gspMonth));</code>. After that you may compare it to current month using for example <code>gspYm.equals(YearMonth.now(ZoneId.systemDefault()))</code>."},{"owner":{"account_id":8247829,"reputation":291,"user_id":6203399,"accept_rate":20,"display_name":"Abm"},"score":1,"creation_date":1673065035,"post_id":75031001,"comment_id":132419666,"body_markdown":"@Ole V.V.  - Thanks! works","body":"@Ole V.V.  - Thanks! works"}],"answers":[{"tags":[],"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1673025141,"creation_date":1673025141,"answer_id":75034037,"question_id":75031001,"body_markdown":"java.time\r\n--\r\nThe `java.util` date-time API and their formatting API, `SimpleDateFormat` were supplanted by the [modern date-time API](https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html) in Mar 2014. Since then, it is highly recommended to stop using the legacy date-time API.\r\n\r\n### Solution using `java.time`, the modern date-time API:\r\n\r\nThe `java.time` API provides you with [`Year`](https://docs.oracle.com/javase/8/docs/api/java/time/Year.html) that you can combine with a month using [`Year#atMonth`](https://docs.oracle.com/javase/8/docs/api/java/time/Year.html#atMonth-int-) to get a [`YearMonth`](https://docs.oracle.com/javase/8/docs/api/java/time/YearMonth.html). A `YearMonth` can be compared with another using its methods like [`YearMonth#isAfter`](https://docs.oracle.com/javase/8/docs/api/java/time/YearMonth.html#isAfter-java.time.YearMonth-), `YearMonth#isBefore` etc.\r\n\r\n**Demo**:\r\n\r\n    import java.time.Year;\r\n    import java.time.YearMonth;\r\n    \r\n    class Main {\r\n        public static void main(String[] args) {\r\n            // Sample year and month strings\r\n            String strYear = &quot;2022&quot;;\r\n            String strMonth = &quot;9&quot;;\r\n            YearMonth ym = Year.of(Integer.parseInt(strYear))\r\n                               .atMonth(Integer.parseInt(strMonth));\r\n            System.out.println(ym);\r\n    \r\n            // Comparing two instances of YearMonth\r\n            YearMonth currentYm = YearMonth.now();\r\n            if (ym.isAfter(currentYm))\r\n                System.out.println(ym + &quot; is after &quot; + currentYm);\r\n            else\r\n                System.out.println(ym + &quot; is before or equal to &quot; + currentYm);\r\n        }\r\n    }\r\n\r\n**Output**:\r\n\r\n    2022-09\r\n    2022-09 is before or equal to 2023-01\r\n\r\n[&lt;kbd&gt;ONLINE DEMO&lt;/kbd&gt;](https://ideone.com/eJyVjk)\r\n\r\nHow to implement it in your code?\r\n--\r\n\r\n    List&lt;YearMonth&gt; yearMonths = new ArrayList&lt;&gt;(gspApprovedMonth.size());\r\n    \r\n    // ...\r\n    \r\n    if(gspCu.moveToFirst()){\r\n        do {\r\n            String gspMonth = gspCu.getString(gspCu.getColumnIndex(Queryclass.GSP_APPROVED_MONTH));\r\n            String gspYr = gspCu.getString(gspCu.getColumnIndex(Queryclass.GSP_APPROVED_YEAR));\r\n    \r\n            yearMonths.add(Year.of(Integer.parseInt(gspYr))\r\n                               .atMonth(Integer.parseInt(gspMonth)));\r\n            // ...\r\n        } while (gspCu.moveToNext());\r\n    }\r\n    // ...\r\n\r\nLearn more about the modern Date-Time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.\r\n\r\n\r\n","title":"Android convert numbers into date format","body":"<h2>java.time</h2>\n<p>The <code>java.util</code> date-time API and their formatting API, <code>SimpleDateFormat</code> were supplanted by the <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html\" rel=\"nofollow noreferrer\">modern date-time API</a> in Mar 2014. Since then, it is highly recommended to stop using the legacy date-time API.</p>\n<h3>Solution using <code>java.time</code>, the modern date-time API:</h3>\n<p>The <code>java.time</code> API provides you with <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Year.html\" rel=\"nofollow noreferrer\"><code>Year</code></a> that you can combine with a month using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Year.html#atMonth-int-\" rel=\"nofollow noreferrer\"><code>Year#atMonth</code></a> to get a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/YearMonth.html\" rel=\"nofollow noreferrer\"><code>YearMonth</code></a>. A <code>YearMonth</code> can be compared with another using its methods like <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/YearMonth.html#isAfter-java.time.YearMonth-\" rel=\"nofollow noreferrer\"><code>YearMonth#isAfter</code></a>, <code>YearMonth#isBefore</code> etc.</p>\n<p><strong>Demo</strong>:</p>\n<pre><code>import java.time.Year;\nimport java.time.YearMonth;\n\nclass Main {\n    public static void main(String[] args) {\n        // Sample year and month strings\n        String strYear = &quot;2022&quot;;\n        String strMonth = &quot;9&quot;;\n        YearMonth ym = Year.of(Integer.parseInt(strYear))\n                           .atMonth(Integer.parseInt(strMonth));\n        System.out.println(ym);\n\n        // Comparing two instances of YearMonth\n        YearMonth currentYm = YearMonth.now();\n        if (ym.isAfter(currentYm))\n            System.out.println(ym + &quot; is after &quot; + currentYm);\n        else\n            System.out.println(ym + &quot; is before or equal to &quot; + currentYm);\n    }\n}\n</code></pre>\n<p><strong>Output</strong>:</p>\n<pre><code>2022-09\n2022-09 is before or equal to 2023-01\n</code></pre>\n<p><a href=\"https://ideone.com/eJyVjk\" rel=\"nofollow noreferrer\"><kbd>ONLINE DEMO</kbd></a></p>\n<h2>How to implement it in your code?</h2>\n<pre><code>List&lt;YearMonth&gt; yearMonths = new ArrayList&lt;&gt;(gspApprovedMonth.size());\n\n// ...\n\nif(gspCu.moveToFirst()){\n    do {\n        String gspMonth = gspCu.getString(gspCu.getColumnIndex(Queryclass.GSP_APPROVED_MONTH));\n        String gspYr = gspCu.getString(gspCu.getColumnIndex(Queryclass.GSP_APPROVED_YEAR));\n\n        yearMonths.add(Year.of(Integer.parseInt(gspYr))\n                           .atMonth(Integer.parseInt(gspMonth)));\n        // ...\n    } while (gspCu.moveToNext());\n}\n// ...\n</code></pre>\n<p>Learn more about the modern Date-Time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</p>\n"}],"owner":{"account_id":8247829,"reputation":291,"user_id":6203399,"accept_rate":20,"display_name":"Abm"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75034037,"answer_count":1,"score":1,"last_activity_date":1673025141,"creation_date":1673008404,"question_id":75031001,"body_markdown":"[![database][1]][1]I am storing month and year in my android database. I want to fetch it and convert it to date format so that I can match it with current month and year present in array. Im fetching it through ArrayList&lt;String&gt; but how to convert in date format and match?\r\n\r\n    private ArrayList&lt;String&gt; getGspApprovedMonthData() {\r\n        List&lt;Date&gt; dates = new ArrayList&lt;&gt;(gspApprovedMonth.size());\r\n        gspApprovedMonth.clear();\r\n        SqlDataStore sd = new SqlDataStore(this);\r\n        sd.open();\r\n        String gspQuery = &quot; SELECT * FROM &quot;+ TABLE_GSP_APPROVED_DATA;\r\n        Cursor gspCu = sd.getData(gspQuery);\r\n        if(gspCu.moveToFirst()){\r\n            do {\r\n                String gspMonth = gspCu.getString(gspCu.getColumnIndex(Queryclass.GSP_APPROVED_MONTH));\r\n                String gspYr = gspCu.getString(gspCu.getColumnIndex(Queryclass.GSP_APPROVED_YEAR));\r\n\r\n                gspApprovedMonth.add(gspMonth+gspYr);\r\n            } while (gspCu.moveToNext());\r\n        }\r\n        SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n        for (String dateString : gspApprovedMonth) {\r\n            try {\r\n                dates.add(sdf.parse(dateString));\r\n            } catch (ParseException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n        gspCu.close();\r\n        sd.close();\r\n        return gspApprovedMonth;\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/I8CHx.png","title":"Android convert numbers into date format","body":"<p><a href=\"https://i.stack.imgur.com/I8CHx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/I8CHx.png\" alt=\"database\" /></a>I am storing month and year in my android database. I want to fetch it and convert it to date format so that I can match it with current month and year present in array. Im fetching it through ArrayList but how to convert in date format and match?</p>\n<pre><code>private ArrayList&lt;String&gt; getGspApprovedMonthData() {\n    List&lt;Date&gt; dates = new ArrayList&lt;&gt;(gspApprovedMonth.size());\n    gspApprovedMonth.clear();\n    SqlDataStore sd = new SqlDataStore(this);\n    sd.open();\n    String gspQuery = &quot; SELECT * FROM &quot;+ TABLE_GSP_APPROVED_DATA;\n    Cursor gspCu = sd.getData(gspQuery);\n    if(gspCu.moveToFirst()){\n        do {\n            String gspMonth = gspCu.getString(gspCu.getColumnIndex(Queryclass.GSP_APPROVED_MONTH));\n            String gspYr = gspCu.getString(gspCu.getColumnIndex(Queryclass.GSP_APPROVED_YEAR));\n\n            gspApprovedMonth.add(gspMonth+gspYr);\n        } while (gspCu.moveToNext());\n    }\n    SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\n    for (String dateString : gspApprovedMonth) {\n        try {\n            dates.add(sdf.parse(dateString));\n        } catch (ParseException e) {\n            e.printStackTrace();\n        }\n    }\n    gspCu.close();\n    sd.close();\n    return gspApprovedMonth;\n}\n</code></pre>\n"},{"tags":["java","json","object","gson"],"comments":[{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1673025840,"post_id":75033978,"comment_id":132412149,"body_markdown":"You can parse any json into something generic such as a [`JsonObject`](https://www.javadoc.io/doc/com.google.code.gson/gson/2.8.5/com/google/gson/JsonObject.html) with e.g. `JsonObject convertedObject = new Gson().fromJson(json, JsonObject.class);` or if your model is static make Java classes that represent your json (can even be generated by tools like https://www.jsonschema2pojo.org/)","body":"You can parse any json into something generic such as a <a href=\"https://www.javadoc.io/doc/com.google.code.gson/gson/2.8.5/com/google/gson/JsonObject.html\" rel=\"nofollow noreferrer\"><code>JsonObject</code></a> with e.g. <code>JsonObject convertedObject = new Gson().fromJson(json, JsonObject.class);</code> or if your model is static make Java classes that represent your json (can even be generated by tools like <a href=\"https://www.jsonschema2pojo.org/\" rel=\"nofollow noreferrer\">jsonschema2pojo.org</a>)"}],"owner":{"account_id":22516755,"reputation":13,"user_id":16710861,"display_name":"Tech Info"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673024967,"creation_date":1673024741,"question_id":75033978,"body_markdown":"I want to get the value of description in Title(textview)\r\n\r\nHere is json :\r\n\r\n```json\r\n{\r\n  &quot;kind&quot;: &quot;youtube#videoListResponse&quot;,\r\n  &quot;etag&quot;: &quot;HCuE2tlv6pL-pkBXCa6_p5vmZGc&quot;,\r\n  &quot;items&quot;: [\r\n    {\r\n      &quot;kind&quot;: &quot;youtube#video&quot;,\r\n      &quot;etag&quot;: &quot;yDMBbFsSFuOYTDqCooA3YoiGb_0&quot;,\r\n      &quot;id&quot;: &quot;omHuhbtWIY0&quot;,\r\n      &quot;snippet&quot;: {\r\n        &quot;publishedAt&quot;: &quot;2022-03-11T12:40:37Z&quot;,\r\n        &quot;channelId&quot;: &quot;UCIjzLN8bj7Qv5daGJqj9rHA&quot;,\r\n        &quot;title&quot;: &quot;HTML creator master&quot;,\r\n        &quot;description&quot;: &quot;App Link - https://technical-studio-develop-7a3b1.web.app/\\n\\n00:00 Intro\\n00:08 Introducing to app\\n\\n\\n-----------------------------------------------\\nCopyright Disclaimer under Section 107 of the copyright act 1976, allowance is made for fair use for purposes such as criticism, comment, news reporting, scholarship, and research. Fair use is a use permitted by copyright statute that might otherwise be infringing. Non-profit, educational or personal use tips the balance in favour of fair use.&quot;,\r\n        &quot;thumbnails&quot;: {\r\n          &quot;default&quot;: {\r\n            &quot;url&quot;: &quot;https://i.ytimg.com/vi/omHuhbtWIY0/default.jpg&quot;,\r\n            &quot;width&quot;: 120,\r\n            &quot;height&quot;: 90\r\n          },\r\n          &quot;medium&quot;: {\r\n            &quot;url&quot;: &quot;https://i.ytimg.com/vi/omHuhbtWIY0/mqdefault.jpg&quot;,\r\n            &quot;width&quot;: 320,\r\n            &quot;height&quot;: 180\r\n          },\r\n          &quot;high&quot;: {\r\n            &quot;url&quot;: &quot;https://i.ytimg.com/vi/omHuhbtWIY0/hqdefault.jpg&quot;,\r\n            &quot;width&quot;: 480,\r\n            &quot;height&quot;: 360\r\n          },\r\n          &quot;standard&quot;: {\r\n            &quot;url&quot;: &quot;https://i.ytimg.com/vi/omHuhbtWIY0/sddefault.jpg&quot;,\r\n            &quot;width&quot;: 640,\r\n            &quot;height&quot;: 480\r\n          },\r\n          &quot;maxres&quot;: {\r\n            &quot;url&quot;: &quot;https://i.ytimg.com/vi/omHuhbtWIY0/maxresdefault.jpg&quot;,\r\n            &quot;width&quot;: 1280,\r\n            &quot;height&quot;: 720\r\n          }\r\n        },\r\n        &quot;channelTitle&quot;: &quot;Dream Programmers&quot;,\r\n        &quot;categoryId&quot;: &quot;22&quot;,\r\n        &quot;liveBroadcastContent&quot;: &quot;none&quot;,\r\n        &quot;localized&quot;: {\r\n          &quot;title&quot;: &quot;HTML creator master&quot;,\r\n          &quot;description&quot;: &quot;App Link - https://technical-studio-develop-7a3b1.web.app/\\n\\n00:00 Intro\\n00:08 Introducing to app\\n\\n\\n-----------------------------------------------\\nCopyright Disclaimer under Section 107 of the copyright act 1976, allowance is made for fair use for purposes such as criticism, comment, news reporting, scholarship, and research. Fair use is a use permitted by copyright statute that might otherwise be infringing. Non-profit, educational or personal use tips the balance in favour of fair use.&quot;\r\n        }\r\n      }\r\n    }\r\n  ],\r\n  &quot;pageInfo&quot;: {\r\n    &quot;totalResults&quot;: 1,\r\n    &quot;resultsPerPage&quot;: 1\r\n  }\r\n}\r\n```\r\n\r\nMy Java code:\r\n\r\n```\r\n_youtube_data_request_listener = new RequestNetwork.RequestListener() {\r\n\t\t\t@Override\r\n\t\t\tpublic void onResponse(String _param1, String _param2, HashMap&lt;String, Object&gt; _param3) {\r\n\t\t\t\tfinal String _tag = _param1;\r\n\t\t\t\tfinal String _response = _param2;\r\n\t\t\t\tfinal HashMap&lt;String, Object&gt; _responseHeaders = _param3;\r\n\r\n\t\t\t\t/*\r\n = new Gson().fromJson(&quot;&quot;, new TypeToken&lt;ArrayList&lt;String&gt;&gt;(){}.getType());\r\n*/\r\n\t\t\t\t_processdialog(false, &quot;&quot;);\r\n\t\t\t\tytData = new HashMap&lt;&gt;();\r\n\t\t\t\tytData = new Gson().fromJson(_response, new TypeToken&lt;HashMap&lt;String, Object&gt;&gt;(){}.getType());\r\n\t\t\t\ttitle.setText(ytData.get(&quot;items&quot;)[].snippet.title);\r\n\t\t\t\tytData.clear();\r\n\t\t\t}\r\n\r\n    \t\t@Override\r\n\t\t\tpublic void onErrorResponse(String _param1, String _param2) {\r\n\t\t\t\tfinal String _tag = _param1;\r\n\t\t\t\tfinal String _message = _param2;\r\n\t\t\t}\r\n\t\t};\r\n```\r\n\r\nI want to get the value in title and set it in title textview.","title":"How do I get value in object&gt;arrey&gt;object&gt;title","body":"<p>I want to get the value of description in Title(textview)</p>\n<p>Here is json :</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;kind&quot;: &quot;youtube#videoListResponse&quot;,\n  &quot;etag&quot;: &quot;HCuE2tlv6pL-pkBXCa6_p5vmZGc&quot;,\n  &quot;items&quot;: [\n    {\n      &quot;kind&quot;: &quot;youtube#video&quot;,\n      &quot;etag&quot;: &quot;yDMBbFsSFuOYTDqCooA3YoiGb_0&quot;,\n      &quot;id&quot;: &quot;omHuhbtWIY0&quot;,\n      &quot;snippet&quot;: {\n        &quot;publishedAt&quot;: &quot;2022-03-11T12:40:37Z&quot;,\n        &quot;channelId&quot;: &quot;UCIjzLN8bj7Qv5daGJqj9rHA&quot;,\n        &quot;title&quot;: &quot;HTML creator master&quot;,\n        &quot;description&quot;: &quot;App Link - https://technical-studio-develop-7a3b1.web.app/\\n\\n00:00 Intro\\n00:08 Introducing to app\\n\\n\\n-----------------------------------------------\\nCopyright Disclaimer under Section 107 of the copyright act 1976, allowance is made for fair use for purposes such as criticism, comment, news reporting, scholarship, and research. Fair use is a use permitted by copyright statute that might otherwise be infringing. Non-profit, educational or personal use tips the balance in favour of fair use.&quot;,\n        &quot;thumbnails&quot;: {\n          &quot;default&quot;: {\n            &quot;url&quot;: &quot;https://i.ytimg.com/vi/omHuhbtWIY0/default.jpg&quot;,\n            &quot;width&quot;: 120,\n            &quot;height&quot;: 90\n          },\n          &quot;medium&quot;: {\n            &quot;url&quot;: &quot;https://i.ytimg.com/vi/omHuhbtWIY0/mqdefault.jpg&quot;,\n            &quot;width&quot;: 320,\n            &quot;height&quot;: 180\n          },\n          &quot;high&quot;: {\n            &quot;url&quot;: &quot;https://i.ytimg.com/vi/omHuhbtWIY0/hqdefault.jpg&quot;,\n            &quot;width&quot;: 480,\n            &quot;height&quot;: 360\n          },\n          &quot;standard&quot;: {\n            &quot;url&quot;: &quot;https://i.ytimg.com/vi/omHuhbtWIY0/sddefault.jpg&quot;,\n            &quot;width&quot;: 640,\n            &quot;height&quot;: 480\n          },\n          &quot;maxres&quot;: {\n            &quot;url&quot;: &quot;https://i.ytimg.com/vi/omHuhbtWIY0/maxresdefault.jpg&quot;,\n            &quot;width&quot;: 1280,\n            &quot;height&quot;: 720\n          }\n        },\n        &quot;channelTitle&quot;: &quot;Dream Programmers&quot;,\n        &quot;categoryId&quot;: &quot;22&quot;,\n        &quot;liveBroadcastContent&quot;: &quot;none&quot;,\n        &quot;localized&quot;: {\n          &quot;title&quot;: &quot;HTML creator master&quot;,\n          &quot;description&quot;: &quot;App Link - https://technical-studio-develop-7a3b1.web.app/\\n\\n00:00 Intro\\n00:08 Introducing to app\\n\\n\\n-----------------------------------------------\\nCopyright Disclaimer under Section 107 of the copyright act 1976, allowance is made for fair use for purposes such as criticism, comment, news reporting, scholarship, and research. Fair use is a use permitted by copyright statute that might otherwise be infringing. Non-profit, educational or personal use tips the balance in favour of fair use.&quot;\n        }\n      }\n    }\n  ],\n  &quot;pageInfo&quot;: {\n    &quot;totalResults&quot;: 1,\n    &quot;resultsPerPage&quot;: 1\n  }\n}\n</code></pre>\n<p>My Java code:</p>\n<pre><code>_youtube_data_request_listener = new RequestNetwork.RequestListener() {\n            @Override\n            public void onResponse(String _param1, String _param2, HashMap&lt;String, Object&gt; _param3) {\n                final String _tag = _param1;\n                final String _response = _param2;\n                final HashMap&lt;String, Object&gt; _responseHeaders = _param3;\n\n                /*\n = new Gson().fromJson(&quot;&quot;, new TypeToken&lt;ArrayList&lt;String&gt;&gt;(){}.getType());\n*/\n                _processdialog(false, &quot;&quot;);\n                ytData = new HashMap&lt;&gt;();\n                ytData = new Gson().fromJson(_response, new TypeToken&lt;HashMap&lt;String, Object&gt;&gt;(){}.getType());\n                title.setText(ytData.get(&quot;items&quot;)[].snippet.title);\n                ytData.clear();\n            }\n\n            @Override\n            public void onErrorResponse(String _param1, String _param2) {\n                final String _tag = _param1;\n                final String _message = _param2;\n            }\n        };\n</code></pre>\n<p>I want to get the value in title and set it in title textview.</p>\n"},{"tags":["java","android","kotlin","android-intent","android-jetpack-compose"],"comments":[{"owner":{"account_id":1849514,"reputation":193878,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"score":0,"creation_date":1672969782,"post_id":75025837,"comment_id":132398601,"body_markdown":"If you override `onNewIntent` manually and add a log message, does that method actually get called at all?","body":"If you override <code>onNewIntent</code> manually and add a log message, does that method actually get called at all?"},{"owner":{"account_id":953524,"reputation":562,"user_id":979231,"accept_rate":67,"display_name":"HLB"},"score":0,"creation_date":1673012883,"post_id":75025837,"comment_id":132407685,"body_markdown":"No it does not.","body":"No it does not."},{"owner":{"account_id":1849514,"reputation":193878,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"score":0,"creation_date":1673019116,"post_id":75025837,"comment_id":132409819,"body_markdown":"Then you&#39;ll need to compare the entries in your `AndroidManifest.xml` - do you see any difference in how the activity is defined there?","body":"Then you&#39;ll need to compare the entries in your <code>AndroidManifest.xml</code> - do you see any difference in how the activity is defined there?"}],"answers":[{"tags":[],"owner":{"account_id":953524,"reputation":562,"user_id":979231,"accept_rate":67,"display_name":"HLB"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673024908,"creation_date":1673024908,"answer_id":75034002,"question_id":75025837,"body_markdown":"It seems it might be trying to setup the callback too early before context is available. This now works after wraping it in `peekAvailableContext()`\r\n\r\n```kotlin\r\n  DisposableEffect(key1 = result.value) {\r\n            peekAvailableContext().let {\r\n               Log.i(&quot;MainActivity&quot;,&quot;Setting up intent...&quot;)\r\n               val listener = Consumer&lt;Intent&gt;{\r\n                  Log.i(&quot;MainActivity&quot;,&quot;Receiving intent...&quot;)\r\n                  val decodedData = it?.getStringExtra(&quot;com.symbol.datawedge.data_string&quot;)\r\n                  if (decodedData!= null){\r\n                     viewModel.addBarcode(decodedData)\r\n                  }\r\n               }\r\n               addOnNewIntentListener(listener)\r\n               onDispose {\r\n                  Log.i(&quot;MainActivity&quot;,&quot;Removing intents...&quot;)\r\n                  removeOnNewIntentListener(listener)\r\n               }\r\n            }\r\n         }\r\n```","title":"How to use a broadcasted Intent with Jetpack&#39;s Compose ComponentActivity with addOnNewIntentListener callback","body":"<p>It seems it might be trying to setup the callback too early before context is available. This now works after wraping it in <code>peekAvailableContext()</code></p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>  DisposableEffect(key1 = result.value) {\n            peekAvailableContext().let {\n               Log.i(&quot;MainActivity&quot;,&quot;Setting up intent...&quot;)\n               val listener = Consumer&lt;Intent&gt;{\n                  Log.i(&quot;MainActivity&quot;,&quot;Receiving intent...&quot;)\n                  val decodedData = it?.getStringExtra(&quot;com.symbol.datawedge.data_string&quot;)\n                  if (decodedData!= null){\n                     viewModel.addBarcode(decodedData)\n                  }\n               }\n               addOnNewIntentListener(listener)\n               onDispose {\n                  Log.i(&quot;MainActivity&quot;,&quot;Removing intents...&quot;)\n                  removeOnNewIntentListener(listener)\n               }\n            }\n         }\n</code></pre>\n"}],"owner":{"account_id":953524,"reputation":562,"user_id":979231,"accept_rate":67,"display_name":"HLB"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":539,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673024908,"creation_date":1672965483,"question_id":75025837,"body_markdown":"I am rewriting an app in Kotlin and Jetpack Compose from a React Native app I previously built and I can&#39;t seem to pick up an `Intent` being broadcasted from another application handling barcode scanning hardware. I&#39;m using the same [AndroidManifest.xml][1] that is filtering these same intents. This was working in the other app I built but I&#39;m now using  a newer SDK and library. The only main difference I see is that this is using `ComponentActivity` and the old app was using [AppCompatActivity (example here)][2]\r\n\r\nI added a some logging to see if its being called at all and I see &quot;Setting up intent..&quot; being called but the callback I add using `addOnNewIntentListener` doesn&#39;t seem to be called. \r\n\r\nIs there something I am missing or needs to be called elsewhere due to LifeCycle activity?\r\n\r\n```kotlin\r\npackage com.android.composefolderscanner\r\n import android.annotation.SuppressLint\r\n import android.content.Intent\r\n import android.os.Bundle\r\n import android.util.Log\r\n import androidx.activity.ComponentActivity\r\n import androidx.activity.compose.setContent\r\n import androidx.activity.viewModels\r\n import androidx.compose.runtime.DisposableEffect\r\n import androidx.compose.runtime.LaunchedEffect\r\n import androidx.compose.runtime.mutableStateOf\r\n import androidx.compose.runtime.remember\r\n import androidx.core.util.Consumer\r\n import com.android.composefolderscanner.services.*\r\n import com.android.composefolderscanner.ui.FolderApp\r\n import com.android.composefolderscanner.ui.screens.ScanViewModel\r\n import com.android.composefolderscanner.ui.theme.IgniteFolderScannerTheme\r\n import dagger.hilt.android.AndroidEntryPoint\r\n import javax.inject.Inject\r\n\r\n@AndroidEntryPoint\r\nclass MainActivity : ComponentActivity() {\r\n\r\n\r\n   private val viewModel: ScanViewModel by viewModels()\r\n   \r\n\r\n   @SuppressLint(&quot;MissingPermission&quot;, &quot;UnusedMaterialScaffoldPaddingParameter&quot;)\r\n   override fun onCreate(savedInstanceState: Bundle?) {\r\n      super.onCreate(savedInstanceState)\r\n      // setContent \r\n      setContent {\r\n         val resultV = remember { mutableStateOf&lt;Int?&gt;(101) }\r\n         // Use a disposable effect\r\n         DisposableEffect(key1 = resultV.value) {\r\n            Log.i(&quot;MainActivity&quot;,&quot;Setting up intent...&quot;)\r\n            val listener = Consumer&lt;Intent&gt;{\r\n               Log.i(&quot;MainActivity&quot;,&quot;Receiving intent...&quot;)\r\n               val decodedData = it?.getStringExtra(&quot;com.symbol.datawedge.data_string&quot;)\r\n               if (decodedData!= null){\r\n                  viewModel.addBarcode(decodedData)\r\n               }\r\n            }\r\n            // Hook callback\r\n            addOnNewIntentListener(listener)\r\n            onDispose {\r\n               Log.i(&quot;MainActivity&quot;,&quot;Removing intents...&quot;)\r\n               removeOnNewIntentListener(listener) }\r\n            }\r\n \r\n\r\n         IgniteFolderScannerTheme(useDarkTheme = true, content = {\r\n            FolderApp( )\r\n         })\r\n      }\r\n   }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://github.com/darryncampbell/DataWedge-GettingStarted-Samples/blob/master/Kotlin/app/src/main/AndroidManifest.xml\r\n  [2]: https://github.com/darryncampbell/DataWedge-GettingStarted-Samples/blob/master/Kotlin/app/src/main/java/com/darryncampbell/dwgettingstartedkotlin/MainActivity.kt","title":"How to use a broadcasted Intent with Jetpack&#39;s Compose ComponentActivity with addOnNewIntentListener callback","body":"<p>I am rewriting an app in Kotlin and Jetpack Compose from a React Native app I previously built and I can't seem to pick up an <code>Intent</code> being broadcasted from another application handling barcode scanning hardware. I'm using the same <a href=\"https://github.com/darryncampbell/DataWedge-GettingStarted-Samples/blob/master/Kotlin/app/src/main/AndroidManifest.xml\" rel=\"nofollow noreferrer\">AndroidManifest.xml</a> that is filtering these same intents. This was working in the other app I built but I'm now using  a newer SDK and library. The only main difference I see is that this is using <code>ComponentActivity</code> and the old app was using <a href=\"https://github.com/darryncampbell/DataWedge-GettingStarted-Samples/blob/master/Kotlin/app/src/main/java/com/darryncampbell/dwgettingstartedkotlin/MainActivity.kt\" rel=\"nofollow noreferrer\">AppCompatActivity (example here)</a></p>\n<p>I added a some logging to see if its being called at all and I see &quot;Setting up intent..&quot; being called but the callback I add using <code>addOnNewIntentListener</code> doesn't seem to be called.</p>\n<p>Is there something I am missing or needs to be called elsewhere due to LifeCycle activity?</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>package com.android.composefolderscanner\n import android.annotation.SuppressLint\n import android.content.Intent\n import android.os.Bundle\n import android.util.Log\n import androidx.activity.ComponentActivity\n import androidx.activity.compose.setContent\n import androidx.activity.viewModels\n import androidx.compose.runtime.DisposableEffect\n import androidx.compose.runtime.LaunchedEffect\n import androidx.compose.runtime.mutableStateOf\n import androidx.compose.runtime.remember\n import androidx.core.util.Consumer\n import com.android.composefolderscanner.services.*\n import com.android.composefolderscanner.ui.FolderApp\n import com.android.composefolderscanner.ui.screens.ScanViewModel\n import com.android.composefolderscanner.ui.theme.IgniteFolderScannerTheme\n import dagger.hilt.android.AndroidEntryPoint\n import javax.inject.Inject\n\n@AndroidEntryPoint\nclass MainActivity : ComponentActivity() {\n\n\n   private val viewModel: ScanViewModel by viewModels()\n   \n\n   @SuppressLint(&quot;MissingPermission&quot;, &quot;UnusedMaterialScaffoldPaddingParameter&quot;)\n   override fun onCreate(savedInstanceState: Bundle?) {\n      super.onCreate(savedInstanceState)\n      // setContent \n      setContent {\n         val resultV = remember { mutableStateOf&lt;Int?&gt;(101) }\n         // Use a disposable effect\n         DisposableEffect(key1 = resultV.value) {\n            Log.i(&quot;MainActivity&quot;,&quot;Setting up intent...&quot;)\n            val listener = Consumer&lt;Intent&gt;{\n               Log.i(&quot;MainActivity&quot;,&quot;Receiving intent...&quot;)\n               val decodedData = it?.getStringExtra(&quot;com.symbol.datawedge.data_string&quot;)\n               if (decodedData!= null){\n                  viewModel.addBarcode(decodedData)\n               }\n            }\n            // Hook callback\n            addOnNewIntentListener(listener)\n            onDispose {\n               Log.i(&quot;MainActivity&quot;,&quot;Removing intents...&quot;)\n               removeOnNewIntentListener(listener) }\n            }\n \n\n         IgniteFolderScannerTheme(useDarkTheme = true, content = {\n            FolderApp( )\n         })\n      }\n   }\n}\n</code></pre>\n"},{"tags":["java","c#","libreoffice","libreoffice-calc","uno"],"answers":[{"comments":[{"owner":{"account_id":16664646,"reputation":3,"user_id":12043697,"display_name":"Yiannis"},"score":0,"creation_date":1673102277,"post_id":75033987,"comment_id":132424578,"body_markdown":"Thank you Jim. I was able to proceed due to your answer","body":"Thank you Jim. I was able to proceed due to your answer"}],"tags":[],"owner":{"account_id":6602823,"reputation":13044,"user_id":5100564,"accept_rate":100,"display_name":"Jim K"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673024803,"creation_date":1673024803,"answer_id":75033987,"question_id":75021727,"body_markdown":"Get the list of items from the row field. Here is a Basic example that checks even-numbered boxes.\r\n\r\n&lt;!-- language: vba --&gt;\r\n\r\n\toRowItem = oDPTable.getRowFields().getByIndex(0)\r\n\toItems = oRowItem.getItems()\r\n\tFor i = 0 To oItems.getCount() - 1\r\n\t    oItem = oItems.getByIndex(i)\r\n\t    If (i Mod 2 = 0) Then\r\n\t    \toItem.setPropertyValue(&quot;IsHidden&quot;, False)\r\n\t    Else\r\n\t    \toItem.setPropertyValue(&quot;IsHidden&quot;, True)\r\n\t    End If\r\n\tNext\r\n\r\nIf you haven&#39;t yet, be sure to use an introspection tool such as [MRI][1].\r\n\r\n  [1]: https://extensions.libreoffice.org/en/extensions/show/mri-uno-object-inspection-tool","title":"Programmatically check/uncheck values of a DataPilot row field with the uno library","body":"<p>Get the list of items from the row field. Here is a Basic example that checks even-numbered boxes.</p>\n<pre class=\"lang-vb prettyprint-override\"><code>oRowItem = oDPTable.getRowFields().getByIndex(0)\noItems = oRowItem.getItems()\nFor i = 0 To oItems.getCount() - 1\n    oItem = oItems.getByIndex(i)\n    If (i Mod 2 = 0) Then\n        oItem.setPropertyValue(&quot;IsHidden&quot;, False)\n    Else\n        oItem.setPropertyValue(&quot;IsHidden&quot;, True)\n    End If\nNext\n</code></pre>\n<p>If you haven't yet, be sure to use an introspection tool such as <a href=\"https://extensions.libreoffice.org/en/extensions/show/mri-uno-object-inspection-tool\" rel=\"nofollow noreferrer\">MRI</a>.</p>\n"}],"owner":{"account_id":16664646,"reputation":3,"user_id":12043697,"display_name":"Yiannis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75033987,"answer_count":1,"score":0,"last_activity_date":1673024803,"creation_date":1672937032,"question_id":75021727,"body_markdown":"I want to be able to programmatically filter a Calc DataPilot (pivot table) with C# or Java. \r\n\r\nAt the moment, I am able to do the below: \r\n1. go to the sheet that contains the DataPilot \r\n2. get a reference to the DataPilot \r\n3. Read its rowfields \r\n4. Get a reference to the rowfield of interest \r\n\r\n**Pending:** \r\n1. By default, all values under the row field are checked. From that list, I want to be uncheck all of them and keep only specific. \r\n\r\nIs this doable programmatically? If yes, what is the missing code to achieve this? \r\n\r\n**Current code**\r\n``` // get all sheets in my Calc document \r\nXSpreadsheetDocument xSpreadsheetDocument = (XSpreadsheetDocument)document; \r\nXSpreadsheets xSpreadsheets = xSpreadsheetDocument.getSheets(); \r\n\r\n//mSheetName is the name of the sheet that has the DataPilot I want to filter \r\n// get reference to the sheet that has my DataPilot \r\nXSpreadsheet sheet = (XSpreadsheet)xSpreadsheets.getByName(mSheetName).Value; \r\n\r\n//Get a reference to the DataPilot that I want to uncheck/check its row field values \r\nXDataPilotTablesSupplier xSupplier = (XDataPilotTablesSupplier)sheet; \r\nXDataPilotTables xSheetPilotTables = xSupplier.getDataPilotTables(); \r\n\r\n//mPivotTableName is the name of the DataPilot \r\nuno.Any xDPTableObj = xSheetPilotTables.getByName(mPivotTableName); \r\nXDataPilotTable xPilotTable = (XDataPilotTable)xDPTableObj.Value; \r\nXDataPilotDescriptor xDPDesc = (XDataPilotDescriptor)xPilotTable; \r\n\r\n// get available row fields\r\nXNameAccess rowFields = (XNameAccess)xDPDesc.getRowFields(); \r\n\r\n//get the row field of interest \r\n//mFieldName is the name of the row field \r\nuno.Any xRowItemObj = rowFields.getByName(mFieldName); \r\n``` \r\n\r\nExample: if we assume the xRowItemObj has 2 checked values (e.g. 1 and 2) how do I keep value 1 checked only?\r\n\r\nSo far, any research in forums and libreOffice Documentation did not return a result. I am not even sure if it is doable","title":"Programmatically check/uncheck values of a DataPilot row field with the uno library","body":"<p>I want to be able to programmatically filter a Calc DataPilot (pivot table) with C# or Java.</p>\n<p>At the moment, I am able to do the below:</p>\n<ol>\n<li>go to the sheet that contains the DataPilot</li>\n<li>get a reference to the DataPilot</li>\n<li>Read its rowfields</li>\n<li>Get a reference to the rowfield of interest</li>\n</ol>\n<p><strong>Pending:</strong></p>\n<ol>\n<li>By default, all values under the row field are checked. From that list, I want to be uncheck all of them and keep only specific.</li>\n</ol>\n<p>Is this doable programmatically? If yes, what is the missing code to achieve this?</p>\n<p><strong>Current code</strong></p>\n<pre><code>XSpreadsheetDocument xSpreadsheetDocument = (XSpreadsheetDocument)document; \nXSpreadsheets xSpreadsheets = xSpreadsheetDocument.getSheets(); \n\n//mSheetName is the name of the sheet that has the DataPilot I want to filter \n// get reference to the sheet that has my DataPilot \nXSpreadsheet sheet = (XSpreadsheet)xSpreadsheets.getByName(mSheetName).Value; \n\n//Get a reference to the DataPilot that I want to uncheck/check its row field values \nXDataPilotTablesSupplier xSupplier = (XDataPilotTablesSupplier)sheet; \nXDataPilotTables xSheetPilotTables = xSupplier.getDataPilotTables(); \n\n//mPivotTableName is the name of the DataPilot \nuno.Any xDPTableObj = xSheetPilotTables.getByName(mPivotTableName); \nXDataPilotTable xPilotTable = (XDataPilotTable)xDPTableObj.Value; \nXDataPilotDescriptor xDPDesc = (XDataPilotDescriptor)xPilotTable; \n\n// get available row fields\nXNameAccess rowFields = (XNameAccess)xDPDesc.getRowFields(); \n\n//get the row field of interest \n//mFieldName is the name of the row field \nuno.Any xRowItemObj = rowFields.getByName(mFieldName); \n</code></pre>\n<p>Example: if we assume the xRowItemObj has 2 checked values (e.g. 1 and 2) how do I keep value 1 checked only?</p>\n<p>So far, any research in forums and libreOffice Documentation did not return a result. I am not even sure if it is doable</p>\n"},{"tags":["java","maven","intellij-idea"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1519132624,"post_id":48886194,"comment_id":84777038,"body_markdown":"have you checked your settings.xml file?","body":"have you checked your settings.xml file?"},{"owner":{"account_id":3519928,"reputation":692,"user_id":2942487,"accept_rate":70,"display_name":"Mikhail Krutov"},"score":1,"creation_date":1519132989,"post_id":48886194,"comment_id":84777311,"body_markdown":"I didn&#39;t change anything there, and just removed ~/.m2 repo to be re-downloaded by mvn while building by-hand, so it should be all default. Looking into it now. Upd: yes, settings.xml just doesnt exist in ~/.m2 so all should be maven&#39;s defaults. Its not set to be overriden in IDEA as well.","body":"I didn&#39;t change anything there, and just removed ~/.m2 repo to be re-downloaded by mvn while building by-hand, so it should be all default. Looking into it now. Upd: yes, settings.xml just doesnt exist in ~/.m2 so all should be maven&#39;s defaults. Its not set to be overriden in IDEA as well."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1519134951,"post_id":48886194,"comment_id":84778546,"body_markdown":"The apache repo and sonatype snapshots are not used by default only Maven Central...nothing else if you don&#39;t have a settings.xml file...","body":"The apache repo and sonatype snapshots are not used by default only Maven Central...nothing else if you don&#39;t have a settings.xml file..."},{"owner":{"account_id":3519928,"reputation":692,"user_id":2942487,"accept_rate":70,"display_name":"Mikhail Krutov"},"score":0,"creation_date":1519137205,"post_id":48886194,"comment_id":84780035,"body_markdown":"repositories are declared in my `pom.xml` instead, not in settings.xml","body":"repositories are declared in my <code>pom.xml</code> instead, not in settings.xml"},{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1519154398,"post_id":48886194,"comment_id":84790889,"body_markdown":"@MikhailKrutov Does your project build from the command line Maven? See also http://stackoverflow.com/a/42427510/104891.","body":"@MikhailKrutov Does your project build from the command line Maven? See also <a href=\"http://stackoverflow.com/a/42427510/104891\">stackoverflow.com/a/42427510/104891</a>."},{"owner":{"account_id":2339925,"reputation":15581,"user_id":2051454,"accept_rate":60,"display_name":"Software Engineer"},"score":1,"creation_date":1615500644,"post_id":48886194,"comment_id":117717746,"body_markdown":"Are you behind a proxy...?","body":"Are you behind a proxy...?"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1615518336,"post_id":48886194,"comment_id":117721608,"body_markdown":"Have you tried quitting IntelliJ and rebooting the computer? Have you tried [clearing caches](https://www.jetbrains.com/help/idea/invalidate-caches.html) and restarting? What version of IntelliJ are you using? Have you tried updating to a later version of IntelliJ? For some other oddball things to try, see [this similar Question](https://stackoverflow.com/q/45365878/642706).","body":"Have you tried quitting IntelliJ and rebooting the computer? Have you tried <a href=\"https://www.jetbrains.com/help/idea/invalidate-caches.html\" rel=\"nofollow noreferrer\">clearing caches</a> and restarting? What version of IntelliJ are you using? Have you tried updating to a later version of IntelliJ? For some other oddball things to try, see <a href=\"https://stackoverflow.com/q/45365878/642706\">this similar Question</a>."}],"answers":[{"tags":[],"owner":{"account_id":12206338,"reputation":51,"user_id":8909336,"display_name":"bartoni"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1626791817,"creation_date":1626790821,"answer_id":68456533,"question_id":48886194,"body_markdown":"First, if you work in a big company/corporation, there&#39;s a good chance you&#39;re using a proxy, be sure to ask your coworkers about configuring your connection. Also, there is probably some Artifactory/Nexus repository in use, which also needs to be configured to allow dependencies to be downloaded. All of this information should be included in the `settings.xml` file, which should be in the Maven settings (or other build tool, but I only used Maven).\r\n\r\nThe other thing is that there are problems with the Maven bundled into Intellij. I tried configuring it in many ways inside the IDE, but unfortunately nothing helped, even though the `settings.xml` file was in the `.m2` folder.\r\n\r\nI installed a standalone Maven where I put the `settings.xml` file in the `/conf` folder. Then just point to the Maven location inside the IDE, preferably delete the contents of the `.m2` folder (this will remove both the local settings and the downloaded dependencies) and everything should work fine.\r\n\r\nAlso remember about VPN connection - sometimes downloading artifacts from repositories is only possible through it.","title":"IntelliJ idea can&#39;t update any maven repositories","body":"<p>First, if you work in a big company/corporation, there's a good chance you're using a proxy, be sure to ask your coworkers about configuring your connection. Also, there is probably some Artifactory/Nexus repository in use, which also needs to be configured to allow dependencies to be downloaded. All of this information should be included in the <code>settings.xml</code> file, which should be in the Maven settings (or other build tool, but I only used Maven).</p>\n<p>The other thing is that there are problems with the Maven bundled into Intellij. I tried configuring it in many ways inside the IDE, but unfortunately nothing helped, even though the <code>settings.xml</code> file was in the <code>.m2</code> folder.</p>\n<p>I installed a standalone Maven where I put the <code>settings.xml</code> file in the <code>/conf</code> folder. Then just point to the Maven location inside the IDE, preferably delete the contents of the <code>.m2</code> folder (this will remove both the local settings and the downloaded dependencies) and everything should work fine.</p>\n<p>Also remember about VPN connection - sometimes downloading artifacts from repositories is only possible through it.</p>\n"},{"tags":[],"owner":{"account_id":73486,"reputation":10443,"user_id":211614,"accept_rate":50,"display_name":"Michael Peterson"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673024600,"creation_date":1673024600,"answer_id":75033947,"question_id":48886194,"body_markdown":"I have run into this many times also and the only solution that has worked is to restart IntelliJ which has worked every time.","title":"IntelliJ idea can&#39;t update any maven repositories","body":"<p>I have run into this many times also and the only solution that has worked is to restart IntelliJ which has worked every time.</p>\n"}],"owner":{"account_id":3519928,"reputation":692,"user_id":2942487,"accept_rate":70,"display_name":"Mikhail Krutov"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16809,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":75033947,"answer_count":2,"score":16,"last_activity_date":1673024600,"creation_date":1519132580,"question_id":48886194,"body_markdown":"Problem:\r\n\r\nI have a maven project that builds &amp; compiles fine using maven tool from command-line.\r\n\r\nThen I have IntelliJ IDEA that refuses to build said project, claiming that some of dependencies are not available.\r\n\r\nI&#39;ve found out that the root of the problem is in fact that IntelliJ can&#39;t connect to maven repositories which contain said dependencies. Of repositories, there are 3:\r\n\r\n1) apache&#39;s maven repo (https://repo.maven.apache.org/maven2)\r\n\r\n2) sonatype&#39;s oss repo (https://oss.sonatype.org/content/repositories/snapshots)\r\n\r\n3) company&#39;s internal repo (url omitted)\r\n\r\nAll three are available, accessible through browser for viewing, and dependencies from them are fetched using maven command line interface.\r\n\r\nBut, IntelliJ just says &quot;.. can&#39;t reconnect&quot; and shows errors about updating said repos. I&#39;ve tried to use different maven options (my local installation, 3.5.2; intellij&#39;s bundled maven2 and maven3), to no avail yet. \r\n\r\nAny idea why that could happened?","title":"IntelliJ idea can&#39;t update any maven repositories","body":"<p>Problem:</p>\n<p>I have a maven project that builds &amp; compiles fine using maven tool from command-line.</p>\n<p>Then I have IntelliJ IDEA that refuses to build said project, claiming that some of dependencies are not available.</p>\n<p>I've found out that the root of the problem is in fact that IntelliJ can't connect to maven repositories which contain said dependencies. Of repositories, there are 3:</p>\n<ol>\n<li><p>apache's maven repo (<a href=\"https://repo.maven.apache.org/maven2\" rel=\"noreferrer\">https://repo.maven.apache.org/maven2</a>)</p>\n</li>\n<li><p>sonatype's oss repo (<a href=\"https://oss.sonatype.org/content/repositories/snapshots\" rel=\"noreferrer\">https://oss.sonatype.org/content/repositories/snapshots</a>)</p>\n</li>\n<li><p>company's internal repo (url omitted)</p>\n</li>\n</ol>\n<p>All three are available, accessible through browser for viewing, and dependencies from them are fetched using maven command line interface.</p>\n<p>But, IntelliJ just says &quot;.. can't reconnect&quot; and shows errors about updating said repos. I've tried to use different maven options (my local installation, 3.5.2; intellij's bundled maven2 and maven3), to no avail yet.</p>\n<p>Any idea why that could happened?</p>\n"},{"tags":["java","json","spring-boot","pojo"],"comments":[{"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"score":0,"creation_date":1673024113,"post_id":75033295,"comment_id":132411611,"body_markdown":"So the code you have written is not working properly?","body":"So the code you have written is not working properly?"},{"owner":{"account_id":26662139,"reputation":45,"user_id":20274796,"display_name":"rsharma"},"score":0,"creation_date":1673170758,"post_id":75033295,"comment_id":132434407,"body_markdown":"No, this is not what i am expecting.","body":"No, this is not what i am expecting."}],"answers":[{"comments":[{"owner":{"account_id":26662139,"reputation":45,"user_id":20274796,"display_name":"rsharma"},"score":0,"creation_date":1673170976,"post_id":75033882,"comment_id":132434451,"body_markdown":"No, that 7 rows is not always same. Data can be different for different client.","body":"No, that 7 rows is not always same. Data can be different for different client."}],"tags":[],"owner":{"account_id":18559672,"reputation":300,"user_id":13523946,"display_name":"notAPPP"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673024190,"creation_date":1673024190,"answer_id":75033882,"question_id":75033295,"body_markdown":"You can check with: \r\nhttps://json2csharp.com/code-converters/json-to-pojo to map using ObjectMapper\r\n\r\nif your 7 rows will be always the same or just create ReportResponse with List of single entry (pojo) and map to obj e.g. ReportEntry (name, href) then just return this list as response","title":"How to convert JSON Object to JSON Array and map it to custom POJO?","body":"<p>You can check with:\n<a href=\"https://json2csharp.com/code-converters/json-to-pojo\" rel=\"nofollow noreferrer\">https://json2csharp.com/code-converters/json-to-pojo</a> to map using ObjectMapper</p>\n<p>if your 7 rows will be always the same or just create ReportResponse with List of single entry (pojo) and map to obj e.g. ReportEntry (name, href) then just return this list as response</p>\n"}],"owner":{"account_id":26662139,"reputation":45,"user_id":20274796,"display_name":"rsharma"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673024190,"creation_date":1673021033,"question_id":75033295,"body_markdown":"I have response like this\r\n\r\n    {\r\n    \t&quot;RCDSO - Production Environment Cost&quot;: {\r\n    \t\t&quot;href&quot;: &quot;href1&quot;\r\n    \t},\r\n    \t&quot;RCDSO - Development &amp; UAT Environment Cost&quot;: {\r\n    \t\t&quot;href&quot;: &quot;href2&quot;\r\n    \t},\r\n    \t&quot;RCDSO - Total Cost for Prod - Compugen Managed&quot;: {\r\n    \t\t&quot;href&quot;: &quot;href3&quot;\r\n    \t},\r\n    \t&quot;RCDSO - Virtual Machine Cost&quot;: {\r\n    \t\t&quot;href&quot;: &quot;href4&quot;\r\n    \t},\r\n    \t&quot;RCDSO - Azure File Storage Cost&quot;: {\r\n    \t\t&quot;href&quot;: &quot;href5&quot;\r\n    \t},\r\n    \t&quot;RCDSO - Azure Backup and Site Recovery&quot;: {\r\n    \t\t&quot;href&quot;: &quot;href6&quot;\r\n    \t},\r\n    \t&quot;RCDSO - Azure App Services Cost&quot;: {\r\n    \t\t&quot;href&quot;: &quot;href7&quot;\r\n    \t}\r\n    }\r\n\r\nI want to map above JSON into ReportResponse.java POJO class.\r\n\r\n    public class ReportResponse {\r\n    \tprivate String name;\r\n    \tprivate String href;\r\n    \t\r\n    \tpublic String getName() {\r\n    \t\treturn name;\r\n    \t}\r\n    \tpublic void setName(String name) {\r\n    \t\tthis.name = name;\r\n    \t}\r\n    \tpublic String getHref() {\r\n    \t\treturn href;\r\n    \t}\r\n    \tpublic void setHref(String href) {\r\n    \t\tthis.href = href;\r\n    \t}\r\n    }\r\n\r\nSo that when I return JSON through my Rest API, response should look like as below:\r\n\r\n        {\r\n          &quot;response&quot;:[\r\n        \t{\r\n        \t\t&quot;name&quot; : &quot;RCDSO - Production Environment Cost&quot;,\r\n        \t\t&quot;href&quot; : &quot;href1&quot;\r\n        \t},\r\n        \t{\r\n        \t\t&quot;name&quot; : &quot;RCDSO - Development &amp; UAT Environment Cost&quot;,\r\n        \t\t&quot;href&quot; : &quot;href2&quot;\r\n        \t},\r\n        \t{\r\n        \t\t&quot;name&quot; : &quot;RCDSO - Total Cost for Prod - Compugen Managed&quot;,\r\n        \t\t&quot;href&quot; : &quot;href3&quot;\r\n        \t}\r\n        \t..... so on....\r\n        ]\r\n    }\r\nI have tried to get response from external API and extracted json object from it and then tried it to convert to json array.\r\n\r\n    public String getReportList(String clientApiId) {\r\n    \tString response = null;\r\n    \tResponseEntity&lt;String&gt; responseEntity = null;\r\n    \ttry {\r\n    \t\tfinal String url = &quot;https://chapi.cloudhealthtech.com/olap_reports/custom?client_api_id=&quot;+clientApiId;\r\n    \t\tRestTemplate restTemplate = new RestTemplate();\r\n    \t\tHttpHeaders header = new HttpHeaders();\r\n    \t\theader.add(HttpHeaders.AUTHORIZATION, &quot;Bearer &quot;+apiKey);\r\n    \t\theader.add(HttpHeaders.ACCEPT, &quot;application/json&quot;);\r\n    \t\t\r\n    \t\tHttpEntity&lt;String&gt; requestEntity = new HttpEntity&lt;String&gt;(&quot;body&quot;,header);\r\n    \t\tresponseEntity = restTemplate.exchange(url, HttpMethod.GET, requestEntity, String.class);\r\n    \t\t\r\n    \t\tresponse = responseEntity.getBody();\r\n    \t\t\r\n    \t\tJSONObject obj = new JSONObject(response);\r\n    \t\tJSONObject linkJsonObj = obj.getJSONObject(&quot;links&quot;);\r\n    \t\t\r\n    \t\tIterator itr = linkJsonObj.keys();\r\n    \t\tJSONArray array = new JSONArray();\r\n    \t\twhile(itr.hasNext()) {\r\n    \t\t\tString key = (String)itr.next();\r\n    \t\t\tarray.put(linkJsonObj.get(key));\r\n    \t\t}\r\n    \t\tSystem.out.println(&quot;Json Array : &quot;+array);\r\n    \t} catch (Exception e) {\r\n    \t\tSystem.out.println(e.getMessage());\r\n    \t\te.printStackTrace();\r\n    \t}\r\n    \treturn response;\r\n    }\r\n\r\n**Please help me to achieve expected JSON and to map to ReportResponse.java POJO class.**","title":"How to convert JSON Object to JSON Array and map it to custom POJO?","body":"<p>I have response like this</p>\n<pre><code>{\n    &quot;RCDSO - Production Environment Cost&quot;: {\n        &quot;href&quot;: &quot;href1&quot;\n    },\n    &quot;RCDSO - Development &amp; UAT Environment Cost&quot;: {\n        &quot;href&quot;: &quot;href2&quot;\n    },\n    &quot;RCDSO - Total Cost for Prod - Compugen Managed&quot;: {\n        &quot;href&quot;: &quot;href3&quot;\n    },\n    &quot;RCDSO - Virtual Machine Cost&quot;: {\n        &quot;href&quot;: &quot;href4&quot;\n    },\n    &quot;RCDSO - Azure File Storage Cost&quot;: {\n        &quot;href&quot;: &quot;href5&quot;\n    },\n    &quot;RCDSO - Azure Backup and Site Recovery&quot;: {\n        &quot;href&quot;: &quot;href6&quot;\n    },\n    &quot;RCDSO - Azure App Services Cost&quot;: {\n        &quot;href&quot;: &quot;href7&quot;\n    }\n}\n</code></pre>\n<p>I want to map above JSON into ReportResponse.java POJO class.</p>\n<pre><code>public class ReportResponse {\n    private String name;\n    private String href;\n    \n    public String getName() {\n        return name;\n    }\n    public void setName(String name) {\n        this.name = name;\n    }\n    public String getHref() {\n        return href;\n    }\n    public void setHref(String href) {\n        this.href = href;\n    }\n}\n</code></pre>\n<p>So that when I return JSON through my Rest API, response should look like as below:</p>\n<pre><code>    {\n      &quot;response&quot;:[\n        {\n            &quot;name&quot; : &quot;RCDSO - Production Environment Cost&quot;,\n            &quot;href&quot; : &quot;href1&quot;\n        },\n        {\n            &quot;name&quot; : &quot;RCDSO - Development &amp; UAT Environment Cost&quot;,\n            &quot;href&quot; : &quot;href2&quot;\n        },\n        {\n            &quot;name&quot; : &quot;RCDSO - Total Cost for Prod - Compugen Managed&quot;,\n            &quot;href&quot; : &quot;href3&quot;\n        }\n        ..... so on....\n    ]\n}\n</code></pre>\n<p>I have tried to get response from external API and extracted json object from it and then tried it to convert to json array.</p>\n<pre><code>public String getReportList(String clientApiId) {\n    String response = null;\n    ResponseEntity&lt;String&gt; responseEntity = null;\n    try {\n        final String url = &quot;https://chapi.cloudhealthtech.com/olap_reports/custom?client_api_id=&quot;+clientApiId;\n        RestTemplate restTemplate = new RestTemplate();\n        HttpHeaders header = new HttpHeaders();\n        header.add(HttpHeaders.AUTHORIZATION, &quot;Bearer &quot;+apiKey);\n        header.add(HttpHeaders.ACCEPT, &quot;application/json&quot;);\n        \n        HttpEntity&lt;String&gt; requestEntity = new HttpEntity&lt;String&gt;(&quot;body&quot;,header);\n        responseEntity = restTemplate.exchange(url, HttpMethod.GET, requestEntity, String.class);\n        \n        response = responseEntity.getBody();\n        \n        JSONObject obj = new JSONObject(response);\n        JSONObject linkJsonObj = obj.getJSONObject(&quot;links&quot;);\n        \n        Iterator itr = linkJsonObj.keys();\n        JSONArray array = new JSONArray();\n        while(itr.hasNext()) {\n            String key = (String)itr.next();\n            array.put(linkJsonObj.get(key));\n        }\n        System.out.println(&quot;Json Array : &quot;+array);\n    } catch (Exception e) {\n        System.out.println(e.getMessage());\n        e.printStackTrace();\n    }\n    return response;\n}\n</code></pre>\n<p><strong>Please help me to achieve expected JSON and to map to ReportResponse.java POJO class.</strong></p>\n"},{"tags":["java","apache-kafka","spring-kafka","aws-glue","avro"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1672958675,"post_id":75022441,"comment_id":132396830,"body_markdown":"So the factory didn&#39;t compile, so where else is `consumerConfigs()` actually being used? In the logs, are you seeing `value.deserializer = ... StringDeserializer`, then? Why not configure deserializers [in the properties](https://docs.spring.io/spring-boot/docs/current/reference/html/messaging.html#messaging.kafka)?","body":"So the factory didn&#39;t compile, so where else is <code>consumerConfigs()</code> actually being used? In the logs, are you seeing <code>value.deserializer = ... StringDeserializer</code>, then? Why not configure deserializers <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/messaging.html#messaging.kafka\" rel=\"nofollow noreferrer\">in the properties</a>?"},{"owner":{"account_id":13033096,"reputation":775,"user_id":9418902,"display_name":"Csisanyi"},"score":0,"creation_date":1672962991,"post_id":75022441,"comment_id":132397645,"body_markdown":"Could you please add your pom.xml (At least the dependencies concerning kafka and the schema registry). Also just as a naive question, have you generated the necessary classes from the avro schema(s)\nAnd as mentioned by @OneCricketeer what about application.properties?","body":"Could you please add your pom.xml (At least the dependencies concerning kafka and the schema registry). Also just as a naive question, have you generated the necessary classes from the avro schema(s) And as mentioned by @OneCricketeer what about application.properties?"},{"owner":{"account_id":15057950,"reputation":293,"user_id":10867687,"display_name":"Anand K"},"score":0,"creation_date":1673014777,"post_id":75022441,"comment_id":132408350,"body_markdown":"POM added @Csisanyi. Topics are written using the Kafka connect as GenericRecord., so no need for avro schema classes.","body":"POM added @Csisanyi. Topics are written using the Kafka connect as GenericRecord., so no need for avro schema classes."},{"owner":{"account_id":15057950,"reputation":293,"user_id":10867687,"display_name":"Anand K"},"score":0,"creation_date":1673014781,"post_id":75022441,"comment_id":132408351,"body_markdown":"@OneCricketeer, ConsumerConfigs() are only used in the ConsumerFactory. properties are set below, key and value are avro. And using springboot they are not deserializing key or value and it gives the above error (cant cast string to genericrecord). Works fine in regular java program.\n\n        config.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, GlueSchemaRegistryKafkaDeserializer.class.getName());\n        config.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, GlueSchemaRegistryKafkaDeserializer.class.getName());","body":"@OneCricketeer, ConsumerConfigs() are only used in the ConsumerFactory. properties are set below, key and value are avro. And using springboot they are not deserializing key or value and it gives the above error (cant cast string to genericrecord). Works fine in regular java program.          config.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, GlueSchemaRegistryKafkaDeserializer.class.getName());         config.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, GlueSchemaRegistryKafkaDeserializer.class.getName());"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1673015944,"post_id":75022441,"comment_id":132408771,"body_markdown":"Spring is still a &quot;regular java program&quot;. If your method is never used, spring-kafka simply defaults to use StringDeserializer. Why not use property file?","body":"Spring is still a &quot;regular java program&quot;. If your method is never used, spring-kafka simply defaults to use StringDeserializer. Why not use property file?"},{"owner":{"account_id":15057950,"reputation":293,"user_id":10867687,"display_name":"Anand K"},"score":0,"creation_date":1673017012,"post_id":75022441,"comment_id":132409143,"body_markdown":"What I meant by regular java program is not using springboot.\nBoth consumer properties and glue configs are set in consumerConfigs() method. consumerConfigs() are used as argument in building consumerFactory(), and consumerFactory() is used as a argument in concurrentKafkaListenerContainerFactory(). So everything is set properly.","body":"What I meant by regular java program is not using springboot. Both consumer properties and glue configs are set in consumerConfigs() method. consumerConfigs() are used as argument in building consumerFactory(), and consumerFactory() is used as a argument in concurrentKafkaListenerContainerFactory(). So everything is set properly."}],"answers":[{"tags":[],"owner":{"account_id":15057950,"reputation":293,"user_id":10867687,"display_name":"Anand K"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673024174,"creation_date":1673024174,"answer_id":75033878,"question_id":75022441,"body_markdown":"I figured out what the issue is. In the config class SpringBoot expects the factory bean name to be **kafkaListenerContainerFactory**. I named it **concurrentKafkaListenerContainerFactory** which is causing the issue of not loading the consumer and glue configurations properly.\r\n\r\n&gt; By default, a bean with name **kafkaListenerContainerFactory** is\r\n&gt; expected.\r\n\r\nhttps://docs.spring.io/spring-kafka/docs/current/reference/html/#kafka-listener-annotation\r\n","title":"Spring boot kafka consumer issue deserializing AVRO GENERIC_RECORD using Glue schema registry","body":"<p>I figured out what the issue is. In the config class SpringBoot expects the factory bean name to be <strong>kafkaListenerContainerFactory</strong>. I named it <strong>concurrentKafkaListenerContainerFactory</strong> which is causing the issue of not loading the consumer and glue configurations properly.</p>\n<blockquote>\n<p>By default, a bean with name <strong>kafkaListenerContainerFactory</strong> is\nexpected.</p>\n</blockquote>\n<p><a href=\"https://docs.spring.io/spring-kafka/docs/current/reference/html/#kafka-listener-annotation\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-kafka/docs/current/reference/html/#kafka-listener-annotation</a></p>\n"}],"owner":{"account_id":15057950,"reputation":293,"user_id":10867687,"display_name":"Anand K"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2106,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75033878,"answer_count":1,"score":2,"last_activity_date":1673024174,"creation_date":1672940949,"question_id":75022441,"body_markdown":"I have topics written by kafka connect that are in AVRO GENERIC_RECORD format using Glue Schema Registry. I am able to consume those using the documentation using a plain java program. \r\nHowever I am having difficulty reading consuming them using spring boot application.\r\n\r\nMy simple config class\r\n \r\n```\r\n@EnableKafka\r\n@Configuration\r\n\r\npublic class KafkaAvroConsumerConfig {\r\n\r\n\t@Value(&quot;${spring.kafka.bootstrap-servers}&quot;)\r\n\tprivate String brokers;\r\n\t@Value(&quot;${spring.kafka.consumer.group-id}&quot;)\r\n\tprivate String groupId;\r\n\r\n\t// Creating a Listener\r\n\t@Bean\r\n\tpublic ConcurrentKafkaListenerContainerFactory&lt;GenericRecord, GenericRecord&gt; concurrentKafkaListenerContainerFactory() {\r\n\t\tConcurrentKafkaListenerContainerFactory&lt;GenericRecord, GenericRecord&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n\t\tfactory.setConsumerFactory(consumerFactory());\r\n\t\treturn factory;\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic ConsumerFactory&lt;GenericRecord, GenericRecord&gt; consumerFactory() {\r\n\t\treturn new DefaultKafkaConsumerFactory&lt;&gt;(consumerConfigs());\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic Map&lt;String, Object&gt; consumerConfigs() {\r\n\t\t// Creating a Map of string-object pairs\r\n\t\tMap&lt;String, Object&gt; config = new HashMap&lt;&gt;();\r\n\r\n\t\t// Adding the Configuration\r\n\t\tconfig.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, brokers);\r\n\t\tconfig.put(ConsumerConfig.GROUP_ID_CONFIG, groupId);\r\n\r\n\t\tconfig.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, GlueSchemaRegistryKafkaDeserializer.class.getName());\r\n\t\tconfig.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, GlueSchemaRegistryKafkaDeserializer.class.getName());\r\n\r\n\t\tconfig.put(AWSSchemaRegistryConstants.AWS_REGION, region);\r\n\t\tconfig.put(AWSSchemaRegistryConstants.REGISTRY_NAME, registryName);\r\n\r\n\t\tconfig.put(AWSSchemaRegistryConstants.AVRO_RECORD_TYPE, AvroRecordType.GENERIC_RECORD.getName());\r\n\t\tconfig.put(AWSSchemaRegistryConstants.SCHEMA_NAMING_GENERATION_CLASS,\r\n\t\t\t\tMySchemaNamingStrategy.class.getName());\r\n\r\n\t\treturn config;\r\n\t}\r\n}\r\n\r\n```\r\n\r\nAnd listener class\r\n\r\n```\r\n@Component\r\n\r\npublic class KafkaAvroConsumer {\r\n\r\n\t@Autowired\r\n\tKafkaTemplate&lt;GenericRecord, GenericRecord&gt; kafkaTemplate;\r\n\r\n\t@KafkaListener(topics = &quot;gsr1.HR.DEPARTMENTS&quot;)\r\n\tpublic void listenDepartment(ConsumerRecord&lt;GenericRecord, GenericRecord&gt; record) {\r\n\r\n\t\t//System.out.println(&quot;DEPARTMENTS key   schema = &quot; + record.key().getSchema().toString());\r\n\t\tGenericRecord key = record.key();\r\n\t\tGenericRecord value = record.value();\r\n\t\tSystem.out.println(&quot;            record.key() = &quot; + key);\r\n\t\tSystem.out.println(&quot;          record.value() = &quot; + value);\r\n\t\tSystem.out.println(&quot;      Key  DEPARTMENT_ID = &quot; + key.get(&quot;DEPARTMENT_ID&quot;));\r\n\t\tSystem.out.println(&quot;         DEPARTMENT_NAME = &quot; + (String) value.get(&quot;DEPARTMENT_NAME&quot;));\r\n\t}\r\n\r\n}\r\n```\r\n\r\nThis gives me an error at &quot;GenericRecord key = record.key();&quot;, looks like they didn&#39;t get deserialized to GenericRecord, instead they are just raw bytes\r\n\r\n```\r\nCaused by: java.lang.ClassCastException: class java.lang.String cannot be cast to class org.apache.avro.generic.GenericRecord (java.lang.String is in module java.base of loader &#39;bootstrap&#39;; org.apache.avro.generic.GenericRecord is in unnamed module of loader &#39;app&#39;)\r\n```\r\n\r\nI was looking and in spring documentation the DefaultKafkaConsumerFactory method also takes key and value deserialization class also as parameters. So I tried to do this but that doesn&#39;t compile.. GlueSchemaRegistryKafkaDeserializer doesn&#39;t take type argument either \r\n```\r\n\tpublic ConsumerFactory&lt;GenericRecord, GenericRecord&gt; consumerFactory() {\r\n\t\tDeserializer&lt;GenericRecord&gt; avroDeser =  new GlueSchemaRegistryKafkaDeserializer();\r\n\t\tavroDeser.configure(consumerConfigs(), false);\r\n\t\treturn new DefaultKafkaConsumerFactory&lt;&gt;(consumerConfigs(), avroDeser, avroDeser);\r\n\t}\r\n```\r\n\r\nAny help in how to get this to work.\r\nI put the question out in GSR github too https://github.com/awslabs/aws-glue-schema-registry/issues/241\r\n\r\nHere is the POM\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.1&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; \r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.test&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;SpringBootKafkaAvro&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;SpringBootKafkaAvro&lt;/name&gt;\r\n\t&lt;description&gt;Spring boot Kafka Avro using Glue Schema registry&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;software.amazon.glue&lt;/groupId&gt;\r\n            &lt;artifactId&gt;schema-registry-serde&lt;/artifactId&gt;\r\n            &lt;version&gt;1.1.14&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-kafka-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```","title":"Spring boot kafka consumer issue deserializing AVRO GENERIC_RECORD using Glue schema registry","body":"<p>I have topics written by kafka connect that are in AVRO GENERIC_RECORD format using Glue Schema Registry. I am able to consume those using the documentation using a plain java program.\nHowever I am having difficulty reading consuming them using spring boot application.</p>\n<p>My simple config class</p>\n<pre><code>@EnableKafka\n@Configuration\n\npublic class KafkaAvroConsumerConfig {\n\n    @Value(&quot;${spring.kafka.bootstrap-servers}&quot;)\n    private String brokers;\n    @Value(&quot;${spring.kafka.consumer.group-id}&quot;)\n    private String groupId;\n\n    // Creating a Listener\n    @Bean\n    public ConcurrentKafkaListenerContainerFactory&lt;GenericRecord, GenericRecord&gt; concurrentKafkaListenerContainerFactory() {\n        ConcurrentKafkaListenerContainerFactory&lt;GenericRecord, GenericRecord&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n        factory.setConsumerFactory(consumerFactory());\n        return factory;\n    }\n\n    @Bean\n    public ConsumerFactory&lt;GenericRecord, GenericRecord&gt; consumerFactory() {\n        return new DefaultKafkaConsumerFactory&lt;&gt;(consumerConfigs());\n    }\n\n    @Bean\n    public Map&lt;String, Object&gt; consumerConfigs() {\n        // Creating a Map of string-object pairs\n        Map&lt;String, Object&gt; config = new HashMap&lt;&gt;();\n\n        // Adding the Configuration\n        config.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, brokers);\n        config.put(ConsumerConfig.GROUP_ID_CONFIG, groupId);\n\n        config.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, GlueSchemaRegistryKafkaDeserializer.class.getName());\n        config.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, GlueSchemaRegistryKafkaDeserializer.class.getName());\n\n        config.put(AWSSchemaRegistryConstants.AWS_REGION, region);\n        config.put(AWSSchemaRegistryConstants.REGISTRY_NAME, registryName);\n\n        config.put(AWSSchemaRegistryConstants.AVRO_RECORD_TYPE, AvroRecordType.GENERIC_RECORD.getName());\n        config.put(AWSSchemaRegistryConstants.SCHEMA_NAMING_GENERATION_CLASS,\n                MySchemaNamingStrategy.class.getName());\n\n        return config;\n    }\n}\n\n</code></pre>\n<p>And listener class</p>\n<pre><code>@Component\n\npublic class KafkaAvroConsumer {\n\n    @Autowired\n    KafkaTemplate&lt;GenericRecord, GenericRecord&gt; kafkaTemplate;\n\n    @KafkaListener(topics = &quot;gsr1.HR.DEPARTMENTS&quot;)\n    public void listenDepartment(ConsumerRecord&lt;GenericRecord, GenericRecord&gt; record) {\n\n        //System.out.println(&quot;DEPARTMENTS key   schema = &quot; + record.key().getSchema().toString());\n        GenericRecord key = record.key();\n        GenericRecord value = record.value();\n        System.out.println(&quot;            record.key() = &quot; + key);\n        System.out.println(&quot;          record.value() = &quot; + value);\n        System.out.println(&quot;      Key  DEPARTMENT_ID = &quot; + key.get(&quot;DEPARTMENT_ID&quot;));\n        System.out.println(&quot;         DEPARTMENT_NAME = &quot; + (String) value.get(&quot;DEPARTMENT_NAME&quot;));\n    }\n\n}\n</code></pre>\n<p>This gives me an error at &quot;GenericRecord key = record.key();&quot;, looks like they didn't get deserialized to GenericRecord, instead they are just raw bytes</p>\n<pre><code>Caused by: java.lang.ClassCastException: class java.lang.String cannot be cast to class org.apache.avro.generic.GenericRecord (java.lang.String is in module java.base of loader 'bootstrap'; org.apache.avro.generic.GenericRecord is in unnamed module of loader 'app')\n</code></pre>\n<p>I was looking and in spring documentation the DefaultKafkaConsumerFactory method also takes key and value deserialization class also as parameters. So I tried to do this but that doesn't compile.. GlueSchemaRegistryKafkaDeserializer doesn't take type argument either</p>\n<pre><code>    public ConsumerFactory&lt;GenericRecord, GenericRecord&gt; consumerFactory() {\n        Deserializer&lt;GenericRecord&gt; avroDeser =  new GlueSchemaRegistryKafkaDeserializer();\n        avroDeser.configure(consumerConfigs(), false);\n        return new DefaultKafkaConsumerFactory&lt;&gt;(consumerConfigs(), avroDeser, avroDeser);\n    }\n</code></pre>\n<p>Any help in how to get this to work.\nI put the question out in GSR github too <a href=\"https://github.com/awslabs/aws-glue-schema-registry/issues/241\" rel=\"nofollow noreferrer\">https://github.com/awslabs/aws-glue-schema-registry/issues/241</a></p>\n<p>Here is the POM</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.1&lt;/version&gt;\n        &lt;relativePath/&gt; \n    &lt;/parent&gt;\n    &lt;groupId&gt;com.test&lt;/groupId&gt;\n    &lt;artifactId&gt;SpringBootKafkaAvro&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;SpringBootKafkaAvro&lt;/name&gt;\n    &lt;description&gt;Spring boot Kafka Avro using Glue Schema registry&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;software.amazon.glue&lt;/groupId&gt;\n            &lt;artifactId&gt;schema-registry-serde&lt;/artifactId&gt;\n            &lt;version&gt;1.1.14&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-kafka-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n"},{"tags":["java","textures","graphics2d","affinetransform","batik"],"owner":{"account_id":22060406,"reputation":44,"user_id":16323206,"display_name":"jazznbass"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673024155,"creation_date":1673022519,"question_id":75033565,"body_markdown":"There is a simple modified version of TexturePaint that support internal transforms. This one works well, affine transforms inside contents, without altering graphics objects, only internal contents. It is being used in multi path fills.\r\nBut in order use it in Batik there must be a an extension handler that is able to reform this, I do not have the knowledge to do so, and I am looking for an alternative to just use a vanilla texturePatnt and transforms that can be recognized by Batik svg generator.\r\n\r\nIs there an alternative way to use affine transform (scale, rotate) in texturePaint contents without using the transform to the graphics2D object itself?  I mean just transform the internal fill (image, pattern etc), without applying the transform to its root shape.\r\n\r\nreferences:\r\nhttps://stackoverflow.com/questions/32572198/apply-affinetransform-to-texturepaint\r\n\r\n\r\n\r\n``` \r\n/*\r\n * @(#)TransformedTexturePaint.java\r\n *\r\n * $Date: 2011-05-02 16:01:45 -0500 (Mon, 02 May 2011) $\r\n *\r\n * Copyright (c) 2011 by Jeremy Wood.\r\n * All rights reserved.\r\n *\r\n * The copyright of this software is owned by Jeremy Wood. \r\n * You may not use, copy or modify this software, except in  \r\n * accordance with the license agreement you entered into with  \r\n * Jeremy Wood. For details see accompanying license terms.\r\n * \r\n * This software is probably, but not necessarily, discussed here:\r\n * http://javagraphics.java.net/\r\n * \r\n * That site should also contain the most recent official version\r\n * of this software.  (See the SVN repository for more details.)\r\n */\r\npackage com.bric.halftone;\r\n\r\nimport java.awt.Paint;\r\nimport java.awt.PaintContext;\r\nimport java.awt.Rectangle;\r\nimport java.awt.RenderingHints;\r\nimport java.awt.TexturePaint;\r\nimport java.awt.geom.AffineTransform;\r\nimport java.awt.geom.Rectangle2D;\r\nimport java.awt.image.BufferedImage;\r\nimport java.awt.image.ColorModel;\r\n\r\n/** This effectively extends &lt;code&gt;TexturePaint&lt;/code&gt; to support\r\n * arbitrary &lt;code&gt;AffineTransforms&lt;/code&gt; inside this paint object.\r\n * &lt;P&gt;This does not technically extend the &lt;code&gt;TexturePaint&lt;/code&gt;\r\n * class, although it does relay most calls to an internal\r\n * &lt;code&gt;TexturePaint&lt;/code&gt;.  This is because some graphics pipelines\r\n * (notably Java 1.4 on Mac) will fail to work the paint context\r\n * correctly if this class officially extends &lt;code&gt;TexturePaint&lt;/code&gt;.\r\n *\r\n */\r\npublic class TransformedTexturePaint implements Paint {\r\n\tTexturePaint texturePaint;\r\n\tAffineTransform transform;\r\n\r\n\tpublic TransformedTexturePaint(BufferedImage txtr, Rectangle2D anchor,AffineTransform transform) {\r\n\t\ttexturePaint = new TexturePaint(txtr, anchor);\r\n\t\tif(transform==null) transform = new AffineTransform();\r\n\t\t\r\n\t\tthis.transform = new AffineTransform(transform);\r\n\t}\r\n\t\r\n\tpublic AffineTransform getTransform() {\r\n\t\treturn transform;\r\n\t}\r\n\r\n\tpublic PaintContext createContext(ColorModel cm, Rectangle deviceBounds,\r\n\t\t\tRectangle2D userBounds, AffineTransform xform, RenderingHints hints) {\r\n\t\tAffineTransform newTransform = new AffineTransform(xform);\r\n\t\tnewTransform.concatenate(transform);\r\n\t\t//this is necessary on Java 1.4 toa void a NullPointerException\r\n\t\t//from: java.awt.TexturePaintContext.getContext(TexturePaintContext.java:57)\r\n\t\tif(hints==null)\r\n\t\t\thints = new RenderingHints(RenderingHints.KEY_COLOR_RENDERING, RenderingHints.VALUE_COLOR_RENDER_DEFAULT);\r\n\t\treturn texturePaint.createContext(cm, deviceBounds, userBounds, newTransform, hints);\r\n\t}\r\n\r\n\tpublic Rectangle2D getAnchorRect() {\r\n\t\treturn texturePaint.getAnchorRect();\r\n\t}\r\n\r\n\tpublic BufferedImage getImage() {\r\n\t\treturn texturePaint.getImage();\r\n\t}\r\n\r\n\tpublic int getTransparency() {\r\n\t\treturn texturePaint.getTransparency();\r\n\t}\r\n}\r\n``` ","title":"How to transform (scale, rotate) contents of a TexturePaint in java without transforming its root shape and then use it in Batik","body":"<p>There is a simple modified version of TexturePaint that support internal transforms. This one works well, affine transforms inside contents, without altering graphics objects, only internal contents. It is being used in multi path fills.\nBut in order use it in Batik there must be a an extension handler that is able to reform this, I do not have the knowledge to do so, and I am looking for an alternative to just use a vanilla texturePatnt and transforms that can be recognized by Batik svg generator.</p>\n<p>Is there an alternative way to use affine transform (scale, rotate) in texturePaint contents without using the transform to the graphics2D object itself?  I mean just transform the internal fill (image, pattern etc), without applying the transform to its root shape.</p>\n<p>references:\n<a href=\"https://stackoverflow.com/questions/32572198/apply-affinetransform-to-texturepaint\">Apply AffineTransform to TexturePaint</a></p>\n<pre><code>/*\n * @(#)TransformedTexturePaint.java\n *\n * $Date: 2011-05-02 16:01:45 -0500 (Mon, 02 May 2011) $\n *\n * Copyright (c) 2011 by Jeremy Wood.\n * All rights reserved.\n *\n * The copyright of this software is owned by Jeremy Wood. \n * You may not use, copy or modify this software, except in  \n * accordance with the license agreement you entered into with  \n * Jeremy Wood. For details see accompanying license terms.\n * \n * This software is probably, but not necessarily, discussed here:\n * http://javagraphics.java.net/\n * \n * That site should also contain the most recent official version\n * of this software.  (See the SVN repository for more details.)\n */\npackage com.bric.halftone;\n\nimport java.awt.Paint;\nimport java.awt.PaintContext;\nimport java.awt.Rectangle;\nimport java.awt.RenderingHints;\nimport java.awt.TexturePaint;\nimport java.awt.geom.AffineTransform;\nimport java.awt.geom.Rectangle2D;\nimport java.awt.image.BufferedImage;\nimport java.awt.image.ColorModel;\n\n/** This effectively extends &lt;code&gt;TexturePaint&lt;/code&gt; to support\n * arbitrary &lt;code&gt;AffineTransforms&lt;/code&gt; inside this paint object.\n * &lt;P&gt;This does not technically extend the &lt;code&gt;TexturePaint&lt;/code&gt;\n * class, although it does relay most calls to an internal\n * &lt;code&gt;TexturePaint&lt;/code&gt;.  This is because some graphics pipelines\n * (notably Java 1.4 on Mac) will fail to work the paint context\n * correctly if this class officially extends &lt;code&gt;TexturePaint&lt;/code&gt;.\n *\n */\npublic class TransformedTexturePaint implements Paint {\n    TexturePaint texturePaint;\n    AffineTransform transform;\n\n    public TransformedTexturePaint(BufferedImage txtr, Rectangle2D anchor,AffineTransform transform) {\n        texturePaint = new TexturePaint(txtr, anchor);\n        if(transform==null) transform = new AffineTransform();\n        \n        this.transform = new AffineTransform(transform);\n    }\n    \n    public AffineTransform getTransform() {\n        return transform;\n    }\n\n    public PaintContext createContext(ColorModel cm, Rectangle deviceBounds,\n            Rectangle2D userBounds, AffineTransform xform, RenderingHints hints) {\n        AffineTransform newTransform = new AffineTransform(xform);\n        newTransform.concatenate(transform);\n        //this is necessary on Java 1.4 toa void a NullPointerException\n        //from: java.awt.TexturePaintContext.getContext(TexturePaintContext.java:57)\n        if(hints==null)\n            hints = new RenderingHints(RenderingHints.KEY_COLOR_RENDERING, RenderingHints.VALUE_COLOR_RENDER_DEFAULT);\n        return texturePaint.createContext(cm, deviceBounds, userBounds, newTransform, hints);\n    }\n\n    public Rectangle2D getAnchorRect() {\n        return texturePaint.getAnchorRect();\n    }\n\n    public BufferedImage getImage() {\n        return texturePaint.getImage();\n    }\n\n    public int getTransparency() {\n        return texturePaint.getTransparency();\n    }\n}\n</code></pre>\n"},{"tags":["java","netty","graalvm-native-image"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1672886557,"post_id":75013326,"comment_id":132376130,"body_markdown":"[This netty issue](https://github.com/netty/netty/issues/10895) seems related. Anyway, seems to still be an issue. Maybe post a reproducer to this issue or create a new issue.","body":"<a href=\"https://github.com/netty/netty/issues/10895\" rel=\"nofollow noreferrer\">This netty issue</a> seems related. Anyway, seems to still be an issue. Maybe post a reproducer to this issue or create a new issue."},{"owner":{"account_id":8742474,"reputation":377,"user_id":6868978,"accept_rate":85,"display_name":"zipper"},"score":0,"creation_date":1672887999,"post_id":75013326,"comment_id":132376346,"body_markdown":"@Turing85 - thanks for the quick response. That issue was reported about a year ago and is still open. I just added a comment there.","body":"@Turing85 - thanks for the quick response. That issue was reported about a year ago and is still open. I just added a comment there."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1672889041,"post_id":75013326,"comment_id":132376491,"body_markdown":"I have seen [one comment](https://github.com/netty/netty/issues/10616#issuecomment-997282655) multiple times that adds runtime initialization configuration, but I think that this is unrelated. For a workaroudn, you could try running the compilation with the configuration suggested by GraalVM and try to figure out what gets initialized where at build time and write a corresponding configuration file.","body":"I have seen <a href=\"https://github.com/netty/netty/issues/10616#issuecomment-997282655\" rel=\"nofollow noreferrer\">one comment</a> multiple times that adds runtime initialization configuration, but I think that this is unrelated. For a workaroudn, you could try running the compilation with the configuration suggested by GraalVM and try to figure out what gets initialized where at build time and write a corresponding configuration file."},{"owner":{"account_id":8742474,"reputation":377,"user_id":6868978,"accept_rate":85,"display_name":"zipper"},"score":0,"creation_date":1672925799,"post_id":75013326,"comment_id":132385841,"body_markdown":"I tried `--initialize-at-run-time` with all possibly related classes, including class `io.netty.incubator.codec.quic.QuicheQuicChannel` following the output indications, and still got errors like: `Error encountered while parsing io.netty.incubator.codec.quic.QuicheQuicChannel.connect(java.util.function.Function, java.util.concurrent.Executor, long, int, boolean, java.nio.ByteBuffer, java.nio.ByteBuffer)\n` and `Detected an instance of Random/SplittableRandom class in the image heap`. I think the tool really needs to try resolving dependencies automatically.","body":"I tried <code>--initialize-at-run-time</code> with all possibly related classes, including class <code>io.netty.incubator.codec.quic.QuicheQuicChannel</code> following the output indications, and still got errors like: <code>Error encountered while parsing io.netty.incubator.codec.quic.QuicheQuicChannel.connect(java&zwnj;&#8203;.util.function.Funct&zwnj;&#8203;ion, java.util.concurrent.Executor, long, int, boolean, java.nio.ByteBuffer, java.nio.ByteBuffer) </code> and <code>Detected an instance of Random&#47;SplittableRandom class in the image heap</code>. I think the tool really needs to try resolving dependencies automatically."},{"owner":{"account_id":8742474,"reputation":377,"user_id":6868978,"accept_rate":85,"display_name":"zipper"},"score":0,"creation_date":1672984351,"post_id":75013326,"comment_id":132400563,"body_markdown":"Created [an issue at Netty](https://github.com/netty/netty/issues/13102).","body":"Created <a href=\"https://github.com/netty/netty/issues/13102\" rel=\"nofollow noreferrer\">an issue at Netty</a>."}],"answers":[{"tags":[],"owner":{"account_id":8742474,"reputation":377,"user_id":6868978,"accept_rate":85,"display_name":"zipper"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673023982,"creation_date":1673023982,"answer_id":75033838,"question_id":75013326,"body_markdown":"I finally cracked the recipe:\r\n\r\n    native-image -jar myapp-1.0-jar-with-dependencies.jar myapp  \\\r\n     --initialize-at-build-time=org.slf4j.simple.SimpleLogger \\\r\n     --initialize-at-build-time=io.netty.util.internal.logging.Slf4JLoggerFactory \\\r\n     --initialize-at-build-time=io.netty.channel.MultithreadEventLoopGroup \\\r\n     --initialize-at-build-time=io.netty.util.internal.logging.InternalLoggerFactory \\\r\n     --initialize-at-build-time=org.slf4j.LoggerFactory \\\r\n     --initialize-at-run-time=io.netty.channel.DefaultFileRegion  \\\r\n     --initialize-at-run-time=io.netty.channel.epoll.Native  \\\r\n     --initialize-at-run-time=io.netty.channel.epoll.Epoll  \\\r\n     --initialize-at-run-time=io.netty.channel.epoll.EpollEventLoop  \\\r\n     --initialize-at-run-time=io.netty.channel.epoll.EpollEventArray  \\\r\n     --initialize-at-run-time=io.netty.channel.kqueue.KQueue  \\\r\n     --initialize-at-run-time=io.netty.channel.kqueue.KQueueEventLoop  \\\r\n     --initialize-at-run-time=io.netty.channel.kqueue.KQueueEventArray  \\\r\n     --initialize-at-run-time=io.netty.channel.kqueue.Native  \\\r\n     --initialize-at-run-time=io.netty.channel.unix.Limits  \\\r\n     --initialize-at-run-time=io.netty.channel.unix.Errors  \\\r\n     --initialize-at-run-time=io.netty.channel.unix.IovArray  \\\r\n     --initialize-at-run-time=io.netty.handler.ssl.BouncyCastleAlpnSslUtils  \\\r\n     --initialize-at-run-time=io.netty.incubator.codec.quic.InsecureQuicTokenHandler  \\\r\n     --initialize-at-run-time=io.netty.incubator.codec.quic.SecureRandomQuicConnectionIdGenerator \\\r\n     --report-unsupported-elements-at-runtime \\\r\n     -H:+ReportExceptionStackTraces\r\n\r\nNo secret but keep trying and studying the output and following the suggestions and adjusting. But it&#39;s not easy, I tried different combinations of `initialize-at-build-time` and `initialize-at-run-time` with all these classes. I think the tool may need to be improved to save this kind of try.\r\n\r\nRight now the jar file is compiled successfully (also thanks to [the help][1] from [@Karam][2]), but I am still struggling to handle some run-time exceptions prompted out from running the compiled output which never been thrown when running as a jar file.\r\n\r\n\r\n  [1]: https://github.com/quarkusio/quarkus/issues/21726\r\n  [2]: https://github.com/Karm","title":"GraalVM native image-image build error, report &#39;Error encountered while parsing io.netty.channel.nio.NioEventLoop.openSelector()&#39;","body":"<p>I finally cracked the recipe:</p>\n<pre><code>native-image -jar myapp-1.0-jar-with-dependencies.jar myapp  \\\n --initialize-at-build-time=org.slf4j.simple.SimpleLogger \\\n --initialize-at-build-time=io.netty.util.internal.logging.Slf4JLoggerFactory \\\n --initialize-at-build-time=io.netty.channel.MultithreadEventLoopGroup \\\n --initialize-at-build-time=io.netty.util.internal.logging.InternalLoggerFactory \\\n --initialize-at-build-time=org.slf4j.LoggerFactory \\\n --initialize-at-run-time=io.netty.channel.DefaultFileRegion  \\\n --initialize-at-run-time=io.netty.channel.epoll.Native  \\\n --initialize-at-run-time=io.netty.channel.epoll.Epoll  \\\n --initialize-at-run-time=io.netty.channel.epoll.EpollEventLoop  \\\n --initialize-at-run-time=io.netty.channel.epoll.EpollEventArray  \\\n --initialize-at-run-time=io.netty.channel.kqueue.KQueue  \\\n --initialize-at-run-time=io.netty.channel.kqueue.KQueueEventLoop  \\\n --initialize-at-run-time=io.netty.channel.kqueue.KQueueEventArray  \\\n --initialize-at-run-time=io.netty.channel.kqueue.Native  \\\n --initialize-at-run-time=io.netty.channel.unix.Limits  \\\n --initialize-at-run-time=io.netty.channel.unix.Errors  \\\n --initialize-at-run-time=io.netty.channel.unix.IovArray  \\\n --initialize-at-run-time=io.netty.handler.ssl.BouncyCastleAlpnSslUtils  \\\n --initialize-at-run-time=io.netty.incubator.codec.quic.InsecureQuicTokenHandler  \\\n --initialize-at-run-time=io.netty.incubator.codec.quic.SecureRandomQuicConnectionIdGenerator \\\n --report-unsupported-elements-at-runtime \\\n -H:+ReportExceptionStackTraces\n</code></pre>\n<p>No secret but keep trying and studying the output and following the suggestions and adjusting. But it's not easy, I tried different combinations of <code>initialize-at-build-time</code> and <code>initialize-at-run-time</code> with all these classes. I think the tool may need to be improved to save this kind of try.</p>\n<p>Right now the jar file is compiled successfully (also thanks to <a href=\"https://github.com/quarkusio/quarkus/issues/21726\" rel=\"nofollow noreferrer\">the help</a> from <a href=\"https://github.com/Karm\" rel=\"nofollow noreferrer\">@Karam</a>), but I am still struggling to handle some run-time exceptions prompted out from running the compiled output which never been thrown when running as a jar file.</p>\n"}],"owner":{"account_id":8742474,"reputation":377,"user_id":6868978,"accept_rate":85,"display_name":"zipper"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1997,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75033838,"answer_count":1,"score":0,"last_activity_date":1673023982,"creation_date":1672885958,"question_id":75013326,"body_markdown":"Native image building environment: `CentOS Linux release 7.9.2009 (Core)`, `graalvm-ce-java17-22.3.0`. The jar file is built by `Zulu 17.0.5+8` (also tried 1.8) with NetBeans 15 on Windows 10. Netty dependencies:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.netty&lt;/groupId&gt;\r\n            &lt;artifactId&gt;netty-buffer&lt;/artifactId&gt;\r\n            &lt;version&gt;4.1.86.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.netty&lt;/groupId&gt;\r\n            &lt;artifactId&gt;netty-handler&lt;/artifactId&gt;\r\n            &lt;version&gt;4.1.86.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.netty&lt;/groupId&gt;\r\n            &lt;artifactId&gt;netty-codec-http&lt;/artifactId&gt;\r\n            &lt;version&gt;4.1.86.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.netty.incubator&lt;/groupId&gt;\r\n            &lt;artifactId&gt;netty-incubator-codec-native-quic&lt;/artifactId&gt;\r\n            &lt;version&gt;0.0.35.Final&lt;/version&gt;\r\n            &lt;classifier&gt;linux-x86_64&lt;/classifier&gt;\r\n        &lt;/dependency&gt;\r\n\r\nError Message:\r\n\r\n    [root@secure-baud-2 ~]# native-image -jar myapp-1.0-jar-with-dependencies.jar myapp\r\n    ========================================================================================================================\r\n    GraalVM Native Image: Generating &#39;myapp&#39; (executable)...\r\n    ========================================================================================================================\r\n    Warning: Could not register io.netty.handler.codec.compression.Lz4FrameDecoder: queryAllPublicMethods for reflection. Reason: java.lang.NoClassDefFoundError: net/jpountz/lz4/LZ4Exception.\r\n    Warning: Could not register io.netty.handler.codec.compression.Lz4FrameEncoder: queryAllPublicMethods for reflection. Reason: java.lang.NoClassDefFoundError: net/jpountz/lz4/LZ4Exception.\r\n    Warning: Could not register io.netty.handler.codec.marshalling.CompatibleMarshallingDecoder: queryAllPublicMethods for reflection. Reason: java.lang.NoClassDefFoundError: org/jboss/marshalling/ByteInput.\r\n    Warning: Could not register io.netty.handler.codec.marshalling.CompatibleMarshallingEncoder: queryAllPublicMethods for reflection. Reason: java.lang.NoClassDefFoundError: org/jboss/marshalling/ByteOutput.\r\n    Warning: Could not register io.netty.handler.codec.marshalling.MarshallingDecoder: queryAllPublicMethods for reflection. Reason: java.lang.NoClassDefFoundError: org/jboss/marshalling/ByteInput.\r\n    Warning: Could not register io.netty.handler.codec.marshalling.MarshallingEncoder: queryAllPublicMethods for reflection. Reason: java.lang.NoClassDefFoundError: org/jboss/marshalling/ByteOutput.\r\n    Warning: Could not register io.netty.handler.codec.protobuf.ProtobufDecoder: queryAllPublicMethods for reflection. Reason: java.lang.NoClassDefFoundError: com/google/protobuf/ExtensionRegistryLite.\r\n    Warning: Could not register io.netty.handler.codec.compression.Lz4FrameDecoder: queryAllPublicMethods for reflection. Reason: java.lang.NoClassDefFoundError: net/jpountz/lz4/LZ4Exception.\r\n    Warning: Could not register io.netty.handler.codec.compression.Lz4FrameEncoder: queryAllPublicMethods for reflection. Reason: java.lang.NoClassDefFoundError: net/jpountz/lz4/LZ4Exception.\r\n    Warning: Could not register io.netty.handler.codec.marshalling.CompatibleMarshallingDecoder: queryAllPublicMethods for reflection. Reason: java.lang.NoClassDefFoundError: org/jboss/marshalling/ByteInput.\r\n    Warning: Could not register io.netty.handler.codec.marshalling.CompatibleMarshallingEncoder: queryAllPublicMethods for reflection. Reason: java.lang.NoClassDefFoundError: org/jboss/marshalling/ByteOutput.\r\n    Warning: Could not register io.netty.handler.codec.marshalling.MarshallingDecoder: queryAllPublicMethods for reflection. Reason: java.lang.NoClassDefFoundError: org/jboss/marshalling/ByteInput.\r\n    Warning: Could not register io.netty.handler.codec.marshalling.MarshallingEncoder: queryAllPublicMethods for reflection. Reason: java.lang.NoClassDefFoundError: org/jboss/marshalling/ByteOutput.\r\n    Warning: Could not register io.netty.handler.codec.protobuf.ProtobufDecoder: queryAllPublicMethods for reflection. Reason: java.lang.NoClassDefFoundError: com/google/protobuf/ExtensionRegistryLite.\r\n    [1/7] Initializing...                                                                                   (20.5s @ 0.24GB)\r\n     Version info: &#39;GraalVM 22.3.0 Java 17 CE&#39;\r\n     Java version info: &#39;17.0.5+8-jvmci-22.3-b08&#39;\r\n     C compiler: gcc (redhat, x86_64, 4.8.5)\r\n     Garbage collector: Serial GC\r\n    [2/7] Performing analysis...  []                                                                        (20.9s @ 0.18GB)\r\n       1,273 (57.47%) of  2,215 classes reachable\r\n         836 (28.14%) of  2,971 fields reachable\r\n       3,577 (51.30%) of  6,973 methods reachable\r\n          23 classes,     0 fields, and     0 methods registered for reflection\r\n    \r\n    Fatal error: com.oracle.graal.pointsto.util.AnalysisError$ParsingError: Error encountered while parsing io.netty.channel.nio.NioEventLoop.openSelector()\r\n    Parsing context:\r\n       at io.netty.channel.nio.NioEventLoop.openSelector(NioEventLoop.java:177)\r\n       at io.netty.channel.nio.NioEventLoop.&lt;init&gt;(NioEventLoop.java:146)\r\n       at io.netty.channel.nio.NioEventLoopGroup.newChild(NioEventLoopGroup.java:183)\r\n       at io.netty.channel.nio.NioEventLoopGroup.newChild(NioEventLoopGroup.java:38)\r\n       at io.netty.util.concurrent.MultithreadEventExecutorGroup.&lt;init&gt;(MultithreadEventExecutorGroup.java:84)\r\n       at io.netty.util.concurrent.MultithreadEventExecutorGroup.&lt;init&gt;(MultithreadEventExecutorGroup.java:60)\r\n    \r\n            at org.graalvm.nativeimage.pointsto/com.oracle.graal.pointsto.util.AnalysisError.parsingError(AnalysisError.java:153)\r\n            at org.graalvm.nativeimage.pointsto/com.oracle.graal.pointsto.flow.MethodTypeFlow.createFlowsGraph(MethodTypeFlow.java:104)\r\n            at org.graalvm.nativeimage.pointsto/com.oracle.graal.pointsto.flow.MethodTypeFlow.ensureFlowsGraphCreated(MethodTypeFlow.java:83)\r\n            at org.graalvm.nativeimage.pointsto/com.oracle.graal.pointsto.flow.MethodTypeFlow.getOrCreateMethodFlowsGraph(MethodTypeFlow.java:65)\r\n            at org.graalvm.nativeimage.pointsto/com.oracle.graal.pointsto.typestate.DefaultSpecialInvokeTypeFlow.onObservedUpdate(DefaultSpecialInvokeTypeFlow.java:61)\r\n            at org.graalvm.nativeimage.pointsto/com.oracle.graal.pointsto.flow.TypeFlow.update(TypeFlow.java:562)\r\n            at org.graalvm.nativeimage.pointsto/com.oracle.graal.pointsto.PointsToAnalysis$1.run(PointsToAnalysis.java:488)\r\n            at org.graalvm.nativeimage.pointsto/com.oracle.graal.pointsto.util.CompletionExecutor.executeCommand(CompletionExecutor.java:193)\r\n            at org.graalvm.nativeimage.pointsto/com.oracle.graal.pointsto.util.CompletionExecutor.lambda$executeService$0(CompletionExecutor.java:177)\r\n            at java.base/java.util.concurrent.ForkJoinTask$RunnableExecuteAction.exec(ForkJoinTask.java:1395)\r\n            at java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:373)\r\n            at java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1182)\r\n            at java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1655)\r\n            at java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1622)\r\n            at java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:165)\r\n    Caused by: com.oracle.graal.pointsto.constraints.UnsupportedFeatureException: No instances of org.slf4j.simple.SimpleLogger are allowed in the image heap as this class should be initialized at image runtime. To see how this object got instantiated use --trace-object-instantiation=org.slf4j.simple.SimpleLogger.\r\n            at org.graalvm.nativeimage.builder/com.oracle.svm.hosted.classinitialization.ClassInitializationFeature.checkImageHeapInstance(ClassInitializationFeature.java:132)\r\n            at org.graalvm.nativeimage.pointsto/com.oracle.graal.pointsto.meta.AnalysisUniverse.replaceObject(AnalysisUniverse.java:595)\r\n            at org.graalvm.nativeimage.builder/com.oracle.svm.hosted.ameta.AnalysisConstantReflectionProvider.replaceObject(AnalysisConstantReflectionProvider.java:177)\r\n            at org.graalvm.nativeimage.builder/com.oracle.svm.hosted.ameta.AnalysisConstantReflectionProvider.interceptValue(AnalysisConstantReflectionProvider.java:148)\r\n            at org.graalvm.nativeimage.builder/com.oracle.svm.hosted.ameta.AnalysisConstantReflectionProvider.readValue(AnalysisConstantReflectionProvider.java:100)\r\n            at org.graalvm.nativeimage.builder/com.oracle.svm.hosted.ameta.AnalysisConstantReflectionProvider.readFieldValue(AnalysisConstantReflectionProvider.java:79)\r\n            at jdk.internal.vm.compiler/org.graalvm.compiler.nodes.util.ConstantFoldUtil$1.readValue(ConstantFoldUtil.java:55)\r\n            at jdk.internal.vm.compiler/org.graalvm.compiler.core.common.spi.JavaConstantFieldProvider.readConstantField(JavaConstantFieldProvider.java:78)\r\n            at org.graalvm.nativeimage.builder/com.oracle.svm.hosted.ameta.AnalysisConstantFieldProvider.readConstantField(AnalysisConstantFieldProvider.java:72)\r\n            at jdk.internal.vm.compiler/org.graalvm.compiler.nodes.util.ConstantFoldUtil.tryConstantFold(ConstantFoldUtil.java:51)\r\n            at jdk.internal.vm.compiler/org.graalvm.compiler.nodes.java.LoadFieldNode.asConstant(LoadFieldNode.java:178)\r\n            at jdk.internal.vm.compiler/org.graalvm.compiler.nodes.java.LoadFieldNode.canonical(LoadFieldNode.java:144)\r\n            at jdk.internal.vm.compiler/org.graalvm.compiler.nodes.java.LoadFieldNode.canonical(LoadFieldNode.java:135)\r\n            at jdk.internal.vm.compiler/org.graalvm.compiler.nodes.java.LoadFieldNode.canonical(LoadFieldNode.java:72)\r\n            at jdk.internal.vm.compiler/org.graalvm.compiler.nodes.spi.Canonicalizable$Unary.canonical(Canonicalizable.java:101)\r\n            at jdk.internal.vm.compiler/org.graalvm.compiler.nodes.SimplifyingGraphDecoder.canonicalizeFixedNode(SimplifyingGraphDecoder.java:214)\r\n            at jdk.internal.vm.compiler/org.graalvm.compiler.replacements.PEGraphDecoder.canonicalizeFixedNode(PEGraphDecoder.java:1572)\r\n            at org.graalvm.nativeimage.pointsto/com.oracle.graal.pointsto.phases.InlineBeforeAnalysisGraphDecoder.canonicalizeFixedNode(InlineBeforeAnalysis.java:192)\r\n            at jdk.internal.vm.compiler/org.graalvm.compiler.nodes.SimplifyingGraphDecoder.handleFixedNode(SimplifyingGraphDecoder.java:193)\r\n            at jdk.internal.vm.compiler/org.graalvm.compiler.nodes.GraphDecoder.processNextNode(GraphDecoder.java:821)\r\n            at org.graalvm.nativeimage.pointsto/com.oracle.graal.pointsto.phases.InlineBeforeAnalysisGraphDecoder.processNextNode(InlineBeforeAnalysis.java:240)\r\n            at jdk.internal.vm.compiler/org.graalvm.compiler.nodes.GraphDecoder.decode(GraphDecoder.java:548)\r\n            at jdk.internal.vm.compiler/org.graalvm.compiler.replacements.PEGraphDecoder.decode(PEGraphDecoder.java:833)\r\n            at org.graalvm.nativeimage.pointsto/com.oracle.graal.pointsto.phases.InlineBeforeAnalysis.decodeGraph(InlineBeforeAnalysis.java:98)\r\n            at org.graalvm.nativeimage.pointsto/com.oracle.graal.pointsto.flow.MethodTypeFlowBuilder.parse(MethodTypeFlowBuilder.java:179)\r\n            at org.graalvm.nativeimage.pointsto/com.oracle.graal.pointsto.flow.MethodTypeFlowBuilder.apply(MethodTypeFlowBuilder.java:349)\r\n            at org.graalvm.nativeimage.pointsto/com.oracle.graal.pointsto.flow.MethodTypeFlow.createFlowsGraph(MethodTypeFlow.java:93)\r\n            ... 13 more\r\n    ------------------------------------------------------------------------------------------------------------------------\r\n                            1.6s (3.7% of total time) in 12 GCs | Peak RSS: 0.68GB | CPU load: 1.89\r\n    ========================================================================================================================\r\n    Failed generating &#39;myapp&#39; after 42.6s.\r\n    Error: Image build request failed with exit status 1\r\n\r\nI saw there is [a similar issue at GitHub][1], it was closed in 2020, with a comment &quot;*Please use a more recent version of Netty, the latest release is recommended. It should contain all the necessary support code for building Native Image.*&quot; Now is Jan 2023 and I still got the above problem.\r\n\r\n\r\n  [1]: https://github.com/oracle/graal/issues/2643","title":"GraalVM native image-image build error, report &#39;Error encountered while parsing io.netty.channel.nio.NioEventLoop.openSelector()&#39;","body":"<p>Native image building environment: <code>CentOS Linux release 7.9.2009 (Core)</code>, <code>graalvm-ce-java17-22.3.0</code>. The jar file is built by <code>Zulu 17.0.5+8</code> (also tried 1.8) with NetBeans 15 on Windows 10. Netty dependencies:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;io.netty&lt;/groupId&gt;\n        &lt;artifactId&gt;netty-buffer&lt;/artifactId&gt;\n        &lt;version&gt;4.1.86.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.netty&lt;/groupId&gt;\n        &lt;artifactId&gt;netty-handler&lt;/artifactId&gt;\n        &lt;version&gt;4.1.86.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.netty&lt;/groupId&gt;\n        &lt;artifactId&gt;netty-codec-http&lt;/artifactId&gt;\n        &lt;version&gt;4.1.86.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.netty.incubator&lt;/groupId&gt;\n        &lt;artifactId&gt;netty-incubator-codec-native-quic&lt;/artifactId&gt;\n        &lt;version&gt;0.0.35.Final&lt;/version&gt;\n        &lt;classifier&gt;linux-x86_64&lt;/classifier&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Error Message:</p>\n<pre><code>[root@secure-baud-2 ~]# native-image -jar myapp-1.0-jar-with-dependencies.jar myapp\n========================================================================================================================\nGraalVM Native Image: Generating 'myapp' (executable)...\n========================================================================================================================\nWarning: Could not register io.netty.handler.codec.compression.Lz4FrameDecoder: queryAllPublicMethods for reflection. Reason: java.lang.NoClassDefFoundError: net/jpountz/lz4/LZ4Exception.\nWarning: Could not register io.netty.handler.codec.compression.Lz4FrameEncoder: queryAllPublicMethods for reflection. Reason: java.lang.NoClassDefFoundError: net/jpountz/lz4/LZ4Exception.\nWarning: Could not register io.netty.handler.codec.marshalling.CompatibleMarshallingDecoder: queryAllPublicMethods for reflection. Reason: java.lang.NoClassDefFoundError: org/jboss/marshalling/ByteInput.\nWarning: Could not register io.netty.handler.codec.marshalling.CompatibleMarshallingEncoder: queryAllPublicMethods for reflection. Reason: java.lang.NoClassDefFoundError: org/jboss/marshalling/ByteOutput.\nWarning: Could not register io.netty.handler.codec.marshalling.MarshallingDecoder: queryAllPublicMethods for reflection. Reason: java.lang.NoClassDefFoundError: org/jboss/marshalling/ByteInput.\nWarning: Could not register io.netty.handler.codec.marshalling.MarshallingEncoder: queryAllPublicMethods for reflection. Reason: java.lang.NoClassDefFoundError: org/jboss/marshalling/ByteOutput.\nWarning: Could not register io.netty.handler.codec.protobuf.ProtobufDecoder: queryAllPublicMethods for reflection. Reason: java.lang.NoClassDefFoundError: com/google/protobuf/ExtensionRegistryLite.\nWarning: Could not register io.netty.handler.codec.compression.Lz4FrameDecoder: queryAllPublicMethods for reflection. Reason: java.lang.NoClassDefFoundError: net/jpountz/lz4/LZ4Exception.\nWarning: Could not register io.netty.handler.codec.compression.Lz4FrameEncoder: queryAllPublicMethods for reflection. Reason: java.lang.NoClassDefFoundError: net/jpountz/lz4/LZ4Exception.\nWarning: Could not register io.netty.handler.codec.marshalling.CompatibleMarshallingDecoder: queryAllPublicMethods for reflection. Reason: java.lang.NoClassDefFoundError: org/jboss/marshalling/ByteInput.\nWarning: Could not register io.netty.handler.codec.marshalling.CompatibleMarshallingEncoder: queryAllPublicMethods for reflection. Reason: java.lang.NoClassDefFoundError: org/jboss/marshalling/ByteOutput.\nWarning: Could not register io.netty.handler.codec.marshalling.MarshallingDecoder: queryAllPublicMethods for reflection. Reason: java.lang.NoClassDefFoundError: org/jboss/marshalling/ByteInput.\nWarning: Could not register io.netty.handler.codec.marshalling.MarshallingEncoder: queryAllPublicMethods for reflection. Reason: java.lang.NoClassDefFoundError: org/jboss/marshalling/ByteOutput.\nWarning: Could not register io.netty.handler.codec.protobuf.ProtobufDecoder: queryAllPublicMethods for reflection. Reason: java.lang.NoClassDefFoundError: com/google/protobuf/ExtensionRegistryLite.\n[1/7] Initializing...                                                                                   (20.5s @ 0.24GB)\n Version info: 'GraalVM 22.3.0 Java 17 CE'\n Java version info: '17.0.5+8-jvmci-22.3-b08'\n C compiler: gcc (redhat, x86_64, 4.8.5)\n Garbage collector: Serial GC\n[2/7] Performing analysis...  []                                                                        (20.9s @ 0.18GB)\n   1,273 (57.47%) of  2,215 classes reachable\n     836 (28.14%) of  2,971 fields reachable\n   3,577 (51.30%) of  6,973 methods reachable\n      23 classes,     0 fields, and     0 methods registered for reflection\n\nFatal error: com.oracle.graal.pointsto.util.AnalysisError$ParsingError: Error encountered while parsing io.netty.channel.nio.NioEventLoop.openSelector()\nParsing context:\n   at io.netty.channel.nio.NioEventLoop.openSelector(NioEventLoop.java:177)\n   at io.netty.channel.nio.NioEventLoop.&lt;init&gt;(NioEventLoop.java:146)\n   at io.netty.channel.nio.NioEventLoopGroup.newChild(NioEventLoopGroup.java:183)\n   at io.netty.channel.nio.NioEventLoopGroup.newChild(NioEventLoopGroup.java:38)\n   at io.netty.util.concurrent.MultithreadEventExecutorGroup.&lt;init&gt;(MultithreadEventExecutorGroup.java:84)\n   at io.netty.util.concurrent.MultithreadEventExecutorGroup.&lt;init&gt;(MultithreadEventExecutorGroup.java:60)\n\n        at org.graalvm.nativeimage.pointsto/com.oracle.graal.pointsto.util.AnalysisError.parsingError(AnalysisError.java:153)\n        at org.graalvm.nativeimage.pointsto/com.oracle.graal.pointsto.flow.MethodTypeFlow.createFlowsGraph(MethodTypeFlow.java:104)\n        at org.graalvm.nativeimage.pointsto/com.oracle.graal.pointsto.flow.MethodTypeFlow.ensureFlowsGraphCreated(MethodTypeFlow.java:83)\n        at org.graalvm.nativeimage.pointsto/com.oracle.graal.pointsto.flow.MethodTypeFlow.getOrCreateMethodFlowsGraph(MethodTypeFlow.java:65)\n        at org.graalvm.nativeimage.pointsto/com.oracle.graal.pointsto.typestate.DefaultSpecialInvokeTypeFlow.onObservedUpdate(DefaultSpecialInvokeTypeFlow.java:61)\n        at org.graalvm.nativeimage.pointsto/com.oracle.graal.pointsto.flow.TypeFlow.update(TypeFlow.java:562)\n        at org.graalvm.nativeimage.pointsto/com.oracle.graal.pointsto.PointsToAnalysis$1.run(PointsToAnalysis.java:488)\n        at org.graalvm.nativeimage.pointsto/com.oracle.graal.pointsto.util.CompletionExecutor.executeCommand(CompletionExecutor.java:193)\n        at org.graalvm.nativeimage.pointsto/com.oracle.graal.pointsto.util.CompletionExecutor.lambda$executeService$0(CompletionExecutor.java:177)\n        at java.base/java.util.concurrent.ForkJoinTask$RunnableExecuteAction.exec(ForkJoinTask.java:1395)\n        at java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:373)\n        at java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1182)\n        at java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1655)\n        at java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1622)\n        at java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:165)\nCaused by: com.oracle.graal.pointsto.constraints.UnsupportedFeatureException: No instances of org.slf4j.simple.SimpleLogger are allowed in the image heap as this class should be initialized at image runtime. To see how this object got instantiated use --trace-object-instantiation=org.slf4j.simple.SimpleLogger.\n        at org.graalvm.nativeimage.builder/com.oracle.svm.hosted.classinitialization.ClassInitializationFeature.checkImageHeapInstance(ClassInitializationFeature.java:132)\n        at org.graalvm.nativeimage.pointsto/com.oracle.graal.pointsto.meta.AnalysisUniverse.replaceObject(AnalysisUniverse.java:595)\n        at org.graalvm.nativeimage.builder/com.oracle.svm.hosted.ameta.AnalysisConstantReflectionProvider.replaceObject(AnalysisConstantReflectionProvider.java:177)\n        at org.graalvm.nativeimage.builder/com.oracle.svm.hosted.ameta.AnalysisConstantReflectionProvider.interceptValue(AnalysisConstantReflectionProvider.java:148)\n        at org.graalvm.nativeimage.builder/com.oracle.svm.hosted.ameta.AnalysisConstantReflectionProvider.readValue(AnalysisConstantReflectionProvider.java:100)\n        at org.graalvm.nativeimage.builder/com.oracle.svm.hosted.ameta.AnalysisConstantReflectionProvider.readFieldValue(AnalysisConstantReflectionProvider.java:79)\n        at jdk.internal.vm.compiler/org.graalvm.compiler.nodes.util.ConstantFoldUtil$1.readValue(ConstantFoldUtil.java:55)\n        at jdk.internal.vm.compiler/org.graalvm.compiler.core.common.spi.JavaConstantFieldProvider.readConstantField(JavaConstantFieldProvider.java:78)\n        at org.graalvm.nativeimage.builder/com.oracle.svm.hosted.ameta.AnalysisConstantFieldProvider.readConstantField(AnalysisConstantFieldProvider.java:72)\n        at jdk.internal.vm.compiler/org.graalvm.compiler.nodes.util.ConstantFoldUtil.tryConstantFold(ConstantFoldUtil.java:51)\n        at jdk.internal.vm.compiler/org.graalvm.compiler.nodes.java.LoadFieldNode.asConstant(LoadFieldNode.java:178)\n        at jdk.internal.vm.compiler/org.graalvm.compiler.nodes.java.LoadFieldNode.canonical(LoadFieldNode.java:144)\n        at jdk.internal.vm.compiler/org.graalvm.compiler.nodes.java.LoadFieldNode.canonical(LoadFieldNode.java:135)\n        at jdk.internal.vm.compiler/org.graalvm.compiler.nodes.java.LoadFieldNode.canonical(LoadFieldNode.java:72)\n        at jdk.internal.vm.compiler/org.graalvm.compiler.nodes.spi.Canonicalizable$Unary.canonical(Canonicalizable.java:101)\n        at jdk.internal.vm.compiler/org.graalvm.compiler.nodes.SimplifyingGraphDecoder.canonicalizeFixedNode(SimplifyingGraphDecoder.java:214)\n        at jdk.internal.vm.compiler/org.graalvm.compiler.replacements.PEGraphDecoder.canonicalizeFixedNode(PEGraphDecoder.java:1572)\n        at org.graalvm.nativeimage.pointsto/com.oracle.graal.pointsto.phases.InlineBeforeAnalysisGraphDecoder.canonicalizeFixedNode(InlineBeforeAnalysis.java:192)\n        at jdk.internal.vm.compiler/org.graalvm.compiler.nodes.SimplifyingGraphDecoder.handleFixedNode(SimplifyingGraphDecoder.java:193)\n        at jdk.internal.vm.compiler/org.graalvm.compiler.nodes.GraphDecoder.processNextNode(GraphDecoder.java:821)\n        at org.graalvm.nativeimage.pointsto/com.oracle.graal.pointsto.phases.InlineBeforeAnalysisGraphDecoder.processNextNode(InlineBeforeAnalysis.java:240)\n        at jdk.internal.vm.compiler/org.graalvm.compiler.nodes.GraphDecoder.decode(GraphDecoder.java:548)\n        at jdk.internal.vm.compiler/org.graalvm.compiler.replacements.PEGraphDecoder.decode(PEGraphDecoder.java:833)\n        at org.graalvm.nativeimage.pointsto/com.oracle.graal.pointsto.phases.InlineBeforeAnalysis.decodeGraph(InlineBeforeAnalysis.java:98)\n        at org.graalvm.nativeimage.pointsto/com.oracle.graal.pointsto.flow.MethodTypeFlowBuilder.parse(MethodTypeFlowBuilder.java:179)\n        at org.graalvm.nativeimage.pointsto/com.oracle.graal.pointsto.flow.MethodTypeFlowBuilder.apply(MethodTypeFlowBuilder.java:349)\n        at org.graalvm.nativeimage.pointsto/com.oracle.graal.pointsto.flow.MethodTypeFlow.createFlowsGraph(MethodTypeFlow.java:93)\n        ... 13 more\n------------------------------------------------------------------------------------------------------------------------\n                        1.6s (3.7% of total time) in 12 GCs | Peak RSS: 0.68GB | CPU load: 1.89\n========================================================================================================================\nFailed generating 'myapp' after 42.6s.\nError: Image build request failed with exit status 1\n</code></pre>\n<p>I saw there is <a href=\"https://github.com/oracle/graal/issues/2643\" rel=\"nofollow noreferrer\">a similar issue at GitHub</a>, it was closed in 2020, with a comment &quot;<em>Please use a more recent version of Netty, the latest release is recommended. It should contain all the necessary support code for building Native Image.</em>&quot; Now is Jan 2023 and I still got the above problem.</p>\n"},{"tags":["java","mysql","spring-boot","api","jpa"],"comments":[{"owner":{"account_id":18006411,"reputation":868,"user_id":13087086,"display_name":"mr.loop"},"score":0,"creation_date":1673023390,"post_id":75033446,"comment_id":132411357,"body_markdown":"Is ` if (product.isPresent()) {` working properly in orderService.java. Try logging the value before the `if` block","body":"Is ` if (product.isPresent()) {` working properly in orderService.java. Try logging the value before the <code>if</code> block"},{"owner":{"account_id":14535295,"reputation":87,"user_id":10498869,"display_name":"Dadinho2000"},"score":0,"creation_date":1673023484,"post_id":75033446,"comment_id":132411396,"body_markdown":"How ? Didn&#39;t understand, sorry","body":"How ? Didn&#39;t understand, sorry"},{"owner":{"account_id":18559672,"reputation":300,"user_id":13523946,"display_name":"notAPPP"},"score":0,"creation_date":1673023632,"post_id":75033446,"comment_id":132411445,"body_markdown":"Where you check if product exist?","body":"Where you check if product exist?"}],"answers":[{"comments":[{"owner":{"account_id":14535295,"reputation":87,"user_id":10498869,"display_name":"Dadinho2000"},"score":0,"creation_date":1673023806,"post_id":75033787,"comment_id":132411507,"body_markdown":"Okay, yeah, I thought about that and managed to do it, it seems it is solved now !! Updated","body":"Okay, yeah, I thought about that and managed to do it, it seems it is solved now !! Updated"}],"tags":[],"owner":{"account_id":18006411,"reputation":868,"user_id":13087086,"display_name":"mr.loop"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1673023739,"creation_date":1673023739,"answer_id":75033787,"question_id":75033446,"body_markdown":"The only place where you are checking (and need to check) whether the product exists or not is in this block\r\n```\r\npublic float getCartAmount(List&lt;ShoppingCart&gt; shoppingCartList) {\r\n\r\n        float totalCartAmount = 0f;\r\n        float singleCartAmount = 0f;\r\n\r\n        for (ShoppingCart cart : shoppingCartList) {\r\n\r\n            String cloudProductName = cart.getProductName();\r\n            Optional&lt;CloudProduct&gt; product = cloudProductRepository.findByProductName(cloudProductName);\r\n            if (product.isPresent()) {\r\n                CloudProduct cloudproduct = product.get();\r\n                singleCartAmount = cart.getQuantity() * cloudproduct.getpriceInEuros();\r\n                \r\n                totalCartAmount = totalCartAmount + singleCartAmount;\r\n                cart.setProductId(cloudproduct.getProductId());\r\n                cart.setAmount(singleCartAmount);\r\n                cloudProductRepository.save(cloudproduct);\r\n            }\r\n        }\r\n        return totalCartAmount;\r\n    }\r\n```\r\nHere you are fetching the `productId` and `amount` from the database.\r\n\r\nIf product doesn&#39;t exist, then `if (product.isPresent()) ` block is not executed but the function `getCartAmount` **still returns normally** i.e. `cart.setProductId` and `cart.setAmount` are not executed and hence are null in your feed.\r\n\r\nTry an else with this if block\r\n```\r\nelse {\r\n// throw error\r\n}\r\n```","title":"Order being placed with an unexistent product","body":"<p>The only place where you are checking (and need to check) whether the product exists or not is in this block</p>\n<pre><code>public float getCartAmount(List&lt;ShoppingCart&gt; shoppingCartList) {\n\n        float totalCartAmount = 0f;\n        float singleCartAmount = 0f;\n\n        for (ShoppingCart cart : shoppingCartList) {\n\n            String cloudProductName = cart.getProductName();\n            Optional&lt;CloudProduct&gt; product = cloudProductRepository.findByProductName(cloudProductName);\n            if (product.isPresent()) {\n                CloudProduct cloudproduct = product.get();\n                singleCartAmount = cart.getQuantity() * cloudproduct.getpriceInEuros();\n                \n                totalCartAmount = totalCartAmount + singleCartAmount;\n                cart.setProductId(cloudproduct.getProductId());\n                cart.setAmount(singleCartAmount);\n                cloudProductRepository.save(cloudproduct);\n            }\n        }\n        return totalCartAmount;\n    }\n</code></pre>\n<p>Here you are fetching the <code>productId</code> and <code>amount</code> from the database.</p>\n<p>If product doesn't exist, then <code>if (product.isPresent()) </code> block is not executed but the function <code>getCartAmount</code> <strong>still returns normally</strong> i.e. <code>cart.setProductId</code> and <code>cart.setAmount</code> are not executed and hence are null in your feed.</p>\n<p>Try an else with this if block</p>\n<pre><code>else {\n// throw error\n}\n</code></pre>\n"}],"owner":{"account_id":14535295,"reputation":87,"user_id":10498869,"display_name":"Dadinho2000"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75033787,"answer_count":1,"score":2,"last_activity_date":1673023825,"creation_date":1673021973,"question_id":75033446,"body_markdown":"So, my code runs just fine, but I&#39;m now aware of something that is not supposed to happen.\r\nWhenever I create an order, with an unexisting product,like this :\r\n ```\r\n{\r\n&quot;cartItems&quot;: [\r\n     {\r\n         &quot;productName&quot;: &quot;teste52&quot;,\r\n         &quot;quantity&quot;: 7\r\n     }\r\n ],\r\n &quot;userEmail&quot;: &quot;nemsei@gmail22.com&quot;\r\n}\r\n```\r\n\r\nit just creates the order like this:\r\n\r\n    {\r\n    &quot;id&quot;: 1,\r\n    &quot;user&quot;: {\r\n        &quot;userId&quot;: 1,\r\n        &quot;userName&quot;: null,\r\n        &quot;email&quot;: &quot;nemsei@gmail22.com&quot;\r\n    },\r\n    &quot;cartItems&quot;: [\r\n        {\r\n            &quot;id&quot;: 1,\r\n            &quot;productId&quot;: null,\r\n            &quot;productName&quot;: &quot;teste52&quot;,\r\n            &quot;quantity&quot;: 7,\r\n            &quot;amount&quot;: 0.0\r\n        }\r\n    ],\r\n    &quot;createdAt&quot;: &quot;2023-01-06&quot;\r\n    }\r\nIt is supposed to give an error, because the product with the name &quot;teste52&quot; doesn&#39;t exist but instead, it&#39;s creating that order, even without that product.\r\nMy order.java\r\n```\r\npackage com.proj.my.model;\r\nimport java.time.LocalDate;\r\nimport java.util.List;\r\n\r\nimport org.hibernate.annotations.CreationTimestamp;\r\nimport org.springframework.data.jpa.domain.support.AuditingEntityListener;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonIgnoreProperties;\r\n\r\nimport jakarta.persistence.CascadeType;\r\nimport jakarta.persistence.Column;\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.EntityListeners;\r\nimport jakarta.persistence.FetchType;\r\nimport jakarta.persistence.GeneratedValue;\r\nimport jakarta.persistence.GenerationType;\r\nimport jakarta.persistence.Id;\r\nimport jakarta.persistence.JoinColumn;\r\nimport jakarta.persistence.OneToMany;\r\nimport jakarta.persistence.OneToOne;\r\nimport jakarta.persistence.Table;\r\nimport lombok.ToString;\r\n\r\n@ToString\r\n@Entity\r\n@Table(name = &quot;myorder&quot;)\r\n@EntityListeners(AuditingEntityListener.class)\r\n@JsonIgnoreProperties(value = {&quot;createdAt&quot;}, \r\n    allowGetters = true)  \r\npublic class Order {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private int id;\r\n    \r\n    @OneToOne(cascade = CascadeType.MERGE)\r\n    @JoinColumn(name = &quot;userId&quot;)\r\n    private User user;\r\n\r\n\r\n    @OneToMany(fetch = FetchType.EAGER, cascade = CascadeType.ALL, targetEntity = ShoppingCart.class)\r\n    @JoinColumn(name = &quot;order_id&quot;)\r\n    private List&lt;ShoppingCart&gt; cartItems;\r\n    @CreationTimestamp\r\n    @Column(updatable = false, name = &quot;createdAt&quot;)\r\n    private LocalDate createdAt;\r\n\r\n    public LocalDate getCreatedAt() {\r\n        return createdAt;\r\n    }\r\n\r\n    public void setCreatedAt(LocalDate createdAt) {\r\n        this.createdAt = createdAt;\r\n    }\r\n\r\n    public Order() {\r\n    }\r\n\r\n    public Order(User user, LocalDate createdAt, List&lt;ShoppingCart&gt; cartItems) {\r\n        this.user = user;\r\n        this.cartItems = cartItems;\r\n        this.createdAt = createdAt;\r\n    }\r\n\r\n    public Order(int Id, LocalDate createdAt, List&lt;ShoppingCart&gt; cartItems) {\r\n        this.cartItems = cartItems;\r\n        this.createdAt =  createdAt;\r\n        this.id = Id;\r\n    }\r\n\r\n    public int getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(int id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public User getUser() {\r\n        return user;\r\n    }\r\n\r\n    public void setCustomer(User user) {\r\n        this.user = user;\r\n    }\r\n\r\n    public List&lt;ShoppingCart&gt; getCartItems() {\r\n        return cartItems;\r\n    }\r\n\r\n    public void setCartItems(List&lt;ShoppingCart&gt; cartItems) {\r\n        this.cartItems = cartItems;\r\n    }\r\n}\r\n\r\n```\r\n\r\nMy orderService.java\r\n```\r\npackage com.proj.my.service;\r\n\r\nimport com.proj.my.model.Order;\r\nimport com.proj.my.model.CloudProduct;\r\nimport com.proj.my.model.ShoppingCart;\r\nimport com.proj.my.repository.OrderRepository;\r\nimport com.proj.my.repository.CloudProductRepository;\r\n\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport java.time.LocalDate;\r\nimport java.util.List;\r\nimport java.util.Optional;\r\n\r\n@Service\r\npublic class OrderService {\r\n\r\n    private OrderRepository orderRepository;\r\n    private CloudProductRepository cloudProductRepository;\r\n\r\n    public OrderService(OrderRepository orderRepository, CloudProductRepository cloudProductRepository) {\r\n        this.orderRepository = orderRepository;\r\n        this.cloudProductRepository = cloudProductRepository;\r\n    }\r\n\r\n    public Order getOrderDetail(int orderId) {\r\n        Optional&lt;Order&gt; order = this.orderRepository.findById(orderId);\r\n        return order.isPresent() ? order.get() : null;\r\n    }\r\n    \r\n   public List&lt;Order&gt; getAllOrderDetail(LocalDate yesterday, LocalDate today) {\r\n        today = LocalDate.now();\r\n        yesterday = today.minusDays(1);\r\n        return orderRepository.findAllByCreatedAtBetween(yesterday, today);\r\n    }\r\n\r\n    public float getCartAmount(List&lt;ShoppingCart&gt; shoppingCartList) {\r\n\r\n        float totalCartAmount = 0f;\r\n        float singleCartAmount = 0f;\r\n\r\n        for (ShoppingCart cart : shoppingCartList) {\r\n\r\n            String cloudProductName = cart.getProductName();\r\n            Optional&lt;CloudProduct&gt; product = cloudProductRepository.findByProductName(cloudProductName);\r\n            if (product.isPresent()) {\r\n                CloudProduct cloudproduct = product.get();\r\n                singleCartAmount = cart.getQuantity() * cloudproduct.getpriceInEuros();\r\n                \r\n                totalCartAmount = totalCartAmount + singleCartAmount;\r\n                cart.setProductId(cloudproduct.getProductId());\r\n                cart.setAmount(singleCartAmount);\r\n                cloudProductRepository.save(cloudproduct);\r\n            }\r\n        }\r\n        return totalCartAmount;\r\n    }\r\n\r\n    public Order saveOrder(Order order) {\r\n        return orderRepository.save(order);\r\n    }\r\n}\r\n\r\n```\r\n\r\nMy orderDTO.java\r\n```\r\npackage com.proj.my.dto;\r\n\r\nimport com.proj.my.model.ShoppingCart;\r\n\r\nimport java.util.List;\r\n\r\npublic class OrderDTO {\r\n\r\n    private List&lt;ShoppingCart&gt; cartItems;\r\n    private String userEmail;\r\n    private String userName;\r\n\r\n    public OrderDTO() {\r\n    }\r\n\r\n    public OrderDTO(List&lt;ShoppingCart&gt; cartItems, String userEmail, String userName) {\r\n        this.cartItems = cartItems;\r\n        this.userEmail = userEmail;\r\n        this.userName = userName;\r\n    }\r\n    public List&lt;ShoppingCart&gt; getCartItems() {\r\n        return cartItems;\r\n    }\r\n\r\n    public void setCartItems(List&lt;ShoppingCart&gt; cartItems) {\r\n        this.cartItems = cartItems;\r\n    }\r\n\r\n    public String getuserEmail() {\r\n        return userEmail;\r\n    }\r\n\r\n    public void setuserEmail(String userEmail) {\r\n        this.userEmail = userEmail;\r\n    }\r\n\r\n    public String getuserName() {\r\n        return userName;\r\n    }\r\n\r\n    public void setuserName(String userName) {\r\n        this.userName = userName;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;OrderDTO{&quot; +\r\n                &quot;, cartItems=&quot; + cartItems +\r\n                &quot;, userEmail=&#39;&quot; + userEmail + &#39;\\&#39;&#39; +\r\n                &quot;, userName=&#39;&quot; + userName + &#39;\\&#39;&#39; +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n\r\n```\r\n\r\nMy orderController.java\r\n```\r\npackage com.proj.my.controller;\r\n\r\nimport java.time.LocalDate;\r\nimport java.util.List;\r\nimport java.util.Optional;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.PathVariable;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport com.proj.my.dto.OrderDTO;\r\nimport com.proj.my.dto.ResponseOrderDTO;\r\nimport com.proj.my.model.CloudProduct;\r\nimport com.proj.my.model.Order;\r\nimport com.proj.my.model.ShoppingCart;\r\nimport com.proj.my.model.User;\r\nimport com.proj.my.repository.CloudProductRepository;\r\nimport com.proj.my.service.CloudProductService;\r\nimport com.proj.my.service.OrderService;\r\nimport com.proj.my.service.UserService;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/api&quot;)\r\npublic class OrderController {\r\n\r\n    private OrderService orderService;\r\n    private CloudProductService cloudProductService;\r\n    private UserService userService;\r\n    @Autowired\r\n    private CloudProductRepository cloudProductRepository;\r\n\r\n\r\n    public OrderController(OrderService orderService, CloudProductService cloudProductService, UserService userService) {\r\n        this.orderService = orderService;\r\n        this.cloudProductService = cloudProductService;\r\n        this.userService = userService;\r\n    }\r\n\r\n    @GetMapping(value = &quot;/getOrder/{orderId}&quot;)\r\n    public ResponseEntity&lt;Order&gt; getOrderDetails(@PathVariable int orderId) {\r\n\r\n        Order order = orderService.getOrderDetail(orderId);\r\n        return ResponseEntity.ok(order);\r\n    }\r\n\r\n    @GetMapping(value = &quot;/getOrders/{dataaa}&quot;)\r\n    public List&lt;Order&gt; getAllOrderDetails(@PathVariable LocalDate dataaa) {\r\n        return orderService.getAllOrderDetail(dataaa);\r\n    }\r\n\r\n    @PostMapping(&quot;/placeOrder&quot;)\r\n    public ResponseEntity&lt;String&gt; placeOrder(@RequestBody OrderDTO orderDTO) {\r\n\r\n        ResponseOrderDTO responseOrderDTO = new ResponseOrderDTO();\r\n        List&lt;ShoppingCart&gt; shoppingCartList = orderDTO.getCartItems();\r\n        ShoppingCart shoppingCart;\r\n        for (ShoppingCart cart : shoppingCartList) {\r\n            String cloudProductName = cart.getProductName();\r\n            Optional&lt;CloudProduct&gt; product = cloudProductRepository.findByProductName(cloudProductName);\r\n            if (product.isPresent()){\r\n                float amount = orderService.getCartAmount(orderDTO.getCartItems());\r\n\r\n                User user = new User(orderDTO.getuserEmail());\r\n                \r\n                Integer userIdFromDb = userService.isUserPresent(user);\r\n\r\n                if (userIdFromDb != null) {\r\n                    user.setUserId(userIdFromDb);\r\n                }else{\r\n                    user = userService.createUser(user);\r\n                }\r\n\r\n                LocalDate createdAt = LocalDate.now(); \r\n\r\n                Order order = new Order(user, createdAt, orderDTO.getCartItems());\r\n\r\n                order = orderService.saveOrder(order);\r\n\r\n                responseOrderDTO.setAmount(amount);\r\n\r\n                responseOrderDTO.setDate(com.proj.my.util.DateUtil.getCurrentDateTime());\r\n                \r\n                responseOrderDTO.setOrderId(order.getId());\r\n\r\n\r\n                return new ResponseEntity&lt;&gt;(&quot;Created&quot;, HttpStatus.OK);\r\n            }\r\n            else{\r\n                return new ResponseEntity&lt;&gt;(&quot;Can&#39;t&quot;, HttpStatus.OK);\r\n            }\r\n        }\r\n        return null;\r\n\r\n    }}\r\n```\r\n\r\nWhat can I do so that it gives an error instead of creating such order ?","title":"Order being placed with an unexistent product","body":"<p>So, my code runs just fine, but I'm now aware of something that is not supposed to happen.\nWhenever I create an order, with an unexisting product,like this :</p>\n<pre><code>{\n&quot;cartItems&quot;: [\n    {\n        &quot;productName&quot;: &quot;teste52&quot;,\n        &quot;quantity&quot;: 7\n    }\n],\n&quot;userEmail&quot;: &quot;nemsei@gmail22.com&quot;\n}\n</code></pre>\n<p>it just creates the order like this:</p>\n<pre><code>{\n&quot;id&quot;: 1,\n&quot;user&quot;: {\n    &quot;userId&quot;: 1,\n    &quot;userName&quot;: null,\n    &quot;email&quot;: &quot;nemsei@gmail22.com&quot;\n},\n&quot;cartItems&quot;: [\n    {\n        &quot;id&quot;: 1,\n        &quot;productId&quot;: null,\n        &quot;productName&quot;: &quot;teste52&quot;,\n        &quot;quantity&quot;: 7,\n        &quot;amount&quot;: 0.0\n    }\n],\n&quot;createdAt&quot;: &quot;2023-01-06&quot;\n}\n</code></pre>\n<p>It is supposed to give an error, because the product with the name &quot;teste52&quot; doesn't exist but instead, it's creating that order, even without that product.\nMy order.java</p>\n<pre><code>package com.proj.my.model;\nimport java.time.LocalDate;\nimport java.util.List;\n\nimport org.hibernate.annotations.CreationTimestamp;\nimport org.springframework.data.jpa.domain.support.AuditingEntityListener;\n\nimport com.fasterxml.jackson.annotation.JsonIgnoreProperties;\n\nimport jakarta.persistence.CascadeType;\nimport jakarta.persistence.Column;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.EntityListeners;\nimport jakarta.persistence.FetchType;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.JoinColumn;\nimport jakarta.persistence.OneToMany;\nimport jakarta.persistence.OneToOne;\nimport jakarta.persistence.Table;\nimport lombok.ToString;\n\n@ToString\n@Entity\n@Table(name = &quot;myorder&quot;)\n@EntityListeners(AuditingEntityListener.class)\n@JsonIgnoreProperties(value = {&quot;createdAt&quot;}, \n    allowGetters = true)  \npublic class Order {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int id;\n    \n    @OneToOne(cascade = CascadeType.MERGE)\n    @JoinColumn(name = &quot;userId&quot;)\n    private User user;\n\n\n    @OneToMany(fetch = FetchType.EAGER, cascade = CascadeType.ALL, targetEntity = ShoppingCart.class)\n    @JoinColumn(name = &quot;order_id&quot;)\n    private List&lt;ShoppingCart&gt; cartItems;\n    @CreationTimestamp\n    @Column(updatable = false, name = &quot;createdAt&quot;)\n    private LocalDate createdAt;\n\n    public LocalDate getCreatedAt() {\n        return createdAt;\n    }\n\n    public void setCreatedAt(LocalDate createdAt) {\n        this.createdAt = createdAt;\n    }\n\n    public Order() {\n    }\n\n    public Order(User user, LocalDate createdAt, List&lt;ShoppingCart&gt; cartItems) {\n        this.user = user;\n        this.cartItems = cartItems;\n        this.createdAt = createdAt;\n    }\n\n    public Order(int Id, LocalDate createdAt, List&lt;ShoppingCart&gt; cartItems) {\n        this.cartItems = cartItems;\n        this.createdAt =  createdAt;\n        this.id = Id;\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public User getUser() {\n        return user;\n    }\n\n    public void setCustomer(User user) {\n        this.user = user;\n    }\n\n    public List&lt;ShoppingCart&gt; getCartItems() {\n        return cartItems;\n    }\n\n    public void setCartItems(List&lt;ShoppingCart&gt; cartItems) {\n        this.cartItems = cartItems;\n    }\n}\n\n</code></pre>\n<p>My orderService.java</p>\n<pre><code>package com.proj.my.service;\n\nimport com.proj.my.model.Order;\nimport com.proj.my.model.CloudProduct;\nimport com.proj.my.model.ShoppingCart;\nimport com.proj.my.repository.OrderRepository;\nimport com.proj.my.repository.CloudProductRepository;\n\nimport org.springframework.stereotype.Service;\n\nimport java.time.LocalDate;\nimport java.util.List;\nimport java.util.Optional;\n\n@Service\npublic class OrderService {\n\n    private OrderRepository orderRepository;\n    private CloudProductRepository cloudProductRepository;\n\n    public OrderService(OrderRepository orderRepository, CloudProductRepository cloudProductRepository) {\n        this.orderRepository = orderRepository;\n        this.cloudProductRepository = cloudProductRepository;\n    }\n\n    public Order getOrderDetail(int orderId) {\n        Optional&lt;Order&gt; order = this.orderRepository.findById(orderId);\n        return order.isPresent() ? order.get() : null;\n    }\n    \n   public List&lt;Order&gt; getAllOrderDetail(LocalDate yesterday, LocalDate today) {\n        today = LocalDate.now();\n        yesterday = today.minusDays(1);\n        return orderRepository.findAllByCreatedAtBetween(yesterday, today);\n    }\n\n    public float getCartAmount(List&lt;ShoppingCart&gt; shoppingCartList) {\n\n        float totalCartAmount = 0f;\n        float singleCartAmount = 0f;\n\n        for (ShoppingCart cart : shoppingCartList) {\n\n            String cloudProductName = cart.getProductName();\n            Optional&lt;CloudProduct&gt; product = cloudProductRepository.findByProductName(cloudProductName);\n            if (product.isPresent()) {\n                CloudProduct cloudproduct = product.get();\n                singleCartAmount = cart.getQuantity() * cloudproduct.getpriceInEuros();\n                \n                totalCartAmount = totalCartAmount + singleCartAmount;\n                cart.setProductId(cloudproduct.getProductId());\n                cart.setAmount(singleCartAmount);\n                cloudProductRepository.save(cloudproduct);\n            }\n        }\n        return totalCartAmount;\n    }\n\n    public Order saveOrder(Order order) {\n        return orderRepository.save(order);\n    }\n}\n\n</code></pre>\n<p>My orderDTO.java</p>\n<pre><code>package com.proj.my.dto;\n\nimport com.proj.my.model.ShoppingCart;\n\nimport java.util.List;\n\npublic class OrderDTO {\n\n    private List&lt;ShoppingCart&gt; cartItems;\n    private String userEmail;\n    private String userName;\n\n    public OrderDTO() {\n    }\n\n    public OrderDTO(List&lt;ShoppingCart&gt; cartItems, String userEmail, String userName) {\n        this.cartItems = cartItems;\n        this.userEmail = userEmail;\n        this.userName = userName;\n    }\n    public List&lt;ShoppingCart&gt; getCartItems() {\n        return cartItems;\n    }\n\n    public void setCartItems(List&lt;ShoppingCart&gt; cartItems) {\n        this.cartItems = cartItems;\n    }\n\n    public String getuserEmail() {\n        return userEmail;\n    }\n\n    public void setuserEmail(String userEmail) {\n        this.userEmail = userEmail;\n    }\n\n    public String getuserName() {\n        return userName;\n    }\n\n    public void setuserName(String userName) {\n        this.userName = userName;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;OrderDTO{&quot; +\n                &quot;, cartItems=&quot; + cartItems +\n                &quot;, userEmail='&quot; + userEmail + '\\'' +\n                &quot;, userName='&quot; + userName + '\\'' +\n                '}';\n    }\n}\n\n</code></pre>\n<p>My orderController.java</p>\n<pre><code>package com.proj.my.controller;\n\nimport java.time.LocalDate;\nimport java.util.List;\nimport java.util.Optional;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport com.proj.my.dto.OrderDTO;\nimport com.proj.my.dto.ResponseOrderDTO;\nimport com.proj.my.model.CloudProduct;\nimport com.proj.my.model.Order;\nimport com.proj.my.model.ShoppingCart;\nimport com.proj.my.model.User;\nimport com.proj.my.repository.CloudProductRepository;\nimport com.proj.my.service.CloudProductService;\nimport com.proj.my.service.OrderService;\nimport com.proj.my.service.UserService;\n\n@RestController\n@RequestMapping(&quot;/api&quot;)\npublic class OrderController {\n\n    private OrderService orderService;\n    private CloudProductService cloudProductService;\n    private UserService userService;\n    @Autowired\n    private CloudProductRepository cloudProductRepository;\n\n\n    public OrderController(OrderService orderService, CloudProductService cloudProductService, UserService userService) {\n        this.orderService = orderService;\n        this.cloudProductService = cloudProductService;\n        this.userService = userService;\n    }\n\n    @GetMapping(value = &quot;/getOrder/{orderId}&quot;)\n    public ResponseEntity&lt;Order&gt; getOrderDetails(@PathVariable int orderId) {\n\n        Order order = orderService.getOrderDetail(orderId);\n        return ResponseEntity.ok(order);\n    }\n\n    @GetMapping(value = &quot;/getOrders/{dataaa}&quot;)\n    public List&lt;Order&gt; getAllOrderDetails(@PathVariable LocalDate dataaa) {\n        return orderService.getAllOrderDetail(dataaa);\n    }\n\n    @PostMapping(&quot;/placeOrder&quot;)\n    public ResponseEntity&lt;String&gt; placeOrder(@RequestBody OrderDTO orderDTO) {\n\n        ResponseOrderDTO responseOrderDTO = new ResponseOrderDTO();\n        List&lt;ShoppingCart&gt; shoppingCartList = orderDTO.getCartItems();\n        ShoppingCart shoppingCart;\n        for (ShoppingCart cart : shoppingCartList) {\n            String cloudProductName = cart.getProductName();\n            Optional&lt;CloudProduct&gt; product = cloudProductRepository.findByProductName(cloudProductName);\n            if (product.isPresent()){\n                float amount = orderService.getCartAmount(orderDTO.getCartItems());\n\n                User user = new User(orderDTO.getuserEmail());\n                \n                Integer userIdFromDb = userService.isUserPresent(user);\n\n                if (userIdFromDb != null) {\n                    user.setUserId(userIdFromDb);\n                }else{\n                    user = userService.createUser(user);\n                }\n\n                LocalDate createdAt = LocalDate.now(); \n\n                Order order = new Order(user, createdAt, orderDTO.getCartItems());\n\n                order = orderService.saveOrder(order);\n\n                responseOrderDTO.setAmount(amount);\n\n                responseOrderDTO.setDate(com.proj.my.util.DateUtil.getCurrentDateTime());\n                \n                responseOrderDTO.setOrderId(order.getId());\n\n\n                return new ResponseEntity&lt;&gt;(&quot;Created&quot;, HttpStatus.OK);\n            }\n            else{\n                return new ResponseEntity&lt;&gt;(&quot;Can't&quot;, HttpStatus.OK);\n            }\n        }\n        return null;\n\n    }}\n</code></pre>\n<p>What can I do so that it gives an error instead of creating such order ?</p>\n"},{"tags":["java","groovy","locale"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1672942126,"post_id":75022318,"comment_id":132392171,"body_markdown":"Interestingly, if you copied and pasted from your terminal, GefaÌhrlichkeit.docx has its a umlaut as two separate characters, which can happen sometimes. What, in the terminal, is the output of `ls *rlichkeit.docx`?","body":"Interestingly, if you copied and pasted from your terminal, GefaÌhrlichkeit.docx has its a umlaut as two separate characters, which can happen sometimes. What, in the terminal, is the output of <code>ls *rlichkeit.docx</code>?"},{"owner":{"account_id":1333316,"reputation":26958,"user_id":1276664,"accept_rate":17,"display_name":"daggett"},"score":0,"creation_date":1672952173,"post_id":75022318,"comment_id":132395144,"body_markdown":"What if you print name with and without getAbsoluteFile()? 2 bytes means utf-8 but if you still see 2 bytes in terminal - it&#39;s wrong.","body":"What if you print name with and without getAbsoluteFile()? 2 bytes means utf-8 but if you still see 2 bytes in terminal - it&#39;s wrong."},{"owner":{"account_id":1857554,"reputation":20310,"user_id":1682820,"accept_rate":70,"display_name":"injecteer"},"score":0,"creation_date":1672960492,"post_id":75022318,"comment_id":132397176,"body_markdown":"why do you need to check for existence of files, which are returned by file iterating methods? if files are returned, they DO exist by definition...","body":"why do you need to check for existence of files, which are returned by file iterating methods? if files are returned, they DO exist by definition..."},{"owner":{"account_id":20112608,"reputation":86,"user_id":14748724,"display_name":"Dirk27"},"score":0,"creation_date":1672992666,"post_id":75022318,"comment_id":132402069,"body_markdown":"Thanks for your replies. We use UTF-8 in our dev env and in the database. The app runs in a tomcat directly on a server and in a container. g00se: With ls the file name is printed correct like in the ls -al above as &#39;GefaÌhrlichkeit.docx&#39;. daggett: The file name inside the app is always printed wrong like above as &#39;Gefaï¿½ï¿½hrlichkeit.docx&#39;. injecteer: This is only code showing the core of the problem. The app gets the file name from the database as &#39;GefaÌhrlichkeit.docx&#39; and java can&#39;t find the file then.","body":"Thanks for your replies. We use UTF-8 in our dev env and in the database. The app runs in a tomcat directly on a server and in a container. g00se: With ls the file name is printed correct like in the ls -al above as &#39;GefaÌhrlichkeit.docx&#39;. daggett: The file name inside the app is always printed wrong like above as &#39;Gefaï¿½ï¿½hrlichkeit.docx&#39;. injecteer: This is only code showing the core of the problem. The app gets the file name from the database as &#39;GefaÌhrlichkeit.docx&#39; and java can&#39;t find the file then."},{"owner":{"account_id":20112608,"reputation":86,"user_id":14748724,"display_name":"Dirk27"},"score":0,"creation_date":1672994126,"post_id":75022318,"comment_id":132402392,"body_markdown":"@g00se: With ls the file name is printed correct like in the ls -al above as &#39;GefaÌhrlichkeit.docx&#39;.","body":"@g00se: With ls the file name is printed correct like in the ls -al above as &#39;GefaÌhrlichkeit.docx&#39;."},{"owner":{"account_id":20112608,"reputation":86,"user_id":14748724,"display_name":"Dirk27"},"score":0,"creation_date":1672994149,"post_id":75022318,"comment_id":132402401,"body_markdown":"@daggett: The file name inside the app is always printed wrong like above as &#39;Gefaï¿½ï¿½hrlichkeit.docx&#39;.","body":"@daggett: The file name inside the app is always printed wrong like above as &#39;Gefaï¿½ï¿½hrlichkeit.docx&#39;."},{"owner":{"account_id":20112608,"reputation":86,"user_id":14748724,"display_name":"Dirk27"},"score":0,"creation_date":1672994171,"post_id":75022318,"comment_id":132402413,"body_markdown":"@injecteer: This is only code showing the core of the problem. The app gets the file name from the database as &#39;GefaÌhrlichkeit.docx&#39; and java can&#39;t find the file then.","body":"@injecteer: This is only code showing the core of the problem. The app gets the file name from the database as &#39;GefaÌhrlichkeit.docx&#39; and java can&#39;t find the file then."},{"owner":{"account_id":1857554,"reputation":20310,"user_id":1682820,"accept_rate":70,"display_name":"injecteer"},"score":0,"creation_date":1673000563,"post_id":75022318,"comment_id":132404187,"body_markdown":"if the file name comes from the DB, it should be a URI instead!","body":"if the file name comes from the DB, it should be a URI instead!"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1673001909,"post_id":75022318,"comment_id":132404584,"body_markdown":"Your problem is being caused by Unicode composition. See [java.text.Normalizer](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/text/Normalizer.html) Perhaps more from me on this later","body":"Your problem is being caused by Unicode composition. See <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/text/Normalizer.html\" rel=\"nofollow noreferrer\">java.text.Normalizer</a> Perhaps more from me on this later"},{"owner":{"account_id":20112608,"reputation":86,"user_id":14748724,"display_name":"Dirk27"},"score":0,"creation_date":1673005128,"post_id":75022318,"comment_id":132405504,"body_markdown":"Thanks for your replies. So far I think I can fix the problem by setting sun.jnu.encoding to &#39;UTF-8&#39; on application startup. In the dev env it works by setting it in the grails 4 app via build.gradle in the bootRun section. I try it now in the tomcat servers and come back later.","body":"Thanks for your replies. So far I think I can fix the problem by setting sun.jnu.encoding to &#39;UTF-8&#39; on application startup. In the dev env it works by setting it in the grails 4 app via build.gradle in the bootRun section. I try it now in the tomcat servers and come back later."}],"answers":[{"comments":[{"owner":{"account_id":20112608,"reputation":86,"user_id":14748724,"display_name":"Dirk27"},"score":0,"creation_date":1673022249,"post_id":75030615,"comment_id":132410977,"body_markdown":"You are right like I can see. We solved this problem by setting the system properties and locales in the way the env s needed. I posted an answer.","body":"You are right like I can see. We solved this problem by setting the system properties and locales in the way the env s needed. I posted an answer."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1673023196,"post_id":75030615,"comment_id":132411288,"body_markdown":"I think it can get even weirder. It might be possible to have a file called &#228;.txt with its name encoded as, say, ISO-8859-1 and have its name read identically if you have more than one locale installed. I say &quot;I think&quot; as I haven&#39;t tested this as I don&#39;t want to mess with my en_GB.UTF-8 locale. But I *know* I could make a file with that name in ISO-8859-1. My doubt is only whether it would also read correctly","body":"I think it can get even weirder. It might be possible to have a file called &#228;.txt with its name encoded as, say, ISO-8859-1 and have its name read identically if you have more than one locale installed. I say &quot;I think&quot; as I haven&#39;t tested this as I don&#39;t want to mess with my en_GB.UTF-8 locale. But I <i>know</i> I could make a file with that name in ISO-8859-1. My doubt is only whether it would also read correctly"}],"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673006124,"creation_date":1673006124,"answer_id":75030615,"question_id":75022318,"body_markdown":"This is not an answer as such, but it allows me to show the problem with Unicode composition and file names. Let&#39;s create two files with the same name:\r\n\r\n    goose@t410:/tmp$ touch $(echo -e &#39;\\x61\\xCC\\x88.txt&#39;)\r\n    goose@t410:/tmp$ touch $(echo -e &#39;\\xC3\\xA4.txt&#39;)\r\n    goose@t410:/tmp$ ls *.txt\r\n    aÌ.txt  &#228;.txt\r\n\r\nWhat!? Hang on, this is a trick isn&#39;t it? They are really the same file? Here&#39;s proof they are different:\r\n\r\n    goose@t410:/tmp$ ls -i *.txt\r\n\r\n131467 aÌ.txt  131527 &#228;.txt\r\n","title":"File.list()*.exists() not true for files with umlauts","body":"<p>This is not an answer as such, but it allows me to show the problem with Unicode composition and file names. Let's create two files with the same name:</p>\n<pre><code>goose@t410:/tmp$ touch $(echo -e '\\x61\\xCC\\x88.txt')\ngoose@t410:/tmp$ touch $(echo -e '\\xC3\\xA4.txt')\ngoose@t410:/tmp$ ls *.txt\naÌ.txt  Ã¤.txt\n</code></pre>\n<p>What!? Hang on, this is a trick isn't it? They are really the same file? Here's proof they are different:</p>\n<pre><code>goose@t410:/tmp$ ls -i *.txt\n</code></pre>\n<p>131467 aÌ.txt  131527 Ã¤.txt</p>\n"},{"tags":[],"owner":{"account_id":20112608,"reputation":86,"user_id":14748724,"display_name":"Dirk27"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673023729,"creation_date":1673022138,"answer_id":75033482,"question_id":75022318,"body_markdown":"# Solution\r\n\r\nThe problem occured in different environments:\r\n1. development env: grails 4 application startet with gradle bootRun\r\n2. CI-stage with a tomcat 9 server\r\n3. production env: tomcat running in a docker container\r\n\r\n**Short answer:**\r\nThe problem was the wrong settings for sun.jnu.encoding. Solution was to set it in the correct way for each env.\r\n\r\n**Long answer:**\r\nWe had to set the java system property &#39;sun.jnu.encoding&#39; in the different envs :\r\n\r\n## 1. dev env\r\n\r\nSet system properties in the bootRun section in build.gradle:\r\n```\r\nbootRun {\r\n\tjvmArgs(\r\n\t\t&#39;-Dsun.jnu.encoding=UTF-8&#39;,\r\n\t\t&#39;-Dfile.encoding=UTF-8&#39;,\r\n        ...)\r\n}\r\n```\r\n\r\n## 2. tomcat 9 on server\r\n\r\nSet system properties in setenv.sh in tomcat/bin:\r\n```\r\nexport JAVA_OPTS=&quot;-Dsun.jnu.encoding=UTF-8 -Dfile.encoding=UTF-8 $JAVA_OPTS&quot;\r\n```\r\n\r\n## 3. tomcat 9 in docker container in prod env\r\n\r\nWe used this solution https://stackoverflow.com/a/28406007/14748724. We need to rebuild the container image.\r\n\r\nFinally we had to set this in the docker-compose.yaml file:\r\n```\r\ntomcat:\r\n   environment:\r\n      LC_ALL: &#39;en_US.UTF-8&#39;\r\n```\r\nBefore it was `LC_ALL: &#39;C&#39;`, which was wrong.\r\n\r\n*Note: Using the setenv.sh solution from env 2. **didn&#39;t** work in the container!*","title":"File.list()*.exists() not true for files with umlauts","body":"<h1>Solution</h1>\n<p>The problem occured in different environments:</p>\n<ol>\n<li>development env: grails 4 application startet with gradle bootRun</li>\n<li>CI-stage with a tomcat 9 server</li>\n<li>production env: tomcat running in a docker container</li>\n</ol>\n<p><strong>Short answer:</strong>\nThe problem was the wrong settings for sun.jnu.encoding. Solution was to set it in the correct way for each env.</p>\n<p><strong>Long answer:</strong>\nWe had to set the java system property 'sun.jnu.encoding' in the different envs :</p>\n<h2>1. dev env</h2>\n<p>Set system properties in the bootRun section in build.gradle:</p>\n<pre><code>bootRun {\n    jvmArgs(\n        '-Dsun.jnu.encoding=UTF-8',\n        '-Dfile.encoding=UTF-8',\n        ...)\n}\n</code></pre>\n<h2>2. tomcat 9 on server</h2>\n<p>Set system properties in setenv.sh in tomcat/bin:</p>\n<pre><code>export JAVA_OPTS=&quot;-Dsun.jnu.encoding=UTF-8 -Dfile.encoding=UTF-8 $JAVA_OPTS&quot;\n</code></pre>\n<h2>3. tomcat 9 in docker container in prod env</h2>\n<p>We used this solution <a href=\"https://stackoverflow.com/a/28406007/14748724\">https://stackoverflow.com/a/28406007/14748724</a>. We need to rebuild the container image.</p>\n<p>Finally we had to set this in the docker-compose.yaml file:</p>\n<pre><code>tomcat:\n   environment:\n      LC_ALL: 'en_US.UTF-8'\n</code></pre>\n<p>Before it was <code>LC_ALL: 'C'</code>, which was wrong.</p>\n<p><em>Note: Using the setenv.sh solution from env 2. <strong>didn't</strong> work in the container!</em></p>\n"}],"owner":{"account_id":20112608,"reputation":86,"user_id":14748724,"display_name":"Dirk27"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1673023729,"creation_date":1672940248,"question_id":75022318,"body_markdown":"Im facing a problem with umlauts in groovy/java on a ubuntu server.\r\n\r\nThis groovy code return for exists() false for files with umlauts:\r\n\r\n\r\n```\r\ndef f1 = new File(&#39;/var/lib/jenkins/test/&#39;)\r\ndef files = [:]\r\nf1.listFiles().each {\r\n  files.put(it.name, it.getAbsoluteFile().exists())\r\n}\r\nprintln files\r\nprintln &#39;file.encoding:&#39; + System.getProperty(&#39;file.encoding&#39;)\r\n```\r\n\r\nResults in:\r\n\r\n```\r\nVerderblichkeit.docx:true\r\nGefaï¿½ï¿½hrlichkeit.docx:false\r\nfile.encoding:&quot;iso-8859-1&quot;\r\n```\r\nSo it return false for a file it found itself with listFile(). That is wrong.\r\n\r\nls -al in the drirectory:\r\n\r\n\r\n```\r\ndrwxr-xr-x  2 jenkins jenkins   4096 Jan  5 18:17 .\r\ndrwxr-xr-x 66 jenkins jenkins  12288 Jan  5 18:16 ..\r\n-rw-r--r--  1 jenkins jenkins  98035 Jan  5 18:16 GefaÌhrlichkeit.docx\r\n-rw-r--r--  1 jenkins jenkins 277515 Jan  5 18:17 Verderblichkeit.docx\r\n\r\n```\r\n\r\nIn linux I can copy or mv or rename the files and see the umlauts.\r\n\r\nEnvironment:\r\n* Version of Java: Java(TM) SE Runtime Environment (build 1.8.0_131-b11)\r\n\r\nNote: The original problem is getting the file path from a database. The file can be found and served throug nginx but in the java app (grails with groovy files) I get a false result for File.exists()\r\n\r\nWhat can I do?\r\n\r\n\r\nI tried setting UTF-8 as file.encoding by setting this in the application environment or by -D param on start. I searched the web but didn&#39;t find a solution.","title":"File.list()*.exists() not true for files with umlauts","body":"<p>Im facing a problem with umlauts in groovy/java on a ubuntu server.</p>\n<p>This groovy code return for exists() false for files with umlauts:</p>\n<pre><code>def f1 = new File('/var/lib/jenkins/test/')\ndef files = [:]\nf1.listFiles().each {\n  files.put(it.name, it.getAbsoluteFile().exists())\n}\nprintln files\nprintln 'file.encoding:' + System.getProperty('file.encoding')\n</code></pre>\n<p>Results in:</p>\n<pre><code>Verderblichkeit.docx:true\nGefaï¿½ï¿½hrlichkeit.docx:false\nfile.encoding:&quot;iso-8859-1&quot;\n</code></pre>\n<p>So it return false for a file it found itself with listFile(). That is wrong.</p>\n<p>ls -al in the drirectory:</p>\n<pre><code>drwxr-xr-x  2 jenkins jenkins   4096 Jan  5 18:17 .\ndrwxr-xr-x 66 jenkins jenkins  12288 Jan  5 18:16 ..\n-rw-r--r--  1 jenkins jenkins  98035 Jan  5 18:16 GefaÌhrlichkeit.docx\n-rw-r--r--  1 jenkins jenkins 277515 Jan  5 18:17 Verderblichkeit.docx\n\n</code></pre>\n<p>In linux I can copy or mv or rename the files and see the umlauts.</p>\n<p>Environment:</p>\n<ul>\n<li>Version of Java: Java(TM) SE Runtime Environment (build 1.8.0_131-b11)</li>\n</ul>\n<p>Note: The original problem is getting the file path from a database. The file can be found and served throug nginx but in the java app (grails with groovy files) I get a false result for File.exists()</p>\n<p>What can I do?</p>\n<p>I tried setting UTF-8 as file.encoding by setting this in the application environment or by -D param on start. I searched the web but didn't find a solution.</p>\n"},{"tags":["java","javascript","jsp","checkbox","boolean"],"answers":[{"tags":[],"owner":{"account_id":1033858,"reputation":40386,"user_id":1041642,"accept_rate":50,"display_name":"Sachin"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1380318206,"creation_date":1380317691,"answer_id":19060415,"question_id":19060402,"body_markdown":"try with `.prop` instead of `.attr()`\r\n\r\n    $(function (){\r\n        if($(&#39;#a_principal&#39;).val()== &quot;true&quot;){           \r\n             $(&quot;input:checkbox&quot;).prop(&#39;checked&#39;,true);\r\n        }else{\r\n            $(&quot;input:checkbox&quot;).prop(&#39;checked&#39;, false);\r\n        }\r\n    });\r\n\r\n[Js Fiddle Demo][1]\r\n\r\n\r\n  [1]: http://jsfiddle.net/dC4Zw/","title":"How to checked checkbox if boolean value is true?","body":"<p>try with <code>.prop</code> instead of <code>.attr()</code></p>\n\n<pre><code>$(function (){\n    if($('#a_principal').val()== \"true\"){           \n         $(\"input:checkbox\").prop('checked',true);\n    }else{\n        $(\"input:checkbox\").prop('checked', false);\n    }\n});\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/dC4Zw/\" rel=\"nofollow\">Js Fiddle Demo</a></p>\n"},{"tags":[],"owner":{"account_id":992844,"reputation":123404,"user_id":1009603,"accept_rate":60,"display_name":"PSL"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1380318246,"creation_date":1380317897,"answer_id":19060470,"question_id":19060402,"body_markdown":"Using `prop` to set checked property and get your if condition right. `attr` is not guaranteed to work against boolean properties of element and prop is. [See the difference here](http://api.jquery.com/prop/#prop-propertyName). Also the condition `&#39;#a_principal&#39; == true` is always true.\r\n\r\n\r\n    $(&quot;input:checkbox&quot;).prop(&#39;checked&#39;, $(&#39;#a_principal&#39;).length); \r\n    // i dont know if you meant $(&#39;#a_principal&#39;).prop(&#39;checked&#39;) then\r\n    $(&quot;input:checkbox&quot;).prop(&#39;checked&#39;, $(&#39;#a_principal&#39;).prop(&#39;checked&#39;));  \r\n    //but here :checkbx generic selector will select a_principal as well, so be specific \r\n\r\nProviding your complete html will help solving your issue in a better way however try this:\r\n   \r\n\r\n       var $principal = $(&#39;#a_principal&#39;);\r\n       $(&quot;input:checkbox&quot;).not($principal).prop(&#39;checked&#39;, $principal.prop(&#39;checked&#39;));  \r\n        \r\n\r\n","title":"How to checked checkbox if boolean value is true?","body":"<p>Using <code>prop</code> to set checked property and get your if condition right. <code>attr</code> is not guaranteed to work against boolean properties of element and prop is. <a href=\"http://api.jquery.com/prop/#prop-propertyName\" rel=\"nofollow\">See the difference here</a>. Also the condition <code>'#a_principal' == true</code> is always true.</p>\n\n<pre><code>$(\"input:checkbox\").prop('checked', $('#a_principal').length); \n// i dont know if you meant $('#a_principal').prop('checked') then\n$(\"input:checkbox\").prop('checked', $('#a_principal').prop('checked'));  \n//but here :checkbx generic selector will select a_principal as well, so be specific \n</code></pre>\n\n<p>Providing your complete html will help solving your issue in a better way however try this:</p>\n\n<pre><code>   var $principal = $('#a_principal');\n   $(\"input:checkbox\").not($principal).prop('checked', $principal.prop('checked'));  \n</code></pre>\n"}],"owner":{"account_id":1537165,"reputation":15,"user_id":1432859,"display_name":"paulinajr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16868,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":19060415,"answer_count":2,"score":1,"last_activity_date":1673023538,"creation_date":1380317629,"question_id":19060402,"body_markdown":"I&#39;m working on jsp application and I have a form that has a checkbox, I retrieve data from my database which has a bit field named &quot;principal&quot;, I can get the value of this field which is a boolean but I can&#39;t checked or unchecked the checkbox depending on the value of &quot;principal&quot;.\r\n\r\nHere&#39;s my JSP code:\r\n\r\n    &lt;tr&gt;\r\n     &lt;td&gt;Principal:&lt;/td&gt;\r\n      &lt;td colspan=&quot;2&quot;&gt;\r\n       &lt;input type=&quot;checkbox&quot; id=&quot;a_principal&quot; name=&quot;a_principal&quot; value=&quot;&lt;%=directorio.isPrincipal()%&gt;&quot;/&gt;\r\n      &lt;/td&gt;\r\n    &lt;/tr&gt;\r\n\r\nJavascript code:\r\n\r\n    $(function (){\r\n    \tif(&#39;#a_principal&#39; == true){\r\n    \t\t $(&quot;input:checkbox&quot;).attr(&#39;checked&#39;, true);\r\n    \t}else{\r\n    \t\t$(&quot;input:checkbox&quot;).attr(&#39;checked&#39;, false);\r\n    \t}\r\n    \t\r\n    });\r\n","title":"How to checked checkbox if boolean value is true?","body":"<p>I'm working on jsp application and I have a form that has a checkbox, I retrieve data from my database which has a bit field named &quot;principal&quot;, I can get the value of this field which is a boolean but I can't checked or unchecked the checkbox depending on the value of &quot;principal&quot;.</p>\n<p>Here's my JSP code:</p>\n<pre><code>&lt;tr&gt;\n &lt;td&gt;Principal:&lt;/td&gt;\n  &lt;td colspan=&quot;2&quot;&gt;\n   &lt;input type=&quot;checkbox&quot; id=&quot;a_principal&quot; name=&quot;a_principal&quot; value=&quot;&lt;%=directorio.isPrincipal()%&gt;&quot;/&gt;\n  &lt;/td&gt;\n&lt;/tr&gt;\n</code></pre>\n<p>Javascript code:</p>\n<pre><code>$(function (){\n    if('#a_principal' == true){\n         $(&quot;input:checkbox&quot;).attr('checked', true);\n    }else{\n        $(&quot;input:checkbox&quot;).attr('checked', false);\n    }\n    \n});\n</code></pre>\n"},{"tags":["java","mongodb","spring-boot","validation"],"comments":[{"owner":{"account_id":4565343,"reputation":12775,"user_id":3710490,"accept_rate":64,"display_name":"Valijon"},"score":0,"creation_date":1596616281,"post_id":63260043,"comment_id":111865368,"body_markdown":"Does this answer your question? [How to I get Spring-Data-MongoDB to validate my objects?](https://stackoverflow.com/questions/22568962/how-to-i-get-spring-data-mongodb-to-validate-my-objects)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/22568962/how-to-i-get-spring-data-mongodb-to-validate-my-objects\">How to I get Spring-Data-MongoDB to validate my objects?</a>"},{"owner":{"account_id":13464993,"reputation":1825,"user_id":9715631,"display_name":"Devkinandan Chauhan"},"score":0,"creation_date":1596616401,"post_id":63260043,"comment_id":111865429,"body_markdown":"no, it answers in the same way I&#39;ve already mentioned in the question","body":"no, it answers in the same way I&#39;ve already mentioned in the question"},{"owner":{"account_id":4565343,"reputation":12775,"user_id":3710490,"accept_rate":64,"display_name":"Valijon"},"score":0,"creation_date":1596616843,"post_id":63260043,"comment_id":111865625,"body_markdown":"I see. Take a look this: [onBeforeSave](https://docs.spring.io/spring-data/mongodb/docs/current/reference/html/index.html#mongodb.mapping-usage.events)","body":"I see. Take a look this: <a href=\"https://docs.spring.io/spring-data/mongodb/docs/current/reference/html/index.html#mongodb.mapping-usage.events\" rel=\"nofollow noreferrer\">onBeforeSave</a>"}],"answers":[{"tags":[],"owner":{"account_id":12182664,"reputation":1,"user_id":8893653,"display_name":"Jean Carlos Souza"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673023061,"creation_date":1673023061,"answer_id":75033670,"question_id":63260043,"body_markdown":"i was with the same problem and found this question. Here is how i solved my problem in my application that uses Spingboot e MongoDB\r\n\r\n   this is the only dependency needed. \r\n\r\n    &lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n[The DTO class with the rigth imports][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hyVtp.png\r\n\r\nAnd in the controller i used @Validated from \r\n\r\n    import org.springframework.validation.annotation.Validated;\r\n\r\n    \t@PostMapping\r\n\t@ResponseStatus(HttpStatus.CREATED)\r\n\tpublic ProdutoData inserirProduto(@RequestBody @Validated ProdutoForm produto){\r\n\t\treturn produtoServico.salvar(produto);\r\n\t}\r\n\r\nI hope this can help someone.","title":"Validate MongoDB documents through Spring boot data","body":"<p>i was with the same problem and found this question. Here is how i solved my problem in my application that uses Spingboot e MongoDB</p>\n<p>this is the only dependency needed.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/hyVtp.png\" rel=\"nofollow noreferrer\">The DTO class with the rigth imports</a></p>\n<p>And in the controller i used @Validated from</p>\n<pre><code>import org.springframework.validation.annotation.Validated;\n\n    @PostMapping\n@ResponseStatus(HttpStatus.CREATED)\npublic ProdutoData inserirProduto(@RequestBody @Validated ProdutoForm produto){\n    return produtoServico.salvar(produto);\n}\n</code></pre>\n<p>I hope this can help someone.</p>\n"}],"owner":{"account_id":13464993,"reputation":1825,"user_id":9715631,"display_name":"Devkinandan Chauhan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":939,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673023061,"creation_date":1596611146,"question_id":63260043,"body_markdown":"I&#39;m new to MongoDB. I&#39;m using Spring boot 2.1.3.RELEASE. \r\n\r\nI want to perform validation on MongoDB documents (on message as per below code), currently, it saves documents even everything passed as null.\r\n\r\nI have gone through a couple of answers like https://stackoverflow.com/questions/42292359/spring-data-mongodb-not-null-annotation-like-spring-data-jpa\r\n\r\n    \r\n  \r\n\r\n    public class Comment {\r\n    \r\n      @NotBlank(message = &quot;Comment&#39;s message can&#39;t be blank&quot;)\r\n      private String message;\r\n      \r\n      @CreatedDate\r\n      private Date createdDate;\r\n    \r\n      @CreatedBy\r\n      private String createdBy;\r\n    \r\n    }\r\n\r\nIs there any way to achieve the same without using hibernate-validator dependency?","title":"Validate MongoDB documents through Spring boot data","body":"<p>I'm new to MongoDB. I'm using Spring boot 2.1.3.RELEASE.</p>\n<p>I want to perform validation on MongoDB documents (on message as per below code), currently, it saves documents even everything passed as null.</p>\n<p>I have gone through a couple of answers like <a href=\"https://stackoverflow.com/questions/42292359/spring-data-mongodb-not-null-annotation-like-spring-data-jpa\">Spring data mongoDb not null annotation like Spring data Jpa</a></p>\n<pre><code>public class Comment {\n\n  @NotBlank(message = &quot;Comment's message can't be blank&quot;)\n  private String message;\n  \n  @CreatedDate\n  private Date createdDate;\n\n  @CreatedBy\n  private String createdBy;\n\n}\n</code></pre>\n<p>Is there any way to achieve the same without using hibernate-validator dependency?</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":25421873,"reputation":43,"user_id":19227725,"display_name":"Ismail Hamzeh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673018312,"creation_date":1673018312,"answer_id":75032777,"question_id":75032312,"body_markdown":"This solution should work:\r\n\r\n    if(mb.isPlaying){\r\n        mb.stop;\r\n      }  \r\n\r\n      mb.prepare;\r\n      mb.start;\r\n\r\nIf this solution doesn&#39;t work please share your code so I can help you.","title":"Is there a way to stop the already playing music when I clicked on another recyclerview item?","body":"<p>This solution should work:</p>\n<pre><code>if(mb.isPlaying){\n    mb.stop;\n  }  \n\n  mb.prepare;\n  mb.start;\n</code></pre>\n<p>If this solution doesn't work please share your code so I can help you.</p>\n"}],"owner":{"account_id":27326978,"reputation":1,"user_id":20839793,"display_name":"Jnananidhi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1673022718,"creation_date":1673015814,"question_id":75032312,"body_markdown":"In my music player app, I am fetching the music files and storing it in recycler view.\r\n\r\nwhen I clicked on a recyclerview item the music player layout will be shown and when I come back to that activity and click on other item, the previous music will keep on playing and along with that the new music is playing.\r\n \r\nI tried \r\n\r\n```\r\nif (mp.isplaying()) {\r\n    mp.stop();\r\n    mp.release();\r\n}\r\n```\r\n\r\nbut didn&#39;t work.","title":"Is there a way to stop the already playing music when I clicked on another recyclerview item?","body":"<p>In my music player app, I am fetching the music files and storing it in recycler view.</p>\n<p>when I clicked on a recyclerview item the music player layout will be shown and when I come back to that activity and click on other item, the previous music will keep on playing and along with that the new music is playing.</p>\n<p>I tried</p>\n<pre><code>if (mp.isplaying()) {\n    mp.stop();\n    mp.release();\n}\n</code></pre>\n<p>but didn't work.</p>\n"},{"tags":["java","qr-code","zxing"],"answers":[{"tags":[],"owner":{"account_id":7753794,"reputation":207,"user_id":5868910,"display_name":"Ashish Khokhariya"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1600147799,"creation_date":1600146566,"answer_id":63895460,"question_id":63884335,"body_markdown":"Here I Generated QR Code file and took in memory and then used Graphics Lib.\r\nUsing this Library could add Text to that Memory and saved it again.\r\n\r\n    public static void main(String[] args) {        \r\n       try {\r\n            QRCodeWriter qrCodeWriter = new QRCodeWriter();\r\n            BitMatrix bitMatrix = qrCodeWriter.encode(&quot;Hello world&quot;, BarcodeFormat.QR_CODE, 300, 300);\r\n            Path path = FileSystems.getDefault().getPath(&quot;test.png&quot;);\r\n            MatrixToImageWriter.writeToPath(bitMatrix, &quot;PNG&quot;, path);     \r\n            \r\n            \r\n                      \r\n           final BufferedImage image = ImageIO.read(new File(path.toString()));\r\n           JFrame frame = new JFrame();\r\n           frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n           Graphics g = image.getGraphics();\r\n           g.setFont(g.getFont().deriveFont(22f));\r\n           Color textColor = Color.BLACK;\r\n           g.setColor(textColor);\r\n           g.drawString(&quot;Hello world&quot;, 15, 300);\r\n           g.dispose();\r\n\r\n           ImageIO.write(image, &quot;png&quot;, new File(&quot;test45.png&quot;));\r\n            \r\n                       \r\n        } catch (WriterException | IOException ex) {\r\n            \r\n        }  \r\n    }","title":"how to add text below QR code using com.google.zxing libraby in JAVA","body":"<p>Here I Generated QR Code file and took in memory and then used Graphics Lib.\nUsing this Library could add Text to that Memory and saved it again.</p>\n<pre><code>public static void main(String[] args) {        \n   try {\n        QRCodeWriter qrCodeWriter = new QRCodeWriter();\n        BitMatrix bitMatrix = qrCodeWriter.encode(&quot;Hello world&quot;, BarcodeFormat.QR_CODE, 300, 300);\n        Path path = FileSystems.getDefault().getPath(&quot;test.png&quot;);\n        MatrixToImageWriter.writeToPath(bitMatrix, &quot;PNG&quot;, path);     \n        \n        \n                  \n       final BufferedImage image = ImageIO.read(new File(path.toString()));\n       JFrame frame = new JFrame();\n       frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n       Graphics g = image.getGraphics();\n       g.setFont(g.getFont().deriveFont(22f));\n       Color textColor = Color.BLACK;\n       g.setColor(textColor);\n       g.drawString(&quot;Hello world&quot;, 15, 300);\n       g.dispose();\n\n       ImageIO.write(image, &quot;png&quot;, new File(&quot;test45.png&quot;));\n        \n                   \n    } catch (WriterException | IOException ex) {\n        \n    }  \n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":963056,"reputation":994,"user_id":986966,"accept_rate":80,"display_name":"fall"},"score":1,"creation_date":1622454058,"post_id":63898567,"comment_id":119788899,"body_markdown":"I tried this and the displayText looks blurry/distorted, so I added\n\n```java\nGraphics2D g2d = (Graphics2D) g;\ng2d.setRenderingHint(RenderingHints.KEY_FRACTIONALMETRICS, RenderingHints.VALUE_FRACTIONALMETRICS_ON);\ng2d.setRenderingHint(RenderingHints.KEY_TEXT_ANTIALIASING, RenderingHints.VALUE_TEXT_ANTIALIAS_ON);\n```\n\nto make it look good.\n\nreference: https://stackoverflow.com/a/31537742/986966","body":"I tried this and the displayText looks blurry/distorted, so I added  <code>java Graphics2D g2d = (Graphics2D) g; g2d.setRenderingHint(RenderingHints.KEY_FRACTIONALMETRICS, RenderingHints.VALUE_FRACTIONALMETRICS_ON); g2d.setRenderingHint(RenderingHints.KEY_TEXT_ANTIALIASING, RenderingHints.VALUE_TEXT_ANTIALIAS_ON); </code>  to make it look good.  reference: <a href=\"https://stackoverflow.com/a/31537742/986966\">stackoverflow.com/a/31537742/986966</a>"}],"tags":[],"owner":{"account_id":7753794,"reputation":207,"user_id":5868910,"display_name":"Ashish Khokhariya"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1600160741,"creation_date":1600160741,"answer_id":63898567,"question_id":63884335,"body_markdown":"Here I have Provided complete code for generating QRcode with Text or not.\r\n\r\n    public byte[] generateQRCode(String data, Integer width, Integer height, String[] text) {\r\n\r\n        try {\r\n            QRCodeWriter qrCodeWriter = new QRCodeWriter();\r\n            BitMatrix bitMatrix = qrCodeWriter.encode(data, BarcodeFormat.QR_CODE, width, height);\r\n\r\n            ByteArrayOutputStream pngOutputStream = new ByteArrayOutputStream();\r\n            MatrixToImageWriter.writeToStream(bitMatrix, &quot;PNG&quot;, pngOutputStream);\r\n            byte[] pngData = pngOutputStream.toByteArray();\r\n\r\n            //        If text is needed to display\r\n            if (text.length &gt; 0) {\r\n                int totalTextLineToadd = text.length;\r\n                InputStream in = new ByteArrayInputStream(pngData);\r\n                BufferedImage image = ImageIO.read(in);\r\n\r\n                BufferedImage outputImage = new BufferedImage(image.getWidth(), image.getHeight() + 25 * totalTextLineToadd, BufferedImage.TYPE_INT_ARGB);\r\n                Graphics g = outputImage.getGraphics();\r\n                g.setColor(Color.WHITE);\r\n                g.fillRect(0, 0, outputImage.getWidth(), outputImage.getHeight());\r\n                g.drawImage(image, 0, 0, image.getWidth(), image.getHeight(), null);\r\n                g.setFont(new Font(&quot;Arial Black&quot;, Font.BOLD, 12));\r\n                Color textColor = Color.BLACK;\r\n                g.setColor(textColor);\r\n                FontMetrics fm = g.getFontMetrics();\r\n                int startingYposition = height + 5;\r\n                for(String displayText : text) {\r\n                    g.drawString(displayText, (outputImage.getWidth() / 2)   - (fm.stringWidth(displayText) / 2), startingYposition);\r\n                    startingYposition += 20;\r\n                }\r\n                ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n                ImageIO.write(outputImage, &quot;PNG&quot;, baos);\r\n                baos.flush();\r\n                pngData = baos.toByteArray();\r\n                baos.close();\r\n            }\r\n\r\n            return pngData;\r\n        } catch (WriterException | IOException ex) {\r\n            throw new ImtechoUserException(ex.getMessage(), 0);\r\n        }\r\n    }\r\n\r\n\r\nThis will return Byte[] of  newly generated QR code with text or without text.","title":"how to add text below QR code using com.google.zxing libraby in JAVA","body":"<p>Here I have Provided complete code for generating QRcode with Text or not.</p>\n<pre><code>public byte[] generateQRCode(String data, Integer width, Integer height, String[] text) {\n\n    try {\n        QRCodeWriter qrCodeWriter = new QRCodeWriter();\n        BitMatrix bitMatrix = qrCodeWriter.encode(data, BarcodeFormat.QR_CODE, width, height);\n\n        ByteArrayOutputStream pngOutputStream = new ByteArrayOutputStream();\n        MatrixToImageWriter.writeToStream(bitMatrix, &quot;PNG&quot;, pngOutputStream);\n        byte[] pngData = pngOutputStream.toByteArray();\n\n        //        If text is needed to display\n        if (text.length &gt; 0) {\n            int totalTextLineToadd = text.length;\n            InputStream in = new ByteArrayInputStream(pngData);\n            BufferedImage image = ImageIO.read(in);\n\n            BufferedImage outputImage = new BufferedImage(image.getWidth(), image.getHeight() + 25 * totalTextLineToadd, BufferedImage.TYPE_INT_ARGB);\n            Graphics g = outputImage.getGraphics();\n            g.setColor(Color.WHITE);\n            g.fillRect(0, 0, outputImage.getWidth(), outputImage.getHeight());\n            g.drawImage(image, 0, 0, image.getWidth(), image.getHeight(), null);\n            g.setFont(new Font(&quot;Arial Black&quot;, Font.BOLD, 12));\n            Color textColor = Color.BLACK;\n            g.setColor(textColor);\n            FontMetrics fm = g.getFontMetrics();\n            int startingYposition = height + 5;\n            for(String displayText : text) {\n                g.drawString(displayText, (outputImage.getWidth() / 2)   - (fm.stringWidth(displayText) / 2), startingYposition);\n                startingYposition += 20;\n            }\n            ByteArrayOutputStream baos = new ByteArrayOutputStream();\n            ImageIO.write(outputImage, &quot;PNG&quot;, baos);\n            baos.flush();\n            pngData = baos.toByteArray();\n            baos.close();\n        }\n\n        return pngData;\n    } catch (WriterException | IOException ex) {\n        throw new ImtechoUserException(ex.getMessage(), 0);\n    }\n}\n</code></pre>\n<p>This will return Byte[] of  newly generated QR code with text or without text.</p>\n"},{"tags":[],"owner":{"account_id":17458412,"reputation":15,"user_id":12656671,"display_name":"med salah guerricha"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1600860393,"creation_date":1600860393,"answer_id":64026920,"question_id":63884335,"body_markdown":"@Ashish Khokhariya thank you i do it withe your code \r\nI am sorry I cant &quot; feedback &quot;  : \r\nThanks for the feedback! Votes cast by those with less than 15 reputation are recorded, but do not change the publicly displayed post score.","title":"how to add text below QR code using com.google.zxing libraby in JAVA","body":"<p>@Ashish Khokhariya thank you i do it withe your code\nI am sorry I cant &quot; feedback &quot;  :\nThanks for the feedback! Votes cast by those with less than 15 reputation are recorded, but do not change the publicly displayed post score.</p>\n"},{"tags":[],"owner":{"account_id":8613939,"reputation":466,"user_id":6688908,"display_name":"Towfiqul Islam"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673022651,"creation_date":1673022651,"answer_id":75033581,"question_id":63884335,"body_markdown":"The below code worked for me. \r\n\r\n    public BufferedImage getQRCodeWithText(BitMatrix qrcodeBitMatrix, String text) throws IOException {\r\n        BufferedImage image = MatrixToImageWriter.toBufferedImage(qrcodeBitMatrix);\r\n        if (text.length() &gt; 0) {\r\n            int totalTextLineToAdd = text.length();\r\n            int newWidth = image.getWidth();\r\n            int newHeight = image.getHeight() + 10 * totalTextLineToAdd;\r\n            BufferedImage newImage = new BufferedImage(newWidth, newHeight, BufferedImage.TYPE_INT_ARGB);\r\n            Graphics graphics = newImage.getGraphics();\r\n            graphics.setColor(Color.WHITE);\r\n            graphics.fillRect(0, 0, newImage.getWidth(), newImage.getHeight());\r\n            graphics.drawImage(image, 0, 0, image.getWidth(), image.getHeight(), null);\r\n            graphics.setFont(new Font(&quot;Arial Black&quot;, Font.BOLD, 12));\r\n            Color textColor = Color.BLACK;\r\n            graphics.setColor(textColor);\r\n            FontMetrics fontMetrics = graphics.getFontMetrics();\r\n            int startingYPosition = image.getHeight() + 5;\r\n            graphics.drawString(text, (newImage.getWidth() / 2) - (fontMetrics.stringWidth(text) / 2), startingYPosition);\r\n            image = newImage;\r\n        }\r\n        return image;\r\n    }","title":"how to add text below QR code using com.google.zxing libraby in JAVA","body":"<p>The below code worked for me.</p>\n<pre><code>public BufferedImage getQRCodeWithText(BitMatrix qrcodeBitMatrix, String text) throws IOException {\n    BufferedImage image = MatrixToImageWriter.toBufferedImage(qrcodeBitMatrix);\n    if (text.length() &gt; 0) {\n        int totalTextLineToAdd = text.length();\n        int newWidth = image.getWidth();\n        int newHeight = image.getHeight() + 10 * totalTextLineToAdd;\n        BufferedImage newImage = new BufferedImage(newWidth, newHeight, BufferedImage.TYPE_INT_ARGB);\n        Graphics graphics = newImage.getGraphics();\n        graphics.setColor(Color.WHITE);\n        graphics.fillRect(0, 0, newImage.getWidth(), newImage.getHeight());\n        graphics.drawImage(image, 0, 0, image.getWidth(), image.getHeight(), null);\n        graphics.setFont(new Font(&quot;Arial Black&quot;, Font.BOLD, 12));\n        Color textColor = Color.BLACK;\n        graphics.setColor(textColor);\n        FontMetrics fontMetrics = graphics.getFontMetrics();\n        int startingYPosition = image.getHeight() + 5;\n        graphics.drawString(text, (newImage.getWidth() / 2) - (fontMetrics.stringWidth(text) / 2), startingYPosition);\n        image = newImage;\n    }\n    return image;\n}\n</code></pre>\n"}],"owner":{"account_id":7753794,"reputation":207,"user_id":5868910,"display_name":"Ashish Khokhariya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5347,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":63895460,"answer_count":4,"score":1,"last_activity_date":1673022651,"creation_date":1600086454,"question_id":63884335,"body_markdown":"I have generated QR code using `com.google.zxing` this library.\r\nQRCode generations work fine but I want to display Data of QRcode below QRcode.\r\n\r\nI want to generate QR code like attached below.\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nHere is my code.\r\n\r\n    QRCodeWriter qrCodeWriter = new QRCodeWriter();\r\n            BitMatrix bitMatrix = qrCodeWriter.encode(data, BarcodeFormat.QR_CODE, width, height);\r\n            ByteArrayOutputStream pngOutputStream = new ByteArrayOutputStream();\r\n            MatrixToImageWriter.writeToStream(bitMatrix, &quot;PNG&quot;, pngOutputStream);\r\n            byte[] pngData = pngOutputStream.toByteArray();\r\n\r\n\r\n  \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lJ4qg.png","title":"how to add text below QR code using com.google.zxing libraby in JAVA","body":"<p>I have generated QR code using <code>com.google.zxing</code> this library.\nQRCode generations work fine but I want to display Data of QRcode below QRcode.</p>\n<p>I want to generate QR code like attached below.</p>\n<p><a href=\"https://i.stack.imgur.com/lJ4qg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lJ4qg.png\" alt=\"enter image description here\" /></a></p>\n<p>Here is my code.</p>\n<pre><code>QRCodeWriter qrCodeWriter = new QRCodeWriter();\n        BitMatrix bitMatrix = qrCodeWriter.encode(data, BarcodeFormat.QR_CODE, width, height);\n        ByteArrayOutputStream pngOutputStream = new ByteArrayOutputStream();\n        MatrixToImageWriter.writeToStream(bitMatrix, &quot;PNG&quot;, pngOutputStream);\n        byte[] pngData = pngOutputStream.toByteArray();\n</code></pre>\n"},{"tags":["java","minecraft","bukkit","serviceloader","spigot"],"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1673025846,"post_id":75033540,"comment_id":132412151,"body_markdown":"You might need to pass the right classloader (`YourClass.class.getClassLoader()`) when creating the ServiceLoader.","body":"You might need to pass the right classloader (<code>YourClass.class.getClassLoader()</code>) when creating the ServiceLoader."}],"owner":{"account_id":27454574,"reputation":1,"user_id":20946256,"display_name":"Jonathan Jackson"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673022392,"creation_date":1673022392,"question_id":75033540,"body_markdown":"So I started working on a new Bukkit plugin and did some research on possible ways of automating listener registration. I came across the ServiceLoader class and read its JavaDocs. Basically I&#39;m trying to load all the classes that implement the Listener interface, looping through them and registering them with this method:\r\n\r\n```java\r\nprivate static void registerListeners() {\r\n    ServiceLoader&lt;Listener&gt; loader = ServiceLoader.load(Listener.class);\r\n    for (Listener listener : loader) {\r\n        Bukkit.getPluginManager().registerEvents(listener, get());\r\n    }\r\n}\r\n```\r\n\r\nThe `get()` method here returns the `instance` variable (`private static Posc instance;` &quot;Posc&quot; being the name of the main class and the plugin) which is declared in the `onEnable()` method.\r\nI would then call this method in the `onEnable()` method like so:\r\n\r\n```\r\n@Override\r\npublic void onEnable() {\r\n    instance = this;\r\n    registerListeners();\r\n}\r\n```\r\n\r\nAs stated in the documentation, I created the `META-INF\\services` directory in the `resources` directory and added a text file called `org.bukkit.event.Listener`, in this text file I added the full names of my listener classes, one per line, like so:\r\n\r\n```\r\nme.lord.posc.listeners.PlayerJoinListener\r\nme.lord.posc.listeners.PlayerQuitListener\r\n```\r\n\r\nMy IDE (JetBrain IntelliJ IDEA Community Edition 2022.3.1) does not give any errors or warnings in any of my classes or the `org.bukkit.event.Listener` file. No errors or warnings were given in the console when I started the server with the plugin. In game I ran the `/plugins` Bukkit command which showed my plugin in green, which means it has loaded successfully, which means the `onEnable()` method was called. This was also confirmed when I added this line into the `registerListeners()` method:\r\n\r\n```java\r\nget().getLogger().info(&quot;test&quot;);\r\n```\r\n\r\n&quot;test&quot; was written into the console by my plugin.\r\n\r\nThe `PlayerJoinListener` class looks like this:\r\n\r\n```java\r\npackage me.lord.posc.listeners;\r\n\r\nimport me.lord.posc.Posc;\r\nimport me.lord.posc.utilities.TextUtil;\r\nimport org.bukkit.Bukkit;\r\nimport org.bukkit.event.EventHandler;\r\nimport org.bukkit.event.Listener;\r\nimport org.bukkit.event.player.PlayerJoinEvent;\r\n\r\npublic class PlayerJoinListener implements Listener {\r\n    // TODO: Replace Bukkit.getOfflinePlayers().length with a player counting system to increase performance\r\n    @EventHandler\r\n    public void onPlayerJoin(PlayerJoinEvent event) {\r\n        event.joinMessage(TextUtil.c(&quot;&amp;7[&amp;a+&amp;7] &amp;f&quot; + event.getPlayer().getName() + (event.getPlayer().hasPlayedBefore() ? &quot;&quot; : &quot; &amp;8| &amp;6&quot; + TextUtil.ordinal(Bukkit.getOfflinePlayers().length) + &quot; join&quot;)));\r\n        Posc.get().getLogger().info(&quot;test&quot;);\r\n    }\r\n}\r\n```\r\n\r\nAnd the `PlayerQuitListener` class looks like this:\r\n\r\n```java\r\npackage me.lord.posc.listeners;\r\n\r\nimport me.lord.posc.Posc;\r\nimport me.lord.posc.utilities.TextUtil;\r\nimport org.bukkit.event.EventHandler;\r\nimport org.bukkit.event.Listener;\r\nimport org.bukkit.event.player.PlayerQuitEvent;\r\n\r\npublic class PlayerQuitListener implements Listener {\r\n    @EventHandler\r\n    public void onPlayerQuit(PlayerQuitEvent event) {\r\n        event.quitMessage(TextUtil.c(&quot;&amp;7[&amp;c-&amp;7] &amp;f&quot; + event.getPlayer().getName()));\r\n        Posc.get().getLogger().info(&quot;test&quot;);\r\n    }\r\n}\r\n```\r\n\r\nThese classes, if they worked properly, would change the join and leave messages, and print &quot;test&quot; whenever a player joins or leaves. This is however not the case as none of these things happen when anyone leaves or joins the server which indicates that these listeners have not been registered properly or at all.\r\n\r\nI&#39;ve tried many things to get it work but with no success. I tried...\r\n\r\n- changing the location of the `META-INF` directory to `src`, `src\\main` and `src\\main\\java` but none of these did anything.\r\n- making a new interface that extended `org.bukkit.event.Listener`, making the listener classes implement that and switching `Listener` with my interface in the `META-INF\\services` directory and in the `registerListeners()` method\r\n- using different methods in place of the `for`, like streams, `Iterator` and `foreach()`\r\n- `getClass().newInstance()`\r\n\r\nI tried `loader.stream().findFirst().isEmpty()` to see if it actually loaded the classes, and the method returned true which means the loader doesn&#39;t for some reason load the classes.","title":"ServiceLoader not loading classes in Bukkit plugin","body":"<p>So I started working on a new Bukkit plugin and did some research on possible ways of automating listener registration. I came across the ServiceLoader class and read its JavaDocs. Basically I'm trying to load all the classes that implement the Listener interface, looping through them and registering them with this method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static void registerListeners() {\n    ServiceLoader&lt;Listener&gt; loader = ServiceLoader.load(Listener.class);\n    for (Listener listener : loader) {\n        Bukkit.getPluginManager().registerEvents(listener, get());\n    }\n}\n</code></pre>\n<p>The <code>get()</code> method here returns the <code>instance</code> variable (<code>private static Posc instance;</code> &quot;Posc&quot; being the name of the main class and the plugin) which is declared in the <code>onEnable()</code> method.\nI would then call this method in the <code>onEnable()</code> method like so:</p>\n<pre><code>@Override\npublic void onEnable() {\n    instance = this;\n    registerListeners();\n}\n</code></pre>\n<p>As stated in the documentation, I created the <code>META-INF\\services</code> directory in the <code>resources</code> directory and added a text file called <code>org.bukkit.event.Listener</code>, in this text file I added the full names of my listener classes, one per line, like so:</p>\n<pre><code>me.lord.posc.listeners.PlayerJoinListener\nme.lord.posc.listeners.PlayerQuitListener\n</code></pre>\n<p>My IDE (JetBrain IntelliJ IDEA Community Edition 2022.3.1) does not give any errors or warnings in any of my classes or the <code>org.bukkit.event.Listener</code> file. No errors or warnings were given in the console when I started the server with the plugin. In game I ran the <code>/plugins</code> Bukkit command which showed my plugin in green, which means it has loaded successfully, which means the <code>onEnable()</code> method was called. This was also confirmed when I added this line into the <code>registerListeners()</code> method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>get().getLogger().info(&quot;test&quot;);\n</code></pre>\n<p>&quot;test&quot; was written into the console by my plugin.</p>\n<p>The <code>PlayerJoinListener</code> class looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package me.lord.posc.listeners;\n\nimport me.lord.posc.Posc;\nimport me.lord.posc.utilities.TextUtil;\nimport org.bukkit.Bukkit;\nimport org.bukkit.event.EventHandler;\nimport org.bukkit.event.Listener;\nimport org.bukkit.event.player.PlayerJoinEvent;\n\npublic class PlayerJoinListener implements Listener {\n    // TODO: Replace Bukkit.getOfflinePlayers().length with a player counting system to increase performance\n    @EventHandler\n    public void onPlayerJoin(PlayerJoinEvent event) {\n        event.joinMessage(TextUtil.c(&quot;&amp;7[&amp;a+&amp;7] &amp;f&quot; + event.getPlayer().getName() + (event.getPlayer().hasPlayedBefore() ? &quot;&quot; : &quot; &amp;8| &amp;6&quot; + TextUtil.ordinal(Bukkit.getOfflinePlayers().length) + &quot; join&quot;)));\n        Posc.get().getLogger().info(&quot;test&quot;);\n    }\n}\n</code></pre>\n<p>And the <code>PlayerQuitListener</code> class looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package me.lord.posc.listeners;\n\nimport me.lord.posc.Posc;\nimport me.lord.posc.utilities.TextUtil;\nimport org.bukkit.event.EventHandler;\nimport org.bukkit.event.Listener;\nimport org.bukkit.event.player.PlayerQuitEvent;\n\npublic class PlayerQuitListener implements Listener {\n    @EventHandler\n    public void onPlayerQuit(PlayerQuitEvent event) {\n        event.quitMessage(TextUtil.c(&quot;&amp;7[&amp;c-&amp;7] &amp;f&quot; + event.getPlayer().getName()));\n        Posc.get().getLogger().info(&quot;test&quot;);\n    }\n}\n</code></pre>\n<p>These classes, if they worked properly, would change the join and leave messages, and print &quot;test&quot; whenever a player joins or leaves. This is however not the case as none of these things happen when anyone leaves or joins the server which indicates that these listeners have not been registered properly or at all.</p>\n<p>I've tried many things to get it work but with no success. I tried...</p>\n<ul>\n<li>changing the location of the <code>META-INF</code> directory to <code>src</code>, <code>src\\main</code> and <code>src\\main\\java</code> but none of these did anything.</li>\n<li>making a new interface that extended <code>org.bukkit.event.Listener</code>, making the listener classes implement that and switching <code>Listener</code> with my interface in the <code>META-INF\\services</code> directory and in the <code>registerListeners()</code> method</li>\n<li>using different methods in place of the <code>for</code>, like streams, <code>Iterator</code> and <code>foreach()</code></li>\n<li><code>getClass().newInstance()</code></li>\n</ul>\n<p>I tried <code>loader.stream().findFirst().isEmpty()</code> to see if it actually loaded the classes, and the method returned true which means the loader doesn't for some reason load the classes.</p>\n"},{"tags":["java","android","azure","sqlite","azure-mobile-services"],"answers":[{"tags":[],"owner":{"account_id":1380274,"reputation":7990,"user_id":1313441,"display_name":"Adrian Hall"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673022319,"creation_date":1673022319,"answer_id":75033523,"question_id":73935985,"body_markdown":"1) The Android library is no longer supported.\r\n\r\n2) The Android library does not support custom queries.","title":"Custom queries with SQLiteLocalStore Azure","body":"<ol>\n<li><p>The Android library is no longer supported.</p>\n</li>\n<li><p>The Android library does not support custom queries.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":23128584,"reputation":85,"user_id":17234028,"display_name":"Daniel Hern&#225;ndez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673022319,"creation_date":1664802718,"question_id":73935985,"body_markdown":"How to make custom Queries with SQLiteLocalStore from microsoft.windowsazure package in Android with Java?\r\n\r\nI found [this issue related to mine][1], there is no `where` method for my `MobileServiceSyncTable`.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/39532931/android-query-sqlitelocalstore","title":"Custom queries with SQLiteLocalStore Azure","body":"<p>How to make custom Queries with SQLiteLocalStore from microsoft.windowsazure package in Android with Java?</p>\n<p>I found <a href=\"https://stackoverflow.com/questions/39532931/android-query-sqlitelocalstore\">this issue related to mine</a>, there is no <code>where</code> method for my <code>MobileServiceSyncTable</code>.</p>\n"},{"tags":["java","spring-boot","exception"],"comments":[{"owner":{"account_id":4344113,"reputation":66,"user_id":3546596,"display_name":"Marcin Koziarz"},"score":0,"creation_date":1673010388,"post_id":75029658,"comment_id":132406946,"body_markdown":"As @simon-martinelli wrote,you need to *throw* an Exception. `pilleRepo.findById(id)` method returns `Optional&lt;T&gt;` and its method `orElseThrow` will do following: if Optional has value, return it. If it doesn&#39;t, construct exception using passed lambda and then *throw* it.","body":"As @simon-martinelli wrote,you need to <i>throw</i> an Exception. <code>pilleRepo.findById(id)</code> method returns <code>Optional&lt;T&gt;</code> and its method <code>orElseThrow</code> will do following: if Optional has value, return it. If it doesn&#39;t, construct exception using passed lambda and then <i>throw</i> it."},{"owner":{"account_id":16082598,"reputation":362,"user_id":11608101,"display_name":"zichen.L"},"score":0,"creation_date":1690236730,"post_id":75029658,"comment_id":135322551,"body_markdown":"Tha anwser of @Marcin Koziarz is right .\n()-&gt; new PilleException(&quot;pille not found&quot;): This is the lambda expression used as an argument to orElseThrow(...). It creates and throws a custom exception of type PilleException with the message &quot;pille not found&quot;.\n\nAn equivalence way without without using a lambda expression is:\nOptional&lt;Pille&gt; optionalPille = pilleRepo.findById(id);\nif (optionalPille.isPresent()) {\n    Pille pille = optionalPille.get();\n    // Use the &#39;pille&#39; object as needed\n} else {\n    throw new PilleException(&quot;pille not found&quot;);\n}","body":"Tha anwser of @Marcin Koziarz is right . ()-&gt; new PilleException(&quot;pille not found&quot;): This is the lambda expression used as an argument to orElseThrow(...). It creates and throws a custom exception of type PilleException with the message &quot;pille not found&quot;.  An equivalence way without without using a lambda expression is: Optional&lt;Pille&gt; optionalPille = pilleRepo.findById(id); if (optionalPille.isPresent()) {     Pille pille = optionalPille.get();     // Use the &#39;pille&#39; object as needed } else {     throw new PilleException(&quot;pille not found&quot;); }"}],"answers":[{"comments":[{"owner":{"account_id":301643,"reputation":4131,"user_id":609511,"accept_rate":55,"display_name":"user609511"},"score":0,"creation_date":1673009852,"post_id":75029693,"comment_id":132406779,"body_markdown":"in tutorial it did. @Override\n    public Application findApplication(long id) {\n        Optional&lt;Application&gt; optionalApplication = applicationRepository.findById(id);\n\n        if(optionalApplication.isPresent())\n            return optionalApplication.get();\n        else\n            throw new ApplicationNotFoundException(&quot;Application Not Found&quot;);\n    }","body":"in tutorial it did. @Override     public Application findApplication(long id) {         Optional&lt;Application&gt; optionalApplication = applicationRepository.findById(id);          if(optionalApplication.isPresent())             return optionalApplication.get();         else             throw new ApplicationNotFoundException(&quot;Application Not Found&quot;);     }"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1673010224,"post_id":75029693,"comment_id":132406886,"body_markdown":"Now you changed your code! What do you mean by does not work? Do you get an error message?","body":"Now you changed your code! What do you mean by does not work? Do you get an error message?"},{"owner":{"account_id":301643,"reputation":4131,"user_id":609511,"accept_rate":55,"display_name":"user609511"},"score":0,"creation_date":1673010477,"post_id":75029693,"comment_id":132406969,"body_markdown":"doesn&#39;t work meant it not compile, it underline red line","body":"doesn&#39;t work meant it not compile, it underline red line"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1673010824,"post_id":75029693,"comment_id":132407042,"body_markdown":"But your code looks ok. What&#39;s the message in the IDE when it doesn&#39;t compile?","body":"But your code looks ok. What&#39;s the message in the IDE when it doesn&#39;t compile?"},{"owner":{"account_id":301643,"reputation":4131,"user_id":609511,"accept_rate":55,"display_name":"user609511"},"score":0,"creation_date":1673011689,"post_id":75029693,"comment_id":132407282,"body_markdown":"i add a new image","body":"i add a new image"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":1,"creation_date":1673011916,"post_id":75029693,"comment_id":132407352,"body_markdown":"Didn&#39;t you read my answer? You cannot return and exception you have to throw it!","body":"Didn&#39;t you read my answer? You cannot return and exception you have to throw it!"},{"owner":{"account_id":301643,"reputation":4131,"user_id":609511,"accept_rate":55,"display_name":"user609511"},"score":0,"creation_date":1673012608,"post_id":75029693,"comment_id":132407588,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/250899/discussion-between-user609511-and-simon-martinelli).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/250899/discussion-between-user609511-and-simon-martinelli\">continue this discussion in chat</a>."}],"tags":[],"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"comment_count":7,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1673000648,"creation_date":1673000648,"answer_id":75029693,"question_id":75029658,"body_markdown":"An exception is not returned it is thrown.\r\n\r\n    throw new PilleException(&quot;pille not found&quot;);\r\n\r\n","title":"How can i use exceptions in springboot","body":"<p>An exception is not returned it is thrown.</p>\n<pre><code>throw new PilleException(&quot;pille not found&quot;);\n</code></pre>\n"}],"owner":{"account_id":301643,"reputation":4131,"user_id":609511,"accept_rate":55,"display_name":"user609511"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1673021780,"creation_date":1673000445,"question_id":75029658,"body_markdown":"i am new in spring boot, i following the tuorial from Pluralsight.\r\n\r\ni got problem by using exceptions\r\n\r\n[![enter image description here][1]][1]\r\n\r\nhere is my service interface\r\n\r\n    package com.stev.pillecons.pilleCons.services;\r\n    \r\n    import com.stev.pillecons.pilleCons.models.LePille;\r\n    \r\n    import java.util.List;\r\n    \r\n    public interface PilleService {\r\n        List&lt;LePille&gt; listPilles();\r\n        LePille findPille(Integer id);\r\n    }\r\n\r\nhere is how i implements the services\r\n\r\n    package com.stev.pillecons.pilleCons.services;\r\n    \r\n    import com.stev.pillecons.pilleCons.exceptions.PilleException;\r\n    import com.stev.pillecons.pilleCons.models.LePille;\r\n    import com.stev.pillecons.pilleCons.repositories.LePilleRepo;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Service;\r\n    \r\n    import java.util.List;\r\n    import java.util.Optional;\r\n    \r\n    @Service\r\n    public class PilleServiceImpl implements PilleService{\r\n    \r\n        @Autowired\r\n        private LePilleRepo pilleRepo;\r\n    \r\n        @Override\r\n        public List&lt;LePille&gt; listPilles() {\r\n            return (List&lt;LePille&gt;) pilleRepo.findAll();\r\n        }\r\n    \r\n        @Override\r\n        public LePille findPille(Integer id) {\r\n            Optional&lt;LePille&gt; optionalLePille = pilleRepo.findById(id);\r\n    \r\n            if (optionalLePille.isPresent())\r\n                return optionalLePille.get();\r\n            else\r\n                return new PilleException(&quot;pille not found&quot;);\r\n    \r\n        }\r\n    }\r\n[![enter image description here][2]][2]\r\ni got red under line to this line :  `return new PilleException(&quot;pille not found&quot;);`\r\n\r\nhere is my exception\r\n\r\n    package com.stev.pillecons.pilleCons.exceptions;\r\n    \r\n    public class PilleException extends RuntimeException {\r\n    \r\n        public PilleException (String ex) {super(ex);}\r\n    }\r\n\r\n**EDIT**\r\n\r\ni use this code\r\n\r\n     @Override\r\n        public LePille findPille(Integer id) {\r\n            return pilleRepo.findById(id).orElseThrow(()-&gt; new PilleException(&quot;pille not found&quot;));\r\n        }\r\n\r\nit works, why my code doesn&#39;t work ?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/okYRA.png\r\n  [2]: https://i.stack.imgur.com/y7RHv.png","title":"How can i use exceptions in springboot","body":"<p>i am new in spring boot, i following the tuorial from Pluralsight.</p>\n<p>i got problem by using exceptions</p>\n<p><a href=\"https://i.stack.imgur.com/okYRA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/okYRA.png\" alt=\"enter image description here\" /></a></p>\n<p>here is my service interface</p>\n<pre><code>package com.stev.pillecons.pilleCons.services;\n\nimport com.stev.pillecons.pilleCons.models.LePille;\n\nimport java.util.List;\n\npublic interface PilleService {\n    List&lt;LePille&gt; listPilles();\n    LePille findPille(Integer id);\n}\n</code></pre>\n<p>here is how i implements the services</p>\n<pre><code>package com.stev.pillecons.pilleCons.services;\n\nimport com.stev.pillecons.pilleCons.exceptions.PilleException;\nimport com.stev.pillecons.pilleCons.models.LePille;\nimport com.stev.pillecons.pilleCons.repositories.LePilleRepo;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\nimport java.util.List;\nimport java.util.Optional;\n\n@Service\npublic class PilleServiceImpl implements PilleService{\n\n    @Autowired\n    private LePilleRepo pilleRepo;\n\n    @Override\n    public List&lt;LePille&gt; listPilles() {\n        return (List&lt;LePille&gt;) pilleRepo.findAll();\n    }\n\n    @Override\n    public LePille findPille(Integer id) {\n        Optional&lt;LePille&gt; optionalLePille = pilleRepo.findById(id);\n\n        if (optionalLePille.isPresent())\n            return optionalLePille.get();\n        else\n            return new PilleException(&quot;pille not found&quot;);\n\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/y7RHv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/y7RHv.png\" alt=\"enter image description here\" /></a>\ni got red under line to this line :  <code>return new PilleException(&quot;pille not found&quot;);</code></p>\n<p>here is my exception</p>\n<pre><code>package com.stev.pillecons.pilleCons.exceptions;\n\npublic class PilleException extends RuntimeException {\n\n    public PilleException (String ex) {super(ex);}\n}\n</code></pre>\n<p><strong>EDIT</strong></p>\n<p>i use this code</p>\n<pre><code> @Override\n    public LePille findPille(Integer id) {\n        return pilleRepo.findById(id).orElseThrow(()-&gt; new PilleException(&quot;pille not found&quot;));\n    }\n</code></pre>\n<p>it works, why my code doesn't work ?</p>\n"},{"tags":["java","android","android-mediaplayer"],"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1673018951,"post_id":75031302,"comment_id":132409762,"body_markdown":"&quot;I have an app that allows you to pick an audio file&quot; -- I recommend that you update your [mcve] to show the code for the &quot;pick&quot; operation and how that eventually gets to your `initSound()` call.","body":"&quot;I have an app that allows you to pick an audio file&quot; -- I recommend that you update your <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> to show the code for the &quot;pick&quot; operation and how that eventually gets to your <code>initSound()</code> call."},{"owner":{"account_id":13909926,"reputation":81,"user_id":10043377,"display_name":"DannyRoy"},"score":0,"creation_date":1673021387,"post_id":75031302,"comment_id":132410672,"body_markdown":"Updated just now","body":"Updated just now"},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1673022395,"post_id":75031302,"comment_id":132411022,"body_markdown":"I do not know what `Intent` you are using for the `startActivityForResult()` call for the `AppicationContants.AUDIO_PICK_REQUEST_CODE` request code. But, there are virtually no scenario in which you can get a &quot;file path&quot; from a `Uri`, because a `Uri` is not a file. Use the `Uri` itself with whatever `mSoundController` is.","body":"I do not know what <code>Intent</code> you are using for the <code>startActivityForResult()</code> call for the <code>AppicationContants.AUDIO_PICK_REQUEST_CODE</code> request code. But, there are virtually no scenario in which you can get a &quot;file path&quot; from a <code>Uri</code>, because a <code>Uri</code> is not a file. Use the <code>Uri</code> itself with whatever <code>mSoundController</code> is."},{"owner":{"account_id":13909926,"reputation":81,"user_id":10043377,"display_name":"DannyRoy"},"score":0,"creation_date":1673023265,"post_id":75031302,"comment_id":132411311,"body_markdown":"`private SoundController mSoundController` is the only reference to mSoundController.","body":"<code>private SoundController mSoundController</code> is the only reference to mSoundController."},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1673025816,"post_id":75031302,"comment_id":132412140,"body_markdown":"There are three calls made on `mSoundController` in `initAudio()`. In particular, you have a call to `mSoundController.loadAudio(audioFile.getAbsolutePath())`.","body":"There are three calls made on <code>mSoundController</code> in <code>initAudio()</code>. In particular, you have a call to <code>mSoundController.loadAudio(audioFile.getAbsolutePath())</code>."}],"owner":{"account_id":13909926,"reputation":81,"user_id":10043377,"display_name":"DannyRoy"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673021362,"creation_date":1673010255,"question_id":75031302,"body_markdown":"I have an app that allows you to pick an audio file and then load / playback etc.\r\n\r\nFor some reason certain files do not load, even though they are selectable, and are not unusual file types, for example, I am currently trying an MP3 audio file (6.5mb).\r\n\r\nThis is the process once selected;\r\n\r\n\r\n    // load audio to SoundController\r\n    public void initSound(String audioPath) {\r\n    \tFile audioFile = new File(audioPath);\r\n    \tif (audioFile.exists()) {\r\n    \t\tString s = audioFile.getName();\r\n    \t\tmFileName = s.substring(0, s.length() - 4);\r\n    \t\tshowProcessDialog();\r\n    \t\ttry {\r\n    \t\t\tmSoundController.loadAudio(audioFile.getAbsolutePath());\r\n    \t\t\tmSoundController.loadVisualizer(visualizerView, false);\r\n    \t\t\tmSoundController.loadVisualizer(visualizerReverseView, true);\r\n    \r\n    \t\t} catch (Exception e) {\r\n    \t\t\tToast.makeText(getApplicationContext(), &quot;Cannot load audio file&quot;, Toast.LENGTH_SHORT).show();\r\n    \t\t\tcloseProcessDiaglog();\r\n    \t\t}\r\n    \t} else {\r\n    \t\tToast.makeText(getApplicationContext(), &quot;File not found&quot;, Toast.LENGTH_SHORT).show();\r\n    \t}\r\n    }\r\n\r\nThe showProcessDialog;\r\n\r\n    void showProcessDialog() {\r\n    \t\tisLoadedAudio = false;\r\n    \t\tprcDialog = new ProgressDialog(this);\r\n    \t\tprcDialog.setMessage(&quot;Please Wait - Loading Audio - if this dialogue appears for more than 15 seconds, your file is not compatible so please try loading a different audio file.&quot;);\r\n    \t\tprcDialog.setCancelable(true);\r\n    \t\tprcDialog.setButton(AlertDialog.BUTTON_NEGATIVE, &quot;Cancel &amp; Try A Different Audio File&quot;,\r\n    \t\t\t\tnew DialogInterface.OnClickListener() {\r\n    \t\t\t\t\tpublic void onClick(DialogInterface dialog, int which) {\r\n    \t\t\t\t\t\tdialog.dismiss();\r\n    \t\t\t\t\t}\r\n    \t\t\t\t} );\r\n    \r\n    \t\tprcDialog.show();\r\n    \r\n    \r\n    \t}\r\n    \r\n    \t// Close Process dialog\r\n    \tvoid closeProcessDiaglog() {\r\n    \t\tif (prcDialog.isShowing()) {\r\n    \t\t\tprcDialog.dismiss();\r\n    \t\t}\r\n    \t\tcheckAudioLoaded();\r\n    \t}\r\n    \r\n    \tpublic void checkAudioLoaded() {\r\n    \t\tsbSongProcess.setEnabled(mSoundController.isPlaying());\r\n    \t\tif (mSoundController.isLoadedAudio()) {\r\n    \t\t\tplayAudio.setEnabled(true);\r\n    \t\t\tplayAudio.setChecked(mSoundController.isPlaying());\r\n    \t\t} else {\r\n    \t\t\tplayAudio.setEnabled(false);\r\n    \t\t\tplayAudio.setChecked(false);\r\n    \t\t}\r\n    \t}\r\n\r\n\r\nOf course also onActivityResult;\r\n\r\n\r\n    @Override\r\n    \tprotected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n    \t\tsuper.onActivityResult(requestCode, resultCode, data);\r\n    \t\tif (requestCode == AppicationContants.OPEN_FILE_REQUEST &amp;&amp; resultCode == RESULT_OK) {\r\n    \t\t\tmPath = data.getStringExtra(&quot;Path&quot;);\r\n    \t\t\tisLoadingFile = true;\r\n    \r\n    \t\t}\r\n    \t}\r\n\r\n\r\n\r\n\r\nThis particular mp3 file, the dialogue shows, however does not ever dismiss and the file does not load, but other files will fire the &#39;File not found&#39; Toast message found in my `initSound` method.\r\n\r\nI am struggling to understand why, these are audio files that are downloaded onto my device.\r\n\r\n\r\n\r\nThe ManagerAudioActivity.java file handles the choosing of the file / opening.\r\n\r\n    @RequiresApi(api = Build.VERSION_CODES.KITKAT)\r\n    \t@Override\r\n    \tprotected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n    \t\tsuper.onActivityResult(requestCode, resultCode, data);\r\n    \t\tif (requestCode == AppicationContants.AUDIO_PICK_REQUEST_CODE &amp;&amp; resultCode == RESULT_OK) {\r\n    \r\n    \t\t\ttry {\r\n    \t\t\t\tUri uri = data.getData();\r\n    \t\t\t\tString arr1 = uri.toString().substring(0, uri.toString().lastIndexOf(&quot;/&quot;));\r\n    \t\t\t\tString id = DocumentsContract.getDocumentId(uri);\r\n    \t\t\t\tString path = FilePath.getPath(this, uri);\r\n    \t\t\t\tFile t = null;\r\n                    // Alternatively, use FileUtils.getFile(Context, Uri)\r\n                    if (path != null &amp;&amp; FileUtils.isLocal(path)) {\r\n                        t = new File(path);\r\n                    }\r\n    \t\t\t\tmPath = path;\r\n                    Toast.makeText(getApplicationContext(), mPath, Toast.LENGTH_LONG).show();\r\n    \t\t\t\tif(checkIfAudio(mPath)) {\r\n    \t\t\t\t\tif(t.exists()) {\r\n    \t\t\t\t\t\tString description = &quot;Tempo:100 Pitch:+0 Key:+0&quot;;\r\n    \t\t\t\t\t\tSong newSong = new Song(t.getName().substring(0, t.getName().length() -4), description, t.getAbsolutePath());\r\n    \t\t\t\t\t\tif(!checkIfExisted(newSong.getName())) {\r\n    \t\t\t\t\t\t\tcurrentCategory.getSongs().add(newSong);\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\r\n    \t\t\t\t\t\tSongAdapter songAdapter = new SongAdapter(ManagerAudioActivity.this, currentCategory.getSongs());\r\n    \t\t\t\t\t\tlvListSong.setAdapter(songAdapter);\r\n    \t\t\t\t\t\t((CustomAdapter) lvListCategory.getAdapter()).updateItemList(categories);\r\n    \t\t\t\t\t\tsaveData();\r\n    \t\t\t\t\t} else {\r\n    \t\t\t\t\t\tToast.makeText(getApplicationContext(), &quot;File not found&quot;, Toast.LENGTH_SHORT).show();\r\n    \t\t\t\t\t}\r\n    \t\t\t\t} else {\r\n    \t\t\t\t\tToast.makeText(getApplicationContext(), &quot;File in wrong format&quot;, Toast.LENGTH_SHORT).show();\r\n    \t\t\t\t}\r\n    \t\t\t} catch (Exception ex) {\r\n    \t\t\t\tToast.makeText(getApplicationContext(), &quot;File not found&quot;, Toast.LENGTH_SHORT).show();\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tpublic boolean checkIfAudio(String path)\r\n    \t{\r\n    \t\tboolean result = false;\r\n    \t\ttry {\r\n    \t\t\tSoundStreamAudioPlayer audioPlayer = new SoundStreamAudioPlayer(10, path, 1.0f, 0.0f);\r\n    \t\t\tresult = true;\r\n    \t\t\taudioPlayer = null;\r\n    \t\t} catch (IOException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t\tToast.makeText(getApplicationContext(), &quot;error=&quot;+e.getMessage(), Toast.LENGTH_SHORT).show();\r\n    \t\t}\r\n    \t\t\r\n    \t\treturn result;\r\n    \t}\r\n    \tpublic boolean checkIfExisted(String name)\r\n    \t{\r\n    \t\tif(currentCategory!= null &amp;&amp; currentCategory.getSongs().size()&gt;0)\r\n    \t\t{\r\n    \t\t\tfor(int i =0 ; i&lt; currentCategory.getSongs().size() ; i++)\r\n    \t\t\t{\r\n    \t\t\t\tif(currentCategory.getSongs().get(i).getName().equals(name))\r\n    \t\t\t\t{\r\n    \t\t\t\t\treturn true;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn false;\r\n    \t}\r\n\r\n","title":"Certain audio files not loading on Android &#39;File not found&#39;","body":"<p>I have an app that allows you to pick an audio file and then load / playback etc.</p>\n<p>For some reason certain files do not load, even though they are selectable, and are not unusual file types, for example, I am currently trying an MP3 audio file (6.5mb).</p>\n<p>This is the process once selected;</p>\n<pre><code>// load audio to SoundController\npublic void initSound(String audioPath) {\n    File audioFile = new File(audioPath);\n    if (audioFile.exists()) {\n        String s = audioFile.getName();\n        mFileName = s.substring(0, s.length() - 4);\n        showProcessDialog();\n        try {\n            mSoundController.loadAudio(audioFile.getAbsolutePath());\n            mSoundController.loadVisualizer(visualizerView, false);\n            mSoundController.loadVisualizer(visualizerReverseView, true);\n\n        } catch (Exception e) {\n            Toast.makeText(getApplicationContext(), &quot;Cannot load audio file&quot;, Toast.LENGTH_SHORT).show();\n            closeProcessDiaglog();\n        }\n    } else {\n        Toast.makeText(getApplicationContext(), &quot;File not found&quot;, Toast.LENGTH_SHORT).show();\n    }\n}\n</code></pre>\n<p>The showProcessDialog;</p>\n<pre><code>void showProcessDialog() {\n        isLoadedAudio = false;\n        prcDialog = new ProgressDialog(this);\n        prcDialog.setMessage(&quot;Please Wait - Loading Audio - if this dialogue appears for more than 15 seconds, your file is not compatible so please try loading a different audio file.&quot;);\n        prcDialog.setCancelable(true);\n        prcDialog.setButton(AlertDialog.BUTTON_NEGATIVE, &quot;Cancel &amp; Try A Different Audio File&quot;,\n                new DialogInterface.OnClickListener() {\n                    public void onClick(DialogInterface dialog, int which) {\n                        dialog.dismiss();\n                    }\n                } );\n\n        prcDialog.show();\n\n\n    }\n\n    // Close Process dialog\n    void closeProcessDiaglog() {\n        if (prcDialog.isShowing()) {\n            prcDialog.dismiss();\n        }\n        checkAudioLoaded();\n    }\n\n    public void checkAudioLoaded() {\n        sbSongProcess.setEnabled(mSoundController.isPlaying());\n        if (mSoundController.isLoadedAudio()) {\n            playAudio.setEnabled(true);\n            playAudio.setChecked(mSoundController.isPlaying());\n        } else {\n            playAudio.setEnabled(false);\n            playAudio.setChecked(false);\n        }\n    }\n</code></pre>\n<p>Of course also onActivityResult;</p>\n<pre><code>@Override\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n        if (requestCode == AppicationContants.OPEN_FILE_REQUEST &amp;&amp; resultCode == RESULT_OK) {\n            mPath = data.getStringExtra(&quot;Path&quot;);\n            isLoadingFile = true;\n\n        }\n    }\n</code></pre>\n<p>This particular mp3 file, the dialogue shows, however does not ever dismiss and the file does not load, but other files will fire the 'File not found' Toast message found in my <code>initSound</code> method.</p>\n<p>I am struggling to understand why, these are audio files that are downloaded onto my device.</p>\n<p>The ManagerAudioActivity.java file handles the choosing of the file / opening.</p>\n<pre><code>@RequiresApi(api = Build.VERSION_CODES.KITKAT)\n    @Override\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n        if (requestCode == AppicationContants.AUDIO_PICK_REQUEST_CODE &amp;&amp; resultCode == RESULT_OK) {\n\n            try {\n                Uri uri = data.getData();\n                String arr1 = uri.toString().substring(0, uri.toString().lastIndexOf(&quot;/&quot;));\n                String id = DocumentsContract.getDocumentId(uri);\n                String path = FilePath.getPath(this, uri);\n                File t = null;\n                // Alternatively, use FileUtils.getFile(Context, Uri)\n                if (path != null &amp;&amp; FileUtils.isLocal(path)) {\n                    t = new File(path);\n                }\n                mPath = path;\n                Toast.makeText(getApplicationContext(), mPath, Toast.LENGTH_LONG).show();\n                if(checkIfAudio(mPath)) {\n                    if(t.exists()) {\n                        String description = &quot;Tempo:100 Pitch:+0 Key:+0&quot;;\n                        Song newSong = new Song(t.getName().substring(0, t.getName().length() -4), description, t.getAbsolutePath());\n                        if(!checkIfExisted(newSong.getName())) {\n                            currentCategory.getSongs().add(newSong);\n                        }\n                        \n                        SongAdapter songAdapter = new SongAdapter(ManagerAudioActivity.this, currentCategory.getSongs());\n                        lvListSong.setAdapter(songAdapter);\n                        ((CustomAdapter) lvListCategory.getAdapter()).updateItemList(categories);\n                        saveData();\n                    } else {\n                        Toast.makeText(getApplicationContext(), &quot;File not found&quot;, Toast.LENGTH_SHORT).show();\n                    }\n                } else {\n                    Toast.makeText(getApplicationContext(), &quot;File in wrong format&quot;, Toast.LENGTH_SHORT).show();\n                }\n            } catch (Exception ex) {\n                Toast.makeText(getApplicationContext(), &quot;File not found&quot;, Toast.LENGTH_SHORT).show();\n            }\n            \n        }\n    }\n    \n    public boolean checkIfAudio(String path)\n    {\n        boolean result = false;\n        try {\n            SoundStreamAudioPlayer audioPlayer = new SoundStreamAudioPlayer(10, path, 1.0f, 0.0f);\n            result = true;\n            audioPlayer = null;\n        } catch (IOException e) {\n            e.printStackTrace();\n            Toast.makeText(getApplicationContext(), &quot;error=&quot;+e.getMessage(), Toast.LENGTH_SHORT).show();\n        }\n        \n        return result;\n    }\n    public boolean checkIfExisted(String name)\n    {\n        if(currentCategory!= null &amp;&amp; currentCategory.getSongs().size()&gt;0)\n        {\n            for(int i =0 ; i&lt; currentCategory.getSongs().size() ; i++)\n            {\n                if(currentCategory.getSongs().get(i).getName().equals(name))\n                {\n                    return true;\n                }\n            }\n        }\n        return false;\n    }\n</code></pre>\n"},{"tags":["java","garbage-collection"],"comments":[{"owner":{"account_id":5295180,"reputation":192,"user_id":4226541,"display_name":"ad3luc"},"score":2,"creation_date":1686317751,"post_id":75033290,"comment_id":134786338,"body_markdown":"Seems that there are a problem not yet resolved https://bugs.openjdk.org/browse/JDK-8192647","body":"Seems that there are a problem not yet resolved <a href=\"https://bugs.openjdk.org/browse/JDK-8192647\" rel=\"nofollow noreferrer\">bugs.openjdk.org/browse/JDK-8192647</a>"},{"owner":{"account_id":432024,"reputation":130,"user_id":816495,"display_name":"sonnenhund"},"score":0,"creation_date":1686916839,"post_id":75033290,"comment_id":134867855,"body_markdown":"By no means am I an expert at this, however I&#39;m having to solve the same problem (for Logstash specifically). I have come across these two links which seem informative:\n\nhttps://tech.clevertap.com/demystifying-g1-gc-gclocker-jni-critical-and-fake-oom-exceptions/\n\nand\n\nhttps://discuss.elastic.co/t/gclocker-too-often-allocating-256-words/323769/2\n\n(The latter references the former.)","body":"By no means am I an expert at this, however I&#39;m having to solve the same problem (for Logstash specifically). I have come across these two links which seem informative:  <a href=\"https://tech.clevertap.com/demystifying-g1-gc-gclocker-jni-critical-and-fake-oom-exceptions/\" rel=\"nofollow noreferrer\">tech.clevertap.com/&hellip;</a>  and  <a href=\"https://discuss.elastic.co/t/gclocker-too-often-allocating-256-words/323769/2\" rel=\"nofollow noreferrer\">discuss.elastic.co/t/gclocker-too-often-allocating-256-words&zwnj;&#8203;/&hellip;</a>  (The latter references the former.)"}],"owner":{"account_id":7295,"reputation":23914,"user_id":12631,"accept_rate":57,"display_name":"Horcrux7"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3641,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":0,"score":5,"last_activity_date":1673021008,"creation_date":1673021008,"question_id":75033290,"body_markdown":"I see the follow output on my Java console. What this means? Why it occur?\r\n\r\n    [477.615s][warning][gc,alloc] mythreadname: Retried waiting for GCLocker too often allocating 12488753 words\r\n    [519.628s][warning][gc,alloc] mythreadname: Retried waiting for GCLocker too often allocating 12488753 words","title":"Retried waiting for GCLocker too often allocating 12488753 words","body":"<p>I see the follow output on my Java console. What this means? Why it occur?</p>\n<pre><code>[477.615s][warning][gc,alloc] mythreadname: Retried waiting for GCLocker too often allocating 12488753 words\n[519.628s][warning][gc,alloc] mythreadname: Retried waiting for GCLocker too often allocating 12488753 words\n</code></pre>\n"},{"tags":["java","spring","spring-integration"],"answers":[{"comments":[{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":1,"creation_date":1673021978,"post_id":75033244,"comment_id":132410892,"body_markdown":"It fails same way even with `14.0.1`. At the same time I confirm that IntelliJ IDEA does not complain about any line of code and even show correct method references from any level of our code.","body":"It fails same way even with <code>14.0.1</code>. At the same time I confirm that IntelliJ IDEA does not complain about any line of code and even show correct method references from any level of our code."},{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1673036012,"post_id":75033244,"comment_id":132415009,"body_markdown":"Thanks for the workaround, it solves this issue.","body":"Thanks for the workaround, it solves this issue."}],"tags":[],"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673020746,"creation_date":1673020746,"answer_id":75033244,"question_id":75031285,"body_markdown":"Confirmed. Looks like some bug in Java compiler by itself.\r\nWhen I swap those `transform()` and `handle()` it compiles.\r\nOr if I remove it or modify some other way...\r\n\r\nYou can use this as a workaround for now:\r\n\r\n    .transform(this, &quot;transform&quot;)\r\n\r\nThat compiler error is fully not relevant to your `transform()` definition.\r\n\r\nI might be mistaken judging Java compiler, so will be glad to see some other explanations and hints what is wrong with our code.","title":"Spring Integration: Calling transformer before handler denies transactional context","body":"<p>Confirmed. Looks like some bug in Java compiler by itself.\nWhen I swap those <code>transform()</code> and <code>handle()</code> it compiles.\nOr if I remove it or modify some other way...</p>\n<p>You can use this as a workaround for now:</p>\n<pre><code>.transform(this, &quot;transform&quot;)\n</code></pre>\n<p>That compiler error is fully not relevant to your <code>transform()</code> definition.</p>\n<p>I might be mistaken judging Java compiler, so will be glad to see some other explanations and hints what is wrong with our code.</p>\n"}],"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":75033244,"answer_count":1,"score":3,"last_activity_date":1673020746,"creation_date":1673010167,"question_id":75031285,"body_markdown":"I am still fighting to realize the following flow using Spring Integration 5.5:\r\n\r\n1. read a file from remote SFTP service as InputStream\r\n1. transform that stream into a custom entity\r\n1. persist the entity via JPA\r\n1. delete remote file from SFTP server\r\n\r\nSo, I have the following flow using Java DSL:\r\n\r\n```java\r\n@Configuration\r\npublic class Flow {\r\n\r\n    @Bean\r\n    public StandardIntegrationFlow createFlow() {\r\n        return IntegrationFlows\r\n            .from(source())\r\n            .publishSubscribeChannel(pubSub -&gt; pubSub\r\n                .subscribe(sub1 -&gt; sub1\r\n                    .transform(Message.class, this::transform)\r\n                    .handle(persist(), e -&gt; e.transactional(false))\r\n                )\r\n                .subscribe(sub2 -&gt; sub2 \r\n                    .handle(remove())\r\n                )\r\n            )\r\n            .get();\r\n\r\n    }\r\n\r\n    public MessageSource&lt;InputStream&gt; source() {\r\n        return null;\r\n    }\r\n\r\n    public Message&lt;MyEntity&gt; transform(Message&lt;InputStream&gt; message) {\r\n        return null;\r\n    }\r\n\r\n    public JpaOutboundGateway persist() {\r\n        return null;\r\n    }\r\n\r\n    public AbstractMessageHandler remove() {\r\n        return null;\r\n    }\r\n\r\n}\r\n```\r\n\r\nMy IDE (VSCode) is giving me no warning about this code, however when trying to compile it using Apache Maven 3.8 / JDK 17, I get the following compilation error:\r\n\r\n```\r\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.1:compile (default-compile) on project amqp: Compilation failure\r\n[ERROR] /C:/Users/.../src/main/java/com/example/Flow.java:[25,46] cannot find symbol\r\n[ERROR]   symbol:   method transactional(boolean)\r\n[ERROR]   location: variable e of type java.lang.Object\r\n```\r\n\r\nThe reason seems to the the transformation (`transform()`), because as soon as I remove that transformation, the code compiles. Of course it fails during runtime, because `persist()` method expects a Message&lt;MyEntity&gt;, not Message&lt;InputStream&gt;.\r\n\r\nAny ideas on what is wrong with my transform-methods signature?\r\n\r\n","title":"Spring Integration: Calling transformer before handler denies transactional context","body":"<p>I am still fighting to realize the following flow using Spring Integration 5.5:</p>\n<ol>\n<li>read a file from remote SFTP service as InputStream</li>\n<li>transform that stream into a custom entity</li>\n<li>persist the entity via JPA</li>\n<li>delete remote file from SFTP server</li>\n</ol>\n<p>So, I have the following flow using Java DSL:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class Flow {\n\n    @Bean\n    public StandardIntegrationFlow createFlow() {\n        return IntegrationFlows\n            .from(source())\n            .publishSubscribeChannel(pubSub -&gt; pubSub\n                .subscribe(sub1 -&gt; sub1\n                    .transform(Message.class, this::transform)\n                    .handle(persist(), e -&gt; e.transactional(false))\n                )\n                .subscribe(sub2 -&gt; sub2 \n                    .handle(remove())\n                )\n            )\n            .get();\n\n    }\n\n    public MessageSource&lt;InputStream&gt; source() {\n        return null;\n    }\n\n    public Message&lt;MyEntity&gt; transform(Message&lt;InputStream&gt; message) {\n        return null;\n    }\n\n    public JpaOutboundGateway persist() {\n        return null;\n    }\n\n    public AbstractMessageHandler remove() {\n        return null;\n    }\n\n}\n</code></pre>\n<p>My IDE (VSCode) is giving me no warning about this code, however when trying to compile it using Apache Maven 3.8 / JDK 17, I get the following compilation error:</p>\n<pre><code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.1:compile (default-compile) on project amqp: Compilation failure\n[ERROR] /C:/Users/.../src/main/java/com/example/Flow.java:[25,46] cannot find symbol\n[ERROR]   symbol:   method transactional(boolean)\n[ERROR]   location: variable e of type java.lang.Object\n</code></pre>\n<p>The reason seems to the the transformation (<code>transform()</code>), because as soon as I remove that transformation, the code compiles. Of course it fails during runtime, because <code>persist()</code> method expects a Message, not Message.</p>\n<p>Any ideas on what is wrong with my transform-methods signature?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":1,"creation_date":1491831493,"post_id":43324601,"comment_id":73713623,"body_markdown":"Create a new `TimerTask` instance rather than trying to reuse an existing one. Or, switch to `ScheduledExecutorService`.","body":"Create a new <code>TimerTask</code> instance rather than trying to reuse an existing one. Or, switch to <code>ScheduledExecutorService</code>."}],"answers":[{"tags":[],"owner":{"account_id":1212394,"reputation":3870,"user_id":1180691,"accept_rate":43,"display_name":"Krish"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1491832512,"creation_date":1491831554,"answer_id":43324790,"question_id":43324601,"body_markdown":"You can *not* reuse the timertask . Create new instance of `TimerTask`.\r\n","title":"IllegalStateException when trying to schedule a timer","body":"<p>You can <em>not</em> reuse the timertask . Create new instance of <code>TimerTask</code>.</p>\n"},{"tags":[],"owner":{"account_id":7421543,"reputation":2874,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673020711,"creation_date":1673020711,"answer_id":75033238,"question_id":43324601,"body_markdown":"As Krish mentioned, you cannot reuse the TimerTask. If you want to, however, you can use [`Runnable`][1] instead of TimerTask and execute it with a [`ScheduledExecutorService`][2]. See [this answer][3] for an example.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/Runnable.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ScheduledExecutorService.html\r\n  [3]: https://stackoverflow.com/a/75033062/5645656","title":"IllegalStateException when trying to schedule a timer","body":"<p>As Krish mentioned, you cannot reuse the TimerTask. If you want to, however, you can use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Runnable.html\" rel=\"nofollow noreferrer\"><code>Runnable</code></a> instead of TimerTask and execute it with a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ScheduledExecutorService.html\" rel=\"nofollow noreferrer\"><code>ScheduledExecutorService</code></a>. See <a href=\"https://stackoverflow.com/a/75033062/5645656\">this answer</a> for an example.</p>\n"}],"owner":{"account_id":6473006,"reputation":27420,"user_id":6296561,"accept_rate":95,"display_name":"Zoe is on strike"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2435,"favorite_count":0,"down_vote_count":12,"up_vote_count":5,"accepted_answer_id":43324790,"answer_count":2,"score":-7,"last_activity_date":1673020711,"creation_date":1491831081,"question_id":43324601,"body_markdown":"From the documentation of the cancel method:\r\n\r\n&gt;(Loosely speaking, this method returns &lt;tt&gt;true&lt;/tt&gt; if it prevents one or more scheduled executions from taking place.)\r\n\r\nAnd when I execute this code:\r\n\r\n    private Timer timer = null;\r\n    private TimerTask runnable = new TimerTask() {\r\n        @Override\r\n        public void run() {\r\n            Log.e(&quot;DEBUG&quot;, &quot;Scheduled task tick&quot;);\r\n            if(!looper){\r\n                Looper.prepare();\r\n                looper = true;\r\n            }\r\n            VolleyConnect vc = new VolleyConnect();\r\n            vc.connect(ErrorListActivity.this);\r\n        }\r\n    };\r\n\r\n    @Override\r\n    public void onWindowFocusChanged(boolean focus){\r\n        if(!focus){\r\n            kill();\r\n        }else{\r\n            start();\r\n        }\r\n        Log.e(&quot;DEBUG&quot;, &quot;FOCUS &quot; + focus);\r\n    }\r\n\r\n    public void start(){\r\n        if(timer == null){\r\n            timer = new Timer();\r\n            //180000 ms = 3 minutes\r\n            timer.scheduleAtFixedRate(runnable, 0L, 180000L);&lt;--- This line is the one that triggers the error.\r\n        }\r\n    }\r\n\r\n    public void kill(){\r\n        if(timer != null) {\r\n            boolean rep = runnable.cancel();\r\n            Log.e(&quot;DEBUG&quot;, &quot;REP = &quot; + rep);\r\n            timer.cancel();\r\n            timer = null;\r\n            looper = false;\r\n        }\r\n    }\r\n\r\nUnexpectedly, the debug statement prints:\r\n\r\n    E/DEBUG: REP = true\r\n\r\nwhich shows that the cancel should be completed. However, when I regain window focus (and try to reschedule the timer), the app crashes with this error:\r\n\r\n\r\n    java.lang.IllegalStateException: Task already scheduled or cancelled\r\n        at java.util.Timer.sched(Timer.java:401)\r\n        at java.util.Timer.scheduleAtFixedRate(Timer.java:328)\r\n        at com.package.ErrorListActivity.start(ErrorListActivity.java:198)\r\n        at com.package.ErrorListActivity.onWindowFocusChanged(ErrorListActivity.java:189)\r\n        at android.support.v7.view.WindowCallbackWrapper.onWindowFocusChanged(WindowCallbackWrapper.java:128)\r\n        at android.support.v7.view.WindowCallbackWrapper.onWindowFocusChanged(WindowCallbackWrapper.java:128)\r\n        at com.android.internal.policy.DecorView.onWindowFocusChanged(DecorView.java:1414)\r\n        at android.view.View.dispatchWindowFocusChanged(View.java:10173)\r\n        at android.view.ViewGroup.dispatchWindowFocusChanged(ViewGroup.java:1192)\r\n        at android.view.ViewRootImpl$ViewRootHandler.handleMessage(ViewRootImpl.java:3757)\r\n        at android.os.Handler.dispatchMessage(Handler.java:102)\r\n        at android.os.Looper.loop(Looper.java:154)\r\n        at android.app.ActivityThread.main(ActivityThread.java:6120)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:865)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:755)\r\n\r\nI have no clue how to fix this, and I have looked through the other similar questions but nothing has worked yet. Any ideas?\r\n\r\n&lt;sub&gt;\r\nIncidentally, this is not a duplicate of [this question](https://stackoverflow.com/questions/23648258/java-lang-illegalstateexception-timertask-is-scheduled-already-rationally-usin). It is the same issue, but I call cancel and it returns true (meaning it should work, but it doesn&#39;t).\r\n&lt;/sub&gt;","title":"IllegalStateException when trying to schedule a timer","body":"<p>From the documentation of the cancel method:</p>\n\n<blockquote>\n  <p>(Loosely speaking, this method returns true if it prevents one or more scheduled executions from taking place.)</p>\n</blockquote>\n\n<p>And when I execute this code:</p>\n\n<pre><code>private Timer timer = null;\nprivate TimerTask runnable = new TimerTask() {\n    @Override\n    public void run() {\n        Log.e(\"DEBUG\", \"Scheduled task tick\");\n        if(!looper){\n            Looper.prepare();\n            looper = true;\n        }\n        VolleyConnect vc = new VolleyConnect();\n        vc.connect(ErrorListActivity.this);\n    }\n};\n\n@Override\npublic void onWindowFocusChanged(boolean focus){\n    if(!focus){\n        kill();\n    }else{\n        start();\n    }\n    Log.e(\"DEBUG\", \"FOCUS \" + focus);\n}\n\npublic void start(){\n    if(timer == null){\n        timer = new Timer();\n        //180000 ms = 3 minutes\n        timer.scheduleAtFixedRate(runnable, 0L, 180000L);&lt;--- This line is the one that triggers the error.\n    }\n}\n\npublic void kill(){\n    if(timer != null) {\n        boolean rep = runnable.cancel();\n        Log.e(\"DEBUG\", \"REP = \" + rep);\n        timer.cancel();\n        timer = null;\n        looper = false;\n    }\n}\n</code></pre>\n\n<p>Unexpectedly, the debug statement prints:</p>\n\n<pre><code>E/DEBUG: REP = true\n</code></pre>\n\n<p>which shows that the cancel should be completed. However, when I regain window focus (and try to reschedule the timer), the app crashes with this error:</p>\n\n<pre><code>java.lang.IllegalStateException: Task already scheduled or cancelled\n    at java.util.Timer.sched(Timer.java:401)\n    at java.util.Timer.scheduleAtFixedRate(Timer.java:328)\n    at com.package.ErrorListActivity.start(ErrorListActivity.java:198)\n    at com.package.ErrorListActivity.onWindowFocusChanged(ErrorListActivity.java:189)\n    at android.support.v7.view.WindowCallbackWrapper.onWindowFocusChanged(WindowCallbackWrapper.java:128)\n    at android.support.v7.view.WindowCallbackWrapper.onWindowFocusChanged(WindowCallbackWrapper.java:128)\n    at com.android.internal.policy.DecorView.onWindowFocusChanged(DecorView.java:1414)\n    at android.view.View.dispatchWindowFocusChanged(View.java:10173)\n    at android.view.ViewGroup.dispatchWindowFocusChanged(ViewGroup.java:1192)\n    at android.view.ViewRootImpl$ViewRootHandler.handleMessage(ViewRootImpl.java:3757)\n    at android.os.Handler.dispatchMessage(Handler.java:102)\n    at android.os.Looper.loop(Looper.java:154)\n    at android.app.ActivityThread.main(ActivityThread.java:6120)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:865)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:755)\n</code></pre>\n\n<p>I have no clue how to fix this, and I have looked through the other similar questions but nothing has worked yet. Any ideas?</p>\n\n<p><sub>\nIncidentally, this is not a duplicate of <a href=\"https://stackoverflow.com/questions/23648258/java-lang-illegalstateexception-timertask-is-scheduled-already-rationally-usin\">this question</a>. It is the same issue, but I call cancel and it returns true (meaning it should work, but it doesn't).\n</sub></p>\n"},{"tags":["java","xml","groovy"],"answers":[{"comments":[{"owner":{"account_id":22430,"reputation":23034,"user_id":55284,"accept_rate":73,"display_name":"Emil Sit"},"score":0,"creation_date":1312902104,"post_id":5125368,"comment_id":8353635,"body_markdown":"Have you used the groovy-eclipse-compiler for joint compilation?  It hooks into the maven-compiler-plugin.","body":"Have you used the groovy-eclipse-compiler for joint compilation?  It hooks into the maven-compiler-plugin."}],"tags":[],"owner":{"account_id":31011,"reputation":122016,"user_id":84889,"display_name":"Peter Niederwieser"},"comment_count":1,"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1386358003,"creation_date":1298700053,"answer_id":5125368,"question_id":5123516,"body_markdown":"Generally speaking, there are two approaches for integrating Groovy with Java:\r\n\r\n1. Make the Java code compile and execute Groovy code at runtime\r\n2. Compile and package Groovy code as part of your build, just like you do for Java code\r\n\r\nUse 1. if you need a &quot;scripting&quot; solution and the Groovy code to be executed is only known at runtime. For example, the code could be loaded from a database, or entered in a GUI screen. If you simply want to make your life easier by writing some parts of your application in Groovy, go with 2. Two typical examples where this can quickly pay off are XML parsing and testing (of course there are many more).\r\n\r\nAssuming you are more interested in 2., you can either compile Groovy and Java separately or together. If you compile them separately, static references can only go in one direction, just as if you had two Java modules. If you compile them together, you can mix Groovy and Java code arbitrarily, as if it was all Java code in the same module.\r\n\r\nCompiling Java and Groovy code together is made possible by a Groovy compiler feature called *joint compilation*. Unfortunately, GMaven has serious problems with joint compilation, and there is no sign that this will change any time soon. For smaller projects you might get away with it, but for larger projects it will bite you (I&#39;ve been there). There are solutions, but they don&#39;t come for free. If you are open to (G)Maven alternatives, consider switching to [Gradle][1], which has much better Groovy support. (Disclaimer: I&#39;m one of the developers of Gradle.)\r\n\r\nIf you decide to stick to GMaven, make sure to get its configuration right. Almost every project I see fails at this step, often without realizing it. The GMaven documentation is outdated, but the Groovy mailing list contains several posts on the topic. You can also copy the configuration from [Spock][2] (one of my own projects).\r\n\r\nTo enable GMaven joint compilation, add the `generateStubs` goal. As long as your project compiles without this goal, leave it out.  There is also a `generateTestStubs` goal, but it is rarely needed.\r\n\r\nThis is the short story. For the long story, check out the upcoming Manning book [Making Java Groovy][3]. (I&#39;m not affiliated with the author.)\r\n\r\n\r\n  [1]: http://gradle.org\r\n  [2]: https://github.com/spockframework/spock/blob/21f9b5874844628daf90ead3332b4e271c7cf9cb/spock-example/pom.xml\r\n  [3]: http://www.manning.com/kousen/","title":"Integrating Groovy with Java","body":"<p>Generally speaking, there are two approaches for integrating Groovy with Java:</p>\n\n<ol>\n<li>Make the Java code compile and execute Groovy code at runtime</li>\n<li>Compile and package Groovy code as part of your build, just like you do for Java code</li>\n</ol>\n\n<p>Use 1. if you need a \"scripting\" solution and the Groovy code to be executed is only known at runtime. For example, the code could be loaded from a database, or entered in a GUI screen. If you simply want to make your life easier by writing some parts of your application in Groovy, go with 2. Two typical examples where this can quickly pay off are XML parsing and testing (of course there are many more).</p>\n\n<p>Assuming you are more interested in 2., you can either compile Groovy and Java separately or together. If you compile them separately, static references can only go in one direction, just as if you had two Java modules. If you compile them together, you can mix Groovy and Java code arbitrarily, as if it was all Java code in the same module.</p>\n\n<p>Compiling Java and Groovy code together is made possible by a Groovy compiler feature called <em>joint compilation</em>. Unfortunately, GMaven has serious problems with joint compilation, and there is no sign that this will change any time soon. For smaller projects you might get away with it, but for larger projects it will bite you (I've been there). There are solutions, but they don't come for free. If you are open to (G)Maven alternatives, consider switching to <a href=\"http://gradle.org\" rel=\"noreferrer\">Gradle</a>, which has much better Groovy support. (Disclaimer: I'm one of the developers of Gradle.)</p>\n\n<p>If you decide to stick to GMaven, make sure to get its configuration right. Almost every project I see fails at this step, often without realizing it. The GMaven documentation is outdated, but the Groovy mailing list contains several posts on the topic. You can also copy the configuration from <a href=\"https://github.com/spockframework/spock/blob/21f9b5874844628daf90ead3332b4e271c7cf9cb/spock-example/pom.xml\" rel=\"noreferrer\">Spock</a> (one of my own projects).</p>\n\n<p>To enable GMaven joint compilation, add the <code>generateStubs</code> goal. As long as your project compiles without this goal, leave it out.  There is also a <code>generateTestStubs</code> goal, but it is rarely needed.</p>\n\n<p>This is the short story. For the long story, check out the upcoming Manning book <a href=\"http://www.manning.com/kousen/\" rel=\"noreferrer\">Making Java Groovy</a>. (I'm not affiliated with the author.)</p>\n"},{"tags":[],"owner":{"account_id":89881,"reputation":1011,"user_id":247700,"display_name":"TheKaptain"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1298740255,"creation_date":1298740255,"answer_id":5128416,"question_id":5123516,"body_markdown":"For Peter&#39;s #1 suggestion above, I put together a collection of examples using Java to run Groovy scripts  [in a blog post awhile back][1] that comes along with [code samples on github][2]. \r\nI can also back him up on his comments regarding GMaven and joint compilation - it works, but can end up causing more problems than it&#39;s worth.\r\n+1 on considering Gradle as well. While most of my experience with using it for production is with Java source and Groovy test code, it has so far worked flawlessly for me.\r\nBest of luck!\r\n\r\n\r\n  [1]: http://www.kellyrob99.com/blog/2009/11/21/different-flavors-of-embedded-groovy-in-java-apps-or-how-to-make-your-java-groovier/\r\n  [2]: https://github.com/kellyrob99/running-groovy","title":"Integrating Groovy with Java","body":"<p>For Peter's #1 suggestion above, I put together a collection of examples using Java to run Groovy scripts  <a href=\"http://www.kellyrob99.com/blog/2009/11/21/different-flavors-of-embedded-groovy-in-java-apps-or-how-to-make-your-java-groovier/\">in a blog post awhile back</a> that comes along with <a href=\"https://github.com/kellyrob99/running-groovy\">code samples on github</a>. \nI can also back him up on his comments regarding GMaven and joint compilation - it works, but can end up causing more problems than it's worth.\n+1 on considering Gradle as well. While most of my experience with using it for production is with Java source and Groovy test code, it has so far worked flawlessly for me.\nBest of luck!</p>\n"},{"tags":[],"owner":{"account_id":11186930,"reputation":372,"user_id":8661561,"display_name":"n-0"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673020595,"creation_date":1673020595,"answer_id":75033216,"question_id":5123516,"body_markdown":"Adding to answer #1 the creation of [GMaven plus](https://groovy.github.io/GMavenPlus/index.html), which improved on the joint compilation process and has nice example/doc [poml files](https://github.com/groovy/GMavenPlus/wiki/Examples).","title":"Integrating Groovy with Java","body":"<p>Adding to answer #1 the creation of <a href=\"https://groovy.github.io/GMavenPlus/index.html\" rel=\"nofollow noreferrer\">GMaven plus</a>, which improved on the joint compilation process and has nice example/doc <a href=\"https://github.com/groovy/GMavenPlus/wiki/Examples\" rel=\"nofollow noreferrer\">poml files</a>.</p>\n"}],"owner":{"account_id":691575,"reputation":171,"user_id":564452,"accept_rate":0,"display_name":"Ken"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6348,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":3,"score":8,"last_activity_date":1673020595,"creation_date":1298673735,"question_id":5123516,"body_markdown":"I am currently working on integrating Groovy with an existing Java project. The Groovy script basically parses XML into objects and then will use existing DAO&#39;s to save, update, etc. I have 2 projects. One groovy. One java. Using Maven (I used the gmaven plugin), I build Java and then I build the Groovy project. \r\n\r\nI would like to be able to call Groovy scripts from the Java project and vice versa if the case need be. I am sure there is a way to do this, but I am unable to do this.\r\n\r\nFor example My Java classes are\r\n\r\n    State(1 Field)\r\n    StateDAO\r\n\r\nThe Groovy script to be called basically parses an XML document and then populates a table using the DAO with the value,s and for now all I would like it to do is post it to a database.\r\n\r\nPlease let me know if you have any suggestions. Thanks!\r\n","title":"Integrating Groovy with Java","body":"<p>I am currently working on integrating Groovy with an existing Java project. The Groovy script basically parses XML into objects and then will use existing DAO's to save, update, etc. I have 2 projects. One groovy. One java. Using Maven (I used the gmaven plugin), I build Java and then I build the Groovy project. </p>\n\n<p>I would like to be able to call Groovy scripts from the Java project and vice versa if the case need be. I am sure there is a way to do this, but I am unable to do this.</p>\n\n<p>For example My Java classes are</p>\n\n<pre><code>State(1 Field)\nStateDAO\n</code></pre>\n\n<p>The Groovy script to be called basically parses an XML document and then populates a table using the DAO with the value,s and for now all I would like it to do is post it to a database.</p>\n\n<p>Please let me know if you have any suggestions. Thanks!</p>\n"},{"tags":["java","android","cordova","android-sensors"],"comments":[{"owner":{"account_id":22703477,"reputation":866,"user_id":16870564,"display_name":"Mister_CK"},"score":0,"creation_date":1673020135,"post_id":75022430,"comment_id":132410197,"body_markdown":"Just to clarify, orientation here refers to compass orientation and NOT screenOrientation (i.e. landscape vs portrait)?","body":"Just to clarify, orientation here refers to compass orientation and NOT screenOrientation (i.e. landscape vs portrait)?"},{"owner":{"account_id":6669184,"reputation":1054,"user_id":5145804,"display_name":"Kevin Dias"},"score":0,"creation_date":1673031326,"post_id":75022430,"comment_id":132413763,"body_markdown":"@Mister_CK yes compas","body":"@Mister_CK yes compas"}],"answers":[{"tags":[],"owner":{"account_id":22703477,"reputation":866,"user_id":16870564,"display_name":"Mister_CK"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673020476,"creation_date":1673020476,"answer_id":75033187,"question_id":75022430,"body_markdown":"I think this PR should have the changes you are looking for (it is not mine): https://github.com/apache/cordova-plugin-device-orientation/pull/78 \r\nIn the issues someone also says they created a fork that resolves the issue.","title":"Updatte SensorManager TYPE_ORIENTATION to getOrientation()","body":"<p>I think this PR should have the changes you are looking for (it is not mine): <a href=\"https://github.com/apache/cordova-plugin-device-orientation/pull/78\" rel=\"nofollow noreferrer\">https://github.com/apache/cordova-plugin-device-orientation/pull/78</a>\nIn the issues someone also says they created a fork that resolves the issue.</p>\n"}],"owner":{"account_id":6669184,"reputation":1054,"user_id":5145804,"display_name":"Kevin Dias"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673020476,"creation_date":1672940874,"question_id":75022430,"body_markdown":"I have a old plugin of cordova that get the device orientation.\r\nBut this old way does not work with some new devices\r\n\r\n     /**\r\n     * Start listening for compass sensor.\r\n     *\r\n     * @return          status of listener\r\n     */\r\n    public int start() {\r\n\r\n        // If already starting or running, then just return\r\n        if ((this.status == CompassListener.RUNNING) || (this.status == CompassListener.STARTING)) {\r\n            return this.status;\r\n        }\r\n\r\n        // Get compass sensor from sensor manager\r\n        @SuppressWarnings(&quot;deprecation&quot;)\r\n        List&lt;Sensor&gt; list = this.sensorManager.getSensorList(Sensor.TYPE_ORIENTATION);\r\n\r\n        // If found, then register as listener\r\n        if (list != null &amp;&amp; list.size() &gt; 0) {\r\n            this.mSensor = list.get(0);\r\n            this.sensorManager.registerListener(this, this.mSensor, SensorManager.SENSOR_DELAY_NORMAL);\r\n            this.lastAccessTime = System.currentTimeMillis();\r\n            this.setStatus(CompassListener.STARTING);\r\n        }\r\n\r\n        // If error, then set status to error\r\n        else {\r\n            this.setStatus(CompassListener.ERROR_FAILED_TO_START);\r\n        }\r\n\r\n        return this.status;\r\n    }\r\n\r\n\r\n     /**\r\n     * Sensor listener event.\r\n     *\r\n     * @param SensorEvent event\r\n     */\r\n    public void onSensorChanged(SensorEvent event) {\r\n\r\n        // We only care about the orientation as far as it refers to Magnetic North\r\n        float[] orientation = event.values;\r\n\r\n        // Save heading\r\n        this.timeStamp = System.currentTimeMillis();\r\n        this.orientation = orientation;\r\n        this.setStatus(CompassListener.RUNNING);\r\n\r\n        // If heading hasn&#39;t been read for TIMEOUT time, then turn off compass sensor to save power\r\n        if ((this.timeStamp - this.lastAccessTime) &gt; this.TIMEOUT) {\r\n            this.stop();\r\n        }\r\n    }\r\n\r\nMy question is how can i update this to the new way sensor.getOrientation() ?\r\n\r\nAny help would be great\r\n\r\nThanks","title":"Updatte SensorManager TYPE_ORIENTATION to getOrientation()","body":"<p>I have a old plugin of cordova that get the device orientation.\nBut this old way does not work with some new devices</p>\n<pre><code> /**\n * Start listening for compass sensor.\n *\n * @return          status of listener\n */\npublic int start() {\n\n    // If already starting or running, then just return\n    if ((this.status == CompassListener.RUNNING) || (this.status == CompassListener.STARTING)) {\n        return this.status;\n    }\n\n    // Get compass sensor from sensor manager\n    @SuppressWarnings(&quot;deprecation&quot;)\n    List&lt;Sensor&gt; list = this.sensorManager.getSensorList(Sensor.TYPE_ORIENTATION);\n\n    // If found, then register as listener\n    if (list != null &amp;&amp; list.size() &gt; 0) {\n        this.mSensor = list.get(0);\n        this.sensorManager.registerListener(this, this.mSensor, SensorManager.SENSOR_DELAY_NORMAL);\n        this.lastAccessTime = System.currentTimeMillis();\n        this.setStatus(CompassListener.STARTING);\n    }\n\n    // If error, then set status to error\n    else {\n        this.setStatus(CompassListener.ERROR_FAILED_TO_START);\n    }\n\n    return this.status;\n}\n\n\n /**\n * Sensor listener event.\n *\n * @param SensorEvent event\n */\npublic void onSensorChanged(SensorEvent event) {\n\n    // We only care about the orientation as far as it refers to Magnetic North\n    float[] orientation = event.values;\n\n    // Save heading\n    this.timeStamp = System.currentTimeMillis();\n    this.orientation = orientation;\n    this.setStatus(CompassListener.RUNNING);\n\n    // If heading hasn't been read for TIMEOUT time, then turn off compass sensor to save power\n    if ((this.timeStamp - this.lastAccessTime) &gt; this.TIMEOUT) {\n        this.stop();\n    }\n}\n</code></pre>\n<p>My question is how can i update this to the new way sensor.getOrientation() ?</p>\n<p>Any help would be great</p>\n<p>Thanks</p>\n"},{"tags":["java","wsdl","skeleton-code"],"owner":{"account_id":26858892,"reputation":11,"user_id":20442748,"display_name":"CloudMinded"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1673020405,"creation_date":1667844987,"question_id":74351113,"body_markdown":"I am trying to generate a WSDL file Using the following command :\r\n`wsgen -wsdl -cp build/classes/java/main/ -d build/classes/java/main/ -r src/main/resources/         org.example.Commands`\r\n\r\nAnd I get the following error:\r\n&gt;Error: Could not find or load main class com.sun.tools.internal.ws.WsGen    \r\nCaused by: java.lang.ClassNotFoundException: com.sun.tools.internal.ws.WsGen\r\n\r\nPlease advise  \r\n[![What my build looks like](https://i.stack.imgur.com/Gv9gx.png)](https://i.stack.imgur.com/Gv9gx.png)\r\n\r\nI&#39;ve tried looking elsewhere and found nothing similar.","title":"Error: Could not find or load main class com.sun.tools.internal.ws.WsGen","body":"<p>I am trying to generate a WSDL file Using the following command :\n<code>wsgen -wsdl -cp build/classes/java/main/ -d build/classes/java/main/ -r src/main/resources/         org.example.Commands</code></p>\n<p>And I get the following error:</p>\n<blockquote>\n<p>Error: Could not find or load main class com.sun.tools.internal.ws.WsGen<br />\nCaused by: java.lang.ClassNotFoundException: com.sun.tools.internal.ws.WsGen</p>\n</blockquote>\n<p>Please advise<br />\n<a href=\"https://i.stack.imgur.com/Gv9gx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Gv9gx.png\" alt=\"What my build looks like\" /></a></p>\n<p>I've tried looking elsewhere and found nothing similar.</p>\n"},{"tags":["java","arrays","sorting","time-complexity","space-complexity"],"comments":[{"owner":{"account_id":36137,"reputation":178799,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"score":0,"creation_date":1395446369,"post_id":22571586,"comment_id":34358372,"body_markdown":"This doesn&#39;t specify the sorting algorithm used, so I don&#39;t see how it is answerable.","body":"This doesn&#39;t specify the sorting algorithm used, so I don&#39;t see how it is answerable."},{"owner":{"account_id":1533561,"reputation":20255,"user_id":1430156,"accept_rate":72,"display_name":"O. R. Mapper"},"score":2,"creation_date":1395446493,"post_id":22571586,"comment_id":34358410,"body_markdown":"@RobertHarvey: Unless one assumes `Arrays.sort()` to employ some magic, I think the question about what minimum time complexity it has is quite answerable, isn&#39;t it?","body":"@RobertHarvey: Unless one assumes <code>Arrays.sort()</code> to employ some magic, I think the question about what minimum time complexity it has is quite answerable, isn&#39;t it?"},{"owner":{"account_id":2734060,"reputation":263892,"user_id":2357112,"accept_rate":26,"display_name":"user2357112"},"score":2,"creation_date":1395446496,"post_id":22571586,"comment_id":34358412,"body_markdown":"It specifies `Arrays.sort`, so whichever algorithm that uses. It&#39;s hard to tell what language this is (guessing Java), but standard library sorts are almost always comparison sorts.","body":"It specifies <code>Arrays.sort</code>, so whichever algorithm that uses. It&#39;s hard to tell what language this is (guessing Java), but standard library sorts are almost always comparison sorts."},{"owner":{"account_id":36137,"reputation":178799,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"score":0,"creation_date":1395446570,"post_id":22571586,"comment_id":34358441,"body_markdown":"@aminy: What programming language is this?","body":"@aminy: What programming language is this?"},{"owner":{"account_id":2150587,"reputation":5268,"user_id":1907083,"accept_rate":79,"display_name":"Reuben Tanner"},"score":0,"creation_date":1395446587,"post_id":22571586,"comment_id":34358446,"body_markdown":"It&#39;s definitely java.","body":"It&#39;s definitely java."},{"owner":{"account_id":1653321,"reputation":1850,"user_id":1523469,"accept_rate":69,"display_name":"Mohan"},"score":0,"creation_date":1395447452,"post_id":22571586,"comment_id":34358675,"body_markdown":"Just a little heads up. If you want O(n) time and O(1) space, then don&#39;t use sort. None of the sorting implementations in the world now does in O(n) time and O(1) space.","body":"Just a little heads up. If you want O(n) time and O(1) space, then don&#39;t use sort. None of the sorting implementations in the world now does in O(n) time and O(1) space."},{"owner":{"account_id":333768,"reputation":80790,"user_id":659804,"accept_rate":100,"display_name":"Ernest Friedman-Hill"},"score":1,"creation_date":1395447500,"post_id":22571586,"comment_id":34358687,"body_markdown":"Despite all of the nattering in the answers section below, the answer to your actual question is yes: sorting will in the average case take longer than O(n).","body":"Despite all of the nattering in the answers section below, the answer to your actual question is yes: sorting will in the average case take longer than O(n)."},{"owner":{"account_id":1894536,"reputation":54819,"user_id":1711796,"accept_rate":100,"display_name":"Bernhard Barker"},"score":2,"creation_date":1395448083,"post_id":22571586,"comment_id":34358851,"body_markdown":"Assuming you know enough about big-O complexity, you really should be asking &quot;What&#39;s `Arrays.sort`&#39;s time and space complexity?&quot;, which is really a question which shows no research effort, as this is fairly well-documented.","body":"Assuming you know enough about big-O complexity, you really should be asking &quot;What&#39;s <code>Arrays.sort</code>&#39;s time and space complexity?&quot;, which is really a question which shows no research effort, as this is fairly well-documented."},{"owner":{"account_id":15814379,"reputation":565,"user_id":12114801,"display_name":"Sathvik"},"score":0,"creation_date":1602479242,"post_id":22571586,"comment_id":113722581,"body_markdown":"```Java Dual-Pivot Quicksort Time Complexity``` -&gt; Best - Î©(n) , Average - Î¸(n logn), Worst - O(n^2). Where worst case is rare.","body":"<code>Java Dual-Pivot Quicksort Time Complexity</code> -&gt; Best - Î©(n) , Average - Î¸(n logn), Worst - O(n^2). Where worst case is rare."}],"answers":[{"comments":[{"owner":{"account_id":2150587,"reputation":5268,"user_id":1907083,"accept_rate":79,"display_name":"Reuben Tanner"},"score":0,"creation_date":1395446698,"post_id":22571601,"comment_id":34358466,"body_markdown":"According to the docs, theta(n log n) is incorrect for time and theta(1) is incorrect for space. my post has the information from the docs.","body":"According to the docs, theta(n log n) is incorrect for time and theta(1) is incorrect for space. my post has the information from the docs."},{"owner":{"account_id":552826,"reputation":93460,"user_id":916657,"accept_rate":95,"display_name":"Niklas B."},"score":0,"creation_date":1395446766,"post_id":22571601,"comment_id":34358483,"body_markdown":"@theSilentOne I have no idea what you&#39;re talking about, but I don&#39;t think you know what *Î©* means","body":"@theSilentOne I have no idea what you&#39;re talking about, but I don&#39;t think you know what <i>Î©</i> means"},{"owner":{"account_id":2150587,"reputation":5268,"user_id":1907083,"accept_rate":79,"display_name":"Reuben Tanner"},"score":0,"creation_date":1395446808,"post_id":22571601,"comment_id":34358489,"body_markdown":"It means a lower bound. n log n is not the lower bound, according to the docs.","body":"It means a lower bound. n log n is not the lower bound, according to the docs."},{"owner":{"account_id":552826,"reputation":93460,"user_id":916657,"accept_rate":95,"display_name":"Niklas B."},"score":0,"creation_date":1395446842,"post_id":22571601,"comment_id":34358499,"body_markdown":"@theSilentOne Yes it is. Sorry you are just wrong in that regard. You&#39;re right that it works in O(n) on a certain class of inputs, but the worst case is Î©(n log n)","body":"@theSilentOne Yes it is. Sorry you are just wrong in that regard. You&#39;re right that it works in O(n) on a certain class of inputs, but the worst case is Î©(n log n)"},{"owner":{"account_id":2150587,"reputation":5268,"user_id":1907083,"accept_rate":79,"display_name":"Reuben Tanner"},"score":0,"creation_date":1395446927,"post_id":22571601,"comment_id":34358521,"body_markdown":"&quot;This implementation is a stable, adaptive, iterative mergesort that requires far fewer than n lg(n) comparisons when the input array is partially sorted, while offering the performance of a traditional mergesort when the input array is randomly ordered. If the input array is nearly sorted, the implementation requires approximately n comparisons&quot; Thereby making n the lower bound.","body":"&quot;This implementation is a stable, adaptive, iterative mergesort that requires far fewer than n lg(n) comparisons when the input array is partially sorted, while offering the performance of a traditional mergesort when the input array is randomly ordered. If the input array is nearly sorted, the implementation requires approximately n comparisons&quot; Thereby making n the lower bound."},{"owner":{"account_id":552826,"reputation":93460,"user_id":916657,"accept_rate":95,"display_name":"Niklas B."},"score":0,"creation_date":1395446969,"post_id":22571601,"comment_id":34358539,"body_markdown":"@theSilentOne You obviously don&#39;t understand asymptotic complexities. I am not going to dicuss this with you further.","body":"@theSilentOne You obviously don&#39;t understand asymptotic complexities. I am not going to dicuss this with you further."},{"owner":{"account_id":2150587,"reputation":5268,"user_id":1907083,"accept_rate":79,"display_name":"Reuben Tanner"},"score":0,"creation_date":1395446975,"post_id":22571601,"comment_id":34358541,"body_markdown":"Even the first sentence makes a lower bound of n lg(n) incorrect.","body":"Even the first sentence makes a lower bound of n lg(n) incorrect."},{"owner":{"account_id":1894536,"reputation":54819,"user_id":1711796,"accept_rate":100,"display_name":"Bernhard Barker"},"score":3,"creation_date":1395447288,"post_id":22571601,"comment_id":34358629,"body_markdown":"Correct me if I&#39;m wrong, but saying that the sort has a lower bound of constant space isn&#39;t particularly meaningful - that applies to every single algorithm.","body":"Correct me if I&#39;m wrong, but saying that the sort has a lower bound of constant space isn&#39;t particularly meaningful - that applies to every single algorithm."},{"owner":{"account_id":552826,"reputation":93460,"user_id":916657,"accept_rate":95,"display_name":"Niklas B."},"score":0,"creation_date":1395447390,"post_id":22571601,"comment_id":34358659,"body_markdown":"@Dukeling sorry, I meant little omega there. Fixed","body":"@Dukeling sorry, I meant little omega there. Fixed"},{"owner":{"account_id":2150587,"reputation":5268,"user_id":1907083,"accept_rate":79,"display_name":"Reuben Tanner"},"score":0,"creation_date":1395447460,"post_id":22571601,"comment_id":34358678,"body_markdown":"Niklas, giving you the benefit of the doubt that I was wrong, I reviewed Omega notation again and I&#39;d like to share what I found. If we say that f(n)=Î©(g(n)) uwe mean that for some constant c&gt;0 and all large enough n, f(n)â¥c g(n). In our discussion, f(n) is the complexity of timsort, and g(n) is nlgn. Your statement, &quot;Î©(n log n)&quot; would be implying that timsort always takes more than nlogn which is clearly incorrect from the documentation.","body":"Niklas, giving you the benefit of the doubt that I was wrong, I reviewed Omega notation again and I&#39;d like to share what I found. If we say that f(n)=Î©(g(n)) uwe mean that for some constant c&gt;0 and all large enough n, f(n)â¥c g(n). In our discussion, f(n) is the complexity of timsort, and g(n) is nlgn. Your statement, &quot;Î©(n log n)&quot; would be implying that timsort always takes more than nlogn which is clearly incorrect from the documentation."},{"owner":{"account_id":552826,"reputation":93460,"user_id":916657,"accept_rate":95,"display_name":"Niklas B."},"score":0,"creation_date":1395447553,"post_id":22571601,"comment_id":34358701,"body_markdown":"@theSilentOne It is wrong that the asymptotic complexity Î©(n log n) would implies that there is no family of inputs on which the algorithm works in O(n). It means that there is a constant c, such that for all *n0* there is an instance I of size  *n &gt;= n0* for which f(I) &gt;= c n * log n. And by the way, Timsort is not even used for int[] arrays","body":"@theSilentOne It is wrong that the asymptotic complexity Î©(n log n) would implies that there is no family of inputs on which the algorithm works in O(n). It means that there is a constant c, such that for all <i>n0</i> there is an instance I of size  <i>n &gt;= n0</i> for which f(I) &gt;= c n * log n. And by the way, Timsort is not even used for int[] arrays"},{"owner":{"account_id":339277,"reputation":718,"user_id":668653,"accept_rate":78,"display_name":"Onur Demir"},"score":0,"creation_date":1591510764,"post_id":22571601,"comment_id":110079272,"body_markdown":"You should not use &quot;worst case&quot; phrase with omega. And also with big-o. It should be said like &quot;This function&#39;s complexity is O(n)&quot; not &quot;This function&#39;s worst case complexity is O(n)&quot;. Big-O is already calculated regarding the worst case. You cannot define omega or theta regarding worst case.","body":"You should not use &quot;worst case&quot; phrase with omega. And also with big-o. It should be said like &quot;This function&#39;s complexity is O(n)&quot; not &quot;This function&#39;s worst case complexity is O(n)&quot;. Big-O is already calculated regarding the worst case. You cannot define omega or theta regarding worst case."},{"owner":{"account_id":552826,"reputation":93460,"user_id":916657,"accept_rate":95,"display_name":"Niklas B."},"score":1,"creation_date":1592064693,"post_id":22571601,"comment_id":110293301,"body_markdown":"We usually talk about worst case in theoretical CS, thatâs out of the question. Big-O is useful to state upper bounds, and Omega is useful to state lower bounds, which is what I wanted to do here","body":"We usually talk about worst case in theoretical CS, thatâs out of the question. Big-O is useful to state upper bounds, and Omega is useful to state lower bounds, which is what I wanted to do here"},{"owner":{"account_id":552826,"reputation":93460,"user_id":916657,"accept_rate":95,"display_name":"Niklas B."},"score":0,"creation_date":1592064868,"post_id":22571601,"comment_id":110293372,"body_markdown":"@Onur I could say that this function has O(2^n) runtime and it would be correct but not very useful","body":"@Onur I could say that this function has O(2^n) runtime and it would be correct but not very useful"}],"tags":[],"owner":{"account_id":552826,"reputation":93460,"user_id":916657,"accept_rate":95,"display_name":"Niklas B."},"comment_count":14,"down_vote_count":0,"up_vote_count":43,"is_accepted":true,"score":43,"last_activity_date":1395449541,"creation_date":1395446378,"answer_id":22571601,"question_id":22571586,"body_markdown":"I am assuming you are talking about Java here.\r\n\r\n&gt; So the loop will cost O(n) time, my question is that will Arrays.sort() cost more time? \r\n\r\n**Yes**, [`Arrays.sort(int[])`][2] in all Java standard library implementations that I know, is an example of a comparison-based sort and thus [must have worst-case complexity Î©(n log n)](http://en.wikipedia.org/wiki/Comparison_sort#Number_of_comparisons_required_to_sort_a_list). In particular, Oracle Java 7 uses a dual-pivot quicksort variant for the integer overloads, which actually has an *Î©(n&lt;sup&gt;2&lt;/sup&gt;)* worst case.\r\n\r\n&gt; and will Arrays.sort() cost more space?\r\n\r\nIn all likelihood it will use Ï(1) space (which means another **yes**, the space usage is not O(1)). While it&#39;s not impossible to implement a comparison-based sort with only constant extra space, it&#39;s highly impractical.\r\n\r\nThat said, under certain conditions it is possible to sort specific types of data in linear time, see for example:\r\n\r\n* http://en.wikipedia.org/wiki/Counting_sort\r\n* http://en.wikipedia.org/wiki/Pigeonhole_sort\r\n* http://en.wikipedia.org/wiki/Radix_sort\r\n\r\nWith a constant range of input integers (for example if `abs(A[i]) &lt;= C` for some constant C), then counting sort and radix sort use indeed only O(n) time and O(1) space, so that might be useful.\r\n\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html#sort(int[])","title":"Will Arrays.sort() increase time complexity and space time complexity?","body":"<p>I am assuming you are talking about Java here.</p>\n\n<blockquote>\n  <p>So the loop will cost O(n) time, my question is that will Arrays.sort() cost more time? </p>\n</blockquote>\n\n<p><strong>Yes</strong>, <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html#sort(int[])\" rel=\"noreferrer\"><code>Arrays.sort(int[])</code></a> in all Java standard library implementations that I know, is an example of a comparison-based sort and thus <a href=\"http://en.wikipedia.org/wiki/Comparison_sort#Number_of_comparisons_required_to_sort_a_list\" rel=\"noreferrer\">must have worst-case complexity Î©(n log n)</a>. In particular, Oracle Java 7 uses a dual-pivot quicksort variant for the integer overloads, which actually has an <em>Î©(n<sup>2</sup>)</em> worst case.</p>\n\n<blockquote>\n  <p>and will Arrays.sort() cost more space?</p>\n</blockquote>\n\n<p>In all likelihood it will use Ï(1) space (which means another <strong>yes</strong>, the space usage is not O(1)). While it's not impossible to implement a comparison-based sort with only constant extra space, it's highly impractical.</p>\n\n<p>That said, under certain conditions it is possible to sort specific types of data in linear time, see for example:</p>\n\n<ul>\n<li><a href=\"http://en.wikipedia.org/wiki/Counting_sort\" rel=\"noreferrer\">http://en.wikipedia.org/wiki/Counting_sort</a></li>\n<li><a href=\"http://en.wikipedia.org/wiki/Pigeonhole_sort\" rel=\"noreferrer\">http://en.wikipedia.org/wiki/Pigeonhole_sort</a></li>\n<li><a href=\"http://en.wikipedia.org/wiki/Radix_sort\" rel=\"noreferrer\">http://en.wikipedia.org/wiki/Radix_sort</a></li>\n</ul>\n\n<p>With a constant range of input integers (for example if <code>abs(A[i]) &lt;= C</code> for some constant C), then counting sort and radix sort use indeed only O(n) time and O(1) space, so that might be useful.</p>\n"},{"comments":[{"owner":{"account_id":2150587,"reputation":5268,"user_id":1907083,"accept_rate":79,"display_name":"Reuben Tanner"},"score":0,"creation_date":1395447877,"post_id":22571611,"comment_id":34358795,"body_markdown":"You haven&#39;t quite convinced me that my statements &quot;make no sense at all&quot; because I&#39;m pretty sure they do, but your comments have encouraged me to review my asymptotic complexities again.","body":"You haven&#39;t quite convinced me that my statements &quot;make no sense at all&quot; because I&#39;m pretty sure they do, but your comments have encouraged me to review my asymptotic complexities again."},{"owner":{"account_id":2150587,"reputation":5268,"user_id":1907083,"accept_rate":79,"display_name":"Reuben Tanner"},"score":0,"creation_date":1395449175,"post_id":22571611,"comment_id":34359121,"body_markdown":"@NiklasB., I&#39;ll definitely give it to you that saying it was the &quot;fastest sort&quot; was incorrect. I recently read an article about it and it performed better in many circumstances than quicksort or mergesort thus, &quot;fastest&quot; seemed inapproriately appropriate. I believe that you probably have a better understanding of the topic of asymptotic complexities than myself but I know that my comments would make sense to any non-PhD software engineer and are correct according to what Java&#39;s docs say.","body":"@NiklasB., I&#39;ll definitely give it to you that saying it was the &quot;fastest sort&quot; was incorrect. I recently read an article about it and it performed better in many circumstances than quicksort or mergesort thus, &quot;fastest&quot; seemed inapproriately appropriate. I believe that you probably have a better understanding of the topic of asymptotic complexities than myself but I know that my comments would make sense to any non-PhD software engineer and are correct according to what Java&#39;s docs say."},{"owner":{"account_id":552826,"reputation":93460,"user_id":916657,"accept_rate":95,"display_name":"Niklas B."},"score":1,"creation_date":1395449239,"post_id":22571611,"comment_id":34359137,"body_markdown":"@theSilentOne Let&#39;s leave it at that pal, no hard feelings","body":"@theSilentOne Let&#39;s leave it at that pal, no hard feelings"},{"owner":{"account_id":2150587,"reputation":5268,"user_id":1907083,"accept_rate":79,"display_name":"Reuben Tanner"},"score":1,"creation_date":1395449387,"post_id":22571611,"comment_id":34359178,"body_markdown":"@NiklasB. Thank you sir. I removed my childish downvote as well *sheepish grin*","body":"@NiklasB. Thank you sir. I removed my childish downvote as well <i>sheepish grin</i>"},{"owner":{"account_id":3031328,"reputation":1487,"user_id":2570280,"display_name":"Cahit Gungor"},"score":1,"creation_date":1483910098,"post_id":22571611,"comment_id":70281121,"body_markdown":"In Java, `Arrays.sort(int[] a)` standard implementation uses quicksort, not `Timsort`. Object-based searches  in since it is stable. Refs: http://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html#sort(int[]) and http://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html#sort(java.lang.Object[]). Stable sort implementation of Object arrays is mandatory in Java.","body":"In Java, <code>Arrays.sort(int[] a)</code> standard implementation uses quicksort, not <code>Timsort</code>. Object-based searches  in since it is stable. Refs: <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html#sort(int[])\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/util/&hellip;</a> and <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html#sort(java.lang.Object[])\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/util/&hellip;</a>. Stable sort implementation of Object arrays is mandatory in Java."},{"owner":{"account_id":2150587,"reputation":5268,"user_id":1907083,"accept_rate":79,"display_name":"Reuben Tanner"},"score":0,"creation_date":1484015596,"post_id":22571611,"comment_id":70325391,"body_markdown":"@CahitGungor, only the `Arrays.sort` overloads that operate on primitives use QuickSort. The overloads that operate on Objects use an adaption &quot;from Tim Peters&#39;s list sort for Python ( TimSort)&quot;","body":"@CahitGungor, only the <code>Arrays.sort</code> overloads that operate on primitives use QuickSort. The overloads that operate on Objects use an adaption &quot;from Tim Peters&#39;s list sort for Python ( TimSort)&quot;"}],"tags":[],"owner":{"account_id":2150587,"reputation":5268,"user_id":1907083,"accept_rate":79,"display_name":"Reuben Tanner"},"comment_count":6,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1395448328,"creation_date":1395446427,"answer_id":22571611,"question_id":22571586,"body_markdown":"It is more than O(n) time and requires more than O(1) space. \r\n\r\n[Arrays.sort()][1] utilizes a modified [Timsort][2] in 1.7 which is a relatively recently developed sorting algorithm and it offers sorting with complexity x where O(n)&lt; x &lt; O(nlgn) and space of O(n/2)\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html\r\n  [2]: http://svn.python.org/projects/python/trunk/Objects/listsort.txt","title":"Will Arrays.sort() increase time complexity and space time complexity?","body":"<p>It is more than O(n) time and requires more than O(1) space. </p>\n\n<p><a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html\" rel=\"nofollow\">Arrays.sort()</a> utilizes a modified <a href=\"http://svn.python.org/projects/python/trunk/Objects/listsort.txt\" rel=\"nofollow\">Timsort</a> in 1.7 which is a relatively recently developed sorting algorithm and it offers sorting with complexity x where O(n)&lt; x &lt; O(nlgn) and space of O(n/2)</p>\n"},{"comments":[{"owner":{"account_id":552826,"reputation":93460,"user_id":916657,"accept_rate":95,"display_name":"Niklas B."},"score":0,"creation_date":1395447766,"post_id":22571777,"comment_id":34358756,"body_markdown":"In fact it requires Î©(log n)  extra space at the very least","body":"In fact it requires Î©(log n)  extra space at the very least"},{"owner":{"account_id":4210603,"reputation":94386,"user_id":3448419,"display_name":"apangin"},"score":0,"creation_date":1395448934,"post_id":22571777,"comment_id":34359065,"body_markdown":"Oh, you probably mean the execution stack space. You&#39;re right then, but I guess the question was about the heap space.","body":"Oh, you probably mean the execution stack space. You&#39;re right then, but I guess the question was about the heap space."}],"tags":[],"owner":{"account_id":4210603,"reputation":94386,"user_id":3448419,"display_name":"apangin"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1395447723,"creation_date":1395447723,"answer_id":22571777,"question_id":22571586,"body_markdown":"Arrays.sort(int[] a) in recent JDK is implemented with Dual-pivot Quicksort algorithm which has O(n log n) average complexity and is performed in-place (e.g. requires no extra space).","title":"Will Arrays.sort() increase time complexity and space time complexity?","body":"<p>Arrays.sort(int[] a) in recent JDK is implemented with Dual-pivot Quicksort algorithm which has O(n log n) average complexity and is performed in-place (e.g. requires no extra space).</p>\n"},{"tags":[],"owner":{"account_id":4013171,"reputation":121,"user_id":3306034,"display_name":"pedrogonzalezj"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1673020371,"creation_date":1521454358,"answer_id":49360365,"question_id":22571586,"body_markdown":"According to the java jvm 8 javadocs of `Arrays.sort()` method: \r\n\r\n&gt; The sorting algorithm is a Dual-Pivot Quicksort by Vladimir Yaroslavskiy, Jon Bentley, and Joshua Bloch. This algorithm offers O(n log(n)) performance on many data sets that cause other quicksorts to degrade to quadratic performance, and is typically faster than traditional (one-pivot) Quicksort implementations.\r\n\r\nSo it will increase your time complexity from `O(n)` to `O(n log(n))`\r\n\r\n     ","title":"Will Arrays.sort() increase time complexity and space time complexity?","body":"<p>According to the java jvm 8 javadocs of <code>Arrays.sort()</code> method:</p>\n<blockquote>\n<p>The sorting algorithm is a Dual-Pivot Quicksort by Vladimir Yaroslavskiy, Jon Bentley, and Joshua Bloch. This algorithm offers O(n log(n)) performance on many data sets that cause other quicksorts to degrade to quadratic performance, and is typically faster than traditional (one-pivot) Quicksort implementations.</p>\n</blockquote>\n<p>So it will increase your time complexity from <code>O(n)</code> to <code>O(n log(n))</code></p>\n"},{"tags":[],"owner":{"account_id":13145124,"reputation":51,"user_id":10066105,"display_name":"Tekraj Awasthi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1622516061,"creation_date":1622516061,"answer_id":67782161,"question_id":22571586,"body_markdown":"Since you&#39;re talking about it in Java Language, the time complexity will surely increase from O(n) to O(nlogn). That&#39;s because in Java 8, Arrays.sort() is implemented in Dual-pivot quicksort algorithm, not single pivot . So it requires extra time.\r\nAnd space complexity of O(1) is not possible , since it requires more space, I guess O(n/2).","title":"Will Arrays.sort() increase time complexity and space time complexity?","body":"<p>Since you're talking about it in Java Language, the time complexity will surely increase from O(n) to O(nlogn). That's because in Java 8, Arrays.sort() is implemented in Dual-pivot quicksort algorithm, not single pivot . So it requires extra time.\nAnd space complexity of O(1) is not possible , since it requires more space, I guess O(n/2).</p>\n"},{"tags":[],"owner":{"account_id":3930435,"reputation":2483,"user_id":3249257,"display_name":"Denis Stafichuk"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667119521,"creation_date":1666682284,"answer_id":74190323,"question_id":22571586,"body_markdown":"Arrays.sort(int[])\r\n=====\r\n\r\nAs well as Arrays.sort(long[]), Arrays.sort(float[]) and Arrays.sort(double[])\r\n\r\nTime complexity\r\n---------------\r\n\r\nTime complexity of `Arrays.sort(int[])` depends on the version of Java.\r\n\r\n**O(n&lt;sup&gt;2&lt;/sup&gt;) prior to Java 14**\r\n\r\nA pretty ordinary quicksort was used with time complexity ranging **from O(n)** (when the array is already sorted and we are only checking that it is) **to O(n&lt;sup&gt;2&lt;/sup&gt;)** for certain inputs that cause extremely uneven distribution of elements into parts with an **average complexity of O(n log(n))**. You can find a detailed analysis [here][1].\r\n\r\n**O(n log(n)) starting from Java 14**\r\n\r\nIn Java 14 the implementation was improved to guarantee the **worst-case time complexity of O(n log(n))**. The function was [changed][2] to [resort to heapsort][3] if recursion becomes too deep:\r\n```java\r\nif ((bits += DELTA) &gt; MAX_RECURSION_DEPTH) {\r\n  heapSort(a, low, high);\r\n  return;\r\n}\r\n```\r\nwhich prevents the method from degrading to quadratic time complexity.\r\n\r\n**Glimpse into the future**\r\n\r\nThere is an [initiative][4] to switch to radix sort for almost random big enough arrays thus reducing the time complexity to **O(n) in the worst-case**.\r\n\r\nO(n) space\r\n----------------\r\n\r\nIn all versions, the algorithm has space complexity ranging **from O(1)** (when the array is already sorted and we only to check that it is) **to O(n)** (when the array is highly structured (there is a small number of sorted subarrays inside the original array and we merge those subarrays)).\r\n\r\nHere&#39;s where allocation happens in the worst case:\r\n```java\r\n/*\r\n * Merge runs of highly structured array.\r\n */\r\nif (count &gt; 1) {\r\n  int[] b; int offset = low;\r\n\r\n  if (sorter == null || (b = (int[]) sorter.b) == null) {\r\n    b = new int[size];\r\n  } else {\r\n    offset = sorter.offset;\r\n  }\r\n  mergeRuns(a, b, offset, 1, sorter != null, run, 0, count);\r\n}\r\nreturn true;\r\n```\r\n[DualPivotQuicksort.java][5]\r\n\r\n*While the question asks specifically about Arrays.sort(int[]) method I still decided to include answers for other data types since this is the first result when you look for Arrays.sort() time and space complexity in Google and it is not easy to find correct answers to this simple question in other places.*\r\n\r\nArrays.sort(short[])\r\n=====\r\n\r\nAs well as Arrays.sort(char[]) and Arrays.sort(byte[])\r\n\r\nO(n) time, O(1) space\r\n---------------\r\nAlthough the documentation says:\r\n\r\n&gt; The sorting algorithm is a Dual-Pivot Quicksort by Vladimir Yaroslavskiy, Jon Bentley, and Joshua Bloch. This algorithm offers O(n log(n)) performance on all data sets, and is typically faster than traditional (one-pivot) Quicksort implementations.\r\n\r\nThis is not true at least starting from Java 7. Actually, an in-place [counting sort][counting-sort-wiki] used for big enough arrays, which has **linear time complexity** and **constant space complexity**:\r\n```java\r\nprivate static void countingSort(short[] a, int low, int high) {\r\n    int[] count = new int[NUM_SHORT_VALUES];\r\n\r\n    /*\r\n     * Compute a histogram with the number of each values.\r\n     */\r\n    for (int i = high; i &gt; low; ++count[a[--i] &amp; 0xFFFF]);\r\n\r\n    /*\r\n     * Place values on their final positions.\r\n     */\r\n    if (high - low &gt; NUM_SHORT_VALUES) {\r\n        for (int i = MAX_SHORT_INDEX; --i &gt; Short.MAX_VALUE; ) {\r\n            int value = i &amp; 0xFFFF;\r\n\r\n            for (low = high - count[value]; high &gt; low;\r\n                a[--high] = (short) value\r\n            );\r\n        }\r\n    } else {\r\n        for (int i = MAX_SHORT_INDEX; high &gt; low; ) {\r\n            while (count[--i &amp; 0xFFFF] == 0);\r\n\r\n            int value = i &amp; 0xFFFF;\r\n            int c = count[value];\r\n\r\n            do {\r\n                a[--high] = (short) value;\r\n            } while (--c &gt; 0);\r\n        }\r\n    }\r\n}\r\n```\r\n[Counting sort implementation][counting-sort-jdk]\r\n\r\nArrays.sort(Object[])\r\n=====================\r\n\r\nUnlike other methods, this one is well-documented and the documentation here corresponds to reality.\r\n\r\nO(n log(n)) time\r\n---------------\r\n\r\n**Starting from Java 7**\r\n\r\n&gt; This implementation is a stable, adaptive, iterative mergesort that requires far fewer than n lg(n) comparisons when the input array is partially sorted, while offering the performance of a traditional mergesort when the input array is randomly ordered. If the input array is nearly sorted, the implementation requires approximately n comparisons.\r\n\r\nhttps://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html#sort(java.lang.Object[])\r\n\r\n**Before Java 7**\r\n\r\n&gt;The sorting algorithm is a modified mergesort (in which the merge is omitted if the highest element in the low sublist is less than the lowest element in the high sublist). This algorithm offers guaranteed n*log(n) performance.\r\n\r\nhttps://docs.oracle.com/javase/6/docs/api/java/util/Arrays.html#sort(java.lang.Object[])\r\n\r\nO(n) space\r\n---------------\r\n\r\n**Starting from Java 7**\r\n\r\n&gt;Temporary storage requirements vary from a small constant for nearly sorted input arrays to n/2 object references for randomly ordered input arrays.\r\n\r\nhttps://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html#sort(java.lang.Object[])\r\n\r\n**Before Java 7**\r\n\r\n&gt;The algorithm used by java.util.Arrays.sort and (indirectly) by java.util.Collections.sort to sort object references is a &quot;modified mergesort (in which the merge is omitted if the highest element in the low sublist is less than the lowest element in the high sublist).&quot; It is a reasonably fast stable sort that guarantees O(n log n) performance and requires O(n) extra space. \r\n\r\nhttps://bugs.openjdk.org/browse/JDK-6804124\r\n\r\n  [counting-sort-wiki]: https://en.wikipedia.org/wiki/Counting_sort\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Quicksort#Formal_analysis\r\n  [2]: https://github.com/openjdk/jdk/commit/de54eb15130848d4efc266891e41b978f444f9f3\r\n  [3]: https://github.com/openjdk/jdk/blob/jdk-14-ga/src/java.base/share/classes/java/util/DualPivotQuicksort.java#L961\r\n  [4]: https://bugs.openjdk.org/browse/JDK-8266431\r\n  [5]: https://github.com/openjdk/jdk/blob/jdk-14-ga/src/java.base/share/classes/java/util/DualPivotQuicksort.java#L726\r\n  [counting-sort-jdk]: https://github.com/openjdk/jdk/blob/jdk-14-ga/src/java.base/share/classes/java/util/DualPivotQuicksort.java#L2348","title":"Will Arrays.sort() increase time complexity and space time complexity?","body":"<h1>Arrays.sort(int[])</h1>\n<p>As well as Arrays.sort(long[]), Arrays.sort(float[]) and Arrays.sort(double[])</p>\n<h2>Time complexity</h2>\n<p>Time complexity of <code>Arrays.sort(int[])</code> depends on the version of Java.</p>\n<p><strong>O(n<sup>2</sup>) prior to Java 14</strong></p>\n<p>A pretty ordinary quicksort was used with time complexity ranging <strong>from O(n)</strong> (when the array is already sorted and we are only checking that it is) <strong>to O(n<sup>2</sup>)</strong> for certain inputs that cause extremely uneven distribution of elements into parts with an <strong>average complexity of O(n log(n))</strong>. You can find a detailed analysis <a href=\"https://en.wikipedia.org/wiki/Quicksort#Formal_analysis\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p><strong>O(n log(n)) starting from Java 14</strong></p>\n<p>In Java 14 the implementation was improved to guarantee the <strong>worst-case time complexity of O(n log(n))</strong>. The function was <a href=\"https://github.com/openjdk/jdk/commit/de54eb15130848d4efc266891e41b978f444f9f3\" rel=\"nofollow noreferrer\">changed</a> to <a href=\"https://github.com/openjdk/jdk/blob/jdk-14-ga/src/java.base/share/classes/java/util/DualPivotQuicksort.java#L961\" rel=\"nofollow noreferrer\">resort to heapsort</a> if recursion becomes too deep:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if ((bits += DELTA) &gt; MAX_RECURSION_DEPTH) {\n  heapSort(a, low, high);\n  return;\n}\n</code></pre>\n<p>which prevents the method from degrading to quadratic time complexity.</p>\n<p><strong>Glimpse into the future</strong></p>\n<p>There is an <a href=\"https://bugs.openjdk.org/browse/JDK-8266431\" rel=\"nofollow noreferrer\">initiative</a> to switch to radix sort for almost random big enough arrays thus reducing the time complexity to <strong>O(n) in the worst-case</strong>.</p>\n<h2>O(n) space</h2>\n<p>In all versions, the algorithm has space complexity ranging <strong>from O(1)</strong> (when the array is already sorted and we only to check that it is) <strong>to O(n)</strong> (when the array is highly structured (there is a small number of sorted subarrays inside the original array and we merge those subarrays)).</p>\n<p>Here's where allocation happens in the worst case:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/*\n * Merge runs of highly structured array.\n */\nif (count &gt; 1) {\n  int[] b; int offset = low;\n\n  if (sorter == null || (b = (int[]) sorter.b) == null) {\n    b = new int[size];\n  } else {\n    offset = sorter.offset;\n  }\n  mergeRuns(a, b, offset, 1, sorter != null, run, 0, count);\n}\nreturn true;\n</code></pre>\n<p><a href=\"https://github.com/openjdk/jdk/blob/jdk-14-ga/src/java.base/share/classes/java/util/DualPivotQuicksort.java#L726\" rel=\"nofollow noreferrer\">DualPivotQuicksort.java</a></p>\n<p><em>While the question asks specifically about Arrays.sort(int[]) method I still decided to include answers for other data types since this is the first result when you look for Arrays.sort() time and space complexity in Google and it is not easy to find correct answers to this simple question in other places.</em></p>\n<h1>Arrays.sort(short[])</h1>\n<p>As well as Arrays.sort(char[]) and Arrays.sort(byte[])</p>\n<h2>O(n) time, O(1) space</h2>\n<p>Although the documentation says:</p>\n<blockquote>\n<p>The sorting algorithm is a Dual-Pivot Quicksort by Vladimir Yaroslavskiy, Jon Bentley, and Joshua Bloch. This algorithm offers O(n log(n)) performance on all data sets, and is typically faster than traditional (one-pivot) Quicksort implementations.</p>\n</blockquote>\n<p>This is not true at least starting from Java 7. Actually, an in-place <a href=\"https://en.wikipedia.org/wiki/Counting_sort\" rel=\"nofollow noreferrer\">counting sort</a> used for big enough arrays, which has <strong>linear time complexity</strong> and <strong>constant space complexity</strong>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static void countingSort(short[] a, int low, int high) {\n    int[] count = new int[NUM_SHORT_VALUES];\n\n    /*\n     * Compute a histogram with the number of each values.\n     */\n    for (int i = high; i &gt; low; ++count[a[--i] &amp; 0xFFFF]);\n\n    /*\n     * Place values on their final positions.\n     */\n    if (high - low &gt; NUM_SHORT_VALUES) {\n        for (int i = MAX_SHORT_INDEX; --i &gt; Short.MAX_VALUE; ) {\n            int value = i &amp; 0xFFFF;\n\n            for (low = high - count[value]; high &gt; low;\n                a[--high] = (short) value\n            );\n        }\n    } else {\n        for (int i = MAX_SHORT_INDEX; high &gt; low; ) {\n            while (count[--i &amp; 0xFFFF] == 0);\n\n            int value = i &amp; 0xFFFF;\n            int c = count[value];\n\n            do {\n                a[--high] = (short) value;\n            } while (--c &gt; 0);\n        }\n    }\n}\n</code></pre>\n<p><a href=\"https://github.com/openjdk/jdk/blob/jdk-14-ga/src/java.base/share/classes/java/util/DualPivotQuicksort.java#L2348\" rel=\"nofollow noreferrer\">Counting sort implementation</a></p>\n<h1>Arrays.sort(Object[])</h1>\n<p>Unlike other methods, this one is well-documented and the documentation here corresponds to reality.</p>\n<h2>O(n log(n)) time</h2>\n<p><strong>Starting from Java 7</strong></p>\n<blockquote>\n<p>This implementation is a stable, adaptive, iterative mergesort that requires far fewer than n lg(n) comparisons when the input array is partially sorted, while offering the performance of a traditional mergesort when the input array is randomly ordered. If the input array is nearly sorted, the implementation requires approximately n comparisons.</p>\n</blockquote>\n<p><a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html#sort(java.lang.Object%5B%5D)\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html#sort(java.lang.Object[])</a></p>\n<p><strong>Before Java 7</strong></p>\n<blockquote>\n<p>The sorting algorithm is a modified mergesort (in which the merge is omitted if the highest element in the low sublist is less than the lowest element in the high sublist). This algorithm offers guaranteed n*log(n) performance.</p>\n</blockquote>\n<p><a href=\"https://docs.oracle.com/javase/6/docs/api/java/util/Arrays.html#sort(java.lang.Object%5B%5D)\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/6/docs/api/java/util/Arrays.html#sort(java.lang.Object[])</a></p>\n<h2>O(n) space</h2>\n<p><strong>Starting from Java 7</strong></p>\n<blockquote>\n<p>Temporary storage requirements vary from a small constant for nearly sorted input arrays to n/2 object references for randomly ordered input arrays.</p>\n</blockquote>\n<p><a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html#sort(java.lang.Object%5B%5D)\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html#sort(java.lang.Object[])</a></p>\n<p><strong>Before Java 7</strong></p>\n<blockquote>\n<p>The algorithm used by java.util.Arrays.sort and (indirectly) by java.util.Collections.sort to sort object references is a &quot;modified mergesort (in which the merge is omitted if the highest element in the low sublist is less than the lowest element in the high sublist).&quot; It is a reasonably fast stable sort that guarantees O(n log n) performance and requires O(n) extra space.</p>\n</blockquote>\n<p><a href=\"https://bugs.openjdk.org/browse/JDK-6804124\" rel=\"nofollow noreferrer\">https://bugs.openjdk.org/browse/JDK-6804124</a></p>\n"},{"tags":[],"owner":{"account_id":8625749,"reputation":113,"user_id":6459041,"display_name":"eagerprince"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667385327,"creation_date":1667385327,"answer_id":74287811,"question_id":22571586,"body_markdown":"    import java.util.Arrays;\r\n    public class MyClass {\r\n        \r\n        \r\n        static void hello(int ac[]){\r\n            \r\n        }\r\n        \r\n        public static void main(String args[]) {\r\n      \r\n          int ac[] ={1,4,2,3,5};\r\n        \r\n           int i=0;\r\n           int temp=0;\r\n           \r\n           while(i!=5-1){\r\n                if( ac[i]&gt;ac[i+1]){\r\n                   temp= ac[i];\r\n                   ac[i]=ac[i+1];\r\n                   ac[i+1]=temp;\r\n                   i= -1;\r\n               }\r\n               \r\n              i++;\r\n           }\r\n           \r\n          System.out.println(Arrays.toString(ac));\r\n    \r\n    \r\n    \r\n        }\r\n    }","title":"Will Arrays.sort() increase time complexity and space time complexity?","body":"<pre><code>import java.util.Arrays;\npublic class MyClass {\n    \n    \n    static void hello(int ac[]){\n        \n    }\n    \n    public static void main(String args[]) {\n  \n      int ac[] ={1,4,2,3,5};\n    \n       int i=0;\n       int temp=0;\n       \n       while(i!=5-1){\n            if( ac[i]&gt;ac[i+1]){\n               temp= ac[i];\n               ac[i]=ac[i+1];\n               ac[i+1]=temp;\n               i= -1;\n           }\n           \n          i++;\n       }\n       \n      System.out.println(Arrays.toString(ac));\n\n\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3504692,"reputation":419,"user_id":2930487,"accept_rate":83,"display_name":"aminy"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68609,"favorite_count":0,"down_vote_count":2,"up_vote_count":30,"accepted_answer_id":22571601,"answer_count":7,"score":28,"last_activity_date":1673020371,"creation_date":1395446241,"question_id":22571586,"body_markdown":"There is an array related problem, the requirement is that time complexity is O(n) and space complexity is O(1).\r\n\r\nIf I use `Arrays.sort(arr)`, and use a `for` loop to one pass loop, for example:\r\n\r\n    public static int hello(int[]A){\r\n      Arrays.sort(A);\r\n      for(int i=0;i&lt;A.length;i++){\r\n         ....................\r\n      }\r\n      return ....;\r\n   }\r\n\r\nSo the loop will cost O(n) time. My question is: will `Arrays.sort()` cost more time? If I use `Arrays.sort()`, will this time complexity still be O(n)? And will `Arrays.sort()` cost more space?\r\n\r\n","title":"Will Arrays.sort() increase time complexity and space time complexity?","body":"<p>There is an array related problem, the requirement is that time complexity is O(n) and space complexity is O(1).</p>\n\n<p>If I use <code>Arrays.sort(arr)</code>, and use a <code>for</code> loop to one pass loop, for example:</p>\n\n<pre><code>public static int hello(int[]A){\n  Arrays.sort(A);\n  for(int i=0;i&lt;A.length;i++){\n     ....................\n  }\n  return ....;\n</code></pre>\n\n<p>}</p>\n\n<p>So the loop will cost O(n) time. My question is: will <code>Arrays.sort()</code> cost more time? If I use <code>Arrays.sort()</code>, will this time complexity still be O(n)? And will <code>Arrays.sort()</code> cost more space?</p>\n"},{"tags":["java","timer"],"answers":[{"comments":[{"owner":{"account_id":23143,"reputation":53986,"user_id":57752,"accept_rate":73,"display_name":"Eddie"},"score":1,"creation_date":1245892029,"post_id":1041692,"comment_id":852659,"body_markdown":"As Kevin said, you are calling &quot;timer.schedule(this, delay, period)&quot; with the same &quot;this&quot; each time.  The TimerTask is not meant to be given to multiple different timers.  Each TimerTask instance is meant to be scheduled exactly one time.","body":"As Kevin said, you are calling &quot;timer.schedule(this, delay, period)&quot; with the same &quot;this&quot; each time.  The TimerTask is not meant to be given to multiple different timers.  Each TimerTask instance is meant to be scheduled exactly one time."},{"owner":{"account_id":14450,"reputation":24997,"user_id":2112692,"accept_rate":71,"display_name":"Zak"},"score":1,"creation_date":1245893309,"post_id":1041692,"comment_id":852703,"body_markdown":"Thanks, that totally does not pop out of the documentation, and as soon as I switched to creating new TimerTasks, everything went according to plan..","body":"Thanks, that totally does not pop out of the documentation, and as soon as I switched to creating new TimerTasks, everything went according to plan.."},{"owner":{"account_id":43112,"reputation":58953,"user_id":125844,"accept_rate":85,"display_name":"notnoop"},"score":2,"creation_date":1245896174,"post_id":1041692,"comment_id":852823,"body_markdown":"The specification of schedule states: @throws IllegalStateException if task was already scheduled or cancelled, timer was cancelled, or timer thread terminated.\n\nThe task was already scheduled in an earlier Timer, hence the exception being thrown.","body":"The specification of schedule states: @throws IllegalStateException if task was already scheduled or cancelled, timer was cancelled, or timer thread terminated.  The task was already scheduled in an earlier Timer, hence the exception being thrown."},{"owner":{"account_id":29738,"reputation":22271,"user_id":80572,"accept_rate":80,"display_name":"Kevin Montrose"},"score":0,"creation_date":1245897145,"post_id":1041692,"comment_id":852854,"body_markdown":"msaeed is right about the documentation, although its not as clear as it could be.  Additionally, although I&#39;m certainly not dogmatic about it, the OS nature of Java certainly helps in tracking down these &quot;not quite clear&quot; bugs.","body":"msaeed is right about the documentation, although its not as clear as it could be.  Additionally, although I&#39;m certainly not dogmatic about it, the OS nature of Java certainly helps in tracking down these &quot;not quite clear&quot; bugs."},{"owner":{"account_id":9,"reputation":220303,"user_id":13,"accept_rate":100,"display_name":"C. K. Young"},"score":0,"creation_date":1245900826,"post_id":1041692,"comment_id":852994,"body_markdown":"I suggest this as a better solution (yes, blowing my own trumpet, but I feel it should be said for the record :-P): http://stackoverflow.com/questions/32001/resettable-java-timer/32057#32057","body":"I suggest this as a better solution (yes, blowing my own trumpet, but I feel it should be said for the record :-P): <a href=\"http://stackoverflow.com/questions/32001/resettable-java-timer/32057#32057\" title=\"resettable java timer\">stackoverflow.com/questions/32001/resettable-java-timer/&hellip;</a>"}],"tags":[],"owner":{"account_id":29738,"reputation":22271,"user_id":80572,"accept_rate":80,"display_name":"Kevin Montrose"},"comment_count":5,"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1245891923,"creation_date":1245891603,"answer_id":1041692,"question_id":1041675,"body_markdown":"You can&#39;t reuse a TimerTask as you&#39;re doing here.\r\n\r\nRelevant porition of [Timer][1]:\r\n\r\n    private void sched(TimerTask task, long time, long period) {\r\n        if (time &lt; 0)\r\n            throw new IllegalArgumentException(&quot;Illegal execution time.&quot;);\r\n    \r\n        synchronized(queue) {\r\n            if (!thread.newTasksMayBeScheduled)\r\n                throw new IllegalStateException(&quot;Timer already cancelled.&quot;);\r\n    \r\n            synchronized(task.lock) {\r\n                //Right here&#39;s your problem.\r\n                //  state is package-private, declared in TimerTask\r\n                if (task.state != TimerTask.VIRGIN)\r\n                    throw new IllegalStateException(\r\n                        &quot;Task already scheduled or cancelled&quot;);\r\n                task.nextExecutionTime = time;\r\n                task.period = period;\r\n                task.state = TimerTask.SCHEDULED;\r\n            }\r\n    \r\n            queue.add(task);\r\n            if (queue.getMin() == task)\r\n                queue.notify();\r\n        }\r\n    }\r\n\r\nYou&#39;ll need to refactor your code so that you create a new TimerTask, rather than re-using one.\r\n\r\n  [1]: http://www.docjar.com/html/api/java/util/Timer.java.html","title":"Java Timer","body":"<p>You can't reuse a TimerTask as you're doing here.</p>\n\n<p>Relevant porition of <a href=\"http://www.docjar.com/html/api/java/util/Timer.java.html\" rel=\"noreferrer\">Timer</a>:</p>\n\n<pre><code>private void sched(TimerTask task, long time, long period) {\n    if (time &lt; 0)\n        throw new IllegalArgumentException(\"Illegal execution time.\");\n\n    synchronized(queue) {\n        if (!thread.newTasksMayBeScheduled)\n            throw new IllegalStateException(\"Timer already cancelled.\");\n\n        synchronized(task.lock) {\n            //Right here's your problem.\n            //  state is package-private, declared in TimerTask\n            if (task.state != TimerTask.VIRGIN)\n                throw new IllegalStateException(\n                    \"Task already scheduled or cancelled\");\n            task.nextExecutionTime = time;\n            task.period = period;\n            task.state = TimerTask.SCHEDULED;\n        }\n\n        queue.add(task);\n        if (queue.getMin() == task)\n            queue.notify();\n    }\n}\n</code></pre>\n\n<p>You'll need to refactor your code so that you create a new TimerTask, rather than re-using one.</p>\n"},{"tags":[],"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1245891895,"creation_date":1245891895,"answer_id":1041706,"question_id":1041675,"body_markdown":"It seems odd to me to have a TimerTask with its own Timer inside it.  Bad design.  I&#39;d totally separate the two and have the TimerTask implementation be handed off to a Timer, and put all that logic about fiddling with the period inside another class that provides an interface for doing so.  Let that class instantiate the Timer and TimerTask and send them off to do their work.\r\n","title":"Java Timer","body":"<p>It seems odd to me to have a TimerTask with its own Timer inside it.  Bad design.  I'd totally separate the two and have the TimerTask implementation be handed off to a Timer, and put all that logic about fiddling with the period inside another class that provides an interface for doing so.  Let that class instantiate the Timer and TimerTask and send them off to do their work.</p>\n"},{"tags":[],"owner":{"account_id":4754783,"reputation":119,"user_id":3872048,"accept_rate":75,"display_name":"deeban"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1673020196,"creation_date":1408369447,"answer_id":25364850,"question_id":1041675,"body_markdown":"In this exmaple, &quot;Executed....&quot; will be printed after 4 seconds of delay. After that, it will be printed continuously every 3 seconds:\r\n\r\n    import java.util.*;\r\n\r\n    class TimeSetting {\r\n        public static void main(String[] args) {\r\n            Timer t = new Timer();\r\n            TimerTask time = new TimerTask() {\r\n                public void run() {\r\n                    System.out.println(&quot;Executed......&quot;);\r\n                }\r\n            };\r\n            t.scheduleAtFixedRate(time, 4000, 3000);\r\n            /*\r\n            * The task will be started after 4 secs and \r\n            * for every 3 seconds the task will be continuously \r\n            * executed.....\r\n            */\r\n        }\r\n    }","title":"Java Timer","body":"<p>In this exmaple, &quot;Executed....&quot; will be printed after 4 seconds of delay. After that, it will be printed continuously every 3 seconds:</p>\n<pre><code>import java.util.*;\n\nclass TimeSetting {\n    public static void main(String[] args) {\n        Timer t = new Timer();\n        TimerTask time = new TimerTask() {\n            public void run() {\n                System.out.println(&quot;Executed......&quot;);\n            }\n        };\n        t.scheduleAtFixedRate(time, 4000, 3000);\n        /*\n        * The task will be started after 4 secs and \n        * for every 3 seconds the task will be continuously \n        * executed.....\n        */\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7421543,"reputation":2874,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673019837,"creation_date":1673019837,"answer_id":75033062,"question_id":1041675,"body_markdown":"You can use [`ScheduledExecutorService`][1], which allows you to schedule the same task multiple times without using [`scheduleAtFixedRate`][2]. Here&#39;s a quick example:\r\n\r\n    ScheduledExecutorService executorService = Executors.newScheduledThreadPool(1);\r\n    Runnable timerTask = new Runnable() {\r\n    \t@Override\r\n    \tpublic void run() {\r\n    \t\t// Do something\r\n    \t\tSystem.out.println(&quot;Task run!&quot;);\r\n    \t\t// Schedule again\r\n    \t\texecutorService.schedule(this, 15, TimeUnit.SECONDS);\r\n    \t}\r\n    };\r\n    // Schedule\r\n    executorService.schedule(timerTask, 15, TimeUnit.SECONDS);\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ScheduledExecutorService.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ScheduledExecutorService.html#scheduleAtFixedRate-java.lang.Runnable-long-long-java.util.concurrent.TimeUnit-","title":"Java Timer","body":"<p>You can use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ScheduledExecutorService.html\" rel=\"nofollow noreferrer\"><code>ScheduledExecutorService</code></a>, which allows you to schedule the same task multiple times without using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ScheduledExecutorService.html#scheduleAtFixedRate-java.lang.Runnable-long-long-java.util.concurrent.TimeUnit-\" rel=\"nofollow noreferrer\"><code>scheduleAtFixedRate</code></a>. Here's a quick example:</p>\n<pre><code>ScheduledExecutorService executorService = Executors.newScheduledThreadPool(1);\nRunnable timerTask = new Runnable() {\n    @Override\n    public void run() {\n        // Do something\n        System.out.println(&quot;Task run!&quot;);\n        // Schedule again\n        executorService.schedule(this, 15, TimeUnit.SECONDS);\n    }\n};\n// Schedule\nexecutorService.schedule(timerTask, 15, TimeUnit.SECONDS);\n</code></pre>\n"}],"owner":{"account_id":14450,"reputation":24997,"user_id":2112692,"accept_rate":71,"display_name":"Zak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36608,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":1041692,"answer_count":4,"score":20,"last_activity_date":1673020196,"creation_date":1245890976,"question_id":1041675,"body_markdown":"I&#39;m trying to use a timer to schedule a recurring event in an application. However, I want to be able to adjust the period at which the event fires in real time (according to the users input).\r\n\r\n\r\nFor example:\r\n\r\n    public class HelperTimer extends TimerTask\r\n    {\r\n        private Timer timer;\r\n        //Default of 15 second between updates\r\n        private int secondsToDelay = 15;\r\n    \r\n        public void setPeriod(int seconds)\r\n        {\r\n            this.secondsToDelay = seconds;\r\n            long delay = 1000; // 1 second\r\n            long period = 1000*secondsToDelay; // seconds\r\n            if (timer != null) \r\n            {\r\n                timer.cancel();\r\n            }\r\n            System.out.println(timer);\r\n            timer = new Timer();\r\n            System.out.println(timer);\r\n            timer.schedule(this, delay, period);\r\n        }\r\n        public int getPeriod()\r\n        {\r\n            return this.secondsToDelay;\r\n        }\r\n    }\r\n\r\n\r\nI then start a new instance of this class and call its set period function. However, when I do that, I get an Illegal state exception.  You can see the             System.out.println(timer); in there because I&#39;m checking, and yep sure enough, they are two different timers... so why am I getting an IllegalStateException when I try to run a schedule call on a brand new Timer instance!?!?!?!\r\n\r\n\r\n    java.util.Timer@c55e36\r\n    java.util.Timer@9664a1\r\n    Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.IllegalStateException: Task already scheduled or cancelled\r\n    \tat java.util.Timer.sched(Unknown Source)\r\n    \tat java.util.Timer.schedule(Unknown Source)\r\n    \tat HelperTimer.setPeriod(HelperTimer.java:38)","title":"Java Timer","body":"<p>I'm trying to use a timer to schedule a recurring event in an application. However, I want to be able to adjust the period at which the event fires in real time (according to the users input).</p>\n\n<p>For example:</p>\n\n<pre><code>public class HelperTimer extends TimerTask\n{\n    private Timer timer;\n    //Default of 15 second between updates\n    private int secondsToDelay = 15;\n\n    public void setPeriod(int seconds)\n    {\n        this.secondsToDelay = seconds;\n        long delay = 1000; // 1 second\n        long period = 1000*secondsToDelay; // seconds\n        if (timer != null) \n        {\n            timer.cancel();\n        }\n        System.out.println(timer);\n        timer = new Timer();\n        System.out.println(timer);\n        timer.schedule(this, delay, period);\n    }\n    public int getPeriod()\n    {\n        return this.secondsToDelay;\n    }\n}\n</code></pre>\n\n<p>I then start a new instance of this class and call its set period function. However, when I do that, I get an Illegal state exception.  You can see the             System.out.println(timer); in there because I'm checking, and yep sure enough, they are two different timers... so why am I getting an IllegalStateException when I try to run a schedule call on a brand new Timer instance!?!?!?!</p>\n\n<pre><code>java.util.Timer@c55e36\njava.util.Timer@9664a1\nException in thread \"AWT-EventQueue-0\" java.lang.IllegalStateException: Task already scheduled or cancelled\n    at java.util.Timer.sched(Unknown Source)\n    at java.util.Timer.schedule(Unknown Source)\n    at HelperTimer.setPeriod(HelperTimer.java:38)\n</code></pre>\n"},{"tags":["java","scala","intellij-idea"],"answers":[{"comments":[{"owner":{"account_id":5653666,"reputation":969,"user_id":4473456,"accept_rate":50,"display_name":"user2B4L2"},"score":0,"creation_date":1516721565,"post_id":48405189,"comment_id":83799348,"body_markdown":"Thank you very much for your quick response. I followed your suggestions: and installed &quot;jdk-8u161-macosx-x64.dmg&quot;. However, I still do only have the option 1.6 above but not 1.8. So nothing changed. What else can I do?","body":"Thank you very much for your quick response. I followed your suggestions: and installed &quot;jdk-8u161-macosx-x64.dmg&quot;. However, I still do only have the option 1.6 above but not 1.8. So nothing changed. What else can I do?"},{"owner":{"account_id":8264328,"reputation":2362,"user_id":6214495,"display_name":"nicodp"},"score":1,"creation_date":1516721638,"post_id":48405189,"comment_id":83799415,"body_markdown":"Have you restarted IntelliJ?","body":"Have you restarted IntelliJ?"},{"owner":{"account_id":5653666,"reputation":969,"user_id":4473456,"accept_rate":50,"display_name":"user2B4L2"},"score":0,"creation_date":1516721998,"post_id":48405189,"comment_id":83799687,"body_markdown":"Yes, I did again restart both IntelliJ and the whole System (Laptop).","body":"Yes, I did again restart both IntelliJ and the whole System (Laptop)."},{"owner":{"account_id":5653666,"reputation":969,"user_id":4473456,"accept_rate":50,"display_name":"user2B4L2"},"score":0,"creation_date":1516722461,"post_id":48405189,"comment_id":83800028,"body_markdown":"Thanks again, yes that seems to somewhat yield to the correct menu but I still cannot choose JDK 1.8; I can only select 1.6. : ( However, I can either click on &quot;New ...&quot; or &quot;Edit&quot;. Can you guide me through the process of how to add a New JDK?","body":"Thanks again, yes that seems to somewhat yield to the correct menu but I still cannot choose JDK 1.8; I can only select 1.6. : ( However, I can either click on &quot;New ...&quot; or &quot;Edit&quot;. Can you guide me through the process of how to add a New JDK?"},{"owner":{"account_id":8264328,"reputation":2362,"user_id":6214495,"display_name":"nicodp"},"score":1,"creation_date":1516722919,"post_id":48405189,"comment_id":83800384,"body_markdown":"You should select `New`, and find the path of the new version of your `Java 1.8 JDK`, which should be close to the path of the current one.","body":"You should select <code>New</code>, and find the path of the new version of your <code>Java 1.8 JDK</code>, which should be close to the path of the current one."},{"owner":{"account_id":5653666,"reputation":969,"user_id":4473456,"accept_rate":50,"display_name":"user2B4L2"},"score":0,"creation_date":1516723089,"post_id":48405189,"comment_id":83800505,"body_markdown":"SOLVED! If I clicked on &quot;New...&quot; I just had to select &quot;JDK&quot;, the window popped up where I was in folder &quot;1.6.0.jdk&quot; by default. Now, all I had to do was to change to the new folder &quot;jdk1.8.0_161.jdk&quot; folder, which is stored in the same folder as &quot;1.6.0.jdk&quot;, namely in the &quot;JavaVirtualMachines&quot; folder.","body":"SOLVED! If I clicked on &quot;New...&quot; I just had to select &quot;JDK&quot;, the window popped up where I was in folder &quot;1.6.0.jdk&quot; by default. Now, all I had to do was to change to the new folder &quot;jdk1.8.0_161.jdk&quot; folder, which is stored in the same folder as &quot;1.6.0.jdk&quot;, namely in the &quot;JavaVirtualMachines&quot; folder."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1641653267,"post_id":48405189,"comment_id":124863334,"body_markdown":"FYI, Oracle is but one of several vendors providing installers or binaries for a Java 8 JDK. Other vendors include, off the top of my head: SAP, Pivotal, Microsoft, Adoptium (formerly AdoptOpenJDK), Azul Systems, BellSoft, Amazon, Red Hat/IBM, and possibly others.","body":"FYI, Oracle is but one of several vendors providing installers or binaries for a Java 8 JDK. Other vendors include, off the top of my head: SAP, Pivotal, Microsoft, Adoptium (formerly AdoptOpenJDK), Azul Systems, BellSoft, Amazon, Red Hat/IBM, and possibly others."}],"tags":[],"owner":{"account_id":8264328,"reputation":2362,"user_id":6214495,"display_name":"nicodp"},"comment_count":7,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1516722002,"creation_date":1516720966,"answer_id":48405189,"question_id":48405089,"body_markdown":"[Here][1] you can download the Java JDK 1.8. After installing it, it should appear as an option inside IntelliJ.\r\n\r\n**UPDATE:**\r\n\r\nFind `File -&gt; Project structure` menu and go to `Project Settings -&gt; Project` tab. If on `Project SDK` the `Java version 1.8 SDK` is not selected, change it and click `OK`. \r\n\r\n  [1]: http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html","title":"IntelliJ Idea - Install JDK 1.8 on Mac","body":"<p><a href=\"http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html\" rel=\"nofollow noreferrer\">Here</a> you can download the Java JDK 1.8. After installing it, it should appear as an option inside IntelliJ.</p>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>Find <code>File -&gt; Project structure</code> menu and go to <code>Project Settings -&gt; Project</code> tab. If on <code>Project SDK</code> the <code>Java version 1.8 SDK</code> is not selected, change it and click <code>OK</code>. </p>\n"},{"tags":[],"owner":{"account_id":134590,"reputation":26825,"user_id":336827,"accept_rate":61,"display_name":"freedev"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1641652702,"creation_date":1611933128,"answer_id":65957044,"question_id":48405089,"body_markdown":"# In 2022, you can use just `brew`\r\n\r\n    brew install openjdk@8\r\n\r\nand then add into Intellij IDEA as new SDK with the following path:\r\n\r\n    /usr/local/opt/openjdk@8\r\n\r\nmaybe you need to update `PATH` env:\r\n\r\n    export PATH=&quot;/usr/local/opt/openjdk@8/bin:$PATH&quot;\r\n\r\n## â¦and for the future give a try to [`sdkman`][2], is better than `brew`\r\n\r\n    curl -s &quot;https://get.sdkman.io&quot; | bash\r\n\r\nthen open a **new shell** and try `list` to see what you could install ;-)\r\n\r\n    sdk list java \r\n\r\nAt time of writing you could use:\r\n\r\n    sdk install java 8.0.312-tem\r\n\r\n  [2]: https://sdkman.io/\r\n\r\n","title":"IntelliJ Idea - Install JDK 1.8 on Mac","body":"<h1>In 2022, you can use just <code>brew</code></h1>\n<pre><code>brew install openjdk@8\n</code></pre>\n<p>and then add into Intellij IDEA as new SDK with the following path:</p>\n<pre><code>/usr/local/opt/openjdk@8\n</code></pre>\n<p>maybe you need to update <code>PATH</code> env:</p>\n<pre><code>export PATH=&quot;/usr/local/opt/openjdk@8/bin:$PATH&quot;\n</code></pre>\n<h2>â¦and for the future give a try to <a href=\"https://sdkman.io/\" rel=\"nofollow noreferrer\"><code>sdkman</code></a>, is better than <code>brew</code></h2>\n<pre><code>curl -s &quot;https://get.sdkman.io&quot; | bash\n</code></pre>\n<p>then open a <strong>new shell</strong> and try <code>list</code> to see what you could install ;-)</p>\n<pre><code>sdk list java \n</code></pre>\n<p>At time of writing you could use:</p>\n<pre><code>sdk install java 8.0.312-tem\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15424156,"reputation":8990,"user_id":11127383,"display_name":"Daniel Danielecki"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673020166,"creation_date":1673020166,"answer_id":75033129,"question_id":48405089,"body_markdown":"2023 on `Mac` chip only `brew install --cask adoptopenjdk8` and then use in terminal `vim ~/.zshrc` with `export JAVAC_HOME=/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/` inside that file.","title":"IntelliJ Idea - Install JDK 1.8 on Mac","body":"<p>2023 on <code>Mac</code> chip only <code>brew install --cask adoptopenjdk8</code> and then use in terminal <code>vim ~/.zshrc</code> with <code>export JAVAC_HOME=/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/</code> inside that file.</p>\n"}],"owner":{"account_id":5653666,"reputation":969,"user_id":4473456,"accept_rate":50,"display_name":"user2B4L2"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15693,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":48405189,"answer_count":3,"score":5,"last_activity_date":1673020166,"creation_date":1516720692,"question_id":48405089,"body_markdown":"I use IntelliJ IDEA Ultimate 2017.3.3 and need to use Scala Version 2.12 for a project. However, IntelliJ says that JDK 1.8 is required for Scala Version 2.12. My problem is that I cannot select/choose JDK 1.8. Hence How can I set/install JDK to 1.8? \r\n\r\nAny help is heavily appreciated.\r\n\r\n[![Error Message][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Duyhu.png\r\n  [2]: https://i.stack.imgur.com/7rHQT.png","title":"IntelliJ Idea - Install JDK 1.8 on Mac","body":"<p>I use IntelliJ IDEA Ultimate 2017.3.3 and need to use Scala Version 2.12 for a project. However, IntelliJ says that JDK 1.8 is required for Scala Version 2.12. My problem is that I cannot select/choose JDK 1.8. Hence How can I set/install JDK to 1.8? </p>\n\n<p>Any help is heavily appreciated.</p>\n\n<p><a href=\"https://i.stack.imgur.com/Duyhu.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Duyhu.png\" alt=\"Error Message\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/7rHQT.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/7rHQT.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","email","apache-commons-email"],"answers":[{"comments":[{"owner":{"account_id":5380558,"reputation":2482,"user_id":4285898,"accept_rate":75,"display_name":"à¤à¤¨à¤à¤¦"},"score":0,"creation_date":1542740529,"post_id":6699959,"comment_id":93674699,"body_markdown":"Are you happy with the performance of apache commons mail? Which one should I prefer between Spring email and Apache commons mail for heavy attachment sending and faster performance?","body":"Are you happy with the performance of apache commons mail? Which one should I prefer between Spring email and Apache commons mail for heavy attachment sending and faster performance?"}],"tags":[],"owner":{"account_id":93597,"reputation":3025,"user_id":255982,"accept_rate":89,"display_name":"Ransom Briggs"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1310677763,"creation_date":1310677763,"answer_id":6699959,"question_id":6694975,"body_markdown":"I came up with the following solution after digging into the commons source itself.  This should work, but there may be better solutions I do not know of\r\n\r\n        Properties props = new Properties();\r\n        props.setProperty(&quot;mail.transport.protocol&quot;, &quot;smtp&quot;);\r\n        Session mailSession = Session.getDefaultInstance(props, null);\r\n        Transport transport = mailSession.getTransport(&quot;smtp&quot;);\r\n        transport.connect(&quot;localhost&quot;, 25, null, null);\r\n\r\n        Email email = new SimpleEmail();\r\n        email.setFrom(&quot;example@example.com&quot;);\r\n        email.addTo(&quot;example@example.com&quot;);\r\n        email.setSubject(&quot;Hello Example&quot;);\r\n        email.setMsg(&quot;Hello Example&quot;);\r\n        email.setHostName(&quot;localhost&quot;); // buildMimeMessage call below freaks out without this\r\n        \r\n        // dug into the internals of commons email\r\n        // basically send() is buildMimeMessage() + Transport.send(message)\r\n        // so rather than using Transport, reuse the one that I already have\r\n        email.buildMimeMessage();\r\n        Message m = email.getMimeMessage();\r\n        transport.sendMessage(m, m.getAllRecipients());","title":"Apache Commons Email and Reusing SMTP Connections","body":"<p>I came up with the following solution after digging into the commons source itself.  This should work, but there may be better solutions I do not know of</p>\n\n<pre><code>    Properties props = new Properties();\n    props.setProperty(\"mail.transport.protocol\", \"smtp\");\n    Session mailSession = Session.getDefaultInstance(props, null);\n    Transport transport = mailSession.getTransport(\"smtp\");\n    transport.connect(\"localhost\", 25, null, null);\n\n    Email email = new SimpleEmail();\n    email.setFrom(\"example@example.com\");\n    email.addTo(\"example@example.com\");\n    email.setSubject(\"Hello Example\");\n    email.setMsg(\"Hello Example\");\n    email.setHostName(\"localhost\"); // buildMimeMessage call below freaks out without this\n\n    // dug into the internals of commons email\n    // basically send() is buildMimeMessage() + Transport.send(message)\n    // so rather than using Transport, reuse the one that I already have\n    email.buildMimeMessage();\n    Message m = email.getMimeMessage();\n    transport.sendMessage(m, m.getAllRecipients());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":209006,"reputation":47,"user_id":459816,"display_name":"cheesus"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1325506700,"creation_date":1325506363,"answer_id":8700663,"question_id":6694975,"body_markdown":"Could we not achieve this easier by getting the mail session from the first email using getMailSession() and putting it to all subsequent messages using setMailSession() ?\r\n\r\nNot 100% sure what the\r\n&gt; Please note that passing a username and password (in the case of mail authentication) will create a new mail session with a DefaultAuthenticator. This is a convience but might come unexpected. If mail authentication is used but NO username and password is supplied the implementation assumes that you have set a authenticator and will use the existing mail session (as expected).\r\n \r\nfrom the javadoc means, though :-/\r\nhttp://commons.apache.org/email/api-release/org/apache/commons/mail/Email.html#setMailSession%28javax.mail.Session%29\r\n\r\nsee also:\r\nhttps://issues.apache.org/jira/browse/EMAIL-96\r\n\r\nnot sure how to continue here...\r\n","title":"Apache Commons Email and Reusing SMTP Connections","body":"<p>Could we not achieve this easier by getting the mail session from the first email using getMailSession() and putting it to all subsequent messages using setMailSession() ?</p>\n\n<p>Not 100% sure what the</p>\n\n<blockquote>\n  <p>Please note that passing a username and password (in the case of mail authentication) will create a new mail session with a DefaultAuthenticator. This is a convience but might come unexpected. If mail authentication is used but NO username and password is supplied the implementation assumes that you have set a authenticator and will use the existing mail session (as expected).</p>\n</blockquote>\n\n<p>from the javadoc means, though :-/\n<a href=\"http://commons.apache.org/email/api-release/org/apache/commons/mail/Email.html#setMailSession%28javax.mail.Session%29\" rel=\"nofollow\">http://commons.apache.org/email/api-release/org/apache/commons/mail/Email.html#setMailSession%28javax.mail.Session%29</a></p>\n\n<p>see also:\n<a href=\"https://issues.apache.org/jira/browse/EMAIL-96\" rel=\"nofollow\">https://issues.apache.org/jira/browse/EMAIL-96</a></p>\n\n<p>not sure how to continue here...</p>\n"}],"owner":{"account_id":93597,"reputation":3025,"user_id":255982,"accept_rate":89,"display_name":"Ransom Briggs"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4614,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":6699959,"answer_count":2,"score":6,"last_activity_date":1673020118,"creation_date":1310654181,"question_id":6694975,"body_markdown":"Currently I am using [Commons Email][1] to send email messages, but I have not been able to find a way to share smtp connections between emails sent.  I have code like the following:\r\n\r\n        Email email = new SimpleEmail();\r\n        email.setFrom(&quot;example@example.com&quot;);\r\n        email.addTo(&quot;example@example.com&quot;);\r\n        email.setSubject(&quot;Hello Example&quot;);\r\n        email.setMsg(&quot;Hello Example&quot;);\r\n        email.setSmtpPort(25);\r\n        email.setHostName(&quot;localhost&quot;);\r\n        email.send();\r\n\r\nWhich is very readable, but is slow when I do a large amount of messages, which I believe is the overhead of reconnecting for each message.  So I profiled it with the following code and have found that using the reusing the Transport makes things about three times faster.\r\n\r\n        Properties props = new Properties();\r\n        props.setProperty(&quot;mail.transport.protocol&quot;, &quot;smtp&quot;);\r\n        Session mailSession = Session.getDefaultInstance(props, null);\r\n        Transport transport = mailSession.getTransport(&quot;smtp&quot;);\r\n        transport.connect(&quot;localhost&quot;, 25, null, null);\r\n\r\n        MimeMessage message = new MimeMessage(mailSession);\r\n        message.setFrom(new InternetAddress(&quot;example@example.com&quot;));\r\n        message.addRecipient(Message.RecipientType.TO, new InternetAddress(&quot;example@example.com&quot;));\r\n        message.setSubject(&quot;Hello Example&quot;);\r\n        message.setContent(&quot;Hello Example&quot;, &quot;text/html; charset=ISO-8859-1&quot;);\r\n\r\n        transport.sendMessage(message, message.getAllRecipients());\r\n\r\nSo I was wondering if there was a way to make Commons Email reuse an SMTP connection for multiple email sendings?  I like the Commons Email API better, but the performance is kind of painful.\r\n\r\nThanks,\r\nRansom\r\n\r\n  [1]: http://commons.apache.org/email/","title":"Apache Commons Email and Reusing SMTP Connections","body":"<p>Currently I am using <a href=\"http://commons.apache.org/email/\" rel=\"nofollow\">Commons Email</a> to send email messages, but I have not been able to find a way to share smtp connections between emails sent.  I have code like the following:</p>\n\n<pre><code>    Email email = new SimpleEmail();\n    email.setFrom(\"example@example.com\");\n    email.addTo(\"example@example.com\");\n    email.setSubject(\"Hello Example\");\n    email.setMsg(\"Hello Example\");\n    email.setSmtpPort(25);\n    email.setHostName(\"localhost\");\n    email.send();\n</code></pre>\n\n<p>Which is very readable, but is slow when I do a large amount of messages, which I believe is the overhead of reconnecting for each message.  So I profiled it with the following code and have found that using the reusing the Transport makes things about three times faster.</p>\n\n<pre><code>    Properties props = new Properties();\n    props.setProperty(\"mail.transport.protocol\", \"smtp\");\n    Session mailSession = Session.getDefaultInstance(props, null);\n    Transport transport = mailSession.getTransport(\"smtp\");\n    transport.connect(\"localhost\", 25, null, null);\n\n    MimeMessage message = new MimeMessage(mailSession);\n    message.setFrom(new InternetAddress(\"example@example.com\"));\n    message.addRecipient(Message.RecipientType.TO, new InternetAddress(\"example@example.com\"));\n    message.setSubject(\"Hello Example\");\n    message.setContent(\"Hello Example\", \"text/html; charset=ISO-8859-1\");\n\n    transport.sendMessage(message, message.getAllRecipients());\n</code></pre>\n\n<p>So I was wondering if there was a way to make Commons Email reuse an SMTP connection for multiple email sendings?  I like the Commons Email API better, but the performance is kind of painful.</p>\n\n<p>Thanks,\nRansom</p>\n"},{"tags":["java","eclipse","crash","jvm"],"comments":[{"owner":{"account_id":121840,"reputation":36551,"user_id":315228,"accept_rate":100,"display_name":"SMA"},"score":0,"creation_date":1416132346,"post_id":26955742,"comment_id":42451090,"body_markdown":"Post whole error not just exit code.","body":"Post whole error not just exit code."},{"owner":{"account_id":4184307,"reputation":368,"user_id":3428424,"display_name":"Uhla"},"score":0,"creation_date":1416132531,"post_id":26955742,"comment_id":42451129,"body_markdown":"What&#39;s your java version, 6,7 or 8? 32bit or 64bit? What is your system param 32bit or 64 bit, Win 7 or win 8 or even some earlier?","body":"What&#39;s your java version, 6,7 or 8? 32bit or 64bit? What is your system param 32bit or 64 bit, Win 7 or win 8 or even some earlier?"},{"owner":{"account_id":4723666,"reputation":13,"user_id":4001290,"display_name":"ojas360"},"score":0,"creation_date":1416133095,"post_id":26955742,"comment_id":42451213,"body_markdown":"jdk 1.8.0_25 and win8 64bit ..","body":"jdk 1.8.0_25 and win8 64bit .."},{"owner":{"account_id":237493,"reputation":11836,"user_id":505714,"accept_rate":87,"display_name":"Alexis Dufrenoy"},"score":0,"creation_date":1416133904,"post_id":26955742,"comment_id":42451361,"body_markdown":"you didn&#39;t change anything in eclipse.ini?","body":"you didn&#39;t change anything in eclipse.ini?"},{"owner":{"account_id":4723666,"reputation":13,"user_id":4001290,"display_name":"ojas360"},"score":0,"creation_date":1416134221,"post_id":26955742,"comment_id":42451431,"body_markdown":"no i didnt change anything","body":"no i didnt change anything"}],"answers":[{"tags":[],"owner":{"account_id":2192557,"reputation":11,"user_id":1939158,"display_name":"Anand"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1424014020,"creation_date":1424014020,"answer_id":28527672,"question_id":26955742,"body_markdown":"Path under environment variable is referring to incorrect version of java, do check whole path properly, sometimes &quot;javapath&quot; term is also mentioned under referring to incorrect version of java sdk.\r\nSo simply remove that incorrect reference and It would work fine.","title":"Eclipse Crashing on Launch JVM terminated. Exit code=2 Error","body":"<p>Path under environment variable is referring to incorrect version of java, do check whole path properly, sometimes \"javapath\" term is also mentioned under referring to incorrect version of java sdk.\nSo simply remove that incorrect reference and It would work fine.</p>\n"},{"tags":[],"owner":{"account_id":5887806,"reputation":30,"user_id":4635249,"display_name":"Nandana Srinivasan"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1450852990,"creation_date":1450852990,"answer_id":34430054,"question_id":26955742,"body_markdown":"Uninstall Java; Delete all version of java on your machine. \r\nDownload the latest version and install it.\r\nThis worked for me.\r\n","title":"Eclipse Crashing on Launch JVM terminated. Exit code=2 Error","body":"<p>Uninstall Java; Delete all version of java on your machine. \nDownload the latest version and install it.\nThis worked for me.</p>\n"}],"owner":{"account_id":4723666,"reputation":13,"user_id":4001290,"display_name":"ojas360"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10378,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":34430054,"answer_count":2,"score":1,"last_activity_date":1673020016,"creation_date":1416131926,"question_id":26955742,"body_markdown":"I wanted to Start Java Programming on Eclipse.. I ran into this problem when trying to run Eclipse, having installed latest Version..\r\nI tried Googling The issue but didnt Found out answers For the same. \r\n\r\nProblem:\r\n    \r\n    Eclipse Craches with the Following Error\r\n     JVM terminated.Exit Code=2\r\n     C:\\ProgramData\\Oracle\\Java\\javapath\\javaw.exe\r\n    -Dosgi.requiredJavaVersion=1.6\r\n    -Xms40m\r\n    -Xmx512m\r\n    -jar C:\\eclipse\\\\plugins/org.eclipse.quinox.launcher_1.3.0v20140415-2008.jar\r\n    -os win32\r\n    -ws win32\r\n    -arch x86_64\r\n    -showsplash\r\n    C:\\eclipse\\\\plugins\\org.eclipse.platform_4.4.0.v20140925-0400\\splash.bmp\r\n    -launcher C:\\eclipse\\eclipse.exe\r\n    -name Eclipse\r\n    --launcher.library\r\n    C:\\eclipse\\\\plugins/org.eclipse.quinox.launcher_1.3.0.v20140415-2008.jar\r\n    --launcher.appendVmargs\r\n    -exitdata 1a54_58\r\n    -product org.eclipse.epp.package.java.product\r\n    -vm C:\\ProgramData\\Oracle\\Java\\javapath\\javaw.exe\r\n    -vmargs\r\n    -Dosgi.requiredJavaVersion=1.6\r\n    -Xms40m\r\n    -Xmx512m\r\n    -jar C:\\eclipse\\\\plugins/org.exlipse.quinox.launcher_1.3.0.v20140415-2008.jar \r\n\r\nCan someone please guide me how to solve this specific problem?I Had To Start With My Java Programming But This Error has Halted me  ....\r\nPlease Help...","title":"Eclipse Crashing on Launch JVM terminated. Exit code=2 Error","body":"<p>I wanted to Start Java Programming on Eclipse.. I ran into this problem when trying to run Eclipse, having installed latest Version..\nI tried Googling The issue but didnt Found out answers For the same.</p>\n<p>Problem:</p>\n<pre><code>Eclipse Craches with the Following Error\n JVM terminated.Exit Code=2\n C:\\ProgramData\\Oracle\\Java\\javapath\\javaw.exe\n-Dosgi.requiredJavaVersion=1.6\n-Xms40m\n-Xmx512m\n-jar C:\\eclipse\\\\plugins/org.eclipse.quinox.launcher_1.3.0v20140415-2008.jar\n-os win32\n-ws win32\n-arch x86_64\n-showsplash\nC:\\eclipse\\\\plugins\\org.eclipse.platform_4.4.0.v20140925-0400\\splash.bmp\n-launcher C:\\eclipse\\eclipse.exe\n-name Eclipse\n--launcher.library\nC:\\eclipse\\\\plugins/org.eclipse.quinox.launcher_1.3.0.v20140415-2008.jar\n--launcher.appendVmargs\n-exitdata 1a54_58\n-product org.eclipse.epp.package.java.product\n-vm C:\\ProgramData\\Oracle\\Java\\javapath\\javaw.exe\n-vmargs\n-Dosgi.requiredJavaVersion=1.6\n-Xms40m\n-Xmx512m\n-jar C:\\eclipse\\\\plugins/org.exlipse.quinox.launcher_1.3.0.v20140415-2008.jar \n</code></pre>\n<p>Can someone please guide me how to solve this specific problem?I Had To Start With My Java Programming But This Error has Halted me  ....\nPlease Help...</p>\n"},{"tags":["java","android","delete-file","mediastore","android-music-player"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1633594773,"post_id":69476457,"comment_id":122802748,"body_markdown":"You did not google for createdeleterequest.","body":"You did not google for createdeleterequest."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1633594845,"post_id":69476457,"comment_id":122802778,"body_markdown":"Not a good post but has a good example: https://proandroiddev.com/scoped-storage-on-android-11-2c5da70fb077","body":"Not a good post but has a good example: <a href=\"https://proandroiddev.com/scoped-storage-on-android-11-2c5da70fb077\" rel=\"nofollow noreferrer\">proandroiddev.com/scoped-storage-on-android-11-2c5da70fb077</a>"},{"owner":{"account_id":20725642,"reputation":33,"user_id":15218963,"display_name":"namanop"},"score":1,"creation_date":1633600134,"post_id":69476457,"comment_id":122805163,"body_markdown":"I did google but I didn&#39;t find good resources","body":"I did google but I didn&#39;t find good resources"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1633601288,"post_id":69476457,"comment_id":122805629,"body_markdown":"The link i provided is from the google search i suggested. No reason why you should not have found it. You can repeat the search to check.","body":"The link i provided is from the google search i suggested. No reason why you should not have found it. You can repeat the search to check."},{"owner":{"account_id":20725642,"reputation":33,"user_id":15218963,"display_name":"namanop"},"score":0,"creation_date":1633616057,"post_id":69476457,"comment_id":122811877,"body_markdown":"Hey @blackapps, I checked the link you provided. But the code is written in kotlin. And I use java so I cannot understand the code as I am a beginner android developer :&lt; . Would really like some help :&gt;","body":"Hey @blackapps, I checked the link you provided. But the code is written in kotlin. And I use java so I cannot understand the code as I am a beginner android developer :&lt; . Would really like some help :&gt;"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1633620838,"post_id":69476457,"comment_id":122814078,"body_markdown":"Then look further for other examples.","body":"Then look further for other examples."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1633949250,"post_id":69476457,"comment_id":122887777,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":911883,"reputation":2249,"user_id":945534,"accept_rate":25,"display_name":"Kenneth Evans"},"score":0,"creation_date":1669510384,"post_id":69476457,"comment_id":131657119,"body_markdown":"Try https://medium.com/@vishrut.goyani9/scoped-storage-in-android-writing-deleting-media-files-ee6235d30117","body":"Try <a href=\"https://medium.com/@vishrut.goyani9/scoped-storage-in-android-writing-deleting-media-files-ee6235d30117\" rel=\"nofollow noreferrer\">medium.com/@vishrut.goyani9/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":26855967,"reputation":2351,"user_id":20440272,"display_name":"Sohaib Ahmed"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673019704,"creation_date":1673019704,"answer_id":75033038,"question_id":69476457,"body_markdown":"    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R) {\r\n        val pendingIntent = MediaStore.createDeleteRequest(context.contentResolver, mutableListOf(fileUri))\r\n        deleteResultLauncher.launch(IntentSenderRequest.Builder(pendingIntent.intentSender).build())\r\n    } \r\n\r\n    private val deleteResultLauncher = registerForActivityResult(ActivityResultContracts.StartIntentSenderForResult()) { result -&gt;\r\n        if (result.resultCode == Activity.RESULT_OK) {\r\n            Log.d(&quot;deleteResultLauncher&quot;, &quot;Android 11 or higher : deleted&quot;)\r\n        }\r\n    }","title":"How to use MediaStore.createDeleteRequest?","body":"<pre><code>if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R) {\n    val pendingIntent = MediaStore.createDeleteRequest(context.contentResolver, mutableListOf(fileUri))\n    deleteResultLauncher.launch(IntentSenderRequest.Builder(pendingIntent.intentSender).build())\n} \n\nprivate val deleteResultLauncher = registerForActivityResult(ActivityResultContracts.StartIntentSenderForResult()) { result -&gt;\n    if (result.resultCode == Activity.RESULT_OK) {\n        Log.d(&quot;deleteResultLauncher&quot;, &quot;Android 11 or higher : deleted&quot;)\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":20725642,"reputation":33,"user_id":15218963,"display_name":"namanop"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1322,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1673019704,"creation_date":1633588678,"question_id":69476457,"body_markdown":"I was just wondering how to use MediaStore.createDeleteRequest() to create a delete request for a music/mp3 file. Because of the new ScopedStorage I am not able to use File.delete() and I cannot find some examples on how to use MediaStore.createDeleteRequest(). It would really be helpful if someone gives me a example on how to use it delete music files. Thanks","title":"How to use MediaStore.createDeleteRequest?","body":"<p>I was just wondering how to use MediaStore.createDeleteRequest() to create a delete request for a music/mp3 file. Because of the new ScopedStorage I am not able to use File.delete() and I cannot find some examples on how to use MediaStore.createDeleteRequest(). It would really be helpful if someone gives me a example on how to use it delete music files. Thanks</p>\n"},{"tags":["java","python","caching","serialization","pickle"],"answers":[{"tags":[],"owner":{"account_id":6651762,"reputation":479,"user_id":5133524,"display_name":"giuliano-oliveira"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673019026,"creation_date":1560658690,"answer_id":56616037,"question_id":56615903,"body_markdown":"&lt;p&gt;you could try &lt;a href=&quot;https://pypi.org/project/javaobj-py3/&quot;&gt;javaobj-py3&lt;/a&gt;&lt;/p&gt;\r\n&lt;p&gt;java code to generate a cache.json file encoding a HashMap structure&lt;/p&gt;\r\n\r\n```java\r\nimport java.io.IOException;\r\n\r\nimport java.io.ObjectOutputStream;\r\nimport java.io.FileOutputStream;\r\nimport java.util.HashMap;\r\n\r\npublic class SaveHashMap{\r\n\tpublic static void main(String[] args)throws IOException{\r\n\t\tHashMap&lt;String,String&gt; obj=new HashMap&lt;String,String&gt;();\r\n\t\tobj.put(&quot;foo&quot;,&quot;bar&quot;);\r\n\t\tobj.put(&quot;lorem&quot;,&quot;ipsum&quot;);\r\n\t\tobj.put(&quot;hello&quot;,&quot;world&quot;);\r\n\t\tObjectOutputStream oos = new ObjectOutputStream(new FileOutputStream(&quot;cache.dat&quot;));\r\n\t\toos.writeObject(obj);\r\n\t\toos.close();\r\n\t}\r\n}\r\n```\r\n\r\n&lt;p&gt;then, after executing the code above and installing the package with pip3 install javaobj-py3&lt;/p&gt;\r\n\r\n    &gt;&gt;&gt; import javaobj\r\n    &gt;&gt;&gt; with open(&quot;cache.dat&quot;,&quot;rb&quot;) as f:\r\n    ...     b=javaobj.loads(f.read())\r\n    ... \r\n    &gt;&gt;&gt; print(b)\r\n    {&#39;hello&#39;: &#39;world&#39;, &#39;lorem&#39;: &#39;ipsum&#39;, &#39;foo&#39;: &#39;bar&#39;}","title":"Java .dat file to Python pickle","body":"<p>you could try <a href=\"https://pypi.org/project/javaobj-py3/\" rel=\"nofollow noreferrer\">javaobj-py3</a></p>\n<p>java code to generate a cache.json file encoding a HashMap structure</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.IOException;\n\nimport java.io.ObjectOutputStream;\nimport java.io.FileOutputStream;\nimport java.util.HashMap;\n\npublic class SaveHashMap{\n    public static void main(String[] args)throws IOException{\n        HashMap&lt;String,String&gt; obj=new HashMap&lt;String,String&gt;();\n        obj.put(&quot;foo&quot;,&quot;bar&quot;);\n        obj.put(&quot;lorem&quot;,&quot;ipsum&quot;);\n        obj.put(&quot;hello&quot;,&quot;world&quot;);\n        ObjectOutputStream oos = new ObjectOutputStream(new FileOutputStream(&quot;cache.dat&quot;));\n        oos.writeObject(obj);\n        oos.close();\n    }\n}\n</code></pre>\n<p>then, after executing the code above and installing the package with pip3 install javaobj-py3</p>\n<pre><code>&gt;&gt;&gt; import javaobj\n&gt;&gt;&gt; with open(&quot;cache.dat&quot;,&quot;rb&quot;) as f:\n...     b=javaobj.loads(f.read())\n... \n&gt;&gt;&gt; print(b)\n{'hello': 'world', 'lorem': 'ipsum', 'foo': 'bar'}\n</code></pre>\n"}],"owner":{"account_id":5346693,"reputation":2655,"user_id":4262053,"accept_rate":78,"display_name":"Reihan_amn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":303,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673019026,"creation_date":1560656796,"question_id":56615903,"body_markdown":"I have some cache files that I stored them in **.dat** file in java. These are **HashMap** data structure:\r\n\r\n    ObjectOutputStream oos = new ObjectOutputStream(new \r\n    FileOutputStream(cachePath));\r\n    oos.writeObject(common_value_Cache);\r\n    oos.close();\r\n\r\nNow using my python program I want to open these files and read them in the same **dictionary** data structure:\r\n\r\n    withopen(&#39;/cache.dat&#39;, &#39;rb&#39;) as handle:\r\n    b = pickle.load(handle)\r\n\r\n\r\nIs there anyway I can do it?\r\nI got lots of error like: ValueError: binary mode doesn&#39;t take an encoding argument\r\n\r\n\r\nHow could I load .dat files in python?","title":"Java .dat file to Python pickle","body":"<p>I have some cache files that I stored them in <strong>.dat</strong> file in java. These are <strong>HashMap</strong> data structure:</p>\n\n<pre><code>ObjectOutputStream oos = new ObjectOutputStream(new \nFileOutputStream(cachePath));\noos.writeObject(common_value_Cache);\noos.close();\n</code></pre>\n\n<p>Now using my python program I want to open these files and read them in the same <strong>dictionary</strong> data structure:</p>\n\n<pre><code>withopen('/cache.dat', 'rb') as handle:\nb = pickle.load(handle)\n</code></pre>\n\n<p>Is there anyway I can do it?\nI got lots of error like: ValueError: binary mode doesn't take an encoding argument</p>\n\n<p>How could I load .dat files in python?</p>\n"},{"tags":["java","spring","spring-mvc"],"comments":[{"owner":{"account_id":2011138,"reputation":2168,"user_id":1799527,"accept_rate":33,"display_name":"Sandeep Poonia"},"score":2,"creation_date":1657813737,"post_id":72982977,"comment_id":128904797,"body_markdown":"implement EnvironmentAware","body":"implement EnvironmentAware"},{"owner":{"account_id":2011138,"reputation":2168,"user_id":1799527,"accept_rate":33,"display_name":"Sandeep Poonia"},"score":1,"creation_date":1657814279,"post_id":72982977,"comment_id":128905016,"body_markdown":"Or you can use @Conditional for property, instead of defining it as a field, so that it gets registered only when the property is false","body":"Or you can use @Conditional for property, instead of defining it as a field, so that it gets registered only when the property is false"},{"owner":{"account_id":15548653,"reputation":81,"user_id":11217036,"display_name":"Pedro Almeida"},"score":0,"creation_date":1657885395,"post_id":72982977,"comment_id":128921671,"body_markdown":"I tried the @COnditionalOnProperty before and the bean was loaded anyways","body":"I tried the @COnditionalOnProperty before and the bean was loaded anyways"}],"answers":[{"tags":[],"owner":{"account_id":432341,"reputation":46,"user_id":817037,"display_name":"nach&#236;"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673018666,"creation_date":1673018666,"answer_id":75032850,"question_id":72982977,"body_markdown":"Implement `EnvironmentAware` interface and get the property from the environment.\r\n\r\n    public class DatabaseExclusionFilter implements AutoConfigurationImportFilter, EnvironmentAware {\r\n    \r\n        private static final Set&lt;String&gt; DATABASE_BEANS_SKIP = new HashSet&lt;&gt;(\r\n            Arrays.asList(&quot;org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration&quot;,\r\n                    &quot;org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration&quot;));\r\n    \r\n        private Environment environment;\r\n    \r\n        @Override\r\n        public boolean[] match(String[] autoConfigurationClasses, AutoConfigurationMetadata autoConfigurationMetadata) {\r\n            List&lt;Boolean&gt; excludeBeans = new ArrayList&lt;&gt;();\r\n            if (!Boolean.parseBoolean(environment.getProperty(&quot;database.enabled&quot;)))) {\r\n                excludeBeans = match(Arrays.asList(autoConfigurationClasses));\r\n            }\r\n            return convertToPrimitiveArray(excludeBeans);\r\n        }\r\n\r\n        @Override\r\n        public void setEnvironment(Environment environment) {\r\n            this.environment = environment;\r\n        }\r\n    }","title":"Exclude autoconfiguration beans based on application yaml file","body":"<p>Implement <code>EnvironmentAware</code> interface and get the property from the environment.</p>\n<pre><code>public class DatabaseExclusionFilter implements AutoConfigurationImportFilter, EnvironmentAware {\n\n    private static final Set&lt;String&gt; DATABASE_BEANS_SKIP = new HashSet&lt;&gt;(\n        Arrays.asList(&quot;org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration&quot;,\n                &quot;org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration&quot;));\n\n    private Environment environment;\n\n    @Override\n    public boolean[] match(String[] autoConfigurationClasses, AutoConfigurationMetadata autoConfigurationMetadata) {\n        List&lt;Boolean&gt; excludeBeans = new ArrayList&lt;&gt;();\n        if (!Boolean.parseBoolean(environment.getProperty(&quot;database.enabled&quot;)))) {\n            excludeBeans = match(Arrays.asList(autoConfigurationClasses));\n        }\n        return convertToPrimitiveArray(excludeBeans);\n    }\n\n    @Override\n    public void setEnvironment(Environment environment) {\n        this.environment = environment;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":15548653,"reputation":81,"user_id":11217036,"display_name":"Pedro Almeida"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":294,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1673018666,"creation_date":1657812256,"question_id":72982977,"body_markdown":"I have some beans that want to exclude from auto configurating based on a configuration on my application.yml file:\r\n\r\n    database:\r\n      enabled: false\r\n\r\nTo do this, I created a Custom exclusion filter to exclude my beans from autoconfigurating:\r\n\r\n    public class DatabaseExclusionFilter implements AutoConfigurationImportFilter {\r\n\r\n    private static final Set&lt;String&gt; DATABASE_BEANS_SKIP = new HashSet&lt;&gt;(\r\n            Arrays.asList(&quot;org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration&quot;,\r\n                    &quot;org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration&quot;));\r\n\r\n\r\n    @Value(&quot;${database.enabled}&quot;)\r\n    private boolean enabled;\r\n\r\n    @Override\r\n    public boolean[] match(String[] autoConfigurationClasses, AutoConfigurationMetadata autoConfigurationMetadata) {\r\n        List&lt;Boolean&gt; excludeBeans = new ArrayList&lt;&gt;();\r\n        if (!enabled) {\r\n            excludeBeans = match(Arrays.asList(autoConfigurationClasses));\r\n        }\r\n        return convertToPrimitiveArray(excludeBeans);\r\n    }\r\n    }\r\nThis way, if the database is disabled in my project, I can exclude the configuration beans to being registered automatically. (This class is also indicated on the spring.factory file on the org.springframework.boot.autoconfigure.AutoConfigurationImportFilter).\r\n\r\nThis works fine but I have one problem, I cannot read the values from my yaml file, I think it is a precedence problem, maybe when the **AutoConfigurationImportFilter** is called, the **@Value** is not ready to work yet.\r\nHow can I solve this?","title":"Exclude autoconfiguration beans based on application yaml file","body":"<p>I have some beans that want to exclude from auto configurating based on a configuration on my application.yml file:</p>\n<pre><code>database:\n  enabled: false\n</code></pre>\n<p>To do this, I created a Custom exclusion filter to exclude my beans from autoconfigurating:</p>\n<pre><code>public class DatabaseExclusionFilter implements AutoConfigurationImportFilter {\n\nprivate static final Set&lt;String&gt; DATABASE_BEANS_SKIP = new HashSet&lt;&gt;(\n        Arrays.asList(&quot;org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration&quot;,\n                &quot;org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration&quot;));\n\n\n@Value(&quot;${database.enabled}&quot;)\nprivate boolean enabled;\n\n@Override\npublic boolean[] match(String[] autoConfigurationClasses, AutoConfigurationMetadata autoConfigurationMetadata) {\n    List&lt;Boolean&gt; excludeBeans = new ArrayList&lt;&gt;();\n    if (!enabled) {\n        excludeBeans = match(Arrays.asList(autoConfigurationClasses));\n    }\n    return convertToPrimitiveArray(excludeBeans);\n}\n}\n</code></pre>\n<p>This way, if the database is disabled in my project, I can exclude the configuration beans to being registered automatically. (This class is also indicated on the spring.factory file on the org.springframework.boot.autoconfigure.AutoConfigurationImportFilter).</p>\n<p>This works fine but I have one problem, I cannot read the values from my yaml file, I think it is a precedence problem, maybe when the <strong>AutoConfigurationImportFilter</strong> is called, the <strong>@Value</strong> is not ready to work yet.\nHow can I solve this?</p>\n"},{"tags":["java","jenkins"],"owner":{"account_id":27454462,"reputation":31,"user_id":20946163,"display_name":"Xavier Raynaud"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1673018594,"creation_date":1673018594,"question_id":75032836,"body_markdown":"In jenkins system log, I see a huge number of exception like the following one (~1 per second)\r\n\r\n\r\n`Jan 06, 2023 4:15:24 PM&#160;SEVERE&#160;com.google.common.util.concurrent.AggregateFuture log\r\n\r\nGot more than one input Future failure. Logging failures after the first\r\norg.jenkinsci.remoting.util.ExecutorServiceUtils$FatalRejectedExecutionException: Cannot execute the command java.util.concurrent.FutureTask@1f48e80f. The executor service is shutting down\r\n\tat hudson.remoting.SingleLaneExecutorService.execute(SingleLaneExecutorService.java:116)\r\n\tat java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:112)\r\n\tat jenkins.util.InterceptingExecutorService.submit(InterceptingExecutorService.java:46)\r\n\tat org.jenkinsci.plugins.workflow.cps.CpsFlowExecution$5.onSuccess(CpsFlowExecution.java:925)\r\n\tat org.jenkinsci.plugins.workflow.cps.CpsFlowExecution$5.onSuccess(CpsFlowExecution.java:921)\r\n\tat org.jenkinsci.plugins.workflow.support.concurrent.Futures$1.run(Futures.java:147)\r\n\tat org.jenkinsci.plugins.workflow.support.concurrent.DirectExecutor.execute(DirectExecutor.java:33)\r\n\tat com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1270)\r\n\tat com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:761)\r\n\tat com.google.common.util.concurrent.AbstractFuture$TrustedFuture.addListener(AbstractFuture.java:136)\r\n\tat org.jenkinsci.plugins.workflow.support.concurrent.Futures.addCallback(Futures.java:157)\r\n\tat org.jenkinsci.plugins.workflow.support.concurrent.Futures.addCallback(Futures.java:97)\r\n\tat org.jenkinsci.plugins.workflow.cps.CpsFlowExecution.runInCpsVmThread(CpsFlowExecution.java:921)\r\n\tat org.jenkinsci.plugins.workflow.cps.CpsFlowExecution.getCurrentExecutions(CpsFlowExecution.java:1012)\r\n\tat org.jenkinsci.plugins.workflow.flow.FlowExecutionList$StepExecutionIteratorImpl.apply(FlowExecutionList.java:215)\r\n\tat org.jenkinsci.plugins.workflow.steps.StepExecution.applyAll(StepExecution.java:179)\r\n\tat org.jenkinsci.plugins.workflow.steps.StepExecution.applyAll(StepExecution.java:187)\r\n\tat org.jenkinsci.plugins.workflow.steps.WaitForConditionStep$Execution.retry(WaitForConditionStep.java:121)\r\n\tat org.jenkinsci.plugins.workflow.steps.WaitForConditionStep$Execution.access$000(WaitForConditionStep.java:70)\r\n\tat org.jenkinsci.plugins.workflow.steps.WaitForConditionStep$Callback.onSuccess(WaitForConditionStep.java:181)\r\n\tat org.jenkinsci.plugins.workflow.cps.CpsBodyExecution$SuccessAdapter.receive(CpsBodyExecution.java:372)\r\n\tat com.cloudbees.groovy.cps.impl.ConstantBlock.eval(ConstantBlock.java:21)\r\n\tat com.cloudbees.groovy.cps.Next.step(Next.java:83)\r\n\tat com.cloudbees.groovy.cps.Continuable$1.call(Continuable.java:158)\r\n\tat com.cloudbees.groovy.cps.Continuable$1.call(Continuable.java:152)\r\n\tat org.codehaus.groovy.runtime.GroovyCategorySupport$ThreadCategoryInfo.use(GroovyCategorySupport.java:136)\r\n\tat org.codehaus.groovy.runtime.GroovyCategorySupport.use(GroovyCategorySupport.java:275)\r\n\tat com.cloudbees.groovy.cps.Continuable.run0(Continuable.java:152)\r\n\tat org.jenkinsci.plugins.workflow.cps.SandboxContinuable.access$001(SandboxContinuable.java:18)\r\n\tat org.jenkinsci.plugins.workflow.cps.SandboxContinuable.run0(SandboxContinuable.java:51)\r\n\tat org.jenkinsci.plugins.workflow.cps.CpsThread.runNextChunk(CpsThread.java:187)\r\n\tat org.jenkinsci.plugins.workflow.cps.CpsThreadGroup.run(CpsThreadGroup.java:420)\r\n\tat org.jenkinsci.plugins.workflow.cps.CpsThreadGroup.access$400(CpsThreadGroup.java:95)\r\n\tat org.jenkinsci.plugins.workflow.cps.CpsThreadGroup$2.call(CpsThreadGroup.java:330)\r\n\tat org.jenkinsci.plugins.workflow.cps.CpsThreadGroup$2.call(CpsThreadGroup.java:294)\r\n\tat org.jenkinsci.plugins.workflow.cps.CpsVmExecutorService$2.call(CpsVmExecutorService.java:67)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\tat hudson.remoting.SingleLaneExecutorService$1.run(SingleLaneExecutorService.java:139)\r\n\tat jenkins.util.ContextResettingExecutorService$1.run(ContextResettingExecutorService.java:28)\r\n\tat jenkins.security.ImpersonatingExecutorService$1.run(ImpersonatingExecutorService.java:68)\r\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat java.lang.Thread.run(Thread.java:750)`\r\n\r\n\r\n\r\nLooking at the call stack, I&#39;ve no idea where it comes from.\r\nHow can I debug that ?","title":"How to debug jenkins exception: org.jenkinsci.remoting.util.ExecutorServiceUtils$FatalRejectedExecutionException","body":"<p>In jenkins system log, I see a huge number of exception like the following one (~1 per second)</p>\n<p>`Jan 06, 2023 4:15:24 PMÂ SEVEREÂ com.google.common.util.concurrent.AggregateFuture log</p>\n<p>Got more than one input Future failure. Logging failures after the first\norg.jenkinsci.remoting.util.ExecutorServiceUtils$FatalRejectedExecutionException: Cannot execute the command java.util.concurrent.FutureTask@1f48e80f. The executor service is shutting down\nat hudson.remoting.SingleLaneExecutorService.execute(SingleLaneExecutorService.java:116)\nat java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:112)\nat jenkins.util.InterceptingExecutorService.submit(InterceptingExecutorService.java:46)\nat org.jenkinsci.plugins.workflow.cps.CpsFlowExecution$5.onSuccess(CpsFlowExecution.java:925)\nat org.jenkinsci.plugins.workflow.cps.CpsFlowExecution$5.onSuccess(CpsFlowExecution.java:921)\nat org.jenkinsci.plugins.workflow.support.concurrent.Futures$1.run(Futures.java:147)\nat org.jenkinsci.plugins.workflow.support.concurrent.DirectExecutor.execute(DirectExecutor.java:33)\nat com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1270)\nat com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:761)\nat com.google.common.util.concurrent.AbstractFuture$TrustedFuture.addListener(AbstractFuture.java:136)\nat org.jenkinsci.plugins.workflow.support.concurrent.Futures.addCallback(Futures.java:157)\nat org.jenkinsci.plugins.workflow.support.concurrent.Futures.addCallback(Futures.java:97)\nat org.jenkinsci.plugins.workflow.cps.CpsFlowExecution.runInCpsVmThread(CpsFlowExecution.java:921)\nat org.jenkinsci.plugins.workflow.cps.CpsFlowExecution.getCurrentExecutions(CpsFlowExecution.java:1012)\nat org.jenkinsci.plugins.workflow.flow.FlowExecutionList$StepExecutionIteratorImpl.apply(FlowExecutionList.java:215)\nat org.jenkinsci.plugins.workflow.steps.StepExecution.applyAll(StepExecution.java:179)\nat org.jenkinsci.plugins.workflow.steps.StepExecution.applyAll(StepExecution.java:187)\nat org.jenkinsci.plugins.workflow.steps.WaitForConditionStep$Execution.retry(WaitForConditionStep.java:121)\nat org.jenkinsci.plugins.workflow.steps.WaitForConditionStep$Execution.access$000(WaitForConditionStep.java:70)\nat org.jenkinsci.plugins.workflow.steps.WaitForConditionStep$Callback.onSuccess(WaitForConditionStep.java:181)\nat org.jenkinsci.plugins.workflow.cps.CpsBodyExecution$SuccessAdapter.receive(CpsBodyExecution.java:372)\nat com.cloudbees.groovy.cps.impl.ConstantBlock.eval(ConstantBlock.java:21)\nat com.cloudbees.groovy.cps.Next.step(Next.java:83)\nat com.cloudbees.groovy.cps.Continuable$1.call(Continuable.java:158)\nat com.cloudbees.groovy.cps.Continuable$1.call(Continuable.java:152)\nat org.codehaus.groovy.runtime.GroovyCategorySupport$ThreadCategoryInfo.use(GroovyCategorySupport.java:136)\nat org.codehaus.groovy.runtime.GroovyCategorySupport.use(GroovyCategorySupport.java:275)\nat com.cloudbees.groovy.cps.Continuable.run0(Continuable.java:152)\nat org.jenkinsci.plugins.workflow.cps.SandboxContinuable.access$001(SandboxContinuable.java:18)\nat org.jenkinsci.plugins.workflow.cps.SandboxContinuable.run0(SandboxContinuable.java:51)\nat org.jenkinsci.plugins.workflow.cps.CpsThread.runNextChunk(CpsThread.java:187)\nat org.jenkinsci.plugins.workflow.cps.CpsThreadGroup.run(CpsThreadGroup.java:420)\nat org.jenkinsci.plugins.workflow.cps.CpsThreadGroup.access$400(CpsThreadGroup.java:95)\nat org.jenkinsci.plugins.workflow.cps.CpsThreadGroup$2.call(CpsThreadGroup.java:330)\nat org.jenkinsci.plugins.workflow.cps.CpsThreadGroup$2.call(CpsThreadGroup.java:294)\nat org.jenkinsci.plugins.workflow.cps.CpsVmExecutorService$2.call(CpsVmExecutorService.java:67)\nat java.util.concurrent.FutureTask.run(FutureTask.java:266)\nat hudson.remoting.SingleLaneExecutorService$1.run(SingleLaneExecutorService.java:139)\nat jenkins.util.ContextResettingExecutorService$1.run(ContextResettingExecutorService.java:28)\nat jenkins.security.ImpersonatingExecutorService$1.run(ImpersonatingExecutorService.java:68)\nat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\nat java.util.concurrent.FutureTask.run(FutureTask.java:266)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\nat java.lang.Thread.run(Thread.java:750)`</p>\n<p>Looking at the call stack, I've no idea where it comes from.\nHow can I debug that ?</p>\n"},{"tags":["java","scala","servlets","jetty","xsbt-web-plugin"],"comments":[{"owner":{"account_id":176350,"reputation":13315,"user_id":406984,"accept_rate":100,"display_name":"earldouglas"},"score":0,"creation_date":1672762952,"post_id":74995470,"comment_id":132345337,"body_markdown":"The above works for me with one change: adding the missing `&lt;web-app&gt;` element to `web.xml`.  Do you have any other configuration not included above?  Which version of sbt are you using (`sbt --launcher-version`)?","body":"The above works for me with one change: adding the missing <code>&lt;web-app&gt;</code> element to <code>web.xml</code>.  Do you have any other configuration not included above?  Which version of sbt are you using (<code>sbt --launcher-version</code>)?"},{"owner":{"account_id":7034556,"reputation":12335,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":0,"creation_date":1672776088,"post_id":74995470,"comment_id":132349209,"body_markdown":"Doesn&#39;t jetty need a more recent version to handle Jakarta packages instead of javax?","body":"Doesn&#39;t jetty need a more recent version to handle Jakarta packages instead of javax?"},{"owner":{"account_id":1510234,"reputation":943,"user_id":1412555,"display_name":"Zhigong Li"},"score":0,"creation_date":1672795250,"post_id":74995470,"comment_id":132352994,"body_markdown":"Just a clue. Jetty uses `javax` package before and is upgraded to `jakarta` later. So I think there is a mix of usage in your code.","body":"Just a clue. Jetty uses <code>javax</code> package before and is upgraded to <code>jakarta</code> later. So I think there is a mix of usage in your code."}],"answers":[{"tags":[],"owner":{"account_id":406289,"reputation":47511,"user_id":775715,"accept_rate":100,"display_name":"Joakim Erdfelt"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673018543,"creation_date":1673018543,"answer_id":75032829,"question_id":74995470,"body_markdown":"You have a mix of Jetty versions present in your classpath on your project.\r\n\r\nAlign them all to one version.\r\n\r\nNot sure what your build tooling is like, but Jetty offers a [jetty-bom][1] that can help you align your versions of Jetty artifacts, regardless of where they come from in your build (eg: transitive dependencies)\r\n\r\nJetty 11.0.13 uses Jakarta Servlet 5.0, not 6.0\r\n\r\nhttps://github.com/eclipse/jetty.project/blob/jetty-11.0.13/pom.xml#L65\r\n\r\nAlso, do not use jetty-runner in your build tooling, it&#39;s a deprecated concept and is only meant for command line usage of the simplest webapps.\r\n\r\nhttps://github.com/eclipse/jetty.project/blob/jetty-11.0.13/jetty-runner/src/main/java/org/eclipse/jetty/runner/Runner.java#L68-L70\r\n\r\nUse jetty-home and a separate jetty-base properly instead.\r\n\r\n\r\n  [1]: https://search.maven.org/artifact/org.eclipse.jetty/jetty-bom","title":"UnavailableException: Servlet class is not a javax.servlet.Servlet with Jetty","body":"<p>You have a mix of Jetty versions present in your classpath on your project.</p>\n<p>Align them all to one version.</p>\n<p>Not sure what your build tooling is like, but Jetty offers a <a href=\"https://search.maven.org/artifact/org.eclipse.jetty/jetty-bom\" rel=\"nofollow noreferrer\">jetty-bom</a> that can help you align your versions of Jetty artifacts, regardless of where they come from in your build (eg: transitive dependencies)</p>\n<p>Jetty 11.0.13 uses Jakarta Servlet 5.0, not 6.0</p>\n<p><a href=\"https://github.com/eclipse/jetty.project/blob/jetty-11.0.13/pom.xml#L65\" rel=\"nofollow noreferrer\">https://github.com/eclipse/jetty.project/blob/jetty-11.0.13/pom.xml#L65</a></p>\n<p>Also, do not use jetty-runner in your build tooling, it's a deprecated concept and is only meant for command line usage of the simplest webapps.</p>\n<p><a href=\"https://github.com/eclipse/jetty.project/blob/jetty-11.0.13/jetty-runner/src/main/java/org/eclipse/jetty/runner/Runner.java#L68-L70\" rel=\"nofollow noreferrer\">https://github.com/eclipse/jetty.project/blob/jetty-11.0.13/jetty-runner/src/main/java/org/eclipse/jetty/runner/Runner.java#L68-L70</a></p>\n<p>Use jetty-home and a separate jetty-base properly instead.</p>\n"}],"owner":{"account_id":3146538,"reputation":149,"user_id":2660920,"display_name":"Heitor Barbieri"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":647,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1673018543,"creation_date":1672760256,"question_id":74995470,"body_markdown":"\r\nThe example given on the plugin page throws an exception when updated with the latest version of the jetty container and the jakarta package.\r\n\r\nIt expects old class &#39;javax.servlet.Servlet&#39; not new &#39;jakarta.servlet.Servlet&#39;\r\n\r\n```\r\nos: Ubuntu 22.10\r\njava: openjdk version &quot;11.0.11&quot; 2021-04-20\r\nscala: 2.13.10\r\n```\r\n\r\nbuild.sbt\r\n\r\n```\r\nThisBuild / version := &quot;0.1.0-SNAPSHOT&quot;\r\n\r\nThisBuild / scalaVersion := &quot;2.13.10&quot;\r\n\r\nlazy val root = (project in file(&quot;.&quot;))\r\n  .settings(\r\n    name := &quot;MyServlet&quot;\r\n  )\r\n\r\nval jakartaServletApiVersion = &quot;6.0.0&quot;\r\nval jettyVersion = &quot;11.0.13&quot;\r\n\r\nlibraryDependencies += &quot;jakarta.servlet&quot; % &quot;jakarta.servlet-api&quot; % jakartaServletApiVersion\r\n\r\nJetty / containerLibs := Seq(&quot;org.eclipse.jetty&quot; % &quot;jetty-runner&quot; % jettyVersion)\r\n\r\nenablePlugins(JettyPlugin)\r\n```\r\n\r\nplugins.sbt\r\n```\r\naddSbtPlugin(&quot;com.earldouglas&quot; % &quot;xsbt-web-plugin&quot; % &quot;4.2.4&quot;)\r\n```\r\n\r\nweb.xml\r\n\r\n&lt;web-app&gt;\r\n\r\n    &lt;servlet&gt;\r\n        &lt;servlet-name&gt;MyServlet&lt;/servlet-name&gt;\r\n        &lt;servlet-class&gt;mypackage.MyServlet&lt;/servlet-class&gt;\r\n    &lt;/servlet&gt;\r\n\r\n    &lt;servlet-mapping&gt;\r\n        &lt;servlet-name&gt;MyServlet&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;/hello&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;\r\n\r\n&lt;/web-app&gt;\r\n\r\nMyServlet.scala\r\n\r\n```\r\npackage mypackage\r\n\r\nimport jakarta.servlet.annotation.WebServlet\r\nimport jakarta.servlet.http.{HttpServlet, HttpServletRequest, HttpServletResponse}\r\n\r\n@WebServlet(urlPatterns = Array(&quot;/hello&quot;))\r\nclass MyServlet extends HttpServlet {\r\n  println(&quot;HEY&quot;)\r\n\r\n  override def doGet(req: HttpServletRequest, res: HttpServletResponse): Unit = {\r\n    res.setContentType(&quot;text/html&quot;)\r\n\r\n    res.setCharacterEncoding(&quot;UTF-8&quot;)\r\n    res.getWriter.write(&quot;&quot;&quot;&lt;h1&gt;Hello, world!&lt;/h1&gt;&quot;&quot;&quot;)\r\n  }\r\n}\r\n```\r\n\r\nCommand: \r\n```\r\njetty:start\r\n```\r\n\r\nException:\r\n\r\n&gt; UnavailableException: Servlet class mypackage.MyServlet is not a javax.servlet.Servlet\r\n\r\n```\r\njavax.servlet.UnavailableException: Servlet class mypackage.MyServlet is not a javax.servlet.Servlet\r\n\tat org.eclipse.jetty.servlet.ServletHolder.checkServletType(ServletHolder.java:514)\r\n\tat org.eclipse.jetty.servlet.ServletHolder.doStart(ServletHolder.java:386)\r\n\tat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:73)\r\n\tat org.eclipse.jetty.servlet.ServletHandler.lambda$initialize$0(ServletHandler.java:730)\r\n\tat java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)\r\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:485)\r\n\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\r\n\tat java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)\r\n\tat java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)\r\n\tat java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)\r\n\tat org.eclipse.jetty.servlet.ServletHandler.initialize(ServletHandler.java:755)\r\n\tat org.eclipse.jetty.servlet.ServletContextHandler.startContext(ServletContextHandler.java:379)\r\n\tat org.eclipse.jetty.webapp.WebAppContext.startWebapp(WebAppContext.java:1449)\r\n\tat org.eclipse.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1414)\r\n\tat org.eclipse.jetty.server.handler.ContextHandler.doStart(ContextHandler.java:911)\r\n\tat org.eclipse.jetty.servlet.ServletContextHandler.doStart(ServletContextHandler.java:288)\r\n\tat org.eclipse.jetty.webapp.WebAppContext.doStart(WebAppContext.java:524)\r\n\tat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:73)\r\n\tat org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:169)\r\n\tat org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:117)\r\n\tat org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:97)\r\n\tat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:73)\r\n\tat org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:169)\r\n\tat org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:117)\r\n\tat org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:97)\r\n\tat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:73)\r\n\tat org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:169)\r\n\tat org.eclipse.jetty.server.Server.start(Server.java:423)\r\n\tat org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:110)\r\n\tat org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:97)\r\n\tat org.eclipse.jetty.server.Server.doStart(Server.java:387)\r\n\tat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:73)\r\n\tat org.eclipse.jetty.runner.Runner.run(Runner.java:519)\r\n\tat org.eclipse.jetty.runner.Runner.main(Runner.java:564)\r\n```\r\n\r\nPlease what am I doing wrong?","title":"UnavailableException: Servlet class is not a javax.servlet.Servlet with Jetty","body":"<p>The example given on the plugin page throws an exception when updated with the latest version of the jetty container and the jakarta package.</p>\n<p>It expects old class 'javax.servlet.Servlet' not new 'jakarta.servlet.Servlet'</p>\n<pre><code>os: Ubuntu 22.10\njava: openjdk version &quot;11.0.11&quot; 2021-04-20\nscala: 2.13.10\n</code></pre>\n<p>build.sbt</p>\n<pre><code>ThisBuild / version := &quot;0.1.0-SNAPSHOT&quot;\n\nThisBuild / scalaVersion := &quot;2.13.10&quot;\n\nlazy val root = (project in file(&quot;.&quot;))\n  .settings(\n    name := &quot;MyServlet&quot;\n  )\n\nval jakartaServletApiVersion = &quot;6.0.0&quot;\nval jettyVersion = &quot;11.0.13&quot;\n\nlibraryDependencies += &quot;jakarta.servlet&quot; % &quot;jakarta.servlet-api&quot; % jakartaServletApiVersion\n\nJetty / containerLibs := Seq(&quot;org.eclipse.jetty&quot; % &quot;jetty-runner&quot; % jettyVersion)\n\nenablePlugins(JettyPlugin)\n</code></pre>\n<p>plugins.sbt</p>\n<pre><code>addSbtPlugin(&quot;com.earldouglas&quot; % &quot;xsbt-web-plugin&quot; % &quot;4.2.4&quot;)\n</code></pre>\n<p>web.xml</p>\n\n<pre><code>&lt;servlet&gt;\n    &lt;servlet-name&gt;MyServlet&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;mypackage.MyServlet&lt;/servlet-class&gt;\n&lt;/servlet&gt;\n\n&lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;MyServlet&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/hello&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n</code></pre>\n\n<p>MyServlet.scala</p>\n<pre><code>package mypackage\n\nimport jakarta.servlet.annotation.WebServlet\nimport jakarta.servlet.http.{HttpServlet, HttpServletRequest, HttpServletResponse}\n\n@WebServlet(urlPatterns = Array(&quot;/hello&quot;))\nclass MyServlet extends HttpServlet {\n  println(&quot;HEY&quot;)\n\n  override def doGet(req: HttpServletRequest, res: HttpServletResponse): Unit = {\n    res.setContentType(&quot;text/html&quot;)\n\n    res.setCharacterEncoding(&quot;UTF-8&quot;)\n    res.getWriter.write(&quot;&quot;&quot;&lt;h1&gt;Hello, world!&lt;/h1&gt;&quot;&quot;&quot;)\n  }\n}\n</code></pre>\n<p>Command:</p>\n<pre><code>jetty:start\n</code></pre>\n<p>Exception:</p>\n<blockquote>\n<p>UnavailableException: Servlet class mypackage.MyServlet is not a javax.servlet.Servlet</p>\n</blockquote>\n<pre><code>javax.servlet.UnavailableException: Servlet class mypackage.MyServlet is not a javax.servlet.Servlet\n    at org.eclipse.jetty.servlet.ServletHolder.checkServletType(ServletHolder.java:514)\n    at org.eclipse.jetty.servlet.ServletHolder.doStart(ServletHolder.java:386)\n    at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:73)\n    at org.eclipse.jetty.servlet.ServletHandler.lambda$initialize$0(ServletHandler.java:730)\n    at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:485)\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\n    at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)\n    at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)\n    at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)\n    at org.eclipse.jetty.servlet.ServletHandler.initialize(ServletHandler.java:755)\n    at org.eclipse.jetty.servlet.ServletContextHandler.startContext(ServletContextHandler.java:379)\n    at org.eclipse.jetty.webapp.WebAppContext.startWebapp(WebAppContext.java:1449)\n    at org.eclipse.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1414)\n    at org.eclipse.jetty.server.handler.ContextHandler.doStart(ContextHandler.java:911)\n    at org.eclipse.jetty.servlet.ServletContextHandler.doStart(ServletContextHandler.java:288)\n    at org.eclipse.jetty.webapp.WebAppContext.doStart(WebAppContext.java:524)\n    at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:73)\n    at org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:169)\n    at org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:117)\n    at org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:97)\n    at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:73)\n    at org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:169)\n    at org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:117)\n    at org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:97)\n    at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:73)\n    at org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:169)\n    at org.eclipse.jetty.server.Server.start(Server.java:423)\n    at org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:110)\n    at org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:97)\n    at org.eclipse.jetty.server.Server.doStart(Server.java:387)\n    at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:73)\n    at org.eclipse.jetty.runner.Runner.run(Runner.java:519)\n    at org.eclipse.jetty.runner.Runner.main(Runner.java:564)\n</code></pre>\n<p>Please what am I doing wrong?</p>\n"},{"tags":["java","swing","jlist","disable","listmodel"],"owner":{"account_id":7241428,"reputation":61,"user_id":5524891,"display_name":"Bate"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1673019333,"answer_count":0,"score":0,"last_activity_date":1673018445,"creation_date":1673018445,"question_id":75032806,"body_markdown":"I have a `JList` in which the displayed elements/objects can be disabled. A custom `ListRenderer` greys them out. What I want to achieve is that list cells containing a disabled object can no longer be selected, they should be &quot;*dead*&quot;.\r\n\r\n**Example**:\r\n\r\n    1. Alice (enabled)\r\n    2. Cooper (disabled)\r\n    3. Rocks (enabled)\r\n\r\nLet&#39;s assume the selected cell is &quot;**Alice**&quot;. If I click on &quot;**Cooper**&quot;, I don&#39;t want the selection to change. No `ListSelectionEvent` should be fired, nothing should happen at all! If I navigate through the list using the `cursor down` key, I want the &quot;**Cooper**&quot; cell to be skipped automatically. The next cell to be selected should be &quot;**Rocks**&quot;. In short: I want the list to behave as if disabled elements simply were not present (but I need them to be displayed nevertheless).\r\n\r\nI thought I might have to write my own `ListSelectionModel`, but I don&#39;t see any reference to the elements in the list from there, so not sure how I could detect which objects are disabled and adjust the selection accordingly.\r\n\r\nHow can I achieve the described behavior?","title":"Disable certain elements in a JList","body":"<p>I have a <code>JList</code> in which the displayed elements/objects can be disabled. A custom <code>ListRenderer</code> greys them out. What I want to achieve is that list cells containing a disabled object can no longer be selected, they should be &quot;<em>dead</em>&quot;.</p>\n<p><strong>Example</strong>:</p>\n<pre><code>1. Alice (enabled)\n2. Cooper (disabled)\n3. Rocks (enabled)\n</code></pre>\n<p>Let's assume the selected cell is &quot;<strong>Alice</strong>&quot;. If I click on &quot;<strong>Cooper</strong>&quot;, I don't want the selection to change. No <code>ListSelectionEvent</code> should be fired, nothing should happen at all! If I navigate through the list using the <code>cursor down</code> key, I want the &quot;<strong>Cooper</strong>&quot; cell to be skipped automatically. The next cell to be selected should be &quot;<strong>Rocks</strong>&quot;. In short: I want the list to behave as if disabled elements simply were not present (but I need them to be displayed nevertheless).</p>\n<p>I thought I might have to write my own <code>ListSelectionModel</code>, but I don't see any reference to the elements in the list from there, so not sure how I could detect which objects are disabled and adjust the selection accordingly.</p>\n<p>How can I achieve the described behavior?</p>\n"},{"tags":["java","jersey","jetty","classnotfoundexception","hk2"],"answers":[{"comments":[{"owner":{"account_id":1951378,"reputation":2495,"user_id":1755381,"accept_rate":48,"display_name":"Franz Deschler"},"score":0,"creation_date":1673103936,"post_id":75032758,"comment_id":132424975,"body_markdown":"So that means that the HK2 is an automatic module and the JPMS is not able to get the transitive dependencies? That&#180;s why I have to declare it explicitely?","body":"So that means that the HK2 is an automatic module and the JPMS is not able to get the transitive dependencies? That&#180;s why I have to declare it explicitely?"}],"tags":[],"owner":{"account_id":406289,"reputation":47511,"user_id":775715,"accept_rate":100,"display_name":"Joakim Erdfelt"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673018186,"creation_date":1673018186,"answer_id":75032758,"question_id":75004921,"body_markdown":"This is the standard JVM behavior of classpath (old school Java) and modulepath (new school Java Platform Module System, aka JPMS).\r\n\r\nOnce you have a `module-info.class` you have a modulepath active, and all of the access rules it has.\r\n\r\nYour runtime can have both at the same time, and this is quite normal.\r\n\r\nDon&#39;t rely on old school classpath to get around bad code and bad behavior, use JPMS and `module-info.class` and you&#39;ll know what the developers of those projects jars intend for you to use (you won&#39;t be allowed to use internal classes for example, as those are highly volatile and can change at a moments notice).\r\n\r\n`jakarta.xml.bind` is required by HK2 to operate, so you have to declare it in your build dependencies to just compile, and then your `module-info.java` to be able to access it.\r\n\r\nCheck the other answers here on Stackoverflow for advice on how to use `module-info.java` properly (there&#39;s far more to it than just `requires &lt;module&gt;`).\r\n\r\n","title":"ClassNotFoundException in embedded Jetty when using Module system","body":"<p>This is the standard JVM behavior of classpath (old school Java) and modulepath (new school Java Platform Module System, aka JPMS).</p>\n<p>Once you have a <code>module-info.class</code> you have a modulepath active, and all of the access rules it has.</p>\n<p>Your runtime can have both at the same time, and this is quite normal.</p>\n<p>Don't rely on old school classpath to get around bad code and bad behavior, use JPMS and <code>module-info.class</code> and you'll know what the developers of those projects jars intend for you to use (you won't be allowed to use internal classes for example, as those are highly volatile and can change at a moments notice).</p>\n<p><code>jakarta.xml.bind</code> is required by HK2 to operate, so you have to declare it in your build dependencies to just compile, and then your <code>module-info.java</code> to be able to access it.</p>\n<p>Check the other answers here on Stackoverflow for advice on how to use <code>module-info.java</code> properly (there's far more to it than just <code>requires &lt;module&gt;</code>).</p>\n"}],"owner":{"account_id":1951378,"reputation":2495,"user_id":1755381,"accept_rate":48,"display_name":"Franz Deschler"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":342,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673018186,"creation_date":1672832553,"question_id":75004921,"body_markdown":"I use an embedded Jetty (11.0.13) server with Jersey (3.1.0) that provides a simple REST interface which returns JSON objects. The JSON objects are serialized using Jackson.\r\n\r\nThe setup works fine as long as I don&#180;t use Java&#180;s module system.\r\nBut when I add the `module-info.java` file (see below), I get the following error as soon as I call the service.\r\n\r\n```\r\nWARNING: The following warnings have been detected: WARNING: Unknown HK2 failure detected:\r\nMultiException stack 1 of 2\r\njava.lang.NoClassDefFoundError: jakarta/xml/bind/annotation/XmlElement\r\n\tat com.fasterxml.jackson.module.jakarta.xmlbind.JakartaXmlBindAnnotationIntrospector.&lt;init&gt;(JakartaXmlBindAnnotationIntrospector.java:137)\r\n\t...\r\nCaused by: java.lang.ClassNotFoundException: jakarta.xml.bind.annotation.XmlElement\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n\t... 83 more\r\nMultiException stack 2 of 2\r\njava.lang.IllegalStateException: Unable to perform operation: post construct on org.glassfish.jersey.jackson.internal.DefaultJacksonJaxbJsonProvider\r\n\tat org.jvnet.hk2.internal.ClazzCreator.create(ClazzCreator.java:429)\r\n\tat org.jvnet.hk2.internal.SystemDescriptor.create(SystemDescriptor.java:466)\r\n\t...\r\n```\r\n\r\nTo make it work, I have to add the JAX-B-API to the `pom.xml` and to the `module-info.java`.\r\nThe error only occurs when using Java modules. When I simply delete the `module-info.java` file, everythink works fine even without the JAX-B dependency.\r\n\r\nThis is the point where I am really confused. Why do I need the JAX-B dependency when I use the module system, but not when I don&#180;t use it? And why does the `ClassNotFoundException` even occur? Shouldn&#180;t warn the module system about missing dependencies on startup?\r\n\r\nI hope someone can explain that. It took me days to make it work.\r\n\r\n---\r\n\r\nThis is the setup that produces the issue:\r\n\r\n**pom.xml**\r\n``` lang-xml\r\n&lt;project&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jetty-server&lt;/artifactId&gt;\r\n            &lt;version&gt;11.0.13&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jetty-servlet&lt;/artifactId&gt;\r\n            &lt;version&gt;11.0.13&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-container-servlet&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.inject&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-hk2&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n**Main.java**\r\n``` lang-java\r\npublic class Main {\r\n    public static void main(String[] args) throws Exception {\r\n        Server server = new Server(8080);\r\n        server.setStopAtShutdown(true);\r\n    \r\n        ServletContextHandler context = new ServletContextHandler(server, &quot;/&quot;);\r\n        ServletHolder servletHolder = context.addServlet(ServletContainer.class, &quot;/*&quot;);\r\n        servletHolder.setInitParameter(&quot;jersey.config.server.provider.packages&quot;, &quot;com.example.demo&quot;);\r\n        servletHolder.setInitParameter(&quot;jersey.config.server.wadl.disableWadl&quot;, &quot;true&quot;);\r\n        \r\n        server.start();\r\n    }\r\n}\r\n```\r\n\r\n**DemoResource.java**\r\n``` lang-java\r\n@Path(&quot;/hello&quot;)\r\npublic class DemoResource {\r\n    @GET\r\n    @Produces(&quot;application/json&quot;)\r\n    public HelloDto hello() {\r\n        return new HelloDto(&quot;Hello, World!&quot;);\r\n    }\r\n    \r\n    public record HelloDto(String value) {\r\n        @JsonGetter(&quot;value&quot;)\r\n        public String value() {\r\n            return this.value;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n**module-info.java**\r\n``` lang-java\r\nmodule demo {\r\n    requires org.eclipse.jetty.server;\r\n    requires org.eclipse.jetty.servlet;\r\n    requires jersey.container.servlet.core;\r\n    requires jakarta.ws.rs;\r\n    requires com.fasterxml.jackson.annotation;\r\n}\r\n```\r\n","title":"ClassNotFoundException in embedded Jetty when using Module system","body":"<p>I use an embedded Jetty (11.0.13) server with Jersey (3.1.0) that provides a simple REST interface which returns JSON objects. The JSON objects are serialized using Jackson.</p>\n<p>The setup works fine as long as I donÂ´t use JavaÂ´s module system.\nBut when I add the <code>module-info.java</code> file (see below), I get the following error as soon as I call the service.</p>\n<pre><code>WARNING: The following warnings have been detected: WARNING: Unknown HK2 failure detected:\nMultiException stack 1 of 2\njava.lang.NoClassDefFoundError: jakarta/xml/bind/annotation/XmlElement\n    at com.fasterxml.jackson.module.jakarta.xmlbind.JakartaXmlBindAnnotationIntrospector.&lt;init&gt;(JakartaXmlBindAnnotationIntrospector.java:137)\n    ...\nCaused by: java.lang.ClassNotFoundException: jakarta.xml.bind.annotation.XmlElement\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n    ... 83 more\nMultiException stack 2 of 2\njava.lang.IllegalStateException: Unable to perform operation: post construct on org.glassfish.jersey.jackson.internal.DefaultJacksonJaxbJsonProvider\n    at org.jvnet.hk2.internal.ClazzCreator.create(ClazzCreator.java:429)\n    at org.jvnet.hk2.internal.SystemDescriptor.create(SystemDescriptor.java:466)\n    ...\n</code></pre>\n<p>To make it work, I have to add the JAX-B-API to the <code>pom.xml</code> and to the <code>module-info.java</code>.\nThe error only occurs when using Java modules. When I simply delete the <code>module-info.java</code> file, everythink works fine even without the JAX-B dependency.</p>\n<p>This is the point where I am really confused. Why do I need the JAX-B dependency when I use the module system, but not when I donÂ´t use it? And why does the <code>ClassNotFoundException</code> even occur? ShouldnÂ´t warn the module system about missing dependencies on startup?</p>\n<p>I hope someone can explain that. It took me days to make it work.</p>\n<hr />\n<p>This is the setup that produces the issue:</p>\n<p><strong>pom.xml</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\n            &lt;artifactId&gt;jetty-server&lt;/artifactId&gt;\n            &lt;version&gt;11.0.13&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\n            &lt;artifactId&gt;jetty-servlet&lt;/artifactId&gt;\n            &lt;version&gt;11.0.13&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-container-servlet&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.inject&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-hk2&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p><strong>Main.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n    public static void main(String[] args) throws Exception {\n        Server server = new Server(8080);\n        server.setStopAtShutdown(true);\n    \n        ServletContextHandler context = new ServletContextHandler(server, &quot;/&quot;);\n        ServletHolder servletHolder = context.addServlet(ServletContainer.class, &quot;/*&quot;);\n        servletHolder.setInitParameter(&quot;jersey.config.server.provider.packages&quot;, &quot;com.example.demo&quot;);\n        servletHolder.setInitParameter(&quot;jersey.config.server.wadl.disableWadl&quot;, &quot;true&quot;);\n        \n        server.start();\n    }\n}\n</code></pre>\n<p><strong>DemoResource.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Path(&quot;/hello&quot;)\npublic class DemoResource {\n    @GET\n    @Produces(&quot;application/json&quot;)\n    public HelloDto hello() {\n        return new HelloDto(&quot;Hello, World!&quot;);\n    }\n    \n    public record HelloDto(String value) {\n        @JsonGetter(&quot;value&quot;)\n        public String value() {\n            return this.value;\n        }\n    }\n}\n</code></pre>\n<p><strong>module-info.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>module demo {\n    requires org.eclipse.jetty.server;\n    requires org.eclipse.jetty.servlet;\n    requires jersey.container.servlet.core;\n    requires jakarta.ws.rs;\n    requires com.fasterxml.jackson.annotation;\n}\n</code></pre>\n"},{"tags":["java","https","tomcat7"],"owner":{"account_id":8704380,"reputation":149,"user_id":6513014,"display_name":"orly.sharon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673017758,"creation_date":1672926129,"question_id":75019342,"body_markdown":"I&#39;ve a tomcat 7.0.96 installed on my PC. \r\nI&#39;ve added to server . xml this section : \r\n\r\n     &lt;Connector executor=&quot;tomcatThreadPool&quot;\r\n               port=&quot;8080&quot; protocol=&quot;HTTP/1.1&quot;\r\n               connectionTimeout=&quot;20000&quot;\r\n               redirectPort=&quot;9443&quot; /&gt;\r\n\t\t\t\r\n\r\n    &lt;Connector executor=&quot;tomcatThreadPool&quot;\r\n           protocol=&quot;HTTP/1.1&quot;\r\n           port=&quot;9443&quot; maxThreads=&quot;200&quot;\r\n           scheme=&quot;https&quot; secure=&quot;true&quot; SSLEnabled=&quot;true&quot;\r\n           keystoreFile=&quot;C:cert.p12&quot;\r\n\t\t   keystorePass=&quot;1123&quot;\r\n           clientAuth=&quot;false&quot; sslProtocol=&quot;TLS&quot; sslEnabledProtocols=&quot;TLSv1.2&quot; /&gt; \r\n\r\n\r\n  in web.xml I&#39;ve added this section : \r\n\r\n\r\n        &lt;security-constraint&gt;\r\n    &lt;web-resource-collection&gt;\r\n    &lt;web-resource-name&gt;Protected Context&lt;/web-resource-name&gt;\r\n    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n    &lt;/web-resource-collection&gt;\r\n     \r\n    &lt;!-- auth-constraint goes here if you require authentication --&gt;\r\n    &lt;user-data-constraint&gt;\r\n    &lt;transport-guarantee&gt;CONFIDENTIAL&lt;/transport-guarantee&gt;\r\n    &lt;/user-data-constraint&gt;\r\n    &lt;/security-constraint&gt;\r\n\r\n\r\nI need to enable HTTPS only without the HTTP being redirected to the HTTPS port. \r\nI&#39;v read this [tomcat HTTP ](https://stackoverflow.com/questions/36032803/how-to-disable-auto-redirect-from-http-to-https-on-tomcat)\r\nbut nothing from this Q&amp;A is working for me. \r\nThe HTTP port is still available. \r\n\r\n\r\n\r\n\r\n\r\nAny advice on how to disable HTTP port? and make the tomcat uses only HTTPS port? ","title":"Tom cat 7.0.96 use HTTPS only, without redirect port to http how to?","body":"<p>I've a tomcat 7.0.96 installed on my PC.\nI've added to server . xml this section :</p>\n<pre><code> &lt;Connector executor=&quot;tomcatThreadPool&quot;\n           port=&quot;8080&quot; protocol=&quot;HTTP/1.1&quot;\n           connectionTimeout=&quot;20000&quot;\n           redirectPort=&quot;9443&quot; /&gt;\n        \n\n&lt;Connector executor=&quot;tomcatThreadPool&quot;\n       protocol=&quot;HTTP/1.1&quot;\n       port=&quot;9443&quot; maxThreads=&quot;200&quot;\n       scheme=&quot;https&quot; secure=&quot;true&quot; SSLEnabled=&quot;true&quot;\n       keystoreFile=&quot;C:cert.p12&quot;\n       keystorePass=&quot;1123&quot;\n       clientAuth=&quot;false&quot; sslProtocol=&quot;TLS&quot; sslEnabledProtocols=&quot;TLSv1.2&quot; /&gt; \n</code></pre>\n<p>in web.xml I've added this section :</p>\n<pre><code>    &lt;security-constraint&gt;\n&lt;web-resource-collection&gt;\n&lt;web-resource-name&gt;Protected Context&lt;/web-resource-name&gt;\n&lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n&lt;/web-resource-collection&gt;\n \n&lt;!-- auth-constraint goes here if you require authentication --&gt;\n&lt;user-data-constraint&gt;\n&lt;transport-guarantee&gt;CONFIDENTIAL&lt;/transport-guarantee&gt;\n&lt;/user-data-constraint&gt;\n&lt;/security-constraint&gt;\n</code></pre>\n<p>I need to enable HTTPS only without the HTTP being redirected to the HTTPS port.\nI'v read this <a href=\"https://stackoverflow.com/questions/36032803/how-to-disable-auto-redirect-from-http-to-https-on-tomcat\">tomcat HTTP </a>\nbut nothing from this Q&amp;A is working for me.\nThe HTTP port is still available.</p>\n<p>Any advice on how to disable HTTP port? and make the tomcat uses only HTTPS port?</p>\n"},{"tags":["java","apache-kafka","kafka-consumer-api","spring-kafka"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1673017817,"post_id":75031794,"comment_id":132409372,"body_markdown":"Your code seems correct, but this is a network error only you can solve... We don&#39;t know what the correct address of your brokers are, or how you need to properly connect to them (authentication, for example? 9092 is the default port, why are you using 9093?) . Does `kafka-console-consumer` work?","body":"Your code seems correct, but this is a network error only you can solve... We don&#39;t know what the correct address of your brokers are, or how you need to properly connect to them (authentication, for example? 9092 is the default port, why are you using 9093?) . Does <code>kafka-console-consumer</code> work?"},{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1673023815,"post_id":75031794,"comment_id":132411512,"body_markdown":"I think that `Subscribed to topic(s):` log INFO message is misleading: it does mean that we really have been connected to Kafka and subscribed. See `KafkaConsumer` source code: it  looks like connection happens only when a `poll()`  is called from the client program.","body":"I think that <code>Subscribed to topic(s):</code> log INFO message is misleading: it does mean that we really have been connected to Kafka and subscribed. See <code>KafkaConsumer</code> source code: it  looks like connection happens only when a <code>poll()</code>  is called from the client program."}],"owner":{"account_id":14482834,"reputation":3924,"user_id":10461625,"display_name":"PatPanda"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1078,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1673017718,"creation_date":1673013037,"question_id":75031794,"body_markdown":"Small question regarding consuming Kafka messages from a Spring Boot Kafka consumer please.\r\n\r\nI am following this well written tutorial (literally just copy pasting the **consumer** part code) \r\n\r\nhttps://www.baeldung.com/spring-kafka\r\n\r\nAnd my code looks like:\r\n\r\n```\r\n@Configuration\r\npublic class KafkaConfiguration {\r\n\r\n    @Bean\r\n    public ConsumerFactory&lt;String, String&gt; consumerFactory() {\r\n        final Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\r\n        props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;kafka-host.com:9093&quot;);\r\n        props.put(ConsumerConfig.GROUP_ID_CONFIG, &quot;my-test&quot;);\r\n        props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n        props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n        return new DefaultKafkaConsumerFactory&lt;&gt;(props);\r\n    }\r\n\r\n    @Bean\r\n    public ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; kafkaListenerContainerFactory() {\r\n        final ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n        factory.setConsumerFactory(consumerFactory());\r\n        return factory;\r\n    }\r\n\r\n}\r\n```\r\n\r\n```\r\n@Service\r\npublic class LoganConsumer {\r\n\r\n    @KafkaListener(topics = &quot;the_topic&quot;)\r\n    public void listenGroupFoo(String message) {\r\n        System.out.println(&quot;Received Message : &quot; + message);\r\n    }\r\n\r\n}\r\n```\r\n\r\nWhen I start my application, however, I do see those WARN:\r\n\r\n```\r\n2023-01-06T13:15:19.028Z  INFO 1 --- [           main] o.a.k.clients.consumer.ConsumerConfig    : ConsumerConfig values:\r\n\r\n        allow.auto.create.topics = true\r\n        auto.commit.interval.ms = 5000\r\n        auto.offset.reset = latest\r\n        bootstrap.servers = [kafka-host.com:9093]\r\n        check.crcs = true\r\n        client.dns.lookup = use_all_dns_ips\r\n        client.id = consumer-my-test-1\r\n        client.rack =\r\n        connections.max.idle.ms = 540000\r\n        default.api.timeout.ms = 60000\r\n        enable.auto.commit = false\r\n        exclude.internal.topics = true\r\n        fetch.max.bytes = 52428800\r\n        fetch.max.wait.ms = 500\r\n        fetch.min.bytes = 1\r\n        group.id = my-test\r\n        group.instance.id = null\r\n        heartbeat.interval.ms = 3000\r\n        interceptor.classes = []\r\n        internal.leave.group.on.close = true\r\n        internal.throw.on.fetch.stable.offset.unsupported = false\r\n        isolation.level = read_uncommitted\r\n        key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer\r\n        max.partition.fetch.bytes = 1048576\r\n        max.poll.interval.ms = 300000\r\n        max.poll.records = 500\r\n        metadata.max.age.ms = 300000\r\n        metric.reporters = []\r\n        metrics.num.samples = 2\r\n        metrics.recording.level = INFO\r\n        metrics.sample.window.ms = 30000\r\n        partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]\r\n        receive.buffer.bytes = 65536\r\n        reconnect.backoff.max.ms = 1000\r\n        reconnect.backoff.ms = 50\r\n        request.timeout.ms = 30000\r\n        retry.backoff.ms = 100\r\n        sasl.client.callback.handler.class = null\r\n        sasl.jaas.config = null\r\n        sasl.kerberos.kinit.cmd = /usr/bin/kinit\r\n        sasl.kerberos.min.time.before.relogin = 60000\r\n        sasl.kerberos.service.name = null\r\n        sasl.kerberos.ticket.renew.jitter = 0.05\r\n        sasl.kerberos.ticket.renew.window.factor = 0.8\r\n        sasl.login.callback.handler.class = null\r\n        sasl.login.class = null\r\n        sasl.login.connect.timeout.ms = null\r\n        sasl.login.read.timeout.ms = null\r\n        sasl.login.refresh.buffer.seconds = 300\r\n        sasl.login.refresh.min.period.seconds = 60\r\n        sasl.login.refresh.window.factor = 0.8\r\n        sasl.login.refresh.window.jitter = 0.05\r\n        sasl.login.retry.backoff.max.ms = 10000\r\n        sasl.login.retry.backoff.ms = 100\r\n        sasl.mechanism = GSSAPI\r\n        sasl.oauthbearer.clock.skew.seconds = 30\r\n        sasl.oauthbearer.expected.audience = null\r\n        sasl.oauthbearer.expected.issuer = null\r\n        sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000\r\n        sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000\r\n        sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100\r\n        sasl.oauthbearer.jwks.endpoint.url = null\r\n        sasl.oauthbearer.scope.claim.name = scope\r\n        sasl.oauthbearer.sub.claim.name = sub\r\n        sasl.oauthbearer.token.endpoint.url = null\r\n        security.protocol = PLAINTEXT\r\n        security.providers = null\r\n        send.buffer.bytes = 131072\r\n        session.timeout.ms = 45000\r\n        socket.connection.setup.timeout.max.ms = 30000\r\n        socket.connection.setup.timeout.ms = 10000\r\n        ssl.cipher.suites = null\r\n        ssl.enabled.protocols = [TLSv1.2, TLSv1.3]\r\n        ssl.endpoint.identification.algorithm = https\r\n        ssl.engine.factory.class = null\r\n        ssl.key.password = null\r\n        ssl.keymanager.algorithm = SunX509\r\n        ssl.keystore.certificate.chain = null\r\n        ssl.keystore.key = null\r\n        ssl.keystore.location = null\r\n        ssl.keystore.password = null\r\n        ssl.keystore.type = JKS\r\n        ssl.protocol = TLSv1.3\r\n        ssl.provider = null\r\n        ssl.secure.random.implementation = null\r\n        ssl.trustmanager.algorithm = PKIX\r\n        ssl.truststore.certificates = null\r\n        ssl.truststore.location = null\r\n        ssl.truststore.password = null\r\n        ssl.truststore.type = JKS\r\n        value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer\r\n\r\n2023-01-06T13:15:19.185Z  INFO 1 --- [           main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.3.1\r\n2023-01-06T13:15:19.186Z  INFO 1 --- [           main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: e23c59d00e687ff5\r\n2023-01-06T13:15:19.187Z  INFO 1 --- [           main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1673010919184\r\n2023-01-06T13:15:19.189Z  INFO 1 --- [           main] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-my-test-1, groupId=my-test] Subscribed to topic(s): the_topic\r\n2023-01-06T13:15:19.205Z  INFO 1 --- [           main]  in 2.752 seconds (process running for 3.23)\r\n2023-01-06T13:15:19.966Z  INFO 1 --- [ntainer#0-0-C-1] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-my-test-1, groupId=my-test] Node -1 disconnected.\r\n2023-01-06T13:15:19.968Z  INFO 1 --- [ntainer#0-0-C-1] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-my-test-1, groupId=my-test] Cancelled in-flight API_VERSIONS request with correlation id 1 due to node -1 being disconnected (elapsed time since creation: 491ms, elapsed time since send: 491ms, request timeout: 30000ms)\r\n2023-01-06T13:15:19.968Z  WARN 1 --- [ntainer#0-0-C-1] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-my-test-1, groupId=my-test] Bootstrap broker kafka-host.com:9093 (id: -1 rack: null) disconnected\r\n2\r\n```\r\n\r\nTo avoid confusion, I am not seeing any ```Broker may not be available```\r\n\r\nBut in loop, I am seeing those:\r\n\r\n```\r\n org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-my-test-1, groupId=my-test] Node -1 disconnected.\r\n\r\n org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-my-test-1, groupId=my-test] Cancelled in-flight API_VERSIONS request with correlation id 28 due to node -1 being disconnected (elapsed time since creation: 59ms, elapsed time since send: 59ms, request timeout: 30000ms)\r\n```\r\n\r\nThose ```Node -1 disconnected.``` are quite confusing, especially I am seeing ``` Subscribed to topic(s): the_topic```\r\n\r\nI am a bit puzzled about what does this mean, and how to fix this please.\r\n\r\nThank you","title":"SpringBoot Kafka -&gt; org.apache.kafka.clients.NetworkClient : [Consumer clientId=consumer-my-test-1, groupId=my-test] Node -1 disconnected","body":"<p>Small question regarding consuming Kafka messages from a Spring Boot Kafka consumer please.</p>\n<p>I am following this well written tutorial (literally just copy pasting the <strong>consumer</strong> part code)</p>\n<p><a href=\"https://www.baeldung.com/spring-kafka\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-kafka</a></p>\n<p>And my code looks like:</p>\n<pre><code>@Configuration\npublic class KafkaConfiguration {\n\n    @Bean\n    public ConsumerFactory&lt;String, String&gt; consumerFactory() {\n        final Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\n        props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;kafka-host.com:9093&quot;);\n        props.put(ConsumerConfig.GROUP_ID_CONFIG, &quot;my-test&quot;);\n        props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n        props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n        return new DefaultKafkaConsumerFactory&lt;&gt;(props);\n    }\n\n    @Bean\n    public ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; kafkaListenerContainerFactory() {\n        final ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n        factory.setConsumerFactory(consumerFactory());\n        return factory;\n    }\n\n}\n</code></pre>\n<pre><code>@Service\npublic class LoganConsumer {\n\n    @KafkaListener(topics = &quot;the_topic&quot;)\n    public void listenGroupFoo(String message) {\n        System.out.println(&quot;Received Message : &quot; + message);\n    }\n\n}\n</code></pre>\n<p>When I start my application, however, I do see those WARN:</p>\n<pre><code>2023-01-06T13:15:19.028Z  INFO 1 --- [           main] o.a.k.clients.consumer.ConsumerConfig    : ConsumerConfig values:\n\n        allow.auto.create.topics = true\n        auto.commit.interval.ms = 5000\n        auto.offset.reset = latest\n        bootstrap.servers = [kafka-host.com:9093]\n        check.crcs = true\n        client.dns.lookup = use_all_dns_ips\n        client.id = consumer-my-test-1\n        client.rack =\n        connections.max.idle.ms = 540000\n        default.api.timeout.ms = 60000\n        enable.auto.commit = false\n        exclude.internal.topics = true\n        fetch.max.bytes = 52428800\n        fetch.max.wait.ms = 500\n        fetch.min.bytes = 1\n        group.id = my-test\n        group.instance.id = null\n        heartbeat.interval.ms = 3000\n        interceptor.classes = []\n        internal.leave.group.on.close = true\n        internal.throw.on.fetch.stable.offset.unsupported = false\n        isolation.level = read_uncommitted\n        key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer\n        max.partition.fetch.bytes = 1048576\n        max.poll.interval.ms = 300000\n        max.poll.records = 500\n        metadata.max.age.ms = 300000\n        metric.reporters = []\n        metrics.num.samples = 2\n        metrics.recording.level = INFO\n        metrics.sample.window.ms = 30000\n        partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]\n        receive.buffer.bytes = 65536\n        reconnect.backoff.max.ms = 1000\n        reconnect.backoff.ms = 50\n        request.timeout.ms = 30000\n        retry.backoff.ms = 100\n        sasl.client.callback.handler.class = null\n        sasl.jaas.config = null\n        sasl.kerberos.kinit.cmd = /usr/bin/kinit\n        sasl.kerberos.min.time.before.relogin = 60000\n        sasl.kerberos.service.name = null\n        sasl.kerberos.ticket.renew.jitter = 0.05\n        sasl.kerberos.ticket.renew.window.factor = 0.8\n        sasl.login.callback.handler.class = null\n        sasl.login.class = null\n        sasl.login.connect.timeout.ms = null\n        sasl.login.read.timeout.ms = null\n        sasl.login.refresh.buffer.seconds = 300\n        sasl.login.refresh.min.period.seconds = 60\n        sasl.login.refresh.window.factor = 0.8\n        sasl.login.refresh.window.jitter = 0.05\n        sasl.login.retry.backoff.max.ms = 10000\n        sasl.login.retry.backoff.ms = 100\n        sasl.mechanism = GSSAPI\n        sasl.oauthbearer.clock.skew.seconds = 30\n        sasl.oauthbearer.expected.audience = null\n        sasl.oauthbearer.expected.issuer = null\n        sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000\n        sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000\n        sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100\n        sasl.oauthbearer.jwks.endpoint.url = null\n        sasl.oauthbearer.scope.claim.name = scope\n        sasl.oauthbearer.sub.claim.name = sub\n        sasl.oauthbearer.token.endpoint.url = null\n        security.protocol = PLAINTEXT\n        security.providers = null\n        send.buffer.bytes = 131072\n        session.timeout.ms = 45000\n        socket.connection.setup.timeout.max.ms = 30000\n        socket.connection.setup.timeout.ms = 10000\n        ssl.cipher.suites = null\n        ssl.enabled.protocols = [TLSv1.2, TLSv1.3]\n        ssl.endpoint.identification.algorithm = https\n        ssl.engine.factory.class = null\n        ssl.key.password = null\n        ssl.keymanager.algorithm = SunX509\n        ssl.keystore.certificate.chain = null\n        ssl.keystore.key = null\n        ssl.keystore.location = null\n        ssl.keystore.password = null\n        ssl.keystore.type = JKS\n        ssl.protocol = TLSv1.3\n        ssl.provider = null\n        ssl.secure.random.implementation = null\n        ssl.trustmanager.algorithm = PKIX\n        ssl.truststore.certificates = null\n        ssl.truststore.location = null\n        ssl.truststore.password = null\n        ssl.truststore.type = JKS\n        value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer\n\n2023-01-06T13:15:19.185Z  INFO 1 --- [           main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.3.1\n2023-01-06T13:15:19.186Z  INFO 1 --- [           main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: e23c59d00e687ff5\n2023-01-06T13:15:19.187Z  INFO 1 --- [           main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1673010919184\n2023-01-06T13:15:19.189Z  INFO 1 --- [           main] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-my-test-1, groupId=my-test] Subscribed to topic(s): the_topic\n2023-01-06T13:15:19.205Z  INFO 1 --- [           main]  in 2.752 seconds (process running for 3.23)\n2023-01-06T13:15:19.966Z  INFO 1 --- [ntainer#0-0-C-1] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-my-test-1, groupId=my-test] Node -1 disconnected.\n2023-01-06T13:15:19.968Z  INFO 1 --- [ntainer#0-0-C-1] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-my-test-1, groupId=my-test] Cancelled in-flight API_VERSIONS request with correlation id 1 due to node -1 being disconnected (elapsed time since creation: 491ms, elapsed time since send: 491ms, request timeout: 30000ms)\n2023-01-06T13:15:19.968Z  WARN 1 --- [ntainer#0-0-C-1] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-my-test-1, groupId=my-test] Bootstrap broker kafka-host.com:9093 (id: -1 rack: null) disconnected\n2\n</code></pre>\n<p>To avoid confusion, I am not seeing any <code>Broker may not be available</code></p>\n<p>But in loop, I am seeing those:</p>\n<pre><code> org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-my-test-1, groupId=my-test] Node -1 disconnected.\n\n org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-my-test-1, groupId=my-test] Cancelled in-flight API_VERSIONS request with correlation id 28 due to node -1 being disconnected (elapsed time since creation: 59ms, elapsed time since send: 59ms, request timeout: 30000ms)\n</code></pre>\n<p>Those <code>Node -1 disconnected.</code> are quite confusing, especially I am seeing <code> Subscribed to topic(s): the_topic</code></p>\n<p>I am a bit puzzled about what does this mean, and how to fix this please.</p>\n<p>Thank you</p>\n"},{"tags":["java","ssl","jetty","keystore","sni"],"answers":[{"tags":[],"owner":{"account_id":406289,"reputation":47511,"user_id":775715,"accept_rate":100,"display_name":"Joakim Erdfelt"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673017548,"creation_date":1673017548,"answer_id":75032642,"question_id":75032321,"body_markdown":"Your entire question is answered by simply using TLS + SNI properly.\r\n\r\nSNI (Server Name Indication) is very old, and very mature.  It was first defined back in [June 2003 as part of the TLS Extensions Spec RFC 3546][1] and has had multiple updates since then. ([RFC 4366][2], [RFC 6066][3], and then [RFC 9325][4])\r\n\r\nAll modern HTTP Clients (be it a browser, or an embedded HTTP client library) will use SNI when talking https to a server (technically, the TLS layer is handling this part).   Even the venerable Java `java.net.HttpURLConnection` supports SNI (in reality, the Java TLS layer is doing this, the client library doesn&#39;t have to do anything extra to support SNI over TLS).\r\n\r\nSNI has multiple configurations in Jetty.\r\n\r\n**org.eclipse.jetty.util.ssl.SslContextFactory.Server**\r\n\r\n * `.setSniRequired(boolean)` - this is the JVM TLS layer behavior for SNI, if the client doesn&#39;t provide SNI, or the SNI has no match on the server side, then the TLS layer will respond accordingly.\r\n * `.setSNISelector(SniX509ExtendedKeyManager.SniSelector)` - this is the JVM TLS layer behavior control to select the appropriate certificate alias for the incoming SNI information.  The default behavior is found in `org.eclipse.jetty.util.ssl.SslContextFactory.Server.sniSelect(String keyType, Principal[] issuers, SSLSession session, String sniHost, Collection&lt;X509&gt; certificates)`\r\n\r\n**org.eclipse.jetty.server.SecureRequestCustomizer**\r\n\r\n * `.setSniHostCheck(boolean)` the this is post TLS layer, after the HTTP request has been parsed, ensuring that the client TLS SNI information AND client HTTP request authority (`Host` header in HTTP/1, `:authority` pseudo header in HTTP/2 and HTTP/3) AND the returned SNI in the server level TLS layer all match.\r\n * `.setSniRequired(boolean)` this ensures that the SNI is used by the client.\r\n\r\nI would strongly encourage you to **NOT replace the KeyManager** with your own implementation unless you are intimately aware of the entirety of SNI and TLS both from a spec point of view, and the nuances of each of the major browsers behavior with regards to how they treat SNI (eg: local names, localhost, ip literals, non-routables, reserved hosts, protected hosts, etc).\r\n\r\nStart with the default behavior in Jetty (which just uses the built-in JVM techniques for working with TLS + SNI as a server), then if you have more needs in terms of how to select a certificate, look at providing your own `SniX509ExtendedKeyManager.SniSelector` (but make sure to keep it up to date!  you&#39;ll want to follow the code of the default implementation periodically to catch changes that happen due to various factors: major browser vendor changes in behavior, JVM changes in behavior, [Java crypto roadmap changes][5], etc)\r\n\r\n\r\n  [1]: https://www.rfc-editor.org/rfc/rfc3546\r\n  [2]: https://www.rfc-editor.org/rfc/rfc4366\r\n  [3]: https://www.rfc-editor.org/rfc/rfc6066\r\n  [4]: https://www.rfc-editor.org/rfc/rfc9325\r\n  [5]: https://www.java.com/en/jre-jdk-cryptoroadmap.html","title":"Jetty Server has multiple server certificates","body":"<p>Your entire question is answered by simply using TLS + SNI properly.</p>\n<p>SNI (Server Name Indication) is very old, and very mature.  It was first defined back in <a href=\"https://www.rfc-editor.org/rfc/rfc3546\" rel=\"nofollow noreferrer\">June 2003 as part of the TLS Extensions Spec RFC 3546</a> and has had multiple updates since then. (<a href=\"https://www.rfc-editor.org/rfc/rfc4366\" rel=\"nofollow noreferrer\">RFC 4366</a>, <a href=\"https://www.rfc-editor.org/rfc/rfc6066\" rel=\"nofollow noreferrer\">RFC 6066</a>, and then <a href=\"https://www.rfc-editor.org/rfc/rfc9325\" rel=\"nofollow noreferrer\">RFC 9325</a>)</p>\n<p>All modern HTTP Clients (be it a browser, or an embedded HTTP client library) will use SNI when talking https to a server (technically, the TLS layer is handling this part).   Even the venerable Java <code>java.net.HttpURLConnection</code> supports SNI (in reality, the Java TLS layer is doing this, the client library doesn't have to do anything extra to support SNI over TLS).</p>\n<p>SNI has multiple configurations in Jetty.</p>\n<p><strong>org.eclipse.jetty.util.ssl.SslContextFactory.Server</strong></p>\n<ul>\n<li><code>.setSniRequired(boolean)</code> - this is the JVM TLS layer behavior for SNI, if the client doesn't provide SNI, or the SNI has no match on the server side, then the TLS layer will respond accordingly.</li>\n<li><code>.setSNISelector(SniX509ExtendedKeyManager.SniSelector)</code> - this is the JVM TLS layer behavior control to select the appropriate certificate alias for the incoming SNI information.  The default behavior is found in <code>org.eclipse.jetty.util.ssl.SslContextFactory.Server.sniSelect(String keyType, Principal[] issuers, SSLSession session, String sniHost, Collection&lt;X509&gt; certificates)</code></li>\n</ul>\n<p><strong>org.eclipse.jetty.server.SecureRequestCustomizer</strong></p>\n<ul>\n<li><code>.setSniHostCheck(boolean)</code> the this is post TLS layer, after the HTTP request has been parsed, ensuring that the client TLS SNI information AND client HTTP request authority (<code>Host</code> header in HTTP/1, <code>:authority</code> pseudo header in HTTP/2 and HTTP/3) AND the returned SNI in the server level TLS layer all match.</li>\n<li><code>.setSniRequired(boolean)</code> this ensures that the SNI is used by the client.</li>\n</ul>\n<p>I would strongly encourage you to <strong>NOT replace the KeyManager</strong> with your own implementation unless you are intimately aware of the entirety of SNI and TLS both from a spec point of view, and the nuances of each of the major browsers behavior with regards to how they treat SNI (eg: local names, localhost, ip literals, non-routables, reserved hosts, protected hosts, etc).</p>\n<p>Start with the default behavior in Jetty (which just uses the built-in JVM techniques for working with TLS + SNI as a server), then if you have more needs in terms of how to select a certificate, look at providing your own <code>SniX509ExtendedKeyManager.SniSelector</code> (but make sure to keep it up to date!  you'll want to follow the code of the default implementation periodically to catch changes that happen due to various factors: major browser vendor changes in behavior, JVM changes in behavior, <a href=\"https://www.java.com/en/jre-jdk-cryptoroadmap.html\" rel=\"nofollow noreferrer\">Java crypto roadmap changes</a>, etc)</p>\n"}],"owner":{"account_id":27454036,"reputation":3,"user_id":20945792,"display_name":"AABBCC"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":485,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75032642,"answer_count":1,"score":0,"last_activity_date":1673017548,"creation_date":1673015856,"question_id":75032321,"body_markdown":"I want to put more than one server certificates in one Java Keystore(All have different CN). How can I config SSL so that when client specifies a hostname, the certificate with matching CN is returned, but if it&#39;s not specified, a desired default certificate is always returned.\r\n\r\nI know that I can write my own key manager, but is there a simpler way? what is certAlias in Jetty, is it going to solve my problem?\r\n\r\nI&#39;ve seen other posts saying that the first certificate in the keystore is returned if no SNI matched. But in my case, it seems rather random, not to do with the order of certificates.\r\n\r\n\r\nThanks!","title":"Jetty Server has multiple server certificates","body":"<p>I want to put more than one server certificates in one Java Keystore(All have different CN). How can I config SSL so that when client specifies a hostname, the certificate with matching CN is returned, but if it's not specified, a desired default certificate is always returned.</p>\n<p>I know that I can write my own key manager, but is there a simpler way? what is certAlias in Jetty, is it going to solve my problem?</p>\n<p>I've seen other posts saying that the first certificate in the keystore is returned if no SNI matched. But in my case, it seems rather random, not to do with the order of certificates.</p>\n<p>Thanks!</p>\n"},{"tags":["java","collections","hashmap"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":3,"creation_date":1672042670,"post_id":74918365,"comment_id":132211001,"body_markdown":"This is why mixing types, especially generic types, is usually not a good idea. If you must go with this design, you&#39;ll need to cast it on the way out. Also you should never use raw types.","body":"This is why mixing types, especially generic types, is usually not a good idea. If you must go with this design, you&#39;ll need to cast it on the way out. Also you should never use raw types."},{"owner":{"account_id":16004040,"reputation":192,"user_id":11549977,"display_name":"was1209"},"score":0,"creation_date":1672047391,"post_id":74918365,"comment_id":132211961,"body_markdown":"@shmosel everything you&#39;ve said is right, but would you like to point out where a raw type has been used here ?","body":"@shmosel everything you&#39;ve said is right, but would you like to point out where a raw type has been used here ?"},{"owner":{"account_id":16004040,"reputation":192,"user_id":11549977,"display_name":"was1209"},"score":0,"creation_date":1672047414,"post_id":74918365,"comment_id":132211967,"body_markdown":"Just curious, maybe you caught something I may have missed.","body":"Just curious, maybe you caught something I may have missed."},{"owner":{"account_id":34671,"reputation":8309,"user_id":98044,"accept_rate":95,"display_name":"Vini"},"score":1,"creation_date":1672047988,"post_id":74918365,"comment_id":132212093,"body_markdown":"@was1209 I think shmosel was referring to `Map&lt;String, Map&gt; mainMap = new HashMap&lt;String, Map&gt;();`","body":"@was1209 I think shmosel was referring to <code>Map&lt;String, Map&gt; mainMap = new HashMap&lt;String, Map&gt;();</code>"},{"owner":{"account_id":16004040,"reputation":192,"user_id":11549977,"display_name":"was1209"},"score":0,"creation_date":1672048047,"post_id":74918365,"comment_id":132212103,"body_markdown":"Ah...Hadn&#39;t caught that Map, gotcha.","body":"Ah...Hadn&#39;t caught that Map, gotcha."}],"answers":[{"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1672086504,"post_id":74921043,"comment_id":132219421,"body_markdown":"Or just keep the 2 variables and call it a day.","body":"Or just keep the 2 variables and call it a day."}],"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672063323,"creation_date":1672063323,"answer_id":74921043,"question_id":74918365,"body_markdown":"Why not just create a simple container POJO class (or record in Java 16+) for the two maps instead of `mainMap` and keep the relevant type-safety which to do it Java-way?\r\n```java\r\npublic class MapPojo {\r\n    private final Map&lt;String, List&lt;String&gt;&gt; colMap;\r\n    private final Map&lt;String, String&gt; appMap;\r\n\r\n    public MapPojo(Map&lt;String, List&lt;String&gt;&gt; colMap, Map&lt;String, String&gt; appMap) {\r\n        this.colMap = colMap;\r\n        this.appMap = appMap;\r\n    }\r\n    // getters, etc.\r\n}\r\n\r\nMapPojo mainMap = new MapPojo(colMap, appMap);\r\n```","title":"Map of Map iteration","body":"<p>Why not just create a simple container POJO class (or record in Java 16+) for the two maps instead of <code>mainMap</code> and keep the relevant type-safety which to do it Java-way?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MapPojo {\n    private final Map&lt;String, List&lt;String&gt;&gt; colMap;\n    private final Map&lt;String, String&gt; appMap;\n\n    public MapPojo(Map&lt;String, List&lt;String&gt;&gt; colMap, Map&lt;String, String&gt; appMap) {\n        this.colMap = colMap;\n        this.appMap = appMap;\n    }\n    // getters, etc.\n}\n\nMapPojo mainMap = new MapPojo(colMap, appMap);\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user19443549"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673017353,"creation_date":1673017353,"answer_id":75032609,"question_id":74918365,"body_markdown":"Error you are getting because when you are doing map.get operation your reference is Just Map without any Generics which will treated as Object class&#39;s reference. You should use generics like below and it will work -\r\n\r\n    Map&lt;String, List&lt;String&gt;&gt; colMap = map.get(&quot;colMap&quot;);\r\n    for(Entry&lt;String, List&lt;String&gt;&gt; entry : colMap.entrySet())","title":"Map of Map iteration","body":"<p>Error you are getting because when you are doing map.get operation your reference is Just Map without any Generics which will treated as Object class's reference. You should use generics like below and it will work -</p>\n<pre><code>Map&lt;String, List&lt;String&gt;&gt; colMap = map.get(&quot;colMap&quot;);\nfor(Entry&lt;String, List&lt;String&gt;&gt; entry : colMap.entrySet())\n</code></pre>\n"}],"owner":{"account_id":36083,"reputation":11748,"user_id":102689,"accept_rate":57,"display_name":"Srinivasan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1673017353,"creation_date":1672041943,"question_id":74918365,"body_markdown":"Im storing 2 map with different structure in single map like below,\r\n\r\n\t\t\r\n```\r\nMap&lt;String, List&lt;String&gt;&gt; colMap = new HashMap&lt;String, List&lt;String&gt;&gt;();\r\nMap&lt;String, String&gt; appMap = new HashMap&lt;String, String&gt;();\r\n// colMap assigning some values\r\n// appMap assigning some values\r\nMap&lt;String, Map&gt; mainMap = new HashMap&lt;String, Map&gt;();\r\nmainMap.put(&quot;appMap&quot;, appMap);\r\nmainMap.put(&quot;colMap&quot;, colMap);\r\n```\r\nI want to get map one by one and iterate the map.\r\n\r\nIf I try get map like below, getting error,\r\n\r\n      .......\r\n      Map colMap = map.get(&quot;colMap&quot;);\r\n      for(Entry&lt;String, List&lt;String&gt;&gt; entry : colMap.entrySet())\r\n\r\n    Error: Type mismatch: cannot convert from element type Object to Map.Entry&lt;String,List&lt;String&gt;&gt;\r\n\r\n","title":"Map of Map iteration","body":"<p>Im storing 2 map with different structure in single map like below,</p>\n<pre><code>Map&lt;String, List&lt;String&gt;&gt; colMap = new HashMap&lt;String, List&lt;String&gt;&gt;();\nMap&lt;String, String&gt; appMap = new HashMap&lt;String, String&gt;();\n// colMap assigning some values\n// appMap assigning some values\nMap&lt;String, Map&gt; mainMap = new HashMap&lt;String, Map&gt;();\nmainMap.put(&quot;appMap&quot;, appMap);\nmainMap.put(&quot;colMap&quot;, colMap);\n</code></pre>\n<p>I want to get map one by one and iterate the map.</p>\n<p>If I try get map like below, getting error,</p>\n<pre><code>  .......\n  Map colMap = map.get(&quot;colMap&quot;);\n  for(Entry&lt;String, List&lt;String&gt;&gt; entry : colMap.entrySet())\n\nError: Type mismatch: cannot convert from element type Object to Map.Entry&lt;String,List&lt;String&gt;&gt;\n</code></pre>\n"},{"tags":["java","mockito"],"comments":[{"owner":{"account_id":6098363,"reputation":64,"user_id":4758401,"display_name":"pgeadas"},"score":0,"creation_date":1672968628,"post_id":75025957,"comment_id":132398417,"body_markdown":"I see two problems in your code: 1)  you are mocking the UserRepo in your test, but in your code it&#39;s that same class that is performing the &quot;authenticate&quot;. What is your AuthenService doing then? 2) Your test is not well written, as mentioned by other replies here. If you want to test an exception throwing, you should use a Spy (which uses a real object) instead of a Mock. Otherwise, you are not testing what you want, since you need to stub your method to return (or throw) exactly what you want to test.","body":"I see two problems in your code: 1)  you are mocking the UserRepo in your test, but in your code it&#39;s that same class that is performing the &quot;authenticate&quot;. What is your AuthenService doing then? 2) Your test is not well written, as mentioned by other replies here. If you want to test an exception throwing, you should use a Spy (which uses a real object) instead of a Mock. Otherwise, you are not testing what you want, since you need to stub your method to return (or throw) exactly what you want to test."}],"answers":[{"tags":[],"owner":{"account_id":6790343,"reputation":1483,"user_id":5227721,"display_name":"Berk Kurkcuoglu"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672967856,"creation_date":1672967856,"answer_id":75026018,"question_id":75025957,"body_markdown":"You are stubbing instead of asserting in your test, so basically you are not testing anything. A test should include at least one assertion, so it should look something similar to this:\r\n\r\n    assertThrows(UserNotFoundException.class, () -&gt; as.authenticate(&quot;abc&quot;, &quot;123&quot;));","title":"How to test custom exception with Mockito","body":"<p>You are stubbing instead of asserting in your test, so basically you are not testing anything. A test should include at least one assertion, so it should look something similar to this:</p>\n<pre><code>assertThrows(UserNotFoundException.class, () -&gt; as.authenticate(&quot;abc&quot;, &quot;123&quot;));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":1,"creation_date":1672990190,"post_id":75026026,"comment_id":132401572,"body_markdown":"`@Test(expected = ...)` only works in JUnit 4. You should use `assertThrows`. That has been backported to JUnit 4.13, and allows you to migrate to JUnit 5 more easily.","body":"<code>@Test(expected = ...)</code> only works in JUnit 4. You should use <code>assertThrows</code>. That has been backported to JUnit 4.13, and allows you to migrate to JUnit 5 more easily."},{"owner":{"account_id":7332,"reputation":23983,"user_id":12704,"accept_rate":75,"display_name":"Michael Easter"},"score":0,"creation_date":1673017262,"post_id":75026026,"comment_id":132409215,"body_markdown":"Thanks... I have updated the answer and the Github repo to use JUnit 5.","body":"Thanks... I have updated the answer and the Github repo to use JUnit 5."}],"tags":[],"owner":{"account_id":7332,"reputation":23983,"user_id":12704,"accept_rate":75,"display_name":"Michael Easter"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673017236,"creation_date":1672967971,"answer_id":75026026,"question_id":75025957,"body_markdown":"One unit test would be to expect an exception if the validation fails. To that, consider (working example [here](https://github.com/codetojoy/easter_eggs_for_gradle/tree/main/egg_StackOverflow_75025957):\r\n\r\n       @Test\r\n        public void authenticate() throws UserNotFoundException {\r\n            when(ur.validate(&quot;abc&quot;, &quot;123&quot;)).thenReturn(false);\r\n    \r\n            // test\r\n            assertThrows(UserNotFoundException.class, () -&gt;as.authenticate(&quot;abc&quot;, &quot;123&quot;));\r\n        }\r\n\r\n***Note:*** updated in accordance with comment, re: JUnit 5.","title":"How to test custom exception with Mockito","body":"<p>One unit test would be to expect an exception if the validation fails. To that, consider (working example <a href=\"https://github.com/codetojoy/easter_eggs_for_gradle/tree/main/egg_StackOverflow_75025957\" rel=\"nofollow noreferrer\">here</a>:</p>\n<pre><code>   @Test\n    public void authenticate() throws UserNotFoundException {\n        when(ur.validate(&quot;abc&quot;, &quot;123&quot;)).thenReturn(false);\n\n        // test\n        assertThrows(UserNotFoundException.class, () -&gt;as.authenticate(&quot;abc&quot;, &quot;123&quot;));\n    }\n</code></pre>\n<p><em><strong>Note:</strong></em> updated in accordance with comment, re: JUnit 5.</p>\n"}],"owner":{"account_id":16860707,"reputation":23,"user_id":12191587,"display_name":"Alex "},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1673017236,"creation_date":1672967001,"question_id":75025957,"body_markdown":"I am trying to learn unit testing with Mockito. This is a method I wrote to authenticate the users that tries to log in:\r\n\r\n```\r\npublic class AuthenService {\r\n\t\r\n\tprivate UserRepo userRepo;\t\r\n\r\n\tpublic User authenticate(String username, String password) throws UserNotFoundException {\r\n\t\tUser user = null;\r\n\t\tif (userRepo.validate(username, password)) {\r\n\t\t\tuser = userRepo.findUsername(username);\r\n\t\t\treturn user;\r\n\t\t} else {\r\n\t\t\tthrow new UserNotFoundException(&quot;User not found!&quot;);\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\n\r\nuserRepo is an interface with these two abstract methods:\r\n\r\n```\r\npublic interface UserRepo{\r\n\t\r\n\tboolean validate(String username, String password);\r\n\t\r\n\tUser findUsername(String username);\r\n\t\r\n}\r\n```\r\n\r\n\r\nThis is my testing code:\r\n\r\n```\r\npublic class Test {\r\n\r\n\tAuthenService as;\r\n\tUserRepo ur;\r\n\t\r\n\t@BeforeEach\r\n\tpublic void init() {\r\n\t\tur = mock(UserRepo.class);\r\n\t\tas = new AuthenService(ur);\r\n\t}\r\n\t\r\n\t@Test\r\n\tpublic void authenticate() throws UserNotFoundException {\r\n\t\twhen(as.authenticate(&quot;abc&quot;, &quot;123&quot;)).thenThrow(new UserNotFoundException(&quot;User not found!&quot;));\r\n\t}\r\n}\r\n```\r\n\r\nI suppose as.authenticate(&quot;abc&quot;, &quot;123&quot;) should throw an exception because the DB is empty right now. But I think I am wrong, and I have no idea how to fix it. Can anyone please explain to me? Thank you. ","title":"How to test custom exception with Mockito","body":"<p>I am trying to learn unit testing with Mockito. This is a method I wrote to authenticate the users that tries to log in:</p>\n<pre><code>public class AuthenService {\n    \n    private UserRepo userRepo;  \n\n    public User authenticate(String username, String password) throws UserNotFoundException {\n        User user = null;\n        if (userRepo.validate(username, password)) {\n            user = userRepo.findUsername(username);\n            return user;\n        } else {\n            throw new UserNotFoundException(&quot;User not found!&quot;);\n        }\n    }\n}\n</code></pre>\n<p>userRepo is an interface with these two abstract methods:</p>\n<pre><code>public interface UserRepo{\n    \n    boolean validate(String username, String password);\n    \n    User findUsername(String username);\n    \n}\n</code></pre>\n<p>This is my testing code:</p>\n<pre><code>public class Test {\n\n    AuthenService as;\n    UserRepo ur;\n    \n    @BeforeEach\n    public void init() {\n        ur = mock(UserRepo.class);\n        as = new AuthenService(ur);\n    }\n    \n    @Test\n    public void authenticate() throws UserNotFoundException {\n        when(as.authenticate(&quot;abc&quot;, &quot;123&quot;)).thenThrow(new UserNotFoundException(&quot;User not found!&quot;));\n    }\n}\n</code></pre>\n<p>I suppose as.authenticate(&quot;abc&quot;, &quot;123&quot;) should throw an exception because the DB is empty right now. But I think I am wrong, and I have no idea how to fix it. Can anyone please explain to me? Thank you.</p>\n"},{"tags":["java","boolean","naming-conventions","javabeans"],"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1240945162,"post_id":799280,"comment_id":609522,"body_markdown":"I&#39;ve removed the subjective tag as I don&#39;t believe it&#39;s appropriate (for reasons I&#39;ve outlined). If the original author could clarify exactly what&#39;s required, we can put it back in if it turns out he&#39;s not really after the strict validity of JavaBeans naming conventions.","body":"I&#39;ve removed the subjective tag as I don&#39;t believe it&#39;s appropriate (for reasons I&#39;ve outlined). If the original author could clarify exactly what&#39;s required, we can put it back in if it turns out he&#39;s not really after the strict validity of JavaBeans naming conventions."}],"answers":[{"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":9,"creation_date":1240943970,"post_id":799282,"comment_id":609430,"body_markdown":"It&#39;s not subjective - it&#39;s determined by the JavaBeans specification.","body":"It&#39;s not subjective - it&#39;s determined by the JavaBeans specification."},{"owner":{"account_id":4697,"reputation":13638,"user_id":7186,"accept_rate":100,"display_name":"Ryan Guill"},"score":1,"creation_date":1240944165,"post_id":799282,"comment_id":609445,"body_markdown":"And yet he did not mention that in his question that he was looking for an answer that worked for the javabeans specification.","body":"And yet he did not mention that in his question that he was looking for an answer that worked for the javabeans specification."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":7,"creation_date":1240944269,"post_id":799282,"comment_id":609452,"body_markdown":"Is &quot;valid java beans names&quot; in the subject not a pretty big clue?","body":"Is &quot;valid java beans names&quot; in the subject not a pretty big clue?"},{"owner":{"account_id":4697,"reputation":13638,"user_id":7186,"accept_rate":100,"display_name":"Ryan Guill"},"score":0,"creation_date":1240944831,"post_id":799282,"comment_id":609493,"body_markdown":"I would argue no.  I am just suggesting that someone, either you or the original author edit the question to make it more clear.  It would also make it more likely to be found using a search engine and make the question more useful.","body":"I would argue no.  I am just suggesting that someone, either you or the original author edit the question to make it more clear.  It would also make it more likely to be found using a search engine and make the question more useful."},{"owner":{"account_id":30648,"reputation":50852,"user_id":83667,"display_name":"Jose Basilio"},"score":4,"creation_date":1240944895,"post_id":799282,"comment_id":609497,"body_markdown":"@Ryan - There&#39;s a reason why He is &quot;Jon Skeet&quot; and we are not :-)","body":"@Ryan - There&#39;s a reason why He is &quot;Jon Skeet&quot; and we are not :-)"},{"owner":{"account_id":4697,"reputation":13638,"user_id":7186,"accept_rate":100,"display_name":"Ryan Guill"},"score":2,"creation_date":1240945022,"post_id":799282,"comment_id":609507,"body_markdown":"yes, and I suspect that that fact alone is enough for everyone to agree with him.  I was confused by the question because it wasn&#39;t clear and can see no reason not to edit the question for clarity.  Oh well.","body":"yes, and I suspect that that fact alone is enough for everyone to agree with him.  I was confused by the question because it wasn&#39;t clear and can see no reason not to edit the question for clarity.  Oh well."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1240945058,"post_id":799282,"comment_id":609511,"body_markdown":"I shall leave that to the author - if you think there is doubt as to whether the question is really talking about &quot;proper&quot; JavaBeans, it would be wrong for me to put the words into the author&#39;s mouth.","body":"I shall leave that to the author - if you think there is doubt as to whether the question is really talking about &quot;proper&quot; JavaBeans, it would be wrong for me to put the words into the author&#39;s mouth."},{"owner":{"account_id":223810,"reputation":1772,"user_id":483257,"accept_rate":60,"display_name":"Bane"},"score":0,"creation_date":1437515897,"post_id":799282,"comment_id":51059198,"body_markdown":"I agree with @JonSkeet here; the author is clearly referencing the official java beans spec since in the title he says: &quot;JavaBeans&quot; -- the only thing lacking is a &quot;TM&quot; after it!  :P","body":"I agree with @JonSkeet here; the author is clearly referencing the official java beans spec since in the title he says: &quot;JavaBeans&quot; -- the only thing lacking is a &quot;TM&quot; after it!  :P"}],"tags":[],"owner":{"account_id":4697,"reputation":13638,"user_id":7186,"accept_rate":100,"display_name":"Ryan Guill"},"comment_count":8,"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1240944219,"creation_date":1240943577,"answer_id":799282,"question_id":799280,"body_markdown":"This is somewhat subjective, but yes, I would say &quot;has&quot; is a perfectly valid prefix for a Boolean property.\r\n\r\n**edit** the question, as asked, did not mention the javabeans specification and so my answer did not address that aspect of the question.  Hence the answer above.","title":"Valid JavaBeans names for boolean getter methods","body":"<p>This is somewhat subjective, but yes, I would say \"has\" is a perfectly valid prefix for a Boolean property.</p>\n\n<p><strong>edit</strong> the question, as asked, did not mention the javabeans specification and so my answer did not address that aspect of the question.  Hence the answer above.</p>\n"},{"comments":[{"owner":{"account_id":4697,"reputation":13638,"user_id":7186,"accept_rate":100,"display_name":"Ryan Guill"},"score":1,"creation_date":1240944101,"post_id":799301,"comment_id":609441,"body_markdown":"This answer makes perfect sense, but I would say that the question needs to be reworded to mention that the question is specific to the javabeans specification.  The tags alone do not convey that information well enough and generally speaking, according the question itself, &quot;has&quot; would be a perfectly acceptable prefix.","body":"This answer makes perfect sense, but I would say that the question needs to be reworded to mention that the question is specific to the javabeans specification.  The tags alone do not convey that information well enough and generally speaking, according the question itself, &quot;has&quot; would be a perfectly acceptable prefix."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1240944312,"post_id":799301,"comment_id":609456,"body_markdown":"The subject line makes it fairly clear IMO - and the fact that he asks whether a variable name will &quot;work&quot; suggests there&#39;s something more than just personal preference involved here.","body":"The subject line makes it fairly clear IMO - and the fact that he asks whether a variable name will &quot;work&quot; suggests there&#39;s something more than just personal preference involved here."},{"owner":{"account_id":889447,"reputation":1823,"user_id":928038,"display_name":"Joe Lee-Moyet"},"score":1,"creation_date":1421752116,"post_id":799301,"comment_id":44470373,"body_markdown":"For consistency with other property types while still retaining meaningful names I prefer e.g. hasParent and getHasParent() as field and property names respectively, which looking at the cited specification is still perfectly valid.  Naming a boolean getter &quot;isX()&quot; isn&#39;t always semantically appropriate and I&#39;d prefer verbose code over misleading / confusing code.","body":"For consistency with other property types while still retaining meaningful names I prefer e.g. hasParent and getHasParent() as field and property names respectively, which looking at the cited specification is still perfectly valid.  Naming a boolean getter &quot;isX()&quot; isn&#39;t always semantically appropriate and I&#39;d prefer verbose code over misleading / confusing code."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1421761402,"post_id":799301,"comment_id":44475927,"body_markdown":"@yjo: I&#39;d use `isChild` in that case :) `getHasParent` feels really ugly to me - it doesn&#39;t violate the spec, but it definitely feels wrong.","body":"@yjo: I&#39;d use <code>isChild</code> in that case :) <code>getHasParent</code> feels really ugly to me - it doesn&#39;t violate the spec, but it definitely feels wrong."},{"owner":{"account_id":889447,"reputation":1823,"user_id":928038,"display_name":"Joe Lee-Moyet"},"score":0,"creation_date":1421762031,"post_id":799301,"comment_id":44476317,"body_markdown":"@JonSkeet sure, it&#39;s a (poor) contrived attempt at an example that doesn&#39;t need any domain specific context.  I&#39;m sure if you thought about it you could come up with some better examples of boolean properties that aren&#39;t best expressed with an &#39;is&#39; verb :).","body":"@JonSkeet sure, it&#39;s a (poor) contrived attempt at an example that doesn&#39;t need any domain specific context.  I&#39;m sure if you thought about it you could come up with some better examples of boolean properties that aren&#39;t best expressed with an &#39;is&#39; verb :)."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1421762093,"post_id":799301,"comment_id":44476354,"body_markdown":"@yjo: But the question is whether in each case finding something with `is` might be better than an ugly `getHas` form. My guess is that we&#39;d have different boundaries for that.","body":"@yjo: But the question is whether in each case finding something with <code>is</code> might be better than an ugly <code>getHas</code> form. My guess is that we&#39;d have different boundaries for that."},{"owner":{"account_id":889447,"reputation":1823,"user_id":928038,"display_name":"Joe Lee-Moyet"},"score":0,"creation_date":1421762293,"post_id":799301,"comment_id":44476491,"body_markdown":"@JonSkeet You could argue it&#39;s not a &#39;getHas**X**&#39; form, but a &#39;get**P**&#39; form where P is a predicate.  That way it&#39;s consistent with other properties just as I&#39;d prefer &#39;int numberOfWidgets&#39; over &#39;int widgets&#39; as the former name gives information that you&#39;d otherwise need to look to the type for.","body":"@JonSkeet You could argue it&#39;s not a &#39;getHas<b>X</b>&#39; form, but a &#39;get<b>P</b>&#39; form where P is a predicate.  That way it&#39;s consistent with other properties just as I&#39;d prefer &#39;int numberOfWidgets&#39; over &#39;int widgets&#39; as the former name gives information that you&#39;d otherwise need to look to the type for."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1421762364,"post_id":799301,"comment_id":44476542,"body_markdown":"@yjo: Again, I&#39;d need to see concrete examples - and again, I suspect we may disagree on the cleanest form.","body":"@yjo: Again, I&#39;d need to see concrete examples - and again, I suspect we may disagree on the cleanest form."},{"owner":{"account_id":394716,"reputation":722,"user_id":757308,"display_name":"msa"},"score":0,"creation_date":1455361123,"post_id":799301,"comment_id":58462998,"body_markdown":"@yjo, @JonSkeet: How about `isWith` for theses cases (if finding an alternative is difficult)? For example on a person bean you could have a property `withCar` and access it by `isWithCar`.","body":"@yjo, @JonSkeet: How about <code>isWith</code> for theses cases (if finding an alternative is difficult)? For example on a person bean you could have a property <code>withCar</code> and access it by <code>isWithCar</code>."},{"owner":{"account_id":394716,"reputation":722,"user_id":757308,"display_name":"msa"},"score":0,"creation_date":1456577255,"post_id":799301,"comment_id":59018963,"body_markdown":"@JonSkeet: Does it sound more oddly than `isHasCar` (I&#39;m not a native English speaker)? What would your choice be in this case?","body":"@JonSkeet: Does it sound more oddly than <code>isHasCar</code> (I&#39;m not a native English speaker)? What would your choice be in this case?"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1456580117,"post_id":799301,"comment_id":59019891,"body_markdown":"@msa: I wouldn&#39;t use either of those, to be honest. (Not that I&#39;d normally follow Javabeans conventions slavishly unless I needed to.)","body":"@msa: I wouldn&#39;t use either of those, to be honest. (Not that I&#39;d normally follow Javabeans conventions slavishly unless I needed to.)"},{"owner":{"account_id":2509955,"reputation":321,"user_id":2182677,"display_name":"sandeep kale"},"score":0,"creation_date":1466753998,"post_id":799301,"comment_id":63459339,"body_markdown":"With Java 7, I am getting &quot;not a valid getter method for isXXX&quot; method while with getXX it is working.","body":"With Java 7, I am getting &quot;not a valid getter method for isXXX&quot; method while with getXX it is working."},{"owner":{"account_id":7563680,"reputation":295,"user_id":5740146,"accept_rate":80,"display_name":"Parth Vishvajit"},"score":0,"creation_date":1483594107,"post_id":799301,"comment_id":70161242,"body_markdown":"What is correct in the case, where my Bean&#39;s boolean property already starts with &#39;is&#39; like &#39;isParent&#39; ? is there any solution to create Bean validate getter method for it, without changing the property name?","body":"What is correct in the case, where my Bean&#39;s boolean property already starts with &#39;is&#39; like &#39;isParent&#39; ? is there any solution to create Bean validate getter method for it, without changing the property name?"},{"owner":{"account_id":3541482,"reputation":327,"user_id":2958463,"display_name":"akenney"},"score":0,"creation_date":1617668231,"post_id":799301,"comment_id":118362543,"body_markdown":"Also watch out for this: `java.beans.Introspector.IS_PREFIX` only works for primitive `boolean` (not `java.lang.Boolean`) as of Java 1.8.0_231. You&#39;ll need to use `java.beans.Introspector.GET_PREFIX` for it to work with a `java.lang.Boolean`","body":"Also watch out for this: <code>java.beans.Introspector.IS_PREFIX</code> only works for primitive <code>boolean</code> (not <code>java.lang.Boolean</code>) as of Java 1.8.0_231. You&#39;ll need to use <code>java.beans.Introspector.GET_PREFIX</code> for it to work with a <code>java.lang.Boolean</code>"}],"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":14,"down_vote_count":0,"up_vote_count":86,"is_accepted":false,"score":86,"last_activity_date":1412067016,"creation_date":1240943879,"answer_id":799301,"question_id":799280,"body_markdown":"According to the [JavaBeans specification][1] section 8.3.2:\r\n\r\n&gt; &lt;b&gt;Boolean properties&lt;/b&gt;&lt;br/&gt;\r\n&gt; In addition, for\r\n&gt; boolean properties, we allow a getter\r\n&gt; method to match the pattern:&lt;p&gt;`public boolean is&lt;PropertyName&gt;();`&lt;p&gt;\r\n&gt; This\r\n&gt; &quot;`isPropertyName`&quot; method may be\r\n&gt; provided instead of a\r\n&gt; &quot;`get&lt;PropertyName&gt;`&quot; method, or it may\r\n&gt; be provided in addition to a\r\n&gt; &quot;`get&lt;PropertyName&gt;`&quot; method. In either\r\n&gt; case, if the `is&lt;PropertyName&gt;` method\r\n&gt; is present for a boolean property then\r\n&gt; we will use the &quot;`is&lt;PropertyName&gt;`&quot;\r\n&gt; method to read the property value. An\r\n&gt; example boolean property might be:&lt;p&gt;\r\n&gt; &lt;pre&gt;\r\n&gt; public boolean isMarsupial();\r\n&gt; public void setMarsupial(boolean m);\r\n\r\nIn other words, unless something has changed since then, `has` isn&#39;t a valid prefix I&#39;m afraid :(\r\n\r\nIt&#39;s possible that *some* tools and libraries will recognise such properties anyway, but it&#39;s not a good idea to rely on it.\r\n\r\n  [1]: http://download.oracle.com/otndocs/jcp/7224-javabeans-1.01-fr-spec-oth-JSpec/\r\n","title":"Valid JavaBeans names for boolean getter methods","body":"<p>According to the <a href=\"http://download.oracle.com/otndocs/jcp/7224-javabeans-1.01-fr-spec-oth-JSpec/\" rel=\"noreferrer\">JavaBeans specification</a> section 8.3.2:</p>\n\n<blockquote>\n  <p><b>Boolean properties</b><br/>\n  In addition, for\n  boolean properties, we allow a getter\n  method to match the pattern:<p><code>public boolean is&lt;PropertyName&gt;();</code><p>\n  This\n  \"<code>isPropertyName</code>\" method may be\n  provided instead of a\n  \"<code>get&lt;PropertyName&gt;</code>\" method, or it may\n  be provided in addition to a\n  \"<code>get&lt;PropertyName&gt;</code>\" method. In either\n  case, if the <code>is&lt;PropertyName&gt;</code> method\n  is present for a boolean property then\n  we will use the \"<code>is&lt;PropertyName&gt;</code>\"\n  method to read the property value. An\n  example boolean property might be:<p>\n  \n  public boolean isMarsupial();\n  public void setMarsupial(boolean m);</p>\n</blockquote>\n\n<p>In other words, unless something has changed since then, <code>has</code> isn't a valid prefix I'm afraid :(</p>\n\n<p>It's possible that <em>some</em> tools and libraries will recognise such properties anyway, but it's not a good idea to rely on it.</p>\n"},{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1673016982,"creation_date":1293302405,"answer_id":4531221,"question_id":799280,"body_markdown":"Jon Skeet noted that according to the specification it is not valid. Also, `canX`, `shouldX`, and the likes are not valid. Which is rather unfortunate. Here is a way to check whether a given property has a valid getter:\r\n\r\n    BeanInfo info = Introspector.getBeanInfo(Item.class);\r\n\r\n    for (PropertyDescriptor pd : info.getPropertyDescriptors()) {\r\n        System.out.println(pd.getName() + &quot; : &quot; + pd.getReadMethod());\r\n    }\r\n\r\nThe class `Item` should be a javabean with a foo property, and a getter. If the read method is `null`, it means there is no valid getter defined according to the javabeans spec.","title":"Valid JavaBeans names for boolean getter methods","body":"<p>Jon Skeet noted that according to the specification it is not valid. Also, <code>canX</code>, <code>shouldX</code>, and the likes are not valid. Which is rather unfortunate. Here is a way to check whether a given property has a valid getter:</p>\n<pre><code>BeanInfo info = Introspector.getBeanInfo(Item.class);\n\nfor (PropertyDescriptor pd : info.getPropertyDescriptors()) {\n    System.out.println(pd.getName() + &quot; : &quot; + pd.getReadMethod());\n}\n</code></pre>\n<p>The class <code>Item</code> should be a javabean with a foo property, and a getter. If the read method is <code>null</code>, it means there is no valid getter defined according to the javabeans spec.</p>\n"}],"owner":{"display_name":"Robert"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31645,"favorite_count":0,"down_vote_count":0,"up_vote_count":68,"answer_count":3,"score":68,"last_activity_date":1673016982,"creation_date":1240943448,"question_id":799280,"body_markdown":"I know most variable names will work with &quot;is&quot;, such as `isBlue()`, but is &quot;has&quot; also a valid prefix, like `hasProperty()`?","title":"Valid JavaBeans names for boolean getter methods","body":"<p>I know most variable names will work with \"is\", such as <code>isBlue()</code>, but is \"has\" also a valid prefix, like <code>hasProperty()</code>?</p>\n"},{"tags":["java","spring","hibernate","rabbitmq"],"answers":[{"comments":[{"owner":{"account_id":482071,"reputation":5624,"user_id":896249,"accept_rate":79,"display_name":"GameDroids"},"score":1,"creation_date":1672948644,"post_id":75023305,"comment_id":132394090,"body_markdown":"Thank you for your answer. I set it to `false` (althoughm the Hikari connection was already set to `autocommit: false`. It didn&#39;t solve the problem, just the error message is different: `JpaSystemException: Unable to commit against JDBC Connection;` It looks like the AMQP listener is trying to use the JDBC transaction. Does this make any sense to you?","body":"Thank you for your answer. I set it to <code>false</code> (althoughm the Hikari connection was already set to <code>autocommit: false</code>. It didn&#39;t solve the problem, just the error message is different: <code>JpaSystemException: Unable to commit against JDBC Connection;</code> It looks like the AMQP listener is trying to use the JDBC transaction. Does this make any sense to you?"},{"owner":{"account_id":6389739,"reputation":2892,"user_id":4956336,"display_name":"p3consulting"},"score":1,"creation_date":1672949151,"post_id":75023305,"comment_id":132394238,"body_markdown":"Not from the code and the stacktrace you show here. Do you see any method related to AMQP in the stacktrace?","body":"Not from the code and the stacktrace you show here. Do you see any method related to AMQP in the stacktrace?"},{"owner":{"account_id":482071,"reputation":5624,"user_id":896249,"accept_rate":79,"display_name":"GameDroids"},"score":1,"creation_date":1672951362,"post_id":75023305,"comment_id":132394912,"body_markdown":"You where right, the stacktrace was related to amqp only because the Exception was thrown during the execution of the listener method. I tested my database setup with a different approach and saw that `jpa.properties.hibernate.connection.provider_disables_autocommit=true` was set by default. A simple  `provider_disables_autocommit=false` solved my problem.","body":"You where right, the stacktrace was related to amqp only because the Exception was thrown during the execution of the listener method. I tested my database setup with a different approach and saw that <code>jpa.properties.hibernate.connection.provider_disables_autoco&zwnj;&#8203;mmit=true</code> was set by default. A simple  <code>provider_disables_autocommit=false</code> solved my problem."}],"tags":[],"owner":{"account_id":6389739,"reputation":2892,"user_id":4956336,"display_name":"p3consulting"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1673016976,"creation_date":1672945804,"answer_id":75023305,"question_id":75021769,"body_markdown":"The message is clear: you left autocommit to TRUE then you can&#39;t commit explicitly because it&#39;s done for you after each DML statement, you could turn it off with `hibernate.connection.autocommit=false` in your properties or calling `connection.setAutoCommit(false);`","title":"RabbitMQ and Hibernate: Unable to commit against JDBC Connection","body":"<p>The message is clear: you left autocommit to TRUE then you can't commit explicitly because it's done for you after each DML statement, you could turn it off with <code>hibernate.connection.autocommit=false</code> in your properties or calling <code>connection.setAutoCommit(false);</code></p>\n"}],"owner":{"account_id":482071,"reputation":5624,"user_id":896249,"accept_rate":79,"display_name":"GameDroids"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":833,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75023305,"answer_count":1,"score":2,"last_activity_date":1673016976,"creation_date":1672937264,"question_id":75021769,"body_markdown":"I am trying to develop a small Springboot application (using JHipster) that listens to a RabbitMQ queue, acknowledges the messages and then runs some operations on a hibernate repository. For now I can consume messages with no problem. But when I try to use the hibernate repository when receiving a message, it appears the TransactionManagers get mixed up and I get the Exception:\r\n```\r\nCaused by: org.hibernate.TransactionException: Unable to commit against JDBC Connection\r\n\tat org.hibernate.resource.jdbc.internal.AbstractLogicalConnectionImplementor.commit(AbstractLogicalConnectionImplementor.java:92)\r\n\tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:282)\r\n ...\r\nCaused by: org.postgresql.util.PSQLException: Cannot commit when autoCommit is enabled.\r\n\tat org.postgresql.jdbc.PgConnection.commit(PgConnection.java:872)\r\n```\r\n\r\nMy Rabbit configuration is simplistic:\r\n```\r\n@Configuration\r\npublic class RabbitExchangeConfiguration {\r\n\r\n    @Bean\r\n    Queue queue() {\r\n        return new Queue(&quot;myQueue&quot;, false);\r\n    }\r\n}\r\n```\r\nThen there is my TestService, with a RabbitListener (**listen**) and a method that uses my database transaction manager to access the repository (**test**)\r\n```\r\n@Service\r\npublic class TestService {\r\n\r\n    public TestService(\r\n        MyRepository myRepository\r\n    ) {\r\n        this.myRepository= myRepository;\r\n    }\r\n\r\n    // My Listener to receive the messages\r\n    @RabbitListener(queues = &quot;datafactory&quot;)\r\n    public void listen(Message in) {\r\n        String messageBody = new String(in.getBody());       \r\n        test(messageBody);\r\n    }\r\n\r\n    // the method that should do stuff with the repository\r\n    @Transactional(transactionManager = &quot;myDatabaseTransactionManager&quot;)\r\n    public void test(String content) {\r\n        myRepository.findById(content).orElse(null);\r\n        ..\r\n    }\r\n}\r\n```\r\n\r\nRight now I don&#39;t care what the message contains, nor is it important if the entity can be found. \r\n\r\nWhen I comment out the call to `test(content)` then the message is received (I can see it in the logs). But when I try to call the function, then I get the Exception.\r\n\r\nIs there any way to end the RabbitMQ-transaction before entering the hibernate transaction context? Why is the listener trying to use the hibernate transaction? \r\n\r\n&lt;h1&gt;solved&lt;/h1&gt;\r\n\r\nThanks to the [answer of p3consulting](https://stackoverflow.com/a/75023305/896249)  I found that `jpa.properties.hibernate.connection.provider_disables_autocommit=true`  was set by default. It was configuered automatically by JHipster for me. I just had to make sure that autocommit was disabled for good: \r\n\r\n```\r\nspring.datasource.hikari.auto-commit=false  // disables auto commit\r\nspring.jpa.properties.hibernate.connection.provider_disables_autocommit=false   // makes sure it stays that way\r\n```\r\n\r\nSo nothing to do with RabbitMQ...\r\n\r\n\r\n  ","title":"RabbitMQ and Hibernate: Unable to commit against JDBC Connection","body":"<p>I am trying to develop a small Springboot application (using JHipster) that listens to a RabbitMQ queue, acknowledges the messages and then runs some operations on a hibernate repository. For now I can consume messages with no problem. But when I try to use the hibernate repository when receiving a message, it appears the TransactionManagers get mixed up and I get the Exception:</p>\n<pre><code>Caused by: org.hibernate.TransactionException: Unable to commit against JDBC Connection\n    at org.hibernate.resource.jdbc.internal.AbstractLogicalConnectionImplementor.commit(AbstractLogicalConnectionImplementor.java:92)\n    at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:282)\n ...\nCaused by: org.postgresql.util.PSQLException: Cannot commit when autoCommit is enabled.\n    at org.postgresql.jdbc.PgConnection.commit(PgConnection.java:872)\n</code></pre>\n<p>My Rabbit configuration is simplistic:</p>\n<pre><code>@Configuration\npublic class RabbitExchangeConfiguration {\n\n    @Bean\n    Queue queue() {\n        return new Queue(&quot;myQueue&quot;, false);\n    }\n}\n</code></pre>\n<p>Then there is my TestService, with a RabbitListener (<strong>listen</strong>) and a method that uses my database transaction manager to access the repository (<strong>test</strong>)</p>\n<pre><code>@Service\npublic class TestService {\n\n    public TestService(\n        MyRepository myRepository\n    ) {\n        this.myRepository= myRepository;\n    }\n\n    // My Listener to receive the messages\n    @RabbitListener(queues = &quot;datafactory&quot;)\n    public void listen(Message in) {\n        String messageBody = new String(in.getBody());       \n        test(messageBody);\n    }\n\n    // the method that should do stuff with the repository\n    @Transactional(transactionManager = &quot;myDatabaseTransactionManager&quot;)\n    public void test(String content) {\n        myRepository.findById(content).orElse(null);\n        ..\n    }\n}\n</code></pre>\n<p>Right now I don't care what the message contains, nor is it important if the entity can be found.</p>\n<p>When I comment out the call to <code>test(content)</code> then the message is received (I can see it in the logs). But when I try to call the function, then I get the Exception.</p>\n<p>Is there any way to end the RabbitMQ-transaction before entering the hibernate transaction context? Why is the listener trying to use the hibernate transaction?</p>\n<h1>solved</h1>\n<p>Thanks to the <a href=\"https://stackoverflow.com/a/75023305/896249\">answer of p3consulting</a>  I found that <code>jpa.properties.hibernate.connection.provider_disables_autocommit=true</code>  was set by default. It was configuered automatically by JHipster for me. I just had to make sure that autocommit was disabled for good:</p>\n<pre><code>spring.datasource.hikari.auto-commit=false  // disables auto commit\nspring.jpa.properties.hibernate.connection.provider_disables_autocommit=false   // makes sure it stays that way\n</code></pre>\n<p>So nothing to do with RabbitMQ...</p>\n"},{"tags":["java","ssl","ldap","ssl-certificate"],"comments":[{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1673047663,"post_id":75032538,"comment_id":132417737,"body_markdown":"*Could anyone please suggest how to download SSL certificate from the server using java code and then use that certificate while connecting to LDAP ?* That doesn&#39;t really make any security sense, it would leave you vulnerable to a man-in-the-middle attack.","body":"<i>Could anyone please suggest how to download SSL certificate from the server using java code and then use that certificate while connecting to LDAP ?</i> That doesn&#39;t really make any security sense, it would leave you vulnerable to a man-in-the-middle attack."}],"owner":{"account_id":26457444,"reputation":1,"user_id":20099859,"display_name":"rohan1705"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":271,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673016962,"creation_date":1673016962,"question_id":75032538,"body_markdown":"I am trying to write a program for connecting LDAP server using java code..\r\nConnection Type - SSL\r\n\r\nI am getting SSLHandshakeException which says I will have to use &#39;server certificate&#39; to establish ssl connection - \r\njavax.naming.CommunicationException: &lt;host-name&gt;:636 [Root exception is javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target]\r\n\r\n\r\n\r\nCould anyone please suggest how to download SSL certificate from the server using java code and then use that certificate while connecting to LDAP ?\r\n\r\nHere are the solutions i have tried, but i did not work -\r\nhttps://stackoverflow.com/questions/37805145/how-to-read-a-certificate-attribute-cacertificate-from-ldap-server-java\r\n\r\nhttps://stackoverflow.com/questions/63628287/how-to-make-a-call-via-java-with-ssl-and-certificate-to-an-ldap-ad\r\n\r\nNOTE - I cannot override functionality of certificate verification/validation using custom socket factory","title":"How to download SSL certificate from a LDAP Server using java ? and establish SSL connection using LDAPS?","body":"<p>I am trying to write a program for connecting LDAP server using java code..\nConnection Type - SSL</p>\n<p>I am getting SSLHandshakeException which says I will have to use 'server certificate' to establish ssl connection -\njavax.naming.CommunicationException: :636 [Root exception is javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target]</p>\n<p>Could anyone please suggest how to download SSL certificate from the server using java code and then use that certificate while connecting to LDAP ?</p>\n<p>Here are the solutions i have tried, but i did not work -\n<a href=\"https://stackoverflow.com/questions/37805145/how-to-read-a-certificate-attribute-cacertificate-from-ldap-server-java\">How to read a Certificate attribute (caCertificate) from LDAP server (Java)?</a></p>\n<p><a href=\"https://stackoverflow.com/questions/63628287/how-to-make-a-call-via-java-with-ssl-and-certificate-to-an-ldap-ad\">How to make a call, via Java, with ssl and certificate to an ldap (AD)?</a></p>\n<p>NOTE - I cannot override functionality of certificate verification/validation using custom socket factory</p>\n"},{"tags":["java","merge","set","java-stream"],"comments":[{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":0,"creation_date":1597126980,"post_id":63352543,"comment_id":112024262,"body_markdown":"You need to flatten your stream of sets into a stream of strings","body":"You need to flatten your stream of sets into a stream of strings"},{"owner":{"account_id":10890055,"reputation":1246,"user_id":8006169,"display_name":"Deepak Kumar"},"score":2,"creation_date":1597126980,"post_id":63352543,"comment_id":112024263,"body_markdown":"Why do you need a stream for that? Did you try using the `addAll()` method?","body":"Why do you need a stream for that? Did you try using the <code>addAll()</code> method?"}],"answers":[{"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1597126986,"creation_date":1597126986,"answer_id":63352582,"question_id":63352543,"body_markdown":"If you insist on using `Stream`s, you can use `flatMap` to convert your `Stream&lt;Set&lt;String&gt;&gt;` to a `Stream&lt;String&gt;`, which can be collected into a `Set&lt;String&gt;`:\r\n\r\n    Set&lt;String&gt; s = Stream.of(set1, set2).flatMap(Set::stream).collect(Collectors.toSet());","title":"How to merge sets using java stream?","body":"<p>If you insist on using <code>Stream</code>s, you can use <code>flatMap</code> to convert your <code>Stream&lt;Set&lt;String&gt;&gt;</code> to a <code>Stream&lt;String&gt;</code>, which can be collected into a <code>Set&lt;String&gt;</code>:</p>\n<pre><code>Set&lt;String&gt; s = Stream.of(set1, set2).flatMap(Set::stream).collect(Collectors.toSet());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5268074,"reputation":17816,"user_id":4207306,"display_name":"Eklavya"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1597127093,"creation_date":1597127093,"answer_id":63352611,"question_id":63352543,"body_markdown":"You can use `Stream.concat` to merge the stream of two sets and collect as set.\r\n\r\n    Set&lt;String&gt; s = Stream.concat(set1.stream(), set2.stream()).collect(Collectors.toSet());","title":"How to merge sets using java stream?","body":"<p>You can use <code>Stream.concat</code> to merge the stream of two sets and collect as set.</p>\n<pre><code>Set&lt;String&gt; s = Stream.concat(set1.stream(), set2.stream()).collect(Collectors.toSet());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1434324,"reputation":3343,"user_id":1356047,"display_name":"Jonas Berlin"},"score":0,"creation_date":1604564101,"post_id":63355580,"comment_id":114386321,"body_markdown":"Does `concat()` offer any benefits over `flatMap()` if one disregards the risk of a StackOverflowException?","body":"Does <code>concat()</code> offer any benefits over <code>flatMap()</code> if one disregards the risk of a StackOverflowException?"}],"tags":[],"owner":{"account_id":2889405,"reputation":2350,"user_id":2478531,"accept_rate":80,"display_name":"Pankaj"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1597138872,"creation_date":1597138872,"answer_id":63355580,"question_id":63352543,"body_markdown":"There are couple of approach possible - \r\n\r\n***Concat***\r\n\r\n    Set&lt;String&gt; s = Stream.concat(set1.stream(), set2.stream()).collect(Collectors.toSet());\r\n\r\nIt&#39;s get slightly ugly for more than 2 streams as we have to write\r\n\r\n    Stream.concat(Stream.concat(set1.stream(), set2.stream()), set3.stream())\r\n\r\n**Concat could be a problem for deeply concatenated stream**. From documentation -\r\n&gt; Use caution when constructing streams from repeated\r\n&gt; concatenation.Accessing an element of a deeply concatenated stream can\r\n&gt; result in deep call chains, or even StackOverflowException.\r\n\r\n***Reduce***\r\n\r\nReduce can also be used to perform concatenation of stream as - \r\n\r\n    Set&lt;String&gt; s = Stream.of(set1.stream(), set2.stream()).reduce(Stream::concat)\r\n      .orElseGet(Stream::empty).collect(Collectors.toSet());\r\n\r\n Here `Stream.reduce(`) returns optional that&#39;s the reason for `orElseGet` method call. It&#39;s also possible to contact multiple set as \r\n\r\n    Stream.of(set1.stream(), set2.stream(), set2.stream()).reduce(Stream::concat).orElseGet(Stream::empty).collect(Collectors.toSet());\r\n\r\nProblem associated with deeply contacted stream applies to reduce as well\r\n\r\n***Flatmap***\r\n\r\nFlatmap can be used to get same result as - \r\n   \r\n\r\n     Set&lt;String&gt; s = Stream.of(set1, set2).flatMap(Set::stream).collect(Collectors.toSet());\r\n\r\nTo concat multiple stream you can use - \r\n\r\n    Set&lt;String&gt; s = Stream.of(set1, set2, set3).flatMap(Set::stream).collect(Collectors.toSet());\r\n\r\nflatmap avoids `StackOverflowException`.","title":"How to merge sets using java stream?","body":"<p>There are couple of approach possible -</p>\n<p><em><strong>Concat</strong></em></p>\n<pre><code>Set&lt;String&gt; s = Stream.concat(set1.stream(), set2.stream()).collect(Collectors.toSet());\n</code></pre>\n<p>It's get slightly ugly for more than 2 streams as we have to write</p>\n<pre><code>Stream.concat(Stream.concat(set1.stream(), set2.stream()), set3.stream())\n</code></pre>\n<p><strong>Concat could be a problem for deeply concatenated stream</strong>. From documentation -</p>\n<blockquote>\n<p>Use caution when constructing streams from repeated\nconcatenation.Accessing an element of a deeply concatenated stream can\nresult in deep call chains, or even StackOverflowException.</p>\n</blockquote>\n<p><em><strong>Reduce</strong></em></p>\n<p>Reduce can also be used to perform concatenation of stream as -</p>\n<pre><code>Set&lt;String&gt; s = Stream.of(set1.stream(), set2.stream()).reduce(Stream::concat)\n  .orElseGet(Stream::empty).collect(Collectors.toSet());\n</code></pre>\n<p>Here <code>Stream.reduce(</code>) returns optional that's the reason for <code>orElseGet</code> method call. It's also possible to contact multiple set as</p>\n<pre><code>Stream.of(set1.stream(), set2.stream(), set2.stream()).reduce(Stream::concat).orElseGet(Stream::empty).collect(Collectors.toSet());\n</code></pre>\n<p>Problem associated with deeply contacted stream applies to reduce as well</p>\n<p><em><strong>Flatmap</strong></em></p>\n<p>Flatmap can be used to get same result as -</p>\n<pre><code> Set&lt;String&gt; s = Stream.of(set1, set2).flatMap(Set::stream).collect(Collectors.toSet());\n</code></pre>\n<p>To concat multiple stream you can use -</p>\n<pre><code>Set&lt;String&gt; s = Stream.of(set1, set2, set3).flatMap(Set::stream).collect(Collectors.toSet());\n</code></pre>\n<p>flatmap avoids <code>StackOverflowException</code>.</p>\n"}],"owner":{"account_id":3761893,"reputation":193,"user_id":3126580,"display_name":"hehe"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6532,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":63352582,"answer_count":3,"score":6,"last_activity_date":1673016725,"creation_date":1597126828,"question_id":63352543,"body_markdown":"I have two `Set`s like thisï¼\r\n```\r\nSet&lt;String&gt; set1;\r\nSet&lt;String&gt; set2;\r\n```\r\nAnd I want to merge them with \r\n\r\n```\r\nSet&lt;String&gt; s = Stream.of(set1, set2).collect(Collectors.toSet());\r\n```\r\nbut Iâ¯get the following error:\r\n\r\n&gt; no instance(s) of type variable(s) exist so that `Set&lt;String&gt;` conforms to `String`\r\n&gt;\r\n&gt;inference variable `T` has incompatible bounds:\r\n&gt;\r\n&gt; equality constraints: `String` lower bounds: `Set&lt;String&gt;`\r\n\r\n[![compilation error][1]][1]\r\n\r\nHow can I convert the `Set`s to a single `Set&lt;String&gt;` with `flatMap()`?\r\nIs there any other solution that can accomplish this operation gracefully?\r\n\r\n  [1]: https://i.stack.imgur.com/3poI1.png","title":"How to merge sets using java stream?","body":"<p>I have two <code>Set</code>s like thisï¼</p>\n<pre><code>Set&lt;String&gt; set1;\nSet&lt;String&gt; set2;\n</code></pre>\n<p>And I want to merge them with</p>\n<pre><code>Set&lt;String&gt; s = Stream.of(set1, set2).collect(Collectors.toSet());\n</code></pre>\n<p>but Iâ¯get the following error:</p>\n<blockquote>\n<p>no instance(s) of type variable(s) exist so that <code>Set&lt;String&gt;</code> conforms to <code>String</code></p>\n<p>inference variable <code>T</code> has incompatible bounds:</p>\n<p>equality constraints: <code>String</code> lower bounds: <code>Set&lt;String&gt;</code></p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/3poI1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3poI1.png\" alt=\"compilation error\" /></a></p>\n<p>How can I convert the <code>Set</code>s to a single <code>Set&lt;String&gt;</code> with <code>flatMap()</code>?\nIs there any other solution that can accomplish this operation gracefully?</p>\n"},{"tags":["java","graph","jgrapht"],"answers":[{"tags":[],"owner":{"account_id":1282660,"reputation":8511,"user_id":1236401,"accept_rate":75,"display_name":"Mugen"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":true,"score":4,"last_activity_date":1632206967,"creation_date":1563782105,"answer_id":57141403,"question_id":57134161,"body_markdown":"The following is working, but doesn&#39;t strike me as most efficient.\r\n\r\n```\r\n// leaves:\r\ngraph.vertexSet().stream()\r\n                .filter(key -&gt; graph.outgoingEdgesOf(key).size() == 0)\r\n                .forEach(key -&gt; doLeavesStuff(key));\r\n\r\n// roots:\r\ngraph.vertexSet().stream()\r\n                .filter(key -&gt; graph.incomingEdgesOf(key).size() == 0)\r\n                .forEach(key -&gt; doRootsStuff(key));\r\n```\r\n","title":"How to find roots and leaves set in jgrapht DirectedAcyclicGraph","body":"<p>The following is working, but doesn't strike me as most efficient.</p>\n<pre><code>// leaves:\ngraph.vertexSet().stream()\n                .filter(key -&gt; graph.outgoingEdgesOf(key).size() == 0)\n                .forEach(key -&gt; doLeavesStuff(key));\n\n// roots:\ngraph.vertexSet().stream()\n                .filter(key -&gt; graph.incomingEdgesOf(key).size() == 0)\n                .forEach(key -&gt; doRootsStuff(key));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1632136876,"post_id":69253164,"comment_id":122403484,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-ask).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/69253164/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-ask\">in the help center</a>."},{"owner":{"account_id":1282660,"reputation":8511,"user_id":1236401,"accept_rate":75,"display_name":"Mugen"},"score":0,"creation_date":1632206941,"post_id":69253164,"comment_id":122423306,"body_markdown":"yes, you&#39;re right, I was storing the keys in an additional map and therefore used `keySet`. will edit my answer. next time you can just leave a comment :)","body":"yes, you&#39;re right, I was storing the keys in an additional map and therefore used <code>keySet</code>. will edit my answer. next time you can just leave a comment :)"}],"tags":[],"owner":{"account_id":7668237,"reputation":13,"user_id":5811365,"display_name":"Rafael Perez-Torro"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632134777,"creation_date":1632134777,"answer_id":69253164,"question_id":57134161,"body_markdown":"Shouldn&#39;t it be:\r\n\r\n```\r\n// leaves:\r\ngraph.vertexSet().stream().filter(\r\n    key -&gt; graph.incomingEdgesOf(key).size() == 0\r\n).forEach(\r\n    key -&gt; doLeavesStuff(key)\r\n);\r\n\r\n// roots:\r\ngraph.vertexSet().stream().filter(\r\n    key -&gt; graph.outgoingEdgesOf(key).size() == 0\r\n).forEach(\r\n    key -&gt; doRootsStuff(key)\r\n);\r\n```\r\nintead?","title":"How to find roots and leaves set in jgrapht DirectedAcyclicGraph","body":"<p>Shouldn't it be:</p>\n<pre><code>// leaves:\ngraph.vertexSet().stream().filter(\n    key -&gt; graph.incomingEdgesOf(key).size() == 0\n).forEach(\n    key -&gt; doLeavesStuff(key)\n);\n\n// roots:\ngraph.vertexSet().stream().filter(\n    key -&gt; graph.outgoingEdgesOf(key).size() == 0\n).forEach(\n    key -&gt; doRootsStuff(key)\n);\n</code></pre>\n<p>intead?</p>\n"},{"comments":[{"owner":{"account_id":1282660,"reputation":8511,"user_id":1236401,"accept_rate":75,"display_name":"Mugen"},"score":0,"creation_date":1673094405,"post_id":75032452,"comment_id":132423052,"body_markdown":"You can use an `AtomicInteger` to count in the callback","body":"You can use an <code>AtomicInteger</code> to count in the callback"},{"owner":{"account_id":5860917,"reputation":726,"user_id":4616651,"display_name":"Alan"},"score":0,"creation_date":1673101953,"post_id":75032452,"comment_id":132424512,"body_markdown":"@Mugen, very good! Works. Thanks.","body":"@Mugen, very good! Works. Thanks."}],"tags":[],"owner":{"account_id":5860917,"reputation":726,"user_id":4616651,"display_name":"Alan"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673016451,"creation_date":1673016451,"answer_id":75032452,"question_id":57134161,"body_markdown":"I used\r\n\r\n    class DAG extends jgrapht.graph.DirectedAcyclicGraph &lt;Node,Edge&gt; {\r\n\r\n       Collection &lt;Node&gt; nodes = collected_for_additional_purposes ();\r\n\r\n       private int countRoots () {\r\n          int count = 0;\r\n          for (final Node node : nodes) {\r\n             if (inDegreeOf (node) == 0) {\r\n                count++;\r\n             }\r\n          }\r\n          return count;\r\n       }\r\n    }\r\n\r\nIt&#39;s akin to stream used in accepted answer and one could use an iterator too, but the difference here is using `inDegreeOf (aVertex)`.  Similarly `outDegreeOf` would work too.\r\n\r\nAs an aside, I tried doing the following, but `count++` generated compiler error &quot;Local variable count defined in an enclosing scope must be final or effectively final&quot;.  I&#39;m wondering what a clean, expressive inline syntax might look like.\r\n\r\n    private int countRoots () {\r\n       int count = 0;\r\n       nodes.forEach (node -&gt; {\r\n          if (inDegreeOf (node) == 0) {\r\n             count++;\r\n          }\r\n       });\r\n       return count;\r\n    }\r\n\r\nhttps://jgrapht.org/javadoc-1.0.0/org/jgrapht/graph/AbstractBaseGraph.html#inDegreeOf-V-\r\n","title":"How to find roots and leaves set in jgrapht DirectedAcyclicGraph","body":"<p>I used</p>\n<pre><code>class DAG extends jgrapht.graph.DirectedAcyclicGraph &lt;Node,Edge&gt; {\n\n   Collection &lt;Node&gt; nodes = collected_for_additional_purposes ();\n\n   private int countRoots () {\n      int count = 0;\n      for (final Node node : nodes) {\n         if (inDegreeOf (node) == 0) {\n            count++;\n         }\n      }\n      return count;\n   }\n}\n</code></pre>\n<p>It's akin to stream used in accepted answer and one could use an iterator too, but the difference here is using <code>inDegreeOf (aVertex)</code>.  Similarly <code>outDegreeOf</code> would work too.</p>\n<p>As an aside, I tried doing the following, but <code>count++</code> generated compiler error &quot;Local variable count defined in an enclosing scope must be final or effectively final&quot;.  I'm wondering what a clean, expressive inline syntax might look like.</p>\n<pre><code>private int countRoots () {\n   int count = 0;\n   nodes.forEach (node -&gt; {\n      if (inDegreeOf (node) == 0) {\n         count++;\n      }\n   });\n   return count;\n}\n</code></pre>\n<p><a href=\"https://jgrapht.org/javadoc-1.0.0/org/jgrapht/graph/AbstractBaseGraph.html#inDegreeOf-V-\" rel=\"nofollow noreferrer\">https://jgrapht.org/javadoc-1.0.0/org/jgrapht/graph/AbstractBaseGraph.html#inDegreeOf-V-</a></p>\n"}],"owner":{"account_id":1282660,"reputation":8511,"user_id":1236401,"accept_rate":75,"display_name":"Mugen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1503,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":57141403,"answer_count":3,"score":2,"last_activity_date":1673016451,"creation_date":1563719743,"question_id":57134161,"body_markdown":"My code:\r\n\r\n    import org.jgrapht.graph.DirectedAcyclicGraph;\r\n    // ...\r\n    private DirectedAcyclicGraph&lt;String, DefaultEdge&gt; graph = new DirectedAcyclicGraph&lt;&gt;(DefaultEdge.class);\r\n    // ...\r\n    graph.addVertex(&quot;x&quot;);\r\n    graph.addVertex(&quot;y&quot;);\r\n    // ...\r\n    graph.addEdge(&quot;x&quot;, &quot;y&quot;);\r\n\r\nAfter constructing the graph, how can I get a set of all the roots (vertices with no incoming edges) and of all leaves (vertices with no outgoing edges)","title":"How to find roots and leaves set in jgrapht DirectedAcyclicGraph","body":"<p>My code:</p>\n\n<pre><code>import org.jgrapht.graph.DirectedAcyclicGraph;\n// ...\nprivate DirectedAcyclicGraph&lt;String, DefaultEdge&gt; graph = new DirectedAcyclicGraph&lt;&gt;(DefaultEdge.class);\n// ...\ngraph.addVertex(\"x\");\ngraph.addVertex(\"y\");\n// ...\ngraph.addEdge(\"x\", \"y\");\n</code></pre>\n\n<p>After constructing the graph, how can I get a set of all the roots (vertices with no incoming edges) and of all leaves (vertices with no outgoing edges)</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":2703232,"reputation":2839,"user_id":2333459,"accept_rate":72,"display_name":"Super Hornet"},"score":1,"creation_date":1441445579,"post_id":32411445,"comment_id":52690527,"body_markdown":"possible duplicate of [find the last match with java/regex/matcher](http://stackoverflow.com/questions/6417435/find-the-last-match-with-java-regex-matcher)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/6417435/find-the-last-match-with-java-regex-matcher\">find the last match with java/regex/matcher</a>"},{"owner":{"account_id":10959,"reputation":74232,"user_id":20938,"display_name":"Alan Moore"},"score":0,"creation_date":1441446161,"post_id":32411445,"comment_id":52690691,"body_markdown":"You&#39;re using `groupCount()` incorrectly.  What it tells you is how many capturing groups there in the regex.  That&#39;s a static property of the Pattern object; it doesn&#39;t tell you anything about what was matched.  Your regex has no groups, so `groupCount()` always returns zero.","body":"You&#39;re using <code>groupCount()</code> incorrectly.  What it tells you is how many capturing groups there in the regex.  That&#39;s a static property of the Pattern object; it doesn&#39;t tell you anything about what was matched.  Your regex has no groups, so <code>groupCount()</code> always returns zero."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1441446658,"post_id":32411445,"comment_id":52690825,"body_markdown":"Do not parse HTML using regular expressions. See http://stackoverflow.com/questions/1732348/regex-match-open-tags-except-xhtml-self-contained-tags/1732454#1732454","body":"Do not parse HTML using regular expressions. See <a href=\"http://stackoverflow.com/questions/1732348/regex-match-open-tags-except-xhtml-self-contained-tags/1732454#1732454\" title=\"regex match open tags except xhtml self contained tags\">stackoverflow.com/questions/1732348/&hellip;</a>"},{"owner":{"account_id":1801353,"reputation":81710,"user_id":1639625,"display_name":"tobias_k"},"score":1,"creation_date":1441447571,"post_id":32411445,"comment_id":52691040,"body_markdown":"@Andreas He is not parsing HTML but just finding a particular string within a larger string, which IMHO is fine. Also, we know that post, [you can stop linking](http://meta.stackoverflow.com/questions/261561/please-stop-linking-to-the-zalgo-anti-cthulhu-regex-rant).","body":"@Andreas He is not parsing HTML but just finding a particular string within a larger string, which IMHO is fine. Also, we know that post, <a href=\"http://meta.stackoverflow.com/questions/261561/please-stop-linking-to-the-zalgo-anti-cthulhu-regex-rant\">you can stop linking</a>."}],"answers":[{"comments":[{"owner":{"account_id":6905129,"reputation":15,"user_id":5303317,"display_name":"Shira"},"score":0,"creation_date":1441976508,"post_id":32411499,"comment_id":52905845,"body_markdown":"Thank you very much for your help","body":"Thank you very much for your help"}],"tags":[],"owner":{"account_id":1801353,"reputation":81710,"user_id":1639625,"display_name":"tobias_k"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1441447342,"creation_date":1441445244,"answer_id":32411499,"question_id":32411445,"body_markdown":"You can call `matcher.find` again and it wll find the next match. It does not only tell you whether it found anything, it also actively searches for the next match. After you called it once, you only get the first match. When you call it again, next time you call `matcher.group` you get the second match, and so on. Repeat until it finds nothing, than take the last result. Also, you do not really need `groupCount`, as there is always the same number of groups in the match -- zero.\r\n\r\n    String text = &quot;&lt;div&gt;&lt;ul &gt;&lt;li&gt;&lt;span&gt;answer 1.&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;answer 2&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;answer3.&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;answer 4&lt;/span&gt;&lt;/li&gt;&lt;/ul&gt;&lt;div&gt;&lt;span&gt;Cat 1 | Cat 2 | Cat 3&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&quot;;\r\n    Pattern pattern3 = Pattern.compile(&quot;&lt;span.*?(?=&lt;/span&gt;)&quot;);\r\n    Matcher matcher3 = pattern3.matcher(text);\r\n    String s = null;\r\n    while (matcher3.find()) {\r\n        s = matcher3.group();\r\n    } \r\n    System.out.println(s);\r\n\r\nOutput is `&lt;span&gt;Cat 1 | Cat 2 | Cat 3`.\r\n\r\nIf you want to use just what&#39;s within the `&lt;span&gt;` tags, you can use regex `&quot;&lt;span&gt;(.*?)&lt;/span&gt;&quot;` and `matcher3.group(1)` to get what&#39;s within the first pair of `()` (or put the tags in lookahead and lookbehind, but IMHO it&#39;s easier this way).","title":"find last occurrence using java and regular expression","body":"<p>You can call <code>matcher.find</code> again and it wll find the next match. It does not only tell you whether it found anything, it also actively searches for the next match. After you called it once, you only get the first match. When you call it again, next time you call <code>matcher.group</code> you get the second match, and so on. Repeat until it finds nothing, than take the last result. Also, you do not really need <code>groupCount</code>, as there is always the same number of groups in the match -- zero.</p>\n\n<pre><code>String text = \"&lt;div&gt;&lt;ul &gt;&lt;li&gt;&lt;span&gt;answer 1.&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;answer 2&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;answer3.&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;answer 4&lt;/span&gt;&lt;/li&gt;&lt;/ul&gt;&lt;div&gt;&lt;span&gt;Cat 1 | Cat 2 | Cat 3&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;\";\nPattern pattern3 = Pattern.compile(\"&lt;span.*?(?=&lt;/span&gt;)\");\nMatcher matcher3 = pattern3.matcher(text);\nString s = null;\nwhile (matcher3.find()) {\n    s = matcher3.group();\n} \nSystem.out.println(s);\n</code></pre>\n\n<p>Output is <code>&lt;span&gt;Cat 1 | Cat 2 | Cat 3</code>.</p>\n\n<p>If you want to use just what's within the <code>&lt;span&gt;</code> tags, you can use regex <code>\"&lt;span&gt;(.*?)&lt;/span&gt;\"</code> and <code>matcher3.group(1)</code> to get what's within the first pair of <code>()</code> (or put the tags in lookahead and lookbehind, but IMHO it's easier this way).</p>\n"},{"comments":[{"owner":{"account_id":1801353,"reputation":81710,"user_id":1639625,"display_name":"tobias_k"},"score":0,"creation_date":1441445422,"post_id":32411512,"comment_id":52690489,"body_markdown":"This is exactly the same as OPs code (including the wrong variable name), just that it does not declare the int var but use the result directly.","body":"This is exactly the same as OPs code (including the wrong variable name), just that it does not declare the int var but use the result directly."},{"owner":{"account_id":2849686,"reputation":6485,"user_id":2447152,"display_name":"Rustam"},"score":0,"creation_date":1441445517,"post_id":32411512,"comment_id":52690511,"body_markdown":"still it will print 1st occurence","body":"still it will print 1st occurence"}],"tags":[],"owner":{"account_id":2703232,"reputation":2839,"user_id":2333459,"accept_rate":72,"display_name":"Super Hornet"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1441445480,"creation_date":1441445323,"answer_id":32411512,"question_id":32411445,"body_markdown":"try this:\r\n\r\n    String text = &quot;&lt;div&gt;&lt;ul &gt;&lt;li&gt;&lt;span&gt;answer 1.&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;answer 2&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;answer3.&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;answer 4&lt;/span&gt;&lt;/li&gt;&lt;/ul&gt;&lt;div&gt;&lt;span&gt;Cat 1 | Cat 2 | Cat 3&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&quot;\r\n        Pattern pattern3 = Pattern.compile(&quot;&lt;span.*?(?=&lt;/span&gt;)&quot;);\r\n        Matcher matcher3 = pattern3.matcher(text);\r\n        if (matcher3.find()) {\r\n            String in= matcher3.group(matcher3.groupCount()); \r\n        }","title":"find last occurrence using java and regular expression","body":"<p>try this:</p>\n\n<pre><code>String text = \"&lt;div&gt;&lt;ul &gt;&lt;li&gt;&lt;span&gt;answer 1.&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;answer 2&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;answer3.&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;answer 4&lt;/span&gt;&lt;/li&gt;&lt;/ul&gt;&lt;div&gt;&lt;span&gt;Cat 1 | Cat 2 | Cat 3&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;\"\n    Pattern pattern3 = Pattern.compile(\"&lt;span.*?(?=&lt;/span&gt;)\");\n    Matcher matcher3 = pattern3.matcher(text);\n    if (matcher3.find()) {\n        String in= matcher3.group(matcher3.groupCount()); \n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":422964,"reputation":33652,"user_id":802050,"accept_rate":89,"display_name":"M Sach"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1441446112,"creation_date":1441446112,"answer_id":32411633,"question_id":32411445,"body_markdown":"Though you have asked for finding last occurence using regex. But also consider using jsoup which is java tested library for html parser. Its already tested and good from readability point of view\r\n\r\nSee [finding last occurrence using jsoup][1]\r\n\r\n\r\n  [1]: http://jsoup.org/apidocs/org/jsoup/select/Elements.html#last--","title":"find last occurrence using java and regular expression","body":"<p>Though you have asked for finding last occurence using regex. But also consider using jsoup which is java tested library for html parser. Its already tested and good from readability point of view</p>\n\n<p>See <a href=\"http://jsoup.org/apidocs/org/jsoup/select/Elements.html#last--\" rel=\"nofollow\">finding last occurrence using jsoup</a></p>\n"},{"tags":[],"owner":{"account_id":6905515,"reputation":1,"user_id":5303552,"display_name":"bobble bubble"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1441451718,"creation_date":1441451108,"answer_id":32412336,"question_id":32411445,"body_markdown":"Use a greedy quantifier `*` with `.` to find the last occurence.\r\n\r\n    (?s)^.*&lt;span[^&gt;]*&gt;(.*?)&lt;/span&gt;\r\n\r\nCaptures of first group `matcher3.group(1)` [regexplanet demo][1]\r\n\r\n  [1]: http://fiddle.re/w9t746","title":"find last occurrence using java and regular expression","body":"<p>Use a greedy quantifier <code>*</code> with <code>.</code> to find the last occurence.</p>\n\n<pre><code>(?s)^.*&lt;span[^&gt;]*&gt;(.*?)&lt;/span&gt;\n</code></pre>\n\n<p>Captures of first group <code>matcher3.group(1)</code> <a href=\"http://fiddle.re/w9t746\" rel=\"nofollow\">regexplanet demo</a></p>\n"}],"owner":{"account_id":6905129,"reputation":15,"user_id":5303317,"display_name":"Shira"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8788,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":32411499,"answer_count":4,"score":1,"last_activity_date":1673016280,"creation_date":1441444886,"question_id":32411445,"body_markdown":"I&#39;m receiving  HTML code from XML and trying to find last &lt;span&gt; in Java.\r\nwhen I&#39;m running the code I always receive the first span and the groupCount show me that there is only one match (the first one).\r\nI also tried to use a hardcode version of the XML (I created a string variable and still got the same result)\r\n\r\nhere is my code:\r\n\r\n    String text = &quot;&lt;div&gt;&lt;ul &gt;&lt;li&gt;&lt;span&gt;answer 1.&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;answer 2&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;answer3.&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;answer 4&lt;/span&gt;&lt;/li&gt;&lt;/ul&gt;&lt;div&gt;&lt;span&gt;Cat 1 | Cat 2 | Cat 3&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&quot;\r\n        Pattern pattern3 = Pattern.compile(&quot;&lt;span.*?(?=&lt;/span&gt;)&quot;);\r\n        Matcher matcher3 = pattern3.matcher(desc);\r\n        if (matcher3.find()) {\r\n            int result = matcher3.groupCount();\r\n            String s = (matcher3.group(result))//-&gt;&gt;always show the first result \r\n        }","title":"find last occurrence using java and regular expression","body":"<p>I'm receiving  HTML code from XML and trying to find last  in Java.\nwhen I'm running the code I always receive the first span and the groupCount show me that there is only one match (the first one).\nI also tried to use a hardcode version of the XML (I created a string variable and still got the same result)</p>\n<p>here is my code:</p>\n<pre><code>String text = &quot;&lt;div&gt;&lt;ul &gt;&lt;li&gt;&lt;span&gt;answer 1.&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;answer 2&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;answer3.&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;answer 4&lt;/span&gt;&lt;/li&gt;&lt;/ul&gt;&lt;div&gt;&lt;span&gt;Cat 1 | Cat 2 | Cat 3&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&quot;\n    Pattern pattern3 = Pattern.compile(&quot;&lt;span.*?(?=&lt;/span&gt;)&quot;);\n    Matcher matcher3 = pattern3.matcher(desc);\n    if (matcher3.find()) {\n        int result = matcher3.groupCount();\n        String s = (matcher3.group(result))//-&gt;&gt;always show the first result \n    }\n</code></pre>\n"},{"tags":["java","spring","hibernate","lucene","hibernate-search"],"answers":[{"comments":[{"owner":{"account_id":1024933,"reputation":703,"user_id":1034461,"display_name":"horvoje"},"score":0,"creation_date":1673017309,"post_id":75032375,"comment_id":132409228,"body_markdown":"That was useful! But... now there is another problem. The file with stop words has few lines, in each line is &quot;a&quot;, &quot;e&quot;, &quot;i&quot;, &quot;o&quot;, &quot;u&quot;, &quot;milk&quot; respectively. The product name is &quot;Shhh Ths Is Not Milk&quot;. After index rebuild, I can find my product with &quot;Shhh&quot; only. If I use &quot;milk&quot;, none is found which is a confirmation my stop words file is applied. But when I search by &quot;not&quot; or &quot;this&quot; - none is found too. Does it mean my stop words are merged with existing stop words?","body":"That was useful! But... now there is another problem. The file with stop words has few lines, in each line is &quot;a&quot;, &quot;e&quot;, &quot;i&quot;, &quot;o&quot;, &quot;u&quot;, &quot;milk&quot; respectively. The product name is &quot;Shhh Ths Is Not Milk&quot;. After index rebuild, I can find my product with &quot;Shhh&quot; only. If I use &quot;milk&quot;, none is found which is a confirmation my stop words file is applied. But when I search by &quot;not&quot; or &quot;this&quot; - none is found too. Does it mean my stop words are merged with existing stop words?"},{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1673017672,"post_id":75032375,"comment_id":132409333,"body_markdown":"In case it helps: Lucene may not document a feature, but you may find a test class which shows how the feature is used. For example, or the mapping file, used by `MappingCharFilterFactory`, there is [this example](https://github.com/apache/lucene/blob/d5d6dc079395c47cd6d12dcce3bcfdd2c7d9dc63/lucene/analysis/common/src/test/org/apache/lucene/analysis/custom/mapping1.txt) - where each line has the format `&quot;x&quot; =&gt; &quot;y&quot;`.","body":"In case it helps: Lucene may not document a feature, but you may find a test class which shows how the feature is used. For example, or the mapping file, used by <code>MappingCharFilterFactory</code>, there is <a href=\"https://github.com/apache/lucene/blob/d5d6dc079395c47cd6d12dcce3bcfdd2c7d9dc63/lucene/analysis/common/src/test/org/apache/lucene/analysis/custom/mapping1.txt\" rel=\"nofollow noreferrer\">this example</a> - where each line has the format <code>&quot;x&quot; =&gt; &quot;y&quot;</code>."},{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1673017676,"post_id":75032375,"comment_id":132409337,"body_markdown":"You can see how this file is used [here](https://github.com/apache/lucene/blob/d5d6dc079395c47cd6d12dcce3bcfdd2c7d9dc63/lucene/analysis/common/src/test/org/apache/lucene/analysis/custom/TestCustomAnalyzer.java#L521) - but that is pure-Lucene not Hibernate. I don&#39;t know if Hibernate 5 would handle this for you in the same way, behind the scenes, using `new HashMap&lt;&gt;`","body":"You can see how this file is used <a href=\"https://github.com/apache/lucene/blob/d5d6dc079395c47cd6d12dcce3bcfdd2c7d9dc63/lucene/analysis/common/src/test/org/apache/lucene/analysis/custom/TestCustomAnalyzer.java#L521\" rel=\"nofollow noreferrer\">here</a> - but that is pure-Lucene not Hibernate. I don&#39;t know if Hibernate 5 would handle this for you in the same way, behind the scenes, using <code>new HashMap&lt;&gt;</code>"},{"owner":{"account_id":8974783,"reputation":9445,"user_id":6692043,"display_name":"yrodiere"},"score":0,"creation_date":1673019023,"post_id":75032375,"comment_id":132409789,"body_markdown":"@horvoje I don&#39;t know. Depending on how you build your query, a different analyzer might be applied and remove `not` and `this` from your query. Especially if you don&#39;t use Hibernate Search&#39;s DSL but use Lucene&#39;s `QueryParser` instead. Try calling `toString()` on your query to check that. Otherwise, create a new question with a complete reproducer so that people can try and debug this themselves.","body":"@horvoje I don&#39;t know. Depending on how you build your query, a different analyzer might be applied and remove <code>not</code> and <code>this</code> from your query. Especially if you don&#39;t use Hibernate Search&#39;s DSL but use Lucene&#39;s <code>QueryParser</code> instead. Try calling <code>toString()</code> on your query to check that. Otherwise, create a new question with a complete reproducer so that people can try and debug this themselves."}],"tags":[],"owner":{"account_id":8974783,"reputation":9445,"user_id":6692043,"display_name":"yrodiere"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673016068,"creation_date":1673016068,"answer_id":75032375,"question_id":75031997,"body_markdown":"&gt; you&#39;ll find hundreds of pages, each of them having the same code copied from another page without any decent explanation or further examples of usage.\r\n\r\nHibernate Search 5 had its problems, one of which was lack of documentation in some areas. Now that it&#39;s in maintenance mode, those problems are unlikely to get addressed.\r\n\r\nThere is _some_ documentation for that feature in the Hibernate Search 5 documentation: https://docs.jboss.org/hibernate/search/5.11/reference/en-US/html_single/#section-programmatic-analyzer-definition\r\n\r\nYou&#39;ll get [better documentation of that feature](https://docs.jboss.org/hibernate/stable/search/reference/en-US/html_single/#backend-lucene-analysis) by migrating to Hibernate Search 6+.\r\n\r\nThat being said, most of your questions related to Lucene features, so you probably won&#39;t find answers in Hibernate Search&#39;s documentation. You could find them in Lucene&#39;s documentation. How to find such documentation is explained in the Hibernate Search 6 documentation:\r\n\r\n&gt; To know more about the behavior of these character filters, tokenizers and token filters, either browse the [Lucene Javadoc][1] or read the corresponding section on the [Solr Wiki][2] (you donât need Solr to use these analyzers, itâs just that there is no documentation page for Lucene proper).\r\n\r\n---\r\n\r\n&gt; Where to put and how to address mapping-chars.properties when adding it as a parameter to MappingCharFilterFactory?\r\n\r\nIn your classpath.\r\n\r\n&gt; What is the contents of mapping-chars.properties and how to create mine of modify existing?\r\n\r\nThat&#39;s the kind of things that Lucene doesn&#39;t document, at least not clearly. Solr&#39;s documentation is better: https://solr.apache.org/guide/6_6/charfilterfactories.html#CharFilterFactories-solr.MappingCharFilterFactory\r\n\r\n&gt; Where to put stoplist.properties and how to address it when adding as mapping parameter to StopFilterFactory?\r\n\r\nPut it in the classpath, and pass the path to that file from the root of your classpath.\r\n\r\n&gt; How to add previously defined customAnalyzer to single @Field mentioned below?\r\n\r\nWell *that* is documented, at least: https://docs.jboss.org/hibernate/search/5.11/reference/en-US/html_single/#_referencing_named_analyzers\r\n\r\n```\r\n@Field(analyzer = @Analyzer(definition = &quot;customAnalyzer&quot;))\r\n```\r\n\r\n&gt; On some pages I found option to put this definition into application.properties:\r\n&gt; \r\n&gt; ```\r\n&gt; hibernate.search.lucene.analysis_definition_provider = com.thevegcat.app.search.CustomAnalysisDefinitionProvider\r\n&gt; ```\r\n&gt; But I don&#39;t want to replace original analyzer, I just want to use custom analyzer for few specific properties.\r\n\r\n\r\nYou won&#39;t replace an &quot;analyzer&quot;, you will register an analysis definition provider. Which will add analyzer definitions to Hibernate Search, which can then be referenced from `@Field`. Setting an analysis definition provider does not, in itself, change your mapping in any way.\r\n\r\n  [1]: https://lucene.apache.org/core/8_11_1/core/\r\n  [2]: http://wiki.apache.org/solr/AnalyzersTokenizersTokenFilters","title":"Creating and using LuceneAnalysisDefinitionProvider with Hibernate Search","body":"<blockquote>\n<p>you'll find hundreds of pages, each of them having the same code copied from another page without any decent explanation or further examples of usage.</p>\n</blockquote>\n<p>Hibernate Search 5 had its problems, one of which was lack of documentation in some areas. Now that it's in maintenance mode, those problems are unlikely to get addressed.</p>\n<p>There is <em>some</em> documentation for that feature in the Hibernate Search 5 documentation: <a href=\"https://docs.jboss.org/hibernate/search/5.11/reference/en-US/html_single/#section-programmatic-analyzer-definition\" rel=\"nofollow noreferrer\">https://docs.jboss.org/hibernate/search/5.11/reference/en-US/html_single/#section-programmatic-analyzer-definition</a></p>\n<p>You'll get <a href=\"https://docs.jboss.org/hibernate/stable/search/reference/en-US/html_single/#backend-lucene-analysis\" rel=\"nofollow noreferrer\">better documentation of that feature</a> by migrating to Hibernate Search 6+.</p>\n<p>That being said, most of your questions related to Lucene features, so you probably won't find answers in Hibernate Search's documentation. You could find them in Lucene's documentation. How to find such documentation is explained in the Hibernate Search 6 documentation:</p>\n<blockquote>\n<p>To know more about the behavior of these character filters, tokenizers and token filters, either browse the <a href=\"https://lucene.apache.org/core/8_11_1/core/\" rel=\"nofollow noreferrer\">Lucene Javadoc</a> or read the corresponding section on the <a href=\"http://wiki.apache.org/solr/AnalyzersTokenizersTokenFilters\" rel=\"nofollow noreferrer\">Solr Wiki</a> (you donât need Solr to use these analyzers, itâs just that there is no documentation page for Lucene proper).</p>\n</blockquote>\n<hr />\n<blockquote>\n<p>Where to put and how to address mapping-chars.properties when adding it as a parameter to MappingCharFilterFactory?</p>\n</blockquote>\n<p>In your classpath.</p>\n<blockquote>\n<p>What is the contents of mapping-chars.properties and how to create mine of modify existing?</p>\n</blockquote>\n<p>That's the kind of things that Lucene doesn't document, at least not clearly. Solr's documentation is better: <a href=\"https://solr.apache.org/guide/6_6/charfilterfactories.html#CharFilterFactories-solr.MappingCharFilterFactory\" rel=\"nofollow noreferrer\">https://solr.apache.org/guide/6_6/charfilterfactories.html#CharFilterFactories-solr.MappingCharFilterFactory</a></p>\n<blockquote>\n<p>Where to put stoplist.properties and how to address it when adding as mapping parameter to StopFilterFactory?</p>\n</blockquote>\n<p>Put it in the classpath, and pass the path to that file from the root of your classpath.</p>\n<blockquote>\n<p>How to add previously defined customAnalyzer to single @Field mentioned below?</p>\n</blockquote>\n<p>Well <em>that</em> is documented, at least: <a href=\"https://docs.jboss.org/hibernate/search/5.11/reference/en-US/html_single/#_referencing_named_analyzers\" rel=\"nofollow noreferrer\">https://docs.jboss.org/hibernate/search/5.11/reference/en-US/html_single/#_referencing_named_analyzers</a></p>\n<pre><code>@Field(analyzer = @Analyzer(definition = &quot;customAnalyzer&quot;))\n</code></pre>\n<blockquote>\n<p>On some pages I found option to put this definition into application.properties:</p>\n<pre><code>hibernate.search.lucene.analysis_definition_provider = com.thevegcat.app.search.CustomAnalysisDefinitionProvider\n</code></pre>\n<p>But I don't want to replace original analyzer, I just want to use custom analyzer for few specific properties.</p>\n</blockquote>\n<p>You won't replace an &quot;analyzer&quot;, you will register an analysis definition provider. Which will add analyzer definitions to Hibernate Search, which can then be referenced from <code>@Field</code>. Setting an analysis definition provider does not, in itself, change your mapping in any way.</p>\n"}],"owner":{"account_id":1024933,"reputation":703,"user_id":1034461,"display_name":"horvoje"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":197,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1673016184,"creation_date":1673014136,"question_id":75031997,"body_markdown":"When you search Stackoverflow or the Internet for `LuceneAnalysisDefinitionProvider`, you&#39;ll find hundreds of pages, each of them having the same code copied from another page without any decent explanation or further examples of usage.\r\n\r\nSo I tried to do it by myself and failed. Here is my code:\r\n\r\n```\r\npublic class CustomLuceneAnalysisDefinitionProvider\r\n\t\timplements LuceneAnalysisDefinitionProvider {\r\n\r\n  @Override\r\n  public void register(final LuceneAnalysisDefinitionRegistryBuilder builder) {\r\n    builder\r\n      .analyzer(&quot;customAnalyzer&quot;)\r\n        .tokenizer(StandardTokenizerFactory.class)\r\n        .charFilter(MappingCharFilterFactory.class)\r\n          .param(&quot;mapping&quot;,\r\n            &quot;org/hibernate/search/test/analyzer/mapping-chars.properties&quot;)\r\n        .tokenFilter(ASCIIFoldingFilterFactory.class)\r\n        .tokenFilter(LowerCaseFilterFactory.class)\r\n        .tokenFilter(StopFilterFactory.class)\r\n          // WRONG! It&#39;s not &quot;mapping&quot;!\r\n//        .param(&quot;mapping&quot;,\r\n//          &quot;org/hibernate/search/test/analyzer/stoplist.properties&quot;)\r\n          .param(&quot;words&quot;,\r\n            &quot;classpath:/stoplist.properties&quot;)\r\n          .param(&quot;ignoreCase&quot;, &quot;true&quot;);\r\n  }\r\n\r\n}\r\n```\r\n\r\nNow we have `CustomLuceneAnalysisDefinitionProvider` and what&#39;s next?\r\n\r\n1. Where to put and how to address `mapping-chars.properties` when adding it as a `parameter` to `MappingCharFilterFactory`?\r\n2. What is the contents of `mapping-chars.properties` and how to create mine of modify existing?\r\n3. Where to put `stoplist.properties` and how to address it when adding as `mapping` parameter to `StopFilterFactory`?\r\n5. How to add previously defined `customAnalyzer` to single `@Field` mentioned below?\r\n\r\n```\r\n@Field(\r\n\tindex = Index.YES,\r\n\tanalyze = Analyze.YES,\r\n\tstore = Store.NO,\r\n\tbridge = @FieldBridge(impl = LocalizedFieldBridge.class)\r\n)\r\nprivate LocalizedField description;\r\n```\r\n\r\nOn some pages I found option to put this definition into application.properties:\r\n\r\n\r\n```\r\nhibernate.search.lucene.analysis_definition_provider = com.thevegcat.app.search.CustomAnalysisDefinitionProvider\r\n```\r\n\r\nBut I don&#39;t want to replace original analyzer, I just want to use custom analyzer for few specific properties.\r\n\r\n---\r\n\r\n**EDIT#1**\r\n\r\nLooking into `org.apache.lucene.analysis.core.StopFilterFactory` line 86, one can notice it takes `words` as a key, not `mapping`.\r\n\r\n---\r\n\r\n**EDIT#2**\r\n\r\nIf you put your stop words file in src/main/resources, then you have to address it:\r\n\r\n```\r\n.param(&quot;words&quot;, &quot;classpath:/stoplist.properties&quot;)\r\n```","title":"Creating and using LuceneAnalysisDefinitionProvider with Hibernate Search","body":"<p>When you search Stackoverflow or the Internet for <code>LuceneAnalysisDefinitionProvider</code>, you'll find hundreds of pages, each of them having the same code copied from another page without any decent explanation or further examples of usage.</p>\n<p>So I tried to do it by myself and failed. Here is my code:</p>\n<pre><code>public class CustomLuceneAnalysisDefinitionProvider\n        implements LuceneAnalysisDefinitionProvider {\n\n  @Override\n  public void register(final LuceneAnalysisDefinitionRegistryBuilder builder) {\n    builder\n      .analyzer(&quot;customAnalyzer&quot;)\n        .tokenizer(StandardTokenizerFactory.class)\n        .charFilter(MappingCharFilterFactory.class)\n          .param(&quot;mapping&quot;,\n            &quot;org/hibernate/search/test/analyzer/mapping-chars.properties&quot;)\n        .tokenFilter(ASCIIFoldingFilterFactory.class)\n        .tokenFilter(LowerCaseFilterFactory.class)\n        .tokenFilter(StopFilterFactory.class)\n          // WRONG! It's not &quot;mapping&quot;!\n//        .param(&quot;mapping&quot;,\n//          &quot;org/hibernate/search/test/analyzer/stoplist.properties&quot;)\n          .param(&quot;words&quot;,\n            &quot;classpath:/stoplist.properties&quot;)\n          .param(&quot;ignoreCase&quot;, &quot;true&quot;);\n  }\n\n}\n</code></pre>\n<p>Now we have <code>CustomLuceneAnalysisDefinitionProvider</code> and what's next?</p>\n<ol>\n<li>Where to put and how to address <code>mapping-chars.properties</code> when adding it as a <code>parameter</code> to <code>MappingCharFilterFactory</code>?</li>\n<li>What is the contents of <code>mapping-chars.properties</code> and how to create mine of modify existing?</li>\n<li>Where to put <code>stoplist.properties</code> and how to address it when adding as <code>mapping</code> parameter to <code>StopFilterFactory</code>?</li>\n<li>How to add previously defined <code>customAnalyzer</code> to single <code>@Field</code> mentioned below?</li>\n</ol>\n<pre><code>@Field(\n    index = Index.YES,\n    analyze = Analyze.YES,\n    store = Store.NO,\n    bridge = @FieldBridge(impl = LocalizedFieldBridge.class)\n)\nprivate LocalizedField description;\n</code></pre>\n<p>On some pages I found option to put this definition into application.properties:</p>\n<pre><code>hibernate.search.lucene.analysis_definition_provider = com.thevegcat.app.search.CustomAnalysisDefinitionProvider\n</code></pre>\n<p>But I don't want to replace original analyzer, I just want to use custom analyzer for few specific properties.</p>\n<hr />\n<p><strong>EDIT#1</strong></p>\n<p>Looking into <code>org.apache.lucene.analysis.core.StopFilterFactory</code> line 86, one can notice it takes <code>words</code> as a key, not <code>mapping</code>.</p>\n<hr />\n<p><strong>EDIT#2</strong></p>\n<p>If you put your stop words file in src/main/resources, then you have to address it:</p>\n<pre><code>.param(&quot;words&quot;, &quot;classpath:/stoplist.properties&quot;)\n</code></pre>\n"},{"tags":["java","stream","java-stream"],"comments":[{"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"score":1,"creation_date":1673016439,"post_id":75032360,"comment_id":132408954,"body_markdown":"You can use `structureIdWithUserIds.values()` to get a collection of `Set&lt;Integer&gt;` and follow the answer in the linked post on how to merge.","body":"You can use <code>structureIdWithUserIds.values()</code> to get a collection of <code>Set&lt;Integer&gt;</code> and follow the answer in the linked post on how to merge."},{"owner":{"account_id":11371334,"reputation":744,"user_id":8336836,"accept_rate":85,"display_name":"Sam Fisher"},"score":0,"creation_date":1673016880,"post_id":75032360,"comment_id":132409101,"body_markdown":"@Thiyagu yeah I tried Set&lt;Integer&gt; \nids = Stream.of(structureIdWithUserIds.values()).flatMap(Set::stream).collect(Collectors.toSet()) but intelij underscores (Set::stream) so it does not work","body":"@Thiyagu yeah I tried Set&lt;Integer&gt;  ids = Stream.of(structureIdWithUserIds.values()).flatMap(Set::stre&zwnj;&#8203;am).collect(Collecto&zwnj;&#8203;rs.toSet()) but intelij underscores (Set::stream) so it does not work"},{"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"score":2,"creation_date":1673017999,"post_id":75032360,"comment_id":132409416,"body_markdown":"`structureIdWithUserIds.values().stream().flatMap(Collection::stream).collect(Collectors.toSet());`","body":"<code>structureIdWithUserIds.values().stream().flatMap(Collection:&zwnj;&#8203;:stream).collect(Col&zwnj;&#8203;lectors.toSet());</code>"}],"owner":{"account_id":11371334,"reputation":744,"user_id":8336836,"accept_rate":85,"display_name":"Sam Fisher"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1673016361,"answer_count":0,"score":1,"last_activity_date":1673016011,"creation_date":1673016011,"question_id":75032360,"body_markdown":"I have such structure:\r\n\r\n    Map&lt;Integer, Set&lt;Integer&gt;&gt; structureIdWithUserIds\r\n\r\nAnd I need to process all values(Sets) and concatinate them in one `Set` of Integers. What is the easiest way to do that?","title":"How to collect sets as values from a map in java stream?","body":"<p>I have such structure:</p>\n<pre><code>Map&lt;Integer, Set&lt;Integer&gt;&gt; structureIdWithUserIds\n</code></pre>\n<p>And I need to process all values(Sets) and concatinate them in one <code>Set</code> of Integers. What is the easiest way to do that?</p>\n"},{"tags":["java","eclipse","jar"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1339679624,"post_id":11033603,"comment_id":14428204,"body_markdown":"How do you intend to deliver the app. to the end user? A network/internet, a disk or flash drive, ..something else?  Does the app. have a GUI?","body":"How do you intend to deliver the app. to the end user? A network/internet, a disk or flash drive, ..something else?  Does the app. have a GUI?"}],"answers":[{"comments":[{"owner":{"account_id":1785302,"reputation":7129,"user_id":2683275,"accept_rate":60,"display_name":"Rat-a-tat-a-tat Ratatouille"},"score":2,"creation_date":1381125693,"post_id":11033670,"comment_id":28441018,"body_markdown":"@Joost  : sir, i donot get any option under the launch configuration heading when trying to export a java application as a runnable jar. What could be wrong or missing ?","body":"@Joost  : sir, i donot get any option under the launch configuration heading when trying to export a java application as a runnable jar. What could be wrong or missing ?"},{"owner":{"account_id":352680,"reputation":3179,"user_id":689893,"accept_rate":88,"display_name":"Joost"},"score":1,"creation_date":1381154953,"post_id":11033670,"comment_id":28455954,"body_markdown":"Eclipse lists the `main()` methods it knows about. Try running your application once (Right click project, Run As, Java Application) and then export again.","body":"Eclipse lists the <code>main()</code> methods it knows about. Try running your application once (Right click project, Run As, Java Application) and then export again."},{"owner":{"account_id":3753656,"reputation":636,"user_id":3120582,"accept_rate":67,"display_name":"Code True"},"score":2,"creation_date":1449521474,"post_id":11033670,"comment_id":56033974,"body_markdown":"Anyone know how to do this for a non-runnable jar in eclipse?  There are no options related to &#39;required libraries&#39;.","body":"Anyone know how to do this for a non-runnable jar in eclipse?  There are no options related to &#39;required libraries&#39;."},{"owner":{"account_id":8819821,"reputation":1674,"user_id":7492795,"display_name":"TheKingElessar"},"score":0,"creation_date":1558836159,"post_id":11033670,"comment_id":99230146,"body_markdown":"@jb1 Did you ever figure this out?","body":"@jb1 Did you ever figure this out?"},{"owner":{"account_id":7421543,"reputation":2874,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"score":0,"creation_date":1575405197,"post_id":11033670,"comment_id":104553847,"body_markdown":"My project does not have a main class. Is there a different way to export it?","body":"My project does not have a main class. Is there a different way to export it?"},{"owner":{"account_id":352680,"reputation":3179,"user_id":689893,"accept_rate":88,"display_name":"Joost"},"score":0,"creation_date":1575448919,"post_id":11033670,"comment_id":104566159,"body_markdown":"If your project does not have main-method (not main class), what do you expect the jar to run?","body":"If your project does not have main-method (not main class), what do you expect the jar to run?"},{"owner":{"account_id":13377702,"reputation":1277,"user_id":9654083,"display_name":"TheTechRobo the Nerd"},"score":0,"creation_date":1661987386,"post_id":11033670,"comment_id":129904810,"body_markdown":"@Joost the JAR is loaded by another program","body":"@Joost the JAR is loaded by another program"}],"tags":[],"owner":{"account_id":352680,"reputation":3179,"user_id":689893,"accept_rate":88,"display_name":"Joost"},"comment_count":7,"down_vote_count":0,"up_vote_count":156,"is_accepted":true,"score":156,"last_activity_date":1485379469,"creation_date":1339679099,"answer_id":11033670,"question_id":11033603,"body_markdown":"When you export your project as a &#39;Runnable jar&#39; (Right mouse on project -&gt; Export -&gt; Runnable jar) you have the option to package all dependencies into the generated jar. It also has two other ways (see screenshot) to export your libraries, be aware of the licences when deciding which packaging method you will use. \r\n\r\n![Package libraries][1]\r\n\r\nThe &#39;launch configuration&#39; dropdown is populated with classes containing a `main(String[])` method. The selected class is started when you &#39;run&#39; the jar.\r\n\r\nExporting as a runnable jar uses the dependencies on your build path (Right mouse on project -&gt; Build Path -&gt; Configure Build Path...). When you export as a &#39;regular&#39; (non-runnable) jar you can select any file in your project(s). If you have the libraries in your project folder you can include them but external dependencies, for example [tag:maven], cannot be included (for maven projects, [search here][2]). \r\n\r\n\r\n  [1]: http://i.stack.imgur.com/fNKAZ.png\r\n  [2]: https://stackoverflow.com/search?q=maven%20runnable%20jar%20with%20dependencies","title":"How to create a jar with external libraries included in Eclipse?","body":"<p>When you export your project as a 'Runnable jar' (Right mouse on project -> Export -> Runnable jar) you have the option to package all dependencies into the generated jar. It also has two other ways (see screenshot) to export your libraries, be aware of the licences when deciding which packaging method you will use. </p>\n\n<p><img src=\"https://i.stack.imgur.com/fNKAZ.png\" alt=\"Package libraries\"></p>\n\n<p>The 'launch configuration' dropdown is populated with classes containing a <code>main(String[])</code> method. The selected class is started when you 'run' the jar.</p>\n\n<p>Exporting as a runnable jar uses the dependencies on your build path (Right mouse on project -> Build Path -> Configure Build Path...). When you export as a 'regular' (non-runnable) jar you can select any file in your project(s). If you have the libraries in your project folder you can include them but external dependencies, for example <a href=\"/questions/tagged/maven\" class=\"post-tag\" title=\"show questions tagged &#39;maven&#39;\" rel=\"tag\">maven</a>, cannot be included (for maven projects, <a href=\"https://stackoverflow.com/search?q=maven%20runnable%20jar%20with%20dependencies\">search here</a>). </p>\n"},{"tags":[],"owner":{"account_id":10697,"reputation":28374,"user_id":20322,"display_name":"Attila"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1339679149,"creation_date":1339679149,"answer_id":11033686,"question_id":11033603,"body_markdown":"You could use the Export-&gt;Java-&gt;Runnable Jar to create a jar that includes its dependencies\r\n\r\nAlternatively, you could use the [fatjar][1] eclipse plugin as well to bundle jars together\r\n\r\n\r\n  [1]: http://fjep.sourceforge.net/","title":"How to create a jar with external libraries included in Eclipse?","body":"<p>You could use the Export->Java->Runnable Jar to create a jar that includes its dependencies</p>\n\n<p>Alternatively, you could use the <a href=\"http://fjep.sourceforge.net/\">fatjar</a> eclipse plugin as well to bundle jars together</p>\n"},{"tags":[],"owner":{"account_id":796,"reputation":2055,"user_id":1038,"accept_rate":100,"display_name":"maerch"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1339679172,"creation_date":1339679172,"answer_id":11033695,"question_id":11033603,"body_markdown":"You can right-click on the project, click on export, type &#39;jar&#39;, choose &#39;Runnable JAR File Export&#39;. There you have the option &#39;Extract required libraries into generated JAR&#39;.","title":"How to create a jar with external libraries included in Eclipse?","body":"<p>You can right-click on the project, click on export, type 'jar', choose 'Runnable JAR File Export'. There you have the option 'Extract required libraries into generated JAR'.</p>\n"},{"tags":[],"owner":{"account_id":5372879,"reputation":471,"user_id":4280826,"display_name":"Charan Raj"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1422683090,"creation_date":1422683090,"answer_id":28248601,"question_id":11033603,"body_markdown":"While exporting your source into a jar, make sure you select runnable jar option from the options. Then select if you want to package all the dependency jars or just include them directly in the jar file. It depends on the project that you are working on.\r\n\r\nYou then run the jar directly by java -jar example.jar. ","title":"How to create a jar with external libraries included in Eclipse?","body":"<p>While exporting your source into a jar, make sure you select runnable jar option from the options. Then select if you want to package all the dependency jars or just include them directly in the jar file. It depends on the project that you are working on.</p>\n\n<p>You then run the jar directly by java -jar example.jar. </p>\n"},{"tags":[],"owner":{"account_id":9428287,"reputation":21,"user_id":7012594,"display_name":"Peter Saitz"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1478794706,"creation_date":1478794706,"answer_id":40532278,"question_id":11033603,"body_markdown":"If you want to export all JAR-files of a Java web-project, open the latest generated WAR-file with a ZIP-tool (e.g. 7-Zip), navigate to the /WEB-INF/lib/ folder. Here you will find all JAR-files you need for this project (as listed in &quot;Referenced Libraries&quot;).","title":"How to create a jar with external libraries included in Eclipse?","body":"<p>If you want to export all JAR-files of a Java web-project, open the latest generated WAR-file with a ZIP-tool (e.g. 7-Zip), navigate to the /WEB-INF/lib/ folder. Here you will find all JAR-files you need for this project (as listed in \"Referenced Libraries\").</p>\n"},{"tags":[],"owner":{"account_id":5175648,"reputation":1011,"user_id":4142882,"accept_rate":67,"display_name":"SMKS"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1484589816,"creation_date":1484589816,"answer_id":41682444,"question_id":11033603,"body_markdown":"Personally,\r\n\r\nNone of the answers above worked for me, I still kept getting NoClassDefFound errors (I am using Maven for dependencies).  My solution was to build using &quot;mvn clean install&quot; and use the &quot;[project]-jar-with-dependencies.jar&quot; that that command creates.  Similarly in Eclipse you can right click the project -&gt; Run As -&gt; Maven Install and it will place the jars in the target folder.","title":"How to create a jar with external libraries included in Eclipse?","body":"<p>Personally,</p>\n\n<p>None of the answers above worked for me, I still kept getting NoClassDefFound errors (I am using Maven for dependencies).  My solution was to build using \"mvn clean install\" and use the \"[project]-jar-with-dependencies.jar\" that that command creates.  Similarly in Eclipse you can right click the project -> Run As -> Maven Install and it will place the jars in the target folder.</p>\n"},{"tags":[],"owner":{"account_id":1817323,"reputation":21,"user_id":1652171,"display_name":"Rohit"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1528968918,"creation_date":1528968918,"answer_id":50854241,"question_id":11033603,"body_markdown":"To generate jar file in eclipse right click on the project for which you want to generate, Select Export&gt;Java&gt;Runnable Jar File, \r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lKDJr.png\r\n  [2]: https://i.stack.imgur.com/SkSOh.png\r\n\r\n\r\nIts create jar which includes all the dependencies from Pom.xml, But please make sure license issue if you are using third-party dependency for your application.","title":"How to create a jar with external libraries included in Eclipse?","body":"<p>To generate jar file in eclipse right click on the project for which you want to generate, Select Export>Java>Runnable Jar File, </p>\n\n<p><a href=\"https://i.stack.imgur.com/lKDJr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lKDJr.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/SkSOh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SkSOh.png\" alt=\"enter image description here\"></a></p>\n\n<p>Its create jar which includes all the dependencies from Pom.xml, But please make sure license issue if you are using third-party dependency for your application.</p>\n"},{"tags":[],"owner":{"account_id":13211871,"reputation":41,"user_id":9541813,"display_name":"JitenS"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1531497925,"creation_date":1531497925,"answer_id":51329035,"question_id":11033603,"body_markdown":"If it is a standalone (Main method) java project then Not any specific path put all the jars inside the project not any specific path then right click on the project - &gt; export - &gt; Runnable jar --&gt; Select the lunch configuration and Library handeling then choose the radio button option &quot;Package required libraries into generated jar&quot; -- &gt; Finish.\r\n\r\nOr\r\n\r\nIf you have a web project then put all the jars in web-inf/lib folder and do the same step.","title":"How to create a jar with external libraries included in Eclipse?","body":"<p>If it is a standalone (Main method) java project then Not any specific path put all the jars inside the project not any specific path then right click on the project - > export - > Runnable jar --> Select the lunch configuration and Library handeling then choose the radio button option \"Package required libraries into generated jar\" -- > Finish.</p>\n\n<p>Or</p>\n\n<p>If you have a web project then put all the jars in web-inf/lib folder and do the same step.</p>\n"},{"tags":[],"owner":{"account_id":7333619,"reputation":1,"user_id":5585734,"display_name":"Priti"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673015628,"creation_date":1673015628,"answer_id":75032283,"question_id":11033603,"body_markdown":"Before exporting, click on Buildpath and configure java buildpath and add external jars inside the library. Then try to export as a runnable jar. ","title":"How to create a jar with external libraries included in Eclipse?","body":"<p>Before exporting, click on Buildpath and configure java buildpath and add external jars inside the library. Then try to export as a runnable jar.</p>\n"}],"owner":{"account_id":1560771,"reputation":1163,"user_id":1450681,"accept_rate":75,"display_name":"Ghanta Sairam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":252584,"favorite_count":0,"down_vote_count":0,"up_vote_count":101,"accepted_answer_id":11033670,"answer_count":9,"score":101,"last_activity_date":1673015628,"creation_date":1339678866,"question_id":11033603,"body_markdown":"I am done with the project which connects to database (MySQL). Now I want to export the project as jar. But I don&#39;t know how to include its external dependencies? Is there any way of doing it in Eclipse or should I use any scripts for that?.","title":"How to create a jar with external libraries included in Eclipse?","body":"<p>I am done with the project which connects to database (MySQL). Now I want to export the project as jar. But I don't know how to include its external dependencies? Is there any way of doing it in Eclipse or should I use any scripts for that?.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2269593,"reputation":43917,"user_id":1997376,"accept_rate":100,"display_name":"Nicolas Filotto"},"score":0,"creation_date":1465407368,"post_id":37709198,"comment_id":62892481,"body_markdown":"what is the rest of your code?","body":"what is the rest of your code?"},{"owner":{"account_id":2269593,"reputation":43917,"user_id":1997376,"accept_rate":100,"display_name":"Nicolas Filotto"},"score":0,"creation_date":1465407385,"post_id":37709198,"comment_id":62892492,"body_markdown":"what do you do after that?","body":"what do you do after that?"},{"owner":{"account_id":3753539,"reputation":9174,"user_id":3120489,"accept_rate":78,"display_name":"dabadaba"},"score":0,"creation_date":1465407387,"post_id":37709198,"comment_id":62892495,"body_markdown":"Declare it outside the switch block. The scope &quot;inside&quot; cases is shared.","body":"Declare it outside the switch block. The scope &quot;inside&quot; cases is shared."},{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":1,"creation_date":1465407606,"post_id":37709198,"comment_id":62892604,"body_markdown":"An object doesn&#39;t have a name. A variable does. What are you planning to do with such a variable later?","body":"An object doesn&#39;t have a name. A variable does. What are you planning to do with such a variable later?"}],"answers":[{"comments":[{"owner":{"account_id":7379580,"reputation":381,"user_id":5616775,"accept_rate":43,"display_name":"Revanth Penugonda"},"score":0,"creation_date":1465408487,"post_id":37709258,"comment_id":62893113,"body_markdown":"But in this switch case I am initializing object not just declaring them.","body":"But in this switch case I am initializing object not just declaring them."},{"owner":{"account_id":957044,"reputation":47672,"user_id":982161,"accept_rate":63,"display_name":"Î¦XocÄ ì Ðepe&#250;pa ã"},"score":0,"creation_date":1465408598,"post_id":37709258,"comment_id":62893174,"body_markdown":"yes, but in java this in the same as declaring it multiple times in the same scope","body":"yes, but in java this in the same as declaring it multiple times in the same scope"}],"tags":[],"owner":{"account_id":957044,"reputation":47672,"user_id":982161,"accept_rate":63,"display_name":"Î¦XocÄ ì Ðepe&#250;pa ã"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1465408524,"creation_date":1465407389,"answer_id":37709258,"question_id":37709198,"body_markdown":"The title of the question should be something like:\r\n***can I declare variables with the same name in  every Case branch***\r\nanyways...the reason of the error is because the CASE block in the Switch-case share the same scope as the whole switch block\r\n","title":"can I declare variables with the same name in every Case branch of a Switch-Case?","body":"<p>The title of the question should be something like:\n<strong><em>can I declare variables with the same name in  every Case branch</em></strong>\nanyways...the reason of the error is because the CASE block in the Switch-case share the same scope as the whole switch block</p>\n"},{"tags":[],"owner":{"account_id":6411938,"reputation":4104,"user_id":4971422,"display_name":"FredK"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1465407563,"creation_date":1465407563,"answer_id":37709303,"question_id":37709198,"body_markdown":"You can put curly braces around the code inside each case block.\r\nBut that makes the variable local only to the case block - you can&#39;t use it out after the break.\r\n\r\nSo unless you are only going to use it inside each case, do as @dabadaba says and place it before the switch.","title":"can I declare variables with the same name in every Case branch of a Switch-Case?","body":"<p>You can put curly braces around the code inside each case block.\nBut that makes the variable local only to the case block - you can't use it out after the break.</p>\n\n<p>So unless you are only going to use it inside each case, do as @dabadaba says and place it before the switch.</p>\n"},{"tags":[],"owner":{"account_id":2269593,"reputation":43917,"user_id":1997376,"accept_rate":100,"display_name":"Nicolas Filotto"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1465407957,"creation_date":1465407637,"answer_id":37709325,"question_id":37709198,"body_markdown":"You need to move your variable declaration outside the switch block as next:\r\n\r\n    Example&lt;?&gt; ex;\r\n    switch (ch) {\r\n        case 1:\r\n            ex = new Example&lt;Integer&gt;();\r\n            break;\r\n        case 2:\r\n            ex = new Example&lt;Float&gt;();\r\n            break;\r\n        case 3:\r\n            ex = new Example&lt;String&gt;();\r\n            break;\r\n        default:\r\n            throw new IllegalArgumentException(&quot;Unknown type &quot; + ch);\r\n    }\r\n\r\nAs you mixed several types that have nothing in common, you have to use the `wildcard` for `unknown type`.","title":"can I declare variables with the same name in every Case branch of a Switch-Case?","body":"<p>You need to move your variable declaration outside the switch block as next:</p>\n\n<pre><code>Example&lt;?&gt; ex;\nswitch (ch) {\n    case 1:\n        ex = new Example&lt;Integer&gt;();\n        break;\n    case 2:\n        ex = new Example&lt;Float&gt;();\n        break;\n    case 3:\n        ex = new Example&lt;String&gt;();\n        break;\n    default:\n        throw new IllegalArgumentException(\"Unknown type \" + ch);\n}\n</code></pre>\n\n<p>As you mixed several types that have nothing in common, you have to use the <code>wildcard</code> for <code>unknown type</code>.</p>\n"},{"tags":[],"owner":{"account_id":3180842,"reputation":1675,"user_id":2687589,"accept_rate":83,"display_name":"Brandon McKenzie"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1465408124,"creation_date":1465408124,"answer_id":37709485,"question_id":37709198,"body_markdown":"The reason for your duplicate variable error is because despite the fact that you declare `ex` within different case blocks, it is still technically within the same scope (i.e. a rough but simple way of putting it is they are with in the same set of `{ }`).  Put another way, imagine you removed the `break` from `case 1`; the execution would fall through to `case 2` and try to declare the variable a second time.  Since the java compiler doesn&#39;t take the `break` into account when evaluating for this sort of thing, you have a compilation error.\r\n\r\nFortunately, you can just declare `ex` beforehand with a wildcard and assign it value later:\r\n\r\n    Example&lt;?&gt; ex = null;\r\n    switch (ch) {\r\n        case 1:\r\n            ex = new Example&lt;Integer&gt;();\r\n            break;\r\n        case 2:\r\n            ex = new Example&lt;Float&gt;();\r\n            break;\r\n        case 3:\r\n            ex = new Example&lt;String&gt;();\r\n            break;\r\n        default:\r\n            System.out.println(&quot;&quot;); //You may want to do something more dramatic here, if this is an error case.\r\n            break; //Redundant, since execution path falls out of this scope right after this anyway.\r\n        }","title":"can I declare variables with the same name in every Case branch of a Switch-Case?","body":"<p>The reason for your duplicate variable error is because despite the fact that you declare <code>ex</code> within different case blocks, it is still technically within the same scope (i.e. a rough but simple way of putting it is they are with in the same set of <code>{ }</code>).  Put another way, imagine you removed the <code>break</code> from <code>case 1</code>; the execution would fall through to <code>case 2</code> and try to declare the variable a second time.  Since the java compiler doesn't take the <code>break</code> into account when evaluating for this sort of thing, you have a compilation error.</p>\n\n<p>Fortunately, you can just declare <code>ex</code> beforehand with a wildcard and assign it value later:</p>\n\n<pre><code>Example&lt;?&gt; ex = null;\nswitch (ch) {\n    case 1:\n        ex = new Example&lt;Integer&gt;();\n        break;\n    case 2:\n        ex = new Example&lt;Float&gt;();\n        break;\n    case 3:\n        ex = new Example&lt;String&gt;();\n        break;\n    default:\n        System.out.println(\"\"); //You may want to do something more dramatic here, if this is an error case.\n        break; //Redundant, since execution path falls out of this scope right after this anyway.\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27216582,"reputation":1,"user_id":20746517,"display_name":"Yogesh Thosar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673015612,"creation_date":1673015373,"answer_id":75032227,"question_id":37709198,"body_markdown":"I think In Java,\r\nthe pair of curly braces i.e. {} confines the scope. A variable declared between { and }, starts its scope from the declaration statement to the respective closing brace of starting brace.\r\nFor exa. \r\nLet say {- start and }- close\r\nNow, \r\n\r\nstart1\r\n  var A borns here\r\n     start2\r\n       var B borns here!\r\n\r\n       var B can not live further this!\r\n     close2\r\n\r\n  var A can leave upto here! \r\nclose1\r\n\r\n------------------------\r\nI hope, I dictate it well!!","title":"can I declare variables with the same name in every Case branch of a Switch-Case?","body":"<p>I think In Java,\nthe pair of curly braces i.e. {} confines the scope. A variable declared between { and }, starts its scope from the declaration statement to the respective closing brace of starting brace.\nFor exa.\nLet say {- start and }- close\nNow,</p>\n<p>start1\nvar A borns here\nstart2\nvar B borns here!</p>\n<pre><code>   var B can not live further this!\n close2\n</code></pre>\n<p>var A can leave upto here!\nclose1</p>\n<hr />\n<p>I hope, I dictate it well!!</p>\n"}],"owner":{"account_id":7379580,"reputation":381,"user_id":5616775,"accept_rate":43,"display_name":"Revanth Penugonda"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":750,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":37709325,"answer_count":5,"score":0,"last_activity_date":1673015612,"creation_date":1465407194,"question_id":37709198,"body_markdown":"I am trying to create a generic class object in switch case with same name I get a error for duplicate variable. Is there a way to create the object without changing the name of the object.\r\n\r\n    switch (ch) {\r\n\t\tcase 1:\r\n\t\t\tExample&lt;Integer&gt; ex = new Example&lt;Integer&gt;();\r\n\t\t\tbreak;\r\n\t\tcase 2:\r\n\t\t\tExample&lt;Float&gt; ex = new Example&lt;Float&gt;();\r\n\t\t\tbreak;\r\n\t\tcase 3:\r\n\t\t\tExample&lt;String&gt; ex = new Example&lt;String&gt;();\r\n\t\t\tbreak;\r\n\t\tdefault:\r\n\t\t\tSystem.out.println(&quot;&quot;);\r\n\t\t\tbreak;\r\n\t\t}","title":"can I declare variables with the same name in every Case branch of a Switch-Case?","body":"<p>I am trying to create a generic class object in switch case with same name I get a error for duplicate variable. Is there a way to create the object without changing the name of the object.</p>\n\n<pre><code>switch (ch) {\n    case 1:\n        Example&lt;Integer&gt; ex = new Example&lt;Integer&gt;();\n        break;\n    case 2:\n        Example&lt;Float&gt; ex = new Example&lt;Float&gt;();\n        break;\n    case 3:\n        Example&lt;String&gt; ex = new Example&lt;String&gt;();\n        break;\n    default:\n        System.out.println(\"\");\n        break;\n    }\n</code></pre>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":2168743,"reputation":10044,"user_id":1921273,"display_name":"MrSmith42"},"score":1,"creation_date":1357431322,"post_id":14177897,"comment_id":19647897,"body_markdown":"Not without iterating the `ArrayList`","body":"Not without iterating the <code>ArrayList</code>"},{"owner":{"account_id":199671,"reputation":148444,"user_id":445131,"accept_rate":89,"display_name":"Eric Leschinski"},"score":1,"creation_date":1357431385,"post_id":14177897,"comment_id":19647912,"body_markdown":"Try entering the items into a structure that forces uniqueness like Set.  Or keep the items sorted when you add items and search for items next to each other.","body":"Try entering the items into a structure that forces uniqueness like Set.  Or keep the items sorted when you add items and search for items next to each other."},{"owner":{"account_id":1489010,"reputation":7802,"user_id":1396594,"accept_rate":67,"display_name":"exexzian"},"score":0,"creation_date":1357431393,"post_id":14177897,"comment_id":19647915,"body_markdown":"What makes you think that &quot;it will be too hard to do that&quot;, just iterate over `ArrayList` and compare it with others","body":"What makes you think that &quot;it will be too hard to do that&quot;, just iterate over <code>ArrayList</code> and compare it with others"}],"answers":[{"tags":[],"owner":{"account_id":125128,"reputation":51999,"user_id":320700,"accept_rate":74,"display_name":"Yanick Rochon"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1673015471,"creation_date":1357431457,"answer_id":14177927,"question_id":14177897,"body_markdown":"This will tell you if you have at least two same values in your `ArrayList`:\r\n\r\n    int first = portList.indexOf(someIntValue);\r\n    int last  = portList.lastIndexOf(someIntValue);\r\n    if (first != -1 &amp;&amp; first != last) {\r\n        // someIntValue exists more than once in the list (not sure how many times though)\r\n    }\r\n\r\nIf you *really* want to know how many duplicates of a given value you have, you need to iterate through the entire array. Something like this:\r\n\r\n    /**\r\n     * Will return a list of all indexes where the given value\r\n     * exists in the given array. The list will be empty if the\r\n     * given value does not exist at all.\r\n     *\r\n     * @param List&lt;E&gt; list\r\n     * @param E value\r\n     * @return List&lt;Integer&gt;    a list of indexes in the list\r\n     */\r\n    public &lt;E&gt; List&lt;Integer&gt; collectFrequency(List&lt;E&gt; list, E value) {\r\n       ArrayList&lt;Integer&gt; freqIndex = new ArrayList&lt;Integer&gt;();\r\n       E item;\r\n       for (int i=0, len=list.size(); i&lt;len; i++) {\r\n           item = list.get(i);\r\n           if ((item == value) || (null != item &amp;&amp; item.equals(value))) {\r\n               freqIndex.add(i);\r\n           }\r\n       }\r\n       return freqIndex;\r\n    }\r\n\r\n    if (!collectFrequency(portList, someIntValue).size() &gt; 1) {\r\n        // Duplicate value\r\n    }\r\n\r\nOr using the [already availble](https://docs.oracle.com/javase/7/docs/api/java/util/Collections.html#frequency(java.util.Collection,%20java.lang.Object)) method:\r\n\r\n    if (Collections.frequency(portList, someIntValue) &gt; 1) {\r\n        // Duplicate value\r\n    }\r\n\r\n","title":"Is it possible to find out if a value exists twice in an arraylist?","body":"<p>This will tell you if you have at least two same values in your <code>ArrayList</code>:</p>\n<pre><code>int first = portList.indexOf(someIntValue);\nint last  = portList.lastIndexOf(someIntValue);\nif (first != -1 &amp;&amp; first != last) {\n    // someIntValue exists more than once in the list (not sure how many times though)\n}\n</code></pre>\n<p>If you <em>really</em> want to know how many duplicates of a given value you have, you need to iterate through the entire array. Something like this:</p>\n<pre><code>/**\n * Will return a list of all indexes where the given value\n * exists in the given array. The list will be empty if the\n * given value does not exist at all.\n *\n * @param List&lt;E&gt; list\n * @param E value\n * @return List&lt;Integer&gt;    a list of indexes in the list\n */\npublic &lt;E&gt; List&lt;Integer&gt; collectFrequency(List&lt;E&gt; list, E value) {\n   ArrayList&lt;Integer&gt; freqIndex = new ArrayList&lt;Integer&gt;();\n   E item;\n   for (int i=0, len=list.size(); i&lt;len; i++) {\n       item = list.get(i);\n       if ((item == value) || (null != item &amp;&amp; item.equals(value))) {\n           freqIndex.add(i);\n       }\n   }\n   return freqIndex;\n}\n\nif (!collectFrequency(portList, someIntValue).size() &gt; 1) {\n    // Duplicate value\n}\n</code></pre>\n<p>Or using the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Collections.html#frequency(java.util.Collection,%20java.lang.Object)\" rel=\"nofollow noreferrer\">already availble</a> method:</p>\n<pre><code>if (Collections.frequency(portList, someIntValue) &gt; 1) {\n    // Duplicate value\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":93655,"reputation":7413,"user_id":256108,"accept_rate":78,"display_name":"Nicholas"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1673005745,"creation_date":1357431527,"answer_id":14177934,"question_id":14177897,"body_markdown":"If you are looking to do this in one method, then no. However, you could do it in two steps if you need to simply find out if it exists ***at least more than once*** in the List. You could do\r\n\r\n    int first = list.indexOf(object)\r\n    int second = list.lastIndexOf(object)\r\n    // Don&#39;t forget to also check to see if either are -1, the value does not exist at all.\r\n    if (first == second) {\r\n        // No Duplicates of object appear in the list\r\n    } else {\r\n        // Duplicate exists\r\n    }\r\n\r\n\r\n","title":"Is it possible to find out if a value exists twice in an arraylist?","body":"<p>If you are looking to do this in one method, then no. However, you could do it in two steps if you need to simply find out if it exists <em><strong>at least more than once</strong></em> in the List. You could do</p>\n<pre><code>int first = list.indexOf(object)\nint second = list.lastIndexOf(object)\n// Don't forget to also check to see if either are -1, the value does not exist at all.\nif (first == second) {\n    // No Duplicates of object appear in the list\n} else {\n    // Duplicate exists\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":255665,"reputation":232836,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"score":1,"creation_date":1357432006,"post_id":14177938,"comment_id":19648038,"body_markdown":"How is that going to detect duplicates? If `portList` is not empty, `portSet` is going to be changed and `addAll` will return `true` regardless of whether there are duplicates.","body":"How is that going to detect duplicates? If <code>portList</code> is not empty, <code>portSet</code> is going to be changed and <code>addAll</code> will return <code>true</code> regardless of whether there are duplicates."},{"owner":{"account_id":240196,"reputation":2434,"user_id":510294,"accept_rate":75,"display_name":"Mike"},"score":0,"creation_date":1357432247,"post_id":14177938,"comment_id":19648079,"body_markdown":"Yup, I realized I was an idiot as soon as I said it, Shame on the two  who upvoted me (and... well... me too).","body":"Yup, I realized I was an idiot as soon as I said it, Shame on the two  who upvoted me (and... well... me too)."},{"owner":{"account_id":255665,"reputation":232836,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"score":0,"creation_date":1357432325,"post_id":14177938,"comment_id":19648092,"body_markdown":"Much improved. Now it behaves as advertised. It could be a one-liner: `boolean listContainsDuplicates = portList.size() == new HashSet&lt;Integer&gt;(portList).size()`. However, I think OP wants to know something different: whether a specific value already exists twice, not whether _any_ value is duplicated.","body":"Much improved. Now it behaves as advertised. It could be a one-liner: <code>boolean listContainsDuplicates = portList.size() == new HashSet&lt;Integer&gt;(portList).size()</code>. However, I think OP wants to know something different: whether a specific value already exists twice, not whether <i>any</i> value is duplicated."}],"tags":[],"owner":{"account_id":240196,"reputation":2434,"user_id":510294,"accept_rate":75,"display_name":"Mike"},"comment_count":3,"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1357432218,"creation_date":1357431543,"answer_id":14177938,"question_id":14177897,"body_markdown":"    Set portSet = new HashSet&lt;Integer&gt;();\r\n    portSet.addAll(portList);\r\n    boolean listContainsDuplicates = portSet.size() != portList.size();\r\n\r\n\r\n","title":"Is it possible to find out if a value exists twice in an arraylist?","body":"<pre><code>Set portSet = new HashSet&lt;Integer&gt;();\nportSet.addAll(portList);\nboolean listContainsDuplicates = portSet.size() != portList.size();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2199259,"reputation":674,"user_id":1944117,"display_name":"Survivor"},"comment_count":0,"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1673005893,"creation_date":1357432069,"answer_id":14177992,"question_id":14177897,"body_markdown":"You could use something like this to see how many times a specific value is there:\r\n\r\n    System.out.println(Collections.frequency(portList, 1));\r\n    // There can be whatever Integer, and I use 1, so you can understand\r\n\r\nAnd to check if a specific value is there more than once you could use something like this:\r\n\r\n    if ( (Collections.frequency(portList, x)) &gt; 1 ){\r\n        System.out.println(x + &quot; is in portList more than once &quot;);\r\n    }\r\n\r\n\r\n","title":"Is it possible to find out if a value exists twice in an arraylist?","body":"<p>You could use something like this to see how many times a specific value is there:</p>\n<pre><code>System.out.println(Collections.frequency(portList, 1));\n// There can be whatever Integer, and I use 1, so you can understand\n</code></pre>\n<p>And to check if a specific value is there more than once you could use something like this:</p>\n<pre><code>if ( (Collections.frequency(portList, x)) &gt; 1 ){\n    System.out.println(x + &quot; is in portList more than once &quot;);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":18625803,"reputation":322,"user_id":13574935,"display_name":"Meyssam"},"score":0,"creation_date":1698827479,"post_id":23948103,"comment_id":136453180,"body_markdown":"If you add `if(numCount &gt; 1) return true;` to the loop, you will potentionally save many iterations, but will get the same result.\nYou can also add a `.contains` check before the loop for the case, that the element is not present in the list.","body":"If you add <code>if(numCount &gt; 1) return true;</code> to the loop, you will potentionally save many iterations, but will get the same result. You can also add a <code>.contains</code> check before the loop for the case, that the element is not present in the list."}],"tags":[],"owner":{"account_id":4542781,"reputation":106,"user_id":3690146,"accept_rate":86,"display_name":"user3690146"},"comment_count":1,"down_vote_count":1,"up_vote_count":6,"is_accepted":true,"score":5,"last_activity_date":1673005917,"creation_date":1401429887,"answer_id":23948103,"question_id":14177897,"body_markdown":"### My solution \r\n\r\n    public static boolean moreThanOnce(ArrayList&lt;Integer&gt; list, int searched) \r\n    {\r\n        int numCount = 0;\r\n\r\n        for (int thisNum : list) {\r\n            if (thisNum == searched) \r\n                numCount++;\r\n        }\r\n        \r\n        return numCount &gt; 1;\r\n    }\r\n\r\n","title":"Is it possible to find out if a value exists twice in an arraylist?","body":"<h3>My solution</h3>\n<pre><code>public static boolean moreThanOnce(ArrayList&lt;Integer&gt; list, int searched) \n{\n    int numCount = 0;\n\n    for (int thisNum : list) {\n        if (thisNum == searched) \n            numCount++;\n    }\n    \n    return numCount &gt; 1;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6588808,"reputation":31,"user_id":5090765,"display_name":"Insektosaurus"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673006120,"creation_date":1436293431,"answer_id":31276467,"question_id":14177897,"body_markdown":"I used the following solution to find out whether an ArrayList contains a number more than once. This solution comes very close to [the one listed by user3690146][1], but it does not use a helper variable at all. After running it, you get &quot;The number is listed more than once&quot; as a return message.\r\n\r\n    public class Application {\r\n\r\n        public static void main(String[] args) {\r\n\r\n            ArrayList&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;();\r\n\r\n            list.add(4);\r\n            list.add(8);\r\n            list.add(1);\r\n            list.add(8);\r\n\r\n            int number = 8;\r\n\r\n            if (NumberMoreThenOnceInArray(list, number)) {\r\n                System.out.println(&quot;The number is listed more than once&quot;);\r\n            } else {\r\n                System.out.println(&quot;The number is not listed more than once&quot;);\r\n            }\r\n        }\r\n\r\n        public static boolean NumberMoreThenOnceInArray(ArrayList&lt;Integer&gt; list, int whichNumber) {\r\n\r\n            int numberCounter = 0;\r\n\r\n            for (int number : list) {\r\n                if (number == whichNumber) {\r\n                    numberCounter++;\r\n                }\r\n            }\r\n\r\n            if (numberCounter &gt; 1) {\r\n                return true;\r\n            }\r\n\r\n            return false;\r\n        }\r\n\r\n    }\r\n\r\n  [1]: https://stackoverflow.com/questions/14177897/is-it-possible-to-find-out-if-a-value-exists-twice-in-an-arraylist/23948103#23948103\r\n\r\n\r\n","title":"Is it possible to find out if a value exists twice in an arraylist?","body":"<p>I used the following solution to find out whether an ArrayList contains a number more than once. This solution comes very close to <a href=\"https://stackoverflow.com/questions/14177897/is-it-possible-to-find-out-if-a-value-exists-twice-in-an-arraylist/23948103#23948103\">the one listed by user3690146</a>, but it does not use a helper variable at all. After running it, you get &quot;The number is listed more than once&quot; as a return message.</p>\n<pre><code>public class Application {\n\n    public static void main(String[] args) {\n\n        ArrayList&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;();\n\n        list.add(4);\n        list.add(8);\n        list.add(1);\n        list.add(8);\n\n        int number = 8;\n\n        if (NumberMoreThenOnceInArray(list, number)) {\n            System.out.println(&quot;The number is listed more than once&quot;);\n        } else {\n            System.out.println(&quot;The number is not listed more than once&quot;);\n        }\n    }\n\n    public static boolean NumberMoreThenOnceInArray(ArrayList&lt;Integer&gt; list, int whichNumber) {\n\n        int numberCounter = 0;\n\n        for (int number : list) {\n            if (number == whichNumber) {\n                numberCounter++;\n            }\n        }\n\n        if (numberCounter &gt; 1) {\n            return true;\n        }\n\n        return false;\n    }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5910616,"reputation":1704,"user_id":4651012,"display_name":"Umair Farooq"},"score":1,"creation_date":1472480770,"post_id":39208336,"comment_id":65756250,"body_markdown":"This question already answered many times and also has an accepted answer. Try answering some latest questions.","body":"This question already answered many times and also has an accepted answer. Try answering some latest questions."}],"tags":[],"owner":{"account_id":5055907,"reputation":460,"user_id":4059157,"display_name":"Tharika Madurapperuma"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1472479740,"creation_date":1472479740,"answer_id":39208336,"question_id":14177897,"body_markdown":"By looking at the question, we need to find out whether a **value exists twice** in an ArrayList. So I believe that we can **reduce the overhead** of &quot;going through the entire list just to check whether the value only exists twice&quot; by doing the simple check below.\r\n\r\n    public boolean moreThanOneMatch(int number, ArrayList&lt;Integer&gt; list) {\r\n\r\n        int count = 0;\r\n        for (int num : list) {\r\n            if (num == number) {\r\n                count ++ ;\r\n                if (count == 2) {\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n ","title":"Is it possible to find out if a value exists twice in an arraylist?","body":"<p>By looking at the question, we need to find out whether a <strong>value exists twice</strong> in an ArrayList. So I believe that we can <strong>reduce the overhead</strong> of \"going through the entire list just to check whether the value only exists twice\" by doing the simple check below.</p>\n\n<pre><code>public boolean moreThanOneMatch(int number, ArrayList&lt;Integer&gt; list) {\n\n    int count = 0;\n    for (int num : list) {\n        if (num == number) {\n            count ++ ;\n            if (count == 2) {\n                return true;\n            }\n        }\n    }\n    return false;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9162277,"reputation":14688,"user_id":6813231,"accept_rate":56,"display_name":"Alexei"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673006220,"creation_date":1578748868,"answer_id":59694784,"question_id":14177897,"body_markdown":"Here is my solution (in [Kotlin][1]):\r\n\r\n        // getItemsMoreThan(list, 2) -&gt; [4.45, 333.45, 1.1, 4.45, 333.45, 2.05, 4.45, 333.45, 2.05, 4.45] -&gt; {4.45=4, 333.45=3}\r\n        // getItemsMoreThan(list, 1)-&gt;  [4.45, 333.45, 1.1, 4.45, 333.45, 2.05, 4.45, 333.45, 2.05, 4.45] -&gt; {4.45=4, 333.45=3, 2.05=2}\r\n        fun getItemsMoreThan(list: List&lt;Any&gt;, moreThan: Int): Map&lt;Any, Int&gt; {\r\n            val mapNumbersByElement: Map&lt;Any, Int&gt; = getHowOftenItemsInList(list)\r\n            val findItem = mapNumbersByElement.filter { it.value &gt; moreThan }\r\n            return findItem\r\n        }\r\n\r\n        // Return(map) how often an items is list.\r\n        // E.g.: [16.44, 200.00, 200.00, 33.33, 200.00, 0.00] -&gt; {16.44=1, 200.00=3, 33.33=1, 0.00=1}\r\n        fun getHowOftenItemsInList(list: List&lt;Any&gt;): Map&lt;Any, Int&gt; {\r\n            val mapNumbersByItem = list.groupingBy { it }.eachCount()\r\n            return mapNumbersByItem\r\n        }\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Kotlin_(programming_language)\r\n\r\n\r\n","title":"Is it possible to find out if a value exists twice in an arraylist?","body":"<p>Here is my solution (in <a href=\"https://en.wikipedia.org/wiki/Kotlin_(programming_language)\" rel=\"nofollow noreferrer\">Kotlin</a>):</p>\n<pre><code>    // getItemsMoreThan(list, 2) -&gt; [4.45, 333.45, 1.1, 4.45, 333.45, 2.05, 4.45, 333.45, 2.05, 4.45] -&gt; {4.45=4, 333.45=3}\n    // getItemsMoreThan(list, 1)-&gt;  [4.45, 333.45, 1.1, 4.45, 333.45, 2.05, 4.45, 333.45, 2.05, 4.45] -&gt; {4.45=4, 333.45=3, 2.05=2}\n    fun getItemsMoreThan(list: List&lt;Any&gt;, moreThan: Int): Map&lt;Any, Int&gt; {\n        val mapNumbersByElement: Map&lt;Any, Int&gt; = getHowOftenItemsInList(list)\n        val findItem = mapNumbersByElement.filter { it.value &gt; moreThan }\n        return findItem\n    }\n\n    // Return(map) how often an items is list.\n    // E.g.: [16.44, 200.00, 200.00, 33.33, 200.00, 0.00] -&gt; {16.44=1, 200.00=3, 33.33=1, 0.00=1}\n    fun getHowOftenItemsInList(list: List&lt;Any&gt;): Map&lt;Any, Int&gt; {\n        val mapNumbersByItem = list.groupingBy { it }.eachCount()\n        return mapNumbersByItem\n    }\n</code></pre>\n"}],"owner":{"account_id":918188,"reputation":6053,"user_id":950506,"accept_rate":81,"display_name":"Chris Headleand"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36155,"favorite_count":0,"down_vote_count":6,"up_vote_count":16,"accepted_answer_id":23948103,"answer_count":8,"score":10,"last_activity_date":1673015471,"creation_date":1357431256,"question_id":14177897,"body_markdown":"I have an integer arraylist.. \r\n\r\n    ArrayList &lt;Integer&gt; portList = new ArrayList();\r\n    \r\nI need to check if a specific integer has already been entered twice. Is this possible in Java? ","title":"Is it possible to find out if a value exists twice in an arraylist?","body":"<p>I have an integer arraylist.. </p>\n\n<pre><code>ArrayList &lt;Integer&gt; portList = new ArrayList();\n</code></pre>\n\n<p>I need to check if a specific integer has already been entered twice. Is this possible in Java? </p>\n"},{"tags":["java","jax-rs","spnego"],"owner":{"account_id":1249752,"reputation":357,"user_id":1210397,"accept_rate":33,"display_name":"MFH"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673015455,"creation_date":1671905736,"question_id":74909516,"body_markdown":"I have developed REST API with JAX-RS. The web.xml is configured with SpnegoHttpFilter for  the authentication purpose. The REST API works perfectly with any status code except 401. If  my API returns javax.ws.rs.core.Response with status code 401, the SpnegoHttpFilter throws StringIndexOutOfBoundsException. \r\n\r\nHere is the stacktrace snippet of Spnego error:\r\n\r\n    Exception handling request to /myapi/articles: java.lang.StringIndexOutOfBoundsException: String index out of range: -1\r\n\tat java.lang.String.substring(String.java:1931)\r\n\tat net.sourceforge.spnego.SpnegoProvider.getAuthScheme(SpnegoProvider.java:220)\r\n\tat net.sourceforge.spnego.SpnegoProvider.negotiate(SpnegoProvider.java:111)\r\n\tat net.sourceforge.spnego.SpnegoAuthenticator.authenticate(SpnegoAuthenticator.java:315)\r\n\tat net.sourceforge.spnego.SpnegoHttpFilter.doFilter(SpnegoHttpFilter.java:283)\r\n    ....\r\n\t\r\n\r\nI have looked the code of SpnegoProvider class in spnego-r9.jar at the line 220, public static SpnegoAuthScheme getAuthScheme(final String header) method.\r\n\r\nAfter doing some trials and errors, I have found that if I put &quot;WWW-Authenticate&quot; header and return response with 401 status code, SpnegoProvider does not throw StringIndexOutOfBoundsException anymore. Everything works just fine.\r\n\r\nFor example:\r\n\r\n    Response response = Response.status(Status.UNAUTHORIZED)\r\n                                .header(&quot;WWW-Authenticate&quot;, &quot;&quot;)\r\n                                .type(MediaType.APPLICATION_JSON)\r\n                                .build();\r\n\r\nMy questions, \r\n 1. Is it bug in the SpnegoProvider? \r\n 2. Is there any best way to mitigate this issue?\r\n\r\n\r\n\r\n","title":"Why does SpnegoProvider throw StringOutOfIndexException, if status code of the response is 401?","body":"<p>I have developed REST API with JAX-RS. The web.xml is configured with SpnegoHttpFilter for  the authentication purpose. The REST API works perfectly with any status code except 401. If  my API returns javax.ws.rs.core.Response with status code 401, the SpnegoHttpFilter throws StringIndexOutOfBoundsException.</p>\n<p>Here is the stacktrace snippet of Spnego error:</p>\n<pre><code>Exception handling request to /myapi/articles: java.lang.StringIndexOutOfBoundsException: String index out of range: -1\nat java.lang.String.substring(String.java:1931)\nat net.sourceforge.spnego.SpnegoProvider.getAuthScheme(SpnegoProvider.java:220)\nat net.sourceforge.spnego.SpnegoProvider.negotiate(SpnegoProvider.java:111)\nat net.sourceforge.spnego.SpnegoAuthenticator.authenticate(SpnegoAuthenticator.java:315)\nat net.sourceforge.spnego.SpnegoHttpFilter.doFilter(SpnegoHttpFilter.java:283)\n....\n</code></pre>\n<p>I have looked the code of SpnegoProvider class in spnego-r9.jar at the line 220, public static SpnegoAuthScheme getAuthScheme(final String header) method.</p>\n<p>After doing some trials and errors, I have found that if I put &quot;WWW-Authenticate&quot; header and return response with 401 status code, SpnegoProvider does not throw StringIndexOutOfBoundsException anymore. Everything works just fine.</p>\n<p>For example:</p>\n<pre><code>Response response = Response.status(Status.UNAUTHORIZED)\n                            .header(&quot;WWW-Authenticate&quot;, &quot;&quot;)\n                            .type(MediaType.APPLICATION_JSON)\n                            .build();\n</code></pre>\n<p>My questions,</p>\n<ol>\n<li>Is it bug in the SpnegoProvider?</li>\n<li>Is there any best way to mitigate this issue?</li>\n</ol>\n"},{"tags":["java","spring","spring-boot","snakeyaml"],"comments":[{"owner":{"account_id":10838690,"reputation":3209,"user_id":7970787,"display_name":"Alex R"},"score":0,"creation_date":1672967175,"post_id":74855701,"comment_id":132398232,"body_markdown":"So, from what I understand, is that you want to annotate your test with `@SpringBootTest` but not load any beans except `GamesConfig`?.","body":"So, from what I understand, is that you want to annotate your test with <code>@SpringBootTest</code> but not load any beans except <code>GamesConfig</code>?."},{"owner":{"account_id":1310169,"reputation":3813,"user_id":1258319,"accept_rate":81,"display_name":"Julian"},"score":0,"creation_date":1672981619,"post_id":74855701,"comment_id":132400192,"body_markdown":"Not really as this will still take much longer to execute comparing to a unit test because spring boot will still have to do their initialisation stuff. What we want instead, is to build that config ourselves by loading yaml file in a map and then resolve `my-games-app.games`. The issue is that snakeyaml resolves the `game-one.game-name` as `${my-games-app.base-property}one` rather than resolving the placeholder and resolve to `fooone`. Snakeyaml seems to be a pretty good library and my question was about can snakeyaml (or other library) be configured in such a way to resolve the placeholders?","body":"Not really as this will still take much longer to execute comparing to a unit test because spring boot will still have to do their initialisation stuff. What we want instead, is to build that config ourselves by loading yaml file in a map and then resolve <code>my-games-app.games</code>. The issue is that snakeyaml resolves the <code>game-one.game-name</code> as <code>${my-games-app.base-property}one</code> rather than resolving the placeholder and resolve to <code>fooone</code>. Snakeyaml seems to be a pretty good library and my question was about can snakeyaml (or other library) be configured in such a way to resolve the placeholders?"}],"answers":[{"comments":[{"owner":{"account_id":1310169,"reputation":3813,"user_id":1258319,"accept_rate":81,"display_name":"Julian"},"score":0,"creation_date":1673036328,"post_id":75032144,"comment_id":132415081,"body_markdown":"I would have expected either `my-games-app.games[0].game-name` or `my-games-app.game-one.game-name` but not both. Accept it as a valid answer because gives us a way of resolving placeholders without us having to implement resolving logic plus having the advantage of running exactly what a `@SpringBootTest` would most likely do. Good suggestion.","body":"I would have expected either <code>my-games-app.games[0].game-name</code> or <code>my-games-app.game-one.game-name</code> but not both. Accept it as a valid answer because gives us a way of resolving placeholders without us having to implement resolving logic plus having the advantage of running exactly what a <code>@SpringBootTest</code> would most likely do. Good suggestion."},{"owner":{"account_id":10838690,"reputation":3209,"user_id":7970787,"display_name":"Alex R"},"score":0,"creation_date":1673051527,"post_id":75032144,"comment_id":132418269,"body_markdown":"@Julian Well, `games` is a _list of maps_ with only one key (`game-one/two`) _of maps_ with two keys (`game-name/location`), so from that perspective it makes sense, in my opinion. You could also represent it either as a list of maps (for which you would have to remove `game-one/two`) or, maybe even better, don&#39;t use a list and just represent it as a map of maps. Whether that&#39;s possible/sensible depends of on your requirements of course.","body":"@Julian Well, <code>games</code> is a <i>list of maps</i> with only one key (<code>game-one&#47;two</code>) <i>of maps</i> with two keys (<code>game-name&#47;location</code>), so from that perspective it makes sense, in my opinion. You could also represent it either as a list of maps (for which you would have to remove <code>game-one&#47;two</code>) or, maybe even better, don&#39;t use a list and just represent it as a map of maps. Whether that&#39;s possible/sensible depends of on your requirements of course."}],"tags":[],"owner":{"account_id":10838690,"reputation":3209,"user_id":7970787,"display_name":"Alex R"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673014935,"creation_date":1673014935,"answer_id":75032144,"question_id":74855701,"body_markdown":"To my knowledge, SnakeYAML only supports [substitution of environment variables](https://bitbucket.org/snakeyaml/snakeyaml/wiki/Variable%20substitution), which is why what you want is not possible as far as I know. What you can do instead, of course, is simply use Spring&#39;s classes without setting up a full `ApplicationContext`.\r\n\r\nFor example, assuming your game config from above, you could use:\r\n\r\n```java\r\nfinal var loader = new YamlPropertySourceLoader();\r\nfinal var sources = loader.load(\r\n        &quot;games-config.yml&quot;,\r\n        new ClassPathResource(&quot;games-config.yml&quot;)\r\n);\r\nfinal var mutablePropertySources = new MutablePropertySources();\r\nsources.forEach(mutablePropertySources::addFirst);\r\n\r\nfinal var resolver = new PropertySourcesPropertyResolver(mutablePropertySources);\r\nresolver.setIgnoreUnresolvableNestedPlaceholders(true);\r\n\r\nSystem.out.println(resolver.getProperty(&quot;my-games-app.games[0].game-one.game-name&quot;));\r\nSystem.out.println(resolver.getProperty(&quot;my-games-app.games[0].game-one.game-location&quot;));\r\nSystem.out.println(resolver.getProperty(&quot;my-games-app.games[1].game-two.game-name&quot;));\r\nSystem.out.println(resolver.getProperty(&quot;my-games-app.games[1].game-two.game-location&quot;));\r\n```\r\n\r\nwhich outputs:\r\n\r\n```text\r\nfooone\r\nfoo/one\r\nfootwo\r\nfoo/two\r\n```\r\n\r\nIf you are actually interested in how Spring does it, a good starting point is the [source code](https://github.com/spring-projects/spring-framework/blob/e565d2cabb01539933195b0d1bc3b55992fb9c84/spring-context/src/main/java/org/springframework/context/support/PropertySourcesPlaceholderConfigurer.java) of the [`PropertySourcesPlaceholderConfigurer`](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/support/PropertySourcesPlaceholderConfigurer.html) class.","title":"Snake Yaml: How to load yaml file resolving property placeholders","body":"<p>To my knowledge, SnakeYAML only supports <a href=\"https://bitbucket.org/snakeyaml/snakeyaml/wiki/Variable%20substitution\" rel=\"nofollow noreferrer\">substitution of environment variables</a>, which is why what you want is not possible as far as I know. What you can do instead, of course, is simply use Spring's classes without setting up a full <code>ApplicationContext</code>.</p>\n<p>For example, assuming your game config from above, you could use:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final var loader = new YamlPropertySourceLoader();\nfinal var sources = loader.load(\n        &quot;games-config.yml&quot;,\n        new ClassPathResource(&quot;games-config.yml&quot;)\n);\nfinal var mutablePropertySources = new MutablePropertySources();\nsources.forEach(mutablePropertySources::addFirst);\n\nfinal var resolver = new PropertySourcesPropertyResolver(mutablePropertySources);\nresolver.setIgnoreUnresolvableNestedPlaceholders(true);\n\nSystem.out.println(resolver.getProperty(&quot;my-games-app.games[0].game-one.game-name&quot;));\nSystem.out.println(resolver.getProperty(&quot;my-games-app.games[0].game-one.game-location&quot;));\nSystem.out.println(resolver.getProperty(&quot;my-games-app.games[1].game-two.game-name&quot;));\nSystem.out.println(resolver.getProperty(&quot;my-games-app.games[1].game-two.game-location&quot;));\n</code></pre>\n<p>which outputs:</p>\n<pre><code>fooone\nfoo/one\nfootwo\nfoo/two\n</code></pre>\n<p>If you are actually interested in how Spring does it, a good starting point is the <a href=\"https://github.com/spring-projects/spring-framework/blob/e565d2cabb01539933195b0d1bc3b55992fb9c84/spring-context/src/main/java/org/springframework/context/support/PropertySourcesPlaceholderConfigurer.java\" rel=\"nofollow noreferrer\">source code</a> of the <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/support/PropertySourcesPlaceholderConfigurer.html\" rel=\"nofollow noreferrer\"><code>PropertySourcesPlaceholderConfigurer</code></a> class.</p>\n"}],"owner":{"account_id":1310169,"reputation":3813,"user_id":1258319,"accept_rate":81,"display_name":"Julian"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1448,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75032144,"answer_count":1,"score":1,"last_activity_date":1673014935,"creation_date":1671481925,"question_id":74855701,"body_markdown":"We have a spring boot application with configuration being driven from `application.yml` file. In this configuration file we use the feature of defining a property by referring to another property inside the same `application.yml` file:\r\n\r\n    my-games-app:\r\n      base-property: foo\r\n      games:\r\n        - game-one:\r\n            game-name: ${my-games-app.base-property}one\r\n            game-location: ${my-games-app.base-property}/one\r\n        - game-two:\r\n            game-name: ${my-games-app.base-property}two\r\n            game-location: ${my-games-app.base-property}/two\r\n\r\nAnd we have a `@ConfigurationProperties` bean loading `games` configuration:\r\n\r\n    @Configuration\r\n    @ConfigurationProperties(prefix = &quot;my-games-app.games&quot;)\r\n    public class GamesConfig {\r\n        private Map&lt;String, Game&gt; games;\r\n        ...\r\n    }\r\n\r\nUseless to say the above is just an example, in reality it is a very complex setup with `GamesConfig` bean being used as a constructor argument for many other beans inside our application:\r\n\r\n    @Component\r\n    public class GamesRunner {\r\n        private final GamesConfig gamesConfig;\r\n        ...\r\n    }\r\n\r\nEverything works as expected. The problem we have is related to testing the beans where `GamesConfig` is injected; in the above example `GamesRunner`. At the moment we use `@SpringBootTest` to get hold of the beans we want to test. This again, works OK but the main inconvenient is that the whole application needs to be started in order to access the `GamesConfig` bean. This means setting up a lot of infrastructure such as a Database a JMS message broker and a Kafka broker. This takes time and makes our CI builds longer to run which started to become a bit of an inconvenient. Because the beans we want to test don&#39;t need any other setup than having the `GamesConfig` constructor argument provided we would prefer to have unit tests in place rather than integration tests as they are much faster to run.\r\n\r\nIn other words, we want to be able to recreate `GamesConfig` by hand by parsing our `application.yml` with a test helper method. To do this we use [snakeyaml](https://github.com/snakeyaml) library:\r\n\r\n    public final class TestHelper {\r\n        public static GamesConfig getGamesConfig() {\r\n            var yaml = new Yaml();\r\n            var applicationYaml = (Map&lt;String, Object&gt;) yaml.load(readResourceAsString(&quot;application.yml&quot;);\r\n            return createGamesConfig(applicationYaml.get(&quot;games&quot;);\r\n       }\r\n       \r\n       private static GamesConfig createGamesConfig(Object config) {\r\n          // The config Object passed here is a `Map&lt;String, Map&lt;String, String&gt;&gt;`\r\n          // as defeined in our `games` entry in our `application.yml`.\r\n          // The issue is that game name and game locations are loaded exactly like \r\n          // configured without property place holders being resolved\r\n         return gamesConfig;\r\n       }\r\n    }\r\n\r\nWe resolved the issue by manually parsing the property placeholders and looking up their values in the `application.yml` file. Even if our own property placeholder implementation is quite generic, my feeling is that this extra work is not needed as it should be a basic expectation the library would have some specific set up to do this out of the box. Being very new to snakeyaml I hope someone else hit the same problem and knows how to do it.\r\n\r\nWe use snakeyaml because it just happened to be in the class path as a transitive dependency, we are open to any suggestions that would achieve the same thing.\r\n\r\nThank you in advance.  ","title":"Snake Yaml: How to load yaml file resolving property placeholders","body":"<p>We have a spring boot application with configuration being driven from <code>application.yml</code> file. In this configuration file we use the feature of defining a property by referring to another property inside the same <code>application.yml</code> file:</p>\n<pre><code>my-games-app:\n  base-property: foo\n  games:\n    - game-one:\n        game-name: ${my-games-app.base-property}one\n        game-location: ${my-games-app.base-property}/one\n    - game-two:\n        game-name: ${my-games-app.base-property}two\n        game-location: ${my-games-app.base-property}/two\n</code></pre>\n<p>And we have a <code>@ConfigurationProperties</code> bean loading <code>games</code> configuration:</p>\n<pre><code>@Configuration\n@ConfigurationProperties(prefix = &quot;my-games-app.games&quot;)\npublic class GamesConfig {\n    private Map&lt;String, Game&gt; games;\n    ...\n}\n</code></pre>\n<p>Useless to say the above is just an example, in reality it is a very complex setup with <code>GamesConfig</code> bean being used as a constructor argument for many other beans inside our application:</p>\n<pre><code>@Component\npublic class GamesRunner {\n    private final GamesConfig gamesConfig;\n    ...\n}\n</code></pre>\n<p>Everything works as expected. The problem we have is related to testing the beans where <code>GamesConfig</code> is injected; in the above example <code>GamesRunner</code>. At the moment we use <code>@SpringBootTest</code> to get hold of the beans we want to test. This again, works OK but the main inconvenient is that the whole application needs to be started in order to access the <code>GamesConfig</code> bean. This means setting up a lot of infrastructure such as a Database a JMS message broker and a Kafka broker. This takes time and makes our CI builds longer to run which started to become a bit of an inconvenient. Because the beans we want to test don't need any other setup than having the <code>GamesConfig</code> constructor argument provided we would prefer to have unit tests in place rather than integration tests as they are much faster to run.</p>\n<p>In other words, we want to be able to recreate <code>GamesConfig</code> by hand by parsing our <code>application.yml</code> with a test helper method. To do this we use <a href=\"https://github.com/snakeyaml\" rel=\"nofollow noreferrer\">snakeyaml</a> library:</p>\n<pre><code>public final class TestHelper {\n    public static GamesConfig getGamesConfig() {\n        var yaml = new Yaml();\n        var applicationYaml = (Map&lt;String, Object&gt;) yaml.load(readResourceAsString(&quot;application.yml&quot;);\n        return createGamesConfig(applicationYaml.get(&quot;games&quot;);\n   }\n   \n   private static GamesConfig createGamesConfig(Object config) {\n      // The config Object passed here is a `Map&lt;String, Map&lt;String, String&gt;&gt;`\n      // as defeined in our `games` entry in our `application.yml`.\n      // The issue is that game name and game locations are loaded exactly like \n      // configured without property place holders being resolved\n     return gamesConfig;\n   }\n}\n</code></pre>\n<p>We resolved the issue by manually parsing the property placeholders and looking up their values in the <code>application.yml</code> file. Even if our own property placeholder implementation is quite generic, my feeling is that this extra work is not needed as it should be a basic expectation the library would have some specific set up to do this out of the box. Being very new to snakeyaml I hope someone else hit the same problem and knows how to do it.</p>\n<p>We use snakeyaml because it just happened to be in the class path as a transitive dependency, we are open to any suggestions that would achieve the same thing.</p>\n<p>Thank you in advance.</p>\n"},{"tags":["java","kotlin","gradle","jar"],"comments":[{"owner":{"account_id":4623673,"reputation":6002,"user_id":4161471,"display_name":"aSemy"},"score":0,"creation_date":1672999469,"post_id":75029049,"comment_id":132403855,"body_markdown":"It&#39;s possible to create a &#39;far sources&#39; jar, but it could be difficult. Are you sure that&#39;s really want you want, or is this an [X-Y problem](https://meta.stackexchange.com/q/66377/262203)? Do you only want to include local project sources, or also sources from remote dependencies? It suspect it  would be much easier to [publish the projects](https://docs.gradle.org/7.6/userguide/publishing_maven.html) and use [`withSourcesJar()`](https://docs.gradle.org/7.6/userguide/java_plugin.html#sec:java-extension).","body":"It&#39;s possible to create a &#39;far sources&#39; jar, but it could be difficult. Are you sure that&#39;s really want you want, or is this an <a href=\"https://meta.stackexchange.com/q/66377/262203\">X-Y problem</a>? Do you only want to include local project sources, or also sources from remote dependencies? It suspect it  would be much easier to <a href=\"https://docs.gradle.org/7.6/userguide/publishing_maven.html\" rel=\"nofollow noreferrer\">publish the projects</a> and use <a href=\"https://docs.gradle.org/7.6/userguide/java_plugin.html#sec:java-extension\" rel=\"nofollow noreferrer\"><code>withSourcesJar()</code></a>."},{"owner":{"account_id":18697201,"reputation":147,"user_id":13727252,"display_name":"Dahl"},"score":0,"creation_date":1673000625,"post_id":75029049,"comment_id":132404206,"body_markdown":"@aSemy I will check out the anwer to my side question thanks. In this case i have all sources stored locally. Including all the sources of dependencies. (No remote dependencies). I have tried to publish projects some time ago. But i had some issues, [link](https://stackoverflow.com/questions/72409742/gradle-task-signmavenjavapublication-failed-because-it-has-no-configured-signat)","body":"@aSemy I will check out the anwer to my side question thanks. In this case i have all sources stored locally. Including all the sources of dependencies. (No remote dependencies). I have tried to publish projects some time ago. But i had some issues, <a href=\"https://stackoverflow.com/questions/72409742/gradle-task-signmavenjavapublication-failed-because-it-has-no-configured-signat\">link</a>"},{"owner":{"account_id":18697201,"reputation":147,"user_id":13727252,"display_name":"Dahl"},"score":0,"creation_date":1673000823,"post_id":75029049,"comment_id":132404268,"body_markdown":"@aSemy I want to pack all sources into one jar for simplicity. I have a library (my multi-project build) And the library has dependencies (all stored locally) Now i want to use the library in a new project. So i need the sources.","body":"@aSemy I want to pack all sources into one jar for simplicity. I have a library (my multi-project build) And the library has dependencies (all stored locally) Now i want to use the library in a new project. So i need the sources."},{"owner":{"account_id":18697201,"reputation":147,"user_id":13727252,"display_name":"Dahl"},"score":0,"creation_date":1673001309,"post_id":75029049,"comment_id":132404392,"body_markdown":"@aSemy so for my side question: [sourceSet](https://docs.gradle.org/current/dsl/org.gradle.api.tasks.SourceSet.html) is what i am looking for? I will read more into it. Thanks","body":"@aSemy so for my side question: <a href=\"https://docs.gradle.org/current/dsl/org.gradle.api.tasks.SourceSet.html\" rel=\"nofollow noreferrer\">sourceSet</a> is what i am looking for? I will read more into it. Thanks"},{"owner":{"account_id":18697201,"reputation":147,"user_id":13727252,"display_name":"Dahl"},"score":0,"creation_date":1673011891,"post_id":75029049,"comment_id":132407341,"body_markdown":"@aSemy i could ask it differently. If i have a sources jar file in a directory. Could i add that to the source files that i generate when running the &quot;sourcesJar&quot; task.","body":"@aSemy i could ask it differently. If i have a sources jar file in a directory. Could i add that to the source files that i generate when running the &quot;sourcesJar&quot; task."},{"owner":{"account_id":4623673,"reputation":6002,"user_id":4161471,"display_name":"aSemy"},"score":0,"creation_date":1673012195,"post_id":75029049,"comment_id":132407434,"body_markdown":"Sorry, I misunderstood your side question. Perhaps you should ask it in another question.","body":"Sorry, I misunderstood your side question. Perhaps you should ask it in another question."},{"owner":{"account_id":4623673,"reputation":6002,"user_id":4161471,"display_name":"aSemy"},"score":0,"creation_date":1673012259,"post_id":75029049,"comment_id":132407461,"body_markdown":"_Now i want to use the library in a new project. So i need the sources._ Sorry, I don&#39;t understand, you shouldn&#39;t need the sources to be able to use a project as a dependency.","body":"<i>Now i want to use the library in a new project. So i need the sources.</i> Sorry, I don&#39;t understand, you shouldn&#39;t need the sources to be able to use a project as a dependency."},{"owner":{"account_id":18697201,"reputation":147,"user_id":13727252,"display_name":"Dahl"},"score":0,"creation_date":1673012797,"post_id":75029049,"comment_id":132407655,"body_markdown":"@aSemy Maybe i am misunderstanding how it works. The reason why i want this, is to be able to see .java classes in the IDE. So when i select &quot;Choose sources...&quot; in the IDE i can select a single .jar with all the source files.","body":"@aSemy Maybe i am misunderstanding how it works. The reason why i want this, is to be able to see .java classes in the IDE. So when i select &quot;Choose sources...&quot; in the IDE i can select a single .jar with all the source files."},{"owner":{"account_id":18697201,"reputation":147,"user_id":13727252,"display_name":"Dahl"},"score":0,"creation_date":1673012893,"post_id":75029049,"comment_id":132407689,"body_markdown":"instead of selecting every single source .jar individually","body":"instead of selecting every single source .jar individually"},{"owner":{"account_id":18697201,"reputation":147,"user_id":13727252,"display_name":"Dahl"},"score":0,"creation_date":1673013050,"post_id":75029049,"comment_id":132407749,"body_markdown":"I create a fat jar of the library including all dependencies. So when i use this library i want a single source .jar of that library. The code i have written. And the the code of the library dependencies","body":"I create a fat jar of the library including all dependencies. So when i use this library i want a single source .jar of that library. The code i have written. And the the code of the library dependencies"},{"owner":{"account_id":18697201,"reputation":147,"user_id":13727252,"display_name":"Dahl"},"score":0,"creation_date":1673013788,"post_id":75029049,"comment_id":132408021,"body_markdown":"I will try to update the question to be more specific :)","body":"I will try to update the question to be more specific :)"},{"owner":{"account_id":4623673,"reputation":6002,"user_id":4161471,"display_name":"aSemy"},"score":0,"creation_date":1673090069,"post_id":75029049,"comment_id":132422336,"body_markdown":"Try taking a look at this example for aggregating JaCoCo reports: https://docs.gradle.org/7.3/samples/sample_jvm_multi_project_with_code_coverage.html. You should focus on the `transitiveSourcesElements` and `sourcesPath` Configurations. Use `java.withSourcesJar()`, so the Java Plugin will create a `sourcesJar` task - add the `sourcesPath` Configuration to this task the same way you added the `runtimeClasspath` to the `jar` task.","body":"Try taking a look at this example for aggregating JaCoCo reports: <a href=\"https://docs.gradle.org/7.3/samples/sample_jvm_multi_project_with_code_coverage.html\" rel=\"nofollow noreferrer\">docs.gradle.org/7.3/samples/&hellip;</a>. You should focus on the <code>transitiveSourcesElements</code> and <code>sourcesPath</code> Configurations. Use <code>java.withSourcesJar()</code>, so the Java Plugin will create a <code>sourcesJar</code> task - add the <code>sourcesPath</code> Configuration to this task the same way you added the <code>runtimeClasspath</code> to the <code>jar</code> task."}],"owner":{"account_id":18697201,"reputation":147,"user_id":13727252,"display_name":"Dahl"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1673014757,"creation_date":1672997053,"question_id":75029049,"body_markdown":"I have a multi-project gradle build, using kotlin as build script language.\r\n\r\nI can build a &quot;fat&quot; jar containing all project dependencies (.class files)\r\nI am not sure how it works. But it goes through all dependencies and exclude duplicate packages.\r\n\r\n```\r\ntasks.jar {\r\n    //manifest.attributes[&quot;Main-Class&quot;] = &quot;com.example.MyMainClass&quot;\r\n    val dependencies = configurations\r\n        .runtimeClasspath\r\n        .get()\r\n        .map(::zipTree) // OR .map { zipTree(it) }\r\n    from(dependencies)\r\n    duplicatesStrategy = DuplicatesStrategy.EXCLUDE\r\n}\r\n```\r\n\r\n**Is there some equivalent way to create a sources jar. Including the source code\r\nof all dependencies?**\r\n\r\nSide question: Can you declare sources like dependencies?\r\n\r\n```\r\ndependencies {\r\n    implementation(project(&quot;:common&quot;))\r\n    implementation(files(&quot;../libs/somejar1.jar&quot;))\r\n    implementation(files(&quot;../libs/somejar2.jar&quot;))\r\n}\r\n\r\nsources {\r\n    ?\r\n}\r\n\r\n```\r\n\r\n**Edit**\r\n\r\nI have written a library. The library has code I have written (multiple modules). The modules have dependencies. (Could be other modules within the project, and/or other libraries) I have the other libraries&#39; as jar files stored locally together with the source code of those libraries.\r\n\r\nI am able to pack all the code I have written together with my codes dependencies into a single fat jar.\r\n\r\nIt would be nice to also be able to pack all source files (including the source files of the dependencies) into a &quot;fat sources jar&quot;.\r\n\r\nThat way, when I want to use my library in other projects. I can have 2 jars. One with all the .class files and one sources jar with all the .java files.\r\n\r\n","title":"Creating a sources jar that also include the source code of project dependencies","body":"<p>I have a multi-project gradle build, using kotlin as build script language.</p>\n<p>I can build a &quot;fat&quot; jar containing all project dependencies (.class files)\nI am not sure how it works. But it goes through all dependencies and exclude duplicate packages.</p>\n<pre><code>tasks.jar {\n    //manifest.attributes[&quot;Main-Class&quot;] = &quot;com.example.MyMainClass&quot;\n    val dependencies = configurations\n        .runtimeClasspath\n        .get()\n        .map(::zipTree) // OR .map { zipTree(it) }\n    from(dependencies)\n    duplicatesStrategy = DuplicatesStrategy.EXCLUDE\n}\n</code></pre>\n<p><strong>Is there some equivalent way to create a sources jar. Including the source code\nof all dependencies?</strong></p>\n<p>Side question: Can you declare sources like dependencies?</p>\n<pre><code>dependencies {\n    implementation(project(&quot;:common&quot;))\n    implementation(files(&quot;../libs/somejar1.jar&quot;))\n    implementation(files(&quot;../libs/somejar2.jar&quot;))\n}\n\nsources {\n    ?\n}\n\n</code></pre>\n<p><strong>Edit</strong></p>\n<p>I have written a library. The library has code I have written (multiple modules). The modules have dependencies. (Could be other modules within the project, and/or other libraries) I have the other libraries' as jar files stored locally together with the source code of those libraries.</p>\n<p>I am able to pack all the code I have written together with my codes dependencies into a single fat jar.</p>\n<p>It would be nice to also be able to pack all source files (including the source files of the dependencies) into a &quot;fat sources jar&quot;.</p>\n<p>That way, when I want to use my library in other projects. I can have 2 jars. One with all the .class files and one sources jar with all the .java files.</p>\n"},{"tags":["java","selenium","google-chrome","session-cookies","incognito-mode"],"answers":[{"tags":[],"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673014283,"creation_date":1673014283,"answer_id":75032025,"question_id":75031979,"body_markdown":"In case you want to open a new window in incognito mode i.e. without cookies you can simply open a regular new Selenium driver new window and the to clear the cookies with the following command:\r\n```java\r\ndriver.manage().deleteAllCookies();\r\n```","title":"How to open incognito window from current instance?","body":"<p>In case you want to open a new window in incognito mode i.e. without cookies you can simply open a regular new Selenium driver new window and the to clear the cookies with the following command:</p>\n<pre class=\"lang-java prettyprint-override\"><code>driver.manage().deleteAllCookies();\n</code></pre>\n"}],"owner":{"account_id":27453778,"reputation":1,"user_id":20945560,"display_name":"Narandar Darna"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673014351,"creation_date":1673014007,"question_id":75031979,"body_markdown":"I have a situation where I need to open a link incognito window from another url.   \r\nI have tried by using action class to perform control shift n key events but it&#39;s not working.   \r\n\r\nRobot class working fine but I&#39;m looking for other alternative.  \r\n\r\n```java\r\nActions act = new Actions(driver);\r\n\r\nact. KeyDown(Keys.cONTROL);\r\n\r\nact.keyDown(Keys.SHIFT);\r\n\r\nact.keyDown(&quot;n&quot;).build().  perform ();\r\n```\r\nBut it&#39;s not working  ","title":"How to open incognito window from current instance?","body":"<p>I have a situation where I need to open a link incognito window from another url.<br />\nI have tried by using action class to perform control shift n key events but it's not working.</p>\n<p>Robot class working fine but I'm looking for other alternative.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Actions act = new Actions(driver);\n\nact. KeyDown(Keys.cONTROL);\n\nact.keyDown(Keys.SHIFT);\n\nact.keyDown(&quot;n&quot;).build().  perform ();\n</code></pre>\n<p>But it's not working</p>\n"},{"tags":["java","netbeans"],"answers":[{"comments":[{"owner":{"account_id":10978,"reputation":80505,"user_id":20984,"accept_rate":97,"display_name":"Luc Touraille"},"score":1,"creation_date":1228922364,"post_id":356388,"comment_id":187845,"body_markdown":"Upvote for making me discover FindBugs. However, a simple test shows that it correctly detects unused class fields, but not unused local variables.","body":"Upvote for making me discover FindBugs. However, a simple test shows that it correctly detects unused class fields, but not unused local variables."},{"owner":{"account_id":695155,"reputation":26358,"user_id":274677,"accept_rate":81,"display_name":"Marcus Junius Brutus"},"score":0,"creation_date":1418223521,"post_id":356388,"comment_id":43252890,"body_markdown":"3.0.0 won&#39;t detect unused method parameters or unused local variables","body":"3.0.0 won&#39;t detect unused method parameters or unused local variables"}],"tags":[],"owner":{"account_id":11013,"reputation":12295,"user_id":21063,"accept_rate":47,"display_name":"Shawn Vader"},"comment_count":2,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1228921728,"creation_date":1228921728,"answer_id":356388,"question_id":356345,"body_markdown":"You could run something like FindBugs on it.\r\n\r\n[FindBugs][1]\r\n\r\n\r\n  [1]: http://findbugs.sourceforge.net/\r\n\r\nLooking at the bug list it has \r\n\r\nUuF: Unused field (UUF_UNUSED_FIELD)\r\nThis field is never used.  Consider removing it from the class.\r\n\r\nYou could filter on just this, but it is a good idea to run this on all code all the time, it is amazing what it finds.\r\n\r\n","title":"Find all unused variable","body":"<p>You could run something like FindBugs on it.</p>\n\n<p><a href=\"http://findbugs.sourceforge.net/\" rel=\"noreferrer\">FindBugs</a></p>\n\n<p>Looking at the bug list it has </p>\n\n<p>UuF: Unused field (UUF_UNUSED_FIELD)\nThis field is never used.  Consider removing it from the class.</p>\n\n<p>You could filter on just this, but it is a good idea to run this on all code all the time, it is amazing what it finds.</p>\n"},{"tags":[],"owner":{"account_id":16527,"reputation":8987,"user_id":36093,"accept_rate":100,"display_name":"Karl"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1228922250,"creation_date":1228922250,"answer_id":356424,"question_id":356345,"body_markdown":"In Eclipse, that gray squiggly line is a yellow squiggly line called a Warning.  Then the warning is propagated up to the package level, and up to the project level (such that your project is almost **always** underlined in yellow with a warning icon).  Anyway it really helps you see which source files have warnings in them.\r\n\r\nThen your task is to solve every warning in the entire project, and you will have caught the unhandled variables.  \r\n\r\nI assume netbeans has the same feature somewhere.","title":"Find all unused variable","body":"<p>In Eclipse, that gray squiggly line is a yellow squiggly line called a Warning.  Then the warning is propagated up to the package level, and up to the project level (such that your project is almost <strong>always</strong> underlined in yellow with a warning icon).  Anyway it really helps you see which source files have warnings in them.</p>\n\n<p>Then your task is to solve every warning in the entire project, and you will have caught the unhandled variables.  </p>\n\n<p>I assume netbeans has the same feature somewhere.</p>\n"},{"tags":[],"owner":{"account_id":18182,"reputation":33673,"user_id":41423,"accept_rate":100,"display_name":"Nick Holt"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1228922970,"creation_date":1228922970,"answer_id":356477,"question_id":356345,"body_markdown":"The compiler will warn about unused variables giving you your list.  \r\n\r\nUnused method variables will be removed by the compiler but unused member variables remain, which depending on the state of your codebase may make this a cosmetic problem that can be handled as and when each file is modified rather than a conserted effort to remove all unused variables in one go.\r\n\r\nSaying that, I generally like my builds to run with no warnings, so that when I genuinely break something I notice the warning.  Maybe this is the clean-up you are looking for ;-)","title":"Find all unused variable","body":"<p>The compiler will warn about unused variables giving you your list.  </p>\n\n<p>Unused method variables will be removed by the compiler but unused member variables remain, which depending on the state of your codebase may make this a cosmetic problem that can be handled as and when each file is modified rather than a conserted effort to remove all unused variables in one go.</p>\n\n<p>Saying that, I generally like my builds to run with no warnings, so that when I genuinely break something I notice the warning.  Maybe this is the clean-up you are looking for ;-)</p>\n"},{"tags":[],"owner":{"account_id":970,"reputation":399857,"user_id":1288,"accept_rate":93,"display_name":"Bill the Lizard"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1673014329,"creation_date":1228923763,"answer_id":356517,"question_id":356345,"body_markdown":"[PMD][1] will find unused local variables for you (among many other things).  There&#39;s a NetBeans plugin that I give installation instructions for [here][2] (Warning: Shameless Plug, that links to my blog).\r\n\r\n\r\n  [1]: https://pmd.github.io/\r\n  [2]: https://billthelizard.blogspot.com/2008/11/netbeans-pmd-plugin.html","title":"Find all unused variable","body":"<p><a href=\"https://pmd.github.io/\" rel=\"nofollow noreferrer\">PMD</a> will find unused local variables for you (among many other things).  There's a NetBeans plugin that I give installation instructions for <a href=\"https://billthelizard.blogspot.com/2008/11/netbeans-pmd-plugin.html\" rel=\"nofollow noreferrer\">here</a> (Warning: Shameless Plug, that links to my blog).</p>\n"}],"owner":{"account_id":5922,"reputation":1711,"user_id":9774,"accept_rate":67,"display_name":"Dan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9810,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":4,"score":9,"last_activity_date":1673014329,"creation_date":1228920894,"question_id":356345,"body_markdown":"Normally it&#39;s easy to see unused variables in Netbeans, just a grey squiggly line. \r\n\r\nBut how would I find all of these unused variables in my project or of a single class?\r\n\r\n***Reason:*** I&#39;m debugging a code base which had lots of copy and paste, but it wasn&#39;t done carefully.  There&#39;s many bug of not replacing with the right variable after copy and paste.","title":"Find all unused variable","body":"<p>Normally it's easy to see unused variables in Netbeans, just a grey squiggly line. </p>\n\n<p>But how would I find all of these unused variables in my project or of a single class?</p>\n\n<p><strong><em>Reason:</em></strong> I'm debugging a code base which had lots of copy and paste, but it wasn't done carefully.  There's many bug of not replacing with the right variable after copy and paste.</p>\n"},{"tags":["java","spring-boot","thread-safety"],"owner":{"account_id":7638596,"reputation":67,"user_id":5791432,"accept_rate":75,"display_name":"sascha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673014118,"creation_date":1673014118,"question_id":75031996,"body_markdown":"I wan`t to use following library in Spring Boot: https://github.com/hbci4j/hbci4java.\r\n\r\nUnfortunately this library is not that nice, so depending on the [Documentation][1] (German) I should run this Library inside a ThreadGroup (Because of Configuration)\r\n\r\nTherefore I would like to know how to run an @Async Method from SpringBoot inside a ThreadGroup (and I need to change the ThreadGroup Name)\r\n\r\n\r\n\r\n  [1]: https://github.com/hbci4j/hbci4java/blob/master/misc/README.MultiThreading.AppServer","title":"Using ThreadGroups with Spring Boot","body":"<p>I wan`t to use following library in Spring Boot: <a href=\"https://github.com/hbci4j/hbci4java\" rel=\"nofollow noreferrer\">https://github.com/hbci4j/hbci4java</a>.</p>\n<p>Unfortunately this library is not that nice, so depending on the <a href=\"https://github.com/hbci4j/hbci4java/blob/master/misc/README.MultiThreading.AppServer\" rel=\"nofollow noreferrer\">Documentation</a> (German) I should run this Library inside a ThreadGroup (Because of Configuration)</p>\n<p>Therefore I would like to know how to run an @Async Method from SpringBoot inside a ThreadGroup (and I need to change the ThreadGroup Name)</p>\n"},{"tags":["java","object","instanceof"],"comments":[{"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":0,"creation_date":1429128472,"post_id":3920928,"comment_id":47459258,"body_markdown":"Your given instructions have a faulty hint: see http://stackoverflow.com/questions/596462/any-reason-to-prefer-getclass-over-instanceof-when-generating-equals","body":"Your given instructions have a faulty hint: see <a href=\"http://stackoverflow.com/questions/596462/any-reason-to-prefer-getclass-over-instanceof-when-generating-equals\" title=\"any reason to prefer getclass over instanceof when generating equals\">stackoverflow.com/questions/596462/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":208458,"reputation":31541,"user_id":458960,"accept_rate":84,"display_name":"Snowman"},"score":0,"creation_date":1286947821,"post_id":3920939,"comment_id":4181798,"body_markdown":"So if it is of type Position, why do I have to cast it into type Position?","body":"So if it is of type Position, why do I have to cast it into type Position?"}],"tags":[],"owner":{"account_id":18600,"reputation":39591,"user_id":42769,"accept_rate":95,"display_name":"Adeel Ansari"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1286953997,"creation_date":1286946577,"answer_id":3920939,"question_id":3920928,"body_markdown":"He clearly said create an `equals()` method, and you got it right here as well. But even after all this you created a method named `instanceOf()`. Why?\r\n\r\nMoreover, you may get a [ClassCastException][1] on this line, in case some other type of object is passed.\r\n\r\n        if ((Position)a instanceof Position)\r\n\r\nWhich means, precisely, that you should only cast the `object` to `Position`, after making sure that the `object` passed is of type `Position`. Which means now its good to go further with comparison. If its not of type `Position` in the first place, then why should you bother comparing it further. Because it can never be equal. I hope you are getting my point.\r\n\r\n**[Edited to answer the question in comment]**\r\n\r\nWell, the actual instance should be of type Position. Once we know that its of type Position using instanceof operator, we know its safe to cast it to type Position from type Object. Now the question is why we need to cast? Because initially the instance was of type Object, and we were not sure about the actual type. You might already know that in Java you can assign any type to Object type, because Object is a parent of every class in Java. Hence, before applying instanceof we were not sure about the type of instance.\r\n\t\r\nIn case, you don&#39;t cast it, you will never be able to access its properties, namely, x, y, and id. You can try accessing any of these on actual object without casting. You will know you can&#39;t. Hence, you can&#39;t compare those either. I hope, this made it clear.\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/lang/ClassCastException.html","title":"Java objects instanceof","body":"<p>He clearly said create an <code>equals()</code> method, and you got it right here as well. But even after all this you created a method named <code>instanceOf()</code>. Why?</p>\n\n<p>Moreover, you may get a <a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/ClassCastException.html\" rel=\"nofollow\">ClassCastException</a> on this line, in case some other type of object is passed.</p>\n\n<pre><code>    if ((Position)a instanceof Position)\n</code></pre>\n\n<p>Which means, precisely, that you should only cast the <code>object</code> to <code>Position</code>, after making sure that the <code>object</code> passed is of type <code>Position</code>. Which means now its good to go further with comparison. If its not of type <code>Position</code> in the first place, then why should you bother comparing it further. Because it can never be equal. I hope you are getting my point.</p>\n\n<p><strong>[Edited to answer the question in comment]</strong></p>\n\n<p>Well, the actual instance should be of type Position. Once we know that its of type Position using instanceof operator, we know its safe to cast it to type Position from type Object. Now the question is why we need to cast? Because initially the instance was of type Object, and we were not sure about the actual type. You might already know that in Java you can assign any type to Object type, because Object is a parent of every class in Java. Hence, before applying instanceof we were not sure about the type of instance.</p>\n\n<p>In case, you don't cast it, you will never be able to access its properties, namely, x, y, and id. You can try accessing any of these on actual object without casting. You will know you can't. Hence, you can't compare those either. I hope, this made it clear.</p>\n"},{"comments":[{"owner":{"account_id":208458,"reputation":31541,"user_id":458960,"accept_rate":84,"display_name":"Snowman"},"score":0,"creation_date":1286947030,"post_id":3920945,"comment_id":4181740,"body_markdown":"Hmm ok so the only thing I&#39;m missing is this line in their example: Car c = (Car) o; How would I implement this in my case?","body":"Hmm ok so the only thing I&#39;m missing is this line in their example: Car c = (Car) o; How would I implement this in my case?"},{"owner":{"account_id":208458,"reputation":31541,"user_id":458960,"accept_rate":84,"display_name":"Snowman"},"score":0,"creation_date":1286947984,"post_id":3920945,"comment_id":4181808,"body_markdown":"Ok your second link helped. However, I&#39;m confused about this line:if(this == obj)....what exactly does that do, whats &#39;this&#39; in this case?","body":"Ok your second link helped. However, I&#39;m confused about this line:if(this == obj)....what exactly does that do, whats &#39;this&#39; in this case?"},{"owner":{"account_id":32045,"reputation":26603,"user_id":88442,"accept_rate":54,"display_name":"J-16 SDiZ"},"score":0,"creation_date":1286953338,"post_id":3920945,"comment_id":4182259,"body_markdown":"@fprime:  the `if(this == obj)` is just an optimization. it still works without this line.","body":"@fprime:  the <code>if(this == obj)</code> is just an optimization. it still works without this line."},{"owner":{"account_id":22194,"reputation":18092,"user_id":54506,"accept_rate":78,"display_name":"Jayan"},"score":0,"creation_date":1286986024,"post_id":3920945,"comment_id":4187550,"body_markdown":"You need to override equals - and - hashCode() .. Since this is homework, next problem may related to hashCode() :) â StackTrace 9 hours ago","body":"You need to override equals - and - hashCode() .. Since this is homework, next problem may related to hashCode() :) â StackTrace 9 hours ago"}],"tags":[],"owner":{"account_id":32045,"reputation":26603,"user_id":88442,"accept_rate":54,"display_name":"J-16 SDiZ"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673013670,"creation_date":1286946685,"answer_id":3920945,"question_id":3920928,"body_markdown":"As this is a homework question, I won&#39;t give a detail answer. \r\nYou have to implement a `equals()` method, not a `instanceOf()` method.  I think this link  help:\r\n\r\n - http://www.ibiblio.org/java/course/week4/37.html\r\n - http://www.billthelizard.blogspot.com/2008/08/implementing-equals-in-java.html\r\n\r\nThe code example in them should be sufficient. Ask again if you need more hint.","title":"Java objects instanceof","body":"<p>As this is a homework question, I won't give a detail answer.\nYou have to implement a <code>equals()</code> method, not a <code>instanceOf()</code> method.  I think this link  help:</p>\n<ul>\n<li><a href=\"http://www.ibiblio.org/java/course/week4/37.html\" rel=\"nofollow noreferrer\">http://www.ibiblio.org/java/course/week4/37.html</a></li>\n<li><a href=\"http://www.billthelizard.blogspot.com/2008/08/implementing-equals-in-java.html\" rel=\"nofollow noreferrer\">http://www.billthelizard.blogspot.com/2008/08/implementing-equals-in-java.html</a></li>\n</ul>\n<p>The code example in them should be sufficient. Ask again if you need more hint.</p>\n"},{"tags":[],"owner":{"account_id":3086013,"reputation":13,"user_id":2613121,"display_name":"Novamartin"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1488257688,"creation_date":1418264690,"answer_id":27414353,"question_id":3920928,"body_markdown":"Even though the `Object a` is of a `Position` type, but it is defined as `Object` type. In order to access the properties of `Position a`, we have to cast `Object a` to `Position p` using \r\n\r\n    Position p = (Position)a; \r\n","title":"Java objects instanceof","body":"<p>Even though the <code>Object a</code> is of a <code>Position</code> type, but it is defined as <code>Object</code> type. In order to access the properties of <code>Position a</code>, we have to cast <code>Object a</code> to <code>Position p</code> using </p>\n\n<pre><code>Position p = (Position)a; \n</code></pre>\n"}],"owner":{"account_id":208458,"reputation":31541,"user_id":458960,"accept_rate":84,"display_name":"Snowman"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2624,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":3920945,"answer_count":3,"score":0,"last_activity_date":1673013670,"creation_date":1286946447,"question_id":3920928,"body_markdown":"The instructions say:\r\nCreate an equals method that takes an object reference and returns true if the given object equals this object.\r\n * Hint: You&#39;ll need &#39;instanceof&#39; and cast to a (Position)\r\n\r\nI have:\r\n\r\n    class Position {\r\n    \t\r\n    \tprivate double x,y;\r\n    \tprivate int id;\r\n    \r\n    public boolean instanceOf(Object a)\r\n    \t{\r\n    \t\tboolean isInstance;\r\n    \t\tif ((Position)a instanceof Position)\r\n    \t\t\tisInstance=true;\r\n    \t\telse\r\n    \t\t\tisInstance=false;\r\n    \t\treturn isInstance;\r\n    \t}\r\n\r\nBut I&#39;m doing it wrong, and I dont know what my problem is. I&#39;m new to objects so this is kind of confusing me..","title":"Java objects instanceof","body":"<p>The instructions say:\nCreate an equals method that takes an object reference and returns true if the given object equals this object.\n * Hint: You'll need 'instanceof' and cast to a (Position)</p>\n\n<p>I have:</p>\n\n<pre><code>class Position {\n\n    private double x,y;\n    private int id;\n\npublic boolean instanceOf(Object a)\n    {\n        boolean isInstance;\n        if ((Position)a instanceof Position)\n            isInstance=true;\n        else\n            isInstance=false;\n        return isInstance;\n    }\n</code></pre>\n\n<p>But I'm doing it wrong, and I dont know what my problem is. I'm new to objects so this is kind of confusing me..</p>\n"},{"tags":["java","object","hash","equality"],"answers":[{"comments":[{"owner":{"account_id":54362,"reputation":11938,"user_id":162634,"accept_rate":62,"display_name":"Victor Sorokin"},"score":3,"creation_date":1333457804,"post_id":9993714,"comment_id":12772305,"body_markdown":"This needed only if you going to sort objects. If you just need to have dictionary of such objects, you need just proper `hashCode()` and `equals()`","body":"This needed only if you going to sort objects. If you just need to have dictionary of such objects, you need just proper <code>hashCode()</code> and <code>equals()</code>"}],"tags":[],"owner":{"account_id":368385,"reputation":13915,"user_id":715171,"accept_rate":95,"display_name":"talnicolas"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1333457714,"creation_date":1333457714,"answer_id":9993714,"question_id":9993660,"body_markdown":"You just need your object to implement the `Comparable` [interface][1] and code your logic in the `compareTo` method. Here&#39;s a good [link][2] to help you achieve that.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/lang/Comparable.html\r\n  [2]: http://docs.oracle.com/javase/tutorial/collections/interfaces/order.html","title":"Finding same objects in Java","body":"<p>You just need your object to implement the <code>Comparable</code> <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/Comparable.html\" rel=\"nofollow\">interface</a> and code your logic in the <code>compareTo</code> method. Here's a good <a href=\"http://docs.oracle.com/javase/tutorial/collections/interfaces/order.html\" rel=\"nofollow\">link</a> to help you achieve that.</p>\n"},{"tags":[],"owner":{"account_id":97818,"reputation":114824,"user_id":265143,"accept_rate":72,"display_name":"P&#233;ter T&#246;r&#246;k"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673013561,"creation_date":1333457886,"answer_id":9993756,"question_id":9993660,"body_markdown":"Just compare their area first in `equals` (after the `==` and type check of course), and return `false` if these differ. If the areas equal, go on and compare the sets.\r\n\r\nFor implementing `equals` (and `hashCode`) in general, here is [a relevant thread][1] and [a good article][2] (including several further references).\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/27581/overriding-equals-and-hashcode-in-java\r\n  [2]: http://www.billthelizard.blogspot.com/2008/08/implementing-equals-in-java.html","title":"Finding same objects in Java","body":"<p>Just compare their area first in <code>equals</code> (after the <code>==</code> and type check of course), and return <code>false</code> if these differ. If the areas equal, go on and compare the sets.</p>\n<p>For implementing <code>equals</code> (and <code>hashCode</code>) in general, here is <a href=\"https://stackoverflow.com/questions/27581/overriding-equals-and-hashcode-in-java\">a relevant thread</a> and <a href=\"http://www.billthelizard.blogspot.com/2008/08/implementing-equals-in-java.html\" rel=\"nofollow noreferrer\">a good article</a> (including several further references).</p>\n"},{"tags":[],"owner":{"account_id":1029088,"reputation":31784,"user_id":1037767,"display_name":"Alexander Pavlov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1333458003,"creation_date":1333458003,"answer_id":9993800,"question_id":9993660,"body_markdown":"A rule of thumb is that you should compare all relevant fields in your `equals()` implementation (fastest first, so compare your `area`s up front, then the integer sets) and use THE SAME fields in your `hashCode()`. If in doubt, use Eclipse&#39;s `Source - Generate hashCode() and equals()...` feature (and then fix the `equals()` code to compare the `area`s first.)","title":"Finding same objects in Java","body":"<p>A rule of thumb is that you should compare all relevant fields in your <code>equals()</code> implementation (fastest first, so compare your <code>area</code>s up front, then the integer sets) and use THE SAME fields in your <code>hashCode()</code>. If in doubt, use Eclipse's <code>Source - Generate hashCode() and equals()...</code> feature (and then fix the <code>equals()</code> code to compare the <code>area</code>s first.)</p>\n"},{"tags":[],"owner":{"account_id":54362,"reputation":11938,"user_id":162634,"accept_rate":62,"display_name":"Victor Sorokin"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1333458070,"creation_date":1333458070,"answer_id":9993817,"question_id":9993660,"body_markdown":"Here&#39;s sample pair of `hashCode\\equals` generated by IDE:\r\n\r\n\r\n    class Sample  {\r\n        final int area;\r\n        final Set&lt;Integer&gt; someData;\r\n    \r\n        @Override\r\n        public boolean equals(Object o) {\r\n            if (this == o) return true;\r\n            if (o == null || getClass() != o.getClass()) return false;\r\n    \r\n            Sample sample = (Sample) o;\r\n    \r\n            if (area != sample.area) return false;\r\n            if (!someData.equals(sample.someData)) return false;\r\n    \r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public int hashCode() {\r\n            int result = area;\r\n            result = 31 * result + someData.hashCode();\r\n            return result;\r\n        }\r\n    }\r\n\r\nThis code assumes `someData` can&#39;t be null -- to simplify things. You can see that equality of types is checked at first, then `area` equality is checked and then equality of `Set&lt;Integer&gt;` is checked. Note that built-in `equals` of `Set` is used in this -- so you have re-usage of that method. This is idiomatic way to test compound types for equality.","title":"Finding same objects in Java","body":"<p>Here's sample pair of <code>hashCode\\equals</code> generated by IDE:</p>\n\n<pre><code>class Sample  {\n    final int area;\n    final Set&lt;Integer&gt; someData;\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n\n        Sample sample = (Sample) o;\n\n        if (area != sample.area) return false;\n        if (!someData.equals(sample.someData)) return false;\n\n        return true;\n    }\n\n    @Override\n    public int hashCode() {\n        int result = area;\n        result = 31 * result + someData.hashCode();\n        return result;\n    }\n}\n</code></pre>\n\n<p>This code assumes <code>someData</code> can't be null -- to simplify things. You can see that equality of types is checked at first, then <code>area</code> equality is checked and then equality of <code>Set&lt;Integer&gt;</code> is checked. Note that built-in <code>equals</code> of <code>Set</code> is used in this -- so you have re-usage of that method. This is idiomatic way to test compound types for equality.</p>\n"}],"owner":{"account_id":775122,"reputation":543,"user_id":822692,"accept_rate":48,"display_name":"ilija"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":9993817,"answer_count":4,"score":-1,"last_activity_date":1673013561,"creation_date":1333457527,"question_id":9993660,"body_markdown":"I produce a bunch of objects in Java. Each object has attribute area and a set of integers. I want to store those objects for example in a map(keys should be integers in a growing order). Two objects are the same if their area is equal and their sets are the same. \r\n\r\nIf two objects don&#39;t have the same area then there is no need for me to check whether their sets are the same.\r\n\r\nWhat is the best practice for implementing this in Java? How should I compose hash and equal functions? ","title":"Finding same objects in Java","body":"<p>I produce a bunch of objects in Java. Each object has attribute area and a set of integers. I want to store those objects for example in a map(keys should be integers in a growing order). Two objects are the same if their area is equal and their sets are the same. </p>\n\n<p>If two objects don't have the same area then there is no need for me to check whether their sets are the same.</p>\n\n<p>What is the best practice for implementing this in Java? How should I compose hash and equal functions? </p>\n"},{"tags":["java","gwt","java-time"],"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1673185169,"post_id":75031893,"comment_id":132436718,"body_markdown":"Related: [GWT: use DateTimeFormat on client and SimpleDateFormat on server](https://stackoverflow.com/questions/10284564/gwt-use-datetimeformat-on-client-and-simpledateformat-on-server). Search for more.","body":"Related: <a href=\"https://stackoverflow.com/questions/10284564/gwt-use-datetimeformat-on-client-and-simpledateformat-on-server\">GWT: use DateTimeFormat on client and SimpleDateFormat on server</a>. Search for more."}],"owner":{"account_id":110000,"reputation":4107,"user_id":291253,"accept_rate":37,"display_name":"lm."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673013507,"creation_date":1673013507,"question_id":75031893,"body_markdown":"I have following issue.\r\nOn client side ( GWT ) I have function\r\n\r\n    String getFormattedDateFromServer(Date dateFromServer) \r\n\r\n \r\nwhich should get date from server in UTC time and return formatted date in client local time\r\n\r\nIt was implemented as following:\r\n\r\n    public static String getFormattedDateFromServer(Date dateFromServer) {\r\n            int offset = new Date().getTimezoneOffset();\r\n            TimeZone localTimeZone = TimeZone.createTimeZone(offset);\r\n            return DateTimeFormat.getFormat(&quot;MM/dd/yyyy hh:mm&quot;).format(dateFromServer, localTimeZone);\r\n        }\r\n\r\nWhen running on client in GMT+2 timezone on date 04/05/2020 00:00\r\nit was expected 04/05/2020 02:00. But I am getting 04/05/2020 00:00. \r\nAs I understand this is because on client side date 04/05/2020 00:00 considered already in local time (i.e. GMT+2) .For  server side as I see in other posts it can be see via SimpleDateFormat class and manualy set timezon ( like [here][1]  )   \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/2891361/how-to-set-time-zone-of-a-java-util-date\r\n\r\nBut SimpleDateFormat cannot be used for GWT. The question is how can it be done for GWT ? Or there are better solutions ? Thanks in advance","title":"Issue with convert datetime from UTC to local in GWT","body":"<p>I have following issue.\nOn client side ( GWT ) I have function</p>\n<pre><code>String getFormattedDateFromServer(Date dateFromServer) \n</code></pre>\n<p>which should get date from server in UTC time and return formatted date in client local time</p>\n<p>It was implemented as following:</p>\n<pre><code>public static String getFormattedDateFromServer(Date dateFromServer) {\n        int offset = new Date().getTimezoneOffset();\n        TimeZone localTimeZone = TimeZone.createTimeZone(offset);\n        return DateTimeFormat.getFormat(&quot;MM/dd/yyyy hh:mm&quot;).format(dateFromServer, localTimeZone);\n    }\n</code></pre>\n<p>When running on client in GMT+2 timezone on date 04/05/2020 00:00\nit was expected 04/05/2020 02:00. But I am getting 04/05/2020 00:00.\nAs I understand this is because on client side date 04/05/2020 00:00 considered already in local time (i.e. GMT+2) .For  server side as I see in other posts it can be see via SimpleDateFormat class and manualy set timezon ( like <a href=\"https://stackoverflow.com/questions/2891361/how-to-set-time-zone-of-a-java-util-date\">here</a>  )</p>\n<p>But SimpleDateFormat cannot be used for GWT. The question is how can it be done for GWT ? Or there are better solutions ? Thanks in advance</p>\n"},{"tags":["java","eclipse","maven"],"comments":[{"owner":{"account_id":3142246,"reputation":2632,"user_id":2657515,"accept_rate":75,"display_name":"JonathanDavidArndt"},"score":0,"creation_date":1672942739,"post_id":75022377,"comment_id":132392346,"body_markdown":"Is this actually Richard Feynman?","body":"Is this actually Richard Feynman?"},{"owner":{"account_id":7298037,"reputation":500,"user_id":10660307,"display_name":" RichardFeynman"},"score":1,"creation_date":1672947466,"post_id":75022377,"comment_id":132393703,"body_markdown":"@JonathanDavidArndt Mr. Feynman? Surely You&#39;re Joking","body":"@JonathanDavidArndt Mr. Feynman? Surely You&#39;re Joking"},{"owner":{"account_id":3142246,"reputation":2632,"user_id":2657515,"accept_rate":75,"display_name":"JonathanDavidArndt"},"score":1,"creation_date":1672954316,"post_id":75022377,"comment_id":132395720,"body_markdown":"YESSSSS! Love it","body":"YESSSSS! Love it"}],"answers":[{"comments":[{"owner":{"account_id":7298037,"reputation":500,"user_id":10660307,"display_name":" RichardFeynman"},"score":0,"creation_date":1672947992,"post_id":75022778,"comment_id":132393882,"body_markdown":"If I am understanding correctly, I should un-nest All The SubProjectFoos from the ProjectFoo and have them all as separate Projects?","body":"If I am understanding correctly, I should un-nest All The SubProjectFoos from the ProjectFoo and have them all as separate Projects?"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1672949180,"post_id":75022778,"comment_id":132394243,"body_markdown":"No don&#39;t do this. The best practices is to put the parent pom into the root folder which contains the entries `&lt;modules&gt;...&lt;/modules&gt;` If it&#39;s correctly setup this will work in Eclipse... The `target` folder will be created by Maven or by Eclipse if it&#39;s correctly importet the project. Remove the `.classpath`, `.project` and `.settings` from your setup (should be put into `.gitignore`).,..","body":"No don&#39;t do this. The best practices is to put the parent pom into the root folder which contains the entries <code>&lt;modules&gt;...&lt;&#47;modules&gt;</code> If it&#39;s correctly setup this will work in Eclipse... The <code>target</code> folder will be created by Maven or by Eclipse if it&#39;s correctly importet the project. Remove the <code>.classpath</code>, <code>.project</code> and <code>.settings</code> from your setup (should be put into <code>.gitignore</code>).,.."},{"owner":{"account_id":3142246,"reputation":2632,"user_id":2657515,"accept_rate":75,"display_name":"JonathanDavidArndt"},"score":0,"creation_date":1672954436,"post_id":75022778,"comment_id":132395745,"body_markdown":"Hey, if that works, I stand corrected. (If there are any gimmicks or gotchas to the setup, would like to see them spelled out in their own answer.)","body":"Hey, if that works, I stand corrected. (If there are any gimmicks or gotchas to the setup, would like to see them spelled out in their own answer.)"}],"tags":[],"owner":{"account_id":3142246,"reputation":2632,"user_id":2657515,"accept_rate":75,"display_name":"JonathanDavidArndt"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672968991,"creation_date":1672942866,"answer_id":75022778,"question_id":75022377,"body_markdown":"Agree: this can be cumbersome, especially with a large number of sub-projects.\r\n\r\nThe parent pom will typically be its own project. Other projects that use the parent pom will also be their own projects, and linked to the parent pom using Maven.\r\n\r\nFiles/directories such as `.settings`, `.classpath`, `.project` and `pom.xml` must be at the top level of an Eclipse project (nesting sub-projects inside another related project will probably not work).\r\n\r\nWhile there may be settings for `&lt;modules&gt;` in Eclipse &amp; Maven that I am not aware of, everything you have with a src/target folder should be in its own Eclipse project. They can then be setup as dependencies of each other (either in Eclipse, Maven, or both).\r\n","title":"Cannot import nested Maven project into eclipse","body":"<p>Agree: this can be cumbersome, especially with a large number of sub-projects.</p>\n<p>The parent pom will typically be its own project. Other projects that use the parent pom will also be their own projects, and linked to the parent pom using Maven.</p>\n<p>Files/directories such as <code>.settings</code>, <code>.classpath</code>, <code>.project</code> and <code>pom.xml</code> must be at the top level of an Eclipse project (nesting sub-projects inside another related project will probably not work).</p>\n<p>While there may be settings for <code>&lt;modules&gt;</code> in Eclipse &amp; Maven that I am not aware of, everything you have with a src/target folder should be in its own Eclipse project. They can then be setup as dependencies of each other (either in Eclipse, Maven, or both).</p>\n"},{"tags":[],"owner":{"account_id":7298037,"reputation":500,"user_id":10660307,"display_name":" RichardFeynman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673013308,"creation_date":1673013308,"answer_id":75031857,"question_id":75022377,"body_markdown":"In the end I followed khmarbaise instructions. (There was a .project file in the root in the repo that needed to be deleted) \r\n\r\nAfter deleting all .classpath, .project and .settings files, I was able to use the import wizard without any issues.\r\n\r\nThe only other thing I will add is before I primarily used the package explore in eclipse, this will show each of the sub projects as sperate entities.  If you go to the Project explorer it will show the root project in the working set you added it to with the sub projects nested underneath.  ","title":"Cannot import nested Maven project into eclipse","body":"<p>In the end I followed khmarbaise instructions. (There was a .project file in the root in the repo that needed to be deleted)</p>\n<p>After deleting all .classpath, .project and .settings files, I was able to use the import wizard without any issues.</p>\n<p>The only other thing I will add is before I primarily used the package explore in eclipse, this will show each of the sub projects as sperate entities.  If you go to the Project explorer it will show the root project in the working set you added it to with the sub projects nested underneath.</p>\n"}],"owner":{"account_id":7298037,"reputation":500,"user_id":10660307,"display_name":" RichardFeynman"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":298,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1673013308,"creation_date":1672940537,"question_id":75022377,"body_markdown":"I am trying to import a Maven project into eclipse but I am having difficulty getting Eclipse to see the java files as source files and not as resource files.\r\n\r\nI am able to clean/build the project via eclipse however. \r\n\r\nThe project has parent pom.xml which lists several sub projects as modules.\r\nIf I directly import any of the subprojects it will see the java files as source files, but this will make it difficult to manage different versions of the project if each version will require multiple interrelated projects. \r\n\r\nI would ideally like a way to import just the parent project and have all sub projects managed under it. \r\n\r\nProject file tree: \r\n```\r\nProjectFoo\r\n+.settings\r\n+base\r\n+lib\r\n+SubProjectFooA\r\n|   +.settings\\\r\n|   +scs\r\n|   +target\r\n|   +.classpath\r\n|   +.project\r\n|   +pom.xml\r\n+SubProjectFooB\r\n|   +.settings\\\r\n|   +scs\r\n|   +target\r\n|   +.classpath\r\n|   +.project\r\n|   +pom.xml\r\n+SubProjectFooC\r\n|   +.settings\\\r\n|   +scs\r\n|   +target\r\n|   +.classpath\r\n|   +.project\r\n|   +pom.xml\r\n+SubProjectFooD\r\n|   +.settings\\\r\n|   +scs\r\n|   +target\r\n|   +.classpath\r\n|   +.project\r\n|   +pom.xml\r\n+SubProjectFooE\r\n|   +.settings\\\r\n|   +scs\r\n|   +target\r\n|   +.classpath\r\n|   +.project\r\n|   +pom.xml\r\n+SubProjectFooF\r\n    +.settings\\\r\n    +scs\r\n    +target\r\n    +.classpath\r\n    +.project\r\n    +pom.xml\r\n```\r\n\r\nIn the parent pom.xml this is how all the sub projects are added.  I am not very familiar with maven and think part of the problem could be the sub projects are added as modules, but I am not certain yet. \r\n```\r\n&lt;modules&gt;\r\n\t&lt;module&gt;SubProjectFooA&lt;/module&gt;\r\n\t&lt;module&gt;SubProjectFooB&lt;/module&gt;\r\n\t&lt;module&gt;SubProjectFooC&lt;/module&gt;\r\n\t&lt;module&gt;SubProjectFooD&lt;/module&gt;\r\n\t&lt;module&gt;SubProjectFooE&lt;/module&gt;\r\n\t&lt;module&gt;SubProjectFooF&lt;/module&gt;\r\n&lt;/modules&gt;\r\n```\r\n\r\n\r\nThings I have tried: \r\n\r\n - Pull copy of project from git, run mvn eclipse:clean eclipse:eclipse, then import into Eclipse\r\n \r\n - Directly adding javabuilder and javanature to .project file","title":"Cannot import nested Maven project into eclipse","body":"<p>I am trying to import a Maven project into eclipse but I am having difficulty getting Eclipse to see the java files as source files and not as resource files.</p>\n<p>I am able to clean/build the project via eclipse however.</p>\n<p>The project has parent pom.xml which lists several sub projects as modules.\nIf I directly import any of the subprojects it will see the java files as source files, but this will make it difficult to manage different versions of the project if each version will require multiple interrelated projects.</p>\n<p>I would ideally like a way to import just the parent project and have all sub projects managed under it.</p>\n<p>Project file tree:</p>\n<pre><code>ProjectFoo\n+.settings\n+base\n+lib\n+SubProjectFooA\n|   +.settings\\\n|   +scs\n|   +target\n|   +.classpath\n|   +.project\n|   +pom.xml\n+SubProjectFooB\n|   +.settings\\\n|   +scs\n|   +target\n|   +.classpath\n|   +.project\n|   +pom.xml\n+SubProjectFooC\n|   +.settings\\\n|   +scs\n|   +target\n|   +.classpath\n|   +.project\n|   +pom.xml\n+SubProjectFooD\n|   +.settings\\\n|   +scs\n|   +target\n|   +.classpath\n|   +.project\n|   +pom.xml\n+SubProjectFooE\n|   +.settings\\\n|   +scs\n|   +target\n|   +.classpath\n|   +.project\n|   +pom.xml\n+SubProjectFooF\n    +.settings\\\n    +scs\n    +target\n    +.classpath\n    +.project\n    +pom.xml\n</code></pre>\n<p>In the parent pom.xml this is how all the sub projects are added.  I am not very familiar with maven and think part of the problem could be the sub projects are added as modules, but I am not certain yet.</p>\n<pre><code>&lt;modules&gt;\n    &lt;module&gt;SubProjectFooA&lt;/module&gt;\n    &lt;module&gt;SubProjectFooB&lt;/module&gt;\n    &lt;module&gt;SubProjectFooC&lt;/module&gt;\n    &lt;module&gt;SubProjectFooD&lt;/module&gt;\n    &lt;module&gt;SubProjectFooE&lt;/module&gt;\n    &lt;module&gt;SubProjectFooF&lt;/module&gt;\n&lt;/modules&gt;\n</code></pre>\n<p>Things I have tried:</p>\n<ul>\n<li><p>Pull copy of project from git, run mvn eclipse:clean eclipse:eclipse, then import into Eclipse</p>\n</li>\n<li><p>Directly adding javabuilder and javanature to .project file</p>\n</li>\n</ul>\n"},{"tags":["java","graphics"],"comments":[{"owner":{"account_id":1287067,"reputation":6901,"user_id":1239939,"accept_rate":82,"display_name":"Ponmalar"},"score":1,"creation_date":1337602528,"post_id":10685016,"comment_id":13866987,"body_markdown":"Check this: http://stackoverflow.com/questions/2687926/how-can-i-rotate-an-image-using-java-swing-and-then-set-its-origin-to-0-0","body":"Check this: <a href=\"http://stackoverflow.com/questions/2687926/how-can-i-rotate-an-image-using-java-swing-and-then-set-its-origin-to-0-0\" title=\"how can i rotate an image using java swing and then set its origin to 0 0\">stackoverflow.com/questions/2687926/&hellip;</a>"},{"owner":{"account_id":1466587,"reputation":836,"user_id":1379242,"accept_rate":93,"display_name":"Azuu"},"score":0,"creation_date":1337604966,"post_id":10685016,"comment_id":13867987,"body_markdown":"one more thing guys i want to include some functionality such as zooming, cropping, in my project can get any utility jar for my project...","body":"one more thing guys i want to include some functionality such as zooming, cropping, in my project can get any utility jar for my project..."}],"answers":[{"comments":[{"owner":{"account_id":8261888,"reputation":1162,"user_id":6212957,"accept_rate":82,"display_name":"Feelsbadman"},"score":5,"creation_date":1509645121,"post_id":10685146,"comment_id":81112494,"body_markdown":"how do you position the transformed image? drawImage method does not seem to have a constructor for that","body":"how do you position the transformed image? drawImage method does not seem to have a constructor for that"}],"tags":[],"owner":{"account_id":7349,"reputation":45939,"user_id":12744,"accept_rate":94,"display_name":"Colin Pickard"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1673013257,"creation_date":1337602751,"answer_id":10685146,"question_id":10685016,"body_markdown":"Have a look at [this example][1], using AffineTransform.\r\n\r\nThere&#39;s some code to load the image, then this is the core:\r\n\r\n    private Image image;\r\n    AffineTransform identity = new AffineTransform();\r\n\r\n    Graphics2D g2d = (Graphics2D)g;\r\n    AffineTransform trans = new AffineTransform();\r\n    trans.setTransform(identity);\r\n    trans.rotate( Math.toRadians(45) );\r\n    g2d.drawImage(image, trans, this);\r\n\r\n\r\n  [1]: http://www.billthelizard.blogspot.com/2008/07/rotate-image-in-java.html","title":"Rotating an Image in java","body":"<p>Have a look at <a href=\"http://www.billthelizard.blogspot.com/2008/07/rotate-image-in-java.html\" rel=\"nofollow noreferrer\">this example</a>, using AffineTransform.</p>\n<p>There's some code to load the image, then this is the core:</p>\n<pre><code>private Image image;\nAffineTransform identity = new AffineTransform();\n\nGraphics2D g2d = (Graphics2D)g;\nAffineTransform trans = new AffineTransform();\ntrans.setTransform(identity);\ntrans.rotate( Math.toRadians(45) );\ng2d.drawImage(image, trans, this);\n</code></pre>\n"}],"owner":{"account_id":1466587,"reputation":836,"user_id":1379242,"accept_rate":93,"display_name":"Azuu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30300,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":10685146,"answer_count":1,"score":6,"last_activity_date":1673013257,"creation_date":1337602232,"question_id":10685016,"body_markdown":"I have an image of a Pan Card and when I try to rotate it by 45 degrees and save it, I get a cropped image.\r\nCode to rotate an image is:\r\n\r\n        BufferedImage dimg = new BufferedImage(w, h, img.getType());\r\n        Graphics2D g = dimg.createGraphics();\r\n        g.setRenderingHint(RenderingHints.KEY_ANTIALIASING, // Anti-alias!\r\n                RenderingHints.VALUE_ANTIALIAS_ON);\r\n\r\n        g.rotate(Math.toRadians(angle), w / 2, h / 2);\r\n\r\n        g.drawImage(img, null, 0, 0);","title":"Rotating an Image in java","body":"<p>I have an image of a Pan Card and when I try to rotate it by 45 degrees and save it, I get a cropped image.\nCode to rotate an image is:</p>\n\n<pre><code>    BufferedImage dimg = new BufferedImage(w, h, img.getType());\n    Graphics2D g = dimg.createGraphics();\n    g.setRenderingHint(RenderingHints.KEY_ANTIALIASING, // Anti-alias!\n            RenderingHints.VALUE_ANTIALIAS_ON);\n\n    g.rotate(Math.toRadians(angle), w / 2, h / 2);\n\n    g.drawImage(img, null, 0, 0);\n</code></pre>\n"},{"tags":["java","spring-data-jpa","querydsl"],"owner":{"account_id":1272260,"reputation":1003,"user_id":1228276,"accept_rate":18,"display_name":"rakeeee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673013187,"creation_date":1673013187,"question_id":75031830,"body_markdown":"I have three tables that I am querying using QueryDSL. The tables are connected together with JPA relations. Initially, I have two tables only and later added a Details table recently. From then onwards my QueryDSL is failing as in the JPA-generated query I am seeing \r\n\r\n`. as col_35` for the details column and throwing syntax exceptions.\r\n\r\n\r\n    @Entity\r\n    public class Resource {\r\n        private Long id;\r\n    \t@OneToOne\r\n        @JoinColumn(name = &quot;ID&quot;)\r\n        private Document doc;\r\n        private String path;\r\n    }\r\n    \r\n    @Entity\r\n    public class Document {\r\n        private Long id;\r\n        private Integer pageCount;\r\n        private String code;\r\n    \t@OneToMany(mappedBy=&quot;document_id&quot;)\r\n        Set&lt;Details&gt; details;\r\n    }\r\n    \r\n    @Entity\r\n    public class Details {\r\n        Long id\r\n    \tLong document_id;\r\n        String name;\r\n    \tString author;\r\n    }\r\n\r\nMy QueryDSL query looks something as similar \r\n\r\n    final JPAQuery&lt;?&gt; query = new JPAQuery&lt;&gt;(entitymanager);\r\n    \r\n    query\r\n    .select(Qbeans[])\r\n    .from(Resource)\r\n    .leftJoin(QResource.ResourceEntity.doc, QDocumentEntity)\r\n    .innerJoin(QDocument.DocumentEntity.details, QDetailsEntity)\r\n    .transform(groupBy(SOME_PATH).as(Projections.bean(QResource, QResource.fields)\r\n\r\nHow can I get Set/List details data in the Document entity?\r\n\r\n\r\n\r\n\r\n","title":"Multiple JPA joins in QueryDSL","body":"<p>I have three tables that I am querying using QueryDSL. The tables are connected together with JPA relations. Initially, I have two tables only and later added a Details table recently. From then onwards my QueryDSL is failing as in the JPA-generated query I am seeing</p>\n<p><code>. as col_35</code> for the details column and throwing syntax exceptions.</p>\n<pre><code>@Entity\npublic class Resource {\n    private Long id;\n    @OneToOne\n    @JoinColumn(name = &quot;ID&quot;)\n    private Document doc;\n    private String path;\n}\n\n@Entity\npublic class Document {\n    private Long id;\n    private Integer pageCount;\n    private String code;\n    @OneToMany(mappedBy=&quot;document_id&quot;)\n    Set&lt;Details&gt; details;\n}\n\n@Entity\npublic class Details {\n    Long id\n    Long document_id;\n    String name;\n    String author;\n}\n</code></pre>\n<p>My QueryDSL query looks something as similar</p>\n<pre><code>final JPAQuery&lt;?&gt; query = new JPAQuery&lt;&gt;(entitymanager);\n\nquery\n.select(Qbeans[])\n.from(Resource)\n.leftJoin(QResource.ResourceEntity.doc, QDocumentEntity)\n.innerJoin(QDocument.DocumentEntity.details, QDetailsEntity)\n.transform(groupBy(SOME_PATH).as(Projections.bean(QResource, QResource.fields)\n</code></pre>\n<p>How can I get Set/List details data in the Document entity?</p>\n"},{"tags":["java","magic-numbers"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1381113117,"post_id":19216252,"comment_id":28438414,"body_markdown":"It depends on what meaning the values have to each and if they can change dynamically through out the runtime of the application","body":"It depends on what meaning the values have to each and if they can change dynamically through out the runtime of the application"},{"owner":{"account_id":3046467,"reputation":25673,"user_id":2581969,"display_name":"roippi"},"score":0,"creation_date":1381113301,"post_id":19216252,"comment_id":28438455,"body_markdown":"&quot;Looping not allowed?&quot;  I mean if you&#39;re handicapping us from using the best solution...","body":"&quot;Looping not allowed?&quot;  I mean if you&#39;re handicapping us from using the best solution..."},{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":0,"creation_date":1381113451,"post_id":19216252,"comment_id":28438495,"body_markdown":"There&#39;s not really a good way -- in Java or most languages.  One thing I&#39;ve taken to doing (in Objective-C) is encoding sequences of &quot;magic numbers&quot; in a JSON literal that will be interpreted at runtime.  But there is substantial overhead to this, which is OK in some cases and not others.","body":"There&#39;s not really a good way -- in Java or most languages.  One thing I&#39;ve taken to doing (in Objective-C) is encoding sequences of &quot;magic numbers&quot; in a JSON literal that will be interpreted at runtime.  But there is substantial overhead to this, which is OK in some cases and not others."},{"owner":{"account_id":1652167,"reputation":3610,"user_id":1522522,"accept_rate":86,"display_name":"vandale"},"score":0,"creation_date":1381113468,"post_id":19216252,"comment_id":28438497,"body_markdown":"@roippi I think the op means that he doesn&#39;t want the values 5,10,15 etc to be generated by a loop such as `for(int i=5;i&lt;=25;i+=5)`","body":"@roippi I think the op means that he doesn&#39;t want the values 5,10,15 etc to be generated by a loop such as <code>for(int i=5;i&lt;=25;i+=5)</code>"},{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":0,"creation_date":1381113573,"post_id":19216252,"comment_id":28438520,"body_markdown":"One important thing to do is to comment things adequately, so that the derivation of the numbers is clear.  Using constants does no good (in fact, negative good) if the reason for those constant values is not clear.","body":"One important thing to do is to comment things adequately, so that the derivation of the numbers is clear.  Using constants does no good (in fact, negative good) if the reason for those constant values is not clear."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1381113873,"post_id":19216252,"comment_id":28438573,"body_markdown":"Why are looping and arrays disallowed?  A loop is the correct solution here.  Stack Overflow is about getting a solution to your problem, not about playing silly games with what the solution is and isn&#39;t allowed to be.","body":"Why are looping and arrays disallowed?  A loop is the correct solution here.  Stack Overflow is about getting a solution to your problem, not about playing silly games with what the solution is and isn&#39;t allowed to be."},{"owner":{"account_id":3046467,"reputation":25673,"user_id":2581969,"display_name":"roippi"},"score":0,"creation_date":1381113892,"post_id":19216252,"comment_id":28438576,"body_markdown":"@vandale I&#39;m aware of what he meant, and that restriction is still silly.  If you want you can declare two BOUNDARY constants and one STEP constant, and loop over those.  It more declarative of the design intent (&quot;I am creating a series of equally-sized uniformly-spaced ovals&quot;) than just making a boatload of constants and expecting someone to _see_ the pattern, obvious though it may be.","body":"@vandale I&#39;m aware of what he meant, and that restriction is still silly.  If you want you can declare two BOUNDARY constants and one STEP constant, and loop over those.  It more declarative of the design intent (&quot;I am creating a series of equally-sized uniformly-spaced ovals&quot;) than just making a boatload of constants and expecting someone to <i>see</i> the pattern, obvious though it may be."}],"answers":[{"comments":[{"owner":{"account_id":1540981,"reputation":11432,"user_id":1435657,"accept_rate":91,"display_name":"asteri"},"score":2,"creation_date":1381113075,"post_id":19216267,"comment_id":28438404,"body_markdown":"+1.  Please use well-named constants.  It makes everyone else&#39;s job infinitely easier.","body":"+1.  Please use well-named constants.  It makes everyone else&#39;s job infinitely easier."},{"owner":{"account_id":19220,"reputation":114617,"user_id":44853,"accept_rate":77,"display_name":"lc."},"score":1,"creation_date":1381113517,"post_id":19216267,"comment_id":28438510,"body_markdown":"Yes, and assuming the shapes&#39; locations are correlated, I would use *one* well-named constant and `*2`, `*3`, etc for the rest.","body":"Yes, and assuming the shapes&#39; locations are correlated, I would use <i>one</i> well-named constant and <code>*2</code>, <code>*3</code>, etc for the rest."}],"tags":[],"owner":{"account_id":1193345,"reputation":12977,"user_id":1165637,"accept_rate":96,"display_name":"Oleksi"},"comment_count":2,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1381113010,"creation_date":1381113010,"answer_id":19216267,"question_id":19216252,"body_markdown":"Defining constants is really your only option. What&#39;s your opposition to using them? They are definitely worth their space in this context. Future developers would much rather see extra constants than be confused by what those numbers mean.","title":"Getting rid of magic numbers in Java","body":"<p>Defining constants is really your only option. What's your opposition to using them? They are definitely worth their space in this context. Future developers would much rather see extra constants than be confused by what those numbers mean.</p>\n"},{"comments":[{"owner":{"account_id":1540981,"reputation":11432,"user_id":1435657,"accept_rate":91,"display_name":"asteri"},"score":1,"creation_date":1381113438,"post_id":19216294,"comment_id":28438488,"body_markdown":"If you&#39;ve ever used `GridBagConstraints` with Swing, you know just how ridiculously annoying this technique is.  Haha","body":"If you&#39;ve ever used <code>GridBagConstraints</code> with Swing, you know just how ridiculously annoying this technique is.  Haha"},{"owner":{"account_id":955484,"reputation":5540,"user_id":980869,"display_name":"Frederik.L"},"score":0,"creation_date":1381113644,"post_id":19216294,"comment_id":28438534,"body_markdown":"Haha, I never been a great fan of `GridBagConstraints`, it looked kind a &quot;hard coded&quot; UI to me. I saw it at school, but prefered more dynamic layouts as well.","body":"Haha, I never been a great fan of <code>GridBagConstraints</code>, it looked kind a &quot;hard coded&quot; UI to me. I saw it at school, but prefered more dynamic layouts as well."}],"tags":[],"owner":{"account_id":955484,"reputation":5540,"user_id":980869,"display_name":"Frederik.L"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1381113369,"creation_date":1381113369,"answer_id":19216294,"question_id":19216252,"body_markdown":"An alternative to finals / static that I&#39;ve already seen is to use a custom object as an argument:\r\n\r\n    public void drawOval(OvalArg arg) {\r\n        // ...\r\n    }\r\n    \r\n    OvalArg arg = new OvalArg();\r\n    arg.first = 10;\r\n    arg.second = 10;\r\n    arg.width = 100;\r\n    arg.height = 500;\r\n    \r\n    drawOval(arg);\r\n\r\nHowever, this approach implies that you cannot see directly which arguments must be sent to a method (unless you look into the argument object), and requires extra validation to ensure that your custom object is correctly filled. For that reason, I would recommend using constants.","title":"Getting rid of magic numbers in Java","body":"<p>An alternative to finals / static that I've already seen is to use a custom object as an argument:</p>\n\n<pre><code>public void drawOval(OvalArg arg) {\n    // ...\n}\n\nOvalArg arg = new OvalArg();\narg.first = 10;\narg.second = 10;\narg.width = 100;\narg.height = 500;\n\ndrawOval(arg);\n</code></pre>\n\n<p>However, this approach implies that you cannot see directly which arguments must be sent to a method (unless you look into the argument object), and requires extra validation to ensure that your custom object is correctly filled. For that reason, I would recommend using constants.</p>\n"},{"comments":[{"owner":{"account_id":954957,"reputation":2251,"user_id":980439,"display_name":"Frettman"},"score":0,"creation_date":1673008205,"post_id":19216481,"comment_id":132406324,"body_markdown":"Very true. The problem is that the non-dogmatic case-by-case approach is very hard to implement in static code analysis rule :)","body":"Very true. The problem is that the non-dogmatic case-by-case approach is very hard to implement in static code analysis rule :)"}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1673013099,"creation_date":1381115085,"answer_id":19216481,"question_id":19216252,"body_markdown":"The direct answer is that named constants is the only way to avoid having magic numbers in your code.\r\n\r\n--------------------------\r\n\r\nBut the flip-side is that it is *debatable* whether magic numbers are harmful or the extent that they are harmful.  And in this particular case it is debatable whether these actually qualify as &quot;magic&quot; numbers ... at least, IMO.\r\n\r\nLets illustrate this:\r\n\r\n    // Alternative #1\r\n\r\n    private final int PLACE_1_X = 5;\r\n    private final int PLACE_1_Y = 5;\r\n    ...\r\n    drawOval(PLACE_1_X, PLACE_1_Y, width, height);\r\n\r\n    // Alternative #2\r\n    drawOval(5, 5, width, height);\r\n\r\nWhich of these is *actually* more readable?  Does defining named constants (which are most likely at a different point in the source code!) make it easier to understand what is going on?  Don&#39;t you now have the problem that you have to look in two places not one to understand what a specific `drawOval` call is going to draw?\r\n\r\n-------------------------\r\n\r\nThe bottom line is that the &quot;no magic numbers&quot; dogma only really applies when the meaning of the numbers is not self-evident from the context ... or when the number is actually a *repeatedly used* constant.  (Like if we were going to use `PLACE_1` lots of times in the same &quot;picture&quot;.)\r\n\r\nYou need to think about the context, not just blindly apply the dogma.","title":"Getting rid of magic numbers in Java","body":"<p>The direct answer is that named constants is the only way to avoid having magic numbers in your code.</p>\n<hr />\n<p>But the flip-side is that it is <em>debatable</em> whether magic numbers are harmful or the extent that they are harmful.  And in this particular case it is debatable whether these actually qualify as &quot;magic&quot; numbers ... at least, IMO.</p>\n<p>Lets illustrate this:</p>\n<pre><code>// Alternative #1\n\nprivate final int PLACE_1_X = 5;\nprivate final int PLACE_1_Y = 5;\n...\ndrawOval(PLACE_1_X, PLACE_1_Y, width, height);\n\n// Alternative #2\ndrawOval(5, 5, width, height);\n</code></pre>\n<p>Which of these is <em>actually</em> more readable?  Does defining named constants (which are most likely at a different point in the source code!) make it easier to understand what is going on?  Don't you now have the problem that you have to look in two places not one to understand what a specific <code>drawOval</code> call is going to draw?</p>\n<hr />\n<p>The bottom line is that the &quot;no magic numbers&quot; dogma only really applies when the meaning of the numbers is not self-evident from the context ... or when the number is actually a <em>repeatedly used</em> constant.  (Like if we were going to use <code>PLACE_1</code> lots of times in the same &quot;picture&quot;.)</p>\n<p>You need to think about the context, not just blindly apply the dogma.</p>\n"},{"tags":[],"owner":{"account_id":21467226,"reputation":41,"user_id":15816945,"display_name":"Sahil13399"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671359069,"creation_date":1671356500,"answer_id":74840357,"question_id":19216252,"body_markdown":"Adding to the other answers we can also use Enums to declare constants and they can have values attached like width and height.\r\n```\r\npublic enum Dimensions {\r\n  \r\n  DIMENSION_FIVE_FIVE(5, 5);\r\n\r\n  private final int height;\r\n  private final int weight;\r\n\r\n  private Dimensions(int height, int width) {\r\n     this.height = height;\r\n     this.weight = weight;\r\n  }\r\n\r\n}\r\n```\r\nPlease ignore my naming convention, suggestions are welcome.\r\n","title":"Getting rid of magic numbers in Java","body":"<p>Adding to the other answers we can also use Enums to declare constants and they can have values attached like width and height.</p>\n<pre><code>public enum Dimensions {\n  \n  DIMENSION_FIVE_FIVE(5, 5);\n\n  private final int height;\n  private final int weight;\n\n  private Dimensions(int height, int width) {\n     this.height = height;\n     this.weight = weight;\n  }\n\n}\n</code></pre>\n<p>Please ignore my naming convention, suggestions are welcome.</p>\n"}],"owner":{"account_id":1120563,"reputation":179,"user_id":1108970,"accept_rate":33,"display_name":"Larry21"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8452,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":4,"score":2,"last_activity_date":1673013099,"creation_date":1381112884,"question_id":19216252,"body_markdown":"How do I get rid of magic numbers in java without declaring a massive amount of finals or static finals? Keep in mind looping, arrays are not allowed. It doesn&#39;t seem possible? Help appreciated. thanks.\r\n\r\nExample code:\r\n\r\n    drawOval(5, 5, width, height);\r\n    drawOval(10, 10, width, height);\r\n    drawOval(15, 15, width, height);\r\n    drawOval(20, 20, width, height);\r\n    drawOval(25, 25, width, height);","title":"Getting rid of magic numbers in Java","body":"<p>How do I get rid of magic numbers in java without declaring a massive amount of finals or static finals? Keep in mind looping, arrays are not allowed. It doesn't seem possible? Help appreciated. thanks.</p>\n\n<p>Example code:</p>\n\n<pre><code>drawOval(5, 5, width, height);\ndrawOval(10, 10, width, height);\ndrawOval(15, 15, width, height);\ndrawOval(20, 20, width, height);\ndrawOval(25, 25, width, height);\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":9193,"reputation":343123,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"score":1,"creation_date":1247914411,"post_id":1147245,"comment_id":965430,"body_markdown":"Yep - definitely community wiki material","body":"Yep - definitely community wiki material"},{"owner":{"account_id":13590,"reputation":115420,"user_id":27423,"accept_rate":89,"display_name":"Daniel Earwicker"},"score":0,"creation_date":1247914790,"post_id":1147245,"comment_id":965439,"body_markdown":"Is this really a Java specific question? The example in the question is about arithmetic and applies to all programming languages with a modulo operator and signed arithmetic.","body":"Is this really a Java specific question? The example in the question is about arithmetic and applies to all programming languages with a modulo operator and signed arithmetic."},{"owner":{"account_id":22694,"reputation":11506,"user_id":56242,"accept_rate":96,"display_name":"Savvas Dalkitsis"},"score":0,"creation_date":1247915609,"post_id":1147245,"comment_id":965466,"body_markdown":"not really a Java specific code, but I&#39;m Java literate so I was interested specifically for that.","body":"not really a Java specific code, but I&#39;m Java literate so I was interested specifically for that."},{"owner":{"account_id":31622,"reputation":120351,"user_id":86989,"display_name":"newacct"},"score":0,"creation_date":1247946294,"post_id":1147245,"comment_id":966676,"body_markdown":"it only applies to the languages whose modulo operation (see http://en.wikipedia.org/wiki/Modulo_operation) returns the sign of the dividend","body":"it only applies to the languages whose modulo operation (see <a href=\"http://en.wikipedia.org/wiki/Modulo_operation\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Modulo_operation</a>) returns the sign of the dividend"}],"answers":[{"comments":[{"owner":{"account_id":22694,"reputation":11506,"user_id":56242,"accept_rate":96,"display_name":"Savvas Dalkitsis"},"score":0,"creation_date":1247927527,"post_id":1147252,"comment_id":965867,"body_markdown":"hehe i don&#39;t know if you noticed but that&#39;s the source i mentioned in my question. The point is to find new oddities.","body":"hehe i don&#39;t know if you noticed but that&#39;s the source i mentioned in my question. The point is to find new oddities."},{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":0,"creation_date":1247928633,"post_id":1147252,"comment_id":965912,"body_markdown":"But not impossible, see my answer.","body":"But not impossible, see my answer."},{"owner":{"account_id":22694,"reputation":11506,"user_id":56242,"accept_rate":96,"display_name":"Savvas Dalkitsis"},"score":0,"creation_date":1247929094,"post_id":1147252,"comment_id":965928,"body_markdown":"i lost you... can you elaborate?","body":"i lost you... can you elaborate?"},{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":0,"creation_date":1247941669,"post_id":1147252,"comment_id":966460,"body_markdown":"@Savvas: I was just continuing my comment after my answer","body":"@Savvas: I was just continuing my comment after my answer"}],"tags":[],"owner":{"account_id":9320,"reputation":159784,"user_id":17172,"display_name":"coobird"},"comment_count":4,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1247915829,"creation_date":1247914591,"answer_id":1147252,"question_id":1147245,"body_markdown":"In fact, [Java Puzzlers][1] has 94 more puzzles which exhibit sometimes strange and sometimes deceiving behaviors by mostly innocent-looking code.\r\n\r\n\r\n  [1]: http://www.javapuzzlers.com/","title":"Java counter-intuitive code","body":"<p>In fact, <a href=\"http://www.javapuzzlers.com/\" rel=\"nofollow noreferrer\">Java Puzzlers</a> has 94 more puzzles which exhibit sometimes strange and sometimes deceiving behaviors by mostly innocent-looking code.</p>\n"},{"tags":[],"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1247915470,"creation_date":1247915470,"answer_id":1147278,"question_id":1147245,"body_markdown":"The most counterintuitive concept I came across is the PECS (Producer Extends, Consumer Super) from Josh Bloch. The concept is excellent, but what do you consider the consumer/producer in a situation - the method itself I would think at first. But no, the parameter collection is the P/C in this concept:\r\n\r\n    public &lt;T&gt; void consumeTs(Collection&lt;? extends T&gt; producer);\r\n    public &lt;T&gt; void produceTs(Collection&lt;? super T&gt; consumer);\r\n\r\nVery confusing sometimes.\r\n\r\n","title":"Java counter-intuitive code","body":"<p>The most counterintuitive concept I came across is the PECS (Producer Extends, Consumer Super) from Josh Bloch. The concept is excellent, but what do you consider the consumer/producer in a situation - the method itself I would think at first. But no, the parameter collection is the P/C in this concept:</p>\n\n<pre><code>public &lt;T&gt; void consumeTs(Collection&lt;? extends T&gt; producer);\npublic &lt;T&gt; void produceTs(Collection&lt;? super T&gt; consumer);\n</code></pre>\n\n<p>Very confusing sometimes.</p>\n"},{"comments":[{"owner":{"account_id":22694,"reputation":11506,"user_id":56242,"accept_rate":96,"display_name":"Savvas Dalkitsis"},"score":0,"creation_date":1247917291,"post_id":1147326,"comment_id":965500,"body_markdown":"nice answer but i must unfortunately say that it is a bit off topic. I was asking for general oddities not specifically this one. but thanks for the reply.","body":"nice answer but i must unfortunately say that it is a bit off topic. I was asking for general oddities not specifically this one. but thanks for the reply."}],"tags":[],"owner":{"account_id":25009,"reputation":10643,"user_id":63991,"accept_rate":71,"display_name":"Edmund"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1247916834,"creation_date":1247916834,"answer_id":1147326,"question_id":1147245,"body_markdown":"I tend to agree with you, but I have read (and hopefully someone can supply a link or two to) articles that explain that Java&#39;s &#39;%&#39; is consistent with its &#39;/&#39;, and that is enough for anyone.  From my own experience:\r\n\r\nJava&#39;s &#39;%&#39; operator is a little different from some other languages&#39; in its handling of negative inputs.  I personally prefer &quot;modulo&quot; operators that return non-negatives, e.g.\r\n\r\n    -5 % 2 == 1\r\n\r\nWhich would make your example work.  I think there is an official name for this operation, but I can&#39;t think of it now so I&#39;ll stick with &quot;modulo&quot;.  The difference between the two forms is that that Java variant of &#39;a % b&#39; performs &#39;a/b&#39; and rounds towards zero (and subtracts that result from &#39;a&#39;), while the preferred operation rounds down instead.\r\n\r\nEvery practical use of applying % to negative &#39;a&#39; and positive &#39;b&#39; that I&#39;ve seen works more easily if the result &#39;r&#39; is &#39;0 &lt;= r &lt; b&#39; (one example is finding the offset from the left-most edge of a tile, when mapping points onto tiles on a plane that may extend &#39;&lt; 0&#39;).  The one exception to this experience was in a university assignment that performed static analysis of integer arithmetic in Java programs.  It was during this assignment that the subtleties of Java&#39;s &#39;%&#39; came to light, and I went out of my way to replace it with the &quot;fixed&quot; version.  This all backfired, because the point was to simulate how Java does arithmetic, not to implement my own preferred kind.\r\n","title":"Java counter-intuitive code","body":"<p>I tend to agree with you, but I have read (and hopefully someone can supply a link or two to) articles that explain that Java's '%' is consistent with its '/', and that is enough for anyone.  From my own experience:</p>\n\n<p>Java's '%' operator is a little different from some other languages' in its handling of negative inputs.  I personally prefer \"modulo\" operators that return non-negatives, e.g.</p>\n\n<pre><code>-5 % 2 == 1\n</code></pre>\n\n<p>Which would make your example work.  I think there is an official name for this operation, but I can't think of it now so I'll stick with \"modulo\".  The difference between the two forms is that that Java variant of 'a % b' performs 'a/b' and rounds towards zero (and subtracts that result from 'a'), while the preferred operation rounds down instead.</p>\n\n<p>Every practical use of applying % to negative 'a' and positive 'b' that I've seen works more easily if the result 'r' is '0 &lt;= r &lt; b' (one example is finding the offset from the left-most edge of a tile, when mapping points onto tiles on a plane that may extend '&lt; 0').  The one exception to this experience was in a university assignment that performed static analysis of integer arithmetic in Java programs.  It was during this assignment that the subtleties of Java's '%' came to light, and I went out of my way to replace it with the \"fixed\" version.  This all backfired, because the point was to simulate how Java does arithmetic, not to implement my own preferred kind.</p>\n"},{"comments":[{"owner":{"account_id":22694,"reputation":11506,"user_id":56242,"accept_rate":96,"display_name":"Savvas Dalkitsis"},"score":0,"creation_date":1247918061,"post_id":1147347,"comment_id":965515,"body_markdown":"i was not asking specifically for this example. I know its problem. Please read the question. And FYI saying that negative numbers should not be considered odd or even is just WRONG (i am a math major trust me). Also I&#39;m sorry if this comment came of a bit aggressive it is not my intention.","body":"i was not asking specifically for this example. I know its problem. Please read the question. And FYI saying that negative numbers should not be considered odd or even is just WRONG (i am a math major trust me). Also I&#39;m sorry if this comment came of a bit aggressive it is not my intention."}],"tags":[],"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"comment_count":1,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1247917624,"creation_date":1247917624,"answer_id":1147347,"question_id":1147245,"body_markdown":"Odd and even numbers are usually thought of as positive numbers, so I think don&#39;t think its useful to think of negative numbers as odd or even. The test is often really to see if the lowest bit is set.\r\n\r\nThese are both fine for negative numbers as well.\r\n\r\n    if ((i &amp; 1) == 0) // lowest bit not set.\r\n    \r\n    if ((i &amp; 1) == 1) // lowest bit set.\r\nor\r\n\r\n    if ((i &amp; 1) != 0) // lowest bit set.","title":"Java counter-intuitive code","body":"<p>Odd and even numbers are usually thought of as positive numbers, so I think don't think its useful to think of negative numbers as odd or even. The test is often really to see if the lowest bit is set.</p>\n\n<p>These are both fine for negative numbers as well.</p>\n\n<pre><code>if ((i &amp; 1) == 0) // lowest bit not set.\n\nif ((i &amp; 1) == 1) // lowest bit set.\n</code></pre>\n\n<p>or</p>\n\n<pre><code>if ((i &amp; 1) != 0) // lowest bit set.\n</code></pre>\n"},{"comments":[{"owner":{"account_id":22694,"reputation":11506,"user_id":56242,"accept_rate":96,"display_name":"Savvas Dalkitsis"},"score":0,"creation_date":1247919940,"post_id":1147385,"comment_id":965564,"body_markdown":"very very nice. this not only is counterintuitive but also looks like it should work this way.","body":"very very nice. this not only is counterintuitive but also looks like it should work this way."},{"owner":{"account_id":15083,"reputation":22025,"user_id":31506,"display_name":"Jack Leow"},"score":2,"creation_date":1247920014,"post_id":1147385,"comment_id":965570,"body_markdown":"Note also that Josh Bloch, in one of his books, discourages calls to overridable methods in constructors (and I believe synchronized methods).","body":"Note also that Josh Bloch, in one of his books, discourages calls to overridable methods in constructors (and I believe synchronized methods)."},{"owner":{"account_id":15083,"reputation":22025,"user_id":31506,"display_name":"Jack Leow"},"score":0,"creation_date":1247920112,"post_id":1147385,"comment_id":965577,"body_markdown":"(Discourages the use of overridable methods in synchronized methods is what I meant to say, not discourage the use of synchronized methods in constructors - though I may be incorrect about this point, I should probably double check it)","body":"(Discourages the use of overridable methods in synchronized methods is what I meant to say, not discourage the use of synchronized methods in constructors - though I may be incorrect about this point, I should probably double check it)"}],"tags":[],"owner":{"account_id":970,"reputation":399857,"user_id":1288,"accept_rate":93,"display_name":"Bill the Lizard"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1673012857,"creation_date":1247918987,"answer_id":1147385,"question_id":1147245,"body_markdown":"One I [blogged about][1] recently, given the following two classes:\r\n\r\n    public class Base\r\n    {\r\n       Base() {\r\n           preProcess();\r\n       }\r\n    \r\n       void preProcess() {}\r\n    }\r\n    \r\n    \r\n    public class Derived extends Base\r\n    {\r\n       public String whenAmISet = &quot;set when declared&quot;;\r\n    \r\n       @Override void preProcess()\r\n       {\r\n           whenAmISet = &quot;set in preProcess()&quot;;\r\n       }\r\n    }\r\n\r\nwhat do you think the value of `whenAmISet` will be when a new `Derived` object is created?\r\n\r\nGiven the following simple main class:\r\n\r\n    public class Main\r\n    {\r\n       public static void main(String[] args)\r\n       {\r\n           Derived d = new Derived();\r\n           System.out.println( d.whenAmISet );\r\n       }\r\n    }\r\n\r\nmost people said it looks like the output should be &quot;set in preProcess()&quot; because the `Base` constructor calls that method, but it isn&#39;t.  The `Derived` class members are initialized *after* the call to the `preProcess()` method in the `Base` constructor, which overwrites the value set in `preProcess()`.\r\n\r\nThe [Creation of New Class Instances][2] section of the [JLS][3] gives a very detailed explanation of the sequence of events that takes place when objects are created.\r\n\r\n\r\n  [1]: http://www.billthelizard.blogspot.com/2009/06/java-puzzler.html\r\n  [2]: http://java.sun.com/docs/books/jls/third_edition/html/execution.html#12.5\r\n  [3]: http://java.sun.com/docs/books/jls/third_edition/html/j3TOC.html","title":"Java counter-intuitive code","body":"<p>One I <a href=\"http://www.billthelizard.blogspot.com/2009/06/java-puzzler.html\" rel=\"nofollow noreferrer\">blogged about</a> recently, given the following two classes:</p>\n<pre><code>public class Base\n{\n   Base() {\n       preProcess();\n   }\n\n   void preProcess() {}\n}\n\n\npublic class Derived extends Base\n{\n   public String whenAmISet = &quot;set when declared&quot;;\n\n   @Override void preProcess()\n   {\n       whenAmISet = &quot;set in preProcess()&quot;;\n   }\n}\n</code></pre>\n<p>what do you think the value of <code>whenAmISet</code> will be when a new <code>Derived</code> object is created?</p>\n<p>Given the following simple main class:</p>\n<pre><code>public class Main\n{\n   public static void main(String[] args)\n   {\n       Derived d = new Derived();\n       System.out.println( d.whenAmISet );\n   }\n}\n</code></pre>\n<p>most people said it looks like the output should be &quot;set in preProcess()&quot; because the <code>Base</code> constructor calls that method, but it isn't.  The <code>Derived</code> class members are initialized <em>after</em> the call to the <code>preProcess()</code> method in the <code>Base</code> constructor, which overwrites the value set in <code>preProcess()</code>.</p>\n<p>The <a href=\"http://java.sun.com/docs/books/jls/third_edition/html/execution.html#12.5\" rel=\"nofollow noreferrer\">Creation of New Class Instances</a> section of the <a href=\"http://java.sun.com/docs/books/jls/third_edition/html/j3TOC.html\" rel=\"nofollow noreferrer\">JLS</a> gives a very detailed explanation of the sequence of events that takes place when objects are created.</p>\n"},{"comments":[{"owner":{"account_id":9741,"reputation":533,"user_id":18117,"display_name":"Nicolas Simonet"},"score":1,"creation_date":1247923354,"post_id":1147520,"comment_id":965720,"body_markdown":"ah, just noticed Bill the Lizard posted a better version of this problem earlier... oh well","body":"ah, just noticed Bill the Lizard posted a better version of this problem earlier... oh well"},{"owner":{"account_id":22694,"reputation":11506,"user_id":56242,"accept_rate":96,"display_name":"Savvas Dalkitsis"},"score":0,"creation_date":1247923385,"post_id":1147520,"comment_id":965721,"body_markdown":"nice. same as http://stackoverflow.com/questions/1147245/java-counter-intuitive-code/1147385#1147385 but still a very counter intuitive piece of code.","body":"nice. same as <a href=\"http://stackoverflow.com/questions/1147245/java-counter-intuitive-code/1147385#1147385\" title=\"java counter intuitive code\">stackoverflow.com/questions/1147245/java-counter-intuitive-c&zwnj;&#8203;ode/&hellip;</a> but still a very counter intuitive piece of code."},{"owner":{"account_id":970,"reputation":399857,"user_id":1288,"accept_rate":93,"display_name":"Bill the Lizard"},"score":0,"creation_date":1247932542,"post_id":1147520,"comment_id":966062,"body_markdown":"&quot;originally camouflaged by a 5 level inheritance structure and several indirections&quot;  That makes this a pretty nasty inconsistency to track down, and is almost exactly how a co-worker of mine discovered it. :)","body":"&quot;originally camouflaged by a 5 level inheritance structure and several indirections&quot;  That makes this a pretty nasty inconsistency to track down, and is almost exactly how a co-worker of mine discovered it. :)"}],"tags":[],"owner":{"account_id":9741,"reputation":533,"user_id":18117,"display_name":"Nicolas Simonet"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1247922989,"creation_date":1247922989,"answer_id":1147520,"question_id":1147245,"body_markdown":"We once stumbled upon something like this in a legacy code base (originally camouflaged by a 5 level inheritance structure and several indirections):\r\n\r\n    public abstract class A {\r\n        public A() {\r\n            create();\r\n        }\r\n        protected abstract void create();\r\n    } \r\n\r\n    public class B extends A {\r\n        private Object bMember=null;\r\n        protected void create() {\r\n            bMember=getNewObject();\r\n        }\r\n    }\r\n\r\nWhen you call `B` constructor, it calls `A` default constructor, calling `B`&#39;s `create()` method, through which `bMember` gets initialized.\r\n\r\nOr so we naively thought. Because after calling `super()`, the next step in the initialization process is the assignment of explicitly defined default values to `B` members, in effect resetting `bMember` to `null`.\r\n\r\nProgram was actually working fine anyway, because `bMember` got assigned again through another route later on.\r\n\r\nAt some point we removed the apparently useless `null` default value for `bMember`, and suddenly program behavior changed.","title":"Java counter-intuitive code","body":"<p>We once stumbled upon something like this in a legacy code base (originally camouflaged by a 5 level inheritance structure and several indirections):</p>\n\n<pre><code>public abstract class A {\n    public A() {\n        create();\n    }\n    protected abstract void create();\n} \n\npublic class B extends A {\n    private Object bMember=null;\n    protected void create() {\n        bMember=getNewObject();\n    }\n}\n</code></pre>\n\n<p>When you call <code>B</code> constructor, it calls <code>A</code> default constructor, calling <code>B</code>'s <code>create()</code> method, through which <code>bMember</code> gets initialized.</p>\n\n<p>Or so we naively thought. Because after calling <code>super()</code>, the next step in the initialization process is the assignment of explicitly defined default values to <code>B</code> members, in effect resetting <code>bMember</code> to <code>null</code>.</p>\n\n<p>Program was actually working fine anyway, because <code>bMember</code> got assigned again through another route later on.</p>\n\n<p>At some point we removed the apparently useless <code>null</code> default value for <code>bMember</code>, and suddenly program behavior changed.</p>\n"},{"comments":[{"owner":{"account_id":22694,"reputation":11506,"user_id":56242,"accept_rate":96,"display_name":"Savvas Dalkitsis"},"score":0,"creation_date":1247924554,"post_id":1147545,"comment_id":965758,"body_markdown":"Good one. It turns out this is also part of the API documentation:\n\n&quot;Returns the absolute value of an int value. If the argument is not negative, the argument is returned. If the argument is negative, the negation of the argument is returned. \n\nNote that if the argument is equal to the value of Integer.MIN_VALUE, the most negative representable int value, the result is that same value, which is negative.&quot;","body":"Good one. It turns out this is also part of the API documentation:  &quot;Returns the absolute value of an int value. If the argument is not negative, the argument is returned. If the argument is negative, the negation of the argument is returned.   Note that if the argument is equal to the value of Integer.MIN_VALUE, the most negative representable int value, the result is that same value, which is negative.&quot;"}],"tags":[],"owner":{"account_id":9049,"reputation":16318,"user_id":16542,"accept_rate":73,"display_name":"Andreas Petersson"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1247923805,"creation_date":1247923805,"answer_id":1147545,"question_id":1147245,"body_markdown":"i recently discovered that Math.abs(i) does not always produce positive numbers. \r\n\r\n\r\nMath.abs(Integer.MIN_VALUE) yields -2^31\r\n\r\nwhy? because there is one less positive Integer than negative. 2^31 is one more than Integer.MAX_VALUE and thus overflows to -2^31\r\n\r\ni guess the situation is similar in most other languages, but i encountered this in java","title":"Java counter-intuitive code","body":"<p>i recently discovered that Math.abs(i) does not always produce positive numbers. </p>\n\n<p>Math.abs(Integer.MIN_VALUE) yields -2^31</p>\n\n<p>why? because there is one less positive Integer than negative. 2^31 is one more than Integer.MAX_VALUE and thus overflows to -2^31</p>\n\n<p>i guess the situation is similar in most other languages, but i encountered this in java</p>\n"},{"tags":[],"owner":{"account_id":21852,"reputation":19896,"user_id":53444,"accept_rate":70,"display_name":"Tim"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1247925321,"creation_date":1247925321,"answer_id":1147590,"question_id":1147245,"body_markdown":"Have a look at the methods defined in **java.util.concurrent.SynchronousQueue**:\r\nhttp://java.sun.com/j2se/1.5.0/docs/api/java/util/concurrent/SynchronousQueue.html\r\n\r\nHalf of the methods *always* return *null* / *true* / *false* / *zero*:&lt;br/&gt;\r\nNot exactly obvious when you first start working with it, without reading the docs first.","title":"Java counter-intuitive code","body":"<p>Have a look at the methods defined in <strong>java.util.concurrent.SynchronousQueue</strong>:\n<a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/util/concurrent/SynchronousQueue.html\" rel=\"nofollow noreferrer\">http://java.sun.com/j2se/1.5.0/docs/api/java/util/concurrent/SynchronousQueue.html</a></p>\n\n<p>Half of the methods <em>always</em> return <em>null</em> / <em>true</em> / <em>false</em> / <em>zero</em>:<br/>\nNot exactly obvious when you first start working with it, without reading the docs first.</p>\n"}],"owner":{"account_id":22694,"reputation":11506,"user_id":56242,"accept_rate":96,"display_name":"Savvas Dalkitsis"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1326,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":1147385,"answer_count":8,"score":3,"last_activity_date":1673012857,"creation_date":1247914300,"question_id":1147245,"body_markdown":"I remember reading a book named:\r\n\r\n&gt; [Java Puzzlers Traps, Pitfalls, and Corner Cases][1]\r\n\r\nthat described odd behavior in Java code. Stuff that look completely innocent but in actuality perform something completely different than the obvious. One example was:\r\n\r\n**(EDIT: This post is NOT a discussion on this particular example. This was the first example on the book I mentioned. I am asking for other oddities you might have encountered.)**\r\n\r\nCan this code be used to identify if a number is odd or not? \r\n\r\n    public static boolean isOdd(int i) {\r\n    \r\n        return i % 2 == 1;\r\n    \r\n    }\r\n\r\nAnd the answer is of course NO. If you plug a negative number into it you get the wrong answer when the number is odd. The correct answer was:\r\n\r\n    public static boolean isOdd(int i) {\r\n    \r\n        return i % 2 != 0;\r\n    \r\n    }\r\n\r\nNow my question is **what are the weirdest, most counter intuitive piece of Java code you came across?** (I know it&#39;s not really a question, maybe I should post this as a community wiki, please advice on that as well)\r\n\r\n\r\n  [1]: http://www.javapuzzlers.com","title":"Java counter-intuitive code","body":"<p>I remember reading a book named:</p>\n\n<blockquote>\n  <p><a href=\"http://www.javapuzzlers.com\" rel=\"nofollow noreferrer\">Java Puzzlers Traps, Pitfalls, and Corner Cases</a></p>\n</blockquote>\n\n<p>that described odd behavior in Java code. Stuff that look completely innocent but in actuality perform something completely different than the obvious. One example was:</p>\n\n<p><strong>(EDIT: This post is NOT a discussion on this particular example. This was the first example on the book I mentioned. I am asking for other oddities you might have encountered.)</strong></p>\n\n<p>Can this code be used to identify if a number is odd or not? </p>\n\n<pre><code>public static boolean isOdd(int i) {\n\n    return i % 2 == 1;\n\n}\n</code></pre>\n\n<p>And the answer is of course NO. If you plug a negative number into it you get the wrong answer when the number is odd. The correct answer was:</p>\n\n<pre><code>public static boolean isOdd(int i) {\n\n    return i % 2 != 0;\n\n}\n</code></pre>\n\n<p>Now my question is <strong>what are the weirdest, most counter intuitive piece of Java code you came across?</strong> (I know it's not really a question, maybe I should post this as a community wiki, please advice on that as well)</p>\n"},{"tags":["java","vert.x","event-bus","vertx-verticle"],"answers":[{"comments":[{"owner":{"account_id":2616549,"reputation":1922,"user_id":2265497,"accept_rate":41,"display_name":"slesh"},"score":0,"creation_date":1673035405,"post_id":75031758,"comment_id":132414842,"body_markdown":"Yeah, I thought out a similar solution. Sad, but reasonable.","body":"Yeah, I thought out a similar solution. Sad, but reasonable."}],"tags":[],"owner":{"account_id":2446461,"reputation":8725,"user_id":2133695,"display_name":"tsegismont"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673012838,"creation_date":1673012838,"answer_id":75031758,"question_id":75030147,"body_markdown":"It&#39;s not possible out of the box. But you could add a header to the message which identifies the sender and filter messages in the consumer.","title":"Vert.x events bus: publisher to not receive it&#39;s own message","body":"<p>It's not possible out of the box. But you could add a header to the message which identifies the sender and filter messages in the consumer.</p>\n"}],"owner":{"account_id":2616549,"reputation":1922,"user_id":2265497,"accept_rate":41,"display_name":"slesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75031758,"answer_count":1,"score":0,"last_activity_date":1673012838,"creation_date":1673003226,"question_id":75030147,"body_markdown":"I have 5 verticles: V{1..5}. All the verticles subscribed at &quot;topic&quot; and send message to &quot;topic&quot;. Is there a way how to publish message in a way that it won&#39;t be sent to sender? For example, V1 publishes &quot;message&quot; and receives it as well. I want to avoid it. I need &quot;message&quot; sent by V1 to be delivered only to V{2..5}, but not to V1. Is it possible? ","title":"Vert.x events bus: publisher to not receive it&#39;s own message","body":"<p>I have 5 verticles: V{1..5}. All the verticles subscribed at &quot;topic&quot; and send message to &quot;topic&quot;. Is there a way how to publish message in a way that it won't be sent to sender? For example, V1 publishes &quot;message&quot; and receives it as well. I want to avoid it. I need &quot;message&quot; sent by V1 to be delivered only to V{2..5}, but not to V1. Is it possible?</p>\n"},{"tags":["java","elasticsearch"],"comments":[{"owner":{"account_id":22303736,"reputation":209,"user_id":16528677,"display_name":"Darian-CÄtÄlin Cucer"},"score":0,"creation_date":1672836032,"post_id":75005571,"comment_id":132361604,"body_markdown":"[check this, it may help](https://stackoverflow.com/q/37705718/16528677)","body":"<a href=\"https://stackoverflow.com/q/37705718/16528677\">check this, it may help</a>"}],"answers":[{"comments":[{"owner":{"account_id":1476933,"reputation":529,"user_id":1387115,"display_name":"Alain D&#233;silets"},"score":0,"creation_date":1672945201,"post_id":75005851,"comment_id":132393102,"body_markdown":"Thx for your reply Amit. I tried what you suggest but it does not seem to work. See the addition I made to my original question.","body":"Thx for your reply Amit. I tried what you suggest but it does not seem to work. See the addition I made to my original question."}],"tags":[],"owner":{"account_id":5028364,"reputation":31224,"user_id":4039431,"accept_rate":94,"display_name":"Amit"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672837341,"creation_date":1672837341,"answer_id":75005851,"question_id":75005571,"body_markdown":"You must be having the search request object if you are using Elasticsearch 7 client, you can use `searchRequest.source().toString()` to get the search JSON on it.","title":"How to get the JSON for an ElasticSearch BoolQuery","body":"<p>You must be having the search request object if you are using Elasticsearch 7 client, you can use <code>searchRequest.source().toString()</code> to get the search JSON on it.</p>\n"},{"tags":[],"owner":{"account_id":1476933,"reputation":529,"user_id":1387115,"display_name":"Alain D&#233;silets"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673012835,"creation_date":1673012835,"answer_id":75031757,"question_id":75005571,"body_markdown":"I figured it out:\r\n\r\n    \tStringWriter writer = new StringWriter();\r\n\t\tJsonGenerator generator = JacksonJsonProvider.provider().createGenerator(writer);\r\n\t\tboolQuery.serialize(generator, new JacksonJsonpMapper());\r\n\t\tgenerator.flush();\r\n\t\tString json = writer.toString();","title":"How to get the JSON for an ElasticSearch BoolQuery","body":"<p>I figured it out:</p>\n<pre><code>    StringWriter writer = new StringWriter();\n    JsonGenerator generator = JacksonJsonProvider.provider().createGenerator(writer);\n    boolQuery.serialize(generator, new JacksonJsonpMapper());\n    generator.flush();\n    String json = writer.toString();\n</code></pre>\n"}],"owner":{"account_id":1476933,"reputation":529,"user_id":1387115,"display_name":"Alain D&#233;silets"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":405,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1673012835,"creation_date":1672835954,"question_id":75005571,"body_markdown":"Given an instance of BoolQuery, how can I find out the JSON string that will be sent to the ES server?\r\n\r\nNote that I am using ES7.\r\n\r\nI tried toString(), but it returns something like &quot;co.elastic.clients.elasticsearch._types.query_dsl.BoolQuery@3cec79d3&quot;.\r\n\r\nI see that there is a serialize() method, but for the life of me, I can&#39;t figure out how to construct the two arguments (JsonGenerator and JsonpMapper).\r\n\r\nI tried Amit&#39;s suggestion of getting the json from the SearchRequest object&#39;s source, but it does not seem to work. For example in the sample code below, the last line raises a NullPointerException because sReq.source() returns null.\r\n\r\n\r\n    SearchRequest sReq = SearchRequest.of(s -&gt; s\r\n      .index(&quot;products&quot;)\r\n      .query(q -&gt; q\r\n          .match(t -&gt; t\r\n              .field(&quot;name&quot;)\r\n              .query(&quot;hello&quot;)\r\n          )\r\n\t\t)\r\n\t  );\r\n\r\n\t  String sReqJson = sReq.source().toString();\r\n\r\n","title":"How to get the JSON for an ElasticSearch BoolQuery","body":"<p>Given an instance of BoolQuery, how can I find out the JSON string that will be sent to the ES server?</p>\n<p>Note that I am using ES7.</p>\n<p>I tried toString(), but it returns something like &quot;co.elastic.clients.elasticsearch._types.query_dsl.BoolQuery@3cec79d3&quot;.</p>\n<p>I see that there is a serialize() method, but for the life of me, I can't figure out how to construct the two arguments (JsonGenerator and JsonpMapper).</p>\n<p>I tried Amit's suggestion of getting the json from the SearchRequest object's source, but it does not seem to work. For example in the sample code below, the last line raises a NullPointerException because sReq.source() returns null.</p>\n<pre><code>SearchRequest sReq = SearchRequest.of(s -&gt; s\n  .index(&quot;products&quot;)\n  .query(q -&gt; q\n      .match(t -&gt; t\n          .field(&quot;name&quot;)\n          .query(&quot;hello&quot;)\n      )\n    )\n  );\n\n  String sReqJson = sReq.source().toString();\n</code></pre>\n"},{"tags":["java","tibco","tibco-business-works"],"comments":[{"owner":{"account_id":12646737,"reputation":1077,"user_id":9192223,"display_name":"hiren"},"score":0,"creation_date":1672822293,"post_id":74999443,"comment_id":132357463,"body_markdown":"&quot; the iterator doesn&#39;t make the iteration and it doesn&#39;t give a proper value to currentElement&quot;..... like how ?","body":"&quot; the iterator doesn&#39;t make the iteration and it doesn&#39;t give a proper value to currentElement&quot;..... like how ?"},{"owner":{"account_id":13934205,"reputation":21,"user_id":10061650,"display_name":"John Willmer Cubillos Vega"},"score":0,"creation_date":1672927114,"post_id":74999443,"comment_id":132386406,"body_markdown":"I mean the Tibco component of type iterator","body":"I mean the Tibco component of type iterator"}],"answers":[{"comments":[{"owner":{"account_id":13934205,"reputation":21,"user_id":10061650,"display_name":"John Willmer Cubillos Vega"},"score":0,"creation_date":1673392389,"post_id":75031686,"comment_id":132487766,"body_markdown":"But that idea is defining a schema with the object structure. Right? Because we need to build a generic kind of object, that works with any kind of structure. Do you understand what I am saying?","body":"But that idea is defining a schema with the object structure. Right? Because we need to build a generic kind of object, that works with any kind of structure. Do you understand what I am saying?"}],"tags":[],"owner":{"account_id":11149560,"reputation":372,"user_id":8183257,"display_name":"EmmanuelM"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673012439,"creation_date":1673012439,"answer_id":75031686,"question_id":74999443,"body_markdown":"Businessworks can iterate over a list but it has to be a list within a BusinessWorks object (defined by an XML schema). So in your case you likely need to convert you Java list of strings into an XML. You should be able to do it with the Java to XML activity. You would map the output of your function to the Input of this activity and should get an XML object containing a list in the Output. I&#39;am not 100 % sure how this will behave so you would need to do some tests but in every cases you cannot iterate over a list in a Java object.","title":"How to use a list of strings returned from a &quot;Java Invoke&quot; component in Tibco","body":"<p>Businessworks can iterate over a list but it has to be a list within a BusinessWorks object (defined by an XML schema). So in your case you likely need to convert you Java list of strings into an XML. You should be able to do it with the Java to XML activity. You would map the output of your function to the Input of this activity and should get an XML object containing a list in the Output. I'am not 100 % sure how this will behave so you would need to do some tests but in every cases you cannot iterate over a list in a Java object.</p>\n"}],"owner":{"account_id":13934205,"reputation":21,"user_id":10061650,"display_name":"John Willmer Cubillos Vega"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673012439,"creation_date":1672786593,"question_id":74999443,"body_markdown":"Brief explanation.\r\n\r\nIn Tibco Business Studio, I have a &quot;Java Invoke&quot; component that consumes a Java class that should return an object List&lt;String&gt; I have to manipulate it to iterate over it.\r\n\r\nTo iterate I am using an &quot;Iterate&quot; component with this configuration:\r\n\r\n    Name: Iterate\r\n    Group Type: Iterate\r\n    Index Name: index\r\n    Variable List: $JavaInvoke/MethodReturnValue\r\n    Iteration Element: currentElement\r\n\r\nNevertheless, the iterator doesn&#39;t make the iteration and it doesn&#39;t give a proper value to currentElement.\r\n\r\nThe Method Signature of the Java method is the next:\r\n\r\n    public static List&lt;String&gt; convertCsvToListJson(String file) {\r\n\r\nWhat am I ignoring? How can I correct this?\r\n\r\nThanks in advance.","title":"How to use a list of strings returned from a &quot;Java Invoke&quot; component in Tibco","body":"<p>Brief explanation.</p>\n<p>In Tibco Business Studio, I have a &quot;Java Invoke&quot; component that consumes a Java class that should return an object List I have to manipulate it to iterate over it.</p>\n<p>To iterate I am using an &quot;Iterate&quot; component with this configuration:</p>\n<pre><code>Name: Iterate\nGroup Type: Iterate\nIndex Name: index\nVariable List: $JavaInvoke/MethodReturnValue\nIteration Element: currentElement\n</code></pre>\n<p>Nevertheless, the iterator doesn't make the iteration and it doesn't give a proper value to currentElement.</p>\n<p>The Method Signature of the Java method is the next:</p>\n<pre><code>public static List&lt;String&gt; convertCsvToListJson(String file) {\n</code></pre>\n<p>What am I ignoring? How can I correct this?</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","json","spring-boot","react-hooks"],"comments":[{"owner":{"account_id":3500892,"reputation":1750,"user_id":4141883,"accept_rate":57,"display_name":"Danila Zharenkov"},"score":0,"creation_date":1673000001,"post_id":75029346,"comment_id":132404019,"body_markdown":"Can you add to the question the json your JS code sends to backend? Also it&#39;s important for model class to have default constructor. As an addition - usually it&#39;s a bad practice to use entities as DTO objects.","body":"Can you add to the question the json your JS code sends to backend? Also it&#39;s important for model class to have default constructor. As an addition - usually it&#39;s a bad practice to use entities as DTO objects."},{"owner":{"account_id":15004584,"reputation":9,"user_id":10831061,"display_name":"Thunder"},"score":0,"creation_date":1673004369,"post_id":75029346,"comment_id":132405302,"body_markdown":"Noted. Will add the default constructor as well as will keep model and DTO classes different. Thank you","body":"Noted. Will add the default constructor as well as will keep model and DTO classes different. Thank you"}],"answers":[{"comments":[{"owner":{"account_id":15004584,"reputation":9,"user_id":10831061,"display_name":"Thunder"},"score":0,"creation_date":1673004047,"post_id":75029647,"comment_id":132405216,"body_markdown":"Thank you for your time. Yes, I will create a DTO package and DTO files for it.","body":"Thank you for your time. Yes, I will create a DTO package and DTO files for it."}],"tags":[],"owner":{"account_id":20509645,"reputation":41,"user_id":15051712,"display_name":"Prasad Jagtap"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673000403,"creation_date":1673000403,"answer_id":75029647,"question_id":75029346,"body_markdown":"For me adding default constructor to model class solved the issue.\r\nand one more thing - please use DTO for such operations , use of entity is not a good practise.","title":"Spring boot JSON parse error : Cannot deserialize value","body":"<p>For me adding default constructor to model class solved the issue.\nand one more thing - please use DTO for such operations , use of entity is not a good practise.</p>\n"}],"owner":{"account_id":15004584,"reputation":9,"user_id":10831061,"display_name":"Thunder"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1480,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673012325,"creation_date":1672998655,"question_id":75029346,"body_markdown":"I&#39;m having trouble submitting the form. In the RoominfoController, I made changes to make it accept arrays, but the problem still persists..&lt;hr&gt;\r\n```Cannot deserialize value of type `com.example.pgfinder.models.RoomInfo` from Array value (token `JsonToken.START_ARRAY`); nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type `com.example.pgfinder.models.RoomInfo` from Array value (token `JsonToken.START_ARRAY`)&lt;EOL&gt; at [Source: (org.springframework.util.StreamUtils$NonClosingInputStream); line: 1, column: 1]]```\r\n\r\nThis is the form through which I am sending data.\r\n\r\n 1. [RoomInfo.js file][1]  \r\n 2. [RoomInfoController.java][2] \r\n 3. [Model Class:RoomInfo.java][3]\r\n 4. [RoomInfoService.js][4] (Here I have specified the method createRoomInfo)\r\n&lt;hr&gt;\r\nI took reference of some similar answers on this site but it didn&#39;t work for me. The error is still being displayed in eclipse console when trying to enter values. \r\n&lt;hr&gt;\r\nI am trying to send the roominfos array through this form.\r\n\r\n\r\n```\r\n{\r\n    &quot;pg_name&quot;: &quot;Devanshi Hostel&quot;,\r\n    &quot;pg_address&quot;: &quot;Vastrapur behind Gurudwara&quot;,\r\n    &quot;phone_no&quot;: &quot;9912343234&quot;,\r\n    &quot;notice_period&quot;: 21,\r\n    &quot;gender&quot;: &quot;Girls&quot;,\r\n    &quot;country&quot;: &quot;India&quot;,\r\n    &quot;state&quot;: &quot;Gujarat&quot;,\r\n    &quot;city&quot;: &quot;Dwarka&quot;,\r\n    &quot;deposit_amt&quot;: 5000,\r\n    &quot;food_avail&quot;: &quot;Yes&quot;,\r\n    &quot;wifi_avail&quot;: &quot;No&quot;,\r\n    &quot;request_status&quot;: &quot;Pending&quot;,\r\n    &quot;roominfos&quot;: [\r\n        {\r\n            &quot;id&quot;: 1,\r\n            &quot;shared_no&quot;: 1,\r\n            &quot;no_of_rooms&quot;: 1,\r\n            &quot;total_capacity&quot;: 1,\r\n            &quot;vacancy&quot;: 1,\r\n            &quot;rent_per_month&quot;: 1000\r\n        },\r\n        {\r\n            &quot;id&quot;: 2,\r\n            &quot;shared_no&quot;: 3,\r\n            &quot;no_of_rooms&quot;: 1,\r\n            &quot;total_capacity&quot;: 3,\r\n            &quot;vacancy&quot;: 2,\r\n            &quot;rent_per_month&quot;: 1000\r\n        }\r\n    ],\r\n    &quot;id&quot;: 18\r\n}\r\n```\r\n\r\nThank you.\r\n\r\n  [1]: https://github.com/PranjalbaZala/Online-PGFinder-Management/blob/main/Front-end/src/components/RoomInfo.js\r\n  [2]: https://github.com/PranjalbaZala/Online-PGFinder-Management/blob/main/Back-end/src/main/java/com/example/pgfinder/controller/RoomInfoController.java\r\n  [3]: https://github.com/PranjalbaZala/Online-PGFinder-Management/blob/main/Back-end/src/main/java/com/example/pgfinder/models/RoomInfo.java\r\n  [4]: https://github.com/PranjalbaZala/Online-PGFinder-Management/blob/main/Front-end/src/services/RoomInfoService.js","title":"Spring boot JSON parse error : Cannot deserialize value","body":"<p>I'm having trouble submitting the form. In the RoominfoController, I made changes to make it accept arrays, but the problem still persists..<hr>\n<code>Cannot deserialize value of type `com.example.pgfinder.models.RoomInfo` from Array value (token `JsonToken.START_ARRAY`); nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type `com.example.pgfinder.models.RoomInfo` from Array value (token `JsonToken.START_ARRAY`)&lt;EOL&gt; at [Source: (org.springframework.util.StreamUtils$NonClosingInputStream); line: 1, column: 1]]</code></p>\n<p>This is the form through which I am sending data.</p>\n<ol>\n<li><a href=\"https://github.com/PranjalbaZala/Online-PGFinder-Management/blob/main/Front-end/src/components/RoomInfo.js\" rel=\"nofollow noreferrer\">RoomInfo.js file</a></li>\n<li><a href=\"https://github.com/PranjalbaZala/Online-PGFinder-Management/blob/main/Back-end/src/main/java/com/example/pgfinder/controller/RoomInfoController.java\" rel=\"nofollow noreferrer\">RoomInfoController.java</a></li>\n<li><a href=\"https://github.com/PranjalbaZala/Online-PGFinder-Management/blob/main/Back-end/src/main/java/com/example/pgfinder/models/RoomInfo.java\" rel=\"nofollow noreferrer\">Model Class:RoomInfo.java</a></li>\n<li><a href=\"https://github.com/PranjalbaZala/Online-PGFinder-Management/blob/main/Front-end/src/services/RoomInfoService.js\" rel=\"nofollow noreferrer\">RoomInfoService.js</a> (Here I have specified the method createRoomInfo)</li>\n</ol>\n<hr>\nI took reference of some similar answers on this site but it didn't work for me. The error is still being displayed in eclipse console when trying to enter values. \n<hr>\nI am trying to send the roominfos array through this form.\n<pre><code>{\n    &quot;pg_name&quot;: &quot;Devanshi Hostel&quot;,\n    &quot;pg_address&quot;: &quot;Vastrapur behind Gurudwara&quot;,\n    &quot;phone_no&quot;: &quot;9912343234&quot;,\n    &quot;notice_period&quot;: 21,\n    &quot;gender&quot;: &quot;Girls&quot;,\n    &quot;country&quot;: &quot;India&quot;,\n    &quot;state&quot;: &quot;Gujarat&quot;,\n    &quot;city&quot;: &quot;Dwarka&quot;,\n    &quot;deposit_amt&quot;: 5000,\n    &quot;food_avail&quot;: &quot;Yes&quot;,\n    &quot;wifi_avail&quot;: &quot;No&quot;,\n    &quot;request_status&quot;: &quot;Pending&quot;,\n    &quot;roominfos&quot;: [\n        {\n            &quot;id&quot;: 1,\n            &quot;shared_no&quot;: 1,\n            &quot;no_of_rooms&quot;: 1,\n            &quot;total_capacity&quot;: 1,\n            &quot;vacancy&quot;: 1,\n            &quot;rent_per_month&quot;: 1000\n        },\n        {\n            &quot;id&quot;: 2,\n            &quot;shared_no&quot;: 3,\n            &quot;no_of_rooms&quot;: 1,\n            &quot;total_capacity&quot;: 3,\n            &quot;vacancy&quot;: 2,\n            &quot;rent_per_month&quot;: 1000\n        }\n    ],\n    &quot;id&quot;: 18\n}\n</code></pre>\n<p>Thank you.</p>\n"},{"tags":["java","spring-data-jpa"],"owner":{"account_id":27453162,"reputation":1,"user_id":20945052,"display_name":"navs_code"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673012178,"creation_date":1673012178,"question_id":75031641,"body_markdown":"When I&#39;m making the call to JpaRepository findByOrderTrackingNumber method, it is not returning any result. I enabled the jpa-sql/hibernate logging and got the underlying query which is being generated, after running the same query manually in MSSQL server is returning the result, I am not able to understand where the issue is, Attaching the example code snippets. \r\n\r\n\r\nAm using oneToMany bidirectional mapping between my entity classes\r\n**Order Entity**\r\n```\r\n\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Builder\r\n@Entity\r\n@Getter\r\n@Setter\r\n@Table(name=&quot;orders&quot;)\r\npublic class Order {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @GenericGenerator(name = SequentialUUIDGenerator.ID, strategy = SequentialUUIDGenerator.CLASS_NAME)\r\n    @Type(type = EntityConstants.UUID_CHAR)\r\n    @Column\r\n    private UUID id;\r\n\r\n    @Column(name = &quot;order_tracking_number&quot;)\r\n    private String orderTrackingNumber;\r\n\r\n    @Column(name = &quot;total_quantity&quot;)\r\n    private int totalQuantity;\r\n\r\n    @Column(name = &quot;total_price&quot;)\r\n    private BigDecimal totalPrice;\r\n\r\n    @Column(name = &quot;status&quot;)\r\n    private String status;\r\n\r\n    @OneToMany(cascade = CascadeType.ALL, fetch = FetchType.EAGER, mappedBy = &quot;order&quot;)\r\n    private List&lt;OrderItem&gt; orderItems ;\r\n}\r\n\r\n```\r\n**Order Items Entity**\r\n\r\n```\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Builder\r\n@Entity\r\n@Getter\r\n@Setter\r\n@Table(name=&quot;order_items&quot;,schema = &quot;ecommerce&quot;)\r\npublic class OrderItem {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @GenericGenerator(name = SequentialUUIDGenerator.ID, strategy = SequentialUUIDGenerator.CLASS_NAME)\r\n    @Type(type = EntityConstants.UUID_CHAR)\r\n    @Column\r\n    private UUID id;\r\n\r\n    @Column(name=&quot;image_url&quot;)\r\n    private String imageUrl;\r\n\r\n    @Column(name = &quot;price&quot;)\r\n    private BigDecimal price;\r\n\r\n    @Column(name=&quot;quantity&quot;)\r\n    private int quantity;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;order_id&quot;)\r\n    private Order order;\r\n}\r\n```\r\n**OrderRepository class**\r\n\r\n```\r\n@Repository\r\n@YardAuthorized\r\npublic interface OrderRepository extends JpaRepository&lt;Order, UUID&gt; {\r\n    List&lt;Order&gt; findByOrderTrackingNumber(String orderTrackingNumber);\r\n}\r\n```\r\nWhen am making a call to **findByOrderTrackingNumber** method it is not returning any result.\r\nBut when I run the underlying hibernate query generated in MSSQL server it returns proper result. \r\n\r\nHere am only expecting the result only from **orders **table, not from **order_items **table. \r\nAm not able to understand why the result is empty, is OneToMany relation in my entity causing the issue? \r\n\r\nI tried to find the solution but could not find any existing answer for the same, redirect me if there in one.","title":"jpaquery not returning any result list on calling the method, but generated hibernate query returns result when run manually in MSSQL","body":"<p>When I'm making the call to JpaRepository findByOrderTrackingNumber method, it is not returning any result. I enabled the jpa-sql/hibernate logging and got the underlying query which is being generated, after running the same query manually in MSSQL server is returning the result, I am not able to understand where the issue is, Attaching the example code snippets.</p>\n<p>Am using oneToMany bidirectional mapping between my entity classes\n<strong>Order Entity</strong></p>\n<pre><code>\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder\n@Entity\n@Getter\n@Setter\n@Table(name=&quot;orders&quot;)\npublic class Order {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @GenericGenerator(name = SequentialUUIDGenerator.ID, strategy = SequentialUUIDGenerator.CLASS_NAME)\n    @Type(type = EntityConstants.UUID_CHAR)\n    @Column\n    private UUID id;\n\n    @Column(name = &quot;order_tracking_number&quot;)\n    private String orderTrackingNumber;\n\n    @Column(name = &quot;total_quantity&quot;)\n    private int totalQuantity;\n\n    @Column(name = &quot;total_price&quot;)\n    private BigDecimal totalPrice;\n\n    @Column(name = &quot;status&quot;)\n    private String status;\n\n    @OneToMany(cascade = CascadeType.ALL, fetch = FetchType.EAGER, mappedBy = &quot;order&quot;)\n    private List&lt;OrderItem&gt; orderItems ;\n}\n\n</code></pre>\n<p><strong>Order Items Entity</strong></p>\n<pre><code>@NoArgsConstructor\n@AllArgsConstructor\n@Builder\n@Entity\n@Getter\n@Setter\n@Table(name=&quot;order_items&quot;,schema = &quot;ecommerce&quot;)\npublic class OrderItem {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @GenericGenerator(name = SequentialUUIDGenerator.ID, strategy = SequentialUUIDGenerator.CLASS_NAME)\n    @Type(type = EntityConstants.UUID_CHAR)\n    @Column\n    private UUID id;\n\n    @Column(name=&quot;image_url&quot;)\n    private String imageUrl;\n\n    @Column(name = &quot;price&quot;)\n    private BigDecimal price;\n\n    @Column(name=&quot;quantity&quot;)\n    private int quantity;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;order_id&quot;)\n    private Order order;\n}\n</code></pre>\n<p><strong>OrderRepository class</strong></p>\n<pre><code>@Repository\n@YardAuthorized\npublic interface OrderRepository extends JpaRepository&lt;Order, UUID&gt; {\n    List&lt;Order&gt; findByOrderTrackingNumber(String orderTrackingNumber);\n}\n</code></pre>\n<p>When am making a call to <strong>findByOrderTrackingNumber</strong> method it is not returning any result.\nBut when I run the underlying hibernate query generated in MSSQL server it returns proper result.</p>\n<p>Here am only expecting the result only from **orders **table, not from **order_items **table.\nAm not able to understand why the result is empty, is OneToMany relation in my entity causing the issue?</p>\n<p>I tried to find the solution but could not find any existing answer for the same, redirect me if there in one.</p>\n"},{"tags":["java","maven","liquibase"],"answers":[{"comments":[{"owner":{"account_id":1743298,"reputation":347,"user_id":1594088,"display_name":"&#214;zg&#252;n"},"score":0,"creation_date":1638715353,"post_id":22376004,"comment_id":124156312,"body_markdown":"the liquibase documentation link is broken","body":"the liquibase documentation link is broken"},{"owner":{"account_id":262192,"reputation":5128,"user_id":546888,"accept_rate":68,"display_name":"Gunjan Shah"},"score":0,"creation_date":1672999980,"post_id":22376004,"comment_id":132404011,"body_markdown":"are the username and password mentioned in liquibase.properties same as username and password of db.properties ?","body":"are the username and password mentioned in liquibase.properties same as username and password of db.properties ?"},{"owner":{"account_id":2557734,"reputation":1911,"user_id":2219361,"accept_rate":88,"display_name":"Taoufik Mohdit"},"score":0,"creation_date":1673011844,"post_id":22376004,"comment_id":132407327,"body_markdown":"Yes. `liquibase.properties` is referring to the values defined in `db.properties` via their respective keys `database.username` and `database.password`","body":"Yes. <code>liquibase.properties</code> is referring to the values defined in <code>db.properties</code> via their respective keys <code>database.username</code> and <code>database.password</code>"}],"tags":[],"owner":{"account_id":2557734,"reputation":1911,"user_id":2219361,"accept_rate":88,"display_name":"Taoufik Mohdit"},"comment_count":3,"down_vote_count":0,"up_vote_count":24,"is_accepted":true,"score":24,"last_activity_date":1673012047,"creation_date":1394707276,"answer_id":22376004,"question_id":22355725,"body_markdown":"I managed to get this working. The key was to use the maven *filter* element in conjunction with the *resource* element as explained in [Liquibase Documentation][1].\r\n\r\nAlso it&#39;s important to include the *resources* goal in the maven command:\r\n\r\n    mvn resources:resources liquibase:update -Plocal\r\n\r\nThis is the file hierarchy I used:\r\n\r\n\r\n    |-- pom.xml\r\n    `-- src\r\n        `-- main\r\n           |-- resources\r\n           |   `-- liquibase.properties\r\n           |   |-- changelog\r\n           |       `-- db-changelog-master.xml\r\n           |       `-- db-changelog-1.0.xml\r\n           |-- filters\r\n               |-- local\r\n               |   `-- db.properties\r\n               |-- dev\r\n               |   `-- db.properties\r\n\r\nThe db.properties file would look like the following:\r\n\r\n    database.driver = oracle.jdbc.driver.OracleDriver\r\n    database.url = jdbc:oracle:thin:@&lt;host_name&gt;:&lt;port_number&gt;/instance\r\n    database.username = user\r\n    database.password = password123\r\n\r\nThe liquibase.properties file would look like the following:\r\n\r\n    changeLogFile: changelog/db.changelog-master.xml\r\n    driver: ${database.driver}\r\n    url: ${database.url}\r\n    username: ${database.username}\r\n    password: ${database.password}\r\n    verbose: true\r\n\r\nThe POM file would look like the following:\r\n\r\n   \r\n\r\n    &lt;build&gt;\r\n          &lt;pluginManagement&gt;\r\n             &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                   &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\r\n                   &lt;artifactId&gt;liquibase-maven-plugin&lt;/artifactId&gt;\r\n                   &lt;version&gt;3.1.0&lt;/version&gt;\r\n                   &lt;configuration&gt;\r\n                      &lt;propertyFile&gt;target/classes/liquibase.properties&lt;/propertyFile&gt;\r\n                   &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n             &lt;/plugins&gt;\r\n          &lt;/pluginManagement&gt;\r\n       &lt;/build&gt;\r\n\r\n\r\n    &lt;profiles&gt;\r\n        &lt;profile&gt;\r\n            &lt;id&gt;local&lt;/id&gt;\r\n            &lt;activation&gt;\r\n                &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\r\n            &lt;/activation&gt;\r\n            &lt;build&gt;\r\n                &lt;filters&gt;\r\n                    &lt;filter&gt;src/main/filters/local/db.properties&lt;/filter&gt;\r\n                &lt;/filters&gt;\r\n                &lt;resources&gt;\r\n                    &lt;resource&gt;\r\n                        &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n                        &lt;filtering&gt;true&lt;/filtering&gt;\r\n                    &lt;/resource&gt;\r\n                &lt;/resources&gt;\r\n            &lt;/build&gt;\r\n        &lt;/profile&gt;\r\n        &lt;profile&gt;\r\n            &lt;id&gt;dev&lt;/id&gt;\r\n            &lt;build&gt;\r\n                &lt;filters&gt;\r\n                    &lt;filter&gt;src/main/filters/dev/db.properties&lt;/filter&gt;\r\n                &lt;/filters&gt;\r\n                &lt;resources&gt;\r\n                    &lt;resource&gt;\r\n                        &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n                        &lt;filtering&gt;true&lt;/filtering&gt;\r\n                    &lt;/resource&gt;\r\n                &lt;/resources&gt;\r\n            &lt;/build&gt;\r\n        &lt;/profile&gt;\r\n    &lt;/profiles&gt;\r\n\r\n[1]: https://docs.liquibase.com/tools-integrations/maven/using-liquibase-and-maven-pom-file.html","title":"Loading data from properties file to be used by Liquibase in Maven build","body":"<p>I managed to get this working. The key was to use the maven <em>filter</em> element in conjunction with the <em>resource</em> element as explained in <a href=\"https://docs.liquibase.com/tools-integrations/maven/using-liquibase-and-maven-pom-file.html\" rel=\"nofollow noreferrer\">Liquibase Documentation</a>.</p>\n<p>Also it's important to include the <em>resources</em> goal in the maven command:</p>\n<pre><code>mvn resources:resources liquibase:update -Plocal\n</code></pre>\n<p>This is the file hierarchy I used:</p>\n<pre><code>|-- pom.xml\n`-- src\n    `-- main\n       |-- resources\n       |   `-- liquibase.properties\n       |   |-- changelog\n       |       `-- db-changelog-master.xml\n       |       `-- db-changelog-1.0.xml\n       |-- filters\n           |-- local\n           |   `-- db.properties\n           |-- dev\n           |   `-- db.properties\n</code></pre>\n<p>The db.properties file would look like the following:</p>\n<pre><code>database.driver = oracle.jdbc.driver.OracleDriver\ndatabase.url = jdbc:oracle:thin:@&lt;host_name&gt;:&lt;port_number&gt;/instance\ndatabase.username = user\ndatabase.password = password123\n</code></pre>\n<p>The liquibase.properties file would look like the following:</p>\n<pre><code>changeLogFile: changelog/db.changelog-master.xml\ndriver: ${database.driver}\nurl: ${database.url}\nusername: ${database.username}\npassword: ${database.password}\nverbose: true\n</code></pre>\n<p>The POM file would look like the following:</p>\n<pre><code>&lt;build&gt;\n      &lt;pluginManagement&gt;\n         &lt;plugins&gt;\n            &lt;plugin&gt;\n               &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\n               &lt;artifactId&gt;liquibase-maven-plugin&lt;/artifactId&gt;\n               &lt;version&gt;3.1.0&lt;/version&gt;\n               &lt;configuration&gt;\n                  &lt;propertyFile&gt;target/classes/liquibase.properties&lt;/propertyFile&gt;\n               &lt;/configuration&gt;\n            &lt;/plugin&gt;\n         &lt;/plugins&gt;\n      &lt;/pluginManagement&gt;\n   &lt;/build&gt;\n\n\n&lt;profiles&gt;\n    &lt;profile&gt;\n        &lt;id&gt;local&lt;/id&gt;\n        &lt;activation&gt;\n            &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\n        &lt;/activation&gt;\n        &lt;build&gt;\n            &lt;filters&gt;\n                &lt;filter&gt;src/main/filters/local/db.properties&lt;/filter&gt;\n            &lt;/filters&gt;\n            &lt;resources&gt;\n                &lt;resource&gt;\n                    &lt;directory&gt;src/main/resources&lt;/directory&gt;\n                    &lt;filtering&gt;true&lt;/filtering&gt;\n                &lt;/resource&gt;\n            &lt;/resources&gt;\n        &lt;/build&gt;\n    &lt;/profile&gt;\n    &lt;profile&gt;\n        &lt;id&gt;dev&lt;/id&gt;\n        &lt;build&gt;\n            &lt;filters&gt;\n                &lt;filter&gt;src/main/filters/dev/db.properties&lt;/filter&gt;\n            &lt;/filters&gt;\n            &lt;resources&gt;\n                &lt;resource&gt;\n                    &lt;directory&gt;src/main/resources&lt;/directory&gt;\n                    &lt;filtering&gt;true&lt;/filtering&gt;\n                &lt;/resource&gt;\n            &lt;/resources&gt;\n        &lt;/build&gt;\n    &lt;/profile&gt;\n&lt;/profiles&gt;\n</code></pre>\n"}],"owner":{"account_id":2557734,"reputation":1911,"user_id":2219361,"accept_rate":88,"display_name":"Taoufik Mohdit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33485,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":22376004,"answer_count":1,"score":15,"last_activity_date":1673012047,"creation_date":1394637003,"question_id":22355725,"body_markdown":"I can run Liquibase changelog through maven build (`liquibase:update` goal) without any problems. Now I&#39;d like Liquibase to use database credentials and URL loaded from a properties file (*db.properties*) depending on the selected Maven profile:\r\n\r\n    |-- pom.xml\r\n    `-- src\r\n        `-- main\r\n            `-- resources\r\n                |-- local\r\n                |   `-- db.properties\r\n                |-- dev\r\n                |   `-- db.properties\r\n                |-- prod\r\n                |   `-- db.properties\r\n                `-- db-changelog-master.xml\r\n                `-- db-changelog-1.0.xml\r\n\r\nEach of the 3 properties files would look like the following:\r\n\r\n    database.driver = oracle.jdbc.driver.OracleDriver\r\n    database.url = jdbc:oracle:thin:@&lt;host_name&gt;:&lt;port_number&gt;/instance\r\n    database.username = user\r\n    database.password = password123\r\n\r\nNow, instead of these properties being defined in the POM file itself (as explained in the accepted answer of this question https://stackoverflow.com/questions/9606585/liquibase-using-maven-with-two-databases-does-not-work), I&#39;d like them to be loaded from the external properties file. I have tried different approaches to no avail:\r\n\r\n**1. I used Maven&#39;s `resource` element in the POM file:**\r\n\r\n   \r\n\r\n    &lt;build&gt;\r\n          &lt;pluginManagement&gt;\r\n             &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                   &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\r\n                   &lt;artifactId&gt;liquibase-maven-plugin&lt;/artifactId&gt;\r\n                   &lt;version&gt;3.1.0&lt;/version&gt;\r\n                   &lt;configuration&gt;\r\n                      &lt;changeLogFile&gt;db.changelog-master.xml&lt;/changeLogFile&gt;\r\n                      &lt;verbose&gt;true&lt;/verbose&gt;\r\n                   &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n             &lt;/plugins&gt;\r\n          &lt;/pluginManagement&gt;\r\n       &lt;/build&gt;\r\n\r\n\r\n    &lt;profiles&gt;\r\n        &lt;profile&gt;\r\n            &lt;id&gt;local&lt;/id&gt;\r\n            &lt;activation&gt;\r\n                &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\r\n            &lt;/activation&gt;\r\n            &lt;build&gt;\r\n                &lt;resources&gt;\r\n                    &lt;resource&gt;\r\n                        &lt;directory&gt;src/main/resources/local&lt;/directory&gt;\r\n                    &lt;/resource&gt;\r\n                &lt;/resources&gt;\r\n            &lt;/build&gt;\r\n            &lt;properties&gt;\r\n                &lt;liquibase.url&gt;${database.url}&lt;/liquibase.url&gt;\r\n                &lt;liquibase.driver&gt;${database.driver}&lt;/liquibase.driver&gt;\r\n                &lt;liquibase.username&gt;${database.username}&lt;/liquibase.username&gt;\r\n                &lt;liquibase.password&gt;${database.password}&lt;/liquibase.password&gt;\r\n            &lt;/properties&gt;\r\n        &lt;/profile&gt;\r\n        &lt;profile&gt;\r\n            &lt;id&gt;dev&lt;/id&gt;\r\n            &lt;build&gt;\r\n                &lt;resources&gt;\r\n                    &lt;resource&gt;\r\n                        &lt;directory&gt;src/main/resources/dev&lt;/directory&gt;\r\n                    &lt;/resource&gt;\r\n                &lt;/resources&gt;\r\n            &lt;/build&gt;\r\n            &lt;properties&gt;\r\n                &lt;liquibase.url&gt;${database.url}&lt;/liquibase.url&gt;\r\n                &lt;liquibase.driver&gt;${database.driver}&lt;/liquibase.driver&gt;\r\n                &lt;liquibase.username&gt;${database.username}&lt;/liquibase.username&gt;\r\n                &lt;liquibase.password&gt;${database.password}&lt;/liquibase.password&gt;\r\n            &lt;/properties&gt;\r\n        &lt;/profile&gt;\r\n    &lt;/profiles&gt;\r\n\r\n**2. I tried using the Properties Maven plugin:**\r\n\r\n       &lt;plugin&gt;\r\n          &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n          &lt;artifactId&gt;properties-maven-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;1.0-alpha-2&lt;/version&gt;\r\n          &lt;executions&gt;\r\n             &lt;execution&gt;\r\n                &lt;phase&gt;initialize&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                   &lt;goal&gt;read-project-properties&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                   &lt;files&gt;\r\n                      &lt;file&gt;src/main/resources/local/db.properties&lt;/file&gt;\r\n                   &lt;/files&gt;\r\n                &lt;/configuration&gt;\r\n             &lt;/execution&gt;\r\n          &lt;/executions&gt;\r\n       &lt;/plugin&gt;\r\n\r\nWhen I run the liquibase:update maven goal, I get this this error:\r\n\r\n    [ERROR] Failed to execute goal org.liquibase:liquibase-maven-plugin:3.1.0:update (default-cli) on project my-project: The driver has not been specified either as a parameter or in a properties file\r\n\r\nIt seems that the database properties referred to in the POM file couldn&#39;t be resolved.\r\n\r\nAny idea how this can be achieved ?","title":"Loading data from properties file to be used by Liquibase in Maven build","body":"<p>I can run Liquibase changelog through maven build (<code>liquibase:update</code> goal) without any problems. Now I'd like Liquibase to use database credentials and URL loaded from a properties file (<em>db.properties</em>) depending on the selected Maven profile:</p>\n\n<pre><code>|-- pom.xml\n`-- src\n    `-- main\n        `-- resources\n            |-- local\n            |   `-- db.properties\n            |-- dev\n            |   `-- db.properties\n            |-- prod\n            |   `-- db.properties\n            `-- db-changelog-master.xml\n            `-- db-changelog-1.0.xml\n</code></pre>\n\n<p>Each of the 3 properties files would look like the following:</p>\n\n<pre><code>database.driver = oracle.jdbc.driver.OracleDriver\ndatabase.url = jdbc:oracle:thin:@&lt;host_name&gt;:&lt;port_number&gt;/instance\ndatabase.username = user\ndatabase.password = password123\n</code></pre>\n\n<p>Now, instead of these properties being defined in the POM file itself (as explained in the accepted answer of this question <a href=\"https://stackoverflow.com/questions/9606585/liquibase-using-maven-with-two-databases-does-not-work\">liquibase using maven with two databases does not work</a>), I'd like them to be loaded from the external properties file. I have tried different approaches to no avail:</p>\n\n<p><strong>1. I used Maven's <code>resource</code> element in the POM file:</strong></p>\n\n<pre><code>&lt;build&gt;\n      &lt;pluginManagement&gt;\n         &lt;plugins&gt;\n            &lt;plugin&gt;\n               &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\n               &lt;artifactId&gt;liquibase-maven-plugin&lt;/artifactId&gt;\n               &lt;version&gt;3.1.0&lt;/version&gt;\n               &lt;configuration&gt;\n                  &lt;changeLogFile&gt;db.changelog-master.xml&lt;/changeLogFile&gt;\n                  &lt;verbose&gt;true&lt;/verbose&gt;\n               &lt;/configuration&gt;\n            &lt;/plugin&gt;\n         &lt;/plugins&gt;\n      &lt;/pluginManagement&gt;\n   &lt;/build&gt;\n\n\n&lt;profiles&gt;\n    &lt;profile&gt;\n        &lt;id&gt;local&lt;/id&gt;\n        &lt;activation&gt;\n            &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\n        &lt;/activation&gt;\n        &lt;build&gt;\n            &lt;resources&gt;\n                &lt;resource&gt;\n                    &lt;directory&gt;src/main/resources/local&lt;/directory&gt;\n                &lt;/resource&gt;\n            &lt;/resources&gt;\n        &lt;/build&gt;\n        &lt;properties&gt;\n            &lt;liquibase.url&gt;${database.url}&lt;/liquibase.url&gt;\n            &lt;liquibase.driver&gt;${database.driver}&lt;/liquibase.driver&gt;\n            &lt;liquibase.username&gt;${database.username}&lt;/liquibase.username&gt;\n            &lt;liquibase.password&gt;${database.password}&lt;/liquibase.password&gt;\n        &lt;/properties&gt;\n    &lt;/profile&gt;\n    &lt;profile&gt;\n        &lt;id&gt;dev&lt;/id&gt;\n        &lt;build&gt;\n            &lt;resources&gt;\n                &lt;resource&gt;\n                    &lt;directory&gt;src/main/resources/dev&lt;/directory&gt;\n                &lt;/resource&gt;\n            &lt;/resources&gt;\n        &lt;/build&gt;\n        &lt;properties&gt;\n            &lt;liquibase.url&gt;${database.url}&lt;/liquibase.url&gt;\n            &lt;liquibase.driver&gt;${database.driver}&lt;/liquibase.driver&gt;\n            &lt;liquibase.username&gt;${database.username}&lt;/liquibase.username&gt;\n            &lt;liquibase.password&gt;${database.password}&lt;/liquibase.password&gt;\n        &lt;/properties&gt;\n    &lt;/profile&gt;\n&lt;/profiles&gt;\n</code></pre>\n\n<p><strong>2. I tried using the Properties Maven plugin:</strong></p>\n\n<pre><code>   &lt;plugin&gt;\n      &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n      &lt;artifactId&gt;properties-maven-plugin&lt;/artifactId&gt;\n      &lt;version&gt;1.0-alpha-2&lt;/version&gt;\n      &lt;executions&gt;\n         &lt;execution&gt;\n            &lt;phase&gt;initialize&lt;/phase&gt;\n            &lt;goals&gt;\n               &lt;goal&gt;read-project-properties&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n               &lt;files&gt;\n                  &lt;file&gt;src/main/resources/local/db.properties&lt;/file&gt;\n               &lt;/files&gt;\n            &lt;/configuration&gt;\n         &lt;/execution&gt;\n      &lt;/executions&gt;\n   &lt;/plugin&gt;\n</code></pre>\n\n<p>When I run the liquibase:update maven goal, I get this this error:</p>\n\n<pre><code>[ERROR] Failed to execute goal org.liquibase:liquibase-maven-plugin:3.1.0:update (default-cli) on project my-project: The driver has not been specified either as a parameter or in a properties file\n</code></pre>\n\n<p>It seems that the database properties referred to in the POM file couldn't be resolved.</p>\n\n<p>Any idea how this can be achieved ?</p>\n"},{"tags":["java","stream","java-stream","spliterator"],"answers":[{"comments":[{"owner":{"account_id":2595877,"reputation":3223,"user_id":2249582,"accept_rate":68,"display_name":"Radioreve"},"score":0,"creation_date":1673013313,"post_id":75031551,"comment_id":132407846,"body_markdown":"Thank you !! I managed to figure it all out","body":"Thank you !! I managed to figure it all out"}],"tags":[],"owner":{"account_id":3622515,"reputation":3911,"user_id":3020903,"accept_rate":50,"display_name":"Tarmo"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673011599,"creation_date":1673011599,"answer_id":75031551,"question_id":75031180,"body_markdown":"`Consumer&lt;? super Integer&gt; action` expects to accept objects of type `Integer` but you are supplying objects of type `List&lt;Integer&gt;`.\r\n\r\nThis can&#39;t possible compile:\r\n```\r\nConsumer&lt;? super Integer&gt; action = // ...\r\naction.accept(new ArrayList&lt;Integer&gt;());\r\n```\r\n\r\nThis could:\r\n\r\n```\r\nConsumer&lt;? super ArrayList&lt;Integer&gt;&gt; action = // ...\r\naction.accept(new ArrayList&lt;Integer&gt;());\r\n```","title":"Process a list by chunks generated using Spliterator instance type error","body":"<p><code>Consumer&lt;? super Integer&gt; action</code> expects to accept objects of type <code>Integer</code> but you are supplying objects of type <code>List&lt;Integer&gt;</code>.</p>\n<p>This can't possible compile:</p>\n<pre><code>Consumer&lt;? super Integer&gt; action = // ...\naction.accept(new ArrayList&lt;Integer&gt;());\n</code></pre>\n<p>This could:</p>\n<pre><code>Consumer&lt;? super ArrayList&lt;Integer&gt;&gt; action = // ...\naction.accept(new ArrayList&lt;Integer&gt;());\n</code></pre>\n"}],"owner":{"account_id":2595877,"reputation":3223,"user_id":2249582,"accept_rate":68,"display_name":"Radioreve"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75031551,"answer_count":1,"score":0,"last_activity_date":1673011599,"creation_date":1673009538,"question_id":75031180,"body_markdown":"In this program, there is a type error which I can&#39;t seem to be able to fix. The program was generated by ChatGPT and all other implementations he generated were correct. What did it miss ?\r\n\r\n    public class Main {\r\n    public static void main(String[] args) {\r\n\r\n    // Create a stream of integers from 1 to 10\r\n    IntStream stream = IntStream.range(1, 11);\r\n\r\n    // Process the stream in chunks of size 3 using a spliterator\r\n    int chunkSize = 3;\r\n    List&lt;List&lt;Integer&gt;&gt; chunks =\r\n        StreamSupport.stream(\r\n                new Spliterator&lt;Integer&gt;() {\r\n                  private final Spliterator&lt;Integer&gt; spliterator = stream.spliterator();\r\n                  private final List&lt;Integer&gt; chunk = new ArrayList&lt;&gt;(chunkSize);\r\n\r\n                  @Override\r\n                  public boolean tryAdvance(Consumer&lt;? super Integer&gt; action) {\r\n                    if (chunk.size() == chunkSize) {\r\n                      action.accept(new ArrayList&lt;&gt;(chunk));    // TypeError\r\n                      chunk.clear();\r\n                      return true;\r\n                    }\r\n                    if (spliterator.tryAdvance(\r\n                        elem -&gt; {\r\n                          chunk.add(elem);\r\n                          if (chunk.size() == chunkSize) {\r\n                            action.accept(new ArrayList&lt;&gt;(chunk));  // TypeError\r\n                            chunk.clear();\r\n                          }\r\n                        })) {\r\n                      if (!chunk.isEmpty()) {\r\n                        action.accept(new ArrayList&lt;&gt;(chunk));    // TypeError\r\n                        chunk.clear();\r\n                      }\r\n                      return true;\r\n                    }\r\n                    return false;\r\n                  }\r\n\r\n                  @Override\r\n                  public Spliterator&lt;Integer&gt; trySplit() {\r\n                    return null;\r\n                  }\r\n\r\n                  @Override\r\n                  public long estimateSize() {\r\n                    return spliterator.estimateSize();\r\n                  }\r\n\r\n                  @Override\r\n                  public int characteristics() {\r\n                    return spliterator.characteristics();\r\n                  }\r\n                },\r\n                false)\r\n            .toList();\r\n\r\n    // Print the chunks\r\n    for (List&lt;Integer&gt; chunk : chunks) {\r\n      System.out.println(chunk);\r\n    }\r\n   }","title":"Process a list by chunks generated using Spliterator instance type error","body":"<p>In this program, there is a type error which I can't seem to be able to fix. The program was generated by ChatGPT and all other implementations he generated were correct. What did it miss ?</p>\n<pre><code>public class Main {\npublic static void main(String[] args) {\n\n// Create a stream of integers from 1 to 10\nIntStream stream = IntStream.range(1, 11);\n\n// Process the stream in chunks of size 3 using a spliterator\nint chunkSize = 3;\nList&lt;List&lt;Integer&gt;&gt; chunks =\n    StreamSupport.stream(\n            new Spliterator&lt;Integer&gt;() {\n              private final Spliterator&lt;Integer&gt; spliterator = stream.spliterator();\n              private final List&lt;Integer&gt; chunk = new ArrayList&lt;&gt;(chunkSize);\n\n              @Override\n              public boolean tryAdvance(Consumer&lt;? super Integer&gt; action) {\n                if (chunk.size() == chunkSize) {\n                  action.accept(new ArrayList&lt;&gt;(chunk));    // TypeError\n                  chunk.clear();\n                  return true;\n                }\n                if (spliterator.tryAdvance(\n                    elem -&gt; {\n                      chunk.add(elem);\n                      if (chunk.size() == chunkSize) {\n                        action.accept(new ArrayList&lt;&gt;(chunk));  // TypeError\n                        chunk.clear();\n                      }\n                    })) {\n                  if (!chunk.isEmpty()) {\n                    action.accept(new ArrayList&lt;&gt;(chunk));    // TypeError\n                    chunk.clear();\n                  }\n                  return true;\n                }\n                return false;\n              }\n\n              @Override\n              public Spliterator&lt;Integer&gt; trySplit() {\n                return null;\n              }\n\n              @Override\n              public long estimateSize() {\n                return spliterator.estimateSize();\n              }\n\n              @Override\n              public int characteristics() {\n                return spliterator.characteristics();\n              }\n            },\n            false)\n        .toList();\n\n// Print the chunks\nfor (List&lt;Integer&gt; chunk : chunks) {\n  System.out.println(chunk);\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2714969,"reputation":5858,"user_id":2342558,"accept_rate":67,"display_name":"user2342558"},"score":0,"creation_date":1571988729,"post_id":58554059,"comment_id":103427810,"body_markdown":"Post your entire code, it seems there is something more, e.g. the `Config` inizialitation. Post the `main` method","body":"Post your entire code, it seems there is something more, e.g. the <code>Config</code> inizialitation. Post the <code>main</code> method"},{"owner":{"account_id":3730500,"reputation":1593,"user_id":3103067,"display_name":"Jannik"},"score":0,"creation_date":1571989488,"post_id":58554059,"comment_id":103428131,"body_markdown":"I think you need to use `Config&lt;T&gt;` in your init function","body":"I think you need to use <code>Config&lt;T&gt;</code> in your init function"}],"answers":[{"comments":[{"owner":{"account_id":6245015,"reputation":483,"user_id":4857290,"display_name":"Ralms"},"score":0,"creation_date":1673010985,"post_id":58554398,"comment_id":132407091,"body_markdown":"Although this adds some explanation, still doesn&#39;t provide a solution.\nAdditionally, I fail to see the difference between &lt;? extends IEntity&gt; and &lt;T extends IEntity&gt;, either one should respect the same condition.","body":"Although this adds some explanation, still doesn&#39;t provide a solution. Additionally, I fail to see the difference between &lt;? extends IEntity&gt; and &lt;T extends IEntity&gt;, either one should respect the same condition."},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1673011615,"post_id":58554398,"comment_id":132407259,"body_markdown":"@Ralms The conversion is illegal, like trying to convert an `Animal` to a `Dog`. So the solution is to redesign the code to avoid this in the first place, but I without knowing what the OP is doing, I can&#39;t really say anything useful, can I? I can give not-useful solutions, such as changing the type of `clazz` or `config` to be the same as the other one, or add an unchecked cast and hope that it doesn&#39;t crash at some later point.","body":"@Ralms The conversion is illegal, like trying to convert an <code>Animal</code> to a <code>Dog</code>. So the solution is to redesign the code to avoid this in the first place, but I without knowing what the OP is doing, I can&#39;t really say anything useful, can I? I can give not-useful solutions, such as changing the type of <code>clazz</code> or <code>config</code> to be the same as the other one, or add an unchecked cast and hope that it doesn&#39;t crash at some later point."},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1673011863,"post_id":58554398,"comment_id":132407335,"body_markdown":"@Ralms Also, I&#39;m pretty sure this Q&amp;A isn&#39;t about the difference between `&lt;? extends IEntity&gt;` and `&lt;T&gt;` where `T` has a `IEntity` bound *in general*. It is about why you can&#39;t implicitly convert one to the other.","body":"@Ralms Also, I&#39;m pretty sure this Q&amp;A isn&#39;t about the difference between <code>&lt;? extends IEntity&gt;</code> and <code>&lt;T&gt;</code> where <code>T</code> has a <code>IEntity</code> bound <i>in general</i>. It is about why you can&#39;t implicitly convert one to the other."}],"tags":[],"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673011394,"creation_date":1571990090,"answer_id":58554398,"question_id":58554059,"body_markdown":"It seems like you have not understood the difference between `&lt;? extends IEntity&gt;` and `&lt;T extends IEntity&gt;`.\r\n\r\nLet&#39;s introduce two subclasses of `IEntity`, and a constructor for `Config` for a clearer explanation:\r\n\r\n    class Entity1 extends IEntity {}\r\n    class Entity2 extends IEntity {}\r\n\r\n    // in Config class\r\n    public Config(Class&lt;? extends IEntity&gt; clazz) {\r\n        this.clazz = clazz;\r\n    }\r\n\r\nAt the line `this.clazz=config.getClazz();`, you are trying to assign a `Class&lt;? extends IEntity&gt;` to a `Class&lt;T&gt;`, where `T` is a subclass of `IEntity` or `IEntity` itself. The problem is, we don&#39;t know exactly what type of class `getClazz` returns. It could be `Class&lt;Entity1&gt;`, or `Class&lt;Entity2&gt;`. On the other hand, we _do_ know what type we need - `Class&lt;T&gt;`. How can we make sure that whatever `getClazz` returns, is the same type of class as `Class&lt;T&gt;`? `T` could be `Entity2` but `getClazz` could return `Class&lt;Entity1&gt;`, couldn&#39;t it?\r\n\r\nHere&#39;s a concrete example with code:\r\n\r\n    Config c = new Config(Entity1.class);\r\n    // c.config now contains Entity1.class\r\n    // the line below will attempt to assign an Entity1.class to a variable of type Class&lt;Entity2&gt;\r\n    new EntityTest&lt;Entity2&gt;().init(c);\r\n\r\nYou should now see why there is an error in `init`.\r\n\r\nOne way to make sure that `getClazz` returns the same type of class as `Class&lt;T&gt;` is to make `Config` generic too:\r\n\r\n    class Config&lt;T extends IEntity&gt; {\r\n        private Class&lt;T&gt; clazz;\r\n    \r\n        public Class&lt;T&gt; getClazz(){\r\n            return this.clazz;\r\n        }\r\n    }\r\n    \r\n    class EntityTest&lt;T extends IEntity&gt; {\r\n        private Class&lt;T&gt; clazz;\r\n    \r\n        public void init(Config&lt;T&gt; config){\r\n            this.clazz=config.getClazz();\r\n        }\r\n    }\r\n","title":"Inconvertible types; cannot cast &#39;caputure&lt;? extends IEntity&gt;&#39;to &#39;java.lang.Class&lt;T&gt;&#39;","body":"<p>It seems like you have not understood the difference between <code>&lt;? extends IEntity&gt;</code> and <code>&lt;T extends IEntity&gt;</code>.</p>\n<p>Let's introduce two subclasses of <code>IEntity</code>, and a constructor for <code>Config</code> for a clearer explanation:</p>\n<pre><code>class Entity1 extends IEntity {}\nclass Entity2 extends IEntity {}\n\n// in Config class\npublic Config(Class&lt;? extends IEntity&gt; clazz) {\n    this.clazz = clazz;\n}\n</code></pre>\n<p>At the line <code>this.clazz=config.getClazz();</code>, you are trying to assign a <code>Class&lt;? extends IEntity&gt;</code> to a <code>Class&lt;T&gt;</code>, where <code>T</code> is a subclass of <code>IEntity</code> or <code>IEntity</code> itself. The problem is, we don't know exactly what type of class <code>getClazz</code> returns. It could be <code>Class&lt;Entity1&gt;</code>, or <code>Class&lt;Entity2&gt;</code>. On the other hand, we <em>do</em> know what type we need - <code>Class&lt;T&gt;</code>. How can we make sure that whatever <code>getClazz</code> returns, is the same type of class as <code>Class&lt;T&gt;</code>? <code>T</code> could be <code>Entity2</code> but <code>getClazz</code> could return <code>Class&lt;Entity1&gt;</code>, couldn't it?</p>\n<p>Here's a concrete example with code:</p>\n<pre><code>Config c = new Config(Entity1.class);\n// c.config now contains Entity1.class\n// the line below will attempt to assign an Entity1.class to a variable of type Class&lt;Entity2&gt;\nnew EntityTest&lt;Entity2&gt;().init(c);\n</code></pre>\n<p>You should now see why there is an error in <code>init</code>.</p>\n<p>One way to make sure that <code>getClazz</code> returns the same type of class as <code>Class&lt;T&gt;</code> is to make <code>Config</code> generic too:</p>\n<pre><code>class Config&lt;T extends IEntity&gt; {\n    private Class&lt;T&gt; clazz;\n\n    public Class&lt;T&gt; getClazz(){\n        return this.clazz;\n    }\n}\n\nclass EntityTest&lt;T extends IEntity&gt; {\n    private Class&lt;T&gt; clazz;\n\n    public void init(Config&lt;T&gt; config){\n        this.clazz=config.getClazz();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15182976,"reputation":23,"user_id":10955811,"display_name":"justinfiled"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1571990305,"creation_date":1571990305,"answer_id":58554458,"question_id":58554059,"body_markdown":"   `&lt;? extend IEntity&gt;` indicates that the class must be IEntity or it&#39;s subclass. The &quot;T&quot; in your code is just one subclass of IEntity(there can be many subclasses of `&lt;? extend IEntity&gt;`), you could not be sure that `&lt;? extend IEntity&gt;` is same as &quot;T&quot; or is subclass of &quot;T&quot; . so the type cast is illegale.","title":"Inconvertible types; cannot cast &#39;caputure&lt;? extends IEntity&gt;&#39;to &#39;java.lang.Class&lt;T&gt;&#39;","body":"<p><code>&lt;? extend IEntity&gt;</code> indicates that the class must be IEntity or it's subclass. The \"T\" in your code is just one subclass of IEntity(there can be many subclasses of <code>&lt;? extend IEntity&gt;</code>), you could not be sure that <code>&lt;? extend IEntity&gt;</code> is same as \"T\" or is subclass of \"T\" . so the type cast is illegale.</p>\n"}],"owner":{"account_id":14150229,"reputation":21,"user_id":10222341,"display_name":"LONGZHU"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3226,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1673011394,"creation_date":1571988531,"question_id":58554059,"body_markdown":"There are three class,class IEntity is an abstract class,which is only used for generic.\r\n\r\nClass one:\r\n\r\n```java\r\npublic abstract class IEntity {\r\n}\r\n```\r\n\r\nclass two:\r\n\r\n```java\r\npublic class Config {\r\n    private Class&lt;? extends IEntity&gt; clazz;\r\n\r\n    public Class&lt;? extends IEntity&gt; getClazz(){\r\n        return this.clazz;\r\n    }\r\n}\r\n```\r\n\r\nclass three:\r\n\r\n```java\r\npublic class EntityTest&lt;T extends IEntity&gt; {\r\n    private Class&lt;T&gt; clazz;\r\n\r\n    public void init(Config config){\r\n       //Here is the wrong report\r\n       // Failed to compile\r\n        this.clazz=config.getClazz();\r\n    }\r\n}\r\n```","title":"Inconvertible types; cannot cast &#39;caputure&lt;? extends IEntity&gt;&#39;to &#39;java.lang.Class&lt;T&gt;&#39;","body":"<p>There are three class,class IEntity is an abstract class,which is only used for generic.</p>\n\n<p>Class one:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public abstract class IEntity {\n}\n</code></pre>\n\n<p>class two:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class Config {\n    private Class&lt;? extends IEntity&gt; clazz;\n\n    public Class&lt;? extends IEntity&gt; getClazz(){\n        return this.clazz;\n    }\n}\n</code></pre>\n\n<p>class three:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class EntityTest&lt;T extends IEntity&gt; {\n    private Class&lt;T&gt; clazz;\n\n    public void init(Config config){\n       //Here is the wrong report\n       // Failed to compile\n        this.clazz=config.getClazz();\n    }\n}\n</code></pre>\n"},{"tags":["java","android","processing",".obj"],"owner":{"account_id":27033810,"reputation":21,"user_id":20589753,"display_name":"mbbl33"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673011146,"creation_date":1673011146,"question_id":75031470,"body_markdown":"I am trying to draw an .obj file offscreen under Android.\r\nThe image should then be passed to OpenCV for further use as a matrix.\r\n\r\nIn 2D the whole thing already works without problems.\r\n\r\n\r\n\r\n```java\r\npublic class ObjDrawer extends PApplet {\r\n\r\n    PGraphics buffer;\r\n    PShape obj;\r\n    int width;\r\n    int height;\r\n\r\n    public ObjDrawer(int width, int height) {\r\n        this.width = width;\r\n        this.height = height;\r\n        setup();\r\n    }\r\n\r\n    @Override\r\n    public void setup() {\r\n        buffer = createGraphics(this.width, this.height, P3D);\r\n        //obj = loadShape(&quot;Wuerfel_40mm.obj&quot;);\r\n        noLoop();\r\n    }\r\n\r\n    public Mat testDraw() {\r\n        buffer.beginDraw();\r\n        buffer.background(255);\r\n        buffer.ellipse(200, 200, 100, 100);\r\n        //buffer.shape(obj);\r\n        buffer.endDraw();\r\n        return toMat(buffer.get());\r\n    }\r\n\r\n    Mat toMat(PImage image) {\r\n        //source: https://gist.github.com/Spaxe/3543f0005e9f8f3c4dc5\r\n        int w = image.width;\r\n        int h = image.height;\r\n\r\n        Mat mat = new Mat(h, w, CvType.CV_8UC4);\r\n        byte[] data8 = new byte[w * h * 4];\r\n        int[] data32 = new int[w * h];\r\n        arrayCopy(image.pixels, data32);\r\n        ByteBuffer bBuf = ByteBuffer.allocate(w * h * 4);\r\n        IntBuffer iBuf = bBuf.asIntBuffer();\r\n        iBuf.put(data32);\r\n        bBuf.get(data8);\r\n        mat.put(0, 0, data8);\r\n        return mat;\r\n    }\r\n\r\n}\r\n```\r\n\r\nWhen using 3D, I now get the following error message:\r\n\r\n```\r\njava.lang.NullPointerException: Attempt to invoke virtual method &#39;boolean processing.core.PGraphics.isGL()&#39; on a null object reference\r\n\tat processing.core.PApplet.makeGraphics(PApplet.java:1584)\r\n\tat processing.core.PApplet.createGraphics(PApplet.java:1568)\r\n\tat Analyzer.ObjDrawer.setup(ObjDrawer.java:52)\r\n\tat Analyzer.ObjDrawer.&lt;init&gt;(ObjDrawer.java:45)\r\n\tat com.quickbirdstudios.opencvexample.MainActivity$cvCameraViewListener$1.onCameraFrame(MainActivity.kt:75)\r\n\tat org.opencv.android.CameraBridgeViewBase.deliverAndDrawFrame(CameraBridgeViewBase.java:392)\r\n\tat org.opencv.android.JavaCameraView$CameraWorker.run(JavaCameraView.java:373)\r\n\tat java.lang.Thread.run(Thread.java:920)\r\n```\r\n\r\nIn my research I read about a3d, this is missing for me. Since all the stuff I found regarding a3d was about 10 years old: has anything changed in this regard or has it been replaced or do I need to include this separately?\r\n\r\nI have included Processing as in the tutorial on [https://android.processing.org/tutorials/android_studio/index.html](https://android.processing.org/tutorials/android_studio/index.html)\r\n\r\nintegrated. I use Android Mode for Processing 3 4.3.0, because the mode manager in Processing 4 is currently broken.\r\n\r\nmany thanks in advance!","title":"draw an .obj file offscreen under android with processing","body":"<p>I am trying to draw an .obj file offscreen under Android.\nThe image should then be passed to OpenCV for further use as a matrix.</p>\n<p>In 2D the whole thing already works without problems.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ObjDrawer extends PApplet {\n\n    PGraphics buffer;\n    PShape obj;\n    int width;\n    int height;\n\n    public ObjDrawer(int width, int height) {\n        this.width = width;\n        this.height = height;\n        setup();\n    }\n\n    @Override\n    public void setup() {\n        buffer = createGraphics(this.width, this.height, P3D);\n        //obj = loadShape(&quot;Wuerfel_40mm.obj&quot;);\n        noLoop();\n    }\n\n    public Mat testDraw() {\n        buffer.beginDraw();\n        buffer.background(255);\n        buffer.ellipse(200, 200, 100, 100);\n        //buffer.shape(obj);\n        buffer.endDraw();\n        return toMat(buffer.get());\n    }\n\n    Mat toMat(PImage image) {\n        //source: https://gist.github.com/Spaxe/3543f0005e9f8f3c4dc5\n        int w = image.width;\n        int h = image.height;\n\n        Mat mat = new Mat(h, w, CvType.CV_8UC4);\n        byte[] data8 = new byte[w * h * 4];\n        int[] data32 = new int[w * h];\n        arrayCopy(image.pixels, data32);\n        ByteBuffer bBuf = ByteBuffer.allocate(w * h * 4);\n        IntBuffer iBuf = bBuf.asIntBuffer();\n        iBuf.put(data32);\n        bBuf.get(data8);\n        mat.put(0, 0, data8);\n        return mat;\n    }\n\n}\n</code></pre>\n<p>When using 3D, I now get the following error message:</p>\n<pre><code>java.lang.NullPointerException: Attempt to invoke virtual method 'boolean processing.core.PGraphics.isGL()' on a null object reference\n    at processing.core.PApplet.makeGraphics(PApplet.java:1584)\n    at processing.core.PApplet.createGraphics(PApplet.java:1568)\n    at Analyzer.ObjDrawer.setup(ObjDrawer.java:52)\n    at Analyzer.ObjDrawer.&lt;init&gt;(ObjDrawer.java:45)\n    at com.quickbirdstudios.opencvexample.MainActivity$cvCameraViewListener$1.onCameraFrame(MainActivity.kt:75)\n    at org.opencv.android.CameraBridgeViewBase.deliverAndDrawFrame(CameraBridgeViewBase.java:392)\n    at org.opencv.android.JavaCameraView$CameraWorker.run(JavaCameraView.java:373)\n    at java.lang.Thread.run(Thread.java:920)\n</code></pre>\n<p>In my research I read about a3d, this is missing for me. Since all the stuff I found regarding a3d was about 10 years old: has anything changed in this regard or has it been replaced or do I need to include this separately?</p>\n<p>I have included Processing as in the tutorial on <a href=\"https://android.processing.org/tutorials/android_studio/index.html\" rel=\"nofollow noreferrer\">https://android.processing.org/tutorials/android_studio/index.html</a></p>\n<p>integrated. I use Android Mode for Processing 3 4.3.0, because the mode manager in Processing 4 is currently broken.</p>\n<p>many thanks in advance!</p>\n"},{"tags":["javascript","java","jsp","webpack","esbuild"],"owner":{"account_id":17730,"reputation":5723,"user_id":39998,"accept_rate":73,"display_name":"David Hofmann"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1673011098,"creation_date":1672988573,"question_id":75027915,"body_markdown":"I have a legacy Java app using JS inside JSPs. We statically import JS dependencies from filesystem into our JSP files, some of them are old JS dependencies, some of them are newer and use the import/export JS feature. \r\n\r\n**For the module-based dependencies I&#39;d like to bundle them.** Most if not all bundlers I am familiar with, like webpack/esbuild uses an entry point to analyze the usage of dependencies and then bundles all dependencies and all app code used from entry-point onwards and puts them all in one big file\r\n\r\nMy JSP page spit JS code like so\r\n\r\n    &lt;script type=&quot;module&quot;&gt;\r\n       // do some stuff...\r\n       import { RFB } from &#39;rfb.js&#39; // dozen of js files \r\n                                    // referenced, that is why\r\n                                    // i want to bundle them \r\n                                    // into just one js file...\r\n       // do some stuff with RFB\r\n    &lt;/script&gt;\r\n\r\nThen in the a dummy entrypoint I&#39;d like to do that same import in a separate esbuild project for the purpose of bundling the module in one js file.\r\n\r\n**The idea is to use a dummy entry point that imports the elements I know I use in my JSP application and use that project (webpack/esbuild) for the purpose of using its bundling functionality.** However, the bundle usually has this format\r\n\r\n    1. (() =&gt; {\r\n    2. // - Dependencies 1, 2, N goes here\r\n    3. // - import/export statements removed.\r\n    4. //\r\n    5. // - entry-point code\r\n    6. // - app code\r\n    7. })();\r\n\r\nOf course if I import this file into my JSP file I can&#39;t access the dependencies. I was thinking of doing one of these 2 things:\r\n1. I could add in the entry-point something like: `window.ClassIAmInterested = ClassIAmInterested` then that class will be available in the global scope of my JSP page. \r\n2. I could remove the lines 1 and 7 of the bundle and then everything would be available in the global scope.\r\n\r\nAnd although either of the 2 options might work I don&#39;t fully understand the implications of doing it. I know I am trying to use the bundlers in a way they are not designed, since I explicitly want to use the entry point as a dummy code that will just import whatever I know I use in my JSP pages. So **I need clarity regarding if what I am trying to do is ok or if there is a better way of doing it.**\r\n\r\n\r\n     ","title":"Using a JS bundler with a dummy entry point just for bundling purposes","body":"<p>I have a legacy Java app using JS inside JSPs. We statically import JS dependencies from filesystem into our JSP files, some of them are old JS dependencies, some of them are newer and use the import/export JS feature.</p>\n<p><strong>For the module-based dependencies I'd like to bundle them.</strong> Most if not all bundlers I am familiar with, like webpack/esbuild uses an entry point to analyze the usage of dependencies and then bundles all dependencies and all app code used from entry-point onwards and puts them all in one big file</p>\n<p>My JSP page spit JS code like so</p>\n<pre><code>&lt;script type=&quot;module&quot;&gt;\n   // do some stuff...\n   import { RFB } from 'rfb.js' // dozen of js files \n                                // referenced, that is why\n                                // i want to bundle them \n                                // into just one js file...\n   // do some stuff with RFB\n&lt;/script&gt;\n</code></pre>\n<p>Then in the a dummy entrypoint I'd like to do that same import in a separate esbuild project for the purpose of bundling the module in one js file.</p>\n<p><strong>The idea is to use a dummy entry point that imports the elements I know I use in my JSP application and use that project (webpack/esbuild) for the purpose of using its bundling functionality.</strong> However, the bundle usually has this format</p>\n<pre><code>1. (() =&gt; {\n2. // - Dependencies 1, 2, N goes here\n3. // - import/export statements removed.\n4. //\n5. // - entry-point code\n6. // - app code\n7. })();\n</code></pre>\n<p>Of course if I import this file into my JSP file I can't access the dependencies. I was thinking of doing one of these 2 things:</p>\n<ol>\n<li>I could add in the entry-point something like: <code>window.ClassIAmInterested = ClassIAmInterested</code> then that class will be available in the global scope of my JSP page.</li>\n<li>I could remove the lines 1 and 7 of the bundle and then everything would be available in the global scope.</li>\n</ol>\n<p>And although either of the 2 options might work I don't fully understand the implications of doing it. I know I am trying to use the bundlers in a way they are not designed, since I explicitly want to use the entry point as a dummy code that will just import whatever I know I use in my JSP pages. So <strong>I need clarity regarding if what I am trying to do is ok or if there is a better way of doing it.</strong></p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9472,"page":751,"page_size":100}
