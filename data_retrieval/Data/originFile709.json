{"items":[{"tags":["java","jsp","tomcat"],"comments":[{"owner":{"account_id":12344423,"reputation":555,"user_id":9006088,"display_name":"Hari Prasandh"},"score":0,"creation_date":1657258068,"post_id":72906785,"comment_id":128772578,"body_markdown":"@ScaryWombat JSP i have added is not a controller. it is just a view. \n\nMy question is even when run time compilation is disabled, How class file is created inside &#39;tomcat/work&#39; folder?","body":"@ScaryWombat JSP i have added is not a controller. it is just a view.   My question is even when run time compilation is disabled, How class file is created inside &#39;tomcat/work&#39; folder?"},{"owner":{"account_id":1410041,"reputation":7508,"user_id":1336841,"display_name":"Forketyfork"},"score":0,"creation_date":1657258885,"post_id":72906785,"comment_id":128772731,"body_markdown":"Tomcat compiles JSP files at runtime, it can&#39;t even execute a JSP without compiling it first. Can you clarify what do you mean by &quot;compilation is disabled&quot;?","body":"Tomcat compiles JSP files at runtime, it can&#39;t even execute a JSP without compiling it first. Can you clarify what do you mean by &quot;compilation is disabled&quot;?"},{"owner":{"account_id":12344423,"reputation":555,"user_id":9006088,"display_name":"Hari Prasandh"},"score":0,"creation_date":1657259777,"post_id":72906785,"comment_id":128772874,"body_markdown":"@Sergei I removed \n\n&lt;servlet-name&gt;jsp&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;org.apache.jasper.servlet.JspServlet&lt;/servlet-class&gt;\n\nconfiguration in $CATALINA\\conf\\web.xml\n\nSo that runtime compilation does not work","body":"@Sergei I removed   &lt;servlet-name&gt;jsp&lt;/servlet-name&gt;     &lt;servlet-class&gt;org.apache.jasper.servlet.JspServlet&lt;/servlet&zwnj;&#8203;-class&gt;  configuration in $CATALINA\\conf\\web.xml  So that runtime compilation does not work"}],"owner":{"account_id":12344423,"reputation":555,"user_id":9006088,"display_name":"Hari Prasandh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1657258231,"answer_count":0,"score":0,"last_activity_date":1674472908,"creation_date":1657256027,"question_id":72906785,"body_markdown":"How does jsp compilation work for the below configuration. Even when run time compilation is disabled. Tomcat compiles the file &#39;/jsp/myjsp.jsp&#39; at runtime.\r\n\r\n```\r\n    &lt;servlet&gt;\r\n        &lt;servlet-name&gt;S1&lt;/servlet-name&gt;\r\n        &lt;jsp-file&gt;/jsp/myjsp.jsp&lt;/jsp-file&gt;\r\n    &lt;/servlet&gt;\r\n    &lt;servlet-mapping&gt;\r\n        &lt;servlet-name&gt;S1&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;/myjsp&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;\r\n```\r\n\r\nEdit: \r\n\r\nI removed &lt;servlet-name&gt;jsp&lt;/servlet-name&gt; &lt;servlet-class&gt;org.apache.jasper.servlet.JspServlet&lt;/servlet-class&gt; configuration in $CATALINA\\conf\\web.xml So that runtime compilation does not work\r\n\r\nEdit2:\r\nBefore closing the question, read the question properly. I have disabled runtime compilation. Still tomcat compiles the jsp at runtime when it is mentioned in servlet mapping, Question is how does this occur\r\n\r\nNote: JSP placed  inside any folder is not compiled when accessed using absolute path\r\n\r\nWhen run time compilation is removed, following cases occurs.\r\n\r\n```\r\nJSP 1: Accessed directly without servlet-mapping in web.xml\r\nEx: http://localhost:8080/jsp/notcomplied.jsp\r\n```\r\n\r\nIt just prints the java code when url is loaded\r\n```\r\nJSP 2: JSP is configured in servlet-mapping mentioned above in question.\r\nEx: http://localhost:8080/msjsp\r\n```\r\nJava code is compiled and output is printed.\r\n\r\nExpected output for JSP 2: Print the java code in the file.","title":"JSP compilation in servlet mapping during runtime","body":"<p>How does jsp compilation work for the below configuration. Even when run time compilation is disabled. Tomcat compiles the file '/jsp/myjsp.jsp' at runtime.</p>\n<pre><code>    &lt;servlet&gt;\n        &lt;servlet-name&gt;S1&lt;/servlet-name&gt;\n        &lt;jsp-file&gt;/jsp/myjsp.jsp&lt;/jsp-file&gt;\n    &lt;/servlet&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;S1&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/myjsp&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n</code></pre>\n<p>Edit:</p>\n<p>I removed jsp org.apache.jasper.servlet.JspServlet configuration in $CATALINA\\conf\\web.xml So that runtime compilation does not work</p>\n<p>Edit2:\nBefore closing the question, read the question properly. I have disabled runtime compilation. Still tomcat compiles the jsp at runtime when it is mentioned in servlet mapping, Question is how does this occur</p>\n<p>Note: JSP placed  inside any folder is not compiled when accessed using absolute path</p>\n<p>When run time compilation is removed, following cases occurs.</p>\n<pre><code>JSP 1: Accessed directly without servlet-mapping in web.xml\nEx: http://localhost:8080/jsp/notcomplied.jsp\n</code></pre>\n<p>It just prints the java code when url is loaded</p>\n<pre><code>JSP 2: JSP is configured in servlet-mapping mentioned above in question.\nEx: http://localhost:8080/msjsp\n</code></pre>\n<p>Java code is compiled and output is printed.</p>\n<p>Expected output for JSP 2: Print the java code in the file.</p>\n"},{"tags":["java","spring","annotations","spring-annotations","spring-profiles"],"answers":[{"tags":[],"owner":{"account_id":1351713,"reputation":33846,"user_id":1291150,"display_name":"Bohuslav Burghardt"},"comment_count":0,"down_vote_count":0,"up_vote_count":22,"is_accepted":true,"score":22,"last_activity_date":1417371317,"creation_date":1417371317,"answer_id":27216503,"question_id":27216388,"body_markdown":"If you look at the JavaDoc of [`ActiveProfiles`][1] annotation, it contains this text:\r\n\r\n&gt; ActiveProfiles is a class-level annotation that is used to declare which active bean definition profiles should be used when loading an ApplicationContext **for test classes**. \r\n\r\nMeaning it is only supposed to be used to declare active Spring profiles for **test classes**. So If put it on a Configuration class it should have no effect.\r\n\r\nAnd as for the `@Profile` annotation, it can be used on both method and class level. If you use it on method annotated with `@Bean` in configuration class, only that bean will belong to the profile. If you use it on configuration class, it will be applied to all the beans within the configuration class, if you use it on `@Component` class, the profile will be applied to the bean represented by that class.\r\n\r\n[`@Profile` annotation JavaDoc][2] provides more detailed explanation of these rules.\r\n\r\n&gt; Why I have to use the @Profile annotation on a **configuration class* instead annotate directly my beans?\r\n\r\nWell if all beans in given configuration class should be active only for certain profile(s) then it makes sense to declare that globally on the configuration class to avoid having to individually specify the profile on all beans. But If you were to annotate all indiviudal beans it would work as well.\r\n\r\n  [1]: http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/test/context/ActiveProfiles.html\r\n  [2]: http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/context/annotation/Profile.html","title":"What happens in Spring if I use the @ActiveProfiles annotation on a configuration class instead use it on the class that defines my beans?","body":"<p>If you look at the JavaDoc of <a href=\"http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/test/context/ActiveProfiles.html\" rel=\"noreferrer\"><code>ActiveProfiles</code></a> annotation, it contains this text:</p>\n\n<blockquote>\n  <p>ActiveProfiles is a class-level annotation that is used to declare which active bean definition profiles should be used when loading an ApplicationContext <strong>for test classes</strong>. </p>\n</blockquote>\n\n<p>Meaning it is only supposed to be used to declare active Spring profiles for <strong>test classes</strong>. So If put it on a Configuration class it should have no effect.</p>\n\n<p>And as for the <code>@Profile</code> annotation, it can be used on both method and class level. If you use it on method annotated with <code>@Bean</code> in configuration class, only that bean will belong to the profile. If you use it on configuration class, it will be applied to all the beans within the configuration class, if you use it on <code>@Component</code> class, the profile will be applied to the bean represented by that class.</p>\n\n<p><a href=\"http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/context/annotation/Profile.html\" rel=\"noreferrer\"><code>@Profile</code> annotation JavaDoc</a> provides more detailed explanation of these rules.</p>\n\n<blockquote>\n  <p>Why I have to use the @Profile annotation on a **configuration class* instead annotate directly my beans?</p>\n</blockquote>\n\n<p>Well if all beans in given configuration class should be active only for certain profile(s) then it makes sense to declare that globally on the configuration class to avoid having to individually specify the profile on all beans. But If you were to annotate all indiviudal beans it would work as well.</p>\n"},{"tags":[],"owner":{"account_id":10968388,"reputation":34405,"user_id":8059459,"accept_rate":90,"display_name":"Willem van der Veen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674472847,"creation_date":1674472847,"answer_id":75208775,"question_id":27216388,"body_markdown":"The `@ActiveProfiles` notation is a way of specifying which Spring profiles should be active in a particular context. It is useful for declaring which beans should be created and which configurations should be applied. An example of using the `@ActiveProfiles` notation would be:\r\n\r\n    @ActiveProfiles(&quot;test&quot;)\r\n    public class MyTestClass {\r\n        //test methods here\r\n    }\r\n\r\nIn this example, the &quot;test&quot; profile is active for the class MyTestClass. This means that any beans or configurations associated with the &quot;test&quot; profile will be applied when running any tests in this class.\r\n","title":"What happens in Spring if I use the @ActiveProfiles annotation on a configuration class instead use it on the class that defines my beans?","body":"<p>The <code>@ActiveProfiles</code> notation is a way of specifying which Spring profiles should be active in a particular context. It is useful for declaring which beans should be created and which configurations should be applied. An example of using the <code>@ActiveProfiles</code> notation would be:</p>\n<pre><code>@ActiveProfiles(&quot;test&quot;)\npublic class MyTestClass {\n    //test methods here\n}\n</code></pre>\n<p>In this example, the &quot;test&quot; profile is active for the class MyTestClass. This means that any beans or configurations associated with the &quot;test&quot; profile will be applied when running any tests in this class.</p>\n"}],"owner":{"account_id":2056257,"reputation":41415,"user_id":1833945,"accept_rate":65,"display_name":"AndreaNobili"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22480,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":27216503,"answer_count":2,"score":13,"last_activity_date":1674472847,"creation_date":1417370511,"question_id":27216388,"body_markdown":"I am studying for the **Spring Core** certification and I have some doubts related to the use of **profiles** into **JUnit tests**.\r\n\r\nSo I know that if I annote a class in the following way:\r\n\r\n    @Profile(&quot;stub&quot;)\r\n    @Repository\r\n    public class StubAccountRepository implements AccountRepository {\r\n    \r\n    \tprivate Logger logger = Logger.getLogger(StubAccountRepository.class);\r\n    \r\n    \tprivate Map&lt;String, Account&gt; accountsByCreditCard = new HashMap&lt;String, Account&gt;();\r\n    \r\n    \t/**\r\n    \t * Creates a single test account with two beneficiaries. Also logs creation\r\n    \t * so we know which repository we are using.\r\n    \t */\r\n    \tpublic StubAccountRepository() {\r\n    \t\tlogger.info(&quot;Creating &quot; + getClass().getSimpleName());\r\n    \t\tAccount account = new Account(&quot;123456789&quot;, &quot;Keith and Keri Donald&quot;);\r\n    \t\taccount.addBeneficiary(&quot;Annabelle&quot;, Percentage.valueOf(&quot;50%&quot;));\r\n    \t\taccount.addBeneficiary(&quot;Corgan&quot;, Percentage.valueOf(&quot;50%&quot;));\r\n    \t\taccountsByCreditCard.put(&quot;1234123412341234&quot;, account);\r\n    \t}\r\n    \r\n    \tpublic Account findByCreditCard(String creditCardNumber) {\r\n    \t\tAccount account = accountsByCreditCard.get(creditCardNumber);\r\n    \t\tif (account == null) {\r\n    \t\t\tthrow new EmptyResultDataAccessException(1);\r\n    \t\t}\r\n    \t\treturn account;\r\n    \t}\r\n    \r\n    \tpublic void updateBeneficiaries(Account account) {\r\n    \t\t// nothing to do, everything is in memory\r\n    \t}\r\n    }\r\n\r\nI am declaring a **service bean** that belongs to the **stub** profile.\r\n\r\nSo, if my **test class** is something like this:\r\n\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @ContextConfiguration(classes=TestInfrastructureConfig.class)\r\n    @ActiveProfiles(&quot;stub&quot;)\r\n    public class RewardNetworkTests {\r\n        .....................................\r\n        .....................................\r\n        .....................................\r\n    }\r\n\r\nit means that it will be used the beans bean that belong to the **stub** profile and the bean that not have a profile. Is it right or am I missing something?\r\n\r\nWhat happens if instead use the **@ActiveProfiles** annotation on a class (whose instance will be a Spring bean) I use it on a **Java Configuration Class**?\r\n\r\nSomething like it:\r\n\r\n    @Configuration\r\n    @Profile(&quot;jdbc-dev&quot;)\r\n    public class TestInfrastructureDevConfig {\r\n    \r\n    \t/**\r\n    \t * Creates an in-memory &quot;rewards&quot; database populated \r\n    \t * with test data for fast testing\r\n    \t */\r\n    \t@Bean\r\n    \tpublic DataSource dataSource(){\r\n    \t\treturn\r\n    \t\t\t(new EmbeddedDatabaseBuilder())\r\n    \t\t\t.addScript(&quot;classpath:rewards/testdb/schema.sql&quot;)\r\n    \t\t\t.addScript(&quot;classpath:rewards/testdb/test-data.sql&quot;)\r\n    \t\t\t.build();\r\n    \t}\t\r\n    }\r\n\r\nWhat exactly do? I think that all the beans configured in this class will belong to the **jdbc-dev** profile, but I am not sure about it. Can you give me more information about this thing?\r\n\r\nWhy I have to use the **@Profile** annotation on a **configuration class* instead annotate directly my beans?\r\n\r\nTnx\r\n","title":"What happens in Spring if I use the @ActiveProfiles annotation on a configuration class instead use it on the class that defines my beans?","body":"<p>I am studying for the <strong>Spring Core</strong> certification and I have some doubts related to the use of <strong>profiles</strong> into <strong>JUnit tests</strong>.</p>\n\n<p>So I know that if I annote a class in the following way:</p>\n\n<pre><code>@Profile(\"stub\")\n@Repository\npublic class StubAccountRepository implements AccountRepository {\n\n    private Logger logger = Logger.getLogger(StubAccountRepository.class);\n\n    private Map&lt;String, Account&gt; accountsByCreditCard = new HashMap&lt;String, Account&gt;();\n\n    /**\n     * Creates a single test account with two beneficiaries. Also logs creation\n     * so we know which repository we are using.\n     */\n    public StubAccountRepository() {\n        logger.info(\"Creating \" + getClass().getSimpleName());\n        Account account = new Account(\"123456789\", \"Keith and Keri Donald\");\n        account.addBeneficiary(\"Annabelle\", Percentage.valueOf(\"50%\"));\n        account.addBeneficiary(\"Corgan\", Percentage.valueOf(\"50%\"));\n        accountsByCreditCard.put(\"1234123412341234\", account);\n    }\n\n    public Account findByCreditCard(String creditCardNumber) {\n        Account account = accountsByCreditCard.get(creditCardNumber);\n        if (account == null) {\n            throw new EmptyResultDataAccessException(1);\n        }\n        return account;\n    }\n\n    public void updateBeneficiaries(Account account) {\n        // nothing to do, everything is in memory\n    }\n}\n</code></pre>\n\n<p>I am declaring a <strong>service bean</strong> that belongs to the <strong>stub</strong> profile.</p>\n\n<p>So, if my <strong>test class</strong> is something like this:</p>\n\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)\n@ContextConfiguration(classes=TestInfrastructureConfig.class)\n@ActiveProfiles(\"stub\")\npublic class RewardNetworkTests {\n    .....................................\n    .....................................\n    .....................................\n}\n</code></pre>\n\n<p>it means that it will be used the beans bean that belong to the <strong>stub</strong> profile and the bean that not have a profile. Is it right or am I missing something?</p>\n\n<p>What happens if instead use the <strong>@ActiveProfiles</strong> annotation on a class (whose instance will be a Spring bean) I use it on a <strong>Java Configuration Class</strong>?</p>\n\n<p>Something like it:</p>\n\n<pre><code>@Configuration\n@Profile(\"jdbc-dev\")\npublic class TestInfrastructureDevConfig {\n\n    /**\n     * Creates an in-memory \"rewards\" database populated \n     * with test data for fast testing\n     */\n    @Bean\n    public DataSource dataSource(){\n        return\n            (new EmbeddedDatabaseBuilder())\n            .addScript(\"classpath:rewards/testdb/schema.sql\")\n            .addScript(\"classpath:rewards/testdb/test-data.sql\")\n            .build();\n    }   \n}\n</code></pre>\n\n<p>What exactly do? I think that all the beans configured in this class will belong to the <strong>jdbc-dev</strong> profile, but I am not sure about it. Can you give me more information about this thing?</p>\n\n<p>Why I have to use the <strong>@Profile</strong> annotation on a **configuration class* instead annotate directly my beans?</p>\n\n<p>Tnx</p>\n"},{"tags":["java","spring","spring-mvc","parallel-processing","spring-batch"],"comments":[{"owner":{"account_id":22565,"reputation":11004,"user_id":55794,"accept_rate":54,"display_name":"emeraldjava"},"score":0,"creation_date":1402504315,"post_id":23357024,"comment_id":37301575,"body_markdown":"Hi, See this post which outlines how to use the flow and split elem elements. I&#39;m trying to do exactly the same as you but am still stuck with it. http://javaetmoi.com/2012/12/parallelisation-de-traitements-batchs-spring-batch","body":"Hi, See this post which outlines how to use the flow and split elem elements. I&#39;m trying to do exactly the same as you but am still stuck with it. <a href=\"http://javaetmoi.com/2012/12/parallelisation-de-traitements-batchs-spring-batch\" rel=\"nofollow noreferrer\">javaetmoi.com/2012/12/&hellip;</a>"},{"owner":{"account_id":22565,"reputation":11004,"user_id":55794,"accept_rate":54,"display_name":"emeraldjava"},"score":0,"creation_date":1402504448,"post_id":23357024,"comment_id":37301640,"body_markdown":"This is a second post i found related to this topic. http://forum.spring.io/forum/spring-projects/batch/80527-defining-a-flow-inside-a-partitionstep","body":"This is a second post i found related to this topic. <a href=\"http://forum.spring.io/forum/spring-projects/batch/80527-defining-a-flow-inside-a-partitionstep\" rel=\"nofollow noreferrer\">forum.spring.io/forum/spring-projects/batch/&hellip;</a>"},{"owner":{"account_id":2283656,"reputation":36,"user_id":2008215,"display_name":"mremond"},"score":0,"creation_date":1444826048,"post_id":23357024,"comment_id":54063215,"body_markdown":"I had a similar issue, please take a look at http://stackoverflow.com/questions/33121176/spring-batch-flowstep-in-partitioner-restart-issue/33125360#33125360","body":"I had a similar issue, please take a look at <a href=\"http://stackoverflow.com/questions/33121176/spring-batch-flowstep-in-partitioner-restart-issue/33125360#33125360\" title=\"spring batch flowstep in partitioner restart issue\">stackoverflow.com/questions/33121176/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":1334876,"reputation":3668,"user_id":1277864,"accept_rate":70,"display_name":"Dangling Piyush"},"score":0,"creation_date":1408432822,"post_id":25329449,"comment_id":39575248,"body_markdown":"I don&#39;t think it would work ...By seeing at your configuration each tasklet is running a different job..This is not desirable ..I need to have a single batch job with above mentioned behavior..thanks","body":"I don&#39;t think it would work ...By seeing at your configuration each tasklet is running a different job..This is not desirable ..I need to have a single batch job with above mentioned behavior..thanks"},{"owner":{"account_id":3607248,"reputation":71,"user_id":3009150,"display_name":"Arun Duraisamy"},"score":0,"creation_date":1408472709,"post_id":25329449,"comment_id":39599238,"body_markdown":"I have configured same way and working fine in production. If you don&#39;t need it as separate job, configure it as flow. The flow contain all the three steps.","body":"I have configured same way and working fine in production. If you don&#39;t need it as separate job, configure it as flow. The flow contain all the three steps."},{"owner":{"account_id":4457428,"reputation":981,"user_id":3627233,"accept_rate":18,"display_name":"nanpakal"},"score":0,"creation_date":1454657818,"post_id":25329449,"comment_id":58151786,"body_markdown":"Hi @DanglingPiyush.Did you solve your problem.I have same requirement.Can you help me","body":"Hi @DanglingPiyush.Did you solve your problem.I have same requirement.Can you help me"}],"tags":[],"owner":{"account_id":3607248,"reputation":71,"user_id":3009150,"display_name":"Arun Duraisamy"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1408117007,"creation_date":1408117007,"answer_id":25329449,"question_id":23357024,"body_markdown":"**You can try the following.**\r\n\r\n     &lt;batch:job id=&quot;myJob&quot; restartable=&quot;true&quot; job-repository=&quot;jobRepository&quot; &gt;\r\n            &lt;batch:listeners&gt;\r\n                &lt;batch:listener ref=&quot;myJoblistener&quot;&gt;&lt;/batch:listener&gt;\r\n            &lt;/batch:listeners&gt;\r\n    \r\n            &lt;batch:step id=&quot;my-master-step&quot;&gt;\r\n                &lt;batch:partition step=&quot;my-step&quot; partitioner=&quot;my-step-partitioner&quot; handler=&quot;my-partitioner-handler&quot;&gt;\r\n                &lt;/batch:partition&gt;\r\n            &lt;/batch:step&gt;\r\n        &lt;/batch:job&gt;\r\n    \r\n        &lt;batch:step id=&quot;my-step&quot; &gt;\r\n         \t&lt;batch:job ref=&quot;MyChildJob&quot; job-launcher=&quot;jobLauncher&quot;\r\n    \t\t\t\tjob-parameters-extractor=&quot;jobParametersExtractor&quot; /&gt;\r\n            &lt;batch:listeners&gt;\r\n                &lt;batch:listener ref=&quot;myStepListener&quot;&gt;&lt;/batch:listener&gt;\r\n            &lt;/batch:listeners&gt; \r\n        &lt;/batch:step&gt;\r\n    \t\r\n    \t&lt;batch:job id=&quot;MyChildJob&quot; restartable=&quot;false&quot;\r\n    \t\txmlns=&quot;http://www.springframework.org/schema/batch&quot;&gt;\r\n    \t\t&lt;batch:step id=&quot;MyChildStep1&quot; next=&quot;MyChildStep2&quot;&gt;\r\n    \t\t\t&lt;batch:tasklet ref=&quot;MyChildStep1Tasklet&quot; transaction-manager=&quot;transactionManager&quot; &gt;\r\n    \t\t\t&lt;/batch:tasklet&gt;\r\n    \t\t&lt;/batch:step&gt;\r\n    \t\t\r\n    \t\t&lt;batch:step id=&quot;MyChildStep2&quot; next=&quot;MyChildStep3&quot;&gt;\r\n    \t\t\t&lt;batch:tasklet ref=&quot;MyChildStep2Tasklet&quot; transaction-manager=&quot;transactionManager&quot; &gt;\r\n    \t\t\t&lt;/batch:tasklet&gt;\r\n    \t\t&lt;/batch:step&gt;\r\n    \t\t\r\n    \t\t&lt;batch:step id=&quot;MyChildStep3&quot;&gt;\r\n    \t\t\t&lt;batch:tasklet ref=&quot;MyChildStep3Tasklet&quot; transaction-manager=&quot;transactionManager&quot; &gt;\r\n    \t\t\t&lt;/batch:tasklet&gt;\r\n    \t\t&lt;/batch:step&gt;\r\n    \r\n    \t&lt;/batch:job&gt;","title":"Spring batch Partitioning with multiple steps in parallel?","body":"<p><strong>You can try the following.</strong></p>\n\n<pre><code> &lt;batch:job id=\"myJob\" restartable=\"true\" job-repository=\"jobRepository\" &gt;\n        &lt;batch:listeners&gt;\n            &lt;batch:listener ref=\"myJoblistener\"&gt;&lt;/batch:listener&gt;\n        &lt;/batch:listeners&gt;\n\n        &lt;batch:step id=\"my-master-step\"&gt;\n            &lt;batch:partition step=\"my-step\" partitioner=\"my-step-partitioner\" handler=\"my-partitioner-handler\"&gt;\n            &lt;/batch:partition&gt;\n        &lt;/batch:step&gt;\n    &lt;/batch:job&gt;\n\n    &lt;batch:step id=\"my-step\" &gt;\n        &lt;batch:job ref=\"MyChildJob\" job-launcher=\"jobLauncher\"\n                job-parameters-extractor=\"jobParametersExtractor\" /&gt;\n        &lt;batch:listeners&gt;\n            &lt;batch:listener ref=\"myStepListener\"&gt;&lt;/batch:listener&gt;\n        &lt;/batch:listeners&gt; \n    &lt;/batch:step&gt;\n\n    &lt;batch:job id=\"MyChildJob\" restartable=\"false\"\n        xmlns=\"http://www.springframework.org/schema/batch\"&gt;\n        &lt;batch:step id=\"MyChildStep1\" next=\"MyChildStep2\"&gt;\n            &lt;batch:tasklet ref=\"MyChildStep1Tasklet\" transaction-manager=\"transactionManager\" &gt;\n            &lt;/batch:tasklet&gt;\n        &lt;/batch:step&gt;\n\n        &lt;batch:step id=\"MyChildStep2\" next=\"MyChildStep3\"&gt;\n            &lt;batch:tasklet ref=\"MyChildStep2Tasklet\" transaction-manager=\"transactionManager\" &gt;\n            &lt;/batch:tasklet&gt;\n        &lt;/batch:step&gt;\n\n        &lt;batch:step id=\"MyChildStep3\"&gt;\n            &lt;batch:tasklet ref=\"MyChildStep3Tasklet\" transaction-manager=\"transactionManager\" &gt;\n            &lt;/batch:tasklet&gt;\n        &lt;/batch:step&gt;\n\n    &lt;/batch:job&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2029599,"reputation":3268,"user_id":1813696,"accept_rate":33,"display_name":"Debopam"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1460123441,"creation_date":1460123441,"answer_id":36501351,"question_id":23357024,"body_markdown":"I had similar requirement and solved it using below requirement\r\n\r\n    &lt;batch:job id=&quot;cycleJob&quot;&gt;\r\n    \t\t&lt;batch:step id=&quot;zStep&quot; next=&quot;gStep&quot;&gt;\r\n    \t\t\t&lt;batch:partition partitioner=&quot;zPartitioner&quot;&gt;\r\n    \t\t\t\t&lt;batch:step&gt;\r\n    \t\t\t\t\t&lt;batch:tasklet throttle-limit=&quot;1&quot;&gt;\r\n    \t\t\t\t\t\t&lt;batch:chunk processor=&quot;itemProcessor&quot; reader=&quot;zReader&quot; writer=&quot;itemWriter&quot; commit-interval=&quot;1&quot;&gt;\r\n    \t\t\t\t\t\t&lt;/batch:chunk&gt;\r\n    \t\t\t\t\t&lt;/batch:tasklet&gt;\r\n    \t\t\t\t&lt;/batch:step&gt;\r\n    \t\t\t\t&lt;batch:handler task-executor=&quot;taskExecutor&quot; grid-size=&quot;${maxThreads}&quot; /&gt;\r\n    \t\t\t&lt;/batch:partition&gt;\r\n    \t\t&lt;/batch:step&gt;\r\n    \t\t&lt;batch:step id=&quot;gStep&quot; parent=&quot;zStep&quot; next=&quot;yStep&quot;&gt;\r\n    \t\t\t&lt;batch:partition partitioner=&quot;gPartitioner&quot;&gt;\r\n    \t\t\t\t&lt;batch:step&gt;\r\n    \t\t\t\t\t&lt;batch:tasklet throttle-limit=&quot;1&quot;&gt;\r\n    \t\t\t\t\t\t&lt;batch:chunk processor=&quot;itemProcessor&quot; reader=&quot;gReader&quot; writer=&quot;itemWriter&quot; commit-interval=&quot;1&quot;&gt;\r\n    \t\t\t\t\t\t&lt;/batch:chunk&gt;\r\n    \t\t\t\t\t&lt;/batch:tasklet&gt;\r\n    \t\t\t\t&lt;/batch:step&gt;\r\n    \t\t\t\t&lt;batch:handler task-executor=&quot;taskExecutor&quot; grid-size=&quot;${maxThreads}&quot; /&gt;\r\n    \t\t\t&lt;/batch:partition&gt;\r\n    \t\t&lt;/batch:step&gt;\r\n    &lt;/batch:job&gt;","title":"Spring batch Partitioning with multiple steps in parallel?","body":"<p>I had similar requirement and solved it using below requirement</p>\n\n<pre><code>&lt;batch:job id=\"cycleJob\"&gt;\n        &lt;batch:step id=\"zStep\" next=\"gStep\"&gt;\n            &lt;batch:partition partitioner=\"zPartitioner\"&gt;\n                &lt;batch:step&gt;\n                    &lt;batch:tasklet throttle-limit=\"1\"&gt;\n                        &lt;batch:chunk processor=\"itemProcessor\" reader=\"zReader\" writer=\"itemWriter\" commit-interval=\"1\"&gt;\n                        &lt;/batch:chunk&gt;\n                    &lt;/batch:tasklet&gt;\n                &lt;/batch:step&gt;\n                &lt;batch:handler task-executor=\"taskExecutor\" grid-size=\"${maxThreads}\" /&gt;\n            &lt;/batch:partition&gt;\n        &lt;/batch:step&gt;\n        &lt;batch:step id=\"gStep\" parent=\"zStep\" next=\"yStep\"&gt;\n            &lt;batch:partition partitioner=\"gPartitioner\"&gt;\n                &lt;batch:step&gt;\n                    &lt;batch:tasklet throttle-limit=\"1\"&gt;\n                        &lt;batch:chunk processor=\"itemProcessor\" reader=\"gReader\" writer=\"itemWriter\" commit-interval=\"1\"&gt;\n                        &lt;/batch:chunk&gt;\n                    &lt;/batch:tasklet&gt;\n                &lt;/batch:step&gt;\n                &lt;batch:handler task-executor=\"taskExecutor\" grid-size=\"${maxThreads}\" /&gt;\n            &lt;/batch:partition&gt;\n        &lt;/batch:step&gt;\n&lt;/batch:job&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4857582,"reputation":356,"user_id":3918148,"display_name":"Arunkumar Pushparaj"},"score":0,"creation_date":1652253162,"post_id":64804802,"comment_id":127558581,"body_markdown":"is there any way to convert the above xml answer to java configuration?","body":"is there any way to convert the above xml answer to java configuration?"}],"tags":[],"owner":{"account_id":4937900,"reputation":196,"user_id":3975522,"display_name":"slax57"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1605187720,"creation_date":1605187720,"answer_id":64804802,"question_id":23357024,"body_markdown":"Late answer, but I finally found the solution I was originally looking for when coming here, using a **flow** instead of a child job. So I figured I should post it here as well.\r\n\r\n```xml\r\n    &lt;job id=&quot;myJob&quot;&gt;\r\n        &lt;step id=&quot;my-master-step&quot;&gt;\r\n            &lt;partition partitioner=&quot;my-step-partitioner&quot;&gt;\r\n                &lt;handler task-executor=&quot;my-partitioner-handler&quot; /&gt;\r\n                &lt;step&gt;\r\n                    &lt;!-- For each partition, we run the complete flow --&gt;\r\n                    &lt;flow parent=&quot;mainFlow&quot; /&gt;\r\n                &lt;/step&gt;\r\n            &lt;/partition&gt;\r\n        &lt;/step&gt;\r\n    &lt;/job&gt;\r\n\t\r\n    &lt;!-- The flow consists of several sequential steps (2 here) --&gt;\r\n    &lt;flow id=&quot;mainFlow&quot;&gt;\r\n        &lt;step id=&quot;MyChildStep1&quot; next=&quot;MyChildStep2&quot;&gt;\r\n            &lt;!-- Here you can have a tasklet or a chunk of course --&gt;\r\n            &lt;tasklet ref=&quot;MyChildStep1Tasklet&quot; /&gt;\r\n        &lt;/step&gt;\r\n        &lt;step id=&quot;MyChildStep2&quot;&gt;\r\n            &lt;!-- Same here --&gt;\r\n            &lt;tasklet ref=&quot;MyChildStep2Tasklet&quot; /&gt;\r\n        &lt;/step&gt;\r\n    &lt;/flow&gt;\r\n    \r\n    &lt;bean id=&quot;MyChildStep1Tasklet&quot; class=&quot;...&quot; /&gt;\r\n\t\r\n    &lt;bean id=&quot;MyChildStep1Tasklet&quot; class=&quot;...&quot; /&gt;\r\n```\r\n\r\nI have not tested running it in parallel but I see no reason why it shouldn&#39;t work.","title":"Spring batch Partitioning with multiple steps in parallel?","body":"<p>Late answer, but I finally found the solution I was originally looking for when coming here, using a <strong>flow</strong> instead of a child job. So I figured I should post it here as well.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;job id=&quot;myJob&quot;&gt;\n        &lt;step id=&quot;my-master-step&quot;&gt;\n            &lt;partition partitioner=&quot;my-step-partitioner&quot;&gt;\n                &lt;handler task-executor=&quot;my-partitioner-handler&quot; /&gt;\n                &lt;step&gt;\n                    &lt;!-- For each partition, we run the complete flow --&gt;\n                    &lt;flow parent=&quot;mainFlow&quot; /&gt;\n                &lt;/step&gt;\n            &lt;/partition&gt;\n        &lt;/step&gt;\n    &lt;/job&gt;\n    \n    &lt;!-- The flow consists of several sequential steps (2 here) --&gt;\n    &lt;flow id=&quot;mainFlow&quot;&gt;\n        &lt;step id=&quot;MyChildStep1&quot; next=&quot;MyChildStep2&quot;&gt;\n            &lt;!-- Here you can have a tasklet or a chunk of course --&gt;\n            &lt;tasklet ref=&quot;MyChildStep1Tasklet&quot; /&gt;\n        &lt;/step&gt;\n        &lt;step id=&quot;MyChildStep2&quot;&gt;\n            &lt;!-- Same here --&gt;\n            &lt;tasklet ref=&quot;MyChildStep2Tasklet&quot; /&gt;\n        &lt;/step&gt;\n    &lt;/flow&gt;\n    \n    &lt;bean id=&quot;MyChildStep1Tasklet&quot; class=&quot;...&quot; /&gt;\n    \n    &lt;bean id=&quot;MyChildStep1Tasklet&quot; class=&quot;...&quot; /&gt;\n</code></pre>\n<p>I have not tested running it in parallel but I see no reason why it shouldn't work.</p>\n"},{"tags":[],"owner":{"account_id":4079333,"reputation":457,"user_id":3350164,"accept_rate":25,"display_name":"Claudio Tasso"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674472757,"creation_date":1674472757,"answer_id":75208761,"question_id":23357024,"body_markdown":"As @arunkumar-pushparaj asked, here you can find a simple example using Java configuration:\r\n\r\n    public class ParallelFlowConfiguration {\r\n\tprotected static final int GRID_SIZE = 4;\r\n\r\n\t@Autowired\r\n\tprivate StepBuilderFactory stepBuilderFactory;\r\n\r\n\t@Autowired\r\n\tprivate JobBuilderFactory jobBuilderFactory;\r\n\r\n\r\n\t@Bean\r\n\tpublic Job producerProcess() {\t\t\r\n\t\treturn this.jobBuilderFactory.get(&quot;partitionedJob&quot;).incrementer(new RunIdIncrementer())\r\n\t\t\t\t.start(step1(null,null))\t\t\t\t\r\n\t\t\t\t.build();\r\n\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic Step step1(PartitionHandler partitionHandler,Partitioner  partitioner) {\r\n\t\treturn this.stepBuilderFactory.get(&quot;step1&quot;).partitioner(myStepFlow().getName(), partitioner)\r\n\t\t\t\t.step(myStepFlow()).partitionHandler(partitionHandler)\r\n\t\t\t\t.build();\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic Step step2() {\r\n\t\treturn this.stepBuilderFactory.get(&quot;step2&quot;).tasklet((contribution, chunkContext) -&gt; {\r\n\t\t\tExecutionContext executionContext = chunkContext.getStepContext().getStepExecution()\r\n\t\t\t\t\t.getExecutionContext();\r\n\r\n\t\t\tInteger partitionNumber = executionContext.getInt(&quot;partitionNumber&quot;);\r\n\r\n\t\t\t\r\n\t\t\tlog.info(&quot;Eseguo Step DUE: {}&quot;,partitionNumber);\r\n\t\t\treturn RepeatStatus.FINISHED;\r\n\t\t}).build();\r\n\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic Partitioner partitioner() {\r\n\t\treturn new Partitioner() {\r\n\t\t\t@Override\r\n\t\t\tpublic Map&lt;String, ExecutionContext&gt; partition(int gridSize) {\r\n\r\n\t\t\t\tMap&lt;String, ExecutionContext&gt; partitions = new HashMap&lt;&gt;(gridSize);\r\n\r\n\t\t\t\tfor (int i = 0; i &lt; GRID_SIZE; i++) {\r\n\t\t\t\t\tExecutionContext context1 = new ExecutionContext();\r\n\t\t\t\t\tcontext1.put(&quot;partitionNumber&quot;, i);\r\n\r\n\t\t\t\t\tpartitions.put(&quot;partition&quot; + i, context1);\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn partitions;\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic Flow myFlow() {\r\n\t\treturn new FlowBuilder&lt;Flow&gt;(&quot;myFlow1&quot;).start(step2()).build();\r\n\t}\r\n\t\r\n\t@Bean\r\n\tpublic Step myStepFlow() {\r\n\t\treturn stepBuilderFactory.get(&quot;stepFlow&quot;)\r\n\t\t\t\t\r\n\t\t\t\t.flow(myFlow()).build();\r\n\t}\r\n\t\r\n\t@Bean \r\n\tpublic PartitionHandler partitionHandler() {\r\n\t\tTaskExecutorPartitionHandler partitionHandler = new TaskExecutorPartitionHandler();\r\n\t\tpartitionHandler.setTaskExecutor(new SimpleAsyncTaskExecutor());\r\n\t\tpartitionHandler.setStep(myStepFlow());\r\n\t\treturn partitionHandler;\r\n\t}\r\n\r\n\t\r\n}","title":"Spring batch Partitioning with multiple steps in parallel?","body":"<p>As @arunkumar-pushparaj asked, here you can find a simple example using Java configuration:</p>\n<pre><code>public class ParallelFlowConfiguration {\nprotected static final int GRID_SIZE = 4;\n\n@Autowired\nprivate StepBuilderFactory stepBuilderFactory;\n\n@Autowired\nprivate JobBuilderFactory jobBuilderFactory;\n\n\n@Bean\npublic Job producerProcess() {      \n    return this.jobBuilderFactory.get(&quot;partitionedJob&quot;).incrementer(new RunIdIncrementer())\n            .start(step1(null,null))                \n            .build();\n\n}\n\n@Bean\npublic Step step1(PartitionHandler partitionHandler,Partitioner  partitioner) {\n    return this.stepBuilderFactory.get(&quot;step1&quot;).partitioner(myStepFlow().getName(), partitioner)\n            .step(myStepFlow()).partitionHandler(partitionHandler)\n            .build();\n}\n\n@Bean\npublic Step step2() {\n    return this.stepBuilderFactory.get(&quot;step2&quot;).tasklet((contribution, chunkContext) -&gt; {\n        ExecutionContext executionContext = chunkContext.getStepContext().getStepExecution()\n                .getExecutionContext();\n\n        Integer partitionNumber = executionContext.getInt(&quot;partitionNumber&quot;);\n\n        \n        log.info(&quot;Eseguo Step DUE: {}&quot;,partitionNumber);\n        return RepeatStatus.FINISHED;\n    }).build();\n\n}\n\n@Bean\npublic Partitioner partitioner() {\n    return new Partitioner() {\n        @Override\n        public Map&lt;String, ExecutionContext&gt; partition(int gridSize) {\n\n            Map&lt;String, ExecutionContext&gt; partitions = new HashMap&lt;&gt;(gridSize);\n\n            for (int i = 0; i &lt; GRID_SIZE; i++) {\n                ExecutionContext context1 = new ExecutionContext();\n                context1.put(&quot;partitionNumber&quot;, i);\n\n                partitions.put(&quot;partition&quot; + i, context1);\n            }\n\n            return partitions;\n        }\n    };\n}\n\n@Bean\npublic Flow myFlow() {\n    return new FlowBuilder&lt;Flow&gt;(&quot;myFlow1&quot;).start(step2()).build();\n}\n\n@Bean\npublic Step myStepFlow() {\n    return stepBuilderFactory.get(&quot;stepFlow&quot;)\n            \n            .flow(myFlow()).build();\n}\n\n@Bean \npublic PartitionHandler partitionHandler() {\n    TaskExecutorPartitionHandler partitionHandler = new TaskExecutorPartitionHandler();\n    partitionHandler.setTaskExecutor(new SimpleAsyncTaskExecutor());\n    partitionHandler.setStep(myStepFlow());\n    return partitionHandler;\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":1334876,"reputation":3668,"user_id":1277864,"accept_rate":70,"display_name":"Dangling Piyush"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14557,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":4,"score":6,"last_activity_date":1674472757,"creation_date":1398752594,"question_id":23357024,"body_markdown":"I have implemented spring batch partitioning for a single steps where a master step delegates its work to several slave threads which than gets executed in parallel. As shown in following image.(Reference [Spring docs][1])\r\n![enter image description here][2]\r\nNow what if I have multiple steps which are to be executed in parallel? How to configure them in  batch configuration? My current configuration is\r\n\r\n     &lt;batch:job id=&quot;myJob&quot; restartable=&quot;true&quot; job-repository=&quot;jobRepository&quot; &gt;\r\n            &lt;batch:listeners&gt;\r\n                &lt;batch:listener ref=&quot;myJoblistener&quot;&gt;&lt;/batch:listener&gt;\r\n            &lt;/batch:listeners&gt;\r\n            \r\n            &lt;batch:step id=&quot;my-master-step&quot;&gt;\r\n                &lt;batch:partition step=&quot;my-step&quot; partitioner=&quot;my-step-partitioner&quot; handler=&quot;my-partitioner-handler&quot;&gt;\r\n                &lt;/batch:partition&gt;\r\n            &lt;/batch:step&gt;\r\n        &lt;/batch:job&gt;\r\n        \r\n        &lt;batch:step id=&quot;my-step&quot; &gt;\r\n            &lt;batch:tasklet ref=&quot;myTasklet&quot; transaction-manager=&quot;transactionManager&quot; &gt;\r\n            &lt;/batch:tasklet&gt;\r\n            &lt;batch:listeners&gt;\r\n                &lt;batch:listener ref=&quot;myStepListener&quot;&gt;&lt;/batch:listener&gt;\r\n            &lt;/batch:listeners&gt; \r\n        &lt;/batch:step&gt;\r\n\r\nMy architecture diagrams should be like following image:\r\n![enter image description here][3]\r\n\r\nI am not sure even if it is possible using spring batch.Any ideas or I am way over my head to implement it.Thank you.\r\n          \r\n\r\n\r\n  [1]: http://docs.spring.io/spring-batch/reference/html/scalability.html\r\n  [2]: http://i.stack.imgur.com/5OruH.png\r\n  [3]: http://i.stack.imgur.com/nwGPy.jpg","title":"Spring batch Partitioning with multiple steps in parallel?","body":"<p>I have implemented spring batch partitioning for a single steps where a master step delegates its work to several slave threads which than gets executed in parallel. As shown in following image.(Reference <a href=\"http://docs.spring.io/spring-batch/reference/html/scalability.html\" rel=\"noreferrer\">Spring docs</a>)\n<img src=\"https://i.stack.imgur.com/5OruH.png\" alt=\"enter image description here\">\nNow what if I have multiple steps which are to be executed in parallel? How to configure them in  batch configuration? My current configuration is</p>\n\n<pre><code> &lt;batch:job id=\"myJob\" restartable=\"true\" job-repository=\"jobRepository\" &gt;\n        &lt;batch:listeners&gt;\n            &lt;batch:listener ref=\"myJoblistener\"&gt;&lt;/batch:listener&gt;\n        &lt;/batch:listeners&gt;\n\n        &lt;batch:step id=\"my-master-step\"&gt;\n            &lt;batch:partition step=\"my-step\" partitioner=\"my-step-partitioner\" handler=\"my-partitioner-handler\"&gt;\n            &lt;/batch:partition&gt;\n        &lt;/batch:step&gt;\n    &lt;/batch:job&gt;\n\n    &lt;batch:step id=\"my-step\" &gt;\n        &lt;batch:tasklet ref=\"myTasklet\" transaction-manager=\"transactionManager\" &gt;\n        &lt;/batch:tasklet&gt;\n        &lt;batch:listeners&gt;\n            &lt;batch:listener ref=\"myStepListener\"&gt;&lt;/batch:listener&gt;\n        &lt;/batch:listeners&gt; \n    &lt;/batch:step&gt;\n</code></pre>\n\n<p>My architecture diagrams should be like following image:\n<img src=\"https://i.stack.imgur.com/nwGPy.jpg\" alt=\"enter image description here\"></p>\n\n<p>I am not sure even if it is possible using spring batch.Any ideas or I am way over my head to implement it.Thank you.</p>\n"},{"tags":["java","directory"],"comments":[{"owner":{"account_id":7745,"reputation":189765,"user_id":13531,"accept_rate":75,"display_name":"Michael Myers"},"score":9,"creation_date":1270235586,"post_id":2568621,"comment_id":2573516,"body_markdown":"For very large values of &quot;one&quot;...","body":"For very large values of &quot;one&quot;..."}],"answers":[{"tags":[],"owner":{"account_id":7745,"reputation":189765,"user_id":13531,"accept_rate":75,"display_name":"Michael Myers"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1270236008,"creation_date":1270235695,"answer_id":2568647,"question_id":2568621,"body_markdown":"    import java.io.File;\r\n    import java.io.FileFilter;\r\n    ...\r\n    files = dir.listFiles(new FileFilter() { \r\n           public boolean accept(File pathname) { \r\n                return pathname.isDirectory();\r\n           } \r\n        });\r\n\r\nNote the use of [`listFiles(FileFilter)`][1] rather than [`listFiles(FilenameFilter)`][2].\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/io/File.html#listFiles(java.io.FileFilter)\r\n  [2]: http://java.sun.com/javase/6/docs/api/java/io/File.html#listFiles(java.io.FilenameFilter)","title":"Java: one-liner to list Dirs in a directory?","body":"<pre><code>import java.io.File;\nimport java.io.FileFilter;\n...\nfiles = dir.listFiles(new FileFilter() { \n       public boolean accept(File pathname) { \n            return pathname.isDirectory();\n       } \n    });\n</code></pre>\n\n<p>Note the use of <a href=\"http://java.sun.com/javase/6/docs/api/java/io/File.html#listFiles(java.io.FileFilter)\" rel=\"nofollow noreferrer\"><code>listFiles(FileFilter)</code></a> rather than <a href=\"http://java.sun.com/javase/6/docs/api/java/io/File.html#listFiles(java.io.FilenameFilter)\" rel=\"nofollow noreferrer\"><code>listFiles(FilenameFilter)</code></a>.</p>\n"},{"tags":[],"owner":{"account_id":81675,"reputation":4290,"user_id":230188,"accept_rate":80,"display_name":"Wajdy Essam"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1270235950,"creation_date":1270235950,"answer_id":2568680,"question_id":2568621,"body_markdown":"    public static void main (String[] args)  throws Exception {\r\n    \tFile dir = new File(&quot;yourDir&quot;);\r\n    \r\n    \tFileFilter fileFilter = new FileFilter() {\r\n    \t\tpublic boolean accept(File file) {\r\n    \t\t\treturn file.isDirectory();\r\n    \t\t}\r\n    \t};\r\n    \r\n    \tFile[] files  = dir.listFiles(fileFilter);\r\n    \t\t\r\n    \tfor (File f : files)\r\n    \t\tSystem.out.println( f.getName() );\r\n    }","title":"Java: one-liner to list Dirs in a directory?","body":"<pre><code>public static void main (String[] args)  throws Exception {\n    File dir = new File(\"yourDir\");\n\n    FileFilter fileFilter = new FileFilter() {\n        public boolean accept(File file) {\n            return file.isDirectory();\n        }\n    };\n\n    File[] files  = dir.listFiles(fileFilter);\n\n    for (File f : files)\n        System.out.println( f.getName() );\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":30387,"reputation":62490,"user_id":82865,"accept_rate":71,"display_name":"Jonathan Holloway"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1270244866,"creation_date":1270244866,"answer_id":2569385,"question_id":2568621,"body_markdown":"This uses Commons IO, but really is the simplest way to list all the directory names.  It also has a way more powerful set of filters that you can use for other purposes:\r\n\r\n    String[] dirNames = new File(&quot;/Users/jonathan&quot;).list(DirectoryFileFilter.INSTANCE);\r\n    for (String dirName: dirNames) \r\n        System.out.println(&quot;Directory Name: &quot; + dirName);","title":"Java: one-liner to list Dirs in a directory?","body":"<p>This uses Commons IO, but really is the simplest way to list all the directory names.  It also has a way more powerful set of filters that you can use for other purposes:</p>\n\n<pre><code>String[] dirNames = new File(\"/Users/jonathan\").list(DirectoryFileFilter.INSTANCE);\nfor (String dirName: dirNames) \n    System.out.println(\"Directory Name: \" + dirName);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":10491815,"reputation":26310,"user_id":7733418,"display_name":"Yunnosch"},"score":1,"creation_date":1674206559,"post_id":75181906,"comment_id":132668748,"body_markdown":"As the first actual one-liner, this would really look good with an explanation of preconditions, assumptions, restrictions and maybe the core trick which allowed to get it into one line, even without a large value of &quot;one&quot;.","body":"As the first actual one-liner, this would really look good with an explanation of preconditions, assumptions, restrictions and maybe the core trick which allowed to get it into one line, even without a large value of &quot;one&quot;."}],"tags":[],"owner":{"account_id":27579010,"reputation":1,"user_id":21048605,"display_name":"juantan"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674472694,"creation_date":1674206060,"answer_id":75181906,"question_id":2568621,"body_markdown":"You will need to import java.nio.file.Files and java.nio.file.Paths, which are available since Java 1.7. Then using streams, which were introduced in Java 1.8, you can do something like the following:\r\n\r\n```\r\nFiles.list(Paths.get(&quot;.&quot;)).filter(x -&gt; Files.isDirectory(x)).forEach(System.out::println);\r\n```\r\nThis gets files in the current directory &quot;.&quot;, lists them, and filters them so only directories are included, then iterates over the directories stream to print them out using a println method reference.\r\n\r\nActually you could use a method reference for the filter as well like so:\r\n\r\nFiles.list(Paths.get(&quot;.&quot;)).filter(Files::isDirectory).forEach(System.out::println);\r\n","title":"Java: one-liner to list Dirs in a directory?","body":"<p>You will need to import java.nio.file.Files and java.nio.file.Paths, which are available since Java 1.7. Then using streams, which were introduced in Java 1.8, you can do something like the following:</p>\n<pre><code>Files.list(Paths.get(&quot;.&quot;)).filter(x -&gt; Files.isDirectory(x)).forEach(System.out::println);\n</code></pre>\n<p>This gets files in the current directory &quot;.&quot;, lists them, and filters them so only directories are included, then iterates over the directories stream to print them out using a println method reference.</p>\n<p>Actually you could use a method reference for the filter as well like so:</p>\n<p>Files.list(Paths.get(&quot;.&quot;)).filter(Files::isDirectory).forEach(System.out::println);</p>\n"}],"owner":{"account_id":54832,"reputation":51238,"user_id":164148,"accept_rate":82,"display_name":"hhh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":622,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":2568680,"answer_count":4,"score":5,"last_activity_date":1674472694,"creation_date":1270235496,"question_id":2568621,"body_markdown":"**One-Liner to list TXT-files.**\r\n\r\n    import java.io.File;\r\n    import java.io.FilenameFilter;\r\n    ...\r\n    files = dir.listFiles(new FilenameFilter() {\r\n               public boolean accept(File dir, String name) {\r\n                    return name.toLowerCase().endsWith(&quot;.txt&quot;);\r\n                    }\r\n               }\r\n            );\r\n\r\n[Source.][1]\r\n\r\n**Is there an one-liner to list dirs in a dir?**\r\n\r\n  [1]: http://www.rgagnon.com/javadetails/java-0055.html","title":"Java: one-liner to list Dirs in a directory?","body":"<p><strong>One-Liner to list TXT-files.</strong></p>\n\n<pre><code>import java.io.File;\nimport java.io.FilenameFilter;\n...\nfiles = dir.listFiles(new FilenameFilter() {\n           public boolean accept(File dir, String name) {\n                return name.toLowerCase().endsWith(\".txt\");\n                }\n           }\n        );\n</code></pre>\n\n<p><a href=\"http://www.rgagnon.com/javadetails/java-0055.html\" rel=\"noreferrer\">Source.</a></p>\n\n<p><strong>Is there an one-liner to list dirs in a dir?</strong></p>\n"},{"tags":["java","jvm-hotspot","compare-and-swap"],"comments":[{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1674388875,"post_id":75200188,"comment_id":132700013,"body_markdown":"There&#39;s two hints in that signature: `native` means that the code isn&#39;t implemented in Java (it can&#39;t be), but in native (C++) code instead. And `@HotSpotIntrinsicCandidate` means it isn&#39;t even a regular native method, but one that&#39;s implemented with a deep integration into the JVM.","body":"There&#39;s two hints in that signature: <code>native</code> means that the code isn&#39;t implemented in Java (it can&#39;t be), but in native (C++) code instead. And <code>@HotSpotIntrinsicCandidate</code> means it isn&#39;t even a regular native method, but one that&#39;s implemented with a deep integration into the JVM."}],"answers":[{"tags":[],"owner":{"account_id":497130,"reputation":1166,"user_id":1885085,"display_name":"Gilles D."},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1674464586,"creation_date":1674464586,"answer_id":75207346,"question_id":75200188,"body_markdown":"Note that JNI and Unsafe are unrelated: Unsafe is not part of JNI and, as already pointed out, despite the native methods, Unsafe is not implemented with JNI.\r\n\r\nIt&#39;s directly [linked](https://github.com/openjdk/jdk/blob/jdk-21+6/src/hotspot/share/prims/unsafe.cpp#L886) in the [VM](https://github.com/openjdk/jdk/blob/jdk-21+6/src/hotspot/share/prims/unsafe.cpp#L748) to some generic [`Atomic::cmpxchg`](https://github.com/openjdk/jdk/blob/jdk-21+6/src/hotspot/share/runtime/atomic.hpp#L747) which you then have to trace through some [layers](https://github.com/openjdk/jdk/blob/jdk-21+6/src/hotspot/share/runtime/atomic.hpp#L768) of templates to the appropriate [implementation](https://github.com/openjdk/jdk/blob/jdk-21+6/src/hotspot/os_cpu/linux_x86/atomic_linux_x86.hpp#L126) depending on your platform (here linux-amd64).","title":"How does Unsafe library help atomic variables to achieve thread safety?","body":"<p>Note that JNI and Unsafe are unrelated: Unsafe is not part of JNI and, as already pointed out, despite the native methods, Unsafe is not implemented with JNI.</p>\n<p>It's directly <a href=\"https://github.com/openjdk/jdk/blob/jdk-21+6/src/hotspot/share/prims/unsafe.cpp#L886\" rel=\"nofollow noreferrer\">linked</a> in the <a href=\"https://github.com/openjdk/jdk/blob/jdk-21+6/src/hotspot/share/prims/unsafe.cpp#L748\" rel=\"nofollow noreferrer\">VM</a> to some generic <a href=\"https://github.com/openjdk/jdk/blob/jdk-21+6/src/hotspot/share/runtime/atomic.hpp#L747\" rel=\"nofollow noreferrer\"><code>Atomic::cmpxchg</code></a> which you then have to trace through some <a href=\"https://github.com/openjdk/jdk/blob/jdk-21+6/src/hotspot/share/runtime/atomic.hpp#L768\" rel=\"nofollow noreferrer\">layers</a> of templates to the appropriate <a href=\"https://github.com/openjdk/jdk/blob/jdk-21+6/src/hotspot/os_cpu/linux_x86/atomic_linux_x86.hpp#L126\" rel=\"nofollow noreferrer\">implementation</a> depending on your platform (here linux-amd64).</p>\n"},{"tags":[],"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674466122,"creation_date":1674466122,"answer_id":75207593,"question_id":75200188,"body_markdown":"The implementation is rather straightforward.\r\nThere are two parts to it: a JNI method that makes the instruction available as part of bytecode-interpreted evaluation, and an intrinsic that makes it available when the JIT compiler generates native code.\r\n\r\n# JNI method\r\nunsafe.cpp shows the [implementation as a JNI method](https://github.com/openjdk/jdk/blob/master/src/hotspot/share/prims/unsafe.cpp#L748-L752):\r\n```\r\nUNSAFE_ENTRY(jboolean, Unsafe_CompareAndSetLong(JNIEnv *env, jobject unsafe, jobject obj, jlong offset, jlong e, jlong x)) {\r\n  oop p = JNIHandles::resolve(obj);\r\n  volatile jlong* addr = (volatile jlong*)index_oop_from_field_offset_long(p, offset);\r\n  return Atomic::cmpxchg(addr, e, x) == e;\r\n} UNSAFE_END\r\n```\r\n\r\nAtomic::cmpxchg [dispatches](https://github.com/openjdk/jdk/blob/master/src/hotspot/share/runtime/atomic.hpp#L744-L842) to various strategies for doing a CAS, and you find the actual implementation  in terms of assembly instructions in an [OS+CPU specific file](https://github.com/openjdk/jdk/blob/master/src/hotspot/os_cpu/linux_x86/atomic_linux_x86.hpp):\r\n```\r\ntemplate&lt;&gt;\r\ntemplate&lt;typename T&gt;\r\ninline T Atomic::PlatformCmpxchg&lt;4&gt;::operator()(T volatile* dest,\r\n                                                T compare_value,\r\n                                                T exchange_value,\r\n                                                atomic_memory_order /* order */) const {\r\n  STATIC_ASSERT(4 == sizeof(T));\r\n  __asm__ volatile (&quot;lock cmpxchgl %1,(%3)&quot;\r\n                    : &quot;=a&quot; (exchange_value)\r\n                    : &quot;r&quot; (exchange_value), &quot;a&quot; (compare_value), &quot;r&quot; (dest)\r\n                    : &quot;cc&quot;, &quot;memory&quot;);\r\n  return exchange_value;\r\n}\r\n```\r\nThere are also implementations for 1-byte and 8-byte CAS, but the only difference is `cmpxchgb` and `cmpxchgq`, respectively.\r\n\r\n# JVM Intrinsic\r\nAs remarked in the comments to your question, the method is also tagged with `@HotspotIntrinsicCandidate`. (`@IntrinsicCandidate` in recent JVMs).\r\nThe JVM keeps a [list of all intrinsic candidates](https://github.com/openjdk/jdk/blob/master/src/hotspot/share/classfile/vmIntrinsics.hpp) by class and method name. The [class file parser](https://github.com/openjdk/jdk/blob/master/src/hotspot/share/classfile/classFileParser.cpp#L5161-L5254) associates the method with the declared intrinsic. From there, the JIT compiler can detect calls to methods with intrinsics and replace them with inlined versions or assembly fragments for just that instruction.","title":"How does Unsafe library help atomic variables to achieve thread safety?","body":"<p>The implementation is rather straightforward.\nThere are two parts to it: a JNI method that makes the instruction available as part of bytecode-interpreted evaluation, and an intrinsic that makes it available when the JIT compiler generates native code.</p>\n<h1>JNI method</h1>\n<p>unsafe.cpp shows the <a href=\"https://github.com/openjdk/jdk/blob/master/src/hotspot/share/prims/unsafe.cpp#L748-L752\" rel=\"nofollow noreferrer\">implementation as a JNI method</a>:</p>\n<pre><code>UNSAFE_ENTRY(jboolean, Unsafe_CompareAndSetLong(JNIEnv *env, jobject unsafe, jobject obj, jlong offset, jlong e, jlong x)) {\n  oop p = JNIHandles::resolve(obj);\n  volatile jlong* addr = (volatile jlong*)index_oop_from_field_offset_long(p, offset);\n  return Atomic::cmpxchg(addr, e, x) == e;\n} UNSAFE_END\n</code></pre>\n<p>Atomic::cmpxchg <a href=\"https://github.com/openjdk/jdk/blob/master/src/hotspot/share/runtime/atomic.hpp#L744-L842\" rel=\"nofollow noreferrer\">dispatches</a> to various strategies for doing a CAS, and you find the actual implementation  in terms of assembly instructions in an <a href=\"https://github.com/openjdk/jdk/blob/master/src/hotspot/os_cpu/linux_x86/atomic_linux_x86.hpp\" rel=\"nofollow noreferrer\">OS+CPU specific file</a>:</p>\n<pre><code>template&lt;&gt;\ntemplate&lt;typename T&gt;\ninline T Atomic::PlatformCmpxchg&lt;4&gt;::operator()(T volatile* dest,\n                                                T compare_value,\n                                                T exchange_value,\n                                                atomic_memory_order /* order */) const {\n  STATIC_ASSERT(4 == sizeof(T));\n  __asm__ volatile (&quot;lock cmpxchgl %1,(%3)&quot;\n                    : &quot;=a&quot; (exchange_value)\n                    : &quot;r&quot; (exchange_value), &quot;a&quot; (compare_value), &quot;r&quot; (dest)\n                    : &quot;cc&quot;, &quot;memory&quot;);\n  return exchange_value;\n}\n</code></pre>\n<p>There are also implementations for 1-byte and 8-byte CAS, but the only difference is <code>cmpxchgb</code> and <code>cmpxchgq</code>, respectively.</p>\n<h1>JVM Intrinsic</h1>\n<p>As remarked in the comments to your question, the method is also tagged with <code>@HotspotIntrinsicCandidate</code>. (<code>@IntrinsicCandidate</code> in recent JVMs).\nThe JVM keeps a <a href=\"https://github.com/openjdk/jdk/blob/master/src/hotspot/share/classfile/vmIntrinsics.hpp\" rel=\"nofollow noreferrer\">list of all intrinsic candidates</a> by class and method name. The <a href=\"https://github.com/openjdk/jdk/blob/master/src/hotspot/share/classfile/classFileParser.cpp#L5161-L5254\" rel=\"nofollow noreferrer\">class file parser</a> associates the method with the declared intrinsic. From there, the JIT compiler can detect calls to methods with intrinsics and replace them with inlined versions or assembly fragments for just that instruction.</p>\n"}],"owner":{"account_id":3077183,"reputation":71,"user_id":2606235,"display_name":"user2606235"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1674472571,"creation_date":1674388515,"question_id":75200188,"body_markdown":"I&#39;ve been reading web articles about how Compare and Swap (CAS) works under the hood. Since AtomicInteger, AtomicLong and other atomic variables all use JNI&#39;s &quot;Unsafe&quot; library&#39;s compareAndSet() method, but when you go to the actual implementation, you&#39;ll get a blank, abstract-like method below which does not tell you how compareAndSet() is actually thread-safe.\r\n\r\n    @HotSpotIntrinsicCandidate\r\n    public final native boolean compareAndSetLong(Object o, long offset,\r\n                                                  long expected,\r\n                                                  long x);\r\n\r\nHas anyone wondered how JNI&#39;s Unsafe library guarantees thread safety for atomic variables?","title":"How does Unsafe library help atomic variables to achieve thread safety?","body":"<p>I've been reading web articles about how Compare and Swap (CAS) works under the hood. Since AtomicInteger, AtomicLong and other atomic variables all use JNI's &quot;Unsafe&quot; library's compareAndSet() method, but when you go to the actual implementation, you'll get a blank, abstract-like method below which does not tell you how compareAndSet() is actually thread-safe.</p>\n<pre><code>@HotSpotIntrinsicCandidate\npublic final native boolean compareAndSetLong(Object o, long offset,\n                                              long expected,\n                                              long x);\n</code></pre>\n<p>Has anyone wondered how JNI's Unsafe library guarantees thread safety for atomic variables?</p>\n"},{"tags":["java","json","spring"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1674472259,"post_id":75208583,"comment_id":132713687,"body_markdown":"Why you do not try it?","body":"Why you do not try it?"}],"owner":{"account_id":11146423,"reputation":39,"user_id":8181008,"display_name":"Nausheen Khan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674472494,"creation_date":1674471852,"question_id":75208583,"body_markdown":"When @JsonIgnore is used at the field level and @JsonIgnoreProperties is used at the class level, which one will override?","title":"When @JsonIgnore used in field level and @JsonIgnoreProperties is used in class level","body":"<p>When @JsonIgnore is used at the field level and @JsonIgnoreProperties is used at the class level, which one will override?</p>\n"},{"tags":["java","classloader"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":2,"creation_date":1674461047,"post_id":75206840,"comment_id":132710623,"body_markdown":"Does the application class loader have tobeloaded-1.0-SNAPSHOT.jar in its classpath?","body":"Does the application class loader have tobeloaded-1.0-SNAPSHOT.jar in its classpath?"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1674462283,"post_id":75206840,"comment_id":132710922,"body_markdown":"I got two `false` when testing that code... but I am sure that `Main.class.getClassLoader().loadClass(&quot;example.ToBeLoaded&quot;)` is throwing a `ClassNotFoundException` - [screenshot](https://i.stack.imgur.com/103uG.png)","body":"I got two <code>false</code> when testing that code... but I am sure that <code>Main.class.getClassLoader().loadClass(&quot;example.ToBeLoaded&quot;)</code> is throwing a <code>ClassNotFoundException</code> - <a href=\"https://i.stack.imgur.com/103uG.png\" rel=\"nofollow noreferrer\">screenshot</a>"},{"owner":{"account_id":18103108,"reputation":405,"user_id":13160706,"display_name":"Machi"},"score":0,"creation_date":1674462344,"post_id":75206840,"comment_id":132710941,"body_markdown":"@TimMoore No. tobeloaded-1.0-SNAPSHOT.jar is compiled seperately and locates in another path.","body":"@TimMoore No. tobeloaded-1.0-SNAPSHOT.jar is compiled seperately and locates in another path."},{"owner":{"account_id":18103108,"reputation":405,"user_id":13160706,"display_name":"Machi"},"score":0,"creation_date":1674462586,"post_id":75206840,"comment_id":132710997,"body_markdown":"@user16320675 Two false is the correct result. But Why? The tobeloaded.jar should be loaded by Application ClassLoader because of parent delegation principle. Both the UrlClassLoader cl1 and cl2 should delegate the loading task to their parent, which is Application ClassLoader.","body":"@user16320675 Two false is the correct result. But Why? The tobeloaded.jar should be loaded by Application ClassLoader because of parent delegation principle. Both the UrlClassLoader cl1 and cl2 should delegate the loading task to their parent, which is Application ClassLoader."},{"owner":{"account_id":18103108,"reputation":405,"user_id":13160706,"display_name":"Machi"},"score":0,"creation_date":1674463009,"post_id":75206840,"comment_id":132711112,"body_markdown":"@user16320675 A little weird. Parent Delegation Principle only works for classes in class path. How did classloader distingguish classes loaded from class path or not. Need more investigation.","body":"@user16320675 A little weird. Parent Delegation Principle only works for classes in class path. How did classloader distingguish classes loaded from class path or not. Need more investigation."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":2,"creation_date":1674463289,"post_id":75206840,"comment_id":132711181,"body_markdown":"Each class loader has its classpath - a list of URLs that it searches for classes to load. If the parent classloader doesn&#39;t have a class in its classpath it cannot load it (it cannot find the class file). Your `cl1` and `cl2` class loaders have a very specific classpath containing an URL that is not in the application class loaders classpath.","body":"Each class loader has its classpath - a list of URLs that it searches for classes to load. If the parent classloader doesn&#39;t have a class in its classpath it cannot load it (it cannot find the class file). Your <code>cl1</code> and <code>cl2</code> class loaders have a very specific classpath containing an URL that is not in the application class loaders classpath."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1674472327,"post_id":75206840,"comment_id":132713722,"body_markdown":"The term “classpath” used in this discussion, is an unnecessary distraction. [This comment](https://stackoverflow.com/questions/75206840/why-this-class-can-be-loaded-twice-by-java-classloader#comment132710922_75206840) points into the right direction. All that matters, is whether `Main.class.getClassLoader() .loadClass(&quot;example.ToBeLoaded&quot;)` will successfully load a class of that name. If so, it wouldn’t matter whether it has been loaded from this specific jar file, through a classpath, or by some other means.","body":"The term “classpath” used in this discussion, is an unnecessary distraction. <a href=\"https://stackoverflow.com/questions/75206840/why-this-class-can-be-loaded-twice-by-java-classloader#comment132710922_75206840\">This comment</a> points into the right direction. All that matters, is whether <code>Main.class.getClassLoader() .loadClass(&quot;example.ToBeLoaded&quot;)</code> will successfully load a class of that name. If so, it wouldn’t matter whether it has been loaded from this specific jar file, through a classpath, or by some other means."}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1674472468,"creation_date":1674461995,"answer_id":75207018,"question_id":75206840,"body_markdown":"If the parent delegation principle is in effect you are right. But that is not always the desired behaviour.\r\n\r\nIn JEE containers this is per design different. Just imagine two different applications refer to the same class (named mypackage.MyClass). But for some reason one application expects the library &#39;mypackage&#39; in version 1, while the other in version two. And both of them are incompatible.\r\n\r\nThus JEE containers assign one classloader for each of the applications, and each of them will load that specific version of the class. They reside in memory in parallel, and they are distinct different types, so if you try to cast one into the other you will see an exception raised.\r\n\r\nSo to really know whether two classes are the same, not only compare their fully qualified class names but also compare the classloader they belong to. I am not aware that at runtime the JVM would check if two classes are the same (content-wise), as it might pop up in your example.","title":"Why this class can be loaded twice by Java classloader?","body":"<p>If the parent delegation principle is in effect you are right. But that is not always the desired behaviour.</p>\n<p>In JEE containers this is per design different. Just imagine two different applications refer to the same class (named mypackage.MyClass). But for some reason one application expects the library 'mypackage' in version 1, while the other in version two. And both of them are incompatible.</p>\n<p>Thus JEE containers assign one classloader for each of the applications, and each of them will load that specific version of the class. They reside in memory in parallel, and they are distinct different types, so if you try to cast one into the other you will see an exception raised.</p>\n<p>So to really know whether two classes are the same, not only compare their fully qualified class names but also compare the classloader they belong to. I am not aware that at runtime the JVM would check if two classes are the same (content-wise), as it might pop up in your example.</p>\n"}],"owner":{"account_id":18103108,"reputation":405,"user_id":13160706,"display_name":"Machi"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":210,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":75207018,"answer_count":1,"score":2,"last_activity_date":1674472468,"creation_date":1674460563,"question_id":75206840,"body_markdown":"This code can load the same class twice by two distinct Classloader.\r\n```\r\nimport java.net.URL;\r\nimport java.net.URLClassLoader;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) throws Exception {\r\n        URL childAndParentClassesLocation = new URL(&quot;file:///C:\\\\Users\\\\Machi\\\\Desktop\\\\tobeloaded-1.0-SNAPSHOT.jar&quot;);\r\n        ClassLoader cl1 = new URLClassLoader(new URL[]{childAndParentClassesLocation}, Main.class.getClassLoader());\r\n        ClassLoader cl2 = new URLClassLoader(new URL[]{childAndParentClassesLocation}, Main.class.getClassLoader());\r\n        Class child1 = cl1.loadClass(&quot;example.ToBeLoaded&quot;);\r\n        Class child2 = cl2.loadClass(&quot;example.ToBeLoaded&quot;);\r\n        System.out.println(child2 == child1);\r\n        System.out.println(child2.equals(child1));\r\n\r\n    }\r\n}\r\n```\r\n\r\nBut a URLClassLoader has the Application ClassLoader as a parent. According to the parent delegation principle, should not the ToBeLoaded class be loaded by the Application ClassLoader once and only once?\r\n","title":"Why this class can be loaded twice by Java classloader?","body":"<p>This code can load the same class twice by two distinct Classloader.</p>\n<pre><code>import java.net.URL;\nimport java.net.URLClassLoader;\n\npublic class Main {\n    public static void main(String[] args) throws Exception {\n        URL childAndParentClassesLocation = new URL(&quot;file:///C:\\\\Users\\\\Machi\\\\Desktop\\\\tobeloaded-1.0-SNAPSHOT.jar&quot;);\n        ClassLoader cl1 = new URLClassLoader(new URL[]{childAndParentClassesLocation}, Main.class.getClassLoader());\n        ClassLoader cl2 = new URLClassLoader(new URL[]{childAndParentClassesLocation}, Main.class.getClassLoader());\n        Class child1 = cl1.loadClass(&quot;example.ToBeLoaded&quot;);\n        Class child2 = cl2.loadClass(&quot;example.ToBeLoaded&quot;);\n        System.out.println(child2 == child1);\n        System.out.println(child2.equals(child1));\n\n    }\n}\n</code></pre>\n<p>But a URLClassLoader has the Application ClassLoader as a parent. According to the parent delegation principle, should not the ToBeLoaded class be loaded by the Application ClassLoader once and only once?</p>\n"},{"tags":["java","mockito","junit5","dao"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1674472440,"post_id":75202554,"comment_id":132713755,"body_markdown":"`ps.execute()` will return `false` when using an actual JDBC driver, because its return value means true: first result is a result set, false: first result is an update count or there are no results. An insert **does not produce a result set**, so `ps.execute()` returns false. In other words, your expectation is wrong. Also, you really should mock things like this. If you want to test it, use an actual database, e.g. with testcontainers-java.","body":"<code>ps.execute()</code> will return <code>false</code> when using an actual JDBC driver, because its return value means true: first result is a result set, false: first result is an update count or there are no results. An insert <b>does not produce a result set</b>, so <code>ps.execute()</code> returns false. In other words, your expectation is wrong. Also, you really should mock things like this. If you want to test it, use an actual database, e.g. with testcontainers-java."}],"answers":[{"tags":[],"owner":{"account_id":25659196,"reputation":1,"user_id":19425149,"display_name":"newenpoi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674466388,"creation_date":1674466388,"answer_id":75207637,"question_id":75202554,"body_markdown":"Since *mockDataBaseTestConfig.getConnection()* always returned null, it obviously could not work.\r\n\r\nAfter reviewing, I ended making it working by only mocking the dao (careful the test has been renamed to testSavingTicket_shouldReturnTrue).\r\n\r\n```\r\nprivate Ticket t;\r\n\r\n@Test\r\npublic void testSavingTicket_shouldReturnTrue() throws SQLException, ClassNotFoundException {\r\n\t// Given.\r\n\tTicketDAO mockTicketDao = mock(TicketDAO.class);\r\n\t\r\n\tt = new Ticket();\r\n\t\r\n\tt.setVehicleRegNumber(&quot;ABCDEF&quot;);\r\n\tt.setPrice(0);\r\n\tt.setInTime(new Date());\r\n\tt.setOutTime(null);\r\n\t\r\n\twhen(mockTicketDao.saveTicket(t)).thenReturn(true);\r\n\t\r\n\t// When.\r\n\tfinal boolean saved = mockTicketDao.saveTicket(t);\r\n\t\r\n\t// Then.\r\n\tassertEquals(true, saved);\r\n\tassertThat(saved).isEqualTo(true);\r\n}\r\n```","title":"Mocked dao returns false when saving an object","body":"<p>Since <em>mockDataBaseTestConfig.getConnection()</em> always returned null, it obviously could not work.</p>\n<p>After reviewing, I ended making it working by only mocking the dao (careful the test has been renamed to testSavingTicket_shouldReturnTrue).</p>\n<pre><code>private Ticket t;\n\n@Test\npublic void testSavingTicket_shouldReturnTrue() throws SQLException, ClassNotFoundException {\n    // Given.\n    TicketDAO mockTicketDao = mock(TicketDAO.class);\n    \n    t = new Ticket();\n    \n    t.setVehicleRegNumber(&quot;ABCDEF&quot;);\n    t.setPrice(0);\n    t.setInTime(new Date());\n    t.setOutTime(null);\n    \n    when(mockTicketDao.saveTicket(t)).thenReturn(true);\n    \n    // When.\n    final boolean saved = mockTicketDao.saveTicket(t);\n    \n    // Then.\n    assertEquals(true, saved);\n    assertThat(saved).isEqualTo(true);\n}\n</code></pre>\n"}],"owner":{"account_id":25659196,"reputation":1,"user_id":19425149,"display_name":"newenpoi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674472303,"creation_date":1674409162,"question_id":75202554,"body_markdown":"I am new to test driven development. I am trying to test if an object has been successfully saved into my db. My code so far:\r\n\r\n```\r\n@ExtendWith(MockitoExtension.class)\r\npublic class ParkingDataBaseIT {\r\n    @Mock\r\n\tprivate TicketDAO mockTicketDAO;\r\n\t\r\n\t@Mock\r\n    public static DataBaseTestConfig mockDataBaseTestConfig = new DataBaseTestConfig();\r\n\t\r\n\t@Mock\r\n\tprivate static Connection mockConnection;\r\n\r\n    @BeforeEach\r\n    public void setup() throws SQLException, ClassNotFoundException {\r\n    \t// Connection attempt.\r\n    \twhen(mockDataBaseTestConfig.getConnection()).thenReturn(mockConnection);\r\n    }\r\n\r\n    @AfterAll\r\n    public static void tearDown() {\r\n    \t// ...\r\n    }\r\n\r\n    @DisplayName(&quot;Tests if saving a ticket is successful.&quot;)\r\n    @Test\r\n    public void testParkingACarAlpha() throws SQLException, ClassNotFoundException {\r\n\t\t// Given.\r\n\t\tDate inTime = new Date();\r\n\t\tTicket ticket = new Ticket();\r\n\t\t\r\n\t\tticket.setVehicleRegNumber(&quot;ABCDEF&quot;);\r\n        ticket.setPrice(0);\r\n        ticket.setInTime(inTime);\r\n        ticket.setOutTime(null);\r\n        \r\n    \t// When.\r\n        // MockDao always returning false when saving.\r\n        final boolean saved = mockTicketDAO.saveTicket(ticket, mockDataBaseTestConfig.getConnection());\r\n        \r\n    \t// Then.\r\n        assertEquals(true, saved);\r\n        assertThat(saved).isEqualTo(true);\r\n    }\r\n}\r\n```\r\n\r\nThis is the method that makes the connection to MySQL:\r\n\r\n```\r\npublic Connection getConnection() throws ClassNotFoundException, SQLException {\r\n    Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n    return DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/testing&quot;, &quot;root&quot;, &quot;&quot;);\r\n}\r\n```\r\n\r\nAnd finally this is how I save my ticket:\r\n\r\n```\r\npublic boolean saveTicket(Ticket ticket, Connection con) {\r\n    try {\r\n        PreparedStatement ps = con.prepareStatement(&quot;insert into ticket(vehicleRegNumber, price, inTime, outTime) values(?, ?, ?, ?, ?)&quot;);\r\n        \r\n        ps.setInt(1, ticket.getParkingSpot().getId());\r\n        ps.setString(2, ticket.getVehicleRegNumber());\r\n        ps.setDouble(3, ticket.getPrice());\r\n        ps.setTimestamp(4, new Timestamp(ticket.getInTime().getTime()));\r\n        ps.setTimestamp(5, (ticket.getOutTime() == null) ? null: (new Timestamp(ticket.getOutTime().getTime())));\r\n        \r\n        return ps.execute();\r\n    } catch (Exception e) {\r\n        logger.error(&quot;Cannot fetch available slot.&quot;, e);\r\n    } finally {\r\n        dataBaseConfig.closeConnection(con);\r\n    }\r\n    \r\n    return false;\r\n}\r\n```\r\n\r\nThe request using MySQL works, but while saving the object, I get a false from ps.execute(); instead of true, but I am certainly doing something wrong.\r\n\r\nI noticed that `ps` is null in `saveTicket(Ticket ticket, Connection con)` (Cannot invoke &quot;java.sql.PreparedStatement.setInt(int, int)&quot; because &quot;ps&quot; is null), but `con` has mockConnection when I sysout the value.","title":"Mocked dao returns false when saving an object","body":"<p>I am new to test driven development. I am trying to test if an object has been successfully saved into my db. My code so far:</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\npublic class ParkingDataBaseIT {\n    @Mock\n    private TicketDAO mockTicketDAO;\n    \n    @Mock\n    public static DataBaseTestConfig mockDataBaseTestConfig = new DataBaseTestConfig();\n    \n    @Mock\n    private static Connection mockConnection;\n\n    @BeforeEach\n    public void setup() throws SQLException, ClassNotFoundException {\n        // Connection attempt.\n        when(mockDataBaseTestConfig.getConnection()).thenReturn(mockConnection);\n    }\n\n    @AfterAll\n    public static void tearDown() {\n        // ...\n    }\n\n    @DisplayName(&quot;Tests if saving a ticket is successful.&quot;)\n    @Test\n    public void testParkingACarAlpha() throws SQLException, ClassNotFoundException {\n        // Given.\n        Date inTime = new Date();\n        Ticket ticket = new Ticket();\n        \n        ticket.setVehicleRegNumber(&quot;ABCDEF&quot;);\n        ticket.setPrice(0);\n        ticket.setInTime(inTime);\n        ticket.setOutTime(null);\n        \n        // When.\n        // MockDao always returning false when saving.\n        final boolean saved = mockTicketDAO.saveTicket(ticket, mockDataBaseTestConfig.getConnection());\n        \n        // Then.\n        assertEquals(true, saved);\n        assertThat(saved).isEqualTo(true);\n    }\n}\n</code></pre>\n<p>This is the method that makes the connection to MySQL:</p>\n<pre><code>public Connection getConnection() throws ClassNotFoundException, SQLException {\n    Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n    return DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/testing&quot;, &quot;root&quot;, &quot;&quot;);\n}\n</code></pre>\n<p>And finally this is how I save my ticket:</p>\n<pre><code>public boolean saveTicket(Ticket ticket, Connection con) {\n    try {\n        PreparedStatement ps = con.prepareStatement(&quot;insert into ticket(vehicleRegNumber, price, inTime, outTime) values(?, ?, ?, ?, ?)&quot;);\n        \n        ps.setInt(1, ticket.getParkingSpot().getId());\n        ps.setString(2, ticket.getVehicleRegNumber());\n        ps.setDouble(3, ticket.getPrice());\n        ps.setTimestamp(4, new Timestamp(ticket.getInTime().getTime()));\n        ps.setTimestamp(5, (ticket.getOutTime() == null) ? null: (new Timestamp(ticket.getOutTime().getTime())));\n        \n        return ps.execute();\n    } catch (Exception e) {\n        logger.error(&quot;Cannot fetch available slot.&quot;, e);\n    } finally {\n        dataBaseConfig.closeConnection(con);\n    }\n    \n    return false;\n}\n</code></pre>\n<p>The request using MySQL works, but while saving the object, I get a false from ps.execute(); instead of true, but I am certainly doing something wrong.</p>\n<p>I noticed that <code>ps</code> is null in <code>saveTicket(Ticket ticket, Connection con)</code> (Cannot invoke &quot;java.sql.PreparedStatement.setInt(int, int)&quot; because &quot;ps&quot; is null), but <code>con</code> has mockConnection when I sysout the value.</p>\n"},{"tags":["java","spring","spring-boot","elasticsearch"],"answers":[{"comments":[{"owner":{"account_id":4763082,"reputation":974,"user_id":3849984,"display_name":"Laess3r"},"score":0,"creation_date":1678283938,"post_id":75208554,"comment_id":133502480,"body_markdown":"&#39;createIndex = false&#39; worked for me too, thanks. I created the indexes manually anyway (failsafe).","body":"&#39;createIndex = false&#39; worked for me too, thanks. I created the indexes manually anyway (failsafe)."}],"tags":[],"owner":{"account_id":1605502,"reputation":49,"user_id":1485685,"display_name":"msbgnr"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674471699,"creation_date":1674471699,"answer_id":75208554,"question_id":72941805,"body_markdown":"We probably have same issue in different setup but I&#39;ll tell what I have done to solve this startup connection exception, maybe it&#39;ll help somebody. \r\n\r\nI am using ES 7.17.8 and spring boot 2.7.3 and spring-boot-starter-data-elasticsearch.\r\n\r\nI used `@Document(createIndex = false)` in document class and with this stopped try to create index on startup. Application doesn&#39;t try to connect Elasticsearch server on startup anymore. (I handle indexing with logstash to sync relational db so I don&#39;t need in spring boot to handle that)\r\n\r\nAn then I put a try catch around `elasticsearchOperation.search` method call, with this at runtime app doesn&#39;t crash while elasticsearch server down but keep working. Any point of application running if elasticsearch server up, search method call will auto connect ES and get search result.","title":"Spring boot app doesn&#39;t start if elasticsearch server is down","body":"<p>We probably have same issue in different setup but I'll tell what I have done to solve this startup connection exception, maybe it'll help somebody.</p>\n<p>I am using ES 7.17.8 and spring boot 2.7.3 and spring-boot-starter-data-elasticsearch.</p>\n<p>I used <code>@Document(createIndex = false)</code> in document class and with this stopped try to create index on startup. Application doesn't try to connect Elasticsearch server on startup anymore. (I handle indexing with logstash to sync relational db so I don't need in spring boot to handle that)</p>\n<p>An then I put a try catch around <code>elasticsearchOperation.search</code> method call, with this at runtime app doesn't crash while elasticsearch server down but keep working. Any point of application running if elasticsearch server up, search method call will auto connect ES and get search result.</p>\n"}],"owner":{"account_id":127741,"reputation":434,"user_id":325118,"accept_rate":38,"display_name":"Sameer Malhotra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":306,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674471699,"creation_date":1657557248,"question_id":72941805,"body_markdown":"I&#39;m using spring boot app (2.5.x), which among other thigns integrates elasticsearch. If elastic search is down, my spring boot app doesnt&#39; start. I want the integration to work such that if elasticsearch is down, the API returns null or some sort of exception but let the app work normally for other things. \r\n\r\n```\r\n@Configuration\r\n@EnableElasticsearchRepositories(basePackages = { &quot;com.search.repository&quot; })\r\npublic class ElasticSearchConfig extends AbstractElasticsearchConfiguration {\r\n\r\n\tprivate static final Logger log = LoggerFactory.getLogger(ElasticSearchConfig.class);\r\n\r\n\t/**\r\n\t * the name of the cluster for the client to connect to\r\n\t */\r\n\t@Value(&quot;#{${es.hosts}}&quot;)\r\n\tprivate Map&lt;String, Integer&gt; esHosts;\r\n\r\n\t@Override\r\n\t@Bean\r\n\tpublic RestHighLevelClient elasticsearchClient() {\r\n\t\tString[] esHostWithPortArray = new String[esHosts.size()];\r\n\t\tint tracker = 0;\r\n\t\tfor (Entry&lt;String, Integer&gt; entry : esHosts.entrySet()) {\r\n\t\t\tlog.info(&quot;Adding the elastic search host configuration, server:{}, port:{}&quot;, entry.getKey(), entry.getValue());\r\n\t\t\tesHostWithPortArray[tracker] = entry.getKey() + &quot;:&quot; + entry.getValue();\r\n\t\t\ttracker++;\r\n\t\t}\r\n\t\t\r\n\t\t\tClientConfiguration clientConfiguration = ClientConfiguration.builder().connectedTo(esHostWithPortArray).build();\r\n\t\t\tlog.info(\r\n\t\t\t\t\t&quot;Done creating the elasticsearch RestHighClient, no basic authentication has been provided or es.auth.basic.enabled has not been set to true&quot;);\r\n\t\t\treturn RestClients.create(clientConfiguration).rest();\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic ElasticsearchOperations elasticsearchTemplate() {\r\n\t\treturn new ElasticsearchRestTemplate(elasticsearchClient());\r\n\t}\r\n```\r\n\r\nOne option I have considered is to create a separate rest spring boot app which only deals with elasticsearch but wondering if there are any other option. I tried putting @lazy annotation above this configuration file but the code still tries to connect to ElasticSearch. ","title":"Spring boot app doesn&#39;t start if elasticsearch server is down","body":"<p>I'm using spring boot app (2.5.x), which among other thigns integrates elasticsearch. If elastic search is down, my spring boot app doesnt' start. I want the integration to work such that if elasticsearch is down, the API returns null or some sort of exception but let the app work normally for other things.</p>\n<pre><code>@Configuration\n@EnableElasticsearchRepositories(basePackages = { &quot;com.search.repository&quot; })\npublic class ElasticSearchConfig extends AbstractElasticsearchConfiguration {\n\n    private static final Logger log = LoggerFactory.getLogger(ElasticSearchConfig.class);\n\n    /**\n     * the name of the cluster for the client to connect to\n     */\n    @Value(&quot;#{${es.hosts}}&quot;)\n    private Map&lt;String, Integer&gt; esHosts;\n\n    @Override\n    @Bean\n    public RestHighLevelClient elasticsearchClient() {\n        String[] esHostWithPortArray = new String[esHosts.size()];\n        int tracker = 0;\n        for (Entry&lt;String, Integer&gt; entry : esHosts.entrySet()) {\n            log.info(&quot;Adding the elastic search host configuration, server:{}, port:{}&quot;, entry.getKey(), entry.getValue());\n            esHostWithPortArray[tracker] = entry.getKey() + &quot;:&quot; + entry.getValue();\n            tracker++;\n        }\n        \n            ClientConfiguration clientConfiguration = ClientConfiguration.builder().connectedTo(esHostWithPortArray).build();\n            log.info(\n                    &quot;Done creating the elasticsearch RestHighClient, no basic authentication has been provided or es.auth.basic.enabled has not been set to true&quot;);\n            return RestClients.create(clientConfiguration).rest();\n        }\n\n    }\n\n    @Bean\n    public ElasticsearchOperations elasticsearchTemplate() {\n        return new ElasticsearchRestTemplate(elasticsearchClient());\n    }\n</code></pre>\n<p>One option I have considered is to create a separate rest spring boot app which only deals with elasticsearch but wondering if there are any other option. I tried putting @lazy annotation above this configuration file but the code still tries to connect to ElasticSearch.</p>\n"},{"tags":["java","swagger"],"answers":[{"tags":[],"owner":{"account_id":8436158,"reputation":700,"user_id":6395007,"display_name":"Ionut Alexandru"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674471519,"creation_date":1674471519,"answer_id":75208527,"question_id":75206690,"body_markdown":"    @ApiResponses(value = {\r\n        @ApiResponse(\r\n            responseCode = &quot;200&quot;,\r\n            content = @Content(\r\n                mediaType = MediaType.APPLICATION_JSON_VALUE,\r\n                schema = @Schema(implementation = PageFoo.class)\r\n            ),\r\n            description = &quot;The request has succeeded&quot;\r\n        )\r\n    })\r\n\r\n\r\n    class PageFoo {\r\n        @Schema(name = &quot;data&quot;, implementation = Foo.class, type = SchemaType.ARRAY)\r\n        List&lt;Foo&gt; data;\r\n        //...\r\n    }","title":"How to annotate Page&lt;Foo&gt; for generate correct response","body":"<pre><code>@ApiResponses(value = {\n    @ApiResponse(\n        responseCode = &quot;200&quot;,\n        content = @Content(\n            mediaType = MediaType.APPLICATION_JSON_VALUE,\n            schema = @Schema(implementation = PageFoo.class)\n        ),\n        description = &quot;The request has succeeded&quot;\n    )\n})\n\n\nclass PageFoo {\n    @Schema(name = &quot;data&quot;, implementation = Foo.class, type = SchemaType.ARRAY)\n    List&lt;Foo&gt; data;\n    //...\n}\n</code></pre>\n"}],"owner":{"account_id":25486631,"reputation":101,"user_id":19282140,"display_name":"java developer 111"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75208527,"answer_count":1,"score":0,"last_activity_date":1674471519,"creation_date":1674459284,"question_id":75206690,"body_markdown":"RestController return response \r\n\r\n    Page&lt;Foo&gt;\r\n\r\nI annotate like this \r\n\r\n    @ApiResponses(value = {\r\n        @ApiResponse(\r\n                responseCode = &quot;200&quot;,\r\n\r\n                content = @Content(\r\n                        mediaType = MediaType.APPLICATION_JSON_VALUE,\r\n                        array = @ArraySchema(\r\n                                schema = @Schema(implementation = Foo.class)\r\n                        )),\r\n                description = &quot;The request has succeeded&quot;)\r\n\r\nbut i need to generate page instead of array.\r\n\r\nIs there any way to do this \r\n\r\nif should be look like this \r\n\r\n    schema PageFoo-&gt;data-&gt; [{Foo}]\r\n\r\nif i remove annotation it will generate right schema but without  content-type\r\n","title":"How to annotate Page&lt;Foo&gt; for generate correct response","body":"<p>RestController return response</p>\n<pre><code>Page&lt;Foo&gt;\n</code></pre>\n<p>I annotate like this</p>\n<pre><code>@ApiResponses(value = {\n    @ApiResponse(\n            responseCode = &quot;200&quot;,\n\n            content = @Content(\n                    mediaType = MediaType.APPLICATION_JSON_VALUE,\n                    array = @ArraySchema(\n                            schema = @Schema(implementation = Foo.class)\n                    )),\n            description = &quot;The request has succeeded&quot;)\n</code></pre>\n<p>but i need to generate page instead of array.</p>\n<p>Is there any way to do this</p>\n<p>if should be look like this</p>\n<pre><code>schema PageFoo-&gt;data-&gt; [{Foo}]\n</code></pre>\n<p>if i remove annotation it will generate right schema but without  content-type</p>\n"},{"tags":["java","intellij-idea","server","glassfish"],"answers":[{"tags":[],"owner":{"account_id":6398908,"reputation":3023,"user_id":4962355,"display_name":"Christoph John"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1624015205,"creation_date":1624015205,"answer_id":68034248,"question_id":68028876,"body_markdown":"You got the error message wrong.\r\n\r\n```\r\n... has been compiled by a more recent version of the Java Runtime (class file version 55.0),\r\nthis version of the Java Runtime only recognizes class file versions up to 52.0\r\n```\r\n\r\nIt does not tell you that you need Java 8 but instead that Java 8 (class version `52`) is too old to run classes compiled by version `55` (i.e. Java 11).\r\n\r\nSo you need to install JDK 11.","title":"enter java.lang.UnsupportedClassVersionError in IDEA running glassfish 6.2.0","body":"<p>You got the error message wrong.</p>\n<pre><code>... has been compiled by a more recent version of the Java Runtime (class file version 55.0),\nthis version of the Java Runtime only recognizes class file versions up to 52.0\n</code></pre>\n<p>It does not tell you that you need Java 8 but instead that Java 8 (class version <code>52</code>) is too old to run classes compiled by version <code>55</code> (i.e. Java 11).</p>\n<p>So you need to install JDK 11.</p>\n"}],"owner":{"account_id":21189436,"reputation":1,"user_id":15582181,"display_name":"dogking"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2809,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674471430,"creation_date":1623986272,"question_id":68028876,"body_markdown":"I&#39;m using the IDEA to do some assignment about the JSF.\r\nAnd I&#39;m just running a simple project with glassfish, and the output is like this:\r\n\r\n[the out put][1]\r\n    \r\n    Error: A JNI error has occurred, please check your installation and try again\r\n    Exception in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: org/glassfish/admin/cli/AsadminMain has been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0\r\n    \tat java.lang.ClassLoader.defineClass1(Native Method)\r\n    \tat java.lang.ClassLoader.defineClass(Unknown Source)\r\n    \tat java.security.SecureClassLoader.defineClass(Unknown Source)\r\n    \tat java.net.URLClassLoader.defineClass(Unknown Source)\r\n    \tat java.net.URLClassLoader.access$100(Unknown Source)\r\n    \tat java.net.URLClassLoader$1.run(Unknown Source)\r\n    \tat java.net.URLClassLoader$1.run(Unknown Source)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat java.net.URLClassLoader.findClass(Unknown Source)\r\n    \tat java.lang.ClassLoader.loadClass(Unknown Source)\r\n    \tat sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\r\n    \tat java.lang.ClassLoader.loadClass(Unknown Source)\r\n    \tat sun.launcher.LauncherHelper.checkAndLoadMain(Unknown Source)\r\n\r\nI searched on the google, and know that version 52 means jdk 8, so I delete all the other jdk, and only leave the jdk8, and the version is indeed 1.8:\r\n\r\n[the java version][2]\r\n\r\n    C:\\Users\\42173&gt;java -version\r\n    java version &quot;1.8.0_291&quot;\r\n    Java(TM) SE Runtime Environment (build 1.8.0_291-b10)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 25.291-b10, mixed mode)\r\n    \r\n    C:\\Users\\42173&gt;javac -version\r\n    javac 1.8.0_291\r\n\r\nBut it still shows the same error, I don&#39;t know what to do.\r\n\r\nAnd I have tried glassfish5, but the output still has error:\r\n\r\n[exception with glassfish5][3]\r\n\r\n    [2021-06-18 11:14:13,323] Artifact untitled1:war exploded: Artifact is being deployed, please wait...\r\n    [2021-06-18 11:14:13,818] Artifact untitled1:war exploded: Error during artifact deployment. See server log for details.\r\n    [2021-06-18 11:14:13,818] Artifact untitled1:war exploded: java.io.IOException: com.sun.enterprise.admin.remote.RemoteFailureException: Error occurred during deployment: Exception while deploying the app [untitled1_war_exploded] : A MultiException has 4 exceptions.  They are:\r\n    1. java.lang.IllegalAccessError: tried to access class sun.security.provider.SunEntries from class com.sun.crypto.provider.SunJCE\r\n    2. java.lang.IllegalStateException: Unable to perform operation: post construct on com.sun.enterprise.security.ssl.SSLUtils\r\n    3. java.lang.IllegalArgumentException: While attempting to resolve the dependencies of com.sun.enterprise.security.SecurityLifecycle errors were found\r\n    4. java.lang.IllegalStateException: Unable to perform operation: resolve on com.sun.enterprise.security.SecurityLifecycle\r\n    . Please see server.log for more details.\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DdciX.png\r\n  [2]: https://i.stack.imgur.com/XvS0y.png\r\n  [3]: https://i.stack.imgur.com/1ujVD.png","title":"enter java.lang.UnsupportedClassVersionError in IDEA running glassfish 6.2.0","body":"<p>I'm using the IDEA to do some assignment about the JSF.\nAnd I'm just running a simple project with glassfish, and the output is like this:</p>\n<p><a href=\"https://i.stack.imgur.com/DdciX.png\" rel=\"nofollow noreferrer\">the out put</a></p>\n<pre><code>Error: A JNI error has occurred, please check your installation and try again\nException in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: org/glassfish/admin/cli/AsadminMain has been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0\n    at java.lang.ClassLoader.defineClass1(Native Method)\n    at java.lang.ClassLoader.defineClass(Unknown Source)\n    at java.security.SecureClassLoader.defineClass(Unknown Source)\n    at java.net.URLClassLoader.defineClass(Unknown Source)\n    at java.net.URLClassLoader.access$100(Unknown Source)\n    at java.net.URLClassLoader$1.run(Unknown Source)\n    at java.net.URLClassLoader$1.run(Unknown Source)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.net.URLClassLoader.findClass(Unknown Source)\n    at java.lang.ClassLoader.loadClass(Unknown Source)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\n    at java.lang.ClassLoader.loadClass(Unknown Source)\n    at sun.launcher.LauncherHelper.checkAndLoadMain(Unknown Source)\n</code></pre>\n<p>I searched on the google, and know that version 52 means jdk 8, so I delete all the other jdk, and only leave the jdk8, and the version is indeed 1.8:</p>\n<p><a href=\"https://i.stack.imgur.com/XvS0y.png\" rel=\"nofollow noreferrer\">the java version</a></p>\n<pre><code>C:\\Users\\42173&gt;java -version\njava version &quot;1.8.0_291&quot;\nJava(TM) SE Runtime Environment (build 1.8.0_291-b10)\nJava HotSpot(TM) 64-Bit Server VM (build 25.291-b10, mixed mode)\n\nC:\\Users\\42173&gt;javac -version\njavac 1.8.0_291\n</code></pre>\n<p>But it still shows the same error, I don't know what to do.</p>\n<p>And I have tried glassfish5, but the output still has error:</p>\n<p><a href=\"https://i.stack.imgur.com/1ujVD.png\" rel=\"nofollow noreferrer\">exception with glassfish5</a></p>\n<pre><code>[2021-06-18 11:14:13,323] Artifact untitled1:war exploded: Artifact is being deployed, please wait...\n[2021-06-18 11:14:13,818] Artifact untitled1:war exploded: Error during artifact deployment. See server log for details.\n[2021-06-18 11:14:13,818] Artifact untitled1:war exploded: java.io.IOException: com.sun.enterprise.admin.remote.RemoteFailureException: Error occurred during deployment: Exception while deploying the app [untitled1_war_exploded] : A MultiException has 4 exceptions.  They are:\n1. java.lang.IllegalAccessError: tried to access class sun.security.provider.SunEntries from class com.sun.crypto.provider.SunJCE\n2. java.lang.IllegalStateException: Unable to perform operation: post construct on com.sun.enterprise.security.ssl.SSLUtils\n3. java.lang.IllegalArgumentException: While attempting to resolve the dependencies of com.sun.enterprise.security.SecurityLifecycle errors were found\n4. java.lang.IllegalStateException: Unable to perform operation: resolve on com.sun.enterprise.security.SecurityLifecycle\n. Please see server.log for more details.\n</code></pre>\n"},{"tags":["java","intellij-idea","spring-batch"],"comments":[{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1670136452,"post_id":74642864,"comment_id":131800602,"body_markdown":"You seem to have an an object of type `Object[]` in the execution context, do you confirm? If yes, the error means that Jackson is not able to deserialize it because `Object[]` is not a trusted class by default, in which case you would need to add that type to the list of trusted types (similar to `Properties[]`: https://github.com/spring-projects/spring-batch/blob/main/spring-batch-core/src/main/java/org/springframework/batch/core/repository/dao/Jackson2ExecutionContextStringSerializer.java#L298).","body":"You seem to have an an object of type <code>Object[]</code> in the execution context, do you confirm? If yes, the error means that Jackson is not able to deserialize it because <code>Object[]</code> is not a trusted class by default, in which case you would need to add that type to the list of trusted types (similar to <code>Properties[]</code>: <a href=\"https://github.com/spring-projects/spring-batch/blob/main/spring-batch-core/src/main/java/org/springframework/batch/core/repository/dao/Jackson2ExecutionContextStringSerializer.java#L298\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-batch/blob/main/&hellip;</a>)."}],"answers":[{"tags":[],"owner":{"account_id":11320426,"reputation":403,"user_id":8300911,"display_name":"J&#233;r&#233;my"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674471091,"creation_date":1674471091,"answer_id":75208444,"question_id":74642864,"body_markdown":"Finally, it was only an old code that was stored in the `spring-batch` context and that was reused each time the batch was restarted. I delete my job in database so i wouldn’t have to worry about it.","title":"Why jackson can&#39;t cast long to long into my spring-batch?","body":"<p>Finally, it was only an old code that was stored in the <code>spring-batch</code> context and that was reused each time the batch was restarted. I delete my job in database so i wouldn’t have to worry about it.</p>\n"}],"owner":{"account_id":11320426,"reputation":403,"user_id":8300911,"display_name":"J&#233;r&#233;my"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75208444,"answer_count":1,"score":0,"last_activity_date":1674471091,"creation_date":1669902358,"question_id":74642864,"body_markdown":"I&#39;m trying to read datas from database into my spring-batch application.\r\n\r\nI have one oracle table with a lot of fields and i just want to get a list of id (primary key).\r\n\r\nSo i have created a simple job with 2 steps (reader and writer).\r\n\r\n```java\r\n@Configuration\r\n@EnableBatchProcessing\r\npublic class BatchConfiguration {\r\n  @Bean\r\n  public Job importPurchase(\r\n      JobBuilderFactory jobBuilderFactory, Step findProSellerAccountStep, Step importPurchaseStep) {\r\n    return jobBuilderFactory\r\n        .get(&quot;importJob&quot;)\r\n        .incrementer(new RunIdIncrementer())\r\n        .start(findProSellerAccountStep)\r\n        // .next(importPurchaseStep)\r\n        .build();\r\n  }\r\n\r\n  @Bean\r\n  @JobScope\r\n  public Step findProSellerAccountStep(\r\n      StepBuilderFactory stepBuilderFactory,\r\n      ItemReader&lt;Long&gt; accountItemReader,\r\n      ItemWriter&lt;Long&gt; accountItemWriter) {\r\n    return stepBuilderFactory\r\n        .get(&quot;findProSellersStep&quot;)\r\n        .&lt;Long, Long&gt;chunk(10)\r\n        .reader(accountItemReader)\r\n        .writer(accountItemWriter)\r\n        .build();\r\n  }\r\n}\r\n```\r\n\r\nAnd i have also created an item reader :\r\n\r\n```java\r\n@Component\r\n@JobScope\r\n@Scope(proxyMode = ScopedProxyMode.DEFAULT)\r\npublic class AccountItemReader extends RepositoryItemReader&lt;Long&gt; {\r\n  public AccountItemReader(AccountEntityRepository accountRepository) {\r\n    // Get all elements\r\n    this.setMethodName(&quot;findAllAccount&quot;);\r\n\r\n    HashMap&lt;String, Direction&gt; sorts = new HashMap&lt;&gt;();\r\n    sorts.put(&quot;userAccountId&quot;, Sort.Direction.ASC);\r\n\r\n    this.setSort(sorts);\r\n    this.setPageSize(10);\r\n    this.setRepository(accountRepository);\r\n  }\r\n}\r\n```\r\n\r\nFinally i have created a repository :\r\n\r\n```java\r\n@Repository\r\npublic interface AccountEntityRepository extends PagingAndSortingRepository&lt;AccountEntity, Long&gt; {\r\n  @Query(\r\n      value =\r\n          &quot;&quot;&quot;\r\n                    SELECT userAccountId\r\n                    FROM AccountEntity\r\n                    WHERE myparam = 30 and anotherparam = 20&quot;&quot;&quot;,\r\n      countQuery =\r\n          &quot;&quot;&quot;\r\n                    SELECT COUNT(userAccountId)\r\n                    FROM AccountEntity\r\n                    WHERE myparam = 30 and anotherparam = 20&quot;&quot;&quot;)\r\n  Page&lt;Long&gt; findAllActiveAccount(Pageable page);\r\n}\r\n\r\n```\r\n\r\nBut when i try to execute my program with Intellij IDEA, i have got a big error :\r\n\r\n```shell\r\n2022-12-01 14:35:30.655 ERROR [o.s.b.SpringApplication  ] - Application run failed\r\njava.lang.IllegalStateException: Failed to execute ApplicationRunner\r\n\tat org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:765)\r\n\tat org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:752)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:315)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)\r\n\tat com.rakuten.merchant_index.MerchantIndexApplication.main(MerchantIndexApplication.java:10)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)\r\nCaused by: java.lang.IllegalArgumentException: Unable to deserialize the execution context\r\n\tat org.springframework.batch.core.repository.dao.JdbcExecutionContextDao$ExecutionContextRowMapper.mapRow(JdbcExecutionContextDao.java:328)\r\n\tat org.springframework.batch.core.repository.dao.JdbcExecutionContextDao$ExecutionContextRowMapper.mapRow(JdbcExecutionContextDao.java:312)\r\n\tat org.springframework.jdbc.core.RowMapperResultSetExtractor.extractData(RowMapperResultSetExtractor.java:94)\r\n\tat org.springframework.jdbc.core.RowMapperResultSetExtractor.extractData(RowMapperResultSetExtractor.java:61)\r\n\tat org.springframework.jdbc.core.JdbcTemplate$1.doInPreparedStatement(JdbcTemplate.java:723)\r\n\tat org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:651)\r\n\tat org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:713)\r\n\tat org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:744)\r\n\tat org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:757)\r\n\tat org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:815)\r\n\tat org.springframework.batch.core.repository.dao.JdbcExecutionContextDao.getExecutionContext(JdbcExecutionContextDao.java:114)\r\n\tat org.springframework.batch.core.explore.support.SimpleJobExplorer.getJobExecutionDependencies(SimpleJobExplorer.java:239)\r\n\tat org.springframework.batch.core.explore.support.SimpleJobExplorer.getLastJobExecution(SimpleJobExplorer.java:104)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n\tat org.springframework.batch.core.configuration.annotation.SimpleBatchConfiguration$PassthruAdvice.invoke(SimpleBatchConfiguration.java:128)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\r\n\tat jdk.proxy4/jdk.proxy4.$Proxy107.getLastJobExecution(Unknown Source)\r\n\tat org.springframework.batch.core.JobParametersBuilder.getNextJobParameters(JobParametersBuilder.java:265)\r\n\tat org.springframework.boot.autoconfigure.batch.JobLauncherApplicationRunner.getNextJobParameters(JobLauncherApplicationRunner.java:213)\r\n\tat org.springframework.boot.autoconfigure.batch.JobLauncherApplicationRunner.execute(JobLauncherApplicationRunner.java:198)\r\n\tat org.springframework.boot.autoconfigure.batch.JobLauncherApplicationRunner.executeLocalJobs(JobLauncherApplicationRunner.java:173)\r\n\tat org.springframework.boot.autoconfigure.batch.JobLauncherApplicationRunner.launchJobFromProperties(JobLauncherApplicationRunner.java:160)\r\n\tat org.springframework.boot.autoconfigure.batch.JobLauncherApplicationRunner.run(JobLauncherApplicationRunner.java:155)\r\n\tat org.springframework.boot.autoconfigure.batch.JobLauncherApplicationRunner.run(JobLauncherApplicationRunner.java:150)\r\n\tat org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:762)\r\n\t... 10 common frames omitted\r\nCaused by: com.fasterxml.jackson.databind.JsonMappingException: The class with [Ljava.lang.Object; and name of [Ljava.lang.Object; is not trusted. If you believe this class is safe to deserialize, you can add it to the base set of trusted classes at construction time or provide an explicit mapping using Jackson annotations or a custom ObjectMapper. If the serialization is only done by a trusted source, you can also enable default typing. (through reference chain: java.util.HashMap[&quot;accountIds&quot;]-&gt;java.util.ArrayList[0])\r\n\tat com.fasterxml.jackson.databind.JsonMappingException.wrapWithPath(JsonMappingException.java:392)\r\n\tat com.fasterxml.jackson.databind.JsonMappingException.wrapWithPath(JsonMappingException.java:363)\r\n\tat com.fasterxml.jackson.databind.deser.std.CollectionDeserializer._deserializeFromArray(CollectionDeserializer.java:371)\r\n\tat com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.deserialize(CollectionDeserializer.java:244)\r\n\tat com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.deserialize(CollectionDeserializer.java:28)\r\n\tat com.fasterxml.jackson.databind.deser.std.StdDelegatingDeserializer.deserialize(StdDelegatingDeserializer.java:175)\r\n\tat com.fasterxml.jackson.databind.jsontype.impl.AsArrayTypeDeserializer._deserialize(AsArrayTypeDeserializer.java:120)\r\n\tat com.fasterxml.jackson.databind.jsontype.impl.AsArrayTypeDeserializer.deserializeTypedFromArray(AsArrayTypeDeserializer.java:53)\r\n\tat com.fasterxml.jackson.databind.jsontype.impl.AsPropertyTypeDeserializer.deserializeTypedFromAny(AsPropertyTypeDeserializer.java:211)\r\n\tat com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializer$Vanilla.deserializeWithType(UntypedObjectDeserializer.java:781)\r\n\tat com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:611)\r\n\tat com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:437)\r\n\tat com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)\r\n\tat com.fasterxml.jackson.databind.jsontype.impl.AsPropertyTypeDeserializer._deserializeTypedForId(AsPropertyTypeDeserializer.java:144)\r\n\tat com.fasterxml.jackson.databind.jsontype.impl.AsPropertyTypeDeserializer.deserializeTypedFromObject(AsPropertyTypeDeserializer.java:110)\r\n\tat com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserializeWithType(MapDeserializer.java:482)\r\n\tat com.fasterxml.jackson.databind.deser.impl.TypeWrappedDeserializer.deserialize(TypeWrappedDeserializer.java:74)\r\n\tat com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323)\r\n\tat com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4674)\r\n\tat com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3674)\r\n\tat org.springframework.batch.core.repository.dao.Jackson2ExecutionContextStringSerializer.deserialize(Jackson2ExecutionContextStringSerializer.java:133)\r\n\tat org.springframework.batch.core.repository.dao.Jackson2ExecutionContextStringSerializer.deserialize(Jackson2ExecutionContextStringSerializer.java:104)\r\n\tat org.springframework.batch.core.repository.dao.JdbcExecutionContextDao$ExecutionContextRowMapper.mapRow(JdbcExecutionContextDao.java:325)\r\n\t... 41 common frames omitted\r\nCaused by: java.lang.IllegalArgumentException: The class with [Ljava.lang.Object; and name of [Ljava.lang.Object; is not trusted. If you believe this class is safe to deserialize, you can add it to the base set of trusted classes at construction time or provide an explicit mapping using Jackson annotations or a custom ObjectMapper. If the serialization is only done by a trusted source, you can also enable default typing.\r\n\tat org.springframework.batch.core.repository.dao.Jackson2ExecutionContextStringSerializer$TrustedTypeIdResolver.typeFromId(Jackson2ExecutionContextStringSerializer.java:353)\r\n\tat com.fasterxml.jackson.databind.jsontype.impl.TypeDeserializerBase._findDeserializer(TypeDeserializerBase.java:159)\r\n\tat com.fasterxml.jackson.databind.jsontype.impl.AsArrayTypeDeserializer._deserialize(AsArrayTypeDeserializer.java:97)\r\n\tat com.fasterxml.jackson.databind.jsontype.impl.AsArrayTypeDeserializer.deserializeTypedFromArray(AsArrayTypeDeserializer.java:53)\r\n\tat com.fasterxml.jackson.databind.jsontype.impl.AsPropertyTypeDeserializer.deserializeTypedFromAny(AsPropertyTypeDeserializer.java:211)\r\n\tat com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializer$Vanilla.deserializeWithType(UntypedObjectDeserializer.java:781)\r\n\tat com.fasterxml.jackson.databind.deser.std.CollectionDeserializer._deserializeFromArray(CollectionDeserializer.java:357)\r\n\t... 61 common frames omitted\r\n```\r\n\r\nI don&#39;t understand because there is no &quot;HashMap[&quot;accountIds&quot;]&quot; into my actual java program.\r\n\r\nSo why jackson try to create this Map ? Is it an old cache ?","title":"Why jackson can&#39;t cast long to long into my spring-batch?","body":"<p>I'm trying to read datas from database into my spring-batch application.</p>\n<p>I have one oracle table with a lot of fields and i just want to get a list of id (primary key).</p>\n<p>So i have created a simple job with 2 steps (reader and writer).</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableBatchProcessing\npublic class BatchConfiguration {\n  @Bean\n  public Job importPurchase(\n      JobBuilderFactory jobBuilderFactory, Step findProSellerAccountStep, Step importPurchaseStep) {\n    return jobBuilderFactory\n        .get(&quot;importJob&quot;)\n        .incrementer(new RunIdIncrementer())\n        .start(findProSellerAccountStep)\n        // .next(importPurchaseStep)\n        .build();\n  }\n\n  @Bean\n  @JobScope\n  public Step findProSellerAccountStep(\n      StepBuilderFactory stepBuilderFactory,\n      ItemReader&lt;Long&gt; accountItemReader,\n      ItemWriter&lt;Long&gt; accountItemWriter) {\n    return stepBuilderFactory\n        .get(&quot;findProSellersStep&quot;)\n        .&lt;Long, Long&gt;chunk(10)\n        .reader(accountItemReader)\n        .writer(accountItemWriter)\n        .build();\n  }\n}\n</code></pre>\n<p>And i have also created an item reader :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\n@JobScope\n@Scope(proxyMode = ScopedProxyMode.DEFAULT)\npublic class AccountItemReader extends RepositoryItemReader&lt;Long&gt; {\n  public AccountItemReader(AccountEntityRepository accountRepository) {\n    // Get all elements\n    this.setMethodName(&quot;findAllAccount&quot;);\n\n    HashMap&lt;String, Direction&gt; sorts = new HashMap&lt;&gt;();\n    sorts.put(&quot;userAccountId&quot;, Sort.Direction.ASC);\n\n    this.setSort(sorts);\n    this.setPageSize(10);\n    this.setRepository(accountRepository);\n  }\n}\n</code></pre>\n<p>Finally i have created a repository :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository\npublic interface AccountEntityRepository extends PagingAndSortingRepository&lt;AccountEntity, Long&gt; {\n  @Query(\n      value =\n          &quot;&quot;&quot;\n                    SELECT userAccountId\n                    FROM AccountEntity\n                    WHERE myparam = 30 and anotherparam = 20&quot;&quot;&quot;,\n      countQuery =\n          &quot;&quot;&quot;\n                    SELECT COUNT(userAccountId)\n                    FROM AccountEntity\n                    WHERE myparam = 30 and anotherparam = 20&quot;&quot;&quot;)\n  Page&lt;Long&gt; findAllActiveAccount(Pageable page);\n}\n\n</code></pre>\n<p>But when i try to execute my program with Intellij IDEA, i have got a big error :</p>\n<pre class=\"lang-bash prettyprint-override\"><code>2022-12-01 14:35:30.655 ERROR [o.s.b.SpringApplication  ] - Application run failed\njava.lang.IllegalStateException: Failed to execute ApplicationRunner\n    at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:765)\n    at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:752)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)\n    at com.rakuten.merchant_index.MerchantIndexApplication.main(MerchantIndexApplication.java:10)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)\nCaused by: java.lang.IllegalArgumentException: Unable to deserialize the execution context\n    at org.springframework.batch.core.repository.dao.JdbcExecutionContextDao$ExecutionContextRowMapper.mapRow(JdbcExecutionContextDao.java:328)\n    at org.springframework.batch.core.repository.dao.JdbcExecutionContextDao$ExecutionContextRowMapper.mapRow(JdbcExecutionContextDao.java:312)\n    at org.springframework.jdbc.core.RowMapperResultSetExtractor.extractData(RowMapperResultSetExtractor.java:94)\n    at org.springframework.jdbc.core.RowMapperResultSetExtractor.extractData(RowMapperResultSetExtractor.java:61)\n    at org.springframework.jdbc.core.JdbcTemplate$1.doInPreparedStatement(JdbcTemplate.java:723)\n    at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:651)\n    at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:713)\n    at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:744)\n    at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:757)\n    at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:815)\n    at org.springframework.batch.core.repository.dao.JdbcExecutionContextDao.getExecutionContext(JdbcExecutionContextDao.java:114)\n    at org.springframework.batch.core.explore.support.SimpleJobExplorer.getJobExecutionDependencies(SimpleJobExplorer.java:239)\n    at org.springframework.batch.core.explore.support.SimpleJobExplorer.getLastJobExecution(SimpleJobExplorer.java:104)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n    at org.springframework.batch.core.configuration.annotation.SimpleBatchConfiguration$PassthruAdvice.invoke(SimpleBatchConfiguration.java:128)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\n    at jdk.proxy4/jdk.proxy4.$Proxy107.getLastJobExecution(Unknown Source)\n    at org.springframework.batch.core.JobParametersBuilder.getNextJobParameters(JobParametersBuilder.java:265)\n    at org.springframework.boot.autoconfigure.batch.JobLauncherApplicationRunner.getNextJobParameters(JobLauncherApplicationRunner.java:213)\n    at org.springframework.boot.autoconfigure.batch.JobLauncherApplicationRunner.execute(JobLauncherApplicationRunner.java:198)\n    at org.springframework.boot.autoconfigure.batch.JobLauncherApplicationRunner.executeLocalJobs(JobLauncherApplicationRunner.java:173)\n    at org.springframework.boot.autoconfigure.batch.JobLauncherApplicationRunner.launchJobFromProperties(JobLauncherApplicationRunner.java:160)\n    at org.springframework.boot.autoconfigure.batch.JobLauncherApplicationRunner.run(JobLauncherApplicationRunner.java:155)\n    at org.springframework.boot.autoconfigure.batch.JobLauncherApplicationRunner.run(JobLauncherApplicationRunner.java:150)\n    at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:762)\n    ... 10 common frames omitted\nCaused by: com.fasterxml.jackson.databind.JsonMappingException: The class with [Ljava.lang.Object; and name of [Ljava.lang.Object; is not trusted. If you believe this class is safe to deserialize, you can add it to the base set of trusted classes at construction time or provide an explicit mapping using Jackson annotations or a custom ObjectMapper. If the serialization is only done by a trusted source, you can also enable default typing. (through reference chain: java.util.HashMap[&quot;accountIds&quot;]-&gt;java.util.ArrayList[0])\n    at com.fasterxml.jackson.databind.JsonMappingException.wrapWithPath(JsonMappingException.java:392)\n    at com.fasterxml.jackson.databind.JsonMappingException.wrapWithPath(JsonMappingException.java:363)\n    at com.fasterxml.jackson.databind.deser.std.CollectionDeserializer._deserializeFromArray(CollectionDeserializer.java:371)\n    at com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.deserialize(CollectionDeserializer.java:244)\n    at com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.deserialize(CollectionDeserializer.java:28)\n    at com.fasterxml.jackson.databind.deser.std.StdDelegatingDeserializer.deserialize(StdDelegatingDeserializer.java:175)\n    at com.fasterxml.jackson.databind.jsontype.impl.AsArrayTypeDeserializer._deserialize(AsArrayTypeDeserializer.java:120)\n    at com.fasterxml.jackson.databind.jsontype.impl.AsArrayTypeDeserializer.deserializeTypedFromArray(AsArrayTypeDeserializer.java:53)\n    at com.fasterxml.jackson.databind.jsontype.impl.AsPropertyTypeDeserializer.deserializeTypedFromAny(AsPropertyTypeDeserializer.java:211)\n    at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializer$Vanilla.deserializeWithType(UntypedObjectDeserializer.java:781)\n    at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:611)\n    at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:437)\n    at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)\n    at com.fasterxml.jackson.databind.jsontype.impl.AsPropertyTypeDeserializer._deserializeTypedForId(AsPropertyTypeDeserializer.java:144)\n    at com.fasterxml.jackson.databind.jsontype.impl.AsPropertyTypeDeserializer.deserializeTypedFromObject(AsPropertyTypeDeserializer.java:110)\n    at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserializeWithType(MapDeserializer.java:482)\n    at com.fasterxml.jackson.databind.deser.impl.TypeWrappedDeserializer.deserialize(TypeWrappedDeserializer.java:74)\n    at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323)\n    at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4674)\n    at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3674)\n    at org.springframework.batch.core.repository.dao.Jackson2ExecutionContextStringSerializer.deserialize(Jackson2ExecutionContextStringSerializer.java:133)\n    at org.springframework.batch.core.repository.dao.Jackson2ExecutionContextStringSerializer.deserialize(Jackson2ExecutionContextStringSerializer.java:104)\n    at org.springframework.batch.core.repository.dao.JdbcExecutionContextDao$ExecutionContextRowMapper.mapRow(JdbcExecutionContextDao.java:325)\n    ... 41 common frames omitted\nCaused by: java.lang.IllegalArgumentException: The class with [Ljava.lang.Object; and name of [Ljava.lang.Object; is not trusted. If you believe this class is safe to deserialize, you can add it to the base set of trusted classes at construction time or provide an explicit mapping using Jackson annotations or a custom ObjectMapper. If the serialization is only done by a trusted source, you can also enable default typing.\n    at org.springframework.batch.core.repository.dao.Jackson2ExecutionContextStringSerializer$TrustedTypeIdResolver.typeFromId(Jackson2ExecutionContextStringSerializer.java:353)\n    at com.fasterxml.jackson.databind.jsontype.impl.TypeDeserializerBase._findDeserializer(TypeDeserializerBase.java:159)\n    at com.fasterxml.jackson.databind.jsontype.impl.AsArrayTypeDeserializer._deserialize(AsArrayTypeDeserializer.java:97)\n    at com.fasterxml.jackson.databind.jsontype.impl.AsArrayTypeDeserializer.deserializeTypedFromArray(AsArrayTypeDeserializer.java:53)\n    at com.fasterxml.jackson.databind.jsontype.impl.AsPropertyTypeDeserializer.deserializeTypedFromAny(AsPropertyTypeDeserializer.java:211)\n    at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializer$Vanilla.deserializeWithType(UntypedObjectDeserializer.java:781)\n    at com.fasterxml.jackson.databind.deser.std.CollectionDeserializer._deserializeFromArray(CollectionDeserializer.java:357)\n    ... 61 common frames omitted\n</code></pre>\n<p>I don't understand because there is no &quot;HashMap[&quot;accountIds&quot;]&quot; into my actual java program.</p>\n<p>So why jackson try to create this Map ? Is it an old cache ?</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","spring-data-jpa"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":3,"creation_date":1674469651,"post_id":75208169,"comment_id":132712971,"body_markdown":"Your JRE is java 15, but class is compiled with java 17","body":"Your JRE is java 15, but class is compiled with java 17"},{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":1,"creation_date":1674470401,"post_id":75208169,"comment_id":132713184,"body_markdown":"Spring boot 3 requires Java 17","body":"Spring boot 3 requires Java 17"}],"answers":[{"comments":[{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":2,"creation_date":1674470504,"post_id":75208273,"comment_id":132713221,"body_markdown":"This doesn&#39;t work since Spring Boot 3 requires Java 17.","body":"This doesn&#39;t work since Spring Boot 3 requires Java 17."}],"tags":[],"owner":{"account_id":24546611,"reputation":174,"user_id":18456370,"display_name":"Yanni2"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1674470183,"creation_date":1674470183,"answer_id":75208273,"question_id":75208169,"body_markdown":"You need to have the right runtime for your class files installed. In your case are you using java 17 to compile it but are trying to run it on java 15. So you can change your `pom.xml`file or install the right JRE\r\n```\r\n45 = Java 1.1\r\n46 = Java 1.2\r\n47 = Java 1.3\r\n48 = Java 1.4\r\n49 = Java 5\r\n50 = Java 6\r\n51 = Java 7\r\n52 = Java 8\r\n53 = Java 9\r\n54 = Java 10\r\n55 = Java 11\r\n56 = Java 12\r\n57 = Java 13\r\n58 = Java 14\r\n59 = Java 15\r\n60 = Java 16\r\n61 = Java 17\r\n62 = Java 18\r\n63 = Java 19\r\n```\r\n\r\nPom.xml that should work:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.1&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.csmtech&lt;/groupId&gt;\r\n    &lt;artifactId&gt;ExcelDataBase&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;ExcelDataBase&lt;/name&gt;\r\n    &lt;description&gt;Excel To DB Convert&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;15&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;jstl&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n            &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\r\n            &lt;artifactId&gt;itextpdf&lt;/artifactId&gt;\r\n            &lt;version&gt;5.5.13&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\r\n            &lt;artifactId&gt;html2pdf&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n            &lt;version&gt;4.1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                        &lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\nAll I have done is changing the `java.version` to `15` &lt;br/&gt;\r\n\r\nWhat you are trying is like write an app and build it for `Windows 11` but then run it on `Windows XP`","title":"Spring Boot Project Is Not Running Due To Version Issues","body":"<p>You need to have the right runtime for your class files installed. In your case are you using java 17 to compile it but are trying to run it on java 15. So you can change your <code>pom.xml</code>file or install the right JRE</p>\n<pre><code>45 = Java 1.1\n46 = Java 1.2\n47 = Java 1.3\n48 = Java 1.4\n49 = Java 5\n50 = Java 6\n51 = Java 7\n52 = Java 8\n53 = Java 9\n54 = Java 10\n55 = Java 11\n56 = Java 12\n57 = Java 13\n58 = Java 14\n59 = Java 15\n60 = Java 16\n61 = Java 17\n62 = Java 18\n63 = Java 19\n</code></pre>\n<p>Pom.xml that should work:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.1&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.csmtech&lt;/groupId&gt;\n    &lt;artifactId&gt;ExcelDataBase&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;ExcelDataBase&lt;/name&gt;\n    &lt;description&gt;Excel To DB Convert&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;15&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jstl&lt;/groupId&gt;\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n            &lt;version&gt;1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n            &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\n            &lt;artifactId&gt;itextpdf&lt;/artifactId&gt;\n            &lt;version&gt;5.5.13&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\n            &lt;artifactId&gt;html2pdf&lt;/artifactId&gt;\n            &lt;version&gt;3.0.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n            &lt;version&gt;4.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>All I have done is changing the <code>java.version</code> to <code>15</code> <br/></p>\n<p>What you are trying is like write an app and build it for <code>Windows 11</code> but then run it on <code>Windows XP</code></p>\n"},{"tags":[],"owner":{"account_id":27594691,"reputation":1,"user_id":21061169,"display_name":"ASIT KUMAR OJHA"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1674471018,"creation_date":1674471018,"answer_id":75208431,"question_id":75208169,"body_markdown":"Change The version of Spring 2.7.7 like below, it will work \r\n\r\n    &lt;parent&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    &lt;version&gt;2.7.7&lt;/version&gt;\r\n    &lt;relativePath/&gt; \r\n    &lt;/parent&gt;","title":"Spring Boot Project Is Not Running Due To Version Issues","body":"<p>Change The version of Spring 2.7.7 like below, it will work</p>\n<pre><code>&lt;parent&gt;\n&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n&lt;version&gt;2.7.7&lt;/version&gt;\n&lt;relativePath/&gt; \n&lt;/parent&gt;\n</code></pre>\n"}],"owner":{"account_id":27599304,"reputation":3,"user_id":21064870,"display_name":"Megha Kumari"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":740,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1674495051,"accepted_answer_id":75208273,"answer_count":2,"score":0,"last_activity_date":1674471018,"creation_date":1674469568,"question_id":75208169,"body_markdown":"This is my pom xml\r\n\r\n\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;3.0.1&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.csmtech&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;ExcelDataBase&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;ExcelDataBase&lt;/name&gt;\r\n    \t&lt;description&gt;Excel To DB Convert&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;jstl&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;itextpdf&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.5.13&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;html2pdf&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.0.3&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.1.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;excludes&gt;\r\n    \t\t\t\t\t\t&lt;exclude&gt;\r\n    \t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;/excludes&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nThis is The Exception\r\n\r\n    Exception in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: org/springframework/boot/SpringApplication has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 59.0\r\n    \tat java.base/java.lang.ClassLoader.defineClass1(Native Method)\r\n    \tat java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1016)\r\n    \tat java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:151)\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:825)\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:723)\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOr…\r\n\r\n","title":"Spring Boot Project Is Not Running Due To Version Issues","body":"<p>This is my pom xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.1&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.csmtech&lt;/groupId&gt;\n    &lt;artifactId&gt;ExcelDataBase&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;ExcelDataBase&lt;/name&gt;\n    &lt;description&gt;Excel To DB Convert&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jstl&lt;/groupId&gt;\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n            &lt;version&gt;1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n            &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\n            &lt;artifactId&gt;itextpdf&lt;/artifactId&gt;\n            &lt;version&gt;5.5.13&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\n            &lt;artifactId&gt;html2pdf&lt;/artifactId&gt;\n            &lt;version&gt;3.0.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n            &lt;version&gt;4.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>This is The Exception</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: org/springframework/boot/SpringApplication has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 59.0\n    at java.base/java.lang.ClassLoader.defineClass1(Native Method)\n    at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1016)\n    at java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:151)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:825)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:723)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOr…\n</code></pre>\n"},{"tags":["java","spring","spring-boot","aws-lambda","aws-api-gateway"],"answers":[{"tags":[],"owner":{"account_id":27599470,"reputation":11,"user_id":21064998,"display_name":"Prime171"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674470513,"creation_date":1674470513,"answer_id":75208344,"question_id":74884930,"body_markdown":"You can achieve a similar result using an approach with this library:\r\nhttps://github.com/MelonProjectCom/lambda-http-router\r\n\r\n     @PathPostMapping(&quot;/example/test&quot;)\r\n     public String example(@Body String body) {\r\n        return &quot;Hello World! - body: &quot; + body;\r\n     }","title":"Multiple Spring Cloud Functions in one project for deployment on AWS Lambda","body":"<p>You can achieve a similar result using an approach with this library:\n<a href=\"https://github.com/MelonProjectCom/lambda-http-router\" rel=\"nofollow noreferrer\">https://github.com/MelonProjectCom/lambda-http-router</a></p>\n<pre><code> @PathPostMapping(&quot;/example/test&quot;)\n public String example(@Body String body) {\n    return &quot;Hello World! - body: &quot; + body;\n }\n</code></pre>\n"}],"owner":{"account_id":27235913,"reputation":1,"user_id":20762825,"display_name":"akki_moote"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":196,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674470513,"creation_date":1671691082,"question_id":74884930,"body_markdown":"I am currently using Spring Cloud Function, and I want to deploy my functions on AWS Lambda, using the adapter for AWS.\r\n\r\nTill now all the Spring Cloud Function implemented was a single function with the following structure.\r\n\r\n```\r\n@SpringBootApplication\r\n@ComponentScan(basePackages = &quot;com.demo&quot;)\r\npublic class Application {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(Application.class, args);\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\n\r\nHandler for lamda:\r\n\r\nimport org.springframework.cloud.function.adapter.aws.SpringBootRequestHandler;\r\n\r\n\r\npublic class DemoHandler extends SpringBootRequestHandler&lt;DemoRequest, DemoResponse&gt; {\r\n}\r\n\r\nI understand that this part of the code is Depricated.\r\n\r\nInterface to define the Endpoint:\r\n\r\n\r\n```\r\n@SuppressWarnings(&quot;hiding&quot;)\r\n@FunctionalInterface\r\npublic interface Demoapi&lt;DemoRequest, DemoResponse&gt;{\r\n\t@PostMapping(value = &quot;/v1/demo&quot;)\r\n\tpublic ResponseEntity&lt;DemoResponse&gt; demo(@RequestBody DemoRequest demoInfo);\r\n\r\n}\r\n\r\n```\r\nFollowed by the controller where the @RestController was defined\r\n\r\nPart of the controller:\r\n```\r\n@RestController\r\npublic class Democontroller implements Demoapi&lt;DemoRequest, DemoResponse&gt;{\r\n\t\tstatic final Logger LOGGER = LogManager.getLogger(Democontroller.class);\r\n\t\t\r\n@Autowired\r\nprivate DemoService demoService;\r\n\r\n@Override\r\npublic ResponseEntity&lt;DemoResponse&gt; demo(@RequestBody DemoRequest demoInfo) {\r\n\tDemoResponse demoResponse=new DemoResponse();\r\n    try {\r\n        demoResponse = demoService.demofun(demoInfo);\r\n  ........\r\n.........\r\n.........\r\n```\r\n\r\n\r\n\r\nThis setup works perfectly. When deploying to Lambda, I provide Handler as com.demo.DemoHandler in the AWS console, and in the Environment Variable under FUNCTION_NAME I give the DemoController class with the Starting letter in small caps i.e demoController and the lamda works fine when tested in the console as well as directed from an API Gateway.\r\n\r\nCurrently I am working on a project where it is required to perform all the CRUD operations within one Spring Boot Application and deploy it as a single lambda.\r\n\r\nI want to know how this can be achieved using similar structure within the application.\r\n\r\n\r\nAll help is highly appreciated! ","title":"Multiple Spring Cloud Functions in one project for deployment on AWS Lambda","body":"<p>I am currently using Spring Cloud Function, and I want to deploy my functions on AWS Lambda, using the adapter for AWS.</p>\n<p>Till now all the Spring Cloud Function implemented was a single function with the following structure.</p>\n<pre><code>@SpringBootApplication\n@ComponentScan(basePackages = &quot;com.demo&quot;)\npublic class Application {\n\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n\n}\n\n</code></pre>\n<p>Handler for lamda:</p>\n<p>import org.springframework.cloud.function.adapter.aws.SpringBootRequestHandler;</p>\n<p>public class DemoHandler extends SpringBootRequestHandler&lt;DemoRequest, DemoResponse&gt; {\n}</p>\n<p>I understand that this part of the code is Depricated.</p>\n<p>Interface to define the Endpoint:</p>\n<pre><code>@SuppressWarnings(&quot;hiding&quot;)\n@FunctionalInterface\npublic interface Demoapi&lt;DemoRequest, DemoResponse&gt;{\n    @PostMapping(value = &quot;/v1/demo&quot;)\n    public ResponseEntity&lt;DemoResponse&gt; demo(@RequestBody DemoRequest demoInfo);\n\n}\n\n</code></pre>\n<p>Followed by the controller where the @RestController was defined</p>\n<p>Part of the controller:</p>\n<pre><code>@RestController\npublic class Democontroller implements Demoapi&lt;DemoRequest, DemoResponse&gt;{\n        static final Logger LOGGER = LogManager.getLogger(Democontroller.class);\n        \n@Autowired\nprivate DemoService demoService;\n\n@Override\npublic ResponseEntity&lt;DemoResponse&gt; demo(@RequestBody DemoRequest demoInfo) {\n    DemoResponse demoResponse=new DemoResponse();\n    try {\n        demoResponse = demoService.demofun(demoInfo);\n  ........\n.........\n.........\n</code></pre>\n<p>This setup works perfectly. When deploying to Lambda, I provide Handler as com.demo.DemoHandler in the AWS console, and in the Environment Variable under FUNCTION_NAME I give the DemoController class with the Starting letter in small caps i.e demoController and the lamda works fine when tested in the console as well as directed from an API Gateway.</p>\n<p>Currently I am working on a project where it is required to perform all the CRUD operations within one Spring Boot Application and deploy it as a single lambda.</p>\n<p>I want to know how this can be achieved using similar structure within the application.</p>\n<p>All help is highly appreciated!</p>\n"},{"tags":["java","selenium","cucumber-java"],"answers":[{"tags":[],"owner":{"account_id":10299692,"reputation":5744,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674466615,"creation_date":1674466615,"answer_id":75207681,"question_id":75205860,"body_markdown":"You have declared &#39;driver&#39; variable 2 times, at line number 15 and at line number 22. Line number 15&#39;s &#39;driver&#39; has access at class level and line number 22&#39;s &#39;driver&#39; has access only at method level.\r\nAt line number 30, the &#39;driver&#39; used is class variable which has not been instantiated. Simple solution to make it work is use only one driver variable.\r\n\r\nChange the code at line number 22 as below:\r\n\r\n    driver = new FirefoxDriver();\r\n\r\nGood luck, try this and if it solves your issue, upvote and accept the answer.  ","title":"Cannot invoke &quot;org.openqa.selenium.WebDriver.getTitle()&quot; because &quot;this.driver&quot; is null","body":"<p>You have declared 'driver' variable 2 times, at line number 15 and at line number 22. Line number 15's 'driver' has access at class level and line number 22's 'driver' has access only at method level.\nAt line number 30, the 'driver' used is class variable which has not been instantiated. Simple solution to make it work is use only one driver variable.</p>\n<p>Change the code at line number 22 as below:</p>\n<pre><code>driver = new FirefoxDriver();\n</code></pre>\n<p>Good luck, try this and if it solves your issue, upvote and accept the answer.</p>\n"},{"tags":[],"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674469324,"creation_date":1674469324,"answer_id":75208129,"question_id":75205860,"body_markdown":"You have got one instance of WebDriver at class level as:\r\n\r\n    WebDriver driver;\r\n\r\nand another instance of Firefox driver at method level as:\r\n\r\n    FirefoxDriver driver = new FirefoxDriver();\r\n\r\ninitialized in your program by the same name.\r\n\r\nHence you see the error.\r\n\r\n\r\n----------\r\n\r\n\r\nSolution\r\n--------\r\nAn ideal solution would be to use the same _`driver`_ variable created from WebDriver at class level, which can be accesed from any method. So effectively you have to:\r\n\r\n    driver = new FirefoxDriver();","title":"Cannot invoke &quot;org.openqa.selenium.WebDriver.getTitle()&quot; because &quot;this.driver&quot; is null","body":"<p>You have got one instance of WebDriver at class level as:</p>\n<pre><code>WebDriver driver;\n</code></pre>\n<p>and another instance of Firefox driver at method level as:</p>\n<pre><code>FirefoxDriver driver = new FirefoxDriver();\n</code></pre>\n<p>initialized in your program by the same name.</p>\n<p>Hence you see the error.</p>\n<hr />\n<h2>Solution</h2>\n<p>An ideal solution would be to use the same <em><code>driver</code></em> variable created from WebDriver at class level, which can be accesed from any method. So effectively you have to:</p>\n<pre><code>driver = new FirefoxDriver();\n</code></pre>\n"}],"owner":{"account_id":27160385,"reputation":9,"user_id":20698569,"display_name":"shalini"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":228,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1674469669,"answer_count":2,"score":0,"last_activity_date":1674469324,"creation_date":1674451018,"question_id":75205860,"body_markdown":"learning BDD cucumber Framework project and trying to run this code in Junit 4 and getting this error. getting failed at line 31 and then all other test is going skipped\r\n[code ](https://i.stack.imgur.com/Rd7Vi.jpg)\r\n\r\n","title":"Cannot invoke &quot;org.openqa.selenium.WebDriver.getTitle()&quot; because &quot;this.driver&quot; is null","body":"<p>learning BDD cucumber Framework project and trying to run this code in Junit 4 and getting this error. getting failed at line 31 and then all other test is going skipped\n<a href=\"https://i.stack.imgur.com/Rd7Vi.jpg\" rel=\"nofollow noreferrer\">code </a></p>\n"},{"tags":["java","amazon-web-services","amazon-s3"],"answers":[{"comments":[{"owner":{"account_id":2254066,"reputation":5334,"user_id":1985648,"accept_rate":59,"display_name":"Don Cheadle"},"score":2,"creation_date":1422915253,"post_id":16409073,"comment_id":44929437,"body_markdown":"for the less literate among us... are you saying Mark_H **should not** make an array of S3 clients? Are you suggesting he should use a single S3 client and pass it to different threads?","body":"for the less literate among us... are you saying Mark_H <b>should not</b> make an array of S3 clients? Are you suggesting he should use a single S3 client and pass it to different threads?"},{"owner":{"account_id":15387,"reputation":63718,"user_id":32453,"accept_rate":92,"display_name":"rogerdpack"},"score":0,"creation_date":1437684502,"post_id":16409073,"comment_id":51147216,"body_markdown":"You referring to the setMaxConnections method here, I presume?","body":"You referring to the setMaxConnections method here, I presume?"},{"owner":{"account_id":2404468,"reputation":1017,"user_id":2101348,"display_name":"Jason Fulghum"},"score":0,"creation_date":1447459887,"post_id":16409073,"comment_id":55179581,"body_markdown":"@mmcrae - that&#39;s correct.  reuse client objects across threads for more efficient resource usage (i.e. so you&#39;re sharing a single connection pool)","body":"@mmcrae - that&#39;s correct.  reuse client objects across threads for more efficient resource usage (i.e. so you&#39;re sharing a single connection pool)"},{"owner":{"account_id":2404468,"reputation":1017,"user_id":2101348,"display_name":"Jason Fulghum"},"score":0,"creation_date":1447459990,"post_id":16409073,"comment_id":55179609,"body_markdown":"@rogerdpack - yup, the [max connections property](http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/ClientConfiguration.html#setMaxConnections(int)) controls the size of the connection pool for each client.","body":"@rogerdpack - yup, the <a href=\"http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/ClientConfiguration.html#setMaxConnections(int)\" rel=\"nofollow noreferrer\">max connections property</a> controls the size of the connection pool for each client."},{"owner":{"account_id":211203,"reputation":4578,"user_id":463225,"accept_rate":67,"display_name":"WattsInABox"},"score":1,"creation_date":1470855312,"post_id":16409073,"comment_id":65123878,"body_markdown":"somewhat unrelated, in the hadoop world, the number of connections to s3 can be easily tuned with fs.s3a.connection.maximum if you&#39;re using s3a in hadoop 2.7+ (and possibly 2.6 although I can&#39;t be sure)","body":"somewhat unrelated, in the hadoop world, the number of connections to s3 can be easily tuned with fs.s3a.connection.maximum if you&#39;re using s3a in hadoop 2.7+ (and possibly 2.6 although I can&#39;t be sure)"},{"owner":{"account_id":10284333,"reputation":156,"user_id":7588202,"display_name":"Deep Kumar Singh"},"score":0,"creation_date":1596028638,"post_id":16409073,"comment_id":111677771,"body_markdown":"how can we set the max connection in node.js","body":"how can we set the max connection in node.js"},{"owner":{"account_id":10284333,"reputation":156,"user_id":7588202,"display_name":"Deep Kumar Singh"},"score":0,"creation_date":1596028700,"post_id":16409073,"comment_id":111677802,"body_markdown":"is there anything like connection pool in aws-sdk for node.js","body":"is there anything like connection pool in aws-sdk for node.js"},{"owner":{"account_id":1435086,"reputation":4492,"user_id":2323964,"accept_rate":87,"display_name":"Novaterata"},"score":0,"creation_date":1626977442,"post_id":16409073,"comment_id":121042093,"body_markdown":"How can I share the S3Client if each thread has different credentials?","body":"How can I share the S3Client if each thread has different credentials?"}],"tags":[],"owner":{"account_id":2404468,"reputation":1017,"user_id":2101348,"display_name":"Jason Fulghum"},"comment_count":8,"down_vote_count":0,"up_vote_count":41,"is_accepted":true,"score":41,"last_activity_date":1367884284,"creation_date":1367884284,"answer_id":16409073,"question_id":16354966,"body_markdown":"Each client in the AWS SDK for Java (including the Amazon S3 client) currently maintains it&#39;s own HTTP connection pool.  You can tune the maximum size of the HTTP connection pool through [the ClientConfiguration class](http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/ClientConfiguration.html) that can be passed into client object constructors.\r\n\r\nWe recommend sharing client objects, because of the expense and overhead of having too many HTTP connection pools that aren&#39;t being utilized effectively.  You should see better performance when you share client objects across threads like this.","title":"Does Amazon S3 have a connection pool?","body":"<p>Each client in the AWS SDK for Java (including the Amazon S3 client) currently maintains it's own HTTP connection pool.  You can tune the maximum size of the HTTP connection pool through <a href=\"http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/ClientConfiguration.html\" rel=\"noreferrer\">the ClientConfiguration class</a> that can be passed into client object constructors.</p>\n\n<p>We recommend sharing client objects, because of the expense and overhead of having too many HTTP connection pools that aren't being utilized effectively.  You should see better performance when you share client objects across threads like this.</p>\n"},{"tags":[],"owner":{"account_id":201558,"reputation":20199,"user_id":448078,"accept_rate":61,"display_name":"Mike"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1671443548,"creation_date":1671443548,"answer_id":74848798,"question_id":16354966,"body_markdown":"Copy and run example\r\n\r\n    ClientConfiguration clientConfiguration = new ClientConfiguration().withMaxErrorRetry(10).withMaxConnections(350);\r\n    AmazonS3 s3 = AmazonS3ClientBuilder.standard().withRegion(Regions.EU_WEST_1).withClientConfiguration(clientConfiguration).build();\r\n","title":"Does Amazon S3 have a connection pool?","body":"<p>Copy and run example</p>\n<pre><code>ClientConfiguration clientConfiguration = new ClientConfiguration().withMaxErrorRetry(10).withMaxConnections(350);\nAmazonS3 s3 = AmazonS3ClientBuilder.standard().withRegion(Regions.EU_WEST_1).withClientConfiguration(clientConfiguration).build();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9992410,"reputation":460,"user_id":8710383,"display_name":"Oleksandr"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674469250,"creation_date":1674469250,"answer_id":75208117,"question_id":16354966,"body_markdown":"Here is the solution for AWS SDK V2:\r\n\r\n1. Add the following dependencies:\r\n```\r\nimplementation &#39;software.amazon.awssdk:s3&#39;\r\nimplementation &#39;software.amazon.awssdk:apache-client&#39;\r\n```\r\n2. S3Client use ApacheHttpClient by default. So override the following configuration:\r\n```\r\nvar config = ApacheHttpClient.builder().maxConnections(100);\r\nreturn S3Client.builder().httpClientBuilder(config).build();\r\n```\r\n\r\nMore details are described in [AWS Docs][1]\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/http-configuration-apache.html","title":"Does Amazon S3 have a connection pool?","body":"<p>Here is the solution for AWS SDK V2:</p>\n<ol>\n<li>Add the following dependencies:</li>\n</ol>\n<pre><code>implementation 'software.amazon.awssdk:s3'\nimplementation 'software.amazon.awssdk:apache-client'\n</code></pre>\n<ol start=\"2\">\n<li>S3Client use ApacheHttpClient by default. So override the following configuration:</li>\n</ol>\n<pre><code>var config = ApacheHttpClient.builder().maxConnections(100);\nreturn S3Client.builder().httpClientBuilder(config).build();\n</code></pre>\n<p>More details are described in <a href=\"https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/http-configuration-apache.html\" rel=\"nofollow noreferrer\">AWS Docs</a></p>\n"}],"owner":{"account_id":2436593,"reputation":770,"user_id":2126346,"accept_rate":77,"display_name":"Mark_H"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34483,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"accepted_answer_id":16409073,"answer_count":3,"score":24,"last_activity_date":1674469250,"creation_date":1367571198,"question_id":16354966,"body_markdown":"I ever used the code \r\n\r\n    public static AmazonS3Client s3 = null;\r\n    ...\r\n    BasicAWSCredentials c = new BasicAWSCredentials(&quot;absadgwslkjlsdjgflwa&quot;);\r\n    s3 =  new AmazonS3Client(c);\r\n\r\nOnly one instance s3 is created while dozens of threads will upload images by s3.putObject(). In the dump info, I could see that one thread would lock the only instance s3 while the others were waiting.\r\n\r\nSo I think maybe it will be faster if I use the code below:\r\n\r\n    BasicAWSCredentials c = new BasicAWSCredentials(&quot;absadgwslkjlsdjgflwa&quot;);\r\n    for(int i = 0; i &lt; 10; i++)\r\n        amazonS3[i] = new AmazonS3Client(c);\r\n\r\nEverytime the system will get a random s3 instance and then upload the image.\r\n\t\r\n    private static AmazonS3 getS3(){\r\n\t\tint i = (int)(Math.random() * 10); \r\n\t\treturn amazonS3[i];\r\n\t}\r\n\r\nBut it seems that the system slow down. Why that happened? \r\nMaybe the only instance s3 has already used connection pool? I am confused.","title":"Does Amazon S3 have a connection pool?","body":"<p>I ever used the code </p>\n\n<pre><code>public static AmazonS3Client s3 = null;\n...\nBasicAWSCredentials c = new BasicAWSCredentials(\"absadgwslkjlsdjgflwa\");\ns3 =  new AmazonS3Client(c);\n</code></pre>\n\n<p>Only one instance s3 is created while dozens of threads will upload images by s3.putObject(). In the dump info, I could see that one thread would lock the only instance s3 while the others were waiting.</p>\n\n<p>So I think maybe it will be faster if I use the code below:</p>\n\n<pre><code>BasicAWSCredentials c = new BasicAWSCredentials(\"absadgwslkjlsdjgflwa\");\nfor(int i = 0; i &lt; 10; i++)\n    amazonS3[i] = new AmazonS3Client(c);\n</code></pre>\n\n<p>Everytime the system will get a random s3 instance and then upload the image.</p>\n\n<pre><code>private static AmazonS3 getS3(){\n    int i = (int)(Math.random() * 10); \n    return amazonS3[i];\n}\n</code></pre>\n\n<p>But it seems that the system slow down. Why that happened? \nMaybe the only instance s3 has already used connection pool? I am confused.</p>\n"},{"tags":["java","asynchronous","completable-future"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":4,"creation_date":1674466442,"post_id":75207519,"comment_id":132712082,"body_markdown":"You can get rid off that loop by using `CompletableFuture.allOf(completableFutures).get()`. This will create a new `CompletableFuture` that will only end when all given `CompletableFutures` end; the `get()` will return `null` because that&#39;s the only valid value for its generic type - `Void`. Just ignore it.","body":"You can get rid off that loop by using <code>CompletableFuture.allOf(completableFutures).get()</code>. This will create a new <code>CompletableFuture</code> that will only end when all given <code>CompletableFutures</code> end; the <code>get()</code> will return <code>null</code> because that&#39;s the only valid value for its generic type - <code>Void</code>. Just ignore it."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":1,"creation_date":1674467300,"post_id":75207519,"comment_id":132712337,"body_markdown":"This is really strange. Why do you iterate over the files but you dont&#39; do anything with the file you&#39;re getting? You should not use a forEach if you&#39;re going to stuff the results into another collection, you should stream/collect. You could probably use a forEach and a parallel stream though, and never use a completable future at all.","body":"This is really strange. Why do you iterate over the files but you dont&#39; do anything with the file you&#39;re getting? You should not use a forEach if you&#39;re going to stuff the results into another collection, you should stream/collect. You could probably use a forEach and a parallel stream though, and never use a completable future at all."},{"owner":{"account_id":4073072,"reputation":43,"user_id":3345426,"display_name":"sharad"},"score":0,"creation_date":1674468079,"post_id":75207519,"comment_id":132712550,"body_markdown":"Hi Matt, I am not iterating over files but only the metadata of files, filename, creation date, etc.","body":"Hi Matt, I am not iterating over files but only the metadata of files, filename, creation date, etc."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":1,"creation_date":1674468287,"post_id":75207519,"comment_id":132712610,"body_markdown":"@sharad You&#39;re iterating over something called &quot;file&quot; but you never use it in your processor.processFiles().","body":"@sharad You&#39;re iterating over something called &quot;file&quot; but you never use it in your processor.processFiles()."},{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":2,"creation_date":1674479205,"post_id":75207519,"comment_id":132715829,"body_markdown":"If `processor.processFiles()` is `@Async`, then it returns instantly and runs something in background, but your code is never checking for that background task.","body":"If <code>processor.processFiles()</code> is <code>@Async</code>, then it returns instantly and runs something in background, but your code is never checking for that background task."},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1674484868,"post_id":75207519,"comment_id":132717909,"body_markdown":"So it&#39;s async within async? Change `processFiles` to return a future, wait for that future to complete. Don&#39;t use a future to start dispatch another future","body":"So it&#39;s async within async? Change <code>processFiles</code> to return a future, wait for that future to complete. Don&#39;t use a future to start dispatch another future"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1674558717,"post_id":75207519,"comment_id":132734819,"body_markdown":"Are you using Spring? It seems like your `CompletableFuture.runAsync` is a bit of a red herring. You probably shouldn&#39;t be using that at all.","body":"Are you using Spring? It seems like your <code>CompletableFuture.runAsync</code> is a bit of a red herring. You probably shouldn&#39;t be using that at all."}],"answers":[{"tags":[],"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674469190,"creation_date":1674467807,"answer_id":75207885,"question_id":75207519,"body_markdown":"I think you&#39;ve overcomplicated things.\r\n\r\n    fileList.flatMap(List::stream).parallel().forEach(file -&gt; processor.processFiles());\r\n\r\nThe forEach will run in parallel, and return when all of the files have been processed.\r\n\r\nAt the very least, don&#39;t use side effects to populate a `List`.\r\n\r\n    List&lt;CompletableFuture&lt;Void&gt;&gt; completableFutures  = files.stream().map(\r\n        file -&gt;  CompletableFuture.runAsync(() -&gt; processor.processFiles());\r\n    ).collect( Collectors.toList());\r\n\r\nI agree with the comment.\r\n\r\n    CompletableFuture&lt;Void&gt; all = CompletableFuture.allOf( completableFutures );\r\n\r\nThen you can use `get` which will wait until the tasks are completed.\r\n\r\nAnother way to do this, that would skip the List + CompletableFuture.allOf and just return a single completable future.\r\n\r\n    CompletableFuture&lt;Void&gt; all = files.stream().map(\r\n            file -&gt;  CompletableFuture.runAsync(\r\n                () -&gt; processor.processFiles()\r\n            )\r\n        ).collect( \r\n            Collectors.reducing( \r\n               CompletableFuture.completedFuture(null), CompletableFuture::allOf\r\n            )\r\n        );\r\n\r\nThat will map `file` to a CompletableFuture then merge all of the resulting completable futures into a single completable future. You can call .get on it and it will return when everything is finished. ","title":"CompletableFuture is Not waiting for child threads","body":"<p>I think you've overcomplicated things.</p>\n<pre><code>fileList.flatMap(List::stream).parallel().forEach(file -&gt; processor.processFiles());\n</code></pre>\n<p>The forEach will run in parallel, and return when all of the files have been processed.</p>\n<p>At the very least, don't use side effects to populate a <code>List</code>.</p>\n<pre><code>List&lt;CompletableFuture&lt;Void&gt;&gt; completableFutures  = files.stream().map(\n    file -&gt;  CompletableFuture.runAsync(() -&gt; processor.processFiles());\n).collect( Collectors.toList());\n</code></pre>\n<p>I agree with the comment.</p>\n<pre><code>CompletableFuture&lt;Void&gt; all = CompletableFuture.allOf( completableFutures );\n</code></pre>\n<p>Then you can use <code>get</code> which will wait until the tasks are completed.</p>\n<p>Another way to do this, that would skip the List + CompletableFuture.allOf and just return a single completable future.</p>\n<pre><code>CompletableFuture&lt;Void&gt; all = files.stream().map(\n        file -&gt;  CompletableFuture.runAsync(\n            () -&gt; processor.processFiles()\n        )\n    ).collect( \n        Collectors.reducing( \n           CompletableFuture.completedFuture(null), CompletableFuture::allOf\n        )\n    );\n</code></pre>\n<p>That will map <code>file</code> to a CompletableFuture then merge all of the resulting completable futures into a single completable future. You can call .get on it and it will return when everything is finished.</p>\n"}],"owner":{"account_id":4073072,"reputation":43,"user_id":3345426,"display_name":"sharad"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":268,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674469190,"creation_date":1674465679,"question_id":75207519,"body_markdown":"I am trying to wait for `processor.processFiles()` to complete, the method returns void and it is an @Async method. The busy wait logic does not cause the process to wait for method to complete. \r\nCan anybody please point out what am i missing?\r\n\r\n```\r\ntry{\r\n\r\n    filesList.forEach(files -&gt; {\r\n        List&lt;CompletableFuture&lt;Void&gt;&gt; completableFutures  = new ArrayList&lt;&gt;();\r\n\r\n        files.forEach(file-&gt; {\r\n            CompletableFuture&lt;Void&gt; completableFuture = CompletableFuture.runAsync(() -&gt; \r\n                processor.processFiles());\r\n            completableFutures.add(completableFuture);\r\n        });\r\n        while(true) {\r\n\r\n            Thread.sleep(5000);\r\n            boolean isComplete = completableFutures.stream().allMatch(result -&gt; result.isDone() == true);\r\n\r\n            if(isComplete){\r\n                break;\r\n            }\r\n            LOGGER.info(&quot;processing the file...&quot;);\r\n        }\r\n    });\r\n} \r\ncatch(Exception e){\r\n\r\n}\r\nfinally{\r\n    closeConnections();\r\n}\r\n```","title":"CompletableFuture is Not waiting for child threads","body":"<p>I am trying to wait for <code>processor.processFiles()</code> to complete, the method returns void and it is an @Async method. The busy wait logic does not cause the process to wait for method to complete.\nCan anybody please point out what am i missing?</p>\n<pre><code>try{\n\n    filesList.forEach(files -&gt; {\n        List&lt;CompletableFuture&lt;Void&gt;&gt; completableFutures  = new ArrayList&lt;&gt;();\n\n        files.forEach(file-&gt; {\n            CompletableFuture&lt;Void&gt; completableFuture = CompletableFuture.runAsync(() -&gt; \n                processor.processFiles());\n            completableFutures.add(completableFuture);\n        });\n        while(true) {\n\n            Thread.sleep(5000);\n            boolean isComplete = completableFutures.stream().allMatch(result -&gt; result.isDone() == true);\n\n            if(isComplete){\n                break;\n            }\n            LOGGER.info(&quot;processing the file...&quot;);\n        }\n    });\n} \ncatch(Exception e){\n\n}\nfinally{\n    closeConnections();\n}\n</code></pre>\n"},{"tags":["java","design-patterns","oop","architecture"],"answers":[{"tags":[],"owner":{"account_id":1079,"reputation":27949,"user_id":1432,"accept_rate":66,"display_name":"jsight"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1248067878,"creation_date":1248067878,"answer_id":1151836,"question_id":1151756,"body_markdown":"I like the basic design.  If the classes are simple enough, I might consider consolidating the A/B/C factories into a single class, as it seems there could be some sharing in behavior at that level.  I&#39;m assuming that these are really more complex than they appear, though, and that&#39;s why that is undesirable.\r\n\r\nThe basic approach of using Factories to reduce coupling between components is sound, imo.","title":"Architecture/Design of a pipeline-based system. How to improve this code?","body":"<p>I like the basic design.  If the classes are simple enough, I might consider consolidating the A/B/C factories into a single class, as it seems there could be some sharing in behavior at that level.  I'm assuming that these are really more complex than they appear, though, and that's why that is undesirable.</p>\n\n<p>The basic approach of using Factories to reduce coupling between components is sound, imo.</p>\n"},{"comments":[{"owner":{"account_id":47523,"reputation":89783,"user_id":140816,"accept_rate":90,"display_name":"Jo&#227;o Silva"},"score":0,"creation_date":1248141004,"post_id":1156581,"comment_id":975882,"body_markdown":"Thanks for the comments. The problem with DI is that I need the pipeline (and the components) to be changed at runtime. For example, I take a sentence as input; I do some analysis on it to detect its language; and then I need to get the language specific components of the pipeline (I probably need to make Pipeline an interface, and have language specific versions of it to simplify the &quot;switch&quot;). From what I&#39;ve read of DI, the idea is to configure the dependencies externally (e.g., .xml), and have them &quot;injected&quot; in away that makes it unfeasible to switch at runtime.","body":"Thanks for the comments. The problem with DI is that I need the pipeline (and the components) to be changed at runtime. For example, I take a sentence as input; I do some analysis on it to detect its language; and then I need to get the language specific components of the pipeline (I probably need to make Pipeline an interface, and have language specific versions of it to simplify the &quot;switch&quot;). From what I&#39;ve read of DI, the idea is to configure the dependencies externally (e.g., .xml), and have them &quot;injected&quot; in away that makes it unfeasible to switch at runtime."}],"tags":[],"owner":{"account_id":7445,"reputation":62274,"user_id":12943,"accept_rate":84,"display_name":"Bill K"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1248133719,"creation_date":1248133719,"answer_id":1156581,"question_id":1151756,"body_markdown":"If I&#39;m not mistaken, What you are calling a factory is actually a very nice form of dependency injection.  You are selecting an object instance that is best able to meet the needs of your parameters and return it.\r\n\r\nIf I&#39;m right about that, you might want to look into DI platforms.  They do what you did (which is pretty simple, right?) then they add a few more abilities that you may not need now but you may find would help you later.\r\n\r\nI&#39;m just suggesting you look at what problems are solved now.  DI is so easy to do yourself that you hardly need any other tools, but they might have found situations you haven&#39;t considered yet.  [Google][1] finds many great looking links right off the bat.\r\n\r\nFrom what I&#39;ve seen of DI, it&#39;s likely that you&#39;ll want to move the entire creation of your &quot;Pipe&quot; into the factory, having it do the linking for you and just handing you what you need to solve a specific problem, but now I&#39;m really reaching--my knowledge of DI is just a little better than my knowledge of your code (in other words, I&#39;m pulling most of this out of my butt).\r\n\r\n\r\n  [1]: http://www.google.com/search?rlz=1C1GGLS_enUS309US309&amp;aq=0&amp;oq=java+dependancy&amp;sourceid=chrome&amp;ie=UTF-8&amp;q=java+dependency+injection","title":"Architecture/Design of a pipeline-based system. How to improve this code?","body":"<p>If I'm not mistaken, What you are calling a factory is actually a very nice form of dependency injection.  You are selecting an object instance that is best able to meet the needs of your parameters and return it.</p>\n\n<p>If I'm right about that, you might want to look into DI platforms.  They do what you did (which is pretty simple, right?) then they add a few more abilities that you may not need now but you may find would help you later.</p>\n\n<p>I'm just suggesting you look at what problems are solved now.  DI is so easy to do yourself that you hardly need any other tools, but they might have found situations you haven't considered yet.  <a href=\"http://www.google.com/search?rlz=1C1GGLS_enUS309US309&amp;aq=0&amp;oq=java+dependancy&amp;sourceid=chrome&amp;ie=UTF-8&amp;q=java+dependency+injection\" rel=\"nofollow noreferrer\">Google</a> finds many great looking links right off the bat.</p>\n\n<p>From what I've seen of DI, it's likely that you'll want to move the entire creation of your \"Pipe\" into the factory, having it do the linking for you and just handing you what you need to solve a specific problem, but now I'm really reaching--my knowledge of DI is just a little better than my knowledge of your code (in other words, I'm pulling most of this out of my butt).</p>\n"},{"comments":[{"owner":{"account_id":47523,"reputation":89783,"user_id":140816,"accept_rate":90,"display_name":"Jo&#227;o Silva"},"score":0,"creation_date":1248140467,"post_id":1156788,"comment_id":975852,"body_markdown":"Thanks for the comments and suggestions! I&#39;ve read some articles on the Builder pattern and If I understood it correctly, the idea would be to have a `PipelineBuilder` that, given a language, would have methods to create language specific versions of components A, B, &amp; C, and then a method to return the &quot;just built&quot; language specific `Pipeline`. Then, I&#39;d have a `PipelineEngine` that would receive a `Pipeline` and execute `runPipeline`. Now, my problem is that I&#39;ll be switching languages/pipelines in runtime, and it&#39;s very costly to create a new pipeline each time. How can I cache them?","body":"Thanks for the comments and suggestions! I&#39;ve read some articles on the Builder pattern and If I understood it correctly, the idea would be to have a <code>PipelineBuilder</code> that, given a language, would have methods to create language specific versions of components A, B, &amp; C, and then a method to return the &quot;just built&quot; language specific <code>Pipeline</code>. Then, I&#39;d have a <code>PipelineEngine</code> that would receive a <code>Pipeline</code> and execute <code>runPipeline</code>. Now, my problem is that I&#39;ll be switching languages/pipelines in runtime, and it&#39;s very costly to create a new pipeline each time. How can I cache them?"},{"owner":{"account_id":47523,"reputation":89783,"user_id":140816,"accept_rate":90,"display_name":"Jo&#227;o Silva"},"score":0,"creation_date":1248140586,"post_id":1156788,"comment_id":975856,"body_markdown":"On the extends versus implements issue, I also read that article, and though it&#39;s a nice read, I think the `Collections` examples somehow miss the point, but I get the problem. However, in my particular case, I do have some heavy objects that need to be shared among every language specific component, and some common methods that operate on them, hence the the ``abstract`` class.","body":"On the extends versus implements issue, I also read that article, and though it&#39;s a nice read, I think the <code>Collections</code> examples somehow miss the point, but I get the problem. However, in my particular case, I do have some heavy objects that need to be shared among every language specific component, and some common methods that operate on them, hence the the <code>abstract</code> class."}],"tags":[],"owner":{"account_id":36166,"reputation":38849,"user_id":103043,"display_name":"akf"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1248142372,"creation_date":1248137919,"answer_id":1156788,"question_id":1151756,"body_markdown":"The factory idea is good, as is the idea, if feasible, to encapsulate the A, B, &amp; C components into single classes for each language.  One thing that I would urge you to consider is to use `Interface` inheritance instead of `Class` inheritance.  You could then incorporate an engine that would do the `runPipeline` process for you.  This is similar to the [Builder/Director pattern][1]. The steps in this process would be as follows:\r\n\r\n1. get input\r\n2. use factory method to get correct interface (english/chinese)\r\n3. pass interface into your engine\r\n4. runPipeline and get result\r\n\r\n\r\nOn the `extends` vs `implements` topic, [Allen Holub goes a bit over the top][2] to explain the preference for `Interfaces`.\r\n\r\n\r\n----------\r\nFollow up to you comments:\r\n\r\nMy interpretation of the application of the Builder pattern here would be that you have a `Factory` that would return a `PipelineBuilder`.  The `PipelineBuilder` in my design is one that encompases A, B, &amp; C, but you could have separate builders for each if you like.  This builder then is given to your `PipelineEngine` which uses the `Builder` to generate your results.\r\n\r\nAs this makes use of a Factory to provide the Builders, your idea above for a Factory remains in tact, replete with its caching mechanism.\r\n\r\nWith regard to your choice of `abstract` extension, you do have the choice of giving your `PipelineEngine` ownership of the heavy objects.  However, if you do go the `abstract` way, note that the shared fields that you have declared are `private` and therefore would not be available to your subclasses.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Builder_pattern\r\n  [2]: http://www.javaworld.com/javaworld/jw-08-2003/jw-0801-toolbox.html","title":"Architecture/Design of a pipeline-based system. How to improve this code?","body":"<p>The factory idea is good, as is the idea, if feasible, to encapsulate the A, B, &amp; C components into single classes for each language.  One thing that I would urge you to consider is to use <code>Interface</code> inheritance instead of <code>Class</code> inheritance.  You could then incorporate an engine that would do the <code>runPipeline</code> process for you.  This is similar to the <a href=\"http://en.wikipedia.org/wiki/Builder_pattern\" rel=\"nofollow noreferrer\">Builder/Director pattern</a>. The steps in this process would be as follows:</p>\n\n<ol>\n<li>get input</li>\n<li>use factory method to get correct interface (english/chinese)</li>\n<li>pass interface into your engine</li>\n<li>runPipeline and get result</li>\n</ol>\n\n<p>On the <code>extends</code> vs <code>implements</code> topic, <a href=\"http://www.javaworld.com/javaworld/jw-08-2003/jw-0801-toolbox.html\" rel=\"nofollow noreferrer\">Allen Holub goes a bit over the top</a> to explain the preference for <code>Interfaces</code>.</p>\n\n<hr>\n\n<p>Follow up to you comments:</p>\n\n<p>My interpretation of the application of the Builder pattern here would be that you have a <code>Factory</code> that would return a <code>PipelineBuilder</code>.  The <code>PipelineBuilder</code> in my design is one that encompases A, B, &amp; C, but you could have separate builders for each if you like.  This builder then is given to your <code>PipelineEngine</code> which uses the <code>Builder</code> to generate your results.</p>\n\n<p>As this makes use of a Factory to provide the Builders, your idea above for a Factory remains in tact, replete with its caching mechanism.</p>\n\n<p>With regard to your choice of <code>abstract</code> extension, you do have the choice of giving your <code>PipelineEngine</code> ownership of the heavy objects.  However, if you do go the <code>abstract</code> way, note that the shared fields that you have declared are <code>private</code> and therefore would not be available to your subclasses.</p>\n"}],"owner":{"account_id":47523,"reputation":89783,"user_id":140816,"accept_rate":90,"display_name":"Jo&#227;o Silva"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2221,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":1156788,"answer_count":3,"score":1,"last_activity_date":1674469090,"creation_date":1248065707,"question_id":1151756,"body_markdown":"I have a pipeline-based application that analyzes text in **different** languages (say, English and Chinese). My **goal** is to have a system that can work in both languages, in a **transparent** way. **NOTE**: This question is long because it has many simple code snippets.\r\n\r\nThe pipeline is composed of three components (let&#39;s call them A, B, and C), and I&#39;ve created them in the following way so that the components are not tightly coupled:\r\n\r\n    public class Pipeline {\r\n        private A componentA;\r\n        private B componentB;\r\n        private C componentC;\r\n   \r\n        // I really just need the language attribute of Locale,\r\n        // but I use it because it&#39;s useful to load language specific ResourceBundles.\r\n        public Pipeline(Locale locale) {\r\n            componentA = new A();\r\n            componentB = new B();\r\n            componentC = new C();\r\n        }\r\n    \r\n        public Output runPipeline(Input) {\r\n            Language lang = LanguageIdentifier.identify(Input);\r\n            //\r\n            ResultOfA resultA = componentA.doSomething(Input);\r\n            ResultOfB resultB = componentB.doSomethingElse(resultA); // uses result of A\r\n            return componentC.doFinal(resultA, resultB); // uses result of A and B\r\n        }\r\n    }\r\n\r\nNow, every component of the pipeline has something inside which is language specific. For example, in order to analyze Chinese text, I need one lib, and for analyzing English text, I need another different lib. \r\n\r\nMoreover, some tasks can be done in one language and cannot be done in the other. One solution to this problem is to make every pipeline component abstract (to implement some common methods), and then have a concrete language-specific implementation. Exemplifying with component A, I&#39;d have the following:\r\n\r\n    public abstract class A {\r\n        private CommonClass x;  // common to all languages\r\n        private AnotherCommonClass y; // common to all languages\r\n\r\n        abstract SomeTemporaryResult getTemp(input); // language specific\r\n        abstract AnotherTemporaryResult getAnotherTemp(input); // language specific\r\n\r\n        public ResultOfA doSomething(input) {\r\n              // template method\r\n              SomeTemporaryResult t = getTemp(input); // language specific\r\n              AnotherTemporaryResult tt = getAnotherTemp(input); // language specific\r\n              return ResultOfA(t, tt, x.get(), y.get());\r\n        }\r\n    }\r\n\r\n    public class EnglishA extends A {\r\n        private EnglishSpecificClass something;\r\n        // implementation of the abstract methods ... \r\n    }\r\n\r\nIn addition, since each pipeline component is very heavy and I need to reuse them, I thought of creating a **factory** that caches up the component for further use, using a map that uses the language as the key, like so (the other components would work in the same manner):\r\n\r\n    public Enum AFactory {\r\n        SINGLETON;\r\n        \r\n        private Map&lt;String, A&gt; cache; // this map will only have one or two keys, is there anything more efficient that I can use, instead of HashMap?\r\n        \r\n        public A getA(Locale locale) {\r\n            // lookup by locale.language, and insert if it doesn&#39;t exist, et cetera\r\n            return cache.get(locale.getLanguage());\r\n        }\r\n    }\r\n\r\nSo, my **question** is: What do you think of this design? How can it be **improved**? I need the &quot;transparency&quot; because the language can be changed dynamically, based on the text that it&#39;s being analyzed. As you can see from the `runPipeline` method, I first identify the language of the Input, and then, based on this, I need to change the pipeline components to the identified language. So, instead of invoking the components directly, maybe I should get them from the factory, like so:\r\n\r\n    public Output runPipeline(Input) {\r\n        Language lang = LanguageIdentifier.identify(Input);\r\n        ResultOfA resultA = AFactory.getA(lang).doSomething(Input);\r\n        ResultOfB resultB = BFactory.getB(lang).doSomethingElse(resultA);\r\n        return CFactory.getC(lang).doFinal(resultA, resultB);\r\n    }\r\n\r\nThank you for reading this far. I very much appreciate every suggestion that you can make on this question.","title":"Architecture/Design of a pipeline-based system. How to improve this code?","body":"<p>I have a pipeline-based application that analyzes text in <strong>different</strong> languages (say, English and Chinese). My <strong>goal</strong> is to have a system that can work in both languages, in a <strong>transparent</strong> way. <strong>NOTE</strong>: This question is long because it has many simple code snippets.</p>\n<p>The pipeline is composed of three components (let's call them A, B, and C), and I've created them in the following way so that the components are not tightly coupled:</p>\n<pre><code>public class Pipeline {\n    private A componentA;\n    private B componentB;\n    private C componentC;\n\n    // I really just need the language attribute of Locale,\n    // but I use it because it's useful to load language specific ResourceBundles.\n    public Pipeline(Locale locale) {\n        componentA = new A();\n        componentB = new B();\n        componentC = new C();\n    }\n\n    public Output runPipeline(Input) {\n        Language lang = LanguageIdentifier.identify(Input);\n        //\n        ResultOfA resultA = componentA.doSomething(Input);\n        ResultOfB resultB = componentB.doSomethingElse(resultA); // uses result of A\n        return componentC.doFinal(resultA, resultB); // uses result of A and B\n    }\n}\n</code></pre>\n<p>Now, every component of the pipeline has something inside which is language specific. For example, in order to analyze Chinese text, I need one lib, and for analyzing English text, I need another different lib.</p>\n<p>Moreover, some tasks can be done in one language and cannot be done in the other. One solution to this problem is to make every pipeline component abstract (to implement some common methods), and then have a concrete language-specific implementation. Exemplifying with component A, I'd have the following:</p>\n<pre><code>public abstract class A {\n    private CommonClass x;  // common to all languages\n    private AnotherCommonClass y; // common to all languages\n\n    abstract SomeTemporaryResult getTemp(input); // language specific\n    abstract AnotherTemporaryResult getAnotherTemp(input); // language specific\n\n    public ResultOfA doSomething(input) {\n          // template method\n          SomeTemporaryResult t = getTemp(input); // language specific\n          AnotherTemporaryResult tt = getAnotherTemp(input); // language specific\n          return ResultOfA(t, tt, x.get(), y.get());\n    }\n}\n\npublic class EnglishA extends A {\n    private EnglishSpecificClass something;\n    // implementation of the abstract methods ... \n}\n</code></pre>\n<p>In addition, since each pipeline component is very heavy and I need to reuse them, I thought of creating a <strong>factory</strong> that caches up the component for further use, using a map that uses the language as the key, like so (the other components would work in the same manner):</p>\n<pre><code>public Enum AFactory {\n    SINGLETON;\n    \n    private Map&lt;String, A&gt; cache; // this map will only have one or two keys, is there anything more efficient that I can use, instead of HashMap?\n    \n    public A getA(Locale locale) {\n        // lookup by locale.language, and insert if it doesn't exist, et cetera\n        return cache.get(locale.getLanguage());\n    }\n}\n</code></pre>\n<p>So, my <strong>question</strong> is: What do you think of this design? How can it be <strong>improved</strong>? I need the &quot;transparency&quot; because the language can be changed dynamically, based on the text that it's being analyzed. As you can see from the <code>runPipeline</code> method, I first identify the language of the Input, and then, based on this, I need to change the pipeline components to the identified language. So, instead of invoking the components directly, maybe I should get them from the factory, like so:</p>\n<pre><code>public Output runPipeline(Input) {\n    Language lang = LanguageIdentifier.identify(Input);\n    ResultOfA resultA = AFactory.getA(lang).doSomething(Input);\n    ResultOfB resultB = BFactory.getB(lang).doSomethingElse(resultA);\n    return CFactory.getC(lang).doFinal(resultA, resultB);\n}\n</code></pre>\n<p>Thank you for reading this far. I very much appreciate every suggestion that you can make on this question.</p>\n"},{"tags":["java","hana","eclipse-neon"],"answers":[{"tags":[],"owner":{"account_id":10455012,"reputation":217,"user_id":7707413,"display_name":"Abdel Dadouche"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1531219149,"creation_date":1531219149,"answer_id":51263116,"question_id":51231508,"body_markdown":"If your computer is behind a proxy and you get this type of error, this is most likely due to the current Eclipse proxy configuration being set to **Direct** in **Windows -&gt; Preferences -&gt; General -&gt; Network Connections -&gt; Active Provider**.\r\n\r\nIf your proxy is configured at the system level (in the **Windows Setting -&gt; Network &amp; Internet -&gt; Proxy**), then you should be able to set the **Active Provider** to **Native**.\r\n\r\nIf this still fails, you can set the **Active Provider** to **Manual** and fill the details for each connection type.\r\n\r\nWhen using either **Direct** or **Native**, the entries for HTTP, HTTPS and SOCKS will be read only. Only the **Manual** option allows to enter the details for each connection type.\r\n\r\nHowever, as far as I know only HTTP/HTTPS are used by the Eclipse software update feature.\r\n\r\n\r\n&gt;If you need to get your proxy details, the Chrome browser provide a way to get your current proxy config when accessing the following url: `chrome://net-internals/#proxy` (but there are many alternative options to get the proxy details)","title":"Unable to install SAP Cloud HANA tools in Eclipse Neon 3","body":"<p>If your computer is behind a proxy and you get this type of error, this is most likely due to the current Eclipse proxy configuration being set to <strong>Direct</strong> in <strong>Windows -> Preferences -> General -> Network Connections -> Active Provider</strong>.</p>\n\n<p>If your proxy is configured at the system level (in the <strong>Windows Setting -> Network &amp; Internet -> Proxy</strong>), then you should be able to set the <strong>Active Provider</strong> to <strong>Native</strong>.</p>\n\n<p>If this still fails, you can set the <strong>Active Provider</strong> to <strong>Manual</strong> and fill the details for each connection type.</p>\n\n<p>When using either <strong>Direct</strong> or <strong>Native</strong>, the entries for HTTP, HTTPS and SOCKS will be read only. Only the <strong>Manual</strong> option allows to enter the details for each connection type.</p>\n\n<p>However, as far as I know only HTTP/HTTPS are used by the Eclipse software update feature.</p>\n\n<blockquote>\n  <p>If you need to get your proxy details, the Chrome browser provide a way to get your current proxy config when accessing the following url: <code>chrome://net-internals/#proxy</code> (but there are many alternative options to get the proxy details)</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":244435,"reputation":675,"user_id":3016392,"accept_rate":40,"display_name":"Vinod Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1531304700,"creation_date":1531304700,"answer_id":51283078,"question_id":51231508,"body_markdown":"I found solution to it. There was some version issue in the plugins so what I did to resolve this issue is by deleting .eclipse folder which is located at c:\\users\\&lt;userid&gt;\\.**eclipse**.\r\n\r\nIt resolved my problem.","title":"Unable to install SAP Cloud HANA tools in Eclipse Neon 3","body":"<p>I found solution to it. There was some version issue in the plugins so what I did to resolve this issue is by deleting .eclipse folder which is located at c:\\users\\.<strong>eclipse</strong>.</p>\n\n<p>It resolved my problem.</p>\n"}],"owner":{"account_id":244435,"reputation":675,"user_id":3016392,"accept_rate":40,"display_name":"Vinod Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1402,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1674469017,"creation_date":1531049124,"question_id":51231508,"body_markdown":"I&#39;m trying to install the SAP HANA Tools (https://tools.hana.ondemand.com/neon) in Eclipse Neon 3 using the path **Eclipse -&gt; Help -&gt; Install New Software** and adding this link. \r\n\r\nPlease refer attached screenshots.\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n[![enter image description here][3]][3]\r\n\r\nWhen I check the &#39;SAP HANA Tools&#39; from the list and click on &#39;Next&#39; button in Eclipse, I get nothing...the Eclipse starts saying **&quot;Cannot perform operation. Computing alternate solutions..&quot;** in the end it fails. This always happens when I&#39;m trying to install tools in Office network. \r\n\r\nI believe this is something to do with Proxy in office network. I tried setting the proxy configuration in Eclipse as well like **Eclipse -&gt; Windows -&gt; Preferences -&gt; Network Connections -&gt; Action Provider to Manual and HTTP/HTTPS** but still getting the same error.\r\n\r\nI can easily install SAP HANA Tools in my personal laptop in home network but not in office network. Please assist to suggest me what could be the root cause as I tried really hard to figure it out but nothing worked. `\r\n\r\nAlso would like to know in my Eclipse Neon 3 (in office laptop), in proxy entries, `SOCKS` is continued to be checked along with `HTTP` and `HTTPS`. Is this the reason behind it? How can I uncheck `SOCKS` but not `HTTP` &amp; `HTTPS`? I tried unchecking SOCKS but nothing worked.\r\n\r\n  [1]: https://i.stack.imgur.com/o48bM.png\r\n  [2]: https://i.stack.imgur.com/blRmD.png\r\n  [3]: https://i.stack.imgur.com/WTLQ8.png\r\n","title":"Unable to install SAP Cloud HANA tools in Eclipse Neon 3","body":"<p>I'm trying to install the SAP HANA Tools (<a href=\"https://tools.hana.ondemand.com/neon\" rel=\"nofollow noreferrer\">https://tools.hana.ondemand.com/neon</a>) in Eclipse Neon 3 using the path <strong>Eclipse -&gt; Help -&gt; Install New Software</strong> and adding this link.</p>\n<p>Please refer attached screenshots.\n<a href=\"https://i.stack.imgur.com/o48bM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/o48bM.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/blRmD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/blRmD.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/WTLQ8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WTLQ8.png\" alt=\"enter image description here\" /></a></p>\n<p>When I check the 'SAP HANA Tools' from the list and click on 'Next' button in Eclipse, I get nothing...the Eclipse starts saying <strong>&quot;Cannot perform operation. Computing alternate solutions..&quot;</strong> in the end it fails. This always happens when I'm trying to install tools in Office network.</p>\n<p>I believe this is something to do with Proxy in office network. I tried setting the proxy configuration in Eclipse as well like <strong>Eclipse -&gt; Windows -&gt; Preferences -&gt; Network Connections -&gt; Action Provider to Manual and HTTP/HTTPS</strong> but still getting the same error.</p>\n<p>I can easily install SAP HANA Tools in my personal laptop in home network but not in office network. Please assist to suggest me what could be the root cause as I tried really hard to figure it out but nothing worked. `</p>\n<p>Also would like to know in my Eclipse Neon 3 (in office laptop), in proxy entries, <code>SOCKS</code> is continued to be checked along with <code>HTTP</code> and <code>HTTPS</code>. Is this the reason behind it? How can I uncheck <code>SOCKS</code> but not <code>HTTP</code> &amp; <code>HTTPS</code>? I tried unchecking SOCKS but nothing worked.</p>\n"},{"tags":["java","rounding"],"answers":[{"comments":[{"owner":{"account_id":24536,"reputation":6582,"user_id":62479,"accept_rate":68,"display_name":"Geoffrey Zheng"},"score":24,"creation_date":1332262153,"post_id":7548850,"comment_id":12465623,"body_markdown":"This is a wrong answer that confuses decimal digits with significant digits. @Sean Owen&#39;s answer is the correct one.","body":"This is a wrong answer that confuses decimal digits with significant digits. @Sean Owen&#39;s answer is the correct one."}],"tags":[],"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"comment_count":1,"down_vote_count":18,"up_vote_count":6,"is_accepted":false,"score":-12,"last_activity_date":1316987948,"creation_date":1316987220,"answer_id":7548850,"question_id":7548841,"body_markdown":"I usually don&#39;t round the *number* itself but round the String representation of the number when I need to display it because usually it&#39;s the display that matters, that needs the rounding (although this may not be true in situations, and perhaps yours, but you need to elaborate on this if so).  This way, my number retains its accuracy, but it&#39;s display is simplified and easier to read. To do this, one can use a DecimalFormat object, say initialzed with a &quot;0.000&quot; String (`new DecimalFormat(&quot;0.000&quot;)`), or use `String.format(&quot;%.3f&quot;, myDouble)`, or several other ways.\r\n\r\nFor example:\r\n\r\n    // yeah, I know this is just Math.PI.\r\n    double myDouble = 3.141592653589793;\r\n    DecimalFormat myFormat = new DecimalFormat(&quot;0.000&quot;);\r\n    String myDoubleString = myFormat.format(myDouble);\r\n    System.out.println(&quot;My number is: &quot; + myDoubleString);\r\n\r\n    // or you can use printf which works like String.format:\r\n    System.out.printf(&quot;My number is: %.3f%n&quot;, myDouble);\r\n","title":"Round a double to 3 significant figures","body":"<p>I usually don't round the <em>number</em> itself but round the String representation of the number when I need to display it because usually it's the display that matters, that needs the rounding (although this may not be true in situations, and perhaps yours, but you need to elaborate on this if so).  This way, my number retains its accuracy, but it's display is simplified and easier to read. To do this, one can use a DecimalFormat object, say initialzed with a \"0.000\" String (<code>new DecimalFormat(\"0.000\")</code>), or use <code>String.format(\"%.3f\", myDouble)</code>, or several other ways.</p>\n\n<p>For example:</p>\n\n<pre><code>// yeah, I know this is just Math.PI.\ndouble myDouble = 3.141592653589793;\nDecimalFormat myFormat = new DecimalFormat(\"0.000\");\nString myDoubleString = myFormat.format(myDouble);\nSystem.out.println(\"My number is: \" + myDoubleString);\n\n// or you can use printf which works like String.format:\nSystem.out.printf(\"My number is: %.3f%n\", myDouble);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":2,"creation_date":1317069492,"post_id":7548871,"comment_id":9165567,"body_markdown":"No. Or else print the value of rounded % 0.001 and explain the result.","body":"No. Or else print the value of rounded % 0.001 and explain the result."},{"owner":{"account_id":25066,"reputation":66292,"user_id":64174,"accept_rate":100,"display_name":"Sean Owen"},"score":5,"creation_date":1317108378,"post_id":7548871,"comment_id":9171976,"body_markdown":"The value of the BigDecimal prints as &quot;0.00100&quot;, which is exactly correct. I suggest you try it. MathContext here is nothing to do with radixes, and BigDecimal is an arbitrary-precision library.","body":"The value of the BigDecimal prints as &quot;0.00100&quot;, which is exactly correct. I suggest you try it. MathContext here is nothing to do with radixes, and BigDecimal is an arbitrary-precision library."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":2,"creation_date":1317111838,"post_id":7548871,"comment_id":9172786,"body_markdown":"Of course the BigDecimal does that, for the reason I stated in my answer. Your code doesn&#39;t work, because your &#39;rounded&#39; variable isn&#39;t rounded. My question was what is the value of &#39;rounded % 0.001&#39;. The OP asked how to round a double value. You haven&#39;t answered either question. Please now explain why &#39;rounded % 0.001&#39; doesn&#39;t print zero if &#39;rounded&#39; has indeed been rounded.","body":"Of course the BigDecimal does that, for the reason I stated in my answer. Your code doesn&#39;t work, because your &#39;rounded&#39; variable isn&#39;t rounded. My question was what is the value of &#39;rounded % 0.001&#39;. The OP asked how to round a double value. You haven&#39;t answered either question. Please now explain why &#39;rounded % 0.001&#39; doesn&#39;t print zero if &#39;rounded&#39; has indeed been rounded."},{"owner":{"account_id":25066,"reputation":66292,"user_id":64174,"accept_rate":100,"display_name":"Sean Owen"},"score":7,"creation_date":1317114962,"post_id":7548871,"comment_id":9173572,"body_markdown":"You&#39;re making a different point, which I don&#39;t think is helpful to the OP. The best answer is not, &quot;no there&#39;s nothing that can be done in Java&quot;; it&#39;s the above. &#39;rounded&#39; is the closest double representation to the correct answer. If double precision is a problem, the whole question doesn&#39;t make sense, indeed! And then the answer is use BigDecimal anyway.","body":"You&#39;re making a different point, which I don&#39;t think is helpful to the OP. The best answer is not, &quot;no there&#39;s nothing that can be done in Java&quot;; it&#39;s the above. &#39;rounded&#39; is the closest double representation to the correct answer. If double precision is a problem, the whole question doesn&#39;t make sense, indeed! And then the answer is use BigDecimal anyway."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1317117963,"post_id":7548871,"comment_id":9174263,"body_markdown":"The point, and the best answer, is what I said: *leave it in the decimal radix.* Your answer remains wrong.","body":"The point, and the best answer, is what I said: <i>leave it in the decimal radix.</i> Your answer remains wrong."},{"owner":{"account_id":25066,"reputation":66292,"user_id":64174,"accept_rate":100,"display_name":"Sean Owen"},"score":8,"creation_date":1317122110,"post_id":7548871,"comment_id":9175302,"body_markdown":"I think you&#39;re reading the question as, &quot;how can I represent a real exactly as a double, round it, and represent the answer exactly as a double?&quot; You&#39;re right there: you can&#39;t. Surely, I think, the emphasis of the question was &quot;how do I round to 3 significant figures in Java, since Math.round() rounds to nearest whole number?&quot; I think it far more likely, and, the answer to that question is not &quot;can&#39;t be done&quot;.","body":"I think you&#39;re reading the question as, &quot;how can I represent a real exactly as a double, round it, and represent the answer exactly as a double?&quot; You&#39;re right there: you can&#39;t. Surely, I think, the emphasis of the question was &quot;how do I round to 3 significant figures in Java, since Math.round() rounds to nearest whole number?&quot; I think it far more likely, and, the answer to that question is not &quot;can&#39;t be done&quot;."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1317178310,"post_id":7548871,"comment_id":9189253,"body_markdown":"I am answering the question as stated above by the OP. If the OP wanted values containing fractional digits beyond the supposed rounding point he didn&#39;t say so. If he had, it would be a contradication in terms, like your answer.","body":"I am answering the question as stated above by the OP. If the OP wanted values containing fractional digits beyond the supposed rounding point he didn&#39;t say so. If he had, it would be a contradication in terms, like your answer."},{"owner":{"account_id":905922,"reputation":13779,"user_id":940834,"accept_rate":94,"display_name":"IAmGroot"},"score":0,"creation_date":1370013149,"post_id":7548871,"comment_id":24318118,"body_markdown":"With some slight modifications, you can put a long into the big decimal, and get long from it after rounding","body":"With some slight modifications, you can put a long into the big decimal, and get long from it after rounding"},{"owner":{"account_id":22705,"reputation":80417,"user_id":56285,"accept_rate":81,"display_name":"Jonik"},"score":2,"creation_date":1373928963,"post_id":7548871,"comment_id":25730674,"body_markdown":"Addendum (for future readers): if you want to specify the number of *decimal places* instead of *precision*, or number of significant digits overall, then you must use something like `bd.setScale(places, BigDecimal.ROUND_HALF_UP)` instead. See [this answer](http://stackoverflow.com/a/2808648/56285) for more.","body":"Addendum (for future readers): if you want to specify the number of <i>decimal places</i> instead of <i>precision</i>, or number of significant digits overall, then you must use something like <code>bd.setScale(places, BigDecimal.ROUND_HALF_UP)</code> instead. See <a href=\"http://stackoverflow.com/a/2808648/56285\">this answer</a> for more."},{"owner":{"account_id":68306,"reputation":19143,"user_id":199364,"accept_rate":83,"display_name":"ToolmakerSteve"},"score":4,"creation_date":1440724205,"post_id":7548871,"comment_id":52403283,"body_markdown":"Despite @EJP&#39;s attitude, his essential point is correct: it is **really important** to suggest to anyone reading this answer, that they might want to **stay in BigDecimal** - and not do that last line that converts to the nearest double value.","body":"Despite @EJP&#39;s attitude, his essential point is correct: it is <b>really important</b> to suggest to anyone reading this answer, that they might want to <b>stay in BigDecimal</b> - and not do that last line that converts to the nearest double value."},{"owner":{"account_id":695155,"reputation":26358,"user_id":274677,"accept_rate":81,"display_name":"Marcus Junius Brutus"},"score":0,"creation_date":1571418555,"post_id":7548871,"comment_id":103247928,"body_markdown":"I second the call to remain in BigDecimal; moreover if you wish to emit a String representation at some point the BigDecimal as currently constructed can be improved. E.g. for d=0.99 and 3 significant digits it yields &quot;0.99&quot; instead of &quot;0.990&quot;. See https://stackoverflow.com/a/58455258/274677","body":"I second the call to remain in BigDecimal; moreover if you wish to emit a String representation at some point the BigDecimal as currently constructed can be improved. E.g. for d=0.99 and 3 significant digits it yields &quot;0.99&quot; instead of &quot;0.990&quot;. See <a href=\"https://stackoverflow.com/a/58455258/274677\">stackoverflow.com/a/58455258/274677</a>"}],"tags":[],"owner":{"account_id":25066,"reputation":66292,"user_id":64174,"accept_rate":100,"display_name":"Sean Owen"},"comment_count":11,"down_vote_count":1,"up_vote_count":80,"is_accepted":true,"score":79,"last_activity_date":1316987495,"creation_date":1316987495,"answer_id":7548871,"question_id":7548841,"body_markdown":"    double d = ...;\r\n    BigDecimal bd = new BigDecimal(d);\r\n    bd = bd.round(new MathContext(3));\r\n    double rounded = bd.doubleValue();","title":"Round a double to 3 significant figures","body":"<pre><code>double d = ...;\nBigDecimal bd = new BigDecimal(d);\nbd = bd.round(new MathContext(3));\ndouble rounded = bd.doubleValue();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":25066,"reputation":66292,"user_id":64174,"accept_rate":100,"display_name":"Sean Owen"},"score":2,"creation_date":1317108521,"post_id":7553827,"comment_id":9172014,"body_markdown":"Well, no. You&#39;re conflating several things -- whether you can round to arbitrary places in Java (yes), represent arbitrary precision reals (yes), and represent arbitrary precision reals as double (no). I can most certainly round a double; whether or not there&#39;s something lost in translation is another question. I *think* the OP really wanted to know how to do rounding of reals (though it was said as doubles), and that is definitely possible in Java. See my answer.","body":"Well, no. You&#39;re conflating several things -- whether you can round to arbitrary places in Java (yes), represent arbitrary precision reals (yes), and represent arbitrary precision reals as double (no). I can most certainly round a double; whether or not there&#39;s something lost in translation is another question. I <i>think</i> the OP really wanted to know how to do rounding of reals (though it was said as doubles), and that is definitely possible in Java. See my answer."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1317111950,"post_id":7553827,"comment_id":9172806,"body_markdown":"@Sean Owen you can round to arbitrary places in any language as long as the radix of the places is the same as the radix of the number. I am not conflating anything about arbitrary precision reals, as I didn&#39;t mention them. &#39;What is lost in translation&#39; is the rounding. You cannot round a double to a specified number of decimal places. It is a contradiction in terms, as the simple test I suggested for your answer clearly shows.","body":"@Sean Owen you can round to arbitrary places in any language as long as the radix of the places is the same as the radix of the number. I am not conflating anything about arbitrary precision reals, as I didn&#39;t mention them. &#39;What is lost in translation&#39; is the rounding. You cannot round a double to a specified number of decimal places. It is a contradiction in terms, as the simple test I suggested for your answer clearly shows."},{"owner":{"account_id":25066,"reputation":66292,"user_id":64174,"accept_rate":100,"display_name":"Sean Owen"},"score":4,"creation_date":1317115251,"post_id":7553827,"comment_id":9173650,"body_markdown":"According to your logic, you can&#39;t add doubles either, because the sum isn&#39;t exactly right. In an abstract sense that&#39;s right, but, I would love to see you try this argument on in a software company. &quot;Boss, I can&#39;t implement this. There is no way to add floating-point numbers on a computer!&quot;","body":"According to your logic, you can&#39;t add doubles either, because the sum isn&#39;t exactly right. In an abstract sense that&#39;s right, but, I would love to see you try this argument on in a software company. &quot;Boss, I can&#39;t implement this. There is no way to add floating-point numbers on a computer!&quot;"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1317118546,"post_id":7553827,"comment_id":9174391,"body_markdown":"@Sean Owen: Either you are right and `rounded % 0.001` is zero, or I am right and it isn&#39;t. Period. Which is it? All this other stuff is just blather.","body":"@Sean Owen: Either you are right and <code>rounded % 0.001</code> is zero, or I am right and it isn&#39;t. Period. Which is it? All this other stuff is just blather."},{"owner":{"account_id":25066,"reputation":66292,"user_id":64174,"accept_rate":100,"display_name":"Sean Owen"},"score":2,"creation_date":1317120823,"post_id":7553827,"comment_id":9174970,"body_markdown":"It isn&#39;t zero, yes. I understand your point and explained why it does not seem helpful here.  I don&#39;t think you addressed mine. SO seems to think my answer is better, but good that you brought more thinking.","body":"It isn&#39;t zero, yes. I understand your point and explained why it does not seem helpful here.  I don&#39;t think you addressed mine. SO seems to think my answer is better, but good that you brought more thinking."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1317178283,"post_id":7553827,"comment_id":9189248,"body_markdown":"@Sean Owen It is wrong answers that aren&#39;t helpful. I provided the correct answer above: &#39;The only way ...&#39;. Your digression about adding doubles is of no relevance or interest.","body":"@Sean Owen It is wrong answers that aren&#39;t helpful. I provided the correct answer above: &#39;The only way ...&#39;. Your digression about adding doubles is of no relevance or interest."},{"owner":{"account_id":402910,"reputation":50810,"user_id":770361,"accept_rate":90,"display_name":"Luigi Plinge"},"score":3,"creation_date":1372723242,"post_id":7553827,"comment_id":25291952,"body_markdown":"Well, I think what OP (and I) probably really wants is to get a String representation of a double to x significant figures, so in a way you&#39;re both wrong","body":"Well, I think what OP (and I) probably really wants is to get a String representation of a double to x significant figures, so in a way you&#39;re both wrong"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1390770081,"post_id":7553827,"comment_id":32223946,"body_markdown":"@LuigiPinge Certainly that&#39;s what he should really do. He needs to change his return type to String, or perhaps BigDecimal. I haven&#39;t said otherwise. It&#39;s difficult to see how that makes my answer incorrect.","body":"@LuigiPinge Certainly that&#39;s what he should really do. He needs to change his return type to String, or perhaps BigDecimal. I haven&#39;t said otherwise. It&#39;s difficult to see how that makes my answer incorrect."},{"owner":{"account_id":68306,"reputation":19143,"user_id":199364,"accept_rate":83,"display_name":"ToolmakerSteve"},"score":0,"creation_date":1440722923,"post_id":7553827,"comment_id":52402947,"body_markdown":"@EJP While the question is not 100% precise, the OP is expressing a common desire. A `double` value can be rounded *within a certain accuracy*, depending on the machine representation. Equality comparisons then need to be done via a method that takes a tolerance, where the tolerance is stated as a permitted fractional error of the first value, except in range(-1, +1) where it is a fraction of 1.It can be done. But high odds OP will get himself in trouble. Your answer has precautionary value: once someone starts asking for exactness, it is useful to point out the trouble they are  heading for.","body":"@EJP While the question is not 100% precise, the OP is expressing a common desire. A <code>double</code> value can be rounded <i>within a certain accuracy</i>, depending on the machine representation. Equality comparisons then need to be done via a method that takes a tolerance, where the tolerance is stated as a permitted fractional error of the first value, except in range(-1, +1) where it is a fraction of 1.It can be done. But high odds OP will get himself in trouble. Your answer has precautionary value: once someone starts asking for exactness, it is useful to point out the trouble they are  heading for."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1470863899,"post_id":7553827,"comment_id":65128286,"body_markdown":"@ToolmakerSteve The trouble is that you can&#39;t attach any actual meaning to rounding to a specific number of digits &#39;within a certain accuracy&#39;. It is a contradiction in terms.","body":"@ToolmakerSteve The trouble is that you can&#39;t attach any actual meaning to rounding to a specific number of digits &#39;within a certain accuracy&#39;. It is a contradiction in terms."},{"owner":{"account_id":4958971,"reputation":7891,"user_id":3990767,"accept_rate":100,"display_name":"SOFe"},"score":0,"creation_date":1539315250,"post_id":7553827,"comment_id":92465740,"body_markdown":"Boss, there is no way to multiply the speed of light with the universal gravitational constant in mathematics! Speed of light and gravitational constant cannot be defined mathematically!","body":"Boss, there is no way to multiply the speed of light with the universal gravitational constant in mathematics! Speed of light and gravitational constant cannot be defined mathematically!"}],"tags":[],"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"comment_count":11,"down_vote_count":6,"up_vote_count":3,"is_accepted":false,"score":-3,"last_activity_date":1317118863,"creation_date":1317033480,"answer_id":7553827,"question_id":7548841,"body_markdown":"&gt; how I can round a double value to 3 significant figures\r\n\r\nYou can&#39;t. Doubles are representing in binary. They do not have decimal places to be rounded to. The only way you can get a specific number of decimal places is to convert it to a decimal radix *and leave it there.* The moment you convert it back to double you have lost the decimal precision again.\r\n\r\nFor all the fans, here and elsewhere, of converting to other radixes and back, or multiplying and dividing by powers of ten, please display the resulting double value % 0.001 or whatever the required precision dictates, and explain the result.\r\n\r\nEDIT: Specifically, the proponents of those techniques need to explain the 92% failure rate of the following code:\r\n\r\n    public class RoundingCounterExample\r\n    {\r\n    \tstatic float roundOff(float x, int position)\r\n    \t{\r\n    \t\tfloat a = x;\r\n    \t\tdouble temp = Math.pow(10.0, position);\r\n    \t\ta *= temp;\r\n    \t\ta = Math.round(a);\r\n    \t\treturn (a / (float)temp);\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args)\r\n    \t{\r\n    \t\tfloat a = roundOff(0.0009434f,3);\r\n    \t\tSystem.out.println(&quot;a=&quot;+a+&quot; (a % .0001)=&quot;+(a % 0.001));\r\n    \t\tint count = 0, errors = 0;\r\n    \t\tfor (double x = 0.0; x &lt; 1; x += 0.0001)\r\n    \t\t{\r\n    \t\t\tcount++;\r\n    \t\t\tdouble d = x;\r\n    \t\t\tint scale = 2;\r\n    \t\t\tdouble factor = Math.pow(10, scale);\r\n    \t\t\td = Math.round(d * factor) / factor;\r\n    \t\t\tif ((d % 0.01) != 0.0)\r\n    \t\t\t{\r\n    \t\t\t\tSystem.out.println(d + &quot; &quot; + (d % 0.01));\r\n    \t\t\t\terrors++;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tSystem.out.println(count + &quot; trials &quot; + errors + &quot; errors&quot;);\r\n    \t}\r\n    }\r\n\r\n","title":"Round a double to 3 significant figures","body":"<blockquote>\n  <p>how I can round a double value to 3 significant figures</p>\n</blockquote>\n\n<p>You can't. Doubles are representing in binary. They do not have decimal places to be rounded to. The only way you can get a specific number of decimal places is to convert it to a decimal radix <em>and leave it there.</em> The moment you convert it back to double you have lost the decimal precision again.</p>\n\n<p>For all the fans, here and elsewhere, of converting to other radixes and back, or multiplying and dividing by powers of ten, please display the resulting double value % 0.001 or whatever the required precision dictates, and explain the result.</p>\n\n<p>EDIT: Specifically, the proponents of those techniques need to explain the 92% failure rate of the following code:</p>\n\n<pre><code>public class RoundingCounterExample\n{\n    static float roundOff(float x, int position)\n    {\n        float a = x;\n        double temp = Math.pow(10.0, position);\n        a *= temp;\n        a = Math.round(a);\n        return (a / (float)temp);\n    }\n\n    public static void main(String[] args)\n    {\n        float a = roundOff(0.0009434f,3);\n        System.out.println(\"a=\"+a+\" (a % .0001)=\"+(a % 0.001));\n        int count = 0, errors = 0;\n        for (double x = 0.0; x &lt; 1; x += 0.0001)\n        {\n            count++;\n            double d = x;\n            int scale = 2;\n            double factor = Math.pow(10, scale);\n            d = Math.round(d * factor) / factor;\n            if ((d % 0.01) != 0.0)\n            {\n                System.out.println(d + \" \" + (d % 0.01));\n                errors++;\n            }\n        }\n        System.out.println(count + \" trials \" + errors + \" errors\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1209619,"reputation":480,"user_id":1178424,"accept_rate":60,"display_name":"heights1976"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1454624022,"creation_date":1454624022,"answer_id":35212687,"question_id":7548841,"body_markdown":"    \tpublic String toSignificantFiguresString(BigDecimal bd, int significantFigures ){\r\n\t    String test = String.format(&quot;%.&quot;+significantFigures+&quot;G&quot;, bd);\r\n\t    if (test.contains(&quot;E+&quot;)){\r\n\t    \ttest = String.format(Locale.US, &quot;%.0f&quot;, Double.valueOf(String.format(&quot;%.&quot;+significantFigures+&quot;G&quot;, bd)));\r\n\t    }\r\n\t    return test;\r\n\t}\r\n","title":"Round a double to 3 significant figures","body":"<pre><code>    public String toSignificantFiguresString(BigDecimal bd, int significantFigures ){\n    String test = String.format(\"%.\"+significantFigures+\"G\", bd);\n    if (test.contains(\"E+\")){\n        test = String.format(Locale.US, \"%.0f\", Double.valueOf(String.format(\"%.\"+significantFigures+\"G\", bd)));\n    }\n    return test;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3497823,"reputation":1349,"user_id":2925434,"accept_rate":83,"display_name":"awwsmm"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1510237560,"creation_date":1508339836,"answer_id":46813655,"question_id":7548841,"body_markdown":"If you want to do it by hand:\r\n\r\n    import java.lang.Math;\r\n\r\n    public class SigDig {\r\n\r\n      public static void main(String[] args) {\r\n        System.out.println(&quot;   -123.456   rounded up   to 2 sig figures is &quot; + sigDigRounder(-123.456, 2,  1));\r\n        System.out.println(&quot;     -0.03394 rounded down to 3 sig figures is &quot; + sigDigRounder(-0.03394, 3, -1));\r\n        System.out.println(&quot;    474       rounded up   to 2 sig figures is &quot; + sigDigRounder(474, 2,  1));\r\n        System.out.println(&quot;3004001       rounded down to 4 sig figures is &quot; + sigDigRounder(3004001, 4, -1));\r\n      }\r\n    \r\n      public static double sigDigRounder(double value, int nSigDig, int dir) {\r\n\r\n        double intermediate = value/Math.pow(10,Math.floor(Math.log10(Math.abs(value)))-(nSigDig-1));\r\n\r\n        if(dir &gt; 0)      intermediate = Math.ceil(intermediate);\r\n        else if (dir&lt; 0) intermediate = Math.floor(intermediate);\r\n        else             intermediate = Math.round(intermediate);\r\n\r\n        double result = intermediate * Math.pow(10,Math.floor(Math.log10(Math.abs(value)))-(nSigDig-1));\r\n    \r\n        return(result);\r\n    \r\n      }\r\n    }\r\n\r\nThe above method rounds a double to a desired number of significant figures, handles negative numbers, and can be explicitly told to round up or down","title":"Round a double to 3 significant figures","body":"<p>If you want to do it by hand:</p>\n\n<pre><code>import java.lang.Math;\n\npublic class SigDig {\n\n  public static void main(String[] args) {\n    System.out.println(\"   -123.456   rounded up   to 2 sig figures is \" + sigDigRounder(-123.456, 2,  1));\n    System.out.println(\"     -0.03394 rounded down to 3 sig figures is \" + sigDigRounder(-0.03394, 3, -1));\n    System.out.println(\"    474       rounded up   to 2 sig figures is \" + sigDigRounder(474, 2,  1));\n    System.out.println(\"3004001       rounded down to 4 sig figures is \" + sigDigRounder(3004001, 4, -1));\n  }\n\n  public static double sigDigRounder(double value, int nSigDig, int dir) {\n\n    double intermediate = value/Math.pow(10,Math.floor(Math.log10(Math.abs(value)))-(nSigDig-1));\n\n    if(dir &gt; 0)      intermediate = Math.ceil(intermediate);\n    else if (dir&lt; 0) intermediate = Math.floor(intermediate);\n    else             intermediate = Math.round(intermediate);\n\n    double result = intermediate * Math.pow(10,Math.floor(Math.log10(Math.abs(value)))-(nSigDig-1));\n\n    return(result);\n\n  }\n}\n</code></pre>\n\n<p>The above method rounds a double to a desired number of significant figures, handles negative numbers, and can be explicitly told to round up or down</p>\n"},{"tags":[],"owner":{"account_id":695155,"reputation":26358,"user_id":274677,"accept_rate":81,"display_name":"Marcus Junius Brutus"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1571432561,"creation_date":1571418051,"answer_id":58455258,"question_id":7548841,"body_markdown":"There&#39;s nothing wrong with the answer given by Sean Owen (https://stackoverflow.com/a/7548871/274677). However depending on your use case you might want to arrive at a String representation. In that case, IMO it is best to convert while still in BigDecimal space using:\r\n\r\n    bd.toPlainString();\r\n\r\n... if that&#39;s your use case then you might be frustrated that the code adapted from Owen&#39;s answer will produce the following:\r\n\r\n    d = 0.99, significantDigits = 3 ==&gt; 0.99\r\n\r\n... instead of the strictly more accurate `0.990`.\r\n\r\nIf such things are important in your use case then I suggest the following adaptation to Owen&#39;s answer ; you can obviously also return the BigDecimal itself instead of calling `toPlainString()` &amp;mdash; I just provide it this way for completeness.\r\n\r\n    public static String setSignificanDigits(double value, int significantDigits) {\r\n        if (significantDigits &lt; 0) throw new IllegalArgumentException();\r\n\r\n        // this is more precise than simply doing &quot;new BigDecimal(value);&quot;\r\n        BigDecimal bd = new BigDecimal(value, MathContext.DECIMAL64);\r\n        bd = bd.round(new MathContext(significantDigits, RoundingMode.HALF_UP));\r\n        final int precision = bd.precision();\r\n        if (precision &lt; significantDigits)\r\n        bd = bd.setScale(bd.scale() + (significantDigits-precision));\r\n        return bd.toPlainString();\r\n    }    \r\n","title":"Round a double to 3 significant figures","body":"<p>There's nothing wrong with the answer given by Sean Owen (<a href=\"https://stackoverflow.com/a/7548871/274677\">https://stackoverflow.com/a/7548871/274677</a>). However depending on your use case you might want to arrive at a String representation. In that case, IMO it is best to convert while still in BigDecimal space using:</p>\n\n<pre><code>bd.toPlainString();\n</code></pre>\n\n<p>... if that's your use case then you might be frustrated that the code adapted from Owen's answer will produce the following:</p>\n\n<pre><code>d = 0.99, significantDigits = 3 ==&gt; 0.99\n</code></pre>\n\n<p>... instead of the strictly more accurate <code>0.990</code>.</p>\n\n<p>If such things are important in your use case then I suggest the following adaptation to Owen's answer ; you can obviously also return the BigDecimal itself instead of calling <code>toPlainString()</code> &mdash; I just provide it this way for completeness.</p>\n\n<pre><code>public static String setSignificanDigits(double value, int significantDigits) {\n    if (significantDigits &lt; 0) throw new IllegalArgumentException();\n\n    // this is more precise than simply doing \"new BigDecimal(value);\"\n    BigDecimal bd = new BigDecimal(value, MathContext.DECIMAL64);\n    bd = bd.round(new MathContext(significantDigits, RoundingMode.HALF_UP));\n    final int precision = bd.precision();\n    if (precision &lt; significantDigits)\n    bd = bd.setScale(bd.scale() + (significantDigits-precision));\n    return bd.toPlainString();\n}    \n</code></pre>\n"},{"tags":[],"owner":{"account_id":17879640,"reputation":79,"user_id":12988797,"display_name":"Gaurav Verma"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1640759804,"creation_date":1640759804,"answer_id":70515926,"question_id":7548841,"body_markdown":"\r\ndouble d=3.142568;\r\nSystem.out.printf(&quot;Answer : %.3f&quot;, d);","title":"Round a double to 3 significant figures","body":"<p>double d=3.142568;\nSystem.out.printf(&quot;Answer : %.3f&quot;, d);</p>\n"}],"owner":{"account_id":114811,"reputation":1718,"user_id":301757,"accept_rate":83,"display_name":"mh377"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60918,"favorite_count":0,"down_vote_count":1,"up_vote_count":29,"accepted_answer_id":7548871,"answer_count":7,"score":28,"last_activity_date":1674468461,"creation_date":1316987080,"question_id":7548841,"body_markdown":"Does anybody know how I can round a double value to 3 significant figures like the examples on this website\r\n\r\nhttp://www.purplemath.com/modules/rounding2.htm\r\n\r\nNote: significant figures are not the same as decimal places","title":"Round a double to 3 significant figures","body":"<p>Does anybody know how I can round a double value to 3 significant figures like the examples on this website</p>\n<p><a href=\"http://www.purplemath.com/modules/rounding2.htm\" rel=\"nofollow noreferrer\">http://www.purplemath.com/modules/rounding2.htm</a></p>\n<p>Note: significant figures are not the same as decimal places</p>\n"},{"tags":["java","annotations","aop","aspectj","aspectj-maven-plugin"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1674664547,"post_id":75204450,"comment_id":132764105,"body_markdown":"It is absolutely impossible that the code you posted here does anything meaningful, because it is full of both syntax errors and logical errors. For example, your `NavigationBar` constructor has one `class` keyword too many. And all your aspect advices have a method parameter which is not bound in your pointcut. Like this, the aspects will not do anything. Please edit your sample code in order to be a full, minimal example reproducing your problem, not just pseudo code. Then I will be happy to help you. Thank you.","body":"It is absolutely impossible that the code you posted here does anything meaningful, because it is full of both syntax errors and logical errors. For example, your <code>NavigationBar</code> constructor has one <code>class</code> keyword too many. And all your aspect advices have a method parameter which is not bound in your pointcut. Like this, the aspects will not do anything. Please edit your sample code in order to be a full, minimal example reproducing your problem, not just pseudo code. Then I will be happy to help you. Thank you."}],"owner":{"account_id":10126809,"reputation":15,"user_id":7481823,"display_name":"gamelover"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674468455,"creation_date":1674427667,"question_id":75204450,"body_markdown":"I have two different aspects in my Selenium test automation project and I am using load time weaving with AspectJ. Both aspects run fine when running under test methods in that class.\r\n\r\nThe case where `AspectA` running on `@Before(&quot;@annotation(ChangeToIFrameA)&quot;)` on a `method1` that is under a `method0` that is already annotated with `@Before` class it overrides the second aspect call `AspectB` on `method2` that is called under `method1`.\r\n\r\nAspect A class\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    package com.stackoverfow.FrameHandling;\r\n    @Aspect\r\n    public class AspectA {\r\n    \r\n        @Before(&quot;@annotation(com.stackoverfow.FrameHandling.ChangeToIFrameA)&quot;)\r\n        public void switchIFrameA(WebDriver driver)) {\r\n          driver.switchTo().frame(&quot;IFrameA name&quot;);   \r\n        }\r\n    }\r\n\r\nCustom Annotated class for Aspect A to run\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    package com.stackoverfow.FrameHandling;\r\n    @Target(ElementType.METHOD)\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Documented\r\n    public @interface ChangeToIFrameA {\r\n    }\r\n\r\nAspect B class\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    package com.stackoverfow.FrameHandling;\r\n    @Aspect\r\n    public class AspectB {\r\n        \r\n        @Before(&quot;execution(com.stackoverfow.NavigationBar.*(..))&quot;)\r\n        public void switchIFrameB(WebDriver driver)) {\r\n          driver.switchTo().frame(&quot;IFrameB name&quot;);   \r\n        }\r\n        \r\n      \r\n        @After(&quot;execution(com.stackoverfow.NavigationBar.*(..))&quot;)\r\n        public void switchIFrameA(WebDriver driver)) {\r\n          driver.switchTo().frame(&quot;IFrameA name&quot;);   \r\n        }\r\n    }\r\n\r\nNavigation Bar Class\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    package com.stackoverfow.Navigation;\r\n    class NavigationBar{\r\n    \r\n    class NavigationBar(){}\r\n    \r\n    public void goToHomePage(){\r\n      //Navigates to Home Page\r\n    }\r\n    \r\n    public void goToHelpPage(){\r\n      //Navigates to Help Page\r\n    }\r\n    \r\n    public void goToUserAccount(){\r\n      //Navigates to User Account Page\r\n    }\r\n    \r\n    }\r\n\r\nTest Class that uses TestNG\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    package com.stackoverfow.NavigationTests;\r\n    public class AppBasicTests {\r\n    \r\n    @BeforeClass(alwaysRun = true)\r\n        public void login(ITestContext context) {\r\n            //logs into the application\r\n            takeCareOfNavigationToHomePage();\r\n        }\r\n    \r\n     @BeforeMethod(alwaysRun = true)\r\n        public void openSecondTab(ITestContext context) {\r\n            //Open a new tab\r\n        }\r\n    \r\n    @AfterMethod(alwaysRun = true)\r\n        public void closeSecondTab() {\r\n            //closes the secondary tab\r\n        }\r\n    \r\n    @AfterClass(alwaysRun = true)\r\n        public void logout() {\r\n            //logs out from the app\r\n        }\r\n    \r\n    //Annotated to private method that is called inside login() method which is annotated by @Before class\r\n    @ChangeToIFrameA       \r\n    private void takeCareOfNavigationToHomePage(){\r\n             NavigationBar navigationBar = new NavigationBar();\r\n              navigationBar.goToHomePage();// Assuming AspectB runs before and after this method call for switching frames\r\n    }\r\n    \r\n    //Assuming it switches to FrameA before running the test\r\n    \r\n    @ChangeToIFrameA         \r\n    @Test(enabled = true)\r\n    public void testNavigation(){\r\n          \r\n          NavigationBar navigationBar = new NavigationBar();\r\n          navigationBar.goToHelpPage();// Assuming AspectB runs \r\n          before and after this method call for switching frames\r\n        }\r\n    }\r\n\r\naop.xml\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;aspectj&gt;\r\n        &lt;aspects&gt;\r\n            &lt;aspect name=&quot;com.stackoverfow.FrameHandling.AspectA&quot;/&gt;\r\n        &lt;/aspects&gt;\r\n        &lt;aspects&gt;\r\n            &lt;aspect name=&quot;com.stackoverfow.FrameHandling.AspectB&quot;/&gt;\r\n        &lt;/aspects&gt;\r\n    &lt;/aspectj&gt;\r\n\r\npom.xml \r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;groupId&gt;com.stackoverflow&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;UiTestAutomation&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;packaging&gt;pom&lt;/packaging&gt;\r\n    \t&lt;name&gt;UiTestAutomation&lt;/name&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;!-- Maven Plugins --&gt;\r\n    \t\t&lt;maven-compiler-version&gt;3.6.0&lt;/maven-compiler-version&gt;\r\n    \t\t&lt;maven-surefire-version&gt;2.22.2&lt;/maven-surefire-version&gt;\r\n    \t\t&lt;selenium-version&gt;3.14.0&lt;/selenium-version&gt;\r\n            &lt;testng-version&gt;7.4.0&lt;/testng-version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;build&gt;\r\n    \t\t\t&lt;plugins&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;${maven-compiler-version}&lt;/version&gt;\r\n    \t\t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t\t&lt;source&gt;1.8&lt;/source&gt;\r\n    \t\t\t\t\t\t&lt;target&gt;1.8&lt;/target&gt;\r\n    \t\t\t\t\t\t&lt;useIncrementalCompilation&gt;${useIncrementalCompilation} &lt;/useIncrementalCompilation&gt;\r\n    \t\t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;${maven-surefire-version}&lt;/version&gt;\r\n    \t\t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t\t&lt;argLine&gt;-javaagent:&quot;${settings.localRepository}/org/aspectj/aspectjweaver/1.9.8/aspectjweaver-1.9.8.jar&quot;&lt;/argLine&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t &lt;executions&gt;\r\n                                &lt;execution&gt;\r\n                                &lt;phase&gt;process-sources&lt;/phase&gt;\r\n                                 &lt;/execution&gt;\r\n                     &lt;/executions&gt;\r\n    \t\t\t\t&lt;dependencies&gt;\r\n    \t\t\t\t\t&lt;dependency&gt;\r\n    \t\t\t\t\t\t&lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n    \t\t\t\t\t\t&lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;version&gt;1.9.8&lt;/version&gt;\r\n    \t\t\t\t\t&lt;/dependency&gt;\r\n    \t\t\t\t&lt;/dependencies&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-surefire-report-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;2.22.2&lt;/version&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \t&lt;dependencyManagement&gt;\r\n         &lt;/dependencies&gt;\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;${selenium-version}&lt;/version&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;selenium-firefox-driver&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;${selenium-version}&lt;/version&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;selenium-htmlunit-driver&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;${htmlunit-version}&lt;/version&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;selenium-support&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;${selenium-version}&lt;/version&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \t\t\t\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;${testng-version}&lt;/version&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \t\t\t\r\n    \t\t\t&lt;!-- https://mvnrepository.com/artifact/org.aspectj/aspectjrt --&gt;\r\n    \t\t\t\t\t\t&lt;dependency&gt;\r\n    \t\t\t\t\t\t&lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n    \t\t\t\t\t\t&lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;version&gt;1.9.8&lt;/version&gt;\r\n    \t\t\t\t\t&lt;/dependency&gt;\r\n                 &lt;dependency&gt;\r\n                         &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n                         &lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\r\n                         &lt;version&gt;1.9.5&lt;/version&gt;\r\n                         &lt;scope&gt;runtime&lt;/scope&gt;\r\n                     &lt;/dependency&gt;\r\n    \t\t&lt;/dependencies&gt;\r\n    \t&lt;/dependencyManagement&gt;\r\n    &lt;/project&gt;\r\n\r\n\r\nHere `AspectA` runs fine on method `testNavigation()`\r\n\r\n`AspectB` runs fine on inner method call of `NavigationBar.goToHelpPage()` that is present under `testNavigation()` method.\r\n\r\nWhen private method `takeCareOfNavigationToHomePage()` that is annotated  `@ChangeToIFrameA` is called `AspectA` runs on that method and during the inner method call `NavigationBar.goToHomePage()` again `AspectA` is called instead of `AspectB`. `AspectA` call happens twice looks like an overriding is happen. \r\n\r\nI see its happening because the private method `takeCareOfNavigationToHomePage` is called under login method that is already annotated with TestNG annotation `@BeforeClass`. Any idea how to overcome this? Please suggest a solution.\r\n","title":"Avoid aspects overriding in AspectJ","body":"<p>I have two different aspects in my Selenium test automation project and I am using load time weaving with AspectJ. Both aspects run fine when running under test methods in that class.</p>\n<p>The case where <code>AspectA</code> running on <code>@Before(&quot;@annotation(ChangeToIFrameA)&quot;)</code> on a <code>method1</code> that is under a <code>method0</code> that is already annotated with <code>@Before</code> class it overrides the second aspect call <code>AspectB</code> on <code>method2</code> that is called under <code>method1</code>.</p>\n<p>Aspect A class</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.stackoverfow.FrameHandling;\n@Aspect\npublic class AspectA {\n\n    @Before(&quot;@annotation(com.stackoverfow.FrameHandling.ChangeToIFrameA)&quot;)\n    public void switchIFrameA(WebDriver driver)) {\n      driver.switchTo().frame(&quot;IFrameA name&quot;);   \n    }\n}\n</code></pre>\n<p>Custom Annotated class for Aspect A to run</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.stackoverfow.FrameHandling;\n@Target(ElementType.METHOD)\n@Retention(RetentionPolicy.RUNTIME)\n@Documented\npublic @interface ChangeToIFrameA {\n}\n</code></pre>\n<p>Aspect B class</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.stackoverfow.FrameHandling;\n@Aspect\npublic class AspectB {\n    \n    @Before(&quot;execution(com.stackoverfow.NavigationBar.*(..))&quot;)\n    public void switchIFrameB(WebDriver driver)) {\n      driver.switchTo().frame(&quot;IFrameB name&quot;);   \n    }\n    \n  \n    @After(&quot;execution(com.stackoverfow.NavigationBar.*(..))&quot;)\n    public void switchIFrameA(WebDriver driver)) {\n      driver.switchTo().frame(&quot;IFrameA name&quot;);   \n    }\n}\n</code></pre>\n<p>Navigation Bar Class</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.stackoverfow.Navigation;\nclass NavigationBar{\n\nclass NavigationBar(){}\n\npublic void goToHomePage(){\n  //Navigates to Home Page\n}\n\npublic void goToHelpPage(){\n  //Navigates to Help Page\n}\n\npublic void goToUserAccount(){\n  //Navigates to User Account Page\n}\n\n}\n</code></pre>\n<p>Test Class that uses TestNG</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.stackoverfow.NavigationTests;\npublic class AppBasicTests {\n\n@BeforeClass(alwaysRun = true)\n    public void login(ITestContext context) {\n        //logs into the application\n        takeCareOfNavigationToHomePage();\n    }\n\n @BeforeMethod(alwaysRun = true)\n    public void openSecondTab(ITestContext context) {\n        //Open a new tab\n    }\n\n@AfterMethod(alwaysRun = true)\n    public void closeSecondTab() {\n        //closes the secondary tab\n    }\n\n@AfterClass(alwaysRun = true)\n    public void logout() {\n        //logs out from the app\n    }\n\n//Annotated to private method that is called inside login() method which is annotated by @Before class\n@ChangeToIFrameA       \nprivate void takeCareOfNavigationToHomePage(){\n         NavigationBar navigationBar = new NavigationBar();\n          navigationBar.goToHomePage();// Assuming AspectB runs before and after this method call for switching frames\n}\n\n//Assuming it switches to FrameA before running the test\n\n@ChangeToIFrameA         \n@Test(enabled = true)\npublic void testNavigation(){\n      \n      NavigationBar navigationBar = new NavigationBar();\n      navigationBar.goToHelpPage();// Assuming AspectB runs \n      before and after this method call for switching frames\n    }\n}\n</code></pre>\n<p>aop.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;aspectj&gt;\n    &lt;aspects&gt;\n        &lt;aspect name=&quot;com.stackoverfow.FrameHandling.AspectA&quot;/&gt;\n    &lt;/aspects&gt;\n    &lt;aspects&gt;\n        &lt;aspect name=&quot;com.stackoverfow.FrameHandling.AspectB&quot;/&gt;\n    &lt;/aspects&gt;\n&lt;/aspectj&gt;\n</code></pre>\n<p>pom.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.stackoverflow&lt;/groupId&gt;\n    &lt;artifactId&gt;UiTestAutomation&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n    &lt;name&gt;UiTestAutomation&lt;/name&gt;\n    &lt;properties&gt;\n        &lt;!-- Maven Plugins --&gt;\n        &lt;maven-compiler-version&gt;3.6.0&lt;/maven-compiler-version&gt;\n        &lt;maven-surefire-version&gt;2.22.2&lt;/maven-surefire-version&gt;\n        &lt;selenium-version&gt;3.14.0&lt;/selenium-version&gt;\n        &lt;testng-version&gt;7.4.0&lt;/testng-version&gt;\n    &lt;/properties&gt;\n    &lt;build&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;${maven-compiler-version}&lt;/version&gt;\n                    &lt;configuration&gt;\n                        &lt;source&gt;1.8&lt;/source&gt;\n                        &lt;target&gt;1.8&lt;/target&gt;\n                        &lt;useIncrementalCompilation&gt;${useIncrementalCompilation} &lt;/useIncrementalCompilation&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;${maven-surefire-version}&lt;/version&gt;\n                    &lt;configuration&gt;\n                        &lt;argLine&gt;-javaagent:&quot;${settings.localRepository}/org/aspectj/aspectjweaver/1.9.8/aspectjweaver-1.9.8.jar&quot;&lt;/argLine&gt;\n                &lt;/configuration&gt;\n                 &lt;executions&gt;\n                            &lt;execution&gt;\n                            &lt;phase&gt;process-sources&lt;/phase&gt;\n                             &lt;/execution&gt;\n                 &lt;/executions&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n                        &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\n                        &lt;version&gt;1.9.8&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-surefire-report-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;2.22.2&lt;/version&gt;\n                &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n    &lt;dependencyManagement&gt;\n     &lt;/dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n                &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n                &lt;version&gt;${selenium-version}&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n                &lt;artifactId&gt;selenium-firefox-driver&lt;/artifactId&gt;\n                &lt;version&gt;${selenium-version}&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n                &lt;artifactId&gt;selenium-htmlunit-driver&lt;/artifactId&gt;\n                &lt;version&gt;${htmlunit-version}&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n                &lt;artifactId&gt;selenium-support&lt;/artifactId&gt;\n                &lt;version&gt;${selenium-version}&lt;/version&gt;\n            &lt;/dependency&gt;\n            \n            &lt;dependency&gt;\n                &lt;groupId&gt;org.testng&lt;/groupId&gt;\n                &lt;artifactId&gt;testng&lt;/artifactId&gt;\n                &lt;version&gt;${testng-version}&lt;/version&gt;\n            &lt;/dependency&gt;\n            \n            &lt;!-- https://mvnrepository.com/artifact/org.aspectj/aspectjrt --&gt;\n                        &lt;dependency&gt;\n                        &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n                        &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\n                        &lt;version&gt;1.9.8&lt;/version&gt;\n                    &lt;/dependency&gt;\n             &lt;dependency&gt;\n                     &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n                     &lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\n                     &lt;version&gt;1.9.5&lt;/version&gt;\n                     &lt;scope&gt;runtime&lt;/scope&gt;\n                 &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Here <code>AspectA</code> runs fine on method <code>testNavigation()</code></p>\n<p><code>AspectB</code> runs fine on inner method call of <code>NavigationBar.goToHelpPage()</code> that is present under <code>testNavigation()</code> method.</p>\n<p>When private method <code>takeCareOfNavigationToHomePage()</code> that is annotated  <code>@ChangeToIFrameA</code> is called <code>AspectA</code> runs on that method and during the inner method call <code>NavigationBar.goToHomePage()</code> again <code>AspectA</code> is called instead of <code>AspectB</code>. <code>AspectA</code> call happens twice looks like an overriding is happen.</p>\n<p>I see its happening because the private method <code>takeCareOfNavigationToHomePage</code> is called under login method that is already annotated with TestNG annotation <code>@BeforeClass</code>. Any idea how to overcome this? Please suggest a solution.</p>\n"},{"tags":["java","reactive-programming","project-reactor"],"answers":[{"tags":[],"owner":{"account_id":105679,"reputation":1979,"user_id":281870,"accept_rate":70,"display_name":"Anadi Misra"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674468178,"creation_date":1674466135,"answer_id":75207594,"question_id":75205865,"body_markdown":"Problem was my implementation of `allPrimes` here&#39;s the fixed version\r\n\r\n    public Flux&lt;Integer&gt; allPrimes(int low, int high) {\r\n        return Flux.range(low, high - low)\r\n                .flatMap(it -&gt;\r\n                        isPrime(it).flatMap(result -&gt;\r\n                                result == 1 ? Mono.just(it) : Mono.empty()))\r\n                .doOnNext(m -&gt; System.out.println(&quot;Publishing new prime &quot; + m + &quot; for range &quot; + low + &quot;-&quot; + high));\r\n    }","title":"creating a flux from a method returning mono","body":"<p>Problem was my implementation of <code>allPrimes</code> here's the fixed version</p>\n<pre><code>public Flux&lt;Integer&gt; allPrimes(int low, int high) {\n    return Flux.range(low, high - low)\n            .flatMap(it -&gt;\n                    isPrime(it).flatMap(result -&gt;\n                            result == 1 ? Mono.just(it) : Mono.empty()))\n            .doOnNext(m -&gt; System.out.println(&quot;Publishing new prime &quot; + m + &quot; for range &quot; + low + &quot;-&quot; + high));\n}\n</code></pre>\n"}],"owner":{"account_id":105679,"reputation":1979,"user_id":281870,"accept_rate":70,"display_name":"Anadi Misra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":315,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75207594,"answer_count":1,"score":1,"last_activity_date":1674468178,"creation_date":1674451069,"question_id":75205865,"body_markdown":"I learning how to change non-reactive code to reactive. As part of the exercise I took this sample code for finding primes in a range \r\n\r\n    public class FindPrime {\r\n    \r\n        private List&lt;Integer&gt; primes;\r\n    \r\n        public FindPrime() {\r\n            primes = new ArrayList&lt;&gt;();\r\n        }\r\n    \r\n        public List&lt;Integer&gt; allPrimes(int low, int high) {\r\n            for (int i = low; i &lt;= high; i++) {\r\n                // skip is the number is 1\r\n                // As 1 is neither prime nor composite\r\n                if (i == 1) continue;\r\n    \r\n                // if the number is prime add the number to list\r\n                if (isPrime(i) == 1) {\r\n                    primes.add(i);\r\n                }\r\n            }\r\n            return primes;\r\n        }\r\n    \r\n        private int isPrime(int n) {\r\n            // for loop from 2 to sqrt(n)\r\n            for (int i = 2; i &lt;= Math.sqrt(n); i++) {\r\n                // if the number is divisible return -1\r\n                if (n % i == 0) {\r\n                    return -1;\r\n                }\r\n            }\r\n            // return 1 if number is prime\r\n            return 1;\r\n        }\r\n    }\r\n\r\nWhile rewriting it to reactive code I started with using `Flux.fromIterbale` on the List produced to return a flux, but then the code essentially is still blocking? specially the `isPrime` method. Hence I turned it into the following\r\n\r\n    public Mono&lt;Integer&gt; isPrime(int n) {\r\n        for (int i = 2; i &lt;= Math.sqrt(n); i++) {\r\n            // if the number is divisible return -1\r\n            if (n % i == 0) {\r\n                return Mono.just(-1);\r\n            }\r\n        }\r\n        // return 1 if number is prime\r\n        return Mono.just(1);\r\n    }\r\n\r\nWhich works as expected for me if I access the Mono, `JitteryPrimesEmitter` being the class where I have the new method\r\n\r\n    JitteryPrimesEmitter emitter = new JitteryPrimesEmitter();\r\n    // One Value at a time\r\n    int input = 97;\r\n    new JitteryPrimesEmitter().isPrime(input)\r\n                .filter(x -&gt; x == 1)\r\n                .subscribe(x -&gt; System.out.println(&quot;Got a Prime &quot; + input));\r\n\r\n\r\nThe next step was to emit a flux of primes, using this `isPrime` method, so I wrote the `allPrimes` method as follows\r\n\r\n\r\n    public Flux&lt;Integer&gt; allPrimes(int low, int high) {\r\n        return Flux.create((FluxSink&lt;Integer&gt; sink) -&gt; {\r\n            for (int i = low; i &lt;= high; i++) {\r\n                // skip is the number is 1\r\n                // As 1 is neither prime nor composite\r\n                if (i == 1) continue;\r\n\r\n                isPrime(i).filter(n -&gt; n == 1)\r\n                        .delayElement(Duration.ofMillis(new Random().nextInt(20) + 1))\r\n                        .doOnNext(m -&gt; System.out.println(&quot;Publishing new prime &quot; + m + &quot;for range &quot; + low + &quot;-&quot; + high))\r\n                        .doOnNext(sink::next);\r\n            }\r\n        });\r\n    }\r\n\r\nThe random delay is how I&#39;m making it *jittery* to stimulate data flow from a slow I/O upstream. This doesn&#39;t work as if I call `allPrimes` with 10, 100 as input I see no results, here&#39;s the downstream call\r\n\r\n    // Flux of values\r\n    AtomicInteger sum = new AtomicInteger();\r\n    AtomicInteger highest = new AtomicInteger(0);\r\n    Flux&lt;Integer&gt; primesFlux = emitter.allPrimes(10, 100);\r\n    primesFlux.doOnSubscribe(s -&gt; System.out.println(&quot;Subscribed downstream operation to primes flux&quot;));\r\n\r\n    ConnectableFlux&lt;Integer&gt; primes = primesFlux.publish();\r\n    primes.doOnComplete(() -&gt; System.out.println(&quot;Sum of Primes = &quot; + sum.get()))\r\n            .subscribe(i -&gt; {\r\n                sum.addAndGet(i);\r\n                System.out.println(&quot;Adding emitted prime &quot; + i + &quot; to sum &quot; + sum);\r\n            });\r\n\r\n    primes.doOnComplete(() -&gt; System.out.println(&quot;Highest Prime = &quot; + highest.get()))\r\n            .subscribe(i -&gt; {\r\n                System.out.println(&quot;Checking if &quot; + i + &quot; is highest prime in the range 10-100&quot;);\r\n                highest.set(i);\r\n            });\r\n\r\n    primes.connect();\r\n    System.out.println(&quot;Done Subscribing to Primes Flux&quot;);\r\n\r\nNeither `sum` nor `highest` is populated, nor do I see any of the messages I&#39;m printing in the downstream Flux pipelines, I do see that the `isPrime` mono method emits values as and when it&#39;s called from the `allPrimes` method. \r\n\r\n\r\n\r\n","title":"creating a flux from a method returning mono","body":"<p>I learning how to change non-reactive code to reactive. As part of the exercise I took this sample code for finding primes in a range</p>\n<pre><code>public class FindPrime {\n\n    private List&lt;Integer&gt; primes;\n\n    public FindPrime() {\n        primes = new ArrayList&lt;&gt;();\n    }\n\n    public List&lt;Integer&gt; allPrimes(int low, int high) {\n        for (int i = low; i &lt;= high; i++) {\n            // skip is the number is 1\n            // As 1 is neither prime nor composite\n            if (i == 1) continue;\n\n            // if the number is prime add the number to list\n            if (isPrime(i) == 1) {\n                primes.add(i);\n            }\n        }\n        return primes;\n    }\n\n    private int isPrime(int n) {\n        // for loop from 2 to sqrt(n)\n        for (int i = 2; i &lt;= Math.sqrt(n); i++) {\n            // if the number is divisible return -1\n            if (n % i == 0) {\n                return -1;\n            }\n        }\n        // return 1 if number is prime\n        return 1;\n    }\n}\n</code></pre>\n<p>While rewriting it to reactive code I started with using <code>Flux.fromIterbale</code> on the List produced to return a flux, but then the code essentially is still blocking? specially the <code>isPrime</code> method. Hence I turned it into the following</p>\n<pre><code>public Mono&lt;Integer&gt; isPrime(int n) {\n    for (int i = 2; i &lt;= Math.sqrt(n); i++) {\n        // if the number is divisible return -1\n        if (n % i == 0) {\n            return Mono.just(-1);\n        }\n    }\n    // return 1 if number is prime\n    return Mono.just(1);\n}\n</code></pre>\n<p>Which works as expected for me if I access the Mono, <code>JitteryPrimesEmitter</code> being the class where I have the new method</p>\n<pre><code>JitteryPrimesEmitter emitter = new JitteryPrimesEmitter();\n// One Value at a time\nint input = 97;\nnew JitteryPrimesEmitter().isPrime(input)\n            .filter(x -&gt; x == 1)\n            .subscribe(x -&gt; System.out.println(&quot;Got a Prime &quot; + input));\n</code></pre>\n<p>The next step was to emit a flux of primes, using this <code>isPrime</code> method, so I wrote the <code>allPrimes</code> method as follows</p>\n<pre><code>public Flux&lt;Integer&gt; allPrimes(int low, int high) {\n    return Flux.create((FluxSink&lt;Integer&gt; sink) -&gt; {\n        for (int i = low; i &lt;= high; i++) {\n            // skip is the number is 1\n            // As 1 is neither prime nor composite\n            if (i == 1) continue;\n\n            isPrime(i).filter(n -&gt; n == 1)\n                    .delayElement(Duration.ofMillis(new Random().nextInt(20) + 1))\n                    .doOnNext(m -&gt; System.out.println(&quot;Publishing new prime &quot; + m + &quot;for range &quot; + low + &quot;-&quot; + high))\n                    .doOnNext(sink::next);\n        }\n    });\n}\n</code></pre>\n<p>The random delay is how I'm making it <em>jittery</em> to stimulate data flow from a slow I/O upstream. This doesn't work as if I call <code>allPrimes</code> with 10, 100 as input I see no results, here's the downstream call</p>\n<pre><code>// Flux of values\nAtomicInteger sum = new AtomicInteger();\nAtomicInteger highest = new AtomicInteger(0);\nFlux&lt;Integer&gt; primesFlux = emitter.allPrimes(10, 100);\nprimesFlux.doOnSubscribe(s -&gt; System.out.println(&quot;Subscribed downstream operation to primes flux&quot;));\n\nConnectableFlux&lt;Integer&gt; primes = primesFlux.publish();\nprimes.doOnComplete(() -&gt; System.out.println(&quot;Sum of Primes = &quot; + sum.get()))\n        .subscribe(i -&gt; {\n            sum.addAndGet(i);\n            System.out.println(&quot;Adding emitted prime &quot; + i + &quot; to sum &quot; + sum);\n        });\n\nprimes.doOnComplete(() -&gt; System.out.println(&quot;Highest Prime = &quot; + highest.get()))\n        .subscribe(i -&gt; {\n            System.out.println(&quot;Checking if &quot; + i + &quot; is highest prime in the range 10-100&quot;);\n            highest.set(i);\n        });\n\nprimes.connect();\nSystem.out.println(&quot;Done Subscribing to Primes Flux&quot;);\n</code></pre>\n<p>Neither <code>sum</code> nor <code>highest</code> is populated, nor do I see any of the messages I'm printing in the downstream Flux pipelines, I do see that the <code>isPrime</code> mono method emits values as and when it's called from the <code>allPrimes</code> method.</p>\n"},{"tags":["java","eclipse","while-loop","xtend"],"comments":[{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1634142151,"post_id":69545045,"comment_id":122948438,"body_markdown":"I see that extend has while loops here:[Xtend while loop](https://www.eclipse.org/xtend/documentation/203_xtend_expressions.html#while-expression).","body":"I see that extend has while loops here:<a href=\"https://www.eclipse.org/xtend/documentation/203_xtend_expressions.html#while-expression\" rel=\"nofollow noreferrer\">Xtend while loop</a>."},{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1634225297,"post_id":69545045,"comment_id":122973495,"body_markdown":"What progress have you made on this?","body":"What progress have you made on this?"}],"answers":[{"tags":[],"owner":{"account_id":6457401,"reputation":583,"user_id":5002324,"display_name":"Christoph S."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674467658,"creation_date":1674467658,"answer_id":75207852,"question_id":69545045,"body_markdown":"For me it works fine\r\n\r\n```\r\nval String[] refin = #[&quot;1&quot;, &quot;a&quot;, &quot;2&quot;, &quot;b&quot;, &quot;3&quot;, &quot;c&quot;]\r\nvar index = refin.size - 1\r\nwhile(index &gt; 0) {\r\n\tprintln(refin.get(index) + &quot;::=&quot; + refin.get(index -1))\r\n\tindex -= 2\r\n}\r\n\r\n// c::=3\r\n// b::=2\r\n// a::=1\r\n```","title":"While loop in Xtend","body":"<p>For me it works fine</p>\n<pre><code>val String[] refin = #[&quot;1&quot;, &quot;a&quot;, &quot;2&quot;, &quot;b&quot;, &quot;3&quot;, &quot;c&quot;]\nvar index = refin.size - 1\nwhile(index &gt; 0) {\n    println(refin.get(index) + &quot;::=&quot; + refin.get(index -1))\n    index -= 2\n}\n\n// c::=3\n// b::=2\n// a::=1\n</code></pre>\n"}],"owner":{"account_id":12618205,"reputation":9,"user_id":9174846,"display_name":"programming_QA"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":203,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674467658,"creation_date":1634061658,"question_id":69545045,"body_markdown":"I have written a code in java and now I have to convert it to Xtend templates. However I have the following written with a while loop.\r\n```\r\nindex = refin.size()-1\r\n     \t        \twhile (index &gt; 0){\r\n     \t        \t\t  System.out.println(refin.get(index) + &quot;::=&quot; + refin.get(index-1))\r\n     \t        \t\t  index-=2\r\n     \t        \t\t}\r\n```\r\nNow I see that Xtend templates do not support WHILE, and also I cannot write the following: \r\n```\r\n&#171;FOR index : refin.size()-1 ; index &gt;= 0 ; index -=2&#187;\r\n```\r\n\r\nAny ideas on how I could use that while loop (or something similar) to do the same thing that I am doing there, in Xtend templates? \r\n\r\nMany thanks! ","title":"While loop in Xtend","body":"<p>I have written a code in java and now I have to convert it to Xtend templates. However I have the following written with a while loop.</p>\n<pre><code>index = refin.size()-1\n                    while (index &gt; 0){\n                          System.out.println(refin.get(index) + &quot;::=&quot; + refin.get(index-1))\n                          index-=2\n                        }\n</code></pre>\n<p>Now I see that Xtend templates do not support WHILE, and also I cannot write the following:</p>\n<pre><code>«FOR index : refin.size()-1 ; index &gt;= 0 ; index -=2»\n</code></pre>\n<p>Any ideas on how I could use that while loop (or something similar) to do the same thing that I am doing there, in Xtend templates?</p>\n<p>Many thanks!</p>\n"},{"tags":["java","intellij-idea","dependencies","physics","vtk"],"comments":[{"owner":{"account_id":1202593,"reputation":9569,"user_id":1173495,"accept_rate":46,"display_name":"SANN3"},"score":0,"creation_date":1674366000,"post_id":75197098,"comment_id":132697225,"body_markdown":"One possible solution would be to create a JAR file containing the VTK library and then add that JAR file as a dependency to your project.","body":"One possible solution would be to create a JAR file containing the VTK library and then add that JAR file as a dependency to your project."},{"owner":{"account_id":14989739,"reputation":3527,"user_id":10821284,"display_name":"Compiler v2"},"score":0,"creation_date":1674410669,"post_id":75197098,"comment_id":132703986,"body_markdown":"@SANN3 I created the jar file using https://stackoverflow.com/a/18146453/10821284 and then I added it to my project as a module and a library and even restarted, but it still doesn&#39;t recognize VTK.","body":"@SANN3 I created the jar file using <a href=\"https://stackoverflow.com/a/18146453/10821284\">stackoverflow.com/a/18146453/10821284</a> and then I added it to my project as a module and a library and even restarted, but it still doesn&#39;t recognize VTK."}],"answers":[{"tags":[],"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1674467445,"creation_date":1674467445,"answer_id":75207817,"question_id":75197098,"body_markdown":"VTK is [available as a Maven dependency](https://discourse.vtk.org/t/vtk-9-1-available-as-maven-dependency/9371). You can add Maven support for your project and include VTK in your pom.xml into dependencies section.\r\n\r\n- Right-click on a project root in [Project View](https://www.jetbrains.com/help/idea/project-tool-window.html) and select `Add Framework Support... | Maven`\r\n\r\n- Add the content below into pom.xml\r\n\r\n```\r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;jzy3d-snapshots&lt;/id&gt;\r\n            &lt;name&gt;Jzy3d Snapshots&lt;/name&gt;\r\n            &lt;url&gt;https://maven.jzy3d.org/snapshots/&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;jzy3d-releases&lt;/id&gt;\r\n            &lt;name&gt;Jzy3d Releases&lt;/name&gt;\r\n            &lt;url&gt;https://maven.jzy3d.org/releases/&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jzy3d&lt;/groupId&gt;\r\n            &lt;artifactId&gt;vtk-java-all&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n```\r\n\r\n- Click on `Reload All Maven Projects` in Maven tool window:\r\n [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7h3IZ.png\r\n\r\nNow imports to the VTK library should be resolved properly.","title":"Intellij not adding VTK library .dll dependency to Java project","body":"<p>VTK is <a href=\"https://discourse.vtk.org/t/vtk-9-1-available-as-maven-dependency/9371\" rel=\"nofollow noreferrer\">available as a Maven dependency</a>. You can add Maven support for your project and include VTK in your pom.xml into dependencies section.</p>\n<ul>\n<li><p>Right-click on a project root in <a href=\"https://www.jetbrains.com/help/idea/project-tool-window.html\" rel=\"nofollow noreferrer\">Project View</a> and select <code>Add Framework Support... | Maven</code></p>\n</li>\n<li><p>Add the content below into pom.xml</p>\n</li>\n</ul>\n<pre><code>    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;jzy3d-snapshots&lt;/id&gt;\n            &lt;name&gt;Jzy3d Snapshots&lt;/name&gt;\n            &lt;url&gt;https://maven.jzy3d.org/snapshots/&lt;/url&gt;\n        &lt;/repository&gt;\n        &lt;repository&gt;\n            &lt;id&gt;jzy3d-releases&lt;/id&gt;\n            &lt;name&gt;Jzy3d Releases&lt;/name&gt;\n            &lt;url&gt;https://maven.jzy3d.org/releases/&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jzy3d&lt;/groupId&gt;\n            &lt;artifactId&gt;vtk-java-all&lt;/artifactId&gt;\n            &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n<ul>\n<li>Click on <code>Reload All Maven Projects</code> in Maven tool window:\n<a href=\"https://i.stack.imgur.com/7h3IZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7h3IZ.png\" alt=\"enter image description here\" /></a></li>\n</ul>\n<p>Now imports to the VTK library should be resolved properly.</p>\n"}],"owner":{"account_id":14989739,"reputation":3527,"user_id":10821284,"display_name":"Compiler v2"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75207817,"answer_count":1,"score":0,"last_activity_date":1674467445,"creation_date":1674341105,"question_id":75197098,"body_markdown":"I have installed [VTK][1] for a physics simulation program called [Starfish][2] with its [Github][3]. But I am **not asking for any physics help**, but rather **I am trying to add VTK as a library dependency** to Starfish so that it can be run on Intellij.\r\n\r\nStarfish is written in Java and when I [installed VTK][4], and tried to add it in my IDE, but it doesn&#39;t work no matter what I do. The project throws: `java: package vtk does not exist` whenever I run the project&#39;s main or try to build it. The whole VTK dependency is not recognized. The VTK library is composed of `dll` type files and there are no JAR files for it. Also, there does not seem to be a Maven dependency for it as well, and Starfish is not a Maven project.\r\n\r\n**I have VTK version 9.2.2.**\r\n\r\nI have tried:\r\n\r\n1. Adding VTK as a module dependency under the project structure &gt; project settings &gt; modules &gt; dependencies &gt; choosing the path of the VTK installation\r\n\r\n2. Adding VTK as a library under project structure &gt; project settings &gt; libraries\r\n\r\n3. Adding the path to VTK `/bin` via `-Djava.library.path=&quot;C:/path/to/VTK` as a VM option in the run config of Intellij\r\n\r\n4. Adding VTK to the global libraries under project structure &gt; Platform settings &gt; global libraries\r\n\r\n5. Restarting and invalidating the cache\r\n\r\n6. Deleting the `.idea` directory and restarting\r\n\r\n7. Searching online for many days like stackoverflow, VTK forums, IntelliJ&#39;s forums, etc\r\n\r\nI am out of ideas on what to try next. Any suggestions would be greatly appreciated. Thanks.\r\n\r\n\r\n  [1]: https://vtk.org/\r\n  [2]: https://www.particleincell.com/starfish/\r\n  [3]: https://github.com/particleincell/Starfish\r\n  [4]: https://gitlab.kitware.com/vtk/vtk/-/blob/master/Documentation/dev/build.md#windows","title":"Intellij not adding VTK library .dll dependency to Java project","body":"<p>I have installed <a href=\"https://vtk.org/\" rel=\"nofollow noreferrer\">VTK</a> for a physics simulation program called <a href=\"https://www.particleincell.com/starfish/\" rel=\"nofollow noreferrer\">Starfish</a> with its <a href=\"https://github.com/particleincell/Starfish\" rel=\"nofollow noreferrer\">Github</a>. But I am <strong>not asking for any physics help</strong>, but rather <strong>I am trying to add VTK as a library dependency</strong> to Starfish so that it can be run on Intellij.</p>\n<p>Starfish is written in Java and when I <a href=\"https://gitlab.kitware.com/vtk/vtk/-/blob/master/Documentation/dev/build.md#windows\" rel=\"nofollow noreferrer\">installed VTK</a>, and tried to add it in my IDE, but it doesn't work no matter what I do. The project throws: <code>java: package vtk does not exist</code> whenever I run the project's main or try to build it. The whole VTK dependency is not recognized. The VTK library is composed of <code>dll</code> type files and there are no JAR files for it. Also, there does not seem to be a Maven dependency for it as well, and Starfish is not a Maven project.</p>\n<p><strong>I have VTK version 9.2.2.</strong></p>\n<p>I have tried:</p>\n<ol>\n<li><p>Adding VTK as a module dependency under the project structure &gt; project settings &gt; modules &gt; dependencies &gt; choosing the path of the VTK installation</p>\n</li>\n<li><p>Adding VTK as a library under project structure &gt; project settings &gt; libraries</p>\n</li>\n<li><p>Adding the path to VTK <code>/bin</code> via <code>-Djava.library.path=&quot;C:/path/to/VTK</code> as a VM option in the run config of Intellij</p>\n</li>\n<li><p>Adding VTK to the global libraries under project structure &gt; Platform settings &gt; global libraries</p>\n</li>\n<li><p>Restarting and invalidating the cache</p>\n</li>\n<li><p>Deleting the <code>.idea</code> directory and restarting</p>\n</li>\n<li><p>Searching online for many days like stackoverflow, VTK forums, IntelliJ's forums, etc</p>\n</li>\n</ol>\n<p>I am out of ideas on what to try next. Any suggestions would be greatly appreciated. Thanks.</p>\n"},{"tags":["java","package","subclass","protected","modifier"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1384333249,"post_id":19949327,"comment_id":29690594,"body_markdown":"This code does not produce this error. The method tryMeProtected() doesn&#39;t exist at all.","body":"This code does not produce this error. The method tryMeProtected() doesn&#39;t exist at all."},{"owner":{"account_id":169521,"reputation":37107,"user_id":395659,"accept_rate":90,"display_name":"CloudyMarble"},"score":1,"creation_date":1384333562,"post_id":19949327,"comment_id":29690764,"body_markdown":"Did you test this with the exact code you posted? if yes it can not work as EJP saied, you have two different names: tryMePublic and tryMeProtected","body":"Did you test this with the exact code you posted? if yes it can not work as EJP saied, you have two different names: tryMePublic and tryMeProtected"}],"answers":[{"comments":[{"owner":{"account_id":961739,"reputation":21941,"user_id":985949,"accept_rate":87,"display_name":"Mik378"},"score":0,"creation_date":1384333065,"post_id":19949354,"comment_id":29690509,"body_markdown":"outside or in the same package (both of course), not only outside","body":"outside or in the same package (both of course), not only outside"},{"owner":{"account_id":1920143,"reputation":7756,"user_id":1731862,"accept_rate":71,"display_name":"Ankur Shanbhag"},"score":2,"creation_date":1384333199,"post_id":19949354,"comment_id":29690573,"body_markdown":"In the same package they are accessible through separate instance as it has same visibility as default in java (except for subclasses which can inherit even outside the package).","body":"In the same package they are accessible through separate instance as it has same visibility as default in java (except for subclasses which can inherit even outside the package)."},{"owner":{"account_id":961739,"reputation":21941,"user_id":985949,"accept_rate":87,"display_name":"Mik378"},"score":0,"creation_date":1384333313,"post_id":19949354,"comment_id":29690626,"body_markdown":"Yes, agreed, I would prefer a sentence like: &quot;Inheritance of `protected` methods makes sense only with different packages.&quot; ;)","body":"Yes, agreed, I would prefer a sentence like: &quot;Inheritance of <code>protected</code> methods makes sense only with different packages.&quot; ;)"},{"owner":{"account_id":1920143,"reputation":7756,"user_id":1731862,"accept_rate":71,"display_name":"Ankur Shanbhag"},"score":0,"creation_date":1384333458,"post_id":19949354,"comment_id":29690707,"body_markdown":"@Mik378 : Yes correct. I have modified the statement in the post. Thank you for pointing it out. :-)","body":"@Mik378 : Yes correct. I have modified the statement in the post. Thank you for pointing it out. :-)"}],"tags":[],"owner":{"account_id":1920143,"reputation":7756,"user_id":1731862,"accept_rate":71,"display_name":"Ankur Shanbhag"},"comment_count":4,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1384333345,"creation_date":1384332963,"answer_id":19949354,"question_id":19949327,"body_markdown":"Protected methods can only be **accessible through inheritance in subclasses outside the package**. And hence the second approach `tryMeProtected();` works.\r\n\r\nThe code below wont compile because we are not calling the inherited version of protected method. \r\n\r\n     Class1 c = new Class1();\r\n     c.tryMeProtected(); // ERROR: tryMeProtected() has protected access in Class1\r\n\r\n\r\n\r\nFollow this [stackoverflow][1] link for more explaination.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/14404260/call-protected-method-from-a-subclass-of-another-instance-of-different-packages\r\n","title":"Why subclass in another package cannot access a protected method?","body":"<p>Protected methods can only be <strong>accessible through inheritance in subclasses outside the package</strong>. And hence the second approach <code>tryMeProtected();</code> works.</p>\n\n<p>The code below wont compile because we are not calling the inherited version of protected method. </p>\n\n<pre><code> Class1 c = new Class1();\n c.tryMeProtected(); // ERROR: tryMeProtected() has protected access in Class1\n</code></pre>\n\n<p>Follow this <a href=\"https://stackoverflow.com/questions/14404260/call-protected-method-from-a-subclass-of-another-instance-of-different-packages\">stackoverflow</a> link for more explaination.</p>\n"},{"comments":[{"owner":{"account_id":961739,"reputation":21941,"user_id":985949,"accept_rate":87,"display_name":"Mik378"},"score":0,"creation_date":1384333580,"post_id":19949375,"comment_id":29690773,"body_markdown":"@CloudyMarble Of course, but the essence of inheritance concept with protected keyword is about different packages. Otherwise, default packages scope would be enough. Of course: who can do more can do less","body":"@CloudyMarble Of course, but the essence of inheritance concept with protected keyword is about different packages. Otherwise, default packages scope would be enough. Of course: who can do more can do less"},{"owner":{"account_id":3427015,"reputation":302,"user_id":2872536,"accept_rate":79,"display_name":"M&#225;ra Toner"},"score":1,"creation_date":1665678054,"post_id":19949375,"comment_id":130760737,"body_markdown":"This is the best answer which explains the confusion OP was pointing at.","body":"This is the best answer which explains the confusion OP was pointing at."}],"tags":[],"owner":{"account_id":961739,"reputation":21941,"user_id":985949,"accept_rate":87,"display_name":"Mik378"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1384333365,"creation_date":1384333024,"answer_id":19949375,"question_id":19949327,"body_markdown":"You use two different packages and you don&#39;t access your parent attributes by direct inheritance, but by an intermediate parent instance declared in the child class (similar to composition). =&gt; that&#39;s the not the way `protected` works.    \r\n\r\nOnly direct inheritance allows protected parent&#39;s attributes to be reach.\r\n\r\nThus, you can do this:\r\n\r\n    public class Class2 extends Class1 {\r\n        doNow() {\r\n            tryMeProtected();  // No error since direct inheritance \r\n        }    \r\n    }\r\n\r\nbut never this:\r\n\r\n    public class Class2 extends Class1 {\r\n        doNow() {\r\n            Class1 c = new Class1();\r\n            c.tryMeProtected(); // this is not a direct inheritance! since `c`, although a parent one is an intermediate instance created in the child instance. =&gt; bad\r\n        }    \r\n    }\r\n\r\nIndeed, this is a particularity of `protected`keyword often misunderstood.","title":"Why subclass in another package cannot access a protected method?","body":"<p>You use two different packages and you don't access your parent attributes by direct inheritance, but by an intermediate parent instance declared in the child class (similar to composition). => that's the not the way <code>protected</code> works.    </p>\n\n<p>Only direct inheritance allows protected parent's attributes to be reach.</p>\n\n<p>Thus, you can do this:</p>\n\n<pre><code>public class Class2 extends Class1 {\n    doNow() {\n        tryMeProtected();  // No error since direct inheritance \n    }    \n}\n</code></pre>\n\n<p>but never this:</p>\n\n<pre><code>public class Class2 extends Class1 {\n    doNow() {\n        Class1 c = new Class1();\n        c.tryMeProtected(); // this is not a direct inheritance! since `c`, although a parent one is an intermediate instance created in the child instance. =&gt; bad\n    }    \n}\n</code></pre>\n\n<p>Indeed, this is a particularity of <code>protected</code>keyword often misunderstood.</p>\n"},{"tags":[],"owner":{"account_id":1923670,"reputation":68,"user_id":1734605,"display_name":"Tushar D"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1384333705,"creation_date":1384333705,"answer_id":19949596,"question_id":19949327,"body_markdown":"As per Java Protected Access modifier definition  methods which are declared protected in a superclass can be accessed only by the subclasses in other package or any class within the package of the protected members&#39; class.\r\n\r\nyou can&#39;t access protected  method by creating object of class.\r\nSo for accessing Protected  method you have to extend the superclass.(this explains your 2nd call is correct)","title":"Why subclass in another package cannot access a protected method?","body":"<p>As per Java Protected Access modifier definition  methods which are declared protected in a superclass can be accessed only by the subclasses in other package or any class within the package of the protected members' class.</p>\n\n<p>you can't access protected  method by creating object of class.\nSo for accessing Protected  method you have to extend the superclass.(this explains your 2nd call is correct)</p>\n"},{"tags":[],"owner":{"account_id":2594798,"reputation":74,"user_id":2248728,"display_name":"Satyam"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1436264354,"creation_date":1391512180,"answer_id":21550787,"question_id":19949327,"body_markdown":"It can be acheived by two ways\r\n\r\n**1. Either by making an object of Child class and then accessing the protected method of Parent class.**\r\n\r\nPACKAGE 1\r\n\r\n    public class Class1 {\r\n        protected void m1() {\r\n            System.out.println(&quot;m1 called&quot;);\r\n        }\r\n    }\r\n\r\nPACKAGE2\r\n\r\n    public class Class2 extends Class1 {\r\n\r\n        public static void main(String[] args) {\r\n            Class2 class2 = new Class2();\r\n            class2.m1();\r\n        }\r\n    }\r\n\r\n**2. Or by directly calling the method from the Child class**\r\n\r\n`eg tryMeProtected();` ","title":"Why subclass in another package cannot access a protected method?","body":"<p>It can be acheived by two ways</p>\n\n<p><strong>1. Either by making an object of Child class and then accessing the protected method of Parent class.</strong></p>\n\n<p>PACKAGE 1</p>\n\n<pre><code>public class Class1 {\n    protected void m1() {\n        System.out.println(\"m1 called\");\n    }\n}\n</code></pre>\n\n<p>PACKAGE2</p>\n\n<pre><code>public class Class2 extends Class1 {\n\n    public static void main(String[] args) {\n        Class2 class2 = new Class2();\n        class2.m1();\n    }\n}\n</code></pre>\n\n<p><strong>2. Or by directly calling the method from the Child class</strong></p>\n\n<p><code>eg tryMeProtected();</code> </p>\n"},{"tags":[],"owner":{"account_id":2629478,"reputation":7504,"user_id":2275818,"accept_rate":100,"display_name":"Anthony Raymond"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1534767108,"creation_date":1461839266,"answer_id":36911915,"question_id":19949327,"body_markdown":"I believe you misunderstand the difference between `package` and `protected` visibility.\r\n\r\n\r\n    package package1;\r\n    \r\n    public class MyClass1 {\r\n        public void tryMePublic() { System.out.println(&quot;I&#39;m public&quot;); }\r\n        protected void tryMeProtected() { System.out.println(&quot;I&#39;m protected&quot;); }\r\n        void tryMePackage() { System.out.println(&quot;I&#39;m package&quot;); }\r\n    }\r\n\r\n- `tryMePublic` will be accessible wherever you are.\r\n- `tryMeProtected` will be accessible to every subclass AND every class in the same package.\r\n- `tryMePackage` will be accessible to every class in the same package (not available in children class if they are in a different package)\r\n\r\n### Children class in the same package\r\n    package package1;\r\n        \r\n    public class Class2 extends MyClass1 {\r\n        public void doNow() {\r\n            tryMePublic(); // OK\r\n            tryMeProtected(); // OK\r\n            tryMePackage(); // OK\r\n        }    \r\n    }\r\n\r\n### Children class in different package\r\n\r\n    package package2;\r\n\r\n    import package1.MyClass1;\r\n        \r\n    public class Class3 extends MyClass1 {\r\n        public void doNow() {\r\n            MyClass1 c = new MyClass1();\r\n            c.tryMeProtected() // ERROR, because only public methods are allowed to be called on class instance, whereever you are\r\n            tryMePublic(); // OK\r\n            tryMeProtected(); // OK\r\n            tryMePackage(); // ERROR\r\n        }    \r\n    }","title":"Why subclass in another package cannot access a protected method?","body":"<p>I believe you misunderstand the difference between <code>package</code> and <code>protected</code> visibility.</p>\n\n<pre><code>package package1;\n\npublic class MyClass1 {\n    public void tryMePublic() { System.out.println(\"I'm public\"); }\n    protected void tryMeProtected() { System.out.println(\"I'm protected\"); }\n    void tryMePackage() { System.out.println(\"I'm package\"); }\n}\n</code></pre>\n\n<ul>\n<li><code>tryMePublic</code> will be accessible wherever you are.</li>\n<li><code>tryMeProtected</code> will be accessible to every subclass AND every class in the same package.</li>\n<li><code>tryMePackage</code> will be accessible to every class in the same package (not available in children class if they are in a different package)</li>\n</ul>\n\n<h3>Children class in the same package</h3>\n\n<pre><code>package package1;\n\npublic class Class2 extends MyClass1 {\n    public void doNow() {\n        tryMePublic(); // OK\n        tryMeProtected(); // OK\n        tryMePackage(); // OK\n    }    \n}\n</code></pre>\n\n<h3>Children class in different package</h3>\n\n<pre><code>package package2;\n\nimport package1.MyClass1;\n\npublic class Class3 extends MyClass1 {\n    public void doNow() {\n        MyClass1 c = new MyClass1();\n        c.tryMeProtected() // ERROR, because only public methods are allowed to be called on class instance, whereever you are\n        tryMePublic(); // OK\n        tryMeProtected(); // OK\n        tryMePackage(); // ERROR\n    }    \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14099328,"reputation":19,"user_id":10185073,"display_name":"Dewansh Nigam"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1533541197,"creation_date":1533536381,"answer_id":51701585,"question_id":19949327,"body_markdown":"First of all, you need to understand two things:\r\n \r\n1) The `protected` member functions of a class &#39;X&#39; in package &#39;Y&#39; can be accessed by the subclass i.e. a class that extends it (even if the subclass is in the package other than &#39;Y&#39;). That is why,\r\n\r\n    tryMeProtected(); // Showed no error because this was called by class 2 that is the subclass.\r\n\r\n2) A `protected` member function of a class &#39;X&#39; in package &#39;Y&#39; cannot be accessed by itself if it is in other packages.\r\n\r\n[ A simple analogy: A bird that has its eggs kept in a nest 1 has flown to a nest 2. From the nest 2, it cannot access its egg kept in nest 1.] \r\nSimilarly, a class cannot access its member function (unless public declared.) if it is in the other package.\r\n\r\nThat is why :\r\n\r\n    c.tryMeProtected();  // Showed error because this was called by class 1 reference.\r\n                         //  You can also think of it as class 1 cannot inherit itself.\r\n\r\n","title":"Why subclass in another package cannot access a protected method?","body":"<p>First of all, you need to understand two things:</p>\n\n<p>1) The <code>protected</code> member functions of a class 'X' in package 'Y' can be accessed by the subclass i.e. a class that extends it (even if the subclass is in the package other than 'Y'). That is why,</p>\n\n<pre><code>tryMeProtected(); // Showed no error because this was called by class 2 that is the subclass.\n</code></pre>\n\n<p>2) A <code>protected</code> member function of a class 'X' in package 'Y' cannot be accessed by itself if it is in other packages.</p>\n\n<p>[ A simple analogy: A bird that has its eggs kept in a nest 1 has flown to a nest 2. From the nest 2, it cannot access its egg kept in nest 1.] \nSimilarly, a class cannot access its member function (unless public declared.) if it is in the other package.</p>\n\n<p>That is why :</p>\n\n<pre><code>c.tryMeProtected();  // Showed error because this was called by class 1 reference.\n                     //  You can also think of it as class 1 cannot inherit itself.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16534695,"reputation":11,"user_id":11947053,"display_name":"Nora alshareef"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1585518589,"creation_date":1585518589,"answer_id":60921176,"question_id":19949327,"body_markdown":"the protected modifier is 1.Package Private  2.can be seen by subclasses from other packages. \r\nnow the key difference between : \r\n    \r\n    MyClass1 c = new MyClass1();\r\n        c.tryMeProtected();\r\n and \r\n      \r\n    tryMyProtected(); \r\n\r\nis that the MyClass1 reference is used rather than inheritance. MyClass1 is in a different package and this code is not inheriting from MyClass1. ","title":"Why subclass in another package cannot access a protected method?","body":"<p>the protected modifier is 1.Package Private  2.can be seen by subclasses from other packages. \nnow the key difference between : </p>\n\n<pre><code>MyClass1 c = new MyClass1();\n    c.tryMeProtected();\n</code></pre>\n\n<p>and </p>\n\n<pre><code>tryMyProtected(); \n</code></pre>\n\n<p>is that the MyClass1 reference is used rather than inheritance. MyClass1 is in a different package and this code is not inheriting from MyClass1. </p>\n"},{"comments":[{"owner":{"account_id":14608568,"reputation":625,"user_id":10550655,"display_name":"Michael Katt"},"score":0,"creation_date":1674734668,"post_id":75207790,"comment_id":132779250,"body_markdown":"This does not provide an answer to the question. Once you have sufficient [reputation](https://stackoverflow.com/help/whats-reputation) you will be able to [comment on any post](https://stackoverflow.com/help/privileges/comment); instead, [provide answers that don&#39;t require clarification from the asker](https://meta.stackexchange.com/questions/214173/why-do-i-need-50-reputation-to-comment-what-can-i-do-instead). - [From Review](/review/late-answers/33688806)","body":"This does not provide an answer to the question. Once you have sufficient <a href=\"https://stackoverflow.com/help/whats-reputation\">reputation</a> you will be able to <a href=\"https://stackoverflow.com/help/privileges/comment\">comment on any post</a>; instead, <a href=\"https://meta.stackexchange.com/questions/214173/why-do-i-need-50-reputation-to-comment-what-can-i-do-instead\">provide answers that don&#39;t require clarification from the asker</a>. - <a href=\"/review/late-answers/33688806\">From Review</a>"}],"tags":[],"owner":{"account_id":20534694,"reputation":1,"user_id":15071084,"display_name":"tech kid"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674467320,"creation_date":1674467320,"answer_id":75207790,"question_id":19949327,"body_markdown":"You Try like this :-\r\n\r\n    public class Class2 extends Class1 {\r\n        doNow() {\r\n            \r\n    Class2 c = new Class2();\r\n           \r\n    c.tryMeProtected(); // No error\r\n    \r\n    tryMeProtected();  //  error\r\n        }    \r\n\r\n}","title":"Why subclass in another package cannot access a protected method?","body":"<p>You Try like this :-</p>\n<pre><code>public class Class2 extends Class1 {\n    doNow() {\n        \nClass2 c = new Class2();\n       \nc.tryMeProtected(); // No error\n\ntryMeProtected();  //  error\n    }    \n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":3578053,"reputation":217,"user_id":2986848,"display_name":"user2986848"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39483,"favorite_count":0,"down_vote_count":2,"up_vote_count":22,"answer_count":8,"score":20,"last_activity_date":1674467320,"creation_date":1384332850,"question_id":19949327,"body_markdown":"I have two classes in two different packages:\r\n\r\n    package package1;\r\n\r\n    public class Class1 {\r\n        public void tryMePublic() {\r\n        }\r\n\r\n        protected void tryMeProtected() {\r\n        }\r\n    }\r\n\r\n\r\n    package package2;\r\n\r\n    import package1.Class1;\r\n\r\n    public class Class2 extends Class1 {\r\n        doNow() {\r\n            Class1 c = new Class1();\r\n            c.tryMeProtected(); // ERROR: tryMeProtected() has protected access in Class1\r\n            tryMeProtected();  // No error\r\n        }    \r\n    }\r\n\r\nI can understand why there is no error in calling `tryMeProtected()` since `Class2` sees this method as it inherits from `Class1`.\r\n\r\nBut why isn&#39;t it possible for an object of `Class2` to access this method on an object of `Class1` using   `c.tryMeProtected();`   ?\r\n\r\n\r\n\r\n","title":"Why subclass in another package cannot access a protected method?","body":"<p>I have two classes in two different packages:</p>\n\n<pre><code>package package1;\n\npublic class Class1 {\n    public void tryMePublic() {\n    }\n\n    protected void tryMeProtected() {\n    }\n}\n\n\npackage package2;\n\nimport package1.Class1;\n\npublic class Class2 extends Class1 {\n    doNow() {\n        Class1 c = new Class1();\n        c.tryMeProtected(); // ERROR: tryMeProtected() has protected access in Class1\n        tryMeProtected();  // No error\n    }    \n}\n</code></pre>\n\n<p>I can understand why there is no error in calling <code>tryMeProtected()</code> since <code>Class2</code> sees this method as it inherits from <code>Class1</code>.</p>\n\n<p>But why isn't it possible for an object of <code>Class2</code> to access this method on an object of <code>Class1</code> using   <code>c.tryMeProtected();</code>   ?</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":5823420,"reputation":785,"user_id":6656833,"display_name":"Pavel"},"score":1,"creation_date":1674383405,"post_id":75199588,"comment_id":132699199,"body_markdown":"I&#39;d suggest you to use Maven, package your project A as a maven library and import the dependency in project B. If you are learning Java, you need to learn Maven anyway. I don&#39;t think doing the dependency management manually is worth it","body":"I&#39;d suggest you to use Maven, package your project A as a maven library and import the dependency in project B. If you are learning Java, you need to learn Maven anyway. I don&#39;t think doing the dependency management manually is worth it"},{"owner":{"account_id":19181148,"reputation":31,"user_id":14012812,"display_name":"k1m2njun"},"score":0,"creation_date":1674464228,"post_id":75199588,"comment_id":132711435,"body_markdown":"Thank you, I will watching the lectures and remember &#39;Maven&#39;.","body":"Thank you, I will watching the lectures and remember &#39;Maven&#39;."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1674384851,"creation_date":1674384851,"answer_id":75199814,"question_id":75199588,"body_markdown":"In the &#39;build path&#39; settings of your new project (as per the screenshot you posted for item 3), add the other project in the &#39;project...&#39; tab.\r\n\r\nYou don&#39;t need to make a jar, you don&#39;t need to add that jar via &#39;external libraries..&#39;. You don&#39;t want to do that - you want the project dependency. That way, you can edit a file in either project, just save the file, and run, and see the updates, without having to go through the routine of making another jar. In debug mode, any change that doesn&#39;t affect signatures will even be instantly applied, no need to restart (only applies to long-running apps, of course).\r\n\r\nWhy doesn&#39;t your current approach work? Your question doesn&#39;t include enough information to be sure. A few options, based on the fact that key error message is &#39;not accessible&#39;:\r\n\r\n* You&#39;ve explicitly told eclipse you don&#39;t want the package recipe_nomodule to be considered accessible by anything except the project that created it. I doubt you&#39;ve done this.\r\n* It&#39;s set up as a module-based jar (with a module-info file), in which case, you&#39;d have to export the package in the module-info.java file.\r\n* The class wasn&#39;t marked `public` at the time you made the jar file, even if it is now (this gets back to: Don&#39;t go via jar files, that way any updates won&#39;t propagate and that&#39;s very annoying).\r\n\r\nMore generally if you want to ship these concepts completely separately, you need to start answering questions about how you&#39;d like your jar file to be distributed, you need to sign up with sonatype/mavencentral or some other entity that distributes open source, you need to learn maven, and more. Probably not worth getting into that, especially given that &#39;for fun&#39; / &#39;for exercise&#39; projects wouldn&#39;t be accepted.\r\n","title":"I&#39;d like to import class for another project in Java","body":"<p>In the 'build path' settings of your new project (as per the screenshot you posted for item 3), add the other project in the 'project...' tab.</p>\n<p>You don't need to make a jar, you don't need to add that jar via 'external libraries..'. You don't want to do that - you want the project dependency. That way, you can edit a file in either project, just save the file, and run, and see the updates, without having to go through the routine of making another jar. In debug mode, any change that doesn't affect signatures will even be instantly applied, no need to restart (only applies to long-running apps, of course).</p>\n<p>Why doesn't your current approach work? Your question doesn't include enough information to be sure. A few options, based on the fact that key error message is 'not accessible':</p>\n<ul>\n<li>You've explicitly told eclipse you don't want the package recipe_nomodule to be considered accessible by anything except the project that created it. I doubt you've done this.</li>\n<li>It's set up as a module-based jar (with a module-info file), in which case, you'd have to export the package in the module-info.java file.</li>\n<li>The class wasn't marked <code>public</code> at the time you made the jar file, even if it is now (this gets back to: Don't go via jar files, that way any updates won't propagate and that's very annoying).</li>\n</ul>\n<p>More generally if you want to ship these concepts completely separately, you need to start answering questions about how you'd like your jar file to be distributed, you need to sign up with sonatype/mavencentral or some other entity that distributes open source, you need to learn maven, and more. Probably not worth getting into that, especially given that 'for fun' / 'for exercise' projects wouldn't be accepted.</p>\n"}],"owner":{"account_id":19181148,"reputation":31,"user_id":14012812,"display_name":"k1m2njun"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75199814,"answer_count":1,"score":0,"last_activity_date":1674467241,"creation_date":1674382187,"question_id":75199588,"body_markdown":"(Thank you @MarkRotteveel !)\r\nI&#39;m learning Java. I want to import class of another project. &#39;a&#39; class(&#39;MySoup&#39;) in project A(&#39;recipe_nomodule&#39;) to project B(&#39;test&#39;)\r\n\r\nHowever, there is no JRE System Library and it doesn&#39;t work. And I can&#39;t find posts about this problem\r\n\r\n[![enter image description here](https://i.stack.imgur.com/ayZ6U.jpg)](https://i.stack.imgur.com/ayZ6U.jpg)\r\nㄴ 1. I created another project. (recipe_nomodule)\r\n- and a package(recipe_nomodule) and also a class(MySoup)\r\n\r\n[![enter image description here](https://i.stack.imgur.com/vZKzN.png)](https://i.stack.imgur.com/vZKzN.png)\r\nㄴ 2. I created recipe.jar\r\n\r\n[![enter image description here](https://i.stack.imgur.com/8iQ2V.jpg)](https://i.stack.imgur.com/8iQ2V.jpg)\r\nㄴ 3. Java Build Path - Libraries - Add External JARs... (in Properties)\r\n\r\n\r\n[![enter image description here](https://i.stack.imgur.com/ySiis.jpg)](https://i.stack.imgur.com/ySiis.jpg)\r\nㄴ 4. result.\r\n- &quot;MySoup cannot be resolved to a type&quot;\r\n- &quot;The type recipe_nomodule.MySoup is not accessible&quot;\r\n\r\n----------\r\n(23/01/2023 Thank you for the answers)\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QsUly.png\r\n  [2]: https://i.stack.imgur.com/j4AoD.jpg\r\n\r\n","title":"I&#39;d like to import class for another project in Java","body":"<p>(Thank you @MarkRotteveel !)\nI'm learning Java. I want to import class of another project. 'a' class('MySoup') in project A('recipe_nomodule') to project B('test')</p>\n<p>However, there is no JRE System Library and it doesn't work. And I can't find posts about this problem</p>\n<p><a href=\"https://i.stack.imgur.com/ayZ6U.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ayZ6U.jpg\" alt=\"enter image description here\" /></a>\nㄴ 1. I created another project. (recipe_nomodule)</p>\n<ul>\n<li>and a package(recipe_nomodule) and also a class(MySoup)</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/vZKzN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vZKzN.png\" alt=\"enter image description here\" /></a>\nㄴ 2. I created recipe.jar</p>\n<p><a href=\"https://i.stack.imgur.com/8iQ2V.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8iQ2V.jpg\" alt=\"enter image description here\" /></a>\nㄴ 3. Java Build Path - Libraries - Add External JARs... (in Properties)</p>\n<p><a href=\"https://i.stack.imgur.com/ySiis.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ySiis.jpg\" alt=\"enter image description here\" /></a>\nㄴ 4. result.</p>\n<ul>\n<li>&quot;MySoup cannot be resolved to a type&quot;</li>\n<li>&quot;The type recipe_nomodule.MySoup is not accessible&quot;</li>\n</ul>\n<hr />\n<p>(23/01/2023 Thank you for the answers)\n<a href=\"https://i.stack.imgur.com/QsUly.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QsUly.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/j4AoD.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/j4AoD.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","jersey-2.0","jersey-1.0"],"answers":[{"tags":[],"owner":{"account_id":9527169,"reputation":115,"user_id":7080065,"accept_rate":55,"display_name":"user7080065"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674466549,"creation_date":1674466549,"answer_id":75207669,"question_id":75201194,"body_markdown":"The issue was that the package was not registered.","title":"PerRequestTypeInjectableProvider equivalent in Jersey2","body":"<p>The issue was that the package was not registered.</p>\n"}],"owner":{"account_id":9527169,"reputation":115,"user_id":7080065,"accept_rate":55,"display_name":"user7080065"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674466549,"creation_date":1674397531,"question_id":75201194,"body_markdown":"What is the equivalent of PerRequestTypeInjectableProvider in Jersey2?\r\n\r\nI&#39;ve tries to use AbstractBinder but it doesn&#39;t seem to work.\r\nThe Seesion I&#39;m trying to inject is always null.\r\n\r\nI tried to replace jersey-1 old code\r\n```\r\npublic class UserSessionProvider extends PerRequestTypeInjectableProvider&lt;Context, Session&gt; {\r\n\r\n  @Context HttpServletRequest request;\r\n\r\n  public UserSessionProvider() {\r\n    super(Session.class);\r\n  }\r\n\r\n  @Override\r\n  public Injectable&lt;Session&gt; getInjectable(ComponentContext cc, Context context) {\r\n    return new Injectable&lt;Session&gt;() {\r\n\r\n      @Override\r\n      public Session getValue() {\r\n        Session session = SessionUtils.createSession(request);\r\n        request.setAttribute(WebSessionConfig.s.servlet_attribute_name, session);\r\n        return session;\r\n      }\r\n    };\r\n  }\r\n}\r\n```\r\n\r\nwith jersey-2 new code, replacing PerRequestTypeInjectableProvider with AbstractBinder:\r\n\r\n```\r\npublic class UserSessionProvider extends AbstractBinder {\r\n\r\n  private static final Logger logger = Logger.getLogger(UserSessionProvider.class);\r\n\r\n  @Context HttpServletRequest request;\r\n\r\n  @Override\r\n  protected void configure() {\r\n    bind(SessionResolver.class).to(Session.class);\r\n  }\r\n\r\n  public class SessionResolver implements InjectionResolver&lt;Session&gt; {\r\n\r\n    @Override\r\n    public Object resolve(Injectee injectee, ServiceHandle&lt;?&gt; root) {\r\n\r\n      Session session = SessionUtils.createSession(request);\r\n      request.setAttribute(WebSessionConfig.s.servlet_attribute_name, session);\r\n      return session;\r\n    }\r\n\r\n    @Override\r\n    public boolean isConstructorParameterIndicator() {\r\n      return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean isMethodParameterIndicator() {\r\n      return true;\r\n    }\r\n  }\r\n}\r\n```","title":"PerRequestTypeInjectableProvider equivalent in Jersey2","body":"<p>What is the equivalent of PerRequestTypeInjectableProvider in Jersey2?</p>\n<p>I've tries to use AbstractBinder but it doesn't seem to work.\nThe Seesion I'm trying to inject is always null.</p>\n<p>I tried to replace jersey-1 old code</p>\n<pre><code>public class UserSessionProvider extends PerRequestTypeInjectableProvider&lt;Context, Session&gt; {\n\n  @Context HttpServletRequest request;\n\n  public UserSessionProvider() {\n    super(Session.class);\n  }\n\n  @Override\n  public Injectable&lt;Session&gt; getInjectable(ComponentContext cc, Context context) {\n    return new Injectable&lt;Session&gt;() {\n\n      @Override\n      public Session getValue() {\n        Session session = SessionUtils.createSession(request);\n        request.setAttribute(WebSessionConfig.s.servlet_attribute_name, session);\n        return session;\n      }\n    };\n  }\n}\n</code></pre>\n<p>with jersey-2 new code, replacing PerRequestTypeInjectableProvider with AbstractBinder:</p>\n<pre><code>public class UserSessionProvider extends AbstractBinder {\n\n  private static final Logger logger = Logger.getLogger(UserSessionProvider.class);\n\n  @Context HttpServletRequest request;\n\n  @Override\n  protected void configure() {\n    bind(SessionResolver.class).to(Session.class);\n  }\n\n  public class SessionResolver implements InjectionResolver&lt;Session&gt; {\n\n    @Override\n    public Object resolve(Injectee injectee, ServiceHandle&lt;?&gt; root) {\n\n      Session session = SessionUtils.createSession(request);\n      request.setAttribute(WebSessionConfig.s.servlet_attribute_name, session);\n      return session;\n    }\n\n    @Override\n    public boolean isConstructorParameterIndicator() {\n      return true;\n    }\n\n    @Override\n    public boolean isMethodParameterIndicator() {\n      return true;\n    }\n  }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","maven"],"answers":[{"comments":[{"owner":{"account_id":449860,"reputation":5594,"user_id":844890,"accept_rate":61,"display_name":"shaunthomas999"},"score":0,"creation_date":1470151851,"post_id":38723930,"comment_id":64825371,"body_markdown":"Your answer is very helpful. I check the maven wrapper documentation. I was using `mvn` command for maven operation though I could use `./mvnw` for the same purpose.","body":"Your answer is very helpful. I check the maven wrapper documentation. I was using <code>mvn</code> command for maven operation though I could use <code>.&#47;mvnw</code> for the same purpose."},{"owner":{"account_id":3139797,"reputation":561,"user_id":2935910,"accept_rate":71,"display_name":"Asanke"},"score":3,"creation_date":1505949649,"post_id":38723930,"comment_id":79627021,"body_markdown":"Thanks for the answer. Can you explain when this gets generated, like is it when you initially create a project? Will it gets updated along the line when you do changes to your pom like add remove dependencies/plugins ?","body":"Thanks for the answer. Can you explain when this gets generated, like is it when you initially create a project? Will it gets updated along the line when you do changes to your pom like add remove dependencies/plugins ?"},{"owner":{"account_id":1164600,"reputation":5578,"user_id":1143482,"accept_rate":63,"display_name":"jpganz18"},"score":2,"creation_date":1547522811,"post_id":38723930,"comment_id":95212230,"body_markdown":"and, should you add/commit the  mvnw.cmd files?","body":"and, should you add/commit the  mvnw.cmd files?"},{"owner":{"account_id":1827218,"reputation":8097,"user_id":1659588,"accept_rate":89,"display_name":"Dodge"},"score":2,"creation_date":1547579045,"post_id":38723930,"comment_id":95237308,"body_markdown":"yes, of course. it allows you to quickly run your maven build without the need to extra install maven or having it on PATH.","body":"yes, of course. it allows you to quickly run your maven build without the need to extra install maven or having it on PATH."},{"owner":{"account_id":8229425,"reputation":300,"user_id":6190600,"display_name":"Daniel Hern&#225;ndez"},"score":1,"creation_date":1568350155,"post_id":38723930,"comment_id":102253078,"body_markdown":"So many thanks for the answer, it&#39;s very helpful &#191;Could you tell us something about the portability of the maven settings files when we working in that way?\nSaludos and thanks again.","body":"So many thanks for the answer, it&#39;s very helpful &#191;Could you tell us something about the portability of the maven settings files when we working in that way? Saludos and thanks again."},{"owner":{"account_id":1827218,"reputation":8097,"user_id":1659588,"accept_rate":89,"display_name":"Dodge"},"score":1,"creation_date":1568356237,"post_id":38723930,"comment_id":102254788,"body_markdown":"@DanielHern&#225;ndez the maven wrapper uses the default settings.xml on the users system. and according to this [issue](https://github.com/takari/maven-wrapper/issues/4) there are some tricks how you could add a custom settings.xml to the repo but it seems then it ignores the user settings on system.","body":"@DanielHern&#225;ndez the maven wrapper uses the default settings.xml on the users system. and according to this <a href=\"https://github.com/takari/maven-wrapper/issues/4\" rel=\"nofollow noreferrer\">issue</a> there are some tricks how you could add a custom settings.xml to the repo but it seems then it ignores the user settings on system."}],"tags":[],"owner":{"account_id":1827218,"reputation":8097,"user_id":1659588,"accept_rate":89,"display_name":"Dodge"},"comment_count":6,"down_vote_count":0,"up_vote_count":536,"is_accepted":true,"score":536,"last_activity_date":1548747280,"creation_date":1470149841,"answer_id":38723930,"question_id":38723833,"body_markdown":"These files are from [Maven wrapper](https://github.com/takari/maven-wrapper). It works similarly to the [Gradle wrapper](https://docs.gradle.org/current/userguide/gradle_wrapper.html).\r\n\r\nThis allows you to run the Maven project without having Maven installed and present on the path. It downloads the correct Maven version if it&#39;s not found (as far as I know by default in your user home directory).\r\n\r\nThe `mvnw` file is for Linux (bash) and the `mvnw.cmd` is for the Windows environment.\r\n\r\n---\r\nTo create or update all necessary Maven Wrapper files execute the following command:\r\n\r\n\r\n    mvn -N io.takari:maven:wrapper\r\n\r\nTo use a different version of maven you can specify the version as follows:\r\n\r\n    mvn -N io.takari:maven:wrapper -Dmaven=3.3.3\r\n\r\n\r\nBoth commands require maven on `PATH` (add the path to maven `bin` to `Path` on System Variables) if you already have mvnw in your project you can use `./mvnw` instead of `mvn` in the commands.","title":"What is the purpose of mvnw and mvnw.cmd files?","body":"<p>These files are from <a href=\"https://github.com/takari/maven-wrapper\" rel=\"noreferrer\">Maven wrapper</a>. It works similarly to the <a href=\"https://docs.gradle.org/current/userguide/gradle_wrapper.html\" rel=\"noreferrer\">Gradle wrapper</a>.</p>\n\n<p>This allows you to run the Maven project without having Maven installed and present on the path. It downloads the correct Maven version if it's not found (as far as I know by default in your user home directory).</p>\n\n<p>The <code>mvnw</code> file is for Linux (bash) and the <code>mvnw.cmd</code> is for the Windows environment.</p>\n\n<hr>\n\n<p>To create or update all necessary Maven Wrapper files execute the following command:</p>\n\n<pre><code>mvn -N io.takari:maven:wrapper\n</code></pre>\n\n<p>To use a different version of maven you can specify the version as follows:</p>\n\n<pre><code>mvn -N io.takari:maven:wrapper -Dmaven=3.3.3\n</code></pre>\n\n<p>Both commands require maven on <code>PATH</code> (add the path to maven <code>bin</code> to <code>Path</code> on System Variables) if you already have mvnw in your project you can use <code>./mvnw</code> instead of <code>mvn</code> in the commands.</p>\n"},{"tags":[],"owner":{"account_id":5906169,"reputation":10565,"user_id":4647853,"accept_rate":74,"display_name":"Michal Kordas"},"comment_count":0,"down_vote_count":0,"up_vote_count":37,"is_accepted":false,"score":37,"last_activity_date":1489998476,"creation_date":1482228093,"answer_id":41239572,"question_id":38723833,"body_markdown":"Command `mvnw` uses Maven that is by default downloaded to `~/.m2/wrapper` on the first use.\r\n\r\nURL with Maven is specified in each project at `.mvn/wrapper/maven-wrapper.properties`:\r\n\r\n    distributionUrl=https://repo1.maven.org/maven2/org/apache/maven/apache-maven/3.3.9/apache-maven-3.3.9-bin.zip\r\n\r\nTo update or change Maven version invoke the following (remember about `--non-recursive` for multi-module projects):\r\n\r\n    ./mvnw io.takari:maven:wrapper -Dmaven=3.3.9 \r\nor just modify `.mvn/wrapper/maven-wrapper.properties` manually.\r\n\r\nTo generate wrapper from scratch using Maven (you need to have it already in `PATH` run:\r\n    \r\n    mvn io.takari:maven:wrapper -Dmaven=3.3.9 ","title":"What is the purpose of mvnw and mvnw.cmd files?","body":"<p>Command <code>mvnw</code> uses Maven that is by default downloaded to <code>~/.m2/wrapper</code> on the first use.</p>\n\n<p>URL with Maven is specified in each project at <code>.mvn/wrapper/maven-wrapper.properties</code>:</p>\n\n<pre><code>distributionUrl=https://repo1.maven.org/maven2/org/apache/maven/apache-maven/3.3.9/apache-maven-3.3.9-bin.zip\n</code></pre>\n\n<p>To update or change Maven version invoke the following (remember about <code>--non-recursive</code> for multi-module projects):</p>\n\n<pre><code>./mvnw io.takari:maven:wrapper -Dmaven=3.3.9 \n</code></pre>\n\n<p>or just modify <code>.mvn/wrapper/maven-wrapper.properties</code> manually.</p>\n\n<p>To generate wrapper from scratch using Maven (you need to have it already in <code>PATH</code> run:</p>\n\n<pre><code>mvn io.takari:maven:wrapper -Dmaven=3.3.9 \n</code></pre>\n"},{"comments":[{"owner":{"account_id":5235533,"reputation":683,"user_id":4184240,"display_name":"ahmedjaad"},"score":11,"creation_date":1535634996,"post_id":49329376,"comment_id":91146412,"body_markdown":"This does not answer the OP question, it just suggests an alternative","body":"This does not answer the OP question, it just suggests an alternative"},{"owner":{"account_id":713274,"reputation":1313,"user_id":621588,"accept_rate":67,"display_name":"Max"},"score":6,"creation_date":1542575239,"post_id":49329376,"comment_id":93607447,"body_markdown":"The very basic idea of maven wrapper is to declare the correct version of maven for this project. And a bonus is avoiding the need to manually install maven. Your approach not only misses to solve the version problem but requires one more locally installed tool.","body":"The very basic idea of maven wrapper is to declare the correct version of maven for this project. And a bonus is avoiding the need to manually install maven. Your approach not only misses to solve the version problem but requires one more locally installed tool."},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":5,"creation_date":1544183512,"post_id":49329376,"comment_id":94195378,"body_markdown":"Also note that this mounts the users own local Maven repository into the docker instance.  Typically this runs as root, so anything written by the dockerized maven instance is owned by root under Linux.  This is not necessarily desirable.  I found a properly setup nexus instance accessible to the docker build instance was less painful, especially if you desire reproducible builds.","body":"Also note that this mounts the users own local Maven repository into the docker instance.  Typically this runs as root, so anything written by the dockerized maven instance is owned by root under Linux.  This is not necessarily desirable.  I found a properly setup nexus instance accessible to the docker build instance was less painful, especially if you desire reproducible builds."},{"owner":{"account_id":8458888,"reputation":85,"user_id":6345281,"display_name":"Andr&#233;"},"score":1,"creation_date":1544280906,"post_id":49329376,"comment_id":94224172,"body_markdown":"That was a long ago, but I still prefer this way. About maven version, image tags provide it (just look at the maven page in Docker Hub). As for the root ownership, it just doesn&#39;t happen on docker desktop - but indeed happens in linux boxes (and build nodes, of course). A small trick can &quot;force&quot; the current UID in this case (-u argument), so the problem is handled. But all means I find this approach orders of magnitude better. Docker is omnipresent anyway, specially on build nodes.","body":"That was a long ago, but I still prefer this way. About maven version, image tags provide it (just look at the maven page in Docker Hub). As for the root ownership, it just doesn&#39;t happen on docker desktop - but indeed happens in linux boxes (and build nodes, of course). A small trick can &quot;force&quot; the current UID in this case (-u argument), so the problem is handled. But all means I find this approach orders of magnitude better. Docker is omnipresent anyway, specially on build nodes."},{"owner":{"account_id":8458888,"reputation":85,"user_id":6345281,"display_name":"Andr&#233;"},"score":1,"creation_date":1544281067,"post_id":49329376,"comment_id":94224225,"body_markdown":"(continuing) this approach also has the advantage of reproducing the whole build environment is a very simple way. Old-school Jenkins setups are a nightmare.","body":"(continuing) this approach also has the advantage of reproducing the whole build environment is a very simple way. Old-school Jenkins setups are a nightmare."},{"owner":{"account_id":8458888,"reputation":85,"user_id":6345281,"display_name":"Andr&#233;"},"score":3,"creation_date":1544281434,"post_id":49329376,"comment_id":94224322,"body_markdown":"(continuing) Old-school Jenkins setup and mindset lead to this kind of thing. Modern CI/CD tools do the opposite: you just choose a build container. But that&#39;s just my opinion.","body":"(continuing) Old-school Jenkins setup and mindset lead to this kind of thing. Modern CI/CD tools do the opposite: you just choose a build container. But that&#39;s just my opinion."},{"owner":{"account_id":2725736,"reputation":1466,"user_id":2350854,"accept_rate":40,"display_name":"dantebarba"},"score":5,"creation_date":1549034123,"post_id":49329376,"comment_id":95771478,"body_markdown":"I&#39;m not down-voting because the answer could be helpful as an alternative, but it completely misses the point of the OP question and you can&#39;t just introduce a complex tool like Docker without even explaining what it is.","body":"I&#39;m not down-voting because the answer could be helpful as an alternative, but it completely misses the point of the OP question and you can&#39;t just introduce a complex tool like Docker without even explaining what it is."}],"tags":[],"owner":{"account_id":8458888,"reputation":85,"user_id":6345281,"display_name":"Andr&#233;"},"comment_count":7,"down_vote_count":8,"up_vote_count":5,"is_accepted":false,"score":-3,"last_activity_date":1521233769,"creation_date":1521233769,"answer_id":49329376,"question_id":38723833,"body_markdown":"By far the best option nowadays would be using a maven container as a builder tool. A `mvn.sh` script like this would be enough:\r\n\r\n    #!/bin/bash\r\n    docker run --rm -ti \\\r\n     -v $(pwd):/opt/app \\\r\n     -w /opt/app \\\r\n     -e TERM=xterm \\\r\n     -v $HOME/.m2:/root/.m2 \\\r\n     maven mvn &quot;$@&quot;\r\n\r\n","title":"What is the purpose of mvnw and mvnw.cmd files?","body":"<p>By far the best option nowadays would be using a maven container as a builder tool. A <code>mvn.sh</code> script like this would be enough:</p>\n\n<pre><code>#!/bin/bash\ndocker run --rm -ti \\\n -v $(pwd):/opt/app \\\n -w /opt/app \\\n -e TERM=xterm \\\n -v $HOME/.m2:/root/.m2 \\\n maven mvn \"$@\"\n</code></pre>\n"},{"comments":[{"owner":{"account_id":228743,"reputation":10672,"user_id":491245,"accept_rate":93,"display_name":"PhoneixS"},"score":14,"creation_date":1600168831,"post_id":58840346,"comment_id":112996912,"body_markdown":"Maybe you should mention that part of the text is extracted from https://www.baeldung.com/maven-wrapper","body":"Maybe you should mention that part of the text is extracted from <a href=\"https://www.baeldung.com/maven-wrapper\" rel=\"nofollow noreferrer\">baeldung.com/maven-wrapper</a>"}],"tags":[],"owner":{"account_id":15190407,"reputation":13087,"user_id":10961238,"display_name":"Romil Patel"},"comment_count":1,"down_vote_count":1,"up_vote_count":31,"is_accepted":false,"score":30,"last_activity_date":1608097182,"creation_date":1573658769,"answer_id":58840346,"question_id":38723833,"body_markdown":"The [Maven Wrapper][1] is an excellent choice for projects that need a specific version of Maven (or for users that don&#39;t want to install Maven at all). **Instead of installing many versions of it in the operating system, we can just use the project-specific wrapper script.**\r\n\r\n**mvnw:** it&#39;s an executable Unix shell script used in place of a fully installed Maven\r\n\r\n**mvnw.cmd**: it&#39;s for Windows environment\r\n\r\n----------\r\n\r\n**Use Cases**\r\n\r\nThe wrapper should work with different operating systems such as:\r\n\r\n- Linux\r\n- OSX\r\n- Windows\r\n- Solaris\r\n\r\n\r\nAfter that, we can run our goals like this for the Unix system:\r\n\r\n\r\n    ./mvnw clean install\r\n\r\nAnd the following command for Batch:\r\n\r\n\r\n    ./mvnw.cmd clean install\r\n\r\nIf we don&#39;t have the specified Maven in the wrapper properties, it&#39;ll be downloaded and installed in the folder `$USER_HOME/.m2/wrapper/dists` of the system.\r\n\r\n\r\n----------\r\n**Maven Wrapper plugin**\r\n\r\n[Maven Wrapper plugin][2] to make auto installation in a simple Spring Boot project.\r\n\r\nFirst, we need to go in the main folder of the project and run this command:\r\n\r\n    mvn -N io.takari:maven:wrapper\r\n\r\nWe can also specify the version of Maven:\r\n\r\n\r\n    mvn -N io.takari:maven:wrapper -Dmaven=3.5.2\r\n\r\nThe option -N means –non-recursive so that the wrapper will only be applied to the main project of the current directory, not in any submodules.\r\n\r\n----------\r\n\r\n&lt;b&gt;Source 1 (further reading):&lt;/b&gt; https://www.baeldung.com/maven-wrapper\r\n\r\n\r\n  [1]: https://github.com/takari/maven-wrapper\r\n  [2]: https://github.com/takari/takari-maven-plugin","title":"What is the purpose of mvnw and mvnw.cmd files?","body":"<p>The <a href=\"https://github.com/takari/maven-wrapper\" rel=\"noreferrer\">Maven Wrapper</a> is an excellent choice for projects that need a specific version of Maven (or for users that don't want to install Maven at all). <strong>Instead of installing many versions of it in the operating system, we can just use the project-specific wrapper script.</strong></p>\n<p><strong>mvnw:</strong> it's an executable Unix shell script used in place of a fully installed Maven</p>\n<p><strong>mvnw.cmd</strong>: it's for Windows environment</p>\n<hr />\n<p><strong>Use Cases</strong></p>\n<p>The wrapper should work with different operating systems such as:</p>\n<ul>\n<li>Linux</li>\n<li>OSX</li>\n<li>Windows</li>\n<li>Solaris</li>\n</ul>\n<p>After that, we can run our goals like this for the Unix system:</p>\n<pre><code>./mvnw clean install\n</code></pre>\n<p>And the following command for Batch:</p>\n<pre><code>./mvnw.cmd clean install\n</code></pre>\n<p>If we don't have the specified Maven in the wrapper properties, it'll be downloaded and installed in the folder <code>$USER_HOME/.m2/wrapper/dists</code> of the system.</p>\n<hr />\n<p><strong>Maven Wrapper plugin</strong></p>\n<p><a href=\"https://github.com/takari/takari-maven-plugin\" rel=\"noreferrer\">Maven Wrapper plugin</a> to make auto installation in a simple Spring Boot project.</p>\n<p>First, we need to go in the main folder of the project and run this command:</p>\n<pre><code>mvn -N io.takari:maven:wrapper\n</code></pre>\n<p>We can also specify the version of Maven:</p>\n<pre><code>mvn -N io.takari:maven:wrapper -Dmaven=3.5.2\n</code></pre>\n<p>The option -N means –non-recursive so that the wrapper will only be applied to the main project of the current directory, not in any submodules.</p>\n<hr />\n<p><b>Source 1 (further reading):</b> <a href=\"https://www.baeldung.com/maven-wrapper\" rel=\"noreferrer\">https://www.baeldung.com/maven-wrapper</a></p>\n"},{"tags":[],"owner":{"account_id":5418168,"reputation":1454,"user_id":4312720,"display_name":"Jorge Tovar"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1636060741,"creation_date":1636060741,"answer_id":69845961,"question_id":38723833,"body_markdown":"**short answer**: to run Maven and Gradle in the terminal without following manual installation processes.\r\n\r\nGradle example:\r\n\r\n    ./gradlew clean build\r\n    ./gradlew bootRun\r\n\r\nMaven example:\r\n\r\n    ./mvnw clean install\r\n    ./mvnw spring-boot:run\r\n\r\n&quot;*The **recommended way to execute any Gradle build is with the help of the Gradle Wrapper** (in short just “Wrapper”). The Wrapper is a script that invokes a declared version of Gradle, downloading it beforehand if necessary. As a result, developers can get up and running with a Gradle project quickly without having to follow manual installation processes **saving your company time and money**.*&quot;\r\n\r\nGradle would also add some specific files corresponding to the Maven files **Gradlew** and **Gradle.bat**\r\n\r\n\r\n[![Initializer][2]][2]\r\n\r\n\r\n  [1]: https://start.spring.io\r\n  [2]: https://i.stack.imgur.com/n6VGb.png","title":"What is the purpose of mvnw and mvnw.cmd files?","body":"<p><strong>short answer</strong>: to run Maven and Gradle in the terminal without following manual installation processes.</p>\n<p>Gradle example:</p>\n<pre><code>./gradlew clean build\n./gradlew bootRun\n</code></pre>\n<p>Maven example:</p>\n<pre><code>./mvnw clean install\n./mvnw spring-boot:run\n</code></pre>\n<p>&quot;<em>The <strong>recommended way to execute any Gradle build is with the help of the Gradle Wrapper</strong> (in short just “Wrapper”). The Wrapper is a script that invokes a declared version of Gradle, downloading it beforehand if necessary. As a result, developers can get up and running with a Gradle project quickly without having to follow manual installation processes <strong>saving your company time and money</strong>.</em>&quot;</p>\n<p>Gradle would also add some specific files corresponding to the Maven files <strong>Gradlew</strong> and <strong>Gradle.bat</strong></p>\n<p><a href=\"https://i.stack.imgur.com/n6VGb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/n6VGb.png\" alt=\"Initializer\" /></a></p>\n"},{"tags":[],"owner":{"account_id":6833305,"reputation":3084,"user_id":5256337,"display_name":"Lova Chittumuri"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673319233,"creation_date":1665329263,"answer_id":74006052,"question_id":38723833,"body_markdown":"In the windows OS, `mvnw clean install` is used for the maven clean and install activity, and `mvnw spring-boot:run` is used to run the Spring boot application from Command Prompt.\r\n\r\nFor Eaxmple:\r\n\r\n    C:\\SamplesSpringBoot\\demo&gt;mvnw clean install\r\n    C:\\SamplesSpringBoot\\demo&gt;mvnw spring-boot:run","title":"What is the purpose of mvnw and mvnw.cmd files?","body":"<p>In the windows OS, <code>mvnw clean install</code> is used for the maven clean and install activity, and <code>mvnw spring-boot:run</code> is used to run the Spring boot application from Command Prompt.</p>\n<p>For Eaxmple:</p>\n<pre><code>C:\\SamplesSpringBoot\\demo&gt;mvnw clean install\nC:\\SamplesSpringBoot\\demo&gt;mvnw spring-boot:run\n</code></pre>\n"}],"owner":{"account_id":449860,"reputation":5594,"user_id":844890,"accept_rate":61,"display_name":"shaunthomas999"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":222726,"favorite_count":0,"down_vote_count":1,"up_vote_count":430,"accepted_answer_id":38723930,"answer_count":6,"score":429,"last_activity_date":1674466455,"creation_date":1470149600,"question_id":38723833,"body_markdown":"When I created a Spring Boot application I could see `mvnw` and `mvnw.cmd` files in the root of the project. What is the purpose of these two files?","title":"What is the purpose of mvnw and mvnw.cmd files?","body":"<p>When I created a Spring Boot application I could see <code>mvnw</code> and <code>mvnw.cmd</code> files in the root of the project. What is the purpose of these two files?</p>\n"},{"tags":["java","spring","spring-boot","file-upload","application.properties"],"answers":[{"comments":[{"owner":{"account_id":1701977,"reputation":513,"user_id":1561783,"accept_rate":44,"display_name":"user1561783"},"score":0,"creation_date":1558374148,"post_id":56225175,"comment_id":99072132,"body_markdown":"So the property names starting with spring.http.** etc. etc. have no effect and do not play a role in pure REST like requests that are annotated with the following  as mentioned in my question above.  &lt;br /&gt; Namely ...  &lt;br /&gt; @GetMapping(&quot;/files/{filename:.+}&quot;)  &lt;br /&gt; @ResponseBody  &lt;br /&gt;Correct ? &lt;br /&gt;","body":"So the property names starting with spring.http.** etc. etc. have no effect and do not play a role in pure REST like requests that are annotated with the following  as mentioned in my question above.  &lt;br /&gt; Namely ...  &lt;br /&gt; @GetMapping(&quot;/files/{filename:.+}&quot;)  &lt;br /&gt; @ResponseBody  &lt;br /&gt;Correct ? &lt;br /&gt;"},{"owner":{"account_id":15190407,"reputation":13087,"user_id":10961238,"display_name":"Romil Patel"},"score":0,"creation_date":1558374687,"post_id":56225175,"comment_id":99072329,"body_markdown":"Yes, GetMapping(...) Is used to map the given URL with GET method, if you are using RestController than you don&#39;t even need to use @ResponseBody","body":"Yes, GetMapping(...) Is used to map the given URL with GET method, if you are using RestController than you don&#39;t even need to use @ResponseBody"},{"owner":{"account_id":1701977,"reputation":513,"user_id":1561783,"accept_rate":44,"display_name":"user1561783"},"score":0,"creation_date":1558375925,"post_id":56225175,"comment_id":99072818,"body_markdown":"Apologies. What I meant was the spring.http.** property setting is not needed for those @GetMapping(.....) REST-like annotations. In fact the spring.http.** is not needed AT ALL. Correct? the spring.servlet.** property setting is all that is needed for any file upload situation. Correct?","body":"Apologies. What I meant was the spring.http.** property setting is not needed for those @GetMapping(.....) REST-like annotations. In fact the spring.http.** is not needed AT ALL. Correct? the spring.servlet.** property setting is all that is needed for any file upload situation. Correct?"},{"owner":{"account_id":1701977,"reputation":513,"user_id":1561783,"accept_rate":44,"display_name":"user1561783"},"score":0,"creation_date":1558376080,"post_id":56225175,"comment_id":99072864,"body_markdown":"Thanks for answering, btw.","body":"Thanks for answering, btw."}],"tags":[],"owner":{"account_id":15190407,"reputation":13087,"user_id":10961238,"display_name":"Romil Patel"},"comment_count":4,"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1558413909,"creation_date":1558371098,"answer_id":56225175,"question_id":56222833,"body_markdown":"They had changed the property names in different versions.\r\n\r\n**Spring Boot 1.3.x and earlier**\r\n\r\n    multipart.max-file-size\r\n    multipart.max-request-size\r\n\r\n**After Spring Boot 1.3.x:**\r\n\r\n    spring.http.multipart.max-file-size=-1\r\n    spring.http.multipart.max-request-size=-1\r\n\r\n**After Spring Boot 2.0:**\r\n\r\n    spring.servlet.multipart.max-file-size=-1\r\n    spring.servlet.multipart.max-request-size=-1\r\n\r\n\r\n----------\r\n\r\n\r\n&gt; max-file-size Vs max-request-size\r\n\r\n spring.servlet.multipart.max-file-size = 2MB\r\n\r\n**Max size per file the upload supports is 2MB;** \r\n\r\nalso supports the MB or KB suffixes; \r\nby default 1MB\r\n\r\n\r\n----------\r\n\r\n\r\n    spring.servlet.multipart.max-request-size=10MB \r\n\r\n**max size of the whole request is 10MB;** \r\n\r\nalso supports the MB or KB suffixes\r\n\r\nFor unlimited upload file size, It seems setting `-1` will make it for infinite file size.\r\n\r\n\r\n----------\r\n**UPDATE:**\r\nYou don&#39;t need to specify any `spring.** property` at Controller Level (expect headers Content-Type in some case). You can set these properties in `appilcation.properties` file as below.\r\n\r\n    # MULTIPART (MultipartProperties)\r\n    spring.servlet.multipart.enabled=true # Whether to enable support of multipart uploads.\r\n    spring.servlet.multipart.file-size-threshold=0B # Threshold after which files are written to disk.\r\n    spring.servlet.multipart.location= # Intermediate location of uploaded files.\r\n    spring.servlet.multipart.max-file-size=1MB # Max file size.\r\n    spring.servlet.multipart.max-request-size=10MB # Max request size.\r\n    spring.servlet.multipart.resolve-lazily=false # Whether to resolve the multipart request lazily at the time of file or parameter access.\r\n\r\n","title":"Confusion regarding spring.http.multipart.max-file-size vs spring.servlet.multipart.max-file-size","body":"<p>They had changed the property names in different versions.</p>\n\n<p><strong>Spring Boot 1.3.x and earlier</strong></p>\n\n<pre><code>multipart.max-file-size\nmultipart.max-request-size\n</code></pre>\n\n<p><strong>After Spring Boot 1.3.x:</strong></p>\n\n<pre><code>spring.http.multipart.max-file-size=-1\nspring.http.multipart.max-request-size=-1\n</code></pre>\n\n<p><strong>After Spring Boot 2.0:</strong></p>\n\n<pre><code>spring.servlet.multipart.max-file-size=-1\nspring.servlet.multipart.max-request-size=-1\n</code></pre>\n\n<hr>\n\n<blockquote>\n  <p>max-file-size Vs max-request-size</p>\n</blockquote>\n\n<p>spring.servlet.multipart.max-file-size = 2MB</p>\n\n<p><strong>Max size per file the upload supports is 2MB;</strong> </p>\n\n<p>also supports the MB or KB suffixes; \nby default 1MB</p>\n\n<hr>\n\n<pre><code>spring.servlet.multipart.max-request-size=10MB \n</code></pre>\n\n<p><strong>max size of the whole request is 10MB;</strong> </p>\n\n<p>also supports the MB or KB suffixes</p>\n\n<p>For unlimited upload file size, It seems setting <code>-1</code> will make it for infinite file size.</p>\n\n<hr>\n\n<p><strong>UPDATE:</strong>\nYou don't need to specify any <code>spring.** property</code> at Controller Level (expect headers Content-Type in some case). You can set these properties in <code>appilcation.properties</code> file as below.</p>\n\n<pre><code># MULTIPART (MultipartProperties)\nspring.servlet.multipart.enabled=true # Whether to enable support of multipart uploads.\nspring.servlet.multipart.file-size-threshold=0B # Threshold after which files are written to disk.\nspring.servlet.multipart.location= # Intermediate location of uploaded files.\nspring.servlet.multipart.max-file-size=1MB # Max file size.\nspring.servlet.multipart.max-request-size=10MB # Max request size.\nspring.servlet.multipart.resolve-lazily=false # Whether to resolve the multipart request lazily at the time of file or parameter access.\n</code></pre>\n"}],"owner":{"account_id":1701977,"reputation":513,"user_id":1561783,"accept_rate":44,"display_name":"user1561783"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10989,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":56225175,"answer_count":1,"score":11,"last_activity_date":1674466381,"creation_date":1558361844,"question_id":56222833,"body_markdown":"I have spent days wasted getting Spring Boot Upload file to work but, as is always with Spring you have no clue how the magic works and even after years of working with this framework - you have to google tonnes of times to unravel what has gone wrong and solve things like as if you are going thru a maze,it&#39;s a maintainability nightmare.\r\n\r\nUsing Spring Boot 2.2.0.M3 for file uploads what is the difference between the 2 pair&#39;s of settings ? Which is right ?\r\n\r\n    spring.http.multipart.max-file-size=-1\r\n    spring.http.multipart.max-request-size=-1\r\n\r\n***Is the above &quot;http&quot; used with Spring REST controller methods namely like this ...\r\n@GetMapping(&quot;/files/{filename:.+}&quot;)\r\n@ResponseBody\r\npublic ModelAndView yourMethod(.....)\r\nOr is this not needed at all and is a complete red-herring and it is the setting below that does all the work for files bigger than the default of 1MB for both REST http or Servlet requests.***\r\n\r\n    spring.servlet.multipart.max-file-size=-1\r\n    spring.servlet.multipart.max-request-size=-1\r\n\r\nException on uploading\r\n======================\r\nMaximum upload size exceeded; nested exception is java.lang.IllegalStateException: org.apache.tomcat.util.http.fileupload.FileUploadBase$FileSizeLimitExceededException: The field file exceeds its maximum permitted size of 1048576 bytes.","title":"Confusion regarding spring.http.multipart.max-file-size vs spring.servlet.multipart.max-file-size","body":"<p>I have spent days wasted getting Spring Boot Upload file to work but, as is always with Spring you have no clue how the magic works and even after years of working with this framework - you have to google tonnes of times to unravel what has gone wrong and solve things like as if you are going thru a maze,it's a maintainability nightmare.</p>\n\n<p>Using Spring Boot 2.2.0.M3 for file uploads what is the difference between the 2 pair's of settings ? Which is right ?</p>\n\n<pre><code>spring.http.multipart.max-file-size=-1\nspring.http.multipart.max-request-size=-1\n</code></pre>\n\n<p><strong><em>Is the above \"http\" used with Spring REST controller methods namely like this ...\n@GetMapping(\"/files/{filename:.+}\")\n@ResponseBody\npublic ModelAndView yourMethod(.....)\nOr is this not needed at all and is a complete red-herring and it is the setting below that does all the work for files bigger than the default of 1MB for both REST http or Servlet requests.</em></strong></p>\n\n<pre><code>spring.servlet.multipart.max-file-size=-1\nspring.servlet.multipart.max-request-size=-1\n</code></pre>\n\n<h1>Exception on uploading</h1>\n\n<p>Maximum upload size exceeded; nested exception is java.lang.IllegalStateException: org.apache.tomcat.util.http.fileupload.FileUploadBase$FileSizeLimitExceededException: The field file exceeds its maximum permitted size of 1048576 bytes.</p>\n"},{"tags":["java","validation","datetime"],"comments":[{"owner":{"account_id":329906,"reputation":12901,"user_id":653708,"accept_rate":90,"display_name":"8bitjunkie"},"score":2,"creation_date":1386940701,"post_id":14194290,"comment_id":30762558,"body_markdown":"Your question has attracted a lot of answers which recommend the SimpleDateFormat class. Be careful with this. To give two examples, the parse() method cannot detect errornous months (i.e. 13th month) and the format for year can be burst with longer years. You can&#39;t *just validate* a Date with this class. It depends on *what* you want to validate.","body":"Your question has attracted a lot of answers which recommend the SimpleDateFormat class. Be careful with this. To give two examples, the parse() method cannot detect errornous months (i.e. 13th month) and the format for year can be burst with longer years. You can&#39;t <i>just validate</i> a Date with this class. It depends on <i>what</i> you want to validate."},{"owner":{"account_id":406441,"reputation":32619,"user_id":775954,"accept_rate":85,"display_name":"Matthias Braun"},"score":0,"creation_date":1674466101,"post_id":14194290,"comment_id":132711972,"body_markdown":"See also [this answer](https://stackoverflow.com/questions/226910/how-to-sanity-check-a-date-in-java) for more ways to validate a date in Java.","body":"See also <a href=\"https://stackoverflow.com/questions/226910/how-to-sanity-check-a-date-in-java\">this answer</a> for more ways to validate a date in Java."}],"answers":[{"comments":[{"owner":{"account_id":1598029,"reputation":499,"user_id":1479668,"accept_rate":36,"display_name":"magulla"},"score":1,"creation_date":1490718417,"post_id":14194315,"comment_id":73233438,"body_markdown":"it is wrong !! \nIf instead of &quot;07-01-2013&quot; your input will be &quot;07-01-017&quot; or &quot;07-01-2ooo&quot;\nyou would not get exception, but the format is wrong","body":"it is wrong !!  If instead of &quot;07-01-2013&quot; your input will be &quot;07-01-017&quot; or &quot;07-01-2ooo&quot; you would not get exception, but the format is wrong"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1626179059,"post_id":14194315,"comment_id":120818984,"body_markdown":"For new readers to this question and/or this answer I recommend we don’t use `SimpleDateFormat` and `Date`. Those classes are poorly designed and long outdated, the former in particular notoriously troublesome. Instead use `LocalDate` and `DateTimeFormatter`, both from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/).","body":"For new readers to this question and/or this answer I recommend we don’t use <code>SimpleDateFormat</code> and <code>Date</code>. Those classes are poorly designed and long outdated, the former in particular notoriously troublesome. Instead use <code>LocalDate</code> and <code>DateTimeFormatter</code>, both from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>."}],"tags":[],"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"comment_count":2,"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1626179767,"creation_date":1357555591,"answer_id":14194315,"question_id":14194290,"body_markdown":"Like this:\r\n\r\n    Date date = null;\r\n    String inputDate = &quot;07-01-2013&quot;;\r\n    try {\r\n        DateFormat formatter = new SimpleDateFormat(&quot;dd-MM-yyyy&quot;);\r\n        formatter.setLenient(false);\r\n        date = formatter.parse(inputDate);\r\n    } catch (ParseException e) { \r\n        e.printStackTrace();\r\n    }\r\n\r\nUpdated on 13-Jul-2021:\r\n\r\nI heartily agree with Ole V.V.&#39;s comment below.  All Java and Kotlin developers should prefer the java.time package.\r\n\r\nI&#39;ll add a more modern example when time permits.\r\n\r\n","title":"Validating a date in Java","body":"<p>Like this:</p>\n<pre><code>Date date = null;\nString inputDate = &quot;07-01-2013&quot;;\ntry {\n    DateFormat formatter = new SimpleDateFormat(&quot;dd-MM-yyyy&quot;);\n    formatter.setLenient(false);\n    date = formatter.parse(inputDate);\n} catch (ParseException e) { \n    e.printStackTrace();\n}\n</code></pre>\n<p>Updated on 13-Jul-2021:</p>\n<p>I heartily agree with Ole V.V.'s comment below.  All Java and Kotlin developers should prefer the java.time package.</p>\n<p>I'll add a more modern example when time permits.</p>\n"},{"tags":[],"owner":{"account_id":351195,"reputation":15829,"user_id":687514,"display_name":"Anders R. Bystrup"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1411091417,"creation_date":1357555614,"answer_id":14194323,"question_id":14194290,"body_markdown":"Have a look at [`SimpleDateFormat.parse(...)`][1] and do remember to surround with try-catch.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/text/SimpleDateFormat.html#parse%28java.lang.String,%20java.text.ParsePosition%29","title":"Validating a date in Java","body":"<p>Have a look at <a href=\"http://docs.oracle.com/javase/6/docs/api/java/text/SimpleDateFormat.html#parse%28java.lang.String,%20java.text.ParsePosition%29\" rel=\"nofollow\"><code>SimpleDateFormat.parse(...)</code></a> and do remember to surround with try-catch.</p>\n"},{"comments":[{"owner":{"account_id":351195,"reputation":15829,"user_id":687514,"display_name":"Anders R. Bystrup"},"score":0,"creation_date":1357555905,"post_id":14194348,"comment_id":19677719,"body_markdown":"Cf. `Prompt =&quot;please enter a date in the format dd-mm-yyyy&quot;` :-)","body":"Cf. <code>Prompt =&quot;please enter a date in the format dd-mm-yyyy&quot;</code> :-)"},{"owner":{"account_id":1598029,"reputation":499,"user_id":1479668,"accept_rate":36,"display_name":"magulla"},"score":1,"creation_date":1490718492,"post_id":14194348,"comment_id":73233471,"body_markdown":"it is wrong !! \nIf instead of &quot;07-01-2013&quot; your input will be &quot;07-01-017&quot; or &quot;07-01-2ooo&quot;\nyou would not get exception, but the format is wrong","body":"it is wrong !!  If instead of &quot;07-01-2013&quot; your input will be &quot;07-01-017&quot; or &quot;07-01-2ooo&quot; you would not get exception, but the format is wrong"}],"tags":[],"owner":{"account_id":1025295,"reputation":46067,"user_id":1034737,"accept_rate":80,"display_name":"PermGenError"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1357555719,"creation_date":1357555719,"answer_id":14194348,"question_id":14194290,"body_markdown":"You should use [`SimpleDateFormat.parse(String)`][1] method. if the passed date is of wrong format it throws an exception in which case you return false.\r\n\r\n    public boolean validateDate(String date) {\r\n    \tSimpleDateFormat sdf = new SimpleDateFormat(&quot;dd-MM-yyyy&quot;);\r\n    \ttry {\r\n    \t\tsdf.parse(date);\r\n    \t\treturn true;\r\n    \t}\r\n    \tcatch(ParseException ex) {\r\n    \t\treturn false;\r\n    \t}\r\n    }\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/text/SimpleDateFormat.html#parse%28java.lang.String,%20java.text.ParsePosition%29","title":"Validating a date in Java","body":"<p>You should use <a href=\"http://docs.oracle.com/javase/6/docs/api/java/text/SimpleDateFormat.html#parse%28java.lang.String,%20java.text.ParsePosition%29\" rel=\"nofollow\"><code>SimpleDateFormat.parse(String)</code></a> method. if the passed date is of wrong format it throws an exception in which case you return false.</p>\n\n<pre><code>public boolean validateDate(String date) {\n    SimpleDateFormat sdf = new SimpleDateFormat(\"dd-MM-yyyy\");\n    try {\n        sdf.parse(date);\n        return true;\n    }\n    catch(ParseException ex) {\n        return false;\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":329906,"reputation":12901,"user_id":653708,"accept_rate":90,"display_name":"8bitjunkie"},"score":1,"creation_date":1386940212,"post_id":14194353,"comment_id":30762298,"body_markdown":"If you use &quot;dd/MM/yyyy&quot; as a pattern with SimpleDateFormat and input the date as &quot;13/13/2013&quot; for example, the parse method will return a java.util.Date with the date 13/01/2014. Beware and DO NOT use the standard JDK classes below Java 8 for Date calculation.","body":"If you use &quot;dd/MM/yyyy&quot; as a pattern with SimpleDateFormat and input the date as &quot;13/13/2013&quot; for example, the parse method will return a java.util.Date with the date 13/01/2014. Beware and DO NOT use the standard JDK classes below Java 8 for Date calculation."}],"tags":[],"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1357555743,"creation_date":1357555743,"answer_id":14194353,"question_id":14194290,"body_markdown":"The standard JDK class for that is [SimpleDateFormat][1]:\r\n\r\n    DateFormat fmt = new SimpleDateFormat(&quot;yourformathere&quot;);\r\n\r\n    // use fmt.parse() to check for validity\r\n\r\nAlternatively, I&#39;d recommend using [Joda Time][2]&#39;s `DateTimeFormat`.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html\r\n  [2]: http://joda-time.sourceforge.net","title":"Validating a date in Java","body":"<p>The standard JDK class for that is <a href=\"http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html\" rel=\"nofollow\">SimpleDateFormat</a>:</p>\n\n<pre><code>DateFormat fmt = new SimpleDateFormat(\"yourformathere\");\n\n// use fmt.parse() to check for validity\n</code></pre>\n\n<p>Alternatively, I'd recommend using <a href=\"http://joda-time.sourceforge.net\" rel=\"nofollow\">Joda Time</a>'s <code>DateTimeFormat</code>.</p>\n"},{"comments":[{"owner":{"account_id":329906,"reputation":12901,"user_id":653708,"accept_rate":90,"display_name":"8bitjunkie"},"score":2,"creation_date":1386940527,"post_id":14194772,"comment_id":30762475,"body_markdown":"Warning: Date testDate = DateValidator.getInstance().validate(&quot;25/13/2013&quot;, &quot;dd/MM/yyyy&quot;) correctly identifies that 13 is not a valid month but Date testDate = DateValidator.getInstance().validate(&quot;25/13/2013456&quot;, &quot;dd/MM/yyyy&quot;); returns as a valid date despite the mask only allowing 4 characters.","body":"Warning: Date testDate = DateValidator.getInstance().validate(&quot;25/13/2013&quot;, &quot;dd/MM/yyyy&quot;) correctly identifies that 13 is not a valid month but Date testDate = DateValidator.getInstance().validate(&quot;25/13/2013456&quot;, &quot;dd/MM/yyyy&quot;); returns as a valid date despite the mask only allowing 4 characters."}],"tags":[],"owner":{"account_id":132618,"reputation":44018,"user_id":333426,"display_name":"Roy"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1357557295,"creation_date":1357557295,"answer_id":14194772,"question_id":14194290,"body_markdown":"Rather than relying on exceptions which tend to have a small performance overhead, you can also use the [DateValidator][1] from the Apache commons routines package like this:\r\n\r\n    if (DateValidator.getInstance().validate(inputDate, &quot;dd-MM-yyyy&quot;) != null) {\r\n      // Date is valid\r\n    }\r\n    else {\r\n      // Date is invalid\r\n    }\r\n\r\nSmall disclaimer though, I haven&#39;t looked at the implementation of the validate method and I&#39;m not sure if it uses for instance the SimpleDateFormat...\r\n\r\n  [1]: http://commons.apache.org/validator/apidocs/org/apache/commons/validator/routines/DateValidator.html","title":"Validating a date in Java","body":"<p>Rather than relying on exceptions which tend to have a small performance overhead, you can also use the <a href=\"http://commons.apache.org/validator/apidocs/org/apache/commons/validator/routines/DateValidator.html\" rel=\"nofollow\">DateValidator</a> from the Apache commons routines package like this:</p>\n\n<pre><code>if (DateValidator.getInstance().validate(inputDate, \"dd-MM-yyyy\") != null) {\n  // Date is valid\n}\nelse {\n  // Date is invalid\n}\n</code></pre>\n\n<p>Small disclaimer though, I haven't looked at the implementation of the validate method and I'm not sure if it uses for instance the SimpleDateFormat...</p>\n"},{"tags":[],"owner":{"account_id":1590496,"reputation":1304,"user_id":1473907,"accept_rate":73,"display_name":"mcacorner"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1544677726,"creation_date":1544677726,"answer_id":53755304,"question_id":14194290,"body_markdown":"One can use [joda-time][1].\r\n\r\n    DateTimeFormat.forPattern(INPUTED_DATE_FORMAT);\r\n    //one can also use it with locale\r\n    DateTimeFormat.forPattern(USER_DATE_FORMAT).withLocale(locale);\r\n    fmt.parseDateTime(INPUTED_DATE);\r\n\r\nIf `parseDateTime` throw `IllegalArgumentException` then date is not valid.\r\n\r\n  [1]: https://www.joda.org/joda-time/userguide.html","title":"Validating a date in Java","body":"<p>One can use <a href=\"https://www.joda.org/joda-time/userguide.html\" rel=\"nofollow noreferrer\">joda-time</a>.</p>\n\n<pre><code>DateTimeFormat.forPattern(INPUTED_DATE_FORMAT);\n//one can also use it with locale\nDateTimeFormat.forPattern(USER_DATE_FORMAT).withLocale(locale);\nfmt.parseDateTime(INPUTED_DATE);\n</code></pre>\n\n<p>If <code>parseDateTime</code> throw <code>IllegalArgumentException</code> then date is not valid.</p>\n"},{"tags":[],"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1626185112,"creation_date":1626178538,"answer_id":68362223,"question_id":14194290,"body_markdown":"## java.time\r\n\r\nI recommend that you use java.time, the modern Java date and time API, for your date work. It also gives you much preciser validation than the old `SimpleDateFormat` class used in some of the other answers.\r\n\r\n\t\tString[] exampleInputStrings = { &quot;07-01-2013&quot;, &quot;07-01-017&quot;,\r\n\t\t\t\t&quot;07-01-2ooo&quot;, &quot;32-01-2017&quot;, &quot;7-1-2013&quot;, &quot;07-01-2013 blabla&quot; };\r\n\t\t\r\n\t\tfor (String inputDate : exampleInputStrings) {\r\n\t\t\ttry {\r\n\t\t\t\tLocalDate date = LocalDate.parse(inputDate, DATE_FORMATTER);\r\n\t\t\t\tSystem.out.println(inputDate + &quot;: valid date: &quot; + date );\r\n\t\t\t} catch (DateTimeParseException dtpe) {\r\n\t\t\t\tSystem.out.println(inputDate + &quot;: invalid date: &quot; + dtpe.getMessage());\r\n\t\t\t}\r\n\t\t}\r\n\r\nOutput from my example code is:\r\n\r\n&gt;     07-01-2013: valid date: 2013-01-07\r\n&gt;     07-01-017: invalid date: Text &#39;07-01-017&#39; could not be parsed at index 6\r\n&gt;     07-01-2ooo: invalid date: Text &#39;07-01-2ooo&#39; could not be parsed at index 6\r\n&gt;     32-01-2017: invalid date: Text &#39;32-01-2017&#39; could not be parsed: Invalid value for DayOfMonth (valid values 1 - 28/31): 32\r\n&gt;     7-1-2013: invalid date: Text &#39;7-1-2013&#39; could not be parsed at index 0\r\n&gt;     07-01-2013 blabla: invalid date: Text &#39;07-01-2013 blabla&#39; could not be parsed, unparsed text found at index 10\r\n\r\nFor a good validation you should probably add a range check. Use the `isBefore` and/or the `isAfter` method of `LocalDate`.\r\n\r\nAlso if you are going to do anything with the date more than validating it, you should keep the `LocalDate` from the parsing around in your program (not the string).\r\n\r\n## Link\r\n\r\n[Oracle tutorial: Date Time](https://docs.oracle.com/javase/tutorial/datetime/) explaining how to use java.time.\r\n","title":"Validating a date in Java","body":"<h2 id=\"java.time-kn09\">java.time</h2>\n<p>I recommend that you use java.time, the modern Java date and time API, for your date work. It also gives you much preciser validation than the old <code>SimpleDateFormat</code> class used in some of the other answers.</p>\n<pre><code>    String[] exampleInputStrings = { &quot;07-01-2013&quot;, &quot;07-01-017&quot;,\n            &quot;07-01-2ooo&quot;, &quot;32-01-2017&quot;, &quot;7-1-2013&quot;, &quot;07-01-2013 blabla&quot; };\n    \n    for (String inputDate : exampleInputStrings) {\n        try {\n            LocalDate date = LocalDate.parse(inputDate, DATE_FORMATTER);\n            System.out.println(inputDate + &quot;: valid date: &quot; + date );\n        } catch (DateTimeParseException dtpe) {\n            System.out.println(inputDate + &quot;: invalid date: &quot; + dtpe.getMessage());\n        }\n    }\n</code></pre>\n<p>Output from my example code is:</p>\n<blockquote>\n<pre><code>07-01-2013: valid date: 2013-01-07\n07-01-017: invalid date: Text '07-01-017' could not be parsed at index 6\n07-01-2ooo: invalid date: Text '07-01-2ooo' could not be parsed at index 6\n32-01-2017: invalid date: Text '32-01-2017' could not be parsed: Invalid value for DayOfMonth (valid values 1 - 28/31): 32\n7-1-2013: invalid date: Text '7-1-2013' could not be parsed at index 0\n07-01-2013 blabla: invalid date: Text '07-01-2013 blabla' could not be parsed, unparsed text found at index 10\n</code></pre>\n</blockquote>\n<p>For a good validation you should probably add a range check. Use the <code>isBefore</code> and/or the <code>isAfter</code> method of <code>LocalDate</code>.</p>\n<p>Also if you are going to do anything with the date more than validating it, you should keep the <code>LocalDate</code> from the parsing around in your program (not the string).</p>\n<h2 id=\"link-eaub\">Link</h2>\n<p><a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">Oracle tutorial: Date Time</a> explaining how to use java.time.</p>\n"}],"owner":{"account_id":2213537,"reputation":41,"user_id":1954746,"display_name":"user1954746"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48923,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":7,"score":4,"last_activity_date":1674466217,"creation_date":1357555467,"question_id":14194290,"body_markdown":"I am using NetBeans IDE 7.2.\r\nI have two separate classes `newDateTest.java` and `newDateMethod.java`, I am currently using my method class to validate a date from a user input which I have used in my test class.\r\n\r\nSo far in my test class I have the following:\r\n\r\n    try\r\n    {\r\n        Prompt =&quot;please enter a date in the format dd-mm-yyyy&quot;;\r\n        System.out.println(Prompt);\r\n        String inputDate = in.next();\r\n        isValid = newDateMethod.validDate(input, input, input);\r\n        if (isValid){\r\n            System.out.println(&quot;VALID DATE&quot;);\r\n            \r\n        } else {\r\n            System.out.println(&quot;INVALID DATE&quot;);\r\n        \r\n        }\r\n        \r\n    } catch (ArrayIndexOutOfBoundsException oob) {\r\n        System.out.println(oob);\r\n    }\r\n    \r\n\r\nHowever I have no idea how to validate the date in my method class as I am fairly new to Java.\r\n\r\nCan anyone come to a solution? The sort of thing I&#39;ve been taught to use is Date Formatter but I&#39;m not sure whether this is appropriate here? If so, I wouldn&#39;t know how to use it\r\n","title":"Validating a date in Java","body":"<p>I am using NetBeans IDE 7.2.\nI have two separate classes <code>newDateTest.java</code> and <code>newDateMethod.java</code>, I am currently using my method class to validate a date from a user input which I have used in my test class.</p>\n<p>So far in my test class I have the following:</p>\n<pre><code>try\n{\n    Prompt =&quot;please enter a date in the format dd-mm-yyyy&quot;;\n    System.out.println(Prompt);\n    String inputDate = in.next();\n    isValid = newDateMethod.validDate(input, input, input);\n    if (isValid){\n        System.out.println(&quot;VALID DATE&quot;);\n        \n    } else {\n        System.out.println(&quot;INVALID DATE&quot;);\n    \n    }\n    \n} catch (ArrayIndexOutOfBoundsException oob) {\n    System.out.println(oob);\n}\n</code></pre>\n<p>However I have no idea how to validate the date in my method class as I am fairly new to Java.</p>\n<p>Can anyone come to a solution? The sort of thing I've been taught to use is Date Formatter but I'm not sure whether this is appropriate here? If so, I wouldn't know how to use it</p>\n"},{"tags":["java","twilio","twilio-functions","twilio-programmable-voice"],"answers":[{"comments":[{"owner":{"account_id":14980452,"reputation":65,"user_id":11817022,"display_name":"Tech Guy"},"score":0,"creation_date":1674481937,"post_id":75207544,"comment_id":132716800,"body_markdown":"Thank you very much for the answer. I see previous answers are missing now may be deleted.","body":"Thank you very much for the answer. I see previous answers are missing now may be deleted."}],"tags":[],"owner":{"account_id":4723783,"reputation":2524,"user_id":3821022,"display_name":"IObert"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674465858,"creation_date":1674465858,"answer_id":75207544,"question_id":75196704,"body_markdown":"The code block in your question triggers an outgoing call, which is why it doesn&#39;t work to handle incoming calls (and because the third parameter should contain TwiML and not a phone number).\r\n\r\nTo handle incoming calls with business logic, you need to implement a webhook that returns TwiML. Use the [`&lt;Dial&gt;` Tag](https://www.twilio.com/docs/voice/twiml/dial) in this TwiML response to initiate the call forwarding. Check out [this tutorial](https://www.twilio.com/docs/voice/tutorials/how-to-respond-to-incoming-phone-calls/java) to learn more about this.\r\n\r\nThe proper code should go like this:\r\n```java\r\nimport com.twilio.twiml.voice.Dial;\r\nimport com.twilio.twiml.VoiceResponse;\r\nimport com.twilio.twiml.voice.Say;\r\nimport com.twilio.twiml.TwiMLException;\r\n\r\n\r\npublic class Example {\r\n    public static void main(String[] args) {\r\n        Dial dial = new Dial.Builder(&quot;415-123-4567&quot;).build();\r\n        Say say = new Say.Builder(&quot;Goodbye&quot;).build();\r\n        VoiceResponse response = new VoiceResponse.Builder().dial(dial)\r\n            .say(say).build();\r\n\r\n        try {\r\n            System.out.println(response.toXml());\r\n        } catch (TwiMLException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\n","title":"How to forward an incoming call to a Twilio number to another number?","body":"<p>The code block in your question triggers an outgoing call, which is why it doesn't work to handle incoming calls (and because the third parameter should contain TwiML and not a phone number).</p>\n<p>To handle incoming calls with business logic, you need to implement a webhook that returns TwiML. Use the <a href=\"https://www.twilio.com/docs/voice/twiml/dial\" rel=\"nofollow noreferrer\"><code>&lt;Dial&gt;</code> Tag</a> in this TwiML response to initiate the call forwarding. Check out <a href=\"https://www.twilio.com/docs/voice/tutorials/how-to-respond-to-incoming-phone-calls/java\" rel=\"nofollow noreferrer\">this tutorial</a> to learn more about this.</p>\n<p>The proper code should go like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.twilio.twiml.voice.Dial;\nimport com.twilio.twiml.VoiceResponse;\nimport com.twilio.twiml.voice.Say;\nimport com.twilio.twiml.TwiMLException;\n\n\npublic class Example {\n    public static void main(String[] args) {\n        Dial dial = new Dial.Builder(&quot;415-123-4567&quot;).build();\n        Say say = new Say.Builder(&quot;Goodbye&quot;).build();\n        VoiceResponse response = new VoiceResponse.Builder().dial(dial)\n            .say(say).build();\n\n        try {\n            System.out.println(response.toXml());\n        } catch (TwiMLException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":14980452,"reputation":65,"user_id":11817022,"display_name":"Tech Guy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":318,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75207544,"answer_count":1,"score":1,"last_activity_date":1674465858,"creation_date":1674336710,"question_id":75196704,"body_markdown":"I need to forward incoming calls to my Twilio number to a personal number. I need to do this by Java code because I have a few other Business logic executing when TwiMl App redirect the request and because of that, I can&#39;t use Twilio Studio.\r\n\r\nI tried a few ways but didn&#39;t work and can&#39;t make the following method work. I think these are deprecated now,\r\n\r\n    Call call = Call.creator(\r\n    \tnew PhoneNumber(TWILIO_NUMBER),\r\n    \tnew PhoneNumber(FORWARD_TO),\r\n    \tnew PhoneNumber(TWILIO_NUMBER)\r\n    ).create();\r\n\r\nAnd even following `redirect()` method is also not there now.\r\n\r\n    Call.updater(&quot;call-sid&quot;)\r\n    \t.redirect(FORWARD_TO).update();\r\n\t\r\nSo what I need is when a call comes to my Twilio number then that call should be forwarded to my personal number. So how to do this? Can anybody help me? Thanks in advance.","title":"How to forward an incoming call to a Twilio number to another number?","body":"<p>I need to forward incoming calls to my Twilio number to a personal number. I need to do this by Java code because I have a few other Business logic executing when TwiMl App redirect the request and because of that, I can't use Twilio Studio.</p>\n<p>I tried a few ways but didn't work and can't make the following method work. I think these are deprecated now,</p>\n<pre><code>Call call = Call.creator(\n    new PhoneNumber(TWILIO_NUMBER),\n    new PhoneNumber(FORWARD_TO),\n    new PhoneNumber(TWILIO_NUMBER)\n).create();\n</code></pre>\n<p>And even following <code>redirect()</code> method is also not there now.</p>\n<pre><code>Call.updater(&quot;call-sid&quot;)\n    .redirect(FORWARD_TO).update();\n</code></pre>\n<p>So what I need is when a call comes to my Twilio number then that call should be forwarded to my personal number. So how to do this? Can anybody help me? Thanks in advance.</p>\n"},{"tags":["java","ruby","jar","weblogic","jruby"],"comments":[{"owner":{"account_id":178805,"reputation":49359,"user_id":411022,"display_name":"Ilmari Karonen"},"score":1,"creation_date":1674500358,"post_id":75207537,"comment_id":132722941,"body_markdown":"The `gem &#39;jruby-jars&#39;, &#39;1.7.4&#39;` looks just wrong to me, if you&#39;re trying to run JRuby 9.4. But I have no idea if the error you&#39;re getting has anything to do with that. (Also, as a tangential warning, I&#39;d recommend either sticking with JRuby 9.3.9.0 for now or waiting for 9.4.1.0, which should fix a bunch of bugs still present in 9.4.0.0 such as random ArgumentErrors due to [a JIT bug](https://github.com/jruby/jruby/commit/129bd6312839fed1e7054af22607bbcd09b8ec21).)","body":"The <code>gem &#39;jruby-jars&#39;, &#39;1.7.4&#39;</code> looks just wrong to me, if you&#39;re trying to run JRuby 9.4. But I have no idea if the error you&#39;re getting has anything to do with that. (Also, as a tangential warning, I&#39;d recommend either sticking with JRuby 9.3.9.0 for now or waiting for 9.4.1.0, which should fix a bunch of bugs still present in 9.4.0.0 such as random ArgumentErrors due to <a href=\"https://github.com/jruby/jruby/commit/129bd6312839fed1e7054af22607bbcd09b8ec21\" rel=\"nofollow noreferrer\">a JIT bug</a>.)"}],"owner":{"account_id":25603254,"reputation":27,"user_id":19377836,"display_name":"Antonino Scarpelli"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1674465820,"creation_date":1674465820,"question_id":75207537,"body_markdown":"When i deploy a war with JRuby 9.4.0.0 on Weblogic **12.2.1.4** i get the following error:\r\n\r\n&gt; resetting rack response due exception: org.jruby.rack.RackInitializationException: No such file or directory - C:/logs/oracle/wls/app/app.log from org/jruby/RubyIO.java:1255:in &#39;sysopen&#39; from org/jruby/RubyFile.java:362:in &#39;initialize&#39; from org/jruby/RubyClass.java:931:in &#39;new&#39; from org/jruby/RubyIO.java:1174:in &#39;open&#39; from...\r\n\r\nIs it a problem of compatibility between jar files? It works with JRuby 1.7.4 and Weblogic 12.1.3.\r\n\r\nVersions in **Gemfile**:\r\n\r\n    ruby &#39;3.1.0&#39;\r\n    \r\n    #hardcoded version for Weblogic joda-time bug\r\n    gem &#39;jruby-jars&#39;, &#39;1.7.4&#39;\r\n\r\n**Jar Files** in my *WEB-INF/lib* folder:\r\n\r\n - jruby-complete-9.4.0.0.jar\r\n - jruby-rack-1.1.22.jar\r\n - kryptcore.jar\r\n - kryptproviderjdk.jar\r\n - ojdbc6.jar\r\n\r\nI **removed** the following jars, moving from Weblogic 12.1.3 (it works with this old version of the server):\r\n\r\n - jruby-rack-1.1.14\r\n - jruby-core-1.7.4\r\n - bcprov-jdk15on-1.47\r\n - bcpkix-jdk15on-1.47\r\n - jopenssl\r\n\r\nBecause of issues with bouncycastle (bcprov and bcpkix jars), and i added *jruby-complete* that should include *jruby-core* and *jopenssl* libs.","title":"JRuby and Weblogic 12.2.1.4 compatibility issues","body":"<p>When i deploy a war with JRuby 9.4.0.0 on Weblogic <strong>12.2.1.4</strong> i get the following error:</p>\n<blockquote>\n<p>resetting rack response due exception: org.jruby.rack.RackInitializationException: No such file or directory - C:/logs/oracle/wls/app/app.log from org/jruby/RubyIO.java:1255:in 'sysopen' from org/jruby/RubyFile.java:362:in 'initialize' from org/jruby/RubyClass.java:931:in 'new' from org/jruby/RubyIO.java:1174:in 'open' from...</p>\n</blockquote>\n<p>Is it a problem of compatibility between jar files? It works with JRuby 1.7.4 and Weblogic 12.1.3.</p>\n<p>Versions in <strong>Gemfile</strong>:</p>\n<pre><code>ruby '3.1.0'\n\n#hardcoded version for Weblogic joda-time bug\ngem 'jruby-jars', '1.7.4'\n</code></pre>\n<p><strong>Jar Files</strong> in my <em>WEB-INF/lib</em> folder:</p>\n<ul>\n<li>jruby-complete-9.4.0.0.jar</li>\n<li>jruby-rack-1.1.22.jar</li>\n<li>kryptcore.jar</li>\n<li>kryptproviderjdk.jar</li>\n<li>ojdbc6.jar</li>\n</ul>\n<p>I <strong>removed</strong> the following jars, moving from Weblogic 12.1.3 (it works with this old version of the server):</p>\n<ul>\n<li>jruby-rack-1.1.14</li>\n<li>jruby-core-1.7.4</li>\n<li>bcprov-jdk15on-1.47</li>\n<li>bcpkix-jdk15on-1.47</li>\n<li>jopenssl</li>\n</ul>\n<p>Because of issues with bouncycastle (bcprov and bcpkix jars), and i added <em>jruby-complete</em> that should include <em>jruby-core</em> and <em>jopenssl</em> libs.</p>\n"},{"tags":["java","windows","java-print","windows-driver"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1674209505,"post_id":75182561,"comment_id":132669714,"body_markdown":"can you show the entire stacktrace?","body":"can you show the entire stacktrace?"},{"owner":{"account_id":25126031,"reputation":63,"user_id":18973819,"display_name":"Mirai"},"score":0,"creation_date":1674210223,"post_id":75182561,"comment_id":132669939,"body_markdown":"i have shown everything appering on the console","body":"i have shown everything appering on the console"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1674210530,"post_id":75182561,"comment_id":132670045,"body_markdown":"that &#39;s only a very small part of a stacktrace ... how did you get it to print only that?","body":"that &#39;s only a very small part of a stacktrace ... how did you get it to print only that?"},{"owner":{"account_id":25126031,"reputation":63,"user_id":18973819,"display_name":"Mirai"},"score":0,"creation_date":1674210873,"post_id":75182561,"comment_id":132670165,"body_markdown":"i have edited the code including my catch clauses, but really, everything i get is the exception i have shared in the question","body":"i have edited the code including my catch clauses, but really, everything i get is the exception i have shared in the question"},{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":0,"creation_date":1674210961,"post_id":75182561,"comment_id":132670195,"body_markdown":"It’s not surprising that the error doesn’t happen on Linux, since it is triggered in Win32PrintJob.  The source is at https://github.com/frohoff/jdk8u-jdk/blob/master/src/windows/classes/sun/print/Win32PrintJob.java  , with that message at line 478.  Unfortunately there’s no clue as to the cause beyond that the native method `printRawData` failed.","body":"It’s not surprising that the error doesn’t happen on Linux, since it is triggered in Win32PrintJob.  The source is at <a href=\"https://github.com/frohoff/jdk8u-jdk/blob/master/src/windows/classes/sun/print/Win32PrintJob.java\" rel=\"nofollow noreferrer\">github.com/frohoff/jdk8u-jdk/blob/master/src/windows/classes&zwnj;&#8203;/&hellip;</a>  , with that message at line 478.  Unfortunately there’s no clue as to the cause beyond that the native method <code>printRawData</code> failed."},{"owner":{"account_id":25126031,"reputation":63,"user_id":18973819,"display_name":"Mirai"},"score":0,"creation_date":1674211173,"post_id":75182561,"comment_id":132670275,"body_markdown":"That&#39;s exactly the point i reached, seeing the problem is in a native method of Win32PrintJob. But how can i success i printing what i must print? I can use some tools to print pdf e ps files, like Ghostscript but what about file written in specific languages like PCL or other printer specific language?","body":"That&#39;s exactly the point i reached, seeing the problem is in a native method of Win32PrintJob. But how can i success i printing what i must print? I can use some tools to print pdf e ps files, like Ghostscript but what about file written in specific languages like PCL or other printer specific language?"},{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":0,"creation_date":1674212203,"post_id":75182561,"comment_id":132670607,"body_markdown":"I wonder if there might be something recorded in the Windows Event Viewer? https://www.digitalcitizen.life/how-start-event-viewer-windows-all-versions/","body":"I wonder if there might be something recorded in the Windows Event Viewer? <a href=\"https://www.digitalcitizen.life/how-start-event-viewer-windows-all-versions/\" rel=\"nofollow noreferrer\">digitalcitizen.life/how-start-event-viewer-windows-all-versi&zwnj;&#8203;ons</a>"},{"owner":{"account_id":25126031,"reputation":63,"user_id":18973819,"display_name":"Mirai"},"score":0,"creation_date":1674212863,"post_id":75182561,"comment_id":132670782,"body_markdown":"I did not know this tool, however i checked using your link, the error is indeed registered:   &quot;Impossibile stampare il documento Stampa documento di propriet&#224; di darmon sulla stampante hp4015. Provare di nuovo a stampare il documento o riavviare lo spooler di stampa. \nTipo di dati: RAW. Dimensione del file di spooling in byte: 70. Numero di byte stampati: 70. Numero totale di pagine nel documento: 1. Numero di pagine stampate: 0. Computer client: \\\\BLPC156. Codice di errore Win32 restituito dal processore di stampa: 2152796175&quot; sorry, language is Italian","body":"I did not know this tool, however i checked using your link, the error is indeed registered:   &quot;Impossibile stampare il documento Stampa documento di propriet&#224; di darmon sulla stampante hp4015. Provare di nuovo a stampare il documento o riavviare lo spooler di stampa.  Tipo di dati: RAW. Dimensione del file di spooling in byte: 70. Numero di byte stampati: 70. Numero totale di pagine nel documento: 1. Numero di pagine stampate: 0. Computer client: \\\\BLPC156. Codice di errore Win32 restituito dal processore di stampa: 2152796175&quot; sorry, language is Italian"},{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":0,"creation_date":1674213931,"post_id":75182561,"comment_id":132671099,"body_markdown":"Fortunately Google Translate was up to the job :D.   I then found that someone else had a chat with Microsoft about this exact error … so I hope it helps but I will have to leave it there - best of luck :) https://social.technet.microsoft.com/Forums/windowsserver/en-US/0e72ba1d-8c80-4e76-88a7-8d48335f78d5/windows-server-2012-printing-error?forum=winserverprint","body":"Fortunately Google Translate was up to the job :D.   I then found that someone else had a chat with Microsoft about this exact error … so I hope it helps but I will have to leave it there - best of luck :) <a href=\"https://social.technet.microsoft.com/Forums/windowsserver/en-US/0e72ba1d-8c80-4e76-88a7-8d48335f78d5/windows-server-2012-printing-error?forum=winserverprint\" rel=\"nofollow noreferrer\">social.technet.microsoft.com/Forums/windowsserver/en-US/&hellip;</a>"},{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":1,"creation_date":1674214411,"post_id":75182561,"comment_id":132671249,"body_markdown":"Oh, of you have questions about installing the right driver, probably the best place to ask would be at StackOverflow’s sister site https://superuser.com/","body":"Oh, of you have questions about installing the right driver, probably the best place to ask would be at StackOverflow’s sister site <a href=\"https://superuser.com/\">superuser.com</a>"},{"owner":{"account_id":25126031,"reputation":63,"user_id":18973819,"display_name":"Mirai"},"score":0,"creation_date":1674220641,"post_id":75182561,"comment_id":132673147,"body_markdown":"My program must be able to print PDF files and file containing printer specific languages. In the first case i am using PDFBox to print, for the second one i have to find some solution because the raw printing is not working. I don&#39;t know Ghostscript PDL, i am using Ghostscript through Ghost4J Java wrapper, i don&#39;t know if i can use Ghostscript PDL the same way","body":"My program must be able to print PDF files and file containing printer specific languages. In the first case i am using PDFBox to print, for the second one i have to find some solution because the raw printing is not working. I don&#39;t know Ghostscript PDL, i am using Ghostscript through Ghost4J Java wrapper, i don&#39;t know if i can use Ghostscript PDL the same way"}],"answers":[{"tags":[],"owner":{"account_id":25126031,"reputation":63,"user_id":18973819,"display_name":"Mirai"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674464919,"creation_date":1674464919,"answer_id":75207395,"question_id":75182561,"body_markdown":"I found out something really interesting.\r\n\r\nThe problem was linked to the HP driver i was using. My PC uses a driver called &quot;HP Laser\\Jet P4014/4015 PCL6 Class Driver&quot;.\r\n\r\nRepeating the test from an other Windows PC, i found out that the exact same code successfully printed. Exploring Printer configuration i found out that the second PC was using driver &quot;HP Universal Printing PCL6&quot;.\r\n\r\nAnd there is more, considering that my code just raw prints data, i tried setting a generic driver like &quot;Generic Text/Only&quot; (that is unsuitable for PCL5 file i guess) and the print is succefull, on both PCs \r\n\r\nSo, in conclusion, i think my original driver was probably something other than sending raw file data to the printer, something that broke the mechanism.\r\n\r\nUsing other drivers, the file is correctly sent to printer in raw mode and everything works fine.","title":"Java program to print raw data in Windows fails","body":"<p>I found out something really interesting.</p>\n<p>The problem was linked to the HP driver i was using. My PC uses a driver called &quot;HP Laser\\Jet P4014/4015 PCL6 Class Driver&quot;.</p>\n<p>Repeating the test from an other Windows PC, i found out that the exact same code successfully printed. Exploring Printer configuration i found out that the second PC was using driver &quot;HP Universal Printing PCL6&quot;.</p>\n<p>And there is more, considering that my code just raw prints data, i tried setting a generic driver like &quot;Generic Text/Only&quot; (that is unsuitable for PCL5 file i guess) and the print is succefull, on both PCs</p>\n<p>So, in conclusion, i think my original driver was probably something other than sending raw file data to the printer, something that broke the mechanism.</p>\n<p>Using other drivers, the file is correctly sent to printer in raw mode and everything works fine.</p>\n"}],"owner":{"account_id":25126031,"reputation":63,"user_id":18973819,"display_name":"Mirai"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75207395,"answer_count":1,"score":0,"last_activity_date":1674464919,"creation_date":1674209463,"question_id":75182561,"body_markdown":"i have been stuck with this problem for a long time.\r\n\r\nI am trying to print a file in Windows sending its raw bytes to printer. Here is the code i am using\r\n\r\n```\r\nPrintService[] printServices = PrintServiceLookup.lookupPrintServices(null, null);\r\n            PrintService defaultPrintService = PrintServiceLookup.lookupDefaultPrintService();\r\n            \r\n            PrintService ps = ServiceUI.printDialog(null, 150, 150,\r\n             printServices, defaultPrintService, null, null);\r\n            if(ps!=null) System.out.println(&quot;selected printer:&quot; +ps.getName());\r\n            else\r\n               System.exit(0);\r\n\r\n            try {\r\n             File test = new File(filename);\r\n             byte[] file_bytes = Files.readAllBytes(test.toPath());\r\n                          \r\n             DocFlavor flavor = DocFlavor.BYTE_ARRAY.AUTOSENSE;\r\n             PrintRequestAttributeSet aset = new HashPrintRequestAttributeSet();\r\n             aset.add(new Copies(1));\r\n\r\n             Doc doc = new SimpleDoc(file_bytes,\r\n                                  flavor, null);\r\n\r\n             DocPrintJob job = ps.createPrintJob();\r\n\r\n             job.print(doc, aset);\r\n} catch(IOException e) {\r\n            e.priprintStackTrace();\r\n         }   catch (PrintException ex) {\r\n                \r\n                ex.printStackTrace();\r\n             }\r\n\r\n```\r\n\r\nHowever, the print gets stuck in status &quot;sent to printer&quot; (checking from windows Printers view). \r\n\r\nIn addition, trying to print with a different printer, i get the following exception\r\n\r\n&gt; javax.print.PrintException: Problem while spooling data\r\n\tat java.desktop/sun.print.Win32PrintJob.print(Win32PrintJob.java:460)\r\n\tat directportprintingtest.DirectPortPrintingTest.&lt;init&gt;(DirectPortPrintingTest.java:91)\r\n\tat directportprintingtest.DirectPortPrintingTest.main(DirectPortPrintingTest.java:45) \r\n\r\n I am having this problem only on Windows, when running same code from my Linux PC the print is succefull (with same printers!) . \r\n\r\nThe files i am trying to print are PDF, PS and file containing specific printer language like PCL5. All of them are printed correctly in Linux/MAC, failing on Windows.\r\n\r\nI really can&#39;t undestand what i am missing, has anyone any clue about this problem and how i can solve it? \r\n\r\n","title":"Java program to print raw data in Windows fails","body":"<p>i have been stuck with this problem for a long time.</p>\n<p>I am trying to print a file in Windows sending its raw bytes to printer. Here is the code i am using</p>\n<pre><code>PrintService[] printServices = PrintServiceLookup.lookupPrintServices(null, null);\n            PrintService defaultPrintService = PrintServiceLookup.lookupDefaultPrintService();\n            \n            PrintService ps = ServiceUI.printDialog(null, 150, 150,\n             printServices, defaultPrintService, null, null);\n            if(ps!=null) System.out.println(&quot;selected printer:&quot; +ps.getName());\n            else\n               System.exit(0);\n\n            try {\n             File test = new File(filename);\n             byte[] file_bytes = Files.readAllBytes(test.toPath());\n                          \n             DocFlavor flavor = DocFlavor.BYTE_ARRAY.AUTOSENSE;\n             PrintRequestAttributeSet aset = new HashPrintRequestAttributeSet();\n             aset.add(new Copies(1));\n\n             Doc doc = new SimpleDoc(file_bytes,\n                                  flavor, null);\n\n             DocPrintJob job = ps.createPrintJob();\n\n             job.print(doc, aset);\n} catch(IOException e) {\n            e.priprintStackTrace();\n         }   catch (PrintException ex) {\n                \n                ex.printStackTrace();\n             }\n\n</code></pre>\n<p>However, the print gets stuck in status &quot;sent to printer&quot; (checking from windows Printers view).</p>\n<p>In addition, trying to print with a different printer, i get the following exception</p>\n<blockquote>\n<p>javax.print.PrintException: Problem while spooling data\nat java.desktop/sun.print.Win32PrintJob.print(Win32PrintJob.java:460)\nat directportprintingtest.DirectPortPrintingTest.(DirectPortPrintingTest.java:91)\nat directportprintingtest.DirectPortPrintingTest.main(DirectPortPrintingTest.java:45)</p>\n</blockquote>\n<p>I am having this problem only on Windows, when running same code from my Linux PC the print is succefull (with same printers!) .</p>\n<p>The files i am trying to print are PDF, PS and file containing specific printer language like PCL5. All of them are printed correctly in Linux/MAC, failing on Windows.</p>\n<p>I really can't undestand what i am missing, has anyone any clue about this problem and how i can solve it?</p>\n"},{"tags":["java","android","snapshot","ip-camera"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1674288833,"post_id":75191277,"comment_id":132686535,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":5183569,"reputation":1,"user_id":4148519,"display_name":"SIK"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674464639,"creation_date":1674278101,"question_id":75191277,"body_markdown":"I have few PTZ Camera, each with it&#39;s own RTSP url.I want to get snapshot from the Camera Stream using the streaming url.\r\n\r\nI have used Glide library to extract the thumbnail from url, but I had no luck so far.it says failed to load resources error.\r\n\r\n        Glide.with(context)\r\n             .load(rtsp_url)\r\n             .asBitmap()\r\n             .override(50,50)\r\n             .into(imageView);","title":"Android get snapshot of the PTZ Camera Stream","body":"<p>I have few PTZ Camera, each with it's own RTSP url.I want to get snapshot from the Camera Stream using the streaming url.</p>\n<p>I have used Glide library to extract the thumbnail from url, but I had no luck so far.it says failed to load resources error.</p>\n<pre><code>    Glide.with(context)\n         .load(rtsp_url)\n         .asBitmap()\n         .override(50,50)\n         .into(imageView);\n</code></pre>\n"},{"tags":["java","security","ssl","htmlunit"],"comments":[{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":2,"creation_date":1674420193,"post_id":75203437,"comment_id":132705711,"body_markdown":"[That server is broken](https://www.ssllabs.com/ssltest/analyze.html?d=eagletw.mohavecounty.us) -- it does not provide the intermediate aka chain cert as required by standards but instead a useless second copy of the leaf cert. Browsers like Firefox can _sometimes_ work-around this, probably using AIA, but Java doesn&#39;t. ...","body":"<a href=\"https://www.ssllabs.com/ssltest/analyze.html?d=eagletw.mohavecounty.us\" rel=\"nofollow noreferrer\">That server is broken</a> -- it does not provide the intermediate aka chain cert as required by standards but instead a useless second copy of the leaf cert. Browsers like Firefox can <i>sometimes</i> work-around this, probably using AIA, but Java doesn&#39;t. ..."},{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1674420249,"post_id":75203437,"comment_id":132705725,"body_markdown":"... That said putting it in the default truststore should work (although it&#39;s not very secure) IF your code (i.e. htmlunit) uses the default truststore, which I don&#39;t know; however openjdk on most Linux distros, if that is what you are using, links `cacerts` to a package-supplied file in something like /etc/pki so any writes to it may be replaced automatically by system data, then you need to use a different file and `-Djavax.net.ssl.trustStore` or equivalent.","body":"... That said putting it in the default truststore should work (although it&#39;s not very secure) IF your code (i.e. htmlunit) uses the default truststore, which I don&#39;t know; however openjdk on most Linux distros, if that is what you are using, links <code>cacerts</code> to a package-supplied file in something like /etc/pki so any writes to it may be replaced automatically by system data, then you need to use a different file and <code>-Djavax.net.ssl.trustStore</code> or equivalent."}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674419157,"creation_date":1674419157,"answer_id":75203656,"question_id":75203437,"body_markdown":"For some reason your Java runtime environment does not trust that certificate.\r\nThere are two things you can try:\r\n\r\n- add that website&#39;s certificate to your truststore manually\r\n- upgrade to the latest JVM and see if the truststore in that version already solves your problem\r\n\r\nI&#39;d go first for upgrade, if that does not work check how to add certificates to Java&#39;s truststore. See also\r\n\r\n- https://www.tutorialworks.com/java-trust-ssl/\r\n- https://stackoverflow.com/questions/5871279/ssl-and-cert-keystore\r\n- https://docs.oracle.com/javase/tutorial/security/toolsign/rstep2.html","title":"How do I get Java/HtmlUnit to accept an old or bad website certificate?","body":"<p>For some reason your Java runtime environment does not trust that certificate.\nThere are two things you can try:</p>\n<ul>\n<li>add that website's certificate to your truststore manually</li>\n<li>upgrade to the latest JVM and see if the truststore in that version already solves your problem</li>\n</ul>\n<p>I'd go first for upgrade, if that does not work check how to add certificates to Java's truststore. See also</p>\n<ul>\n<li><a href=\"https://www.tutorialworks.com/java-trust-ssl/\" rel=\"nofollow noreferrer\">https://www.tutorialworks.com/java-trust-ssl/</a></li>\n<li><a href=\"https://stackoverflow.com/questions/5871279/ssl-and-cert-keystore\">SSL and cert keystore</a></li>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/security/toolsign/rstep2.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/security/toolsign/rstep2.html</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":6163228,"reputation":2754,"user_id":4804091,"display_name":"RBRi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674464578,"creation_date":1674464578,"answer_id":75207344,"question_id":75203437,"body_markdown":"You can disable the SSL check by\r\n\r\n    webClient.getOptions().setUseInsecureSSL(true);\r\n\r\nThis might also help if you use a proxy like Charles Web Proxy to inspect the traffic.","title":"How do I get Java/HtmlUnit to accept an old or bad website certificate?","body":"<p>You can disable the SSL check by</p>\n<pre><code>webClient.getOptions().setUseInsecureSSL(true);\n</code></pre>\n<p>This might also help if you use a proxy like Charles Web Proxy to inspect the traffic.</p>\n"}],"owner":{"account_id":15275556,"reputation":49,"user_id":11021382,"display_name":"God&#39;s Gift To Java"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1674464578,"creation_date":1674417076,"question_id":75203437,"body_markdown":"If you go to https://eagletw.mohavecounty.us/treasurer/treasurerweb/search.jsp using Firefox on Linux, you will see that you can browse the website just fine.\r\n\r\nBut when I compile and run the following program:\r\n```import com.gargoylesoftware.htmlunit.*;\r\nimport com.gargoylesoftware.htmlunit.html.*;\r\nimport com.gargoylesoftware.htmlunit.javascript.*;\r\nimport java.io.*;\r\n\r\npublic class BadWebsiteCertificate {\r\n    public static void BadWebsiteCertificate () {\r\n        try (final WebClient webClient = new WebClient()) {\r\n            System.getProperties().put(&quot;org.apache.commons.logging.simplelog.defaultlog&quot;, &quot;fatal&quot;);\r\n            webClient.getOptions().setThrowExceptionOnScriptError(false);\r\n            webClient.getOptions().setThrowExceptionOnFailingStatusCode(false);\r\n\r\n            webClient.getOptions().setCssEnabled(false);\r\n            webClient.setJavaScriptErrorListener(new SilentJavaScriptErrorListener());\r\n            webClient.setCssErrorHandler(new SilentCssErrorHandler());\r\n            webClient.setAjaxController(new NicelyResynchronizingAjaxController());\r\n            HtmlPage page = webClient.getPage(&quot;https://eagletw.mohavecounty.us/treasurer/treasurerweb/search.jsp&quot;);\r\n            webClient.waitForBackgroundJavaScriptStartingBefore(10000);\r\n            page = (HtmlPage) page.getEnclosingWindow().getEnclosedPage();\r\n            webClient.getOptions().setThrowExceptionOnScriptError(false);\r\n            webClient.setJavaScriptErrorListener(new SilentJavaScriptErrorListener());\r\n            HtmlTable grdTaxHistory = (HtmlTable) page.getElementById(&quot;grdTaxHistory&quot;);\r\n            HtmlTableDataCell cpCell = (HtmlTableDataCell) grdTaxHistory.getCellAt(4,6);\r\n            ((HtmlAnchor) cpCell.getFirstChild().getNextSibling()).click();\r\n\r\n            webClient.waitForBackgroundJavaScriptStartingBefore(1_000);\r\n            page = (HtmlPage) page.getEnclosingWindow().getEnclosedPage();\r\n        }\r\n\r\n        catch (Exception e) {\r\n            System.out.println(&quot;Error: &quot;+ e);\r\n        }\r\n\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        File file = new File(&quot;validParcelIDs.txt&quot;);\r\n        BadWebsiteCertificate();\r\n    }\r\n\r\n}\r\n```\r\nusing the following commands:\r\n```\r\njavac -classpath &quot;.:/opt/htmlunit_2.69.0/*&quot; BadWebsiteCertificate.java\r\njava -classpath &quot;.:/opt/htmlunit_2.69.0/*&quot; BadWebsiteCertificate\r\n```\r\n\r\nI get the following runtime error message:\r\n```\r\nError: javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n```\r\n\r\nI tried the following solution proposed at\r\n&lt;https://stackoverflow.com/questions/9619030/resolving-javax-net-ssl-sslhandshakeexception-sun-security-validator-validatore&gt;\r\n```\r\necho -n | openssl s_client -connect eagletw.mohavecounty.us:443 | sed -ne &#39;/-BEGIN CERTIFICATE-/,/-END CERTIFICATE-/p&#39; &gt; ~/eagletw.mohavecounty.us.crt\r\nsudo keytool -import -v -trustcacerts -alias eagletw.mohavecounty.us -file ~/eagletw.mohavecounty.us.crt -keystore /usr/lib/jvm/java-11-openjdk-amd64/lib/security/cacerts -keypass changeit -storepass changeit\r\n```\r\n\r\nBut that didn&#39;t fix the problem. I am still getting the same runtime error message.\r\n\r\nAny ideas of what else I can try?\r\n\r\n","title":"How do I get Java/HtmlUnit to accept an old or bad website certificate?","body":"<p>If you go to <a href=\"https://eagletw.mohavecounty.us/treasurer/treasurerweb/search.jsp\" rel=\"nofollow noreferrer\">https://eagletw.mohavecounty.us/treasurer/treasurerweb/search.jsp</a> using Firefox on Linux, you will see that you can browse the website just fine.</p>\n<p>But when I compile and run the following program:</p>\n<pre><code>import com.gargoylesoftware.htmlunit.html.*;\nimport com.gargoylesoftware.htmlunit.javascript.*;\nimport java.io.*;\n\npublic class BadWebsiteCertificate {\n    public static void BadWebsiteCertificate () {\n        try (final WebClient webClient = new WebClient()) {\n            System.getProperties().put(&quot;org.apache.commons.logging.simplelog.defaultlog&quot;, &quot;fatal&quot;);\n            webClient.getOptions().setThrowExceptionOnScriptError(false);\n            webClient.getOptions().setThrowExceptionOnFailingStatusCode(false);\n\n            webClient.getOptions().setCssEnabled(false);\n            webClient.setJavaScriptErrorListener(new SilentJavaScriptErrorListener());\n            webClient.setCssErrorHandler(new SilentCssErrorHandler());\n            webClient.setAjaxController(new NicelyResynchronizingAjaxController());\n            HtmlPage page = webClient.getPage(&quot;https://eagletw.mohavecounty.us/treasurer/treasurerweb/search.jsp&quot;);\n            webClient.waitForBackgroundJavaScriptStartingBefore(10000);\n            page = (HtmlPage) page.getEnclosingWindow().getEnclosedPage();\n            webClient.getOptions().setThrowExceptionOnScriptError(false);\n            webClient.setJavaScriptErrorListener(new SilentJavaScriptErrorListener());\n            HtmlTable grdTaxHistory = (HtmlTable) page.getElementById(&quot;grdTaxHistory&quot;);\n            HtmlTableDataCell cpCell = (HtmlTableDataCell) grdTaxHistory.getCellAt(4,6);\n            ((HtmlAnchor) cpCell.getFirstChild().getNextSibling()).click();\n\n            webClient.waitForBackgroundJavaScriptStartingBefore(1_000);\n            page = (HtmlPage) page.getEnclosingWindow().getEnclosedPage();\n        }\n\n        catch (Exception e) {\n            System.out.println(&quot;Error: &quot;+ e);\n        }\n\n    }\n\n    public static void main(String[] args) {\n        File file = new File(&quot;validParcelIDs.txt&quot;);\n        BadWebsiteCertificate();\n    }\n\n}\n</code></pre>\n<p>using the following commands:</p>\n<pre><code>javac -classpath &quot;.:/opt/htmlunit_2.69.0/*&quot; BadWebsiteCertificate.java\njava -classpath &quot;.:/opt/htmlunit_2.69.0/*&quot; BadWebsiteCertificate\n</code></pre>\n<p>I get the following runtime error message:</p>\n<pre><code>Error: javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n</code></pre>\n<p>I tried the following solution proposed at\n<a href=\"https://stackoverflow.com/questions/9619030/resolving-javax-net-ssl-sslhandshakeexception-sun-security-validator-validatore\">Resolving javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed Error?</a></p>\n<pre><code>echo -n | openssl s_client -connect eagletw.mohavecounty.us:443 | sed -ne '/-BEGIN CERTIFICATE-/,/-END CERTIFICATE-/p' &gt; ~/eagletw.mohavecounty.us.crt\nsudo keytool -import -v -trustcacerts -alias eagletw.mohavecounty.us -file ~/eagletw.mohavecounty.us.crt -keystore /usr/lib/jvm/java-11-openjdk-amd64/lib/security/cacerts -keypass changeit -storepass changeit\n</code></pre>\n<p>But that didn't fix the problem. I am still getting the same runtime error message.</p>\n<p>Any ideas of what else I can try?</p>\n"},{"tags":["java","json"],"answers":[{"tags":[],"owner":{"account_id":11460099,"reputation":45,"user_id":8400001,"display_name":"fluse1367"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674464534,"creation_date":1674464534,"answer_id":75207339,"question_id":75206680,"body_markdown":"The error tells everything you need to know. The JSON standard *does not allow more than one top level element*.\r\n\r\nA common practice i‘ve seen is to use an array as the top level element and add your json objects to that array.\r\n\r\n`example.json`\r\n```json\r\n[\r\n    {\r\n        result: {\r\n            percentage: &quot;0%&quot;,\r\n            result: &quot;started movie download&quot;\r\n        }\r\n    },\r\n    {\r\n        result: {\r\n            percentage: &quot;65%&quot;,\r\n            result: &quot;downloading movie in progress&quot;\r\n        }\r\n    },\r\n    {\r\n        result: {\r\n            percentage: &quot;100%&quot;,\r\n            result: &quot;finished download movie&quot;\r\n        }\r\n    }\r\n]\r\n```\r\nIf you are using multiple workers make sure to synchronize the file access.\r\n\r\nWhen dealing with many responses and the json file gets very large, and if your method of handling the json object (i.e. the library you use) holds *all* json data you might end up with a lot of memory used.\r\n\r\nAlso when working with continuous responses from the server, you most probably end up with re-writing the whole json file every time you add a new response to it (again, depends on your library).\r\n\r\nMaybe consider using database or flat file storage (e.g. bundling responses into their own file) instead of a single file.","title":"Processing multiple continuous json responses","body":"<p>The error tells everything you need to know. The JSON standard <em>does not allow more than one top level element</em>.</p>\n<p>A common practice i‘ve seen is to use an array as the top level element and add your json objects to that array.</p>\n<p><code>example.json</code></p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n    {\n        result: {\n            percentage: &quot;0%&quot;,\n            result: &quot;started movie download&quot;\n        }\n    },\n    {\n        result: {\n            percentage: &quot;65%&quot;,\n            result: &quot;downloading movie in progress&quot;\n        }\n    },\n    {\n        result: {\n            percentage: &quot;100%&quot;,\n            result: &quot;finished download movie&quot;\n        }\n    }\n]\n</code></pre>\n<p>If you are using multiple workers make sure to synchronize the file access.</p>\n<p>When dealing with many responses and the json file gets very large, and if your method of handling the json object (i.e. the library you use) holds <em>all</em> json data you might end up with a lot of memory used.</p>\n<p>Also when working with continuous responses from the server, you most probably end up with re-writing the whole json file every time you add a new response to it (again, depends on your library).</p>\n<p>Maybe consider using database or flat file storage (e.g. bundling responses into their own file) instead of a single file.</p>\n"}],"owner":{"account_id":6751992,"reputation":101,"user_id":5201748,"accept_rate":83,"display_name":"BlueTree"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674464534,"creation_date":1674459235,"question_id":75206680,"body_markdown":"I am currently working on a java client implementation which is able to communicate to a server by sending requests and receive responses via restful api to retrieve movie responses. \r\n\r\nI am simulating tests where the client will be receiving responses after a successful request sent to the server. \r\n\r\nSo for features that responds with a single individual response, it is straightforward to store into a single file and read from it directly. \r\n\r\nFor example, **single-response.json** file below represents a response where I am able to retrieve a movie detail. \r\n\r\n\t{\r\n\t\tresult: {\r\n\t\t\tfirstName: &quot;John&quot;,\r\n\t\t\tlastName: &quot;Wick&quot;,\r\n\t\t\tmovie: &quot;John Wick&quot;\r\n\t\t}\r\n\t}\r\n\r\nHowever, I am facing difficulties when handling continuous json responses where I am receiving. And I receive an error &quot;**JSON standard allows only one top level value**&quot;. And the below response is not even a list of responses but rather sent individually and periodically as seen below by the server . \r\n\r\n**continuous-response.json file**\r\n\r\n\t{\r\n\t\tresult: {\r\n\t\t    percentage: &quot;0%&quot;,\r\n\t\t\tresult: &quot;started movie download&quot;\r\n\t\t}\r\n\t}\r\n\r\n\t{\r\n\t\tresult: {\r\n\t\t\tpercentage: &quot;65%&quot;,\r\n\t\t\tresult: &quot;downloading movie in progress&quot;\r\n\t\t}\r\n\t}\r\n\r\n\t{\r\n\t\tresult: {\r\n\t\t\tpercentage: &quot;100%&quot;,\r\n\t\t\tresult: &quot;finished download movie&quot;\r\n\t\t}\r\n\t}\r\n\r\nSo how can I read and process the continous json response during a movie download progress from a file? Or do I have to read it in different separate files instead?\r\n","title":"Processing multiple continuous json responses","body":"<p>I am currently working on a java client implementation which is able to communicate to a server by sending requests and receive responses via restful api to retrieve movie responses.</p>\n<p>I am simulating tests where the client will be receiving responses after a successful request sent to the server.</p>\n<p>So for features that responds with a single individual response, it is straightforward to store into a single file and read from it directly.</p>\n<p>For example, <strong>single-response.json</strong> file below represents a response where I am able to retrieve a movie detail.</p>\n<pre><code>{\n    result: {\n        firstName: &quot;John&quot;,\n        lastName: &quot;Wick&quot;,\n        movie: &quot;John Wick&quot;\n    }\n}\n</code></pre>\n<p>However, I am facing difficulties when handling continuous json responses where I am receiving. And I receive an error &quot;<strong>JSON standard allows only one top level value</strong>&quot;. And the below response is not even a list of responses but rather sent individually and periodically as seen below by the server .</p>\n<p><strong>continuous-response.json file</strong></p>\n<pre><code>{\n    result: {\n        percentage: &quot;0%&quot;,\n        result: &quot;started movie download&quot;\n    }\n}\n\n{\n    result: {\n        percentage: &quot;65%&quot;,\n        result: &quot;downloading movie in progress&quot;\n    }\n}\n\n{\n    result: {\n        percentage: &quot;100%&quot;,\n        result: &quot;finished download movie&quot;\n    }\n}\n</code></pre>\n<p>So how can I read and process the continous json response during a movie download progress from a file? Or do I have to read it in different separate files instead?</p>\n"},{"tags":["java","hibernate","jsp","struts2"],"answers":[{"comments":[{"owner":{"account_id":4485063,"reputation":297,"user_id":5076464,"accept_rate":14,"display_name":"Shashank"},"score":0,"creation_date":1438324926,"post_id":18950996,"comment_id":51413496,"body_markdown":"I&#39;m a beginner. Can you post a complete example here..!","body":"I&#39;m a beginner. Can you post a complete example here..!"}],"tags":[],"owner":{"account_id":3314029,"reputation":76,"user_id":2786784,"display_name":"P.C.DING"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1379925445,"creation_date":1379903725,"answer_id":18950996,"question_id":18950435,"body_markdown":"If your List like that: `List&lt;Student&gt;` studentList, and Student is \r\n\r\n    public class Student {\r\n        private Long id;\r\n        private String name;\r\n        private String age;\r\n        ...\r\n        getter and setter...\r\n    }\r\n    request.setAttribute(&quot;studentList&quot;, studentList);\r\n\r\nYou can implement the studentpage.jsp:\r\n\r\n    &lt;table&gt;\r\n    &lt;s:iterator value=&quot;#request.studentList&quot; status=&quot;status&quot;&gt;\r\n    &lt;tr&gt;\r\n        &lt;td&gt;\r\n            &lt;s:property value=&quot;name&quot;&gt;\r\n        &lt;/td&gt;\r\n        &lt;td&gt;\r\n            &lt;s:property value=&quot;age&quot;&gt;\r\n        &lt;/td&gt;\r\n    &lt;/tr&gt;\r\n    &lt;/s:iterator&gt;\r\n    &lt;/table&gt;\r\n\r\nIf you return List like that: `List&lt;List&lt;String&gt;&gt;`, you can do :\r\n\r\n    &lt;table&gt;\r\n    &lt;s:iterator value=&quot;#request.studentList&quot; status=&quot;status&quot; id=&quot;list&quot;&gt;\r\n    &lt;tr&gt;\r\n        &lt;td&gt;\r\n            name:&lt;s:property value=&quot;#list[#status.index][1]&quot;/&gt;\r\n        &lt;/td&gt;\r\n        &lt;td&gt;\r\n            age:&lt;s:property value=&quot;#list[#status.index][2]&quot;/&gt;\r\n        &lt;/td&gt;\r\n    &lt;/tr&gt;\r\n    &lt;/s:iterator&gt;\r\n    &lt;/table&gt;\r\n\r\n","title":"How to show all rows from database to jsp page using struts 2?","body":"<p>If your List like that: <code>List&lt;Student&gt;</code> studentList, and Student is </p>\n\n<pre><code>public class Student {\n    private Long id;\n    private String name;\n    private String age;\n    ...\n    getter and setter...\n}\nrequest.setAttribute(\"studentList\", studentList);\n</code></pre>\n\n<p>You can implement the studentpage.jsp:</p>\n\n<pre><code>&lt;table&gt;\n&lt;s:iterator value=\"#request.studentList\" status=\"status\"&gt;\n&lt;tr&gt;\n    &lt;td&gt;\n        &lt;s:property value=\"name\"&gt;\n    &lt;/td&gt;\n    &lt;td&gt;\n        &lt;s:property value=\"age\"&gt;\n    &lt;/td&gt;\n&lt;/tr&gt;\n&lt;/s:iterator&gt;\n&lt;/table&gt;\n</code></pre>\n\n<p>If you return List like that: <code>List&lt;List&lt;String&gt;&gt;</code>, you can do :</p>\n\n<pre><code>&lt;table&gt;\n&lt;s:iterator value=\"#request.studentList\" status=\"status\" id=\"list\"&gt;\n&lt;tr&gt;\n    &lt;td&gt;\n        name:&lt;s:property value=\"#list[#status.index][1]\"/&gt;\n    &lt;/td&gt;\n    &lt;td&gt;\n        age:&lt;s:property value=\"#list[#status.index][2]\"/&gt;\n    &lt;/td&gt;\n&lt;/tr&gt;\n&lt;/s:iterator&gt;\n&lt;/table&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1548165,"reputation":371,"user_id":1682657,"accept_rate":15,"display_name":"adarksun"},"score":0,"creation_date":1379944877,"post_id":18959269,"comment_id":28003512,"body_markdown":"Thanks for you guidelines. But I want to create the output in the following way:\n\nhttp://theproblemdomains789.blogspot.com/2013/09/drop-down-select-list.html\n\n[sorry, i could not upload the image as my current reputation is below 10]\n\nAnd when anybody click on 1, it will show results for that id. and in this way.","body":"Thanks for you guidelines. But I want to create the output in the following way:  <a href=\"http://theproblemdomains789.blogspot.com/2013/09/drop-down-select-list.html\" rel=\"nofollow noreferrer\">theproblemdomains789.blogspot.com/2013/09/&hellip;</a>  [sorry, i could not upload the image as my current reputation is below 10]  And when anybody click on 1, it will show results for that id. and in this way."},{"owner":{"account_id":1820003,"reputation":49625,"user_id":1654265,"accept_rate":93,"display_name":"Andrea Ligios"},"score":0,"creation_date":1379945111,"post_id":18959269,"comment_id":28003673,"body_markdown":"I can&#39;t see nothing in the site you linked :| By the way, you should stick to what I&#39;ve written, except the JSP part: that is the View, and it is the only place where the implementations should differs. Mine is an example, just drawn your own JSP and you&#39;ll be fine.","body":"I can&#39;t see nothing in the site you linked :| By the way, you should stick to what I&#39;ve written, except the JSP part: that is the View, and it is the only place where the implementations should differs. Mine is an example, just drawn your own JSP and you&#39;ll be fine."},{"owner":{"account_id":1548165,"reputation":371,"user_id":1682657,"accept_rate":15,"display_name":"adarksun"},"score":0,"creation_date":1379945805,"post_id":18959269,"comment_id":28004099,"body_markdown":"Actually, in that link... i tried to represent what will be the final output to choose the student id. After selecting that Id it will generate all the information of that student","body":"Actually, in that link... i tried to represent what will be the final output to choose the student id. After selecting that Id it will generate all the information of that student"},{"owner":{"account_id":1820003,"reputation":49625,"user_id":1654265,"accept_rate":93,"display_name":"Andrea Ligios"},"score":0,"creation_date":1379947342,"post_id":18959269,"comment_id":28005095,"body_markdown":"The image you linked does not exist anymore. There is nothing in your link. [Press CTRL+F5 then look at the image](http://3.bp.blogspot.com/-8tmZx-q2dxY/UkBJA61si5I/AAAAAAAAAlQ/pG3TjCwu8k4/s1600/1.png).","body":"The image you linked does not exist anymore. There is nothing in your link. <a href=\"http://3.bp.blogspot.com/-8tmZx-q2dxY/UkBJA61si5I/AAAAAAAAAlQ/pG3TjCwu8k4/s1600/1.png\" rel=\"nofollow noreferrer\">Press CTRL+F5 then look at the image</a>."},{"owner":{"account_id":1820003,"reputation":49625,"user_id":1654265,"accept_rate":93,"display_name":"Andrea Ligios"},"score":0,"creation_date":1379947411,"post_id":18959269,"comment_id":28005148,"body_markdown":"BTW, try to implement it by yourself, &#39;cause even if you post your image, noone will do the entire job for you. Start setting up Struts correctly and getting the data from the database to the JSP through the Action like described in my answer. Only then you should start modelling it. P.S: Don&#39;t forget to accept the answer if it helped","body":"BTW, try to implement it by yourself, &#39;cause even if you post your image, noone will do the entire job for you. Start setting up Struts correctly and getting the data from the database to the JSP through the Action like described in my answer. Only then you should start modelling it. P.S: Don&#39;t forget to accept the answer if it helped"},{"owner":{"account_id":1548165,"reputation":371,"user_id":1682657,"accept_rate":15,"display_name":"adarksun"},"score":0,"creation_date":1379982162,"post_id":18959269,"comment_id":28020844,"body_markdown":"Thank you. I understand the logic from you and now I am implementing using this logic. Thanks for your help.","body":"Thank you. I understand the logic from you and now I am implementing using this logic. Thanks for your help."}],"tags":[],"owner":{"account_id":1820003,"reputation":49625,"user_id":1654265,"accept_rate":93,"display_name":"Andrea Ligios"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1379939439,"creation_date":1379939439,"answer_id":18959269,"question_id":18950435,"body_markdown":"That is **not** the way Struts2 works.\r\n\r\nWhen you call a method, that method must return a String result only. That String result is mapped in your struts.xml to return a specific result (in your case, a JSP).\r\n\r\nTo access Action data from the JSP, you need to access the Getters of the fields you want to read.\r\nAny IDE out there is able to write the Getters and Setters for you. If you are using Eclipse, &lt;kbd&gt;ALT&lt;/kbd&gt;&lt;kbd&gt;SHIFT&lt;/kbd&gt;&lt;kbd&gt;S&lt;/kbd&gt; and then &lt;kbd&gt;R&lt;/kbd&gt; will surely help.\r\n\r\nAlso, like OOP (Object Oriented Programming) suggests, you should use an object to carry / transmit the data, with a method like `findStudents()` (instead of `findIds()` and then making a call for each `id`).\r\n\r\nAssuming then a Student object like this\r\n\r\n    public class Student {        \r\n        private Long id; \r\n        private String name;\r\n        private Integer age;\r\n        \r\n        /* GETTERS (or ACCESSORS) */\r\n        public Long getId() {\r\n\t\t\treturn id;\r\n\t\t}\r\n\t\tpublic void setId(Long id) {\r\n\t\t\tthis.id = id;\r\n\t\t}\r\n\t\tpublic String getName() {\r\n\t\t\treturn name;\r\n\t\t}\r\n\r\n        /* SETTERS (or MUTATORS) */\r\n\t\tpublic void setName(String name) {\r\n\t\t\tthis.name = name;\r\n\t\t}\r\n\t\tpublic Integer getAge() {\r\n\t\t\treturn age;\r\n\t\t}\r\n\t\tpublic void setAge(Integer age) {\r\n\t\t\tthis.age = age;\r\n\t\t}\r\n    }\r\n\r\nin your Action you should declare a private list of them , with getter/setters of course, and evaluate it in the method called:\r\n\r\n    private List&lt;Student&gt; students;\r\n\r\n    public List&lt;Student&gt; getStudents(){\r\n        return students;\r\n    } \r\n    public void setStudents(List&lt;Students&gt; students){\r\n        this.students = students;\r\n    } \r\n\r\n    public String findStudents(){\r\n         students = getMyServiceDaoOrSomething().findAllStudents();\r\n         return &quot;success&quot;;\r\n    }\r\n\r\nwith a config like\r\n\r\n    &lt;action name=&quot;students&quot; class=&quot;...&quot; method=&quot;findStudents&quot;&gt;\r\n        &lt;result&gt;studentpage.jsp&lt;/result&gt;\r\n    &lt;/action&gt;\r\n\r\nNote that `&lt;result&gt;` is equal to `&lt;result name=&quot;success&quot;&gt;` (it is called Intelligent Default), and when `method` is not specified, the `execute()` method will be executed.\r\n\r\n\r\nThen in JSP, iterate the result and print each `Student` object at once:\r\n\r\n\r\n    &lt;s:iterator value=&quot;students&quot;&gt;\r\n        &lt;s:hidden name=&quot;id&quot; /&gt;\r\n        &lt;s:textfield name=&quot;name&quot; /&gt;\r\n        &lt;s:property value=&quot;age&quot; /&gt;\r\n    &lt;/s:iterator&gt;\r\n","title":"How to show all rows from database to jsp page using struts 2?","body":"<p>That is <strong>not</strong> the way Struts2 works.</p>\n\n<p>When you call a method, that method must return a String result only. That String result is mapped in your struts.xml to return a specific result (in your case, a JSP).</p>\n\n<p>To access Action data from the JSP, you need to access the Getters of the fields you want to read.\nAny IDE out there is able to write the Getters and Setters for you. If you are using Eclipse, <kbd>ALT</kbd><kbd>SHIFT</kbd><kbd>S</kbd> and then <kbd>R</kbd> will surely help.</p>\n\n<p>Also, like OOP (Object Oriented Programming) suggests, you should use an object to carry / transmit the data, with a method like <code>findStudents()</code> (instead of <code>findIds()</code> and then making a call for each <code>id</code>).</p>\n\n<p>Assuming then a Student object like this</p>\n\n<pre><code>public class Student {        \n    private Long id; \n    private String name;\n    private Integer age;\n\n    /* GETTERS (or ACCESSORS) */\n    public Long getId() {\n        return id;\n    }\n    public void setId(Long id) {\n        this.id = id;\n    }\n    public String getName() {\n        return name;\n    }\n\n    /* SETTERS (or MUTATORS) */\n    public void setName(String name) {\n        this.name = name;\n    }\n    public Integer getAge() {\n        return age;\n    }\n    public void setAge(Integer age) {\n        this.age = age;\n    }\n}\n</code></pre>\n\n<p>in your Action you should declare a private list of them , with getter/setters of course, and evaluate it in the method called:</p>\n\n<pre><code>private List&lt;Student&gt; students;\n\npublic List&lt;Student&gt; getStudents(){\n    return students;\n} \npublic void setStudents(List&lt;Students&gt; students){\n    this.students = students;\n} \n\npublic String findStudents(){\n     students = getMyServiceDaoOrSomething().findAllStudents();\n     return \"success\";\n}\n</code></pre>\n\n<p>with a config like</p>\n\n<pre><code>&lt;action name=\"students\" class=\"...\" method=\"findStudents\"&gt;\n    &lt;result&gt;studentpage.jsp&lt;/result&gt;\n&lt;/action&gt;\n</code></pre>\n\n<p>Note that <code>&lt;result&gt;</code> is equal to <code>&lt;result name=\"success\"&gt;</code> (it is called Intelligent Default), and when <code>method</code> is not specified, the <code>execute()</code> method will be executed.</p>\n\n<p>Then in JSP, iterate the result and print each <code>Student</code> object at once:</p>\n\n<pre><code>&lt;s:iterator value=\"students\"&gt;\n    &lt;s:hidden name=\"id\" /&gt;\n    &lt;s:textfield name=\"name\" /&gt;\n    &lt;s:property value=\"age\" /&gt;\n&lt;/s:iterator&gt;\n</code></pre>\n"}],"owner":{"account_id":1548165,"reputation":371,"user_id":1682657,"accept_rate":15,"display_name":"adarksun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7712,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1674464510,"creation_date":1379898558,"question_id":18950435,"body_markdown":"I am new in Struts2 and Hibernate. I want to create a drop-down list like the following [ using hibernate and struts] which pops up a menu dynamically and when an id will be selected, it shows all the information of that id:\r\n\r\nI tried much to do this. but failed. can anybody help me please:\r\n\r\nI have a &#39;Student&#39; table like this:\r\n\r\n    id  name  age\r\n    1...a.....20\r\n    2...b.....24\r\n    3...c.....22\r\n\r\nUsing Hibernate I create model and dao like... StudentModel and StudentDAO \r\n\r\nin DAO, i implement a method which returns the lists of the ids like this: \r\n\r\n    // StudentDAO.java\r\n    public List&lt;String&gt; findId(String id) {\r\n    \t.....\r\n    \treturn ...\r\n    }\r\n\r\nNow, I define action into struts.xml file like this:\r\n\r\n    // Struts.xml\r\n    &lt;action name=&quot;idSelection&quot; class=&quot;...&quot; method=&quot;findId&quot;&gt;\r\n    \t&lt;result&gt; studentpage.jsp &lt;/result&gt;\r\n    &lt;/action&gt;\r\n\r\nso, now how can i implement the studentpage.jsp. Would you please give tell me the necessary code or reference to do this\r\n\r\n\r\nThank you.\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/sF3cz.png","title":"How to show all rows from database to jsp page using struts 2?","body":"<p>I am new in Struts2 and Hibernate. I want to create a drop-down list like the following [ using hibernate and struts] which pops up a menu dynamically and when an id will be selected, it shows all the information of that id:</p>\n\n<p>I tried much to do this. but failed. can anybody help me please:</p>\n\n<p>I have a 'Student' table like this:</p>\n\n<pre><code>id  name  age\n1...a.....20\n2...b.....24\n3...c.....22\n</code></pre>\n\n<p>Using Hibernate I create model and dao like... StudentModel and StudentDAO </p>\n\n<p>in DAO, i implement a method which returns the lists of the ids like this: </p>\n\n<pre><code>// StudentDAO.java\npublic List&lt;String&gt; findId(String id) {\n    .....\n    return ...\n}\n</code></pre>\n\n<p>Now, I define action into struts.xml file like this:</p>\n\n<pre><code>// Struts.xml\n&lt;action name=\"idSelection\" class=\"...\" method=\"findId\"&gt;\n    &lt;result&gt; studentpage.jsp &lt;/result&gt;\n&lt;/action&gt;\n</code></pre>\n\n<p>so, now how can i implement the studentpage.jsp. Would you please give tell me the necessary code or reference to do this</p>\n\n<p>Thank you.</p>\n"},{"tags":["java","jts"],"answers":[{"tags":[],"owner":{"account_id":210412,"reputation":63,"user_id":462013,"display_name":"BayerMeister"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674463949,"creation_date":1674164261,"answer_id":75178543,"question_id":75158397,"body_markdown":"The problem is a misunderstanding what a `Polygon` and a `MultiPolygon` is and therefore how it&#39;s content should be retreived and rendered.\r\n\r\nA `MultiPolygon` is simply a collection of `Polygons`. Calling `getNumGeometries()` and `getGeometryN(int)` is used to get those one by one. That is however not used to store holes next to the polygon&#39;s shell. That&#39;s what I got wrong.\r\n\r\nA `Polygon` is not only a closed line as I thought (or does not have to be). The `Polygon` contains a `LinearRing` of the shell (get by calling `getExteriorRing()`) and can hold a number of holes which are also `LinearRing`s (get the amount of holes with `getNumInteriorRing()` and then each with `getInteriorRingN(int)`).\r\n\r\nCalling `getCoordinates()` on the `Polygon` will give the coordinates of all `LinearRing`s concatenated into a single array, not making much sense by itself as demonstrated by the picture in the question. To use the data right one would call `getCoordinates()` on each of the rings instead. Rendering the buffer as a shell and a triangle-shaped hole (Interior ring) is the way to go.\r\n\r\nThe first image (inner buffer) worked well from the beginning, because the output of `buffer(-1)` was a `MultiPolygon` comprised of two `Polygon`s without holes.\r\n\r\nHere a happy image:\r\n\r\n[![Outer buffer with a hole][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/yQj9I.png\r\n\r\n**Edit:**\r\n\r\nThe `CoordianteSequence` class is your friend. Using getCoordiantes() which returns a possibly constructed array of possibly constructed copies of coordinates at any place might be wasteful, creating garbage in the rendering loop.\r\n\r\nYou can access the Xs and Ys of each LinearRing easily without using these Coordiante arrays:\r\n\r\n    CoordinateSequence cs = somePolygon.getExteriorRing().getCoordinateSequence();\r\n    for (int i = 0; i &lt; cs.size(); i++) {\r\n        double x = cs.getX(i), y = cs.getY(i);\r\n        //Use...\r\n    }\r\n    //The same for each interior ring\r\n\r\nSince `Polygon`s in normal form have shell points in clockwise orientation and holes in couter-clockwise orientation, rendering using JavaFX Canvas is very easy:\r\n\r\n    //GraphicsContext gc from your Canvas, assuming you&#39;ve set a fill Paint etc.\r\n    //Polygon somePolygon made with JTS in normal form\r\n    gc.beginPath();\r\n    CoordinateSequence cs = somePolygon.getExteriorRing().getCoordinateSequence();\r\n    gc.moveTo(cs.getX(0), cs.getY(0));\r\n    for (int i = 1; i &lt; cs.size(); i++) {\r\n        double x = cs.getX(i), y = cs.getY(i);\r\n        gc.lineTo(x, y);\r\n    }\r\n    //LinearRings (as other closed structures) in JTS repeat the first point\r\n    //as the last, so the last lineTo will close the rendered loop\r\n\r\n    for (int holeIdx = 0; holeIdx &lt; somePolygon.getNumInteriorRing(); holeIdx++) {\r\n        //exactly the same code as above, just for each hole\r\n        cs = somePolygon.getInteriorRingN(holeIdx).getCoordinateSequence();\r\n        gc.moveTo(cs.getX(0), cs.getY(0));\r\n        for (int i = 1; i &lt; cs.size(); i++) {\r\n            double x = cs.getX(i), y = cs.getY(i);\r\n            gc.lineTo(x, y);\r\n        }\r\n    }\r\n    gc.closePath();\r\n    gc.fill();\r\n    //Even with the default FillRule.NON_ZERO fill() will result in filling only\r\n    //the &quot;inside&quot; of the Polygon, leaving the holes untouched\r\n    //(because Exterior is oriented Clockwise and Interior Counter-Clockwise","title":"JTS polygon buffer produces a MultiPolygon when there are self-intersections, but only with inner buffer, not outer. Why?","body":"<p>The problem is a misunderstanding what a <code>Polygon</code> and a <code>MultiPolygon</code> is and therefore how it's content should be retreived and rendered.</p>\n<p>A <code>MultiPolygon</code> is simply a collection of <code>Polygons</code>. Calling <code>getNumGeometries()</code> and <code>getGeometryN(int)</code> is used to get those one by one. That is however not used to store holes next to the polygon's shell. That's what I got wrong.</p>\n<p>A <code>Polygon</code> is not only a closed line as I thought (or does not have to be). The <code>Polygon</code> contains a <code>LinearRing</code> of the shell (get by calling <code>getExteriorRing()</code>) and can hold a number of holes which are also <code>LinearRing</code>s (get the amount of holes with <code>getNumInteriorRing()</code> and then each with <code>getInteriorRingN(int)</code>).</p>\n<p>Calling <code>getCoordinates()</code> on the <code>Polygon</code> will give the coordinates of all <code>LinearRing</code>s concatenated into a single array, not making much sense by itself as demonstrated by the picture in the question. To use the data right one would call <code>getCoordinates()</code> on each of the rings instead. Rendering the buffer as a shell and a triangle-shaped hole (Interior ring) is the way to go.</p>\n<p>The first image (inner buffer) worked well from the beginning, because the output of <code>buffer(-1)</code> was a <code>MultiPolygon</code> comprised of two <code>Polygon</code>s without holes.</p>\n<p>Here a happy image:</p>\n<p><a href=\"https://i.stack.imgur.com/yQj9I.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yQj9I.png\" alt=\"Outer buffer with a hole\" /></a></p>\n<p><strong>Edit:</strong></p>\n<p>The <code>CoordianteSequence</code> class is your friend. Using getCoordiantes() which returns a possibly constructed array of possibly constructed copies of coordinates at any place might be wasteful, creating garbage in the rendering loop.</p>\n<p>You can access the Xs and Ys of each LinearRing easily without using these Coordiante arrays:</p>\n<pre><code>CoordinateSequence cs = somePolygon.getExteriorRing().getCoordinateSequence();\nfor (int i = 0; i &lt; cs.size(); i++) {\n    double x = cs.getX(i), y = cs.getY(i);\n    //Use...\n}\n//The same for each interior ring\n</code></pre>\n<p>Since <code>Polygon</code>s in normal form have shell points in clockwise orientation and holes in couter-clockwise orientation, rendering using JavaFX Canvas is very easy:</p>\n<pre><code>//GraphicsContext gc from your Canvas, assuming you've set a fill Paint etc.\n//Polygon somePolygon made with JTS in normal form\ngc.beginPath();\nCoordinateSequence cs = somePolygon.getExteriorRing().getCoordinateSequence();\ngc.moveTo(cs.getX(0), cs.getY(0));\nfor (int i = 1; i &lt; cs.size(); i++) {\n    double x = cs.getX(i), y = cs.getY(i);\n    gc.lineTo(x, y);\n}\n//LinearRings (as other closed structures) in JTS repeat the first point\n//as the last, so the last lineTo will close the rendered loop\n\nfor (int holeIdx = 0; holeIdx &lt; somePolygon.getNumInteriorRing(); holeIdx++) {\n    //exactly the same code as above, just for each hole\n    cs = somePolygon.getInteriorRingN(holeIdx).getCoordinateSequence();\n    gc.moveTo(cs.getX(0), cs.getY(0));\n    for (int i = 1; i &lt; cs.size(); i++) {\n        double x = cs.getX(i), y = cs.getY(i);\n        gc.lineTo(x, y);\n    }\n}\ngc.closePath();\ngc.fill();\n//Even with the default FillRule.NON_ZERO fill() will result in filling only\n//the &quot;inside&quot; of the Polygon, leaving the holes untouched\n//(because Exterior is oriented Clockwise and Interior Counter-Clockwise\n</code></pre>\n"}],"owner":{"account_id":210412,"reputation":63,"user_id":462013,"display_name":"BayerMeister"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":442,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75178543,"answer_count":1,"score":2,"last_activity_date":1674464404,"creation_date":1674040592,"question_id":75158397,"body_markdown":"I need a buffer sometimes around a polygon and sometimes inside a polygon. I had an own naive solution in the past but decided to use something more robust this time: Here comes my first attempt with JTS.\r\n\r\nHere is my observation. It might be my bug, but most likely I&#39;m doing something wrong.\r\n\r\nIf you make the inner buffer self-intersect, the buffer algorithm gives you (correctly) a `MultiPolygon`. See picture below, the buffer is the rounded shape, the source polygon is filled.\r\n\r\n[![inner buffer with self-intersection](https://i.stack.imgur.com/4v3J4.png)](https://i.stack.imgur.com/4v3J4.png)\r\n\r\nHowewer, if you have an outer buffer and make a C-shaped polygon so that the buffer self-intersects, only a `Polygon` is produced, IMO not ok. Here:\r\n\r\n[![outer buffer with self-intersection](https://i.stack.imgur.com/6e4o6.png)](https://i.stack.imgur.com/6e4o6.png)\r\n\r\nIt looks like the algorithm did most of the work, but the path did not get split. If there was an index, where in the list of coordinates the second ring begins, one would split the list and have the right result. These two splits would make the correct two `Polygons` of a `MultiPolygon` I would like to have as an outcome.\r\n\r\nFrom other experience I assumed the orientation of the source polygon might be an issue. I tried reversing them, but that had no effect.\r\n\r\nI followed the debugger into the sources of JTS (1.19.0) to see what was going on, but that is above my head for now. I might go back and try that again with more coffee, but hopefully someone gives me some insight here.\r\n\r\nI&#39;m rendering with JavaFX Canvas, I&#39;m sure that has nothing to do with it. Because: It&#39;s the `Geometry.buffer()` method (called on a `Polygon` class), that produces `MultiPolygon` or `Polygon` respectively in these two scenarios.\r\n\r\nA simplified code would be:\r\n\r\n```\r\nPolygon polygon = (new GeometryFactory()).createPolygon(new Coordinate[]{\r\n    new Coordinate(0,0),\r\n    new Coordinate(10,0),\r\n    new Coordinate(10,10),\r\n    new Coordinate(0,10)/*, ...a lot loaded from file*/\r\n});\r\n//optionally here check if Orientation.isCCW(polygon.getCoordinates())\r\n//then polygon = polygon.reverse()\r\n\r\n//would produce a MultiPolygon if buffer self-intersected like in the 1st picture\r\nGeometry innerPadding = polygon.buffer(-1);\r\n\r\n//would produce a malformed Polyon if buffer self-intersected like in the 2nd picture\r\nGeometry outerMargins = polygon.buffer(1);\r\n\r\n//to get simple Polygons from a MultiPolygon\r\nfor (int n = 0; n &lt; innerPadding.getNumGeometries(); n++) {\r\n    Geometry part = innerPadding.getGeometryN(n);\r\n    //here &quot;part&quot; would be a Polygon instance\r\n    //render using a loop over part.getCoordiantes()\r\n}\r\n```","title":"JTS polygon buffer produces a MultiPolygon when there are self-intersections, but only with inner buffer, not outer. Why?","body":"<p>I need a buffer sometimes around a polygon and sometimes inside a polygon. I had an own naive solution in the past but decided to use something more robust this time: Here comes my first attempt with JTS.</p>\n<p>Here is my observation. It might be my bug, but most likely I'm doing something wrong.</p>\n<p>If you make the inner buffer self-intersect, the buffer algorithm gives you (correctly) a <code>MultiPolygon</code>. See picture below, the buffer is the rounded shape, the source polygon is filled.</p>\n<p><a href=\"https://i.stack.imgur.com/4v3J4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4v3J4.png\" alt=\"inner buffer with self-intersection\" /></a></p>\n<p>Howewer, if you have an outer buffer and make a C-shaped polygon so that the buffer self-intersects, only a <code>Polygon</code> is produced, IMO not ok. Here:</p>\n<p><a href=\"https://i.stack.imgur.com/6e4o6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6e4o6.png\" alt=\"outer buffer with self-intersection\" /></a></p>\n<p>It looks like the algorithm did most of the work, but the path did not get split. If there was an index, where in the list of coordinates the second ring begins, one would split the list and have the right result. These two splits would make the correct two <code>Polygons</code> of a <code>MultiPolygon</code> I would like to have as an outcome.</p>\n<p>From other experience I assumed the orientation of the source polygon might be an issue. I tried reversing them, but that had no effect.</p>\n<p>I followed the debugger into the sources of JTS (1.19.0) to see what was going on, but that is above my head for now. I might go back and try that again with more coffee, but hopefully someone gives me some insight here.</p>\n<p>I'm rendering with JavaFX Canvas, I'm sure that has nothing to do with it. Because: It's the <code>Geometry.buffer()</code> method (called on a <code>Polygon</code> class), that produces <code>MultiPolygon</code> or <code>Polygon</code> respectively in these two scenarios.</p>\n<p>A simplified code would be:</p>\n<pre><code>Polygon polygon = (new GeometryFactory()).createPolygon(new Coordinate[]{\n    new Coordinate(0,0),\n    new Coordinate(10,0),\n    new Coordinate(10,10),\n    new Coordinate(0,10)/*, ...a lot loaded from file*/\n});\n//optionally here check if Orientation.isCCW(polygon.getCoordinates())\n//then polygon = polygon.reverse()\n\n//would produce a MultiPolygon if buffer self-intersected like in the 1st picture\nGeometry innerPadding = polygon.buffer(-1);\n\n//would produce a malformed Polyon if buffer self-intersected like in the 2nd picture\nGeometry outerMargins = polygon.buffer(1);\n\n//to get simple Polygons from a MultiPolygon\nfor (int n = 0; n &lt; innerPadding.getNumGeometries(); n++) {\n    Geometry part = innerPadding.getGeometryN(n);\n    //here &quot;part&quot; would be a Polygon instance\n    //render using a loop over part.getCoordiantes()\n}\n</code></pre>\n"},{"tags":["java","string","list","knuth","fisher-yates-shuffle"],"answers":[{"tags":[],"owner":{"account_id":20457051,"reputation":76,"user_id":15010460,"display_name":"donvogel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674456338,"creation_date":1674455907,"answer_id":75206303,"question_id":75206215,"body_markdown":"Your problem is folowing line\r\n\r\n    mylist.toArray(arr);\r\n\r\nThe `toArray` method return the filled array. the parameter is only for init of the new array.\r\n\r\nTry the follwowing\r\n\r\n    arr = mylist.toArray();\r\n","title":"I need to convert list in java into java array with while loop","body":"<p>Your problem is folowing line</p>\n<pre><code>mylist.toArray(arr);\n</code></pre>\n<p>The <code>toArray</code> method return the filled array. the parameter is only for init of the new array.</p>\n<p>Try the follwowing</p>\n<pre><code>arr = mylist.toArray();\n</code></pre>\n"}],"owner":{"account_id":26560981,"reputation":3,"user_id":20313875,"display_name":"DTJ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1674481012,"accepted_answer_id":75206303,"answer_count":1,"score":-2,"last_activity_date":1674464382,"creation_date":1674455068,"question_id":75206215,"body_markdown":"I get the question about choosing a random word from user input using Knuth&#39;s shuffling algorithm, but the problem is I have the constraint of using some specific libraries.\r\n \r\n(here is the link for more details - my part is to form the random word java file) https://coursera.cs.princeton.edu/algs4/assignments/hello/specification.php\r\n\r\nMy main problem is, my program accepts the user&#39;s input in form of a string list and uses the while-loop to add more detail, but to apply the algorithm I must convert the list into arrays; however, the program doesn&#39;t get my data and it always returns an empty array. What should I do, thanks in advance!\r\n\r\nHere is my code:\r\n```java\r\nimport java.io.IOException;\r\nimport java.util.ArrayList;\r\nimport java.util.Arrays;\r\nimport edu.princeton.cs.algs4.StdIn;\r\nimport edu.princeton.cs.algs4.StdOut;\r\n\r\npublic class RandomWord {\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        StdOut.println(&quot;enter your words&quot;); // StdIn.hasNextChar() = !StdIn.isEmpty()\r\n        ArrayList&lt;String&gt; mylist = new ArrayList&lt;String&gt;();\r\n        String store = new String();\r\n        int count = 1;\r\n        String[] arr = new String[mylist.size()];\r\n        int k = 0;\r\n        store = StdIn.readString();\r\n        mylist.add(store);\r\n        if (StdIn.hasNextChar() == false || mylist.contains(null)) {\r\n            StdOut.println(&quot;you enter nothing&quot;);\r\n        }\r\n        else {\r\n            while (count == mylist.size()) {\r\n                while (StdIn.hasNextChar() == true) {\r\n                    store = StdIn.readString();\r\n                    mylist.add(store);\r\n                    count++;\r\n                    mylist.toArray(arr);\r\n                    System.out.println(Arrays.toString(arr));\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\nHere is my test result:\r\n\r\n&gt; enter your words\r\n\r\n&gt; hi ho // my input from the terminal\r\n\r\n&gt; [] // the result: an empty array - not what I want\r\n\r\n\r\nNotice: If I use `System.out.println(mylist)`  it still prints for me the `ArrayList` full of input ( `[ hi, ho] `) but I think that is the list - not the array, in case if I can shuffle the list entries, can anyone show me how to do that in the simplest ways with Knuth&#39;s algorithm!\r\n\r\nI try to add more specific constraints, such as the while-loop may end when the list size == the number of words the user adds into the program, but It doesn&#39;t work as I think\r\n\r\nI expect the data can convert from strings -&gt; a String[] but don&#39;t have to go through the list conversion\r\n","title":"I need to convert list in java into java array with while loop","body":"<p>I get the question about choosing a random word from user input using Knuth's shuffling algorithm, but the problem is I have the constraint of using some specific libraries.</p>\n<p>(here is the link for more details - my part is to form the random word java file) <a href=\"https://coursera.cs.princeton.edu/algs4/assignments/hello/specification.php\" rel=\"nofollow noreferrer\">https://coursera.cs.princeton.edu/algs4/assignments/hello/specification.php</a></p>\n<p>My main problem is, my program accepts the user's input in form of a string list and uses the while-loop to add more detail, but to apply the algorithm I must convert the list into arrays; however, the program doesn't get my data and it always returns an empty array. What should I do, thanks in advance!</p>\n<p>Here is my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport edu.princeton.cs.algs4.StdIn;\nimport edu.princeton.cs.algs4.StdOut;\n\npublic class RandomWord {\n\n    public static void main(String[] args) throws IOException {\n        StdOut.println(&quot;enter your words&quot;); // StdIn.hasNextChar() = !StdIn.isEmpty()\n        ArrayList&lt;String&gt; mylist = new ArrayList&lt;String&gt;();\n        String store = new String();\n        int count = 1;\n        String[] arr = new String[mylist.size()];\n        int k = 0;\n        store = StdIn.readString();\n        mylist.add(store);\n        if (StdIn.hasNextChar() == false || mylist.contains(null)) {\n            StdOut.println(&quot;you enter nothing&quot;);\n        }\n        else {\n            while (count == mylist.size()) {\n                while (StdIn.hasNextChar() == true) {\n                    store = StdIn.readString();\n                    mylist.add(store);\n                    count++;\n                    mylist.toArray(arr);\n                    System.out.println(Arrays.toString(arr));\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>Here is my test result:</p>\n<blockquote>\n<p>enter your words</p>\n</blockquote>\n<blockquote>\n<p>hi ho // my input from the terminal</p>\n</blockquote>\n<blockquote>\n<p>[] // the result: an empty array - not what I want</p>\n</blockquote>\n<p>Notice: If I use <code>System.out.println(mylist)</code>  it still prints for me the <code>ArrayList</code> full of input ( <code>[ hi, ho] </code>) but I think that is the list - not the array, in case if I can shuffle the list entries, can anyone show me how to do that in the simplest ways with Knuth's algorithm!</p>\n<p>I try to add more specific constraints, such as the while-loop may end when the list size == the number of words the user adds into the program, but It doesn't work as I think</p>\n<p>I expect the data can convert from strings -&gt; a String[] but don't have to go through the list conversion</p>\n"},{"tags":["java","tomcat","netbeans"],"comments":[{"owner":{"account_id":4548442,"reputation":1382,"user_id":3694267,"accept_rate":56,"display_name":"HJK"},"score":1,"creation_date":1424163191,"post_id":28557951,"comment_id":45427812,"body_markdown":"Aren&#39;t you getting any exception","body":"Aren&#39;t you getting any exception"},{"owner":{"account_id":2577620,"reputation":1618,"user_id":2234942,"accept_rate":43,"display_name":"Kalaiarasan Manimaran"},"score":0,"creation_date":1424163229,"post_id":28557951,"comment_id":45427831,"body_markdown":"There is no error information in the logs which you have posted. post us with full logs","body":"There is no error information in the logs which you have posted. post us with full logs"},{"owner":{"account_id":4380069,"reputation":765,"user_id":3571933,"accept_rate":65,"display_name":"Exceen"},"score":0,"creation_date":1424163390,"post_id":28557951,"comment_id":45427924,"body_markdown":"This is the full log and I don&#39;t get any exception.","body":"This is the full log and I don&#39;t get any exception."},{"owner":{"account_id":5036059,"reputation":3632,"user_id":4044787,"accept_rate":78,"display_name":"Randyka Yudhistira"},"score":0,"creation_date":1424163516,"post_id":28557951,"comment_id":45427985,"body_markdown":"its already running. try go to your localhost in browser","body":"its already running. try go to your localhost in browser"},{"owner":{"account_id":4380069,"reputation":765,"user_id":3571933,"accept_rate":65,"display_name":"Exceen"},"score":0,"creation_date":1424163580,"post_id":28557951,"comment_id":45428015,"body_markdown":"Not it is not. If I try to run a program it says after ~3 minutes &quot;Starting of Tomcat failed.&quot;","body":"Not it is not. If I try to run a program it says after ~3 minutes &quot;Starting of Tomcat failed.&quot;"},{"owner":{"account_id":1317825,"reputation":12193,"user_id":1264321,"accept_rate":92,"display_name":"Stefan"},"score":0,"creation_date":1424164152,"post_id":28557951,"comment_id":45428285,"body_markdown":"&quot;Server startup in 793 ms&quot;. If you are still getting a timeout, reinstall Netbeans.","body":"&quot;Server startup in 793 ms&quot;. If you are still getting a timeout, reinstall Netbeans."}],"answers":[{"tags":[],"owner":{"account_id":2454231,"reputation":1496,"user_id":2139804,"accept_rate":70,"display_name":"Tinki"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1424165179,"creation_date":1424165179,"answer_id":28558558,"question_id":28557951,"body_markdown":"Check in your web browser, if after starting tomcat you can reach localhost (if you haven&#39;t changed port number, it&#39;s under: http://localhost:8080/).\r\n\r\nIf it works:\r\n- There is problem with application- server communication (Have you properly deployed your app? Is there any firewall, which might block your app from running?)\r\n\r\nIf not:\r\nTomcat is configured incorrectly. You might try to start it outside Netbeans (e.g. in console) to see if it works. If not, reinstall Tomcat. ","title":"Unable to start Tomcat","body":"<p>Check in your web browser, if after starting tomcat you can reach localhost (if you haven't changed port number, it's under: <a href=\"http://localhost:8080/\" rel=\"nofollow\">http://localhost:8080/</a>).</p>\n\n<p>If it works:\n- There is problem with application- server communication (Have you properly deployed your app? Is there any firewall, which might block your app from running?)</p>\n\n<p>If not:\nTomcat is configured incorrectly. You might try to start it outside Netbeans (e.g. in console) to see if it works. If not, reinstall Tomcat. </p>\n"},{"tags":[],"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1424233569,"creation_date":1424233569,"answer_id":28575982,"question_id":28557951,"body_markdown":"Try something:\r\n&lt;br/&gt;- Enter your web application path correctly, manually in web browser address bar.\r\n&lt;br/&gt;- Because IDE don&#39;t know start path. Or you must set up `&lt;welcome-files-list&gt;` element in `web.xml`.","title":"Unable to start Tomcat","body":"<p>Try something:\n<br/>- Enter your web application path correctly, manually in web browser address bar.\n<br/>- Because IDE don't know start path. Or you must set up <code>&lt;welcome-files-list&gt;</code> element in <code>web.xml</code>.</p>\n"},{"tags":[],"owner":{"account_id":6094259,"reputation":654,"user_id":4755595,"display_name":"Ivan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1448272763,"creation_date":1448272763,"answer_id":33868128,"question_id":28557951,"body_markdown":"I have the same issue, but this solves the problem:\r\n\r\n&gt; Hi,  I just want to point out an observation.  I discovered that\r\n&gt; starting tomee 1.7.2 (plus) as a server in netbeans, netbeans is not\r\n&gt; too happy about the server=&quot;Apache TomEE&quot; config on the 8080\r\n&gt; connector.  So by removing this one startup is OK again. \r\n&gt; \r\n&gt; I guess a bug in the netbeans tomee (and tomcat) extention.\r\n\r\n(founded here: http://tomee-openejb.979440.n4.nabble.com/netbeans-annoyance-td4675134.html )","title":"Unable to start Tomcat","body":"<p>I have the same issue, but this solves the problem:</p>\n\n<blockquote>\n  <p>Hi,  I just want to point out an observation.  I discovered that\n  starting tomee 1.7.2 (plus) as a server in netbeans, netbeans is not\n  too happy about the server=\"Apache TomEE\" config on the 8080\n  connector.  So by removing this one startup is OK again. </p>\n  \n  <p>I guess a bug in the netbeans tomee (and tomcat) extention.</p>\n</blockquote>\n\n<p>(founded here: <a href=\"http://tomee-openejb.979440.n4.nabble.com/netbeans-annoyance-td4675134.html\" rel=\"nofollow\">http://tomee-openejb.979440.n4.nabble.com/netbeans-annoyance-td4675134.html</a> )</p>\n"},{"comments":[{"owner":{"account_id":5899695,"reputation":398,"user_id":4643632,"display_name":"Prem"},"score":2,"creation_date":1576573786,"post_id":39571593,"comment_id":104934478,"body_markdown":"But where in the server.xml file ```server=&quot;Apache Tomcat&quot;``` need to be added?","body":"But where in the server.xml file <code>server=&quot;Apache Tomcat&quot;</code> need to be added?"}],"tags":[],"owner":{"account_id":9218072,"reputation":21,"user_id":6848536,"display_name":"Natee Pantong"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1474284682,"creation_date":1474282925,"answer_id":39571593,"question_id":28557951,"body_markdown":"I&#39;ve found the fix by editing `server.xml` and adding `server=&quot;XXXXXXX&quot;`, where `XXXXXXX` should be the same name as web server found in `netbeans`. \r\n\r\nFor example, `server=&quot;Apache Tomcat or TomEE&quot;`","title":"Unable to start Tomcat","body":"<p>I've found the fix by editing <code>server.xml</code> and adding <code>server=\"XXXXXXX\"</code>, where <code>XXXXXXX</code> should be the same name as web server found in <code>netbeans</code>. </p>\n\n<p>For example, <code>server=\"Apache Tomcat or TomEE\"</code></p>\n"},{"tags":[],"owner":{"account_id":1909405,"reputation":111,"user_id":1723621,"display_name":"Michael Assraf"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1476779080,"creation_date":1476779080,"answer_id":40103178,"question_id":28557951,"body_markdown":"Happened to me on my mac. \r\n\r\nThe cause was network change =&gt; I set static IP on network settings.","title":"Unable to start Tomcat","body":"<p>Happened to me on my mac. </p>\n\n<p>The cause was network change => I set static IP on network settings.</p>\n"},{"tags":[],"owner":{"account_id":338807,"reputation":23,"user_id":667894,"display_name":"d w"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1525997350,"creation_date":1525997350,"answer_id":50283154,"question_id":28557951,"body_markdown":"Had a problem with the same symptoms, turned out manager.xml was missing from CATALINA_BASE/conf/localhost, so Tomcat&#39;s manager app wasn&#39;t starting so Netbeans couldn&#39;t talk to it. Installing a manager.xml file with following contents fixed the problem:\r\n\r\n    &lt;Context docBase=&quot;${catalina.home}/webapps/manager&quot; antiResourceLocking=&quot;false&quot; privileged=&quot;true&quot;/&gt;","title":"Unable to start Tomcat","body":"<p>Had a problem with the same symptoms, turned out manager.xml was missing from CATALINA_BASE/conf/localhost, so Tomcat's manager app wasn't starting so Netbeans couldn't talk to it. Installing a manager.xml file with following contents fixed the problem:</p>\n\n<pre><code>&lt;Context docBase=\"${catalina.home}/webapps/manager\" antiResourceLocking=\"false\" privileged=\"true\"/&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11001518,"reputation":101,"user_id":8081996,"display_name":"TXN"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1531793907,"creation_date":1531793907,"answer_id":51372341,"question_id":28557951,"body_markdown":"None of the other answers helped for me and nothing was logged anywhere either, so I went the long way and debugged NetBeans in the Java debugger to find out what was going wrong. It made me discover that NetBeans was denied a TCP socket connection to the Tomcat Manager webapp, which made it falsely assume Tomcat wasn&#39;t alive.\r\n\r\nSolution:\r\n\r\nAdd\r\n\r\n    -J-Djava.net.preferIPv4Stack=true\r\n\r\nto the command line options in netbeans.conf file (key &quot;netbeans_default_options&quot;).\r\n\r\nIf this still doesn&#39;t help for you, you can set a breakpoint in org.netbeans.modules.tomcat5.util.Utils#pingTomcat() and trace what&#39;s happening from there.","title":"Unable to start Tomcat","body":"<p>None of the other answers helped for me and nothing was logged anywhere either, so I went the long way and debugged NetBeans in the Java debugger to find out what was going wrong. It made me discover that NetBeans was denied a TCP socket connection to the Tomcat Manager webapp, which made it falsely assume Tomcat wasn't alive.</p>\n\n<p>Solution:</p>\n\n<p>Add</p>\n\n<pre><code>-J-Djava.net.preferIPv4Stack=true\n</code></pre>\n\n<p>to the command line options in netbeans.conf file (key \"netbeans_default_options\").</p>\n\n<p>If this still doesn't help for you, you can set a breakpoint in org.netbeans.modules.tomcat5.util.Utils#pingTomcat() and trace what's happening from there.</p>\n"},{"tags":[],"owner":{"account_id":1327441,"reputation":3821,"user_id":1271985,"accept_rate":79,"display_name":"sarwar026"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674464331,"creation_date":1674464331,"answer_id":75207306,"question_id":28557951,"body_markdown":"In my Windows machine, I solved the problem using the following links:\r\n\r\nhttps://geekflare.com/tomcat-stuck-at-startup/\r\n\r\n**Summary of the link:** \r\n\r\n 1. Go to Tomcat installation folder and then bin\r\n 2. Open catalina.sh using the vi editor \r\n 3. Search for JAVA_OPTS and add the following\r\n    \r\n&gt; -Djava.security.egd=file:/dev/./urandom\r\n 4. Save the file and restart Tomcat","title":"Unable to start Tomcat","body":"<p>In my Windows machine, I solved the problem using the following links:</p>\n<p><a href=\"https://geekflare.com/tomcat-stuck-at-startup/\" rel=\"nofollow noreferrer\">https://geekflare.com/tomcat-stuck-at-startup/</a></p>\n<p><strong>Summary of the link:</strong></p>\n<ol>\n<li>Go to Tomcat installation folder and then bin</li>\n<li>Open catalina.sh using the vi editor</li>\n<li>Search for JAVA_OPTS and add the following</li>\n</ol>\n<blockquote>\n<p>-Djava.security.egd=file:/dev/./urandom\n4. Save the file and restart Tomcat</p>\n</blockquote>\n"}],"owner":{"account_id":4380069,"reputation":765,"user_id":3571933,"accept_rate":65,"display_name":"Exceen"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16669,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":8,"score":2,"last_activity_date":1674464331,"creation_date":1424163086,"question_id":28557951,"body_markdown":"I&#39;m trying to start Tomcat in Netbeans, unfortunately it is stuck at &quot;org.apache.catalina.startup.Catalina.start Server startup in 793 ms&quot;. After a while I get an error message popup saying that starting Tomcat failed. I&#39;m using Mac OS\r\n\r\nThis is all the output I see:\r\n\r\n    29-Jan-2015 11:42:53.328 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server version:        Apache Tomcat/8.0.15\r\n    29-Jan-2015 11:42:53.329 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server built:          Nov 2 2014 19:25:20 UTC\r\n    29-Jan-2015 11:42:53.329 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server number:         8.0.15.0\r\n    29-Jan-2015 11:42:53.329 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log OS Name:               Mac OS X\r\n    29-Jan-2015 11:42:53.329 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log OS Version:            10.10.1\r\n    29-Jan-2015 11:42:53.329 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Architecture:          x86_64\r\n    29-Jan-2015 11:42:53.329 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log JAVA_HOME:             /Library/Java/JavaVirtualMachines/jdk1.7.0_25.jdk/Contents/Home/jre\r\n    29-Jan-2015 11:42:53.330 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log JVM Version:           1.7.0_25-b15\r\n    29-Jan-2015 11:42:53.330 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log JVM Vendor:            Oracle Corporation\r\n    29-Jan-2015 11:42:53.330 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log CATALINA_BASE:         /Users/Exceen/Library/Application Support/NetBeans/8.0.2/apache-tomcat-8.0.15.0_base\r\n    29-Jan-2015 11:42:53.330 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log CATALINA_HOME:         /Applications/NetBeans/apache-tomcat-8.0.15\r\n    29-Jan-2015 11:42:53.331 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.util.logging.config.file=/Users/Exceen/Library/Application Support/NetBeans/8.0.2/apache-tomcat-8.0.15.0_base/conf/logging.properties\r\n    29-Jan-2015 11:42:53.331 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager\r\n    29-Jan-2015 11:42:53.331 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.endorsed.dirs=/Applications/NetBeans/apache-tomcat-8.0.15/endorsed\r\n    29-Jan-2015 11:42:53.331 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcatalina.base=/Users/Exceen/Library/Application Support/NetBeans/8.0.2/apache-tomcat-8.0.15.0_base\r\n    29-Jan-2015 11:42:53.331 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcatalina.home=/Applications/NetBeans/apache-tomcat-8.0.15\r\n    29-Jan-2015 11:42:53.331 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.io.tmpdir=/Users/Exceen/Library/Application Support/NetBeans/8.0.2/apache-tomcat-8.0.15.0_base/temp\r\n    29-Jan-2015 11:42:53.332 INFO [main] org.apache.catalina.core.AprLifecycleListener.lifecycleEvent The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: /Applications/NetBeans/NetBeans 8.0.2.app/Contents/Resources/NetBeans/webcommon/bin::/Users/Exceen/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.\r\n    29-Jan-2015 11:42:53.479 INFO [main] org.apache.coyote.AbstractProtocol.init Initializing ProtocolHandler [&quot;http-nio-8080&quot;]\r\n    29-Jan-2015 11:42:53.503 INFO [main] org.apache.tomcat.util.net.NioSelectorPool.getSharedSelector Using a shared selector for servlet write/read\r\n    29-Jan-2015 11:42:53.511 INFO [main] org.apache.coyote.AbstractProtocol.init Initializing ProtocolHandler [&quot;ajp-nio-8009&quot;]\r\n    29-Jan-2015 11:42:53.513 INFO [main] org.apache.tomcat.util.net.NioSelectorPool.getSharedSelector Using a shared selector for servlet write/read\r\n    29-Jan-2015 11:42:53.517 INFO [main] org.apache.catalina.startup.Catalina.load Initialization processed in 696 ms\r\n    29-Jan-2015 11:42:53.586 INFO [main] org.apache.catalina.core.StandardService.startInternal Starting service Catalina\r\n    29-Jan-2015 11:42:53.586 INFO [main] org.apache.catalina.core.StandardEngine.startInternal Starting Servlet Engine: Apache Tomcat/8.0.15\r\n    29-Jan-2015 11:42:53.599 INFO [localhost-startStop-1] org.apache.catalina.startup.HostConfig.deployDescriptor Deploying configuration descriptor /Users/Exceen/Library/Application Support/NetBeans/8.0.2/apache-tomcat-8.0.15.0_base/conf/Catalina/localhost/manager.xml\r\n    29-Jan-2015 11:42:54.127 INFO [localhost-startStop-1] org.apache.jasper.servlet.TldScanner.scanJars At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\r\n    29-Jan-2015 11:42:54.196 INFO [localhost-startStop-1] org.apache.catalina.startup.HostConfig.deployDescriptor Deployment of configuration descriptor /Users/Exceen/Library/Application Support/NetBeans/8.0.2/apache-tomcat-8.0.15.0_base/conf/Catalina/localhost/manager.xml has finished in 596 ms\r\n    29-Jan-2015 11:42:54.196 INFO [localhost-startStop-1] org.apache.catalina.startup.HostConfig.deployDescriptor Deploying configuration descriptor /Users/Exceen/Library/Application Support/NetBeans/8.0.2/apache-tomcat-8.0.15.0_base/conf/Catalina/localhost/ROOT.xml\r\n    29-Jan-2015 11:42:54.297 INFO [localhost-startStop-1] org.apache.jasper.servlet.TldScanner.scanJars At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\r\n    29-Jan-2015 11:42:54.299 INFO [localhost-startStop-1] org.apache.catalina.startup.HostConfig.deployDescriptor Deployment of configuration descriptor /Users/Exceen/Library/Application Support/NetBeans/8.0.2/apache-tomcat-8.0.15.0_base/conf/Catalina/localhost/ROOT.xml has finished in 103 ms\r\n    29-Jan-2015 11:42:54.303 INFO [main] org.apache.coyote.AbstractProtocol.start Starting ProtocolHandler [&quot;http-nio-8080&quot;]\r\n    29-Jan-2015 11:42:54.310 INFO [main] org.apache.coyote.AbstractProtocol.start Starting ProtocolHandler [&quot;ajp-nio-8009&quot;]\r\n    29-Jan-2015 11:42:54.311 INFO [main] org.apache.catalina.startup.Catalina.start Server startup in 793 ms\r\n\r\nCan someone please help me?","title":"Unable to start Tomcat","body":"<p>I'm trying to start Tomcat in Netbeans, unfortunately it is stuck at \"org.apache.catalina.startup.Catalina.start Server startup in 793 ms\". After a while I get an error message popup saying that starting Tomcat failed. I'm using Mac OS</p>\n\n<p>This is all the output I see:</p>\n\n<pre><code>29-Jan-2015 11:42:53.328 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server version:        Apache Tomcat/8.0.15\n29-Jan-2015 11:42:53.329 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server built:          Nov 2 2014 19:25:20 UTC\n29-Jan-2015 11:42:53.329 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server number:         8.0.15.0\n29-Jan-2015 11:42:53.329 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log OS Name:               Mac OS X\n29-Jan-2015 11:42:53.329 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log OS Version:            10.10.1\n29-Jan-2015 11:42:53.329 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Architecture:          x86_64\n29-Jan-2015 11:42:53.329 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log JAVA_HOME:             /Library/Java/JavaVirtualMachines/jdk1.7.0_25.jdk/Contents/Home/jre\n29-Jan-2015 11:42:53.330 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log JVM Version:           1.7.0_25-b15\n29-Jan-2015 11:42:53.330 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log JVM Vendor:            Oracle Corporation\n29-Jan-2015 11:42:53.330 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log CATALINA_BASE:         /Users/Exceen/Library/Application Support/NetBeans/8.0.2/apache-tomcat-8.0.15.0_base\n29-Jan-2015 11:42:53.330 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log CATALINA_HOME:         /Applications/NetBeans/apache-tomcat-8.0.15\n29-Jan-2015 11:42:53.331 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.util.logging.config.file=/Users/Exceen/Library/Application Support/NetBeans/8.0.2/apache-tomcat-8.0.15.0_base/conf/logging.properties\n29-Jan-2015 11:42:53.331 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager\n29-Jan-2015 11:42:53.331 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.endorsed.dirs=/Applications/NetBeans/apache-tomcat-8.0.15/endorsed\n29-Jan-2015 11:42:53.331 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcatalina.base=/Users/Exceen/Library/Application Support/NetBeans/8.0.2/apache-tomcat-8.0.15.0_base\n29-Jan-2015 11:42:53.331 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcatalina.home=/Applications/NetBeans/apache-tomcat-8.0.15\n29-Jan-2015 11:42:53.331 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.io.tmpdir=/Users/Exceen/Library/Application Support/NetBeans/8.0.2/apache-tomcat-8.0.15.0_base/temp\n29-Jan-2015 11:42:53.332 INFO [main] org.apache.catalina.core.AprLifecycleListener.lifecycleEvent The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: /Applications/NetBeans/NetBeans 8.0.2.app/Contents/Resources/NetBeans/webcommon/bin::/Users/Exceen/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.\n29-Jan-2015 11:42:53.479 INFO [main] org.apache.coyote.AbstractProtocol.init Initializing ProtocolHandler [\"http-nio-8080\"]\n29-Jan-2015 11:42:53.503 INFO [main] org.apache.tomcat.util.net.NioSelectorPool.getSharedSelector Using a shared selector for servlet write/read\n29-Jan-2015 11:42:53.511 INFO [main] org.apache.coyote.AbstractProtocol.init Initializing ProtocolHandler [\"ajp-nio-8009\"]\n29-Jan-2015 11:42:53.513 INFO [main] org.apache.tomcat.util.net.NioSelectorPool.getSharedSelector Using a shared selector for servlet write/read\n29-Jan-2015 11:42:53.517 INFO [main] org.apache.catalina.startup.Catalina.load Initialization processed in 696 ms\n29-Jan-2015 11:42:53.586 INFO [main] org.apache.catalina.core.StandardService.startInternal Starting service Catalina\n29-Jan-2015 11:42:53.586 INFO [main] org.apache.catalina.core.StandardEngine.startInternal Starting Servlet Engine: Apache Tomcat/8.0.15\n29-Jan-2015 11:42:53.599 INFO [localhost-startStop-1] org.apache.catalina.startup.HostConfig.deployDescriptor Deploying configuration descriptor /Users/Exceen/Library/Application Support/NetBeans/8.0.2/apache-tomcat-8.0.15.0_base/conf/Catalina/localhost/manager.xml\n29-Jan-2015 11:42:54.127 INFO [localhost-startStop-1] org.apache.jasper.servlet.TldScanner.scanJars At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\n29-Jan-2015 11:42:54.196 INFO [localhost-startStop-1] org.apache.catalina.startup.HostConfig.deployDescriptor Deployment of configuration descriptor /Users/Exceen/Library/Application Support/NetBeans/8.0.2/apache-tomcat-8.0.15.0_base/conf/Catalina/localhost/manager.xml has finished in 596 ms\n29-Jan-2015 11:42:54.196 INFO [localhost-startStop-1] org.apache.catalina.startup.HostConfig.deployDescriptor Deploying configuration descriptor /Users/Exceen/Library/Application Support/NetBeans/8.0.2/apache-tomcat-8.0.15.0_base/conf/Catalina/localhost/ROOT.xml\n29-Jan-2015 11:42:54.297 INFO [localhost-startStop-1] org.apache.jasper.servlet.TldScanner.scanJars At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\n29-Jan-2015 11:42:54.299 INFO [localhost-startStop-1] org.apache.catalina.startup.HostConfig.deployDescriptor Deployment of configuration descriptor /Users/Exceen/Library/Application Support/NetBeans/8.0.2/apache-tomcat-8.0.15.0_base/conf/Catalina/localhost/ROOT.xml has finished in 103 ms\n29-Jan-2015 11:42:54.303 INFO [main] org.apache.coyote.AbstractProtocol.start Starting ProtocolHandler [\"http-nio-8080\"]\n29-Jan-2015 11:42:54.310 INFO [main] org.apache.coyote.AbstractProtocol.start Starting ProtocolHandler [\"ajp-nio-8009\"]\n29-Jan-2015 11:42:54.311 INFO [main] org.apache.catalina.startup.Catalina.start Server startup in 793 ms\n</code></pre>\n\n<p>Can someone please help me?</p>\n"},{"tags":["java","lambda","java-stream"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1674459406,"post_id":75206692,"comment_id":132710296,"body_markdown":"first filter, then map.\n\nOn the resulting list, add all and divide by length","body":"first filter, then map.  On the resulting list, add all and divide by length"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":5,"creation_date":1674459549,"post_id":75206692,"comment_id":132710329,"body_markdown":"what is wrong with using the `average()` method? See its [documentation](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/stream/IntStream.html#average()) ||  ( BTW what is the method `numbers()`? )","body":"what is wrong with using the <code>average()</code> method? See its <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/stream/IntStream.html#average()\" rel=\"nofollow noreferrer\">documentation</a> ||  ( BTW what is the method <code>numbers()</code>? )"},{"owner":{"account_id":8874014,"reputation":13,"user_id":6668401,"display_name":"Ch&#195;rming &#223;oy"},"score":0,"creation_date":1674459570,"post_id":75206692,"comment_id":132710333,"body_markdown":"Can you please provide the exact code so that i can upvote your answer. Thank you so much for your quick response.Kindly post the complete solution because on execution logic is not working. I would like to see the output of your solution","body":"Can you please provide the exact code so that i can upvote your answer. Thank you so much for your quick response.Kindly post the complete solution because on execution logic is not working. I would like to see the output of your solution"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1674459753,"post_id":75206692,"comment_id":132710368,"body_markdown":"@Ch&#195;rming&#223;oy don&#39;t ask for custom code. We&#39;re not here to do your homework for you","body":"@Ch&#195;rming&#223;oy don&#39;t ask for custom code. We&#39;re not here to do your homework for you"},{"owner":{"account_id":8874014,"reputation":13,"user_id":6668401,"display_name":"Ch&#195;rming &#223;oy"},"score":0,"creation_date":1674459867,"post_id":75206692,"comment_id":132710390,"body_markdown":"numbers is an arrayList data member variable , not function my bad","body":"numbers is an arrayList data member variable , not function my bad"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1674460058,"post_id":75206692,"comment_id":132710423,"body_markdown":"better: 1) use `List&lt;Intger&gt; numbers`; 2) use `mapToInt()` instead of `map` - you want to work with an `IntStream`; 3) to filter **out** numbers greater than 100, that is, to *maintain* numbers less than or equal to 100, the `filter` condition must be inverted (it is the condition for the elements to be *passed* on  to next step","body":"better: 1) use <code>List&lt;Intger&gt; numbers</code>; 2) use <code>mapToInt()</code> instead of <code>map</code> - you want to work with an <code>IntStream</code>; 3) to filter <b>out</b> numbers greater than 100, that is, to <i>maintain</i> numbers less than or equal to 100, the <code>filter</code> condition must be inverted (it is the condition for the elements to be <i>passed</i> on  to next step"},{"owner":{"account_id":8874014,"reputation":13,"user_id":6668401,"display_name":"Ch&#195;rming &#223;oy"},"score":0,"creation_date":1674460522,"post_id":75206692,"comment_id":132710499,"body_markdown":"Suppose i want to have two pipelines together one pipeline stream for numbers greater than 100 and one pipeline stream for less than 100 how to do that and then how to count average of remaining numbers in the same functional program using stream ?","body":"Suppose i want to have two pipelines together one pipeline stream for numbers greater than 100 and one pipeline stream for less than 100 how to do that and then how to count average of remaining numbers in the same functional program using stream ?"}],"answers":[{"comments":[{"owner":{"account_id":8874014,"reputation":13,"user_id":6668401,"display_name":"Ch&#195;rming &#223;oy"},"score":0,"creation_date":1674460314,"post_id":75206795,"comment_id":132710466,"body_markdown":"over here we are not maintaining the &quot;Remaining Numbers&quot; Hence the given program output is wrong and not desired. What should be the logic written to find the remaining numbers and then find the average of the remaining numbers?","body":"over here we are not maintaining the &quot;Remaining Numbers&quot; Hence the given program output is wrong and not desired. What should be the logic written to find the remaining numbers and then find the average of the remaining numbers?"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1674460414,"post_id":75206795,"comment_id":132710477,"body_markdown":"@Ch&#195;rming point 3) of my  [comment](https://stackoverflow.com/questions/75206692/java-8-functional-program-filter-out-the-numbers-greater-than-100-and-then-find#comment132710423_75206692)...","body":"@Ch&#195;rming point 3) of my  <a href=\"https://stackoverflow.com/questions/75206692/java-8-functional-program-filter-out-the-numbers-greater-than-100-and-then-find#comment132710423_75206692\">comment</a>..."},{"owner":{"account_id":6676840,"reputation":2927,"user_id":5151202,"display_name":"times29"},"score":0,"creation_date":1674460745,"post_id":75206795,"comment_id":132710543,"body_markdown":"@Ch&#195;rming&#223;oy sorry, I edited my post","body":"@Ch&#195;rming&#223;oy sorry, I edited my post"},{"owner":{"account_id":8874014,"reputation":13,"user_id":6668401,"display_name":"Ch&#195;rming &#223;oy"},"score":0,"creation_date":1674460900,"post_id":75206795,"comment_id":132710585,"body_markdown":"Can we have multiple parallel streams pipeline and filter numbers greater than 100 and less than 100 both together can we do using parallel() ?","body":"Can we have multiple parallel streams pipeline and filter numbers greater than 100 and less than 100 both together can we do using parallel() ?"},{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":1,"creation_date":1674462761,"post_id":75206795,"comment_id":132711048,"body_markdown":"@Ch&#195;rming&#223;oy yes: you can use `Collectors.partitioningBy(number -&gt; number &lt;= 100)`","body":"@Ch&#195;rming&#223;oy yes: you can use <code>Collectors.partitioningBy(number -&gt; number &lt;= 100)</code>"}],"tags":[],"owner":{"account_id":6676840,"reputation":2927,"user_id":5151202,"display_name":"times29"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674460734,"creation_date":1674460146,"answer_id":75206795,"question_id":75206692,"body_markdown":"With this code\r\n```java\r\nclass Scratch {\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(average(List.of()));\r\n        System.out.println(average(List.of(0, 1, 2, 3, 4, 5)));\r\n        System.out.println(average(List.of(9, 10)));\r\n        System.out.println(average(List.of(10, 11, 12)));\r\n        System.out.println(average(List.of(11, 12, 13)));\r\n        System.out.println(average(List.of(12, 9, 13, 4, 6, 2, 4, 12, 15)));\r\n    }\r\n\r\n    private static double average(final List&lt;Integer&gt; numbers) {\r\n        return numbers.stream()\r\n                .mapToInt(number -&gt; number * number)\r\n                .filter(number -&gt; number &lt;= 100)\r\n                .average()\r\n                .orElse(0);\r\n    }\r\n\r\n}\r\n```\r\n\r\nYou will get this output:\r\n```\r\n0.0\r\n9.166666666666666\r\n90.5\r\n100.0\r\n0.0\r\n30.6\r\n```","title":"Filter out the numbers greater than 100 and then find the average of the remaining numbers?","body":"<p>With this code</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Scratch {\n\n    public static void main(String[] args) {\n        System.out.println(average(List.of()));\n        System.out.println(average(List.of(0, 1, 2, 3, 4, 5)));\n        System.out.println(average(List.of(9, 10)));\n        System.out.println(average(List.of(10, 11, 12)));\n        System.out.println(average(List.of(11, 12, 13)));\n        System.out.println(average(List.of(12, 9, 13, 4, 6, 2, 4, 12, 15)));\n    }\n\n    private static double average(final List&lt;Integer&gt; numbers) {\n        return numbers.stream()\n                .mapToInt(number -&gt; number * number)\n                .filter(number -&gt; number &lt;= 100)\n                .average()\n                .orElse(0);\n    }\n\n}\n</code></pre>\n<p>You will get this output:</p>\n<pre><code>0.0\n9.166666666666666\n90.5\n100.0\n0.0\n30.6\n</code></pre>\n"}],"owner":{"account_id":8874014,"reputation":13,"user_id":6668401,"display_name":"Ch&#195;rming &#223;oy"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":451,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1674481414,"answer_count":1,"score":-2,"last_activity_date":1674464283,"creation_date":1674459297,"question_id":75206692,"body_markdown":"How to write a Java 8 program to square the list of numbers and then filter out the numbers greater than 100 and then find the average of the remaining numbers?\r\n```java\r\nList&lt;Integer&gt; numbers = List.of(12, 9, 13, 4, 6, 2, 4, 12, 15);\r\nnumbers.stream()\r\n                   .map(number-&gt;number*number)\r\n                   .filter(number-&gt;number&gt;100)\r\n```\r\nPlease explain now how to find the average of the remaining numbers.","title":"Filter out the numbers greater than 100 and then find the average of the remaining numbers?","body":"<p>How to write a Java 8 program to square the list of numbers and then filter out the numbers greater than 100 and then find the average of the remaining numbers?</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Integer&gt; numbers = List.of(12, 9, 13, 4, 6, 2, 4, 12, 15);\nnumbers.stream()\n                   .map(number-&gt;number*number)\n                   .filter(number-&gt;number&gt;100)\n</code></pre>\n<p>Please explain now how to find the average of the remaining numbers.</p>\n"},{"tags":["java","google-cloud-storage"],"answers":[{"tags":[],"owner":{"account_id":394155,"reputation":113,"user_id":756421,"display_name":"smm100"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1483675271,"creation_date":1483666904,"answer_id":41497613,"question_id":41496013,"body_markdown":"Ok, I think I solved it. Standard streams solution in the ending.\r\n&lt;pre&gt;\r\n\r\n    GcsOutputChannel gcsOutputChannel = gcsService.createOrReplace(new GcsFilename(&quot;my-bucket&quot;, &quot;log.json.gz&quot;),\r\n    new GcsFileOptions.Builder().build());\r\n    GZIPOutputStream outputStream = new GZIPOutputStream(Channels.newOutputStream(gcsOutputChannel));\r\n        \r\n    GcsInputChannel inputChannel = gcsService\r\n                    .openReadChannel(new GcsFilename(&quot;my-bucket&quot;, &quot;log.json&quot;), 10000);\r\n        \r\n    InputStream inStream = Channels.newInputStream(inputChannel);\r\n    byte[] byteArr = new byte[10000];\r\n    while (inStream.read(byteArr) &gt; 0) {\r\n        outputStream.write(byteArr);\r\n    \r\n    \r\n    }\r\n\r\n&lt;/pre&gt;","title":"Gzipping file on GCS (Google Cloud Storage) via Java API","body":"<p>Ok, I think I solved it. Standard streams solution in the ending.</p>\n\n<pre>\n\n    GcsOutputChannel gcsOutputChannel = gcsService.createOrReplace(new GcsFilename(\"my-bucket\", \"log.json.gz\"),\n    new GcsFileOptions.Builder().build());\n    GZIPOutputStream outputStream = new GZIPOutputStream(Channels.newOutputStream(gcsOutputChannel));\n\n    GcsInputChannel inputChannel = gcsService\n                    .openReadChannel(new GcsFilename(\"my-bucket\", \"log.json\"), 10000);\n\n    InputStream inStream = Channels.newInputStream(inputChannel);\n    byte[] byteArr = new byte[10000];\n    while (inStream.read(byteArr) > 0) {\n        outputStream.write(byteArr);\n\n\n    }\n\n</pre>\n"},{"tags":[],"owner":{"account_id":16919246,"reputation":101,"user_id":12236439,"display_name":"Sai Vamsi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674462778,"creation_date":1674460942,"answer_id":75206883,"question_id":41496013,"body_markdown":"For the latest streaming writer you can follow the below code. Do note that gcp will automatically decompress the object while serving it to web clients. If it doesnt work then add the following header to accept gzip files, &quot;Accept-Encoding&quot;: &quot;gzip&quot;.\r\n       \r\n\r\n        Credentials credentials = GoogleCredentials.fromStream(Files.newInputStream(Paths.get(environmentConfig.getServiceAccount())));\r\n        Storage storage = StorageOptions.newBuilder().setProjectId(environmentConfig.getProjectID()).setCredentials(credentials).build().getService();\r\n\r\n        try (WriteChannel writer = storage.writer(blobInfo)) {\r\n            GZIPOutputStream gzipOutputStream = new \r\n            GZIPOutputStream(Channels.newOutputStream(writer));\r\n            gzipOutputStream.write(ByteBuffer.wrap(objectData, 0, objectData.length).array());\r\n            gzipOutputStream.flush();\r\n            gzipOutputStream.close();\r\n        } catch (IOException ex) {\r\n            log.error(&quot;Upload Error: {}&quot;, ex.getMessage());\r\n        }","title":"Gzipping file on GCS (Google Cloud Storage) via Java API","body":"<p>For the latest streaming writer you can follow the below code. Do note that gcp will automatically decompress the object while serving it to web clients. If it doesnt work then add the following header to accept gzip files, &quot;Accept-Encoding&quot;: &quot;gzip&quot;.</p>\n<pre><code>    Credentials credentials = GoogleCredentials.fromStream(Files.newInputStream(Paths.get(environmentConfig.getServiceAccount())));\n    Storage storage = StorageOptions.newBuilder().setProjectId(environmentConfig.getProjectID()).setCredentials(credentials).build().getService();\n\n    try (WriteChannel writer = storage.writer(blobInfo)) {\n        GZIPOutputStream gzipOutputStream = new \n        GZIPOutputStream(Channels.newOutputStream(writer));\n        gzipOutputStream.write(ByteBuffer.wrap(objectData, 0, objectData.length).array());\n        gzipOutputStream.flush();\n        gzipOutputStream.close();\n    } catch (IOException ex) {\n        log.error(&quot;Upload Error: {}&quot;, ex.getMessage());\n    }\n</code></pre>\n"}],"owner":{"account_id":394155,"reputation":113,"user_id":756421,"display_name":"smm100"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1408,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":41497613,"answer_count":2,"score":2,"last_activity_date":1674462778,"creation_date":1483656016,"question_id":41496013,"body_markdown":"I have log files being dropped into a GCS bucket regularly (e.g. `gs://my-bucket/log.json`)  I want to setup a java process to process the files, gzip them, and move them to a separate bucket where I archive files (i.e. move it to `gs://archived-logs/my-bucket/log.json.gz`)\r\n \r\n`gsutil cp -z` seems to be the only option I can find currently. Has anybody implemented it in a feasible manner using their Java API? ","title":"Gzipping file on GCS (Google Cloud Storage) via Java API","body":"<p>I have log files being dropped into a GCS bucket regularly (e.g. <code>gs://my-bucket/log.json</code>)  I want to setup a java process to process the files, gzip them, and move them to a separate bucket where I archive files (i.e. move it to <code>gs://archived-logs/my-bucket/log.json.gz</code>)</p>\n\n<p><code>gsutil cp -z</code> seems to be the only option I can find currently. Has anybody implemented it in a feasible manner using their Java API? </p>\n"},{"tags":["java","hibernate","jpa","one-to-many"],"answers":[{"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1674461234,"post_id":75206907,"comment_id":132710663,"body_markdown":"This does not answer the question at all. OP doesn&#39;t want the `List&lt;Employee&gt;`, he wants the IDs only","body":"This does not answer the question at all. OP doesn&#39;t want the <code>List&lt;Employee&gt;</code>, he wants the IDs only"},{"owner":{"account_id":6676840,"reputation":2927,"user_id":5151202,"display_name":"times29"},"score":0,"creation_date":1674461973,"post_id":75206907,"comment_id":132710834,"body_markdown":"@XtremeBaumer in order to being able to fetch it, you need to have a valid mapping in the first place. I added a repository method for the fetching logic.","body":"@XtremeBaumer in order to being able to fetch it, you need to have a valid mapping in the first place. I added a repository method for the fetching logic."},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1674462223,"post_id":75206907,"comment_id":132710902,"body_markdown":"While true, it is possible to get the IDs as a field with mapping in the `Company` directly","body":"While true, it is possible to get the IDs as a field with mapping in the <code>Company</code> directly"},{"owner":{"account_id":13822903,"reputation":65,"user_id":9977928,"display_name":"shashank"},"score":0,"creation_date":1674466514,"post_id":75206907,"comment_id":132712102,"body_markdown":"I need to have List of employeeIds, not the list of employees.","body":"I need to have List of employeeIds, not the list of employees."},{"owner":{"account_id":6676840,"reputation":2927,"user_id":5151202,"display_name":"times29"},"score":0,"creation_date":1674473104,"post_id":75206907,"comment_id":132713957,"body_markdown":"@shashank this is the way to go! As you can see the other propsed way does not work. You need to configure the mapping correctly, else it won&#39;t work as expected. Use the repository to query the IDs when you need them. Everything you need is in my post.","body":"@shashank this is the way to go! As you can see the other propsed way does not work. You need to configure the mapping correctly, else it won&#39;t work as expected. Use the repository to query the IDs when you need them. Everything you need is in my post."}],"tags":[],"owner":{"account_id":6676840,"reputation":2927,"user_id":5151202,"display_name":"times29"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674462226,"creation_date":1674461154,"answer_id":75206907,"question_id":75206625,"body_markdown":"Check out [this article by Vlad Mihalcea][1], it explains everything in great detail!\r\nThe optimal mapping would look like this:\r\n```java\r\n@Entity\r\npublic class Employee {\r\n\r\n    @Id\r\n    private String eId;\r\n\r\n    private String eName;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    private Company refundRequest;\r\n\r\n    void setRefundRequest(Company refundRequest) {\r\n        this.refundRequest = refundRequest;\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) return true;\r\n        if (o == null || getClass() != o.getClass()) return false;\r\n        Employee employee = (Employee) o;\r\n        return Objects.equals(eId, employee.eId);\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return Objects.hash(eId);\r\n    }\r\n    \r\n}\r\n```\r\n\r\n```java\r\n@Entity\r\npublic class Company {\r\n\r\n    @Id\r\n    private String cId;\r\n\r\n    private String cName;\r\n\r\n    @OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;company&quot;, orphanRemoval = true)\r\n    private List&lt;Employee&gt; employees;\r\n\r\n    public void addEmployee(final Employee employee) {\r\n        employee.setRefundRequest(this);\r\n        employees.add(employee);\r\n    }\r\n    \r\n    public void removeEmployee(final Employee employee) {\r\n        employee.setRefundRequest(null);\r\n        employees.remove(employee);\r\n    }\r\n    \r\n}\r\n```\r\nMake sure to read the above mentioned article to understand why this mapping is optimal!\r\n\r\nIn order to fetch it, you can use a repository:\r\n```java\r\n@Repository\r\npublic interface EmployeeRepository extends JpaRepository&lt;Employee, String&gt; {\r\n\r\n    @Query(&quot;select e.eId from Employee e where e.company = :company&quot;)\r\n    List&lt;String&gt; findEmployeeIdsByCompany(@Param(&quot;company&quot;) Company company);\r\n\r\n}\r\n```\r\n\r\nBy the way, eager fetching is [a massive code smell][2] and should be avoided!\r\n\r\n\r\n  [1]: https://vladmihalcea.com/the-best-way-to-map-a-onetomany-association-with-jpa-and-hibernate/\r\n  [2]: https://vladmihalcea.com/eager-fetching-is-a-code-smell/","title":"Hibernate one-to-many to fetch only primary key column of the target entity","body":"<p>Check out <a href=\"https://vladmihalcea.com/the-best-way-to-map-a-onetomany-association-with-jpa-and-hibernate/\" rel=\"nofollow noreferrer\">this article by Vlad Mihalcea</a>, it explains everything in great detail!\nThe optimal mapping would look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class Employee {\n\n    @Id\n    private String eId;\n\n    private String eName;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    private Company refundRequest;\n\n    void setRefundRequest(Company refundRequest) {\n        this.refundRequest = refundRequest;\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n        Employee employee = (Employee) o;\n        return Objects.equals(eId, employee.eId);\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(eId);\n    }\n    \n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class Company {\n\n    @Id\n    private String cId;\n\n    private String cName;\n\n    @OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;company&quot;, orphanRemoval = true)\n    private List&lt;Employee&gt; employees;\n\n    public void addEmployee(final Employee employee) {\n        employee.setRefundRequest(this);\n        employees.add(employee);\n    }\n    \n    public void removeEmployee(final Employee employee) {\n        employee.setRefundRequest(null);\n        employees.remove(employee);\n    }\n    \n}\n</code></pre>\n<p>Make sure to read the above mentioned article to understand why this mapping is optimal!</p>\n<p>In order to fetch it, you can use a repository:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository\npublic interface EmployeeRepository extends JpaRepository&lt;Employee, String&gt; {\n\n    @Query(&quot;select e.eId from Employee e where e.company = :company&quot;)\n    List&lt;String&gt; findEmployeeIdsByCompany(@Param(&quot;company&quot;) Company company);\n\n}\n</code></pre>\n<p>By the way, eager fetching is <a href=\"https://vladmihalcea.com/eager-fetching-is-a-code-smell/\" rel=\"nofollow noreferrer\">a massive code smell</a> and should be avoided!</p>\n"},{"comments":[{"owner":{"account_id":13822903,"reputation":65,"user_id":9977928,"display_name":"shashank"},"score":0,"creation_date":1674466175,"post_id":75206909,"comment_id":132711994,"body_markdown":"Thanks. This works, but we have a problem here. If we do : \nCompany c = new Company(); \nc.setId(&quot;A&quot;); \nc.setName(&quot;Company A&quot;);\nc.setEmployeeIds(Set.of(&quot;1&quot;,&quot;2&quot;));\n\nhere, 1 and 2 are the ids of two employees which already exist in the database. \nBut hibernate here is trying to insert two rows with id 1 and 2 into Employee tables, which is resulting in pk contraint violation","body":"Thanks. This works, but we have a problem here. If we do :  Company c = new Company();  c.setId(&quot;A&quot;);  c.setName(&quot;Company A&quot;); c.setEmployeeIds(Set.of(&quot;1&quot;,&quot;2&quot;));  here, 1 and 2 are the ids of two employees which already exist in the database.  But hibernate here is trying to insert two rows with id 1 and 2 into Employee tables, which is resulting in pk contraint violation"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1674466378,"post_id":75206909,"comment_id":132712056,"body_markdown":"You could attempt `@Column(name = &quot;eId&quot;, insertable = false)`","body":"You could attempt <code>@Column(name = &quot;eId&quot;, insertable = false)</code>"},{"owner":{"account_id":13822903,"reputation":65,"user_id":9977928,"display_name":"shashank"},"score":0,"creation_date":1674466706,"post_id":75206909,"comment_id":132712159,"body_markdown":"This option does not work","body":"This option does not work"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1674468227,"post_id":75206909,"comment_id":132712595,"body_markdown":"According to [this question](https://stackoverflow.com/questions/65720112/how-to-make-a-collection-valued-property-read-only-in-jpa), you can use `@Column(name = &quot;eId&quot;, insertable = false, updateable = false)` to block inserts/updates, but not deletes. Depending on the actual use case, you might definitely be better of using a proper entity mapping to `Employee`. Or you just make sure that you can&#39;t alter the `employeeIds` collection within your code","body":"According to <a href=\"https://stackoverflow.com/questions/65720112/how-to-make-a-collection-valued-property-read-only-in-jpa\">this question</a>, you can use <code>@Column(name = &quot;eId&quot;, insertable = false, updateable = false)</code> to block inserts/updates, but not deletes. Depending on the actual use case, you might definitely be better of using a proper entity mapping to <code>Employee</code>. Or you just make sure that you can&#39;t alter the <code>employeeIds</code> collection within your code"}],"tags":[],"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674461164,"creation_date":1674461164,"answer_id":75206909,"question_id":75206625,"body_markdown":"`@ElementCollection` is the annotation you need to use in this case. `@CollectionTable` defines in which table you want to fetch the value from as well as on which column the join happens. `@Column` defines the column name you want to fetch from the `@CollectionTable`\r\n\r\n\r\n    @Entity\r\n    class Company {\r\n    \t@Id\r\n    \tString cId;\r\n    \tString cName;\r\n    \r\n    \t@ElementCollection\r\n    \t@CollectionTable(name = &quot;Employee&quot;, joinColumns = @JoinColumn(name = &quot;company_id&quot;))\r\n    \t@Column(name = &quot;eId&quot;)\r\n    \tSet&lt;String&gt; employeeIds = new HashSet();\r\n    \r\n    }","title":"Hibernate one-to-many to fetch only primary key column of the target entity","body":"<p><code>@ElementCollection</code> is the annotation you need to use in this case. <code>@CollectionTable</code> defines in which table you want to fetch the value from as well as on which column the join happens. <code>@Column</code> defines the column name you want to fetch from the <code>@CollectionTable</code></p>\n<pre><code>@Entity\nclass Company {\n    @Id\n    String cId;\n    String cName;\n\n    @ElementCollection\n    @CollectionTable(name = &quot;Employee&quot;, joinColumns = @JoinColumn(name = &quot;company_id&quot;))\n    @Column(name = &quot;eId&quot;)\n    Set&lt;String&gt; employeeIds = new HashSet();\n\n}\n</code></pre>\n"}],"owner":{"account_id":13822903,"reputation":65,"user_id":9977928,"display_name":"shashank"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":473,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1674462226,"creation_date":1674458814,"question_id":75206625,"body_markdown":"I have following two JPA entities : Company and Employee which follow one-to-many relationship : \r\n```\r\nEmployee\r\n---------\r\neId  |  eName   | company_id\r\n\r\nCompany\r\n--------\r\ncId  |  cName\r\n\r\n```\r\nI have been trying to fetch Employee IDs list in Company entity. **I tried with two ways - employees1 and employees2 as shown below. Both are not working**. Note that I want **List of Employee IDs and not the List of Employees.** \r\n```\r\n@Entity\r\npublic class Employee {\r\n   @Id\r\n   String eId;\r\n   String eName;\r\n}\r\n\r\n@Entity\r\npublic class Company{\r\n   @Id\r\n   String cId;\r\n   String cName;\r\n\r\n   // both of the below are not working\r\n   \r\n   @OneToMany(fetch = EAGER, targtEntity = Employee.class )\r\n   @JoinColumn(name = &quot;company_id&quot;, referencedColumn = &quot;cId&quot;)\r\n   @Column(name = &quot;eId&quot;)\r\n   Set&lt;String&gt; employees1 = new HashSet&lt;&gt;();\r\n   \r\n\r\n   @OneToMany(fetch = EAGER)\r\n   @JoinColumn(name = &quot;company_id&quot;, tableName = &quot;Employee&quot;, referencedColumn = &quot;cId&quot;)\r\n   @Column(name = &quot;eId&quot;)\r\n   Set&lt;String&gt; employees2 = new HashSet&lt;&gt;();\r\n}\r\n`````\r\nFor employees1, I am getting :  org.hibernate.property.access.spi.PropertyAccessException: Error accessing field. \r\n\r\nFor employees2 :  org.hibernate.cfg.NotYetImplementedException: Collections having FK in secondary table. \r\n\r\nPlease help!\r\n\r\n\r\n","title":"Hibernate one-to-many to fetch only primary key column of the target entity","body":"<p>I have following two JPA entities : Company and Employee which follow one-to-many relationship :</p>\n<pre><code>Employee\n---------\neId  |  eName   | company_id\n\nCompany\n--------\ncId  |  cName\n\n</code></pre>\n<p>I have been trying to fetch Employee IDs list in Company entity. <strong>I tried with two ways - employees1 and employees2 as shown below. Both are not working</strong>. Note that I want <strong>List of Employee IDs and not the List of Employees.</strong></p>\n<pre><code>@Entity\npublic class Employee {\n   @Id\n   String eId;\n   String eName;\n}\n\n@Entity\npublic class Company{\n   @Id\n   String cId;\n   String cName;\n\n   // both of the below are not working\n   \n   @OneToMany(fetch = EAGER, targtEntity = Employee.class )\n   @JoinColumn(name = &quot;company_id&quot;, referencedColumn = &quot;cId&quot;)\n   @Column(name = &quot;eId&quot;)\n   Set&lt;String&gt; employees1 = new HashSet&lt;&gt;();\n   \n\n   @OneToMany(fetch = EAGER)\n   @JoinColumn(name = &quot;company_id&quot;, tableName = &quot;Employee&quot;, referencedColumn = &quot;cId&quot;)\n   @Column(name = &quot;eId&quot;)\n   Set&lt;String&gt; employees2 = new HashSet&lt;&gt;();\n}\n</code></pre>\n<p>For employees1, I am getting :  org.hibernate.property.access.spi.PropertyAccessException: Error accessing field.</p>\n<p>For employees2 :  org.hibernate.cfg.NotYetImplementedException: Collections having FK in secondary table.</p>\n<p>Please help!</p>\n"},{"tags":["java","base64","jax-rs","cxf","attachment"],"answers":[{"tags":[],"owner":{"account_id":27157243,"reputation":1,"user_id":20695850,"display_name":"mpatel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674462181,"creation_date":1674059296,"answer_id":75162337,"question_id":74694810,"body_markdown":"This issue is resolved by setting allow chunking policy to be false.\r\n\r\n    HTTPClientPolicy.setAllowChunking(false);","title":"How to Send Base64-Encoded String with Apache CXF JAX-RS to an External REST API that Accepts a Multipart Attachment?","body":"<p>This issue is resolved by setting allow chunking policy to be false.</p>\n<pre><code>HTTPClientPolicy.setAllowChunking(false);\n</code></pre>\n"}],"owner":{"account_id":27157243,"reputation":1,"user_id":20695850,"display_name":"mpatel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":303,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674462181,"creation_date":1670277219,"question_id":74694810,"body_markdown":"I am implementing an integration to send an incoming message with a Base-64 encoded string of PDF content to an external REST API that accepts an attachment using HTTP multipart/form-data.\r\n\r\nThere is no issue with plain text but got below error when sending Base-64 encoded string.\r\n\r\n&quot;Error writing MIME multipart body part to output stream.&quot;\r\n\r\nPseudo code:\r\n\r\n```\r\n```\r\n\r\n```\r\nimport org.apache.cxf.jaxrs.client.WebClient;\r\n    import org.apache.cxf.jaxrs.ext.multipart.Attachment;\r\n    import org.apache.cxf.jaxrs.ext.multipart.AttachmentBuilder;\r\n    import org.apache.cxf.jaxrs.ext.multipart.ContentDisposition;\r\n\r\n    WebClient client = WebClient.create(&quot;http&quot;//External_URI&quot;);\r\n    client.type(&quot;multipart/form-data&quot;);\r\n\r\n    // String plainTextRequest = &quot;Plain text in attachment works&quot;;\r\n\r\n    //  Below string is just the first line of encoded content. Actual content has logo and other data.\r\n    String base64Request =      &quot;JVBERi0xLjQKJaqrrK0KMSAwIG9iago8PAovQ3JlYXRvciAoQXBhY2hlIEZPUCBWZXJzaW9uIDIuNykKL1Byb2R1Y2VyIChBcGFjaGUgRk9QIFZlcnNpb24gMi4................&quot;;\r\n\r\n    // No issue with below attachment with plain text\r\n    //final Attachment att = new AttachmentBuilder().object(plainTextRequest).contentDisposition(new     //ContentDisposition(&quot;form-data; name=&quot;notice&quot;; filename=&quot;notice.pdf&quot;&quot;)).build();\r\n\r\n   // Above error when sending attachment with base64 encoded content\r\n   final Attachment att = new AttachmentBuilder().id(&quot;notice&quot;).object(base64Request).header(&quot;Content-  Transfer-Encoding&quot;, &quot;base64&quot;).mediaType(&quot;application/pdf&quot;).contentDisposition(new ContentDisposition(&quot;form- data; name=&quot;notice&quot;; filename=&quot;notice.pdf&quot;&quot;)).build();\r\n\r\n   client.post(att);\r\n```\r\n\r\n```\r\n```\r\n   \r\n\r\nApache CXF JAX-RS throws an error when sending attachment with base64 encoded string.","title":"How to Send Base64-Encoded String with Apache CXF JAX-RS to an External REST API that Accepts a Multipart Attachment?","body":"<p>I am implementing an integration to send an incoming message with a Base-64 encoded string of PDF content to an external REST API that accepts an attachment using HTTP multipart/form-data.</p>\n<p>There is no issue with plain text but got below error when sending Base-64 encoded string.</p>\n<p>&quot;Error writing MIME multipart body part to output stream.&quot;</p>\n<p>Pseudo code:</p>\n<pre><code></code></pre>\n<pre><code>import org.apache.cxf.jaxrs.client.WebClient;\n    import org.apache.cxf.jaxrs.ext.multipart.Attachment;\n    import org.apache.cxf.jaxrs.ext.multipart.AttachmentBuilder;\n    import org.apache.cxf.jaxrs.ext.multipart.ContentDisposition;\n\n    WebClient client = WebClient.create(&quot;http&quot;//External_URI&quot;);\n    client.type(&quot;multipart/form-data&quot;);\n\n    // String plainTextRequest = &quot;Plain text in attachment works&quot;;\n\n    //  Below string is just the first line of encoded content. Actual content has logo and other data.\n    String base64Request =      &quot;JVBERi0xLjQKJaqrrK0KMSAwIG9iago8PAovQ3JlYXRvciAoQXBhY2hlIEZPUCBWZXJzaW9uIDIuNykKL1Byb2R1Y2VyIChBcGFjaGUgRk9QIFZlcnNpb24gMi4................&quot;;\n\n    // No issue with below attachment with plain text\n    //final Attachment att = new AttachmentBuilder().object(plainTextRequest).contentDisposition(new     //ContentDisposition(&quot;form-data; name=&quot;notice&quot;; filename=&quot;notice.pdf&quot;&quot;)).build();\n\n   // Above error when sending attachment with base64 encoded content\n   final Attachment att = new AttachmentBuilder().id(&quot;notice&quot;).object(base64Request).header(&quot;Content-  Transfer-Encoding&quot;, &quot;base64&quot;).mediaType(&quot;application/pdf&quot;).contentDisposition(new ContentDisposition(&quot;form- data; name=&quot;notice&quot;; filename=&quot;notice.pdf&quot;&quot;)).build();\n\n   client.post(att);\n</code></pre>\n<pre><code></code></pre>\n<p>Apache CXF JAX-RS throws an error when sending attachment with base64 encoded string.</p>\n"},{"tags":["java","mysql","spring-mvc","mariadb","c3p0"],"comments":[{"owner":{"account_id":1511139,"reputation":13781,"user_id":1413240,"accept_rate":50,"display_name":"Steve Waldman"},"score":0,"creation_date":1674137919,"post_id":75172688,"comment_id":132654079,"body_markdown":"If you are logging at INFO, you ouught to have seen one Exception stack trace (preceded by &quot;An exception occurred while acquiring a poolable resource. Will retry.&quot;) before the CannotAcquireResourceException was thrown. If you log loggers under &quot;com.mchange.v2.resourcepool&quot; at DEBUG levels (or FINE or TRACE), you&#39;ll see an Exception stack trace for every failed attempt to connect. You may get more info from that.","body":"If you are logging at INFO, you ouught to have seen one Exception stack trace (preceded by &quot;An exception occurred while acquiring a poolable resource. Will retry.&quot;) before the CannotAcquireResourceException was thrown. If you log loggers under &quot;com.mchange.v2.resourcepool&quot; at DEBUG levels (or FINE or TRACE), you&#39;ll see an Exception stack trace for every failed attempt to connect. You may get more info from that."},{"owner":{"account_id":15079304,"reputation":93,"user_id":10882369,"display_name":"Nataraj"},"score":0,"creation_date":1674215668,"post_id":75172688,"comment_id":132671642,"body_markdown":"@Steve Walman this is the exception :\n17:11:25,288 DEBUG BasicResourcePool:1831 - An exception occurred while acquiring a poolable resource. Will retry.\njava.sql.SQLException: java.lang.NullPointerException\n\tat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1078)\n\tat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:989)\n\tat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:975)\n\tat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:920)","body":"@Steve Walman this is the exception : 17:11:25,288 DEBUG BasicResourcePool:1831 - An exception occurred while acquiring a poolable resource. Will retry. java.sql.SQLException: java.lang.NullPointerException \tat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:107&zwnj;&#8203;8) \tat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:989&zwnj;&#8203;) \tat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:975&zwnj;&#8203;) \tat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:920&zwnj;&#8203;)"},{"owner":{"account_id":1511139,"reputation":13781,"user_id":1413240,"accept_rate":50,"display_name":"Steve Waldman"},"score":0,"creation_date":1674279117,"post_id":75172688,"comment_id":132685632,"body_markdown":"Not the most informative exception, that the MySQL driver provoked a NullPointerException while trying to put together and SQLException. The SQLException might have been more informative. The NPE is a bug in the driver, you might see if there’s a more recent JDBC driver you might upgrade to.","body":"Not the most informative exception, that the MySQL driver provoked a NullPointerException while trying to put together and SQLException. The SQLException might have been more informative. The NPE is a bug in the driver, you might see if there’s a more recent JDBC driver you might upgrade to."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1674462122,"post_id":75172688,"comment_id":132710877,"body_markdown":"You are using an old version of the mysql drivers, upgrade, the fact that you use `${spring.version}` and a hardcode `5.3.20` makes me think that you are also mixing versions of Spring, use the version tag for that hardcoded version as well.","body":"You are using an old version of the mysql drivers, upgrade, the fact that you use <code>${spring.version}</code> and a hardcode <code>5.3.20</code> makes me think that you are also mixing versions of Spring, use the version tag for that hardcoded version as well."},{"owner":{"account_id":15079304,"reputation":93,"user_id":10882369,"display_name":"Nataraj"},"score":0,"creation_date":1674462157,"post_id":75172688,"comment_id":132710887,"body_markdown":"@SteveWaldman : I have added complete exception in the edit and I am using 8.0.29 JDBC driver","body":"@SteveWaldman : I have added complete exception in the edit and I am using 8.0.29 JDBC driver"},{"owner":{"account_id":15079304,"reputation":93,"user_id":10882369,"display_name":"Nataraj"},"score":0,"creation_date":1674462644,"post_id":75172688,"comment_id":132711014,"body_markdown":"@M.Deinum : Thanks for poiniting it out, I have changed it to ${spring.version} and using 8.0.29 mysql JDBC driver, still no luck","body":"@M.Deinum : Thanks for poiniting it out, I have changed it to ${spring.version} and using 8.0.29 mysql JDBC driver, still no luck"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1674463483,"post_id":75172688,"comment_id":132711228,"body_markdown":"Judging from the error that is something that is &quot;wrong&quot; with your schema/database as it tries to parse the result (probably the metadata) for which it returns something `null` which isn&#39;t allowed in a `TreeSet` (which is what C3P0 probably uses. I would however to ditch C3P0 and move to something like HikariCP (better performance and still being worked on). Not that it would solve the issue I think as it appears to occur in the driver.","body":"Judging from the error that is something that is &quot;wrong&quot; with your schema/database as it tries to parse the result (probably the metadata) for which it returns something <code>null</code> which isn&#39;t allowed in a <code>TreeSet</code> (which is what C3P0 probably uses. I would however to ditch C3P0 and move to something like HikariCP (better performance and still being worked on). Not that it would solve the issue I think as it appears to occur in the driver."},{"owner":{"account_id":15079304,"reputation":93,"user_id":10882369,"display_name":"Nataraj"},"score":0,"creation_date":1674472282,"post_id":75172688,"comment_id":132713700,"body_markdown":"@M.Deinum : Thanks for your input, however, when i move the war to the server where mysql is installed and change the jdbc url from IP to localhost it works. But when i try same war outside of the server and try to connect with IP address it shows above exception.","body":"@M.Deinum : Thanks for your input, however, when i move the war to the server where mysql is installed and change the jdbc url from IP to localhost it works. But when i try same war outside of the server and try to connect with IP address it shows above exception."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1674476544,"post_id":75172688,"comment_id":132714936,"body_markdown":"Can you even access the server from your machine and is that the correct one or is MySQL even listening on the remote network adapter?","body":"Can you even access the server from your machine and is that the correct one or is MySQL even listening on the remote network adapter?"},{"owner":{"account_id":15079304,"reputation":93,"user_id":10882369,"display_name":"Nataraj"},"score":0,"creation_date":1674477176,"post_id":75172688,"comment_id":132715145,"body_markdown":"@M.Deinum, I am able to connect to mysql server from my machine using mysql work bench with mysql server IP","body":"@M.Deinum, I am able to connect to mysql server from my machine using mysql work bench with mysql server IP"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1674478597,"post_id":75172688,"comment_id":132715628,"body_markdown":"You can connect what fails is parsing the properties obtained from the MySQL server upon connecting. What happens is that the command `SHOW COLLATION` is executed and the result is parsed, however one of those values or keys is `null`. Execute the command from the workbench and see what happens. Could be that you aren&#39;t allowed to execute it remotely and only locally.","body":"You can connect what fails is parsing the properties obtained from the MySQL server upon connecting. What happens is that the command <code>SHOW COLLATION</code> is executed and the result is parsed, however one of those values or keys is <code>null</code>. Execute the command from the workbench and see what happens. Could be that you aren&#39;t allowed to execute it remotely and only locally."},{"owner":{"account_id":1511139,"reputation":13781,"user_id":1413240,"accept_rate":50,"display_name":"Steve Waldman"},"score":0,"creation_date":1674505828,"post_id":75172688,"comment_id":132724546,"body_markdown":"(I don&#39;t think c3p0 isn&#39;t doing anything with a `TreeMap` here. This error is literally occurring at the moment it calls of c3p0 calling `driver().connect( jdbcUrl, overrideProps(username, password) )`, where `overrideProps(...)` is a `java.util.Properties` object. The `ResultSet` containing the `null` is something internal to the driver. @M.Deinum&#39;s suggestion of an unexpected `null` in `SHOW COLLATION` sounds reasonable to me.","body":"(I don&#39;t think c3p0 isn&#39;t doing anything with a <code>TreeMap</code> here. This error is literally occurring at the moment it calls of c3p0 calling <code>driver().connect( jdbcUrl, overrideProps(username, password) )</code>, where <code>overrideProps(...)</code> is a <code>java.util.Properties</code> object. The <code>ResultSet</code> containing the <code>null</code> is something internal to the driver. @M.Deinum&#39;s suggestion of an unexpected <code>null</code> in <code>SHOW COLLATION</code> sounds reasonable to me."}],"answers":[{"comments":[{"owner":{"account_id":15079304,"reputation":93,"user_id":10882369,"display_name":"Nataraj"},"score":0,"creation_date":1674194308,"post_id":75173455,"comment_id":132665881,"body_markdown":"Hi @zaarour, I have corrected the DB names, that was copy /paste error from side. I&#39;ll remove c3p0 properties and update you.","body":"Hi @zaarour, I have corrected the DB names, that was copy /paste error from side. I&#39;ll remove c3p0 properties and update you."},{"owner":{"account_id":15079304,"reputation":93,"user_id":10882369,"display_name":"Nataraj"},"score":0,"creation_date":1674195780,"post_id":75173455,"comment_id":132666106,"body_markdown":"I have removed below properties of c3p0, still same exception\n\n```&lt;property name=&quot;initialPoolSize&quot; value=&quot;1&quot;/&gt;\n    &lt;property name=&quot;maxPoolSize&quot; value=&quot;100&quot;/&gt;\n    &lt;property name=&quot;minPoolSize&quot; value=&quot;2&quot;/&gt;\n    &lt;property name=&quot;maxIdleTime&quot; value=&quot;3600&quot;/&gt;","body":"I have removed below properties of c3p0, still same exception  ```&lt;property name=&quot;initialPoolSize&quot; value=&quot;1&quot;/&gt;     &lt;property name=&quot;maxPoolSize&quot; value=&quot;100&quot;/&gt;     &lt;property name=&quot;minPoolSize&quot; value=&quot;2&quot;/&gt;     &lt;property name=&quot;maxIdleTime&quot; value=&quot;3600&quot;/&gt;"}],"tags":[],"owner":{"account_id":5976707,"reputation":107,"user_id":4697306,"display_name":"zaarour"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674137023,"creation_date":1674137023,"answer_id":75173455,"question_id":75172688,"body_markdown":"**Solution 1** : Remove these codes, let C3P0 default values to test first. Then you update with the correct values\r\n\r\n\r\n    &lt;property name=&quot;initialPoolSize&quot; value=&quot;1&quot;/&gt;\r\n    &lt;property name=&quot;maxPoolSize&quot; value=&quot;100&quot;/&gt;\r\n    &lt;property name=&quot;minPoolSize&quot; value=&quot;2&quot;/&gt;\r\n    &lt;property name=&quot;maxIdleTime&quot; value=&quot;3600&quot;/&gt;\r\n\r\n**Solution 2** : You copy/paste this \r\n\r\n&gt; **mysql://xx.xxx.xx.xx:3306/price_check_v2_master_db**\r\n\r\n in your Exception and you get this in your code\r\n\r\n&gt; **jdbc:mysql://&lt;DBIP&gt;:3306/master_db**\r\n\r\n  \r\nDifferent DB names : price_check_v2_master_db VS master_db. Maybe that&#39;s where the problem comes from","title":"unable to connect to remote MYSQL DB using Spring MVC, c3p0","body":"<p><strong>Solution 1</strong> : Remove these codes, let C3P0 default values to test first. Then you update with the correct values</p>\n<pre><code>&lt;property name=&quot;initialPoolSize&quot; value=&quot;1&quot;/&gt;\n&lt;property name=&quot;maxPoolSize&quot; value=&quot;100&quot;/&gt;\n&lt;property name=&quot;minPoolSize&quot; value=&quot;2&quot;/&gt;\n&lt;property name=&quot;maxIdleTime&quot; value=&quot;3600&quot;/&gt;\n</code></pre>\n<p><strong>Solution 2</strong> : You copy/paste this</p>\n<blockquote>\n<p><strong>mysql://xx.xxx.xx.xx:3306/price_check_v2_master_db</strong></p>\n</blockquote>\n<p>in your Exception and you get this in your code</p>\n<blockquote>\n<p><strong>jdbc:mysql://:3306/master_db</strong></p>\n</blockquote>\n<p>Different DB names : price_check_v2_master_db VS master_db. Maybe that's where the problem comes from</p>\n"}],"owner":{"account_id":15079304,"reputation":93,"user_id":10882369,"display_name":"Nataraj"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674461966,"creation_date":1674133577,"question_id":75172688,"body_markdown":"I have a spring mvc project and connecting to Maria DB 10.11.0-MariaDB. I am able to connect to remote DB using mysql workbench, But not using spring mvc and c3p0. I am sure about the user name ,password,port and IP, as i am able to connect through the mysql work bench\r\n\r\n\r\n\r\nBelow are my DAO and pom xml configurations.\r\n\r\n\t&lt;bean id=&quot;Master&quot; class=&quot;com.mchange.v2.c3p0.ComboPooledDataSource&quot; destroy-method=&quot;close&quot;&gt; \r\n\t\t&lt;property name=&quot;driverClass&quot; value=&quot;com.mysql.jdbc.Driver&quot;/&gt; \r\n\t\t&lt;property \tname=&quot;jdbcUrl&quot; value=&quot;jdbc:mysql://&lt;DBIP&gt;:3306/master_db&quot;/&gt; \r\n\t\t&lt;property name=&quot;user&quot; value=&quot;xxxxxx&quot;/&gt;\r\n\t\t&lt;property name=&quot;password&quot; value=&quot;xxxxxxx&quot;/&gt;\r\n\t\t&lt;property name=&quot;initialPoolSize&quot; value=&quot;1&quot;/&gt;\r\n        &lt;property name=&quot;maxPoolSize&quot; value=&quot;100&quot;/&gt;\r\n       \t&lt;property name=&quot;minPoolSize&quot; value=&quot;2&quot;/&gt;\r\n        &lt;property name=&quot;maxIdleTime&quot; value=&quot;3600&quot;/&gt;\r\n          &lt;!--   &lt;property name=&quot;maxIdleTimeExcessConnections&quot; value=&quot;30&quot;/&gt;--&gt;\r\n        &lt;property name=&quot;numHelperThreads&quot; value=&quot;6&quot;/&gt; \r\n\t&lt;/bean&gt;\r\n```\r\n\r\n\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;!-- Spring --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.4&lt;/version&gt;\r\n\t\t\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hamcrest-all&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- Core utilities used by other modules. Define this if you use Spring \r\n\t\t\tUtility APIs (org.springframework.core.*/org.springframework.util.*) --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${spring.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- Expression Language (depends on spring-core) Define this if you use \r\n\t\t\tSpring Expression APIs (org.springframework.expression.*) --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-expression&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${spring.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- Bean Factory and JavaBeans utilities (depends on spring-core) Define \r\n\t\t\tthis if you use Spring Bean APIs (org.springframework.beans.*) --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${spring.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- Aspect Oriented Programming (AOP) Framework (depends on spring-core, \r\n\t\t\tspring-beans) Define this if you use Spring AOP APIs (org.springframework.aop.*) --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-aop&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${spring.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- Application Context (depends on spring-core, spring-expression, spring-aop, \r\n\t\t\tspring-beans) This is the central artifact for Spring&#39;s Dependency Injection \r\n\t\t\tContainer and is generally always defined --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${spring.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- Various Application Context utilities, including EhCache, JavaMail, \r\n\t\t\tQuartz, and Freemarker integration Define this if you need any of these integrations --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${spring.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- Transaction Management Abstraction (depends on spring-core, spring-beans, \r\n\t\t\tspring-aop, spring-context) Define this if you use Spring Transactions or \r\n\t\t\tDAO Exception Hierarchy (org.springframework.transaction.*/org.springframework.dao.*) --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${spring.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- JDBC Data Access Library (depends on spring-core, spring-beans, spring-context, \r\n\t\t\tspring-tx) Define this if you use Spring&#39;s JdbcTemplate API (org.springframework.jdbc.*) --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${spring.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t &lt;dependency&gt;\r\n            &lt;groupId&gt;com.mchange&lt;/groupId&gt;\r\n            &lt;artifactId&gt;c3p0&lt;/artifactId&gt;\r\n            &lt;version&gt;0.9.5.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- Object-to-Relation-Mapping (ORM) integration with Hibernate, JPA, \r\n\t\t\tand iBatis. (depends on spring-core, spring-beans, spring-context, spring-tx) \r\n\t\t\tDefine this if you need ORM (org.springframework.orm.*) --&gt;\r\n&lt;!-- \t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${spring.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt; --&gt;\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-orm --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;5.3.20&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;!-- Object-to-XML Mapping (OXM) abstraction and integration with JAXB, \r\n\t\t\tJiBX, Castor, XStream, and XML Beans. (depends on spring-core, spring-beans, \r\n\t\t\tspring-context) Define this if you need OXM (org.springframework.oxm.*) --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-oxm&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${spring.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- Web application development utilities applicable to both Servlet and \r\n\t\t\tPortlet Environments (depends on spring-core, spring-beans, spring-context) \r\n\t\t\tDefine this if you use Spring MVC, or wish to use Struts, JSF, or another \r\n\t\t\tweb framework with Spring (org.springframework.web.*) --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-web&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${spring.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- Spring MVC for Servlet Environments (depends on spring-core, spring-beans, \r\n\t\t\tspring-context, spring-web) Define this if you use Spring MVC with a Servlet \r\n\t\t\tContainer such as Apache Tomcat (org.springframework.web.servlet.*) --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${spring.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- Spring MVC for Portlet Environments (depends on spring-core, spring-beans, \r\n\t\t\tspring-context, spring-web) Define this if you use Spring MVC with a Portlet \r\n\t\t\tContainer (org.springframework.web.portlet.*) --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-webmvc-portlet&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${spring.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;commons-beanutils&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-beanutils&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.9.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t\t&lt;!-- Support for testing Spring applications with tools such as JUnit and \r\n\t\t\tTestNG This artifact is generally always defined with a &#39;test&#39; scope for \r\n\t\t\tthe integration testing framework and unit testing stubs --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-test&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${spring.version}&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.1&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.json&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;json&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;20141113&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;log4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.2.13&lt;/version&gt;\r\n\t\t&lt;/dependency&gt; \r\n\t\t \r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t\r\n\t\t\t&lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t    &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t    &lt;version&gt;5.1.6&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.9&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.9&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.velocity&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;velocity&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.7&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.mail&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javax.mail-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.5.5&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\t&lt;build&gt;\r\n\t\t&lt;finalName&gt;myapp&lt;/finalName&gt;\r\n\t\t&lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\r\n\t\r\n\t\t&lt;resources&gt;\r\n\t\t\t&lt;resource&gt;\r\n\t\t\t\t&lt;directory&gt;src&lt;/directory&gt;\r\n\t\t\t&lt;/resource&gt;\r\n\t\t&lt;/resources&gt;\r\n\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.4.2&lt;/version&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.tomcat.maven&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;tomcat7-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.1&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;url&gt;http://localhost:8080/manager/html&lt;/url&gt;\r\n\t\t\t\t\t&lt;server&gt;tomcat7&lt;/server&gt;\r\n\t\t\t\t\t&lt;contextReloadable&gt;true&lt;/contextReloadable&gt;\r\n\t\t\t\t\t &lt;warSourceDirectory&gt;WebContent/WEB-INF&lt;/warSourceDirectory&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.0&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;source&gt;${jdk.version}&lt;/source&gt;\r\n\t\t\t\t\t&lt;target&gt;${jdk.version}&lt;/target&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;warSourceDirectory&gt;WebContent&lt;/warSourceDirectory&gt;\r\n\t\t\t\t\t&lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\r\n\t\t\t\t\t&lt;!-- &lt;webXml&gt;WebContent\\WEB-INF\\web.xml&lt;/webXml&gt; --&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.10.3&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;show&gt;private&lt;/show&gt;\r\n\t\t\t\t\t&lt;nohelp&gt;true&lt;/nohelp&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;findbugs-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${findbugs.version}&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\r\n\t\t\t\t\t&lt;!-- Enables analysis which takes more memory but finds more bugs. If \r\n\t\t\t\t\t\tyou run out of memory, changes the value of the effort element to &#39;Low&#39;. --&gt;\r\n\r\n\t\t\t\t\t&lt;effort&gt;Max&lt;/effort&gt;\r\n\r\n\t\t\t\t\t&lt;failOnError&gt;false&lt;/failOnError&gt;\r\n\t\t\t\t\t&lt;!-- Reports all bugs (other values are medium and max) --&gt;\r\n\t\t\t\t\t&lt;threshold&gt;max&lt;/threshold&gt;\r\n\t\t\t\t\t&lt;!-- Produces XML report --&gt;\r\n\t\t\t\t\t&lt;xmlOutput&gt;true&lt;/xmlOutput&gt;\r\n\t\t\t\t\t&lt;!-- Configures the directory in which the XML report is created --&gt;\r\n\t\t\t\t\t&lt;findbugsXmlOutputDirectory&gt;${project.build.directory}/findbugs&lt;/findbugsXmlOutputDirectory&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\r\n\t\t\t&lt;/plugin&gt;\r\n\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n\t&lt;reporting&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;findbugs-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${findbugs.version}&lt;/version&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/reporting&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n\r\nI am getting below exception: \r\n```\r\n\r\n18:28:04,626 DEBUG JdbcTemplate:435 - Executing SQL query [SELECT * FROM client`]\r\n18:28:04,972  INFO AbstractPoolBackedDataSource:462 - Initializing c3p0 pool... com.mchange.v2.c3p0.ComboPooledDataSource [ acquireIncrement -&gt; 3, acquireRetryAttempts -&gt; 30, acquireRetryDelay -&gt; 1000, autoCommitOnClose -&gt; false, automaticTestTable -&gt; null, breakAfterAcquireFailure -&gt; false, checkoutTimeout -&gt; 0, connectionCustomizerClassName -&gt; null, connectionTesterClassName -&gt; com.mchange.v2.c3p0.impl.DefaultConnectionTester, dataSourceName -&gt; 1hgeknaat1k2sq9317m1swv|a737736, debugUnreturnedConnectionStackTraces -&gt; false, description -&gt; null, driverClass -&gt; com.mysql.jdbc.Driver, factoryClassLocation -&gt; null, forceIgnoreUnresolvedTransactions -&gt; false, identityToken -&gt; 1hgeknaat1k2sq9317m1swv|a737736, idleConnectionTestPeriod -&gt; 0, initialPoolSize -&gt; 1, jdbcUrl -&gt; jdbc:mysql://xx.xxx.xx.xx:3306/master_db, maxAdministrativeTaskTime -&gt; 0, maxConnectionAge -&gt; 0, maxIdleTime -&gt; 3600, maxIdleTimeExcessConnections -&gt; 0, maxPoolSize -&gt; 100, maxStatements -&gt; 0, maxStatementsPerConnection -&gt; 0, minPoolSize -&gt; 2, numHelperThreads -&gt; 6, numThreadsAwaitingCheckoutDefaultUser -&gt; 0, preferredTestQuery -&gt; null, properties -&gt; {user=******, password=******}, propertyCycle -&gt; 0, testConnectionOnCheckin -&gt; false, testConnectionOnCheckout -&gt; false, unreturnedConnectionTimeout -&gt; 0, usesTraditionalReflectiveProxies -&gt; false ]\r\n18:29:00,596 DEBUG SqlUtils:99 - Converting Throwable to SQLException...\r\ncom.mchange.v2.resourcepool.CannotAcquireResourceException: A ResourcePool could not acquire a resource from its primary factory or source.\r\n\r\n\r\ndetailed exception :\r\n13:47:07,221 DEBUG BasicResourcePool:289 - com.mchange.v2.resourcepool.BasicResourcePool@b3937 config: [start -&gt; 3; min -&gt; 3; max -&gt; 15; inc -&gt; 3; num_acq_attempts -&gt; 30; acq_attempt_delay -&gt; 1000; check_idle_resources_delay -&gt; 0; mox_resource_age -&gt; 0; max_idle_time -&gt; 0; excess_max_idle_time -&gt; 0; destroy_unreturned_resc_time -&gt; 0; expiration_enforcement_delay -&gt; 0; break_on_acquisition_failure -&gt; false; debug_store_checkout_exceptions -&gt; false]\r\n13:47:07,222  INFO AbstractPoolBackedDataSource:462 - Initializing c3p0 pool... com.mchange.v2.c3p0.ComboPooledDataSource [ acquireIncrement -&gt; 3, acquireRetryAttempts -&gt; 30, acquireRetryDelay -&gt; 1000, autoCommitOnClose -&gt; false, automaticTestTable -&gt; null, breakAfterAcquireFailure -&gt; false, checkoutTimeout -&gt; 0, connectionCustomizerClassName -&gt; null, connectionTesterClassName -&gt; com.mchange.v2.c3p0.impl.DefaultConnectionTester, dataSourceName -&gt; 1hgekoiat1piitjos02ot4|2d7d25e2, debugUnreturnedConnectionStackTraces -&gt; false, description -&gt; null, driverClass -&gt; com.mysql.jdbc.Driver, factoryClassLocation -&gt; null, forceIgnoreUnresolvedTransactions -&gt; false, identityToken -&gt; 1hgekoiat1piitjos02ot4|2d7d25e2, idleConnectionTestPeriod -&gt; 0, initialPoolSize -&gt; 3, jdbcUrl -&gt; jdbc:mysql://xx.xxx.xx.xx:3306/master_db, maxAdministrativeTaskTime -&gt; 0, maxConnectionAge -&gt; 0, maxIdleTime -&gt; 0, maxIdleTimeExcessConnections -&gt; 0, maxPoolSize -&gt; 15, maxStatements -&gt; 0, maxStatementsPerConnection -&gt; 0, minPoolSize -&gt; 3, numHelperThreads -&gt; 3, numThreadsAwaitingCheckoutDefaultUser -&gt; 0, preferredTestQuery -&gt; null, properties -&gt; {user=******, password=******}, propertyCycle -&gt; 0, testConnectionOnCheckin -&gt; false, testConnectionOnCheckout -&gt; false, unreturnedConnectionTimeout -&gt; 0, usesTraditionalReflectiveProxies -&gt; false ]\r\n13:47:07,223 DEBUG BasicResourcePool:538 - acquire test -- pool size: 0; target_pool_size: 3; desired target? 1\r\n13:47:07,224 DEBUG BasicResourcePool:1291 - awaitAvailable(): [unknown]\r\n13:47:07,224 DEBUG BasicResourcePool:1644 - trace com.mchange.v2.resourcepool.BasicResourcePool@b3937 [managed: 0, unused: 0, excluded: 0]\r\n13:47:08,532 DEBUG BasicResourcePool:1831 - An exception occurred while acquiring a poolable resource. Will retry.\r\njava.sql.SQLException: java.lang.NullPointerException\r\n\tat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1078)\r\n\tat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:989)\r\n\tat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:975)\r\n\tat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:920)\r\n\tat com.mysql.jdbc.ConnectionImpl.buildCollationMapping(ConnectionImpl.java:1074)\r\n\tat com.mysql.jdbc.ConnectionImpl.initializePropsFromServer(ConnectionImpl.java:3590)\r\n\tat com.mysql.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:2531)\r\n\tat com.mysql.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:2301)\r\n\tat com.mysql.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:834)\r\n\tat com.mysql.jdbc.JDBC4Connection.&lt;init&gt;(JDBC4Connection.java:47)\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n\tat com.mysql.jdbc.Util.handleNewInstance(Util.java:411)\r\n\tat com.mysql.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:416)\r\n\tat com.mysql.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:346)\r\n\tat com.mchange.v2.c3p0.DriverManagerDataSource.getConnection(DriverManagerDataSource.java:134)\r\n\tat com.mchange.v2.c3p0.WrapperConnectionPoolDataSource.getPooledConnection(WrapperConnectionPoolDataSource.java:182)\r\n\tat com.mchange.v2.c3p0.WrapperConnectionPoolDataSource.getPooledConnection(WrapperConnectionPoolDataSource.java:171)\r\n\tat com.mchange.v2.c3p0.impl.C3P0PooledConnectionPool$1PooledConnectionResourcePoolManager.acquireResource(C3P0PooledConnectionPool.java:137)\r\n\tat com.mchange.v2.resourcepool.BasicResourcePool.doAcquire(BasicResourcePool.java:1014)\r\n\tat com.mchange.v2.resourcepool.BasicResourcePool.access$800(BasicResourcePool.java:32)\r\n\tat com.mchange.v2.resourcepool.BasicResourcePool$AcquireTask.run(BasicResourcePool.java:1810)\r\n\tat com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread.run(ThreadPoolAsynchronousRunner.java:547)\r\nCaused by: java.lang.NullPointerException\r\n\tat java.util.TreeMap.put(TreeMap.java:563)\r\n\tat com.mysql.jdbc.Util.resultSetToMap(Util.java:508)\r\n\tat com.mysql.jdbc.ConnectionImpl.buildCollationMapping(ConnectionImpl.java:1004)\r\n\t... 20 more","title":"unable to connect to remote MYSQL DB using Spring MVC, c3p0","body":"<p>I have a spring mvc project and connecting to Maria DB 10.11.0-MariaDB. I am able to connect to remote DB using mysql workbench, But not using spring mvc and c3p0. I am sure about the user name ,password,port and IP, as i am able to connect through the mysql work bench</p>\n<p>Below are my DAO and pom xml configurations.</p>\n<pre><code>&lt;bean id=&quot;Master&quot; class=&quot;com.mchange.v2.c3p0.ComboPooledDataSource&quot; destroy-method=&quot;close&quot;&gt; \n    &lt;property name=&quot;driverClass&quot; value=&quot;com.mysql.jdbc.Driver&quot;/&gt; \n    &lt;property   name=&quot;jdbcUrl&quot; value=&quot;jdbc:mysql://&lt;DBIP&gt;:3306/master_db&quot;/&gt; \n    &lt;property name=&quot;user&quot; value=&quot;xxxxxx&quot;/&gt;\n    &lt;property name=&quot;password&quot; value=&quot;xxxxxxx&quot;/&gt;\n    &lt;property name=&quot;initialPoolSize&quot; value=&quot;1&quot;/&gt;\n    &lt;property name=&quot;maxPoolSize&quot; value=&quot;100&quot;/&gt;\n    &lt;property name=&quot;minPoolSize&quot; value=&quot;2&quot;/&gt;\n    &lt;property name=&quot;maxIdleTime&quot; value=&quot;3600&quot;/&gt;\n      &lt;!--   &lt;property name=&quot;maxIdleTimeExcessConnections&quot; value=&quot;30&quot;/&gt;--&gt;\n    &lt;property name=&quot;numHelperThreads&quot; value=&quot;6&quot;/&gt; \n&lt;/bean&gt;\n</code></pre>\n<pre><code>\n\n\n    &lt;dependencies&gt;\n        &lt;!-- Spring --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.4&lt;/version&gt;\n        \n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\n            &lt;artifactId&gt;hamcrest-all&lt;/artifactId&gt;\n            &lt;version&gt;1.3&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Core utilities used by other modules. Define this if you use Spring \n            Utility APIs (org.springframework.core.*/org.springframework.util.*) --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Expression Language (depends on spring-core) Define this if you use \n            Spring Expression APIs (org.springframework.expression.*) --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-expression&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Bean Factory and JavaBeans utilities (depends on spring-core) Define \n            this if you use Spring Bean APIs (org.springframework.beans.*) --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Aspect Oriented Programming (AOP) Framework (depends on spring-core, \n            spring-beans) Define this if you use Spring AOP APIs (org.springframework.aop.*) --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-aop&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Application Context (depends on spring-core, spring-expression, spring-aop, \n            spring-beans) This is the central artifact for Spring's Dependency Injection \n            Container and is generally always defined --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Various Application Context utilities, including EhCache, JavaMail, \n            Quartz, and Freemarker integration Define this if you need any of these integrations --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Transaction Management Abstraction (depends on spring-core, spring-beans, \n            spring-aop, spring-context) Define this if you use Spring Transactions or \n            DAO Exception Hierarchy (org.springframework.transaction.*/org.springframework.dao.*) --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- JDBC Data Access Library (depends on spring-core, spring-beans, spring-context, \n            spring-tx) Define this if you use Spring's JdbcTemplate API (org.springframework.jdbc.*) --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n         &lt;dependency&gt;\n            &lt;groupId&gt;com.mchange&lt;/groupId&gt;\n            &lt;artifactId&gt;c3p0&lt;/artifactId&gt;\n            &lt;version&gt;0.9.5.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Object-to-Relation-Mapping (ORM) integration with Hibernate, JPA, \n            and iBatis. (depends on spring-core, spring-beans, spring-context, spring-tx) \n            Define this if you need ORM (org.springframework.orm.*) --&gt;\n&lt;!--        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n        &lt;/dependency&gt; --&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-orm --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\n            &lt;version&gt;5.3.20&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;!-- Object-to-XML Mapping (OXM) abstraction and integration with JAXB, \n            JiBX, Castor, XStream, and XML Beans. (depends on spring-core, spring-beans, \n            spring-context) Define this if you need OXM (org.springframework.oxm.*) --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-oxm&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Web application development utilities applicable to both Servlet and \n            Portlet Environments (depends on spring-core, spring-beans, spring-context) \n            Define this if you use Spring MVC, or wish to use Struts, JSF, or another \n            web framework with Spring (org.springframework.web.*) --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Spring MVC for Servlet Environments (depends on spring-core, spring-beans, \n            spring-context, spring-web) Define this if you use Spring MVC with a Servlet \n            Container such as Apache Tomcat (org.springframework.web.servlet.*) --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Spring MVC for Portlet Environments (depends on spring-core, spring-beans, \n            spring-context, spring-web) Define this if you use Spring MVC with a Portlet \n            Container (org.springframework.web.portlet.*) --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-webmvc-portlet&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-beanutils&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-beanutils&lt;/artifactId&gt;\n            &lt;version&gt;1.9.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;!-- Support for testing Spring applications with tools such as JUnit and \n            TestNG This artifact is generally always defined with a 'test' scope for \n            the integration testing framework and unit testing stubs --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;3.0.1&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.json&lt;/groupId&gt;\n            &lt;artifactId&gt;json&lt;/artifactId&gt;\n            &lt;version&gt;20141113&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n            &lt;version&gt;1.2.13&lt;/version&gt;\n        &lt;/dependency&gt; \n         \n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\n            &lt;version&gt;2.4&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        \n            &lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;mysql&lt;/groupId&gt;\n                &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n                &lt;version&gt;5.1.6&lt;/version&gt;\n            &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi&lt;/artifactId&gt;\n            &lt;version&gt;3.9&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n            &lt;version&gt;3.9&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.velocity&lt;/groupId&gt;\n            &lt;artifactId&gt;velocity&lt;/artifactId&gt;\n            &lt;version&gt;1.7&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.mail&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.mail-api&lt;/artifactId&gt;\n            &lt;version&gt;1.5.5&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;finalName&gt;myapp&lt;/finalName&gt;\n        &lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\n    \n        &lt;resources&gt;\n            &lt;resource&gt;\n                &lt;directory&gt;src&lt;/directory&gt;\n            &lt;/resource&gt;\n        &lt;/resources&gt;\n\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.4.2&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.tomcat.maven&lt;/groupId&gt;\n                &lt;artifactId&gt;tomcat7-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;url&gt;http://localhost:8080/manager/html&lt;/url&gt;\n                    &lt;server&gt;tomcat7&lt;/server&gt;\n                    &lt;contextReloadable&gt;true&lt;/contextReloadable&gt;\n                     &lt;warSourceDirectory&gt;WebContent/WEB-INF&lt;/warSourceDirectory&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;${jdk.version}&lt;/source&gt;\n                    &lt;target&gt;${jdk.version}&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                \n                &lt;configuration&gt;\n                    &lt;warSourceDirectory&gt;WebContent&lt;/warSourceDirectory&gt;\n                    &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\n                    &lt;!-- &lt;webXml&gt;WebContent\\WEB-INF\\web.xml&lt;/webXml&gt; --&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.10.3&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;show&gt;private&lt;/show&gt;\n                    &lt;nohelp&gt;true&lt;/nohelp&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                &lt;artifactId&gt;findbugs-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${findbugs.version}&lt;/version&gt;\n                &lt;configuration&gt;\n\n                    &lt;!-- Enables analysis which takes more memory but finds more bugs. If \n                        you run out of memory, changes the value of the effort element to 'Low'. --&gt;\n\n                    &lt;effort&gt;Max&lt;/effort&gt;\n\n                    &lt;failOnError&gt;false&lt;/failOnError&gt;\n                    &lt;!-- Reports all bugs (other values are medium and max) --&gt;\n                    &lt;threshold&gt;max&lt;/threshold&gt;\n                    &lt;!-- Produces XML report --&gt;\n                    &lt;xmlOutput&gt;true&lt;/xmlOutput&gt;\n                    &lt;!-- Configures the directory in which the XML report is created --&gt;\n                    &lt;findbugsXmlOutputDirectory&gt;${project.build.directory}/findbugs&lt;/findbugsXmlOutputDirectory&gt;\n                &lt;/configuration&gt;\n\n            &lt;/plugin&gt;\n\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;reporting&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                &lt;artifactId&gt;findbugs-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${findbugs.version}&lt;/version&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/reporting&gt;\n&lt;/project&gt;\n</code></pre>\n<p>I am getting below exception:</p>\n<pre><code>\n18:28:04,626 DEBUG JdbcTemplate:435 - Executing SQL query [SELECT * FROM client`]\n18:28:04,972  INFO AbstractPoolBackedDataSource:462 - Initializing c3p0 pool... com.mchange.v2.c3p0.ComboPooledDataSource [ acquireIncrement -&gt; 3, acquireRetryAttempts -&gt; 30, acquireRetryDelay -&gt; 1000, autoCommitOnClose -&gt; false, automaticTestTable -&gt; null, breakAfterAcquireFailure -&gt; false, checkoutTimeout -&gt; 0, connectionCustomizerClassName -&gt; null, connectionTesterClassName -&gt; com.mchange.v2.c3p0.impl.DefaultConnectionTester, dataSourceName -&gt; 1hgeknaat1k2sq9317m1swv|a737736, debugUnreturnedConnectionStackTraces -&gt; false, description -&gt; null, driverClass -&gt; com.mysql.jdbc.Driver, factoryClassLocation -&gt; null, forceIgnoreUnresolvedTransactions -&gt; false, identityToken -&gt; 1hgeknaat1k2sq9317m1swv|a737736, idleConnectionTestPeriod -&gt; 0, initialPoolSize -&gt; 1, jdbcUrl -&gt; jdbc:mysql://xx.xxx.xx.xx:3306/master_db, maxAdministrativeTaskTime -&gt; 0, maxConnectionAge -&gt; 0, maxIdleTime -&gt; 3600, maxIdleTimeExcessConnections -&gt; 0, maxPoolSize -&gt; 100, maxStatements -&gt; 0, maxStatementsPerConnection -&gt; 0, minPoolSize -&gt; 2, numHelperThreads -&gt; 6, numThreadsAwaitingCheckoutDefaultUser -&gt; 0, preferredTestQuery -&gt; null, properties -&gt; {user=******, password=******}, propertyCycle -&gt; 0, testConnectionOnCheckin -&gt; false, testConnectionOnCheckout -&gt; false, unreturnedConnectionTimeout -&gt; 0, usesTraditionalReflectiveProxies -&gt; false ]\n18:29:00,596 DEBUG SqlUtils:99 - Converting Throwable to SQLException...\ncom.mchange.v2.resourcepool.CannotAcquireResourceException: A ResourcePool could not acquire a resource from its primary factory or source.\n\n\ndetailed exception :\n13:47:07,221 DEBUG BasicResourcePool:289 - com.mchange.v2.resourcepool.BasicResourcePool@b3937 config: [start -&gt; 3; min -&gt; 3; max -&gt; 15; inc -&gt; 3; num_acq_attempts -&gt; 30; acq_attempt_delay -&gt; 1000; check_idle_resources_delay -&gt; 0; mox_resource_age -&gt; 0; max_idle_time -&gt; 0; excess_max_idle_time -&gt; 0; destroy_unreturned_resc_time -&gt; 0; expiration_enforcement_delay -&gt; 0; break_on_acquisition_failure -&gt; false; debug_store_checkout_exceptions -&gt; false]\n13:47:07,222  INFO AbstractPoolBackedDataSource:462 - Initializing c3p0 pool... com.mchange.v2.c3p0.ComboPooledDataSource [ acquireIncrement -&gt; 3, acquireRetryAttempts -&gt; 30, acquireRetryDelay -&gt; 1000, autoCommitOnClose -&gt; false, automaticTestTable -&gt; null, breakAfterAcquireFailure -&gt; false, checkoutTimeout -&gt; 0, connectionCustomizerClassName -&gt; null, connectionTesterClassName -&gt; com.mchange.v2.c3p0.impl.DefaultConnectionTester, dataSourceName -&gt; 1hgekoiat1piitjos02ot4|2d7d25e2, debugUnreturnedConnectionStackTraces -&gt; false, description -&gt; null, driverClass -&gt; com.mysql.jdbc.Driver, factoryClassLocation -&gt; null, forceIgnoreUnresolvedTransactions -&gt; false, identityToken -&gt; 1hgekoiat1piitjos02ot4|2d7d25e2, idleConnectionTestPeriod -&gt; 0, initialPoolSize -&gt; 3, jdbcUrl -&gt; jdbc:mysql://xx.xxx.xx.xx:3306/master_db, maxAdministrativeTaskTime -&gt; 0, maxConnectionAge -&gt; 0, maxIdleTime -&gt; 0, maxIdleTimeExcessConnections -&gt; 0, maxPoolSize -&gt; 15, maxStatements -&gt; 0, maxStatementsPerConnection -&gt; 0, minPoolSize -&gt; 3, numHelperThreads -&gt; 3, numThreadsAwaitingCheckoutDefaultUser -&gt; 0, preferredTestQuery -&gt; null, properties -&gt; {user=******, password=******}, propertyCycle -&gt; 0, testConnectionOnCheckin -&gt; false, testConnectionOnCheckout -&gt; false, unreturnedConnectionTimeout -&gt; 0, usesTraditionalReflectiveProxies -&gt; false ]\n13:47:07,223 DEBUG BasicResourcePool:538 - acquire test -- pool size: 0; target_pool_size: 3; desired target? 1\n13:47:07,224 DEBUG BasicResourcePool:1291 - awaitAvailable(): [unknown]\n13:47:07,224 DEBUG BasicResourcePool:1644 - trace com.mchange.v2.resourcepool.BasicResourcePool@b3937 [managed: 0, unused: 0, excluded: 0]\n13:47:08,532 DEBUG BasicResourcePool:1831 - An exception occurred while acquiring a poolable resource. Will retry.\njava.sql.SQLException: java.lang.NullPointerException\n    at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1078)\n    at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:989)\n    at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:975)\n    at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:920)\n    at com.mysql.jdbc.ConnectionImpl.buildCollationMapping(ConnectionImpl.java:1074)\n    at com.mysql.jdbc.ConnectionImpl.initializePropsFromServer(ConnectionImpl.java:3590)\n    at com.mysql.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:2531)\n    at com.mysql.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:2301)\n    at com.mysql.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:834)\n    at com.mysql.jdbc.JDBC4Connection.&lt;init&gt;(JDBC4Connection.java:47)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n    at com.mysql.jdbc.Util.handleNewInstance(Util.java:411)\n    at com.mysql.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:416)\n    at com.mysql.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:346)\n    at com.mchange.v2.c3p0.DriverManagerDataSource.getConnection(DriverManagerDataSource.java:134)\n    at com.mchange.v2.c3p0.WrapperConnectionPoolDataSource.getPooledConnection(WrapperConnectionPoolDataSource.java:182)\n    at com.mchange.v2.c3p0.WrapperConnectionPoolDataSource.getPooledConnection(WrapperConnectionPoolDataSource.java:171)\n    at com.mchange.v2.c3p0.impl.C3P0PooledConnectionPool$1PooledConnectionResourcePoolManager.acquireResource(C3P0PooledConnectionPool.java:137)\n    at com.mchange.v2.resourcepool.BasicResourcePool.doAcquire(BasicResourcePool.java:1014)\n    at com.mchange.v2.resourcepool.BasicResourcePool.access$800(BasicResourcePool.java:32)\n    at com.mchange.v2.resourcepool.BasicResourcePool$AcquireTask.run(BasicResourcePool.java:1810)\n    at com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread.run(ThreadPoolAsynchronousRunner.java:547)\nCaused by: java.lang.NullPointerException\n    at java.util.TreeMap.put(TreeMap.java:563)\n    at com.mysql.jdbc.Util.resultSetToMap(Util.java:508)\n    at com.mysql.jdbc.ConnectionImpl.buildCollationMapping(ConnectionImpl.java:1004)\n    ... 20 more\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-data","itemwriter"],"comments":[{"owner":{"account_id":20732441,"reputation":1553,"user_id":15224052,"display_name":"Oliver"},"score":0,"creation_date":1674405767,"post_id":75198832,"comment_id":132702980,"body_markdown":"Neither of your code snippet are syntactically valid. Can you please fix your question?","body":"Neither of your code snippet are syntactically valid. Can you please fix your question?"},{"owner":{"account_id":27591948,"reputation":23,"user_id":21058928,"display_name":"arun"},"score":0,"creation_date":1674461697,"post_id":75198832,"comment_id":132710766,"body_markdown":"@Oliver Thanks for letting me know,Can u check now please?","body":"@Oliver Thanks for letting me know,Can u check now please?"}],"owner":{"account_id":27591948,"reputation":23,"user_id":21058928,"display_name":"arun"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1674461662,"creation_date":1674372628,"question_id":75198832,"body_markdown":"The write method of Itemwriter has been changed in the spring version 5.\r\n\r\n    @Override\r\n    public void write(List&lt;? extends List&lt;DataDTO&gt;&gt; items) throws Exception{\r\n        for(List&lt;DataDTO&gt; sublist:items){\r\n            writer.write(sublist);\r\n    }\r\n\r\nThe above writer is FlatFileItemWriter.\r\n\r\nI changed to the following \r\n\r\n    @Override\r\n    public void write(Chunk&lt;? extends List&lt;DataDTO&gt;&gt; items) throws Exception{\r\n        for(List&lt;DataDTO&gt; sublist:items){\r\n            writer.write((Chunk&lt;? extends DataDTO&gt;)sublist);\r\n        }\r\n    }\r\n\r\nIs this correct way of replacing/fix? need some help.\r\n\r\nIm expecting the correct fix.","title":"Spring batch itemwriter interface","body":"<p>The write method of Itemwriter has been changed in the spring version 5.</p>\n<pre><code>@Override\npublic void write(List&lt;? extends List&lt;DataDTO&gt;&gt; items) throws Exception{\n    for(List&lt;DataDTO&gt; sublist:items){\n        writer.write(sublist);\n}\n</code></pre>\n<p>The above writer is FlatFileItemWriter.</p>\n<p>I changed to the following</p>\n<pre><code>@Override\npublic void write(Chunk&lt;? extends List&lt;DataDTO&gt;&gt; items) throws Exception{\n    for(List&lt;DataDTO&gt; sublist:items){\n        writer.write((Chunk&lt;? extends DataDTO&gt;)sublist);\n    }\n}\n</code></pre>\n<p>Is this correct way of replacing/fix? need some help.</p>\n<p>Im expecting the correct fix.</p>\n"},{"tags":["java","postgresql","jpa","eclipselink"],"comments":[{"owner":{"account_id":26185931,"reputation":386,"user_id":19868455,"display_name":"Pierre Demeestere"},"score":0,"creation_date":1674466811,"post_id":75206675,"comment_id":132712184,"body_markdown":"You might have some clues there: https://stackoverflow.com/questions/2034099/psqlexception-error-relation-table-name-does-not-exist","body":"You might have some clues there: <a href=\"https://stackoverflow.com/questions/2034099/psqlexception-error-relation-table-name-does-not-exist\" title=\"psqlexception error relation table name does not exist\">stackoverflow.com/questions/2034099/&hellip;</a>"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1674489828,"post_id":75206675,"comment_id":132719721,"body_markdown":"You are missing a few properties to have DDL generated - the only one you have just tells it where to go, not to actually do anything. See https://www.eclipse.org/eclipselink/documentation/2.5/jpa/extensions/p_ddl_generation.htm for EclipseLink specific DDL property examples. EclipseLink properties offer a few more options like create-or-extend-tables, but you might want to look at using JPA properties as described here instead: https://docs.oracle.com/javaee/7/tutorial/persistence-intro005.htm .","body":"You are missing a few properties to have DDL generated - the only one you have just tells it where to go, not to actually do anything. See <a href=\"https://www.eclipse.org/eclipselink/documentation/2.5/jpa/extensions/p_ddl_generation.htm\" rel=\"nofollow noreferrer\">eclipse.org/eclipselink/documentation/2.5/jpa/extensions/&hellip;</a> for EclipseLink specific DDL property examples. EclipseLink properties offer a few more options like create-or-extend-tables, but you might want to look at using JPA properties as described here instead: <a href=\"https://docs.oracle.com/javaee/7/tutorial/persistence-intro005.htm\" rel=\"nofollow noreferrer\">docs.oracle.com/javaee/7/tutorial/persistence-intro005.htm</a> ."},{"owner":{"account_id":15482963,"reputation":493,"user_id":11169692,"display_name":"NoobCoder"},"score":0,"creation_date":1674538927,"post_id":75206675,"comment_id":132729821,"body_markdown":"@Chris Let me try this.","body":"@Chris Let me try this."}],"owner":{"account_id":15482963,"reputation":493,"user_id":11169692,"display_name":"NoobCoder"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":201,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674461607,"creation_date":1674459197,"question_id":75206675,"body_markdown":"I am new into java JPA and started to work in an old project.So,I have table name certificates in Postgres and the queries which I have written in code is actually working manually over there.\r\n\r\nAlso, I am dockerizing the app and running.\r\n\r\nIn the dao files, I am maintaining the queries like this:\r\n\r\n    NamedQueries({ @NamedQuery(name = &quot;PosCertificate.findAll&quot;, query = &quot;SELECT ce FROM PosCertificate ce&quot;),\r\n    \t@NamedQuery(name = &quot;PosCertificate.findAllCount&quot;, query = &quot;SELECT COUNT(d) FROM PosCertificate d&quot;),\r\n    \t@NamedQuery(name = &quot;PosCertificate.findById&quot;, query = &quot;SELECT d FROM PosCertificate d WHERE d.dev_id = :dev_id&quot;),\r\n    \t@NamedQuery(name = &quot;PosCertificate.idExists&quot;, query = &quot;SELECT COUNT(d) FROM PosCertificate d WHERE d.dev_id = :dev_id&quot;)})\r\n    \r\n    \r\n    @Entity\r\n    @Data \r\n    @Table(name = &quot;certificates&quot;)\r\n    public class PosCertificate implements Serializable {\r\n    \r\n    \tprivate static final long serialVersionUID = 1L;\r\n\r\n**Persistance.xml -**\r\n\r\n    &lt;persistence-unit name=&quot;PU_CSA&quot;&gt;\r\n    \t\t&lt;provider&gt;org.eclipse.persistence.jpa.PersistenceProvider&lt;/provider&gt;\r\n    \t\t&lt;non-jta-data-source&gt;java:comp/env/jdbc/CSA&lt;/non-jta-data-source&gt;\r\n    \t\t&lt;class&gt;backend.dao.PosCertificate&lt;/class&gt;\r\n    \t\t&lt;properties&gt;\r\n    \t\t\t&lt;!-- EclipseLink should create the database schema automatically --&gt;\r\n    \t\t\t&lt;property name=&quot;eclipselink.ddl-generation.output-mode&quot;\tvalue=&quot;database&quot; /&gt;\r\n    \t\t\r\n    \t\t&lt;/properties&gt;\r\n    \t&lt;/persistence-unit&gt;\r\n    \t\r\n    \t&lt;persistence-unit name=&quot;PU_CSB&quot;&gt;\r\n    \t\t&lt;provider&gt;org.eclipse.persistence.jpa.PersistenceProvider&lt;/provider&gt;\r\n    \t\t&lt;non-jta-data-source&gt;java:comp/env/jdbc/CSB&lt;/non-jta-data-source&gt;\r\n    \t\t&lt;class&gt;backend.dao.PosCertificate&lt;/class&gt;\r\n    \t\t&lt;properties&gt;\r\n\r\n**Context.xml**\r\n\r\n    &lt;ResourceLink name=&quot;jdbc/CSA&quot; global=&quot;jdbc/certServA&quot; auth=&quot;Container&quot; type=&quot;javax.sql.DataSource&quot; /&gt;\r\n    \t&lt;Environment name=&quot;backend.dao.CSA.database.shortdesc&quot; type=&quot;java.lang.String&quot; value=&quot;AuthServer Development&quot; /&gt;\r\n    \t&lt;Environment name=&quot;backend.dao.CSA.PosCertificate.table.name&quot; type=&quot;java.lang.String&quot; value=&quot;certificates&quot; /&gt;\r\n    \r\n    \t&lt;ResourceLink name=&quot;jdbc/CSB&quot; global=&quot;jdbc/certServB&quot; auth=&quot;Container&quot; type=&quot;javax.sql.DataSource&quot; /&gt;\r\n    \t&lt;Environment name=&quot;backend.dao.CSB.database.shortdesc&quot; type=&quot;java.lang.String&quot; value=&quot;AuthServer Productive&quot; /&gt;\r\n    \t&lt;Environment name=&quot;backend.dao.CSB.PosCertificate.table.name&quot; type=&quot;java.lang.String&quot; value=&quot;certificates&quot; /&gt;\r\n\r\nAfter all these I am still facing 500- Internal Server error:\r\n\r\n    Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.5.2.v20140319-9ad6abd): org.eclipse.persistence.exceptions.DatabaseException\r\n\r\n*Exception*\r\n\r\n    javax.persistence.PersistenceException: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.5.2.v20140319-9ad6abd): org.eclipse.persistence.exceptions.DatabaseException\r\n    Internal Exception: org.postgresql.util.PSQLException: ERROR: relation &quot;certificates&quot; does not exist\r\n      Position: 23\r\n    Error Code: 0\r\n    Call: SELECT COUNT(ID) FROM certificates\r\n    Query: ReportQuery(name=&quot;PosCertificate.findAllCount&quot; referenceClass=PosCertificate sql=&quot;SELECT COUNT(ID) FROM certificates&quot;)\r\n\r\n","title":"Internal Exception: org.postgresql.util.PSQLException: ERROR: relation &quot;certificates&quot; does not exist","body":"<p>I am new into java JPA and started to work in an old project.So,I have table name certificates in Postgres and the queries which I have written in code is actually working manually over there.</p>\n<p>Also, I am dockerizing the app and running.</p>\n<p>In the dao files, I am maintaining the queries like this:</p>\n<pre><code>NamedQueries({ @NamedQuery(name = &quot;PosCertificate.findAll&quot;, query = &quot;SELECT ce FROM PosCertificate ce&quot;),\n    @NamedQuery(name = &quot;PosCertificate.findAllCount&quot;, query = &quot;SELECT COUNT(d) FROM PosCertificate d&quot;),\n    @NamedQuery(name = &quot;PosCertificate.findById&quot;, query = &quot;SELECT d FROM PosCertificate d WHERE d.dev_id = :dev_id&quot;),\n    @NamedQuery(name = &quot;PosCertificate.idExists&quot;, query = &quot;SELECT COUNT(d) FROM PosCertificate d WHERE d.dev_id = :dev_id&quot;)})\n\n\n@Entity\n@Data \n@Table(name = &quot;certificates&quot;)\npublic class PosCertificate implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n</code></pre>\n<p><strong>Persistance.xml -</strong></p>\n<pre><code>&lt;persistence-unit name=&quot;PU_CSA&quot;&gt;\n        &lt;provider&gt;org.eclipse.persistence.jpa.PersistenceProvider&lt;/provider&gt;\n        &lt;non-jta-data-source&gt;java:comp/env/jdbc/CSA&lt;/non-jta-data-source&gt;\n        &lt;class&gt;backend.dao.PosCertificate&lt;/class&gt;\n        &lt;properties&gt;\n            &lt;!-- EclipseLink should create the database schema automatically --&gt;\n            &lt;property name=&quot;eclipselink.ddl-generation.output-mode&quot; value=&quot;database&quot; /&gt;\n        \n        &lt;/properties&gt;\n    &lt;/persistence-unit&gt;\n    \n    &lt;persistence-unit name=&quot;PU_CSB&quot;&gt;\n        &lt;provider&gt;org.eclipse.persistence.jpa.PersistenceProvider&lt;/provider&gt;\n        &lt;non-jta-data-source&gt;java:comp/env/jdbc/CSB&lt;/non-jta-data-source&gt;\n        &lt;class&gt;backend.dao.PosCertificate&lt;/class&gt;\n        &lt;properties&gt;\n</code></pre>\n<p><strong>Context.xml</strong></p>\n<pre><code>&lt;ResourceLink name=&quot;jdbc/CSA&quot; global=&quot;jdbc/certServA&quot; auth=&quot;Container&quot; type=&quot;javax.sql.DataSource&quot; /&gt;\n    &lt;Environment name=&quot;backend.dao.CSA.database.shortdesc&quot; type=&quot;java.lang.String&quot; value=&quot;AuthServer Development&quot; /&gt;\n    &lt;Environment name=&quot;backend.dao.CSA.PosCertificate.table.name&quot; type=&quot;java.lang.String&quot; value=&quot;certificates&quot; /&gt;\n\n    &lt;ResourceLink name=&quot;jdbc/CSB&quot; global=&quot;jdbc/certServB&quot; auth=&quot;Container&quot; type=&quot;javax.sql.DataSource&quot; /&gt;\n    &lt;Environment name=&quot;backend.dao.CSB.database.shortdesc&quot; type=&quot;java.lang.String&quot; value=&quot;AuthServer Productive&quot; /&gt;\n    &lt;Environment name=&quot;backend.dao.CSB.PosCertificate.table.name&quot; type=&quot;java.lang.String&quot; value=&quot;certificates&quot; /&gt;\n</code></pre>\n<p>After all these I am still facing 500- Internal Server error:</p>\n<pre><code>Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.5.2.v20140319-9ad6abd): org.eclipse.persistence.exceptions.DatabaseException\n</code></pre>\n<p><em>Exception</em></p>\n<pre><code>javax.persistence.PersistenceException: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.5.2.v20140319-9ad6abd): org.eclipse.persistence.exceptions.DatabaseException\nInternal Exception: org.postgresql.util.PSQLException: ERROR: relation &quot;certificates&quot; does not exist\n  Position: 23\nError Code: 0\nCall: SELECT COUNT(ID) FROM certificates\nQuery: ReportQuery(name=&quot;PosCertificate.findAllCount&quot; referenceClass=PosCertificate sql=&quot;SELECT COUNT(ID) FROM certificates&quot;)\n</code></pre>\n"},{"tags":["java","maven","netbeans"],"comments":[{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1674415869,"post_id":75203188,"comment_id":132704926,"body_markdown":"Have you researched this error? Does this help: [CreateProcess error=206, The filename or extension is too long when running main() method](https://stackoverflow.com/q/10519558/12567365)? And you can search for other [similar questions](https://www.google.com/search?q=CreateProcess+error+206,+The+filename+or+extension+is+too+long+site:stackoverflow.com) on SO.","body":"Have you researched this error? Does this help: <a href=\"https://stackoverflow.com/q/10519558/12567365\">CreateProcess error=206, The filename or extension is too long when running main() method</a>? And you can search for other <a href=\"https://www.google.com/search?q=CreateProcess+error+206,+The+filename+or+extension+is+too+long+site:stackoverflow.com\" rel=\"nofollow noreferrer\">similar questions</a> on SO."},{"owner":{"account_id":2196215,"reputation":21,"user_id":1941800,"display_name":"Bob Matthews"},"score":0,"creation_date":1674421048,"post_id":75203188,"comment_id":132705883,"body_markdown":"yes - I have looked at other scenarios with a similar problem but I find the suggestions quite confusing and don&#39;t know what to exactly try","body":"yes - I have looked at other scenarios with a similar problem but I find the suggestions quite confusing and don&#39;t know what to exactly try"},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1674453508,"post_id":75203188,"comment_id":132709412,"body_markdown":"See Bug Report [NETBEANS-5208 Fix for java.io.IOException: CreateProcess error=206, The filename or extension is too long](https://issues.apache.org/jira/browse/NETBEANS-5208) which describes the issue you face when using Deeplearning4j on NetBeans. The bug report is unresolved, but you can try this helpful suggestion posted in the comments: _&quot;As a workaround I am adding **exec.longClasspath=true** to the run actions of my maven project&quot;_. If that works please consider posting and accepting an answer to your own question, because having accepted answers is more helpful for the SO community.","body":"See Bug Report <a href=\"https://issues.apache.org/jira/browse/NETBEANS-5208\" rel=\"nofollow noreferrer\">NETBEANS-5208 Fix for java.io.IOException: CreateProcess error=206, The filename or extension is too long</a> which describes the issue you face when using Deeplearning4j on NetBeans. The bug report is unresolved, but you can try this helpful suggestion posted in the comments: <i>&quot;As a workaround I am adding <b>exec.longClasspath=true</b> to the run actions of my maven project&quot;</i>. If that works please consider posting and accepting an answer to your own question, because having accepted answers is more helpful for the SO community."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1674453703,"post_id":75203188,"comment_id":132709435,"body_markdown":"[This is a link to the relevant Maven documentation](https://www.mojohaus.org/exec-maven-plugin/exec-mojo.html#longClasspath) for **&lt;longClasspath&gt;**.","body":"<a href=\"https://www.mojohaus.org/exec-maven-plugin/exec-mojo.html#longClasspath\" rel=\"nofollow noreferrer\">This is a link to the relevant Maven documentation</a> for <b>&lt;longClasspath&gt;</b>."}],"owner":{"account_id":2196215,"reputation":21,"user_id":1941800,"display_name":"Bob Matthews"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":558,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1674461553,"creation_date":1674415028,"question_id":75203188,"body_markdown":"I have opened a maven project in Netbeans 16 - the project is `deeplearning4j-examples`\r\n\r\nWhen I try to run one of the main classes I get the following error message:\r\n\r\n&gt; Failed to execute goal org.codehaus.mojo:exec-maven-plugin:3.0.0:exec (default-cli) on project dl4j-examples: Command execution failed.: Cannot run program &quot;C:\\Program Files\\Common Files\\Oracle\\Java\\javapath\\java.exe&quot; (in directory &quot;C:\\deeplearning4j-examples\\dl4j-examples&quot;): CreateProcess error=206, The filename or extension is too long -&gt; [Help 1]","title":"Too long filename or extension running Maven project","body":"<p>I have opened a maven project in Netbeans 16 - the project is <code>deeplearning4j-examples</code></p>\n<p>When I try to run one of the main classes I get the following error message:</p>\n<blockquote>\n<p>Failed to execute goal org.codehaus.mojo:exec-maven-plugin:3.0.0:exec (default-cli) on project dl4j-examples: Command execution failed.: Cannot run program &quot;C:\\Program Files\\Common Files\\Oracle\\Java\\javapath\\java.exe&quot; (in directory &quot;C:\\deeplearning4j-examples\\dl4j-examples&quot;): CreateProcess error=206, The filename or extension is too long -&gt; [Help 1]</p>\n</blockquote>\n"},{"tags":["java","eclipse","spring","maven","servlets"],"comments":[{"owner":{"account_id":3462098,"reputation":42531,"user_id":2898867,"accept_rate":80,"display_name":"Angular University"},"score":0,"creation_date":1392311444,"post_id":21757179,"comment_id":32916990,"body_markdown":"the DispatcherServlet is not created by the application developer as it&#180;s part of the spring jars. you just need to add it in your web.xml and declare some controllers - see the spring petclinic sample app https://github.com/spring-projects/spring-petclinic/","body":"the DispatcherServlet is not created by the application developer as it&#180;s part of the spring jars. you just need to add it in your web.xml and declare some controllers - see the spring petclinic sample app <a href=\"https://github.com/spring-projects/spring-petclinic/\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-petclinic</a>"},{"owner":{"account_id":4013656,"reputation":41,"user_id":3306409,"display_name":"davidfm"},"score":0,"creation_date":1392378434,"post_id":21757179,"comment_id":32948313,"body_markdown":"Maybe I should&#39;ve said &quot;add&quot;, more than &quot;create&quot;. :)","body":"Maybe I should&#39;ve said &quot;add&quot;, more than &quot;create&quot;. :)"}],"answers":[{"tags":[],"owner":{"account_id":4013656,"reputation":41,"user_id":3306409,"display_name":"davidfm"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1392378637,"creation_date":1392378637,"answer_id":21778633,"question_id":21757179,"body_markdown":"Found the solution.  I just had to select a **Target runtime** when creating the Dynamic Web Project. Once I did that the New Servlet list worked properly and I could add the DispatcherServlet.\r\n\r\nOf course, it can also be done manually on web.xml (that&#39;s what I did), but I was worried since the other method was supposed to work as well.","title":"Use an existing Servlet Class or JSP - Servlet list is empty","body":"<p>Found the solution.  I just had to select a <strong>Target runtime</strong> when creating the Dynamic Web Project. Once I did that the New Servlet list worked properly and I could add the DispatcherServlet.</p>\n\n<p>Of course, it can also be done manually on web.xml (that's what I did), but I was worried since the other method was supposed to work as well.</p>\n"},{"tags":[],"owner":{"account_id":3558902,"reputation":39,"user_id":2971864,"display_name":"Ercan Ku"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1464517001,"creation_date":1464517001,"answer_id":37508671,"question_id":21757179,"body_markdown":"You should set server runtime in your project. To do that, \r\nRight click project -&gt; Click properties -&gt; Java Build Path -&gt;Add Library –&gt; Click Next -&gt; Select server and add it.","title":"Use an existing Servlet Class or JSP - Servlet list is empty","body":"<p>You should set server runtime in your project. To do that, \nRight click project -> Click properties -> Java Build Path ->Add Library –> Click Next -> Select server and add it.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1671457754,"post_id":74824471,"comment_id":132096848,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/74824471/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":25417607,"reputation":3,"user_id":19224225,"display_name":"Amit Kumar Tiwari"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671193754,"creation_date":1671193754,"answer_id":74824471,"question_id":21757179,"body_markdown":"For me it worked as below:\r\n1. Brought my server into Targeted Runtime by going into ProjectExplorer--&gt; Properties --&gt; Target Runtime --&gt;  Select the server\r\n\r\n2. Then I moved my Web app libraries( I copied Spring jar files in web-inf during setting up the project) from Classpath to modulepath.\r\n\r\nApply and Save. Restart the IDE.","title":"Use an existing Servlet Class or JSP - Servlet list is empty","body":"<p>For me it worked as below:</p>\n<ol>\n<li><p>Brought my server into Targeted Runtime by going into ProjectExplorer--&gt; Properties --&gt; Target Runtime --&gt;  Select the server</p>\n</li>\n<li><p>Then I moved my Web app libraries( I copied Spring jar files in web-inf during setting up the project) from Classpath to modulepath.</p>\n</li>\n</ol>\n<p>Apply and Save. Restart the IDE.</p>\n"},{"tags":[],"owner":{"account_id":20717463,"reputation":190,"user_id":15212573,"display_name":"roudlek"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674460381,"creation_date":1674427553,"answer_id":75204444,"question_id":21757179,"body_markdown":"Spring mvc IS NOT COMPATIBLE with Tomcat 10. This is because Tomcat 10 is based on Jakarta EE 9 where package names for APIs have changed from javax.* to jakarta.*\r\n\r\nhttps://jar-download.com/artifacts/jakarta.servlet/jakarta.servlet-api/4.0.2/source-code\r\n\r\nthe solution that is not recommended is to use, is to use tomcat9 (to lower version)\r\nbut what i recommend is to install the **jakarta.servlet-api-4.0.2.jar** and go to your project -&gt; right click -&gt; propreties -&gt; java build path - click on classpath -&gt; add external jars and add jakarta.servlet-api-4.0.2.jar to class path then just go create servlet and select existing, browse and you will see all other classes","title":"Use an existing Servlet Class or JSP - Servlet list is empty","body":"<p>Spring mvc IS NOT COMPATIBLE with Tomcat 10. This is because Tomcat 10 is based on Jakarta EE 9 where package names for APIs have changed from javax.* to jakarta.*</p>\n<p><a href=\"https://jar-download.com/artifacts/jakarta.servlet/jakarta.servlet-api/4.0.2/source-code\" rel=\"nofollow noreferrer\">https://jar-download.com/artifacts/jakarta.servlet/jakarta.servlet-api/4.0.2/source-code</a></p>\n<p>the solution that is not recommended is to use, is to use tomcat9 (to lower version)\nbut what i recommend is to install the <strong>jakarta.servlet-api-4.0.2.jar</strong> and go to your project -&gt; right click -&gt; propreties -&gt; java build path - click on classpath -&gt; add external jars and add jakarta.servlet-api-4.0.2.jar to class path then just go create servlet and select existing, browse and you will see all other classes</p>\n"}],"owner":{"account_id":4013656,"reputation":41,"user_id":3306409,"display_name":"davidfm"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":21778633,"answer_count":4,"score":0,"last_activity_date":1674460381,"creation_date":1392302137,"question_id":21757179,"body_markdown":"I have the following problem with a small Spring MVC project I&#39;m trying to create. I&#39;d like to create the DispatcherServlet, but the wizard list is empty.\r\n\r\n![enter image description here][1]\r\n\r\nI believe I have all the necessary dependencies covered: \r\n\r\n- spring-core&lt;br&gt;\r\n- spring-beans&lt;br&gt;\r\n- spring-context&lt;br&gt;\r\n- spring-jdbc&lt;br&gt;\r\n- spring-web&lt;br&gt;\r\n- spring-webmvc&lt;br&gt;\r\n \r\n\r\nI read on similar questions that the wizard can only be used on Dynamic Web projects. I checked the Project Facets and it seems to be OK.\r\n\r\n- Dynamic Web Module v3.0&lt;br&gt;\r\n- Java v1.6&lt;br&gt;\r\n- JavaScript v1.0&lt;br&gt;\r\n  \r\n\r\nAlso, web.xml has been created and the project has been updated with the Maven dependencies.\r\n\r\nAs far as I know this should work, but it doesn&#39;t. Any help would be much appreciated.\r\n\r\n\r\n \r\n\r\n\r\n  [1]: http://i.stack.imgur.com/y7ewC.png","title":"Use an existing Servlet Class or JSP - Servlet list is empty","body":"<p>I have the following problem with a small Spring MVC project I'm trying to create. I'd like to create the DispatcherServlet, but the wizard list is empty.</p>\n\n<p><img src=\"https://i.stack.imgur.com/y7ewC.png\" alt=\"enter image description here\"></p>\n\n<p>I believe I have all the necessary dependencies covered: </p>\n\n<ul>\n<li>spring-core<br></li>\n<li>spring-beans<br></li>\n<li>spring-context<br></li>\n<li>spring-jdbc<br></li>\n<li>spring-web<br></li>\n<li>spring-webmvc<br></li>\n</ul>\n\n<p>I read on similar questions that the wizard can only be used on Dynamic Web projects. I checked the Project Facets and it seems to be OK.</p>\n\n<ul>\n<li>Dynamic Web Module v3.0<br></li>\n<li>Java v1.6<br></li>\n<li>JavaScript v1.0<br></li>\n</ul>\n\n<p>Also, web.xml has been created and the project has been updated with the Maven dependencies.</p>\n\n<p>As far as I know this should work, but it doesn't. Any help would be much appreciated.</p>\n"},{"tags":["java","json","design-patterns"],"comments":[{"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1673468684,"post_id":75088582,"comment_id":132508759,"body_markdown":"Check [Java Validation Frameworks](https://stackoverflow.com/q/397852/10819573)","body":"Check <a href=\"https://stackoverflow.com/q/397852/10819573\">Java Validation Frameworks</a>"},{"owner":{"account_id":3464234,"reputation":844,"user_id":2900314,"accept_rate":86,"display_name":"User27854"},"score":0,"creation_date":1673517913,"post_id":75088582,"comment_id":132518952,"body_markdown":"@ArvindKumarAvinash these are for field level validation right. I want to rewrite the validation for the individual json values.","body":"@ArvindKumarAvinash these are for field level validation right. I want to rewrite the validation for the individual json values."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":1,"creation_date":1674230224,"post_id":75088582,"comment_id":132676896,"body_markdown":"Is there any reason you don&#39;t create custom class representing the json, deserialize the json into this class and use existing validation framework to validate the deserialized object? Currently you are doing essentially the same, but in a more awkward way with a `Map`. Even if you insist on manual validation, working with a custom class will be much less clunky compared to a map.","body":"Is there any reason you don&#39;t create custom class representing the json, deserialize the json into this class and use existing validation framework to validate the deserialized object? Currently you are doing essentially the same, but in a more awkward way with a <code>Map</code>. Even if you insist on manual validation, working with a custom class will be much less clunky compared to a map."},{"owner":{"account_id":3464234,"reputation":844,"user_id":2900314,"accept_rate":86,"display_name":"User27854"},"score":0,"creation_date":1674232707,"post_id":75088582,"comment_id":132677753,"body_markdown":"@Chaosfire, the response has lot of dynamic fields so converting it into a class is not a good idea for my actual scenario..","body":"@Chaosfire, the response has lot of dynamic fields so converting it into a class is not a good idea for my actual scenario.."},{"owner":{"account_id":3464234,"reputation":844,"user_id":2900314,"accept_rate":86,"display_name":"User27854"},"score":0,"creation_date":1674233052,"post_id":75088582,"comment_id":132677867,"body_markdown":"@Chaosfire Out of 40+ fields only 15 or odd fields needs validations and other does not need.","body":"@Chaosfire Out of 40+ fields only 15 or odd fields needs validations and other does not need."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1674237007,"post_id":75088582,"comment_id":132679148,"body_markdown":"@User27854 You can always make a class only with the fields you actually need to validate and not declare the rest. But more importantly, since a lot of them are dynamic, how do you know which fields to validate? When you receive the json, how do you know that you should validate properties `a` and `b`, but not `c` and `d`? Same question about properties in nested objects, how do you know you should validate `offerSpecifications.price` and not `offerSpecifications.another` for example?","body":"@User27854 You can always make a class only with the fields you actually need to validate and not declare the rest. But more importantly, since a lot of them are dynamic, how do you know which fields to validate? When you receive the json, how do you know that you should validate properties <code>a</code> and <code>b</code>, but not <code>c</code> and <code>d</code>? Same question about properties in nested objects, how do you know you should validate <code>offerSpecifications.price</code> and not <code>offerSpecifications.another</code> for example?"}],"answers":[{"comments":[{"owner":{"account_id":3464234,"reputation":844,"user_id":2900314,"accept_rate":86,"display_name":"User27854"},"score":0,"creation_date":1674232981,"post_id":75186300,"comment_id":132677851,"body_markdown":"As mentioned in the problem statement, the Json response will have a minimum of 40+ fields and also they are dynamic. That few values may be added or few removed. When we have so many fields, creating a class does will be difficult.","body":"As mentioned in the problem statement, the Json response will have a minimum of 40+ fields and also they are dynamic. That few values may be added or few removed. When we have so many fields, creating a class does will be difficult."},{"owner":{"account_id":3464234,"reputation":844,"user_id":2900314,"accept_rate":86,"display_name":"User27854"},"score":0,"creation_date":1674233033,"post_id":75186300,"comment_id":132677862,"body_markdown":"Out of 40+ fields only 15 or odd fields needs validations and other does not need.","body":"Out of 40+ fields only 15 or odd fields needs validations and other does not need."},{"owner":{"account_id":3464234,"reputation":844,"user_id":2900314,"accept_rate":86,"display_name":"User27854"},"score":0,"creation_date":1674233208,"post_id":75186300,"comment_id":132677907,"body_markdown":"In your program if  you are trying to obtain a map of json string. I am already doing that.","body":"In your program if  you are trying to obtain a map of json string. I am already doing that."},{"owner":{"account_id":23483000,"reputation":56,"user_id":17534884,"display_name":"Samir Zafar"},"score":0,"creation_date":1674234108,"post_id":75186300,"comment_id":132678210,"body_markdown":"Okay, what are the fields 15 that will be validated ? I am assuming it will be mandatory for them to exist with a value within the JSON right?","body":"Okay, what are the fields 15 that will be validated ? I am assuming it will be mandatory for them to exist with a value within the JSON right?"},{"owner":{"account_id":3464234,"reputation":844,"user_id":2900314,"accept_rate":86,"display_name":"User27854"},"score":0,"creation_date":1674235716,"post_id":75186300,"comment_id":132678701,"body_markdown":"yes those 15 fields requires Validation, but they are not the same for every field ed: product field must not be empty, where as for offerAttributes it must not be empty and must have one or more json object, Also for offerStartDate it must not be empty and must of a valid date.","body":"yes those 15 fields requires Validation, but they are not the same for every field ed: product field must not be empty, where as for offerAttributes it must not be empty and must have one or more json object, Also for offerStartDate it must not be empty and must of a valid date."},{"owner":{"account_id":3464234,"reputation":844,"user_id":2900314,"accept_rate":86,"display_name":"User27854"},"score":0,"creation_date":1674235751,"post_id":75186300,"comment_id":132678710,"body_markdown":"These can be addressed by design pattern, But i am not sure as to which will be apt for my case.","body":"These can be addressed by design pattern, But i am not sure as to which will be apt for my case."},{"owner":{"account_id":23483000,"reputation":56,"user_id":17534884,"display_name":"Samir Zafar"},"score":0,"creation_date":1674235950,"post_id":75186300,"comment_id":132678781,"body_markdown":"An alternative would be to make a class with the 15 mandatory fields. Then based on the field types validate with the specific logic. I am not sure which Design Patterns fit this specific use case but I can&#39;t see why the suggested solution is not applicable.","body":"An alternative would be to make a class with the 15 mandatory fields. Then based on the field types validate with the specific logic. I am not sure which Design Patterns fit this specific use case but I can&#39;t see why the suggested solution is not applicable."}],"tags":[],"owner":{"account_id":23483000,"reputation":56,"user_id":17534884,"display_name":"Samir Zafar"},"comment_count":7,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674229530,"creation_date":1674229530,"answer_id":75186300,"question_id":75088582,"body_markdown":"&lt;!-- language-all: java --&gt; \r\nHello, you can validate JSON with the following approach.\r\nI created a mini, scaled-down version of yours but it should point you towards the right direction hopefully.\r\n\r\nI used the Jackson libary, specifically I used the object mapper.\r\nHere is some documentation to the object mapper - https://www.baeldung.com/jackson-object-mapper-tutorial.\r\n\r\nSo I created a simple Product class.\r\nThe Product class was composed of :\r\n\r\n 1. A empty constructor\r\n 2. An all arguments constructor\r\n 3. Three private properties, Name, Price, InStock\r\n 4. Getters &amp; Setters\r\n\r\nHere is my Main.java code.\r\n```\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\n\r\nimport java.util.Map;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) throws Exception {\r\n        // Mock JSON\r\n        String json = &quot;&quot;&quot;\r\n                {\r\n                  &quot;name&quot; : &quot;&quot;,\r\n                  &quot;price&quot; : 5.99,\r\n                  &quot;inStock&quot;: true\r\n                }&quot;&quot;&quot;;\r\n\r\n        // Declare &amp; Initialise a new object mapper\r\n        ObjectMapper mapper = new ObjectMapper();\r\n\r\n        // Declare &amp; Initialise a new product object\r\n        Product product = null;\r\n        try {\r\n            // Try reading the values from the json into product object\r\n            product = mapper.readValue(json, Product.class);\r\n        }\r\n        catch (Exception exception) {\r\n            System.out.println(&quot;Exception&quot;);\r\n            System.out.println(exception.getMessage());\r\n            return;\r\n        }\r\n\r\n        // Map out the object&#39;s field names to the field values\r\n        Map&lt;String, Object&gt; propertiesOfProductObject = mapper.convertValue(product, Map.class);\r\n\r\n        // Loop through all the entries in the map. i.e. the fields and their values\r\n        for(Map.Entry&lt;String, Object&gt; entry : propertiesOfProductObject.entrySet()){\r\n            // If a value is empty throw an exception\r\n            // Else print it to the console\r\n            if (entry.getValue().toString().isEmpty()) {\r\n                throw new Exception(&quot;Missing Attribute : &quot; + entry.getKey());\r\n            } else {\r\n                System.out.println(entry.getKey() + &quot;--&gt;&quot; + entry.getValue());\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nIt throws an error sauing the name field is empty. \r\n","title":"Better way of writing validation for a JSON String","body":" \n<p>Hello, you can validate JSON with the following approach.\nI created a mini, scaled-down version of yours but it should point you towards the right direction hopefully.</p>\n<p>I used the Jackson libary, specifically I used the object mapper.\nHere is some documentation to the object mapper - <a href=\"https://www.baeldung.com/jackson-object-mapper-tutorial\" rel=\"nofollow noreferrer\">https://www.baeldung.com/jackson-object-mapper-tutorial</a>.</p>\n<p>So I created a simple Product class.\nThe Product class was composed of :</p>\n<ol>\n<li>A empty constructor</li>\n<li>An all arguments constructor</li>\n<li>Three private properties, Name, Price, InStock</li>\n<li>Getters &amp; Setters</li>\n</ol>\n<p>Here is my Main.java code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.fasterxml.jackson.databind.ObjectMapper;\n\nimport java.util.Map;\n\npublic class Main {\n    public static void main(String[] args) throws Exception {\n        // Mock JSON\n        String json = &quot;&quot;&quot;\n                {\n                  &quot;name&quot; : &quot;&quot;,\n                  &quot;price&quot; : 5.99,\n                  &quot;inStock&quot;: true\n                }&quot;&quot;&quot;;\n\n        // Declare &amp; Initialise a new object mapper\n        ObjectMapper mapper = new ObjectMapper();\n\n        // Declare &amp; Initialise a new product object\n        Product product = null;\n        try {\n            // Try reading the values from the json into product object\n            product = mapper.readValue(json, Product.class);\n        }\n        catch (Exception exception) {\n            System.out.println(&quot;Exception&quot;);\n            System.out.println(exception.getMessage());\n            return;\n        }\n\n        // Map out the object's field names to the field values\n        Map&lt;String, Object&gt; propertiesOfProductObject = mapper.convertValue(product, Map.class);\n\n        // Loop through all the entries in the map. i.e. the fields and their values\n        for(Map.Entry&lt;String, Object&gt; entry : propertiesOfProductObject.entrySet()){\n            // If a value is empty throw an exception\n            // Else print it to the console\n            if (entry.getValue().toString().isEmpty()) {\n                throw new Exception(&quot;Missing Attribute : &quot; + entry.getKey());\n            } else {\n                System.out.println(entry.getKey() + &quot;--&gt;&quot; + entry.getValue());\n            }\n        }\n    }\n}\n</code></pre>\n<p>It throws an error sauing the name field is empty.</p>\n"},{"comments":[{"owner":{"account_id":3464234,"reputation":844,"user_id":2900314,"accept_rate":86,"display_name":"User27854"},"score":0,"creation_date":1674266431,"post_id":75187609,"comment_id":132684617,"body_markdown":"Are there any design pattern which I can use to avoid the switch and case statements?","body":"Are there any design pattern which I can use to avoid the switch and case statements?"},{"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"score":0,"creation_date":1674269346,"post_id":75187609,"comment_id":132684808,"body_markdown":"If you don&#39;t want switch case, then use if then else.","body":"If you don&#39;t want switch case, then use if then else."},{"owner":{"account_id":3464234,"reputation":844,"user_id":2900314,"accept_rate":86,"display_name":"User27854"},"score":0,"creation_date":1674270191,"post_id":75187609,"comment_id":132684873,"body_markdown":"If else and switch case increases Cognitive Complexity and that will be detected by sonar, looking at ways to avoid it.","body":"If else and switch case increases Cognitive Complexity and that will be detected by sonar, looking at ways to avoid it."}],"tags":[],"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1674237563,"creation_date":1674236632,"answer_id":75187609,"question_id":75088582,"body_markdown":"Build a JSON template for comparison.\r\n\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    JsonNode template = mapper.readTree(\r\n        &quot;{&quot; +\r\n        &quot;  \\&quot;productName\\&quot;: \\&quot;\\&quot;,&quot; +\r\n        &quot;  \\&quot;offerStartDate\\&quot;: \\&quot;\\&quot;,&quot; +\r\n        &quot;  \\&quot;offerEndDate\\&quot;: \\&quot;\\&quot;,&quot; +\r\n        &quot;  \\&quot;offerAttributes\\&quot;: [],&quot; +\r\n        &quot;  \\&quot;offerSpecifications\\&quot;: {&quot; +\r\n        &quot;    \\&quot;price\\&quot;: 0&quot; +\r\n        &quot;  }&quot; +\r\n        &quot;}&quot;);\r\n    JsonNode data = mapper.readTree(\r\n        &quot;{&quot; +\r\n        &quot;  \\&quot;productName\\&quot;: \\&quot;Gold\\&quot;,&quot; +\r\n        &quot;  \\&quot;offerStartDate\\&quot;: \\&quot;01152023\\&quot;,&quot; +\r\n        &quot;  \\&quot;offerEndDate\\&quot;: \\&quot;01152024\\&quot;,&quot; +\r\n        &quot;  \\&quot;offerAttributes\\&quot;: [&quot; +\r\n        &quot;    {&quot; +\r\n        &quot;      \\&quot;id\\&quot;: \\&quot;TGH-DAD3KVF3\\&quot;,&quot; +\r\n        &quot;      \\&quot;storeid\\&quot;: \\&quot;STG-67925\\&quot;,&quot; +\r\n        &quot;      \\&quot;availability\\&quot;: true&quot; +\r\n        &quot;    }&quot; +\r\n        &quot;  ],&quot; +\r\n        &quot;  \\&quot;offerSpecifications\\&quot;: {&quot; +\r\n        &quot;    \\&quot;price\\&quot;: 23.25&quot; +\r\n        &quot;  }&quot; +\r\n        &quot;}&quot;);\r\n    validate(template, data);\r\n\r\nHere is the recursion function to compare the template and the data.\r\n\r\n    public void validate(JsonNode template, JsonNode data) throws Exception {\r\n        final Iterator&lt;Map.Entry&lt;String, JsonNode&gt;&gt; iterator = template.fields();\r\n        while (iterator.hasNext()) {\r\n            final Map.Entry&lt;String, JsonNode&gt; entry = iterator.next();\r\n            JsonNode dataValue = data.get(entry.getKey());\r\n            if (dataValue == null || dataValue.isNull()) {\r\n                throw new Exception(&quot;Missing &quot; + entry.getKey());\r\n            }\r\n            if (entry.getValue().getNodeType() != dataValue.getNodeType()) {\r\n                throw new Exception(&quot;Mismatch data type: &quot; + entry.getKey());\r\n            }\r\n            switch (entry.getValue().getNodeType()) {\r\n                case STRING:\r\n                    if (dataValue.asText().isEmpty()) {\r\n                        throw new Exception(&quot;Missing &quot; + entry.getKey());\r\n                    }\r\n                    break;\r\n                case OBJECT:\r\n                    validate(entry.getValue(), dataValue);\r\n                    break;\r\n                case ARRAY:\r\n                    if (dataValue.isEmpty()) {\r\n                        throw new Exception(&quot;Array &quot; + entry.getKey() + &quot; must not be empty&quot;);\r\n                    }\r\n                    break;\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Better way of writing validation for a JSON String","body":"<p>Build a JSON template for comparison.</p>\n<pre><code>ObjectMapper mapper = new ObjectMapper();\nJsonNode template = mapper.readTree(\n    &quot;{&quot; +\n    &quot;  \\&quot;productName\\&quot;: \\&quot;\\&quot;,&quot; +\n    &quot;  \\&quot;offerStartDate\\&quot;: \\&quot;\\&quot;,&quot; +\n    &quot;  \\&quot;offerEndDate\\&quot;: \\&quot;\\&quot;,&quot; +\n    &quot;  \\&quot;offerAttributes\\&quot;: [],&quot; +\n    &quot;  \\&quot;offerSpecifications\\&quot;: {&quot; +\n    &quot;    \\&quot;price\\&quot;: 0&quot; +\n    &quot;  }&quot; +\n    &quot;}&quot;);\nJsonNode data = mapper.readTree(\n    &quot;{&quot; +\n    &quot;  \\&quot;productName\\&quot;: \\&quot;Gold\\&quot;,&quot; +\n    &quot;  \\&quot;offerStartDate\\&quot;: \\&quot;01152023\\&quot;,&quot; +\n    &quot;  \\&quot;offerEndDate\\&quot;: \\&quot;01152024\\&quot;,&quot; +\n    &quot;  \\&quot;offerAttributes\\&quot;: [&quot; +\n    &quot;    {&quot; +\n    &quot;      \\&quot;id\\&quot;: \\&quot;TGH-DAD3KVF3\\&quot;,&quot; +\n    &quot;      \\&quot;storeid\\&quot;: \\&quot;STG-67925\\&quot;,&quot; +\n    &quot;      \\&quot;availability\\&quot;: true&quot; +\n    &quot;    }&quot; +\n    &quot;  ],&quot; +\n    &quot;  \\&quot;offerSpecifications\\&quot;: {&quot; +\n    &quot;    \\&quot;price\\&quot;: 23.25&quot; +\n    &quot;  }&quot; +\n    &quot;}&quot;);\nvalidate(template, data);\n</code></pre>\n<p>Here is the recursion function to compare the template and the data.</p>\n<pre><code>public void validate(JsonNode template, JsonNode data) throws Exception {\n    final Iterator&lt;Map.Entry&lt;String, JsonNode&gt;&gt; iterator = template.fields();\n    while (iterator.hasNext()) {\n        final Map.Entry&lt;String, JsonNode&gt; entry = iterator.next();\n        JsonNode dataValue = data.get(entry.getKey());\n        if (dataValue == null || dataValue.isNull()) {\n            throw new Exception(&quot;Missing &quot; + entry.getKey());\n        }\n        if (entry.getValue().getNodeType() != dataValue.getNodeType()) {\n            throw new Exception(&quot;Mismatch data type: &quot; + entry.getKey());\n        }\n        switch (entry.getValue().getNodeType()) {\n            case STRING:\n                if (dataValue.asText().isEmpty()) {\n                    throw new Exception(&quot;Missing &quot; + entry.getKey());\n                }\n                break;\n            case OBJECT:\n                validate(entry.getValue(), dataValue);\n                break;\n            case ARRAY:\n                if (dataValue.isEmpty()) {\n                    throw new Exception(&quot;Array &quot; + entry.getKey() + &quot; must not be empty&quot;);\n                }\n                break;\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27597963,"reputation":1024,"user_id":21063779,"display_name":"Lae"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674460109,"creation_date":1674460109,"answer_id":75206786,"question_id":75088582,"body_markdown":"# Option 1\r\n\r\nIf you are able to deserialize into a class instead of a map, you can use [Bean Validaion][1] to do something like this:\r\n\r\n```java\r\nclass Product {\r\n  @NotEmpty String productName;\r\n  @NotEmpty String offerStartDate;\r\n  @NotEmpty String offerEndDate;\r\n}\r\n```\r\n\r\nYou can then write your own `@MyCustomValidation` for any [custom validation][2].\r\n\r\n# Option 2\r\n\r\nIf you must keep the object as a `Map`, you can extract each of your validations into validator objects make things extensible/composable/cleaner, roughly like this:\r\n\r\n```java\r\n@FunctionalInterface\r\ninterface Constraint {\r\n  void validate(Object value);\r\n\r\n  default Constraint and(Constraint next) {\r\n    return (value) -&gt; {\r\n      this.validate(value);\r\n      next.validate(value);\r\n    };\r\n  }\r\n}\r\n\r\nvar constraints = new HashMap&lt;Validator&gt;();\r\nconstraints.put(&quot;productName&quot;, new NotEmpty());\r\nconstraints.put(&quot;offerStartDate&quot;, new NotEmpty());\r\nconstraints.put(&quot;someNumber&quot;, new LessThan(10).and(new GreaterThan(5)));\r\n\r\n// Then\r\nmap.forEach((key, value) -&gt; {\r\n  var constraint = constraints.get(key);\r\n  if (constraint != null) {\r\n    constraint.validate(value);\r\n  }\r\n});\r\n\r\n```\r\n\r\n  [1]: https://hibernate.org/validator/\r\n  [2]: https://docs.jboss.org/hibernate/stable/validator/reference/en-US/html_single/#validator-customconstraints","title":"Better way of writing validation for a JSON String","body":"<h1>Option 1</h1>\n<p>If you are able to deserialize into a class instead of a map, you can use <a href=\"https://hibernate.org/validator/\" rel=\"nofollow noreferrer\">Bean Validaion</a> to do something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Product {\n  @NotEmpty String productName;\n  @NotEmpty String offerStartDate;\n  @NotEmpty String offerEndDate;\n}\n</code></pre>\n<p>You can then write your own <code>@MyCustomValidation</code> for any <a href=\"https://docs.jboss.org/hibernate/stable/validator/reference/en-US/html_single/#validator-customconstraints\" rel=\"nofollow noreferrer\">custom validation</a>.</p>\n<h1>Option 2</h1>\n<p>If you must keep the object as a <code>Map</code>, you can extract each of your validations into validator objects make things extensible/composable/cleaner, roughly like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@FunctionalInterface\ninterface Constraint {\n  void validate(Object value);\n\n  default Constraint and(Constraint next) {\n    return (value) -&gt; {\n      this.validate(value);\n      next.validate(value);\n    };\n  }\n}\n\nvar constraints = new HashMap&lt;Validator&gt;();\nconstraints.put(&quot;productName&quot;, new NotEmpty());\nconstraints.put(&quot;offerStartDate&quot;, new NotEmpty());\nconstraints.put(&quot;someNumber&quot;, new LessThan(10).and(new GreaterThan(5)));\n\n// Then\nmap.forEach((key, value) -&gt; {\n  var constraint = constraints.get(key);\n  if (constraint != null) {\n    constraint.validate(value);\n  }\n});\n\n</code></pre>\n"}],"owner":{"account_id":3464234,"reputation":844,"user_id":2900314,"accept_rate":86,"display_name":"User27854"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":428,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75187609,"answer_count":3,"score":0,"last_activity_date":1674460109,"creation_date":1673468204,"question_id":75088582,"body_markdown":"I have a JSON String:\r\n\r\n    {\r\n      &quot;productName&quot;: &quot;Gold&quot;,\r\n      &quot;offerStartDate&quot;: &quot;01152023&quot;,\r\n      &quot;offerEndDate&quot;: &quot;01152024&quot;,\r\n      &quot;offerAttributes&quot;: [\r\n        {\r\n          &quot;id&quot;: &quot;TGH-DAD3KVF3&quot;,\r\n          &quot;storeid&quot;: &quot;STG-67925&quot;,\r\n          &quot;availability&quot;: true\r\n        }\r\n      ],\r\n      &quot;offerSpecifications&quot;: {\r\n        &quot;price&quot;: 23.25\r\n      }\r\n    }\r\n\r\n\r\nThe validation logic for the same is written as \r\n\r\n\r\n     \r\n     Map&lt;String, Object&gt; map = mapper.readValue(json, Map.class);\r\n     \r\n     String productNameValue = (String)map.get(&quot;productName&quot;);\r\n     if(productNameValue ==null &amp;&amp;  productNameValue.isEmpty()) {\r\n    \t throw new Exception();\r\n     }\r\n     \r\n     String offerStartDateValue = (String)map.get(&quot;offerStartDate&quot;);\r\n     if(offerStartDateValue ==null &amp;&amp;  offerStartDateValue.isEmpty()) {\r\n    \t throw new Exception();\r\n     }\r\n     \r\n     List&lt;Object&gt; offerAttributesValue = (List)map.get(&quot;offerAttributes&quot;);\r\n     if(offerAttributesValue ==null &amp;&amp;  offerAttributesValue.isEmpty()) {\r\n    \t throw new Exception();\r\n     }\r\n     \r\n     Map&lt;String, Object&gt; offerSpecificationsValue = (Map)map.get(&quot;offerSpecifications&quot;);\r\n     if(offerSpecificationsValue ==null &amp;&amp;  offerSpecificationsValue.isEmpty() &amp;&amp;  ((String)offerSpecificationsValue.get(&quot;price&quot;)).isEmpty()) {\r\n    \t throw new Exception();\r\n     }\r\n     \r\n\r\n\r\nThis is a portion of the JSON response. The actual response has more than 48 fields and the. The existing code has validation implemented for all the 48 fields as above. Note the responses are way complex than these.\r\n\r\nI feel the validation code has very verbose and is very repetitive. How do, I fix this? What design pattern should I use to write a validation logic. I have seen builder pattern, but not sure how to use it for this scenario.\r\n\r\n","title":"Better way of writing validation for a JSON String","body":"<p>I have a JSON String:</p>\n<pre><code>{\n  &quot;productName&quot;: &quot;Gold&quot;,\n  &quot;offerStartDate&quot;: &quot;01152023&quot;,\n  &quot;offerEndDate&quot;: &quot;01152024&quot;,\n  &quot;offerAttributes&quot;: [\n    {\n      &quot;id&quot;: &quot;TGH-DAD3KVF3&quot;,\n      &quot;storeid&quot;: &quot;STG-67925&quot;,\n      &quot;availability&quot;: true\n    }\n  ],\n  &quot;offerSpecifications&quot;: {\n    &quot;price&quot;: 23.25\n  }\n}\n</code></pre>\n<p>The validation logic for the same is written as</p>\n<pre><code> Map&lt;String, Object&gt; map = mapper.readValue(json, Map.class);\n \n String productNameValue = (String)map.get(&quot;productName&quot;);\n if(productNameValue ==null &amp;&amp;  productNameValue.isEmpty()) {\n     throw new Exception();\n }\n \n String offerStartDateValue = (String)map.get(&quot;offerStartDate&quot;);\n if(offerStartDateValue ==null &amp;&amp;  offerStartDateValue.isEmpty()) {\n     throw new Exception();\n }\n \n List&lt;Object&gt; offerAttributesValue = (List)map.get(&quot;offerAttributes&quot;);\n if(offerAttributesValue ==null &amp;&amp;  offerAttributesValue.isEmpty()) {\n     throw new Exception();\n }\n \n Map&lt;String, Object&gt; offerSpecificationsValue = (Map)map.get(&quot;offerSpecifications&quot;);\n if(offerSpecificationsValue ==null &amp;&amp;  offerSpecificationsValue.isEmpty() &amp;&amp;  ((String)offerSpecificationsValue.get(&quot;price&quot;)).isEmpty()) {\n     throw new Exception();\n }\n \n</code></pre>\n<p>This is a portion of the JSON response. The actual response has more than 48 fields and the. The existing code has validation implemented for all the 48 fields as above. Note the responses are way complex than these.</p>\n<p>I feel the validation code has very verbose and is very repetitive. How do, I fix this? What design pattern should I use to write a validation logic. I have seen builder pattern, but not sure how to use it for this scenario.</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1674461457,"post_id":75206755,"comment_id":132710712,"body_markdown":"If you use Spring Boot 3.X you have to use JDK17 and compile to Java 17... You can not compile to Java 11 or using JDK 11... https://docs.spring.io/spring-boot/docs/3.0.2/reference/htmlsingle/#getting-started.system-requirements","body":"If you use Spring Boot 3.X you have to use JDK17 and compile to Java 17... You can not compile to Java 11 or using JDK 11... <a href=\"https://docs.spring.io/spring-boot/docs/3.0.2/reference/htmlsingle/#getting-started.system-requirements\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/3.0.2/reference/htmlsingle/&hellip;</a>"}],"owner":{"account_id":27598189,"reputation":31,"user_id":21063968,"display_name":"Abhinav"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":6672,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1674459912,"creation_date":1674459847,"question_id":75206755,"body_markdown":"I am trying to perform &quot;mvn clean package&quot; in my java project and facing the following error :\r\n\r\n    Execution default of goal org.springframework.boot:spring-boot-maven-plugin:3.0.2:repackage failed: Unable to load the mojo &#39;repackage&#39; in the plugin &#39;org.springframework.boot:spring-boot-maven-plugin:3.0.2&#39; due to an API incompatibility: org.codehaus.plexus.component.repository.exception.ComponentLookupException: org/springframework/boot/maven/RepackageMojo has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 55.0\r\n    [ERROR] -----------------------------------------------------\r\n    [ERROR] realm =    plugin&gt;org.springframework.boot:spring-boot-maven-plugin:3.0.2\r\n    [ERROR] strategy = org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy\r\n\r\nMy maven version is :\r\n\r\n    Apache Maven 3.8.7 (b89d5959fcde851dcb1c8946a785a163f14e1e29)\r\n    Maven home: /opt/maven\r\n    Java version: 11.0.17, vendor: Ubuntu, runtime: /usr/lib/jvm/java-11-openjdk-amd64\r\n    Default locale: en_IN, platform encoding: UTF-8\r\n    OS name: &quot;linux&quot;, version: &quot;5.15.0-56-generic&quot;, arch: &quot;amd64&quot;, family: &quot;unix&quot;\r\n\r\nFollowing pom.xml file mojo package :\r\n```\r\n&lt;plugin&gt;\r\n  &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n  &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n  &lt;version&gt;1.6.0&lt;/version&gt;\r\n  &lt;configuration&gt;\r\n    &lt;mainClass&gt;javaclass.java&lt;/mainClass&gt;\r\n  &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n&lt;plugin&gt;\r\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n  &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n  &lt;version&gt;3.0.2&lt;/version&gt;\r\n  &lt;executions&gt;\r\n    &lt;execution&gt;\r\n      &lt;goals&gt;\r\n        &lt;goal&gt;repackage&lt;/goal&gt;\r\n      &lt;/goals&gt;\r\n    &lt;/execution&gt;\r\n  &lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nI still faced the error when my maven version was : Apache Maven 3.6.3\r\nAlthough the problem got resolved when I upgraded my maven java version to 17 but I want to compile the java code with java version 11. \r\nDoes anyone know the fix?","title":"Type org.springframework.boot.maven.RepackageMojo not present","body":"<p>I am trying to perform &quot;mvn clean package&quot; in my java project and facing the following error :</p>\n<pre><code>Execution default of goal org.springframework.boot:spring-boot-maven-plugin:3.0.2:repackage failed: Unable to load the mojo 'repackage' in the plugin 'org.springframework.boot:spring-boot-maven-plugin:3.0.2' due to an API incompatibility: org.codehaus.plexus.component.repository.exception.ComponentLookupException: org/springframework/boot/maven/RepackageMojo has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 55.0\n[ERROR] -----------------------------------------------------\n[ERROR] realm =    plugin&gt;org.springframework.boot:spring-boot-maven-plugin:3.0.2\n[ERROR] strategy = org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy\n</code></pre>\n<p>My maven version is :</p>\n<pre><code>Apache Maven 3.8.7 (b89d5959fcde851dcb1c8946a785a163f14e1e29)\nMaven home: /opt/maven\nJava version: 11.0.17, vendor: Ubuntu, runtime: /usr/lib/jvm/java-11-openjdk-amd64\nDefault locale: en_IN, platform encoding: UTF-8\nOS name: &quot;linux&quot;, version: &quot;5.15.0-56-generic&quot;, arch: &quot;amd64&quot;, family: &quot;unix&quot;\n</code></pre>\n<p>Following pom.xml file mojo package :</p>\n<pre><code>&lt;plugin&gt;\n  &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n  &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n  &lt;version&gt;1.6.0&lt;/version&gt;\n  &lt;configuration&gt;\n    &lt;mainClass&gt;javaclass.java&lt;/mainClass&gt;\n  &lt;/configuration&gt;\n&lt;/plugin&gt;\n&lt;plugin&gt;\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n  &lt;version&gt;3.0.2&lt;/version&gt;\n  &lt;executions&gt;\n    &lt;execution&gt;\n      &lt;goals&gt;\n        &lt;goal&gt;repackage&lt;/goal&gt;\n      &lt;/goals&gt;\n    &lt;/execution&gt;\n  &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>I still faced the error when my maven version was : Apache Maven 3.6.3\nAlthough the problem got resolved when I upgraded my maven java version to 17 but I want to compile the java code with java version 11.\nDoes anyone know the fix?</p>\n"},{"tags":["java","spring-boot","soap","spring-security","digital-signature"],"owner":{"account_id":4377881,"reputation":499,"user_id":3570413,"accept_rate":14,"display_name":"herman shafiq"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":240,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1674458409,"creation_date":1653226399,"question_id":72338032,"body_markdown":"Im trying to add X509Certificate, a public key under KeyInfo Tag while Digitally signing a soap enevelope. I have tried many way, still not look. PFB my Code SNIP and the signed envlope generated.\r\n\r\n**CODE SNIP**\r\n\r\n    @Bean\r\n    public CryptoFactoryBean getCryptoFactoryBean() throws IOException {\r\n    \tCryptoFactoryBean cryptoFactoryBean = new CryptoFactoryBean();\r\n    \tcryptoFactoryBean.setKeyStorePassword(Constants.JKS_KEYSTORE_PASSWORD);\r\n    \tcryptoFactoryBean.setKeyStoreLocation(context.getResource(&quot;classpath:certificate/api_cert.p12&quot;));\r\n    \treturn cryptoFactoryBean;\r\n    }\r\n    \r\n    @Bean\r\n    public Wss4jSecurityInterceptor securityInterceptor() throws Exception {\r\n    \tWss4jSecurityInterceptor securityInterceptor = new Wss4jSecurityInterceptor();\r\n    \r\n    \tsecurityInterceptor.setSecurementActions(&quot;Signature Timestamp&quot;);\r\n    \r\n    \tsecurityInterceptor.setSecurementTimeToLive(900000);\r\n    \tsecurityInterceptor.setTimestampPrecisionInMilliseconds(true);\r\n    \r\n    \tsecurityInterceptor.setSecurementUsername(&quot;api.cert&quot;);\r\n    \tsecurityInterceptor.setSecurementPassword(Constants.JKS_KEYSTORE_PASSWORD);\r\n    \tsecurityInterceptor.setSecurementSignatureCrypto(getCryptoFactoryBean().getObject());\r\n    \r\n    \tsecurityInterceptor.setSecurementSignatureAlgorithm(&quot;http://www.w3.org/2001/04/xmldsig-more#rsa-sha256&quot;);\r\n    \tsecurityInterceptor.setSecurementSignatureDigestAlgorithm(&quot;http://www.w3.org/2001/04/xmlenc#sha256&quot;);\r\n    \r\n    \tsecurityInterceptor.setSecurementMustUnderstand(false);\r\n    \tsecurityInterceptor.setSecurementSignatureParts(\r\n    \t\t\t&quot;{Content}{http://schemas.xmlsoap.org/soap/envelope/}Body;{Content}{http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd}Timestamp&quot;);\r\n    \t\r\n    \treturn securityInterceptor;\r\n    }\r\n\r\n**GENERATED SIGNED ENVELOPE SNIP**\r\n\r\n    &lt;ds:KeyInfo Id=&quot;KI-1dca42c9-9ff1-463e-a221-cb88577dd3f5&quot;&gt;\r\n    \t&lt;wsse:SecurityTokenReference wsu:Id=&quot;STR-5c7abb21-666f-40d2-9f43-ec74f40cc35b&quot;&gt;\r\n    \t\t&lt;ds:X509Data&gt;\r\n    \t\t\t&lt;ds:X509IssuerSerial&gt;\r\n    \t\t\t\t&lt;ds:X509IssuerName&gt;CN=DigiCert TLS RSA SHA256 2020 CA1,O=DigiCert Inc,C=US&lt;/ds:X509IssuerName&gt;\r\n    \t\t\t\t&lt;ds:X509SerialNumber&gt;8989....&lt;/ds:X509SerialNumber&gt;\r\n    \t\t\t&lt;/ds:X509IssuerSerial&gt;\r\n    \t\t&lt;/ds:X509Data&gt;\r\n    \t&lt;/wsse:SecurityTokenReference&gt;\r\n    &lt;/ds:KeyInfo&gt;\r\n\r\n**DESIRED SIGNED ENVELOP SNIP**\r\n\r\n    &lt;KeyInfo&gt;\r\n       &lt;X509Data&gt;\r\n    \t  &lt;X509Certificate&gt;MIIGpzCCBY+....&lt;/X509Certificate&gt;\r\n    \t  &lt;X509IssuerSerial&gt;\r\n    \t\t &lt;X509IssuerName&gt;CN=DigiCert SHA2 Extended Validation Server CA, OU=www.digicert.com, O=DigiCert Inc, C=US&lt;/X509IssuerName&gt;\r\n    \t\t &lt;X509SerialNumber&gt;206281...&lt;/X509SerialNumber&gt;\r\n    \t  &lt;/X509IssuerSerial&gt;\r\n       &lt;/X509Data&gt;\r\n    &lt;/KeyInfo&gt;","title":"Add X509Certificate Tag under KeyInfo Tag Soap Signed Envelope Spring Boot Secruity","body":"<p>Im trying to add X509Certificate, a public key under KeyInfo Tag while Digitally signing a soap enevelope. I have tried many way, still not look. PFB my Code SNIP and the signed envlope generated.</p>\n<p><strong>CODE SNIP</strong></p>\n<pre><code>@Bean\npublic CryptoFactoryBean getCryptoFactoryBean() throws IOException {\n    CryptoFactoryBean cryptoFactoryBean = new CryptoFactoryBean();\n    cryptoFactoryBean.setKeyStorePassword(Constants.JKS_KEYSTORE_PASSWORD);\n    cryptoFactoryBean.setKeyStoreLocation(context.getResource(&quot;classpath:certificate/api_cert.p12&quot;));\n    return cryptoFactoryBean;\n}\n\n@Bean\npublic Wss4jSecurityInterceptor securityInterceptor() throws Exception {\n    Wss4jSecurityInterceptor securityInterceptor = new Wss4jSecurityInterceptor();\n\n    securityInterceptor.setSecurementActions(&quot;Signature Timestamp&quot;);\n\n    securityInterceptor.setSecurementTimeToLive(900000);\n    securityInterceptor.setTimestampPrecisionInMilliseconds(true);\n\n    securityInterceptor.setSecurementUsername(&quot;api.cert&quot;);\n    securityInterceptor.setSecurementPassword(Constants.JKS_KEYSTORE_PASSWORD);\n    securityInterceptor.setSecurementSignatureCrypto(getCryptoFactoryBean().getObject());\n\n    securityInterceptor.setSecurementSignatureAlgorithm(&quot;http://www.w3.org/2001/04/xmldsig-more#rsa-sha256&quot;);\n    securityInterceptor.setSecurementSignatureDigestAlgorithm(&quot;http://www.w3.org/2001/04/xmlenc#sha256&quot;);\n\n    securityInterceptor.setSecurementMustUnderstand(false);\n    securityInterceptor.setSecurementSignatureParts(\n            &quot;{Content}{http://schemas.xmlsoap.org/soap/envelope/}Body;{Content}{http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd}Timestamp&quot;);\n    \n    return securityInterceptor;\n}\n</code></pre>\n<p><strong>GENERATED SIGNED ENVELOPE SNIP</strong></p>\n<pre><code>&lt;ds:KeyInfo Id=&quot;KI-1dca42c9-9ff1-463e-a221-cb88577dd3f5&quot;&gt;\n    &lt;wsse:SecurityTokenReference wsu:Id=&quot;STR-5c7abb21-666f-40d2-9f43-ec74f40cc35b&quot;&gt;\n        &lt;ds:X509Data&gt;\n            &lt;ds:X509IssuerSerial&gt;\n                &lt;ds:X509IssuerName&gt;CN=DigiCert TLS RSA SHA256 2020 CA1,O=DigiCert Inc,C=US&lt;/ds:X509IssuerName&gt;\n                &lt;ds:X509SerialNumber&gt;8989....&lt;/ds:X509SerialNumber&gt;\n            &lt;/ds:X509IssuerSerial&gt;\n        &lt;/ds:X509Data&gt;\n    &lt;/wsse:SecurityTokenReference&gt;\n&lt;/ds:KeyInfo&gt;\n</code></pre>\n<p><strong>DESIRED SIGNED ENVELOP SNIP</strong></p>\n<pre><code>&lt;KeyInfo&gt;\n   &lt;X509Data&gt;\n      &lt;X509Certificate&gt;MIIGpzCCBY+....&lt;/X509Certificate&gt;\n      &lt;X509IssuerSerial&gt;\n         &lt;X509IssuerName&gt;CN=DigiCert SHA2 Extended Validation Server CA, OU=www.digicert.com, O=DigiCert Inc, C=US&lt;/X509IssuerName&gt;\n         &lt;X509SerialNumber&gt;206281...&lt;/X509SerialNumber&gt;\n      &lt;/X509IssuerSerial&gt;\n   &lt;/X509Data&gt;\n&lt;/KeyInfo&gt;\n</code></pre>\n"},{"tags":["java","jboss"],"comments":[{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1674518832,"post_id":75206512,"comment_id":132727394,"body_markdown":"Where is the `jboss-deployment-structure.xml` located and what kind of deployment is it?","body":"Where is the <code>jboss-deployment-structure.xml</code> located and what kind of deployment is it?"},{"owner":{"account_id":15161857,"reputation":111,"user_id":13435155,"display_name":"Gravy"},"score":0,"creation_date":1674545542,"post_id":75206512,"comment_id":132730978,"body_markdown":"@JamesR.Perkins I solved the problem by adding the module to the global modules section of the standalone.xml structure. I don&#39;t know if this is right, but it works for me","body":"@JamesR.Perkins I solved the problem by adding the module to the global modules section of the standalone.xml structure. I don&#39;t know if this is right, but it works for me"},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1674576118,"post_id":75206512,"comment_id":132741061,"body_markdown":"I won&#39;t say it&#39;s wrong, it just adds the module dependency to all deployments. However, if that worked that would mean you&#39;re either using an EAR and need to add the module dependency to sub-modules or your `jboss-deployment-structure.xml` is located in the wrong place.","body":"I won&#39;t say it&#39;s wrong, it just adds the module dependency to all deployments. However, if that worked that would mean you&#39;re either using an EAR and need to add the module dependency to sub-modules or your <code>jboss-deployment-structure.xml</code> is located in the wrong place."}],"owner":{"account_id":15161857,"reputation":111,"user_id":13435155,"display_name":"Gravy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674457802,"creation_date":1674457802,"question_id":75206512,"body_markdown":"I want to add the sevenzipjbinding library to an old project. \r\n\r\nBut after adding the module I get a **NoClassDefFoundError net/sf/sevenzipjbinding/IInStream**\r\n\r\nI&#39;ve looked at various topics and documentation, but haven&#39;t found a solution yet. Any ideas?\r\n\r\n**Module path: *modules/net/sf/sevenzipjbinding/main***\r\n\r\n**This is my module structure:**\r\n\r\n```\r\n&lt;module xmlns=&quot;urn:jboss:module:1.1&quot; name=&quot;net.sf.sevenzipjbinding&quot;&gt;\r\n  &lt;resources&gt;\r\n    &lt;resource-root path=&quot;sevenzipjbinding-16.02-2.01.jar&quot;/&gt;\r\n    &lt;resource-root path=&quot;sevenzipjbinding-all-platforms-16.02-2.01.jar&quot;/&gt;\r\n    &lt;!-- Insert resources here --&gt;\r\n  &lt;/resources&gt;\r\n&lt;/module&gt;\r\n```\r\n**This a jboss-deployment-structure:**\r\n```\r\n&lt;jboss-deployment-structure&gt;\r\n   &lt;deployment&gt;\r\n      &lt;dependencies&gt;\r\n         &lt;module name=&quot;net.sf.sevenzipjbinding&quot;/&gt;\r\n      &lt;/dependencies&gt;\r\n   &lt;/deployment&gt;\r\n&lt;/jboss-deployment-structure&gt;\r\n```\r\n**And pom.xml**\r\n```\r\n&lt;dependencies&gt;\r\n  &lt;dependency&gt;\r\n    &lt;groupId&gt;net.sf.sevenzipjbinding&lt;/groupId&gt;\r\n    &lt;artifactId&gt;sevenzipjbinding-all-platforms&lt;/artifactId&gt;\r\n    &lt;version&gt;16.02-2.01&lt;/version&gt;\r\n    &lt;scope&gt;provided&lt;/scope&gt;\r\n  &lt;/dependency&gt;\r\n  &lt;dependency&gt;\r\n    &lt;groupId&gt;net.sf.sevenzipjbinding&lt;/groupId&gt;\r\n    &lt;artifactId&gt;sevenzipjbinding&lt;/artifactId&gt;\r\n    &lt;version&gt;16.02-2.01&lt;/version&gt;\r\n    &lt;scope&gt;provided&lt;/scope&gt;\r\n  &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```","title":"Add a module to jboss","body":"<p>I want to add the sevenzipjbinding library to an old project.</p>\n<p>But after adding the module I get a <strong>NoClassDefFoundError net/sf/sevenzipjbinding/IInStream</strong></p>\n<p>I've looked at various topics and documentation, but haven't found a solution yet. Any ideas?</p>\n<p><strong>Module path: <em>modules/net/sf/sevenzipjbinding/main</em></strong></p>\n<p><strong>This is my module structure:</strong></p>\n<pre><code>&lt;module xmlns=&quot;urn:jboss:module:1.1&quot; name=&quot;net.sf.sevenzipjbinding&quot;&gt;\n  &lt;resources&gt;\n    &lt;resource-root path=&quot;sevenzipjbinding-16.02-2.01.jar&quot;/&gt;\n    &lt;resource-root path=&quot;sevenzipjbinding-all-platforms-16.02-2.01.jar&quot;/&gt;\n    &lt;!-- Insert resources here --&gt;\n  &lt;/resources&gt;\n&lt;/module&gt;\n</code></pre>\n<p><strong>This a jboss-deployment-structure:</strong></p>\n<pre><code>&lt;jboss-deployment-structure&gt;\n   &lt;deployment&gt;\n      &lt;dependencies&gt;\n         &lt;module name=&quot;net.sf.sevenzipjbinding&quot;/&gt;\n      &lt;/dependencies&gt;\n   &lt;/deployment&gt;\n&lt;/jboss-deployment-structure&gt;\n</code></pre>\n<p><strong>And pom.xml</strong></p>\n<pre><code>&lt;dependencies&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;net.sf.sevenzipjbinding&lt;/groupId&gt;\n    &lt;artifactId&gt;sevenzipjbinding-all-platforms&lt;/artifactId&gt;\n    &lt;version&gt;16.02-2.01&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;net.sf.sevenzipjbinding&lt;/groupId&gt;\n    &lt;artifactId&gt;sevenzipjbinding&lt;/artifactId&gt;\n    &lt;version&gt;16.02-2.01&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n  &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n"},{"tags":["java","maven","quarkus"],"comments":[{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1640883789,"post_id":70533860,"comment_id":124683642,"body_markdown":"Are you sure you&#39;ve updated all instances of the version?","body":"Are you sure you&#39;ve updated all instances of the version?"},{"owner":{"account_id":3084600,"reputation":5860,"user_id":2612030,"display_name":"ewramner"},"score":0,"creation_date":1640886132,"post_id":70533860,"comment_id":124684390,"body_markdown":"Yes, very sure (ripgrep and manual checks and careful reading of maven logs). I&#39;ve been fighting with this and with some native compile issues for some time now. I&#39;ve found out why the native compilation fails and disabled those features for now, but I still don&#39;t know why this fails.","body":"Yes, very sure (ripgrep and manual checks and careful reading of maven logs). I&#39;ve been fighting with this and with some native compile issues for some time now. I&#39;ve found out why the native compilation fails and disabled those features for now, but I still don&#39;t know why this fails."},{"owner":{"account_id":3106774,"reputation":136,"user_id":2629396,"display_name":"Michiel D"},"score":0,"creation_date":1652872201,"post_id":70533860,"comment_id":127710368,"body_markdown":"Did you find a solution for this issue? I have the same issue upgrading from 2.8.2 to 2.8.3 (and 2.9)","body":"Did you find a solution for this issue? I have the same issue upgrading from 2.8.2 to 2.8.3 (and 2.9)"},{"owner":{"account_id":3084600,"reputation":5860,"user_id":2612030,"display_name":"ewramner"},"score":0,"creation_date":1652885028,"post_id":70533860,"comment_id":127716044,"body_markdown":"Unfortunately not. If you find a solution, please let me know.","body":"Unfortunately not. If you find a solution, please let me know."},{"owner":{"account_id":3106774,"reputation":136,"user_id":2629396,"display_name":"Michiel D"},"score":1,"creation_date":1653290797,"post_id":70533860,"comment_id":127806117,"body_markdown":"Disabling the quarkus-maven-plugin &#39;generate code&#39; goal allows me to start the application, the consequences of disabling this I&#39;ve yet to research. Might be something","body":"Disabling the quarkus-maven-plugin &#39;generate code&#39; goal allows me to start the application, the consequences of disabling this I&#39;ve yet to research. Might be something"},{"owner":{"account_id":1118919,"reputation":15215,"user_id":1107651,"accept_rate":64,"display_name":"Guilherme Torres Castro"},"score":0,"creation_date":1655323582,"post_id":70533860,"comment_id":128308618,"body_markdown":"Creating an main class as [specified in here](https://quarkus.io/guides/lifecycle#the-main-method) worked for me","body":"Creating an main class as <a href=\"https://quarkus.io/guides/lifecycle#the-main-method\" rel=\"nofollow noreferrer\">specified in here</a> worked for me"},{"owner":{"account_id":3084600,"reputation":5860,"user_id":2612030,"display_name":"ewramner"},"score":0,"creation_date":1655368562,"post_id":70533860,"comment_id":128317620,"body_markdown":"I had the main class from the start, so unfortunately that didn&#39;t help.","body":"I had the main class from the start, so unfortunately that didn&#39;t help."}],"answers":[{"comments":[{"owner":{"account_id":3084600,"reputation":5860,"user_id":2612030,"display_name":"ewramner"},"score":0,"creation_date":1674410150,"post_id":75202079,"comment_id":132703888,"body_markdown":"I&#39;m using Maven, but the principle is the same and I have the correct values for both the BOM and the plugin. They use the same version property.","body":"I&#39;m using Maven, but the principle is the same and I have the correct values for both the BOM and the plugin. They use the same version property."},{"owner":{"account_id":1849126,"reputation":1460,"user_id":1676068,"display_name":"Augustin Ghauratto"},"score":0,"creation_date":1674457812,"post_id":75202079,"comment_id":132710029,"body_markdown":"Please check if your transitive dependencies are not smuggling something older. Forcing the one version for Quarkus plugin, and it&#39;s corresponding BOM should do, unless something is somewhere overridden. If you still have issue with it, it would be good to have an example, so I could check what&#39;s still wrong.","body":"Please check if your transitive dependencies are not smuggling something older. Forcing the one version for Quarkus plugin, and it&#39;s corresponding BOM should do, unless something is somewhere overridden. If you still have issue with it, it would be good to have an example, so I could check what&#39;s still wrong."}],"tags":[],"owner":{"account_id":1849126,"reputation":1460,"user_id":1676068,"display_name":"Augustin Ghauratto"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674457582,"creation_date":1674405202,"answer_id":75202079,"question_id":70533860,"body_markdown":"In order to run Quarkus you have to have the correct version of Quarkus itself, and it&#39;s helper build plugin.\r\n\r\nEx. of configuration in gradle:\r\n \r\n\r\n    plugins {\r\n      // keep the version the same as the quarkus universe bom\r\n      id &#39;io.quarkus&#39; version &#39;2.12.0.Final&#39;\r\n    }\r\n\r\n    dependencies {\r\n       api platform(&quot;io.quarkus:quarkus-universe-bom:2.12.0.Final&quot;)\r\n       //... other\r\n    }\r\n\r\nMake sure that your project dependencies are correct, and the Quarkus plugin nor Quarkus versions are not overridden. Especially check for transitive dependencies, if they do not smuggle some older Quarkus version. For maven:\r\n\r\n    mvn dependency:tree\r\n    // for gradle wrapper:\r\n    ./gradlew dependencies\r\n    // for gradle:\r\n    gradle dependencies","title":"Maven quarkus project cannot run quarkus:dev after upgrade to 2.4.0.Final","body":"<p>In order to run Quarkus you have to have the correct version of Quarkus itself, and it's helper build plugin.</p>\n<p>Ex. of configuration in gradle:</p>\n<pre><code>plugins {\n  // keep the version the same as the quarkus universe bom\n  id 'io.quarkus' version '2.12.0.Final'\n}\n\ndependencies {\n   api platform(&quot;io.quarkus:quarkus-universe-bom:2.12.0.Final&quot;)\n   //... other\n}\n</code></pre>\n<p>Make sure that your project dependencies are correct, and the Quarkus plugin nor Quarkus versions are not overridden. Especially check for transitive dependencies, if they do not smuggle some older Quarkus version. For maven:</p>\n<pre><code>mvn dependency:tree\n// for gradle wrapper:\n./gradlew dependencies\n// for gradle:\ngradle dependencies\n</code></pre>\n"}],"owner":{"account_id":3084600,"reputation":5860,"user_id":2612030,"display_name":"ewramner"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1036,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1674457582,"creation_date":1640879695,"question_id":70533860,"body_markdown":"I&#39;m trying to upgrade a multi-module Quarkus project from 2.2 to the latest 2.6.1.Final. The build (including quarkus:dev with -Psomeproject) works on 2.3.1.Final, but when I upgrade to 2.4.0.Final it fails with this error:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.RuntimeException: java.lang.NullPointerException: Cannot invoke &quot;io.quarkus.deployment.dev.DevModeContext$ModuleInfo.getMain()&quot;\r\n    because the return value of &quot;io.quarkus.deployment.dev.DevModeContext.getApplicationRoot()&quot; is null\r\n        at io.quarkus.deployment.dev.DevModeMain.start(DevModeMain.java:151)\r\n        at io.quarkus.deployment.dev.DevModeMain.main(DevModeMain.java:63)\r\n    Caused by: java.lang.NullPointerException: Cannot invoke &quot;io.quarkus.deployment.dev.DevModeContext$ModuleInfo.getMain()&quot; because the return value of &quot;io.quarkus.deployment.dev.DevModeContext.getApplicationRoot()&quot; is null\r\n        at io.quarkus.deployment.dev.DevModeMain.start(DevModeMain.java:91)\r\n\r\nA regular build still works; it is `quarkus:dev` that fails. I simply can&#39;t see what&#39;s wrong here. What am I missing?\r\nI&#39;ll create a minimal solution with the problem as the next step, but would appreciate any pointers.\r\n\r\nThe project is using Java 17 but the regular build does work and development mode also worked with the older platform.","title":"Maven quarkus project cannot run quarkus:dev after upgrade to 2.4.0.Final","body":"<p>I'm trying to upgrade a multi-module Quarkus project from 2.2 to the latest 2.6.1.Final. The build (including quarkus:dev with -Psomeproject) works on 2.3.1.Final, but when I upgrade to 2.4.0.Final it fails with this error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.RuntimeException: java.lang.NullPointerException: Cannot invoke &quot;io.quarkus.deployment.dev.DevModeContext$ModuleInfo.getMain()&quot;\nbecause the return value of &quot;io.quarkus.deployment.dev.DevModeContext.getApplicationRoot()&quot; is null\n    at io.quarkus.deployment.dev.DevModeMain.start(DevModeMain.java:151)\n    at io.quarkus.deployment.dev.DevModeMain.main(DevModeMain.java:63)\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;io.quarkus.deployment.dev.DevModeContext$ModuleInfo.getMain()&quot; because the return value of &quot;io.quarkus.deployment.dev.DevModeContext.getApplicationRoot()&quot; is null\n    at io.quarkus.deployment.dev.DevModeMain.start(DevModeMain.java:91)\n</code></pre>\n<p>A regular build still works; it is <code>quarkus:dev</code> that fails. I simply can't see what's wrong here. What am I missing?\nI'll create a minimal solution with the problem as the next step, but would appreciate any pointers.</p>\n<p>The project is using Java 17 but the regular build does work and development mode also worked with the older platform.</p>\n"},{"tags":["java","gradle","junit5","cucumber-java"],"owner":{"account_id":2301839,"reputation":21,"user_id":2021992,"display_name":"Andras"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674457368,"creation_date":1674456748,"question_id":75206385,"body_markdown":"I would like to re-run my failed scenarios with Cucumber 7+ and JUnit 5.\r\n\r\n\r\nI examined [Cucumber&#39;s recommendation](https://github.com/cucumber/cucumber-jvm/tree/main/cucumber-junit-platform-engine#rerunning-failed-scenarios) for re-running scenarios with JUnit Platform Suite.\r\n\r\nRunning the main method e.g. with the application plugin makes things work.\r\n\r\nBut, do I miss something here, can I make it work using the basic &#39;test&#39; task from Gradle?","title":"How to re-run Cucumber-java scenarios with JUnit Platform Suite using Gradle Test task","body":"<p>I would like to re-run my failed scenarios with Cucumber 7+ and JUnit 5.</p>\n<p>I examined <a href=\"https://github.com/cucumber/cucumber-jvm/tree/main/cucumber-junit-platform-engine#rerunning-failed-scenarios\" rel=\"nofollow noreferrer\">Cucumber's recommendation</a> for re-running scenarios with JUnit Platform Suite.</p>\n<p>Running the main method e.g. with the application plugin makes things work.</p>\n<p>But, do I miss something here, can I make it work using the basic 'test' task from Gradle?</p>\n"},{"tags":["java","spring-boot","group-by","multi-select","specifications"],"owner":{"account_id":25267413,"reputation":11,"user_id":19097334,"display_name":"Ayshe Ayparcasi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674457166,"creation_date":1674457166,"question_id":75206437,"body_markdown":"```\r\nfinal CriteriaBuilder critBuilder = entityManager.getCriteriaBuilder();\r\nfinal CriteriaQuery&lt;Consensus&gt; critQuery = critBuilder.createQuery(Consensus.class);\r\nfinal Root&lt;Consensus&gt; root = critQuery.from(Consensus.class);\r\n\t      \r\nfinal CriteriaQuery&lt;Consensus&gt; select = critQuery.multiselect(root.get(&quot;xxx&quot;), root.get(&quot;yyy&quot;), root.get(&quot;zzz&quot;) , root.get(&quot;ttt&quot;));\r\nselect.groupBy(root.get(&quot;xxx&quot;), root.get(&quot;yyy&quot;), root.get(&quot;zzz&quot;), root.get(&quot;ttt&quot;));\r\n\t      \r\nTypedQuery&lt;Consensus&gt; queryx = entityManager.createQuery(select);\r\nList&lt;Consensus&gt; resultListx = queryx.getResultList();\r\n```\r\n\r\n\r\nI want to put it in count operation after grouping by xxx,yyy,zzz,ttt fields. \r\nHow can I print &quot;resultListx&quot;? using foreach but how?\r\n\r\nI want to group with multiselect java specifications and I want to print &quot;resultListx&quot; using foreach. Using Java Spring Boot, and how can I use Controller?","title":"How to group multiple fields in java spring boot specifications? (groupBy multiSelect Specificiations)","body":"<pre><code>final CriteriaBuilder critBuilder = entityManager.getCriteriaBuilder();\nfinal CriteriaQuery&lt;Consensus&gt; critQuery = critBuilder.createQuery(Consensus.class);\nfinal Root&lt;Consensus&gt; root = critQuery.from(Consensus.class);\n          \nfinal CriteriaQuery&lt;Consensus&gt; select = critQuery.multiselect(root.get(&quot;xxx&quot;), root.get(&quot;yyy&quot;), root.get(&quot;zzz&quot;) , root.get(&quot;ttt&quot;));\nselect.groupBy(root.get(&quot;xxx&quot;), root.get(&quot;yyy&quot;), root.get(&quot;zzz&quot;), root.get(&quot;ttt&quot;));\n          \nTypedQuery&lt;Consensus&gt; queryx = entityManager.createQuery(select);\nList&lt;Consensus&gt; resultListx = queryx.getResultList();\n</code></pre>\n<p>I want to put it in count operation after grouping by xxx,yyy,zzz,ttt fields.\nHow can I print &quot;resultListx&quot;? using foreach but how?</p>\n<p>I want to group with multiselect java specifications and I want to print &quot;resultListx&quot; using foreach. Using Java Spring Boot, and how can I use Controller?</p>\n"},{"tags":["java","tomcat","vaadin"],"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674456636,"creation_date":1674456636,"question_id":75206377,"body_markdown":"The request making the problem is:\r\n\r\n\r\n    Request URL: https://webadmin.oursecretwebsite/APP/connector/2/38/source/7fef283dd615497daa7ed4983b46f3a3\r\n    Request Method: GET\r\n    Status Code: 410 \r\n    Remote Address: ourip:443\r\n    Referrer Policy: no-referrer-when-downgrade\r\n    content-language: en\r\n    content-length: 707\r\n    content-type: text/html;charset=utf-8\r\n    date: Mon, 23 Jan 2023 06:40:14 GMT\r\n    referrer-policy: no-referrer-when-downgrade\r\n    server: nginx\r\n    strict-transport-security: max-age=31536000; includeSubDomains; preload\r\n    x-content-type-options: nosniff\r\n    x-xss-protection: 1; mode=block\r\n    :authority: webadmin.oursecretwebsite\r\n    :method: GET\r\n    :path: /APP/connector/2/38/source/7fef283dd615497daa7ed4983b46f3a3\r\n    :scheme: https\r\n    accept: image/avif,image/webp,image/apng,image/svg+xml,image/*,*/*;q=0.8\r\n    accept-encoding: gzip, deflate, br\r\n    accept-language: en-US,en;q=0.9,ru;q=0.8\r\n    cookie: _ga=GA1.2.227012196.1656443010; JSESSIONID=7A587F27808030586377ACFF5DC41E4F\r\n    referer: https://webadmin.oursecretwebsite/\r\n    sec-ch-ua: &quot;Not_A Brand&quot;;v=&quot;99&quot;, &quot;Google Chrome&quot;;v=&quot;109&quot;, &quot;Chromium&quot;;v=&quot;109&quot;\r\n    sec-ch-ua-mobile: ?0\r\n    sec-ch-ua-platform: &quot;Windows&quot;\r\n    sec-fetch-dest: image\r\n    sec-fetch-mode: no-cors\r\n    sec-fetch-site: same-origin\r\n    user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36\r\n\r\nThe Vaadin + Spring web aplication is tarting in Tomcat. And the only error in `catalina.out` is \r\n\r\n    SEVERE: Exception loading sessions from persistent storage\r\n    java.io.EOFException\r\n            at java.base/java.io.ObjectInputStream$BlockDataInputStream.peekByte(ObjectInputStream.java:3210)\r\n            at java.base/java.io.ObjectInputStream.readClassDesc(ObjectInputStream.java:1855)\r\n            at java.base/java.io.ObjectInputStream.readClass(ObjectInputStream.java:1833)\r\n            at java.base/java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1658)\r\n            at java.base/java.io.ObjectInputStream.readObject(ObjectInputStream.java:489)\r\n            at java.base/java.io.ObjectInputStream.readObject(ObjectInputStream.java:447)\r\n            at java.base/java.util.HashMap.readObject(HashMap.java:1464)\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n            at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n            at java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n            at java.base/java.io.ObjectStreamClass.invokeReadObject(ObjectStreamClass.java:1046)\r\n            at java.base/java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2357)\r\n            at java.base/java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2228)\r\n            at java.base/java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1687)\r\n            at java.base/java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:2496)\r\n            at java.base/java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2390)\r\n            at java.base/java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2228)\r\n            at java.base/java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1687)\r\n            at java.base/java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:2496)\r\n            at java.base/java.io.ObjectInputStream.defaultReadObject(ObjectInputStream.java:625)\r\n            at com.vaadin.server.VaadinSession.readObject(VaadinSession.java:1466)\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n            at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n            at java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n            at java.base/java.io.ObjectStreamClass.invokeReadObject(ObjectStreamClass.java:1046)\r\n            at java.base/java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2357)\r\n            at java.base/java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2228)\r\n            at java.base/java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1687)\r\n            at java.base/java.io.ObjectInputStream.readObject(ObjectInputStream.java:489)\r\n            at java.base/java.io.ObjectInputStream.readObject(ObjectInputStream.java:447)\r\n            at org.apache.catalina.session.StandardSession.doReadObject(StandardSession.java:1635)\r\n            at org.apache.catalina.session.StandardSession.readObjectData(StandardSession.java:1050)\r\n            at org.apache.catalina.session.StandardManager.doLoad(StandardManager.java:219)\r\n            at org.apache.catalina.session.StandardManager.load(StandardManager.java:162)\r\n            at org.apache.catalina.session.StandardManager.startInternal(StandardManager.java:356)\r\n            at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n            at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5239)\r\n            at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n            at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:726)\r\n            at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:698)\r\n            at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:696)\r\n            at org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:1023)\r\n            at org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:1910)\r\n            at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n            at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n            at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n            at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:118)\r\n            at org.apache.catalina.startup.HostConfig.deployWARs(HostConfig.java:824)\r\n            at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:474)\r\n            at org.apache.catalina.startup.HostConfig.start(HostConfig.java:1617)\r\n            at org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:318)\r\n            at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)\r\n            at org.apache.catalina.util.LifecycleBase.setStateInternal(LifecycleBase.java:423)\r\n            at org.apache.catalina.util.LifecycleBase.setState(LifecycleBase.java:366)\r\n            at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:943)\r\n            at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:835)\r\n            at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n            at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1393)\r\n            at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1383)\r\n            at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n            at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n            at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140)\r\n            at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:916)\r\n            at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:265)\r\n            at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n            at org.apache.catalina.core.StandardService.startInternal(StandardService.java:430)\r\n            at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n            at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:930)\r\n            at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n            at org.apache.catalina.startup.Catalina.start(Catalina.java:772)\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n            at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n            at java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n            at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:345)\r\n            at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:476)\r\n\r\nWhat could be the reason of such behaviour?","title":"Vaadin&#39;s vaadin /APP/connector/2/38/source/ 410 code error response. Application&#39;s login page is reloading each tyme it is touched","body":"<p>The request making the problem is:</p>\n<pre><code>Request URL: https://webadmin.oursecretwebsite/APP/connector/2/38/source/7fef283dd615497daa7ed4983b46f3a3\nRequest Method: GET\nStatus Code: 410 \nRemote Address: ourip:443\nReferrer Policy: no-referrer-when-downgrade\ncontent-language: en\ncontent-length: 707\ncontent-type: text/html;charset=utf-8\ndate: Mon, 23 Jan 2023 06:40:14 GMT\nreferrer-policy: no-referrer-when-downgrade\nserver: nginx\nstrict-transport-security: max-age=31536000; includeSubDomains; preload\nx-content-type-options: nosniff\nx-xss-protection: 1; mode=block\n:authority: webadmin.oursecretwebsite\n:method: GET\n:path: /APP/connector/2/38/source/7fef283dd615497daa7ed4983b46f3a3\n:scheme: https\naccept: image/avif,image/webp,image/apng,image/svg+xml,image/*,*/*;q=0.8\naccept-encoding: gzip, deflate, br\naccept-language: en-US,en;q=0.9,ru;q=0.8\ncookie: _ga=GA1.2.227012196.1656443010; JSESSIONID=7A587F27808030586377ACFF5DC41E4F\nreferer: https://webadmin.oursecretwebsite/\nsec-ch-ua: &quot;Not_A Brand&quot;;v=&quot;99&quot;, &quot;Google Chrome&quot;;v=&quot;109&quot;, &quot;Chromium&quot;;v=&quot;109&quot;\nsec-ch-ua-mobile: ?0\nsec-ch-ua-platform: &quot;Windows&quot;\nsec-fetch-dest: image\nsec-fetch-mode: no-cors\nsec-fetch-site: same-origin\nuser-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36\n</code></pre>\n<p>The Vaadin + Spring web aplication is tarting in Tomcat. And the only error in <code>catalina.out</code> is</p>\n<pre><code>SEVERE: Exception loading sessions from persistent storage\njava.io.EOFException\n        at java.base/java.io.ObjectInputStream$BlockDataInputStream.peekByte(ObjectInputStream.java:3210)\n        at java.base/java.io.ObjectInputStream.readClassDesc(ObjectInputStream.java:1855)\n        at java.base/java.io.ObjectInputStream.readClass(ObjectInputStream.java:1833)\n        at java.base/java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1658)\n        at java.base/java.io.ObjectInputStream.readObject(ObjectInputStream.java:489)\n        at java.base/java.io.ObjectInputStream.readObject(ObjectInputStream.java:447)\n        at java.base/java.util.HashMap.readObject(HashMap.java:1464)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n        at java.base/java.io.ObjectStreamClass.invokeReadObject(ObjectStreamClass.java:1046)\n        at java.base/java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2357)\n        at java.base/java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2228)\n        at java.base/java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1687)\n        at java.base/java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:2496)\n        at java.base/java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2390)\n        at java.base/java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2228)\n        at java.base/java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1687)\n        at java.base/java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:2496)\n        at java.base/java.io.ObjectInputStream.defaultReadObject(ObjectInputStream.java:625)\n        at com.vaadin.server.VaadinSession.readObject(VaadinSession.java:1466)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n        at java.base/java.io.ObjectStreamClass.invokeReadObject(ObjectStreamClass.java:1046)\n        at java.base/java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2357)\n        at java.base/java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2228)\n        at java.base/java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1687)\n        at java.base/java.io.ObjectInputStream.readObject(ObjectInputStream.java:489)\n        at java.base/java.io.ObjectInputStream.readObject(ObjectInputStream.java:447)\n        at org.apache.catalina.session.StandardSession.doReadObject(StandardSession.java:1635)\n        at org.apache.catalina.session.StandardSession.readObjectData(StandardSession.java:1050)\n        at org.apache.catalina.session.StandardManager.doLoad(StandardManager.java:219)\n        at org.apache.catalina.session.StandardManager.load(StandardManager.java:162)\n        at org.apache.catalina.session.StandardManager.startInternal(StandardManager.java:356)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n        at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5239)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n        at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:726)\n        at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:698)\n        at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:696)\n        at org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:1023)\n        at org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:1910)\n        at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\n        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n        at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n        at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:118)\n        at org.apache.catalina.startup.HostConfig.deployWARs(HostConfig.java:824)\n        at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:474)\n        at org.apache.catalina.startup.HostConfig.start(HostConfig.java:1617)\n        at org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:318)\n        at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)\n        at org.apache.catalina.util.LifecycleBase.setStateInternal(LifecycleBase.java:423)\n        at org.apache.catalina.util.LifecycleBase.setState(LifecycleBase.java:366)\n        at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:943)\n        at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:835)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n        at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1393)\n        at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1383)\n        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n        at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n        at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140)\n        at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:916)\n        at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:265)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n        at org.apache.catalina.core.StandardService.startInternal(StandardService.java:430)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n        at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:930)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n        at org.apache.catalina.startup.Catalina.start(Catalina.java:772)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n        at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:345)\n        at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:476)\n</code></pre>\n<p>What could be the reason of such behaviour?</p>\n"},{"tags":["java","enums","properties-file"],"answers":[{"comments":[{"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1674385348,"post_id":75199785,"comment_id":132699468,"body_markdown":"enums _are_ classes. An enum is fine, and an enum can be set to read the property file and set things up properly. All it really needs to do is read a Properties object in, and the `getMsg()` and `getCode()` methods need to read from the properties object(s). The other answer by Ali Malek is salvagable (heading in the right direction but too far as yet to be a good answer), if you&#39;re looking for an example of what that would roughly look like.","body":"enums <i>are</i> classes. An enum is fine, and an enum can be set to read the property file and set things up properly. All it really needs to do is read a Properties object in, and the <code>getMsg()</code> and <code>getCode()</code> methods need to read from the properties object(s). The other answer by Ali Malek is salvagable (heading in the right direction but too far as yet to be a good answer), if you&#39;re looking for an example of what that would roughly look like."},{"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"score":0,"creation_date":1674387458,"post_id":75199785,"comment_id":132699810,"body_markdown":"@rzwitserloot you are not rightn. If you add reading property to the construcor, this is not good by OOP and you readit as many times, as amount of constants int the enum.","body":"@rzwitserloot you are not rightn. If you add reading property to the construcor, this is not good by OOP and you readit as many times, as amount of constants int the enum."},{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1674392200,"post_id":75199785,"comment_id":132700632,"body_markdown":"@oleg.cherednik vote up, agree that enum constants should no take any responsibility.","body":"@oleg.cherednik vote up, agree that enum constants should no take any responsibility."},{"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1674396107,"post_id":75199785,"comment_id":132701286,"body_markdown":"Nowhere did I say that you should add reading properties _to the constructor_, @oleg.cherednik. enums can have static initializer blocks.","body":"Nowhere did I say that you should add reading properties <i>to the constructor</i>, @oleg.cherednik. enums can have static initializer blocks."},{"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1674396287,"post_id":75199785,"comment_id":132701316,"body_markdown":"Read the other answer by @AliMalek which shows the right strategy. The code that is intrinsically linked to the `ErrorCodes` concept is in the type `ErrorCodes` (that&#39;s good), the nature of these codes are that they are known at compile time, limited, and not extensible - i.e. an enum, and that answer works by having them _be_ an `enum`, that&#39;s good.  It reads the resource in only one time. That&#39;s good. If you want, `ErrorCodeStore` can live as private class inside `enum ErrorCodes`.","body":"Read the other answer by @AliMalek which shows the right strategy. The code that is intrinsically linked to the <code>ErrorCodes</code> concept is in the type <code>ErrorCodes</code> (that&#39;s good), the nature of these codes are that they are known at compile time, limited, and not extensible - i.e. an enum, and that answer works by having them <i>be</i> an <code>enum</code>, that&#39;s good.  It reads the resource in only one time. That&#39;s good. If you want, <code>ErrorCodeStore</code> can live as private class inside <code>enum ErrorCodes</code>."}],"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"comment_count":5,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1674391317,"creation_date":1674384484,"answer_id":75199785,"question_id":75199489,"body_markdown":"In general there&#39;s no good idea to use `Enum` like this. Remember, that enum&#39;s constant is singleton, therefore you can&#39;t use this like this.\r\n\r\nI think it&#39;s better to have separate class, where you can encapsulate this logic:\r\n\r\n - Read property file\r\n - Get an `Enum` and retrieve only related data from the file\r\n - Declare two `Map` to save `message` and `code` by `ErrorCode`\r\n - Getters to retreive `message` and `code` by `ErrorCode`\r\n - `ErrorCode` and `ErrorCodeStore` should be in the same package\r\n\r\nThis is an enum `ErrorCode`:\r\n```java\r\n@lombok.RequiredArgsConstructor(access = AccessLevel.PACKAGE)\r\npublic enum ErrorCode {\r\n\r\n    ID_REQUIRED(&quot;error.id.required.message&quot;, &quot;error.id.required.code&quot;),\r\n    ID_INVALID(&quot;error.id.invalid.message&quot;, &quot;error.id.invalid.code&quot;);\r\n\r\n    final String message;\r\n    final String code;\r\n\r\n    public final String getMessage() {\r\n        return ErrorCodeStore.getInstance().getValue(message);\r\n    }\r\n\r\n    public final String getCode() {\r\n        return ErrorCodeStore.getInstance().getValue(code);\r\n    }\r\n\r\n}\r\n```\r\n\r\nThis is `ErrorCodeStore`:\r\n```java\r\n@lombok.RequiredArgsConstructor(access = AccessLevel.PRIVATE)\r\nfinal class ErrorCodeStore {\r\n\r\n    private static ErrorCodeStore instance;\r\n\r\n    public static ErrorCodeStore getInstance() {\r\n        if (instance == null)\r\n            throw new RuntimeException(&quot;ErrorCodeStore instance should be&quot;\r\n                                               + &quot; initialized&quot;);\r\n        return instance;\r\n    }\r\n\r\n    private final Properties properties;\r\n\r\n    // InputStream should be explicitly closed\r\n    public static ErrorCodeStore initFrom(InputStream in) throws IOException {\r\n        Properties properties = new Properties();\r\n        properties.load(in);\r\n\r\n        return instance = new ErrorCodeStore(properties);\r\n    }\r\n\r\n    String getValue(String key) {\r\n        return properties.getProperty(key, key);\r\n    }\r\n\r\n}\r\n```\r\n\r\n**Demo**\r\n```java\r\npublic static void main(String[] args) throws IOException {\r\n    ErrorCodeStore.initFrom(Main.class.getResourceAsStream(&quot;/errorcodes.properties&quot;));\r\n    System.out.println(ErrorCode.ID_REQUIRED.getMessage()); // Id is required to get the details.\r\n    System.out.println(ErrorCode.ID_REQUIRED.getCode());    // 110\r\n    System.out.println(ErrorCode.ID_INVALID.getMessage());  // error.id.invalid.message\r\n    System.out.println(ErrorCode.ID_INVALID.getCode());     // error.id.invalid.code\r\n}\r\n```","title":"How to set values inside the enum directly from the properties file key?","body":"<p>In general there's no good idea to use <code>Enum</code> like this. Remember, that enum's constant is singleton, therefore you can't use this like this.</p>\n<p>I think it's better to have separate class, where you can encapsulate this logic:</p>\n<ul>\n<li>Read property file</li>\n<li>Get an <code>Enum</code> and retrieve only related data from the file</li>\n<li>Declare two <code>Map</code> to save <code>message</code> and <code>code</code> by <code>ErrorCode</code></li>\n<li>Getters to retreive <code>message</code> and <code>code</code> by <code>ErrorCode</code></li>\n<li><code>ErrorCode</code> and <code>ErrorCodeStore</code> should be in the same package</li>\n</ul>\n<p>This is an enum <code>ErrorCode</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@lombok.RequiredArgsConstructor(access = AccessLevel.PACKAGE)\npublic enum ErrorCode {\n\n    ID_REQUIRED(&quot;error.id.required.message&quot;, &quot;error.id.required.code&quot;),\n    ID_INVALID(&quot;error.id.invalid.message&quot;, &quot;error.id.invalid.code&quot;);\n\n    final String message;\n    final String code;\n\n    public final String getMessage() {\n        return ErrorCodeStore.getInstance().getValue(message);\n    }\n\n    public final String getCode() {\n        return ErrorCodeStore.getInstance().getValue(code);\n    }\n\n}\n</code></pre>\n<p>This is <code>ErrorCodeStore</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@lombok.RequiredArgsConstructor(access = AccessLevel.PRIVATE)\nfinal class ErrorCodeStore {\n\n    private static ErrorCodeStore instance;\n\n    public static ErrorCodeStore getInstance() {\n        if (instance == null)\n            throw new RuntimeException(&quot;ErrorCodeStore instance should be&quot;\n                                               + &quot; initialized&quot;);\n        return instance;\n    }\n\n    private final Properties properties;\n\n    // InputStream should be explicitly closed\n    public static ErrorCodeStore initFrom(InputStream in) throws IOException {\n        Properties properties = new Properties();\n        properties.load(in);\n\n        return instance = new ErrorCodeStore(properties);\n    }\n\n    String getValue(String key) {\n        return properties.getProperty(key, key);\n    }\n\n}\n</code></pre>\n<p><strong>Demo</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) throws IOException {\n    ErrorCodeStore.initFrom(Main.class.getResourceAsStream(&quot;/errorcodes.properties&quot;));\n    System.out.println(ErrorCode.ID_REQUIRED.getMessage()); // Id is required to get the details.\n    System.out.println(ErrorCode.ID_REQUIRED.getCode());    // 110\n    System.out.println(ErrorCode.ID_INVALID.getMessage());  // error.id.invalid.message\n    System.out.println(ErrorCode.ID_INVALID.getCode());     // error.id.invalid.code\n}\n</code></pre>\n"}],"owner":{"account_id":18374381,"reputation":1,"user_id":13383793,"display_name":"avarshne"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":315,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674456379,"creation_date":1674381192,"question_id":75199489,"body_markdown":"I have been trying to load string values by inserting the keys from properties file inside the enum constructor. But instead of setting the values, it&#39;s setting the keys only.\r\n\r\nMy errorcodes.properties have this content\r\n\r\n`error.id.required.message=Id is required to get the details.\r\nerror.id.required.code=110`\r\n\r\nand enum file is like this:\r\n\r\n```\r\n`public enum ErrorCodes {\r\n  ID_REQUIRED(&quot;error.id.required.message&quot;,\r\n      &quot;error.id.required.code&quot;),\r\n  ID_INVALID(&quot;error.id.invalid.message&quot;,\r\n      &quot;error.id.invalid.code&quot;);\r\n\r\n  private final String msg;\r\n  private final String code;\r\n\r\n  private ErrorCodes(String msg, String code) {\r\n    this.msg = msg;\r\n    this.code = code;\r\n  }\r\n\r\n  public String getMsg() {\r\n    return msg;\r\n  }\r\n\r\n  public String getCode() {\r\n    return code;\r\n  }\r\n}`\r\n```\r\n\r\nSo I created an exception which would take one of the above defined enum as an argument and throw a custom exception with message as &quot;Id is required to get the details.&quot; and the code as &quot;110&quot;.\r\n\r\ne.g., `throw new CustomException(ErrorCodes.ID_REQUIRED)`\r\n\r\nInstead the response came as\r\n\r\n    &quot;errorCode&quot;: &quot;error.id.required.code&quot;\r\n    &quot;errorMessage&quot;: &quot;error.id.required.message&quot;\r\n\r\nPlease help!\r\nThanks.","title":"How to set values inside the enum directly from the properties file key?","body":"<p>I have been trying to load string values by inserting the keys from properties file inside the enum constructor. But instead of setting the values, it's setting the keys only.</p>\n<p>My errorcodes.properties have this content</p>\n<p><code>error.id.required.message=Id is required to get the details. error.id.required.code=110</code></p>\n<p>and enum file is like this:</p>\n<pre><code>`public enum ErrorCodes {\n  ID_REQUIRED(&quot;error.id.required.message&quot;,\n      &quot;error.id.required.code&quot;),\n  ID_INVALID(&quot;error.id.invalid.message&quot;,\n      &quot;error.id.invalid.code&quot;);\n\n  private final String msg;\n  private final String code;\n\n  private ErrorCodes(String msg, String code) {\n    this.msg = msg;\n    this.code = code;\n  }\n\n  public String getMsg() {\n    return msg;\n  }\n\n  public String getCode() {\n    return code;\n  }\n}`\n</code></pre>\n<p>So I created an exception which would take one of the above defined enum as an argument and throw a custom exception with message as &quot;Id is required to get the details.&quot; and the code as &quot;110&quot;.</p>\n<p>e.g., <code>throw new CustomException(ErrorCodes.ID_REQUIRED)</code></p>\n<p>Instead the response came as</p>\n<pre><code>&quot;errorCode&quot;: &quot;error.id.required.code&quot;\n&quot;errorMessage&quot;: &quot;error.id.required.message&quot;\n</code></pre>\n<p>Please help!\nThanks.</p>\n"},{"tags":["java","android","provisioning"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1675420201,"post_id":75206251,"comment_id":132929678,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":21148507,"reputation":1,"user_id":15549335,"display_name":"Divydatt"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674455484,"creation_date":1674455484,"question_id":75206251,"body_markdown":"I have provisioned my tablet with my own application now I want to remove it from the provision programmatically without loosing any data. \r\n\r\nI have used adb commands but it is not working on click event. ","title":"Disable provision mode","body":"<p>I have provisioned my tablet with my own application now I want to remove it from the provision programmatically without loosing any data.</p>\n<p>I have used adb commands but it is not working on click event.</p>\n"},{"tags":["java","spring","oracle","hibernate","jboss"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1674306401,"post_id":75193455,"comment_id":132688949,"body_markdown":"Please use some formatting as your post (especially the properties, exception) are totally unreadable without them. There are code formatting tags which you should use so it remains readable.","body":"Please use some formatting as your post (especially the properties, exception) are totally unreadable without them. There are code formatting tags which you should use so it remains readable."},{"owner":{"account_id":26391724,"reputation":1,"user_id":20043500,"display_name":"Selvi"},"score":0,"creation_date":1674307182,"post_id":75193455,"comment_id":132689082,"body_markdown":"Hope it&#39;s readable now?","body":"Hope it&#39;s readable now?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1674455115,"post_id":75193455,"comment_id":132709613,"body_markdown":"Have you actually read the error? `java.lang.ClassNotFoundException: Could not load requested class : &lt;&gt;` is pretty clear. In your `hibernate.properties` that is the value for your jta platform variable, which isn&#39;t a proper name. Either remove that line or use the same value as you have in your `persistence.xml`. Or even better move all the properties from the `hibernate.properties` to the `persistence.xml` so that you hvae all the configuration in one place.","body":"Have you actually read the error? <code>java.lang.ClassNotFoundException: Could not load requested class : &lt;&gt;</code> is pretty clear. In your <code>hibernate.properties</code> that is the value for your jta platform variable, which isn&#39;t a proper name. Either remove that line or use the same value as you have in your <code>persistence.xml</code>. Or even better move all the properties from the <code>hibernate.properties</code> to the <code>persistence.xml</code> so that you hvae all the configuration in one place."},{"owner":{"account_id":26391724,"reputation":1,"user_id":20043500,"display_name":"Selvi"},"score":0,"creation_date":1674466980,"post_id":75193455,"comment_id":132712235,"body_markdown":"Hi,thanks for replying and yes I can see that the error is due to &lt;&gt; but if I remove that jta.platform = &lt;&gt; the main screen which I resolved gets blank again with error prompt as Data store implementation not found for Dialect : null ...which is why I kept it as it is and I also tried with jta.platform = the value given in persistence.xml file which eventually leads to Application Error in the Login page....Or do I have to give it as hibernate.transaction.jta.platform=&lt;org.hibernate.service.jta.platform.internal.JBossAppServerJtaPlatform&gt;","body":"Hi,thanks for replying and yes I can see that the error is due to &lt;&gt; but if I remove that jta.platform = &lt;&gt; the main screen which I resolved gets blank again with error prompt as Data store implementation not found for Dialect : null ...which is why I kept it as it is and I also tried with jta.platform = the value given in persistence.xml file which eventually leads to Application Error in the Login page....Or do I have to give it as hibernate.transaction.jta.platform=&lt;org.hibernate.service.jt&zwnj;&#8203;a.platform.internal.&zwnj;&#8203;JBossAppServerJtaPla&zwnj;&#8203;tform&gt;"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1674467901,"post_id":75193455,"comment_id":132712505,"body_markdown":"It needs to be a proper classname something starting with `&lt;` and ending with `&gt;` is a proper classname. I would first start by simplifying your configuration by moving everything to the `persistence.xml` that way you at least know where the values are coming from, after that fix the error by modifying the `persistence.xml`.","body":"It needs to be a proper classname something starting with <code>&lt;</code> and ending with <code>&gt;</code> is a proper classname. I would first start by simplifying your configuration by moving everything to the <code>persistence.xml</code> that way you at least know where the values are coming from, after that fix the error by modifying the <code>persistence.xml</code>."},{"owner":{"account_id":26391724,"reputation":1,"user_id":20043500,"display_name":"Selvi"},"score":0,"creation_date":1674468122,"post_id":75193455,"comment_id":132712568,"body_markdown":"Ok, so it&#39;s not a problem if there is nothing in my hibernate.properties file?","body":"Ok, so it&#39;s not a problem if there is nothing in my hibernate.properties file?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1674468816,"post_id":75193455,"comment_id":132712754,"body_markdown":"The file isn&#39;t even required, assuming that you are using JPA (`LocalContainerEntityManagerFactory`) and not plain Hibernate (`LocalSessionFactoryBean`) for the configuration.","body":"The file isn&#39;t even required, assuming that you are using JPA (<code>LocalContainerEntityManagerFactory</code>) and not plain Hibernate (<code>LocalSessionFactoryBean</code>) for the configuration."},{"owner":{"account_id":26391724,"reputation":1,"user_id":20043500,"display_name":"Selvi"},"score":0,"creation_date":1674572252,"post_id":75193455,"comment_id":132739577,"body_markdown":"Hi, so after editing hibernate.transaction.jta.platform=org.hibernate.service.jta.platform.internal.JBossStandAloneJtaPlatform ....the jboss error log has become from unable to resolve class &lt;&gt; to Caused by: org.hibernate.boot.registry.selector.spi.StrategySelectionException: Unable to resolve name [&lt;org.hibernate.service.jta.platform.internal.JBossStandAloneJtaPlatform&gt;] as strategy [org.hibernate.engine.transaction.jta.platform.spi.JtaPlatform] .... Can u help on this","body":"Hi, so after editing hibernate.transaction.jta.platform=org.hibernate.service.jta&zwnj;&#8203;.platform.internal.J&zwnj;&#8203;BossStandAloneJtaPla&zwnj;&#8203;tform ....the jboss error log has become from unable to resolve class &lt;&gt; to Caused by: org.hibernate.boot.registry.selector.spi.StrategySelectionEx&zwnj;&#8203;ception: Unable to resolve name [&lt;org.hibernate.service.jta.platform.internal.JBossStandAlon&zwnj;&#8203;eJtaPlatform&gt;] as strategy [org.hibernate.engine.transaction.jta.platform.spi.JtaPlatfo&zwnj;&#8203;rm] .... Can u help on this"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1674572496,"post_id":75193455,"comment_id":132739680,"body_markdown":"You really should read the error. It basically says that the class you are using doesn&#39;t exists.","body":"You really should read the error. It basically says that the class you are using doesn&#39;t exists."},{"owner":{"account_id":26391724,"reputation":1,"user_id":20043500,"display_name":"Selvi"},"score":0,"creation_date":1674573742,"post_id":75193455,"comment_id":132740127,"body_markdown":"isn&#39;t that a class present in hibernate 5.4.x? Or is it part of hibernate 4.x? I am sorry but I really have no idea related to this","body":"isn&#39;t that a class present in hibernate 5.4.x? Or is it part of hibernate 4.x? I am sorry but I really have no idea related to this"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1674633052,"post_id":75193455,"comment_id":132753556,"body_markdown":"When upgrading don&#39;t blindly upgrade but read the update notices generally they contain information on which classes got removed, renamed etc. I don&#39;t know which 5 version you are using (that isn&#39;t in the question) but it appears that the class doesn&#39;t exists anymore, you need to figure out yourself which one you need.","body":"When upgrading don&#39;t blindly upgrade but read the update notices generally they contain information on which classes got removed, renamed etc. I don&#39;t know which 5 version you are using (that isn&#39;t in the question) but it appears that the class doesn&#39;t exists anymore, you need to figure out yourself which one you need."},{"owner":{"account_id":26391724,"reputation":1,"user_id":20043500,"display_name":"Selvi"},"score":0,"creation_date":1674636817,"post_id":75193455,"comment_id":132754572,"body_markdown":"I am upgrading from 4.2.0.Final to 5.4.32.Final and I have searched my best to identify the cause but nothing comes up","body":"I am upgrading from 4.2.0.Final to 5.4.32.Final and I have searched my best to identify the cause but nothing comes up"}],"owner":{"account_id":26391724,"reputation":1,"user_id":20043500,"display_name":"Selvi"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":199,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674455000,"creation_date":1674305487,"question_id":75193455,"body_markdown":"As part of security upgrade I am trying to upgrade both Spring and hibernate jars to 5.x version due to which I faced many errors. The main issue right now is that my UI screen is blank for all fields.For example there are screens like currency codes,user profile,fee report.Only the field is visible in screen but not the entire page related to it.Could someone please help on this.\r\n\r\nInitially there was a main screen which was blank and had error as &quot;Data store implementation not found for Dialect : null&quot;\r\nThis got resolved after I edited `hibernate.properties` file where previously it was,\r\n\r\n    hibernate.transaction.factory_class =org.hibernate.transaction.JTATransactionFactory\r\n    hibernate.transaction.manager_lookup_class=org.hibernate.transaction.JBossTransactionManagerLookup\r\n\r\nAnd I changed it to,\r\n\r\n    Hibernate.transaction.coordinator_class=jta\r\n\r\n    Hibernate.transaction.jta.platform=&lt;&gt;\r\n\r\n\r\nAfter doing the above change, All the fields in the screen got visible(Basically that screen is the landing page after login which has quick links to other screens)\r\n\r\nNow am stuck on what to do to make the rest of screens visible\r\n\r\nI am completely new to hibernate and spring and need to work on this as security upgrade so I don&#39;t know exactly what is going wrong here..so any help is much appreciated. \r\n\r\nMy `hibernate.properties` file\r\n\r\n```\r\n#hibernate.dialect =org.hibernate.dialect.OracleDialect\r\n#hibernate.dialect =org.hibernate.dialect.PostgreSQLDialect\r\nhibernate.dialect_resolvers=com.abcgroup.ss.soa.commons.service.config.ssDialectResolver\r\nhibernate.show_sql =false\r\nhibernate.globally_quoted_identifiers =false\r\nhibernate.hbm2ddl.auto =validate\r\nhibernate.connection.autocommit =false\r\nhibernate.transaction.coordinator_class=jta\r\nhibernate.transaction.jta.platform=&lt;&gt;\r\nhibernate.jdbc.batch_size=50\r\nhibernate.development.mode=true\r\nprocess.container.mode=false\r\nhibernate.connection.release_mode=on_close\r\n```\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;persistence version=&quot;2.2&quot;&gt;\r\n  xmlns=&quot;http://java.sun.com/xml/ns/persistence&quot;&#160;\r\n  xmlns:orm=&quot;http://java.sun.com/xml/ns/persistence/orm&quot;\r\n  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/persistence http://java.sun.com/xml/ns/persistence/persistence_2_0.xsd http://java.sun.com/xml/ns/persistence/orm http://java.sun.com/xml/ns/persistence/orm_2_0.xsd&quot;&gt;\r\n\r\n  &lt;persistence-unit name=&quot;org.jbpm.persistence.jpa&quot; transaction-type=&quot;JTA&quot;&gt;\r\n &#160;&#160; &lt;provider&gt;org.hibernate.ejb.HibernatePersistence&lt;/provider&gt;\r\n &#160;&#160; &lt;jta-data-source&gt;java:/jdbc/Data&lt;/jta-data-source&gt;\r\n &#160;&#160;&#160;&#160; &lt;mapping-file&gt;META-INF/JBPMorm.xml&lt;/mapping-file&gt;\r\n &#160;&#160; &lt;mapping-file&gt;META-INF/Taskorm.xml&lt;/mapping-file&gt;\r\n &#160;&#160; &lt;mapping-file&gt;META-INF/TaskAuditorm.xml&lt;/mapping-file&gt;\r\n &#160;&#160;  &lt;class&gt;org.jbpm.persistence.processinstance.ProcessInstanceInfo&lt;/class&gt;\r\n &#160;&#160; &lt;class&gt;org.drools.persistence.info.SessionInfo&lt;/class&gt;\r\n &#160;&#160; &lt;class&gt;org.drools.persistence.info.WorkItemInfo&lt;/class&gt;\r\n &#160;&#160; &lt;class&gt;org.jbpm.process.audit.ProcessInstanceLog&lt;/class&gt;\r\n &#160;&#160; &lt;class&gt;org.jbpm.process.audit.NodeInstanceLog&lt;/class&gt;\r\n &#160;&#160; &lt;class&gt;org.jbpm.process.audit.VariableInstanceLog&lt;/class&gt;\r\n &#160;&#160; \r\n &#160;&#160; &lt;class&gt;org.jbpm.persistence.correlation.CorrelationKeyInfo&lt;/class&gt;\r\n &#160;&#160; &lt;class&gt;org.jbpm.persistence.correlation.CorrelationPropertyInfo&lt;/class&gt;\r\n &#160;&#160; \r\n &#160;&#160; &lt;!-- manager --&gt;\r\n &#160;&#160; &lt;class&gt;org.jbpm.runtime.manager.impl.jpa.ContextMappingInfo&lt;/class&gt;\r\n &#160;&#160; \r\n &#160;&#160; &lt;class&gt;org.jbpm.services.task.impl.model.AttachmentImpl&lt;/class&gt;\r\n &#160;&#160; &lt;class&gt;org.jbpm.services.task.impl.model.ContentImpl&lt;/class&gt;\r\n &#160;&#160; &lt;class&gt;org.jbpm.services.task.impl.model.BooleanExpressionImpl&lt;/class&gt;\r\n &#160;&#160; &lt;class&gt;org.jbpm.services.task.impl.model.CommentImpl&lt;/class&gt;\r\n &#160;&#160; &lt;class&gt;org.jbpm.services.task.impl.model.DeadlineImpl&lt;/class&gt;\r\n &#160;&#160; &lt;class&gt;org.jbpm.services.task.impl.model.DelegationImpl&lt;/class&gt;\r\n &#160;&#160; &lt;class&gt;org.jbpm.services.task.impl.model.EscalationImpl&lt;/class&gt;\r\n &#160;&#160; &lt;class&gt;org.jbpm.services.task.impl.model.GroupImpl&lt;/class&gt;\r\n &#160;&#160; &lt;class&gt;org.jbpm.services.task.impl.model.I18NTextImpl&lt;/class&gt;\r\n &#160;&#160; &lt;class&gt;org.jbpm.services.task.impl.model.NotificationImpl&lt;/class&gt;\r\n &#160;&#160; &lt;class&gt;org.jbpm.services.task.impl.model.EmailNotificationImpl&lt;/class&gt;\r\n &#160;&#160; &lt;class&gt;org.jbpm.services.task.impl.model.EmailNotificationHeaderImpl&lt;/class&gt;\r\n &#160;&#160; &lt;class&gt;org.jbpm.services.task.impl.model.PeopleAssignmentsImpl&lt;/class&gt;\r\n &#160;&#160; &lt;class&gt;org.jbpm.services.task.impl.model.ReassignmentImpl&lt;/class&gt;\r\n &#160;&#160; \r\n &#160;&#160; &lt;class&gt;org.jbpm.services.task.impl.model.TaskImpl&lt;/class&gt;\r\n &#160;&#160; &lt;class&gt;org.jbpm.services.task.impl.model.TaskDataImpl&lt;/class&gt;\r\n &#160;&#160; &lt;class&gt;org.jbpm.services.task.impl.model.UserImpl&lt;/class&gt;\r\n &#160;&#160; \r\n &#160;&#160; &lt;!--BAM for task service --&gt;\r\n &#160;&#160; &lt;class&gt;org.jbpm.services.task.audit.impl.model.BAMTaskSummaryImpl&lt;/class&gt;\r\n &#160;&#160; \r\n &#160;&#160; &lt;!-- Event Classes --&gt;\r\n &#160;&#160; &lt;class&gt;org.jbpm.services.task.audit.impl.model.TaskEventImpl&lt;/class&gt;\r\n &#160;&#160; \r\n &#160;&#160; &lt;!-- Task Audit Classes --&gt;&#160;\r\n &#160;&#160; &lt;class&gt;org.jbpm.services.task.audit.impl.model.AuditTaskImpl&lt;/class&gt;\r\n\r\n &#160;&#160; &lt;properties&gt;\r\n &#160;&#160;&#160;&#160;&#160; &lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.OracleDialect&quot; /&gt;&#160;\r\n &#160;&#160; \r\n&lt;!--&#160;&#160;&#160; &lt;property name=&quot;hibernate.dialect&quot; value=&quot;com.abcgroup.wfm.web.UserDialect&quot; /&gt;&#160; --&gt;\r\n &#160;&#160; &lt;property name=&quot;hibernate.dialect_resolvers&quot; value=&quot;com.abcgroup.wfm.web.WorkflowDialectResolver&quot;/&gt;\r\n &#160;&#160; &lt;property name=&quot;hibernate.connection.autocommit&quot; value=&quot;false&quot; /&gt;\r\n &#160;&#160; &lt;!-- &lt;property name=&quot;jboss.as.jpa.providerModule&quot; value=&quot;hibernate3-bundled&quot; /&gt; --&gt;\r\n &#160;&#160; &lt;property name=&quot;jboss.as.jpa.providerModule&quot; value=&quot;org.hibernate.hibernate42&quot;/&gt;\r\n &#160;&#160; &lt;property name=&quot;hibernate.max_fetch_depth&quot; value=&quot;3&quot; /&gt;\r\n &#160;&#160; &lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;none&quot; /&gt;\r\n &#160;&#160; &lt;property name=&quot;hibernate.show_sql&quot; value=&quot;false&quot; /&gt;\r\n &#160;&#160; &lt;!-- &lt;property name=&quot;hibernate.transaction.manager_lookup_class&quot; value=&quot;com.abcgroup.wfm.util.JBPMTransactionManagerLookup&quot; /&gt;&#160; --&gt;\r\n &#160;&#160; &lt;property name=&quot;hibernate.id.new_generator_mappings&quot; value=&quot;false&quot; /&gt;\r\n &#160;&#160;&#160;&#160; &lt;property name=&quot;hibernate.transaction.jta.platform&quot; value=&quot;org.hibernate.service.jta.platform.internal.JBossAppServerJtaPlatform&quot; /&gt;&#160; \r\n &#160;&#160; &lt;property name=&quot;hibernate.transaction.coordinator_class&quot; value=&quot;jta&quot; /&gt;\r\n\r\n  &lt;/properties&gt;\r\n  &lt;/persistence-unit&gt;\r\n&lt;/persistence&gt;\r\n\r\n```\r\n&lt;!-- end snippet --&gt;\r\n\r\nMy **Jboss** log which might be useful to identify the issue\r\n\r\n\r\n```\r\n\r\nCaused by: java.lang.ClassNotFoundException: Could not load requested class : &lt;&gt;\r\n\r\n2023-01-21 13:53:47,061 WARN [org.springframework.orm.hibernate5.SpringSessionContext] (default task-3) Could not introspect Hibernate JtaPlatform for SpringJtaSessionContext: org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.transaction.jta.platform.spi.JtaPlatform]\r\n\r\n2023-01-21 13:53:25,601 INFO [org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker] (default task-3) Bean &#39;xAppConfig&#39; of type [com.abcgroup.x.soa.commons.service.config.xAppConfig$$EnhancerBySpringCGLIB$$1a31b458] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n\r\n2023-01-21 13:53:24,364 INFO [stdout] (default task-3) Query is SELECT sp_dda_en from staff_profile WHERE SP_STAFF_ID = ?\r\n\r\n2023-01-21 13:49:55,314 INFO [org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker] (ServerService Thread Pool -- 298) Bean &#39;xAppConfig&#39; of type [com.abcgroup.x.soa.commons.service.config.XAppConfig$$EnhancerBySpringCGLIB$$1a31b458] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n\r\n2023-01-21 13:49:55,315 WARN [org.springframework.context.annotation.AnnotationConfigApplicationContext] (ServerService Thread Pool -- 298) Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;xService&#39; defined in com.abcgroup.x.soa.commons.service.config.XAppConfig: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.abcgroup.x.soa.commons.service.datastore.DataStoreService]: Factory method &#39;getXService&#39; threw exception; nested exception is java.lang.NullPointerException\r\n\r\n2023-01-21 13:49:55,320 ERROR [stderr] (ServerService Thread Pool -- 298) java.lang.NullPointerException\r\n```\r\n\r\n\r\n\r\n","title":"Spring and Hibernate upgradation from 4.x to 5.x","body":"<p>As part of security upgrade I am trying to upgrade both Spring and hibernate jars to 5.x version due to which I faced many errors. The main issue right now is that my UI screen is blank for all fields.For example there are screens like currency codes,user profile,fee report.Only the field is visible in screen but not the entire page related to it.Could someone please help on this.</p>\n<p>Initially there was a main screen which was blank and had error as &quot;Data store implementation not found for Dialect : null&quot;\nThis got resolved after I edited <code>hibernate.properties</code> file where previously it was,</p>\n<pre><code>hibernate.transaction.factory_class =org.hibernate.transaction.JTATransactionFactory\nhibernate.transaction.manager_lookup_class=org.hibernate.transaction.JBossTransactionManagerLookup\n</code></pre>\n<p>And I changed it to,</p>\n<pre><code>Hibernate.transaction.coordinator_class=jta\n\nHibernate.transaction.jta.platform=&lt;&gt;\n</code></pre>\n<p>After doing the above change, All the fields in the screen got visible(Basically that screen is the landing page after login which has quick links to other screens)</p>\n<p>Now am stuck on what to do to make the rest of screens visible</p>\n<p>I am completely new to hibernate and spring and need to work on this as security upgrade so I don't know exactly what is going wrong here..so any help is much appreciated.</p>\n<p>My <code>hibernate.properties</code> file</p>\n<pre><code>#hibernate.dialect =org.hibernate.dialect.OracleDialect\n#hibernate.dialect =org.hibernate.dialect.PostgreSQLDialect\nhibernate.dialect_resolvers=com.abcgroup.ss.soa.commons.service.config.ssDialectResolver\nhibernate.show_sql =false\nhibernate.globally_quoted_identifiers =false\nhibernate.hbm2ddl.auto =validate\nhibernate.connection.autocommit =false\nhibernate.transaction.coordinator_class=jta\nhibernate.transaction.jta.platform=&lt;&gt;\nhibernate.jdbc.batch_size=50\nhibernate.development.mode=true\nprocess.container.mode=false\nhibernate.connection.release_mode=on_close\n</code></pre>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;persistence version=&quot;2.2&quot;&gt;\n  xmlns=&quot;http://java.sun.com/xml/ns/persistence&quot; \n  xmlns:orm=&quot;http://java.sun.com/xml/ns/persistence/orm&quot;\n  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/persistence http://java.sun.com/xml/ns/persistence/persistence_2_0.xsd http://java.sun.com/xml/ns/persistence/orm http://java.sun.com/xml/ns/persistence/orm_2_0.xsd&quot;&gt;\n\n  &lt;persistence-unit name=&quot;org.jbpm.persistence.jpa&quot; transaction-type=&quot;JTA&quot;&gt;\n    &lt;provider&gt;org.hibernate.ejb.HibernatePersistence&lt;/provider&gt;\n    &lt;jta-data-source&gt;java:/jdbc/Data&lt;/jta-data-source&gt;\n      &lt;mapping-file&gt;META-INF/JBPMorm.xml&lt;/mapping-file&gt;\n    &lt;mapping-file&gt;META-INF/Taskorm.xml&lt;/mapping-file&gt;\n    &lt;mapping-file&gt;META-INF/TaskAuditorm.xml&lt;/mapping-file&gt;\n     &lt;class&gt;org.jbpm.persistence.processinstance.ProcessInstanceInfo&lt;/class&gt;\n    &lt;class&gt;org.drools.persistence.info.SessionInfo&lt;/class&gt;\n    &lt;class&gt;org.drools.persistence.info.WorkItemInfo&lt;/class&gt;\n    &lt;class&gt;org.jbpm.process.audit.ProcessInstanceLog&lt;/class&gt;\n    &lt;class&gt;org.jbpm.process.audit.NodeInstanceLog&lt;/class&gt;\n    &lt;class&gt;org.jbpm.process.audit.VariableInstanceLog&lt;/class&gt;\n    \n    &lt;class&gt;org.jbpm.persistence.correlation.CorrelationKeyInfo&lt;/class&gt;\n    &lt;class&gt;org.jbpm.persistence.correlation.CorrelationPropertyInfo&lt;/class&gt;\n    \n    &lt;!-- manager --&gt;\n    &lt;class&gt;org.jbpm.runtime.manager.impl.jpa.ContextMappingInfo&lt;/class&gt;\n    \n    &lt;class&gt;org.jbpm.services.task.impl.model.AttachmentImpl&lt;/class&gt;\n    &lt;class&gt;org.jbpm.services.task.impl.model.ContentImpl&lt;/class&gt;\n    &lt;class&gt;org.jbpm.services.task.impl.model.BooleanExpressionImpl&lt;/class&gt;\n    &lt;class&gt;org.jbpm.services.task.impl.model.CommentImpl&lt;/class&gt;\n    &lt;class&gt;org.jbpm.services.task.impl.model.DeadlineImpl&lt;/class&gt;\n    &lt;class&gt;org.jbpm.services.task.impl.model.DelegationImpl&lt;/class&gt;\n    &lt;class&gt;org.jbpm.services.task.impl.model.EscalationImpl&lt;/class&gt;\n    &lt;class&gt;org.jbpm.services.task.impl.model.GroupImpl&lt;/class&gt;\n    &lt;class&gt;org.jbpm.services.task.impl.model.I18NTextImpl&lt;/class&gt;\n    &lt;class&gt;org.jbpm.services.task.impl.model.NotificationImpl&lt;/class&gt;\n    &lt;class&gt;org.jbpm.services.task.impl.model.EmailNotificationImpl&lt;/class&gt;\n    &lt;class&gt;org.jbpm.services.task.impl.model.EmailNotificationHeaderImpl&lt;/class&gt;\n    &lt;class&gt;org.jbpm.services.task.impl.model.PeopleAssignmentsImpl&lt;/class&gt;\n    &lt;class&gt;org.jbpm.services.task.impl.model.ReassignmentImpl&lt;/class&gt;\n    \n    &lt;class&gt;org.jbpm.services.task.impl.model.TaskImpl&lt;/class&gt;\n    &lt;class&gt;org.jbpm.services.task.impl.model.TaskDataImpl&lt;/class&gt;\n    &lt;class&gt;org.jbpm.services.task.impl.model.UserImpl&lt;/class&gt;\n    \n    &lt;!--BAM for task service --&gt;\n    &lt;class&gt;org.jbpm.services.task.audit.impl.model.BAMTaskSummaryImpl&lt;/class&gt;\n    \n    &lt;!-- Event Classes --&gt;\n    &lt;class&gt;org.jbpm.services.task.audit.impl.model.TaskEventImpl&lt;/class&gt;\n    \n    &lt;!-- Task Audit Classes --&gt; \n    &lt;class&gt;org.jbpm.services.task.audit.impl.model.AuditTaskImpl&lt;/class&gt;\n\n    &lt;properties&gt;\n       &lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.OracleDialect&quot; /&gt; \n    \n&lt;!--    &lt;property name=&quot;hibernate.dialect&quot; value=&quot;com.abcgroup.wfm.web.UserDialect&quot; /&gt;  --&gt;\n    &lt;property name=&quot;hibernate.dialect_resolvers&quot; value=&quot;com.abcgroup.wfm.web.WorkflowDialectResolver&quot;/&gt;\n    &lt;property name=&quot;hibernate.connection.autocommit&quot; value=&quot;false&quot; /&gt;\n    &lt;!-- &lt;property name=&quot;jboss.as.jpa.providerModule&quot; value=&quot;hibernate3-bundled&quot; /&gt; --&gt;\n    &lt;property name=&quot;jboss.as.jpa.providerModule&quot; value=&quot;org.hibernate.hibernate42&quot;/&gt;\n    &lt;property name=&quot;hibernate.max_fetch_depth&quot; value=&quot;3&quot; /&gt;\n    &lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;none&quot; /&gt;\n    &lt;property name=&quot;hibernate.show_sql&quot; value=&quot;false&quot; /&gt;\n    &lt;!-- &lt;property name=&quot;hibernate.transaction.manager_lookup_class&quot; value=&quot;com.abcgroup.wfm.util.JBPMTransactionManagerLookup&quot; /&gt;  --&gt;\n    &lt;property name=&quot;hibernate.id.new_generator_mappings&quot; value=&quot;false&quot; /&gt;\n      &lt;property name=&quot;hibernate.transaction.jta.platform&quot; value=&quot;org.hibernate.service.jta.platform.internal.JBossAppServerJtaPlatform&quot; /&gt;  \n    &lt;property name=&quot;hibernate.transaction.coordinator_class&quot; value=&quot;jta&quot; /&gt;\n\n  &lt;/properties&gt;\n  &lt;/persistence-unit&gt;\n&lt;/persistence&gt;\n\n</code></pre>\n\n<p>My <strong>Jboss</strong> log which might be useful to identify the issue</p>\n<pre><code>\nCaused by: java.lang.ClassNotFoundException: Could not load requested class : &lt;&gt;\n\n2023-01-21 13:53:47,061 WARN [org.springframework.orm.hibernate5.SpringSessionContext] (default task-3) Could not introspect Hibernate JtaPlatform for SpringJtaSessionContext: org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.transaction.jta.platform.spi.JtaPlatform]\n\n2023-01-21 13:53:25,601 INFO [org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker] (default task-3) Bean 'xAppConfig' of type [com.abcgroup.x.soa.commons.service.config.xAppConfig$$EnhancerBySpringCGLIB$$1a31b458] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n\n2023-01-21 13:53:24,364 INFO [stdout] (default task-3) Query is SELECT sp_dda_en from staff_profile WHERE SP_STAFF_ID = ?\n\n2023-01-21 13:49:55,314 INFO [org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker] (ServerService Thread Pool -- 298) Bean 'xAppConfig' of type [com.abcgroup.x.soa.commons.service.config.XAppConfig$$EnhancerBySpringCGLIB$$1a31b458] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n\n2023-01-21 13:49:55,315 WARN [org.springframework.context.annotation.AnnotationConfigApplicationContext] (ServerService Thread Pool -- 298) Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'xService' defined in com.abcgroup.x.soa.commons.service.config.XAppConfig: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.abcgroup.x.soa.commons.service.datastore.DataStoreService]: Factory method 'getXService' threw exception; nested exception is java.lang.NullPointerException\n\n2023-01-21 13:49:55,320 ERROR [stderr] (ServerService Thread Pool -- 298) java.lang.NullPointerException\n</code></pre>\n"},{"tags":["java","mongodb","spring-boot","sqlite","scheduler"],"owner":{"account_id":27597803,"reputation":11,"user_id":21063654,"display_name":"Divakar V"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674454029,"creation_date":1674454029,"question_id":75206122,"body_markdown":"How to implement the scheduler that can pick the events from MongoDB collections and execute it one by one and assume that there are multiple instances are running in to execute the events\r\n\r\ni tried to create and sqlite db to queue the tasks in the order they are scheduled and tried to execute them one by one","title":"How to implement the scheduler that can pick the events from MongoDB collections and execute it one by one and assume that there are multiple instance","body":"<p>How to implement the scheduler that can pick the events from MongoDB collections and execute it one by one and assume that there are multiple instances are running in to execute the events</p>\n<p>i tried to create and sqlite db to queue the tasks in the order they are scheduled and tried to execute them one by one</p>\n"},{"tags":["java","android","android-recyclerview"],"comments":[{"owner":{"account_id":36137,"reputation":178799,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"score":3,"creation_date":1428778493,"post_id":29581782,"comment_id":47311861,"body_markdown":"Can you improve the quality of your question a bit?  Your answer looks good, but the question needs to state the problem being solved more clearly.","body":"Can you improve the quality of your question a bit?  Your answer looks good, but the question needs to state the problem being solved more clearly."},{"owner":{"account_id":10198578,"reputation":475,"user_id":7529668,"display_name":"Rahul Sahni"},"score":0,"creation_date":1507407098,"post_id":29581782,"comment_id":80199814,"body_markdown":"This https://stackoverflow.com/questions/36568168/how-to-save-scroll-position-of-recyclerview-in-android/36569778#3656977 is the correct answer. Have a look, it worked for me.","body":"This <a href=\"https://stackoverflow.com/questions/36568168/how-to-save-scroll-position-of-recyclerview-in-android/36569778#3656977\" title=\"how to save scroll position of recyclerview in android\">stackoverflow.com/questions/36568168/&hellip;</a> is the correct answer. Have a look, it worked for me."}],"answers":[{"comments":[{"owner":{"account_id":1125273,"reputation":4279,"user_id":1112707,"accept_rate":100,"display_name":"seb"},"score":1,"creation_date":1428784110,"post_id":29582471,"comment_id":47313680,"body_markdown":"Hello yigit again :) I&#39;m the card guy that mailed you last time. So, I want to move views across the screen like here: https://github.com/ksoichiro/Android-ObservableScrollView/blob/master/samples/images/demo12.gif I am able to do it, by using the method above. But after an orientation change this field is 0. How could a reliable solution look like? Because your answer suggests also that storing the scrollposition in a savedstate wouldn&#39;t make things better, true?","body":"Hello yigit again :) I&#39;m the card guy that mailed you last time. So, I want to move views across the screen like here: <a href=\"https://github.com/ksoichiro/Android-ObservableScrollView/blob/master/samples/images/demo12.gif\" rel=\"nofollow noreferrer\">github.com/ksoichiro/Android-ObservableScrollView/blob/maste&zwnj;&#8203;r/&hellip;</a> I am able to do it, by using the method above. But after an orientation change this field is 0. How could a reliable solution look like? Because your answer suggests also that storing the scrollposition in a savedstate wouldn&#39;t make things better, true?"},{"owner":{"account_id":301114,"reputation":37863,"user_id":608649,"display_name":"yigit"},"score":0,"creation_date":1428793577,"post_id":29582471,"comment_id":47316312,"body_markdown":"I think your best option is to recover your scroll position after a rotate. You can get first visible position and calculate your scroll position depending on that. \nYou can also traverse children of layout manager, LLM guarantees that child position order will match adapter order. This is not an API guarantee but very very unlikely to change.","body":"I think your best option is to recover your scroll position after a rotate. You can get first visible position and calculate your scroll position depending on that.  You can also traverse children of layout manager, LLM guarantees that child position order will match adapter order. This is not an API guarantee but very very unlikely to change."},{"owner":{"account_id":2653529,"reputation":8176,"user_id":2294683,"accept_rate":50,"display_name":"Andrew Orobator"},"score":0,"creation_date":1461943213,"post_id":29582471,"comment_id":61443027,"body_markdown":"It seems like all of these methods return 0, the default implementation. You are expected to implement this method in the layout manager.","body":"It seems like all of these methods return 0, the default implementation. You are expected to implement this method in the layout manager."},{"owner":{"account_id":5698447,"reputation":323,"user_id":4504277,"accept_rate":50,"display_name":"Sourav Roy"},"score":0,"creation_date":1483587272,"post_id":29582471,"comment_id":70159612,"body_markdown":"ScrollOffset is working for me… but when I go to another activity and come back, the offset is becoming 0 for all posible scrolls… I&#39;m storing the state of layout manager using savedinstancestate which is working good… is there anything else I need to store…?","body":"ScrollOffset is working for me… but when I go to another activity and come back, the offset is becoming 0 for all posible scrolls… I&#39;m storing the state of layout manager using savedinstancestate which is working good… is there anything else I need to store…?"}],"tags":[],"owner":{"account_id":301114,"reputation":37863,"user_id":608649,"display_name":"yigit"},"comment_count":4,"down_vote_count":0,"up_vote_count":55,"is_accepted":true,"score":55,"last_activity_date":1466571926,"creation_date":1428782739,"answer_id":29582471,"question_id":29581782,"body_markdown":"You cannot get it because it does not really exist. `LayoutManager` only knows about the views on screen, it does not know the views before, what their size is etc.\r\n\r\nThe number you can count using the scroll listener is not reliable because if data changes, `RecyclerView` will do a fresh layout calculation and will not try to re-calculate a real offset (you&#39;ll receive an `onScroll(0, 0)` if views moved).\r\n\r\nRecyclerView estimates this value for scrollbars, you can use the same methods from `View` class.\r\n\r\n`computeHorizontalScrollExtent`\r\n\r\n`computeHorizontalScrollRange`\r\n\r\n`computeHorizontalScrollOffset`\r\n\r\nThese methods have their vertical counterparts as well.\r\n","title":"How to get the Scrollposition in the Recyclerview/Layoutmanager?","body":"<p>You cannot get it because it does not really exist. <code>LayoutManager</code> only knows about the views on screen, it does not know the views before, what their size is etc.</p>\n\n<p>The number you can count using the scroll listener is not reliable because if data changes, <code>RecyclerView</code> will do a fresh layout calculation and will not try to re-calculate a real offset (you'll receive an <code>onScroll(0, 0)</code> if views moved).</p>\n\n<p>RecyclerView estimates this value for scrollbars, you can use the same methods from <code>View</code> class.</p>\n\n<p><code>computeHorizontalScrollExtent</code></p>\n\n<p><code>computeHorizontalScrollRange</code></p>\n\n<p><code>computeHorizontalScrollOffset</code></p>\n\n<p>These methods have their vertical counterparts as well.</p>\n"},{"comments":[{"owner":{"account_id":332194,"reputation":1002,"user_id":657341,"accept_rate":67,"display_name":"martyglaubitz"},"score":1,"creation_date":1476186664,"post_id":37289300,"comment_id":67231839,"body_markdown":"this will often not be triggered when the list scrolls after adding/removing items","body":"this will often not be triggered when the list scrolls after adding/removing items"}],"tags":[],"owner":{"account_id":8463829,"reputation":1,"user_id":6348569,"display_name":"paju_man"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1463539981,"creation_date":1463538947,"answer_id":37289300,"question_id":29581782,"body_markdown":"You have to read `scrollDy` in \r\n\r\n    public void onScrollStateChanged(RecyclerView recyclerView, int newState)\r\n\r\nthen you can get `recyclerView&#39;`s scroll position\r\n\r\n","title":"How to get the Scrollposition in the Recyclerview/Layoutmanager?","body":"<p>You have to read <code>scrollDy</code> in </p>\n\n<pre><code>public void onScrollStateChanged(RecyclerView recyclerView, int newState)\n</code></pre>\n\n<p>then you can get <code>recyclerView'</code>s scroll position</p>\n"},{"comments":[{"owner":{"account_id":2799929,"reputation":8527,"user_id":2408342,"accept_rate":90,"display_name":"Roshana Pitigala"},"score":0,"creation_date":1563280836,"post_id":46376841,"comment_id":100640593,"body_markdown":"and is there a way to set the position when resumed?","body":"and is there a way to set the position when resumed?"},{"owner":{"account_id":4531600,"reputation":491537,"user_id":3681880,"accept_rate":90,"display_name":"Suragch"},"score":0,"creation_date":1563304709,"post_id":46376841,"comment_id":100653292,"body_markdown":"@Yes, see some of the higher voted answers [here](https://stackoverflow.com/questions/27816217/how-to-save-recyclerviews-scroll-position-using-recyclerview-state)","body":"@Yes, see some of the higher voted answers <a href=\"https://stackoverflow.com/questions/27816217/how-to-save-recyclerviews-scroll-position-using-recyclerview-state\">here</a>"}],"tags":[],"owner":{"account_id":4531600,"reputation":491537,"user_id":3681880,"accept_rate":90,"display_name":"Suragch"},"comment_count":2,"down_vote_count":0,"up_vote_count":43,"is_accepted":false,"score":43,"last_activity_date":1511997223,"creation_date":1506148909,"answer_id":46376841,"question_id":29581782,"body_markdown":"I came to the question just wanting to get the item position index that is currently scrolled to. For others who want to do the same, you can use the following:\r\n\r\n    LinearLayoutManager myLayoutManager = myRecyclerView.getLayoutManager();\r\n    int scrollPosition = myLayoutManager.findFirstVisibleItemPosition();\r\n\r\nYou can also get these other positions:\r\n\r\n- `findLastVisibleItemPosition()`\r\n- `findFirstCompletelyVisibleItemPosition()`\r\n- `findLastCompletelyVisibleItemPosition()`\r\n\r\nThanks to [this answer][1] for help with this. It also shows how to save and restore the scroll position. \r\n\r\n\r\n  [1]: https://stackoverflow.com/a/27954051/3681880","title":"How to get the Scrollposition in the Recyclerview/Layoutmanager?","body":"<p>I came to the question just wanting to get the item position index that is currently scrolled to. For others who want to do the same, you can use the following:</p>\n\n<pre><code>LinearLayoutManager myLayoutManager = myRecyclerView.getLayoutManager();\nint scrollPosition = myLayoutManager.findFirstVisibleItemPosition();\n</code></pre>\n\n<p>You can also get these other positions:</p>\n\n<ul>\n<li><code>findLastVisibleItemPosition()</code></li>\n<li><code>findFirstCompletelyVisibleItemPosition()</code></li>\n<li><code>findLastCompletelyVisibleItemPosition()</code></li>\n</ul>\n\n<p>Thanks to <a href=\"https://stackoverflow.com/a/27954051/3681880\">this answer</a> for help with this. It also shows how to save and restore the scroll position. </p>\n"},{"comments":[{"owner":{"account_id":4097067,"reputation":196,"user_id":3363520,"display_name":"Xials"},"score":1,"creation_date":1576704785,"post_id":48612294,"comment_id":104989619,"body_markdown":"You are my sunshine!","body":"You are my sunshine!"},{"owner":{"account_id":3542475,"reputation":1261,"user_id":2959200,"display_name":"Sjd"},"score":0,"creation_date":1597730808,"post_id":48612294,"comment_id":112221243,"body_markdown":"oh yeah!! it works as expected! Just wondering if this method is an overkill?","body":"oh yeah!! it works as expected! Just wondering if this method is an overkill?"},{"owner":{"account_id":13447169,"reputation":1234,"user_id":9702804,"display_name":"G. Ciardini"},"score":0,"creation_date":1646946953,"post_id":48612294,"comment_id":126256345,"body_markdown":"didn&#39;t work on the last version of android :\\","body":"didn&#39;t work on the last version of android :\\"},{"owner":{"account_id":3715619,"reputation":3752,"user_id":3091915,"accept_rate":89,"display_name":"The Berga"},"score":0,"creation_date":1672697074,"post_id":48612294,"comment_id":132330419,"body_markdown":"@G.Ciardini Works fine on Android 12.","body":"@G.Ciardini Works fine on Android 12."}],"tags":[],"owner":{"account_id":6011926,"reputation":1575,"user_id":4722110,"accept_rate":85,"display_name":"Shoaib Anwar"},"comment_count":4,"down_vote_count":2,"up_vote_count":69,"is_accepted":false,"score":67,"last_activity_date":1517773585,"creation_date":1517773585,"answer_id":48612294,"question_id":29581782,"body_markdown":"For future use, If you are switching between `Fragments` within the same `activity` and all you want to do is **save scroll-position** for `recyclerview` and then **restore `recyclerview` to the same scroll-position**, you can do as follows:\r\n\r\nIn your `onStop()/onDestroyView()/onPause()` whatever callback is more appropriate, do this:\r\n\r\n    Parcelable recylerViewState = recyclerView.getLayoutManager().onSaveInstanceState();\r\n\r\nAnd In your `onStart()/onCreateView()/onResume()` whatever callback is more appropriate, do this:\r\n\r\n    recyclerView.getLayoutManager().onRestoreInstanceState(recylerViewState);\r\n\r\nThis way you can successfully keep your `recyclerView&#39;s` state in a `parcelable` and restore it whenever you want.","title":"How to get the Scrollposition in the Recyclerview/Layoutmanager?","body":"<p>For future use, If you are switching between <code>Fragments</code> within the same <code>activity</code> and all you want to do is <strong>save scroll-position</strong> for <code>recyclerview</code> and then <strong>restore <code>recyclerview</code> to the same scroll-position</strong>, you can do as follows:</p>\n\n<p>In your <code>onStop()/onDestroyView()/onPause()</code> whatever callback is more appropriate, do this:</p>\n\n<pre><code>Parcelable recylerViewState = recyclerView.getLayoutManager().onSaveInstanceState();\n</code></pre>\n\n<p>And In your <code>onStart()/onCreateView()/onResume()</code> whatever callback is more appropriate, do this:</p>\n\n<pre><code>recyclerView.getLayoutManager().onRestoreInstanceState(recylerViewState);\n</code></pre>\n\n<p>This way you can successfully keep your <code>recyclerView's</code> state in a <code>parcelable</code> and restore it whenever you want.</p>\n"},{"tags":[],"owner":{"account_id":11909345,"reputation":51,"user_id":8715054,"display_name":"Von Neumann"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1537613578,"creation_date":1537613578,"answer_id":52455953,"question_id":29581782,"body_markdown":"Found a work around to getting last scrolled position within the `RecyclerView` with credits to **Suragch** solution...\r\nDeclare a globally accessible `LinearLayoutManager` so a to be able to access it within inner methods...\r\nWhen ever the `populateChatAdapter` method is called, if its the first call the scroll to position will be the last sent message and if the user had scrolled to view previous messages and method is called again to update new messages then they will retain their last scrolled to position...\r\n\r\n    LinearLayoutManager linearLayoutManager;\r\n    int lastScrollPosition = 0;\r\n    RecyclerView messages_recycler;\r\n\r\nInitiate them...\r\n\r\n    messages_recycler = findViewById(R.id.messages_recycler);\r\n    linearLayoutManager = new LinearLayoutManager(this);\r\n    linearLayoutManager.setStackFromEnd(true);\r\n    messages_recycler.setLayoutManager(linearLayoutManager);\r\n\r\nOn your populate adapter method\r\n\r\n    private void populateChatAdapter(ObservableList&lt;ChatMessages&gt; msgs) {\r\n        \r\n        if (lastScrollPosition==0) lastScrollPosition = msgs.size()-1;\r\n        ChatMessagesRecycler adapter = new ChatMessagesRecycler(msgs);\r\n        messages_recycler.setAdapter(adapter);\r\n        messages_recycler.addOnScrollListener(new RecyclerView.OnScrollListener() {\r\n            @Override\r\n            public void onScrolled(RecyclerView recyclerView, int dx, int dy) {\r\n                super.onScrolled(recyclerView, dx, dy);\r\n                lastScrollPosition = linearLayoutManager.findLastCompletelyVisibleItemPosition();\r\n            }\r\n        });\r\n        messages_recycler.scrollToPosition(lastScrollPosition);\r\n    }","title":"How to get the Scrollposition in the Recyclerview/Layoutmanager?","body":"<p>Found a work around to getting last scrolled position within the <code>RecyclerView</code> with credits to <strong>Suragch</strong> solution...\nDeclare a globally accessible <code>LinearLayoutManager</code> so a to be able to access it within inner methods...\nWhen ever the <code>populateChatAdapter</code> method is called, if its the first call the scroll to position will be the last sent message and if the user had scrolled to view previous messages and method is called again to update new messages then they will retain their last scrolled to position...</p>\n\n<pre><code>LinearLayoutManager linearLayoutManager;\nint lastScrollPosition = 0;\nRecyclerView messages_recycler;\n</code></pre>\n\n<p>Initiate them...</p>\n\n<pre><code>messages_recycler = findViewById(R.id.messages_recycler);\nlinearLayoutManager = new LinearLayoutManager(this);\nlinearLayoutManager.setStackFromEnd(true);\nmessages_recycler.setLayoutManager(linearLayoutManager);\n</code></pre>\n\n<p>On your populate adapter method</p>\n\n<pre><code>private void populateChatAdapter(ObservableList&lt;ChatMessages&gt; msgs) {\n\n    if (lastScrollPosition==0) lastScrollPosition = msgs.size()-1;\n    ChatMessagesRecycler adapter = new ChatMessagesRecycler(msgs);\n    messages_recycler.setAdapter(adapter);\n    messages_recycler.addOnScrollListener(new RecyclerView.OnScrollListener() {\n        @Override\n        public void onScrolled(RecyclerView recyclerView, int dx, int dy) {\n            super.onScrolled(recyclerView, dx, dy);\n            lastScrollPosition = linearLayoutManager.findLastCompletelyVisibleItemPosition();\n        }\n    });\n    messages_recycler.scrollToPosition(lastScrollPosition);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5436812,"reputation":187,"user_id":4326052,"accept_rate":40,"display_name":"Ed Lee"},"score":0,"creation_date":1608347860,"post_id":56897749,"comment_id":115563525,"body_markdown":"I haven&#39;t yet run into a scenario where this doesn&#39;t work, but technically this method is &quot;the vertical offset of the vertical scrollbar&#39;s thumb&quot;, not the scroll (https://developer.android.com/reference/androidx/core/view/ScrollingView#computeVerticalScrollOffset())","body":"I haven&#39;t yet run into a scenario where this doesn&#39;t work, but technically this method is &quot;the vertical offset of the vertical scrollbar&#39;s thumb&quot;, not the scroll (<a href=\"https://developer.android.com/reference/androidx/core/view/ScrollingView#computeVerticalScrollOffset()\" rel=\"nofollow noreferrer\">developer.android.com/reference/androidx/core/view/&hellip;</a>)"},{"owner":{"account_id":134964,"reputation":22313,"user_id":337455,"accept_rate":80,"display_name":"Jeffrey Blattman"},"score":0,"creation_date":1633636962,"post_id":56897749,"comment_id":122820028,"body_markdown":"Are you sure? &quot;Default implementation returns 0.&quot;","body":"Are you sure? &quot;Default implementation returns 0.&quot;"}],"tags":[],"owner":{"account_id":392397,"reputation":28086,"user_id":753632,"accept_rate":57,"display_name":"Johann"},"comment_count":2,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1562308747,"creation_date":1562308670,"answer_id":56897749,"question_id":29581782,"body_markdown":"`recyclerView.computeVerticalScrollOffset()` does the trick.","title":"How to get the Scrollposition in the Recyclerview/Layoutmanager?","body":"<p><code>recyclerView.computeVerticalScrollOffset()</code> does the trick.</p>\n"},{"comments":[{"owner":{"account_id":2824997,"reputation":3258,"user_id":2427819,"accept_rate":35,"display_name":"TootsieRockNRoll"},"score":3,"creation_date":1616154835,"post_id":62414316,"comment_id":117920121,"body_markdown":"what is &quot;v&quot;? recyclerview doesn&#39;t work there","body":"what is &quot;v&quot;? recyclerview doesn&#39;t work there"}],"tags":[],"owner":{"account_id":18860811,"reputation":1,"user_id":13757706,"display_name":"Agnis Studio"},"comment_count":1,"down_vote_count":5,"up_vote_count":1,"is_accepted":false,"score":-4,"last_activity_date":1592328601,"creation_date":1592328601,"answer_id":62414316,"question_id":29581782,"body_markdown":"To get ScroolPosition try this:\r\n\r\n1. You will need this:\r\n\r\n            mLayoutManager = new LinearLayoutManager(getApplicationContext(), LinearLayoutManager.HORIZONTAL, false);\r\n\r\n\r\n2. And then get the position of the mLayoutManager (like this):\r\n\r\n    \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n recyclerView\r\n                .addOnScrollListener(new RecyclerView.OnScrollListener() {\r\n                    @Override\r\n                    public void onScrollStateChanged(@NonNull RecyclerView recyclerView, int newState) {\r\n                        super.onScrollStateChanged(recyclerView, newState);\r\n                        int pos = mLayoutManager.getPosition(v);\r\n                        RecyclerView.ViewHolder viewHolder = recyclerView.findViewHolderForAdapterPosition(pos);\r\n             }\r\n});\r\n&lt;!-- end snippet --&gt;\r\n\r\nWith this &quot;pos&quot; you get the position, startin with the 0.\r\n   \r\n\r\n       int pos = mLayoutManager.getPosition(v);\r\n\r\n","title":"How to get the Scrollposition in the Recyclerview/Layoutmanager?","body":"<p>To get ScroolPosition try this:</p>\n\n<ol>\n<li><p>You will need this:</p>\n\n<pre><code>    mLayoutManager = new LinearLayoutManager(getApplicationContext(), LinearLayoutManager.HORIZONTAL, false);\n</code></pre></li>\n<li><p>And then get the position of the mLayoutManager (like this):</p></li>\n</ol>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code> recyclerView\r\n            .addOnScrollListener(new RecyclerView.OnScrollListener() {\r\n                @Override\r\n                public void onScrollStateChanged(@NonNull RecyclerView recyclerView, int newState) {\r\n                    super.onScrollStateChanged(recyclerView, newState);\r\n                    int pos = mLayoutManager.getPosition(v);\r\n                    RecyclerView.ViewHolder viewHolder = recyclerView.findViewHolderForAdapterPosition(pos);\r\n         }\r\n});</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>With this \"pos\" you get the position, startin with the 0.</p>\n\n<pre><code>   int pos = mLayoutManager.getPosition(v);\n</code></pre>\n"}],"owner":{"account_id":1125273,"reputation":4279,"user_id":1112707,"accept_rate":100,"display_name":"seb"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87204,"favorite_count":0,"down_vote_count":0,"up_vote_count":53,"accepted_answer_id":29582471,"answer_count":7,"score":53,"last_activity_date":1674452390,"creation_date":1428778422,"question_id":29581782,"body_markdown":"How to get the scrollposition in `Recyclerview` or the `Layoutmanager`?\r\n\r\nI can measure the scrollposition by adding an `OnScrollListener`, but when the Orientation changes `scrollDy` is 0.\r\n\r\n        mRecyclerView.setOnScrollListener(new RecyclerView.OnScrollListener() {\r\n                int scrollDy = 0;\r\n                @Override\r\n                public void onScrollStateChanged(RecyclerView recyclerView, int newState) {\r\n                    super.onScrollStateChanged(recyclerView, newState);\r\n                }\r\n\r\n                @Override\r\n                public void onScrolled(RecyclerView recyclerView, int dx, int dy) {\r\n                    scrollDy += dy;\r\n                }\r\n            });","title":"How to get the Scrollposition in the Recyclerview/Layoutmanager?","body":"<p>How to get the scrollposition in <code>Recyclerview</code> or the <code>Layoutmanager</code>?</p>\n\n<p>I can measure the scrollposition by adding an <code>OnScrollListener</code>, but when the Orientation changes <code>scrollDy</code> is 0.</p>\n\n<pre><code>    mRecyclerView.setOnScrollListener(new RecyclerView.OnScrollListener() {\n            int scrollDy = 0;\n            @Override\n            public void onScrollStateChanged(RecyclerView recyclerView, int newState) {\n                super.onScrollStateChanged(recyclerView, newState);\n            }\n\n            @Override\n            public void onScrolled(RecyclerView recyclerView, int dx, int dy) {\n                scrollDy += dy;\n            }\n        });\n</code></pre>\n"},{"tags":["java","spring-boot","apache-camel","activemq","apache-camel-3"],"comments":[{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1673846540,"post_id":75129242,"comment_id":132580576,"body_markdown":"Have you gotten any thread dumps from the Camel application when you notice the delay? If so, could you paste that information somewhere? If not, could you?","body":"Have you gotten any thread dumps from the Camel application when you notice the delay? If so, could you paste that information somewhere? If not, could you?"},{"owner":{"account_id":1310169,"reputation":3813,"user_id":1258319,"accept_rate":81,"display_name":"Julian"},"score":0,"creation_date":1673897309,"post_id":75129242,"comment_id":132595310,"body_markdown":"Initially I was using 5.16.5 which comes as a transitive dependency from spring-boot-starter-activemq but our CI server rejected because it has three vulnerabilities. Forcing the app to use 5.17.3 changed nothing","body":"Initially I was using 5.16.5 which comes as a transitive dependency from spring-boot-starter-activemq but our CI server rejected because it has three vulnerabilities. Forcing the app to use 5.17.3 changed nothing"},{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1673897457,"post_id":75129242,"comment_id":132595357,"body_markdown":"What about thread dumps which I asked about previously?","body":"What about thread dumps which I asked about previously?"},{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1673897478,"post_id":75129242,"comment_id":132595364,"body_markdown":"Have you tried using ActiveMQ Artemis?","body":"Have you tried using ActiveMQ Artemis?"},{"owner":{"account_id":1310169,"reputation":3813,"user_id":1258319,"accept_rate":81,"display_name":"Julian"},"score":0,"creation_date":1673897915,"post_id":75129242,"comment_id":132595490,"body_markdown":"In the web console it displays version 5.11.1 for the actual activemq broker. I assume this was the latest one available in our company repository. No I haven&#39;t tried artemis because I never used it before and I thought it would be too much of a big change. I can give it a try assuming that image is available on our company repository","body":"In the web console it displays version 5.11.1 for the actual activemq broker. I assume this was the latest one available in our company repository. No I haven&#39;t tried artemis because I never used it before and I thought it would be too much of a big change. I can give it a try assuming that image is available on our company repository"},{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1673899066,"post_id":75129242,"comment_id":132595778,"body_markdown":"Any feedback on the thread dumps?","body":"Any feedback on the thread dumps?"},{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1673899203,"post_id":75129242,"comment_id":132595809,"body_markdown":"ActiveMQ 5.11.1 is over 7 years old now. There&#39;s been over 50 releases since then. I strongly recommend you upgrade to the latest version or try ActiveMQ Artemis.","body":"ActiveMQ 5.11.1 is over 7 years old now. There&#39;s been over 50 releases since then. I strongly recommend you upgrade to the latest version or try ActiveMQ Artemis."},{"owner":{"account_id":1310169,"reputation":3813,"user_id":1258319,"accept_rate":81,"display_name":"Julian"},"score":0,"creation_date":1673995781,"post_id":75129242,"comment_id":132620086,"body_markdown":"Changing to ActiveMQ 5.17.3 which is the latest changed nothing. My feeling is that is not ActiveMQ to blame here but on the other hand why we did not notice this behaviour with  IBM MQ","body":"Changing to ActiveMQ 5.17.3 which is the latest changed nothing. My feeling is that is not ActiveMQ to blame here but on the other hand why we did not notice this behaviour with  IBM MQ"},{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1674741882,"post_id":75129242,"comment_id":132781504,"body_markdown":"Why do you feel ActiveMQ is not to blame? Is there some other difference in the two tests you&#39;re running?","body":"Why do you feel ActiveMQ is not to blame? Is there some other difference in the two tests you&#39;re running?"},{"owner":{"account_id":1310169,"reputation":3813,"user_id":1258319,"accept_rate":81,"display_name":"Julian"},"score":0,"creation_date":1674943491,"post_id":75129242,"comment_id":132823001,"body_markdown":"No, there is absolutely no difference in the way we run the application. It is just a flag we use saying use IBM MQ or ActiveMQ. Then depending on this flag we create a different `ConnectionFactory` instance. When I said net ActiveMQ is to blame I was referring that something might not be done correctly in our configuration which make ActiveMQ behave that way whereas IBM MQ does not care. See my `NOTE 2` in my question. I done that change after google told me not to use a cached connection factory when using XA. That fixed the issue but I still don&#39;t have a clear explanation of the cause","body":"No, there is absolutely no difference in the way we run the application. It is just a flag we use saying use IBM MQ or ActiveMQ. Then depending on this flag we create a different <code>ConnectionFactory</code> instance. When I said net ActiveMQ is to blame I was referring that something might not be done correctly in our configuration which make ActiveMQ behave that way whereas IBM MQ does not care. See my <code>NOTE 2</code> in my question. I done that change after google told me not to use a cached connection factory when using XA. That fixed the issue but I still don&#39;t have a clear explanation of the cause"}],"owner":{"account_id":1310169,"reputation":3813,"user_id":1258319,"accept_rate":81,"display_name":"Julian"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1674451890,"creation_date":1673827304,"question_id":75129242,"body_markdown":"We have an integration application based on Apache Camel and IBM MQ message broker. Part of our development work we need to be able to run this application locally on our developer laptops. The issue is that most of us have MacBook machines with Apple M1 processors and these cannot run IBM MQ message broker docker container. It seems M1 processors are not supported yet by IBM.\r\n\r\nOne solution we came up with was to fire up an EC2 in AWS have IBM MQ installed in there and open a ssh connection channel to that. Apart from the inconvenience of having to keep your EC2 compliant having one EC2 for each individual developer becomes a bit of an expense so we decided to use ActiveMQ &quot;Classic&quot; 5.11.1 as local message broker.\r\n\r\nBased on some settings we configured our application to either create an ActiveMQ connection factory or an IBM MQ one and also use either an ActiveMQ or a JMS camel component which we then added to the Camel context with the same key so routes definition stays the same regardless of which message broker we use.\r\n\r\n      var jmsComponent = useActiveMq ? activeMqComponent(cf) : new JmsComponent(new JmsConfiguration(cf));\r\n      jmsComponent.setTransactionManager(platformTransactionManager);\r\n      camelContext.addComponent(key, jmsComponent);\r\n\r\nEverything works as expected and we are actually very happy with the end result. To test the functionality we used the ActiveMQ admin interface and manually injected some messages in some of our queues. In most of the cases the messages get picked up by the application instantly (as it should) but we observed that after a while it just takes forever (minutes) for a message to be picked up. We could not notice any particular pattern around this behaviour but we noticed that when starts happening it goes like this consistently. \r\n\r\nWe did not notice such a behaviour when running against an IBM MQ message broker but we cannot say it is because of ActiveMQ broker or just the ActiveMQ admin interface or the way we configured our routes. When restarting the application all messages get consumed in no time. All our routes are transacted.\r\n\r\nI am a bit out of ideas and hopefully someone with more experience with ActiveMQ and or Camel can have some suggestions.\r\n\r\nInitially I was using 5.16.5 which comes as a transitive dependency from `spring-boot-starter-activemq` but our CI server rejected because it has three vulnerabilities. Forcing the app to use 5.17.3 changed nothing.\r\n\r\n**NOTE 1**\r\n\r\nI replaced one of the Camel routes with a `@JmsListener` spring component and the random delays still happening which makes me think this issue has nothing to do with Apache Camel.\r\n\r\n**NOTE 2**\r\n\r\nI made the change below and it fixed the problem. The change consisted in using a fake cached connection factory with a cache size of 1. After making that change the messages were consumed off the queue as soon as they were made available with no exception. It would still be good to have an explanation about what caused the issue when cache size was 500:\r\n\r\n    private CachingConnectionFactory cachedConnectionFactory(ConnectionFactory mqQueueConnectionFactory) {\r\n        var cachingConnectionFactory = new CachingConnectionFactory();\r\n        cachingConnectionFactory.setTargetConnectionFactory(mqQueueConnectionFactory);\r\n        cachingConnectionFactory.setReconnectOnException(true);\r\n        // We don&#39;t want a cached connection factory when using ActiveMQ\r\n        // The easiest way to achieve this is without complicating too\r\n        // much our implementation is by setting the cache size to 1\r\n        cachingConnectionFactory.setSessionCacheSize(useActiveMq ? 1 : 500);\r\n        cachingConnectionFactory.setExceptionListener(e -&gt; log.error(&quot;ErrorResponse making connection with MQ&quot;, e));\r\n        return cachingConnectionFactory;\r\n    }","title":"Camel route consuming ActiveMQ &quot;Classic&quot; message with unexpected delay in a random way","body":"<p>We have an integration application based on Apache Camel and IBM MQ message broker. Part of our development work we need to be able to run this application locally on our developer laptops. The issue is that most of us have MacBook machines with Apple M1 processors and these cannot run IBM MQ message broker docker container. It seems M1 processors are not supported yet by IBM.</p>\n<p>One solution we came up with was to fire up an EC2 in AWS have IBM MQ installed in there and open a ssh connection channel to that. Apart from the inconvenience of having to keep your EC2 compliant having one EC2 for each individual developer becomes a bit of an expense so we decided to use ActiveMQ &quot;Classic&quot; 5.11.1 as local message broker.</p>\n<p>Based on some settings we configured our application to either create an ActiveMQ connection factory or an IBM MQ one and also use either an ActiveMQ or a JMS camel component which we then added to the Camel context with the same key so routes definition stays the same regardless of which message broker we use.</p>\n<pre><code>  var jmsComponent = useActiveMq ? activeMqComponent(cf) : new JmsComponent(new JmsConfiguration(cf));\n  jmsComponent.setTransactionManager(platformTransactionManager);\n  camelContext.addComponent(key, jmsComponent);\n</code></pre>\n<p>Everything works as expected and we are actually very happy with the end result. To test the functionality we used the ActiveMQ admin interface and manually injected some messages in some of our queues. In most of the cases the messages get picked up by the application instantly (as it should) but we observed that after a while it just takes forever (minutes) for a message to be picked up. We could not notice any particular pattern around this behaviour but we noticed that when starts happening it goes like this consistently.</p>\n<p>We did not notice such a behaviour when running against an IBM MQ message broker but we cannot say it is because of ActiveMQ broker or just the ActiveMQ admin interface or the way we configured our routes. When restarting the application all messages get consumed in no time. All our routes are transacted.</p>\n<p>I am a bit out of ideas and hopefully someone with more experience with ActiveMQ and or Camel can have some suggestions.</p>\n<p>Initially I was using 5.16.5 which comes as a transitive dependency from <code>spring-boot-starter-activemq</code> but our CI server rejected because it has three vulnerabilities. Forcing the app to use 5.17.3 changed nothing.</p>\n<p><strong>NOTE 1</strong></p>\n<p>I replaced one of the Camel routes with a <code>@JmsListener</code> spring component and the random delays still happening which makes me think this issue has nothing to do with Apache Camel.</p>\n<p><strong>NOTE 2</strong></p>\n<p>I made the change below and it fixed the problem. The change consisted in using a fake cached connection factory with a cache size of 1. After making that change the messages were consumed off the queue as soon as they were made available with no exception. It would still be good to have an explanation about what caused the issue when cache size was 500:</p>\n<pre><code>private CachingConnectionFactory cachedConnectionFactory(ConnectionFactory mqQueueConnectionFactory) {\n    var cachingConnectionFactory = new CachingConnectionFactory();\n    cachingConnectionFactory.setTargetConnectionFactory(mqQueueConnectionFactory);\n    cachingConnectionFactory.setReconnectOnException(true);\n    // We don't want a cached connection factory when using ActiveMQ\n    // The easiest way to achieve this is without complicating too\n    // much our implementation is by setting the cache size to 1\n    cachingConnectionFactory.setSessionCacheSize(useActiveMq ? 1 : 500);\n    cachingConnectionFactory.setExceptionListener(e -&gt; log.error(&quot;ErrorResponse making connection with MQ&quot;, e));\n    return cachingConnectionFactory;\n}\n</code></pre>\n"},{"tags":["java","regex","string"],"answers":[{"comments":[{"owner":{"account_id":21277352,"reputation":86,"user_id":15656161,"display_name":"echo"},"score":0,"creation_date":1664874266,"post_id":73945437,"comment_id":130564542,"body_markdown":"Thank@Vorkos. I use String[] words = line.split(&quot;\\\\s+|\\n&quot;); to ignore the blank lines, but it doesn&#39;t work.","body":"Thank@Vorkos. I use String[] words = line.split(&quot;\\\\s+|\\n&quot;); to ignore the blank lines, but it doesn&#39;t work."},{"owner":{"account_id":9318013,"reputation":211,"user_id":6917716,"display_name":"Vorkos"},"score":1,"creation_date":1664874932,"post_id":73945437,"comment_id":130564754,"body_markdown":"```String[] words = line.split(&quot;\\\\s+\\\\n&quot;);```\n\n\nIt should be &quot;\\\\&quot; not &quot;|\\&quot;.\n\n\nhttps://regex101.com/ is your friend.","body":"<code>String[] words = line.split(&quot;\\\\s+\\\\n&quot;);</code>   It should be &quot;\\\\&quot; not &quot;|\\&quot;.   <a href=\"https://regex101.com/\" rel=\"nofollow noreferrer\">regex101.com</a> is your friend."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1664880670,"post_id":73945437,"comment_id":130566531,"body_markdown":"@echo you can not use a regex to make your code ignore blank lines when you already didn’t ignore them before the `split`. The problem is to read the file line by line when you do not want to process the input as lines. Processing a file as the intended tokens can be as easy as, e.g. `try(Scanner s = new Scanner(yourFile)) { while(s.hasNext(&quot;\\\\S+&quot;)) { System.out.println(s.next(&quot;\\\\S+&quot;)); } }`","body":"@echo you can not use a regex to make your code ignore blank lines when you already didn’t ignore them before the <code>split</code>. The problem is to read the file line by line when you do not want to process the input as lines. Processing a file as the intended tokens can be as easy as, e.g. <code>try(Scanner s = new Scanner(yourFile)) { while(s.hasNext(&quot;\\\\S+&quot;)) { System.out.println(s.next(&quot;\\\\S+&quot;)); } }</code>"}],"tags":[],"owner":{"account_id":9318013,"reputation":211,"user_id":6917716,"display_name":"Vorkos"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664874069,"creation_date":1664874069,"answer_id":73945437,"question_id":73945365,"body_markdown":"Regex is for finding patterns in strings, they can&#39;t be used to perform operations, e.g. splitting. You could use a regex to recognise a newline but the implementation of that would be down to the language of the program you are writing.\r\n\r\nIn Java for example:\r\n\r\n```\r\nString[] splitString = yourString.split(&quot;\\n&quot;);\r\n```","title":"How to write a regex to ignore tabs, blank lines and spaces?","body":"<p>Regex is for finding patterns in strings, they can't be used to perform operations, e.g. splitting. You could use a regex to recognise a newline but the implementation of that would be down to the language of the program you are writing.</p>\n<p>In Java for example:</p>\n<pre><code>String[] splitString = yourString.split(&quot;\\n&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5213018,"reputation":637,"user_id":4168794,"display_name":"Mehdi Abbassi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674451536,"creation_date":1674451536,"answer_id":75205902,"question_id":73945365,"body_markdown":"Well, &quot;anything other than tabs, blank lines, and spaces.&quot; That translates into `[^\\n\\t ]` and you want any combination of them `[^\\n\\t ]+` captured in a grouping `([^\\n\\t ]+)`. So the final pattern should be:\r\n\r\n`([^\\n\\t ]+)`","title":"How to write a regex to ignore tabs, blank lines and spaces?","body":"<p>Well, &quot;anything other than tabs, blank lines, and spaces.&quot; That translates into <code>[^\\n\\t ]</code> and you want any combination of them <code>[^\\n\\t ]+</code> captured in a grouping <code>([^\\n\\t ]+)</code>. So the final pattern should be:</p>\n<p><code>([^\\n\\t ]+)</code></p>\n"}],"owner":{"account_id":21277352,"reputation":86,"user_id":15656161,"display_name":"echo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":126,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":2,"score":0,"last_activity_date":1674451536,"creation_date":1664873769,"question_id":73945365,"body_markdown":"In this file, there are some blank lines, some tabs, and some spaces. I want to read a line every time and split this line correctly using regex according a rule. The rule asks me to ignore tabs, blank lines and spaces.\r\nThe content of txt file is shown below.\r\n\r\n```000000056669777     99999911111 + 352324012 + 03 ^          555557778 *\r\n\r\n99999999 990001 * 01119111 55565    33333 + * +  88888888              +\r\n\r\n\r\n\r\n123456789 1111111111 * 111119 2111111 9111111 * + *  1 ^\r\n\r\n\r\n9 1 +     5 *     00000000 + \r\n\r\n999999999  0 *\r\n\r\n9 0 ^\r\n\r\n\r\n 5555555 333333 5454353 999999 666666 01 ^ * * +\r\n  \r\n\r\n\r\n 3432 3333 9999 + * ^ * * 6666 +   \r\n```\r\nHow can we write this regex to satisify all requirements?\r\n","title":"How to write a regex to ignore tabs, blank lines and spaces?","body":"<p>In this file, there are some blank lines, some tabs, and some spaces. I want to read a line every time and split this line correctly using regex according a rule. The rule asks me to ignore tabs, blank lines and spaces.\nThe content of txt file is shown below.</p>\n<pre><code>\n99999999 990001 * 01119111 55565    33333 + * +  88888888              +\n\n\n\n123456789 1111111111 * 111119 2111111 9111111 * + *  1 ^\n\n\n9 1 +     5 *     00000000 + \n\n999999999  0 *\n\n9 0 ^\n\n\n 5555555 333333 5454353 999999 666666 01 ^ * * +\n  \n\n\n 3432 3333 9999 + * ^ * * 6666 +   \n</code></pre>\n<p>How can we write this regex to satisify all requirements?</p>\n"},{"tags":["java","string","java-8"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1674211541,"post_id":75182955,"comment_id":132670398,"body_markdown":"replace all (other) chars to split on by &quot;&quot;, and then split on space","body":"replace all (other) chars to split on by &quot;&quot;, and then split on space"},{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":3,"creation_date":1674211687,"post_id":75182955,"comment_id":132670453,"body_markdown":"`input.split(&quot;[ (,)]+&quot;)` should do the trick. Add characters, as necessary. By the way: I assume the space prefixing `Orange` in `k4` is a typo.","body":"<code>input.split(&quot;[ (,)]+&quot;)</code> should do the trick. Add characters, as necessary. By the way: I assume the space prefixing <code>Orange</code> in <code>k4</code> is a typo."},{"owner":{"account_id":65396,"reputation":8715,"user_id":192465,"accept_rate":85,"display_name":"riddle_me_this"},"score":0,"creation_date":1674223106,"post_id":75182955,"comment_id":132674055,"body_markdown":"@JavaProgrammer: Can a word only contain letters, case-insensitive?  (For example, no hyphens or digits?  What about `strawberry-banana`?)","body":"@JavaProgrammer: Can a word only contain letters, case-insensitive?  (For example, no hyphens or digits?  What about <code>strawberry-banana</code>?)"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1674245818,"post_id":75182955,"comment_id":132681449,"body_markdown":"please don&#39;t change the target of a question in the future, but rather open a new one instead","body":"please don&#39;t change the target of a question in the future, but rather open a new one instead"}],"answers":[{"tags":[],"owner":{"display_name":"user20973445"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674229235,"creation_date":1674214440,"answer_id":75183472,"question_id":75182955,"body_markdown":"So you want to extract all the words in a string and assign them to a list.\r\n\r\nFirst of all, you need to take words as they are: no punctuation.\r\n\r\nHere the method:\r\n\r\n    public static List&lt;String&gt; listOfWords(String str){\r\n\r\n        // you need words, \r\n        // so everything that is not a word is used as delimiter\r\n\r\n        String result [] = str.split(&quot;[^a-zA-Z]+&quot;);\r\n\r\n       // With the following regex you include in a &quot;word&quot; multiple words\r\n       // (what you asked for)\r\n       // String result [] = str.split( &quot;(^\\\\s*)[^a-zA-Z]+(\\\\s*$)&quot; );\r\n\r\n\t\tList&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\n\r\n\t\tfor (int i = 0; i &lt; result.length; i++)\r\n\t\t\t\tlist.add( result[i]);\r\n\r\n\t\treturn list;\r\n\r\n\t}\r\nBye!\r\n","title":"Splitting string in java with multiple cases","body":"<p>So you want to extract all the words in a string and assign them to a list.</p>\n<p>First of all, you need to take words as they are: no punctuation.</p>\n<p>Here the method:</p>\n<pre><code>public static List&lt;String&gt; listOfWords(String str){\n\n    // you need words, \n    // so everything that is not a word is used as delimiter\n\n    String result [] = str.split(&quot;[^a-zA-Z]+&quot;);\n\n   // With the following regex you include in a &quot;word&quot; multiple words\n   // (what you asked for)\n   // String result [] = str.split( &quot;(^\\\\s*)[^a-zA-Z]+(\\\\s*$)&quot; );\n\n    List&lt;String&gt; list = new ArrayList&lt;String&gt;();\n\n    for (int i = 0; i &lt; result.length; i++)\n            list.add( result[i]);\n\n    return list;\n\n}\n</code></pre>\n<p>Bye!</p>\n"},{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1674225201,"post_id":75184563,"comment_id":132674929,"body_markdown":"Beware! `\\p{Alpha}` is not different to `[a-zA-Z]` (unless `UNICODE_CHARACTER_CLASS` has been specified to `Pattern.compile(…)`). If you want to support arbitrary Unicode letters independently to any flags, you have to use `\\p{IsLetter}`.","body":"Beware! <code>\\p{Alpha}</code> is not different to <code>[a-zA-Z]</code> (unless <code>UNICODE_CHARACTER_CLASS</code> has been specified to <code>Pattern.compile(…)</code>). If you want to support arbitrary Unicode letters independently to any flags, you have to use <code>\\p{IsLetter}</code>."},{"owner":{"account_id":1503208,"reputation":1357,"user_id":1407184,"accept_rate":100,"display_name":"Java Programmer"},"score":0,"creation_date":1674225359,"post_id":75184563,"comment_id":132674989,"body_markdown":"Works well with the example above , But one question , what if i have something like this in k3 .  k3 =  &quot;Apple (Banana Ice Cream, Orange, Grape) &quot; . In this case i am expecting Banana Ice Cream as one word . But this gives me output like Apple,Banana,Ice,Cream,Orange,Grape while i am expecting Apple,Banana Ice Cream, Orange , Grape @cyberbrain","body":"Works well with the example above , But one question , what if i have something like this in k3 .  k3 =  &quot;Apple (Banana Ice Cream, Orange, Grape) &quot; . In this case i am expecting Banana Ice Cream as one word . But this gives me output like Apple,Banana,Ice,Cream,Orange,Grape while i am expecting Apple,Banana Ice Cream, Orange , Grape @cyberbrain"},{"owner":{"account_id":1503208,"reputation":1357,"user_id":1407184,"accept_rate":100,"display_name":"Java Programmer"},"score":0,"creation_date":1674226085,"post_id":75184563,"comment_id":132675293,"body_markdown":"The string  has two parts , the comma separated list in the bracket can be (banana , orange , grape) or (banana ice cream, orange, grape cream) or whatever , provided they are always comma separated. The other strings whatever comes before the bracket string is a single word. Example 1- &gt; Apple Orange (Banana Ice Cream, Grape) output is [Apple orange, Banana Ice Cream, Grape] .  Example 2 -&gt; Apple Orange output is [Apple Orange]. My question had a mistake in the output given. Corrected","body":"The string  has two parts , the comma separated list in the bracket can be (banana , orange , grape) or (banana ice cream, orange, grape cream) or whatever , provided they are always comma separated. The other strings whatever comes before the bracket string is a single word. Example 1- &gt; Apple Orange (Banana Ice Cream, Grape) output is [Apple orange, Banana Ice Cream, Grape] .  Example 2 -&gt; Apple Orange output is [Apple Orange]. My question had a mistake in the output given. Corrected"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1674245861,"post_id":75184563,"comment_id":132681460,"body_markdown":"I updated my answer to fit the &quot;new&quot; question.","body":"I updated my answer to fit the &quot;new&quot; question."}],"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"comment_count":4,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1674245781,"creation_date":1674220904,"answer_id":75184563,"question_id":75182955,"body_markdown":"UPDATE: I changed the regular expression because the question changed.\r\n\r\nI would use a regular expression, for brevity I just assume that you use Java 9 or newer (for the `List.of()`).\r\n\r\n```\r\nfinal String delimiter = &quot;&quot;\\\\s?,\\\\s?|\\\\s+\\\\(|\\\\)&quot;;\r\n\r\n// expected output: [Apple Orange, Banana ice cream, Grape]\r\nSystem.out.println(List.of(&quot;Apple Orange (Banana ice cream, Grape)&quot;.split(delimiter)));\r\n```\r\n\r\nPlease note that regular expressions are not good at checking for the correct handling or nesting of parentheses, so this code doesn&#39;t care if you forget the closing or opening parenthesis, in fact a parenthesis is just &quot;worth&quot; about as much as a comma.","title":"Splitting string in java with multiple cases","body":"<p>UPDATE: I changed the regular expression because the question changed.</p>\n<p>I would use a regular expression, for brevity I just assume that you use Java 9 or newer (for the <code>List.of()</code>).</p>\n<pre><code>final String delimiter = &quot;&quot;\\\\s?,\\\\s?|\\\\s+\\\\(|\\\\)&quot;;\n\n// expected output: [Apple Orange, Banana ice cream, Grape]\nSystem.out.println(List.of(&quot;Apple Orange (Banana ice cream, Grape)&quot;.split(delimiter)));\n</code></pre>\n<p>Please note that regular expressions are not good at checking for the correct handling or nesting of parentheses, so this code doesn't care if you forget the closing or opening parenthesis, in fact a parenthesis is just &quot;worth&quot; about as much as a comma.</p>\n"},{"tags":[],"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674451266,"creation_date":1674233677,"answer_id":75187077,"question_id":75182955,"body_markdown":"    public static void main(String[] args) {\r\n    \t\t\r\n    \tString k1 = &quot;Apple&quot;;\r\n    \tString k2 = &quot;Apple Orange&quot;;\r\n    \tString k3 = &quot;Apple (Banana, Orange, Grape)&quot;;\r\n    \tString k4 = &quot;Apple Orange (Banana, Grape)&quot;;\r\n    \tString k5 = &quot;Apple Orange (Banana Ice cream, Grape)&quot;;\r\n    \r\n    \tSystem.out.println(&quot;List k1 : &quot; + makeCustomListFromString(k1));\r\n    \tSystem.out.println(&quot;List k2 : &quot; + makeCustomListFromString(k2));\r\n    \tSystem.out.println(&quot;List k3 : &quot; + makeCustomListFromString(k3));\r\n    \tSystem.out.println(&quot;List k4 : &quot; + makeCustomListFromString(k4));\r\n    \tSystem.out.println(&quot;List k5 : &quot; + makeCustomListFromString(k5));\r\n    }\r\n    \t\r\n    private static List&lt;String&gt; makeCustomListFromString(String existing) {\r\n    \t\r\n    \treturn Arrays.asList(existing.replaceAll(&quot;\\\\(&quot;, &quot;,&quot;)\r\n    \t\t\t.replaceAll(&quot;\\\\)&quot;, &quot;&quot;)\r\n    \t\t\t.replaceAll(&quot;, &quot;, &quot;,&quot;)\r\n    \t\t\t.replaceAll(&quot; ,&quot;, &quot;,&quot;)\r\n    \t\t\t.split(&quot;,&quot;));\r\n    }\r\n\r\n 1. Replace the opening bracket with a coma [&quot;(&quot; -&gt; &quot;,&quot;]\r\n 2. Remove the closing bracket [&quot;)&quot; -&gt; &quot;&quot;]\r\n 3. Remove extra spaces before and after the coma\r\n 4. Split the string with coma as a separator\r\n 5. Convert the array to a list","title":"Splitting string in java with multiple cases","body":"<pre><code>public static void main(String[] args) {\n        \n    String k1 = &quot;Apple&quot;;\n    String k2 = &quot;Apple Orange&quot;;\n    String k3 = &quot;Apple (Banana, Orange, Grape)&quot;;\n    String k4 = &quot;Apple Orange (Banana, Grape)&quot;;\n    String k5 = &quot;Apple Orange (Banana Ice cream, Grape)&quot;;\n\n    System.out.println(&quot;List k1 : &quot; + makeCustomListFromString(k1));\n    System.out.println(&quot;List k2 : &quot; + makeCustomListFromString(k2));\n    System.out.println(&quot;List k3 : &quot; + makeCustomListFromString(k3));\n    System.out.println(&quot;List k4 : &quot; + makeCustomListFromString(k4));\n    System.out.println(&quot;List k5 : &quot; + makeCustomListFromString(k5));\n}\n    \nprivate static List&lt;String&gt; makeCustomListFromString(String existing) {\n    \n    return Arrays.asList(existing.replaceAll(&quot;\\\\(&quot;, &quot;,&quot;)\n            .replaceAll(&quot;\\\\)&quot;, &quot;&quot;)\n            .replaceAll(&quot;, &quot;, &quot;,&quot;)\n            .replaceAll(&quot; ,&quot;, &quot;,&quot;)\n            .split(&quot;,&quot;));\n}\n</code></pre>\n<ol>\n<li>Replace the opening bracket with a coma [&quot;(&quot; -&gt; &quot;,&quot;]</li>\n<li>Remove the closing bracket [&quot;)&quot; -&gt; &quot;&quot;]</li>\n<li>Remove extra spaces before and after the coma</li>\n<li>Split the string with coma as a separator</li>\n<li>Convert the array to a list</li>\n</ol>\n"}],"owner":{"account_id":1503208,"reputation":1357,"user_id":1407184,"accept_rate":100,"display_name":"Java Programmer"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":146,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75184563,"answer_count":3,"score":-1,"last_activity_date":1674451266,"creation_date":1674211492,"question_id":75182955,"body_markdown":"I need to extract values from a string and insert into a list. The below is the samples \r\n\r\n    String k1 = &quot;Apple&quot;;\r\n    String k2 = &quot;Apple Orange&quot;;\r\n    String k3 = &quot;Apple (Banana, Orange, Grape)&quot;;\r\n    String k4 = &quot;Apple Orange (Banana, Grape)&quot;;\r\n    String k5 = &quot;Apple Orange (Banana Ice cream, Grape)&quot;\r\n\r\nAt a time a word only can be present in the string, multiple words can be present in the string , multiple words with some words in the brackets also can be present in the string . In each case, need to extract the word and store in a list. Eg\r\n\r\n\r\nThe string has two parts , the comma separated list in the bracket can be (banana , orange , grape) or (banana ice cream, orange, grape cream) or whatever , provided they are always comma separated. The other strings whatever comes before the bracket string is a single word. Example 1- &gt; Apple Orange (Banana Ice Cream, Grape) output is [Apple orange, Banana Ice Cream, Grape] . Example 2 -&gt; Apple Orange output is [Apple Orange]\r\n\r\n\r\nEg \r\n\r\n    k1 -&gt; [Apple] \r\n    k2 -&gt; [Apple Orange]\r\n    k3 -&gt; [Apple,Banana,Orange,Grape]\r\n    k4 -&gt; [Apple Orange,Banana,Grape]\r\n    k5 -&gt; [Apple Orange,Banana Ice Cream, Grape]\r\n\r\n Is there any way we can extract words like the above ? \r\n\r\n\r\n\r\n ","title":"Splitting string in java with multiple cases","body":"<p>I need to extract values from a string and insert into a list. The below is the samples</p>\n<pre><code>String k1 = &quot;Apple&quot;;\nString k2 = &quot;Apple Orange&quot;;\nString k3 = &quot;Apple (Banana, Orange, Grape)&quot;;\nString k4 = &quot;Apple Orange (Banana, Grape)&quot;;\nString k5 = &quot;Apple Orange (Banana Ice cream, Grape)&quot;\n</code></pre>\n<p>At a time a word only can be present in the string, multiple words can be present in the string , multiple words with some words in the brackets also can be present in the string . In each case, need to extract the word and store in a list. Eg</p>\n<p>The string has two parts , the comma separated list in the bracket can be (banana , orange , grape) or (banana ice cream, orange, grape cream) or whatever , provided they are always comma separated. The other strings whatever comes before the bracket string is a single word. Example 1- &gt; Apple Orange (Banana Ice Cream, Grape) output is [Apple orange, Banana Ice Cream, Grape] . Example 2 -&gt; Apple Orange output is [Apple Orange]</p>\n<p>Eg</p>\n<pre><code>k1 -&gt; [Apple] \nk2 -&gt; [Apple Orange]\nk3 -&gt; [Apple,Banana,Orange,Grape]\nk4 -&gt; [Apple Orange,Banana,Grape]\nk5 -&gt; [Apple Orange,Banana Ice Cream, Grape]\n</code></pre>\n<p>Is there any way we can extract words like the above ?</p>\n"},{"tags":["java","hibernate"],"comments":[{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1674264742,"post_id":75190593,"comment_id":132684488,"body_markdown":"do you mind just getting rid of this controversial feature? the purpose of naming strategy is to make technology attractive to newbies, i.e. &quot;you didn&#39;t write anything db-specific and it works somehow, wow&quot;. Just define actual table and column names for your entities.","body":"do you mind just getting rid of this controversial feature? the purpose of naming strategy is to make technology attractive to newbies, i.e. &quot;you didn&#39;t write anything db-specific and it works somehow, wow&quot;. Just define actual table and column names for your entities."},{"owner":{"account_id":3449881,"reputation":3520,"user_id":2889760,"display_name":"Gavin King"},"score":0,"creation_date":1674298265,"post_id":75190593,"comment_id":132687613,"body_markdown":"That&#39;s terrible advice, Andrey. Naming strategies are great, and there&#39;s nothing at all &quot;controversial&quot; about them.","body":"That&#39;s terrible advice, Andrey. Naming strategies are great, and there&#39;s nothing at all &quot;controversial&quot; about them."},{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1674302584,"post_id":75190593,"comment_id":132688316,"body_markdown":"@GavinKing can&#39;t agree with you. first of all, naming strategies do not take into account &quot;features&quot; of underlying DBs (max identifier length, case-sensitivity, reserved words, etc), that in turn means sooner or later you will be forced to explicitly define suitable identifiers for some cases - that turns the code into a mess: somewhere we define  identifiers, somewhere don&#39;t. 2. If application is mature enough it&#39;s DB should be under control of migration tool, since we use explicit identifiers there, there is no point to not use them in entity mapping.","body":"@GavinKing can&#39;t agree with you. first of all, naming strategies do not take into account &quot;features&quot; of underlying DBs (max identifier length, case-sensitivity, reserved words, etc), that in turn means sooner or later you will be forced to explicitly define suitable identifiers for some cases - that turns the code into a mess: somewhere we define  identifiers, somewhere don&#39;t. 2. If application is mature enough it&#39;s DB should be under control of migration tool, since we use explicit identifiers there, there is no point to not use them in entity mapping."},{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1674303199,"post_id":75190593,"comment_id":132688419,"body_markdown":"and at third, when we are performing root cause analysis of DB issues that is much simpler and faster to just perform search in IDE using basic string match rather than trying to guess what entity relates to the problematic table.","body":"and at third, when we are performing root cause analysis of DB issues that is much simpler and faster to just perform search in IDE using basic string match rather than trying to guess what entity relates to the problematic table."},{"owner":{"account_id":3449881,"reputation":3520,"user_id":2889760,"display_name":"Gavin King"},"score":0,"creation_date":1674303918,"post_id":75190593,"comment_id":132688537,"body_markdown":"Fine, that&#39;s your preference, and your opinion, and you have some at least arguable reasons for holding that opinion. I disagree with your reasoning, but there&#39;s not enough space here to make the case. That doesn&#39;t make this feature &quot;controversial&quot;.","body":"Fine, that&#39;s your preference, and your opinion, and you have some at least arguable reasons for holding that opinion. I disagree with your reasoning, but there&#39;s not enough space here to make the case. That doesn&#39;t make this feature &quot;controversial&quot;."},{"owner":{"account_id":16828038,"reputation":119,"user_id":12166780,"display_name":"quarkpt"},"score":0,"creation_date":1674492251,"post_id":75190593,"comment_id":132720533,"body_markdown":"Getting rid of NamingStrategy: the problem is the legacy database schema. If we get rid of the naming strategy we need to write a migrator script that translates all the tables, columns, etc., to the strategy-free versions. That might be the easiest and safest route, but it doesn&#39;t feel easy or safe to me.","body":"Getting rid of NamingStrategy: the problem is the legacy database schema. If we get rid of the naming strategy we need to write a migrator script that translates all the tables, columns, etc., to the strategy-free versions. That might be the easiest and safest route, but it doesn&#39;t feel easy or safe to me."},{"owner":{"account_id":16828038,"reputation":119,"user_id":12166780,"display_name":"quarkpt"},"score":0,"creation_date":1674492355,"post_id":75190593,"comment_id":132720557,"body_markdown":"Relatedly: I can&#39;t be the only person who is in this predicament! This is why I&#39;m a little surprised that there isn&#39;t a &quot;recipe&quot; available for migrating away from NamingStrategy. It&#39;s inefficient for each user who needs to stop using a deprecated interface to separately go to the effort of inventing a migration. So much easier if the experts say, &quot;replace method X with the combination of methods Y and Z as specified below,&quot; etc.","body":"Relatedly: I can&#39;t be the only person who is in this predicament! This is why I&#39;m a little surprised that there isn&#39;t a &quot;recipe&quot; available for migrating away from NamingStrategy. It&#39;s inefficient for each user who needs to stop using a deprecated interface to separately go to the effort of inventing a migration. So much easier if the experts say, &quot;replace method X with the combination of methods Y and Z as specified below,&quot; etc."},{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1674543903,"post_id":75190593,"comment_id":132730644,"body_markdown":"@quarkpt you don not need to migrate data at all, just place correct/actual `@Table`/`@Column`/`@JoinColumn` annotations over classes and fields.","body":"@quarkpt you don not need to migrate data at all, just place correct/actual <code>@Table</code>/<code>@Column</code>/<code>@JoinColumn</code> annotations over classes and fields."}],"answers":[{"comments":[{"owner":{"account_id":16828038,"reputation":119,"user_id":12166780,"display_name":"quarkpt"},"score":0,"creation_date":1674677078,"post_id":75192819,"comment_id":132768097,"body_markdown":"In the third paragraph of the ImplicitNamingStrategy section, you say &quot;... the PhysicalNamingStrategy is not called...&quot; Did you mean to say ImplicitNamingStrategy here? If not, you should probably explain how the ImplicitNamingStrategy section is suddenly talking about PhysicalNamingStrategy.","body":"In the third paragraph of the ImplicitNamingStrategy section, you say &quot;... the PhysicalNamingStrategy is not called...&quot; Did you mean to say ImplicitNamingStrategy here? If not, you should probably explain how the ImplicitNamingStrategy section is suddenly talking about PhysicalNamingStrategy."},{"owner":{"account_id":3449881,"reputation":3520,"user_id":2889760,"display_name":"Gavin King"},"score":0,"creation_date":1674680241,"post_id":75192819,"comment_id":132768929,"body_markdown":"Yes, I did mean that, thanks.","body":"Yes, I did mean that, thanks."}],"tags":[],"owner":{"account_id":3449881,"reputation":3520,"user_id":2889760,"display_name":"Gavin King"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674298941,"creation_date":1674298941,"answer_id":75192819,"question_id":75190593,"body_markdown":"So I _very_ recently rewrote the Javadoc for these interfaces, to make it easier to understand the difference. But that new Javadoc isn&#39;t available online yet, because the release of 6.2 final slipped by a week.\r\n\r\nSo let me copy/paste the explanation from the Javadoc here, HTH.\r\n\r\n#### Package `org.hibernate.boot.model.naming`\r\n\r\nThis API allows intervention by generic code in the process of determining the names of\r\ndatabase objects (tables, columns, and constraints).\r\n&lt;p&gt;\r\nName determination happens in two phases:\r\n&lt;ol&gt;\r\n    &lt;li&gt;\r\n         &lt;em&gt;Logical naming&lt;/em&gt; is the process of applying naming rules to determine the\r\n          names of objects which were not explicitly assigned names in the O/R mapping.\r\n          &lt;p&gt;Here, this is the responsibility of an implementation of\r\n          &lt;code&gt;org.hibernate.boot.model.naming.ImplicitNamingStrategy&lt;/code&gt;.\r\n      &lt;/li&gt;\r\n      &lt;li&gt;\r\n          &lt;em&gt;Physical naming&lt;/em&gt; is the process of applying additional rules to transform\r\n          a logical name into an actual &quot;physical&quot; name that will be used in the database.\r\n          For example, the rules might include things like using standardized abbreviations,\r\n          or trimming the length of identifiers.\r\n          &lt;p&gt;Here, this is the responsibility of an implementation of\r\n          &lt;code&gt;PhysicalNamingStrategy&lt;/code&gt;.\r\n      &lt;/li&gt;\r\n &lt;/ol&gt;\r\n\r\n#### `ImplicitNamingStrategy`\r\n\r\nA set of rules for determining the logical name of a mapped relational database object when the mapping for an element of the Java domain model is not explicitly specified, neither in annotations of the Java code, nor in an XML-based mapping document.\r\n\r\nFor example, if a Java class annotated `@Entity` has no `@Table` annotation, then `determinePrimaryTableName` is called with an `ImplicitEntityNameSource` providing access to information about the Java class and its entity name.\r\n\r\nOn the other hand, when a logical name is explicitly specified, for example, using `@Table` to specify the table name, or `@Column` to specify a column name, the `PhysicalNamingStrategy` is not called and has no opportunity to intervene in the determination of the logical name.\r\n\r\nHowever, a further level of processing is applied to the resulting logical names by a `PhysicalNamingStrategy` in order to determine the &quot;finally final&quot; physical names in the relational database schema.\r\nWhenever reasonable, the use of a custom `ImplicitNamingStrategy` is highly recommended in preference to tedious and repetitive explicit table and column name mappings. It&#39;s anticipated that most projects using Hibernate will feature a custom implementation of `ImplicitNamingStrategy`.\r\n\r\nAn `ImplicitNamingStrategy` may be selected using the configuration property `&quot;hibernate.implicit_naming_strategy&quot;`.\r\n\r\n\r\n#### `PhysicalNamingStrategy`\r\n\r\nA set of rules for determining the physical names of objects in a relational database schema from the logical names specified by the object/relational mappings.\r\n\r\n- A physical name is a name used to interact with the database, and will always be used in generated SQL, both DML and DDL.\r\n- A logical name is a name used to within annotations of Java code and XML mapping documents.\r\n\r\nLogical names provide an additional level of indirection between the mappings and the database schema, and a `PhysicalNamingStrategy` even allows the use of more &quot;natural&quot; naming within the mappings in cases where the relational schema features especially inelegant legacy naming conventions. For example, it could shield the mappings from old-fashioned practices like prefixing table names with `TBL_`.\r\n\r\nNote, however, that handwritten native SQL must be written in terms of physical names, so the abstraction here is in some sense &quot;incomplete&quot;.\r\n\r\nA `PhysicalNamingStrategy` may be selected using the configuration property `&quot;hibernate.physical_naming_strategy&quot;`.","title":"Migration from NamingStrategy in Hibernate","body":"<p>So I <em>very</em> recently rewrote the Javadoc for these interfaces, to make it easier to understand the difference. But that new Javadoc isn't available online yet, because the release of 6.2 final slipped by a week.</p>\n<p>So let me copy/paste the explanation from the Javadoc here, HTH.</p>\n<h4>Package <code>org.hibernate.boot.model.naming</code></h4>\n<p>This API allows intervention by generic code in the process of determining the names of\ndatabase objects (tables, columns, and constraints).</p>\n<p>\nName determination happens in two phases:\n<ol>\n    <li>\n         <em>Logical naming</em> is the process of applying naming rules to determine the\n          names of objects which were not explicitly assigned names in the O/R mapping.\n          <p>Here, this is the responsibility of an implementation of\n          <code>org.hibernate.boot.model.naming.ImplicitNamingStrategy</code>.\n      </li>\n      <li>\n          <em>Physical naming</em> is the process of applying additional rules to transform\n          a logical name into an actual \"physical\" name that will be used in the database.\n          For example, the rules might include things like using standardized abbreviations,\n          or trimming the length of identifiers.\n          <p>Here, this is the responsibility of an implementation of\n          <code>PhysicalNamingStrategy</code>.\n      </li>\n </ol>\n<h4><code>ImplicitNamingStrategy</code></h4>\n<p>A set of rules for determining the logical name of a mapped relational database object when the mapping for an element of the Java domain model is not explicitly specified, neither in annotations of the Java code, nor in an XML-based mapping document.</p>\n<p>For example, if a Java class annotated <code>@Entity</code> has no <code>@Table</code> annotation, then <code>determinePrimaryTableName</code> is called with an <code>ImplicitEntityNameSource</code> providing access to information about the Java class and its entity name.</p>\n<p>On the other hand, when a logical name is explicitly specified, for example, using <code>@Table</code> to specify the table name, or <code>@Column</code> to specify a column name, the <code>PhysicalNamingStrategy</code> is not called and has no opportunity to intervene in the determination of the logical name.</p>\n<p>However, a further level of processing is applied to the resulting logical names by a <code>PhysicalNamingStrategy</code> in order to determine the &quot;finally final&quot; physical names in the relational database schema.\nWhenever reasonable, the use of a custom <code>ImplicitNamingStrategy</code> is highly recommended in preference to tedious and repetitive explicit table and column name mappings. It's anticipated that most projects using Hibernate will feature a custom implementation of <code>ImplicitNamingStrategy</code>.</p>\n<p>An <code>ImplicitNamingStrategy</code> may be selected using the configuration property <code>&quot;hibernate.implicit_naming_strategy&quot;</code>.</p>\n<h4><code>PhysicalNamingStrategy</code></h4>\n<p>A set of rules for determining the physical names of objects in a relational database schema from the logical names specified by the object/relational mappings.</p>\n<ul>\n<li>A physical name is a name used to interact with the database, and will always be used in generated SQL, both DML and DDL.</li>\n<li>A logical name is a name used to within annotations of Java code and XML mapping documents.</li>\n</ul>\n<p>Logical names provide an additional level of indirection between the mappings and the database schema, and a <code>PhysicalNamingStrategy</code> even allows the use of more &quot;natural&quot; naming within the mappings in cases where the relational schema features especially inelegant legacy naming conventions. For example, it could shield the mappings from old-fashioned practices like prefixing table names with <code>TBL_</code>.</p>\n<p>Note, however, that handwritten native SQL must be written in terms of physical names, so the abstraction here is in some sense &quot;incomplete&quot;.</p>\n<p>A <code>PhysicalNamingStrategy</code> may be selected using the configuration property <code>&quot;hibernate.physical_naming_strategy&quot;</code>.</p>\n"},{"tags":[],"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674450306,"creation_date":1674379175,"answer_id":75199332,"question_id":75190593,"body_markdown":"**Short story**\r\n\r\nStay clear of naming strategies in `Hibernate`, this feature is unstable, unreliable, unmaintainable and, furthermore, it increases technical debt (that is exactly what you actually get: *at this point NamingStrategy is deprecated and I&#39;d like to transition to something that&#39;s still supported going forward*), moreover, even `Hibernate` team admits this feature is [unstable](https://github.com/hibernate/hibernate-orm/blob/35f0c57f07a7e3510b07b6fd8b0f2f469fec1e38/hibernate-core/src/main/java/org/hibernate/boot/model/naming/PhysicalNamingStrategy.java#L43):\r\n\r\n```java\r\n@Incubating\r\npublic interface PhysicalNamingStrategy {\r\n```\r\n\r\n[@Incubating](https://github.com/hibernate/hibernate-orm/blob/main/hibernate-core/src/main/java/org/hibernate/Incubating.java):\r\n\r\n&gt; Marks certain of packages, types, etc. as incubating, potentially recursively. Incubating indicates something that is still being actively developed and therefore may change at a later time; a &quot;tech preview&quot;.\r\n\r\n&gt; Users of these types and methods are considered early adopters who help shape the final definition of these types/methods, along with the needs of consumers.\r\n\r\nThe best option is to place valid/actual `@Table` and `@Column` annotations over related entities/fields and close that technical debt - that is your responsibility, as a developer, to keep the code maintainable.\r\n\r\n\r\n`Hibernate` team had unintentionally opened Pandora&#39;s box, and upcoming release 6.2 is a best candidate to close it, the only action  required is to replace `@Incubating` with `@Deprecated`.\r\n\r\n\r\n**Long story**\r\n\r\n\r\nI. naming strategies are not portable across JPA implementations, for example if you try to find how to implement the same in `eclipselink` you may find [something like](https://gist.github.com/ganeshs/c0deb77ffae33dee4555):\r\n\r\n```java\r\n    @Override\r\n    public void customize(Session session) throws SQLException {\r\n        for (ClassDescriptor descriptor : session.getDescriptors().values()) {\r\n            // Only change the table name for non-embedable entities with no\r\n            // @Table already\r\n            if (!descriptor.getTables().isEmpty() &amp;&amp; descriptor.getAlias().equalsIgnoreCase(descriptor.getTableName())) {\r\n                String tableName = addUnderscores(descriptor.getTableName());\r\n                descriptor.setTableName(tableName);\r\n                for (IndexDefinition index : descriptor.getTables().get(0).getIndexes()) {\r\n                    index.setTargetTable(tableName);\r\n                }\r\n            }\r\n            for (DatabaseMapping mapping : descriptor.getMappings()) {\r\n                // Only change the column name for non-embedable entities with\r\n                // no @Column already\r\n\r\n                if (mapping instanceof AggregateObjectMapping) {\r\n                    for (Association association : ((AggregateObjectMapping) mapping).getAggregateToSourceFieldAssociations()) {\r\n                        DatabaseField field = (DatabaseField) association.getValue();\r\n                        field.setName(addUnderscores(field.getName()));\r\n                        \r\n                        for (DatabaseMapping attrMapping : session.getDescriptor(((AggregateObjectMapping) mapping).getReferenceClass()).getMappings()) {\r\n                            if (attrMapping.getAttributeName().equalsIgnoreCase((String) association.getKey())) {\r\n                                ((AggregateObjectMapping) mapping).addFieldTranslation(field, addUnderscores(attrMapping.getAttributeName()));\r\n                                ((AggregateObjectMapping) mapping).getAggregateToSourceFields().remove(association.getKey());\r\n                                break;\r\n                            }\r\n                        }\r\n                    }\r\n                } else if (mapping instanceof ObjectReferenceMapping) {\r\n                    for (DatabaseField foreignKey : ((ObjectReferenceMapping) mapping).getForeignKeyFields()) {\r\n                        foreignKey.setName(addUnderscores(foreignKey.getName()));\r\n                    }\r\n                } else if (mapping instanceof DirectMapMapping) {\r\n                    for (DatabaseField referenceKey : ((DirectMapMapping) mapping).getReferenceKeyFields()) {\r\n                        referenceKey.setName(addUnderscores(referenceKey.getName()));\r\n                    }\r\n                    for (DatabaseField sourceKey : ((DirectMapMapping) mapping).getSourceKeyFields()) {\r\n                        sourceKey.setName(addUnderscores(sourceKey.getName()));\r\n                    }\r\n                } else {\r\n                    DatabaseField field = mapping.getField();\r\n                    if (field != null &amp;&amp; !mapping.getAttributeName().isEmpty() &amp;&amp; field.getName().equalsIgnoreCase(mapping.getAttributeName())) {\r\n                        field.setName(addUnderscores(mapping.getAttributeName()));\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\nSorry, but that is not kind of code I would like to maintain, on the other hand, I can definitely say that `eclipselink` is not `JPA` implementation I would like to deal with - the problem is it strictly follows `JPA` specification (`Hibernate` is definitely more flexible and extensible). However, you need to keep in mind that naming strategies applies globally, so, when you adopting third-party library or a plugin, based on `JPA`, you might get &quot;surprised&quot; that that library or plugin conflicts with your naming strategy.\r\n\r\n\r\nII. predictable names make sense:\r\n\r\n-  when you diagnose performance issues, DBAs typically tell you what queries are slow, after that you need somehow determine what code produces those slow queries (there we need to say &quot;thanks&quot; to `spring-data-jpa` for their naming convention), and that takes a time to match SQL query to JPQL query, and usage of naming strategies is not your friend there. If you think SQL queries do not make sense and you can collect performance statistics using `micrometer`/`grafana`, I have bad news for you: [that does not work in Hibernate](https://discourse.hibernate.org/t/performance-issues-when-enabling-micrometer-metrics/7035)\r\n- naming strategies somehow try to cover table and column names, but do not cover index names, which is actually important from performance perspective: try to guess what columns are covered by index with name like `UK_jymdjmt0g2vxkk0fp56xlhjud`. Need to ask DBA? OK, your code is unmaintainable... Maintain single source of truth about database and keep as much as possible information in the source code\r\n- if you have no idea about column and table names in database you lack a lot of important things, some examples:\r\n    - you can&#39;t validate database state (no need to tell about `hibernate.hbm2ddl.auto=validate` - it&#39;s functionality is extremely limited)\r\n    - you can&#39;t translate database errors into user-friendly messages (how is it possible to convert something like  &quot;duplicate key value violates unique constraint &quot;UK_jymdjmt0g2vxkk0fp56xlhjud&quot; into &quot;user with name XXX already exists&quot;?)\r\n    - you can&#39;t determine maximum allowed length of text fields an precision of numeric fields\r\n- and finally, how am I supposed to write SQL-queries, migration scenarios, etc, if I have no idea about target column and table names?\r\n\r\nIII. the feature is broken\r\n\r\nLittle quiz:\r\n\r\n**Q**: what do you need to specify in `@Column` definition when `InheritanceType=JOINED`:\r\n\r\n```\r\n    /**\r\n     * (Optional) The name of the table that contains the column. \r\n     * If absent the column is assumed to be in the primary table.\r\n     */\r\n    String table() default &quot;&quot;;\r\n```\r\n\r\n**A**: `Hibernate` accepts both logical and physical table names.\r\n\r\n**Q**: what do you need to specify in `@Synchronize` annotation if you created a &quot;view&quot; and you would like to keep view state in sync with persistence context:\r\n\r\n```\r\n@Target(TYPE)\r\n@Retention(RUNTIME)\r\npublic @interface Synchronize {\r\n\t/**\r\n\t * Table names.\r\n\t */\r\n\tString[] value();\r\n}\r\n\r\n```\r\n\r\n**A**: [in **Hibernate 4** you was need to specify physical table names, in **Hibernate 5.1+** you need to specify logical table names](https://hibernate.atlassian.net/browse/HHH-10002)\r\n\r\n**Q**: you need to trigger a SQL procedure/update statement and you would like to keep its execution in sync with persistence context, what do you need to specify in [`org.hibernate.query.native.spaces` hint](https://hibernate.atlassian.net/browse/HHH-14325) (another one concept, which is described nowhere):\r\n\r\n```java\r\n\t/**\r\n\t * Hint for specifying query spaces to be applied to a NativeQuery.\r\n\t *\r\n\t * Passed value can be any of:&lt;ul&gt;\r\n\t *     &lt;li&gt;List of the spaces&lt;/li&gt;\r\n\t *     &lt;li&gt;array of the spaces&lt;/li&gt;\r\n\t *     &lt;li&gt;String as &quot;whitespace&quot;-separated list of the spaces&lt;/li&gt;\r\n\t * &lt;/ul&gt;\r\n\t *\r\n\t * Note that the passed space need not match any real spaces/tables in\r\n\t * the underlying query.  This can be used to completely circumvent\r\n\t * the auto-flush checks as well as any cache invalidation that might\r\n\t * occur as part of a flush.  See {@link org.hibernate.query.SynchronizeableQuery}\r\n\t * and {@link FlushMode#MANUAL} for more information.\r\n\t *\r\n\t * @see org.hibernate.query.SynchronizeableQuery\r\n\t * @see #HINT_FLUSH_MODE\r\n\t */\r\n\tString HINT_NATIVE_SPACES = &quot;org.hibernate.query.native.spaces&quot;;\r\n```\r\n\r\n**A**: you need to specify everything you might find feasible: physical table names, logical table names, entity names, cache region names, your mother maiden name, name of your first pet, etc. - nobody knows how to use that properly, Thorben Janssen, for example, believes [we need to pass class name there](https://thorben-janssen.com/hibernate-query-spaces/), `Hibernate` assumes that [query space is actually a physical table name](https://github.com/hibernate/hibernate-orm/blob/662594fd5f7f4c91de5ae11e7c81924c9915c0b1/hibernate-core/src/main/java/org/hibernate/query/sql/internal/NativeQueryImpl.java#L1193) (how is it possible to pass **Entity Class** as hint value using `@jakarta.persistence.QueryHint` annotation?) Even `Hibernate` project lead [has no idea about how to use that properly](https://stackoverflow.com/a/75192819/3426309):\r\n\r\n&gt; A logical name is a name used to within annotations of Java code and XML mapping documents\r\n\r\nIn case of `@jakarta.persistence.QueryHint` we need to use **physical table names**! Where is the logic???\r\n\r\n ","title":"Migration from NamingStrategy in Hibernate","body":"<p><strong>Short story</strong></p>\n<p>Stay clear of naming strategies in <code>Hibernate</code>, this feature is unstable, unreliable, unmaintainable and, furthermore, it increases technical debt (that is exactly what you actually get: <em>at this point NamingStrategy is deprecated and I'd like to transition to something that's still supported going forward</em>), moreover, even <code>Hibernate</code> team admits this feature is <a href=\"https://github.com/hibernate/hibernate-orm/blob/35f0c57f07a7e3510b07b6fd8b0f2f469fec1e38/hibernate-core/src/main/java/org/hibernate/boot/model/naming/PhysicalNamingStrategy.java#L43\" rel=\"nofollow noreferrer\">unstable</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Incubating\npublic interface PhysicalNamingStrategy {\n</code></pre>\n<p><a href=\"https://github.com/hibernate/hibernate-orm/blob/main/hibernate-core/src/main/java/org/hibernate/Incubating.java\" rel=\"nofollow noreferrer\">@Incubating</a>:</p>\n<blockquote>\n<p>Marks certain of packages, types, etc. as incubating, potentially recursively. Incubating indicates something that is still being actively developed and therefore may change at a later time; a &quot;tech preview&quot;.</p>\n</blockquote>\n<blockquote>\n<p>Users of these types and methods are considered early adopters who help shape the final definition of these types/methods, along with the needs of consumers.</p>\n</blockquote>\n<p>The best option is to place valid/actual <code>@Table</code> and <code>@Column</code> annotations over related entities/fields and close that technical debt - that is your responsibility, as a developer, to keep the code maintainable.</p>\n<p><code>Hibernate</code> team had unintentionally opened Pandora's box, and upcoming release 6.2 is a best candidate to close it, the only action  required is to replace <code>@Incubating</code> with <code>@Deprecated</code>.</p>\n<p><strong>Long story</strong></p>\n<p>I. naming strategies are not portable across JPA implementations, for example if you try to find how to implement the same in <code>eclipselink</code> you may find <a href=\"https://gist.github.com/ganeshs/c0deb77ffae33dee4555\" rel=\"nofollow noreferrer\">something like</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Override\n    public void customize(Session session) throws SQLException {\n        for (ClassDescriptor descriptor : session.getDescriptors().values()) {\n            // Only change the table name for non-embedable entities with no\n            // @Table already\n            if (!descriptor.getTables().isEmpty() &amp;&amp; descriptor.getAlias().equalsIgnoreCase(descriptor.getTableName())) {\n                String tableName = addUnderscores(descriptor.getTableName());\n                descriptor.setTableName(tableName);\n                for (IndexDefinition index : descriptor.getTables().get(0).getIndexes()) {\n                    index.setTargetTable(tableName);\n                }\n            }\n            for (DatabaseMapping mapping : descriptor.getMappings()) {\n                // Only change the column name for non-embedable entities with\n                // no @Column already\n\n                if (mapping instanceof AggregateObjectMapping) {\n                    for (Association association : ((AggregateObjectMapping) mapping).getAggregateToSourceFieldAssociations()) {\n                        DatabaseField field = (DatabaseField) association.getValue();\n                        field.setName(addUnderscores(field.getName()));\n                        \n                        for (DatabaseMapping attrMapping : session.getDescriptor(((AggregateObjectMapping) mapping).getReferenceClass()).getMappings()) {\n                            if (attrMapping.getAttributeName().equalsIgnoreCase((String) association.getKey())) {\n                                ((AggregateObjectMapping) mapping).addFieldTranslation(field, addUnderscores(attrMapping.getAttributeName()));\n                                ((AggregateObjectMapping) mapping).getAggregateToSourceFields().remove(association.getKey());\n                                break;\n                            }\n                        }\n                    }\n                } else if (mapping instanceof ObjectReferenceMapping) {\n                    for (DatabaseField foreignKey : ((ObjectReferenceMapping) mapping).getForeignKeyFields()) {\n                        foreignKey.setName(addUnderscores(foreignKey.getName()));\n                    }\n                } else if (mapping instanceof DirectMapMapping) {\n                    for (DatabaseField referenceKey : ((DirectMapMapping) mapping).getReferenceKeyFields()) {\n                        referenceKey.setName(addUnderscores(referenceKey.getName()));\n                    }\n                    for (DatabaseField sourceKey : ((DirectMapMapping) mapping).getSourceKeyFields()) {\n                        sourceKey.setName(addUnderscores(sourceKey.getName()));\n                    }\n                } else {\n                    DatabaseField field = mapping.getField();\n                    if (field != null &amp;&amp; !mapping.getAttributeName().isEmpty() &amp;&amp; field.getName().equalsIgnoreCase(mapping.getAttributeName())) {\n                        field.setName(addUnderscores(mapping.getAttributeName()));\n                    }\n                }\n            }\n        }\n    }\n</code></pre>\n<p>Sorry, but that is not kind of code I would like to maintain, on the other hand, I can definitely say that <code>eclipselink</code> is not <code>JPA</code> implementation I would like to deal with - the problem is it strictly follows <code>JPA</code> specification (<code>Hibernate</code> is definitely more flexible and extensible). However, you need to keep in mind that naming strategies applies globally, so, when you adopting third-party library or a plugin, based on <code>JPA</code>, you might get &quot;surprised&quot; that that library or plugin conflicts with your naming strategy.</p>\n<p>II. predictable names make sense:</p>\n<ul>\n<li>when you diagnose performance issues, DBAs typically tell you what queries are slow, after that you need somehow determine what code produces those slow queries (there we need to say &quot;thanks&quot; to <code>spring-data-jpa</code> for their naming convention), and that takes a time to match SQL query to JPQL query, and usage of naming strategies is not your friend there. If you think SQL queries do not make sense and you can collect performance statistics using <code>micrometer</code>/<code>grafana</code>, I have bad news for you: <a href=\"https://discourse.hibernate.org/t/performance-issues-when-enabling-micrometer-metrics/7035\" rel=\"nofollow noreferrer\">that does not work in Hibernate</a></li>\n<li>naming strategies somehow try to cover table and column names, but do not cover index names, which is actually important from performance perspective: try to guess what columns are covered by index with name like <code>UK_jymdjmt0g2vxkk0fp56xlhjud</code>. Need to ask DBA? OK, your code is unmaintainable... Maintain single source of truth about database and keep as much as possible information in the source code</li>\n<li>if you have no idea about column and table names in database you lack a lot of important things, some examples:\n<ul>\n<li>you can't validate database state (no need to tell about <code>hibernate.hbm2ddl.auto=validate</code> - it's functionality is extremely limited)</li>\n<li>you can't translate database errors into user-friendly messages (how is it possible to convert something like  &quot;duplicate key value violates unique constraint &quot;UK_jymdjmt0g2vxkk0fp56xlhjud&quot; into &quot;user with name XXX already exists&quot;?)</li>\n<li>you can't determine maximum allowed length of text fields an precision of numeric fields</li>\n</ul>\n</li>\n<li>and finally, how am I supposed to write SQL-queries, migration scenarios, etc, if I have no idea about target column and table names?</li>\n</ul>\n<p>III. the feature is broken</p>\n<p>Little quiz:</p>\n<p><strong>Q</strong>: what do you need to specify in <code>@Column</code> definition when <code>InheritanceType=JOINED</code>:</p>\n<pre><code>    /**\n     * (Optional) The name of the table that contains the column. \n     * If absent the column is assumed to be in the primary table.\n     */\n    String table() default &quot;&quot;;\n</code></pre>\n<p><strong>A</strong>: <code>Hibernate</code> accepts both logical and physical table names.</p>\n<p><strong>Q</strong>: what do you need to specify in <code>@Synchronize</code> annotation if you created a &quot;view&quot; and you would like to keep view state in sync with persistence context:</p>\n<pre><code>@Target(TYPE)\n@Retention(RUNTIME)\npublic @interface Synchronize {\n    /**\n     * Table names.\n     */\n    String[] value();\n}\n\n</code></pre>\n<p><strong>A</strong>: <a href=\"https://hibernate.atlassian.net/browse/HHH-10002\" rel=\"nofollow noreferrer\">in <strong>Hibernate 4</strong> you was need to specify physical table names, in <strong>Hibernate 5.1+</strong> you need to specify logical table names</a></p>\n<p><strong>Q</strong>: you need to trigger a SQL procedure/update statement and you would like to keep its execution in sync with persistence context, what do you need to specify in <a href=\"https://hibernate.atlassian.net/browse/HHH-14325\" rel=\"nofollow noreferrer\"><code>org.hibernate.query.native.spaces</code> hint</a> (another one concept, which is described nowhere):</p>\n<pre class=\"lang-java prettyprint-override\"><code>    /**\n     * Hint for specifying query spaces to be applied to a NativeQuery.\n     *\n     * Passed value can be any of:&lt;ul&gt;\n     *     &lt;li&gt;List of the spaces&lt;/li&gt;\n     *     &lt;li&gt;array of the spaces&lt;/li&gt;\n     *     &lt;li&gt;String as &quot;whitespace&quot;-separated list of the spaces&lt;/li&gt;\n     * &lt;/ul&gt;\n     *\n     * Note that the passed space need not match any real spaces/tables in\n     * the underlying query.  This can be used to completely circumvent\n     * the auto-flush checks as well as any cache invalidation that might\n     * occur as part of a flush.  See {@link org.hibernate.query.SynchronizeableQuery}\n     * and {@link FlushMode#MANUAL} for more information.\n     *\n     * @see org.hibernate.query.SynchronizeableQuery\n     * @see #HINT_FLUSH_MODE\n     */\n    String HINT_NATIVE_SPACES = &quot;org.hibernate.query.native.spaces&quot;;\n</code></pre>\n<p><strong>A</strong>: you need to specify everything you might find feasible: physical table names, logical table names, entity names, cache region names, your mother maiden name, name of your first pet, etc. - nobody knows how to use that properly, Thorben Janssen, for example, believes <a href=\"https://thorben-janssen.com/hibernate-query-spaces/\" rel=\"nofollow noreferrer\">we need to pass class name there</a>, <code>Hibernate</code> assumes that <a href=\"https://github.com/hibernate/hibernate-orm/blob/662594fd5f7f4c91de5ae11e7c81924c9915c0b1/hibernate-core/src/main/java/org/hibernate/query/sql/internal/NativeQueryImpl.java#L1193\" rel=\"nofollow noreferrer\">query space is actually a physical table name</a> (how is it possible to pass <strong>Entity Class</strong> as hint value using <code>@jakarta.persistence.QueryHint</code> annotation?) Even <code>Hibernate</code> project lead <a href=\"https://stackoverflow.com/a/75192819/3426309\">has no idea about how to use that properly</a>:</p>\n<blockquote>\n<p>A logical name is a name used to within annotations of Java code and XML mapping documents</p>\n</blockquote>\n<p>In case of <code>@jakarta.persistence.QueryHint</code> we need to use <strong>physical table names</strong>! Where is the logic???</p>\n"}],"owner":{"account_id":16828038,"reputation":119,"user_id":12166780,"display_name":"quarkpt"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1071,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1674450306,"creation_date":1674263351,"question_id":75190593,"body_markdown":"I&#39;m working on a Java project that was started many years ago, and all of the original developers are long gone. One of the classes I inherited is an implementation of the Hibernate NamingStrategy interface. \r\n\r\nAt this point NamingStrategy is deprecated and I&#39;d like to transition to something that&#39;s still supported going forward. Unfortunately, I can&#39;t figure out how to do this. I&#39;ve seen two families of suggestions on the topic: most people online recommend the use of ImplicitNamingStrategy and PhysicalNamingStrategy, while the Hibernate Javadocs recommend the use of NamingStrategyDelegator. \r\n\r\nIn both cases, the information available to an unsophisticated Hibernate user is not sufficient to understand how to do the migration. Just as an example: NamingStrategy has 10 methods, each of which takes String arguments. PhysicalNamingStrategy has 5 methods, none of which takes a String argument. \r\n\r\nCan anyone assist me in figuring out how to address this safely? In case it helps, I attach our NamingStrategy implementation below. \r\n\r\n```\r\npackage gov.nasa.ziggy.services.database;\r\n\r\nimport javax.persistence.Column;\r\nimport javax.persistence.Table;\r\n\r\nimport org.hibernate.AssertionFailure;\r\nimport org.hibernate.cfg.NamingStrategy;\r\nimport org.hibernate.internal.util.StringHelper;\r\n\r\nimport gov.nasa.ziggy.util.StringUtils;\r\nimport gov.nasa.ziggy.util.StringUtils.TextCase;\r\n\r\n/**\r\n * This class implements {@link org.hibernate.cfg.NamingStrategy} for the database naming\r\n * conventions defined for the Ziggy project. Essentially, this consists of converting the Java\r\n * camel-case names to an all-caps with underscores format.\r\n * &lt;p&gt;\r\n * This code is based on {@link org.hibernate.cfg.ImprovedNamingStrategy}, the main difference being\r\n * that names that are explicitly defined in the code annotations (like {@link Table},\r\n * {@link Column}, etc.) are not modified.\r\n *\r\n */\r\npublic class ZiggyNamingStrategy implements NamingStrategy {\r\n    /**\r\n     * A convenient singleton instance\r\n     */\r\n    public static final NamingStrategy INSTANCE = new ZiggyNamingStrategy();\r\n\r\n    /**\r\n     * Return the unqualified class name, mixed case converted to underscores\r\n     */\r\n    @Override\r\n    public String classToTableName(String className) {\r\n        return addUnderscores(StringHelper.unqualify(className));\r\n    }\r\n\r\n    /**\r\n     * Return the full property path with underscore seperators, mixed case converted to underscores\r\n     */\r\n    @Override\r\n    public String propertyToColumnName(String propertyName) {\r\n        return addUnderscores(StringHelper.unqualify(propertyName));\r\n    }\r\n\r\n    /**\r\n     * This method is called for names explicitly defined in the annotations. Leave the name alone!\r\n     */\r\n    @Override\r\n    public String tableName(String tableName) {\r\n        return tableName;\r\n    }\r\n\r\n    /**\r\n     * This method is called for names explicitly defined in the annotations. Leave the name alone!\r\n     */\r\n    @Override\r\n    public String columnName(String columnName) {\r\n        return columnName;\r\n    }\r\n\r\n    @Override\r\n    public String collectionTableName(String ownerEntity, String ownerEntityTable,\r\n        String associatedEntity, String associatedEntityTable, String propertyName) {\r\n        String s = tableName(ownerEntityTable + &#39;_&#39; + propertyToColumnName(propertyName));\r\n        System.out.println(&quot;collection table name &quot; + s);\r\n        return s;\r\n    }\r\n\r\n    /**\r\n     * Return the argument\r\n     */\r\n    @Override\r\n    public String joinKeyColumnName(String joinedColumn, String joinedTable) {\r\n        String s = addUnderscores(joinedTable) + &quot;_&quot; + addUnderscores(joinedColumn);\r\n        System.out.println(&quot;joinkey column name &quot; + s);\r\n        return s;\r\n    }\r\n\r\n    /**\r\n     * Return the property name or propertyTableName\r\n     */\r\n    @Override\r\n    public String foreignKeyColumnName(String propertyName, String propertyEntityName,\r\n        String propertyTableName, String referencedColumnName) {\r\n        String header = propertyName != null ? StringHelper.unqualify(propertyName)\r\n            : propertyTableName;\r\n        if (header == null) {\r\n            throw new AssertionFailure(&quot;NamingStrategy not properly filled&quot;);\r\n        }\r\n        String s = addUnderscores(propertyTableName) + &quot;_&quot; + addUnderscores(referencedColumnName);\r\n        if (s.equals(&quot;PI_PS_NAME_NAME&quot;)) {\r\n            System.out.println(&quot;foreign key column name &quot; + s);\r\n        }\r\n        return s;\r\n    }\r\n\r\n    /**\r\n     * Return the column name or the unqualified property name\r\n     */\r\n    @Override\r\n    public String logicalColumnName(String columnName, String propertyName) {\r\n        String s = StringHelper.isNotEmpty(columnName) ? columnName\r\n            : StringHelper.unqualify(propertyName);\r\n        if (columnName == null) {\r\n            System.out\r\n                .println(&quot;logical column name &quot; + columnName + &quot;  &quot; + propertyName + &quot;  &quot; + s);\r\n        }\r\n        return s;\r\n    }\r\n\r\n    /**\r\n     * Returns either the table name if explicit or if there is an associated table, the\r\n     * concatenation of owner entity table and associated table otherwise the concatenation of owner\r\n     * entity table and the unqualified property name\r\n     */\r\n    @Override\r\n    public String logicalCollectionTableName(String tableName, String ownerEntityTable,\r\n        String associatedEntityTable, String propertyName) {\r\n        if (tableName != null) {\r\n            return tableName;\r\n        }\r\n        // use of a stringbuffer to workaround a JDK bug\r\n        String s = new StringBuffer(ownerEntityTable).append(&quot;_&quot;)\r\n            .append(associatedEntityTable != null ? associatedEntityTable\r\n                : StringHelper.unqualify(propertyName))\r\n            .toString();\r\n        System.out.println(&quot;logical collection table name &quot; + s);\r\n        return s;\r\n    }\r\n\r\n    /**\r\n     * Return the column name if explicit or the concatenation of the property name and the\r\n     * referenced column\r\n     */\r\n    @Override\r\n    public String logicalCollectionColumnName(String columnName, String propertyName,\r\n        String referencedColumn) {\r\n        String s = StringHelper.isNotEmpty(columnName) ? columnName\r\n            : StringHelper.unqualify(propertyName) + &quot;_&quot; + referencedColumn;\r\n        if (!s.equals(columnName)) {\r\n            System.out.println(&quot;logical collection column name &quot; + columnName + &quot;  &quot; + propertyName\r\n                + &quot;  &quot; + referencedColumn + &quot;  &quot; + s);\r\n        }\r\n        return s;\r\n    }\r\n\r\n    protected String addUnderscores(String original) {\r\n        return StringUtils.camelCaseToUnderscores(original, TextCase.UPPER);\r\n    }\r\n\r\n}\r\n```","title":"Migration from NamingStrategy in Hibernate","body":"<p>I'm working on a Java project that was started many years ago, and all of the original developers are long gone. One of the classes I inherited is an implementation of the Hibernate NamingStrategy interface.</p>\n<p>At this point NamingStrategy is deprecated and I'd like to transition to something that's still supported going forward. Unfortunately, I can't figure out how to do this. I've seen two families of suggestions on the topic: most people online recommend the use of ImplicitNamingStrategy and PhysicalNamingStrategy, while the Hibernate Javadocs recommend the use of NamingStrategyDelegator.</p>\n<p>In both cases, the information available to an unsophisticated Hibernate user is not sufficient to understand how to do the migration. Just as an example: NamingStrategy has 10 methods, each of which takes String arguments. PhysicalNamingStrategy has 5 methods, none of which takes a String argument.</p>\n<p>Can anyone assist me in figuring out how to address this safely? In case it helps, I attach our NamingStrategy implementation below.</p>\n<pre><code>package gov.nasa.ziggy.services.database;\n\nimport javax.persistence.Column;\nimport javax.persistence.Table;\n\nimport org.hibernate.AssertionFailure;\nimport org.hibernate.cfg.NamingStrategy;\nimport org.hibernate.internal.util.StringHelper;\n\nimport gov.nasa.ziggy.util.StringUtils;\nimport gov.nasa.ziggy.util.StringUtils.TextCase;\n\n/**\n * This class implements {@link org.hibernate.cfg.NamingStrategy} for the database naming\n * conventions defined for the Ziggy project. Essentially, this consists of converting the Java\n * camel-case names to an all-caps with underscores format.\n * &lt;p&gt;\n * This code is based on {@link org.hibernate.cfg.ImprovedNamingStrategy}, the main difference being\n * that names that are explicitly defined in the code annotations (like {@link Table},\n * {@link Column}, etc.) are not modified.\n *\n */\npublic class ZiggyNamingStrategy implements NamingStrategy {\n    /**\n     * A convenient singleton instance\n     */\n    public static final NamingStrategy INSTANCE = new ZiggyNamingStrategy();\n\n    /**\n     * Return the unqualified class name, mixed case converted to underscores\n     */\n    @Override\n    public String classToTableName(String className) {\n        return addUnderscores(StringHelper.unqualify(className));\n    }\n\n    /**\n     * Return the full property path with underscore seperators, mixed case converted to underscores\n     */\n    @Override\n    public String propertyToColumnName(String propertyName) {\n        return addUnderscores(StringHelper.unqualify(propertyName));\n    }\n\n    /**\n     * This method is called for names explicitly defined in the annotations. Leave the name alone!\n     */\n    @Override\n    public String tableName(String tableName) {\n        return tableName;\n    }\n\n    /**\n     * This method is called for names explicitly defined in the annotations. Leave the name alone!\n     */\n    @Override\n    public String columnName(String columnName) {\n        return columnName;\n    }\n\n    @Override\n    public String collectionTableName(String ownerEntity, String ownerEntityTable,\n        String associatedEntity, String associatedEntityTable, String propertyName) {\n        String s = tableName(ownerEntityTable + '_' + propertyToColumnName(propertyName));\n        System.out.println(&quot;collection table name &quot; + s);\n        return s;\n    }\n\n    /**\n     * Return the argument\n     */\n    @Override\n    public String joinKeyColumnName(String joinedColumn, String joinedTable) {\n        String s = addUnderscores(joinedTable) + &quot;_&quot; + addUnderscores(joinedColumn);\n        System.out.println(&quot;joinkey column name &quot; + s);\n        return s;\n    }\n\n    /**\n     * Return the property name or propertyTableName\n     */\n    @Override\n    public String foreignKeyColumnName(String propertyName, String propertyEntityName,\n        String propertyTableName, String referencedColumnName) {\n        String header = propertyName != null ? StringHelper.unqualify(propertyName)\n            : propertyTableName;\n        if (header == null) {\n            throw new AssertionFailure(&quot;NamingStrategy not properly filled&quot;);\n        }\n        String s = addUnderscores(propertyTableName) + &quot;_&quot; + addUnderscores(referencedColumnName);\n        if (s.equals(&quot;PI_PS_NAME_NAME&quot;)) {\n            System.out.println(&quot;foreign key column name &quot; + s);\n        }\n        return s;\n    }\n\n    /**\n     * Return the column name or the unqualified property name\n     */\n    @Override\n    public String logicalColumnName(String columnName, String propertyName) {\n        String s = StringHelper.isNotEmpty(columnName) ? columnName\n            : StringHelper.unqualify(propertyName);\n        if (columnName == null) {\n            System.out\n                .println(&quot;logical column name &quot; + columnName + &quot;  &quot; + propertyName + &quot;  &quot; + s);\n        }\n        return s;\n    }\n\n    /**\n     * Returns either the table name if explicit or if there is an associated table, the\n     * concatenation of owner entity table and associated table otherwise the concatenation of owner\n     * entity table and the unqualified property name\n     */\n    @Override\n    public String logicalCollectionTableName(String tableName, String ownerEntityTable,\n        String associatedEntityTable, String propertyName) {\n        if (tableName != null) {\n            return tableName;\n        }\n        // use of a stringbuffer to workaround a JDK bug\n        String s = new StringBuffer(ownerEntityTable).append(&quot;_&quot;)\n            .append(associatedEntityTable != null ? associatedEntityTable\n                : StringHelper.unqualify(propertyName))\n            .toString();\n        System.out.println(&quot;logical collection table name &quot; + s);\n        return s;\n    }\n\n    /**\n     * Return the column name if explicit or the concatenation of the property name and the\n     * referenced column\n     */\n    @Override\n    public String logicalCollectionColumnName(String columnName, String propertyName,\n        String referencedColumn) {\n        String s = StringHelper.isNotEmpty(columnName) ? columnName\n            : StringHelper.unqualify(propertyName) + &quot;_&quot; + referencedColumn;\n        if (!s.equals(columnName)) {\n            System.out.println(&quot;logical collection column name &quot; + columnName + &quot;  &quot; + propertyName\n                + &quot;  &quot; + referencedColumn + &quot;  &quot; + s);\n        }\n        return s;\n    }\n\n    protected String addUnderscores(String original) {\n        return StringUtils.camelCaseToUnderscores(original, TextCase.UPPER);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1674484455,"post_id":75205757,"comment_id":132717730,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":25673529,"reputation":1,"user_id":19437370,"display_name":"CanhMai"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674449589,"creation_date":1674449437,"question_id":75205757,"body_markdown":"I want a head-up notification pops up on my activity  but hide it in statusbar and notification drawer\r\n\r\n\r\nis it possiblle?                                    ","title":"How to show head-up notification but hide it in notification drawer and statusbar?","body":"<p>I want a head-up notification pops up on my activity  but hide it in statusbar and notification drawer</p>\n<p>is it possiblle?</p>\n"},{"tags":["java","authentication","keycloak","userinfo"],"owner":{"account_id":14285405,"reputation":140,"user_id":10318865,"display_name":"Muhammad Haseeb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674449399,"creation_date":1674377748,"question_id":75199206,"body_markdown":"I&#39;m new to keycloak I have created custom SPI for authenticating users, i want to save user info in keycloak db after successful authentication.\r\n\r\nI have gone through the documentation and there I found that using this interface \r\n[org.keycloak.storage.user.UserRegistrationProvider](https://github.com/keycloak/keycloak/blob/main/server-spi/src/main/java/org/keycloak/storage/user/UserRegistrationProvider.java) we can register new user, In my case I need to update user info in keycloak db after user is authenticated.\r\n\r\nHere&#39;s my code \r\n\r\n```\r\npublic void authenticate(AuthenticationFlowContext context) {\r\n \r\n boolean  isValidToken= false;\r\n            try {\r\n                isValidToken = validateToken(jwsObject, context.getAuthenticatorConfig());\r\n\t\t\t\t } catch (Exception e) {\r\n                log.info(&quot;validate Token error&quot;,e);\r\n                context.attempted();\r\n            }\r\n\t\t\t\r\n\t\t\tif (username != null) {\r\n                    UserModel user = KeycloakModelUtils.findUserByNameOrEmail(session,\r\n                            session.getContext().getRealm(), username);\r\n\r\n                    if (user == null) {\r\n                        log.info(&quot;No user with provided username&quot;);\r\n                        context.attempted();\r\n                    } else if (!user.isEnabled()) {\r\n                        log.info(&quot;User is disabled&quot;);\r\n                        context.attempted();\r\n                    } else {\r\n                        log.info(&quot;Successfully authenticated the user&quot;);\r\n\t\t\t\t\t\t\r\n\t\t\t// here i want to save some info in Keycloak fb\r\n\t\t\t\t\t\t\r\n                        context.setUser(user);\r\n                        context.success();\r\n                    }\r\n                }\r\n }\r\n```\r\n\r\nplease suggest or refer some code or material that can help in saving info in keycloak db","title":"Store/Save Authenticated user info in keycloak db after authentication","body":"<p>I'm new to keycloak I have created custom SPI for authenticating users, i want to save user info in keycloak db after successful authentication.</p>\n<p>I have gone through the documentation and there I found that using this interface\n<a href=\"https://github.com/keycloak/keycloak/blob/main/server-spi/src/main/java/org/keycloak/storage/user/UserRegistrationProvider.java\" rel=\"nofollow noreferrer\">org.keycloak.storage.user.UserRegistrationProvider</a> we can register new user, In my case I need to update user info in keycloak db after user is authenticated.</p>\n<p>Here's my code</p>\n<pre><code>public void authenticate(AuthenticationFlowContext context) {\n \n boolean  isValidToken= false;\n            try {\n                isValidToken = validateToken(jwsObject, context.getAuthenticatorConfig());\n                 } catch (Exception e) {\n                log.info(&quot;validate Token error&quot;,e);\n                context.attempted();\n            }\n            \n            if (username != null) {\n                    UserModel user = KeycloakModelUtils.findUserByNameOrEmail(session,\n                            session.getContext().getRealm(), username);\n\n                    if (user == null) {\n                        log.info(&quot;No user with provided username&quot;);\n                        context.attempted();\n                    } else if (!user.isEnabled()) {\n                        log.info(&quot;User is disabled&quot;);\n                        context.attempted();\n                    } else {\n                        log.info(&quot;Successfully authenticated the user&quot;);\n                        \n            // here i want to save some info in Keycloak fb\n                        \n                        context.setUser(user);\n                        context.success();\n                    }\n                }\n }\n</code></pre>\n<p>please suggest or refer some code or material that can help in saving info in keycloak db</p>\n"},{"tags":["java","arrays","tostring"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1674443165,"post_id":75205380,"comment_id":132708417,"body_markdown":"Add this at the bottom of the outer loop: `if (i &gt; 0) result.append(&quot;\\n\\n&quot;);`","body":"Add this at the bottom of the outer loop: <code>if (i &gt; 0) result.append(&quot;\\n\\n&quot;);</code>"},{"owner":{"account_id":27299407,"reputation":1,"user_id":20816487,"display_name":"Jimmy"},"score":0,"creation_date":1674443270,"post_id":75205380,"comment_id":132708428,"body_markdown":"would this go where I said it should?","body":"would this go where I said it should?"},{"owner":{"account_id":27299407,"reputation":1,"user_id":20816487,"display_name":"Jimmy"},"score":0,"creation_date":1674443630,"post_id":75205380,"comment_id":132708457,"body_markdown":"this does not work becasue this is saying that if the row is not zero then add a \\n\\n but it should also work if lets say the column changes, or the first thing printed is not in the row 0","body":"this does not work becasue this is saying that if the row is not zero then add a \\n\\n but it should also work if lets say the column changes, or the first thing printed is not in the row 0"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1674446501,"post_id":75205380,"comment_id":132708672,"body_markdown":"Why not just add `\\n\\n` in front of &quot;row&quot; ?  `result.append(&quot;\\n\\nRow &quot; + i + &quot; Col &quot; + j + &quot;\\n&quot;);` ?  What am I missing?","body":"Why not just add <code>\\n\\n</code> in front of &quot;row&quot; ?  <code>result.append(&quot;\\n\\nRow &quot; + i + &quot; Col &quot; + j + &quot;\\n&quot;);</code> ?  What am I missing?"},{"owner":{"account_id":27299407,"reputation":1,"user_id":20816487,"display_name":"Jimmy"},"score":0,"creation_date":1674447453,"post_id":75205380,"comment_id":132708779,"body_markdown":"the test class wants there to only be \\n\\n only if you there is information after and it doesn&#39;t want there to be a \\n\\n for the first lines","body":"the test class wants there to only be \\n\\n only if you there is information after and it doesn&#39;t want there to be a \\n\\n for the first lines"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1674518370,"post_id":75205380,"comment_id":132727307,"body_markdown":"If you don&#39;t want the extra &quot;\\n\\n&quot; at the beginning of the `String` returned, they are [easily removed](https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/StringBuilder.html#delete(int,int)), just before `return result.toString()`;. You could also try return `result.substring (2);`.","body":"If you don&#39;t want the extra &quot;\\n\\n&quot; at the beginning of the <code>String</code> returned, they are <a href=\"https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/StringBuilder.html#delete(int,int)\" rel=\"nofollow noreferrer\">easily removed</a>, just before <code>return result.toString()</code>;. You could also try return <code>result.substring (2);</code>."}],"answers":[{"tags":[],"owner":{"account_id":27299407,"reputation":1,"user_id":20816487,"display_name":"Jimmy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674448955,"creation_date":1674448955,"answer_id":75205720,"question_id":75205380,"body_markdown":"So this answer relies on another method named consolidate which was apparently wrong, so the correct answer is as follows:\r\n\r\n     public void consolidate () {\r\n        List&lt;Vial&gt; vials = new ArrayList&lt;&gt;();\r\n\r\n        for (int r = 0; r &lt; this.rack.length; r++) {\r\n            for (int c = 0; c &lt; this.rack[r].length; c++) {\r\n                Vial v = this.rack[r][c];\r\n\r\n                if (v != null) {\r\n                    vials.add(v);\r\n                    this.rack[r][c] = null;\r\n                }\r\n            }\r\n        }\r\n\r\n        int r = 0;\r\n        int c = 0;\r\n\r\n        while (vials.size() &gt; 0) {\r\n            this.rack[r][c] = vials.remove(0);\r\n            c++;\r\n            r += c / this.rack[r].length;\r\n            c %= this.rack[r].length;\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public String toString () {\r\n        String str = &quot;&quot;;\r\n\r\n        for (int r = 0; r &lt; this.rack.length; r++) {\r\n            for (int c = 0; c &lt; this.rack[r].length; c++) {\r\n                Vial v = this.rack[r][c];\r\n\r\n                if (v != null) {\r\n                    System.out.printf(&quot;Row %d Col %d\\n&quot;, r, c);\r\n                    str += String.format(&quot;Row %d Col %d\\n&quot;, r, c);\r\n                    str += v.toString();\r\n                    str += &quot;\\n\\n&quot;;\r\n                }\r\n            }\r\n        }\r\n\r\n        return str.trim();\r\n    }\r\n","title":"how to add a second return character after you run a toString method","body":"<p>So this answer relies on another method named consolidate which was apparently wrong, so the correct answer is as follows:</p>\n<pre><code> public void consolidate () {\n    List&lt;Vial&gt; vials = new ArrayList&lt;&gt;();\n\n    for (int r = 0; r &lt; this.rack.length; r++) {\n        for (int c = 0; c &lt; this.rack[r].length; c++) {\n            Vial v = this.rack[r][c];\n\n            if (v != null) {\n                vials.add(v);\n                this.rack[r][c] = null;\n            }\n        }\n    }\n\n    int r = 0;\n    int c = 0;\n\n    while (vials.size() &gt; 0) {\n        this.rack[r][c] = vials.remove(0);\n        c++;\n        r += c / this.rack[r].length;\n        c %= this.rack[r].length;\n    }\n}\n\n@Override\npublic String toString () {\n    String str = &quot;&quot;;\n\n    for (int r = 0; r &lt; this.rack.length; r++) {\n        for (int c = 0; c &lt; this.rack[r].length; c++) {\n            Vial v = this.rack[r][c];\n\n            if (v != null) {\n                System.out.printf(&quot;Row %d Col %d\\n&quot;, r, c);\n                str += String.format(&quot;Row %d Col %d\\n&quot;, r, c);\n                str += v.toString();\n                str += &quot;\\n\\n&quot;;\n            }\n        }\n    }\n\n    return str.trim();\n}\n</code></pre>\n"}],"owner":{"account_id":27299407,"reputation":1,"user_id":20816487,"display_name":"Jimmy"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75205720,"answer_count":1,"score":0,"last_activity_date":1674448955,"creation_date":1674442853,"question_id":75205380,"body_markdown":"I am doing a 3 part lab that requires me to write a toString method as one of the requirments. The to String method returns something like this when called:\r\n\r\n    Row 0 Col 0 \r\n    30.5 grams of ice \r\n    42.3 grams of sulfur \r\n    0.6 grams of silver \r\n     \r\n    Row 3 Col 5 \r\n    21.0 grams of water \r\n     \r\n    Row 3 Col 7 \r\n    45.2 grams of water \r\n    31.2 grams of elixir \r\n\r\nMy problem is not getting the information from the toString method, my issue is that I don&#39;t know how to add another return charachter between one Row and Column and another. For example, between .6 grams of silver and Ro 3 Col 5.\r\n\r\n\r\n\r\n    public String toString() {\r\n        StringBuilder result = new StringBuilder();\r\n        for (int i = 0; i &lt; rows; i++) {\r\n            for (int j = 0; j &lt; cols; j++) {\r\n                Vial vial = rack[i][j];\r\n                if (vial != null) {\r\n                    result.append(&quot;Row &quot; + i + &quot; Col &quot; + j + &quot;\\n&quot;);\r\n                    result.append(vial.toString());\r\n                }\r\n            }\r\n        }\r\n        return result.toString();\r\n    }\r\n\r\nthis is my current method and when I run it against the test I get this failure:\r\n\r\n    Row 0 Col 0\r\n    45.2 grams of sulfur\r\n    10.1 grams of lead\r\n    30.0 grams of ice\r\n    4.6 grams of elixirRow 1 Col 5\r\n    30.0 grams of ice\r\n\r\nwhen it should look like this:\r\n\r\n    Row 0 Col 0\r\n    45.2 grams of sulfur\r\n    10.1 grams of lead\r\n    30.0 grams of ice\r\n    4.6 grams of elixir\r\n    \r\n    Row 1 Col 5\r\n    30.0 grams of ice\r\n\r\n\r\nI believe that this could be solved by an if statment but I am not sure what the parameters would be, I also think that it would make the most sense for the if statment(assuming it is correct to have one) to go after this line in my code  \r\n\r\n    result.append(&quot;Row &quot; + i + &quot; Col &quot; + j + &quot;\\n&quot;);                  \r\n    result.append(vial.toString());\r\n\r\nI have to put something here\r\n\r\n","title":"how to add a second return character after you run a toString method","body":"<p>I am doing a 3 part lab that requires me to write a toString method as one of the requirments. The to String method returns something like this when called:</p>\n<pre><code>Row 0 Col 0 \n30.5 grams of ice \n42.3 grams of sulfur \n0.6 grams of silver \n \nRow 3 Col 5 \n21.0 grams of water \n \nRow 3 Col 7 \n45.2 grams of water \n31.2 grams of elixir \n</code></pre>\n<p>My problem is not getting the information from the toString method, my issue is that I don't know how to add another return charachter between one Row and Column and another. For example, between .6 grams of silver and Ro 3 Col 5.</p>\n<pre><code>public String toString() {\n    StringBuilder result = new StringBuilder();\n    for (int i = 0; i &lt; rows; i++) {\n        for (int j = 0; j &lt; cols; j++) {\n            Vial vial = rack[i][j];\n            if (vial != null) {\n                result.append(&quot;Row &quot; + i + &quot; Col &quot; + j + &quot;\\n&quot;);\n                result.append(vial.toString());\n            }\n        }\n    }\n    return result.toString();\n}\n</code></pre>\n<p>this is my current method and when I run it against the test I get this failure:</p>\n<pre><code>Row 0 Col 0\n45.2 grams of sulfur\n10.1 grams of lead\n30.0 grams of ice\n4.6 grams of elixirRow 1 Col 5\n30.0 grams of ice\n</code></pre>\n<p>when it should look like this:</p>\n<pre><code>Row 0 Col 0\n45.2 grams of sulfur\n10.1 grams of lead\n30.0 grams of ice\n4.6 grams of elixir\n\nRow 1 Col 5\n30.0 grams of ice\n</code></pre>\n<p>I believe that this could be solved by an if statment but I am not sure what the parameters would be, I also think that it would make the most sense for the if statment(assuming it is correct to have one) to go after this line in my code</p>\n<pre><code>result.append(&quot;Row &quot; + i + &quot; Col &quot; + j + &quot;\\n&quot;);                  \nresult.append(vial.toString());\n</code></pre>\n<p>I have to put something here</p>\n"},{"tags":["java","selenium","selenium-webdriver","automated-tests","selenium-grid"],"comments":[{"owner":{"account_id":10299692,"reputation":5744,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"score":0,"creation_date":1674226233,"post_id":75172346,"comment_id":132675363,"body_markdown":"Try the answer in below link, if this helps: https://stackoverflow.com/a/32046501/7598774","body":"Try the answer in below link, if this helps: <a href=\"https://stackoverflow.com/a/32046501/7598774\">stackoverflow.com/a/32046501/7598774</a>"}],"answers":[{"comments":[{"owner":{"account_id":20239868,"reputation":1,"user_id":14844013,"display_name":"RUSHI PRAJAPATI"},"score":0,"creation_date":1675164169,"post_id":75205711,"comment_id":132865174,"body_markdown":"Actually the problem is, the execution is happening on selenium node system and file gets downloaded there","body":"Actually the problem is, the execution is happening on selenium node system and file gets downloaded there"}],"tags":[],"owner":{"account_id":7588042,"reputation":68,"user_id":5756499,"display_name":"Uditha Dissanayake"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674448721,"creation_date":1674448721,"answer_id":75205711,"question_id":75172346,"body_markdown":" 1. Before and after download check file&#39;s modified date\r\n 2. Another way is to check the file path where the file is getting downloaded. \r\n\r\nYou can use the os module in Node.js to get the current user&#39;s home directory after that append the path to the download location &lt;br/&gt;\r\n(e.g. &quot;Downloads&quot; on Windows and Mac, &quot;~/Downloads&quot; on Linux).","title":"how can I verify a file downloaded from chrome browser running on selenium node system","body":"<ol>\n<li>Before and after download check file's modified date</li>\n<li>Another way is to check the file path where the file is getting downloaded.</li>\n</ol>\n<p>You can use the os module in Node.js to get the current user's home directory after that append the path to the download location <br/>\n(e.g. &quot;Downloads&quot; on Windows and Mac, &quot;~/Downloads&quot; on Linux).</p>\n"}],"owner":{"account_id":20239868,"reputation":1,"user_id":14844013,"display_name":"RUSHI PRAJAPATI"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":195,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674448721,"creation_date":1674131788,"question_id":75172346,"body_markdown":"Want to verify that the file is getting downloaded in actual or not not just success message pop-up validation\r\n\r\nI considered using `file.exist()` in my code but that checks locally wher my code is being executed. Also I considered opening default Download location in browser and get page source and do check contains but with that aproach I stuck with getting the node system&#39;s username (without it i can define the exact path to open in browser e.g. `C://Users/&lt;username&gt;/Downloads`. Also tried opening `chrome://downloads` in browser but downloading source from there doesn&#39;t contain file name :(\r\n\r\nis there any in general way to access system files of node system etc.","title":"how can I verify a file downloaded from chrome browser running on selenium node system","body":"<p>Want to verify that the file is getting downloaded in actual or not not just success message pop-up validation</p>\n<p>I considered using <code>file.exist()</code> in my code but that checks locally wher my code is being executed. Also I considered opening default Download location in browser and get page source and do check contains but with that aproach I stuck with getting the node system's username (without it i can define the exact path to open in browser e.g. <code>C://Users/&lt;username&gt;/Downloads</code>. Also tried opening <code>chrome://downloads</code> in browser but downloading source from there doesn't contain file name :(</p>\n<p>is there any in general way to access system files of node system etc.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1674435801,"post_id":75204965,"comment_id":132707759,"body_markdown":"Look at the javadocs for `println`","body":"Look at the javadocs for <code>println</code>"},{"owner":{"account_id":27512834,"reputation":3,"user_id":20994398,"display_name":"Abdullah Malik"},"score":0,"creation_date":1674436380,"post_id":75204965,"comment_id":132707796,"body_markdown":"I fixed the issue on the vertical printing. Do you have a suggestion on how to print the asteriks for values like 3.2 because I inputed this value and this gave me 4 asteriks.","body":"I fixed the issue on the vertical printing. Do you have a suggestion on how to print the asteriks for values like 3.2 because I inputed this value and this gave me 4 asteriks."},{"owner":{"account_id":4099822,"reputation":1256,"user_id":3365667,"display_name":"Roslan Amir"},"score":0,"creation_date":1674440573,"post_id":75204965,"comment_id":132708171,"body_markdown":"There&#39;s a difference between `println` and `print`.","body":"There&#39;s a difference between <code>println</code> and <code>print</code>."},{"owner":{"account_id":27512834,"reputation":3,"user_id":20994398,"display_name":"Abdullah Malik"},"score":0,"creation_date":1674441637,"post_id":75204965,"comment_id":132708275,"body_markdown":"Ya, I realized. Thank you. I also fixed my entire code so my output is correct. I would take other suggestion to way to do the histogram as well.","body":"Ya, I realized. Thank you. I also fixed my entire code so my output is correct. I would take other suggestion to way to do the histogram as well."},{"owner":{"account_id":27512834,"reputation":3,"user_id":20994398,"display_name":"Abdullah Malik"},"score":0,"creation_date":1674441764,"post_id":75204965,"comment_id":132708291,"body_markdown":"How do i format in a comment? My code ended up line by line by line.","body":"How do i format in a comment? My code ended up line by line by line."},{"owner":{"account_id":18740842,"reputation":3833,"user_id":13664137,"display_name":"moken"},"score":0,"creation_date":1674474867,"post_id":75204965,"comment_id":132714474,"body_markdown":"@Abdullah Malik You don&#39;t. If you are updating information for your question then edit and add to/modify your question. Do not add as [a] comments.","body":"@Abdullah Malik You don&#39;t. If you are updating information for your question then edit and add to/modify your question. Do not add as [a] comments."}],"answers":[{"tags":[],"owner":{"account_id":27512834,"reputation":3,"user_id":20994398,"display_name":"Abdullah Malik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674445590,"creation_date":1674445590,"answer_id":75205521,"question_id":75204965,"body_markdown":"Solved code: \r\n\r\n\tpublic void histogram( double num)\r\n    {\r\n    \r\n\r\n    double getNum = num * 10;\r\n    double getsecondNum = getNum % 10;\r\n    \r\n    int i = 1;\r\n    int k = 0;\r\n    \r\n    while (i &lt;= num)\r\n    {\r\n        if (getsecondNum &lt; 5)\r\n        {\r\n            System.out.print(&quot;*&quot;);\r\n        }\r\n        i++;\r\n        \r\n    }\r\n    \r\n    while (k &lt;= num) \r\n    {\r\n        if (getsecondNum &gt;= 5)\r\n        {\r\n            System.out.print(&quot;*&quot;);\r\n        }\r\n        k++;\r\n    }\r\n    System.out.print(&quot; &quot; + num);\r\n    }\r\n    }\r\n\r\n","title":"Why is the while loop giving me a vertical column of lines instead of a horizontal one?","body":"<p>Solved code:</p>\n<pre><code>public void histogram( double num)\n{\n\n\ndouble getNum = num * 10;\ndouble getsecondNum = getNum % 10;\n\nint i = 1;\nint k = 0;\n\nwhile (i &lt;= num)\n{\n    if (getsecondNum &lt; 5)\n    {\n        System.out.print(&quot;*&quot;);\n    }\n    i++;\n    \n}\n\nwhile (k &lt;= num) \n{\n    if (getsecondNum &gt;= 5)\n    {\n        System.out.print(&quot;*&quot;);\n    }\n    k++;\n}\nSystem.out.print(&quot; &quot; + num);\n}\n}\n</code></pre>\n"}],"owner":{"account_id":27512834,"reputation":3,"user_id":20994398,"display_name":"Abdullah Malik"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75205521,"answer_count":1,"score":0,"last_activity_date":1674448483,"creation_date":1674435623,"question_id":75204965,"body_markdown":"I am trying to make a histogram based on an inputted value (a double) that would print out the number of asterisks according to the inputted value.\r\n\r\nFor example, if  the value was 3.2 it would give me 3 asterisks.\r\n\r\nAlso, if the value was 0, it would give me zero asterisks.\r\n\r\nI am using a module and a module for this problem.\r\n\r\n```java\r\npublic void histogram(double num)\r\n{\r\n    double getNum = num % 10;\r\n    double getsecondNum = getNum * 10;\r\n    int i = 0;\r\n    while (i &lt;= num)\r\n    {\r\n        if (getsecondNum &lt; 5)\r\n        {\r\n            System.out.println(&quot;* &quot; + num);\r\n        }\r\n        if (getsecondNum &gt;= 5)\r\n        {\r\n            System.out.println(&quot;* &quot; + num);\r\n        }\r\n        i++;\r\n    }\r\n}\r\n```\r\nI am having the problem since it is a `while` loop, the lines are printing vertically instead of horizontally and including the `num` on each of the lines due to it being a `while` loop.\r\n\r\nThe program runs for values like 13.5 where it would round up, but not for lower numbers.","title":"Why is the while loop giving me a vertical column of lines instead of a horizontal one?","body":"<p>I am trying to make a histogram based on an inputted value (a double) that would print out the number of asterisks according to the inputted value.</p>\n<p>For example, if  the value was 3.2 it would give me 3 asterisks.</p>\n<p>Also, if the value was 0, it would give me zero asterisks.</p>\n<p>I am using a module and a module for this problem.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void histogram(double num)\n{\n    double getNum = num % 10;\n    double getsecondNum = getNum * 10;\n    int i = 0;\n    while (i &lt;= num)\n    {\n        if (getsecondNum &lt; 5)\n        {\n            System.out.println(&quot;* &quot; + num);\n        }\n        if (getsecondNum &gt;= 5)\n        {\n            System.out.println(&quot;* &quot; + num);\n        }\n        i++;\n    }\n}\n</code></pre>\n<p>I am having the problem since it is a <code>while</code> loop, the lines are printing vertically instead of horizontally and including the <code>num</code> on each of the lines due to it being a <code>while</code> loop.</p>\n<p>The program runs for values like 13.5 where it would round up, but not for lower numbers.</p>\n"},{"tags":["java","spring-boot","maven"],"answers":[{"tags":[],"owner":{"account_id":8380870,"reputation":116,"user_id":6292875,"display_name":"oaPiet"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645027997,"creation_date":1645027997,"answer_id":71145376,"question_id":71145255,"body_markdown":"You can try this option:\r\n\r\n    mvn clean install -U\r\n\r\nAnd also you can configure your setting.xml from Maven to use  this value:\r\n\r\n    &lt;updatePolicy&gt;always&lt;/updatePolicy&gt;\r\n\r\nSee this link: https://maven.apache.org/pom.html#Repositories","title":"How to solve Spring boot Porm error on &quot;Parent&quot; tag?","body":"<p>You can try this option:</p>\n<pre><code>mvn clean install -U\n</code></pre>\n<p>And also you can configure your setting.xml from Maven to use  this value:</p>\n<pre><code>&lt;updatePolicy&gt;always&lt;/updatePolicy&gt;\n</code></pre>\n<p>See this link: <a href=\"https://maven.apache.org/pom.html#Repositories\" rel=\"nofollow noreferrer\">https://maven.apache.org/pom.html#Repositories</a></p>\n"},{"tags":[],"owner":{"account_id":1769596,"reputation":1500,"user_id":1614700,"accept_rate":72,"display_name":"Vannian"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645028160,"creation_date":1645028160,"answer_id":71145421,"question_id":71145255,"body_markdown":"The Problem was the firewall, it was blocking the update of Maven project. ","title":"How to solve Spring boot Porm error on &quot;Parent&quot; tag?","body":"<p>The Problem was the firewall, it was blocking the update of Maven project.</p>\n"},{"tags":[],"owner":{"account_id":24327909,"reputation":1,"user_id":18267210,"display_name":"Nilesh magar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674446530,"creation_date":1674446530,"answer_id":75205573,"question_id":71145255,"body_markdown":"I had this error but I found the best solution for it is delete .p2 file from your users folder in c drive: \r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/McBfc.png","title":"How to solve Spring boot Porm error on &quot;Parent&quot; tag?","body":"<p>I had this error but I found the best solution for it is delete .p2 file from your users folder in c drive:\n<a href=\"https://i.stack.imgur.com/McBfc.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"}],"owner":{"account_id":1769596,"reputation":1500,"user_id":1614700,"accept_rate":72,"display_name":"Vannian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1161,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1674446530,"creation_date":1645027555,"question_id":71145255,"body_markdown":"I just download the application from spring initializer and imported the maven project to eclipse.\r\n\r\nI have this error:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vR5oI.png\r\n\r\nerror:\r\n\r\n    Multiple markers at this line\r\n    - Non-resolvable parent POM for xxxxx:PasswordSafer:0.0.1-SNAPSHOT: org.springframework.boot:spring-boot-starter-parent:pom:2.6.3 failed to transfer from https://repo.maven.apache.org/maven2 during a previous attempt. This failure was cached in the local repository and resolution is not reattempted until the update interval of central has elapsed or updates are forced. Original error: Could not transfer artifact org.springframework.boot:spring-boot-starter-parent:pom:2.6.3 from/to central (https://repo.maven.apache.org/maven2): Connection reset\r\n    - Project build error: Non-resolvable parent POM for xxxxxxx:PasswordSafer:0.0.1-SNAPSHOT: org.springframework.boot:spring-boot-starter-parent:pom:2.6.3 failed to transfer from https://repo.maven.apache.org/maven2 during a previous attempt. This failure was cached in the local repository and resolution is not reattempted until the update interval of central has elapsed or updates are forced. Original error: Could not transfer artifact org.springframework.boot:spring-boot-starter-parent:pom:2.6.3 from/to central (https://repo.maven.apache.org/maven2): Connection reset and &#39;parent.relativePath&#39; points at no local POM\r\n\r\nI tried to update maven --&gt; &quot;Update Maven Project&quot; (with Force Update of Snapshots/Release&quot;). but still the error.","title":"How to solve Spring boot Porm error on &quot;Parent&quot; tag?","body":"<p>I just download the application from spring initializer and imported the maven project to eclipse.</p>\n<p>I have this error:\n<a href=\"https://i.stack.imgur.com/vR5oI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vR5oI.png\" alt=\"enter image description here\" /></a></p>\n<p>error:</p>\n<pre><code>Multiple markers at this line\n- Non-resolvable parent POM for xxxxx:PasswordSafer:0.0.1-SNAPSHOT: org.springframework.boot:spring-boot-starter-parent:pom:2.6.3 failed to transfer from https://repo.maven.apache.org/maven2 during a previous attempt. This failure was cached in the local repository and resolution is not reattempted until the update interval of central has elapsed or updates are forced. Original error: Could not transfer artifact org.springframework.boot:spring-boot-starter-parent:pom:2.6.3 from/to central (https://repo.maven.apache.org/maven2): Connection reset\n- Project build error: Non-resolvable parent POM for xxxxxxx:PasswordSafer:0.0.1-SNAPSHOT: org.springframework.boot:spring-boot-starter-parent:pom:2.6.3 failed to transfer from https://repo.maven.apache.org/maven2 during a previous attempt. This failure was cached in the local repository and resolution is not reattempted until the update interval of central has elapsed or updates are forced. Original error: Could not transfer artifact org.springframework.boot:spring-boot-starter-parent:pom:2.6.3 from/to central (https://repo.maven.apache.org/maven2): Connection reset and 'parent.relativePath' points at no local POM\n</code></pre>\n<p>I tried to update maven --&gt; &quot;Update Maven Project&quot; (with Force Update of Snapshots/Release&quot;). but still the error.</p>\n"},{"tags":["java","android","firebase","push-notification","firebase-cloud-messaging"],"comments":[{"owner":{"account_id":22997531,"reputation":119,"user_id":17122042,"display_name":"Majed Al-Moqbeli"},"score":0,"creation_date":1674465646,"post_id":75204772,"comment_id":132711844,"body_markdown":"Did you implement the FirebaseMessagingService? if yes share it to me please .","body":"Did you implement the FirebaseMessagingService? if yes share it to me please ."},{"owner":{"account_id":25475137,"reputation":1,"user_id":19272557,"display_name":"Vaishnavi Rao"},"score":0,"creation_date":1674596024,"post_id":75204772,"comment_id":132747288,"body_markdown":"Hi, Thanks for reaching out to me.. I solved it. It was a silly mistake. I needed to close the app and go to home page. It&#39;s because if you&#39;re using the application then you won&#39;t be able to get the push notifications. Thanks again. Appreciate it.","body":"Hi, Thanks for reaching out to me.. I solved it. It was a silly mistake. I needed to close the app and go to home page. It&#39;s because if you&#39;re using the application then you won&#39;t be able to get the push notifications. Thanks again. Appreciate it."},{"owner":{"account_id":22997531,"reputation":119,"user_id":17122042,"display_name":"Majed Al-Moqbeli"},"score":0,"creation_date":1694642253,"post_id":75204772,"comment_id":135919859,"body_markdown":"You need to show notification programmatically when user using the app.","body":"You need to show notification programmatically when user using the app."}],"owner":{"account_id":25475137,"reputation":1,"user_id":19272557,"display_name":"Vaishnavi Rao"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674445578,"creation_date":1674432189,"question_id":75204772,"body_markdown":"I&#39;m making use of Firebase account and In that I have selected Cloud messaging. Through that option, I can send any message from firebase to my Android emulator.\r\n\r\nThe token is generated and I have pasted it into the firebase but it doesn&#39;t show any push notification.\r\n\r\nthere are no errors as well.\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        FirebaseMessaging.getInstance().getToken()\r\n                .addOnCompleteListener(new OnCompleteListener&lt;String&gt;() {\r\n                    @Override\r\n                    public void onComplete(@NonNull Task&lt;String&gt; task) {\r\n                        if (!task.isSuccessful()) {\r\n                            Log.w(TAG, &quot;Fetching FCM registration token failed&quot;, task.getException());\r\n                            return;\r\n                        }\r\n\r\n                        // Get new FCM registration token\r\n                        String token = task.getResult();\r\n\r\n                        // Log and toast\r\n                        String msg = token;\r\n                        Log.d(&quot;Token:&quot;, msg);\r\n                        Toast.makeText(MainActivity.this, msg, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                });\r\n    }\r\n}\r\n```","title":"Unable to get push notification in the Android app using the firebase","body":"<p>I'm making use of Firebase account and In that I have selected Cloud messaging. Through that option, I can send any message from firebase to my Android emulator.</p>\n<p>The token is generated and I have pasted it into the firebase but it doesn't show any push notification.</p>\n<p>there are no errors as well.</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        FirebaseMessaging.getInstance().getToken()\n                .addOnCompleteListener(new OnCompleteListener&lt;String&gt;() {\n                    @Override\n                    public void onComplete(@NonNull Task&lt;String&gt; task) {\n                        if (!task.isSuccessful()) {\n                            Log.w(TAG, &quot;Fetching FCM registration token failed&quot;, task.getException());\n                            return;\n                        }\n\n                        // Get new FCM registration token\n                        String token = task.getResult();\n\n                        // Log and toast\n                        String msg = token;\n                        Log.d(&quot;Token:&quot;, msg);\n                        Toast.makeText(MainActivity.this, msg, Toast.LENGTH_SHORT).show();\n                    }\n                });\n    }\n}\n</code></pre>\n"},{"tags":["java","priority-queue","comparable"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1674426569,"post_id":75197294,"comment_id":132706700,"body_markdown":"I agree with [Jim Mischel&#39;s answer](https://stackoverflow.com/a/75198623/6395627)—don&#39;t reinvent the wheel if you don&#39;t have to. Note the documentation of `PriorityQueue` does not guarantee stability (&quot;_ties are broken arbitrarily_&quot;). However, the addition of the sequence number property in the `PQDog` wrapper should work around that problem (as long as it&#39;s guaranteed the sequence number is unique).","body":"I agree with <a href=\"https://stackoverflow.com/a/75198623/6395627\">Jim Mischel&#39;s answer</a>—don&#39;t reinvent the wheel if you don&#39;t have to. Note the documentation of <code>PriorityQueue</code> does not guarantee stability (&quot;<i>ties are broken arbitrarily</i>&quot;). However, the addition of the sequence number property in the <code>PQDog</code> wrapper should work around that problem (as long as it&#39;s guaranteed the sequence number is unique)."}],"answers":[{"comments":[{"owner":{"account_id":27422577,"reputation":17,"user_id":20920719,"display_name":"JDausyd"},"score":0,"creation_date":1674343905,"post_id":75197316,"comment_id":132695390,"body_markdown":"The Dog class is already implemented with the compareTo method. I need a way to implement an PriorityStack, like in the link on top, but instead of accepting 2 values, it should only take the object Dog, and use the compareTo value in there to determine the priority","body":"The Dog class is already implemented with the compareTo method. I need a way to implement an PriorityStack, like in the link on top, but instead of accepting 2 values, it should only take the object Dog, and use the compareTo value in there to determine the priority"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1674350875,"post_id":75197316,"comment_id":132696078,"body_markdown":"@JimN The `Comparable` interface is generic, and the method accepts `T`. So, the `compareTo` implementation should accept whatever type argument was used when implementing the interface (e.g., `Dog` in this case, not `Object`).","body":"@JimN The <code>Comparable</code> interface is generic, and the method accepts <code>T</code>. So, the <code>compareTo</code> implementation should accept whatever type argument was used when implementing the interface (e.g., <code>Dog</code> in this case, not <code>Object</code>)."},{"owner":{"account_id":523075,"reputation":375,"user_id":6535366,"display_name":"JimN"},"score":0,"creation_date":1674357639,"post_id":75197316,"comment_id":132696602,"body_markdown":"@JDausyd updated my answer to explain how to be just taking one object (using a TreeSet) instead of taking two values (as in the case of the linked solution using a TreeMap)","body":"@JDausyd updated my answer to explain how to be just taking one object (using a TreeSet) instead of taking two values (as in the case of the linked solution using a TreeMap)"}],"tags":[],"owner":{"account_id":523075,"reputation":375,"user_id":6535366,"display_name":"JimN"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674357563,"creation_date":1674343691,"answer_id":75197316,"question_id":75197294,"body_markdown":"(Edited answer after the clarifications given in the comments)\r\n\r\nIn the PriorityStack in the link, it takes two values and stored them in a TreeMap. In your case, once you make the Dog class comparable (and the Dog objects contain a `.age` attribute) then you can store these Dog objects in a TreeSet (which is a sorted collection, sorted according to your compareTo() method in Dog).\r\n\r\nYou would instantiate the TreeSet as `TreeSet&lt;Dog&gt; stack = new TreeSet&lt;&gt;();`","title":"How can I implement a PriorityStack that accepts objects with the Comparable interface?","body":"<p>(Edited answer after the clarifications given in the comments)</p>\n<p>In the PriorityStack in the link, it takes two values and stored them in a TreeMap. In your case, once you make the Dog class comparable (and the Dog objects contain a <code>.age</code> attribute) then you can store these Dog objects in a TreeSet (which is a sorted collection, sorted according to your compareTo() method in Dog).</p>\n<p>You would instantiate the TreeSet as <code>TreeSet&lt;Dog&gt; stack = new TreeSet&lt;&gt;();</code></p>\n"},{"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1674426340,"post_id":75198623,"comment_id":132706678,"body_markdown":"I doubt the limit of `int` will be a problem for OP, but perhaps a mitigating approach could be to set `sequence = 0` (or `sequence = Integer.MIN_VALUE`) any time the queue becomes empty. Whether or not that would help depends entirely on if the queue is emptied faster than it is filled (even if only occasionally). Or you could use `long`. If the OP manages to overflow a `long` when only incrementing by one at a time, then I&#39;d be scared.","body":"I doubt the limit of <code>int</code> will be a problem for OP, but perhaps a mitigating approach could be to set <code>sequence = 0</code> (or <code>sequence = Integer.MIN_VALUE</code>) any time the queue becomes empty. Whether or not that would help depends entirely on if the queue is emptied faster than it is filled (even if only occasionally). Or you could use <code>long</code>. If the OP manages to overflow a <code>long</code> when only incrementing by one at a time, then I&#39;d be scared."},{"owner":{"account_id":22848,"reputation":131598,"user_id":56778,"accept_rate":93,"display_name":"Jim Mischel"},"score":0,"creation_date":1674431100,"post_id":75198623,"comment_id":132707246,"body_markdown":"@Slaw I, too, doubt that the limit of `int` will be a problem, but I thought I should mention it. I like the idea of resetting whenever the queue goes empty. And, yeah, if it were to overflow a `long` I&#39;d be worried. I&#39;m pretty sure the world won&#39;t support that many dogs.","body":"@Slaw I, too, doubt that the limit of <code>int</code> will be a problem, but I thought I should mention it. I like the idea of resetting whenever the queue goes empty. And, yeah, if it were to overflow a <code>long</code> I&#39;d be worried. I&#39;m pretty sure the world won&#39;t support that many dogs."}],"tags":[],"owner":{"account_id":22848,"reputation":131598,"user_id":56778,"accept_rate":93,"display_name":"Jim Mischel"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674442574,"creation_date":1674369541,"answer_id":75198623,"question_id":75197294,"body_markdown":"Consider that a stack can be viewed as a priority queue that prioritizes based on the time the item was enqueued. It wouldn&#39;t be as efficient as what we typically call a stack, but it would be LIFO.\r\n\r\nThat `PriorityStack` can more easily be implemented with a `PriorityQueue`, and probably a whole lot more efficiently. The only catch is that you&#39;ll either need to add a `time` field to your `Dog` class, or wrap the `Dog` object in another class that has a `time` field. I&#39;d favor the latter: call it `PQDog`. And of course you&#39;ll need a custom comparer.\r\n\r\nThe `time` field doesn&#39;t have to be the actual time something was enqueued. It could be an integer if you make sure to increment it for each item enqueued. Provided you&#39;re not going to enqueue more than 2 billion items over the lifetime of the queue. Come to think of it, if you start the sequence at `Integer.MinValue` (or whatever it&#39;s called in Java), you could extend that range to 4 billion.\r\n\r\nThe idea is that you&#39;d define the class:\r\n\r\n    class PQDog {\r\n      int sequenceNumber;\r\n      Dog dog;\r\n    }\r\n\r\nI&#39;m not really a Java programmer, so don&#39;t expect the code below to compile without trouble. But I think it&#39;s enough to point you in the right direction.\r\n\r\nWhen you want to put a `Dog` in the queue, you wrap it in a `PQDog` object and add the new sequence number. Imagine you have a static variable called `QueueSequence` that you increment every time just before enqueueing.\r\n\r\n    PriorityQueue dogQueue = new PriorityQueue&lt;PQDog&gt;();\r\n    static int QueueSequence = 0;\r\n\r\n    // and to add something to the queue\r\n    PQDog newDog = new PQDog(QueueSequence++, Dog);\r\n    dogQueue.add(newDog);\r\n\r\nAnd of course when you `pop` from the queue you&#39;ll have to unwrap the `Dog`.\r\n\r\nIt seems like your ordering requirement is &quot;By ascending age and descending time&quot;. So your comparer would be something like:\r\n\r\n    public int compareTo(PQDog other) {\r\n        if(other == null) {\r\n            return -1;\r\n        }\r\n        // sort younger dogs first\r\n        if (this.Dog.age &lt; other.Dog.age) return -1;\r\n        if (this.Dog.age &gt; other.Dog.age) return 1;\r\n    \r\n        // ages are the same, so compare enqueue time\r\n        if (this.sequenceNumber &gt; other.sequenceNumber) return -1;\r\n        if (this.sequenceNumber &lt; other.sequenceNumber) return 1;\r\n\r\n        // Probably should raise an exception here\r\n        // If you have two entries with the same sequence number,\r\n        // something has gone horribly wrong.\r\n        return 0;\r\n    }\r\n\r\nOr, if the `Dog` class already has a `CompareTo` that compares by age, you&#39;d change the above code to:\r\n\r\n    if (this.Dog.CompareTo(other.Dog) == 0) return;\r\n\r\n    // and then compare the sequenceNumbers if the\r\n    // dogs&#39; ages aren&#39;t equal.\r\n\r\nSeems silly to me to introduce an incomplete and un-vetted custom `PriorityStack` data structure when you can solve your problem using the standard Java `PriorityQueue`, a custom comparer, and a few lines of interface code.\r\n\r\nAs an aside, you shouldn&#39;t in general use `return a - b` in a `Comparable`. Imagine what happens when `a` is equal to the minimum integer (or sufficiently negative, anyway) and `b` is a large enough positive number. Integer overflow (actually underflow, but same thing) rears its ugly head. The result will be a positive number, erroneously indicating that `a` is greater than `b`.\r\n\r\nYes, I realize that in this particular case you won&#39;t run into that issue. At least, I don&#39;t think you have any dogs that are negative 2 billion years old. But much of what we do as programmers relies on patterns and common practice. One should get in the habit of writing bulletproof code when practical. No telling what somebody will do with your code after you write it. Perhaps some beginner is looking for a `Comparable` implementation, runs across your code, copies it to his program with that `return a - b` in there. All the unit tests and integration tests pass, the code goes into production, and four months later something breaks.\r\n\r\nNot that I&#39;m talking from experience or anything . . .","title":"How can I implement a PriorityStack that accepts objects with the Comparable interface?","body":"<p>Consider that a stack can be viewed as a priority queue that prioritizes based on the time the item was enqueued. It wouldn't be as efficient as what we typically call a stack, but it would be LIFO.</p>\n<p>That <code>PriorityStack</code> can more easily be implemented with a <code>PriorityQueue</code>, and probably a whole lot more efficiently. The only catch is that you'll either need to add a <code>time</code> field to your <code>Dog</code> class, or wrap the <code>Dog</code> object in another class that has a <code>time</code> field. I'd favor the latter: call it <code>PQDog</code>. And of course you'll need a custom comparer.</p>\n<p>The <code>time</code> field doesn't have to be the actual time something was enqueued. It could be an integer if you make sure to increment it for each item enqueued. Provided you're not going to enqueue more than 2 billion items over the lifetime of the queue. Come to think of it, if you start the sequence at <code>Integer.MinValue</code> (or whatever it's called in Java), you could extend that range to 4 billion.</p>\n<p>The idea is that you'd define the class:</p>\n<pre><code>class PQDog {\n  int sequenceNumber;\n  Dog dog;\n}\n</code></pre>\n<p>I'm not really a Java programmer, so don't expect the code below to compile without trouble. But I think it's enough to point you in the right direction.</p>\n<p>When you want to put a <code>Dog</code> in the queue, you wrap it in a <code>PQDog</code> object and add the new sequence number. Imagine you have a static variable called <code>QueueSequence</code> that you increment every time just before enqueueing.</p>\n<pre><code>PriorityQueue dogQueue = new PriorityQueue&lt;PQDog&gt;();\nstatic int QueueSequence = 0;\n\n// and to add something to the queue\nPQDog newDog = new PQDog(QueueSequence++, Dog);\ndogQueue.add(newDog);\n</code></pre>\n<p>And of course when you <code>pop</code> from the queue you'll have to unwrap the <code>Dog</code>.</p>\n<p>It seems like your ordering requirement is &quot;By ascending age and descending time&quot;. So your comparer would be something like:</p>\n<pre><code>public int compareTo(PQDog other) {\n    if(other == null) {\n        return -1;\n    }\n    // sort younger dogs first\n    if (this.Dog.age &lt; other.Dog.age) return -1;\n    if (this.Dog.age &gt; other.Dog.age) return 1;\n\n    // ages are the same, so compare enqueue time\n    if (this.sequenceNumber &gt; other.sequenceNumber) return -1;\n    if (this.sequenceNumber &lt; other.sequenceNumber) return 1;\n\n    // Probably should raise an exception here\n    // If you have two entries with the same sequence number,\n    // something has gone horribly wrong.\n    return 0;\n}\n</code></pre>\n<p>Or, if the <code>Dog</code> class already has a <code>CompareTo</code> that compares by age, you'd change the above code to:</p>\n<pre><code>if (this.Dog.CompareTo(other.Dog) == 0) return;\n\n// and then compare the sequenceNumbers if the\n// dogs' ages aren't equal.\n</code></pre>\n<p>Seems silly to me to introduce an incomplete and un-vetted custom <code>PriorityStack</code> data structure when you can solve your problem using the standard Java <code>PriorityQueue</code>, a custom comparer, and a few lines of interface code.</p>\n<p>As an aside, you shouldn't in general use <code>return a - b</code> in a <code>Comparable</code>. Imagine what happens when <code>a</code> is equal to the minimum integer (or sufficiently negative, anyway) and <code>b</code> is a large enough positive number. Integer overflow (actually underflow, but same thing) rears its ugly head. The result will be a positive number, erroneously indicating that <code>a</code> is greater than <code>b</code>.</p>\n<p>Yes, I realize that in this particular case you won't run into that issue. At least, I don't think you have any dogs that are negative 2 billion years old. But much of what we do as programmers relies on patterns and common practice. One should get in the habit of writing bulletproof code when practical. No telling what somebody will do with your code after you write it. Perhaps some beginner is looking for a <code>Comparable</code> implementation, runs across your code, copies it to his program with that <code>return a - b</code> in there. All the unit tests and integration tests pass, the code goes into production, and four months later something breaks.</p>\n<p>Not that I'm talking from experience or anything . . .</p>\n"}],"owner":{"account_id":27422577,"reputation":17,"user_id":20920719,"display_name":"JDausyd"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1674442574,"creation_date":1674343476,"question_id":75197294,"body_markdown":"I took a look at the code in this thread: https://codereview.stackexchange.com/questions/98105/priority-stack-in-java\r\n\r\nThis implements a PriorityStack using the object and the priority. I need an implementation where you only add the object to the PriorityStack, and using the Comparable interface you can define which attribute should be prioritized.\r\n\r\nFor example:\r\n\r\nI have a list of dogs:\r\n- name = &quot;Skip&quot;, age = 4\r\n- name = &quot;Gregory&quot;, age = 3\r\n- name = &quot;Ziggy&quot;, age = 4\r\n\r\n\r\n\r\n\r\nIn the Dog object I would implement the Comparable interface with:\r\n\r\n\r\n```\r\npublic int compareTo(Dog other) {\r\n    if(other == null) {\r\n        return -1;\r\n    }\r\n    return this.age - other.age;\r\n}\r\n```\r\n\r\nHow can I use this to prioritize my PriorityStack?\r\n\r\nThe result of this should be the youngest dog first, and then the other 2 dogs based on First In Last Out","title":"How can I implement a PriorityStack that accepts objects with the Comparable interface?","body":"<p>I took a look at the code in this thread: <a href=\"https://codereview.stackexchange.com/questions/98105/priority-stack-in-java\">https://codereview.stackexchange.com/questions/98105/priority-stack-in-java</a></p>\n<p>This implements a PriorityStack using the object and the priority. I need an implementation where you only add the object to the PriorityStack, and using the Comparable interface you can define which attribute should be prioritized.</p>\n<p>For example:</p>\n<p>I have a list of dogs:</p>\n<ul>\n<li>name = &quot;Skip&quot;, age = 4</li>\n<li>name = &quot;Gregory&quot;, age = 3</li>\n<li>name = &quot;Ziggy&quot;, age = 4</li>\n</ul>\n<p>In the Dog object I would implement the Comparable interface with:</p>\n<pre><code>public int compareTo(Dog other) {\n    if(other == null) {\n        return -1;\n    }\n    return this.age - other.age;\n}\n</code></pre>\n<p>How can I use this to prioritize my PriorityStack?</p>\n<p>The result of this should be the youngest dog first, and then the other 2 dogs based on First In Last Out</p>\n"},{"tags":["java","azure","azure-active-directory"],"answers":[{"comments":[{"owner":{"account_id":6234697,"reputation":1018,"user_id":4850377,"accept_rate":47,"display_name":"GAK"},"score":0,"creation_date":1674345612,"post_id":75158937,"comment_id":132695625,"body_markdown":"Thanks, thats sounds about right and I am trying the same, I dont see your clientId being used in the example&#39;s you have given here. could you please update? when you say add Client id as param. is it query, path or header param, that is not clear.","body":"Thanks, thats sounds about right and I am trying the same, I dont see your clientId being used in the example&#39;s you have given here. could you please update? when you say add Client id as param. is it query, path or header param, that is not clear."},{"owner":{"account_id":24067318,"reputation":13435,"user_id":18043665,"display_name":"Sridevi"},"score":0,"creation_date":1674352491,"post_id":75158937,"comment_id":132696219,"body_markdown":"`Client_id` is **query** parameter. You can check this [MS Doc](https://learn.microsoft.com/en-us/azure/app-service/overview-managed-identity?tabs=portal%2Cpowershell#rest-endpoint-reference) to know more in detail.","body":"<code>Client_id</code> is <b>query</b> parameter. You can check this <a href=\"https://learn.microsoft.com/en-us/azure/app-service/overview-managed-identity?tabs=portal%2Cpowershell#rest-endpoint-reference\" rel=\"nofollow noreferrer\">MS Doc</a> to know more in detail."},{"owner":{"account_id":6234697,"reputation":1018,"user_id":4850377,"accept_rate":47,"display_name":"GAK"},"score":0,"creation_date":1674410167,"post_id":75158937,"comment_id":132703892,"body_markdown":"$env:IDENTITY_ENDPOINT + &quot;?resource=$resourceURI&amp;api-version=2019-08-01&quot; can you update your answer with the query parameter please?","body":"$env:IDENTITY_ENDPOINT + &quot;?resource=$resourceURI&amp;api-version=2019-08-01&quot; can you update your answer with the query parameter please?"},{"owner":{"account_id":24067318,"reputation":13435,"user_id":18043665,"display_name":"Sridevi"},"score":0,"creation_date":1674441199,"post_id":75158937,"comment_id":132708242,"body_markdown":"Yes, you are correct. I missed adding `client_id` in token endpoint. Please check the **updated** answer.","body":"Yes, you are correct. I missed adding <code>client_id</code> in token endpoint. Please check the <b>updated</b> answer."}],"tags":[],"owner":{"account_id":24067318,"reputation":13435,"user_id":18043665,"display_name":"Sridevi"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674441090,"creation_date":1674043307,"answer_id":75158937,"question_id":75141700,"body_markdown":"***I tried to reproduce the same in my environment and got below results:***\r\n\r\nI have one **App service** where I enabled system assigned managed identity like below:\r\n\r\n![enter image description here](https://i.stack.imgur.com/nXeb0.png)\r\n\r\nNow, Open **Kudu** by selecting `Advanced Tools` in your App Service like below:\r\n\r\n![enter image description here](https://i.stack.imgur.com/qVN4c.png)\r\n\r\nIn new tab, **Kudo** will be opened where you need to select `PowerShell` under **Debug console** like below:\r\n\r\n![enter image description here](https://i.stack.imgur.com/sOUGq.png)\r\n\r\nNow, run the below PowerShell script to get access token using **System-assigned managed identity**:\r\n\r\n```powershell\r\n$resourceURI = &quot;https://storage.azure.com&quot;\r\n$tokenAuthURI = $env:IDENTITY_ENDPOINT + &quot;?resource=$resourceURI&amp;api-version=2019-08-01&quot;\r\n$tokenResponse = Invoke-RestMethod -Method Get -Headers @{&quot;X-IDENTITY-HEADER&quot;=&quot;$env:IDENTITY_HEADER&quot;} -Uri $tokenAuthURI\r\n$accessToken = $tokenResponse.access_token\r\n```\r\n**Response:**\r\n\r\n![enter image description here](https://i.stack.imgur.com/vGb85.png)\r\n\r\nYou can run **`$accessToken`** to print the token like below:\r\n\r\n![enter image description here](https://i.stack.imgur.com/EwQtt.png)\r\n\r\nI added one **user managed identity** to the App Service like below:\r\n\r\n![enter image description here](https://i.stack.imgur.com/ShrYs.png)\r\n\r\nTo get access token using **User assigned Managed Identity**, you need to include one of the **optional** parameters like `client_id` or\r\n`principal_id` in the script.\r\n\r\nYou can find **values** of these parameters from your managed identity:\r\n\r\n![enter image description here](https://i.stack.imgur.com/974Eg.png)\r\n\r\nIn my case, I included **`client_id`** in PowerShell script to get token using **User assigned managed identity** like below:\r\n\r\n```powershell\r\n$resourceURI = &quot;https://storage.azure.com/&quot;\r\n$client_id = &quot;d5845093-6622-4827-ad6a-xxxxxxxxxx&quot;\r\n$tokenAuthURI = $env:IDENTITY_ENDPOINT + &quot;?resource=$resourceURI&amp;client_id=$client_id&amp;api-version=2019-08-01&quot;\r\n$tokenResponse = Invoke-RestMethod -Method Get -Headers @{&quot;X-IDENTITY-HEADER&quot;=&quot;$env:IDENTITY_HEADER&quot;} -Uri $tokenAuthURI\r\n$accessToken = $tokenResponse.access_token\r\n```\r\n**Response:**\r\n\r\n![enter image description here](https://i.stack.imgur.com/XG6ET.png)\r\n\r\nYou can run **`$accessToken`** to print the token like below:\r\n\r\n![enter image description here](https://i.stack.imgur.com/jpvGT.png)\r\n\r\nBased on your requirement, you can change the value of **`$resourceURI`** parameter to https://graph.microsoft.com, \r\nhttps://vault.azure.net or https://management.azure.com etc...\r\n\r\nIncluding one of the **optional** parameters is enough to get access token from User Managed Identity over the system managed.\r\n\r\n**Reference:**\r\n[Managed identities - Azure App Service | Microsoft](https://learn.microsoft.com/en-us/azure/app-service/overview-managed-identity?tabs=portal%2Cpowershell#connect-to-azure-services-in-app-code)\r\n","title":"Azure oAuth token retrieval with user managed identity","body":"<p><em><strong>I tried to reproduce the same in my environment and got below results:</strong></em></p>\n<p>I have one <strong>App service</strong> where I enabled system assigned managed identity like below:</p>\n<p><img src=\"https://i.stack.imgur.com/nXeb0.png\" alt=\"enter image description here\" /></p>\n<p>Now, Open <strong>Kudu</strong> by selecting <code>Advanced Tools</code> in your App Service like below:</p>\n<p><img src=\"https://i.stack.imgur.com/qVN4c.png\" alt=\"enter image description here\" /></p>\n<p>In new tab, <strong>Kudo</strong> will be opened where you need to select <code>PowerShell</code> under <strong>Debug console</strong> like below:</p>\n<p><img src=\"https://i.stack.imgur.com/sOUGq.png\" alt=\"enter image description here\" /></p>\n<p>Now, run the below PowerShell script to get access token using <strong>System-assigned managed identity</strong>:</p>\n<pre><code>$resourceURI = &quot;https://storage.azure.com&quot;\n$tokenAuthURI = $env:IDENTITY_ENDPOINT + &quot;?resource=$resourceURI&amp;api-version=2019-08-01&quot;\n$tokenResponse = Invoke-RestMethod -Method Get -Headers @{&quot;X-IDENTITY-HEADER&quot;=&quot;$env:IDENTITY_HEADER&quot;} -Uri $tokenAuthURI\n$accessToken = $tokenResponse.access_token\n</code></pre>\n<p><strong>Response:</strong></p>\n<p><img src=\"https://i.stack.imgur.com/vGb85.png\" alt=\"enter image description here\" /></p>\n<p>You can run <strong><code>$accessToken</code></strong> to print the token like below:</p>\n<p><img src=\"https://i.stack.imgur.com/EwQtt.png\" alt=\"enter image description here\" /></p>\n<p>I added one <strong>user managed identity</strong> to the App Service like below:</p>\n<p><img src=\"https://i.stack.imgur.com/ShrYs.png\" alt=\"enter image description here\" /></p>\n<p>To get access token using <strong>User assigned Managed Identity</strong>, you need to include one of the <strong>optional</strong> parameters like <code>client_id</code> or\n<code>principal_id</code> in the script.</p>\n<p>You can find <strong>values</strong> of these parameters from your managed identity:</p>\n<p><img src=\"https://i.stack.imgur.com/974Eg.png\" alt=\"enter image description here\" /></p>\n<p>In my case, I included <strong><code>client_id</code></strong> in PowerShell script to get token using <strong>User assigned managed identity</strong> like below:</p>\n<pre><code>$resourceURI = &quot;https://storage.azure.com/&quot;\n$client_id = &quot;d5845093-6622-4827-ad6a-xxxxxxxxxx&quot;\n$tokenAuthURI = $env:IDENTITY_ENDPOINT + &quot;?resource=$resourceURI&amp;client_id=$client_id&amp;api-version=2019-08-01&quot;\n$tokenResponse = Invoke-RestMethod -Method Get -Headers @{&quot;X-IDENTITY-HEADER&quot;=&quot;$env:IDENTITY_HEADER&quot;} -Uri $tokenAuthURI\n$accessToken = $tokenResponse.access_token\n</code></pre>\n<p><strong>Response:</strong></p>\n<p><img src=\"https://i.stack.imgur.com/XG6ET.png\" alt=\"enter image description here\" /></p>\n<p>You can run <strong><code>$accessToken</code></strong> to print the token like below:</p>\n<p><img src=\"https://i.stack.imgur.com/jpvGT.png\" alt=\"enter image description here\" /></p>\n<p>Based on your requirement, you can change the value of <strong><code>$resourceURI</code></strong> parameter to <a href=\"https://graph.microsoft.com\" rel=\"nofollow noreferrer\">https://graph.microsoft.com</a>,\n<a href=\"https://vault.azure.net\" rel=\"nofollow noreferrer\">https://vault.azure.net</a> or <a href=\"https://management.azure.com\" rel=\"nofollow noreferrer\">https://management.azure.com</a> etc...</p>\n<p>Including one of the <strong>optional</strong> parameters is enough to get access token from User Managed Identity over the system managed.</p>\n<p><strong>Reference:</strong>\n<a href=\"https://learn.microsoft.com/en-us/azure/app-service/overview-managed-identity?tabs=portal%2Cpowershell#connect-to-azure-services-in-app-code\" rel=\"nofollow noreferrer\">Managed identities - Azure App Service | Microsoft</a></p>\n"}],"owner":{"account_id":6234697,"reputation":1018,"user_id":4850377,"accept_rate":47,"display_name":"GAK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1342,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75158937,"answer_count":1,"score":0,"last_activity_date":1674441090,"creation_date":1673925698,"question_id":75141700,"body_markdown":"I am new to Azure. I have an app service and a system managed and an user managed identity.  I want to use the rest endpoint to get the access tokens. Based on a config flag, I want to use either\r\n\r\n1. Use the User Managed Identity to get the access tokens. or\r\n2. Use the system managed identity to get the access tokens.\r\n\r\nSince I am new, I am not sure about which endpoint to call. Most importantly, I want to under as to how I can request the AAD to use User Managed Identity over the system managed. ","title":"Azure oAuth token retrieval with user managed identity","body":"<p>I am new to Azure. I have an app service and a system managed and an user managed identity.  I want to use the rest endpoint to get the access tokens. Based on a config flag, I want to use either</p>\n<ol>\n<li>Use the User Managed Identity to get the access tokens. or</li>\n<li>Use the system managed identity to get the access tokens.</li>\n</ol>\n<p>Since I am new, I am not sure about which endpoint to call. Most importantly, I want to under as to how I can request the AAD to use User Managed Identity over the system managed.</p>\n"},{"tags":["java","hashmap"],"owner":{"account_id":27596901,"reputation":9,"user_id":21062936,"display_name":"Anmol Singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1674442118,"answer_count":0,"score":0,"last_activity_date":1674440283,"creation_date":1674439848,"question_id":75205203,"body_markdown":"I have to sort the values of a hash map in ascending order using the heap sort algorithm, and then return the corresponding sorted list of keys. My approach was to simply perform the heapsort algorithm on the values only, and then using for loops, return the corresponding list of keys, like so:\r\n\r\n```\r\nArrayList&lt;Double&gt; valueList = new ArrayList&lt;Double&gt;();\r\n\r\nfor(Map.Entry&lt;String, Double&gt; entry : map.entrySet()) {\r\n\tdouble value = entry.getValue();\r\n\tvalueList.add(value);\r\n}\r\n\r\nint n = valueList.size();\r\nfor (int i = n/2 - 1; i &gt;= 0; i--) {\r\n\theapify(valueList, n, i);\r\n}\r\n\r\nfor (int i = n - 1; i &gt;= 0; i--) {\r\n\tdouble temp = valueList.get(0);\r\n\tvalueList.set(0, valueList.get(i));\r\n\tvalueList.set(i, temp);\r\n\theapify(valueList, i, 0);\r\n}\r\nArrayList&lt;String&gt; keyList = new ArrayList&lt;String&gt;();\r\nfor (int i = 0; i &lt; valueList.size(); i++) {\r\n\tfor(Map.Entry&lt;String, Double&gt; entry : map.entrySet()) {\r\n\t\tif(entry.getValue() == valueList.get(i)) {\r\n\t\t\tkeyList.add(entry.getKey());\r\n\t\t}\r\n\t}\r\n}\r\nreturn keyList;\r\n```\r\nHowever when I debug, or try to run the JUNIT test cases, it says that my array list of keys is empty. Is this approach not correct? Am I going to have to sort the values and keys simultaneously?","title":"Size of array list is zero when it shouldn&#39;t be","body":"<p>I have to sort the values of a hash map in ascending order using the heap sort algorithm, and then return the corresponding sorted list of keys. My approach was to simply perform the heapsort algorithm on the values only, and then using for loops, return the corresponding list of keys, like so:</p>\n<pre><code>ArrayList&lt;Double&gt; valueList = new ArrayList&lt;Double&gt;();\n\nfor(Map.Entry&lt;String, Double&gt; entry : map.entrySet()) {\n    double value = entry.getValue();\n    valueList.add(value);\n}\n\nint n = valueList.size();\nfor (int i = n/2 - 1; i &gt;= 0; i--) {\n    heapify(valueList, n, i);\n}\n\nfor (int i = n - 1; i &gt;= 0; i--) {\n    double temp = valueList.get(0);\n    valueList.set(0, valueList.get(i));\n    valueList.set(i, temp);\n    heapify(valueList, i, 0);\n}\nArrayList&lt;String&gt; keyList = new ArrayList&lt;String&gt;();\nfor (int i = 0; i &lt; valueList.size(); i++) {\n    for(Map.Entry&lt;String, Double&gt; entry : map.entrySet()) {\n        if(entry.getValue() == valueList.get(i)) {\n            keyList.add(entry.getKey());\n        }\n    }\n}\nreturn keyList;\n</code></pre>\n<p>However when I debug, or try to run the JUNIT test cases, it says that my array list of keys is empty. Is this approach not correct? Am I going to have to sort the values and keys simultaneously?</p>\n"},{"tags":["java","variables","processing","kinect"],"answers":[{"tags":[],"owner":{"account_id":27596653,"reputation":1,"user_id":21062737,"display_name":"nanto"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674439302,"creation_date":1674439302,"answer_id":75205173,"question_id":75167320,"body_markdown":"The keyword `public` here just means nothing, it must be said of a function or variable. And you just don&#39;t need it. So removing it should fix the problem!","title":"Global variable &quot;x&quot; does not exist, Processing 3.2.3. Processing and Kinect","body":"<p>The keyword <code>public</code> here just means nothing, it must be said of a function or variable. And you just don't need it. So removing it should fix the problem!</p>\n"}],"owner":{"account_id":27568892,"reputation":11,"user_id":21040488,"display_name":"user21040488"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1674439302,"creation_date":1674096739,"question_id":75167320,"body_markdown":"I was beginning with coding in Processing when I encountered an error which I can&#39;t find a solution for.\r\n\r\n**DISCLAIMER: I&#39;m new to coding, so I&#39;m having trouble understanding how it works lol\r\n\r\n\r\nI was attempting to use processing to write a code for a kinect program that would create a ripple effect, but I can&#39;t figure out how to define two variables.\r\n\r\nCode:\r\n\r\n```\r\n// A simple ripple effect. Click on the image to produce a ripple\r\n// Author: radio79\r\n// Code adapted from http://www.neilwallis.com/java/water.html\r\n// Code adapted from https://forum.processing.org/two/discussion/25348/can-i-apply-ripple-effect-to-kinect\r\n\r\nimport org.openkinect.processing.*;\r\n\r\nKinect kinect;\r\n\r\n\r\nPImage img;\r\nRipple ripple;\r\n\r\nvoid setup() {\r\n  size(1920, 1080);\r\n  kinect = new Kinect(this);\r\n  kinect.initVideo();\r\n \r\n  img = new PImage(kinect.colorWidth, kinect.colorHeight);\r\n\r\n  ripple = new Ripple();\r\n  //frameRate(60);\r\n}\r\n\r\nvoid draw() {\r\n\r\n  image(kinect.getVideoImage(), 0, 0);\r\n\r\n  img.loadPixels();\r\n\r\n  for (int loc = 0; loc &lt; Kinect.colorWidth * Kinect.colorHeight; loc++) {\r\n    img.pixels[loc] = ripple.col[loc];\r\n  }\r\n\r\n\r\n  img.updatePixels();\r\n  ripple.newframe();\r\n}\r\n\r\nclass Ripple {\r\n  int i, a, b;\r\n  int oldind, newind, mapind;\r\n  short ripplemap[]; // the height map\r\n  int col[]; // the actual pixels\r\n  int riprad;\r\n  int rwidth, rheight;\r\n  int ttexture[];\r\n  int ssize;\r\n\r\n  Ripple() {\r\n    // constructor\r\n    riprad = 3;\r\n    rwidth = width &gt;&gt; 1;\r\n    rheight = height &gt;&gt; 1;\r\n    ssize = width * (height + 2) * 2;\r\n    ripplemap = new short[ssize];\r\n    col = new int[width * height];\r\n    ttexture = new int[width * height];\r\n    oldind = width;\r\n    newind = width * (height + 3);\r\n  }\r\n\r\n\r\n\r\n  void newframe() {\r\n    // update the height map and the image\r\n    i = oldind;\r\n    oldind = newind;\r\n    newind = i;\r\n\r\n    i = 0;\r\n    mapind = oldind;\r\n    for (int y = 0; y &lt; height; y++) {\r\n      for (int x = 0; x &lt; width; x++) {\r\n        short data = (short)((ripplemap[mapind - width] + ripplemap[mapind + width] + \r\n          ripplemap[mapind - 1] + ripplemap[mapind + 1]) &gt;&gt; 1);\r\n        data -= ripplemap[newind + i];\r\n        data -= data &gt;&gt; 5;\r\n        if (x == 0 || y == 0) // avoid the wraparound effect\r\n          ripplemap[newind + i] = 0;\r\n        else\r\n          ripplemap[newind + i] = data;\r\n\r\n        // where data = 0 then still, where data &gt; 0 then wave\r\n        data = (short)(1024 - data);\r\n\r\n        // offsets\r\n        a = ((x - rwidth) * data / 1024) + rwidth;\r\n        b = ((y - rheight) * data / 1024) + rheight;\r\n\r\n        //bounds check\r\n        if (a &gt;= width) \r\n          a = width - 1;\r\n        if (a &lt; 0) \r\n          a = 0;\r\n        if (b &gt;= height) \r\n          b = height-1;\r\n        if (b &lt; 0) \r\n          b=0;\r\n\r\n        col[i] = img.pixels[a + (b * width)];\r\n        mapind++;\r\n        i++;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nvoid mouseDragged() {\r\n  for (int j = mouseY - ripple.riprad; j &lt; mouseY + ripple.riprad; j++) {\r\n    for (int k = mouseX - ripple.riprad; k &lt; mouseX + ripple.riprad; k++) {\r\n      if (j &gt;= 0 &amp;&amp; j &lt; height &amp;&amp; k&gt;= 0 &amp;&amp; k &lt; width) {\r\n        ripple.ripplemap[ripple.oldind + (j * width) + k] += 512;\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n\r\nThe error is: &#39;The global variable &quot;x&quot; does not exist&#39;, &#39;The global variable &quot;y&quot; does not exist&#39; and so forth. Please help.\r\n\r\nThe variables I need help defining appear on line 18 for the first time, they are colorWidth and colorHeight \r\n\r\nThe line reads: \r\n\r\n\r\n```\r\n  img = new PImage(kinect.colorWidth, kinect.colorHeight);\r\n```\r\n \r\nThe colorWidth and colorHeight are underlined in red. \r\n\r\nI have tried using this method:\r\n\r\n```\r\npublic \r\n float colorWidth;\r\n float colorHeight;\r\n```\r\nBut, only the second line appears to be defined properly. The first line emits the message &quot;colorWidth cannot be resolved or is not a field&quot; when the program runs, or &quot;illegal modifier for parameter colorWidth; only final is permitted&quot; when the underline is clicked. \r\n[Picture of what the program shows after the public code](https://i.stack.imgur.com/5Ara7.png)\r\n\r\nPLEASE HELP!!! Thank you!","title":"Global variable &quot;x&quot; does not exist, Processing 3.2.3. Processing and Kinect","body":"<p>I was beginning with coding in Processing when I encountered an error which I can't find a solution for.</p>\n<p>**DISCLAIMER: I'm new to coding, so I'm having trouble understanding how it works lol</p>\n<p>I was attempting to use processing to write a code for a kinect program that would create a ripple effect, but I can't figure out how to define two variables.</p>\n<p>Code:</p>\n<pre><code>// A simple ripple effect. Click on the image to produce a ripple\n// Author: radio79\n// Code adapted from http://www.neilwallis.com/java/water.html\n// Code adapted from https://forum.processing.org/two/discussion/25348/can-i-apply-ripple-effect-to-kinect\n\nimport org.openkinect.processing.*;\n\nKinect kinect;\n\n\nPImage img;\nRipple ripple;\n\nvoid setup() {\n  size(1920, 1080);\n  kinect = new Kinect(this);\n  kinect.initVideo();\n \n  img = new PImage(kinect.colorWidth, kinect.colorHeight);\n\n  ripple = new Ripple();\n  //frameRate(60);\n}\n\nvoid draw() {\n\n  image(kinect.getVideoImage(), 0, 0);\n\n  img.loadPixels();\n\n  for (int loc = 0; loc &lt; Kinect.colorWidth * Kinect.colorHeight; loc++) {\n    img.pixels[loc] = ripple.col[loc];\n  }\n\n\n  img.updatePixels();\n  ripple.newframe();\n}\n\nclass Ripple {\n  int i, a, b;\n  int oldind, newind, mapind;\n  short ripplemap[]; // the height map\n  int col[]; // the actual pixels\n  int riprad;\n  int rwidth, rheight;\n  int ttexture[];\n  int ssize;\n\n  Ripple() {\n    // constructor\n    riprad = 3;\n    rwidth = width &gt;&gt; 1;\n    rheight = height &gt;&gt; 1;\n    ssize = width * (height + 2) * 2;\n    ripplemap = new short[ssize];\n    col = new int[width * height];\n    ttexture = new int[width * height];\n    oldind = width;\n    newind = width * (height + 3);\n  }\n\n\n\n  void newframe() {\n    // update the height map and the image\n    i = oldind;\n    oldind = newind;\n    newind = i;\n\n    i = 0;\n    mapind = oldind;\n    for (int y = 0; y &lt; height; y++) {\n      for (int x = 0; x &lt; width; x++) {\n        short data = (short)((ripplemap[mapind - width] + ripplemap[mapind + width] + \n          ripplemap[mapind - 1] + ripplemap[mapind + 1]) &gt;&gt; 1);\n        data -= ripplemap[newind + i];\n        data -= data &gt;&gt; 5;\n        if (x == 0 || y == 0) // avoid the wraparound effect\n          ripplemap[newind + i] = 0;\n        else\n          ripplemap[newind + i] = data;\n\n        // where data = 0 then still, where data &gt; 0 then wave\n        data = (short)(1024 - data);\n\n        // offsets\n        a = ((x - rwidth) * data / 1024) + rwidth;\n        b = ((y - rheight) * data / 1024) + rheight;\n\n        //bounds check\n        if (a &gt;= width) \n          a = width - 1;\n        if (a &lt; 0) \n          a = 0;\n        if (b &gt;= height) \n          b = height-1;\n        if (b &lt; 0) \n          b=0;\n\n        col[i] = img.pixels[a + (b * width)];\n        mapind++;\n        i++;\n      }\n    }\n  }\n}\n\nvoid mouseDragged() {\n  for (int j = mouseY - ripple.riprad; j &lt; mouseY + ripple.riprad; j++) {\n    for (int k = mouseX - ripple.riprad; k &lt; mouseX + ripple.riprad; k++) {\n      if (j &gt;= 0 &amp;&amp; j &lt; height &amp;&amp; k&gt;= 0 &amp;&amp; k &lt; width) {\n        ripple.ripplemap[ripple.oldind + (j * width) + k] += 512;\n      }\n    }\n  }\n}\n</code></pre>\n<p>The error is: 'The global variable &quot;x&quot; does not exist', 'The global variable &quot;y&quot; does not exist' and so forth. Please help.</p>\n<p>The variables I need help defining appear on line 18 for the first time, they are colorWidth and colorHeight</p>\n<p>The line reads:</p>\n<pre><code>  img = new PImage(kinect.colorWidth, kinect.colorHeight);\n</code></pre>\n<p>The colorWidth and colorHeight are underlined in red.</p>\n<p>I have tried using this method:</p>\n<pre><code>public \n float colorWidth;\n float colorHeight;\n</code></pre>\n<p>But, only the second line appears to be defined properly. The first line emits the message &quot;colorWidth cannot be resolved or is not a field&quot; when the program runs, or &quot;illegal modifier for parameter colorWidth; only final is permitted&quot; when the underline is clicked.\n<a href=\"https://i.stack.imgur.com/5Ara7.png\" rel=\"nofollow noreferrer\">Picture of what the program shows after the public code</a></p>\n<p>PLEASE HELP!!! Thank you!</p>\n"},{"tags":["java","lambda","jvm","closures","invokedynamic"],"comments":[{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1674435389,"post_id":75204784,"comment_id":132707727,"body_markdown":"In your code, there are two values `1.23f` (when you construct the &quot;functor&quot;) and `4.56f` (when you apply it). Does that help? And are you asking how it gets `1.23` or `4.56`?","body":"In your code, there are two values <code>1.23f</code> (when you construct the &quot;functor&quot;) and <code>4.56f</code> (when you apply it). Does that help? And are you asking how it gets <code>1.23</code> or <code>4.56</code>?"},{"owner":{"account_id":19529,"reputation":31895,"user_id":45843,"accept_rate":91,"display_name":"rwallace"},"score":0,"creation_date":1674435912,"post_id":75204784,"comment_id":132707764,"body_markdown":"@ElliottFrisch I&#39;m asking how 1.23 gets supplied as an argument to the functor, given that both in the source and byte code of `main`, it only seems to be supplied as an argument to `makeAdder`.","body":"@ElliottFrisch I&#39;m asking how 1.23 gets supplied as an argument to the functor, given that both in the source and byte code of <code>main</code>, it only seems to be supplied as an argument to <code>makeAdder</code>."},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1674436606,"post_id":75204784,"comment_id":132707820,"body_markdown":"See [JEP 126: Lambda Expressions &amp; Virtual Extension Methods](https://openjdk.org/jeps/126) and [Project Lambda](https://openjdk.org/projects/lambda/) if you really want to dig into the how (hint: `1: invokedynamic #7,  0`).","body":"See <a href=\"https://openjdk.org/jeps/126\" rel=\"nofollow noreferrer\">JEP 126: Lambda Expressions &amp; Virtual Extension Methods</a> and <a href=\"https://openjdk.org/projects/lambda/\" rel=\"nofollow noreferrer\">Project Lambda</a> if you really want to dig into the how (hint: <code>1: invokedynamic #7,  0</code>)."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1674437016,"creation_date":1674437016,"answer_id":75205045,"question_id":75204784,"body_markdown":"The relevant aspect is in the output of `javap` but you didn&#39;t include it in your question. At the very end of the javap output: (make sure to run with `javap -c -v`!)\r\n\r\n```\r\nSourceFile: &quot;Test.java&quot;\r\nBootstrapMethods:\r\n  0: #56 REF_invokeStatic java/lang/invoke/LambdaMetafactory.metafactory:(Ljava/lang/invoke/MethodHandles$Lookup;Ljava/lang/String;Ljava/lang/invoke/MethodType;Ljava/lang/invoke/MethodType;Ljava/lang/invoke/MethodHandle;Ljava/lang/invoke/MethodType;)Ljava/lang/invoke/CallSite;\r\n    Method arguments:\r\n      #63 (Ljava/lang/Object;)Ljava/lang/Object;\r\n      #64 REF_invokeStatic Adder.lambda$makeAdder$0:(Ljava/lang/Float;Ljava/lang/Float;)Ljava/lang/Float;\r\n      #67 (Ljava/lang/Float;)Ljava/lang/Float;\r\nInnerClasses:\r\n  public static final #74= #70 of #72;    // Lookup=class java/lang/invoke/MethodHandles$Lookup of class java/lang/invoke/MethodHandles\r\n\r\n```\r\n\r\nThis... doesn&#39;t really come across as useful, but it _is_ the underlying mechanism that makes all this work.\r\n\r\nThe relevant call is the `invokedynamic` bytecode instruction. `invokedynamic` is, well, dynamic: The first time `invokedynamic` is encountered the JVM will take a slow path and executes some code that can arbitrarily decide what this invocation is actually going to end up looking like. Any further executions of that same `invokedynamic` call no longer do that - they &#39;memoize&#39;. So, an `invokedynamic` call can result in any kind of actual method invocation you want (here, it&#39;ll end up being a [partial application](https://en.wikipedia.org/wiki/Partial_application) of that `lambda$makeAdder$0(float, float)`, of course), and is nevertheless fast.\r\n\r\n`javap`&#39;s output isn&#39;t all that enlightening. A lot of the crucial moving parts of it all are actually in the `java.lang.invoke.LambdaMetaFactory` class which is a real class in the JVM [whose source is part of the core JDK and thus open](https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/lang/invoke/LambdaMetafactory.java).\r\n\r\nThis [baeldung tutorial on `invokedynamic`](https://www.baeldung.com/java-invoke-dynamic) is probably something you want to go through top to bottom if you are interested in fully understanding how this works.\r\n","title":"Where does the extra parameter in a compiled lambda function come from?","body":"<p>The relevant aspect is in the output of <code>javap</code> but you didn't include it in your question. At the very end of the javap output: (make sure to run with <code>javap -c -v</code>!)</p>\n<pre><code>SourceFile: &quot;Test.java&quot;\nBootstrapMethods:\n  0: #56 REF_invokeStatic java/lang/invoke/LambdaMetafactory.metafactory:(Ljava/lang/invoke/MethodHandles$Lookup;Ljava/lang/String;Ljava/lang/invoke/MethodType;Ljava/lang/invoke/MethodType;Ljava/lang/invoke/MethodHandle;Ljava/lang/invoke/MethodType;)Ljava/lang/invoke/CallSite;\n    Method arguments:\n      #63 (Ljava/lang/Object;)Ljava/lang/Object;\n      #64 REF_invokeStatic Adder.lambda$makeAdder$0:(Ljava/lang/Float;Ljava/lang/Float;)Ljava/lang/Float;\n      #67 (Ljava/lang/Float;)Ljava/lang/Float;\nInnerClasses:\n  public static final #74= #70 of #72;    // Lookup=class java/lang/invoke/MethodHandles$Lookup of class java/lang/invoke/MethodHandles\n\n</code></pre>\n<p>This... doesn't really come across as useful, but it <em>is</em> the underlying mechanism that makes all this work.</p>\n<p>The relevant call is the <code>invokedynamic</code> bytecode instruction. <code>invokedynamic</code> is, well, dynamic: The first time <code>invokedynamic</code> is encountered the JVM will take a slow path and executes some code that can arbitrarily decide what this invocation is actually going to end up looking like. Any further executions of that same <code>invokedynamic</code> call no longer do that - they 'memoize'. So, an <code>invokedynamic</code> call can result in any kind of actual method invocation you want (here, it'll end up being a <a href=\"https://en.wikipedia.org/wiki/Partial_application\" rel=\"nofollow noreferrer\">partial application</a> of that <code>lambda$makeAdder$0(float, float)</code>, of course), and is nevertheless fast.</p>\n<p><code>javap</code>'s output isn't all that enlightening. A lot of the crucial moving parts of it all are actually in the <code>java.lang.invoke.LambdaMetaFactory</code> class which is a real class in the JVM <a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/lang/invoke/LambdaMetafactory.java\" rel=\"nofollow noreferrer\">whose source is part of the core JDK and thus open</a>.</p>\n<p>This <a href=\"https://www.baeldung.com/java-invoke-dynamic\" rel=\"nofollow noreferrer\">baeldung tutorial on <code>invokedynamic</code></a> is probably something you want to go through top to bottom if you are interested in fully understanding how this works.</p>\n"}],"owner":{"account_id":19529,"reputation":31895,"user_id":45843,"accept_rate":91,"display_name":"rwallace"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75205045,"answer_count":1,"score":2,"last_activity_date":1674437016,"creation_date":1674432460,"question_id":75204784,"body_markdown":"I&#39;m trying to figure out exactly how lambdas and closures work in the JVM. To that end, I&#39;ve tried compiling this simple test case:\r\n\r\n\timport java.util.function.*;\r\n\t\r\n\tclass Adder {\r\n\t  static Function&lt;Float, Float&gt; makeAdder(Float a) {\r\n\t    return b -&gt; a + b;\r\n\t  }\r\n\t\r\n\t  public static void main(String[] args) {\r\n\t    Function&lt;Float, Float&gt; f = makeAdder(1.23f);\r\n\t    System.out.println(f.apply(4.56f));\r\n\t  }\r\n\t}\r\n\r\nDisassembling the resulting byte code is interesting:\r\n\r\n\t  static java.util.function.Function&lt;java.lang.Float, java.lang.Float&gt; makeAdder(java.lang.Float);\r\n\t    descriptor: (Ljava/lang/Float;)Ljava/util/function/Function;\r\n\t    flags: (0x0008) ACC_STATIC\r\n\t    Code:\r\n\t      stack=1, locals=1, args_size=1\r\n\t         0: aload_0\r\n\t         1: invokedynamic #7,  0              // InvokeDynamic #0:apply:(Ljava/lang/Float;)Ljava/util/function/Function;\r\n\t         6: areturn\r\n\t      LineNumberTable:\r\n\t        line 4: 0\r\n\t    Signature: #48                          // (Ljava/lang/Float;)Ljava/util/function/Function&lt;Ljava/lang/Float;Ljava/lang/Float;&gt;;\r\n\t\r\n\t  public static void main(java.lang.String[]);\r\n\t    descriptor: ([Ljava/lang/String;)V\r\n\t    flags: (0x0009) ACC_PUBLIC, ACC_STATIC\r\n\t    Code:\r\n\t      stack=3, locals=2, args_size=1\r\n\t         0: ldc           #11                 // float 1.23f\r\n\t         2: invokestatic  #12                 // Method java/lang/Float.valueOf:(F)Ljava/lang/Float;\r\n\t         5: invokestatic  #18                 // Method makeAdder:(Ljava/lang/Float;)Ljava/util/function/Function;\r\n\t         8: astore_1\r\n\t         9: getstatic     #23                 // Field java/lang/System.out:Ljava/io/PrintStream;\r\n\t        12: aload_1\r\n\t        13: ldc           #29                 // float 4.56f\r\n\t        15: invokestatic  #12                 // Method java/lang/Float.valueOf:(F)Ljava/lang/Float;\r\n\t        18: invokeinterface #30,  2           // InterfaceMethod java/util/function/Function.apply:(Ljava/lang/Object;)Ljava/lang/Object;\r\n\t        23: invokevirtual #35                 // Method java/io/PrintStream.println:(Ljava/lang/Object;)V\r\n\t        26: return\r\n\t      LineNumberTable:\r\n\t        line 9: 0\r\n\t        line 10: 9\r\n\t        line 11: 26\r\n\t\r\n\t  private static java.lang.Float lambda$makeAdder$0(java.lang.Float, java.lang.Float);\r\n\t    descriptor: (Ljava/lang/Float;Ljava/lang/Float;)Ljava/lang/Float;\r\n\t    flags: (0x100a) ACC_PRIVATE, ACC_STATIC, ACC_SYNTHETIC\r\n\t    Code:\r\n\t      stack=2, locals=2, args_size=2\r\n\t         0: aload_0\r\n\t         1: invokevirtual #41                 // Method java/lang/Float.floatValue:()F\r\n\t         4: aload_1\r\n\t         5: invokevirtual #41                 // Method java/lang/Float.floatValue:()F\r\n\t         8: fadd\r\n\t         9: invokestatic  #12                 // Method java/lang/Float.valueOf:(F)Ljava/lang/Float;\r\n\t        12: areturn\r\n\t      LineNumberTable:\r\n\t        line 4: 0\r\n\t        \r\nSome of the above is clear, some less so. The part I&#39;m most puzzled about right now is the implementation of the lambda function, `lambda$makeAdder$0(java.lang.Float, java.lang.Float)`. That signature suggests the lambda has *two* parameters even though it was declared with just one.\r\n\r\nWell, it&#39;s obvious what the extra one is for; it&#39;s for the value of `a` that was bound into the closure. So at one level, that answers the question of how Java closures are supplied with the values of bound variables: they are prepended to the parameter list.\r\n\r\nBut then, how does the ultimate caller know about this? The disassembled code for `main` looks isomorphic to the source code, i.e. completely innocent of knowledge about how closures are implemented. It seems to be supplying one argument to `makeAdder`, then the second argument to the lambda. In other words, supplying just one argument to the lambda.\r\n\r\nHow is the first argument also supplied to the lambda?\r\n\r\nDoes it anything to do with the final `BootstrapMethods` section of the disassembled code?\r\n\r\n\tBootstrapMethods:\r\n\t  0: #56 REF_invokeStatic java/lang/invoke/LambdaMetafactory.metafactory:(Ljava/lang/invoke/MethodHandles$Lookup;Ljava/lang/String;Ljava/lang/invoke/MethodType;Ljava/lang/invoke/MethodType;Ljava/lang/invoke/MethodHandle;Ljava/lang/invoke/MethodType;)Ljava/lang/invoke/CallSite;\r\n\t    Method arguments:\r\n\t      #63 (Ljava/lang/Object;)Ljava/lang/Object;\r\n\t      #64 REF_invokeStatic Adder.lambda$makeAdder$0:(Ljava/lang/Float;Ljava/lang/Float;)Ljava/lang/Float;\r\n\t      #67 (Ljava/lang/Float;)Ljava/lang/Float;\r\n\tInnerClasses:\r\n\t  public static final #74= #70 of #72;    // Lookup=class java/lang/invoke/MethodHandles$Lookup of class java/lang/invoke/MethodHandles\r\n","title":"Where does the extra parameter in a compiled lambda function come from?","body":"<p>I'm trying to figure out exactly how lambdas and closures work in the JVM. To that end, I've tried compiling this simple test case:</p>\n<pre><code>import java.util.function.*;\n\nclass Adder {\n  static Function&lt;Float, Float&gt; makeAdder(Float a) {\n    return b -&gt; a + b;\n  }\n\n  public static void main(String[] args) {\n    Function&lt;Float, Float&gt; f = makeAdder(1.23f);\n    System.out.println(f.apply(4.56f));\n  }\n}\n</code></pre>\n<p>Disassembling the resulting byte code is interesting:</p>\n<pre><code>  static java.util.function.Function&lt;java.lang.Float, java.lang.Float&gt; makeAdder(java.lang.Float);\n    descriptor: (Ljava/lang/Float;)Ljava/util/function/Function;\n    flags: (0x0008) ACC_STATIC\n    Code:\n      stack=1, locals=1, args_size=1\n         0: aload_0\n         1: invokedynamic #7,  0              // InvokeDynamic #0:apply:(Ljava/lang/Float;)Ljava/util/function/Function;\n         6: areturn\n      LineNumberTable:\n        line 4: 0\n    Signature: #48                          // (Ljava/lang/Float;)Ljava/util/function/Function&lt;Ljava/lang/Float;Ljava/lang/Float;&gt;;\n\n  public static void main(java.lang.String[]);\n    descriptor: ([Ljava/lang/String;)V\n    flags: (0x0009) ACC_PUBLIC, ACC_STATIC\n    Code:\n      stack=3, locals=2, args_size=1\n         0: ldc           #11                 // float 1.23f\n         2: invokestatic  #12                 // Method java/lang/Float.valueOf:(F)Ljava/lang/Float;\n         5: invokestatic  #18                 // Method makeAdder:(Ljava/lang/Float;)Ljava/util/function/Function;\n         8: astore_1\n         9: getstatic     #23                 // Field java/lang/System.out:Ljava/io/PrintStream;\n        12: aload_1\n        13: ldc           #29                 // float 4.56f\n        15: invokestatic  #12                 // Method java/lang/Float.valueOf:(F)Ljava/lang/Float;\n        18: invokeinterface #30,  2           // InterfaceMethod java/util/function/Function.apply:(Ljava/lang/Object;)Ljava/lang/Object;\n        23: invokevirtual #35                 // Method java/io/PrintStream.println:(Ljava/lang/Object;)V\n        26: return\n      LineNumberTable:\n        line 9: 0\n        line 10: 9\n        line 11: 26\n\n  private static java.lang.Float lambda$makeAdder$0(java.lang.Float, java.lang.Float);\n    descriptor: (Ljava/lang/Float;Ljava/lang/Float;)Ljava/lang/Float;\n    flags: (0x100a) ACC_PRIVATE, ACC_STATIC, ACC_SYNTHETIC\n    Code:\n      stack=2, locals=2, args_size=2\n         0: aload_0\n         1: invokevirtual #41                 // Method java/lang/Float.floatValue:()F\n         4: aload_1\n         5: invokevirtual #41                 // Method java/lang/Float.floatValue:()F\n         8: fadd\n         9: invokestatic  #12                 // Method java/lang/Float.valueOf:(F)Ljava/lang/Float;\n        12: areturn\n      LineNumberTable:\n        line 4: 0\n        \n</code></pre>\n<p>Some of the above is clear, some less so. The part I'm most puzzled about right now is the implementation of the lambda function, <code>lambda$makeAdder$0(java.lang.Float, java.lang.Float)</code>. That signature suggests the lambda has <em>two</em> parameters even though it was declared with just one.</p>\n<p>Well, it's obvious what the extra one is for; it's for the value of <code>a</code> that was bound into the closure. So at one level, that answers the question of how Java closures are supplied with the values of bound variables: they are prepended to the parameter list.</p>\n<p>But then, how does the ultimate caller know about this? The disassembled code for <code>main</code> looks isomorphic to the source code, i.e. completely innocent of knowledge about how closures are implemented. It seems to be supplying one argument to <code>makeAdder</code>, then the second argument to the lambda. In other words, supplying just one argument to the lambda.</p>\n<p>How is the first argument also supplied to the lambda?</p>\n<p>Does it anything to do with the final <code>BootstrapMethods</code> section of the disassembled code?</p>\n<pre><code>BootstrapMethods:\n  0: #56 REF_invokeStatic java/lang/invoke/LambdaMetafactory.metafactory:(Ljava/lang/invoke/MethodHandles$Lookup;Ljava/lang/String;Ljava/lang/invoke/MethodType;Ljava/lang/invoke/MethodType;Ljava/lang/invoke/MethodHandle;Ljava/lang/invoke/MethodType;)Ljava/lang/invoke/CallSite;\n    Method arguments:\n      #63 (Ljava/lang/Object;)Ljava/lang/Object;\n      #64 REF_invokeStatic Adder.lambda$makeAdder$0:(Ljava/lang/Float;Ljava/lang/Float;)Ljava/lang/Float;\n      #67 (Ljava/lang/Float;)Ljava/lang/Float;\nInnerClasses:\n  public static final #74= #70 of #72;    // Lookup=class java/lang/invoke/MethodHandles$Lookup of class java/lang/invoke/MethodHandles\n</code></pre>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":5531638,"reputation":14395,"user_id":4391450,"display_name":"AxelH"},"score":2,"creation_date":1523524065,"post_id":49792375,"comment_id":86599300,"body_markdown":"On what version of Java and Windows ? I have tried this on a **Windows 7 with java 1.8.0_66** without a problem. (not really up to date on this workstation....). Also on a VM with **XP and Java 1.6.0_23** (not at all up to date on this one !!!)","body":"On what version of Java and Windows ? I have tried this on a <b>Windows 7 with java 1.8.0_66</b> without a problem. (not really up to date on this workstation....). Also on a VM with <b>XP and Java 1.6.0_23</b> (not at all up to date on this one !!!)"},{"owner":{"account_id":8199532,"reputation":103,"user_id":6171281,"display_name":"ch.Joshi elijah"},"score":0,"creation_date":1523524205,"post_id":49792375,"comment_id":86599393,"body_markdown":"m using windows 10 along with java 1.7.0_17. can an upgrade fix it ?","body":"m using windows 10 along with java 1.7.0_17. can an upgrade fix it ?"},{"owner":{"account_id":5531638,"reputation":14395,"user_id":4391450,"display_name":"AxelH"},"score":0,"creation_date":1523524277,"post_id":49792375,"comment_id":86599435,"body_markdown":"Just updated my comment, it is probably not java, it works fine with java 6 and 8. But could be windows 10 look and fell. Don&#39;t have it at the office...","body":"Just updated my comment, it is probably not java, it works fine with java 6 and 8. But could be windows 10 look and fell. Don&#39;t have it at the office..."},{"owner":{"account_id":8199532,"reputation":103,"user_id":6171281,"display_name":"ch.Joshi elijah"},"score":0,"creation_date":1523525055,"post_id":49792375,"comment_id":86599965,"body_markdown":"I have quickly downloaded java 1.8.0_161,i can still see the problem.thanks for the quick reply AxelH.","body":"I have quickly downloaded java 1.8.0_161,i can still see the problem.thanks for the quick reply AxelH."},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1523525725,"post_id":49792375,"comment_id":86600398,"body_markdown":"@AxelH Try to navigate to `C:\\Windows\\System32`. Icon loading is slow.","body":"@AxelH Try to navigate to <code>C:\\Windows\\System32</code>. Icon loading is slow."},{"owner":{"account_id":5531638,"reputation":14395,"user_id":4391450,"display_name":"AxelH"},"score":0,"creation_date":1523526127,"post_id":49792375,"comment_id":86600691,"body_markdown":"@JohannesKuhn I would not say slow, it took ~1s. far from those 40s as mentioned. Again, not using a Win10... only have 7 and XP.","body":"@JohannesKuhn I would not say slow, it took ~1s. far from those 40s as mentioned. Again, not using a Win10... only have 7 and XP."},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1523526562,"post_id":49792375,"comment_id":86600987,"body_markdown":"Then try to navigate to my downloads folder. Even a native windows file selection form is slow.","body":"Then try to navigate to my downloads folder. Even a native windows file selection form is slow."},{"owner":{"account_id":5531638,"reputation":14395,"user_id":4391450,"display_name":"AxelH"},"score":0,"creation_date":1523527443,"post_id":49792375,"comment_id":86601610,"body_markdown":"@JohannesKuhn Mine is empty but as you said, this has nothing to do with swing, but the rendering of the dialog. I have open a network folder with 18k file, it was renderer in 2sec ... I will confirm the result with Windows 10 this evening when I get access to one. Might be the rendering with the new look and fell that is incorrect.","body":"@JohannesKuhn Mine is empty but as you said, this has nothing to do with swing, but the rendering of the dialog. I have open a network folder with 18k file, it was renderer in 2sec ... I will confirm the result with Windows 10 this evening when I get access to one. Might be the rendering with the new look and fell that is incorrect."},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1523527562,"post_id":49792375,"comment_id":86601693,"body_markdown":"What kind of file? If it&#39;s only some *.doc or *.pdf, then its reasonably fast. If it&#39;s all kind of *.exe, *.ico or similar, it will take a while.","body":"What kind of file? If it&#39;s only some *.doc or *.pdf, then its reasonably fast. If it&#39;s all kind of *.exe, *.ico or similar, it will take a while."},{"owner":{"account_id":5531638,"reputation":14395,"user_id":4391450,"display_name":"AxelH"},"score":0,"creation_date":1523552513,"post_id":49792375,"comment_id":86619003,"body_markdown":"I did notice a noticeable difference loading a folder like System32 (a few seconds, 5sec max) on Windows 10 still with java 1.8.0_151 . This is a different system but again, far from the result of OP. Please try to describe the content of the folder taking so much time to be rendered. I would guess those icons are a bit heavier to load on Windows 10 due to the HIDPI screen these days?","body":"I did notice a noticeable difference loading a folder like System32 (a few seconds, 5sec max) on Windows 10 still with java 1.8.0_151 . This is a different system but again, far from the result of OP. Please try to describe the content of the folder taking so much time to be rendered. I would guess those icons are a bit heavier to load on Windows 10 due to the HIDPI screen these days?"},{"owner":{"account_id":8199532,"reputation":103,"user_id":6171281,"display_name":"ch.Joshi elijah"},"score":1,"creation_date":1523595120,"post_id":49792375,"comment_id":86633692,"body_markdown":"I am talking about the initial load time by that i mean the actual jfilechooser to pop up, not the load time of any file.am running a harddisk clocked at 5400 rpm.i believe the run time varies with an ssd,if your using one.try loading the actual gui for more number of times you will see a lag.sorry i didn&#39;t noticed your comments last day.","body":"I am talking about the initial load time by that i mean the actual jfilechooser to pop up, not the load time of any file.am running a harddisk clocked at 5400 rpm.i believe the run time varies with an ssd,if your using one.try loading the actual gui for more number of times you will see a lag.sorry i didn&#39;t noticed your comments last day."}],"answers":[{"comments":[{"owner":{"account_id":8199532,"reputation":103,"user_id":6171281,"display_name":"ch.Joshi elijah"},"score":0,"creation_date":1523526397,"post_id":49792911,"comment_id":86600870,"body_markdown":"if i could give up on look, the running time is very less. @Joop Eggen.","body":"if i could give up on look, the running time is very less. @Joop Eggen."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1523532158,"post_id":49792911,"comment_id":86604690,"body_markdown":"Some look&amp;feels are nice. Nimbus is a bit Macintoshish, but I believe Plastic and some other third party themes might fit in in Windows.","body":"Some look&amp;feels are nice. Nimbus is a bit Macintoshish, but I believe Plastic and some other third party themes might fit in in Windows."}],"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1523525272,"creation_date":1523525272,"answer_id":49792911,"question_id":49792375,"body_markdown":"One solution (of many years ago) would be to use the java.awt FileChooser.\r\nBetter seems to preload a shared JFileChooser in the background:\r\n\r\nA field with a Future:\r\n\r\n    FutureTask&lt;JFileChooser&gt; futureFileChooser = new FutureTask&lt;&gt;(JFileChooser::new);\r\n\r\nThen on initialisation do:\r\n\r\n    ExecutorService executor = Executors.newSingleThreadExecutor();\r\n    executor.execute(futureFileChooser);\r\n\r\nSo when finally a JFileChooser is desired, get it from the Future.\r\n\r\n    JFileChooser fileChooser = futureFileChooser.get();\r\n\r\nIf this is done within the loading time it still blocks, but already for less time. This solution will not work when the first thing done is opening a JFileChooser.\r\n\r\nI probably cannot convince you to switch to JavaFX if the native look and feel is wanted that much.","title":"JFileChooser is very slow when using windows look and feel","body":"<p>One solution (of many years ago) would be to use the java.awt FileChooser.\nBetter seems to preload a shared JFileChooser in the background:</p>\n\n<p>A field with a Future:</p>\n\n<pre><code>FutureTask&lt;JFileChooser&gt; futureFileChooser = new FutureTask&lt;&gt;(JFileChooser::new);\n</code></pre>\n\n<p>Then on initialisation do:</p>\n\n<pre><code>ExecutorService executor = Executors.newSingleThreadExecutor();\nexecutor.execute(futureFileChooser);\n</code></pre>\n\n<p>So when finally a JFileChooser is desired, get it from the Future.</p>\n\n<pre><code>JFileChooser fileChooser = futureFileChooser.get();\n</code></pre>\n\n<p>If this is done within the loading time it still blocks, but already for less time. This solution will not work when the first thing done is opening a JFileChooser.</p>\n\n<p>I probably cannot convince you to switch to JavaFX if the native look and feel is wanted that much.</p>\n"},{"tags":[],"owner":{"account_id":8199532,"reputation":103,"user_id":6171281,"display_name":"ch.Joshi elijah"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1523965436,"creation_date":1523965436,"answer_id":49877187,"question_id":49792375,"body_markdown":"this piece of code helped me and i haven&#39;t found any issue since then.\r\n\r\n    WindowsFileChooserUI wui = new WindowsFileChooserUI(filechosser);\r\n    wui.installUI(filechosser);","title":"JFileChooser is very slow when using windows look and feel","body":"<p>this piece of code helped me and i haven't found any issue since then.</p>\n\n<pre><code>WindowsFileChooserUI wui = new WindowsFileChooserUI(filechosser);\nwui.installUI(filechosser);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3579213,"reputation":306,"user_id":2987814,"accept_rate":75,"display_name":"Johnson"},"score":1,"creation_date":1642503187,"post_id":59165208,"comment_id":125082273,"body_markdown":"Holy sh.., thanks a lot. Although I also narrowed the problem down to the point where the JFileChooser starts to traverse the directory structure I never would have thought about an inaccessible network share causing that inconvenience.","body":"Holy sh.., thanks a lot. Although I also narrowed the problem down to the point where the JFileChooser starts to traverse the directory structure I never would have thought about an inaccessible network share causing that inconvenience."},{"owner":{"account_id":8425000,"reputation":1382,"user_id":6322589,"accept_rate":57,"display_name":"lucasvw"},"score":0,"creation_date":1648475039,"post_id":59165208,"comment_id":126626356,"body_markdown":"Echoing that I had the same issue - Unbeknownst to me I had a network drive drop and suddenly my JFileChooser was taking forever. I thought it was a JDK 17 thing as I had recently updated, but clearing the bad drive was enough to get it back to normal","body":"Echoing that I had the same issue - Unbeknownst to me I had a network drive drop and suddenly my JFileChooser was taking forever. I thought it was a JDK 17 thing as I had recently updated, but clearing the bad drive was enough to get it back to normal"}],"tags":[],"owner":{"account_id":5502833,"reputation":8715,"user_id":4371659,"accept_rate":80,"display_name":"Tobias Liefke"},"comment_count":2,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1575406574,"creation_date":1575406574,"answer_id":59165208,"question_id":49792375,"body_markdown":"I had the same problem and at least in my case it had nothing to do with the version of Windows or Java.\r\n\r\nDuring creation of the JFileChooser the _Windows look and feel_ already tries to calculate the size of the combobox of the current directory by asking for the icons of all visible items - including the icons of network shares. And in my case some of my network shares were not available. \r\n\r\nThat was my stacktrace on Java 8 and Windows 10:\r\n\r\n    Thread [AWT-EventQueue-0]\r\n    \tUnsafe.park(boolean, long) line: not available [native method]\t\r\n        LockSupport.park(Object) line: 175\t\r\n    \tFutureTask&lt;V&gt;.awaitDone(boolean, long) line: 429\t\r\n    \tFutureTask&lt;V&gt;.get() line: 191\r\n    \tWin32ShellFolderManager2$ComInvoker.invoke(Callable&lt;T&gt;) line: 582\t\r\n    \tShellFolder.invoke(Callable&lt;T&gt;, Class&lt;E&gt;) line: 518\t\r\n    \tShellFolder.invoke(Callable&lt;T&gt;) line: 504\t\r\n    \tWin32ShellFolder2.getIcon(boolean) line: 968\t\r\n    \tWindowsFileSystemView(FileSystemView).getSystemIcon(File) line: 243\t\r\n    \tWindowsFileChooserUI$WindowsFileView.getIcon(File) line: 1300\t\r\n    \tJFileChooser.getIcon(File) line: 1609\t\r\n    \tWindowsFileChooserUI$DirectoryComboBoxRenderer.getListCellRendererComponent(JList, Object, int, boolean, boolean) line: 998\t\r\n    \tBasicListUI.updateLayoutState() line: 1361\r\n    \tBasicListUI.maybeUpdateLayoutState() line: 1311\r\n    \tBasicListUI$Handler.valueChanged(ListSelectionEvent) line: 2623\t\r\n    \tDefaultListSelectionModel.fireValueChanged(int, int, boolean) line: 184\t\r\n    \tDefaultListSelectionModel.fireValueChanged(int, int) line: 164\t\r\n    \tDefaultListSelectionModel.fireValueChanged() line: 211\t\r\n    \tDefaultListSelectionModel.changeSelection(int, int, int, int, boolean) line: 405\t\r\n    \tDefaultListSelectionModel.changeSelection(int, int, int, int) line: 415\t\r\n    \tDefaultListSelectionModel.setSelectionInterval(int, int) line: 459\t\r\n    \tBasicComboPopup$1(JList&lt;E&gt;).setSelectedIndex(int) line: 2216\t\r\n    \tBasicComboPopup.setListSelection(int) line: 1186\t\r\n    \tBasicComboPopup.access$300(BasicComboPopup, int) line: 65\t\r\n    \tBasicComboPopup$Handler.itemStateChanged(ItemEvent) line: 1015\t\r\n    \tWindowsFileChooserUI$2(JComboBox&lt;E&gt;).fireItemStateChanged(ItemEvent) line: 1223\t\r\n    \tWindowsFileChooserUI$2(JComboBox&lt;E&gt;).selectedItemChanged() line: 1280\t\r\n    \tWindowsFileChooserUI$2(JComboBox&lt;E&gt;).contentsChanged(ListDataEvent) line: 1330\t\r\n    \tWindowsFileChooserUI$DirectoryComboBoxModel(AbstractListModel&lt;E&gt;).fireContentsChanged(Object, int, int) line: 118\t\r\n    \tWindowsFileChooserUI$DirectoryComboBoxModel.setSelectedItem(Object) line: 1140\t\r\n    \tWindowsFileChooserUI$DirectoryComboBoxModel.addItem(File) line: 1111\t\r\n    \tWindowsFileChooserUI$DirectoryComboBoxModel.access$800(WindowsFileChooserUI$DirectoryComboBoxModel, File) line: 1041\t\r\n    \tWindowsFileChooserUI.doDirectoryChanged(PropertyChangeEvent) line: 730\t\r\n    \tWindowsFileChooserUI.access$1100(WindowsFileChooserUI, PropertyChangeEvent) line: 55\t\r\n    \tWindowsFileChooserUI$11.propertyChange(PropertyChangeEvent) line: 821\t\r\n    \tPropertyChangeSupport.fire(PropertyChangeListener[], PropertyChangeEvent) line: 335\t\r\n    \tPropertyChangeSupport.firePropertyChange(PropertyChangeEvent) line: 327\t\r\n    \tPropertyChangeSupport.firePropertyChange(String, Object, Object) line: 263\t\r\n    \tJFileChooser(Component).firePropertyChange(String, Object, Object) line: 8434\t\r\n    \tJFileChooser.setCurrentDirectory(File) line: 598\t\r\n    \tJFileChooser.&lt;init&gt;(File, FileSystemView) line: 344\t\r\n    \tJFileChooser.&lt;init&gt;(File) line: 326\t\r\n    \tFileChooser.&lt;clinit&gt;() line: 15\t\r\n        ...\r\n\r\nSo I see two solutions: \r\n\r\nInitialize your file chooser long before you need it, as mentioned by Joop Eggen, or install your own UI, which tries to retrieve the icon in extra threads and only returns those icons which are available immediately.\r\n\r\n","title":"JFileChooser is very slow when using windows look and feel","body":"<p>I had the same problem and at least in my case it had nothing to do with the version of Windows or Java.</p>\n\n<p>During creation of the JFileChooser the <em>Windows look and feel</em> already tries to calculate the size of the combobox of the current directory by asking for the icons of all visible items - including the icons of network shares. And in my case some of my network shares were not available. </p>\n\n<p>That was my stacktrace on Java 8 and Windows 10:</p>\n\n<pre><code>Thread [AWT-EventQueue-0]\n    Unsafe.park(boolean, long) line: not available [native method]  \n    LockSupport.park(Object) line: 175  \n    FutureTask&lt;V&gt;.awaitDone(boolean, long) line: 429    \n    FutureTask&lt;V&gt;.get() line: 191\n    Win32ShellFolderManager2$ComInvoker.invoke(Callable&lt;T&gt;) line: 582   \n    ShellFolder.invoke(Callable&lt;T&gt;, Class&lt;E&gt;) line: 518 \n    ShellFolder.invoke(Callable&lt;T&gt;) line: 504   \n    Win32ShellFolder2.getIcon(boolean) line: 968    \n    WindowsFileSystemView(FileSystemView).getSystemIcon(File) line: 243 \n    WindowsFileChooserUI$WindowsFileView.getIcon(File) line: 1300   \n    JFileChooser.getIcon(File) line: 1609   \n    WindowsFileChooserUI$DirectoryComboBoxRenderer.getListCellRendererComponent(JList, Object, int, boolean, boolean) line: 998 \n    BasicListUI.updateLayoutState() line: 1361\n    BasicListUI.maybeUpdateLayoutState() line: 1311\n    BasicListUI$Handler.valueChanged(ListSelectionEvent) line: 2623 \n    DefaultListSelectionModel.fireValueChanged(int, int, boolean) line: 184 \n    DefaultListSelectionModel.fireValueChanged(int, int) line: 164  \n    DefaultListSelectionModel.fireValueChanged() line: 211  \n    DefaultListSelectionModel.changeSelection(int, int, int, int, boolean) line: 405    \n    DefaultListSelectionModel.changeSelection(int, int, int, int) line: 415 \n    DefaultListSelectionModel.setSelectionInterval(int, int) line: 459  \n    BasicComboPopup$1(JList&lt;E&gt;).setSelectedIndex(int) line: 2216    \n    BasicComboPopup.setListSelection(int) line: 1186    \n    BasicComboPopup.access$300(BasicComboPopup, int) line: 65   \n    BasicComboPopup$Handler.itemStateChanged(ItemEvent) line: 1015  \n    WindowsFileChooserUI$2(JComboBox&lt;E&gt;).fireItemStateChanged(ItemEvent) line: 1223 \n    WindowsFileChooserUI$2(JComboBox&lt;E&gt;).selectedItemChanged() line: 1280   \n    WindowsFileChooserUI$2(JComboBox&lt;E&gt;).contentsChanged(ListDataEvent) line: 1330  \n    WindowsFileChooserUI$DirectoryComboBoxModel(AbstractListModel&lt;E&gt;).fireContentsChanged(Object, int, int) line: 118   \n    WindowsFileChooserUI$DirectoryComboBoxModel.setSelectedItem(Object) line: 1140  \n    WindowsFileChooserUI$DirectoryComboBoxModel.addItem(File) line: 1111    \n    WindowsFileChooserUI$DirectoryComboBoxModel.access$800(WindowsFileChooserUI$DirectoryComboBoxModel, File) line: 1041    \n    WindowsFileChooserUI.doDirectoryChanged(PropertyChangeEvent) line: 730  \n    WindowsFileChooserUI.access$1100(WindowsFileChooserUI, PropertyChangeEvent) line: 55    \n    WindowsFileChooserUI$11.propertyChange(PropertyChangeEvent) line: 821   \n    PropertyChangeSupport.fire(PropertyChangeListener[], PropertyChangeEvent) line: 335 \n    PropertyChangeSupport.firePropertyChange(PropertyChangeEvent) line: 327 \n    PropertyChangeSupport.firePropertyChange(String, Object, Object) line: 263  \n    JFileChooser(Component).firePropertyChange(String, Object, Object) line: 8434   \n    JFileChooser.setCurrentDirectory(File) line: 598    \n    JFileChooser.&lt;init&gt;(File, FileSystemView) line: 344 \n    JFileChooser.&lt;init&gt;(File) line: 326 \n    FileChooser.&lt;clinit&gt;() line: 15 \n    ...\n</code></pre>\n\n<p>So I see two solutions: </p>\n\n<p>Initialize your file chooser long before you need it, as mentioned by Joop Eggen, or install your own UI, which tries to retrieve the icon in extra threads and only returns those icons which are available immediately.</p>\n"},{"tags":[],"owner":{"account_id":21906198,"reputation":1,"user_id":16191238,"display_name":"&#193;lex Costas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623358069,"creation_date":1623358069,"answer_id":67928265,"question_id":49792375,"body_markdown":"For me, the solution was to remove from the desktop the shortcuts to LibreOffice Writer and Calc, the ones that were made automatically during the installation. Made another shortcuts manually (with right click drag and drop) and those didn&#39;t slow the opening of FileChooser. ","title":"JFileChooser is very slow when using windows look and feel","body":"<p>For me, the solution was to remove from the desktop the shortcuts to LibreOffice Writer and Calc, the ones that were made automatically during the installation. Made another shortcuts manually (with right click drag and drop) and those didn't slow the opening of FileChooser.</p>\n"},{"tags":[],"owner":{"account_id":21180,"reputation":9893,"user_id":51292,"accept_rate":59,"display_name":"Ray Tayek"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674436941,"creation_date":1674436941,"answer_id":75205037,"question_id":49792375,"body_markdown":"Just adding to the knowledge base. On win 10 java 18 \r\n\r\njavax.swing.UIManager$LookAndFeelInfo[CDE/Motif com.sun.java.swing.plaf.motif.MotifLookAndFeel]\r\n\r\nworks *really* fast. Note: there is a space between the Motif and the com. in the above.\r\n \r\n","title":"JFileChooser is very slow when using windows look and feel","body":"<p>Just adding to the knowledge base. On win 10 java 18</p>\n<p>javax.swing.UIManager$LookAndFeelInfo[CDE/Motif com.sun.java.swing.plaf.motif.MotifLookAndFeel]</p>\n<p>works <em>really</em> fast. Note: there is a space between the Motif and the com. in the above.</p>\n"}],"owner":{"account_id":8199532,"reputation":103,"user_id":6171281,"display_name":"ch.Joshi elijah"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3541,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":5,"score":6,"last_activity_date":1674436941,"creation_date":1523523888,"question_id":49792375,"body_markdown":"I am getting a load time of approximately 21-40 secs when using JFileChooser along with windows look and feel.If i remove look and feel the code runs very fast.I guess the problem is while initializing `new JFileChooser(&quot;path&quot;);`. Can someone help me ? here is my code \r\n\r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n    import java.io.*;\r\n    import javax.swing.*;\r\n    \r\n    public class MainClass {\r\n    \r\n        public static void main(String[] args) {\r\n            EventQueue.invokeLater(new Runnable() {\r\n    \r\n                public void run() {\r\n                    createGUI();\r\n                }\r\n            });\r\n        }\r\n    \r\n        private static void createGUI() throws HeadlessException {\r\n            final JFrame frame = new JFrame(&quot;JFileChooser Demo&quot;);\r\n    \r\n            try\r\n            {\r\n                UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\r\n            }\r\n            catch (Exception e)\r\n            {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n            final JFileChooser fc = new JFileChooser();\r\n            fc.setMultiSelectionEnabled(true);\r\n            fc.setCurrentDirectory(new File(&quot;./feedback&quot;));\r\n            JButton btn1 = new JButton(&quot;Show Dialog&quot;);\r\n            btn1.addActionListener(new ActionListener() {\r\n    \r\n                public void actionPerformed(ActionEvent e) {\r\n                    fc.showDialog(frame, &quot;Choose&quot;);\r\n                }\r\n            });\r\n    \r\n            Container pane = frame.getContentPane();\r\n            pane.setLayout(new GridLayout(3, 1, 10, 10));\r\n            pane.add(btn1);\r\n    \r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            frame.pack();\r\n            frame.setVisible(true);\r\n        }\r\n    }\r\n","title":"JFileChooser is very slow when using windows look and feel","body":"<p>I am getting a load time of approximately 21-40 secs when using JFileChooser along with windows look and feel.If i remove look and feel the code runs very fast.I guess the problem is while initializing <code>new JFileChooser(\"path\");</code>. Can someone help me ? here is my code </p>\n\n<pre><code>import java.awt.*;\nimport java.awt.event.*;\nimport java.io.*;\nimport javax.swing.*;\n\npublic class MainClass {\n\n    public static void main(String[] args) {\n        EventQueue.invokeLater(new Runnable() {\n\n            public void run() {\n                createGUI();\n            }\n        });\n    }\n\n    private static void createGUI() throws HeadlessException {\n        final JFrame frame = new JFrame(\"JFileChooser Demo\");\n\n        try\n        {\n            UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\n        }\n        catch (Exception e)\n        {\n            e.printStackTrace();\n        }\n\n        final JFileChooser fc = new JFileChooser();\n        fc.setMultiSelectionEnabled(true);\n        fc.setCurrentDirectory(new File(\"./feedback\"));\n        JButton btn1 = new JButton(\"Show Dialog\");\n        btn1.addActionListener(new ActionListener() {\n\n            public void actionPerformed(ActionEvent e) {\n                fc.showDialog(frame, \"Choose\");\n            }\n        });\n\n        Container pane = frame.getContentPane();\n        pane.setLayout(new GridLayout(3, 1, 10, 10));\n        pane.add(btn1);\n\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.pack();\n        frame.setVisible(true);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","rest","thymeleaf"],"comments":[{"owner":{"account_id":27596250,"reputation":1,"user_id":21062417,"display_name":"Vlad Nohai"},"score":0,"creation_date":1674437075,"post_id":75204497,"comment_id":132707881,"body_markdown":"Also I try to return the object with model.getAttribute(&quot;products&quot;) it returns null.","body":"Also I try to return the object with model.getAttribute(&quot;products&quot;) it returns null."}],"owner":{"account_id":27596250,"reputation":1,"user_id":21062417,"display_name":"Vlad Nohai"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":245,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674436335,"creation_date":1674428223,"question_id":75204497,"body_markdown":"I am trying to modify properties of a list of products found in a wrapper object. I&#39;m passing the object as a model attribute in the controller:\r\n\r\n```\r\n@GetMapping(&quot;&quot;)\r\npublic String open(Model model) {\r\n...\r\nArrayList&lt;BusinessProduct&gt; products = new ArrayList&lt;&gt;();\r\n        businessService.getAcceptedProducts(business, true).iterator().forEachRemaining(products::add);\r\n        var wrappedProducts = new GenericListWrapper&lt;BusinessProduct&gt;(products);\r\n        model.addAttribute(&quot;products&quot;, wrappedProducts);\r\n...\r\nreturn &quot;manageproducts&quot;;\r\n}\r\n```\r\n\r\nThe view correctly iterates and renders the entire list when the page loads:\r\n\r\n\r\n```\r\n&lt;div style=&quot;margin-top: 50px; position: fixed&quot;&gt;\r\n    The products you sell:\r\n    &lt;form method=&quot;post&quot; th:action=&quot;@{/manageproducts}&quot; style=&quot;display: grid;\r\n                    grid-template-columns: repeat(4, 1fr);\r\n                    gap: 10px;&quot; th:object=&quot;${products}&quot;&gt;\r\n\r\n        &lt;div th:each=&quot;product, itemStat: ${products.getElements()}&quot; class=&quot;container mt-5&quot;&gt;\r\n            &lt;div class=&quot;shadow p-3 mb-5 bg-body rounded&quot;&gt;\r\n                &lt;div th:text=&quot;${product.getProductEntity().getName()}&quot;&gt;&lt;/div&gt;\r\n\r\n                &lt;input hidden th:value=&quot;${product.getId()}&quot;\r\n                       th:field=&quot;*{elements[__${itemStat.index}__].id}&quot;&gt;\r\n                &lt;p&gt;Price:&lt;/p&gt;\r\n                &lt;input type=&quot;number&quot; th:value=&quot;${product.getPrice()}&quot;\r\n                       th:field=&quot;*{elements[__${itemStat.index}__].price}&quot;&gt;\r\n                &lt;p&gt;Quantity:&lt;/p&gt;\r\n                &lt;input th:disabled=&quot;${locked}&quot; type=&quot;number&quot;\r\n                       th:value=&quot;${product.getQuantity()}&quot; th:field=&quot;*{elements[__${itemStat.index}__].quantity}&quot;&gt;\r\n            &lt;/div&gt;\r\n\r\n        &lt;/div&gt;\r\n        &lt;button type=&quot;submit&quot;&gt;Submit Changes&lt;/button&gt;\r\n    &lt;/form&gt;\r\n&lt;/div&gt;\r\n```\r\n\r\nHowever when i submit the form my POST Mapping tries to obtain the &quot;products&quot; parameter like this:\r\n\r\n```\r\n@PostMapping(&quot;&quot;)    \r\npublic String update(@ModelAttribute(&quot;products&quot;) GenericListWrapper&lt;BusinessProduct&gt; products){\r\n   //Code here\r\n   return &quot;redirect:/manageproducts&quot;;\r\n}\r\n```\r\n\r\nAnd I get this Error:\r\n\r\n&gt; Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.beans.InvalidPropertyException: Invalid property &#39;elements[0]&#39; of bean class [com.example.springbootthymeleaftw.model.entity.Wrappers.GenericListWrapper]: Index of out of bounds in property path &#39;elements[0]&#39;; nested exception is java.lang.IndexOutOfBoundsException: Index 0 out of bounds for length 0] with root cause\r\n\r\n\r\nIs there anything that I&#39;m missing that doesn&#39;t let me access the object&#39;s properties? I&#39;ve done more or less the same thing in different parts of the project and this is the only one that malfunctions.\r\n\r\nEdit: I&#39;ve also tried to use th:name=&quot;|elements[${itemStat.index}].id|&quot; instead of th:field but with no luck.\r\n\r\n","title":"Spring Boot Thymeleaf: Invalid property &#39;elements[0]&#39; of bean class. Index 0 out of bounds for length 0","body":"<p>I am trying to modify properties of a list of products found in a wrapper object. I'm passing the object as a model attribute in the controller:</p>\n<pre><code>@GetMapping(&quot;&quot;)\npublic String open(Model model) {\n...\nArrayList&lt;BusinessProduct&gt; products = new ArrayList&lt;&gt;();\n        businessService.getAcceptedProducts(business, true).iterator().forEachRemaining(products::add);\n        var wrappedProducts = new GenericListWrapper&lt;BusinessProduct&gt;(products);\n        model.addAttribute(&quot;products&quot;, wrappedProducts);\n...\nreturn &quot;manageproducts&quot;;\n}\n</code></pre>\n<p>The view correctly iterates and renders the entire list when the page loads:</p>\n<pre><code>&lt;div style=&quot;margin-top: 50px; position: fixed&quot;&gt;\n    The products you sell:\n    &lt;form method=&quot;post&quot; th:action=&quot;@{/manageproducts}&quot; style=&quot;display: grid;\n                    grid-template-columns: repeat(4, 1fr);\n                    gap: 10px;&quot; th:object=&quot;${products}&quot;&gt;\n\n        &lt;div th:each=&quot;product, itemStat: ${products.getElements()}&quot; class=&quot;container mt-5&quot;&gt;\n            &lt;div class=&quot;shadow p-3 mb-5 bg-body rounded&quot;&gt;\n                &lt;div th:text=&quot;${product.getProductEntity().getName()}&quot;&gt;&lt;/div&gt;\n\n                &lt;input hidden th:value=&quot;${product.getId()}&quot;\n                       th:field=&quot;*{elements[__${itemStat.index}__].id}&quot;&gt;\n                &lt;p&gt;Price:&lt;/p&gt;\n                &lt;input type=&quot;number&quot; th:value=&quot;${product.getPrice()}&quot;\n                       th:field=&quot;*{elements[__${itemStat.index}__].price}&quot;&gt;\n                &lt;p&gt;Quantity:&lt;/p&gt;\n                &lt;input th:disabled=&quot;${locked}&quot; type=&quot;number&quot;\n                       th:value=&quot;${product.getQuantity()}&quot; th:field=&quot;*{elements[__${itemStat.index}__].quantity}&quot;&gt;\n            &lt;/div&gt;\n\n        &lt;/div&gt;\n        &lt;button type=&quot;submit&quot;&gt;Submit Changes&lt;/button&gt;\n    &lt;/form&gt;\n&lt;/div&gt;\n</code></pre>\n<p>However when i submit the form my POST Mapping tries to obtain the &quot;products&quot; parameter like this:</p>\n<pre><code>@PostMapping(&quot;&quot;)    \npublic String update(@ModelAttribute(&quot;products&quot;) GenericListWrapper&lt;BusinessProduct&gt; products){\n   //Code here\n   return &quot;redirect:/manageproducts&quot;;\n}\n</code></pre>\n<p>And I get this Error:</p>\n<blockquote>\n<p>Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.beans.InvalidPropertyException: Invalid property 'elements[0]' of bean class [com.example.springbootthymeleaftw.model.entity.Wrappers.GenericListWrapper]: Index of out of bounds in property path 'elements[0]'; nested exception is java.lang.IndexOutOfBoundsException: Index 0 out of bounds for length 0] with root cause</p>\n</blockquote>\n<p>Is there anything that I'm missing that doesn't let me access the object's properties? I've done more or less the same thing in different parts of the project and this is the only one that malfunctions.</p>\n<p>Edit: I've also tried to use th:name=&quot;|elements[${itemStat.index}].id|&quot; instead of th:field but with no luck.</p>\n"},{"tags":["java","spring-mvc","tomcat"],"answers":[{"comments":[{"owner":{"account_id":14332395,"reputation":103,"user_id":10352830,"display_name":"Erdem Siyam"},"score":0,"creation_date":1557417254,"post_id":56053189,"comment_id":98766636,"body_markdown":"i removed the apache and download again and include to project, and i did select redeploy, but still same error.","body":"i removed the apache and download again and include to project, and i did select redeploy, but still same error."},{"owner":{"account_id":6686844,"reputation":404,"user_id":5157770,"display_name":"Tinashe Chinyanga"},"score":1,"creation_date":1625427333,"post_id":56053189,"comment_id":120619036,"body_markdown":"Did you manage to resolve this @ErdemSiyam","body":"Did you manage to resolve this @ErdemSiyam"},{"owner":{"account_id":14332395,"reputation":103,"user_id":10352830,"display_name":"Erdem Siyam"},"score":0,"creation_date":1625842284,"post_id":56053189,"comment_id":120743005,"body_markdown":"@TinasheChinyanga i just deleted everything about java and tomcat, than re-install all of these last versions.","body":"@TinasheChinyanga i just deleted everything about java and tomcat, than re-install all of these last versions."}],"tags":[],"owner":{"account_id":9273909,"reputation":3750,"user_id":6887084,"display_name":"ScanQR"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1557382269,"creation_date":1557382269,"answer_id":56053189,"question_id":56048598,"body_markdown":"You should try deleting existing deployed war from webapps of tomcat and try redeploying a fresh war. It seems your any of the existing application has same packaging details which are conflicting with your new project.\r\n\r\nClear those wars ( and there directories ) from webapps which are not required.","title":"Illegal access: this web application instance has been stopped already. Tomcat Stop Run","body":"<p>You should try deleting existing deployed war from webapps of tomcat and try redeploying a fresh war. It seems your any of the existing application has same packaging details which are conflicting with your new project.</p>\n\n<p>Clear those wars ( and there directories ) from webapps which are not required.</p>\n"},{"tags":[],"owner":{"account_id":27596746,"reputation":1,"user_id":21062811,"display_name":"markuss"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674436292,"creation_date":1674436292,"answer_id":75204999,"question_id":56048598,"body_markdown":"had the same problem with me. I just deleted(not un-installed) the old tomcat and installed new tomcat with same version on the same directory as before. Worked perfectly for me.","title":"Illegal access: this web application instance has been stopped already. Tomcat Stop Run","body":"<p>had the same problem with me. I just deleted(not un-installed) the old tomcat and installed new tomcat with same version on the same directory as before. Worked perfectly for me.</p>\n"}],"owner":{"account_id":14332395,"reputation":103,"user_id":10352830,"display_name":"Erdem Siyam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10429,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":2,"score":3,"last_activity_date":1674436292,"creation_date":1557347363,"question_id":56048598,"body_markdown":"Apache Tomcat Server 9.0.19 Not Start.\r\nI created new project and include the tomcat but not start and giving this error\r\n\r\n    08-May-2019 23:18:03.205 INFO [mysql-cj-abandoned-connection-cleanup] org.apache.catalina.loader.WebappClassLoaderBase.checkStateForResourceLoading Illegal access: this web application instance has been stopped already. Could not load []. The following stack trace is thrown for debugging purposes as well as to attempt to terminate the thread which caused the illegal access.\r\n     java.lang.IllegalStateException: Illegal access: this web application instance has been stopped already. Could not load []. The following stack trace is thrown for debugging purposes as well as to attempt to terminate the thread which caused the illegal access.\r\n    \tat org.apache.catalina.loader.WebappClassLoaderBase.checkStateForResourceLoading(WebappClassLoaderBase.java:1383)\r\n    \tat org.apache.catalina.loader.WebappClassLoaderBase.getResource(WebappClassLoaderBase.java:1036)\r\n    \tat com.mysql.cj.jdbc.AbandonedConnectionCleanupThread.checkThreadContextClassLoader(AbandonedConnectionCleanupThread.java:117)\r\n    \tat com.mysql.cj.jdbc.AbandonedConnectionCleanupThread.run(AbandonedConnectionCleanupThread.java:84)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:834)\r\n\r\nSome solutions at below, which prev questions on stackoverflow\r\n\r\n - restart tomcat \r\n - delete caches \r\n - enter to vm option this : &quot;-XX:MaxPermSize=1024m&quot;\r\n\r\nbut still doesn&#39;t work.\r\n\r\ncan anyone help me","title":"Illegal access: this web application instance has been stopped already. Tomcat Stop Run","body":"<p>Apache Tomcat Server 9.0.19 Not Start.\nI created new project and include the tomcat but not start and giving this error</p>\n\n<pre><code>08-May-2019 23:18:03.205 INFO [mysql-cj-abandoned-connection-cleanup] org.apache.catalina.loader.WebappClassLoaderBase.checkStateForResourceLoading Illegal access: this web application instance has been stopped already. Could not load []. The following stack trace is thrown for debugging purposes as well as to attempt to terminate the thread which caused the illegal access.\n java.lang.IllegalStateException: Illegal access: this web application instance has been stopped already. Could not load []. The following stack trace is thrown for debugging purposes as well as to attempt to terminate the thread which caused the illegal access.\n    at org.apache.catalina.loader.WebappClassLoaderBase.checkStateForResourceLoading(WebappClassLoaderBase.java:1383)\n    at org.apache.catalina.loader.WebappClassLoaderBase.getResource(WebappClassLoaderBase.java:1036)\n    at com.mysql.cj.jdbc.AbandonedConnectionCleanupThread.checkThreadContextClassLoader(AbandonedConnectionCleanupThread.java:117)\n    at com.mysql.cj.jdbc.AbandonedConnectionCleanupThread.run(AbandonedConnectionCleanupThread.java:84)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at java.base/java.lang.Thread.run(Thread.java:834)\n</code></pre>\n\n<p>Some solutions at below, which prev questions on stackoverflow</p>\n\n<ul>\n<li>restart tomcat </li>\n<li>delete caches </li>\n<li>enter to vm option this : \"-XX:MaxPermSize=1024m\"</li>\n</ul>\n\n<p>but still doesn't work.</p>\n\n<p>can anyone help me</p>\n"},{"tags":["java","spring","oauth-2.0","webclient"],"comments":[{"owner":{"account_id":20466438,"reputation":115,"user_id":15017829,"display_name":"Mike Kim"},"score":0,"creation_date":1672715924,"post_id":74988464,"comment_id":132333116,"body_markdown":"What happens if you do `bodyToMono(String.class)`?","body":"What happens if you do <code>bodyToMono(String.class)</code>?"},{"owner":{"account_id":20088433,"reputation":71,"user_id":14729508,"display_name":"Alkin Kiroglu"},"score":0,"creation_date":1672790139,"post_id":74988464,"comment_id":132352328,"body_markdown":"Same result the response returns null","body":"Same result the response returns null"},{"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"score":0,"creation_date":1673218644,"post_id":74988464,"comment_id":132443212,"body_markdown":"Are you using Netty as backend for WebClient? If so, maybe you try to enable debug (or even trace) to investigate the request/response ? logging.level.reactor.netty.http.client.HttpClient: DEBUG","body":"Are you using Netty as backend for WebClient? If so, maybe you try to enable debug (or even trace) to investigate the request/response ? logging.level.reactor.netty.http.client.HttpClient: DEBUG"}],"answers":[{"tags":[],"owner":{"account_id":20088433,"reputation":71,"user_id":14729508,"display_name":"Alkin Kiroglu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674434951,"creation_date":1674434951,"answer_id":75204933,"question_id":74988464,"body_markdown":"I found out the reason, it turns out the random endpoint for Reddit returns a 302 redirect which redirects to a real request to retrieve a random post so enabling the redirect for WebClient solved the issue for me. I used netty HttpClient to enable the redirects so adding this solved the issue for me: \r\n\r\n.clientConnector(new ReactorClientHttpConnector( HttpClient.create().followRedirect(true)))\r\n","title":"WebClient returning null after making a request to the reddit api","body":"<p>I found out the reason, it turns out the random endpoint for Reddit returns a 302 redirect which redirects to a real request to retrieve a random post so enabling the redirect for WebClient solved the issue for me. I used netty HttpClient to enable the redirects so adding this solved the issue for me:</p>\n<p>.clientConnector(new ReactorClientHttpConnector( HttpClient.create().followRedirect(true)))</p>\n"}],"owner":{"account_id":20088433,"reputation":71,"user_id":14729508,"display_name":"Alkin Kiroglu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75204933,"answer_count":1,"score":0,"last_activity_date":1674434951,"creation_date":1672710740,"question_id":74988464,"body_markdown":"I am trying to write a backend to integrate with reddits API, I created a web client with my app clientId and secret which works fine for this request \r\n\r\n    webClient.get()\r\n                .uri(&quot;/api/v1/me&quot;)\r\n                .attributes(ServerOAuth2AuthorizedClientExchangeFilterFunction.clientRegistrationId(&quot;reddit&quot;))\r\n                .retrieve()\r\n                .bodyToMono(new ParameterizedTypeReference&lt;String&gt;() { })\r\n                .block();\r\n\r\nthis returns a valid response as a String, since I have been testing my implementation I haven&#39;t introduced any models yet; on the other side the request that I make to retrieve a random post from /r/theonion subreddit returns null without any exceptions.\r\n\r\n    webClient.get()\r\n                .uri(&quot;/r/theonion/random&quot;)\r\n                .attributes(ServerOAuth2AuthorizedClientExchangeFilterFunction.clientRegistrationId(&quot;reddit&quot;))\r\n                .retrieve()\r\n                .bodyToMono(new ParameterizedTypeReference&lt;String&gt;() { })\r\n                .block();\r\nThis request just returns null and I have no idea what is wrong with it since I am not getting any exceptions and the similar request(the one above) is working fine. Also after authenticating myself with postman using the app clientId and secret, I can execute this call and get a response.\r\n[![enter image description here][1]][1] Any help would be appreciated! Thank you! \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Vx2cr.png","title":"WebClient returning null after making a request to the reddit api","body":"<p>I am trying to write a backend to integrate with reddits API, I created a web client with my app clientId and secret which works fine for this request</p>\n<pre><code>webClient.get()\n            .uri(&quot;/api/v1/me&quot;)\n            .attributes(ServerOAuth2AuthorizedClientExchangeFilterFunction.clientRegistrationId(&quot;reddit&quot;))\n            .retrieve()\n            .bodyToMono(new ParameterizedTypeReference&lt;String&gt;() { })\n            .block();\n</code></pre>\n<p>this returns a valid response as a String, since I have been testing my implementation I haven't introduced any models yet; on the other side the request that I make to retrieve a random post from /r/theonion subreddit returns null without any exceptions.</p>\n<pre><code>webClient.get()\n            .uri(&quot;/r/theonion/random&quot;)\n            .attributes(ServerOAuth2AuthorizedClientExchangeFilterFunction.clientRegistrationId(&quot;reddit&quot;))\n            .retrieve()\n            .bodyToMono(new ParameterizedTypeReference&lt;String&gt;() { })\n            .block();\n</code></pre>\n<p>This request just returns null and I have no idea what is wrong with it since I am not getting any exceptions and the similar request(the one above) is working fine. Also after authenticating myself with postman using the app clientId and secret, I can execute this call and get a response.\n<a href=\"https://i.stack.imgur.com/Vx2cr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Vx2cr.png\" alt=\"enter image description here\" /></a> Any help would be appreciated! Thank you!</p>\n"},{"tags":["java","interface","coupling"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1674430801,"post_id":75204665,"comment_id":132707206,"body_markdown":"No. You only have to re-compile a class if you change the class itself.","body":"No. You only have to re-compile a class if you change the class itself."},{"owner":{"account_id":2488885,"reputation":18917,"user_id":2166798,"accept_rate":50,"display_name":"pjs"},"score":2,"creation_date":1674431078,"post_id":75204665,"comment_id":132707243,"body_markdown":"Unrelated to your question, but be aware that financial calculations should be done with integer arithmetic, i.e., to the penny if working with dollars. Banks learned decades ago that the imprecision of floating point arithmetic wreaked havoc when they got audited.","body":"Unrelated to your question, but be aware that financial calculations should be done with integer arithmetic, i.e., to the penny if working with dollars. Banks learned decades ago that the imprecision of floating point arithmetic wreaked havoc when they got audited."},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":2,"creation_date":1674431448,"post_id":75204665,"comment_id":132707291,"body_markdown":"Not unless you change the way you interface to that class.  But then.that would also require you yo modify those other classes.","body":"Not unless you change the way you interface to that class.  But then.that would also require you yo modify those other classes."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1674432354,"creation_date":1674432354,"answer_id":75204780,"question_id":75204665,"body_markdown":"Yeah, that lecturer was just dead wrong. More generally, this is a _very_ outdated notion that used to be a somewhat common refrain, and various lecturers still espouse it:\r\n\r\nThe idea that, if you have a class, you make a tandem interface that contains every (public) method in that class; given that the class already occupies the name of the concept, the interface can&#39;t be given a good name, and thus, an I is prefixed. You have a `class Student` and a matching `interface IStudent`.\r\n\r\nDon&#39;t do that. It&#39;s a ton of typing, even if you use tools to auto-generate it, everytime you change one you are then forced to change the other, and __there is no point to it__.\r\n\r\nThere are exotic and mostly irrelevant ways in which you get a &#39;more tight coupling&#39; between a user of the `Student` class and the `Student` class code itself vs. having that user use `IStudent` instead. It sounds like either you or more likely perhaps the lecturer is confused and presumed that this tight coupling implies that _any_ change in `Student.java` would thus require a recompile.\r\n\r\nFurthermore, if those examples are from the lecture, oh boy. `double` is absolutely not at all acceptable for financial anything. That should most likely be an `int` or `long`, representing cents (or whatever passes for &#39;atomic monetary unit&#39; for the currency in question; pennies for pounds, satoshis for bitcoin, yen for yen, and so on). In rare cases, `BigDecimal`. In any case, not, ever, `double` or `float`.\r\n\r\nYou need to recompile B, where B uses something from A, if:\r\n\r\n* You change the value of a constant in A that is used directly used by B, and that constant was &#39;CTC&#39; (Compile Time Constant). Only the primitives and strings can be CTC, and they are CTC if the field is `static final`, _and_ is immediately initialized (vs. initialized in a separate `static {}` block), _and_ whose expression is itself CTC, which means its comprised of literals and possibly simple operations between CTCs, e.g. in `static final int a = 5; static final int b = a + 10;`, `b` is also CTC. In contrast, e.g. `static final long c = System.currentTimeMillis();` is not a compile time constant because `System.currentTimeMillis()` isn&#39;t, for obvious reasons.\r\n\r\n* You change a signature of any element in A that B uses. Even if the caller (B.java here) can be recompiled with zero changes. For example, you have in `A.java`: `void foo(String param)` and you change that `void foo(Object param)`. Even though `foo(&quot;hello&quot;)` is a valid call to either method, you still need to recompile here. Relevant elements are the name of the method, the types of the parameters (not the names), and the return type. Changing the exceptions you throw is fine. Deleting something in A that B used is, naturally, also something that&#39;d require a recompile.\r\n\r\nAnd that&#39;s essentially it. The interjection of an interface doesn&#39;t meaningfully change this list - if that constant is in the interface, the same principle applies (if you change it, you have to recompile users of this constant), and if you change signatures, you&#39;d have to change them in the interface as well, and we&#39;re back where we started.\r\n\r\nAdding an interface does have some generally irrelevant bonuses.\r\n\r\n* As a caveat, any such attempt must always answer the rather poignant question of: But how do callers _make_ an instance? If the lecturer uses `IStudent student = new Student();` they messed that up, and the few mostly irrelevant benefits of using an interface are gone.\r\n\r\n* If there are meaningfully different implementations available (quick rule of thumb: If you can come up with good news for all relevant types, this is the case), using an interface is &#39;correct&#39; and none of this applies. For example, `java.util.List` is the interface, `java.util.LinkedList` and `java.util.ArrayList` are meaningfully different implementations of the same idea.\r\n\r\n* It&#39;s slightly easier to make an implementation of the interface specifically for test purposes. However, mocks and extending the class are generalized solutions to this problem too and usually work just as well, and more generally making a test-specific impl requires more care than just a rote application of the &#39;make a mirroring interface&#39; principle.\r\n\r\n* You get an extra level of access - you can have `public` things in the class that nevertheless aren&#39;t mirrored in the interface, and thus, are not &#39;accessible&#39; via the interface. There is a single good reason to make things `public` when they aren&#39;t really meant for external consumption: When you have a multi-package system. Java&#39;s module system acknowledges this too, and (via the &#39;exported package&#39; concept) also introduces, effectively, another access level (a `public` thing in a non-exported package is not accessible from other modules, it&#39;s not as public as a `public` thing in an exported package). This is outdated, and there are ways around it even in a multi-package library, and it doesn&#39;t actually stop much - you cannot enforce callers to &#39;code to the interface&#39;&lt;sup&gt;1&lt;/sup&gt;\r\n\r\n1) Well, you can, but those are a bit clunky, and those would _also_ stop another package in the same project, which was the whole point. You can use hacks to get around this, but if you&#39;re willing to use these hacks, you can just make those `public`, but not actually meant for external consumption non-public and use the same hackery.\r\n","title":"When we change the implementation of a method, do we have to recompile dependent classes?","body":"<p>Yeah, that lecturer was just dead wrong. More generally, this is a <em>very</em> outdated notion that used to be a somewhat common refrain, and various lecturers still espouse it:</p>\n<p>The idea that, if you have a class, you make a tandem interface that contains every (public) method in that class; given that the class already occupies the name of the concept, the interface can't be given a good name, and thus, an I is prefixed. You have a <code>class Student</code> and a matching <code>interface IStudent</code>.</p>\n<p>Don't do that. It's a ton of typing, even if you use tools to auto-generate it, everytime you change one you are then forced to change the other, and <strong>there is no point to it</strong>.</p>\n<p>There are exotic and mostly irrelevant ways in which you get a 'more tight coupling' between a user of the <code>Student</code> class and the <code>Student</code> class code itself vs. having that user use <code>IStudent</code> instead. It sounds like either you or more likely perhaps the lecturer is confused and presumed that this tight coupling implies that <em>any</em> change in <code>Student.java</code> would thus require a recompile.</p>\n<p>Furthermore, if those examples are from the lecture, oh boy. <code>double</code> is absolutely not at all acceptable for financial anything. That should most likely be an <code>int</code> or <code>long</code>, representing cents (or whatever passes for 'atomic monetary unit' for the currency in question; pennies for pounds, satoshis for bitcoin, yen for yen, and so on). In rare cases, <code>BigDecimal</code>. In any case, not, ever, <code>double</code> or <code>float</code>.</p>\n<p>You need to recompile B, where B uses something from A, if:</p>\n<ul>\n<li><p>You change the value of a constant in A that is used directly used by B, and that constant was 'CTC' (Compile Time Constant). Only the primitives and strings can be CTC, and they are CTC if the field is <code>static final</code>, <em>and</em> is immediately initialized (vs. initialized in a separate <code>static {}</code> block), <em>and</em> whose expression is itself CTC, which means its comprised of literals and possibly simple operations between CTCs, e.g. in <code>static final int a = 5; static final int b = a + 10;</code>, <code>b</code> is also CTC. In contrast, e.g. <code>static final long c = System.currentTimeMillis();</code> is not a compile time constant because <code>System.currentTimeMillis()</code> isn't, for obvious reasons.</p>\n</li>\n<li><p>You change a signature of any element in A that B uses. Even if the caller (B.java here) can be recompiled with zero changes. For example, you have in <code>A.java</code>: <code>void foo(String param)</code> and you change that <code>void foo(Object param)</code>. Even though <code>foo(&quot;hello&quot;)</code> is a valid call to either method, you still need to recompile here. Relevant elements are the name of the method, the types of the parameters (not the names), and the return type. Changing the exceptions you throw is fine. Deleting something in A that B used is, naturally, also something that'd require a recompile.</p>\n</li>\n</ul>\n<p>And that's essentially it. The interjection of an interface doesn't meaningfully change this list - if that constant is in the interface, the same principle applies (if you change it, you have to recompile users of this constant), and if you change signatures, you'd have to change them in the interface as well, and we're back where we started.</p>\n<p>Adding an interface does have some generally irrelevant bonuses.</p>\n<ul>\n<li><p>As a caveat, any such attempt must always answer the rather poignant question of: But how do callers <em>make</em> an instance? If the lecturer uses <code>IStudent student = new Student();</code> they messed that up, and the few mostly irrelevant benefits of using an interface are gone.</p>\n</li>\n<li><p>If there are meaningfully different implementations available (quick rule of thumb: If you can come up with good news for all relevant types, this is the case), using an interface is 'correct' and none of this applies. For example, <code>java.util.List</code> is the interface, <code>java.util.LinkedList</code> and <code>java.util.ArrayList</code> are meaningfully different implementations of the same idea.</p>\n</li>\n<li><p>It's slightly easier to make an implementation of the interface specifically for test purposes. However, mocks and extending the class are generalized solutions to this problem too and usually work just as well, and more generally making a test-specific impl requires more care than just a rote application of the 'make a mirroring interface' principle.</p>\n</li>\n<li><p>You get an extra level of access - you can have <code>public</code> things in the class that nevertheless aren't mirrored in the interface, and thus, are not 'accessible' via the interface. There is a single good reason to make things <code>public</code> when they aren't really meant for external consumption: When you have a multi-package system. Java's module system acknowledges this too, and (via the 'exported package' concept) also introduces, effectively, another access level (a <code>public</code> thing in a non-exported package is not accessible from other modules, it's not as public as a <code>public</code> thing in an exported package). This is outdated, and there are ways around it even in a multi-package library, and it doesn't actually stop much - you cannot enforce callers to 'code to the interface'<sup>1</sup></p>\n</li>\n</ul>\n<ol>\n<li>Well, you can, but those are a bit clunky, and those would <em>also</em> stop another package in the same project, which was the whole point. You can use hacks to get around this, but if you're willing to use these hacks, you can just make those <code>public</code>, but not actually meant for external consumption non-public and use the same hackery.</li>\n</ol>\n"}],"owner":{"account_id":27394967,"reputation":25,"user_id":20897331,"display_name":"Henrique Rodrigues"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75204780,"answer_count":1,"score":0,"last_activity_date":1674432857,"creation_date":1674430607,"question_id":75204665,"body_markdown":"Let&#39;s say that we have the following method in class TaxCalculator:\r\n\r\n```\r\npublic double calculateTax(double income) {\r\n    return income * 0.3;\r\n}\r\n```\r\n\r\nAnd we use this method in the Main class like this:\r\n\r\n```\r\nvar calculator = new TaxCalculator();\r\ndouble tax = calculator.calculateTax(100_000);\r\nSystem.out.println(tax);\r\n```\r\n\r\nIf I change the implementation of the `calculateTax` method to:\r\n```\r\npublic double calculateTax(double income) {\r\n    return income * 0.4;\r\n}\r\n```\r\n\r\nDo I need to recompile both the TaxCalculator class and the Main class?\r\n\r\n\r\n\r\nI know this question sounds very silly, but I heard in a lecture that if we don&#39;t use interfaces, every change we make in tightly-coupled code (like the one I showed above) will force us to recompile all the classes that depends on the class we made the change.\r\n\r\nAnd this sounds weird to me, because the Main class doesn&#39;t know the implementation of the method we&#39;ve made the change.\r\n\r\nThanks in advance for any help! ","title":"When we change the implementation of a method, do we have to recompile dependent classes?","body":"<p>Let's say that we have the following method in class TaxCalculator:</p>\n<pre><code>public double calculateTax(double income) {\n    return income * 0.3;\n}\n</code></pre>\n<p>And we use this method in the Main class like this:</p>\n<pre><code>var calculator = new TaxCalculator();\ndouble tax = calculator.calculateTax(100_000);\nSystem.out.println(tax);\n</code></pre>\n<p>If I change the implementation of the <code>calculateTax</code> method to:</p>\n<pre><code>public double calculateTax(double income) {\n    return income * 0.4;\n}\n</code></pre>\n<p>Do I need to recompile both the TaxCalculator class and the Main class?</p>\n<p>I know this question sounds very silly, but I heard in a lecture that if we don't use interfaces, every change we make in tightly-coupled code (like the one I showed above) will force us to recompile all the classes that depends on the class we made the change.</p>\n<p>And this sounds weird to me, because the Main class doesn't know the implementation of the method we've made the change.</p>\n<p>Thanks in advance for any help!</p>\n"},{"tags":["java","spring-boot","apache-kafka","spring-kafka"],"answers":[{"tags":[],"owner":{"account_id":14655333,"reputation":600,"user_id":10584061,"display_name":"ChristDist"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656902567,"creation_date":1656902567,"answer_id":72851297,"question_id":72845880,"body_markdown":"This is how I usually write my JUnit tester classes, that usually wont connect to KAFKA Brokers for each test.\r\n\r\n1. Mocking the REST API, if your KAFKA Client (Producer/Consumer) integrated with a REST API\r\n\r\npublic class MyMockedRESTAPI {\r\n\r\n    public MyMockedRESTAPI() {\r\n    }\r\n\r\n    public APIResponseWrapper apiResponseWrapper(parameters..) throws RestClientException {\r\n        if (throwException) {\r\n            throw new RestClientException(....);\r\n        }\r\n        return new APIResponseWrapper();\r\n    }\r\n}\r\n\r\n\r\n2. A factory class to generate an incoming KAFKA Event and REST API request and response wrappers\r\n\r\npublic class mockFactory {\r\n\r\n    private static final Gson gson = new Gson();\r\n\r\n    public static KAKFAEvent generateKAFKAEvent() {\r\n        KAKFAEvent kafkaEvent = new KAKFAEvent();\r\n        kafkaEvent.set...\r\n        kafkaEvent.set...\r\n        kafkaEvent.set...\r\n\r\n        return KAKFAEvent;\r\n    }\r\n\r\n\r\n    public static ResponseEntity&lt;APIResponse&gt; createAPIResponse() {\r\n        APIResponse response = new APIResponse();\r\n        return new ResponseEntity&lt;&gt;(response, HttpStatus.OK);\r\n    }\r\n}\r\n\r\n3. A Test Runner Class\r\n\r\n\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    \r\n    public class KAFKAJUnitTest {\r\n    \r\n    Your assertion should be declared here\r\n    \r\n    }\r\n\r\nYou can also refer : https://www.baeldung.com/spring-boot-kafka-testing","title":"Disable Kafka connection in SpringBoot tests","body":"<p>This is how I usually write my JUnit tester classes, that usually wont connect to KAFKA Brokers for each test.</p>\n<ol>\n<li>Mocking the REST API, if your KAFKA Client (Producer/Consumer) integrated with a REST API</li>\n</ol>\n<p>public class MyMockedRESTAPI {</p>\n<pre><code>public MyMockedRESTAPI() {\n}\n\npublic APIResponseWrapper apiResponseWrapper(parameters..) throws RestClientException {\n    if (throwException) {\n        throw new RestClientException(....);\n    }\n    return new APIResponseWrapper();\n}\n</code></pre>\n<p>}</p>\n<ol start=\"2\">\n<li>A factory class to generate an incoming KAFKA Event and REST API request and response wrappers</li>\n</ol>\n<p>public class mockFactory {</p>\n<pre><code>private static final Gson gson = new Gson();\n\npublic static KAKFAEvent generateKAFKAEvent() {\n    KAKFAEvent kafkaEvent = new KAKFAEvent();\n    kafkaEvent.set...\n    kafkaEvent.set...\n    kafkaEvent.set...\n\n    return KAKFAEvent;\n}\n\n\npublic static ResponseEntity&lt;APIResponse&gt; createAPIResponse() {\n    APIResponse response = new APIResponse();\n    return new ResponseEntity&lt;&gt;(response, HttpStatus.OK);\n}\n</code></pre>\n<p>}</p>\n<ol start=\"3\">\n<li><p>A Test Runner Class</p>\n<p>@RunWith(SpringJUnit4ClassRunner.class)</p>\n<p>public class KAFKAJUnitTest {</p>\n<p>Your assertion should be declared here</p>\n<p>}</p>\n</li>\n</ol>\n<p>You can also refer : <a href=\"https://www.baeldung.com/spring-boot-kafka-testing\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-boot-kafka-testing</a></p>\n"},{"tags":[],"owner":{"account_id":5888943,"reputation":1,"user_id":4636142,"display_name":"Marwen Mighri"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674432793,"creation_date":1674432793,"answer_id":75204812,"question_id":72845880,"body_markdown":"a good practice would be to avoid sending messages to Kafka while testing code in your isolated microservice scope. but when you need to make an integration test ( many microservices in the same time ) sometimes you need to activate Kafka messages.\r\n\r\nSo my purpose is :\r\n\r\n1- Activate/Deactivate loding Kafka configuration as required\r\n\r\n\r\n    @ConditionalOnProperty(prefix = &quot;my.kafka.consumer&quot;, value = &quot;enabled&quot;, havingValue = &quot;true&quot;, matchIfMissing = false)\r\n    @Configuration\r\n    public class KafkaConsumerConfiguration {\r\n    ...\r\n    }\r\n\r\n    @ConditionalOnProperty(prefix = &quot;my.kafka.producer&quot;, value = &quot;enabled&quot;, havingValue = &quot;true&quot;, matchIfMissing = false)\r\n    @Configuration\r\n    public class KafkaProducerConfiguration {\r\n    ...\r\n    }\r\n\r\n\r\nand then u will be able to activate/deactivate loading consumer and producer as you need...\r\n\r\nExamples :\r\n\r\n    @SpringBootApplication\r\n    @Import(KafkaConsumerConfiguration.class)\r\n    public class MyMicroservice_1 {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(MyMicroservice_1.class, args);\r\n    \t}\r\n    }\r\nor \r\n\r\n    @SpringBootApplication\r\n    @Import(KafkaProducerConfiguration.class)\r\n    public class MyMicroservice_2 {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(MyMicroservice_2.class, args);\r\n    \t}\r\n    }\r\nor maybe a microservice that need both of configurations\r\n\r\n    @SpringBootApplication\r\n    @Import(value = { KafkaProducerConfiguration.class, KafkaConsumerConfiguration.class })\r\n    public class MyMicroservice_3 {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(MyMicroservice_3.class, args);\r\n    \t}\r\n    }\r\n\r\n2 - You need also to make sending messages depending on the current spring profile. To do that u can override the send method of the Kafka template object:\r\n\r\n    @ConditionalOnProperty(prefix = &quot;my.kafka.producer&quot;, value = &quot;enabled&quot;, havingValue = &quot;true&quot;, matchIfMissing = false)\r\n    @Configuration\r\n    public class KafkaProducerConfiguration {\r\n    ...\r\n    \r\n    \t@Resource\r\n    \tEnvironment environment;\r\n    \r\n    \t@Bean\r\n    \tpublic KafkaTemplate&lt;String, String&gt; kafkaTemplate() {\r\n    \t\treturn new KafkaTemplate&lt;&gt;(producerFactory()) {\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tprotected ListenableFuture&lt;SendResult&lt;String, String&gt;&gt; doSend(ProducerRecord&lt;String, String&gt; producerRecord) {\r\n    \r\n    \t\t\t\tif (Arrays.asList(environment.getActiveProfiles()).contains(&quot;test&quot;)) {\r\n    \t\t\t\t\t\treturn null;\t\t\t\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t\treturn super.doSend(producerRecord);\r\n    \t\t\t}\r\n    \r\n    \t\t};\r\n    \t}\r\n    \t\r\n    \t\t@Bean\r\n    \tpublic ProducerFactory&lt;String, String&gt; producerFactory() {\r\n    \t\tMap&lt;String, Object&gt; props = new HashMap&lt;&gt;();\r\n    \t\t...\r\n    \r\n    \t\treturn new DefaultKafkaProducerFactory&lt;&gt;(props);\r\n    \t}\r\n    \t\r\n    }\r\n\r\n\r\n","title":"Disable Kafka connection in SpringBoot tests","body":"<p>a good practice would be to avoid sending messages to Kafka while testing code in your isolated microservice scope. but when you need to make an integration test ( many microservices in the same time ) sometimes you need to activate Kafka messages.</p>\n<p>So my purpose is :</p>\n<p>1- Activate/Deactivate loding Kafka configuration as required</p>\n<pre><code>@ConditionalOnProperty(prefix = &quot;my.kafka.consumer&quot;, value = &quot;enabled&quot;, havingValue = &quot;true&quot;, matchIfMissing = false)\n@Configuration\npublic class KafkaConsumerConfiguration {\n...\n}\n\n@ConditionalOnProperty(prefix = &quot;my.kafka.producer&quot;, value = &quot;enabled&quot;, havingValue = &quot;true&quot;, matchIfMissing = false)\n@Configuration\npublic class KafkaProducerConfiguration {\n...\n}\n</code></pre>\n<p>and then u will be able to activate/deactivate loading consumer and producer as you need...</p>\n<p>Examples :</p>\n<pre><code>@SpringBootApplication\n@Import(KafkaConsumerConfiguration.class)\npublic class MyMicroservice_1 {\n    public static void main(String[] args) {\n        SpringApplication.run(MyMicroservice_1.class, args);\n    }\n}\n</code></pre>\n<p>or</p>\n<pre><code>@SpringBootApplication\n@Import(KafkaProducerConfiguration.class)\npublic class MyMicroservice_2 {\n    public static void main(String[] args) {\n        SpringApplication.run(MyMicroservice_2.class, args);\n    }\n}\n</code></pre>\n<p>or maybe a microservice that need both of configurations</p>\n<pre><code>@SpringBootApplication\n@Import(value = { KafkaProducerConfiguration.class, KafkaConsumerConfiguration.class })\npublic class MyMicroservice_3 {\n    public static void main(String[] args) {\n        SpringApplication.run(MyMicroservice_3.class, args);\n    }\n}\n</code></pre>\n<p>2 - You need also to make sending messages depending on the current spring profile. To do that u can override the send method of the Kafka template object:</p>\n<pre><code>@ConditionalOnProperty(prefix = &quot;my.kafka.producer&quot;, value = &quot;enabled&quot;, havingValue = &quot;true&quot;, matchIfMissing = false)\n@Configuration\npublic class KafkaProducerConfiguration {\n...\n\n    @Resource\n    Environment environment;\n\n    @Bean\n    public KafkaTemplate&lt;String, String&gt; kafkaTemplate() {\n        return new KafkaTemplate&lt;&gt;(producerFactory()) {\n\n            @Override\n            protected ListenableFuture&lt;SendResult&lt;String, String&gt;&gt; doSend(ProducerRecord&lt;String, String&gt; producerRecord) {\n\n                if (Arrays.asList(environment.getActiveProfiles()).contains(&quot;test&quot;)) {\n                        return null;            \n                }\n\n                return super.doSend(producerRecord);\n            }\n\n        };\n    }\n    \n        @Bean\n    public ProducerFactory&lt;String, String&gt; producerFactory() {\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\n        ...\n\n        return new DefaultKafkaProducerFactory&lt;&gt;(props);\n    }\n    \n}\n</code></pre>\n"}],"owner":{"account_id":25713842,"reputation":1,"user_id":19471946,"display_name":"pierre57"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":888,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1674432793,"creation_date":1656845640,"question_id":72845880,"body_markdown":"I&#39;m working on a springboot project following a microservice architecture and I use Kafka as an event bus to exchange data between some of them. I also have Junit tests which test some part of my application which doesn&#39;t require the bus and others that require it by using an embedded Kafka broker.\r\n\r\nThe problem I have is when I launch all my tests, they take so much time and they fail because each of then is trying to connect to the embedded Kafka broker (*connection not available*) whereas they don&#39;t need Kafka bus in order to achieve their task.\r\n\r\nIs it possible to disable the loading of Kafka components for these tests and only allow them for the ones that require it ?","title":"Disable Kafka connection in SpringBoot tests","body":"<p>I'm working on a springboot project following a microservice architecture and I use Kafka as an event bus to exchange data between some of them. I also have Junit tests which test some part of my application which doesn't require the bus and others that require it by using an embedded Kafka broker.</p>\n<p>The problem I have is when I launch all my tests, they take so much time and they fail because each of then is trying to connect to the embedded Kafka broker (<em>connection not available</em>) whereas they don't need Kafka bus in order to achieve their task.</p>\n<p>Is it possible to disable the loading of Kafka components for these tests and only allow them for the ones that require it ?</p>\n"},{"tags":["java","android","android-studio","input","mobile"],"comments":[{"owner":{"account_id":2607825,"reputation":5379,"user_id":2258611,"display_name":"Alexander Hoffmann"},"score":0,"creation_date":1673305103,"post_id":75062975,"comment_id":132465186,"body_markdown":"You need to save and restore the data. Use `onSaveInstanceState` : https://stackoverflow.com/questions/16769654/how-to-use-onsaveinstancestate-and-onrestoreinstancestate","body":"You need to save and restore the data. Use <code>onSaveInstanceState</code> : <a href=\"https://stackoverflow.com/questions/16769654/how-to-use-onsaveinstancestate-and-onrestoreinstancestate\" title=\"how to use onsaveinstancestate and onrestoreinstancestate\">stackoverflow.com/questions/16769654/&hellip;</a>"},{"owner":{"account_id":26664900,"reputation":316,"user_id":20277138,"display_name":"Ali Hamed"},"score":0,"creation_date":1673353323,"post_id":75062975,"comment_id":132475038,"body_markdown":"@AlexanderHoffmann I did that but the problem still happened. I will add the code to the question.","body":"@AlexanderHoffmann I did that but the problem still happened. I will add the code to the question."}],"answers":[{"tags":[],"owner":{"account_id":26664900,"reputation":316,"user_id":20277138,"display_name":"Ali Hamed"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674430892,"creation_date":1674430892,"answer_id":75204692,"question_id":75062975,"body_markdown":"I discovered the answer to my issue. I discovered that creating a class with fields that correspond to the data types of the inputs was the most effective approach. As an illustration, I have input for street in my activity, thus I made a private String street field in my class to retain the input&#39;s data.\r\n\r\nMy class looks like this:\r\n\r\n\r\n    public class AllViolationData implements Serializable {\r\n    private static AllViolationData violationData;\r\n    private String numberOne;\r\n    private String numberTwo;\r\n    private String inputStreet;\r\n    private String inputVehicle;\r\n    //the rest of my data fields \r\n    }\r\n\r\nBut the trick was to create a static instance of this class inside it with getter an setter for it\r\n\r\n    public static void setViolationData(AllViolationData violationData) {\r\n        AllViolationData.violationData = violationData;\r\n    }\r\n\r\n    public static AllViolationData getViolationData() {\r\n        if(violationData==null){\r\n            violationData = new AllViolationData();\r\n        }\r\n        return violationData;\r\n    }\r\n\r\nNow, I utilize getVioationData to save the data inside of it when a user clicks the next button to move to the next page, and I then start the subsequent activity when the data has been saved. \r\n\r\nFinally, I used the same object in each activate by placing my code within the onCreate function, and I didn&#39;t have to worry about the static notion because the object will be null the first time I start an activate because I always set it to null when I submit data.\r\n\r\n&gt; It may not be the ideal solution, but it accomplishes the job.","title":"loss inputs data when navigating between form&#39;s input pages","body":"<p>I discovered the answer to my issue. I discovered that creating a class with fields that correspond to the data types of the inputs was the most effective approach. As an illustration, I have input for street in my activity, thus I made a private String street field in my class to retain the input's data.</p>\n<p>My class looks like this:</p>\n<pre><code>public class AllViolationData implements Serializable {\nprivate static AllViolationData violationData;\nprivate String numberOne;\nprivate String numberTwo;\nprivate String inputStreet;\nprivate String inputVehicle;\n//the rest of my data fields \n}\n</code></pre>\n<p>But the trick was to create a static instance of this class inside it with getter an setter for it</p>\n<pre><code>public static void setViolationData(AllViolationData violationData) {\n    AllViolationData.violationData = violationData;\n}\n\npublic static AllViolationData getViolationData() {\n    if(violationData==null){\n        violationData = new AllViolationData();\n    }\n    return violationData;\n}\n</code></pre>\n<p>Now, I utilize getVioationData to save the data inside of it when a user clicks the next button to move to the next page, and I then start the subsequent activity when the data has been saved.</p>\n<p>Finally, I used the same object in each activate by placing my code within the onCreate function, and I didn't have to worry about the static notion because the object will be null the first time I start an activate because I always set it to null when I submit data.</p>\n<blockquote>\n<p>It may not be the ideal solution, but it accomplishes the job.</p>\n</blockquote>\n"}],"owner":{"account_id":26664900,"reputation":316,"user_id":20277138,"display_name":"Ali Hamed"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75204692,"answer_count":1,"score":0,"last_activity_date":1674430892,"creation_date":1673298782,"question_id":75062975,"body_markdown":"In my Android Application I have created three activities. each one contain some inputs fields and button &quot;Next Page&quot; except the final one the button in it responsible for submission.\r\nMy problem is when user fill all the inputs and before clicking on submit button if he want to go back using the phone default integrated back button and then after checking the first page when he click on &quot;Next Button&quot; in order to go to the page two the inputs in the page two disappeared.(because as you know the activity will restart so all inputs data will be removed)\r\n\r\n \r\n\r\nIs there any way to save the data.\r\n\r\n&gt; I did saved it when go forward from first page to the third one by using:\r\n\r\n```\r\nIntent intent = new Intent(CreateViolationPageOne.this,CreateViolationPageTwo.class);\r\n                String allData = inputStreet.getText().toString()+&quot;,&quot;+inputVehicle.getText().toString()+&quot;,&quot;+inputBrand.getText().toString()+\r\n                        inputColor.getText().toString()+&quot;,&quot;+inputNumber.getText().toString();\r\n                intent.putExtra(CreateViolationPageTwo.ALL_DATA, allData);\r\n                startActivity(intent);\r\n```\r\n\r\n&gt; Note: \r\n\r\nI did not use \r\n```\r\nfinish() \r\n```\r\nafter \r\n```\r\nStartActivity(intent)\r\n```\r\n\r\n&gt; Moreover I did use **onSaveInstanceState** in my code but the problem\r\n&gt; still happening:\r\n\r\n    @Override\r\n    public void onSaveInstanceState(Bundle savedInstanceState) {\r\n        super.onSaveInstanceState(savedInstanceState);\r\n        if(!inputStreet.getText().toString().isEmpty())\r\n            savedInstanceState.putString(&quot;inputStreet&quot;, inputStreet.getText().toString());\r\n        if(!inputVehicle.getText().toString().isEmpty())\r\n            savedInstanceState.putString(&quot;inputVehicle&quot;, inputVehicle.getText().toString());\r\n        if(!inputBrand.getText().toString().isEmpty())\r\n            savedInstanceState.putString(&quot;inputBrand&quot;, inputBrand.getText().toString());\r\n        if(!inputColor.getText().toString().isEmpty())\r\n            savedInstanceState.putString(&quot;inputColor&quot;, inputColor.getText().toString());\r\n        if(!inputNumber.getText().toString().isEmpty())\r\n            savedInstanceState.putInt(&quot;inputNumber&quot;, Integer.parseInt(inputNumber.getText().toString()));\r\n    }\r\n\r\n    @Override\r\n    protected void onResume() {\r\n        super.onResume();\r\n    }\r\n\r\n    @Override\r\n    protected void onPause() {\r\n        super.onPause();\r\n    }\r\n\r\nand then in the **onCreate** method I added:\r\n\r\n    if (savedInstanceState != null) {\r\n            if(savedInstanceState.containsKey(&quot;inputStreet&quot;))\r\n                inputStreet.setText(savedInstanceState.getString(&quot;inputStreet&quot;));\r\n            if(savedInstanceState.containsKey(&quot;inputVehicle&quot;))\r\n                inputVehicle.setText(savedInstanceState.getString(&quot;inputVehicle&quot;));\r\n            if(savedInstanceState.containsKey(&quot;inputBrand&quot;))\r\n                inputBrand.setText(savedInstanceState.getString(&quot;inputBrand&quot;));\r\n            if(savedInstanceState.containsKey(&quot;inputColor&quot;))\r\n                inputColor.setText(savedInstanceState.getString(&quot;inputColor&quot;));\r\n            if(savedInstanceState.containsKey(&quot;inputNumber&quot;))\r\n                inputNumber.setText(Integer.toString(savedInstanceState.getInt(&quot;inputNumber&quot;)));\r\n        }\r\n\r\n*This is my first android application and I am new to Android Studio.*","title":"loss inputs data when navigating between form&#39;s input pages","body":"<p>In my Android Application I have created three activities. each one contain some inputs fields and button &quot;Next Page&quot; except the final one the button in it responsible for submission.\nMy problem is when user fill all the inputs and before clicking on submit button if he want to go back using the phone default integrated back button and then after checking the first page when he click on &quot;Next Button&quot; in order to go to the page two the inputs in the page two disappeared.(because as you know the activity will restart so all inputs data will be removed)</p>\n<p>Is there any way to save the data.</p>\n<blockquote>\n<p>I did saved it when go forward from first page to the third one by using:</p>\n</blockquote>\n<pre><code>Intent intent = new Intent(CreateViolationPageOne.this,CreateViolationPageTwo.class);\n                String allData = inputStreet.getText().toString()+&quot;,&quot;+inputVehicle.getText().toString()+&quot;,&quot;+inputBrand.getText().toString()+\n                        inputColor.getText().toString()+&quot;,&quot;+inputNumber.getText().toString();\n                intent.putExtra(CreateViolationPageTwo.ALL_DATA, allData);\n                startActivity(intent);\n</code></pre>\n<blockquote>\n<p>Note:</p>\n</blockquote>\n<p>I did not use</p>\n<pre><code>finish() \n</code></pre>\n<p>after</p>\n<pre><code>StartActivity(intent)\n</code></pre>\n<blockquote>\n<p>Moreover I did use <strong>onSaveInstanceState</strong> in my code but the problem\nstill happening:</p>\n</blockquote>\n<pre><code>@Override\npublic void onSaveInstanceState(Bundle savedInstanceState) {\n    super.onSaveInstanceState(savedInstanceState);\n    if(!inputStreet.getText().toString().isEmpty())\n        savedInstanceState.putString(&quot;inputStreet&quot;, inputStreet.getText().toString());\n    if(!inputVehicle.getText().toString().isEmpty())\n        savedInstanceState.putString(&quot;inputVehicle&quot;, inputVehicle.getText().toString());\n    if(!inputBrand.getText().toString().isEmpty())\n        savedInstanceState.putString(&quot;inputBrand&quot;, inputBrand.getText().toString());\n    if(!inputColor.getText().toString().isEmpty())\n        savedInstanceState.putString(&quot;inputColor&quot;, inputColor.getText().toString());\n    if(!inputNumber.getText().toString().isEmpty())\n        savedInstanceState.putInt(&quot;inputNumber&quot;, Integer.parseInt(inputNumber.getText().toString()));\n}\n\n@Override\nprotected void onResume() {\n    super.onResume();\n}\n\n@Override\nprotected void onPause() {\n    super.onPause();\n}\n</code></pre>\n<p>and then in the <strong>onCreate</strong> method I added:</p>\n<pre><code>if (savedInstanceState != null) {\n        if(savedInstanceState.containsKey(&quot;inputStreet&quot;))\n            inputStreet.setText(savedInstanceState.getString(&quot;inputStreet&quot;));\n        if(savedInstanceState.containsKey(&quot;inputVehicle&quot;))\n            inputVehicle.setText(savedInstanceState.getString(&quot;inputVehicle&quot;));\n        if(savedInstanceState.containsKey(&quot;inputBrand&quot;))\n            inputBrand.setText(savedInstanceState.getString(&quot;inputBrand&quot;));\n        if(savedInstanceState.containsKey(&quot;inputColor&quot;))\n            inputColor.setText(savedInstanceState.getString(&quot;inputColor&quot;));\n        if(savedInstanceState.containsKey(&quot;inputNumber&quot;))\n            inputNumber.setText(Integer.toString(savedInstanceState.getInt(&quot;inputNumber&quot;)));\n    }\n</code></pre>\n<p><em>This is my first android application and I am new to Android Studio.</em></p>\n"},{"tags":["java","class","object","object-reference"],"answers":[{"tags":[],"owner":{"account_id":14062201,"reputation":89,"user_id":10157953,"display_name":"Nick Kress"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674429821,"creation_date":1674429821,"answer_id":75204610,"question_id":75204590,"body_markdown":"b2 is a reference to b1. Essentially you are depositing all to the same account, then getting the same balance as the output.\r\n\r\n      BankAccount b1 = new BankAccount(500);\r\n      BankAccount b2 = b1; --&gt; reference to b1\r\n      \r\n      b1.deposit(b2.getBalance()); --&gt; deposit 500, new balance = 1000\r\n      b2.deposit(b1.getBalance()); --&gt; deposit 1000, new balance = 2000","title":"Java BankAccount Class Object Reference Textbook Question (simple question but I just can&#39;t seem to figure it out)","body":"<p>b2 is a reference to b1. Essentially you are depositing all to the same account, then getting the same balance as the output.</p>\n<pre><code>  BankAccount b1 = new BankAccount(500);\n  BankAccount b2 = b1; --&gt; reference to b1\n  \n  b1.deposit(b2.getBalance()); --&gt; deposit 500, new balance = 1000\n  b2.deposit(b1.getBalance()); --&gt; deposit 1000, new balance = 2000\n</code></pre>\n"}],"owner":{"account_id":23725582,"reputation":11,"user_id":17745513,"display_name":"unknown"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674429969,"creation_date":1674429474,"question_id":75204590,"body_markdown":"the following code is given in a class and a main method.  answer is below the code.  just cant seem to figure out why the code returns what it does.  \r\n```\r\npublic class BankAccount {\r\n\tprivate double balance;\r\n\r\n\tpublic BankAccount(double init) {\r\n\t\tbalance = init;\r\n\t}\r\n\tpublic void deposit(double amt) {\r\n\t\tdouble newBalance = balance+amt;\r\n\t\tbalance = newBalance;\r\n\t}\r\n\tpublic double getBalance() {\r\n\t\treturn balance;\r\n\t}\r\n}\r\n```\r\n\r\n```\r\npublic class Main {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tBankAccount b1 = new BankAccount(500);\r\n\t\tBankAccount b2 = b1;\r\n\t\tb1.deposit(b2.getBalance());    \r\n\t\tb2.deposit(b1.getBalance());\r\n\t\tSystem.out.println(b1.getBalance());\r\n\t\tSystem.out.println(b2.getBalance());\r\n\t}\r\n}\r\n```\r\n\r\n\r\nthe values of accounts after running are: b1=2000 and b2=2000.  Why?","title":"Java BankAccount Class Object Reference Textbook Question (simple question but I just can&#39;t seem to figure it out)","body":"<p>the following code is given in a class and a main method.  answer is below the code.  just cant seem to figure out why the code returns what it does.</p>\n<pre><code>public class BankAccount {\n    private double balance;\n\n    public BankAccount(double init) {\n        balance = init;\n    }\n    public void deposit(double amt) {\n        double newBalance = balance+amt;\n        balance = newBalance;\n    }\n    public double getBalance() {\n        return balance;\n    }\n}\n</code></pre>\n<pre><code>public class Main {\n\n    public static void main(String[] args) {\n        BankAccount b1 = new BankAccount(500);\n        BankAccount b2 = b1;\n        b1.deposit(b2.getBalance());    \n        b2.deposit(b1.getBalance());\n        System.out.println(b1.getBalance());\n        System.out.println(b2.getBalance());\n    }\n}\n</code></pre>\n<p>the values of accounts after running are: b1=2000 and b2=2000.  Why?</p>\n"},{"tags":["java","json","spring","resttemplate"],"comments":[{"owner":{"account_id":2339925,"reputation":15581,"user_id":2051454,"accept_rate":60,"display_name":"Software Engineer"},"score":0,"creation_date":1402673069,"post_id":24208828,"comment_id":37378683,"body_markdown":"Is it valid to have a dot in the key name? I would think that would be somewhat confusing.","body":"Is it valid to have a dot in the key name? I would think that would be somewhat confusing."},{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1402673180,"post_id":24208828,"comment_id":37378763,"body_markdown":"@EngineerDollery It&#39;s JSON, it&#39;s fine.","body":"@EngineerDollery It&#39;s JSON, it&#39;s fine."},{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1402673226,"post_id":24208828,"comment_id":37378785,"body_markdown":"Can you show us how you create and use your `RestTemplate`?","body":"Can you show us how you create and use your <code>RestTemplate</code>?"},{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1402673424,"post_id":24208828,"comment_id":37378917,"body_markdown":"Also, you haven&#39;t posted the full error message. Please do that.","body":"Also, you haven&#39;t posted the full error message. Please do that."},{"owner":{"account_id":2339925,"reputation":15581,"user_id":2051454,"accept_rate":60,"display_name":"Software Engineer"},"score":2,"creation_date":1402673447,"post_id":24208828,"comment_id":37378937,"body_markdown":"@SotiriosDelimanolis -- it&#39;s JSON, so it&#39;s valid, but it&#39;s still not fine. If you want to convert this to a javascript object and then use dot notation to access the object you&#39;d be in a bit of a pickle.","body":"@SotiriosDelimanolis -- it&#39;s JSON, so it&#39;s valid, but it&#39;s still not fine. If you want to convert this to a javascript object and then use dot notation to access the object you&#39;d be in a bit of a pickle."},{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":1,"creation_date":1402673601,"post_id":24208828,"comment_id":37379034,"body_markdown":"@EngineerDollery I&#39;m pretty sure Javascript is smart enough to handle this. In any case, the error message is unrelated to the value of the keys.","body":"@EngineerDollery I&#39;m pretty sure Javascript is smart enough to handle this. In any case, the error message is unrelated to the value of the keys."}],"answers":[{"comments":[{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1402689502,"post_id":24209354,"comment_id":37387254,"body_markdown":"@ZackMacomber Please post the full stacktrace and full error message.","body":"@ZackMacomber Please post the full stacktrace and full error message."},{"owner":{"account_id":1107169,"reputation":6727,"user_id":1098361,"accept_rate":86,"display_name":"Zack Macomber"},"score":0,"creation_date":1402690186,"post_id":24209354,"comment_id":37387616,"body_markdown":"oops - forgot to post it...putting it up there now.","body":"oops - forgot to post it...putting it up there now."},{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1402693190,"post_id":24209354,"comment_id":37388723,"body_markdown":"@ZackMacomber As you can see from the error message, the response doesn&#39;t have its `content-type` set to `application/json`. That&#39;s what you need to change. If your API doesn&#39;t return it, inject it like you do for the request.","body":"@ZackMacomber As you can see from the error message, the response doesn&#39;t have its <code>content-type</code> set to <code>application&#47;json</code>. That&#39;s what you need to change. If your API doesn&#39;t return it, inject it like you do for the request."},{"owner":{"account_id":80866,"reputation":11667,"user_id":228369,"accept_rate":79,"display_name":"chrismarx"},"score":0,"creation_date":1433957511,"post_id":24209354,"comment_id":49579189,"body_markdown":"Just to clarify, this means you can do this: ResponseEntity&lt;? extends HashMap&lt;String,Object&gt;&gt; responseEntity = restTemplate.getForEntity(restEndPoint, (Class&lt;? extends HashMap&lt;String,Object&gt;&gt;)HashMap.class)","body":"Just to clarify, this means you can do this: ResponseEntity&lt;? extends HashMap&lt;String,Object&gt;&gt; responseEntity = restTemplate.getForEntity(restEndPoint, (Class&lt;? extends HashMap&lt;String,Object&gt;&gt;)HashMap.class)"},{"owner":{"account_id":80866,"reputation":11667,"user_id":228369,"accept_rate":79,"display_name":"chrismarx"},"score":0,"creation_date":1458766616,"post_id":24209354,"comment_id":60012361,"body_markdown":"Also, one more thing to check, because I was about to lose it, is if it&#39;s not working for a junit test, run through any special config you have for the junit context as well, if it&#39;s different from the primary config. ugh","body":"Also, one more thing to check, because I was about to lose it, is if it&#39;s not working for a junit test, run through any special config you have for the junit context as well, if it&#39;s different from the primary config. ugh"},{"owner":{"account_id":6248,"reputation":13507,"user_id":10433,"accept_rate":74,"display_name":"Andrew Swan"},"score":0,"creation_date":1603415731,"post_id":24209354,"comment_id":114037907,"body_markdown":"In case it helps anyone, the exact Jackson 2 dependency you need is `com.fasterxml.jackson.core:jackson-databind`. I don&#39;t know the coordinates for Jackson 1.","body":"In case it helps anyone, the exact Jackson 2 dependency you need is <code>com.fasterxml.jackson.core:jackson-databind</code>. I don&#39;t know the coordinates for Jackson 1."}],"tags":[],"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"comment_count":6,"down_vote_count":1,"up_vote_count":16,"is_accepted":true,"score":15,"last_activity_date":1491317534,"creation_date":1402674559,"answer_id":24209354,"question_id":24208828,"body_markdown":"As I had previously noted, your error message is showing us that you are receiving `application/octet-stream` as a `Content-Type`.\r\n\r\n&lt;!-- language:none --&gt;\r\n\r\n    org.springframework.web.client.RestClientException: Could not extract response: no suitable HttpMessageConverter found for response type [interface java.util.Map] and content type [application/octet-stream]\r\n\r\nAs such, Jackson&#39;s `MappingJackson2HttpMessageConverter` cannot parse the content (it&#39;s expecting `application/json`).\r\n\r\n\r\n----------\r\n\r\n\r\nOriginal answer:\r\n\r\nAssuming your HTTP response&#39;s `Content-Type` is `application/json` and you have have Jackson 1 or 2 on the classpath, a `RestTemplate` can deserialize JSON like you have into a `java.util.Map` just fine.\r\n\r\nWith the error you are getting, which you haven&#39;t shown in full, either you&#39;ve registered custom `HttpMessageConverter` objects which overwrite the defaults ones, or you don&#39;t have Jackson on your classpath and the `MappingJackson2HttpMessageConverter` isn&#39;t registered (which would do the deserialization) or you aren&#39;t receiving `application/json`.\r\n","title":"resttemplate getForObject map responsetype","body":"<p>As I had previously noted, your error message is showing us that you are receiving <code>application/octet-stream</code> as a <code>Content-Type</code>.</p>\n\n\n\n<pre><code>org.springframework.web.client.RestClientException: Could not extract response: no suitable HttpMessageConverter found for response type [interface java.util.Map] and content type [application/octet-stream]\n</code></pre>\n\n<p>As such, Jackson's <code>MappingJackson2HttpMessageConverter</code> cannot parse the content (it's expecting <code>application/json</code>).</p>\n\n<hr>\n\n<p>Original answer:</p>\n\n<p>Assuming your HTTP response's <code>Content-Type</code> is <code>application/json</code> and you have have Jackson 1 or 2 on the classpath, a <code>RestTemplate</code> can deserialize JSON like you have into a <code>java.util.Map</code> just fine.</p>\n\n<p>With the error you are getting, which you haven't shown in full, either you've registered custom <code>HttpMessageConverter</code> objects which overwrite the defaults ones, or you don't have Jackson on your classpath and the <code>MappingJackson2HttpMessageConverter</code> isn't registered (which would do the deserialization) or you aren't receiving <code>application/json</code>.</p>\n"},{"comments":[{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":9,"creation_date":1402683381,"post_id":24209447,"comment_id":37384355,"body_markdown":"This is redundant and unnecessary. You&#39;re creating and using an `ObjectMapper` almost exactly like the `RestTemplate` already should be doing.","body":"This is redundant and unnecessary. You&#39;re creating and using an <code>ObjectMapper</code> almost exactly like the <code>RestTemplate</code> already should be doing."},{"owner":{"account_id":4853240,"reputation":5791,"user_id":3915006,"accept_rate":80,"display_name":"Doug"},"score":1,"creation_date":1510057416,"post_id":24209447,"comment_id":81264943,"body_markdown":"This should not be the accepted answer, you should not need to write code to do this!","body":"This should not be the accepted answer, you should not need to write code to do this!"},{"owner":{"account_id":1107169,"reputation":6727,"user_id":1098361,"accept_rate":86,"display_name":"Zack Macomber"},"score":0,"creation_date":1510066354,"post_id":24209447,"comment_id":81271178,"body_markdown":"@Doug I accepted my own answer because it worked for me.  I&#39;ve found many a time that I just need to get work done and move on.  I haven&#39;t tested Sotirios Delimanolis answer but I suspect he&#39;s correct.","body":"@Doug I accepted my own answer because it worked for me.  I&#39;ve found many a time that I just need to get work done and move on.  I haven&#39;t tested Sotirios Delimanolis answer but I suspect he&#39;s correct."}],"tags":[],"owner":{"account_id":1107169,"reputation":6727,"user_id":1098361,"accept_rate":86,"display_name":"Zack Macomber"},"comment_count":3,"down_vote_count":4,"up_vote_count":13,"is_accepted":false,"score":9,"last_activity_date":1517869512,"creation_date":1402674912,"answer_id":24209447,"question_id":24208828,"body_markdown":"***Update 02/05/2018 (about 4 years later)...I tested this again as people have been upvoting my question/answer and Sotirios Delimanolis is correct that I should not have to write the code in my answer to make this work. I used basically the same RestTemplate/REST service setup as shown in my question with the REST service having a confirmed response content type of application/json and RestTemplate was able to process the response with no issues into a Map.***\r\n\r\n----------\r\n\r\nI ended up getting the contents as a `String` and then converting them to a `Map` like this:\r\n\r\n    String json = restTemplate.getForObject(buildUrl, String.class);\r\n    Map&lt;String,String&gt; map = new HashMap&lt;String,String&gt;();\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    \r\n    try {\r\n        //convert JSON string to Map\r\n       map = mapper.readValue(json, new TypeReference&lt;HashMap&lt;String,String&gt;&gt;(){});\r\n    } catch (Exception e) {\r\n         logger.info(&quot;Exception converting {} to map&quot;, json, e);\r\n    }\r\n    \r\n    return map;","title":"resttemplate getForObject map responsetype","body":"<p><strong><em>Update 02/05/2018 (about 4 years later)...I tested this again as people have been upvoting my question/answer and Sotirios Delimanolis is correct that I should not have to write the code in my answer to make this work. I used basically the same RestTemplate/REST service setup as shown in my question with the REST service having a confirmed response content type of application/json and RestTemplate was able to process the response with no issues into a Map.</em></strong></p>\n\n<hr>\n\n<p>I ended up getting the contents as a <code>String</code> and then converting them to a <code>Map</code> like this:</p>\n\n<pre><code>String json = restTemplate.getForObject(buildUrl, String.class);\nMap&lt;String,String&gt; map = new HashMap&lt;String,String&gt;();\nObjectMapper mapper = new ObjectMapper();\n\ntry {\n    //convert JSON string to Map\n   map = mapper.readValue(json, new TypeReference&lt;HashMap&lt;String,String&gt;&gt;(){});\n} catch (Exception e) {\n     logger.info(\"Exception converting {} to map\", json, e);\n}\n\nreturn map;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1497205,"reputation":1673,"user_id":1402861,"accept_rate":60,"display_name":"WrRaThY"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1478772856,"creation_date":1478772856,"answer_id":40524987,"question_id":24208828,"body_markdown":"I know its old, but just for other people that may visit this topic:\r\nIf you want to register some additional converters with RestTemplateBuilder you also have to explicitly register default ones\r\n\r\n    @Bean\r\n    public RestTemplateBuilder builder() {\r\n        return new RestTemplateBuilder()\r\n                .defaultMessageConverters()\r\n                .additionalMessageConverters(halMessageConverter());\r\n    }\r\n\r\n    private HttpMessageConverter halMessageConverter() {\r\n        ObjectMapper objectMapper = new ObjectMapper().registerModule(new Jackson2HalModule());\r\n        TypeConstrainedMappingJackson2HttpMessageConverter halConverter = new TypeConstrainedMappingJackson2HttpMessageConverter(ResourceSupport.class);\r\n        halConverter.setSupportedMediaTypes(Collections.singletonList(MediaTypes.HAL_JSON));\r\n        halConverter.setObjectMapper(objectMapper);\r\n        return halConverter;\r\n    }","title":"resttemplate getForObject map responsetype","body":"<p>I know its old, but just for other people that may visit this topic:\nIf you want to register some additional converters with RestTemplateBuilder you also have to explicitly register default ones</p>\n\n<pre><code>@Bean\npublic RestTemplateBuilder builder() {\n    return new RestTemplateBuilder()\n            .defaultMessageConverters()\n            .additionalMessageConverters(halMessageConverter());\n}\n\nprivate HttpMessageConverter halMessageConverter() {\n    ObjectMapper objectMapper = new ObjectMapper().registerModule(new Jackson2HalModule());\n    TypeConstrainedMappingJackson2HttpMessageConverter halConverter = new TypeConstrainedMappingJackson2HttpMessageConverter(ResourceSupport.class);\n    halConverter.setSupportedMediaTypes(Collections.singletonList(MediaTypes.HAL_JSON));\n    halConverter.setObjectMapper(objectMapper);\n    return halConverter;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1491317562,"post_id":43204174,"comment_id":73492970,"body_markdown":"This won&#39;t change anything. The HTTP response has a content type that the `RestTemplate` doesn&#39;t know how to process. The `RestTemplate` will never get to the point in handling where it can use your `ParameterizedTypeReference`.","body":"This won&#39;t change anything. The HTTP response has a content type that the <code>RestTemplate</code> doesn&#39;t know how to process. The <code>RestTemplate</code> will never get to the point in handling where it can use your <code>ParameterizedTypeReference</code>."},{"owner":{"account_id":4135378,"reputation":131,"user_id":3392156,"accept_rate":50,"display_name":"Jamil Farooq"},"score":1,"creation_date":1562686784,"post_id":43204174,"comment_id":100450740,"body_markdown":"why it has been up voted by people. I can&#39;t see it working?","body":"why it has been up voted by people. I can&#39;t see it working?"},{"owner":{"account_id":2454649,"reputation":34077,"user_id":2140160,"accept_rate":42,"display_name":"Mr Jedi"},"score":1,"creation_date":1604408079,"post_id":43204174,"comment_id":114333630,"body_markdown":"It works fine. exchange method is able to handle ParameterizedTypeReference.","body":"It works fine. exchange method is able to handle ParameterizedTypeReference."}],"tags":[],"owner":{"account_id":1473777,"reputation":693,"user_id":1384703,"accept_rate":61,"display_name":"JeremyW"},"comment_count":3,"down_vote_count":1,"up_vote_count":40,"is_accepted":false,"score":39,"last_activity_date":1674429532,"creation_date":1491300447,"answer_id":43204174,"question_id":24208828,"body_markdown":"**RestTemplate** has a method named **[exchange][1]** that takes an instance of **[ParameterizedTypeReference][2]** as parameter.\r\n\r\nTo make a GET request that returns a `java.util.Map`, just create an instance of an anonym class that inherits from ParameterizedTypeReference.\r\n\r\n    ParameterizedTypeReference&lt;Map&lt;String, String&gt;&gt; responseType =\r\n            new ParameterizedTypeReference&lt;&gt;() {};\r\n\r\nYou can then invoke the exchange method: \r\n\r\n    RequestEntity&lt;Void&gt; request = RequestEntity.get(&quot;http://example.com/foo&quot;)\r\n                     .accept(MediaType.APPLICATION_JSON).build();\r\n    Map&lt;String, String&gt; jsonDictionary = restTemplate.exchange(request, responseType).getBody();\r\n\r\n\r\n  [1]: https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/client/RestTemplate.html#exchange-org.springframework.http.RequestEntity-org.springframework.core.ParameterizedTypeReference-\r\n  [2]: https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/core/ParameterizedTypeReference.html","title":"resttemplate getForObject map responsetype","body":"<p><strong>RestTemplate</strong> has a method named <strong><a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/client/RestTemplate.html#exchange-org.springframework.http.RequestEntity-org.springframework.core.ParameterizedTypeReference-\" rel=\"nofollow noreferrer\">exchange</a></strong> that takes an instance of <strong><a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/core/ParameterizedTypeReference.html\" rel=\"nofollow noreferrer\">ParameterizedTypeReference</a></strong> as parameter.</p>\n<p>To make a GET request that returns a <code>java.util.Map</code>, just create an instance of an anonym class that inherits from ParameterizedTypeReference.</p>\n<pre><code>ParameterizedTypeReference&lt;Map&lt;String, String&gt;&gt; responseType =\n        new ParameterizedTypeReference&lt;&gt;() {};\n</code></pre>\n<p>You can then invoke the exchange method:</p>\n<pre><code>RequestEntity&lt;Void&gt; request = RequestEntity.get(&quot;http://example.com/foo&quot;)\n                 .accept(MediaType.APPLICATION_JSON).build();\nMap&lt;String, String&gt; jsonDictionary = restTemplate.exchange(request, responseType).getBody();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":31617,"reputation":52351,"user_id":86967,"accept_rate":56,"display_name":"Brent Bradburn"},"score":2,"creation_date":1527174004,"post_id":45469786,"comment_id":88037408,"body_markdown":"Next, you&#39;ll want this: [Faster XML Jackson: Remove double quotes](https://stackoverflow.com/q/28646572/86967)","body":"Next, you&#39;ll want this: <a href=\"https://stackoverflow.com/q/28646572/86967\">Faster XML Jackson: Remove double quotes</a>"},{"owner":{"account_id":1477425,"reputation":1562,"user_id":1387501,"accept_rate":100,"display_name":"george_h"},"score":0,"creation_date":1557129239,"post_id":45469786,"comment_id":98648296,"body_markdown":"This is pretty much the best way to do it, with the exception that you need to add the `accept: application/json` header and it&#39;s all good to go!","body":"This is pretty much the best way to do it, with the exception that you need to add the <code>accept: application&#47;json</code> header and it&#39;s all good to go!"}],"tags":[],"owner":{"account_id":3421156,"reputation":398,"user_id":2868742,"display_name":"riversidetraveler"},"comment_count":2,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1501703430,"creation_date":1501703430,"answer_id":45469786,"question_id":24208828,"body_markdown":"I think you can achieve what you&#39;re aiming for simply using the RestTemplate and specifying a JsonNode as the response type. \r\n\r\n        ResponseEntity&lt;JsonNode&gt; response = \r\n             restTemplate.exchange(url, HttpMethod.GET, entity, JsonNode.class);\r\n\r\n        JsonNode map = response.getBody();\r\n\r\n        String someValue = map.get(&quot;someValue&quot;).asText();\r\n\r\n","title":"resttemplate getForObject map responsetype","body":"<p>I think you can achieve what you're aiming for simply using the RestTemplate and specifying a JsonNode as the response type. </p>\n\n<pre><code>    ResponseEntity&lt;JsonNode&gt; response = \n         restTemplate.exchange(url, HttpMethod.GET, entity, JsonNode.class);\n\n    JsonNode map = response.getBody();\n\n    String someValue = map.get(\"someValue\").asText();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19417864,"reputation":9,"user_id":14200917,"display_name":"Sunny Bakhru"},"comment_count":0,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1598950986,"creation_date":1598943935,"answer_id":63682904,"question_id":24208828,"body_markdown":"    @GetMapping(value = &quot;getSunny/{userId}&quot;)\r\n    \tpublic Map&lt;String,  SunnyVO&gt; getSunny(@PathVariable int sunnyId) {\r\n    \t\t\r\n    \t\tMap&lt;String,  SunnyVO&gt; newObj = new HashMap&lt;String, SunnyVO&gt;();\r\n    \t\tfinal String url = &quot;http://localhost:8085/Sunny/getSunny/{sunnyId}&quot;;\r\n    \t\tRestTemplate restTemplate = new RestTemplate();\r\n    \t\tnewObj = restTemplate.getForObject(url, Map.class, sunnyId);\r\n    \t\treturn newObj;\r\n    \r\n    \t}\r\n    \r\nIt is working for me ...","title":"resttemplate getForObject map responsetype","body":"<pre><code>@GetMapping(value = &quot;getSunny/{userId}&quot;)\n    public Map&lt;String,  SunnyVO&gt; getSunny(@PathVariable int sunnyId) {\n        \n        Map&lt;String,  SunnyVO&gt; newObj = new HashMap&lt;String, SunnyVO&gt;();\n        final String url = &quot;http://localhost:8085/Sunny/getSunny/{sunnyId}&quot;;\n        RestTemplate restTemplate = new RestTemplate();\n        newObj = restTemplate.getForObject(url, Map.class, sunnyId);\n        return newObj;\n\n    }\n</code></pre>\n<p>It is working for me ...</p>\n"},{"tags":[],"owner":{"account_id":18493193,"reputation":11,"user_id":13479299,"display_name":"S&#225;ndor Rodr&#237;guez Prieto"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665617371,"creation_date":1665617371,"answer_id":74048975,"question_id":24208828,"body_markdown":"This worked 100% for me\r\n\r\nin client\r\n\r\n    Map&lt;String, Object&gt; mapRespuesta = new HashMap&lt;&gt;();\r\n    mapRespuesta.put(&quot;mensaje&quot;, &quot;Process completed successfully&quot;);\r\n    mapRespuesta.put(&quot;idResponse&quot;, id);\r\n    return new ResponseEntity&lt;Map&lt;String, Object&gt;&gt;(mapRespuesta, HttpStatus.OK);\r\n\r\nin which it makes the connection\r\n\r\n    ResponseEntity&lt;Map&gt; result = restTemplate.postForEntity(url, params, Map.class);\r\n    String id = result.getBody().get(&quot;idResponse&quot;).toString();","title":"resttemplate getForObject map responsetype","body":"<p>This worked 100% for me</p>\n<p>in client</p>\n<pre><code>Map&lt;String, Object&gt; mapRespuesta = new HashMap&lt;&gt;();\nmapRespuesta.put(&quot;mensaje&quot;, &quot;Process completed successfully&quot;);\nmapRespuesta.put(&quot;idResponse&quot;, id);\nreturn new ResponseEntity&lt;Map&lt;String, Object&gt;&gt;(mapRespuesta, HttpStatus.OK);\n</code></pre>\n<p>in which it makes the connection</p>\n<pre><code>ResponseEntity&lt;Map&gt; result = restTemplate.postForEntity(url, params, Map.class);\nString id = result.getBody().get(&quot;idResponse&quot;).toString();\n</code></pre>\n"}],"owner":{"account_id":1107169,"reputation":6727,"user_id":1098361,"accept_rate":86,"display_name":"Zack Macomber"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105541,"favorite_count":0,"down_vote_count":0,"up_vote_count":33,"accepted_answer_id":24209354,"answer_count":7,"score":33,"last_activity_date":1674429532,"creation_date":1402672888,"question_id":24208828,"body_markdown":"***Update 02/05/2018 (about 4 years later)...I tested this again as people have been upvoting my question/answer and Sotirios Delimanolis is correct that I should not have to write the code in my answer to make this work. I used basically the same RestTemplate/REST service setup as shown in my question with the REST service having a confirmed response content type of application/json and RestTemplate was able to process the response with no issues into a Map.***\r\n\r\n----------\r\n\r\nI&#39;m invoking a rest service that returns `JSON` like this:\r\n\r\n    {\r\n       &quot;some.key&quot; : &quot;some value&quot;,\r\n       &quot;another.key&quot; : &quot;another value&quot;\r\n    }\r\n\r\nI would like to think that I can invoke this service with a `java.util.Map` as the response type but that&#39;s not working for me.  I get this exception:\r\n\r\n    org.springframework.web.client.RestClientException: Could not extract response: no suitable HttpMessageConverter found for response type [interface java.util.Map]\r\n\r\nShould I just specify `String` as the response type and convert the `JSON` to a `Map`? \r\n\r\n&lt;b&gt;Edit I&lt;/b&gt;\r\n\r\nHere&#39;s my restTemplate call:\r\n\r\n    private Map&lt;String, String&gt; getBuildInfo(String buildUrl) {\r\n        return restTemplate.getForObject(buildUrl, Map.class);\r\n    }\r\n\r\nHere&#39;s how I&#39;m setting up the restTemplate:\r\n\r\n    @PostConstruct\r\n    public void initialize() {\r\n    \tList&lt;ClientHttpRequestInterceptor&gt; interceptors = new ArrayList&lt;&gt;();\r\n    \tinterceptors.add(new ClientHttpRequestInterceptor() {\r\n    \t\t@Override\r\n    \t\tpublic ClientHttpResponse intercept(HttpRequest request, byte[] body, ClientHttpRequestExecution execution) throws IOException {\r\n    \t\t\tHttpRequestWrapper requestWrapper = new HttpRequestWrapper(request);\r\n    \t\t\trequestWrapper.getHeaders().setAccept(Arrays.asList(MediaType.APPLICATION_JSON));\r\n    \t\t\treturn execution.execute(requestWrapper, body);\r\n    \t\t}\r\n    \t});\r\n    \trestTemplate.setInterceptors(interceptors);\r\n    }\r\n\r\n&lt;b&gt;Edit II&lt;/b&gt;\r\n\r\nFull error message:\r\n\r\n    org.springframework.web.client.RestClientException: Could not extract response: no suitable HttpMessageConverter found for response type [interface java.util.Map] and content type [application/octet-stream]\r\n    \tat org.springframework.web.client.HttpMessageConverterExtractor.extractData(HttpMessageConverterExtractor.java:108) ~[spring-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\r\n    \tat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:549) ~[spring-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\r\n    \tat org.springframework.web.client.RestTemplate.execute(RestTemplate.java:502) ~[spring-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\r\n    \tat org.springframework.web.client.RestTemplate.getForObject(RestTemplate.java:239) ~[spring-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\r\n    \tat idexx.ordering.services.AwsServersServiceImpl.getBuildInfo(AwsServersServiceImpl.java:96) ~[classes/:na]\r\n\r\n","title":"resttemplate getForObject map responsetype","body":"<p><strong><em>Update 02/05/2018 (about 4 years later)...I tested this again as people have been upvoting my question/answer and Sotirios Delimanolis is correct that I should not have to write the code in my answer to make this work. I used basically the same RestTemplate/REST service setup as shown in my question with the REST service having a confirmed response content type of application/json and RestTemplate was able to process the response with no issues into a Map.</em></strong></p>\n\n<hr>\n\n<p>I'm invoking a rest service that returns <code>JSON</code> like this:</p>\n\n<pre><code>{\n   \"some.key\" : \"some value\",\n   \"another.key\" : \"another value\"\n}\n</code></pre>\n\n<p>I would like to think that I can invoke this service with a <code>java.util.Map</code> as the response type but that's not working for me.  I get this exception:</p>\n\n<pre><code>org.springframework.web.client.RestClientException: Could not extract response: no suitable HttpMessageConverter found for response type [interface java.util.Map]\n</code></pre>\n\n<p>Should I just specify <code>String</code> as the response type and convert the <code>JSON</code> to a <code>Map</code>? </p>\n\n<p><b>Edit I</b></p>\n\n<p>Here's my restTemplate call:</p>\n\n<pre><code>private Map&lt;String, String&gt; getBuildInfo(String buildUrl) {\n    return restTemplate.getForObject(buildUrl, Map.class);\n}\n</code></pre>\n\n<p>Here's how I'm setting up the restTemplate:</p>\n\n<pre><code>@PostConstruct\npublic void initialize() {\n    List&lt;ClientHttpRequestInterceptor&gt; interceptors = new ArrayList&lt;&gt;();\n    interceptors.add(new ClientHttpRequestInterceptor() {\n        @Override\n        public ClientHttpResponse intercept(HttpRequest request, byte[] body, ClientHttpRequestExecution execution) throws IOException {\n            HttpRequestWrapper requestWrapper = new HttpRequestWrapper(request);\n            requestWrapper.getHeaders().setAccept(Arrays.asList(MediaType.APPLICATION_JSON));\n            return execution.execute(requestWrapper, body);\n        }\n    });\n    restTemplate.setInterceptors(interceptors);\n}\n</code></pre>\n\n<p><b>Edit II</b></p>\n\n<p>Full error message:</p>\n\n<pre><code>org.springframework.web.client.RestClientException: Could not extract response: no suitable HttpMessageConverter found for response type [interface java.util.Map] and content type [application/octet-stream]\n    at org.springframework.web.client.HttpMessageConverterExtractor.extractData(HttpMessageConverterExtractor.java:108) ~[spring-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\n    at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:549) ~[spring-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\n    at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:502) ~[spring-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\n    at org.springframework.web.client.RestTemplate.getForObject(RestTemplate.java:239) ~[spring-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\n    at idexx.ordering.services.AwsServersServiceImpl.getBuildInfo(AwsServersServiceImpl.java:96) ~[classes/:na]\n</code></pre>\n"},{"tags":["java","spring-boot","maven-3","spring-boot-maven-plugin"],"comments":[{"owner":{"account_id":5180779,"reputation":581,"user_id":4146565,"display_name":"Vitor Santos"},"score":0,"creation_date":1543917238,"post_id":53609881,"comment_id":94081410,"body_markdown":"What&#39;s the packaging type for `web` and `data` modules? From the `pom.xml` you posted, both projects have no packaging defined. I am not sure, but it looks like `data` should have a `&lt;packaging&gt;jar&lt;/packaging&gt;&#180; tag, and `web` should have a `&lt;packaging&gt;war&lt;/packaging&gt;` tag.","body":"What&#39;s the packaging type for <code>web</code> and <code>data</code> modules? From the <code>pom.xml</code> you posted, both projects have no packaging defined. I am not sure, but it looks like <code>data</code> should have a <code>&lt;packaging&gt;jar&lt;&#47;packaging&gt;&#180; tag, and </code>web` should have a <code>&lt;packaging&gt;war&lt;&#47;packaging&gt;</code> tag."},{"owner":{"account_id":12428416,"reputation":151,"user_id":9052064,"display_name":"Ali Kaan Bacı"},"score":0,"creation_date":1543917537,"post_id":53609881,"comment_id":94081630,"body_markdown":"My packaging type  pom I have described in my parent pom","body":"My packaging type  pom I have described in my parent pom"},{"owner":{"account_id":5180779,"reputation":581,"user_id":4146565,"display_name":"Vitor Santos"},"score":1,"creation_date":1543917962,"post_id":53609881,"comment_id":94081900,"body_markdown":"The child projects need to have their own packaging types defined. Your web module expects the data module as a jar library.","body":"The child projects need to have their own packaging types defined. Your web module expects the data module as a jar library."},{"owner":{"account_id":12428416,"reputation":151,"user_id":9052064,"display_name":"Ali Kaan Bacı"},"score":0,"creation_date":1543922126,"post_id":53609881,"comment_id":94084265,"body_markdown":"Unfortunately does&#39;t work","body":"Unfortunately does&#39;t work"},{"owner":{"account_id":3234305,"reputation":319,"user_id":2728862,"display_name":"David Lakatos"},"score":0,"creation_date":1563291275,"post_id":53609881,"comment_id":100647164,"body_markdown":"@VitorSantos modules will use the default `jar` packaging type","body":"@VitorSantos modules will use the default <code>jar</code> packaging type"},{"owner":{"account_id":2349225,"reputation":26836,"user_id":2058547,"accept_rate":60,"display_name":"Ojonugwa Jude Ochalifu"},"score":0,"creation_date":1642220445,"post_id":53609881,"comment_id":125019230,"body_markdown":"@VitorSantos Thanks. I had &lt;packaging&gt;war&lt;/packaging&gt; in all my submodules. Changing it to jar solved the issue.","body":"@VitorSantos Thanks. I had &lt;packaging&gt;war&lt;/packaging&gt; in all my submodules. Changing it to jar solved the issue."}],"answers":[{"tags":[],"owner":{"account_id":12428416,"reputation":151,"user_id":9052064,"display_name":"Ali Kaan Bacı"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1567872011,"creation_date":1543929745,"answer_id":53613972,"question_id":53609881,"body_markdown":"I figure it out by adding to data pom this \r\n\r\n       &lt;properties&gt;\r\n        &lt;spring-boot.repackage.skip&gt;true&lt;/spring-boot.repackage.skip&gt;\r\n       &lt;/properties&gt;\r\n ","title":"Maven multi module project packaging error","body":"<p>I figure it out by adding to data pom this </p>\n\n<pre><code>   &lt;properties&gt;\n    &lt;spring-boot.repackage.skip&gt;true&lt;/spring-boot.repackage.skip&gt;\n   &lt;/properties&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3234305,"reputation":319,"user_id":2728862,"display_name":"David Lakatos"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1674429414,"creation_date":1563292735,"answer_id":57061298,"question_id":53609881,"body_markdown":"There is a problem with the project structure. Since the parent artifact of your reactor parent is\r\n```\r\n&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n&lt;version&gt;2.1.0.RELEASE&lt;/version&gt;\r\n```\r\nall artifacts, including the `data` module artifact will execute this plugin execution:\r\n```\r\n&lt;plugin&gt;\r\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n  &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n  &lt;executions&gt;\r\n    &lt;execution&gt;\r\n      &lt;id&gt;repackage&lt;/id&gt;\r\n      &lt;goals&gt;\r\n        &lt;goal&gt;repackage&lt;/goal&gt;\r\n      &lt;/goals&gt;\r\n    &lt;/execution&gt;\r\n  &lt;/executions&gt;\r\n  &lt;configuration&gt;\r\n    &lt;mainClass&gt;${start-class}&lt;/mainClass&gt;\r\n  &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\nThe `data` module should not be repackaged to a fat jar, since you don&#39;t want to execute it as a Spring Boot application. You want to use it as a dependency artifact.\r\n\r\nDon&#39;t use the `spring-boot-starter-parent` as a reactor parent! Instead, import the Spring Boot BOM into your parent&#39;s `dependencyManagement` (more [here](https://docs.spring.io/spring-boot/docs/2.1.0.RELEASE/reference/html/using-boot-build-systems.html#using-boot-maven-without-a-parent)):\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\r\n    &lt;version&gt;2.1.0.RELEASE&lt;/version&gt;\r\n    &lt;type&gt;pom&lt;/type&gt;\r\n    &lt;scope&gt;import&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nAdd this to the parent&#39;s `pluginManagement`:\r\n```\r\n&lt;plugin&gt;\r\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n  &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n  &lt;version&gt;2.1.0.RELEASE&lt;/version&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nMove the `spring-boot-maven-plugin` invocation from your parent to the `web` module so only `web` will be repackaged, `data` will not be.\r\n\r\nFinally, invoke `mvn clean install` from the parent directory. `install` is required for the reactor to work, since the dependency artifact (`data-0.0.1-SNAPSHOT.jar`) must be copied to the local Maven repository (usually `~/.m2/repositories/...`) before it can be used as a dependency by the `web` module.","title":"Maven multi module project packaging error","body":"<p>There is a problem with the project structure. Since the parent artifact of your reactor parent is</p>\n<pre><code>&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n&lt;version&gt;2.1.0.RELEASE&lt;/version&gt;\n</code></pre>\n<p>all artifacts, including the <code>data</code> module artifact will execute this plugin execution:</p>\n<pre><code>&lt;plugin&gt;\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n  &lt;executions&gt;\n    &lt;execution&gt;\n      &lt;id&gt;repackage&lt;/id&gt;\n      &lt;goals&gt;\n        &lt;goal&gt;repackage&lt;/goal&gt;\n      &lt;/goals&gt;\n    &lt;/execution&gt;\n  &lt;/executions&gt;\n  &lt;configuration&gt;\n    &lt;mainClass&gt;${start-class}&lt;/mainClass&gt;\n  &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>The <code>data</code> module should not be repackaged to a fat jar, since you don't want to execute it as a Spring Boot application. You want to use it as a dependency artifact.</p>\n<p>Don't use the <code>spring-boot-starter-parent</code> as a reactor parent! Instead, import the Spring Boot BOM into your parent's <code>dependencyManagement</code> (more <a href=\"https://docs.spring.io/spring-boot/docs/2.1.0.RELEASE/reference/html/using-boot-build-systems.html#using-boot-maven-without-a-parent\" rel=\"nofollow noreferrer\">here</a>):</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\n    &lt;version&gt;2.1.0.RELEASE&lt;/version&gt;\n    &lt;type&gt;pom&lt;/type&gt;\n    &lt;scope&gt;import&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Add this to the parent's <code>pluginManagement</code>:</p>\n<pre><code>&lt;plugin&gt;\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n  &lt;version&gt;2.1.0.RELEASE&lt;/version&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>Move the <code>spring-boot-maven-plugin</code> invocation from your parent to the <code>web</code> module so only <code>web</code> will be repackaged, <code>data</code> will not be.</p>\n<p>Finally, invoke <code>mvn clean install</code> from the parent directory. <code>install</code> is required for the reactor to work, since the dependency artifact (<code>data-0.0.1-SNAPSHOT.jar</code>) must be copied to the local Maven repository (usually <code>~/.m2/repositories/...</code>) before it can be used as a dependency by the <code>web</code> module.</p>\n"}],"owner":{"account_id":12428416,"reputation":151,"user_id":9052064,"display_name":"Ali Kaan Bacı"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5874,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":53613972,"answer_count":2,"score":4,"last_activity_date":1674429414,"creation_date":1543916605,"question_id":53609881,"body_markdown":"I am trying to develop multimodule project with maven. But when I want to package my project it gives errors.\r\n\r\nIt says package does not exist in web class. I already tried the solution on ask &amp; answer part. But did not work.  Can you review my repo and tell me what I did wrong, please?\r\n\r\n\r\n\r\n    [INFO] 8 errors \r\n    [INFO] -------------------------------------------------------------\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Reactor Summary:\r\n    [INFO] \r\n    [INFO] xguru .............................................. SUCCESS [  1.330 s]\r\n    [INFO] data ............................................... SUCCESS [  5.453 s]\r\n    [INFO] web ................................................ FAILURE [  0.746 s]\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time: 8.064 s\r\n    [INFO] Finished at: 2018-12-04T12:15:14+03:00\r\n    [INFO] Final Memory: 48M/391M\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.0:testCompile (default-testCompile) on project web: Compilation failure: Compilation failure:\r\n    [ERROR] /C:/Users/asus/IdeaProjects/xguru/web/src/test/java/com/alikaan/xguru/controller/OwnerControllerTest.java:[3,31] package com.alikaan.xguru.model does not exist\r\n    [ERROR] /C:/Users/asus/IdeaProjects/xguru/web/src/test/java/com/alikaan/xguru/controller/OwnerControllerTest.java:[4,33] package com.alikaan.xguru.service does not exist\r\n    [ERROR] /C:/Users/asus/IdeaProjects/xguru/web/src/test/java/com/alikaan/xguru/controller/OwnerControllerTest.java:[32,13] cannot find symbol\r\n    [ERROR] symbol:   class OwnerService\r\n    [ERROR] location: class com.alikaan.xguru.controller.OwnerControllerTest\r\n    [ERROR] /C:/Users/asus/IdeaProjects/xguru/web/src/test/java/com/alikaan/xguru/controller/OwnerControllerTest.java:[37,9] cannot find symbol\r\n    [ERROR] symbol:   class Owner\r\n    [ERROR] location: class com.alikaan.xguru.controller.OwnerControllerTest\r\n    [ERROR] /C:/Users/asus/IdeaProjects/xguru/web/src/test/java/com/alikaan/xguru/controller/OwnerControllerTest.java:[45,9] cannot find symbol\r\n    [ERROR] symbol:   class Owner\r\n    [ERROR] location: class com.alikaan.xguru.controller.OwnerControllerTest\r\n    [ERROR] /C:/Users/asus/IdeaProjects/xguru/web/src/test/java/com/alikaan/xguru/controller/OwnerControllerTest.java:[45,25] cannot find symbol\r\n    [ERROR] symbol:   class Owner\r\n    [ERROR] location: class com.alikaan.xguru.controller.OwnerControllerTest\r\n    [ERROR] /C:/Users/asus/IdeaProjects/xguru/web/src/test/java/com/alikaan/xguru/controller/OwnerControllerTest.java:[46,9] cannot find symbol\r\n    [ERROR] symbol:   class Owner\r\n    [ERROR] location: class com.alikaan.xguru.controller.OwnerControllerTest\r\n    [ERROR] /C:/Users/asus/IdeaProjects/xguru/web/src/test/java/com/alikaan/xguru/controller/OwnerControllerTest.java:[46,26] cannot find symbol\r\n    [ERROR] symbol:   class Owner\r\n    [ERROR] location: class com.alikaan.xguru.controller.OwnerControllerTest\r\n    [ERROR] -&gt; [Help 1]\r\n    [ERROR] \r\n    [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n    [ERROR] \r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\r\n    [ERROR] \r\n    [ERROR] After correcting the problems, you can resume the build with the command\r\n    [ERROR]   mvn &lt;goals&gt; -rf :web\r\n    \r\n    Process finished with exit code 1\r\n\r\n\r\nAnd Here my pom.xml files:\r\n\r\nPARENT:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;com.alikaan&lt;/groupId&gt;\r\n        &lt;artifactId&gt;xguru&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;modules&gt;\r\n            &lt;module&gt;data&lt;/module&gt;\r\n            &lt;module&gt;web&lt;/module&gt;\r\n        &lt;/modules&gt;\r\n        &lt;packaging&gt;pom&lt;/packaging&gt;\r\n    \r\n    \r\n        &lt;name&gt;xguru&lt;/name&gt;\r\n        &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;2.1.0.RELEASE&lt;/version&gt;\r\n            &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n        &lt;/parent&gt;\r\n    \r\n    \r\n        &lt;properties&gt;\r\n            &lt;start-class&gt;com.alikaan.xguru.XguruApplication&lt;/start-class&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n            &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n            &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n        &lt;/dependencies&gt;\r\n    \r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-release-plugin&lt;/artifactId&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;goals&gt;install&lt;/goals&gt;\r\n                        &lt;autoVersionSubmodules&gt;true&lt;/autoVersionSubmodules&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    \r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\nWEB:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;parent&gt;\r\n            &lt;artifactId&gt;xguru&lt;/artifactId&gt;\r\n            &lt;groupId&gt;com.alikaan&lt;/groupId&gt;\r\n            &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;/parent&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;artifactId&gt;web&lt;/artifactId&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.alikaan&lt;/groupId&gt;\r\n                &lt;artifactId&gt;data&lt;/artifactId&gt;\r\n                &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n                &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n                &lt;exclusions&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;junit&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                &lt;/exclusions&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n                &lt;version&gt;5.0.0&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n                &lt;version&gt;5.0.0&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mockito-junit-jupiter&lt;/artifactId&gt;\r\n                &lt;version&gt;2.23.4&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.22.1&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;!--Required to get circleCI working--&gt;\r\n                        &lt;useSystemClassLoader&gt;false&lt;/useSystemClassLoader&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nDATA:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;parent&gt;\r\n            &lt;artifactId&gt;xguru&lt;/artifactId&gt;\r\n            &lt;groupId&gt;com.alikaan&lt;/groupId&gt;\r\n            &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;/parent&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;artifactId&gt;data&lt;/artifactId&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n                &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n                &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n                &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                &lt;optional&gt;true&lt;/optional&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n                &lt;exclusions&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;junit&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                &lt;/exclusions&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mockito-junit-jupiter&lt;/artifactId&gt;\r\n                &lt;version&gt;2.23.4&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n        &lt;/dependencies&gt;\r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                        &lt;!--Note your version numbe might be different--&gt;\r\n                        &lt;version&gt;2.22.1&lt;/version&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;useSystemClassLoader&gt;false&lt;/useSystemClassLoader&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;repackage&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;skip&gt;true&lt;/skip&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\n","title":"Maven multi module project packaging error","body":"<p>I am trying to develop multimodule project with maven. But when I want to package my project it gives errors.</p>\n\n<p>It says package does not exist in web class. I already tried the solution on ask &amp; answer part. But did not work.  Can you review my repo and tell me what I did wrong, please?</p>\n\n<pre><code>[INFO] 8 errors \n[INFO] -------------------------------------------------------------\n[INFO] ------------------------------------------------------------------------\n[INFO] Reactor Summary:\n[INFO] \n[INFO] xguru .............................................. SUCCESS [  1.330 s]\n[INFO] data ............................................... SUCCESS [  5.453 s]\n[INFO] web ................................................ FAILURE [  0.746 s]\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 8.064 s\n[INFO] Finished at: 2018-12-04T12:15:14+03:00\n[INFO] Final Memory: 48M/391M\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.0:testCompile (default-testCompile) on project web: Compilation failure: Compilation failure:\n[ERROR] /C:/Users/asus/IdeaProjects/xguru/web/src/test/java/com/alikaan/xguru/controller/OwnerControllerTest.java:[3,31] package com.alikaan.xguru.model does not exist\n[ERROR] /C:/Users/asus/IdeaProjects/xguru/web/src/test/java/com/alikaan/xguru/controller/OwnerControllerTest.java:[4,33] package com.alikaan.xguru.service does not exist\n[ERROR] /C:/Users/asus/IdeaProjects/xguru/web/src/test/java/com/alikaan/xguru/controller/OwnerControllerTest.java:[32,13] cannot find symbol\n[ERROR] symbol:   class OwnerService\n[ERROR] location: class com.alikaan.xguru.controller.OwnerControllerTest\n[ERROR] /C:/Users/asus/IdeaProjects/xguru/web/src/test/java/com/alikaan/xguru/controller/OwnerControllerTest.java:[37,9] cannot find symbol\n[ERROR] symbol:   class Owner\n[ERROR] location: class com.alikaan.xguru.controller.OwnerControllerTest\n[ERROR] /C:/Users/asus/IdeaProjects/xguru/web/src/test/java/com/alikaan/xguru/controller/OwnerControllerTest.java:[45,9] cannot find symbol\n[ERROR] symbol:   class Owner\n[ERROR] location: class com.alikaan.xguru.controller.OwnerControllerTest\n[ERROR] /C:/Users/asus/IdeaProjects/xguru/web/src/test/java/com/alikaan/xguru/controller/OwnerControllerTest.java:[45,25] cannot find symbol\n[ERROR] symbol:   class Owner\n[ERROR] location: class com.alikaan.xguru.controller.OwnerControllerTest\n[ERROR] /C:/Users/asus/IdeaProjects/xguru/web/src/test/java/com/alikaan/xguru/controller/OwnerControllerTest.java:[46,9] cannot find symbol\n[ERROR] symbol:   class Owner\n[ERROR] location: class com.alikaan.xguru.controller.OwnerControllerTest\n[ERROR] /C:/Users/asus/IdeaProjects/xguru/web/src/test/java/com/alikaan/xguru/controller/OwnerControllerTest.java:[46,26] cannot find symbol\n[ERROR] symbol:   class Owner\n[ERROR] location: class com.alikaan.xguru.controller.OwnerControllerTest\n[ERROR] -&gt; [Help 1]\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\n[ERROR] \n[ERROR] After correcting the problems, you can resume the build with the command\n[ERROR]   mvn &lt;goals&gt; -rf :web\n\nProcess finished with exit code 1\n</code></pre>\n\n<p>And Here my pom.xml files:</p>\n\n<p>PARENT:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.alikaan&lt;/groupId&gt;\n    &lt;artifactId&gt;xguru&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;modules&gt;\n        &lt;module&gt;data&lt;/module&gt;\n        &lt;module&gt;web&lt;/module&gt;\n    &lt;/modules&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n\n\n    &lt;name&gt;xguru&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.1.0.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n\n    &lt;properties&gt;\n        &lt;start-class&gt;com.alikaan.xguru.XguruApplication&lt;/start-class&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-release-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;goals&gt;install&lt;/goals&gt;\n                    &lt;autoVersionSubmodules&gt;true&lt;/autoVersionSubmodules&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n\n&lt;/project&gt;\n</code></pre>\n\n<p>WEB:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;parent&gt;\n        &lt;artifactId&gt;xguru&lt;/artifactId&gt;\n        &lt;groupId&gt;com.alikaan&lt;/groupId&gt;\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;/parent&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;artifactId&gt;web&lt;/artifactId&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.alikaan&lt;/groupId&gt;\n            &lt;artifactId&gt;data&lt;/artifactId&gt;\n            &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;junit&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n            &lt;version&gt;5.0.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;version&gt;5.0.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n            &lt;artifactId&gt;mockito-junit-jupiter&lt;/artifactId&gt;\n            &lt;version&gt;2.23.4&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.22.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;!--Required to get circleCI working--&gt;\n                    &lt;useSystemClassLoader&gt;false&lt;/useSystemClassLoader&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n\n<p>DATA:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;parent&gt;\n        &lt;artifactId&gt;xguru&lt;/artifactId&gt;\n        &lt;groupId&gt;com.alikaan&lt;/groupId&gt;\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;/parent&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;artifactId&gt;data&lt;/artifactId&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;junit&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n            &lt;artifactId&gt;mockito-junit-jupiter&lt;/artifactId&gt;\n            &lt;version&gt;2.23.4&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                    &lt;!--Note your version numbe might be different--&gt;\n                    &lt;version&gt;2.22.1&lt;/version&gt;\n                    &lt;configuration&gt;\n                        &lt;useSystemClassLoader&gt;false&lt;/useSystemClassLoader&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;repackage&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;skip&gt;true&lt;/skip&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","oop","inheritance","enums","class-design"],"comments":[{"owner":{"account_id":4118713,"reputation":35681,"user_id":3379653,"accept_rate":82,"display_name":"qwerty_so"},"score":1,"creation_date":1635175085,"post_id":69707324,"comment_id":123219422,"body_markdown":"Where is the class diagram?","body":"Where is the class diagram?"},{"owner":{"account_id":22936202,"reputation":83,"user_id":17069661,"display_name":"rohit"},"score":0,"creation_date":1635178479,"post_id":69707324,"comment_id":123220865,"body_markdown":"@qwerty_so I am actually converting it to java classes as then from it class diagram will follow","body":"@qwerty_so I am actually converting it to java classes as then from it class diagram will follow"},{"owner":{"account_id":17000499,"reputation":48417,"user_id":12299000,"display_name":"kaya3"},"score":0,"creation_date":1635222361,"post_id":69707324,"comment_id":123231738,"body_markdown":"Either of these designs could be fine, depending on the purpose of the software you&#39;re designing.","body":"Either of these designs could be fine, depending on the purpose of the software you&#39;re designing."}],"answers":[{"tags":[],"owner":{"account_id":4589753,"reputation":69966,"user_id":3723423,"accept_rate":50,"display_name":"Christophe"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1635203354,"creation_date":1635192992,"answer_id":69714251,"question_id":69707324,"body_markdown":"Your narrative explains that there are different kind of professors with different behaviors and properties: \r\n\r\n* **Candidate 1**:  An `&#171;interface&#187; Professor` and three classes `FullProfessor`, `AssociateProfessor`, and `AssistantProfessor` each realizing (implementing) the interface.  \r\nAdvantage: total flexibility for the class design. &lt;br&gt;Inconvenience:  the common behavior would have to be re-implemented several times (no [DRI][1]).  No continuity of the professor when she/he changes category.  \r\n* **Candidate 2**: A class `Professor` with an enum `Category` that may take the values `Full`, `Associate`, and `Assistant`. &lt;br&gt;Advantage: simple class design.&lt;br&gt;\r\nInconvenience:  operations must implement a lot of conditional statements to implement category-specific behavior.  And if some category of professors need additional properties, you&#39;ll have them for all.  Worse:  it&#39;s very difficult to add new categories of professors since you&#39;d need to change the original class (no [OCP][2]).\r\n* **Candidate 3**:   A class `Professor` specialized in three classes `FullProfessor`, `AssociateProfessor`, and `AssistantProfessor`. &lt;br&gt;Advantage: the common behavior is defined only once;  each specialization can redefine some behavior and enrich the base class. It&#39;s also easy to add new classes of professors.&lt;br&gt;Inconvenience:  it is difficult to change class of a professor if his/her category changes (although this is not forbidden in UML, most languages don&#39;t allow it).  \r\n* **Candidate 4**:  A class `Professor` refers to a current `State`, and forwards state-dependend behaviors to the state. Three specializations of of `State`: `StateFullProfessor`, `StateAssociateProfessor`, and `StateAssistantProfessor`. This is by the way the [state design pattern][3], which prefers [composition over inheritance][4].  Advantage:  The professor may change category without loosing the continuity of his/her identity.Also there is a separation of concerns between the behaviors and properties that are invariant for a professor, and those that change during his/her carrer.&lt;br&gt;Inconvenience: slightly more complex.    \r\n* **Candidate5**:  A class `Professor` refers to a collection of `Role` (or contracts?). Three specializations of of `Role`: `RoleFullProfessor`, `RoleAssociateProfessor`, and `RoleAssistantProfessor`.  For every behavior the Professor forwards the bahavior to all its roles.  &lt;br&gt;Advantage: It can cope with A FullProfessor on field A that is AssistantProfessor on field B.  &lt;br&gt;Inconvenience: it may be overkill if this is not needed.  \r\n\r\nThere are certainly other candidate design as well (I see at least two others).  Now up to you to choose what best suits your needs.  \r\n\r\nIn any of these scenarios,  you may document some additional constraints such as &quot;not last more than three months&quot; with a constraint in the diagram.  THe constraint an be expressed in natureal language between `{}` \r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Don%27t_repeat_yourself\r\n  [2]: https://en.wikipedia.org/wiki/Open%E2%80%93closed_principle\r\n  [3]: https://en.wikipedia.org/wiki/State_pattern\r\n  [4]: https://en.wikipedia.org/wiki/Composition_over_inheritance","title":"Class design for a scenario: inheritance vs enum","body":"<p>Your narrative explains that there are different kind of professors with different behaviors and properties:</p>\n<ul>\n<li><strong>Candidate 1</strong>:  An <code>«interface» Professor</code> and three classes <code>FullProfessor</code>, <code>AssociateProfessor</code>, and <code>AssistantProfessor</code> each realizing (implementing) the interface.<br />\nAdvantage: total flexibility for the class design. <br>Inconvenience:  the common behavior would have to be re-implemented several times (no <a href=\"https://en.wikipedia.org/wiki/Don%27t_repeat_yourself\" rel=\"nofollow noreferrer\">DRI</a>).  No continuity of the professor when she/he changes category.</li>\n<li><strong>Candidate 2</strong>: A class <code>Professor</code> with an enum <code>Category</code> that may take the values <code>Full</code>, <code>Associate</code>, and <code>Assistant</code>. <br>Advantage: simple class design.<br>\nInconvenience:  operations must implement a lot of conditional statements to implement category-specific behavior.  And if some category of professors need additional properties, you'll have them for all.  Worse:  it's very difficult to add new categories of professors since you'd need to change the original class (no <a href=\"https://en.wikipedia.org/wiki/Open%E2%80%93closed_principle\" rel=\"nofollow noreferrer\">OCP</a>).</li>\n<li><strong>Candidate 3</strong>:   A class <code>Professor</code> specialized in three classes <code>FullProfessor</code>, <code>AssociateProfessor</code>, and <code>AssistantProfessor</code>. <br>Advantage: the common behavior is defined only once;  each specialization can redefine some behavior and enrich the base class. It's also easy to add new classes of professors.<br>Inconvenience:  it is difficult to change class of a professor if his/her category changes (although this is not forbidden in UML, most languages don't allow it).</li>\n<li><strong>Candidate 4</strong>:  A class <code>Professor</code> refers to a current <code>State</code>, and forwards state-dependend behaviors to the state. Three specializations of of <code>State</code>: <code>StateFullProfessor</code>, <code>StateAssociateProfessor</code>, and <code>StateAssistantProfessor</code>. This is by the way the <a href=\"https://en.wikipedia.org/wiki/State_pattern\" rel=\"nofollow noreferrer\">state design pattern</a>, which prefers <a href=\"https://en.wikipedia.org/wiki/Composition_over_inheritance\" rel=\"nofollow noreferrer\">composition over inheritance</a>.  Advantage:  The professor may change category without loosing the continuity of his/her identity.Also there is a separation of concerns between the behaviors and properties that are invariant for a professor, and those that change during his/her carrer.<br>Inconvenience: slightly more complex.</li>\n<li><strong>Candidate5</strong>:  A class <code>Professor</code> refers to a collection of <code>Role</code> (or contracts?). Three specializations of of <code>Role</code>: <code>RoleFullProfessor</code>, <code>RoleAssociateProfessor</code>, and <code>RoleAssistantProfessor</code>.  For every behavior the Professor forwards the bahavior to all its roles.  <br>Advantage: It can cope with A FullProfessor on field A that is AssistantProfessor on field B.  <br>Inconvenience: it may be overkill if this is not needed.</li>\n</ul>\n<p>There are certainly other candidate design as well (I see at least two others).  Now up to you to choose what best suits your needs.</p>\n<p>In any of these scenarios,  you may document some additional constraints such as &quot;not last more than three months&quot; with a constraint in the diagram.  THe constraint an be expressed in natureal language between <code>{}</code></p>\n"}],"owner":{"account_id":22936202,"reputation":83,"user_id":17069661,"display_name":"rohit"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69714251,"answer_count":1,"score":0,"last_activity_date":1674429061,"creation_date":1635161560,"question_id":69707324,"body_markdown":"I want to represent the following scenario in java code: &lt;br&gt;\r\n\r\n&gt; A professor works in an office and can take a paid leave to carry out\r\n&gt; some scholarly activities outside of the university. A professor has a\r\n&gt; title and is enrolled in one department. A professor can be a full\r\n&gt; professor, an associate professor, or an assistant professor. An\r\n&gt; assistant professor has a minimum number of courses. Full professors,\r\n&gt; associate professors, and assistant professors can all take an unpaid\r\n&gt; leave. The unpaid leave of an assistant professor should not last more\r\n&gt; than three months.\r\n\r\nI have used inheritance to represent the classes:\r\n\r\n    class Professor {\r\n        String title;\r\n        Department department;\r\n    }\r\n\r\n    class AssociateProfessor extends Professor {\r\n    }\r\n    \r\n    class AssistantProfessor extends Professor {\r\n    }\r\n\r\n    class FullProfessor extends Professor{\r\n    }\r\n\r\n\r\nAn alternative would be to use an enum for professor type like: \r\n\r\n    enum professor {full, associate}` \r\n\r\nI am not sure which one is the best approach.&lt;br&gt; Also there are few requirements in the given scenario:\r\n\r\n1. professor can take a paid leave\r\n2. assistant professor has a minimum number of courses\r\n3. some professors can take an unpaid leave\r\n4. unpaid leave of an assistance professor should not last more than three months\r\n\r\nI am not sure how to represent them in classes. But I have made an attempt here:\r\n\r\n    class Professor {\r\n        String title;\r\n        Department department;\r\n        int paidLeaves;\r\n    }\r\n    \r\n    \r\n    class AssistantProfessor extends Professor {\r\n        int numOfCourses;\r\n        int unpaidLeaves;\r\n    \r\n        AssistantProfessor(int _numOfCourses,...) {\r\n            if(_numOfCourses &lt;10)\r\n                throw new Exception(&quot;Need a minimum number of courses&quot;);\r\n            if(unpaidLeaves &gt;90)\r\n                throw new Exception(&quot;...&quot;);\r\n        }\r\n    }\r\n\r\n\r\nIn the above, I am not sure if paid or unpaid leaves should be treated as separated as a separate class or interface or enum and if there is a better way to represent the line `not last more than three months`. Any thoughts would be great\r\n\r\n","title":"Class design for a scenario: inheritance vs enum","body":"<p>I want to represent the following scenario in java code: <br></p>\n<blockquote>\n<p>A professor works in an office and can take a paid leave to carry out\nsome scholarly activities outside of the university. A professor has a\ntitle and is enrolled in one department. A professor can be a full\nprofessor, an associate professor, or an assistant professor. An\nassistant professor has a minimum number of courses. Full professors,\nassociate professors, and assistant professors can all take an unpaid\nleave. The unpaid leave of an assistant professor should not last more\nthan three months.</p>\n</blockquote>\n<p>I have used inheritance to represent the classes:</p>\n<pre><code>class Professor {\n    String title;\n    Department department;\n}\n\nclass AssociateProfessor extends Professor {\n}\n\nclass AssistantProfessor extends Professor {\n}\n\nclass FullProfessor extends Professor{\n}\n</code></pre>\n<p>An alternative would be to use an enum for professor type like:</p>\n<pre><code>enum professor {full, associate}` \n</code></pre>\n<p>I am not sure which one is the best approach.<br> Also there are few requirements in the given scenario:</p>\n<ol>\n<li>professor can take a paid leave</li>\n<li>assistant professor has a minimum number of courses</li>\n<li>some professors can take an unpaid leave</li>\n<li>unpaid leave of an assistance professor should not last more than three months</li>\n</ol>\n<p>I am not sure how to represent them in classes. But I have made an attempt here:</p>\n<pre><code>class Professor {\n    String title;\n    Department department;\n    int paidLeaves;\n}\n\n\nclass AssistantProfessor extends Professor {\n    int numOfCourses;\n    int unpaidLeaves;\n\n    AssistantProfessor(int _numOfCourses,...) {\n        if(_numOfCourses &lt;10)\n            throw new Exception(&quot;Need a minimum number of courses&quot;);\n        if(unpaidLeaves &gt;90)\n            throw new Exception(&quot;...&quot;);\n    }\n}\n</code></pre>\n<p>In the above, I am not sure if paid or unpaid leaves should be treated as separated as a separate class or interface or enum and if there is a better way to represent the line <code>not last more than three months</code>. Any thoughts would be great</p>\n"},{"tags":["java","inheritance","uml","extends","class-diagram"],"answers":[{"tags":[],"owner":{"account_id":4589753,"reputation":69966,"user_id":3723423,"accept_rate":50,"display_name":"Christophe"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1669238677,"creation_date":1669238677,"answer_id":74553159,"question_id":74552411,"body_markdown":"There seems to be a confusion on UML elements here:\r\n\r\n* In UML there is indeed an &#171;extend&#187; dependency relationship, but it is specific to use-cases. It has nothing to do with the java extend. \r\n\r\n* In Java there is indeed an `extend` statement to specify inheritance. This is  what UML calls generalization/specialization (hollow triangle arrow head/ plain line).\r\n\r\nYou therefore need to correct your diagram, using inheritance instead of dependency. ","title":"How to use &#171;extend&#187; in a Java program?","body":"<p>There seems to be a confusion on UML elements here:</p>\n<ul>\n<li><p>In UML there is indeed an «extend» dependency relationship, but it is specific to use-cases. It has nothing to do with the java extend.</p>\n</li>\n<li><p>In Java there is indeed an <code>extend</code> statement to specify inheritance. This is  what UML calls generalization/specialization (hollow triangle arrow head/ plain line).</p>\n</li>\n</ul>\n<p>You therefore need to correct your diagram, using inheritance instead of dependency.</p>\n"}],"owner":{"account_id":25304633,"reputation":33,"user_id":19128366,"display_name":"gorkemoji"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":74553159,"answer_count":1,"score":3,"last_activity_date":1674428370,"creation_date":1669233823,"question_id":74552411,"body_markdown":"In UML, class A extends class B, I don&#39;t know if it&#39;s true but it&#39;s a dependency relationship, not inheritance.\r\n\r\nIt says A &#171;extend&#187; B. I tried inheritance relationship but it didn&#39;t feel right.\r\n\r\nHow to use it in code?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WnH1y.png","title":"How to use &#171;extend&#187; in a Java program?","body":"<p>In UML, class A extends class B, I don't know if it's true but it's a dependency relationship, not inheritance.</p>\n<p>It says A «extend» B. I tried inheritance relationship but it didn't feel right.</p>\n<p>How to use it in code?</p>\n<p><a href=\"https://i.stack.imgur.com/WnH1y.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WnH1y.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1674434579,"post_id":75203647,"comment_id":132707650,"body_markdown":"What do you mean by compare?  If you want to check if they&#39;re the exact same, you can check the equality of the two as a byte array.  But that returns false if even one pixel is off.  If you want to check if they&#39;re similar, you need to use AI.","body":"What do you mean by compare?  If you want to check if they&#39;re the exact same, you can check the equality of the two as a byte array.  But that returns false if even one pixel is off.  If you want to check if they&#39;re similar, you need to use AI."}],"answers":[{"tags":[],"owner":{"account_id":18886760,"reputation":1,"user_id":13778012,"display_name":"Ishan Khandelwal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674420271,"creation_date":1674420216,"answer_id":75203768,"question_id":75203647,"body_markdown":"You can&#39;t compare images the way you are doing. If you want to toggle between two images using a button, you can simple do:\r\n\r\n  \r\n\r\n      Image img = findViewById(R.id.image_view);\r\n      Button button = findViewById(R.id.button);\r\n\r\n      String current = &quot;&quot;;\r\n    \r\n      button.setOnClickListener(new View.OnClickListener( v-&gt; {\r\n           @Override\r\n           void onClick(View v){\r\n                if (current = &quot;Dog&quot;) {\r\n                    img.setImageResource(R.drawable.dog);\r\n                    current = &quot;Dog&quot;;\r\n                } else {\r\n                    img.setImageResource(R.drawable.goofydog);\r\n                    current = &quot;Goofy&quot;;\r\n                }\r\n           }\r\n      }));","title":"How to compare images in Android (java)","body":"<p>You can't compare images the way you are doing. If you want to toggle between two images using a button, you can simple do:</p>\n<pre><code>  Image img = findViewById(R.id.image_view);\n  Button button = findViewById(R.id.button);\n\n  String current = &quot;&quot;;\n\n  button.setOnClickListener(new View.OnClickListener( v-&gt; {\n       @Override\n       void onClick(View v){\n            if (current = &quot;Dog&quot;) {\n                img.setImageResource(R.drawable.dog);\n                current = &quot;Dog&quot;;\n            } else {\n                img.setImageResource(R.drawable.goofydog);\n                current = &quot;Goofy&quot;;\n            }\n       }\n  }));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17613416,"reputation":281,"user_id":12780992,"display_name":"loic .B"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674423530,"creation_date":1674423530,"answer_id":75204107,"question_id":75203647,"body_markdown":"You can only compare **primitive types** (String, Int, Double...) in `If` statements, if you compare object it will compare the **instance** of each object which in your case is different.\r\n\r\nIf you want to toggle between two images based on what your **imageView** is actually displaying you should compare the **Int** resources that is displayed like that :\r\n\r\n    Image img = findViewById(R.id.image_view);\r\n      Button button = findViewById(R.id.button);\r\n    \r\n      String current = &quot;&quot;;\r\n    \r\n      button.setOnClickListener(new View.OnClickListener( v-&gt; {\r\n           @Override\r\n           void onClick(View v){\r\n               if (img.getDrawable() == ResourcesCompat.getDrawable(getResources(),\r\n                R.drawable.dog, null)) {\r\n            img.setImageResource(R.drawable.goofyDog);\r\n               } else {\r\n                 img.setImageResource(R.drawable.dog);\r\n        }\r\n           }\r\n      }));\r\n\r\nIf you want to learn more about using objects in If statement, you can learn more about instance of object here : https://en.wikipedia.org/wiki/Instance_(computer_science) ","title":"How to compare images in Android (java)","body":"<p>You can only compare <strong>primitive types</strong> (String, Int, Double...) in <code>If</code> statements, if you compare object it will compare the <strong>instance</strong> of each object which in your case is different.</p>\n<p>If you want to toggle between two images based on what your <strong>imageView</strong> is actually displaying you should compare the <strong>Int</strong> resources that is displayed like that :</p>\n<pre><code>Image img = findViewById(R.id.image_view);\n  Button button = findViewById(R.id.button);\n\n  String current = &quot;&quot;;\n\n  button.setOnClickListener(new View.OnClickListener( v-&gt; {\n       @Override\n       void onClick(View v){\n           if (img.getDrawable() == ResourcesCompat.getDrawable(getResources(),\n            R.drawable.dog, null)) {\n        img.setImageResource(R.drawable.goofyDog);\n           } else {\n             img.setImageResource(R.drawable.dog);\n    }\n       }\n  }));\n</code></pre>\n<p>If you want to learn more about using objects in If statement, you can learn more about instance of object here : <a href=\"https://en.wikipedia.org/wiki/Instance_(computer_science)\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Instance_(computer_science)</a></p>\n"}],"owner":{"account_id":15645756,"reputation":13,"user_id":11287945,"display_name":"SarcasticSlav"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75204107,"answer_count":2,"score":1,"last_activity_date":1674427936,"creation_date":1674419081,"question_id":75203647,"body_markdown":"I recently started learning to code with Android Studio. And I wanted a button when clicked to toggle between two images, but I cant seem to compare them.\r\n\r\nI tried comparing them but it doesn&#39;t think they are the same.\r\n\r\n      ImageView dog = new ImageView(this);\r\n      dog.setImageResource(R.drawable.dog);\r\n    \r\n      ImageView goofy = new ImageView(this);\r\n      goofy.setImageResource(R.drawable.goofydog);\r\n    \r\n      if(img==dog)\r\n      {\r\n          img.setImageResource(R.drawable.goofydog);\r\n      }\r\n      else{\r\n          img.setImageResource(R.drawable.dog);\r\n      }","title":"How to compare images in Android (java)","body":"<p>I recently started learning to code with Android Studio. And I wanted a button when clicked to toggle between two images, but I cant seem to compare them.</p>\n<p>I tried comparing them but it doesn't think they are the same.</p>\n<pre><code>  ImageView dog = new ImageView(this);\n  dog.setImageResource(R.drawable.dog);\n\n  ImageView goofy = new ImageView(this);\n  goofy.setImageResource(R.drawable.goofydog);\n\n  if(img==dog)\n  {\n      img.setImageResource(R.drawable.goofydog);\n  }\n  else{\n      img.setImageResource(R.drawable.dog);\n  }\n</code></pre>\n"},{"tags":["java","junit4","inner-classes","testcase"],"comments":[{"owner":{"account_id":389200,"reputation":4415,"user_id":748524,"accept_rate":95,"display_name":"Stephan"},"score":1,"creation_date":1325855817,"post_id":8758294,"comment_id":10913818,"body_markdown":"I think if you declare the inner classes `static`, it should work.","body":"I think if you declare the inner classes <code>static</code>, it should work."},{"owner":{"account_id":110488,"reputation":3731,"user_id":292352,"accept_rate":75,"display_name":"cuh"},"score":0,"creation_date":1325856009,"post_id":8758294,"comment_id":10913884,"body_markdown":"See here: http://stackoverflow.com/questions/4150490/error-when-defining-inner-classes-in-a-test-class-in-junit","body":"See here: <a href=\"http://stackoverflow.com/questions/4150490/error-when-defining-inner-classes-in-a-test-class-in-junit\" title=\"error when defining inner classes in a test class in junit\">stackoverflow.com/questions/4150490/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":367746,"reputation":24129,"user_id":714112,"accept_rate":80,"display_name":"Sridhar Sarnobat"},"score":2,"creation_date":1485301308,"post_id":8758517,"comment_id":70867084,"body_markdown":"You can still only run 1 class at a time.","body":"You can still only run 1 class at a time."},{"owner":{"account_id":6803779,"reputation":711,"user_id":5236247,"accept_rate":100,"display_name":"Adowrath"},"score":1,"creation_date":1485848677,"post_id":8758517,"comment_id":71083463,"body_markdown":"@Sridhar-Sarnobat What are you talking about? It works in JUnit 4.12 at least. Can&#39;t bother to test older versions though.","body":"@Sridhar-Sarnobat What are you talking about? It works in JUnit 4.12 at least. Can&#39;t bother to test older versions though."},{"owner":{"account_id":1913219,"reputation":1641,"user_id":1726450,"accept_rate":61,"display_name":"Dylanthepiguy"},"score":0,"creation_date":1555565512,"post_id":8758517,"comment_id":98156546,"body_markdown":"Also, if using Gradle, doing a `./gradlew clean` seemed to work for me (I think)","body":"Also, if using Gradle, doing a <code>.&#47;gradlew clean</code> seemed to work for me (I think)"}],"tags":[],"owner":{"account_id":65792,"reputation":2361,"user_id":193385,"accept_rate":89,"display_name":"n3utrino"},"comment_count":3,"down_vote_count":3,"up_vote_count":35,"is_accepted":true,"score":32,"last_activity_date":1325856467,"creation_date":1325856467,"answer_id":8758517,"question_id":8758294,"body_markdown":"    public class ServicesTest extends TestBase {\r\n\r\n       public static class TestLogon{\r\n\r\n           @Test\r\n           public void testLogonRequest() throws Exception {\r\n             //My Test Code\r\n           }\r\n       }\r\n    }\r\n\r\n\r\nMaking the inner class static works for me.","title":"Test cases in inner classes with JUnit","body":"<pre><code>public class ServicesTest extends TestBase {\n\n   public static class TestLogon{\n\n       @Test\n       public void testLogonRequest() throws Exception {\n         //My Test Code\n       }\n   }\n}\n</code></pre>\n\n<p>Making the inner class static works for me.</p>\n"},{"comments":[{"owner":{"account_id":367746,"reputation":24129,"user_id":714112,"accept_rate":80,"display_name":"Sridhar Sarnobat"},"score":0,"creation_date":1485301298,"post_id":15158587,"comment_id":70867076,"body_markdown":"You can still only run 1 class at a time.","body":"You can still only run 1 class at a time."},{"owner":{"account_id":2147845,"reputation":161,"user_id":1905071,"accept_rate":100,"display_name":"Willey"},"score":3,"creation_date":1486130767,"post_id":15158587,"comment_id":71226093,"body_markdown":"Works for me. At least in Intellij I can either run all tests, only tests from one child class, or a single test. With code folding this is really nice!","body":"Works for me. At least in Intellij I can either run all tests, only tests from one child class, or a single test. With code folding this is really nice!"},{"owner":{"account_id":4833293,"reputation":1111,"user_id":3900879,"accept_rate":75,"display_name":"Rusty Shackleford"},"score":0,"creation_date":1496195149,"post_id":15158587,"comment_id":75556337,"body_markdown":"Runs all tests for me using Eclipse Neon and JUnit 4.12.  Eclipse also prompts to run the outer fixture or one of the nested fixtures.  The only problem I have is, when run from Gradle, tests from the nested fixtures are run twice.  [GRADLE-2843](https://issues.gradle.org/browse/GRADLE-2843) was opened for this issue in 2013, but it has since been abandoned.","body":"Runs all tests for me using Eclipse Neon and JUnit 4.12.  Eclipse also prompts to run the outer fixture or one of the nested fixtures.  The only problem I have is, when run from Gradle, tests from the nested fixtures are run twice.  <a href=\"https://issues.gradle.org/browse/GRADLE-2843\" rel=\"nofollow noreferrer\">GRADLE-2843</a> was opened for this issue in 2013, but it has since been abandoned."},{"owner":{"account_id":2078462,"reputation":10342,"user_id":2986984,"accept_rate":80,"display_name":"tkruse"},"score":0,"creation_date":1551342164,"post_id":15158587,"comment_id":96607493,"body_markdown":"also note inner class must be public.","body":"also note inner class must be public."},{"owner":{"account_id":220392,"reputation":10621,"user_id":5209935,"accept_rate":14,"display_name":"Matthew"},"score":0,"creation_date":1587716779,"post_id":15158587,"comment_id":108624496,"body_markdown":"This appears to be outdated - see https://stackoverflow.com/a/22546453/5209935","body":"This appears to be outdated - see <a href=\"https://stackoverflow.com/a/22546453/5209935\">stackoverflow.com/a/22546453/5209935</a>"}],"tags":[],"owner":{"account_id":197322,"reputation":5546,"user_id":441337,"accept_rate":87,"display_name":"Theodor"},"comment_count":5,"down_vote_count":1,"up_vote_count":107,"is_accepted":false,"score":106,"last_activity_date":1362143437,"creation_date":1362143437,"answer_id":15158587,"question_id":8758294,"body_markdown":"You should annontate your class with `@RunWith(Enclosed.class)`, and like others said, declare the inner classes as static:\r\n\r\n    @RunWith(Enclosed.class)\r\n    public class DogTests\r\n      {\r\n      public static class BarkTests\r\n      {\r\n        @Test\r\n        public void quietBark_IsAtLeastAudible() { }\r\n\r\n        @Test\r\n        public void loudBark_ScaresAveragePerson() { }\r\n      }\r\n\r\n      public static class EatTests\r\n      {\r\n        @Test\r\n        public void normalFood_IsEaten() { }\r\n\r\n        @Test\r\n        public void badFood_ThrowsFit() { }\r\n      }\r\n    }","title":"Test cases in inner classes with JUnit","body":"<p>You should annontate your class with <code>@RunWith(Enclosed.class)</code>, and like others said, declare the inner classes as static:</p>\n\n<pre><code>@RunWith(Enclosed.class)\npublic class DogTests\n  {\n  public static class BarkTests\n  {\n    @Test\n    public void quietBark_IsAtLeastAudible() { }\n\n    @Test\n    public void loudBark_ScaresAveragePerson() { }\n  }\n\n  public static class EatTests\n  {\n    @Test\n    public void normalFood_IsEaten() { }\n\n    @Test\n    public void badFood_ThrowsFit() { }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":329283,"reputation":3392,"user_id":652715,"accept_rate":80,"display_name":"Kai G"},"comment_count":0,"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1587716728,"creation_date":1395354336,"answer_id":22546453,"question_id":8758294,"body_markdown":"I think some of the answers might be for older versions of JUnit. In JUnit 4 this worked for me:\r\n\r\n```java\r\n    @RunWith(Suite.class)\r\n    @Suite.SuiteClasses({ DogTests.BarkTests.class, DogTests.EatTests.class })\r\n    public class DogTests\r\n    {\r\n        public static class BarkTests\r\n        {\r\n            @Test\r\n            public void quietBark_IsAtLeastAudible() { }\r\n\r\n            @Test\r\n            public void loudBark_ScaresAveragePerson() { }\r\n        }\r\n\r\n        public static class EatTests\r\n        {\r\n            @Test\r\n            public void normalFood_IsEaten() { }\r\n\r\n            @Test\r\n            public void badFood_ThrowsFit() { }\r\n        }\r\n    }\r\n```\r\n","title":"Test cases in inner classes with JUnit","body":"<p>I think some of the answers might be for older versions of JUnit. In JUnit 4 this worked for me:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>    @RunWith(Suite.class)\n    @Suite.SuiteClasses({ DogTests.BarkTests.class, DogTests.EatTests.class })\n    public class DogTests\n    {\n        public static class BarkTests\n        {\n            @Test\n            public void quietBark_IsAtLeastAudible() { }\n\n            @Test\n            public void loudBark_ScaresAveragePerson() { }\n        }\n\n        public static class EatTests\n        {\n            @Test\n            public void normalFood_IsEaten() { }\n\n            @Test\n            public void badFood_ThrowsFit() { }\n        }\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":433300,"reputation":5555,"user_id":967426,"accept_rate":62,"display_name":"Tony K."},"score":3,"creation_date":1459362214,"post_id":33369216,"comment_id":60256809,"body_markdown":"I was looking for a way to make a specification-like thing appear in JUnit...PERFECT! Thanks!","body":"I was looking for a way to make a specification-like thing appear in JUnit...PERFECT! Thanks!"},{"owner":{"account_id":136938,"reputation":19427,"user_id":340799,"display_name":"x1a4"},"score":0,"creation_date":1535991961,"post_id":33369216,"comment_id":91257069,"body_markdown":"This works with Kotlin as well (use `@RunWith(NestedRunner::class` in that case).","body":"This works with Kotlin as well (use <code>@RunWith(NestedRunner::class</code> in that case)."}],"tags":[],"owner":{"account_id":1212882,"reputation":533,"user_id":1181094,"display_name":"alvaro g"},"comment_count":2,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1445952291,"creation_date":1445952291,"answer_id":33369216,"question_id":8758294,"body_markdown":"I&#39;ve had success with [Nitor Creation&#39;s Nested Runner][core-components] as well.\n\n### How to use Nitor Creation&#39;s Nested Runner\n\n[core-components]: https://github.com/NitorCreations/CoreComponents/tree/master/junit-runners\n\nThere is a [post explaining it here](http://www.petrikainulainen.net/programming/testing/writing-clean-tests-small-is-beautiful/):\n\n\nAdd this dependency:\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.nitorcreations&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-runners&lt;/artifactId&gt;\n        &lt;version&gt;1.2&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\nAnd a ``@RunWith`` to your test:\n\n    import com.nitorcreations.junit.runners.NestedRunner\n    import org.junit.Before;\n    import org.junit.Test;\n    import org.junit.runner.RunWith;\n    import static org.junit.Assert.*;\n      \n    @RunWith(NestedRunner.class)\n    public class RepositoryUserServiceTest {\n               \n        public class RegisterNewUserAccount {\n         \n            public class WhenUserUsesSocialSignIn {\n                 \n                public class WhenUserAccountIsFoundWithEmailAddress {\n                     \n                    @Test\n                    public void shouldThrowException() {\n                         assertTrue(true);\n                    }\n                }\n             \n            }\n        }\n    }\n\nPS: The example code has been taken and modified from the above blog post","title":"Test cases in inner classes with JUnit","body":"<p>I've had success with <a href=\"https://github.com/NitorCreations/CoreComponents/tree/master/junit-runners\" rel=\"noreferrer\">Nitor Creation's Nested Runner</a> as well.</p>\n<h3>How to use Nitor Creation's Nested Runner</h3>\n<p>There is a <a href=\"http://www.petrikainulainen.net/programming/testing/writing-clean-tests-small-is-beautiful/\" rel=\"noreferrer\">post explaining it here</a>:</p>\n<p>Add this dependency:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.nitorcreations&lt;/groupId&gt;\n    &lt;artifactId&gt;junit-runners&lt;/artifactId&gt;\n    &lt;version&gt;1.2&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>And a <code>@RunWith</code> to your test:</p>\n<pre><code>import com.nitorcreations.junit.runners.NestedRunner\nimport org.junit.Before;\nimport org.junit.Test;\nimport org.junit.runner.RunWith;\nimport static org.junit.Assert.*;\n  \n@RunWith(NestedRunner.class)\npublic class RepositoryUserServiceTest {\n           \n    public class RegisterNewUserAccount {\n     \n        public class WhenUserUsesSocialSignIn {\n             \n            public class WhenUserAccountIsFoundWithEmailAddress {\n                 \n                @Test\n                public void shouldThrowException() {\n                     assertTrue(true);\n                }\n            }\n         \n        }\n    }\n}\n</code></pre>\n<p>PS: The example code has been taken and modified from the above blog post</p>\n"},{"comments":[{"owner":{"account_id":13384537,"reputation":428,"user_id":9658836,"display_name":"Miguel Ruiz"},"score":1,"creation_date":1654723330,"post_id":47214068,"comment_id":128162927,"body_markdown":"This is the most up-to-date answer as of 2022.\nIt is also the best way to bypass the annoying fact that Spring&#39;s @TestPropertySource can only be applied to classes.","body":"This is the most up-to-date answer as of 2022. It is also the best way to bypass the annoying fact that Spring&#39;s @TestPropertySource can only be applied to classes."}],"tags":[],"owner":{"account_id":3128021,"reputation":19974,"user_id":2646526,"display_name":"heenenee"},"comment_count":1,"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1510274938,"creation_date":1510274938,"answer_id":47214068,"question_id":8758294,"body_markdown":"In JUnit 5, you simply mark non-static inner classes as [`@Nested`][1]:\r\n\r\n    import org.junit.jupiter.api.Nested;\r\n    import org.junit.jupiter.api.Test;\r\n    \r\n    public class DogTests {\r\n        @Nested\r\n        public class BarkTests {\r\n            @Test\r\n            public void quietBark_IsAtLeastAudible() { }\r\n    \r\n            @Test\r\n            public void loudBark_ScaresAveragePerson() { }\r\n        }\r\n    \r\n        @Nested\r\n        public class EatTests {\r\n            @Test\r\n            public void normalFood_IsEaten() { }\r\n    \r\n            @Test\r\n            public void badFood_ThrowsFit() { }\r\n        }\r\n    }\r\n\r\n  [1]: http://junit.org/junit5/docs/current/user-guide/#writing-tests-nested\r\n\r\n","title":"Test cases in inner classes with JUnit","body":"<p>In JUnit 5, you simply mark non-static inner classes as <a href=\"http://junit.org/junit5/docs/current/user-guide/#writing-tests-nested\" rel=\"noreferrer\"><code>@Nested</code></a>:</p>\n\n<pre><code>import org.junit.jupiter.api.Nested;\nimport org.junit.jupiter.api.Test;\n\npublic class DogTests {\n    @Nested\n    public class BarkTests {\n        @Test\n        public void quietBark_IsAtLeastAudible() { }\n\n        @Test\n        public void loudBark_ScaresAveragePerson() { }\n    }\n\n    @Nested\n    public class EatTests {\n        @Test\n        public void normalFood_IsEaten() { }\n\n        @Test\n        public void badFood_ThrowsFit() { }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27596279,"reputation":1,"user_id":21062439,"display_name":"user21062439"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674427031,"creation_date":1674427031,"answer_id":75204404,"question_id":8758294,"body_markdown":"I just ran across this posting (11 years later) regarding the testing of inner classes. An inner class can be trivially converted to equivalent static form only if the class should have been static in the first place.  Static inner classes are not really inner classes because there is no enclosing **this**.  They have exactly the same semantics (except for visibility restrictions) as top-level classes. \r\n\r\nTo test a &quot;true&quot; inner class [one that depends on its enclosing instance] you need to use the interface that the Java language provides for creating inner class instances outside the scope of the enclosing class. That interface includes an extra parameter in each constructor which is the enclosing instance. In this way, the Java compiler converts an inner class to a special top-level class with a mangled name (lots of $ signs) and augmented constructors.  The same transformation can be performed at the source level.  In principle, these transformed classes can be tested but it is a complex process because the tested program has transformed syntax and the test code must construct a (mock) object that serves as the enclosing instance.\r\n\r\nAnother way to test true inner classes is to write an executable method contract for each method consisting of an executable logical pre-condition and an executable logical post-condition. Then these executable contracts can be evaluated in the course of running a conventional top-level test that invokes the inner class methods.  \r\n\r\nIn practice, I typically settle for the indirect testing of inner class methods in the course of top-level testing. Writing and testing executable contracts for all methods is a more rigorous, albeit significantly more expensive, alternative.","title":"Test cases in inner classes with JUnit","body":"<p>I just ran across this posting (11 years later) regarding the testing of inner classes. An inner class can be trivially converted to equivalent static form only if the class should have been static in the first place.  Static inner classes are not really inner classes because there is no enclosing <strong>this</strong>.  They have exactly the same semantics (except for visibility restrictions) as top-level classes.</p>\n<p>To test a &quot;true&quot; inner class [one that depends on its enclosing instance] you need to use the interface that the Java language provides for creating inner class instances outside the scope of the enclosing class. That interface includes an extra parameter in each constructor which is the enclosing instance. In this way, the Java compiler converts an inner class to a special top-level class with a mangled name (lots of $ signs) and augmented constructors.  The same transformation can be performed at the source level.  In principle, these transformed classes can be tested but it is a complex process because the tested program has transformed syntax and the test code must construct a (mock) object that serves as the enclosing instance.</p>\n<p>Another way to test true inner classes is to write an executable method contract for each method consisting of an executable logical pre-condition and an executable logical post-condition. Then these executable contracts can be evaluated in the course of running a conventional top-level test that invokes the inner class methods.</p>\n<p>In practice, I typically settle for the indirect testing of inner class methods in the course of top-level testing. Writing and testing executable contracts for all methods is a more rigorous, albeit significantly more expensive, alternative.</p>\n"}],"owner":{"account_id":17529,"reputation":153981,"user_id":39321,"accept_rate":80,"display_name":"Svish"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55990,"favorite_count":0,"down_vote_count":0,"up_vote_count":87,"accepted_answer_id":8758517,"answer_count":6,"score":87,"last_activity_date":1674427031,"creation_date":1325855381,"question_id":8758294,"body_markdown":"I read about [Structuring Unit Tests][1] with having a test class per class and an inner class per method. Figured that seemed like a handy way to organize the tests, so I tried it in our Java project. However, the tests in the inner classes doesn&#39;t seem to be picked up at all.\r\n\r\nI did it roughly like this:\r\n\r\n    public class DogTests\r\n    {\r\n        public class BarkTests\r\n        {\r\n            @Test\r\n            public void quietBark_IsAtLeastAudible() { }\r\n            \r\n            @Test\r\n            public void loudBark_ScaresAveragePerson() { }\r\n        }\r\n    \r\n        public class EatTests\r\n        {\r\n            @Test\r\n            public void normalFood_IsEaten() { }\r\n    \r\n            @Test\r\n            public void badFood_ThrowsFit() { }\r\n        }\r\n    }\r\n\r\nDoes JUnit not support this, or am I just doing it wrong?\r\n\r\n\r\n  [1]: http://haacked.com/archive/2012/01/02/structuring-unit-tests.aspx","title":"Test cases in inner classes with JUnit","body":"<p>I read about <a href=\"http://haacked.com/archive/2012/01/02/structuring-unit-tests.aspx\" rel=\"noreferrer\">Structuring Unit Tests</a> with having a test class per class and an inner class per method. Figured that seemed like a handy way to organize the tests, so I tried it in our Java project. However, the tests in the inner classes doesn't seem to be picked up at all.</p>\n\n<p>I did it roughly like this:</p>\n\n<pre><code>public class DogTests\n{\n    public class BarkTests\n    {\n        @Test\n        public void quietBark_IsAtLeastAudible() { }\n\n        @Test\n        public void loudBark_ScaresAveragePerson() { }\n    }\n\n    public class EatTests\n    {\n        @Test\n        public void normalFood_IsEaten() { }\n\n        @Test\n        public void badFood_ThrowsFit() { }\n    }\n}\n</code></pre>\n\n<p>Does JUnit not support this, or am I just doing it wrong?</p>\n"},{"tags":["java","spring","spring-boot","api","request-mapping"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1674413949,"post_id":75202944,"comment_id":132704621,"body_markdown":"why do you use inheritance for your controllers?","body":"why do you use inheritance for your controllers?"},{"owner":{"account_id":22748556,"reputation":11,"user_id":16909028,"display_name":"ayoubachak"},"score":0,"creation_date":1674414143,"post_id":75202944,"comment_id":132704659,"body_markdown":"I have so many entities, so I want to implement 1 base controller that will have the basic crud and then make my other controllers implement it to be using it by default and then I can add my own endpoints to the EntityControllers, that&#39;s the first thing that came to my mind to do so. \nIs there a better way ?","body":"I have so many entities, so I want to implement 1 base controller that will have the basic crud and then make my other controllers implement it to be using it by default and then I can add my own endpoints to the EntityControllers, that&#39;s the first thing that came to my mind to do so.  Is there a better way ?"},{"owner":{"account_id":9495004,"reputation":711,"user_id":11120993,"display_name":"bw0248"},"score":0,"creation_date":1674417326,"post_id":75202944,"comment_id":132705202,"body_markdown":"You can just have a basePath variable in the BaseController that is injected from the child classes.","body":"You can just have a basePath variable in the BaseController that is injected from the child classes."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1674417833,"post_id":75202944,"comment_id":132705283,"body_markdown":"You could also have only one `CrudController` for all your entities that uses a `@PathVariable` to identify which class to handle and only `JsonObject` as datatypes - but I think this could get a bit cumbersome.","body":"You could also have only one <code>CrudController</code> for all your entities that uses a <code>@PathVariable</code> to identify which class to handle and only <code>JsonObject</code> as datatypes - but I think this could get a bit cumbersome."},{"owner":{"account_id":22748556,"reputation":11,"user_id":16909028,"display_name":"ayoubachak"},"score":0,"creation_date":1674417862,"post_id":75202944,"comment_id":132705287,"body_markdown":"@bw0248 how can I do so in my case? I&#39;m still not very familiar with spring.","body":"@bw0248 how can I do so in my case? I&#39;m still not very familiar with spring."},{"owner":{"account_id":22748556,"reputation":11,"user_id":16909028,"display_name":"ayoubachak"},"score":0,"creation_date":1674418027,"post_id":75202944,"comment_id":132705314,"body_markdown":"@cyberbrain I think that would work maybe, but as you said is not practical. It would be perfect if there were a Path extender annotation or something like so.","body":"@cyberbrain I think that would work maybe, but as you said is not practical. It would be perfect if there were a Path extender annotation or something like so."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1674418580,"post_id":75202944,"comment_id":132705390,"body_markdown":"didn&#39;t try it, but [`@RequestMapping` JavaDocs](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/RequestMapping.html#path()) say it supports relative paths, so try to use them in the BaseController method annotations.","body":"didn&#39;t try it, but <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/RequestMapping.html#path()\" rel=\"nofollow noreferrer\"><code>@RequestMapping</code> JavaDocs</a> say it supports relative paths, so try to use them in the BaseController method annotations."},{"owner":{"account_id":22748556,"reputation":11,"user_id":16909028,"display_name":"ayoubachak"},"score":0,"creation_date":1674420157,"post_id":75202944,"comment_id":132705704,"body_markdown":"@cyberbrain I already tried it that way but it was overriden. I put @RequestMapping(&quot;/api&quot;) on the BaseController and the @RequestMapping(&quot;/brands&quot;) on the BrandController.\nI still can&#39;t access /api/brands and access /brands instead.","body":"@cyberbrain I already tried it that way but it was overriden. I put @RequestMapping(&quot;/api&quot;) on the BaseController and the @RequestMapping(&quot;/brands&quot;) on the BrandController. I still can&#39;t access /api/brands and access /brands instead."},{"owner":{"account_id":20732441,"reputation":1553,"user_id":15224052,"display_name":"Oliver"},"score":0,"creation_date":1674420200,"post_id":75202944,"comment_id":132705714,"body_markdown":"The code you have shared has no mapping to `/brands`, so you must have something else going on. Try setting the log level of `org.springframework.web` to `TRACE` and check the startup output for mappings.","body":"The code you have shared has no mapping to <code>&#47;brands</code>, so you must have something else going on. Try setting the log level of <code>org.springframework.web</code> to <code>TRACE</code> and check the startup output for mappings."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1674420319,"post_id":75202944,"comment_id":132705737,"body_markdown":"I think you misunderstood me - I suggested that you keep the class annotations as they are, but use relative paths (=&gt; they do *not* start with a `/`) on the methods annotations.","body":"I think you misunderstood me - I suggested that you keep the class annotations as they are, but use relative paths (=&gt; they do <i>not</i> start with a <code>&#47;</code>) on the methods annotations."},{"owner":{"account_id":139494,"reputation":804,"user_id":345130,"accept_rate":40,"display_name":"ILya Cyclone"},"score":0,"creation_date":1674432633,"post_id":75202944,"comment_id":132707427,"body_markdown":"Controller extends Repository?.. This is bad idea right from the start. Those are different layers. You&#39;re overcomplicating stuff. Just make separate controllers for your entities - or better say for your business operations.","body":"Controller extends Repository?.. This is bad idea right from the start. Those are different layers. You&#39;re overcomplicating stuff. Just make separate controllers for your entities - or better say for your business operations."},{"owner":{"account_id":22748556,"reputation":11,"user_id":16909028,"display_name":"ayoubachak"},"score":0,"creation_date":1674437204,"post_id":75202944,"comment_id":132707894,"body_markdown":"@cyberbrain I didn&#39;t understand at first, so based on what you said, I tried instead of @RequestMapping(&quot;/api/brands&quot;) using @RequestMapping(&quot;api/brands&quot;) on top of the BrandController, and now the BaseController has no request mapping, but still the mapping goes by default to the naming /brands.","body":"@cyberbrain I didn&#39;t understand at first, so based on what you said, I tried instead of @RequestMapping(&quot;/api/brands&quot;) using @RequestMapping(&quot;api/brands&quot;) on top of the BrandController, and now the BaseController has no request mapping, but still the mapping goes by default to the naming /brands."},{"owner":{"account_id":22748556,"reputation":11,"user_id":16909028,"display_name":"ayoubachak"},"score":0,"creation_date":1674437271,"post_id":75202944,"comment_id":132707903,"body_markdown":"@Oliver I understand tho, I too don&#39;t understand the problem with the mapping nor I understand how Spring does it.\nCan you suggest me a way to debug the path trace ?","body":"@Oliver I understand tho, I too don&#39;t understand the problem with the mapping nor I understand how Spring does it. Can you suggest me a way to debug the path trace ?"},{"owner":{"account_id":22748556,"reputation":11,"user_id":16909028,"display_name":"ayoubachak"},"score":0,"creation_date":1674437704,"post_id":75202944,"comment_id":132707946,"body_markdown":"@ILyaCyclone I&#39;m not familiar with spring but I&#39;m just templating the repository not really extending it to the controller. and that so that I can use the base controller elements as long as leaving the possibility to add custom mappings on the concrete Controller classes.\nI Have well over 15 models in the project, making the same rest controllers again and again will be very painful especially if I wanted to extend to more models later. and now it works fine, but I asked the question to know how the paths are getting overridden (the issue is just about the paths ).","body":"@ILyaCyclone I&#39;m not familiar with spring but I&#39;m just templating the repository not really extending it to the controller. and that so that I can use the base controller elements as long as leaving the possibility to add custom mappings on the concrete Controller classes. I Have well over 15 models in the project, making the same rest controllers again and again will be very painful especially if I wanted to extend to more models later. and now it works fine, but I asked the question to know how the paths are getting overridden (the issue is just about the paths )."}],"answers":[{"comments":[{"owner":{"account_id":139494,"reputation":804,"user_id":345130,"accept_rate":40,"display_name":"ILya Cyclone"},"score":0,"creation_date":1674432473,"post_id":75204223,"comment_id":132707407,"body_markdown":"Setting servlet context path doesn&#39;t make any sense for this question.","body":"Setting servlet context path doesn&#39;t make any sense for this question."},{"owner":{"account_id":22748556,"reputation":11,"user_id":16909028,"display_name":"ayoubachak"},"score":0,"creation_date":1674436717,"post_id":75204223,"comment_id":132707838,"body_markdown":"I tried to add the server param, here is my application.yml now:\n```\nrsa:\n  private-key: classpath:certs/private.pem\n  public-key: classpath:certs/public.pem\n\nserver:\n  contextPath: /api\n```\nBut it still didn&#39;t change the path tho.","body":"I tried to add the server param, here is my application.yml now: ``` rsa:   private-key: classpath:certs/private.pem   public-key: classpath:certs/public.pem  server:   contextPath: /api ``` But it still didn&#39;t change the path tho."},{"owner":{"account_id":19178780,"reputation":9,"user_id":14010962,"display_name":"Marcos Pereira"},"score":0,"creation_date":1674447657,"post_id":75204223,"comment_id":132708800,"body_markdown":"Sorry, I understood your problem now. Have you tried to change the class BaseController into abstract?","body":"Sorry, I understood your problem now. Have you tried to change the class BaseController into abstract?"}],"tags":[],"owner":{"account_id":19178780,"reputation":9,"user_id":14010962,"display_name":"Marcos Pereira"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674424845,"creation_date":1674424834,"answer_id":75204223,"question_id":75202944,"body_markdown":"What do you have in application.yml? \r\nmaybe setting the following code will work:\r\n\r\nin application.yml:\r\n```yml\r\nserver:\r\n    contextPath: /api\r\n```\r\nand the BrandController:\r\n\r\n```java\r\npackage parc.controller;\r\n\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\nimport parc.model.concrete.Brand;\r\nimport parc.repository.BrandRepository;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/brands&quot;)\r\npublic class BrandController extends BaseController&lt;Brand, BrandRepository&gt; {\r\n\r\n    private final BrandRepository repository;\r\n\r\n    public BrandController(BrandRepository repository) {\r\n        super(repository);\r\n        this.repository = repository;\r\n    }\r\n\r\n}\r\n```","title":"Spring Boot: How to prevent URL override when using a BaseController for CRUD operations","body":"<p>What do you have in application.yml?\nmaybe setting the following code will work:</p>\n<p>in application.yml:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>server:\n    contextPath: /api\n</code></pre>\n<p>and the BrandController:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package parc.controller;\n\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\nimport parc.model.concrete.Brand;\nimport parc.repository.BrandRepository;\n\n@RestController\n@RequestMapping(&quot;/brands&quot;)\npublic class BrandController extends BaseController&lt;Brand, BrandRepository&gt; {\n\n    private final BrandRepository repository;\n\n    public BrandController(BrandRepository repository) {\n        super(repository);\n        this.repository = repository;\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":22748556,"reputation":11,"user_id":16909028,"display_name":"ayoubachak"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674424845,"creation_date":1674412811,"question_id":75202944,"body_markdown":"I have a Spring Boot application and I have implemented a base controller that handles CRUD operations for all my entities. I have also created a BrandController that extends the base controller and a BrandRepository that implements CrudRepository. The problem is that when I try to access the endpoints for the BrandController such as /api/brands, I get a 404 error, but I can access them on /brands How can I fix this so that the endpoints are accessible with /api/entitys?\r\n\r\nHere is the code for the BrandController:\r\n\r\n```java\r\npackage parc.controller;\r\n\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\nimport parc.model.concrete.Brand;\r\nimport parc.repository.BrandRepository;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/api/brands&quot;)\r\npublic class BrandController extends BaseController&lt;Brand, BrandRepository&gt; {\r\n\r\n    private final BrandRepository repository;\r\n\r\n    public BrandController(BrandRepository repository) {\r\n        super(repository);\r\n        this.repository = repository;\r\n    }\r\n\r\n}\r\n```\r\nHere is the code for the BaseController:\r\n```java\r\npackage parc.controller;\r\n\r\nimport org.springframework.data.repository.CrudRepository;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\nimport java.util.List;\r\n\r\npublic class BaseController&lt;T, R extends CrudRepository&lt;T, Long&gt;&gt; {\r\n\r\n    private R repository;\r\n\r\n    public BaseController(R repository) {\r\n        this.repository = repository;\r\n    }\r\n\r\n    @GetMapping(&quot;/&quot;)\r\n    public List&lt;T&gt; getAll() {\r\n        return (List&lt;T&gt;) repository.findAll();\r\n    }\r\n\r\n    @PostMapping(&quot;/&quot;)\r\n    public T create(@RequestBody T entity) {\r\n        return repository.save(entity);\r\n    }\r\n\r\n    @GetMapping(&quot;/{id}&quot;)\r\n    public T getById(@PathVariable long id) {\r\n        return repository.findById(id).orElse(null);\r\n    }\r\n\r\n    @PutMapping(&quot;/{id}&quot;)\r\n    public T update(@PathVariable long id, @RequestBody T entity) {\r\n        return repository.save(entity);\r\n    }\r\n\r\n    @DeleteMapping(&quot;/{id}&quot;)\r\n    public void delete(@PathVariable long id) {\r\n        repository.deleteById(id);\r\n    }\r\n}\r\n```\r\nAnd finally the code for the BrandRepository:\r\n```java\r\npackage parc.repository;\r\n\r\nimport org.springframework.data.repository.CrudRepository;\r\nimport parc.model.concrete.Brand;\r\n\r\npublic interface BrandRepository extends CrudRepository&lt;Brand, Long&gt; {\r\n\r\n}\r\n```\r\nI&#39;m not a pro in Spring Boot so I&#39;ll appreciate any kind of help!","title":"Spring Boot: How to prevent URL override when using a BaseController for CRUD operations","body":"<p>I have a Spring Boot application and I have implemented a base controller that handles CRUD operations for all my entities. I have also created a BrandController that extends the base controller and a BrandRepository that implements CrudRepository. The problem is that when I try to access the endpoints for the BrandController such as /api/brands, I get a 404 error, but I can access them on /brands How can I fix this so that the endpoints are accessible with /api/entitys?</p>\n<p>Here is the code for the BrandController:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package parc.controller;\n\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\nimport parc.model.concrete.Brand;\nimport parc.repository.BrandRepository;\n\n@RestController\n@RequestMapping(&quot;/api/brands&quot;)\npublic class BrandController extends BaseController&lt;Brand, BrandRepository&gt; {\n\n    private final BrandRepository repository;\n\n    public BrandController(BrandRepository repository) {\n        super(repository);\n        this.repository = repository;\n    }\n\n}\n</code></pre>\n<p>Here is the code for the BaseController:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package parc.controller;\n\nimport org.springframework.data.repository.CrudRepository;\nimport org.springframework.web.bind.annotation.*;\n\nimport java.util.List;\n\npublic class BaseController&lt;T, R extends CrudRepository&lt;T, Long&gt;&gt; {\n\n    private R repository;\n\n    public BaseController(R repository) {\n        this.repository = repository;\n    }\n\n    @GetMapping(&quot;/&quot;)\n    public List&lt;T&gt; getAll() {\n        return (List&lt;T&gt;) repository.findAll();\n    }\n\n    @PostMapping(&quot;/&quot;)\n    public T create(@RequestBody T entity) {\n        return repository.save(entity);\n    }\n\n    @GetMapping(&quot;/{id}&quot;)\n    public T getById(@PathVariable long id) {\n        return repository.findById(id).orElse(null);\n    }\n\n    @PutMapping(&quot;/{id}&quot;)\n    public T update(@PathVariable long id, @RequestBody T entity) {\n        return repository.save(entity);\n    }\n\n    @DeleteMapping(&quot;/{id}&quot;)\n    public void delete(@PathVariable long id) {\n        repository.deleteById(id);\n    }\n}\n</code></pre>\n<p>And finally the code for the BrandRepository:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package parc.repository;\n\nimport org.springframework.data.repository.CrudRepository;\nimport parc.model.concrete.Brand;\n\npublic interface BrandRepository extends CrudRepository&lt;Brand, Long&gt; {\n\n}\n</code></pre>\n<p>I'm not a pro in Spring Boot so I'll appreciate any kind of help!</p>\n"},{"tags":["java","algorithm","iteration","binary-tree"],"answers":[{"tags":[],"owner":{"account_id":2508207,"reputation":607,"user_id":2181263,"accept_rate":75,"display_name":"Brandon Ross Pollack"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1459134486,"creation_date":1459134486,"answer_id":36255354,"question_id":36255353,"body_markdown":"The key here is that it is difficult to keep track of the eventual paths and their heights with one stack.\r\n\r\nWhat I ended up doing is pushing both the left and right child&#39;s height on a stack, checking if they are within one of one another, adding one to the max and then pushing that onto the stack after popping the left and right off.\r\n\r\nI have commented so I hope it&#39;s clear enough\r\n\r\n     /* Returns true if binary tree with root as root is height-balanced */\r\n            boolean isBalanced(Node root) {\r\n                if(root == null) return false;\r\n        \r\n                Deque&lt;Integer&gt; heights = new LinkedList&lt;&gt;();\r\n                Deque&lt;Node&gt; trail = new LinkedList&lt;&gt;();\r\n                trail.push(root);\r\n        \r\n                Node prev = root; //set to root not null to not confuse when root is misisng children\r\n        \r\n                while(!trail.isEmpty()) {\r\n                    Node curr = trail.peek(); //get the next node to process, peek because we need to maintain trail until we return\r\n        \r\n                    //if we just returned from left child\r\n                    if (curr.left == prev) {\r\n                        if(curr.right != null) trail.push(curr.right); //if we can go right go\r\n                        else {\r\n                            heights.push(-1); //otherwise right height is -1 does not exist and combine heights\r\n                            if(!combineHeights(heights)) return false;\r\n                            trail.pop(); //back to parent\r\n                        }\r\n                    }\r\n                    //if we just returned from right child\r\n                    else if (curr.right == prev) {\r\n                        if(!combineHeights(heights)) return false;\r\n                        trail.pop(); //up to parent\r\n                    }\r\n                    //this came from a parent, first thing is to visit the left child, or right if no left\r\n                    else {\r\n                        if(curr.left != null) trail.push(curr.left);\r\n                        else {\r\n                            if (curr.right != null) {\r\n                                heights.push(-1); //no left so when we combine this node left is 0\r\n                                trail.push(curr.right); //since we never go left above logic does not go right, so we must here\r\n                            }\r\n                            else { //no children set height to 1\r\n                                heights.push(0);\r\n                                trail.pop(); //back to parent\r\n                            }\r\n                        }\r\n                    }\r\n        \r\n                    prev = curr;\r\n                }\r\n        \r\n                return true;\r\n            }\r\n        \r\n            //pop both previous heights and make sure they are balanced, if not return false, if so return true and push the greater plus 1\r\n            private boolean combineHeights(Deque&lt;Integer&gt; heights) {\r\n                int rightHeight = heights.pop();\r\n                int leftHeight = heights.pop();\r\n        \r\n                if(Math.abs(leftHeight - rightHeight) &gt; 1) return false;\r\n                else heights.push(Math.max(leftHeight, rightHeight) + 1);\r\n                return true;\r\n            }","title":"Iterative Solution to finding if a tree is balanced","body":"<p>The key here is that it is difficult to keep track of the eventual paths and their heights with one stack.</p>\n\n<p>What I ended up doing is pushing both the left and right child's height on a stack, checking if they are within one of one another, adding one to the max and then pushing that onto the stack after popping the left and right off.</p>\n\n<p>I have commented so I hope it's clear enough</p>\n\n<pre><code> /* Returns true if binary tree with root as root is height-balanced */\n        boolean isBalanced(Node root) {\n            if(root == null) return false;\n\n            Deque&lt;Integer&gt; heights = new LinkedList&lt;&gt;();\n            Deque&lt;Node&gt; trail = new LinkedList&lt;&gt;();\n            trail.push(root);\n\n            Node prev = root; //set to root not null to not confuse when root is misisng children\n\n            while(!trail.isEmpty()) {\n                Node curr = trail.peek(); //get the next node to process, peek because we need to maintain trail until we return\n\n                //if we just returned from left child\n                if (curr.left == prev) {\n                    if(curr.right != null) trail.push(curr.right); //if we can go right go\n                    else {\n                        heights.push(-1); //otherwise right height is -1 does not exist and combine heights\n                        if(!combineHeights(heights)) return false;\n                        trail.pop(); //back to parent\n                    }\n                }\n                //if we just returned from right child\n                else if (curr.right == prev) {\n                    if(!combineHeights(heights)) return false;\n                    trail.pop(); //up to parent\n                }\n                //this came from a parent, first thing is to visit the left child, or right if no left\n                else {\n                    if(curr.left != null) trail.push(curr.left);\n                    else {\n                        if (curr.right != null) {\n                            heights.push(-1); //no left so when we combine this node left is 0\n                            trail.push(curr.right); //since we never go left above logic does not go right, so we must here\n                        }\n                        else { //no children set height to 1\n                            heights.push(0);\n                            trail.pop(); //back to parent\n                        }\n                    }\n                }\n\n                prev = curr;\n            }\n\n            return true;\n        }\n\n        //pop both previous heights and make sure they are balanced, if not return false, if so return true and push the greater plus 1\n        private boolean combineHeights(Deque&lt;Integer&gt; heights) {\n            int rightHeight = heights.pop();\n            int leftHeight = heights.pop();\n\n            if(Math.abs(leftHeight - rightHeight) &gt; 1) return false;\n            else heights.push(Math.max(leftHeight, rightHeight) + 1);\n            return true;\n        }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2998959,"reputation":366,"user_id":2544825,"accept_rate":33,"display_name":"Davide Pugliese"},"score":0,"creation_date":1674393084,"post_id":55798186,"comment_id":132700783,"body_markdown":"It does not work for some cases, I tested it here:\nhttps://leetcode.com/problems/balanced-binary-tree/","body":"It does not work for some cases, I tested it here: <a href=\"https://leetcode.com/problems/balanced-binary-tree/\" rel=\"nofollow noreferrer\">leetcode.com/problems/balanced-binary-tree</a>"}],"tags":[],"owner":{"account_id":15793272,"reputation":1,"user_id":11395911,"display_name":"carlos florez"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1555961981,"creation_date":1555953015,"answer_id":55798186,"question_id":36255353,"body_markdown":"Some code repetition on this one, but at least it doesn&#39;t give me a headache as the recursive ones do:\r\n\r\n    public boolean isBalanced() {\r\n        Queue&lt;TreeNode&gt; queue = new LinkedList&lt;TreeNode&gt;();\r\n        int leftLevel = 0;\r\n        int rightLevel = 0;\r\n        if(this == null) return false;\r\n        if(this.left != null)queue.offer(this.left);\r\n\r\n        while(!queue.isEmpty()) {\r\n            int size = queue.size();\r\n            for(int i=0; i &lt; size; i++) {\r\n                if(queue.peek().left != null) queue.offer(queue.peek().left);\r\n                if(queue.peek().right != null) queue.offer(queue.peek().right);\r\n                queue.poll();\r\n            }\r\n            leftLevel++;\r\n        }\r\n\r\n        if(this.right != null) queue.offer(this.right);\r\n\r\n        while(!queue.isEmpty()) {\r\n            int size = queue.size();\r\n            for(int i=0; i &lt; size; i++) {\r\n                if(queue.peek().left != null) queue.offer(queue.peek().left);\r\n                if(queue.peek().right != null) queue.offer(queue.peek().right);\r\n                queue.poll();\r\n            }\r\n            rightLevel++;\r\n        }\r\n        return Math.abs(leftLevel - rightLevel) &lt; 2;\r\n    }","title":"Iterative Solution to finding if a tree is balanced","body":"<p>Some code repetition on this one, but at least it doesn't give me a headache as the recursive ones do:</p>\n\n<pre><code>public boolean isBalanced() {\n    Queue&lt;TreeNode&gt; queue = new LinkedList&lt;TreeNode&gt;();\n    int leftLevel = 0;\n    int rightLevel = 0;\n    if(this == null) return false;\n    if(this.left != null)queue.offer(this.left);\n\n    while(!queue.isEmpty()) {\n        int size = queue.size();\n        for(int i=0; i &lt; size; i++) {\n            if(queue.peek().left != null) queue.offer(queue.peek().left);\n            if(queue.peek().right != null) queue.offer(queue.peek().right);\n            queue.poll();\n        }\n        leftLevel++;\n    }\n\n    if(this.right != null) queue.offer(this.right);\n\n    while(!queue.isEmpty()) {\n        int size = queue.size();\n        for(int i=0; i &lt; size; i++) {\n            if(queue.peek().left != null) queue.offer(queue.peek().left);\n            if(queue.peek().right != null) queue.offer(queue.peek().right);\n            queue.poll();\n        }\n        rightLevel++;\n    }\n    return Math.abs(leftLevel - rightLevel) &lt; 2;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2998959,"reputation":366,"user_id":2544825,"accept_rate":33,"display_name":"Davide Pugliese"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674424261,"creation_date":1674404114,"answer_id":75201954,"question_id":36255353,"body_markdown":"So in the end I managed to create an iterative solution which works for all test cases on [Leetcode][1]\r\n\r\n    /**\r\n     * Definition for a binary tree node.\r\n     * public class TreeNode {\r\n     *     int val;\r\n     *     TreeNode left;\r\n     *     TreeNode right;\r\n     *     TreeNode() {}\r\n     *     TreeNode(int val) { this.val = val; }\r\n     *     TreeNode(int val, TreeNode left, TreeNode right) {\r\n     *         this.val = val;\r\n     *         this.left = left;\r\n     *         this.right = right;\r\n     *     }\r\n     * }\r\n     */\r\n    class Solution {\r\n        public static boolean isBalanced(TreeNode root) {\r\n            if (root == null) return true;\r\n            Deque&lt;Pair&gt; queue = new LinkedList&lt;&gt;();\r\n            queue.offer(new Pair(root, 0));\r\n            while (!queue.isEmpty()) {\r\n    \r\n                var curr = queue.poll();\r\n                System.out.printf(&quot;&gt;&gt;Curr node is %s and curr.lvl is %s&quot;, curr.node.val, curr.lvl);\r\n                int left = getSubTreeHeight(new Pair(curr.node.left, curr.lvl + 1));\r\n                int right = getSubTreeHeight(new Pair(curr.node.right, curr.lvl + 1));\r\n    \r\n                if (Math.abs(left - right) &gt; 1) return false;\r\n    \r\n                if (curr.node.left != null) queue.offer(new Pair(curr.node.left, curr.lvl + 1));\r\n                if (curr.node.right != null) queue.offer(new Pair(curr.node.right, curr.lvl + 1));\r\n    \r\n            }\r\n            return true;\r\n        }\r\n        static int getSubTreeHeight(Pair pair) {\r\n            if (pair.node == null) {\r\n                return pair.lvl -1;\r\n            }\r\n            Deque&lt;Pair&gt; queue = new LinkedList&lt;&gt;();\r\n            queue.offer(pair);\r\n            int height = 0;\r\n            while (!queue.isEmpty()) {\r\n                Pair curr = queue.poll();\r\n                System.out.printf(&quot;Curr node is %s and curr.lvl is %s&quot;, curr.node.val, curr.lvl);\r\n                height = curr.lvl;\r\n                if (curr.node.left != null) queue.offer(new Pair(curr.node.left, curr.lvl + 1));\r\n                if (curr.node.right != null) queue.offer(new Pair(curr.node.right, curr.lvl + 1));\r\n            }\r\n            return height;\r\n        }\r\n    \r\n    \r\n       public static class Pair {\r\n           TreeNode node;\r\n           int lvl;\r\n           public Pair(TreeNode node, int lvl) {\r\n               this.node = node;\r\n               this.lvl = lvl;\r\n           }\r\n       }\r\n    }\r\n\r\n  [1]: https://leetcode.com/problems/balanced-binary-tree/solutions/3086670/java-complete-bfs-solution-the-one-and-only-really-just-iterative-finally/\r\n","title":"Iterative Solution to finding if a tree is balanced","body":"<p>So in the end I managed to create an iterative solution which works for all test cases on <a href=\"https://leetcode.com/problems/balanced-binary-tree/solutions/3086670/java-complete-bfs-solution-the-one-and-only-really-just-iterative-finally/\" rel=\"nofollow noreferrer\">Leetcode</a></p>\n<pre><code>/**\n * Definition for a binary tree node.\n * public class TreeNode {\n *     int val;\n *     TreeNode left;\n *     TreeNode right;\n *     TreeNode() {}\n *     TreeNode(int val) { this.val = val; }\n *     TreeNode(int val, TreeNode left, TreeNode right) {\n *         this.val = val;\n *         this.left = left;\n *         this.right = right;\n *     }\n * }\n */\nclass Solution {\n    public static boolean isBalanced(TreeNode root) {\n        if (root == null) return true;\n        Deque&lt;Pair&gt; queue = new LinkedList&lt;&gt;();\n        queue.offer(new Pair(root, 0));\n        while (!queue.isEmpty()) {\n\n            var curr = queue.poll();\n            System.out.printf(&quot;&gt;&gt;Curr node is %s and curr.lvl is %s&quot;, curr.node.val, curr.lvl);\n            int left = getSubTreeHeight(new Pair(curr.node.left, curr.lvl + 1));\n            int right = getSubTreeHeight(new Pair(curr.node.right, curr.lvl + 1));\n\n            if (Math.abs(left - right) &gt; 1) return false;\n\n            if (curr.node.left != null) queue.offer(new Pair(curr.node.left, curr.lvl + 1));\n            if (curr.node.right != null) queue.offer(new Pair(curr.node.right, curr.lvl + 1));\n\n        }\n        return true;\n    }\n    static int getSubTreeHeight(Pair pair) {\n        if (pair.node == null) {\n            return pair.lvl -1;\n        }\n        Deque&lt;Pair&gt; queue = new LinkedList&lt;&gt;();\n        queue.offer(pair);\n        int height = 0;\n        while (!queue.isEmpty()) {\n            Pair curr = queue.poll();\n            System.out.printf(&quot;Curr node is %s and curr.lvl is %s&quot;, curr.node.val, curr.lvl);\n            height = curr.lvl;\n            if (curr.node.left != null) queue.offer(new Pair(curr.node.left, curr.lvl + 1));\n            if (curr.node.right != null) queue.offer(new Pair(curr.node.right, curr.lvl + 1));\n        }\n        return height;\n    }\n\n\n   public static class Pair {\n       TreeNode node;\n       int lvl;\n       public Pair(TreeNode node, int lvl) {\n           this.node = node;\n           this.lvl = lvl;\n       }\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":2508207,"reputation":607,"user_id":2181263,"accept_rate":75,"display_name":"Brandon Ross Pollack"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1074,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":36255354,"answer_count":3,"score":1,"last_activity_date":1674424261,"creation_date":1459134486,"question_id":36255353,"body_markdown":"So someone posted their solution to this, but I found that it didn&#39;t seem to work, I posted this there but I wanted to make it more accessible to others. \r\n\r\nThe question is in &quot;Cracking the Code Interview&quot; and it is the first tree question, feel free to make other suggestions (or prove me wrong!)","title":"Iterative Solution to finding if a tree is balanced","body":"<p>So someone posted their solution to this, but I found that it didn't seem to work, I posted this there but I wanted to make it more accessible to others. </p>\n\n<p>The question is in \"Cracking the Code Interview\" and it is the first tree question, feel free to make other suggestions (or prove me wrong!)</p>\n"},{"tags":["java","selenium","selenium-webdriver","xpath"],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674421979,"creation_date":1674421979,"answer_id":75203955,"question_id":75201880,"body_markdown":"You need to add _`else`_ block for `if (element.isDisplayed())` after the _`if()`_ completes, i.e.\r\n\r\n    int counter = 0; \r\n    for (int i = 0; i &lt; 9; i++) { \r\n        WebElement element = driver.findElement(By.xpath(&quot;//div[@class=&#39;hour ng-star&#39;]//span[text()=&#39;&quot;+i+&quot;&#39;]&quot;);\r\n        if (element.isDisplayed()) {\r\n            int value = Integer.parseInt(element.getText());\r\n            if (value == counter) {\r\n                counter++; \r\n            } else {\r\n                System.out.println(&quot;The row does not contain the expected values&quot;);\r\n                break;\r\n            }\r\n        } else {\r\n        \r\n            // else part of element.isDisplayed()\r\n        }","title":"How to validate row numbers on webtable using selenium java?","body":"<p>You need to add <em><code>else</code></em> block for <code>if (element.isDisplayed())</code> after the <em><code>if()</code></em> completes, i.e.</p>\n<pre><code>int counter = 0; \nfor (int i = 0; i &lt; 9; i++) { \n    WebElement element = driver.findElement(By.xpath(&quot;//div[@class='hour ng-star']//span[text()='&quot;+i+&quot;']&quot;);\n    if (element.isDisplayed()) {\n        int value = Integer.parseInt(element.getText());\n        if (value == counter) {\n            counter++; \n        } else {\n            System.out.println(&quot;The row does not contain the expected values&quot;);\n            break;\n        }\n    } else {\n    \n        // else part of element.isDisplayed()\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674423389,"creation_date":1674423389,"answer_id":75204094,"question_id":75201880,"body_markdown":"To answer your question, the `else` part of the `if` goes right after the closing `}` of the `if` statement, just as you did with the inner `if`, e.g.\r\n\r\n\tint counter = 0; \r\n\tfor (int i = 0; i &lt; 9; i++) { \r\n\t    WebElement element = driver.findElement(By.xpath(&quot;//div[@class=&#39;hour ng-star&#39;]//span[text()=&#39;&quot;+i+&quot;&#39;]&quot;));\r\n\t    if (element.isDisplayed()) {\r\n\t        int value = Integer.parseInt(element.getText());\r\n\t        if (value == counter) {\r\n\t            counter++; \r\n\t        } else {\r\n\t            System.out.println(&quot;The row does not contain the expected values&quot;);\r\n\t            break;\r\n\t        }\r\n\t    } else {\r\n           // else of if (element.isDisplayed()) \r\n        }\r\n\t}\r\n\r\nHaving said that, I noticed a bug and wanted to give other feedback to simplify your code.\r\n\r\n1. In your question you indicated that the columns are numbered 0-9 but your `if` only goes from 0-8,\r\n\r\n       for (int i = 0; i &lt; 9; i++)\r\n\r\n   but it should be\r\n\r\n       for (int i = 0; i &lt;= 9; i++)\r\n                          ^ note the added equals sign\r\n\r\n2. By putting the `i` value in the XPath, `...//span[text()=&#39;&quot;+i+&quot;&#39;]`, you&#39;ve already verified the text contained in the element so there&#39;s no need to `parseInt` and compare the values. Your entire code snippet can be reduced to\r\n\r\n       for (int i = 0; i &lt;= 9; i++) {\r\n           WebElement element = driver.findElement(By.xpath(&quot;//div[@class=&#39;hour ng-star&#39;]//span[text()=&#39;&quot; + i + &quot;&#39;]&quot;));\r\n       }\r\n\r\n   This code will throw an `NoSuchElementException` if one of the elements is not present, i.e. the text is not there or in the correct order.","title":"How to validate row numbers on webtable using selenium java?","body":"<p>To answer your question, the <code>else</code> part of the <code>if</code> goes right after the closing <code>}</code> of the <code>if</code> statement, just as you did with the inner <code>if</code>, e.g.</p>\n<pre><code>int counter = 0; \nfor (int i = 0; i &lt; 9; i++) { \n    WebElement element = driver.findElement(By.xpath(&quot;//div[@class='hour ng-star']//span[text()='&quot;+i+&quot;']&quot;));\n    if (element.isDisplayed()) {\n        int value = Integer.parseInt(element.getText());\n        if (value == counter) {\n            counter++; \n        } else {\n            System.out.println(&quot;The row does not contain the expected values&quot;);\n            break;\n        }\n    } else {\n       // else of if (element.isDisplayed()) \n    }\n}\n</code></pre>\n<p>Having said that, I noticed a bug and wanted to give other feedback to simplify your code.</p>\n<ol>\n<li><p>In your question you indicated that the columns are numbered 0-9 but your <code>if</code> only goes from 0-8,</p>\n<pre><code>for (int i = 0; i &lt; 9; i++)\n</code></pre>\n<p>but it should be</p>\n<pre><code>for (int i = 0; i &lt;= 9; i++)\n                   ^ note the added equals sign\n</code></pre>\n</li>\n<li><p>By putting the <code>i</code> value in the XPath, <code>...//span[text()='&quot;+i+&quot;']</code>, you've already verified the text contained in the element so there's no need to <code>parseInt</code> and compare the values. Your entire code snippet can be reduced to</p>\n<pre><code>for (int i = 0; i &lt;= 9; i++) {\n    WebElement element = driver.findElement(By.xpath(&quot;//div[@class='hour ng-star']//span[text()='&quot; + i + &quot;']&quot;));\n}\n</code></pre>\n<p>This code will throw an <code>NoSuchElementException</code> if one of the elements is not present, i.e. the text is not there or in the correct order.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":26403014,"reputation":29,"user_id":21042124,"display_name":"Max Brian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75204094,"answer_count":2,"score":0,"last_activity_date":1674423389,"creation_date":1674403498,"question_id":75201880,"body_markdown":"Row starts with *0* and ends with *9*.\r\n\r\nI tried like this:\r\n\r\n\r\n\r\n    int counter = 0; \r\n    for (int i = 0; i &lt; 9; i++) { \r\n        WebElement element = driver.findElement(By.xpath(&quot;//div[@class=&#39;hour ng-star&#39;]//span[text()=&#39;&quot;+i+&quot;&#39;]&quot;);\r\n        if (element.isDisplayed()) {\r\n            int value = Integer.parseInt(element.getText());\r\n            if (value == counter) {\r\n                counter++; \r\n            } else {\r\n                System.out.println(&quot;The row does not contain the expected values&quot;);\r\n                break;\r\n            }\r\n        }\r\n\r\nI need to add `else` part for `if (element.isDisplayed()) {` block, where should I include `else` part of first `if` statement?","title":"How to validate row numbers on webtable using selenium java?","body":"<p>Row starts with <em>0</em> and ends with <em>9</em>.</p>\n<p>I tried like this:</p>\n<pre><code>int counter = 0; \nfor (int i = 0; i &lt; 9; i++) { \n    WebElement element = driver.findElement(By.xpath(&quot;//div[@class='hour ng-star']//span[text()='&quot;+i+&quot;']&quot;);\n    if (element.isDisplayed()) {\n        int value = Integer.parseInt(element.getText());\n        if (value == counter) {\n            counter++; \n        } else {\n            System.out.println(&quot;The row does not contain the expected values&quot;);\n            break;\n        }\n    }\n</code></pre>\n<p>I need to add <code>else</code> part for <code>if (element.isDisplayed()) {</code> block, where should I include <code>else</code> part of first <code>if</code> statement?</p>\n"},{"tags":["java","json","spring","rest"],"comments":[{"owner":{"account_id":3023214,"reputation":20361,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":3,"creation_date":1674398876,"post_id":75201320,"comment_id":132701747,"body_markdown":"I doubt that this compiles ... Additionally, Spring does not respond with an object if a list is returned. There is a great mismatch between the code shown here and the code you are actually running, I suppose.","body":"I doubt that this compiles ... Additionally, Spring does not respond with an object if a list is returned. There is a great mismatch between the code shown here and the code you are actually running, I suppose."}],"answers":[{"comments":[{"owner":{"account_id":957259,"reputation":29625,"user_id":982341,"display_name":"GreyBeardedGeek"},"score":0,"creation_date":1674428106,"post_id":75204051,"comment_id":132706882,"body_markdown":"This a another way of doing the same thing, but the effect would not be any different from the code that the OP shows (which itself can&#39;t possibly return what they say it is doing).","body":"This a another way of doing the same thing, but the effect would not be any different from the code that the OP shows (which itself can&#39;t possibly return what they say it is doing)."}],"tags":[],"owner":{"account_id":12305345,"reputation":450,"user_id":8978587,"display_name":"ShaharT"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1674422927,"creation_date":1674422927,"answer_id":75204051,"question_id":75201320,"body_markdown":"return ResponseEntity:\r\n\r\n    @GetMapping(value = &quot;/students&quot;)\r\n    public ResponseEntity&lt;List&lt;Student&gt;&gt; getStudents() {\r\n        List&lt;Student&gt; list = service.getStudents();\r\n        return new ResponseEntity&lt;&gt;(list, HttpStatus.OK);\r\n    }\r\n","title":"How to make spring returns json array not a json object?","body":"<p>return ResponseEntity:</p>\n<pre><code>@GetMapping(value = &quot;/students&quot;)\npublic ResponseEntity&lt;List&lt;Student&gt;&gt; getStudents() {\n    List&lt;Student&gt; list = service.getStudents();\n    return new ResponseEntity&lt;&gt;(list, HttpStatus.OK);\n}\n</code></pre>\n"}],"owner":{"account_id":27593926,"reputation":13,"user_id":21060534,"display_name":"Youssef Khaled"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75204051,"answer_count":1,"score":0,"last_activity_date":1674422927,"creation_date":1674398613,"question_id":75201320,"body_markdown":"I am returning a list from a method in a spring controller and the json output is json object not a json array?\r\n\r\n\r\n\t@GetMapping(value = &quot;/students&quot;)\r\n\tpublic List&lt;Student&gt; getStudents() {\r\n\r\n\t\tList&lt;Student&gt; list = service.getStudents();\r\n\r\n\t\treturn list;\r\n\t}\r\n\r\n\r\n\r\nWhat I get is a json object containing the json array.\r\n`{\r\n   &quot;students&quot;:[\r\n      {\r\n         &quot;name&quot;:&quot;xyz&quot;\r\n      },\r\n      {\r\n         &quot;name&quot;:&quot;xyz&quot;\r\n      },\r\n      {\r\n         &quot;name&quot;:&quot;xyz&quot;\r\n      }\r\n   ]\r\n}`\r\n\r\nWhat I need a flat json array like this.\r\n\r\n`[\r\n   {\r\n      &quot;name&quot;:&quot;xyz&quot;\r\n   },\r\n   {\r\n      &quot;name&quot;:&quot;xyz&quot;\r\n   },\r\n   {\r\n      &quot;name&quot;:&quot;xyz&quot;\r\n   }\r\n]`","title":"How to make spring returns json array not a json object?","body":"<p>I am returning a list from a method in a spring controller and the json output is json object not a json array?</p>\n<pre><code>@GetMapping(value = &quot;/students&quot;)\npublic List&lt;Student&gt; getStudents() {\n\n    List&lt;Student&gt; list = service.getStudents();\n\n    return list;\n}\n</code></pre>\n<p>What I get is a json object containing the json array.\n<code>{ &quot;students&quot;:[ { &quot;name&quot;:&quot;xyz&quot; }, { &quot;name&quot;:&quot;xyz&quot; }, { &quot;name&quot;:&quot;xyz&quot; } ] }</code></p>\n<p>What I need a flat json array like this.</p>\n<p><code>[ { &quot;name&quot;:&quot;xyz&quot; }, { &quot;name&quot;:&quot;xyz&quot; }, { &quot;name&quot;:&quot;xyz&quot; } ]</code></p>\n"},{"tags":["java","ssl","sni"],"answers":[{"tags":[],"owner":{"account_id":1014158,"reputation":2646,"user_id":1026104,"display_name":"jan.supol"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674422810,"creation_date":1674422810,"answer_id":75204035,"question_id":74685603,"body_markdown":"The `HttpsClient#afterConnect` calls `SSLSocketImpl#setHost` which replaces the first `SNIHostName` (more precisely the `SNIServerName` with type 0 - as the [RFC6066][1] defines just type 0) with the hostname from the HTTPS Connection. So the trick is not to use the **hostname** for the connection, but to use the **IP address** instead for the connection. That way, the `Utilities` won&#39;t find the hostname to replace the SNIHostNames in the SSLParameters.\r\n\r\n\r\n  [1]: https://www.rfc-editor.org/rfc/rfc6066#section-3","title":"javax addToSNIServerNameList(): avoid server replacement in SNI","body":"<p>The <code>HttpsClient#afterConnect</code> calls <code>SSLSocketImpl#setHost</code> which replaces the first <code>SNIHostName</code> (more precisely the <code>SNIServerName</code> with type 0 - as the <a href=\"https://www.rfc-editor.org/rfc/rfc6066#section-3\" rel=\"nofollow noreferrer\">RFC6066</a> defines just type 0) with the hostname from the HTTPS Connection. So the trick is not to use the <strong>hostname</strong> for the connection, but to use the <strong>IP address</strong> instead for the connection. That way, the <code>Utilities</code> won't find the hostname to replace the SNIHostNames in the SSLParameters.</p>\n"}],"owner":{"account_id":14545718,"reputation":127,"user_id":10506010,"display_name":"conryyy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1674422810,"creation_date":1670230777,"question_id":74685603,"body_markdown":"I use a HTTPS Connection on my CLient in multiple Threads. Sometimes up to 20 times / second.\r\nI have made the following observation: somethimes the HTTPS Connection is reconnected with TLS Handshake and this debug message appears: \r\n\r\n    javax.net.ssl|DEBUG|42|Thread-15|2022-12-02 13:48:47.748 CET|Utilities.java:73|the previous server name in SNI (type=host_name (0), value=myServer.com) was replaced with (type=host_name (0), value=myServer.com)\r\nAfter this message the TLS Handshake is made again.\r\n\r\n**How can I avoid the reconnection and the server replacment in the SNI?**\r\n\r\nIn every thread this code is executed:\r\n\r\n    public SOAPConnecti2n soapConnection\r\n    soapConnection = SOAPConnectionFactory.newInstance().createConnection(); // done 1x in every thread in the constructor of the class\r\n    \r\n    SOAPMessage response = soapConnection.call(myRequest, myURLEndpoint) // done x times in ervery thread in a for loop \r\n\r\n","title":"javax addToSNIServerNameList(): avoid server replacement in SNI","body":"<p>I use a HTTPS Connection on my CLient in multiple Threads. Sometimes up to 20 times / second.\nI have made the following observation: somethimes the HTTPS Connection is reconnected with TLS Handshake and this debug message appears:</p>\n<pre><code>javax.net.ssl|DEBUG|42|Thread-15|2022-12-02 13:48:47.748 CET|Utilities.java:73|the previous server name in SNI (type=host_name (0), value=myServer.com) was replaced with (type=host_name (0), value=myServer.com)\n</code></pre>\n<p>After this message the TLS Handshake is made again.</p>\n<p><strong>How can I avoid the reconnection and the server replacment in the SNI?</strong></p>\n<p>In every thread this code is executed:</p>\n<pre><code>public SOAPConnecti2n soapConnection\nsoapConnection = SOAPConnectionFactory.newInstance().createConnection(); // done 1x in every thread in the constructor of the class\n\nSOAPMessage response = soapConnection.call(myRequest, myURLEndpoint) // done x times in ervery thread in a for loop \n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1505025,"reputation":38875,"user_id":1408611,"accept_rate":73,"display_name":"gexicide"},"score":2,"creation_date":1340113363,"post_id":11102108,"comment_id":14540514,"body_markdown":"what has a `Map` to do with acquiring network interface information?","body":"what has a <code>Map</code> to do with acquiring network interface information?"},{"owner":{"account_id":97082,"reputation":375036,"user_id":263525,"accept_rate":85,"display_name":"Denys S&#233;guret"},"score":1,"creation_date":1340113447,"post_id":11102108,"comment_id":14540565,"body_markdown":"I&#39;m not sure there is a portable way to do this. For a similar need (getting the MAC address), I used a ProcessBuilder with 3 different commands for linux, Mac and Windows.","body":"I&#39;m not sure there is a portable way to do this. For a similar need (getting the MAC address), I used a ProcessBuilder with 3 different commands for linux, Mac and Windows."},{"owner":{"account_id":1344997,"reputation":1348,"user_id":1285928,"accept_rate":56,"display_name":"user1285928"},"score":0,"creation_date":1340113573,"post_id":11102108,"comment_id":14540630,"body_markdown":"By portable I mean to get all the information from servers with different number of network ports.","body":"By portable I mean to get all the information from servers with different number of network ports."}],"answers":[{"comments":[{"owner":{"account_id":1580455,"reputation":140,"user_id":1465941,"display_name":"Maciej"},"score":0,"creation_date":1340115042,"post_id":11102787,"comment_id":14541356,"body_markdown":"And of course before while() loop you should create whatever collection you need - e.g. Map or List. Then inside while loop just get needed information from networkInterface and put it into your collection (Map, List, etc)","body":"And of course before while() loop you should create whatever collection you need - e.g. Map or List. Then inside while loop just get needed information from networkInterface and put it into your collection (Map, List, etc)"}],"tags":[],"owner":{"account_id":1580455,"reputation":140,"user_id":1465941,"display_name":"Maciej"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1674422755,"creation_date":1340114948,"answer_id":11102787,"question_id":11102108,"body_markdown":"```java\r\nEnumeration&lt;NetworkInterface&gt; interfaces = NetworkInterface.getNetworkInterfaces();\r\nwhile(interfaces.hasMoreElements()) {\r\n    NetworkInterface networkInterface = interfaces.nextElement();\r\n    Enumeration&lt;InetAddress&gt; inetAddresses = networkInterface.getInetAddresses();\r\n    // ...\r\n}\r\n```\r\n\r\n[Here&#39;s the documentation for `NetworkInterface`][1].\r\n\r\nHere is some example code:\r\n[http://java.dzone.com/news/network-interface-details-java][2]\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/net/NetworkInterface.html\r\n  [2]: http://java.dzone.com/news/network-interface-details-java","title":"How to get all network interfaces in java and store the information in Java Map","body":"<pre class=\"lang-java prettyprint-override\"><code>Enumeration&lt;NetworkInterface&gt; interfaces = NetworkInterface.getNetworkInterfaces();\nwhile(interfaces.hasMoreElements()) {\n    NetworkInterface networkInterface = interfaces.nextElement();\n    Enumeration&lt;InetAddress&gt; inetAddresses = networkInterface.getInetAddresses();\n    // ...\n}\n</code></pre>\n<p><a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/net/NetworkInterface.html\" rel=\"nofollow noreferrer\">Here's the documentation for <code>NetworkInterface</code></a>.</p>\n<p>Here is some example code:\n<a href=\"http://java.dzone.com/news/network-interface-details-java\" rel=\"nofollow noreferrer\">http://java.dzone.com/news/network-interface-details-java</a></p>\n"}],"owner":{"account_id":1344997,"reputation":1348,"user_id":1285928,"accept_rate":56,"display_name":"user1285928"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8318,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":11102787,"answer_count":1,"score":5,"last_activity_date":1674422755,"creation_date":1340112920,"question_id":11102108,"body_markdown":"I&#39;m new to Java programming. I need a way to get all network interfaces in Linux using java and store that information in Java `Map`. I found many ways in Google how to do this in a static way - just how to get `eth0` and display the information. My code needs to be portable - the code must display the configuration deployed on server with 2 or 4 network ports.\r\n\r\nI thing that the best way to do this is to use Java `Map` to get the information and then later on display it. Would you please help me?\r\n\r\nBest Wishes","title":"How to get all network interfaces in java and store the information in Java Map","body":"<p>I'm new to Java programming. I need a way to get all network interfaces in Linux using java and store that information in Java <code>Map</code>. I found many ways in Google how to do this in a static way - just how to get <code>eth0</code> and display the information. My code needs to be portable - the code must display the configuration deployed on server with 2 or 4 network ports.</p>\n\n<p>I thing that the best way to do this is to use Java <code>Map</code> to get the information and then later on display it. Would you please help me?</p>\n\n<p>Best Wishes</p>\n"},{"tags":["java","spring","unit-testing","assertion"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1674418188,"post_id":75203467,"comment_id":132705332,"body_markdown":"Does any of the code depend on the execution duration? Is anywhere an actual timestamp of the system used where the test is run on? (e.g. with `Instant.now()`)","body":"Does any of the code depend on the execution duration? Is anywhere an actual timestamp of the system used where the test is run on? (e.g. with <code>Instant.now()</code>)"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":1,"creation_date":1674418455,"post_id":75203467,"comment_id":132705372,"body_markdown":"How do you assign those timestamps? I remember something of different methods leading to differences in resolution of the timestamp.","body":"How do you assign those timestamps? I remember something of different methods leading to differences in resolution of the timestamp."},{"owner":{"account_id":20895260,"reputation":25,"user_id":15349689,"display_name":"Fabian L&#252;dicke"},"score":0,"creation_date":1674422027,"post_id":75203467,"comment_id":132706020,"body_markdown":"@cyberbrain Instant.now() is used for the getModStamp()","body":"@cyberbrain Instant.now() is used for the getModStamp()"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1674422259,"post_id":75203467,"comment_id":132706063,"body_markdown":"I recommend that you use `Instant.now(Clock clock)` instead. From its [JavaDocs](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Instant.html#now(java.time.Clock)): &quot;Using this method allows the use of an alternate clock for testing.&quot;","body":"I recommend that you use <code>Instant.now(Clock clock)</code> instead. From its <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Instant.html#now(java.time.Clock)\" rel=\"nofollow noreferrer\">JavaDocs</a>: &quot;Using this method allows the use of an alternate clock for testing.&quot;"}],"answers":[{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674422737,"creation_date":1674422737,"answer_id":75204025,"question_id":75203467,"body_markdown":"I recommend that you use `Instant.now(Clock clock)` instead. From its [JavaDocs](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Instant.html#now(java.time.Clock)): &quot;Using this method allows the use of an alternate clock for testing.&quot;\r\n\r\nThe problems could arise from different time zones, different operating systems, different hardware precision of timers in your systems etc.\r\n\r\nWhen you specify a `Clock` you could create that with a defined precision (milliseconds, seconds, minutes or any other `Duration`) for your tests.\r\n\r\nOr you could provide a `Clock` that always returns the same instant for your tests (which I really would recommend to have reproducible tests!) with `Clock.fixed(Instant fixedInstant, ZoneId zone)`.\r\n\r\nFor production use, you can simply provide a `Clock.systemUTC()` to have the current behaviour of `Instant.now()`.\r\n[`Clock`s JavaDocs](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Clock.html) explain the reason for using it in more detail.\r\n","title":"Java spring time of instants elapsed in assertEquals statement","body":"<p>I recommend that you use <code>Instant.now(Clock clock)</code> instead. From its <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Instant.html#now(java.time.Clock)\" rel=\"nofollow noreferrer\">JavaDocs</a>: &quot;Using this method allows the use of an alternate clock for testing.&quot;</p>\n<p>The problems could arise from different time zones, different operating systems, different hardware precision of timers in your systems etc.</p>\n<p>When you specify a <code>Clock</code> you could create that with a defined precision (milliseconds, seconds, minutes or any other <code>Duration</code>) for your tests.</p>\n<p>Or you could provide a <code>Clock</code> that always returns the same instant for your tests (which I really would recommend to have reproducible tests!) with <code>Clock.fixed(Instant fixedInstant, ZoneId zone)</code>.</p>\n<p>For production use, you can simply provide a <code>Clock.systemUTC()</code> to have the current behaviour of <code>Instant.now()</code>.\n<a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Clock.html\" rel=\"nofollow noreferrer\"><code>Clock</code>s JavaDocs</a> explain the reason for using it in more detail.</p>\n"}],"owner":{"account_id":20895260,"reputation":25,"user_id":15349689,"display_name":"Fabian L&#252;dicke"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1674422737,"creation_date":1674417357,"question_id":75203467,"body_markdown":"I have some tests in my testsuite that run on all my colleagues, but fail on me. And that is to return two times from different entities in the form of an instant and compare them with each other. They actually match, but not for me.\r\n\r\nThis is the described line:\r\n```\r\nassertEquals(notUpdatedRule.getModStamp(), rule.getModStamp());\r\n```\r\n\r\nAs error message I get back the following:\r\n\r\n```\r\norg.opentest4j.AssertionFailedError: \r\nExpected :2023-01-22T19:46:20.754829Z\r\nActual   :2023-01-22T19:46:20.754829486Z\r\n```\r\n\r\nI have already tried to adapt my openjdk version to that of my colleagues, but this has not changed anything.\r\n","title":"Java spring time of instants elapsed in assertEquals statement","body":"<p>I have some tests in my testsuite that run on all my colleagues, but fail on me. And that is to return two times from different entities in the form of an instant and compare them with each other. They actually match, but not for me.</p>\n<p>This is the described line:</p>\n<pre><code>assertEquals(notUpdatedRule.getModStamp(), rule.getModStamp());\n</code></pre>\n<p>As error message I get back the following:</p>\n<pre><code>org.opentest4j.AssertionFailedError: \nExpected :2023-01-22T19:46:20.754829Z\nActual   :2023-01-22T19:46:20.754829486Z\n</code></pre>\n<p>I have already tried to adapt my openjdk version to that of my colleagues, but this has not changed anything.</p>\n"},{"tags":["java","lambda","java-8"],"comments":[{"owner":{"account_id":1424245,"reputation":272193,"user_id":1348195,"accept_rate":88,"display_name":"Benjamin Gruenbaum"},"score":1,"creation_date":1401109268,"post_id":23870478,"comment_id":36742902,"body_markdown":"Just wondering, why don&#39;t you want to match proxy classes?","body":"Just wondering, why don&#39;t you want to match proxy classes?"},{"owner":{"account_id":148440,"reputation":54364,"user_id":360211,"accept_rate":76,"display_name":"weston"},"score":6,"creation_date":1401109382,"post_id":23870478,"comment_id":36742945,"body_markdown":"Why do you want to know? Just interested in what you&#39;re use case is.","body":"Why do you want to know? Just interested in what you&#39;re use case is."},{"owner":{"account_id":275686,"reputation":4452,"user_id":568695,"accept_rate":100,"display_name":"Robert Metzger"},"score":0,"creation_date":1406741308,"post_id":23870478,"comment_id":38951727,"body_markdown":"Note that `getDeclaredMethods().length == 1` only holds if the Lambda is not `Serializable`. Then, it will generate a `.writeReplace()` as well.","body":"Note that <code>getDeclaredMethods().length == 1</code> only holds if the Lambda is not <code>Serializable</code>. Then, it will generate a <code>.writeReplace()</code> as well."},{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":1,"creation_date":1406743669,"post_id":23870478,"comment_id":38953027,"body_markdown":"Right, I know that. In my case all Lambdas are my own. So, I have a control over them: https://github.com/spring-projects/spring-integration-extensions/tree/master/spring-integration-java-dsl","body":"Right, I know that. In my case all Lambdas are my own. So, I have a control over them: <a href=\"https://github.com/spring-projects/spring-integration-extensions/tree/master/spring-integration-java-dsl\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-integration-extensions/tre&zwnj;&#8203;e/&hellip;</a>"},{"owner":{"account_id":1208398,"reputation":1787,"user_id":1177418,"accept_rate":85,"display_name":"akagixxer"},"score":0,"creation_date":1485454987,"post_id":23870478,"comment_id":70942751,"body_markdown":"I found this question because I was making an interface with 2 method overloads: one  taking in a &lt;T extends AutoCloseable&gt; and another Supplier&lt;T extends AutoCloseable&gt;.  Funny enough, lambdas implement AutoCloseable and it would not compile because it could not disambiguate which overload to call if I passed in a Supplier lambda.","body":"I found this question because I was making an interface with 2 method overloads: one  taking in a &lt;T extends AutoCloseable&gt; and another Supplier&lt;T extends AutoCloseable&gt;.  Funny enough, lambdas implement AutoCloseable and it would not compile because it could not disambiguate which overload to call if I passed in a Supplier lambda."}],"answers":[{"comments":[{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1401110246,"post_id":23870800,"comment_id":36743452,"body_markdown":"Here is a couple of my today&#39;s question about issues with Lambdas and generics: http://stackoverflow.com/questions/23863716/java-how-to-resolve-generic-type-of-lambda-parameter, http://stackoverflow.com/questions/23865950/java-get-actual-type-of-generic-method-with-lambda-parameter. I think they should shed some light what I want to get.","body":"Here is a couple of my today&#39;s question about issues with Lambdas and generics: <a href=\"http://stackoverflow.com/questions/23863716/java-how-to-resolve-generic-type-of-lambda-parameter\" title=\"java how to resolve generic type of lambda parameter\">stackoverflow.com/questions/23863716/&hellip;</a>, <a href=\"http://stackoverflow.com/questions/23865950/java-get-actual-type-of-generic-method-with-lambda-parameter\" title=\"java get actual type of generic method with lambda parameter\">stackoverflow.com/questions/23865950/&hellip;</a>. I think they should shed some light what I want to get."},{"owner":{"account_id":1416522,"reputation":91374,"user_id":3553087,"display_name":"Brian Goetz"},"score":8,"creation_date":1401114668,"post_id":23870800,"comment_id":36745891,"body_markdown":"Those questions suggest that you are not fully on board with how *erasure* works in implementing Java generics.  This has nothing to do with lambda; the same issues show up with named classes.","body":"Those questions suggest that you are not fully on board with how <i>erasure</i> works in implementing Java generics.  This has nothing to do with lambda; the same issues show up with named classes."},{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":1,"creation_date":1401116561,"post_id":23870800,"comment_id":36746886,"body_markdown":"I&#39;m not sure that I agree with you, because we can do so mach with reflection and generics at runtime, that it looks like Java hasn&#39;t done enough for lambdas. We often use generic resolution and reflection info at runtime to make many thing flexible and usefull for end-users, e.g. https://jira.spring.io/browse/SPR-10675. We resolve it like `GenericTypeResolver.resolveTypeArgument(listenerType, ApplicationListener.class)`, but since lambda doesn&#39;t provide generic info we end up with issue.","body":"I&#39;m not sure that I agree with you, because we can do so mach with reflection and generics at runtime, that it looks like Java hasn&#39;t done enough for lambdas. We often use generic resolution and reflection info at runtime to make many thing flexible and usefull for end-users, e.g. <a href=\"https://jira.spring.io/browse/SPR-10675\" rel=\"nofollow noreferrer\">jira.spring.io/browse/SPR-10675</a>. We resolve it like <code>GenericTypeResolver.resolveTypeArgument(listenerType, ApplicationListener.class)</code>, but since lambda doesn&#39;t provide generic info we end up with issue."},{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":1,"creation_date":1401116697,"post_id":23870800,"comment_id":36746959,"body_markdown":"The same here with parameter types and `ConversionService`. Of course you can say that Spring `not fully on board with how erasure works`, but why don&#39;t go to meet people and don&#39;t implement what we (and others) need?","body":"The same here with parameter types and <code>ConversionService</code>. Of course you can say that Spring <code>not fully on board with how erasure works</code>, but why don&#39;t go to meet people and don&#39;t implement what we (and others) need?"},{"owner":{"account_id":1416522,"reputation":91374,"user_id":3553087,"display_name":"Brian Goetz"},"score":6,"creation_date":1401121118,"post_id":23870800,"comment_id":36749021,"body_markdown":"To your &quot;I&#39;m not sure I agree with you&quot; response: this is pure wishful thinking.  Yes, there are a few corner cases in which you can get reflection to cough up some compile-time type decisions (specifically with anonymous classes), but these are the exceptions, not the other way around.  Generics are erased; reflection is for reflecting over CLASSES, not INSTANCES.  I can imagine you&#39;d want it to work differently, of course, but you&#39;re looking for &quot;how do I&quot; answers, and they&#39;re not there.","body":"To your &quot;I&#39;m not sure I agree with you&quot; response: this is pure wishful thinking.  Yes, there are a few corner cases in which you can get reflection to cough up some compile-time type decisions (specifically with anonymous classes), but these are the exceptions, not the other way around.  Generics are erased; reflection is for reflecting over CLASSES, not INSTANCES.  I can imagine you&#39;d want it to work differently, of course, but you&#39;re looking for &quot;how do I&quot; answers, and they&#39;re not there."},{"owner":{"account_id":1416522,"reputation":91374,"user_id":3553087,"display_name":"Brian Goetz"},"score":7,"creation_date":1401200290,"post_id":23870800,"comment_id":36783335,"body_markdown":"@Holger: That technique is pretty dangerous.  Serialized lambdas have significantly higher performance costs compared to nonserializable lambdas, and are less secure (serialization is inherently a public hidden constructor to behavior and/or captured data that the programmer might have intended to stay private.)  This is not a free lunch.","body":"@Holger: That technique is pretty dangerous.  Serialized lambdas have significantly higher performance costs compared to nonserializable lambdas, and are less secure (serialization is inherently a public hidden constructor to behavior and/or captured data that the programmer might have intended to stay private.)  This is not a free lunch."},{"owner":{"account_id":188706,"reputation":12106,"user_id":427598,"accept_rate":65,"display_name":"Konstantin Milyutin"},"score":0,"creation_date":1410444339,"post_id":23870800,"comment_id":40335372,"body_markdown":"@BrianGoetz, one related question. Could you explain why function types/literals weren&#39;t added to the language? It&#39;s much nicer to write a method that takes a function and not to think which functional interface to use. Calling a function with `f()` like in Scala would also be a nice improvement over `f.supply()` or `f.whatever()`","body":"@BrianGoetz, one related question. Could you explain why function types/literals weren&#39;t added to the language? It&#39;s much nicer to write a method that takes a function and not to think which functional interface to use. Calling a function with <code>f()</code> like in Scala would also be a nice improvement over <code>f.supply()</code> or <code>f.whatever()</code>"},{"owner":{"account_id":1416522,"reputation":91374,"user_id":3553087,"display_name":"Brian Goetz"},"score":5,"creation_date":1410445511,"post_id":23870800,"comment_id":40336206,"body_markdown":"@damluar Too many reasons to fit in 600 characters!  This is a classic example of one of those ideas that is obvious and yet in hindsight turned out to be the wrong thing to do.  See https://www.youtube.com/watch?v=MLksirK9nnE for some of the reasons.","body":"@damluar Too many reasons to fit in 600 characters!  This is a classic example of one of those ideas that is obvious and yet in hindsight turned out to be the wrong thing to do.  See <a href=\"https://www.youtube.com/watch?v=MLksirK9nnE\" rel=\"nofollow noreferrer\">youtube.com/watch?v=MLksirK9nnE</a> for some of the reasons."},{"owner":{"account_id":3683805,"reputation":8445,"user_id":3950982,"display_name":"Luke Hutchison"},"score":1,"creation_date":1485242995,"post_id":23870800,"comment_id":70832243,"body_markdown":"Lambdas do not work the same as anonymous inner classes. They have different scoping rules (lambdas use lexical scoping), they are compiled differently, they are executed differently under the hood, and they interact differently with class initialization (due to the scoping rules).","body":"Lambdas do not work the same as anonymous inner classes. They have different scoping rules (lambdas use lexical scoping), they are compiled differently, they are executed differently under the hood, and they interact differently with class initialization (due to the scoping rules)."},{"owner":{"account_id":2309641,"reputation":4648,"user_id":2028066,"accept_rate":52,"display_name":"MiguelMunoz"},"score":0,"creation_date":1526068572,"post_id":23870800,"comment_id":87615476,"body_markdown":"I don&#39;t know the questioner&#39;s motivation, but I have one that I feel is perfectly legitimate. I have a list of listeners, which is a list of WeakReferences to my listeners. This protects me from memory leaks. It sounds great, but it has a problem. If the listener is anonymous or a lambda, it won&#39;t have any references to it, so it will immediately get garbage collected. My (less than ideal) solution used to be to reject anonymous listeners, forcing the developer to rewrite the code using a non-anonymous listener. But this fails with lambdas because I have no way to test for them.","body":"I don&#39;t know the questioner&#39;s motivation, but I have one that I feel is perfectly legitimate. I have a list of listeners, which is a list of WeakReferences to my listeners. This protects me from memory leaks. It sounds great, but it has a problem. If the listener is anonymous or a lambda, it won&#39;t have any references to it, so it will immediately get garbage collected. My (less than ideal) solution used to be to reject anonymous listeners, forcing the developer to rewrite the code using a non-anonymous listener. But this fails with lambdas because I have no way to test for them."},{"owner":{"account_id":2309641,"reputation":4648,"user_id":2028066,"accept_rate":52,"display_name":"MiguelMunoz"},"score":0,"creation_date":1526072247,"post_id":23870800,"comment_id":87617135,"body_markdown":"I think one of the reasons this issue comes up is that, in principle, a lambda expression behaves exactly like any other object, so we don&#39;t need to know which objects are lambdas. In practice, there are certain situations where lambdas (and anonymous classes) don&#39;t behave like other objects, and one of them is garbage collection.","body":"I think one of the reasons this issue comes up is that, in principle, a lambda expression behaves exactly like any other object, so we don&#39;t need to know which objects are lambdas. In practice, there are certain situations where lambdas (and anonymous classes) don&#39;t behave like other objects, and one of them is garbage collection."},{"owner":{"account_id":1416522,"reputation":91374,"user_id":3553087,"display_name":"Brian Goetz"},"score":1,"creation_date":1526072652,"post_id":23870800,"comment_id":87617283,"body_markdown":"@MiguelMunoz I&#39;m not following your example.  If I do `registerListener(new FooListener())`, and you wrap it with a `WeakReference`, it will still get garbage collected, because you threw away the last strong reference.","body":"@MiguelMunoz I&#39;m not following your example.  If I do <code>registerListener(new FooListener())</code>, and you wrap it with a <code>WeakReference</code>, it will still get garbage collected, because you threw away the last strong reference."},{"owner":{"account_id":2309641,"reputation":4648,"user_id":2028066,"accept_rate":52,"display_name":"MiguelMunoz"},"score":0,"creation_date":1526073593,"post_id":23870800,"comment_id":87617575,"body_markdown":"@Brian Goetz Good question. Let me give you a real-world example. Suppose I have a JComponent that response to an ActionListener. When its enclosing JFrame gets closed, the JComponent no longer needs to respond. But if I fail to remove the listener, I&#39;ll get a memory leak. As Joshua Block suggested in Effective Java, my ListenerList can be a list of WeakReferences, so they&#39;ll get deleted automatically when the JFrame gets closed. But this fails if I write thing.addListener(new ActionListener() {...}). It also fails if I add new FooListener(), but I don&#39;t expect anyone to do this. ...","body":"@Brian Goetz Good question. Let me give you a real-world example. Suppose I have a JComponent that response to an ActionListener. When its enclosing JFrame gets closed, the JComponent no longer needs to respond. But if I fail to remove the listener, I&#39;ll get a memory leak. As Joshua Block suggested in Effective Java, my ListenerList can be a list of WeakReferences, so they&#39;ll get deleted automatically when the JFrame gets closed. But this fails if I write thing.addListener(new ActionListener() {...}). It also fails if I add new FooListener(), but I don&#39;t expect anyone to do this. ..."},{"owner":{"account_id":2309641,"reputation":4648,"user_id":2028066,"accept_rate":52,"display_name":"MiguelMunoz"},"score":0,"creation_date":1526073750,"post_id":23870800,"comment_id":87617637,"body_markdown":"... (Joshua Bloch didn&#39;t consider this possibility) I deal with this by rejecting anonymous listeners. My error message references my class&#39;s javadocs, which explain that the listener should be directly implemented by the class that the listener responds to. So I&#39;m primarily concerned with the idioms that are actually in use. I&#39;m aware that it&#39;s not foolproof.","body":"... (Joshua Bloch didn&#39;t consider this possibility) I deal with this by rejecting anonymous listeners. My error message references my class&#39;s javadocs, which explain that the listener should be directly implemented by the class that the listener responds to. So I&#39;m primarily concerned with the idioms that are actually in use. I&#39;m aware that it&#39;s not foolproof."},{"owner":{"account_id":1416522,"reputation":91374,"user_id":3553087,"display_name":"Brian Goetz"},"score":0,"creation_date":1526075647,"post_id":23870800,"comment_id":87618233,"body_markdown":"@MiguelMunoz OK, so this really has nothing to do with lambdas vs named classes; you have a subtle invariant, that _some other entity_ manages the reachability of the listener. That&#39;s a clever trick but it&#39;s really just a super-complex precondition that you can&#39;t dynamically test, so you have to put it on your caller.  Filtering out anon classes or lambdas would only filter out a subset of the immediately-failing cases.","body":"@MiguelMunoz OK, so this really has nothing to do with lambdas vs named classes; you have a subtle invariant, that <i>some other entity</i> manages the reachability of the listener. That&#39;s a clever trick but it&#39;s really just a super-complex precondition that you can&#39;t dynamically test, so you have to put it on your caller.  Filtering out anon classes or lambdas would only filter out a subset of the immediately-failing cases."},{"owner":{"account_id":2309641,"reputation":4648,"user_id":2028066,"accept_rate":52,"display_name":"MiguelMunoz"},"score":1,"creation_date":1526175025,"post_id":23870800,"comment_id":87640232,"body_markdown":"@Brian Goetz As I said, my solution is less than ideal. But you&#39;re thinking theoretically, while I&#39;m thinking about actual practice. I&#39;ve written a lot of Swing UIs, and nobody writes listeners like your FooListener, it&#39;s too much trouble — every listener is different. They&#39;re almost always written as anonymous classes, or lambdas. So that&#39;s what I most need to catch. It&#39;s not foolproof. I can&#39;t catch every incorrect usage, but a test for lambdas would let me catch more of them. It&#39;s a small courtesy that I offer to developers. I just wish the Java language offered me the same courtesy.","body":"@Brian Goetz As I said, my solution is less than ideal. But you&#39;re thinking theoretically, while I&#39;m thinking about actual practice. I&#39;ve written a lot of Swing UIs, and nobody writes listeners like your FooListener, it&#39;s too much trouble — every listener is different. They&#39;re almost always written as anonymous classes, or lambdas. So that&#39;s what I most need to catch. It&#39;s not foolproof. I can&#39;t catch every incorrect usage, but a test for lambdas would let me catch more of them. It&#39;s a small courtesy that I offer to developers. I just wish the Java language offered me the same courtesy."},{"owner":{"account_id":1416522,"reputation":91374,"user_id":3553087,"display_name":"Brian Goetz"},"score":0,"creation_date":1526225419,"post_id":23870800,"comment_id":87651095,"body_markdown":"@MiguelMunoz It&#39;s easy to justify any given &quot;less than ideal&quot; hack to address a perceived need.  But, I invite you to think about what would happen if we added to &quot;Everybody&#39;s Java&quot; the union of all the &quot;less than ideal&quot; hacks that all of the 9M Java developers are able tp justify to themselves.  I promise you, that&#39;s not the Java you -- or anybody --  wants to program in.","body":"@MiguelMunoz It&#39;s easy to justify any given &quot;less than ideal&quot; hack to address a perceived need.  But, I invite you to think about what would happen if we added to &quot;Everybody&#39;s Java&quot; the union of all the &quot;less than ideal&quot; hacks that all of the 9M Java developers are able tp justify to themselves.  I promise you, that&#39;s not the Java you -- or anybody --  wants to program in."},{"owner":{"account_id":1416522,"reputation":91374,"user_id":3553087,"display_name":"Brian Goetz"},"score":0,"creation_date":1526226243,"post_id":23870800,"comment_id":87651398,"body_markdown":"@MiguelMunoz If you&#39;re just optimistically filtering as a proxy for the (impossible to actually detect) actual precondition in the hopes of catching 90% of the bugs, any of the ad-hoc solutions (class name contains `$$Lambda`, class is a VMAC) would work well enough for your purposes.  They may have false positives, but if your goal is just to catch silly errors, seems like you&#39;re fine with that.","body":"@MiguelMunoz If you&#39;re just optimistically filtering as a proxy for the (impossible to actually detect) actual precondition in the hopes of catching 90% of the bugs, any of the ad-hoc solutions (class name contains <code>$$Lambda</code>, class is a VMAC) would work well enough for your purposes.  They may have false positives, but if your goal is just to catch silly errors, seems like you&#39;re fine with that."},{"owner":{"account_id":2309641,"reputation":4648,"user_id":2028066,"accept_rate":52,"display_name":"MiguelMunoz"},"score":0,"creation_date":1526263343,"post_id":23870800,"comment_id":87660312,"body_markdown":"@BrianGoetz So you&#39;re saying I can just just write a hack. Yeah, I know. I have a bias against hacks. I guess I don&#39;t understand why it&#39;s okay to have isAnonymous() but not isLambda(). It&#39;s precisely this kind of unexpected problem (even Joshua Bloch didn&#39;t expect it) that make methods like isLambda() useful. Your original claim was that if I want to do this, I&#39;m doing something wrong. I&#39;m not. I&#39;m catching someone else doing something wrong. Is the hack guaranteed to keep working as the language changes? Maybe it is. I don&#39;t know. isLambda() feels safer. I come to this site to avoid hacks.","body":"@BrianGoetz So you&#39;re saying I can just just write a hack. Yeah, I know. I have a bias against hacks. I guess I don&#39;t understand why it&#39;s okay to have isAnonymous() but not isLambda(). It&#39;s precisely this kind of unexpected problem (even Joshua Bloch didn&#39;t expect it) that make methods like isLambda() useful. Your original claim was that if I want to do this, I&#39;m doing something wrong. I&#39;m not. I&#39;m catching someone else doing something wrong. Is the hack guaranteed to keep working as the language changes? Maybe it is. I don&#39;t know. isLambda() feels safer. I come to this site to avoid hacks."},{"owner":{"account_id":1416522,"reputation":91374,"user_id":3553087,"display_name":"Brian Goetz"},"score":0,"creation_date":1526419580,"post_id":23870800,"comment_id":87735454,"body_markdown":"@MiguelMunoz What I&#39;m saying is that what you&#39;re doing is already unsound and brittle and deeply hacky, and exposing a `isLambda()` method would only make it .1% less so.  So, no, you&#39;ve not offered any new or legitimate motivation for us to expose such an API point.","body":"@MiguelMunoz What I&#39;m saying is that what you&#39;re doing is already unsound and brittle and deeply hacky, and exposing a <code>isLambda()</code> method would only make it .1% less so.  So, no, you&#39;ve not offered any new or legitimate motivation for us to expose such an API point."},{"owner":{"account_id":2309641,"reputation":4648,"user_id":2028066,"accept_rate":52,"display_name":"MiguelMunoz"},"score":0,"creation_date":1526749376,"post_id":23870800,"comment_id":87869882,"body_markdown":"@BrianGoetz Based on my experience, I&#39;m generally distrustful of using reflection. (I could say a lot here.) But where I&#39;ve found reflection to be useful is in diagnosing problems. That&#39;s exactly what I&#39;m doing here, and it&#39;s how I&#39;ve used isAnonymous(). I still don&#39;t understand why isAnonymous() is acceptable but isLambda() isn&#39;t. My point is in to keep calls to isAnonymous() out of production code. If this is so unsound, then why is isAnonymous() available?","body":"@BrianGoetz Based on my experience, I&#39;m generally distrustful of using reflection. (I could say a lot here.) But where I&#39;ve found reflection to be useful is in diagnosing problems. That&#39;s exactly what I&#39;m doing here, and it&#39;s how I&#39;ve used isAnonymous(). I still don&#39;t understand why isAnonymous() is acceptable but isLambda() isn&#39;t. My point is in to keep calls to isAnonymous() out of production code. If this is so unsound, then why is isAnonymous() available?"},{"owner":{"account_id":1416522,"reputation":91374,"user_id":3553087,"display_name":"Brian Goetz"},"score":0,"creation_date":1526753229,"post_id":23870800,"comment_id":87870983,"body_markdown":"@MiguelMunoz Questions like this may seem obvious, but are actually pretty unhelpful. They belie a black-and-white view (100% right or 100% wrong), and assume everything that&#39;s been done already must be 100% right.  So &quot;if X is OK, Y should be OK&quot; both assumes that the considerations around X and Y are identical (never true), and also that `isAnonymous()` was a 100% great idea. (Some ideas are 51% ideas.)  Neither are valid assumptions. In any case, I don&#39;t see the value of continuing here. We made the right call then, and nothing has come to light since that makes me want to change my mind.","body":"@MiguelMunoz Questions like this may seem obvious, but are actually pretty unhelpful. They belie a black-and-white view (100% right or 100% wrong), and assume everything that&#39;s been done already must be 100% right.  So &quot;if X is OK, Y should be OK&quot; both assumes that the considerations around X and Y are identical (never true), and also that <code>isAnonymous()</code> was a 100% great idea. (Some ideas are 51% ideas.)  Neither are valid assumptions. In any case, I don&#39;t see the value of continuing here. We made the right call then, and nothing has come to light since that makes me want to change my mind."},{"owner":{"account_id":178797,"reputation":1794,"user_id":3402449,"display_name":"Ahmad Shahwan"},"score":0,"creation_date":1544709413,"post_id":23870800,"comment_id":94378529,"body_markdown":"I see it pretty confusing that a lambda class is not considered anonymous. After all, no-one gave it a name. And it is not precisely the same as `Runnable`, of course. It&#39;s just a subclass. \nSo if a lambda class is not anonymous, how should I access it by name?","body":"I see it pretty confusing that a lambda class is not considered anonymous. After all, no-one gave it a name. And it is not precisely the same as <code>Runnable</code>, of course. It&#39;s just a subclass.  So if a lambda class is not anonymous, how should I access it by name?"},{"owner":{"account_id":1416522,"reputation":91374,"user_id":3553087,"display_name":"Brian Goetz"},"score":1,"creation_date":1544713051,"post_id":23870800,"comment_id":94380883,"body_markdown":"@AhmadShahwan What you&#39;re getting confused over is the term &quot;anonymous class&quot; already has a meaning in Java, and a lambda is not that, despite many people thinking they are the same thing.  Yes, it is &quot;anonymous&quot; in the english sense that it has no name.  But when a Java developer says &quot;anonymous class&quot;, they mean way more than that; similarly the reflective call `isAnonymous()` refers to more than just the english meaning.","body":"@AhmadShahwan What you&#39;re getting confused over is the term &quot;anonymous class&quot; already has a meaning in Java, and a lambda is not that, despite many people thinking they are the same thing.  Yes, it is &quot;anonymous&quot; in the english sense that it has no name.  But when a Java developer says &quot;anonymous class&quot;, they mean way more than that; similarly the reflective call <code>isAnonymous()</code> refers to more than just the english meaning."},{"owner":{"account_id":7717797,"reputation":163,"user_id":5844925,"display_name":"John Coker"},"score":0,"creation_date":1641522522,"post_id":23870800,"comment_id":124831998,"body_markdown":"There is at least one case where it matters: memory measurement. Tactically, there are issues with JAMM because Java errors are thrown when trying to measure objects that contain lambdas. It&#39;s also questionable whether one should count lambdas as part of the object size because they&#39;re part of the compiled code.","body":"There is at least one case where it matters: memory measurement. Tactically, there are issues with JAMM because Java errors are thrown when trying to measure objects that contain lambdas. It&#39;s also questionable whether one should count lambdas as part of the object size because they&#39;re part of the compiled code."}],"tags":[],"owner":{"account_id":1416522,"reputation":91374,"user_id":3553087,"display_name":"Brian Goetz"},"comment_count":25,"down_vote_count":2,"up_vote_count":64,"is_accepted":true,"score":62,"last_activity_date":1401109342,"creation_date":1401109342,"answer_id":23870800,"question_id":23870478,"body_markdown":"There is no official way to do this, by design.  Lambdas are part of the language; and are integrated into the type system through functional interfaces.  There should be no need to distinguish a `Runnable` that began life as a lambda, a named class, or an inner class -- they&#39;re all Runnables.  If you think you have to &quot;deal with lambda&quot; by taking apart the class file, you&#39;re almost certainly doing something wrong!  ","title":"How to correctly determine that an object is a lambda?","body":"<p>There is no official way to do this, by design.  Lambdas are part of the language; and are integrated into the type system through functional interfaces.  There should be no need to distinguish a <code>Runnable</code> that began life as a lambda, a named class, or an inner class -- they're all Runnables.  If you think you have to \"deal with lambda\" by taking apart the class file, you're almost certainly doing something wrong!  </p>\n"},{"comments":[{"owner":{"account_id":194909,"reputation":4585,"user_id":437506,"accept_rate":47,"display_name":"Kedar Mhaswade"},"score":0,"creation_date":1457045510,"post_id":35784589,"comment_id":59240690,"body_markdown":"No, this does not appear valid.","body":"No, this does not appear valid."},{"owner":{"account_id":44705,"reputation":5987,"user_id":131337,"display_name":"Sergiy Sokolenko"},"score":6,"creation_date":1469628245,"post_id":35784589,"comment_id":64616601,"body_markdown":"It won&#39;t work because nothing can stop me from naming my class &quot;My$$Lambda$1&quot; for example :-)","body":"It won&#39;t work because nothing can stop me from naming my class &quot;My$$Lambda$1&quot; for example :-)"},{"owner":{"account_id":2309641,"reputation":4648,"user_id":2028066,"accept_rate":52,"display_name":"MiguelMunoz"},"score":1,"creation_date":1526263469,"post_id":35784589,"comment_id":87660334,"body_markdown":"I would replace toString() with getSimpleName(). It shortens the search for $$Lambda$.","body":"I would replace toString() with getSimpleName(). It shortens the search for $$Lambda$."}],"tags":[],"owner":{"account_id":3650398,"reputation":9,"user_id":3042722,"display_name":"Alex Abraham"},"comment_count":3,"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1457045210,"creation_date":1457045210,"answer_id":35784589,"question_id":23870478,"body_markdown":"    public static boolean isLambda(Object obj) {\r\n        return obj.getClass().toString().contains(&quot;$$Lambda$&quot;);\r\n    }","title":"How to correctly determine that an object is a lambda?","body":"<pre><code>public static boolean isLambda(Object obj) {\n    return obj.getClass().toString().contains(\"$$Lambda$\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2558256,"reputation":542,"user_id":2219808,"display_name":"user2219808"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1561861889,"creation_date":1561833610,"answer_id":56819992,"question_id":23870478,"body_markdown":"If you know the lambda extends `Serializable` you could check the synthetic `writeReplace` method that is generated returns a `SerializedLambda` as shown below.\r\n\r\n    import java.io.Serializable;\r\n    import java.lang.invoke.SerializedLambda;\r\n    import java.lang.reflect.InvocationHandler;\r\n    import java.lang.reflect.InvocationTargetException;\r\n    import java.lang.reflect.Method;\r\n    import java.lang.reflect.Proxy;\r\n    import java.util.function.Function;\r\n    \r\n    public class IsLambdaExample\r\n    {\r\n        public static void main( String[] args )\r\n        {\r\n            System.out.println(\r\n                &quot;Is anonymous inner class a lambda: &quot;+isLambda(\r\n                    new SerialisableFunction&lt;Object,Object&gt;(){ public Object apply( Object o ){ return null; } }\r\n                )\r\n            );\r\n            System.out.println( &quot;Is lambda a lambda: &quot;+isLambda( (SerialisableFunction&lt;Object,Object&gt;)o -&gt; null ) );\r\n            System.out.println(\r\n                &quot;Is proxy instance a lambda: &quot;+isLambda(\r\n                    (SerialisableFunction)Proxy.newProxyInstance(\r\n                        ClassLoader.getSystemClassLoader(),\r\n                        new Class[]{ SerialisableFunction.class },\r\n                        new InvocationHandler()\r\n                        {\r\n                            @Override\r\n                            public Object invoke( Object proxy, Method method, Object[] args )\r\n                            {\r\n                                return null;\r\n                            }\r\n    \r\n                            private SerializedLambda writeReplace()\r\n                            {\r\n                                return new SerializedLambda( InvocationHandler.class, &quot;&quot;, &quot;&quot;, &quot;&quot;, 0, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, new Object[]{} );\r\n                            }\r\n                        }\r\n                    )\r\n                )\r\n            );\r\n        }\r\n    \r\n        public static &lt;T extends Function&lt;?,?&gt; &amp; Serializable&gt; Boolean isLambda( T potentialLambda )\r\n        {\r\n            try{\r\n                Class&lt;?&gt; potentialLambdaClass = potentialLambda.getClass();\r\n                if( !potentialLambdaClass.isSynthetic() ){\r\n                    return false;\r\n                }\r\n                Method writeReplace = potentialLambdaClass.getDeclaredMethod(&quot;writeReplace&quot;);\r\n                writeReplace.setAccessible(true);\r\n                Object writeReplaceObject = writeReplace.invoke(potentialLambda);\r\n                return writeReplaceObject != null &amp;&amp; SerializedLambda.class.isAssignableFrom( writeReplaceObject.getClass() );\r\n            }\r\n            catch( NoSuchMethodException | IllegalAccessException | InvocationTargetException ignored ){\r\n                return false;\r\n            }\r\n        }\r\n    \r\n        interface SerialisableFunction&lt;T,U&gt; extends Function&lt;T,U&gt;, Serializable {}\r\n    }","title":"How to correctly determine that an object is a lambda?","body":"<p>If you know the lambda extends <code>Serializable</code> you could check the synthetic <code>writeReplace</code> method that is generated returns a <code>SerializedLambda</code> as shown below.</p>\n\n<pre><code>import java.io.Serializable;\nimport java.lang.invoke.SerializedLambda;\nimport java.lang.reflect.InvocationHandler;\nimport java.lang.reflect.InvocationTargetException;\nimport java.lang.reflect.Method;\nimport java.lang.reflect.Proxy;\nimport java.util.function.Function;\n\npublic class IsLambdaExample\n{\n    public static void main( String[] args )\n    {\n        System.out.println(\n            \"Is anonymous inner class a lambda: \"+isLambda(\n                new SerialisableFunction&lt;Object,Object&gt;(){ public Object apply( Object o ){ return null; } }\n            )\n        );\n        System.out.println( \"Is lambda a lambda: \"+isLambda( (SerialisableFunction&lt;Object,Object&gt;)o -&gt; null ) );\n        System.out.println(\n            \"Is proxy instance a lambda: \"+isLambda(\n                (SerialisableFunction)Proxy.newProxyInstance(\n                    ClassLoader.getSystemClassLoader(),\n                    new Class[]{ SerialisableFunction.class },\n                    new InvocationHandler()\n                    {\n                        @Override\n                        public Object invoke( Object proxy, Method method, Object[] args )\n                        {\n                            return null;\n                        }\n\n                        private SerializedLambda writeReplace()\n                        {\n                            return new SerializedLambda( InvocationHandler.class, \"\", \"\", \"\", 0, \"\", \"\", \"\", \"\", new Object[]{} );\n                        }\n                    }\n                )\n            )\n        );\n    }\n\n    public static &lt;T extends Function&lt;?,?&gt; &amp; Serializable&gt; Boolean isLambda( T potentialLambda )\n    {\n        try{\n            Class&lt;?&gt; potentialLambdaClass = potentialLambda.getClass();\n            if( !potentialLambdaClass.isSynthetic() ){\n                return false;\n            }\n            Method writeReplace = potentialLambdaClass.getDeclaredMethod(\"writeReplace\");\n            writeReplace.setAccessible(true);\n            Object writeReplaceObject = writeReplace.invoke(potentialLambda);\n            return writeReplaceObject != null &amp;&amp; SerializedLambda.class.isAssignableFrom( writeReplaceObject.getClass() );\n        }\n        catch( NoSuchMethodException | IllegalAccessException | InvocationTargetException ignored ){\n            return false;\n        }\n    }\n\n    interface SerialisableFunction&lt;T,U&gt; extends Function&lt;T,U&gt;, Serializable {}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21889,"reputation":30982,"user_id":53538,"accept_rate":88,"display_name":"Guss"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674422647,"creation_date":1674422647,"answer_id":75204016,"question_id":23870478,"body_markdown":"A simple way to check if a `Runnable` - or any other functional interface - has been implemented by a Lambda is to check if the class is synthetic but the interface&#39;s function isn&#39;t:\r\n\r\n```java\r\nClass clz = suspectedObject.getClass();\r\nvar isLambda = clz.isSynthetic() &amp;&amp; !clz.getDeclaredMethod(&quot;run&quot;).isSynthetic();\r\n```\r\n\r\nNote that this will also detect function references (`this::run`) - I don&#39;t think there&#39;s a way to distinguish between that form and an anonymous lambda.\r\n\r\nI want to use this method to log the type of the object in a nicer way - my framework sometime logs the names of provided interface implementations to let the user know in which part of their code they have a problem, and lambda&#39;s `toString()` is next to useless. Not that I&#39;ve yet figured out what is a useful way to represent the notion of &quot;you should look at this specific lambda and not any of the other dozens of lambdas in your class&quot;.","title":"How to correctly determine that an object is a lambda?","body":"<p>A simple way to check if a <code>Runnable</code> - or any other functional interface - has been implemented by a Lambda is to check if the class is synthetic but the interface's function isn't:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Class clz = suspectedObject.getClass();\nvar isLambda = clz.isSynthetic() &amp;&amp; !clz.getDeclaredMethod(&quot;run&quot;).isSynthetic();\n</code></pre>\n<p>Note that this will also detect function references (<code>this::run</code>) - I don't think there's a way to distinguish between that form and an anonymous lambda.</p>\n<p>I want to use this method to log the type of the object in a nicer way - my framework sometime logs the names of provided interface implementations to let the user know in which part of their code they have a problem, and lambda's <code>toString()</code> is next to useless. Not that I've yet figured out what is a useful way to represent the notion of &quot;you should look at this specific lambda and not any of the other dozens of lambdas in your class&quot;.</p>\n"}],"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6961,"favorite_count":0,"down_vote_count":0,"up_vote_count":52,"accepted_answer_id":23870800,"answer_count":4,"score":52,"last_activity_date":1674422647,"creation_date":1401108241,"question_id":23870478,"body_markdown":"I see that the class of a lambda is `isSynthetic() &amp;&amp; !isLocalOrAnonymousClass()`, but I presume that the same may be true for proxy classes.\r\n\r\nOf course, I could check that `getDeclaredMethods().length == 1` and apply `regexp` to the class name.\r\n\r\nHowever I want to know if there is a more elegant and robust option to find out if a given object is a lambda.","title":"How to correctly determine that an object is a lambda?","body":"<p>I see that the class of a lambda is <code>isSynthetic() &amp;&amp; !isLocalOrAnonymousClass()</code>, but I presume that the same may be true for proxy classes.</p>\n\n<p>Of course, I could check that <code>getDeclaredMethods().length == 1</code> and apply <code>regexp</code> to the class name.</p>\n\n<p>However I want to know if there is a more elegant and robust option to find out if a given object is a lambda.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9514,"page":709,"page_size":100}
