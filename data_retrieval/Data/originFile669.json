{"items":[{"tags":["java","android"],"owner":{"account_id":16190555,"reputation":1077,"user_id":11689470,"display_name":"Thudner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675755750,"creation_date":1675755750,"question_id":75370225,"body_markdown":"I want to get a list of all senders in the SMS inbox - I don&#39;t want to read the sms body, date etc.  \r\nI am able to do that using the bellow code\r\n\r\n    Cursor cur = unityActivity.getContentResolver().query(uri, projection,null, null, &quot;date ASC&quot;); \r\n\r\nThe issue here I have to ready all the SMS&#39;s which means if contact **A** has 100 SMS I have to read ALL sms from A, which I don&#39;t want I only want a list of all contacts in the inbox and not the messages.  \r\n\r\n\r\n\r\nAny Idea How I can do that in android Java.  ","title":"Read a LIST of all sender in the sms inbox android java","body":"<p>I want to get a list of all senders in the SMS inbox - I don't want to read the sms body, date etc.<br />\nI am able to do that using the bellow code</p>\n<pre><code>Cursor cur = unityActivity.getContentResolver().query(uri, projection,null, null, &quot;date ASC&quot;); \n</code></pre>\n<p>The issue here I have to ready all the SMS's which means if contact <strong>A</strong> has 100 SMS I have to read ALL sms from A, which I don't want I only want a list of all contacts in the inbox and not the messages.</p>\n<p>Any Idea How I can do that in android Java.</p>\n"},{"tags":["java","tomcat","web-applications"],"comments":[{"owner":{"account_id":231531,"reputation":1688,"user_id":495815,"accept_rate":48,"display_name":"Wouter"},"score":0,"creation_date":1398070848,"post_id":17019233,"comment_id":35475841,"body_markdown":"Are there no options using a Tomcat vhost? These environment settings are not handy if you have multiple copies of the app running. I believe they&#39;re called &quot;environment entries&quot;?","body":"Are there no options using a Tomcat vhost? These environment settings are not handy if you have multiple copies of the app running. I believe they&#39;re called &quot;environment entries&quot;?"},{"owner":{"account_id":3287434,"reputation":1034,"user_id":2766545,"accept_rate":75,"display_name":"Janaka Bandara"},"score":0,"creation_date":1646410366,"post_id":17019233,"comment_id":126123556,"body_markdown":"On Tomcat 8.5.51 provided in Amazon Linux repos, I had to append the env-var declaration to `/usr/libexec/tomcat/preamble`; creating `$CATALINA_BASE/bin/setenv.sh` didn&#39;t work (in above distro `CATALINA_BASE=/usr/share/tomcat`)","body":"On Tomcat 8.5.51 provided in Amazon Linux repos, I had to append the env-var declaration to <code>&#47;usr&#47;libexec&#47;tomcat&#47;preamble</code>; creating <code>$CATALINA_BASE&#47;bin&#47;setenv.sh</code> didn&#39;t work (in above distro <code>CATALINA_BASE=&#47;usr&#47;share&#47;tomcat</code>)"}],"answers":[{"tags":[],"owner":{"account_id":1190755,"reputation":48912,"user_id":1163607,"accept_rate":97,"display_name":"AllTooSir"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1370851451,"creation_date":1370851075,"answer_id":17019283,"question_id":17019233,"body_markdown":"Environment Entries specified by `&lt;Environment&gt;` markup are JNDI, accessible using [InitialContext.lookup][1] under `java:/comp/env`. You can specify environment properties to the [JNDI][2] by using the environment parameter to the [InitialContext][3] constructor and [application resource files][4].\r\n\r\n`System.getEnv()` is about system environment variables of the tomcat process itself.\r\n\r\nTo set an environment variable using bash command :\r\n`export TOMCAT_OPTS=-Dmy.bar=foo`\r\nand start the Tomcat :\r\n`./startup.sh`\r\nTo retrieve the value of System property `bar` use `System.getProperty()`. `System.getEnv()` can be used to retrieve the environment variable i.e. `TOMCAT_OPTS`.\r\n\r\n[1]:http://docs.oracle.com/javase/6/docs/api/javax/naming/InitialContext.html#lookup(java.lang.String)\r\n[2]:http://docs.oracle.com/javase/jndi/tutorial/beyond/env/source.html\r\n[3]:http://docs.oracle.com/javase/1.3/docs/api/javax/naming/InitialContext.html#InitialContext(java.util.Hashtable)\r\n[4]:http://docs.oracle.com/javase/jndi/tutorial/beyond/env/source.html#APPRES","title":"Pass user defined environment variable to tomcat","body":"<p>Environment Entries specified by <code>&lt;Environment&gt;</code> markup are JNDI, accessible using <a href=\"http://docs.oracle.com/javase/6/docs/api/javax/naming/InitialContext.html#lookup%28java.lang.String%29\">InitialContext.lookup</a> under <code>java:/comp/env</code>. You can specify environment properties to the <a href=\"http://docs.oracle.com/javase/jndi/tutorial/beyond/env/source.html\">JNDI</a> by using the environment parameter to the <a href=\"http://docs.oracle.com/javase/1.3/docs/api/javax/naming/InitialContext.html#InitialContext%28java.util.Hashtable%29\">InitialContext</a> constructor and <a href=\"http://docs.oracle.com/javase/jndi/tutorial/beyond/env/source.html#APPRES\">application resource files</a>.</p>\n\n<p><code>System.getEnv()</code> is about system environment variables of the tomcat process itself.</p>\n\n<p>To set an environment variable using bash command :\n<code>export TOMCAT_OPTS=-Dmy.bar=foo</code>\nand start the Tomcat :\n<code>./startup.sh</code>\nTo retrieve the value of System property <code>bar</code> use <code>System.getProperty()</code>. <code>System.getEnv()</code> can be used to retrieve the environment variable i.e. <code>TOMCAT_OPTS</code>.</p>\n"},{"tags":[],"owner":{"account_id":2542363,"reputation":4423,"user_id":2207894,"display_name":"Shinichi Kai"},"down_vote_count":2,"up_vote_count":59,"is_accepted":false,"score":57,"last_activity_date":1661345837,"creation_date":1370926866,"answer_id":17036776,"question_id":17019233,"body_markdown":"You can use `setenv.bat` or `.sh` to pass the environment variables to the Tomcat.\r\n\r\nCreate `CATALINA_BASE/bin/setenv.bat` or `.sh` file and put the following line in it, and then start the Tomcat.\r\n\r\nOn Windows:\r\n\r\n    set APP_MASTER_PASSWORD=foo\r\n\r\nOn Unix like systems:\r\n\r\n    export APP_MASTER_PASSWORD=foo\r\n","title":"Pass user defined environment variable to tomcat","body":"<p>You can use <code>setenv.bat</code> or <code>.sh</code> to pass the environment variables to the Tomcat.</p>\n<p>Create <code>CATALINA_BASE/bin/setenv.bat</code> or <code>.sh</code> file and put the following line in it, and then start the Tomcat.</p>\n<p>On Windows:</p>\n<pre><code>set APP_MASTER_PASSWORD=foo\n</code></pre>\n<p>On Unix like systems:</p>\n<pre><code>export APP_MASTER_PASSWORD=foo\n</code></pre>\n"},{"tags":[],"owner":{"account_id":428088,"reputation":3113,"user_id":810176,"accept_rate":85,"display_name":"Ankit"},"down_vote_count":4,"up_vote_count":25,"is_accepted":false,"score":21,"last_activity_date":1370928119,"creation_date":1370928119,"answer_id":17036984,"question_id":17019233,"body_markdown":"You should use System property instead of environment variable for this case. Edit your tomcat scripts for JAVA_OPTS and add property like:\r\n\r\n`-DAPP_MASTER_PASSWORD=foo`\r\n\r\nand in your code, write \r\n\r\n`System.getProperty(&quot;APP_MASTER_PASSWORD&quot;);`\r\n\r\nYou can do this in Eclipse as well, instead of JAVA_OPTS, copy the line in VM parameters inside run configurations.","title":"Pass user defined environment variable to tomcat","body":"<p>You should use System property instead of environment variable for this case. Edit your tomcat scripts for JAVA_OPTS and add property like:</p>\n\n<p><code>-DAPP_MASTER_PASSWORD=foo</code></p>\n\n<p>and in your code, write </p>\n\n<p><code>System.getProperty(\"APP_MASTER_PASSWORD\");</code></p>\n\n<p>You can do this in Eclipse as well, instead of JAVA_OPTS, copy the line in VM parameters inside run configurations.</p>\n"},{"tags":[],"owner":{"account_id":2475536,"reputation":119,"user_id":2156260,"display_name":"ObviousChild"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1408378740,"creation_date":1408378740,"answer_id":25367738,"question_id":17019233,"body_markdown":"In case of Windows, if you can&#39;t find setenv.bat, in the 2nd line of catalina.bat (after @echo off) add this:&lt;br&gt;\r\nSET APP_MASTER_PASSWORD=foo\r\n\r\nMay not be the best approach, but works","title":"Pass user defined environment variable to tomcat","body":"<p>In case of Windows, if you can't find setenv.bat, in the 2nd line of catalina.bat (after @echo off) add this:<br>\nSET APP_MASTER_PASSWORD=foo</p>\n\n<p>May not be the best approach, but works</p>\n"},{"tags":[],"owner":{"account_id":8239949,"reputation":509,"user_id":6197872,"display_name":"Renardo"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1477056887,"creation_date":1477056887,"answer_id":40178075,"question_id":17019233,"body_markdown":"If you are starting your Tomcat from Eclipse (&quot;Servers&quot; view) then you should have a &quot;Run/Run Configuration&quot; (menu) entry called &quot;Apache Tomcat / Tomcat …&quot;. When you select this entry in the list of run configurations you get a window with several tabs, one of which is labeled &quot;Environment&quot;. There you can configure environment variables for your Tomcat. Be sure to restart Tomcat afterwards.","title":"Pass user defined environment variable to tomcat","body":"<p>If you are starting your Tomcat from Eclipse (\"Servers\" view) then you should have a \"Run/Run Configuration\" (menu) entry called \"Apache Tomcat / Tomcat …\". When you select this entry in the list of run configurations you get a window with several tabs, one of which is labeled \"Environment\". There you can configure environment variables for your Tomcat. Be sure to restart Tomcat afterwards.</p>\n"},{"tags":[],"owner":{"account_id":219730,"reputation":20703,"user_id":476791,"accept_rate":67,"display_name":"slartidan"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1554194007,"creation_date":1554194007,"answer_id":55470264,"question_id":17019233,"body_markdown":"**Environment variables** can be set, by creating a `setenv.bat` (windows) or `setenv.sh` (unix) file in the `bin` folder of your tomcat installation directory. However, environment variables will not be accessabile from within your code.\r\n\r\n**System properties** are set by `-D` arguments of the java process. You can define java starting arguments in the environment variable `JAVA_OPTS`.\r\n\r\nMy suggestions is the **combination** of these two mechanisms. In your `apache-tomcat-0.0.0\\bin\\setenv.bat` write:\r\n\r\n    set JAVA_OPTS=-DAPP_MASTER_PASSWORD=password1\r\n\r\nand in your Java code write:\r\n\r\n    System.getProperty(&quot;APP_MASTER_PASSWORD&quot;)","title":"Pass user defined environment variable to tomcat","body":"<p><strong>Environment variables</strong> can be set, by creating a <code>setenv.bat</code> (windows) or <code>setenv.sh</code> (unix) file in the <code>bin</code> folder of your tomcat installation directory. However, environment variables will not be accessabile from within your code.</p>\n\n<p><strong>System properties</strong> are set by <code>-D</code> arguments of the java process. You can define java starting arguments in the environment variable <code>JAVA_OPTS</code>.</p>\n\n<p>My suggestions is the <strong>combination</strong> of these two mechanisms. In your <code>apache-tomcat-0.0.0\\bin\\setenv.bat</code> write:</p>\n\n<pre><code>set JAVA_OPTS=-DAPP_MASTER_PASSWORD=password1\n</code></pre>\n\n<p>and in your Java code write:</p>\n\n<pre><code>System.getProperty(\"APP_MASTER_PASSWORD\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2841815,"reputation":1495,"user_id":2441277,"display_name":"IamVickyAV"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1563353227,"creation_date":1563353227,"answer_id":57071950,"question_id":17019233,"body_markdown":"For Unix &amp; Mac systems, Go to /bin/setenv.sh inside tomcat folder\r\n\r\nAdd the below line\r\n\r\n`export JAVA_OPTS=&quot;$JAVA_OPTS -DAPP_MASTER_PASSWORD=mypass&quot;`\r\n\r\nNow `System.getProperty(&quot;APP_MASTER_PASSWORD&quot;)` will return `&quot;mypass&quot;`","title":"Pass user defined environment variable to tomcat","body":"<p>For Unix &amp; Mac systems, Go to /bin/setenv.sh inside tomcat folder</p>\n\n<p>Add the below line</p>\n\n<p><code>export JAVA_OPTS=\"$JAVA_OPTS -DAPP_MASTER_PASSWORD=mypass\"</code></p>\n\n<p>Now <code>System.getProperty(\"APP_MASTER_PASSWORD\")</code> will return <code>\"mypass\"</code></p>\n"},{"tags":[],"owner":{"account_id":2021859,"reputation":658,"user_id":1807836,"display_name":"Harish"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1583538151,"creation_date":1583538151,"answer_id":60572984,"question_id":17019233,"body_markdown":"My recipe to fix it:\r\n----------\r\n\r\n1. DID NOT WORK &gt;&gt; Set as system environment variable: I had set the environment variable in my mac `bash_profile`, however, Tomcat did not see that variable.\r\n\r\n2. DID NOT WORK &gt;&gt; setenv.sh: Apache&#39;s recommendation was to have user-defined environment variables in `setenv.sh` file and I did that.\r\n\r\n2. **THIS WORKED!!** &gt;&gt; After a little research into Tomcat startup scripts, I found that environment variables set using `setenv.sh` are lost during the startup.  So I had to edit my `catalina.sh` against the recommendation of Apache and that did the trick. \r\n\r\nAdd your `-DUSER_DEFINED` variable in the run command in `catalina.sh`.\r\n\r\n    eval exec &quot;\\&quot;$_RUNJAVA\\&quot;&quot; &quot;\\&quot;$LOGGING_CONFIG\\&quot;&quot; $LOGGING_MANAGER $JAVA_OPTS $CATALINA_OPTS \\\r\n      -classpath &quot;\\&quot;$CLASSPATH\\&quot;&quot; \\\r\n      -Djava.security.manager \\\r\n      -Djava.security.policy==&quot;\\&quot;$CATALINA_BASE/conf/catalina.policy\\&quot;&quot; \\\r\n      -Dcatalina.base=&quot;\\&quot;$CATALINA_BASE\\&quot;&quot; \\\r\n      -Dcatalina.home=&quot;\\&quot;$CATALINA_HOME\\&quot;&quot; \\\r\n      -Djava.io.tmpdir=&quot;\\&quot;$CATALINA_TMPDIR\\&quot;&quot; \\\r\n      -DUSER_DEFINED=&quot;$USER_DEFINED&quot; \\\r\n      org.apache.catalina.startup.Bootstrap &quot;$@&quot; start\r\n\r\nP.S:  This problem could have been local to my computer.  Others would have different problems. Adding my answer to this post just in case anyone is still facing issues with Tomcat not seeing the environment vars after trying out all recommended approaches.","title":"Pass user defined environment variable to tomcat","body":"<h2>My recipe to fix it:</h2>\n\n<ol>\n<li><p>DID NOT WORK >> Set as system environment variable: I had set the environment variable in my mac <code>bash_profile</code>, however, Tomcat did not see that variable.</p></li>\n<li><p>DID NOT WORK >> setenv.sh: Apache's recommendation was to have user-defined environment variables in <code>setenv.sh</code> file and I did that.</p></li>\n<li><p><strong>THIS WORKED!!</strong> >> After a little research into Tomcat startup scripts, I found that environment variables set using <code>setenv.sh</code> are lost during the startup.  So I had to edit my <code>catalina.sh</code> against the recommendation of Apache and that did the trick. </p></li>\n</ol>\n\n<p>Add your <code>-DUSER_DEFINED</code> variable in the run command in <code>catalina.sh</code>.</p>\n\n<pre><code>eval exec \"\\\"$_RUNJAVA\\\"\" \"\\\"$LOGGING_CONFIG\\\"\" $LOGGING_MANAGER $JAVA_OPTS $CATALINA_OPTS \\\n  -classpath \"\\\"$CLASSPATH\\\"\" \\\n  -Djava.security.manager \\\n  -Djava.security.policy==\"\\\"$CATALINA_BASE/conf/catalina.policy\\\"\" \\\n  -Dcatalina.base=\"\\\"$CATALINA_BASE\\\"\" \\\n  -Dcatalina.home=\"\\\"$CATALINA_HOME\\\"\" \\\n  -Djava.io.tmpdir=\"\\\"$CATALINA_TMPDIR\\\"\" \\\n  -DUSER_DEFINED=\"$USER_DEFINED\" \\\n  org.apache.catalina.startup.Bootstrap \"$@\" start\n</code></pre>\n\n<p>P.S:  This problem could have been local to my computer.  Others would have different problems. Adding my answer to this post just in case anyone is still facing issues with Tomcat not seeing the environment vars after trying out all recommended approaches.</p>\n"},{"tags":[],"owner":{"account_id":16379470,"reputation":11,"user_id":11830854,"display_name":"priyanka singh rao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675755726,"creation_date":1675755726,"answer_id":75370218,"question_id":17019233,"body_markdown":"I have gone through various solutions but none of them worked. Finally I found the tomcat documentation &lt;https://tomcat.apache.org/tomcat-7.0-doc/RUNNING.txt&gt;.\r\nYou can use setenv.bat or .sh for passing the environment variables to the Tomcat. setenv will not be present by default, it should be created inside CATALINA_BASE/bin.\r\nConfigure your environment variable like below in setenv.bat:\r\n\r\n````set &quot;JRE_HOME=%ProgramFiles%\\Java\\jre6&quot;````\r\n\r\n","title":"Pass user defined environment variable to tomcat","body":"<p>I have gone through various solutions but none of them worked. Finally I found the tomcat documentation <a href=\"https://tomcat.apache.org/tomcat-7.0-doc/RUNNING.txt\" rel=\"nofollow noreferrer\">https://tomcat.apache.org/tomcat-7.0-doc/RUNNING.txt</a>.\nYou can use setenv.bat or .sh for passing the environment variables to the Tomcat. setenv will not be present by default, it should be created inside CATALINA_BASE/bin.\nConfigure your environment variable like below in setenv.bat:</p>\n<p><code>set &quot;JRE_HOME=%ProgramFiles%\\Java\\jre6&quot;</code></p>\n"}],"owner":{"account_id":1240770,"reputation":2087,"user_id":1203425,"accept_rate":54,"display_name":"Naresh J"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":148674,"favorite_count":0,"down_vote_count":0,"up_vote_count":34,"answer_count":9,"score":34,"last_activity_date":1675755726,"creation_date":1370850897,"question_id":17019233,"body_markdown":"I am using the eclipse for web application coding. Within this I passed environment variable like :\r\n\r\n1. Project--&gt; Run as --&gt; Run Configuration. And selected Environment tab.\r\n2. Add new environment variable with name `APP_MASTER_PASSWORD` and its value.\r\n\r\nI can access this value in java code as `System.getenv(&quot;APP_MASTER_PASSWORD&quot;)`.\r\n\r\nBut now I want to pass this environment variable to tomcat and access it in application instead of passing thru eclipse.\r\n\r\nSo how can I pass such variable to tomcat?\r\n\r\nI googled about it. But I didn&#39;t get any solution.","title":"Pass user defined environment variable to tomcat","body":"<p>I am using the eclipse for web application coding. Within this I passed environment variable like :</p>\n<ol>\n<li>Project--&gt; Run as --&gt; Run Configuration. And selected Environment tab.</li>\n<li>Add new environment variable with name <code>APP_MASTER_PASSWORD</code> and its value.</li>\n</ol>\n<p>I can access this value in java code as <code>System.getenv(&quot;APP_MASTER_PASSWORD&quot;)</code>.</p>\n<p>But now I want to pass this environment variable to tomcat and access it in application instead of passing thru eclipse.</p>\n<p>So how can I pass such variable to tomcat?</p>\n<p>I googled about it. But I didn't get any solution.</p>\n"},{"tags":["java","liquibase"],"owner":{"account_id":27722981,"reputation":1,"user_id":21163146,"display_name":"Miha5418"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1675762211,"answer_count":0,"score":0,"last_activity_date":1675755150,"creation_date":1675755150,"question_id":75370115,"body_markdown":"I have two schemas and i need to diff on data this schemas. And generate changelog file.\r\nNow I see schema differences, but I don&#39;t see data differences.\r\n\r\n\r\n\r\n\r\n```\r\nDatabase referenceDatabase = DatabaseFactory.getInstance().findCorrectDatabaseImplementation(new JdbcConnection(referenceConnection));\r\nDatabase targetDatabase = DatabaseFactory.getInstance().findCorrectDatabaseImplementation(new JdbcConnection(targetConnection));\r\n\r\nliquibase = new Liquibase(&quot;resources/asd.xml&quot;, new FileSystemResourceAccessor(), referenceDatabase);\r\nDiffResult diffResult = liquibase.diff(referenceDatabase, targetDatabase, new CompareControl());\r\nnew DiffToChangeLog(diffResult, new DiffOutputControl()).print(System.out);\r\n```\r\n","title":"How see differences data in two schema in liquibase using java?","body":"<p>I have two schemas and i need to diff on data this schemas. And generate changelog file.\nNow I see schema differences, but I don't see data differences.</p>\n<pre><code>Database referenceDatabase = DatabaseFactory.getInstance().findCorrectDatabaseImplementation(new JdbcConnection(referenceConnection));\nDatabase targetDatabase = DatabaseFactory.getInstance().findCorrectDatabaseImplementation(new JdbcConnection(targetConnection));\n\nliquibase = new Liquibase(&quot;resources/asd.xml&quot;, new FileSystemResourceAccessor(), referenceDatabase);\nDiffResult diffResult = liquibase.diff(referenceDatabase, targetDatabase, new CompareControl());\nnew DiffToChangeLog(diffResult, new DiffOutputControl()).print(System.out);\n</code></pre>\n"},{"tags":["java","android","android-recyclerview","runtime-error"],"owner":{"account_id":27618635,"reputation":5,"user_id":21080209,"display_name":"Pavlos Katsioulis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675754889,"creation_date":1675754889,"question_id":75370083,"body_markdown":"Well i think i got everything as they should be , i don&#39;t really know what i did wrong with the recycler but i still go error like &quot;No adapter attached; skipping layout&quot;\r\n\r\nI NOTICED THAT ON UsersAdapter.java on the line &quot;itemView.setOnClickListener(view -&gt; onUserClickListener.onUserClicked(getAdapterPosition()));&quot;. getadapterposition is deprecated. Would that be the problem ?\r\n\r\nUsersadapter.java\r\n\r\n```\r\npublic class UsersAdapter extends RecyclerView.Adapter&lt;UsersAdapter.UserHolder&gt; {\r\n\r\n    private final ArrayList&lt;User&gt; users;\r\n    private final Context context;\r\n    private final OnUserClickListener onUserClickListener;\r\n\r\n    public UsersAdapter(ArrayList&lt;User&gt; users, Context context, OnUserClickListener onUserClickListener) {\r\n        this.users = users;\r\n        this.context = context;\r\n        this.onUserClickListener = onUserClickListener;\r\n    }\r\n\r\n    interface OnUserClickListener{\r\n        void onUserClicked(int position);\r\n    }\r\n\r\n\r\n\r\n    @NonNull\r\n    @Override\r\n    public UserHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View view = LayoutInflater.from(context).inflate(R.layout.user_holder,parent, false);\r\n\r\n        return new UserHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull UserHolder holder, int position) {\r\n\r\n        holder.txtUsername.setText(users.get(position).getUsername());\r\n        Glide.with(context).load(users.get(position).getProfile_img()).error(R.drawable.account_img).placeholder(R.drawable.account_img).into(holder.profile_thumbnail);\r\n\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return users.size();\r\n    }\r\n\r\n    class UserHolder extends RecyclerView.ViewHolder{\r\n\r\n        TextView txtUsername ;\r\n        ImageView profile_thumbnail;\r\n        public UserHolder(@NonNull View itemView){\r\n            super(itemView);\r\n\r\n            itemView.setOnClickListener(view -&gt; onUserClickListener.onUserClicked(getAdapterPosition()));\r\n            txtUsername = itemView.findViewById(R.id.txtUsername);\r\n            profile_thumbnail = itemView.findViewById(R.id.profile_thumbnail);\r\n\r\n        }\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\nuser_holder.xml\r\n\r\n```\r\n&lt;androidx.cardview.widget.CardView\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    app:cardBackgroundColor=&quot;@color/Color_grey&quot;\r\n\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:layout_marginHorizontal=&quot;10dp&quot;\r\n    android:layout_marginTop=&quot;10dp&quot;\r\n    app:cardCornerRadius=&quot;14dp&quot;\r\n    &gt;\r\n\r\n\r\n\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:padding=&quot;7dp&quot;&gt;\r\n\r\n        &lt;androidx.cardview.widget.CardView\r\n\r\n            android:layout_width=&quot;70dp&quot;\r\n            app:cardCornerRadius=&quot;180dp&quot;\r\n            android:layout_height=&quot;70dp&quot;&gt;\r\n\r\n            &lt;ImageView\r\n                android:id=&quot;@+id/profile_thumbnail&quot;\r\n                android:scaleType=&quot;centerCrop&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                 /&gt;\r\n\r\n        &lt;/androidx.cardview.widget.CardView&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/txtUsername&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_marginStart=&quot;20dp&quot;\r\n            android:layout_gravity=&quot;center&quot;\r\n            android:textColor=&quot;@color/white&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            /&gt;\r\n\r\n    &lt;/LinearLayout&gt;\r\n\r\n&lt;/androidx.cardview.widget.CardView&gt;\r\n```\r\nactivity_friends.xml\r\n\r\n```\r\n&lt;androidx.recyclerview.widget.RecyclerView\r\n        android:id=&quot;@+id/recycler&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        app:layoutManager=&quot;androidx.recyclerview.widget.LinearLayoutManager&quot;\r\n        /&gt;\r\n```\r\n\r\nFriendsActivity.java\r\n\r\n\r\n```\r\npublic class FriendsActivity extends AppCompatActivity {\r\n\r\n\r\n    private RecyclerView recyclerView;\r\n    private ArrayList&lt;User&gt; users;\r\n    private ProgressBar progressBar_connectivity;\r\n    private UsersAdapter userAdapter;\r\n    UsersAdapter.OnUserClickListener onUserClickListener;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_friends);\r\n\r\n        progressBar_connectivity = findViewById(R.id.progressBar_connectivity);\r\n        users = new ArrayList&lt;&gt;();\r\n        recyclerView =  findViewById(R.id.recycler);\r\n\r\n        onUserClickListener = position -&gt; Toast.makeText(FriendsActivity.this,&quot;Tapped this User &quot;+users.get(position).getUsername(),Toast.LENGTH_SHORT).show();\r\n\r\n        getUsers();\r\n    }\r\n\r\n\r\n    @Override\r\n    public boolean onCreateOptionsMenu(Menu menu) {\r\n        getMenuInflater().inflate(R.menu.profile_menu,menu);\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean onOptionsItemSelected(@NonNull MenuItem item){\r\n        if(item.getItemId() == R.id.menu_item_profile){\r\n            startActivity(new Intent(FriendsActivity.this, Profile.class));\r\n        }\r\n        return super.onOptionsItemSelected(item);\r\n    }\r\n\r\n    private void getUsers(){\r\n\r\n        FirebaseDatabase.getInstance().getReference(&quot;user&quot;).addListenerForSingleValueEvent(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                for (DataSnapshot dataSnapshot : snapshot.getChildren()){\r\n                    users.add(dataSnapshot.getValue(User.class));\r\n                }\r\n                userAdapter = new UsersAdapter(users, FriendsActivity.this,onUserClickListener);\r\n                recyclerView.setLayoutManager(new LinearLayoutManager(FriendsActivity.this));\r\n                recyclerView.setHasFixedSize(true);\r\n                recyclerView.setAdapter(userAdapter);\r\n                userAdapter.notifyDataSetChanged();\r\n                progressBar_connectivity.setVisibility(View.GONE);\r\n                recyclerView.setVisibility(View.VISIBLE);\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\n\r\n\r\nI did try to add on my code this one , i saw from an other topic-question , but it didn&#39;t help , i did even move the getUsers(); on any other caller except onCreate, still same results.\r\n\r\n```LinearLayoutManager llm = new LinearLayoutManager(this);\r\nllm.setOrientation(LinearLayoutManager.VERTICAL);\r\nlist.setLayoutManager(llm);\r\nlist.setAdapter( adapter );\r\n```","title":"I do not get any results from the recycler on Android studio","body":"<p>Well i think i got everything as they should be , i don't really know what i did wrong with the recycler but i still go error like &quot;No adapter attached; skipping layout&quot;</p>\n<p>I NOTICED THAT ON UsersAdapter.java on the line &quot;itemView.setOnClickListener(view -&gt; onUserClickListener.onUserClicked(getAdapterPosition()));&quot;. getadapterposition is deprecated. Would that be the problem ?</p>\n<p>Usersadapter.java</p>\n<pre><code>public class UsersAdapter extends RecyclerView.Adapter&lt;UsersAdapter.UserHolder&gt; {\n\n    private final ArrayList&lt;User&gt; users;\n    private final Context context;\n    private final OnUserClickListener onUserClickListener;\n\n    public UsersAdapter(ArrayList&lt;User&gt; users, Context context, OnUserClickListener onUserClickListener) {\n        this.users = users;\n        this.context = context;\n        this.onUserClickListener = onUserClickListener;\n    }\n\n    interface OnUserClickListener{\n        void onUserClicked(int position);\n    }\n\n\n\n    @NonNull\n    @Override\n    public UserHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View view = LayoutInflater.from(context).inflate(R.layout.user_holder,parent, false);\n\n        return new UserHolder(view);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull UserHolder holder, int position) {\n\n        holder.txtUsername.setText(users.get(position).getUsername());\n        Glide.with(context).load(users.get(position).getProfile_img()).error(R.drawable.account_img).placeholder(R.drawable.account_img).into(holder.profile_thumbnail);\n\n    }\n\n    @Override\n    public int getItemCount() {\n        return users.size();\n    }\n\n    class UserHolder extends RecyclerView.ViewHolder{\n\n        TextView txtUsername ;\n        ImageView profile_thumbnail;\n        public UserHolder(@NonNull View itemView){\n            super(itemView);\n\n            itemView.setOnClickListener(view -&gt; onUserClickListener.onUserClicked(getAdapterPosition()));\n            txtUsername = itemView.findViewById(R.id.txtUsername);\n            profile_thumbnail = itemView.findViewById(R.id.profile_thumbnail);\n\n        }\n\n    }\n\n}\n</code></pre>\n<p>user_holder.xml</p>\n<pre><code>&lt;androidx.cardview.widget.CardView\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    app:cardBackgroundColor=&quot;@color/Color_grey&quot;\n\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_marginHorizontal=&quot;10dp&quot;\n    android:layout_marginTop=&quot;10dp&quot;\n    app:cardCornerRadius=&quot;14dp&quot;\n    &gt;\n\n\n\n    &lt;LinearLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:padding=&quot;7dp&quot;&gt;\n\n        &lt;androidx.cardview.widget.CardView\n\n            android:layout_width=&quot;70dp&quot;\n            app:cardCornerRadius=&quot;180dp&quot;\n            android:layout_height=&quot;70dp&quot;&gt;\n\n            &lt;ImageView\n                android:id=&quot;@+id/profile_thumbnail&quot;\n                android:scaleType=&quot;centerCrop&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;match_parent&quot;\n                 /&gt;\n\n        &lt;/androidx.cardview.widget.CardView&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/txtUsername&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_marginStart=&quot;20dp&quot;\n            android:layout_gravity=&quot;center&quot;\n            android:textColor=&quot;@color/white&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            /&gt;\n\n    &lt;/LinearLayout&gt;\n\n&lt;/androidx.cardview.widget.CardView&gt;\n</code></pre>\n<p>activity_friends.xml</p>\n<pre><code>&lt;androidx.recyclerview.widget.RecyclerView\n        android:id=&quot;@+id/recycler&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        app:layoutManager=&quot;androidx.recyclerview.widget.LinearLayoutManager&quot;\n        /&gt;\n</code></pre>\n<p>FriendsActivity.java</p>\n<pre><code>public class FriendsActivity extends AppCompatActivity {\n\n\n    private RecyclerView recyclerView;\n    private ArrayList&lt;User&gt; users;\n    private ProgressBar progressBar_connectivity;\n    private UsersAdapter userAdapter;\n    UsersAdapter.OnUserClickListener onUserClickListener;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_friends);\n\n        progressBar_connectivity = findViewById(R.id.progressBar_connectivity);\n        users = new ArrayList&lt;&gt;();\n        recyclerView =  findViewById(R.id.recycler);\n\n        onUserClickListener = position -&gt; Toast.makeText(FriendsActivity.this,&quot;Tapped this User &quot;+users.get(position).getUsername(),Toast.LENGTH_SHORT).show();\n\n        getUsers();\n    }\n\n\n    @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        getMenuInflater().inflate(R.menu.profile_menu,menu);\n        return true;\n    }\n\n    @Override\n    public boolean onOptionsItemSelected(@NonNull MenuItem item){\n        if(item.getItemId() == R.id.menu_item_profile){\n            startActivity(new Intent(FriendsActivity.this, Profile.class));\n        }\n        return super.onOptionsItemSelected(item);\n    }\n\n    private void getUsers(){\n\n        FirebaseDatabase.getInstance().getReference(&quot;user&quot;).addListenerForSingleValueEvent(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\n                for (DataSnapshot dataSnapshot : snapshot.getChildren()){\n                    users.add(dataSnapshot.getValue(User.class));\n                }\n                userAdapter = new UsersAdapter(users, FriendsActivity.this,onUserClickListener);\n                recyclerView.setLayoutManager(new LinearLayoutManager(FriendsActivity.this));\n                recyclerView.setHasFixedSize(true);\n                recyclerView.setAdapter(userAdapter);\n                userAdapter.notifyDataSetChanged();\n                progressBar_connectivity.setVisibility(View.GONE);\n                recyclerView.setVisibility(View.VISIBLE);\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {\n\n            }\n        });\n\n    }\n\n\n}\n</code></pre>\n<p>I did try to add on my code this one , i saw from an other topic-question , but it didn't help , i did even move the getUsers(); on any other caller except onCreate, still same results.</p>\n<pre><code>llm.setOrientation(LinearLayoutManager.VERTICAL);\nlist.setLayoutManager(llm);\nlist.setAdapter( adapter );\n</code></pre>\n"},{"tags":["java","multipartform-data","resttemplate"],"owner":{"account_id":16437875,"reputation":209,"user_id":14564074,"display_name":"noob234"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":280,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675754870,"creation_date":1675754870,"question_id":75370080,"body_markdown":"I followed all the steps from here to upload a multipart file: https://www.baeldung.com/spring-rest-template-multipart-upload.\r\n\r\nThe issue is that I get a 500 HTTP code, **No HttpMessageConverter for org.springframework.http.HttpEntity and content type &quot;multipart/form-data&quot;**.\r\n\r\nI searched about the error and it was suggested to add an additional converter to handle Multipart file upload. But I think it should work out of the box with built-in instruments.\r\n\r\nHere is the upload file method:\r\n\r\n```\r\n    public String uploadFile(MultipartFile file) {\r\n        MultiValueMap&lt;String, Object&gt; body = new LinkedMultiValueMap&lt;&gt;();\r\n        body.add(file.getName(), file);\r\n        HttpHeaders httpHeaders = new HttpHeaders();\r\n        HttpEntity&lt;MultiValueMap&lt;String, Object&gt;&gt; requestEntity = new HttpEntity&lt;&gt;(body, httpHeaders);\r\n        return super.httpClient.doPostRequest(httpHeaders, myEndpoint, requestEntity, String.class, MediaType.MULTIPART_FORM_DATA);\r\n    }\r\n```\r\n\r\nIn doPostRequest I do the following - set the headers content type, create an entity and call the exchange method from restTemplate, returning the body:\r\n\r\n```\r\n        httpHeaders.setContentType(contentType);\r\n        HttpEntity&lt;B&gt; entity = new HttpEntity&lt;&gt;(body, httpHeaders);\r\n        ResponseEntity&lt;T&gt; result = restTemplate.exchange(url, HttpMethod.POST, entity, responseType);\r\n        return result.getBody();\r\n```","title":"No HttpMessageConverter for org.springframework.http.HttpEntity and content type &quot;multipart/form-data&quot; error when uploading MultipartFile","body":"<p>I followed all the steps from here to upload a multipart file: <a href=\"https://www.baeldung.com/spring-rest-template-multipart-upload\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-rest-template-multipart-upload</a>.</p>\n<p>The issue is that I get a 500 HTTP code, <strong>No HttpMessageConverter for org.springframework.http.HttpEntity and content type &quot;multipart/form-data&quot;</strong>.</p>\n<p>I searched about the error and it was suggested to add an additional converter to handle Multipart file upload. But I think it should work out of the box with built-in instruments.</p>\n<p>Here is the upload file method:</p>\n<pre><code>    public String uploadFile(MultipartFile file) {\n        MultiValueMap&lt;String, Object&gt; body = new LinkedMultiValueMap&lt;&gt;();\n        body.add(file.getName(), file);\n        HttpHeaders httpHeaders = new HttpHeaders();\n        HttpEntity&lt;MultiValueMap&lt;String, Object&gt;&gt; requestEntity = new HttpEntity&lt;&gt;(body, httpHeaders);\n        return super.httpClient.doPostRequest(httpHeaders, myEndpoint, requestEntity, String.class, MediaType.MULTIPART_FORM_DATA);\n    }\n</code></pre>\n<p>In doPostRequest I do the following - set the headers content type, create an entity and call the exchange method from restTemplate, returning the body:</p>\n<pre><code>        httpHeaders.setContentType(contentType);\n        HttpEntity&lt;B&gt; entity = new HttpEntity&lt;&gt;(body, httpHeaders);\n        ResponseEntity&lt;T&gt; result = restTemplate.exchange(url, HttpMethod.POST, entity, responseType);\n        return result.getBody();\n</code></pre>\n"},{"tags":["java","android","android-studio","kotlin"],"comments":[{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":2,"creation_date":1675689421,"post_id":75361548,"comment_id":132976806,"body_markdown":"If you just created the project, the simplest solution would be to delete the old project and create it again, this time choosing Java.","body":"If you just created the project, the simplest solution would be to delete the old project and create it again, this time choosing Java."},{"owner":{"account_id":25093326,"reputation":252,"user_id":18944758,"display_name":"Yogesh Thambidurai"},"score":0,"creation_date":1675689587,"post_id":75361548,"comment_id":132976871,"body_markdown":"going along with what @CommonsWare said, just make it again in Java. Decompiling the kotlin to java will just give you a bunch of unreadable decompiled code that will be hard to work with.","body":"going along with what @CommonsWare said, just make it again in Java. Decompiling the kotlin to java will just give you a bunch of unreadable decompiled code that will be hard to work with."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1675700232,"post_id":75361548,"comment_id":132980590,"body_markdown":"Converting Kotlin to Java is much harder than the other way around, and not well supported.","body":"Converting Kotlin to Java is much harder than the other way around, and not well supported."},{"owner":{"account_id":22244994,"reputation":3,"user_id":16478829,"display_name":"someone"},"score":0,"creation_date":1675712640,"post_id":75361548,"comment_id":132984154,"body_markdown":"But imagine how unfortunate it would be for someone who has a big project in Kotlin but because those functions are unavailable they are forced to translate all that code by hand  lol","body":"But imagine how unfortunate it would be for someone who has a big project in Kotlin but because those functions are unavailable they are forced to translate all that code by hand  lol"}],"answers":[{"tags":[],"owner":{"account_id":1439302,"reputation":862,"user_id":1359924,"accept_rate":64,"display_name":"drusolis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675754799,"creation_date":1675754799,"answer_id":75370072,"question_id":75361548,"body_markdown":"There&#39;s definitely some IDEs (like IntelliJ) that have built-in tools that might be able to decompile Kotlin code into Java, but they&#39;re probably likely to produce some pretty verbose Java code than what you might write by hand.\r\n\r\nSorry to say that depending on how complicated your initial code is, you may be better off trying to translate the Kotlin code to Java by hand. Generally, Java has more boilerplate and redundancy in the language than Kotlin.\r\n\r\nFor example, Kotlin will let you do something like:\r\n\r\n```\r\nval myString = &quot;yo&quot;\r\nval myInt = 1\r\n```\r\nWhere Java will want you to explicitly type variables like\r\n\r\n```\r\nString myString = &quot;yo&quot;\r\nint myInt = 1\r\n```\r\n\r\nFunctions also differ.\r\nKotlin uses `fun` to define functions. It has the name of the parameter first followed by the type and then has the return type between the method params and the body.\r\n```\r\n// functions that return void can omit the void keyword\r\nfun myVoidFunction() {\r\n    println(&quot;oh hello!&quot;)\r\n}\r\n\r\nfun myFunctionReturnsAString(someName: String): String {\r\n    return (&quot;oh hi, $someName!&quot;)\r\n}\r\n```\r\n\r\nJava has the return type at the start of the function and then uses the format of `Type parameter` (reverse of Kotlin)\r\n```\r\npublic void myVoidFunction() {\r\n    System.out.println(&quot;oh hello!&quot;);\r\n}\r\n\r\npublic String myFunctionReturnsAString(String param) {\r\n    return (param);\r\n}\r\n```\r\n\r\nIf your code is pretty simple, that might be enough to get you unstuck. If it&#39;s more complicated, you might try doing the decompile to Java from something like the community version of IntelliJ and then hand clean it up afterwards. This page has a section describing how to use IntelliJ to go from Kotlin -&gt; Java \r\n\r\nhttps://www.baeldung.com/kotlin/convert-to-java\r\n\r\nDefinitely don&#39;t trust it to do everything cleanly though. You&#39;ll likely still need to go through what it creates in Java and fix up code and make it production ready. Good luck!","title":"Kotlin to Java conversion not working in Android studio Electric Eel. Is there another method to convert?","body":"<p>There's definitely some IDEs (like IntelliJ) that have built-in tools that might be able to decompile Kotlin code into Java, but they're probably likely to produce some pretty verbose Java code than what you might write by hand.</p>\n<p>Sorry to say that depending on how complicated your initial code is, you may be better off trying to translate the Kotlin code to Java by hand. Generally, Java has more boilerplate and redundancy in the language than Kotlin.</p>\n<p>For example, Kotlin will let you do something like:</p>\n<pre><code>val myString = &quot;yo&quot;\nval myInt = 1\n</code></pre>\n<p>Where Java will want you to explicitly type variables like</p>\n<pre><code>String myString = &quot;yo&quot;\nint myInt = 1\n</code></pre>\n<p>Functions also differ.\nKotlin uses <code>fun</code> to define functions. It has the name of the parameter first followed by the type and then has the return type between the method params and the body.</p>\n<pre><code>// functions that return void can omit the void keyword\nfun myVoidFunction() {\n    println(&quot;oh hello!&quot;)\n}\n\nfun myFunctionReturnsAString(someName: String): String {\n    return (&quot;oh hi, $someName!&quot;)\n}\n</code></pre>\n<p>Java has the return type at the start of the function and then uses the format of <code>Type parameter</code> (reverse of Kotlin)</p>\n<pre><code>public void myVoidFunction() {\n    System.out.println(&quot;oh hello!&quot;);\n}\n\npublic String myFunctionReturnsAString(String param) {\n    return (param);\n}\n</code></pre>\n<p>If your code is pretty simple, that might be enough to get you unstuck. If it's more complicated, you might try doing the decompile to Java from something like the community version of IntelliJ and then hand clean it up afterwards. This page has a section describing how to use IntelliJ to go from Kotlin -&gt; Java</p>\n<p><a href=\"https://www.baeldung.com/kotlin/convert-to-java\" rel=\"nofollow noreferrer\">https://www.baeldung.com/kotlin/convert-to-java</a></p>\n<p>Definitely don't trust it to do everything cleanly though. You'll likely still need to go through what it creates in Java and fix up code and make it production ready. Good luck!</p>\n"}],"owner":{"account_id":22244994,"reputation":3,"user_id":16478829,"display_name":"someone"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75370072,"answer_count":1,"score":0,"last_activity_date":1675754799,"creation_date":1675687918,"question_id":75361548,"body_markdown":"[conversion functions are unavailable](https://i.stack.imgur.com/ME2hK.png)\r\n\r\n\r\nI accidentally created a project in Kotlin, while creating an activity I noticed that my class is not in Java, I tried to use conversion techniques but none of them are available(show Kotlin bytecode &amp; decompile to Java. \r\nIs there another way to convert the project to Java?","title":"Kotlin to Java conversion not working in Android studio Electric Eel. Is there another method to convert?","body":"<p><a href=\"https://i.stack.imgur.com/ME2hK.png\" rel=\"nofollow noreferrer\">conversion functions are unavailable</a></p>\n<p>I accidentally created a project in Kotlin, while creating an activity I noticed that my class is not in Java, I tried to use conversion techniques but none of them are available(show Kotlin bytecode &amp; decompile to Java.\nIs there another way to convert the project to Java?</p>\n"},{"tags":["java","sorting","comparator"],"answers":[{"tags":[],"owner":{"account_id":25350400,"reputation":31,"user_id":19167364,"display_name":"Shivam Taneja"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1675754237,"creation_date":1675157372,"answer_id":75295071,"question_id":75295056,"body_markdown":"One way to the following using comparator would be:\r\n```Java\r\nArrays.sort(arr, (a,b) -&gt; a[0] != b[0] ? a[0]-b[0] : a[1]-b[1]);\r\n```\r\nOr to simplify, if `arr[row1][col0]` **is not equal** to `arr[row2][col0]`, then sort it by `col0` and **if they are equal** then sort it by `col2`.","title":"Sort a 2-D array in Java based on one parameter first and then based on the second. [JAVA]","body":"<p>One way to the following using comparator would be:</p>\n<pre><code>Arrays.sort(arr, (a,b) -&gt; a[0] != b[0] ? a[0]-b[0] : a[1]-b[1]);\n</code></pre>\n<p>Or to simplify, if <code>arr[row1][col0]</code> <strong>is not equal</strong> to <code>arr[row2][col0]</code>, then sort it by <code>col0</code> and <strong>if they are equal</strong> then sort it by <code>col2</code>.</p>\n"},{"tags":[],"owner":{"account_id":10299692,"reputation":5719,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675160208,"creation_date":1675160208,"answer_id":75295628,"question_id":75295056,"body_markdown":"Try this, using comparator chaining:\r\n\r\n    Arrays.sort(arr, Comparator.&lt;int[]&gt;comparingInt(arr1 -&gt; arr1[0]).thenComparing(arr1 -&gt; arr1[1]));\r\n    System.out.println(Arrays.deepToString(arr));","title":"Sort a 2-D array in Java based on one parameter first and then based on the second. [JAVA]","body":"<p>Try this, using comparator chaining:</p>\n<pre><code>Arrays.sort(arr, Comparator.&lt;int[]&gt;comparingInt(arr1 -&gt; arr1[0]).thenComparing(arr1 -&gt; arr1[1]));\nSystem.out.println(Arrays.deepToString(arr));\n</code></pre>\n"}],"owner":{"account_id":25350400,"reputation":31,"user_id":19167364,"display_name":"Shivam Taneja"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75295071,"answer_count":2,"score":0,"last_activity_date":1675754237,"creation_date":1675157310,"question_id":75295056,"body_markdown":"Let&#39;s say I have a 2-D array `arr[][]`:\r\n\r\n```\r\ncol1 col2\r\n[1, 7]\r\n[2, 6]\r\n[3, 9]\r\n[4, 1]\r\n[5, 3]\r\n[6, 7]\r\n```\r\n\r\nand we have to sort it based on `col1` 1st and then based on `col2`\r\n\r\nWhat is the way to do this in Java? Particularly how can we use comparator to achieve the same?","title":"Sort a 2-D array in Java based on one parameter first and then based on the second. [JAVA]","body":"<p>Let's say I have a 2-D array <code>arr[][]</code>:</p>\n<pre><code>col1 col2\n[1, 7]\n[2, 6]\n[3, 9]\n[4, 1]\n[5, 3]\n[6, 7]\n</code></pre>\n<p>and we have to sort it based on <code>col1</code> 1st and then based on <code>col2</code></p>\n<p>What is the way to do this in Java? Particularly how can we use comparator to achieve the same?</p>\n"},{"tags":["java","networking","ssh","jsch"],"answers":[{"tags":[],"owner":{"account_id":453710,"reputation":192093,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675616024,"creation_date":1675616024,"answer_id":75353938,"question_id":75352455,"body_markdown":"The SSH identification string is sent in *plain text* right after opening the connection.\r\n\r\nSo you do not need an SSH library to obtain the string.\r\n\r\nYou can do with a simple code like shown here:\r\nhttps://stackoverflow.com/q/16608878/850848\r\n\r\n---\r\n\r\nOr just try to login using dummy credentials with JSch and then read `Session.getServerVersion`.\r\n\r\nYou do not even have to try to login. You can abort the connection right at the host key check:\r\n\r\n```\r\nconfig.put(&quot;StrictHostKeyChecking&quot;, &quot;yes&quot;);\r\n```","title":"How to get server&#39;s SSH version without authenticating in JSch?","body":"<p>The SSH identification string is sent in <em>plain text</em> right after opening the connection.</p>\n<p>So you do not need an SSH library to obtain the string.</p>\n<p>You can do with a simple code like shown here:\n<a href=\"https://stackoverflow.com/q/16608878/850848\">Read Data from a Java Socket</a></p>\n<hr />\n<p>Or just try to login using dummy credentials with JSch and then read <code>Session.getServerVersion</code>.</p>\n<p>You do not even have to try to login. You can abort the connection right at the host key check:</p>\n<pre><code>config.put(&quot;StrictHostKeyChecking&quot;, &quot;yes&quot;);\n</code></pre>\n"}],"owner":{"account_id":25435838,"reputation":316,"user_id":19239577,"display_name":"greenButMellow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":234,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75353938,"answer_count":1,"score":1,"last_activity_date":1675754019,"creation_date":1675602218,"question_id":75352455,"body_markdown":"I tried to use JSch:\r\n\r\n```java\r\n@Test\r\npublic void test() throws Exception {\r\n    var session = new JSch().getSession(&quot;host&quot;);\r\n    java.util.Properties config = new java.util.Properties();\r\n    config.put(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\r\n    session.setConfig(config);\r\n    var version = session.getServerVersion();\r\n    System.out.println(&quot;version = &quot; + version);\r\n}\r\n```\r\n\r\nbut I&#39;m getting \r\n\r\n&gt; java.lang.NullPointerException: Cannot read the array length because &quot;str&quot; is null\r\n\r\nIt seems that this implementation requires you to connect and authenticate.\r\n\r\nHow can I get this information with Java, without the need to authenticate?\r\n\r\n----\r\n\r\nThis Python code works for me on a server that requires authentication yet I didn&#39;t have to authenticate in order to get the remote version.\r\n\r\n```python3\r\nimport paramiko\r\n\r\nssh = paramiko.Transport((&quot;host&quot;, 22))\r\nssh.start_client()\r\nprint(ssh.remote_version)\r\nssh.close()\r\n```\r\n","title":"How to get server&#39;s SSH version without authenticating in JSch?","body":"<p>I tried to use JSch:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\npublic void test() throws Exception {\n    var session = new JSch().getSession(&quot;host&quot;);\n    java.util.Properties config = new java.util.Properties();\n    config.put(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\n    session.setConfig(config);\n    var version = session.getServerVersion();\n    System.out.println(&quot;version = &quot; + version);\n}\n</code></pre>\n<p>but I'm getting</p>\n<blockquote>\n<p>java.lang.NullPointerException: Cannot read the array length because &quot;str&quot; is null</p>\n</blockquote>\n<p>It seems that this implementation requires you to connect and authenticate.</p>\n<p>How can I get this information with Java, without the need to authenticate?</p>\n<hr />\n<p>This Python code works for me on a server that requires authentication yet I didn't have to authenticate in order to get the remote version.</p>\n<pre class=\"lang-py prettyprint-override\"><code>import paramiko\n\nssh = paramiko.Transport((&quot;host&quot;, 22))\nssh.start_client()\nprint(ssh.remote_version)\nssh.close()\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1675751140,"post_id":75369534,"comment_id":132990710,"body_markdown":"Does this answer your question? [How to pass a function as a parameter in Java?](https://stackoverflow.com/questions/4685563/how-to-pass-a-function-as-a-parameter-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/4685563/how-to-pass-a-function-as-a-parameter-in-java\">How to pass a function as a parameter in Java?</a>"},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1675751275,"post_id":75369534,"comment_id":132990725,"body_markdown":"Though, what you want to do - passing `doWork(), workInProgress() etc etc` sounds like you want the strategy pattern https://stackoverflow.com/a/10137808/16034206","body":"Though, what you want to do - passing <code>doWork(), workInProgress() etc etc</code> sounds like you want the strategy pattern <a href=\"https://stackoverflow.com/a/10137808/16034206\">stackoverflow.com/a/10137808/16034206</a>"}],"answers":[{"tags":[],"owner":{"account_id":19726215,"reputation":538,"user_id":14442758,"display_name":"Z-100"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675753472,"creation_date":1675753472,"answer_id":75369874,"question_id":75369534,"body_markdown":"Not a method directly, but you could make use of a `FunctionalInterface`, or a callback:\r\n\r\nInfo: A functional interface is an interface with just **one** method declaration and nothing more -&gt; Thus aiming to be &quot;used as a lambda&quot;.\r\n\r\n## Custom implementation\r\n\r\nCreate a functional interface\r\n\r\n```\r\n@FunctionalInterface // Annotation not really needed\r\npublic interface Callback {\r\n    void handle(String str);\r\n}\r\n```\r\n\r\nCreate a method which uses this Interface as a parameter\r\n\r\n```\r\npublic void message(String msg, String title, Callback callback) {\r\n    callback.handle(msg);\r\n}\r\n```\r\n\r\nUse the method as follows\r\n\r\n```\r\n// &quot;Normal lambda&quot; - Prints msg: (&quot;Hello&quot;)\r\nmessage(&quot;Hello&quot;, &quot;World&quot;, str -&gt; {\r\n    System.out.println(str);\r\n});\r\n\r\n// Method reference, for shorter syntax: Does the same thing\r\nmessage(&quot;Hello&quot;, &quot;World&quot;, System.out::println);\r\n```\r\n\r\n## Existing implementation\r\n\r\nInstead of creating a custom Callback, you can just use any of the functional interfaces Java provides out of the box:\r\n\r\nE.g. `Function`, `BiFunction`, `Consumer`, ...\r\n\r\nFor further explanation on how to use a Functional interface, I highly recommend [this article](https://www.baeldung.com/java-8-functional-interfaces) by Baeldung. :)\r\n\r\nHope this helped!","title":"Is there is any way to pass method inside a method as parameter","body":"<p>Not a method directly, but you could make use of a <code>FunctionalInterface</code>, or a callback:</p>\n<p>Info: A functional interface is an interface with just <strong>one</strong> method declaration and nothing more -&gt; Thus aiming to be &quot;used as a lambda&quot;.</p>\n<h2>Custom implementation</h2>\n<p>Create a functional interface</p>\n<pre><code>@FunctionalInterface // Annotation not really needed\npublic interface Callback {\n    void handle(String str);\n}\n</code></pre>\n<p>Create a method which uses this Interface as a parameter</p>\n<pre><code>public void message(String msg, String title, Callback callback) {\n    callback.handle(msg);\n}\n</code></pre>\n<p>Use the method as follows</p>\n<pre><code>// &quot;Normal lambda&quot; - Prints msg: (&quot;Hello&quot;)\nmessage(&quot;Hello&quot;, &quot;World&quot;, str -&gt; {\n    System.out.println(str);\n});\n\n// Method reference, for shorter syntax: Does the same thing\nmessage(&quot;Hello&quot;, &quot;World&quot;, System.out::println);\n</code></pre>\n<h2>Existing implementation</h2>\n<p>Instead of creating a custom Callback, you can just use any of the functional interfaces Java provides out of the box:</p>\n<p>E.g. <code>Function</code>, <code>BiFunction</code>, <code>Consumer</code>, ...</p>\n<p>For further explanation on how to use a Functional interface, I highly recommend <a href=\"https://www.baeldung.com/java-8-functional-interfaces\" rel=\"nofollow noreferrer\">this article</a> by Baeldung. :)</p>\n<p>Hope this helped!</p>\n"}],"owner":{"account_id":26588152,"reputation":11,"user_id":20211774,"display_name":"Vikas Mourya"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1675753610,"accepted_answer_id":75369874,"answer_count":1,"score":-1,"last_activity_date":1675753472,"creation_date":1675750727,"question_id":75369534,"body_markdown":"I have an alert message and I need to call this from different part of my code. Base on user interaction I will show this alert and pass some parameter based on this parameter my alert should behave\r\nfor eg.\r\n\r\n```\r\nprivate void alert(String message, String title, Method methodReference) {\r\n        AlertDialog.Builder builder = new AlertDialog.Builder(getActivity());\r\n        builder.setMessage(message);\r\n        builder.setTitle(title);\r\n        builder.setCancelable(false);\r\n        builder.setPositiveButton(&quot;Yes&quot;, (DialogInterface.OnClickListener) (dialog, which) -&gt; {\r\n           methodReference();    // I want to replace methodReference with that method that will pass while calling alert\r\n        });\r\n\r\n        builder.setNegativeButton(&quot;No&quot;, (DialogInterface.OnClickListener) (dialog, which) -&gt; {\r\n            dialog.cancel();\r\n        });\r\n        AlertDialog alertDialog = builder.create();\r\n        alertDialog.show();\r\n    }\r\n```\r\n\r\nI want to replace methodReference with that method that will pass while calling alert  \r\n\r\neg.\r\n`\r\nalert(&quot;message&quot;, &quot;title&quot;, doWork()); \r\n`\r\nor\r\n\r\n`alert(&quot;message&quot;, &quot;title&quot;, workInProgress());  `","title":"Is there is any way to pass method inside a method as parameter","body":"<p>I have an alert message and I need to call this from different part of my code. Base on user interaction I will show this alert and pass some parameter based on this parameter my alert should behave\nfor eg.</p>\n<pre><code>private void alert(String message, String title, Method methodReference) {\n        AlertDialog.Builder builder = new AlertDialog.Builder(getActivity());\n        builder.setMessage(message);\n        builder.setTitle(title);\n        builder.setCancelable(false);\n        builder.setPositiveButton(&quot;Yes&quot;, (DialogInterface.OnClickListener) (dialog, which) -&gt; {\n           methodReference();    // I want to replace methodReference with that method that will pass while calling alert\n        });\n\n        builder.setNegativeButton(&quot;No&quot;, (DialogInterface.OnClickListener) (dialog, which) -&gt; {\n            dialog.cancel();\n        });\n        AlertDialog alertDialog = builder.create();\n        alertDialog.show();\n    }\n</code></pre>\n<p>I want to replace methodReference with that method that will pass while calling alert</p>\n<p>eg.\n<code>alert(&quot;message&quot;, &quot;title&quot;, doWork()); </code>\nor</p>\n<p><code>alert(&quot;message&quot;, &quot;title&quot;, workInProgress());  </code></p>\n"},{"tags":["java","log4j2","classloader"],"answers":[{"tags":[],"owner":{"account_id":27722845,"reputation":1,"user_id":21163030,"display_name":"guest"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675753283,"creation_date":1675753234,"answer_id":75369833,"question_id":73777804,"body_markdown":"Try using `Configurator.reconfigure(URI)`","title":"log4j2 configuration not being applied when custom class loading","body":"<p>Try using <code>Configurator.reconfigure(URI)</code></p>\n"}],"owner":{"account_id":4646767,"reputation":17781,"user_id":3764804,"accept_rate":59,"display_name":"BullyWiiPlaza"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1675753283,"creation_date":1663612123,"question_id":73777804,"body_markdown":"I have a Java application (= launcher) which loads classes via a custom [ClassLoader][1]. In my launched application as well as in the launcher I&#39;m using [`log4j2`][2] with a custom XML configuration.\r\n\r\nIn the launcher:\r\n\r\n    private static final Logger LOGGER;\r\n    \r\n    static\r\n    {\r\n    \tloadLog4jConfiguration(ApplicationLauncherClient.class);\r\n    \tLOGGER = getLogger();\r\n    }\r\n\r\n`loadLog4jConfiguration()` is implemented as follows:\r\n\r\n    public static void loadLog4jConfiguration(final Class&lt;?&gt; clazz)\r\n    {\r\n    \ttry\r\n    \t{\r\n    \t\tString resourceName = &quot;launcher-log4j2.xml&quot;;\r\n    \t\ttry (InputStream inputStream = clazz.getResourceAsStream(resourceName))\r\n    \t\t{\r\n    \t\t\tif (inputStream == null)\r\n    \t\t\t{\r\n    \t\t\t\tSystem.err.println(&quot;Cannot find resource: &quot; + resourceName);\r\n    \t\t\t} else\r\n    \t\t\t{\r\n    \t\t\t\tConfigurationSource configurationSource = new ConfigurationSource(inputStream);\r\n    \t\t\t\tConfigurator.initialize(null, configurationSource);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t} catch (final Exception exception)\r\n    \t{\r\n    \t\texception.printStackTrace();\r\n    \t}\r\n    }\r\n\r\nIn the launched application I do the same setup for `log4j2` but I load a \\*different\\* `log4j2.xml` file from the classpath (e.g. [to provide `JTextArea` appending of log messages][3]).\r\n\r\nUnfortunately, the `JTextArea` logs do not work when custom classloading. They work however when I launch the application normally (e.g. via IDE). I assume there is some sort of clash between `log4j2` instances. The launcher and the launched application hold the `log4j2` maven dependency. How would I resolve this cleanly? I do not want to remove `log4j2` from the launcher entirely. I thought about maybe always passing a class instance into the `getLogger()` constructor on the launched application but that didn&#39;t help either. I printed out the `ClassLoader` of the `LOGGER` instance on the launched application and it said `sun.misc.Launcher$AppClassLoader` in both cases (when custom classloading and when launching it normally via the IDE) so now I&#39;m not sure what else to try.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/lang/ClassLoader.html\r\n  [2]: https://logging.apache.org/log4j\r\n  [3]: https://stackoverflow.com/questions/24005748","title":"log4j2 configuration not being applied when custom class loading","body":"<p>I have a Java application (= launcher) which loads classes via a custom <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/ClassLoader.html\" rel=\"nofollow noreferrer\">ClassLoader</a>. In my launched application as well as in the launcher I'm using <a href=\"https://logging.apache.org/log4j\" rel=\"nofollow noreferrer\"><code>log4j2</code></a> with a custom XML configuration.</p>\n<p>In the launcher:</p>\n<pre><code>private static final Logger LOGGER;\n\nstatic\n{\n    loadLog4jConfiguration(ApplicationLauncherClient.class);\n    LOGGER = getLogger();\n}\n</code></pre>\n<p><code>loadLog4jConfiguration()</code> is implemented as follows:</p>\n<pre><code>public static void loadLog4jConfiguration(final Class&lt;?&gt; clazz)\n{\n    try\n    {\n        String resourceName = &quot;launcher-log4j2.xml&quot;;\n        try (InputStream inputStream = clazz.getResourceAsStream(resourceName))\n        {\n            if (inputStream == null)\n            {\n                System.err.println(&quot;Cannot find resource: &quot; + resourceName);\n            } else\n            {\n                ConfigurationSource configurationSource = new ConfigurationSource(inputStream);\n                Configurator.initialize(null, configurationSource);\n            }\n        }\n    } catch (final Exception exception)\n    {\n        exception.printStackTrace();\n    }\n}\n</code></pre>\n<p>In the launched application I do the same setup for <code>log4j2</code> but I load a *different* <code>log4j2.xml</code> file from the classpath (e.g. <a href=\"https://stackoverflow.com/questions/24005748\">to provide <code>JTextArea</code> appending of log messages</a>).</p>\n<p>Unfortunately, the <code>JTextArea</code> logs do not work when custom classloading. They work however when I launch the application normally (e.g. via IDE). I assume there is some sort of clash between <code>log4j2</code> instances. The launcher and the launched application hold the <code>log4j2</code> maven dependency. How would I resolve this cleanly? I do not want to remove <code>log4j2</code> from the launcher entirely. I thought about maybe always passing a class instance into the <code>getLogger()</code> constructor on the launched application but that didn't help either. I printed out the <code>ClassLoader</code> of the <code>LOGGER</code> instance on the launched application and it said <code>sun.misc.Launcher$AppClassLoader</code> in both cases (when custom classloading and when launching it normally via the IDE) so now I'm not sure what else to try.</p>\n"},{"tags":["java","spring","spring-boot","unit-testing","spring-mvc-test"],"comments":[{"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"score":0,"creation_date":1670352350,"post_id":74707199,"comment_id":131855416,"body_markdown":"Can you please share PaymentController class? In logs I can see demoApiController bean creation is failing but how both controllers are related?","body":"Can you please share PaymentController class? In logs I can see demoApiController bean creation is failing but how both controllers are related?"},{"owner":{"account_id":1310600,"reputation":3828,"user_id":1258669,"accept_rate":73,"display_name":"OTUser"},"score":0,"creation_date":1670354384,"post_id":74707199,"comment_id":131856045,"body_markdown":"@RohitAgarwal PaymentController and demoApiController are not related but The `@WebMvcTest` annotation is used to unit test the Spring MVC components (`@Controller`,  `@ControllerAdvice`). so it&#39;ll load all the @Controller classes as per my understanding","body":"@RohitAgarwal PaymentController and demoApiController are not related but The <code>@WebMvcTest</code> annotation is used to unit test the Spring MVC components (<code>@Controller</code>,  <code>@ControllerAdvice</code>). so it&#39;ll load all the @Controller classes as per my understanding"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1670837558,"post_id":74707199,"comment_id":131957404,"body_markdown":"[`@WebMvcTest` is only going to scan the controller you&#39;ve defined and the MVC infrastructure](https://stackoverflow.com/questions/39865596/difference-between-using-mockmvc-with-springboottest-and-using-webmvctest). What does `PaymentController` look like?","body":"<a href=\"https://stackoverflow.com/questions/39865596/difference-between-using-mockmvc-with-springboottest-and-using-webmvctest\"><code>@WebMvcTest</code> is only going to scan the controller you&#39;ve defined and the MVC infrastructure</a>. What does <code>PaymentController</code> look like?"},{"owner":{"account_id":4912982,"reputation":14853,"user_id":3957754,"accept_rate":50,"display_name":"JRichardsz"},"score":0,"creation_date":1670906831,"post_id":74707199,"comment_id":131975974,"body_markdown":"Try with shell and share the result. Does it just fail in tests? Share a reproducible sample using github","body":"Try with shell and share the result. Does it just fail in tests? Share a reproducible sample using github"}],"answers":[{"tags":[],"owner":{"account_id":27713528,"reputation":1,"user_id":21155722,"display_name":"Kesling"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675752448,"creation_date":1675752448,"answer_id":75369732,"question_id":74707199,"body_markdown":"If you use mybatis(or mybatis-plus), you need to add mybatis-boot-starter-test(or mybatis-plus-boot-starter-test) dependency to you pom.xml, and use @AutoConfigureMybatis(or @AutoConfigureMybatisPlus) annotation with @WebMvcTest.","title":"Springboot 2.7 : Property &#39;sqlSessionFactory&#39; or &#39;sqlSessionTemplate&#39; are required in @WebMvcTest for spring boot with mybatis","body":"<p>If you use mybatis(or mybatis-plus), you need to add mybatis-boot-starter-test(or mybatis-plus-boot-starter-test) dependency to you pom.xml, and use @AutoConfigureMybatis(or @AutoConfigureMybatisPlus) annotation with @WebMvcTest.</p>\n"}],"owner":{"account_id":1310600,"reputation":3828,"user_id":1258669,"accept_rate":73,"display_name":"OTUser"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1664,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1675752448,"creation_date":1670349910,"question_id":74707199,"body_markdown":"Below is my PaymentController Unittest\r\n\r\n\t@WebMvcTest(PaymentController.class)\r\n\tpublic class PaymentControllerTest {\r\n\t\t@MockBean\r\n\t\tPaymentService paymentService;\r\n\r\n\t\t@Autowired\r\n\t\tMockMvc mockMvc;\r\n\r\n\t\t@Test\r\n\t\tpublic void testFindAllPaymentDtoAndExpect200() throws Exception {\r\n\t\t\t mockMvc.perform(MockMvcRequestBuilders\r\n\t\t\t\t\t\t\t.get(&quot;/payment/list&quot;))\r\n\t\t\t\t\t\t\t.andExpect(status().isOk());\r\n\t\t}\r\n\t\t\r\nI&#39;m seeing the below stacktrace when I run the above unit test and am wondering why the @WebMvcTest trying to initialize the `sqlSessionFactory` for unit test? Can someone please help me fix this error?\r\nI have refered the similar issue https://github.com/mybatis/spring-boot-starter/issues/227 but it was for integration testing in my case it is a unit testing.\r\n\r\n\t\tFailed to load ApplicationContext\r\n\tjava.lang.IllegalStateException: Failed to load ApplicationContext\r\n\t\tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:132)\r\n\t\tat org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)\r\n\t\tat org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:110)\r\n\t\tat org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:94)\r\n\t\tat org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:61)\r\n\t\tat org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)\r\n\t\tat org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)\r\n\t\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)\r\n\t\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)\r\n\t\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)\r\n\t\tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\r\n\t\tat java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)\r\n\t\tat java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)\r\n\t\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\r\n\t\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\r\n\t\tat java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)\r\n\t\tat java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)\r\n\t\tat java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)\r\n\t\tat java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)\r\n\t\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)\r\n\t\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)\r\n\t\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\t\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)\r\n\t\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)\r\n\t\tat java.base/java.util.Optional.orElseGet(Optional.java:364)\r\n\t\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)\r\n\t\tat org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)\r\n\t\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)\r\n\t\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\t\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)\r\n\t\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)\r\n\t\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)\r\n\t\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\t\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\t\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\t\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\t\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\t\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\t\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\t\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\t\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\t\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\t\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\t\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\t\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\t\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\r\n\t\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n\t\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n\t\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n\t\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n\t\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n\t\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n\t\tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n\t\tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\r\n\t\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)\r\n\t\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)\r\n\t\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)\r\n\t\tat org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:61)\r\n\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\t\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\t\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\t\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n\t\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n\t\tat org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\r\n\t\tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\r\n\t\tat jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)\r\n\t\tat org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)\r\n\t\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\r\n\t\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\r\n\t\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\r\n\t\tat org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\r\n\t\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:133)\r\n\t\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:71)\r\n\t\tat worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\r\n\t\tat worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\r\n\tCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;demoApiController&#39;: Unsatisfied dependency expressed through field &#39;demoService&#39;; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;demoServiceImpl&#39; defined in file [C:\\Dev\\gitlab\\billing-app\\marketplace\\build\\classes\\java\\main\\us\\billing\\service\\impl\\DemoServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;demoDataReadMapper&#39; defined in file [C:\\Dev\\gitlab\\billing-app\\marketplace\\build\\classes\\java\\main\\us\\billing\\mapper\\DemoDataReadMapper.class]: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Property &#39;sqlSessionFactory&#39; or &#39;sqlSessionTemplate&#39; are required\r\n\t\tat app//org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:659)\r\n\t\tat app//org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:639)\r\n\t\tat app//org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)\r\n\t\tat app//org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)\r\n\t\tat app//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)\r\n\t\tat app//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)\r\n\t\tat app//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n\t\tat app//org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n\t\tat app//org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n\t\tat app//org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n\t\tat app//org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n\t\tat app//org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)\r\n\t\tat app//org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\r\n\t\tat app//org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\r\n\t\tat app//org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)\r\n\t\tat app//org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)\r\n\t\tat app//org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\r\n\t\tat app//org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:132)\r\n\t\tat app//org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)\r\n\t\tat app//org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)\r\n\t\t... 88 more\r\n\tCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;demoServiceImpl&#39; defined in file [C:\\Dev\\gitlab\\billing-app\\marketplace\\build\\classes\\java\\main\\us\\billing\\service\\impl\\DemoServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;demoDataReadMapper&#39; defined in file [C:\\Dev\\gitlab\\billing-app\\marketplace\\build\\classes\\java\\main\\us\\billing\\mapper\\DemoDataReadMapper.class]: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Property &#39;sqlSessionFactory&#39; or &#39;sqlSessionTemplate&#39; are required\r\n\t\tat app//org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800)\r\n\t\tat app//org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229)\r\n\t\tat app//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372)\r\n\t\tat app//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222)\r\n\t\tat app//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\r\n\t\tat app//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n\t\tat app//org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n\t\tat app//org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n\t\tat app//org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n\t\tat app//org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n\t\tat app//org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)\r\n\t\tat app//org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)\r\n\t\tat app//org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)\r\n\t\tat app//org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:656)\r\n\t\t... 107 more\r\n\tCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;demoDataReadMapper&#39; defined in file [C:\\Dev\\gitlab\\billing-app\\marketplace\\build\\classes\\java\\main\\us\\billing\\mapper\\DemoDataReadMapper.class]: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Property &#39;sqlSessionFactory&#39; or &#39;sqlSessionTemplate&#39; are required\r\n\t\tat app//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)\r\n\t\tat app//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)\r\n\t\tat app//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n\t\tat app//org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n\t\tat app//org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n\t\tat app//org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n\t\tat app//org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n\t\tat app//org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)\r\n\t\tat app//org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)\r\n\t\tat app//org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)\r\n\t\tat app//org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)\r\n\t\tat app//org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)\r\n\t\t... 120 more\r\n\tCaused by: java.lang.IllegalArgumentException: Property &#39;sqlSessionFactory&#39; or &#39;sqlSessionTemplate&#39; are required\r\n\t\tat org.springframework.util.Assert.notNull(Assert.java:201)\r\n\t\tat org.mybatis.spring.support.SqlSessionDaoSupport.checkDaoConfig(SqlSessionDaoSupport.java:122)\r\n\t\tat org.mybatis.spring.mapper.MapperFactoryBean.checkDaoConfig(MapperFactoryBean.java:73)\r\n\t\tat org.springframework.dao.support.DaoSupport.afterPropertiesSet(DaoSupport.java:44)\r\n\t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)\r\n\t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)\r\n\t\t... 131 more\r\n\r\n\r\nBelow is `DemoApiController` code which is not linked with the `PaymentController` that am trying to unit test\r\n\r\n\r\n\t@RestController\r\n\tpublic class DemoApiController implements DemoApi {\r\n\t\t@Autowired\r\n\t\tprivate DemoService demoService;\r\n\r\n\t\t@Override\r\n\t\tpublic String getDemoData(String id) {\t\t\t\r\n\t\t\treturn &quot;demo data size &quot; +demoService.demoFetchFromDatabase().size();\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic interface DemoService {\r\n\t\tList&lt;DemoData&gt; demoFetchFromDatabase();\r\n\t}\r\n\t\r\n\t@Service\r\n\t@RequiredArgsConstructor\r\n\tpublic class DemoServiceImpl implements DemoService {\r\n\r\n\t\tprivate final DemoDataReadMapper demoDataReadMapper;  \r\n\r\n\t\t@Override\r\n\t\tpublic List&lt;DemoData&gt; demoFetchFromDatabase() {\r\n\t\t\treturn demoDataReadMapper.listDemoData(Arrays.asList(&quot;1&quot;, &quot;2&quot;));\r\n\t\t}\r\n\t}\r\n\t\r\n\t@Mapper\r\n\t@Repository\r\n\t@DBRouter(DatasourceType.Slave)\r\n\tpublic interface DemoDataReadMapper {\r\n\t\tList&lt;DemoData&gt; listDemoData(@Param(&quot;items&quot;) Collection&lt;String&gt; idList);\r\n\t}\r\n","title":"Springboot 2.7 : Property &#39;sqlSessionFactory&#39; or &#39;sqlSessionTemplate&#39; are required in @WebMvcTest for spring boot with mybatis","body":"<p>Below is my PaymentController Unittest</p>\n<pre><code>@WebMvcTest(PaymentController.class)\npublic class PaymentControllerTest {\n    @MockBean\n    PaymentService paymentService;\n\n    @Autowired\n    MockMvc mockMvc;\n\n    @Test\n    public void testFindAllPaymentDtoAndExpect200() throws Exception {\n         mockMvc.perform(MockMvcRequestBuilders\n                        .get(&quot;/payment/list&quot;))\n                        .andExpect(status().isOk());\n    }\n    \n</code></pre>\n<p>I'm seeing the below stacktrace when I run the above unit test and am wondering why the @WebMvcTest trying to initialize the <code>sqlSessionFactory</code> for unit test? Can someone please help me fix this error?\nI have refered the similar issue <a href=\"https://github.com/mybatis/spring-boot-starter/issues/227\" rel=\"nofollow noreferrer\">https://github.com/mybatis/spring-boot-starter/issues/227</a> but it was for integration testing in my case it is a unit testing.</p>\n<pre><code>    Failed to load ApplicationContext\njava.lang.IllegalStateException: Failed to load ApplicationContext\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:132)\n    at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)\n    at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:110)\n    at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:94)\n    at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:61)\n    at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)\n    at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\n    at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)\n    at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\n    at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)\n    at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)\n    at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)\n    at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)\n    at java.base/java.util.Optional.orElseGet(Optional.java:364)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)\n    at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)\n    at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:61)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\n    at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\n    at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\n    at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\n    at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:133)\n    at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:71)\n    at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\n    at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'demoApiController': Unsatisfied dependency expressed through field 'demoService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'demoServiceImpl' defined in file [C:\\Dev\\gitlab\\billing-app\\marketplace\\build\\classes\\java\\main\\us\\billing\\service\\impl\\DemoServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'demoDataReadMapper' defined in file [C:\\Dev\\gitlab\\billing-app\\marketplace\\build\\classes\\java\\main\\us\\billing\\mapper\\DemoDataReadMapper.class]: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Property 'sqlSessionFactory' or 'sqlSessionTemplate' are required\n    at app//org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:659)\n    at app//org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:639)\n    at app//org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)\n    at app//org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)\n    at app//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)\n    at app//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)\n    at app//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n    at app//org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n    at app//org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at app//org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n    at app//org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n    at app//org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)\n    at app//org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\n    at app//org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\n    at app//org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)\n    at app//org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)\n    at app//org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\n    at app//org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:132)\n    at app//org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)\n    at app//org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)\n    ... 88 more\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'demoServiceImpl' defined in file [C:\\Dev\\gitlab\\billing-app\\marketplace\\build\\classes\\java\\main\\us\\billing\\service\\impl\\DemoServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'demoDataReadMapper' defined in file [C:\\Dev\\gitlab\\billing-app\\marketplace\\build\\classes\\java\\main\\us\\billing\\mapper\\DemoDataReadMapper.class]: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Property 'sqlSessionFactory' or 'sqlSessionTemplate' are required\n    at app//org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800)\n    at app//org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229)\n    at app//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372)\n    at app//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222)\n    at app//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\n    at app//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n    at app//org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n    at app//org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at app//org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n    at app//org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n    at app//org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)\n    at app//org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)\n    at app//org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)\n    at app//org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:656)\n    ... 107 more\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'demoDataReadMapper' defined in file [C:\\Dev\\gitlab\\billing-app\\marketplace\\build\\classes\\java\\main\\us\\billing\\mapper\\DemoDataReadMapper.class]: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Property 'sqlSessionFactory' or 'sqlSessionTemplate' are required\n    at app//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)\n    at app//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)\n    at app//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n    at app//org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n    at app//org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at app//org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n    at app//org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n    at app//org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)\n    at app//org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)\n    at app//org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)\n    at app//org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)\n    at app//org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)\n    ... 120 more\nCaused by: java.lang.IllegalArgumentException: Property 'sqlSessionFactory' or 'sqlSessionTemplate' are required\n    at org.springframework.util.Assert.notNull(Assert.java:201)\n    at org.mybatis.spring.support.SqlSessionDaoSupport.checkDaoConfig(SqlSessionDaoSupport.java:122)\n    at org.mybatis.spring.mapper.MapperFactoryBean.checkDaoConfig(MapperFactoryBean.java:73)\n    at org.springframework.dao.support.DaoSupport.afterPropertiesSet(DaoSupport.java:44)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)\n    ... 131 more\n</code></pre>\n<p>Below is <code>DemoApiController</code> code which is not linked with the <code>PaymentController</code> that am trying to unit test</p>\n<pre><code>@RestController\npublic class DemoApiController implements DemoApi {\n    @Autowired\n    private DemoService demoService;\n\n    @Override\n    public String getDemoData(String id) {          \n        return &quot;demo data size &quot; +demoService.demoFetchFromDatabase().size();\n    }\n}\n\npublic interface DemoService {\n    List&lt;DemoData&gt; demoFetchFromDatabase();\n}\n\n@Service\n@RequiredArgsConstructor\npublic class DemoServiceImpl implements DemoService {\n\n    private final DemoDataReadMapper demoDataReadMapper;  \n\n    @Override\n    public List&lt;DemoData&gt; demoFetchFromDatabase() {\n        return demoDataReadMapper.listDemoData(Arrays.asList(&quot;1&quot;, &quot;2&quot;));\n    }\n}\n\n@Mapper\n@Repository\n@DBRouter(DatasourceType.Slave)\npublic interface DemoDataReadMapper {\n    List&lt;DemoData&gt; listDemoData(@Param(&quot;items&quot;) Collection&lt;String&gt; idList);\n}\n</code></pre>\n"},{"tags":["java","hibernate","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"score":0,"creation_date":1675861873,"post_id":75369730,"comment_id":133018408,"body_markdown":"That&#39;s just how it is. You can&#39;t share columns for a join table source/target key.","body":"That&#39;s just how it is. You can&#39;t share columns for a join table source/target key."}],"owner":{"account_id":2459420,"reputation":15594,"user_id":2704032,"accept_rate":48,"display_name":"Vishrant"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675752440,"creation_date":1675752440,"question_id":75369730,"body_markdown":"I have the following entities\r\n\r\n```\r\n@Entity(name = &quot;stream&quot;)\r\npublic class StreamEntity extends PersistableEntity {\r\n\r\n    @Id\r\n    @Column(name = &quot;id&quot;)\r\n    private UUID id;\r\n\r\n    @Column(name = &quot;type&quot;)\r\n    private String type = null;\r\n\r\n    @Column(name = &quot;name&quot;)\r\n    private String name = null;\r\n\r\n    @Column(name = &quot;parallelism&quot;)\r\n    private Integer parallelism = null;\r\n\r\n    @OneToMany(fetch = FetchType.LAZY, cascade = CascadeType.ALL, orphanRemoval = true)\r\n    @JoinTable(\r\n        name = &quot;stream_flows&quot;\r\n    )\r\n    private List&lt;FlowEntity&gt; flows = null;\r\n\r\n}\r\n```\r\n\r\n```\r\n@Entity(name = &quot;flow&quot;)\r\npublic class FlowEntity {\r\n\r\n    @EmbeddedId\r\n    private FlowId id;\r\n\r\n    @Embeddable\r\n    public static class FlowId implements Serializable {\r\n\r\n        @Column(name = &quot;name&quot;)\r\n        private String name;\r\n\r\n        @ManyToOne(fetch = FetchType.LAZY, cascade = CascadeType.ALL)\r\n        @JoinColumns({\r\n            @JoinColumn(name = &quot;stream_id&quot;),\r\n        })\r\n        private StreamEntity streamId;\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\nThis is resulting in the following tables:\r\n\r\n```\r\n Schema |      Name       | Type  |\r\n--------+-----------------+-------+\r\n public | flow            | table |\r\n public | stream          | table |\r\n public | stream_flows    | table |\r\n```\r\n\r\nThere is a duplicate column in `stream_flows`\r\n\r\n```\r\n\\d stream_flows\r\n                        Table &quot;public.stream_flows&quot;\r\n     Column      |          Type          | Collation | Nullable | Default\r\n-----------------+------------------------+-----------+----------+---------\r\n stream_id       | uuid                   |           | not null |\r\n flows_name      | character varying(255) |           | not null |\r\n flows_stream_id | uuid                   |           | not null |     &lt;-- HERE flows_stream_id is same as stream_id\r\nIndexes:\r\n    &quot;uk_cb1drm79j3vyjjfjlc4c4q7we&quot; UNIQUE CONSTRAINT, btree (flows_name, flows_stream_id)\r\nForeign-key constraints:\r\n    &quot;fkkmd0nl9hcnytrojpy40avqlu1&quot; FOREIGN KEY (stream_id) REFERENCES stream(id)\r\n    &quot;fksmbnvcxkw3y2vlyuq4nao26vq&quot; FOREIGN KEY (flows_name, flows_stream_id) REFERENCES flow(name, stream_id)\r\n```\r\n\r\nHow to above duplicate `flows_stream_id` column?","title":"Hibernate creating duplicate column with @ManyToOne and @Embeddable","body":"<p>I have the following entities</p>\n<pre><code>@Entity(name = &quot;stream&quot;)\npublic class StreamEntity extends PersistableEntity {\n\n    @Id\n    @Column(name = &quot;id&quot;)\n    private UUID id;\n\n    @Column(name = &quot;type&quot;)\n    private String type = null;\n\n    @Column(name = &quot;name&quot;)\n    private String name = null;\n\n    @Column(name = &quot;parallelism&quot;)\n    private Integer parallelism = null;\n\n    @OneToMany(fetch = FetchType.LAZY, cascade = CascadeType.ALL, orphanRemoval = true)\n    @JoinTable(\n        name = &quot;stream_flows&quot;\n    )\n    private List&lt;FlowEntity&gt; flows = null;\n\n}\n</code></pre>\n<pre><code>@Entity(name = &quot;flow&quot;)\npublic class FlowEntity {\n\n    @EmbeddedId\n    private FlowId id;\n\n    @Embeddable\n    public static class FlowId implements Serializable {\n\n        @Column(name = &quot;name&quot;)\n        private String name;\n\n        @ManyToOne(fetch = FetchType.LAZY, cascade = CascadeType.ALL)\n        @JoinColumns({\n            @JoinColumn(name = &quot;stream_id&quot;),\n        })\n        private StreamEntity streamId;\n\n    }\n\n}\n</code></pre>\n<p>This is resulting in the following tables:</p>\n<pre><code> Schema |      Name       | Type  |\n--------+-----------------+-------+\n public | flow            | table |\n public | stream          | table |\n public | stream_flows    | table |\n</code></pre>\n<p>There is a duplicate column in <code>stream_flows</code></p>\n<pre><code>\\d stream_flows\n                        Table &quot;public.stream_flows&quot;\n     Column      |          Type          | Collation | Nullable | Default\n-----------------+------------------------+-----------+----------+---------\n stream_id       | uuid                   |           | not null |\n flows_name      | character varying(255) |           | not null |\n flows_stream_id | uuid                   |           | not null |     &lt;-- HERE flows_stream_id is same as stream_id\nIndexes:\n    &quot;uk_cb1drm79j3vyjjfjlc4c4q7we&quot; UNIQUE CONSTRAINT, btree (flows_name, flows_stream_id)\nForeign-key constraints:\n    &quot;fkkmd0nl9hcnytrojpy40avqlu1&quot; FOREIGN KEY (stream_id) REFERENCES stream(id)\n    &quot;fksmbnvcxkw3y2vlyuq4nao26vq&quot; FOREIGN KEY (flows_name, flows_stream_id) REFERENCES flow(name, stream_id)\n</code></pre>\n<p>How to above duplicate <code>flows_stream_id</code> column?</p>\n"},{"tags":["java","hibernate","spring-mvc","db2","websphere"],"comments":[{"owner":{"account_id":443256,"reputation":12498,"user_id":834362,"display_name":"home"},"score":0,"creation_date":1321260357,"post_id":8118677,"comment_id":9958955,"body_markdown":"Do those to app server machines work with the same database or does each instance have its own DB?","body":"Do those to app server machines work with the same database or does each instance have its own DB?"},{"owner":{"account_id":443256,"reputation":12498,"user_id":834362,"display_name":"home"},"score":0,"creation_date":1321342940,"post_id":8118677,"comment_id":9979008,"body_markdown":"You use JDBC Type 4 driver or any native DB2 driver?","body":"You use JDBC Type 4 driver or any native DB2 driver?"},{"owner":{"account_id":184519,"reputation":22782,"user_id":420613,"accept_rate":87,"display_name":"Muhammad Imran Tariq"},"score":0,"creation_date":1321357260,"post_id":8118677,"comment_id":9982728,"body_markdown":"I am using two jars for DB2 drivers. 1: db2jcc_license_cu.jar 2: db2jcc.jar. I don&#39;t know the correct version but I think its 9.7.","body":"I am using two jars for DB2 drivers. 1: db2jcc_license_cu.jar 2: db2jcc.jar. I don&#39;t know the correct version but I think its 9.7."},{"owner":{"account_id":443256,"reputation":12498,"user_id":834362,"display_name":"home"},"score":0,"creation_date":1321366829,"post_id":8118677,"comment_id":9985401,"body_markdown":"So you do not have DB2 Client installed? &#39;Type 4&#39; means native Java, not just a bridge to &#39;machine code&#39; database driver...","body":"So you do not have DB2 Client installed? &#39;Type 4&#39; means native Java, not just a bridge to &#39;machine code&#39; database driver..."}],"answers":[{"tags":[],"owner":{"account_id":928670,"reputation":8964,"user_id":958954,"display_name":"Andreas Veithen"},"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1321308381,"creation_date":1321308381,"answer_id":8128844,"question_id":8118677,"body_markdown":"The fact that this works on one WebSphere server and fails on another although they both connect to the same database suggests that there is an issue with the version of the JDBC driver. I would check that first.","title":"The database returned no natively generated identity value","body":"<p>The fact that this works on one WebSphere server and fails on another although they both connect to the same database suggests that there is an issue with the version of the JDBC driver. I would check that first.</p>\n"},{"tags":[],"owner":{"account_id":2282565,"reputation":1515,"user_id":2007325,"accept_rate":73,"display_name":"Praveen Kumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1375379926,"creation_date":1375379926,"answer_id":18001248,"question_id":8118677,"body_markdown":"The above Exception can also occur if the @id annotated property mapped column dose not support auto generation of id.\r\n\r\ni.e.\r\n\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n\r\nusing\r\n\r\n    Use @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\r\nmight solve the problem.","title":"The database returned no natively generated identity value","body":"<p>The above Exception can also occur if the @id annotated property mapped column dose not support auto generation of id.</p>\n\n<p>i.e.</p>\n\n<pre><code>@GeneratedValue(strategy = GenerationType.AUTO)\n</code></pre>\n\n<p>using</p>\n\n<pre><code>Use @GeneratedValue(strategy = GenerationType.IDENTITY)\n</code></pre>\n\n<p>might solve the problem.</p>\n"},{"tags":[],"owner":{"display_name":"user5375222"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1487858607,"creation_date":1487858607,"answer_id":42417949,"question_id":8118677,"body_markdown":"Make sure that while creating your table id field should be marked as auto-increment and then use \r\n\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)","title":"The database returned no natively generated identity value","body":"<p>Make sure that while creating your table id field should be marked as auto-increment and then use </p>\n\n<pre><code>@GeneratedValue(strategy = GenerationType.IDENTITY)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21954229,"reputation":31,"user_id":16233040,"display_name":"Nithin karthick"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675752123,"creation_date":1675752064,"answer_id":75369683,"question_id":8118677,"body_markdown":"check primary key in database, if it is not auto increment then you will get this error.\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/RAvrL.png","title":"The database returned no natively generated identity value","body":"<p>check primary key in database, if it is not auto increment then you will get this error.\n<a href=\"https://i.stack.imgur.com/RAvrL.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"}],"owner":{"account_id":184519,"reputation":22782,"user_id":420613,"accept_rate":87,"display_name":"Muhammad Imran Tariq"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13593,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":8128844,"answer_count":4,"score":2,"last_activity_date":1675752123,"creation_date":1321257034,"question_id":8118677,"body_markdown":"I am using IBM DB2 V 9.1.0.356. I am using DB2 JDBC driver version 9.7.\r\n\r\nI am using these technologies for my application.\r\n\r\nSpring MVC, Hibernate, DB2, Websphere\r\n\r\nIn my Create Table script; ID column is generated as:\r\n\r\n    ID BIGINT GENERATED BY DEFAULT AS IDENTITY\r\n\r\nIn Java Entity class its configured as:\r\n\r\n    @Id \r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Column( name = &quot;id&quot;, nullable = false  )\r\n\r\nWhen I saves and object by calling this through hibernate:\r\n\r\n    *.save(persistentObject);\r\n\r\nData is saved. But I got following Exception:\r\n\r\n    org.hibernate.HibernateException: The database returned no natively generated identity value\r\n    at org.hibernate.id.IdentifierGeneratorFactory.getGeneratedIdentity(IdentifierGeneratorFactory.java:90)\r\n\r\n**Note:** My application is configured on two servers on different machines. From one machine I can succefully save data; but from other I got above mentioned exception.","title":"The database returned no natively generated identity value","body":"<p>I am using IBM DB2 V 9.1.0.356. I am using DB2 JDBC driver version 9.7.</p>\n\n<p>I am using these technologies for my application.</p>\n\n<p>Spring MVC, Hibernate, DB2, Websphere</p>\n\n<p>In my Create Table script; ID column is generated as:</p>\n\n<pre><code>ID BIGINT GENERATED BY DEFAULT AS IDENTITY\n</code></pre>\n\n<p>In Java Entity class its configured as:</p>\n\n<pre><code>@Id \n@GeneratedValue(strategy = GenerationType.AUTO)\n@Column( name = \"id\", nullable = false  )\n</code></pre>\n\n<p>When I saves and object by calling this through hibernate:</p>\n\n<pre><code>*.save(persistentObject);\n</code></pre>\n\n<p>Data is saved. But I got following Exception:</p>\n\n<pre><code>org.hibernate.HibernateException: The database returned no natively generated identity value\nat org.hibernate.id.IdentifierGeneratorFactory.getGeneratedIdentity(IdentifierGeneratorFactory.java:90)\n</code></pre>\n\n<p><strong>Note:</strong> My application is configured on two servers on different machines. From one machine I can succefully save data; but from other I got above mentioned exception.</p>\n"},{"tags":["java","maven","jar","dependencies"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1675670210,"post_id":75357442,"comment_id":132971259,"body_markdown":"You have the spring boot dependency that repackages your code.  Remove that.","body":"You have the spring boot dependency that repackages your code.  Remove that."},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1675680539,"post_id":75357442,"comment_id":132974310,"body_markdown":"Furthermore, move the classes to `src/main/java`.","body":"Furthermore, move the classes to <code>src&#47;main&#47;java</code>."},{"owner":{"account_id":19475688,"reputation":13,"user_id":14247129,"display_name":"Dhanyaa Bharadwaj"},"score":0,"creation_date":1675747414,"post_id":75357442,"comment_id":132990183,"body_markdown":"@JFabianMeier, I have junit dependency in of the classes. So I can&#39;t move the classes to src/test/java","body":"@JFabianMeier, I have junit dependency in of the classes. So I can&#39;t move the classes to src/test/java"},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1675767451,"post_id":75357442,"comment_id":132995163,"body_markdown":"Move the classes to `src/main/java` and declare `junit` with scope `compile`.","body":"Move the classes to <code>src&#47;main&#47;java</code> and declare <code>junit</code> with scope <code>compile</code>."}],"answers":[{"tags":[],"owner":{"account_id":3922118,"reputation":39,"user_id":3243932,"display_name":"Ram H"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1675751888,"creation_date":1675751888,"answer_id":75369666,"question_id":75357442,"body_markdown":"It needs a class containing a main method and annotated with the @SpringBootApplication.\r\nif you have downloaded from start.spring.io, Windows would probably removed the .java file while un-zipping due to security violation.","title":"How to create your own maven dependency? Is it mandatory to have a main class in that jar?","body":"<p>It needs a class containing a main method and annotated with the @SpringBootApplication.\nif you have downloaded from start.spring.io, Windows would probably removed the .java file while un-zipping due to security violation.</p>\n"}],"owner":{"account_id":19475688,"reputation":13,"user_id":14247129,"display_name":"Dhanyaa Bharadwaj"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675751888,"creation_date":1675659342,"question_id":75357442,"body_markdown":"I only have few custom annotations and a few classes **in the test folder** that needs to be packaged into a jar so that I can use it as a dependency in another project. But when I try to run a mvn clean install, the build is failing with this error:\r\n\r\n    Execution repackage of goal org.springframework.boot:spring-boot-maven-plugin:2.7.8:repackage failed: Unable to find main class \r\n\r\nHow to resolve this?","title":"How to create your own maven dependency? Is it mandatory to have a main class in that jar?","body":"<p>I only have few custom annotations and a few classes <strong>in the test folder</strong> that needs to be packaged into a jar so that I can use it as a dependency in another project. But when I try to run a mvn clean install, the build is failing with this error:</p>\n<pre><code>Execution repackage of goal org.springframework.boot:spring-boot-maven-plugin:2.7.8:repackage failed: Unable to find main class \n</code></pre>\n<p>How to resolve this?</p>\n"},{"tags":["java","android","android-fragments"],"answers":[{"tags":[],"owner":{"account_id":27540947,"reputation":983,"user_id":21017714,"display_name":"Enowneb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675751866,"creation_date":1675751866,"answer_id":75369663,"question_id":75364421,"body_markdown":"Your code is close. It is because ```DetailFrag``` is not yet created when you define your ```TextView``` in ```onCreate()``` of ```MainActivity```. You can refer [Fragment lifecycle with respect to it&#39;s activity](https://stackoverflow.com/questions/7496844/fragment-lifecycle-with-respect-to-its-activity) to know more about the lifecycle of Fragment.\r\n\r\nSo there are two ways you can change your code:  \r\n \r\nThe first way is to remove definition of your ```TextView``` variable and directly call ```findViewById()``` in the ```onItemSelected()``` callback:  \r\n```java\r\npackage com.example.fragmentvideorev2;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.os.Bundle;\r\nimport android.widget.TextView;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class MainActivity extends AppCompatActivity implements ListFrag.ItemSelected {\r\n    ArrayList&lt;String&gt; descriptions;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        ArrayList&lt;String&gt; descriptions = new ArrayList&lt;String&gt;();\r\n        descriptions.add(&quot;Description for item 1&quot;);\r\n        descriptions.add(&quot;Description for item 2&quot;);\r\n        descriptions.add(&quot;Description for item 3&quot;);\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onItemSelected(int index) {\r\n        // Directly retrieve the TextView here\r\n        ((TextView) findViewById(R.id.tvDescription)).setText(descriptions.get(index));\r\n    }\r\n}\r\n```\r\n\r\nThe second way is to move the definition of your ```TextView``` in ```onStart()``` of ```MainActivity```. That guarantees your ```DetailFrag``` is created and hence ```MainActivity``` can obtain the View from ```DetailFrag``` there:  \r\n```java\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.os.Bundle;\r\nimport android.widget.TextView;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class MainActivity extends AppCompatActivity implements ListFrag.ItemSelected {\r\n    ArrayList&lt;String&gt; descriptions;\r\n    TextView tvDescription;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        ArrayList&lt;String&gt; descriptions = new ArrayList&lt;String&gt;();\r\n        descriptions.add(&quot;Description for item 1&quot;);\r\n        descriptions.add(&quot;Description for item 2&quot;);\r\n        descriptions.add(&quot;Description for item 3&quot;);\r\n\r\n    }\r\n\r\n    @Override\r\n    protected void onStart() {\r\n        super.onStart();\r\n        // Move the definition here\r\n        tvDescription = findViewById(R.id.tvDescription);\r\n    }\r\n\r\n    @Override\r\n    public void onItemSelected(int index) {\r\n        tvDescription.setText(descriptions.get(index));\r\n    }\r\n}\r\n```\r\n\r\n---\r\n\r\nAnd also you may have to take a look at the following problem:  \r\n\r\nYou have defined a member variable ```ArrayList&lt;String&gt; descriptions;```. However, you are setting ArrayList to a local variable here:\r\n```java\r\nArrayList&lt;String&gt; descriptions = new ArrayList&lt;String&gt;();\r\ndescriptions.add(&quot;Description for item 1&quot;);\r\ndescriptions.add(&quot;Description for item 2&quot;);\r\ndescriptions.add(&quot;Description for item 3&quot;);\r\n```\r\nAnd your ```onItemSelected()``` callback can just access your member variable, which you have not assigned any value to it. Therefore, you should remove the ```ArrayList&lt;String&gt;``` like this:\r\n```java\r\n// This will directly assign value to member variable\r\ndescriptions = new ArrayList&lt;String&gt;();\r\ndescriptions.add(&quot;Description for item 1&quot;);\r\ndescriptions.add(&quot;Description for item 2&quot;);\r\ndescriptions.add(&quot;Description for item 3&quot;);\r\n```","title":"Changing Fragment TextView from Activity","body":"<p>Your code is close. It is because <code>DetailFrag</code> is not yet created when you define your <code>TextView</code> in <code>onCreate()</code> of <code>MainActivity</code>. You can refer <a href=\"https://stackoverflow.com/questions/7496844/fragment-lifecycle-with-respect-to-its-activity\">Fragment lifecycle with respect to it's activity</a> to know more about the lifecycle of Fragment.</p>\n<p>So there are two ways you can change your code:</p>\n<p>The first way is to remove definition of your <code>TextView</code> variable and directly call <code>findViewById()</code> in the <code>onItemSelected()</code> callback:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.fragmentvideorev2;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.Bundle;\nimport android.widget.TextView;\n\nimport java.util.ArrayList;\n\npublic class MainActivity extends AppCompatActivity implements ListFrag.ItemSelected {\n    ArrayList&lt;String&gt; descriptions;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        ArrayList&lt;String&gt; descriptions = new ArrayList&lt;String&gt;();\n        descriptions.add(&quot;Description for item 1&quot;);\n        descriptions.add(&quot;Description for item 2&quot;);\n        descriptions.add(&quot;Description for item 3&quot;);\n\n    }\n\n    @Override\n    public void onItemSelected(int index) {\n        // Directly retrieve the TextView here\n        ((TextView) findViewById(R.id.tvDescription)).setText(descriptions.get(index));\n    }\n}\n</code></pre>\n<p>The second way is to move the definition of your <code>TextView</code> in <code>onStart()</code> of <code>MainActivity</code>. That guarantees your <code>DetailFrag</code> is created and hence <code>MainActivity</code> can obtain the View from <code>DetailFrag</code> there:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.Bundle;\nimport android.widget.TextView;\n\nimport java.util.ArrayList;\n\npublic class MainActivity extends AppCompatActivity implements ListFrag.ItemSelected {\n    ArrayList&lt;String&gt; descriptions;\n    TextView tvDescription;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        ArrayList&lt;String&gt; descriptions = new ArrayList&lt;String&gt;();\n        descriptions.add(&quot;Description for item 1&quot;);\n        descriptions.add(&quot;Description for item 2&quot;);\n        descriptions.add(&quot;Description for item 3&quot;);\n\n    }\n\n    @Override\n    protected void onStart() {\n        super.onStart();\n        // Move the definition here\n        tvDescription = findViewById(R.id.tvDescription);\n    }\n\n    @Override\n    public void onItemSelected(int index) {\n        tvDescription.setText(descriptions.get(index));\n    }\n}\n</code></pre>\n<hr />\n<p>And also you may have to take a look at the following problem:</p>\n<p>You have defined a member variable <code>ArrayList&lt;String&gt; descriptions;</code>. However, you are setting ArrayList to a local variable here:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ArrayList&lt;String&gt; descriptions = new ArrayList&lt;String&gt;();\ndescriptions.add(&quot;Description for item 1&quot;);\ndescriptions.add(&quot;Description for item 2&quot;);\ndescriptions.add(&quot;Description for item 3&quot;);\n</code></pre>\n<p>And your <code>onItemSelected()</code> callback can just access your member variable, which you have not assigned any value to it. Therefore, you should remove the <code>ArrayList&lt;String&gt;</code> like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// This will directly assign value to member variable\ndescriptions = new ArrayList&lt;String&gt;();\ndescriptions.add(&quot;Description for item 1&quot;);\ndescriptions.add(&quot;Description for item 2&quot;);\ndescriptions.add(&quot;Description for item 3&quot;);\n</code></pre>\n"}],"owner":{"account_id":27717739,"reputation":3,"user_id":21159077,"display_name":"Gregory Maguire"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75369663,"answer_count":1,"score":0,"last_activity_date":1675751866,"creation_date":1675703234,"question_id":75364421,"body_markdown":"I am attempting to learn Android Studios using the free Udemy course &quot;Learn Android Application Development.&quot;  I am on lesson 44 &quot;Fragments Part 1.&quot; I am unable to get through the lesson because of an error.  I have spent two days and ~8 hours trying to figure it out.  Please help me!\r\n\r\nThe goal of the lesson is to create an app that has a list on one side of the screen and the details on the other.  When the user clicks one of the list items, the details are displayed on a textview on the other side of the screen.\r\n\r\nThe instructor guides us through creating two fragments (ListFrag and DetailFrag) and adding them to the main activity side-by-side.  He goes through setting up the list fragment (ListFrag) and passing the clicked list item&#39;s index to the main activity.  All of that works.  \r\n\r\nDetailFrag contains a TextView (tvDescription). The instructor sets up the textview and changes the value from the main activity using the index from ListFrag.  When running the app, it crashes when you click a list item.  \r\n\r\nThere is one error - &#39;@layout/activity_main&#39; does not contain a declaration with id &#39;tvDescription&#39;.  The issue is in MainActivity.java,  tvDescriptions = findViewById(R.id.tvDescription);.\r\n\r\nPlease help.  Thanks in advance for your replies.\r\n\r\nXML Files:\r\n\r\nactivity_main.xml\r\n```\r\n?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:orientation=&quot;horizontal&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n\r\n    &lt;androidx.fragment.app.FragmentContainerView\r\n        android:id=&quot;@+id/listFrag&quot;\r\n        android:name=&quot;com.example.fragmentvideorev2.ListFrag&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_weight=&quot;1&quot;\r\n        tools:layout=&quot;@layout/fragment_list&quot; /&gt;\r\n\r\n    &lt;androidx.fragment.app.FragmentContainerView\r\n        android:id=&quot;@+id/detailFrag&quot;\r\n        android:name=&quot;com.example.fragmentvideorev2.DetailFrag&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_weight=&quot;2&quot;\r\n        tools:layout=&quot;@layout/fragment_detail&quot; /&gt;\r\n&lt;/LinearLayout&gt;\r\n```\r\n\r\nfragment_list.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n\r\n    tools:context=&quot;.ListFrag&quot;&gt;\r\n\r\n\r\n    &lt;ListView\r\n        android:id=&quot;@+id/lvList&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot; /&gt;\r\n&lt;/LinearLayout&gt;\r\n```\r\n\r\nfragment_detail.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    android:background=&quot;@color/teal_700&quot;\r\n    tools:context=&quot;.DetailFrag&quot;&gt;\r\n\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/tvDescription&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginLeft=&quot;20dp&quot;\r\n        android:layout_marginTop=&quot;20dp&quot;\r\n        android:layout_marginRight=&quot;20dp&quot;\r\n        android:text=&quot;TextView&quot;\r\n        android:textColor=&quot;#FFFFFF&quot;\r\n        android:textSize=&quot;18sp&quot; /&gt;\r\n&lt;/LinearLayout&gt;\r\n```\r\n\r\nJava Files:\r\n\r\nMainActivity.java\r\n```\r\npackage com.example.fragmentvideorev2;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.fragment.app.Fragment;\r\n\r\nimport android.os.Bundle;\r\nimport android.widget.TextView;\r\n\r\nimport java.lang.reflect.Array;\r\nimport java.util.ArrayList;\r\n\r\npublic class MainActivity extends AppCompatActivity implements ListFrag.ItemSelected {\r\n\r\n    TextView tvDescriptions;\r\n    ArrayList&lt;String&gt; descriptions;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        tvDescriptions = findViewById(R.id.tvDescription);\r\n\r\n\r\n\r\n        ArrayList&lt;String&gt; descriptions = new ArrayList&lt;String&gt;();\r\n        descriptions.add(&quot;Description for item 1&quot;);\r\n        descriptions.add(&quot;Description for item 2&quot;);\r\n        descriptions.add(&quot;Description for item 3&quot;);\r\n\r\n          }\r\n\r\n\r\n    @Override\r\n    public void onItemSelected(int index) {\r\n\r\n        tvDescriptions.setText(descriptions.get(index));\r\n\r\n    }\r\n}\r\n```\r\n\r\nListFrag.java\r\n```\r\npackage com.example.fragmentvideorev2;\r\n\r\nimport android.content.Context;\r\nimport android.os.Bundle;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.fragment.app.ListFragment;\r\nimport androidx.lifecycle.LifecycleObserver;\r\n\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.ArrayAdapter;\r\nimport android.widget.ListView;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class ListFrag extends ListFragment {\r\n\r\n    ItemSelected activity;\r\n\r\n    public interface ItemSelected\r\n    {\r\n        void onItemSelected(int index);\r\n    }\r\n\r\n     public ListFrag() {\r\n        // Required empty public constructor\r\n    }\r\n\r\n\r\n   //called when frag associated with activity, context is activity\r\n    @Override\r\n    public void onAttach(@NonNull Context context) {\r\n        super.onAttach(context);\r\n\r\n        activity = (ItemSelected) context;\r\n    }\r\n\r\n   //called when oncreate is finished\r\n    @Override\r\n    public void onActivityCreated(@Nullable Bundle savedInstanceState) {\r\n        super.onActivityCreated(savedInstanceState);\r\n\r\n        ArrayList&lt;String&gt; data = new ArrayList&lt;String&gt;();\r\n        data.add(&quot;1. This is one&quot;);\r\n        data.add(&quot;2. This is two&quot;);\r\n        data.add(&quot;3. This is three&quot;);\r\n\r\n        setListAdapter(new ArrayAdapter&lt;String&gt;(getActivity(), android.R.layout.simple_expandable_list_item_1, data));\r\n\r\n    }\r\n\r\n    //value list get clicked, know posiiton\r\n    @Override\r\n    public void onListItemClick(@NonNull ListView l, @NonNull View v, int position, long id) {\r\n\r\n        activity.onItemSelected(position);\r\n\r\n    }\r\n}\r\n```\r\n\r\nDetailFrag.java - unchanged after creation\r\n\r\n```\r\npackage com.example.fragmentvideorev2;\r\n\r\nimport android.os.Bundle;\r\n\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.fragment.app.Fragment;\r\n\r\nimport org.w3c.dom.Text;\r\n\r\n\r\n\r\npublic class DetailFrag extends Fragment {\r\n\r\n   // TODO: Rename parameter arguments, choose names that match\r\n    // the fragment initialization parameters, e.g. ARG_ITEM_NUMBER\r\n    private static final String ARG_PARAM1 = &quot;param1&quot;;\r\n    private static final String ARG_PARAM2 = &quot;param2&quot;;\r\n\r\n    // TODO: Rename and change types of parameters\r\n    private String mParam1;\r\n    private String mParam2;\r\n\r\n    public DetailFrag() {\r\n        // Required empty public constructor\r\n    }\r\n\r\n    /**\r\n     * Use this factory method to create a new instance of\r\n     * this fragment using the provided parameters.\r\n     *\r\n     * @param param1 Parameter 1.\r\n     * @param param2 Parameter 2.\r\n     * @return A new instance of fragment DetailFrag.\r\n     */\r\n\r\n    // TODO: Rename and change types and number of parameters\r\n    public static DetailFrag newInstance(String param1, String param2) {\r\n        DetailFrag fragment = new DetailFrag();\r\n        Bundle args = new Bundle();\r\n        args.putString(ARG_PARAM1, param1);\r\n        args.putString(ARG_PARAM2, param2);\r\n        fragment.setArguments(args);\r\n        return fragment;\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        if (getArguments() != null) {\r\n            mParam1 = getArguments().getString(ARG_PARAM1);\r\n            mParam2 = getArguments().getString(ARG_PARAM2);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        return inflater.inflate(R.layout.fragment_detail, container, false);\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Changing Fragment TextView from Activity","body":"<p>I am attempting to learn Android Studios using the free Udemy course &quot;Learn Android Application Development.&quot;  I am on lesson 44 &quot;Fragments Part 1.&quot; I am unable to get through the lesson because of an error.  I have spent two days and ~8 hours trying to figure it out.  Please help me!</p>\n<p>The goal of the lesson is to create an app that has a list on one side of the screen and the details on the other.  When the user clicks one of the list items, the details are displayed on a textview on the other side of the screen.</p>\n<p>The instructor guides us through creating two fragments (ListFrag and DetailFrag) and adding them to the main activity side-by-side.  He goes through setting up the list fragment (ListFrag) and passing the clicked list item's index to the main activity.  All of that works.</p>\n<p>DetailFrag contains a TextView (tvDescription). The instructor sets up the textview and changes the value from the main activity using the index from ListFrag.  When running the app, it crashes when you click a list item.</p>\n<p>There is one error - '@layout/activity_main' does not contain a declaration with id 'tvDescription'.  The issue is in MainActivity.java,  tvDescriptions = findViewById(R.id.tvDescription);.</p>\n<p>Please help.  Thanks in advance for your replies.</p>\n<p>XML Files:</p>\n<p>activity_main.xml</p>\n<pre><code>?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:orientation=&quot;horizontal&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n\n    &lt;androidx.fragment.app.FragmentContainerView\n        android:id=&quot;@+id/listFrag&quot;\n        android:name=&quot;com.example.fragmentvideorev2.ListFrag&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_weight=&quot;1&quot;\n        tools:layout=&quot;@layout/fragment_list&quot; /&gt;\n\n    &lt;androidx.fragment.app.FragmentContainerView\n        android:id=&quot;@+id/detailFrag&quot;\n        android:name=&quot;com.example.fragmentvideorev2.DetailFrag&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_weight=&quot;2&quot;\n        tools:layout=&quot;@layout/fragment_detail&quot; /&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>fragment_list.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:orientation=&quot;vertical&quot;\n\n    tools:context=&quot;.ListFrag&quot;&gt;\n\n\n    &lt;ListView\n        android:id=&quot;@+id/lvList&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot; /&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>fragment_detail.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:orientation=&quot;vertical&quot;\n    android:background=&quot;@color/teal_700&quot;\n    tools:context=&quot;.DetailFrag&quot;&gt;\n\n\n    &lt;TextView\n        android:id=&quot;@+id/tvDescription&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginLeft=&quot;20dp&quot;\n        android:layout_marginTop=&quot;20dp&quot;\n        android:layout_marginRight=&quot;20dp&quot;\n        android:text=&quot;TextView&quot;\n        android:textColor=&quot;#FFFFFF&quot;\n        android:textSize=&quot;18sp&quot; /&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>Java Files:</p>\n<p>MainActivity.java</p>\n<pre><code>package com.example.fragmentvideorev2;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.fragment.app.Fragment;\n\nimport android.os.Bundle;\nimport android.widget.TextView;\n\nimport java.lang.reflect.Array;\nimport java.util.ArrayList;\n\npublic class MainActivity extends AppCompatActivity implements ListFrag.ItemSelected {\n\n    TextView tvDescriptions;\n    ArrayList&lt;String&gt; descriptions;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        tvDescriptions = findViewById(R.id.tvDescription);\n\n\n\n        ArrayList&lt;String&gt; descriptions = new ArrayList&lt;String&gt;();\n        descriptions.add(&quot;Description for item 1&quot;);\n        descriptions.add(&quot;Description for item 2&quot;);\n        descriptions.add(&quot;Description for item 3&quot;);\n\n          }\n\n\n    @Override\n    public void onItemSelected(int index) {\n\n        tvDescriptions.setText(descriptions.get(index));\n\n    }\n}\n</code></pre>\n<p>ListFrag.java</p>\n<pre><code>package com.example.fragmentvideorev2;\n\nimport android.content.Context;\nimport android.os.Bundle;\n\nimport androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\nimport androidx.fragment.app.Fragment;\nimport androidx.fragment.app.ListFragment;\nimport androidx.lifecycle.LifecycleObserver;\n\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.ArrayAdapter;\nimport android.widget.ListView;\n\nimport java.util.ArrayList;\n\npublic class ListFrag extends ListFragment {\n\n    ItemSelected activity;\n\n    public interface ItemSelected\n    {\n        void onItemSelected(int index);\n    }\n\n     public ListFrag() {\n        // Required empty public constructor\n    }\n\n\n   //called when frag associated with activity, context is activity\n    @Override\n    public void onAttach(@NonNull Context context) {\n        super.onAttach(context);\n\n        activity = (ItemSelected) context;\n    }\n\n   //called when oncreate is finished\n    @Override\n    public void onActivityCreated(@Nullable Bundle savedInstanceState) {\n        super.onActivityCreated(savedInstanceState);\n\n        ArrayList&lt;String&gt; data = new ArrayList&lt;String&gt;();\n        data.add(&quot;1. This is one&quot;);\n        data.add(&quot;2. This is two&quot;);\n        data.add(&quot;3. This is three&quot;);\n\n        setListAdapter(new ArrayAdapter&lt;String&gt;(getActivity(), android.R.layout.simple_expandable_list_item_1, data));\n\n    }\n\n    //value list get clicked, know posiiton\n    @Override\n    public void onListItemClick(@NonNull ListView l, @NonNull View v, int position, long id) {\n\n        activity.onItemSelected(position);\n\n    }\n}\n</code></pre>\n<p>DetailFrag.java - unchanged after creation</p>\n<pre><code>package com.example.fragmentvideorev2;\n\nimport android.os.Bundle;\n\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.TextView;\n\nimport androidx.fragment.app.Fragment;\n\nimport org.w3c.dom.Text;\n\n\n\npublic class DetailFrag extends Fragment {\n\n   // TODO: Rename parameter arguments, choose names that match\n    // the fragment initialization parameters, e.g. ARG_ITEM_NUMBER\n    private static final String ARG_PARAM1 = &quot;param1&quot;;\n    private static final String ARG_PARAM2 = &quot;param2&quot;;\n\n    // TODO: Rename and change types of parameters\n    private String mParam1;\n    private String mParam2;\n\n    public DetailFrag() {\n        // Required empty public constructor\n    }\n\n    /**\n     * Use this factory method to create a new instance of\n     * this fragment using the provided parameters.\n     *\n     * @param param1 Parameter 1.\n     * @param param2 Parameter 2.\n     * @return A new instance of fragment DetailFrag.\n     */\n\n    // TODO: Rename and change types and number of parameters\n    public static DetailFrag newInstance(String param1, String param2) {\n        DetailFrag fragment = new DetailFrag();\n        Bundle args = new Bundle();\n        args.putString(ARG_PARAM1, param1);\n        args.putString(ARG_PARAM2, param2);\n        fragment.setArguments(args);\n        return fragment;\n    }\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        if (getArguments() != null) {\n            mParam1 = getArguments().getString(ARG_PARAM1);\n            mParam2 = getArguments().getString(ARG_PARAM2);\n        }\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        // Inflate the layout for this fragment\n        return inflater.inflate(R.layout.fragment_detail, container, false);\n    }\n\n\n}\n</code></pre>\n"},{"tags":["java","spring-boot","tomcat","http2"],"owner":{"account_id":1586217,"reputation":101,"user_id":1470509,"display_name":"user1470509"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675751540,"creation_date":1675751540,"question_id":75369616,"body_markdown":"I created a basic rest api with spring boot (v2.7.7 Java 11) with default configs.\r\n\r\nI did some very basic load testing to compare http1 and http2 performance. \r\n\r\nI observe a performance decrease which contradicts my expectation. \r\n\r\nWhat could be wrong? I really appreciate any help you can provide.\r\n\r\nDetails:\r\n\r\n```\r\n\r\n@RestController\r\npublic class Http2PocController {\r\n\r\n    @GetMapping(&quot;/&quot;)\r\n    public String poc() {\r\n        return &quot;Hello from server&quot;;\r\n    }\r\n}\r\n```\r\n\r\nI set up a self-signed certificate. \r\n\r\n```\r\nserver.ssl.key-store=classpath:example.jks\r\nserver.ssl.key-store-password=password\r\nserver.ssl.key-store-type=jks\r\nserver.ssl.key-alias=example\r\nserver.ssl.key-password=password\r\n\r\n```\r\n\r\nThen I hit the endpoint with apache-jmeter (500 threads 20 loop count)\r\n\r\n\r\nThen I enable http2\r\n\r\n```\r\nserver.http2.enabled=true\r\n```\r\n\r\nI hit the endpoint with apache-jmeter (bzm-http2-sampler plugin)\r\n\r\nHttp2 is performing worse. \r\n\r\n\r\n","title":"Http2 Performance Spring Boot","body":"<p>I created a basic rest api with spring boot (v2.7.7 Java 11) with default configs.</p>\n<p>I did some very basic load testing to compare http1 and http2 performance.</p>\n<p>I observe a performance decrease which contradicts my expectation.</p>\n<p>What could be wrong? I really appreciate any help you can provide.</p>\n<p>Details:</p>\n<pre><code>\n@RestController\npublic class Http2PocController {\n\n    @GetMapping(&quot;/&quot;)\n    public String poc() {\n        return &quot;Hello from server&quot;;\n    }\n}\n</code></pre>\n<p>I set up a self-signed certificate.</p>\n<pre><code>server.ssl.key-store=classpath:example.jks\nserver.ssl.key-store-password=password\nserver.ssl.key-store-type=jks\nserver.ssl.key-alias=example\nserver.ssl.key-password=password\n\n</code></pre>\n<p>Then I hit the endpoint with apache-jmeter (500 threads 20 loop count)</p>\n<p>Then I enable http2</p>\n<pre><code>server.http2.enabled=true\n</code></pre>\n<p>I hit the endpoint with apache-jmeter (bzm-http2-sampler plugin)</p>\n<p>Http2 is performing worse.</p>\n"},{"tags":["java","spring-boot","apache-kafka","spring-data-redis"],"answers":[{"tags":[],"owner":{"account_id":27722327,"reputation":11,"user_id":21162590,"display_name":"ke yan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675751006,"creation_date":1675751006,"answer_id":75369559,"question_id":75360572,"body_markdown":"1. Obtain all methods of adding annotation RedisListener through scanning\r\n\r\n2. Get the values of the annotation, and listen to these topics through the reactiveRedisTemplate\r\n\r\n3. Call the method through reflection in the callback method","title":"Spring Boot ReactiveRedis custom annotation to subscribe the channel and get the data","body":"<ol>\n<li><p>Obtain all methods of adding annotation RedisListener through scanning</p>\n</li>\n<li><p>Get the values of the annotation, and listen to these topics through the reactiveRedisTemplate</p>\n</li>\n<li><p>Call the method through reflection in the callback method</p>\n</li>\n</ol>\n"}],"owner":{"account_id":5351903,"reputation":1369,"user_id":4265824,"accept_rate":45,"display_name":"Ganesh Gudghe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":179,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1675751006,"creation_date":1675682046,"question_id":75360572,"body_markdown":"I am working on spring boot ReactiveRedis for the **pub-sub mechanism** following is my code and it is working fine, I am getting data in **subscribe call back**.\r\n\r\n    @Autowired\r\n    private ReactiveRedisOperations&lt;String, Object&gt; reactiveRedisTemplate;\r\n     \r\n    @PostConstruct\r\n    \tpublic void init(){\r\n    \t\tSystem.out.println(&quot;*****SampleLoader***** initialized - SampleLoader&quot;);\r\n    \r\n    \t\tthis.reactiveRedisTemplate.listenTo(ChannelTopic.of(&quot;some-topic&quot;)).subscribe(data -&gt; {\r\n    \t\t\t\tSystem.out.println(\r\n    \t\t\t\t\t\t&quot;data.getChannel():-&quot; + data.getChannel() + &quot;:&quot; + &quot;data.getMessage():-&quot; + data.getMessage());\r\n    \t\t});\r\n    \t}\r\n\r\nBut my question is how to create a custom annotation like\r\n\r\n\r\n    @Target({ ElementType.TYPE, ElementType.METHOD, ElementType.ANNOTATION_TYPE })\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @MessageMapping\r\n    @Documented\r\n    @Repeatable(RedisListeners.class)\r\n    public @interface RedisListener{\r\n    }\r\n    \r\n    @Target({ ElementType.TYPE, ElementType.METHOD, ElementType.ANNOTATION_TYPE })\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Documented\r\n    public @interface RedisListeners {\r\n    \r\n    \tRedisListener[] value();\r\n    \r\n    }\r\n  \r\n\r\n      @RedisListener(&quot;some-topic&quot;)\r\n            public void redisData(String channel, Object data){\r\n            \r\n            }\r\n\r\n**@RedisListener** will subscribe to the topic and return the call-back data.\r\n\r\n\r\n\r\n\r\n","title":"Spring Boot ReactiveRedis custom annotation to subscribe the channel and get the data","body":"<p>I am working on spring boot ReactiveRedis for the <strong>pub-sub mechanism</strong> following is my code and it is working fine, I am getting data in <strong>subscribe call back</strong>.</p>\n<pre><code>@Autowired\nprivate ReactiveRedisOperations&lt;String, Object&gt; reactiveRedisTemplate;\n \n@PostConstruct\n    public void init(){\n        System.out.println(&quot;*****SampleLoader***** initialized - SampleLoader&quot;);\n\n        this.reactiveRedisTemplate.listenTo(ChannelTopic.of(&quot;some-topic&quot;)).subscribe(data -&gt; {\n                System.out.println(\n                        &quot;data.getChannel():-&quot; + data.getChannel() + &quot;:&quot; + &quot;data.getMessage():-&quot; + data.getMessage());\n        });\n    }\n</code></pre>\n<p>But my question is how to create a custom annotation like</p>\n<pre><code>@Target({ ElementType.TYPE, ElementType.METHOD, ElementType.ANNOTATION_TYPE })\n@Retention(RetentionPolicy.RUNTIME)\n@MessageMapping\n@Documented\n@Repeatable(RedisListeners.class)\npublic @interface RedisListener{\n}\n\n@Target({ ElementType.TYPE, ElementType.METHOD, ElementType.ANNOTATION_TYPE })\n@Retention(RetentionPolicy.RUNTIME)\n@Documented\npublic @interface RedisListeners {\n\n    RedisListener[] value();\n\n}\n\n\n  @RedisListener(&quot;some-topic&quot;)\n        public void redisData(String channel, Object data){\n        \n        }\n</code></pre>\n<p><strong>@RedisListener</strong> will subscribe to the topic and return the call-back data.</p>\n"},{"tags":["java","spring-boot","apache-kafka","kafka-consumer-api","spring-kafka"],"comments":[{"owner":{"account_id":1181222,"reputation":564,"user_id":1156111,"display_name":"Ali Can"},"score":0,"creation_date":1615358692,"post_id":66558697,"comment_id":117662993,"body_markdown":"If you topic has single partition, one of your consumer will be idle. Because they are belong to same  consumer group (same groupId).","body":"If you topic has single partition, one of your consumer will be idle. Because they are belong to same  consumer group (same groupId)."}],"answers":[{"tags":[],"owner":{"account_id":11334983,"reputation":107,"user_id":8311154,"display_name":"Rahul Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1615358712,"creation_date":1615358712,"answer_id":66559630,"question_id":66558697,"body_markdown":"I could be way off here. As i am not sure how @KafkaListener works. But, off the top of my head, there are chances that there is only 1 partition and the first kakfaListener is assigned to that. so, any new listeners (similar to kafka consumers) will not get assigned any partition as there is just 1 partition to begin with. So, the new Listeners will sit idle waiting for some partition to get assigned so that they can start reading the data. \r\n\r\nYou can verify this by disabling the first KafkaListener and then running your application. The second listener would automatically kick in.\r\n\r\nor, if your topic already has multiple partitions then, it could be happening because of the key of the message as keys can be used to send data to one partition. and your first listener is assigned to that partition. \r\n","title":"Listen to multiple type of objects in the same Kafka topic","body":"<p>I could be way off here. As i am not sure how @KafkaListener works. But, off the top of my head, there are chances that there is only 1 partition and the first kakfaListener is assigned to that. so, any new listeners (similar to kafka consumers) will not get assigned any partition as there is just 1 partition to begin with. So, the new Listeners will sit idle waiting for some partition to get assigned so that they can start reading the data.</p>\n<p>You can verify this by disabling the first KafkaListener and then running your application. The second listener would automatically kick in.</p>\n<p>or, if your topic already has multiple partitions then, it could be happening because of the key of the message as keys can be used to send data to one partition. and your first listener is assigned to that partition.</p>\n"},{"tags":[],"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1615385606,"creation_date":1615385606,"answer_id":66566505,"question_id":66558697,"body_markdown":"You can&#39;t do that. If the same topic contains both Foo and Bar objects; there is no way for the framework to filter out the records that don&#39;t match. \r\n\r\nAnd, as has been said in other comments, answers, since they are both in the same group, they will each get a subset of records.\r\n\r\nThe simplest solution is to use two different topics.\r\n\r\nIf that&#39;s not possible, you have to use a class level listener with `@KafkaHandler` methods, but then you need to do the conversion in the deserializer instead of the framework figuring out the type from the method parameter.\r\n\r\nSee [this answer](https://stackoverflow.com/questions/66496761/how-to-get-multiple-objects-from-one-kafka-message-using-header/66497050#66497050) for a link to a sample that shows how to do that.","title":"Listen to multiple type of objects in the same Kafka topic","body":"<p>You can't do that. If the same topic contains both Foo and Bar objects; there is no way for the framework to filter out the records that don't match.</p>\n<p>And, as has been said in other comments, answers, since they are both in the same group, they will each get a subset of records.</p>\n<p>The simplest solution is to use two different topics.</p>\n<p>If that's not possible, you have to use a class level listener with <code>@KafkaHandler</code> methods, but then you need to do the conversion in the deserializer instead of the framework figuring out the type from the method parameter.</p>\n<p>See <a href=\"https://stackoverflow.com/questions/66496761/how-to-get-multiple-objects-from-one-kafka-message-using-header/66497050#66497050\">this answer</a> for a link to a sample that shows how to do that.</p>\n"}],"owner":{"account_id":20897870,"reputation":113,"user_id":15351612,"display_name":"Trayambak Kumar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2850,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1675750510,"creation_date":1615352781,"question_id":66558697,"body_markdown":"I have a use case where I would be receiving two kinds of object in the same topic. The issue I am facing is that all the objects are going to the same listener. The second listener is not being used.\r\n\r\nMy listeners are similar to below\r\n\r\n    @EnableKafka\r\n    @Service\r\n    public class consumerService {\r\n    \r\n      @KafkaListener(topic = &quot;t&quot;, groupId = &quot;g&quot; containerFactory = &quot;fooContainerFactory&quot;)\r\n      public void consume1(Foo foo) {\r\n         logger.info(&quot;I got : &quot; + foo);\r\n      }\r\n    \r\n      @KafkaListener(topic = &quot;t&quot;, groupId = &quot;g&quot; containerFactory = &quot;barContainerFactory&quot;)\r\n      public void consume2(Bar bar) {\r\n         logger.info(&quot;I got : &quot; + bar);\r\n      }\r\n    \r\n    }\r\n\r\nThe container factory for Foo is below, I have a similar one for Bar.\r\n\r\n    @Configuration\r\n    public class MyConsumerConfig {\r\n   \r\n\r\n      @Value(value = &quot;${kafka.bootstrapAddress}&quot;)\r\n      private String bootstrapAddress;\r\n\r\n      @Value(value = &quot;${group.id}&quot;)\r\n      private String groupId;\r\n\r\n      public Map&lt;String, Object&gt; clickConsumerFactory() {\r\n        /** Set the consumer properties here */\r\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\r\n        props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapAddress);\r\n        props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n        props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n        props.put(ConsumerConfig.GROUP_ID_CONFIG, groupId);\r\n        props.put(JsonDeserializer.TRUSTED_PACKAGES, &quot;*&quot;);\r\n        return props;\r\n      }\r\n\r\n      @Bean\r\n      public ConcurrentKafkaListenerContainerFactory&lt;String, Foo&gt; clickKafkaListenerContainerFactory() {\r\n        /** Listener factory for the class &#39;Foo&#39; */\r\n        ConcurrentKafkaListenerContainerFactory&lt;String, Foo&gt; factory\r\n                = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n        factory.setConsumerFactory(new DefaultKafkaConsumerFactory&lt;&gt;(clickConsumerFactory()));\r\n        factory.setMessageConverter(new StringJsonMessageConverter());\r\n        factory.setErrorHandler(((exception, data) -&gt; LOGGER.info(&quot;There was an error &quot; + exception)));\r\n        return factory;\r\n      }\r\n    }\r\n\r\nI tried using KafkaHandler but I don&#39;t know how to specify the individual container factory(for Foo : FooContainerFactory, for Bar: BarContainerFactory)\r\nI am stuck at this for a few hours. Can somebody tell me what should I change?\r\n","title":"Listen to multiple type of objects in the same Kafka topic","body":"<p>I have a use case where I would be receiving two kinds of object in the same topic. The issue I am facing is that all the objects are going to the same listener. The second listener is not being used.</p>\n<p>My listeners are similar to below</p>\n<pre><code>@EnableKafka\n@Service\npublic class consumerService {\n\n  @KafkaListener(topic = &quot;t&quot;, groupId = &quot;g&quot; containerFactory = &quot;fooContainerFactory&quot;)\n  public void consume1(Foo foo) {\n     logger.info(&quot;I got : &quot; + foo);\n  }\n\n  @KafkaListener(topic = &quot;t&quot;, groupId = &quot;g&quot; containerFactory = &quot;barContainerFactory&quot;)\n  public void consume2(Bar bar) {\n     logger.info(&quot;I got : &quot; + bar);\n  }\n\n}\n</code></pre>\n<p>The container factory for Foo is below, I have a similar one for Bar.</p>\n<pre><code>@Configuration\npublic class MyConsumerConfig {\n\n\n  @Value(value = &quot;${kafka.bootstrapAddress}&quot;)\n  private String bootstrapAddress;\n\n  @Value(value = &quot;${group.id}&quot;)\n  private String groupId;\n\n  public Map&lt;String, Object&gt; clickConsumerFactory() {\n    /** Set the consumer properties here */\n    Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\n    props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapAddress);\n    props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n    props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n    props.put(ConsumerConfig.GROUP_ID_CONFIG, groupId);\n    props.put(JsonDeserializer.TRUSTED_PACKAGES, &quot;*&quot;);\n    return props;\n  }\n\n  @Bean\n  public ConcurrentKafkaListenerContainerFactory&lt;String, Foo&gt; clickKafkaListenerContainerFactory() {\n    /** Listener factory for the class 'Foo' */\n    ConcurrentKafkaListenerContainerFactory&lt;String, Foo&gt; factory\n            = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n    factory.setConsumerFactory(new DefaultKafkaConsumerFactory&lt;&gt;(clickConsumerFactory()));\n    factory.setMessageConverter(new StringJsonMessageConverter());\n    factory.setErrorHandler(((exception, data) -&gt; LOGGER.info(&quot;There was an error &quot; + exception)));\n    return factory;\n  }\n}\n</code></pre>\n<p>I tried using KafkaHandler but I don't know how to specify the individual container factory(for Foo : FooContainerFactory, for Bar: BarContainerFactory)\nI am stuck at this for a few hours. Can somebody tell me what should I change?</p>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":1151383,"reputation":36217,"user_id":1133011,"accept_rate":96,"display_name":"David Kroukamp"},"score":4,"creation_date":1353528259,"post_id":13501142,"comment_id":18477767,"body_markdown":"see the answer for this question: http://stackoverflow.com/a/1075699/1133011","body":"see the answer for this question: <a href=\"http://stackoverflow.com/a/1075699/1133011\">stackoverflow.com/a/1075699/1133011</a>"},{"owner":{"account_id":3803543,"reputation":177,"user_id":3156526,"display_name":"Sahil Jain"},"score":0,"creation_date":1451657150,"post_id":13501142,"comment_id":56856466,"body_markdown":"See List.containsAll(list) in java","body":"See List.containsAll(list) in java"}],"answers":[{"tags":[],"owner":{"account_id":2402,"reputation":14054,"user_id":3340,"accept_rate":93,"display_name":"Jacob Schoen"},"down_vote_count":1,"up_vote_count":144,"is_accepted":true,"score":143,"last_activity_date":1353529823,"creation_date":1353528365,"answer_id":13501200,"question_id":13501142,"body_markdown":"You could sort both lists using `Collections.sort()` and then use the equals method. A slighly better solution is to first check if they are the same length before ordering, if they are not, then they are not equal, then sort, then use equals. For example if you had two lists of Strings it would be something like:\r\n\r\n    public  boolean equalLists(List&lt;String&gt; one, List&lt;String&gt; two){\t\t\r\n    \tif (one == null &amp;&amp; two == null){\r\n    \t\treturn true;\r\n    \t}\r\n\r\n    \tif((one == null &amp;&amp; two != null) \r\n    \t  || one != null &amp;&amp; two == null\r\n          || one.size() != two.size()){\r\n    \t\treturn false;\r\n    \t}\r\n\r\n        //to avoid messing the order of the lists we will use a copy\r\n        //as noted in comments by A. R. S.\r\n        one = new ArrayList&lt;String&gt;(one); \r\n        two = new ArrayList&lt;String&gt;(two);\t\r\n\t\r\n    \tCollections.sort(one);\r\n    \tCollections.sort(two);\t\t\r\n    \treturn one.equals(two);\r\n    }","title":"Java ArrayList - how can I tell if two lists are equal, order not mattering?","body":"<p>You could sort both lists using <code>Collections.sort()</code> and then use the equals method. A slighly better solution is to first check if they are the same length before ordering, if they are not, then they are not equal, then sort, then use equals. For example if you had two lists of Strings it would be something like:</p>\n\n<pre><code>public  boolean equalLists(List&lt;String&gt; one, List&lt;String&gt; two){     \n    if (one == null &amp;&amp; two == null){\n        return true;\n    }\n\n    if((one == null &amp;&amp; two != null) \n      || one != null &amp;&amp; two == null\n      || one.size() != two.size()){\n        return false;\n    }\n\n    //to avoid messing the order of the lists we will use a copy\n    //as noted in comments by A. R. S.\n    one = new ArrayList&lt;String&gt;(one); \n    two = new ArrayList&lt;String&gt;(two);   \n\n    Collections.sort(one);\n    Collections.sort(two);      \n    return one.equals(two);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1353539777,"creation_date":1353529366,"answer_id":13501494,"question_id":13501142,"body_markdown":"Think how you would do this yourself, absent a computer or programming language. I give you two lists of elements, and you have to tell me if they contain the same elements. How would you do it?\r\n\r\nOne approach, as mentioned above, is to sort the lists and then go element-by-element to see if they&#39;re equal (which is what `List.equals` does). This means either you&#39;re allowed to modify the lists or you&#39;re allowed to copy them -- and without knowing the assignment, I can&#39;t know if either/both of those are allowed.\r\n\r\nAnother approach would be to go through each list, counting how many times each element appears. If both lists have the same counts at the end, they have the same elements. The code for that would be to translate each list to a map of `elem -&gt; (# of times the elem appears in the list)` and then call `equals` on the two maps. If the maps are `HashMap`, each of those translations is an O(N) operation, as is the comparison. That&#39;s going to give you a pretty efficient algorithm in terms of time, at the cost of some extra memory.","title":"Java ArrayList - how can I tell if two lists are equal, order not mattering?","body":"<p>Think how you would do this yourself, absent a computer or programming language. I give you two lists of elements, and you have to tell me if they contain the same elements. How would you do it?</p>\n\n<p>One approach, as mentioned above, is to sort the lists and then go element-by-element to see if they're equal (which is what <code>List.equals</code> does). This means either you're allowed to modify the lists or you're allowed to copy them -- and without knowing the assignment, I can't know if either/both of those are allowed.</p>\n\n<p>Another approach would be to go through each list, counting how many times each element appears. If both lists have the same counts at the end, they have the same elements. The code for that would be to translate each list to a map of <code>elem -&gt; (# of times the elem appears in the list)</code> and then call <code>equals</code> on the two maps. If the maps are <code>HashMap</code>, each of those translations is an O(N) operation, as is the comparison. That's going to give you a pretty efficient algorithm in terms of time, at the cost of some extra memory.</p>\n"},{"tags":[],"owner":{"account_id":198822,"reputation":16528,"user_id":443716,"accept_rate":92,"display_name":"Isaac"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1528245609,"creation_date":1353530004,"answer_id":13501651,"question_id":13501142,"body_markdown":"If the cardinality of items doesn&#39;t matter (meaning: repeated elements are considered as one), then there is a way to do this without having to sort:\r\n\r\n`boolean result = new HashSet&lt;&gt;(listA).equals(new HashSet&lt;&gt;(listB));`\r\n\r\nThis will create a `Set` out of each `List`, and then use `HashSet`&#39;s `equals` method which (of course) disregards ordering.\r\n\r\nIf cardinality matters, then you must confine yourself to facilities provided by `List`; @jschoen&#39;s answer would be more fitting in that case.","title":"Java ArrayList - how can I tell if two lists are equal, order not mattering?","body":"<p>If the cardinality of items doesn't matter (meaning: repeated elements are considered as one), then there is a way to do this without having to sort:</p>\n\n<p><code>boolean result = new HashSet&lt;&gt;(listA).equals(new HashSet&lt;&gt;(listB));</code></p>\n\n<p>This will create a <code>Set</code> out of each <code>List</code>, and then use <code>HashSet</code>'s <code>equals</code> method which (of course) disregards ordering.</p>\n\n<p>If cardinality matters, then you must confine yourself to facilities provided by <code>List</code>; @jschoen's answer would be more fitting in that case.</p>\n"},{"tags":[],"owner":{"display_name":"user381105"},"down_vote_count":5,"up_vote_count":188,"is_accepted":false,"score":183,"last_activity_date":1353530038,"creation_date":1353530038,"answer_id":13501662,"question_id":13501142,"body_markdown":"Probably the easiest way for **any** list would be:\r\n\r\n    listA.containsAll(listB) &amp;&amp; listB.containsAll(listA)","title":"Java ArrayList - how can I tell if two lists are equal, order not mattering?","body":"<p>Probably the easiest way for <strong>any</strong> list would be:</p>\n\n<pre><code>listA.containsAll(listB) &amp;&amp; listB.containsAll(listA)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":124364,"reputation":85329,"user_id":319403,"accept_rate":75,"display_name":"cHao"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1503297130,"creation_date":1353531775,"answer_id":13502032,"question_id":13501142,"body_markdown":"    // helper class, so we don&#39;t have to do a whole lot of autoboxing\r\n    private static class Count {\r\n        public int count = 0;\r\n    }\r\n\r\n    public boolean haveSameElements(final List&lt;String&gt; list1, final List&lt;String&gt; list2) {\r\n        // (list1, list1) is always true\r\n        if (list1 == list2) return true;\r\n\r\n        // If either list is null, or the lengths are not equal, they can&#39;t possibly match \r\n        if (list1 == null || list2 == null || list1.size() != list2.size())\r\n            return false;\r\n\r\n        // (switch the two checks above if (null, null) should return false)\r\n\r\n        Map&lt;String, Count&gt; counts = new HashMap&lt;&gt;();\r\n\r\n        // Count the items in list1\r\n        for (String item : list1) {\r\n            if (!counts.containsKey(item)) counts.put(item, new Count());\r\n            counts.get(item).count += 1;\r\n        }\r\n\r\n        // Subtract the count of items in list2\r\n        for (String item : list2) {\r\n            // If the map doesn&#39;t contain the item here, then this item wasn&#39;t in list1\r\n            if (!counts.containsKey(item)) return false;\r\n            counts.get(item).count -= 1;\r\n        }\r\n    \r\n        // If any count is nonzero at this point, then the two lists don&#39;t match\r\n        for (Map.Entry&lt;String, Count&gt; entry : counts.entrySet()) {\r\n            if (entry.getValue().count != 0) return false;\r\n        }\r\n    \r\n        return true;\r\n    }","title":"Java ArrayList - how can I tell if two lists are equal, order not mattering?","body":"<pre><code>// helper class, so we don't have to do a whole lot of autoboxing\nprivate static class Count {\n    public int count = 0;\n}\n\npublic boolean haveSameElements(final List&lt;String&gt; list1, final List&lt;String&gt; list2) {\n    // (list1, list1) is always true\n    if (list1 == list2) return true;\n\n    // If either list is null, or the lengths are not equal, they can't possibly match \n    if (list1 == null || list2 == null || list1.size() != list2.size())\n        return false;\n\n    // (switch the two checks above if (null, null) should return false)\n\n    Map&lt;String, Count&gt; counts = new HashMap&lt;&gt;();\n\n    // Count the items in list1\n    for (String item : list1) {\n        if (!counts.containsKey(item)) counts.put(item, new Count());\n        counts.get(item).count += 1;\n    }\n\n    // Subtract the count of items in list2\n    for (String item : list2) {\n        // If the map doesn't contain the item here, then this item wasn't in list1\n        if (!counts.containsKey(item)) return false;\n        counts.get(item).count -= 1;\n    }\n\n    // If any count is nonzero at this point, then the two lists don't match\n    for (Map.Entry&lt;String, Count&gt; entry : counts.entrySet()) {\n        if (entry.getValue().count != 0) return false;\n    }\n\n    return true;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1252736,"reputation":625,"user_id":1212813,"accept_rate":50,"display_name":"DiddiZ"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1560428501,"creation_date":1385929891,"answer_id":20316900,"question_id":13501142,"body_markdown":"This is based on @cHao solution. I included several fixes and performance improvements. This runs roughly twice as fast the equals-ordered-copy solution. Works for any collection type. Empty collections and null are regarded as equal. Use to your advantage ;)\r\n\r\n\t/**\r\n\t * Returns if both {@link Collection Collections} contains the same elements, in the same quantities, regardless of order and collection type.\r\n\t * &lt;p&gt;\r\n\t * Empty collections and {@code null} are regarded as equal.\r\n\t */\r\n\tpublic static &lt;T&gt; boolean haveSameElements(Collection&lt;T&gt; col1, Collection&lt;T&gt; col2) {\r\n\t\tif (col1 == col2)\r\n\t\t\treturn true;\r\n\r\n\t\t// If either list is null, return whether the other is empty\r\n\t\tif (col1 == null)\r\n\t\t\treturn col2.isEmpty();\r\n\t\tif (col2 == null)\r\n\t\t\treturn col1.isEmpty();\r\n\r\n\t\t// If lengths are not equal, they can&#39;t possibly match\r\n\t\tif (col1.size() != col2.size())\r\n\t\t\treturn false;\r\n\r\n\t\t// Helper class, so we don&#39;t have to do a whole lot of autoboxing\r\n\t\tclass Count\r\n\t\t{\r\n\t\t\t// Initialize as 1, as we would increment it anyway\r\n\t\t\tpublic int count = 1;\r\n\t\t}\r\n\r\n\t\tfinal Map&lt;T, Count&gt; counts = new HashMap&lt;&gt;();\r\n\r\n\t\t// Count the items in col1\r\n\t\tfor (final T item : col1) {\r\n\t\t\tfinal Count count = counts.get(item);\r\n\t\t\tif (count != null)\r\n\t\t\t\tcount.count++;\r\n\t\t\telse\r\n\t\t\t\t// If the map doesn&#39;t contain the item, put a new count\r\n\t\t\t\tcounts.put(item, new Count());\r\n\t\t}\r\n\r\n\t\t// Subtract the count of items in col2\r\n\t\tfor (final T item : col2) {\r\n\t\t\tfinal Count count = counts.get(item);\r\n\t\t\t// If the map doesn&#39;t contain the item, or the count is already reduced to 0, the lists are unequal \r\n\t\t\tif (count == null || count.count == 0)\r\n\t\t\t\treturn false;\r\n\t\t\tcount.count--;\r\n\t\t}\r\n\r\n\t\t// At this point, both collections are equal.\r\n\t\t// Both have the same length, and for any counter to be unequal to zero, there would have to be an element in col2 which is not in col1, but this is checked in the second loop, as @holger pointed out.\r\n\t\treturn true;\r\n\t}","title":"Java ArrayList - how can I tell if two lists are equal, order not mattering?","body":"<p>This is based on @cHao solution. I included several fixes and performance improvements. This runs roughly twice as fast the equals-ordered-copy solution. Works for any collection type. Empty collections and null are regarded as equal. Use to your advantage ;)</p>\n\n<pre><code>/**\n * Returns if both {@link Collection Collections} contains the same elements, in the same quantities, regardless of order and collection type.\n * &lt;p&gt;\n * Empty collections and {@code null} are regarded as equal.\n */\npublic static &lt;T&gt; boolean haveSameElements(Collection&lt;T&gt; col1, Collection&lt;T&gt; col2) {\n    if (col1 == col2)\n        return true;\n\n    // If either list is null, return whether the other is empty\n    if (col1 == null)\n        return col2.isEmpty();\n    if (col2 == null)\n        return col1.isEmpty();\n\n    // If lengths are not equal, they can't possibly match\n    if (col1.size() != col2.size())\n        return false;\n\n    // Helper class, so we don't have to do a whole lot of autoboxing\n    class Count\n    {\n        // Initialize as 1, as we would increment it anyway\n        public int count = 1;\n    }\n\n    final Map&lt;T, Count&gt; counts = new HashMap&lt;&gt;();\n\n    // Count the items in col1\n    for (final T item : col1) {\n        final Count count = counts.get(item);\n        if (count != null)\n            count.count++;\n        else\n            // If the map doesn't contain the item, put a new count\n            counts.put(item, new Count());\n    }\n\n    // Subtract the count of items in col2\n    for (final T item : col2) {\n        final Count count = counts.get(item);\n        // If the map doesn't contain the item, or the count is already reduced to 0, the lists are unequal \n        if (count == null || count.count == 0)\n            return false;\n        count.count--;\n    }\n\n    // At this point, both collections are equal.\n    // Both have the same length, and for any counter to be unequal to zero, there would have to be an element in col2 which is not in col1, but this is checked in the second loop, as @holger pointed out.\n    return true;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3922539,"reputation":21,"user_id":3244232,"display_name":"maxdanilkin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1390907524,"creation_date":1390907524,"answer_id":21404019,"question_id":13501142,"body_markdown":"Solution which leverages CollectionUtils subtract method:\r\n\r\n    import static org.apache.commons.collections15.CollectionUtils.subtract;\r\n\r\n    public class CollectionUtils {\r\n      static public &lt;T&gt; boolean equals(Collection&lt;? extends T&gt; a, Collection&lt;? extends T&gt; b) {\r\n        if (a == null &amp;&amp; b == null)\r\n          return true;\r\n        if (a == null || b == null || a.size() != b.size())\r\n          return false;\r\n        return subtract(a, b).size() == 0 &amp;&amp; subtract(a, b).size() == 0;\r\n      }\r\n    }","title":"Java ArrayList - how can I tell if two lists are equal, order not mattering?","body":"<p>Solution which leverages CollectionUtils subtract method:</p>\n\n<pre><code>import static org.apache.commons.collections15.CollectionUtils.subtract;\n\npublic class CollectionUtils {\n  static public &lt;T&gt; boolean equals(Collection&lt;? extends T&gt; a, Collection&lt;? extends T&gt; b) {\n    if (a == null &amp;&amp; b == null)\n      return true;\n    if (a == null || b == null || a.size() != b.size())\n      return false;\n    return subtract(a, b).size() == 0 &amp;&amp; subtract(a, b).size() == 0;\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2077773,"reputation":133288,"user_id":1850609,"display_name":"acdcjunior"},"down_vote_count":0,"up_vote_count":110,"is_accepted":false,"score":110,"last_activity_date":1667218549,"creation_date":1395690792,"answer_id":22619319,"question_id":13501142,"body_markdown":"**Apache [Commons Collections][1]** to the rescue once again:\r\n\r\n\tList&lt;String&gt; listA = Arrays.asList(&quot;a&quot;, &quot;b&quot;, &quot;b&quot;, &quot;c&quot;);\r\n\tList&lt;String&gt; listB = Arrays.asList(&quot;b&quot;, &quot;c&quot;, &quot;a&quot;, &quot;b&quot;);\r\n\tSystem.out.println(CollectionUtils.isEqualCollection(listA, listB)); // true\r\n\r\n\tList&lt;String&gt; listC = Arrays.asList(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;);\r\n\tList&lt;String&gt; listD = Arrays.asList(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;c&quot;);\r\n\tSystem.out.println(CollectionUtils.isEqualCollection(listC, listD)); // false\r\n\r\n---\r\n### Docs:\r\n\r\n[`org.apache.commons.collections4.CollectionUtils`][2]\r\n\r\n&gt;     public static boolean isEqualCollection(java.util.Collection a,\r\n&gt;                                             java.util.Collection b)\r\n&gt; &lt;/strong&gt;\r\n&gt; Returns `true` iff the given `Collection`s contain exactly the same\r\n&gt; elements with exactly the same cardinalities.\r\n\r\n&gt; That is, iff the\r\n&gt; cardinality of *e* in *a* is equal to the cardinality of *e* in *b*, for each\r\n&gt; element *e* in *a* or *b*.\r\n&gt; \r\n&gt; **Parameters:**\r\n&gt;\r\n&gt; - `a` - the first collection, must not be `null`\r\n&gt; - `b` - the second\r\n&gt; collection, must not be `null`\r\n&gt;\r\n&gt; **Returns:**  **`true` iff the collections contain\r\n&gt; the same elements with the same cardinalities.**\r\n\r\n\r\n  [1]: http://commons.apache.org/proper/commons-collections/\r\n  [2]: https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/CollectionUtils.html#isEqualCollection-java.util.Collection-java.util.Collection-","title":"Java ArrayList - how can I tell if two lists are equal, order not mattering?","body":"<p><strong>Apache <a href=\"http://commons.apache.org/proper/commons-collections/\" rel=\"noreferrer\">Commons Collections</a></strong> to the rescue once again:</p>\n<pre><code>List&lt;String&gt; listA = Arrays.asList(&quot;a&quot;, &quot;b&quot;, &quot;b&quot;, &quot;c&quot;);\nList&lt;String&gt; listB = Arrays.asList(&quot;b&quot;, &quot;c&quot;, &quot;a&quot;, &quot;b&quot;);\nSystem.out.println(CollectionUtils.isEqualCollection(listA, listB)); // true\n\nList&lt;String&gt; listC = Arrays.asList(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;);\nList&lt;String&gt; listD = Arrays.asList(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;c&quot;);\nSystem.out.println(CollectionUtils.isEqualCollection(listC, listD)); // false\n</code></pre>\n<hr />\n<h3>Docs:</h3>\n<p><a href=\"https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/CollectionUtils.html#isEqualCollection-java.util.Collection-java.util.Collection-\" rel=\"noreferrer\"><code>org.apache.commons.collections4.CollectionUtils</code></a></p>\n<blockquote>\n<pre><code>public static boolean isEqualCollection(java.util.Collection a,\n                                        java.util.Collection b)\n</code></pre>\n\nReturns `true` iff the given `Collection`s contain exactly the same\nelements with exactly the same cardinalities.\n</blockquote>\n<blockquote>\n<p>That is, iff the\ncardinality of <em>e</em> in <em>a</em> is equal to the cardinality of <em>e</em> in <em>b</em>, for each\nelement <em>e</em> in <em>a</em> or <em>b</em>.</p>\n<p><strong>Parameters:</strong></p>\n<ul>\n<li><code>a</code> - the first collection, must not be <code>null</code></li>\n<li><code>b</code> - the second\ncollection, must not be <code>null</code></li>\n</ul>\n<p><strong>Returns:</strong>  <strong><code>true</code> iff the collections contain\nthe same elements with the same cardinalities.</strong></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1602384,"reputation":162,"user_id":1483200,"display_name":"Chalkos"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1439424453,"creation_date":1437741064,"answer_id":31610626,"question_id":13501142,"body_markdown":"I had this same problem and came up with a different solution. This one also works when duplicates are involved:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    public static boolean equalsWithoutOrder(List&lt;?&gt; fst, List&lt;?&gt; snd){\r\n      if(fst != null &amp;&amp; snd != null){\r\n        if(fst.size() == snd.size()){\r\n          // create copied lists so the original list is not modified\r\n          List&lt;?&gt; cfst = new ArrayList&lt;Object&gt;(fst);\r\n          List&lt;?&gt; csnd = new ArrayList&lt;Object&gt;(snd);\r\n\r\n          Iterator&lt;?&gt; ifst = cfst.iterator();\r\n          boolean foundEqualObject;\r\n          while( ifst.hasNext() ){\r\n            Iterator&lt;?&gt; isnd = csnd.iterator();\r\n            foundEqualObject = false;\r\n            while( isnd.hasNext() ){\r\n              if( ifst.next().equals(isnd.next()) ){\r\n                ifst.remove();\r\n                isnd.remove();\r\n                foundEqualObject = true;\r\n                break;\r\n              }\r\n            }\r\n\r\n            if( !foundEqualObject ){\r\n              // fail early\r\n              break;\r\n            }\r\n          }\r\n          if(cfst.isEmpty()){ //both temporary lists have the same size\r\n            return true;\r\n          }\r\n        }\r\n      }else if( fst == null &amp;&amp; snd == null ){\r\n        return true;\r\n      }\r\n      return false;\r\n    }\r\n\r\nAdvantages compared to some other solutions:\r\n\r\n - less than O(N&#178;) complexity (although I have not tested it&#39;s real performance comparing to solutions in other answers here);\r\n - exits early;\r\n - checks for null;\r\n - works even when duplicates are involved: if you have an array `[1,2,3,3]` and another array `[1,2,2,3]` most solutions here tell you they are the same when not considering the order. This solution avoids this by removing equal elements from the temporary lists;\r\n - uses semantic equality (`equals`) and not reference equality (`==`);\r\n - does not sort itens, so they don&#39;t need to be sortable (by `implement Comparable`) for this solution to work.","title":"Java ArrayList - how can I tell if two lists are equal, order not mattering?","body":"<p>I had this same problem and came up with a different solution. This one also works when duplicates are involved:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public static boolean equalsWithoutOrder(List&lt;?&gt; fst, List&lt;?&gt; snd){\n  if(fst != null &amp;&amp; snd != null){\n    if(fst.size() == snd.size()){\n      // create copied lists so the original list is not modified\n      List&lt;?&gt; cfst = new ArrayList&lt;Object&gt;(fst);\n      List&lt;?&gt; csnd = new ArrayList&lt;Object&gt;(snd);\n\n      Iterator&lt;?&gt; ifst = cfst.iterator();\n      boolean foundEqualObject;\n      while( ifst.hasNext() ){\n        Iterator&lt;?&gt; isnd = csnd.iterator();\n        foundEqualObject = false;\n        while( isnd.hasNext() ){\n          if( ifst.next().equals(isnd.next()) ){\n            ifst.remove();\n            isnd.remove();\n            foundEqualObject = true;\n            break;\n          }\n        }\n\n        if( !foundEqualObject ){\n          // fail early\n          break;\n        }\n      }\n      if(cfst.isEmpty()){ //both temporary lists have the same size\n        return true;\n      }\n    }\n  }else if( fst == null &amp;&amp; snd == null ){\n    return true;\n  }\n  return false;\n}\n</code></pre>\n\n<p>Advantages compared to some other solutions:</p>\n\n<ul>\n<li>less than O(N²) complexity (although I have not tested it's real performance comparing to solutions in other answers here);</li>\n<li>exits early;</li>\n<li>checks for null;</li>\n<li>works even when duplicates are involved: if you have an array <code>[1,2,3,3]</code> and another array <code>[1,2,2,3]</code> most solutions here tell you they are the same when not considering the order. This solution avoids this by removing equal elements from the temporary lists;</li>\n<li>uses semantic equality (<code>equals</code>) and not reference equality (<code>==</code>);</li>\n<li>does not sort itens, so they don't need to be sortable (by <code>implement Comparable</code>) for this solution to work.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":4649367,"reputation":2260,"user_id":3766649,"accept_rate":90,"display_name":"jazzgil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1452296707,"creation_date":1452254410,"answer_id":34676652,"question_id":13501142,"body_markdown":"Best of both worlds [@DiddiZ, @Chalkos]: this one mainly builds upon @Chalkos method, but fixes a bug (ifst.next()), and improves initial checks (taken from @DiddiZ) as well as removes the need to copy the first collection (just removes items from a copy of the second collection).\r\n\r\nNot requiring a hashing function or sorting, and enabling an early exist on un-equality, this is the most efficient implementation yet. That is unless you have a collection length in the thousands or more, and a very simple hashing function.\r\n\r\n    public static &lt;T&gt; boolean isCollectionMatch(Collection&lt;T&gt; one, Collection&lt;T&gt; two) {\r\n        if (one == two)\r\n            return true;\r\n\r\n        // If either list is null, return whether the other is empty\r\n        if (one == null)\r\n            return two.isEmpty();\r\n        if (two == null)\r\n            return one.isEmpty();\r\n\r\n        // If lengths are not equal, they can&#39;t possibly match\r\n        if (one.size() != two.size())\r\n            return false;\r\n\r\n        // copy the second list, so it can be modified\r\n        final List&lt;T&gt; ctwo = new ArrayList&lt;&gt;(two);\r\n\r\n        for (T itm : one) {\r\n            Iterator&lt;T&gt; it = ctwo.iterator();\r\n            boolean gotEq = false;\r\n            while (it.hasNext()) {\r\n                if (itm.equals(it.next())) {\r\n                    it.remove();\r\n                    gotEq = true;\r\n                    break;\r\n                }\r\n            }\r\n            if (!gotEq) return false;\r\n        }\r\n        // All elements in one were found in two, and they&#39;re the same size.\r\n        return true;\r\n    }","title":"Java ArrayList - how can I tell if two lists are equal, order not mattering?","body":"<p>Best of both worlds [@DiddiZ, @Chalkos]: this one mainly builds upon @Chalkos method, but fixes a bug (ifst.next()), and improves initial checks (taken from @DiddiZ) as well as removes the need to copy the first collection (just removes items from a copy of the second collection).</p>\n\n<p>Not requiring a hashing function or sorting, and enabling an early exist on un-equality, this is the most efficient implementation yet. That is unless you have a collection length in the thousands or more, and a very simple hashing function.</p>\n\n<pre><code>public static &lt;T&gt; boolean isCollectionMatch(Collection&lt;T&gt; one, Collection&lt;T&gt; two) {\n    if (one == two)\n        return true;\n\n    // If either list is null, return whether the other is empty\n    if (one == null)\n        return two.isEmpty();\n    if (two == null)\n        return one.isEmpty();\n\n    // If lengths are not equal, they can't possibly match\n    if (one.size() != two.size())\n        return false;\n\n    // copy the second list, so it can be modified\n    final List&lt;T&gt; ctwo = new ArrayList&lt;&gt;(two);\n\n    for (T itm : one) {\n        Iterator&lt;T&gt; it = ctwo.iterator();\n        boolean gotEq = false;\n        while (it.hasNext()) {\n            if (itm.equals(it.next())) {\n                it.remove();\n                gotEq = true;\n                break;\n            }\n        }\n        if (!gotEq) return false;\n    }\n    // All elements in one were found in two, and they're the same size.\n    return true;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1063749,"reputation":14067,"user_id":1064809,"accept_rate":70,"display_name":"Natix"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1463157281,"creation_date":1463142361,"answer_id":37210041,"question_id":13501142,"body_markdown":"Converting the lists to Guava&#39;s [Multiset][1] works very well. They are compared regardless of their order and duplicate elements are taken into account as well.\r\n\r\n    static &lt;T&gt; boolean equalsIgnoreOrder(List&lt;T&gt; a, List&lt;T&gt; b) {\r\n        return ImmutableMultiset.copyOf(a).equals(ImmutableMultiset.copyOf(b));\r\n    }\r\n\r\n    assert equalsIgnoreOrder(ImmutableList.of(3, 1, 2), ImmutableList.of(2, 1, 3));\r\n    assert !equalsIgnoreOrder(ImmutableList.of(1), ImmutableList.of(1, 1));\r\n\r\n\r\n  [1]: http://google.github.io/guava/releases/19.0/api/docs/com/google/common/collect/Multiset.html","title":"Java ArrayList - how can I tell if two lists are equal, order not mattering?","body":"<p>Converting the lists to Guava's <a href=\"http://google.github.io/guava/releases/19.0/api/docs/com/google/common/collect/Multiset.html\" rel=\"noreferrer\">Multiset</a> works very well. They are compared regardless of their order and duplicate elements are taken into account as well.</p>\n\n<pre><code>static &lt;T&gt; boolean equalsIgnoreOrder(List&lt;T&gt; a, List&lt;T&gt; b) {\n    return ImmutableMultiset.copyOf(a).equals(ImmutableMultiset.copyOf(b));\n}\n\nassert equalsIgnoreOrder(ImmutableList.of(3, 1, 2), ImmutableList.of(2, 1, 3));\nassert !equalsIgnoreOrder(ImmutableList.of(1), ImmutableList.of(1, 1));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2023117,"reputation":8402,"user_id":1808829,"accept_rate":80,"display_name":"Ayaz Alifov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1470148090,"creation_date":1470148090,"answer_id":38723239,"question_id":13501142,"body_markdown":"It is an alternative way to check equality of array lists which can contain null values:\r\n\r\n    List listA = Arrays.asList(null, &quot;b&quot;, &quot;c&quot;);\r\n    List listB = Arrays.asList(&quot;b&quot;, &quot;c&quot;, null);\r\n    \r\n    System.out.println(checkEquality(listA, listB)); // will return TRUE\r\n    \r\n    \r\n    private List&lt;String&gt; getSortedArrayList(List&lt;String&gt; arrayList)\r\n    {\r\n        String[] array = arrayList.toArray(new String[arrayList.size()]);\r\n    \r\n        Arrays.sort(array, new Comparator&lt;String&gt;()\r\n        {\r\n            @Override\r\n            public int compare(String o1, String o2)\r\n            {\r\n                if (o1 == null &amp;&amp; o2 == null)\r\n                {\r\n                    return 0;\r\n                }\r\n                if (o1 == null)\r\n                {\r\n                    return 1;\r\n                }\r\n                if (o2 == null)\r\n                {\r\n                    return -1;\r\n                }\r\n                return o1.compareTo(o2);\r\n            }\r\n        });\r\n    \r\n        return new ArrayList(Arrays.asList(array));\r\n    }\r\n    \r\n    private Boolean checkEquality(List&lt;String&gt; listA, List&lt;String&gt; listB)\r\n    {\r\n        listA = getSortedArrayList(listA);\r\n        listB = getSortedArrayList(listB);\r\n    \r\n        String[] arrayA = listA.toArray(new String[listA.size()]);\r\n        String[] arrayB = listB.toArray(new String[listB.size()]);\r\n    \r\n        return Arrays.deepEquals(arrayA, arrayB);\r\n    }","title":"Java ArrayList - how can I tell if two lists are equal, order not mattering?","body":"<p>It is an alternative way to check equality of array lists which can contain null values:</p>\n\n<pre><code>List listA = Arrays.asList(null, \"b\", \"c\");\nList listB = Arrays.asList(\"b\", \"c\", null);\n\nSystem.out.println(checkEquality(listA, listB)); // will return TRUE\n\n\nprivate List&lt;String&gt; getSortedArrayList(List&lt;String&gt; arrayList)\n{\n    String[] array = arrayList.toArray(new String[arrayList.size()]);\n\n    Arrays.sort(array, new Comparator&lt;String&gt;()\n    {\n        @Override\n        public int compare(String o1, String o2)\n        {\n            if (o1 == null &amp;&amp; o2 == null)\n            {\n                return 0;\n            }\n            if (o1 == null)\n            {\n                return 1;\n            }\n            if (o2 == null)\n            {\n                return -1;\n            }\n            return o1.compareTo(o2);\n        }\n    });\n\n    return new ArrayList(Arrays.asList(array));\n}\n\nprivate Boolean checkEquality(List&lt;String&gt; listA, List&lt;String&gt; listB)\n{\n    listA = getSortedArrayList(listA);\n    listB = getSortedArrayList(listB);\n\n    String[] arrayA = listA.toArray(new String[listA.size()]);\n    String[] arrayB = listB.toArray(new String[listB.size()]);\n\n    return Arrays.deepEquals(arrayA, arrayB);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7186697,"reputation":1239,"user_id":5488423,"display_name":"Ramesh Bhati"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1542695512,"creation_date":1479993190,"answer_id":40787355,"question_id":13501142,"body_markdown":"If you care about order, then just use the equals method:\r\n\r\n    list1.equals(list2)\r\n\r\nIf you don&#39;t care order then use this\r\n\r\n    Collections.sort(list1);\r\n    Collections.sort(list2);      \r\n    list1.equals(list2)","title":"Java ArrayList - how can I tell if two lists are equal, order not mattering?","body":"<p>If you care about order, then just use the equals method:</p>\n\n<pre><code>list1.equals(list2)\n</code></pre>\n\n<p>If you don't care order then use this</p>\n\n<pre><code>Collections.sort(list1);\nCollections.sort(list2);      \nlist1.equals(list2)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":703628,"reputation":14438,"user_id":595305,"accept_rate":83,"display_name":"mike rodent"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1587648496,"creation_date":1481315109,"answer_id":41068319,"question_id":13501142,"body_markdown":"I&#39;d say these answers miss a trick.\r\n\r\nBloch, in his essential, wonderful, concise [Effective Java][1], says, in item 47, title &quot;Know and use the libraries&quot;, &quot;To summarize, don&#39;t reinvent the wheel&quot;. And he gives several very clear reasons why not.\r\n\r\nThere are a few answers here which suggest methods from `CollectionUtils` in the Apache Commons Collections library but none has spotted [the most beautiful, elegant way of answering this question][2]:\r\n\r\n    Collection&lt;Object&gt; culprits = CollectionUtils.disjunction( list1, list2 );\r\n    if( ! culprits.isEmpty() ){\r\n      // ... do something with the culprits, i.e. elements which are not common\r\n    \r\n    }\r\n\r\n**Culprits**: i.e. the elements which are not common to both `Lists`. Determining which culprits belong to `list1` and which to `list2` is relatively straightforward using `CollectionUtils.intersection( list1, culprits )` and `CollectionUtils.intersection( list2, culprits )`.  \r\nHowever it tends to fall apart in cases like { &quot;a&quot;, &quot;a&quot;, &quot;b&quot; } `disjunction` with { &quot;a&quot;, &quot;b&quot;, &quot;b&quot; } ... except this is not a failing of the software, but inherent to the nature of the subtleties/ambiguities of the desired task.\r\n\r\nYou can always examine the [source code][3] (l. 287) for a task like this, as produced by the Apache engineers. One benefit of using their code is that it will have been thoroughly tried and tested, with many edge cases and gotchas anticipated and dealt with. You can copy and tweak this code to your heart&#39;s content if need be.\r\n\r\n----------\r\n\r\nNB I was at first disappointed that none of the `CollectionUtils` methods provides an overloaded version enabling you to impose your own `Comparator` (so you can redefine `equals` to suit your purposes).\r\n\r\nBut from collections4 4.0 there is a new class, `Equator` which &quot;determines equality between objects of type T&quot;. On examination of the source code of collections4 CollectionUtils.java they seem to be using this with some methods, but as far as I can make out this is not applicable to the methods at the top of the file, using the `CardinalityHelper` class... which include `disjunction` and `intersection`.  \r\n\r\nI surmise that the Apache people haven&#39;t got around to this yet because it is non-trivial: you would have to create something like an &quot;AbstractEquatingCollection&quot; class, which instead of using its elements&#39; inherent `equals` and `hashCode` methods would instead have to use those of `Equator` for all the basic methods, such as `add`, `contains`, etc.  NB in fact when you look at the source code, `AbstractCollection` does not implement `add`, nor do its abstract subclasses such as `AbstractSet`... you have to wait till the concrete classes such as `HashSet` and `ArrayList` before `add` is implemented.  Quite a headache.\r\n\r\nIn the mean time watch this space, I suppose. The obvious interim solution would be to wrap all your elements in a bespoke wrapper class which uses `equals` and `hashCode` to implement the kind of equality you want... then manipulate `Collections` of these wrapper objects.\r\n\r\n\r\n  [1]: https://www.amazon.co.uk/Effective-Java-Second-Joshua-Bloch/dp/0321356683\r\n  [2]: https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/CollectionUtils.html#disjunction-java.lang.Iterable-java.lang.Iterable-\r\n  [3]: https://commons.apache.org/proper/commons-collections/apidocs/src-html/org/apache/commons/collections4/CollectionUtils.html","title":"Java ArrayList - how can I tell if two lists are equal, order not mattering?","body":"<p>I'd say these answers miss a trick.</p>\n\n<p>Bloch, in his essential, wonderful, concise <a href=\"https://www.amazon.co.uk/Effective-Java-Second-Joshua-Bloch/dp/0321356683\" rel=\"noreferrer\">Effective Java</a>, says, in item 47, title \"Know and use the libraries\", \"To summarize, don't reinvent the wheel\". And he gives several very clear reasons why not.</p>\n\n<p>There are a few answers here which suggest methods from <code>CollectionUtils</code> in the Apache Commons Collections library but none has spotted <a href=\"https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/CollectionUtils.html#disjunction-java.lang.Iterable-java.lang.Iterable-\" rel=\"noreferrer\">the most beautiful, elegant way of answering this question</a>:</p>\n\n<pre><code>Collection&lt;Object&gt; culprits = CollectionUtils.disjunction( list1, list2 );\nif( ! culprits.isEmpty() ){\n  // ... do something with the culprits, i.e. elements which are not common\n\n}\n</code></pre>\n\n<p><strong>Culprits</strong>: i.e. the elements which are not common to both <code>Lists</code>. Determining which culprits belong to <code>list1</code> and which to <code>list2</code> is relatively straightforward using <code>CollectionUtils.intersection( list1, culprits )</code> and <code>CollectionUtils.intersection( list2, culprits )</code>.<br>\nHowever it tends to fall apart in cases like { \"a\", \"a\", \"b\" } <code>disjunction</code> with { \"a\", \"b\", \"b\" } ... except this is not a failing of the software, but inherent to the nature of the subtleties/ambiguities of the desired task.</p>\n\n<p>You can always examine the <a href=\"https://commons.apache.org/proper/commons-collections/apidocs/src-html/org/apache/commons/collections4/CollectionUtils.html\" rel=\"noreferrer\">source code</a> (l. 287) for a task like this, as produced by the Apache engineers. One benefit of using their code is that it will have been thoroughly tried and tested, with many edge cases and gotchas anticipated and dealt with. You can copy and tweak this code to your heart's content if need be.</p>\n\n<hr>\n\n<p>NB I was at first disappointed that none of the <code>CollectionUtils</code> methods provides an overloaded version enabling you to impose your own <code>Comparator</code> (so you can redefine <code>equals</code> to suit your purposes).</p>\n\n<p>But from collections4 4.0 there is a new class, <code>Equator</code> which \"determines equality between objects of type T\". On examination of the source code of collections4 CollectionUtils.java they seem to be using this with some methods, but as far as I can make out this is not applicable to the methods at the top of the file, using the <code>CardinalityHelper</code> class... which include <code>disjunction</code> and <code>intersection</code>.  </p>\n\n<p>I surmise that the Apache people haven't got around to this yet because it is non-trivial: you would have to create something like an \"AbstractEquatingCollection\" class, which instead of using its elements' inherent <code>equals</code> and <code>hashCode</code> methods would instead have to use those of <code>Equator</code> for all the basic methods, such as <code>add</code>, <code>contains</code>, etc.  NB in fact when you look at the source code, <code>AbstractCollection</code> does not implement <code>add</code>, nor do its abstract subclasses such as <code>AbstractSet</code>... you have to wait till the concrete classes such as <code>HashSet</code> and <code>ArrayList</code> before <code>add</code> is implemented.  Quite a headache.</p>\n\n<p>In the mean time watch this space, I suppose. The obvious interim solution would be to wrap all your elements in a bespoke wrapper class which uses <code>equals</code> and <code>hashCode</code> to implement the kind of equality you want... then manipulate <code>Collections</code> of these wrapper objects.</p>\n"},{"tags":[],"owner":{"account_id":3766160,"reputation":2568,"user_id":3129644,"accept_rate":83,"display_name":"Andrew"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1481553562,"creation_date":1481553562,"answer_id":41103286,"question_id":13501142,"body_markdown":"In that case lists {&quot;a&quot;, &quot;b&quot;} and {&quot;b&quot;,&quot;a&quot;} are equal. And {&quot;a&quot;, &quot;b&quot;} and {&quot;b&quot;,&quot;a&quot;,&quot;c&quot;} are not equal. If you use list of complex objects, remember to override *equals* method, as *containsAll* uses it inside.\r\n\r\n    if (oneList.size() == secondList.size() &amp;&amp; oneList.containsAll(secondList)){\r\n            areEqual = true;\r\n    }","title":"Java ArrayList - how can I tell if two lists are equal, order not mattering?","body":"<p>In that case lists {\"a\", \"b\"} and {\"b\",\"a\"} are equal. And {\"a\", \"b\"} and {\"b\",\"a\",\"c\"} are not equal. If you use list of complex objects, remember to override <em>equals</em> method, as <em>containsAll</em> uses it inside.</p>\n\n<pre><code>if (oneList.size() == secondList.size() &amp;&amp; oneList.containsAll(secondList)){\n        areEqual = true;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2386817,"reputation":15505,"user_id":2087628,"accept_rate":42,"display_name":"JaskeyLam"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1487580865,"creation_date":1487580865,"answer_id":42340076,"question_id":13501142,"body_markdown":"If you don&#39;t hope to sort the collections and you need the result that [&quot;A&quot; &quot;B&quot; &quot;C&quot;] is not equals to [&quot;B&quot; &quot;B&quot; &quot;A&quot; &quot;C&quot;],\r\n\r\n    l1.containsAll(l2)&amp;&amp;l2.containsAll(l1)\r\n\r\nis not enough, you propably need to check the size too :\r\n\r\n\r\n        List&lt;String&gt; l1 =Arrays.asList(&quot;A&quot;,&quot;A&quot;,&quot;B&quot;,&quot;C&quot;);\r\n        List&lt;String&gt; l2 =Arrays.asList(&quot;A&quot;,&quot;B&quot;,&quot;C&quot;);\r\n        List&lt;String&gt; l3 =Arrays.asList(&quot;A&quot;,&quot;B&quot;,&quot;C&quot;);\r\n\r\n        System.out.println(l1.containsAll(l2)&amp;&amp;l2.containsAll(l1));//cautions, this will be true\r\n        System.out.println(isListEqualsWithoutOrder(l1,l2));//false as expected\r\n\r\n        System.out.println(l3.containsAll(l2)&amp;&amp;l2.containsAll(l3));//true as expected\r\n        System.out.println(isListEqualsWithoutOrder(l2,l3));//true as expected\r\n    \r\n\r\n        public static boolean isListEqualsWithoutOrder(List&lt;String&gt; l1, List&lt;String&gt; l2) {\r\n            return l1.size()==l2.size() &amp;&amp; l1.containsAll(l2)&amp;&amp;l2.containsAll(l1);\r\n    }","title":"Java ArrayList - how can I tell if two lists are equal, order not mattering?","body":"<p>If you don't hope to sort the collections and you need the result that [\"A\" \"B\" \"C\"] is not equals to [\"B\" \"B\" \"A\" \"C\"],</p>\n\n<pre><code>l1.containsAll(l2)&amp;&amp;l2.containsAll(l1)\n</code></pre>\n\n<p>is not enough, you propably need to check the size too :</p>\n\n<pre><code>    List&lt;String&gt; l1 =Arrays.asList(\"A\",\"A\",\"B\",\"C\");\n    List&lt;String&gt; l2 =Arrays.asList(\"A\",\"B\",\"C\");\n    List&lt;String&gt; l3 =Arrays.asList(\"A\",\"B\",\"C\");\n\n    System.out.println(l1.containsAll(l2)&amp;&amp;l2.containsAll(l1));//cautions, this will be true\n    System.out.println(isListEqualsWithoutOrder(l1,l2));//false as expected\n\n    System.out.println(l3.containsAll(l2)&amp;&amp;l2.containsAll(l3));//true as expected\n    System.out.println(isListEqualsWithoutOrder(l2,l3));//true as expected\n\n\n    public static boolean isListEqualsWithoutOrder(List&lt;String&gt; l1, List&lt;String&gt; l2) {\n        return l1.size()==l2.size() &amp;&amp; l1.containsAll(l2)&amp;&amp;l2.containsAll(l1);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2089941,"reputation":2087,"user_id":3097425,"accept_rate":55,"display_name":"C&#237;cero Moura"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1546482191,"creation_date":1546482191,"answer_id":54015561,"question_id":13501142,"body_markdown":"My solution for this. It is not so cool, but works well.\r\n\r\n    public static boolean isEqualCollection(List&lt;?&gt; a, List&lt;?&gt; b) {\r\n\r\n        if (a == null || b == null) {\r\n            throw new NullPointerException(&quot;The list a and b must be not null.&quot;);\r\n        }\r\n\r\n        if (a.size() != b.size()) {\r\n            return false;\r\n        }\r\n\r\n        List&lt;?&gt; bCopy = new ArrayList&lt;Object&gt;(b);\r\n\r\n        for (int i = 0; i &lt; a.size(); i++) {\r\n\r\n            for (int j = 0; j &lt; bCopy.size(); j++) {\r\n                if (a.get(i).equals(bCopy.get(j))) {\r\n                    bCopy.remove(j);\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n\r\n        return bCopy.isEmpty();\r\n    }","title":"Java ArrayList - how can I tell if two lists are equal, order not mattering?","body":"<p>My solution for this. It is not so cool, but works well.</p>\n\n<pre><code>public static boolean isEqualCollection(List&lt;?&gt; a, List&lt;?&gt; b) {\n\n    if (a == null || b == null) {\n        throw new NullPointerException(\"The list a and b must be not null.\");\n    }\n\n    if (a.size() != b.size()) {\n        return false;\n    }\n\n    List&lt;?&gt; bCopy = new ArrayList&lt;Object&gt;(b);\n\n    for (int i = 0; i &lt; a.size(); i++) {\n\n        for (int j = 0; j &lt; bCopy.size(); j++) {\n            if (a.get(i).equals(bCopy.get(j))) {\n                bCopy.remove(j);\n                break;\n            }\n        }\n    }\n\n    return bCopy.isEmpty();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8621303,"reputation":1202,"user_id":6456129,"display_name":"Yessy"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1602338344,"creation_date":1600228018,"answer_id":63912820,"question_id":13501142,"body_markdown":"One-line method :)\r\n\r\n1. Collection&#39;s items NOT implement the interface Comparable&lt;? super T&gt;\r\n\r\n        static boolean isEqualCollection(Collection&lt;?&gt; a, Collection&lt;?&gt; b) {\r\n            return a == b || (a != null &amp;&amp; b != null &amp;&amp; a.size() == b.size()\r\n                &amp;&amp; a.stream().collect(Collectors.toMap(Function.identity(), s -&gt; 1L, Long::sum)).equals(b.stream().collect(Collectors.toMap(Function.identity(), s -&gt; 1L, Long::sum))));\r\n        }\r\n\r\n2. Collection&#39;s items implement the interface Comparable&lt;? super T&gt;\r\n\r\n        static &lt;T extends Comparable&lt;? super T&gt;&gt; boolean  isEqualCollection2(Collection&lt;T&gt; a, Collection&lt;T&gt; b) {\r\n          return a == b || (a != null &amp;&amp; b != null &amp;&amp; a.size() == b.size() &amp;&amp; a.stream().sorted().collect(Collectors.toList()).equals(b.stream().sorted().collect(Collectors.toList())));\r\n        }\r\n\r\n3. support Android5 &amp; Android6 via https://github.com/retrostreams/android-retrostreams\r\n\r\n\r\n\r\n\r\n\r\n       static boolean isEqualCollection(Collection&lt;?&gt; a, Collection&lt;?&gt; b) {\r\n        return a == b || (a != null &amp;&amp; b != null &amp;&amp; a.size() == b.size()\r\n                &amp;&amp; StreamSupport.stream(a).collect(Collectors.toMap(Function.identity(), s-&gt;1L, Longs::sum)).equals(StreamSupport.stream(b).collect(Collectors.toMap(Function.identity(), s-&gt;1L, Longs::sum))));\r\n       }\r\n\r\n\r\n////Test case\r\n\r\n        boolean isEquals1 = isEqualCollection(null, null); //true\r\n        boolean isEquals2 = isEqualCollection(null, Arrays.asList(&quot;1&quot;, &quot;2&quot;)); //false\r\n        boolean isEquals3 = isEqualCollection(Arrays.asList(&quot;1&quot;, &quot;2&quot;), null); //false\r\n        boolean isEquals4 = isEqualCollection(Arrays.asList(&quot;1&quot;, &quot;2&quot;, &quot;2&quot;), Arrays.asList(&quot;1&quot;, &quot;1&quot;, &quot;2&quot;)); //false\r\n        boolean isEquals5 = isEqualCollection(Arrays.asList(&quot;1&quot;, &quot;2&quot;), Arrays.asList(&quot;2&quot;, &quot;1&quot;)); //true\r\n        boolean isEquals6 = isEqualCollection(Arrays.asList(&quot;1&quot;, 2.0), Arrays.asList(2.0, &quot;1&quot;)); //true\r\n        boolean isEquals7 = isEqualCollection(Arrays.asList(&quot;1&quot;, 2.0, 100L), Arrays.asList(2.0, 100L, &quot;1&quot;)); //true\r\n        boolean isEquals8 = isEqualCollection(Arrays.asList(&quot;1&quot;, null, 2.0, 100L), Arrays.asList(2.0, null, 100L, &quot;1&quot;)); //true\r\n\r\n","title":"Java ArrayList - how can I tell if two lists are equal, order not mattering?","body":"<p>One-line method :)</p>\n<ol>\n<li><p>Collection's items NOT implement the interface Comparable&lt;? super T&gt;</p>\n<pre><code> static boolean isEqualCollection(Collection&lt;?&gt; a, Collection&lt;?&gt; b) {\n     return a == b || (a != null &amp;&amp; b != null &amp;&amp; a.size() == b.size()\n         &amp;&amp; a.stream().collect(Collectors.toMap(Function.identity(), s -&gt; 1L, Long::sum)).equals(b.stream().collect(Collectors.toMap(Function.identity(), s -&gt; 1L, Long::sum))));\n }\n</code></pre>\n</li>\n<li><p>Collection's items implement the interface Comparable&lt;? super T&gt;</p>\n<pre><code> static &lt;T extends Comparable&lt;? super T&gt;&gt; boolean  isEqualCollection2(Collection&lt;T&gt; a, Collection&lt;T&gt; b) {\n   return a == b || (a != null &amp;&amp; b != null &amp;&amp; a.size() == b.size() &amp;&amp; a.stream().sorted().collect(Collectors.toList()).equals(b.stream().sorted().collect(Collectors.toList())));\n }\n</code></pre>\n</li>\n<li><p>support Android5 &amp; Android6 via <a href=\"https://github.com/retrostreams/android-retrostreams\" rel=\"nofollow noreferrer\">https://github.com/retrostreams/android-retrostreams</a></p>\n<pre><code>static boolean isEqualCollection(Collection&lt;?&gt; a, Collection&lt;?&gt; b) {\n return a == b || (a != null &amp;&amp; b != null &amp;&amp; a.size() == b.size()\n         &amp;&amp; StreamSupport.stream(a).collect(Collectors.toMap(Function.identity(), s-&gt;1L, Longs::sum)).equals(StreamSupport.stream(b).collect(Collectors.toMap(Function.identity(), s-&gt;1L, Longs::sum))));\n}\n</code></pre>\n</li>\n</ol>\n<p>////Test case</p>\n<pre><code>    boolean isEquals1 = isEqualCollection(null, null); //true\n    boolean isEquals2 = isEqualCollection(null, Arrays.asList(&quot;1&quot;, &quot;2&quot;)); //false\n    boolean isEquals3 = isEqualCollection(Arrays.asList(&quot;1&quot;, &quot;2&quot;), null); //false\n    boolean isEquals4 = isEqualCollection(Arrays.asList(&quot;1&quot;, &quot;2&quot;, &quot;2&quot;), Arrays.asList(&quot;1&quot;, &quot;1&quot;, &quot;2&quot;)); //false\n    boolean isEquals5 = isEqualCollection(Arrays.asList(&quot;1&quot;, &quot;2&quot;), Arrays.asList(&quot;2&quot;, &quot;1&quot;)); //true\n    boolean isEquals6 = isEqualCollection(Arrays.asList(&quot;1&quot;, 2.0), Arrays.asList(2.0, &quot;1&quot;)); //true\n    boolean isEquals7 = isEqualCollection(Arrays.asList(&quot;1&quot;, 2.0, 100L), Arrays.asList(2.0, 100L, &quot;1&quot;)); //true\n    boolean isEquals8 = isEqualCollection(Arrays.asList(&quot;1&quot;, null, 2.0, 100L), Arrays.asList(2.0, null, 100L, &quot;1&quot;)); //true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7009562,"reputation":529,"user_id":5376073,"accept_rate":80,"display_name":"Tomislav Brabec"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668207690,"creation_date":1668207690,"answer_id":74408998,"question_id":13501142,"body_markdown":"I think this is a simple solution:\r\n\r\n    public boolean equalLists(List&lt;String&gt; one, List&lt;String&gt; two) {\r\n        if (one == null &amp;&amp; two == null) {\r\n            return true;\r\n        }\r\n        \r\n        if (one == null || two == null) {\r\n            return false;\r\n        }\r\n        \r\n        return new HashSet&lt;&gt;(one).equals(new HashSet&lt;&gt;(two));\r\n    }","title":"Java ArrayList - how can I tell if two lists are equal, order not mattering?","body":"<p>I think this is a simple solution:</p>\n<pre><code>public boolean equalLists(List&lt;String&gt; one, List&lt;String&gt; two) {\n    if (one == null &amp;&amp; two == null) {\n        return true;\n    }\n    \n    if (one == null || two == null) {\n        return false;\n    }\n    \n    return new HashSet&lt;&gt;(one).equals(new HashSet&lt;&gt;(two));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4502479,"reputation":891,"user_id":3660710,"display_name":"Asanka Siriwardena"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675750072,"creation_date":1675750072,"answer_id":75369451,"question_id":13501142,"body_markdown":"Assuming if we can modify one list, with the support of java 8 removeIf\r\n\r\n      assertTrue(listA.size(), listB.size());\r\n      listB.removeIf(listA::contains);\r\n      assertTrue(listB.isEmpty());","title":"Java ArrayList - how can I tell if two lists are equal, order not mattering?","body":"<p>Assuming if we can modify one list, with the support of java 8 removeIf</p>\n<pre><code>  assertTrue(listA.size(), listB.size());\n  listB.removeIf(listA::contains);\n  assertTrue(listB.isEmpty());\n</code></pre>\n"}],"owner":{"account_id":972233,"reputation":4705,"user_id":994541,"accept_rate":74,"display_name":"iaacp"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":297359,"favorite_count":0,"down_vote_count":1,"up_vote_count":176,"accepted_answer_id":13501200,"answer_count":20,"score":175,"last_activity_date":1675750072,"creation_date":1353528096,"question_id":13501142,"body_markdown":"I have two `ArrayList`s of type `Answer` (self-made class). \r\n\r\nI&#39;d like to compare the two lists to see if they contain the same contents, but without order mattering.\r\n\r\nExample:\r\n\r\n    //These should be equal.\r\n    ArrayList&lt;String&gt; listA = {&quot;a&quot;, &quot;b&quot;, &quot;c&quot;}\r\n    ArrayList&lt;String&gt; listB = {&quot;b&quot;, &quot;c&quot;, &quot;a&quot;}\r\n\r\n\r\n`List.equals` states that two lists are equal if they contain the same size, contents, and order of elements. I want the same thing, but without order mattering.\r\n\r\nIs there a simple way to do this? Or will I need to do a nested for loop, and manually check each index of both lists?\r\n\r\nNote: I can&#39;t change them from `ArrayList` to another type of list, they need to remain that.","title":"Java ArrayList - how can I tell if two lists are equal, order not mattering?","body":"<p>I have two <code>ArrayList</code>s of type <code>Answer</code> (self-made class). </p>\n\n<p>I'd like to compare the two lists to see if they contain the same contents, but without order mattering.</p>\n\n<p>Example:</p>\n\n<pre><code>//These should be equal.\nArrayList&lt;String&gt; listA = {\"a\", \"b\", \"c\"}\nArrayList&lt;String&gt; listB = {\"b\", \"c\", \"a\"}\n</code></pre>\n\n<p><code>List.equals</code> states that two lists are equal if they contain the same size, contents, and order of elements. I want the same thing, but without order mattering.</p>\n\n<p>Is there a simple way to do this? Or will I need to do a nested for loop, and manually check each index of both lists?</p>\n\n<p>Note: I can't change them from <code>ArrayList</code> to another type of list, they need to remain that.</p>\n"},{"tags":["java","spring","cassandra"],"answers":[{"tags":[],"owner":{"account_id":5357170,"reputation":14233,"user_id":4269535,"display_name":"Erick Ramirez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675750027,"creation_date":1675750027,"answer_id":75369447,"question_id":75269041,"body_markdown":"After I&#39;ve done quick check of the code and configuration you posted, nothing was obvious to me as being incorrect.\r\n\r\nMy suggestion is to review the application logs looking specifically for errors and warnings from the Cassandra Java driver. Chances are the Cassandra cluster is unreachable from your application usually because of some networking issue.\r\n\r\nYou will need to verify that there is network connectivity between your application and the contact points + CQL port you&#39;ve configured. Cheers!","title":"Cassandra tables are not auto generated in Spring Boot app","body":"<p>After I've done quick check of the code and configuration you posted, nothing was obvious to me as being incorrect.</p>\n<p>My suggestion is to review the application logs looking specifically for errors and warnings from the Cassandra Java driver. Chances are the Cassandra cluster is unreachable from your application usually because of some networking issue.</p>\n<p>You will need to verify that there is network connectivity between your application and the contact points + CQL port you've configured. Cheers!</p>\n"}],"owner":{"account_id":14226667,"reputation":523,"user_id":10277150,"display_name":"gurkan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675750027,"creation_date":1674922292,"question_id":75269041,"body_markdown":"I am trying to create a `Spring Boot` CRUD application using `Cassandra`. I created a docker image and I already configured Cassandra, in `CassandraConfiguration` class but still is not creating my tables.\r\n\r\nMy `CassandraConfiguration.java` code:\r\n\r\n    @Configuration\r\n    @EnableCassandraRepositories\r\n    public class CassandraConfiguration extends AbstractCassandraConfiguration {\r\n    \r\n      @Value(&quot;${env.values.cassandra.keyspace.name}&quot;)\r\n      private String keyspaceName;\r\n      .......................................\r\n    \r\n      @Override\r\n      protected String getKeyspaceName() {\r\n        return keyspaceName;\r\n      }\r\n    \r\n      @Override\r\n      protected int getPort() {\r\n        return contactPort;\r\n      }\r\n      @Override\r\n      protected String getContactPoints() {\r\n        return contactPoint;\r\n      }\r\n      @Override\r\n      public SchemaAction getSchemaAction() {\r\n        return SchemaAction.CREATE_IF_NOT_EXISTS;\r\n      }\r\n      @Override\r\n      protected List&lt;CreateKeyspaceSpecification&gt; getKeyspaceCreations() {\r\n        return List.of(\r\n            CreateKeyspaceSpecification.createKeyspace(keyspaceName)\r\n                .ifNotExists()\r\n                .withSimpleReplication(3));\r\n      }\r\n    \r\n      @Bean\r\n      @Override\r\n      public CqlSessionFactoryBean cassandraSession() {\r\n        CqlSessionFactoryBean cassandraSession =\r\n            super.cassandraSession(); // super session should be called only once\r\n        cassandraSession.setUsername(username);\r\n        cassandraSession.setPassword(password);\r\n        return cassandraSession;\r\n      }\r\n    }\r\n\r\nMy entity:\r\n\r\n    @Table\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Builder\r\n    @EqualsAndHashCode(of = {&quot;id&quot;})\r\n    @Getter\r\n    @Setter\r\n    public class Account {\r\n      @PrimaryKey private String id = UUID.randomUUID().toString();\r\n      private String username;\r\n      private String email;\r\n      private String name;\r\n      private String password;\r\n    }\r\n\r\nMy `pom.xml` file:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-data-cassandra&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"Cassandra tables are not auto generated in Spring Boot app","body":"<p>I am trying to create a <code>Spring Boot</code> CRUD application using <code>Cassandra</code>. I created a docker image and I already configured Cassandra, in <code>CassandraConfiguration</code> class but still is not creating my tables.</p>\n<p>My <code>CassandraConfiguration.java</code> code:</p>\n<pre><code>@Configuration\n@EnableCassandraRepositories\npublic class CassandraConfiguration extends AbstractCassandraConfiguration {\n\n  @Value(&quot;${env.values.cassandra.keyspace.name}&quot;)\n  private String keyspaceName;\n  .......................................\n\n  @Override\n  protected String getKeyspaceName() {\n    return keyspaceName;\n  }\n\n  @Override\n  protected int getPort() {\n    return contactPort;\n  }\n  @Override\n  protected String getContactPoints() {\n    return contactPoint;\n  }\n  @Override\n  public SchemaAction getSchemaAction() {\n    return SchemaAction.CREATE_IF_NOT_EXISTS;\n  }\n  @Override\n  protected List&lt;CreateKeyspaceSpecification&gt; getKeyspaceCreations() {\n    return List.of(\n        CreateKeyspaceSpecification.createKeyspace(keyspaceName)\n            .ifNotExists()\n            .withSimpleReplication(3));\n  }\n\n  @Bean\n  @Override\n  public CqlSessionFactoryBean cassandraSession() {\n    CqlSessionFactoryBean cassandraSession =\n        super.cassandraSession(); // super session should be called only once\n    cassandraSession.setUsername(username);\n    cassandraSession.setPassword(password);\n    return cassandraSession;\n  }\n}\n</code></pre>\n<p>My entity:</p>\n<pre><code>@Table\n@AllArgsConstructor\n@NoArgsConstructor\n@Builder\n@EqualsAndHashCode(of = {&quot;id&quot;})\n@Getter\n@Setter\npublic class Account {\n  @PrimaryKey private String id = UUID.randomUUID().toString();\n  private String username;\n  private String email;\n  private String name;\n  private String password;\n}\n</code></pre>\n<p>My <code>pom.xml</code> file:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-boot-starter-data-cassandra&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","android","android-bitmap"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1673515423,"post_id":75093949,"comment_id":132518058,"body_markdown":"What do you think `Arrays.copyOfRange(bytes,745488,1228800);` is returning? Since your image has 307200 pixels at 32 bit is requires 1228800 bytes. Now you&#39;re creating a byte array of 483312 bytes - why? do you realize why &quot;Buffer not large enough&quot; is being reported if you provide that array as the input?","body":"What do you think <code>Arrays.copyOfRange(bytes,745488,1228800);</code> is returning? Since your image has 307200 pixels at 32 bit is requires 1228800 bytes. Now you&#39;re creating a byte array of 483312 bytes - why? do you realize why &quot;Buffer not large enough&quot; is being reported if you provide that array as the input?"},{"owner":{"account_id":27184855,"reputation":1,"user_id":20719455,"display_name":"Terry"},"score":0,"creation_date":1673576063,"post_id":75093949,"comment_id":132535906,"body_markdown":"I misread the parameters, I thought the third parameter was the length.","body":"I misread the parameters, I thought the third parameter was the length."}],"answers":[{"tags":[],"owner":{"account_id":27184855,"reputation":1,"user_id":20719455,"display_name":"Terry"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675749962,"creation_date":1675749736,"answer_id":75369423,"question_id":75093949,"body_markdown":"Android/Java:\r\n```\r\n    @Override\r\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.blendmode);\r\n        app = (MessiApplication) this.getApplication();\r\n        blendModeRawStreamBitmap = Bitmap.createBitmap(app.getVideoWidth(),app.getVideoHeight(), Bitmap.Config.ARGB_8888);\r\n        blendModeColorStreamBitmap = Bitmap.createBitmap(app.getVideoWidth(),app.getVideoHeight(), Bitmap.Config.ARGB_8888);\r\n        blendModeRawStreamImageView = findViewById(R.id.blend_mode_raw_video_view_id);\r\n        blendModeColorStreamImageView = findViewById(R.id.blend_mode_color_video_view_id);\r\n        videoStreamInfo = new VideoStreamInfo(app.getVideoWidth() , app.getVideoHeight(), app.getRawPseudoOffset(), 0);\r\n    }\r\n\r\n    private int _onAllVideoFrame(int cmd, String [] path, byte[] rawBytes, byte[] colorBytes)\r\n    {\r\n        runOnUiThread(new Runnable(){\r\n            @Override\r\n            public void run() {\r\n                ByteBuffer rawStreamBuffer = ByteBuffer.wrap(rawBytes);\r\n                blendModeRawStreamBitmap.copyPixelsFromBuffer(rawStreamBuffer);\r\n                blendModeRawStreamImageView.setImageBitmap(blendModeRawStreamBitmap);\r\n\r\n                ByteBuffer colorStreamBuffer = ByteBuffer.wrap(colorBytes);\r\n                blendModeColorStreamBitmap.copyPixelsFromBuffer(colorStreamBuffer);\r\n                blendModeColorStreamImageView.setImageBitmap(blendModeColorStreamBitmap);\r\n            }\r\n        });\r\n        return 0;\r\n    }\r\n```\r\nJni/C++:\r\n```\r\njbyteArray color_frame_buffer = NULL;\r\njbyteArray raw_frame_buffer = NULL;\r\n\r\n        raw_frame_buffer = (jbyteArray)cb-&gt;env-&gt;GetObjectField(cb-&gt;video_stream_obj, cb-&gt;raw_buffer_dield_id);\r\n        if(raw_frame_buffer == NULL)\r\n        {\r\n            ALOGE(&quot;Fail to get raw_frame_buffer field&quot;);\r\n            return -1;\r\n        }\r\n\r\n        cb-&gt;env-&gt;SetByteArrayRegion(raw_frame_buffer,0, cb-&gt;raw_stream_buffer_size,(jbyte *)req.text + cb-&gt;raw_stream_buffer_offset);\r\n        cb-&gt;env-&gt;SetDoubleField(cb-&gt;video_stream_obj,cb-&gt;raw_fps_dield_id,video_stream_info.fps);\r\n        cb-&gt;env-&gt;SetDoubleField(cb-&gt;video_stream_obj,cb-&gt;raw_jitter_dield_id,video_stream_info.jitter);\r\n\r\n        color_frame_buffer = (jbyteArray)cb-&gt;env-&gt;GetObjectField(cb-&gt;video_stream_obj,cb-&gt;color_buffer_dield_id);\r\n        if(color_frame_buffer == NULL)\r\n        {\r\n            ALOGE(&quot;Fail to get color_frame_buffer field&quot;);\r\n            return -1;\r\n        }\r\n\r\n        rgba_buffer = (uint8_t*)malloc(cb-&gt;color_stream_buffer_size);\r\n        if(rgba_buffer == nullptr)\r\n        {\r\n            ALOGE(&quot;Not enough memory field.&quot;);\r\n            return -1;\r\n        }\r\n        memset(rgba_buffer, 0, cb-&gt;color_stream_buffer_size);\r\n        Yuv422ToRgba(cb-&gt;color_video_width, cb-&gt;color_video_height, (uint8_t*)req.text + cb-&gt;color_stream_buffer_offset, rgba_buffer);\r\n        cb-&gt;env-&gt;SetByteArrayRegion(color_frame_buffer,0, cb-&gt;color_stream_buffer_size, (jbyte *)rgba_buffer);\r\n        cb-&gt;env-&gt;CallIntMethod(cb-&gt;obj,cb-&gt;on_frame_function_id,cmd,jpath_obj, raw_frame_buffer, color_frame_buffer);\r\n```\r\nYuvToRgba\r\n```\r\nvoid Yuv422ToRgba(int width, int heigth, uint8_t *yuv_buffer, uint8_t* rbga_buffer)\r\n{\r\n\tint pixel_size = width*heigth;\r\n\tuint32_t *pixel_ptr = (uint32_t *)rbga_buffer;\r\n\tuint8_t *y1_byte, *y2_byte, *u_byte, *v_byte;\r\n\tuint8_t r_byte, g_byte, b_byte;\r\n\r\n\tfor (int y_itr = 0; y_itr  &lt; pixel_size * 2; y_itr += 4)\r\n\t{\r\n\t\tu_byte = yuv_buffer + y_itr;\r\n\t\ty1_byte = yuv_buffer + y_itr + 1;\r\n\t\tv_byte = yuv_buffer + y_itr + 2;\r\n\t\ty2_byte = yuv_buffer + y_itr + 3;\r\n\r\n\t\tr_byte = *y1_byte + 1.4023 * (*v_byte-128.0);\r\n\t\tg_byte = *y1_byte - 0.3456 * (*u_byte-128.0) - 0.7145 * (*v_byte-128.0);\r\n\t\tb_byte = *y1_byte + 1.771 * (*u_byte-128.0);\r\n\t\t*pixel_ptr = 0x00000000 | r_byte &lt;&lt; 16 | g_byte &lt;&lt; 8 | b_byte;\r\n\t\tpixel_ptr ++;\r\n\r\n\t\tr_byte = *y2_byte + 1.4023 * (*v_byte-128.0);\r\n\t\tg_byte = *y2_byte - 0.3456 * (*u_byte-128.0) - 0.7145 * (*v_byte-128.0);\r\n\t\tb_byte = *y2_byte + 1.771 * (*u_byte-128.0);\r\n\t\t*pixel_ptr = 0x00000000 | r_byte &lt;&lt; 16 | g_byte &lt;&lt; 8 | b_byte;\r\n\t\tpixel_ptr ++;\r\n\t}\r\n}\r\n```","title":"ByteBuffer convert Bitmap crash","body":"<p>Android/Java:</p>\n<pre><code>    @Override\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.blendmode);\n        app = (MessiApplication) this.getApplication();\n        blendModeRawStreamBitmap = Bitmap.createBitmap(app.getVideoWidth(),app.getVideoHeight(), Bitmap.Config.ARGB_8888);\n        blendModeColorStreamBitmap = Bitmap.createBitmap(app.getVideoWidth(),app.getVideoHeight(), Bitmap.Config.ARGB_8888);\n        blendModeRawStreamImageView = findViewById(R.id.blend_mode_raw_video_view_id);\n        blendModeColorStreamImageView = findViewById(R.id.blend_mode_color_video_view_id);\n        videoStreamInfo = new VideoStreamInfo(app.getVideoWidth() , app.getVideoHeight(), app.getRawPseudoOffset(), 0);\n    }\n\n    private int _onAllVideoFrame(int cmd, String [] path, byte[] rawBytes, byte[] colorBytes)\n    {\n        runOnUiThread(new Runnable(){\n            @Override\n            public void run() {\n                ByteBuffer rawStreamBuffer = ByteBuffer.wrap(rawBytes);\n                blendModeRawStreamBitmap.copyPixelsFromBuffer(rawStreamBuffer);\n                blendModeRawStreamImageView.setImageBitmap(blendModeRawStreamBitmap);\n\n                ByteBuffer colorStreamBuffer = ByteBuffer.wrap(colorBytes);\n                blendModeColorStreamBitmap.copyPixelsFromBuffer(colorStreamBuffer);\n                blendModeColorStreamImageView.setImageBitmap(blendModeColorStreamBitmap);\n            }\n        });\n        return 0;\n    }\n</code></pre>\n<p>Jni/C++:</p>\n<pre><code>jbyteArray color_frame_buffer = NULL;\njbyteArray raw_frame_buffer = NULL;\n\n        raw_frame_buffer = (jbyteArray)cb-&gt;env-&gt;GetObjectField(cb-&gt;video_stream_obj, cb-&gt;raw_buffer_dield_id);\n        if(raw_frame_buffer == NULL)\n        {\n            ALOGE(&quot;Fail to get raw_frame_buffer field&quot;);\n            return -1;\n        }\n\n        cb-&gt;env-&gt;SetByteArrayRegion(raw_frame_buffer,0, cb-&gt;raw_stream_buffer_size,(jbyte *)req.text + cb-&gt;raw_stream_buffer_offset);\n        cb-&gt;env-&gt;SetDoubleField(cb-&gt;video_stream_obj,cb-&gt;raw_fps_dield_id,video_stream_info.fps);\n        cb-&gt;env-&gt;SetDoubleField(cb-&gt;video_stream_obj,cb-&gt;raw_jitter_dield_id,video_stream_info.jitter);\n\n        color_frame_buffer = (jbyteArray)cb-&gt;env-&gt;GetObjectField(cb-&gt;video_stream_obj,cb-&gt;color_buffer_dield_id);\n        if(color_frame_buffer == NULL)\n        {\n            ALOGE(&quot;Fail to get color_frame_buffer field&quot;);\n            return -1;\n        }\n\n        rgba_buffer = (uint8_t*)malloc(cb-&gt;color_stream_buffer_size);\n        if(rgba_buffer == nullptr)\n        {\n            ALOGE(&quot;Not enough memory field.&quot;);\n            return -1;\n        }\n        memset(rgba_buffer, 0, cb-&gt;color_stream_buffer_size);\n        Yuv422ToRgba(cb-&gt;color_video_width, cb-&gt;color_video_height, (uint8_t*)req.text + cb-&gt;color_stream_buffer_offset, rgba_buffer);\n        cb-&gt;env-&gt;SetByteArrayRegion(color_frame_buffer,0, cb-&gt;color_stream_buffer_size, (jbyte *)rgba_buffer);\n        cb-&gt;env-&gt;CallIntMethod(cb-&gt;obj,cb-&gt;on_frame_function_id,cmd,jpath_obj, raw_frame_buffer, color_frame_buffer);\n</code></pre>\n<p>YuvToRgba</p>\n<pre><code>void Yuv422ToRgba(int width, int heigth, uint8_t *yuv_buffer, uint8_t* rbga_buffer)\n{\n    int pixel_size = width*heigth;\n    uint32_t *pixel_ptr = (uint32_t *)rbga_buffer;\n    uint8_t *y1_byte, *y2_byte, *u_byte, *v_byte;\n    uint8_t r_byte, g_byte, b_byte;\n\n    for (int y_itr = 0; y_itr  &lt; pixel_size * 2; y_itr += 4)\n    {\n        u_byte = yuv_buffer + y_itr;\n        y1_byte = yuv_buffer + y_itr + 1;\n        v_byte = yuv_buffer + y_itr + 2;\n        y2_byte = yuv_buffer + y_itr + 3;\n\n        r_byte = *y1_byte + 1.4023 * (*v_byte-128.0);\n        g_byte = *y1_byte - 0.3456 * (*u_byte-128.0) - 0.7145 * (*v_byte-128.0);\n        b_byte = *y1_byte + 1.771 * (*u_byte-128.0);\n        *pixel_ptr = 0x00000000 | r_byte &lt;&lt; 16 | g_byte &lt;&lt; 8 | b_byte;\n        pixel_ptr ++;\n\n        r_byte = *y2_byte + 1.4023 * (*v_byte-128.0);\n        g_byte = *y2_byte - 0.3456 * (*u_byte-128.0) - 0.7145 * (*v_byte-128.0);\n        b_byte = *y2_byte + 1.771 * (*u_byte-128.0);\n        *pixel_ptr = 0x00000000 | r_byte &lt;&lt; 16 | g_byte &lt;&lt; 8 | b_byte;\n        pixel_ptr ++;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27184855,"reputation":1,"user_id":20719455,"display_name":"Terry"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75369423,"answer_count":1,"score":0,"last_activity_date":1675749962,"creation_date":1673514945,"question_id":75093949,"body_markdown":"Hi I wanna convert byte array to bitmap and show image in a ImageView. I wrote the following code but I got exception that says that the buffer not large enough for pixels.\r\n\r\n    Image resolution : 480*640\r\n    ARGB = 480*640\\*4 = 1228800????\r\n    bitmap = Bitmap.createBitmap(480,640, Bitmap.Config.ARGB_8888);\r\n    byte[] temp = Arrays.copyOfRange(bytes,745488,1228800);\r\n    ByteBuffer buffer = ByteBuffer.wrap(temp);\r\n    bitmap.copyPixelsFromBuffer(buffer);\r\n    imageView.setImageBitmap(bitmap);\r\n\r\nError:\r\n\r\n&gt; java.lang.RuntimeException: Buffer not large enough for pixels at\r\n&gt; android.graphics.Bitmap.copyPixelsFromBuffer(Bitmap.java:567) at\r\n&gt; com.example.scratch.HomeActivity$3.run(HomeActivity.java:119) at\r\n&gt; android.os.Handler.handleCallback(Handler.java:751) at\r\n&gt; android.os.Handler.dispatchMessage(Handler.java:95) at\r\n&gt; android.os.Looper.loop(Looper.java:154) at\r\n&gt; android.app.ActivityThread.main(ActivityThread.java:6121) at\r\n&gt; java.lang.reflect.Method.invoke(Native Method) at\r\n&gt; com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:889)\r\n&gt; at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:779) \r\n\r\n","title":"ByteBuffer convert Bitmap crash","body":"<p>Hi I wanna convert byte array to bitmap and show image in a ImageView. I wrote the following code but I got exception that says that the buffer not large enough for pixels.</p>\n<pre><code>Image resolution : 480*640\nARGB = 480*640\\*4 = 1228800????\nbitmap = Bitmap.createBitmap(480,640, Bitmap.Config.ARGB_8888);\nbyte[] temp = Arrays.copyOfRange(bytes,745488,1228800);\nByteBuffer buffer = ByteBuffer.wrap(temp);\nbitmap.copyPixelsFromBuffer(buffer);\nimageView.setImageBitmap(bitmap);\n</code></pre>\n<p>Error:</p>\n<blockquote>\n<p>java.lang.RuntimeException: Buffer not large enough for pixels at\nandroid.graphics.Bitmap.copyPixelsFromBuffer(Bitmap.java:567) at\ncom.example.scratch.HomeActivity$3.run(HomeActivity.java:119) at\nandroid.os.Handler.handleCallback(Handler.java:751) at\nandroid.os.Handler.dispatchMessage(Handler.java:95) at\nandroid.os.Looper.loop(Looper.java:154) at\nandroid.app.ActivityThread.main(ActivityThread.java:6121) at\njava.lang.reflect.Method.invoke(Native Method) at\ncom.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:889)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:779)</p>\n</blockquote>\n"},{"tags":["java","android","sqlite"],"comments":[{"owner":{"account_id":14535244,"reputation":161554,"user_id":10498828,"display_name":"forpas"},"score":0,"creation_date":1675715841,"post_id":75366204,"comment_id":132985078,"body_markdown":"Did you forget to create the table `contacts`?","body":"Did you forget to create the table <code>contacts</code>?"},{"owner":{"account_id":27719636,"reputation":29,"user_id":21160500,"display_name":"youna kim"},"score":0,"creation_date":1675716119,"post_id":75366204,"comment_id":132985159,"body_markdown":"I created but i have two tables i don&#39;t know is the code that i writed is correct. Can you shake it please","body":"I created but i have two tables i don&#39;t know is the code that i writed is correct. Can you shake it please"},{"owner":{"account_id":14535244,"reputation":161554,"user_id":10498828,"display_name":"forpas"},"score":0,"creation_date":1675716234,"post_id":75366204,"comment_id":132985191,"body_markdown":"No, you did not create `contacts`. The error message is: &quot;no such table: contacts (code 1 SQLITE_ERROR): , while compiling: SELECT * FROM contacts at&quot;. Uninstall the app from the device and rerun.","body":"No, you did not create <code>contacts</code>. The error message is: &quot;no such table: contacts (code 1 SQLITE_ERROR): , while compiling: SELECT * FROM contacts at&quot;. Uninstall the app from the device and rerun."},{"owner":{"account_id":27719636,"reputation":29,"user_id":21160500,"display_name":"youna kim"},"score":0,"creation_date":1675717877,"post_id":75366204,"comment_id":132985615,"body_markdown":"Then can you tell me where i should create the table","body":"Then can you tell me where i should create the table"}],"answers":[{"tags":[],"owner":{"account_id":6077735,"reputation":52951,"user_id":4744514,"accept_rate":96,"display_name":"MikeT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675746405,"creation_date":1675745985,"answer_id":75369069,"question_id":75366204,"body_markdown":"The failure is saying that there is not a table called **contacts** as per\r\n\r\n    Caused by: android.database.sqlite.SQLiteException: no such table: contacts (code 1 SQLITE_ERROR): , while compiling: SELECT * FROM contacts\r\n\r\n\r\nRunning your code and then using the errant **getAllContacts** method, as indicated in the log by:-\r\n\r\n    at com.example.localisation.databaseOpenHelper.getAllContacts(databaseOpenHelper.java:108)\r\n\r\nWorks.\r\n\r\nAs such it is highly likely that you have added the **contacts** cable **after previously running the App** and that this has created the database. The database persists and thus will still exist from on run to the other. As such the **`onCreate`** method will not be called, as it is only called once when the database is created.\r\n\r\nThe easy fix is to uninstall the App and rerun. **However**, this will delete any existing data.\r\n\r\nIf you need to keep any data then you should **a)** increase the version number and then **b)** add code to the **onUpgrade** method to create the new table (same code).\r\n\r\nFor example:-\r\n\r\n**a)**\r\n\r\n    public databaseOpenHelper(Context context){\r\n       super(context,&quot;Login.db&quot;,null,2 /*&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; CHANGED */);\r\n    }\r\n\r\n**b)**\r\n\r\n    @Override\r\n    public void onUpgrade(SQLiteDatabase myDB, int i, int i1) {\r\n       //myDB.execSQL(&quot;drop Table if exists users&quot;);\r\n       if (i1 == 2) {\r\n          String CREATE_COUNTRY_TABLE = &quot;CREATE TABLE &quot; + TABLE_NAME + &quot;(&quot;\r\n                 + KEY_ID + &quot; INTEGER PRIMARY KEY,&quot; + NAME + &quot; TEXT,&quot;\r\n                 + PHONENO + &quot; TEXT&quot; + &quot;)&quot;;\r\n          myDB.execSQL(CREATE_COUNTRY_TABLE);\r\n\r\n       }\r\n    }\r\n\r\n\r\nYou can the see that the contacts table has been created by using App Inspection e.g.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xADdd.png","title":"My app keep stopping after i added data base code - Android Studio","body":"<p>The failure is saying that there is not a table called <strong>contacts</strong> as per</p>\n<pre><code>Caused by: android.database.sqlite.SQLiteException: no such table: contacts (code 1 SQLITE_ERROR): , while compiling: SELECT * FROM contacts\n</code></pre>\n<p>Running your code and then using the errant <strong>getAllContacts</strong> method, as indicated in the log by:-</p>\n<pre><code>at com.example.localisation.databaseOpenHelper.getAllContacts(databaseOpenHelper.java:108)\n</code></pre>\n<p>Works.</p>\n<p>As such it is highly likely that you have added the <strong>contacts</strong> cable <strong>after previously running the App</strong> and that this has created the database. The database persists and thus will still exist from on run to the other. As such the <strong><code>onCreate</code></strong> method will not be called, as it is only called once when the database is created.</p>\n<p>The easy fix is to uninstall the App and rerun. <strong>However</strong>, this will delete any existing data.</p>\n<p>If you need to keep any data then you should <strong>a)</strong> increase the version number and then <strong>b)</strong> add code to the <strong>onUpgrade</strong> method to create the new table (same code).</p>\n<p>For example:-</p>\n<p><strong>a)</strong></p>\n<pre><code>public databaseOpenHelper(Context context){\n   super(context,&quot;Login.db&quot;,null,2 /*&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; CHANGED */);\n}\n</code></pre>\n<p><strong>b)</strong></p>\n<pre><code>@Override\npublic void onUpgrade(SQLiteDatabase myDB, int i, int i1) {\n   //myDB.execSQL(&quot;drop Table if exists users&quot;);\n   if (i1 == 2) {\n      String CREATE_COUNTRY_TABLE = &quot;CREATE TABLE &quot; + TABLE_NAME + &quot;(&quot;\n             + KEY_ID + &quot; INTEGER PRIMARY KEY,&quot; + NAME + &quot; TEXT,&quot;\n             + PHONENO + &quot; TEXT&quot; + &quot;)&quot;;\n      myDB.execSQL(CREATE_COUNTRY_TABLE);\n\n   }\n}\n</code></pre>\n<p>You can the see that the contacts table has been created by using App Inspection e.g.</p>\n<p><a href=\"https://i.stack.imgur.com/xADdd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xADdd.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":20270886,"reputation":19,"user_id":14867086,"display_name":"Mohammad Usman Bhat"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1675749578,"creation_date":1675749578,"answer_id":75369408,"question_id":75366204,"body_markdown":"according to the error code you uploaded i noticed this `SELECT * FROM contacts` which means that you don&#39;t have table named contacts in you sqlite database so i recommend you, for testing you should use sqlite browser  to create database and add data to it and then use it in your android studio project. if you get any problem fearther don&#39;t hesitate to ask it in comments thanks.","title":"My app keep stopping after i added data base code - Android Studio","body":"<p>according to the error code you uploaded i noticed this <code>SELECT * FROM contacts</code> which means that you don't have table named contacts in you sqlite database so i recommend you, for testing you should use sqlite browser  to create database and add data to it and then use it in your android studio project. if you get any problem fearther don't hesitate to ask it in comments thanks.</p>\n"}],"owner":{"account_id":27719636,"reputation":29,"user_id":21160500,"display_name":"youna kim"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":2,"score":-1,"last_activity_date":1675749578,"creation_date":1675715099,"question_id":75366204,"body_markdown":"I don&#39;t know what is the problem of my database, my app keep stopping after i added the data base code.\r\nPlease can you help with to fix that.\r\nI have tried many times to figure it out but still not getting anywhere.\r\n\r\n\r\nThis is my data base code :\r\npublic class databaseOpenHelper extends SQLiteOpenHelper{\r\n\r\n    // Country table name\r\n    private static final String TABLE_NAME= &quot;contacts&quot;;\r\n\r\n    // Country Table Columns names\r\n    private static final String KEY_ID = &quot;id&quot;;\r\n    private static final String NAME = &quot;Name&quot;;\r\n    private static final String PHONENO = &quot;PhoneNo&quot;;\r\n\r\n    public databaseOpenHelper(Context context){\r\n        super(context,&quot;Login.db&quot;,null,1);\r\n    }\r\n    @Override\r\n    public void onCreate(SQLiteDatabase myDB) {\r\n        myDB.execSQL(&quot;create Table users(username Text primary key,password Text)&quot;);\r\n\r\n        // create the table for the first time\r\n        String CREATE_COUNTRY_TABLE = &quot;CREATE TABLE &quot; + TABLE_NAME + &quot;(&quot;\r\n                + KEY_ID + &quot; INTEGER PRIMARY KEY,&quot; + NAME + &quot; TEXT,&quot;\r\n                + PHONENO + &quot; TEXT&quot; + &quot;)&quot;;\r\n        myDB.execSQL(CREATE_COUNTRY_TABLE);\r\n    }\r\n\r\n    @Override\r\n    public void onUpgrade(SQLiteDatabase myDB, int i, int i1) {\r\n        myDB.execSQL(&quot;drop Table if exists users&quot;);\r\n    }\r\n\r\n    public Boolean isertData(String username,String password){\r\n        SQLiteDatabase myDB = this.getWritableDatabase();\r\n        ContentValues contentValues = new ContentValues();\r\n        contentValues.put(&quot;username&quot;,username);\r\n        contentValues.put(&quot;password&quot;,password);\r\n        long result = myDB.insert(&quot;users&quot;,null,contentValues);\r\n\r\n        if(result == -1){\r\n            return false;\r\n        }\r\n        else {\r\n            return true;\r\n        }\r\n    }\r\n \r\n\r\n    public Boolean checkusername(String username){\r\n        SQLiteDatabase myDB = this.getWritableDatabase();\r\n        Cursor cursor = myDB.rawQuery(&quot;select * from users where username = ?&quot;,new String[] {username});\r\n        if (cursor.getCount()&gt;0){\r\n            return true;\r\n        }\r\n        else {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    public Boolean checkusernamePassword(String username,String password){\r\n        SQLiteDatabase myDB = this.getWritableDatabase();\r\n        Cursor cursor = myDB.rawQuery(&quot;select * from users where username = ? and password = ?&quot;,new String[] {username,password});\r\n        if (cursor.getCount()&gt;0){\r\n            return true;\r\n        }\r\n        else{\r\n            return false;\r\n        }\r\n    }\r\n\r\n\r\n\r\n    // method to add the contact\r\n    public void addcontact(ContactModel contact){\r\n        SQLiteDatabase db=this.getWritableDatabase();\r\n        ContentValues c=new ContentValues();\r\n        c.put(NAME,contact.getName());\r\n        c.put(PHONENO,contact.getPhoneNo());\r\n        db.insert(TABLE_NAME,null,c);\r\n        db.close();\r\n    }\r\n\r\n    // method to retrieve all the contacts in List\r\n    public List&lt;ContactModel&gt; getAllContacts(){\r\n        List&lt;ContactModel&gt; list=new ArrayList&lt;&gt;();\r\n        String query=&quot;SELECT * FROM &quot;+TABLE_NAME;\r\n        SQLiteDatabase db=this.getReadableDatabase();\r\n        Cursor c=db.rawQuery(query,null);\r\n        if(c.moveToFirst()) {\r\n            do {\r\n\r\n                list.add(new ContactModel(c.getInt(0),c.getString(1),c.getString(2)));\r\n\r\n            } while (c.moveToNext());\r\n        }\r\n        return list;\r\n    }\r\n\r\n    // get the count of data, this will allow user\r\n    // to not add more that five contacts in database\r\n    public int count(){\r\n        int count=0;\r\n        String query=&quot;SELECT COUNT(*) FROM &quot;+TABLE_NAME;\r\n        SQLiteDatabase db = this.getReadableDatabase();\r\n        Cursor c=db.rawQuery(query,null);\r\n        if(c.getCount()&gt;0){\r\n            c.moveToFirst();\r\n            count=c.getInt(0);\r\n        }\r\n        c.close();\r\n        return count;\r\n    }\r\n    // Deleting single country\r\n    public void deleteContact(ContactModel contact) {\r\n        SQLiteDatabase db = this.getWritableDatabase();\r\n        int i=db.delete(TABLE_NAME,KEY_ID + &quot; = ?&quot;,\r\n                new String[] { String.valueOf(contact.getId()) });\r\n\r\n        db.close();\r\n    }\r\n\r\n}\r\n\r\nAnd this is my logcat :\r\nFATAL EXCEPTION: main\r\n                                                                                                    Process: com.example.localisation, PID: 11700\r\n                                                                                                    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.localisation/com.example.localisation.phone}: android.database.sqlite.SQLiteException: no such table: contacts (code 1 SQLITE_ERROR): , while compiling: SELECT * FROM contacts\r\n                                                                                                    \tat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3635)\r\n                                                                                                    \tat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3792)\r\n                                                                                                    \tat android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:103)\r\n                                                                                                    \tat android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\n                                                                                                    \tat android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\n                                                                                                    \tat android.app.ActivityThread$H.handleMessage(ActivityThread.java:2210)\r\n                                                                                                    \tat android.os.Handler.dispatchMessage(Handler.java:106)\r\n                                                                                                    \tat android.os.Looper.loopOnce(Looper.java:201)\r\n                                                                                                    \tat android.os.Looper.loop(Looper.java:288)\r\n                                                                                                    \tat android.app.ActivityThread.main(ActivityThread.java:7839)\r\n                                                                                                    \tat java.lang.reflect.Method.invoke(Native Method)\r\n                                                                                                    \tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\r\n                                                                                                    \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1003)\r\n                                                                                                    Caused by: android.database.sqlite.SQLiteException: no such table: contacts (code 1 SQLITE_ERROR): , while compiling: SELECT * FROM contacts\r\n                                                                                                    \tat android.database.sqlite.SQLiteConnection.nativePrepareStatement(Native Method)\r\n                                                                                                    \tat android.database.sqlite.SQLiteConnection.acquirePreparedStatement(SQLiteConnection.java:1047)\r\n                                                                                                    \tat android.database.sqlite.SQLiteConnection.prepare(SQLiteConnection.java:654)\r\n                                                                                                    \tat android.database.sqlite.SQLiteSession.prepare(SQLiteSession.java:590)\r\n                                                                                                    \tat android.database.sqlite.SQLiteProgram.&lt;init&gt;(SQLiteProgram.java:62)\r\n                                                                                                    \tat android.database.sqlite.SQLiteQuery.&lt;init&gt;(SQLiteQuery.java:37)\r\n                                                                                                    \tat android.database.sqlite.SQLiteDirectCursorDriver.query(SQLiteDirectCursorDriver.java:46)\r\n                                                                                                    \tat android.database.sqlite.SQLiteDatabase.rawQueryWithFactory(SQLiteDatabase.java:1546)\r\n                                                                                                    \tat android.database.sqlite.SQLiteDatabase.rawQuery(SQLiteDatabase.java:1485)\r\n                                                                                                    \tat com.example.localisation.databaseOpenHelper.getAllContacts(databaseOpenHelper.java:108)\r\n                                                                                                    \tat com.example.localisation.phone.onCreate(phone.java:81)\r\n                                                                                                    \tat android.app.Activity.performCreate(Activity.java:8051)\r\n                                                                                                    \tat android.app.Activity.performCreate(Activity.java:8031)\r\n                                                                                                    \tat android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1329)\r\n                                                                                                    \tat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3608)\r\n                                                                                                    \tat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3792)&#160;\r\n                                                                                                    \tat android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:103)&#160;\r\n                                                                                                    \tat android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)&#160;\r\n                                                                                                    \tat android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)&#160;\r\n                                                                                                    \tat android.app.ActivityThread$H.handleMessage(ActivityThread.java:2210)&#160;\r\n                                                                                                    \tat android.os.Handler.dispatchMessage(Handler.java:106)&#160;\r\n                                                                                                    \tat android.os.Looper.loopOnce(Looper.java:201)&#160;\r\n                                                                                                    \tat android.os.Looper.loop(Looper.java:288)&#160;\r\n                                                                                                    \tat android.app.ActivityThread.main(ActivityThread.java:7839)&#160;\r\n                                                                                                    \tat java.lang.reflect.Method.invoke(Native Method)&#160;\r\n                                                                                                    \tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)&#160;\r\n                                                                                                    \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1003)&#160;","title":"My app keep stopping after i added data base code - Android Studio","body":"<p>I don't know what is the problem of my database, my app keep stopping after i added the data base code.\nPlease can you help with to fix that.\nI have tried many times to figure it out but still not getting anywhere.</p>\n<p>This is my data base code :\npublic class databaseOpenHelper extends SQLiteOpenHelper{</p>\n<pre><code>// Country table name\nprivate static final String TABLE_NAME= &quot;contacts&quot;;\n\n// Country Table Columns names\nprivate static final String KEY_ID = &quot;id&quot;;\nprivate static final String NAME = &quot;Name&quot;;\nprivate static final String PHONENO = &quot;PhoneNo&quot;;\n\npublic databaseOpenHelper(Context context){\n    super(context,&quot;Login.db&quot;,null,1);\n}\n@Override\npublic void onCreate(SQLiteDatabase myDB) {\n    myDB.execSQL(&quot;create Table users(username Text primary key,password Text)&quot;);\n\n    // create the table for the first time\n    String CREATE_COUNTRY_TABLE = &quot;CREATE TABLE &quot; + TABLE_NAME + &quot;(&quot;\n            + KEY_ID + &quot; INTEGER PRIMARY KEY,&quot; + NAME + &quot; TEXT,&quot;\n            + PHONENO + &quot; TEXT&quot; + &quot;)&quot;;\n    myDB.execSQL(CREATE_COUNTRY_TABLE);\n}\n\n@Override\npublic void onUpgrade(SQLiteDatabase myDB, int i, int i1) {\n    myDB.execSQL(&quot;drop Table if exists users&quot;);\n}\n\npublic Boolean isertData(String username,String password){\n    SQLiteDatabase myDB = this.getWritableDatabase();\n    ContentValues contentValues = new ContentValues();\n    contentValues.put(&quot;username&quot;,username);\n    contentValues.put(&quot;password&quot;,password);\n    long result = myDB.insert(&quot;users&quot;,null,contentValues);\n\n    if(result == -1){\n        return false;\n    }\n    else {\n        return true;\n    }\n}\n\n\npublic Boolean checkusername(String username){\n    SQLiteDatabase myDB = this.getWritableDatabase();\n    Cursor cursor = myDB.rawQuery(&quot;select * from users where username = ?&quot;,new String[] {username});\n    if (cursor.getCount()&gt;0){\n        return true;\n    }\n    else {\n        return false;\n    }\n}\n\npublic Boolean checkusernamePassword(String username,String password){\n    SQLiteDatabase myDB = this.getWritableDatabase();\n    Cursor cursor = myDB.rawQuery(&quot;select * from users where username = ? and password = ?&quot;,new String[] {username,password});\n    if (cursor.getCount()&gt;0){\n        return true;\n    }\n    else{\n        return false;\n    }\n}\n\n\n\n// method to add the contact\npublic void addcontact(ContactModel contact){\n    SQLiteDatabase db=this.getWritableDatabase();\n    ContentValues c=new ContentValues();\n    c.put(NAME,contact.getName());\n    c.put(PHONENO,contact.getPhoneNo());\n    db.insert(TABLE_NAME,null,c);\n    db.close();\n}\n\n// method to retrieve all the contacts in List\npublic List&lt;ContactModel&gt; getAllContacts(){\n    List&lt;ContactModel&gt; list=new ArrayList&lt;&gt;();\n    String query=&quot;SELECT * FROM &quot;+TABLE_NAME;\n    SQLiteDatabase db=this.getReadableDatabase();\n    Cursor c=db.rawQuery(query,null);\n    if(c.moveToFirst()) {\n        do {\n\n            list.add(new ContactModel(c.getInt(0),c.getString(1),c.getString(2)));\n\n        } while (c.moveToNext());\n    }\n    return list;\n}\n\n// get the count of data, this will allow user\n// to not add more that five contacts in database\npublic int count(){\n    int count=0;\n    String query=&quot;SELECT COUNT(*) FROM &quot;+TABLE_NAME;\n    SQLiteDatabase db = this.getReadableDatabase();\n    Cursor c=db.rawQuery(query,null);\n    if(c.getCount()&gt;0){\n        c.moveToFirst();\n        count=c.getInt(0);\n    }\n    c.close();\n    return count;\n}\n// Deleting single country\npublic void deleteContact(ContactModel contact) {\n    SQLiteDatabase db = this.getWritableDatabase();\n    int i=db.delete(TABLE_NAME,KEY_ID + &quot; = ?&quot;,\n            new String[] { String.valueOf(contact.getId()) });\n\n    db.close();\n}\n</code></pre>\n<p>}</p>\n<p>And this is my logcat :\nFATAL EXCEPTION: main\nProcess: com.example.localisation, PID: 11700\njava.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.localisation/com.example.localisation.phone}: android.database.sqlite.SQLiteException: no such table: contacts (code 1 SQLITE_ERROR): , while compiling: SELECT * FROM contacts\nat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3635)\nat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3792)\nat android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:103)\nat android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\nat android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\nat android.app.ActivityThread$H.handleMessage(ActivityThread.java:2210)\nat android.os.Handler.dispatchMessage(Handler.java:106)\nat android.os.Looper.loopOnce(Looper.java:201)\nat android.os.Looper.loop(Looper.java:288)\nat android.app.ActivityThread.main(ActivityThread.java:7839)\nat java.lang.reflect.Method.invoke(Native Method)\nat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1003)\nCaused by: android.database.sqlite.SQLiteException: no such table: contacts (code 1 SQLITE_ERROR): , while compiling: SELECT * FROM contacts\nat android.database.sqlite.SQLiteConnection.nativePrepareStatement(Native Method)\nat android.database.sqlite.SQLiteConnection.acquirePreparedStatement(SQLiteConnection.java:1047)\nat android.database.sqlite.SQLiteConnection.prepare(SQLiteConnection.java:654)\nat android.database.sqlite.SQLiteSession.prepare(SQLiteSession.java:590)\nat android.database.sqlite.SQLiteProgram.(SQLiteProgram.java:62)\nat android.database.sqlite.SQLiteQuery.(SQLiteQuery.java:37)\nat android.database.sqlite.SQLiteDirectCursorDriver.query(SQLiteDirectCursorDriver.java:46)\nat android.database.sqlite.SQLiteDatabase.rawQueryWithFactory(SQLiteDatabase.java:1546)\nat android.database.sqlite.SQLiteDatabase.rawQuery(SQLiteDatabase.java:1485)\nat com.example.localisation.databaseOpenHelper.getAllContacts(databaseOpenHelper.java:108)\nat com.example.localisation.phone.onCreate(phone.java:81)\nat android.app.Activity.performCreate(Activity.java:8051)\nat android.app.Activity.performCreate(Activity.java:8031)\nat android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1329)\nat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3608)\nat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3792) \nat android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:103) \nat android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135) \nat android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95) \nat android.app.ActivityThread$H.handleMessage(ActivityThread.java:2210) \nat android.os.Handler.dispatchMessage(Handler.java:106) \nat android.os.Looper.loopOnce(Looper.java:201) \nat android.os.Looper.loop(Looper.java:288) \nat android.app.ActivityThread.main(ActivityThread.java:7839) \nat java.lang.reflect.Method.invoke(Native Method) \nat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548) \nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1003) </p>\n"},{"tags":["java","swagger","quarkus","quarkus-reactive"],"comments":[{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1675679547,"post_id":75359980,"comment_id":132974051,"body_markdown":"May I ask why you are using Reactive Routes instead of RESTEasy Reactive?","body":"May I ask why you are using Reactive Routes instead of RESTEasy Reactive?"},{"owner":{"account_id":27694744,"reputation":1,"user_id":21140712,"display_name":"Nancy Smith"},"score":0,"creation_date":1675749603,"post_id":75359980,"comment_id":132990473,"body_markdown":"because I need to redirect requests, I&#39;m new to quarkus and it&#39;s all very confusing","body":"because I need to redirect requests, I&#39;m new to quarkus and it&#39;s all very confusing"},{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1675751492,"post_id":75359980,"comment_id":132990756,"body_markdown":"If all you need is to redirect users, it&#39;s probably easier to use something like https://quarkus.io/guides/reactive-routes#using-the-vert-x-web-router with the Router&#39;s `reroute` method","body":"If all you need is to redirect users, it&#39;s probably easier to use something like <a href=\"https://quarkus.io/guides/reactive-routes#using-the-vert-x-web-router\" rel=\"nofollow noreferrer\">quarkus.io/guides/reactive-routes#using-the-vert-x-web-route&zwnj;&#8203;r</a> with the Router&#39;s <code>reroute</code> method"}],"owner":{"account_id":27694744,"reputation":1,"user_id":21140712,"display_name":"Nancy Smith"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":306,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675749474,"creation_date":1675678655,"question_id":75359980,"body_markdown":"        @Route(path = &quot;/v1/graphql&quot;, produces = &quot;application/json&quot;, methods = Route.HttpMethod.POST)\r\n        public Uni&lt;Buffer&gt; toHasura(RoutingContext rc, @Body String query) {\r\n    \r\n            //\r\n        }\r\n\r\nI&#39;m trying to redirect requests to hasura with my app, but I&#39;m getting this error:\r\n\r\n```\r\nCaused by: java.lang.IllegalStateException: No parameter injector found for parameter 1 of route method io.smallrye.mutiny.Uni&lt;io.vertx.mutiny.core.buffer.Buffer&gt; toHasura(io.vertx.ext.web.RoutingContext rc, java.lang.String query) declared on CLASS bean [types=[org.acme.reactive.routes.ProxyRout, java.lang.Object], qualifiers=[@Default, @Any], target=org.acme.reactive.routes.ProxyRout]\r\n```\r\n\r\nI&#39;ve tried to add @Body annotation, the error was gone, but in swagger I still don&#39;t see the opportunity to add any body to the request","title":"How to add a RequestBody to a POST request in quarkus REACTIVE ROUTES with RoutingContext?","body":"<pre><code>    @Route(path = &quot;/v1/graphql&quot;, produces = &quot;application/json&quot;, methods = Route.HttpMethod.POST)\n    public Uni&lt;Buffer&gt; toHasura(RoutingContext rc, @Body String query) {\n\n        //\n    }\n</code></pre>\n<p>I'm trying to redirect requests to hasura with my app, but I'm getting this error:</p>\n<pre><code>Caused by: java.lang.IllegalStateException: No parameter injector found for parameter 1 of route method io.smallrye.mutiny.Uni&lt;io.vertx.mutiny.core.buffer.Buffer&gt; toHasura(io.vertx.ext.web.RoutingContext rc, java.lang.String query) declared on CLASS bean [types=[org.acme.reactive.routes.ProxyRout, java.lang.Object], qualifiers=[@Default, @Any], target=org.acme.reactive.routes.ProxyRout]\n</code></pre>\n<p>I've tried to add @Body annotation, the error was gone, but in swagger I still don't see the opportunity to add any body to the request</p>\n"},{"tags":["java","visual-studio-code","intellij-idea"],"comments":[{"owner":{"account_id":17291618,"reputation":119,"user_id":12523079,"display_name":"Jilliss"},"score":0,"creation_date":1675654792,"post_id":75357090,"comment_id":132968927,"body_markdown":"Check your environment variables\n`CLASSPATH` and `JAVA_HOME`","body":"Check your environment variables <code>CLASSPATH</code> and <code>JAVA_HOME</code>"},{"owner":{"account_id":27712508,"reputation":1,"user_id":21154877,"display_name":"brotherlyvirgo"},"score":0,"creation_date":1675655522,"post_id":75357090,"comment_id":132968991,"body_markdown":"@Jilliss how do I do that","body":"@Jilliss how do I do that"}],"answers":[{"tags":[],"owner":{"account_id":17291618,"reputation":119,"user_id":12523079,"display_name":"Jilliss"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675659221,"creation_date":1675659221,"answer_id":75357436,"question_id":75357090,"body_markdown":"`javac main.java &amp;&amp; java Main`  into your visual studio code terminal\r\nIf the error is the same \r\n\r\nthen set the temporary environment variable and try `javac main.java &amp;&amp; java Main` again\r\n\r\nHere is my powershell output\r\n\r\n    PS C:\\Users\\jilliss&gt; javac Main.java ; java Main\r\n    Hello World\r\n    PS C:\\Users\\jilliss&gt; java -version\r\n    openjdk version &quot;17.0.6&quot; 2023-01-17\r\n    OpenJDK Runtime Environment Temurin-17.0.6+10 (build 17.0.6+10)\r\n    OpenJDK 64-Bit Server VM Temurin-17.0.6+10 (build 17.0.6+10, mixed mode, sharing)\r\n    PS C:\\Users\\jilliss&gt; cat .\\Main.java\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            System.out.println(&quot;Hello World&quot;);\r\n        }\r\n    }\r\n    PS C:\\Users\\jilliss&gt;\r\n    PS C:\\Users\\jilliss&gt; $ENV:JAVA_HOME\r\n    D:\\win\\Scoop\\apps\\temurin17-jdk\\current\r\n    PS C:\\Users\\jilliss&gt; $ENV:CLASS_PATH\r\n    PS C:\\Users\\jilliss&gt; $ENV:CLASSPATH\r\n    PS C:\\Users\\jilliss&gt;\r\n\r\nAs you can see, I only set JAVA_HOME but everything works fine, probably because of your jdk version\r\n","title":"Running Java in Visual Studio Code gives error &quot;not a statement&quot;","body":"<p><code>javac main.java &amp;&amp; java Main</code>  into your visual studio code terminal\nIf the error is the same</p>\n<p>then set the temporary environment variable and try <code>javac main.java &amp;&amp; java Main</code> again</p>\n<p>Here is my powershell output</p>\n<pre><code>PS C:\\Users\\jilliss&gt; javac Main.java ; java Main\nHello World\nPS C:\\Users\\jilliss&gt; java -version\nopenjdk version &quot;17.0.6&quot; 2023-01-17\nOpenJDK Runtime Environment Temurin-17.0.6+10 (build 17.0.6+10)\nOpenJDK 64-Bit Server VM Temurin-17.0.6+10 (build 17.0.6+10, mixed mode, sharing)\nPS C:\\Users\\jilliss&gt; cat .\\Main.java\npublic class Main {\n    public static void main(String[] args) {\n        System.out.println(&quot;Hello World&quot;);\n    }\n}\nPS C:\\Users\\jilliss&gt;\nPS C:\\Users\\jilliss&gt; $ENV:JAVA_HOME\nD:\\win\\Scoop\\apps\\temurin17-jdk\\current\nPS C:\\Users\\jilliss&gt; $ENV:CLASS_PATH\nPS C:\\Users\\jilliss&gt; $ENV:CLASSPATH\nPS C:\\Users\\jilliss&gt;\n</code></pre>\n<p>As you can see, I only set JAVA_HOME but everything works fine, probably because of your jdk version</p>\n"},{"tags":[],"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675748623,"creation_date":1675748623,"answer_id":75369316,"question_id":75357090,"body_markdown":"**Do not use [*Code Runner*][1] to execute scripts.** Please use the [Extension Pack for Java][2].\r\n\r\n[![enter image description here][3]][3]\r\n\r\nIt will be easier to follow the [official documentation][4] to get started.\r\n\r\n\r\n  [1]: https://marketplace.visualstudio.com/items?itemName=formulahendry.code-runner\r\n  [2]: https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-java-pack\r\n  [3]: https://i.stack.imgur.com/6hlhS.png\r\n  [4]: https://code.visualstudio.com/docs/java/java-tutorial","title":"Running Java in Visual Studio Code gives error &quot;not a statement&quot;","body":"<p><strong>Do not use <a href=\"https://marketplace.visualstudio.com/items?itemName=formulahendry.code-runner\" rel=\"nofollow noreferrer\"><em>Code Runner</em></a> to execute scripts.</strong> Please use the <a href=\"https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-java-pack\" rel=\"nofollow noreferrer\">Extension Pack for Java</a>.</p>\n<p><a href=\"https://i.stack.imgur.com/6hlhS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6hlhS.png\" alt=\"enter image description here\" /></a></p>\n<p>It will be easier to follow the <a href=\"https://code.visualstudio.com/docs/java/java-tutorial\" rel=\"nofollow noreferrer\">official documentation</a> to get started.</p>\n"}],"owner":{"account_id":27712508,"reputation":1,"user_id":21154877,"display_name":"brotherlyvirgo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":536,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1675748623,"creation_date":1675654153,"question_id":75357090,"body_markdown":"I&#39;m trying to run Java in visual studio code but it gives me this error, it works in IntelliJ though\r\n\r\nEDIT:\r\nOkay turns out I would need to make a Main.class file inside of the same file of the Main.java file, with that now it works properly in vscode. But I saw a friend of mine just making one new .java file and it works directly, how can I make vscode to be like so?\r\n\r\n\r\n\r\nMain.java:\r\n\r\n    public class Main {\r\n        public static void main(String[] args){\r\n            System.out.println(&quot;Hello World&quot;);\r\n        }\r\n    }\r\n\r\nError:\r\n\r\n    [Running] cd &quot;/Users/username/Documents/Java Projects/&quot; &amp;&amp; javac Main.java &amp;&amp; java Main\r\n    Main.java:3: error: not a statement\r\n            System\r\n            ^\r\n    Main.java:3: error: &#39;;&#39; expected\r\n            System\r\n                  ^\r\n    2 errors\r\n\r\n    [Done] exited with code=1 in 0.62 seconds\r\n\r\n\r\n\r\n\r\nI tried reinstalling Java in Visual Studio Code to no avail\r\nUpdate: I think I found the problem: Thing is, I tried out Java first with IntelliJ and before that I&#39;d need to make a Java Project. It works through IntelliJ with that new Project file, when I run said Java program in vscode it works as well, but as soon as I make a new file outside of the project file, or a new file outside of the project folder, it gives out a new error which is this:\r\n\r\n    Error: Could not find or load main class Main\r\n    Caused by: java.lang.ClassNotFoundException: Main\r\n\r\n","title":"Running Java in Visual Studio Code gives error &quot;not a statement&quot;","body":"<p>I'm trying to run Java in visual studio code but it gives me this error, it works in IntelliJ though</p>\n<p>EDIT:\nOkay turns out I would need to make a Main.class file inside of the same file of the Main.java file, with that now it works properly in vscode. But I saw a friend of mine just making one new .java file and it works directly, how can I make vscode to be like so?</p>\n<p>Main.java:</p>\n<pre><code>public class Main {\n    public static void main(String[] args){\n        System.out.println(&quot;Hello World&quot;);\n    }\n}\n</code></pre>\n<p>Error:</p>\n<pre><code>[Running] cd &quot;/Users/username/Documents/Java Projects/&quot; &amp;&amp; javac Main.java &amp;&amp; java Main\nMain.java:3: error: not a statement\n        System\n        ^\nMain.java:3: error: ';' expected\n        System\n              ^\n2 errors\n\n[Done] exited with code=1 in 0.62 seconds\n</code></pre>\n<p>I tried reinstalling Java in Visual Studio Code to no avail\nUpdate: I think I found the problem: Thing is, I tried out Java first with IntelliJ and before that I'd need to make a Java Project. It works through IntelliJ with that new Project file, when I run said Java program in vscode it works as well, but as soon as I make a new file outside of the project file, or a new file outside of the project folder, it gives out a new error which is this:</p>\n<pre><code>Error: Could not find or load main class Main\nCaused by: java.lang.ClassNotFoundException: Main\n</code></pre>\n"},{"tags":["java","generics"],"answers":[{"tags":[],"owner":{"account_id":4354234,"reputation":845,"user_id":3553434,"display_name":"alalalala"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675747976,"creation_date":1675740960,"answer_id":75368723,"question_id":75368096,"body_markdown":"I can tell you, where is the problem with this code.\r\n\r\nConsider this piece of code you provided：\r\n\r\n    private final List&lt;FileService&lt;? extends FileInfo&gt;&gt; candidateFileServices = new ArrayList&lt;&gt;();\r\n    \r\n    public GenericFileServiceImpl() {\r\n        candidateFileServices.add(new MsdsFileService());\r\n        candidateFileServices.add(new NdgcFileService());\r\n    }\r\n\r\nYou defined the variable `candidateFileServices`, type is `List&lt;FileService&lt;? extends FileInfo&gt;&gt;`\r\n\r\nSo, you can add `new MsdsFileService()` and `new NdgcFileService()` in this List\r\n\r\nThen you use\r\n\r\n    FileService&lt;? extends FileInfo&gt; fileService = candidateFileServices.stream()...\r\n\r\nget a `fileService`, type is `FileService&lt;? extends FileInfo&gt;`.\r\n\r\nSo, which Object can be hold by the `fileService`? `MsdsFileService`、`NdgcFileService` and any class which extends `FileService`\r\n\r\nThen the code `fileService.saveFileInfo(fileInfo);`\r\n\r\nLooking back at its method signature：\r\n\r\n    interface FileService&lt;T extends FileInfo&gt; {\r\n        void saveFileInfo(T fileInfo);\r\n    \r\n        boolean support(String fileType);\r\n    }\r\n\r\nIts argument is FileInfo or a subtype of FileInfo.\r\n\r\nWhen you use that fileService to call the method `saveFileInfo`, In fact, at the compilation stage, the compiler cannot determine the type of its parameters at all, so it can only be represented by **T**, but T is FileInfo or a subtype of FileInfo. \r\n\r\nTherefore, the java compiler will consider it unsafe\r\n\r\nBecause fileService may be `MsdsFileService`、`NdgcFileService` and any class which extends `FileService`,  the parameter of the method `saveFileInfo` may be `FileInfo` or a **any subtype of** `FileInfo`\r\n\r\nBut you can&#39;t use `MsdsFileService` to call method `saveFileInfo(NdgcFileInfo)`.\r\n\r\n\r\n\r\nIn addition, this code, it seems, is deliberately using generics, but in fact it does not need it at all：\r\n\r\n    interface FileInfo { }\r\n    \r\n    class File1Info implements FileInfo { }\r\n    class File2Info implements FileInfo { }\r\n    \r\n    interface FileService {\r\n        void saveFileInfo(FileInfo fileInfo);\r\n    }\r\n    \r\n    class File1Service implements FileService {\r\n        @Override\r\n        public void saveFileInfo(FileInfo fileInfo) {\r\n    \r\n        }\r\n    }\r\n    \r\n    class File2Service implements FileService {\r\n        @Override\r\n        public void saveFileInfo(FileInfo fileInfo) { }\r\n    }\r\n    \r\n    interface GenericFileService {\r\n        void saveFileInfo(FileInfo fileInfo);\r\n    }\r\n    \r\n    class GenericFileServiceImpl implements GenericFileService {\r\n        private final List&lt;FileService&gt; candidateFileServices = new ArrayList&lt;&gt;();\r\n    \r\n        public GenericFileServiceImpl() {\r\n            candidateFileServices.add(new File1Service());\r\n            candidateFileServices.add(new File2Service());\r\n        }\r\n        @Override\r\n        public void saveFileInfo(FileInfo fileInfo) {\r\n            candidateFileServices.forEach(fileService -&gt; fileService.saveFileInfo(fileInfo));\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\nIf you must use generics, you need to modify it to ensure type safety：\r\n\r\n    interface GenericFileService {\r\n        &lt;T extends FileInfo, R extends FileService&lt;T&gt;&gt; void saveFileInfo(T fileInfo, R fileService);\r\n    \r\n        FileService&lt;? extends FileInfo&gt; getFileService(String fileType);\r\n    }\r\n    \r\n    class GenericFileServiceImpl implements GenericFileService {\r\n        private final List&lt;FileService&lt;? extends FileInfo&gt;&gt; candidateFileServices = new ArrayList&lt;&gt;();\r\n    \r\n        public GenericFileServiceImpl() {\r\n            candidateFileServices.add(new MsdsFileService());\r\n            candidateFileServices.add(new NdgcFileService());\r\n        }\r\n    \r\n        @Override\r\n        public FileService&lt;? extends FileInfo&gt; getFileService(String fileType) {\r\n            return candidateFileServices.stream()\r\n                    .filter(service -&gt; service.support(fileType))\r\n                    .findFirst()\r\n                    .orElseThrow(() -&gt; {\r\n                        throw new IllegalArgumentException(&quot;Unsupported fileType.&quot;);\r\n                    });\r\n        }\r\n    \r\n        @Override\r\n        public &lt;T extends FileInfo, R extends FileService&lt;T&gt;&gt; void saveFileInfo(T fileInfo, R fileService) {\r\n            fileService.saveFileInfo(fileInfo);\r\n        }\r\n    }\r\n\r\n","title":"How to avoid wildcard capture error and how to fix it?","body":"<p>I can tell you, where is the problem with this code.</p>\n<p>Consider this piece of code you provided：</p>\n<pre><code>private final List&lt;FileService&lt;? extends FileInfo&gt;&gt; candidateFileServices = new ArrayList&lt;&gt;();\n\npublic GenericFileServiceImpl() {\n    candidateFileServices.add(new MsdsFileService());\n    candidateFileServices.add(new NdgcFileService());\n}\n</code></pre>\n<p>You defined the variable <code>candidateFileServices</code>, type is <code>List&lt;FileService&lt;? extends FileInfo&gt;&gt;</code></p>\n<p>So, you can add <code>new MsdsFileService()</code> and <code>new NdgcFileService()</code> in this List</p>\n<p>Then you use</p>\n<pre><code>FileService&lt;? extends FileInfo&gt; fileService = candidateFileServices.stream()...\n</code></pre>\n<p>get a <code>fileService</code>, type is <code>FileService&lt;? extends FileInfo&gt;</code>.</p>\n<p>So, which Object can be hold by the <code>fileService</code>? <code>MsdsFileService</code>、<code>NdgcFileService</code> and any class which extends <code>FileService</code></p>\n<p>Then the code <code>fileService.saveFileInfo(fileInfo);</code></p>\n<p>Looking back at its method signature：</p>\n<pre><code>interface FileService&lt;T extends FileInfo&gt; {\n    void saveFileInfo(T fileInfo);\n\n    boolean support(String fileType);\n}\n</code></pre>\n<p>Its argument is FileInfo or a subtype of FileInfo.</p>\n<p>When you use that fileService to call the method <code>saveFileInfo</code>, In fact, at the compilation stage, the compiler cannot determine the type of its parameters at all, so it can only be represented by <strong>T</strong>, but T is FileInfo or a subtype of FileInfo.</p>\n<p>Therefore, the java compiler will consider it unsafe</p>\n<p>Because fileService may be <code>MsdsFileService</code>、<code>NdgcFileService</code> and any class which extends <code>FileService</code>,  the parameter of the method <code>saveFileInfo</code> may be <code>FileInfo</code> or a <strong>any subtype of</strong> <code>FileInfo</code></p>\n<p>But you can't use <code>MsdsFileService</code> to call method <code>saveFileInfo(NdgcFileInfo)</code>.</p>\n<p>In addition, this code, it seems, is deliberately using generics, but in fact it does not need it at all：</p>\n<pre><code>interface FileInfo { }\n\nclass File1Info implements FileInfo { }\nclass File2Info implements FileInfo { }\n\ninterface FileService {\n    void saveFileInfo(FileInfo fileInfo);\n}\n\nclass File1Service implements FileService {\n    @Override\n    public void saveFileInfo(FileInfo fileInfo) {\n\n    }\n}\n\nclass File2Service implements FileService {\n    @Override\n    public void saveFileInfo(FileInfo fileInfo) { }\n}\n\ninterface GenericFileService {\n    void saveFileInfo(FileInfo fileInfo);\n}\n\nclass GenericFileServiceImpl implements GenericFileService {\n    private final List&lt;FileService&gt; candidateFileServices = new ArrayList&lt;&gt;();\n\n    public GenericFileServiceImpl() {\n        candidateFileServices.add(new File1Service());\n        candidateFileServices.add(new File2Service());\n    }\n    @Override\n    public void saveFileInfo(FileInfo fileInfo) {\n        candidateFileServices.forEach(fileService -&gt; fileService.saveFileInfo(fileInfo));\n    }\n}\n</code></pre>\n<p>If you must use generics, you need to modify it to ensure type safety：</p>\n<pre><code>interface GenericFileService {\n    &lt;T extends FileInfo, R extends FileService&lt;T&gt;&gt; void saveFileInfo(T fileInfo, R fileService);\n\n    FileService&lt;? extends FileInfo&gt; getFileService(String fileType);\n}\n\nclass GenericFileServiceImpl implements GenericFileService {\n    private final List&lt;FileService&lt;? extends FileInfo&gt;&gt; candidateFileServices = new ArrayList&lt;&gt;();\n\n    public GenericFileServiceImpl() {\n        candidateFileServices.add(new MsdsFileService());\n        candidateFileServices.add(new NdgcFileService());\n    }\n\n    @Override\n    public FileService&lt;? extends FileInfo&gt; getFileService(String fileType) {\n        return candidateFileServices.stream()\n                .filter(service -&gt; service.support(fileType))\n                .findFirst()\n                .orElseThrow(() -&gt; {\n                    throw new IllegalArgumentException(&quot;Unsupported fileType.&quot;);\n                });\n    }\n\n    @Override\n    public &lt;T extends FileInfo, R extends FileService&lt;T&gt;&gt; void saveFileInfo(T fileInfo, R fileService) {\n        fileService.saveFileInfo(fileInfo);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":67075,"reputation":690,"user_id":196466,"display_name":"Lei"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675747976,"creation_date":1675732649,"question_id":75368096,"body_markdown":"The idea of design is GenericFileService maintains a list of candidate instances of FileService implementations. Each instance can only handle a specific fileType. GenericFileServiceImpl implements GenericFileService and provide a generic method saveFileInfo to accept any supported fileType. I think this should work at runtime, but I got wildcard capture compile error. Could you explain why? How to fix it?\r\n\r\n        interface FileInfo {\r\n            String getFileType();\r\n        }\r\n    \r\n        static class MsdsFileInfo implements FileInfo {\r\n            private String fileType;\r\n    \r\n            @Override\r\n            public String getFileType() {\r\n                return fileType;\r\n            }\r\n    \r\n            /*\r\n            ... Other msds file specific properties\r\n            * */\r\n        }\r\n    \r\n        static class NdgcFileInfo implements FileInfo {\r\n            private String fileType;\r\n    \r\n            @Override\r\n            public String getFileType() {\r\n                return fileType;\r\n            }\r\n    \r\n            /*\r\n            ... Other ndgc file specific properties\r\n            * */\r\n        }\r\n    \r\n        interface FileService&lt;T extends FileInfo&gt; {\r\n            void saveFileInfo(T fileInfo);\r\n    \r\n            boolean support(String fileType);\r\n        }\r\n    \r\n        static class MsdsFileService implements FileService&lt;MsdsFileInfo&gt; {\r\n    \r\n            @Override\r\n            public void saveFileInfo(MsdsFileInfo fileInfo) {\r\n                // implementation for MsdsFileInfo\r\n            }\r\n    \r\n            @Override\r\n            public boolean support(String fileType) {\r\n                return StringUtils.equalsIgnoreCase(fileType, &quot;MSDS&quot;);\r\n            }\r\n        }\r\n    \r\n        static class NdgcFileService implements FileService&lt;NdgcFileInfo&gt; {\r\n    \r\n            @Override\r\n            public void saveFileInfo(NdgcFileInfo fileInfo) {\r\n                // implementation for NdgcFileInfo\r\n            }\r\n    \r\n            @Override\r\n            public boolean support(String fileType) {\r\n                return StringUtils.equalsIgnoreCase(fileType, &quot;NDGC&quot;);\r\n            }\r\n        }\r\n    \r\n    \r\n        interface GenericFileService {\r\n            &lt;T extends FileInfo&gt; void saveFileInfo(String fileType, T fileInfo);\r\n        }\r\n    \r\n        static class GenericFileServiceImpl implements GenericFileService {\r\n            private final List&lt;FileService&lt;? extends FileInfo&gt;&gt; candidateFileServices = new ArrayList&lt;&gt;();\r\n    \r\n            public GenericFileServiceImpl() {\r\n                candidateFileServices.add(new MsdsFileService());\r\n                candidateFileServices.add(new NdgcFileService());\r\n            }\r\n    \r\n            @Override\r\n            public &lt;T extends FileInfo&gt; void saveFileInfo(String fileType, T fileInfo) {\r\n                FileService&lt;? extends FileInfo&gt; fileService = candidateFileServices.stream()\r\n                        .filter(service -&gt; service.support(fileType))\r\n                        .findFirst()\r\n                        .orElseThrow(() -&gt; {\r\n                            throw new IllegalArgumentException(&quot;Unsupported fileType.&quot;);\r\n                        });\r\n    \r\n                // Got wildcard capture error here\r\n                fileService.saveFileInfo(fileInfo);\r\n            }\r\n        }\r\n\r\nBelow is the error message:\r\n\r\n    error: incompatible types: T cannot be converted to CAP#1\r\n                fileService.saveFileInfo(fileInfo);\r\n                                         ^\r\n      where T is a type-variable:\r\n        T extends FileInfo declared in method &lt;T&gt;saveFileInfo(String,T)\r\n      where CAP#1 is a fresh type-variable:\r\n        CAP#1 extends Object from capture of ?","title":"How to avoid wildcard capture error and how to fix it?","body":"<p>The idea of design is GenericFileService maintains a list of candidate instances of FileService implementations. Each instance can only handle a specific fileType. GenericFileServiceImpl implements GenericFileService and provide a generic method saveFileInfo to accept any supported fileType. I think this should work at runtime, but I got wildcard capture compile error. Could you explain why? How to fix it?</p>\n<pre><code>    interface FileInfo {\n        String getFileType();\n    }\n\n    static class MsdsFileInfo implements FileInfo {\n        private String fileType;\n\n        @Override\n        public String getFileType() {\n            return fileType;\n        }\n\n        /*\n        ... Other msds file specific properties\n        * */\n    }\n\n    static class NdgcFileInfo implements FileInfo {\n        private String fileType;\n\n        @Override\n        public String getFileType() {\n            return fileType;\n        }\n\n        /*\n        ... Other ndgc file specific properties\n        * */\n    }\n\n    interface FileService&lt;T extends FileInfo&gt; {\n        void saveFileInfo(T fileInfo);\n\n        boolean support(String fileType);\n    }\n\n    static class MsdsFileService implements FileService&lt;MsdsFileInfo&gt; {\n\n        @Override\n        public void saveFileInfo(MsdsFileInfo fileInfo) {\n            // implementation for MsdsFileInfo\n        }\n\n        @Override\n        public boolean support(String fileType) {\n            return StringUtils.equalsIgnoreCase(fileType, &quot;MSDS&quot;);\n        }\n    }\n\n    static class NdgcFileService implements FileService&lt;NdgcFileInfo&gt; {\n\n        @Override\n        public void saveFileInfo(NdgcFileInfo fileInfo) {\n            // implementation for NdgcFileInfo\n        }\n\n        @Override\n        public boolean support(String fileType) {\n            return StringUtils.equalsIgnoreCase(fileType, &quot;NDGC&quot;);\n        }\n    }\n\n\n    interface GenericFileService {\n        &lt;T extends FileInfo&gt; void saveFileInfo(String fileType, T fileInfo);\n    }\n\n    static class GenericFileServiceImpl implements GenericFileService {\n        private final List&lt;FileService&lt;? extends FileInfo&gt;&gt; candidateFileServices = new ArrayList&lt;&gt;();\n\n        public GenericFileServiceImpl() {\n            candidateFileServices.add(new MsdsFileService());\n            candidateFileServices.add(new NdgcFileService());\n        }\n\n        @Override\n        public &lt;T extends FileInfo&gt; void saveFileInfo(String fileType, T fileInfo) {\n            FileService&lt;? extends FileInfo&gt; fileService = candidateFileServices.stream()\n                    .filter(service -&gt; service.support(fileType))\n                    .findFirst()\n                    .orElseThrow(() -&gt; {\n                        throw new IllegalArgumentException(&quot;Unsupported fileType.&quot;);\n                    });\n\n            // Got wildcard capture error here\n            fileService.saveFileInfo(fileInfo);\n        }\n    }\n</code></pre>\n<p>Below is the error message:</p>\n<pre><code>error: incompatible types: T cannot be converted to CAP#1\n            fileService.saveFileInfo(fileInfo);\n                                     ^\n  where T is a type-variable:\n    T extends FileInfo declared in method &lt;T&gt;saveFileInfo(String,T)\n  where CAP#1 is a fresh type-variable:\n    CAP#1 extends Object from capture of ?\n</code></pre>\n"},{"tags":["java","rest","migration","rest-assured","spring5"],"comments":[{"owner":{"account_id":3392888,"reputation":3881,"user_id":2847330,"display_name":"Azhar Khan"},"score":0,"creation_date":1675747626,"post_id":75350486,"comment_id":132990216,"body_markdown":"You need to provide more details like commands, POM.xml, any source that you are running, config etc. Is your internet accessed via corporate proxy?","body":"You need to provide more details like commands, POM.xml, any source that you are running, config etc. Is your internet accessed via corporate proxy?"}],"owner":{"account_id":27706510,"reputation":13,"user_id":21150033,"display_name":"Aditi Mogha"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":160,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675747348,"creation_date":1675578314,"question_id":75350486,"body_markdown":"I am getting this error, test cases are getting failed,  while upgrading the application to Java 17. \r\n\r\nI am using dependencies :    \r\n```\r\ncom.jayway.restassured:rest-assured:2.8.0\r\ncom.jayway.restassured:json-schema-validator:2.8.0\r\n```\r\n\r\n**Error:**\r\n```\r\njava.lang.IllegalStateException: Failed to load ApplicationContext\r\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:98)\r\n    at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)\r\n    at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)\r\n    at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)\r\n```\r\n\r\nI have tried upgrading the dependencies to :\r\n\r\n```\r\ncom.jayway.restassured:rest-assured:4.1.2\r\ncom.jayway.restassured:json-schema-validator:4.1.2\r\n```\r\n\r\nbut still facing this error :\r\n\r\n```\r\nPKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\njavax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n\tat java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)\r\n\tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:371)\r\n\tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:314)\r\n\tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:309)\r\n\tat java.base/sun.security.ssl.CertificateMessage$T13CertificateConsumer.checkServerCerts(CertificateMessage.java:1357)\r\n```\r\n","title":"java.lang.NoClassDefFoundError: Could not initialize class com.jayway.restassured.RestAssured","body":"<p>I am getting this error, test cases are getting failed,  while upgrading the application to Java 17.</p>\n<p>I am using dependencies :</p>\n<pre><code>com.jayway.restassured:rest-assured:2.8.0\ncom.jayway.restassured:json-schema-validator:2.8.0\n</code></pre>\n<p><strong>Error:</strong></p>\n<pre><code>java.lang.IllegalStateException: Failed to load ApplicationContext\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:98)\n    at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)\n    at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)\n    at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)\n</code></pre>\n<p>I have tried upgrading the dependencies to :</p>\n<pre><code>com.jayway.restassured:rest-assured:4.1.2\ncom.jayway.restassured:json-schema-validator:4.1.2\n</code></pre>\n<p>but still facing this error :</p>\n<pre><code>PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\njavax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n    at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)\n    at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:371)\n    at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:314)\n    at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:309)\n    at java.base/sun.security.ssl.CertificateMessage$T13CertificateConsumer.checkServerCerts(CertificateMessage.java:1357)\n</code></pre>\n"},{"tags":["java","compiler-errors","nosuchelementexception"],"owner":{"account_id":26072514,"reputation":1,"user_id":19771926,"display_name":"Arjan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1675759129,"answer_count":0,"score":0,"last_activity_date":1675747319,"creation_date":1675733336,"question_id":75368159,"body_markdown":"The problem was: \r\n\r\nThe challenge here is to read lines of input until you reach *EOF*, then number and print all lines of content.\r\n\r\n**Hint:** Java&#39;s *Scanner.hasNext()* method is helpful for this problem.\r\n\r\n**Input Format**\r\n\r\nRead some unknown lines of input from *stdin(System.in)* until you reach *EOF*; each line of input contains a non-empty *String*.\r\n\r\n**Output Format**\r\n\r\nFor each line, print the line number, followed by a single space, and then the line content received as input.\r\n\r\nThis code returns error:\r\n\r\n```\r\nException in thread &quot;main&quot; java.util.NoSuchElementException: No line found\r\n\tat java.util.Scanner.nextLine(Scanner.java:1585)\r\n\tat Solution.main(Solution.java:14)\r\n```\r\n\r\n```\r\nimport java.io.*;\r\nimport java.util.*;\r\nimport java.text.*;\r\nimport java.math.*;\r\nimport java.util.regex.*;\r\n\r\npublic class Solution {\r\n\r\n    public static void main(String[] args) {\r\n        /* Enter your code here. Read input from STDIN. Print output to STDOUT. Your class should be named Solution. */\r\n        int x=1;\r\n        Scanner scanner= new Scanner(System.in);\r\n        do{\r\n            String s=scanner.nextLine();\r\n            System.out.println(x+&quot; &quot; + s);\r\n            x=x+1;\r\n            \r\n        }while(x!=0);\r\n        scanner.close();\r\n    }\r\n}\r\n```","title":"java.util.NoSuchElementException: No line found from Scanner","body":"<p>The problem was:</p>\n<p>The challenge here is to read lines of input until you reach <em>EOF</em>, then number and print all lines of content.</p>\n<p><strong>Hint:</strong> Java's <em>Scanner.hasNext()</em> method is helpful for this problem.</p>\n<p><strong>Input Format</strong></p>\n<p>Read some unknown lines of input from <em>stdin(System.in)</em> until you reach <em>EOF</em>; each line of input contains a non-empty <em>String</em>.</p>\n<p><strong>Output Format</strong></p>\n<p>For each line, print the line number, followed by a single space, and then the line content received as input.</p>\n<p>This code returns error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.util.NoSuchElementException: No line found\n    at java.util.Scanner.nextLine(Scanner.java:1585)\n    at Solution.main(Solution.java:14)\n</code></pre>\n<pre><code>import java.io.*;\nimport java.util.*;\nimport java.text.*;\nimport java.math.*;\nimport java.util.regex.*;\n\npublic class Solution {\n\n    public static void main(String[] args) {\n        /* Enter your code here. Read input from STDIN. Print output to STDOUT. Your class should be named Solution. */\n        int x=1;\n        Scanner scanner= new Scanner(System.in);\n        do{\n            String s=scanner.nextLine();\n            System.out.println(x+&quot; &quot; + s);\n            x=x+1;\n            \n        }while(x!=0);\n        scanner.close();\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-security","swagger","spring-security-oauth2"],"comments":[{"owner":{"account_id":5190055,"reputation":391,"user_id":4153249,"display_name":"Amit"},"score":0,"creation_date":1554295059,"post_id":55495068,"comment_id":97697793,"body_markdown":"I think one of the issues you have is with incorrect library\nPlease check if this is helpful: https://github.com/spring-cloud/spring-cloud-sleuth/issues/654","body":"I think one of the issues you have is with incorrect library Please check if this is helpful: <a href=\"https://github.com/spring-cloud/spring-cloud-sleuth/issues/654\" rel=\"nofollow noreferrer\">github.com/spring-cloud/spring-cloud-sleuth/issues/654</a>"},{"owner":{"account_id":2584375,"reputation":7820,"user_id":2240409,"accept_rate":79,"display_name":"dazito"},"score":0,"creation_date":1554296744,"post_id":55495068,"comment_id":97698913,"body_markdown":"@Amit I don&#39;t see the connection between my issue and the one you linked. Spring Boot parent version that I am using is 2.1.3.RELEASE as specified here: &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;&lt;version&gt;2.1.3.RELEASE&lt;/version&gt;","body":"@Amit I don&#39;t see the connection between my issue and the one you linked. Spring Boot parent version that I am using is 2.1.3.RELEASE as specified here: &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;&lt;version&gt;&zwnj;&#8203;2.1.3.RELEASE&lt;/versi&zwnj;&#8203;on&gt;"},{"owner":{"account_id":5190055,"reputation":391,"user_id":4153249,"display_name":"Amit"},"score":0,"creation_date":1554888471,"post_id":55495068,"comment_id":97912714,"body_markdown":"The reason i added that post is for the exception that you see in the logs. \nIt seems classloader is trying to load a different ServerHttpRequest class through reflection than the one intended. \nIt could be due to the fact that you do not have the correct class on your classpath, and hence you are getting NoSuchMethod exception.","body":"The reason i added that post is for the exception that you see in the logs.  It seems classloader is trying to load a different ServerHttpRequest class through reflection than the one intended.  It could be due to the fact that you do not have the correct class on your classpath, and hence you are getting NoSuchMethod exception."}],"owner":{"account_id":2584375,"reputation":7820,"user_id":2240409,"accept_rate":79,"display_name":"dazito"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3850,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1675747111,"creation_date":1554294057,"question_id":55495068,"body_markdown":"I bootstrapped a simple Spring Boot app and added Swagger. It worked just fine.\r\n\r\nThen I added OAuth support to my app and Swagger UI is throwing an error, every time I go to http://localhost:8080/swagger-ui.html I get an error message saying:\r\n\r\n&gt; Failed to load API definition.\r\n&gt; \r\n&gt; Errors\r\n&gt; \r\n&gt; Fetch error undefined http://localhost:8080/v2/api-docs\r\n\r\nAs shown in the image below:[![enter image description here][1]][1]\r\n\r\nOn the browser&#39;s developer tools I see a GET request hitting a 500 response code and two a 404 response code as shown below:\r\n[![enter image description here][2]][2]\r\n\r\nBecause I Reactive Netty (from Spring WebFlux) does not support OAuth2 I changed my application server to use Tomcat instead of Reactive Netty as shown below:\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n    \t&lt;exclusions&gt;\r\n    \t\t&lt;!-- Exclude Reactor Netty because for now we need the servlet classes --&gt;\r\n    \t\t&lt;exclusion&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-reactor-netty&lt;/artifactId&gt;\r\n    \t\t&lt;/exclusion&gt;\r\n    \t&lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!-- For now we are using Tomcat server and not Netty (excluded above) --&gt;\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!-- We still want to use the Reactive features that come with project reactor-netty (like WebClient) --&gt;\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spring-boot-starter-reactor-netty&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nMy `OAuth2SecurityConfiguration` class that extends `WebSecurityConfigurerAdapter` is configuring `HttpSecurity` as\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http\r\n                .cors().disable()\r\n                .csrf().disable()\r\n                .authorizeRequests()\r\n                .antMatchers(&quot;/oauth/token&quot;).permitAll();\r\n    }\r\n\r\nThen my Resource Server is set as:\r\n\r\n    @Configuration\r\n    @EnableResourceServer\r\n    public class ResourceServer extends ResourceServerConfigurerAdapter {\r\n    \r\n        @Override\r\n        public void configure(HttpSecurity http) throws Exception {\r\n            http\r\n                    .cors().disable()\r\n                    .csrf().disable()\r\n                    .headers().frameOptions().disable()\r\n                    .and()\r\n                    .authorizeRequests()\r\n                    .antMatchers(&quot;/actuator/**&quot;).hasRole(&quot;ADMIN&quot;) // Spring Actuator endpoints\r\n                    .antMatchers(&quot;/user/**&quot;).hasRole(&quot;USER&quot;) // App REST endpoints\r\n                    .anyRequest().permitAll();\r\n        }\r\n    \r\n    }\r\n\r\nSo all requests to the Swagger do not need to be authenticated\r\n\r\nThe 500 response code I mentioned above causes the following stacktrace:\r\n\r\n    ERROR 3716 --- [nio-8080-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.IllegalStateException: No primary or default constructor found for interface org.springframework.http.server.reactive.ServerHttpRequest] with root cause\r\n    \r\n    java.lang.NoSuchMethodException: org.springframework.http.server.reactive.ServerHttpRequest.&lt;init&gt;()\r\n    \tat java.lang.Class.getConstructor0(Class.java:3082) ~[na:1.8.0_181]\r\n    \tat java.lang.Class.getDeclaredConstructor(Class.java:2178) ~[na:1.8.0_181]\r\n    \tat org.springframework.web.method.annotation.ModelAttributeMethodProcessor.createAttribute(ModelAttributeMethodProcessor.java:216) ~[spring-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletModelAttributeMethodProcessor.createAttribute(ServletModelAttributeMethodProcessor.java:84) ~[spring-webmvc-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat org.springframework.web.method.annotation.ModelAttributeMethodProcessor.resolveArgument(ModelAttributeMethodProcessor.java:139) ~[spring-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:126) ~[spring-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:166) ~[spring-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:134) ~[spring-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:800) ~[spring-webmvc-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1038) ~[spring-webmvc-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942) ~[spring-webmvc-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005) ~[spring-webmvc-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:897) ~[spring-webmvc-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:634) ~[tomcat-embed-core-9.0.16.jar:9.0.16]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882) ~[spring-webmvc-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:741) ~[tomcat-embed-core-9.0.16.jar:9.0.16]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-9.0.16.jar:9.0.16]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.16.jar:9.0.16]\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.16.jar:9.0.16]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.16.jar:9.0.16]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.16.jar:9.0.16]\r\n    \tat org.springframework.boot.actuate.web.trace.servlet.HttpTraceFilter.doFilterInternal(HttpTraceFilter.java:90) ~[spring-boot-actuator-2.1.3.RELEASE.jar:2.1.3.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.16.jar:9.0.16]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.16.jar:9.0.16]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\r\n    \tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\r\n    \tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\r\n    \tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\r\n    \tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\r\n    \tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\r\n    \tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\r\n    \tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\r\n    \tat org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter.doFilter(OAuth2AuthenticationProcessingFilter.java:176) ~[spring-security-oauth2-2.3.5.RELEASE.jar:na]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\r\n    \tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\r\n    \tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74) ~[spring-security-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\r\n    \tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\r\n    \tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) ~[spring-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) ~[spring-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.16.jar:9.0.16]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.16.jar:9.0.16]\r\n    \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.16.jar:9.0.16]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.16.jar:9.0.16]\r\n    \tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92) ~[spring-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.16.jar:9.0.16]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.16.jar:9.0.16]\r\n    \tat org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.16.jar:9.0.16]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.16.jar:9.0.16]\r\n    \tat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:117) ~[spring-boot-actuator-2.1.3.RELEASE.jar:2.1.3.RELEASE]\r\n    \tat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:106) ~[spring-boot-actuator-2.1.3.RELEASE.jar:2.1.3.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.16.jar:9.0.16]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.16.jar:9.0.16]\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.16.jar:9.0.16]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.16.jar:9.0.16]\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200) ~[tomcat-embed-core-9.0.16.jar:9.0.16]\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-9.0.16.jar:9.0.16]\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490) [tomcat-embed-core-9.0.16.jar:9.0.16]\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) [tomcat-embed-core-9.0.16.jar:9.0.16]\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.16.jar:9.0.16]\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-9.0.16.jar:9.0.16]\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.16.jar:9.0.16]\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408) [tomcat-embed-core-9.0.16.jar:9.0.16]\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-9.0.16.jar:9.0.16]\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834) [tomcat-embed-core-9.0.16.jar:9.0.16]\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415) [tomcat-embed-core-9.0.16.jar:9.0.16]\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.16.jar:9.0.16]\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_181]\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_181]\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.16.jar:9.0.16]\r\n    \tat java.lang.Thread.run(Thread.java:748) [na:1.8.0_181]\r\n\r\nTo try out, I added Spring Boot Web dependency but the same exception happens.\r\n\r\nI do not find any reference of `ServerHttpRequest` in my code so it must be brought in by some dependency (I highly suspect of OAuth and Spring Security dependencies as they are the only new dependencies since the last time Swagger worked just fine).\r\n\r\nHere&#39;s my Swagger configuration\r\n\r\n    @Configuration\r\n    @EnableSwagger2WebFlux\r\n    public class SwaggerConfig {\r\n    \r\n        @Bean\r\n        public Docket api() {\r\n            return new Docket(DocumentationType.SWAGGER_2)\r\n                    .select()\r\n                    // Make only our app specific endpoints available in Swagger docs\r\n                    .apis(RequestHandlerSelectors.basePackage(&quot;com.xxxxx.spring.poc&quot;))\r\n                    .build()\r\n                    .apiInfo(apiInfo());\r\n        }\r\n    \r\n        private ApiInfo apiInfo() {\r\n            return new ApiInfo(&quot;Simple Spring PoC&quot;,\r\n                    &quot;A very simple CRUD application developed with Spring Boot 2&quot;,\r\n                    &quot;0.1&quot;,\r\n                    &quot;Terms of service&quot;,\r\n                    new Contact(&quot;XXXXX&quot;, &quot;www.xxxxxx.com&quot;, &quot;xxxxx@xxxxx.com&quot;),\r\n                    &quot;License of API&quot;, &quot;https://www.apache.org/licenses/LICENSE-2.0&quot;, Collections.emptyList());\r\n        }\r\n    }\r\n\r\nSo, my question is, why and how can I fix Swagger error and show my REST documentation?\r\n  [1]: https://i.stack.imgur.com/abmHg.png\r\n  [2]: https://i.stack.imgur.com/tDC9U.png","title":"Spring Boot with OAuth2: Swagger returns Failed to load API definition","body":"<p>I bootstrapped a simple Spring Boot app and added Swagger. It worked just fine.</p>\n\n<p>Then I added OAuth support to my app and Swagger UI is throwing an error, every time I go to <a href=\"http://localhost:8080/swagger-ui.html\" rel=\"nofollow noreferrer\">http://localhost:8080/swagger-ui.html</a> I get an error message saying:</p>\n\n<blockquote>\n  <p>Failed to load API definition.</p>\n  \n  <p>Errors</p>\n  \n  <p>Fetch error undefined <a href=\"http://localhost:8080/v2/api-docs\" rel=\"nofollow noreferrer\">http://localhost:8080/v2/api-docs</a></p>\n</blockquote>\n\n<p>As shown in the image below:<a href=\"https://i.stack.imgur.com/abmHg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/abmHg.png\" alt=\"enter image description here\"></a></p>\n\n<p>On the browser's developer tools I see a GET request hitting a 500 response code and two a 404 response code as shown below:\n<a href=\"https://i.stack.imgur.com/tDC9U.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tDC9U.png\" alt=\"enter image description here\"></a></p>\n\n<p>Because I Reactive Netty (from Spring WebFlux) does not support OAuth2 I changed my application server to use Tomcat instead of Reactive Netty as shown below:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n    &lt;exclusions&gt;\n        &lt;!-- Exclude Reactor Netty because for now we need the servlet classes --&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-reactor-netty&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n&lt;!-- For now we are using Tomcat server and not Netty (excluded above) --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;!-- We still want to use the Reactive features that come with project reactor-netty (like WebClient) --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-reactor-netty&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>My <code>OAuth2SecurityConfiguration</code> class that extends <code>WebSecurityConfigurerAdapter</code> is configuring <code>HttpSecurity</code> as</p>\n\n<pre><code>@Override\nprotected void configure(HttpSecurity http) throws Exception {\n    http\n            .cors().disable()\n            .csrf().disable()\n            .authorizeRequests()\n            .antMatchers(\"/oauth/token\").permitAll();\n}\n</code></pre>\n\n<p>Then my Resource Server is set as:</p>\n\n<pre><code>@Configuration\n@EnableResourceServer\npublic class ResourceServer extends ResourceServerConfigurerAdapter {\n\n    @Override\n    public void configure(HttpSecurity http) throws Exception {\n        http\n                .cors().disable()\n                .csrf().disable()\n                .headers().frameOptions().disable()\n                .and()\n                .authorizeRequests()\n                .antMatchers(\"/actuator/**\").hasRole(\"ADMIN\") // Spring Actuator endpoints\n                .antMatchers(\"/user/**\").hasRole(\"USER\") // App REST endpoints\n                .anyRequest().permitAll();\n    }\n\n}\n</code></pre>\n\n<p>So all requests to the Swagger do not need to be authenticated</p>\n\n<p>The 500 response code I mentioned above causes the following stacktrace:</p>\n\n<pre><code>ERROR 3716 --- [nio-8080-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.IllegalStateException: No primary or default constructor found for interface org.springframework.http.server.reactive.ServerHttpRequest] with root cause\n\njava.lang.NoSuchMethodException: org.springframework.http.server.reactive.ServerHttpRequest.&lt;init&gt;()\n    at java.lang.Class.getConstructor0(Class.java:3082) ~[na:1.8.0_181]\n    at java.lang.Class.getDeclaredConstructor(Class.java:2178) ~[na:1.8.0_181]\n    at org.springframework.web.method.annotation.ModelAttributeMethodProcessor.createAttribute(ModelAttributeMethodProcessor.java:216) ~[spring-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletModelAttributeMethodProcessor.createAttribute(ServletModelAttributeMethodProcessor.java:84) ~[spring-webmvc-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.web.method.annotation.ModelAttributeMethodProcessor.resolveArgument(ModelAttributeMethodProcessor.java:139) ~[spring-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:126) ~[spring-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:166) ~[spring-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:134) ~[spring-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:800) ~[spring-webmvc-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1038) ~[spring-webmvc-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942) ~[spring-webmvc-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005) ~[spring-webmvc-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:897) ~[spring-webmvc-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:634) ~[tomcat-embed-core-9.0.16.jar:9.0.16]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882) ~[spring-webmvc-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:741) ~[tomcat-embed-core-9.0.16.jar:9.0.16]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-9.0.16.jar:9.0.16]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.16.jar:9.0.16]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.16.jar:9.0.16]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.16.jar:9.0.16]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.16.jar:9.0.16]\n    at org.springframework.boot.actuate.web.trace.servlet.HttpTraceFilter.doFilterInternal(HttpTraceFilter.java:90) ~[spring-boot-actuator-2.1.3.RELEASE.jar:2.1.3.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.16.jar:9.0.16]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.16.jar:9.0.16]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n    at org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter.doFilter(OAuth2AuthenticationProcessingFilter.java:176) ~[spring-security-oauth2-2.3.5.RELEASE.jar:na]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74) ~[spring-security-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) ~[spring-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) ~[spring-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.16.jar:9.0.16]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.16.jar:9.0.16]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.16.jar:9.0.16]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.16.jar:9.0.16]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92) ~[spring-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.16.jar:9.0.16]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.16.jar:9.0.16]\n    at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.16.jar:9.0.16]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.16.jar:9.0.16]\n    at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:117) ~[spring-boot-actuator-2.1.3.RELEASE.jar:2.1.3.RELEASE]\n    at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:106) ~[spring-boot-actuator-2.1.3.RELEASE.jar:2.1.3.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.16.jar:9.0.16]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.16.jar:9.0.16]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.16.jar:9.0.16]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.16.jar:9.0.16]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200) ~[tomcat-embed-core-9.0.16.jar:9.0.16]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-9.0.16.jar:9.0.16]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490) [tomcat-embed-core-9.0.16.jar:9.0.16]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) [tomcat-embed-core-9.0.16.jar:9.0.16]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.16.jar:9.0.16]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-9.0.16.jar:9.0.16]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.16.jar:9.0.16]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408) [tomcat-embed-core-9.0.16.jar:9.0.16]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-9.0.16.jar:9.0.16]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834) [tomcat-embed-core-9.0.16.jar:9.0.16]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415) [tomcat-embed-core-9.0.16.jar:9.0.16]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.16.jar:9.0.16]\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_181]\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_181]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.16.jar:9.0.16]\n    at java.lang.Thread.run(Thread.java:748) [na:1.8.0_181]\n</code></pre>\n\n<p>To try out, I added Spring Boot Web dependency but the same exception happens.</p>\n\n<p>I do not find any reference of <code>ServerHttpRequest</code> in my code so it must be brought in by some dependency (I highly suspect of OAuth and Spring Security dependencies as they are the only new dependencies since the last time Swagger worked just fine).</p>\n\n<p>Here's my Swagger configuration</p>\n\n<pre><code>@Configuration\n@EnableSwagger2WebFlux\npublic class SwaggerConfig {\n\n    @Bean\n    public Docket api() {\n        return new Docket(DocumentationType.SWAGGER_2)\n                .select()\n                // Make only our app specific endpoints available in Swagger docs\n                .apis(RequestHandlerSelectors.basePackage(\"com.xxxxx.spring.poc\"))\n                .build()\n                .apiInfo(apiInfo());\n    }\n\n    private ApiInfo apiInfo() {\n        return new ApiInfo(\"Simple Spring PoC\",\n                \"A very simple CRUD application developed with Spring Boot 2\",\n                \"0.1\",\n                \"Terms of service\",\n                new Contact(\"XXXXX\", \"www.xxxxxx.com\", \"xxxxx@xxxxx.com\"),\n                \"License of API\", \"https://www.apache.org/licenses/LICENSE-2.0\", Collections.emptyList());\n    }\n}\n</code></pre>\n\n<p>So, my question is, why and how can I fix Swagger error and show my REST documentation?</p>\n"},{"tags":["java","selenium-webdriver","winappdriver","appium-desktop","undetected-chromedriver"],"comments":[{"owner":{"account_id":16840055,"reputation":300,"user_id":12175652,"display_name":"Rolandas Ulevicius"},"score":1,"creation_date":1675752140,"post_id":75369169,"comment_id":132990846,"body_markdown":"you can check the link here https://github.com/ultrafunkamsterdam/undetected-chromedriver/issues/144. While I said undetected-chromedriver is an option that could work, microsoft probably is aware of it.","body":"you can check the link here <a href=\"https://github.com/ultrafunkamsterdam/undetected-chromedriver/issues/144\" rel=\"nofollow noreferrer\">github.com/ultrafunkamsterdam/undetected-chromedriver/issues&zwnj;&#8203;/&hellip;</a>. While I said undetected-chromedriver is an option that could work, microsoft probably is aware of it."}],"owner":{"account_id":18757976,"reputation":21,"user_id":13677526,"display_name":"sowmiya abi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1675774554,"answer_count":0,"score":1,"last_activity_date":1675747055,"creation_date":1675747055,"question_id":75369169,"body_markdown":"We are automating the windows application using appium - selenium and winappdriver. Before performing any action in our application we need to login with Microsoft account. For login with Microsoft account, our windows application supports chromedriver. So, while we click on &quot;Login with Microsoft account&quot; automatically chrome browser supports. Here how we need to integrate the undetected chrome driver?\r\n\r\nAfter click on &quot;Login with Microsoft account&quot;, login pop up is loading blank","title":"How to integrate undetected chrome driver for windows application","body":"<p>We are automating the windows application using appium - selenium and winappdriver. Before performing any action in our application we need to login with Microsoft account. For login with Microsoft account, our windows application supports chromedriver. So, while we click on &quot;Login with Microsoft account&quot; automatically chrome browser supports. Here how we need to integrate the undetected chrome driver?</p>\n<p>After click on &quot;Login with Microsoft account&quot;, login pop up is loading blank</p>\n"},{"tags":["java","xml","spring","spring-boot","properties-file"],"owner":{"account_id":9561866,"reputation":1,"user_id":17536816,"display_name":"vidyadawg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675746068,"creation_date":1675746010,"question_id":75369073,"body_markdown":"In our Spring Boot based Java project, I am attempting to find the best way to solve this problem.\r\n\r\nRight now, we have a directory full of Java based batch applications that follow the conventional Maven directory structure of `batch-name/src/main/java/batch.java` along with other subfolders like a `src/resources` that houses the Spring application.properties as well as the spring-config.xml. Each batch also has its own deploy folder with different environments, allowing us to place other properties files within them as needed by the program. For how it looks at the highest level, each batch is laid out something like this with a common folder in the same hierarchy:\r\n\r\nbapps\r\n\r\n--- batch1\r\n\r\n--- --- deploy\r\n\r\n--- --- src\r\n\r\n--- --- resources\r\n\r\n--- --- --- application.properties\r\n\r\n--- --- --- spring-config.xml\r\n\r\n--- batch2\r\n\r\n--- --- deploy\r\n\r\n--- --- src\r\n\r\n--- --- resources\r\n\r\n--- --- --- application.properties\r\n\r\n--- --- --- spring-config.xml\r\n\r\n--- batch3\r\n\r\n--- --- deploy\r\n\r\n--- --- src\r\n\r\n--- --- resources\r\n\r\n--- --- --- application.properties\r\n\r\n--- --- --- spring-config.xml\r\n\r\n--- common\r\n\r\n--- --- deploy\r\n\r\n--- --- --- common.properties\r\n\r\n--- --- src\r\n\r\n--- --- resources\r\n\r\n--- --- --- common-b-config.xml\r\n\r\n\r\nWhat we want is for each of these individual batches to pull in their own properties from within their personal application.properties files, what is found in their deploy directories, AND what is found within the common/deploy/common.properties file. As of now, it only pulls from its application.properties and deploy folders. We want to include common/deploy/common.properties into this flow.\r\n\r\nThe currently injected properties are within the classpath, so this is where my limited knowledge begins to fade. How do I get access to this common.properties file within other batches?\r\n\r\nCurrently we use a slightly modified PropertyPlaceholderConfigurer in each batch to point to classpath:application.properties. Everything cascades from there and as far as I know, we can&#39;t get away with just adding another route into that prop loader since any other path will override the other.\r\n\r\nI am still a bit of a novice at Spring and while the documentation is pretty robust, I am having a hard time following it since it tends to keep itself rather project structure neutral.","title":"How to reference a set of common properties shared across many Java (Spring/Boot) batches and is this even a good idea?","body":"<p>In our Spring Boot based Java project, I am attempting to find the best way to solve this problem.</p>\n<p>Right now, we have a directory full of Java based batch applications that follow the conventional Maven directory structure of <code>batch-name/src/main/java/batch.java</code> along with other subfolders like a <code>src/resources</code> that houses the Spring application.properties as well as the spring-config.xml. Each batch also has its own deploy folder with different environments, allowing us to place other properties files within them as needed by the program. For how it looks at the highest level, each batch is laid out something like this with a common folder in the same hierarchy:</p>\n<p>bapps</p>\n<p>--- batch1</p>\n<p>--- --- deploy</p>\n<p>--- --- src</p>\n<p>--- --- resources</p>\n<p>--- --- --- application.properties</p>\n<p>--- --- --- spring-config.xml</p>\n<p>--- batch2</p>\n<p>--- --- deploy</p>\n<p>--- --- src</p>\n<p>--- --- resources</p>\n<p>--- --- --- application.properties</p>\n<p>--- --- --- spring-config.xml</p>\n<p>--- batch3</p>\n<p>--- --- deploy</p>\n<p>--- --- src</p>\n<p>--- --- resources</p>\n<p>--- --- --- application.properties</p>\n<p>--- --- --- spring-config.xml</p>\n<p>--- common</p>\n<p>--- --- deploy</p>\n<p>--- --- --- common.properties</p>\n<p>--- --- src</p>\n<p>--- --- resources</p>\n<p>--- --- --- common-b-config.xml</p>\n<p>What we want is for each of these individual batches to pull in their own properties from within their personal application.properties files, what is found in their deploy directories, AND what is found within the common/deploy/common.properties file. As of now, it only pulls from its application.properties and deploy folders. We want to include common/deploy/common.properties into this flow.</p>\n<p>The currently injected properties are within the classpath, so this is where my limited knowledge begins to fade. How do I get access to this common.properties file within other batches?</p>\n<p>Currently we use a slightly modified PropertyPlaceholderConfigurer in each batch to point to classpath:application.properties. Everything cascades from there and as far as I know, we can't get away with just adding another route into that prop loader since any other path will override the other.</p>\n<p>I am still a bit of a novice at Spring and while the documentation is pretty robust, I am having a hard time following it since it tends to keep itself rather project structure neutral.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1675655010,"post_id":75356942,"comment_id":132968950,"body_markdown":"[Please do not upload images of code/data/errors.](//meta.stackoverflow.com/q/285551)","body":"<a href=\"//meta.stackoverflow.com/q/285551\">Please do not upload images of code/data/errors.</a>"}],"owner":{"account_id":16156358,"reputation":1,"user_id":11663500,"display_name":"UnclearTruthPeople"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675745656,"creation_date":1675651758,"question_id":75356942,"body_markdown":"In Spring DefaultSingletonBeanRegistry, both singletonObjects and singletonEarlyObjects use concurrentHashMap to ensure thread safety. Why doesn&#39;t singletonFactories need to use it?\r\n\r\nBelow is the part of the source code of DefaultSingletonBeanRegistry\r\n\r\n    \r\n\t/** Cache of singleton objects: bean name to bean instance. */\r\n\tprivate final Map&lt;String, Object&gt; singletonObjects = new ConcurrentHashMap&lt;&gt;(256);\r\n\r\n\t/** Cache of singleton factories: bean name to ObjectFactory. */\r\n\tprivate final Map&lt;String, ObjectFactory&lt;?&gt;&gt; singletonFactories = new HashMap&lt;&gt;(16);\r\n\r\n\t/** Cache of early singleton objects: bean name to bean instance. */\r\n\tprivate final Map&lt;String, Object&gt; earlySingletonObjects = new ConcurrentHashMap&lt;&gt;(16);\r\n\r\nWhy singletonFactories in Spring DefaultSingletonBeanRegistry don&#39;t use ConcurrentHashMap","title":"Why singletonFactories in Spring don&#39;t need to guarantee concurrency safety","body":"<p>In Spring DefaultSingletonBeanRegistry, both singletonObjects and singletonEarlyObjects use concurrentHashMap to ensure thread safety. Why doesn't singletonFactories need to use it?</p>\n<p>Below is the part of the source code of DefaultSingletonBeanRegistry</p>\n<pre><code>/** Cache of singleton objects: bean name to bean instance. */\nprivate final Map&lt;String, Object&gt; singletonObjects = new ConcurrentHashMap&lt;&gt;(256);\n\n/** Cache of singleton factories: bean name to ObjectFactory. */\nprivate final Map&lt;String, ObjectFactory&lt;?&gt;&gt; singletonFactories = new HashMap&lt;&gt;(16);\n\n/** Cache of early singleton objects: bean name to bean instance. */\nprivate final Map&lt;String, Object&gt; earlySingletonObjects = new ConcurrentHashMap&lt;&gt;(16);\n</code></pre>\n<p>Why singletonFactories in Spring DefaultSingletonBeanRegistry don't use ConcurrentHashMap</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":6770336,"reputation":1873,"user_id":5213857,"display_name":"Swayangjit"},"score":0,"creation_date":1669624853,"post_id":74597585,"comment_id":131675958,"body_markdown":"@Irshan Programmer How you are testing your app bundle ?","body":"@Irshan Programmer How you are testing your app bundle ?"},{"owner":{"account_id":14159344,"reputation":1,"user_id":10229071,"display_name":"Irshad Programmer"},"score":0,"creation_date":1669636011,"post_id":74597585,"comment_id":131679587,"body_markdown":"In the beginning, I used to publish app in the play store after the app was live then I was checking by changing the version code after 3 to 4 times truecaller was not working then I downloaded the app from the play store app bundle installer, from this app I&#39;m checking my appbundle","body":"In the beginning, I used to publish app in the play store after the app was live then I was checking by changing the version code after 3 to 4 times truecaller was not working then I downloaded the app from the play store app bundle installer, from this app I&#39;m checking my appbundle"},{"owner":{"account_id":6770336,"reputation":1873,"user_id":5213857,"display_name":"Swayangjit"},"score":0,"creation_date":1669641984,"post_id":74597585,"comment_id":131681544,"body_markdown":"while using bundle tool are you signing your apk with your keystore.","body":"while using bundle tool are you signing your apk with your keystore."}],"answers":[{"tags":[],"owner":{"account_id":6770336,"reputation":1873,"user_id":5213857,"display_name":"Swayangjit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669643840,"creation_date":1669643199,"answer_id":74601536,"question_id":74597585,"body_markdown":"If you are using your bundle tool to create an apk for testing then you can use the following command to generate a universal apk.\r\n\r\n    bundletool build-apks --bundle=&lt;bundle_file_location&gt; --output=universal.apks --mode=universal --ks=&lt;keystore_name&gt; --ks-pass=&#39;pass:&lt;keystore_passowrd&gt;&#39; --ks-key-alias=&lt;keystore_alias_name&gt; --key-pass=&#39;pass:key_password&#39;\r\n\r\nThen extract the apk using following command\r\n\r\n    unzip universal.apks -d apks\r\n\r\nFor playstore apps you have to update your SHA-1 with the SHA-1 from playstore App Integrity --&gt; App Signing tab in truecaller page.","title":"Truecaller_sdk not working in release appbundle","body":"<p>If you are using your bundle tool to create an apk for testing then you can use the following command to generate a universal apk.</p>\n<pre><code>bundletool build-apks --bundle=&lt;bundle_file_location&gt; --output=universal.apks --mode=universal --ks=&lt;keystore_name&gt; --ks-pass='pass:&lt;keystore_passowrd&gt;' --ks-key-alias=&lt;keystore_alias_name&gt; --key-pass='pass:key_password'\n</code></pre>\n<p>Then extract the apk using following command</p>\n<pre><code>unzip universal.apks -d apks\n</code></pre>\n<p>For playstore apps you have to update your SHA-1 with the SHA-1 from playstore App Integrity --&gt; App Signing tab in truecaller page.</p>\n"},{"tags":[],"owner":{"account_id":12446767,"reputation":956,"user_id":9062752,"display_name":"oyeraghib"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675742921,"creation_date":1675742921,"answer_id":75368882,"question_id":74597585,"body_markdown":"So Truecaller SDK gets a bit tricky when you are generating bundles. Let&#39;s say you have a current Truecaller key which you have made for your release/debug builds and when you run the application it runs fine but when you make a bundle (.aab) of it, it doesn&#39;t work.\r\n\r\nLet&#39;s see how to fix this :\r\n\r\nIf you read the Truecaller SDK docs carefully ( Link - https://docs.truecaller.com/truecaller-sdk/android/getting-release-ready/google-play-app-signing )\r\n\r\nyou will find that you would need to create a new Truecaller Partner key but this time with the SHA1 from your Google Play console.\r\n\r\n**Steps:**\r\n 1. Go to your app on Play console.\r\n 2. Find out the SHA1 of your app generated by Play Console ( It&#39;s different from the one you provided via Android Studio )\r\n 3. Use that SHA1 to generate a new Truecaller Partner key\r\n 4. Use this partner key when you are making bundles for releasing on Play Store.\r\n 5. If you want to directly install on your device this key won&#39;t work so you will have to use your previous key only.\r\n\r\n\r\nTip : You can keep both the keys in your strings.xml and use the key generated via SHA1 from Play Console when you are making bundles otherwise use your normal key for debugging.","title":"Truecaller_sdk not working in release appbundle","body":"<p>So Truecaller SDK gets a bit tricky when you are generating bundles. Let's say you have a current Truecaller key which you have made for your release/debug builds and when you run the application it runs fine but when you make a bundle (.aab) of it, it doesn't work.</p>\n<p>Let's see how to fix this :</p>\n<p>If you read the Truecaller SDK docs carefully ( Link - <a href=\"https://docs.truecaller.com/truecaller-sdk/android/getting-release-ready/google-play-app-signing\" rel=\"nofollow noreferrer\">https://docs.truecaller.com/truecaller-sdk/android/getting-release-ready/google-play-app-signing</a> )</p>\n<p>you will find that you would need to create a new Truecaller Partner key but this time with the SHA1 from your Google Play console.</p>\n<p><strong>Steps:</strong></p>\n<ol>\n<li>Go to your app on Play console.</li>\n<li>Find out the SHA1 of your app generated by Play Console ( It's different from the one you provided via Android Studio )</li>\n<li>Use that SHA1 to generate a new Truecaller Partner key</li>\n<li>Use this partner key when you are making bundles for releasing on Play Store.</li>\n<li>If you want to directly install on your device this key won't work so you will have to use your previous key only.</li>\n</ol>\n<p>Tip : You can keep both the keys in your strings.xml and use the key generated via SHA1 from Play Console when you are making bundles otherwise use your normal key for debugging.</p>\n"}],"owner":{"account_id":14159344,"reputation":1,"user_id":10229071,"display_name":"Irshad Programmer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":388,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1675742921,"creation_date":1669622348,"question_id":74597585,"body_markdown":"I added truecaller login for phone number verification I installed its working fine in the signed release apk if I generate a signed app bundle it&#39;s not working its calling `onfailuerLister()` error code 3 partnerKey error, it working fine if I have taken debug SHA1 if it&#39;s working in debug apk but not working in debug app-bundle, if I have taken SHA1 from release then release apk working fine but not working in the release app bundle, totally app-bundle not working at all, all other feature like location everything working fine in app-bundle except truecaller login \r\n\r\n\r\n\r\nMainactivity.java\r\n\r\n\r\n```\r\npackage com.amitor.kotlintrue;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.widget.EditText;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.appcompat.app.AlertDialog;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport com.truecaller.android.sdk.ITrueCallback;\r\nimport com.truecaller.android.sdk.TrueError;\r\nimport com.truecaller.android.sdk.TrueProfile;\r\nimport com.truecaller.android.sdk.TruecallerSDK;\r\nimport com.truecaller.android.sdk.TruecallerSdkScope;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n    private static final String TAG = MainActivity.class.getSimpleName();\r\nEditText editTextName, mobileNumber;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        editTextName = findViewById(R.id.editTextName);\r\n        mobileNumber = findViewById(R.id.mobileNumberText);\r\n\r\n        (findViewById(R.id.button)).setOnClickListener((View v) -&gt; {\r\n            //check if TrueCaller SDk is usable\r\n            if(TruecallerSDK.getInstance().isUsable()){\r\n                TruecallerSDK.getInstance().getUserProfile(this);\r\n            }else{\r\n\r\n                AlertDialog.Builder dialogBuilder = new AlertDialog.Builder(this);\r\n                dialogBuilder.setMessage(&quot;Truecaller App not installed.&quot;);\r\n\r\n                dialogBuilder.setPositiveButton(&quot;OK&quot;, (dialog, which) -&gt; {\r\n                            Log.d(TAG, &quot;onClick: Closing dialog&quot;);\r\n\r\n                            dialog.dismiss();\r\n                        }\r\n                );\r\n\r\n                dialogBuilder.setIcon(R.drawable.ic_launcher_background);\r\n                dialogBuilder.setTitle(&quot; &quot;);\r\n\r\n                AlertDialog alertDialog = dialogBuilder.create();\r\n                alertDialog.show();\r\n            }\r\n        });\r\n\r\n        // customisation of TrueCaller function like color , text can be done here\r\n        TruecallerSdkScope trueScope = new TruecallerSdkScope.Builder(this, sdkCallback)\r\n                .consentMode(TruecallerSdkScope.CONSENT_MODE_BOTTOMSHEET)\r\n                .loginTextPrefix(TruecallerSdkScope.LOGIN_TEXT_PREFIX_TO_GET_STARTED)\r\n                .loginTextSuffix(TruecallerSdkScope.LOGIN_TEXT_SUFFIX_PLEASE_VERIFY_MOBILE_NO)\r\n                .ctaTextPrefix(TruecallerSdkScope.CTA_TEXT_PREFIX_USE)\r\n                .buttonShapeOptions(TruecallerSdkScope.BUTTON_SHAPE_ROUNDED)\r\n                .privacyPolicyUrl(&quot;https://tagle.in&quot;)\r\n                .termsOfServiceUrl(&quot;https://tagle.in&quot;)\r\n                .footerType(TruecallerSdkScope.FOOTER_TYPE_NONE)\r\n                .consentTitleOption(TruecallerSdkScope.SDK_CONSENT_TITLE_LOG_IN)\r\n                .build();\r\n        TruecallerSDK.init(trueScope);\r\n    }\r\n    private final ITrueCallback sdkCallback = new ITrueCallback() {\r\n\r\n        @Override\r\n        public void onSuccessProfileShared(@NonNull final TrueProfile trueProfile) {\r\n            Toast.makeText(MainActivity.this,trueProfile.firstName, Toast.LENGTH_LONG ).show();\r\n\r\n            Log.i(TAG, trueProfile.firstName + &quot; &quot; + trueProfile.lastName);\r\n            launchHome(trueProfile);\r\n        }\r\n\r\n        @Override\r\n        public void onFailureProfileShared(@NonNull final TrueError trueError) {\r\n           Toast.makeText(MainActivity.this,TrueError.ERROR_TYPE, Toast.LENGTH_LONG ).show();\r\n//            Log.i(TAG, trueError.toString());\r\n        }\r\n\r\n        @Override\r\n        public void onVerificationRequired(@Nullable final TrueError trueError) {\r\n            Toast.makeText(MainActivity.this,trueError.getErrorType(), Toast.LENGTH_LONG ).show();\r\n\r\n            Log.i(TAG, &quot;onVerificationRequired&quot;);\r\n        }\r\n\r\n    };\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        if (requestCode == TruecallerSDK.SHARE_PROFILE_REQUEST_CODE) {\r\n            TruecallerSDK.getInstance().onActivityResultObtained(this, requestCode, resultCode, data);\r\n        }    }\r\n\r\n    private void launchHome(TrueProfile trueProfile) {\r\n\r\n        editTextName.setText(trueProfile.firstName);\r\n        mobileNumber.setText(trueProfile.phoneNumber);\r\n\r\n//        startActivity(new Intent(getApplicationContext(), HomeActivity.class)\r\n//                .putExtra(&quot;profile&quot;, trueProfile));\r\n//        finish();\r\n    }\r\n\r\n}\r\n```\r\n\r\nbuild.gradle\r\n\r\n \r\n```\r\nplugins {\r\n    id &#39;com.android.application&#39;\r\n}\r\n\r\nandroid {\r\n    signingConfigs {\r\n        debug {\r\n            storeFile file(&#39;/Users/moden/key_store.jks&#39;)\r\n            storePassword &#39;189556&#39;\r\n            keyAlias &#39;key0&#39;\r\n            keyPassword &#39;189556&#39;\r\n        }\r\n\r\n        release {\r\n            storeFile file(&#39;/Users/moden/key_store.jks&#39;)\r\n            storePassword &#39;123456&#39;\r\n            keyAlias &#39;key0&#39;\r\n            keyPassword &#39;123456&#39;\r\n        }\r\n    }\r\n    namespace &#39;com.amitor.kotlintrue&#39;\r\n    compileSdk 33\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.amitor.kotlintrue&quot;\r\n        minSdk 21\r\n        targetSdk 33\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;android.support.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            signingConfig signingConfigs.release\r\n\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n}\r\n\r\ndependencies {\r\n\r\n    implementation &#39;com.android.support:appcompat-v7:28.0.0&#39;\r\n    implementation &#39;com.android.support.constraint:constraint-layout:2.0.4&#39;\r\n    implementation &#39;com.truecaller.android.sdk:truecaller-sdk:2.7.0&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;com.android.support.test:runner:1.0.2&#39;\r\n    androidTestImplementation &#39;com.android.support.test.espresso:espresso-core:3.0.2&#39;\r\n}\r\n```\r\n\r\n\r\nAndroidManifest.xml\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n\r\n    &lt;uses-sdk tools:overrideLibrary=&quot;com.truecaller.android.sdk&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_CALL_LOG&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_PHONE_STATE&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ANSWER_PHONE_CALLS&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.Kotlintrue&quot;\r\n        tools:targetApi=&quot;31&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n\r\n            &lt;meta-data\r\n                android:name=&quot;android.app.lib_name&quot;\r\n                android:value=&quot;&quot; /&gt;\r\n        &lt;/activity&gt;\r\n\r\n        &lt;meta-data\r\n            android:name=&quot;com.truecaller.android.sdk.PartnerKey&quot;\r\n            android:value=&quot;3sBRy9fe254fbac0541b5988fb6b085190ed4&quot; /&gt;\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n```\r\n\r\nI changed many partners kyes changed dependency I tried every  solution which I got but not working at all ","title":"Truecaller_sdk not working in release appbundle","body":"<p>I added truecaller login for phone number verification I installed its working fine in the signed release apk if I generate a signed app bundle it's not working its calling <code>onfailuerLister()</code> error code 3 partnerKey error, it working fine if I have taken debug SHA1 if it's working in debug apk but not working in debug app-bundle, if I have taken SHA1 from release then release apk working fine but not working in the release app bundle, totally app-bundle not working at all, all other feature like location everything working fine in app-bundle except truecaller login</p>\n<p>Mainactivity.java</p>\n<pre><code>package com.amitor.kotlintrue;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.EditText;\nimport android.widget.Toast;\n\nimport androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\nimport androidx.appcompat.app.AlertDialog;\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport com.truecaller.android.sdk.ITrueCallback;\nimport com.truecaller.android.sdk.TrueError;\nimport com.truecaller.android.sdk.TrueProfile;\nimport com.truecaller.android.sdk.TruecallerSDK;\nimport com.truecaller.android.sdk.TruecallerSdkScope;\n\npublic class MainActivity extends AppCompatActivity {\n    private static final String TAG = MainActivity.class.getSimpleName();\nEditText editTextName, mobileNumber;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        editTextName = findViewById(R.id.editTextName);\n        mobileNumber = findViewById(R.id.mobileNumberText);\n\n        (findViewById(R.id.button)).setOnClickListener((View v) -&gt; {\n            //check if TrueCaller SDk is usable\n            if(TruecallerSDK.getInstance().isUsable()){\n                TruecallerSDK.getInstance().getUserProfile(this);\n            }else{\n\n                AlertDialog.Builder dialogBuilder = new AlertDialog.Builder(this);\n                dialogBuilder.setMessage(&quot;Truecaller App not installed.&quot;);\n\n                dialogBuilder.setPositiveButton(&quot;OK&quot;, (dialog, which) -&gt; {\n                            Log.d(TAG, &quot;onClick: Closing dialog&quot;);\n\n                            dialog.dismiss();\n                        }\n                );\n\n                dialogBuilder.setIcon(R.drawable.ic_launcher_background);\n                dialogBuilder.setTitle(&quot; &quot;);\n\n                AlertDialog alertDialog = dialogBuilder.create();\n                alertDialog.show();\n            }\n        });\n\n        // customisation of TrueCaller function like color , text can be done here\n        TruecallerSdkScope trueScope = new TruecallerSdkScope.Builder(this, sdkCallback)\n                .consentMode(TruecallerSdkScope.CONSENT_MODE_BOTTOMSHEET)\n                .loginTextPrefix(TruecallerSdkScope.LOGIN_TEXT_PREFIX_TO_GET_STARTED)\n                .loginTextSuffix(TruecallerSdkScope.LOGIN_TEXT_SUFFIX_PLEASE_VERIFY_MOBILE_NO)\n                .ctaTextPrefix(TruecallerSdkScope.CTA_TEXT_PREFIX_USE)\n                .buttonShapeOptions(TruecallerSdkScope.BUTTON_SHAPE_ROUNDED)\n                .privacyPolicyUrl(&quot;https://tagle.in&quot;)\n                .termsOfServiceUrl(&quot;https://tagle.in&quot;)\n                .footerType(TruecallerSdkScope.FOOTER_TYPE_NONE)\n                .consentTitleOption(TruecallerSdkScope.SDK_CONSENT_TITLE_LOG_IN)\n                .build();\n        TruecallerSDK.init(trueScope);\n    }\n    private final ITrueCallback sdkCallback = new ITrueCallback() {\n\n        @Override\n        public void onSuccessProfileShared(@NonNull final TrueProfile trueProfile) {\n            Toast.makeText(MainActivity.this,trueProfile.firstName, Toast.LENGTH_LONG ).show();\n\n            Log.i(TAG, trueProfile.firstName + &quot; &quot; + trueProfile.lastName);\n            launchHome(trueProfile);\n        }\n\n        @Override\n        public void onFailureProfileShared(@NonNull final TrueError trueError) {\n           Toast.makeText(MainActivity.this,TrueError.ERROR_TYPE, Toast.LENGTH_LONG ).show();\n//            Log.i(TAG, trueError.toString());\n        }\n\n        @Override\n        public void onVerificationRequired(@Nullable final TrueError trueError) {\n            Toast.makeText(MainActivity.this,trueError.getErrorType(), Toast.LENGTH_LONG ).show();\n\n            Log.i(TAG, &quot;onVerificationRequired&quot;);\n        }\n\n    };\n\n    @Override\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n        if (requestCode == TruecallerSDK.SHARE_PROFILE_REQUEST_CODE) {\n            TruecallerSDK.getInstance().onActivityResultObtained(this, requestCode, resultCode, data);\n        }    }\n\n    private void launchHome(TrueProfile trueProfile) {\n\n        editTextName.setText(trueProfile.firstName);\n        mobileNumber.setText(trueProfile.phoneNumber);\n\n//        startActivity(new Intent(getApplicationContext(), HomeActivity.class)\n//                .putExtra(&quot;profile&quot;, trueProfile));\n//        finish();\n    }\n\n}\n</code></pre>\n<p>build.gradle</p>\n<pre><code>plugins {\n    id 'com.android.application'\n}\n\nandroid {\n    signingConfigs {\n        debug {\n            storeFile file('/Users/moden/key_store.jks')\n            storePassword '189556'\n            keyAlias 'key0'\n            keyPassword '189556'\n        }\n\n        release {\n            storeFile file('/Users/moden/key_store.jks')\n            storePassword '123456'\n            keyAlias 'key0'\n            keyPassword '123456'\n        }\n    }\n    namespace 'com.amitor.kotlintrue'\n    compileSdk 33\n\n    defaultConfig {\n        applicationId &quot;com.amitor.kotlintrue&quot;\n        minSdk 21\n        targetSdk 33\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;android.support.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            signingConfig signingConfigs.release\n\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\n\ndependencies {\n\n    implementation 'com.android.support:appcompat-v7:28.0.0'\n    implementation 'com.android.support.constraint:constraint-layout:2.0.4'\n    implementation 'com.truecaller.android.sdk:truecaller-sdk:2.7.0'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'com.android.support.test:runner:1.0.2'\n    androidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.2'\n}\n</code></pre>\n<p>AndroidManifest.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n\n    &lt;uses-sdk tools:overrideLibrary=&quot;com.truecaller.android.sdk&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_CALL_LOG&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_PHONE_STATE&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ANSWER_PHONE_CALLS&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.Kotlintrue&quot;\n        tools:targetApi=&quot;31&quot;&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n\n            &lt;meta-data\n                android:name=&quot;android.app.lib_name&quot;\n                android:value=&quot;&quot; /&gt;\n        &lt;/activity&gt;\n\n        &lt;meta-data\n            android:name=&quot;com.truecaller.android.sdk.PartnerKey&quot;\n            android:value=&quot;3sBRy9fe254fbac0541b5988fb6b085190ed4&quot; /&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<p>I changed many partners kyes changed dependency I tried every  solution which I got but not working at all</p>\n"},{"tags":["java","cmd","terminal","classpath"],"answers":[{"tags":[],"owner":{"account_id":2926221,"reputation":727,"user_id":2507462,"display_name":"Daniel Sobrado"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675741951,"creation_date":1675741951,"answer_id":75368813,"question_id":75368750,"body_markdown":"The Java runtime shouldn&#39;t be impacted by installing JUnit or Java extensions in Visual Studio Code, however it&#39;s possible that any modifications to your classpath or environment variables contributed to the problem. \r\n\r\nYou can try telling the Java runtime to look for classes in the current directory by changing the CLASSPATH environment variable:\r\n```\r\nset CLASSPATH=.\r\n```","title":"How can I run Java classes without -cp","body":"<p>The Java runtime shouldn't be impacted by installing JUnit or Java extensions in Visual Studio Code, however it's possible that any modifications to your classpath or environment variables contributed to the problem.</p>\n<p>You can try telling the Java runtime to look for classes in the current directory by changing the CLASSPATH environment variable:</p>\n<pre><code>set CLASSPATH=.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20354875,"reputation":41,"user_id":14930649,"display_name":"Ampersands"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675742888,"creation_date":1675742888,"answer_id":75368878,"question_id":75368750,"body_markdown":"I fixed it, in the style of Daniel&#39;s answer.\r\n\r\nTurns out that when I installed JUnit, the instructions had me put CLASSPATH in my environment variables. Removing the CLASSPATH variable or changing it to &quot;.&quot; let me run from my cmd again without specifying classpath, since I removed what was redirecting my classpath. Then all I had to do was close and reopen my terminal.","title":"How can I run Java classes without -cp","body":"<p>I fixed it, in the style of Daniel's answer.</p>\n<p>Turns out that when I installed JUnit, the instructions had me put CLASSPATH in my environment variables. Removing the CLASSPATH variable or changing it to &quot;.&quot; let me run from my cmd again without specifying classpath, since I removed what was redirecting my classpath. Then all I had to do was close and reopen my terminal.</p>\n"}],"owner":{"account_id":20354875,"reputation":41,"user_id":14930649,"display_name":"Ampersands"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1675761980,"answer_count":2,"score":0,"last_activity_date":1675742888,"creation_date":1675741255,"question_id":75368750,"body_markdown":"In my command prompt (on Windows 10), I can run javac with any java file just fine. But, when I go to run the created class with &quot;java [classname]&quot; I get \r\n\r\n```\r\nError: Could not find or load main class [class name]\r\nCaused by: java.lang.ClassNotFoundException: [classname]\r\n```\r\n\r\nI used to be able to run just the command &quot;java [classname]&quot; and it ran AOK, but now it&#39;s not working and I need &quot;java -cp . [classname]&quot; instead. Why? Is there a way around this?\r\n\r\nHere&#39;s a bit of a timeline when I started having trouble:\r\n\r\n- Had to isntall JUnit for my CS class, around where the issues started happening\r\n- Had to install some Java extensions with VS code. ","title":"How can I run Java classes without -cp","body":"<p>In my command prompt (on Windows 10), I can run javac with any java file just fine. But, when I go to run the created class with &quot;java [classname]&quot; I get</p>\n<pre><code>Error: Could not find or load main class [class name]\nCaused by: java.lang.ClassNotFoundException: [classname]\n</code></pre>\n<p>I used to be able to run just the command &quot;java [classname]&quot; and it ran AOK, but now it's not working and I need &quot;java -cp . [classname]&quot; instead. Why? Is there a way around this?</p>\n<p>Here's a bit of a timeline when I started having trouble:</p>\n<ul>\n<li>Had to isntall JUnit for my CS class, around where the issues started happening</li>\n<li>Had to install some Java extensions with VS code.</li>\n</ul>\n"},{"tags":["java","sql"],"comments":[{"owner":{"account_id":25066457,"reputation":538,"user_id":18920732,"display_name":"ClearlyClueless"},"score":0,"creation_date":1675741303,"post_id":75368696,"comment_id":132989473,"body_markdown":"It appears you are trying to set date = 10 per your error message. What are the values of your parameters that are being passed into your function?","body":"It appears you are trying to set date = 10 per your error message. What are the values of your parameters that are being passed into your function?"},{"owner":{"account_id":10623825,"reputation":55,"user_id":7824051,"display_name":"Katie Stearns"},"score":0,"creation_date":1675741527,"post_id":75368696,"comment_id":132989503,"body_markdown":"It&#39;s drawing the value from a selected line in the table. In this particular case. I think the workoutID is set to 10. But why would it be trying to save that to the date?","body":"It&#39;s drawing the value from a selected line in the table. In this particular case. I think the workoutID is set to 10. But why would it be trying to save that to the date?"},{"owner":{"account_id":25066457,"reputation":538,"user_id":18920732,"display_name":"ClearlyClueless"},"score":0,"creation_date":1675741576,"post_id":75368696,"comment_id":132989508,"body_markdown":"Why are you using a workout date as a primary key? Primary keys should be unique to a record. Even as a timestamp you&#39;d be hardpressed to sell it as unique. Please update your OP with the schema/ddl for the table you are trying to insert into along with at least one record.of data from that table.","body":"Why are you using a workout date as a primary key? Primary keys should be unique to a record. Even as a timestamp you&#39;d be hardpressed to sell it as unique. Please update your OP with the schema/ddl for the table you are trying to insert into along with at least one record.of data from that table."},{"owner":{"account_id":25066457,"reputation":538,"user_id":18920732,"display_name":"ClearlyClueless"},"score":0,"creation_date":1675741739,"post_id":75368696,"comment_id":132989525,"body_markdown":"your workout I&#39;d is your last param being passed in and is hitting the workout date field instead. Workout_id is 7.","body":"your workout I&#39;d is your last param being passed in and is hitting the workout date field instead. Workout_id is 7."},{"owner":{"account_id":10623825,"reputation":55,"user_id":7824051,"display_name":"Katie Stearns"},"score":0,"creation_date":1675741894,"post_id":75368696,"comment_id":132989540,"body_markdown":"That&#39;s the item in the dataset most likely to be unique where most of the rest of it can repeat. Thanks, I&#39;ll try playing with the params and see if that helps.","body":"That&#39;s the item in the dataset most likely to be unique where most of the rest of it can repeat. Thanks, I&#39;ll try playing with the params and see if that helps."},{"owner":{"account_id":25066457,"reputation":538,"user_id":18920732,"display_name":"ClearlyClueless"},"score":0,"creation_date":1675742076,"post_id":75368696,"comment_id":132989558,"body_markdown":"I&#39;ve provided an answer below for your reference and some additional clarity if needed","body":"I&#39;ve provided an answer below for your reference and some additional clarity if needed"}],"answers":[{"tags":[],"owner":{"account_id":25066457,"reputation":538,"user_id":18920732,"display_name":"ClearlyClueless"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675742397,"creation_date":1675742027,"answer_id":75368817,"question_id":75368696,"body_markdown":"Your parameters are not in order:\r\n\r\n```java  \r\nPreparedStatement sqlCommand = DBConnection.getConnection().prepareStatement(&quot;UPDATE &quot; +\r\n                &quot;progress_table SET totalTime=?, timeWalking=?, timeRunning=?, totalDistance=?, &quot; +\r\n                &quot;avgPace=?, workoutRating=?, workoutID=? WHERE workout_date=?&quot;);\r\n     \r\n        sqlCommand.setFloat(1, totalWorkout);\r\n        sqlCommand.setFloat(2, walkTime);\r\n        sqlCommand.setFloat(3, runTime);\r\n        sqlCommand.setFloat(4, distance);\r\n        sqlCommand.setFloat(5, average);\r\n        sqlCommand.setString(6, rate);\r\n        sqlCommand.setInt(7, workoutID);\r\n        sqlCommand.setString(8, date);\r\n```\r\n\r\nAdditionally, if you are assigning a primary key to a table, it MUST be unique rather than most likely to be. Primary keys indicate that no matter what, this value references this row in this table and no other. Consider adding a true auto incrementing primary key or setting up a clustered index/combination key. A great option would be a combination of workout_date and workout_id for example.","title":"Trouble updating SQL table in JDBC","body":"<p>Your parameters are not in order:</p>\n<pre class=\"lang-java prettyprint-override\"><code>PreparedStatement sqlCommand = DBConnection.getConnection().prepareStatement(&quot;UPDATE &quot; +\n                &quot;progress_table SET totalTime=?, timeWalking=?, timeRunning=?, totalDistance=?, &quot; +\n                &quot;avgPace=?, workoutRating=?, workoutID=? WHERE workout_date=?&quot;);\n     \n        sqlCommand.setFloat(1, totalWorkout);\n        sqlCommand.setFloat(2, walkTime);\n        sqlCommand.setFloat(3, runTime);\n        sqlCommand.setFloat(4, distance);\n        sqlCommand.setFloat(5, average);\n        sqlCommand.setString(6, rate);\n        sqlCommand.setInt(7, workoutID);\n        sqlCommand.setString(8, date);\n</code></pre>\n<p>Additionally, if you are assigning a primary key to a table, it MUST be unique rather than most likely to be. Primary keys indicate that no matter what, this value references this row in this table and no other. Consider adding a true auto incrementing primary key or setting up a clustered index/combination key. A great option would be a combination of workout_date and workout_id for example.</p>\n"}],"owner":{"account_id":10623825,"reputation":55,"user_id":7824051,"display_name":"Katie Stearns"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75368817,"answer_count":1,"score":0,"last_activity_date":1675742397,"creation_date":1675740587,"question_id":75368696,"body_markdown":"I&#39;m trying to update a SQL table where the workout_date is my primary key. I&#39;m getting an error message about the date format. I&#39;ve tried everything I can think of but still stuck. Here&#39;s the relevant code:\r\n```\r\npublic static Boolean updateWorkout(String date, float totalWorkout, float walkTime,\r\n                                        float runTime, float distance, float average, String rate,\r\n                                        Integer workoutID) throws SQLException {\r\n        Locale loc = new Locale(&quot;en&quot;, &quot;US&quot;);\r\n\r\n\r\n        PreparedStatement sqlCommand = DBConnection.getConnection().prepareStatement(&quot;UPDATE &quot; +\r\n                &quot;progress_table SET totalTime=?, timeWalking=?, timeRunning=?, totalDistance=?, &quot; +\r\n                &quot;avgPace=?, workoutRating=?, workoutID=? WHERE workout_date=?&quot;);\r\n        sqlCommand.setString(1, date);\r\n        sqlCommand.setFloat(2, totalWorkout);\r\n        sqlCommand.setFloat(3, walkTime);\r\n        sqlCommand.setFloat(4, runTime);\r\n        sqlCommand.setFloat(5, distance);\r\n        sqlCommand.setFloat(6, average);\r\n        sqlCommand.setString(7, rate);\r\n        sqlCommand.setInt(8, workoutID);\r\n\r\n        try {\r\n            sqlCommand.executeUpdate();\r\n            sqlCommand.close();\r\n            return true;\r\n        } catch (SQLException e) {\r\n            e.printStackTrace();\r\n            sqlCommand.close();\r\n            return false;\r\n        }\r\n    }\r\n```\r\n\r\nAnd my error message:\r\n\r\n```\r\ncom.mysql.cj.jdbc.exceptions.MysqlDataTruncation: Data truncation: Incorrect date value: &#39;10&#39; for column &#39;workout_date&#39; at row 1\r\n\tat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:104)\r\n\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)\r\n\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1098)\r\n\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1046)\r\n\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1371)\r\n\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:1031)\r\n\tat Model.Progress.updateWorkout(Progress.java:121)\r\n\tat Controller.editView.saveRun(editView.java:157)```\r\n\r\nInsights will be greatly appreciated!\r\n\r\nEdit to add a sample of the data I&#39;m working with. I&#39;m testing with the last line.\r\n[![Data][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5Lqh5.png","title":"Trouble updating SQL table in JDBC","body":"<p>I'm trying to update a SQL table where the workout_date is my primary key. I'm getting an error message about the date format. I've tried everything I can think of but still stuck. Here's the relevant code:</p>\n<pre><code>public static Boolean updateWorkout(String date, float totalWorkout, float walkTime,\n                                        float runTime, float distance, float average, String rate,\n                                        Integer workoutID) throws SQLException {\n        Locale loc = new Locale(&quot;en&quot;, &quot;US&quot;);\n\n\n        PreparedStatement sqlCommand = DBConnection.getConnection().prepareStatement(&quot;UPDATE &quot; +\n                &quot;progress_table SET totalTime=?, timeWalking=?, timeRunning=?, totalDistance=?, &quot; +\n                &quot;avgPace=?, workoutRating=?, workoutID=? WHERE workout_date=?&quot;);\n        sqlCommand.setString(1, date);\n        sqlCommand.setFloat(2, totalWorkout);\n        sqlCommand.setFloat(3, walkTime);\n        sqlCommand.setFloat(4, runTime);\n        sqlCommand.setFloat(5, distance);\n        sqlCommand.setFloat(6, average);\n        sqlCommand.setString(7, rate);\n        sqlCommand.setInt(8, workoutID);\n\n        try {\n            sqlCommand.executeUpdate();\n            sqlCommand.close();\n            return true;\n        } catch (SQLException e) {\n            e.printStackTrace();\n            sqlCommand.close();\n            return false;\n        }\n    }\n</code></pre>\n<p>And my error message:</p>\n<pre><code>com.mysql.cj.jdbc.exceptions.MysqlDataTruncation: Data truncation: Incorrect date value: '10' for column 'workout_date' at row 1\n    at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:104)\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1098)\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1046)\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1371)\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:1031)\n    at Model.Progress.updateWorkout(Progress.java:121)\n    at Controller.editView.saveRun(editView.java:157)```\n\nInsights will be greatly appreciated!\n\nEdit to add a sample of the data I'm working with. I'm testing with the last line.\n[![Data][1]][1]\n\n\n  [1]: https://i.stack.imgur.com/5Lqh5.png\n</code></pre>\n"},{"tags":["java","hibernate","hibernate-mapping","spring-jdbc","mssql-jdbc"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1675695663,"post_id":75362883,"comment_id":132978913,"body_markdown":"What is the actually executed query? Like the output of `query.executeUpdate();`","body":"What is the actually executed query? Like the output of <code>query.executeUpdate();</code>"},{"owner":{"account_id":12834347,"reputation":23,"user_id":9284486,"display_name":"Roopchand"},"score":0,"creation_date":1675700599,"post_id":75362883,"comment_id":132980715,"body_markdown":"First I’ll call the createtemptable method so the create table query has to be executed after that I’ll perform some stuffs and then I drop that table. For both query getting an incorrect syntax error exception..","body":"First I’ll call the createtemptable method so the create table query has to be executed after that I’ll perform some stuffs and then I drop that table. For both query getting an incorrect syntax error exception.."},{"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"score":0,"creation_date":1675765734,"post_id":75362883,"comment_id":132994575,"body_markdown":"Like I answered on the Hibernate discourse forum (https://discourse.hibernate.org/t/sql-error-caused-by-com-microsoft-sqlserver-jdbc-sqlserverexception-incorrect-syntax-near-p0/7235) already, you can&#39;t use parameters for DDL statements like create table.","body":"Like I answered on the Hibernate discourse forum (<a href=\"https://discourse.hibernate.org/t/sql-error-caused-by-com-microsoft-sqlserver-jdbc-sqlserverexception-incorrect-syntax-near-p0/7235\" rel=\"nofollow noreferrer\">discourse.hibernate.org/t/&hellip;</a>) already, you can&#39;t use parameters for DDL statements like create table."}],"owner":{"account_id":12834347,"reputation":23,"user_id":9284486,"display_name":"Roopchand"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":542,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675741686,"creation_date":1675695097,"question_id":75362883,"body_markdown":"I am creating a temporary table for some purpose, I get the following error:\r\n\r\n\r\n&gt; Caused by: com.microsoft.sqlserver.jdbc.SQLServerException: Incorrect\r\n&gt; syntax near &#39;@P0&#39;.\r\n&gt;        at com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDatabaseError(SQLServerException.java:217)\r\n&gt; \r\n&gt;        at com.microsoft.sqlserver.jdbc.SQLServerStatement.getNextResult(SQLServerStatement.java:1655)\r\n&gt; \r\n&gt;        at com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement.doExecutePreparedStatement(SQLServerPreparedStatement.java:440)\r\n&gt; \r\n&gt;        at com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement$PrepStmtExecCmd.doExecute(SQLServerPreparedStatement.java:385)\r\n&gt; \r\n&gt;        at com.microsoft.sqlserver.jdbc.TDSCommand.execute(IOBuffer.java:7505) \r\n&gt;        at com.microsoft.sqlserver.jdbc.SQLServerConnection.executeCommand(SQLServerConnection.java:2445)\r\n&gt; \r\n&gt;        at com.microsoft.sqlserver.jdbc.SQLServerStatement.executeCommand(SQLServerStatement.java:191)\r\n&gt; \r\n&gt;        at com.microsoft.sqlserver.jdbc.SQLServerStatement.executeStatement(SQLServerStatement.java:166)\r\n&gt; \r\n&gt;        at com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement.executeUpdate(SQLServerPreparedStatement.java:328)\r\n&gt; \r\n&gt;        at org.apache.commons.dbcp.DelegatingPreparedStatement.executeUpdate(DelegatingPreparedStatement.java:102)\r\n&gt; \r\n&gt;        at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:204)\r\n&gt; \r\n&gt;        at org.hibernate.engine.query.spi.NativeSQLQueryPlan.performExecuteUpdate(NativeSQLQueryPlan.java:194)\r\n\r\nI read that someone encountered the same issue and was able to resolve it by changing the dialect, SQLServer2008Dialect to SQLServer2012Dialect. Unfortunately, this didn&#39;t work for me. Can anyone help me out? \r\n\r\n    \tprivate void dropTempTable(Session session, String tableName) {\r\n\t\tQuery query=session.createSQLQuery(&quot;drop table ?&quot;);\r\n\t\tquery=query.setParameter(1,tableName);\r\n\t\tquery.executeUpdate();\r\n\t}\r\n\r\n\tprivate void createTempTable(Session session, String tableName) {\r\n\t\tQuery query=session.createSQLQuery(&quot;create table ?&quot; + &quot; (&quot; +\r\n\t\t\t\t&quot;ID numeric(19,0) not null, &quot; +\r\n\t\t\t\t&quot;COM_ID numeric(19,0) not null, &quot; +\r\n\t\t\t\t&quot;SESSIONID varchar(256) not null, &quot; +\r\n\t\t\t\t&quot;TIME numeric(19,0) not null)&quot;);\r\n\t\tquery=query.setParameter(1,tableName);\r\n\t\tquery.executeUpdate();\r\n\t}\r\n\r\n","title":"SQL Error - Caused by: com.microsoft.sqlserver.jdbc.SQLServerException: Incorrect syntax near &#39;@P0&#39;","body":"<p>I am creating a temporary table for some purpose, I get the following error:</p>\n<blockquote>\n<p>Caused by: com.microsoft.sqlserver.jdbc.SQLServerException: Incorrect\nsyntax near '@P0'.\nat com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDatabaseError(SQLServerException.java:217)</p>\n<pre><code>   at com.microsoft.sqlserver.jdbc.SQLServerStatement.getNextResult(SQLServerStatement.java:1655)\n\n   at com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement.doExecutePreparedStatement(SQLServerPreparedStatement.java:440)\n\n   at com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement$PrepStmtExecCmd.doExecute(SQLServerPreparedStatement.java:385)\n\n   at com.microsoft.sqlserver.jdbc.TDSCommand.execute(IOBuffer.java:7505) \n   at com.microsoft.sqlserver.jdbc.SQLServerConnection.executeCommand(SQLServerConnection.java:2445)\n\n   at com.microsoft.sqlserver.jdbc.SQLServerStatement.executeCommand(SQLServerStatement.java:191)\n\n   at com.microsoft.sqlserver.jdbc.SQLServerStatement.executeStatement(SQLServerStatement.java:166)\n\n   at com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement.executeUpdate(SQLServerPreparedStatement.java:328)\n\n   at org.apache.commons.dbcp.DelegatingPreparedStatement.executeUpdate(DelegatingPreparedStatement.java:102)\n\n   at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:204)\n\n   at org.hibernate.engine.query.spi.NativeSQLQueryPlan.performExecuteUpdate(NativeSQLQueryPlan.java:194)\n</code></pre>\n</blockquote>\n<p>I read that someone encountered the same issue and was able to resolve it by changing the dialect, SQLServer2008Dialect to SQLServer2012Dialect. Unfortunately, this didn't work for me. Can anyone help me out?</p>\n<pre><code>    private void dropTempTable(Session session, String tableName) {\n    Query query=session.createSQLQuery(&quot;drop table ?&quot;);\n    query=query.setParameter(1,tableName);\n    query.executeUpdate();\n}\n\nprivate void createTempTable(Session session, String tableName) {\n    Query query=session.createSQLQuery(&quot;create table ?&quot; + &quot; (&quot; +\n            &quot;ID numeric(19,0) not null, &quot; +\n            &quot;COM_ID numeric(19,0) not null, &quot; +\n            &quot;SESSIONID varchar(256) not null, &quot; +\n            &quot;TIME numeric(19,0) not null)&quot;);\n    query=query.setParameter(1,tableName);\n    query.executeUpdate();\n}\n</code></pre>\n"},{"tags":["java","mongodb","mongoose","spring-data-mongodb","mongodb-java"],"answers":[{"tags":[],"owner":{"account_id":2638471,"reputation":25863,"user_id":2282634,"display_name":"Joe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675739190,"creation_date":1675739190,"answer_id":75368587,"question_id":75363048,"body_markdown":"The short answer is you can&#39;t.\r\n\r\nMongoDB is designed for returning documents, that is, objects containing key-value pairs.  There is no mechanism for a MongoDB query to return just a value, i.e. it will never return just `3` or `[3]`.\r\n\r\nYou could use aggregation with a $project stage at the end to give you a simplified object like:\r\n```\r\n{ rights: 3}\r\n```\r\n\r\nIn javascript that might look like:\r\n```\r\ndb.collection.aggregate([\r\n  {$match: {\r\n      _id: itemId,\r\n      &quot;groups._id&quot;: groupId,\r\n      &quot;groups.roles._id&quot;: role\r\n  }},\r\n  {$project: {\r\n      _id: 0,\r\n      group: {\r\n        $first: {\r\n          $filter: {\r\n            input: &quot;$groups&quot;,\r\n            cond: {$eq: [&quot;$$this._id&quot;,groupId]}\r\n          }\r\n        }\r\n      }\r\n  }},\r\n  {$project: {\r\n      &quot;roles&quot;: {\r\n        $first: {\r\n          $filter: {\r\n            input: &quot;$group.roles&quot;,\r\n            cond: { $eq: [ &quot;$$this._id&quot;,role]}\r\n          }\r\n        }\r\n      }\r\n  }},\r\n  {$project: {\r\n      rights: &quot;$roles.rights&quot;\r\n  }}\r\n])\r\n```\r\n\r\nExample: [Playground](https://mongoplayground.net/p/xyOOXlWkyq5)\r\n\r\nI&#39;m not familiar with spring boot, so I&#39;m not sure what that would look like in Java.","title":"How to get property value direct from mongodb in JAVA","body":"<p>The short answer is you can't.</p>\n<p>MongoDB is designed for returning documents, that is, objects containing key-value pairs.  There is no mechanism for a MongoDB query to return just a value, i.e. it will never return just <code>3</code> or <code>[3]</code>.</p>\n<p>You could use aggregation with a $project stage at the end to give you a simplified object like:</p>\n<pre><code>{ rights: 3}\n</code></pre>\n<p>In javascript that might look like:</p>\n<pre><code>db.collection.aggregate([\n  {$match: {\n      _id: itemId,\n      &quot;groups._id&quot;: groupId,\n      &quot;groups.roles._id&quot;: role\n  }},\n  {$project: {\n      _id: 0,\n      group: {\n        $first: {\n          $filter: {\n            input: &quot;$groups&quot;,\n            cond: {$eq: [&quot;$$this._id&quot;,groupId]}\n          }\n        }\n      }\n  }},\n  {$project: {\n      &quot;roles&quot;: {\n        $first: {\n          $filter: {\n            input: &quot;$group.roles&quot;,\n            cond: { $eq: [ &quot;$$this._id&quot;,role]}\n          }\n        }\n      }\n  }},\n  {$project: {\n      rights: &quot;$roles.rights&quot;\n  }}\n])\n</code></pre>\n<p>Example: <a href=\"https://mongoplayground.net/p/xyOOXlWkyq5\" rel=\"nofollow noreferrer\">Playground</a></p>\n<p>I'm not familiar with spring boot, so I'm not sure what that would look like in Java.</p>\n"}],"owner":{"account_id":24132460,"reputation":11,"user_id":18099896,"display_name":"Bojan Stojković"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675739190,"creation_date":1675695948,"question_id":75363048,"body_markdown":"Hi everyone I have a collection of documents like bellow. I want to directly get &quot;rights&quot; from roles array for params: _id, groups._id, roles._id using java mongo driver.\r\n\r\n\r\n```\r\n{\r\n  &quot;_id&quot;: 1000002,\r\n  &quot;groups&quot;: [\r\n    {\r\n      &quot;_id&quot;: 1,\r\n      &quot;roles&quot;: [\r\n        {\r\n          &quot;rights&quot;: 3,\r\n          &quot;_id&quot;: 1\r\n        },\r\n        {\r\n          &quot;rights&quot;: 7,\r\n          &quot;_id&quot;: 2\r\n        },\r\n        {\r\n          &quot;rights&quot;: 3,\r\n          &quot;_id&quot;: 3\r\n        }\r\n      ]\r\n    }\r\n  ],\r\n  &quot;timestamp&quot;: {\r\n    &quot;$date&quot;: {\r\n      &quot;$numberLong&quot;: &quot;1675267318028&quot;\r\n    }\r\n  },\r\n  &quot;users&quot;: [\r\n    {\r\n      &quot;accessProviderId&quot;: 1,\r\n      &quot;rights&quot;: 1,\r\n      &quot;_id&quot;: 4\r\n    },\r\n    {\r\n      &quot;accessProviderId&quot;: 1,\r\n      &quot;rights&quot;: 3,\r\n      &quot;_id&quot;: 5\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\nI have AccessListItem class which represents this document and I have used Bson filters to get it from mongo, but after fetching i had to get information through java function.. I want to get int value directly from mongo base.\r\n\r\n\r\n```\r\n        Bson fileFilter = Filters.eq(&quot;_id&quot;, itemId);\r\n        Bson groupFilter = Filters.elemMatch(&quot;groups&quot;, Document.parse(&quot;{_id:&quot;+groupId+&quot;}&quot;));\r\n        Bson roleFilter = Filters.elemMatch(&quot;groups.roles&quot;, Document.parse(&quot;{_id:&quot;+role+&quot;}&quot;));\r\n\r\n        Bson finalFilter = Filters.and(fileFilter, Filters.and(groupFilter,roleFilter));\r\n\r\n        MongoCollection&lt;AccessListItem&gt; accessListItemMongoCollection =      MongoUtils.getAccessCollection(type);\r\n        AccessListItem accessListItem =  accessListItemMongoCollection.find(finalFilter).first();\r\n```\r\n\r\n\r\n\r\n","title":"How to get property value direct from mongodb in JAVA","body":"<p>Hi everyone I have a collection of documents like bellow. I want to directly get &quot;rights&quot; from roles array for params: _id, groups._id, roles._id using java mongo driver.</p>\n<pre><code>{\n  &quot;_id&quot;: 1000002,\n  &quot;groups&quot;: [\n    {\n      &quot;_id&quot;: 1,\n      &quot;roles&quot;: [\n        {\n          &quot;rights&quot;: 3,\n          &quot;_id&quot;: 1\n        },\n        {\n          &quot;rights&quot;: 7,\n          &quot;_id&quot;: 2\n        },\n        {\n          &quot;rights&quot;: 3,\n          &quot;_id&quot;: 3\n        }\n      ]\n    }\n  ],\n  &quot;timestamp&quot;: {\n    &quot;$date&quot;: {\n      &quot;$numberLong&quot;: &quot;1675267318028&quot;\n    }\n  },\n  &quot;users&quot;: [\n    {\n      &quot;accessProviderId&quot;: 1,\n      &quot;rights&quot;: 1,\n      &quot;_id&quot;: 4\n    },\n    {\n      &quot;accessProviderId&quot;: 1,\n      &quot;rights&quot;: 3,\n      &quot;_id&quot;: 5\n    }\n  ]\n}\n</code></pre>\n<p>I have AccessListItem class which represents this document and I have used Bson filters to get it from mongo, but after fetching i had to get information through java function.. I want to get int value directly from mongo base.</p>\n<pre><code>        Bson fileFilter = Filters.eq(&quot;_id&quot;, itemId);\n        Bson groupFilter = Filters.elemMatch(&quot;groups&quot;, Document.parse(&quot;{_id:&quot;+groupId+&quot;}&quot;));\n        Bson roleFilter = Filters.elemMatch(&quot;groups.roles&quot;, Document.parse(&quot;{_id:&quot;+role+&quot;}&quot;));\n\n        Bson finalFilter = Filters.and(fileFilter, Filters.and(groupFilter,roleFilter));\n\n        MongoCollection&lt;AccessListItem&gt; accessListItemMongoCollection =      MongoUtils.getAccessCollection(type);\n        AccessListItem accessListItem =  accessListItemMongoCollection.find(finalFilter).first();\n</code></pre>\n"},{"tags":["java","dockerfile"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1675755674,"post_id":75368504,"comment_id":132991588,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":27653916,"reputation":1,"user_id":21108220,"display_name":"90yao"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675738822,"creation_date":1675738083,"question_id":75368504,"body_markdown":"I am a newbie,I use &quot;java -Djarmode=layertools -jar demo-0.0.1.jar extract&quot; to split my files and wirte a dockerfile to build a image,\r\nexample:[enter image description here](https://i.stack.imgur.com/jaBfk.png)\r\nbut,The BOOT-INF/lib of those files are exactly the same, I hope to reduce the size of my docker container, \r\nso I hope those files can share BOOT-INF/lib in the container,can it be done ?\r\n\r\nI hope those files can share BOOT-INF/lib in the docker container\r\nThank!","title":"to share BOOT-INF/lib between multiple JAR files in docker container","body":"<p>I am a newbie,I use &quot;java -Djarmode=layertools -jar demo-0.0.1.jar extract&quot; to split my files and wirte a dockerfile to build a image,\nexample:<a href=\"https://i.stack.imgur.com/jaBfk.png\" rel=\"nofollow noreferrer\">enter image description here</a>\nbut,The BOOT-INF/lib of those files are exactly the same, I hope to reduce the size of my docker container,\nso I hope those files can share BOOT-INF/lib in the container,can it be done ?</p>\n<p>I hope those files can share BOOT-INF/lib in the docker container\nThank!</p>\n"},{"tags":["java","spring-boot","pdfbox"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":1,"creation_date":1675174554,"post_id":75297882,"comment_id":132868682,"body_markdown":"File names are usually not stored on the PDF.","body":"File names are usually not stored on the PDF."},{"owner":{"account_id":551326,"reputation":3001,"user_id":916138,"accept_rate":45,"display_name":"Shahid Ghafoor"},"score":0,"creation_date":1675178716,"post_id":75297882,"comment_id":132870263,"body_markdown":"@TilmanHausherr any workaround?","body":"@TilmanHausherr any workaround?"}],"answers":[{"tags":[],"owner":{"account_id":14313923,"reputation":8884,"user_id":10802527,"display_name":"K J"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675738188,"creation_date":1675688542,"answer_id":75361662,"question_id":75297882,"body_markdown":"There is no clear way to decide on number of images in a PDF without considering what you mean by images.\r\n\r\nIt is not as simple as counting visible content, nor use an extraction listing. Here are 5 images on the page, but the page is considered as only having one image, even though I can drag and scale the smaller copies. However, none have names that say Sun Moon Earth and Sea. They did as sun, moon, earth &amp; sea.png but in a PDF they are given different names and ALL 5 are placed in the file as `/Im0` but allocated different object numbers and different IDentity descriptions, It does not matter how many places they are linked to, nor total number of copies, they will simply be known by placements, so often the writer will keep it brief as /Im0 /Im1 /Im2 etc. Thus I was slightly surprised to see here there is only /Im0. But I suppose its how you count as a &quot;page canvas media&quot; when overlaying.  \r\nEach image has its own &quot;fixed page&quot; but we don&#39;t count images as pages here they are called a &quot;form&quot;.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n```\r\n&lt;&lt;/BBox[0 0 430 430]/Type/XObject/Length 39/Resources&lt;&lt;/XObject&lt;&lt;/Im0 16 0 R&gt;&gt;&gt;&gt;/Subtype/Form&gt;&gt;\r\nstream\r\nq\r\n430 0 0 430 0 0 cm\r\n/Im0 Do\r\nQ\r\nq\r\nQ\r\nq\r\nQ\r\n\r\nendstream\r\nendobj\r\n\r\n13 0 obj\r\n&lt;&lt;/BBox[0 0 430 430]/Type/XObject/Length 39/Resources&lt;&lt;/XObject&lt;&lt;/Im0 17 0 R&gt;&gt;&gt;&gt;/Subtype/Form&gt;&gt;\r\nstream\r\nq\r\n430 0 0 430 0 0 cm\r\n/Im0 Do\r\nQ\r\nq\r\nQ\r\nq\r\nQ\r\n\r\nendstream\r\nendobj\r\n\r\n14 0 obj\r\n&lt;&lt;/BBox[0 0 430 430]/Type/XObject/Length 39/Resources&lt;&lt;/XObject&lt;&lt;/Im0 18 0 R&gt;&gt;&gt;&gt;/Subtype/Form&gt;&gt;\r\nstream\r\nq\r\n430 0 0 430 0 0 cm\r\n/Im0 Do\r\n```\r\n\r\nSo Mutool (base for pyMuPDF) agrees in &quot;info&quot; query  \r\n`Images (1):  1  (4 0 R):  [ ASCIIHex ] 1720x860 8bpc DevRGB (10 0 R)`\r\nOk that expected lets extract\r\n```\r\nextracting image-0010.png\r\nextracting image-0015.png\r\nextracting image-0016.png\r\nextracting image-0017.png\r\nextracting image-0018.png\r\nextracting image-0019.png\r\nextracting image-0020.png\r\nextracting image-0021.png\r\nextracting image-0022.png\r\n```\r\nSo that&#39;s expected too there is one image and 8 other different images each a sub layer(s) of the 4 visible. \r\n\r\nearth is 16 and 20\r\nmoon  is 17 and 21\r\nsea   is 18 and 22\r\nsun   is 15 and 19\r\n  \r\nHowever those 8 different pngs are nothing like the source pngs since they are simply shadows of the inputs.\r\n\r\nThe inter relationship is seen better in \r\n```\r\npdfimages -list clipboard4.pdf\r\npage   num  type   width height color comp bpc  enc interp  object ID x-ppi y-ppi size ratio\r\n--------------------------------------------------------------------------------------------\r\n   1     0 image    1720   860  rgb     3   8  image  no        10  0    96    96 8803K 203%\r\n   1     1 image     430   430  rgb     3   8  image  no        15  0   249   249 1100K 203%\r\n   1     2 smask     430   430  gray    1   8  image  no        15  0   249   249  367K 203%\r\n   1     3 image     430   430  rgb     3   8  image  no        16  0   160   160 1100K 203%\r\n   1     4 smask     430   430  gray    1   8  image  no        16  0   160   160  367K 203%\r\n   1     5 image     430   430  rgb     3   8  image  no        17  0   288   288 1100K 203%\r\n   1     6 smask     430   430  gray    1   8  image  no        17  0   288   288  367K 203%\r\n   1     7 image     430   430  rgb     3   8  image  no        18  0   198   198 1100K 203%\r\n   1     8 smask     430   430  gray    1   8  image  no        18  0   198   198  367K 203%\r\n```\r\n  [1]: https://i.stack.imgur.com/GJ74Z.png","title":"How to determine that PDImageXObject contain specific image","body":"<p>There is no clear way to decide on number of images in a PDF without considering what you mean by images.</p>\n<p>It is not as simple as counting visible content, nor use an extraction listing. Here are 5 images on the page, but the page is considered as only having one image, even though I can drag and scale the smaller copies. However, none have names that say Sun Moon Earth and Sea. They did as sun, moon, earth &amp; sea.png but in a PDF they are given different names and ALL 5 are placed in the file as <code>/Im0</code> but allocated different object numbers and different IDentity descriptions, It does not matter how many places they are linked to, nor total number of copies, they will simply be known by placements, so often the writer will keep it brief as /Im0 /Im1 /Im2 etc. Thus I was slightly surprised to see here there is only /Im0. But I suppose its how you count as a &quot;page canvas media&quot; when overlaying.<br />\nEach image has its own &quot;fixed page&quot; but we don't count images as pages here they are called a &quot;form&quot;.</p>\n<p><a href=\"https://i.stack.imgur.com/GJ74Z.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GJ74Z.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>&lt;&lt;/BBox[0 0 430 430]/Type/XObject/Length 39/Resources&lt;&lt;/XObject&lt;&lt;/Im0 16 0 R&gt;&gt;&gt;&gt;/Subtype/Form&gt;&gt;\nstream\nq\n430 0 0 430 0 0 cm\n/Im0 Do\nQ\nq\nQ\nq\nQ\n\nendstream\nendobj\n\n13 0 obj\n&lt;&lt;/BBox[0 0 430 430]/Type/XObject/Length 39/Resources&lt;&lt;/XObject&lt;&lt;/Im0 17 0 R&gt;&gt;&gt;&gt;/Subtype/Form&gt;&gt;\nstream\nq\n430 0 0 430 0 0 cm\n/Im0 Do\nQ\nq\nQ\nq\nQ\n\nendstream\nendobj\n\n14 0 obj\n&lt;&lt;/BBox[0 0 430 430]/Type/XObject/Length 39/Resources&lt;&lt;/XObject&lt;&lt;/Im0 18 0 R&gt;&gt;&gt;&gt;/Subtype/Form&gt;&gt;\nstream\nq\n430 0 0 430 0 0 cm\n/Im0 Do\n</code></pre>\n<p>So Mutool (base for pyMuPDF) agrees in &quot;info&quot; query<br />\n<code>Images (1):  1  (4 0 R):  [ ASCIIHex ] 1720x860 8bpc DevRGB (10 0 R)</code>\nOk that expected lets extract</p>\n<pre><code>extracting image-0010.png\nextracting image-0015.png\nextracting image-0016.png\nextracting image-0017.png\nextracting image-0018.png\nextracting image-0019.png\nextracting image-0020.png\nextracting image-0021.png\nextracting image-0022.png\n</code></pre>\n<p>So that's expected too there is one image and 8 other different images each a sub layer(s) of the 4 visible.</p>\n<p>earth is 16 and 20\nmoon  is 17 and 21\nsea   is 18 and 22\nsun   is 15 and 19</p>\n<p>However those 8 different pngs are nothing like the source pngs since they are simply shadows of the inputs.</p>\n<p>The inter relationship is seen better in</p>\n<pre><code>pdfimages -list clipboard4.pdf\npage   num  type   width height color comp bpc  enc interp  object ID x-ppi y-ppi size ratio\n--------------------------------------------------------------------------------------------\n   1     0 image    1720   860  rgb     3   8  image  no        10  0    96    96 8803K 203%\n   1     1 image     430   430  rgb     3   8  image  no        15  0   249   249 1100K 203%\n   1     2 smask     430   430  gray    1   8  image  no        15  0   249   249  367K 203%\n   1     3 image     430   430  rgb     3   8  image  no        16  0   160   160 1100K 203%\n   1     4 smask     430   430  gray    1   8  image  no        16  0   160   160  367K 203%\n   1     5 image     430   430  rgb     3   8  image  no        17  0   288   288 1100K 203%\n   1     6 smask     430   430  gray    1   8  image  no        17  0   288   288  367K 203%\n   1     7 image     430   430  rgb     3   8  image  no        18  0   198   198 1100K 203%\n   1     8 smask     430   430  gray    1   8  image  no        18  0   198   198  367K 203%\n</code></pre>\n"}],"owner":{"account_id":551326,"reputation":3001,"user_id":916138,"accept_rate":45,"display_name":"Shahid Ghafoor"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675738188,"creation_date":1675171567,"question_id":75297882,"body_markdown":"**I have 5 images** \r\n\r\nsun.png\r\n\r\nmoon.png\r\n\r\nsea.png\r\n\r\nearth.png\r\n\r\nsky.png\r\n\r\n**I put these images into pdf via pdf box and** \r\n**I am able to identify the instance of PDImageXObject**\r\n\r\n    PDXObject pdxObject = getResources().getXObject(objectName);\r\n    if (pdxObject instanceof PDImageXObject) {\r\n     //I want earth.png \r\n     PDImageXObject image = (PDImageXObject)xobject;\r\n     BufferedImage bImage = image.getImage();\r\n     String fileName=&#39;earth.png&#39;; // How can I get same file name as it was at the time of placing on pdf\r\n\t ImageIO.write(bImage,&quot;PNG&quot;,new File(fileName));\r\n\t System.out.println(&quot;earth saved.&quot;);\r\n\r\n    }\r\n\r\n\r\nBut how can I determine that this PDImageXObject is earth.png one? ; and \r\n\r\nHow can I get same file name as it was at the time of placing on pdf","title":"How to determine that PDImageXObject contain specific image","body":"<p><strong>I have 5 images</strong></p>\n<p>sun.png</p>\n<p>moon.png</p>\n<p>sea.png</p>\n<p>earth.png</p>\n<p>sky.png</p>\n<p><strong>I put these images into pdf via pdf box and</strong>\n<strong>I am able to identify the instance of PDImageXObject</strong></p>\n<pre><code>PDXObject pdxObject = getResources().getXObject(objectName);\nif (pdxObject instanceof PDImageXObject) {\n //I want earth.png \n PDImageXObject image = (PDImageXObject)xobject;\n BufferedImage bImage = image.getImage();\n String fileName='earth.png'; // How can I get same file name as it was at the time of placing on pdf\n ImageIO.write(bImage,&quot;PNG&quot;,new File(fileName));\n System.out.println(&quot;earth saved.&quot;);\n\n}\n</code></pre>\n<p>But how can I determine that this PDImageXObject is earth.png one? ; and</p>\n<p>How can I get same file name as it was at the time of placing on pdf</p>\n"},{"tags":["java","android","flutter","kotlin","dart"],"owner":{"account_id":19664614,"reputation":37,"user_id":14395341,"display_name":"GTurkistane"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675738141,"creation_date":1675738141,"question_id":75368508,"body_markdown":"I wanted to invoke a kotlin code that emulates an NFC card in a flutter app with the dart as the main language, I was able to invoke it, however, I get this error:\r\n\r\nMissingPluginException(No implementation found for method startNfcEmulator on channel HCE)\r\n\r\nI am having a hard time trying to fix it and I have tried all solutions I found on the internet and I would appreciate some help. here is the kotlin code(it is part of this [project][1]):\r\n\r\n ```\r\npackage com.example.my_project\r\n\r\n\r\nimport android.content.Intent\r\nimport android.nfc.NfcAdapter\r\nimport android.os.Bundle\r\nimport androidx.appcompat.app.AppCompatActivity\r\nimport com.mycompany.build1.KHostApduService\r\nimport io.flutter.embedding.engine.FlutterEngine\r\nimport io.flutter.plugin.common.MethodChannel\r\n\r\nclass CardEmulatorActivity : AppCompatActivity(){\r\n   private val CHANNEL = &quot;HCE&quot;\r\n\r\n\r\n     fun onCreate(savedInstanceState: Bundle?, flutterEngine: FlutterEngine) {\r\n        super.onCreate(savedInstanceState)\r\n\r\n        mNfcAdapter = NfcAdapter.getDefaultAdapter(this)\r\n\r\n        MethodChannel(flutterEngine.dartExecutor.binaryMessenger, CHANNEL).setMethodCallHandler{ methodCall, result -&gt;\r\n\r\n            if (methodCall.method == &quot;startNfcEmulator&quot;) {\r\n                val msg = methodCall.argument&lt;String&gt;(&quot;msg&quot;)\r\n                val intent = Intent(this@CardEmulatorActivity, KHostApduService::class.java)\r\n                    intent.putExtra(&quot;ndefMessage&quot;, msg)\r\n                    startService(intent)\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n}\r\n\r\n\r\n``` \r\n\r\n\r\nand here is the flutter part(parts of it, the original is 1000+ line codes):\r\n\r\n``` \r\nclass _STHomeWidgetState extends State&lt;STHomeWidget&gt; with TickerProviderStateMixin {\r\n\r\n\r\n  static const platform = const MethodChannel(&#39;HCE&#39;);\r\n\r\n``` \r\n...\r\n\r\n```\r\n  startNfcEmulator(String msg) async {\r\n    await platform.invokeMethod(&#39;startNfcEmulator&#39;, {\r\n      &quot;msg&quot; : msg,\r\n    });\r\n  }\r\n```\r\n\r\nand here are all the imports if needed(it is a mess i know): \r\n\r\n```\r\nimport &#39;../auth/auth_util.dart&#39;;\r\nimport &#39;../backend/backend.dart&#39;;\r\nimport &#39;../flutter_flow/flutter_flow_animations.dart&#39;;\r\nimport &#39;../flutter_flow/flutter_flow_expanded_image_view.dart&#39;;\r\nimport &#39;../flutter_flow/flutter_flow_icon_button.dart&#39;;\r\nimport &#39;../flutter_flow/flutter_flow_theme.dart&#39;;\r\nimport &#39;../flutter_flow/flutter_flow_util.dart&#39;;\r\nimport &#39;../flutter_flow/flutter_flow_widgets.dart&#39;;\r\nimport &#39;../flutter_flow/instant_timer.dart&#39;;\r\nimport &#39;../custom_code/actions/index.dart&#39; as actions;\r\nimport &#39;package:flutter/material.dart&#39;;\r\nimport &#39;package:flutter/scheduler.dart&#39;;\r\nimport &#39;package:flutter_animate/flutter_animate.dart&#39;;\r\nimport &#39;package:flutter_spinkit/flutter_spinkit.dart&#39;;\r\nimport &#39;package:google_fonts/google_fonts.dart&#39;;\r\nimport &#39;package:local_auth/local_auth.dart&#39;;\r\nimport &#39;package:page_transition/page_transition.dart&#39;;\r\nimport &#39;package:flutter/services.dart&#39;;\r\n\r\n```\r\n\r\n\r\n  [1]: https://github.com/underwindfall/NFCAndroid","title":"MissingPluginException while trying to invoke a kotlin code to dart/flutter","body":"<p>I wanted to invoke a kotlin code that emulates an NFC card in a flutter app with the dart as the main language, I was able to invoke it, however, I get this error:</p>\n<p>MissingPluginException(No implementation found for method startNfcEmulator on channel HCE)</p>\n<p>I am having a hard time trying to fix it and I have tried all solutions I found on the internet and I would appreciate some help. here is the kotlin code(it is part of this <a href=\"https://github.com/underwindfall/NFCAndroid\" rel=\"nofollow noreferrer\">project</a>):</p>\n<pre><code>package com.example.my_project\n\n\nimport android.content.Intent\nimport android.nfc.NfcAdapter\nimport android.os.Bundle\nimport androidx.appcompat.app.AppCompatActivity\nimport com.mycompany.build1.KHostApduService\nimport io.flutter.embedding.engine.FlutterEngine\nimport io.flutter.plugin.common.MethodChannel\n\nclass CardEmulatorActivity : AppCompatActivity(){\n  private val CHANNEL = &quot;HCE&quot;\n\n\n    fun onCreate(savedInstanceState: Bundle?, flutterEngine: FlutterEngine) {\n       super.onCreate(savedInstanceState)\n\n       mNfcAdapter = NfcAdapter.getDefaultAdapter(this)\n\n       MethodChannel(flutterEngine.dartExecutor.binaryMessenger, CHANNEL).setMethodCallHandler{ methodCall, result -&gt;\n\n           if (methodCall.method == &quot;startNfcEmulator&quot;) {\n               val msg = methodCall.argument&lt;String&gt;(&quot;msg&quot;)\n               val intent = Intent(this@CardEmulatorActivity, KHostApduService::class.java)\n                   intent.putExtra(&quot;ndefMessage&quot;, msg)\n                   startService(intent)\n           }\n       }\n\n   }\n\n\n\n\n}\n\n\n</code></pre>\n<p>and here is the flutter part(parts of it, the original is 1000+ line codes):</p>\n<pre><code>class _STHomeWidgetState extends State&lt;STHomeWidget&gt; with TickerProviderStateMixin {\n\n\n  static const platform = const MethodChannel('HCE');\n\n</code></pre>\n<p>...</p>\n<pre><code>  startNfcEmulator(String msg) async {\n    await platform.invokeMethod('startNfcEmulator', {\n      &quot;msg&quot; : msg,\n    });\n  }\n</code></pre>\n<p>and here are all the imports if needed(it is a mess i know):</p>\n<pre><code>import '../auth/auth_util.dart';\nimport '../backend/backend.dart';\nimport '../flutter_flow/flutter_flow_animations.dart';\nimport '../flutter_flow/flutter_flow_expanded_image_view.dart';\nimport '../flutter_flow/flutter_flow_icon_button.dart';\nimport '../flutter_flow/flutter_flow_theme.dart';\nimport '../flutter_flow/flutter_flow_util.dart';\nimport '../flutter_flow/flutter_flow_widgets.dart';\nimport '../flutter_flow/instant_timer.dart';\nimport '../custom_code/actions/index.dart' as actions;\nimport 'package:flutter/material.dart';\nimport 'package:flutter/scheduler.dart';\nimport 'package:flutter_animate/flutter_animate.dart';\nimport 'package:flutter_spinkit/flutter_spinkit.dart';\nimport 'package:google_fonts/google_fonts.dart';\nimport 'package:local_auth/local_auth.dart';\nimport 'package:page_transition/page_transition.dart';\nimport 'package:flutter/services.dart';\n\n</code></pre>\n"},{"tags":["java","google-cloud-platform","google-cloud-storage"],"answers":[{"tags":[],"owner":{"account_id":27683119,"reputation":21,"user_id":21131442,"display_name":"Ario Bintang"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675738136,"creation_date":1675738136,"answer_id":75368507,"question_id":75320586,"body_markdown":"After several retries, finally I can solve this problem with using jetty instead of netty","title":"com.google.auth.oauth2.GoogleAuthException: Error getting access token for service account: Stream is closed. while uploading image to cloud storage","body":"<p>After several retries, finally I can solve this problem with using jetty instead of netty</p>\n"}],"owner":{"account_id":27683119,"reputation":21,"user_id":21131442,"display_name":"Ario Bintang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":598,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75368507,"answer_count":1,"score":1,"last_activity_date":1675738136,"creation_date":1675327615,"question_id":75320586,"body_markdown":"I already use google cloud storage for couple of months, and this issue suddenly come up in 30 January 2023 and I don&#39;t know why. \r\n\r\nI had setup credentials using key .json from IAM google cloud platform service account, and everything work fine in my local environment. But when application going to production in GKE I got the error \r\n```\r\nCaused by: java.io.IOException: Error getting access token for service account: Stream is closed, iss: refund@pg-user.iam.gserviceaccount.com\r\n\tat com.google.auth.oauth2.ServiceAccountCredentials.refreshAccessToken(ServiceAccountCredentials.java:605) ~[google-auth-library-oauth2-http-1.4.0.jar!/:na]\r\n\tat com.google.auth.oauth2.OAuth2Credentials$1.call(OAuth2Credentials.java:257) ~[google-auth-library-oauth2-http-1.4.0.jar!/:na]\r\n\tat com.google.auth.oauth2.OAuth2Credentials$1.call(OAuth2Credentials.java:254) ~[google-auth-library-oauth2-http-1.4.0.jar!/:na]\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\r\n\tat com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:31) ~[guava-31.0.1-jre.jar!/:na]\r\n\tat com.google.auth.oauth2.OAuth2Credentials$AsyncRefreshResult.executeIfNew(OAuth2Credentials.java:580) ~[google-auth-library-oauth2-http-1.4.0.jar!/:na]\r\n\tat com.google.auth.oauth2.OAuth2Credentials.asyncFetch(OAuth2Credentials.java:220) ~[google-auth-library-oauth2-http-1.4.0.jar!/:na]\r\n\tat com.google.auth.oauth2.OAuth2Credentials.getRequestMetadata(OAuth2Credentials.java:170) ~[google-auth-library-oauth2-http-1.4.0.jar!/:na]\r\n\tat com.google.auth.oauth2.ServiceAccountCredentials.getRequestMetadata(ServiceAccountCredentials.java:1018) ~[google-auth-library-oauth2-http-1.4.0.jar!/:na]\r\n\tat com.google.auth.http.HttpCredentialsAdapter.initialize(HttpCredentialsAdapter.java:96) ~[google-auth-library-oauth2-http-1.4.0.jar!/:na]\r\n\tat com.google.cloud.http.HttpTransportOptions$1.initialize(HttpTransportOptions.java:159) ~[google-cloud-core-http-2.4.0.jar!/:2.4.0]\r\n\tat com.google.cloud.http.CensusHttpModule$CensusHttpRequestInitializer.initialize(CensusHttpModule.java:109) ~[google-cloud-core-http-2.4.0.jar!/:2.4.0]\r\n\tat com.google.api.client.http.HttpRequestFactory.buildRequest(HttpRequestFactory.java:91) ~[google-http-client-1.41.2.jar!/:1.41.2]\r\n\tat com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed(AbstractGoogleClientRequest.java:521) ~[google-api-client-1.33.1.jar!/:1.33.1]\r\n\tat com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed(AbstractGoogleClientRequest.java:455) ~[google-api-client-1.33.1.jar!/:1.33.1]\r\n\tat com.google.api.client.googleapis.services.AbstractGoogleClientRequest.execute(AbstractGoogleClientRequest.java:565) ~[google-api-client-1.33.1.jar!/:1.33.1]\r\n\tat com.google.cloud.storage.spi.v1.HttpStorageRpc.create(HttpStorageRpc.java:311) ~[google-cloud-storage-2.4.4.jar!/:2.4.4]\r\n\tat com.google.cloud.storage.StorageImpl.lambda$internalCreate$2(StorageImpl.java:198) ~[google-cloud-storage-2.4.4.jar!/:2.4.4]\r\n```\r\nwhile uploading an image to google cloud storage \r\n\r\nI have no idea why and how to solve this problem, I&#39;ve tried so many different ways, like change service account key json, try to change cluster and other way. but still can&#39;t solve this proble\r\n\r\n```\r\n Credentials credentials = GoogleCredentials.fromStream(new ByteArrayInputStream(Base64.getDecoder().decode(base64Credentials)))\r\n                .createScoped(Collections.singletonList(StorageScopes.DEVSTORAGE_FULL_CONTROL));\r\n\r\n        return StorageOptions.newBuilder().setCredentials(credentials)\r\n                .setTransportOptions(HttpTransportOptions.newBuilder().\r\n                        setConnectTimeout(300000)\r\n                        .build())\r\n                .setProjectId(projectId).build().getService();\r\n```\r\n\r\nand here is the code for uploading to google cloud storage \r\n```\r\n storage.create(BlobInfo\r\n                .newBuilder(cloudStorageProperties.getBucketName(), filename)\r\n                .setAcl(listAcl)\r\n                .setContentType(FileUtils.getMimeType(extension))\r\n                .build(), content);\r\n```\r\n\r\nand here is google library that I used id my gradle\r\n```\r\n implementation platform(&#39;com.google.cloud:libraries-bom:24.4.0&#39;)\r\n    implementation &#39;com.google.cloud:google-cloud-storage&#39;\r\n```\r\n\r\nI try to solve upload image problem to Google Cloud Storage with google client library, so I hope my application can work as usual, can uploading an image to google cloud storage.","title":"com.google.auth.oauth2.GoogleAuthException: Error getting access token for service account: Stream is closed. while uploading image to cloud storage","body":"<p>I already use google cloud storage for couple of months, and this issue suddenly come up in 30 January 2023 and I don't know why.</p>\n<p>I had setup credentials using key .json from IAM google cloud platform service account, and everything work fine in my local environment. But when application going to production in GKE I got the error</p>\n<pre><code>Caused by: java.io.IOException: Error getting access token for service account: Stream is closed, iss: refund@pg-user.iam.gserviceaccount.com\n    at com.google.auth.oauth2.ServiceAccountCredentials.refreshAccessToken(ServiceAccountCredentials.java:605) ~[google-auth-library-oauth2-http-1.4.0.jar!/:na]\n    at com.google.auth.oauth2.OAuth2Credentials$1.call(OAuth2Credentials.java:257) ~[google-auth-library-oauth2-http-1.4.0.jar!/:na]\n    at com.google.auth.oauth2.OAuth2Credentials$1.call(OAuth2Credentials.java:254) ~[google-auth-library-oauth2-http-1.4.0.jar!/:na]\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\n    at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:31) ~[guava-31.0.1-jre.jar!/:na]\n    at com.google.auth.oauth2.OAuth2Credentials$AsyncRefreshResult.executeIfNew(OAuth2Credentials.java:580) ~[google-auth-library-oauth2-http-1.4.0.jar!/:na]\n    at com.google.auth.oauth2.OAuth2Credentials.asyncFetch(OAuth2Credentials.java:220) ~[google-auth-library-oauth2-http-1.4.0.jar!/:na]\n    at com.google.auth.oauth2.OAuth2Credentials.getRequestMetadata(OAuth2Credentials.java:170) ~[google-auth-library-oauth2-http-1.4.0.jar!/:na]\n    at com.google.auth.oauth2.ServiceAccountCredentials.getRequestMetadata(ServiceAccountCredentials.java:1018) ~[google-auth-library-oauth2-http-1.4.0.jar!/:na]\n    at com.google.auth.http.HttpCredentialsAdapter.initialize(HttpCredentialsAdapter.java:96) ~[google-auth-library-oauth2-http-1.4.0.jar!/:na]\n    at com.google.cloud.http.HttpTransportOptions$1.initialize(HttpTransportOptions.java:159) ~[google-cloud-core-http-2.4.0.jar!/:2.4.0]\n    at com.google.cloud.http.CensusHttpModule$CensusHttpRequestInitializer.initialize(CensusHttpModule.java:109) ~[google-cloud-core-http-2.4.0.jar!/:2.4.0]\n    at com.google.api.client.http.HttpRequestFactory.buildRequest(HttpRequestFactory.java:91) ~[google-http-client-1.41.2.jar!/:1.41.2]\n    at com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed(AbstractGoogleClientRequest.java:521) ~[google-api-client-1.33.1.jar!/:1.33.1]\n    at com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed(AbstractGoogleClientRequest.java:455) ~[google-api-client-1.33.1.jar!/:1.33.1]\n    at com.google.api.client.googleapis.services.AbstractGoogleClientRequest.execute(AbstractGoogleClientRequest.java:565) ~[google-api-client-1.33.1.jar!/:1.33.1]\n    at com.google.cloud.storage.spi.v1.HttpStorageRpc.create(HttpStorageRpc.java:311) ~[google-cloud-storage-2.4.4.jar!/:2.4.4]\n    at com.google.cloud.storage.StorageImpl.lambda$internalCreate$2(StorageImpl.java:198) ~[google-cloud-storage-2.4.4.jar!/:2.4.4]\n</code></pre>\n<p>while uploading an image to google cloud storage</p>\n<p>I have no idea why and how to solve this problem, I've tried so many different ways, like change service account key json, try to change cluster and other way. but still can't solve this proble</p>\n<pre><code> Credentials credentials = GoogleCredentials.fromStream(new ByteArrayInputStream(Base64.getDecoder().decode(base64Credentials)))\n                .createScoped(Collections.singletonList(StorageScopes.DEVSTORAGE_FULL_CONTROL));\n\n        return StorageOptions.newBuilder().setCredentials(credentials)\n                .setTransportOptions(HttpTransportOptions.newBuilder().\n                        setConnectTimeout(300000)\n                        .build())\n                .setProjectId(projectId).build().getService();\n</code></pre>\n<p>and here is the code for uploading to google cloud storage</p>\n<pre><code> storage.create(BlobInfo\n                .newBuilder(cloudStorageProperties.getBucketName(), filename)\n                .setAcl(listAcl)\n                .setContentType(FileUtils.getMimeType(extension))\n                .build(), content);\n</code></pre>\n<p>and here is google library that I used id my gradle</p>\n<pre><code> implementation platform('com.google.cloud:libraries-bom:24.4.0')\n    implementation 'com.google.cloud:google-cloud-storage'\n</code></pre>\n<p>I try to solve upload image problem to Google Cloud Storage with google client library, so I hope my application can work as usual, can uploading an image to google cloud storage.</p>\n"},{"tags":["java","apache-camel"],"comments":[{"owner":{"account_id":1901420,"reputation":3763,"user_id":1717210,"display_name":"TacheDeChoco"},"score":1,"creation_date":1675874287,"post_id":75368497,"comment_id":133023038,"body_markdown":"The shutdown process is initiated when the CamelContext is stopped (either programmatically, or when the JVM is getting down via ShutdownHook)","body":"The shutdown process is initiated when the CamelContext is stopped (either programmatically, or when the JVM is getting down via ShutdownHook)"}],"owner":{"account_id":16299446,"reputation":421,"user_id":11770926,"display_name":"Ethan Miller"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675738024,"creation_date":1675738024,"question_id":75368497,"body_markdown":"I&#39;m performing a load test for an application that keeps restarting each day, and under a certain amount of load the app gracefully restarts with the following logs:\r\n\r\n```log\r\nAbstractCamelContext -  Apache Camel 3.2.0 (CamelContext: MyApplication) is shutting down\r\nDefaultShutdownStrategy -  Starting to graceful shutdown 22 routes (timeout 45 seconds)\r\nDefaultShutdownStrategy -  Waiting as there are still 800 inflight and pending exchanges to complete, timeout in 45 seconds. Inflights per route: [route1 = 200, routingSlip = 200, createAERoute = 121, assignSeatRoute = 71, addSRRRoute = 8, shoppingCart = 200]\r\n```\r\n\r\nI&#39;ve checkd the Camel docs for [Graceful Shutdown - Apache Camel](https://camel.apache.org/manual/graceful-shutdown.html) and understand how it works *after* it&#39;s already triggered, but I&#39;m wondering what exactly *causes* the graceful shutdown to begin with. Does it check the JVM memory usage against the max heap? CPU usage? Container limits? Any information is well appreciated.","title":"What triggers a graceful shutdown in Apache Camel?","body":"<p>I'm performing a load test for an application that keeps restarting each day, and under a certain amount of load the app gracefully restarts with the following logs:</p>\n<pre><code>AbstractCamelContext -  Apache Camel 3.2.0 (CamelContext: MyApplication) is shutting down\nDefaultShutdownStrategy -  Starting to graceful shutdown 22 routes (timeout 45 seconds)\nDefaultShutdownStrategy -  Waiting as there are still 800 inflight and pending exchanges to complete, timeout in 45 seconds. Inflights per route: [route1 = 200, routingSlip = 200, createAERoute = 121, assignSeatRoute = 71, addSRRRoute = 8, shoppingCart = 200]\n</code></pre>\n<p>I've checkd the Camel docs for <a href=\"https://camel.apache.org/manual/graceful-shutdown.html\" rel=\"nofollow noreferrer\">Graceful Shutdown - Apache Camel</a> and understand how it works <em>after</em> it's already triggered, but I'm wondering what exactly <em>causes</em> the graceful shutdown to begin with. Does it check the JVM memory usage against the max heap? CPU usage? Container limits? Any information is well appreciated.</p>\n"},{"tags":["java","grpc","grpc-java"],"answers":[{"tags":[],"owner":{"account_id":14706775,"reputation":748,"user_id":10621243,"display_name":"creamsoup"},"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1585758710,"creation_date":1585758710,"answer_id":60975792,"question_id":60968250,"body_markdown":"you can add `javax.annotation-api` dependencies to you maven `pom.xml` to resolve the annotation.\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;javax.annotation&lt;/groupId&gt;\r\n    &lt;artifactId&gt;javax.annotation-api&lt;/artifactId&gt;\r\n    &lt;version&gt;1.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```","title":"I use gRPC to generate java code &#39;@javax.annotation.Generated&#39; and it reports &#39;Error:(20,18) java: cannot find symbol&#39;. How to solve it？","body":"<p>you can add <code>javax.annotation-api</code> dependencies to you maven <code>pom.xml</code> to resolve the annotation.</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.annotation&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.annotation-api&lt;/artifactId&gt;\n    &lt;version&gt;1.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3266323,"reputation":12567,"user_id":2750743,"display_name":"Klesun"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1669111743,"creation_date":1669111743,"answer_id":74530849,"question_id":60968250,"body_markdown":"In my case this was caused by building the project on a system with too new version of Java accidentally installed (19 instead of 8). Changing Java version from 19 to 8 in _File -&gt; Project Structure_ fixed the issue for me.","title":"I use gRPC to generate java code &#39;@javax.annotation.Generated&#39; and it reports &#39;Error:(20,18) java: cannot find symbol&#39;. How to solve it？","body":"<p>In my case this was caused by building the project on a system with too new version of Java accidentally installed (19 instead of 8). Changing Java version from 19 to 8 in <em>File -&gt; Project Structure</em> fixed the issue for me.</p>\n"},{"tags":[],"owner":{"account_id":4505926,"reputation":838,"user_id":3663253,"display_name":"s.c"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675737447,"creation_date":1675737447,"answer_id":75368453,"question_id":60968250,"body_markdown":"When I use querydsl, I meet the same similar situation in generated source.\r\n\r\nI solved this ploblem by uncheck &quot;Use &#39;--release&#39; option for cross-compilation (Java 9 and later ) in Setting &quot;Build, Execution, Deployment &gt; Compiler &gt; Java Compiler&quot;  menu.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/AlyKh.png","title":"I use gRPC to generate java code &#39;@javax.annotation.Generated&#39; and it reports &#39;Error:(20,18) java: cannot find symbol&#39;. How to solve it？","body":"<p>When I use querydsl, I meet the same similar situation in generated source.</p>\n<p>I solved this ploblem by uncheck &quot;Use '--release' option for cross-compilation (Java 9 and later ) in Setting &quot;Build, Execution, Deployment &gt; Compiler &gt; Java Compiler&quot;  menu.</p>\n<p><a href=\"https://i.stack.imgur.com/AlyKh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AlyKh.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":6867339,"reputation":185,"user_id":5279231,"accept_rate":75,"display_name":"陈黎栋John"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9207,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":60975792,"answer_count":3,"score":10,"last_activity_date":1675737447,"creation_date":1585735103,"question_id":60968250,"body_markdown":"I use gRPC to generate code &#39;@javax.annotation.Generated&#39; like below picture.\r\n\r\n[![!\\[enter image description here][1]][1]\r\n\r\nThen I use maven to build the project, and it reports &#39;Error:(20,18) java: cannot find symbol&#39; like below picture.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n\r\n How to solve it？\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5OXjB.png\r\n  [2]: https://i.stack.imgur.com/p3yey.png","title":"I use gRPC to generate java code &#39;@javax.annotation.Generated&#39; and it reports &#39;Error:(20,18) java: cannot find symbol&#39;. How to solve it？","body":"<p>I use gRPC to generate code '@javax.annotation.Generated' like below picture.</p>\n\n<p><a href=\"https://i.stack.imgur.com/5OXjB.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/5OXjB.png\" alt=\"![enter image description here\"></a></p>\n\n<p>Then I use maven to build the project, and it reports 'Error:(20,18) java: cannot find symbol' like below picture.</p>\n\n<p><a href=\"https://i.stack.imgur.com/p3yey.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/p3yey.png\" alt=\"enter image description here\"></a></p>\n\n<p>How to solve it？</p>\n"},{"tags":["java","list","java-stream"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1675698490,"post_id":75363503,"comment_id":132979936,"body_markdown":"Welcome to SO, you&#39;ve failed to ask a question. What do you need? SO is not a code writing service, so start by writing the program and *if and when* you are stuck, you can come here with a *concrete* question that needs fixing.","body":"Welcome to SO, you&#39;ve failed to ask a question. What do you need? SO is not a code writing service, so start by writing the program and <i>if and when</i> you are stuck, you can come here with a <i>concrete</i> question that needs fixing."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1675715264,"post_id":75363503,"comment_id":132984911,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"answers":[{"tags":[],"owner":{"account_id":1327194,"reputation":1809,"user_id":1271785,"accept_rate":67,"display_name":"pfurbacher"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675737400,"creation_date":1675737033,"answer_id":75368420,"question_id":75363503,"body_markdown":"Contrary to the comments to the original post saying that there&#39;s no question here, I think it&#39;s clear enough what the OP (original poster) is asking. But there is some uncertainty introduced by the inclusion of two expected outputs. I&#39;m going to assume it&#39;s a list of strings, where the string is a concatenation of the Sample.value for each sample with the same id value. (I agree that you should edit the original post to make this clear.)\r\n\r\nAssuming the OP meant this (I&#39;ll use `record` instead of `class` because it looks like these are immutable objects):\r\n\r\n```\r\n    record Sample(\r\n        String name,\r\n        String value,\r\n        String id) {\r\n    }\r\n\r\n    Sample[] samples = new Sample[] {\r\n            new Sample(&quot;title&quot;, &quot;Title&quot;, &quot;1&quot;),\r\n            new Sample(&quot;input&quot;, &quot;DCE&quot;, &quot;1&quot;),\r\n            new Sample(&quot;output&quot;, &quot;CDE&quot;, &quot;1&quot;),\r\n            new Sample(&quot;title&quot;, &quot;Title&quot;, &quot;2&quot;),\r\n            new Sample(&quot;input&quot;, &quot;DCEE&quot;, &quot;2&quot;),\r\n            new Sample(&quot;output&quot;, &quot;CDEE&quot;, &quot;2&quot;),\r\n            new Sample(&quot;title&quot;, &quot;Title&quot;, &quot;3&quot;),\r\n            new Sample(&quot;input&quot;, &quot;DCEEE&quot;, &quot;3&quot;),\r\n            new Sample(&quot;output&quot;, &quot;CDEEE&quot;, &quot;3&quot;)\r\n        };\r\n```\r\n\r\nand the task is to use the Java streaming APIs to get this result: \r\n\r\n```\r\n[ &quot;Title DCE CDE 1&quot;,\r\n  &quot;Title DCEE CDEE 2&quot;, \r\n  &quot;Title DCEEE CDEEE 3&quot;\r\n]\r\n```\r\n\r\nthe approach is to use `Collectors.groupingBy(Sample::id)` to initially transform to an intermediate result of a `Map&lt;String, List&lt;Sample&gt;&gt;` \r\n```\r\n1=[Sample[name=title, value=Title, id=1], Sample[name=input, value=DCE, id=1], Sample[name=output, value=CDE, id=1]]\r\n2=[Sample[name=title, value=Title, id=2], Sample[name=input, value=DCEE, id=2], Sample[name=output, value=CDEE, id=2]]\r\n3=[Sample[name=title, value=Title, id=3], Sample[name=input, value=DCEEE, id=3], Sample[name=output, value=CDEEE, id=3]]\r\n```\r\n\r\nNote that for each key, the value is a list. In order to extract the `sample.value` from each sample in the list, you would then stream the `entrySet`, map each value by streaming the list and mapping each sample to just the value property (`map(Sample::value)`), and then collect those into a string using `Collectors.joining(&quot; &quot;) + &quot; &quot; + entry.getKey())`. And then you would `.collect(Collectors.toList())` to get your expected output. In pseudo code, you finish the transformation like this: \r\n```\r\nintermediateResult.entrySet().stream()\r\n    .map(entry -&gt; stream the entry.value samples list\r\n        .map(each sample to just the sample.value)\r\n        .collect(joining with delimiter = &quot; &quot;) and \r\n                 concatenating &quot; &quot; + entry.getKey() to the end)\r\n    .collect(each of these strings to a list);\r\n```\r\nYou could also do this transformation in one statement using `collectingAndThen()`: \r\n```\r\nList&lt;String&gt; result = Arrays.stream(samples)\r\n        .collect(Collectors.collectingAndThen(\r\n            initialTransformer, \r\n            finishingTransformer));\r\n```\r\n\r\nI haven&#39;t filled in everything so that you can have the challenge of completing it and gaining a deeper understanding.\r\n","title":"Grouping the list of list based on the property","body":"<p>Contrary to the comments to the original post saying that there's no question here, I think it's clear enough what the OP (original poster) is asking. But there is some uncertainty introduced by the inclusion of two expected outputs. I'm going to assume it's a list of strings, where the string is a concatenation of the Sample.value for each sample with the same id value. (I agree that you should edit the original post to make this clear.)</p>\n<p>Assuming the OP meant this (I'll use <code>record</code> instead of <code>class</code> because it looks like these are immutable objects):</p>\n<pre><code>    record Sample(\n        String name,\n        String value,\n        String id) {\n    }\n\n    Sample[] samples = new Sample[] {\n            new Sample(&quot;title&quot;, &quot;Title&quot;, &quot;1&quot;),\n            new Sample(&quot;input&quot;, &quot;DCE&quot;, &quot;1&quot;),\n            new Sample(&quot;output&quot;, &quot;CDE&quot;, &quot;1&quot;),\n            new Sample(&quot;title&quot;, &quot;Title&quot;, &quot;2&quot;),\n            new Sample(&quot;input&quot;, &quot;DCEE&quot;, &quot;2&quot;),\n            new Sample(&quot;output&quot;, &quot;CDEE&quot;, &quot;2&quot;),\n            new Sample(&quot;title&quot;, &quot;Title&quot;, &quot;3&quot;),\n            new Sample(&quot;input&quot;, &quot;DCEEE&quot;, &quot;3&quot;),\n            new Sample(&quot;output&quot;, &quot;CDEEE&quot;, &quot;3&quot;)\n        };\n</code></pre>\n<p>and the task is to use the Java streaming APIs to get this result:</p>\n<pre><code>[ &quot;Title DCE CDE 1&quot;,\n  &quot;Title DCEE CDEE 2&quot;, \n  &quot;Title DCEEE CDEEE 3&quot;\n]\n</code></pre>\n<p>the approach is to use <code>Collectors.groupingBy(Sample::id)</code> to initially transform to an intermediate result of a <code>Map&lt;String, List&lt;Sample&gt;&gt;</code></p>\n<pre><code>1=[Sample[name=title, value=Title, id=1], Sample[name=input, value=DCE, id=1], Sample[name=output, value=CDE, id=1]]\n2=[Sample[name=title, value=Title, id=2], Sample[name=input, value=DCEE, id=2], Sample[name=output, value=CDEE, id=2]]\n3=[Sample[name=title, value=Title, id=3], Sample[name=input, value=DCEEE, id=3], Sample[name=output, value=CDEEE, id=3]]\n</code></pre>\n<p>Note that for each key, the value is a list. In order to extract the <code>sample.value</code> from each sample in the list, you would then stream the <code>entrySet</code>, map each value by streaming the list and mapping each sample to just the value property (<code>map(Sample::value)</code>), and then collect those into a string using <code>Collectors.joining(&quot; &quot;) + &quot; &quot; + entry.getKey())</code>. And then you would <code>.collect(Collectors.toList())</code> to get your expected output. In pseudo code, you finish the transformation like this:</p>\n<pre><code>intermediateResult.entrySet().stream()\n    .map(entry -&gt; stream the entry.value samples list\n        .map(each sample to just the sample.value)\n        .collect(joining with delimiter = &quot; &quot;) and \n                 concatenating &quot; &quot; + entry.getKey() to the end)\n    .collect(each of these strings to a list);\n</code></pre>\n<p>You could also do this transformation in one statement using <code>collectingAndThen()</code>:</p>\n<pre><code>List&lt;String&gt; result = Arrays.stream(samples)\n        .collect(Collectors.collectingAndThen(\n            initialTransformer, \n            finishingTransformer));\n</code></pre>\n<p>I haven't filled in everything so that you can have the challenge of completing it and gaining a deeper understanding.</p>\n"}],"owner":{"account_id":27704790,"reputation":1,"user_id":21148676,"display_name":"Sai Balaji MS"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675737400,"creation_date":1675698249,"question_id":75363503,"body_markdown":"Below are my sample Class Object,\r\n\r\n```\r\nclass Sample{\r\nString name;\r\nString value;\r\nString id;\r\n}\r\n```\r\n\r\nMy Input List looks like below,\r\n\r\n`[Sample(name=title, `**`value=Title`**`, id=1), Sample(name=input, `**`value=DCE`**`, id=1), Sample(name=output, `**`value=CDE`**`, id=1), Sample(name=title, `**`value=Title`**`, id=2), Sample(name=input, `**`value=DCEE`**`, id=2), Sample(name=output, `**`value=CDEE`**`, id=2), Sample(name=title, `**`value=Title`**`, id=3), Sample(name=input, `**`value=DCEEE`**`, id=3), Sample(name=output, `**`value=CDEEE`**`, id=3)]`\r\n\r\nI need to group the list of list based on the id property and display the value alone as the below.\r\n\r\nExpected Output:\r\n\r\n```\r\nTitle DCE CDE 1\r\nTitle DCEE CDEE 2\r\nTitle DCEEE CDEEE 3\r\n```\r\n\r\nExpected Output:\r\n\r\n```\r\n{[Title DCE CDE 1],\r\nTitle DCEE CDEE 2],\r\nTitle DCEEE CDEEE 3]}\r\n```","title":"Grouping the list of list based on the property","body":"<p>Below are my sample Class Object,</p>\n<pre><code>class Sample{\nString name;\nString value;\nString id;\n}\n</code></pre>\n<p>My Input List looks like below,</p>\n<p><code>[Sample(name=title, </code><strong><code>value=Title</code></strong><code>, id=1), Sample(name=input, </code><strong><code>value=DCE</code></strong><code>, id=1), Sample(name=output, </code><strong><code>value=CDE</code></strong><code>, id=1), Sample(name=title, </code><strong><code>value=Title</code></strong><code>, id=2), Sample(name=input, </code><strong><code>value=DCEE</code></strong><code>, id=2), Sample(name=output, </code><strong><code>value=CDEE</code></strong><code>, id=2), Sample(name=title, </code><strong><code>value=Title</code></strong><code>, id=3), Sample(name=input, </code><strong><code>value=DCEEE</code></strong><code>, id=3), Sample(name=output, </code><strong><code>value=CDEEE</code></strong><code>, id=3)]</code></p>\n<p>I need to group the list of list based on the id property and display the value alone as the below.</p>\n<p>Expected Output:</p>\n<pre><code>Title DCE CDE 1\nTitle DCEE CDEE 2\nTitle DCEEE CDEEE 3\n</code></pre>\n<p>Expected Output:</p>\n<pre><code>{[Title DCE CDE 1],\nTitle DCEE CDEE 2],\nTitle DCEEE CDEEE 3]}\n</code></pre>\n"},{"tags":["java","regex","string"],"comments":[{"owner":{"account_id":1457834,"reputation":2843,"user_id":2726028,"accept_rate":35,"display_name":"Olayinka"},"score":0,"creation_date":1413822612,"post_id":26470429,"comment_id":41578476,"body_markdown":"what did the method return for you?","body":"what did the method return for you?"},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1413822620,"post_id":26470429,"comment_id":41578479,"body_markdown":"It&#39;s not clear what regular expressions have to do with this... and what if there are multiple &quot;min&quot; occurrences? Do you want to find the last space before the first min?","body":"It&#39;s not clear what regular expressions have to do with this... and what if there are multiple &quot;min&quot; occurrences? Do you want to find the last space before the first min?"},{"owner":{"account_id":2042921,"reputation":10170,"user_id":3222249,"accept_rate":73,"display_name":"emilly"},"score":0,"creation_date":1413822678,"post_id":26470429,"comment_id":41578518,"body_markdown":"@JonSkeet Yes you are correct","body":"@JonSkeet Yes you are correct"}],"answers":[{"tags":[],"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1504626488,"creation_date":1413822652,"answer_id":26470481,"question_id":26470429,"body_markdown":"First get the position of the string that you want to get the space before, then use that position to get the closest previous position of space\r\n\r\n    int idx1 = str.indexOf(&quot;min&quot;);\r\n    int lastSpace = str.lastIndexOf(&quot; &quot;, idx1);\r\n\r\n","title":"How to get the index of space before specific string?","body":"<p>First get the position of the string that you want to get the space before, then use that position to get the closest previous position of space</p>\n\n<pre><code>int idx1 = str.indexOf(\"min\");\nint lastSpace = str.lastIndexOf(\" \", idx1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":134022,"reputation":717183,"user_id":335858,"accept_rate":81,"display_name":"Sergey Kalinichenko"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1413822682,"creation_date":1413822682,"answer_id":26470494,"question_id":26470429,"body_markdown":"You can do it with regex - search for a space followed by non-space characters followed by `min`, like this:\r\n\r\n    Pattern pattern = Pattern.compile(&quot;\\\\s\\\\S*min&quot;);\r\n    Matcher matcher = pattern.matcher(&quot;Test1 Test2 Test3 Test4 Test5 Test6 15min&quot;);\r\n    // Check all occurrences\r\n    if (matcher.find()) {\r\n        System.out.print(&quot;Start index: &quot; + matcher.start());\r\n    }\r\n\r\nThis prints 36, the index of the last space character prior to `15min`.\r\n\r\n[Demo.][1]\r\n\r\n  [1]: http://ideone.com/nLU3oS","title":"How to get the index of space before specific string?","body":"<p>You can do it with regex - search for a space followed by non-space characters followed by <code>min</code>, like this:</p>\n\n<pre><code>Pattern pattern = Pattern.compile(\"\\\\s\\\\S*min\");\nMatcher matcher = pattern.matcher(\"Test1 Test2 Test3 Test4 Test5 Test6 15min\");\n// Check all occurrences\nif (matcher.find()) {\n    System.out.print(\"Start index: \" + matcher.start());\n}\n</code></pre>\n\n<p>This prints 36, the index of the last space character prior to <code>15min</code>.</p>\n\n<p><a href=\"http://ideone.com/nLU3oS\" rel=\"nofollow\">Demo.</a></p>\n"},{"tags":[],"owner":{"account_id":4285374,"reputation":190,"user_id":3503363,"accept_rate":100,"display_name":"IVIajid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1413823331,"creation_date":1413823331,"answer_id":26470686,"question_id":26470429,"body_markdown":"you can put your code in a html div with the id named string:\r\n\r\n    var data = $(&#39;#string&#39;).text();\r\n    var arr = data.split(&#39; &#39;);\r\n    $(&quot;#string&quot;).html(&quot;&lt;span&gt;&quot;+arr[0] + &quot;&lt;/span&gt;&lt;/br&gt;&quot; + arr[1]+&quot;/&quot;+arr[2]);\r\n\r\nWhen you split this string ---&gt; Test1 Test2 Test3 Test4 Test5 Test6  15min on /\r\n\r\n    var myString = &quot;Test1 Test2 Test3 Test4 Test5 Test6  15min&quot;;\r\n    var arr = myString.split(&#39; &#39;);\r\n\r\nyou&#39;ll get an array of size 3\r\n\r\n    arr[0] --&gt; test1\r\n    arr[1] --&gt; test2\r\n    arr[2] --&gt; text3\r\n    ....","title":"How to get the index of space before specific string?","body":"<p>you can put your code in a html div with the id named string:</p>\n\n<pre><code>var data = $('#string').text();\nvar arr = data.split(' ');\n$(\"#string\").html(\"&lt;span&gt;\"+arr[0] + \"&lt;/span&gt;&lt;/br&gt;\" + arr[1]+\"/\"+arr[2]);\n</code></pre>\n\n<p>When you split this string ---> Test1 Test2 Test3 Test4 Test5 Test6  15min on /</p>\n\n<pre><code>var myString = \"Test1 Test2 Test3 Test4 Test5 Test6  15min\";\nvar arr = myString.split(' ');\n</code></pre>\n\n<p>you'll get an array of size 3</p>\n\n<pre><code>arr[0] --&gt; test1\narr[1] --&gt; test2\narr[2] --&gt; text3\n....\n</code></pre>\n"}],"owner":{"account_id":2042921,"reputation":10170,"user_id":3222249,"accept_rate":73,"display_name":"emilly"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6421,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":26470481,"answer_count":3,"score":1,"last_activity_date":1675736332,"creation_date":1413822488,"question_id":26470429,"body_markdown":"I have below string\r\n\r\n    String = &quot;Test1 Test2 Test3 Test4 Test5 Test6  15min&quot;\r\n\r\nI want to get the index of character space before string &quot;min&quot;\r\n\r\nThere is a method like  `String.lastIndexOf(&quot; &quot;)` but could not find any thing related?\r\n\r\n**EDIT:-**\r\n\r\nBasically want to find last space before the first min","title":"How to get the index of space before specific string?","body":"<p>I have below string</p>\n\n<pre><code>String = \"Test1 Test2 Test3 Test4 Test5 Test6  15min\"\n</code></pre>\n\n<p>I want to get the index of character space before string \"min\"</p>\n\n<p>There is a method like  <code>String.lastIndexOf(\" \")</code> but could not find any thing related?</p>\n\n<p><strong>EDIT:-</strong></p>\n\n<p>Basically want to find last space before the first min</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":25838667,"reputation":312,"user_id":19574650,"display_name":"I.sh."},"score":2,"creation_date":1675736861,"post_id":75368268,"comment_id":132988928,"body_markdown":"What about checking inside the receiving function using a simple if/switch? if(UPDATED &amp;&amp; (originId == null || description == null))","body":"What about checking inside the receiving function using a simple if/switch? if(UPDATED &amp;&amp; (originId == null || description == null))"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1675736984,"post_id":75368268,"comment_id":132988941,"body_markdown":"Yea.  Annotations don&#39;t allow you to express *conditionality*.","body":"Yea.  Annotations don&#39;t allow you to express <i>conditionality</i>."},{"owner":{"account_id":19663187,"reputation":383,"user_id":14394219,"display_name":"artiomi"},"score":0,"creation_date":1675755541,"post_id":75368268,"comment_id":132991552,"body_markdown":"You can try to write a custom validator https://www.baeldung.com/spring-mvc-custom-validator","body":"You can try to write a custom validator <a href=\"https://www.baeldung.com/spring-mvc-custom-validator\" rel=\"nofollow noreferrer\">baeldung.com/spring-mvc-custom-validator</a>"}],"owner":{"account_id":11655322,"reputation":1,"user_id":11809026,"display_name":"rand"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675735258,"creation_date":1675734687,"question_id":75368268,"body_markdown":"I need the originId and description fields to be optional if the status is &#39;CREATED&#39; and mandatory if it&#39;s &#39;UPDATED&#39;.\r\n\r\n    @PutMapping(&quot;{id}&quot;)\r\n    @ResponseStatus(HttpStatus.OK)\r\n    public Mono&lt;Void&gt; update(@PathVariable (value = &quot;id&quot;) String id,\r\n                         @RequestBody @Valid PackageDTO request) {\r\n            return update.execute(id, request);\r\n    }\r\n\r\n    public class PackageDTO {\r\n        private Long originId;\r\n        private String description;\r\n        private PackageStatus status;\r\n    }\r\n\r\n    public enum PackageStatus {\r\n        CREATED, UPDATED;\r\n    }\r\n\r\nI tried to use &#39;required&#39; in Requestbody but i did not succeed","title":"How to make optional parameters mandatory","body":"<p>I need the originId and description fields to be optional if the status is 'CREATED' and mandatory if it's 'UPDATED'.</p>\n<pre><code>@PutMapping(&quot;{id}&quot;)\n@ResponseStatus(HttpStatus.OK)\npublic Mono&lt;Void&gt; update(@PathVariable (value = &quot;id&quot;) String id,\n                     @RequestBody @Valid PackageDTO request) {\n        return update.execute(id, request);\n}\n\npublic class PackageDTO {\n    private Long originId;\n    private String description;\n    private PackageStatus status;\n}\n\npublic enum PackageStatus {\n    CREATED, UPDATED;\n}\n</code></pre>\n<p>I tried to use 'required' in Requestbody but i did not succeed</p>\n"},{"tags":["java","processing"],"comments":[{"owner":{"account_id":6980652,"reputation":414,"user_id":5353718,"display_name":"Tej"},"score":1,"creation_date":1675733650,"post_id":75368168,"comment_id":132988487,"body_markdown":"Which java version are you using? Please have a look at this answer https://stackoverflow.com/questions/1154008/any-way-to-declare-an-array-in-line","body":"Which java version are you using? Please have a look at this answer <a href=\"https://stackoverflow.com/questions/1154008/any-way-to-declare-an-array-in-line\" title=\"any way to declare an array in line\">stackoverflow.com/questions/1154008/&hellip;</a>"},{"owner":{"account_id":5912629,"reputation":93,"user_id":4652337,"display_name":"Chandika"},"score":1,"creation_date":1675733762,"post_id":75368168,"comment_id":132988506,"body_markdown":"check this\nhttps://stackoverflow.com/questions/3160347/java-how-initialize-an-array-in-java-in-one-line","body":"check this <a href=\"https://stackoverflow.com/questions/3160347/java-how-initialize-an-array-in-java-in-one-line\" title=\"java how initialize an array in java in one line\">stackoverflow.com/questions/3160347/&hellip;</a>"},{"owner":{"account_id":27393528,"reputation":353,"user_id":20896122,"display_name":"undefined symbol"},"score":0,"creation_date":1675736767,"post_id":75368168,"comment_id":132988917,"body_markdown":"*I&#39;m just missing something really big.*  The sequence `{1,3,5}` is an [initializer](https://docs.oracle.com/javase/specs/jls/se11/html/jls-10.html#jls-10.6), not an expression, and therefore can only occur in a declaration, not an assignment.","body":"<i>I&#39;m just missing something really big.</i>  The sequence <code>{1,3,5}</code> is an <a href=\"https://docs.oracle.com/javase/specs/jls/se11/html/jls-10.html#jls-10.6\" rel=\"nofollow noreferrer\">initializer</a>, not an expression, and therefore can only occur in a declaration, not an assignment."}],"answers":[{"tags":[],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1675734677,"creation_date":1675734677,"answer_id":75368266,"question_id":75368168,"body_markdown":"You need to use the `new` keyword to initialize an array (except if it&#39;s inline with the declaration):\r\n\r\n    array = new int[][] {{1, 3, 5}};","title":"How to define Array inside void setup() in Processing Java?","body":"<p>You need to use the <code>new</code> keyword to initialize an array (except if it's inline with the declaration):</p>\n<pre><code>array = new int[][] {{1, 3, 5}};\n</code></pre>\n"}],"owner":{"account_id":27398609,"reputation":1,"user_id":20900405,"display_name":"Scotterboi 9"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1675771405,"answer_count":1,"score":0,"last_activity_date":1675734677,"creation_date":1675733415,"question_id":75368168,"body_markdown":"Normally, to define an array in Processing, I would do something like this:\r\n\r\n    int[] array = {1, 3, 5};\r\n\r\nHowever, doing that within a function makes it a local variable, so I did this initially:\r\n\r\n    String[] array;\r\n    void setup() {\r\n      array = {&quot;String&quot;};\r\n    }\r\n\r\nBut it gives me this Syntax Error:\r\n\r\n`Syntax Error - Incomplete statement or extra code near ‘extraneous input &#39;{&#39; expecting {&#39;color&#39;, HexColorLiteral, CHAR_LITERAL, &#39;boolean&#39;, &#39;byte&#39;, &#39;char&#39;, &#39;double&#39;, &#39;float&#39;, &#39;int&#39;, &#39;long&#39;, &#39;new&#39;, &#39;short&#39;, &#39;super&#39;, &#39;this&#39;, &#39;var&#39;, &#39;void&#39;, DECIMAL_LITERAL, HEX_LITERAL, OCT_LITERAL, BINARY_LITERAL, FLOAT_LITERAL, HEX_FLOAT_LITERAL, BOOL_LITERAL, STRING_LITERAL, MULTI_STRING_LIT, &#39;null&#39;, &#39;(&#39;, &#39;&lt;&#39;, &#39;!&#39;, &#39;~&#39;, &#39;++&#39;, &#39;--&#39;, &#39;+&#39;, &#39;-&#39;, &#39;@&#39;, IDENTIFIER}’?`\r\n\r\nThis should be a relatively simple problem to solve though, I&#39;m just missing something really big. \r\n\r\nIf you&#39;re wondering why I need to define it inside a function, it&#39;s because I need it for an array that contains a loadImage(), which needs to be called inside of or after void setup(), which runs once, and once only.\r\n\r\nI tried declaring the variable like this: `Array array;`\r\nDidn&#39;t work, gave me the same error. \r\n\r\nFor some reason, 2-D arrays, or arrays containing arrays gave me a different error. \r\n\r\n    int[][] array; \r\n    void setup() {  \r\n      array = {{1, 3, 5}};\r\n    }\r\n\r\nThe error was this:\r\n`Syntax Error - Missing operator, semicolon, or ‘}’ near ‘{’?`\r\n\r\nEdit: I am aware that you can do it like this:\r\n\r\n    int[] array = new int[3];\r\n    void setup() {\r\n        array[0] = 1;\r\n        array[1] = 3;\r\n        array[2] = 5;\r\n    }\r\n\r\nBut I am unaware of how to do it with 2-D arrays.\r\n\r\n\r\n","title":"How to define Array inside void setup() in Processing Java?","body":"<p>Normally, to define an array in Processing, I would do something like this:</p>\n<pre><code>int[] array = {1, 3, 5};\n</code></pre>\n<p>However, doing that within a function makes it a local variable, so I did this initially:</p>\n<pre><code>String[] array;\nvoid setup() {\n  array = {&quot;String&quot;};\n}\n</code></pre>\n<p>But it gives me this Syntax Error:</p>\n<p><code>Syntax Error - Incomplete statement or extra code near ‘extraneous input '{' expecting {'color', HexColorLiteral, CHAR_LITERAL, 'boolean', 'byte', 'char', 'double', 'float', 'int', 'long', 'new', 'short', 'super', 'this', 'var', 'void', DECIMAL_LITERAL, HEX_LITERAL, OCT_LITERAL, BINARY_LITERAL, FLOAT_LITERAL, HEX_FLOAT_LITERAL, BOOL_LITERAL, STRING_LITERAL, MULTI_STRING_LIT, 'null', '(', '&lt;', '!', '~', '++', '--', '+', '-', '@', IDENTIFIER}’?</code></p>\n<p>This should be a relatively simple problem to solve though, I'm just missing something really big.</p>\n<p>If you're wondering why I need to define it inside a function, it's because I need it for an array that contains a loadImage(), which needs to be called inside of or after void setup(), which runs once, and once only.</p>\n<p>I tried declaring the variable like this: <code>Array array;</code>\nDidn't work, gave me the same error.</p>\n<p>For some reason, 2-D arrays, or arrays containing arrays gave me a different error.</p>\n<pre><code>int[][] array; \nvoid setup() {  \n  array = {{1, 3, 5}};\n}\n</code></pre>\n<p>The error was this:\n<code>Syntax Error - Missing operator, semicolon, or ‘}’ near ‘{’?</code></p>\n<p>Edit: I am aware that you can do it like this:</p>\n<pre><code>int[] array = new int[3];\nvoid setup() {\n    array[0] = 1;\n    array[1] = 3;\n    array[2] = 5;\n}\n</code></pre>\n<p>But I am unaware of how to do it with 2-D arrays.</p>\n"},{"tags":["java","lambda"],"answers":[{"tags":[],"owner":{"account_id":27721006,"reputation":1,"user_id":21161528,"display_name":"whi5p3r"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1675732242,"creation_date":1675732242,"answer_id":75368062,"question_id":75367948,"body_markdown":"First of all, out of the question, in your &#39;Algorithm&#39; class body, the &#39;for&#39; block is illegal i think , your version is\r\n\r\n    for (T elem : c)\r\n         if (p.test(elem))\r\n            ++count;\r\n         return count;\r\nIt&#39;s well-advised to do that with following\r\n\r\n    for (T elem : c){\r\n         if (p.test(elem))\r\n            ++count;\r\n         return count;\r\n    }\r\n\r\nBack to the question, actually, you can just convey the lambda function , here is the correct one\r\n\r\n    int count2 = Algorithm.countIf(ci,  (Integer i) -&gt; i % 2 != 0);\r\n\r\n","title":"Syntax error on token &quot;return&quot;, invalid ( error when trying to implement a lambda funtion","body":"<p>First of all, out of the question, in your 'Algorithm' class body, the 'for' block is illegal i think , your version is</p>\n<pre><code>for (T elem : c)\n     if (p.test(elem))\n        ++count;\n     return count;\n</code></pre>\n<p>It's well-advised to do that with following</p>\n<pre><code>for (T elem : c){\n     if (p.test(elem))\n        ++count;\n     return count;\n}\n</code></pre>\n<p>Back to the question, actually, you can just convey the lambda function , here is the correct one</p>\n<pre><code>int count2 = Algorithm.countIf(ci,  (Integer i) -&gt; i % 2 != 0);\n</code></pre>\n"}],"owner":{"account_id":25665868,"reputation":1,"user_id":19430839,"display_name":"narrativity"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1675863683,"answer_count":1,"score":-1,"last_activity_date":1675732242,"creation_date":1675730701,"question_id":75367948,"body_markdown":"I have an assignment in my CS class to write an anonymous and lambda function to replace the provided methods. I wrote the anonymous class fine but when trying to write the lambda function I am getting stuck on Syntax error on token &quot;return&quot;, invalid (. Can anybody help me figure out the error message? I know it has to be something little that I forgot. [Code Screenshot](https://i.stack.imgur.com/1upXX.png)\r\n\r\nI tried to create a lambda fuction to use a pre-determined function that checks for an odd number and updates a counter for the amount of odd numbers.\r\n\r\nError Message: Syntax error on token &quot;return&quot;, invalid (Java(1610612971)\r\n\r\n    import java.util.*;\r\n\r\n    interface UnaryPredicate&lt;T&gt; {\r\n       public boolean test(T obj);\r\n    }\r\n\r\n    final class Algorithm {\r\n       public static &lt;T&gt; int countIf(Collection&lt;T&gt; c, UnaryPredicate&lt;T&gt; p) {\r\n          int count = 0;\r\n          for (T elem : c)\r\n             if (p.test(elem))\r\n                ++count;\r\n             return count;\r\n           }\r\n        }\r\n\r\n    class OddPredicate implements UnaryPredicate&lt;Integer&gt; {\r\n       public boolean test(Integer i) {\r\n          return i % 2 != 0;\r\n       }\r\n    }\r\n   \r\n    class test {\r\n       public static void main(String[] args) {\r\n      Collection&lt;Integer&gt; ci = Arrays.asList(1, 2, 3, 4);\r\n\r\n      int count1 = Algorithm.countIf(ci, new OddPredicate() {\r\n         public boolean test(Integer i) {\r\n            return i % 2 != 0;\r\n         }\r\n      });\r\n         \r\n      System.out.println(&quot;Number of odd integers = &quot; + count1); \r\n\r\n      int count2 = Algorithm.countIf(ci, new OddPredicate().test = (Integer i) -&gt; return i % 2 != 0); \r\n       }\r\n    }","title":"Syntax error on token &quot;return&quot;, invalid ( error when trying to implement a lambda funtion","body":"<p>I have an assignment in my CS class to write an anonymous and lambda function to replace the provided methods. I wrote the anonymous class fine but when trying to write the lambda function I am getting stuck on Syntax error on token &quot;return&quot;, invalid (. Can anybody help me figure out the error message? I know it has to be something little that I forgot. <a href=\"https://i.stack.imgur.com/1upXX.png\" rel=\"nofollow noreferrer\">Code Screenshot</a></p>\n<p>I tried to create a lambda fuction to use a pre-determined function that checks for an odd number and updates a counter for the amount of odd numbers.</p>\n<p>Error Message: Syntax error on token &quot;return&quot;, invalid (Java(1610612971)</p>\n<pre><code>import java.util.*;\n\ninterface UnaryPredicate&lt;T&gt; {\n   public boolean test(T obj);\n}\n\nfinal class Algorithm {\n   public static &lt;T&gt; int countIf(Collection&lt;T&gt; c, UnaryPredicate&lt;T&gt; p) {\n      int count = 0;\n      for (T elem : c)\n         if (p.test(elem))\n            ++count;\n         return count;\n       }\n    }\n\nclass OddPredicate implements UnaryPredicate&lt;Integer&gt; {\n   public boolean test(Integer i) {\n      return i % 2 != 0;\n   }\n}\n\nclass test {\n   public static void main(String[] args) {\n  Collection&lt;Integer&gt; ci = Arrays.asList(1, 2, 3, 4);\n\n  int count1 = Algorithm.countIf(ci, new OddPredicate() {\n     public boolean test(Integer i) {\n        return i % 2 != 0;\n     }\n  });\n     \n  System.out.println(&quot;Number of odd integers = &quot; + count1); \n\n  int count2 = Algorithm.countIf(ci, new OddPredicate().test = (Integer i) -&gt; return i % 2 != 0); \n   }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-webflux","webclient"],"comments":[{"owner":{"account_id":7788110,"reputation":1429,"user_id":6306585,"accept_rate":60,"display_name":"Shakirov Ramil"},"score":0,"creation_date":1675664876,"post_id":75356878,"comment_id":132970138,"body_markdown":"add Controller code here","body":"add Controller code here"}],"answers":[{"tags":[],"owner":{"account_id":7788110,"reputation":1429,"user_id":6306585,"accept_rate":60,"display_name":"Shakirov Ramil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675665532,"creation_date":1675665532,"answer_id":75358060,"question_id":75356878,"body_markdown":"I think the problem in your controller.\r\n\r\nYou should add content type wich you producing\r\n\r\n    @GetMapping(path = &quot;/v2/consent&quot;, consumes = &quot;*/*&quot;, produces = &quot;application/json&quot;)","title":"WebClient always returns org.springframework.web.reactive.function.UnsupportedMediaTypeException","body":"<p>I think the problem in your controller.</p>\n<p>You should add content type wich you producing</p>\n<pre><code>@GetMapping(path = &quot;/v2/consent&quot;, consumes = &quot;*/*&quot;, produces = &quot;application/json&quot;)\n</code></pre>\n"}],"owner":{"account_id":27712233,"reputation":1,"user_id":21154671,"display_name":"hyperFlash"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":595,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675731464,"creation_date":1675650811,"question_id":75356878,"body_markdown":"I&#39;m just new to Webclient and trying it locally.\r\n\r\nI&#39;m encountering this error as I try to hit the endpoint I made,\r\n```\r\norg.springframework.web.reactive.function.UnsupportedMediaTypeException: Content type &#39;application/octet-stream&#39; not supported for bodyType=MonoResponseDto\r\n\tat org.springframework.web.reactive.function.BodyExtractors.lambda$readWithMessageReaders$12(BodyExtractors.java:201) ~[spring-webflux-5.3.25.jar:5.3.25]\r\n\tSuppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: \r\nError has been observed at the following site(s):\r\n\t*__checkpoint ⇢ Body from GET http://localhost:7000/v2/consent [DefaultClientResponse]\r\n```\r\n\r\n\r\n\r\n\r\nHere is my code for hitting the endpoint\r\n```            \r\n            String url = &quot;http://localhost:7000/v2/consent&quot;;\r\n            Mono&lt;MonoResponseDto&gt; response = webClient\r\n                    .get()\r\n                    .uri(url)\r\n                    .accept(MediaType.APPLICATION_JSON)\r\n                    .retrieve()\r\n                    .bodyToMono(MonoResponseDto.class);\r\n```\r\n\r\nI also tried changing the Object to String \r\n```\r\n                    Mono&lt;String&gt; response = webClient\r\n                    .get()\r\n                    .uri(url)\r\n                    .accept(MediaType.APPLICATION_JSON)\r\n                    .retrieve()\r\n                    .bodyToMono(String.class);\r\n```\r\nResponse\r\n```\r\n2023-02-06 10:27:20.342  INFO 99607 --- [nio-8012-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms\r\n{&quot;result&quot;:&quot;SUCCESS&quot;,&quot;data&quot;:{&quot;createdAt&quot;:&quot;2022-03-03T09:19:49.248Z&quot;,&quot;updatedAt&quot;:&quot;2022-03-03T09:19:49.248Z&quot;,&quot;id&quot;:2058,&quot;type&quot;:&quot;Data Privacy&quot;,&quot;version&quot;:&quot;1.3&quot;,&quot;value&quot;:&quot;Test privacy&quot;}}\r\n```\r\nand it worked like a charm.\r\n\r\nHere is my code for controller \r\n```\r\n@RestController\r\n@RequestMapping(&quot;/v2/consent&quot;)\r\npublic class ConsentController {\r\n\r\n    @Autowired\r\n    private ConsentService consentService;\r\n\r\n    @GetMapping()\r\n    public ResponseEntity&lt;Consent&gt; getConsent(){\r\n        return new ResponseEntity&lt;&gt;(consentService.getConsent(), HttpStatus.OK);\r\n    }\r\n}\r\n```\r\n\r\nI think the `.accept()` is not enough to change the contentType of my request.\r\nPlease advise what am I doing wrong. Thanks!\r\n\r\nNote: This only happens on my machine. Tried pulling other codes from other repositories with the same implementation and it still encounters the same error.","title":"WebClient always returns org.springframework.web.reactive.function.UnsupportedMediaTypeException","body":"<p>I'm just new to Webclient and trying it locally.</p>\n<p>I'm encountering this error as I try to hit the endpoint I made,</p>\n<pre><code>org.springframework.web.reactive.function.UnsupportedMediaTypeException: Content type 'application/octet-stream' not supported for bodyType=MonoResponseDto\n    at org.springframework.web.reactive.function.BodyExtractors.lambda$readWithMessageReaders$12(BodyExtractors.java:201) ~[spring-webflux-5.3.25.jar:5.3.25]\n    Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: \nError has been observed at the following site(s):\n    *__checkpoint ⇢ Body from GET http://localhost:7000/v2/consent [DefaultClientResponse]\n</code></pre>\n<p>Here is my code for hitting the endpoint</p>\n<pre><code>            String url = &quot;http://localhost:7000/v2/consent&quot;;\n            Mono&lt;MonoResponseDto&gt; response = webClient\n                    .get()\n                    .uri(url)\n                    .accept(MediaType.APPLICATION_JSON)\n                    .retrieve()\n                    .bodyToMono(MonoResponseDto.class);\n</code></pre>\n<p>I also tried changing the Object to String</p>\n<pre><code>                    Mono&lt;String&gt; response = webClient\n                    .get()\n                    .uri(url)\n                    .accept(MediaType.APPLICATION_JSON)\n                    .retrieve()\n                    .bodyToMono(String.class);\n</code></pre>\n<p>Response</p>\n<pre><code>2023-02-06 10:27:20.342  INFO 99607 --- [nio-8012-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms\n{&quot;result&quot;:&quot;SUCCESS&quot;,&quot;data&quot;:{&quot;createdAt&quot;:&quot;2022-03-03T09:19:49.248Z&quot;,&quot;updatedAt&quot;:&quot;2022-03-03T09:19:49.248Z&quot;,&quot;id&quot;:2058,&quot;type&quot;:&quot;Data Privacy&quot;,&quot;version&quot;:&quot;1.3&quot;,&quot;value&quot;:&quot;Test privacy&quot;}}\n</code></pre>\n<p>and it worked like a charm.</p>\n<p>Here is my code for controller</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/v2/consent&quot;)\npublic class ConsentController {\n\n    @Autowired\n    private ConsentService consentService;\n\n    @GetMapping()\n    public ResponseEntity&lt;Consent&gt; getConsent(){\n        return new ResponseEntity&lt;&gt;(consentService.getConsent(), HttpStatus.OK);\n    }\n}\n</code></pre>\n<p>I think the <code>.accept()</code> is not enough to change the contentType of my request.\nPlease advise what am I doing wrong. Thanks!</p>\n<p>Note: This only happens on my machine. Tried pulling other codes from other repositories with the same implementation and it still encounters the same error.</p>\n"},{"tags":["java","firefox","selenium-webdriver","automated-tests","vpn"],"answers":[{"tags":[],"owner":{"account_id":1297929,"reputation":3739,"user_id":1248505,"accept_rate":50,"display_name":"StrikerVillain"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1514874683,"creation_date":1514434214,"answer_id":48001482,"question_id":47996321,"body_markdown":"You have to load the extension using firefox profiles in WebDriver. The path to extension file is usually here `C:\\Users\\administrator\\AppData\\Roaming\\Mozilla\\Firefox\\Profiles\\ew0u966b.default-1507268891903\\extensions` \r\n\r\n    WebDriver driver = null;\r\n \r\n    FirefoxProfile firefoxProfile = new FirefoxProfile();\r\n    File addonpath = new File(&quot;path of addon/extension (.xpi file)&quot;);\r\n    firefoxProfile.addExtension(addonpath);\r\n \r\n    DesiredCapabilities capabilities = DesiredCapabilities.firefox();\r\n    capabilities.setCapability(FirefoxDriver.PROFILE, profile);\r\n \r\n    driver = new FirefoxDriver(capabilities);\r\n \r\n    driver.get(&quot;http://www.helloselenium.com&quot;);\r\n   \r\n    driver.quit();\r\n\r\nhttp://www.helloselenium.com/2014/09/how-to-add-addon-to-firefox-instance-of.html\r\n\r\nFor chrome see below link\r\n \r\nhttp://www.abodeqa.com/2013/08/24/adding-add-on-in-firefox-and-chrome-using-webdriver/\r\n\r\n***To start the extension, the following should work.***\r\n\r\nEvery extension will have a unique id which can be used to open the extension in the browser. When you install browsec plugin, you will get a url like this indicating the id. `moz-extension://f1b30486-cd88-4319-bbb5-d5e387103414/congratulations.html` I am not sure about how to obtain this id in any other way or whether it will be same for different installations. I have asked a question in SO for the same -\r\n https://stackoverflow.com/questions/48056506/get-add-on-id-of-extensions-in-firefox\r\n\r\nReplacing `congratulations.html` with `popup.html` should open the extension in the browser. You can then treat this like a normal webpage and automate it using selenium WebDriver. After you start the extension in this way, you can then load the url of the application under test and continue.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hw2Ft.png","title":"How can I access the application using selenium webdriver that works through VPN?","body":"<p>You have to load the extension using firefox profiles in WebDriver. The path to extension file is usually here <code>C:\\Users\\administrator\\AppData\\Roaming\\Mozilla\\Firefox\\Profiles\\ew0u966b.default-1507268891903\\extensions</code> </p>\n\n<pre><code>WebDriver driver = null;\n\nFirefoxProfile firefoxProfile = new FirefoxProfile();\nFile addonpath = new File(\"path of addon/extension (.xpi file)\");\nfirefoxProfile.addExtension(addonpath);\n\nDesiredCapabilities capabilities = DesiredCapabilities.firefox();\ncapabilities.setCapability(FirefoxDriver.PROFILE, profile);\n\ndriver = new FirefoxDriver(capabilities);\n\ndriver.get(\"http://www.helloselenium.com\");\n\ndriver.quit();\n</code></pre>\n\n<p><a href=\"http://www.helloselenium.com/2014/09/how-to-add-addon-to-firefox-instance-of.html\" rel=\"noreferrer\">http://www.helloselenium.com/2014/09/how-to-add-addon-to-firefox-instance-of.html</a></p>\n\n<p>For chrome see below link</p>\n\n<p><a href=\"http://www.abodeqa.com/2013/08/24/adding-add-on-in-firefox-and-chrome-using-webdriver/\" rel=\"noreferrer\">http://www.abodeqa.com/2013/08/24/adding-add-on-in-firefox-and-chrome-using-webdriver/</a></p>\n\n<p><strong><em>To start the extension, the following should work.</em></strong></p>\n\n<p>Every extension will have a unique id which can be used to open the extension in the browser. When you install browsec plugin, you will get a url like this indicating the id. <code>moz-extension://f1b30486-cd88-4319-bbb5-d5e387103414/congratulations.html</code> I am not sure about how to obtain this id in any other way or whether it will be same for different installations. I have asked a question in SO for the same -\n <a href=\"https://stackoverflow.com/questions/48056506/get-add-on-id-of-extensions-in-firefox\">Get add-on id of extensions in Firefox</a></p>\n\n<p>Replacing <code>congratulations.html</code> with <code>popup.html</code> should open the extension in the browser. You can then treat this like a normal webpage and automate it using selenium WebDriver. After you start the extension in this way, you can then load the url of the application under test and continue.</p>\n\n<p><a href=\"https://i.stack.imgur.com/hw2Ft.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/hw2Ft.png\" alt=\"enter image description here\"></a></p>\n"}],"owner":{"account_id":8495305,"reputation":281,"user_id":6370068,"accept_rate":0,"display_name":"Saba Malik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12887,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1675729478,"creation_date":1514395972,"question_id":47996321,"body_markdown":"For example, I have an application &quot;www.test.com&quot;, to access this site I have installed browsec VPN in firefox then I can see the application content - accessing the site without vpn I get an error of &quot;Your IP Address has been blocked..bla bla&quot; Now I want to test some UI of that site through Selenium Webdriver, but when I try to access the site via selenium webdriver I get same error of IP blocked since the vpn is already installed on firefox, but webdriver doesn&#39;t bother the VPN - that&#39;s my question how can I access the such applications through Selenium webdriver?\r\n","title":"How can I access the application using selenium webdriver that works through VPN?","body":"<p>For example, I have an application \"www.test.com\", to access this site I have installed browsec VPN in firefox then I can see the application content - accessing the site without vpn I get an error of \"Your IP Address has been blocked..bla bla\" Now I want to test some UI of that site through Selenium Webdriver, but when I try to access the site via selenium webdriver I get same error of IP blocked since the vpn is already installed on firefox, but webdriver doesn't bother the VPN - that's my question how can I access the such applications through Selenium webdriver?</p>\n"},{"tags":["java","scala","java-8","mockito","scalatest"],"comments":[{"owner":{"account_id":887656,"reputation":3026,"user_id":926701,"display_name":"Alexandre Dupriez"},"score":0,"creation_date":1510528763,"post_id":47096841,"comment_id":81460792,"body_markdown":"Have you looked at [How do I mock static function (Object function, not class function) in scala](https://stackoverflow.com/questions/5696815/how-do-i-mock-static-function-object-function-not-class-function-in-scala)?","body":"Have you looked at <a href=\"https://stackoverflow.com/questions/5696815/how-do-i-mock-static-function-object-function-not-class-function-in-scala\">How do I mock static function (Object function, not class function) in scala</a>?"},{"owner":{"account_id":455809,"reputation":12993,"user_id":854207,"accept_rate":62,"display_name":"paul"},"score":0,"creation_date":1510528853,"post_id":47096841,"comment_id":81460818,"body_markdown":"I’m afraid not yet. Seems like it’s not a very extended topic. At least not in mockito power mock","body":"I’m afraid not yet. Seems like it’s not a very extended topic. At least not in mockito power mock"}],"answers":[{"tags":[],"owner":{"account_id":53165,"reputation":5047,"user_id":158913,"accept_rate":70,"display_name":"Vadym Chekan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1675729386,"creation_date":1675729386,"answer_id":75367846,"question_id":47096841,"body_markdown":"Mocking Java static method in Scala is more involved than in Java because Mockito API use Java&#39;s ability to implicit cast a single-function \r\ninterface to pointer of a function, for example: \r\n`httpClientStaticMock.when(HttpClientBuilder::build).thenReturn(httpClientBuilder);` notice function pointer usage: \r\n`HttpClientBuilder::build`.\r\n\r\nAs scala compiler does not have the same implicit casting rules, we have to de-sugar this call explicitly:\r\n```scala\r\nval httpClientStaticMock = mockStatic(classOf[org.apache.http.impl.client.HttpClientBuilder])\r\ntry {\r\n  httpClientStaticMock.when(new org.mockito.MockedStatic.Verification {\r\n    override def apply(): Unit = org.apache.http.impl.client.HttpClientBuilder.create()\r\n  }).thenReturn(httpClientBuilder)\r\n\r\n} finally {\r\n  httpClientStaticMock.close()\r\n}\r\n\r\n```\r\nNotice anonymous object usage to implement `Verification` interface: `new org.mockito.MockedStatic.Verification`.\r\n\r\nAlso, pay attention and do NOT forget to `close` static mocks in `finally` clause, otherwise very hard to troubleshoot \r\nerrors will happen.\r\n","title":"Mock Java static class from scala","body":"<p>Mocking Java static method in Scala is more involved than in Java because Mockito API use Java's ability to implicit cast a single-function\ninterface to pointer of a function, for example:\n<code>httpClientStaticMock.when(HttpClientBuilder::build).thenReturn(httpClientBuilder);</code> notice function pointer usage:\n<code>HttpClientBuilder::build</code>.</p>\n<p>As scala compiler does not have the same implicit casting rules, we have to de-sugar this call explicitly:</p>\n<pre class=\"lang-scala prettyprint-override\"><code>val httpClientStaticMock = mockStatic(classOf[org.apache.http.impl.client.HttpClientBuilder])\ntry {\n  httpClientStaticMock.when(new org.mockito.MockedStatic.Verification {\n    override def apply(): Unit = org.apache.http.impl.client.HttpClientBuilder.create()\n  }).thenReturn(httpClientBuilder)\n\n} finally {\n  httpClientStaticMock.close()\n}\n\n</code></pre>\n<p>Notice anonymous object usage to implement <code>Verification</code> interface: <code>new org.mockito.MockedStatic.Verification</code>.</p>\n<p>Also, pay attention and do NOT forget to <code>close</code> static mocks in <code>finally</code> clause, otherwise very hard to troubleshoot\nerrors will happen.</p>\n"}],"owner":{"account_id":455809,"reputation":12993,"user_id":854207,"accept_rate":62,"display_name":"paul"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2666,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":1,"score":11,"last_activity_date":1675729386,"creation_date":1509715490,"question_id":47096841,"body_markdown":"Any idea how from ScalaTest I can mock a static Java class??\r\n\r\nI have this code\r\n\r\n\r\n      val mockMapperComponent: IMapperComponent = mock[IMapperComponent]\r\n      val applicationContext: ApplicationContext = mock[ApplicationContext]\r\n    \r\n      val appContextUtil: AppContextUtil = mock[AppContextUtil]\r\n    \r\n    \r\n      override def beforeAll(): Unit = {\r\n        mockStatic(classOf[AppContextUtil])\r\n        when(AppContextUtil.getApplicationContext).thenReturn(applicationContext)\r\n        when(applicationContext.getBean(classOf[IMapperComponent])).thenReturn(mockMapperComponent)\r\n    \r\n      }\r\n\r\nIn Java `mockStatic` with the annotation in the class `@PrepareForTest({AppContextUtil.class})` do the trick, but from Scala I can only found in scalaTest documentation how to mock the normal access, but not static.\r\n\r\nRegards.","title":"Mock Java static class from scala","body":"<p>Any idea how from ScalaTest I can mock a static Java class??</p>\n\n<p>I have this code</p>\n\n<pre><code>  val mockMapperComponent: IMapperComponent = mock[IMapperComponent]\n  val applicationContext: ApplicationContext = mock[ApplicationContext]\n\n  val appContextUtil: AppContextUtil = mock[AppContextUtil]\n\n\n  override def beforeAll(): Unit = {\n    mockStatic(classOf[AppContextUtil])\n    when(AppContextUtil.getApplicationContext).thenReturn(applicationContext)\n    when(applicationContext.getBean(classOf[IMapperComponent])).thenReturn(mockMapperComponent)\n\n  }\n</code></pre>\n\n<p>In Java <code>mockStatic</code> with the annotation in the class <code>@PrepareForTest({AppContextUtil.class})</code> do the trick, but from Scala I can only found in scalaTest documentation how to mock the normal access, but not static.</p>\n\n<p>Regards.</p>\n"},{"tags":["java","spring","policy","spring-ws","wss4j"],"owner":{"account_id":9289441,"reputation":29,"user_id":6898288,"display_name":"sickzz1"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":333,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675728291,"creation_date":1675727812,"question_id":75367730,"body_markdown":"I need to &quot;mimik&quot; a ws-security policy in spring-ws 4. For that I use a Wss4jSecurityInterceptor\r\n\r\nThis is the policy:\r\n\r\n    &lt;wsp:Policy wsu:Id=&quot;SymmEncr&quot;\r\n    xmlns:wsu=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd&quot; xmlns:wsp=&quot;http://schemas.xmlsoap.org/ws/2004/09/policy&quot;\r\n    xmlns:wsaw=&quot;http://www.w3.org/2006/05/addressing/wsdl&quot;\r\n    xmlns:sp=&quot;http://docs.oasis-open.org/ws-sx/ws-securitypolicy/200702&quot;&gt;\r\n\t&lt;wsp:ExactlyOne&gt;\r\n        &lt;wsp:All&gt;\r\n            &lt;sp:SymmetricBinding&gt;\r\n                &lt;wsp:Policy&gt;\r\n                    &lt;sp:ProtectionToken&gt;\r\n                        &lt;wsp:Policy&gt;\r\n                            &lt;sp:X509Token sp:IncludeToken=&quot;http://docs.oasis-open.org/ws-sx/ws-securitypolicy/200702/IncludeToken/Never&quot;&gt;\r\n                                &lt;wsp:Policy&gt;\r\n                                    &lt;sp:RequireDerivedKeys /&gt;\r\n                                    &lt;sp:RequireThumbprintReference /&gt;\r\n                                    &lt;sp:WssX509V3Token10 /&gt;\r\n                                &lt;/wsp:Policy&gt;\r\n                            &lt;/sp:X509Token&gt;\r\n                        &lt;/wsp:Policy&gt;\r\n                    &lt;/sp:ProtectionToken&gt;\r\n                    &lt;sp:AlgorithmSuite&gt;\r\n                        &lt;wsp:Policy&gt;\r\n                            &lt;sp:Basic128Rsa15 /&gt;\r\n                        &lt;/wsp:Policy&gt;\r\n                    &lt;/sp:AlgorithmSuite&gt;\r\n                    &lt;sp:Layout&gt;\r\n                        &lt;wsp:Policy&gt;\r\n                            &lt;sp:Strict /&gt;\r\n                        &lt;/wsp:Policy&gt;\r\n                    &lt;/sp:Layout&gt;\r\n                    &lt;sp:IncludeTimestamp/&gt;\r\n                    &lt;sp:EncryptSignature/&gt;\r\n                    &lt;sp:OnlySignEntireHeadersAndBody/&gt;\r\n                &lt;/wsp:Policy&gt;\r\n            &lt;/sp:SymmetricBinding&gt;\r\n            &lt;sp:Wss11&gt;\r\n                &lt;wsp:Policy&gt;\r\n                    &lt;sp:MustSupportRefKeyIdentifier /&gt;\r\n                    &lt;sp:MustSupportRefIssuerSerial/&gt;\r\n                    &lt;sp:MustSupportRefThumbprint /&gt;\r\n                    &lt;sp:MustSupportRefEncryptedKey /&gt;\r\n                    &lt;sp:RequireSignatureConfirmation/&gt;\r\n                &lt;/wsp:Policy&gt;\r\n            &lt;/sp:Wss11&gt;\r\n            &lt;sp:SignedParts&gt;\r\n                &lt;sp:Body /&gt;\r\n                &lt;sp:Header Name=&quot;To&quot; Namespace=&quot;http://schemas.xmlsoap.org/ws/2004/08/addressing&quot;/&gt;\r\n            &lt;/sp:SignedParts&gt;\r\n            &lt;sp:EncryptedParts&gt;\r\n                &lt;sp:Body /&gt;\r\n            &lt;/sp:EncryptedParts&gt;\r\n        &lt;/wsp:All&gt;\r\n    &lt;/wsp:ExactlyOne&gt;\r\n&lt;/wsp:Policy&gt;\r\n\r\nThis is the Interceptor:\r\n\r\n\r\n    @Bean\r\n    public Wss4jSecurityInterceptor securityInterceptor() throws Exception {\r\n        CryptoFactoryBean cryptoFactoryBean = new CryptoFactoryBean();\r\n        cryptoFactoryBean.setKeyStorePassword(&quot;password&quot;);\r\n        cryptoFactoryBean.setKeyStoreLocation(new ClassPathResource(&quot;keystore.jks&quot;));\r\n        cryptoFactoryBean.setKeyStoreType(&quot;jks&quot;);\r\n        cryptoFactoryBean.setDefaultX509Alias(&quot;server&quot;);\r\n        cryptoFactoryBean.afterPropertiesSet();\r\n\r\n        Wss4jSecurityInterceptor securityInterceptor = new Wss4jSecurityInterceptor();\r\n        securityInterceptor.setSecurementEncryptionCrypto(cryptoFactoryBean.getObject());\r\n        securityInterceptor.setValidationSignatureCrypto(cryptoFactoryBean.getObject());\r\n        securityInterceptor.setSecurementSignatureCrypto(cryptoFactoryBean.getObject());\r\n\r\n        securityInterceptor.setSecurementTimeToLive(3000);\r\n        securityInterceptor.setValidationTimeToLive(3000);\r\n        securityInterceptor.setTimestampPrecisionInMilliseconds(true);\r\n        securityInterceptor.setRemoveSecurityHeader(false);\r\n        securityInterceptor.setSecurementActions(&quot;Encrypt Signature Timestamp&quot;);\r\n        securityInterceptor.setValidationActions(&quot;Encrypt Signature Timestamp&quot;);\r\n        securityInterceptor.setTimestampStrict(true);\r\n        securityInterceptor.setSecurementUsername(&quot;server&quot;);\r\n        securityInterceptor.setSecurementPassword(&quot;password&quot;);\r\n        securityInterceptor.setSecurementPasswordType(WSConstants.PW_TEXT);\r\n\r\n        KeyStoreCallbackHandler keyStoreCallbackHandler = new KeyStoreCallbackHandler();\r\n        keyStoreCallbackHandler.setSymmetricKeyPassword(&quot;password&quot;);\r\n        keyStoreCallbackHandler.afterPropertiesSet();\r\n        securityInterceptor.setValidationCallbackHandler(keyStoreCallbackHandler);\r\n        securityInterceptor.setSecurementEncryptionSymAlgorithm(WSConstants.AES_128);\r\n        securityInterceptor.afterPropertiesSet();\r\n\r\n        return securityInterceptor;\r\n    }\r\nThe keystore only has a public key, because of that I get this exception:\r\n\r\n    Caused by: org.apache.wss4j.common.ext.WSSecurityException: Cannot find key for alias: [server]\r\n\tat org.apache.wss4j.common.crypto.Merlin.getPrivateKey(Merlin.java:704) ~[wss4j-ws-security-common-2.4.1.jar:2.4.1]\r\n\tat org.apache.wss4j.dom.message.WSSecSignature.computeSignature(WSSecSignature.java:571) ~[wss4j-ws-security-dom-2.4.1.jar:2.4.1]\r\n\t... 62 common frames omitted\r\n\r\nWhen I remove the &quot;Signature&quot; Action from the Interceptor, I get a basic NullPointerException from the service.\r\n\r\nWhats missing here? If I understand right, I need to sign the Request, but then it needs a private key.\r\n\r\nThanks in advance!","title":"WSS4JSecurityInterceptor with spring-ws 4 and ws-policy file","body":"<p>I need to &quot;mimik&quot; a ws-security policy in spring-ws 4. For that I use a Wss4jSecurityInterceptor</p>\n<p>This is the policy:</p>\n<pre><code>&lt;wsp:Policy wsu:Id=&quot;SymmEncr&quot;\nxmlns:wsu=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd&quot; xmlns:wsp=&quot;http://schemas.xmlsoap.org/ws/2004/09/policy&quot;\nxmlns:wsaw=&quot;http://www.w3.org/2006/05/addressing/wsdl&quot;\nxmlns:sp=&quot;http://docs.oasis-open.org/ws-sx/ws-securitypolicy/200702&quot;&gt;\n&lt;wsp:ExactlyOne&gt;\n    &lt;wsp:All&gt;\n        &lt;sp:SymmetricBinding&gt;\n            &lt;wsp:Policy&gt;\n                &lt;sp:ProtectionToken&gt;\n                    &lt;wsp:Policy&gt;\n                        &lt;sp:X509Token sp:IncludeToken=&quot;http://docs.oasis-open.org/ws-sx/ws-securitypolicy/200702/IncludeToken/Never&quot;&gt;\n                            &lt;wsp:Policy&gt;\n                                &lt;sp:RequireDerivedKeys /&gt;\n                                &lt;sp:RequireThumbprintReference /&gt;\n                                &lt;sp:WssX509V3Token10 /&gt;\n                            &lt;/wsp:Policy&gt;\n                        &lt;/sp:X509Token&gt;\n                    &lt;/wsp:Policy&gt;\n                &lt;/sp:ProtectionToken&gt;\n                &lt;sp:AlgorithmSuite&gt;\n                    &lt;wsp:Policy&gt;\n                        &lt;sp:Basic128Rsa15 /&gt;\n                    &lt;/wsp:Policy&gt;\n                &lt;/sp:AlgorithmSuite&gt;\n                &lt;sp:Layout&gt;\n                    &lt;wsp:Policy&gt;\n                        &lt;sp:Strict /&gt;\n                    &lt;/wsp:Policy&gt;\n                &lt;/sp:Layout&gt;\n                &lt;sp:IncludeTimestamp/&gt;\n                &lt;sp:EncryptSignature/&gt;\n                &lt;sp:OnlySignEntireHeadersAndBody/&gt;\n            &lt;/wsp:Policy&gt;\n        &lt;/sp:SymmetricBinding&gt;\n        &lt;sp:Wss11&gt;\n            &lt;wsp:Policy&gt;\n                &lt;sp:MustSupportRefKeyIdentifier /&gt;\n                &lt;sp:MustSupportRefIssuerSerial/&gt;\n                &lt;sp:MustSupportRefThumbprint /&gt;\n                &lt;sp:MustSupportRefEncryptedKey /&gt;\n                &lt;sp:RequireSignatureConfirmation/&gt;\n            &lt;/wsp:Policy&gt;\n        &lt;/sp:Wss11&gt;\n        &lt;sp:SignedParts&gt;\n            &lt;sp:Body /&gt;\n            &lt;sp:Header Name=&quot;To&quot; Namespace=&quot;http://schemas.xmlsoap.org/ws/2004/08/addressing&quot;/&gt;\n        &lt;/sp:SignedParts&gt;\n        &lt;sp:EncryptedParts&gt;\n            &lt;sp:Body /&gt;\n        &lt;/sp:EncryptedParts&gt;\n    &lt;/wsp:All&gt;\n&lt;/wsp:ExactlyOne&gt;\n</code></pre>\n<p>&lt;/wsp:Policy&gt;</p>\n<p>This is the Interceptor:</p>\n<pre><code>@Bean\npublic Wss4jSecurityInterceptor securityInterceptor() throws Exception {\n    CryptoFactoryBean cryptoFactoryBean = new CryptoFactoryBean();\n    cryptoFactoryBean.setKeyStorePassword(&quot;password&quot;);\n    cryptoFactoryBean.setKeyStoreLocation(new ClassPathResource(&quot;keystore.jks&quot;));\n    cryptoFactoryBean.setKeyStoreType(&quot;jks&quot;);\n    cryptoFactoryBean.setDefaultX509Alias(&quot;server&quot;);\n    cryptoFactoryBean.afterPropertiesSet();\n\n    Wss4jSecurityInterceptor securityInterceptor = new Wss4jSecurityInterceptor();\n    securityInterceptor.setSecurementEncryptionCrypto(cryptoFactoryBean.getObject());\n    securityInterceptor.setValidationSignatureCrypto(cryptoFactoryBean.getObject());\n    securityInterceptor.setSecurementSignatureCrypto(cryptoFactoryBean.getObject());\n\n    securityInterceptor.setSecurementTimeToLive(3000);\n    securityInterceptor.setValidationTimeToLive(3000);\n    securityInterceptor.setTimestampPrecisionInMilliseconds(true);\n    securityInterceptor.setRemoveSecurityHeader(false);\n    securityInterceptor.setSecurementActions(&quot;Encrypt Signature Timestamp&quot;);\n    securityInterceptor.setValidationActions(&quot;Encrypt Signature Timestamp&quot;);\n    securityInterceptor.setTimestampStrict(true);\n    securityInterceptor.setSecurementUsername(&quot;server&quot;);\n    securityInterceptor.setSecurementPassword(&quot;password&quot;);\n    securityInterceptor.setSecurementPasswordType(WSConstants.PW_TEXT);\n\n    KeyStoreCallbackHandler keyStoreCallbackHandler = new KeyStoreCallbackHandler();\n    keyStoreCallbackHandler.setSymmetricKeyPassword(&quot;password&quot;);\n    keyStoreCallbackHandler.afterPropertiesSet();\n    securityInterceptor.setValidationCallbackHandler(keyStoreCallbackHandler);\n    securityInterceptor.setSecurementEncryptionSymAlgorithm(WSConstants.AES_128);\n    securityInterceptor.afterPropertiesSet();\n\n    return securityInterceptor;\n}\n</code></pre>\n<p>The keystore only has a public key, because of that I get this exception:</p>\n<pre><code>Caused by: org.apache.wss4j.common.ext.WSSecurityException: Cannot find key for alias: [server]\nat org.apache.wss4j.common.crypto.Merlin.getPrivateKey(Merlin.java:704) ~[wss4j-ws-security-common-2.4.1.jar:2.4.1]\nat org.apache.wss4j.dom.message.WSSecSignature.computeSignature(WSSecSignature.java:571) ~[wss4j-ws-security-dom-2.4.1.jar:2.4.1]\n... 62 common frames omitted\n</code></pre>\n<p>When I remove the &quot;Signature&quot; Action from the Interceptor, I get a basic NullPointerException from the service.</p>\n<p>Whats missing here? If I understand right, I need to sign the Request, but then it needs a private key.</p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","arrays","multidimensional-array","file-io","char"],"answers":[{"tags":[],"owner":{"account_id":5033580,"reputation":889,"user_id":4043082,"display_name":"Giga Kokaia"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1675722433,"creation_date":1675722433,"answer_id":75367217,"question_id":75367007,"body_markdown":"You are calling read.readLine() twice, once in the while and after in the body of for iteration.\r\n\r\nAlso i &lt; row-1; is not correct, should be i &lt; row;\r\n\r\nMaybe this will give you idea:\r\n    \r\n    String line = read.readLine();\r\n    for (int i = 0; i &lt; row &amp;&amp; line!=null; i++) {\r\n       for (int j = 0; j &lt; col; j++) {\r\n          arr[i][j] = (char) line.charAt(j);\r\n       }\r\n    line = read.readLine();\r\n    }\r\n","title":"Creating a java program that iterates over every character in a file and places each character in a 2d array","body":"<p>You are calling read.readLine() twice, once in the while and after in the body of for iteration.</p>\n<p>Also i &lt; row-1; is not correct, should be i &lt; row;</p>\n<p>Maybe this will give you idea:</p>\n<pre><code>String line = read.readLine();\nfor (int i = 0; i &lt; row &amp;&amp; line!=null; i++) {\n   for (int j = 0; j &lt; col; j++) {\n      arr[i][j] = (char) line.charAt(j);\n   }\nline = read.readLine();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1675723322,"creation_date":1675723322,"answer_id":75367303,"question_id":75367007,"body_markdown":"You don&#39;t realy need those nested for loops. Just move the variable `line` outside the while loop, call `readLine` inside the condition  and add a line number counter `i`:\r\n\r\n\r\n    //rest of your code\r\n    try (BufferedReader read = new BufferedReader(new FileReader(fileObj))) {\r\n        //separate num 1 and 2 to get rows and columns\r\n        String[] rc = read.readLine().split(&quot;\\\\s&quot;);\r\n        row = Integer.parseInt(rc[0]);\r\n        col = Integer.parseInt(rc[1]);\r\n        arr = new char[row][col];\r\n\r\n        System.out.println(row + &quot; &quot; + col);\r\n\r\n        String line;\r\n        int i = 0;\r\n        while ((line = read.readLine()) != null) {\r\n            arr[i] = line.toCharArray();\r\n            System.out.println(Arrays.toString(arr[i]));\r\n            i++;\r\n        }\r\n    } catch (IOException e) {\r\n        System.out.println(&quot;incorrect input&quot;);\r\n        e.printStackTrace();\r\n    }\r\n    //rest of your code","title":"Creating a java program that iterates over every character in a file and places each character in a 2d array","body":"<p>You don't realy need those nested for loops. Just move the variable <code>line</code> outside the while loop, call <code>readLine</code> inside the condition  and add a line number counter <code>i</code>:</p>\n<pre><code>//rest of your code\ntry (BufferedReader read = new BufferedReader(new FileReader(fileObj))) {\n    //separate num 1 and 2 to get rows and columns\n    String[] rc = read.readLine().split(&quot;\\\\s&quot;);\n    row = Integer.parseInt(rc[0]);\n    col = Integer.parseInt(rc[1]);\n    arr = new char[row][col];\n\n    System.out.println(row + &quot; &quot; + col);\n\n    String line;\n    int i = 0;\n    while ((line = read.readLine()) != null) {\n        arr[i] = line.toCharArray();\n        System.out.println(Arrays.toString(arr[i]));\n        i++;\n    }\n} catch (IOException e) {\n    System.out.println(&quot;incorrect input&quot;);\n    e.printStackTrace();\n}\n//rest of your code\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675728026,"creation_date":1675728026,"answer_id":75367744,"question_id":75367007,"body_markdown":"The simplest way is probably the following. NB, you don&#39;t need the first line in your maze file:\r\n\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Path;\r\n    import java.util.stream.Stream;\r\n    import java.util.Arrays;\r\n    \r\n    public class FileToArray {\r\n        public static void main(String[] args) {\r\n            try {\r\n                try (Stream&lt;String&gt; stream = Files.lines(Path.of(args[0]))) {\r\n                    String[][] maze = stream.map(s -&gt; s.split(&quot; &quot;)).toArray(String[][]::new);\r\n                    System.out.println(Arrays.deepToString(maze));\r\n                }\r\n    \r\n            } catch (Throwable t) {\r\n                t.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Creating a java program that iterates over every character in a file and places each character in a 2d array","body":"<p>The simplest way is probably the following. NB, you don't need the first line in your maze file:</p>\n<pre><code>import java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.util.stream.Stream;\nimport java.util.Arrays;\n\npublic class FileToArray {\n    public static void main(String[] args) {\n        try {\n            try (Stream&lt;String&gt; stream = Files.lines(Path.of(args[0]))) {\n                String[][] maze = stream.map(s -&gt; s.split(&quot; &quot;)).toArray(String[][]::new);\n                System.out.println(Arrays.deepToString(maze));\n            }\n\n        } catch (Throwable t) {\n            t.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":24762931,"reputation":103,"user_id":18647093,"display_name":"Ace of Diamonds"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1675728026,"creation_date":1675720734,"question_id":75367007,"body_markdown":"To specify, the file starts with the row and column separated by a space, along with a maze one line after. For example:\r\n\r\nmazeA.txt:\r\n\r\n    7 9\r\n    # # #####\r\n    # # #   #\r\n    # # # ###\r\n    # #     #\r\n    # ##### #\r\n    #       #\r\n    #########\r\n\r\nWhat I need is for this to be put in a 2d array that looks like this:\r\n```\r\n[#,  , #,  , #, #, #, #, #]\r\n[#,  , #,  , #,  ,  ,  , #]\r\n[#,  , #,  , #,  , #, #, #]\r\n[#,  , #,  ,  ,  ,  ,  , #]\r\n[#,  , #, #, #, #, #,  , #]\r\n[#,  ,  ,  ,  ,  ,  ,  , #]\r\n[#, #, #, #, #, #, #, #, #]\r\n```\r\n\r\nHeres the code:\r\n```\r\npublic static void main(String[] args){\r\n\t\tint row, col;\r\n\t\tchar[][] arr;\r\n\t\t\r\n\t\tScanner inp = new Scanner(System.in);\r\n\t\t\r\n\t\tSystem.out.println(&quot;Enter the filename of the maze: &quot;);\r\n\t\tString mzeFile = inp.next();                            //input stuff\r\n\t\tFile fileObj = new File(mzeFile);\r\n\t\t\r\n\t\tSystem.out.println(&quot;File &quot; +mzeFile+ &quot; has been entered. Solving:\\n&quot;);\r\n\t\t\r\n\t\ttry(BufferedReader read = new BufferedReader(new FileReader(fileObj))){\r\n            //separate num 1 and 2 to get rows and columns\r\n\t\t\tString[] rc = read.readLine().split(&quot;\\\\s&quot;);\r\n\t\t\trow = Integer.parseInt(rc[0]);\r\n\t\t\tcol = Integer.parseInt(rc[1]);\r\n\t\t\tarr = new char[row][col];\r\n\t\t\t\r\n\t\t\tSystem.out.println(row + &quot; &quot; + col);\r\n\t\t\t\r\n            //start of iteration\r\n            //attempts to start at second line and append maze characters\r\n            //but i use readLine() twice so it just skips the first line of the maze\r\n\t\t\twhile(read.readLine() != null) {\r\n\t\t\t\tfor(int i = 0; i &lt; row-1; i++) {\r\n\t\t\t\t\tString line = read.readLine();\r\n\t\t\t\t\tfor(int j = 0; j &lt; col; j++) {\r\n\t\t\t\t\t\tarr[i][j] = (char) line.charAt(j);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t//uncomment this to print array\r\n\t\t\t\tfor(int x = 0; x &lt; row; x++) {\r\n\t\t\t\t\tSystem.out.println(Arrays.toString(arr[x]));\r\n\t\t\t\t}\r\n\t\t\t\r\n\t\t\t}\r\n\t\t} catch(IOException e) {\r\n\t\t\tSystem.out.println(&quot;incorrect input&quot;);\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n```\r\n\r\nWhat happens is the output comes out like this, where it prints out a line early and the 7th element is left empty.\r\n\r\n```\r\nEX:\r\n[#,  , #,  , #,  ,  ,  , #]\r\n[#,  , #,  , #,  , #, #, #]\r\n[#,  , #,  ,  ,  ,  ,  , #]\r\n[#,  , #, #, #, #, #,  , #]\r\n[#,  ,  ,  ,  ,  ,  ,  , #]\r\n[#, #, #, #, #, #, #, #, #]\r\n[\r\n```\r\n\r\nI can understand what the issue is, but I can&#39;t figure out how to circumvent it. Specifically, I need a way to simply align the &#39;j&#39; loop with the proper line, and to do that I need to use readLine() in a better way. Yes, I know its far more simple than I&#39;m making it.","title":"Creating a java program that iterates over every character in a file and places each character in a 2d array","body":"<p>To specify, the file starts with the row and column separated by a space, along with a maze one line after. For example:</p>\n<p>mazeA.txt:</p>\n<pre><code>7 9\n# # #####\n# # #   #\n# # # ###\n# #     #\n# ##### #\n#       #\n#########\n</code></pre>\n<p>What I need is for this to be put in a 2d array that looks like this:</p>\n<pre><code>[#,  , #,  , #, #, #, #, #]\n[#,  , #,  , #,  ,  ,  , #]\n[#,  , #,  , #,  , #, #, #]\n[#,  , #,  ,  ,  ,  ,  , #]\n[#,  , #, #, #, #, #,  , #]\n[#,  ,  ,  ,  ,  ,  ,  , #]\n[#, #, #, #, #, #, #, #, #]\n</code></pre>\n<p>Heres the code:</p>\n<pre><code>public static void main(String[] args){\n        int row, col;\n        char[][] arr;\n        \n        Scanner inp = new Scanner(System.in);\n        \n        System.out.println(&quot;Enter the filename of the maze: &quot;);\n        String mzeFile = inp.next();                            //input stuff\n        File fileObj = new File(mzeFile);\n        \n        System.out.println(&quot;File &quot; +mzeFile+ &quot; has been entered. Solving:\\n&quot;);\n        \n        try(BufferedReader read = new BufferedReader(new FileReader(fileObj))){\n            //separate num 1 and 2 to get rows and columns\n            String[] rc = read.readLine().split(&quot;\\\\s&quot;);\n            row = Integer.parseInt(rc[0]);\n            col = Integer.parseInt(rc[1]);\n            arr = new char[row][col];\n            \n            System.out.println(row + &quot; &quot; + col);\n            \n            //start of iteration\n            //attempts to start at second line and append maze characters\n            //but i use readLine() twice so it just skips the first line of the maze\n            while(read.readLine() != null) {\n                for(int i = 0; i &lt; row-1; i++) {\n                    String line = read.readLine();\n                    for(int j = 0; j &lt; col; j++) {\n                        arr[i][j] = (char) line.charAt(j);\n                    }\n                }\n            //uncomment this to print array\n                for(int x = 0; x &lt; row; x++) {\n                    System.out.println(Arrays.toString(arr[x]));\n                }\n            \n            }\n        } catch(IOException e) {\n            System.out.println(&quot;incorrect input&quot;);\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>What happens is the output comes out like this, where it prints out a line early and the 7th element is left empty.</p>\n<pre><code>EX:\n[#,  , #,  , #,  ,  ,  , #]\n[#,  , #,  , #,  , #, #, #]\n[#,  , #,  ,  ,  ,  ,  , #]\n[#,  , #, #, #, #, #,  , #]\n[#,  ,  ,  ,  ,  ,  ,  , #]\n[#, #, #, #, #, #, #, #, #]\n[\n</code></pre>\n<p>I can understand what the issue is, but I can't figure out how to circumvent it. Specifically, I need a way to simply align the 'j' loop with the proper line, and to do that I need to use readLine() in a better way. Yes, I know its far more simple than I'm making it.</p>\n"},{"tags":["java","data-structures","amazon-dynamodb","versioning"],"owner":{"account_id":8646400,"reputation":43,"user_id":6473464,"display_name":"Bhupendra Moharil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675727980,"creation_date":1675451768,"question_id":75340122,"body_markdown":"My use case is as follows:\r\nA periodic data revision is published (weekly). Records from this data revision either insert new rows into DDB table or update existing records (not all rows are always affected as this update is has a conditional clause). Once the data is ingested, an integration test (automated approval workflow with control/treatment, where control reads older data and treatment reads the new data from revision) follows which touches random rows from the DDB table and validates if the new data revision is not leading to regression (metric threshold check pre v/s post). Once the approval is complete, the data revision is considered valid and moved to production.\r\n\r\n\r\nThoughts so far:\r\nMaintain versions of the records while inserting the data into the primary table for each revision. Each revision has a unique identifier which becomes the &quot;version&quot; for all the record. Maintain a separate table for storing all the active versions. Only add a version to the active versions table if the approval is successful with an approval timestamp. To determine the active version for a record, we will identify the revision with the latest approval timestamp.\r\n\r\n**primary table**\r\nprimary_key, version, score\r\n\r\n**active versions table**\r\nversion, approval_date\r\n\r\nThe problem with this approach is that the reads will be costly. With increase in number of versions, the reads will require reading more records. This can be solved by adding a cleanup job though. But the cleanup job itself will be a scan operation\r\n\r\nLooking for:\r\nWays to optimize this approach/ nuke it and phoenix\r\n\r\nTIA!","title":"How do I insert a new data revision into a DDB table if an approval workflow later marks the revision valid?","body":"<p>My use case is as follows:\nA periodic data revision is published (weekly). Records from this data revision either insert new rows into DDB table or update existing records (not all rows are always affected as this update is has a conditional clause). Once the data is ingested, an integration test (automated approval workflow with control/treatment, where control reads older data and treatment reads the new data from revision) follows which touches random rows from the DDB table and validates if the new data revision is not leading to regression (metric threshold check pre v/s post). Once the approval is complete, the data revision is considered valid and moved to production.</p>\n<p>Thoughts so far:\nMaintain versions of the records while inserting the data into the primary table for each revision. Each revision has a unique identifier which becomes the &quot;version&quot; for all the record. Maintain a separate table for storing all the active versions. Only add a version to the active versions table if the approval is successful with an approval timestamp. To determine the active version for a record, we will identify the revision with the latest approval timestamp.</p>\n<p><strong>primary table</strong>\nprimary_key, version, score</p>\n<p><strong>active versions table</strong>\nversion, approval_date</p>\n<p>The problem with this approach is that the reads will be costly. With increase in number of versions, the reads will require reading more records. This can be solved by adding a cleanup job though. But the cleanup job itself will be a scan operation</p>\n<p>Looking for:\nWays to optimize this approach/ nuke it and phoenix</p>\n<p>TIA!</p>\n"},{"tags":["java","libgdx"],"answers":[{"tags":[],"owner":{"account_id":2478734,"reputation":196,"user_id":2158740,"display_name":"adketuri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675727614,"creation_date":1675726832,"answer_id":75367646,"question_id":75349854,"body_markdown":"One option is to bypass the animation completely, update the progress bar from your render callback (by default libgdx [combines these callbacks into one][1]), and rely on the pause + resume callbacks at the application-level. Here&#39;s an example based on your initial code. Note the bar has no animation and a max value of 25, just to make the progress updates a bit more intuitive.\r\n\r\n    public class ProgressBarTest implements ApplicationListener {\r\n    \r\n    \tboolean active;\r\n    \tSpriteBatch batch;\r\n    \tStage stage;\r\n    \tint width = 380;\r\n    \tint height = 180;\r\n    \tProgressBar bar;\r\n    \r\n    \t@Override\r\n    \tpublic void create () {\r\n    \t\tactive = true;\r\n    \t\tbatch = new SpriteBatch();\r\n    \t\tstage = new Stage(new FitViewport(width, height));\r\n    \r\n    \t\tPixmap pixmap = new Pixmap(100, 50, Pixmap.Format.RGBA8888);\r\n    \t\tpixmap.setColor(Color.CYAN);\r\n    \t\tpixmap.fill();\r\n    \r\n    \t\tTextureRegionDrawable drawable = new TextureRegionDrawable(new TextureRegion(new Texture(pixmap)));\r\n    \t\tpixmap.dispose();\r\n    \r\n    \t\tProgressBar.ProgressBarStyle progressBarStyle = new ProgressBar.ProgressBarStyle();\r\n    \t\tprogressBarStyle.background = drawable;\r\n    \r\n    \r\n    \t\tpixmap = new Pixmap(0, 50, Pixmap.Format.RGBA8888);\r\n    \t\tpixmap.setColor(Color.RED);\r\n    \t\tpixmap.fill();\r\n    \t\tdrawable = new TextureRegionDrawable(new TextureRegion(new Texture(pixmap)));\r\n    \t\tpixmap.dispose();\r\n    \r\n    \t\tprogressBarStyle.knob = drawable;\r\n    \r\n    \t\tpixmap = new Pixmap(100, 50, Pixmap.Format.RGBA8888);\r\n    \t\tpixmap.setColor(Color.RED);\r\n    \t\tpixmap.fill();\r\n    \t\tdrawable = new TextureRegionDrawable(new TextureRegion(new Texture(pixmap)));\r\n    \t\tpixmap.dispose();\r\n    \r\n    \t\tprogressBarStyle.knobBefore = drawable;\r\n    \r\n    \t\tbar = new ProgressBar(0f, 25f, 0.01f, false, progressBarStyle);\r\n    \t\tbar.setBounds(100, 1600, 875, 50);\r\n    \r\n    \t\tstage.setRoot(new Table() {\r\n    \t\t\t{\r\n    \t\t\t\tadd(bar);\r\n    \t\t\t\tsetFillParent(true);\r\n    \t\t\t\tsetSize(width, height);\r\n    \t\t\t}\r\n    \t\t});\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void resize(int x, int y) {\r\n    \r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void render () {\r\n    \t\tif (active &amp;&amp; bar.getValue() &lt; bar.getMaxValue()){\r\n    \t\t\tbar.setValue(bar.getValue() + Gdx.graphics.getDeltaTime());\r\n    \t\t\tif (bar.getValue() &gt;= bar.getMaxValue()){\r\n    \t\t\t\tSystem.out.println(&quot;Filled up!&quot;);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tstage.act();\r\n    \r\n    \t\tScreenUtils.clear(0, 0, 0, 1);\r\n    \t\tbatch.begin();\r\n    \t\tstage.draw();\r\n    \t\tbatch.end();\r\n    \t}\r\n    \r\n    \r\n    \t@Override\r\n    \tpublic void pause() {\r\n    \t\tSystem.out.println(&quot;Paused!&quot;);\r\n    \t\tactive = false;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void resume() {\r\n    \t\tSystem.out.println(&quot;Resumed!&quot;);\r\n    \t\tactive = true;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void dispose () {\r\n    \t\tbatch.dispose();\r\n    \t\tstage.dispose();\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/20768523/why-libgdx-doesnt-have-update-and-render-separated\r\n\r\nMaybe something like this works for your use case?\r\n\r\nEDIT: Also, if you want to keep the animation, you can probably get away with conditionally calling `stage.act()` when `active` is `true`.","title":"Pausing a LIBGDX progress bar","body":"<p>One option is to bypass the animation completely, update the progress bar from your render callback (by default libgdx <a href=\"https://stackoverflow.com/questions/20768523/why-libgdx-doesnt-have-update-and-render-separated\">combines these callbacks into one</a>), and rely on the pause + resume callbacks at the application-level. Here's an example based on your initial code. Note the bar has no animation and a max value of 25, just to make the progress updates a bit more intuitive.</p>\n<pre><code>public class ProgressBarTest implements ApplicationListener {\n\n    boolean active;\n    SpriteBatch batch;\n    Stage stage;\n    int width = 380;\n    int height = 180;\n    ProgressBar bar;\n\n    @Override\n    public void create () {\n        active = true;\n        batch = new SpriteBatch();\n        stage = new Stage(new FitViewport(width, height));\n\n        Pixmap pixmap = new Pixmap(100, 50, Pixmap.Format.RGBA8888);\n        pixmap.setColor(Color.CYAN);\n        pixmap.fill();\n\n        TextureRegionDrawable drawable = new TextureRegionDrawable(new TextureRegion(new Texture(pixmap)));\n        pixmap.dispose();\n\n        ProgressBar.ProgressBarStyle progressBarStyle = new ProgressBar.ProgressBarStyle();\n        progressBarStyle.background = drawable;\n\n\n        pixmap = new Pixmap(0, 50, Pixmap.Format.RGBA8888);\n        pixmap.setColor(Color.RED);\n        pixmap.fill();\n        drawable = new TextureRegionDrawable(new TextureRegion(new Texture(pixmap)));\n        pixmap.dispose();\n\n        progressBarStyle.knob = drawable;\n\n        pixmap = new Pixmap(100, 50, Pixmap.Format.RGBA8888);\n        pixmap.setColor(Color.RED);\n        pixmap.fill();\n        drawable = new TextureRegionDrawable(new TextureRegion(new Texture(pixmap)));\n        pixmap.dispose();\n\n        progressBarStyle.knobBefore = drawable;\n\n        bar = new ProgressBar(0f, 25f, 0.01f, false, progressBarStyle);\n        bar.setBounds(100, 1600, 875, 50);\n\n        stage.setRoot(new Table() {\n            {\n                add(bar);\n                setFillParent(true);\n                setSize(width, height);\n            }\n        });\n    }\n\n    @Override\n    public void resize(int x, int y) {\n\n    }\n\n    @Override\n    public void render () {\n        if (active &amp;&amp; bar.getValue() &lt; bar.getMaxValue()){\n            bar.setValue(bar.getValue() + Gdx.graphics.getDeltaTime());\n            if (bar.getValue() &gt;= bar.getMaxValue()){\n                System.out.println(&quot;Filled up!&quot;);\n            }\n        }\n        stage.act();\n\n        ScreenUtils.clear(0, 0, 0, 1);\n        batch.begin();\n        stage.draw();\n        batch.end();\n    }\n\n\n    @Override\n    public void pause() {\n        System.out.println(&quot;Paused!&quot;);\n        active = false;\n    }\n\n    @Override\n    public void resume() {\n        System.out.println(&quot;Resumed!&quot;);\n        active = true;\n    }\n\n    @Override\n    public void dispose () {\n        batch.dispose();\n        stage.dispose();\n    }\n\n}\n</code></pre>\n<p>Maybe something like this works for your use case?</p>\n<p>EDIT: Also, if you want to keep the animation, you can probably get away with conditionally calling <code>stage.act()</code> when <code>active</code> is <code>true</code>.</p>\n"}],"owner":{"account_id":11038371,"reputation":101,"user_id":8107275,"display_name":"robs"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75367646,"answer_count":1,"score":0,"last_activity_date":1675727614,"creation_date":1675566203,"question_id":75349854,"body_markdown":"I am trying to pause a progress bar.  How would I go about it?  I have a listener on a Pause button where I could do the pause but I cannot stop the animation.\r\n\r\nHere is the code that currently runs the progress bar.\r\n\r\n\t\tPixmap pixmap = new Pixmap(100, 50, Pixmap.Format.RGBA8888);\r\n\t\tpixmap.setColor(Color.CYAN);\r\n\t\tpixmap.fill();\r\n\r\n\t\tTextureRegionDrawable drawable = new TextureRegionDrawable(new TextureRegion(new Texture(pixmap)));\r\n\t\tpixmap.dispose();\r\n\r\n\t\tProgressBar.ProgressBarStyle progressBarStyle = new ProgressBar.ProgressBarStyle();\r\n\t\tprogressBarStyle.background = drawable;\r\n\r\n\r\n\t\tpixmap = new Pixmap(0, 50, Pixmap.Format.RGBA8888);\r\n\t\tpixmap.setColor(Color.RED);\r\n\t\tpixmap.fill();\r\n\t\tdrawable = new TextureRegionDrawable(new TextureRegion(new Texture(pixmap)));\r\n\t\tpixmap.dispose();\r\n\r\n\t\tprogressBarStyle.knob = drawable;\r\n\r\n\t\tpixmap = new Pixmap(100, 50, Pixmap.Format.RGBA8888);\r\n\t\tpixmap.setColor(Color.RED);\r\n\t\tpixmap.fill();\r\n\t\tdrawable = new TextureRegionDrawable(new TextureRegion(new Texture(pixmap)));\r\n\t\tpixmap.dispose();\r\n\r\n\t\tprogressBarStyle.knobBefore = drawable;\r\n\r\n\t\tProgressBar bar = new ProgressBar(0.0f, 1.0f, 0.01f, false, progressBarStyle);\r\n\t\tbar.setBounds(100, 1600, 875, 50);\r\n\t\tbar.setAnimateDuration(25)\r\n\r\n\t\tbar.setValue(1f);\r\n\r\n\t\tstage.addActor(bar);","title":"Pausing a LIBGDX progress bar","body":"<p>I am trying to pause a progress bar.  How would I go about it?  I have a listener on a Pause button where I could do the pause but I cannot stop the animation.</p>\n<p>Here is the code that currently runs the progress bar.</p>\n<pre><code>    Pixmap pixmap = new Pixmap(100, 50, Pixmap.Format.RGBA8888);\n    pixmap.setColor(Color.CYAN);\n    pixmap.fill();\n\n    TextureRegionDrawable drawable = new TextureRegionDrawable(new TextureRegion(new Texture(pixmap)));\n    pixmap.dispose();\n\n    ProgressBar.ProgressBarStyle progressBarStyle = new ProgressBar.ProgressBarStyle();\n    progressBarStyle.background = drawable;\n\n\n    pixmap = new Pixmap(0, 50, Pixmap.Format.RGBA8888);\n    pixmap.setColor(Color.RED);\n    pixmap.fill();\n    drawable = new TextureRegionDrawable(new TextureRegion(new Texture(pixmap)));\n    pixmap.dispose();\n\n    progressBarStyle.knob = drawable;\n\n    pixmap = new Pixmap(100, 50, Pixmap.Format.RGBA8888);\n    pixmap.setColor(Color.RED);\n    pixmap.fill();\n    drawable = new TextureRegionDrawable(new TextureRegion(new Texture(pixmap)));\n    pixmap.dispose();\n\n    progressBarStyle.knobBefore = drawable;\n\n    ProgressBar bar = new ProgressBar(0.0f, 1.0f, 0.01f, false, progressBarStyle);\n    bar.setBounds(100, 1600, 875, 50);\n    bar.setAnimateDuration(25)\n\n    bar.setValue(1f);\n\n    stage.addActor(bar);\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":14183035,"reputation":3277,"user_id":10245948,"display_name":"Hero Wanders"},"score":0,"creation_date":1675727350,"post_id":75367615,"comment_id":132987579,"body_markdown":"My guess: a `StackOverflowError` occurs and you don&#39;t see it. Try to catch it (or any Throwable) in your `whenComplete`-callback and log it, just for debugging. If this is the problem, you should probably refactor your code to avoid such deep recursion.","body":"My guess: a <code>StackOverflowError</code> occurs and you don&#39;t see it. Try to catch it (or any Throwable) in your <code>whenComplete</code>-callback and log it, just for debugging. If this is the problem, you should probably refactor your code to avoid such deep recursion."},{"owner":{"account_id":27720660,"reputation":1,"user_id":21161280,"display_name":"lucas"},"score":0,"creation_date":1675732761,"post_id":75367615,"comment_id":132988358,"body_markdown":"Not any exception thrown during the test, that&#39;s why it is weird, you can try run above android code to see if result is different.","body":"Not any exception thrown during the test, that&#39;s why it is weird, you can try run above android code to see if result is different."},{"owner":{"account_id":27540947,"reputation":983,"user_id":21017714,"display_name":"Enowneb"},"score":0,"creation_date":1675734494,"post_id":75367615,"comment_id":132988608,"body_markdown":"I/art: ```Rejecting re-init on previously-failed class java.lang.Class&lt;...&gt;: java.lang.StackOverflowError: stack size 8MB           \nat void &lt;package name&gt;.MainActivity.loop(java.util.function.Supplier) (MainActivity.java:32)```","body":"I/art: <code>Rejecting re-init on previously-failed class java.lang.Class&lt;...&gt;: java.lang.StackOverflowError: stack size 8MB            at void &lt;package name&gt;.MainActivity.loop(java.util.function.Supplier) (MainActivity.java:32)</code>"},{"owner":{"account_id":14183035,"reputation":3277,"user_id":10245948,"display_name":"Hero Wanders"},"score":0,"creation_date":1675809167,"post_id":75367615,"comment_id":133007950,"body_markdown":"@lucas: Note that you cannot directly log when such an error occurs because the stack is already full. I&#39;ve copied your code, removed unknown references (like `Log` and `TAG`), wrapped the `loop(body)` call in a `try { ... } catch (Throwable t} { error = t; }` where `error` is a static field which I output at the end of the program. And indeed it&#39;s filled with a `StackOverflowError`. Result is here: https://www.online-java.com/dwEnACmPax","body":"@lucas: Note that you cannot directly log when such an error occurs because the stack is already full. I&#39;ve copied your code, removed unknown references (like <code>Log</code> and <code>TAG</code>), wrapped the <code>loop(body)</code> call in a <code>try { ... } catch (Throwable t} { error = t; }</code> where <code>error</code> is a static field which I output at the end of the program. And indeed it&#39;s filled with a <code>StackOverflowError</code>. Result is here: <a href=\"https://www.online-java.com/dwEnACmPax\" rel=\"nofollow noreferrer\">online-java.com/dwEnACmPax</a>"},{"owner":{"account_id":27720660,"reputation":1,"user_id":21161280,"display_name":"lucas"},"score":0,"creation_date":1675865321,"post_id":75367615,"comment_id":133019614,"body_markdown":"Interesting, I run the code in android studio, no Exception or StackOverflowError can be caught. And If there&#39;s any exception thrown but not caught, the log &quot;I/MainActivity: leave&quot; shouldn&#39;t be seen?","body":"Interesting, I run the code in android studio, no Exception or StackOverflowError can be caught. And If there&#39;s any exception thrown but not caught, the log &quot;I/MainActivity: leave&quot; shouldn&#39;t be seen?"},{"owner":{"account_id":27720660,"reputation":1,"user_id":21161280,"display_name":"lucas"},"score":0,"creation_date":1675885791,"post_id":75367615,"comment_id":133026608,"body_markdown":"@HeroWanders If you run the code in a standard java project with eclipse , still you won&#39;t get any exception or error. I know this issue must relates to stack overflow but curious of the behavior.","body":"@HeroWanders If you run the code in a standard java project with eclipse , still you won&#39;t get any exception or error. I know this issue must relates to stack overflow but curious of the behavior."},{"owner":{"account_id":14183035,"reputation":3277,"user_id":10245948,"display_name":"Hero Wanders"},"score":0,"creation_date":1675892096,"post_id":75367615,"comment_id":133028258,"body_markdown":"I&#39;ve created a Main.java file (contents as in the link to the online-java project) and started it directly with `java Main.java` via CLI and I can also see the same `StackOverflowError` there: https://i.postimg.cc/8k9bTTRM/cli.png  -- I&#39;ve even downloaded Eclipse, added the file to a fresh project with Java 19 and started it there, same error: https://i.postimg.cc/9079JZqF/eclipse.png -- only difference is what part of the stack trace is printed, which probably depends on the JVM start parameters (max stack size `-Xss`)","body":"I&#39;ve created a Main.java file (contents as in the link to the online-java project) and started it directly with <code>java Main.java</code> via CLI and I can also see the same <code>StackOverflowError</code> there: <a href=\"https://i.postimg.cc/8k9bTTRM/cli.png\" rel=\"nofollow noreferrer\">i.postimg.cc/8k9bTTRM/cli.png</a>  -- I&#39;ve even downloaded Eclipse, added the file to a fresh project with Java 19 and started it there, same error: <a href=\"https://i.postimg.cc/9079JZqF/eclipse.png\" rel=\"nofollow noreferrer\">i.postimg.cc/9079JZqF/eclipse.png</a> -- only difference is what part of the stack trace is printed, which probably depends on the JVM start parameters (max stack size <code>-Xss</code>)"},{"owner":{"account_id":27720660,"reputation":1,"user_id":21161280,"display_name":"lucas"},"score":0,"creation_date":1675959236,"post_id":75367615,"comment_id":133044022,"body_markdown":"Maybe due to java version problem? Below is run from command line?\n\nD:\\code\\eclipse-workspace\\test1\\com\\test&gt;java  test.java\nafter get. call loop cnt=1351\nafter get. call loop cnt=1352\nafter get. call loop cnt=1353\nafter get. call loop\nleave\n\nD:\\code\\eclipse-workspace\\test1\\com\\test&gt;java --version\njava 11.0.17 2022-10-18 LTS\nJava(TM) SE Runtime Environment 18.9 (build 11.0.17+10-LTS-269)\nJava HotSpot(TM) 64-Bit Server VM 18.9 (build 11.0.17+10-LTS-269, mixed mode)","body":"Maybe due to java version problem? Below is run from command line?  D:\\code\\eclipse-workspace\\test1\\com\\test&gt;java  test.java after get. call loop cnt=1351 after get. call loop cnt=1352 after get. call loop cnt=1353 after get. call loop leave  D:\\code\\eclipse-workspace\\test1\\com\\test&gt;java --version java 11.0.17 2022-10-18 LTS Java(TM) SE Runtime Environment 18.9 (build 11.0.17+10-LTS-269) Java HotSpot(TM) 64-Bit Server VM 18.9 (build 11.0.17+10-LTS-269, mixed mode)"}],"owner":{"account_id":27720660,"reputation":1,"user_id":21161280,"display_name":"lucas"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675726609,"creation_date":1675726452,"question_id":75367615,"body_markdown":"\r\n    private static void loop( Supplier&lt;CompletionStage&lt;Boolean&gt;&gt; body) {\r\n        CompletionStage&lt;Boolean&gt; result = body.get();\r\n        Log.i(TAG,&quot;after get&quot;);\r\n        result.whenComplete((r, e) -&gt; {\r\n             if (r) {\r\n                Log.i(TAG,&quot;call loop &quot;);\r\n                loop( body);\r\n            } else {\r\n                Log.i(TAG,&quot;exit loop&quot;);\r\n            }\r\n        });\r\n    }\r\n\r\n    int cnt = 0;\r\n\r\n    void test() {\r\n        CompletableFuture&lt;Void&gt; supervisor = new CompletableFuture&lt;&gt;();\r\n        loop(() -&gt; {\r\n            Log.i(TAG,&quot;cnt=&quot;+cnt);\r\n            if(cnt ++ &lt; 40000)\r\n                return CompletableFuture.completedFuture(true);\r\n            else  {\r\n                return CompletableFuture.completedFuture(false);\r\n            }\r\n        });\r\n        Log.i(TAG,&quot;leave&quot;);\r\n    }\r\n\r\nOutput:\r\n\r\nI/MainActivity: cnt=0\r\nI/MainActivity: after get\r\nI/MainActivity: call loop \r\nI/MainActivity: cnt=1\r\nI/MainActivity: after get\r\nI/MainActivity: call loop \r\n\r\n...\r\n\r\nI/MainActivity: cnt=3073\r\nI/MainActivity: after get\r\nI/MainActivity: call loop \r\nI/MainActivity: cnt=3074\r\nI/MainActivity: after get\r\nI/MainActivity: call loop \r\nI/MainActivity: cnt=3075\r\nI/MainActivity: after get\r\nI/MainActivity: leave\r\n\r\n\r\nExpect the loop will end after 40000 times, but it only run around 300~4000 times then loop ends.","title":"weird behavior when loop for 40000 times","body":"<pre><code>private static void loop( Supplier&lt;CompletionStage&lt;Boolean&gt;&gt; body) {\n    CompletionStage&lt;Boolean&gt; result = body.get();\n    Log.i(TAG,&quot;after get&quot;);\n    result.whenComplete((r, e) -&gt; {\n         if (r) {\n            Log.i(TAG,&quot;call loop &quot;);\n            loop( body);\n        } else {\n            Log.i(TAG,&quot;exit loop&quot;);\n        }\n    });\n}\n\nint cnt = 0;\n\nvoid test() {\n    CompletableFuture&lt;Void&gt; supervisor = new CompletableFuture&lt;&gt;();\n    loop(() -&gt; {\n        Log.i(TAG,&quot;cnt=&quot;+cnt);\n        if(cnt ++ &lt; 40000)\n            return CompletableFuture.completedFuture(true);\n        else  {\n            return CompletableFuture.completedFuture(false);\n        }\n    });\n    Log.i(TAG,&quot;leave&quot;);\n}\n</code></pre>\n<p>Output:</p>\n<p>I/MainActivity: cnt=0\nI/MainActivity: after get\nI/MainActivity: call loop\nI/MainActivity: cnt=1\nI/MainActivity: after get\nI/MainActivity: call loop</p>\n<p>...</p>\n<p>I/MainActivity: cnt=3073\nI/MainActivity: after get\nI/MainActivity: call loop\nI/MainActivity: cnt=3074\nI/MainActivity: after get\nI/MainActivity: call loop\nI/MainActivity: cnt=3075\nI/MainActivity: after get\nI/MainActivity: leave</p>\n<p>Expect the loop will end after 40000 times, but it only run around 300~4000 times then loop ends.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1675725992,"post_id":75367470,"comment_id":132987380,"body_markdown":"If your old “database” contains duplicate primary keys, it’s not a database.","body":"If your old “database” contains duplicate primary keys, it’s not a database."}],"owner":{"account_id":12190203,"reputation":444,"user_id":8898054,"display_name":"Meilan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675725164,"creation_date":1675724949,"question_id":75367470,"body_markdown":"Our old database contains multiple records with the same primary key, such as:\r\n\r\n\r\n| prod_id | prod_image_url |\r\n| -------- | -------------- |\r\n| 123    | www.image.com/1 |\r\n| 123   | www.image.com/2  |\r\n\r\nThat cause a 500 error when we want to delete an image_url or update it as the `save()` found two entries with the same prod_id and doesn&#39;t know which one should be updated. I know it&#39;s stupid. I wonder if there&#39;s any way to avoid it without changing the data in DB?","title":"SpringBoot CRUDRepository save() when there&#39;re multiple records with same primary key","body":"<p>Our old database contains multiple records with the same primary key, such as:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>prod_id</th>\n<th>prod_image_url</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>123</td>\n<td><a href=\"http://www.image.com/1\" rel=\"nofollow noreferrer\">www.image.com/1</a></td>\n</tr>\n<tr>\n<td>123</td>\n<td><a href=\"http://www.image.com/2\" rel=\"nofollow noreferrer\">www.image.com/2</a></td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>That cause a 500 error when we want to delete an image_url or update it as the <code>save()</code> found two entries with the same prod_id and doesn't know which one should be updated. I know it's stupid. I wonder if there's any way to avoid it without changing the data in DB?</p>\n"},{"tags":["java","android","service","broadcastreceiver"],"comments":[{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":1,"creation_date":1675724638,"post_id":75367395,"comment_id":132987175,"body_markdown":"Is the service in the same process as the fragment? If so, you do not need a `BroadcastReceiver` -- you can use in-process communications option, such as an RxJava subject or `LiveData`. Note that your current setup is fairly insecure, in that any app can both monitor your broadcasts and send fake broadcasts to your app.","body":"Is the service in the same process as the fragment? If so, you do not need a <code>BroadcastReceiver</code> -- you can use in-process communications option, such as an RxJava subject or <code>LiveData</code>. Note that your current setup is fairly insecure, in that any app can both monitor your broadcasts and send fake broadcasts to your app."},{"owner":{"account_id":12721843,"reputation":16003,"user_id":9241978,"display_name":"Pawel"},"score":0,"creation_date":1675725272,"post_id":75367395,"comment_id":132987276,"body_markdown":"First I would try to make your intent &quot;explicit&quot;, in your services intent builder add `.setPackage(getApplicationContext().getPackageName())` and see if that helps.","body":"First I would try to make your intent &quot;explicit&quot;, in your services intent builder add <code>.setPackage(getApplicationContext().getPackageName())</code> and see if that helps."},{"owner":{"account_id":1650697,"reputation":753,"user_id":1521370,"display_name":"bongo"},"score":0,"creation_date":1675751387,"post_id":75367395,"comment_id":132990742,"body_markdown":"Or at least use LocalBroadcasetManager to broadcast only inside Your app","body":"Or at least use LocalBroadcasetManager to broadcast only inside Your app"},{"owner":{"account_id":17613416,"reputation":281,"user_id":12780992,"display_name":"loic .B"},"score":0,"creation_date":1675769332,"post_id":75367395,"comment_id":132995775,"body_markdown":"@CommonsWare I launch the service in the fragment but once the service is started the user should be able to close the fragment or put the app in background so I thought exmplicit Broadcast Recevier was the best option.\nI tried replacing with LocalBroadcastManager but didn&#39;t help.\nOnly changes in android 11 mentioned in the docs is about service stop working if it uses location or microphone, which is not my case..","body":"@CommonsWare I launch the service in the fragment but once the service is started the user should be able to close the fragment or put the app in background so I thought exmplicit Broadcast Recevier was the best option. I tried replacing with LocalBroadcastManager but didn&#39;t help. Only changes in android 11 mentioned in the docs is about service stop working if it uses location or microphone, which is not my case.."}],"owner":{"account_id":17613416,"reputation":281,"user_id":12780992,"display_name":"loic .B"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":310,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1675724185,"creation_date":1675724185,"question_id":75367395,"body_markdown":"I&#39;m using an **Android foreground Service** to download files and I&#39;m showing the progress of the download to the user in a **Notification**.\r\n\r\nI also have a progress bar in a fragment in the app.\r\nI&#39;m using a **broadcast Receiver** to communicate the progress of the download happenning in the service to my fragment.\r\n\r\n**My problem is that the `onReceive` of my `BroadcastReceiver` is not trigger above Android 11 bu works perfectly fine on android 10, What had change about broadcast reveiver since Android 11 ?**\r\n\r\nOn my fragment i&#39;m declaring my broadcast receiver :\r\n\r\n```\r\nprivate final BroadcastReceiver receiver = new BroadcastReceiver() {\r\n        @Override\r\n        public void onReceive(Context context, Intent intent) {\r\n            if (&quot;SHOW_PROGRESS&quot;.equals(intent.getAction())) {\r\n                showProgress(intent.getIntExtra(&quot;progress&quot;, 0));\r\n            }\r\n        }\r\n    };\r\n```\r\nAnd registering it in `OnCreateView` :\r\n\r\n\r\n```\r\n IntentFilter filter = new IntentFilter();\r\n filter.addAction(&quot;SHOW_PROGRESS&quot;);\r\n getContext().registerReceiver(receiver, filter);\r\n```\r\n\r\nFrom my service I&#39;m calling it :\r\n\r\n```\r\nIntent broadcastIntent = new Intent().setAction(&quot;SHOW_PROGRESS&quot;).putExtra(&quot;progress&quot;, downLoadState.getGlobalPercent());\r\ngetApplicationContext().sendBroadcast(broadcastIntent);\r\n```\r\nI have nothing in my manifest since my service don&#39;t interacts with device components\r\n\r\n ","title":"What have changes about broadcast receiver on Android 11?","body":"<p>I'm using an <strong>Android foreground Service</strong> to download files and I'm showing the progress of the download to the user in a <strong>Notification</strong>.</p>\n<p>I also have a progress bar in a fragment in the app.\nI'm using a <strong>broadcast Receiver</strong> to communicate the progress of the download happenning in the service to my fragment.</p>\n<p><strong>My problem is that the <code>onReceive</code> of my <code>BroadcastReceiver</code> is not trigger above Android 11 bu works perfectly fine on android 10, What had change about broadcast reveiver since Android 11 ?</strong></p>\n<p>On my fragment i'm declaring my broadcast receiver :</p>\n<pre><code>private final BroadcastReceiver receiver = new BroadcastReceiver() {\n        @Override\n        public void onReceive(Context context, Intent intent) {\n            if (&quot;SHOW_PROGRESS&quot;.equals(intent.getAction())) {\n                showProgress(intent.getIntExtra(&quot;progress&quot;, 0));\n            }\n        }\n    };\n</code></pre>\n<p>And registering it in <code>OnCreateView</code> :</p>\n<pre><code> IntentFilter filter = new IntentFilter();\n filter.addAction(&quot;SHOW_PROGRESS&quot;);\n getContext().registerReceiver(receiver, filter);\n</code></pre>\n<p>From my service I'm calling it :</p>\n<pre><code>Intent broadcastIntent = new Intent().setAction(&quot;SHOW_PROGRESS&quot;).putExtra(&quot;progress&quot;, downLoadState.getGlobalPercent());\ngetApplicationContext().sendBroadcast(broadcastIntent);\n</code></pre>\n<p>I have nothing in my manifest since my service don't interacts with device components</p>\n"},{"tags":["java","spring","spring-security"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1666610058,"post_id":74180234,"comment_id":130970173,"body_markdown":"have you tried to declaring that bean in scope public, instead of package?","body":"have you tried to declaring that bean in scope public, instead of package?"},{"owner":{"account_id":20705572,"reputation":401,"user_id":17565149,"display_name":"DJ Freeman"},"score":0,"creation_date":1666610106,"post_id":74180234,"comment_id":130970191,"body_markdown":"@Stultuske I&#39;m pretty new to this so it would be helpful to know how to do it :)","body":"@Stultuske I&#39;m pretty new to this so it would be helpful to know how to do it :)"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1666610164,"post_id":74180234,"comment_id":130970206,"body_markdown":"by putting the keyword &#39;public&#39; in front of &#39;PasswordEncoder passwordEncoder()&#39; just as you do with the other Beans. If you don&#39;t know how to do this, you should start with learning the basics instead of trying on advanced frameworks like Spring","body":"by putting the keyword &#39;public&#39; in front of &#39;PasswordEncoder passwordEncoder()&#39; just as you do with the other Beans. If you don&#39;t know how to do this, you should start with learning the basics instead of trying on advanced frameworks like Spring"},{"owner":{"account_id":20705572,"reputation":401,"user_id":17565149,"display_name":"DJ Freeman"},"score":0,"creation_date":1666610230,"post_id":74180234,"comment_id":130970231,"body_markdown":"Oh of course I already tried that, I wasn&#39;t sure what you meant","body":"Oh of course I already tried that, I wasn&#39;t sure what you meant"},{"owner":{"account_id":20705572,"reputation":401,"user_id":17565149,"display_name":"DJ Freeman"},"score":0,"creation_date":1666610299,"post_id":74180234,"comment_id":130970259,"body_markdown":"I&#39;m new to Spring, not Java ;)","body":"I&#39;m new to Spring, not Java ;)"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1666610332,"post_id":74180234,"comment_id":130970273,"body_markdown":"the class in which you declare that bean is not configured to declare them. add the @Configuration annotation to the class","body":"the class in which you declare that bean is not configured to declare them. add the @Configuration annotation to the class"},{"owner":{"account_id":20705572,"reputation":401,"user_id":17565149,"display_name":"DJ Freeman"},"score":0,"creation_date":1666610418,"post_id":74180234,"comment_id":130970310,"body_markdown":"Ah thanks I forgot that indeed, but still same error","body":"Ah thanks I forgot that indeed, but still same error"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1666610578,"post_id":74180234,"comment_id":130970356,"body_markdown":"have you tried autowiring the fields, instead of relying on lombok?","body":"have you tried autowiring the fields, instead of relying on lombok?"},{"owner":{"account_id":20705572,"reputation":401,"user_id":17565149,"display_name":"DJ Freeman"},"score":0,"creation_date":1666610705,"post_id":74180234,"comment_id":130970390,"body_markdown":"I did try this for the AuthService&#39;s private final PasswordEncoder passwordEncoder;\nBut it gave me the message : Could not autowire. No beans of &#39;PasswordEncoder&#39; type found. This just doesn&#39;t make any sense for me.","body":"I did try this for the AuthService&#39;s private final PasswordEncoder passwordEncoder; But it gave me the message : Could not autowire. No beans of &#39;PasswordEncoder&#39; type found. This just doesn&#39;t make any sense for me."},{"owner":{"account_id":25690087,"reputation":1360,"user_id":19451633,"display_name":"Andrei Titov"},"score":0,"creation_date":1666694151,"post_id":74180234,"comment_id":130992657,"body_markdown":"Add `@Configuration` annotation to your `SecurityConfig` class to let Spring know there are some bean definitions there","body":"Add <code>@Configuration</code> annotation to your <code>SecurityConfig</code> class to let Spring know there are some bean definitions there"},{"owner":{"account_id":25690087,"reputation":1360,"user_id":19451633,"display_name":"Andrei Titov"},"score":0,"creation_date":1666694334,"post_id":74180234,"comment_id":130992725,"body_markdown":"as javadoc to `@EnableWebSecurity` suggests, *&quot;Add this annotation to an @Configuration class to have the Spring Security configuration defined in any WebSecurityConfigurer or more likely by exposing a SecurityFilterChain bean:&quot;*","body":"as javadoc to <code>@EnableWebSecurity</code> suggests, <i>&quot;Add this annotation to an @Configuration class to have the Spring Security configuration defined in any WebSecurityConfigurer or more likely by exposing a SecurityFilterChain bean:&quot;</i>"},{"owner":{"account_id":3412605,"reputation":704,"user_id":2862221,"display_name":"ahmed.ettoumi"},"score":0,"creation_date":1676050015,"post_id":74180234,"comment_id":133066113,"body_markdown":"A comment about the use of lombok, the best way is to use &quot;@RequiredArgsConstructor&quot; instead of &quot;AllArgsConstructor&quot; to iclude only final parameters (it&#39;s not an issue but a better way). otherwise, i&#39;m cheking the rest ;)","body":"A comment about the use of lombok, the best way is to use &quot;@RequiredArgsConstructor&quot; instead of &quot;AllArgsConstructor&quot; to iclude only final parameters (it&#39;s not an issue but a better way). otherwise, i&#39;m cheking the rest ;)"},{"owner":{"account_id":3412605,"reputation":704,"user_id":2862221,"display_name":"ahmed.ettoumi"},"score":1,"creation_date":1676050543,"post_id":74180234,"comment_id":133066257,"body_markdown":"I think that your bean &quot;AuthService&quot; is loaded before &quot;passwordEncoder&quot;, you could check it by adding a breakpoint at this line &quot;return new BCryptPasswordEncoder();&quot;. If you see the exception thrown before you get into your breakpoint, then you should to create that bean outside the &quot;SecurityConfig&quot;, to test it for example, put it in the Application class (where you put the main method)","body":"I think that your bean &quot;AuthService&quot; is loaded before &quot;passwordEncoder&quot;, you could check it by adding a breakpoint at this line &quot;return new BCryptPasswordEncoder();&quot;. If you see the exception thrown before you get into your breakpoint, then you should to create that bean outside the &quot;SecurityConfig&quot;, to test it for example, put it in the Application class (where you put the main method)"}],"answers":[{"tags":[],"owner":{"account_id":25883706,"reputation":11,"user_id":19612262,"display_name":"Angelo Lorensi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675723874,"creation_date":1675723874,"answer_id":75367357,"question_id":74180234,"body_markdown":"Try adding @Configuration annotation in your SecurityConfig class\r\n","title":"Parameter 0 of constructor in AuthService required a bean of type &#39;springframework.security.crypto.password.PasswordEncoder&#39; that could not be found","body":"<p>Try adding @Configuration annotation in your SecurityConfig class</p>\n"}],"owner":{"account_id":20705572,"reputation":401,"user_id":17565149,"display_name":"DJ Freeman"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":909,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675723874,"creation_date":1666609840,"question_id":74180234,"body_markdown":"Below you will find the 2 classes that I think you guys need. If any more info is required please let me know.\r\nAuthService\r\n```\r\npackage com.r.reservationproject.services;\r\n\r\nimport com.r.reservationproject.dto.AuthenticationResponse;\r\nimport com.r.reservationproject.dto.RegisterRequest;\r\nimport com.r.reservationproject.domain.NotificationEmail;\r\nimport com.r.reservationproject.domain.User;\r\nimport com.r.reservationproject.domain.VerificationToken;\r\nimport com.r.reservationproject.dto.LoginRequest;\r\nimport com.r.reservationproject.exceptions.SpringReservationAccountException;\r\nimport com.r.reservationproject.repositories.UserRepo;\r\nimport com.r.reservationproject.repositories.VerificationTokenRepo;\r\nimport com.r.reservationproject.security.JwtProvider;\r\nimport lombok.AllArgsConstructor;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.security.authentication.AuthenticationManager;\r\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\r\nimport org.springframework.security.core.Authentication;\r\nimport org.springframework.security.core.context.SecurityContextHolder;\r\nimport org.springframework.security.crypto.password.PasswordEncoder;\r\nimport org.springframework.stereotype.Service;\r\nimport org.springframework.transaction.annotation.Transactional;\r\n\r\nimport javax.validation.constraints.NotBlank;\r\nimport java.time.Instant;\r\nimport java.util.Optional;\r\nimport java.util.UUID;\r\n\r\n@Service\r\n@AllArgsConstructor\r\n@Transactional\r\n// Contains logic to create username password authentication token and use authenticationManager to perform login\r\npublic class AuthService {\r\n    private final PasswordEncoder passwordEncoder;\r\n    private final UserRepo userRepo;\r\n    private final VerificationTokenRepo verificationTokenRepo;\r\n    private final MailService mailService;\r\n    private final AuthenticationManager authenticationManager;\r\n    private final JwtProvider jwtProvider;\r\n\r\n    public void signup(RegisterRequest registerRequest) {\r\n        User user = new User();\r\n        user.setUsername(registerRequest.getUsername());\r\n        user.setEmail(registerRequest.getEmail());\r\n        user.setPassword(passwordEncoder.encode(registerRequest.getPassword()));\r\n        user.setCreated(Instant.now());\r\n        user.setEnabled(false);\r\n\r\n        userRepo.save(user);\r\n\r\n        String token = generateVerificationToken(user);\r\n        mailService.sendMail(new NotificationEmail(&quot;Activeren account applicatie&quot;, user.getEmail(),\r\n                &quot;Bedankt voor het gebruiken van onze applicatie, om uw account te activeren vragen wij u om volgende link te klikken :&quot; +\r\n                        &quot;http://localhost:8080/api/auth/accountVerification/&quot; + token));\r\n    }\r\n\r\n    private String generateVerificationToken(User user) {\r\n        String token = UUID.randomUUID().toString();\r\n        VerificationToken verificationToken = new VerificationToken();\r\n        verificationToken.setToken(token);\r\n        verificationToken.setUser(user);\r\n\r\n        verificationTokenRepo.save(verificationToken);\r\n        return token;\r\n    }\r\n\r\n    public void verifyAccount(String token) {\r\n        Optional&lt;VerificationToken&gt; verificationToken =  verificationTokenRepo.findByToken(token);\r\n        verificationToken.orElseThrow(() -&gt; new SpringReservationAccountException(&quot;Token is niet geldig&quot;));\r\n        fetchUserAndEnable(verificationToken.get());\r\n    }\r\n\r\n    public void fetchUserAndEnable(VerificationToken verificationToken) {\r\n        @NotBlank(message = &quot;Username is required&quot;) String username = verificationToken.getUser().getUsername();\r\n        User user = userRepo.findByUsername(username).orElseThrow(() -&gt; new SpringReservationAccountException(&quot;Gebruiker onbekend&quot;));\r\n        user.setEnabled(true);\r\n        userRepo.save(user);\r\n    }\r\n\r\n    public AuthenticationResponse login(LoginRequest loginRequest) {\r\n        Authentication authenticate = authenticationManager.authenticate(new UsernamePasswordAuthenticationToken(loginRequest.getUsername(), loginRequest.getPassword()));\r\n        SecurityContextHolder.getContext().setAuthentication(authenticate);\r\n        String token = jwtProvider.generateToken(authenticate);\r\n        // to send this token we use a dto (authenticationresponse)\r\n        return new AuthenticationResponse(token, loginRequest.getUsername());\r\n\r\n    }\r\n}\r\n\r\n```\r\n\r\nSecurityConfig\r\n```\r\npackage com.r.reservationproject.config;\r\n\r\nimport lombok.AllArgsConstructor;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.context.annotation.Lazy;\r\nimport org.springframework.security.authentication.AuthenticationManager;\r\nimport org.springframework.security.config.BeanIds;\r\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\nimport org.springframework.security.config.annotation.method.configuration.EnableGlobalMethodSecurity;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\nimport org.springframework.security.core.userdetails.UserDetailsService;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.security.crypto.password.PasswordEncoder;\r\n\r\n@EnableWebSecurity\r\n@AllArgsConstructor\r\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n    private final UserDetailsService userDetailsService;\r\n\r\n    @Bean(BeanIds.AUTHENTICATION_MANAGER)\r\n    @Override\r\n    public AuthenticationManager authenticationManagerBean() throws Exception {\r\n        return super.authenticationManagerBean();\r\n    }\r\n\r\n    @Bean\r\n    PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http.csrf().disable().authorizeRequests()\r\n                .antMatchers(&quot;/api/auth/**&quot;)\r\n                .permitAll()\r\n                .anyRequest()\r\n                .authenticated();\r\n    }\r\n\r\n    @Override\r\n    public void configure(AuthenticationManagerBuilder authenticationManagerBuilder) throws Exception {\r\n        authenticationManagerBuilder.userDetailsService(userDetailsService)\r\n                .passwordEncoder(passwordEncoder());\r\n    }\r\n}\r\n\r\n```\r\n\r\nFull error:\r\n\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nParameter 0 of constructor in com.r.reservationproject.services.AuthService required a bean of type &#39;org.springframework.security.crypto.password.PasswordEncoder&#39; that could not be found.\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;org.springframework.security.crypto.password.PasswordEncoder&#39; in your configuration.\r\n\r\n\r\nI don&#39;t get the error since I already defined the Bean in the SecurityConfig\r\n\r\nI appreciate your help a lot!\r\n","title":"Parameter 0 of constructor in AuthService required a bean of type &#39;springframework.security.crypto.password.PasswordEncoder&#39; that could not be found","body":"<p>Below you will find the 2 classes that I think you guys need. If any more info is required please let me know.\nAuthService</p>\n<pre><code>package com.r.reservationproject.services;\n\nimport com.r.reservationproject.dto.AuthenticationResponse;\nimport com.r.reservationproject.dto.RegisterRequest;\nimport com.r.reservationproject.domain.NotificationEmail;\nimport com.r.reservationproject.domain.User;\nimport com.r.reservationproject.domain.VerificationToken;\nimport com.r.reservationproject.dto.LoginRequest;\nimport com.r.reservationproject.exceptions.SpringReservationAccountException;\nimport com.r.reservationproject.repositories.UserRepo;\nimport com.r.reservationproject.repositories.VerificationTokenRepo;\nimport com.r.reservationproject.security.JwtProvider;\nimport lombok.AllArgsConstructor;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\nimport org.springframework.security.core.Authentication;\nimport org.springframework.security.core.context.SecurityContextHolder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.stereotype.Service;\nimport org.springframework.transaction.annotation.Transactional;\n\nimport javax.validation.constraints.NotBlank;\nimport java.time.Instant;\nimport java.util.Optional;\nimport java.util.UUID;\n\n@Service\n@AllArgsConstructor\n@Transactional\n// Contains logic to create username password authentication token and use authenticationManager to perform login\npublic class AuthService {\n    private final PasswordEncoder passwordEncoder;\n    private final UserRepo userRepo;\n    private final VerificationTokenRepo verificationTokenRepo;\n    private final MailService mailService;\n    private final AuthenticationManager authenticationManager;\n    private final JwtProvider jwtProvider;\n\n    public void signup(RegisterRequest registerRequest) {\n        User user = new User();\n        user.setUsername(registerRequest.getUsername());\n        user.setEmail(registerRequest.getEmail());\n        user.setPassword(passwordEncoder.encode(registerRequest.getPassword()));\n        user.setCreated(Instant.now());\n        user.setEnabled(false);\n\n        userRepo.save(user);\n\n        String token = generateVerificationToken(user);\n        mailService.sendMail(new NotificationEmail(&quot;Activeren account applicatie&quot;, user.getEmail(),\n                &quot;Bedankt voor het gebruiken van onze applicatie, om uw account te activeren vragen wij u om volgende link te klikken :&quot; +\n                        &quot;http://localhost:8080/api/auth/accountVerification/&quot; + token));\n    }\n\n    private String generateVerificationToken(User user) {\n        String token = UUID.randomUUID().toString();\n        VerificationToken verificationToken = new VerificationToken();\n        verificationToken.setToken(token);\n        verificationToken.setUser(user);\n\n        verificationTokenRepo.save(verificationToken);\n        return token;\n    }\n\n    public void verifyAccount(String token) {\n        Optional&lt;VerificationToken&gt; verificationToken =  verificationTokenRepo.findByToken(token);\n        verificationToken.orElseThrow(() -&gt; new SpringReservationAccountException(&quot;Token is niet geldig&quot;));\n        fetchUserAndEnable(verificationToken.get());\n    }\n\n    public void fetchUserAndEnable(VerificationToken verificationToken) {\n        @NotBlank(message = &quot;Username is required&quot;) String username = verificationToken.getUser().getUsername();\n        User user = userRepo.findByUsername(username).orElseThrow(() -&gt; new SpringReservationAccountException(&quot;Gebruiker onbekend&quot;));\n        user.setEnabled(true);\n        userRepo.save(user);\n    }\n\n    public AuthenticationResponse login(LoginRequest loginRequest) {\n        Authentication authenticate = authenticationManager.authenticate(new UsernamePasswordAuthenticationToken(loginRequest.getUsername(), loginRequest.getPassword()));\n        SecurityContextHolder.getContext().setAuthentication(authenticate);\n        String token = jwtProvider.generateToken(authenticate);\n        // to send this token we use a dto (authenticationresponse)\n        return new AuthenticationResponse(token, loginRequest.getUsername());\n\n    }\n}\n\n</code></pre>\n<p>SecurityConfig</p>\n<pre><code>package com.r.reservationproject.config;\n\nimport lombok.AllArgsConstructor;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.context.annotation.Lazy;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.config.BeanIds;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.method.configuration.EnableGlobalMethodSecurity;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\n\n@EnableWebSecurity\n@AllArgsConstructor\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n    private final UserDetailsService userDetailsService;\n\n    @Bean(BeanIds.AUTHENTICATION_MANAGER)\n    @Override\n    public AuthenticationManager authenticationManagerBean() throws Exception {\n        return super.authenticationManagerBean();\n    }\n\n    @Bean\n    PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.csrf().disable().authorizeRequests()\n                .antMatchers(&quot;/api/auth/**&quot;)\n                .permitAll()\n                .anyRequest()\n                .authenticated();\n    }\n\n    @Override\n    public void configure(AuthenticationManagerBuilder authenticationManagerBuilder) throws Exception {\n        authenticationManagerBuilder.userDetailsService(userDetailsService)\n                .passwordEncoder(passwordEncoder());\n    }\n}\n\n</code></pre>\n<p>Full error:</p>\n<hr />\n<p>APPLICATION FAILED TO START</p>\n<hr />\n<p>Description:</p>\n<p>Parameter 0 of constructor in com.r.reservationproject.services.AuthService required a bean of type 'org.springframework.security.crypto.password.PasswordEncoder' that could not be found.</p>\n<p>Action:</p>\n<p>Consider defining a bean of type 'org.springframework.security.crypto.password.PasswordEncoder' in your configuration.</p>\n<p>I don't get the error since I already defined the Bean in the SecurityConfig</p>\n<p>I appreciate your help a lot!</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":19726215,"reputation":538,"user_id":14442758,"display_name":"Z-100"},"score":0,"creation_date":1675679922,"post_id":75360179,"comment_id":132974147,"body_markdown":"Could you provide more information about what you want to achieve and improve your question?","body":"Could you provide more information about what you want to achieve and improve your question?"}],"answers":[{"tags":[],"owner":{"account_id":8458665,"reputation":267,"user_id":6345106,"display_name":"Adil Raza Bangash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675682110,"creation_date":1675682110,"answer_id":75360582,"question_id":75360179,"body_markdown":"It will be better if you explain you question more. As far as I understand your questing, you want to loop your media player.\r\nif you want to loop your media player then add\r\n\r\n    mediaPlayer.setLooping(true);\r\n\r\n ","title":"How to setDataSource loop playing music in Android?","body":"<p>It will be better if you explain you question more. As far as I understand your questing, you want to loop your media player.\nif you want to loop your media player then add</p>\n<pre><code>mediaPlayer.setLooping(true);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27520421,"reputation":11,"user_id":21000695,"display_name":"Ravinder Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675684449,"creation_date":1675684449,"answer_id":75360970,"question_id":75360179,"body_markdown":"I think that you are asking about how to add data source path. So, if you are asking that, than try this:\r\n\r\n   \r\n\r\n    String path = Environment.getExternalStorageDirectory()+&quot;/Download/music.mp3&quot;;\r\n            mediaPlayer.setDataSource(path); \r\n            mediaPlayer.prepare();\r\n            textTotalDuration.setText(milliSecondsToTimer(mediaPlayer.getDuration()));\r\n\r\n\r\n\r\n\r\nAnd if you are asking about loop media play then:\r\n\r\n    mediaPlayer.setLooping(true);","title":"How to setDataSource loop playing music in Android?","body":"<p>I think that you are asking about how to add data source path. So, if you are asking that, than try this:</p>\n<pre><code>String path = Environment.getExternalStorageDirectory()+&quot;/Download/music.mp3&quot;;\n        mediaPlayer.setDataSource(path); \n        mediaPlayer.prepare();\n        textTotalDuration.setText(milliSecondsToTimer(mediaPlayer.getDuration()));\n</code></pre>\n<p>And if you are asking about loop media play then:</p>\n<pre><code>mediaPlayer.setLooping(true);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27510293,"reputation":31,"user_id":20992325,"display_name":"Messerhi djalal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675687773,"creation_date":1675687773,"answer_id":75361524,"question_id":75360179,"body_markdown":"**read all mp3 &amp; m4a &amp; wav &amp; aac in the folder Music :**\r\n \r\n\r\n    private int trackIndex = 0;\r\n    private List&lt;String&gt; tracks;\r\n    private MediaPlayer mediaPlayer;\r\n    \r\n    private void initMediaPlayer() {\r\n        tracks = new ArrayList&lt;&gt;();\r\n        addTracksInDirectory(&quot;/storage/emulated/0/Music/&quot;);////path url mp3\r\n        mediaPlayer = new MediaPlayer();\r\n        setTrack(trackIndex);\r\n    }\r\n    \r\n    private void setTrack(int index) {\r\n        try {\r\n            trackIndex = index;\r\n            mediaPlayer.reset();\r\n            mediaPlayer.setDataSource(tracks.get(trackIndex));\r\n            mediaPlayer.prepare();\r\n            mediaPlayer.start();\r\n    \r\n            // Listen for the end of the track and play the next one\r\n            mediaPlayer.setOnCompletionListener(mediaPlayer -&gt; {\r\n                trackIndex = (trackIndex + 1) % tracks.size();\r\n                setTrack(trackIndex);\r\n            });\r\n        } catch (IOException e) {\r\n            // Handle the error\r\n        }\r\n    }\r\n    \r\n    private void addTracksInDirectory(String directoryPath) {\r\n        File directory = new File(directoryPath);\r\n        File[] files = directory.listFiles();\r\n        if (files != null) {\r\n            for (File file : files) {\r\n                if (file.isFile() &amp;&amp; isAudioFile(file.getName())) {\r\n                    tracks.add(file.getAbsolutePath());\r\n                }\r\n            }\r\n        }\r\n    }\r\n    \r\n    private boolean isAudioFile(String fileName) {\r\n        String[] audioFileExtensions = {&quot;.mp3&quot;, &quot;.m4a&quot;, &quot;.wav&quot;, &quot;.aac&quot;};\r\n        for (String extension : audioFileExtensions) {\r\n            if (fileName.endsWith(extension)) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }","title":"How to setDataSource loop playing music in Android?","body":"<p><strong>read all mp3 &amp; m4a &amp; wav &amp; aac in the folder Music :</strong></p>\n<pre><code>private int trackIndex = 0;\nprivate List&lt;String&gt; tracks;\nprivate MediaPlayer mediaPlayer;\n\nprivate void initMediaPlayer() {\n    tracks = new ArrayList&lt;&gt;();\n    addTracksInDirectory(&quot;/storage/emulated/0/Music/&quot;);////path url mp3\n    mediaPlayer = new MediaPlayer();\n    setTrack(trackIndex);\n}\n\nprivate void setTrack(int index) {\n    try {\n        trackIndex = index;\n        mediaPlayer.reset();\n        mediaPlayer.setDataSource(tracks.get(trackIndex));\n        mediaPlayer.prepare();\n        mediaPlayer.start();\n\n        // Listen for the end of the track and play the next one\n        mediaPlayer.setOnCompletionListener(mediaPlayer -&gt; {\n            trackIndex = (trackIndex + 1) % tracks.size();\n            setTrack(trackIndex);\n        });\n    } catch (IOException e) {\n        // Handle the error\n    }\n}\n\nprivate void addTracksInDirectory(String directoryPath) {\n    File directory = new File(directoryPath);\n    File[] files = directory.listFiles();\n    if (files != null) {\n        for (File file : files) {\n            if (file.isFile() &amp;&amp; isAudioFile(file.getName())) {\n                tracks.add(file.getAbsolutePath());\n            }\n        }\n    }\n}\n\nprivate boolean isAudioFile(String fileName) {\n    String[] audioFileExtensions = {&quot;.mp3&quot;, &quot;.m4a&quot;, &quot;.wav&quot;, &quot;.aac&quot;};\n    for (String extension : audioFileExtensions) {\n        if (fileName.endsWith(extension)) {\n            return true;\n        }\n    }\n    return false;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10528158,"reputation":334,"user_id":7758485,"display_name":"DiLDoST"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675723368,"creation_date":1675723368,"answer_id":75367307,"question_id":75360179,"body_markdown":"First of all create a list and add all the songs.\r\n\r\n    final ArrayList&lt;String&gt; playList = new ArrayList&lt;String&gt;();\r\n    // Add yours songs to the list that needs to be played NEXT.\r\n\r\nNow add a completion listener for the playlist, so after current song is completed it will play the next.\r\n\r\n    player.setOnCompletionListener(new MediaPlayer.OnCompletionListener() {\r\n                @Override\r\n                public void onCompletion(MediaPlayer mediaPlayer) {\r\n\r\n                    if(playList.size() == 0) return; // played all so return.\r\n\r\n                    String path = playList.remove(0); // get &amp; remove the song from the playlist we are gonna play.\r\n\r\n                    // Play the song\r\n                    mediaPlayer.setDataSource(path);\r\n                    mediaPlayer.prepare();\r\n                    mediaPlayer.start();\r\n        \r\n                }\r\n            });","title":"How to setDataSource loop playing music in Android?","body":"<p>First of all create a list and add all the songs.</p>\n<pre><code>final ArrayList&lt;String&gt; playList = new ArrayList&lt;String&gt;();\n// Add yours songs to the list that needs to be played NEXT.\n</code></pre>\n<p>Now add a completion listener for the playlist, so after current song is completed it will play the next.</p>\n<pre><code>player.setOnCompletionListener(new MediaPlayer.OnCompletionListener() {\n            @Override\n            public void onCompletion(MediaPlayer mediaPlayer) {\n\n                if(playList.size() == 0) return; // played all so return.\n\n                String path = playList.remove(0); // get &amp; remove the song from the playlist we are gonna play.\n\n                // Play the song\n                mediaPlayer.setDataSource(path);\n                mediaPlayer.prepare();\n                mediaPlayer.start();\n    \n            }\n        });\n</code></pre>\n"}],"owner":{"account_id":12957390,"reputation":1,"user_id":9367727,"display_name":"lav saden"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1675723368,"creation_date":1675679866,"question_id":75360179,"body_markdown":"\r\n           String path =&quot;&quot;;\r\n\r\n            mediaPlayer.setDataSource(path); //path url mp3\r\n            mediaPlayer.prepare();\r\n            textTotalDuration.setText(milliSecondsToTimer(mediaPlayer.getDuration()));\r\n\r\n\r\n\r\n\r\n Example read all mp3 in the folder download or specific path ","title":"How to setDataSource loop playing music in Android?","body":"<pre><code>       String path =&quot;&quot;;\n\n        mediaPlayer.setDataSource(path); //path url mp3\n        mediaPlayer.prepare();\n        textTotalDuration.setText(milliSecondsToTimer(mediaPlayer.getDuration()));\n</code></pre>\n<p>Example read all mp3 in the folder download or specific path</p>\n"},{"tags":["java","c++","jvm","java-native-interface","pthreads"],"comments":[{"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"score":0,"creation_date":1675724145,"post_id":75367294,"comment_id":132987102,"body_markdown":"`Our assumption is the following: if we have 2 native calls A and B, and A is taking some time, the JVM creates a second thread for the second call B`. This is not something the JVM will do automatically, unless you&#39;re running this on a forkjoin pool maybe (but it would depend on the code in `extractNext()`). Which version of Java/JVM are you using, and from which vendor?","body":"<code>Our assumption is the following: if we have 2 native calls A and B, and A is taking some time, the JVM creates a second thread for the second call B</code>. This is not something the JVM will do automatically, unless you&#39;re running this on a forkjoin pool maybe (but it would depend on the code in <code>extractNext()</code>). Which version of Java/JVM are you using, and from which vendor?"},{"owner":{"account_id":11754760,"reputation":1826,"user_id":16264289,"display_name":"Jonathan S."},"score":3,"creation_date":1675724180,"post_id":75367294,"comment_id":132987105,"body_markdown":"The JVM will not just create another thread. The native code has a bug; without seeing that code, we can&#39;t really help you. Are you creating / using any mutexes in your native code?","body":"The JVM will not just create another thread. The native code has a bug; without seeing that code, we can&#39;t really help you. Are you creating / using any mutexes in your native code?"},{"owner":{"account_id":18108810,"reputation":1,"user_id":13166008,"display_name":"Saidi Boumediene"},"score":0,"creation_date":1675770768,"post_id":75367294,"comment_id":132996206,"body_markdown":"@JornVernee We didn&#39;t use any threads to call native methods, the java version is 18.0.1.1 2022-04-22, and the vendor is Oracle Corporation","body":"@JornVernee We didn&#39;t use any threads to call native methods, the java version is 18.0.1.1 2022-04-22, and the vendor is Oracle Corporation"},{"owner":{"account_id":18108810,"reputation":1,"user_id":13166008,"display_name":"Saidi Boumediene"},"score":0,"creation_date":1675771159,"post_id":75367294,"comment_id":132996322,"body_markdown":"@JonathanS. We don&#39;t use any mutexes in the native code, I had the idea that maybe the native code has a bug but after executing the jar file with numactl and all works fine, I wasn&#39;t able to explain it","body":"@JonathanS. We don&#39;t use any mutexes in the native code, I had the idea that maybe the native code has a bug but after executing the jar file with numactl and all works fine, I wasn&#39;t able to explain it"},{"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"score":0,"creation_date":1675777197,"post_id":75367294,"comment_id":132998285,"body_markdown":"Are you calling this method from different Java threads, perhaps? Try logging the thread id?","body":"Are you calling this method from different Java threads, perhaps? Try logging the thread id?"},{"owner":{"account_id":11754760,"reputation":1826,"user_id":16264289,"display_name":"Jonathan S."},"score":1,"creation_date":1675788172,"post_id":75367294,"comment_id":133002366,"body_markdown":"Your application dumped core when it crashed. This means that there&#39;s a snapshot of the application state right as it crashed somewhere on your disk (potentially in the app&#39;s working directory, or in a central location if systemd is set up to capture core dumps). You can load this core dump in a debugger (i.e. GDB) and get a backtrace of the crash. This will tell you exactly where the app crashed. You could post this backtrace here by editing your question.","body":"Your application dumped core when it crashed. This means that there&#39;s a snapshot of the application state right as it crashed somewhere on your disk (potentially in the app&#39;s working directory, or in a central location if systemd is set up to capture core dumps). You can load this core dump in a debugger (i.e. GDB) and get a backtrace of the crash. This will tell you exactly where the app crashed. You could post this backtrace here by editing your question."},{"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1675796550,"post_id":75367294,"comment_id":133004730,"body_markdown":"&quot;*We didn&#39;t use any threads to call native methods*&quot; -- of course you did.  All execution of Java code occurs in the context of a Java thread.  All execution of native code occurs in the context of a native thread.  And in most JVMs, these map one to the other.  You may not have created *additional* threads, but the JVM is multithreaded in any case.","body":"&quot;<i>We didn&#39;t use any threads to call native methods</i>&quot; -- of course you did.  All execution of Java code occurs in the context of a Java thread.  All execution of native code occurs in the context of a native thread.  And in most JVMs, these map one to the other.  You may not have created <i>additional</i> threads, but the JVM is multithreaded in any case."},{"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":2,"creation_date":1675798201,"post_id":75367294,"comment_id":133005134,"body_markdown":"But an assertion failure inside Glibc is really surprising.  I&#39;m inclined to guess that something deeper is going on, such as the C++ code having been built against a different version of the C++ standard library than the one it is dynamically linking at run time.  Or some other, similar mismatch, but C++ standard libraries are a particularly rich source of version compatibility issues.","body":"But an assertion failure inside Glibc is really surprising.  I&#39;m inclined to guess that something deeper is going on, such as the C++ code having been built against a different version of the C++ standard library than the one it is dynamically linking at run time.  Or some other, similar mismatch, but C++ standard libraries are a particularly rich source of version compatibility issues."},{"owner":{"account_id":6095312,"reputation":33135,"user_id":4756299,"display_name":"Andrew Henle"},"score":2,"creation_date":1675822231,"post_id":75367294,"comment_id":133009877,"body_markdown":"One way to check if there are multiple different C++ runtime libraries involved as @JohnBollinger noted is to run `ldd` against the native library for your code that you load into the JVM and see what C++ libraries it uses.  It should be something like `/usr/lib64/libstdc++so.6.0.25`.  If your code isn&#39;t linking against that C++ runtime library, but the JVM is, your configuration is broken and you&#39;re lucky it runs at all.","body":"One way to check if there are multiple different C++ runtime libraries involved as @JohnBollinger noted is to run <code>ldd</code> against the native library for your code that you load into the JVM and see what C++ libraries it uses.  It should be something like <code>&#47;usr&#47;lib64&#47;libstdc++so.6.0.25</code>.  If your code isn&#39;t linking against that C++ runtime library, but the JVM is, your configuration is broken and you&#39;re lucky it runs at all."},{"owner":{"account_id":18108810,"reputation":1,"user_id":13166008,"display_name":"Saidi Boumediene"},"score":0,"creation_date":1678208703,"post_id":75367294,"comment_id":133487317,"body_markdown":"@AndrewHenle I ran ldd against the native library, but I didn&#39;t understand what to do after that, any help please, the following was the result: \nlibpthread.so.0 =&gt; /lib/x86_64-linux-gnu/libpthread.so.0                   \nlibstdc++.so.6 =&gt; /lib/x86_64-linux-gnu/libstdc++.so.6                                                                libgcc_s.so.1 =&gt; /lib/x86_64-linux-gnu/libgcc_s.so.1                                                         libc.so.6 =&gt; /lib/x86_64-linux-gnu/libc.so.6","body":"@AndrewHenle I ran ldd against the native library, but I didn&#39;t understand what to do after that, any help please, the following was the result:  libpthread.so.0 =&gt; /lib/x86_64-linux-gnu/libpthread.so.0                    libstdc++.so.6 =&gt; /lib/x86_64-linux-gnu/libstdc++.so.6                                                                libgcc_s.so.1 =&gt; /lib/x86_64-linux-gnu/libgcc_s.so.1                                                         libc.so.6 =&gt; /lib/x86_64-linux-gnu/libc.so.6"}],"owner":{"account_id":18108810,"reputation":1,"user_id":13166008,"display_name":"Saidi Boumediene"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675723136,"creation_date":1675723136,"question_id":75367294,"body_markdown":"I&#39;m encountering the following error at unpredictable times when calling a native method in java,\r\n\r\n```\r\njava: ../nptl/pthread_mutex_lock.c:81: __pthread_mutex_cond_lock: Assertion `mutex-&gt;__data.__owner == 0&#39; failed.\r\nAborted (core dumped)\r\n```\r\nWhat we are trying to do is call a data extractor developed in c++ from Java code,\r\n```\r\npublic int run() {\r\n\twhile(this.TSbfr.canAdd() &amp;&amp; this.hasMore())\r\n\t\textractNext();\r\n\treturn !hasMore() ? 1:0;\r\n}\r\n```\r\nThe native call is inside the **extractNext()** method and as you can see, we may have multiple calls iteratively.\r\nWhen we run the jar file with **numactl --physcpubind=+1** to force the JVM to use one core, it works fine otherwise we get the pthred_mutex error, there is something weird here because we don&#39;t use any threads to run the **extract_next** method.\r\n\r\n\r\n\r\n\r\nOur assumption is the following: if we have 2 native calls A and B, and A is taking some time, the JVM creates a second thread for the second call B that&#39;s why we get this error. We tried to use the java feature synchronized to lock the extract method but it didn&#39;t work.\r\n\r\nI was wondering if anyone can give me some ideas about how to troubleshoot this error. Does anyone know of a common cause for this assertion?\r\n\r\nThanks in advance.","title":"A native call from java to C++ generates a pthread_mutex assertion error","body":"<p>I'm encountering the following error at unpredictable times when calling a native method in java,</p>\n<pre><code>java: ../nptl/pthread_mutex_lock.c:81: __pthread_mutex_cond_lock: Assertion `mutex-&gt;__data.__owner == 0' failed.\nAborted (core dumped)\n</code></pre>\n<p>What we are trying to do is call a data extractor developed in c++ from Java code,</p>\n<pre><code>public int run() {\n    while(this.TSbfr.canAdd() &amp;&amp; this.hasMore())\n        extractNext();\n    return !hasMore() ? 1:0;\n}\n</code></pre>\n<p>The native call is inside the <strong>extractNext()</strong> method and as you can see, we may have multiple calls iteratively.\nWhen we run the jar file with <strong>numactl --physcpubind=+1</strong> to force the JVM to use one core, it works fine otherwise we get the pthred_mutex error, there is something weird here because we don't use any threads to run the <strong>extract_next</strong> method.</p>\n<p>Our assumption is the following: if we have 2 native calls A and B, and A is taking some time, the JVM creates a second thread for the second call B that's why we get this error. We tried to use the java feature synchronized to lock the extract method but it didn't work.</p>\n<p>I was wondering if anyone can give me some ideas about how to troubleshoot this error. Does anyone know of a common cause for this assertion?</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","spring","spring-boot","api"],"comments":[{"owner":{"account_id":209503,"reputation":22790,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":1,"creation_date":1675720060,"post_id":75366726,"comment_id":132986204,"body_markdown":"I think you might need to understand a bit better about the HTTP specification. Accordingly to it query parameters and content **are not** mutually exclusive for an HTTP server that accepts POST or PUT requests. So I don&#39;t think you can do this directly without building some sort of filter that checks the URI/URL","body":"I think you might need to understand a bit better about the HTTP specification. Accordingly to it query parameters and content <b>are not</b> mutually exclusive for an HTTP server that accepts POST or PUT requests. So I don&#39;t think you can do this directly without building some sort of filter that checks the URI/URL"},{"owner":{"account_id":16221044,"reputation":331,"user_id":11712575,"display_name":"Jason Chan"},"score":0,"creation_date":1675720980,"post_id":75366726,"comment_id":132986434,"body_markdown":"Jorge, you might be right about this, but say if I accept an additional parameter @RequestParam Map&lt;String,String&gt; receivedParameters in my controller, receivedParameters will only populate with &quot;doNotIncludeThis&quot;, meaning spring can differentiate between the body and params. Are there any annotations that block additional params or something of the sort?","body":"Jorge, you might be right about this, but say if I accept an additional parameter @RequestParam Map&lt;String,String&gt; receivedParameters in my controller, receivedParameters will only populate with &quot;doNotIncludeThis&quot;, meaning spring can differentiate between the body and params. Are there any annotations that block additional params or something of the sort?"},{"owner":{"account_id":209503,"reputation":22790,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1675721712,"post_id":75366726,"comment_id":132986611,"body_markdown":"Disagree about your experiment if you have a parameter that is a MAP, it means the same key `sample` can not be used twice, therefore whatever is the last parameter processed is the valid one (try sending two different values). As per the HTTP specification all parameters are processed and since you are sending two of the same it is likely translating it into an array, therefore returning the comma delimited value. Now whether spring specifically allow you to do the distinction of request parameter / request body preventing one or another I really don&#39;t know. Never seeing it done before.","body":"Disagree about your experiment if you have a parameter that is a MAP, it means the same key <code>sample</code> can not be used twice, therefore whatever is the last parameter processed is the valid one (try sending two different values). As per the HTTP specification all parameters are processed and since you are sending two of the same it is likely translating it into an array, therefore returning the comma delimited value. Now whether spring specifically allow you to do the distinction of request parameter / request body preventing one or another I really don&#39;t know. Never seeing it done before."},{"owner":{"account_id":16221044,"reputation":331,"user_id":11712575,"display_name":"Jason Chan"},"score":0,"creation_date":1675722852,"post_id":75366726,"comment_id":132986874,"body_markdown":"Due to the length of my response, please see this controlc link (similar to pastebin) https://controlc.com/bbb7d22b\n\nAs you can see, the @RequestParam grabs only the paramters","body":"Due to the length of my response, please see this controlc link (similar to pastebin) <a href=\"https://controlc.com/bbb7d22b\" rel=\"nofollow noreferrer\">controlc.com/bbb7d22b</a>  As you can see, the @RequestParam grabs only the paramters"}],"answers":[{"tags":[],"owner":{"account_id":9235242,"reputation":1488,"user_id":6860078,"display_name":"tbatch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675723054,"creation_date":1675723054,"answer_id":75367282,"question_id":75366726,"body_markdown":"I think you are looking for the wrong solution.  Why do you get a 415 when you use `@RequestBody`?  This is not standard behavior. \r\n\r\nYou see, Spring doesn&#39;t recognize the body of a request when `application/x-www-form-urlencoded` is used.  The [Spring documentation states](https://docs.spring.io/spring-framework/docs/6.0.0/reference/html/web.html#filters-http-put):\r\n\r\n&gt; The spring-web module provides FormContentFilter to intercept HTTP PUT, PATCH, and DELETE requests with a content type of application/x-www-form-urlencoded, read the form data from the body of the request, and wrap the ServletRequest to make the form data available through the ServletRequest.getParameter*() family of methods.\r\n\r\nIn order to configure Spring properly, you need to configure Spring&#39;s `FormContentFilter`.  This should be enabled by default, but you can make sure it is by setting it in the `application.properties`.\r\n\r\n```\r\nspring.mvc.formcontent.putfilter.enabled=true\r\n```\r\n","title":"Spring controller disable parameters from body","body":"<p>I think you are looking for the wrong solution.  Why do you get a 415 when you use <code>@RequestBody</code>?  This is not standard behavior.</p>\n<p>You see, Spring doesn't recognize the body of a request when <code>application/x-www-form-urlencoded</code> is used.  The <a href=\"https://docs.spring.io/spring-framework/docs/6.0.0/reference/html/web.html#filters-http-put\" rel=\"nofollow noreferrer\">Spring documentation states</a>:</p>\n<blockquote>\n<p>The spring-web module provides FormContentFilter to intercept HTTP PUT, PATCH, and DELETE requests with a content type of application/x-www-form-urlencoded, read the form data from the body of the request, and wrap the ServletRequest to make the form data available through the ServletRequest.getParameter*() family of methods.</p>\n</blockquote>\n<p>In order to configure Spring properly, you need to configure Spring's <code>FormContentFilter</code>.  This should be enabled by default, but you can make sure it is by setting it in the <code>application.properties</code>.</p>\n<pre><code>spring.mvc.formcontent.putfilter.enabled=true\n</code></pre>\n"}],"owner":{"account_id":16221044,"reputation":331,"user_id":11712575,"display_name":"Jason Chan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":183,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675723054,"creation_date":1675718603,"question_id":75366726,"body_markdown":"I have a spring endpoint that looks like this:\r\n\r\n        @PostMapping(path = &quot;/test&quot;,\r\n            consumes = {MediaType.APPLICATION_FORM_URLENCODED_VALUE},\r\n            produces = {MediaType.APPLICATION_JSON_VALUE})\r\n    @ResponseStatus(HttpStatus.OK)\r\n    public TestDTO test(TestDTO testDTO){\r\n        return testDTO;\r\n    }\r\n\r\nwith the DTO looking like this:\r\n\r\n    public class TestDTO {\r\n    \r\n        @ApiModelProperty(\r\n                name = &quot;sample&quot;,\r\n                value = &quot;sample&quot;,\r\n                dataType = &quot;String&quot;,\r\n                example = &quot;shhhhhh&quot;\r\n        )\r\n        private String sample;\r\n    \r\n    }\r\n\r\nso obviously, a curl request like this:\r\n\r\n    curl --location --request POST &#39;localhost:8081/test&#39; \\\r\n    --header &#39;Content-Type: application/x-www-form-urlencoded&#39; \\\r\n    --data-urlencode &#39;sample=testReturnData&#39;\r\n\r\nreturns \r\n\r\n    {\r\n        &quot;sample&quot;: &quot;testReturnData&quot;\r\n    }\r\n\r\nBut, if I add a parameter like this\r\n\r\n    curl --location --request POST &#39;localhost:8081/test?sample=doNotIncludeThis&#39; \\\r\n    --header &#39;Content-Type: application/x-www-form-urlencoded&#39; \\\r\n    --data-urlencode &#39;sample=testReturnData&#39;\r\n\r\nI get a response back like this:\r\n\r\n    {\r\n        &quot;sample&quot;: &quot;doNotIncludeThis,testReturnData&quot;\r\n    }\r\n\r\nI only want spring to grab data from the body, not the param. I want the response to look like \r\n\r\n    {\r\n        &quot;sample&quot;: &quot;testReturnData&quot;\r\n    }\r\n\r\nThe `@RequestBody` annotation does not work with `x-www-form-url-encoded` format (which is the format I need), because it will return a 415.","title":"Spring controller disable parameters from body","body":"<p>I have a spring endpoint that looks like this:</p>\n<pre><code>    @PostMapping(path = &quot;/test&quot;,\n        consumes = {MediaType.APPLICATION_FORM_URLENCODED_VALUE},\n        produces = {MediaType.APPLICATION_JSON_VALUE})\n@ResponseStatus(HttpStatus.OK)\npublic TestDTO test(TestDTO testDTO){\n    return testDTO;\n}\n</code></pre>\n<p>with the DTO looking like this:</p>\n<pre><code>public class TestDTO {\n\n    @ApiModelProperty(\n            name = &quot;sample&quot;,\n            value = &quot;sample&quot;,\n            dataType = &quot;String&quot;,\n            example = &quot;shhhhhh&quot;\n    )\n    private String sample;\n\n}\n</code></pre>\n<p>so obviously, a curl request like this:</p>\n<pre><code>curl --location --request POST 'localhost:8081/test' \\\n--header 'Content-Type: application/x-www-form-urlencoded' \\\n--data-urlencode 'sample=testReturnData'\n</code></pre>\n<p>returns</p>\n<pre><code>{\n    &quot;sample&quot;: &quot;testReturnData&quot;\n}\n</code></pre>\n<p>But, if I add a parameter like this</p>\n<pre><code>curl --location --request POST 'localhost:8081/test?sample=doNotIncludeThis' \\\n--header 'Content-Type: application/x-www-form-urlencoded' \\\n--data-urlencode 'sample=testReturnData'\n</code></pre>\n<p>I get a response back like this:</p>\n<pre><code>{\n    &quot;sample&quot;: &quot;doNotIncludeThis,testReturnData&quot;\n}\n</code></pre>\n<p>I only want spring to grab data from the body, not the param. I want the response to look like</p>\n<pre><code>{\n    &quot;sample&quot;: &quot;testReturnData&quot;\n}\n</code></pre>\n<p>The <code>@RequestBody</code> annotation does not work with <code>x-www-form-url-encoded</code> format (which is the format I need), because it will return a 415.</p>\n"},{"tags":["java","spring","spring-webflux","reactive-programming","spring-webclient"],"answers":[{"tags":[],"owner":{"account_id":14583346,"reputation":863,"user_id":10533012,"display_name":"Elyorbek Ibrokhimov"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1675722387,"creation_date":1675646176,"answer_id":75356598,"question_id":75356483,"body_markdown":"Why not save and then return error without blocking:\r\n\r\n```java\r\n        public Mono &lt;Object&gt; sendEmail(SendEmailRequest request)\r\n                throws MailTemplateNotSupportedException, ExactTargetException {\r\n            log.debug(&quot;Send email process started.&quot;);\r\n            return validateRequestAndSendMail(request)\r\n                    .onErrorResume(error -&gt; {\r\n            Mono&lt;Object&gt; errorMono = Mono.error(error);\r\n            if (error instanceof ExactTargetException ex) {\r\n                return mailFailureRepository.save(buildFailureEmail(request))\r\n                        .thenReturn(errorMono);\r\n            }\r\n            return errorMono;\r\n            });\r\n        }\r\n        private MailFailure buildFailureEmail(SendEmailRequest request) {\r\n            return MailFailure.builder()\r\n                .templateKey(request.getTemplateKey())\r\n                .templateParams(request.getTemplateParams() != null ? request.getTemplateParams().toString() : null)\r\n                .subscriberHash(request.getSubscriberHash())\r\n                .email(request.getEmail())\r\n                .responseStatus(ex.getStatus())\r\n                .responsePayload(ex.getBody())\r\n                .build();\r\n        }\r\n```","title":"WebFlux: how to use the block() method inside onErrorResume?","body":"<p>Why not save and then return error without blocking:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        public Mono &lt;Object&gt; sendEmail(SendEmailRequest request)\n                throws MailTemplateNotSupportedException, ExactTargetException {\n            log.debug(&quot;Send email process started.&quot;);\n            return validateRequestAndSendMail(request)\n                    .onErrorResume(error -&gt; {\n            Mono&lt;Object&gt; errorMono = Mono.error(error);\n            if (error instanceof ExactTargetException ex) {\n                return mailFailureRepository.save(buildFailureEmail(request))\n                        .thenReturn(errorMono);\n            }\n            return errorMono;\n            });\n        }\n        private MailFailure buildFailureEmail(SendEmailRequest request) {\n            return MailFailure.builder()\n                .templateKey(request.getTemplateKey())\n                .templateParams(request.getTemplateParams() != null ? request.getTemplateParams().toString() : null)\n                .subscriberHash(request.getSubscriberHash())\n                .email(request.getEmail())\n                .responseStatus(ex.getStatus())\n                .responsePayload(ex.getBody())\n                .build();\n        }\n</code></pre>\n"}],"owner":{"account_id":22489799,"reputation":79,"user_id":16687691,"display_name":"Александр Хворостенко"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":225,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1675722387,"creation_date":1675643906,"question_id":75356483,"body_markdown":"I&#39;m new to reactive programming\r\nI want to save the object to the DB when handling an error, but as far as I know, calling the block() method is not the best practice\r\n\r\n     mailFailureRepository.save(failure).block();\r\n\r\nIs there a way to do this without interrupting the flow?\r\nI think I should rebuild the thread chain, but I don&#39;t quite understand how to do it in my case\r\n\r\n I will also be glad of any information resources\r\n\r\n      public Mono&lt;Object&gt; sendEmail(SendEmailRequest request)\r\n              throws MailTemplateNotSupportedException, ExactTargetException {\r\n            log.debug(&quot;Send email process started.&quot;);\r\n            return validateRequestAndSendMail(request)\r\n                .onErrorResume(error -&gt; {\r\n                  if (error instanceof ExactTargetException ex) {\r\n                    MailFailure failure = MailFailure.builder()\r\n                        .templateKey(request.getTemplateKey())\r\n                        .templateParams(request.getTemplateParams() != null ? request.getTemplateParams().toString() : null)\r\n                        .subscriberHash(request.getSubscriberHash())\r\n                        .email(request.getEmail())\r\n                        .responseStatus(ex.getStatus())\r\n                        .responsePayload(ex.getBody())\r\n                        .build();\r\n                    mailFailureRepository.save(failure).block();\r\n                    return Mono.error(error);\r\n                  }\r\n                  return Mono.error(error);\r\n                });","title":"WebFlux: how to use the block() method inside onErrorResume?","body":"<p>I'm new to reactive programming\nI want to save the object to the DB when handling an error, but as far as I know, calling the block() method is not the best practice</p>\n<pre><code> mailFailureRepository.save(failure).block();\n</code></pre>\n<p>Is there a way to do this without interrupting the flow?\nI think I should rebuild the thread chain, but I don't quite understand how to do it in my case</p>\n<p>I will also be glad of any information resources</p>\n<pre><code>  public Mono&lt;Object&gt; sendEmail(SendEmailRequest request)\n          throws MailTemplateNotSupportedException, ExactTargetException {\n        log.debug(&quot;Send email process started.&quot;);\n        return validateRequestAndSendMail(request)\n            .onErrorResume(error -&gt; {\n              if (error instanceof ExactTargetException ex) {\n                MailFailure failure = MailFailure.builder()\n                    .templateKey(request.getTemplateKey())\n                    .templateParams(request.getTemplateParams() != null ? request.getTemplateParams().toString() : null)\n                    .subscriberHash(request.getSubscriberHash())\n                    .email(request.getEmail())\n                    .responseStatus(ex.getStatus())\n                    .responsePayload(ex.getBody())\n                    .build();\n                mailFailureRepository.save(failure).block();\n                return Mono.error(error);\n              }\n              return Mono.error(error);\n            });\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1675723742,"post_id":75367214,"comment_id":132987033,"body_markdown":"You might need to add a `&lt;queries&gt;` element to your app identifying the other app to comply with [package visibility rules](https://developer.android.com/training/package-visibility/declaring) on Android 11+.","body":"You might need to add a <code>&lt;queries&gt;</code> element to your app identifying the other app to comply with <a href=\"https://developer.android.com/training/package-visibility/declaring\" rel=\"nofollow noreferrer\">package visibility rules</a> on Android 11+."}],"owner":{"account_id":6106288,"reputation":505,"user_id":4763929,"accept_rate":0,"display_name":"Lukas S"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675722382,"creation_date":1675722382,"question_id":75367214,"body_markdown":"I went through couple of similar posts but non of them resolved my issue. \r\nI want to call another application (service) from mine. My intent is called like this:\r\n```\r\nIntent intent = new Intent();\r\nintent.setAction(&quot;com.something.MY_ACTION&quot;);\r\nintent.setComponent(new ComponentName(&quot;com.some.package&quot;, &quot;com.some.package.service.TargetService&quot;));\r\nstartForegroundService(intent);\r\n```\r\n\r\nI have even checked manifest of the target service and package name and service name are matching\r\n```\r\n &lt;service android:name=&quot;com.some.package.service.TargetService&quot;\r\n            android:exported=&quot;true&quot;\r\n            android:process=&quot;:procesName&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;com.something.MY_ACTION&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/service&gt;\r\n\r\n```\r\n\r\nI have tried startForegrongService and starService methods but nothing works. I am getting folowing in logcat:\r\n```\r\nUnable to start service Intent { act=com.something.MY_ACTION cmp=com.some.package/.service.TargetService (has extras) } U=0: not found\r\n```\r\n\r\nI even tried to send the intent from Tasker and works fine but from java it does not work. The difference is that in Tasker I don&#39;t need to define component name and package of destination service. Java does not allow that and tells that intent needs to be explicit.\r\n\r\nAny idea what is wrong?\r\nIs there an option in java to send it without component and package name?\r\n\r\nThanks,\r\nLukas","title":"Unable to start service using Intent","body":"<p>I went through couple of similar posts but non of them resolved my issue.\nI want to call another application (service) from mine. My intent is called like this:</p>\n<pre><code>Intent intent = new Intent();\nintent.setAction(&quot;com.something.MY_ACTION&quot;);\nintent.setComponent(new ComponentName(&quot;com.some.package&quot;, &quot;com.some.package.service.TargetService&quot;));\nstartForegroundService(intent);\n</code></pre>\n<p>I have even checked manifest of the target service and package name and service name are matching</p>\n<pre><code> &lt;service android:name=&quot;com.some.package.service.TargetService&quot;\n            android:exported=&quot;true&quot;\n            android:process=&quot;:procesName&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;com.something.MY_ACTION&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/service&gt;\n\n</code></pre>\n<p>I have tried startForegrongService and starService methods but nothing works. I am getting folowing in logcat:</p>\n<pre><code>Unable to start service Intent { act=com.something.MY_ACTION cmp=com.some.package/.service.TargetService (has extras) } U=0: not found\n</code></pre>\n<p>I even tried to send the intent from Tasker and works fine but from java it does not work. The difference is that in Tasker I don't need to define component name and package of destination service. Java does not allow that and tells that intent needs to be explicit.</p>\n<p>Any idea what is wrong?\nIs there an option in java to send it without component and package name?</p>\n<p>Thanks,\nLukas</p>\n"},{"tags":["java","mybatis"],"comments":[{"owner":{"account_id":1314580,"reputation":3289,"user_id":1261766,"display_name":"ave"},"score":0,"creation_date":1650314009,"post_id":71916535,"comment_id":127081247,"body_markdown":"You may have to use `ResultHandler` for that mapping.","body":"You may have to use <code>ResultHandler</code> for that mapping."},{"owner":{"account_id":19492409,"reputation":424,"user_id":14260355,"display_name":"BrunoT"},"score":0,"creation_date":1650638207,"post_id":71916535,"comment_id":127173646,"body_markdown":"You may try something with @MapKey ... It looks like it doesn&#39;t work directly inside of XML mapper, but nevertheless it could lead you on the right track.\nCheck https://stackoverflow.com/questions/11913013/return-hashmap-in-mybatis-and-use-it-as-modelattribute-in-spring-mvc and https://mybatis.org/mybatis-3/apidocs/org/apache/ibatis/annotations/MapKey.html","body":"You may try something with @MapKey ... It looks like it doesn&#39;t work directly inside of XML mapper, but nevertheless it could lead you on the right track. Check <a href=\"https://stackoverflow.com/questions/11913013/return-hashmap-in-mybatis-and-use-it-as-modelattribute-in-spring-mvc\" title=\"return hashmap in mybatis and use it as modelattribute in spring mvc\">stackoverflow.com/questions/11913013/&hellip;</a> and <a href=\"https://mybatis.org/mybatis-3/apidocs/org/apache/ibatis/annotations/MapKey.html\" rel=\"nofollow noreferrer\">mybatis.org/mybatis-3/apidocs/org/apache/ibatis/annotations/&zwnj;&#8203;&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":4876099,"reputation":421,"user_id":4455546,"display_name":"Clement Cherlin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675722210,"creation_date":1675716194,"answer_id":75366381,"question_id":71916535,"body_markdown":"While MyBatis doesn&#39;t natively support maps, it does support sets, and it&#39;s relatively straightforward to create an adapter that makes a map&#39;s entrySet writeable, allowing MyBatis to add elements to it.\r\n\r\n## AddEntrySet.java\r\n```java\r\nimport java.util.*;\r\n\r\npublic class AddEntrySet&lt;K,V&gt; extends AbstractSet&lt;Map.Entry&lt;K, V&gt;&gt; {\r\n    private final Map&lt;K, V&gt; map;\r\n\r\n    public AddEntrySet(Map&lt;K, V&gt; map) {\r\n        this.map = map;\r\n    }\r\n\r\n    @Override\r\n    public Iterator&lt;Map.Entry&lt;K, V&gt;&gt; iterator() {\r\n        return map.entrySet().iterator();\r\n    }\r\n\r\n    @Override\r\n    public int size() {\r\n        return map.size();\r\n    }\r\n\r\n    @Override\r\n    public boolean add(Map.Entry&lt;K, V&gt; kvEntry) {\r\n        V value = kvEntry.getValue();\r\n        return !Objects.equals(value, map.put(kvEntry.getKey(), value));\r\n    }\r\n}\r\n```\r\n\r\n## Foo.java\r\n```java\r\n    // For MyBatis to add through\r\n    private Set&lt;Map.Entry&lt;Integer, Bar&gt;&gt; getBarEntries() {\r\n        return new AddEntrySet&lt;&gt;(bars);\r\n    }\r\n```\r\n## Result maps\r\n```xml\r\n  &lt;resultMap id=&quot;selectBar&quot; type=&quot;Bar&quot;&gt;\r\n    &lt;id property=&quot;id&quot; column=&quot;id&quot;/&gt;\r\n    &lt;result property=&quot;fooId&quot; column=&quot;fooid&quot;/&gt;\r\n    &lt;result property=&quot;model&quot; column=&quot;model&quot;/&gt;\r\n  &lt;/resultMap&gt;\r\n\r\n  &lt;resultMap id=&quot;barEntry&quot; type=&quot;java.util.AbstractMap$SimpleImmutableEntry&quot;&gt;\r\n    &lt;constructor&gt;\r\n      &lt;idArg javaType=&quot;java.lang.Object&quot; column=&quot;id&quot;/&gt;\r\n      &lt;arg javaType=&quot;java.lang.Object&quot; resultMap=&quot;selectBar&quot;/&gt;\r\n    &lt;/constructor&gt;\r\n  &lt;/resultMap&gt;\r\n\r\n  &lt;resultMap id=&quot;fooWithBars&quot; type=&quot;Foo&quot;&gt;\r\n    &lt;id property=&quot;id&quot; column=&quot;id&quot;/&gt;\r\n    &lt;result property=&quot;name&quot; column=&quot;name&quot;/&gt;\r\n    &lt;collection property=&quot;barEntries&quot; columnPrefix=&quot;bar_&quot; ofType=&quot;java.util.AbstractMap$SimpleImmutableEntry&quot; resultMap=&quot;barEntry&quot;/&gt;\r\n  &lt;/resultMap&gt;\r\n```\r\n\r\n## Query\r\n\r\n```sql\r\nselect F.name, F.id, B.id AS bar_id, B.fooId AS bar_fooId, B.model AS bar_model\r\nfrom Foo F left join Bar B on F.id = B.fooId\r\n```","title":"Mybatis map collection to HashMap","body":"<p>While MyBatis doesn't natively support maps, it does support sets, and it's relatively straightforward to create an adapter that makes a map's entrySet writeable, allowing MyBatis to add elements to it.</p>\n<h2>AddEntrySet.java</h2>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\n\npublic class AddEntrySet&lt;K,V&gt; extends AbstractSet&lt;Map.Entry&lt;K, V&gt;&gt; {\n    private final Map&lt;K, V&gt; map;\n\n    public AddEntrySet(Map&lt;K, V&gt; map) {\n        this.map = map;\n    }\n\n    @Override\n    public Iterator&lt;Map.Entry&lt;K, V&gt;&gt; iterator() {\n        return map.entrySet().iterator();\n    }\n\n    @Override\n    public int size() {\n        return map.size();\n    }\n\n    @Override\n    public boolean add(Map.Entry&lt;K, V&gt; kvEntry) {\n        V value = kvEntry.getValue();\n        return !Objects.equals(value, map.put(kvEntry.getKey(), value));\n    }\n}\n</code></pre>\n<h2>Foo.java</h2>\n<pre class=\"lang-java prettyprint-override\"><code>    // For MyBatis to add through\n    private Set&lt;Map.Entry&lt;Integer, Bar&gt;&gt; getBarEntries() {\n        return new AddEntrySet&lt;&gt;(bars);\n    }\n</code></pre>\n<h2>Result maps</h2>\n<pre class=\"lang-xml prettyprint-override\"><code>  &lt;resultMap id=&quot;selectBar&quot; type=&quot;Bar&quot;&gt;\n    &lt;id property=&quot;id&quot; column=&quot;id&quot;/&gt;\n    &lt;result property=&quot;fooId&quot; column=&quot;fooid&quot;/&gt;\n    &lt;result property=&quot;model&quot; column=&quot;model&quot;/&gt;\n  &lt;/resultMap&gt;\n\n  &lt;resultMap id=&quot;barEntry&quot; type=&quot;java.util.AbstractMap$SimpleImmutableEntry&quot;&gt;\n    &lt;constructor&gt;\n      &lt;idArg javaType=&quot;java.lang.Object&quot; column=&quot;id&quot;/&gt;\n      &lt;arg javaType=&quot;java.lang.Object&quot; resultMap=&quot;selectBar&quot;/&gt;\n    &lt;/constructor&gt;\n  &lt;/resultMap&gt;\n\n  &lt;resultMap id=&quot;fooWithBars&quot; type=&quot;Foo&quot;&gt;\n    &lt;id property=&quot;id&quot; column=&quot;id&quot;/&gt;\n    &lt;result property=&quot;name&quot; column=&quot;name&quot;/&gt;\n    &lt;collection property=&quot;barEntries&quot; columnPrefix=&quot;bar_&quot; ofType=&quot;java.util.AbstractMap$SimpleImmutableEntry&quot; resultMap=&quot;barEntry&quot;/&gt;\n  &lt;/resultMap&gt;\n</code></pre>\n<h2>Query</h2>\n<pre class=\"lang-sql prettyprint-override\"><code>select F.name, F.id, B.id AS bar_id, B.fooId AS bar_fooId, B.model AS bar_model\nfrom Foo F left join Bar B on F.id = B.fooId\n</code></pre>\n"}],"owner":{"account_id":17488601,"reputation":53,"user_id":13628030,"display_name":"aaronzhaocr"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1621,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675722210,"creation_date":1650312384,"question_id":71916535,"body_markdown":"I&#39;m rather new to MyBatis. There&#39;s the`Foo` which could have many `Bar`s, and the `Bar` has `fooId` as FK. I want to query for all `Foo`s with its associated `Bar`s. \r\n\r\nHere are my domain objects:\r\n\r\n```java\r\npublic class Foo {\r\n    private int id;\r\n    private String name;\r\n    // key: Bar.id, value: Bar instance\r\n    private Map&lt;Integer, Bar&gt; bars;\r\n\r\n    // getter, setter etc\r\n}\r\n```\r\n```java\r\npublic class Bar {\r\n    private int id;\r\n    private int fooId;\r\n    private String model;\r\n\r\n    // getter, setter etc\r\n}\r\n```\r\nThe schema:\r\n\r\n| Foo |  |      |\r\n| ------| -------|-------|\r\n| id    | int    | PK    |\r\n| name  | varchar|       |\r\n\r\n| Bar |  | |\r\n| ------| --------| ---|\r\n| id    | int     | PK |\r\n| fooId | varchar | FK |\r\n| model | varchar |    |\r\n\r\nThe result maps:\r\n```xml\r\n&lt;resultMap id=&quot;selectBar&quot; type=&quot;Bar&quot;&gt;\r\n    &lt;id property=&quot;id&quot; column=&quot;id&quot;/&gt;\r\n    &lt;result property=&quot;fooId&quot; column=&quot;fooid&quot;/&gt;\r\n    &lt;result property=&quot;model&quot; column=&quot;model&quot;/&gt;\r\n&lt;/resultMap&gt;\r\n```\r\n```xml\r\n&lt;resultMap id=&quot;fooWithBars&quot; type=&quot;Foo&quot;&gt;\r\n        &lt;id property=&quot;id&quot; column=&quot;id&quot;/&gt;\r\n        &lt;result property=&quot;name&quot; column=&quot;name&quot;/&gt;\r\n        &lt;collection property=&quot;bars&quot; ofType=&quot;Bar&quot; resultMap=&quot;Bar.selectBar&quot; javaType=&quot;java.util.Map&quot;/&gt;\r\n&lt;/resultMap&gt;\r\n```\r\nThe query:\r\n```xml\r\n&lt;select id=&quot;selectFoos&quot; resultMap=&quot;fooWithBars&quot;&gt;\r\n    select F.name, F.id, B.id, B.fooId, B.model\r\n    from Foo P join Bar B on F.id = B.fooId\r\n&lt;/select&gt;\r\n```\r\n\r\n**My question is how to map the collection to Map&lt;Integer, Bar&gt;? without using `ResultHandler`** The resultMap above apparently doesn&#39;t work. I also tried:\r\n* nested resultMap which end up with collection of HashMaps instead of a collection in Hashmap, and there&#39;s no way of specifying the key to be the value of `Bar.id`\r\n* constructor injection which failed since Mybatis does not support use collection as an argument[https://github.com/mybatis/mybatis-3/issues/101](https://github.com/mybatis/mybatis-3/issues/101)\r\n\r\nThanks!","title":"Mybatis map collection to HashMap","body":"<p>I'm rather new to MyBatis. There's the<code>Foo</code> which could have many <code>Bar</code>s, and the <code>Bar</code> has <code>fooId</code> as FK. I want to query for all <code>Foo</code>s with its associated <code>Bar</code>s.</p>\n<p>Here are my domain objects:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Foo {\n    private int id;\n    private String name;\n    // key: Bar.id, value: Bar instance\n    private Map&lt;Integer, Bar&gt; bars;\n\n    // getter, setter etc\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class Bar {\n    private int id;\n    private int fooId;\n    private String model;\n\n    // getter, setter etc\n}\n</code></pre>\n<p>The schema:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Foo</th>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>id</td>\n<td>int</td>\n<td>PK</td>\n</tr>\n<tr>\n<td>name</td>\n<td>varchar</td>\n<td></td>\n</tr>\n</tbody>\n</table>\n</div><div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Bar</th>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>id</td>\n<td>int</td>\n<td>PK</td>\n</tr>\n<tr>\n<td>fooId</td>\n<td>varchar</td>\n<td>FK</td>\n</tr>\n<tr>\n<td>model</td>\n<td>varchar</td>\n<td></td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>The result maps:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;resultMap id=&quot;selectBar&quot; type=&quot;Bar&quot;&gt;\n    &lt;id property=&quot;id&quot; column=&quot;id&quot;/&gt;\n    &lt;result property=&quot;fooId&quot; column=&quot;fooid&quot;/&gt;\n    &lt;result property=&quot;model&quot; column=&quot;model&quot;/&gt;\n&lt;/resultMap&gt;\n</code></pre>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;resultMap id=&quot;fooWithBars&quot; type=&quot;Foo&quot;&gt;\n        &lt;id property=&quot;id&quot; column=&quot;id&quot;/&gt;\n        &lt;result property=&quot;name&quot; column=&quot;name&quot;/&gt;\n        &lt;collection property=&quot;bars&quot; ofType=&quot;Bar&quot; resultMap=&quot;Bar.selectBar&quot; javaType=&quot;java.util.Map&quot;/&gt;\n&lt;/resultMap&gt;\n</code></pre>\n<p>The query:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;select id=&quot;selectFoos&quot; resultMap=&quot;fooWithBars&quot;&gt;\n    select F.name, F.id, B.id, B.fooId, B.model\n    from Foo P join Bar B on F.id = B.fooId\n&lt;/select&gt;\n</code></pre>\n<p><strong>My question is how to map the collection to Map&lt;Integer, Bar&gt;? without using <code>ResultHandler</code></strong> The resultMap above apparently doesn't work. I also tried:</p>\n<ul>\n<li>nested resultMap which end up with collection of HashMaps instead of a collection in Hashmap, and there's no way of specifying the key to be the value of <code>Bar.id</code></li>\n<li>constructor injection which failed since Mybatis does not support use collection as an argument<a href=\"https://github.com/mybatis/mybatis-3/issues/101\" rel=\"nofollow noreferrer\">https://github.com/mybatis/mybatis-3/issues/101</a></li>\n</ul>\n<p>Thanks!</p>\n"},{"tags":["java","mockito"],"answers":[{"tags":[],"owner":{"account_id":10675972,"reputation":5000,"user_id":7859515,"accept_rate":100,"display_name":"MyStackRunnethOver"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1561484746,"creation_date":1561416184,"answer_id":56744814,"question_id":56744660,"body_markdown":"Testing asynchronous behavior usually should not involve polling to check that something has happened as part of test behavior. I suggest isolating the component that will run asynchronously and testing it separately, &quot;normally&quot;. Then, test the component that will *wait* on the asynchronous component by mocking the asynchronous component to `wait` a fixed amount of time before responding. You can use this to test the waiting component in all the relevant cases: response comes as expected, response comes but it&#39;s an error, response never comes before timeout, etc.\r\n\r\nE.g.\r\n\r\n    public interface AsyncObject {\r\n        public void invoke();\r\n        public Object check();\r\n    }\r\n\r\n    public class MyMockAsyncObject implements AsyncObject {\r\n        \r\n        private long delay;\r\n        private long startTimeMillis;\r\n\r\n        public MyMockAsyncObject(long delay) {\r\n            this.delay = delay;\r\n        }\r\n\r\n        public void invoke() {\r\n            startTimeMillis = now();\r\n        }\r\n\r\n        public Object check() {\r\n            if (now() - startTimeMillis &gt; delay) {\r\n                return new Object();\r\n            } else {\r\n                return null;\r\n            }\r\n        }\r\n    }\r\n\r\n    public class Waiter {\r\n        \r\n        public AsyncObject myAsyncObject;\r\n\r\n        public Waiter(AsyncObject async) {\r\n            this.myAsyncObject = async;\r\n        }\r\n\r\n        public Object getResult() {\r\n            myAsyncObject.invoke();\r\n            return this.waitForResult();\r\n        }\r\n        \r\n        private Object waitForResult() {\r\n            while(// is not timed out) {\r\n                // wait a while\r\n                myAsyncObject.check(); \r\n                // return result if it&#39;s there\r\n            }\r\n            throw new Exception();\r\n        }\r\n    }\r\n\r\n    \r\n       \r\n        ","title":"Mockito: polling wait on verify","body":"<p>Testing asynchronous behavior usually should not involve polling to check that something has happened as part of test behavior. I suggest isolating the component that will run asynchronously and testing it separately, \"normally\". Then, test the component that will <em>wait</em> on the asynchronous component by mocking the asynchronous component to <code>wait</code> a fixed amount of time before responding. You can use this to test the waiting component in all the relevant cases: response comes as expected, response comes but it's an error, response never comes before timeout, etc.</p>\n\n<p>E.g.</p>\n\n<pre><code>public interface AsyncObject {\n    public void invoke();\n    public Object check();\n}\n\npublic class MyMockAsyncObject implements AsyncObject {\n\n    private long delay;\n    private long startTimeMillis;\n\n    public MyMockAsyncObject(long delay) {\n        this.delay = delay;\n    }\n\n    public void invoke() {\n        startTimeMillis = now();\n    }\n\n    public Object check() {\n        if (now() - startTimeMillis &gt; delay) {\n            return new Object();\n        } else {\n            return null;\n        }\n    }\n}\n\npublic class Waiter {\n\n    public AsyncObject myAsyncObject;\n\n    public Waiter(AsyncObject async) {\n        this.myAsyncObject = async;\n    }\n\n    public Object getResult() {\n        myAsyncObject.invoke();\n        return this.waitForResult();\n    }\n\n    private Object waitForResult() {\n        while(// is not timed out) {\n            // wait a while\n            myAsyncObject.check(); \n            // return result if it's there\n        }\n        throw new Exception();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":904297,"reputation":1344,"user_id":939547,"accept_rate":78,"display_name":"jsarma"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675721506,"creation_date":1675721124,"answer_id":75367060,"question_id":56744660,"body_markdown":"Mockito has a feature that solves this problem called [VerificationWithTimeout][1]. I&#39;ve used this in my code to verify async behavior. Here&#39;s what it would look like with a 1000ms timeout:\r\n\r\n\r\n    @Mock WorkItem;\r\n\r\n    @Test\r\n    public void testSomething() throws Exception {\r\n        &lt;do some testing&gt;\r\n        \r\n        ArgumentCaptor&lt;WorkItemQuery&gt; captor = \r\n        ArgumentCaptor.forClass(WorkItemQuery.class);\r\n        verify(WorkItem, timeout(1000)\r\n          .atLeastOnce()).call(captor.capture);\r\n    }\r\n    \r\n\r\n  [1]: https://www.javadoc.io/doc/org.mockito/mockito-core/2.2.9/org/mockito/verification/VerificationWithTimeout.html\r\n","title":"Mockito: polling wait on verify","body":"<p>Mockito has a feature that solves this problem called <a href=\"https://www.javadoc.io/doc/org.mockito/mockito-core/2.2.9/org/mockito/verification/VerificationWithTimeout.html\" rel=\"nofollow noreferrer\">VerificationWithTimeout</a>. I've used this in my code to verify async behavior. Here's what it would look like with a 1000ms timeout:</p>\n<pre><code>@Mock WorkItem;\n\n@Test\npublic void testSomething() throws Exception {\n    &lt;do some testing&gt;\n    \n    ArgumentCaptor&lt;WorkItemQuery&gt; captor = \n    ArgumentCaptor.forClass(WorkItemQuery.class);\n    verify(WorkItem, timeout(1000)\n      .atLeastOnce()).call(captor.capture);\n}\n</code></pre>\n"}],"owner":{"account_id":1862257,"reputation":12143,"user_id":1686628,"accept_rate":75,"display_name":"ealeon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":695,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":56744814,"answer_count":2,"score":0,"last_activity_date":1675721506,"creation_date":1561415130,"question_id":56744660,"body_markdown":"    @Mock WorkItem;\r\n    \r\n    @Test(timeOut = 300000)\r\n    public void testSomething() throws Exception {\r\n        &lt;do some testing&gt;\r\n\r\n        verifyWorkDone()\r\n    }\r\n\r\n    public void verifyWorkDone() {\r\n        ArgumentCaptor&lt;WorkItemQuery&gt; captor = \r\n        ArgumentCaptor.forClass(WorkItemQuery.class);\r\n        verify(WorkItem, atLeastOnce()).call(captor.capture());\r\n    }\r\n\r\n\r\nI want to change the above code block for `verifyWorkDone()` so that it keeps on retrying to verify until the test times out.\r\n\r\nis there a good way to accomplish this? just throw a while loop?","title":"Mockito: polling wait on verify","body":"<pre><code>@Mock WorkItem;\n\n@Test(timeOut = 300000)\npublic void testSomething() throws Exception {\n    &lt;do some testing&gt;\n\n    verifyWorkDone()\n}\n\npublic void verifyWorkDone() {\n    ArgumentCaptor&lt;WorkItemQuery&gt; captor = \n    ArgumentCaptor.forClass(WorkItemQuery.class);\n    verify(WorkItem, atLeastOnce()).call(captor.capture());\n}\n</code></pre>\n\n<p>I want to change the above code block for <code>verifyWorkDone()</code> so that it keeps on retrying to verify until the test times out.</p>\n\n<p>is there a good way to accomplish this? just throw a while loop?</p>\n"},{"tags":["java","android","android-sms"],"owner":{"account_id":10528158,"reputation":334,"user_id":7758485,"display_name":"DiLDoST"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675721396,"creation_date":1675720956,"question_id":75367038,"body_markdown":"What am doing:\r\n--------\r\nAm getting ```recipients``` list like this\r\n\r\n\tCursor c=getContentResolver().query(Uri.parse(&quot;content://sms/&quot;), new String[]{&quot;DISTINCT address&quot;}, null, null, &quot;date DESC&quot;);\r\n\twhile(c.moveToNext()){\r\n\t\tString address = c.getString(0));\r\n\t\t// Use\r\n\t}\r\n\tc.close();\r\n\r\nProblem:\r\n--------\r\nThe sorting is not working, i get results on default order. I know this problem can be solved if i add ```date``` column. But am using ```DISTINCT``` which will not work *properly* if i&#39;ll use an extra column.\r\n\r\nExpectation:\r\n---------\r\nIs it possible to get the last sms ```body```, and ```date``` of each ```recipient```?\r\n\r\n**Note:**\r\n1. Only one ```message``` of each, i don&#39;t wanna load all, else the loading will take longer.\r\n2. I can&#39;t query for each ```recipient``` one by one getting their last ```message``` or ```date```","title":"How to get conversation list of SMS in latest order","body":"<h2>What am doing:</h2>\n<p>Am getting <code>recipients</code> list like this</p>\n<pre><code>Cursor c=getContentResolver().query(Uri.parse(&quot;content://sms/&quot;), new String[]{&quot;DISTINCT address&quot;}, null, null, &quot;date DESC&quot;);\nwhile(c.moveToNext()){\n    String address = c.getString(0));\n    // Use\n}\nc.close();\n</code></pre>\n<h2>Problem:</h2>\n<p>The sorting is not working, i get results on default order. I know this problem can be solved if i add <code>date</code> column. But am using <code>DISTINCT</code> which will not work <em>properly</em> if i'll use an extra column.</p>\n<h2>Expectation:</h2>\n<p>Is it possible to get the last sms <code>body</code>, and <code>date</code> of each <code>recipient</code>?</p>\n<p><strong>Note:</strong></p>\n<ol>\n<li>Only one <code>message</code> of each, i don't wanna load all, else the loading will take longer.</li>\n<li>I can't query for each <code>recipient</code> one by one getting their last <code>message</code> or <code>date</code></li>\n</ol>\n"},{"tags":["java","jsr352","jberet"],"answers":[{"tags":[],"owner":{"account_id":898267,"reputation":1088,"user_id":935066,"display_name":"cheng"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675719861,"creation_date":1675719861,"answer_id":75366883,"question_id":75366299,"body_markdown":"I&#39;d suggest using plain jdbc to run this delete query, with either auto commit or manual transaction commit.\r\n\r\nDuring the batchlet processing, the incoming transaction is suspended. So the entity manager does not have a transaction context. ","title":"Delete data in Java Batch Job (JSR352)","body":"<p>I'd suggest using plain jdbc to run this delete query, with either auto commit or manual transaction commit.</p>\n<p>During the batchlet processing, the incoming transaction is suspended. So the entity manager does not have a transaction context.</p>\n"},{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675721222,"creation_date":1675721222,"answer_id":75367071,"question_id":75366299,"body_markdown":"Ultimately I made it work by following this tutorial: https://dzone.com/articles/resource-local-vs-jta-transaction-types-and-payara\r\nand going for the *Classic RESOURCE_LOCAL Application* pattern.\r\n\r\nIt involves injecting the nonJTA EntityManagerFactory, using that to create the entitymanager and closing it after use. Of course the transaction has to be managed manually but after all now it works.\r\n\r\nThe essential excerpt of my code looke like this:\r\n\r\n    @PersistenceUnit(unitName = &quot;...&quot;)\r\n    private EntityManagerFactory emf;  \r\n\r\n    @Inject\r\n    @BatchProperty(name = &quot;technologyIds&quot;)\r\n    private String technologyIds;\r\n    \r\n    private void clearQueue(long technologyId) {\r\n        EntityManager entityManager = emf.createEntityManager(); \r\n        entityManager.getTransaction().begin();\r\n        Query q = entityManager.createQuery(&quot;delete from Record r where r.technologyId=:technologyId&quot;);\r\n        q.setParameter(&quot;technologyId&quot;, technologyId);\r\n        q.executeUpdate();\r\n        entityManager.getTransaction().commit();\r\n        entityManager.close();\r\n    }\r\n    ","title":"Delete data in Java Batch Job (JSR352)","body":"<p>Ultimately I made it work by following this tutorial: <a href=\"https://dzone.com/articles/resource-local-vs-jta-transaction-types-and-payara\" rel=\"nofollow noreferrer\">https://dzone.com/articles/resource-local-vs-jta-transaction-types-and-payara</a>\nand going for the <em>Classic RESOURCE_LOCAL Application</em> pattern.</p>\n<p>It involves injecting the nonJTA EntityManagerFactory, using that to create the entitymanager and closing it after use. Of course the transaction has to be managed manually but after all now it works.</p>\n<p>The essential excerpt of my code looke like this:</p>\n<pre><code>@PersistenceUnit(unitName = &quot;...&quot;)\nprivate EntityManagerFactory emf;  \n\n@Inject\n@BatchProperty(name = &quot;technologyIds&quot;)\nprivate String technologyIds;\n\nprivate void clearQueue(long technologyId) {\n    EntityManager entityManager = emf.createEntityManager(); \n    entityManager.getTransaction().begin();\n    Query q = entityManager.createQuery(&quot;delete from Record r where r.technologyId=:technologyId&quot;);\n    q.setParameter(&quot;technologyId&quot;, technologyId);\n    q.executeUpdate();\n    entityManager.getTransaction().commit();\n    entityManager.close();\n}\n</code></pre>\n"}],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":227,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75367071,"answer_count":2,"score":0,"last_activity_date":1675721222,"creation_date":1675715651,"question_id":75366299,"body_markdown":"While I have Java Batch jobs that read data, process it and store it in other places in the database, now I need a step to actually remove data from the database. All I need to run is a delete query via JPA.\r\n\r\nThe chunk based Reader/Processor/Writer pattern does not make sense here. But the Batchlet alternative is giving me a headache either. What did I do?\r\n\r\nI created a Batchlet that gets invoked via CDI. At that moment it is easy to inject my JPA EntityManager. What is not easy is to run the update query. Code looks like this:\r\n\r\n    package ...;\r\n    \r\n    import javax.batch.api.BatchProperty;\r\n    import javax.inject.Inject;\r\n    import javax.inject.Named;\r\n    import org.apache.logging.log4j.LogManager;\r\n    import org.apache.logging.log4j.Logger;\r\n    \r\n    @Named(&quot;CleanerBatchlet&quot;)\r\n    public class CleanerBatchlet extends AbstractBatchlet {\r\n        public static final Logger log = LogManager.getLogger(CleanerBatchlet.class);\r\n    \r\n        @PersistenceContext(unitName = &quot;...&quot;)\r\n        private EntityManager entityManager;  \r\n    \r\n        @Inject\r\n        @BatchProperty(name = &quot;technologyIds&quot;)\r\n        private String technologyIds;\r\n        \r\n        private void clearQueue(long technologyId) {\r\n            //EntityManager entityManager = ...getEntityManager();\r\n            \r\n            //entityManager.getTransaction().begin();\r\n            Query q = entityManager.createQuery(&quot;delete from Record r where r.technologyId=:technologyId&quot;);\r\n            q.setParameter(&quot;technologyId&quot;, technologyId);\r\n            int count = q.executeUpdate();\r\n            //entityManager.getTransaction().commit();\r\n            log.debug(&quot;Deleted {} entries from queue {}&quot;, count, technologyId);\r\n            \r\n            //entityManager.close();\r\n        }\r\n        \r\n        @Override\r\n        public String doProcess() throws Exception {\r\n            log.debug(&quot;doProcess()&quot;);\r\n            out.println(&quot;technologyIds=&quot; + technologyIds);\r\n            log.info(&quot;technologyIds=&quot; + technologyIds);\r\n            try {\r\n                String[] parts = technologyIds.split(&quot;,&quot;);\r\n                for (String part: parts) {\r\n                    long technologyId = Long.parseLong(part);\r\n                    clearQueue(technologyId);\r\n                }\r\n            } catch (NullPointerException | NumberFormatException e) {\r\n                throw new IllegalStateException(&quot;technologyIds must be set to a string of comma-separated numbers.&quot;, e);\r\n            }\r\n            return &quot;COMPLETED&quot;;\r\n        }\r\n    \r\n    }\r\n\r\nAs you can see some lines are commented out - these are the ones I am experimenting with.\r\nSo if I run the code as-is, I get an exception telling me that the update query requires a transaction. This is regardless of which of the two persistence units in my project I use (one is configured for JTA, the other is not).\r\n\r\n    javax.persistence.TransactionRequiredException: Executing an update/delete query\r\n\r\nIt also does not matter whether I uncomment the transaction handling code begin/commit. I still get the same error that a transaction is required to run the update query.\r\n\r\nEven when I try to circumvent CDI and JTA completely by creating my own EntityManager via the Persistence API (and close it afterwards, respectively) I do get the very same exception.\r\n\r\nSo how can I run this delete query or other update queryies from within the batch job?","title":"Delete data in Java Batch Job (JSR352)","body":"<p>While I have Java Batch jobs that read data, process it and store it in other places in the database, now I need a step to actually remove data from the database. All I need to run is a delete query via JPA.</p>\n<p>The chunk based Reader/Processor/Writer pattern does not make sense here. But the Batchlet alternative is giving me a headache either. What did I do?</p>\n<p>I created a Batchlet that gets invoked via CDI. At that moment it is easy to inject my JPA EntityManager. What is not easy is to run the update query. Code looks like this:</p>\n<pre><code>package ...;\n\nimport javax.batch.api.BatchProperty;\nimport javax.inject.Inject;\nimport javax.inject.Named;\nimport org.apache.logging.log4j.LogManager;\nimport org.apache.logging.log4j.Logger;\n\n@Named(&quot;CleanerBatchlet&quot;)\npublic class CleanerBatchlet extends AbstractBatchlet {\n    public static final Logger log = LogManager.getLogger(CleanerBatchlet.class);\n\n    @PersistenceContext(unitName = &quot;...&quot;)\n    private EntityManager entityManager;  \n\n    @Inject\n    @BatchProperty(name = &quot;technologyIds&quot;)\n    private String technologyIds;\n    \n    private void clearQueue(long technologyId) {\n        //EntityManager entityManager = ...getEntityManager();\n        \n        //entityManager.getTransaction().begin();\n        Query q = entityManager.createQuery(&quot;delete from Record r where r.technologyId=:technologyId&quot;);\n        q.setParameter(&quot;technologyId&quot;, technologyId);\n        int count = q.executeUpdate();\n        //entityManager.getTransaction().commit();\n        log.debug(&quot;Deleted {} entries from queue {}&quot;, count, technologyId);\n        \n        //entityManager.close();\n    }\n    \n    @Override\n    public String doProcess() throws Exception {\n        log.debug(&quot;doProcess()&quot;);\n        out.println(&quot;technologyIds=&quot; + technologyIds);\n        log.info(&quot;technologyIds=&quot; + technologyIds);\n        try {\n            String[] parts = technologyIds.split(&quot;,&quot;);\n            for (String part: parts) {\n                long technologyId = Long.parseLong(part);\n                clearQueue(technologyId);\n            }\n        } catch (NullPointerException | NumberFormatException e) {\n            throw new IllegalStateException(&quot;technologyIds must be set to a string of comma-separated numbers.&quot;, e);\n        }\n        return &quot;COMPLETED&quot;;\n    }\n\n}\n</code></pre>\n<p>As you can see some lines are commented out - these are the ones I am experimenting with.\nSo if I run the code as-is, I get an exception telling me that the update query requires a transaction. This is regardless of which of the two persistence units in my project I use (one is configured for JTA, the other is not).</p>\n<pre><code>javax.persistence.TransactionRequiredException: Executing an update/delete query\n</code></pre>\n<p>It also does not matter whether I uncomment the transaction handling code begin/commit. I still get the same error that a transaction is required to run the update query.</p>\n<p>Even when I try to circumvent CDI and JTA completely by creating my own EntityManager via the Persistence API (and close it afterwards, respectively) I do get the very same exception.</p>\n<p>So how can I run this delete query or other update queryies from within the batch job?</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":3430916,"reputation":3799,"user_id":3059385,"accept_rate":40,"display_name":"Christopher Schneider"},"score":0,"creation_date":1587391214,"post_id":61324263,"comment_id":108485526,"body_markdown":"What do you think this does? `nN[i].equals(index)`. This is asking if a String `nN[i]` is equal to an `int`.","body":"What do you think this does? <code>nN[i].equals(index)</code>. This is asking if a String <code>nN[i]</code> is equal to an <code>int</code>."},{"owner":{"account_id":13604099,"reputation":51,"user_id":10673593,"display_name":"Jwan"},"score":0,"creation_date":1587391375,"post_id":61324263,"comment_id":108485663,"body_markdown":"Yes, I actually know that its function is comparing tow strings. I tried everything possible, my first try was this: `nN[I] == index`","body":"Yes, I actually know that its function is comparing tow strings. I tried everything possible, my first try was this: <code>nN[I] == index</code>"}],"answers":[{"tags":[],"owner":{"account_id":3430916,"reputation":3799,"user_id":3059385,"accept_rate":40,"display_name":"Christopher Schneider"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1587391893,"creation_date":1587391893,"answer_id":61324562,"question_id":61324263,"body_markdown":"It&#39;s unclear if there is more than one issue here, since you didn&#39;t say what the actual problem was, other than it doesn&#39;t work. \r\n\r\nAlso, your data here is a bit strange. This would be better suited as a `class` to encapsulate all the data instead of three string arrays. \r\n\r\nI suspect, however, that this is part of your problem: `nN[i].equals(index)`\r\n\r\n`nN` is an array of `String`, and `index` is an `int`. These will _never_ be equal. They aren&#39;t the same data type.\r\n\r\nTo properly compare a String and an integer, you need to either convert the `String` to an `int` or the `int` to a `String`. Converting an `int` to a String is the safer option, so you could do this:\r\n\r\n`nN[i].equals(String.valueOf(index))`\r\n\r\nTo do the opposite, converting a `String` to an `int`, you can use `Integer.parseInt(String)`\r\n\r\n`Integer.parseInt(nN[i]) == index`\r\n\r\nOne more note:\r\n`public static void ausgabeIndex(int index`\r\n\r\nYou are passing in `index` but immediately overwriting it with your `Scanner.nextInt`. You don&#39;t need it as a method argument.","title":"Get Data by Given Index","body":"<p>It's unclear if there is more than one issue here, since you didn't say what the actual problem was, other than it doesn't work. </p>\n\n<p>Also, your data here is a bit strange. This would be better suited as a <code>class</code> to encapsulate all the data instead of three string arrays. </p>\n\n<p>I suspect, however, that this is part of your problem: <code>nN[i].equals(index)</code></p>\n\n<p><code>nN</code> is an array of <code>String</code>, and <code>index</code> is an <code>int</code>. These will <em>never</em> be equal. They aren't the same data type.</p>\n\n<p>To properly compare a String and an integer, you need to either convert the <code>String</code> to an <code>int</code> or the <code>int</code> to a <code>String</code>. Converting an <code>int</code> to a String is the safer option, so you could do this:</p>\n\n<p><code>nN[i].equals(String.valueOf(index))</code></p>\n\n<p>To do the opposite, converting a <code>String</code> to an <code>int</code>, you can use <code>Integer.parseInt(String)</code></p>\n\n<p><code>Integer.parseInt(nN[i]) == index</code></p>\n\n<p>One more note:\n<code>public static void ausgabeIndex(int index</code></p>\n\n<p>You are passing in <code>index</code> but immediately overwriting it with your <code>Scanner.nextInt</code>. You don't need it as a method argument.</p>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1587402755,"creation_date":1587402755,"answer_id":61328158,"question_id":61324263,"body_markdown":"You need to address the following things in your code:\r\n\r\n 1. Whenver you try to access an element from an array, make sure you check the bounds to avoid `ArrayIndexOutOfBoundsException` e.g. you have accessed `vN[index]` without checking whether `index` is less than `vN.length`. `adres[index]` also has the same problem.\r\n 2. `nN[i]` is a `String` while `i` is an `int` and therefore they can not be compared unless you change the one into the other. However, I&#39;m sure you didn&#39;t mean to compare `nN[i]` with `index`. Looking at your program, it seems you want to compare `nN[i]` with `nN[index]`. \r\n 3. Since you are already passing `index` as a parameter to the method, the following lines do not make sense unless you want to override the value of `index`. If you do not want to override the value of parameter, `index`, remove these lines.\r\n\r\n ```\r\nScanner sc = new Scanner(System.in);\r\nSystem.out.println(&quot;Geben Sie bitte die Nummer des/der regestrierten Mitarbeiters/Mitarbeiterin ein: &quot;);\r\nindex = sc.nextInt();\r\n ```\r\nAlternatively, if you want to keep these lines in the method, remove the parameter, `index`. As I&#39;ve mentioned above, keeping both of these makes sense only if you want to override the value of parameter, `index`.\r\n\r\n\r\n Given below is the code incorporating these comments:\r\n\r\n```\r\n public static void ausgabeIndex(int index, String[] nN, String[] vN, String[] adres) {\r\n \tif(index &lt; nN.length) {\r\n\t    for (int i = 0; i &lt; nN.length; i++) {\r\n\t        if (nN[i].equals(nN[index])) {\r\n\t            System.out.println(nN[index]);\r\n\t            if (index &lt; vN.length) {\r\n\t           \t\tSystem.out.println(vN[index]);\r\n\t           \t}\r\n\t           \tif (index &lt; adres.length) {\r\n\t           \t\tSystem.out.println(adres[index]);\r\n\t           \t}\r\n\t        }\r\n\t    }\r\n\t} else {\r\n\t\tSystem.out.printnl(&quot;The index, &quot; + index + &quot; is out of the bounds.&quot;);\r\n\t}\r\n}\r\n```","title":"Get Data by Given Index","body":"<p>You need to address the following things in your code:</p>\n\n<ol>\n<li>Whenver you try to access an element from an array, make sure you check the bounds to avoid <code>ArrayIndexOutOfBoundsException</code> e.g. you have accessed <code>vN[index]</code> without checking whether <code>index</code> is less than <code>vN.length</code>. <code>adres[index]</code> also has the same problem.</li>\n<li><code>nN[i]</code> is a <code>String</code> while <code>i</code> is an <code>int</code> and therefore they can not be compared unless you change the one into the other. However, I'm sure you didn't mean to compare <code>nN[i]</code> with <code>index</code>. Looking at your program, it seems you want to compare <code>nN[i]</code> with <code>nN[index]</code>. </li>\n<li>Since you are already passing <code>index</code> as a parameter to the method, the following lines do not make sense unless you want to override the value of <code>index</code>. If you do not want to override the value of parameter, <code>index</code>, remove these lines.</li>\n</ol>\n\n<pre><code>Scanner sc = new Scanner(System.in);\nSystem.out.println(\"Geben Sie bitte die Nummer des/der regestrierten Mitarbeiters/Mitarbeiterin ein: \");\nindex = sc.nextInt();\n</code></pre>\n\n<p>Alternatively, if you want to keep these lines in the method, remove the parameter, <code>index</code>. As I've mentioned above, keeping both of these makes sense only if you want to override the value of parameter, <code>index</code>.</p>\n\n<p>Given below is the code incorporating these comments:</p>\n\n<pre><code> public static void ausgabeIndex(int index, String[] nN, String[] vN, String[] adres) {\n    if(index &lt; nN.length) {\n        for (int i = 0; i &lt; nN.length; i++) {\n            if (nN[i].equals(nN[index])) {\n                System.out.println(nN[index]);\n                if (index &lt; vN.length) {\n                    System.out.println(vN[index]);\n                }\n                if (index &lt; adres.length) {\n                    System.out.println(adres[index]);\n                }\n            }\n        }\n    } else {\n        System.out.printnl(\"The index, \" + index + \" is out of the bounds.\");\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":13604099,"reputation":51,"user_id":10673593,"display_name":"Jwan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":61324562,"answer_count":2,"score":1,"last_activity_date":1675720814,"creation_date":1587391076,"question_id":61324263,"body_markdown":"While coding a program for employee-management, I need a method which spits out the corresponding data to a specific index (the number given by the user). \r\nAlready tried a lot of methods to make this happen, for example the one below, with no success:\r\n\r\n```java\r\npublic static void ausgabeIndex(int index, String[] nN, String[] vN, String[] adres) {\r\n    Scanner sc = new Scanner(System.in);\r\n    System.out.println(&quot;Please insert the number of the registered employees: &quot;);\r\n    index = sc.nextInt();\r\n    for (int i = 0; i &lt; nN.length; i++) {\r\n        if (nN[i].equals(index)) {\r\n            System.out.println(nN[index]);\r\n            System.out.println(vN[index]);\r\n            System.out.println(adres[index]);\r\n\r\n        }\r\n    }\r\n}\r\n```\r\n","title":"Get Data by Given Index","body":"<p>While coding a program for employee-management, I need a method which spits out the corresponding data to a specific index (the number given by the user).\nAlready tried a lot of methods to make this happen, for example the one below, with no success:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void ausgabeIndex(int index, String[] nN, String[] vN, String[] adres) {\n    Scanner sc = new Scanner(System.in);\n    System.out.println(&quot;Please insert the number of the registered employees: &quot;);\n    index = sc.nextInt();\n    for (int i = 0; i &lt; nN.length; i++) {\n        if (nN[i].equals(index)) {\n            System.out.println(nN[index]);\n            System.out.println(vN[index]);\n            System.out.println(adres[index]);\n\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","stream"],"comments":[{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":1,"creation_date":1675716556,"post_id":75366402,"comment_id":132985274,"body_markdown":"So the index and not the value at index is divided by f?  And I don&#39;t know what you mean by counts?  What are you counting?  You might consider showing a hand written example of how the above resultant structure was arrived at for the data.","body":"So the index and not the value at index is divided by f?  And I don&#39;t know what you mean by counts?  What are you counting?  You might consider showing a hand written example of how the above resultant structure was arrived at for the data."},{"owner":{"account_id":7210691,"reputation":3546,"user_id":5504922,"display_name":"EdmCoff"},"score":0,"creation_date":1675716850,"post_id":75366402,"comment_id":132985343,"body_markdown":"@WJS That&#39;s right: The parent map uses the index/f as the key. The second map uses the list value as a key and counts the number of values. In my example list, the value `1` appears twice for `index/2==0` so I map `0 -&gt; 1 -&gt; 2`.","body":"@WJS That&#39;s right: The parent map uses the index/f as the key. The second map uses the list value as a key and counts the number of values. In my example list, the value <code>1</code> appears twice for <code>index&#47;2==0</code> so I map <code>0 -&gt; 1 -&gt; 2</code>."},{"owner":{"account_id":7210691,"reputation":3546,"user_id":5504922,"display_name":"EdmCoff"},"score":0,"creation_date":1675717235,"post_id":75366402,"comment_id":132985454,"body_markdown":"Or maybe a better way of explaining it: Because of the way integer division works, the factor will basically divide the list into a number of sublists. The first `f` items will be sublist 0, the next `f` items will be sublist 1, etc. Then for each of those sublists, I want to create a map of values and counts.","body":"Or maybe a better way of explaining it: Because of the way integer division works, the factor will basically divide the list into a number of sublists. The first <code>f</code> items will be sublist 0, the next <code>f</code> items will be sublist 1, etc. Then for each of those sublists, I want to create a map of values and counts."},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1675718672,"post_id":75366402,"comment_id":132985839,"body_markdown":"So you have it working with your compute methods but you want a stream version, correct?","body":"So you have it working with your compute methods but you want a stream version, correct?"},{"owner":{"account_id":7210691,"reputation":3546,"user_id":5504922,"display_name":"EdmCoff"},"score":1,"creation_date":1675719139,"post_id":75366402,"comment_id":132985982,"body_markdown":"Yes, that&#39;s correct. Thanks for your patience and apologies for my poor job explaining.","body":"Yes, that&#39;s correct. Thanks for your patience and apologies for my poor job explaining."}],"answers":[{"tags":[],"owner":{"account_id":918256,"reputation":1641,"user_id":950558,"display_name":"Bastien Aracil"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1675719588,"creation_date":1675719588,"answer_id":75366849,"question_id":75366402,"body_markdown":"Here is a solution. \r\n\r\n    public static void main(String[] args) {\r\n       final List&lt;Integer&gt; l = List.of(1,1,1,4);\r\n       final int f = 2;\r\n\r\n       final var value = IntStream.range(0,l.size())\r\n        .boxed()\r\n        .collect(Collectors.groupingBy(i -&gt; i/f, Collectors.groupingBy(l::get, Collectors.counting())));\r\n\r\n       System.out.println(value);\r\n    }\r\n\r\nNot sure if this is a personal requirement, but sometime using standard loops over streams is not necessarily a bad thing.","title":"Create a map of maps with counts from list","body":"<p>Here is a solution.</p>\n<pre><code>public static void main(String[] args) {\n   final List&lt;Integer&gt; l = List.of(1,1,1,4);\n   final int f = 2;\n\n   final var value = IntStream.range(0,l.size())\n    .boxed()\n    .collect(Collectors.groupingBy(i -&gt; i/f, Collectors.groupingBy(l::get, Collectors.counting())));\n\n   System.out.println(value);\n}\n</code></pre>\n<p>Not sure if this is a personal requirement, but sometime using standard loops over streams is not necessarily a bad thing.</p>\n"},{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675720812,"creation_date":1675720812,"answer_id":75367023,"question_id":75366402,"body_markdown":"You can wrap your grouping collector in `CollectingAndThen` collector which takes a downstream collector and a finisher function. In the finisher you can modify the values (sublists) to a map:\r\n\r\n    List&lt;Integer&gt; list = List.of(1, 1, 1, 4);\r\n    int fac = 2;\r\n\r\n    AtomicInteger ai = new AtomicInteger();\r\n\r\n    Map&lt;Integer,Map&lt;Integer,Long&gt;&gt; result =\r\n    list.stream()\r\n        .collect(Collectors.groupingBy(\r\n                i -&gt; ai.getAndIncrement() / fac,\r\n                Collectors.collectingAndThen(\r\n                        Collectors.toList(), val -&gt; val.stream()\r\n                                                       .collect(Collectors.groupingBy(Function.identity(),\r\n                                                                                      Collectors.counting())))));\r\n\r\n    System.out.println(result);","title":"Create a map of maps with counts from list","body":"<p>You can wrap your grouping collector in <code>CollectingAndThen</code> collector which takes a downstream collector and a finisher function. In the finisher you can modify the values (sublists) to a map:</p>\n<pre><code>List&lt;Integer&gt; list = List.of(1, 1, 1, 4);\nint fac = 2;\n\nAtomicInteger ai = new AtomicInteger();\n\nMap&lt;Integer,Map&lt;Integer,Long&gt;&gt; result =\nlist.stream()\n    .collect(Collectors.groupingBy(\n            i -&gt; ai.getAndIncrement() / fac,\n            Collectors.collectingAndThen(\n                    Collectors.toList(), val -&gt; val.stream()\n                                                   .collect(Collectors.groupingBy(Function.identity(),\n                                                                                  Collectors.counting())))));\n\nSystem.out.println(result);\n</code></pre>\n"}],"owner":{"account_id":7210691,"reputation":3546,"user_id":5504922,"display_name":"EdmCoff"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":193,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75366849,"answer_count":2,"score":0,"last_activity_date":1675720812,"creation_date":1675716334,"question_id":75366402,"body_markdown":"Given a `List&lt;Integer&gt; l` and a factor `int f`, I would like to use a stream to create a `Map&lt;Integer, Map&lt;Integer, Long&gt;&gt; m` such that the parent map has keys that are the index within `l` divided by f, and the value is a map of values to counts.\r\n\r\nIf the list is `{1,1,1,4}` and the factor is `f=2` I would like to get:\r\n\r\n```\r\n0 -&gt; \r\n  {\r\n   1 -&gt; 2\r\n  }\r\n1 -&gt; \r\n  {\r\n   1 -&gt; 1\r\n   4 -&gt; 1\r\n  }\r\n```\r\n\r\nBasically, I&#39;m hoping for a stream version of:\r\n\r\n```\r\nMap&lt;Integer, Map&lt;Integer, Long&gt;&gt; m = new HashMap&lt;&gt;();\r\nfor (int i = 0; i &lt; l.size(); i++) {\r\n m.computeIfAbsent(i/f, k -&gt; new HashMap&lt;&gt;())\r\n  .compute(l.get(i), (k, v) -&gt; v==null?1:v+1);\r\n}\r\n```\r\n\r\nI realize it is fairly similar to [this question about collecting a map of maps](https://stackoverflow.com/questions/33253858/java-streams-group-a-list-into-a-map-of-maps) and I understand how to do a much simpler `groupingBy` with a count:\r\n\r\n```\r\nMap&lt;Integer, Long&gt; m = l.stream()\r\n .collect(Collectors.groupingBy(Function.identity(), Collectors.counting()));\r\n```\r\n\r\nBut I do not understand how to put those two ideas together without iterating.\r\n\r\nBecause I am working with indexes as one of the keys, I imagine that rather than starting with `l.stream()` I will start with `IntStream.range(0, l.size()).boxed()` which lets me get the first key (`i -&gt; i/f`) and the second key(`i -&gt; l.get(i)`), but I still don&#39;t know how to properly collect the counts.","title":"Create a map of maps with counts from list","body":"<p>Given a <code>List&lt;Integer&gt; l</code> and a factor <code>int f</code>, I would like to use a stream to create a <code>Map&lt;Integer, Map&lt;Integer, Long&gt;&gt; m</code> such that the parent map has keys that are the index within <code>l</code> divided by f, and the value is a map of values to counts.</p>\n<p>If the list is <code>{1,1,1,4}</code> and the factor is <code>f=2</code> I would like to get:</p>\n<pre><code>0 -&gt; \n  {\n   1 -&gt; 2\n  }\n1 -&gt; \n  {\n   1 -&gt; 1\n   4 -&gt; 1\n  }\n</code></pre>\n<p>Basically, I'm hoping for a stream version of:</p>\n<pre><code>Map&lt;Integer, Map&lt;Integer, Long&gt;&gt; m = new HashMap&lt;&gt;();\nfor (int i = 0; i &lt; l.size(); i++) {\n m.computeIfAbsent(i/f, k -&gt; new HashMap&lt;&gt;())\n  .compute(l.get(i), (k, v) -&gt; v==null?1:v+1);\n}\n</code></pre>\n<p>I realize it is fairly similar to <a href=\"https://stackoverflow.com/questions/33253858/java-streams-group-a-list-into-a-map-of-maps\">this question about collecting a map of maps</a> and I understand how to do a much simpler <code>groupingBy</code> with a count:</p>\n<pre><code>Map&lt;Integer, Long&gt; m = l.stream()\n .collect(Collectors.groupingBy(Function.identity(), Collectors.counting()));\n</code></pre>\n<p>But I do not understand how to put those two ideas together without iterating.</p>\n<p>Because I am working with indexes as one of the keys, I imagine that rather than starting with <code>l.stream()</code> I will start with <code>IntStream.range(0, l.size()).boxed()</code> which lets me get the first key (<code>i -&gt; i/f</code>) and the second key(<code>i -&gt; l.get(i)</code>), but I still don't know how to properly collect the counts.</p>\n"},{"tags":["java","jenkins","rest-assured"],"comments":[{"owner":{"account_id":5572640,"reputation":5109,"user_id":4417306,"display_name":"Mark"},"score":0,"creation_date":1545033707,"post_id":53810980,"comment_id":94470214,"body_markdown":"Which line is line 75 in `Main.java`? The 500 means internal server error, so some exception occurred during the creation of the response.","body":"Which line is line 75 in <code>Main.java</code>? The 500 means internal server error, so some exception occurred during the creation of the response."},{"owner":{"account_id":153568,"reputation":2613,"user_id":368907,"accept_rate":88,"display_name":"nicholas"},"score":0,"creation_date":1545034793,"post_id":53810980,"comment_id":94470697,"body_markdown":".statusCode(200);     This line.","body":".statusCode(200);     This line."},{"owner":{"account_id":294609,"reputation":7307,"user_id":598599,"accept_rate":57,"display_name":"AutomatedChaos"},"score":1,"creation_date":1545034807,"post_id":53810980,"comment_id":94470705,"body_markdown":"Like @Mark is saying, it looks like a typo or parameter mismatch that is causing the server error. Can you also show us the Postman request? With the `Code` link on postman, you can output the Postman request as HTTP.","body":"Like @Mark is saying, it looks like a typo or parameter mismatch that is causing the server error. Can you also show us the Postman request? With the <code>Code</code> link on postman, you can output the Postman request as HTTP."}],"answers":[{"tags":[],"owner":{"account_id":6872174,"reputation":1350,"user_id":6168167,"display_name":"bhusak"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1545034303,"creation_date":1545034303,"answer_id":53811145,"question_id":53810980,"body_markdown":"You have to send JSON body instead of parameters. Then your request will look like this:\r\n\r\n    given()\r\n        .contentType(ContentType.JSON)\r\n        .body(&quot;{&quot;\r\n            + &quot;\\&quot;userId\\&quot;: 1234,&quot;\r\n            + &quot;\\&quot;id\\&quot;: 823823,&quot;\r\n            + &quot;\\&quot;title\\&quot;: \\&quot;Title\\&quot;,&quot;\r\n            + &quot;\\&quot;body\\&quot;: \\&quot;Scrum\\&quot;&quot;\r\n            + &quot;}&quot;\r\n        )\r\n        .when()\r\n        .request(&quot;POST&quot;, &quot;/posts&quot;).\r\n        then()\r\n        .statusCode(201);\r\n\r\nThere is official wiki page with a lot of useful examples here:\r\nhttps://github.com/rest-assured/rest-assured/wiki","title":"RestAssured: Post Request return 500 Server Error","body":"<p>You have to send JSON body instead of parameters. Then your request will look like this:</p>\n\n<pre><code>given()\n    .contentType(ContentType.JSON)\n    .body(\"{\"\n        + \"\\\"userId\\\": 1234,\"\n        + \"\\\"id\\\": 823823,\"\n        + \"\\\"title\\\": \\\"Title\\\",\"\n        + \"\\\"body\\\": \\\"Scrum\\\"\"\n        + \"}\"\n    )\n    .when()\n    .request(\"POST\", \"/posts\").\n    then()\n    .statusCode(201);\n</code></pre>\n\n<p>There is official wiki page with a lot of useful examples here:\n<a href=\"https://github.com/rest-assured/rest-assured/wiki\" rel=\"nofollow noreferrer\">https://github.com/rest-assured/rest-assured/wiki</a></p>\n"},{"tags":[],"owner":{"account_id":8368809,"reputation":3,"user_id":6284549,"display_name":"DegaM"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675720572,"creation_date":1675650944,"answer_id":75356886,"question_id":53810980,"body_markdown":"Add `given().contentType(ContentType.JSON)` as a first step in the chain started from `given()` to send JSON as is instead of the request body being infered from parameters.\r\n        \r\nExample: \r\n    \r\n    given()\r\n        .contentType(ContentType.JSON)\r\n        \t.body(request.toJSONString())\r\n       \t\t.when()\r\n        \t\t.post(&quot;https:xvz.com&quot;)\r\n        \t\t.then().statusCode(200);","title":"RestAssured: Post Request return 500 Server Error","body":"<p>Add <code>given().contentType(ContentType.JSON)</code> as a first step in the chain started from <code>given()</code> to send JSON as is instead of the request body being infered from parameters.</p>\n<p>Example:</p>\n<pre><code>given()\n    .contentType(ContentType.JSON)\n        .body(request.toJSONString())\n        .when()\n            .post(&quot;https:xvz.com&quot;)\n            .then().statusCode(200);\n</code></pre>\n"}],"owner":{"account_id":153568,"reputation":2613,"user_id":368907,"accept_rate":88,"display_name":"nicholas"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5332,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1675720572,"creation_date":1545033551,"question_id":53810980,"body_markdown":"I practicing web services using RestAssured. In the post request, it return 500 server error where i using postman to send the request and there is no error. \r\nCan anyone help me debug the error? Please give some opinion. Any help is appreciate? Thanks in advance. \r\n\r\n    @BeforeSuite\r\n        public void setup() {\r\n            RestAssured.reset();\r\n            ProxySpecification ps = new ProxySpecification(&quot;localhost&quot;, 8080, &quot;http&quot;);\r\n            RestAssured.proxy(ps);\r\n            \r\n            RestAssured.baseURI = &quot;https://jsonplaceholder.typicode.com/&quot;;\r\n            RestAssured.port = 443;\r\n    \t}\r\n    \r\n    @Test(groups=&quot;createUser&quot;)\r\n    \tpublic void createUser() {\r\n    \t\tgiven()\r\n    \t\t\t.param(&quot;userId&quot;, 1234)\r\n    \t\t\t.param(&quot;id&quot;, 82342)\r\n    \t\t\t.param(&quot;title&quot;, &quot;Senior Software Engineer&quot;)\r\n    \t\t\t.param(&quot;body&quot;, &quot;Scrum Org&quot;).\r\n    \t\twhen()\r\n    \t\t\t.request(&quot;POST&quot;, &quot;/posts&quot;).\r\n    \t\tthen()\r\n    \t\t\t.statusCode(200);\r\n    \t\t\t  \r\n    \t}\r\n\r\nError Message is Expected status code &lt;200&gt; but was &lt;500&gt;.\r\n\r\n\r\nStacktrace: \r\n\r\n&gt; at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native\r\n&gt; Method) \tat\r\n&gt; sun.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)\r\n&gt; \tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown\r\n&gt; Source) \tat java.lang.reflect.Constructor.newInstance(Unknown Source)\r\n&gt; \tat\r\n&gt; org.codehaus.groovy.reflection.CachedConstructor.invoke(CachedConstructor.java:83)\r\n&gt; \tat\r\n&gt; org.codehaus.groovy.reflection.CachedConstructor.doConstructorInvoke(CachedConstructor.java:77)\r\n&gt; \tat\r\n&gt; org.codehaus.groovy.runtime.callsite.ConstructorSite$ConstructorSiteNoUnwrap.callConstructor(ConstructorSite.java:84)\r\n&gt; \tat\r\n&gt; org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCallConstructor(CallSiteArray.java:59)\r\n&gt; \tat\r\n&gt; org.codehaus.groovy.runtime.callsite.AbstractCallSite.callConstructor(AbstractCallSite.java:238)\r\n&gt; \tat\r\n&gt; org.codehaus.groovy.runtime.callsite.AbstractCallSite.callConstructor(AbstractCallSite.java:250)\r\n&gt; \tat\r\n&gt; io.restassured.internal.ResponseSpecificationImpl$HamcrestAssertionClosure.validate(ResponseSpecificationImpl.groovy:483)\r\n&gt; \tat\r\n&gt; io.restassured.internal.ResponseSpecificationImpl$HamcrestAssertionClosure$validate$1.call(Unknown\r\n&gt; Source) \tat\r\n&gt; org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:47)\r\n&gt; \tat\r\n&gt; org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:116)\r\n&gt; \tat\r\n&gt; org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:128)\r\n&gt; \tat\r\n&gt; io.restassured.internal.ResponseSpecificationImpl.validateResponseIfRequired(ResponseSpecificationImpl.groovy:655)\r\n&gt; \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) \tat\r\n&gt; sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) \tat\r\n&gt; sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) \tat\r\n&gt; java.lang.reflect.Method.invoke(Unknown Source) \tat\r\n&gt; org.codehaus.groovy.runtime.callsite.PogoMetaMethodSite$PogoCachedMethodSiteNoUnwrapNoCoerce.invoke(PogoMetaMethodSite.java:210)\r\n&gt; \tat\r\n&gt; org.codehaus.groovy.runtime.callsite.PogoMetaMethodSite.callCurrent(PogoMetaMethodSite.java:59)\r\n&gt; \tat\r\n&gt; org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCallCurrent(CallSiteArray.java:51)\r\n&gt; \tat\r\n&gt; org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:157)\r\n&gt; \tat\r\n&gt; org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:169)\r\n&gt; \tat\r\n&gt; io.restassured.internal.ResponseSpecificationImpl.statusCode(ResponseSpecificationImpl.groovy:123)\r\n&gt; \tat\r\n&gt; io.restassured.specification.ResponseSpecification$statusCode$0.callCurrent(Unknown\r\n&gt; Source) \tat\r\n&gt; org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCallCurrent(CallSiteArray.java:51)\r\n&gt; \tat\r\n&gt; org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:157)\r\n&gt; \tat\r\n&gt; org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:169)\r\n&gt; \tat\r\n&gt; io.restassured.internal.ResponseSpecificationImpl.statusCode(ResponseSpecificationImpl.groovy:131)\r\n&gt; \tat\r\n&gt; io.restassured.internal.ValidatableResponseOptionsImpl.statusCode(ValidatableResponseOptionsImpl.java:119)\r\n&gt; \tat com.peterwkc.services.Main.createUser(Main.java:75)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"RestAssured: Post Request return 500 Server Error","body":"<p>I practicing web services using RestAssured. In the post request, it return 500 server error where i using postman to send the request and there is no error. \nCan anyone help me debug the error? Please give some opinion. Any help is appreciate? Thanks in advance. </p>\n\n<pre><code>@BeforeSuite\n    public void setup() {\n        RestAssured.reset();\n        ProxySpecification ps = new ProxySpecification(\"localhost\", 8080, \"http\");\n        RestAssured.proxy(ps);\n\n        RestAssured.baseURI = \"https://jsonplaceholder.typicode.com/\";\n        RestAssured.port = 443;\n    }\n\n@Test(groups=\"createUser\")\n    public void createUser() {\n        given()\n            .param(\"userId\", 1234)\n            .param(\"id\", 82342)\n            .param(\"title\", \"Senior Software Engineer\")\n            .param(\"body\", \"Scrum Org\").\n        when()\n            .request(\"POST\", \"/posts\").\n        then()\n            .statusCode(200);\n\n    }\n</code></pre>\n\n<p>Error Message is Expected status code &lt;200> but was &lt;500>.</p>\n\n<p>Stacktrace: </p>\n\n<blockquote>\n  <p>at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native\n  Method)   at\n  sun.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown\n  Source)   at java.lang.reflect.Constructor.newInstance(Unknown Source)\n    at\n  org.codehaus.groovy.reflection.CachedConstructor.invoke(CachedConstructor.java:83)\n    at\n  org.codehaus.groovy.reflection.CachedConstructor.doConstructorInvoke(CachedConstructor.java:77)\n    at\n  org.codehaus.groovy.runtime.callsite.ConstructorSite$ConstructorSiteNoUnwrap.callConstructor(ConstructorSite.java:84)\n    at\n  org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCallConstructor(CallSiteArray.java:59)\n    at\n  org.codehaus.groovy.runtime.callsite.AbstractCallSite.callConstructor(AbstractCallSite.java:238)\n    at\n  org.codehaus.groovy.runtime.callsite.AbstractCallSite.callConstructor(AbstractCallSite.java:250)\n    at\n  io.restassured.internal.ResponseSpecificationImpl$HamcrestAssertionClosure.validate(ResponseSpecificationImpl.groovy:483)\n    at\n  io.restassured.internal.ResponseSpecificationImpl$HamcrestAssertionClosure$validate$1.call(Unknown\n  Source)   at\n  org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:47)\n    at\n  org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:116)\n    at\n  org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:128)\n    at\n  io.restassured.internal.ResponseSpecificationImpl.validateResponseIfRequired(ResponseSpecificationImpl.groovy:655)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)  at\n  sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)   at\n  sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)   at\n  java.lang.reflect.Method.invoke(Unknown Source)   at\n  org.codehaus.groovy.runtime.callsite.PogoMetaMethodSite$PogoCachedMethodSiteNoUnwrapNoCoerce.invoke(PogoMetaMethodSite.java:210)\n    at\n  org.codehaus.groovy.runtime.callsite.PogoMetaMethodSite.callCurrent(PogoMetaMethodSite.java:59)\n    at\n  org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCallCurrent(CallSiteArray.java:51)\n    at\n  org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:157)\n    at\n  org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:169)\n    at\n  io.restassured.internal.ResponseSpecificationImpl.statusCode(ResponseSpecificationImpl.groovy:123)\n    at\n  io.restassured.specification.ResponseSpecification$statusCode$0.callCurrent(Unknown\n  Source)   at\n  org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCallCurrent(CallSiteArray.java:51)\n    at\n  org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:157)\n    at\n  org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:169)\n    at\n  io.restassured.internal.ResponseSpecificationImpl.statusCode(ResponseSpecificationImpl.groovy:131)\n    at\n  io.restassured.internal.ValidatableResponseOptionsImpl.statusCode(ValidatableResponseOptionsImpl.java:119)\n    at com.peterwkc.services.Main.createUser(Main.java:75)</p>\n</blockquote>\n"},{"tags":["java","arrays","string","enums"],"comments":[{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":2,"creation_date":1591693840,"post_id":62278934,"comment_id":110145167,"body_markdown":"What about something like `if (array[i].equalsIgnoreCase(Color.RED.toString()))`? As an alternative, you could extend the `enum` by specific `String` values, but it won&#39;t stay a one-liner then...","body":"What about something like <code>if (array[i].equalsIgnoreCase(Color.RED.toString()))</code>? As an alternative, you could extend the <code>enum</code> by specific <code>String</code> values, but it won&#39;t stay a one-liner then..."},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":3,"creation_date":1591693895,"post_id":62278934,"comment_id":110145188,"body_markdown":"@deHaar i would suggest `name()` instead of `toString()`, but it works","body":"@deHaar i would suggest <code>name()</code> instead of <code>toString()</code>, but it works"},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1591693923,"post_id":62278934,"comment_id":110145205,"body_markdown":"@f1sh thanks, better use `name()`, right...","body":"@f1sh thanks, better use <code>name()</code>, right..."},{"owner":{"account_id":7183993,"reputation":407,"user_id":5486740,"accept_rate":80,"display_name":"Mr.Robot"},"score":0,"creation_date":1591694430,"post_id":62278934,"comment_id":110145482,"body_markdown":"@f1sh from Enum::name javadocs: Most programmers should use the toString() method in preference to this one, as the toString method may return a more user-friendly name.","body":"@f1sh from Enum::name javadocs: Most programmers should use the toString() method in preference to this one, as the toString method may return a more user-friendly name."},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":1,"creation_date":1591694686,"post_id":62278934,"comment_id":110145625,"body_markdown":"@Mr.Robot yes, but exactly that is the issue here. You don&#39;t want to compare `&quot;RED&quot;` with a &quot;more user-friendly name&quot; or whatever a possible overridden `toString()` returns, but you want to compare it to the enum constant name, which is exactly what `name()` returns.","body":"@Mr.Robot yes, but exactly that is the issue here. You don&#39;t want to compare <code>&quot;RED&quot;</code> with a &quot;more user-friendly name&quot; or whatever a possible overridden <code>toString()</code> returns, but you want to compare it to the enum constant name, which is exactly what <code>name()</code> returns."}],"answers":[{"tags":[],"owner":{"account_id":1698474,"reputation":745,"user_id":1559252,"accept_rate":62,"display_name":"Manoj Kumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1591694204,"creation_date":1591694204,"answer_id":62279071,"question_id":62278934,"body_markdown":"You can use `name()` method of enum.\r\n\r\nin if condition you can use this condition.\r\n\r\n`array[i].toUpperCase().equals(Color.RED.name())`\r\n\r\n\r\nIf you want to iterate over enum values then you can use `values()`.\r\n\r\n    for(String color: Color.values()){\r\n        // Your code\r\n    }","title":"How to compare array string value with enum values","body":"<p>You can use <code>name()</code> method of enum.</p>\n\n<p>in if condition you can use this condition.</p>\n\n<p><code>array[i].toUpperCase().equals(Color.RED.name())</code></p>\n\n<p>If you want to iterate over enum values then you can use <code>values()</code>.</p>\n\n<pre><code>for(String color: Color.values()){\n    // Your code\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18388087,"reputation":853,"user_id":13394585,"display_name":"Pluto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1591694423,"creation_date":1591694423,"answer_id":62279130,"question_id":62278934,"body_markdown":"You can use with this :\r\n\r\n\t\t public static void main(String[] args) {\r\n\r\n\t\t\t   Scanner keyboard  = new Scanner(System.in);\r\n\t\t\t   String input = keyboard.nextLine();\r\n\t\t\t   String[] array = input.split(&quot; &quot;);\r\n\t\t\t   for(int i=0; i&lt;array.length; i++){\r\n\t\t\t      if(array[i].equalsIgnoreCase(Color.RED.name()) || \r\n\t\t\t    \t\t  array[i].equalsIgnoreCase(Color.BLACK.name()) ||\r\n\t\t\t    \t\t  array[i].equalsIgnoreCase(Color.WHITE.name()) ||\r\n\t\t\t    \t\t  array[i].equalsIgnoreCase(Color.PINK.name())) {\r\n\t\t\t         System.out.print(array[i] + &quot;is in the enum values&quot;);\r\n\t\t\t       }\r\n\t\t\t \r\n\t\t }\r\n\t\t\t \r\n\r\n\t\t\t\r\n\t\t\t   }\r\n\t\t \tenum Color{ RED, BLACK, WHITE, PINK};\r\n\t\t\t }\r\n\r\nAlso you hava a problem with   `for(int i=0; i&lt;=array.length; i++)` you need to change it to `i&lt;array.length` , beacuse it give a error of `java.lang.ArrayIndexOutOfBoundsException` .\r\n\r\n**Output :**\r\n\r\n    orange red purple\r\n    red is in the enum values\r\n    \r\n    orange purple black\r\n    black is in the enum values\r\n    \r\n    white hello world\r\n    white is in the enum values","title":"How to compare array string value with enum values","body":"<p>You can use with this :</p>\n\n<pre><code>     public static void main(String[] args) {\n\n           Scanner keyboard  = new Scanner(System.in);\n           String input = keyboard.nextLine();\n           String[] array = input.split(\" \");\n           for(int i=0; i&lt;array.length; i++){\n              if(array[i].equalsIgnoreCase(Color.RED.name()) || \n                      array[i].equalsIgnoreCase(Color.BLACK.name()) ||\n                      array[i].equalsIgnoreCase(Color.WHITE.name()) ||\n                      array[i].equalsIgnoreCase(Color.PINK.name())) {\n                 System.out.print(array[i] + \"is in the enum values\");\n               }\n\n     }\n\n\n\n           }\n        enum Color{ RED, BLACK, WHITE, PINK};\n         }\n</code></pre>\n\n<p>Also you hava a problem with   <code>for(int i=0; i&lt;=array.length; i++)</code> you need to change it to <code>i&lt;array.length</code> , beacuse it give a error of <code>java.lang.ArrayIndexOutOfBoundsException</code> .</p>\n\n<p><strong>Output :</strong></p>\n\n<pre><code>orange red purple\nred is in the enum values\n\norange purple black\nblack is in the enum values\n\nwhite hello world\nwhite is in the enum values\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11650090,"reputation":107,"user_id":8531652,"display_name":"LUJ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1591696358,"creation_date":1591695396,"answer_id":62279465,"question_id":62278934,"body_markdown":"You can define an enumeration class to do the compare job.\r\n\r\n    public enum Color {\r\n    //red\r\n    RED(&quot;red&quot;),\r\n    //black\r\n    BLACK(&quot;black&quot;),\r\n    //white\r\n    WHITE(&quot;white&quot;),\r\n    //pink\r\n    PINK(&quot;pink&quot;);\r\n\r\n    private String desc;\r\n\r\n    Color(String desc) {\r\n        this.desc = desc;\r\n    }\r\n\r\n    public static boolean isExist(String color) {\r\n        for (Color c : Color.values()) {\r\n            if (c.desc.compareTo(color) == 0) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }}\r\nThe below is the main method.\r\n\r\n    public static void main(String[] args) {\r\n        Scanner keyboard = new Scanner(System.in);\r\n        String input = keyboard.nextLine();\r\n        String[] array = input.split(&quot; &quot;);\r\n        for (String s : array) {\r\n            if (Color.isExist(s.toLowerCase())) {\r\n                System.out.print(s + &quot; is in the enum values&quot;);\r\n            }\r\n        }\r\n    }\r\nps:\r\n\r\n    for (int i=0; i&lt;=array.length; i++) {}\r\n\r\nIt will throw java.lang.ArrayIndexOutOfBoundsException.You can write the two below methods.\r\n\r\n    for (int i=0; i&lt;array.length;i++) {}\r\n    or    \r\n    for (String s : array) {}","title":"How to compare array string value with enum values","body":"<p>You can define an enumeration class to do the compare job.</p>\n\n<pre><code>public enum Color {\n//red\nRED(\"red\"),\n//black\nBLACK(\"black\"),\n//white\nWHITE(\"white\"),\n//pink\nPINK(\"pink\");\n\nprivate String desc;\n\nColor(String desc) {\n    this.desc = desc;\n}\n\npublic static boolean isExist(String color) {\n    for (Color c : Color.values()) {\n        if (c.desc.compareTo(color) == 0) {\n            return true;\n        }\n    }\n    return false;\n}}\n</code></pre>\n\n<p>The below is the main method.</p>\n\n<pre><code>public static void main(String[] args) {\n    Scanner keyboard = new Scanner(System.in);\n    String input = keyboard.nextLine();\n    String[] array = input.split(\" \");\n    for (String s : array) {\n        if (Color.isExist(s.toLowerCase())) {\n            System.out.print(s + \" is in the enum values\");\n        }\n    }\n}\n</code></pre>\n\n<p>ps:</p>\n\n<pre><code>for (int i=0; i&lt;=array.length; i++) {}\n</code></pre>\n\n<p>It will throw java.lang.ArrayIndexOutOfBoundsException.You can write the two below methods.</p>\n\n<pre><code>for (int i=0; i&lt;array.length;i++) {}\nor    \nfor (String s : array) {}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628941687,"creation_date":1591696856,"answer_id":62279917,"question_id":62278934,"body_markdown":"Solution using [`String#join`][1] and `Stream` API:\r\n-\r\n\r\n    import java.util.Scanner;\r\n    import java.util.stream.Collectors;\r\n    import java.util.stream.Stream;\r\n    \r\n    enum Color {\r\n    \tRED, BLACK, WHITE, PINK\r\n    }\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tScanner keyboard = new Scanner(System.in);\r\n    \t\tString input = keyboard.nextLine();\r\n    \t\tString values = String.join(&quot;&quot;, Stream.of(Color.values()).map(c -&gt; c.name()).collect(Collectors.toList()));\r\n    \t\tfor (String s : input.split(&quot;\\\\s+&quot;)) {\r\n    \t\t\tif (values.contains(s.toUpperCase())) {\r\n    \t\t\t\tSystem.out.print(s + &quot; is in the enum values&quot;);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n**Output:**\r\n\r\n    orange red purple\r\n    red is in the enum values\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#join-java.lang.CharSequence-java.lang.Iterable-","title":"How to compare array string value with enum values","body":"<h2>Solution using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#join-java.lang.CharSequence-java.lang.Iterable-\" rel=\"nofollow noreferrer\"><code>String#join</code></a> and <code>Stream</code> API:</h2>\n<pre><code>import java.util.Scanner;\nimport java.util.stream.Collectors;\nimport java.util.stream.Stream;\n\nenum Color {\n    RED, BLACK, WHITE, PINK\n}\n\npublic class Main {\n    public static void main(String[] args) {\n        Scanner keyboard = new Scanner(System.in);\n        String input = keyboard.nextLine();\n        String values = String.join(&quot;&quot;, Stream.of(Color.values()).map(c -&gt; c.name()).collect(Collectors.toList()));\n        for (String s : input.split(&quot;\\\\s+&quot;)) {\n            if (values.contains(s.toUpperCase())) {\n                System.out.print(s + &quot; is in the enum values&quot;);\n            }\n        }\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>orange red purple\nred is in the enum values\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6634003,"reputation":73,"user_id":5121705,"display_name":"AFu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1591697114,"creation_date":1591697114,"answer_id":62279995,"question_id":62278934,"body_markdown":"\r\n\r\npick them all by lambda by one line :\r\n    \r\n```\r\nList&lt;String&gt; wanted = Arrays.stream(Color.values())\r\n.filter(color-&gt;Arrays.asList(array).contains(color.name()))\r\n.map(Color::name).collect(Collectors.asList());\r\n```\r\nor just print them \r\n    \r\n```\r\nSystem.out.println(Arrays.stream(Color.values())\r\n.filter(color -&gt; Arrays.asList(array).contains(color.name()))\r\n.map(Color::name).collect(Collectors.joining(&quot;,&quot;)));\r\n```\r\n\r\n\r\n\r\n    ","title":"How to compare array string value with enum values","body":"<p>pick them all by lambda by one line :</p>\n\n<pre><code>List&lt;String&gt; wanted = Arrays.stream(Color.values())\n.filter(color-&gt;Arrays.asList(array).contains(color.name()))\n.map(Color::name).collect(Collectors.asList());\n</code></pre>\n\n<p>or just print them </p>\n\n<pre><code>System.out.println(Arrays.stream(Color.values())\n.filter(color -&gt; Arrays.asList(array).contains(color.name()))\n.map(Color::name).collect(Collectors.joining(\",\")));\n</code></pre>\n"}],"owner":{"account_id":17812820,"reputation":19,"user_id":12937000,"display_name":"Karthik Putchala"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1008,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":5,"score":0,"last_activity_date":1675720562,"creation_date":1591693760,"question_id":62278934,"body_markdown":"Here i would like to know how to equate the array values to the enum values irrespective to the lowercase and upper case.\r\n\r\n\r\n```\r\nenum Color{ RED, BLACK, WHITE, PINK}\r\n\r\npublic static void main{\r\n  Scanner keyboard  = new Scanner(System.in);\r\n  String input = keyboard next Line();\r\n  String[] array = input.split(&quot; &quot;);\r\n  for(int i=0; i&lt;=array.length; i++){\r\n     if(&quot;How to equate the array values to the enum values irrespective to the lowercase and upper case&quot;) \r\n      {\r\n        System.out.print(array[i] + &quot;is in the enum values&quot;);\r\n      }\r\n  }\r\n}\r\n```\r\nUser input: \r\n```\r\norange red purple\r\n```\r\nOutput should be:\r\n```\r\nred is in the enum values\r\n```","title":"How to compare array string value with enum values","body":"<p>Here i would like to know how to equate the array values to the enum values irrespective to the lowercase and upper case.</p>\n\n<pre><code>enum Color{ RED, BLACK, WHITE, PINK}\n\npublic static void main{\n  Scanner keyboard  = new Scanner(System.in);\n  String input = keyboard next Line();\n  String[] array = input.split(\" \");\n  for(int i=0; i&lt;=array.length; i++){\n     if(\"How to equate the array values to the enum values irrespective to the lowercase and upper case\") \n      {\n        System.out.print(array[i] + \"is in the enum values\");\n      }\n  }\n}\n</code></pre>\n\n<p>User input: </p>\n\n<pre><code>orange red purple\n</code></pre>\n\n<p>Output should be:</p>\n\n<pre><code>red is in the enum values\n</code></pre>\n"},{"tags":["java","indexof"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":2,"creation_date":1675720435,"post_id":75366908,"comment_id":132986313,"body_markdown":"Do not override `url` parameter. This is provided by the test. Also, `startProtocol` should always be `0`, so you don&#39;t really need it. Nor, should you hard-code `&quot;https://&quot;` as you can have other protocols, as the instructions say (i.e. your code fails on `http://`, `tcp://`, etc)","body":"Do not override <code>url</code> parameter. This is provided by the test. Also, <code>startProtocol</code> should always be <code>0</code>, so you don&#39;t really need it. Nor, should you hard-code <code>&quot;https:&#47;&#47;&quot;</code> as you can have other protocols, as the instructions say (i.e. your code fails on <code>http:&#47;&#47;</code>, <code>tcp:&#47;&#47;</code>, etc)"},{"owner":{"account_id":7333742,"reputation":485,"user_id":5585819,"display_name":"KDW"},"score":3,"creation_date":1675720598,"post_id":75366908,"comment_id":132986358,"body_markdown":"What is it you want to achieve? I assume you want to find out the protocol used for any given URL? If so, take a look at the URL class in the JavaDoc and its constructor using a String parameter and the getProtocol() method.","body":"What is it you want to achieve? I assume you want to find out the protocol used for any given URL? If so, take a look at the URL class in the JavaDoc and its constructor using a String parameter and the getProtocol() method."},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1675720877,"post_id":75366908,"comment_id":132986414,"body_markdown":"The URL may not necessarily have `//` after the `:`. The protocol is simply terminated by the first `:` so that&#39;s all you need to use.","body":"The URL may not necessarily have <code>&#47;&#47;</code> after the <code>:</code>. The protocol is simply terminated by the first <code>:</code> so that&#39;s all you need to use."},{"owner":{"account_id":26993732,"reputation":1,"user_id":20556200,"display_name":"Tiffany Youse"},"score":0,"creation_date":1675722016,"post_id":75366908,"comment_id":132986683,"body_markdown":"Once I took out the\n&quot; url = &quot;https://www.samplewebsite.com/sample-page/1&quot;; &quot;\n\nthe code worked..thank you all :)","body":"Once I took out the &quot; url = &quot;<a href=\"https://www.samplewebsite.com/sample-page/1\" rel=\"nofollow noreferrer\">samplewebsite.com/sample-page/1</a>&quot;; &quot;  the code worked..thank you all :)"}],"owner":{"account_id":26993732,"reputation":1,"user_id":20556200,"display_name":"Tiffany Youse"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675720391,"creation_date":1675720055,"question_id":75366908,"body_markdown":"\r\nI am trying to only return the protocol of the URL...the directions says this...\r\n\r\n&gt; The sample url shows https as the protocol but there are other different protocols as well. So you cannot hard code in the endIndex of the substring method. You will need to use the indexOf method to get the end index.\r\n\r\n    \r\n    public String getProtocol(String url) {\r\n        \r\n        url = &quot;https://www.samplewebsite.com/sample-page/1&quot;;\r\n        int startProtocol = url.indexOf(&quot;https&quot;);\r\n        int endProtocol = url.indexOf(&quot;://&quot;);\r\n        \r\n        \r\n        String protocol = url.substring(startProtocol, endProtocol );\r\n        \r\n        return protocol;\r\n    }\r\n\r\n\r\nGetting an error saying:\r\n```\r\nMake sure you did not hard code the end Index ===\\&gt; expected \\&lt;http\\&gt; was expected but was \\&lt;https\\&gt;\r\n```","title":"Getting the Protocol of an URL using indexOf method","body":"<p>I am trying to only return the protocol of the URL...the directions says this...</p>\n<blockquote>\n<p>The sample url shows https as the protocol but there are other different protocols as well. So you cannot hard code in the endIndex of the substring method. You will need to use the indexOf method to get the end index.</p>\n</blockquote>\n<pre><code>public String getProtocol(String url) {\n    \n    url = &quot;https://www.samplewebsite.com/sample-page/1&quot;;\n    int startProtocol = url.indexOf(&quot;https&quot;);\n    int endProtocol = url.indexOf(&quot;://&quot;);\n    \n    \n    String protocol = url.substring(startProtocol, endProtocol );\n    \n    return protocol;\n}\n</code></pre>\n<p>Getting an error saying:</p>\n<pre><code>Make sure you did not hard code the end Index ===\\&gt; expected \\&lt;http\\&gt; was expected but was \\&lt;https\\&gt;\n</code></pre>\n"},{"tags":["java","time"],"comments":[{"owner":{"account_id":87016,"reputation":68348,"user_id":241590,"accept_rate":99,"display_name":"stacker"},"score":5,"creation_date":1297121006,"post_id":4927856,"comment_id":5491817,"body_markdown":"probably http://joda-time.sourceforge.net/","body":"probably <a href=\"http://joda-time.sourceforge.net/\" rel=\"nofollow noreferrer\">joda-time.sourceforge.net</a>"}],"answers":[{"tags":[],"owner":{"account_id":148117,"reputation":3294,"user_id":359666,"accept_rate":74,"display_name":"Uros K"},"down_vote_count":1,"up_vote_count":135,"is_accepted":true,"score":134,"last_activity_date":1297121318,"creation_date":1297121007,"answer_id":4927884,"question_id":4927856,"body_markdown":"    String time1 = &quot;16:00:00&quot;;\r\n    String time2 = &quot;19:00:00&quot;;\r\n\r\n    SimpleDateFormat format = new SimpleDateFormat(&quot;HH:mm:ss&quot;);\r\n    Date date1 = format.parse(time1);\r\n    Date date2 = format.parse(time2);\r\n    long difference = date2.getTime() - date1.getTime(); \r\n\r\nDifference is in milliseconds.\r\n\r\nI modified [sfaizs post][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/3810023/java-how-to-calculate-time-differences/3810425#3810425","title":"How can I calculate a time difference in Java?","body":"<pre><code>String time1 = \"16:00:00\";\nString time2 = \"19:00:00\";\n\nSimpleDateFormat format = new SimpleDateFormat(\"HH:mm:ss\");\nDate date1 = format.parse(time1);\nDate date2 = format.parse(time2);\nlong difference = date2.getTime() - date1.getTime(); \n</code></pre>\n\n<p>Difference is in milliseconds.</p>\n\n<p>I modified <a href=\"https://stackoverflow.com/questions/3810023/java-how-to-calculate-time-differences/3810425#3810425\">sfaizs post</a>.</p>\n"},{"tags":[],"owner":{"account_id":121167,"reputation":27602,"user_id":314056,"accept_rate":78,"display_name":"Christian"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1297201990,"creation_date":1297121043,"answer_id":4927891,"question_id":4927856,"body_markdown":"Just like any other language; convert your time periods to a unix timestamp (ie, seconds since the Unix epoch) and then simply subtract.\r\nThen, the resulting seconds should be used as a new unix timestamp and read formatted in whatever format you want.\r\n\r\nAh, give the above poster (genesiss) his due credit, code&#39;s always handy ;)\r\nThough, you now have an explanation as well :)","title":"How can I calculate a time difference in Java?","body":"<p>Just like any other language; convert your time periods to a unix timestamp (ie, seconds since the Unix epoch) and then simply subtract.\nThen, the resulting seconds should be used as a new unix timestamp and read formatted in whatever format you want.</p>\n\n<p>Ah, give the above poster (genesiss) his due credit, code's always handy ;)\nThough, you now have an explanation as well :)</p>\n"},{"tags":[],"owner":{"account_id":46211,"reputation":29587,"user_id":136445,"accept_rate":70,"display_name":"Manfred Moser"},"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1297121056,"creation_date":1297121056,"answer_id":4927892,"question_id":4927856,"body_markdown":"The painful way is to convert to millis and do the subtraction and then back to whatever seconds or so you want. The better way is to use [JodaTime][1].\r\n\r\n\r\n  [1]: http://joda-time.sourceforge.net/","title":"How can I calculate a time difference in Java?","body":"<p>The painful way is to convert to millis and do the subtraction and then back to whatever seconds or so you want. The better way is to use <a href=\"http://joda-time.sourceforge.net/\" rel=\"nofollow\">JodaTime</a>.</p>\n"},{"tags":[],"owner":{"account_id":1178999,"reputation":89297,"user_id":1154350,"accept_rate":66,"display_name":"Fizer Khan"},"down_vote_count":1,"up_vote_count":52,"is_accepted":false,"score":51,"last_activity_date":1631027479,"creation_date":1388209348,"answer_id":20811441,"question_id":4927856,"body_markdown":"To get pretty timing differences, then\r\n\r\n    // d1, d2 are dates\r\n    long diff = d2.getTime() - d1.getTime();\r\n\r\n    long diffSeconds = diff / 1000 % 60;\r\n    long diffMinutes = diff / (60 * 1000) % 60;\r\n    long diffHours = diff / (60 * 60 * 1000) % 24;\r\n    long diffDays = diff / (24 * 60 * 60 * 1000);\r\n\r\n    System.out.print(diffDays + &quot; days, &quot;);\r\n    System.out.print(diffHours + &quot; hours, &quot;);\r\n    System.out.print(diffMinutes + &quot; minutes, &quot;);\r\n    System.out.print(diffSeconds + &quot; seconds.&quot;);\r\n\r\n\r\n\r\n","title":"How can I calculate a time difference in Java?","body":"<p>To get pretty timing differences, then</p>\n<pre><code>// d1, d2 are dates\nlong diff = d2.getTime() - d1.getTime();\n\nlong diffSeconds = diff / 1000 % 60;\nlong diffMinutes = diff / (60 * 1000) % 60;\nlong diffHours = diff / (60 * 60 * 1000) % 24;\nlong diffDays = diff / (24 * 60 * 60 * 1000);\n\nSystem.out.print(diffDays + &quot; days, &quot;);\nSystem.out.print(diffHours + &quot; hours, &quot;);\nSystem.out.print(diffMinutes + &quot; minutes, &quot;);\nSystem.out.print(diffSeconds + &quot; seconds.&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1418745,"reputation":1876,"user_id":1343826,"display_name":"Alex B"},"down_vote_count":0,"up_vote_count":38,"is_accepted":false,"score":38,"last_activity_date":1416938920,"creation_date":1416938920,"answer_id":27133716,"question_id":4927856,"body_markdown":"Java 8\r\n\r\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n    \r\n    LocalDateTime dateTime1= LocalDateTime.parse(&quot;2014-11-25 19:00:00&quot;, formatter);\r\n    LocalDateTime dateTime2= LocalDateTime.parse(&quot;2014-11-25 16:00:00&quot;, formatter);\r\n    \r\n    long diffInMilli = java.time.Duration.between(dateTime1, dateTime2).toMillis();\r\n    long diffInSeconds = java.time.Duration.between(dateTime1, dateTime2).getSeconds();\r\n    long diffInMinutes = java.time.Duration.between(dateTime1, dateTime2).toMinutes();","title":"How can I calculate a time difference in Java?","body":"<p>Java 8</p>\n\n<pre><code>DateTimeFormatter formatter = DateTimeFormatter.ofPattern(\"yyyy-MM-dd HH:mm:ss\");\n\nLocalDateTime dateTime1= LocalDateTime.parse(\"2014-11-25 19:00:00\", formatter);\nLocalDateTime dateTime2= LocalDateTime.parse(\"2014-11-25 16:00:00\", formatter);\n\nlong diffInMilli = java.time.Duration.between(dateTime1, dateTime2).toMillis();\nlong diffInSeconds = java.time.Duration.between(dateTime1, dateTime2).getSeconds();\nlong diffInMinutes = java.time.Duration.between(dateTime1, dateTime2).toMinutes();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3545904,"reputation":2952,"user_id":2961878,"accept_rate":100,"display_name":"Alisa"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1492012653,"creation_date":1426897568,"answer_id":29177833,"question_id":4927856,"body_markdown":"    import java.util.Date;\r\n    ...\r\n\tDate d1 = new Date();\r\n\t...\r\n    ...\r\n\tDate d2 = new Date();\r\n\tSystem.out.println(d2.getTime()-d1.getTime()); //gives the time difference in milliseconds.\t\r\n    System.out.println((d2.getTime()-d1.getTime())/1000); //gives the time difference in seconds.\r\n\r\nand, to show in a nicer format, you can use:\r\n\r\n\t    DecimalFormat myDecimalFormatter = new DecimalFormat(&quot;###,###.###&quot;);\r\n\t    System.out.println(myDecimalFormatter.format(((double)d2.getTime()-d1.getTime())/1000));\r\n\r\n\r\n","title":"How can I calculate a time difference in Java?","body":"<pre><code>import java.util.Date;\n...\nDate d1 = new Date();\n...\n...\nDate d2 = new Date();\nSystem.out.println(d2.getTime()-d1.getTime()); //gives the time difference in milliseconds. \nSystem.out.println((d2.getTime()-d1.getTime())/1000); //gives the time difference in seconds.\n</code></pre>\n\n<p>and, to show in a nicer format, you can use:</p>\n\n<pre><code>    DecimalFormat myDecimalFormatter = new DecimalFormat(\"###,###.###\");\n    System.out.println(myDecimalFormatter.format(((double)d2.getTime()-d1.getTime())/1000));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7551934,"reputation":1891,"user_id":5733001,"display_name":"Anila Sebastian"},"down_vote_count":0,"up_vote_count":189,"is_accepted":false,"score":189,"last_activity_date":1472047001,"creation_date":1451539853,"answer_id":34541535,"question_id":4927856,"body_markdown":"Java 8 has a [cleaner solution][1] - Instant and Duration\r\n\r\nExample:\r\n\r\n    import java.time.Duration;\r\n    import java.time.Instant;\r\n    ...\r\n    Instant start = Instant.now();\r\n    //your code\r\n    Instant end = Instant.now();\r\n    Duration timeElapsed = Duration.between(start, end);\r\n    System.out.println(&quot;Time taken: &quot;+ timeElapsed.toMillis() +&quot; milliseconds&quot;);\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html","title":"How can I calculate a time difference in Java?","body":"<p>Java 8 has a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"noreferrer\">cleaner solution</a> - Instant and Duration</p>\n\n<p>Example:</p>\n\n<pre><code>import java.time.Duration;\nimport java.time.Instant;\n...\nInstant start = Instant.now();\n//your code\nInstant end = Instant.now();\nDuration timeElapsed = Duration.between(start, end);\nSystem.out.println(\"Time taken: \"+ timeElapsed.toMillis() +\" milliseconds\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4337743,"reputation":75,"user_id":3541830,"accept_rate":33,"display_name":"user3541830"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1456511533,"creation_date":1456511533,"answer_id":35659166,"question_id":4927856,"body_markdown":"Аlternative option if time from different days is taken, for example: 22:00 and 01:55.\r\n\r\n    public static long getDiffTime(Date date1, Date date2){\r\n            if (date2.getTime() - date1.getTime() &lt; 0) {// if for example date1 = 22:00, date2 = 01:55.\r\n                Calendar c = Calendar.getInstance();\r\n                c.setTime(date2);\r\n                c.add(Calendar.DATE, 1);\r\n                date2 = c.getTime();\r\n            } //else for example date1 = 01:55, date2 = 03:55.\r\n            long ms = date2.getTime() - date1.getTime();\r\n    \r\n            //235 minutes ~ 4 hours for (22:00 -- 01:55).\r\n            //120 minutes ~ 2 hours for (01:55 -- 03:55).\r\n            return TimeUnit.MINUTES.convert(ms, TimeUnit.MILLISECONDS);\r\n        }","title":"How can I calculate a time difference in Java?","body":"<p>Аlternative option if time from different days is taken, for example: 22:00 and 01:55.</p>\n\n<pre><code>public static long getDiffTime(Date date1, Date date2){\n        if (date2.getTime() - date1.getTime() &lt; 0) {// if for example date1 = 22:00, date2 = 01:55.\n            Calendar c = Calendar.getInstance();\n            c.setTime(date2);\n            c.add(Calendar.DATE, 1);\n            date2 = c.getTime();\n        } //else for example date1 = 01:55, date2 = 03:55.\n        long ms = date2.getTime() - date1.getTime();\n\n        //235 minutes ~ 4 hours for (22:00 -- 01:55).\n        //120 minutes ~ 2 hours for (01:55 -- 03:55).\n        return TimeUnit.MINUTES.convert(ms, TimeUnit.MILLISECONDS);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user5519797"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1460087343,"creation_date":1460087343,"answer_id":36491186,"question_id":4927856,"body_markdown":"    \t/*\r\n\t * Total time calculation.\r\n\t */\r\n\tprivate void getTotalHours() {\r\n\t\ttry {\r\n\t\t\t// TODO Auto-generated method stub\r\n\t\t\tif (tfTimeIn.getValue() != null &amp;&amp; tfTimeOut.getValue() != null) {\r\n\t\t\t\tLong min1 = tfTimeOut.getMinutesValue();\r\n\t\t\t\tLong min2 = tfTimeIn.getMinutesValue();\r\n\t\t\t\tLong hr1 = tfTimeOut.getHoursValue();\r\n\t\t\t\tLong hr2 = tfTimeIn.getHoursValue();\r\n\t\t\t\tLong hrsTotal = new Long(&quot;0&quot;);\r\n\t\t\t\tLong minTotal = new Long(&quot;0&quot;);\r\n\t\t\t\tif ((hr2 - hr1) == 1) {\r\n\t\t\t\t\thrsTotal = (long) 1;\r\n\t\t\t\t\tif (min1 != 0 &amp;&amp; min2 == 0) {\r\n\t\t\t\t\t\tminTotal = (long) 60 - min1;\r\n\t\t\t\t\t} else if (min1 == 0 &amp;&amp; min2 != 0) {\r\n\t\t\t\t\t\tminTotal = min2;\r\n\t\t\t\t\t} else if (min1 != 0 &amp;&amp; min2 != 0) {\r\n\t\t\t\t\t\tminTotal = min2;\r\n\t\t\t\t\t\tLong minOne = (long) 60 - min1;\r\n\t\t\t\t\t\tLong minTwo = min2;\r\n\t\t\t\t\t\tminTotal = minOne + minTwo;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (minTotal &gt;= 60) {\r\n\t\t\t\t\t\thrsTotal++;\r\n\t\t\t\t\t\tminTotal = minTotal % 60;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if ((hr2 - hr1) &gt; 0) {\r\n\t\t\t\t\thrsTotal = (hr2 - hr1);\r\n\t\t\t\t\tif (min1 != 0 &amp;&amp; min2 == 0) {\r\n\t\t\t\t\t\tminTotal = (long) 60 - min1;\r\n\t\t\t\t\t} else if (min1 == 0 &amp;&amp; min2 != 0) {\r\n\t\t\t\t\t\tminTotal = min2;\r\n\t\t\t\t\t} else if (min1 != 0 &amp;&amp; min2 != 0) {\r\n\t\t\t\t\t\tminTotal = min2;\r\n\t\t\t\t\t\tLong minOne = (long) 60 - min1;\r\n\t\t\t\t\t\tLong minTwo = min2;\r\n\t\t\t\t\t\tminTotal = minOne + minTwo;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (minTotal &gt;= 60) {\r\n\t\t\t\t\t\tminTotal = minTotal % 60;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if ((hr2 - hr1) == 0) {\r\n\t\t\t\t\tif (min1 != 0 || min2 != 0) {\r\n\t\t\t\t\t\tif (min2 &gt; min1) {\r\n\t\t\t\t\t\t\thrsTotal = (long) 0;\r\n\t\t\t\t\t\t\tminTotal = min2 - min1;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tNotification.show(&quot;Enter A Valid Time&quot;);\r\n\t\t\t\t\t\t\ttfTotalTime.setValue(&quot;00.00&quot;);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tNotification.show(&quot;Enter A Valid Time&quot;);\r\n\t\t\t\t\ttfTotalTime.setValue(&quot;00.00&quot;);\r\n\t\t\t\t}\r\n\t\t\t\tString hrsTotalString = hrsTotal.toString();\r\n\t\t\t\tString minTotalString = minTotal.toString();\r\n\t\t\t\tif (hrsTotalString.trim().length() == 1) {\r\n\t\t\t\t\thrsTotalString = &quot;0&quot; + hrsTotalString;\r\n\t\t\t\t}\r\n\t\t\t\tif (minTotalString.trim().length() == 1) {\r\n\t\t\t\t\tminTotalString = &quot;0&quot; + minTotalString;\r\n\t\t\t\t}\r\n\t\t\t\ttfTotalTime.setValue(hrsTotalString + &quot;:&quot; + minTotalString);\r\n\t\t\t} else {\r\n\t\t\t\ttfTotalTime.setValue(&quot;00.00&quot;);\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}","title":"How can I calculate a time difference in Java?","body":"<pre><code>    /*\n * Total time calculation.\n */\nprivate void getTotalHours() {\n    try {\n        // TODO Auto-generated method stub\n        if (tfTimeIn.getValue() != null &amp;&amp; tfTimeOut.getValue() != null) {\n            Long min1 = tfTimeOut.getMinutesValue();\n            Long min2 = tfTimeIn.getMinutesValue();\n            Long hr1 = tfTimeOut.getHoursValue();\n            Long hr2 = tfTimeIn.getHoursValue();\n            Long hrsTotal = new Long(\"0\");\n            Long minTotal = new Long(\"0\");\n            if ((hr2 - hr1) == 1) {\n                hrsTotal = (long) 1;\n                if (min1 != 0 &amp;&amp; min2 == 0) {\n                    minTotal = (long) 60 - min1;\n                } else if (min1 == 0 &amp;&amp; min2 != 0) {\n                    minTotal = min2;\n                } else if (min1 != 0 &amp;&amp; min2 != 0) {\n                    minTotal = min2;\n                    Long minOne = (long) 60 - min1;\n                    Long minTwo = min2;\n                    minTotal = minOne + minTwo;\n                }\n                if (minTotal &gt;= 60) {\n                    hrsTotal++;\n                    minTotal = minTotal % 60;\n                }\n            } else if ((hr2 - hr1) &gt; 0) {\n                hrsTotal = (hr2 - hr1);\n                if (min1 != 0 &amp;&amp; min2 == 0) {\n                    minTotal = (long) 60 - min1;\n                } else if (min1 == 0 &amp;&amp; min2 != 0) {\n                    minTotal = min2;\n                } else if (min1 != 0 &amp;&amp; min2 != 0) {\n                    minTotal = min2;\n                    Long minOne = (long) 60 - min1;\n                    Long minTwo = min2;\n                    minTotal = minOne + minTwo;\n                }\n                if (minTotal &gt;= 60) {\n                    minTotal = minTotal % 60;\n                }\n            } else if ((hr2 - hr1) == 0) {\n                if (min1 != 0 || min2 != 0) {\n                    if (min2 &gt; min1) {\n                        hrsTotal = (long) 0;\n                        minTotal = min2 - min1;\n                    } else {\n                        Notification.show(\"Enter A Valid Time\");\n                        tfTotalTime.setValue(\"00.00\");\n                    }\n                }\n            } else {\n                Notification.show(\"Enter A Valid Time\");\n                tfTotalTime.setValue(\"00.00\");\n            }\n            String hrsTotalString = hrsTotal.toString();\n            String minTotalString = minTotal.toString();\n            if (hrsTotalString.trim().length() == 1) {\n                hrsTotalString = \"0\" + hrsTotalString;\n            }\n            if (minTotalString.trim().length() == 1) {\n                minTotalString = \"0\" + minTotalString;\n            }\n            tfTotalTime.setValue(hrsTotalString + \":\" + minTotalString);\n        } else {\n            tfTotalTime.setValue(\"00.00\");\n        }\n    }\n    catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7645059,"reputation":1,"user_id":5795997,"display_name":"Prashant Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631026744,"creation_date":1466167056,"answer_id":37881789,"question_id":4927856,"body_markdown":"    class TimeCalculator\r\n    {\r\n        String updateTime;\r\n\r\n        public TimeCalculator(String time)\r\n        {\r\n            // Time should be in 24 hours format like 15/06/2016 17:39:20\r\n            this.updateTime = time;\r\n        }\r\n\r\n        public String getTimeDifference()\r\n        {\r\n            String td = null;\r\n\r\n            // Get Current Time\r\n            SimpleDateFormat sdf = new SimpleDateFormat(&quot;dd/MM/yyyy hh:mm:ss&quot;);\r\n            Date currentDate = new Date();\r\n            Calendar calendar = new GregorianCalendar();\r\n            calendar.setTime(currentDate);\r\n\r\n            int c_year = calendar.get(Calendar.YEAR);\r\n            int c_month = calendar.get(Calendar.MONTH) + 1;\r\n            int c_day = calendar.get(Calendar.DAY_OF_MONTH);\r\n\r\n            // Get Editing Time\r\n\r\n            Date edit_date = sdf.parse(updateTime);\r\n            Calendar edit_calendar = new GregorianCalendar();\r\n            edit_calendar.setTime(edit_date);\r\n\r\n            int e_year = edit_calendar.get(Calendar.YEAR);\r\n            int e_month = edit_calendar.get(Calendar.MONTH) + 1;\r\n            int e_day = edit_calendar.get(Calendar.DAY_OF_MONTH);\r\n\r\n            if(e_year == c_year &amp;&amp; e_month == c_month &amp;&amp; e_day == c_day)\r\n            {\r\n                int c_hours = calendar.get(Calendar.HOUR_OF_DAY);\r\n                int c_minutes = calendar.get(Calendar.MINUTE);\r\n                int c_seconds = calendar.get(Calendar.SECOND);\r\n\r\n                int e_hours = edit_calendar.get(Calendar.HOUR_OF_DAY);\r\n                int e_minutes = edit_calendar.get(Calendar.MINUTE);\r\n                int e_seconds = edit_calendar.get(Calendar.SECOND);\r\n\r\n                if(c_hours == e_hours &amp;&amp; c_minutes == e_minutes &amp;&amp; c_seconds == e_seconds)\r\n                {\r\n                    td = &quot;just now&quot;;\r\n                    return td;\r\n                }\r\n                else if(c_hours == e_hours &amp;&amp; c_minutes == e_minutes)\r\n                {\r\n                    int d_seconds = c_seconds-e_seconds;\r\n                    td = String.valueOf(d_seconds);\r\n                    td = td + &quot; seconds ago&quot;;\r\n                    return td;\r\n                }\r\n                else if(c_hours == e_hours &amp;&amp; c_minutes != e_minutes)\r\n                {\r\n                    int d_minutes = c_minutes-e_minutes;\r\n                    int d_seconds;\r\n                    if(c_seconds&gt;e_seconds)\r\n                    {\r\n                        d_seconds = c_seconds-e_seconds;\r\n                    }\r\n                    else\r\n                    {\r\n                        d_seconds = e_seconds-c_seconds;\r\n                    }\r\n                    td = &quot;00:&quot; + String.valueOf(d_minutes) + &quot;:&quot; + String.valueOf(d_seconds) + &quot; ago&quot;;\r\n                    return td;\r\n                }\r\n                else\r\n                {\r\n                    int d_minutes, d_seconds, d_hours;\r\n                    d_hours = c_hours-e_hours;\r\n                    if(c_minutes&gt;e_minutes)\r\n                    {\r\n                        d_minutes = c_minutes - e_minutes;\r\n                    }\r\n                    else\r\n                    {\r\n                        d_minutes = e_minutes - c_minutes;\r\n                    }\r\n                    if(c_seconds&gt;e_seconds)\r\n                    {\r\n                        d_seconds = c_seconds - e_seconds;\r\n                    }\r\n                    else\r\n                    {\r\n                        d_seconds = e_seconds - c_seconds;\r\n                    }\r\n\r\n                    td = String.valueOf(d_hours) + &quot;:&quot; + String.valueOf(d_minutes) + &quot;:&quot; + String.valueOf(d_seconds) + &quot; ago&quot;;\r\n                    return td;\r\n                }\r\n            }\r\n            else if(e_year == c_year &amp;&amp; e_month == c_month &amp;&amp; c_day == e_day+1)\r\n            {\r\n                td = &quot;yesterday&quot;;\r\n                return td;\r\n            }\r\n            else\r\n            {\r\n                td = updateTime;\r\n                return td;\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n","title":"How can I calculate a time difference in Java?","body":"<pre><code>class TimeCalculator\n{\n    String updateTime;\n\n    public TimeCalculator(String time)\n    {\n        // Time should be in 24 hours format like 15/06/2016 17:39:20\n        this.updateTime = time;\n    }\n\n    public String getTimeDifference()\n    {\n        String td = null;\n\n        // Get Current Time\n        SimpleDateFormat sdf = new SimpleDateFormat(&quot;dd/MM/yyyy hh:mm:ss&quot;);\n        Date currentDate = new Date();\n        Calendar calendar = new GregorianCalendar();\n        calendar.setTime(currentDate);\n\n        int c_year = calendar.get(Calendar.YEAR);\n        int c_month = calendar.get(Calendar.MONTH) + 1;\n        int c_day = calendar.get(Calendar.DAY_OF_MONTH);\n\n        // Get Editing Time\n\n        Date edit_date = sdf.parse(updateTime);\n        Calendar edit_calendar = new GregorianCalendar();\n        edit_calendar.setTime(edit_date);\n\n        int e_year = edit_calendar.get(Calendar.YEAR);\n        int e_month = edit_calendar.get(Calendar.MONTH) + 1;\n        int e_day = edit_calendar.get(Calendar.DAY_OF_MONTH);\n\n        if(e_year == c_year &amp;&amp; e_month == c_month &amp;&amp; e_day == c_day)\n        {\n            int c_hours = calendar.get(Calendar.HOUR_OF_DAY);\n            int c_minutes = calendar.get(Calendar.MINUTE);\n            int c_seconds = calendar.get(Calendar.SECOND);\n\n            int e_hours = edit_calendar.get(Calendar.HOUR_OF_DAY);\n            int e_minutes = edit_calendar.get(Calendar.MINUTE);\n            int e_seconds = edit_calendar.get(Calendar.SECOND);\n\n            if(c_hours == e_hours &amp;&amp; c_minutes == e_minutes &amp;&amp; c_seconds == e_seconds)\n            {\n                td = &quot;just now&quot;;\n                return td;\n            }\n            else if(c_hours == e_hours &amp;&amp; c_minutes == e_minutes)\n            {\n                int d_seconds = c_seconds-e_seconds;\n                td = String.valueOf(d_seconds);\n                td = td + &quot; seconds ago&quot;;\n                return td;\n            }\n            else if(c_hours == e_hours &amp;&amp; c_minutes != e_minutes)\n            {\n                int d_minutes = c_minutes-e_minutes;\n                int d_seconds;\n                if(c_seconds&gt;e_seconds)\n                {\n                    d_seconds = c_seconds-e_seconds;\n                }\n                else\n                {\n                    d_seconds = e_seconds-c_seconds;\n                }\n                td = &quot;00:&quot; + String.valueOf(d_minutes) + &quot;:&quot; + String.valueOf(d_seconds) + &quot; ago&quot;;\n                return td;\n            }\n            else\n            {\n                int d_minutes, d_seconds, d_hours;\n                d_hours = c_hours-e_hours;\n                if(c_minutes&gt;e_minutes)\n                {\n                    d_minutes = c_minutes - e_minutes;\n                }\n                else\n                {\n                    d_minutes = e_minutes - c_minutes;\n                }\n                if(c_seconds&gt;e_seconds)\n                {\n                    d_seconds = c_seconds - e_seconds;\n                }\n                else\n                {\n                    d_seconds = e_seconds - c_seconds;\n                }\n\n                td = String.valueOf(d_hours) + &quot;:&quot; + String.valueOf(d_minutes) + &quot;:&quot; + String.valueOf(d_seconds) + &quot; ago&quot;;\n                return td;\n            }\n        }\n        else if(e_year == c_year &amp;&amp; e_month == c_month &amp;&amp; c_day == e_day+1)\n        {\n            td = &quot;yesterday&quot;;\n            return td;\n        }\n        else\n        {\n            td = updateTime;\n            return td;\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5369853,"reputation":21,"user_id":4278719,"display_name":"Md. Rayhanuzzaman Roky"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1471824329,"creation_date":1471800403,"answer_id":39066917,"question_id":4927856,"body_markdown":"    String start = &quot;12:00:00&quot;;\r\n    String end = &quot;02:05:00&quot;;\r\n    \r\n    SimpleDateFormat format = new SimpleDateFormat(&quot;HH:mm:ss&quot;); \r\n    \r\n    Date date1 = format.parse(start);\r\n    \r\n    Date date2 = format.parse(end);\r\n    \r\n    long difference = date2.getTime() - date1.getTime(); \r\n    \r\n    int minutes = (int) TimeUnit.MILLISECONDS.toMinutes(difference);\r\n    \r\n    if(minutes&lt;0)minutes += 1440; \r\n    \r\n   Now minutes will be the correct duration between two time (in minute).","title":"How can I calculate a time difference in Java?","body":"<pre><code>String start = \"12:00:00\";\nString end = \"02:05:00\";\n\nSimpleDateFormat format = new SimpleDateFormat(\"HH:mm:ss\"); \n\nDate date1 = format.parse(start);\n\nDate date2 = format.parse(end);\n\nlong difference = date2.getTime() - date1.getTime(); \n\nint minutes = (int) TimeUnit.MILLISECONDS.toMinutes(difference);\n\nif(minutes&lt;0)minutes += 1440; \n</code></pre>\n\n<p>Now minutes will be the correct duration between two time (in minute).</p>\n"},{"tags":[],"owner":{"account_id":4478831,"reputation":169,"user_id":3643187,"display_name":"Dinesh"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1631026949,"creation_date":1477904820,"answer_id":40339175,"question_id":4927856,"body_markdown":"    public class timeDifference {\r\n\r\n        public static void main(String[] args) {\r\n\r\n            try {\r\n                Date startTime = Calendar.getInstance().getTime();\r\n                Thread.sleep(10000);\r\n                Date endTime = Calendar.getInstance().getTime();\r\n\r\n                long difference = endTime.getTime() - startTime.getTime();\r\n\r\n                long differenceSeconds = difference / 1000 % 60;\r\n                long differenceMinutes = difference / (60 * 1000) % 60;\r\n                long differenceHours = difference / (60 * 60 * 1000) % 24;\r\n                long differenceDays = difference / (24 * 60 * 60 * 1000);\r\n\r\n                System.out.println(differenceDays + &quot; days, &quot;);\r\n                System.out.println(differenceHours + &quot; hours, &quot;);\r\n                System.out.println(differenceMinutes + &quot; minutes, &quot;);\r\n                System.out.println(differenceSeconds + &quot; seconds.&quot;);\r\n            }\r\n            catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"How can I calculate a time difference in Java?","body":"<pre><code>public class timeDifference {\n\n    public static void main(String[] args) {\n\n        try {\n            Date startTime = Calendar.getInstance().getTime();\n            Thread.sleep(10000);\n            Date endTime = Calendar.getInstance().getTime();\n\n            long difference = endTime.getTime() - startTime.getTime();\n\n            long differenceSeconds = difference / 1000 % 60;\n            long differenceMinutes = difference / (60 * 1000) % 60;\n            long differenceHours = difference / (60 * 60 * 1000) % 24;\n            long differenceDays = difference / (24 * 60 * 60 * 1000);\n\n            System.out.println(differenceDays + &quot; days, &quot;);\n            System.out.println(differenceHours + &quot; hours, &quot;);\n            System.out.println(differenceMinutes + &quot; minutes, &quot;);\n            System.out.println(differenceSeconds + &quot; seconds.&quot;);\n        }\n        catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10411619,"reputation":21,"user_id":7734196,"display_name":"Sushmidha Sakthiveeran"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1631027021,"creation_date":1501605055,"answer_id":45443155,"question_id":4927856,"body_markdown":"    import java.text.SimpleDateFormat;\r\n    import java.util.Date;\r\n\r\n    public class Main {\r\n\r\n        public static void main(String[] args) throws Exception {\r\n            String time1 = &quot;12:00:00&quot;;\r\n            String time2 = &quot;12:01:00&quot;;\r\n            SimpleDateFormat format = new SimpleDateFormat(&quot;HH:mm:ss&quot;);\r\n            Date date1 = format.parse(time1);\r\n            Date date2 = format.parse(time2);\r\n            long difference = date2.getTime() - date1.getTime();\r\n            System.out.println(difference/1000);\r\n        }\r\n    }\r\n\r\nIt throws exception handles parsing exceptions.\r\n\r\n\r\n","title":"How can I calculate a time difference in Java?","body":"<pre><code>import java.text.SimpleDateFormat;\nimport java.util.Date;\n\npublic class Main {\n\n    public static void main(String[] args) throws Exception {\n        String time1 = &quot;12:00:00&quot;;\n        String time2 = &quot;12:01:00&quot;;\n        SimpleDateFormat format = new SimpleDateFormat(&quot;HH:mm:ss&quot;);\n        Date date1 = format.parse(time1);\n        Date date2 = format.parse(time2);\n        long difference = date2.getTime() - date1.getTime();\n        System.out.println(difference/1000);\n    }\n}\n</code></pre>\n<p>It throws exception handles parsing exceptions.</p>\n"},{"tags":[],"owner":{"account_id":10771973,"reputation":11,"user_id":7925205,"display_name":"Bhavish Salian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1548157675,"creation_date":1548155862,"answer_id":54307110,"question_id":4927856,"body_markdown":"Try this:\r\n       \r\n    public String timeDifference8(String startTime, String endTime) {\r\n        LocalTime initialTime = LocalTime.parse(startTime);\r\n        LocalTime finalTime =LocalTime.parse(endTime);\r\n        StringJoiner joiner = new StringJoiner(&quot;:&quot;);\r\n        long hours = initialTime.until( finalTime, ChronoUnit.HOURS);\r\n        initialTime = initialTime.plusHours( hours );\r\n        long minutes = initialTime.until(finalTime, ChronoUnit.MINUTES);\r\n        initialTime = initialTime.plusMinutes( minutes );\r\n        long seconds = initialTime.until( finalTime, ChronoUnit.SECONDS);\r\n        joiner.add(String.valueOf(hours));\r\n        joiner.add(String.valueOf(minutes));\r\n        joiner.add(String.valueOf(seconds));\r\n        return joiner.toString();\r\n    }","title":"How can I calculate a time difference in Java?","body":"<p>Try this:</p>\n\n<pre><code>public String timeDifference8(String startTime, String endTime) {\n    LocalTime initialTime = LocalTime.parse(startTime);\n    LocalTime finalTime =LocalTime.parse(endTime);\n    StringJoiner joiner = new StringJoiner(\":\");\n    long hours = initialTime.until( finalTime, ChronoUnit.HOURS);\n    initialTime = initialTime.plusHours( hours );\n    long minutes = initialTime.until(finalTime, ChronoUnit.MINUTES);\n    initialTime = initialTime.plusMinutes( minutes );\n    long seconds = initialTime.until( finalTime, ChronoUnit.SECONDS);\n    joiner.add(String.valueOf(hours));\n    joiner.add(String.valueOf(minutes));\n    joiner.add(String.valueOf(seconds));\n    return joiner.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12355269,"reputation":475,"user_id":9011941,"display_name":"Alexander Golovinov"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1548790302,"creation_date":1548790302,"answer_id":54428410,"question_id":4927856,"body_markdown":"Besides the most common approach with Period and Duration objects you can widen your knowledge with another way for dealing with time in Java.\r\n\r\nAdvanced Java 8 libraries.\r\n**ChronoUnit** for Differences.\r\n\r\nChronoUnit is a great way to determine how far apart two Temporal values are. Temporal includes *LocalDate*, *LocalTime* and so on.\r\n\r\n    LocalTime one = LocalTime.of(5,15);\r\n    LocalTime two = LocalTime.of(6,30);\r\n    LocalDate date = LocalDate.of(2019, 1, 29);\r\n\r\n    System.out.println(ChronoUnit.HOURS.between(one, two)); //1\r\n    System.out.println(ChronoUnit.MINUTES.between(one, two)); //75\r\n    System.out.println(ChronoUnit.MINUTES.between(one, date)); //DateTimeException\r\n\r\nFirst example shows that between truncates rather than rounds.\r\n\r\nThe second shows how easy it is to count different units.\r\n\r\nAnd the last example reminds us that we should not mess up with dates and times in Java :)\r\n\r\n","title":"How can I calculate a time difference in Java?","body":"<p>Besides the most common approach with Period and Duration objects you can widen your knowledge with another way for dealing with time in Java.</p>\n\n<p>Advanced Java 8 libraries.\n<strong>ChronoUnit</strong> for Differences.</p>\n\n<p>ChronoUnit is a great way to determine how far apart two Temporal values are. Temporal includes <em>LocalDate</em>, <em>LocalTime</em> and so on.</p>\n\n<pre><code>LocalTime one = LocalTime.of(5,15);\nLocalTime two = LocalTime.of(6,30);\nLocalDate date = LocalDate.of(2019, 1, 29);\n\nSystem.out.println(ChronoUnit.HOURS.between(one, two)); //1\nSystem.out.println(ChronoUnit.MINUTES.between(one, two)); //75\nSystem.out.println(ChronoUnit.MINUTES.between(one, date)); //DateTimeException\n</code></pre>\n\n<p>First example shows that between truncates rather than rounds.</p>\n\n<p>The second shows how easy it is to count different units.</p>\n\n<p>And the last example reminds us that we should not mess up with dates and times in Java :)</p>\n"},{"tags":[],"owner":{"account_id":12281822,"reputation":41,"user_id":8963098,"display_name":"tharsikan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1566378414,"creation_date":1566376959,"answer_id":57587689,"question_id":4927856,"body_markdown":"    import java.sql.*;\r\n    \r\n    class Time3 {\r\n    \r\n    \tpublic static void main(String args[]){ \r\n    \t\tString time1 = &quot;01:03:23&quot;;\r\n    \t\tString time2 = &quot;02:32:00&quot;;\r\n    \t\tlong difference ;\r\n    \t\tTime t1 = Time.valueOf(time1);\r\n    \t\tTime t2 = Time.valueOf(time2);\r\n    \t\tif(t2.getTime() &gt;= t1.getTime()){\r\n    \t\t\tdifference = t2.getTime() - t1.getTime() -19800000;\r\n    \t\t}\r\n    \t\telse{\r\n    \t\t\tdifference = t1.getTime() - t2.getTime() -19800000;\r\n    \t\t}\r\n    \t\t\r\n    \t\tjava.sql.Time time = new java.sql.Time(difference); \r\n    \t\tSystem.out.println(time);\r\n    \t} \r\n    \t\r\n    } ","title":"How can I calculate a time difference in Java?","body":"<pre><code>import java.sql.*;\n\nclass Time3 {\n\n    public static void main(String args[]){ \n        String time1 = \"01:03:23\";\n        String time2 = \"02:32:00\";\n        long difference ;\n        Time t1 = Time.valueOf(time1);\n        Time t2 = Time.valueOf(time2);\n        if(t2.getTime() &gt;= t1.getTime()){\n            difference = t2.getTime() - t1.getTime() -19800000;\n        }\n        else{\n            difference = t1.getTime() - t2.getTime() -19800000;\n        }\n\n        java.sql.Time time = new java.sql.Time(difference); \n        System.out.println(time);\n    } \n\n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":1220673,"reputation":1426,"user_id":1187385,"accept_rate":53,"display_name":"Amit Shakya"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1631027212,"creation_date":1568702590,"answer_id":57968686,"question_id":4927856,"body_markdown":"I found this cleaner.\r\n\r\n    Date start = new Date();\r\n\r\n    //Waiting for 10 seconds\r\n    Thread.sleep(10000);\r\n\r\n    Date end = new Date();\r\n    long diff = end.getTime() - start.getTime();\r\n    String TimeTaken = String.format(&quot;[%s] hours : [%s] mins : [%s] secs&quot;,\r\n                                     Long.toString(TimeUnit.MILLISECONDS.toHours(diff)),\r\n                                     TimeUnit.MILLISECONDS.toMinutes(diff),\r\n                                     TimeUnit.MILLISECONDS.toSeconds(diff));\r\n    System.out.println(String.format(&quot;Time taken %s&quot;, TimeTaken));\r\n\r\n### Output\r\n\r\n    Time taken [0] hours : [0] mins : [10] secs\r\n\r\n\r\n","title":"How can I calculate a time difference in Java?","body":"<p>I found this cleaner.</p>\n<pre><code>Date start = new Date();\n\n//Waiting for 10 seconds\nThread.sleep(10000);\n\nDate end = new Date();\nlong diff = end.getTime() - start.getTime();\nString TimeTaken = String.format(&quot;[%s] hours : [%s] mins : [%s] secs&quot;,\n                                 Long.toString(TimeUnit.MILLISECONDS.toHours(diff)),\n                                 TimeUnit.MILLISECONDS.toMinutes(diff),\n                                 TimeUnit.MILLISECONDS.toSeconds(diff));\nSystem.out.println(String.format(&quot;Time taken %s&quot;, TimeTaken));\n</code></pre>\n<h3>Output</h3>\n<pre><code>Time taken [0] hours : [0] mins : [10] secs\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13313741,"reputation":805,"user_id":9610893,"display_name":"Arun"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1675720368,"creation_date":1624471699,"answer_id":68105099,"question_id":4927856,"body_markdown":"This can be easily done using Java 8 LocalTime;\r\n```\r\nString time1 = &quot;16:00:00&quot;;\r\nString time2 = &quot;19:00:00&quot;;\r\n\r\nlong seconds = Duration.between(LocalTime.parse(time1), LocalTime.parse(time2)).getSeconds()\r\n```\r\n[Duration](https://docs.oracle.com/javase/8/docs/api/java/time/Duration.html) also supports toMillis(), toMinutes() which can be used in place of getSeconds() to get milliseconds or minutes","title":"How can I calculate a time difference in Java?","body":"<p>This can be easily done using Java 8 LocalTime;</p>\n<pre><code>String time1 = &quot;16:00:00&quot;;\nString time2 = &quot;19:00:00&quot;;\n\nlong seconds = Duration.between(LocalTime.parse(time1), LocalTime.parse(time2)).getSeconds()\n</code></pre>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Duration.html\" rel=\"nofollow noreferrer\">Duration</a> also supports toMillis(), toMinutes() which can be used in place of getSeconds() to get milliseconds or minutes</p>\n"},{"tags":[],"owner":{"account_id":153244,"reputation":12386,"user_id":368364,"accept_rate":96,"display_name":"RBA"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653478306,"creation_date":1653478306,"answer_id":72376845,"question_id":4927856,"body_markdown":"using Instant\r\n\r\n            Instant start = Instant.parse(&quot;2017-10-03T10:15:30.00Z&quot;);\r\n            Instant end = Instant.parse(&quot;2017-10-04T11:35:31.00Z&quot;);\r\n    \r\n            long duration = Duration.between(start, end).toMillis();\r\n            long minutes = TimeUnit.MILLISECONDS.toMinutes(duration)*60;\r\n            String time = String.format(&quot;%02d hours, %02d min, %02d sec&quot;,\r\n                    TimeUnit.MILLISECONDS.toHours(duration),\r\n                    TimeUnit.MILLISECONDS.toMinutes(duration) -  TimeUnit.MILLISECONDS.toHours(duration) * 60,\r\n                    TimeUnit.MILLISECONDS.toSeconds(duration) - minutes);\r\n                           ;\r\n            System.out.println(&quot;time = &quot; + time);","title":"How can I calculate a time difference in Java?","body":"<p>using Instant</p>\n<pre><code>        Instant start = Instant.parse(&quot;2017-10-03T10:15:30.00Z&quot;);\n        Instant end = Instant.parse(&quot;2017-10-04T11:35:31.00Z&quot;);\n\n        long duration = Duration.between(start, end).toMillis();\n        long minutes = TimeUnit.MILLISECONDS.toMinutes(duration)*60;\n        String time = String.format(&quot;%02d hours, %02d min, %02d sec&quot;,\n                TimeUnit.MILLISECONDS.toHours(duration),\n                TimeUnit.MILLISECONDS.toMinutes(duration) -  TimeUnit.MILLISECONDS.toHours(duration) * 60,\n                TimeUnit.MILLISECONDS.toSeconds(duration) - minutes);\n                       ;\n        System.out.println(&quot;time = &quot; + time);\n</code></pre>\n"}],"owner":{"account_id":300265,"reputation":1341,"user_id":607304,"display_name":"user607304"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":375748,"favorite_count":0,"down_vote_count":1,"up_vote_count":134,"accepted_answer_id":4927884,"answer_count":19,"score":133,"last_activity_date":1675720368,"creation_date":1297120797,"question_id":4927856,"body_markdown":"I want to subtract two time periods say 16:00:00 from 19:00:00. Is there any Java function for this? The results can be in milliseconds, seconds, or minutes.\r\n\r\n\r\n","title":"How can I calculate a time difference in Java?","body":"<p>I want to subtract two time periods say 16:00:00 from 19:00:00. Is there any Java function for this? The results can be in milliseconds, seconds, or minutes.</p>\n"},{"tags":["java","android"],"owner":{"account_id":14302342,"reputation":83,"user_id":10331370,"display_name":"Kmaangaty"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675720067,"creation_date":1675720067,"question_id":75366912,"body_markdown":"I have application that is send audio track to another client by server this metho is create a buffer from microphone and sent to webSocket in the backend\r\nI want to reverse the method to play the audio in the other client phone\r\nBackend is django and client side is android all i need is a method to convert bytes to audio stream in the other client side something like a phonecall but only one side is streaming audio\r\n\r\nmethod owner : https://blog.canopas.com/android-send-live-audio-stream-from-client-to-server-using-websocket-and-okhttp-client-ecc9f28118d9\r\n\r\n```\r\n\r\n\r\nimport android.Manifest\r\nimport android.content.pm.PackageManager\r\nimport android.media.AudioFormat\r\nimport android.media.AudioRecord\r\nimport android.media.MediaRecorder\r\nimport android.os.Bundle\r\nimport androidx.appcompat.app.AppCompatActivity\r\nimport androidx.core.app.ActivityCompat\r\nimport kotlinx.coroutines.GlobalScope\r\nimport kotlinx.coroutines.launch\r\nimport okhttp3.*\r\nimport okio.ByteString.Companion.toByteString\r\nimport java.util.concurrent.TimeUnit\r\n\r\n\r\nprivate const val RECORDER_SAMPLERATE = 44100\r\nprivate val RECORDER_CHANNELS: Int = AudioFormat.CHANNEL_IN_STEREO\r\nprivate val RECORDER_AUDIO_ENCODING: Int = AudioFormat.ENCODING_PCM_16BIT\r\nprivate var webSocket: WebSocket? = null\r\n\r\n\r\nprivate var audioRecord: AudioRecord? = null\r\n\r\nval BUFFER_SIZE_RECORDING = AudioRecord.getMinBufferSize(\r\n    RECORDER_SAMPLERATE,\r\n    RECORDER_CHANNELS,\r\n    RECORDER_AUDIO_ENCODING\r\n) * 4\r\n\r\n\r\n\r\nvar client: OkHttpClient? = null\r\nvar request: Request = Request.Builder().url(&quot;ws://192.168.1.3:8000/ws/chat/15/&quot;).build()\r\n\r\nclass SoundDjango : AppCompatActivity() {\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.activity_sound_django)\r\n        client = OkHttpClient.Builder()\r\n            .connectTimeout(30, TimeUnit.SECONDS)\r\n            .readTimeout(30, TimeUnit.SECONDS)\r\n            .build()\r\n\r\n        if (ActivityCompat.checkSelfPermission(\r\n                this,\r\n                Manifest.permission.RECORD_AUDIO\r\n            ) != PackageManager.PERMISSION_GRANTED\r\n        ) {\r\n            return\r\n        }\r\n        audioRecord = AudioRecord(\r\n            MediaRecorder.AudioSource.MIC,\r\n            RECORDER_SAMPLERATE, RECORDER_CHANNELS,\r\n            RECORDER_AUDIO_ENCODING, BUFFER_SIZE_RECORDING\r\n        )\r\n\r\n        audioRecord?.startRecording()\r\n        initWebSocket()\r\n        record()\r\n    }\r\n\r\n    fun initWebSocket() {\r\n        webSocket = client?.newWebSocket(request, object : WebSocketListener() {\r\n            override fun onOpen(webSocket: WebSocket, response: Response) {\r\n                super.onOpen(webSocket, response)\r\n            }\r\n\r\n            override fun onMessage(webSocket: WebSocket, text: String) {\r\n                super.onMessage(webSocket, text)\r\n            }\r\n\r\n            override fun onFailure(webSocket: WebSocket, t: Throwable, response: Response?) {\r\n                super.onFailure(webSocket, t, response)\r\n            }\r\n        })\r\n    }\r\n\r\n    private fun record()\r\n    {\r\n        val buf = ByteArray(BUFFER_SIZE_RECORDING)\r\n\r\n        GlobalScope.launch {\r\n            try {\r\n                do {\r\n                    val byteRead = audioRecord?.read(buf,0, buf.size)?: break\r\n                    if (byteRead &lt; -1)\r\n                        break\r\n                    var toSend = buf.toByteString(0, byteRead)\r\n                    webSocket?.send(buf.toByteString(0, byteRead))\r\n                    webSocket?.send(&quot;{\\&quot;message\\&quot;: \\&quot;&quot; + toSend + &quot;\\&quot;}&quot;)\r\n                } while (true)\r\n            } catch (e: Exception) {\r\n                stop()\r\n            }\r\n        }\r\n    }\r\n\r\n    fun stop() {\r\n        webSocket?.cancel()\r\n        audioRecord?.stop()\r\n        audioRecord?.release()\r\n        audioRecord = null\r\n    }\r\n\r\n}\r\n```\r\n\r\nOutput in backend like this :\r\n\r\n```\r\n{&quot;message&quot;: &quot;[size=28416 hex=04001c00fdff130002001c0005001b0000001f00ffff1800fbff1700fcff2200ffff280000002d00fcff2400f4ff1c00f6ff1400f7ff1900f5ff1f00fbff1d00…]&quot;}\r\n{&quot;message&quot;: &quot;[size=28416 hex=e5ffdfffe4ffd2ffe4ffd8ffeaffe4fff0ffe5ffebffe3ffe9ffdbffe3ffcdffe8ffccfff5ffd9fff5ffe1ffeaffe8ffe7ffe1ffe9ffd7fff2ffd2fff2ffdbff…]&quot;}\r\n{&quot;message&quot;: &quot;[size=28416 hex=12001a00100015000a001f000b001f0009002200080018000d001a0008001b000b0018000e002600110027000c002c000600220009001c000f00250006003000…]&quot;}\r\n{&quot;message&quot;: &quot;[size=28416 hex=faff0d00fcff0b00f8ff0e00f9ff1000f9ff0e00faff0e00f8ff1500f6ff0d00f4ff0f00f1ff0f00f2ff0a00f3ff0800f0ff1100f5ff1100f7ff1200f8ff1400…]&quot;}\r\n","title":"AudioTrack in android","body":"<p>I have application that is send audio track to another client by server this metho is create a buffer from microphone and sent to webSocket in the backend\nI want to reverse the method to play the audio in the other client phone\nBackend is django and client side is android all i need is a method to convert bytes to audio stream in the other client side something like a phonecall but only one side is streaming audio</p>\n<p>method owner : <a href=\"https://blog.canopas.com/android-send-live-audio-stream-from-client-to-server-using-websocket-and-okhttp-client-ecc9f28118d9\" rel=\"nofollow noreferrer\">https://blog.canopas.com/android-send-live-audio-stream-from-client-to-server-using-websocket-and-okhttp-client-ecc9f28118d9</a></p>\n<pre><code>\n\nimport android.Manifest\nimport android.content.pm.PackageManager\nimport android.media.AudioFormat\nimport android.media.AudioRecord\nimport android.media.MediaRecorder\nimport android.os.Bundle\nimport androidx.appcompat.app.AppCompatActivity\nimport androidx.core.app.ActivityCompat\nimport kotlinx.coroutines.GlobalScope\nimport kotlinx.coroutines.launch\nimport okhttp3.*\nimport okio.ByteString.Companion.toByteString\nimport java.util.concurrent.TimeUnit\n\n\nprivate const val RECORDER_SAMPLERATE = 44100\nprivate val RECORDER_CHANNELS: Int = AudioFormat.CHANNEL_IN_STEREO\nprivate val RECORDER_AUDIO_ENCODING: Int = AudioFormat.ENCODING_PCM_16BIT\nprivate var webSocket: WebSocket? = null\n\n\nprivate var audioRecord: AudioRecord? = null\n\nval BUFFER_SIZE_RECORDING = AudioRecord.getMinBufferSize(\n    RECORDER_SAMPLERATE,\n    RECORDER_CHANNELS,\n    RECORDER_AUDIO_ENCODING\n) * 4\n\n\n\nvar client: OkHttpClient? = null\nvar request: Request = Request.Builder().url(&quot;ws://192.168.1.3:8000/ws/chat/15/&quot;).build()\n\nclass SoundDjango : AppCompatActivity() {\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_sound_django)\n        client = OkHttpClient.Builder()\n            .connectTimeout(30, TimeUnit.SECONDS)\n            .readTimeout(30, TimeUnit.SECONDS)\n            .build()\n\n        if (ActivityCompat.checkSelfPermission(\n                this,\n                Manifest.permission.RECORD_AUDIO\n            ) != PackageManager.PERMISSION_GRANTED\n        ) {\n            return\n        }\n        audioRecord = AudioRecord(\n            MediaRecorder.AudioSource.MIC,\n            RECORDER_SAMPLERATE, RECORDER_CHANNELS,\n            RECORDER_AUDIO_ENCODING, BUFFER_SIZE_RECORDING\n        )\n\n        audioRecord?.startRecording()\n        initWebSocket()\n        record()\n    }\n\n    fun initWebSocket() {\n        webSocket = client?.newWebSocket(request, object : WebSocketListener() {\n            override fun onOpen(webSocket: WebSocket, response: Response) {\n                super.onOpen(webSocket, response)\n            }\n\n            override fun onMessage(webSocket: WebSocket, text: String) {\n                super.onMessage(webSocket, text)\n            }\n\n            override fun onFailure(webSocket: WebSocket, t: Throwable, response: Response?) {\n                super.onFailure(webSocket, t, response)\n            }\n        })\n    }\n\n    private fun record()\n    {\n        val buf = ByteArray(BUFFER_SIZE_RECORDING)\n\n        GlobalScope.launch {\n            try {\n                do {\n                    val byteRead = audioRecord?.read(buf,0, buf.size)?: break\n                    if (byteRead &lt; -1)\n                        break\n                    var toSend = buf.toByteString(0, byteRead)\n                    webSocket?.send(buf.toByteString(0, byteRead))\n                    webSocket?.send(&quot;{\\&quot;message\\&quot;: \\&quot;&quot; + toSend + &quot;\\&quot;}&quot;)\n                } while (true)\n            } catch (e: Exception) {\n                stop()\n            }\n        }\n    }\n\n    fun stop() {\n        webSocket?.cancel()\n        audioRecord?.stop()\n        audioRecord?.release()\n        audioRecord = null\n    }\n\n}\n</code></pre>\n<p>Output in backend like this :</p>\n<pre><code>{&quot;message&quot;: &quot;[size=28416 hex=04001c00fdff130002001c0005001b0000001f00ffff1800fbff1700fcff2200ffff280000002d00fcff2400f4ff1c00f6ff1400f7ff1900f5ff1f00fbff1d00…]&quot;}\n{&quot;message&quot;: &quot;[size=28416 hex=e5ffdfffe4ffd2ffe4ffd8ffeaffe4fff0ffe5ffebffe3ffe9ffdbffe3ffcdffe8ffccfff5ffd9fff5ffe1ffeaffe8ffe7ffe1ffe9ffd7fff2ffd2fff2ffdbff…]&quot;}\n{&quot;message&quot;: &quot;[size=28416 hex=12001a00100015000a001f000b001f0009002200080018000d001a0008001b000b0018000e002600110027000c002c000600220009001c000f00250006003000…]&quot;}\n{&quot;message&quot;: &quot;[size=28416 hex=faff0d00fcff0b00f8ff0e00f9ff1000f9ff0e00faff0e00f8ff1500f6ff0d00f4ff0f00f1ff0f00f2ff0a00f3ff0800f0ff1100f5ff1100f7ff1200f8ff1400…]&quot;}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","rest"],"comments":[{"owner":{"account_id":5511506,"reputation":207,"user_id":4377644,"display_name":"Pran Sukh"},"score":0,"creation_date":1675712320,"post_id":75365798,"comment_id":132984084,"body_markdown":"i can provide the pom.xml, please let me know.","body":"i can provide the pom.xml, please let me know."},{"owner":{"account_id":4996428,"reputation":362,"user_id":4016860,"accept_rate":75,"display_name":"Popeye"},"score":0,"creation_date":1675712337,"post_id":75365798,"comment_id":132984089,"body_markdown":"In what package is your main? If your Main function is not in the root, then add component scan","body":"In what package is your main? If your Main function is not in the root, then add component scan"},{"owner":{"account_id":5511506,"reputation":207,"user_id":4377644,"display_name":"Pran Sukh"},"score":0,"creation_date":1675712409,"post_id":75365798,"comment_id":132984106,"body_markdown":"Main class is in package com.hitman.prep.Productservice; and controller is in package com.hitman.prep.controllers;","body":"Main class is in package com.hitman.prep.Productservice; and controller is in package com.hitman.prep.controllers;"},{"owner":{"account_id":4996428,"reputation":362,"user_id":4016860,"accept_rate":75,"display_name":"Popeye"},"score":4,"creation_date":1675712414,"post_id":75365798,"comment_id":132984110,"body_markdown":"Just noticed, better is move every other package under `com.hitman.prep.Productservice`, eg. move `com.hitman.prep.controllers` to `com.hitman.prep.Productservice.controllers;`","body":"Just noticed, better is move every other package under <code>com.hitman.prep.Productservice</code>, eg. move <code>com.hitman.prep.controllers</code> to <code>com.hitman.prep.Productservice.controllers;</code>"},{"owner":{"account_id":5511506,"reputation":207,"user_id":4377644,"display_name":"Pran Sukh"},"score":0,"creation_date":1675713469,"post_id":75365798,"comment_id":132984379,"body_markdown":"@ Popeye, your comment was helpful, it worked. :)","body":"@ Popeye, your comment was helpful, it worked. :)"},{"owner":{"account_id":4996428,"reputation":362,"user_id":4016860,"accept_rate":75,"display_name":"Popeye"},"score":4,"creation_date":1675713957,"post_id":75365798,"comment_id":132984514,"body_markdown":"also, lowercase the package names","body":"also, lowercase the package names"}],"answers":[{"tags":[],"owner":{"account_id":18618594,"reputation":158,"user_id":13569349,"display_name":"Mateus Nogueira"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675715643,"creation_date":1675715643,"answer_id":75366297,"question_id":75365798,"body_markdown":"have you changed HTTP request method on postman?\r\n\r\nyou also can try use one endpoint for each request method for example:\r\n\r\n    @PostMapping(value=&quot;/add&quot;)\r\n\r\nand your `POST` request end point should be:\r\n\r\nhttp://localhost:8080/api/product/add\r\n\r\n","title":"SpringBoot 2.7.9 Restcontoller is not visible and gives 404","body":"<p>have you changed HTTP request method on postman?</p>\n<p>you also can try use one endpoint for each request method for example:</p>\n<pre><code>@PostMapping(value=&quot;/add&quot;)\n</code></pre>\n<p>and your <code>POST</code> request end point should be:</p>\n<p>http://localhost:8080/api/product/add</p>\n"}],"owner":{"account_id":5511506,"reputation":207,"user_id":4377644,"display_name":"Pran Sukh"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":222,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675719568,"creation_date":1675712223,"question_id":75365798,"body_markdown":"Postman is not able to call the rest controller defined in controller package and gets 404 in response even after the springboot application is started and server is up at port 8080.\r\n\r\nhttp://localhost:8080/api/product gives 404 from postman.\r\ni tried 127.0.0.1 and network IP address well but no success.\r\n\r\n[![This is controller defined in separate package and not being called from postman][1]][1]\r\n\r\n\r\n[![Class with main method in separate package][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/L27b4.png\r\n  [2]: https://i.stack.imgur.com/71J6n.png","title":"SpringBoot 2.7.9 Restcontoller is not visible and gives 404","body":"<p>Postman is not able to call the rest controller defined in controller package and gets 404 in response even after the springboot application is started and server is up at port 8080.</p>\n<p>http://localhost:8080/api/product gives 404 from postman.\ni tried 127.0.0.1 and network IP address well but no success.</p>\n<p><a href=\"https://i.stack.imgur.com/L27b4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/L27b4.png\" alt=\"This is controller defined in separate package and not being called from postman\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/71J6n.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/71J6n.png\" alt=\"Class with main method in separate package\" /></a></p>\n"},{"tags":["java","postgresql","spring-boot","jpa"],"comments":[{"owner":{"display_name":"user330315"},"score":3,"creation_date":1675721390,"post_id":75366839,"comment_id":132986524,"body_markdown":"You need to use a sorted map. But in general the order of keys in a JSON value has no meaning. It&#39;s a bug waiting to happen if you rely on that order","body":"You need to use a sorted map. But in general the order of keys in a JSON value has no meaning. It&#39;s a bug waiting to happen if you rely on that order"},{"owner":{"account_id":222943,"reputation":1665,"user_id":481852,"accept_rate":100,"display_name":"gfelisberto"},"score":0,"creation_date":1675724449,"post_id":75366839,"comment_id":132987144,"body_markdown":"You can try to create a Pojo for the response and annotate the fields with JsonProperty ( https://stackoverflow.com/questions/72993361/spring-boot-customize-order-of-properties-in-response )","body":"You can try to create a Pojo for the response and annotate the fields with JsonProperty ( <a href=\"https://stackoverflow.com/questions/72993361/spring-boot-customize-order-of-properties-in-response\" title=\"spring boot customize order of properties in response\">stackoverflow.com/questions/72993361/&hellip;</a> )"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1675740562,"post_id":75366839,"comment_id":132989386,"body_markdown":"I don&#39;t know if this is useful for you or not, but Java offers a [LinkedHashMap](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/LinkedHashMap.html)","body":"I don&#39;t know if this is useful for you or not, but Java offers a <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/LinkedHashMap.html\" rel=\"nofollow noreferrer\">LinkedHashMap</a>"}],"owner":{"account_id":24517115,"reputation":93,"user_id":18430717,"display_name":"Carlos Daniel Ospina Salazar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675719497,"creation_date":1675719497,"question_id":75366839,"body_markdown":"I am making a query to a Postgresql database using java (spring-boot), but when storing the data in a map the order of the elements is not conversing, and it is very important that they have the same order to be able to generate a report.\r\n\r\nThis is the query that returns the information as a json\r\n\r\n\r\n```\r\n@Query(value = &quot;select f.entity_id as \\&quot;NIT\\&quot;, f.subpoena_number as \\&quot;N&#250;mero Comparendo\\&quot;, f.plate as \\&quot;Placa\\&quot;, f.code as \\&quot;C&#243;digo Infracci&#243;n\\&quot;, f.infringement_date \\&quot;Fecha Infracci&#243;n\\&quot;, f.amount as \\&quot;Valor\\&quot;, f.city as \\&quot;Ciudad\\&quot;, f.address as \\&quot;Direcci&#243;n\\&quot;, f.upload_date as \\&quot;Fecha del cargue\\&quot;, f.notification_status as \\&quot;Estado Notificaci&#243;n\\&quot;, f.process_status as \\&quot;Estado Proceso\\&quot;, f.source_data as \\&quot;Origen\\&quot;, case when f.paying = true then &#39;PAGADO&#39; else &#39;SIN PAGAR&#39; end as \\&quot;Estado Pago\\&quot;, f.payment_date as \\&quot;Fecha Pago\\&quot; from renting.fine f inner join renting.company c on c.nit = f.entity_id and c.companyparent_id = f.companyparent inner join renting.notification n on f.id = n.fine_id where f.companyparent = :companyParent and f.upload_date &gt; :lastUpdate and f.upload_date &lt; :endUpdate &quot;, nativeQuery = true)\r\nList&lt;Map&lt;String , Object&gt;&gt; generateComparingReport(@Param(&quot;lastUpdate&quot;) LocalDateTime lastUpdate,\r\n                               @Param(&quot;endUpdate&quot;) LocalDateTime endUpdate,\r\n                                @Param(&quot;companyParent&quot;) String companyParent);\r\n```\r\n\r\nHow can I order the elements as I need them while preserving the json data type? I tell you that if I use a List&lt;String[]&gt; it respects the order, but even so I require that it be a json","title":"How can I reorder the elements of a map in java?","body":"<p>I am making a query to a Postgresql database using java (spring-boot), but when storing the data in a map the order of the elements is not conversing, and it is very important that they have the same order to be able to generate a report.</p>\n<p>This is the query that returns the information as a json</p>\n<pre><code>@Query(value = &quot;select f.entity_id as \\&quot;NIT\\&quot;, f.subpoena_number as \\&quot;Número Comparendo\\&quot;, f.plate as \\&quot;Placa\\&quot;, f.code as \\&quot;Código Infracción\\&quot;, f.infringement_date \\&quot;Fecha Infracción\\&quot;, f.amount as \\&quot;Valor\\&quot;, f.city as \\&quot;Ciudad\\&quot;, f.address as \\&quot;Dirección\\&quot;, f.upload_date as \\&quot;Fecha del cargue\\&quot;, f.notification_status as \\&quot;Estado Notificación\\&quot;, f.process_status as \\&quot;Estado Proceso\\&quot;, f.source_data as \\&quot;Origen\\&quot;, case when f.paying = true then 'PAGADO' else 'SIN PAGAR' end as \\&quot;Estado Pago\\&quot;, f.payment_date as \\&quot;Fecha Pago\\&quot; from renting.fine f inner join renting.company c on c.nit = f.entity_id and c.companyparent_id = f.companyparent inner join renting.notification n on f.id = n.fine_id where f.companyparent = :companyParent and f.upload_date &gt; :lastUpdate and f.upload_date &lt; :endUpdate &quot;, nativeQuery = true)\nList&lt;Map&lt;String , Object&gt;&gt; generateComparingReport(@Param(&quot;lastUpdate&quot;) LocalDateTime lastUpdate,\n                               @Param(&quot;endUpdate&quot;) LocalDateTime endUpdate,\n                                @Param(&quot;companyParent&quot;) String companyParent);\n</code></pre>\n<p>How can I order the elements as I need them while preserving the json data type? I tell you that if I use a List&lt;String[]&gt; it respects the order, but even so I require that it be a json</p>\n"},{"tags":["java","websocket","stock","finnhub"],"comments":[{"owner":{"account_id":4685332,"reputation":1,"user_id":3792883,"display_name":"user3792883"},"score":0,"creation_date":1675719785,"post_id":75366834,"comment_id":132986140,"body_markdown":"Ok i solved it! The URI (endpoint) was wrong!\nThe correct endpoint is: wss://ws.finnhub.io/?token=","body":"Ok i solved it! The URI (endpoint) was wrong! The correct endpoint is: wss://ws.finnhub.io/?token="}],"owner":{"account_id":4685332,"reputation":1,"user_id":3792883,"display_name":"user3792883"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":197,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675719463,"creation_date":1675719463,"question_id":75366834,"body_markdown":"I am currently trying to get the finnhub websocket to run via Java. The connection is also established, but I immediately get a closed message from the connection before I even get a message. Here my code:\r\n\r\n```\r\nimport java.io.IOException;\r\nimport java.net.URI;\r\nimport java.util.concurrent.CountDownLatch;\r\n\r\nimport jakarta.websocket.ClientEndpoint;\r\nimport jakarta.websocket.ContainerProvider;\r\nimport jakarta.websocket.OnClose;\r\nimport jakarta.websocket.OnMessage;\r\nimport jakarta.websocket.OnOpen;\r\nimport jakarta.websocket.Session;\r\nimport jakarta.websocket.WebSocketContainer;\r\n\r\n@ClientEndpoint\r\npublic class FinnhubQuoteWebsocket {\r\n\tprivate static CountDownLatch latch;\r\n\tprivate static final String API_KEY = &quot;YOUR_KEY&quot;;\r\n\r\n\tpublic static void main(String[] args) throws Exception {\r\n\t\tString endpoint = &quot;wss://finnhub.io/ws?token=&quot;\r\n\t\t                  + API_KEY;\r\n\t\tlatch = new CountDownLatch(1);\r\n\t\tURI uri = new URI(endpoint);\r\n\t\tFinnhubQuoteWebsocket client = new FinnhubQuoteWebsocket();\r\n\t\tWebSocketContainer container = ContainerProvider.getWebSocketContainer();\r\n\t\tcontainer.connectToServer(client,\r\n\t\t                          uri);\r\n\t\tlatch.await();\r\n\t}\r\n\r\n\t@OnClose\r\n\tpublic void onClose(Session session) {\r\n\t\tSystem.out.println(&quot;###Close###&quot;);\r\n\t}\r\n\r\n\t@OnMessage\r\n\tpublic void onMessage(Session session,\r\n\t                      String message) {\r\n\t\tSystem.out.println(&quot;Received quote message: &quot;\r\n\t\t                   + message);\r\n\t\tlatch.countDown();\r\n\t}\r\n\r\n\t@OnOpen\r\n\tpublic void onOpen(Session session) throws IOException {\r\n\t\tString subscribeSymbolAAPL = &quot;{\\&quot;type\\&quot;:\\&quot;subscribe\\&quot;,\\&quot;symbol\\&quot;:\\&quot;AAPL\\&quot;}&quot;;\r\n\t\tSystem.out.println(&quot;Connected to websocket: &quot;\r\n\t\t                   + session.getBasicRemote());\r\n\t\tSystem.out.println(&quot;Json: &quot;\r\n\t\t                   + subscribeSymbolAAPL);\r\n\t\tsession.getBasicRemote().sendText(subscribeSymbolAAPL);\r\n\t}\r\n}\r\n\r\n```\r\nConsolen Output:\r\nConnected to websocket: Wrapped: Basic\r\nJson: {&quot;type&quot;:&quot;subscribe&quot;,&quot;symbol&quot;:&quot;AAPL&quot;}\r\n###Close###\r\n\r\nI do not know what I&#39;m doing wrong. Presumably the connection has to be open longer for a message to come?\r\n\r\n\r\nI tried various examples from Google and ChatGpt. But always the same problem that the connection is immediately closed again.\r\nI hope someone can tell me what I&#39;m doing wrong.","title":"Websocket Client Java finnhub always closed","body":"<p>I am currently trying to get the finnhub websocket to run via Java. The connection is also established, but I immediately get a closed message from the connection before I even get a message. Here my code:</p>\n<pre><code>import java.io.IOException;\nimport java.net.URI;\nimport java.util.concurrent.CountDownLatch;\n\nimport jakarta.websocket.ClientEndpoint;\nimport jakarta.websocket.ContainerProvider;\nimport jakarta.websocket.OnClose;\nimport jakarta.websocket.OnMessage;\nimport jakarta.websocket.OnOpen;\nimport jakarta.websocket.Session;\nimport jakarta.websocket.WebSocketContainer;\n\n@ClientEndpoint\npublic class FinnhubQuoteWebsocket {\n    private static CountDownLatch latch;\n    private static final String API_KEY = &quot;YOUR_KEY&quot;;\n\n    public static void main(String[] args) throws Exception {\n        String endpoint = &quot;wss://finnhub.io/ws?token=&quot;\n                          + API_KEY;\n        latch = new CountDownLatch(1);\n        URI uri = new URI(endpoint);\n        FinnhubQuoteWebsocket client = new FinnhubQuoteWebsocket();\n        WebSocketContainer container = ContainerProvider.getWebSocketContainer();\n        container.connectToServer(client,\n                                  uri);\n        latch.await();\n    }\n\n    @OnClose\n    public void onClose(Session session) {\n        System.out.println(&quot;###Close###&quot;);\n    }\n\n    @OnMessage\n    public void onMessage(Session session,\n                          String message) {\n        System.out.println(&quot;Received quote message: &quot;\n                           + message);\n        latch.countDown();\n    }\n\n    @OnOpen\n    public void onOpen(Session session) throws IOException {\n        String subscribeSymbolAAPL = &quot;{\\&quot;type\\&quot;:\\&quot;subscribe\\&quot;,\\&quot;symbol\\&quot;:\\&quot;AAPL\\&quot;}&quot;;\n        System.out.println(&quot;Connected to websocket: &quot;\n                           + session.getBasicRemote());\n        System.out.println(&quot;Json: &quot;\n                           + subscribeSymbolAAPL);\n        session.getBasicRemote().sendText(subscribeSymbolAAPL);\n    }\n}\n\n</code></pre>\n<p>Consolen Output:\nConnected to websocket: Wrapped: Basic\nJson: {&quot;type&quot;:&quot;subscribe&quot;,&quot;symbol&quot;:&quot;AAPL&quot;}\n###Close###</p>\n<p>I do not know what I'm doing wrong. Presumably the connection has to be open longer for a message to come?</p>\n<p>I tried various examples from Google and ChatGpt. But always the same problem that the connection is immediately closed again.\nI hope someone can tell me what I'm doing wrong.</p>\n"},{"tags":["java","grails"],"answers":[{"tags":[],"owner":{"account_id":422503,"reputation":12328,"user_id":801325,"accept_rate":83,"display_name":"Michael J. Lee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1559675673,"creation_date":1559675673,"answer_id":56450010,"question_id":56449725,"body_markdown":"What plugin are you using and is it compatible with the version of grails your using? You can also try a `grails clean` and restart.","title":"Grails throws ConverterException from Marshaller after using grails plugin","body":"<p>What plugin are you using and is it compatible with the version of grails your using? You can also try a <code>grails clean</code> and restart.</p>\n"},{"tags":[],"owner":{"account_id":12143603,"reputation":5743,"user_id":8866606,"display_name":"Stefan Becker"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1559730641,"creation_date":1559730641,"answer_id":56458737,"question_id":56449725,"body_markdown":"Does your plugin use `new RestBuilder()` from `org.grails:grails-datastore-rest-client` plugin? Then you are most likely triggering [this bug in Grails](https://github.com/grails/grails-data-mapping/issues/864). I just tripped over that problem again in our code :-(\r\n\r\nWorkaround: you&#39;ll have to rewrite your plugin code to look like this:\r\n\r\n&lt;!-- language: lang-groovy --&gt;\r\n\r\n    RestBuilder rest = new RestBuilder(\r\n            ...\r\n            // workaround for https://github.com/grails/grails-data-mapping/issues/864\r\n            registerConverters: false\r\n        )\r\n\r\n**CAVEAT** if your code relies on the converters being available for the body content, then you&#39;ll have to rewrite your code to handle the conversion manually. I.e. from\r\n\r\n&lt;!-- language: lang-groovy --&gt;\r\n\r\n    new RestBuilder(...)\r\n        .put(...) {\r\n            ...\r\n            body object as JSON\r\n        }\r\n\r\nto\r\n\r\n&lt;!-- language: lang-groovy --&gt;\r\n\r\n    String json = (object as JSON).toString()\r\n    new RestBuilder(\r\n            ...\r\n            // workaround for https://github.com/grails/grails-data-mapping/issues/864\r\n            registerConverters: false\r\n        )\r\n        .put(...) {\r\n            ...\r\n            body json\r\n        }\r\n","title":"Grails throws ConverterException from Marshaller after using grails plugin","body":"<p>Does your plugin use <code>new RestBuilder()</code> from <code>org.grails:grails-datastore-rest-client</code> plugin? Then you are most likely triggering <a href=\"https://github.com/grails/grails-data-mapping/issues/864\" rel=\"nofollow noreferrer\">this bug in Grails</a>. I just tripped over that problem again in our code :-(</p>\n\n<p>Workaround: you'll have to rewrite your plugin code to look like this:</p>\n\n<pre class=\"lang-groovy prettyprint-override\"><code>RestBuilder rest = new RestBuilder(\n        ...\n        // workaround for https://github.com/grails/grails-data-mapping/issues/864\n        registerConverters: false\n    )\n</code></pre>\n\n<p><strong>CAVEAT</strong> if your code relies on the converters being available for the body content, then you'll have to rewrite your code to handle the conversion manually. I.e. from</p>\n\n<pre class=\"lang-groovy prettyprint-override\"><code>new RestBuilder(...)\n    .put(...) {\n        ...\n        body object as JSON\n    }\n</code></pre>\n\n<p>to</p>\n\n<pre class=\"lang-groovy prettyprint-override\"><code>String json = (object as JSON).toString()\nnew RestBuilder(\n        ...\n        // workaround for https://github.com/grails/grails-data-mapping/issues/864\n        registerConverters: false\n    )\n    .put(...) {\n        ...\n        body json\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8229771,"reputation":2191,"user_id":6190803,"accept_rate":50,"display_name":"Dylan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675718559,"creation_date":1675718559,"answer_id":75366723,"question_id":56449725,"body_markdown":"Solved by changing `new RestBuilder()` to use `new RestBuilder(registerConverters: false)` and this appears to fix the issue for us. ","title":"Grails throws ConverterException from Marshaller after using grails plugin","body":"<p>Solved by changing <code>new RestBuilder()</code> to use <code>new RestBuilder(registerConverters: false)</code> and this appears to fix the issue for us.</p>\n"}],"owner":{"account_id":4799758,"reputation":1278,"user_id":3876692,"display_name":"sandeep rajbhandari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1026,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":56458737,"answer_count":3,"score":3,"last_activity_date":1675718559,"creation_date":1559674369,"question_id":56449725,"body_markdown":"I have Marshaller in my grails application which was working fine but after I integrated plugin in my application it is throwing error.Error is as follows:\r\n\r\n&gt; Caused by: org.grails.web.converters.exceptions.ConverterException:\r\n&gt; Error converting Bean with class\r\n&gt; org.hibernate.persister.entity.SingleTableEntityPersister \tat\r\n&gt; org.grails.web.converters.marshaller.json.GenericJavaBeanMarshaller.marshalObject(GenericJavaBeanMarshaller.java:84)\r\n&gt; \tat\r\n&gt; org.grails.web.converters.marshaller.json.GenericJavaBeanMarshaller.marshalObject(GenericJavaBeanMarshaller.java:39)\r\n&gt; \tat grails.converters.JSON.value(JSON.java:184) \tat\r\n&gt; grails.converters.JSON.convertAnother(JSON.java:144) \tat\r\n&gt; org.grails.web.converters.marshaller.json.MapMarshaller.marshalObject(MapMarshaller.java:45)\r\n&gt; \tat\r\n&gt; org.grails.web.converters.marshaller.json.MapMarshaller.marshalObject(MapMarshaller.java:30)\r\n&gt; \tat grails.converters.JSON.value(JSON.java:184) \tat\r\n&gt; grails.converters.JSON.convertAnother(JSON.java:144) \tat\r\n&gt; org.grails.web.converters.marshaller.json.GenericJavaBeanMarshaller.marshalObject(GenericJavaBeanMarshaller.java:66)\r\n&gt; \tat\r\n&gt; org.grails.web.converters.marshaller.json.GenericJavaBeanMarshaller.marshalObject(GenericJavaBeanMarshaller.java:39)\r\n&gt; \tat grails.converters.JSON.value(JSON.java:184) \tat\r\n&gt; grails.converters.JSON.convertAnother(JSON.java:144) \tat\r\n&gt; org.grails.web.converters.marshaller.json.GenericJavaBeanMarshaller.marshalObject(GenericJavaBeanMarshaller.java:66)\r\n&gt; \tat\r\n&gt; org.grails.web.converters.marshaller.json.GenericJavaBeanMarshaller.marshalObject(GenericJavaBeanMarshaller.java:39)\r\n&gt; \tat grails.converters.JSON.value(JSON.java:184) \tat\r\n&gt; grails.converters.JSON.convertAnother(JSON.java:144) \tat\r\n&gt; org.grails.web.converters.marshaller.json.GenericJavaBeanMarshaller.marshalObject(GenericJavaBeanMarshaller.java:66)\r\n&gt; \tat\r\n&gt; org.grails.web.converters.marshaller.json.GenericJavaBeanMarshaller.marshalObject(GenericJavaBeanMarshaller.java:39)\r\n&gt; \tat grails.converters.JSON.value(JSON.java:184) \tat\r\n&gt; grails.converters.JSON.convertAnother(JSON.java:144) \tat\r\n&gt; org.grails.web.converters.marshaller.json.GroovyBeanMarshaller.marshalObject(GroovyBeanMarshaller.java:67)\r\n&gt; \tat\r\n&gt; org.grails.web.converters.marshaller.json.GroovyBeanMarshaller.marshalObject(GroovyBeanMarshaller.java:39)\r\n&gt; \tat grails.converters.JSON.value(JSON.java:184) \tat\r\n&gt; grails.converters.JSON.convertAnother(JSON.java:144) \tat\r\n&gt; org.grails.web.converters.marshaller.json.MapMarshaller.marshalObject(MapMarshaller.java:45)\r\n&gt; \tat\r\n&gt; org.grails.web.converters.marshaller.json.MapMarshaller.marshalObject(MapMarshaller.java:30)\r\n&gt; \tat grails.converters.JSON.value(JSON.java:184) \tat\r\n&gt; grails.converters.JSON.convertAnother(JSON.java:144) \tat\r\n&gt; org.grails.web.converters.marshaller.json.GroovyBeanMarshaller.marshalObject(GroovyBeanMarshaller.java:67)\r\n&gt; \tat\r\n&gt; org.grails.web.converters.marshaller.json.GroovyBeanMarshaller.marshalObject(GroovyBeanMarshaller.java:39)\r\n&gt; \tat grails.converters.JSON.value(JSON.java:184) \tat\r\n&gt; grails.converters.JSON.convertAnother(JSON.java:144) \tat\r\n&gt; org.grails.web.converters.marshaller.json.GroovyBeanMarshaller.marshalObject(GroovyBeanMarshaller.java:67)\r\n&gt; \tat\r\n&gt; org.grails.web.converters.marshaller.json.GroovyBeanMarshaller.marshalObject(GroovyBeanMarshaller.java:39)\r\n&gt; \tat grails.converters.JSON.value(JSON.java:184) \tat\r\n&gt; grails.converters.JSON.convertAnother(JSON.java:144) \tat\r\n&gt; org.grails.web.converters.marshaller.json.CollectionMarshaller.marshalObject(CollectionMarshaller.java:41)\r\n&gt; \tat\r\n&gt; org.grails.web.converters.marshaller.json.CollectionMarshaller.marshalObject(CollectionMarshaller.java:30)\r\n&gt; \tat grails.converters.JSON.value(JSON.java:184) \tat\r\n&gt; grails.converters.JSON.convertAnother(JSON.java:144) \tat\r\n&gt; org.grails.web.converters.marshaller.json.GroovyBeanMarshaller.marshalObject(GroovyBeanMarshaller.java:67)\r\n&gt; \tat\r\n&gt; org.grails.web.converters.marshaller.json.GroovyBeanMarshaller.marshalObject(GroovyBeanMarshaller.java:39)\r\n&gt; \tat grails.converters.JSON.value(JSON.java:184) \tat\r\n&gt; grails.converters.JSON.convertAnother(JSON.java:144) \tat\r\n&gt; org.grails.web.converters.marshaller.json.CollectionMarshaller.marshalObject(CollectionMarshaller.java:41)\r\n&gt; \tat\r\n&gt; org.grails.web.converters.marshaller.json.CollectionMarshaller.marshalObject(CollectionMarshaller.java:30)\r\n&gt; \tat grails.converters.JSON.value(JSON.java:184) \tat\r\n&gt; grails.converters.JSON.convertAnother(JSON.java:144) \tat\r\n&gt; org.grails.web.converters.marshaller.json.GroovyBeanMarshaller.marshalObject(GroovyBeanMarshaller.java:67)\r\n&gt; \tat\r\n&gt; org.grails.web.converters.marshaller.json.GroovyBeanMarshaller.marshalObject(GroovyBeanMarshaller.java:39)\r\n&gt; \tat grails.converters.JSON.value(JSON.java:184) \tat\r\n&gt; grails.converters.JSON.convertAnother(JSON.java:144) \tat\r\n&gt; org.grails.web.converters.marshaller.json.MapMarshaller.marshalObject(MapMarshaller.java:45)\r\n&gt; \tat\r\n&gt; org.grails.web.converters.marshaller.json.MapMarshaller.marshalObject(MapMarshaller.java:30)\r\n&gt; \tat grails.converters.JSON.value(JSON.java:184) \tat\r\n&gt; grails.converters.JSON.convertAnother(JSON.java:144) \tat\r\n&gt; org.grails.web.converters.marshaller.ClosureObjectMarshaller.marshalObject(ClosureObjectMarshaller.java:61)\r\n&gt; \tat grails.converters.JSON.value(JSON.java:184) \tat\r\n&gt; grails.converters.JSON.convertAnother(JSON.java:144) \tat\r\n&gt; org.grails.web.converters.marshaller.json.CollectionMarshaller.marshalObject(CollectionMarshaller.java:41)\r\n&gt; \tat\r\n&gt; org.grails.web.converters.marshaller.json.CollectionMarshaller.marshalObject(CollectionMarshaller.java:30)\r\n&gt; \tat grails.converters.JSON.value(JSON.java:184) \tat\r\n&gt; grails.converters.JSON.convertAnother(JSON.java:144) \tat\r\n&gt; org.grails.web.converters.marshaller.json.MapMarshaller.marshalObject(MapMarshaller.java:45)\r\n&gt; \tat\r\n&gt; org.grails.web.converters.marshaller.json.MapMarshaller.marshalObject(MapMarshaller.java:30)\r\n&gt; \tat grails.converters.JSON.value(JSON.java:184) \tat\r\n&gt; grails.converters.JSON.render(JSON.java:119) \tat\r\n&gt; grails.converters.JSON.render(JSON.java:132) \tat\r\n&gt; org.grails.compiler.web.converters.RenderConverterTrait$Trait$Helper.render(RenderConverterTrait.groovy:22)\r\n&gt; \tat\r\n&gt; com.goglides.ListingController.feature(ListingController.groovy:17)\r\n&gt; \t... 52 common frames omitted Caused by:\r\n&gt; java.lang.StringIndexOutOfBoundsException: String index out of range:\r\n&gt; -1 \tat java.lang.AbstractStringBuilder.substring(AbstractStringBuilder.java:935)\r\n&gt; \tat java.lang.StringBuilder.substring(StringBuilder.java:76) \tat\r\n&gt; grails.converters.JSON.handleCircularRelationship(JSON.java:341) \tat\r\n&gt; grails.converters.JSON.value(JSON.java:176) \tat\r\n&gt; grails.converters.JSON.convertAnother(JSON.java:144) \tat\r\n&gt; org.grails.web.converters.marshaller.json.GenericJavaBeanMarshaller.marshalObject(GenericJavaBeanMarshaller.java:66)","title":"Grails throws ConverterException from Marshaller after using grails plugin","body":"<p>I have Marshaller in my grails application which was working fine but after I integrated plugin in my application it is throwing error.Error is as follows:</p>\n\n<blockquote>\n  <p>Caused by: org.grails.web.converters.exceptions.ConverterException:\n  Error converting Bean with class\n  org.hibernate.persister.entity.SingleTableEntityPersister     at\n  org.grails.web.converters.marshaller.json.GenericJavaBeanMarshaller.marshalObject(GenericJavaBeanMarshaller.java:84)\n    at\n  org.grails.web.converters.marshaller.json.GenericJavaBeanMarshaller.marshalObject(GenericJavaBeanMarshaller.java:39)\n    at grails.converters.JSON.value(JSON.java:184)  at\n  grails.converters.JSON.convertAnother(JSON.java:144)  at\n  org.grails.web.converters.marshaller.json.MapMarshaller.marshalObject(MapMarshaller.java:45)\n    at\n  org.grails.web.converters.marshaller.json.MapMarshaller.marshalObject(MapMarshaller.java:30)\n    at grails.converters.JSON.value(JSON.java:184)  at\n  grails.converters.JSON.convertAnother(JSON.java:144)  at\n  org.grails.web.converters.marshaller.json.GenericJavaBeanMarshaller.marshalObject(GenericJavaBeanMarshaller.java:66)\n    at\n  org.grails.web.converters.marshaller.json.GenericJavaBeanMarshaller.marshalObject(GenericJavaBeanMarshaller.java:39)\n    at grails.converters.JSON.value(JSON.java:184)  at\n  grails.converters.JSON.convertAnother(JSON.java:144)  at\n  org.grails.web.converters.marshaller.json.GenericJavaBeanMarshaller.marshalObject(GenericJavaBeanMarshaller.java:66)\n    at\n  org.grails.web.converters.marshaller.json.GenericJavaBeanMarshaller.marshalObject(GenericJavaBeanMarshaller.java:39)\n    at grails.converters.JSON.value(JSON.java:184)  at\n  grails.converters.JSON.convertAnother(JSON.java:144)  at\n  org.grails.web.converters.marshaller.json.GenericJavaBeanMarshaller.marshalObject(GenericJavaBeanMarshaller.java:66)\n    at\n  org.grails.web.converters.marshaller.json.GenericJavaBeanMarshaller.marshalObject(GenericJavaBeanMarshaller.java:39)\n    at grails.converters.JSON.value(JSON.java:184)  at\n  grails.converters.JSON.convertAnother(JSON.java:144)  at\n  org.grails.web.converters.marshaller.json.GroovyBeanMarshaller.marshalObject(GroovyBeanMarshaller.java:67)\n    at\n  org.grails.web.converters.marshaller.json.GroovyBeanMarshaller.marshalObject(GroovyBeanMarshaller.java:39)\n    at grails.converters.JSON.value(JSON.java:184)  at\n  grails.converters.JSON.convertAnother(JSON.java:144)  at\n  org.grails.web.converters.marshaller.json.MapMarshaller.marshalObject(MapMarshaller.java:45)\n    at\n  org.grails.web.converters.marshaller.json.MapMarshaller.marshalObject(MapMarshaller.java:30)\n    at grails.converters.JSON.value(JSON.java:184)  at\n  grails.converters.JSON.convertAnother(JSON.java:144)  at\n  org.grails.web.converters.marshaller.json.GroovyBeanMarshaller.marshalObject(GroovyBeanMarshaller.java:67)\n    at\n  org.grails.web.converters.marshaller.json.GroovyBeanMarshaller.marshalObject(GroovyBeanMarshaller.java:39)\n    at grails.converters.JSON.value(JSON.java:184)  at\n  grails.converters.JSON.convertAnother(JSON.java:144)  at\n  org.grails.web.converters.marshaller.json.GroovyBeanMarshaller.marshalObject(GroovyBeanMarshaller.java:67)\n    at\n  org.grails.web.converters.marshaller.json.GroovyBeanMarshaller.marshalObject(GroovyBeanMarshaller.java:39)\n    at grails.converters.JSON.value(JSON.java:184)  at\n  grails.converters.JSON.convertAnother(JSON.java:144)  at\n  org.grails.web.converters.marshaller.json.CollectionMarshaller.marshalObject(CollectionMarshaller.java:41)\n    at\n  org.grails.web.converters.marshaller.json.CollectionMarshaller.marshalObject(CollectionMarshaller.java:30)\n    at grails.converters.JSON.value(JSON.java:184)  at\n  grails.converters.JSON.convertAnother(JSON.java:144)  at\n  org.grails.web.converters.marshaller.json.GroovyBeanMarshaller.marshalObject(GroovyBeanMarshaller.java:67)\n    at\n  org.grails.web.converters.marshaller.json.GroovyBeanMarshaller.marshalObject(GroovyBeanMarshaller.java:39)\n    at grails.converters.JSON.value(JSON.java:184)  at\n  grails.converters.JSON.convertAnother(JSON.java:144)  at\n  org.grails.web.converters.marshaller.json.CollectionMarshaller.marshalObject(CollectionMarshaller.java:41)\n    at\n  org.grails.web.converters.marshaller.json.CollectionMarshaller.marshalObject(CollectionMarshaller.java:30)\n    at grails.converters.JSON.value(JSON.java:184)  at\n  grails.converters.JSON.convertAnother(JSON.java:144)  at\n  org.grails.web.converters.marshaller.json.GroovyBeanMarshaller.marshalObject(GroovyBeanMarshaller.java:67)\n    at\n  org.grails.web.converters.marshaller.json.GroovyBeanMarshaller.marshalObject(GroovyBeanMarshaller.java:39)\n    at grails.converters.JSON.value(JSON.java:184)  at\n  grails.converters.JSON.convertAnother(JSON.java:144)  at\n  org.grails.web.converters.marshaller.json.MapMarshaller.marshalObject(MapMarshaller.java:45)\n    at\n  org.grails.web.converters.marshaller.json.MapMarshaller.marshalObject(MapMarshaller.java:30)\n    at grails.converters.JSON.value(JSON.java:184)  at\n  grails.converters.JSON.convertAnother(JSON.java:144)  at\n  org.grails.web.converters.marshaller.ClosureObjectMarshaller.marshalObject(ClosureObjectMarshaller.java:61)\n    at grails.converters.JSON.value(JSON.java:184)  at\n  grails.converters.JSON.convertAnother(JSON.java:144)  at\n  org.grails.web.converters.marshaller.json.CollectionMarshaller.marshalObject(CollectionMarshaller.java:41)\n    at\n  org.grails.web.converters.marshaller.json.CollectionMarshaller.marshalObject(CollectionMarshaller.java:30)\n    at grails.converters.JSON.value(JSON.java:184)  at\n  grails.converters.JSON.convertAnother(JSON.java:144)  at\n  org.grails.web.converters.marshaller.json.MapMarshaller.marshalObject(MapMarshaller.java:45)\n    at\n  org.grails.web.converters.marshaller.json.MapMarshaller.marshalObject(MapMarshaller.java:30)\n    at grails.converters.JSON.value(JSON.java:184)  at\n  grails.converters.JSON.render(JSON.java:119)  at\n  grails.converters.JSON.render(JSON.java:132)  at\n  org.grails.compiler.web.converters.RenderConverterTrait$Trait$Helper.render(RenderConverterTrait.groovy:22)\n    at\n  com.goglides.ListingController.feature(ListingController.groovy:17)\n    ... 52 common frames omitted Caused by:\n  java.lang.StringIndexOutOfBoundsException: String index out of range:\n  -1    at java.lang.AbstractStringBuilder.substring(AbstractStringBuilder.java:935)\n    at java.lang.StringBuilder.substring(StringBuilder.java:76)     at\n  grails.converters.JSON.handleCircularRelationship(JSON.java:341)  at\n  grails.converters.JSON.value(JSON.java:176)   at\n  grails.converters.JSON.convertAnother(JSON.java:144)  at\n  org.grails.web.converters.marshaller.json.GenericJavaBeanMarshaller.marshalObject(GenericJavaBeanMarshaller.java:66)</p>\n</blockquote>\n"},{"tags":["java","string","composite"],"comments":[{"owner":{"account_id":2119809,"reputation":50937,"user_id":1883316,"display_name":"Tim Roberts"},"score":0,"creation_date":1675710180,"post_id":75365429,"comment_id":132983505,"body_markdown":"You can see why, right?  When you have `prefix`=&#39;++&#39;, you then pass `prefix+prefix`, or `++++`.  It would be a better plan to pass &quot;depth&quot; as an integer to describe how deep you are, then construct the prefix by repeating the &#39;+&#39; that many times.  Then you just pass `depth+1`.","body":"You can see why, right?  When you have <code>prefix</code>=&#39;++&#39;, you then pass <code>prefix+prefix</code>, or <code>++++</code>.  It would be a better plan to pass &quot;depth&quot; as an integer to describe how deep you are, then construct the prefix by repeating the &#39;+&#39; that many times.  Then you just pass <code>depth+1</code>."},{"owner":{"account_id":27718936,"reputation":3,"user_id":21159968,"display_name":"Tlmua"},"score":0,"creation_date":1675713105,"post_id":75365429,"comment_id":132984278,"body_markdown":"Hi Tim, thank you for the feedback. Indeed I understand that prefix + prefix is not the best method .. just the only one I can think of ! \nSince the purpose of this exercise is to implement the given interface (Fix by the problem), I don&#39;t think I can change the display method that was specified to have additional input ? If possible, that will definitely help solve the problem.\nPlease let me know if you have any other thought! Thank you very much for answering.","body":"Hi Tim, thank you for the feedback. Indeed I understand that prefix + prefix is not the best method .. just the only one I can think of !  Since the purpose of this exercise is to implement the given interface (Fix by the problem), I don&#39;t think I can change the display method that was specified to have additional input ? If possible, that will definitely help solve the problem. Please let me know if you have any other thought! Thank you very much for answering."},{"owner":{"account_id":2119809,"reputation":50937,"user_id":1883316,"display_name":"Tim Roberts"},"score":0,"creation_date":1675716025,"post_id":75365429,"comment_id":132985138,"body_markdown":"I told you how to do it.  Don&#39;t pass the prefix string, pass the current depth.   Have your &quot;display&quot; function accept a `int depth`.  Now, it can construct the prefix string by repeating the &#39;+&#39; that many times.","body":"I told you how to do it.  Don&#39;t pass the prefix string, pass the current depth.   Have your &quot;display&quot; function accept a <code>int depth</code>.  Now, it can construct the prefix string by repeating the &#39;+&#39; that many times."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1675716291,"post_id":75365429,"comment_id":132985202,"body_markdown":"Which Java version are you using?","body":"Which Java version are you using?"}],"answers":[{"tags":[],"owner":{"account_id":2119809,"reputation":50937,"user_id":1883316,"display_name":"Tim Roberts"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675716124,"creation_date":1675716124,"answer_id":75366370,"question_id":75365429,"body_markdown":"As I said, just pass the depth as an integer and construct the prefix within the display function.\r\n```\r\n    @Override\r\n    public String display(int depth) {\r\n        String prefix = &#39;+&#39;.repeat(depth);\r\n        String totalString = name + &quot;: (count=&quot; + getCount() + &quot;, size=&quot; + getSize() + &quot;)&quot; + System.lineSeparator();\r\n\r\n        for (Component component : children) {\r\n            totalString = totalString + prefix + component.display(depth + 1);\r\n        }\r\n        return totalString;\r\n    }\r\n\r\n...\r\n\r\n        System.out.print(pictures.display(1));\r\n```\r\n","title":"How to increase String input for every time component method is called","body":"<p>As I said, just pass the depth as an integer and construct the prefix within the display function.</p>\n<pre><code>    @Override\n    public String display(int depth) {\n        String prefix = '+'.repeat(depth);\n        String totalString = name + &quot;: (count=&quot; + getCount() + &quot;, size=&quot; + getSize() + &quot;)&quot; + System.lineSeparator();\n\n        for (Component component : children) {\n            totalString = totalString + prefix + component.display(depth + 1);\n        }\n        return totalString;\n    }\n\n...\n\n        System.out.print(pictures.display(1));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675718074,"creation_date":1675718074,"answer_id":75366649,"question_id":75365429,"body_markdown":"I see several issues in your code but won&#39;t address all of them here as this is not https://codereview.stackexchange.com.\r\n\r\nBut *important*: don&#39;t concatenate `String` in a loop with the `+` or `+=` operators. Use `java.lang.StringBuilder` for this. \r\n\r\nInstead of doubling your `prefix`, you can calculate the new prefix from the first char and the size of the input prefix. Here is just the `Directory.display` method:\r\n``` lang-java\r\n@Override\r\npublic String display(String prefix) {\r\n  StringBuilder totalString = new StringBuilder(name);\r\n  totalString.append(&quot;: (count=&quot;).append(getCount());\r\n  totalString.append(&quot;, size=&quot;).append(getSize()).append(&quot;)&quot;);\r\n  totalString.append(System.lineSeparator());\r\n\r\n  for (Component component : children) {\r\n    totalString.append(prefix).append(component.display(prefix.substring(0, 1).repeat(prefix.length() + 1)));\r\n  }\r\n  return totalString.toString();\r\n}\r\n```\r\n\r\nThis way you can keep your given interface exactly as before. Still @TimRoberts answer is probably more efficient and performant, but doesn&#39;t keep your interface the same.","title":"How to increase String input for every time component method is called","body":"<p>I see several issues in your code but won't address all of them here as this is not <a href=\"https://codereview.stackexchange.com\">https://codereview.stackexchange.com</a>.</p>\n<p>But <em>important</em>: don't concatenate <code>String</code> in a loop with the <code>+</code> or <code>+=</code> operators. Use <code>java.lang.StringBuilder</code> for this.</p>\n<p>Instead of doubling your <code>prefix</code>, you can calculate the new prefix from the first char and the size of the input prefix. Here is just the <code>Directory.display</code> method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic String display(String prefix) {\n  StringBuilder totalString = new StringBuilder(name);\n  totalString.append(&quot;: (count=&quot;).append(getCount());\n  totalString.append(&quot;, size=&quot;).append(getSize()).append(&quot;)&quot;);\n  totalString.append(System.lineSeparator());\n\n  for (Component component : children) {\n    totalString.append(prefix).append(component.display(prefix.substring(0, 1).repeat(prefix.length() + 1)));\n  }\n  return totalString.toString();\n}\n</code></pre>\n<p>This way you can keep your given interface exactly as before. Still @TimRoberts answer is probably more efficient and performant, but doesn't keep your interface the same.</p>\n"}],"owner":{"account_id":27718936,"reputation":3,"user_id":21159968,"display_name":"Tlmua"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75366370,"answer_count":2,"score":0,"last_activity_date":1675718074,"creation_date":1675709387,"question_id":75365429,"body_markdown":"I just started learning coding (mainly Java) for about 6 months at a University and now we just covered section of Composite design pattern (with Component, Leaf and Composite classes).\r\n\r\nMy class problem requires I use the below Component Interface to make a simple director program that I can create/add/remove files/directory.\r\n\r\n``` lang-java\r\npublic interface Component {\r\n    public String getName();\r\n    public int getSize();\r\n    public int getCount();\r\n    public String display(String prefix);\r\n    public Component search(String name);\r\n}\r\n```\r\n\r\nBelow is the File class that I wrote to be used as Leaf\r\n\r\n``` lang-java\r\npublic class File implements Component { \r\n    private String name;\r\n    private int size;\r\n    public File(String name, int size){\r\n        this.name = name;\r\n        this.size = size;\r\n    }\r\n    \r\n    @Override\r\n    public String getName() {\r\n        return this.name;\r\n    }\r\n    \r\n    @Override\r\n    public int getSize() {\r\n        return this.size;\r\n    }\r\n    \r\n    @Override\r\n    public int getCount() {\r\n        return 1;\r\n    }\r\n    \r\n    @Override\r\n    public String display(String prefix) {\r\n        return this.name + &quot; &quot; + &quot;(&quot; + this.size + &quot;)&quot; + System.lineSeparator();\r\n    }\r\n    \r\n    @Override\r\n    public Component search(String name) {\r\n        if(this.name.equals(name)){\r\n            return this;\r\n        }\r\n        else {\r\n            return null;\r\n        }\r\n    }\r\n```\r\nBelow is the Component Class - Directory Class. I put line of \\* above the method display in question.\r\n\r\n``` lang-java\r\nimport java.util.ArrayList;\r\n\r\npublic class Directory implements Component {\r\n    static int count = 0;\r\n    private String name;\r\n    //Array List to store the leafs\r\n    public ArrayList&lt;Component&gt; children;\r\n\r\n    public Directory(String name){\r\n        this.name = name;\r\n        this.children = new ArrayList&lt;&gt;();\r\n    }\r\n\r\n    //Method to add leaf to Directory\r\n    public void add(Component component){\r\n        children.add(component);\r\n    }\r\n\r\n    //Method to remove leaf from Directory\r\n    public void remove(Component component){\r\n        children.remove(component);\r\n    }\r\n\r\n    @Override\r\n    public String getName() {\r\n        return this.name;\r\n    }\r\n\r\n    @Override\r\n    public int getSize() {\r\n        int size = 0;\r\n        for(Component component : children) {\r\n            size += component.getSize();\r\n        }\r\n        return size;\r\n    }\r\n\r\n    @Override\r\n    public int getCount() {\r\n        int count = 0;\r\n        for(Component component : children) {\r\n            count += component.getCount();\r\n        }\r\n        return count;\r\n    }\r\n\r\n//***********************************\r\n    @Override\r\n    public String display(String prefix) {\r\n        String totalString = name + &quot;: (count=&quot; + getCount() + &quot;, size=&quot; + getSize() + &quot;)&quot; + System.lineSeparator();\r\n\r\n        for (Component component : children) {\r\n            totalString = totalString + prefix + component.display(prefix + prefix);\r\n        }\r\n        return totalString;\r\n    }\r\n\r\n//*************************************\r\n    @Override\r\n    public Component search(String name) {\r\n        for(Component component: children) {\r\n            if (component.search(name) != null) {\r\n                return component;\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n}\r\n```\r\nMy goal is, when I apply the display method, every-time the component has children, the prefix in display method should increase by 1. To clarify, below is my test method\r\n``` lang-java\r\npublic class Test3 {\r\n\r\n    public static void main(String[] args) {\r\n        File holiday = new File(&quot;family-holiday&quot;,201);\r\n        File wallpaper = new File(&quot;wallpaper&quot;, 421);\r\n        Directory pictures = new Directory(&quot;pictures&quot;);\r\n        Directory personal = new Directory(&quot;personal&quot;);\r\n        Directory misc = new Directory(&quot;misc&quot;);\r\n        Directory dog = new Directory(&quot;dog&quot;);\r\n        dog.add(wallpaper);\r\n        personal.add(holiday);\r\n        personal.add(misc);\r\n        pictures.add(personal);\r\n        misc.add(dog);\r\n\r\n        System.out.print(pictures.display(&quot;+&quot;));\r\n    }\r\n}\r\n```\r\n\r\nThe result of this should be\r\n``` lang-none\r\npictures: (count=2, size=622)\r\n\\+personal: (count=2, size=622)\r\n\\++family-holiday (201)\r\n\\++misc: (count=1, size=421)\r\n\\+++dog: (count=1, size=421)\r\n\\++++wallpaper (421)\r\n```\r\nHowever, due to the display method when component has children, it calls (prefix + prefix) which works until the 3rd directory/files, the prefix gets doubled every time instead of an increment of one. Below is the result I got\r\n\r\n``` lang-none\r\npictures: (count=2, size=622)\r\n\\+personal: (count=2, size=622)\r\n\\++family-holiday (201)\r\n\\++misc: (count=1, size=421)\r\n\\++++dog: (count=1, size=421)\r\n\\++++++++wallpaper (421)\r\n```\r\nI have tried multiple ways that I can think of below\r\n\r\n- Add prefix at the File display : This obviously did not work if there is director inside directory\r\n\r\n- Use static parameter to count number of method getting called, since the number of times prefix should be used depends on how many level the file / director is in there, that doesn&#39;t work with full count of the number of times used by the method.\r\n\r\n- Adding prefix at MANY MANY different places .. :) Still did not work well. I can imagine it has to be the way I pass the prefix to when the loop is calling display again, but I can&#39;t figure out what it is ...\r\n\r\nIf you could please advise or guide on what I can do or what I should read on to help with this, that will be very helpful. I do apologise in advance if there is similar topics as I couldn&#39;t find them with my current knowledge of the keyword, if you could please guide me there then I&#39;m very grateful","title":"How to increase String input for every time component method is called","body":"<p>I just started learning coding (mainly Java) for about 6 months at a University and now we just covered section of Composite design pattern (with Component, Leaf and Composite classes).</p>\n<p>My class problem requires I use the below Component Interface to make a simple director program that I can create/add/remove files/directory.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface Component {\n    public String getName();\n    public int getSize();\n    public int getCount();\n    public String display(String prefix);\n    public Component search(String name);\n}\n</code></pre>\n<p>Below is the File class that I wrote to be used as Leaf</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class File implements Component { \n    private String name;\n    private int size;\n    public File(String name, int size){\n        this.name = name;\n        this.size = size;\n    }\n    \n    @Override\n    public String getName() {\n        return this.name;\n    }\n    \n    @Override\n    public int getSize() {\n        return this.size;\n    }\n    \n    @Override\n    public int getCount() {\n        return 1;\n    }\n    \n    @Override\n    public String display(String prefix) {\n        return this.name + &quot; &quot; + &quot;(&quot; + this.size + &quot;)&quot; + System.lineSeparator();\n    }\n    \n    @Override\n    public Component search(String name) {\n        if(this.name.equals(name)){\n            return this;\n        }\n        else {\n            return null;\n        }\n    }\n</code></pre>\n<p>Below is the Component Class - Directory Class. I put line of * above the method display in question.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.ArrayList;\n\npublic class Directory implements Component {\n    static int count = 0;\n    private String name;\n    //Array List to store the leafs\n    public ArrayList&lt;Component&gt; children;\n\n    public Directory(String name){\n        this.name = name;\n        this.children = new ArrayList&lt;&gt;();\n    }\n\n    //Method to add leaf to Directory\n    public void add(Component component){\n        children.add(component);\n    }\n\n    //Method to remove leaf from Directory\n    public void remove(Component component){\n        children.remove(component);\n    }\n\n    @Override\n    public String getName() {\n        return this.name;\n    }\n\n    @Override\n    public int getSize() {\n        int size = 0;\n        for(Component component : children) {\n            size += component.getSize();\n        }\n        return size;\n    }\n\n    @Override\n    public int getCount() {\n        int count = 0;\n        for(Component component : children) {\n            count += component.getCount();\n        }\n        return count;\n    }\n\n//***********************************\n    @Override\n    public String display(String prefix) {\n        String totalString = name + &quot;: (count=&quot; + getCount() + &quot;, size=&quot; + getSize() + &quot;)&quot; + System.lineSeparator();\n\n        for (Component component : children) {\n            totalString = totalString + prefix + component.display(prefix + prefix);\n        }\n        return totalString;\n    }\n\n//*************************************\n    @Override\n    public Component search(String name) {\n        for(Component component: children) {\n            if (component.search(name) != null) {\n                return component;\n            }\n        }\n        return null;\n    }\n}\n</code></pre>\n<p>My goal is, when I apply the display method, every-time the component has children, the prefix in display method should increase by 1. To clarify, below is my test method</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Test3 {\n\n    public static void main(String[] args) {\n        File holiday = new File(&quot;family-holiday&quot;,201);\n        File wallpaper = new File(&quot;wallpaper&quot;, 421);\n        Directory pictures = new Directory(&quot;pictures&quot;);\n        Directory personal = new Directory(&quot;personal&quot;);\n        Directory misc = new Directory(&quot;misc&quot;);\n        Directory dog = new Directory(&quot;dog&quot;);\n        dog.add(wallpaper);\n        personal.add(holiday);\n        personal.add(misc);\n        pictures.add(personal);\n        misc.add(dog);\n\n        System.out.print(pictures.display(&quot;+&quot;));\n    }\n}\n</code></pre>\n<p>The result of this should be</p>\n<pre class=\"lang-none prettyprint-override\"><code>pictures: (count=2, size=622)\n\\+personal: (count=2, size=622)\n\\++family-holiday (201)\n\\++misc: (count=1, size=421)\n\\+++dog: (count=1, size=421)\n\\++++wallpaper (421)\n</code></pre>\n<p>However, due to the display method when component has children, it calls (prefix + prefix) which works until the 3rd directory/files, the prefix gets doubled every time instead of an increment of one. Below is the result I got</p>\n<pre class=\"lang-none prettyprint-override\"><code>pictures: (count=2, size=622)\n\\+personal: (count=2, size=622)\n\\++family-holiday (201)\n\\++misc: (count=1, size=421)\n\\++++dog: (count=1, size=421)\n\\++++++++wallpaper (421)\n</code></pre>\n<p>I have tried multiple ways that I can think of below</p>\n<ul>\n<li><p>Add prefix at the File display : This obviously did not work if there is director inside directory</p>\n</li>\n<li><p>Use static parameter to count number of method getting called, since the number of times prefix should be used depends on how many level the file / director is in there, that doesn't work with full count of the number of times used by the method.</p>\n</li>\n<li><p>Adding prefix at MANY MANY different places .. :) Still did not work well. I can imagine it has to be the way I pass the prefix to when the loop is calling display again, but I can't figure out what it is ...</p>\n</li>\n</ul>\n<p>If you could please advise or guide on what I can do or what I should read on to help with this, that will be very helpful. I do apologise in advance if there is similar topics as I couldn't find them with my current knowledge of the keyword, if you could please guide me there then I'm very grateful</p>\n"},{"tags":["java","recursion","time-complexity"],"comments":[{"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"score":0,"creation_date":1675720313,"post_id":75366643,"comment_id":132986270,"body_markdown":"The reasoning is not quite right. `for(i=1; i&lt;=4; i++)` is definitely a loop, it would not bump the complexity from linear to quadratic. It all depends on how many iterations that loop does and what relation than number has to N.","body":"The reasoning is not quite right. <code>for(i=1; i&lt;=4; i++)</code> is definitely a loop, it would not bump the complexity from linear to quadratic. It all depends on how many iterations that loop does and what relation than number has to N."},{"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"score":0,"creation_date":1675720373,"post_id":75366643,"comment_id":132986290,"body_markdown":"So, if you wanted the for loop to run the maximum number of times possible, what would the tree described by the input look like? A sort of worst-case scenario.","body":"So, if you wanted the for loop to run the maximum number of times possible, what would the tree described by the input look like? A sort of worst-case scenario."}],"owner":{"account_id":25555739,"reputation":5,"user_id":19339333,"display_name":"dhhhhhhh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675718019,"creation_date":1675718019,"question_id":75366643,"body_markdown":"```\r\n/**\r\n * Definition for a binary tree node.\r\n * public class TreeNode {\r\n *     int val;\r\n *     TreeNode left;\r\n *     TreeNode right;\r\n *     TreeNode() {}\r\n *     TreeNode(int val) { this.val = val; }\r\n *     TreeNode(int val, TreeNode left, TreeNode right) {\r\n *         this.val = val;\r\n *         this.left = left;\r\n *         this.right = right;\r\n *     }\r\n * }\r\n */\r\nclass Solution {\r\n    public TreeNode buildTree(int[] preorder, int[] inorder) {\r\n        return helper(0,0, inorder.length - 1, preorder, inorder);\r\n    }\r\n    public TreeNode helper(int preStart, int inStart, int inEnd, int[] preorder, int[] inorder){\r\n        if(preStart &gt; preorder.length - 1 || inStart &gt; inEnd){\r\n            return null;\r\n        }\r\n\r\n        TreeNode root = new TreeNode(preorder[preStart]);\r\n\r\n        int inIndex = 0;\r\n        for(int i = 0; i &lt;= inEnd; i++){\r\n            if(root.val == inorder[i]){\r\n                inIndex = i;\r\n            }\r\n        }           \r\n\r\n        root.left = helper(preStart + 1, inStart, inIndex - 1, preorder, inorder);\r\n        root.right = helper(preStart + inIndex - inStart + 1, inIndex + 1, inEnd, preorder, inorder);\r\n\r\n        return root;\r\n    }\r\n}\r\n```\r\n\r\nIn this case, how do I get time complexity?\r\n\r\nI thought it is O(N^2) when N is length of input array because recursive call has a loop in it.\r\nIs it correct?\r\n\r\n\r\nThis is the leetCode question. And I want to make sure what the time complexity is.","title":"Time Complexity of Recursion which has loop in it","body":"<pre><code>/**\n * Definition for a binary tree node.\n * public class TreeNode {\n *     int val;\n *     TreeNode left;\n *     TreeNode right;\n *     TreeNode() {}\n *     TreeNode(int val) { this.val = val; }\n *     TreeNode(int val, TreeNode left, TreeNode right) {\n *         this.val = val;\n *         this.left = left;\n *         this.right = right;\n *     }\n * }\n */\nclass Solution {\n    public TreeNode buildTree(int[] preorder, int[] inorder) {\n        return helper(0,0, inorder.length - 1, preorder, inorder);\n    }\n    public TreeNode helper(int preStart, int inStart, int inEnd, int[] preorder, int[] inorder){\n        if(preStart &gt; preorder.length - 1 || inStart &gt; inEnd){\n            return null;\n        }\n\n        TreeNode root = new TreeNode(preorder[preStart]);\n\n        int inIndex = 0;\n        for(int i = 0; i &lt;= inEnd; i++){\n            if(root.val == inorder[i]){\n                inIndex = i;\n            }\n        }           \n\n        root.left = helper(preStart + 1, inStart, inIndex - 1, preorder, inorder);\n        root.right = helper(preStart + inIndex - inStart + 1, inIndex + 1, inEnd, preorder, inorder);\n\n        return root;\n    }\n}\n</code></pre>\n<p>In this case, how do I get time complexity?</p>\n<p>I thought it is O(N^2) when N is length of input array because recursive call has a loop in it.\nIs it correct?</p>\n<p>This is the leetCode question. And I want to make sure what the time complexity is.</p>\n"},{"tags":["java","jvm"],"comments":[{"owner":{"account_id":2488621,"reputation":838,"user_id":2166592,"accept_rate":89,"display_name":"3kings"},"score":1,"creation_date":1463570310,"post_id":37298011,"comment_id":62118665,"body_markdown":"Open up many java programs.","body":"Open up many java programs."},{"owner":{"account_id":1275953,"reputation":26182,"user_id":1231230,"accept_rate":76,"display_name":"Ankur Singhal"},"score":0,"creation_date":1463570436,"post_id":37298011,"comment_id":62118754,"body_markdown":"yes you can have multiple jvm, each java program is a jvm itself.","body":"yes you can have multiple jvm, each java program is a jvm itself."},{"owner":{"account_id":6696906,"reputation":61,"user_id":5164665,"display_name":"Dhanshree More"},"score":0,"creation_date":1463570443,"post_id":37298011,"comment_id":62118758,"body_markdown":"@3kings .. that means whenever we open any java program.. jvm automatically started? or it is started when program is compiled?","body":"@3kings .. that means whenever we open any java program.. jvm automatically started? or it is started when program is compiled?"},{"owner":{"account_id":5948230,"reputation":738,"user_id":4677126,"accept_rate":88,"display_name":"UDKOX"},"score":0,"creation_date":1463570518,"post_id":37298011,"comment_id":62118807,"body_markdown":"Each Java program you run, will have a different JVM instance.","body":"Each Java program you run, will have a different JVM instance."},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":1,"creation_date":1463571030,"post_id":37298011,"comment_id":62119155,"body_markdown":"You can run multiple program on a machines, and a JVM is just another program.","body":"You can run multiple program on a machines, and a JVM is just another program."},{"owner":{"account_id":1023780,"reputation":145,"user_id":1033519,"display_name":"szilagyif"},"score":0,"creation_date":1463571377,"post_id":37298011,"comment_id":62119387,"body_markdown":"http://stackoverflow.com/questions/1986531/can-i-run-more-than-one-jvm-on-my-single-pc","body":"<a href=\"http://stackoverflow.com/questions/1986531/can-i-run-more-than-one-jvm-on-my-single-pc\" title=\"can i run more than one jvm on my single pc\">stackoverflow.com/questions/1986531/&hellip;</a>"},{"owner":{"account_id":14222505,"reputation":1863,"user_id":10275943,"display_name":"Ikbel"},"score":0,"creation_date":1592305331,"post_id":37298011,"comment_id":110371564,"body_markdown":"@UDKOX  only in case of starting  you apps  with a  java  command  line !","body":"@UDKOX  only in case of starting  you apps  with a  java  command  line !"}],"answers":[{"tags":[],"owner":{"account_id":1275953,"reputation":26182,"user_id":1231230,"accept_rate":76,"display_name":"Ankur Singhal"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1463570617,"creation_date":1463570617,"answer_id":37298164,"question_id":37298011,"body_markdown":"**Each Java application running uses an independent JVM.** \r\n\r\nEach JVM is a separate process, and they do not share stacks, heaps. Only common core JVM and native libraries will be shared.\r\n\r\nYou can have n number of application running on single machine/server box, and so as n number of JVM&#39;s.\r\n\r\nLaunching multiple java processes will create JVM for you.\r\n\r\nIn all you can have any number of JVM running in your machine, with even different JDK versions.","title":"how to start jvm and can we have multiple jvm running on a single system?","body":"<p><strong>Each Java application running uses an independent JVM.</strong> </p>\n\n<p>Each JVM is a separate process, and they do not share stacks, heaps. Only common core JVM and native libraries will be shared.</p>\n\n<p>You can have n number of application running on single machine/server box, and so as n number of JVM's.</p>\n\n<p>Launching multiple java processes will create JVM for you.</p>\n\n<p>In all you can have any number of JVM running in your machine, with even different JDK versions.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1463575888,"creation_date":1463575888,"answer_id":37300196,"question_id":37298011,"body_markdown":"&gt; How to start jvm.\r\n\r\nIf you have a Java JRE or JDK, then the simple way to start a JVM is to run the `java` command.  For example:\r\n\r\n     java -jar someapp.jar\r\n\r\nstarts a JVM that runs the application in the supplied (&quot;executable&quot;) JAR file.\r\n\r\n&gt; Can we have multiple jvm running on a single system?\r\n\r\nYes.  Provided you have enough memory.\r\n\r\nOn a typical OS, each JVM runs as a process.  Assuming that the OS allows you to launch multiple processes, you can run multiple JVMs.  (This is certainly true for Windows, Linux, MacOSX and other varieties of UNIX on which Java runs.)\r\n","title":"how to start jvm and can we have multiple jvm running on a single system?","body":"<blockquote>\n  <p>How to start jvm.</p>\n</blockquote>\n\n<p>If you have a Java JRE or JDK, then the simple way to start a JVM is to run the <code>java</code> command.  For example:</p>\n\n<pre><code> java -jar someapp.jar\n</code></pre>\n\n<p>starts a JVM that runs the application in the supplied (\"executable\") JAR file.</p>\n\n<blockquote>\n  <p>Can we have multiple jvm running on a single system?</p>\n</blockquote>\n\n<p>Yes.  Provided you have enough memory.</p>\n\n<p>On a typical OS, each JVM runs as a process.  Assuming that the OS allows you to launch multiple processes, you can run multiple JVMs.  (This is certainly true for Windows, Linux, MacOSX and other varieties of UNIX on which Java runs.)</p>\n"},{"tags":[],"owner":{"account_id":9910073,"reputation":290,"user_id":16781656,"display_name":"Yogesh Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644296629,"creation_date":1644296629,"answer_id":71028834,"question_id":37298011,"body_markdown":"The way to start a jvm is by invoking the main, either by invoking a jar using `java -jar MyJar` or by simply running main class from an IDE.\r\n\r\nYes, Multiple jvm instances can be run on a single machine, they all will have their own memory allocated.\r\nThere will be that many jvms as many main programs you run.","title":"how to start jvm and can we have multiple jvm running on a single system?","body":"<p>The way to start a jvm is by invoking the main, either by invoking a jar using <code>java -jar MyJar</code> or by simply running main class from an IDE.</p>\n<p>Yes, Multiple jvm instances can be run on a single machine, they all will have their own memory allocated.\nThere will be that many jvms as many main programs you run.</p>\n"}],"owner":{"account_id":6696906,"reputation":61,"user_id":5164665,"display_name":"Dhanshree More"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24299,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":3,"score":6,"last_activity_date":1675717978,"creation_date":1463570259,"question_id":37298011,"body_markdown":"I had been asked this question in interview, how to start jvm and can we have multiple jvm running on a single system?","title":"how to start jvm and can we have multiple jvm running on a single system?","body":"<p>I had been asked this question in interview, how to start jvm and can we have multiple jvm running on a single system?</p>\n"},{"tags":["java","gwt"],"comments":[{"owner":{"account_id":264830,"reputation":70811,"user_id":551406,"accept_rate":95,"display_name":"Michael Berry"},"score":3,"creation_date":1321897119,"post_id":8215955,"comment_id":10100833,"body_markdown":"Is this using the standard Java API or some other library like GWT?","body":"Is this using the standard Java API or some other library like GWT?"},{"owner":{"account_id":26247,"reputation":33763,"user_id":68105,"accept_rate":69,"display_name":"MK."},"score":1,"creation_date":1321897157,"post_id":8215955,"comment_id":10100848,"body_markdown":"your class names are strange.  I don&#39;t think there is a KeyPressEvent class in Java.  What are you using?","body":"your class names are strange.  I don&#39;t think there is a KeyPressEvent class in Java.  What are you using?"},{"owner":{"account_id":90426,"reputation":31165,"user_id":248959,"accept_rate":61,"display_name":"tirenweb"},"score":0,"creation_date":1321897222,"post_id":8215955,"comment_id":10100869,"body_markdown":"@berry120 Yes! I&#39;m using GWT, I don&#39;t know that could count..I&#39;m just starting with Java an GWT.","body":"@berry120 Yes! I&#39;m using GWT, I don&#39;t know that could count..I&#39;m just starting with Java an GWT."},{"owner":{"account_id":264830,"reputation":70811,"user_id":551406,"accept_rate":95,"display_name":"Michael Berry"},"score":0,"creation_date":1321897326,"post_id":8215955,"comment_id":10100906,"body_markdown":"@tirengarfio In that case you should tag your question as such otherwise people assume it&#39;s using something like swing! I&#39;ve retagged it now as above.","body":"@tirengarfio In that case you should tag your question as such otherwise people assume it&#39;s using something like swing! I&#39;ve retagged it now as above."},{"owner":{"account_id":196062,"reputation":20700,"user_id":439317,"accept_rate":84,"display_name":"Riley Lark"},"score":0,"creation_date":1321907664,"post_id":8215955,"comment_id":10104209,"body_markdown":"@tirengarfio See Justin&#39;s answer below, and issue 5558 http://code.google.com/p/google-web-toolkit/issues/detail?id=5558","body":"@tirengarfio See Justin&#39;s answer below, and issue 5558 <a href=\"http://code.google.com/p/google-web-toolkit/issues/detail?id=5558\" rel=\"nofollow noreferrer\">code.google.com/p/google-web-toolkit/issues/detail?id=5558</a>"}],"answers":[{"tags":[],"owner":{"account_id":943919,"reputation":301,"user_id":971553,"display_name":"Tyler"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1321897635,"creation_date":1321897253,"answer_id":8216054,"question_id":8215955,"body_markdown":"The value is, in fact, there. The reason you don&#39;t see anything is because the character is a carriage return. The carriage return, I believe, just moves the next line (you can google it&#39;s exact function). If you google &quot;ascii table&quot; you will see that the 13 you get from `KeyCodes.KEY_ENTER` corresponds with CR, the carriage return character. ","title":"Trying to get the char code of ENTER key","body":"<p>The value is, in fact, there. The reason you don't see anything is because the character is a carriage return. The carriage return, I believe, just moves the next line (you can google it's exact function). If you google \"ascii table\" you will see that the 13 you get from <code>KeyCodes.KEY_ENTER</code> corresponds with CR, the carriage return character. </p>\n"},{"tags":[],"owner":{"account_id":11122,"reputation":4546,"user_id":21294,"accept_rate":90,"display_name":"Dave"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1321897453,"creation_date":1321897453,"answer_id":8216099,"question_id":8215955,"body_markdown":"`KeyCodes.KEY_ENTER` is the integer value of the Enter key. `event.getCharCode(`) is the character representation, so it would show as a newline after `bar =`","title":"Trying to get the char code of ENTER key","body":"<p><code>KeyCodes.KEY_ENTER</code> is the integer value of the Enter key. <code>event.getCharCode(</code>) is the character representation, so it would show as a newline after <code>bar =</code></p>\n"},{"tags":[],"owner":{"account_id":98020,"reputation":15161,"user_id":265575,"accept_rate":100,"display_name":"Justin ᚅᚔᚈᚄᚒᚔ"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1321903599,"creation_date":1321903599,"answer_id":8217367,"question_id":8215955,"body_markdown":"You need to either use `event.getNativeEvent().getKeyCode()` or switch to `KeyDownHandler`.\r\n\r\n    newSymbolTextBox.addKeyPressHandler(new KeyDownHandler() {\r\n      public void onKeyDown(KeyDownEvent event) {\r\n          System.out.println(&quot;foo =&quot; + KeyCodes.KEY_ENTER);\r\n          System.out.println(&quot;bar =&quot; + event.getNativeKeyCode());\r\n      }\r\n    });\r\n\r\nSee http://code.google.com/p/google-web-toolkit/issues/detail?id=5558\r\n","title":"Trying to get the char code of ENTER key","body":"<p>You need to either use <code>event.getNativeEvent().getKeyCode()</code> or switch to <code>KeyDownHandler</code>.</p>\n\n<pre><code>newSymbolTextBox.addKeyPressHandler(new KeyDownHandler() {\n  public void onKeyDown(KeyDownEvent event) {\n      System.out.println(\"foo =\" + KeyCodes.KEY_ENTER);\n      System.out.println(\"bar =\" + event.getNativeKeyCode());\n  }\n});\n</code></pre>\n\n<p>See <a href=\"http://code.google.com/p/google-web-toolkit/issues/detail?id=5558\">http://code.google.com/p/google-web-toolkit/issues/detail?id=5558</a></p>\n"},{"tags":[],"owner":{"account_id":954960,"reputation":13272,"user_id":980442,"accept_rate":25,"display_name":"Daniel De Le&#243;n"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1370433404,"creation_date":1370433404,"answer_id":16939321,"question_id":8215955,"body_markdown":"In windows with java 7 returns 10 for both cases. \r\n\r\nAnd to display the number value of a char you need cast it to int.\r\n\r\n    System.out.println((int) e.getKeyChar());","title":"Trying to get the char code of ENTER key","body":"<p>In windows with java 7 returns 10 for both cases. </p>\n\n<p>And to display the number value of a char you need cast it to int.</p>\n\n<pre><code>System.out.println((int) e.getKeyChar());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20021036,"reputation":21,"user_id":14675985,"display_name":"Ilvis Faulbaums"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675717212,"creation_date":1675717212,"answer_id":75366533,"question_id":8215955,"body_markdown":"As it sounds weird, but try to imagine that \r\nnew line means &#39;\\n&#39; as a character or the character is &quot;Enter&quot; button on the keyboard.\r\nSo, in code it look like this:\r\n```\r\n        if(event.getKeyChar()==&#39;\\n&#39;){\r\n            System.out.println(&quot;You just pressed ENTER!&quot;);\r\n        }\r\n```","title":"Trying to get the char code of ENTER key","body":"<p>As it sounds weird, but try to imagine that\nnew line means '\\n' as a character or the character is &quot;Enter&quot; button on the keyboard.\nSo, in code it look like this:</p>\n<pre><code>        if(event.getKeyChar()=='\\n'){\n            System.out.println(&quot;You just pressed ENTER!&quot;);\n        }\n</code></pre>\n"}],"owner":{"account_id":90426,"reputation":31165,"user_id":248959,"accept_rate":61,"display_name":"tirenweb"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78451,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"accepted_answer_id":8216054,"answer_count":5,"score":4,"last_activity_date":1675717212,"creation_date":1321896816,"question_id":8215955,"body_markdown":"I have this this code:\r\n\r\n    newSymbolTextBox.addKeyPressHandler(new KeyPressHandler() {\r\n      public void onKeyPress(KeyPressEvent event) {\r\n    \t  System.out.println(&quot;foo =&quot; + KeyCodes.KEY_ENTER);\r\n   \t  System.out.println(&quot;bar =&quot; + event.getCharCode());\r\n      }\r\n    });\r\n\r\nWhen I press ENTER I get this output:\r\n\r\n    foo =13\r\n    bar =\r\n\r\nI expected a value after `bar =`. Any idea?\r\n\r\n\r\n","title":"Trying to get the char code of ENTER key","body":"<p>I have this this code:</p>\n\n<pre><code>newSymbolTextBox.addKeyPressHandler(new KeyPressHandler() {\n  public void onKeyPress(KeyPressEvent event) {\n      System.out.println(\"foo =\" + KeyCodes.KEY_ENTER);\n  System.out.println(\"bar =\" + event.getCharCode());\n  }\n});\n</code></pre>\n\n<p>When I press ENTER I get this output:</p>\n\n<pre><code>foo =13\nbar =\n</code></pre>\n\n<p>I expected a value after <code>bar =</code>. Any idea?</p>\n"},{"tags":["java","android","opencv","yolo"],"owner":{"account_id":27390083,"reputation":1,"user_id":20893217,"display_name":"Madhav A Nair"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675716883,"creation_date":1675692409,"question_id":75362371,"body_markdown":"I have been developing an Android app using OpenCV. I was using the `JavaCameraView`, when I receive a frame I take the blobs from the image and input it into the YOLOV3-tiny model. Then when I come to the `yolovModel.forward();` part, it throws an error. I don&#39;t see any serious issue in the logcat. But in the Debug console - [output_img.png](https://i.stack.imgur.com/rt3wu.png)\r\n\r\n**Logcat Output**\r\n\r\n```none\r\nCamera3-Stream          cameraserver                         E  getBuffer: wait for output buffer return timed out after 8000ms (max_buffers 3)\r\nCamera2Client           cameraserver                         W  notifyError: Received recoverable error 3 from HAL - ignoring, requestId 20000001\r\nlibc                    com.example.opencvtest               A  Fatal signal 11 (SIGSEGV), code 2 (SEGV_ACCERR), fault addr 0x744337e2a040 in tid 11844 (Thread-2), pid 11705 (mple.opencvtest)\r\nJavaCameraView          com.example.opencvtest               D  Preview Frame received. Frame size: 460800\r\nlibc                    pid-11856                            A  failed to exec crash_dump helper: Operation not permitted\r\nThread-2                pid-11856                            W  type=1400 audit(0.0:97): avc: denied { ptrace } for scontext=u:r:runas_app:s0:c150,c256,c512,c768 tcontext=u:r:crash_dump:s0:c150,c256,c512,c768 tclass=process permissive=0 app=com.example.opencvtest\r\nJavaCameraView          com.example.opencvtest               D  Preview Frame received. Frame size: 460800\r\nlibc                    com.example.opencvtest               A  crash_dump helper failed to exec, or was killed\r\nlibc                    com.example.opencvtest               A  failed to wait for crash_dump helper: No child processes\r\nCamera3-OutputStream    cameraserver                         E  getBufferLockedCommon: Stream 0: Can&#39;t dequeue next output buffer: Broken pipe (-32)\r\n```\r\n\r\nThis is my code -\r\n\r\n```\r\nMat frame = inputFrame.rgba();\r\nImgproc.cvtColor(frame, frame, Imgproc.COLOR_RGBA2RGB);\r\n\r\nMat blob = Dnn.blobFromImage(frame,0.00392, new Size(416, 416), new Scalar(0, 0, 0), false, false);\r\nyoloModel.setInput(blob);\r\njava.util.List&lt;Mat&gt; result = new java.util.ArrayList&lt;Mat&gt;(2);\r\n\r\nList&lt;String&gt; outBlobNames = new java.util.ArrayList&lt;&gt;();\r\noutBlobNames.add(0, &quot;yolo_16&quot;);\r\noutBlobNames.add(1, &quot;yolo_23&quot;);\r\n\r\nyoloModel.forward(result, outBlobNames);  // Error occurs here\r\n\r\nreturn frame;\r\n```","title":"OpenCV Android - Throws an error when using yolovModel.forward();","body":"<p>I have been developing an Android app using OpenCV. I was using the <code>JavaCameraView</code>, when I receive a frame I take the blobs from the image and input it into the YOLOV3-tiny model. Then when I come to the <code>yolovModel.forward();</code> part, it throws an error. I don't see any serious issue in the logcat. But in the Debug console - <a href=\"https://i.stack.imgur.com/rt3wu.png\" rel=\"nofollow noreferrer\">output_img.png</a></p>\n<p><strong>Logcat Output</strong></p>\n<pre class=\"lang-none prettyprint-override\"><code>Camera3-Stream          cameraserver                         E  getBuffer: wait for output buffer return timed out after 8000ms (max_buffers 3)\nCamera2Client           cameraserver                         W  notifyError: Received recoverable error 3 from HAL - ignoring, requestId 20000001\nlibc                    com.example.opencvtest               A  Fatal signal 11 (SIGSEGV), code 2 (SEGV_ACCERR), fault addr 0x744337e2a040 in tid 11844 (Thread-2), pid 11705 (mple.opencvtest)\nJavaCameraView          com.example.opencvtest               D  Preview Frame received. Frame size: 460800\nlibc                    pid-11856                            A  failed to exec crash_dump helper: Operation not permitted\nThread-2                pid-11856                            W  type=1400 audit(0.0:97): avc: denied { ptrace } for scontext=u:r:runas_app:s0:c150,c256,c512,c768 tcontext=u:r:crash_dump:s0:c150,c256,c512,c768 tclass=process permissive=0 app=com.example.opencvtest\nJavaCameraView          com.example.opencvtest               D  Preview Frame received. Frame size: 460800\nlibc                    com.example.opencvtest               A  crash_dump helper failed to exec, or was killed\nlibc                    com.example.opencvtest               A  failed to wait for crash_dump helper: No child processes\nCamera3-OutputStream    cameraserver                         E  getBufferLockedCommon: Stream 0: Can't dequeue next output buffer: Broken pipe (-32)\n</code></pre>\n<p>This is my code -</p>\n<pre><code>Mat frame = inputFrame.rgba();\nImgproc.cvtColor(frame, frame, Imgproc.COLOR_RGBA2RGB);\n\nMat blob = Dnn.blobFromImage(frame,0.00392, new Size(416, 416), new Scalar(0, 0, 0), false, false);\nyoloModel.setInput(blob);\njava.util.List&lt;Mat&gt; result = new java.util.ArrayList&lt;Mat&gt;(2);\n\nList&lt;String&gt; outBlobNames = new java.util.ArrayList&lt;&gt;();\noutBlobNames.add(0, &quot;yolo_16&quot;);\noutBlobNames.add(1, &quot;yolo_23&quot;);\n\nyoloModel.forward(result, outBlobNames);  // Error occurs here\n\nreturn frame;\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":1,"creation_date":1599841042,"post_id":63850718,"comment_id":112909611,"body_markdown":"You have a loop with an index variable, `i`. That is the position you&#39;re looking at. Just print it when you find a vowel.","body":"You have a loop with an index variable, <code>i</code>. That is the position you&#39;re looking at. Just print it when you find a vowel."},{"owner":{"account_id":124624,"reputation":6754,"user_id":319826,"accept_rate":72,"display_name":"kometen"},"score":1,"creation_date":1599841484,"post_id":63850718,"comment_id":112909842,"body_markdown":"Print the position inside the if statement.","body":"Print the position inside the if statement."},{"owner":{"account_id":19490960,"reputation":61,"user_id":14259171,"display_name":"chabztar01"},"score":0,"creation_date":1599842143,"post_id":63850718,"comment_id":112910129,"body_markdown":"@Robert Thanx man, it helped a lot!","body":"@Robert Thanx man, it helped a lot!"},{"owner":{"account_id":19490960,"reputation":61,"user_id":14259171,"display_name":"chabztar01"},"score":0,"creation_date":1599842198,"post_id":63850718,"comment_id":112910155,"body_markdown":"@kometen Thanx! that helped a lot","body":"@kometen Thanx! that helped a lot"}],"answers":[{"tags":[],"owner":{"account_id":15632869,"reputation":490,"user_id":11278696,"display_name":"Deviprasad Sharma"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1599841941,"creation_date":1599841941,"answer_id":63850989,"question_id":63850718,"body_markdown":"```\r\nSystem.out.println(&quot;Enter your input: &quot;);\r\n    String input = in.nextLine();\r\n\r\n    int sum = 0;\r\n\r\n    for(int i = 0; i &lt; input.length(); i++){\r\n        char vowel = input.charAt(i);\r\n        if(vowel == &#39;a&#39;|| vowel == &#39;e&#39;|| vowel == &#39;i&#39;||\r\n                vowel == &#39;o&#39;|| vowel == &#39;u&#39;|| vowel == &#39;y&#39;){\r\n            sum++;\r\n            System.out.println(&quot;position -&gt;&quot;+i);//added line\r\n        }\r\n\r\n    }\r\n    System.out.println(sum);\r\n```\r\n\r\nyou just needed to add single line that prints the positions","title":"Write programs that read a line of input as a string and print the positions of all vowels in the string","body":"<pre><code>System.out.println(&quot;Enter your input: &quot;);\n    String input = in.nextLine();\n\n    int sum = 0;\n\n    for(int i = 0; i &lt; input.length(); i++){\n        char vowel = input.charAt(i);\n        if(vowel == 'a'|| vowel == 'e'|| vowel == 'i'||\n                vowel == 'o'|| vowel == 'u'|| vowel == 'y'){\n            sum++;\n            System.out.println(&quot;position -&gt;&quot;+i);//added line\n        }\n\n    }\n    System.out.println(sum);\n</code></pre>\n<p>you just needed to add single line that prints the positions</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675716149,"creation_date":1675715816,"answer_id":75366321,"question_id":63850718,"body_markdown":"# Avoid `char`\r\n\r\nThe `char` type has been essentially broken since Java 2, and legacy since Java 5. As a 16-bit value, `char` is physically incapable of representing most of the &gt;144,000 characters defined in Unicode.\r\n\r\n# Code point\r\n\r\nTo work with individual characters, use [code point][1] integer numbers. \r\n\r\nDefine your set of targeted vowels. Sort the array, so that we may search quickly via [binary search][2].\r\n\r\n    int[] vowelCodePoints = &quot;aeiouy&quot;.codePoints().sorted().toArray() ;\r\n\r\nGet the code points of the characters in your input.\r\n\r\n    int[] codePoints = &quot;test&quot;.codePoints().toArray() ;\r\n\r\nLoop the array of code points of our input string, by index (zero-based counting). Test each code point to see if it is found within our array of vowel code points.\r\n\r\nTo go in the reverse direction, from code point integer to the character as text, call [`Character.toString`][3]. \r\n\r\n## Example code\r\n\r\nPull all the code together. \r\n\r\n```java\r\nint[] vowelCodePoints = &quot;aeiouy&quot;.codePoints().sorted().toArray();\r\n\r\nint[] codePoints = &quot;testy&quot;.codePoints().toArray();\r\nList &lt; Integer &gt; indicesOfVowels = new ArrayList &lt;&gt;( codePoints.length );\r\nfor ( int index = 0 ; index &lt; codePoints.length ; index++ )\r\n{\r\n    int position = Arrays.binarySearch( vowelCodePoints , codePoints[ index ] );\r\n    if ( position &gt;= 0 )\r\n    {\r\n        String vowel = Character.toString( codePoints[ index ] );\r\n        System.out.println( &quot;Vowel: &quot; + vowel + &quot; | Index: &quot; + index );\r\n    }\r\n}\r\n```\r\n\r\nSee this [code run at Ideone.com][4].\r\n\r\n```none\r\nVowel: e | Index: 1\r\nVowel: y | Index: 4\r\n```\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Code_point\r\n  [2]: https://en.wikipedia.org/wiki/Binary_search_algorithm\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Character.html#toString(int)\r\n  [4]: https://ideone.com/RAzyhU","title":"Write programs that read a line of input as a string and print the positions of all vowels in the string","body":"<h1>Avoid <code>char</code></h1>\n<p>The <code>char</code> type has been essentially broken since Java 2, and legacy since Java 5. As a 16-bit value, <code>char</code> is physically incapable of representing most of the &gt;144,000 characters defined in Unicode.</p>\n<h1>Code point</h1>\n<p>To work with individual characters, use <a href=\"https://en.wikipedia.org/wiki/Code_point\" rel=\"nofollow noreferrer\">code point</a> integer numbers.</p>\n<p>Define your set of targeted vowels. Sort the array, so that we may search quickly via <a href=\"https://en.wikipedia.org/wiki/Binary_search_algorithm\" rel=\"nofollow noreferrer\">binary search</a>.</p>\n<pre><code>int[] vowelCodePoints = &quot;aeiouy&quot;.codePoints().sorted().toArray() ;\n</code></pre>\n<p>Get the code points of the characters in your input.</p>\n<pre><code>int[] codePoints = &quot;test&quot;.codePoints().toArray() ;\n</code></pre>\n<p>Loop the array of code points of our input string, by index (zero-based counting). Test each code point to see if it is found within our array of vowel code points.</p>\n<p>To go in the reverse direction, from code point integer to the character as text, call <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Character.html#toString(int)\" rel=\"nofollow noreferrer\"><code>Character.toString</code></a>.</p>\n<h2>Example code</h2>\n<p>Pull all the code together.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int[] vowelCodePoints = &quot;aeiouy&quot;.codePoints().sorted().toArray();\n\nint[] codePoints = &quot;testy&quot;.codePoints().toArray();\nList &lt; Integer &gt; indicesOfVowels = new ArrayList &lt;&gt;( codePoints.length );\nfor ( int index = 0 ; index &lt; codePoints.length ; index++ )\n{\n    int position = Arrays.binarySearch( vowelCodePoints , codePoints[ index ] );\n    if ( position &gt;= 0 )\n    {\n        String vowel = Character.toString( codePoints[ index ] );\n        System.out.println( &quot;Vowel: &quot; + vowel + &quot; | Index: &quot; + index );\n    }\n}\n</code></pre>\n<p>See this <a href=\"https://ideone.com/RAzyhU\" rel=\"nofollow noreferrer\">code run at Ideone.com</a>.</p>\n<pre class=\"lang-none prettyprint-override\"><code>Vowel: e | Index: 1\nVowel: y | Index: 4\n</code></pre>\n"}],"owner":{"account_id":19490960,"reputation":61,"user_id":14259171,"display_name":"chabztar01"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":974,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":63850989,"answer_count":2,"score":1,"last_activity_date":1675716149,"creation_date":1599840851,"question_id":63850718,"body_markdown":"I&#39;m a beginner in Java and I have a question regarding `loops`. I&#39;ve been struggling with this task where it says: Write programs that read a line of input as a `string` and print the `positions` of all `vowels` in the string.\r\n\r\nI have managed to print out the number of vowels in the input but I got stuck when it came to print out their positions.\r\n\r\nAny help would be appreciated!\r\n\r\n    System.out.println(&quot;Enter your input: &quot;);\r\n        String input = in.nextLine();\r\n\r\n        int sum = 0;\r\n\r\n        for(int i = 0; i &lt; input.length(); i++){\r\n            char vowel = input.charAt(i);\r\n            if(vowel == &#39;a&#39;|| vowel == &#39;e&#39;|| vowel == &#39;i&#39;||\r\n                    vowel == &#39;o&#39;|| vowel == &#39;u&#39;|| vowel == &#39;y&#39;){\r\n                sum++;\r\n            }\r\n\r\n        }\r\n        System.out.println(sum);","title":"Write programs that read a line of input as a string and print the positions of all vowels in the string","body":"<p>I'm a beginner in Java and I have a question regarding <code>loops</code>. I've been struggling with this task where it says: Write programs that read a line of input as a <code>string</code> and print the <code>positions</code> of all <code>vowels</code> in the string.</p>\n<p>I have managed to print out the number of vowels in the input but I got stuck when it came to print out their positions.</p>\n<p>Any help would be appreciated!</p>\n<pre><code>System.out.println(&quot;Enter your input: &quot;);\n    String input = in.nextLine();\n\n    int sum = 0;\n\n    for(int i = 0; i &lt; input.length(); i++){\n        char vowel = input.charAt(i);\n        if(vowel == 'a'|| vowel == 'e'|| vowel == 'i'||\n                vowel == 'o'|| vowel == 'u'|| vowel == 'y'){\n            sum++;\n        }\n\n    }\n    System.out.println(sum);\n</code></pre>\n"},{"tags":["java","ibm-jdk","openj9"],"answers":[{"tags":[],"owner":{"account_id":16380457,"reputation":151,"user_id":11831614,"display_name":"Keith W. Campbell"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675716049,"creation_date":1675716049,"answer_id":75366361,"question_id":75365642,"body_markdown":"You&#39;ll need to provide more details about your environment; using the same VM works for me:\r\n\r\n    C&gt;java --version openjdk 17.0.5 2022-10-18 IBM Semeru Runtime Open Edition 17.0.5.0 (build 17.0.5+8) Eclipse OpenJ9 VM 17.0.5.0 (build openj9-0.35.0, JRE 17 Windows 10 amd64-64-Bit Compressed References 20221018_298 (JIT enabled, AOT enabled) OpenJ9   - e04a7f6c1 OMR     \r\n    - 85a21674f JCL      - 32d2c409a33 based on jdk-17.0.5+8)\r\n    \r\n    C&gt;dir  Volume in drive C has no label.  Volume Serial Number is 980D-DE8B\r\n    \r\n     Directory of C:\\cygwin\\home\\keithc\\jbang-0.102.0\\bin\r\n    \r\n    80/02/01  00:00    &lt;DIR&gt;          . 80/02/01  00:00    &lt;DIR&gt;          .. 80/02/01  00:00             7,495 jbang 80/02/01  00:00             3,115 jbang.cmd 80/02/01  00:00         5,810,175 jbang.jar 80/02/01  00:00             7,737 jbang.ps1\r\n                   4 File(s)      5,828,522 bytes\r\n                   2 Dir(s)  269,905,985,536 bytes free\r\n    \r\n    C&gt;jbang.cmd --version\r\n    0.102.0\r\n\r\nIt also works with a jar I built from source:\r\n\r\n    C&gt;java -cp jbang.jar dev.jbang.Main --version\r\n    0.102.0.7\r\n","title":"JBang on OpenJ9","body":"<p>You'll need to provide more details about your environment; using the same VM works for me:</p>\n<pre><code>C&gt;java --version openjdk 17.0.5 2022-10-18 IBM Semeru Runtime Open Edition 17.0.5.0 (build 17.0.5+8) Eclipse OpenJ9 VM 17.0.5.0 (build openj9-0.35.0, JRE 17 Windows 10 amd64-64-Bit Compressed References 20221018_298 (JIT enabled, AOT enabled) OpenJ9   - e04a7f6c1 OMR     \n- 85a21674f JCL      - 32d2c409a33 based on jdk-17.0.5+8)\n\nC&gt;dir  Volume in drive C has no label.  Volume Serial Number is 980D-DE8B\n\n Directory of C:\\cygwin\\home\\keithc\\jbang-0.102.0\\bin\n\n80/02/01  00:00    &lt;DIR&gt;          . 80/02/01  00:00    &lt;DIR&gt;          .. 80/02/01  00:00             7,495 jbang 80/02/01  00:00             3,115 jbang.cmd 80/02/01  00:00         5,810,175 jbang.jar 80/02/01  00:00             7,737 jbang.ps1\n               4 File(s)      5,828,522 bytes\n               2 Dir(s)  269,905,985,536 bytes free\n\nC&gt;jbang.cmd --version\n0.102.0\n</code></pre>\n<p>It also works with a jar I built from source:</p>\n<pre><code>C&gt;java -cp jbang.jar dev.jbang.Main --version\n0.102.0.7\n</code></pre>\n"}],"owner":{"account_id":6687341,"reputation":75,"user_id":5158062,"display_name":"dvisentin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1675716049,"creation_date":1675710970,"question_id":75365642,"body_markdown":"I&#39;m trying to run the latest JBang v0.102.0 on Eclipse/IBM JDK, but I get this error. \r\nAny suggestions?\r\n\r\n```\r\nC:\\bin\\jbang\\bin&gt;java -version\r\nopenjdk version &quot;17.0.5&quot; 2022-10-18\r\nIBM Semeru Runtime Open Edition 17.0.5.0 (build 17.0.5+8)\r\nEclipse OpenJ9 VM 17.0.5.0 (build openj9-0.35.0, JRE 17 Windows 11 amd64-64-Bit Compressed References 20221018_298 (JIT enabled, AOT enabled)\r\nOpenJ9   - e04a7f6c1\r\nOMR      - 85a21674f\r\nJCL      - 32d2c409a33 based on jdk-17.0.5+8)\r\n\r\nC:\\bin\\jbang\\bin&gt;jbang.cmd\r\nErrore: LinkageError durante il caricamento della classe principale dev.jbang.Main\r\n        java.lang.NoSuchFieldError: jdk/internal/loader/URLClassPath$JarLoader.csu\r\n```","title":"JBang on OpenJ9","body":"<p>I'm trying to run the latest JBang v0.102.0 on Eclipse/IBM JDK, but I get this error.\nAny suggestions?</p>\n<pre><code>C:\\bin\\jbang\\bin&gt;java -version\nopenjdk version &quot;17.0.5&quot; 2022-10-18\nIBM Semeru Runtime Open Edition 17.0.5.0 (build 17.0.5+8)\nEclipse OpenJ9 VM 17.0.5.0 (build openj9-0.35.0, JRE 17 Windows 11 amd64-64-Bit Compressed References 20221018_298 (JIT enabled, AOT enabled)\nOpenJ9   - e04a7f6c1\nOMR      - 85a21674f\nJCL      - 32d2c409a33 based on jdk-17.0.5+8)\n\nC:\\bin\\jbang\\bin&gt;jbang.cmd\nErrore: LinkageError durante il caricamento della classe principale dev.jbang.Main\n        java.lang.NoSuchFieldError: jdk/internal/loader/URLClassPath$JarLoader.csu\n</code></pre>\n"},{"tags":["java","spring-batch"],"answers":[{"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675715832,"creation_date":1675715832,"answer_id":75366326,"question_id":75364317,"body_markdown":"A chunk-oriented step in Spring Batch will not read the entire file or table at once. It will rather stream data from the source in chunks (of a configurable size).\r\n\r\nYou can find more details about the processing model in the reference documentation here: [Chunk-oriented Processing](https://docs.spring.io/spring-batch/docs/current/reference/html/step.html#chunkOrientedProcessing).","title":"Springbatch read from csv, how does it work?","body":"<p>A chunk-oriented step in Spring Batch will not read the entire file or table at once. It will rather stream data from the source in chunks (of a configurable size).</p>\n<p>You can find more details about the processing model in the reference documentation here: <a href=\"https://docs.spring.io/spring-batch/docs/current/reference/html/step.html#chunkOrientedProcessing\" rel=\"nofollow noreferrer\">Chunk-oriented Processing</a>.</p>\n"}],"owner":{"account_id":5905254,"reputation":13,"user_id":4647296,"display_name":"Hua Liang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75366326,"answer_count":1,"score":0,"last_activity_date":1675715832,"creation_date":1675702541,"question_id":75364317,"body_markdown":"I am new to springbatch, and I wonder how this reader/processor/writer works if I am reading a csv file which contains 10k rows, use a chunk size of 10 and output to a csv file.\r\n\r\nMy questions is:\r\n\r\nDoes springbatch loads all 10k rows from csv in one time, process individually(10k times), and then store all of them into the destination file in one go? If so, what&#39;s the point of using springbatch? I can have three methods doing the same job right?\r\n\r\n**Or**:\r\n\r\nDoes springbatch opens up a stream reading 10k rows from csv, each time it reads 10 rows, process 10 rows, and open a output stream write/append those 10 rows into destination file? Basically repeats 10k/10 = 1k times.\r\n\r\n\r\n\r\n```java\r\n\r\n@Configuration\r\npublic class SampleJob3 {\r\n\r\n    @Bean\r\n    public Job job3(JobRepository jobRepository, PlatformTransactionManager transactionManager) {\r\n        return new JobBuilder(&quot;Job3&quot;, jobRepository)\r\n                .incrementer(new RunIdIncrementer()) // work with program args\r\n                .start(step(jobRepository, transactionManager))\r\n                .build();\r\n    }\r\n\r\n    private Step step(JobRepository jobRepository, PlatformTransactionManager transactionManager) {\r\n        return new StepBuilder(&quot;Job3 Step started &quot;)\r\n                .&lt;Student, Student&gt;chunk(3)\r\n                .repository(jobRepository)\r\n                .transactionManager(transactionManager)\r\n                .reader(reader(true))\r\n                .processor(student -&gt; {\r\n                    System.out.println(&quot;processor&quot;);\r\n                    return new Student(student.getId(), student.getFirstName() + &quot;!&quot;, student.getLastName() + &quot;!&quot;, student.getEmail() + &quot;!&quot;);\r\n                })\r\n                .writer(writer())\r\n                .build();\r\n    }\r\n\r\n\r\n    private FlatFileItemReader&lt;Student&gt; reader(boolean isValid) {\r\n        System.out.println(&quot;reader&quot;);\r\n        FlatFileItemReader&lt;Student&gt; reader = new FlatFileItemReader&lt;&gt;();\r\n        // using FileSystemResource if file stores in a directory instead of resource folder\r\n        reader.setResource(new PathMatchingResourcePatternResolver().getResource(isValid ? &quot;input/students.csv&quot; : &quot;input/students_invalid.csv&quot;));\r\n        reader.setLineMapper(new DefaultLineMapper&lt;&gt;() {\r\n            {\r\n                setLineTokenizer(new DelimitedLineTokenizer() {{\r\n                    setNames(&quot;ID&quot;, &quot;First Name&quot;, &quot;Last Name&quot;, &quot;Email&quot;);\r\n                }});\r\n\r\n                setFieldSetMapper(new BeanWrapperFieldSetMapper&lt;&gt;() {{\r\n                    setTargetType(Student.class);\r\n                }});\r\n            }\r\n        });\r\n        reader.setLinesToSkip(1);\r\n        return reader;\r\n    }\r\n\r\n    //@Bean\r\n    public FlatFileItemWriter&lt;Student&gt; writer() {\r\n        System.out.println(&quot;writer&quot;);\r\n        FlatFileItemWriter&lt;Student&gt; writer = new FlatFileItemWriter&lt;&gt;();\r\n        writer.setResource(new FileSystemResource(&quot;output/students.csv&quot;));\r\n        writer.setHeaderCallback(writer1 -&gt; writer1.write(&quot;Id,First Name,Last Name, Email&quot;));\r\n        writer.setLineAggregator(new DelimitedLineAggregator&lt;&gt;() {{\r\n            setFieldExtractor(new BeanWrapperFieldExtractor&lt;&gt;() {{\r\n                setNames(new String[]{&quot;id&quot;, &quot;firstName&quot;, &quot;lastName&quot;, &quot;email&quot;});\r\n            }});\r\n        }});\r\n\r\n        writer.setFooterCallback(writer12 -&gt; writer12.write(&quot;Created @ &quot; + Instant.now()));\r\n        return writer;\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\nMy last question basically the same, but datasource is database. e.g. reading a table contains 10k data from dbA and write to dbB. Am I able to read 10 rows at a time, process them and write them to dbB? If so, can you share some sudocode?","title":"Springbatch read from csv, how does it work?","body":"<p>I am new to springbatch, and I wonder how this reader/processor/writer works if I am reading a csv file which contains 10k rows, use a chunk size of 10 and output to a csv file.</p>\n<p>My questions is:</p>\n<p>Does springbatch loads all 10k rows from csv in one time, process individually(10k times), and then store all of them into the destination file in one go? If so, what's the point of using springbatch? I can have three methods doing the same job right?</p>\n<p><strong>Or</strong>:</p>\n<p>Does springbatch opens up a stream reading 10k rows from csv, each time it reads 10 rows, process 10 rows, and open a output stream write/append those 10 rows into destination file? Basically repeats 10k/10 = 1k times.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Configuration\npublic class SampleJob3 {\n\n    @Bean\n    public Job job3(JobRepository jobRepository, PlatformTransactionManager transactionManager) {\n        return new JobBuilder(&quot;Job3&quot;, jobRepository)\n                .incrementer(new RunIdIncrementer()) // work with program args\n                .start(step(jobRepository, transactionManager))\n                .build();\n    }\n\n    private Step step(JobRepository jobRepository, PlatformTransactionManager transactionManager) {\n        return new StepBuilder(&quot;Job3 Step started &quot;)\n                .&lt;Student, Student&gt;chunk(3)\n                .repository(jobRepository)\n                .transactionManager(transactionManager)\n                .reader(reader(true))\n                .processor(student -&gt; {\n                    System.out.println(&quot;processor&quot;);\n                    return new Student(student.getId(), student.getFirstName() + &quot;!&quot;, student.getLastName() + &quot;!&quot;, student.getEmail() + &quot;!&quot;);\n                })\n                .writer(writer())\n                .build();\n    }\n\n\n    private FlatFileItemReader&lt;Student&gt; reader(boolean isValid) {\n        System.out.println(&quot;reader&quot;);\n        FlatFileItemReader&lt;Student&gt; reader = new FlatFileItemReader&lt;&gt;();\n        // using FileSystemResource if file stores in a directory instead of resource folder\n        reader.setResource(new PathMatchingResourcePatternResolver().getResource(isValid ? &quot;input/students.csv&quot; : &quot;input/students_invalid.csv&quot;));\n        reader.setLineMapper(new DefaultLineMapper&lt;&gt;() {\n            {\n                setLineTokenizer(new DelimitedLineTokenizer() {{\n                    setNames(&quot;ID&quot;, &quot;First Name&quot;, &quot;Last Name&quot;, &quot;Email&quot;);\n                }});\n\n                setFieldSetMapper(new BeanWrapperFieldSetMapper&lt;&gt;() {{\n                    setTargetType(Student.class);\n                }});\n            }\n        });\n        reader.setLinesToSkip(1);\n        return reader;\n    }\n\n    //@Bean\n    public FlatFileItemWriter&lt;Student&gt; writer() {\n        System.out.println(&quot;writer&quot;);\n        FlatFileItemWriter&lt;Student&gt; writer = new FlatFileItemWriter&lt;&gt;();\n        writer.setResource(new FileSystemResource(&quot;output/students.csv&quot;));\n        writer.setHeaderCallback(writer1 -&gt; writer1.write(&quot;Id,First Name,Last Name, Email&quot;));\n        writer.setLineAggregator(new DelimitedLineAggregator&lt;&gt;() {{\n            setFieldExtractor(new BeanWrapperFieldExtractor&lt;&gt;() {{\n                setNames(new String[]{&quot;id&quot;, &quot;firstName&quot;, &quot;lastName&quot;, &quot;email&quot;});\n            }});\n        }});\n\n        writer.setFooterCallback(writer12 -&gt; writer12.write(&quot;Created @ &quot; + Instant.now()));\n        return writer;\n    }\n\n\n}\n</code></pre>\n<p>My last question basically the same, but datasource is database. e.g. reading a table contains 10k data from dbA and write to dbB. Am I able to read 10 rows at a time, process them and write them to dbB? If so, can you share some sudocode?</p>\n"},{"tags":["java","microservices"],"answers":[{"tags":[],"owner":{"account_id":6993865,"reputation":58,"user_id":5362116,"display_name":"Shubham"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675715688,"creation_date":1675715688,"answer_id":75366307,"question_id":75363425,"body_markdown":"This could be cause by your Rest/Grpc request pool getting filled and request being rejected. You can connect VisualVM to your application see whats happening on the Thread and Heap level","title":"Microservice is throwing 502 Bad gateway time out after some to perform load testing","body":"<p>This could be cause by your Rest/Grpc request pool getting filled and request being rejected. You can connect VisualVM to your application see whats happening on the Thread and Heap level</p>\n"}],"owner":{"account_id":1411431,"reputation":81,"user_id":1337934,"display_name":"user1337934"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":281,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1675715688,"creation_date":1675697845,"question_id":75363425,"body_markdown":"I am using the microservice architecture and performing the load testing where main microservice is throwing the 502 Bad gateway timeout after some time e.g 1k user load, after completing the 400 user request then after it is start to throw the 502 Bad gateway timeout.\r\n\r\nService name\r\n Eureka zuul Api gateway\r\n Eureka server\r\n Eureka client( main microservice)\r\n\r\nPlease  share your suggestions and let know if you have any questions \r\n ","title":"Microservice is throwing 502 Bad gateway time out after some to perform load testing","body":"<p>I am using the microservice architecture and performing the load testing where main microservice is throwing the 502 Bad gateway timeout after some time e.g 1k user load, after completing the 400 user request then after it is start to throw the 502 Bad gateway timeout.</p>\n<p>Service name\nEureka zuul Api gateway\nEureka server\nEureka client( main microservice)</p>\n<p>Please  share your suggestions and let know if you have any questions</p>\n"},{"tags":["java","pdf","digital-signature","bouncycastle","pkcs#7"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1644244416,"post_id":71018373,"comment_id":125546411,"body_markdown":"Please share an example PDF for analysis","body":"Please share an example PDF for analysis"},{"owner":{"account_id":6275061,"reputation":95,"user_id":4877969,"accept_rate":60,"display_name":"krillov"},"score":0,"creation_date":1644249592,"post_id":71018373,"comment_id":125548887,"body_markdown":"The problem is I can&#39;t really.","body":"The problem is I can&#39;t really."}],"answers":[{"tags":[],"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1644257971,"creation_date":1644257971,"answer_id":71023481,"question_id":71018373,"body_markdown":"First off, the term &quot;LTV enabled&quot; is not as well defined as one might wish for. As has been mentioned a number of times here on stack overflow (e.g. [here][1], [here][2], or [here][3]), Adobe Acrobat displays that a given signature is &quot;LTV enabled&quot; if during validation it observed that it did not need to access remote sources to retrieve information it required for validation.\r\n\r\nThus, whether or not Adobe Acrobat considers your signature LTV enabled, depends on the (closed!) algorithms of the Adobe signature validation code and the configuration of the signature validation in Adobe Acrobat.\r\n\r\n*Both these factors are subject to change!*\r\n\r\nIn essence, therefore, **you cannot be &quot;sure about the LTV&quot;!**\r\n\r\nNonetheless, you can try your best to provide as much relevant validation related information and fix it in time. This improves your chances that your signatures are and will continue to be considered LTV enabled by Adobe Acrobat.\r\n\r\n---\r\n\r\nNow concerning your questions:\r\n\r\n### signing-certificate ... signing-certificate V2 ... Is there a need for having both?\r\n\r\nTo begin with, these attributes are not required by Adobe Acrobat validation routines. (Not _yet_, that is.) So this is not (yet?) relevant for your objective.\r\n\r\nIf you are interested nonetheless - no. If your signature algorithm relies on SHA-1 for hashing (which it of course should not!), you should use the plain signing-certificate attribute (in CMS called ESSCertID). If it relies on a different, more advanced algorithm, you should use the newer signing-certificate-V2 attribute (in CMS called ESSCertIDv2) and use the same hash algorithm as in your signature algorithm.\r\n\r\nOnly if your signatures will also be verified by older (well, ancient) software that supports ESSCertID but not yet ESSCertIDv2, you might consider adding both attributes. \r\n\r\nIn the context at hand, by the way, eSig DSS _does_ support both ESSCertID and ESSCertIDv2. Thus, if it says that the signing attribute is missing, that means that there is something fishy about the signing-attribute V2 you saw in your signature...\r\n\r\n### Should/can I ignore this warning?\r\n\r\nIn respect to Adobe&#39;s &quot;LTV enabled&quot; profile, you currently can ignore the warning for now. And whether or not Adobe will start requiring that attribute by default in the future and (if yes) how exactly, is hard to tell.\r\n\r\n### How can one be sure about the LTV? Is there some other way for validation?\r\n\r\nAs mentioned above, you can _not_ be sure about the &quot;LTV enabled&quot; status of your signatures.\r\n\r\nConsidering the [screen shot you shared][4], though, it mentions that your PDF signature reached only a BASELINE-T equivalent level. In particular, you did not reach a BASELINE-LT equivalent, let alone a BASELINE-LTA equivalent here. Thus, as far as ETSI conform validation goes, the required revocation information were _not_ all found in your PDF. \r\n\r\nAdobe&#39;s validation rules (currently) are very lax in comparison with the ETSI rules, so it might display &quot;LTV enabled&quot; nonetheless. Unless you want to improve your signatures to BASELINE-LT at least, though, using eSignature DSS won&#39;t help you as validation tool...\r\n\r\n  [1]: https://stackoverflow.com/a/26124267/1729265\r\n  [2]: https://stackoverflow.com/a/60458573/1729265\r\n  [3]: https://stackoverflow.com/a/33279446/1729265\r\n  [4]: https://i.stack.imgur.com/11VXd.png","title":"QESeal LTV validation","body":"<p>First off, the term &quot;LTV enabled&quot; is not as well defined as one might wish for. As has been mentioned a number of times here on stack overflow (e.g. <a href=\"https://stackoverflow.com/a/26124267/1729265\">here</a>, <a href=\"https://stackoverflow.com/a/60458573/1729265\">here</a>, or <a href=\"https://stackoverflow.com/a/33279446/1729265\">here</a>), Adobe Acrobat displays that a given signature is &quot;LTV enabled&quot; if during validation it observed that it did not need to access remote sources to retrieve information it required for validation.</p>\n<p>Thus, whether or not Adobe Acrobat considers your signature LTV enabled, depends on the (closed!) algorithms of the Adobe signature validation code and the configuration of the signature validation in Adobe Acrobat.</p>\n<p><em>Both these factors are subject to change!</em></p>\n<p>In essence, therefore, <strong>you cannot be &quot;sure about the LTV&quot;!</strong></p>\n<p>Nonetheless, you can try your best to provide as much relevant validation related information and fix it in time. This improves your chances that your signatures are and will continue to be considered LTV enabled by Adobe Acrobat.</p>\n<hr />\n<p>Now concerning your questions:</p>\n<h3>signing-certificate ... signing-certificate V2 ... Is there a need for having both?</h3>\n<p>To begin with, these attributes are not required by Adobe Acrobat validation routines. (Not <em>yet</em>, that is.) So this is not (yet?) relevant for your objective.</p>\n<p>If you are interested nonetheless - no. If your signature algorithm relies on SHA-1 for hashing (which it of course should not!), you should use the plain signing-certificate attribute (in CMS called ESSCertID). If it relies on a different, more advanced algorithm, you should use the newer signing-certificate-V2 attribute (in CMS called ESSCertIDv2) and use the same hash algorithm as in your signature algorithm.</p>\n<p>Only if your signatures will also be verified by older (well, ancient) software that supports ESSCertID but not yet ESSCertIDv2, you might consider adding both attributes.</p>\n<p>In the context at hand, by the way, eSig DSS <em>does</em> support both ESSCertID and ESSCertIDv2. Thus, if it says that the signing attribute is missing, that means that there is something fishy about the signing-attribute V2 you saw in your signature...</p>\n<h3>Should/can I ignore this warning?</h3>\n<p>In respect to Adobe's &quot;LTV enabled&quot; profile, you currently can ignore the warning for now. And whether or not Adobe will start requiring that attribute by default in the future and (if yes) how exactly, is hard to tell.</p>\n<h3>How can one be sure about the LTV? Is there some other way for validation?</h3>\n<p>As mentioned above, you can <em>not</em> be sure about the &quot;LTV enabled&quot; status of your signatures.</p>\n<p>Considering the <a href=\"https://i.stack.imgur.com/11VXd.png\" rel=\"nofollow noreferrer\">screen shot you shared</a>, though, it mentions that your PDF signature reached only a BASELINE-T equivalent level. In particular, you did not reach a BASELINE-LT equivalent, let alone a BASELINE-LTA equivalent here. Thus, as far as ETSI conform validation goes, the required revocation information were <em>not</em> all found in your PDF.</p>\n<p>Adobe's validation rules (currently) are very lax in comparison with the ETSI rules, so it might display &quot;LTV enabled&quot; nonetheless. Unless you want to improve your signatures to BASELINE-LT at least, though, using eSignature DSS won't help you as validation tool...</p>\n"},{"tags":[],"owner":{"account_id":326436,"reputation":51,"user_id":648206,"display_name":"pibou"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675715670,"creation_date":1675715670,"answer_id":75366305,"question_id":71018373,"body_markdown":"Use DSS, not Adobe\r\n\r\nYour signature is &quot;total passed&quot; : no problem about the seal itself.\r\n\r\nCheck the &quot;Validation Process for Signatures with Archival Data&quot; in DSS &quot;Detailed Report&quot; tab for the result of LTV Validation. Beware validation only makes sense when you make it (if a certificate used for validation expires ...). You can extend a signature (include CRL / OCSP while they are valid).","title":"QESeal LTV validation","body":"<p>Use DSS, not Adobe</p>\n<p>Your signature is &quot;total passed&quot; : no problem about the seal itself.</p>\n<p>Check the &quot;Validation Process for Signatures with Archival Data&quot; in DSS &quot;Detailed Report&quot; tab for the result of LTV Validation. Beware validation only makes sense when you make it (if a certificate used for validation expires ...). You can extend a signature (include CRL / OCSP while they are valid).</p>\n"}],"owner":{"account_id":6275061,"reputation":95,"user_id":4877969,"accept_rate":60,"display_name":"krillov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":702,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1675715670,"creation_date":1644235901,"question_id":71018373,"body_markdown":"I had issues some months ago with signed PDFs and LTV. Acrobat Reader showed that the signature is LTV enabled and after some months it started to say otherwise, the signature is not LTV enabled and will expire in around 1 year after the signing.\r\n\r\nNow I&#39;m working on an a new implementation and just wanna make sure that the LTV won&#39;t disappear this time. I got some tips about using the DSS library also to validate my signatures. Adobe says this time also that the signature is LTV enabled. The DSS validator is complaining about one thing: *The signed attribute: &#39;signing-certificate&#39; is absent!* I have checked and it&#39;s right because there is no signing-certificate attribute in the ASN1 structure but there is signing certificate V2. I tried to also add the signing-certificate attribute but then I got some other issues. I may have done this the wrong way though. Is there a need for having both? Should/can I ignore this warning? How can one be sure about the LTV? Is there some other way for validation?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/11VXd.png\r\n  [2]: https://i.stack.imgur.com/1jLWH.png","title":"QESeal LTV validation","body":"<p>I had issues some months ago with signed PDFs and LTV. Acrobat Reader showed that the signature is LTV enabled and after some months it started to say otherwise, the signature is not LTV enabled and will expire in around 1 year after the signing.</p>\n<p>Now I'm working on an a new implementation and just wanna make sure that the LTV won't disappear this time. I got some tips about using the DSS library also to validate my signatures. Adobe says this time also that the signature is LTV enabled. The DSS validator is complaining about one thing: <em>The signed attribute: 'signing-certificate' is absent!</em> I have checked and it's right because there is no signing-certificate attribute in the ASN1 structure but there is signing certificate V2. I tried to also add the signing-certificate attribute but then I got some other issues. I may have done this the wrong way though. Is there a need for having both? Should/can I ignore this warning? How can one be sure about the LTV? Is there some other way for validation?</p>\n<p><a href=\"https://i.stack.imgur.com/11VXd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/11VXd.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/1jLWH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1jLWH.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","selenium","selenium-webdriver","nosuchmethoderror","selenium-java"],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675689490,"creation_date":1675689490,"answer_id":75361824,"question_id":75361586,"body_markdown":"This error message...\r\n\r\n\tException in thread &quot;main&quot; java.lang.NoSuchMethodError: com.google.common.collect.ImmutableMap.of(Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;)Lcom/google/common/collect/ImmutableMap;\r\n\r\n...implies that the file `com/google/common/collect/ImmutableMap` might be corrupted or there is some incompatibility between the version of the binaries you are using specifically with the **guava** _version_ / _dependency_ (maven).\r\n\r\n\r\n----------\r\n\r\n\r\nYou need to take care of a couple of things as follows:\r\n\r\n- In the `System.setProperty()` line you have passed the absolute location of the ChromeDriver/GeckoDriver as follows:\r\n\r\n\t  System.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;C:\\\\path\\\\to\\\\chromedriver.exe&quot;);\r\n\r\n- Incase you are using [tag:maven] deleting the corrup/incompatible `.m2` folder can solve your issue.\r\n\t\t\r\n- Upgrade _JDK_ to  recent levels [JDK 8u351](https://www.oracle.com/java/technologies/javase/javase8u211-later-archive-downloads.html).\r\n- Upgrade _Selenium_ to  current levels [**Version 3.141.59**](https://www.selenium.dev/downloads/).\r\n- _ChromeDriver_ is updated to  current [ChromeDriver v109.0](https://chromedriver.storage.googleapis.com/index.html?path=109.0.5414.74/) level.\r\n- _Chrome Browser_ is updated to  current _chrome=109.0_ (as per [chromedriver=102.0.5005.61 release notes](https://chromedriver.storage.googleapis.com/109.0.5414.74/notes.txt)).\r\n\r\n\r\n----------\r\n\r\n\r\nReference\r\n---------\r\nYou can find a relevant discussion in:\r\n\r\n- [java.lang.NoClassDefFoundError: com/google/common/collect/ImmutableMap error using GeckoDriver Firefox through Selenium in Java](https://stackoverflow.com/a/59319773/7429447)\r\n- [org.openqa.selenium.remote.service.DriverService$Builder.createArgs()Lcom/google/common/collect/ImmutableList; with Selenium 3.5.3 Chrome 76](https://stackoverflow.com/questions/57634492/org-openqa-selenium-remote-service-driverservicebuilder-createargslcom-google/57658406#57658406)","title":"java.lang.NoSuchMethodError: com.google.common.collect.ImmutableMap.of(Ljava/lang/Object;Ljava error while opening browser with Selenium Java","body":"<p>This error message...</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoSuchMethodError: com.google.common.collect.ImmutableMap.of(Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;)Lcom/google/common/collect/ImmutableMap;\n</code></pre>\n<p>...implies that the file <code>com/google/common/collect/ImmutableMap</code> might be corrupted or there is some incompatibility between the version of the binaries you are using specifically with the <strong>guava</strong> <em>version</em> / <em>dependency</em> (maven).</p>\n<hr />\n<p>You need to take care of a couple of things as follows:</p>\n<ul>\n<li><p>In the <code>System.setProperty()</code> line you have passed the absolute location of the ChromeDriver/GeckoDriver as follows:</p>\n<pre><code>System.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;C:\\\\path\\\\to\\\\chromedriver.exe&quot;);\n</code></pre>\n</li>\n<li><p>Incase you are using <a href=\"/questions/tagged/maven\" class=\"post-tag\" title=\"show questions tagged &#39;maven&#39;\" aria-label=\"show questions tagged &#39;maven&#39;\" rel=\"tag\" aria-labelledby=\"maven-container\">maven</a> deleting the corrup/incompatible <code>.m2</code> folder can solve your issue.</p>\n</li>\n<li><p>Upgrade <em>JDK</em> to  recent levels <a href=\"https://www.oracle.com/java/technologies/javase/javase8u211-later-archive-downloads.html\" rel=\"nofollow noreferrer\">JDK 8u351</a>.</p>\n</li>\n<li><p>Upgrade <em>Selenium</em> to  current levels <a href=\"https://www.selenium.dev/downloads/\" rel=\"nofollow noreferrer\"><strong>Version 3.141.59</strong></a>.</p>\n</li>\n<li><p><em>ChromeDriver</em> is updated to  current <a href=\"https://chromedriver.storage.googleapis.com/index.html?path=109.0.5414.74/\" rel=\"nofollow noreferrer\">ChromeDriver v109.0</a> level.</p>\n</li>\n<li><p><em>Chrome Browser</em> is updated to  current <em>chrome=109.0</em> (as per <a href=\"https://chromedriver.storage.googleapis.com/109.0.5414.74/notes.txt\" rel=\"nofollow noreferrer\">chromedriver=102.0.5005.61 release notes</a>).</p>\n</li>\n</ul>\n<hr />\n<h2>Reference</h2>\n<p>You can find a relevant discussion in:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/a/59319773/7429447\">java.lang.NoClassDefFoundError: com/google/common/collect/ImmutableMap error using GeckoDriver Firefox through Selenium in Java</a></li>\n<li><a href=\"https://stackoverflow.com/questions/57634492/org-openqa-selenium-remote-service-driverservicebuilder-createargslcom-google/57658406#57658406\">org.openqa.selenium.remote.service.DriverService$Builder.createArgs()Lcom/google/common/collect/ImmutableList; with Selenium 3.5.3 Chrome 76</a></li>\n</ul>\n"}],"owner":{"account_id":27716223,"reputation":1,"user_id":21157879,"display_name":"Shrivijay Kale"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":275,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675715576,"creation_date":1675688138,"question_id":75361586,"body_markdown":"I am getting this error while executing program in Eclipse.\r\nI am trying to open fb using selenium.\r\nCode trials:\r\n```java\r\nSLF4J: No SLF4J providers were found.\r\nSLF4J: Defaulting to no-operation (NOP) logger implementation\r\nSLF4J: See https://www.slf4j.org/codes.html#noProviders for further details.\r\nException in thread &quot;main&quot; java.lang.NoSuchMethodError: com.google.common.collect.ImmutableMap.of(Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;)Lcom/google/common/collect/ImmutableMap;\r\n\tat org.openqa.selenium.chrome.AddHasCasting.getAdditionalCommands(AddHasCasting.java:38)\r\n\tat org.openqa.selenium.chrome.ChromeDriver$ChromeDriverCommandExecutor.getExtraCommands(ChromeDriver.java:99)\r\n\tat org.openqa.selenium.chrome.ChromeDriver$ChromeDriverCommandExecutor.&lt;init&gt;(ChromeDriver.java:94)\r\n\tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:82)\r\n\tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:50)\r\n\tat Practice.OpenBrowser.main(OpenBrowser.java:15)\r\n```\r\nPlease help.","title":"java.lang.NoSuchMethodError: com.google.common.collect.ImmutableMap.of(Ljava/lang/Object;Ljava error while opening browser with Selenium Java","body":"<p>I am getting this error while executing program in Eclipse.\nI am trying to open fb using selenium.\nCode trials:</p>\n<pre class=\"lang-java prettyprint-override\"><code>SLF4J: No SLF4J providers were found.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See https://www.slf4j.org/codes.html#noProviders for further details.\nException in thread &quot;main&quot; java.lang.NoSuchMethodError: com.google.common.collect.ImmutableMap.of(Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;)Lcom/google/common/collect/ImmutableMap;\n    at org.openqa.selenium.chrome.AddHasCasting.getAdditionalCommands(AddHasCasting.java:38)\n    at org.openqa.selenium.chrome.ChromeDriver$ChromeDriverCommandExecutor.getExtraCommands(ChromeDriver.java:99)\n    at org.openqa.selenium.chrome.ChromeDriver$ChromeDriverCommandExecutor.&lt;init&gt;(ChromeDriver.java:94)\n    at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:82)\n    at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:50)\n    at Practice.OpenBrowser.main(OpenBrowser.java:15)\n</code></pre>\n<p>Please help.</p>\n"},{"tags":["java","algorithm","data-structures","singly-linked-list"],"comments":[{"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"score":0,"creation_date":1675620499,"post_id":75354370,"comment_id":132964074,"body_markdown":"Sorry I&#39;m confused. What is `SingleLinkedList`? What is `Node`? What is the actual problem you&#39;re facing? Do you get errors? Is the output not what you expect? What is your question?","body":"Sorry I&#39;m confused. What is <code>SingleLinkedList</code>? What is <code>Node</code>? What is the actual problem you&#39;re facing? Do you get errors? Is the output not what you expect? What is your question?"},{"owner":{"account_id":27710117,"reputation":1,"user_id":21152978,"display_name":"Tnhan02"},"score":0,"creation_date":1675620786,"post_id":75354370,"comment_id":132964137,"body_markdown":"ah actually I typed it wrong, it&#39;s singly linked list","body":"ah actually I typed it wrong, it&#39;s singly linked list"},{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":0,"creation_date":1675626388,"post_id":75354370,"comment_id":132965213,"body_markdown":"Why don&#39;t you use a variable size to keep track of the number of nodes in the list.  When you add a node, you increment size.  When you remove a node, you decrement size.  So, size() will always return the number of nodes in the list.  ``int size() { return size;}``","body":"Why don&#39;t you use a variable size to keep track of the number of nodes in the list.  When you add a node, you increment size.  When you remove a node, you decrement size.  So, size() will always return the number of nodes in the list.  <code>int size() { return size;}</code>"},{"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1675675638,"post_id":75354370,"comment_id":132972736,"body_markdown":"Why should `[1,2,2,2,3,1] -&gt; [1,2,3,1] returns 4` be true? Is there a reason why not all `2` should be removed? The description says *&quot;removing all consecutive nodes of same value&quot;*. To me those three `2` are consecutive and have the same value...","body":"Why should <code>[1,2,2,2,3,1] -&gt; [1,2,3,1] returns 4</code> be true? Is there a reason why not all <code>2</code> should be removed? The description says <i>&quot;removing all consecutive nodes of same value&quot;</i>. To me those three <code>2</code> are consecutive and have the same value..."},{"owner":{"account_id":27710117,"reputation":1,"user_id":21152978,"display_name":"Tnhan02"},"score":0,"creation_date":1675685569,"post_id":75354370,"comment_id":132975694,"body_markdown":"The reason is the task asks to remove the leftmode consecutive pair of nodes","body":"The reason is the task asks to remove the leftmode consecutive pair of nodes"},{"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1675685731,"post_id":75354370,"comment_id":132975745,"body_markdown":"So if you have 4 consecutive `2` will they all be removed? And if there are 5 of them, will one remain, or three?","body":"So if you have 4 consecutive <code>2</code> will they all be removed? And if there are 5 of them, will one remain, or three?"},{"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1675688015,"post_id":75354370,"comment_id":132976358,"body_markdown":"Could you come back to this? Can you edit your question and add the expected outputs for [1,2,2,2,2,1] and [1,2,2,2,2,2,1]?","body":"Could you come back to this? Can you edit your question and add the expected outputs for [1,2,2,2,2,1] and [1,2,2,2,2,2,1]?"},{"owner":{"account_id":27710117,"reputation":1,"user_id":21152978,"display_name":"Tnhan02"},"score":1,"creation_date":1675702346,"post_id":75354370,"comment_id":132981298,"body_markdown":"they are [] and [1,2,1] respectively","body":"they are [] and [1,2,1] respectively"}],"answers":[{"tags":[],"owner":{"account_id":21534,"reputation":59456,"user_id":52443,"display_name":"Welbog"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675647358,"creation_date":1675647358,"answer_id":75356665,"question_id":75354370,"body_markdown":"You have two main problems:\r\n\r\n1. Missing null-pointer check for `curr.next = curr.next.next;`\r\n2. No attempt to go backward or restart when you find a duplicate.\r\n\r\nThe first fix is easy. Change \r\n\r\n```\r\n    while (curr != null &amp;&amp; curr.next != null) {\r\n        while(curr.value == curr.next.value){\r\n            curr.next = curr.next.next;\r\n        }\r\n        curr = curr.next;\r\n    }\r\n```\r\n\r\nTo \r\n\r\n```\r\n    while (curr != null &amp;&amp; curr.next != null) {\r\n        while(curr.next != null &amp;&amp; curr.value == curr.next.value){\r\n            curr.next = curr.next.next;\r\n        }\r\n        curr = curr.next;\r\n    }\r\n```\r\n\r\nThe second problem is more involved. Let&#39;s look at your logic with the example `[1 1]`. If I understand you correctly, you want it to convert the list to `[]`, and return 0. I will use notation `-&gt;` to mean &quot;references&quot; and `NodeK(value, next)` to refer to nodes in memory.\r\n\r\n0. Initialize: start -&gt; Node1; curr -&gt; Node1. Node1(1, Node2). Node2(1, null).\r\n1. Outer loop check if curr and curr.next are not null. They are not.\r\n2. Inner loop if check curr.value (1) is the same as curr.next.value (1). They are.\r\n3. Inner loop sets curr.next to curr.next.next. This redefines Node1 as Node1(1, null). curr still references Node1.\r\n4. Inner loop stops because curr.next is null.\r\n5. Outer loop sets curr to null.\r\n6. Outer loop stops because curr is null.\r\n\r\nThe result is that `start` -&gt; Node1(1, null). So the list is `[1]` and the return value will be 1. \r\n\r\nIt looks like you&#39;ve found some code online that replaces runs of duplicates to a single item. What you&#39;re looking for is logic that removes all of the entries, so that there are none left.\r\n\r\nTo do that, you need to look an extra level deep:\r\n\r\n```\r\nif (start == null) {\r\n  return 0;\r\n}\r\n\r\n// Begin by checking if the start reference needs to change.\r\n// Keep executing this until no changes are made.\r\nboolean changed = false;\r\nwhile (!changed) {\r\n  changed = false;\r\n  Node curr = start.next;\r\n  while (curr != null &amp;&amp; start.value == curr.value) {\r\n    curr = curr.next;\r\n    changed = true;\r\n  }\r\n\r\n  // If the start needs to change, update it to the first node whose value was different.\r\n  if (changed) {\r\n    start = curr;\r\n  }\r\n}\r\n\r\n// Then proceed with the rest of the list in a similar manner.\r\nchanged = false;\r\nwhile (!changed) {\r\n  Node previous = start;\r\n  while (previous != null) {\r\n    changed = false;\r\n    anchor = previous.next; \r\n    curr = anchor.next;\r\n    while (curr != null &amp;&amp; anchor.value == curr.value) {\r\n      curr = curr.next;\r\n      changed = true;\r\n    }\r\n   \r\n    if (changed) {\r\n      previous.next = curr;\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nThat should get you started at least. There&#39;s some null checks that need to happen here, but the basic idea is what you need. You need to keep a reference to the previous node (or the start node) because you&#39;re getting rid of all of the duplicates.\r\n\r\nAnother bit that&#39;s missing is that in the case of inputs like `[1 2 2 1]` where you expect the result to be `[]`, you need to run the whole algorithm again from the start if there&#39;s any changes. You&#39;re probably better off taking the idea and putting it into a function, so that you can call it repeatedly, and so that the `start` case and `previous` cases don&#39;t have so much repetition.","title":"Remove consecutive nodes in Single-Linked List","body":"<p>You have two main problems:</p>\n<ol>\n<li>Missing null-pointer check for <code>curr.next = curr.next.next;</code></li>\n<li>No attempt to go backward or restart when you find a duplicate.</li>\n</ol>\n<p>The first fix is easy. Change</p>\n<pre><code>    while (curr != null &amp;&amp; curr.next != null) {\n        while(curr.value == curr.next.value){\n            curr.next = curr.next.next;\n        }\n        curr = curr.next;\n    }\n</code></pre>\n<p>To</p>\n<pre><code>    while (curr != null &amp;&amp; curr.next != null) {\n        while(curr.next != null &amp;&amp; curr.value == curr.next.value){\n            curr.next = curr.next.next;\n        }\n        curr = curr.next;\n    }\n</code></pre>\n<p>The second problem is more involved. Let's look at your logic with the example <code>[1 1]</code>. If I understand you correctly, you want it to convert the list to <code>[]</code>, and return 0. I will use notation <code>-&gt;</code> to mean &quot;references&quot; and <code>NodeK(value, next)</code> to refer to nodes in memory.</p>\n<ol start=\"0\">\n<li>Initialize: start -&gt; Node1; curr -&gt; Node1. Node1(1, Node2). Node2(1, null).</li>\n<li>Outer loop check if curr and curr.next are not null. They are not.</li>\n<li>Inner loop if check curr.value (1) is the same as curr.next.value (1). They are.</li>\n<li>Inner loop sets curr.next to curr.next.next. This redefines Node1 as Node1(1, null). curr still references Node1.</li>\n<li>Inner loop stops because curr.next is null.</li>\n<li>Outer loop sets curr to null.</li>\n<li>Outer loop stops because curr is null.</li>\n</ol>\n<p>The result is that <code>start</code> -&gt; Node1(1, null). So the list is <code>[1]</code> and the return value will be 1.</p>\n<p>It looks like you've found some code online that replaces runs of duplicates to a single item. What you're looking for is logic that removes all of the entries, so that there are none left.</p>\n<p>To do that, you need to look an extra level deep:</p>\n<pre><code>if (start == null) {\n  return 0;\n}\n\n// Begin by checking if the start reference needs to change.\n// Keep executing this until no changes are made.\nboolean changed = false;\nwhile (!changed) {\n  changed = false;\n  Node curr = start.next;\n  while (curr != null &amp;&amp; start.value == curr.value) {\n    curr = curr.next;\n    changed = true;\n  }\n\n  // If the start needs to change, update it to the first node whose value was different.\n  if (changed) {\n    start = curr;\n  }\n}\n\n// Then proceed with the rest of the list in a similar manner.\nchanged = false;\nwhile (!changed) {\n  Node previous = start;\n  while (previous != null) {\n    changed = false;\n    anchor = previous.next; \n    curr = anchor.next;\n    while (curr != null &amp;&amp; anchor.value == curr.value) {\n      curr = curr.next;\n      changed = true;\n    }\n   \n    if (changed) {\n      previous.next = curr;\n    }\n  }\n}\n</code></pre>\n<p>That should get you started at least. There's some null checks that need to happen here, but the basic idea is what you need. You need to keep a reference to the previous node (or the start node) because you're getting rid of all of the duplicates.</p>\n<p>Another bit that's missing is that in the case of inputs like <code>[1 2 2 1]</code> where you expect the result to be <code>[]</code>, you need to run the whole algorithm again from the start if there's any changes. You're probably better off taking the idea and putting it into a function, so that you can call it repeatedly, and so that the <code>start</code> case and <code>previous</code> cases don't have so much repetition.</p>\n"},{"tags":[],"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675714803,"creation_date":1675714803,"answer_id":75366170,"question_id":75354370,"body_markdown":"First of all, I would set aside the *counting* of the remaining nodes after nodes have been removed, as that is a trivial exercise. Let&#39;s focus on the node removals.\r\n\r\nAs you have discovered, this algorithm will need to be able to step back to nodes that were already visited in order to still remove them if needed.  The problem is that when you have already walked to a next neighbor node, there is no more reference to the node you came from.\r\n\r\nAn intuitive way to solve this is to use recursion, such that the recursive call does the job for the nodes *after* the current head node, and then after the recursion comes back the head can be compared with the first node in the list that was returned. If the same, both nodes are removed.\r\n\r\nHere is how that would look:\r\n\r\n```\r\n    private Node recurRemove(Node head) {\r\n        if (head != null) {\r\n            head.next = recurRemove(head.next);\r\n            if (head.next != null &amp;&amp; head.next.value == head.value) {\r\n                head = head.next.next; // Remove a twin\r\n            }\r\n        }\r\n        return head;\r\n    }\r\n\r\n    public int size() {\r\n        int count = 0;\r\n        for (Node curr = start; curr != null; curr = curr.next) {\r\n            count++;\r\n        }\r\n        return count;\r\n    }\r\n    \r\n    public int remainingNodes() {\r\n        start = recurRemove(start);\r\n        return size();\r\n    }\r\n```\r\n\r\nThis looks elegant in my humble opinion, but the downside is that it needs stack space, and that is limited. \r\n\r\nEven if you would use an explicit stack as local variable instead, it is a pity that the algorithm would have an auxiliary space complexity of O(&#119899;).\r\n\r\n## Solution with O(1) auxiliary space\r\n\r\nWe could make this work with O(1) auxiliary space by realising that the linked list itself can be used as a stack. This could be done with this algorithm:\r\n\r\n* Start a new list (as empty)\r\n* Keep taking nodes from the original list (making it shorter) and prepend those nodes one by one to that new list (as if it were a stack) until duplicate values are encountered. \r\n* When that happens there is one of the twin nodes already on the &quot;stack&quot;, while the second one is still the original (shortened) list. From that list remove pairs for as long as itself has twins at its start. Once that is done check if now the first remaining node still has the same value as the node already on the stack. If so pop the node from the stack and remove it from the original list as well. \r\n* Repeat this process until the original list is empty.\r\n* The &quot;stack&quot; is now the list we want to have but in reversed order.\r\n* To get the list back in its intended order, repeat the above steps once more. This time no more nodes will be removed, but the list will be reversed still, which is the intention.\r\n\r\nHere is an implementation:\r\n\r\n```\r\n    public int reverseAndRemoveTwins() {\r\n        Node right = start;\r\n        start = null; // We will prepend unique values to this (stack)\r\n        int count = 0; // This time we will also keep a counter (size of stack)\r\n        \r\n        while (right != null) {\r\n            Node next = right.next;\r\n            if (start == null || start.value != right.value) {\r\n                // Move the right node to become the head of the left list (reversal!)\r\n                right.next = start;\r\n                start = right;\r\n                right = next;\r\n                count++;\r\n            } else {\r\n                // Remove all identical values at the right\r\n                boolean odd = false;\r\n                while (right != null &amp;&amp; start.value == right.value) {\r\n                    right = right.next;\r\n                    odd = !odd;\r\n                }\r\n                // ...and pop the one at the left too when an odd count was deleted\r\n                if (odd) {\r\n                     start = start.next;\r\n                     count--;\r\n                }\r\n            }\r\n        }\r\n        return count;\r\n    }\r\n\r\n    public int remainingNodes(){\r\n        reverseAndRemoveTwins(); // This also reverses the list\r\n        return reverseAndRemoveTwins(); // This reverses it back\r\n    }\r\n```\r\n\r\nThis code seems less elegant, but if you care about memory efficiency it is the way to go.","title":"Remove consecutive nodes in Single-Linked List","body":"<p>First of all, I would set aside the <em>counting</em> of the remaining nodes after nodes have been removed, as that is a trivial exercise. Let's focus on the node removals.</p>\n<p>As you have discovered, this algorithm will need to be able to step back to nodes that were already visited in order to still remove them if needed.  The problem is that when you have already walked to a next neighbor node, there is no more reference to the node you came from.</p>\n<p>An intuitive way to solve this is to use recursion, such that the recursive call does the job for the nodes <em>after</em> the current head node, and then after the recursion comes back the head can be compared with the first node in the list that was returned. If the same, both nodes are removed.</p>\n<p>Here is how that would look:</p>\n<pre><code>    private Node recurRemove(Node head) {\n        if (head != null) {\n            head.next = recurRemove(head.next);\n            if (head.next != null &amp;&amp; head.next.value == head.value) {\n                head = head.next.next; // Remove a twin\n            }\n        }\n        return head;\n    }\n\n    public int size() {\n        int count = 0;\n        for (Node curr = start; curr != null; curr = curr.next) {\n            count++;\n        }\n        return count;\n    }\n    \n    public int remainingNodes() {\n        start = recurRemove(start);\n        return size();\n    }\n</code></pre>\n<p>This looks elegant in my humble opinion, but the downside is that it needs stack space, and that is limited.</p>\n<p>Even if you would use an explicit stack as local variable instead, it is a pity that the algorithm would have an auxiliary space complexity of O(𝑛).</p>\n<h2>Solution with O(1) auxiliary space</h2>\n<p>We could make this work with O(1) auxiliary space by realising that the linked list itself can be used as a stack. This could be done with this algorithm:</p>\n<ul>\n<li>Start a new list (as empty)</li>\n<li>Keep taking nodes from the original list (making it shorter) and prepend those nodes one by one to that new list (as if it were a stack) until duplicate values are encountered.</li>\n<li>When that happens there is one of the twin nodes already on the &quot;stack&quot;, while the second one is still the original (shortened) list. From that list remove pairs for as long as itself has twins at its start. Once that is done check if now the first remaining node still has the same value as the node already on the stack. If so pop the node from the stack and remove it from the original list as well.</li>\n<li>Repeat this process until the original list is empty.</li>\n<li>The &quot;stack&quot; is now the list we want to have but in reversed order.</li>\n<li>To get the list back in its intended order, repeat the above steps once more. This time no more nodes will be removed, but the list will be reversed still, which is the intention.</li>\n</ul>\n<p>Here is an implementation:</p>\n<pre><code>    public int reverseAndRemoveTwins() {\n        Node right = start;\n        start = null; // We will prepend unique values to this (stack)\n        int count = 0; // This time we will also keep a counter (size of stack)\n        \n        while (right != null) {\n            Node next = right.next;\n            if (start == null || start.value != right.value) {\n                // Move the right node to become the head of the left list (reversal!)\n                right.next = start;\n                start = right;\n                right = next;\n                count++;\n            } else {\n                // Remove all identical values at the right\n                boolean odd = false;\n                while (right != null &amp;&amp; start.value == right.value) {\n                    right = right.next;\n                    odd = !odd;\n                }\n                // ...and pop the one at the left too when an odd count was deleted\n                if (odd) {\n                     start = start.next;\n                     count--;\n                }\n            }\n        }\n        return count;\n    }\n\n    public int remainingNodes(){\n        reverseAndRemoveTwins(); // This also reverses the list\n        return reverseAndRemoveTwins(); // This reverses it back\n    }\n</code></pre>\n<p>This code seems less elegant, but if you care about memory efficiency it is the way to go.</p>\n"}],"owner":{"account_id":27710117,"reputation":1,"user_id":21152978,"display_name":"Tnhan02"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":252,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1675714803,"creation_date":1675620170,"question_id":75354370,"body_markdown":"Can anyone help me figure it out? I create a method called `remainingNodes()` in the `SingleLinkedList` class to count remaining nodes after removing all consecutive nodes of same value in a single-linked list. However it didn&#39;t work the way it should have worked:  \r\nIf there are multiple ways to remove nodes, remove the leftmost node.  \r\n\r\n[1,2,2,3,3,1] -&gt; [1,3,3,1] -&gt; [1,1] -&gt;[] returns 0  \r\n[1,2,3,4,5,6] returns 6  \r\n[1,2,3,2,2,1] -&gt; [1,2,3,1] returns 4  \r\n[1,2,2,2,3,1] -&gt; [1,2,3,1] returns 4\r\n\r\n    public int remainingNodes(){\r\n        Node curr = start;\r\n        \r\n        while (curr != null &amp;&amp; curr.next != null) {\r\n            while(curr.value == curr.next.value){\r\n                curr.next = curr.next.next;\r\n            }\r\n            curr = curr.next;\r\n        }\r\n\r\n        int count = 0;\r\n        curr = start;\r\n        while (curr != null) {\r\n            count++;\r\n            curr = curr.next;\r\n        }\r\n        return count;\r\n    }\r\n\r\nI can just only remove one node of a consecutive pair and I also know it is because I only add the next node of my current node = the next node of the next node of current. However, I don&#39;t really know what else should I add to get it worked like my expectation.","title":"Remove consecutive nodes in Single-Linked List","body":"<p>Can anyone help me figure it out? I create a method called <code>remainingNodes()</code> in the <code>SingleLinkedList</code> class to count remaining nodes after removing all consecutive nodes of same value in a single-linked list. However it didn't work the way it should have worked:<br />\nIf there are multiple ways to remove nodes, remove the leftmost node.</p>\n<p>[1,2,2,3,3,1] -&gt; [1,3,3,1] -&gt; [1,1] -&gt;[] returns 0<br />\n[1,2,3,4,5,6] returns 6<br />\n[1,2,3,2,2,1] -&gt; [1,2,3,1] returns 4<br />\n[1,2,2,2,3,1] -&gt; [1,2,3,1] returns 4</p>\n<pre><code>public int remainingNodes(){\n    Node curr = start;\n    \n    while (curr != null &amp;&amp; curr.next != null) {\n        while(curr.value == curr.next.value){\n            curr.next = curr.next.next;\n        }\n        curr = curr.next;\n    }\n\n    int count = 0;\n    curr = start;\n    while (curr != null) {\n        count++;\n        curr = curr.next;\n    }\n    return count;\n}\n</code></pre>\n<p>I can just only remove one node of a consecutive pair and I also know it is because I only add the next node of my current node = the next node of the next node of current. However, I don't really know what else should I add to get it worked like my expectation.</p>\n"},{"tags":["java","unit-testing","static-methods","powermockito"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1537664633,"post_id":52462099,"comment_id":91866436,"body_markdown":"Don&#39;t mock static methods. Test them thoroughly on their own and then treat them as part of the main code path of the class under test.","body":"Don&#39;t mock static methods. Test them thoroughly on their own and then treat them as part of the main code path of the class under test."}],"answers":[{"tags":[],"owner":{"account_id":2761650,"reputation":2950,"user_id":2378429,"display_name":"O.O.Balance"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1539088235,"creation_date":1539087064,"answer_id":52720766,"question_id":52462099,"body_markdown":"This is due to a [bug][1] in *PowerMock*. Apparently, the **DisplayName** for a method passed to *PowerMock* by *JUnitParams* does not match its rather narrow requirements. The following workaround is given:\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.19.1&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n            &lt;systemPropertyVariables&gt;\r\n                &lt;JUnitParams.flat&gt;true&lt;/JUnitParams.flat&gt;\r\n            &lt;/systemPropertyVariables&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nThis gives us:\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;version&gt;4.12&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;pl.pragmatists&lt;/groupId&gt;\r\n            &lt;artifactId&gt;JUnitParams&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0.4&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n            &lt;artifactId&gt;powermock-module-junit4&lt;/artifactId&gt;\r\n            &lt;version&gt;1.7.4&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n            &lt;artifactId&gt;powermock-api-mockito&lt;/artifactId&gt;\r\n            &lt;version&gt;1.7.4&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;!-- workaround --&gt;\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.19.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;systemPropertyVariables&gt;\r\n                        &lt;JUnitParams.flat&gt;true&lt;/JUnitParams.flat&gt;\r\n                    &lt;/systemPropertyVariables&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\nWith this in my `pom.xml`, and after adding `@PrepareForTest(Helpers.class)` to `CustomerTest`, tests are running fine:\r\n\r\n    import junitparams.JUnitParamsRunner;\r\n    import junitparams.Parameters;\r\n    import org.junit.Before;\r\n    import org.junit.Test;\r\n    import org.junit.runner.RunWith;\r\n    import org.powermock.api.mockito.PowerMockito;\r\n    import org.powermock.core.classloader.annotations.PrepareForTest;\r\n    import org.powermock.modules.junit4.PowerMockRunner;\r\n    import org.powermock.modules.junit4.PowerMockRunnerDelegate;\r\n    \r\n    @RunWith(PowerMockRunner.class)\r\n    @PowerMockRunnerDelegate(JUnitParamsRunner.class)\r\n    @PrepareForTest(Helpers.class)\r\n    public class CustomerTest {\r\n    \r\n        @Before\r\n        public void setup() {\r\n            PowerMockito.mockStatic(Helpers.class);\r\n        }\r\n    \r\n        @Test\r\n        @Parameters({\r\n                &quot;true&quot;,\r\n                &quot;false&quot;,\r\n        })\r\n        public void testMaritalStatus(boolean married) {\r\n    \r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://github.com/powermock/powermock/issues/685","title":"Mocking static methods + running parameterized tests = &quot;no match found&quot;","body":"<p>This is due to a <a href=\"https://github.com/powermock/powermock/issues/685\" rel=\"nofollow noreferrer\">bug</a> in <em>PowerMock</em>. Apparently, the <strong>DisplayName</strong> for a method passed to <em>PowerMock</em> by <em>JUnitParams</em> does not match its rather narrow requirements. The following workaround is given:</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.19.1&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;systemPropertyVariables&gt;\n            &lt;JUnitParams.flat&gt;true&lt;/JUnitParams.flat&gt;\n        &lt;/systemPropertyVariables&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>This gives us:</p>\n\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;junit&lt;/groupId&gt;\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\n        &lt;version&gt;4.12&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;pl.pragmatists&lt;/groupId&gt;\n        &lt;artifactId&gt;JUnitParams&lt;/artifactId&gt;\n        &lt;version&gt;1.0.4&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.powermock&lt;/groupId&gt;\n        &lt;artifactId&gt;powermock-module-junit4&lt;/artifactId&gt;\n        &lt;version&gt;1.7.4&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.powermock&lt;/groupId&gt;\n        &lt;artifactId&gt;powermock-api-mockito&lt;/artifactId&gt;\n        &lt;version&gt;1.7.4&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;!-- workaround --&gt;\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.19.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;systemPropertyVariables&gt;\n                    &lt;JUnitParams.flat&gt;true&lt;/JUnitParams.flat&gt;\n                &lt;/systemPropertyVariables&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>With this in my <code>pom.xml</code>, and after adding <code>@PrepareForTest(Helpers.class)</code> to <code>CustomerTest</code>, tests are running fine:</p>\n\n<pre><code>import junitparams.JUnitParamsRunner;\nimport junitparams.Parameters;\nimport org.junit.Before;\nimport org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.powermock.api.mockito.PowerMockito;\nimport org.powermock.core.classloader.annotations.PrepareForTest;\nimport org.powermock.modules.junit4.PowerMockRunner;\nimport org.powermock.modules.junit4.PowerMockRunnerDelegate;\n\n@RunWith(PowerMockRunner.class)\n@PowerMockRunnerDelegate(JUnitParamsRunner.class)\n@PrepareForTest(Helpers.class)\npublic class CustomerTest {\n\n    @Before\n    public void setup() {\n        PowerMockito.mockStatic(Helpers.class);\n    }\n\n    @Test\n    @Parameters({\n            \"true\",\n            \"false\",\n    })\n    public void testMaritalStatus(boolean married) {\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1780341,"reputation":16850,"user_id":1623249,"accept_rate":71,"display_name":"Maria Ines Parnisari"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1678,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":1,"score":2,"last_activity_date":1675714453,"creation_date":1537664364,"question_id":52462099,"body_markdown":"I have a unit test class like this:\r\n\r\n    import junitparams.JUnitParamsRunner;\r\n\r\n    @RunWith(JUnitParamsRunner.class)\r\n    public class CustomerTest\r\n    {\r\n    \r\n        @Test\r\n        @Parameters({\r\n        &quot;true&quot;,\r\n        &quot;false&quot;,\r\n        })\r\n        public void testMaritalStatus(boolean married) {\r\n    \r\n    \r\n        }\r\n    \r\n    }\r\n\r\n\r\nNow, I need to mock some static methods, so I do this:\r\n\r\n    import org.junit.runner.RunWith;\r\n    import org.mockito.Mockito;\r\n    import org.powermock.api.mockito.PowerMockito;\r\n    import org.powermock.modules.junit4.PowerMockRunner;\r\n    import org.powermock.modules.junit4.PowerMockRunnerDelegate;\r\n\r\n    @Before\r\n    public void setup() {\r\n         PowerMockito.mockStatic(Helpers.class)\r\n    }\r\n\r\nBut in order to use that, I need to do this too:\r\n\r\n    @RunWith(PowerMockRunner.class)\r\n    @PowerMockRunnerDelegate(JUnitParamsRunner.class)\r\n    public class CustomerTest {\r\n\r\n\r\n    }\r\n\r\nThe problem: I get this error:\r\n\r\n    No match found\r\n    \r\n    java.lang.IllegalStateException: No match found\r\n    at java.util.regex.Matcher.group(Matcher.java:536)\r\n    at java.util.regex.Matcher.group(Matcher.java:496)\r\n    at org.powermock.modules.junit4.internal.impl.NotificationBuilder.determineTestMethod(NotificationBuilder.java:141)\r\n    at org.powermock.modules.junit4.internal.impl.NotificationBuilder.access$000(NotificationBuilder.java:37)\r\n    at org.powermock.modules.junit4.internal.impl.NotificationBuilder$OngoingTestRun.&lt;init&gt;(NotificationBuilder.java:85)\r\n    at org.powermock.modules.junit4.internal.impl.NotificationBuilder.testStartHasBeenFired(NotificationBuilder.java:231)\r\n    at org.powermock.modules.junit4.internal.impl.PowerMockRunNotifier.fireTestStarted(PowerMockRunNotifier.java:109)\r\n    at junitparams.internal.ParameterisedTestMethodRunner.runTestMethod(ParameterisedTestMethodRunner.java:41)\r\n    at junitparams.internal.ParameterisedTestClassRunner.runParameterisedTest(ParameterisedTestClassRunner.java:143)\r\n    at junitparams.JUnitParamsRunner.runChild(JUnitParamsRunner.java:388)\r\n    at junitparams.JUnitParamsRunner.runChild(JUnitParamsRunner.java:366)\r\n    at org.powermock.modules.junit4.internal.impl.DelegatingPowerMockRunner$2.call(DelegatingPowerMockRunner.java:143)\r\n    at org.powermock.modules.junit4.internal.impl.DelegatingPowerMockRunner$2.call(DelegatingPowerMockRunner.java:136)\r\n    at org.powermock.modules.junit4.internal.impl.DelegatingPowerMockRunner.withContextClassLoader(DelegatingPowerMockRunner.java:127)\r\n    at org.powermock.modules.junit4.internal.impl.DelegatingPowerMockRunner.run(DelegatingPowerMockRunner.java:136)\r\n    at org.powermock.modules.junit4.common.internal.impl.JUnit4TestSuiteChunkerImpl.run(JUnit4TestSuiteChunkerImpl.java:106)\r\n    at org.powermock.modules.junit4.common.internal.impl.AbstractCommonPowerMockRunner.run(AbstractCommonPowerMockRunner.java:53)\r\n    at org.powermock.modules.junit4.PowerMockRunner.run(PowerMockRunner.java:59)","title":"Mocking static methods + running parameterized tests = &quot;no match found&quot;","body":"<p>I have a unit test class like this:</p>\n\n<pre><code>import junitparams.JUnitParamsRunner;\n\n@RunWith(JUnitParamsRunner.class)\npublic class CustomerTest\n{\n\n    @Test\n    @Parameters({\n    \"true\",\n    \"false\",\n    })\n    public void testMaritalStatus(boolean married) {\n\n\n    }\n\n}\n</code></pre>\n\n<p>Now, I need to mock some static methods, so I do this:</p>\n\n<pre><code>import org.junit.runner.RunWith;\nimport org.mockito.Mockito;\nimport org.powermock.api.mockito.PowerMockito;\nimport org.powermock.modules.junit4.PowerMockRunner;\nimport org.powermock.modules.junit4.PowerMockRunnerDelegate;\n\n@Before\npublic void setup() {\n     PowerMockito.mockStatic(Helpers.class)\n}\n</code></pre>\n\n<p>But in order to use that, I need to do this too:</p>\n\n<pre><code>@RunWith(PowerMockRunner.class)\n@PowerMockRunnerDelegate(JUnitParamsRunner.class)\npublic class CustomerTest {\n\n\n}\n</code></pre>\n\n<p>The problem: I get this error:</p>\n\n<pre><code>No match found\n\njava.lang.IllegalStateException: No match found\nat java.util.regex.Matcher.group(Matcher.java:536)\nat java.util.regex.Matcher.group(Matcher.java:496)\nat org.powermock.modules.junit4.internal.impl.NotificationBuilder.determineTestMethod(NotificationBuilder.java:141)\nat org.powermock.modules.junit4.internal.impl.NotificationBuilder.access$000(NotificationBuilder.java:37)\nat org.powermock.modules.junit4.internal.impl.NotificationBuilder$OngoingTestRun.&lt;init&gt;(NotificationBuilder.java:85)\nat org.powermock.modules.junit4.internal.impl.NotificationBuilder.testStartHasBeenFired(NotificationBuilder.java:231)\nat org.powermock.modules.junit4.internal.impl.PowerMockRunNotifier.fireTestStarted(PowerMockRunNotifier.java:109)\nat junitparams.internal.ParameterisedTestMethodRunner.runTestMethod(ParameterisedTestMethodRunner.java:41)\nat junitparams.internal.ParameterisedTestClassRunner.runParameterisedTest(ParameterisedTestClassRunner.java:143)\nat junitparams.JUnitParamsRunner.runChild(JUnitParamsRunner.java:388)\nat junitparams.JUnitParamsRunner.runChild(JUnitParamsRunner.java:366)\nat org.powermock.modules.junit4.internal.impl.DelegatingPowerMockRunner$2.call(DelegatingPowerMockRunner.java:143)\nat org.powermock.modules.junit4.internal.impl.DelegatingPowerMockRunner$2.call(DelegatingPowerMockRunner.java:136)\nat org.powermock.modules.junit4.internal.impl.DelegatingPowerMockRunner.withContextClassLoader(DelegatingPowerMockRunner.java:127)\nat org.powermock.modules.junit4.internal.impl.DelegatingPowerMockRunner.run(DelegatingPowerMockRunner.java:136)\nat org.powermock.modules.junit4.common.internal.impl.JUnit4TestSuiteChunkerImpl.run(JUnit4TestSuiteChunkerImpl.java:106)\nat org.powermock.modules.junit4.common.internal.impl.AbstractCommonPowerMockRunner.run(AbstractCommonPowerMockRunner.java:53)\nat org.powermock.modules.junit4.PowerMockRunner.run(PowerMockRunner.java:59)\n</code></pre>\n"},{"tags":["java","spring","spring-boot","docker","maven"],"answers":[{"tags":[],"owner":{"account_id":27708010,"reputation":43,"user_id":21151246,"display_name":"Tonypsilon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675709251,"creation_date":1675709251,"answer_id":75365412,"question_id":75365286,"body_markdown":"From what you&#39;ve posted, I assume that you deploy your application to a local docker container. You specify the health endpoint to be on *port 9000 of the container*. Which is not, by default, the same as *port 9000 of your machine* (a.k.a. localhost).\r\n\r\nFrom the dockerfile reference documentation: \r\n\r\n&gt; The EXPOSE instruction informs Docker that the container listens on the specified network ports at runtime. You can specify whether the port listens on TCP or UDP, and the default is TCP if the protocol is not specified.\r\n\r\n&gt;The EXPOSE instruction does not actually publish the port. It functions as a type of documentation between the person who builds the image and the person who runs the container, about which ports are intended to be published. To actually publish the port when running the container, use the -p flag on docker run to publish and map one or more ports, or the -P flag to publish all exposed ports and map them to high-order ports.\r\n\r\n(You could, in theory, run multiple containers on the same machine that all specify internally to listen to port 9000. On container startup, you would then map those container ports to different ports of your machine.)\r\n\r\nWhen you run the application in Intellij, port 9000 there actually means *port 9000 of your machine*. ","title":"Cant access Spring health endpoint","body":"<p>From what you've posted, I assume that you deploy your application to a local docker container. You specify the health endpoint to be on <em>port 9000 of the container</em>. Which is not, by default, the same as <em>port 9000 of your machine</em> (a.k.a. localhost).</p>\n<p>From the dockerfile reference documentation:</p>\n<blockquote>\n<p>The EXPOSE instruction informs Docker that the container listens on the specified network ports at runtime. You can specify whether the port listens on TCP or UDP, and the default is TCP if the protocol is not specified.</p>\n</blockquote>\n<blockquote>\n<p>The EXPOSE instruction does not actually publish the port. It functions as a type of documentation between the person who builds the image and the person who runs the container, about which ports are intended to be published. To actually publish the port when running the container, use the -p flag on docker run to publish and map one or more ports, or the -P flag to publish all exposed ports and map them to high-order ports.</p>\n</blockquote>\n<p>(You could, in theory, run multiple containers on the same machine that all specify internally to listen to port 9000. On container startup, you would then map those container ports to different ports of your machine.)</p>\n<p>When you run the application in Intellij, port 9000 there actually means <em>port 9000 of your machine</em>.</p>\n"},{"tags":[],"owner":{"account_id":26669791,"reputation":41,"user_id":20281373,"display_name":"Reid2"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675713796,"creation_date":1675713796,"answer_id":75366029,"question_id":75365286,"body_markdown":"My project seems to build correctly when using the spring-boot-maven-plugin instead of maven-assembly-plugin. I can now access health and swagger endpoints.\r\n\r\n```xml\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;${spring-boot-maven.version}&lt;/version&gt;\r\n    &lt;configuration&gt;\r\n        &lt;mainClass&gt;com.api.myApp&lt;/mainClass&gt;\r\n    &lt;/configuration&gt;\r\n    &lt;executions&gt;\r\n        &lt;execution&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;repackage&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n        &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n```","title":"Cant access Spring health endpoint","body":"<p>My project seems to build correctly when using the spring-boot-maven-plugin instead of maven-assembly-plugin. I can now access health and swagger endpoints.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;${spring-boot-maven.version}&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;mainClass&gt;com.api.myApp&lt;/mainClass&gt;\n    &lt;/configuration&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;repackage&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":26669791,"reputation":41,"user_id":20281373,"display_name":"Reid2"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":190,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1675713824,"creation_date":1675708473,"question_id":75365286,"body_markdown":"I can&#39;t access the actuator or swagger doc endpoints when I compile my app and run the jar from my target folder. But, I am able to access other endpoints with my app. \r\n\r\nI can access these endpoints when I run my app directly from Intellj. \r\n\r\nI think there must be some sort of problem with how I&#39;m packaging my project in maven. I&#39;ve included the pom.xml below. \r\n\r\napplication.properties \r\n```java\r\n# Server\r\nserver.port = 9000\r\nserver.servlet.context-path = /api\r\n\r\n# App\r\napp.service_name = my-api\r\napp.batch_limit = 100\r\n\r\n# Health\r\nmanagement.endpoints.web.exposure.include = health,info\r\nmanagement.endpoint.health.show-details = ALWAYS\r\nmanagement.endpoints.web.base-path = /\r\nmanagement.endpoints.web.path-mapping.health = /_health\r\nmanagement.health.neo4j.enabled = false\r\n```\r\n\r\nDockerFile\r\n```yaml\r\nFROM openjdk:17-alpine\r\n\r\nRUN apk --no-cache add curl\r\n\r\nWORKDIR /app\r\n\r\nCOPY ./my-api.jar /app/\r\nCOPY ./application.properties /app/config\r\n\r\nEXPOSE 9000\r\n\r\nCMD sleep 30 ; exec java $JAVA_OPTS -jar ./my-api.jar\r\n```\r\n \r\npom.xml\r\n```xml\r\n\r\n&lt;dependencies&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n    &lt;version&gt;${spring.version}&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    &lt;version&gt;${spring-boot.version}&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n    &lt;version&gt;${spring-boot.version}&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n    &lt;version&gt;${spring-boot.version}&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n    &lt;version&gt;${spring-boot.version}&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\r\n    &lt;artifactId&gt;swagger-annotations&lt;/artifactId&gt;\r\n    &lt;version&gt;${swagger.version}&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n    &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\r\n    &lt;version&gt;${spring-doc.version}&lt;/version&gt;\r\n    &lt;exclusions&gt;\r\n        &lt;exclusion&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n    &lt;/exclusions&gt;\r\n&lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n\r\n&lt;build&gt;\r\n&lt;plugins&gt;\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;${maven-compiler.version}&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n            &lt;release&gt;17&lt;/release&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;${maven-jar.version}&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n            &lt;archive&gt;\r\n                &lt;manifest&gt;\r\n                    &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n                    &lt;classpathPrefix&gt;src&lt;/classpathPrefix&gt;\r\n                    &lt;mainClass&gt;com.api.myApp&lt;/mainClass&gt;\r\n                &lt;/manifest&gt;\r\n            &lt;/archive&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\n    &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;${maven-assembly.version}&lt;/version&gt;\r\n        &lt;executions&gt;\r\n            &lt;execution&gt;\r\n                &lt;phase&gt;package&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;single&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n            &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n        &lt;configuration&gt;\r\n            &lt;archive&gt;\r\n                &lt;manifest&gt;\r\n                    &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n                    &lt;classpathPrefix&gt;src&lt;/classpathPrefix&gt;\r\n                    &lt;mainClass&gt;com.api.myApp&lt;/mainClass&gt;\r\n                &lt;/manifest&gt;\r\n            &lt;/archive&gt;\r\n            &lt;descriptorRefs&gt;\r\n                &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n            &lt;/descriptorRefs&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n&lt;/plugins&gt;\r\n&lt;/build&gt;\r\n```","title":"Cant access Spring health endpoint","body":"<p>I can't access the actuator or swagger doc endpoints when I compile my app and run the jar from my target folder. But, I am able to access other endpoints with my app.</p>\n<p>I can access these endpoints when I run my app directly from Intellj.</p>\n<p>I think there must be some sort of problem with how I'm packaging my project in maven. I've included the pom.xml below.</p>\n<p>application.properties</p>\n<pre class=\"lang-java prettyprint-override\"><code># Server\nserver.port = 9000\nserver.servlet.context-path = /api\n\n# App\napp.service_name = my-api\napp.batch_limit = 100\n\n# Health\nmanagement.endpoints.web.exposure.include = health,info\nmanagement.endpoint.health.show-details = ALWAYS\nmanagement.endpoints.web.base-path = /\nmanagement.endpoints.web.path-mapping.health = /_health\nmanagement.health.neo4j.enabled = false\n</code></pre>\n<p>DockerFile</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>FROM openjdk:17-alpine\n\nRUN apk --no-cache add curl\n\nWORKDIR /app\n\nCOPY ./my-api.jar /app/\nCOPY ./application.properties /app/config\n\nEXPOSE 9000\n\nCMD sleep 30 ; exec java $JAVA_OPTS -jar ./my-api.jar\n</code></pre>\n<p>pom.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>\n&lt;dependencies&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n    &lt;version&gt;${spring.version}&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;version&gt;${spring-boot.version}&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n    &lt;version&gt;${spring-boot.version}&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n    &lt;version&gt;${spring-boot.version}&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n    &lt;version&gt;${spring-boot.version}&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\n    &lt;artifactId&gt;swagger-annotations&lt;/artifactId&gt;\n    &lt;version&gt;${swagger.version}&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n    &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\n    &lt;version&gt;${spring-doc.version}&lt;/version&gt;\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n&lt;plugins&gt;\n    &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;${maven-compiler.version}&lt;/version&gt;\n        &lt;configuration&gt;\n            &lt;release&gt;17&lt;/release&gt;\n        &lt;/configuration&gt;\n    &lt;/plugin&gt;\n\n    &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n        &lt;version&gt;${maven-jar.version}&lt;/version&gt;\n        &lt;configuration&gt;\n            &lt;archive&gt;\n                &lt;manifest&gt;\n                    &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                    &lt;classpathPrefix&gt;src&lt;/classpathPrefix&gt;\n                    &lt;mainClass&gt;com.api.myApp&lt;/mainClass&gt;\n                &lt;/manifest&gt;\n            &lt;/archive&gt;\n        &lt;/configuration&gt;\n    &lt;/plugin&gt;\n\n    &lt;plugin&gt;\n        &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n        &lt;version&gt;${maven-assembly.version}&lt;/version&gt;\n        &lt;executions&gt;\n            &lt;execution&gt;\n                &lt;phase&gt;package&lt;/phase&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;single&lt;/goal&gt;\n                &lt;/goals&gt;\n            &lt;/execution&gt;\n        &lt;/executions&gt;\n        &lt;configuration&gt;\n            &lt;archive&gt;\n                &lt;manifest&gt;\n                    &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                    &lt;classpathPrefix&gt;src&lt;/classpathPrefix&gt;\n                    &lt;mainClass&gt;com.api.myApp&lt;/mainClass&gt;\n                &lt;/manifest&gt;\n            &lt;/archive&gt;\n            &lt;descriptorRefs&gt;\n                &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n            &lt;/descriptorRefs&gt;\n        &lt;/configuration&gt;\n    &lt;/plugin&gt;\n&lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"},{"tags":["java","jar","classpath"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1675710204,"post_id":75365445,"comment_id":132983514,"body_markdown":"AFAIK it cannot be done (unless you write/use a non-standard, self implemented class loader) - assuming `mypackage` is the declared package of Hello: 1) the `mypackage` folder must be in root; 2) `Hello.class` must be in the `mypackage` folder.","body":"AFAIK it cannot be done (unless you write/use a non-standard, self implemented class loader) - assuming <code>mypackage</code> is the declared package of Hello: 1) the <code>mypackage</code> folder must be in root; 2) <code>Hello.class</code> must be in the <code>mypackage</code> folder."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1675710363,"post_id":75365445,"comment_id":132983564,"body_markdown":"1. You can&#39;t reference folders *inside* the jar file from the `Class-Path` property, only jar files and directories *next to* (i.e. in the same directory or some directory under that). 2. Is your `Hello.class` really *next to* the `mypackage` subdirectory or is it inside of it (it should be the latter).","body":"1. You can&#39;t reference folders <i>inside</i> the jar file from the <code>Class-Path</code> property, only jar files and directories <i>next to</i> (i.e. in the same directory or some directory under that). 2. Is your <code>Hello.class</code> really <i>next to</i> the <code>mypackage</code> subdirectory or is it inside of it (it should be the latter)."},{"owner":{"account_id":8405686,"reputation":764,"user_id":6309242,"display_name":"Dave The Dane"},"score":0,"creation_date":1675713573,"post_id":75365445,"comment_id":132984419,"body_markdown":"@Joachim Hello.class indentation corrected.","body":"@Joachim Hello.class indentation corrected."},{"owner":{"account_id":8405686,"reputation":764,"user_id":6309242,"display_name":"Dave The Dane"},"score":0,"creation_date":1675713891,"post_id":75365445,"comment_id":132984499,"body_markdown":"@user16320675 Actually, I&#39;m using the Eclipse Jar-In-Jar Classloader, but I edited it out to make this posting more succint. And I&#39;m trying to tell the JiJ-Classloader to look in a subfolder but, as Catweazle said: &quot;Nothing Works&quot;.","body":"@user16320675 Actually, I&#39;m using the Eclipse Jar-In-Jar Classloader, but I edited it out to make this posting more succint. And I&#39;m trying to tell the JiJ-Classloader to look in a subfolder but, as Catweazle said: &quot;Nothing Works&quot;."}],"owner":{"account_id":8405686,"reputation":764,"user_id":6309242,"display_name":"Dave The Dane"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675713502,"creation_date":1675709547,"question_id":75365445,"body_markdown":"I have a JAR structured like this:\r\n\r\n     myHello.jar\r\n     |\r\n     +-- folder\r\n     |   |\r\n     |   +-- mypackage\r\n     |       |\r\n     |       +-- Hello.class\r\n     |\r\n     +-- META-INF\r\n         |\r\n         +-- MANIFEST.MF\r\n\r\nThat is, the Class `mypackage.Hello` is in the subfolder `folder`.\r\n\r\nI&#39;ve tried all manner of values for Class-Path: in the Manifest, but I always get...&lt;br&gt;\r\n\r\n&gt; Error: Could not find or load main class mypackage.Hello\r\n\r\nCurrently, the Manifest looks like this:\r\n\r\n    Manifest-Version: 1.0\r\n    Class-Path: folder/\r\n    Main-Class: mypackage.Hello\r\n\r\nAll the JarFile Spec says is this:&lt;br&gt;\r\n&quot;The value of this attribute specifies the relative URLs of the extensions or libraries that this application or extension needs.&quot;\r\n\r\nHow can this be done using a subfolder?&lt;br&gt;\r\n(no I do not want to put it in the Root &amp; use the usual value &quot;.&quot;)\r\n\r\n","title":"For a Main-Class in a JAR Subfolder, what is the correct setting for &quot;Class-Path:&quot;?","body":"<p>I have a JAR structured like this:</p>\n<pre><code> myHello.jar\n |\n +-- folder\n |   |\n |   +-- mypackage\n |       |\n |       +-- Hello.class\n |\n +-- META-INF\n     |\n     +-- MANIFEST.MF\n</code></pre>\n<p>That is, the Class <code>mypackage.Hello</code> is in the subfolder <code>folder</code>.</p>\n<p>I've tried all manner of values for Class-Path: in the Manifest, but I always get...<br></p>\n<blockquote>\n<p>Error: Could not find or load main class mypackage.Hello</p>\n</blockquote>\n<p>Currently, the Manifest looks like this:</p>\n<pre><code>Manifest-Version: 1.0\nClass-Path: folder/\nMain-Class: mypackage.Hello\n</code></pre>\n<p>All the JarFile Spec says is this:<br>\n&quot;The value of this attribute specifies the relative URLs of the extensions or libraries that this application or extension needs.&quot;</p>\n<p>How can this be done using a subfolder?<br>\n(no I do not want to put it in the Root &amp; use the usual value &quot;.&quot;)</p>\n"},{"tags":["java","multidimensional-array","diagonal"],"comments":[{"owner":{"account_id":1107169,"reputation":6727,"user_id":1098361,"accept_rate":86,"display_name":"Zack Macomber"},"score":0,"creation_date":1675713154,"post_id":75365525,"comment_id":132984294,"body_markdown":"&quot;So far I have tried absolutely noting because I just don&#39;t know how to make this possible&quot; - taking a first/easy step will help you along. Why not just try to do a 1x1 just to start with? Trying to solve the entire thing in your head will frustrate you. Do one little/easy thing and that will help you.","body":"&quot;So far I have tried absolutely noting because I just don&#39;t know how to make this possible&quot; - taking a first/easy step will help you along. Why not just try to do a 1x1 just to start with? Trying to solve the entire thing in your head will frustrate you. Do one little/easy thing and that will help you."}],"owner":{"account_id":27181714,"reputation":1,"user_id":20716868,"display_name":"ZZbottom"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675712936,"creation_date":1675710180,"question_id":75365525,"body_markdown":"The contents of the matrix starts from 1 to the product of rows and columns. The method &quot;scan&quot; should print out as per following: \r\n\r\nIf the row is entered 4 and column is entered 7, the contents of the matrix should look like the image provided here:\r\n\r\n[the correct matrix][1]\r\n\r\nSo far I have tried absolutely noting because I just don&#39;t know how to make this possible. I can print in zigzag, spiral but I just have no idea about this one. Please have mercy on me and grant me an insight. \r\n\r\nThis code currently prints out in a spiral pattern. \r\n\r\nHow should I modify this &quot;scan&quot; method so it satisfies the aforementioned condition? \r\n\r\n        import java.util.Scanner;\r\n        import java.util.Random;\r\n        \r\n        public class that {\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\tint range;\r\n    \t\t\r\n    \t\trange = 100;\r\n    \t\t\r\n    \t\tScanner scn = new Scanner(System.in);\r\n    \t\t\r\n    \t\twhile(true) {\r\n    \t\t\tint m, n;\r\n    \t\t\t\r\n    \t\t\tSystem.out.println(&quot;Enter the number of row: &quot;);\r\n    \t\t\tm = scn.nextInt();\r\n    \t\t\tSystem.out.println(&quot;Enter the number of column: &quot;);\r\n    \t\t\tn = scn.nextInt();\r\n    \t\t\t\r\n    \t\t\tif(m &lt;= 0||n &lt;= 0) break;\r\n    \t\t\t\r\n    \t\t\tint[][] tab = new int[m][n];\r\n    \t\t\t\r\n    \t\t\tgenerate(tab, range);\r\n    \t\t\tscan(tab);\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t}\r\n    \t\t\r\n    \t\tscn.close();\r\n    \t}\r\n    \t\r\n    \tstatic int len(int x) { return (&quot;&quot;+x).length(); }\r\n    \t\r\n    \tstatic void generate(int[][] tab, int range) {\r\n    \t    // Random generation\r\n    \t    Random rg = new Random();\r\n    \t    for(int i=0; i&lt;tab.length; ++i)\r\n    \t      for(int j=0; j&lt;tab[0].length; ++j)\r\n    \t        tab[i][j] = rg.nextInt(2*range) - range;\r\n    \t}\r\n    \t\r\n    \tstatic void scan(int[][] tab) {\r\n    \t    int m = tab.length;   \r\n    \t    int n = tab[0].length;\r\n    \t    int totalWidth = 0;\r\n    \t    int num = 1;\r\n    \t    int rowStart = m - 1, rowEnd = 0, colStart = 0, colEnd = n - 1;\r\n    \r\n    \t    // Compute column widths\r\n    \t    int[] colw = new int[n];\r\n    \t    for(int j=0; j&lt;n; ++j) { // For every column look down\r\n    \t      colw[j] = len(j); // (&quot;&quot;+j).length();\r\n    \t      for(int i=0; i&lt;m; ++i) {\r\n    \t        int w = len(tab[i][j]); //(&quot;&quot; + tab[i][j]).length();\r\n    \t        if(w &gt; colw[j]) colw[j] = w;\r\n    \t      }\r\n    \t      totalWidth += colw[j];\r\n    \t    }\r\n    \r\n    \t    // Printing\r\n    \t    int ris = len(m-1); // row index size\r\n    \t    System.out.printf(&quot;%&quot;+ris+&quot;s &quot;, &quot; &quot;);\r\n    \t    for(int j=0; j&lt;n; ++j) \r\n    \t      System.out.printf(&quot;%&quot; + colw[j] +&quot;d &quot;, j);\r\n    \t    System.out.println();\r\n    \t    System.out.printf(&quot;%&quot;+ris+&quot;s+&quot;,&quot; &quot;);\r\n    \t    for(int j=0; j&lt;totalWidth+n-1; ++j) \r\n    \t      System.out.printf(&quot;-&quot;);\r\n    \t    System.out.println();\r\n    \r\n    \t    while (rowStart &gt;= rowEnd &amp;&amp; colStart &lt;= colEnd) {\r\n    \t        // Print leftmost column from bottom to top\r\n    \t        if (colStart &lt;= colEnd) {\r\n    \t            for (int i = rowStart; i &gt;= rowEnd; i--) {\r\n    \t                tab[i][colStart] = num++;\r\n    \t            }\r\n    \t            colStart++;\r\n    \t        }\r\n    \t        // Print top row from right to left\r\n    \t        if (rowStart &gt;= rowEnd) {\r\n    \t            for (int i = colStart; i &lt;= colEnd; i++) {\r\n    \t                tab[rowEnd][i] = num++;\r\n    \t            }\r\n    \t            rowEnd++;\r\n    \t        }\r\n    \t        // Print rightmost column from top to bottom\r\n    \t        if (colStart &lt;= colEnd) {\r\n    \t            for (int i = rowEnd; i &lt;= rowStart; i++) {\r\n    \t                tab[i][colEnd] = num++;\r\n    \t            }\r\n    \t            colEnd--;\r\n    \t        }\r\n    \t        // Print bottom row from left to right\r\n    \t        if (rowStart &gt;= rowEnd) {\r\n    \t            for (int i = colEnd; i &gt;= colStart; i--) {\r\n    \t                tab[rowStart][i] = num++;\r\n    \t            }\r\n    \t            rowStart--;\r\n    \t        }\r\n    \t    }\r\n    \t    // Prints the matrix\r\n    \t    for(int i=0; i&lt;m; ++i) {\r\n    \t    \tSystem.out.printf(&quot;%&quot;+ris+&quot;d|&quot;, i);\r\n    \t        for(int j=0; j&lt;n; ++j)\r\n    \t            System.out.printf(&quot;%&quot; + colw[j] +&quot;d &quot;, tab[i][j]);\r\n    \t        System.out.println();\r\n    \t    }\r\n    \t    System.out.println();\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Icv4p.png","title":"How to create a method in java which prints out the elements of a matrix in shown pattern?","body":"<p>The contents of the matrix starts from 1 to the product of rows and columns. The method &quot;scan&quot; should print out as per following:</p>\n<p>If the row is entered 4 and column is entered 7, the contents of the matrix should look like the image provided here:</p>\n<p><a href=\"https://i.stack.imgur.com/Icv4p.png\" rel=\"nofollow noreferrer\">the correct matrix</a></p>\n<p>So far I have tried absolutely noting because I just don't know how to make this possible. I can print in zigzag, spiral but I just have no idea about this one. Please have mercy on me and grant me an insight.</p>\n<p>This code currently prints out in a spiral pattern.</p>\n<p>How should I modify this &quot;scan&quot; method so it satisfies the aforementioned condition?</p>\n<pre><code>    import java.util.Scanner;\n    import java.util.Random;\n    \n    public class that {\n    \n    public static void main(String[] args) {\n        \n        int range;\n        \n        range = 100;\n        \n        Scanner scn = new Scanner(System.in);\n        \n        while(true) {\n            int m, n;\n            \n            System.out.println(&quot;Enter the number of row: &quot;);\n            m = scn.nextInt();\n            System.out.println(&quot;Enter the number of column: &quot;);\n            n = scn.nextInt();\n            \n            if(m &lt;= 0||n &lt;= 0) break;\n            \n            int[][] tab = new int[m][n];\n            \n            generate(tab, range);\n            scan(tab);\n            \n            \n        }\n        \n        scn.close();\n    }\n    \n    static int len(int x) { return (&quot;&quot;+x).length(); }\n    \n    static void generate(int[][] tab, int range) {\n        // Random generation\n        Random rg = new Random();\n        for(int i=0; i&lt;tab.length; ++i)\n          for(int j=0; j&lt;tab[0].length; ++j)\n            tab[i][j] = rg.nextInt(2*range) - range;\n    }\n    \n    static void scan(int[][] tab) {\n        int m = tab.length;   \n        int n = tab[0].length;\n        int totalWidth = 0;\n        int num = 1;\n        int rowStart = m - 1, rowEnd = 0, colStart = 0, colEnd = n - 1;\n\n        // Compute column widths\n        int[] colw = new int[n];\n        for(int j=0; j&lt;n; ++j) { // For every column look down\n          colw[j] = len(j); // (&quot;&quot;+j).length();\n          for(int i=0; i&lt;m; ++i) {\n            int w = len(tab[i][j]); //(&quot;&quot; + tab[i][j]).length();\n            if(w &gt; colw[j]) colw[j] = w;\n          }\n          totalWidth += colw[j];\n        }\n\n        // Printing\n        int ris = len(m-1); // row index size\n        System.out.printf(&quot;%&quot;+ris+&quot;s &quot;, &quot; &quot;);\n        for(int j=0; j&lt;n; ++j) \n          System.out.printf(&quot;%&quot; + colw[j] +&quot;d &quot;, j);\n        System.out.println();\n        System.out.printf(&quot;%&quot;+ris+&quot;s+&quot;,&quot; &quot;);\n        for(int j=0; j&lt;totalWidth+n-1; ++j) \n          System.out.printf(&quot;-&quot;);\n        System.out.println();\n\n        while (rowStart &gt;= rowEnd &amp;&amp; colStart &lt;= colEnd) {\n            // Print leftmost column from bottom to top\n            if (colStart &lt;= colEnd) {\n                for (int i = rowStart; i &gt;= rowEnd; i--) {\n                    tab[i][colStart] = num++;\n                }\n                colStart++;\n            }\n            // Print top row from right to left\n            if (rowStart &gt;= rowEnd) {\n                for (int i = colStart; i &lt;= colEnd; i++) {\n                    tab[rowEnd][i] = num++;\n                }\n                rowEnd++;\n            }\n            // Print rightmost column from top to bottom\n            if (colStart &lt;= colEnd) {\n                for (int i = rowEnd; i &lt;= rowStart; i++) {\n                    tab[i][colEnd] = num++;\n                }\n                colEnd--;\n            }\n            // Print bottom row from left to right\n            if (rowStart &gt;= rowEnd) {\n                for (int i = colEnd; i &gt;= colStart; i--) {\n                    tab[rowStart][i] = num++;\n                }\n                rowStart--;\n            }\n        }\n        // Prints the matrix\n        for(int i=0; i&lt;m; ++i) {\n            System.out.printf(&quot;%&quot;+ris+&quot;d|&quot;, i);\n            for(int j=0; j&lt;n; ++j)\n                System.out.printf(&quot;%&quot; + colw[j] +&quot;d &quot;, tab[i][j]);\n            System.out.println();\n        }\n        System.out.println();\n    }\n\n}\n</code></pre>\n"},{"tags":["java","android","autocompletetextview"],"comments":[{"owner":{"account_id":84127,"reputation":51105,"user_id":235354,"display_name":"jspcal"},"score":0,"creation_date":1675711932,"post_id":75365751,"comment_id":132983997,"body_markdown":"hi, perhaps might be of interest https://stackoverflow.com/questions/57472317/change-values-in-2nd-dropdown-based-on-another-dropdown-android","body":"hi, perhaps might be of interest <a href=\"https://stackoverflow.com/questions/57472317/change-values-in-2nd-dropdown-based-on-another-dropdown-android\" title=\"change values in 2nd dropdown based on another dropdown android\">stackoverflow.com/questions/57472317/&hellip;</a>"},{"owner":{"account_id":9984377,"reputation":2086,"user_id":7386152,"accept_rate":52,"display_name":"Learn2Code"},"score":0,"creation_date":1675712219,"post_id":75365751,"comment_id":132984062,"body_markdown":"@jspcal so mine is different, as its getting the data from Firebase. Also my code works as desired.... EXCEPT that when a user makes a selection in the `Pool Type` and then goes back to modify the `Sport Type` the entry in the `Pool Type` doesnt `reset` to `blank for null` etc... looking for some help with that.","body":"@jspcal so mine is different, as its getting the data from Firebase. Also my code works as desired.... EXCEPT that when a user makes a selection in the <code>Pool Type</code> and then goes back to modify the <code>Sport Type</code> the entry in the <code>Pool Type</code> doesnt <code>reset</code> to <code>blank for null</code> etc... looking for some help with that."}],"owner":{"account_id":9984377,"reputation":2086,"user_id":7386152,"accept_rate":52,"display_name":"Learn2Code"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675712402,"creation_date":1675711813,"question_id":75365751,"body_markdown":"I am having a hard time trying to get one of my AutoCompleteTextView to reset based on a selection from another AutoCompleteTextView selection.\r\n\r\nBelow are the form elements:\r\n\r\nThe first one is the dropdown for `Sport Type`:\r\n\r\n    &lt;com.google.android.material.textfield.TextInputLayout\r\n        android:id=&quot;@+id/sportType&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.ExposedDropdownMenu&quot;\r\n        android:hint=&quot;Select Sport&quot;\r\n        android:labelFor=&quot;@+id/sportTypeSelected&quot;\r\n        android:background=&quot;#EAE7E7&quot;&gt;\r\n\r\n        &lt;AutoCompleteTextView\r\n            android:id=&quot;@+id/sportTypeSelected&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:inputType=&quot;none&quot;\r\n            android:layout_weight=&quot;1&quot;\r\n            android:padding=&quot;14dp&quot;\r\n            android:textSize=&quot;16sp&quot; /&gt;\r\n\r\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\n\r\nfollowed by the second on that is `Pool Type`\r\n\r\n\r\n    &lt;com.google.android.material.textfield.TextInputLayout\r\n        android:id=&quot;@+id/poolType&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.ExposedDropdownMenu&quot;\r\n        android:hint=&quot;Select Pool Type&quot;\r\n        android:labelFor=&quot;@+id/poolTypeSelected&quot;\r\n        android:background=&quot;#EAE7E7&quot;&gt;\r\n\r\n        &lt;AutoCompleteTextView\r\n            android:id=&quot;@+id/poolTypeSelected&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:inputType=&quot;none&quot;\r\n            android:layout_weight=&quot;1&quot;\r\n            android:padding=&quot;14dp&quot;\r\n            android:textSize=&quot;16sp&quot; /&gt;\r\n\r\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\n\r\nHere is the Java code that does the work to get the drop down populated:\r\n\r\nThis is for the `Sport Type`\r\n\r\nSo what is happening is the `Sport Type` drop down will populate on creation of the view:\r\n\r\n\r\n    sportTypeSelected = findViewById(R.id.sportTypeSelected);\r\n        \r\n    List&lt;String&gt; sportsTypes = new ArrayList&lt;&gt;();\r\n\r\n    sportTypeListener = sportsTypesReference.orderByValue().equalTo(&quot;A&quot;).addValueEventListener(new ValueEventListener() {\r\n\r\n        @Override\r\n        public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n\r\n            if (dataSnapshot.exists()) {\r\n\r\n                sportsTypes.clear();\r\n\r\n                for (DataSnapshot sportSnapshot : dataSnapshot.getChildren()) {\r\n\r\n                    String sportType = sportSnapshot.getKey();\r\n\r\n                    sportsTypes.add(sportType);\r\n\r\n                }\r\n\r\n            }\r\n\r\n        }\r\n\r\n        @Override\r\n        public void onCancelled(@NonNull DatabaseError databaseError) {\r\n\r\n        }\r\n\r\n    });\r\n\r\n    numSportsAdapter = new ArrayAdapter&lt;&gt;(this, android.R.layout.simple_dropdown_item_1line, sportsTypes);\r\n        \r\n    sportTypeSelected.setAdapter(numSportsAdapter);\r\n\r\n\r\n\r\nFor the `Pool Type`, is not preloaded based on the hiding of the drop down.\r\n\r\nThen based on the selection of the `Sport Type`, the `setOnItemClickListener` will trigger the `Pool Type` to populate\r\n\r\n\r\n\r\n    poolTypeSelected = findViewById(R.id.poolTypeSelected);\r\n        \r\n    List&lt;String&gt; poolTypes = new ArrayList&lt;&gt;();\r\n\r\n    // HIDE THE DROPDOWN\r\n    poolTypeSelected.setDropDownHeight(0); &lt;-- Hide the drop down init\r\n    poolTypeSelected.setDropDownWidth(0); &lt;-- Hide the drop down init\r\n\r\n\r\n    sportTypeSelected.setOnItemClickListener(new AdapterView.OnItemClickListener() {\r\n\r\n        @Override\r\n        public void onItemClick (AdapterView&lt;?&gt; parent, View view, int position, long id) {\r\n\r\n            // Enable\r\n            poolTypeSelected.setDropDownHeight(ConstraintLayout.LayoutParams.WRAP_CONTENT);\r\n            poolTypeSelected.setDropDownWidth(ConstraintLayout.LayoutParams.MATCH_PARENT);\r\n\r\n            poolTypeListener = poolTypesReference.child(sportTypeSelected.getText().toString()).orderByValue().equalTo(&quot;A&quot;).addValueEventListener(new ValueEventListener() {\r\n\r\n                @Override\r\n                public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n\r\n                    if (dataSnapshot.exists()) {\r\n\r\n                        poolTypes.clear();\r\n\r\n                        for (DataSnapshot sportSnapshot : dataSnapshot.getChildren()) {\r\n\r\n                            String pTypes = sportSnapshot.getKey();\r\n\r\n                            poolTypes.add(pTypes);\r\n\r\n                        }\r\n\r\n                    } \r\n\r\n                }\r\n\r\n                @Override\r\n                public void onCancelled(@NonNull DatabaseError databaseError) {\r\n\r\n                }\r\n\r\n            });\r\n\r\n        }\r\n\r\n    });\r\n\r\n    numPoolsAdapter = new ArrayAdapter&lt;&gt;(this, android.R.layout.simple_dropdown_item_1line, poolTypes);\r\n\r\n    poolTypeSelected.setAdapter(numPoolsAdapter);\r\n\r\n\r\n\r\nMy issue is that I would like for the `Pool Type` to get `blanked out/reset` every time the selection changes in the `Sport Type` dropdown as the choices could change.\r\n\r\nCan someone please let me know how I can achieve this!?\r\n\r\n\r\n--------------\r\n\r\nUpdate: \r\nIf I use:\r\n\r\n    poolTypeSelected.setText(&quot;&quot;);\r\n\r\nthe rest of my Firebase lookup wont populate and I land up with a blank dropdown. \r\n\r\nI&#39;ll assume that its a timing issue and the `setText(&quot;&quot;)` is removing the entires retrieved by the Firebase lookup.","title":"Android AutoCompleteTextView reset previous selected value","body":"<p>I am having a hard time trying to get one of my AutoCompleteTextView to reset based on a selection from another AutoCompleteTextView selection.</p>\n<p>Below are the form elements:</p>\n<p>The first one is the dropdown for <code>Sport Type</code>:</p>\n<pre><code>&lt;com.google.android.material.textfield.TextInputLayout\n    android:id=&quot;@+id/sportType&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.ExposedDropdownMenu&quot;\n    android:hint=&quot;Select Sport&quot;\n    android:labelFor=&quot;@+id/sportTypeSelected&quot;\n    android:background=&quot;#EAE7E7&quot;&gt;\n\n    &lt;AutoCompleteTextView\n        android:id=&quot;@+id/sportTypeSelected&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:inputType=&quot;none&quot;\n        android:layout_weight=&quot;1&quot;\n        android:padding=&quot;14dp&quot;\n        android:textSize=&quot;16sp&quot; /&gt;\n\n&lt;/com.google.android.material.textfield.TextInputLayout&gt;\n</code></pre>\n<p>followed by the second on that is <code>Pool Type</code></p>\n<pre><code>&lt;com.google.android.material.textfield.TextInputLayout\n    android:id=&quot;@+id/poolType&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.ExposedDropdownMenu&quot;\n    android:hint=&quot;Select Pool Type&quot;\n    android:labelFor=&quot;@+id/poolTypeSelected&quot;\n    android:background=&quot;#EAE7E7&quot;&gt;\n\n    &lt;AutoCompleteTextView\n        android:id=&quot;@+id/poolTypeSelected&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:inputType=&quot;none&quot;\n        android:layout_weight=&quot;1&quot;\n        android:padding=&quot;14dp&quot;\n        android:textSize=&quot;16sp&quot; /&gt;\n\n&lt;/com.google.android.material.textfield.TextInputLayout&gt;\n</code></pre>\n<p>Here is the Java code that does the work to get the drop down populated:</p>\n<p>This is for the <code>Sport Type</code></p>\n<p>So what is happening is the <code>Sport Type</code> drop down will populate on creation of the view:</p>\n<pre><code>sportTypeSelected = findViewById(R.id.sportTypeSelected);\n    \nList&lt;String&gt; sportsTypes = new ArrayList&lt;&gt;();\n\nsportTypeListener = sportsTypesReference.orderByValue().equalTo(&quot;A&quot;).addValueEventListener(new ValueEventListener() {\n\n    @Override\n    public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n\n        if (dataSnapshot.exists()) {\n\n            sportsTypes.clear();\n\n            for (DataSnapshot sportSnapshot : dataSnapshot.getChildren()) {\n\n                String sportType = sportSnapshot.getKey();\n\n                sportsTypes.add(sportType);\n\n            }\n\n        }\n\n    }\n\n    @Override\n    public void onCancelled(@NonNull DatabaseError databaseError) {\n\n    }\n\n});\n\nnumSportsAdapter = new ArrayAdapter&lt;&gt;(this, android.R.layout.simple_dropdown_item_1line, sportsTypes);\n    \nsportTypeSelected.setAdapter(numSportsAdapter);\n</code></pre>\n<p>For the <code>Pool Type</code>, is not preloaded based on the hiding of the drop down.</p>\n<p>Then based on the selection of the <code>Sport Type</code>, the <code>setOnItemClickListener</code> will trigger the <code>Pool Type</code> to populate</p>\n<pre><code>poolTypeSelected = findViewById(R.id.poolTypeSelected);\n    \nList&lt;String&gt; poolTypes = new ArrayList&lt;&gt;();\n\n// HIDE THE DROPDOWN\npoolTypeSelected.setDropDownHeight(0); &lt;-- Hide the drop down init\npoolTypeSelected.setDropDownWidth(0); &lt;-- Hide the drop down init\n\n\nsportTypeSelected.setOnItemClickListener(new AdapterView.OnItemClickListener() {\n\n    @Override\n    public void onItemClick (AdapterView&lt;?&gt; parent, View view, int position, long id) {\n\n        // Enable\n        poolTypeSelected.setDropDownHeight(ConstraintLayout.LayoutParams.WRAP_CONTENT);\n        poolTypeSelected.setDropDownWidth(ConstraintLayout.LayoutParams.MATCH_PARENT);\n\n        poolTypeListener = poolTypesReference.child(sportTypeSelected.getText().toString()).orderByValue().equalTo(&quot;A&quot;).addValueEventListener(new ValueEventListener() {\n\n            @Override\n            public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n\n                if (dataSnapshot.exists()) {\n\n                    poolTypes.clear();\n\n                    for (DataSnapshot sportSnapshot : dataSnapshot.getChildren()) {\n\n                        String pTypes = sportSnapshot.getKey();\n\n                        poolTypes.add(pTypes);\n\n                    }\n\n                } \n\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError databaseError) {\n\n            }\n\n        });\n\n    }\n\n});\n\nnumPoolsAdapter = new ArrayAdapter&lt;&gt;(this, android.R.layout.simple_dropdown_item_1line, poolTypes);\n\npoolTypeSelected.setAdapter(numPoolsAdapter);\n</code></pre>\n<p>My issue is that I would like for the <code>Pool Type</code> to get <code>blanked out/reset</code> every time the selection changes in the <code>Sport Type</code> dropdown as the choices could change.</p>\n<p>Can someone please let me know how I can achieve this!?</p>\n<hr />\n<p>Update:\nIf I use:</p>\n<pre><code>poolTypeSelected.setText(&quot;&quot;);\n</code></pre>\n<p>the rest of my Firebase lookup wont populate and I land up with a blank dropdown.</p>\n<p>I'll assume that its a timing issue and the <code>setText(&quot;&quot;)</code> is removing the entires retrieved by the Firebase lookup.</p>\n"},{"tags":["java","caching"],"owner":{"account_id":20445571,"reputation":477,"user_id":15001463,"display_name":"Jared Frazier"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675712205,"creation_date":1675712205,"question_id":75365794,"body_markdown":"I am looking at a part of code that is used for an IDA* search. When a node is expanded, its child states are then ```put``` into the ```StateCache``` datastructure, which is a stack as far as I can tell. My question is this: is there any reason one would choose to set the max size of an array to a particular value? The ```cache``` data member has a number of elements equal to ```10*1024```, which seems to me that the ```cache``` data member is supposed to only store up to 10 KB (?) of elements, but I am really not sure. What would be the justification for the```10*1024``` number? Note that I have found [this](https://stackoverflow.com/questions/19083642/how-the-cache-size-and-array-size-affect-the-performance-of-mathematical-operati) and [this](https://stackoverflow.com/questions/16699247/what-is-a-cache-friendly-code) stack overflow posts that discuss cache hit/miss w.r.t row-major vs. column-major access of arrays, but these don&#39;t answer my question. Also, this code had no comments, otherwise I would&#39;ve included more.\r\n\r\n```java\r\npublic class StateCache {\r\n  public static final int MAX_CACHE_SIZE = 10 * 1024;\r\n  int size;\r\n  State[] cache;\r\n\r\n  public StateCache() {\r\n    size = 0;\r\n    cache = new State[MAX_CACHE_SIZE];\r\n  }\r\n  \r\n  // push and pop operations\r\n  public State get(State original) {\r\n    if (size &gt; 0) {\r\n      size--;\r\n      State result = cache[size];\r\n      result.init(original);\r\n      return result;\r\n    } else {\r\n      return new State(original);\r\n    }\r\n  }\r\n    \r\n  public void put(State[] children) {\r\n    for (State child: children) {\r\n      if (child == null) {\r\n        return;\r\n      }\r\n      if (size &gt;= MAX_CACHE_SIZE) {\r\n        return;\r\n      }\r\n      cache[size] = child;\r\n      size++;\r\n    }\r\n  }  \r\n}\r\n```","title":"Understanding an array with cache size elements","body":"<p>I am looking at a part of code that is used for an IDA* search. When a node is expanded, its child states are then <code>put</code> into the <code>StateCache</code> datastructure, which is a stack as far as I can tell. My question is this: is there any reason one would choose to set the max size of an array to a particular value? The <code>cache</code> data member has a number of elements equal to <code>10*1024</code>, which seems to me that the <code>cache</code> data member is supposed to only store up to 10 KB (?) of elements, but I am really not sure. What would be the justification for the<code>10*1024</code> number? Note that I have found <a href=\"https://stackoverflow.com/questions/19083642/how-the-cache-size-and-array-size-affect-the-performance-of-mathematical-operati\">this</a> and <a href=\"https://stackoverflow.com/questions/16699247/what-is-a-cache-friendly-code\">this</a> stack overflow posts that discuss cache hit/miss w.r.t row-major vs. column-major access of arrays, but these don't answer my question. Also, this code had no comments, otherwise I would've included more.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class StateCache {\n  public static final int MAX_CACHE_SIZE = 10 * 1024;\n  int size;\n  State[] cache;\n\n  public StateCache() {\n    size = 0;\n    cache = new State[MAX_CACHE_SIZE];\n  }\n  \n  // push and pop operations\n  public State get(State original) {\n    if (size &gt; 0) {\n      size--;\n      State result = cache[size];\n      result.init(original);\n      return result;\n    } else {\n      return new State(original);\n    }\n  }\n    \n  public void put(State[] children) {\n    for (State child: children) {\n      if (child == null) {\n        return;\n      }\n      if (size &gt;= MAX_CACHE_SIZE) {\n        return;\n      }\n      cache[size] = child;\n      size++;\n    }\n  }  \n}\n</code></pre>\n"},{"tags":["java","apache-camel","digital-signature","hmac"],"owner":{"account_id":6769246,"reputation":2633,"user_id":5213120,"accept_rate":55,"display_name":"RRP"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675711871,"creation_date":1675710531,"question_id":75365580,"body_markdown":"I am working with a legacy repo which has code written in Apache Camel, I personally have never worked with Java or Camel before and am looking for some assistance. \r\n\r\n**Problem**\r\n\r\nWe are using sftp to get some data from an external endpoint, this data is then sent over to another endpoint (`/process-data`) residing in a different service. The consumer endpoint `/process-data` will have an HMAC guard implemented on top off it. I need to figure out a way to calculate the hmac (using private key) and pass it as part of a the header to `/process-data` \r\n\r\nFor the hmac, i am looking at an encoding type of &quot;sha256&quot; and output format of &quot;base64&quot;\r\n\r\n**Existing Code**\r\n\r\n```\r\n\t@Override\r\n\tpublic void configure() throws Exception {\r\n\t\tfrom(sftp(&quot;{{sftp.host}}:{{sftp.port}}/{{sftp.path}}&quot;)\r\n\t\t\t\t.username(&quot;{{sftp.user}}&quot;)\r\n\t\t\t\t.password(&quot;{{sftp.password}}&quot;)\r\n\t\t\t\t.recursive(false)\r\n\t\t\t\t.useUserKnownHostsFile(false)\r\n\t\t\t\t.delay(&quot;{{sftp.delay}}&quot;)\r\n\t\t\t\t.delete(false)\r\n\t\t\t\t.idempotent(true)\r\n\t\t\t\t.idempotentRepository(idempotentRepository)\r\n\t\t\t\t.advanced()\r\n\t\t\t\t\t.stepwise(false)\r\n\t\t\t\t\t.localWorkDirectory(&quot;{{sftp.tmp-directory}}&quot;))\r\n\t\t.setHeader(Exchange.HTTP_METHOD, constant(&quot;POST&quot;))\r\n\t\t.setHeader(Exchange.CONTENT_TYPE, constant(&quot;application/json&quot;))\r\n\t\t.to(&quot;..../...../process-data&quot;);\r\n\t}\r\n```\r\n\r\n","title":"Apache Camel HMAC implemenation","body":"<p>I am working with a legacy repo which has code written in Apache Camel, I personally have never worked with Java or Camel before and am looking for some assistance.</p>\n<p><strong>Problem</strong></p>\n<p>We are using sftp to get some data from an external endpoint, this data is then sent over to another endpoint (<code>/process-data</code>) residing in a different service. The consumer endpoint <code>/process-data</code> will have an HMAC guard implemented on top off it. I need to figure out a way to calculate the hmac (using private key) and pass it as part of a the header to <code>/process-data</code></p>\n<p>For the hmac, i am looking at an encoding type of &quot;sha256&quot; and output format of &quot;base64&quot;</p>\n<p><strong>Existing Code</strong></p>\n<pre><code>    @Override\n    public void configure() throws Exception {\n        from(sftp(&quot;{{sftp.host}}:{{sftp.port}}/{{sftp.path}}&quot;)\n                .username(&quot;{{sftp.user}}&quot;)\n                .password(&quot;{{sftp.password}}&quot;)\n                .recursive(false)\n                .useUserKnownHostsFile(false)\n                .delay(&quot;{{sftp.delay}}&quot;)\n                .delete(false)\n                .idempotent(true)\n                .idempotentRepository(idempotentRepository)\n                .advanced()\n                    .stepwise(false)\n                    .localWorkDirectory(&quot;{{sftp.tmp-directory}}&quot;))\n        .setHeader(Exchange.HTTP_METHOD, constant(&quot;POST&quot;))\n        .setHeader(Exchange.CONTENT_TYPE, constant(&quot;application/json&quot;))\n        .to(&quot;..../...../process-data&quot;);\n    }\n</code></pre>\n"},{"tags":["java","eclipse","netbeans"],"answers":[{"tags":[],"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1391459345,"creation_date":1391459345,"answer_id":21537071,"question_id":21535023,"body_markdown":"You should be using Maven, as the structure is standardized. To do that (Once you have created your Maven project in Netbeans, just\r\n\r\n1. Go to File -&gt; Import\r\n2. Open Maven tree node\r\n3. Select **Existing Maven Project**\r\n4. Browse to find your project from NetBeans\r\n5. Check **Add project to Working Set**\r\n6. Click finish.\r\n\r\nAs long as the project has no errors, I usually get none transferring to eclipse. This works for Maven web projects and regular projects.","title":"How to get your Netbeans project into Eclipse","body":"<p>You should be using Maven, as the structure is standardized. To do that (Once you have created your Maven project in Netbeans, just</p>\n\n<ol>\n<li>Go to File -> Import</li>\n<li>Open Maven tree node</li>\n<li>Select <strong>Existing Maven Project</strong></li>\n<li>Browse to find your project from NetBeans</li>\n<li>Check <strong>Add project to Working Set</strong></li>\n<li>Click finish.</li>\n</ol>\n\n<p>As long as the project has no errors, I usually get none transferring to eclipse. This works for Maven web projects and regular projects.</p>\n"},{"tags":[],"owner":{"account_id":1636318,"reputation":14452,"user_id":1509695,"accept_rate":38,"display_name":"matanster"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1417279548,"creation_date":1417119829,"answer_id":27178234,"question_id":21535023,"body_markdown":" 1. Make sure you have sbt and run `sbt eclipse` from the project root directory. \r\n 2. In eclipse, use File --&gt; Import --&gt; General --&gt; Existing Projects into Workspace, selecting that same location, so that eclipse builds its project structure for the file structure having just been prepared by sbt.","title":"How to get your Netbeans project into Eclipse","body":"<ol>\n<li>Make sure you have sbt and run <code>sbt eclipse</code> from the project root directory. </li>\n<li>In eclipse, use File --> Import --> General --> Existing Projects into Workspace, selecting that same location, so that eclipse builds its project structure for the file structure having just been prepared by sbt.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":6092384,"reputation":319,"user_id":4754290,"display_name":"moinul islam"},"down_vote_count":1,"up_vote_count":32,"is_accepted":false,"score":31,"last_activity_date":1428318571,"creation_date":1428318571,"answer_id":29470089,"question_id":21535023,"body_markdown":"One other easy way of doing it would be as follows (if you have a simple NetBeans project and not using maven for example).\r\n\r\n1. In Eclipse, Go to File -&gt; New -&gt; Java Project\r\n2. Give a name for your project and click finish to create your project\r\n3. When the project is created find the source folder in NetBeans project, drag and drop all the source files from the NetBeans project to &#39;src&#39; folder of your new created project in eclipse. \r\n4. Move the java source files to respective package (if required)\r\n5. Now you should be able to run your NetBeans project in Eclipse.","title":"How to get your Netbeans project into Eclipse","body":"<p>One other easy way of doing it would be as follows (if you have a simple NetBeans project and not using maven for example).</p>\n\n<ol>\n<li>In Eclipse, Go to File -> New -> Java Project</li>\n<li>Give a name for your project and click finish to create your project</li>\n<li>When the project is created find the source folder in NetBeans project, drag and drop all the source files from the NetBeans project to 'src' folder of your new created project in eclipse. </li>\n<li>Move the java source files to respective package (if required)</li>\n<li>Now you should be able to run your NetBeans project in Eclipse.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1090652,"reputation":4072,"user_id":1085360,"accept_rate":73,"display_name":"Chris Sim"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1516712973,"creation_date":1438944445,"answer_id":31875864,"question_id":21535023,"body_markdown":"There&#39;s a very easy way if you were using a web application just follow this [link](https://www.youtube.com/watch?v=Y1cCC8EqWqQ).\r\n\r\njust do in eclipse :\r\n\r\n    File &gt; import &gt; web &gt; war file\r\n\r\nThen select the war file of your app :)) very easy !!\r\n","title":"How to get your Netbeans project into Eclipse","body":"<p>There's a very easy way if you were using a web application just follow this <a href=\"https://www.youtube.com/watch?v=Y1cCC8EqWqQ\" rel=\"nofollow noreferrer\">link</a>.</p>\n\n<p>just do in eclipse :</p>\n\n<pre><code>File &gt; import &gt; web &gt; war file\n</code></pre>\n\n<p>Then select the war file of your app :)) very easy !!</p>\n"},{"tags":[],"owner":{"account_id":4153712,"reputation":319,"user_id":3405491,"accept_rate":0,"display_name":"Santosh Mondal"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1473614364,"creation_date":1446100547,"answer_id":33407417,"question_id":21535023,"body_markdown":"Sharing my experience, how to import simple **Netbeans** java project into **Eclipse** workspace. Please follow the following steps:\r\n\r\n 1. Copy the Netbeans project folder into Eclipse workspace.\r\n 2. Create **.project** file, inside the project folder at root level. Below code is the sample reference. Change your project name appropriately.\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n        &lt;projectDescription&gt;\r\n        \t&lt;name&gt;PROJECT_NAME&lt;/name&gt;\r\n        \t&lt;comment&gt;&lt;/comment&gt;\r\n\t\t\t&lt;projects&gt;\r\n\t\t\t&lt;/projects&gt;\r\n\t\t\t&lt;buildSpec&gt;\r\n\t\t\t\t&lt;buildCommand&gt;\r\n\t\t\t\t\t&lt;name&gt;org.eclipse.jdt.core.javabuilder&lt;/name&gt;\r\n\t\t\t\t\t&lt;arguments&gt;\r\n\t\t\t\t\t&lt;/arguments&gt;\r\n\t\t\t\t&lt;/buildCommand&gt;\r\n\t\t\t&lt;/buildSpec&gt;\r\n\t\t\t&lt;natures&gt;\r\n\t\t\t\t&lt;nature&gt;org.eclipse.jdt.core.javanature&lt;/nature&gt;\r\n\t\t\t&lt;/natures&gt;\r\n\t\t&lt;/projectDescription&gt;\r\n\r\n\r\n 3. Now open Eclipse and follow the steps,\r\n&gt; File &gt; import &gt; Existing Projects into Workspace &gt; Select root directory &gt; Finish\r\n\r\n 4. Now we need to correct the build path for proper compilation of src, by following these steps:\r\n &gt; Right Click on project folder &gt; Properties &gt; Java Build Path &gt; Click Source tab &gt; Add Folder \r\n\r\n(Add the correct src path from project and remove the incorrect ones). Find the [image ref link][2] how it looks.\r\n \r\n\r\n 5. You are done. Let me know for any queries. Thanks.\r\n\r\n \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mmnBa.png\r\n  [2]: https://i.stack.imgur.com/xp3kJ.png","title":"How to get your Netbeans project into Eclipse","body":"<p>Sharing my experience, how to import simple <strong>Netbeans</strong> java project into <strong>Eclipse</strong> workspace. Please follow the following steps:</p>\n\n<ol>\n<li>Copy the Netbeans project folder into Eclipse workspace.</li>\n<li><p>Create <strong>.project</strong> file, inside the project folder at root level. Below code is the sample reference. Change your project name appropriately.</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;projectDescription&gt;\n    &lt;name&gt;PROJECT_NAME&lt;/name&gt;\n    &lt;comment&gt;&lt;/comment&gt;\n    &lt;projects&gt;\n    &lt;/projects&gt;\n    &lt;buildSpec&gt;\n        &lt;buildCommand&gt;\n            &lt;name&gt;org.eclipse.jdt.core.javabuilder&lt;/name&gt;\n            &lt;arguments&gt;\n            &lt;/arguments&gt;\n        &lt;/buildCommand&gt;\n    &lt;/buildSpec&gt;\n    &lt;natures&gt;\n        &lt;nature&gt;org.eclipse.jdt.core.javanature&lt;/nature&gt;\n    &lt;/natures&gt;\n&lt;/projectDescription&gt;\n</code></pre></li>\n<li><p>Now open Eclipse and follow the steps,</p>\n\n<blockquote>\n  <p>File > import > Existing Projects into Workspace > Select root directory > Finish</p>\n</blockquote></li>\n<li><p>Now we need to correct the build path for proper compilation of src, by following these steps:</p>\n\n<blockquote>\n  <p>Right Click on project folder > Properties > Java Build Path > Click Source tab > Add Folder </p>\n</blockquote></li>\n</ol>\n\n<p>(Add the correct src path from project and remove the incorrect ones). Find the <a href=\"https://i.stack.imgur.com/xp3kJ.png\" rel=\"noreferrer\">image ref link</a> how it looks.</p>\n\n<ol start=\"5\">\n<li>You are done. Let me know for any queries. Thanks.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2755075,"reputation":107,"user_id":2373421,"display_name":"Lemmy_Caution"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1538038536,"creation_date":1538038536,"answer_id":52533121,"question_id":21535023,"body_markdown":"In Eclipse:\r\n\r\nFile&gt;Import&gt;General&gt;Existing projects in Workspace\r\n\r\nBrowse until get the netbeans project folder &gt; Finish\r\n","title":"How to get your Netbeans project into Eclipse","body":"<p>In Eclipse:</p>\n\n<p>File>Import>General>Existing projects in Workspace</p>\n\n<p>Browse until get the netbeans project folder > Finish</p>\n"}],"owner":{"account_id":3851977,"reputation":1581,"user_id":3191909,"accept_rate":43,"display_name":"XXDebugger"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":114891,"favorite_count":0,"down_vote_count":0,"up_vote_count":43,"answer_count":6,"score":43,"last_activity_date":1675711584,"creation_date":1391452641,"question_id":21535023,"body_markdown":"I want to get my NetBeans project to Eclipse. It&#39;s a web application project.\r\n\r\nI imported war files into Eclipse but I am not able to get the Java files and the war files are giving me many errors. What is the best way to import the whole project?","title":"How to get your Netbeans project into Eclipse","body":"<p>I want to get my NetBeans project to Eclipse. It's a web application project.</p>\n\n<p>I imported war files into Eclipse but I am not able to get the Java files and the war files are giving me many errors. What is the best way to import the whole project?</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1675710638,"creation_date":1675710638,"answer_id":75365598,"question_id":75364862,"body_markdown":"If the `reference` variable in all the code snippets you shared points to the same database path, then the loop can be explained.\r\n\r\nFirst up, you are adding a permanent listener on `reference` here:\r\n\r\n    reference.addValueEventListener(new ValueEventListener() {\r\n        ...\r\n\r\nThen when that listener is trigger, you call `setStatusLoggedIn` which then writes to `reference`:\r\n\r\n    reference.child(&quot;SIGNEDIN&quot;).setValue(true);\r\n\r\nThis will then trigger the value event listener from the first snippet again, which will then once again write to the database, which triggers the listener again, etc...\r\n\r\nIf you only want to read from the database once, use `addListenerForSingleValueEvent` or `getData` as shown in the documentation on [reading data once](https://firebase.google.com/docs/database/android/read-and-write#read_data_once).","title":"strange loop when logging a user in to my app","body":"<p>If the <code>reference</code> variable in all the code snippets you shared points to the same database path, then the loop can be explained.</p>\n<p>First up, you are adding a permanent listener on <code>reference</code> here:</p>\n<pre><code>reference.addValueEventListener(new ValueEventListener() {\n    ...\n</code></pre>\n<p>Then when that listener is trigger, you call <code>setStatusLoggedIn</code> which then writes to <code>reference</code>:</p>\n<pre><code>reference.child(&quot;SIGNEDIN&quot;).setValue(true);\n</code></pre>\n<p>This will then trigger the value event listener from the first snippet again, which will then once again write to the database, which triggers the listener again, etc...</p>\n<p>If you only want to read from the database once, use <code>addListenerForSingleValueEvent</code> or <code>getData</code> as shown in the documentation on <a href=\"https://firebase.google.com/docs/database/android/read-and-write#read_data_once\" rel=\"nofollow noreferrer\">reading data once</a>.</p>\n"}],"owner":{"account_id":8037993,"reputation":202,"user_id":6060543,"accept_rate":73,"display_name":"Mark Harrop"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75365598,"answer_count":1,"score":0,"last_activity_date":1675710638,"creation_date":1675705927,"question_id":75364862,"body_markdown":"ive created a simple login screen that collects users email. then collects password and encrypts it. then sends that data to firebase database and signs the user in. it changes the textviews and edit texts to say the user is logged in and hides the login button. all works great. that is until i added a new button to log the user back out. for some reason it logs them out but instantly logs the user back in lol. can somebody just take a quick look at the code n see what ive done wrong. thanks.\r\n\r\nthis is my onClick method\r\n\r\n      @Override\r\n    public void onClick(View view) {\r\n        switch (view.getId()) {\r\n\r\n            case R.id.btn_login:\r\n                geteditTexts();\r\n\r\n                if (SIGNUP) {\r\n                  logUserIn();\r\n\r\n                } else {\r\n                    sendUserDataToFirebase();\r\n                }\r\n                 break;\r\n\r\n    case R.id.btn_logout:\r\n             setStatusLoggedOut();\r\n                break;\r\n\r\n\r\nthis method Checks the user exists and that the encrypted password matches the encrypted key stored with in that database then logs the user in\r\n\r\n    private void logUserIn() {\r\n        reference.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                if (snapshot.exists()) {\r\n                     userdata = snapshot.child(&quot;email&quot;).getValue(String.class);\r\n                     userpassword = snapshot.child(&quot;password&quot;).getValue(String.class);\r\n                    if (userpassword.matches(encryptedMsg) &amp; userdata.matches(memail)) {\r\n\r\n                     setStatusLoggedIn(snapshot);\r\n                    } else {\r\n                        Toast.makeText(getBaseContext(), &quot;Wrong email or password please try again&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                } else {\r\n                    Toast.makeText(getBaseContext(), &quot;No account registered&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            }\r\n\r\nthis method simply sends the data to firebase\r\n\r\n     private void sendUserDataToFirebase() {\r\n        reference.child(&quot;email&quot;).setValue(memail);\r\n        reference.child(&quot;password&quot;).setValue(encryptedMsg);\r\n    }\r\n\r\ni call this method at onStart() to check if the user is logged in or not\r\n\r\n    private void checkUserLogin() {\r\n        reference.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n\r\n                   signedin = snapshot.child(&quot;SIGNEDIN&quot;).getValue(Boolean.class);\r\n                    if (signedin) {\r\n                        setStatusLoggedIn(snapshot);\r\n                    }else {\r\n                        setStatusLoggedOut();\r\n                    }\r\n                }\r\n\r\nthen finally these 2 methods set the user as logged in or out\r\n\r\n      private void  setStatusLoggedIn(DataSnapshot snapshot){\r\n            reference.child(&quot;SIGNEDIN&quot;).setValue(true);\r\n        userdata = snapshot.child(&quot;email&quot;).getValue(String.class);\r\n        et_email.setText(userdata);\r\n        userpassword = snapshot.child(&quot;password&quot;).getValue(String.class);\r\n        DecryptPassword();\r\n        btn_login.setText(&quot;Already Signed in&quot;);\r\n        btn_login.setOnClickListener(null);\r\n        forgot_password.setVisibility(View.GONE);\r\n        signup.setVisibility(View.GONE);\r\n        tv_login_desc.setText(&quot;You Are Logged In &quot;);\r\n        btn_signout.setVisibility(View.VISIBLE);\r\n    }\r\n    private void setStatusLoggedOut(){\r\n        reference.child(&quot;SIGNEDIN&quot;).setValue(false);\r\n        et_email.setText(&quot;&quot;);\r\n        et_password.setText(&quot;&quot;);\r\n        btn_login.setText(&quot;Login&quot;);\r\n        btn_login.setOnClickListener(this);\r\n        forgot_password.setVisibility(View.VISIBLE);\r\n        signup.setVisibility(View.GONE);\r\n        tv_login_desc.setText(&quot;Login&quot;);\r\n        btn_signout.setVisibility(View.GONE);\r\n    }\r\n\r\neverything works ok when logging user in its","title":"strange loop when logging a user in to my app","body":"<p>ive created a simple login screen that collects users email. then collects password and encrypts it. then sends that data to firebase database and signs the user in. it changes the textviews and edit texts to say the user is logged in and hides the login button. all works great. that is until i added a new button to log the user back out. for some reason it logs them out but instantly logs the user back in lol. can somebody just take a quick look at the code n see what ive done wrong. thanks.</p>\n<p>this is my onClick method</p>\n<pre><code>  @Override\npublic void onClick(View view) {\n    switch (view.getId()) {\n\n        case R.id.btn_login:\n            geteditTexts();\n\n            if (SIGNUP) {\n              logUserIn();\n\n            } else {\n                sendUserDataToFirebase();\n            }\n             break;\n\ncase R.id.btn_logout:\n         setStatusLoggedOut();\n            break;\n</code></pre>\n<p>this method Checks the user exists and that the encrypted password matches the encrypted key stored with in that database then logs the user in</p>\n<pre><code>private void logUserIn() {\n    reference.addValueEventListener(new ValueEventListener() {\n        @Override\n        public void onDataChange(@NonNull DataSnapshot snapshot) {\n            if (snapshot.exists()) {\n                 userdata = snapshot.child(&quot;email&quot;).getValue(String.class);\n                 userpassword = snapshot.child(&quot;password&quot;).getValue(String.class);\n                if (userpassword.matches(encryptedMsg) &amp; userdata.matches(memail)) {\n\n                 setStatusLoggedIn(snapshot);\n                } else {\n                    Toast.makeText(getBaseContext(), &quot;Wrong email or password please try again&quot;, Toast.LENGTH_SHORT).show();\n                }\n            } else {\n                Toast.makeText(getBaseContext(), &quot;No account registered&quot;, Toast.LENGTH_SHORT).show();\n            }\n        }\n</code></pre>\n<p>this method simply sends the data to firebase</p>\n<pre><code> private void sendUserDataToFirebase() {\n    reference.child(&quot;email&quot;).setValue(memail);\n    reference.child(&quot;password&quot;).setValue(encryptedMsg);\n}\n</code></pre>\n<p>i call this method at onStart() to check if the user is logged in or not</p>\n<pre><code>private void checkUserLogin() {\n    reference.addValueEventListener(new ValueEventListener() {\n        @Override\n        public void onDataChange(@NonNull DataSnapshot snapshot) {\n\n               signedin = snapshot.child(&quot;SIGNEDIN&quot;).getValue(Boolean.class);\n                if (signedin) {\n                    setStatusLoggedIn(snapshot);\n                }else {\n                    setStatusLoggedOut();\n                }\n            }\n</code></pre>\n<p>then finally these 2 methods set the user as logged in or out</p>\n<pre><code>  private void  setStatusLoggedIn(DataSnapshot snapshot){\n        reference.child(&quot;SIGNEDIN&quot;).setValue(true);\n    userdata = snapshot.child(&quot;email&quot;).getValue(String.class);\n    et_email.setText(userdata);\n    userpassword = snapshot.child(&quot;password&quot;).getValue(String.class);\n    DecryptPassword();\n    btn_login.setText(&quot;Already Signed in&quot;);\n    btn_login.setOnClickListener(null);\n    forgot_password.setVisibility(View.GONE);\n    signup.setVisibility(View.GONE);\n    tv_login_desc.setText(&quot;You Are Logged In &quot;);\n    btn_signout.setVisibility(View.VISIBLE);\n}\nprivate void setStatusLoggedOut(){\n    reference.child(&quot;SIGNEDIN&quot;).setValue(false);\n    et_email.setText(&quot;&quot;);\n    et_password.setText(&quot;&quot;);\n    btn_login.setText(&quot;Login&quot;);\n    btn_login.setOnClickListener(this);\n    forgot_password.setVisibility(View.VISIBLE);\n    signup.setVisibility(View.GONE);\n    tv_login_desc.setText(&quot;Login&quot;);\n    btn_signout.setVisibility(View.GONE);\n}\n</code></pre>\n<p>everything works ok when logging user in its</p>\n"},{"tags":["java","arrays","loops","output"],"comments":[{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":6,"creation_date":1675708330,"post_id":75365242,"comment_id":132982965,"body_markdown":"Because `cont = false;`","body":"Because <code>cont = false;</code>"}],"answers":[{"tags":[],"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675710521,"creation_date":1675709093,"answer_id":75365390,"question_id":75365242,"body_markdown":"It seems like you just need to figure out your logic around `cont = false`, as in, what would you want to make this program terminate, a wrong answer maybe?\r\n\r\nKeep `cont = true` until you&#39;re ready to leave the loop.  Also, you may want to consider using a `List&lt;String&gt;` instead of `String[]`, this allows you to remove the nested for-loop in favor of the contains method.\r\n\r\ne.g. replace \r\n\r\n    for (int i = 0; i &lt; puzzle1.length; i++) {\r\n       if (puzzle1[i].equals(userInput)) {\r\n          score += 100;\r\n          System.out.println(&quot;Good! Enter another guess: &quot;);\r\n          userInput = input.nextLine();\r\n       }\r\n    }\r\n\r\nwith simply\r\n    \r\n    if(puzzle.contains(userInput)) {\r\n       score += 100;\r\n       System.out.println(&quot;Good! Enter another guess: &quot;);\r\n       userInput = input.nextLine();\r\n    } else {\r\n       System.out.println(&quot;Terrible!: &quot;);\r\n       cont = false;\r\n    }\r\n       ","title":"Why does my Loop not repeat after inputting a correct value from an String Array?","body":"<p>It seems like you just need to figure out your logic around <code>cont = false</code>, as in, what would you want to make this program terminate, a wrong answer maybe?</p>\n<p>Keep <code>cont = true</code> until you're ready to leave the loop.  Also, you may want to consider using a <code>List&lt;String&gt;</code> instead of <code>String[]</code>, this allows you to remove the nested for-loop in favor of the contains method.</p>\n<p>e.g. replace</p>\n<pre><code>for (int i = 0; i &lt; puzzle1.length; i++) {\n   if (puzzle1[i].equals(userInput)) {\n      score += 100;\n      System.out.println(&quot;Good! Enter another guess: &quot;);\n      userInput = input.nextLine();\n   }\n}\n</code></pre>\n<p>with simply</p>\n<pre><code>if(puzzle.contains(userInput)) {\n   score += 100;\n   System.out.println(&quot;Good! Enter another guess: &quot;);\n   userInput = input.nextLine();\n} else {\n   System.out.println(&quot;Terrible!: &quot;);\n   cont = false;\n}\n   \n</code></pre>\n"}],"owner":{"account_id":10436976,"reputation":3,"user_id":7694960,"display_name":"Matthew"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75365390,"answer_count":1,"score":0,"last_activity_date":1675710521,"creation_date":1675708136,"question_id":75365242,"body_markdown":"I&#39;m creating a basic word puzzle program as a personal project where a user sees a set of letters and has to create as many words from that set of letters (ie. I T E R; rite, tire, er). A score is added up for each time they get a correct word from one of the matches in a String array. If an incorrect guess is made (the guess does not appear in the array), a final score and the time it took are displayed. My problem is that after I input a value (re) and then enter another correct value (tire), the loop doesn&#39;t allow me to add another guess but exits the loop, and the score only gets updated to the first correct guess, not both. How can i change the logic so that i can enter any of the words from the array list in any order and get the correct score?\r\n\r\nI tried to move the cont boolean outside the for loop. I tried to add the cont boolean in an else if statement when checking the if array item does not equal the input. Same issue persisted, i can enter re then tire and the program stops. Here is my code.\r\n\r\n```\r\nimport java.sql.SQLOutput;\r\nimport java.time.Duration;\r\nimport java.time.Instant;\r\nimport java.util.Scanner;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        Instant starts = Instant.now();\r\n        String guess;\r\n\r\n        int score = 0;\r\n        Scanner input = new Scanner(System.in);\r\n        String seconds;\r\n        String[] puzzle1 = {&quot;iter&quot;, &quot;rite&quot;, &quot;tier&quot;, &quot;tire&quot;, &quot;trie&quot;,\r\n                &quot;ire&quot;, &quot;rei&quot;, &quot;ret&quot;, &quot;rit&quot;, &quot;tie&quot;, &quot;er&quot;, &quot;et&quot;, &quot;re&quot;, &quot;te&quot;, &quot;ti&quot;};\r\n        Boolean cont = true;\r\n\r\n        System.out.println(&quot;How many words can you create with the following letters:&quot; +\r\n                &quot;\\n  T   I   E   R&quot;);\r\n        System.out.println(&quot;Enter a guess: &quot;);\r\n        String userInput = input.nextLine();\r\n        int k= 0;\r\n        while (cont) {\r\n\r\n            for (int i = 0; i &lt; puzzle1.length; i++) {\r\n\r\n                if (puzzle1[i].equals(userInput)) {\r\n                    score += 100;\r\n                    System.out.println(&quot;Good! Enter another guess: &quot;);\r\n                    userInput = input.nextLine();\r\n                }\r\n\r\n            }\r\ncont = false;\r\n\r\n        }\r\n\r\n        Instant ends = Instant.now();\r\n        long mins = Duration.between(starts, ends).toMinutes();\r\n        long time = Duration.between(starts, ends).toSeconds();\r\n        long actual = time % 60;\r\n\r\n\r\n        if (time &lt;= 9) {\r\n            seconds = &quot;0&quot; + actual;\r\n        } else {\r\n            seconds = String.valueOf(time);\r\n        }\r\n\r\n        System.out.println(&quot;Your time was &quot; + mins + &quot;:&quot; + seconds + &quot; and with a score of &quot; + score + &quot; points.&quot;);\r\n\r\n    }}\r\n```\r\n\r\n\r\nhere is the output\r\n\r\n```\r\nHow many words can you create with the following letters:\r\n  T   I   E   R\r\nEnter a guess: \r\nre\r\nGood! Enter another guess: \r\ntire\r\nYour time was 0:05 and with a score of 100 points.\r\n```\r\n","title":"Why does my Loop not repeat after inputting a correct value from an String Array?","body":"<p>I'm creating a basic word puzzle program as a personal project where a user sees a set of letters and has to create as many words from that set of letters (ie. I T E R; rite, tire, er). A score is added up for each time they get a correct word from one of the matches in a String array. If an incorrect guess is made (the guess does not appear in the array), a final score and the time it took are displayed. My problem is that after I input a value (re) and then enter another correct value (tire), the loop doesn't allow me to add another guess but exits the loop, and the score only gets updated to the first correct guess, not both. How can i change the logic so that i can enter any of the words from the array list in any order and get the correct score?</p>\n<p>I tried to move the cont boolean outside the for loop. I tried to add the cont boolean in an else if statement when checking the if array item does not equal the input. Same issue persisted, i can enter re then tire and the program stops. Here is my code.</p>\n<pre><code>import java.sql.SQLOutput;\nimport java.time.Duration;\nimport java.time.Instant;\nimport java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args) {\n        Instant starts = Instant.now();\n        String guess;\n\n        int score = 0;\n        Scanner input = new Scanner(System.in);\n        String seconds;\n        String[] puzzle1 = {&quot;iter&quot;, &quot;rite&quot;, &quot;tier&quot;, &quot;tire&quot;, &quot;trie&quot;,\n                &quot;ire&quot;, &quot;rei&quot;, &quot;ret&quot;, &quot;rit&quot;, &quot;tie&quot;, &quot;er&quot;, &quot;et&quot;, &quot;re&quot;, &quot;te&quot;, &quot;ti&quot;};\n        Boolean cont = true;\n\n        System.out.println(&quot;How many words can you create with the following letters:&quot; +\n                &quot;\\n  T   I   E   R&quot;);\n        System.out.println(&quot;Enter a guess: &quot;);\n        String userInput = input.nextLine();\n        int k= 0;\n        while (cont) {\n\n            for (int i = 0; i &lt; puzzle1.length; i++) {\n\n                if (puzzle1[i].equals(userInput)) {\n                    score += 100;\n                    System.out.println(&quot;Good! Enter another guess: &quot;);\n                    userInput = input.nextLine();\n                }\n\n            }\ncont = false;\n\n        }\n\n        Instant ends = Instant.now();\n        long mins = Duration.between(starts, ends).toMinutes();\n        long time = Duration.between(starts, ends).toSeconds();\n        long actual = time % 60;\n\n\n        if (time &lt;= 9) {\n            seconds = &quot;0&quot; + actual;\n        } else {\n            seconds = String.valueOf(time);\n        }\n\n        System.out.println(&quot;Your time was &quot; + mins + &quot;:&quot; + seconds + &quot; and with a score of &quot; + score + &quot; points.&quot;);\n\n    }}\n</code></pre>\n<p>here is the output</p>\n<pre><code>How many words can you create with the following letters:\n  T   I   E   R\nEnter a guess: \nre\nGood! Enter another guess: \ntire\nYour time was 0:05 and with a score of 100 points.\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9323,"page":669,"page_size":100}
