{"items":[{"tags":["java","maven"],"comments":[{"owner":{"account_id":78033,"reputation":3457,"user_id":222364,"display_name":"Darth Android"},"score":0,"creation_date":1460386420,"post_id":36552133,"comment_id":60704882,"body_markdown":"What command are you running? What does your `pom.xml` look like?","body":"What command are you running? What does your <code>pom.xml</code> look like?"},{"owner":{"account_id":199442,"reputation":453,"user_id":444771,"accept_rate":14,"display_name":"Gringo Golf"},"score":0,"creation_date":1460386518,"post_id":36552133,"comment_id":60704949,"body_markdown":"mvn clean, then mvn build","body":"mvn clean, then mvn build"},{"owner":{"account_id":78033,"reputation":3457,"user_id":222364,"display_name":"Darth Android"},"score":2,"creation_date":1460386590,"post_id":36552133,"comment_id":60705001,"body_markdown":"`build` is not a standard phase for maven. Did you mean to use `mvn compile` (builds/compiles the project) or `mvn test` (compiles and runs all unit tests)?","body":"<code>build</code> is not a standard phase for maven. Did you mean to use <code>mvn compile</code> (builds/compiles the project) or <code>mvn test</code> (compiles and runs all unit tests)?"},{"owner":{"account_id":199442,"reputation":453,"user_id":444771,"accept_rate":14,"display_name":"Gringo Golf"},"score":0,"creation_date":1460387181,"post_id":36552133,"comment_id":60705443,"body_markdown":"mvn compile throws all kinds of errors For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException","body":"mvn compile throws all kinds of errors For more information about the errors and possible solutions, please read the following articles: [ERROR] [Help 1] <a href=\"http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\" rel=\"nofollow noreferrer\">cwiki.apache.org/confluence/display/MAVEN/MojoFailureExcepti&zwnj;&#8203;on</a>"}],"answers":[{"comments":[{"owner":{"account_id":5254406,"reputation":1108,"user_id":4197679,"accept_rate":79,"display_name":"Ashok kumar Ganesan"},"score":0,"creation_date":1593592028,"post_id":36552907,"comment_id":110831760,"body_markdown":"mvn test works well but defining with cucumber tags fails","body":"mvn test works well but defining with cucumber tags fails"}],"tags":[],"owner":{"account_id":19115,"reputation":29081,"user_id":44523,"accept_rate":95,"display_name":"Esko"},"comment_count":1,"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1460388360,"creation_date":1460388360,"answer_id":36552907,"question_id":36552133,"body_markdown":"Maven doesn&#39;t have `build` target (_phase_ in Maven lingo), what you probably want is either `compile`, `test` or `install` depending what you want to achieve.\r\n\r\nPlease read through [Introduction to the Build Lifecycle][1] to learn more about how Maven lifecycle works and what each step does.\r\n\r\n\r\n  [1]: http://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html#Lifecycle_Reference","title":"Unknown lifecycle phase &quot;build&quot;. You must specify a valid lifecycle phase or a goal in the format","body":"<p>Maven doesn't have <code>build</code> target (<em>phase</em> in Maven lingo), what you probably want is either <code>compile</code>, <code>test</code> or <code>install</code> depending what you want to achieve.</p>\n\n<p>Please read through <a href=\"http://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html#Lifecycle_Reference\" rel=\"noreferrer\">Introduction to the Build Lifecycle</a> to learn more about how Maven lifecycle works and what each step does.</p>\n"},{"tags":[],"owner":{"display_name":"user11936657"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1675778705,"creation_date":1641137775,"answer_id":70557299,"question_id":36552133,"body_markdown":"maven haven&#39;t any `build` target, it means if you are run `mvn build` command.\r\nthis command doesn&#39;t exist in maven lifecycle.\r\n - you have to run `mvn package` for run the project\r\n - `mvn compile` for compile\r\n - `mvn test` for test\r\n - `mvn install` for install\r\n - `mvn clean build` -run the build phases of the default lifecycle and for each build phase all the plugin goals they contain are executed.","title":"Unknown lifecycle phase &quot;build&quot;. You must specify a valid lifecycle phase or a goal in the format","body":"<p>maven haven't any <code>build</code> target, it means if you are run <code>mvn build</code> command.\nthis command doesn't exist in maven lifecycle.</p>\n<ul>\n<li>you have to run <code>mvn package</code> for run the project</li>\n<li><code>mvn compile</code> for compile</li>\n<li><code>mvn test</code> for test</li>\n<li><code>mvn install</code> for install</li>\n<li><code>mvn clean build</code> -run the build phases of the default lifecycle and for each build phase all the plugin goals they contain are executed.</li>\n</ul>\n"}],"owner":{"account_id":199442,"reputation":453,"user_id":444771,"accept_rate":14,"display_name":"Gringo Golf"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67179,"favorite_count":0,"down_vote_count":3,"up_vote_count":23,"answer_count":2,"score":20,"last_activity_date":1675778705,"creation_date":1460386368,"question_id":36552133,"body_markdown":"Team,\r\n\r\nGetting the following error on my pom file.  Unknown lifecycle phase &quot;build&quot;. You must specify a valid lifecycle phase or a goal in the format.  I went thru the URL provided but still getting the error. MVN version 3.2.1,Java version: 1.7.0_51 any help would be appreciated\r\n\r\n\r\n\r\nPOM looks like:\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; \r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \r\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 \r\n    http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n  \t&lt;groupId&gt;com.organization.dramer&lt;/groupId&gt;\r\n  \t&lt;artifactId&gt;sTest&lt;/artifactId&gt;\r\n  \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n  \t&lt;name&gt;sTest&lt;/name&gt;\r\n  \t&lt;description&gt;test automation framework created using Java, testNG,\r\n    selenium&lt;/description&gt;\r\n  \r\n  \r\n      &lt;properties&gt;\r\n      &lt;suiteXmlFile&gt;src/main/resources/testng.xml&lt;/suiteXmlFile&gt;\r\n      &lt;skipTests&gt;false&lt;/skipTests&gt;\r\n      &lt;/properties&gt;\r\n  \r\n      &lt;dependencies&gt;\r\n  \t    &lt;dependency&gt;\r\n \t\t    &lt;groupId&gt;org.apache.maven.plugin-tools&lt;/groupId&gt;\r\n \t\t    &lt;artifactId&gt;maven-plugin-annotations&lt;/artifactId&gt;\r\n \t\t    &lt;version&gt;3.2&lt;/version&gt;\r\n \t\t    &lt;scope&gt;provided&lt;/scope&gt;\r\n\t    &lt;/dependency&gt;\r\n  \r\n      &lt;dependency&gt;\r\n      &lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n      &lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n      &lt;version&gt;6.8&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n  \r\n      &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium-firefox-driver&lt;/artifactId&gt;\r\n            &lt;version&gt;2.53.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n      \r\n        &lt;dependency&gt;\r\n\t    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;selenium-chrome-driver&lt;/artifactId&gt;\r\n\t    &lt;version&gt;2.44.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;htmlunit-driver&lt;/artifactId&gt;\r\n            &lt;version&gt;2.20&lt;/version&gt;\r\n        &lt;/dependency&gt;  \r\n    \r\n        &lt;dependency&gt;\r\n\t        &lt;groupId&gt;net.sourceforge.jexcelapi&lt;/groupId&gt;\r\n\t        &lt;artifactId&gt;jxl&lt;/artifactId&gt;\r\n\t        &lt;version&gt;2.6.12&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n  \r\n          &lt;/dependencies&gt;\r\n  \r\n      &lt;build&gt;\r\n  \r\n      &lt;plugins&gt;\r\n  \t    &lt;plugin&gt;\r\n   \t\t    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n  \t\t    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n  \t\t    &lt;version&gt;2.3.2&lt;/version&gt;\r\n  \t\t    &lt;configuration&gt;\r\n  \t\t\t    &lt;source&gt;1.6&lt;/source&gt;\r\n  \t\t\t    &lt;target&gt;1.6&lt;/target&gt;\r\n  \t\t    &lt;/configuration&gt;\r\n  \t    &lt;/plugin&gt;\r\n  \t\r\n  \t    &lt;plugin&gt;\r\n  \t\t    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n  \t\t    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n  \t\t    &lt;version&gt;2.6&lt;/version&gt;\r\n  \t\t    &lt;configuration&gt;\r\n  \t\t\t    &lt;suiteXmlFiles&gt;\r\n  \t\t\t\t    &lt;suiteXmlFile&gt;${suiteXmlFile)&lt;/suiteXmlFile&gt;\r\n  \t\t\t    &lt;/suiteXmlFiles&gt;\t\r\n  \t\t\t    &lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt;\r\n  \t\t    &lt;/configuration&gt;\r\n  \t    &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n  \r\n  \r\n  \r\n  \r\n      &lt;/build&gt;\r\n  \r\n  \r\n  \r\n  \r\n    &lt;/project&gt;","title":"Unknown lifecycle phase &quot;build&quot;. You must specify a valid lifecycle phase or a goal in the format","body":"<p>Team,</p>\n\n<p>Getting the following error on my pom file.  Unknown lifecycle phase \"build\". You must specify a valid lifecycle phase or a goal in the format.  I went thru the URL provided but still getting the error. MVN version 3.2.1,Java version: 1.7.0_51 any help would be appreciated</p>\n\n<p>POM looks like:</p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" \nxmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" \nxsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 \nhttp://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;groupId&gt;com.organization.dramer&lt;/groupId&gt;\n&lt;artifactId&gt;sTest&lt;/artifactId&gt;\n&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;name&gt;sTest&lt;/name&gt;\n&lt;description&gt;test automation framework created using Java, testNG,\nselenium&lt;/description&gt;\n\n\n  &lt;properties&gt;\n  &lt;suiteXmlFile&gt;src/main/resources/testng.xml&lt;/suiteXmlFile&gt;\n  &lt;skipTests&gt;false&lt;/skipTests&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.maven.plugin-tools&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-plugin-annotations&lt;/artifactId&gt;\n        &lt;version&gt;3.2&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n  &lt;dependency&gt;\n  &lt;groupId&gt;org.testng&lt;/groupId&gt;\n  &lt;artifactId&gt;testng&lt;/artifactId&gt;\n  &lt;version&gt;6.8&lt;/version&gt;\n  &lt;scope&gt;test&lt;/scope&gt;\n  &lt;/dependency&gt;\n\n  &lt;dependency&gt;\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n        &lt;artifactId&gt;selenium-firefox-driver&lt;/artifactId&gt;\n        &lt;version&gt;2.53.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n    &lt;artifactId&gt;selenium-chrome-driver&lt;/artifactId&gt;\n    &lt;version&gt;2.44.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n        &lt;artifactId&gt;htmlunit-driver&lt;/artifactId&gt;\n        &lt;version&gt;2.20&lt;/version&gt;\n    &lt;/dependency&gt;  \n\n    &lt;dependency&gt;\n        &lt;groupId&gt;net.sourceforge.jexcelapi&lt;/groupId&gt;\n        &lt;artifactId&gt;jxl&lt;/artifactId&gt;\n        &lt;version&gt;2.6.12&lt;/version&gt;\n    &lt;/dependency&gt;\n\n      &lt;/dependencies&gt;\n\n  &lt;build&gt;\n\n  &lt;plugins&gt;\n    &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.3.2&lt;/version&gt;\n        &lt;configuration&gt;\n            &lt;source&gt;1.6&lt;/source&gt;\n            &lt;target&gt;1.6&lt;/target&gt;\n        &lt;/configuration&gt;\n    &lt;/plugin&gt;\n\n    &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.6&lt;/version&gt;\n        &lt;configuration&gt;\n            &lt;suiteXmlFiles&gt;\n                &lt;suiteXmlFile&gt;${suiteXmlFile)&lt;/suiteXmlFile&gt;\n            &lt;/suiteXmlFiles&gt;    \n            &lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt;\n        &lt;/configuration&gt;\n    &lt;/plugin&gt;\n  &lt;/plugins&gt;\n\n\n\n\n  &lt;/build&gt;\n\n\n\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","json","rest-assured"],"comments":[{"owner":{"account_id":19726215,"reputation":538,"user_id":14442758,"display_name":"Z-100"},"score":0,"creation_date":1675773112,"post_id":75373290,"comment_id":132996946,"body_markdown":"Hi, which of the two classes does fail exactly?","body":"Hi, which of the two classes does fail exactly?"},{"owner":{"account_id":23533465,"reputation":15,"user_id":17578737,"display_name":"ramesh"},"score":0,"creation_date":1675773208,"post_id":75373290,"comment_id":132996979,"body_markdown":"@Z-100 sometimes it will db_search sometime elastic_search class.","body":"@Z-100 sometimes it will db_search sometime elastic_search class."},{"owner":{"account_id":19726215,"reputation":538,"user_id":14442758,"display_name":"Z-100"},"score":0,"creation_date":1675773319,"post_id":75373290,"comment_id":132997018,"body_markdown":"So both of the classes fail, just not at the same time? Are the `RestAssured.baseURI` values different on purpose? And are the tests working independently? - If you just start one test at a time, manually; Do they both work?","body":"So both of the classes fail, just not at the same time? Are the <code>RestAssured.baseURI</code> values different on purpose? And are the tests working independently? - If you just start one test at a time, manually; Do they both work?"},{"owner":{"account_id":23533465,"reputation":15,"user_id":17578737,"display_name":"ramesh"},"score":0,"creation_date":1675775353,"post_id":75373290,"comment_id":132997658,"body_markdown":"@Z-100 both classes won&#39;t fail any one them will fail,RestAssured.baseURI is login API so it will be different for both classes.if i ran the classes independently i will get the response.","body":"@Z-100 both classes won&#39;t fail any one them will fail,RestAssured.baseURI is login API so it will be different for both classes.if i ran the classes independently i will get the response."},{"owner":{"account_id":19726215,"reputation":538,"user_id":14442758,"display_name":"Z-100"},"score":0,"creation_date":1675775623,"post_id":75373290,"comment_id":132997753,"body_markdown":"Have you tried debugging before? I&#39;m interested in the value of `resp`, right after the debugger hit it. Run both tests at once, in debug mode and create a line break on the line of `Response resp = ...` -&gt; then check the value of the response.","body":"Have you tried debugging before? I&#39;m interested in the value of <code>resp</code>, right after the debugger hit it. Run both tests at once, in debug mode and create a line break on the line of <code>Response resp = ...</code> -&gt; then check the value of the response."},{"owner":{"account_id":23533465,"reputation":15,"user_id":17578737,"display_name":"ramesh"},"score":0,"creation_date":1675777192,"post_id":75373290,"comment_id":132998282,"body_markdown":"@Z-100 run through debuuger creating breakpoint on both class for resp line after complete exection getting one them as session expired.","body":"@Z-100 run through debuuger creating breakpoint on both class for resp line after complete exection getting one them as session expired."},{"owner":{"account_id":19726215,"reputation":538,"user_id":14442758,"display_name":"Z-100"},"score":0,"creation_date":1675777426,"post_id":75373290,"comment_id":132998370,"body_markdown":"That makes sense, but what were the values of the variable: `resp` in that point of time? You gotta figure out, which part of the test/app is failing. Maybe it&#39;s the FileWriter","body":"That makes sense, but what were the values of the variable: <code>resp</code> in that point of time? You gotta figure out, which part of the test/app is failing. Maybe it&#39;s the FileWriter"}],"answers":[{"tags":[],"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675778499,"creation_date":1675778499,"answer_id":75374435,"question_id":75373290,"body_markdown":"Both your tests set value for static variable `RestAssured.baseURI`. Hence your threads interfere. \r\n\r\nTo fix that you should either to set base path in configuration of your particular request within each your test or use full path to the endpoint in `get`.","title":"Getting response as session expired for and API","body":"<p>Both your tests set value for static variable <code>RestAssured.baseURI</code>. Hence your threads interfere.</p>\n<p>To fix that you should either to set base path in configuration of your particular request within each your test or use full path to the endpoint in <code>get</code>.</p>\n"}],"owner":{"account_id":23533465,"reputation":15,"user_id":17578737,"display_name":"ramesh"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675778499,"creation_date":1675772520,"question_id":75373290,"body_markdown":"I have two classes `DB_Search` and `Elastic_Search` which generate the response from STAGE and PROD, but when I ran these two classes parallel using the testng.xml file, one class got a complete response but the other one got a `session-expired`-response.\r\n\r\n\r\nThese are the two classes:\r\n\r\n```\r\npublic class DB_Search {\r\n\r\n\t@Test\r\n\tpublic void FinBlock() throws IOException, ParseException {\r\n\r\n\t\tSessionFilter session = new SessionFilter();\r\n\t\tRestAssured.baseURI = &quot;login_api&quot;;\r\n\t\tString Response = given().auth().preemptive().basic(&quot;******&quot;, &quot;****&quot;).filter(session).when()\r\n\t\t\t\t.get(RestAssured.baseURI).then().extract().response().getCookie(&quot;RAY_SESSION_ID&quot;);\r\n\r\n\t\tResponse resp = given().cookie(&quot;RAY_SESSION_ID&quot;, Response).filter(session).when().get(&quot;API&quot;).then().extract()\r\n\t\t\t\t.response();\r\n\r\n\t\tFileWriter filewriter = new FileWriter(&quot;C:\\\\Users\\\\***\\\\eclipse-workspace\\\\API_test\\\\Files\\\\output.json&quot;);\r\n\t\tBufferedWriter bufferedWriter = new BufferedWriter(filewriter);\r\n\t\tbufferedWriter.write(resp.asString());\r\n\t\tbufferedWriter.close();\r\n\t}\r\n}\r\n```\r\n\r\n``` \r\npublic class Elastic_search {\r\n\r\n\t@Test\r\n\tpublic void FinBlock() throws IOException, ParseException {\r\n\t\tSessionFilter session = new SessionFilter();\r\n\t\tRestAssured.baseURI = &quot;Login_API&quot;;\r\n\t\tString Response = given().auth().preemptive().basic(&quot;****&quot;, &quot;***&quot;).filter(session).when()\r\n\t\t\t\t.get(RestAssured.baseURI).then().extract().response().getCookie(&quot;RAY_SESSION_ID&quot;);\r\n\r\n\t\tResponse resp = given().cookie(&quot;RAY_SESSION_ID&quot;, Response).filter(session).when().get(&quot;main_api&quot;).then()\r\n\t\t\t\t.extract().response();\r\n\r\n\t\tFileWriter filewriter = new FileWriter(&quot;C:\\\\Users\\\\***\\\\eclipse-workspace\\\\API_test\\\\Files\\\\output1.json&quot;);\r\n\t\tBufferedWriter bufferedWriter = new BufferedWriter(filewriter);\r\n\t\tbufferedWriter.write(resp.asString());\r\n\t\tbufferedWriter.close();\r\n\r\n\t}\r\n}\r\n```\r\n         \r\n     \r\n     \r\n\r\n\r\n \r\n","title":"Getting response as session expired for and API","body":"<p>I have two classes <code>DB_Search</code> and <code>Elastic_Search</code> which generate the response from STAGE and PROD, but when I ran these two classes parallel using the testng.xml file, one class got a complete response but the other one got a <code>session-expired</code>-response.</p>\n<p>These are the two classes:</p>\n<pre><code>public class DB_Search {\n\n    @Test\n    public void FinBlock() throws IOException, ParseException {\n\n        SessionFilter session = new SessionFilter();\n        RestAssured.baseURI = &quot;login_api&quot;;\n        String Response = given().auth().preemptive().basic(&quot;******&quot;, &quot;****&quot;).filter(session).when()\n                .get(RestAssured.baseURI).then().extract().response().getCookie(&quot;RAY_SESSION_ID&quot;);\n\n        Response resp = given().cookie(&quot;RAY_SESSION_ID&quot;, Response).filter(session).when().get(&quot;API&quot;).then().extract()\n                .response();\n\n        FileWriter filewriter = new FileWriter(&quot;C:\\\\Users\\\\***\\\\eclipse-workspace\\\\API_test\\\\Files\\\\output.json&quot;);\n        BufferedWriter bufferedWriter = new BufferedWriter(filewriter);\n        bufferedWriter.write(resp.asString());\n        bufferedWriter.close();\n    }\n}\n</code></pre>\n<pre><code>public class Elastic_search {\n\n    @Test\n    public void FinBlock() throws IOException, ParseException {\n        SessionFilter session = new SessionFilter();\n        RestAssured.baseURI = &quot;Login_API&quot;;\n        String Response = given().auth().preemptive().basic(&quot;****&quot;, &quot;***&quot;).filter(session).when()\n                .get(RestAssured.baseURI).then().extract().response().getCookie(&quot;RAY_SESSION_ID&quot;);\n\n        Response resp = given().cookie(&quot;RAY_SESSION_ID&quot;, Response).filter(session).when().get(&quot;main_api&quot;).then()\n                .extract().response();\n\n        FileWriter filewriter = new FileWriter(&quot;C:\\\\Users\\\\***\\\\eclipse-workspace\\\\API_test\\\\Files\\\\output1.json&quot;);\n        BufferedWriter bufferedWriter = new BufferedWriter(filewriter);\n        bufferedWriter.write(resp.asString());\n        bufferedWriter.close();\n\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-webflux"],"comments":[{"owner":{"account_id":7106895,"reputation":33839,"user_id":5436257,"accept_rate":100,"display_name":"Joe Clay"},"score":1,"creation_date":1675778047,"post_id":75374024,"comment_id":132998573,"body_markdown":"Does this answer your question? [Deleting file after a zero-copy response in Spring Webflux](https://stackoverflow.com/questions/72718706/deleting-file-after-a-zero-copy-response-in-spring-webflux) (bit broader than your question, but the answer seems applicable here too)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/72718706/deleting-file-after-a-zero-copy-response-in-spring-webflux\">Deleting file after a zero-copy response in Spring Webflux</a> (bit broader than your question, but the answer seems applicable here too)"}],"owner":{"account_id":26186098,"reputation":55,"user_id":19868616,"display_name":"Goro"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675778238,"creation_date":1675776371,"question_id":75374024,"body_markdown":"method for deleting a file:\r\n(idea warns that problems may occur)\r\n\r\n     private Mono&lt;Boolean&gt; remove(String path, String fileName) {\r\n            return Mono.fromRunnable(() -&gt; {\r\n                        try {\r\n    //Possibly blocking call in non-blocking context could lead to thread starvation \r\n                            Files.delete(Path.of(path + fileName));\r\n                        } catch (IOException e) {\r\n                            throw new RuntimeException();\r\n                        }\r\n                    }\r\n            );\r\n        }\r\n\r\nIs there a correct way to delete a file?","title":"How to delete files correctly using webflux?","body":"<p>method for deleting a file:\n(idea warns that problems may occur)</p>\n<pre><code> private Mono&lt;Boolean&gt; remove(String path, String fileName) {\n        return Mono.fromRunnable(() -&gt; {\n                    try {\n//Possibly blocking call in non-blocking context could lead to thread starvation \n                        Files.delete(Path.of(path + fileName));\n                    } catch (IOException e) {\n                        throw new RuntimeException();\n                    }\n                }\n        );\n    }\n</code></pre>\n<p>Is there a correct way to delete a file?</p>\n"},{"tags":["java","stored-procedures","azure-cosmosdb","azure-cosmosdb-sqlapi"],"owner":{"account_id":5137581,"reputation":300,"user_id":4115835,"accept_rate":15,"display_name":"Loren"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675778116,"creation_date":1675764305,"question_id":75371788,"body_markdown":"I wrote a sproc that contains the following code (calling from Java). My requirement is it possible to throw specific error message from proc in case of etag not matching, the one I am trying to throw is not getting returned back to java code. Also in case of etag not matching CosmosStoredProcedureResponse is not getting initialised only. It is directly coming to exception block.\r\n\r\n        var upsertOptions = {\r\n            disableAutomaticIdGeneration: true,\r\n            etag: doc._etag\r\n        }\r\n\r\n        var isAccepted = collection.upsertDocument(collectionLink, doc, upsertOptions, callback);\r\n         if (!isAccepted) {                        \r\n             throw new Error(&quot;upsertDocument() not accepted, please retry&quot;); \r\n         } \r\n\r\nI tried to handle the exception using CosmosStoredProcedureResponse but it is directly entering in exception block.\r\n\r\n       try {\r\n\t\t\tCosmosStoredProcedureResponse executeResponse = container.getScripts().getStoredProcedure(&quot;createEvent&quot;)\r\n\t\t\t\t\t.execute(Arrays.asList(listObj), options);\r\n\r\n\t\t\tSystem.out.println(executeResponse.getResponseAsString());\r\n\t\t\tSystem.out.println(executeResponse.getStatusCode());\r\n\t\t\tSystem.out.println(executeResponse.getRequestCharge());\r\n\t\t\tif(executeResponse.getStatusCode()==400) {\r\n\t\t\t\t//perform some work\r\n\t\t\t}\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\nException\r\n    \r\n    {&quot;ClassName&quot;:&quot;BadRequestException&quot;,&quot;userAgent&quot;:&quot;azsdk-java-cosmos/4.33.1 Windows11/10.0 JRE/11.0.15&quot;,&quot;statusCode&quot;:400,&quot;resourceAddress&quot;:&quot;rntbd://sams-oms-ng-dev-cosmos-southcentralus.documents.azure.com:11896/apps/58b6ba92-a159-4be1-b518-83ca99c9c670/services/29e60d08-2d3e-487f-90e6-a510a16200d4/partitions/dd5514ba-1241-4019-8ffa-0ed2bb66af23/replicas/133124625103992799p/&quot;,&quot;error&quot;:&quot;{\\&quot;Errors\\&quot;:[\\&quot;Encountered exception while executing function. Exception = Error: {\\\\\\&quot;Errors\\\\\\&quot;:[\\\\\\&quot;One of the specified pre-condition is not met. Learn more: https:\\\\\\\\/\\\\\\\\/aka.ms\\\\\\\\/CosmosDB\\\\\\\\/sql\\\\\\\\/errors\\\\\\\\/precondition-failed\\\\\\&quot;]}\\\\r\\\\nStack trace: Error: {\\\\\\&quot;Errors\\\\\\&quot;:[\\\\\\&quot;One of the specified pre-condition is not met. Learn more: https:\\\\\\\\/\\\\\\\\/aka.ms\\\\\\\\/CosmosDB\\\\\\\\/sql\\\\\\\\/errors\\\\\\\\/precondition-failed\\\\\\&quot;]}\\\\n   at callback (script.js:31:18)\\\\n   at Anonymous function (script.js:760:29)\\&quot;]}&quot;,&quot;innerErrorMessage&quot;:&quot;[\\&quot;Encountered exception while executing function. Exception = Error: {\\\\\\&quot;Errors\\\\\\&quot;:[\\\\\\&quot;One of the specified pre-condition is not met. Learn more: https:\\\\\\\\/\\\\\\\\/aka.ms\\\\\\\\/CosmosDB\\\\\\\\/sql\\\\\\\\/errors\\\\\\\\/precondition-failed\\\\\\&quot;]}\\\\r\\\\nStack trace: Error: {\\\\\\&quot;Errors\\\\\\&quot;:[\\\\\\&quot;One of the specified pre-condition is not met. Learn more: https:\\\\\\\\/\\\\\\\\/aka.ms\\\\\\\\/CosmosDB\\\\\\\\/sql\\\\\\\\/errors\\\\\\\\/precondition-failed\\\\\\&quot;]}\\\\n   at callback (script.js:31:18)\\\\n   at Anonymous function (script.js:760:29)\\&quot;]&quot;,&quot;causeInfo&quot;:null,&quot;responseHeaders&quot;:&quot;{lsn=1023494, x-ms-activity-id=7266323a-a6cd-11ed-a64a-7b8132ab7b07, x-ms-cosmos-llsn=1023494, x-ms-cosmos-quorum-acked-llsn=1023494, x-ms-current-replica-set-size=4, x-ms-current-write-quorum=3, x-ms-global-Committed-lsn=1023494, x-ms-last-state-change-utc=Wed, 01 Feb 2023 12:29:23.772 GMT, x-ms-number-of-read-regions=0, x-ms-quorum-acked-lsn=1023494, x-ms-request-charge=4.41, x-ms-request-duration-ms=2.928, x-ms-schemaversion=1.15, x-ms-serviceversion= version=2.14.0.0, x-ms-session-token=0:-1#1023494, x-ms-substatus=412, x-ms-transport-request-id=5, x-ms-xp-role=1}&quot;,&quot;cosmosDiagnostics&quot;:{&quot;userAgent&quot;:&quot;azsdk-java-cosmos/4.33.1 Windows11/10.0 JRE/11.0.15&quot;,&quot;activityId&quot;:&quot;7266323a-a6cd-11ed-a64a-7b8132ab7b07&quot;,&quot;requestLatencyInMs&quot;:4301,&quot;requestStartTimeUTC&quot;:&quot;2023-02-07T09:54:43.593225500Z&quot;,&quot;requestEndTimeUTC&quot;:&quot;2023-02-07T09:54:47.894249900Z&quot;,&quot;responseStatisticsList&quot;:[{&quot;storeResult&quot;:{&quot;storePhysicalAddress&quot;:&quot;rntbd://sams-oms-ng-dev-cosmos-southcentralus.documents.azure.com:11896/apps/58b6ba92-a159-4be1-b518-83ca99c9c670/services/29e60d08-2d3e-487f-90e6-a510a16200d4/partitions/dd5514ba-1241-4019-8ffa-0ed2bb66af23/replicas/133124625103992799p/&quot;,&quot;lsn&quot;:1023494,&quot;globalCommittedLsn&quot;:1023494,&quot;partitionKeyRangeId&quot;:&quot;0&quot;,&quot;isValid&quot;:true,&quot;statusCode&quot;:400,&quot;subStatusCode&quot;:412,&quot;isGone&quot;:false,&quot;isNotFound&quot;:false,&quot;isInvalidPartition&quot;:false,&quot;isThroughputControlRequestRateTooLarge&quot;:false,&quot;requestCharge&quot;:4.41,&quot;itemLSN&quot;:-1,&quot;sessionToken&quot;:&quot;0:-1#1023494&quot;,&quot;backendLatencyInMs&quot;:2.928,&quot;exceptionMessage&quot;:&quot;[\\&quot;Encountered exception while executing function. Exception = Error: {\\\\\\&quot;Errors\\\\\\&quot;:[\\\\\\&quot;One of the specified pre-condition is not met. Learn more: https:\\\\\\\\/\\\\\\\\/aka.ms\\\\\\\\/CosmosDB\\\\\\\\/sql\\\\\\\\/errors\\\\\\\\/precondition-failed\\\\\\&quot;]}\\\\r\\\\nStack trace: Error: {\\\\\\&quot;Errors\\\\\\&quot;:[\\\\\\&quot;One of the specified pre-condition is not met. Learn more: https:\\\\\\\\/\\\\\\\\/aka.ms\\\\\\\\/CosmosDB\\\\\\\\/sql\\\\\\\\/errors\\\\\\\\/precondition-failed\\\\\\&quot;]}\\\\n   at callback (script.js:31:18)\\\\n   at Anonymous function (script.js:760:29)\\&quot;]&quot;,&quot;exceptionResponseHeaders&quot;:&quot;{lsn=1023494, x-ms-activity-id=7266323a-a6cd-11ed-a64a-7b8132ab7b07, x-ms-cosmos-llsn=1023494, x-ms-cosmos-quorum-acked-llsn=1023494, x-ms-current-replica-set-size=4, x-ms-current-write-quorum=3, x-ms-documentdb-partitionkeyrangeid=0, x-ms-global-Committed-lsn=1023494, x-ms-last-state-change-utc=Wed, 01 Feb 2023 12:29:23.772 GMT, x-ms-number-of-read-regions=0, x-ms-quorum-acked-lsn=1023494, x-ms-request-charge=4.41, x-ms-request-duration-ms=2.928, x-ms-schemaversion=1.15, x-ms-serviceversion= version=2.14.0.0, x-ms-session-token=0:-1#1023494, x-ms-substatus=412, x-ms-transport-request-id=5, x-ms-xp-role=1}&quot;,&quot;transportRequestTimeline&quot;:[{&quot;eventName&quot;:&quot;created&quot;,&quot;startTimeUTC&quot;:&quot;2023-02-07T09:54:46.340744600Z&quot;,&quot;durationInMilliSecs&quot;:1.0019},{&quot;eventName&quot;:&quot;queued&quot;,&quot;startTimeUTC&quot;:&quot;2023-02-07T09:54:46.341746500Z&quot;,&quot;durationInMilliSecs&quot;:0.0},{&quot;eventName&quot;:&quot;channelAcquisitionStarted&quot;,&quot;startTimeUTC&quot;:&quot;2023-02-07T09:54:46.341746500Z&quot;,&quot;durationInMilliSecs&quot;:1236.0792},{&quot;eventName&quot;:&quot;pipelined&quot;,&quot;startTimeUTC&quot;:&quot;2023-02-07T09:54:47.577825700Z&quot;,&quot;durationInMilliSecs&quot;:1.9926},{&quot;eventName&quot;:&quot;transitTime&quot;,&quot;startTimeUTC&quot;:&quot;2023-02-07T09:54:47.579818300Z&quot;,&quot;durationInMilliSecs&quot;:298.2854},{&quot;eventName&quot;:&quot;decodeTime&quot;,&quot;startTimeUTC&quot;:&quot;2023-02-07T09:54:47.878103700Z&quot;,&quot;durationInMilliSecs&quot;:0.9986},{&quot;eventName&quot;:&quot;received&quot;,&quot;startTimeUTC&quot;:&quot;2023-02-07T09:54:47.879102300Z&quot;,&quot;durationInMilliSecs&quot;:13.1504},{&quot;eventName&quot;:&quot;completed&quot;,&quot;startTimeUTC&quot;:&quot;2023-02-07T09:54:47.892252700Z&quot;,&quot;durationInMilliSecs&quot;:0.9983}],&quot;rntbdRequestLengthInBytes&quot;:1952,&quot;rntbdResponseLengthInBytes&quot;:702,&quot;requestPayloadLengthInBytes&quot;:1507,&quot;responsePayloadLengthInBytes&quot;:702,&quot;channelTaskQueueSize&quot;:0,&quot;pendingRequestsCount&quot;:0,&quot;serviceEndpointStatistics&quot;:{&quot;availableChannels&quot;:0,&quot;acquiredChannels&quot;:0,&quot;executorTaskQueueSize&quot;:0,&quot;inflightRequests&quot;:1,&quot;lastSuccessfulRequestTime&quot;:&quot;2023-02-07T09:54:46.340Z&quot;,&quot;lastRequestTime&quot;:&quot;2023-02-07T09:54:46.340Z&quot;,&quot;createdTime&quot;:&quot;2023-02-07T09:54:46.340744600Z&quot;,&quot;isClosed&quot;:false,&quot;cerMetrics&quot;:{}}},&quot;requestResponseTimeUTC&quot;:&quot;2023-02-07T09:54:47.894249900Z&quot;,&quot;requestResourceType&quot;:&quot;StoredProcedure&quot;,&quot;requestOperationType&quot;:&quot;ExecuteJavaScript&quot;}],&quot;supplementalResponseStatisticsList&quot;:[],&quot;addressResolutionStatistics&quot;:{&quot;73d838ce-a6cd-11ed-a64a-7b8132ab7b07&quot;:{&quot;startTimeUTC&quot;:&quot;2023-02-07T09:54:46.041675100Z&quot;,&quot;endTimeUTC&quot;:&quot;2023-02-07T09:54:46.339745400Z&quot;,&quot;targetEndpoint&quot;:&quot;https://sams-oms-ng-dev-cosmos-southcentralus.documents.azure.com:443/addresses/?$resolveFor=dbs%2F%2BcFxAA%3D%3D%2Fcolls%2F%2BcFxAPFrYR8%3D%2Fdocs&amp;$filter=protocol%20eq%20rntbd&amp;$partitionKeyRangeIds=0&quot;,&quot;exceptionMessage&quot;:null,&quot;forceRefresh&quot;:false,&quot;forceCollectionRoutingMapRefresh&quot;:false,&quot;inflightRequest&quot;:false}},&quot;regionsContacted&quot;:[&quot;south central us&quot;],&quot;retryContext&quot;:{&quot;statusAndSubStatusCodes&quot;:null,&quot;retryCount&quot;:0,&quot;retryLatency&quot;:0},&quot;metadataDiagnosticsContext&quot;:{&quot;metadataDiagnosticList&quot;:[{&quot;metaDataName&quot;:&quot;CONTAINER_LOOK_UP&quot;,&quot;startTimeUTC&quot;:&quot;2023-02-07T09:54:43.617056900Z&quot;,&quot;endTimeUTC&quot;:&quot;2023-02-07T09:54:44.818814900Z&quot;,&quot;durationinMS&quot;:1201},{&quot;metaDataName&quot;:&quot;PARTITION_KEY_RANGE_LOOK_UP&quot;,&quot;startTimeUTC&quot;:&quot;2023-02-07T09:54:44.823801800Z&quot;,&quot;endTimeUTC&quot;:&quot;2023-02-07T09:54:46.040677Z&quot;,&quot;durationinMS&quot;:1216},{&quot;metaDataName&quot;:&quot;SERVER_ADDRESS_LOOKUP&quot;,&quot;startTimeUTC&quot;:&quot;2023-02-07T09:54:46.041675100Z&quot;,&quot;endTimeUTC&quot;:&quot;2023-02-07T09:54:46.339745400Z&quot;,&quot;durationinMS&quot;:298}]},&quot;serializationDiagnosticsContext&quot;:{&quot;serializationDiagnosticsList&quot;:null},&quot;gatewayStatistics&quot;:null,&quot;systemInformation&quot;:{&quot;usedMemory&quot;:&quot;223562 KB&quot;,&quot;availableMemory&quot;:&quot;3907254 KB&quot;,&quot;systemCpuLoad&quot;:&quot;(2023-02-07T09:55:16.216507600Z 18.1%), (2023-02-07T09:55:16.216507600Z 18.1%), (2023-02-07T09:55:16.216507600Z 18.1%), (2023-02-07T09:55:16.216507600Z 18.1%), (2023-02-07T09:55:27.007330100Z 22.8%), (2023-02-07T09:55:27.008327900Z 22.8%)&quot;,&quot;availableProcessors&quot;:12},&quot;clientCfgs&quot;:{&quot;id&quot;:4,&quot;machineId&quot;:&quot;uuid:5ba96182-8126-4455-9ee5-c04902437c77&quot;,&quot;connectionMode&quot;:&quot;DIRECT&quot;,&quot;numberOfClients&quot;:5,&quot;connCfg&quot;:{&quot;rntbd&quot;:&quot;(cto:PT5S, nrto:PT5S, icto:PT0S, ieto:PT1H, mcpe:130, mrpc:30, cer:true)&quot;,&quot;gw&quot;:&quot;(cps:1000, nrto:PT1M, icto:PT1M, p:false)&quot;,&quot;other&quot;:&quot;(ed: true, cs: false)&quot;},&quot;consistencyCfg&quot;:&quot;(consistency: null, mm: true, prgns: [])&quot;}}}\r\n\tat com.azure.cosmos.implementation.directconnectivity.rntbd.RntbdRequestManager.messageReceived(RntbdRequestManager.java:852)\r\n\tat com.azure.cosmos.implementation.directconnectivity.rntbd.RntbdRequestManager.channelRead(RntbdRequestManager.java:194)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:327)\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:299)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n\tat io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)\r\n\tat io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:253)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n\tat io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n\tat io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1373)\r\n\tat io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1236)\r\n\tat io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1285)\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:510)\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:449)\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:279)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n\tat io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n\tat io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\r\n\tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)\r\n\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\tat java.base/java.lang.Thread.run(Thread.java:834)\r\n\r\n","title":"upsertDocument etag mismatch returns the wrong exception","body":"<p>I wrote a sproc that contains the following code (calling from Java). My requirement is it possible to throw specific error message from proc in case of etag not matching, the one I am trying to throw is not getting returned back to java code. Also in case of etag not matching CosmosStoredProcedureResponse is not getting initialised only. It is directly coming to exception block.</p>\n<pre><code>    var upsertOptions = {\n        disableAutomaticIdGeneration: true,\n        etag: doc._etag\n    }\n\n    var isAccepted = collection.upsertDocument(collectionLink, doc, upsertOptions, callback);\n     if (!isAccepted) {                        \n         throw new Error(&quot;upsertDocument() not accepted, please retry&quot;); \n     } \n</code></pre>\n<p>I tried to handle the exception using CosmosStoredProcedureResponse but it is directly entering in exception block.</p>\n<pre><code>   try {\n        CosmosStoredProcedureResponse executeResponse = container.getScripts().getStoredProcedure(&quot;createEvent&quot;)\n                .execute(Arrays.asList(listObj), options);\n\n        System.out.println(executeResponse.getResponseAsString());\n        System.out.println(executeResponse.getStatusCode());\n        System.out.println(executeResponse.getRequestCharge());\n        if(executeResponse.getStatusCode()==400) {\n            //perform some work\n        }\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n</code></pre>\n<p>Exception</p>\n<pre><code>{&quot;ClassName&quot;:&quot;BadRequestException&quot;,&quot;userAgent&quot;:&quot;azsdk-java-cosmos/4.33.1 Windows11/10.0 JRE/11.0.15&quot;,&quot;statusCode&quot;:400,&quot;resourceAddress&quot;:&quot;rntbd://sams-oms-ng-dev-cosmos-southcentralus.documents.azure.com:11896/apps/58b6ba92-a159-4be1-b518-83ca99c9c670/services/29e60d08-2d3e-487f-90e6-a510a16200d4/partitions/dd5514ba-1241-4019-8ffa-0ed2bb66af23/replicas/133124625103992799p/&quot;,&quot;error&quot;:&quot;{\\&quot;Errors\\&quot;:[\\&quot;Encountered exception while executing function. Exception = Error: {\\\\\\&quot;Errors\\\\\\&quot;:[\\\\\\&quot;One of the specified pre-condition is not met. Learn more: https:\\\\\\\\/\\\\\\\\/aka.ms\\\\\\\\/CosmosDB\\\\\\\\/sql\\\\\\\\/errors\\\\\\\\/precondition-failed\\\\\\&quot;]}\\\\r\\\\nStack trace: Error: {\\\\\\&quot;Errors\\\\\\&quot;:[\\\\\\&quot;One of the specified pre-condition is not met. Learn more: https:\\\\\\\\/\\\\\\\\/aka.ms\\\\\\\\/CosmosDB\\\\\\\\/sql\\\\\\\\/errors\\\\\\\\/precondition-failed\\\\\\&quot;]}\\\\n   at callback (script.js:31:18)\\\\n   at Anonymous function (script.js:760:29)\\&quot;]}&quot;,&quot;innerErrorMessage&quot;:&quot;[\\&quot;Encountered exception while executing function. Exception = Error: {\\\\\\&quot;Errors\\\\\\&quot;:[\\\\\\&quot;One of the specified pre-condition is not met. Learn more: https:\\\\\\\\/\\\\\\\\/aka.ms\\\\\\\\/CosmosDB\\\\\\\\/sql\\\\\\\\/errors\\\\\\\\/precondition-failed\\\\\\&quot;]}\\\\r\\\\nStack trace: Error: {\\\\\\&quot;Errors\\\\\\&quot;:[\\\\\\&quot;One of the specified pre-condition is not met. Learn more: https:\\\\\\\\/\\\\\\\\/aka.ms\\\\\\\\/CosmosDB\\\\\\\\/sql\\\\\\\\/errors\\\\\\\\/precondition-failed\\\\\\&quot;]}\\\\n   at callback (script.js:31:18)\\\\n   at Anonymous function (script.js:760:29)\\&quot;]&quot;,&quot;causeInfo&quot;:null,&quot;responseHeaders&quot;:&quot;{lsn=1023494, x-ms-activity-id=7266323a-a6cd-11ed-a64a-7b8132ab7b07, x-ms-cosmos-llsn=1023494, x-ms-cosmos-quorum-acked-llsn=1023494, x-ms-current-replica-set-size=4, x-ms-current-write-quorum=3, x-ms-global-Committed-lsn=1023494, x-ms-last-state-change-utc=Wed, 01 Feb 2023 12:29:23.772 GMT, x-ms-number-of-read-regions=0, x-ms-quorum-acked-lsn=1023494, x-ms-request-charge=4.41, x-ms-request-duration-ms=2.928, x-ms-schemaversion=1.15, x-ms-serviceversion= version=2.14.0.0, x-ms-session-token=0:-1#1023494, x-ms-substatus=412, x-ms-transport-request-id=5, x-ms-xp-role=1}&quot;,&quot;cosmosDiagnostics&quot;:{&quot;userAgent&quot;:&quot;azsdk-java-cosmos/4.33.1 Windows11/10.0 JRE/11.0.15&quot;,&quot;activityId&quot;:&quot;7266323a-a6cd-11ed-a64a-7b8132ab7b07&quot;,&quot;requestLatencyInMs&quot;:4301,&quot;requestStartTimeUTC&quot;:&quot;2023-02-07T09:54:43.593225500Z&quot;,&quot;requestEndTimeUTC&quot;:&quot;2023-02-07T09:54:47.894249900Z&quot;,&quot;responseStatisticsList&quot;:[{&quot;storeResult&quot;:{&quot;storePhysicalAddress&quot;:&quot;rntbd://sams-oms-ng-dev-cosmos-southcentralus.documents.azure.com:11896/apps/58b6ba92-a159-4be1-b518-83ca99c9c670/services/29e60d08-2d3e-487f-90e6-a510a16200d4/partitions/dd5514ba-1241-4019-8ffa-0ed2bb66af23/replicas/133124625103992799p/&quot;,&quot;lsn&quot;:1023494,&quot;globalCommittedLsn&quot;:1023494,&quot;partitionKeyRangeId&quot;:&quot;0&quot;,&quot;isValid&quot;:true,&quot;statusCode&quot;:400,&quot;subStatusCode&quot;:412,&quot;isGone&quot;:false,&quot;isNotFound&quot;:false,&quot;isInvalidPartition&quot;:false,&quot;isThroughputControlRequestRateTooLarge&quot;:false,&quot;requestCharge&quot;:4.41,&quot;itemLSN&quot;:-1,&quot;sessionToken&quot;:&quot;0:-1#1023494&quot;,&quot;backendLatencyInMs&quot;:2.928,&quot;exceptionMessage&quot;:&quot;[\\&quot;Encountered exception while executing function. Exception = Error: {\\\\\\&quot;Errors\\\\\\&quot;:[\\\\\\&quot;One of the specified pre-condition is not met. Learn more: https:\\\\\\\\/\\\\\\\\/aka.ms\\\\\\\\/CosmosDB\\\\\\\\/sql\\\\\\\\/errors\\\\\\\\/precondition-failed\\\\\\&quot;]}\\\\r\\\\nStack trace: Error: {\\\\\\&quot;Errors\\\\\\&quot;:[\\\\\\&quot;One of the specified pre-condition is not met. Learn more: https:\\\\\\\\/\\\\\\\\/aka.ms\\\\\\\\/CosmosDB\\\\\\\\/sql\\\\\\\\/errors\\\\\\\\/precondition-failed\\\\\\&quot;]}\\\\n   at callback (script.js:31:18)\\\\n   at Anonymous function (script.js:760:29)\\&quot;]&quot;,&quot;exceptionResponseHeaders&quot;:&quot;{lsn=1023494, x-ms-activity-id=7266323a-a6cd-11ed-a64a-7b8132ab7b07, x-ms-cosmos-llsn=1023494, x-ms-cosmos-quorum-acked-llsn=1023494, x-ms-current-replica-set-size=4, x-ms-current-write-quorum=3, x-ms-documentdb-partitionkeyrangeid=0, x-ms-global-Committed-lsn=1023494, x-ms-last-state-change-utc=Wed, 01 Feb 2023 12:29:23.772 GMT, x-ms-number-of-read-regions=0, x-ms-quorum-acked-lsn=1023494, x-ms-request-charge=4.41, x-ms-request-duration-ms=2.928, x-ms-schemaversion=1.15, x-ms-serviceversion= version=2.14.0.0, x-ms-session-token=0:-1#1023494, x-ms-substatus=412, x-ms-transport-request-id=5, x-ms-xp-role=1}&quot;,&quot;transportRequestTimeline&quot;:[{&quot;eventName&quot;:&quot;created&quot;,&quot;startTimeUTC&quot;:&quot;2023-02-07T09:54:46.340744600Z&quot;,&quot;durationInMilliSecs&quot;:1.0019},{&quot;eventName&quot;:&quot;queued&quot;,&quot;startTimeUTC&quot;:&quot;2023-02-07T09:54:46.341746500Z&quot;,&quot;durationInMilliSecs&quot;:0.0},{&quot;eventName&quot;:&quot;channelAcquisitionStarted&quot;,&quot;startTimeUTC&quot;:&quot;2023-02-07T09:54:46.341746500Z&quot;,&quot;durationInMilliSecs&quot;:1236.0792},{&quot;eventName&quot;:&quot;pipelined&quot;,&quot;startTimeUTC&quot;:&quot;2023-02-07T09:54:47.577825700Z&quot;,&quot;durationInMilliSecs&quot;:1.9926},{&quot;eventName&quot;:&quot;transitTime&quot;,&quot;startTimeUTC&quot;:&quot;2023-02-07T09:54:47.579818300Z&quot;,&quot;durationInMilliSecs&quot;:298.2854},{&quot;eventName&quot;:&quot;decodeTime&quot;,&quot;startTimeUTC&quot;:&quot;2023-02-07T09:54:47.878103700Z&quot;,&quot;durationInMilliSecs&quot;:0.9986},{&quot;eventName&quot;:&quot;received&quot;,&quot;startTimeUTC&quot;:&quot;2023-02-07T09:54:47.879102300Z&quot;,&quot;durationInMilliSecs&quot;:13.1504},{&quot;eventName&quot;:&quot;completed&quot;,&quot;startTimeUTC&quot;:&quot;2023-02-07T09:54:47.892252700Z&quot;,&quot;durationInMilliSecs&quot;:0.9983}],&quot;rntbdRequestLengthInBytes&quot;:1952,&quot;rntbdResponseLengthInBytes&quot;:702,&quot;requestPayloadLengthInBytes&quot;:1507,&quot;responsePayloadLengthInBytes&quot;:702,&quot;channelTaskQueueSize&quot;:0,&quot;pendingRequestsCount&quot;:0,&quot;serviceEndpointStatistics&quot;:{&quot;availableChannels&quot;:0,&quot;acquiredChannels&quot;:0,&quot;executorTaskQueueSize&quot;:0,&quot;inflightRequests&quot;:1,&quot;lastSuccessfulRequestTime&quot;:&quot;2023-02-07T09:54:46.340Z&quot;,&quot;lastRequestTime&quot;:&quot;2023-02-07T09:54:46.340Z&quot;,&quot;createdTime&quot;:&quot;2023-02-07T09:54:46.340744600Z&quot;,&quot;isClosed&quot;:false,&quot;cerMetrics&quot;:{}}},&quot;requestResponseTimeUTC&quot;:&quot;2023-02-07T09:54:47.894249900Z&quot;,&quot;requestResourceType&quot;:&quot;StoredProcedure&quot;,&quot;requestOperationType&quot;:&quot;ExecuteJavaScript&quot;}],&quot;supplementalResponseStatisticsList&quot;:[],&quot;addressResolutionStatistics&quot;:{&quot;73d838ce-a6cd-11ed-a64a-7b8132ab7b07&quot;:{&quot;startTimeUTC&quot;:&quot;2023-02-07T09:54:46.041675100Z&quot;,&quot;endTimeUTC&quot;:&quot;2023-02-07T09:54:46.339745400Z&quot;,&quot;targetEndpoint&quot;:&quot;https://sams-oms-ng-dev-cosmos-southcentralus.documents.azure.com:443/addresses/?$resolveFor=dbs%2F%2BcFxAA%3D%3D%2Fcolls%2F%2BcFxAPFrYR8%3D%2Fdocs&amp;$filter=protocol%20eq%20rntbd&amp;$partitionKeyRangeIds=0&quot;,&quot;exceptionMessage&quot;:null,&quot;forceRefresh&quot;:false,&quot;forceCollectionRoutingMapRefresh&quot;:false,&quot;inflightRequest&quot;:false}},&quot;regionsContacted&quot;:[&quot;south central us&quot;],&quot;retryContext&quot;:{&quot;statusAndSubStatusCodes&quot;:null,&quot;retryCount&quot;:0,&quot;retryLatency&quot;:0},&quot;metadataDiagnosticsContext&quot;:{&quot;metadataDiagnosticList&quot;:[{&quot;metaDataName&quot;:&quot;CONTAINER_LOOK_UP&quot;,&quot;startTimeUTC&quot;:&quot;2023-02-07T09:54:43.617056900Z&quot;,&quot;endTimeUTC&quot;:&quot;2023-02-07T09:54:44.818814900Z&quot;,&quot;durationinMS&quot;:1201},{&quot;metaDataName&quot;:&quot;PARTITION_KEY_RANGE_LOOK_UP&quot;,&quot;startTimeUTC&quot;:&quot;2023-02-07T09:54:44.823801800Z&quot;,&quot;endTimeUTC&quot;:&quot;2023-02-07T09:54:46.040677Z&quot;,&quot;durationinMS&quot;:1216},{&quot;metaDataName&quot;:&quot;SERVER_ADDRESS_LOOKUP&quot;,&quot;startTimeUTC&quot;:&quot;2023-02-07T09:54:46.041675100Z&quot;,&quot;endTimeUTC&quot;:&quot;2023-02-07T09:54:46.339745400Z&quot;,&quot;durationinMS&quot;:298}]},&quot;serializationDiagnosticsContext&quot;:{&quot;serializationDiagnosticsList&quot;:null},&quot;gatewayStatistics&quot;:null,&quot;systemInformation&quot;:{&quot;usedMemory&quot;:&quot;223562 KB&quot;,&quot;availableMemory&quot;:&quot;3907254 KB&quot;,&quot;systemCpuLoad&quot;:&quot;(2023-02-07T09:55:16.216507600Z 18.1%), (2023-02-07T09:55:16.216507600Z 18.1%), (2023-02-07T09:55:16.216507600Z 18.1%), (2023-02-07T09:55:16.216507600Z 18.1%), (2023-02-07T09:55:27.007330100Z 22.8%), (2023-02-07T09:55:27.008327900Z 22.8%)&quot;,&quot;availableProcessors&quot;:12},&quot;clientCfgs&quot;:{&quot;id&quot;:4,&quot;machineId&quot;:&quot;uuid:5ba96182-8126-4455-9ee5-c04902437c77&quot;,&quot;connectionMode&quot;:&quot;DIRECT&quot;,&quot;numberOfClients&quot;:5,&quot;connCfg&quot;:{&quot;rntbd&quot;:&quot;(cto:PT5S, nrto:PT5S, icto:PT0S, ieto:PT1H, mcpe:130, mrpc:30, cer:true)&quot;,&quot;gw&quot;:&quot;(cps:1000, nrto:PT1M, icto:PT1M, p:false)&quot;,&quot;other&quot;:&quot;(ed: true, cs: false)&quot;},&quot;consistencyCfg&quot;:&quot;(consistency: null, mm: true, prgns: [])&quot;}}}\nat com.azure.cosmos.implementation.directconnectivity.rntbd.RntbdRequestManager.messageReceived(RntbdRequestManager.java:852)\nat com.azure.cosmos.implementation.directconnectivity.rntbd.RntbdRequestManager.channelRead(RntbdRequestManager.java:194)\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\nat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\nat io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:327)\nat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:299)\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\nat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\nat io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)\nat io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:253)\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\nat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\nat io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\nat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\nat io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1373)\nat io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1236)\nat io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1285)\nat io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:510)\nat io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:449)\nat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:279)\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\nat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\nat io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\nat io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\nat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)\nat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)\nat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)\nat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)\nat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)\nat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\nat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\nat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\nat java.base/java.lang.Thread.run(Thread.java:834)\n</code></pre>\n"},{"tags":["java","space-complexity"],"answers":[{"tags":[],"owner":{"account_id":25296580,"reputation":2100,"user_id":19121623,"display_name":"Eskandar Abedini"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652679932,"creation_date":1652679932,"answer_id":72254604,"question_id":72254538,"body_markdown":"The space complexity remains linear or O(n)","title":"Space Complexity for linked list","body":"<p>The space complexity remains linear or O(n)</p>\n"},{"comments":[{"owner":{"account_id":18828937,"reputation":1,"user_id":13733192,"display_name":"PING"},"score":0,"creation_date":1652768121,"post_id":72255818,"comment_id":127678963,"body_markdown":"why not O(1) as the heap size is same for all reference variables? we are just pointing a new variable to it. does that mean if i create 2 other reference variables it will be O(2n).","body":"why not O(1) as the heap size is same for all reference variables? we are just pointing a new variable to it. does that mean if i create 2 other reference variables it will be O(2n)."},{"owner":{"account_id":4247094,"reputation":630,"user_id":3475433,"accept_rate":87,"display_name":"Fourth"},"score":0,"creation_date":1675716483,"post_id":72255818,"comment_id":132985252,"body_markdown":"O(1) seems to make more sense to me since we&#39;re not creating a new LinkedList buffer","body":"O(1) seems to make more sense to me since we&#39;re not creating a new LinkedList buffer"}],"tags":[],"owner":{"account_id":9497602,"reputation":93,"user_id":7060014,"display_name":"Rohit Dhiman"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652687618,"creation_date":1652687618,"answer_id":72255818,"question_id":72254538,"body_markdown":"Yes, it&#39;s O(n). New objects are created in heap space, and the references to these objects are stored in stack memory.","title":"Space Complexity for linked list","body":"<p>Yes, it's O(n). New objects are created in heap space, and the references to these objects are stored in stack memory.</p>\n"},{"tags":[],"owner":{"account_id":4247094,"reputation":630,"user_id":3475433,"accept_rate":87,"display_name":"Fourth"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675722529,"creation_date":1675721771,"answer_id":75367143,"question_id":72254538,"body_markdown":"I believe it should be `O(1)` space complexity. We generally don&#39;t factor in the size of input parameters in space complexity because there&#39;s really nothing you can do to improve or eliminate them. We only care if we&#39;re creating an additional buffer in our algorithm. Consider the same with arrays.\r\n\r\n1. No additional buffer. Space Complexity: O(1)\r\n\r\n```\r\npublic int[] noBufferMethod(int[] data) {\r\n    int[] justReference = data; // Points to input so no extra space\r\n    return justReference;\r\n}\r\n```\r\n2. With additional buffer. Space Complexity: O(n)\r\n```\r\npublic int[] withBufferMethod(int[] data) {\r\n    int[] buffer = new int[data.length]; // Creates additional buffer\r\n    return buffer;\r\n}\r\n```\r\nThe exact same applies to a LinkedList (or any collection).","title":"Space Complexity for linked list","body":"<p>I believe it should be <code>O(1)</code> space complexity. We generally don't factor in the size of input parameters in space complexity because there's really nothing you can do to improve or eliminate them. We only care if we're creating an additional buffer in our algorithm. Consider the same with arrays.</p>\n<ol>\n<li>No additional buffer. Space Complexity: O(1)</li>\n</ol>\n<pre><code>public int[] noBufferMethod(int[] data) {\n    int[] justReference = data; // Points to input so no extra space\n    return justReference;\n}\n</code></pre>\n<ol start=\"2\">\n<li>With additional buffer. Space Complexity: O(n)</li>\n</ol>\n<pre><code>public int[] withBufferMethod(int[] data) {\n    int[] buffer = new int[data.length]; // Creates additional buffer\n    return buffer;\n}\n</code></pre>\n<p>The exact same applies to a LinkedList (or any collection).</p>\n"},{"tags":[],"owner":{"account_id":27725882,"reputation":1,"user_id":21165466,"display_name":"Mr. Curious"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675777995,"creation_date":1675777995,"answer_id":75374321,"question_id":72254538,"body_markdown":"You are asking for additional space Complexity, right ?\r\n\r\nAdditional Space Complexity remains constant in your case, just creating a reference variable and making it point to the head, doesn&#39;t create the whole linked list again, it is simply another variable pointing to head node and it is not creating any extra nodes. Any new node is created using the `new` Keyword in java.\r\n\r\ntotal space complexity remains O(n) as it is space taken by your Linkedlist.","title":"Space Complexity for linked list","body":"<p>You are asking for additional space Complexity, right ?</p>\n<p>Additional Space Complexity remains constant in your case, just creating a reference variable and making it point to the head, doesn't create the whole linked list again, it is simply another variable pointing to head node and it is not creating any extra nodes. Any new node is created using the <code>new</code> Keyword in java.</p>\n<p>total space complexity remains O(n) as it is space taken by your Linkedlist.</p>\n"}],"owner":{"account_id":18828937,"reputation":1,"user_id":13733192,"display_name":"PING"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":774,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1675777995,"creation_date":1652679190,"question_id":72254538,"body_markdown":"My question is that if we create multiple reference variables to an object in java or python, does the space complexity increases or it is same?\r\n\r\nfor example I have a linked list  of input size n which is head\r\nif i create another reference variable duplicate and point it to head like\r\n\r\n    public LinkedList duplicate(LinkedList head)\r\n    {    \r\n    LinkedList duplicate=head;\r\n    return duplicate;\r\n    }\r\n\r\nwhat is the additional space complexity is it O(1) or O(n) in this case?\r\n\r\n","title":"Space Complexity for linked list","body":"<p>My question is that if we create multiple reference variables to an object in java or python, does the space complexity increases or it is same?</p>\n<p>for example I have a linked list  of input size n which is head\nif i create another reference variable duplicate and point it to head like</p>\n<pre><code>public LinkedList duplicate(LinkedList head)\n{    \nLinkedList duplicate=head;\nreturn duplicate;\n}\n</code></pre>\n<p>what is the additional space complexity is it O(1) or O(n) in this case?</p>\n"},{"tags":["java","reflection","arraylist","gson"],"comments":[{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":1,"creation_date":1388156284,"post_id":20773850,"comment_id":31188003,"body_markdown":"That&#39;s an SQLException. It has nothing to do with the code you&#39;ve posted. Show us the JDBC code.","body":"That&#39;s an SQLException. It has nothing to do with the code you&#39;ve posted. Show us the JDBC code."},{"owner":{"account_id":326541,"reputation":2714,"user_id":648357,"accept_rate":45,"display_name":"Amin Sh"},"score":1,"creation_date":1388157421,"post_id":20773850,"comment_id":31188439,"body_markdown":"@SotiriosDelimanolis It&#39;s not! I just want to have that `TypeToken&lt;ArrayList&lt;T&gt;&gt;()` code accept dynamic Arraylist type.\nsomthing like this: `TypeToken&lt;ArrayList&lt;Class.forName(MyClass)&gt;&gt;`","body":"@SotiriosDelimanolis It&#39;s not! I just want to have that <code>TypeToken&lt;ArrayList&lt;T&gt;&gt;()</code> code accept dynamic Arraylist type. somthing like this: <code>TypeToken&lt;ArrayList&lt;Class.forName(MyClass)&gt;&gt;</code>"}],"answers":[{"comments":[{"owner":{"account_id":133259,"reputation":11947,"user_id":334493,"accept_rate":86,"display_name":"Benoit Duffez"},"score":0,"creation_date":1397922920,"post_id":20803111,"comment_id":35437614,"body_markdown":"I think it&#39;s possible, using the technique shown here: http://stackoverflow.com/questions/14139437/java-type-generic-as-argument-for-gson","body":"I think it&#39;s possible, using the technique shown here: <a href=\"http://stackoverflow.com/questions/14139437/java-type-generic-as-argument-for-gson\" title=\"java type generic as argument for gson\">stackoverflow.com/questions/14139437/&hellip;</a>"},{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":2,"creation_date":1397923767,"post_id":20803111,"comment_id":35437877,"body_markdown":"@BenoitDuffez Careful. The answer you linked is doing something different. It&#39;s using an actual `Class` object, so Gson can very well know what type to deserialize to. In the OP&#39;s question, they want to do it without using the `Class` object and only through the type argument, which isn&#39;t available within the method itself.","body":"@BenoitDuffez Careful. The answer you linked is doing something different. It&#39;s using an actual <code>Class</code> object, so Gson can very well know what type to deserialize to. In the OP&#39;s question, they want to do it without using the <code>Class</code> object and only through the type argument, which isn&#39;t available within the method itself."},{"owner":{"account_id":133259,"reputation":11947,"user_id":334493,"accept_rate":86,"display_name":"Benoit Duffez"},"score":0,"creation_date":1397923855,"post_id":20803111,"comment_id":35437916,"body_markdown":"@SotiriosDelimanolis: You&#39;re absolutely right. I thought that putting the class was an acceptable price to get this to work. But indeed, the linked answer does something different from what the OP asked for. Thanks for the clarification.","body":"@SotiriosDelimanolis: You&#39;re absolutely right. I thought that putting the class was an acceptable price to get this to work. But indeed, the linked answer does something different from what the OP asked for. Thanks for the clarification."}],"tags":[],"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"comment_count":3,"down_vote_count":4,"up_vote_count":59,"is_accepted":true,"score":55,"last_activity_date":1639662262,"creation_date":1388157738,"answer_id":20803111,"question_id":20773850,"body_markdown":"The syntax you are proposing is invalid. The following\r\n\r\n    new TypeToken&lt;ArrayList&lt;Class.forName(MyClass)&gt;&gt;\r\n\r\nis invalid because you&#39;re trying to pass a method invocation where a type name is expected.\r\n\r\nThe following\r\n\r\n    new TypeToken&lt;ArrayList&lt;T&gt;&gt;() \r\n\r\nis not possible because of how generics (type erasure) and reflection works. The whole `TypeToken` hack works because `Class#getGenericSuperclass()` does the following\r\n\r\n&gt; Returns the Type representing the direct superclass of the entity\r\n&gt; (class, interface, primitive type or void) represented by this Class. \r\n&gt; \r\n&gt; If the superclass is a parameterized type, the Type object returned\r\n&gt; must accurately reflect the actual type parameters used in the source\r\n&gt; code.\r\n\r\nIn other words, if it sees `ArrayList&lt;T&gt;`, that&#39;s the `ParameterizedType` it will return and you won&#39;t be able to extract the compile time value that the type variable `T` would have had.\r\n\r\n`Type` and `ParameterizedType` are both interfaces. You can provide an instance of your own implementation (define a class that implements either interface and overrides its methods) or use one of the [helpful factory methods that `TypeToken` provides in its latest versions](https://javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/reflect/TypeToken.html). For example,\r\n\r\n    private Type setModelAndGetCorrespondingList2(Class&lt;?&gt; typeArgument) {\r\n        return TypeToken.getParameterized(ArrayList.class, typeArgument).getType();\r\n    }","title":"Gson TypeToken with dynamic ArrayList item type","body":"<p>The syntax you are proposing is invalid. The following</p>\n<pre><code>new TypeToken&lt;ArrayList&lt;Class.forName(MyClass)&gt;&gt;\n</code></pre>\n<p>is invalid because you're trying to pass a method invocation where a type name is expected.</p>\n<p>The following</p>\n<pre><code>new TypeToken&lt;ArrayList&lt;T&gt;&gt;() \n</code></pre>\n<p>is not possible because of how generics (type erasure) and reflection works. The whole <code>TypeToken</code> hack works because <code>Class#getGenericSuperclass()</code> does the following</p>\n<blockquote>\n<p>Returns the Type representing the direct superclass of the entity\n(class, interface, primitive type or void) represented by this Class.</p>\n<p>If the superclass is a parameterized type, the Type object returned\nmust accurately reflect the actual type parameters used in the source\ncode.</p>\n</blockquote>\n<p>In other words, if it sees <code>ArrayList&lt;T&gt;</code>, that's the <code>ParameterizedType</code> it will return and you won't be able to extract the compile time value that the type variable <code>T</code> would have had.</p>\n<p><code>Type</code> and <code>ParameterizedType</code> are both interfaces. You can provide an instance of your own implementation (define a class that implements either interface and overrides its methods) or use one of the <a href=\"https://javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/reflect/TypeToken.html\" rel=\"nofollow noreferrer\">helpful factory methods that <code>TypeToken</code> provides in its latest versions</a>. For example,</p>\n<pre><code>private Type setModelAndGetCorrespondingList2(Class&lt;?&gt; typeArgument) {\n    return TypeToken.getParameterized(ArrayList.class, typeArgument).getType();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":201035,"reputation":782,"user_id":447233,"accept_rate":86,"display_name":"ʕ ᵔᴥᵔ ʔ"},"score":0,"creation_date":1509516591,"post_id":25143836,"comment_id":81045297,"body_markdown":"Your code with &#39; public &lt;T&gt;&#39; in the method works using Java generic methods, documented here: https://docs.oracle.com/javase/tutorial/extra/generics/methods.html","body":"Your code with &#39; public &lt;T&gt;&#39; in the method works using Java generic methods, documented here: <a href=\"https://docs.oracle.com/javase/tutorial/extra/generics/methods.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/extra/generics/methods.html</a>"}],"tags":[],"owner":{"account_id":4847761,"reputation":369,"user_id":3910950,"accept_rate":100,"display_name":"Rodrigo Tavares"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1407255966,"creation_date":1407255966,"answer_id":25143836,"question_id":20773850,"body_markdown":"This worked for me:\r\n\r\n    public &lt;T&gt; List&lt;T&gt; listEntity(Class&lt;T&gt; clazz)\r\n            throws WsIntegracaoException {\r\n        try {\r\n            // Consuming remote method\r\n            String strJson = getService().listEntity(clazz.getName());\r\n\r\n            JsonParser parser = new JsonParser();\r\n            JsonArray array = parser.parse(strJson).getAsJsonArray();\r\n            \r\n            List&lt;T&gt; lst =  new ArrayList&lt;T&gt;();\r\n            for(final JsonElement json: array){\r\n                T entity = GSON.fromJson(json, clazz);\r\n                lst.add(entity);\r\n            }\r\n\r\n            return lst;\r\n\r\n        } catch (Exception e) {\r\n            throw new WsIntegracaoException(\r\n                    &quot;WS method error [listEntity()]&quot;, e);\r\n        }\r\n    }","title":"Gson TypeToken with dynamic ArrayList item type","body":"<p>This worked for me:</p>\n\n<pre><code>public &lt;T&gt; List&lt;T&gt; listEntity(Class&lt;T&gt; clazz)\n        throws WsIntegracaoException {\n    try {\n        // Consuming remote method\n        String strJson = getService().listEntity(clazz.getName());\n\n        JsonParser parser = new JsonParser();\n        JsonArray array = parser.parse(strJson).getAsJsonArray();\n\n        List&lt;T&gt; lst =  new ArrayList&lt;T&gt;();\n        for(final JsonElement json: array){\n            T entity = GSON.fromJson(json, clazz);\n            lst.add(entity);\n        }\n\n        return lst;\n\n    } catch (Exception e) {\n        throw new WsIntegracaoException(\n                \"WS method error [listEntity()]\", e);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4868706,"reputation":321,"user_id":3925995,"display_name":"MateSzvoboda"},"comment_count":0,"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1407624358,"creation_date":1407624358,"answer_id":25223817,"question_id":20773850,"body_markdown":"**Option 1** - implement `java.lang.reflect.ParameterizedType` yourself and pass it to Gson.\r\n\r\n    private static class ListParameterizedType implements ParameterizedType {\r\n\r\n        private Type type;\r\n\r\n        private ListParameterizedType(Type type) {\r\n            this.type = type;\r\n        }\r\n\r\n        @Override\r\n        public Type[] getActualTypeArguments() {\r\n            return new Type[] {type};\r\n        }\r\n\r\n        @Override\r\n        public Type getRawType() {\r\n            return ArrayList.class;\r\n        }\r\n\r\n        @Override\r\n        public Type getOwnerType() {\r\n            return null;\r\n        }\r\n\r\n        // implement equals method too! (as per javadoc)\r\n    }\r\n\r\nThen simply:\r\n\r\n    Type type = new ListParameterizedType(clazz);\r\n    List&lt;T&gt; list = gson.fromJson(json, type);\r\n\r\nNote that as per [javadoc][1], equals method should also be implemented.\r\n\r\n**Option 2** - (don&#39;t do this) reuse gson internal...\r\n\r\nThis will work too, at least with Gson 2.2.4.\r\n\r\n    Type type = com.google.gson.internal.$Gson$Types.newParameterizedTypeWithOwner(null, ArrayList.class, clazz);\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/reflect/ParameterizedType.html","title":"Gson TypeToken with dynamic ArrayList item type","body":"<p><strong>Option 1</strong> - implement <code>java.lang.reflect.ParameterizedType</code> yourself and pass it to Gson.</p>\n\n<pre><code>private static class ListParameterizedType implements ParameterizedType {\n\n    private Type type;\n\n    private ListParameterizedType(Type type) {\n        this.type = type;\n    }\n\n    @Override\n    public Type[] getActualTypeArguments() {\n        return new Type[] {type};\n    }\n\n    @Override\n    public Type getRawType() {\n        return ArrayList.class;\n    }\n\n    @Override\n    public Type getOwnerType() {\n        return null;\n    }\n\n    // implement equals method too! (as per javadoc)\n}\n</code></pre>\n\n<p>Then simply:</p>\n\n<pre><code>Type type = new ListParameterizedType(clazz);\nList&lt;T&gt; list = gson.fromJson(json, type);\n</code></pre>\n\n<p>Note that as per <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/reflect/ParameterizedType.html\" rel=\"noreferrer\">javadoc</a>, equals method should also be implemented.</p>\n\n<p><strong>Option 2</strong> - (don't do this) reuse gson internal...</p>\n\n<p>This will work too, at least with Gson 2.2.4.</p>\n\n<pre><code>Type type = com.google.gson.internal.$Gson$Types.newParameterizedTypeWithOwner(null, ArrayList.class, clazz);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1688556,"reputation":896,"user_id":1551368,"display_name":"dobrivoje"},"score":0,"creation_date":1573804154,"post_id":31218594,"comment_id":104012898,"body_markdown":"try / catch inside loop is very inefficient.","body":"try / catch inside loop is very inefficient."},{"owner":{"account_id":5940826,"reputation":2908,"user_id":4672107,"accept_rate":33,"display_name":"Carson Holzheimer"},"score":0,"creation_date":1582673443,"post_id":31218594,"comment_id":106856962,"body_markdown":"try / catch inside or outside the loop makes no difference to performance.","body":"try / catch inside or outside the loop makes no difference to performance."}],"tags":[],"owner":{"account_id":259304,"reputation":71887,"user_id":542091,"accept_rate":92,"display_name":"Ovidiu Latcu"},"comment_count":2,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1435998225,"creation_date":1435998225,"answer_id":31218594,"question_id":20773850,"body_markdown":"You can actually do it. You just need to parse first your data into an `JsonArray` and then transform each object individually, and add it to a `List` :\r\n\r\n    Class&lt;T&gt; dataType;\r\n\r\n    //...\r\n\r\n    JsonElement root = jsonParser.parse(json);\r\n    List&lt;T&gt; data = new ArrayList&lt;&gt;();\r\n    JsonArray rootArray = root.getAsJsonArray();\r\n    for (JsonElement json : rootArray) {\r\n        try {\r\n            data.add(gson.fromJson(json, dataType));\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n    return data;","title":"Gson TypeToken with dynamic ArrayList item type","body":"<p>You can actually do it. You just need to parse first your data into an <code>JsonArray</code> and then transform each object individually, and add it to a <code>List</code> :</p>\n\n<pre><code>Class&lt;T&gt; dataType;\n\n//...\n\nJsonElement root = jsonParser.parse(json);\nList&lt;T&gt; data = new ArrayList&lt;&gt;();\nJsonArray rootArray = root.getAsJsonArray();\nfor (JsonElement json : rootArray) {\n    try {\n        data.add(gson.fromJson(json, dataType));\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\nreturn data;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1022086,"reputation":14601,"user_id":1032167,"accept_rate":50,"display_name":"varren"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1460620634,"creation_date":1460619602,"answer_id":36616649,"question_id":20773850,"body_markdown":"`sun.reflect.generics.reflectiveObjects.ParameterizedTypeImpl` workes. No need for custom implementation\r\n    \r\n    Type type = ParameterizedTypeImpl.make(List.class, new Type[]{childrenClazz}, null);\r\n    List list = gson.fromJson(json, type);\r\n\r\nCan be used with maps and any other collection:\r\n\r\n    ParameterizedTypeImpl.make(Map.class, new Type[]{String.class, childrenClazz}, null);\r\nHere is nice demo how you can use it in custom deserializer: \r\nhttps://stackoverflow.com/questions/7706772/deserializing-immutablelist-using-gson\r\n","title":"Gson TypeToken with dynamic ArrayList item type","body":"<p><code>sun.reflect.generics.reflectiveObjects.ParameterizedTypeImpl</code> workes. No need for custom implementation</p>\n\n<pre><code>Type type = ParameterizedTypeImpl.make(List.class, new Type[]{childrenClazz}, null);\nList list = gson.fromJson(json, type);\n</code></pre>\n\n<p>Can be used with maps and any other collection:</p>\n\n<pre><code>ParameterizedTypeImpl.make(Map.class, new Type[]{String.class, childrenClazz}, null);\n</code></pre>\n\n<p>Here is nice demo how you can use it in custom deserializer: \n<a href=\"https://stackoverflow.com/questions/7706772/deserializing-immutablelist-using-gson\">Deserializing ImmutableList using Gson</a></p>\n"},{"tags":[],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1490157908,"creation_date":1490157908,"answer_id":42942929,"question_id":20773850,"body_markdown":"You can do this with Guava&#39;s more powerful [`TypeToken`][1]:\r\n\r\n    private static &lt;T&gt; Type setModelAndGetCorrespondingList2(Class&lt;T&gt; type) {\r\n        return new TypeToken&lt;ArrayList&lt;T&gt;&gt;() {}\r\n                .where(new TypeParameter&lt;T&gt;() {}, type)\r\n                .getType();\r\n    }\r\n\r\n  [1]: https://google.github.io/guava/releases/snapshot/api/docs/com/google/common/reflect/TypeToken.html","title":"Gson TypeToken with dynamic ArrayList item type","body":"<p>You can do this with Guava's more powerful <a href=\"https://google.github.io/guava/releases/snapshot/api/docs/com/google/common/reflect/TypeToken.html\" rel=\"noreferrer\"><code>TypeToken</code></a>:</p>\n\n<pre><code>private static &lt;T&gt; Type setModelAndGetCorrespondingList2(Class&lt;T&gt; type) {\n    return new TypeToken&lt;ArrayList&lt;T&gt;&gt;() {}\n            .where(new TypeParameter&lt;T&gt;() {}, type)\n            .getType();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":985725,"reputation":14853,"user_id":1004274,"accept_rate":93,"display_name":"oldergod"},"comment_count":0,"down_vote_count":0,"up_vote_count":90,"is_accepted":false,"score":90,"last_activity_date":1522777382,"creation_date":1496309845,"answer_id":44303909,"question_id":20773850,"body_markdown":"Since Gson 2.8.0, you can use [`TypeToken#getParameterized(Type rawType, Type... typeArguments)`][1] to create the `TypeToken`, then `getType()` should do the trick.\r\n\r\nFor example:\r\n\r\n    TypeToken.getParameterized(ArrayList.class, myClass).getType()\r\n\r\n  [1]: https://github.com/google/gson/blob/master/gson/src/main/java/com/google/gson/reflect/TypeToken.java#L310","title":"Gson TypeToken with dynamic ArrayList item type","body":"<p>Since Gson 2.8.0, you can use <a href=\"https://github.com/google/gson/blob/master/gson/src/main/java/com/google/gson/reflect/TypeToken.java#L310\" rel=\"noreferrer\"><code>TypeToken#getParameterized(Type rawType, Type... typeArguments)</code></a> to create the <code>TypeToken</code>, then <code>getType()</code> should do the trick.</p>\n\n<p>For example:</p>\n\n<pre><code>TypeToken.getParameterized(ArrayList.class, myClass).getType()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3159550,"reputation":682,"user_id":2671102,"accept_rate":63,"display_name":"TheLogicGuy"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1588706938,"creation_date":1588698821,"answer_id":61618963,"question_id":20773850,"body_markdown":"Fully working solution:\r\n\r\n    String json = .... //example: mPrefs.getString(&quot;list&quot;, &quot;&quot;);\r\n    ArrayList&lt;YouClassName&gt; myTypes = fromJSonList(json, YouClassName.class);\r\n                  \r\n    \r\n    public &lt;YouClassName&gt; ArrayList&lt;YouClassName&gt; fromJSonList(String json, Class&lt;YouClassName&gt; type) {\r\n            Gson gson = new Gson();\r\n            return gson.fromJson(json, TypeToken.getParameterized(ArrayList.class, type).getType());\r\n        }","title":"Gson TypeToken with dynamic ArrayList item type","body":"<p>Fully working solution:</p>\n\n<pre><code>String json = .... //example: mPrefs.getString(\"list\", \"\");\nArrayList&lt;YouClassName&gt; myTypes = fromJSonList(json, YouClassName.class);\n\n\npublic &lt;YouClassName&gt; ArrayList&lt;YouClassName&gt; fromJSonList(String json, Class&lt;YouClassName&gt; type) {\n        Gson gson = new Gson();\n        return gson.fromJson(json, TypeToken.getParameterized(ArrayList.class, type).getType());\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5854072,"reputation":331,"user_id":4611919,"display_name":"Ibrahim Muhamad"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1600956580,"creation_date":1600956236,"answer_id":64048178,"question_id":20773850,"body_markdown":"## With kotlin you can use a below functions to converting (from/to)  any (JsonArray/JsonObject) just in one line without need to send a TypeToken  :- \r\n\r\n\r\n\r\n### Convert any class or array to JSON string\r\n\r\n\r\n    inline fun &lt;reified T : Any&gt; T?.json() = this?.let { Gson().toJson(this, T::class.java) }\r\n\r\n&gt; Example to use : \r\n\r\n     val list = listOf(&quot;1&quot;,&quot;2&quot;,&quot;3&quot;)\r\n     val jsonArrayAsString = list.json() \r\n     //output : [&quot;1&quot;,&quot;2&quot;,&quot;3&quot;]\r\n    \r\n     val model= Foo(name = &quot;example&quot;,email = &quot;t@t.com&quot;) \r\n     val jsonObjectAsString = model.json()\r\n    //output : {&quot;name&quot; : &quot;example&quot;, &quot;email&quot; : &quot;t@t.com&quot;}\r\n\r\n\r\n### Convert JSON string to any class or array \r\n\r\n\r\n\r\n    inline fun &lt;reified T : Any&gt; String?.fromJson(): T? = this?.let {\r\n        val type = object : TypeToken&lt;T&gt;() {}.type\r\n        Gson().fromJson(this, type)\r\n    }\r\n\r\n\r\n&gt; Example to use : \r\n\r\n     val jsonArrayAsString = &quot;[\\&quot;1\\&quot;,\\&quot;2\\&quot;,\\&quot;3\\&quot;]&quot;\r\n     val list = jsonArrayAsString.fromJson&lt;List&lt;String&gt;&gt;()\r\n    \r\n     val jsonObjectAsString = &quot;{ &quot;name&quot; : &quot;example&quot;, &quot;email&quot; : &quot;t@t.com&quot;}&quot;\r\n     val model : Foo? = jsonObjectAsString.fromJson() \r\n     //or \r\n     val model = jsonObjectAsString.fromJson&lt;Foo&gt;() \r\n\r\n","title":"Gson TypeToken with dynamic ArrayList item type","body":"<h2>With kotlin you can use a below functions to converting (from/to)  any (JsonArray/JsonObject) just in one line without need to send a TypeToken  :-</h2>\n<h3>Convert any class or array to JSON string</h3>\n<pre><code>inline fun &lt;reified T : Any&gt; T?.json() = this?.let { Gson().toJson(this, T::class.java) }\n</code></pre>\n<blockquote>\n<p>Example to use :</p>\n</blockquote>\n<pre><code> val list = listOf(&quot;1&quot;,&quot;2&quot;,&quot;3&quot;)\n val jsonArrayAsString = list.json() \n //output : [&quot;1&quot;,&quot;2&quot;,&quot;3&quot;]\n\n val model= Foo(name = &quot;example&quot;,email = &quot;t@t.com&quot;) \n val jsonObjectAsString = model.json()\n//output : {&quot;name&quot; : &quot;example&quot;, &quot;email&quot; : &quot;t@t.com&quot;}\n</code></pre>\n<h3>Convert JSON string to any class or array</h3>\n<pre><code>inline fun &lt;reified T : Any&gt; String?.fromJson(): T? = this?.let {\n    val type = object : TypeToken&lt;T&gt;() {}.type\n    Gson().fromJson(this, type)\n}\n</code></pre>\n<blockquote>\n<p>Example to use :</p>\n</blockquote>\n<pre><code> val jsonArrayAsString = &quot;[\\&quot;1\\&quot;,\\&quot;2\\&quot;,\\&quot;3\\&quot;]&quot;\n val list = jsonArrayAsString.fromJson&lt;List&lt;String&gt;&gt;()\n\n val jsonObjectAsString = &quot;{ &quot;name&quot; : &quot;example&quot;, &quot;email&quot; : &quot;t@t.com&quot;}&quot;\n val model : Foo? = jsonObjectAsString.fromJson() \n //or \n val model = jsonObjectAsString.fromJson&lt;Foo&gt;() \n</code></pre>\n"},{"tags":[],"owner":{"account_id":20657138,"reputation":31,"user_id":15165947,"display_name":"user15165947"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1614569711,"creation_date":1614569711,"answer_id":66416302,"question_id":20773850,"body_markdown":"in kotlin you can \r\n\r\n    inline fun &lt;reified T&gt; parseData(row :String): T{\r\n       return Gson().fromJson(row, object: TypeToken&lt;T&gt;(){}.type)\r\n    }","title":"Gson TypeToken with dynamic ArrayList item type","body":"<p>in kotlin you can</p>\n<pre><code>inline fun &lt;reified T&gt; parseData(row :String): T{\n   return Gson().fromJson(row, object: TypeToken&lt;T&gt;(){}.type)\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17344052,"reputation":81,"user_id":12564058,"display_name":"Aslm Monir"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1616796397,"creation_date":1616795896,"answer_id":66824791,"question_id":20773850,"body_markdown":"Well actually i have made extension functions to resolve this , saving a list to SharedPrefrence and retrieve them in anyplace in the app like this : \r\n\r\nuse this to Save a List to SharedPref. For example : \r\n\r\n    fun &lt;T&gt; SaveList(key: String?, list: List&lt;T&gt;?) {\r\n    val gson = Gson()\r\n    val json: String = gson.toJson(list)\r\n    getSharedPrefrences(App.getAppContext() as Application).edit().putString(key, json).apply()}\r\n\r\nreturn the list in any place from sharedPref. like this : \r\n\r\n    fun Context.getList(key: String): String? {\r\n     return getSharedPrefrences(App.getAppContext() as Application).getString(key, null)}\r\n\r\n    inline fun &lt;reified T : Any&gt; String?.fromJson(): T? = this?.let {\r\n    val type = object : TypeToken&lt;T&gt;() {}.type\r\n    Gson().fromJson(this, type)}\r\n\r\n\r\nUsage in Saving and Getting List from Saved one is like : \r\n\r\n    \r\n    saveList(Consts.SLIDERS, it.data)  \r\n\r\n    SetSliderData(this.getList(Consts.SLIDERS).fromJson&lt;MutableList&lt;SliderResponseItem&gt;&gt;()!!)","title":"Gson TypeToken with dynamic ArrayList item type","body":"<p>Well actually i have made extension functions to resolve this , saving a list to SharedPrefrence and retrieve them in anyplace in the app like this :</p>\n<p>use this to Save a List to SharedPref. For example :</p>\n<pre><code>fun &lt;T&gt; SaveList(key: String?, list: List&lt;T&gt;?) {\nval gson = Gson()\nval json: String = gson.toJson(list)\ngetSharedPrefrences(App.getAppContext() as Application).edit().putString(key, json).apply()}\n</code></pre>\n<p>return the list in any place from sharedPref. like this :</p>\n<pre><code>fun Context.getList(key: String): String? {\n return getSharedPrefrences(App.getAppContext() as Application).getString(key, null)}\n\ninline fun &lt;reified T : Any&gt; String?.fromJson(): T? = this?.let {\nval type = object : TypeToken&lt;T&gt;() {}.type\nGson().fromJson(this, type)}\n</code></pre>\n<p>Usage in Saving and Getting List from Saved one is like :</p>\n<pre><code>saveList(Consts.SLIDERS, it.data)  \n\nSetSliderData(this.getList(Consts.SLIDERS).fromJson&lt;MutableList&lt;SliderResponseItem&gt;&gt;()!!)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6555535,"reputation":1356,"user_id":5068349,"display_name":"Bharat Lalwani"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634796800,"creation_date":1634796800,"answer_id":69656729,"question_id":20773850,"body_markdown":"This is straightforward &amp; simple in Kotlin.\r\n\r\n```\r\nval typeDataModelClass = Array&lt;DataModelClass&gt;::class.java\r\n```","title":"Gson TypeToken with dynamic ArrayList item type","body":"<p>This is straightforward &amp; simple in Kotlin.</p>\n<pre><code>val typeDataModelClass = Array&lt;DataModelClass&gt;::class.java\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15363174,"reputation":481,"user_id":11083442,"display_name":"sarjeet singh"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1675777968,"creation_date":1653289272,"answer_id":72344393,"question_id":20773850,"body_markdown":"this code is json string data to convert in arraylist model \r\n   \r\n\r\n    String json = getIntent().getExtras().getString(&quot;submitQuesList&quot;, &quot;&quot;);\r\n    Type typeOfObjectsList = new TypeToken&lt;ArrayList&lt;Datum_ques&gt;&gt;() {}.getType();\r\n    submitQuesList = new Gson().fromJson(json, typeOfObjectsList);","title":"Gson TypeToken with dynamic ArrayList item type","body":"<p>this code is json string data to convert in arraylist model</p>\n<pre><code>String json = getIntent().getExtras().getString(&quot;submitQuesList&quot;, &quot;&quot;);\nType typeOfObjectsList = new TypeToken&lt;ArrayList&lt;Datum_ques&gt;&gt;() {}.getType();\nsubmitQuesList = new Gson().fromJson(json, typeOfObjectsList);\n</code></pre>\n"}],"owner":{"account_id":326541,"reputation":2714,"user_id":648357,"accept_rate":45,"display_name":"Amin Sh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":133450,"favorite_count":0,"down_vote_count":1,"up_vote_count":97,"accepted_answer_id":20803111,"answer_count":13,"score":96,"last_activity_date":1675777968,"creation_date":1387982130,"question_id":20773850,"body_markdown":"I have this code:\r\n\r\n    Type typeOfObjectsList = new TypeToken&lt;ArrayList&lt;myClass&gt;&gt;() {}.getType();\r\n    List&lt;myClass&gt; objectsList = new Gson().fromJson(json, typeOfObjectsList);\r\n\r\nIt converts a JSON string to a `List` of objects.\r\nBut now I want to have this `ArrayList` with a dynamic type (not just `myClass`), defined at runtime.\r\n\r\n**The `ArrayList`&#39;s item type will be defined with _reflection_.**\r\n\r\nI tried this:\r\n\r\n        private &lt;T&gt; Type setModelAndGetCorrespondingList2(Class&lt;T&gt; type) {\r\n    \t\tType typeOfObjectsListNew = new TypeToken&lt;ArrayList&lt;T&gt;&gt;() {}.getType();\r\n    \t\treturn typeOfObjectsListNew;\r\n    \t}\r\n\r\nBut it doesn&#39;t work. This is the exception:\r\n\r\n    java.sql.SQLException: Fail to convert to internal representation: {....my json....}","title":"Gson TypeToken with dynamic ArrayList item type","body":"<p>I have this code:</p>\n\n<pre><code>Type typeOfObjectsList = new TypeToken&lt;ArrayList&lt;myClass&gt;&gt;() {}.getType();\nList&lt;myClass&gt; objectsList = new Gson().fromJson(json, typeOfObjectsList);\n</code></pre>\n\n<p>It converts a JSON string to a <code>List</code> of objects.\nBut now I want to have this <code>ArrayList</code> with a dynamic type (not just <code>myClass</code>), defined at runtime.</p>\n\n<p><strong>The <code>ArrayList</code>'s item type will be defined with <em>reflection</em>.</strong></p>\n\n<p>I tried this:</p>\n\n<pre><code>    private &lt;T&gt; Type setModelAndGetCorrespondingList2(Class&lt;T&gt; type) {\n        Type typeOfObjectsListNew = new TypeToken&lt;ArrayList&lt;T&gt;&gt;() {}.getType();\n        return typeOfObjectsListNew;\n    }\n</code></pre>\n\n<p>But it doesn't work. This is the exception:</p>\n\n<pre><code>java.sql.SQLException: Fail to convert to internal representation: {....my json....}\n</code></pre>\n"},{"tags":["java","spring-integration","google-cloud-pubsub"],"answers":[{"comments":[{"owner":{"account_id":27716616,"reputation":13,"user_id":21158186,"display_name":"learner-newfeatures"},"score":0,"creation_date":1675696482,"post_id":75363060,"comment_id":132979204,"body_markdown":"tx, any implementation example if available if shared it will be very helpful. Why is the above have lot of xml configuration?","body":"tx, any implementation example if available if shared it will be very helpful. Why is the above have lot of xml configuration?"},{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1675696947,"post_id":75363060,"comment_id":132979354,"body_markdown":"The framework was developed originally on the XML DSL. We slowly works on providing Java and other DSL code snippets into docs. See some Java DSL sample here: https://github.com/artembilan/microservices-patterns-spring-integration/tree/main/circuit-breaker","body":"The framework was developed originally on the XML DSL. We slowly works on providing Java and other DSL code snippets into docs. See some Java DSL sample here: <a href=\"https://github.com/artembilan/microservices-patterns-spring-integration/tree/main/circuit-breaker\" rel=\"nofollow noreferrer\">github.com/artembilan/microservices-patterns-spring-integrat&zwnj;&#8203;ion/&hellip;</a>"},{"owner":{"account_id":27716616,"reputation":13,"user_id":21158186,"display_name":"learner-newfeatures"},"score":0,"creation_date":1675697345,"post_id":75363060,"comment_id":132979508,"body_markdown":"Do I need to implement the circuitbreaker? There aren&#39;t multiple microservices involved. Only a call to the external system from the subscriber(which receives message from the queue )","body":"Do I need to implement the circuitbreaker? There aren&#39;t multiple microservices involved. Only a call to the external system from the subscriber(which receives message from the queue )"},{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1675697854,"post_id":75363060,"comment_id":132979692,"body_markdown":"No, you don&#39;t need. You asked for a sample and I showed you the closest one. There is just no way to have samples for every single use-case.","body":"No, you don&#39;t need. You asked for a sample and I showed you the closest one. There is just no way to have samples for every single use-case."},{"owner":{"account_id":27716616,"reputation":13,"user_id":21158186,"display_name":"learner-newfeatures"},"score":0,"creation_date":1675698081,"post_id":75363060,"comment_id":132979780,"body_markdown":"understood. One question here is how can we ensure the data is sent from the subscriber to the external system(after it is working condition from failur) after exception is thrown.","body":"understood. One question here is how can we ensure the data is sent from the subscriber to the external system(after it is working condition from failur) after exception is thrown."},{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1675700414,"post_id":75363060,"comment_id":132980660,"body_markdown":"I&#39;m not sure in your question. First of all you probably talk about a `producer` - the `sendData` is producing, not consuming. If you don&#39;t have an exception on that `sendData`, then your data is probably produced to the external system.","body":"I&#39;m not sure in your question. First of all you probably talk about a <code>producer</code> - the <code>sendData</code> is producing, not consuming. If you don&#39;t have an exception on that <code>sendData</code>, then your data is probably produced to the external system."},{"owner":{"account_id":27716616,"reputation":13,"user_id":21158186,"display_name":"learner-newfeatures"},"score":0,"creation_date":1675700766,"post_id":75363060,"comment_id":132980753,"body_markdown":"let me clear you, sendData() sends data to a external system which is basically a restAPI exchange call. This method is called inside a subscriber code (messagereciever() in this case a pubsub consumer). The payload is already published in the queue which the messageReciever() method has processed and is sending to the external system using the sendData() method.","body":"let me clear you, sendData() sends data to a external system which is basically a restAPI exchange call. This method is called inside a subscriber code (messagereciever() in this case a pubsub consumer). The payload is already published in the queue which the messageReciever() method has processed and is sending to the external system using the sendData() method."},{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1675702121,"post_id":75363060,"comment_id":132981227,"body_markdown":"You probably can just re-throw an exception back to Pub/Sub and let it to nack that message, so it can be retried again by the consumer. Still not clear what you&#39;d like to see when no exceptions...","body":"You probably can just re-throw an exception back to Pub/Sub and let it to nack that message, so it can be retried again by the consumer. Still not clear what you&#39;d like to see when no exceptions..."},{"owner":{"account_id":27716616,"reputation":13,"user_id":21158186,"display_name":"learner-newfeatures"},"score":0,"creation_date":1675702424,"post_id":75363060,"comment_id":132981323,"body_markdown":"I would like to see only in exception scenarios. Not when there are no exceptions. Can you please provide the link where in I can check for how to nack the message","body":"I would like to see only in exception scenarios. Not when there are no exceptions. Can you please provide the link where in I can check for how to nack the message"},{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1675702978,"post_id":75363060,"comment_id":132981521,"body_markdown":"Well, the tutorial you share in your question has the pointer to respective type: `BasicAcknowledgeablePubsubMessage`. However I believe Pub/Sub does a nack automatically when we throw an exception.","body":"Well, the tutorial you share in your question has the pointer to respective type: <code>BasicAcknowledgeablePubsubMessage</code>. However I believe Pub/Sub does a nack automatically when we throw an exception."},{"owner":{"account_id":27716616,"reputation":13,"user_id":21158186,"display_name":"learner-newfeatures"},"score":0,"creation_date":1675754600,"post_id":75363060,"comment_id":132991336,"body_markdown":"I have tried configuring this scenario with the below documentation, What i see that the console logs keep on pritinings without stop. https://cloud.spring.io/spring-cloud-static/spring-cloud-gcp/1.2.3.RELEASE/reference/html/#error-handling","body":"I have tried configuring this scenario with the below documentation, What i see that the console logs keep on pritinings without stop. <a href=\"https://cloud.spring.io/spring-cloud-static/spring-cloud-gcp/1.2.3.RELEASE/reference/html/#error-handling\" rel=\"nofollow noreferrer\">cloud.spring.io/spring-cloud-static/spring-cloud-gcp/&hellip;</a>"},{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1675776806,"post_id":75363060,"comment_id":132998152,"body_markdown":"I don&#39;t know what are &quot;console logs&quot; and what they keep printing. Would you mind to share more info? For example an EDIT in your question would be great","body":"I don&#39;t know what are &quot;console logs&quot; and what they keep printing. Would you mind to share more info? For example an EDIT in your question would be great"},{"owner":{"account_id":27716616,"reputation":13,"user_id":21158186,"display_name":"learner-newfeatures"},"score":0,"creation_date":1675777717,"post_id":75363060,"comment_id":132998469,"body_markdown":"Added the piece of code which was causing repeated loading of logs in the eclipse console. Actually I was using the same input channel for 2 external Rest API calls.  Is there any way through which we can use the same channel for sending various kinds of data through HTTP endpoints(GET,PUT,POST,DELETE) to external systems","body":"Added the piece of code which was causing repeated loading of logs in the eclipse console. Actually I was using the same input channel for 2 external Rest API calls.  Is there any way through which we can use the same channel for sending various kinds of data through HTTP endpoints(GET,PUT,POST,DELETE) to external systems"},{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1675779108,"post_id":75363060,"comment_id":132998987,"body_markdown":"You don&#39;t show what logs. You can use the same channel as log as it is a `PublishSubscribeChannel`.","body":"You don&#39;t show what logs. You can use the same channel as log as it is a <code>PublishSubscribeChannel</code>."},{"owner":{"account_id":27716616,"reputation":13,"user_id":21158186,"display_name":"learner-newfeatures"},"score":0,"creation_date":1675783584,"post_id":75363060,"comment_id":133000684,"body_markdown":"No subscribing to same channel for two different different external endpoints from the serviceexecutors,  is calling both the endpoints. I am trying to call only POST method (sendData()) but another service executor which calls external deleteData() method is also getting called as both of them are subscribed to same channel. Is it i need to create new seperate channels for different calling different http methods?","body":"No subscribing to same channel for two different different external endpoints from the serviceexecutors,  is calling both the endpoints. I am trying to call only POST method (sendData()) but another service executor which calls external deleteData() method is also getting called as both of them are subscribed to same channel. Is it i need to create new seperate channels for different calling different http methods?"},{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1675784628,"post_id":75363060,"comment_id":133001083,"body_markdown":"If your `inputChannel` is a `DirectChannel`, then you are doomed: it works in round-robin manner by default. If you want to send the same message to several subscribers, then `PublishSubscribeChannel` is for you. Please, consider to raise a new SO question since this goes out of original subject already.","body":"If your <code>inputChannel</code> is a <code>DirectChannel</code>, then you are doomed: it works in round-robin manner by default. If you want to send the same message to several subscribers, then <code>PublishSubscribeChannel</code> is for you. Please, consider to raise a new SO question since this goes out of original subject already."},{"owner":{"account_id":27716616,"reputation":13,"user_id":21158186,"display_name":"learner-newfeatures"},"score":0,"creation_date":1675794679,"post_id":75363060,"comment_id":133004234,"body_markdown":"I have created a new SO question https://stackoverflow.com/questions/75377542/spring-integration-how-to-send-messages-from-pubsub-subscribers-to-external-sys","body":"I have created a new SO question <a href=\"https://stackoverflow.com/questions/75377542/spring-integration-how-to-send-messages-from-pubsub-subscribers-to-external-sys\" title=\"spring integration how to send messages from pubsub subscribers to external sys\">stackoverflow.com/questions/75377542/&hellip;</a>"}],"tags":[],"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"comment_count":17,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675696042,"creation_date":1675696042,"answer_id":75363060,"question_id":75362634,"body_markdown":"Sounds like you need some retry and backoff logic around your exceptions.\r\n\r\nSee more info in docs: https://docs.spring.io/spring-integration/reference/html/messaging-endpoints.html#message-handler-advice-chain.\r\n\r\nThe `@ServiceActivator` has that `adviceChain` attribute for your consideration.","title":"Spring Integration Error/Exception handling","body":"<p>Sounds like you need some retry and backoff logic around your exceptions.</p>\n<p>See more info in docs: <a href=\"https://docs.spring.io/spring-integration/reference/html/messaging-endpoints.html#message-handler-advice-chain\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-integration/reference/html/messaging-endpoints.html#message-handler-advice-chain</a>.</p>\n<p>The <code>@ServiceActivator</code> has that <code>adviceChain</code> attribute for your consideration.</p>\n"}],"owner":{"account_id":27716616,"reputation":13,"user_id":21158186,"display_name":"learner-newfeatures"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":540,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75363060,"answer_count":1,"score":0,"last_activity_date":1675777908,"creation_date":1675693760,"question_id":75362634,"body_markdown":"I have started working with Spring Integration to send messages to external System using Spring Integration Google Pub/sub model.\r\n\r\nI am sending the payload received by the Service activator as below  \r\n\r\n    @ServiceActivator(inputChannel = &quot;inputChannel&quot;)\r\n                  public void messageReceiver(final String payloadMessage) throws IOException {\r\n\t\tadapter.sendData(payloadMessage);  // send payloadMessage data to external system, add exception handlers\r\n    }\r\n   \r\n\r\n\r\n\r\n\r\n\r\nWhat I want is to implement Exception Handling to the adapter.sendData(payloadMessage) such that I would like to consider varies scenarios like \r\n1. External System down\r\n2. Network issues connecting to network from my system to external system.\r\n\r\nI have been following the below Google cloud documentation and other online documentation but have\r\nnot found sufficient usecase to handle the above scenarios\r\nhttps://cloud.google.com/pubsub/docs/spring#using-spring-integration-channel-adapters\r\n\r\n\r\n\r\nConsidering the above scenarios I would like to implement exception handling such a way that data is not lost when there are exceptions and external systems should receive data even if there are exceptions after some period of time.\r\n\r\n\r\nI have configured the below error channel. Now there is any error in the sendData() method, I see the same failure messages keeping on loading in the eclipse console. Is there any need to add the param `spring.cloud.gcp.pubsub.subscriber.max-ack-extension-period` in the yaml\r\n\r\n     @Bean\r\n    public PubSubInboundChannelAdapter messageChannelAdapter(final @Qualifier(&quot;myInputChannel&quot;) MessageChannel inputChannel,\r\n    \t\tPubSubTemplate pubSubTemplate) \r\n    {\r\n        PubSubInboundChannelAdapter adapter = new PubSubInboundChannelAdapter(pubSubTemplate, pubSubSubscriptionName);\r\n        adapter.setOutputChannel(inputChannel);\r\n        adapter.setAckMode(AckMode.AUTO_ACK);\r\n        adapter.setErrorChannelName(&quot;pubsubErrors&quot;);\r\n        return adapter;\r\n    }\r\n\r\n    @ServiceActivator(inputChannel = &quot;pubsubErrors&quot;)\r\n\tpublic void pubsubErrorHandler(Message&lt;MessagingException&gt; exceptionMessage) {\r\n\r\n\t\tBasicAcknowledgeablePubsubMessage originalMessage = (BasicAcknowledgeablePubsubMessage) exceptionMessage\r\n\t\t\t\t.getPayload().getFailedMessage().getHeaders().get(GcpPubSubHeaders.ORIGINAL_MESSAGE);\r\n\r\n\t\toriginalMessage.nack();\r\n\t}\r\n\r\n ","title":"Spring Integration Error/Exception handling","body":"<p>I have started working with Spring Integration to send messages to external System using Spring Integration Google Pub/sub model.</p>\n<p>I am sending the payload received by the Service activator as below</p>\n<pre><code>@ServiceActivator(inputChannel = &quot;inputChannel&quot;)\n              public void messageReceiver(final String payloadMessage) throws IOException {\n    adapter.sendData(payloadMessage);  // send payloadMessage data to external system, add exception handlers\n}\n</code></pre>\n<p>What I want is to implement Exception Handling to the adapter.sendData(payloadMessage) such that I would like to consider varies scenarios like</p>\n<ol>\n<li>External System down</li>\n<li>Network issues connecting to network from my system to external system.</li>\n</ol>\n<p>I have been following the below Google cloud documentation and other online documentation but have\nnot found sufficient usecase to handle the above scenarios\n<a href=\"https://cloud.google.com/pubsub/docs/spring#using-spring-integration-channel-adapters\" rel=\"nofollow noreferrer\">https://cloud.google.com/pubsub/docs/spring#using-spring-integration-channel-adapters</a></p>\n<p>Considering the above scenarios I would like to implement exception handling such a way that data is not lost when there are exceptions and external systems should receive data even if there are exceptions after some period of time.</p>\n<p>I have configured the below error channel. Now there is any error in the sendData() method, I see the same failure messages keeping on loading in the eclipse console. Is there any need to add the param <code>spring.cloud.gcp.pubsub.subscriber.max-ack-extension-period</code> in the yaml</p>\n<pre><code> @Bean\npublic PubSubInboundChannelAdapter messageChannelAdapter(final @Qualifier(&quot;myInputChannel&quot;) MessageChannel inputChannel,\n        PubSubTemplate pubSubTemplate) \n{\n    PubSubInboundChannelAdapter adapter = new PubSubInboundChannelAdapter(pubSubTemplate, pubSubSubscriptionName);\n    adapter.setOutputChannel(inputChannel);\n    adapter.setAckMode(AckMode.AUTO_ACK);\n    adapter.setErrorChannelName(&quot;pubsubErrors&quot;);\n    return adapter;\n}\n\n@ServiceActivator(inputChannel = &quot;pubsubErrors&quot;)\npublic void pubsubErrorHandler(Message&lt;MessagingException&gt; exceptionMessage) {\n\n    BasicAcknowledgeablePubsubMessage originalMessage = (BasicAcknowledgeablePubsubMessage) exceptionMessage\n            .getPayload().getFailedMessage().getHeaders().get(GcpPubSubHeaders.ORIGINAL_MESSAGE);\n\n    originalMessage.nack();\n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-hateoas"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1675800604,"post_id":75374204,"comment_id":133005847,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":25878872,"reputation":1,"user_id":19608343,"display_name":"Varad raikar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675777487,"creation_date":1675777356,"question_id":75374204,"body_markdown":"For ex:\r\nIf my request url is : `baseurl/books?name=xyz&amp;page=0&amp;size=20`\r\n\r\n    Hateoas link looks like below:\r\n    &quot;self&quot;: {href: &quot;baseurl/books?page=0&amp;size=20&quot;}\r\n\r\n\r\nWhy doesn&#39;t `name=xyz` appear in the link?\r\n\r\n    Expecting\r\n    &quot;self&quot;: {href: &quot;baseurl/books?name=xyz&amp;page=0&amp;size=20&quot;}\r\n\r\n","title":"Hateoas links are generated without queryString","body":"<p>For ex:\nIf my request url is : <code>baseurl/books?name=xyz&amp;page=0&amp;size=20</code></p>\n<pre><code>Hateoas link looks like below:\n&quot;self&quot;: {href: &quot;baseurl/books?page=0&amp;size=20&quot;}\n</code></pre>\n<p>Why doesn't <code>name=xyz</code> appear in the link?</p>\n<pre><code>Expecting\n&quot;self&quot;: {href: &quot;baseurl/books?name=xyz&amp;page=0&amp;size=20&quot;}\n</code></pre>\n"},{"tags":["java","recursion"],"comments":[{"owner":{"account_id":255665,"reputation":232836,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"score":0,"creation_date":1348420817,"post_id":12554430,"comment_id":16908886,"body_markdown":"Does this compile? You are trying to compare a `char` (`c`) to a `String` (`&quot;.&quot;`) using `!=`. They aren&#39;t comparable.","body":"Does this compile? You are trying to compare a <code>char</code> (<code>c</code>) to a <code>String</code> (<code>&quot;.&quot;</code>) using <code>!=</code>. They aren&#39;t comparable."},{"owner":{"account_id":1828965,"reputation":59,"user_id":1660948,"accept_rate":40,"display_name":"user1660948"},"score":0,"creation_date":1348421088,"post_id":12554430,"comment_id":16908961,"body_markdown":"i edited the &quot;.&quot;  it was a mistake. my code actually has &#39;.&#39;","body":"i edited the &quot;.&quot;  it was a mistake. my code actually has &#39;.&#39;"}],"answers":[{"comments":[{"owner":{"account_id":428023,"reputation":15099,"user_id":810077,"accept_rate":83,"display_name":"Chetan Kinger"},"score":1,"creation_date":1348420806,"post_id":12554445,"comment_id":16908882,"body_markdown":"+1 Beat me to it. There are very few questions I can answer. This was one of them :(","body":"+1 Beat me to it. There are very few questions I can answer. This was one of them :("}],"tags":[],"owner":{"account_id":1331302,"reputation":118777,"user_id":1275169,"accept_rate":71,"display_name":"P.P"},"comment_count":1,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1348420668,"creation_date":1348420668,"answer_id":12554445,"question_id":12554430,"body_markdown":"Put the print inside the braces:\r\n\r\n    if (c!=&#39;.&#39;) {\r\n       foo();\r\n       System.out.print(c);\r\n    }","title":"How do I remove the dot when reverting a string using recursion?","body":"<p>Put the print inside the braces:</p>\n\n<pre><code>if (c!='.') {\n   foo();\n   System.out.print(c);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":47523,"reputation":89783,"user_id":140816,"accept_rate":90,"display_name":"Jo&#227;o Silva"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1348420740,"creation_date":1348420740,"answer_id":12554449,"question_id":12554430,"body_markdown":"Use `&#39;.&#39;` instead of `&quot;.&quot;` since you are comparing a `char`, not a `String`:\r\n\r\n    public void foo(){\r\n      Scanner scan = new Scanner(system.in);\r\n      char c = scan.nextChar();\r\n      if (c != &#39;.&#39;) {\r\n        foo();\r\n        System.out.print(c);\r\n      }\r\n    }\r\n\r\nAlso note that if it were a `String`, you&#39;d need to use `equals` to do the comparison. `==` or `!=` is used to compare primitive types, such as `char`.","title":"How do I remove the dot when reverting a string using recursion?","body":"<p>Use <code>'.'</code> instead of <code>\".\"</code> since you are comparing a <code>char</code>, not a <code>String</code>:</p>\n\n<pre><code>public void foo(){\n  Scanner scan = new Scanner(system.in);\n  char c = scan.nextChar();\n  if (c != '.') {\n    foo();\n    System.out.print(c);\n  }\n}\n</code></pre>\n\n<p>Also note that if it were a <code>String</code>, you'd need to use <code>equals</code> to do the comparison. <code>==</code> or <code>!=</code> is used to compare primitive types, such as <code>char</code>.</p>\n"},{"tags":[],"owner":{"account_id":1355206,"reputation":33312,"user_id":1293744,"accept_rate":44,"display_name":"Kumar Vivek Mitra"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1348420862,"creation_date":1348420862,"answer_id":12554465,"question_id":12554430,"body_markdown":"As its a `char` , it has to be `single quotes`, `eg : &#39;A&#39;`\r\n\r\n    if (c!=&#39;.&#39;)\r\n      foo();\r\n    System.out.print(c);\r\n    }\r\n\r\n","title":"How do I remove the dot when reverting a string using recursion?","body":"<p>As its a <code>char</code> , it has to be <code>single quotes</code>, <code>eg : 'A'</code></p>\n\n<pre><code>if (c!='.')\n  foo();\nSystem.out.print(c);\n}\n</code></pre>\n"}],"owner":{"account_id":1828965,"reputation":59,"user_id":1660948,"accept_rate":40,"display_name":"user1660948"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":971,"favorite_count":0,"down_vote_count":2,"up_vote_count":6,"accepted_answer_id":12554449,"answer_count":3,"score":4,"last_activity_date":1675777481,"creation_date":1348420580,"question_id":12554430,"body_markdown":"I need to reverse `Hello.` using recursion so that the end result does not have a `.`   \r\n\r\nMy current method is:\r\n\r\n    public void foo(){\r\n        Scanner scan = new Scanner(system.in);\r\n        char c = scan.nextChar();\r\n        if (c!=&#39;.&#39;)\r\n            foo();\r\n        System.out.print(c);\r\n    }\r\n\r\n\r\nThis seems to output the reverse, however it still has the `.`. Can someone point me in the right direction to get rid of the period?","title":"How do I remove the dot when reverting a string using recursion?","body":"<p>I need to reverse <code>Hello.</code> using recursion so that the end result does not have a <code>.</code></p>\n<p>My current method is:</p>\n<pre><code>public void foo(){\n    Scanner scan = new Scanner(system.in);\n    char c = scan.nextChar();\n    if (c!='.')\n        foo();\n    System.out.print(c);\n}\n</code></pre>\n<p>This seems to output the reverse, however it still has the <code>.</code>. Can someone point me in the right direction to get rid of the period?</p>\n"},{"tags":["java","generics","reflection","instanceof","typeof"],"comments":[{"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"score":0,"creation_date":1490260197,"post_id":42971267,"comment_id":73035429,"body_markdown":"`new ArrayList&lt;User&gt;().getClass()` always returns *erased* type `Class&lt;? extends ArrayList&lt;?&gt;&gt;`, so it&#39;s only possible to obtain `Class&lt;? extends Collection&lt;V&gt;&gt;` by &quot;unsafe&quot; casting. And you shouldn&#39;t actually even need to do that, because `Class&lt;? extends Collection&lt;?&gt;&gt;` is perfectly fine for your needs: who ACTUALLY cares if that collection type is `&lt;V&gt;` if you create and fill new collection anyway?","body":"<code>new ArrayList&lt;User&gt;().getClass()</code> always returns <i>erased</i> type <code>Class&lt;? extends ArrayList&lt;?&gt;&gt;</code>, so it&#39;s only possible to obtain <code>Class&lt;? extends Collection&lt;V&gt;&gt;</code> by &quot;unsafe&quot; casting. And you shouldn&#39;t actually even need to do that, because <code>Class&lt;? extends Collection&lt;?&gt;&gt;</code> is perfectly fine for your needs: who ACTUALLY cares if that collection type is <code>&lt;V&gt;</code> if you create and fill new collection anyway?"}],"answers":[{"tags":[],"owner":{"account_id":9400890,"reputation":11535,"user_id":7637120,"accept_rate":83,"display_name":"Roman Puchkovskiy"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1490260161,"creation_date":1490260161,"answer_id":42971526,"question_id":42971267,"body_markdown":"Check `Class#isAssignableFrom()` which allows to determine whether one class is a subtype of another one. Example:\r\n\r\n    System.out.println(String.class.isAssignableFrom(Object.class));\r\n    System.out.println(Object.class.isAssignableFrom(String.class));\r\n\r\nIt outputs\r\n\r\n    false\r\n    true","title":"Checking if a Class&lt;?&gt; is instance of other by reflection","body":"<p>Check <code>Class#isAssignableFrom()</code> which allows to determine whether one class is a subtype of another one. Example:</p>\n\n<pre><code>System.out.println(String.class.isAssignableFrom(Object.class));\nSystem.out.println(Object.class.isAssignableFrom(String.class));\n</code></pre>\n\n<p>It outputs</p>\n\n<pre><code>false\ntrue\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10455291,"reputation":1835,"user_id":7707631,"display_name":"Stefan Warminski"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1490260657,"creation_date":1490260219,"answer_id":42971554,"question_id":42971267,"body_markdown":"To check if a class is a subclass of another you have to use `isAssignableFrom`:\r\n\r\n    if (Number.class.isAssignableFrom(field.getType()) { // ...\r\n\r\nFor your 2nd question you need a 2nd generic:\r\n\r\n    public static &lt;V, C extends Collection&lt;?&gt;&gt; Collection&lt;V&gt; createMassiveCollection(Class&lt;V&gt; clazz, int amount, Class&lt;C&gt; collectionType)\r\n\r\nYou can define this generic also as `C extends Collection&lt;V&gt;` but this creates a compiler warning and does not prevent an invokation like `createMassiveCollection(String.class, 10, new ArrayList&lt;Number&gt;().getClass())`.\r\n\r\nBy the way, my last parameter would by `ArrayList.class`.","title":"Checking if a Class&lt;?&gt; is instance of other by reflection","body":"<p>To check if a class is a subclass of another you have to use <code>isAssignableFrom</code>:</p>\n\n<pre><code>if (Number.class.isAssignableFrom(field.getType()) { // ...\n</code></pre>\n\n<p>For your 2nd question you need a 2nd generic:</p>\n\n<pre><code>public static &lt;V, C extends Collection&lt;?&gt;&gt; Collection&lt;V&gt; createMassiveCollection(Class&lt;V&gt; clazz, int amount, Class&lt;C&gt; collectionType)\n</code></pre>\n\n<p>You can define this generic also as <code>C extends Collection&lt;V&gt;</code> but this creates a compiler warning and does not prevent an invokation like <code>createMassiveCollection(String.class, 10, new ArrayList&lt;Number&gt;().getClass())</code>.</p>\n\n<p>By the way, my last parameter would by <code>ArrayList.class</code>.</p>\n"},{"tags":[],"owner":{"account_id":7679118,"reputation":6230,"user_id":5818889,"accept_rate":83,"display_name":"glee8e"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1490260561,"creation_date":1490260561,"answer_id":42971682,"question_id":42971267,"body_markdown":"1. `field.getType()` do return `Class&lt;?&gt;`. The `type` property name comes from Java 1, when there is no generics and thus no `Type` interface. It may be confusing at the first glance though. \r\n\r\n2. To test if the class a `Class&lt;?&gt;` represents is a subtype of the class represented by another `Class&lt;?&gt;` you will need to use `classA.isAssignableFrom(classB)`. e.g. `Number.class.isAssignableFrom(Integer.class)` will return true.\r\n\r\n3. It&#39;s possible but pointless to write `Class&lt;? extends Collection&lt;V&gt;&gt; collectionType`, because you can&#39;t get an instance of `Class&lt;? extends Collection&lt;V&gt;&gt;` without explicit unsafe casts. Because \r\n    1. [Attempting to write class literals of generic types, except a wildcard type, will result in compile time errors.](http://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.8.2) \r\n    1. `Object.getClass()` will return the erased type. e.g. The type of the return value of `new ArrayList&lt;User&gt;().getClass()` will be `ArrayList` or `ArrayList&lt;?&gt;`, whose meanings are identical.\r\n\r\n  Without explicit unsafe casts, this method can only be called when `V` is a wildcard.","title":"Checking if a Class&lt;?&gt; is instance of other by reflection","body":"<ol>\n<li><p><code>field.getType()</code> do return <code>Class&lt;?&gt;</code>. The <code>type</code> property name comes from Java 1, when there is no generics and thus no <code>Type</code> interface. It may be confusing at the first glance though. </p></li>\n<li><p>To test if the class a <code>Class&lt;?&gt;</code> represents is a subtype of the class represented by another <code>Class&lt;?&gt;</code> you will need to use <code>classA.isAssignableFrom(classB)</code>. e.g. <code>Number.class.isAssignableFrom(Integer.class)</code> will return true.</p></li>\n<li><p>It's possible but pointless to write <code>Class&lt;? extends Collection&lt;V&gt;&gt; collectionType</code>, because you can't get an instance of <code>Class&lt;? extends Collection&lt;V&gt;&gt;</code> without explicit unsafe casts. Because </p>\n\n<ol>\n<li><a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.8.2\" rel=\"nofollow noreferrer\">Attempting to write class literals of generic types, except a wildcard type, will result in compile time errors.</a> </li>\n<li><code>Object.getClass()</code> will return the erased type. e.g. The type of the return value of <code>new ArrayList&lt;User&gt;().getClass()</code> will be <code>ArrayList</code> or <code>ArrayList&lt;?&gt;</code>, whose meanings are identical.</li>\n</ol>\n\n<p>Without explicit unsafe casts, this method can only be called when <code>V</code> is a wildcard.</p></li>\n</ol>\n"}],"owner":{"account_id":7471816,"reputation":3218,"user_id":5679560,"accept_rate":36,"display_name":"Rafael Lima"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5301,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":42971554,"answer_count":3,"score":1,"last_activity_date":1675777333,"creation_date":1490259401,"question_id":42971267,"body_markdown":"I&#39;m trying to create a random generator of any class for stress test purposes.\r\n\r\nMy generator goals to create any class with default constructor and fill its primitive and String fields (by reflection)\r\n\r\nI would like also to fill fields of type Number (Integer, Long, Double....) as they are easily convertible to primitives.\r\n\r\nBut I couldn&#39;t find a simple approach o `instanceof` between types.\r\n\r\nHere is the method\r\n\r\n\r\n  \r\n\r\n    public static &lt;V&gt; Collection&lt;V&gt; createMassiveCollection(Class&lt;V&gt; clazz, int amount, Class&lt;?&gt; collectionType) throws InstantiationException, IllegalAccessException, IllegalArgumentException, InvocationTargetException, NoSuchMethodException, SecurityException {\r\n    \r\n    \t\tRandom r = new Random();\r\n    \t\tRandomGenerator rg = new RandomGenerator();\r\n    \t\t@SuppressWarnings(&quot;unchecked&quot;)\r\n    \t\tCollection&lt;V&gt; collection = (Collection&lt;V&gt;) collectionType.newInstance();\r\n    \t\tfor (int i = 0; i &lt; amount; i++) {\r\n    \t\t\tV item = clazz.newInstance();\r\n    \r\n    \t\t\tfor (Field field : item.getClass().getDeclaredFields()) {\r\n    \r\n    \t\t\t\tif (java.lang.reflect.Modifier.isStatic(field.getModifiers()) || java.lang.reflect.Modifier.isFinal(field.getModifiers()))\r\n    \t\t\t\t\tcontinue;\r\n    \r\n    \t\t\t\tfield.setAccessible(true);\r\n    \r\n    \t\t\t\tif (field.getType().equals(String.class))\r\n    \t\t\t\t\tfield.set(item, rg.nextCompliment());\r\n    \r\n    \t\t\t\telse if (field.getType().isPrimitive() &amp;&amp; (field.getType() != boolean.class &amp;&amp; field.getType() != byte.class &amp;&amp; field.getType() != char.class))\r\n    \t\t\t\t\tfield.set(item, r.nextInt(1000000));\r\n    \r\n    \t\t\t\telse {\r\n    \t\t\t\t\tConstructor&lt;?&gt; c = null;\r\n    \r\n    \t\t\t\t\ttry {\r\n    \t\t\t\t\t\tc = field.getType().getConstructor(String.class);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\tcatch (Exception e) {}\r\n    \t\t\t\t\tif (c != null &amp;&amp; Number.class.isInstance(c.newInstance(&quot;1&quot;)))\r\n    \t\t\t\t\t\tfield.set(item, field.getType().getConstructor(String.class).newInstance(r.nextInt(1000000) + &quot;&quot;));\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t}\r\n    \r\n    \t\t\tcollection.add(item);\r\n    \t\t}\r\n    \t\treturn collection;\r\n    \t}\r\n\r\n\r\nThe third if is the one causing problems\r\nI would like something like: &quot;if `Type&lt;C&gt;` is subtype of `Type&lt;V&gt;`&quot;\r\nbut all ways i found need an valid instance of object to check.\r\n\r\nex.\r\n`Number.class.isInstance(field.getType())` nor `field.getType() instanceof Number` works because `field.getType()` is instance of Type&lt;V&gt;.\r\n\r\nDoes anyone know if it is possible?\r\n\r\nAnother question (less important) in my method signature i would like to have \r\n\r\n    Class&lt;? extends Collection&lt;V&gt;&gt; collectionType\r\n\r\nbut if i do that when i try to call the method like\r\n\r\n    createMassiveCollection(User.class, 100000, new ArrayList&lt;User&gt;().getClass());\r\n\r\nthe compiler fails! so, to be able to compile i must trust the user is passing some type that extends Collection&lt;V&gt; as parameter","title":"Checking if a Class&lt;?&gt; is instance of other by reflection","body":"<p>I'm trying to create a random generator of any class for stress test purposes.</p>\n\n<p>My generator goals to create any class with default constructor and fill its primitive and String fields (by reflection)</p>\n\n<p>I would like also to fill fields of type Number (Integer, Long, Double....) as they are easily convertible to primitives.</p>\n\n<p>But I couldn't find a simple approach o <code>instanceof</code> between types.</p>\n\n<p>Here is the method</p>\n\n<pre><code>public static &lt;V&gt; Collection&lt;V&gt; createMassiveCollection(Class&lt;V&gt; clazz, int amount, Class&lt;?&gt; collectionType) throws InstantiationException, IllegalAccessException, IllegalArgumentException, InvocationTargetException, NoSuchMethodException, SecurityException {\n\n        Random r = new Random();\n        RandomGenerator rg = new RandomGenerator();\n        @SuppressWarnings(\"unchecked\")\n        Collection&lt;V&gt; collection = (Collection&lt;V&gt;) collectionType.newInstance();\n        for (int i = 0; i &lt; amount; i++) {\n            V item = clazz.newInstance();\n\n            for (Field field : item.getClass().getDeclaredFields()) {\n\n                if (java.lang.reflect.Modifier.isStatic(field.getModifiers()) || java.lang.reflect.Modifier.isFinal(field.getModifiers()))\n                    continue;\n\n                field.setAccessible(true);\n\n                if (field.getType().equals(String.class))\n                    field.set(item, rg.nextCompliment());\n\n                else if (field.getType().isPrimitive() &amp;&amp; (field.getType() != boolean.class &amp;&amp; field.getType() != byte.class &amp;&amp; field.getType() != char.class))\n                    field.set(item, r.nextInt(1000000));\n\n                else {\n                    Constructor&lt;?&gt; c = null;\n\n                    try {\n                        c = field.getType().getConstructor(String.class);\n                    }\n                    catch (Exception e) {}\n                    if (c != null &amp;&amp; Number.class.isInstance(c.newInstance(\"1\")))\n                        field.set(item, field.getType().getConstructor(String.class).newInstance(r.nextInt(1000000) + \"\"));\n                }\n\n            }\n\n            collection.add(item);\n        }\n        return collection;\n    }\n</code></pre>\n\n<p>The third if is the one causing problems\nI would like something like: \"if <code>Type&lt;C&gt;</code> is subtype of <code>Type&lt;V&gt;</code>\"\nbut all ways i found need an valid instance of object to check.</p>\n\n<p>ex.\n<code>Number.class.isInstance(field.getType())</code> nor <code>field.getType() instanceof Number</code> works because <code>field.getType()</code> is instance of Type.</p>\n\n<p>Does anyone know if it is possible?</p>\n\n<p>Another question (less important) in my method signature i would like to have </p>\n\n<pre><code>Class&lt;? extends Collection&lt;V&gt;&gt; collectionType\n</code></pre>\n\n<p>but if i do that when i try to call the method like</p>\n\n<pre><code>createMassiveCollection(User.class, 100000, new ArrayList&lt;User&gt;().getClass());\n</code></pre>\n\n<p>the compiler fails! so, to be able to compile i must trust the user is passing some type that extends Collection as parameter</p>\n"},{"tags":["java","android","http","webview","webkit"],"answers":[{"comments":[{"owner":{"account_id":27709400,"reputation":1,"user_id":21152396,"display_name":"lecitel.obecny"},"score":0,"creation_date":1675725652,"post_id":75367186,"comment_id":132987327,"body_markdown":"I also found this yesterday on stack overflow, but that didn&#39;t exactly fork for me either... I&#39;m attaching my code here: https://pastebin.com/ZCNKYegQ","body":"I also found this yesterday on stack overflow, but that didn&#39;t exactly fork for me either... I&#39;m attaching my code here: <a href=\"https://pastebin.com/ZCNKYegQ\" rel=\"nofollow noreferrer\">pastebin.com/ZCNKYegQ</a>"},{"owner":{"account_id":10528158,"reputation":334,"user_id":7758485,"display_name":"DiLDoST"},"score":0,"creation_date":1675777592,"post_id":75367186,"comment_id":132998424,"body_markdown":"I updated my answer. Please note that for desktop mode, most important thing is USER-AGENT. As server checks it and gives the responding UI according to the UA. You were using it wrong.","body":"I updated my answer. Please note that for desktop mode, most important thing is USER-AGENT. As server checks it and gives the responding UI according to the UA. You were using it wrong."},{"owner":{"account_id":10528158,"reputation":334,"user_id":7758485,"display_name":"DiLDoST"},"score":0,"creation_date":1675777658,"post_id":75367186,"comment_id":132998443,"body_markdown":"And no need to load ur page manually, if you give proper UA. The page will look Desktop automatically.","body":"And no need to load ur page manually, if you give proper UA. The page will look Desktop automatically."}],"tags":[],"owner":{"account_id":10528158,"reputation":334,"user_id":7758485,"display_name":"DiLDoST"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675777298,"creation_date":1675722107,"answer_id":75367186,"question_id":75366315,"body_markdown":"This method helps you to set DesktopMode on webview \r\n\r\n    public void setDesktopMode(WebView webView,boolean enabled) {\r\n        String newUserAgent = webView.getSettings().getUserAgentString();\r\n        if (enabled) {\r\n            newUserAgent = &quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_5)\\nAppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/85\\nVersion/11.1.1 Safari/605.1.15&quot;;\r\n        }\r\n\r\n        webView.getSettings().setUserAgentString(newUserAgent);\r\n        webView.getSettings().setUseWideViewPort(enabled);\r\n        webView.getSettings().setLoadWithOverviewMode(enabled);\r\n        webView.reload();\r\n    }\r\n\r\nCall it like that \r\n\r\nMobile mode : `setDesktopMode(webView, false);`\r\n\r\nDesktop mode : `setDesktopMode(webView, true);`\r\n\r\n**For Kotlin:** \r\n\r\n    fun setDesktopMode(webView: WebView, enabled: Boolean) {\r\n        var newUserAgent: String? = webView.settings.userAgentString\r\n        if (enabled) {\r\n            newUserAgent = &quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_5)\\nAppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/85\\nVersion/11.1.1 Safari/605.1.15&quot;\r\n        }\r\n        webView.settings.apply {\r\n            userAgentString = newUserAgent\r\n            useWideViewPort = enabled\r\n            loadWithOverviewMode = enabled\r\n        }\r\n        webView.reload()\r\n    }\r\n\r\n","title":"Is there any way to exactly implement a &quot;desktop mode&quot; function into my mobile app when loading website content?","body":"<p>This method helps you to set DesktopMode on webview</p>\n<pre><code>public void setDesktopMode(WebView webView,boolean enabled) {\n    String newUserAgent = webView.getSettings().getUserAgentString();\n    if (enabled) {\n        newUserAgent = &quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_5)\\nAppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/85\\nVersion/11.1.1 Safari/605.1.15&quot;;\n    }\n\n    webView.getSettings().setUserAgentString(newUserAgent);\n    webView.getSettings().setUseWideViewPort(enabled);\n    webView.getSettings().setLoadWithOverviewMode(enabled);\n    webView.reload();\n}\n</code></pre>\n<p>Call it like that</p>\n<p>Mobile mode : <code>setDesktopMode(webView, false);</code></p>\n<p>Desktop mode : <code>setDesktopMode(webView, true);</code></p>\n<p><strong>For Kotlin:</strong></p>\n<pre><code>fun setDesktopMode(webView: WebView, enabled: Boolean) {\n    var newUserAgent: String? = webView.settings.userAgentString\n    if (enabled) {\n        newUserAgent = &quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_5)\\nAppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/85\\nVersion/11.1.1 Safari/605.1.15&quot;\n    }\n    webView.settings.apply {\n        userAgentString = newUserAgent\n        useWideViewPort = enabled\n        loadWithOverviewMode = enabled\n    }\n    webView.reload()\n}\n</code></pre>\n"}],"owner":{"account_id":27709400,"reputation":1,"user_id":21152396,"display_name":"lecitel.obecny"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":199,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675777298,"creation_date":1675715779,"question_id":75366315,"body_markdown":"Is there any way to exactly implement a &quot;desktop mode&quot; function into my mobile app when loading website content? I&#39;m making a android app, and I want to have a page just with static website content just like in a web browser, I really like how mobile opera implemented this feature, So I just want to know if there is a way to do that. And if there is, then How?\r\n\r\n(I&#39;m making this project in Java and viewing the website using WebView from the library &quot;WebKit&quot;)\r\n\r\nI&#39;ve also tried changing the User Agent, which didn&#39;t work on a static website.","title":"Is there any way to exactly implement a &quot;desktop mode&quot; function into my mobile app when loading website content?","body":"<p>Is there any way to exactly implement a &quot;desktop mode&quot; function into my mobile app when loading website content? I'm making a android app, and I want to have a page just with static website content just like in a web browser, I really like how mobile opera implemented this feature, So I just want to know if there is a way to do that. And if there is, then How?</p>\n<p>(I'm making this project in Java and viewing the website using WebView from the library &quot;WebKit&quot;)</p>\n<p>I've also tried changing the User Agent, which didn't work on a static website.</p>\n"},{"tags":["java","methods","arguments","average","static-methods"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1466797793,"post_id":38021052,"comment_id":63483959,"body_markdown":"`&quot;... I have errors.&quot;` -- What errors? Please try to ask a more complete question.","body":"<code>&quot;... I have errors.&quot;</code> -- What errors? Please try to ask a more complete question."},{"owner":{"account_id":8687863,"reputation":37,"user_id":6501677,"accept_rate":20,"display_name":"Olive Bassey"},"score":0,"creation_date":1466806768,"post_id":38021052,"comment_id":63487364,"body_markdown":"the avg = sum / count; is giving me an error.","body":"the avg = sum / count; is giving me an error."}],"answers":[{"comments":[{"owner":{"account_id":8687863,"reputation":37,"user_id":6501677,"accept_rate":20,"display_name":"Olive Bassey"},"score":0,"creation_date":1466818463,"post_id":38021242,"comment_id":63489362,"body_markdown":"`String[] result = userinput.split(&quot; &quot;);\ndouble numbs = Double.parseDouble(userinput);`\n\nI&#39;ve added string split and the parse for double but i get an error:\n\nException in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;5 4&quot;\n\tat sun.misc.FloatingDecimal.readJavaFormatString(FloatingDecimal.java:2043)\n\tat sun.misc.FloatingDecimal.parseDouble(FloatingDecimal.java:110)\n\tat java.lang.Double.parseDouble(Double.java:538)\n\tat calculateavg.CalculateAvg.getAverage(CalculateAvg.java:39)\n\tat calculateavg.CalculateAvg.main(CalculateAvg.java:19)","body":"<code>String[] result = userinput.split(&quot; &quot;); double numbs = Double.parseDouble(userinput);</code>  I&#39;ve added string split and the parse for double but i get an error:  Exception in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;5 4&quot; \tat sun.misc.FloatingDecimal.readJavaFormatString(FloatingDecima&zwnj;&#8203;l.java:2043) \tat sun.misc.FloatingDecimal.parseDouble(FloatingDecimal.java:11&zwnj;&#8203;0) \tat java.lang.Double.parseDouble(Double.java:538) \tat calculateavg.CalculateAvg.getAverage(CalculateAvg.java:39) \tat calculateavg.CalculateAvg.main(CalculateAvg.java:19)"},{"owner":{"account_id":1441892,"reputation":13687,"user_id":1361787,"accept_rate":68,"display_name":"ChiefTwoPencils"},"score":0,"creation_date":1466820485,"post_id":38021242,"comment_id":63489639,"body_markdown":"@Olive, think about what the error means and what userinput is. The input is still the space separated numbers. The result array is the individual numbers that need to be parsed to doubles and added together. So, you could add a loop and go over each in that array and add the parsed value to a sum variable initialized to 0. Then you have the sum and the size of the result array is the number of numbers entered.","body":"@Olive, think about what the error means and what userinput is. The input is still the space separated numbers. The result array is the individual numbers that need to be parsed to doubles and added together. So, you could add a loop and go over each in that array and add the parsed value to a sum variable initialized to 0. Then you have the sum and the size of the result array is the number of numbers entered."}],"tags":[],"owner":{"account_id":1441892,"reputation":13687,"user_id":1361787,"accept_rate":68,"display_name":"ChiefTwoPencils"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1466798949,"creation_date":1466798472,"answer_id":38021242,"question_id":38021052,"body_markdown":"As this is homework I&#39;m not going to give you the code but rather point you in the right direction. \r\n\r\nFirst, and foremost, follow the instructions. The first method should just get user input; nothing else. So, don&#39;t do anything else there. You won&#39;t be able to use it once the method returns anyway.\r\n\r\nThe second method should have only a single argument; don&#39;t use two then. Send the user input into that method and get the average. To get the average you need the sum and the count of numbers from the input. But you have a `String`. So, you need to split that string into the individual numbers and parse them into a numeric type, sum them, and then divide by the count you obtained after splitting the input.\r\n\r\nI assume the third method will take the user input and the calculated double and display them in a clean manner.\r\n\r\nEach of these tasks should be separate methods so it would resemble something like this:\r\n\r\n    input = getInput()\r\n    average = getAverage(input)\r\n    displayResults(input, average)","title":"Calculate average with user inputs and different methods","body":"<p>As this is homework I'm not going to give you the code but rather point you in the right direction. </p>\n\n<p>First, and foremost, follow the instructions. The first method should just get user input; nothing else. So, don't do anything else there. You won't be able to use it once the method returns anyway.</p>\n\n<p>The second method should have only a single argument; don't use two then. Send the user input into that method and get the average. To get the average you need the sum and the count of numbers from the input. But you have a <code>String</code>. So, you need to split that string into the individual numbers and parse them into a numeric type, sum them, and then divide by the count you obtained after splitting the input.</p>\n\n<p>I assume the third method will take the user input and the calculated double and display them in a clean manner.</p>\n\n<p>Each of these tasks should be separate methods so it would resemble something like this:</p>\n\n<pre><code>input = getInput()\naverage = getAverage(input)\ndisplayResults(input, average)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1441892,"reputation":13687,"user_id":1361787,"accept_rate":68,"display_name":"ChiefTwoPencils"},"score":0,"creation_date":1466801334,"post_id":38021587,"comment_id":63485446,"body_markdown":"I would remove the alternative methods on how to achieve it from your answer; they have the requirements and they don&#39;t include taking individual numbers as `int`s from the user in a loop with a terminating value or using global variables.","body":"I would remove the alternative methods on how to achieve it from your answer; they have the requirements and they don&#39;t include taking individual numbers as <code>int</code>s from the user in a loop with a terminating value or using global variables."},{"owner":{"account_id":6990196,"reputation":37,"user_id":5359734,"display_name":"Praveen Rana"},"score":0,"creation_date":1466802946,"post_id":38021587,"comment_id":63486131,"body_markdown":"So simply use in.next() to read whole line as input and try out the rest as told. In the beginning programming scares but don&#39;t be. We are here to help.","body":"So simply use in.next() to read whole line as input and try out the rest as told. In the beginning programming scares but don&#39;t be. We are here to help."},{"owner":{"account_id":1441892,"reputation":13687,"user_id":1361787,"accept_rate":68,"display_name":"ChiefTwoPencils"},"score":0,"creation_date":1466803113,"post_id":38021587,"comment_id":63486192,"body_markdown":"I&#39;m not the OP. I was just kindly making a suggestion since they presumably won&#39;t be able to use the suggestions since they go against the homework requirements.","body":"I&#39;m not the OP. I was just kindly making a suggestion since they presumably won&#39;t be able to use the suggestions since they go against the homework requirements."}],"tags":[],"owner":{"account_id":6990196,"reputation":37,"user_id":5359734,"display_name":"Praveen Rana"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675777049,"creation_date":1466800019,"answer_id":38021587,"question_id":38021052,"body_markdown":"If you&#39;re hoping for an exact code then I am not going to give you that.\r\n\r\nTo take 5 to 10 arguments I think you can create an array make a for loop ( ```in.nextInt()``` will get the input ) and create a break statement inside the loop in a if statement.\r\n\r\nIf statement will check where to stop ( put some number that won&#39;t be in array and mark as end of arguments ).\r\n\r\nThis can be used when you are getting them as int.\r\n\r\nIf you want to read whole line as one then save the line string in str ( or something).\r\n\r\n```Java\r\nString[] nums = str.split(&quot; &quot;);\r\n```\r\n\r\nThis statement will make all numbers stored in arrays of String.\r\n\r\nTo get the numbers use a for loop and ```Double.parseDouble(nums[i])```.\r\n\r\n\r\nNow if you are panicked to do this stuff in different methods then just use Global variables.\r\n\r\nI think this much help might get your work done.","title":"Calculate average with user inputs and different methods","body":"<p>If you're hoping for an exact code then I am not going to give you that.</p>\n<p>To take 5 to 10 arguments I think you can create an array make a for loop ( <code>in.nextInt()</code> will get the input ) and create a break statement inside the loop in a if statement.</p>\n<p>If statement will check where to stop ( put some number that won't be in array and mark as end of arguments ).</p>\n<p>This can be used when you are getting them as int.</p>\n<p>If you want to read whole line as one then save the line string in str ( or something).</p>\n<pre><code>String[] nums = str.split(&quot; &quot;);\n</code></pre>\n<p>This statement will make all numbers stored in arrays of String.</p>\n<p>To get the numbers use a for loop and <code>Double.parseDouble(nums[i])</code>.</p>\n<p>Now if you are panicked to do this stuff in different methods then just use Global variables.</p>\n<p>I think this much help might get your work done.</p>\n"}],"owner":{"account_id":8687863,"reputation":37,"user_id":6501677,"accept_rate":20,"display_name":"Olive Bassey"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2762,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1675777049,"creation_date":1466797655,"question_id":38021052,"body_markdown":"So, my homework is to form a program that prompts the user for five to ten numbers all on one line, separated by spaces, calculates the average of those numbers, and displays the numbers and their average to the user. \r\n\r\nThe first method should take no arguments and return a String of numbers separated by spaces.\r\n\r\nThe second method should take a String as its only argument and return a double (the average).\r\n\r\nThe third method should take a String and a double as arguments but have no return value.\r\n\r\n---------------------------------------------------------------------------\r\nMy issue is I have no clue how to calculate the average in a different method along with printing my results. I&#39;ve just learned methods so I&#39;m still trying to figure them out.\r\n \r\nThis is what I have so far and I know I have errors:\r\n\r\n    import java.util.Scanner;\r\n    public class CalculateAvg {\r\n    \r\n        public static void main(String[] args) {\r\n            String userinput = getuserinput();\r\n        }\r\n\r\n\r\n        public static String getuserinput() {\r\n            // Read inputs and change string to double\r\n            Scanner in = new Scanner(System.in);\r\n            String userinput;\r\n\r\n            System.out.println(&quot;Please enter 5 to 10 numbers seperated by spaces: &quot;);\r\n            userinput = in.nextLine();\r\n            double numbs = Double.parseDouble(userinput);\r\n            return userinput;\r\n        }\r\n        // Problem is here. \r\n        public static double mySum(String sum, String userinput) {\r\n            double avg = 0;\r\n            double count = 0;\r\n\r\n            double value = Double.parseDouble(sum);\r\n            sum = sum + userinput;\r\n            count++;\r\n            avg = sum / count;\r\n\r\n            return avg;\r\n        }\r\n    }    \r\n\r\n","title":"Calculate average with user inputs and different methods","body":"<p>So, my homework is to form a program that prompts the user for five to ten numbers all on one line, separated by spaces, calculates the average of those numbers, and displays the numbers and their average to the user. </p>\n\n<p>The first method should take no arguments and return a String of numbers separated by spaces.</p>\n\n<p>The second method should take a String as its only argument and return a double (the average).</p>\n\n<p>The third method should take a String and a double as arguments but have no return value.</p>\n\n<hr>\n\n<p>My issue is I have no clue how to calculate the average in a different method along with printing my results. I've just learned methods so I'm still trying to figure them out.</p>\n\n<p>This is what I have so far and I know I have errors:</p>\n\n<pre><code>import java.util.Scanner;\npublic class CalculateAvg {\n\n    public static void main(String[] args) {\n        String userinput = getuserinput();\n    }\n\n\n    public static String getuserinput() {\n        // Read inputs and change string to double\n        Scanner in = new Scanner(System.in);\n        String userinput;\n\n        System.out.println(\"Please enter 5 to 10 numbers seperated by spaces: \");\n        userinput = in.nextLine();\n        double numbs = Double.parseDouble(userinput);\n        return userinput;\n    }\n    // Problem is here. \n    public static double mySum(String sum, String userinput) {\n        double avg = 0;\n        double count = 0;\n\n        double value = Double.parseDouble(sum);\n        sum = sum + userinput;\n        count++;\n        avg = sum / count;\n\n        return avg;\n    }\n}    \n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1675790728,"post_id":75374012,"comment_id":133003145,"body_markdown":"Would using a regex with groups be a permitted approach?","body":"Would using a regex with groups be a permitted approach?"}],"owner":{"account_id":7957656,"reputation":81,"user_id":6250852,"display_name":"Miracle"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675777002,"creation_date":1675776337,"question_id":75374012,"body_markdown":"I have to parse several text files in pre-defined format and get the parsed data into Java code. For eg, a file would look something like below.\r\n\r\n    12345 5abcd 18864 12585\r\n    24584 4frrf 44855 84745\r\n    98745 2rgr4 25584 36546\r\n\r\nwhere the first 2 characters in each line are area code (12,24,98 etc) and characters from 3 to 5 positions are district code and similarly, each position has its own meaning.\r\n\r\nI am looking for a `Java` library that would allow me to create a template something like below\r\n\r\n    $for(int i=1;i&lt;=endOfLine();i++){\r\n        $(area_code)[2]$(district_code)[3] $(address_line1)[5] $(address_line2)[5] $(address_line3)[5]\r\n    }\r\n\r\nand read the file content like\r\n\r\n    Integer areaCode = template.getNumber(&quot;area_code&quot;);\r\n    Integer districtCode = template.getNumber(&quot;district_code&quot;);\r\n    String addressLine1 = template.getString(&quot;address_line1&quot;);\r\n    ...\r\n    ...\r\n\r\nAny suggestion on which library can be used or how to do this?","title":"Parsing text file based on a pre-defined template","body":"<p>I have to parse several text files in pre-defined format and get the parsed data into Java code. For eg, a file would look something like below.</p>\n<pre><code>12345 5abcd 18864 12585\n24584 4frrf 44855 84745\n98745 2rgr4 25584 36546\n</code></pre>\n<p>where the first 2 characters in each line are area code (12,24,98 etc) and characters from 3 to 5 positions are district code and similarly, each position has its own meaning.</p>\n<p>I am looking for a <code>Java</code> library that would allow me to create a template something like below</p>\n<pre><code>$for(int i=1;i&lt;=endOfLine();i++){\n    $(area_code)[2]$(district_code)[3] $(address_line1)[5] $(address_line2)[5] $(address_line3)[5]\n}\n</code></pre>\n<p>and read the file content like</p>\n<pre><code>Integer areaCode = template.getNumber(&quot;area_code&quot;);\nInteger districtCode = template.getNumber(&quot;district_code&quot;);\nString addressLine1 = template.getString(&quot;address_line1&quot;);\n...\n...\n</code></pre>\n<p>Any suggestion on which library can be used or how to do this?</p>\n"},{"tags":["java","xml","parsing"],"comments":[{"owner":{"account_id":1050926,"reputation":2756,"user_id":1054897,"accept_rate":71,"display_name":"Pankaj Gadge"},"score":1,"creation_date":1531157911,"post_id":51251161,"comment_id":89481245,"body_markdown":"what issues are you facing?","body":"what issues are you facing?"},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":1,"creation_date":1531160655,"post_id":51251161,"comment_id":89482549,"body_markdown":"*&quot;i have tried using the above code&quot;* The above code doesn&#39;t compile, so how could you have tried using it?","body":"<i>&quot;i have tried using the above code&quot;</i> The above code doesn&#39;t compile, so how could you have tried using it?"}],"answers":[{"tags":[],"owner":{"account_id":9609012,"reputation":4037,"user_id":7134058,"display_name":"Vadim"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1531159158,"creation_date":1531159158,"answer_id":51251487,"question_id":51251161,"body_markdown":"First of all: `&quot;` character must be escaped as `\\&quot;` in Java String. requestBody String must look like:\r\n`String requestBody=&quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot; ...` and so on.\r\n\r\nThen main mistake:\r\n\r\n`Document doc = builder.parse(requestBody);`\r\n\r\nbuilder parses not String but URL represented by that String.\r\n So, use `InputStream` instead as example:\r\n\r\n    Document doc = builder.parse(new ByteArrayInputStream(requestBody.getBytes()));\r\n\r\nand you will get your five `&lt;ShipmentLine&gt;` nodes.","title":"Parse an XML string in java","body":"<p>First of all: <code>\"</code> character must be escaped as <code>\\\"</code> in Java String. requestBody String must look like:\n<code>String requestBody=\"&lt;?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\" ...</code> and so on.</p>\n\n<p>Then main mistake:</p>\n\n<p><code>Document doc = builder.parse(requestBody);</code></p>\n\n<p>builder parses not String but URL represented by that String.\n So, use <code>InputStream</code> instead as example:</p>\n\n<pre><code>Document doc = builder.parse(new ByteArrayInputStream(requestBody.getBytes()));\n</code></pre>\n\n<p>and you will get your five <code>&lt;ShipmentLine&gt;</code> nodes.</p>\n"},{"comments":[{"owner":{"account_id":1474271,"reputation":1908,"user_id":1385083,"accept_rate":57,"display_name":"Jamie"},"score":1,"creation_date":1531159998,"post_id":51251511,"comment_id":89482229,"body_markdown":"To expand on the XPath problem that @shar1er80 fixed, in the original code the xpath statement was selecting the ShipmentLine elements that contain an OrderNo attribute. This is because the square brackets - /ShipmentLine[@OrderNo] - are defining a filter.  The change to using a path step instead - /ShipmentLine/@OrderNo - means that you are now selecting the OrderNo attribute from the ShipmentLine element.","body":"To expand on the XPath problem that @shar1er80 fixed, in the original code the xpath statement was selecting the ShipmentLine elements that contain an OrderNo attribute. This is because the square brackets - /ShipmentLine[@OrderNo] - are defining a filter.  The change to using a path step instead - /ShipmentLine/@OrderNo - means that you are now selecting the OrderNo attribute from the ShipmentLine element."},{"owner":{"account_id":1318923,"reputation":9011,"user_id":1265182,"accept_rate":100,"display_name":"Shar1er80"},"score":0,"creation_date":1531310609,"post_id":51251511,"comment_id":89547175,"body_markdown":"@RajgauriKhemnar If my answer solved your question, kindly check so your question is marked answered.","body":"@RajgauriKhemnar If my answer solved your question, kindly check so your question is marked answered."}],"tags":[],"owner":{"account_id":1318923,"reputation":9011,"user_id":1265182,"accept_rate":100,"display_name":"Shar1er80"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1531159256,"creation_date":1531159256,"answer_id":51251511,"question_id":51251161,"body_markdown":"The problem starts with the unescaped quotes in your XML string.  Then how the string is parsed into a `Document` object. `Document doc = builder.parse(requestBody);` is calling the `DocumentBuilder.parse(String uri)` version where the uri is the location of the XML you&#39;re wanting to parse.\r\n\r\nSince you have a `String` that you want to parse as XML, you have to pass the `DocumentBuilder` an `InputSource` object like `Document doc = builder.parse(new InputSource(new StringReader(requestBody)));`\r\n\r\nThis will get your string into your `Document` object\r\n\r\nNow we have to fix how you&#39;re accessing the attribute `OrderNo` in the `ShipmentLine` element. To do this change `XPathExpression expr = xpath.compile(&quot;//ShipmentList/Shipment/ShipmentLines/ShipmentLine[@OrderNo]&quot;);` to `XPathExpression expr = xpath.compile(&quot;//ShipmentList/Shipment/ShipmentLines/ShipmentLine/@OrderNo&quot;);` and you should now get a `NodeList` that you can iterate through.\r\n\r\nCode with changes\r\n-----------------\r\n\r\n    import java.io.IOException;\r\n    import java.io.StringReader;\r\n    \r\n    import javax.xml.parsers.DocumentBuilder;\r\n    import javax.xml.parsers.DocumentBuilderFactory;\r\n    import javax.xml.parsers.ParserConfigurationException;\r\n    import javax.xml.xpath.XPath;\r\n    import javax.xml.xpath.XPathConstants;\r\n    import javax.xml.xpath.XPathExpression;\r\n    import javax.xml.xpath.XPathExpressionException;\r\n    import javax.xml.xpath.XPathFactory;\r\n    \r\n    import org.w3c.dom.Document;\r\n    import org.w3c.dom.NodeList;\r\n    import org.xml.sax.InputSource;\r\n    import org.xml.sax.SAXException;\r\n    \r\n    public class StackOverflow {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tString requestBody = \r\n    \t\t\t\t&quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot; standalone=\\&quot;yes\\&quot;?&gt;&quot;\r\n    \t\t\t\t+ &quot;&lt;ShipmentList&gt;&quot;\r\n    \t\t\t\t+ &quot;&lt;Shipment ActualShipmentDate=\\&quot;2018-06-26T11:25:00+05:30\\&quot; DocumentType=\\&quot;0005\\&quot; TotalWeight=\\&quot;55.5\\&quot; TotalWeightUOM=\\&quot;LB\\&quot; TrackingNo=\\&quot;9461236897846412938163\\&quot;&gt;&quot;\r\n    \t\t\t\t+ &quot;&lt;ShipmentLines&gt;&quot;\r\n    \t\t\t\t+ &quot;&lt;ShipmentLine OrderNo=\\&quot;1529904772887\\&quot; PrimeLineNo=\\&quot;1\\&quot; Quantity=\\&quot;3\\&quot; SubLineNo=\\&quot;1\\&quot;/&gt;&quot;\r\n    \t\t\t\t+ &quot;&lt;ShipmentLine OrderNo=\\&quot;1529904772887\\&quot; PrimeLineNo=\\&quot;2\\&quot; Quantity=\\&quot;3\\&quot; SubLineNo=\\&quot;1\\&quot;/&gt;&quot;\r\n    \t\t\t\t+ &quot;&lt;ShipmentLine OrderNo=\\&quot;1529904772887\\&quot; PrimeLineNo=\\&quot;3\\&quot; Quantity=\\&quot;3\\&quot; SubLineNo=\\&quot;1\\&quot;/&gt;&quot;\r\n    \t\t\t\t+ &quot;&lt;ShipmentLine OrderNo=\\&quot;1529904772887\\&quot; PrimeLineNo=\\&quot;4\\&quot; Quantity=\\&quot;3\\&quot; SubLineNo=\\&quot;1\\&quot;/&gt;&quot;\r\n    \t\t\t\t+ &quot;&lt;ShipmentLine OrderNo=\\&quot;1529904772887\\&quot; PrimeLineNo=\\&quot;5\\&quot; Quantity=\\&quot;3\\&quot; SubLineNo=\\&quot;1\\&quot;/&gt;&quot;\r\n    \t\t\t\t+ &quot;&lt;/ShipmentLines&gt;&quot;\r\n    \t\t\t\t+ &quot;&lt;Extn ExtnPackageASN=\\&quot;55538770655551006451\\&quot; ExtnPackageID=\\&quot;6247442951596360944\\&quot; ExtnPackLength=\\&quot;25.0\\&quot; ExtnLengthUOM=\\&quot;IN\\&quot; ExtnPackWidth=\\&quot;20.0\\&quot; ExtnWidthUOM=\\&quot;IN\\&quot; ExtnPackHeight=\\&quot;16.0\\&quot; ExtnHeightUOM=\\&quot;IN\\&quot; ExtnCarrierMethodId=\\&quot;83\\&quot;/&gt;&quot;\r\n    \t\t\t\t+ &quot;&lt;/Shipment&gt;&quot;\r\n    \t\t\t\t+ &quot;&lt;/ShipmentList&gt;&quot;;\r\n    \r\n    \t\tNodeList nl = null;\r\n    \t\ttry {\r\n    \t\t\tDocumentBuilderFactory domFactory = DocumentBuilderFactory.newInstance();\r\n    \t\t\tDocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\r\n    \t\t\tDocumentBuilder builder = factory.newDocumentBuilder();\r\n    \t\t\tDocument doc = builder.parse(new InputSource(new StringReader(requestBody)));\r\n    \t\t\tXPathFactory xPathfactory = XPathFactory.newInstance();\r\n    \t\t\tXPath xpath = xPathfactory.newXPath();\r\n    \t\t\tXPathExpression expr = xpath.compile(&quot;//ShipmentList/Shipment/ShipmentLines/ShipmentLine/@OrderNo&quot;);\r\n    \t\t\tnl = (NodeList) expr.evaluate(doc, XPathConstants.NODESET);\r\n    \t\t\t\r\n                // Output NodeList\r\n    \t\t\tfor (int i = 0; i &lt; nl.getLength(); i++) {\r\n    \t\t\t\tSystem.out.println(nl.item(i));\r\n    \t\t\t}\r\n    \t\t} catch (XPathExpressionException e1) {\r\n    \t\t\t// TODO Auto-generated catch block\r\n    \t\t\te1.printStackTrace();\r\n    \t\t} catch (ParserConfigurationException e1) {\r\n    \t\t\t// TODO Auto-generated catch block\r\n    \t\t\te1.printStackTrace();\r\n    \t\t} catch (SAXException e1) {\r\n    \t\t\t// TODO Auto-generated catch block\r\n    \t\t\te1.printStackTrace();\r\n    \t\t} catch (IOException e1) {\r\n    \t\t\t// TODO Auto-generated catch block\r\n    \t\t\te1.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nResult\r\n\r\n    OrderNo=&quot;1529904772887&quot;\r\n    OrderNo=&quot;1529904772887&quot;\r\n    OrderNo=&quot;1529904772887&quot;\r\n    OrderNo=&quot;1529904772887&quot;\r\n    OrderNo=&quot;1529904772887&quot;","title":"Parse an XML string in java","body":"<p>The problem starts with the unescaped quotes in your XML string.  Then how the string is parsed into a <code>Document</code> object. <code>Document doc = builder.parse(requestBody);</code> is calling the <code>DocumentBuilder.parse(String uri)</code> version where the uri is the location of the XML you're wanting to parse.</p>\n\n<p>Since you have a <code>String</code> that you want to parse as XML, you have to pass the <code>DocumentBuilder</code> an <code>InputSource</code> object like <code>Document doc = builder.parse(new InputSource(new StringReader(requestBody)));</code></p>\n\n<p>This will get your string into your <code>Document</code> object</p>\n\n<p>Now we have to fix how you're accessing the attribute <code>OrderNo</code> in the <code>ShipmentLine</code> element. To do this change <code>XPathExpression expr = xpath.compile(\"//ShipmentList/Shipment/ShipmentLines/ShipmentLine[@OrderNo]\");</code> to <code>XPathExpression expr = xpath.compile(\"//ShipmentList/Shipment/ShipmentLines/ShipmentLine/@OrderNo\");</code> and you should now get a <code>NodeList</code> that you can iterate through.</p>\n\n<h2>Code with changes</h2>\n\n<pre><code>import java.io.IOException;\nimport java.io.StringReader;\n\nimport javax.xml.parsers.DocumentBuilder;\nimport javax.xml.parsers.DocumentBuilderFactory;\nimport javax.xml.parsers.ParserConfigurationException;\nimport javax.xml.xpath.XPath;\nimport javax.xml.xpath.XPathConstants;\nimport javax.xml.xpath.XPathExpression;\nimport javax.xml.xpath.XPathExpressionException;\nimport javax.xml.xpath.XPathFactory;\n\nimport org.w3c.dom.Document;\nimport org.w3c.dom.NodeList;\nimport org.xml.sax.InputSource;\nimport org.xml.sax.SAXException;\n\npublic class StackOverflow {\n    public static void main(String[] args) {\n        String requestBody = \n                \"&lt;?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\" standalone=\\\"yes\\\"?&gt;\"\n                + \"&lt;ShipmentList&gt;\"\n                + \"&lt;Shipment ActualShipmentDate=\\\"2018-06-26T11:25:00+05:30\\\" DocumentType=\\\"0005\\\" TotalWeight=\\\"55.5\\\" TotalWeightUOM=\\\"LB\\\" TrackingNo=\\\"9461236897846412938163\\\"&gt;\"\n                + \"&lt;ShipmentLines&gt;\"\n                + \"&lt;ShipmentLine OrderNo=\\\"1529904772887\\\" PrimeLineNo=\\\"1\\\" Quantity=\\\"3\\\" SubLineNo=\\\"1\\\"/&gt;\"\n                + \"&lt;ShipmentLine OrderNo=\\\"1529904772887\\\" PrimeLineNo=\\\"2\\\" Quantity=\\\"3\\\" SubLineNo=\\\"1\\\"/&gt;\"\n                + \"&lt;ShipmentLine OrderNo=\\\"1529904772887\\\" PrimeLineNo=\\\"3\\\" Quantity=\\\"3\\\" SubLineNo=\\\"1\\\"/&gt;\"\n                + \"&lt;ShipmentLine OrderNo=\\\"1529904772887\\\" PrimeLineNo=\\\"4\\\" Quantity=\\\"3\\\" SubLineNo=\\\"1\\\"/&gt;\"\n                + \"&lt;ShipmentLine OrderNo=\\\"1529904772887\\\" PrimeLineNo=\\\"5\\\" Quantity=\\\"3\\\" SubLineNo=\\\"1\\\"/&gt;\"\n                + \"&lt;/ShipmentLines&gt;\"\n                + \"&lt;Extn ExtnPackageASN=\\\"55538770655551006451\\\" ExtnPackageID=\\\"6247442951596360944\\\" ExtnPackLength=\\\"25.0\\\" ExtnLengthUOM=\\\"IN\\\" ExtnPackWidth=\\\"20.0\\\" ExtnWidthUOM=\\\"IN\\\" ExtnPackHeight=\\\"16.0\\\" ExtnHeightUOM=\\\"IN\\\" ExtnCarrierMethodId=\\\"83\\\"/&gt;\"\n                + \"&lt;/Shipment&gt;\"\n                + \"&lt;/ShipmentList&gt;\";\n\n        NodeList nl = null;\n        try {\n            DocumentBuilderFactory domFactory = DocumentBuilderFactory.newInstance();\n            DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\n            DocumentBuilder builder = factory.newDocumentBuilder();\n            Document doc = builder.parse(new InputSource(new StringReader(requestBody)));\n            XPathFactory xPathfactory = XPathFactory.newInstance();\n            XPath xpath = xPathfactory.newXPath();\n            XPathExpression expr = xpath.compile(\"//ShipmentList/Shipment/ShipmentLines/ShipmentLine/@OrderNo\");\n            nl = (NodeList) expr.evaluate(doc, XPathConstants.NODESET);\n\n            // Output NodeList\n            for (int i = 0; i &lt; nl.getLength(); i++) {\n                System.out.println(nl.item(i));\n            }\n        } catch (XPathExpressionException e1) {\n            // TODO Auto-generated catch block\n            e1.printStackTrace();\n        } catch (ParserConfigurationException e1) {\n            // TODO Auto-generated catch block\n            e1.printStackTrace();\n        } catch (SAXException e1) {\n            // TODO Auto-generated catch block\n            e1.printStackTrace();\n        } catch (IOException e1) {\n            // TODO Auto-generated catch block\n            e1.printStackTrace();\n        }\n    }\n}\n</code></pre>\n\n<p>Result</p>\n\n<pre><code>OrderNo=\"1529904772887\"\nOrderNo=\"1529904772887\"\nOrderNo=\"1529904772887\"\nOrderNo=\"1529904772887\"\nOrderNo=\"1529904772887\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7753359,"reputation":77,"user_id":5868613,"display_name":"RodolfoTVA"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1531159901,"creation_date":1531159901,"answer_id":51251660,"question_id":51251161,"body_markdown":"Try something like that.\r\n\r\n    public static void main(String[] args) {\r\n      DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\r\n      factory.setNamespaceAware(true);\r\n      DocumentBuilder builder;\r\n      Document doc = null;\r\n      try {\r\n        builder = factory.newDocumentBuilder();\r\n        doc = builder.parse(&quot;C:/shipment.xml&quot;);\r\n        XPathFactory xpathFactory = XPathFactory.newInstance();\r\n        XPath xpath = xpathFactory.newXPath();\r\n\r\n        try {\r\n          XPathExpression expr = xpath.compile(&quot;/ShipmentList/Shipment/ShipmentLines/ShipmentLine&quot;);\r\n          NodeList nodes = (NodeList) expr.evaluate(doc, XPathConstants.NODESET);\r\n          for (int i = 0; i &lt; nodes.getLength(); i++) {\r\n            Node nNode = nodes.item(i);\r\n            System.out.println(&quot;\\nCurrent Element :&quot; + nNode.getNodeName());\r\n            if (nNode.getNodeType() == Node.ELEMENT_NODE) {\r\n              Element eElement = (Element) nNode;\r\n              System.out.println(&quot;OrderNo :&quot; + eElement.getAttribute(&quot;OrderNo&quot;));\r\n            }\r\n          }\r\n        } catch (XPathExpressionException e) {\r\n          e.printStackTrace();\r\n        }\r\n\r\n      } catch (ParserConfigurationException | SAXException | IOException e) {\r\n        e.printStackTrace();\r\n      }\r\n\r\n    }","title":"Parse an XML string in java","body":"<p>Try something like that.</p>\n\n<pre><code>public static void main(String[] args) {\n  DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\n  factory.setNamespaceAware(true);\n  DocumentBuilder builder;\n  Document doc = null;\n  try {\n    builder = factory.newDocumentBuilder();\n    doc = builder.parse(\"C:/shipment.xml\");\n    XPathFactory xpathFactory = XPathFactory.newInstance();\n    XPath xpath = xpathFactory.newXPath();\n\n    try {\n      XPathExpression expr = xpath.compile(\"/ShipmentList/Shipment/ShipmentLines/ShipmentLine\");\n      NodeList nodes = (NodeList) expr.evaluate(doc, XPathConstants.NODESET);\n      for (int i = 0; i &lt; nodes.getLength(); i++) {\n        Node nNode = nodes.item(i);\n        System.out.println(\"\\nCurrent Element :\" + nNode.getNodeName());\n        if (nNode.getNodeType() == Node.ELEMENT_NODE) {\n          Element eElement = (Element) nNode;\n          System.out.println(\"OrderNo :\" + eElement.getAttribute(\"OrderNo\"));\n        }\n      }\n    } catch (XPathExpressionException e) {\n      e.printStackTrace();\n    }\n\n  } catch (ParserConfigurationException | SAXException | IOException e) {\n    e.printStackTrace();\n  }\n\n}\n</code></pre>\n"}],"owner":{"account_id":11062592,"reputation":17,"user_id":8123283,"display_name":"Rajgauri Khemnar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9478,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":3,"score":-1,"last_activity_date":1675776981,"creation_date":1531157785,"question_id":51251161,"body_markdown":"I am trying to parse the following string to obtain the `orderNo`\r\n\r\n```java\r\nString requestBody=&quot;&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;&lt;ShipmentList&gt;&lt;Shipment ActualShipmentDate=&quot;2018-06-26T11:25:00+05:30&quot; DocumentType=&quot;0005&quot; TotalWeight=&quot;55.5&quot; TotalWeightUOM=&quot;LB&quot; TrackingNo=&quot;9461236897846412938163&quot;&gt;&lt;ShipmentLines&gt;&lt;ShipmentLine OrderNo=&quot;1529904772887&quot; PrimeLineNo=&quot;1&quot; Quantity=&quot;3&quot; SubLineNo=&quot;1&quot;/&gt;&lt;ShipmentLine OrderNo=&quot;1529904772887&quot; PrimeLineNo=&quot;2&quot; Quantity=&quot;3&quot; SubLineNo=&quot;1&quot;/&gt;&lt;ShipmentLine OrderNo=&quot;1529904772887&quot; PrimeLineNo=&quot;3&quot; Quantity=&quot;3&quot; SubLineNo=&quot;1&quot;/&gt;&lt;ShipmentLine OrderNo=&quot;1529904772887&quot; PrimeLineNo=&quot;4&quot; Quantity=&quot;3&quot; SubLineNo=&quot;1&quot;/&gt;&lt;ShipmentLine OrderNo=&quot;1529904772887&quot; PrimeLineNo=&quot;5&quot; Quantity=&quot;3&quot; SubLineNo=&quot;1&quot;/&gt;&lt;/ShipmentLines&gt;&lt;Extn ExtnPackageASN=&quot;55538770655551006451&quot; ExtnPackageID=&quot;6247442951596360944&quot; ExtnPackLength=&quot;25.0&quot; ExtnLengthUOM=&quot;IN&quot; ExtnPackWidth=&quot;20.0&quot; ExtnWidthUOM=&quot;IN&quot; ExtnPackHeight=&quot;16.0&quot; ExtnHeightUOM=&quot;IN&quot; ExtnCarrierMethodId=&quot;83&quot;/&gt;&lt;/Shipment&gt;&lt;/ShipmentList&gt;&quot;;\r\n\r\nNodeList nl = null;\r\ntry {\r\n    DocumentBuilderFactory domFactory = DocumentBuilderFactory.newInstance();\r\n    DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\r\n    DocumentBuilder builder = factory.newDocumentBuilder();\r\n    Document doc = builder.parse(requestBody);\r\n    XPathFactory xPathfactory = XPathFactory.newInstance();\r\n    XPath xpath = xPathfactory.newXPath();\r\n    XPathExpression expr = xpath.compile(&quot;//ShipmentList/Shipment/ShipmentLines/ShipmentLine[@OrderNo]&quot;);\r\n    nl = (NodeList) expr.evaluate(doc, XPathConstants.NODESET);\r\n} catch (XPathExpressionException e1) {\r\n    // TODO Auto-generated catch block\r\n    e1.printStackTrace();\r\n} catch (ParserConfigurationException e1) {\r\n    // TODO Auto-generated catch block\r\n    e1.printStackTrace();\r\n} catch (SAXException e1) {\r\n    // TODO Auto-generated catch block\r\n    e1.printStackTrace();\r\n} catch (IOException e1) {\r\n    // TODO Auto-generated catch block\r\n    e1.printStackTrace();\r\n}\r\n```\r\n\r\nI have tried using the above code snippet but it isn&#39;t helping.\r\n Can someone let me know what&#39;s the mistake?\r\n","title":"Parse an XML string in java","body":"<p>I am trying to parse the following string to obtain the <code>orderNo</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>String requestBody=&quot;&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;&lt;ShipmentList&gt;&lt;Shipment ActualShipmentDate=&quot;2018-06-26T11:25:00+05:30&quot; DocumentType=&quot;0005&quot; TotalWeight=&quot;55.5&quot; TotalWeightUOM=&quot;LB&quot; TrackingNo=&quot;9461236897846412938163&quot;&gt;&lt;ShipmentLines&gt;&lt;ShipmentLine OrderNo=&quot;1529904772887&quot; PrimeLineNo=&quot;1&quot; Quantity=&quot;3&quot; SubLineNo=&quot;1&quot;/&gt;&lt;ShipmentLine OrderNo=&quot;1529904772887&quot; PrimeLineNo=&quot;2&quot; Quantity=&quot;3&quot; SubLineNo=&quot;1&quot;/&gt;&lt;ShipmentLine OrderNo=&quot;1529904772887&quot; PrimeLineNo=&quot;3&quot; Quantity=&quot;3&quot; SubLineNo=&quot;1&quot;/&gt;&lt;ShipmentLine OrderNo=&quot;1529904772887&quot; PrimeLineNo=&quot;4&quot; Quantity=&quot;3&quot; SubLineNo=&quot;1&quot;/&gt;&lt;ShipmentLine OrderNo=&quot;1529904772887&quot; PrimeLineNo=&quot;5&quot; Quantity=&quot;3&quot; SubLineNo=&quot;1&quot;/&gt;&lt;/ShipmentLines&gt;&lt;Extn ExtnPackageASN=&quot;55538770655551006451&quot; ExtnPackageID=&quot;6247442951596360944&quot; ExtnPackLength=&quot;25.0&quot; ExtnLengthUOM=&quot;IN&quot; ExtnPackWidth=&quot;20.0&quot; ExtnWidthUOM=&quot;IN&quot; ExtnPackHeight=&quot;16.0&quot; ExtnHeightUOM=&quot;IN&quot; ExtnCarrierMethodId=&quot;83&quot;/&gt;&lt;/Shipment&gt;&lt;/ShipmentList&gt;&quot;;\n\nNodeList nl = null;\ntry {\n    DocumentBuilderFactory domFactory = DocumentBuilderFactory.newInstance();\n    DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\n    DocumentBuilder builder = factory.newDocumentBuilder();\n    Document doc = builder.parse(requestBody);\n    XPathFactory xPathfactory = XPathFactory.newInstance();\n    XPath xpath = xPathfactory.newXPath();\n    XPathExpression expr = xpath.compile(&quot;//ShipmentList/Shipment/ShipmentLines/ShipmentLine[@OrderNo]&quot;);\n    nl = (NodeList) expr.evaluate(doc, XPathConstants.NODESET);\n} catch (XPathExpressionException e1) {\n    // TODO Auto-generated catch block\n    e1.printStackTrace();\n} catch (ParserConfigurationException e1) {\n    // TODO Auto-generated catch block\n    e1.printStackTrace();\n} catch (SAXException e1) {\n    // TODO Auto-generated catch block\n    e1.printStackTrace();\n} catch (IOException e1) {\n    // TODO Auto-generated catch block\n    e1.printStackTrace();\n}\n</code></pre>\n<p>I have tried using the above code snippet but it isn't helping.\nCan someone let me know what's the mistake?</p>\n"},{"tags":["java","android","android-studio"],"owner":{"account_id":24108581,"reputation":1,"user_id":18079441,"display_name":"ZEESHAN"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675776878,"creation_date":1675775366,"question_id":75373840,"body_markdown":"I Installed Build Tools revision 30.0.3 but i gives me error that it is corrupted and asks me to reinstalled SDK manager . How to fix this?","title":"I Installed Build Tools revision 30.0.3 but i gives me error that it is corrupted and asks me to reinstalled SDK manager . How to fix?","body":"<p>I Installed Build Tools revision 30.0.3 but i gives me error that it is corrupted and asks me to reinstalled SDK manager . How to fix this?</p>\n"},{"tags":["python","java","optaplanner","optapy"],"answers":[{"tags":[],"owner":{"account_id":13441459,"reputation":1433,"user_id":9698517,"display_name":"Christopher Chianelli"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675694402,"creation_date":1675694402,"answer_id":75362756,"question_id":75359455,"body_markdown":"This is a bug with OptaPy (see https://github.com/optapy/optapy/issues/146). In particular, it seems to be caused when translating an `enum.Enum` class (which is caused because Availability has type annotation for AvailabilityType, an enum). Removing the type annotation might fix the issue (since then `AvailabilityType` will not be translated until solving, which is more forgiving (since the translation results in an error, it will be translated as a pointer to a `CPython` class)). Will update this answer when the issue is fixed.","title":"Optapy domain definitions help. Getting error: java.lang.VerifyError: Bad type on operand stack","body":"<p>This is a bug with OptaPy (see <a href=\"https://github.com/optapy/optapy/issues/146\" rel=\"nofollow noreferrer\">https://github.com/optapy/optapy/issues/146</a>). In particular, it seems to be caused when translating an <code>enum.Enum</code> class (which is caused because Availability has type annotation for AvailabilityType, an enum). Removing the type annotation might fix the issue (since then <code>AvailabilityType</code> will not be translated until solving, which is more forgiving (since the translation results in an error, it will be translated as a pointer to a <code>CPython</code> class)). Will update this answer when the issue is fixed.</p>\n"},{"tags":[],"owner":{"account_id":14295689,"reputation":83,"user_id":11993796,"display_name":"Andrew M"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675776877,"creation_date":1675776877,"answer_id":75374108,"question_id":75359455,"body_markdown":"Updating from Python 3.9.0 to 3.11.1 solved the issue for me.","title":"Optapy domain definitions help. Getting error: java.lang.VerifyError: Bad type on operand stack","body":"<p>Updating from Python 3.9.0 to 3.11.1 solved the issue for me.</p>\n"}],"owner":{"account_id":14295689,"reputation":83,"user_id":11993796,"display_name":"Andrew M"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1675776877,"creation_date":1675675644,"question_id":75359455,"body_markdown":"I am trying to write a pilot rostering project, where pilots and copilots need to be assigned to flights (&quot;Duty&quot;). I&#39;m using python because there are existing python investments at the client.\r\n\r\nI&#39;m basing this POC off of the [optapy Employee Scheduling quickstart.](https://github.com/optapy/optapy-quickstarts/tree/stable/employee-scheduling)\r\n\r\nThe code is crashing in my `domain.py`, while trying to init my Availability class.\r\nSpecifically, in the `@optapy.problem_fact` decorator wrapping it. `optapy\\annotations.py, line 585`\r\n\r\n\r\n```\r\nFile &quot;C:\\Users\\andre\\AppData\\Local\\Programs\\Python\\Python39\\Lib\\site-packages\\PythonClassTranslator.java&quot;, line 292, in org.optaplanner.jpyinterpreter.PythonClassTranslator.translatePythonClass\r\nException: Java Exception\r\n\r\nThe above exception was the direct cause of the following exception:\r\n\r\n  File &quot;C:\\Users\\andre\\AppData\\Local\\Programs\\Python\\Python39\\Lib\\site-packages\\jpyinterpreter\\python_to_java_bytecode_translator.py&quot;, line 1220, in translate_python_class_to_java_class\r\n    out = PythonClassTranslator.translatePythonClass(python_compiled_class)\r\n  File &quot;C:\\Users\\andre\\AppData\\Local\\Programs\\Python\\Python39\\Lib\\site-packages\\jpyinterpreter\\python_to_java_bytecode_translator.py&quot;, line 422, in convert_to_java_python_like_object\r\n    out = translate_python_class_to_java_class(raw_type)\r\n  File &quot;C:\\Users\\andre\\AppData\\Local\\Programs\\Python\\Python39\\Lib\\site-packages\\jpyinterpreter\\python_to_java_bytecode_translator.py&quot;, line 399, in convert_to_java_python_like_object\r\n    convert_to_java_python_like_object(map_value, instance_map))\r\n  File &quot;C:\\Users\\andre\\AppData\\Local\\Programs\\Python\\Python39\\Lib\\site-packages\\jpyinterpreter\\python_to_java_bytecode_translator.py&quot;, line 1193, in translate_python_class_to_java_class\r\n    static_attributes_map.put(attribute[0], convert_to_java_python_like_object(attribute[1]))\r\n  File &quot;C:\\Users\\andre\\AppData\\Local\\Programs\\Python\\Python39\\Lib\\site-packages\\optapy\\optaplanner_java_interop.py&quot;, line 1050, in compile_and_get_class\r\n    parent_class = translate_python_class_to_java_class(python_class).getJavaClass()\r\n  File &quot;C:\\Users\\andre\\AppData\\Local\\Programs\\Python\\Python39\\Lib\\site-packages\\optapy\\optaplanner_java_interop.py&quot;, line 1063, in _generate_problem_fact_class\r\n    parent_class = compile_and_get_class(python_class)\r\n  File &quot;C:\\Users\\andre\\AppData\\Local\\Programs\\Python\\Python39\\Lib\\site-packages\\optapy\\annotations.py&quot;, line 585, in problem_fact\r\n    out.__optapy_java_class = _generate_problem_fact_class(fact_class)\r\n  File &quot;C:\\Users\\andre\\Desktop\\Pilot Rosterer 3000\\domain.py&quot;, line 131, in &lt;module&gt;\r\n    class Availability:\r\n```\r\n\r\nThe error is as following:\r\n```\r\nException has occurred: java.lang.VerifyError       (note: full exception trace is shown but execution is paused at: _run_module_as_main)\r\njava.lang.VerifyError: Bad type on operand stack\r\nException Details:\r\n  Location:\r\n    org/jpyinterpreter/user/enum/Enum/__new__$$2.invoke(Lorg/jpyinterpreter/user/domain/AvailabilityType;Lorg/optaplanner/jpyinterpreter/PythonLikeObject;)Lorg/optaplanner/jpyinterpreter/PythonLikeObject; @897: invokestatic\r\n  Reason:\r\n    Type &#39;org/optaplanner/jpyinterpreter/PythonLikeObject&#39; (current frame, stack[1]) is not assignable to &#39;org/optaplanner/jpyinterpreter/types/PythonLikeType&#39;\r\n  Current Frame:\r\n    bci: @897\r\n    flags: { }\r\n    locals: { &#39;org/jpyinterpreter/user/enum/Enum/__new__$$2&#39;, &#39;org/jpyinterpreter/user/domain/AvailabilityType&#39;, &#39;org/optaplanner/jpyinterpreter/PythonLikeObject&#39;, &#39;org/jpyinterpreter/user/domain/AvailabilityType&#39;, &#39;org/optaplanner/jpyinterpreter/PythonLikeObject&#39;, top, &#39;org/optaplanner/jpyinterpreter/types/PythonNone&#39;, top, top, top, null, &#39;org/optaplanner/jpyinterpreter/types/collections/PythonLikeTuple&#39;, top, top, top, top, top, &#39;java/lang/Object&#39;, &#39;org/optaplanner/jpyinterpreter/PythonLikeObject&#39; }\r\n    stack: { &#39;org/optaplanner/jpyinterpreter/PythonLikeObject&#39;, &#39;org/optaplanner/jpyinterpreter/PythonLikeObject&#39;, &#39;org/optaplanner/jpyinterpreter/PythonLikeObject&#39; }\r\n  Bytecode:\r\n    0000000: b200 5a3a 0b2b 4e2c 3a04 2ac0 0002 b400\r\n    ... ... ...\r\n```\r\n\r\ndomain.py\r\n```\r\nimport optapy\r\nimport optapy.types\r\nimport optapy.score\r\nimport datetime\r\nimport enum\r\n\r\nclass Route:\r\n    name: str\r\n    duration: int\r\n    base: str\r\n\r\n    def __init__(self, name: str = None, duration: int = None, base: str = None):\r\n        self.name = name\r\n        self.duration = duration\r\n        self.base = base\r\n\r\nclass AvailabilityType(enum.Enum):\r\n    DESIRED = &#39;DESIRED&#39;\r\n    UNDESIRED = &#39;UNDESIRED&#39;\r\n    UNAVAILABLE = &#39;UNAVAILABLE&#39;\r\n\r\n    @staticmethod\r\n    def list():\r\n        return list(map(lambda at: at, AvailabilityType))\r\n\r\n\r\n@optapy.problem_fact\r\nclass Pilot:\r\n    name: str\r\n    skill_set: list[str]\r\n    home_base: str\r\n    duties: list # list[Duty]\r\n\r\n    def __init__(self, name: str = None, skill_set: list[str] = None, home_base: str = None, duties: list = None):\r\n        self.name = name\r\n        self.skill_set = skill_set\r\n        self.home_base = home_base\r\n        if duties is None:\r\n            self.duties = []\r\n        else:\r\n            self.duties = duties\r\n\r\n    def get_total_hours(self): # flight hours\r\n        dt = datetime.timedelta()\r\n        for duty in self.duties:\r\n            if duty.work_type != &quot;Flying&quot;: continue # skip non-flight duties\r\n            dt += duty.end - duty.start\r\n        return dt.seconds/3600 + dt.days*24\r\n\r\n    def get_todays_hours(self, date: datetime.date):\r\n        dt = datetime.timedelta()\r\n        for duty in self.duties:\r\n            if duty.work_type != &quot;Flying&quot;: continue # skip non-flight duties\r\n            if duty.start.date() != date: continue # skip duties from other days\r\n            dt += duty.end - duty.start         # not taking into account flights over midnight. TODO: fix\r\n        return dt.seconds/3600 + dt.days*24\r\n\r\n    def get_total_overtime_hours(self):\r\n        days = dict()\r\n        for duty in self.duties:\r\n            if duty.work_type != &quot;Flying&quot;: continue # skip non-flight duties\r\n            day = duty.start.date()\r\n            days[day] = days.get(day, datetime.timedelta()) + duty.end - duty.start\r\n\r\n        total_overtime = datetime.timedelta()\r\n        MAX_FLIGHT_HOURS_ALLOWED = datetime.timedelta(hours=10)\r\n        for day in days:\r\n            if day &gt; MAX_FLIGHT_HOURS_ALLOWED:\r\n                total_overtime += day - MAX_FLIGHT_HOURS_ALLOWED\r\n        return total_overtime.seconds/3600 + total_overtime.days*24\r\n\r\n    def __str__(self):\r\n        return f&#39;Pilot(name={self.name})&#39;\r\n\r\n    def to_dict(self):\r\n        return {\r\n            &#39;name&#39;: self.name,\r\n            &#39;skill_set&#39;: self.skill_set,\r\n            &#39;home_base&#39;: self.home_base,\r\n            &#39;duties&#39;: self.duties\r\n        }\r\n\r\n\r\ndef duty_pinning_filter(solution, duty):\r\n    return not solution.schedule_state.is_draft(duty)\r\n\r\n\r\n@optapy.planning_entity(pinning_filter=duty_pinning_filter)\r\n@optapy.planning_pin\r\nclass Duty:\r\n    id: int\r\n    start: datetime.datetime\r\n    end: datetime.datetime\r\n    work_type: str\r\n    detail: str\r\n    required_skill: str\r\n    pilot: Pilot\r\n    # coPilot: Pilot # REMOVED: No longer complicating duties with 2 pilots, rather just creating seperate pilot duties and copilot duties for each route. This allows us to model duties other than flights\r\n    bases: list[str] # locaiotn(s) from which the duty can be performed\r\n\r\n    def __init__(self, id: int = None, start: datetime.datetime = None, end: datetime.datetime = None, work_type: str = None, detail: str = None, required_skill: str = None, pilot: Pilot = None, bases: list[str] = None):\r\n        self.id = id\r\n        self.start = start\r\n        self.end = end\r\n        self.work_type = work_type\r\n        self.detail = detail\r\n        self.required_skill = required_skill\r\n        self.pilot = pilot\r\n        self.bases = bases\r\n\r\n    @optapy.planning_id\r\n    def get_id(self):\r\n        return self.id\r\n\r\n    def __str__(self):\r\n        return f&#39;Duty:{self.id}\\t | {self.work_type}, detail={self.detail}, pilot={self.pilot}, start={self.start}, end={self.end}, required_skill={self.required_skill}, bases={self.bases})&#39;\r\n\r\n    def to_dict(self):\r\n        return {\r\n            &#39;id&#39;: self.id,\r\n            &#39;work_type&#39;: self.work_type,\r\n            &#39;start&#39;: self.start.isoformat(),\r\n            &#39;end&#39;: self.end.isoformat(),\r\n            &#39;detail&#39;: self.detail,\r\n            &#39;required_skill&#39;: self.required_skill,\r\n            &#39;pilot&#39;: self.pilot.to_dict() if self.pilot is not None else None,\r\n            &#39;bases&#39;: self.bases\r\n        }\r\n\r\n# ============================================================================================\r\n# This is to get around the circular reference problem.\r\n# The optapy decorators cannot refence Duty/Pilot before the classes are instantiated,\r\n# but the classes rely on eachother being instantiated first before they can instatiated\r\n# themselves. Hence the circular reference issue.\r\n@optapy.planning_list_variable(Duty, [&#39;duties_list&#39;])\r\ndef get_duties(self):\r\n    return self.duties\r\n\r\ndef set_duties(self, duties):\r\n    self.duties = duties\r\n\r\n@optapy.planning_variable(Pilot, value_range_provider_refs=[&#39;pilot_range&#39;])\r\ndef get_pilot(self):\r\n    return self.pilot\r\n\r\ndef set_pilot(self, pilot):\r\n    self.pilot = pilot\r\n\r\nPilot.get_duties = get_duties\r\nPilot.set_duties = set_duties\r\n\r\nDuty.get_pilot = get_pilot\r\nDuty.set_pilot = set_pilot\r\n# ============================================================================================\r\n\r\n@optapy.problem_fact\r\nclass Availability:\r\n    pilot: Pilot\r\n    date: datetime.date\r\n    availability_type: AvailabilityType\r\n\r\n    def __init__(self, pilot: Pilot = None, date: datetime.date = None, availability_type: AvailabilityType = None):\r\n        self.pilot = pilot\r\n        self.date = date\r\n        self.availability_type = availability_type\r\n\r\n    def __str__(self):\r\n        return f&#39;Availability(pilot={self.pilot}, date={self.date}, availability_type={self.availability_type})&#39;\r\n\r\n    def to_dict(self):\r\n        return {\r\n            &#39;pilot&#39;: self.pilot.to_dict(),\r\n            &#39;date&#39;: self.date.isoformat(),\r\n            &#39;availability_type&#39;: self.availability_type.value\r\n        }\r\n\r\n\r\nclass ScheduleState:\r\n    publish_length: int\r\n    draft_length: int\r\n    first_draft_date: datetime.date\r\n    last_historic_date: datetime.date\r\n\r\n    def __init__(self, publish_length: int = None, draft_length: int = None, first_draft_date: datetime.date = None, last_historic_date: datetime.date = None):\r\n        self.publish_length = publish_length\r\n        self.draft_length = draft_length\r\n        self.first_draft_date = first_draft_date\r\n        self.last_historic_date = last_historic_date\r\n\r\n    def is_draft(self, duty):\r\n        return duty.start &gt;= datetime.datetime.combine(self.first_draft_date, datetime.time.min)\r\n\r\n    def to_dict(self):\r\n        return {\r\n            &#39;publish_length&#39;: self.publish_length,\r\n            &#39;draft_length&#39;: self.draft_length,\r\n            &#39;first_draft_date&#39;: self.first_draft_date.isoformat(),\r\n            &#39;last_historic_date&#39;: self.last_historic_date.isoformat()\r\n        }\r\n\r\n\r\n@optapy.planning_solution\r\nclass PilotSchedule:\r\n    schedule_state: ScheduleState\r\n    availability_list: list[Availability]\r\n    pilot_list: list[Pilot]\r\n    duty_list: list[Duty]\r\n    solver_status: optapy.types.SolverStatus\r\n    score: optapy.score.SimpleScore\r\n\r\n    def __init__(self, schedule_state, availability_list, pilot_list, duty_list, solver_status, score=None):\r\n        self.pilot_list = pilot_list\r\n        self.availability_list = availability_list\r\n        self.schedule_state = schedule_state\r\n        self.duty_list = duty_list\r\n        self.solver_status = solver_status\r\n        self.score = score\r\n\r\n    @optapy.problem_fact_collection_property(Pilot)\r\n    @optapy.value_range_provider(&#39;pilot_range&#39;)\r\n    def get_pilot_list(self):\r\n        return self.pilot_list\r\n\r\n    @optapy.problem_fact_collection_property(Availability)\r\n    def get_availability_list(self):\r\n        return self.availability_list\r\n\r\n    @optapy.planning_entity_collection_property(Duty)\r\n    def get_duty_list(self):\r\n        return self.duty_list\r\n\r\n    @optapy.planning_score(optapy.score.HardSoftScore)\r\n    def get_score(self):\r\n        return self.score\r\n\r\n    def set_score(self, score):\r\n        self.score = score\r\n\r\n    def to_dict(self):\r\n        return {\r\n            &#39;pilot_list&#39;: list(map(lambda pilot: pilot.to_dict(), self.pilot_list)),\r\n            &#39;availability_list&#39;: list(map(lambda availability: availability.to_dict(), self.availability_list)),\r\n            &#39;schedule_state&#39;: self.schedule_state.to_dict(),\r\n            &#39;duty_list&#39;: list(map(lambda duty: duty.to_dict(), self.duty_list)),\r\n            &#39;solver_status&#39;: self.solver_status.toString(),\r\n            &#39;score&#39;: self.score.toString(),\r\n        }\r\n```","title":"Optapy domain definitions help. Getting error: java.lang.VerifyError: Bad type on operand stack","body":"<p>I am trying to write a pilot rostering project, where pilots and copilots need to be assigned to flights (&quot;Duty&quot;). I'm using python because there are existing python investments at the client.</p>\n<p>I'm basing this POC off of the <a href=\"https://github.com/optapy/optapy-quickstarts/tree/stable/employee-scheduling\" rel=\"nofollow noreferrer\">optapy Employee Scheduling quickstart.</a></p>\n<p>The code is crashing in my <code>domain.py</code>, while trying to init my Availability class.\nSpecifically, in the <code>@optapy.problem_fact</code> decorator wrapping it. <code>optapy\\annotations.py, line 585</code></p>\n<pre><code>File &quot;C:\\Users\\andre\\AppData\\Local\\Programs\\Python\\Python39\\Lib\\site-packages\\PythonClassTranslator.java&quot;, line 292, in org.optaplanner.jpyinterpreter.PythonClassTranslator.translatePythonClass\nException: Java Exception\n\nThe above exception was the direct cause of the following exception:\n\n  File &quot;C:\\Users\\andre\\AppData\\Local\\Programs\\Python\\Python39\\Lib\\site-packages\\jpyinterpreter\\python_to_java_bytecode_translator.py&quot;, line 1220, in translate_python_class_to_java_class\n    out = PythonClassTranslator.translatePythonClass(python_compiled_class)\n  File &quot;C:\\Users\\andre\\AppData\\Local\\Programs\\Python\\Python39\\Lib\\site-packages\\jpyinterpreter\\python_to_java_bytecode_translator.py&quot;, line 422, in convert_to_java_python_like_object\n    out = translate_python_class_to_java_class(raw_type)\n  File &quot;C:\\Users\\andre\\AppData\\Local\\Programs\\Python\\Python39\\Lib\\site-packages\\jpyinterpreter\\python_to_java_bytecode_translator.py&quot;, line 399, in convert_to_java_python_like_object\n    convert_to_java_python_like_object(map_value, instance_map))\n  File &quot;C:\\Users\\andre\\AppData\\Local\\Programs\\Python\\Python39\\Lib\\site-packages\\jpyinterpreter\\python_to_java_bytecode_translator.py&quot;, line 1193, in translate_python_class_to_java_class\n    static_attributes_map.put(attribute[0], convert_to_java_python_like_object(attribute[1]))\n  File &quot;C:\\Users\\andre\\AppData\\Local\\Programs\\Python\\Python39\\Lib\\site-packages\\optapy\\optaplanner_java_interop.py&quot;, line 1050, in compile_and_get_class\n    parent_class = translate_python_class_to_java_class(python_class).getJavaClass()\n  File &quot;C:\\Users\\andre\\AppData\\Local\\Programs\\Python\\Python39\\Lib\\site-packages\\optapy\\optaplanner_java_interop.py&quot;, line 1063, in _generate_problem_fact_class\n    parent_class = compile_and_get_class(python_class)\n  File &quot;C:\\Users\\andre\\AppData\\Local\\Programs\\Python\\Python39\\Lib\\site-packages\\optapy\\annotations.py&quot;, line 585, in problem_fact\n    out.__optapy_java_class = _generate_problem_fact_class(fact_class)\n  File &quot;C:\\Users\\andre\\Desktop\\Pilot Rosterer 3000\\domain.py&quot;, line 131, in &lt;module&gt;\n    class Availability:\n</code></pre>\n<p>The error is as following:</p>\n<pre><code>Exception has occurred: java.lang.VerifyError       (note: full exception trace is shown but execution is paused at: _run_module_as_main)\njava.lang.VerifyError: Bad type on operand stack\nException Details:\n  Location:\n    org/jpyinterpreter/user/enum/Enum/__new__$$2.invoke(Lorg/jpyinterpreter/user/domain/AvailabilityType;Lorg/optaplanner/jpyinterpreter/PythonLikeObject;)Lorg/optaplanner/jpyinterpreter/PythonLikeObject; @897: invokestatic\n  Reason:\n    Type 'org/optaplanner/jpyinterpreter/PythonLikeObject' (current frame, stack[1]) is not assignable to 'org/optaplanner/jpyinterpreter/types/PythonLikeType'\n  Current Frame:\n    bci: @897\n    flags: { }\n    locals: { 'org/jpyinterpreter/user/enum/Enum/__new__$$2', 'org/jpyinterpreter/user/domain/AvailabilityType', 'org/optaplanner/jpyinterpreter/PythonLikeObject', 'org/jpyinterpreter/user/domain/AvailabilityType', 'org/optaplanner/jpyinterpreter/PythonLikeObject', top, 'org/optaplanner/jpyinterpreter/types/PythonNone', top, top, top, null, 'org/optaplanner/jpyinterpreter/types/collections/PythonLikeTuple', top, top, top, top, top, 'java/lang/Object', 'org/optaplanner/jpyinterpreter/PythonLikeObject' }\n    stack: { 'org/optaplanner/jpyinterpreter/PythonLikeObject', 'org/optaplanner/jpyinterpreter/PythonLikeObject', 'org/optaplanner/jpyinterpreter/PythonLikeObject' }\n  Bytecode:\n    0000000: b200 5a3a 0b2b 4e2c 3a04 2ac0 0002 b400\n    ... ... ...\n</code></pre>\n<p>domain.py</p>\n<pre><code>import optapy\nimport optapy.types\nimport optapy.score\nimport datetime\nimport enum\n\nclass Route:\n    name: str\n    duration: int\n    base: str\n\n    def __init__(self, name: str = None, duration: int = None, base: str = None):\n        self.name = name\n        self.duration = duration\n        self.base = base\n\nclass AvailabilityType(enum.Enum):\n    DESIRED = 'DESIRED'\n    UNDESIRED = 'UNDESIRED'\n    UNAVAILABLE = 'UNAVAILABLE'\n\n    @staticmethod\n    def list():\n        return list(map(lambda at: at, AvailabilityType))\n\n\n@optapy.problem_fact\nclass Pilot:\n    name: str\n    skill_set: list[str]\n    home_base: str\n    duties: list # list[Duty]\n\n    def __init__(self, name: str = None, skill_set: list[str] = None, home_base: str = None, duties: list = None):\n        self.name = name\n        self.skill_set = skill_set\n        self.home_base = home_base\n        if duties is None:\n            self.duties = []\n        else:\n            self.duties = duties\n\n    def get_total_hours(self): # flight hours\n        dt = datetime.timedelta()\n        for duty in self.duties:\n            if duty.work_type != &quot;Flying&quot;: continue # skip non-flight duties\n            dt += duty.end - duty.start\n        return dt.seconds/3600 + dt.days*24\n\n    def get_todays_hours(self, date: datetime.date):\n        dt = datetime.timedelta()\n        for duty in self.duties:\n            if duty.work_type != &quot;Flying&quot;: continue # skip non-flight duties\n            if duty.start.date() != date: continue # skip duties from other days\n            dt += duty.end - duty.start         # not taking into account flights over midnight. TODO: fix\n        return dt.seconds/3600 + dt.days*24\n\n    def get_total_overtime_hours(self):\n        days = dict()\n        for duty in self.duties:\n            if duty.work_type != &quot;Flying&quot;: continue # skip non-flight duties\n            day = duty.start.date()\n            days[day] = days.get(day, datetime.timedelta()) + duty.end - duty.start\n\n        total_overtime = datetime.timedelta()\n        MAX_FLIGHT_HOURS_ALLOWED = datetime.timedelta(hours=10)\n        for day in days:\n            if day &gt; MAX_FLIGHT_HOURS_ALLOWED:\n                total_overtime += day - MAX_FLIGHT_HOURS_ALLOWED\n        return total_overtime.seconds/3600 + total_overtime.days*24\n\n    def __str__(self):\n        return f'Pilot(name={self.name})'\n\n    def to_dict(self):\n        return {\n            'name': self.name,\n            'skill_set': self.skill_set,\n            'home_base': self.home_base,\n            'duties': self.duties\n        }\n\n\ndef duty_pinning_filter(solution, duty):\n    return not solution.schedule_state.is_draft(duty)\n\n\n@optapy.planning_entity(pinning_filter=duty_pinning_filter)\n@optapy.planning_pin\nclass Duty:\n    id: int\n    start: datetime.datetime\n    end: datetime.datetime\n    work_type: str\n    detail: str\n    required_skill: str\n    pilot: Pilot\n    # coPilot: Pilot # REMOVED: No longer complicating duties with 2 pilots, rather just creating seperate pilot duties and copilot duties for each route. This allows us to model duties other than flights\n    bases: list[str] # locaiotn(s) from which the duty can be performed\n\n    def __init__(self, id: int = None, start: datetime.datetime = None, end: datetime.datetime = None, work_type: str = None, detail: str = None, required_skill: str = None, pilot: Pilot = None, bases: list[str] = None):\n        self.id = id\n        self.start = start\n        self.end = end\n        self.work_type = work_type\n        self.detail = detail\n        self.required_skill = required_skill\n        self.pilot = pilot\n        self.bases = bases\n\n    @optapy.planning_id\n    def get_id(self):\n        return self.id\n\n    def __str__(self):\n        return f'Duty:{self.id}\\t | {self.work_type}, detail={self.detail}, pilot={self.pilot}, start={self.start}, end={self.end}, required_skill={self.required_skill}, bases={self.bases})'\n\n    def to_dict(self):\n        return {\n            'id': self.id,\n            'work_type': self.work_type,\n            'start': self.start.isoformat(),\n            'end': self.end.isoformat(),\n            'detail': self.detail,\n            'required_skill': self.required_skill,\n            'pilot': self.pilot.to_dict() if self.pilot is not None else None,\n            'bases': self.bases\n        }\n\n# ============================================================================================\n# This is to get around the circular reference problem.\n# The optapy decorators cannot refence Duty/Pilot before the classes are instantiated,\n# but the classes rely on eachother being instantiated first before they can instatiated\n# themselves. Hence the circular reference issue.\n@optapy.planning_list_variable(Duty, ['duties_list'])\ndef get_duties(self):\n    return self.duties\n\ndef set_duties(self, duties):\n    self.duties = duties\n\n@optapy.planning_variable(Pilot, value_range_provider_refs=['pilot_range'])\ndef get_pilot(self):\n    return self.pilot\n\ndef set_pilot(self, pilot):\n    self.pilot = pilot\n\nPilot.get_duties = get_duties\nPilot.set_duties = set_duties\n\nDuty.get_pilot = get_pilot\nDuty.set_pilot = set_pilot\n# ============================================================================================\n\n@optapy.problem_fact\nclass Availability:\n    pilot: Pilot\n    date: datetime.date\n    availability_type: AvailabilityType\n\n    def __init__(self, pilot: Pilot = None, date: datetime.date = None, availability_type: AvailabilityType = None):\n        self.pilot = pilot\n        self.date = date\n        self.availability_type = availability_type\n\n    def __str__(self):\n        return f'Availability(pilot={self.pilot}, date={self.date}, availability_type={self.availability_type})'\n\n    def to_dict(self):\n        return {\n            'pilot': self.pilot.to_dict(),\n            'date': self.date.isoformat(),\n            'availability_type': self.availability_type.value\n        }\n\n\nclass ScheduleState:\n    publish_length: int\n    draft_length: int\n    first_draft_date: datetime.date\n    last_historic_date: datetime.date\n\n    def __init__(self, publish_length: int = None, draft_length: int = None, first_draft_date: datetime.date = None, last_historic_date: datetime.date = None):\n        self.publish_length = publish_length\n        self.draft_length = draft_length\n        self.first_draft_date = first_draft_date\n        self.last_historic_date = last_historic_date\n\n    def is_draft(self, duty):\n        return duty.start &gt;= datetime.datetime.combine(self.first_draft_date, datetime.time.min)\n\n    def to_dict(self):\n        return {\n            'publish_length': self.publish_length,\n            'draft_length': self.draft_length,\n            'first_draft_date': self.first_draft_date.isoformat(),\n            'last_historic_date': self.last_historic_date.isoformat()\n        }\n\n\n@optapy.planning_solution\nclass PilotSchedule:\n    schedule_state: ScheduleState\n    availability_list: list[Availability]\n    pilot_list: list[Pilot]\n    duty_list: list[Duty]\n    solver_status: optapy.types.SolverStatus\n    score: optapy.score.SimpleScore\n\n    def __init__(self, schedule_state, availability_list, pilot_list, duty_list, solver_status, score=None):\n        self.pilot_list = pilot_list\n        self.availability_list = availability_list\n        self.schedule_state = schedule_state\n        self.duty_list = duty_list\n        self.solver_status = solver_status\n        self.score = score\n\n    @optapy.problem_fact_collection_property(Pilot)\n    @optapy.value_range_provider('pilot_range')\n    def get_pilot_list(self):\n        return self.pilot_list\n\n    @optapy.problem_fact_collection_property(Availability)\n    def get_availability_list(self):\n        return self.availability_list\n\n    @optapy.planning_entity_collection_property(Duty)\n    def get_duty_list(self):\n        return self.duty_list\n\n    @optapy.planning_score(optapy.score.HardSoftScore)\n    def get_score(self):\n        return self.score\n\n    def set_score(self, score):\n        self.score = score\n\n    def to_dict(self):\n        return {\n            'pilot_list': list(map(lambda pilot: pilot.to_dict(), self.pilot_list)),\n            'availability_list': list(map(lambda availability: availability.to_dict(), self.availability_list)),\n            'schedule_state': self.schedule_state.to_dict(),\n            'duty_list': list(map(lambda duty: duty.to_dict(), self.duty_list)),\n            'solver_status': self.solver_status.toString(),\n            'score': self.score.toString(),\n        }\n</code></pre>\n"},{"tags":["java","eclipse","installation","eclipse-plugin"],"answers":[{"tags":[],"owner":{"account_id":67148,"reputation":698,"user_id":443982,"accept_rate":100,"display_name":"Rune"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675776845,"creation_date":1675775510,"answer_id":75373869,"question_id":73623349,"body_markdown":"I had &quot;User Variable&quot; TEMP and TMP set to %userprofile%/AppData/Temp, and %userprofile% is my name, with a &quot; &quot; (space) in it...\r\n\r\nWhen I deleted TEMP and TMP from my &quot;User Variables&quot; Windows 11 reverted to my &quot;Environment Variables&quot; TEMP and TMP (C:\\WINDOWS\\TEMP) and the installation proceeded further...\r\n\r\nAnd after I set my user TEMP=C:\\TEMP it worked perfectly... again... like before someone came up with the idea of setting a %userprofile% with space in it.\r\n\r\n[![Without TEMP = %userprofile%\\AppData\\Temp][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Dh4Y7.png\r\n","title":"Setupluncher error: Failed to find main class in: plugins\\org.eclipse.equinox.launcher_1.6.200.v20210416-2027","body":"<p>I had &quot;User Variable&quot; TEMP and TMP set to %userprofile%/AppData/Temp, and %userprofile% is my name, with a &quot; &quot; (space) in it...</p>\n<p>When I deleted TEMP and TMP from my &quot;User Variables&quot; Windows 11 reverted to my &quot;Environment Variables&quot; TEMP and TMP (C:\\WINDOWS\\TEMP) and the installation proceeded further...</p>\n<p>And after I set my user TEMP=C:\\TEMP it worked perfectly... again... like before someone came up with the idea of setting a %userprofile% with space in it.</p>\n<p><a href=\"https://i.stack.imgur.com/Dh4Y7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Dh4Y7.png\" alt=\"Without TEMP = %userprofile%\\AppData\\Temp\" /></a></p>\n"}],"owner":{"account_id":26261053,"reputation":11,"user_id":19932364,"display_name":"Spring Angel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":164,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1675776845,"creation_date":1662472901,"question_id":73623349,"body_markdown":"I&#39;m trying to install an engineering program, but whenever I run setup.exe I&#39;m faced with the following  error:\r\n```\r\nFaild to find a main class in:C:\\Users\\Dr Malaeke\\AppData\\Local\\Temp\\comsolsetup.11488\\plugins\\org.eclipse.equinox.launcher_1.6.200.v20210416-2027\r\n```\r\nI updated my JDK and I defined path for it (The last version is deleted), which didn&#39;t work.\r\n\r\nNote : I don&#39;t have eclipse on my pc. ","title":"Setupluncher error: Failed to find main class in: plugins\\org.eclipse.equinox.launcher_1.6.200.v20210416-2027","body":"<p>I'm trying to install an engineering program, but whenever I run setup.exe I'm faced with the following  error:</p>\n<pre><code>Faild to find a main class in:C:\\Users\\Dr Malaeke\\AppData\\Local\\Temp\\comsolsetup.11488\\plugins\\org.eclipse.equinox.launcher_1.6.200.v20210416-2027\n</code></pre>\n<p>I updated my JDK and I defined path for it (The last version is deleted), which didn't work.</p>\n<p>Note : I don't have eclipse on my pc.</p>\n"},{"tags":["java","amazon-web-services","aws-lambda"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1652796598,"post_id":72272675,"comment_id":127689797,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":15151336,"reputation":100,"user_id":10933589,"display_name":"Gabriel Magalh&#227;es"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675776767,"creation_date":1653264409,"answer_id":72342096,"question_id":72272675,"body_markdown":"You need to create a custom HTTP by calling httpClient from your LambdaAsyncClient. Then all you have to do is add your custom settings like connection timeout acquisition (you can also add other customizations to increase throughput e.g, max concurrency, max connections).\r\n\r\nCheck here: [Interface NettyNioAsyncHttpClient.Builder][1]\r\n\r\n\r\nDo this\r\n\r\n    NettyNioAsyncHttpClient.Builder customHttp = NettyNioAsyncHttpClient.builder()\r\n    .connectionAcquisitionTimeout(Duration.ofMillies(20000);\r\n    \r\n    LambdaAsyncClient lambdaAsyncClient = LambdaAsyncClient.builder()\r\n    .region(region_lambda)\r\n    .httpClientBuilder(customHttp)\r\n    .build();\r\n\r\nIf that doesn&#39;t solve the problem, check if you&#39;re not overloading your lambda \r\nclient with multiple requests on so short a time\r\n\r\nAlso, import the netty-nio-client dependency\r\n\r\n    implementation &quot;software.amazon.awssdk:netty-nio-client&quot; \r\n\r\n\r\n  [1]: https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/http/nio/netty/NettyNioAsyncHttpClient.Builder.html","title":"Java CompletionException: software.amazon.awssdk.core.exception.SdkClientException: Acquire operation took longer than the configured maximum time","body":"<p>You need to create a custom HTTP by calling httpClient from your LambdaAsyncClient. Then all you have to do is add your custom settings like connection timeout acquisition (you can also add other customizations to increase throughput e.g, max concurrency, max connections).</p>\n<p>Check here: <a href=\"https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/http/nio/netty/NettyNioAsyncHttpClient.Builder.html\" rel=\"nofollow noreferrer\">Interface NettyNioAsyncHttpClient.Builder</a></p>\n<p>Do this</p>\n<pre><code>NettyNioAsyncHttpClient.Builder customHttp = NettyNioAsyncHttpClient.builder()\n.connectionAcquisitionTimeout(Duration.ofMillies(20000);\n\nLambdaAsyncClient lambdaAsyncClient = LambdaAsyncClient.builder()\n.region(region_lambda)\n.httpClientBuilder(customHttp)\n.build();\n</code></pre>\n<p>If that doesn't solve the problem, check if you're not overloading your lambda\nclient with multiple requests on so short a time</p>\n<p>Also, import the netty-nio-client dependency</p>\n<pre><code>implementation &quot;software.amazon.awssdk:netty-nio-client&quot; \n</code></pre>\n"}],"owner":{"account_id":25312750,"reputation":1,"user_id":19135291,"display_name":"Rineeth Saladi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3443,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675776767,"creation_date":1652784436,"question_id":72272675,"body_markdown":"Trying to make call to an aws lambda function but getting the following error:\r\n```\r\njava.util.concurrent.CompletionException: software.amazon.awssdk.core.exception.SdkClientException: Unable to execute HTTP request: Acquire operation took longer than the configured maximum time. This indicates that a request cannot get a connection from the pool within the specified maximum time. This can be due to high request rate.\r\nConsider taking any of the following actions to mitigate the issue: increase max connections, increase acquire timeout, or slowing the request rate.\r\n```\r\n\r\nUsing the awsasyncclient in aws sdk v2 java which invokes the lambda function\r\n\r\n```\r\nLambdaAsyncClient client = LambdaAsyncClient.builder().region(region_lambda).build();\r\n```\r\nHow to increase maximum connections or increase idle time? What can be done here?","title":"Java CompletionException: software.amazon.awssdk.core.exception.SdkClientException: Acquire operation took longer than the configured maximum time","body":"<p>Trying to make call to an aws lambda function but getting the following error:</p>\n<pre><code>java.util.concurrent.CompletionException: software.amazon.awssdk.core.exception.SdkClientException: Unable to execute HTTP request: Acquire operation took longer than the configured maximum time. This indicates that a request cannot get a connection from the pool within the specified maximum time. This can be due to high request rate.\nConsider taking any of the following actions to mitigate the issue: increase max connections, increase acquire timeout, or slowing the request rate.\n</code></pre>\n<p>Using the awsasyncclient in aws sdk v2 java which invokes the lambda function</p>\n<pre><code>LambdaAsyncClient client = LambdaAsyncClient.builder().region(region_lambda).build();\n</code></pre>\n<p>How to increase maximum connections or increase idle time? What can be done here?</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":395472,"reputation":12714,"user_id":758446,"accept_rate":93,"display_name":"BlackVegetable"},"score":11,"creation_date":1375459486,"post_id":18021435,"comment_id":26357205,"body_markdown":"Please explain *why* it doesn&#39;t work.  What error message did you get?","body":"Please explain <i>why</i> it doesn&#39;t work.  What error message did you get?"},{"owner":{"account_id":3128123,"reputation":115,"user_id":2646617,"display_name":"user2646617"},"score":0,"creation_date":1375459605,"post_id":18021435,"comment_id":26357276,"body_markdown":"@Override\n\tpublic String toString() {\n\t\treturn &quot;\\b&quot;+ &quot;\\&quot;&quot; + getFamilyName() + \n\t\t\t\t &quot;\\t&quot;+&quot;\\t&quot;+ &quot;\\t&quot;+ &quot;\\t&quot;+&quot;\\t&quot;+&quot;\\t&quot;+&quot;\\t&quot;+&quot;\\t&quot;+&quot;\\t&quot;+&quot;\\&quot;&quot; + getCountry();\n\t}","body":"@Override \tpublic String toString() { \t\treturn &quot;\\b&quot;+ &quot;\\&quot;&quot; + getFamilyName() +  \t\t\t\t &quot;\\t&quot;+&quot;\\t&quot;+ &quot;\\t&quot;+ &quot;\\t&quot;+&quot;\\t&quot;+&quot;\\t&quot;+&quot;\\t&quot;+&quot;\\t&quot;+&quot;\\t&quot;+&quot;\\&quot;&quot; + getCountry(); \t}"},{"owner":{"account_id":395472,"reputation":12714,"user_id":758446,"accept_rate":93,"display_name":"BlackVegetable"},"score":0,"creation_date":1375459657,"post_id":18021435,"comment_id":26357302,"body_markdown":"Try to give some additional context.  Show us the methods for getName() and getLastName().  It will be much easier for us to help if you edit your answer in that fashion.","body":"Try to give some additional context.  Show us the methods for getName() and getLastName().  It will be much easier for us to help if you edit your answer in that fashion."},{"owner":{"account_id":2071228,"reputation":4128,"user_id":1845671,"accept_rate":100,"display_name":"jsedano"},"score":2,"creation_date":1375459659,"post_id":18021435,"comment_id":26357305,"body_markdown":"where are you displaying it?, can you try to do a http://sscce.org/ ?","body":"where are you displaying it?, can you try to do a <a href=\"http://sscce.org/\" rel=\"nofollow noreferrer\">sscce.org</a> ?"},{"owner":{"account_id":2870830,"reputation":607,"user_id":2464234,"display_name":"Kevin"},"score":0,"creation_date":1375459851,"post_id":18021435,"comment_id":26357419,"body_markdown":"Made a simple Java application in Eclipse that prints OP&#39;s string to System.out.\n\nWorked perfectly. Not sure what &quot;doesn&#39;t work&quot; means, or what he/she&#39;s looking for.","body":"Made a simple Java application in Eclipse that prints OP&#39;s string to System.out.  Worked perfectly. Not sure what &quot;doesn&#39;t work&quot; means, or what he/she&#39;s looking for."},{"owner":{"account_id":3128123,"reputation":115,"user_id":2646617,"display_name":"user2646617"},"score":0,"creation_date":1375459894,"post_id":18021435,"comment_id":26357446,"body_markdown":"@Override\n\tpublic String toString() {\n\t\treturn &quot;\\b&quot;+ &quot;\\&quot;&quot; + getFamilyName() + \n\t\t\t\t &quot;\\t&quot;+&quot;\\t&quot;+ &quot;\\t&quot;+ &quot;\\t&quot;+&quot;\\t&quot;+&quot;\\t&quot;+&quot;\\t&quot;+&quot;\\t&quot;+&quot;\\t&quot;+&quot;\\&quot;&quot; + getCountry();\n\t}","body":"@Override \tpublic String toString() { \t\treturn &quot;\\b&quot;+ &quot;\\&quot;&quot; + getFamilyName() +  \t\t\t\t &quot;\\t&quot;+&quot;\\t&quot;+ &quot;\\t&quot;+ &quot;\\t&quot;+&quot;\\t&quot;+&quot;\\t&quot;+&quot;\\t&quot;+&quot;\\t&quot;+&quot;\\t&quot;+&quot;\\&quot;&quot; + getCountry(); \t}"},{"owner":{"account_id":3128123,"reputation":115,"user_id":2646617,"display_name":"user2646617"},"score":0,"creation_date":1375459924,"post_id":18021435,"comment_id":26357467,"body_markdown":"I&#39;am working with play! frmawork , CRUD module","body":"I&#39;am working with play! frmawork , CRUD module"},{"owner":{"account_id":2870830,"reputation":607,"user_id":2464234,"display_name":"Kevin"},"score":1,"creation_date":1375459998,"post_id":18021435,"comment_id":26357517,"body_markdown":"Please edit your original post to include these details. It&#39;s easier to have it all in one place than to have to search through the comments.","body":"Please edit your original post to include these details. It&#39;s easier to have it all in one place than to have to search through the comments."}],"answers":[{"tags":[],"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"comment_count":0,"down_vote_count":0,"up_vote_count":26,"is_accepted":true,"score":26,"last_activity_date":1375459547,"creation_date":1375459547,"answer_id":18021469,"question_id":18021435,"body_markdown":"Your example should work; however there&#39;s no reason to append each tab character individually. This works, too:\r\n\r\n    getName() + &quot;\\t\\t&quot; + getLastName();\r\n\r\nThe errors you are getting are not related to the tab characters.","title":"How to insert multiple tabs string in java?","body":"<p>Your example should work; however there's no reason to append each tab character individually. This works, too:</p>\n\n<pre><code>getName() + \"\\t\\t\" + getLastName();\n</code></pre>\n\n<p>The errors you are getting are not related to the tab characters.</p>\n"},{"tags":[],"owner":{"account_id":2425004,"reputation":1264,"user_id":2117153,"display_name":"bean"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1375460019,"creation_date":1375460019,"answer_id":18021632,"question_id":18021435,"body_markdown":"Your syntax is screwy. Try this.\r\n\r\n     String whatever0 = &quot;firstname&quot;+&quot;\\t&quot;+&quot;\\t&quot;+&quot;lastname&quot;;\r\n     String whatever1 = &quot;firstname&quot;+&quot;\\t&quot;+&quot;\\t&quot;+&quot;\\t&quot;+&quot;lastname&quot;;\r\n     System.out.println(whatever0);\r\n     System.out.println(whatever1);\r\n\r\nYou&#39;ll see that they give different results.","title":"How to insert multiple tabs string in java?","body":"<p>Your syntax is screwy. Try this.</p>\n\n<pre><code> String whatever0 = \"firstname\"+\"\\t\"+\"\\t\"+\"lastname\";\n String whatever1 = \"firstname\"+\"\\t\"+\"\\t\"+\"\\t\"+\"lastname\";\n System.out.println(whatever0);\n System.out.println(whatever1);\n</code></pre>\n\n<p>You'll see that they give different results.</p>\n"}],"owner":{"account_id":3128123,"reputation":115,"user_id":2646617,"display_name":"user2646617"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":107536,"favorite_count":0,"down_vote_count":7,"up_vote_count":12,"closed_date":1375473925,"accepted_answer_id":18021469,"answer_count":2,"score":5,"last_activity_date":1675776640,"creation_date":1375459439,"question_id":18021435,"body_markdown":"How to insert multiple tabs string in Java?\r\n\r\nThis example:\r\n`getName() + &#39;\\t&#39; + &#39;\\t&#39; + getLastName()`, does not work.\r\n","title":"How to insert multiple tabs string in java?","body":"<p>How to insert multiple tabs string in Java?</p>\n<p>This example:\n<code>getName() + '\\t' + '\\t' + getLastName()</code>, does not work.</p>\n"},{"tags":["java","junit","junit5","test-suite","junit-jupiter"],"comments":[{"owner":{"account_id":15361,"reputation":4976,"user_id":32352,"accept_rate":62,"display_name":"johanneslink"},"score":1,"creation_date":1660311102,"post_id":73332894,"comment_id":129509465,"body_markdown":"What about tagging the methods and then using https://junit.org/junit5/docs/current/api/org.junit.platform.suite.api/org/junit/platform/suite/api/IncludeTags.html. I don’t see how Jupiter extensions could help you.","body":"What about tagging the methods and then using <a href=\"https://junit.org/junit5/docs/current/api/org.junit.platform.suite.api/org/junit/platform/suite/api/IncludeTags.html\" rel=\"nofollow noreferrer\">junit.org/junit5/docs/current/api/org.junit.platform.suite.a&zwnj;&#8203;pi/&hellip;</a>. I don’t see how Jupiter extensions could help you."},{"owner":{"account_id":17162731,"reputation":61,"user_id":12421913,"display_name":"zaoras"},"score":0,"creation_date":1660311660,"post_id":73332894,"comment_id":129509656,"body_markdown":"Sadly tagging methods is not an option as the methods will be chosen in runtime. Tried with providing custom class implementing ExecutionCondition(&#39;&#39;An ExecutionCondition is evaluated to determine if a given container or test should be executed based on the supplied ExtensionContext. &#39;&#39;) however this does not work.","body":"Sadly tagging methods is not an option as the methods will be chosen in runtime. Tried with providing custom class implementing ExecutionCondition(&#39;&#39;An ExecutionCondition is evaluated to determine if a given container or test should be executed based on the supplied ExtensionContext. &#39;&#39;) however this does not work."},{"owner":{"account_id":15361,"reputation":4976,"user_id":32352,"accept_rate":62,"display_name":"johanneslink"},"score":1,"creation_date":1660317142,"post_id":73332894,"comment_id":129511767,"body_markdown":"For that scenario using the suite-engine is probably not a workable approach. You could argue it&#39;s missing the select method feature - which I think it does. You can open an issue to add it, but that won&#39;t help you in the short run.","body":"For that scenario using the suite-engine is probably not a workable approach. You could argue it&#39;s missing the select method feature - which I think it does. You can open an issue to add it, but that won&#39;t help you in the short run."},{"owner":{"account_id":17162731,"reputation":61,"user_id":12421913,"display_name":"zaoras"},"score":0,"creation_date":1660641875,"post_id":73332894,"comment_id":129574226,"body_markdown":"Thanks for information. What do you think about creating a custom TestEngine? Is it possible to filter by method names in discover method?","body":"Thanks for information. What do you think about creating a custom TestEngine? Is it possible to filter by method names in discover method?"},{"owner":{"account_id":15361,"reputation":4976,"user_id":32352,"accept_rate":62,"display_name":"johanneslink"},"score":1,"creation_date":1660665181,"post_id":73332894,"comment_id":129583441,"body_markdown":"That would require to duplicate most of what the suite engine does. But yes, I think it’s possible. It’s probably easier to fork and patch the suite engine - and then offer the feature as a PR to the JUnit Team.","body":"That would require to duplicate most of what the suite engine does. But yes, I think it’s possible. It’s probably easier to fork and patch the suite engine - and then offer the feature as a PR to the JUnit Team."}],"answers":[{"comments":[{"owner":{"account_id":15361,"reputation":4976,"user_id":32352,"accept_rate":62,"display_name":"johanneslink"},"score":1,"creation_date":1660316763,"post_id":73335246,"comment_id":129511630,"body_markdown":"This approach does not work because a Jupiter extension from the suite class will NOT be propagated from the suite engine to the included test classes. The suite engine does not care about anything Jupiter-related. What it does is call the JUnit 5 platform API for discovering and running tests.","body":"This approach does not work because a Jupiter extension from the suite class will NOT be propagated from the suite engine to the included test classes. The suite engine does not care about anything Jupiter-related. What it does is call the JUnit 5 platform API for discovering and running tests."}],"tags":[],"owner":{"account_id":17162731,"reputation":61,"user_id":12421913,"display_name":"zaoras"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660312315,"creation_date":1660312315,"answer_id":73335246,"question_id":73332894,"body_markdown":"Tried with providing custom class implementing ExecutionCondition however this does not work and I am not sure why. Am I missing something or is the whole approach wrong?\r\n\r\n    public class RunMethodCondition implements ExecutionCondition { \r\n    \r\n        @Override \r\n        public ConditionEvaluationResult evaluateExecutionCondition(ExtensionContext context){\r\n            final Method testedMethod = context.getTestMethod().get();\r\n            if(testedMethod.getName()==&quot;Atest1&quot;){\r\n                return ConditionEvaluationResult.enabled(&quot;enabled&quot;);\r\n            }\r\n            return ConditionEvaluationResult.disabled(&quot;disabled&quot;);\r\n        }\r\n    \r\n    }\r\n\r\nand my test suite: \r\n\r\n    @SelectClasses({com.example.junit5testexample.A.class,\r\n    com.example.junit5testexample.B.class})\r\n    @Suite\r\n    @ExtendWith(RunMethodCondition.class)\r\n    public class JUnit5TestSuiteExample {\r\n    \r\n    }\r\n\r\nFrom junit docs: &quot;An ExecutionCondition is evaluated to determine if a given container or test should be executed based on the supplied ExtensionContext.&quot;\r\n","title":"Running only specific methods in test suite using Junit 5","body":"<p>Tried with providing custom class implementing ExecutionCondition however this does not work and I am not sure why. Am I missing something or is the whole approach wrong?</p>\n<pre><code>public class RunMethodCondition implements ExecutionCondition { \n\n    @Override \n    public ConditionEvaluationResult evaluateExecutionCondition(ExtensionContext context){\n        final Method testedMethod = context.getTestMethod().get();\n        if(testedMethod.getName()==&quot;Atest1&quot;){\n            return ConditionEvaluationResult.enabled(&quot;enabled&quot;);\n        }\n        return ConditionEvaluationResult.disabled(&quot;disabled&quot;);\n    }\n\n}\n</code></pre>\n<p>and my test suite:</p>\n<pre><code>@SelectClasses({com.example.junit5testexample.A.class,\ncom.example.junit5testexample.B.class})\n@Suite\n@ExtendWith(RunMethodCondition.class)\npublic class JUnit5TestSuiteExample {\n\n}\n</code></pre>\n<p>From junit docs: &quot;An ExecutionCondition is evaluated to determine if a given container or test should be executed based on the supplied ExtensionContext.&quot;</p>\n"},{"comments":[{"owner":{"account_id":223471,"reputation":1312,"user_id":2185719,"display_name":"Miguel Ferreira"},"score":0,"creation_date":1679407516,"post_id":75374036,"comment_id":133713818,"body_markdown":"Thanks! Using a filter in the way that is described in this answer allowed me to filter the tests that were pulled in via the suite class.","body":"Thanks! Using a filter in the way that is described in this answer allowed me to filter the tests that were pulled in via the suite class."}],"tags":[],"owner":{"account_id":75088,"reputation":649,"user_id":215496,"display_name":"weiresr"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675776451,"creation_date":1675776451,"answer_id":75374036,"question_id":73332894,"body_markdown":"I&#39;ve had a similar requirement and it took me quite a while to find the right way to do this.\r\n\r\nIf still relevant for you or someone else stumbling over this: Have a look at `PostDiscoveryFilter`. Custom filters can be added (at least in recent JUnit5 versions), to filter the originally-discovered tests further down by custom code, especially if such filters can only be defined at runtime.\r\n\r\nSample snippet:\r\n```java\r\npublic class MyFilter implements PostDiscoveryFilter {\r\n  @Override\r\n  public FilterResult apply(TestDescriptor td) {\r\n    if (td instanceof MethodBasedTestDescriptor mbtd) {\r\n      // covers normal and templated test-methods (e.g. @ParameterizedTest)\r\n      if (mbtd.getTestMethod().getName().contains(&quot;IDontLikeYourName&quot;)) {\r\n        return FilterResult.excluded(&quot;excluded&quot;);\r\n      }\r\n    }\r\n    return FilterResult.included(&quot;included&quot;);\r\n  }\r\n}\r\n```\r\n\r\nThe excluded tests will be excluded and won&#39;t be part of the executed TestPlan. \r\n\r\nRelevant links:\r\n* https://github.com/junit-team/junit5/issues/1997\r\n* https://junit.org/junit5/docs/current/user-guide/#launcher-api-post-discovery-filters-custom\r\n","title":"Running only specific methods in test suite using Junit 5","body":"<p>I've had a similar requirement and it took me quite a while to find the right way to do this.</p>\n<p>If still relevant for you or someone else stumbling over this: Have a look at <code>PostDiscoveryFilter</code>. Custom filters can be added (at least in recent JUnit5 versions), to filter the originally-discovered tests further down by custom code, especially if such filters can only be defined at runtime.</p>\n<p>Sample snippet:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyFilter implements PostDiscoveryFilter {\n  @Override\n  public FilterResult apply(TestDescriptor td) {\n    if (td instanceof MethodBasedTestDescriptor mbtd) {\n      // covers normal and templated test-methods (e.g. @ParameterizedTest)\n      if (mbtd.getTestMethod().getName().contains(&quot;IDontLikeYourName&quot;)) {\n        return FilterResult.excluded(&quot;excluded&quot;);\n      }\n    }\n    return FilterResult.included(&quot;included&quot;);\n  }\n}\n</code></pre>\n<p>The excluded tests will be excluded and won't be part of the executed TestPlan.</p>\n<p>Relevant links:</p>\n<ul>\n<li><a href=\"https://github.com/junit-team/junit5/issues/1997\" rel=\"nofollow noreferrer\">https://github.com/junit-team/junit5/issues/1997</a></li>\n<li><a href=\"https://junit.org/junit5/docs/current/user-guide/#launcher-api-post-discovery-filters-custom\" rel=\"nofollow noreferrer\">https://junit.org/junit5/docs/current/user-guide/#launcher-api-post-discovery-filters-custom</a></li>\n</ul>\n"}],"owner":{"account_id":17162731,"reputation":61,"user_id":12421913,"display_name":"zaoras"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":836,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1675776451,"creation_date":1660300927,"question_id":73332894,"body_markdown":"I have 2 test classes (A,B), both have 3 test methods. I put them into a test suite and want to run only specific methods (example: only the first method in all classes). \r\nFor this use case in junit4 I had custom runner and this was done by passing the Runner into @RunWith(CustomRunner.class).\r\n\r\nI am trying to migrate my junit4 test suites into junit5 test suites. I have created a test suite: \r\n\r\n    import org.junit.platform.suite.api.IncludeTags;\r\n    import org.junit.platform.suite.api.SelectPackages;\r\n    import org.junit.platform.suite.api.Suite;\r\n    \r\n    @SelectClasses({com.example.junit5testexample.A.class,\r\n    com.example.junit5testexample.B.class})\r\n    @Suite\r\n    @SuiteDisplayName(&quot;junit5 suite&quot;)\r\n    public class JUnit5TestSuiteExample {\r\n    \r\n    }\r\n\r\nHow can I now filter the methods? Should I use Extensions and @ExtendWith? If so, which extension would you recommend? ","title":"Running only specific methods in test suite using Junit 5","body":"<p>I have 2 test classes (A,B), both have 3 test methods. I put them into a test suite and want to run only specific methods (example: only the first method in all classes).\nFor this use case in junit4 I had custom runner and this was done by passing the Runner into @RunWith(CustomRunner.class).</p>\n<p>I am trying to migrate my junit4 test suites into junit5 test suites. I have created a test suite:</p>\n<pre><code>import org.junit.platform.suite.api.IncludeTags;\nimport org.junit.platform.suite.api.SelectPackages;\nimport org.junit.platform.suite.api.Suite;\n\n@SelectClasses({com.example.junit5testexample.A.class,\ncom.example.junit5testexample.B.class})\n@Suite\n@SuiteDisplayName(&quot;junit5 suite&quot;)\npublic class JUnit5TestSuiteExample {\n\n}\n</code></pre>\n<p>How can I now filter the methods? Should I use Extensions and @ExtendWith? If so, which extension would you recommend?</p>\n"},{"tags":["java","spring","spring-boot","spring-security","h2"],"answers":[{"comments":[{"owner":{"account_id":27720261,"reputation":23,"user_id":21160973,"display_name":"SpEcTaCuLaR"},"score":0,"creation_date":1675759089,"post_id":75367690,"comment_id":132992511,"body_markdown":"Okay, I used your idea to make the whitelist String array into an AntPathRequestMatcher. It works, I can access the h2-console, when I test connection it&#39;s all fine, but when I try to connect it tells me that localhost refused to connect. Is it still an issue from the WebSecurityConfig class, or should I look elsewhere? Thanks.","body":"Okay, I used your idea to make the whitelist String array into an AntPathRequestMatcher. It works, I can access the h2-console, when I test connection it&#39;s all fine, but when I try to connect it tells me that localhost refused to connect. Is it still an issue from the WebSecurityConfig class, or should I look elsewhere? Thanks."},{"owner":{"account_id":1262922,"reputation":2194,"user_id":1220802,"display_name":"rph"},"score":0,"creation_date":1675770836,"post_id":75367690,"comment_id":132996231,"body_markdown":"Glad it worked. The new issue might be related to CSRF. You might need to add more security configs to get H2 Console to fully work. I&#39;d start with `http.csrf().disable();`. Another option is to just ignore h2-console since it has its own authentication provider. I&#39;ll edit the answer to include this.","body":"Glad it worked. The new issue might be related to CSRF. You might need to add more security configs to get H2 Console to fully work. I&#39;d start with <code>http.csrf().disable();</code>. Another option is to just ignore h2-console since it has its own authentication provider. I&#39;ll edit the answer to include this."},{"owner":{"account_id":27720261,"reputation":23,"user_id":21160973,"display_name":"SpEcTaCuLaR"},"score":0,"creation_date":1675776162,"post_id":75367690,"comment_id":132997937,"body_markdown":"Yep, that worked. I&#39;ll add the code that works in the question, for other people.","body":"Yep, that worked. I&#39;ll add the code that works in the question, for other people."},{"owner":{"account_id":5684412,"reputation":1277,"user_id":4494425,"display_name":"maechler"},"score":0,"creation_date":1695758919,"post_id":75367690,"comment_id":136066709,"body_markdown":"I would recommend not to disable CSRF globally with `http.csrf().disable();`, but rather just for the h2 console: `http.csrf(csrf -&gt; csrf.ignoringRequestMatchers(new AntPathRequestMatcher(&quot;/h2-console/**&quot;)));`","body":"I would recommend not to disable CSRF globally with <code>http.csrf().disable();</code>, but rather just for the h2 console: <code>http.csrf(csrf -&gt; csrf.ignoringRequestMatchers(new AntPathRequestMatcher(&quot;&#47;h2-console&#47;**&quot;)));</code>"}],"tags":[],"owner":{"account_id":1262922,"reputation":2194,"user_id":1220802,"display_name":"rph"},"comment_count":4,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1675770912,"creation_date":1675727203,"answer_id":75367690,"question_id":75367159,"body_markdown":"By default, when `requestMatchers(WHITE_LIST_URLS)` is used, it will fall into the `MvcRequestMatcher` ([Reference](https://github.com/spring-projects/spring-security/blob/50bbe88a2e7971155f53a1dabdb37b17c593a06e/config/src/main/java/org/springframework/security/config/annotation/web/AbstractRequestMatcherRegistry.java#L181-L190)). The `MvcRequestMatcher` will only match against the Web MVC DispatcherServlet internal mappings. The H2 Console is not part of the DispatcherServlet by default, but the custom controllers in the application are, hence the difference.\r\n\r\nOne option to fix it is by using an `AntPathRequestMatcher` for H2 Console like so:\r\n\r\n```java\r\npublic class WebSecurityConfig {\r\n    // some of the original code was omitted for brevity\r\n\r\n    private static final String[] WHITE_LIST_URLS = {\r\n            &quot;/register&quot;,\r\n            &quot;/api/v1/getUsers&quot;\r\n    };\r\n\r\n    @Bean\r\n    SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        http.authorizeHttpRequests()\r\n                .requestMatchers(WHITE_LIST_URLS)\r\n                .permitAll()\r\n                .and()\r\n                .authorizeHttpRequests()\r\n                .requestMatchers(new AntPathRequestMatcher(&quot;/h2-console/**&quot;))\r\n                .permitAll();\r\n        http.csrf().disable();\r\n\r\n        return http.build();\r\n    }\r\n}\r\n``` \r\n\r\nA possible alternative is to use an array of `AntPathRequestMatcher` instead of an array of `String` for the whitelist, and keep the security filter as-is:\r\n\r\n```java\r\npublic class WebSecurityConfig {\r\n    // some of the original code was omitted for brevity\r\n\r\n    private static final AntPathRequestMatcher[] WHITE_LIST_URLS = {\r\n            new AntPathRequestMatcher(&quot;/register&quot;),\r\n            new AntPathRequestMatcher(&quot;/api/v1/getUsers&quot;),\r\n            new AntPathRequestMatcher(&quot;/h2-console/**&quot;)\r\n    };\r\n\r\n    @Bean\r\n    SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        http.authorizeHttpRequests()\r\n                .requestMatchers(WHITE_LIST_URLS)\r\n                .permitAll();\r\n        http.csrf().disable();\r\n\r\n        return http.build();\r\n    }\r\n}\r\n```\r\n\r\nAnother option is to add a customizer to ignore H2 Console, which should be fine since H2 Console has its own authentication mechanism.\r\n\r\n```java\r\n@Bean\r\nWebSecurityCustomizer webSecurityCustomizer() {\r\n    return web -&gt; web.ignoring()\r\n            .requestMatchers(new AntPathRequestMatcher(&quot;/h2-console/**&quot;));\r\n}\r\n```\r\n\r\nEDIT 1: It is also necessary to disable CSRF, added to snippets above.\r\n\r\nEDIT 2: Adding an extra option to ignore H2 Console with Spring Boot 3.","title":"How can I access the H2-console while using Spring Security (Spring Boot 3.0.2)?","body":"<p>By default, when <code>requestMatchers(WHITE_LIST_URLS)</code> is used, it will fall into the <code>MvcRequestMatcher</code> (<a href=\"https://github.com/spring-projects/spring-security/blob/50bbe88a2e7971155f53a1dabdb37b17c593a06e/config/src/main/java/org/springframework/security/config/annotation/web/AbstractRequestMatcherRegistry.java#L181-L190\" rel=\"nofollow noreferrer\">Reference</a>). The <code>MvcRequestMatcher</code> will only match against the Web MVC DispatcherServlet internal mappings. The H2 Console is not part of the DispatcherServlet by default, but the custom controllers in the application are, hence the difference.</p>\n<p>One option to fix it is by using an <code>AntPathRequestMatcher</code> for H2 Console like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class WebSecurityConfig {\n    // some of the original code was omitted for brevity\n\n    private static final String[] WHITE_LIST_URLS = {\n            &quot;/register&quot;,\n            &quot;/api/v1/getUsers&quot;\n    };\n\n    @Bean\n    SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http.authorizeHttpRequests()\n                .requestMatchers(WHITE_LIST_URLS)\n                .permitAll()\n                .and()\n                .authorizeHttpRequests()\n                .requestMatchers(new AntPathRequestMatcher(&quot;/h2-console/**&quot;))\n                .permitAll();\n        http.csrf().disable();\n\n        return http.build();\n    }\n}\n</code></pre>\n<p>A possible alternative is to use an array of <code>AntPathRequestMatcher</code> instead of an array of <code>String</code> for the whitelist, and keep the security filter as-is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class WebSecurityConfig {\n    // some of the original code was omitted for brevity\n\n    private static final AntPathRequestMatcher[] WHITE_LIST_URLS = {\n            new AntPathRequestMatcher(&quot;/register&quot;),\n            new AntPathRequestMatcher(&quot;/api/v1/getUsers&quot;),\n            new AntPathRequestMatcher(&quot;/h2-console/**&quot;)\n    };\n\n    @Bean\n    SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http.authorizeHttpRequests()\n                .requestMatchers(WHITE_LIST_URLS)\n                .permitAll();\n        http.csrf().disable();\n\n        return http.build();\n    }\n}\n</code></pre>\n<p>Another option is to add a customizer to ignore H2 Console, which should be fine since H2 Console has its own authentication mechanism.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\nWebSecurityCustomizer webSecurityCustomizer() {\n    return web -&gt; web.ignoring()\n            .requestMatchers(new AntPathRequestMatcher(&quot;/h2-console/**&quot;));\n}\n</code></pre>\n<p>EDIT 1: It is also necessary to disable CSRF, added to snippets above.</p>\n<p>EDIT 2: Adding an extra option to ignore H2 Console with Spring Boot 3.</p>\n"}],"owner":{"account_id":27720261,"reputation":23,"user_id":21160973,"display_name":"SpEcTaCuLaR"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1505,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75367690,"answer_count":1,"score":2,"last_activity_date":1675776307,"creation_date":1675721873,"question_id":75367159,"body_markdown":"So I am trying to learn Spring because I&#39;ll need it for a project later on this year. Project is using Spring Boot 3.0.2 and Java 17. I am also using the Spring Security dependency, which means that I&#39;ll need to authorize some URL&#39;s without using tokens. \r\n\r\nI found a way to do that for all URL&#39;s except the H2-console. For some reason, no matter how I write the code, I can&#39;t access the H2-console because I&#39;ll get 403(Unauthorized) when going to localhost:8080/h2-console.\r\n\r\nAny help on this would be appreciated.\r\n\r\nThis is the pom file:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.2&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;newproject&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;newproject&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\nThis is the application.properties file: \r\n```\r\n#For h2 database\r\nspring.datasource.url=jdbc:h2:mem:test;DB_CLOSE_DELAY=-1\r\nspring.datasource.driverClassName=org.h2.Driver\r\nspring.datasource.username=sa\r\nspring.datasource.password=\r\n\r\nspring.jpa.generate-ddl=true\r\nspring.jpa.show-sql=true\r\nspring.jpa.hibernate.ddl-auto=create-drop\r\nspring.jpa.properties.hibernate.format_sql=true\r\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\r\n\r\n## H2 specific settings\r\nspring.h2.console.enabled=true\r\n```\r\n\r\nThis is the WebSecurityConfig class:\r\n```\r\npackage com.example.newproject.configs;\r\n\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.security.crypto.password.PasswordEncoder;\r\nimport org.springframework.security.web.SecurityFilterChain;\r\n\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class WebSecurityConfig {\r\n\r\n    private static final String[] WHITE_LIST_URLS = {\r\n            &quot;/register&quot;,\r\n            &quot;/api/v1/getUsers&quot;,\r\n            &quot;/h2-console/**&quot;\r\n    };\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder(11);\r\n    }\r\n\r\n    @Bean\r\n    SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        // FIXME: Cant access h2 console\r\n//        http\r\n//                .cors()\r\n//                .and()\r\n//                .csrf()\r\n//                .disable()\r\n//                .authorizeHttpRequests()\r\n//                .requestMatchers(WHITE_LIST_URLS)\r\n//                .permitAll();\r\n//\r\n        http.authorizeHttpRequests().requestMatchers(WHITE_LIST_URLS).permitAll();\r\n        return http.build();\r\n    }\r\n}\r\n\r\n```\r\n\r\nThis is the result:\r\n[result](https://i.stack.imgur.com/JA386.png)\r\n\r\nAs you can see, I tried to do this in 2 ways. Both work for &quot;/register&quot; and &quot;/api/v1/getUsers&quot;, but do not work for &quot;/h2-console/**&quot;. I might be doing something wrong, but the commented code is from a youtube guide and the uncommented code is from another question on StackOverflow, so I am all out of ideas. Any help would be appreciated.\r\n\r\nEDIT 1: Problem was solved by the marked answers. This is the code that works for me: \r\n```\r\npublic class WebSecurityConfig {\r\n\r\n    private static final AntPathRequestMatcher[] WHITE_LIST_URLS = {\r\n            new AntPathRequestMatcher(&quot;/register&quot;),\r\n            new AntPathRequestMatcher(&quot;/api/v1/getUsers&quot;),\r\n            // new AntPathRequestMatcher(&quot;/h2-console/**&quot;),\r\n    };\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder(11);\r\n    }\r\n\r\n    @Bean\r\n    SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        http\r\n                .cors()\r\n                .and()\r\n                .csrf()\r\n                .disable()\r\n                .authorizeHttpRequests()\r\n                .requestMatchers(WHITE_LIST_URLS)\r\n                .permitAll();\r\n\r\n        return http.build();\r\n    }\r\n\r\n    @Bean\r\n    WebSecurityCustomizer webSecurityCustomizer() {\r\n        return web -&gt; web.ignoring()\r\n                .requestMatchers(new AntPathRequestMatcher(&quot;/h2-console/**&quot;));\r\n    }\r\n}\r\n```\r\n","title":"How can I access the H2-console while using Spring Security (Spring Boot 3.0.2)?","body":"<p>So I am trying to learn Spring because I'll need it for a project later on this year. Project is using Spring Boot 3.0.2 and Java 17. I am also using the Spring Security dependency, which means that I'll need to authorize some URL's without using tokens.</p>\n<p>I found a way to do that for all URL's except the H2-console. For some reason, no matter how I write the code, I can't access the H2-console because I'll get 403(Unauthorized) when going to localhost:8080/h2-console.</p>\n<p>Any help on this would be appreciated.</p>\n<p>This is the pom file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;newproject&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;newproject&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>This is the application.properties file:</p>\n<pre><code>#For h2 database\nspring.datasource.url=jdbc:h2:mem:test;DB_CLOSE_DELAY=-1\nspring.datasource.driverClassName=org.h2.Driver\nspring.datasource.username=sa\nspring.datasource.password=\n\nspring.jpa.generate-ddl=true\nspring.jpa.show-sql=true\nspring.jpa.hibernate.ddl-auto=create-drop\nspring.jpa.properties.hibernate.format_sql=true\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\n\n## H2 specific settings\nspring.h2.console.enabled=true\n</code></pre>\n<p>This is the WebSecurityConfig class:</p>\n<pre><code>package com.example.newproject.configs;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.security.web.SecurityFilterChain;\n\n@Configuration\n@EnableWebSecurity\npublic class WebSecurityConfig {\n\n    private static final String[] WHITE_LIST_URLS = {\n            &quot;/register&quot;,\n            &quot;/api/v1/getUsers&quot;,\n            &quot;/h2-console/**&quot;\n    };\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder(11);\n    }\n\n    @Bean\n    SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        // FIXME: Cant access h2 console\n//        http\n//                .cors()\n//                .and()\n//                .csrf()\n//                .disable()\n//                .authorizeHttpRequests()\n//                .requestMatchers(WHITE_LIST_URLS)\n//                .permitAll();\n//\n        http.authorizeHttpRequests().requestMatchers(WHITE_LIST_URLS).permitAll();\n        return http.build();\n    }\n}\n\n</code></pre>\n<p>This is the result:\n<a href=\"https://i.stack.imgur.com/JA386.png\" rel=\"nofollow noreferrer\">result</a></p>\n<p>As you can see, I tried to do this in 2 ways. Both work for &quot;/register&quot; and &quot;/api/v1/getUsers&quot;, but do not work for &quot;/h2-console/**&quot;. I might be doing something wrong, but the commented code is from a youtube guide and the uncommented code is from another question on StackOverflow, so I am all out of ideas. Any help would be appreciated.</p>\n<p>EDIT 1: Problem was solved by the marked answers. This is the code that works for me:</p>\n<pre><code>public class WebSecurityConfig {\n\n    private static final AntPathRequestMatcher[] WHITE_LIST_URLS = {\n            new AntPathRequestMatcher(&quot;/register&quot;),\n            new AntPathRequestMatcher(&quot;/api/v1/getUsers&quot;),\n            // new AntPathRequestMatcher(&quot;/h2-console/**&quot;),\n    };\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder(11);\n    }\n\n    @Bean\n    SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http\n                .cors()\n                .and()\n                .csrf()\n                .disable()\n                .authorizeHttpRequests()\n                .requestMatchers(WHITE_LIST_URLS)\n                .permitAll();\n\n        return http.build();\n    }\n\n    @Bean\n    WebSecurityCustomizer webSecurityCustomizer() {\n        return web -&gt; web.ignoring()\n                .requestMatchers(new AntPathRequestMatcher(&quot;/h2-console/**&quot;));\n    }\n}\n</code></pre>\n"},{"tags":["java","string","currency"],"answers":[{"tags":[],"owner":{"account_id":144642,"reputation":29082,"user_id":353852,"display_name":"krock"},"comment_count":0,"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1276956581,"creation_date":1276956581,"answer_id":3075753,"question_id":3075743,"body_markdown":"    DecimalFormat moneyFormat = new DecimalFormat(&quot;$0.00&quot;);\r\n    System.out.println(moneyFormat.format(1234.56));","title":"USD Currency Formatting in Java","body":"<pre><code>DecimalFormat moneyFormat = new DecimalFormat(\"$0.00\");\nSystem.out.println(moneyFormat.format(1234.56));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21873,"reputation":25813,"user_id":53495,"display_name":"Brian Clapper"},"comment_count":0,"down_vote_count":0,"up_vote_count":39,"is_accepted":false,"score":39,"last_activity_date":1675776267,"creation_date":1276957611,"answer_id":3075812,"question_id":3075743,"body_markdown":"There&#39;s a locale-sensitive idiom that works well:\r\n\r\n    import java.text.NumberFormat;\r\n\r\n    // Get a currency formatter for the current locale.\r\n    NumberFormat fmt = NumberFormat.getCurrencyInstance();\r\n    System.out.println(fmt.format(120.00));\r\n\r\nIf your current locale is in the US, the `println` will print $120.00\r\n\r\nAnother example:\r\n\r\n    import java.text.NumberFormat;\r\n    import java.util.Locale;\r\n\r\n    Locale locale = new Locale(&quot;en&quot;, &quot;GB&quot;); // United Kingdom\r\n    NumberFormat fmt = NumberFormat.getCurrencyInstance(locale);\r\n    System.out.println(fmt.format(120.00));\r\n\r\nThis will print: &#163;120.00\r\n","title":"USD Currency Formatting in Java","body":"<p>There's a locale-sensitive idiom that works well:</p>\n<pre><code>import java.text.NumberFormat;\n\n// Get a currency formatter for the current locale.\nNumberFormat fmt = NumberFormat.getCurrencyInstance();\nSystem.out.println(fmt.format(120.00));\n</code></pre>\n<p>If your current locale is in the US, the <code>println</code> will print $120.00</p>\n<p>Another example:</p>\n<pre><code>import java.text.NumberFormat;\nimport java.util.Locale;\n\nLocale locale = new Locale(&quot;en&quot;, &quot;GB&quot;); // United Kingdom\nNumberFormat fmt = NumberFormat.getCurrencyInstance(locale);\nSystem.out.println(fmt.format(120.00));\n</code></pre>\n<p>This will print: £120.00</p>\n"},{"tags":[],"owner":{"account_id":11562832,"reputation":645,"user_id":8472053,"accept_rate":100,"display_name":"Abhishek Honey"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1505303951,"creation_date":1505303951,"answer_id":46196969,"question_id":3075743,"body_markdown":"Here is the code according to your input and output::\r\n\r\n\r\nThe output of the program is $12,345.67 for both BigDecimal and number and it works for float also.\r\n\r\n    import java.math.BigDecimal;\r\n    import java.text.DecimalFormat;\r\n    import java.text.DecimalFormatSymbols;\r\n    \r\n    public class test {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tDecimalFormatSymbols symbols = new DecimalFormatSymbols();\r\n            symbols.setGroupingSeparator(&#39;,&#39;);\r\n            String pattern = &quot;$#,##0.###&quot;;\r\n            DecimalFormat decimalFormat = new DecimalFormat(pattern, symbols);\r\n            BigDecimal bigDecimal = new BigDecimal(&quot;12345.67&quot;);\r\n           \r\n            String bigDecimalConvertedValue = decimalFormat.format(bigDecimal);\r\n            String convertedValue = decimalFormat.format(12345.67);\r\n            \r\n            System.out.println(bigDecimalConvertedValue);\r\n            System.out.println(convertedValue);\r\n    \t}\r\n    }","title":"USD Currency Formatting in Java","body":"<p>Here is the code according to your input and output::</p>\n\n<p>The output of the program is $12,345.67 for both BigDecimal and number and it works for float also.</p>\n\n<pre><code>import java.math.BigDecimal;\nimport java.text.DecimalFormat;\nimport java.text.DecimalFormatSymbols;\n\npublic class test {\n    public static void main(String[] args) {\n        DecimalFormatSymbols symbols = new DecimalFormatSymbols();\n        symbols.setGroupingSeparator(',');\n        String pattern = \"$#,##0.###\";\n        DecimalFormat decimalFormat = new DecimalFormat(pattern, symbols);\n        BigDecimal bigDecimal = new BigDecimal(\"12345.67\");\n\n        String bigDecimalConvertedValue = decimalFormat.format(bigDecimal);\n        String convertedValue = decimalFormat.format(12345.67);\n\n        System.out.println(bigDecimalConvertedValue);\n        System.out.println(convertedValue);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":626946,"reputation":281,"user_id":371041,"display_name":"Tidbtis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51488,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"answer_count":3,"score":28,"last_activity_date":1675776267,"creation_date":1276956290,"question_id":3075743,"body_markdown":"In Java, how can I efficiently convert floats like `1234.56` and similar BigDecimals into Strings like `$1,234.56`\r\n\r\nI&#39;m looking for the following:\r\n\r\nString `12345.67` becomes String `$12,345.67`\r\n\r\nI&#39;m also looking to do this with `Float` and `BigDecimal` as well.\r\n","title":"USD Currency Formatting in Java","body":"<p>In Java, how can I efficiently convert floats like <code>1234.56</code> and similar BigDecimals into Strings like <code>$1,234.56</code></p>\n\n<p>I'm looking for the following:</p>\n\n<p>String <code>12345.67</code> becomes String <code>$12,345.67</code></p>\n\n<p>I'm also looking to do this with <code>Float</code> and <code>BigDecimal</code> as well.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1675753630,"post_id":75369866,"comment_id":132991115,"body_markdown":"Are you asking why this is allowed at compile time, or why this is allowed at runtime?","body":"Are you asking why this is allowed at compile time, or why this is allowed at runtime?"},{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1675753798,"post_id":75369866,"comment_id":132991146,"body_markdown":"Obviously, the compiler has access to both the definitions of `Interface1` and `Interface2`. Now the compiler may generate instructions to search for `Interface2` at runtime.","body":"Obviously, the compiler has access to both the definitions of <code>Interface1</code> and <code>Interface2</code>. Now the compiler may generate instructions to search for <code>Interface2</code> at runtime."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":3,"creation_date":1675754207,"post_id":75369866,"comment_id":132991246,"body_markdown":"I&#39;m not sure I understand your confusion. The `Superclass` class implements both interfaces. Instances of that class are instances of both interfaces. Casting does not change the type of the _object_. It makes the _compiler_ see a _variable_ as a different type. Casting is essentially a way to say, &quot;I know better than the compiler&quot;.","body":"I&#39;m not sure I understand your confusion. The <code>Superclass</code> class implements both interfaces. Instances of that class are instances of both interfaces. Casting does not change the type of the <i>object</i>. It makes the <i>compiler</i> see a <i>variable</i> as a different type. Casting is essentially a way to say, &quot;I know better than the compiler&quot;."},{"owner":{"account_id":27722820,"reputation":11,"user_id":21163009,"display_name":"TechStack"},"score":0,"creation_date":1675754281,"post_id":75369866,"comment_id":132991258,"body_markdown":"@Sweeper It&#39;s a runtime question :)","body":"@Sweeper It&#39;s a runtime question :)"},{"owner":{"account_id":1387645,"reputation":7926,"user_id":1319284,"accept_rate":69,"display_name":"kutschkem"},"score":0,"creation_date":1675754319,"post_id":75369866,"comment_id":132991269,"body_markdown":"Does this answer your question? [Java casting in interfaces](https://stackoverflow.com/questions/16186474/java-casting-in-interfaces)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/16186474/java-casting-in-interfaces\">Java casting in interfaces</a>"},{"owner":{"account_id":27722820,"reputation":11,"user_id":21163009,"display_name":"TechStack"},"score":0,"creation_date":1675754409,"post_id":75369866,"comment_id":132991288,"body_markdown":"@Slaw That explains it! Thanks!","body":"@Slaw That explains it! Thanks!"}],"answers":[{"comments":[{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1675776197,"post_id":75370003,"comment_id":132997945,"body_markdown":"&quot;*The apparent type you are casting from is not relevant*&quot; Did I misunderstand this? The type you&#39;re casting from does matter. If it&#39;s a final class, the compiler can make assertions about casts that are definitely going to fail. https://ideone.com/hC1wGA","body":"&quot;<i>The apparent type you are casting from is not relevant</i>&quot; Did I misunderstand this? The type you&#39;re casting from does matter. If it&#39;s a final class, the compiler can make assertions about casts that are definitely going to fail. <a href=\"https://ideone.com/hC1wGA\" rel=\"nofollow noreferrer\">ideone.com/hC1wGA</a>"},{"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"score":0,"creation_date":1675776690,"post_id":75370003,"comment_id":132998108,"body_markdown":"@Michael I&#39;m oversimplifying a fair bit there to address the case presented in the question. To achieve a completely accurate statement, we would have to end up with a copy of the relevant bits of the spec. Which I would encourage people to read instead of my inaccurate interpretation.","body":"@Michael I&#39;m oversimplifying a fair bit there to address the case presented in the question. To achieve a completely accurate statement, we would have to end up with a copy of the relevant bits of the spec. Which I would encourage people to read instead of my inaccurate interpretation."}],"tags":[],"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1675754807,"creation_date":1675754476,"answer_id":75370003,"question_id":75369866,"body_markdown":"In Java, you can [do all kinds of casts](https://docs.oracle.com/javase/specs/jls/se11/html/jls-5.html#jls-5.1.6.1) even between seemingly unrelated types. There is a runtime check if the object that is referenced can be actually cast to that, and if not, you&#39;ll get a ClassCastException.\r\n\r\nhttps://docs.oracle.com/javase/specs/jls/se11/html/jls-5.html#jls-5.1.6.3\r\n\r\nNote that the things considered are R - the actual type of the value and T - the type you are casting to. The apparent type you are casting *from* is not relevant.","title":"Class implementing 2 interfaces. Casting one interface to another","body":"<p>In Java, you can <a href=\"https://docs.oracle.com/javase/specs/jls/se11/html/jls-5.html#jls-5.1.6.1\" rel=\"nofollow noreferrer\">do all kinds of casts</a> even between seemingly unrelated types. There is a runtime check if the object that is referenced can be actually cast to that, and if not, you'll get a ClassCastException.</p>\n<p><a href=\"https://docs.oracle.com/javase/specs/jls/se11/html/jls-5.html#jls-5.1.6.3\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/specs/jls/se11/html/jls-5.html#jls-5.1.6.3</a></p>\n<p>Note that the things considered are R - the actual type of the value and T - the type you are casting to. The apparent type you are casting <em>from</em> is not relevant.</p>\n"},{"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1675756773,"post_id":75370210,"comment_id":132991881,"body_markdown":"&quot;_An &#39;abstract class&#39; can only have a non argument constructor and no global variables and no global class fields_&quot; -- That&#39;s either poorly worded or just incorrect. An **abstract class** can have any number of constructors with any number of parameters (though obviously no duplicate signatures). They can also have any number of fields, both instance fields and static fields (not sure what you mean by &quot;global&quot; here). And they can have _non-abstract_ methods, too. That said, an **interface** cannot declare any constructors nor any _instance_ fields.","body":"&quot;<i>An &#39;abstract class&#39; can only have a non argument constructor and no global variables and no global class fields</i>&quot; -- That&#39;s either poorly worded or just incorrect. An <b>abstract class</b> can have any number of constructors with any number of parameters (though obviously no duplicate signatures). They can also have any number of fields, both instance fields and static fields (not sure what you mean by &quot;global&quot; here). And they can have <i>non-abstract</i> methods, too. That said, an <b>interface</b> cannot declare any constructors nor any <i>instance</i> fields."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1675757742,"post_id":75370210,"comment_id":132992145,"body_markdown":"I know that but I suggest you remove your comment because for now that would be too much for his point. NB and while you were commenting I been editing hard for the simplification for him! Some of javax.swing is abstract but exclusively instantiated, base64 or tomcat base64 is abstract has class fields! He doesn&#39;t want to &quot;understand&quot; that this moment!!!","body":"I know that but I suggest you remove your comment because for now that would be too much for his point. NB and while you were commenting I been editing hard for the simplification for him! Some of javax.swing is abstract but exclusively instantiated, base64 or tomcat base64 is abstract has class fields! He doesn&#39;t want to &quot;understand&quot; that this moment!!!"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1675760316,"post_id":75370210,"comment_id":132992884,"body_markdown":"Providing incorrect information, even if tangential to the main point, benefits no one—or worse, actively harms further understanding. Given your comment, and what I understand to be the main point of your answer, I&#39;m not sure I understand why you mentioned constructors or fields in the first place.","body":"Providing incorrect information, even if tangential to the main point, benefits no one—or worse, actively harms further understanding. Given your comment, and what I understand to be the main point of your answer, I&#39;m not sure I understand why you mentioned constructors or fields in the first place."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1675763989,"post_id":75370210,"comment_id":132994013,"body_markdown":"Also, interfaces do not have only abstract methods. Since Java 8, interfaces can have default methods, which are concrete methods.","body":"Also, interfaces do not have only abstract methods. Since Java 8, interfaces can have default methods, which are concrete methods."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1675777190,"post_id":75370210,"comment_id":132998280,"body_markdown":"I&#39;m completely aware of that Mark, it&#39;s not needed (default method) at this point to explain the concept, only the T typing and the java OOP concept of &quot;abstract&quot;.","body":"I&#39;m completely aware of that Mark, it&#39;s not needed (default method) at this point to explain the concept, only the T typing and the java OOP concept of &quot;abstract&quot;."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1675777509,"post_id":75370210,"comment_id":132998389,"body_markdown":"You may noticed it&#39;s not a short answer AND waited for me to finish writing and re editing. Again, &quot;not all&quot; the information at once is healthy for the concept, what you mentioned was arbitrary AND in the middle of writing and editing the answer!   RE ...&quot;Providing incorrect information, even if tangential to the main point, benefits no one&quot;...","body":"You may noticed it&#39;s not a short answer AND waited for me to finish writing and re editing. Again, &quot;not all&quot; the information at once is healthy for the concept, what you mentioned was arbitrary AND in the middle of writing and editing the answer!   RE ...&quot;Providing incorrect information, even if tangential to the main point, benefits no one&quot;..."}],"tags":[],"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"comment_count":6,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1675760328,"creation_date":1675755691,"answer_id":75370210,"question_id":75369866,"body_markdown":"You missed the point, and maybe about superclasses.\r\nAn interface is &quot;abstract&quot; meaning it has no unique instance, it is never created &quot;new&quot;(instance)!\r\nAn &quot;abstract class&quot; can only have a non argument constructor and no global variables (can have static fields because they are not unique), so it is only a shell with &quot;no instance&quot; , it is not designed to be new (not unique)!\r\nAn abstract class has some abstract methods (and usually many methods that have working body code too), method signatures that have no body code, &quot;interfaces&quot; ONLY have abstract methods.\r\nFor an abstract method in an abstract class to operate, the working body code must be written in a &quot;class&quot; that the abstract class is extended from, with that signature and also has body code, a class must extend from the abstract class containing a method with working body code of that method signature (basically method overloading).\r\nOf interfaces, A class must implement the interface and the class must have the method signature with working code to call from an interface reference of the interface method.\r\nSo a class will implement an interface, or a class extends from an abstract class with that interface, has the working code and signature of the method, the class instance can then be cast to the interface to call the method as that type as an interface.\r\n(Then there is also default class hierarchy method signature auto search in the JVM runtime but that is something for another day).\r\n\r\n**The following is why an instantiated object can be cast to an abstract object such as an interface or abstract class making the abstract object thats&#39; been &quot;cast to&quot; the superclass...**\r\n\r\nAbstract objects are designed to join onto other objects, abstract objects are designed to be dependent on other objects instantiated, not as independent!\r\nSo, because anything &quot;abstract&quot; cannot be an instance, it cannot have unique values that make it different to another discriminate such as an instance (is why static class fields are allowed in abstract classes and interfaces), not so much as different &quot;AKA valueOf&quot; the same object type T , an abstract object can be cast onto anything else and (just for the point) somewhat uselessly although there are no matching signatures to use, but don&#39;t call any and it would sit there without doing anything. (There are ways of abstract classes being able to be &quot;new&quot; instances but that&#39;s for another day also)\r\n","title":"Class implementing 2 interfaces. Casting one interface to another","body":"<p>You missed the point, and maybe about superclasses.\nAn interface is &quot;abstract&quot; meaning it has no unique instance, it is never created &quot;new&quot;(instance)!\nAn &quot;abstract class&quot; can only have a non argument constructor and no global variables (can have static fields because they are not unique), so it is only a shell with &quot;no instance&quot; , it is not designed to be new (not unique)!\nAn abstract class has some abstract methods (and usually many methods that have working body code too), method signatures that have no body code, &quot;interfaces&quot; ONLY have abstract methods.\nFor an abstract method in an abstract class to operate, the working body code must be written in a &quot;class&quot; that the abstract class is extended from, with that signature and also has body code, a class must extend from the abstract class containing a method with working body code of that method signature (basically method overloading).\nOf interfaces, A class must implement the interface and the class must have the method signature with working code to call from an interface reference of the interface method.\nSo a class will implement an interface, or a class extends from an abstract class with that interface, has the working code and signature of the method, the class instance can then be cast to the interface to call the method as that type as an interface.\n(Then there is also default class hierarchy method signature auto search in the JVM runtime but that is something for another day).</p>\n<p><strong>The following is why an instantiated object can be cast to an abstract object such as an interface or abstract class making the abstract object thats' been &quot;cast to&quot; the superclass...</strong></p>\n<p>Abstract objects are designed to join onto other objects, abstract objects are designed to be dependent on other objects instantiated, not as independent!\nSo, because anything &quot;abstract&quot; cannot be an instance, it cannot have unique values that make it different to another discriminate such as an instance (is why static class fields are allowed in abstract classes and interfaces), not so much as different &quot;AKA valueOf&quot; the same object type T , an abstract object can be cast onto anything else and (just for the point) somewhat uselessly although there are no matching signatures to use, but don't call any and it would sit there without doing anything. (There are ways of abstract classes being able to be &quot;new&quot; instances but that's for another day also)</p>\n"},{"tags":[],"owner":{"account_id":1772032,"reputation":1699,"user_id":1616627,"display_name":"Roger Gustavsson"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675775726,"creation_date":1675763502,"answer_id":75371595,"question_id":75369866,"body_markdown":"This is my view of classes, extending a class, implementing interfaces and variabels to store objects in.\r\n\r\n## Variables as hooks (coathangers) ##\r\nSay you have a square hook, you can only hang square objects on it. On a circular hook you can only hang circular objects. Since there are a lot of different classes in Java there are a lot of different shapes on the hooks. So let us just use words instead of shapes to describe a hook. `Object` is a class and therefore a hook shape. `Superclass` is another. Interfaces are also hook shapes. We have `Interface1` and `Interface2`.\r\n\r\n`Superclass` extends `Object` by default so we can say the definition is `class Superclass extends Object implements Interface1, Interface2`. This means it can be hanged on 4 different hooks, or 4 different variables. The following compiles:\r\n\r\n    Superclass superclass = new Superclass();\r\n    Object object = new Superclass();\r\n    Interface1 interface1 = new Superclass();\r\n    Interface2 interface2 = new Superclass();\r\n\r\nThe compiler knows what `Superclass` looks like and allows it to be stored in any of the variables.\r\n\r\nBut what happens if we take an object from one hook and places it on another? The compiler only knows the shape of the source hook, not of the object actually hanging there. That information is only available at runtime. The following will compile:\r\n\r\n    object = superclass;\r\n    interface1 = superclass;\r\n    interface2 = superclass;\r\n\r\nThe following will not compile:\r\n\r\n    interface2 = interface1;\r\n\r\nThe compiler only sees `Interface1` and `Interface2` and knows they are not same. At runtime `interface1` actually contains a `Superclass` so *we* know it fits on the hook. We can override the compiler with a cast:\r\n\r\n    interface2 = (Interface2) interface1;\r\n\r\nThis compiles and works at runtime.\r\n\r\nIf we add another class in the mix: `class Anotherclass implements Interface1` (it also extends Object). And we do the same thing when assigning to a variable of type `Interface2`, which the class don&#39;t implement:\r\n\r\n    Anotherclass anotherclass = new Anotherclass();\r\n    Interface1 interface1 = anotherclass;\r\n    Interface2 interface2 = (Interface2) interface1;\r\n\r\nWe *think* `interface1` contains an object that fits in `interface2` and overrides the compiler. This will however throw a `ClassCastException` at runtime because the object in the source variable don&#39;t implement `Interface2`.","title":"Class implementing 2 interfaces. Casting one interface to another","body":"<p>This is my view of classes, extending a class, implementing interfaces and variabels to store objects in.</p>\n<h2>Variables as hooks (coathangers)</h2>\n<p>Say you have a square hook, you can only hang square objects on it. On a circular hook you can only hang circular objects. Since there are a lot of different classes in Java there are a lot of different shapes on the hooks. So let us just use words instead of shapes to describe a hook. <code>Object</code> is a class and therefore a hook shape. <code>Superclass</code> is another. Interfaces are also hook shapes. We have <code>Interface1</code> and <code>Interface2</code>.</p>\n<p><code>Superclass</code> extends <code>Object</code> by default so we can say the definition is <code>class Superclass extends Object implements Interface1, Interface2</code>. This means it can be hanged on 4 different hooks, or 4 different variables. The following compiles:</p>\n<pre><code>Superclass superclass = new Superclass();\nObject object = new Superclass();\nInterface1 interface1 = new Superclass();\nInterface2 interface2 = new Superclass();\n</code></pre>\n<p>The compiler knows what <code>Superclass</code> looks like and allows it to be stored in any of the variables.</p>\n<p>But what happens if we take an object from one hook and places it on another? The compiler only knows the shape of the source hook, not of the object actually hanging there. That information is only available at runtime. The following will compile:</p>\n<pre><code>object = superclass;\ninterface1 = superclass;\ninterface2 = superclass;\n</code></pre>\n<p>The following will not compile:</p>\n<pre><code>interface2 = interface1;\n</code></pre>\n<p>The compiler only sees <code>Interface1</code> and <code>Interface2</code> and knows they are not same. At runtime <code>interface1</code> actually contains a <code>Superclass</code> so <em>we</em> know it fits on the hook. We can override the compiler with a cast:</p>\n<pre><code>interface2 = (Interface2) interface1;\n</code></pre>\n<p>This compiles and works at runtime.</p>\n<p>If we add another class in the mix: <code>class Anotherclass implements Interface1</code> (it also extends Object). And we do the same thing when assigning to a variable of type <code>Interface2</code>, which the class don't implement:</p>\n<pre><code>Anotherclass anotherclass = new Anotherclass();\nInterface1 interface1 = anotherclass;\nInterface2 interface2 = (Interface2) interface1;\n</code></pre>\n<p>We <em>think</em> <code>interface1</code> contains an object that fits in <code>interface2</code> and overrides the compiler. This will however throw a <code>ClassCastException</code> at runtime because the object in the source variable don't implement <code>Interface2</code>.</p>\n"}],"owner":{"account_id":27722820,"reputation":11,"user_id":21163009,"display_name":"TechStack"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":200,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1675775726,"creation_date":1675753416,"question_id":75369866,"body_markdown":"```\r\npublic interface Interface1 {\r\n    void methodFromInterface1();    \r\n}\r\n```\r\n\r\n```\r\npublic interface Interface2 {    \r\n    void methodFromInterface2();    \r\n}\r\n```\r\n\r\n```\r\npublic class Superclass implements Interface1, Interface2 {\r\n\r\n    @Override\r\n    public void methodFromInterface1() {\r\n        System.out.println(&quot;Called methodFromInterface1&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void methodFromInterface2() {\r\n        System.out.println(&quot;Called methodFromInterface2&quot;);\r\n    }    \r\n}\r\n\r\n```\r\n\r\n```\r\npublic class Testclass {    \r\n    @Test\r\n    public void test() {\r\n        \r\n        Interface1 interface1 = new Superclass();\r\n        \r\n        if (interface1 instanceof Interface1) {\r\n            System.out.println(&quot;superclass instance of interface1&quot;);\r\n            interface1.methodFromInterface1();\r\n        }\r\n        if (interface1 instanceof Interface2) {\r\n            System.out.println(&quot;superclass instance of interface2&quot;);\r\n            ((Interface2)interface1).methodFromInterface2();\r\n        }        \r\n    }    \r\n}\r\n```\r\n\r\nThis prints out:\r\n\r\n    superclass instance of interface1\r\n    Called methodFromInterface1\r\n    superclass instance of interface2\r\n    Called methodFromInterface2\r\n    superclass instance of interface1\r\n    Called methodFromInterface1\r\n    superclass instance of interface2\r\n    Called methodFromInterface2\r\n\r\nIn the Testclass. Superclass is casted to interface1, so the interface1 variable is an Interface1 type. How is it possible that Java allows me to cast the interface1 to a Interface2 object and then call the methodFromInterface2? It should have no information about Interface2 when going from Interface1.\r\n\r\n","title":"Class implementing 2 interfaces. Casting one interface to another","body":"<pre><code>public interface Interface1 {\n    void methodFromInterface1();    \n}\n</code></pre>\n<pre><code>public interface Interface2 {    \n    void methodFromInterface2();    \n}\n</code></pre>\n<pre><code>public class Superclass implements Interface1, Interface2 {\n\n    @Override\n    public void methodFromInterface1() {\n        System.out.println(&quot;Called methodFromInterface1&quot;);\n    }\n\n    @Override\n    public void methodFromInterface2() {\n        System.out.println(&quot;Called methodFromInterface2&quot;);\n    }    \n}\n\n</code></pre>\n<pre><code>public class Testclass {    \n    @Test\n    public void test() {\n        \n        Interface1 interface1 = new Superclass();\n        \n        if (interface1 instanceof Interface1) {\n            System.out.println(&quot;superclass instance of interface1&quot;);\n            interface1.methodFromInterface1();\n        }\n        if (interface1 instanceof Interface2) {\n            System.out.println(&quot;superclass instance of interface2&quot;);\n            ((Interface2)interface1).methodFromInterface2();\n        }        \n    }    \n}\n</code></pre>\n<p>This prints out:</p>\n<pre><code>superclass instance of interface1\nCalled methodFromInterface1\nsuperclass instance of interface2\nCalled methodFromInterface2\nsuperclass instance of interface1\nCalled methodFromInterface1\nsuperclass instance of interface2\nCalled methodFromInterface2\n</code></pre>\n<p>In the Testclass. Superclass is casted to interface1, so the interface1 variable is an Interface1 type. How is it possible that Java allows me to cast the interface1 to a Interface2 object and then call the methodFromInterface2? It should have no information about Interface2 when going from Interface1.</p>\n"},{"tags":["java","android","kotlin","android-tv","leanback"],"comments":[{"owner":{"account_id":13962640,"reputation":723,"user_id":10086742,"display_name":"mahdi"},"score":1,"creation_date":1675868819,"post_id":75373702,"comment_id":133020939,"body_markdown":"This question has been previously asked. Take a look at https://stackoverflow.com/a/74940284/10086742","body":"This question has been previously asked. Take a look at <a href=\"https://stackoverflow.com/a/74940284/10086742\">stackoverflow.com/a/74940284/10086742</a>"}],"owner":{"account_id":26279773,"reputation":31,"user_id":19948408,"display_name":"Lovish"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675775328,"creation_date":1675774677,"question_id":75373702,"body_markdown":"I&#39;m working on an AndroidTV app, using the Leanback library.\r\n\r\nHow can I slow down the speed at which it scrolls by leaving the button pressed?\r\n\r\nI want to slow scrolling speed in my leanback project but i don&#39;t no how its possible?\r\n\r\nmy code -\r\n```\r\n@Override\r\n    public boolean onKeyDown(int keyCode, KeyEvent event) {\r\n        if (keyCode == KeyEvent.KEYCODE_DPAD_LEFT || keyCode == KeyEvent.KEYCODE_DPAD_RIGHT\r\n                || keyCode == KeyEvent.KEYCODE_DPAD_DOWN || keyCode == KeyEvent.KEYCODE_DPAD_UP) {\r\n            // Add shadow over topShelfImage at here\r\n            topShelfImg.setAlpha(0.3f);\r\n        }\r\n\r\n        if (mTeamSclFragment != null) {\r\n            mTeamSclFragment.onMyKeyDown(keyCode, event);\r\n        }\r\n        return false;\r\n    }\r\n```","title":"Set scroll limit in android leanback","body":"<p>I'm working on an AndroidTV app, using the Leanback library.</p>\n<p>How can I slow down the speed at which it scrolls by leaving the button pressed?</p>\n<p>I want to slow scrolling speed in my leanback project but i don't no how its possible?</p>\n<p>my code -</p>\n<pre><code>@Override\n    public boolean onKeyDown(int keyCode, KeyEvent event) {\n        if (keyCode == KeyEvent.KEYCODE_DPAD_LEFT || keyCode == KeyEvent.KEYCODE_DPAD_RIGHT\n                || keyCode == KeyEvent.KEYCODE_DPAD_DOWN || keyCode == KeyEvent.KEYCODE_DPAD_UP) {\n            // Add shadow over topShelfImage at here\n            topShelfImg.setAlpha(0.3f);\n        }\n\n        if (mTeamSclFragment != null) {\n            mTeamSclFragment.onMyKeyDown(keyCode, event);\n        }\n        return false;\n    }\n</code></pre>\n"},{"tags":["java","android","file","url"],"comments":[{"owner":{"account_id":281857,"reputation":41669,"user_id":578411,"accept_rate":83,"display_name":"rene"},"score":0,"creation_date":1356950992,"post_id":14100489,"comment_id":19506888,"body_markdown":"You mean serverside? In what language/framework?","body":"You mean serverside? In what language/framework?"},{"owner":{"account_id":2192677,"reputation":61,"user_id":1939247,"display_name":"roopak27"},"score":1,"creation_date":1356951350,"post_id":14100489,"comment_id":19506994,"body_markdown":"JAVA android. I want to make an app which can display documents of any kind. I no this can be done through shouldOverRideURLLoading() in which I check for .PDF or .DOC etc.. I want  to no if there is any other way for that purpose. I mean will there be any other information in URL except the extensions??","body":"JAVA android. I want to make an app which can display documents of any kind. I no this can be done through shouldOverRideURLLoading() in which I check for .PDF or .DOC etc.. I want  to no if there is any other way for that purpose. I mean will there be any other information in URL except the extensions??"},{"owner":{"account_id":281857,"reputation":41669,"user_id":578411,"accept_rate":83,"display_name":"rene"},"score":0,"creation_date":1356951481,"post_id":14100489,"comment_id":19507035,"body_markdown":"I&#39;m not a java/android guy. I added the right tags to your question so other people will pick it up...","body":"I&#39;m not a java/android guy. I added the right tags to your question so other people will pick it up..."},{"owner":{"account_id":2192677,"reputation":61,"user_id":1939247,"display_name":"roopak27"},"score":0,"creation_date":1356956450,"post_id":14100489,"comment_id":19508653,"body_markdown":"Using URL.getPath() i can retrieve the path in the url. But again I ll have to put search condition for extensions. I think there is no other way we can determine if the url is file or directory.","body":"Using URL.getPath() i can retrieve the path in the url. But again I ll have to put search condition for extensions. I think there is no other way we can determine if the url is file or directory."}],"answers":[{"comments":[{"owner":{"account_id":1870308,"reputation":5286,"user_id":1692706,"accept_rate":77,"display_name":"Debosmit Ray"},"score":0,"creation_date":1457999578,"post_id":36000237,"comment_id":59653063,"body_markdown":"Precisely. Or you could maybe check to see if the last element in the path has an extension?","body":"Precisely. Or you could maybe check to see if the last element in the path has an extension?"},{"owner":{"account_id":3795925,"reputation":1959,"user_id":3151014,"display_name":"t7tran"},"score":0,"creation_date":1458099886,"post_id":36000237,"comment_id":59703448,"body_markdown":"Thanks for the comment Debosmit. That would be the most efficient way but quite unreliable imho. In *nix systems, and possibly Windows, ordinary files can exist without an extension.","body":"Thanks for the comment Debosmit. That would be the most efficient way but quite unreliable imho. In *nix systems, and possibly Windows, ordinary files can exist without an extension."},{"owner":{"account_id":1870308,"reputation":5286,"user_id":1692706,"accept_rate":77,"display_name":"Debosmit Ray"},"score":0,"creation_date":1458100479,"post_id":36000237,"comment_id":59703605,"body_markdown":"Yep. Precisely what I was thinking when I wrote the comment. :p","body":"Yep. Precisely what I was thinking when I wrote the comment. :p"},{"owner":{"account_id":3497823,"reputation":1349,"user_id":2925434,"accept_rate":83,"display_name":"awwsmm"},"score":1,"creation_date":1550837494,"post_id":36000237,"comment_id":96428295,"body_markdown":"OP specifically says this only works with `file://` and they&#39;re trying to work with `http://`","body":"OP specifically says this only works with <code>file:&#47;&#47;</code> and they&#39;re trying to work with <code>http:&#47;&#47;</code>"}],"tags":[],"owner":{"account_id":3795925,"reputation":1959,"user_id":3151014,"display_name":"t7tran"},"comment_count":4,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1587105114,"creation_date":1457999493,"answer_id":36000237,"question_id":14100489,"body_markdown":"I&#39;m not sure why this question was left unanswered/neglected for a long time. I faced the same situation in server-side java (reckon it would be similar for Android flavour). The only input information is a URL to the resource and we need to tell if the resource is a directory or file. So here&#39;s my solution.\r\n\r\n    if (&quot;file&quot;.equals(resourceUrl.getProtocol())\r\n        &amp;&amp; new File(resourceUrl.toURI()).isDirectory()) {\r\n        // it&#39;s a directory\r\n    }\r\n\r\nHope this helps the next reader.\r\n\r\nNote: please see @awwsmm comment. It was my assumption when provided the answer above. Basically, it doesn&#39;t make sense to test if a remote resource is a directory or anything. It is totally up to the site to decide what to return for each request.","title":"Check if Url refers to file or DIrectory. (HTTP)","body":"<p>I'm not sure why this question was left unanswered/neglected for a long time. I faced the same situation in server-side java (reckon it would be similar for Android flavour). The only input information is a URL to the resource and we need to tell if the resource is a directory or file. So here's my solution.</p>\n\n<pre><code>if (\"file\".equals(resourceUrl.getProtocol())\n    &amp;&amp; new File(resourceUrl.toURI()).isDirectory()) {\n    // it's a directory\n}\n</code></pre>\n\n<p>Hope this helps the next reader.</p>\n\n<p>Note: please see @awwsmm comment. It was my assumption when provided the answer above. Basically, it doesn't make sense to test if a remote resource is a directory or anything. It is totally up to the site to decide what to return for each request.</p>\n"},{"tags":[],"owner":{"account_id":8614969,"reputation":1,"user_id":6452203,"display_name":"Simon"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1472051585,"creation_date":1472051232,"answer_id":39127017,"question_id":14100489,"body_markdown":"It won&#39;t work because protocol would be http:// not file://.\r\n\r\n     class TestURL{\r\n       public static boolean isDirectory(URL resourceUrl){\r\n         if (&quot;file&quot;.equals(resourceUrl.getProtocol())\r\n           &amp;&amp; new File(resourceUrl.toURI()).isDirectory()) {\r\n            true;\r\n         }\r\n         return false;\r\n       }\r\n       public static void main(String[] args){\r\n         System.out.println(TestURL.isDirectory(&quot;http://example.com/mydir/&quot;));\r\n       }\r\n     }","title":"Check if Url refers to file or DIrectory. (HTTP)","body":"<p>It won't work because protocol would be http:// not file://.</p>\n\n<pre><code> class TestURL{\n   public static boolean isDirectory(URL resourceUrl){\n     if (\"file\".equals(resourceUrl.getProtocol())\n       &amp;&amp; new File(resourceUrl.toURI()).isDirectory()) {\n        true;\n     }\n     return false;\n   }\n   public static void main(String[] args){\n     System.out.println(TestURL.isDirectory(\"http://example.com/mydir/\"));\n   }\n }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":10385580,"reputation":300,"user_id":7658797,"display_name":"TheKodeToad"},"score":0,"creation_date":1638094982,"post_id":56690788,"comment_id":123991530,"body_markdown":"I will not downvote this, but this will only be the case with some web servers.","body":"I will not downvote this, but this will only be the case with some web servers."}],"tags":[],"owner":{"account_id":438466,"reputation":191,"user_id":826753,"display_name":"Jens Petersen"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1561050225,"creation_date":1561050225,"answer_id":56690788,"question_id":14100489,"body_markdown":"I think a directory `http://example.com/some/dir` will redirect to `http://example.com/some/dir/`, a file will not.\r\n\r\nie one can examine the http `Location` field in the HEAD response:\r\n\r\n```\r\n$ curl -I http://example.com/some/dir | grep Location\r\nLocation: http://example.com/some/dir/\r\n```\r\n","title":"Check if Url refers to file or DIrectory. (HTTP)","body":"<p>I think a directory <code>http://example.com/some/dir</code> will redirect to <code>http://example.com/some/dir/</code>, a file will not.</p>\n\n<p>ie one can examine the http <code>Location</code> field in the HEAD response:</p>\n\n<pre><code>$ curl -I http://example.com/some/dir | grep Location\nLocation: http://example.com/some/dir/\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3590209,"reputation":1021,"user_id":2996452,"accept_rate":62,"display_name":"Jokkeri"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675775279,"creation_date":1675764336,"answer_id":75371796,"question_id":14100489,"body_markdown":"In my case I needed to download a file with HTTPS and there was occasions that server was misconfigured to redirect the request and thus would download only http data.\r\n\r\nIn my case I was able to &quot;decide&quot; whether the requested resource was file or not was inspecting &quot;content type&quot; / aka MIME type.\r\n\r\n            String[] allowedMimeTypes = new String[] { &quot;application/octet-stream&quot;, &quot;image/gif&quot;,\r\n                &quot;text/css&quot;, &quot;text/csv&quot;, &quot;text/plain&quot;, &quot;text/xml&quot; };            \r\n            URL website = new URL(&quot;https://localhost/public/&quot; + file);\r\n            HttpsURLConnection huc = (HttpsURLConnection) website\r\n                    .openConnection();\r\n            if (!Arrays.asList(allowedMimeTypes).contains(huc.getContentType())) {\r\n                throw new Exception(&quot;Not a file...&quot;);\r\n            }\r\n\r\nWhen the response contained `text/html;charset=utf-8` or similar I was able to determine that it was indeed not a file.\r\n\r\nAlso note that these MIME types are usually quite configurable on server side.","title":"Check if Url refers to file or DIrectory. (HTTP)","body":"<p>In my case I needed to download a file with HTTPS and there was occasions that server was misconfigured to redirect the request and thus would download only http data.</p>\n<p>In my case I was able to &quot;decide&quot; whether the requested resource was file or not was inspecting &quot;content type&quot; / aka MIME type.</p>\n<pre><code>        String[] allowedMimeTypes = new String[] { &quot;application/octet-stream&quot;, &quot;image/gif&quot;,\n            &quot;text/css&quot;, &quot;text/csv&quot;, &quot;text/plain&quot;, &quot;text/xml&quot; };            \n        URL website = new URL(&quot;https://localhost/public/&quot; + file);\n        HttpsURLConnection huc = (HttpsURLConnection) website\n                .openConnection();\n        if (!Arrays.asList(allowedMimeTypes).contains(huc.getContentType())) {\n            throw new Exception(&quot;Not a file...&quot;);\n        }\n</code></pre>\n<p>When the response contained <code>text/html;charset=utf-8</code> or similar I was able to determine that it was indeed not a file.</p>\n<p>Also note that these MIME types are usually quite configurable on server side.</p>\n"}],"owner":{"account_id":2192677,"reputation":61,"user_id":1939247,"display_name":"roopak27"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6328,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":4,"score":6,"last_activity_date":1675775279,"creation_date":1356950356,"question_id":14100489,"body_markdown":"How can I determine if an url is referring to a file or directory. the link http://example.com/test.txt should return that it is a file an http://example.com/dir/ is a directory\r\n\r\nI know you can do this with the Uri class but this objects IsFile function only works with the file:/// scheme. And I am working with the http:// scheme. Any idea&#39;s?\r\n\r\n\r\n\r\nThanks ","title":"Check if Url refers to file or DIrectory. (HTTP)","body":"<p>How can I determine if an url is referring to a file or directory. the link <a href=\"http://example.com/test.txt\" rel=\"noreferrer\">http://example.com/test.txt</a> should return that it is a file an <a href=\"http://example.com/dir/\" rel=\"noreferrer\">http://example.com/dir/</a> is a directory</p>\n\n<p>I know you can do this with the Uri class but this objects IsFile function only works with the file:/// scheme. And I am working with the http:// scheme. Any idea's?</p>\n\n<p>Thanks </p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":794766,"reputation":158675,"user_id":871026,"accept_rate":76,"display_name":"Reimeus"},"score":0,"creation_date":1675706368,"post_id":75364898,"comment_id":132982467,"body_markdown":"https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java","body":"<a href=\"https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java\" title=\"how do i compare strings in java\">stackoverflow.com/questions/513832/&hellip;</a>"},{"owner":{"account_id":7720636,"reputation":1532,"user_id":5846981,"accept_rate":100,"display_name":"Som"},"score":0,"creation_date":1675706602,"post_id":75364898,"comment_id":132982530,"body_markdown":"Sorry this is not about Strings. I have updated my question.","body":"Sorry this is not about Strings. I have updated my question."},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":3,"creation_date":1675708298,"post_id":75364898,"comment_id":132982950,"body_markdown":"Can you possibly add a small sample of data in aList, bList and the resulting filteredLIst? It would help my understanding.","body":"Can you possibly add a small sample of data in aList, bList and the resulting filteredLIst? It would help my understanding."}],"answers":[{"comments":[{"owner":{"account_id":7720636,"reputation":1532,"user_id":5846981,"accept_rate":100,"display_name":"Som"},"score":0,"creation_date":1675752935,"post_id":75366265,"comment_id":132990996,"body_markdown":"Hi Can u please check my sample data and let me know how we can achieve that using java 8 streams. I don&#39;t want actually the brute force way to do that. In ur sample I can see all elements in aList and bList differing. Test with my sample data once.","body":"Hi Can u please check my sample data and let me know how we can achieve that using java 8 streams. I don&#39;t want actually the brute force way to do that. In ur sample I can see all elements in aList and bList differing. Test with my sample data once."},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1675774844,"post_id":75366265,"comment_id":132997500,"body_markdown":"@Som I updated the answer to include a stream solution with your data.","body":"@Som I updated the answer to include a stream solution with your data."}],"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1675775162,"creation_date":1675715444,"answer_id":75366265,"question_id":75364898,"body_markdown":"I added a `constructor`, `matches` method and a `toString()` method to your class.  The `matches` method was created since overriding equals would not meet the reflexive requirements where `x.equals(x)` is true.\r\n```\r\nclass A {\r\n\r\n    public A(int no, int age, int foo, int bar) {\r\n        this.no = no;\r\n        this.age = age;\r\n        this.foo = foo;\r\n        this.bar = bar;\r\n    }\r\n\r\n    int no;\r\n    int age;\r\n    int foo;\r\n    int bar;\r\n\r\n    public boolean matches(A a) {\r\n        return a.no == this.no &amp;&amp; (a.age != this.age || a.foo != this.foo);\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;A{%d, %d, %d, %d}&quot;.formatted(no, age, foo, bar);\r\n    }\r\n}\r\n```\r\nNow generate some data\r\n```\r\nList&lt;A&gt; aList = new ArrayList&lt;&gt;();\r\nList&lt;A&gt; bList = new ArrayList&lt;&gt;();\r\nRandom r = new Random();\r\nfor (int i = 0; i &lt; 10; i++) {\r\n    aList.add(new A(r.nextInt(5), r.nextInt(5), r.nextInt(5),\r\n            r.nextInt(5)));\r\n    bList.add(new A(r.nextInt(5), r.nextInt(5), r.nextInt(5),\r\n            r.nextInt(5)));\r\n}\r\n```\r\nNow print the generated values.\r\n```\r\nfor (int i = 0; i &lt; aList.size(); i++) {\r\n    System.out.printf(&quot;aList(%d) = %s     bList(%d) = %s%n&quot;, i, aList.get(i), i, bList.get(i));\r\n}\r\n```\r\n- iterate over the `aList` and check to see if corresponding elements satisfy the `match` criteria.\r\n- if so, add `a` to the results list.\r\n- then print the results.\r\n```\r\nList&lt;A&gt; results = new ArrayList&lt;&gt;();\r\nint i = 0;\r\nfor (A a : aList) {\r\n    if (a.matches(bList.get(i++))) {\r\n        results.add(a);\r\n    }\r\n}\r\n\r\nSystem.out.println();\r\nresults.forEach(System.out::println);\r\n```\r\noutput will be something like the following:\r\n```\r\naList(0) = A{0, 1, 4, 1}     bList(0) = A{0, 2, 2, 2}\r\naList(1) = A{1, 4, 0, 3}     bList(1) = A{1, 2, 2, 3}\r\naList(2) = A{1, 1, 1, 4}     bList(2) = A{1, 4, 2, 2}\r\naList(3) = A{0, 4, 3, 3}     bList(3) = A{3, 2, 0, 2}\r\naList(4) = A{0, 4, 3, 1}     bList(4) = A{1, 0, 4, 3}\r\naList(5) = A{3, 2, 3, 1}     bList(5) = A{1, 2, 0, 3}\r\naList(6) = A{4, 3, 0, 2}     bList(6) = A{3, 4, 0, 3}\r\naList(7) = A{4, 3, 2, 4}     bList(7) = A{2, 1, 2, 2}\r\naList(8) = A{0, 3, 4, 3}     bList(8) = A{3, 3, 4, 4}\r\naList(9) = A{1, 3, 3, 4}     bList(9) = A{0, 1, 2, 0}\r\n\r\nA{0, 1, 4, 1}\r\nA{1, 4, 0, 3}\r\nA{1, 1, 1, 4}\r\n```\r\n**Updated Answer**\r\n\r\n- Here is one way.  This won&#39;t work unless your lists are declared final or are effectively final.\r\n\r\n```\r\nfinal List&lt;A&gt; aList = List.of(new A(2, 20, 50, 60), new A(3, 25, 40, 60),\r\n        new A(4, 40, 10, 20));\r\nfinal List&lt;A&gt; bList = List.of(new A(2, 10, 50, 60), new A(3, 25, 50, 60),\r\n        new A(4, 40, 10, 20));\r\n\r\nList&lt;A&gt; results = IntStream.range(0, aList.size())\r\n        .filter(k -&gt; aList.get(k).matches(bList.get(k)))\r\n        .mapToObj(aList::get).toList();\r\n\r\nresults.forEach(System.out::println);\r\n\r\n```\r\nprints\r\n```\r\nA{2, 20, 50, 60}\r\nA{3, 25, 40, 60}\r\n\r\n","title":"Compare two list of custom objects with individual fields and save to a new list in java","body":"<p>I added a <code>constructor</code>, <code>matches</code> method and a <code>toString()</code> method to your class.  The <code>matches</code> method was created since overriding equals would not meet the reflexive requirements where <code>x.equals(x)</code> is true.</p>\n<pre><code>class A {\n\n    public A(int no, int age, int foo, int bar) {\n        this.no = no;\n        this.age = age;\n        this.foo = foo;\n        this.bar = bar;\n    }\n\n    int no;\n    int age;\n    int foo;\n    int bar;\n\n    public boolean matches(A a) {\n        return a.no == this.no &amp;&amp; (a.age != this.age || a.foo != this.foo);\n    }\n\n    @Override\n    public String toString() {\n        return &quot;A{%d, %d, %d, %d}&quot;.formatted(no, age, foo, bar);\n    }\n}\n</code></pre>\n<p>Now generate some data</p>\n<pre><code>List&lt;A&gt; aList = new ArrayList&lt;&gt;();\nList&lt;A&gt; bList = new ArrayList&lt;&gt;();\nRandom r = new Random();\nfor (int i = 0; i &lt; 10; i++) {\n    aList.add(new A(r.nextInt(5), r.nextInt(5), r.nextInt(5),\n            r.nextInt(5)));\n    bList.add(new A(r.nextInt(5), r.nextInt(5), r.nextInt(5),\n            r.nextInt(5)));\n}\n</code></pre>\n<p>Now print the generated values.</p>\n<pre><code>for (int i = 0; i &lt; aList.size(); i++) {\n    System.out.printf(&quot;aList(%d) = %s     bList(%d) = %s%n&quot;, i, aList.get(i), i, bList.get(i));\n}\n</code></pre>\n<ul>\n<li>iterate over the <code>aList</code> and check to see if corresponding elements satisfy the <code>match</code> criteria.</li>\n<li>if so, add <code>a</code> to the results list.</li>\n<li>then print the results.</li>\n</ul>\n<pre><code>List&lt;A&gt; results = new ArrayList&lt;&gt;();\nint i = 0;\nfor (A a : aList) {\n    if (a.matches(bList.get(i++))) {\n        results.add(a);\n    }\n}\n\nSystem.out.println();\nresults.forEach(System.out::println);\n</code></pre>\n<p>output will be something like the following:</p>\n<pre><code>aList(0) = A{0, 1, 4, 1}     bList(0) = A{0, 2, 2, 2}\naList(1) = A{1, 4, 0, 3}     bList(1) = A{1, 2, 2, 3}\naList(2) = A{1, 1, 1, 4}     bList(2) = A{1, 4, 2, 2}\naList(3) = A{0, 4, 3, 3}     bList(3) = A{3, 2, 0, 2}\naList(4) = A{0, 4, 3, 1}     bList(4) = A{1, 0, 4, 3}\naList(5) = A{3, 2, 3, 1}     bList(5) = A{1, 2, 0, 3}\naList(6) = A{4, 3, 0, 2}     bList(6) = A{3, 4, 0, 3}\naList(7) = A{4, 3, 2, 4}     bList(7) = A{2, 1, 2, 2}\naList(8) = A{0, 3, 4, 3}     bList(8) = A{3, 3, 4, 4}\naList(9) = A{1, 3, 3, 4}     bList(9) = A{0, 1, 2, 0}\n\nA{0, 1, 4, 1}\nA{1, 4, 0, 3}\nA{1, 1, 1, 4}\n</code></pre>\n<p><strong>Updated Answer</strong></p>\n<ul>\n<li>Here is one way.  This won't work unless your lists are declared final or are effectively final.</li>\n</ul>\n<pre><code>final List&lt;A&gt; aList = List.of(new A(2, 20, 50, 60), new A(3, 25, 40, 60),\n        new A(4, 40, 10, 20));\nfinal List&lt;A&gt; bList = List.of(new A(2, 10, 50, 60), new A(3, 25, 50, 60),\n        new A(4, 40, 10, 20));\n\nList&lt;A&gt; results = IntStream.range(0, aList.size())\n        .filter(k -&gt; aList.get(k).matches(bList.get(k)))\n        .mapToObj(aList::get).toList();\n\nresults.forEach(System.out::println);\n\n</code></pre>\n<p>prints</p>\n<pre><code>A{2, 20, 50, 60}\nA{3, 25, 40, 60}\n\n</code></pre>\n"}],"owner":{"account_id":7720636,"reputation":1532,"user_id":5846981,"accept_rate":100,"display_name":"Som"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":75366265,"answer_count":1,"score":-2,"last_activity_date":1675775162,"creation_date":1675706144,"question_id":75364898,"body_markdown":"I have 2 custom list of Java objects.\r\n\r\n    @Data\r\n    Class A{\r\n      int no;\r\n      int age;\r\n      int foo;\r\n      int bar;\r\n    }\r\n\r\n    List&lt;A&gt; aList = populateFromDB();\r\n    List&lt;A&gt; bList = populateFromReq();\r\n\r\nNow I want a 3rd list which will contain filtered objects from bList. \r\n\r\nThe filtering is based on this criteria :\r\n\r\n    no should match;\r\n    age OR foo anyone should differ;\r\n  \r\nSample Data set :\r\n\r\n    Input :\r\n    aList = [{2,20,50,60} , {3,25,40,60} , {4,40,10,20}]\r\n    bList = [{2,10,50,60} , {3,25,50,60} , {4,40,10,20}]\r\n\r\n\r\n    Output :\r\n    filteredList = [{2,10,50,60} , {3,25,50,60}]  \r\n    // first 2 elements in bList are different hence they should be added to the filtered list.\r\n\r\n    // aList contains records from DB.\r\n    // bList contains records of same size as aList but few elements are different.\r\n    // Need to compare bList with aList and find the records that are different and create a separate list and update those records in DB.\r\n\r\n\r\n\r\nI am trying this code :\r\n\r\n    List&lt;A&gt; filteredList = bList.stream()\r\n                                .filter(i -&gt; aList.stream()\r\n                                                   .anyMatch(j -&gt; (j.getNo() == i.getNo() &amp;&amp;\r\n                                                                   (j.getAge() != i.getAge() || \r\n                                                                   j.getFoo() != i.getFoo())\r\n                                                                  )\r\n                                                             )\r\n                                       )\r\n                                 .collect(Collectors.toList());\r\n\r\nBut the above is not giving me desired results. It is giving me records which does not fulfil the criteria I have mentioned. I am not sure where I am making wrong.\r\n\r\nI have also tried the below code :\r\n\r\n    List&lt;A&gt; intersect = a.stream()\r\n                        .filter(b::contains)\r\n                        .collect(Collectors.toList());\r\n\r\n\r\nCan anyone help me how to compare 2 custom list based on some fields and form a new list.\r\n\r\n**UPDATE-1** : Its not about comparing String. So for simplicity sake I am replacing strings with Integers.\r\n\r\n**UPDATE-2** : Added sample i/p  and o/p data.","title":"Compare two list of custom objects with individual fields and save to a new list in java","body":"<p>I have 2 custom list of Java objects.</p>\n<pre><code>@Data\nClass A{\n  int no;\n  int age;\n  int foo;\n  int bar;\n}\n\nList&lt;A&gt; aList = populateFromDB();\nList&lt;A&gt; bList = populateFromReq();\n</code></pre>\n<p>Now I want a 3rd list which will contain filtered objects from bList.</p>\n<p>The filtering is based on this criteria :</p>\n<pre><code>no should match;\nage OR foo anyone should differ;\n</code></pre>\n<p>Sample Data set :</p>\n<pre><code>Input :\naList = [{2,20,50,60} , {3,25,40,60} , {4,40,10,20}]\nbList = [{2,10,50,60} , {3,25,50,60} , {4,40,10,20}]\n\n\nOutput :\nfilteredList = [{2,10,50,60} , {3,25,50,60}]  \n// first 2 elements in bList are different hence they should be added to the filtered list.\n\n// aList contains records from DB.\n// bList contains records of same size as aList but few elements are different.\n// Need to compare bList with aList and find the records that are different and create a separate list and update those records in DB.\n</code></pre>\n<p>I am trying this code :</p>\n<pre><code>List&lt;A&gt; filteredList = bList.stream()\n                            .filter(i -&gt; aList.stream()\n                                               .anyMatch(j -&gt; (j.getNo() == i.getNo() &amp;&amp;\n                                                               (j.getAge() != i.getAge() || \n                                                               j.getFoo() != i.getFoo())\n                                                              )\n                                                         )\n                                   )\n                             .collect(Collectors.toList());\n</code></pre>\n<p>But the above is not giving me desired results. It is giving me records which does not fulfil the criteria I have mentioned. I am not sure where I am making wrong.</p>\n<p>I have also tried the below code :</p>\n<pre><code>List&lt;A&gt; intersect = a.stream()\n                    .filter(b::contains)\n                    .collect(Collectors.toList());\n</code></pre>\n<p>Can anyone help me how to compare 2 custom list based on some fields and form a new list.</p>\n<p><strong>UPDATE-1</strong> : Its not about comparing String. So for simplicity sake I am replacing strings with Integers.</p>\n<p><strong>UPDATE-2</strong> : Added sample i/p  and o/p data.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":1,"creation_date":1675759129,"post_id":75370748,"comment_id":132992520,"body_markdown":"Try `output.writeObject`","body":"Try <code>output.writeObject</code>"},{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":3,"creation_date":1675759561,"post_id":75370748,"comment_id":132992657,"body_markdown":"If all you want to do is read and write `byte[]` then you don&#39;t need and should in fact avoid using `ObjectOutputStream` and `ObjectInputStream`. A plain old `InputStream`/`OutputStream` (like the `File...` variants) is more than enough for that. The `Object...` variants are for serializing Java objects in the Java-specific format using serialization. `byte[]` already have their own, very simple representation and don&#39;t need that.","body":"If all you want to do is read and write <code>byte[]</code> then you don&#39;t need and should in fact avoid using <code>ObjectOutputStream</code> and <code>ObjectInputStream</code>. A plain old <code>InputStream</code>/<code>OutputStream</code> (like the <code>File...</code> variants) is more than enough for that. The <code>Object...</code> variants are for serializing Java objects in the Java-specific format using serialization. <code>byte[]</code> already have their own, very simple representation and don&#39;t need that."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1675769008,"post_id":75370748,"comment_id":132995663,"body_markdown":"You can only read objects with `ObjectInputStream` if they were written with `ObjectOutputStream`. Based on your description, it is unlikely that is the case.","body":"You can only read objects with <code>ObjectInputStream</code> if they were written with <code>ObjectOutputStream</code>. Based on your description, it is unlikely that is the case."},{"owner":{"account_id":26899499,"reputation":1,"user_id":20476883,"display_name":"Li&#39;s hideout"},"score":1,"creation_date":1675772013,"post_id":75370748,"comment_id":132996575,"body_markdown":"@MauricePerry you&#39;re right i made a silly mistake not including the writeObject. Thank you very much!!","body":"@MauricePerry you&#39;re right i made a silly mistake not including the writeObject. Thank you very much!!"}],"answers":[{"tags":[],"owner":{"account_id":17531877,"reputation":1654,"user_id":12715723,"display_name":"Jordy"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1675768045,"creation_date":1675768045,"answer_id":75372491,"question_id":75370748,"body_markdown":"To solve your problem, I prefer you :\r\n1. Add implementation of `URLConnection` for avoidance from Http Status `403` / Forbidden. [Reference][1]\r\n2. use `ByteArrayOutputStream` to write the byte and save it into file using `ObjectOutputStream`\r\n3. [if you read with readObject() you must write with writeObject()][2]\r\n\r\n```\r\npublic class JavaApplication {\r\n\r\n    public static void main(String[] args) throws IOException, ClassNotFoundException {\r\n        URL u = new URL(&quot;https://www.javatpoint.com/java-string-valueof&quot;);\r\n        URLConnection uc = u.openConnection();\r\n        uc.addRequestProperty(&quot;User-Agent&quot;, &quot;Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.0)&quot;);\r\n        ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n        InputStream is = null;\r\n\r\n        try {\r\n            is = uc.getInputStream();\r\n            byte[] byteChunk = new byte[4096]; // Or whatever size you want to read in at a time.\r\n            int n;\r\n            while ((n = is.read(byteChunk)) &gt; 0) {\r\n                baos.write(byteChunk, 0, n);\r\n            }\r\n        } catch (IOException e) {\r\n            System.err.printf(&quot;Failed while reading bytes from %s: %s&quot;, u.toExternalForm(), e.getMessage());\r\n        } finally {\r\n            if (is != null) {\r\n                is.close();\r\n            }\r\n        }\r\n\r\n        byte[] bytes = baos.toByteArray();\r\n        ObjectOutputStream output = new ObjectOutputStream(new FileOutputStream(&quot;binary.dat&quot;));\r\n        output.writeObject(bytes);\r\n        output.close();\r\n        //Scanning the URL works just not the try and catch block\r\n\r\n        try {\r\n            ObjectInputStream input = new ObjectInputStream(new FileInputStream(&quot;binary.dat&quot;));\r\n            byte[] byte1 = (byte[]) input.readObject();\r\n            String any;\r\n            for (int i = 0; i &lt; byte1.length; i++) {\r\n                any = String.valueOf(byte1[i]);\r\n                System.out.println(any);\r\n            }\r\n            input.close();\r\n        } catch (IOException e) {\r\n            System.out.println(e);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/4797723/12715723\r\n  [2]: https://stackoverflow.com/a/23262382/12715723","title":"Why can&#39;t I read an object from a binary file using ObjectInputStream wrapped with a FIleInputStream?","body":"<p>To solve your problem, I prefer you :</p>\n<ol>\n<li>Add implementation of <code>URLConnection</code> for avoidance from Http Status <code>403</code> / Forbidden. <a href=\"https://stackoverflow.com/a/4797723/12715723\">Reference</a></li>\n<li>use <code>ByteArrayOutputStream</code> to write the byte and save it into file using <code>ObjectOutputStream</code></li>\n<li><a href=\"https://stackoverflow.com/a/23262382/12715723\">if you read with readObject() you must write with writeObject()</a></li>\n</ol>\n<pre><code>public class JavaApplication {\n\n    public static void main(String[] args) throws IOException, ClassNotFoundException {\n        URL u = new URL(&quot;https://www.javatpoint.com/java-string-valueof&quot;);\n        URLConnection uc = u.openConnection();\n        uc.addRequestProperty(&quot;User-Agent&quot;, &quot;Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.0)&quot;);\n        ByteArrayOutputStream baos = new ByteArrayOutputStream();\n        InputStream is = null;\n\n        try {\n            is = uc.getInputStream();\n            byte[] byteChunk = new byte[4096]; // Or whatever size you want to read in at a time.\n            int n;\n            while ((n = is.read(byteChunk)) &gt; 0) {\n                baos.write(byteChunk, 0, n);\n            }\n        } catch (IOException e) {\n            System.err.printf(&quot;Failed while reading bytes from %s: %s&quot;, u.toExternalForm(), e.getMessage());\n        } finally {\n            if (is != null) {\n                is.close();\n            }\n        }\n\n        byte[] bytes = baos.toByteArray();\n        ObjectOutputStream output = new ObjectOutputStream(new FileOutputStream(&quot;binary.dat&quot;));\n        output.writeObject(bytes);\n        output.close();\n        //Scanning the URL works just not the try and catch block\n\n        try {\n            ObjectInputStream input = new ObjectInputStream(new FileInputStream(&quot;binary.dat&quot;));\n            byte[] byte1 = (byte[]) input.readObject();\n            String any;\n            for (int i = 0; i &lt; byte1.length; i++) {\n                any = String.valueOf(byte1[i]);\n                System.out.println(any);\n            }\n            input.close();\n        } catch (IOException e) {\n            System.out.println(e);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675775027,"creation_date":1675775027,"answer_id":75373773,"question_id":75370748,"body_markdown":"As the first commenter said, your main problem was not using `writeObject`. The only other problem is the way you turn the bytes into text. Your code will result in the &#39;ascii&#39; code of the character being printed instead of the character itself. In fact you can simplify the output code as follows:\r\n\r\n    import java.io.*;\r\n    import java.net.*;\r\n    \r\n    public class JavaApplication {\r\n        public static void main(String[] args) throws IOException {\r\n            URL u = new URL(&quot;https://www.javatpoint.com/java-string-valueof&quot;);\r\n            byte[] bytes = u.openStream().readAllBytes();\r\n            ObjectOutputStream output = new ObjectOutputStream(new FileOutputStream(&quot;binary.dat&quot;));\r\n            output.writeObject(bytes);\r\n            output.close();\r\n    \r\n            try {\r\n                ObjectInputStream input = new ObjectInputStream(new FileInputStream(&quot;binary.dat&quot;));\r\n                byte[] byte1 = (byte[]) input.readObject();\r\n                System.out.println(new String(byte1));\r\n                input.close();\r\n            } catch (Exception e) {\r\n                e.printStackTrace();    \r\n            }\r\n        }\r\n    \r\n    }\r\n\r\n","title":"Why can&#39;t I read an object from a binary file using ObjectInputStream wrapped with a FIleInputStream?","body":"<p>As the first commenter said, your main problem was not using <code>writeObject</code>. The only other problem is the way you turn the bytes into text. Your code will result in the 'ascii' code of the character being printed instead of the character itself. In fact you can simplify the output code as follows:</p>\n<pre><code>import java.io.*;\nimport java.net.*;\n\npublic class JavaApplication {\n    public static void main(String[] args) throws IOException {\n        URL u = new URL(&quot;https://www.javatpoint.com/java-string-valueof&quot;);\n        byte[] bytes = u.openStream().readAllBytes();\n        ObjectOutputStream output = new ObjectOutputStream(new FileOutputStream(&quot;binary.dat&quot;));\n        output.writeObject(bytes);\n        output.close();\n\n        try {\n            ObjectInputStream input = new ObjectInputStream(new FileInputStream(&quot;binary.dat&quot;));\n            byte[] byte1 = (byte[]) input.readObject();\n            System.out.println(new String(byte1));\n            input.close();\n        } catch (Exception e) {\n            e.printStackTrace();    \n        }\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":26899499,"reputation":1,"user_id":20476883,"display_name":"Li&#39;s hideout"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1675775027,"creation_date":1675758904,"question_id":75370748,"body_markdown":"```\r\npublic class JavaApplication {\r\n    public static void main(String[] args) throws IOException{\r\n      URL u = new URL(&quot;https://www.javatpoint.com/java-string-valueof&quot;);\r\n      byte[]bytes= u.openStream().readAllBytes();\r\n      ObjectOutputStream output= new ObjectOutputStream(\r\n              new FileOutputStream(&quot;binary.dat&quot;));\r\n      output.write(bytes);\r\n      output.close();\r\n\r\n        //Scanning the URL works just not the try and catch block\r\n      \r\n\r\n\r\n      try{ \r\n      ObjectInputStream input = new ObjectInputStream(new FileInputStream\r\n    (&quot;binary.dat&quot;));\r\n      byte[]byte1= (byte[])input.readObject();\r\n         String any;\r\n       for(int i=0; i&lt;byte1.length; i++){\r\n            any=String.valueOf(byte1[i]);\r\n           System.out.println(any);\r\n       }\r\n       input.close();\r\n     }\r\n    catch(Exception e){\r\n            System.out.println(e);}\r\n    }\r\n    \r\n    }\r\n```\r\n\r\nI used a new byte array to read the object from file, use String.valueOf() to obtain the String value of the byte, then a for-loop to iterate the String. What am I doing wrong?","title":"Why can&#39;t I read an object from a binary file using ObjectInputStream wrapped with a FIleInputStream?","body":"<pre><code>public class JavaApplication {\n    public static void main(String[] args) throws IOException{\n      URL u = new URL(&quot;https://www.javatpoint.com/java-string-valueof&quot;);\n      byte[]bytes= u.openStream().readAllBytes();\n      ObjectOutputStream output= new ObjectOutputStream(\n              new FileOutputStream(&quot;binary.dat&quot;));\n      output.write(bytes);\n      output.close();\n\n        //Scanning the URL works just not the try and catch block\n      \n\n\n      try{ \n      ObjectInputStream input = new ObjectInputStream(new FileInputStream\n    (&quot;binary.dat&quot;));\n      byte[]byte1= (byte[])input.readObject();\n         String any;\n       for(int i=0; i&lt;byte1.length; i++){\n            any=String.valueOf(byte1[i]);\n           System.out.println(any);\n       }\n       input.close();\n     }\n    catch(Exception e){\n            System.out.println(e);}\n    }\n    \n    }\n</code></pre>\n<p>I used a new byte array to read the object from file, use String.valueOf() to obtain the String value of the byte, then a for-loop to iterate the String. What am I doing wrong?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":48120,"reputation":93879,"user_id":142822,"display_name":"KV Prajapati"},"score":2,"creation_date":1347333195,"post_id":12362212,"comment_id":16602467,"body_markdown":"`if(id == null)` is the *best* method.","body":"<code>if(id == null)</code> is the <i>best</i> method."},{"owner":{"account_id":290123,"reputation":29330,"user_id":591495,"display_name":"obataku"},"score":0,"creation_date":1347333679,"post_id":12362212,"comment_id":16602531,"body_markdown":"Reference fields are initialized to their default value, `null`, in the absence of an explicit initializer.","body":"Reference fields are initialized to their default value, <code>null</code>, in the absence of an explicit initializer."}],"answers":[{"comments":[{"owner":{"account_id":1828099,"reputation":3430,"user_id":1660298,"accept_rate":85,"display_name":"th3an0maly"},"score":2,"creation_date":1347444530,"post_id":12362245,"comment_id":16639558,"body_markdown":"But if I do this, I&#39;m gonna have to edit the method each time I add a field to the class. Besides, a generic method can be put in an abstract class and extended to be used in all other Value Objects","body":"But if I do this, I&#39;m gonna have to edit the method each time I add a field to the class. Besides, a generic method can be put in an abstract class and extended to be used in all other Value Objects"},{"owner":{"account_id":8291,"reputation":860527,"user_id":14860,"accept_rate":100,"display_name":"paxdiablo"},"score":4,"creation_date":1347445382,"post_id":12362245,"comment_id":16639859,"body_markdown":"Yes, you will. I&#39;m not sure why you think that&#39;s a problem. You _know_ what fields you&#39;re adding, you have to create setters and getters for them. Adding a simple one extra line of checking is not a lot of extra work.","body":"Yes, you will. I&#39;m not sure why you think that&#39;s a problem. You <i>know</i> what fields you&#39;re adding, you have to create setters and getters for them. Adding a simple one extra line of checking is not a lot of extra work."},{"owner":{"account_id":3048712,"reputation":4198,"user_id":2583765,"accept_rate":75,"display_name":"birgersp"},"score":0,"creation_date":1473854890,"post_id":12362245,"comment_id":66297623,"body_markdown":"I think OP means &quot;What is the easiest, most efficient way&quot;. If that&#39;s the case then this is, in my personal opinion, a terrible answer","body":"I think OP means &quot;What is the easiest, most efficient way&quot;. If that&#39;s the case then this is, in my personal opinion, a terrible answer"},{"owner":{"account_id":8291,"reputation":860527,"user_id":14860,"accept_rate":100,"display_name":"paxdiablo"},"score":2,"creation_date":1473855645,"post_id":12362245,"comment_id":66298147,"body_markdown":"@Birger, if that&#39;s what they meant, they should have said that. They&#39;ve had ample opportunity to change it in the intervening four-or-so years :-) In any case, as others have also suggested, this is a perfectly acceptable method unless your class is so unstable, it&#39;s having member variables added or removed massively frequently.","body":"@Birger, if that&#39;s what they meant, they should have said that. They&#39;ve had ample opportunity to change it in the intervening four-or-so years :-) In any case, as others have also suggested, this is a perfectly acceptable method unless your class is so unstable, it&#39;s having member variables added or removed massively frequently."},{"owner":{"account_id":3048712,"reputation":4198,"user_id":2583765,"accept_rate":75,"display_name":"birgersp"},"score":1,"creation_date":1473866333,"post_id":12362245,"comment_id":66305691,"body_markdown":"I concurr, the classes should not be changed. OP *did* however write that he&#39;d rather not have to check `(variable == null)` for each variable, and I sympathize with that. It would be neat to have some general way of checking if fields in any given object are null (or not)","body":"I concurr, the classes should not be changed. OP <i>did</i> however write that he&#39;d rather not have to check <code>(variable == null)</code> for each variable, and I sympathize with that. It would be neat to have some general way of checking if fields in any given object are null (or not)"},{"owner":{"account_id":2682989,"reputation":264,"user_id":2317924,"display_name":"ebwb"},"score":1,"creation_date":1555446204,"post_id":12362245,"comment_id":98112584,"body_markdown":"@paxdiablo just as an aside, one argument for a more dynamic approach is when you&#39;re converting, say, a DTO to a JPA entity-style object or something. If you don&#39;t have a way of dynamically checking for any null properties, it gets harder to write a unit test that will fail when you forget to add a conversion for that new property you just added to the DTO.","body":"@paxdiablo just as an aside, one argument for a more dynamic approach is when you&#39;re converting, say, a DTO to a JPA entity-style object or something. If you don&#39;t have a way of dynamically checking for any null properties, it gets harder to write a unit test that will fail when you forget to add a conversion for that new property you just added to the DTO."}],"tags":[],"owner":{"account_id":8291,"reputation":860527,"user_id":14860,"accept_rate":100,"display_name":"paxdiablo"},"comment_count":6,"down_vote_count":2,"up_vote_count":7,"is_accepted":false,"score":5,"last_activity_date":1347333270,"creation_date":1347333270,"answer_id":12362245,"question_id":12362212,"body_markdown":"&quot;Best&quot; is such a subjective term :-)\r\n\r\nI would just use the method of checking each individual variable. If your class already has a lot of these, the _increase_ in size is not going to be that much if you do something like:\r\n\r\n    public Boolean anyUnset() {\r\n        if (  id == null) return true;\r\n        if (name == null) return true;\r\n        return false;\r\n    }\r\n\r\nProvided you keep everything in the same order, code changes (and automated checking with a script if you&#39;re paranoid) will be relatively painless.\r\n\r\nAlternatively (assuming they&#39;re all strings), you could basically put these values into a map of some sort (eg, `HashMap`) and just keep a list of the key names for that list. That way, you could iterate through the list of keys, checking that the values are set correctly.\r\n","title":"What is the best way to know if all the variables in a Class are null?","body":"<p>\"Best\" is such a subjective term :-)</p>\n\n<p>I would just use the method of checking each individual variable. If your class already has a lot of these, the <em>increase</em> in size is not going to be that much if you do something like:</p>\n\n<pre><code>public Boolean anyUnset() {\n    if (  id == null) return true;\n    if (name == null) return true;\n    return false;\n}\n</code></pre>\n\n<p>Provided you keep everything in the same order, code changes (and automated checking with a script if you're paranoid) will be relatively painless.</p>\n\n<p>Alternatively (assuming they're all strings), you could basically put these values into a map of some sort (eg, <code>HashMap</code>) and just keep a list of the key names for that list. That way, you could iterate through the list of keys, checking that the values are set correctly.</p>\n"},{"comments":[{"owner":{"account_id":1828099,"reputation":3430,"user_id":1660298,"accept_rate":85,"display_name":"th3an0maly"},"score":1,"creation_date":1347444443,"post_id":12362257,"comment_id":16639526,"body_markdown":"Performance wise, is this far behind the `if(variable==null)` method?","body":"Performance wise, is this far behind the <code>if(variable==null)</code> method?"},{"owner":{"account_id":1435980,"reputation":127999,"user_id":1357341,"accept_rate":100,"display_name":"arshajii"},"score":2,"creation_date":1347447635,"post_id":12362257,"comment_id":16640842,"body_markdown":"Yes, it will likely take a lot longer than `if (var == null)`.","body":"Yes, it will likely take a lot longer than <code>if (var == null)</code>."},{"owner":{"account_id":3750357,"reputation":176,"user_id":3117979,"display_name":"Jawa"},"score":6,"creation_date":1521743410,"post_id":12362257,"comment_id":85873902,"body_markdown":"@Yar, to make this work for private fields, you should do f.setAccessible(true)","body":"@Yar, to make this work for private fields, you should do f.setAccessible(true)"},{"owner":{"account_id":3001234,"reputation":578,"user_id":2546702,"accept_rate":100,"display_name":"minioim"},"score":2,"creation_date":1565269435,"post_id":12362257,"comment_id":101306568,"body_markdown":"using reflection is quite slow, hide a lot of what is actually done and on a more general thought, it can be a pain to refactor (a field can be marked as unused by your IDE when it is actually via reflection :/  and you will never know it was actually used unless you have good tests or you run your app)\n\nOf course this doesn&#39;t forbid to use reflection, but if you can use any other option.. go for it","body":"using reflection is quite slow, hide a lot of what is actually done and on a more general thought, it can be a pain to refactor (a field can be marked as unused by your IDE when it is actually via reflection :/  and you will never know it was actually used unless you have good tests or you run your app)  Of course this doesn&#39;t forbid to use reflection, but if you can use any other option.. go for it"},{"owner":{"account_id":3958600,"reputation":149,"user_id":3266342,"display_name":"Ara Kokeba"},"score":2,"creation_date":1574366611,"post_id":12362257,"comment_id":104218319,"body_markdown":"It will never too much to say that you need to add `f.setAccessible(true)` in order to avoid IllegalAccessException on private fields.","body":"It will never too much to say that you need to add <code>f.setAccessible(true)</code> in order to avoid IllegalAccessException on private fields."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1675929867,"post_id":12362257,"comment_id":133034332,"body_markdown":"@AraKokeba you don’t need `setAccessible(true)` when accessing your own `private` fields. The truly problematic part of this code is the use of `getClass()` which may evaluate to a subclass if this class is not `final`.","body":"@AraKokeba you don’t need <code>setAccessible(true)</code> when accessing your own <code>private</code> fields. The truly problematic part of this code is the use of <code>getClass()</code> which may evaluate to a subclass if this class is not <code>final</code>."},{"owner":{"account_id":3958600,"reputation":149,"user_id":3266342,"display_name":"Ara Kokeba"},"score":0,"creation_date":1675958024,"post_id":12362257,"comment_id":133043506,"body_markdown":"@Holger You&#39;re right about the example. I meant accessing private fields outside their class (e.g. a test).","body":"@Holger You&#39;re right about the example. I meant accessing private fields outside their class (e.g. a test)."}],"tags":[],"owner":{"account_id":1435980,"reputation":127999,"user_id":1357341,"accept_rate":100,"display_name":"arshajii"},"comment_count":7,"down_vote_count":2,"up_vote_count":60,"is_accepted":true,"score":58,"last_activity_date":1347333757,"creation_date":1347333353,"answer_id":12362257,"question_id":12362212,"body_markdown":"Try something like this:\r\n\r\n    public boolean checkNull() throws IllegalAccessException {\r\n        for (Field f : getClass().getDeclaredFields())\r\n        \tif (f.get(this) != null)\r\n        \t    return false;\r\n        return true;    \t\t\r\n    }\r\n\r\nAlthough it would probably be better to check each variable if at all feasible.","title":"What is the best way to know if all the variables in a Class are null?","body":"<p>Try something like this:</p>\n\n<pre><code>public boolean checkNull() throws IllegalAccessException {\n    for (Field f : getClass().getDeclaredFields())\n        if (f.get(this) != null)\n            return false;\n    return true;            \n}\n</code></pre>\n\n<p>Although it would probably be better to check each variable if at all feasible.</p>\n"},{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1675930425,"post_id":12362296,"comment_id":133034487,"body_markdown":"Instead of comparing `field[j].getGenericType().toString()` with `&quot;class java.lang.String&quot;`, you can use a straight-forward check of the actual type, i.e. `if(field[j].getType() == String.class)` That’s simpler and way more efficient.","body":"Instead of comparing <code>field[j].getGenericType().toString()</code> with <code>&quot;class java.lang.String&quot;</code>, you can use a straight-forward check of the actual type, i.e. <code>if(field[j].getType() == String.class)</code> That’s simpler and way more efficient."}],"tags":[],"owner":{"account_id":1631210,"reputation":39,"user_id":1505699,"display_name":"rookiepupil"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1347333658,"creation_date":1347333658,"answer_id":12362296,"question_id":12362212,"body_markdown":"\r\n\r\n    Field[] field = model.getClass().getDeclaredFields();     \r\n    \r\n    for(int j=0 ; j&lt;field.length ; j++){    \r\n                String name = field[j].getName();                \r\n                name = name.substring(0,1).toUpperCase()+name.substring(1); \r\n                String type = field[j].getGenericType().toString();    \r\n                if(type.equals(&quot;class java.lang.String&quot;)){   \r\n                    Method m = model.getClass().getMethod(&quot;get&quot;+name);\r\n                    String value = (String) m.invoke(model);    \r\n                    if(value == null){\r\n                       ... something to do...\r\n                    }\r\n    }","title":"What is the best way to know if all the variables in a Class are null?","body":"<pre><code>Field[] field = model.getClass().getDeclaredFields();     \n\nfor(int j=0 ; j&lt;field.length ; j++){    \n            String name = field[j].getName();                \n            name = name.substring(0,1).toUpperCase()+name.substring(1); \n            String type = field[j].getGenericType().toString();    \n            if(type.equals(\"class java.lang.String\")){   \n                Method m = model.getClass().getMethod(\"get\"+name);\n                String value = (String) m.invoke(model);    \n                if(value == null){\n                   ... something to do...\n                }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":92673,"reputation":10568,"user_id":253898,"accept_rate":92,"display_name":"Linora"},"score":0,"creation_date":1544427405,"post_id":12362554,"comment_id":94257283,"body_markdown":"There is no &quot;allNull&quot; method on User","body":"There is no &quot;allNull&quot; method on User"},{"owner":{"account_id":1887261,"reputation":3502,"user_id":1706233,"accept_rate":50,"display_name":"Akhilesh Mani"},"score":0,"creation_date":1544784967,"post_id":12362554,"comment_id":94407830,"body_markdown":"@DomenicD. Perfect.","body":"@DomenicD. Perfect."},{"owner":{"account_id":7458524,"reputation":651,"user_id":5670939,"display_name":"Radioactive"},"score":0,"creation_date":1605114960,"post_id":12362554,"comment_id":114554972,"body_markdown":"Reflection is slow. We should not be using reflection unless there is absolutely no other choice.","body":"Reflection is slow. We should not be using reflection unless there is absolutely no other choice."}],"tags":[],"owner":{"account_id":309797,"reputation":5286,"user_id":622440,"accept_rate":77,"display_name":"Domenic D."},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1544462610,"creation_date":1347335860,"answer_id":12362554,"question_id":12362212,"body_markdown":"The best way in my opinion is Reflection as others have recommended. Here&#39;s a sample that evaluates each local field for null. If it finds one that is not null, method will return false.\r\n\r\n    public class User {\r\n    \r\n    \tString id = null;\r\n    \tString name = null;\r\n    \r\n    \tpublic String getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \r\n    \tpublic void setId(String id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \r\n    \tpublic String getName() {\r\n    \t\treturn name;\r\n    \t}\r\n    \r\n    \tpublic void setName(String name) {\r\n    \t\tthis.name = name;\r\n    \t}\r\n    \r\n    \tpublic boolean isNull() {\r\n    \t\tField fields[] = this.getClass().getDeclaredFields();\r\n    \t\tfor (Field f : fields) {\r\n    \t\t\ttry {\r\n    \t\t\t\tObject value = f.get(this);\r\n    \t\t\t\tif (value != null) {\r\n    \t\t\t\t\treturn false;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\tcatch (IllegalArgumentException e) {\r\n    \t\t\t\t// TODO Auto-generated catch block\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t}\r\n    \t\t\tcatch (IllegalAccessException e) {\r\n    \t\t\t\t// TODO Auto-generated catch block\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t}\r\n    \t\t\t\r\n    \r\n    \t\t}\r\n    \t\treturn true;\r\n    \r\n    \t}\r\n    \r\n    \tpublic static void main(String args[]) {\r\n    \t\tSystem.out.println(new User().isNull());\r\n    \t}\r\n    }","title":"What is the best way to know if all the variables in a Class are null?","body":"<p>The best way in my opinion is Reflection as others have recommended. Here's a sample that evaluates each local field for null. If it finds one that is not null, method will return false.</p>\n\n<pre><code>public class User {\n\n    String id = null;\n    String name = null;\n\n    public String getId() {\n        return id;\n    }\n\n    public void setId(String id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public boolean isNull() {\n        Field fields[] = this.getClass().getDeclaredFields();\n        for (Field f : fields) {\n            try {\n                Object value = f.get(this);\n                if (value != null) {\n                    return false;\n                }\n            }\n            catch (IllegalArgumentException e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            }\n            catch (IllegalAccessException e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            }\n\n\n        }\n        return true;\n\n    }\n\n    public static void main(String args[]) {\n        System.out.println(new User().isNull());\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7530068,"reputation":481,"user_id":5718648,"accept_rate":17,"display_name":"Rinsen S"},"score":1,"creation_date":1520083919,"post_id":40238927,"comment_id":85174616,"body_markdown":"Is there any way to get the field values eg: Stream.of(id, name), remove null fields and return List of values of not null fields","body":"Is there any way to get the field values eg: Stream.of(id, name), remove null fields and return List of values of not null fields"},{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":1,"creation_date":1520084349,"post_id":40238927,"comment_id":85174741,"body_markdown":"@Rinsen you can use `filter()` but that&#39;s a different question and it&#39;s likely to have already been asked on SO.","body":"@Rinsen you can use <code>filter()</code> but that&#39;s a different question and it&#39;s likely to have already been asked on SO."}],"tags":[],"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"comment_count":2,"down_vote_count":0,"up_vote_count":110,"is_accepted":false,"score":110,"last_activity_date":1675774901,"creation_date":1477395390,"answer_id":40238927,"question_id":12362212,"body_markdown":"Another non-reflective solution for Java 8, in the line of [paxdiabo&#39;s answer][1] but without using a series of `if`&#39;s, would be to stream all fields and check for nullness:\r\n\r\n    return Stream.of(id, name)\r\n            .allMatch(Objects::isNull);\r\n\r\nThis remains quite easy to maintain while avoiding the reflection _hammer_.\r\n\r\n  [1]: https://stackoverflow.com/a/12362245/525036","title":"What is the best way to know if all the variables in a Class are null?","body":"<p>Another non-reflective solution for Java 8, in the line of <a href=\"https://stackoverflow.com/a/12362245/525036\">paxdiabo's answer</a> but without using a series of <code>if</code>'s, would be to stream all fields and check for nullness:</p>\n<pre><code>return Stream.of(id, name)\n        .allMatch(Objects::isNull);\n</code></pre>\n<p>This remains quite easy to maintain while avoiding the reflection <em>hammer</em>.</p>\n"},{"comments":[{"owner":{"account_id":6112533,"reputation":1518,"user_id":4768512,"accept_rate":71,"display_name":"Sp4Rx"},"score":1,"creation_date":1551746073,"post_id":42188504,"comment_id":96744342,"body_markdown":"This will create an extra object `EMPTY` along with each object. Will this affect the performance?","body":"This will create an extra object <code>EMPTY</code> along with each object. Will this affect the performance?"},{"owner":{"account_id":8023174,"reputation":9194,"user_id":6051176,"display_name":"Martin Tarj&#225;nyi"},"score":4,"creation_date":1564074819,"post_id":42188504,"comment_id":100920837,"body_markdown":"Empty is a static field here, so it shouldn&#39;t be a problem.","body":"Empty is a static field here, so it shouldn&#39;t be a problem."},{"owner":{"account_id":12343062,"reputation":2301,"user_id":9005383,"accept_rate":83,"display_name":"Tamim Attafi"},"score":1,"creation_date":1579068547,"post_id":42188504,"comment_id":105639183,"body_markdown":"@MartinTarj&#225;nyi but equals() method in java compares instances and not their field values.. you&#39;ll need to override equals() and hashCode().","body":"@MartinTarj&#225;nyi but equals() method in java compares instances and not their field values.. you&#39;ll need to override equals() and hashCode()."},{"owner":{"account_id":8023174,"reputation":9194,"user_id":6051176,"display_name":"Martin Tarj&#225;nyi"},"score":4,"creation_date":1579068657,"post_id":42188504,"comment_id":105639210,"body_markdown":"that&#39;s why I used the lombok annotation","body":"that&#39;s why I used the lombok annotation"},{"owner":{"account_id":4395013,"reputation":1126,"user_id":3582362,"accept_rate":100,"display_name":"Calvin P."},"score":0,"creation_date":1677066671,"post_id":42188504,"comment_id":133262943,"body_markdown":"I find myself needing to do something similar to the OP’s question and my thoughts turned first to the equals method. I originally thought to have an isEmpty method that compared to a new instance of the class, but I like the idea of using a static final object more. Nice solution!","body":"I find myself needing to do something similar to the OP’s question and my thoughts turned first to the equals method. I originally thought to have an isEmpty method that compared to a new instance of the class, but I like the idea of using a static final object more. Nice solution!"}],"tags":[],"owner":{"account_id":8023174,"reputation":9194,"user_id":6051176,"display_name":"Martin Tarj&#225;nyi"},"comment_count":5,"down_vote_count":1,"up_vote_count":38,"is_accepted":false,"score":37,"last_activity_date":1608822456,"creation_date":1486908258,"answer_id":42188504,"question_id":12362212,"body_markdown":"This can be done fairly easily using a Lombok generated `equals` and a static `EMPTY` object:\r\n\r\n```java\r\nimport lombok.Data;\r\n\r\npublic class EmptyCheck {\r\n    public static void main(String[] args) {\r\n        User user1 = new User();\r\n\r\n        User user2 = new User();\r\n        user2.setName(&quot;name&quot;);\r\n\r\n        System.out.println(user1.isEmpty()); // prints true\r\n        System.out.println(user2.isEmpty()); // prints false\r\n    }\r\n\r\n    @Data\r\n    public static class User {\r\n        private static final User EMPTY = new User();\r\n\r\n        private String id;\r\n        private String name;\r\n        private int age;\r\n\r\n        public boolean isEmpty() {\r\n            return this.equals(EMPTY);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n**Prerequisites**:\r\n* Default constructor should not be implemented with custom behavior as that is used to create the `EMPTY` object\r\n* All fields of the class should have an implemented `equals` (built-in Java types are usually not a problem, in case of custom types you can use Lombok)\r\n\r\n**Advantages**:\r\n* No reflection involved\r\n* As new fields added to the class, this does not require any maintenance as due to Lombok they will be automatically checked in the `equals` implementation\r\n* Unlike some other answers this works not just for null checks but also for primitive types which have a non-null default value (e.g. if field is `int` it checks for `0`, in case of `boolean` for `false`, etc.)\r\n","title":"What is the best way to know if all the variables in a Class are null?","body":"<p>This can be done fairly easily using a Lombok generated <code>equals</code> and a static <code>EMPTY</code> object:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import lombok.Data;\n\npublic class EmptyCheck {\n    public static void main(String[] args) {\n        User user1 = new User();\n\n        User user2 = new User();\n        user2.setName(&quot;name&quot;);\n\n        System.out.println(user1.isEmpty()); // prints true\n        System.out.println(user2.isEmpty()); // prints false\n    }\n\n    @Data\n    public static class User {\n        private static final User EMPTY = new User();\n\n        private String id;\n        private String name;\n        private int age;\n\n        public boolean isEmpty() {\n            return this.equals(EMPTY);\n        }\n    }\n}\n</code></pre>\n<p><strong>Prerequisites</strong>:</p>\n<ul>\n<li>Default constructor should not be implemented with custom behavior as that is used to create the <code>EMPTY</code> object</li>\n<li>All fields of the class should have an implemented <code>equals</code> (built-in Java types are usually not a problem, in case of custom types you can use Lombok)</li>\n</ul>\n<p><strong>Advantages</strong>:</p>\n<ul>\n<li>No reflection involved</li>\n<li>As new fields added to the class, this does not require any maintenance as due to Lombok they will be automatically checked in the <code>equals</code> implementation</li>\n<li>Unlike some other answers this works not just for null checks but also for primitive types which have a non-null default value (e.g. if field is <code>int</code> it checks for <code>0</code>, in case of <code>boolean</code> for <code>false</code>, etc.)</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":4308682,"reputation":12633,"user_id":3520404,"display_name":"saran3h"},"score":0,"creation_date":1635574533,"post_id":50858027,"comment_id":123340043,"body_markdown":"this is not scalable.","body":"this is not scalable."}],"tags":[],"owner":{"account_id":9095053,"reputation":61,"user_id":6769292,"display_name":"Igor Oskar"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1528980738,"creation_date":1528980738,"answer_id":50858027,"question_id":12362212,"body_markdown":"How about streams?\r\n\r\n    public boolean checkFieldsIsNull(Object instance, List&lt;String&gt; fieldNames) {\r\n        \r\n        return fieldNames.stream().allMatch(field -&gt; {\r\n            try {\r\n                return Objects.isNull(instance.getClass().getDeclaredField(field).get(instance));\r\n            } catch (IllegalAccessException | NoSuchFieldException e) {\r\n                return true;//You can throw RuntimeException if need.\r\n            }\r\n        });\r\n    }","title":"What is the best way to know if all the variables in a Class are null?","body":"<p>How about streams?</p>\n\n<pre><code>public boolean checkFieldsIsNull(Object instance, List&lt;String&gt; fieldNames) {\n\n    return fieldNames.stream().allMatch(field -&gt; {\n        try {\n            return Objects.isNull(instance.getClass().getDeclaredField(field).get(instance));\n        } catch (IllegalAccessException | NoSuchFieldException e) {\n            return true;//You can throw RuntimeException if need.\n        }\n    });\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8704380,"reputation":149,"user_id":6513014,"display_name":"orly.sharon"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1662984119,"creation_date":1576672571,"answer_id":59392200,"question_id":12362212,"body_markdown":"I think this is a solution that solves your problem easily:  (return true if any of the parameters is not null)\r\n     \r\n\r\n  \r\n\r\n      public boolean isUserEmpty(){ \r\n    boolean isEmpty;\r\n    isEmpty =  isEmpty = Stream.of(id,\r\n                name)\r\n            .anyMatch(userParameter -&gt; userParameter != null);\r\n\r\n    return isEmpty;}\r\n\r\nAnother solution to the same task is:(you can change it to if(isEmpty==0) checks if all the parameters are null.\r\n\r\n    public boolean isUserEmpty(){  \r\n           long isEmpty;\r\n                isEmpty = Stream.of(id,\r\n                        name)\r\n                        .filter(userParameter -&gt; userParameter != null).count();\r\n        \r\n              return  isEmpty &gt; 0\r\n\r\n        }\r\n\r\n\r\n","title":"What is the best way to know if all the variables in a Class are null?","body":"<p>I think this is a solution that solves your problem easily:  (return true if any of the parameters is not null)</p>\n<pre><code>  public boolean isUserEmpty(){ \nboolean isEmpty;\nisEmpty =  isEmpty = Stream.of(id,\n            name)\n        .anyMatch(userParameter -&gt; userParameter != null);\n\nreturn isEmpty;}\n</code></pre>\n<p>Another solution to the same task is:(you can change it to if(isEmpty==0) checks if all the parameters are null.</p>\n<pre><code>public boolean isUserEmpty(){  \n       long isEmpty;\n            isEmpty = Stream.of(id,\n                    name)\n                    .filter(userParameter -&gt; userParameter != null).count();\n    \n          return  isEmpty &gt; 0\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1925703,"reputation":2161,"user_id":1736218,"accept_rate":62,"display_name":"b15"},"comment_count":0,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1577995112,"creation_date":1577995112,"answer_id":59569275,"question_id":12362212,"body_markdown":"If you want this for unit testing I just use the `hasNoNullFieldsOrProperties()` method from `assertj`\r\n\r\n    assertThat(myObj).hasNoNullFieldsOrProperties();","title":"What is the best way to know if all the variables in a Class are null?","body":"<p>If you want this for unit testing I just use the <code>hasNoNullFieldsOrProperties()</code> method from <code>assertj</code></p>\n\n<pre><code>assertThat(myObj).hasNoNullFieldsOrProperties();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1675930043,"post_id":69210204,"comment_id":133034376,"body_markdown":"This will always be `false`, as the array returned by `getDeclaredMethods()` never contains `null`. You’d have to actually invoke those methods if you want to check whether they return `null`, but mind that not every method is a getter.","body":"This will always be <code>false</code>, as the array returned by <code>getDeclaredMethods()</code> never contains <code>null</code>. You’d have to actually invoke those methods if you want to check whether they return <code>null</code>, but mind that not every method is a getter."}],"tags":[],"owner":{"account_id":239746,"reputation":6175,"user_id":509565,"accept_rate":69,"display_name":"lrkwz"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1631802154,"creation_date":1631802154,"answer_id":69210204,"question_id":12362212,"body_markdown":"Best for me is \r\n\r\n```java\r\nStream.of(getClass().getDeclaredMethods()).allMatch(Objects::isNull);\r\n```\r\n\r\nIt can be used in a custom annotation + annotation processor to automagically define a `boolean isNull()` method on the annotated classes.","title":"What is the best way to know if all the variables in a Class are null?","body":"<p>Best for me is</p>\n<pre class=\"lang-java prettyprint-override\"><code>Stream.of(getClass().getDeclaredMethods()).allMatch(Objects::isNull);\n</code></pre>\n<p>It can be used in a custom annotation + annotation processor to automagically define a <code>boolean isNull()</code> method on the annotated classes.</p>\n"},{"tags":[],"owner":{"account_id":9439654,"reputation":470,"user_id":7266331,"display_name":"sarthakgupta072"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632117502,"creation_date":1632117502,"answer_id":69249679,"question_id":12362212,"body_markdown":"If you want to do the opposite i.e check if some/all members of class are non-non, the check this answer.\r\n\r\nIn order to make sure that certain  members of the class are always non-null, we can use lombok `@NonNull` annotation on the individual fields of the class.      \r\n\r\n    \r\n    import lombok.Data;\r\n    import lombok.NonNull;\r\n    \r\n    @Data\r\n    public class DataClass {\r\n      @NonNull\r\n      private String data1;\r\n      private int data2;\r\n      @NonNull\r\n      private String data3;\r\n      @NonNull\r\n      private String data4;\r\n      @NonNull\r\n      private String data5;\r\n      private String data6;\r\n\r\n     DataClass(String data1,...) {\r\n        // constructor\r\n     }\r\n    }\r\n","title":"What is the best way to know if all the variables in a Class are null?","body":"<p>If you want to do the opposite i.e check if some/all members of class are non-non, the check this answer.</p>\n<p>In order to make sure that certain  members of the class are always non-null, we can use lombok <code>@NonNull</code> annotation on the individual fields of the class.</p>\n<pre><code>import lombok.Data;\nimport lombok.NonNull;\n\n@Data\npublic class DataClass {\n  @NonNull\n  private String data1;\n  private int data2;\n  @NonNull\n  private String data3;\n  @NonNull\n  private String data4;\n  @NonNull\n  private String data5;\n  private String data6;\n\n DataClass(String data1,...) {\n    // constructor\n }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1675930267,"post_id":69541066,"comment_id":133034440,"body_markdown":"“Based on Irkwz&#39;s answer” and similarly pointless. You are not checking the values of the fields but only if the array of `Field` instances returned by `getDeclaredFields()` contains `null`, which is always `false`. You’d have to actually `get()` the field’s value before checking. And when accessing `private` fields, you should use `SomeClass.class` instead of `getClass()`, because `getClass()` may return a subclass.","body":"“Based on Irkwz&#39;s answer” and similarly pointless. You are not checking the values of the fields but only if the array of <code>Field</code> instances returned by <code>getDeclaredFields()</code> contains <code>null</code>, which is always <code>false</code>. You’d have to actually <code>get()</code> the field’s value before checking. And when accessing <code>private</code> fields, you should use <code>SomeClass.class</code> instead of <code>getClass()</code>, because <code>getClass()</code> may return a subclass."}],"tags":[],"owner":{"account_id":11514885,"reputation":631,"user_id":8438513,"accept_rate":70,"display_name":"HowToTellAChild"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634043765,"creation_date":1634043765,"answer_id":69541066,"question_id":12362212,"body_markdown":"Based on Irkwz&#39;s answer, but a different approach:\r\n\r\n    public class SomeClass{\r\n\r\n\tprivate String field1;\r\n\tprivate String field2;\r\n\tprivate ComplexField field3;\r\n\tprivate String field4;\r\n\tprivate Integer field15;\r\n\t\r\n\tpublic boolean isNullAllFields() {\r\n\t\treturn Stream.of(this.getClass().getDeclaredFields()).anyMatch(element -&gt; (element != null));\r\n\t}\r\n}\r\n\r\nAnd the end of the day u invoke isNullAllFields method to figure out wheter the object fields are empty.","title":"What is the best way to know if all the variables in a Class are null?","body":"<p>Based on Irkwz's answer, but a different approach:</p>\n<pre><code>public class SomeClass{\n\nprivate String field1;\nprivate String field2;\nprivate ComplexField field3;\nprivate String field4;\nprivate Integer field15;\n\npublic boolean isNullAllFields() {\n    return Stream.of(this.getClass().getDeclaredFields()).anyMatch(element -&gt; (element != null));\n}\n</code></pre>\n<p>}</p>\n<p>And the end of the day u invoke isNullAllFields method to figure out wheter the object fields are empty.</p>\n"},{"tags":[],"owner":{"account_id":23916243,"reputation":41,"user_id":17912657,"display_name":"kmj"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658949366,"creation_date":1658949128,"answer_id":73143450,"question_id":12362212,"body_markdown":"Easiest way is to convert the class to a map and get its keys and with stream check if **any or all key&#39;s values** are null or not, you can take input from user as well whether they want to check for **specific set of keys** only!\r\n\r\nBelow is the code to check whether any of the key&#39;s value has null, you can change stream config to **all match** or **any match** as per your requirement\r\n\r\nJust replace **isNullOrEmpty** method i have used with proper null or empty check condition for that particular collection\r\n\r\n```\r\n    public boolean checkIfAnyFieldIsNull(Object instance, Set&lt;String&gt; fields){\r\n\r\n        try {\r\n            Map&lt;String, Object&gt; instanceMap = new Gson().fromJson(new GsonBuilder().serializeNulls().create().toJson(instance), Map.class);\r\n\r\n            if(!isNullorEmpty(instanceMap)) {\r\n                fields = isNullorEmpty(fields) ? instanceMap.keySet() : fields;\r\n                return fields.stream().anyMatch(curField -&gt; isNull(instanceMap.get(curField)));\r\n            }else{\r\n                return false;\r\n            }\r\n        }catch (Exception e){\r\n            return false;\r\n        }\r\n    }\r\n}\r\n```","title":"What is the best way to know if all the variables in a Class are null?","body":"<p>Easiest way is to convert the class to a map and get its keys and with stream check if <strong>any or all key's values</strong> are null or not, you can take input from user as well whether they want to check for <strong>specific set of keys</strong> only!</p>\n<p>Below is the code to check whether any of the key's value has null, you can change stream config to <strong>all match</strong> or <strong>any match</strong> as per your requirement</p>\n<p>Just replace <strong>isNullOrEmpty</strong> method i have used with proper null or empty check condition for that particular collection</p>\n<pre><code>    public boolean checkIfAnyFieldIsNull(Object instance, Set&lt;String&gt; fields){\n\n        try {\n            Map&lt;String, Object&gt; instanceMap = new Gson().fromJson(new GsonBuilder().serializeNulls().create().toJson(instance), Map.class);\n\n            if(!isNullorEmpty(instanceMap)) {\n                fields = isNullorEmpty(fields) ? instanceMap.keySet() : fields;\n                return fields.stream().anyMatch(curField -&gt; isNull(instanceMap.get(curField)));\n            }else{\n                return false;\n            }\n        }catch (Exception e){\n            return false;\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12291783,"reputation":212,"user_id":8968815,"display_name":"Mehul Boghra"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659360384,"creation_date":1659360384,"answer_id":73194423,"question_id":12362212,"body_markdown":"Try this method once, its works for me!!\r\n \r\n    private fun checkIfAnyDataIsNull(model: YourModelCass): Boolean {\r\n        return Stream.of&lt;Any&gt;(\r\n            model.date,\r\n            model.merchantName,\r\n            model.payment,\r\n        ).allMatch(Objects::isNull)\r\n    }","title":"What is the best way to know if all the variables in a Class are null?","body":"<p>Try this method once, its works for me!!</p>\n<pre><code>private fun checkIfAnyDataIsNull(model: YourModelCass): Boolean {\n    return Stream.of&lt;Any&gt;(\n        model.date,\n        model.merchantName,\n        model.payment,\n    ).allMatch(Objects::isNull)\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8009309,"reputation":483,"user_id":7338187,"display_name":"bareMetal"},"score":0,"creation_date":1701767244,"post_id":73250106,"comment_id":136813386,"body_markdown":"This should be an accepted answer. Works well.","body":"This should be an accepted answer. Works well."}],"tags":[],"owner":{"account_id":1245802,"reputation":460,"user_id":1207297,"display_name":"Abderrahmen"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1659703984,"creation_date":1659703984,"answer_id":73250106,"question_id":12362212,"body_markdown":"You can use the simple solution:\r\n\r\n    if(user.equals(new User()){\r\n    //your processing goes here\r\n    }","title":"What is the best way to know if all the variables in a Class are null?","body":"<p>You can use the simple solution:</p>\n<pre><code>if(user.equals(new User()){\n//your processing goes here\n}\n</code></pre>\n"}],"owner":{"account_id":1828099,"reputation":3430,"user_id":1660298,"accept_rate":85,"display_name":"th3an0maly"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":189577,"favorite_count":0,"down_vote_count":0,"up_vote_count":65,"accepted_answer_id":12362257,"answer_count":15,"score":65,"last_activity_date":1675774901,"creation_date":1347333005,"question_id":12362212,"body_markdown":"This would mean that the class was initialized, but the variables were not set.\r\n\r\nA sample Class:\r\n\r\n    public class User {\r\n\r\n\t    String id = null;\r\n\t    String name = null;\r\n\t\r\n\t    public String getId() {\r\n\t\t    return id;\r\n\t    }\r\n\t    public void setId(String id) {\r\n\t\t    this.id = id;\r\n\t    }\r\n\r\n\t    public String getName() {\r\n\t\t    return name;\r\n\t    }\r\n\t    public void setName(String name) {\r\n\t\t    this.name = name;\r\n\t    }\r\n    }\r\n\r\nThe actual class is huge that I prefer not to check `if(xyz == null)` for each of the variables.","title":"What is the best way to know if all the variables in a Class are null?","body":"<p>This would mean that the class was initialized, but the variables were not set.</p>\n<p>A sample Class:</p>\n<pre><code>public class User {\n\n    String id = null;\n    String name = null;\n\n    public String getId() {\n        return id;\n    }\n    public void setId(String id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n    public void setName(String name) {\n        this.name = name;\n    }\n}\n</code></pre>\n<p>The actual class is huge that I prefer not to check <code>if(xyz == null)</code> for each of the variables.</p>\n"},{"tags":["java","database","hibernate-criteria"],"answers":[{"comments":[{"owner":{"account_id":4214111,"reputation":150,"user_id":9134198,"display_name":"Cubimon"},"score":0,"creation_date":1692612833,"post_id":75373685,"comment_id":135642397,"body_markdown":"I registered my functionsContributions by creating a file in `src/main/resources/META-INF/services/org.hibernate.boot.model.FunctionContributor` with a line like `full.package.name.PostgresInetSqlFunctionContributor`. Is there any better alternative? Isn&#39;t it supposed to be detected automatically?","body":"I registered my functionsContributions by creating a file in <code>src&#47;main&#47;resources&#47;META-INF&#47;services&#47;org.hibernate.boot.mode&zwnj;&#8203;l.FunctionContributo&zwnj;&#8203;r</code> with a line like <code>full.package.name.PostgresInetSqlFunctionContributor</code>. Is there any better alternative? Isn&#39;t it supposed to be detected automatically?"},{"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"score":1,"creation_date":1692614304,"post_id":75373685,"comment_id":135642668,"body_markdown":"This is the &quot;standard&quot; way to do this in Java. There are no alternatives. Also see https://docs.oracle.com/javase/8/docs/api/java/util/ServiceLoader.html","body":"This is the &quot;standard&quot; way to do this in Java. There are no alternatives. Also see <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/ServiceLoader.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/util/ServiceLoader.ht&zwnj;&#8203;ml</a>"}],"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1675774587,"creation_date":1675774587,"answer_id":75373685,"question_id":74761593,"body_markdown":"You&#39;d just have to register a custom function that returns a boolean and then you can use that. Something like this in a FunctionContributor:\r\n\r\n```java\r\nfunctionContributions.getFunctionRegistry().registerPattern(\r\n    &quot;rlike&quot;,\r\n\t&quot;?1 rlike ?2&quot;,\r\n\tfunctionContributions.getTypeConfiguration().getBasicTypeRegistry().resolve( StandardBasicTypes.BOOLEAN )\r\n);\r\n```\r\n\r\nand then in JPA Criteria you just use `criteriaBuilder.isTrue(criteriaBuilder.function(&quot;rlike&quot;, Boolean.class, from.get(&quot;COLUMN&quot;), criteriaBuilder.literal(&quot;REGEX&quot;))))`","title":"migrate hibernate 5 to hibernate 6 render Custom predicates","body":"<p>You'd just have to register a custom function that returns a boolean and then you can use that. Something like this in a FunctionContributor:</p>\n<pre class=\"lang-java prettyprint-override\"><code>functionContributions.getFunctionRegistry().registerPattern(\n    &quot;rlike&quot;,\n    &quot;?1 rlike ?2&quot;,\n    functionContributions.getTypeConfiguration().getBasicTypeRegistry().resolve( StandardBasicTypes.BOOLEAN )\n);\n</code></pre>\n<p>and then in JPA Criteria you just use <code>criteriaBuilder.isTrue(criteriaBuilder.function(&quot;rlike&quot;, Boolean.class, from.get(&quot;COLUMN&quot;), criteriaBuilder.literal(&quot;REGEX&quot;))))</code></p>\n"}],"owner":{"account_id":14798738,"reputation":13,"user_id":11744611,"display_name":"Pedro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2215,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75373685,"answer_count":1,"score":0,"last_activity_date":1675774587,"creation_date":1670768620,"question_id":74761593,"body_markdown":"I&#39;m trying to migrate from hibernate 5 to hibernate 6. Everything works as exptected, except for custom Expressions.\r\nIn hibernate 5 it was possible to create custom Expression (e.g: RlikeExpression that renders as $1 RLIKE $2 for mysql and regexp_substring ($1, $2) IS NOT NULL for hsql)\r\n\r\nMy goal is to be able to add a Predicate, the same way as LIKE. (or eventually to create custom orderBy Expressions) All I need is a way to render myself what I need to write in the query.\r\nE.G : \r\n```\r\ncriteriaQuery.where(new RLikePredicate(criteriaBuilder, from.get(&quot;COLUMN&quot;), &quot;REGEX&quot;));\r\nOR\r\ncriteriaQuery.orderBy(new MyOrderExpression(criteriaBuilder, ...)); // this creates a case/when SQL query thanks to the render(RenderingContext) method.\r\n\r\n```\r\n\r\n\r\nHow is it possible to achieve the same in hibernate 6.\r\nHere is my RLikePredicate (I know it&#39;s not pretty, but it works)\r\n\r\nIn my HSQLDialect (for junit testing)\r\n```\r\npublic class HSQLIntBooleanDialect extends HSQLDialect {\r\n    public HSQLIntBooleanDialect() {\r\n        super();\r\n        registerFunction(&quot;rlike&quot;, new SQLFunctionTemplate(StandardBasicTypes.INTEGER, &quot;regexp_substring (?1, ?2) &quot;));\r\n    }\r\n}\r\n\r\n```\r\n\r\nIn my MYSQL Dialect (for production)\r\n\r\n```\r\npublic class MySQL5IntBooleanDialect extends MySQL5Dialect {\r\n    public MySQL5IntBooleanDialect() {\r\n        super();\r\n        registerFunction(&quot;rlike&quot;, new SQLFunctionTemplate(StandardBasicTypes.INTEGER, &quot;(?1 RLIKE ?2)&quot;));\r\n    }\r\n}\r\n\r\n```\r\n\r\nAnd now, the part I&#39;m having problems to migrate :\r\n\r\n\r\n```\r\npackage fr.cstb.doef.dao.expression;\r\n\r\nimport org.apache.commons.logging.Log;\r\nimport org.apache.commons.logging.LogFactory;\r\nimport org.hibernate.dialect.Dialect;\r\nimport org.hibernate.dialect.HSQLDialect;\r\nimport org.hibernate.dialect.MySQL8Dialect;\r\nimport org.hibernate.dialect.MySQLDialect;\r\nimport org.hibernate.query.criteria.internal.CriteriaBuilderImpl;\r\nimport org.hibernate.query.criteria.internal.ParameterRegistry;\r\nimport org.hibernate.query.criteria.internal.Renderable;\r\nimport org.hibernate.query.criteria.internal.compile.RenderingContext;\r\nimport org.hibernate.query.criteria.internal.expression.LiteralExpression;\r\nimport org.hibernate.query.criteria.internal.predicate.AbstractSimplePredicate;\r\n\r\nimport javax.persistence.criteria.CriteriaBuilder;\r\nimport javax.persistence.criteria.Expression;\r\nimport java.io.Serializable;\r\nimport java.util.function.Function;\r\n\r\n@SuppressWarnings({&quot;unused&quot;, &quot;WeakerAccess&quot;, &quot;UnusedReturnValue&quot;})\r\npublic class RLikePredicate extends AbstractSimplePredicate implements Serializable {\r\n\r\n    private static final Log log = LogFactory.getLog(RLikePredicate.class);\r\n\r\n    private final Expression&lt;String&gt; matchExpression;\r\n    private final Expression&lt;String&gt; pattern;\r\n\r\n    public RLikePredicate(\r\n        CriteriaBuilder criteriaBuilder,\r\n        Expression&lt;String&gt; matchExpression,\r\n        Expression&lt;String&gt; pattern) {\r\n        this(criteriaBuilder, matchExpression, pattern, null);\r\n    }\r\n\r\n    public RLikePredicate(\r\n        CriteriaBuilder criteriaBuilder,\r\n        Expression&lt;String&gt; matchExpression,\r\n        String pattern) {\r\n        this(criteriaBuilder, matchExpression, new LiteralExpression&lt;&gt;((CriteriaBuilderImpl) criteriaBuilder, pattern));\r\n    }\r\n\r\n    public RLikePredicate(\r\n        CriteriaBuilder criteriaBuilder,\r\n        Expression&lt;String&gt; matchExpression,\r\n        Expression&lt;String&gt; pattern,\r\n        Expression&lt;Character&gt; escapeCharacter) {\r\n        super((CriteriaBuilderImpl) criteriaBuilder);\r\n        this.matchExpression = matchExpression;\r\n        this.pattern = pattern;\r\n    }\r\n\r\n    public RLikePredicate(\r\n        CriteriaBuilder criteriaBuilder,\r\n        Expression&lt;String&gt; matchExpression,\r\n        Expression&lt;String&gt; pattern,\r\n        char escapeCharacter) {\r\n        this(\r\n            criteriaBuilder,\r\n            matchExpression,\r\n            pattern,\r\n            new LiteralExpression&lt;&gt;((CriteriaBuilderImpl) criteriaBuilder, escapeCharacter)\r\n        );\r\n    }\r\n\r\n    public RLikePredicate(\r\n        CriteriaBuilder criteriaBuilder,\r\n        Expression&lt;String&gt; matchExpression,\r\n        String pattern,\r\n        char escapeCharacter) {\r\n        this(\r\n            criteriaBuilder,\r\n            matchExpression,\r\n            new LiteralExpression&lt;&gt;((CriteriaBuilderImpl) criteriaBuilder, pattern),\r\n            new LiteralExpression&lt;&gt;((CriteriaBuilderImpl) criteriaBuilder, escapeCharacter)\r\n        );\r\n    }\r\n\r\n    public RLikePredicate(\r\n        CriteriaBuilder criteriaBuilder,\r\n        Expression&lt;String&gt; matchExpression,\r\n        String pattern,\r\n        Expression&lt;Character&gt; escapeCharacter) {\r\n        this(\r\n            criteriaBuilder,\r\n            matchExpression,\r\n            new LiteralExpression&lt;&gt;((CriteriaBuilderImpl) criteriaBuilder, pattern),\r\n            escapeCharacter\r\n        );\r\n    }\r\n\r\n    public Expression&lt;String&gt; getMatchExpression() {\r\n        return matchExpression;\r\n    }\r\n\r\n    public Expression&lt;String&gt; getPattern() {\r\n        return pattern;\r\n    }\r\n\r\n    public void registerParameters(ParameterRegistry registry) {\r\n        Helper.possibleParameter(getMatchExpression(), registry);\r\n        Helper.possibleParameter(getPattern(), registry);\r\n    }\r\n\r\n    @Override\r\n    public String render(boolean isNegated, RenderingContext renderingContext) {\r\n        StringBuilder buffer = new StringBuilder();\r\n\r\n        if (renderingContext.getDialect() instanceof HSQLDialect) {\r\n            final String operator = isNegated ? &quot; IS NULL&quot; : &quot; IS NOT NULL&quot;;\r\n\r\n            buffer.append(&quot;rlike (&quot;).append(((Renderable) getMatchExpression()).render(renderingContext))\r\n                .append(&quot;,&quot;)\r\n                .append(escapeSqlRegex(renderingContext, String::valueOf)).append(&quot;)&quot;).append(operator);\r\n\r\n        } else if (renderingContext.getDialect() instanceof MySQLDialect) {\r\n            final String operator = isNegated ? &quot; != 1&quot; : &quot; = 1&quot;;\r\n\r\n            buffer.append(&quot;rlike (&quot;).append(((Renderable) getMatchExpression()).render(renderingContext))\r\n                .append(&quot;,&quot;)\r\n                .append(escapeSqlRegex(renderingContext, String::valueOf)).append(&quot;)&quot;).append(operator);\r\n\r\n        } else {\r\n            throw new UnsupportedOperationException(&quot;Unsupported dialect.&quot;);\r\n        }\r\n        return buffer.toString();\r\n    }\r\n\r\n    private String escapeSqlRegex(RenderingContext renderingContext, Function&lt;Object, String&gt; toStringLiteral) {\r\n        if (!(getPattern() instanceof LiteralExpression)) return ((Renderable) getPattern()).render(renderingContext);\r\n        Object literal = ((LiteralExpression) getPattern()).getLiteral();\r\n        literal = escapeSqlRegex(renderingContext.getDialect(), String.valueOf(literal));\r\n        return &quot;&#39;&quot; + toStringLiteral.apply(literal).replace(&quot;&#39;&quot;, &quot;&#39;&#39;&quot;) + &quot;&#39;&quot;;\r\n    }\r\n\r\n    public static String escapeSqlRegex(Dialect dialect, String regex) {\r\n        if (regex == null) return null;\r\n        if (dialect instanceof MySQL8Dialect) regex = regex.replace(&quot;\\\\&quot;, &quot;\\\\\\\\&quot;);\r\n        return regex;\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nI&#39;m expecting a query that shows like\r\nalias.COLUMN RLIKE &#39;REGEX&#39; in mysql\r\nand regexp_substring (alias.COLUMN, &#39;REGEX&#39;) IS NOT NULL IN HSQL\r\n\r\n\r\n**FOUND A SOLUTION.**\r\nIs there an better way ? \r\n\r\nI finally came up with that solution. The nodeBuilder.function method returns my rlike function. And transform it to an Predicate.\r\nIt&#39;s not perfect, but I hope it will help someone else.\r\n\r\n```\r\npackage fr.cstb.doef.dao.expression;\r\n\r\nimport org.apache.commons.logging.Log;\r\nimport org.apache.commons.logging.LogFactory;\r\nimport org.hibernate.query.sqm.NodeBuilder;\r\nimport org.hibernate.query.sqm.SemanticQueryWalker;\r\nimport org.hibernate.query.sqm.tree.SqmCopyContext;\r\nimport org.hibernate.query.sqm.tree.expression.SqmExpression;\r\nimport org.hibernate.query.sqm.tree.expression.SqmFunction;\r\nimport org.hibernate.query.sqm.tree.predicate.AbstractNegatableSqmPredicate;\r\nimport org.hibernate.query.sqm.tree.predicate.SqmNegatablePredicate;\r\nimport org.hibernate.query.sqm.tree.predicate.SqmNullnessPredicate;\r\n\r\nimport java.io.Serializable;\r\n\r\n@SuppressWarnings({&quot;unused&quot;, &quot;WeakerAccess&quot;, &quot;UnusedReturnValue&quot;})\r\npublic class RLikePredicate extends AbstractNegatableSqmPredicate implements Serializable {\r\n\r\n    private static final Log log = LogFactory.getLog(RLikePredicate.class);\r\n\r\n    private final SqmExpression&lt;?&gt; matchExpression;\r\n    private final SqmExpression&lt;?&gt; pattern;\r\n\r\n    private final SqmFunction&lt;Integer&gt; function;\r\n\r\n    public RLikePredicate(SqmExpression&lt;?&gt; matchExpression, SqmExpression&lt;?&gt; pattern, boolean negated, NodeBuilder nodeBuilder) {\r\n        super(negated, nodeBuilder);\r\n        this.matchExpression = matchExpression;\r\n        this.pattern = pattern;\r\n        function = nodeBuilder.function(&quot;rlike&quot;, Integer.class, new jakarta.persistence.criteria.Expression[]{matchExpression, pattern});\r\n    }\r\n\r\n    public RLikePredicate(SqmExpression&lt;?&gt; matchExpression, SqmExpression&lt;?&gt; pattern, NodeBuilder nodeBuilder) {\r\n        this(matchExpression, pattern, false, nodeBuilder);\r\n    }\r\n\r\n    @Override\r\n    public RLikePredicate copy(SqmCopyContext context) {\r\n        final RLikePredicate existing = context.getCopy(this);\r\n        if (existing != null) return existing;\r\n        final RLikePredicate predicate = context.registerCopy(\r\n            this,\r\n            new RLikePredicate(matchExpression.copy(context), pattern.copy(context), isNegated(), nodeBuilder())\r\n        );\r\n        copyTo(predicate, context);\r\n        return predicate;\r\n    }\r\n\r\n    public SqmExpression&lt;?&gt; getMatchExpression() {\r\n        return matchExpression;\r\n    }\r\n\r\n    public SqmExpression&lt;?&gt; getPattern() {\r\n        return pattern;\r\n    }\r\n\r\n    @Override\r\n    public &lt;T&gt; T accept(SemanticQueryWalker&lt;T&gt; walker) {\r\n        if (walker instanceof SqmTranslator&lt;?&gt;) {\r\n            Dialect dialect = ((SqmTranslator&lt;?&gt;) walker).getCreationContext().getSessionFactory().getJdbcServices().getDialect();\r\n            if (dialect instanceof HSQLDialect) {\r\n                return walker.visitIsNullPredicate(new SqmNullnessPredicate(function, !isNegated(), nodeBuilder()));\r\n            } else {\r\n                return walker.visitComparisonPredicate(new SqmComparisonPredicate(\r\n                    function,\r\n                    isNegated() ? ComparisonOperator.NOT_EQUAL : ComparisonOperator.EQUAL,\r\n                    nodeBuilder().literal(1),\r\n                    nodeBuilder()\r\n                ));\r\n            }\r\n        }\r\n        return function.accept(walker);\r\n    }\r\n\r\n    @Override\r\n    public void appendHqlString(StringBuilder sb) {\r\n        function.appendHqlString(sb);\r\n    }\r\n\r\n    @Override\r\n    protected SqmNegatablePredicate createNegatedNode() {\r\n        return new RLikePredicate(matchExpression, pattern, !isNegated(), nodeBuilder());\r\n    }\r\n}\r\n```","title":"migrate hibernate 5 to hibernate 6 render Custom predicates","body":"<p>I'm trying to migrate from hibernate 5 to hibernate 6. Everything works as exptected, except for custom Expressions.\nIn hibernate 5 it was possible to create custom Expression (e.g: RlikeExpression that renders as $1 RLIKE $2 for mysql and regexp_substring ($1, $2) IS NOT NULL for hsql)</p>\n<p>My goal is to be able to add a Predicate, the same way as LIKE. (or eventually to create custom orderBy Expressions) All I need is a way to render myself what I need to write in the query.\nE.G :</p>\n<pre><code>criteriaQuery.where(new RLikePredicate(criteriaBuilder, from.get(&quot;COLUMN&quot;), &quot;REGEX&quot;));\nOR\ncriteriaQuery.orderBy(new MyOrderExpression(criteriaBuilder, ...)); // this creates a case/when SQL query thanks to the render(RenderingContext) method.\n\n</code></pre>\n<p>How is it possible to achieve the same in hibernate 6.\nHere is my RLikePredicate (I know it's not pretty, but it works)</p>\n<p>In my HSQLDialect (for junit testing)</p>\n<pre><code>public class HSQLIntBooleanDialect extends HSQLDialect {\n    public HSQLIntBooleanDialect() {\n        super();\n        registerFunction(&quot;rlike&quot;, new SQLFunctionTemplate(StandardBasicTypes.INTEGER, &quot;regexp_substring (?1, ?2) &quot;));\n    }\n}\n\n</code></pre>\n<p>In my MYSQL Dialect (for production)</p>\n<pre><code>public class MySQL5IntBooleanDialect extends MySQL5Dialect {\n    public MySQL5IntBooleanDialect() {\n        super();\n        registerFunction(&quot;rlike&quot;, new SQLFunctionTemplate(StandardBasicTypes.INTEGER, &quot;(?1 RLIKE ?2)&quot;));\n    }\n}\n\n</code></pre>\n<p>And now, the part I'm having problems to migrate :</p>\n<pre><code>package fr.cstb.doef.dao.expression;\n\nimport org.apache.commons.logging.Log;\nimport org.apache.commons.logging.LogFactory;\nimport org.hibernate.dialect.Dialect;\nimport org.hibernate.dialect.HSQLDialect;\nimport org.hibernate.dialect.MySQL8Dialect;\nimport org.hibernate.dialect.MySQLDialect;\nimport org.hibernate.query.criteria.internal.CriteriaBuilderImpl;\nimport org.hibernate.query.criteria.internal.ParameterRegistry;\nimport org.hibernate.query.criteria.internal.Renderable;\nimport org.hibernate.query.criteria.internal.compile.RenderingContext;\nimport org.hibernate.query.criteria.internal.expression.LiteralExpression;\nimport org.hibernate.query.criteria.internal.predicate.AbstractSimplePredicate;\n\nimport javax.persistence.criteria.CriteriaBuilder;\nimport javax.persistence.criteria.Expression;\nimport java.io.Serializable;\nimport java.util.function.Function;\n\n@SuppressWarnings({&quot;unused&quot;, &quot;WeakerAccess&quot;, &quot;UnusedReturnValue&quot;})\npublic class RLikePredicate extends AbstractSimplePredicate implements Serializable {\n\n    private static final Log log = LogFactory.getLog(RLikePredicate.class);\n\n    private final Expression&lt;String&gt; matchExpression;\n    private final Expression&lt;String&gt; pattern;\n\n    public RLikePredicate(\n        CriteriaBuilder criteriaBuilder,\n        Expression&lt;String&gt; matchExpression,\n        Expression&lt;String&gt; pattern) {\n        this(criteriaBuilder, matchExpression, pattern, null);\n    }\n\n    public RLikePredicate(\n        CriteriaBuilder criteriaBuilder,\n        Expression&lt;String&gt; matchExpression,\n        String pattern) {\n        this(criteriaBuilder, matchExpression, new LiteralExpression&lt;&gt;((CriteriaBuilderImpl) criteriaBuilder, pattern));\n    }\n\n    public RLikePredicate(\n        CriteriaBuilder criteriaBuilder,\n        Expression&lt;String&gt; matchExpression,\n        Expression&lt;String&gt; pattern,\n        Expression&lt;Character&gt; escapeCharacter) {\n        super((CriteriaBuilderImpl) criteriaBuilder);\n        this.matchExpression = matchExpression;\n        this.pattern = pattern;\n    }\n\n    public RLikePredicate(\n        CriteriaBuilder criteriaBuilder,\n        Expression&lt;String&gt; matchExpression,\n        Expression&lt;String&gt; pattern,\n        char escapeCharacter) {\n        this(\n            criteriaBuilder,\n            matchExpression,\n            pattern,\n            new LiteralExpression&lt;&gt;((CriteriaBuilderImpl) criteriaBuilder, escapeCharacter)\n        );\n    }\n\n    public RLikePredicate(\n        CriteriaBuilder criteriaBuilder,\n        Expression&lt;String&gt; matchExpression,\n        String pattern,\n        char escapeCharacter) {\n        this(\n            criteriaBuilder,\n            matchExpression,\n            new LiteralExpression&lt;&gt;((CriteriaBuilderImpl) criteriaBuilder, pattern),\n            new LiteralExpression&lt;&gt;((CriteriaBuilderImpl) criteriaBuilder, escapeCharacter)\n        );\n    }\n\n    public RLikePredicate(\n        CriteriaBuilder criteriaBuilder,\n        Expression&lt;String&gt; matchExpression,\n        String pattern,\n        Expression&lt;Character&gt; escapeCharacter) {\n        this(\n            criteriaBuilder,\n            matchExpression,\n            new LiteralExpression&lt;&gt;((CriteriaBuilderImpl) criteriaBuilder, pattern),\n            escapeCharacter\n        );\n    }\n\n    public Expression&lt;String&gt; getMatchExpression() {\n        return matchExpression;\n    }\n\n    public Expression&lt;String&gt; getPattern() {\n        return pattern;\n    }\n\n    public void registerParameters(ParameterRegistry registry) {\n        Helper.possibleParameter(getMatchExpression(), registry);\n        Helper.possibleParameter(getPattern(), registry);\n    }\n\n    @Override\n    public String render(boolean isNegated, RenderingContext renderingContext) {\n        StringBuilder buffer = new StringBuilder();\n\n        if (renderingContext.getDialect() instanceof HSQLDialect) {\n            final String operator = isNegated ? &quot; IS NULL&quot; : &quot; IS NOT NULL&quot;;\n\n            buffer.append(&quot;rlike (&quot;).append(((Renderable) getMatchExpression()).render(renderingContext))\n                .append(&quot;,&quot;)\n                .append(escapeSqlRegex(renderingContext, String::valueOf)).append(&quot;)&quot;).append(operator);\n\n        } else if (renderingContext.getDialect() instanceof MySQLDialect) {\n            final String operator = isNegated ? &quot; != 1&quot; : &quot; = 1&quot;;\n\n            buffer.append(&quot;rlike (&quot;).append(((Renderable) getMatchExpression()).render(renderingContext))\n                .append(&quot;,&quot;)\n                .append(escapeSqlRegex(renderingContext, String::valueOf)).append(&quot;)&quot;).append(operator);\n\n        } else {\n            throw new UnsupportedOperationException(&quot;Unsupported dialect.&quot;);\n        }\n        return buffer.toString();\n    }\n\n    private String escapeSqlRegex(RenderingContext renderingContext, Function&lt;Object, String&gt; toStringLiteral) {\n        if (!(getPattern() instanceof LiteralExpression)) return ((Renderable) getPattern()).render(renderingContext);\n        Object literal = ((LiteralExpression) getPattern()).getLiteral();\n        literal = escapeSqlRegex(renderingContext.getDialect(), String.valueOf(literal));\n        return &quot;'&quot; + toStringLiteral.apply(literal).replace(&quot;'&quot;, &quot;''&quot;) + &quot;'&quot;;\n    }\n\n    public static String escapeSqlRegex(Dialect dialect, String regex) {\n        if (regex == null) return null;\n        if (dialect instanceof MySQL8Dialect) regex = regex.replace(&quot;\\\\&quot;, &quot;\\\\\\\\&quot;);\n        return regex;\n    }\n}\n\n</code></pre>\n<p>I'm expecting a query that shows like\nalias.COLUMN RLIKE 'REGEX' in mysql\nand regexp_substring (alias.COLUMN, 'REGEX') IS NOT NULL IN HSQL</p>\n<p><strong>FOUND A SOLUTION.</strong>\nIs there an better way ?</p>\n<p>I finally came up with that solution. The nodeBuilder.function method returns my rlike function. And transform it to an Predicate.\nIt's not perfect, but I hope it will help someone else.</p>\n<pre><code>package fr.cstb.doef.dao.expression;\n\nimport org.apache.commons.logging.Log;\nimport org.apache.commons.logging.LogFactory;\nimport org.hibernate.query.sqm.NodeBuilder;\nimport org.hibernate.query.sqm.SemanticQueryWalker;\nimport org.hibernate.query.sqm.tree.SqmCopyContext;\nimport org.hibernate.query.sqm.tree.expression.SqmExpression;\nimport org.hibernate.query.sqm.tree.expression.SqmFunction;\nimport org.hibernate.query.sqm.tree.predicate.AbstractNegatableSqmPredicate;\nimport org.hibernate.query.sqm.tree.predicate.SqmNegatablePredicate;\nimport org.hibernate.query.sqm.tree.predicate.SqmNullnessPredicate;\n\nimport java.io.Serializable;\n\n@SuppressWarnings({&quot;unused&quot;, &quot;WeakerAccess&quot;, &quot;UnusedReturnValue&quot;})\npublic class RLikePredicate extends AbstractNegatableSqmPredicate implements Serializable {\n\n    private static final Log log = LogFactory.getLog(RLikePredicate.class);\n\n    private final SqmExpression&lt;?&gt; matchExpression;\n    private final SqmExpression&lt;?&gt; pattern;\n\n    private final SqmFunction&lt;Integer&gt; function;\n\n    public RLikePredicate(SqmExpression&lt;?&gt; matchExpression, SqmExpression&lt;?&gt; pattern, boolean negated, NodeBuilder nodeBuilder) {\n        super(negated, nodeBuilder);\n        this.matchExpression = matchExpression;\n        this.pattern = pattern;\n        function = nodeBuilder.function(&quot;rlike&quot;, Integer.class, new jakarta.persistence.criteria.Expression[]{matchExpression, pattern});\n    }\n\n    public RLikePredicate(SqmExpression&lt;?&gt; matchExpression, SqmExpression&lt;?&gt; pattern, NodeBuilder nodeBuilder) {\n        this(matchExpression, pattern, false, nodeBuilder);\n    }\n\n    @Override\n    public RLikePredicate copy(SqmCopyContext context) {\n        final RLikePredicate existing = context.getCopy(this);\n        if (existing != null) return existing;\n        final RLikePredicate predicate = context.registerCopy(\n            this,\n            new RLikePredicate(matchExpression.copy(context), pattern.copy(context), isNegated(), nodeBuilder())\n        );\n        copyTo(predicate, context);\n        return predicate;\n    }\n\n    public SqmExpression&lt;?&gt; getMatchExpression() {\n        return matchExpression;\n    }\n\n    public SqmExpression&lt;?&gt; getPattern() {\n        return pattern;\n    }\n\n    @Override\n    public &lt;T&gt; T accept(SemanticQueryWalker&lt;T&gt; walker) {\n        if (walker instanceof SqmTranslator&lt;?&gt;) {\n            Dialect dialect = ((SqmTranslator&lt;?&gt;) walker).getCreationContext().getSessionFactory().getJdbcServices().getDialect();\n            if (dialect instanceof HSQLDialect) {\n                return walker.visitIsNullPredicate(new SqmNullnessPredicate(function, !isNegated(), nodeBuilder()));\n            } else {\n                return walker.visitComparisonPredicate(new SqmComparisonPredicate(\n                    function,\n                    isNegated() ? ComparisonOperator.NOT_EQUAL : ComparisonOperator.EQUAL,\n                    nodeBuilder().literal(1),\n                    nodeBuilder()\n                ));\n            }\n        }\n        return function.accept(walker);\n    }\n\n    @Override\n    public void appendHqlString(StringBuilder sb) {\n        function.appendHqlString(sb);\n    }\n\n    @Override\n    protected SqmNegatablePredicate createNegatedNode() {\n        return new RLikePredicate(matchExpression, pattern, !isNegated(), nodeBuilder());\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","elasticsearch"],"comments":[{"owner":{"account_id":1988337,"reputation":598,"user_id":1782997,"display_name":"Attila T"},"score":1,"creation_date":1667781079,"post_id":74337649,"comment_id":131242403,"body_markdown":"Does this help? [Getting Exceptions while running a Spring boot app with elasticsearch](https://stackoverflow.com/questions/71478330/getting-exceptions-while-running-a-spring-boot-app-with-elasticsearch)","body":"Does this help? <a href=\"https://stackoverflow.com/questions/71478330/getting-exceptions-while-running-a-spring-boot-app-with-elasticsearch\">Getting Exceptions while running a Spring boot app with elasticsearch</a>"},{"owner":{"account_id":535778,"reputation":49549,"user_id":905093,"display_name":"Book Of Zeus"},"score":0,"creation_date":1667793127,"post_id":74337649,"comment_id":131244077,"body_markdown":"yeah looks like a docker issue indeed, if you can&#39;t reach http://127.0.0.1:9200, I would remove the docker image and re-create it","body":"yeah looks like a docker issue indeed, if you can&#39;t reach <a href=\"http://127.0.0.1:9200\" rel=\"nofollow noreferrer\">127.0.0.1:9200</a>, I would remove the docker image and re-create it"}],"answers":[{"tags":[],"owner":{"account_id":3439640,"reputation":41,"user_id":3544553,"display_name":"Yalamanda"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675774318,"creation_date":1675773727,"answer_id":75373539,"question_id":74337649,"body_markdown":"I too faced the same issue and struggled day for this issue when I running local finally I found the fix\r\nwe need to get certs generated elastic search and load while connecting to the elastic server from jave\r\n\r\nI have used spring boot 2.7.8\r\n\r\n```\r\npublic class ElasticConfig extends\r\n        AbstractElasticsearchConfiguration {\r\n\r\n    private final ElasticsearchProperties elasticsearchProperties;\r\n\r\n    @SneakyThrows\r\n    @Override\r\n    @Bean\r\n    public RestHighLevelClient elasticsearchClient() {\r\n\r\n        SSLContextBuilder sslBuilder = getSslContextBuilder();\r\n\r\n        final ClientConfiguration clientConfiguration = ClientConfiguration.builder()\r\n                .connectedTo(&quot;localhost:9200&quot;)\r\n                .usingSsl()\r\n                .withSocketTimeout(elasticsearchProperties.getSocketTimeout())\r\n                .withClientConfigurer((RestClients.RestClientConfigurationCallback) clientConfigurer -&gt; {\r\n                    try {\r\n                        return clientConfigurer.setSSLContext(sslBuilder.build());\r\n                    } catch (NoSuchAlgorithmException | KeyManagementException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                    return clientConfigurer;\r\n                })\r\n                .withBasicAuth(&quot;default username&quot;, &quot;pwd genereated from elastic console&quot;)\r\n                .build();\r\n\r\n        return RestClients.create(clientConfiguration).rest();\r\n    }\r\n\r\n    private SSLContextBuilder getSslContextBuilder() throws CertificateException, IOException, KeyStoreException, NoSuchAlgorithmException {\r\n        Path caCertificatePath = ResourceUtils.getFile(&quot;classpath:http_ca.crt&quot;).toPath();\r\n        CertificateFactory factory =\r\n                CertificateFactory.getInstance(&quot;X.509&quot;);\r\n        Certificate trustedCa;\r\n        try (InputStream is = Files.newInputStream(caCertificatePath)) {\r\n            trustedCa = factory.generateCertificate(is);\r\n        }\r\n        KeyStore trustStore = KeyStore.getInstance(&quot;pkcs12&quot;);\r\n        trustStore.load(null, null);\r\n        trustStore.setCertificateEntry(&quot;ca&quot;, trustedCa);\r\n        return SSLContexts.custom()\r\n                .loadTrustMaterial(trustStore, null);\r\n    }\r\n}\r\n```","title":"unable to start elasticsearch java application","body":"<p>I too faced the same issue and struggled day for this issue when I running local finally I found the fix\nwe need to get certs generated elastic search and load while connecting to the elastic server from jave</p>\n<p>I have used spring boot 2.7.8</p>\n<pre><code>public class ElasticConfig extends\n        AbstractElasticsearchConfiguration {\n\n    private final ElasticsearchProperties elasticsearchProperties;\n\n    @SneakyThrows\n    @Override\n    @Bean\n    public RestHighLevelClient elasticsearchClient() {\n\n        SSLContextBuilder sslBuilder = getSslContextBuilder();\n\n        final ClientConfiguration clientConfiguration = ClientConfiguration.builder()\n                .connectedTo(&quot;localhost:9200&quot;)\n                .usingSsl()\n                .withSocketTimeout(elasticsearchProperties.getSocketTimeout())\n                .withClientConfigurer((RestClients.RestClientConfigurationCallback) clientConfigurer -&gt; {\n                    try {\n                        return clientConfigurer.setSSLContext(sslBuilder.build());\n                    } catch (NoSuchAlgorithmException | KeyManagementException e) {\n                        e.printStackTrace();\n                    }\n                    return clientConfigurer;\n                })\n                .withBasicAuth(&quot;default username&quot;, &quot;pwd genereated from elastic console&quot;)\n                .build();\n\n        return RestClients.create(clientConfiguration).rest();\n    }\n\n    private SSLContextBuilder getSslContextBuilder() throws CertificateException, IOException, KeyStoreException, NoSuchAlgorithmException {\n        Path caCertificatePath = ResourceUtils.getFile(&quot;classpath:http_ca.crt&quot;).toPath();\n        CertificateFactory factory =\n                CertificateFactory.getInstance(&quot;X.509&quot;);\n        Certificate trustedCa;\n        try (InputStream is = Files.newInputStream(caCertificatePath)) {\n            trustedCa = factory.generateCertificate(is);\n        }\n        KeyStore trustStore = KeyStore.getInstance(&quot;pkcs12&quot;);\n        trustStore.load(null, null);\n        trustStore.setCertificateEntry(&quot;ca&quot;, trustedCa);\n        return SSLContexts.custom()\n                .loadTrustMaterial(trustStore, null);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26261344,"reputation":1,"user_id":19932611,"display_name":"DrunkenPotato"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":388,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675774318,"creation_date":1667751854,"question_id":74337649,"body_markdown":"I can&#39;t start elastic search applicaiton: \r\n\r\n    java 17\r\n    elastic 8.5\r\n    springboot 2.7.1\r\n\r\nI get this error\r\n\r\n\r\n&gt; Caused by: org.springframework.beans.factory.BeanCreationException:\r\n&gt; Error creating bean with name &#39;productRepository&#39; defined in\r\n&gt; io.pratik.elasticsearch.repositories.ProductRepository defined in\r\n&gt; @EnableElasticsearchRepositories declared on\r\n&gt; ElasticsearchClientConfig: Invocation of init method failed; nested\r\n&gt; exception is org.springframework.beans.BeanInstantiationException:\r\n&gt; Failed to instantiate\r\n&gt; [org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository]:\r\n&gt; Constructor threw exception; nested exception is\r\n&gt; org.springframework.data.elasticsearch.UncategorizedElasticsearchException:\r\n&gt; java.util.concurrent.ExecutionException:\r\n&gt; org.apache.http.ConnectionClosedException: Connection is closed;\r\n&gt; nested exception is\r\n&gt; ElasticsearchException[java.util.concurrent.ExecutionException:\r\n&gt; org.apache.http.ConnectionClosedException: Connection is closed];\r\n&gt; nested: ExecutionException[org.apache.http.ConnectionClosedException:\r\n&gt; Connection is closed]; nested: ConnectionClosedException[Connection is\r\n&gt; closed];\r\n\r\n\r\nI have my configuration\r\n\r\n```java\r\n@Configuration\r\n@EnableElasticsearchRepositories(basePackages = &quot;io.pratik.elasticsearch.repositories&quot;)\r\n@ComponentScan(basePackages = { &quot;io.pratik.elasticsearch&quot; })\r\npublic class ElasticsearchClientConfig extends AbstractElasticsearchConfiguration {\r\n   @Override\r\n   @Bean\r\n   public RestHighLevelClient elasticsearchClient() {\r\n      final ClientConfiguration clientConfiguration = ClientConfiguration\r\n            .builder()\r\n            .connectedTo(&quot;0.0.0.0:9200&quot;)\r\n            .build();\r\n      return RestClients\r\n            .create(clientConfiguration)\r\n            .rest();\r\n   }\r\n}\r\n```\r\n\r\nmy code\r\n\r\n```java\r\n@Repository\r\npublic interface ProductRepository extends ElasticsearchRepository&lt;Product, String&gt; {\r\n    List&lt;Product&gt; findByName(String name);\r\n    \r\n    List&lt;Product&gt; findByNameContaining(String name);\r\n \r\n    List&lt;Product&gt; findByManufacturerAndCategory(String manufacturer,String category);\r\n}\r\n```\r\n```java\r\n@Service\r\n@Slf4j\r\npublic class ProductSearchServiceWithRepo {\r\n\r\n   private ProductRepository productRepository;\r\n\r\n   @Autowired\r\n   public ProductSearchServiceWithRepo(final ProductRepository productRepository) {\r\n      super();\r\n      this.productRepository = productRepository;\r\n   }\r\n\r\n   public void createProductIndexBulk(final List&lt;Product&gt; products) {\r\n      productRepository.saveAll(products);\r\n   }\r\n\r\n```\r\n\r\nmy docker service\r\n\r\n```\r\ndocker ps -a\r\nCONTAINER ID   IMAGE                 COMMAND                  CREATED        STATUS          PORTS                                            NAMES\r\n0ac7e3cf04f9   elasticsearch:8.5.0   &quot;/bin/tini -- /usr/l…&quot;   11 hours ago   Up 15 minutes   0.0.0.0:9200-&gt;9200/tcp, 0.0.0.0:9300-&gt;9300/tcp   elasticsearch\r\n```\r\n\r\nwhat I&#39;m missing?\r\n\r\nI dont understand the issue and I am expecting working app","title":"unable to start elasticsearch java application","body":"<p>I can't start elastic search applicaiton:</p>\n<pre><code>java 17\nelastic 8.5\nspringboot 2.7.1\n</code></pre>\n<p>I get this error</p>\n<blockquote>\n<p>Caused by: org.springframework.beans.factory.BeanCreationException:\nError creating bean with name 'productRepository' defined in\nio.pratik.elasticsearch.repositories.ProductRepository defined in\n@EnableElasticsearchRepositories declared on\nElasticsearchClientConfig: Invocation of init method failed; nested\nexception is org.springframework.beans.BeanInstantiationException:\nFailed to instantiate\n[org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository]:\nConstructor threw exception; nested exception is\norg.springframework.data.elasticsearch.UncategorizedElasticsearchException:\njava.util.concurrent.ExecutionException:\norg.apache.http.ConnectionClosedException: Connection is closed;\nnested exception is\nElasticsearchException[java.util.concurrent.ExecutionException:\norg.apache.http.ConnectionClosedException: Connection is closed];\nnested: ExecutionException[org.apache.http.ConnectionClosedException:\nConnection is closed]; nested: ConnectionClosedException[Connection is\nclosed];</p>\n</blockquote>\n<p>I have my configuration</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableElasticsearchRepositories(basePackages = &quot;io.pratik.elasticsearch.repositories&quot;)\n@ComponentScan(basePackages = { &quot;io.pratik.elasticsearch&quot; })\npublic class ElasticsearchClientConfig extends AbstractElasticsearchConfiguration {\n   @Override\n   @Bean\n   public RestHighLevelClient elasticsearchClient() {\n      final ClientConfiguration clientConfiguration = ClientConfiguration\n            .builder()\n            .connectedTo(&quot;0.0.0.0:9200&quot;)\n            .build();\n      return RestClients\n            .create(clientConfiguration)\n            .rest();\n   }\n}\n</code></pre>\n<p>my code</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository\npublic interface ProductRepository extends ElasticsearchRepository&lt;Product, String&gt; {\n    List&lt;Product&gt; findByName(String name);\n    \n    List&lt;Product&gt; findByNameContaining(String name);\n \n    List&lt;Product&gt; findByManufacturerAndCategory(String manufacturer,String category);\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\n@Slf4j\npublic class ProductSearchServiceWithRepo {\n\n   private ProductRepository productRepository;\n\n   @Autowired\n   public ProductSearchServiceWithRepo(final ProductRepository productRepository) {\n      super();\n      this.productRepository = productRepository;\n   }\n\n   public void createProductIndexBulk(final List&lt;Product&gt; products) {\n      productRepository.saveAll(products);\n   }\n\n</code></pre>\n<p>my docker service</p>\n<pre><code>docker ps -a\nCONTAINER ID   IMAGE                 COMMAND                  CREATED        STATUS          PORTS                                            NAMES\n0ac7e3cf04f9   elasticsearch:8.5.0   &quot;/bin/tini -- /usr/l…&quot;   11 hours ago   Up 15 minutes   0.0.0.0:9200-&gt;9200/tcp, 0.0.0.0:9300-&gt;9300/tcp   elasticsearch\n</code></pre>\n<p>what I'm missing?</p>\n<p>I dont understand the issue and I am expecting working app</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","autowired"],"answers":[{"comments":[{"owner":{"account_id":935507,"reputation":2279,"user_id":964491,"accept_rate":90,"display_name":"Dan"},"score":0,"creation_date":1511403875,"post_id":47446590,"comment_id":81848546,"body_markdown":"thanks for your answer, but that did not work for me. essentially what i am trying to achieve is to be able to run my service classes using the command line and run only the rest_controller part of the application using spring boot","body":"thanks for your answer, but that did not work for me. essentially what i am trying to achieve is to be able to run my service classes using the command line and run only the rest_controller part of the application using spring boot"},{"owner":{"account_id":12167754,"reputation":24,"user_id":8883520,"display_name":"Afif Fahmi Brilian"},"score":0,"creation_date":1511404065,"post_id":47446590,"comment_id":81848585,"body_markdown":"yes thats why u need the `@SpringBootApplication` and if you want to run using command line implement the `CommandLineRunner` and override the run method. put your code inside run method and test using `mvn package` then `java -jar target/harvest.jar`","body":"yes thats why u need the <code>@SpringBootApplication</code> and if you want to run using command line implement the <code>CommandLineRunner</code> and override the run method. put your code inside run method and test using <code>mvn package</code> then <code>java -jar target&#47;harvest.jar</code>"},{"owner":{"account_id":935507,"reputation":2279,"user_id":964491,"accept_rate":90,"display_name":"Dan"},"score":0,"creation_date":1511405961,"post_id":47446590,"comment_id":81848980,"body_markdown":"oh i see, i will try that next, but i am having some compiler missing steps when i run mvn package, will get back to you once i fix these issues","body":"oh i see, i will try that next, but i am having some compiler missing steps when i run mvn package, will get back to you once i fix these issues"},{"owner":{"account_id":935507,"reputation":2279,"user_id":964491,"accept_rate":90,"display_name":"Dan"},"score":0,"creation_date":1511413254,"post_id":47446590,"comment_id":81850819,"body_markdown":"ok thanks, this helped me out, i ended up using this link and turned my service into a component because running it as a separate SpringBootApplication was not working for me, maybe it is because how my modules are set up or something else i used this link to run it as a component and it ran when i ran the rest app https://www.quickprogrammingtips.com/spring-boot/how-to-use-commandlinerunner-in-spring-boot-application.html","body":"ok thanks, this helped me out, i ended up using this link and turned my service into a component because running it as a separate SpringBootApplication was not working for me, maybe it is because how my modules are set up or something else i used this link to run it as a component and it ran when i ran the rest app <a href=\"https://www.quickprogrammingtips.com/spring-boot/how-to-use-commandlinerunner-in-spring-boot-application.html\" rel=\"nofollow noreferrer\">quickprogrammingtips.com/spring-boot/&hellip;</a>"},{"owner":{"account_id":4231428,"reputation":1077,"user_id":3463646,"accept_rate":80,"display_name":"sopehl"},"score":0,"creation_date":1544798772,"post_id":47446590,"comment_id":94415095,"body_markdown":"delete the static keyword from the field that you injected the beans, use the CommandLineRunner interface and after adding SpringApplication.run(HarvestService.class, args) and @SpringBootApplication, use the beans in the run(String... args) method.","body":"delete the static keyword from the field that you injected the beans, use the CommandLineRunner interface and after adding SpringApplication.run(HarvestService.class, args) and @SpringBootApplication, use the beans in the run(String... args) method."}],"tags":[],"owner":{"account_id":12167754,"reputation":24,"user_id":8883520,"display_name":"Afif Fahmi Brilian"},"comment_count":5,"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1511403573,"creation_date":1511403573,"answer_id":47446590,"question_id":47446504,"body_markdown":"are you using spring boot? \r\nlooks like your HarvestService class needs `@SpringBootApplication` and add thid in main function\r\n\r\n    SpringApplication.run(HarvestService.class, args);\r\n\r\nand make sure you have the right dependency in your maven/gradle.\r\nhope it helps","title":"spring service is not autowired in main class","body":"<p>are you using spring boot? \nlooks like your HarvestService class needs <code>@SpringBootApplication</code> and add thid in main function</p>\n\n<pre><code>SpringApplication.run(HarvestService.class, args);\n</code></pre>\n\n<p>and make sure you have the right dependency in your maven/gradle.\nhope it helps</p>\n"},{"tags":[],"owner":{"account_id":4606083,"reputation":304,"user_id":3735541,"display_name":"Juan Pablo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1511406220,"creation_date":1511406220,"answer_id":47446891,"question_id":47446504,"body_markdown":"You have to implement CommandLineRunner and put your code inside the method run, because spring need to load all the components and with the normal main it is not going to work\r\n\r\n    @Override\r\n        public void run(String... args) throws Exception {\r\n            main(args);\r\n        }\r\n\r\n[https://stackoverflow.com/questions/24271705/springapplication-run-main-method][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/24271705/springapplication-run-main-method","title":"spring service is not autowired in main class","body":"<p>You have to implement CommandLineRunner and put your code inside the method run, because spring need to load all the components and with the normal main it is not going to work</p>\n\n<pre><code>@Override\n    public void run(String... args) throws Exception {\n        main(args);\n    }\n</code></pre>\n\n<p><a href=\"https://stackoverflow.com/questions/24271705/springapplication-run-main-method\">SpringApplication.run main method</a></p>\n"},{"tags":[],"owner":{"account_id":7484017,"reputation":467,"user_id":5687924,"display_name":"MAYOBYO HASSAN"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1566155212,"creation_date":1566155212,"answer_id":57547570,"question_id":47446504,"body_markdown":"i had the same problem also, `@Autowired` was not working in the main class\r\nWhat i did was to get a reference to the `ApplicationContext`, then use it to get the `sourcesService` as a bean\r\n\r\nhave rewrote your class as below\r\n\r\n    package com.infostream.services;\r\n    import java.util.concurrent.ArrayBlockingQueue;\r\n    import java.util.concurrent.BlockingQueue;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    // adedd import file\r\n    import org.springframework.context.ApplicationContext;\r\n    \r\n    import com.infostream.consumers.RssArticleConsumer;\r\n    import com.infostream.models.Article;\r\n    import com.infostream.models.Source;\r\n    import com.infostream.producers.RssXmlProducer;\r\n    \r\n    @SpringBootApplication // added this here\r\n    public class HarvestService \r\n    {\r\n        private static BlockingQueue&lt;Article&gt; article_queue = new ArrayBlockingQueue&lt;Article&gt;(10);\r\n    \r\n        @Autowired\r\n        private static SourcesService sourcesService;\r\n\r\n        ApplicationContext context; // added this here\r\n\r\n    \r\n        public static void main(String[] args) throws InterruptedException {\r\n            \r\n            // added this - get reference to application context\r\n            context = SpringApplication.run(HarvestService.class, args);\r\n            // added this - get the object via the context as a bean\r\n            sourcesService = (SourcesService) context.getBean(&quot;sourcesService&quot;);\r\n\r\n\r\n            Iterable&lt;Source&gt; sources = sourcesService.getAllSources();\r\n    \r\n            /*\r\n            for(Source s : sources) {\r\n                System.out.println(s.getUrl());\r\n            }\r\n    \r\n            Thread t1 = new Thread(new RssXmlProducer(sources.iterator().next(),article_queue));\r\n            Thread t2 = new Thread(new RssArticleConsumer(article_queue));\r\n    \r\n            t1.start();\r\n            t2.start();\r\n    \r\n            t1.join();\r\n            t2.join();\r\n            */      \r\n        }\r\n    }","title":"spring service is not autowired in main class","body":"<p>i had the same problem also, <code>@Autowired</code> was not working in the main class\nWhat i did was to get a reference to the <code>ApplicationContext</code>, then use it to get the <code>sourcesService</code> as a bean</p>\n\n<p>have rewrote your class as below</p>\n\n<pre><code>package com.infostream.services;\nimport java.util.concurrent.ArrayBlockingQueue;\nimport java.util.concurrent.BlockingQueue;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n// adedd import file\nimport org.springframework.context.ApplicationContext;\n\nimport com.infostream.consumers.RssArticleConsumer;\nimport com.infostream.models.Article;\nimport com.infostream.models.Source;\nimport com.infostream.producers.RssXmlProducer;\n\n@SpringBootApplication // added this here\npublic class HarvestService \n{\n    private static BlockingQueue&lt;Article&gt; article_queue = new ArrayBlockingQueue&lt;Article&gt;(10);\n\n    @Autowired\n    private static SourcesService sourcesService;\n\n    ApplicationContext context; // added this here\n\n\n    public static void main(String[] args) throws InterruptedException {\n\n        // added this - get reference to application context\n        context = SpringApplication.run(HarvestService.class, args);\n        // added this - get the object via the context as a bean\n        sourcesService = (SourcesService) context.getBean(\"sourcesService\");\n\n\n        Iterable&lt;Source&gt; sources = sourcesService.getAllSources();\n\n        /*\n        for(Source s : sources) {\n            System.out.println(s.getUrl());\n        }\n\n        Thread t1 = new Thread(new RssXmlProducer(sources.iterator().next(),article_queue));\n        Thread t2 = new Thread(new RssArticleConsumer(article_queue));\n\n        t1.start();\n        t2.start();\n\n        t1.join();\n        t2.join();\n        */      \n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2403011,"reputation":61,"user_id":2100258,"display_name":"Bibin Chorickanpara"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675774132,"creation_date":1675774132,"answer_id":75373599,"question_id":47446504,"body_markdown":"Used modelmapper dependency (2.4.4) .Use @RequiredArgsConstructor and modelmapper method with @Bean annotation on main class. The bean that to be initialize should be final.\r\n\r\n","title":"spring service is not autowired in main class","body":"<p>Used modelmapper dependency (2.4.4) .Use @RequiredArgsConstructor and modelmapper method with @Bean annotation on main class. The bean that to be initialize should be final.</p>\n"}],"owner":{"account_id":935507,"reputation":2279,"user_id":964491,"accept_rate":90,"display_name":"Dan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7491,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":47446590,"answer_count":4,"score":1,"last_activity_date":1675774132,"creation_date":1511402670,"question_id":47446504,"body_markdown":"Here is my SourceRepository class which does not override the autogenerated general findAll() which returns Iterable&lt;T&gt;    \r\n\r\n    package com.infostream.repositories;\r\n    \r\n    import org.springframework.data.domain.Page;\r\n    import org.springframework.data.domain.Pageable;\r\n    import org.springframework.data.repository.PagingAndSortingRepository;\r\n    \r\n    import com.infostream.models.Source;\r\n    \r\n    public interface SourceRepositoryImpl extends PagingAndSortingRepository&lt;Source, Long&gt;{\r\n    \t\r\n    \tPage&lt;Source&gt; findAll(Pageable pageRequest);\r\n    \t\r\n    }\r\n\r\nHere is my service class:\r\n\r\n    package com.infostream.services;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.data.domain.Page;\r\n    import org.springframework.data.domain.PageImpl;\r\n    import org.springframework.data.domain.Pageable;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    import com.infostream.models.Source;\r\n    import com.infostream.repositories.SourceRepositoryImpl;\r\n    \r\n    @Component\r\n    public class SourcesService {\r\n    \t@Autowired\r\n    \tprivate SourceRepositoryImpl sourceRepository;\r\n    \t\r\n    \tpublic PageImpl&lt;Source&gt; getPaginatedSources(Pageable pageRequest) {\r\n    \t\tPage&lt;Source&gt; searchResultPage = sourceRepository.findAll(pageRequest);\r\n            return new PageImpl&lt;Source&gt;(searchResultPage.getContent(), pageRequest, searchResultPage.getTotalElements()); \r\n    \t}\r\n    \t\r\n    \tpublic Iterable&lt;Source&gt; getAllSources() {\r\n    \t\treturn sourceRepository.findAll();\r\n    \t}\r\n    }\r\n\r\nHere is my main class which i run as a Java application.\r\n\r\n    package com.infostream.services;\r\n    \r\n    import java.util.concurrent.ArrayBlockingQueue;\r\n    import java.util.concurrent.BlockingQueue;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    \r\n    import com.infostream.consumers.RssArticleConsumer;\r\n    import com.infostream.models.Article;\r\n    import com.infostream.models.Source;\r\n    import com.infostream.producers.RssXmlProducer;\r\n    \r\n    public class HarvestService {\r\n    \t\r\n    \tprivate static BlockingQueue&lt;Article&gt; article_queue = new ArrayBlockingQueue&lt;Article&gt;(10);\r\n    \t\r\n    \t@Autowired\r\n    \tprivate static SourcesService sourcesService;\r\n    \t\r\n    \tpublic static void main(String[] args) throws InterruptedException {\r\n    \t\t\r\n    \t\tIterable&lt;Source&gt; sources = sourcesService.getAllSources();\r\n    \t\t\r\n    \t\t/*\r\n    \t\tfor(Source s : sources) {\r\n    \t\t\tSystem.out.println(s.getUrl());\r\n    \t\t}\r\n    \t\t\r\n    \t\tThread t1 = new Thread(new RssXmlProducer(sources.iterator().next(), article_queue));\r\n    \t\tThread t2 = new Thread(new RssArticleConsumer(article_queue));\r\n    \t\t\r\n    \t\tt1.start();\r\n    \t\tt2.start();\r\n    \t\t\r\n    \t\tt1.join();\r\n    \t\tt2.join();\r\n    \t\t*/\t\t\r\n    \t}\r\n    \t\r\n    \t\r\n    }\r\n\r\nThe sourcesService variable is null, i see the Autowiring is not working but i do not know why. Is it because i am running the HarvestService file as a Java Application by right clicking on the file in the package explorer and clicking run as java application?\r\n","title":"spring service is not autowired in main class","body":"<p>Here is my SourceRepository class which does not override the autogenerated general findAll() which returns Iterable    </p>\n\n<pre><code>package com.infostream.repositories;\n\nimport org.springframework.data.domain.Page;\nimport org.springframework.data.domain.Pageable;\nimport org.springframework.data.repository.PagingAndSortingRepository;\n\nimport com.infostream.models.Source;\n\npublic interface SourceRepositoryImpl extends PagingAndSortingRepository&lt;Source, Long&gt;{\n\n    Page&lt;Source&gt; findAll(Pageable pageRequest);\n\n}\n</code></pre>\n\n<p>Here is my service class:</p>\n\n<pre><code>package com.infostream.services;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.data.domain.Page;\nimport org.springframework.data.domain.PageImpl;\nimport org.springframework.data.domain.Pageable;\nimport org.springframework.stereotype.Component;\n\nimport com.infostream.models.Source;\nimport com.infostream.repositories.SourceRepositoryImpl;\n\n@Component\npublic class SourcesService {\n    @Autowired\n    private SourceRepositoryImpl sourceRepository;\n\n    public PageImpl&lt;Source&gt; getPaginatedSources(Pageable pageRequest) {\n        Page&lt;Source&gt; searchResultPage = sourceRepository.findAll(pageRequest);\n        return new PageImpl&lt;Source&gt;(searchResultPage.getContent(), pageRequest, searchResultPage.getTotalElements()); \n    }\n\n    public Iterable&lt;Source&gt; getAllSources() {\n        return sourceRepository.findAll();\n    }\n}\n</code></pre>\n\n<p>Here is my main class which i run as a Java application.</p>\n\n<pre><code>package com.infostream.services;\n\nimport java.util.concurrent.ArrayBlockingQueue;\nimport java.util.concurrent.BlockingQueue;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\nimport com.infostream.consumers.RssArticleConsumer;\nimport com.infostream.models.Article;\nimport com.infostream.models.Source;\nimport com.infostream.producers.RssXmlProducer;\n\npublic class HarvestService {\n\n    private static BlockingQueue&lt;Article&gt; article_queue = new ArrayBlockingQueue&lt;Article&gt;(10);\n\n    @Autowired\n    private static SourcesService sourcesService;\n\n    public static void main(String[] args) throws InterruptedException {\n\n        Iterable&lt;Source&gt; sources = sourcesService.getAllSources();\n\n        /*\n        for(Source s : sources) {\n            System.out.println(s.getUrl());\n        }\n\n        Thread t1 = new Thread(new RssXmlProducer(sources.iterator().next(), article_queue));\n        Thread t2 = new Thread(new RssArticleConsumer(article_queue));\n\n        t1.start();\n        t2.start();\n\n        t1.join();\n        t2.join();\n        */      \n    }\n\n\n}\n</code></pre>\n\n<p>The sourcesService variable is null, i see the Autowiring is not working but i do not know why. Is it because i am running the HarvestService file as a Java Application by right clicking on the file in the package explorer and clicking run as java application?</p>\n"},{"tags":["java","android","react-native","sdk","android-13"],"comments":[{"owner":{"account_id":13363273,"reputation":644,"user_id":9644502,"display_name":"Mahammad Momin"},"score":0,"creation_date":1671797860,"post_id":74899373,"comment_id":132178457,"body_markdown":"send terminal error","body":"send terminal error"},{"owner":{"account_id":13729704,"reputation":101,"user_id":9907503,"display_name":"Md Javed Akhtar"},"score":0,"creation_date":1671828690,"post_id":74899373,"comment_id":132185995,"body_markdown":"Not getting it on terminal, it’s happening on app downloaded from play store","body":"Not getting it on terminal, it’s happening on app downloaded from play store"},{"owner":{"account_id":13363273,"reputation":644,"user_id":9644502,"display_name":"Mahammad Momin"},"score":0,"creation_date":1671850626,"post_id":74899373,"comment_id":132188764,"body_markdown":"Please check this link: https://github.com/getsentry/sentry-react-native/issues/786#issuecomment-598745949","body":"Please check this link: <a href=\"https://github.com/getsentry/sentry-react-native/issues/786#issuecomment-598745949\" rel=\"nofollow noreferrer\">github.com/getsentry/sentry-react-native/issues/&hellip;</a>"},{"owner":{"account_id":13729704,"reputation":101,"user_id":9907503,"display_name":"Md Javed Akhtar"},"score":0,"creation_date":1672028801,"post_id":74899373,"comment_id":132209232,"body_markdown":"This clearly doesn&#39;t fix the crash issue, it will simply remove it from tracking.","body":"This clearly doesn&#39;t fix the crash issue, it will simply remove it from tracking."},{"owner":{"account_id":24438259,"reputation":191,"user_id":18362256,"display_name":"Grant Solomons"},"score":0,"creation_date":1675763403,"post_id":74899373,"comment_id":132993820,"body_markdown":"I am experiencing the same issue on Samsung devices. Did you find a fix yet?","body":"I am experiencing the same issue on Samsung devices. Did you find a fix yet?"},{"owner":{"account_id":13729704,"reputation":101,"user_id":9907503,"display_name":"Md Javed Akhtar"},"score":0,"creation_date":1675774098,"post_id":74899373,"comment_id":132997270,"body_markdown":"Yes, added answer below please check. The below solution worked for me","body":"Yes, added answer below please check. The below solution worked for me"}],"answers":[{"tags":[],"owner":{"account_id":13729704,"reputation":101,"user_id":9907503,"display_name":"Md Javed Akhtar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675774060,"creation_date":1675774060,"answer_id":75373589,"question_id":74899373,"body_markdown":"So after reading through a lot of github issues, the below code is temporary fix for ANR issue.\r\nAdded false for these keyboardType, autoCorrect, spellCheck\r\n\r\n     &lt;TextInput\r\n                        value={this.state.msg}\r\n                        placeholder=&quot;Type something here...&quot;\r\n                        placeholderTextColor = {Colors.placeholderColor}\r\n                        multiline={true}\r\n                        onChangeText={async val =&gt; {\r\n                          await this.setState({msg: val});\r\n                        }}\r\n                        keyboardType={DeviceInfo?.getBrand()?.toLowerCase() === &#39;samsung&#39; ? &#39;visible-password&#39; : &#39;default&#39;}\r\n                        numberOfLines={ DeviceInfo?.getBrand()?.toLowerCase() === &#39;samsung&#39; ? (this.state.msg.length &gt; 50 &amp;&amp; this.state.msg !== &#39;&#39; ? 3 : 1) : 1}\r\n                        textAlignVertical=&#39;top&#39;\r\n                        autoCorrect={DeviceInfo?.getBrand()?.toLowerCase() !== &#39;samsung&#39;}\r\n                        // returnKeyType={DeviceInfo?.getBrand()?.toLowerCase() !== &#39;samsung&#39; ? &#39;default&#39; : &#39;none&#39;}\r\n                        spellCheck={DeviceInfo?.getBrand()?.toLowerCase() !== &#39;samsung&#39;}\r\n                        style={styles.chatInputField}\r\n                      /&gt;","title":"Application Not Responding for at least 5000 ms after upgrading targetSdkVersion to 31 React Native","body":"<p>So after reading through a lot of github issues, the below code is temporary fix for ANR issue.\nAdded false for these keyboardType, autoCorrect, spellCheck</p>\n<pre><code> &lt;TextInput\n                    value={this.state.msg}\n                    placeholder=&quot;Type something here...&quot;\n                    placeholderTextColor = {Colors.placeholderColor}\n                    multiline={true}\n                    onChangeText={async val =&gt; {\n                      await this.setState({msg: val});\n                    }}\n                    keyboardType={DeviceInfo?.getBrand()?.toLowerCase() === 'samsung' ? 'visible-password' : 'default'}\n                    numberOfLines={ DeviceInfo?.getBrand()?.toLowerCase() === 'samsung' ? (this.state.msg.length &gt; 50 &amp;&amp; this.state.msg !== '' ? 3 : 1) : 1}\n                    textAlignVertical='top'\n                    autoCorrect={DeviceInfo?.getBrand()?.toLowerCase() !== 'samsung'}\n                    // returnKeyType={DeviceInfo?.getBrand()?.toLowerCase() !== 'samsung' ? 'default' : 'none'}\n                    spellCheck={DeviceInfo?.getBrand()?.toLowerCase() !== 'samsung'}\n                    style={styles.chatInputField}\n                  /&gt;\n</code></pre>\n"}],"owner":{"account_id":13729704,"reputation":101,"user_id":9907503,"display_name":"Md Javed Akhtar"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1005,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75373589,"answer_count":1,"score":2,"last_activity_date":1675774060,"creation_date":1671796603,"question_id":74899373,"body_markdown":"After upgrading target sdk version to 31, I am seeing frequent crash in the application live on play store. Not receiving the same errors while testing. Seeing the crash only in samsung devices with android 13. Below are the logs for two errors received on Sentry.\r\n\r\n    io.sentry.android.core.ApplicationNotResponding: Application Not Responding for at least 5000 ms.\r\n    at dalvik.system.VMRuntime.notifyNativeAllocationsInternal(VMRuntime.java)\r\n    at dalvik.system.VMRuntime.notifyNativeAllocation(VMRuntime.java:701)\r\n    at libcore.util.NativeAllocationRegistry.registerNativeAllocation(NativeAllocationRegistry.java:316)\r\n    at libcore.util.NativeAllocationRegistry.registerNativeAllocation(NativeAllocationRegistry.java:264)\r\n    at android.graphics.text.LineBreaker.&lt;init&gt;(LineBreaker.java:462)\r\n    at android.graphics.text.LineBreaker.&lt;init&gt;\r\n    at android.graphics.text.LineBreaker$Builder.build(LineBreaker.java:239)\r\n    at android.text.StaticLayout.generate(StaticLayout.java:681)\r\n    at android.text.DynamicLayout.reflow(DynamicLayout.java:612)\r\n    at android.text.DynamicLayout$ChangeWatcher.reflow(DynamicLayout.java:1091)\r\n    at android.text.DynamicLayout$ChangeWatcher.onSpanChanged(DynamicLayout.java:1126)\r\n    at android.text.SpannableStringBuilder.sendSpanChanged(SpannableStringBuilder.java:1321)\r\n    at android.text.SpannableStringBuilder.sendToSpanWatchers(SpannableStringBuilder.java:665)\r\n    at android.text.SpannableStringBuilder.replace(SpannableStringBuilder.java:594)\r\n    at android.text.SpannableStringBuilder.delete(SpannableStringBuilder.java:232)\r\n    at android.text.SpannableStringBuilder.delete(SpannableStringBuilder.java:39)\r\n    at android.text.method.BaseKeyListener.backspaceOrForwardDelete(BaseKeyListener.java:376)\r\n    at android.text.method.BaseKeyListener.backspace(BaseKeyListener.java:71)\r\n    at android.text.method.BaseKeyListener.onKeyDown(BaseKeyListener.java:485)\r\n    at android.text.method.QwertyKeyListener.onKeyDown(QwertyKeyListener.java:362)\r\n    at com.facebook.react.views.textinput.c$b.onKeyDown(ReactEditText.java:1)\r\n    at android.widget.TextView.doKeyDown(TextView.java:9503)\r\n    at android.widget.TextView.onKeyDown(TextView.java:9275)\r\n    at android.view.KeyEvent.dispatch(KeyEvent.java:3501)\r\n    at android.view.View.dispatchKeyEvent(View.java:15384)\r\n    at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1978)\r\n    at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1978)\r\n    at android.widget.ScrollView.dispatchKeyEvent(ScrollView.java:738)\r\n    at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1978)\r\n    at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1978)\r\n    at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1978)\r\n    at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1978)\r\n    at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1978)\r\n    at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1978)\r\n    at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1978)\r\n    at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1978)\r\n    at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1978)\r\n    at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1978)\r\n    at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1978)\r\n    at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1978)\r\n    at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1978)\r\n    at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1978)\r\n    at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1978)\r\n    at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1978)\r\n    at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1978)\r\n    at com.facebook.react.y.dispatchKeyEvent(ReactRootView.java:4)\r\n    at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1978)\r\n    at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1978)\r\n    at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1978)\r\n    at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1978)\r\n    at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1978)\r\n    at com.android.internal.policy.DecorView.superDispatchKeyEvent(DecorView.java:1091)\r\n    at com.android.internal.policy.PhoneWindow.superDispatchKeyEvent(PhoneWindow.java:1958)\r\n    at android.app.Activity.dispatchKeyEvent(Activity.java:4329)\r\n    at androidx.core.app.f.superDispatchKeyEvent(ComponentActivity.java:1)\r\n    at androidx.core.view.g.e(KeyEventDispatcher.java:2)\r\n    at androidx.core.app.f.dispatchKeyEvent(ComponentActivity.java:3)\r\n    at androidx.appcompat.app.d.dispatchKeyEvent(AppCompatActivity.java:4)\r\n    at j.i.dispatchKeyEvent(WindowCallbackWrapper.java:1)\r\n    at androidx.appcompat.app.g$o.dispatchKeyEvent(AppCompatDelegateImpl.java:2)\r\n    at com.android.internal.policy.DecorView.dispatchKeyEvent(DecorView.java:915)\r\n    at android.view.ViewRootImpl$ViewPostImeInputStage.processKeyEvent(ViewRootImpl.java:7844)\r\n    at android.view.ViewRootImpl$ViewPostImeInputStage.onProcess(ViewRootImpl.java:7652)\r\n    at android.view.ViewRootImpl$InputStage.deliver(ViewRootImpl.java:7001)\r\n    at android.view.ViewRootImpl$InputStage.onDeliverToNext(ViewRootImpl.java:7058)\r\n    at android.view.ViewRootImpl$InputStage.forward(ViewRootImpl.java:7024)\r\n    at android.view.ViewRootImpl$AsyncInputStage.forward(ViewRootImpl.java:7222)\r\n    at android.view.ViewRootImpl$InputStage.apply(ViewRootImpl.java:7032)\r\n    at android.view.ViewRootImpl$AsyncInputStage.apply(ViewRootImpl.java:7279)\r\n    at android.view.ViewRootImpl$InputStage.deliver(ViewRootImpl.java:7005)\r\n    at android.view.ViewRootImpl$InputStage.onDeliverToNext(ViewRootImpl.java:7058)\r\n    at android.view.ViewRootImpl$InputStage.forward(ViewRootImpl.java:7024)\r\n    at android.view.ViewRootImpl$InputStage.apply(ViewRootImpl.java:7032)\r\n    at android.view.ViewRootImpl$InputStage.deliver(ViewRootImpl.java:7005)\r\n    at android.view.ViewRootImpl.deliverInputEvent(ViewRootImpl.java:10568)\r\n    at android.view.ViewRootImpl.doProcessInputEvents(ViewRootImpl.java:10456)\r\n    at android.view.ViewRootImpl.enqueueInputEvent(ViewRootImpl.java:10412)\r\n    at android.view.ViewRootImpl$ViewRootHandler.handleMessageImpl(ViewRootImpl.java:6616)\r\n    at android.view.ViewRootImpl$ViewRootHandler.handleMessage(ViewRootImpl.java:6491)\r\n    at android.os.Handler.dispatchMessage(Handler.java:106)\r\n    at android.os.Looper.loopOnce(Looper.java:226)\r\n    at android.os.Looper.loop(Looper.java:313)\r\n    at android.app.ActivityThread.main(ActivityThread.java:8741)\r\n    at java.lang.reflect.Method.invoke(Method.java)\r\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:571)\r\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1067)\r\n\r\n-------------------------\r\nSecond One\r\n\r\n    io.sentry.android.core.ApplicationNotResponding: Application Not Responding for at least 5000 ms.\r\n    at android.text.SpannableStringInternal.getSpanFlags(SpannableStringInternal.java:331)\r\n    at android.text.SpannableString.getSpanFlags(SpannableString.java:24)\r\n    at android.text.SpannableStringInternal.getSpans(SpannableStringInternal.java:389)\r\n    at android.text.SpannableString.getSpans(SpannableString.java:24)\r\n    at android.text.SpannableStringBuilder.change(SpannableStringBuilder.java:434)\r\n    at android.text.SpannableStringBuilder.replace(SpannableStringBuilder.java:563)\r\n    at android.text.SpannableStringBuilder.replace(SpannableStringBuilder.java:521)\r\n    at android.text.SpannableStringBuilder.replace(SpannableStringBuilder.java:39)\r\n    at android.view.inputmethod.BaseInputConnection.replaceText(BaseInputConnection.java:945)\r\n    at android.view.inputmethod.BaseInputConnection.commitText(BaseInputConnection.java:219)\r\n    at com.android.internal.inputmethod.EditableInputConnection.commitText(EditableInputConnection.java:201)\r\n    at com.android.internal.inputmethod.RemoteInputConnectionImpl.lambda$commitText$16$com-android-internal-inputmethod-RemoteInputConnectionImpl(RemoteInputConnectionImpl.java:569)\r\n    at com.android.internal.inputmethod.RemoteInputConnectionImpl$$ExternalSyntheticLambda34.run\r\n    at android.os.Handler.handleCallback(Handler.java:942)\r\n    at android.os.Handler.dispatchMessage(Handler.java:99)\r\n    at android.os.Looper.loopOnce(Looper.java:226)\r\n    at android.os.Looper.loop(Looper.java:313)\r\n    at android.app.ActivityThread.main(ActivityThread.java:8741)\r\n    at java.lang.reflect.Method.invoke(Method.java)\r\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:571)\r\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1067)\r\n\r\nFor the second one, I have already tried switching off auto correct in text input for samsung devices. Also not the mutable issue fixed that by adding androidx.work:work-runtime:2.7.1.","title":"Application Not Responding for at least 5000 ms after upgrading targetSdkVersion to 31 React Native","body":"<p>After upgrading target sdk version to 31, I am seeing frequent crash in the application live on play store. Not receiving the same errors while testing. Seeing the crash only in samsung devices with android 13. Below are the logs for two errors received on Sentry.</p>\n<pre><code>io.sentry.android.core.ApplicationNotResponding: Application Not Responding for at least 5000 ms.\nat dalvik.system.VMRuntime.notifyNativeAllocationsInternal(VMRuntime.java)\nat dalvik.system.VMRuntime.notifyNativeAllocation(VMRuntime.java:701)\nat libcore.util.NativeAllocationRegistry.registerNativeAllocation(NativeAllocationRegistry.java:316)\nat libcore.util.NativeAllocationRegistry.registerNativeAllocation(NativeAllocationRegistry.java:264)\nat android.graphics.text.LineBreaker.&lt;init&gt;(LineBreaker.java:462)\nat android.graphics.text.LineBreaker.&lt;init&gt;\nat android.graphics.text.LineBreaker$Builder.build(LineBreaker.java:239)\nat android.text.StaticLayout.generate(StaticLayout.java:681)\nat android.text.DynamicLayout.reflow(DynamicLayout.java:612)\nat android.text.DynamicLayout$ChangeWatcher.reflow(DynamicLayout.java:1091)\nat android.text.DynamicLayout$ChangeWatcher.onSpanChanged(DynamicLayout.java:1126)\nat android.text.SpannableStringBuilder.sendSpanChanged(SpannableStringBuilder.java:1321)\nat android.text.SpannableStringBuilder.sendToSpanWatchers(SpannableStringBuilder.java:665)\nat android.text.SpannableStringBuilder.replace(SpannableStringBuilder.java:594)\nat android.text.SpannableStringBuilder.delete(SpannableStringBuilder.java:232)\nat android.text.SpannableStringBuilder.delete(SpannableStringBuilder.java:39)\nat android.text.method.BaseKeyListener.backspaceOrForwardDelete(BaseKeyListener.java:376)\nat android.text.method.BaseKeyListener.backspace(BaseKeyListener.java:71)\nat android.text.method.BaseKeyListener.onKeyDown(BaseKeyListener.java:485)\nat android.text.method.QwertyKeyListener.onKeyDown(QwertyKeyListener.java:362)\nat com.facebook.react.views.textinput.c$b.onKeyDown(ReactEditText.java:1)\nat android.widget.TextView.doKeyDown(TextView.java:9503)\nat android.widget.TextView.onKeyDown(TextView.java:9275)\nat android.view.KeyEvent.dispatch(KeyEvent.java:3501)\nat android.view.View.dispatchKeyEvent(View.java:15384)\nat android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1978)\nat android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1978)\nat android.widget.ScrollView.dispatchKeyEvent(ScrollView.java:738)\nat android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1978)\nat android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1978)\nat android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1978)\nat android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1978)\nat android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1978)\nat android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1978)\nat android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1978)\nat android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1978)\nat android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1978)\nat android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1978)\nat android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1978)\nat android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1978)\nat android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1978)\nat android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1978)\nat android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1978)\nat android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1978)\nat android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1978)\nat com.facebook.react.y.dispatchKeyEvent(ReactRootView.java:4)\nat android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1978)\nat android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1978)\nat android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1978)\nat android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1978)\nat android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1978)\nat com.android.internal.policy.DecorView.superDispatchKeyEvent(DecorView.java:1091)\nat com.android.internal.policy.PhoneWindow.superDispatchKeyEvent(PhoneWindow.java:1958)\nat android.app.Activity.dispatchKeyEvent(Activity.java:4329)\nat androidx.core.app.f.superDispatchKeyEvent(ComponentActivity.java:1)\nat androidx.core.view.g.e(KeyEventDispatcher.java:2)\nat androidx.core.app.f.dispatchKeyEvent(ComponentActivity.java:3)\nat androidx.appcompat.app.d.dispatchKeyEvent(AppCompatActivity.java:4)\nat j.i.dispatchKeyEvent(WindowCallbackWrapper.java:1)\nat androidx.appcompat.app.g$o.dispatchKeyEvent(AppCompatDelegateImpl.java:2)\nat com.android.internal.policy.DecorView.dispatchKeyEvent(DecorView.java:915)\nat android.view.ViewRootImpl$ViewPostImeInputStage.processKeyEvent(ViewRootImpl.java:7844)\nat android.view.ViewRootImpl$ViewPostImeInputStage.onProcess(ViewRootImpl.java:7652)\nat android.view.ViewRootImpl$InputStage.deliver(ViewRootImpl.java:7001)\nat android.view.ViewRootImpl$InputStage.onDeliverToNext(ViewRootImpl.java:7058)\nat android.view.ViewRootImpl$InputStage.forward(ViewRootImpl.java:7024)\nat android.view.ViewRootImpl$AsyncInputStage.forward(ViewRootImpl.java:7222)\nat android.view.ViewRootImpl$InputStage.apply(ViewRootImpl.java:7032)\nat android.view.ViewRootImpl$AsyncInputStage.apply(ViewRootImpl.java:7279)\nat android.view.ViewRootImpl$InputStage.deliver(ViewRootImpl.java:7005)\nat android.view.ViewRootImpl$InputStage.onDeliverToNext(ViewRootImpl.java:7058)\nat android.view.ViewRootImpl$InputStage.forward(ViewRootImpl.java:7024)\nat android.view.ViewRootImpl$InputStage.apply(ViewRootImpl.java:7032)\nat android.view.ViewRootImpl$InputStage.deliver(ViewRootImpl.java:7005)\nat android.view.ViewRootImpl.deliverInputEvent(ViewRootImpl.java:10568)\nat android.view.ViewRootImpl.doProcessInputEvents(ViewRootImpl.java:10456)\nat android.view.ViewRootImpl.enqueueInputEvent(ViewRootImpl.java:10412)\nat android.view.ViewRootImpl$ViewRootHandler.handleMessageImpl(ViewRootImpl.java:6616)\nat android.view.ViewRootImpl$ViewRootHandler.handleMessage(ViewRootImpl.java:6491)\nat android.os.Handler.dispatchMessage(Handler.java:106)\nat android.os.Looper.loopOnce(Looper.java:226)\nat android.os.Looper.loop(Looper.java:313)\nat android.app.ActivityThread.main(ActivityThread.java:8741)\nat java.lang.reflect.Method.invoke(Method.java)\nat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:571)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1067)\n</code></pre>\n<hr />\n<p>Second One</p>\n<pre><code>io.sentry.android.core.ApplicationNotResponding: Application Not Responding for at least 5000 ms.\nat android.text.SpannableStringInternal.getSpanFlags(SpannableStringInternal.java:331)\nat android.text.SpannableString.getSpanFlags(SpannableString.java:24)\nat android.text.SpannableStringInternal.getSpans(SpannableStringInternal.java:389)\nat android.text.SpannableString.getSpans(SpannableString.java:24)\nat android.text.SpannableStringBuilder.change(SpannableStringBuilder.java:434)\nat android.text.SpannableStringBuilder.replace(SpannableStringBuilder.java:563)\nat android.text.SpannableStringBuilder.replace(SpannableStringBuilder.java:521)\nat android.text.SpannableStringBuilder.replace(SpannableStringBuilder.java:39)\nat android.view.inputmethod.BaseInputConnection.replaceText(BaseInputConnection.java:945)\nat android.view.inputmethod.BaseInputConnection.commitText(BaseInputConnection.java:219)\nat com.android.internal.inputmethod.EditableInputConnection.commitText(EditableInputConnection.java:201)\nat com.android.internal.inputmethod.RemoteInputConnectionImpl.lambda$commitText$16$com-android-internal-inputmethod-RemoteInputConnectionImpl(RemoteInputConnectionImpl.java:569)\nat com.android.internal.inputmethod.RemoteInputConnectionImpl$$ExternalSyntheticLambda34.run\nat android.os.Handler.handleCallback(Handler.java:942)\nat android.os.Handler.dispatchMessage(Handler.java:99)\nat android.os.Looper.loopOnce(Looper.java:226)\nat android.os.Looper.loop(Looper.java:313)\nat android.app.ActivityThread.main(ActivityThread.java:8741)\nat java.lang.reflect.Method.invoke(Method.java)\nat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:571)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1067)\n</code></pre>\n<p>For the second one, I have already tried switching off auto correct in text input for samsung devices. Also not the mutable issue fixed that by adding androidx.work:work-runtime:2.7.1.</p>\n"},{"tags":["java","android","position","lottie"],"answers":[{"comments":[{"owner":{"account_id":15988224,"reputation":49,"user_id":19224324,"display_name":"Nick"},"score":0,"creation_date":1675774770,"post_id":75373483,"comment_id":132997475,"body_markdown":"How will help me this?","body":"How will help me this?"},{"owner":{"account_id":13168399,"reputation":71,"user_id":9511720,"display_name":"itzhak levy"},"score":0,"creation_date":1675838624,"post_id":75373483,"comment_id":133011879,"body_markdown":"in this way , you define the view in center of parent","body":"in this way , you define the view in center of parent"}],"tags":[],"owner":{"account_id":13168399,"reputation":71,"user_id":9511720,"display_name":"itzhak levy"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675773450,"creation_date":1675773450,"answer_id":75373483,"question_id":75373304,"body_markdown":"First, I would recommend you to replace the RelativeLayout with a constrainLayout.\r\nOnce you use constrainlayout, you can define the lottie like this:\r\n\r\n``` lang-xml\r\n&lt;com.airbnb.lottie.LottieAnimationView\r\n    android:id=&quot;@+id/title&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;336dp&quot;\r\n    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n    app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n    app:lottie_autoPlay=&quot;false&quot;\r\n    app:lottie_loop=&quot;false&quot;\r\n    app:lottie_rawRes=&quot;@raw/title_app&quot;\r\n    app:lottie_url=&quot;&quot; /&gt;\r\n       \r\n```\r\n","title":"Place two lottie animation allways on middle of screen independent to screen size","body":"<p>First, I would recommend you to replace the RelativeLayout with a constrainLayout.\nOnce you use constrainlayout, you can define the lottie like this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;com.airbnb.lottie.LottieAnimationView\n    android:id=&quot;@+id/title&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;336dp&quot;\n    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot;\n    app:lottie_autoPlay=&quot;false&quot;\n    app:lottie_loop=&quot;false&quot;\n    app:lottie_rawRes=&quot;@raw/title_app&quot;\n    app:lottie_url=&quot;&quot; /&gt;\n       \n</code></pre>\n"},{"comments":[{"owner":{"account_id":15988224,"reputation":49,"user_id":19224324,"display_name":"Nick"},"score":0,"creation_date":1675776354,"post_id":75373543,"comment_id":132998013,"body_markdown":"I don&#39;t need to set the first lottie to top at 30dp but instead to set to the center of screen - 30dp. To move the lottie up with 30 dp from center of the secreen.","body":"I don&#39;t need to set the first lottie to top at 30dp but instead to set to the center of screen - 30dp. To move the lottie up with 30 dp from center of the secreen."}],"tags":[],"owner":{"account_id":27624108,"reputation":1,"user_id":21084454,"display_name":"Mian Sab"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675773746,"creation_date":1675773746,"answer_id":75373543,"question_id":75373304,"body_markdown":"If you want to move the first LottieAnimationView up by 30dp, you can use android:layout_marginTop=&quot;30dp&quot;:\r\n\r\n\r\n&lt;com.airbnb.lottie.LottieAnimationView    \r\n\r\n       android:id=&quot;@+id/title_animation&quot;\r\n      android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;460dp&quot;\r\n    android:layout_alignParentStart=&quot;false&quot;\r\n    android:layout_centerInParent=&quot;true&quot;\r\n    android:layout_marginTop=&quot;30dp&quot;\r\n    android:cropToPadding=&quot;false&quot;\r\n    android:scaleType=&quot;centerCrop&quot;\r\n    app:lottie_autoPlay=&quot;false&quot;\r\n    app:lottie_loop=&quot;true&quot;\r\n    app:lottie_rawRes=&quot;@raw/title_anim&quot;\r\n    app:lottie_url=&quot;&quot; /&gt; \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nTo place the second LottieAnimationView under the first one and 2/3 of the height, you can use the android:layout_below attribute: \r\n\r\n\r\n\r\n&lt;com.airbnb.lottie.LottieAnimationView    \r\n    \r\n    android:id=&quot;@+id/title&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;336dp&quot;\r\n    android:layout_below=&quot;@id/title_animation&quot;\r\n    android:layout_alignParentStart=&quot;true&quot;\r\n    android:layout_alignParentEnd=&quot;true&quot;\r\n    android:layout_marginTop=&quot;460dp * 2/3&quot;\r\n    android:layout_marginStart=&quot;0dp&quot;\r\n    android:layout_marginEnd=&quot;0dp&quot;\r\n    app:lottie_autoPlay=&quot;false&quot;\r\n    app:lottie_loop=&quot;false&quot;\r\n    app:lottie_rawRes=&quot;@raw/title_app&quot;\r\n    app:lottie_url=&quot;&quot; /&gt;\r\n","title":"Place two lottie animation allways on middle of screen independent to screen size","body":"<p>If you want to move the first LottieAnimationView up by 30dp, you can use android:layout_marginTop=&quot;30dp&quot;:</p>\n<p>&lt;com.airbnb.lottie.LottieAnimationView</p>\n<pre><code>   android:id=&quot;@+id/title_animation&quot;\n  android:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;460dp&quot;\nandroid:layout_alignParentStart=&quot;false&quot;\nandroid:layout_centerInParent=&quot;true&quot;\nandroid:layout_marginTop=&quot;30dp&quot;\nandroid:cropToPadding=&quot;false&quot;\nandroid:scaleType=&quot;centerCrop&quot;\napp:lottie_autoPlay=&quot;false&quot;\napp:lottie_loop=&quot;true&quot;\napp:lottie_rawRes=&quot;@raw/title_anim&quot;\napp:lottie_url=&quot;&quot; /&gt; \n</code></pre>\n<p>To place the second LottieAnimationView under the first one and 2/3 of the height, you can use the android:layout_below attribute:</p>\n<p>&lt;com.airbnb.lottie.LottieAnimationView</p>\n<pre><code>android:id=&quot;@+id/title&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;336dp&quot;\nandroid:layout_below=&quot;@id/title_animation&quot;\nandroid:layout_alignParentStart=&quot;true&quot;\nandroid:layout_alignParentEnd=&quot;true&quot;\nandroid:layout_marginTop=&quot;460dp * 2/3&quot;\nandroid:layout_marginStart=&quot;0dp&quot;\nandroid:layout_marginEnd=&quot;0dp&quot;\napp:lottie_autoPlay=&quot;false&quot;\napp:lottie_loop=&quot;false&quot;\napp:lottie_rawRes=&quot;@raw/title_app&quot;\napp:lottie_url=&quot;&quot; /&gt;\n</code></pre>\n"}],"owner":{"account_id":15988224,"reputation":49,"user_id":19224324,"display_name":"Nick"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1675773746,"creation_date":1675772602,"question_id":75373304,"body_markdown":"I try to create a splash screen. For that I use two lottie animations. One is a grafic animation, the second is an animated title. this is the code for layout:\r\n\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:id=&quot;@+id/activity_splash&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:background=&quot;@color/primary_color&quot;\r\n    tools:context=&quot;.activities.ActivitySplash.ActivitySplash&quot;&gt;\r\n\r\n    &lt;com.airbnb.lottie.LottieAnimationView\r\n        android:id=&quot;@+id/title&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;336dp&quot;\r\n        android:layout_alignParentStart=&quot;true&quot;\r\n        android:layout_alignParentEnd=&quot;true&quot;\r\n        android:layout_alignParentBottom=&quot;true&quot;\r\n        android:layout_marginStart=&quot;0dp&quot;\r\n        android:layout_marginEnd=&quot;0dp&quot;\r\n        android:layout_marginBottom=&quot;84dp&quot;\r\n        app:lottie_autoPlay=&quot;false&quot;\r\n        app:lottie_loop=&quot;false&quot;\r\n        app:lottie_rawRes=&quot;@raw/title_app&quot;\r\n        app:lottie_url=&quot;&quot; /&gt;\r\n\r\n    &lt;com.airbnb.lottie.LottieAnimationView\r\n        android:id=&quot;@+id/title_animation&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;460dp&quot;\r\n        android:layout_alignParentStart=&quot;false&quot;\r\n        android:layout_centerInParent=&quot;true&quot;\r\n        android:cropToPadding=&quot;false&quot;\r\n        android:scaleType=&quot;centerCrop&quot;\r\n        app:lottie_autoPlay=&quot;false&quot;\r\n        app:lottie_loop=&quot;true&quot;\r\n        app:lottie_rawRes=&quot;@raw/title_anim&quot;\r\n        app:lottie_url=&quot;&quot; /&gt;\r\n\r\n    &lt;/RelativeLayout&gt;\r\n\r\nThe problem is that splash is messed depending of device screen dimensions.\r\nUsing my code the first lottie is displayed on center of parent. But the animation graphic  is not on the lottie middle so is not displayed on screen center. I need to move it up with 30dp for example.\r\n\r\nSame problem with the second lootie. I need to put it under first lottie but not exactly under it. Need to be on 2/3 of first lootie.\r\n\r\nAny suggestion?","title":"Place two lottie animation allways on middle of screen independent to screen size","body":"<p>I try to create a splash screen. For that I use two lottie animations. One is a grafic animation, the second is an animated title. this is the code for layout:</p>\n<pre><code>&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;\nandroid:id=&quot;@+id/activity_splash&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;\nandroid:background=&quot;@color/primary_color&quot;\ntools:context=&quot;.activities.ActivitySplash.ActivitySplash&quot;&gt;\n\n&lt;com.airbnb.lottie.LottieAnimationView\n    android:id=&quot;@+id/title&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;336dp&quot;\n    android:layout_alignParentStart=&quot;true&quot;\n    android:layout_alignParentEnd=&quot;true&quot;\n    android:layout_alignParentBottom=&quot;true&quot;\n    android:layout_marginStart=&quot;0dp&quot;\n    android:layout_marginEnd=&quot;0dp&quot;\n    android:layout_marginBottom=&quot;84dp&quot;\n    app:lottie_autoPlay=&quot;false&quot;\n    app:lottie_loop=&quot;false&quot;\n    app:lottie_rawRes=&quot;@raw/title_app&quot;\n    app:lottie_url=&quot;&quot; /&gt;\n\n&lt;com.airbnb.lottie.LottieAnimationView\n    android:id=&quot;@+id/title_animation&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;460dp&quot;\n    android:layout_alignParentStart=&quot;false&quot;\n    android:layout_centerInParent=&quot;true&quot;\n    android:cropToPadding=&quot;false&quot;\n    android:scaleType=&quot;centerCrop&quot;\n    app:lottie_autoPlay=&quot;false&quot;\n    app:lottie_loop=&quot;true&quot;\n    app:lottie_rawRes=&quot;@raw/title_anim&quot;\n    app:lottie_url=&quot;&quot; /&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n<p>The problem is that splash is messed depending of device screen dimensions.\nUsing my code the first lottie is displayed on center of parent. But the animation graphic  is not on the lottie middle so is not displayed on screen center. I need to move it up with 30dp for example.</p>\n<p>Same problem with the second lootie. I need to put it under first lottie but not exactly under it. Need to be on 2/3 of first lootie.</p>\n<p>Any suggestion?</p>\n"},{"tags":["java","spring","jpa","spring-data-jpa","spring-annotations"],"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1675713205,"post_id":75365652,"comment_id":132984306,"body_markdown":"I think its `rollbackFor = Exception.class` (not `= true`). Rekated: [What is difference between @Transactional(rollbackFor = Exception.class) and @Transactional(propagation=Propagation.REQUIRED)](https://stackoverflow.com/questions/54898227/what-is-difference-between-transactionalrollbackfor-exception-class-and-tr)","body":"I think its <code>rollbackFor = Exception.class</code> (not <code>= true</code>). Rekated: <a href=\"https://stackoverflow.com/questions/54898227/what-is-difference-between-transactionalrollbackfor-exception-class-and-tr\">What is difference between @Transactional(rollbackFor = Exception.class) and @Transactional(propagation=Propagation.REQUIRED)</a>"}],"answers":[{"tags":[],"owner":{"account_id":16255308,"reputation":401,"user_id":13695861,"display_name":"Marc Bannout"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675773688,"creation_date":1675773688,"answer_id":75373530,"question_id":75365652,"body_markdown":"[`@Transactional`][1] will detect any unchecked exception thrown in your method and your transaction will be marked as rollback only. I think `@Transactional(rollbackFor = Exception.class)` is not necessary in your case since all possible exceptions that could be thrown are `RuntimeException`.\r\n\r\nAlso, your `EntityManager` needs to be injected by Spring. If it&#39;s not the case, let Spring inject the `EntityManager`.\r\n\r\nAn example on how you could let Spring inject the bean:\r\n```java\r\n@RequiredArgsConstructor\r\nclass MyService {\r\n\r\n...\r\n\r\n    @PersistenceContext\r\n    private final EntityManager entityManager;\r\n\r\n...\r\n\r\n}\r\n``` \r\n\r\n[1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/transaction/annotation/Transactional.html","title":"Rollback a transaction when a query throws an exception","body":"<p><a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/transaction/annotation/Transactional.html\" rel=\"nofollow noreferrer\"><code>@Transactional</code></a> will detect any unchecked exception thrown in your method and your transaction will be marked as rollback only. I think <code>@Transactional(rollbackFor = Exception.class)</code> is not necessary in your case since all possible exceptions that could be thrown are <code>RuntimeException</code>.</p>\n<p>Also, your <code>EntityManager</code> needs to be injected by Spring. If it's not the case, let Spring inject the <code>EntityManager</code>.</p>\n<p>An example on how you could let Spring inject the bean:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RequiredArgsConstructor\nclass MyService {\n\n...\n\n    @PersistenceContext\n    private final EntityManager entityManager;\n\n...\n\n}\n</code></pre>\n"}],"owner":{"account_id":27718228,"reputation":1,"user_id":21159442,"display_name":"Igor Alves"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675773688,"creation_date":1675711020,"question_id":75365652,"body_markdown":"folks,\r\n\r\nThe method below is part of a transaction using JPA. I&#39;m trying to discover how to add a functionality in this method so when the query within the method throws an exception, all the transaction rolls back.\r\n\r\nWhat could I do in this case? Below is the code:\r\n\r\n```\r\n@Transactional\r\npublic void deleteDadosSExecReenvCancelada(Long nuSeqConsecao){\r\n        try{\r\n\r\n            StringBuilder query = new StringBuilder();\r\n            query.append(&quot; DELETE FROM sigpc_fnde.s_execucao_financ_gru_reenv where NU_SEQ_EXEC_FINANC_REENV in (SELECT NU_SEQ_EXECUCAO_FINANCEIRA FROM sigpc_fnde.s_exec_financ_reenv where NU_SEQ_CONCESSAO = ?)&quot;);\r\n\r\n            getEntityManager().createNativeQuery(query.toString()).setParameter(1, nuSeqConsecao).executeUpdate() ;\r\n\r\n            StringBuilder sql = new StringBuilder();\r\n            sql.append(&quot; DELETE FROM  sigpc_fnde.s_exec_financ_reenv where NU_SEQ_CONCESSAO = ?&quot;);\r\n            getEntityManager().createNativeQuery(sql.toString()).setParameter(1, nuSeqConsecao).executeUpdate() ;\r\n\r\n        } catch (Exception e){\r\n            e.getCause();\r\n        }\r\n\r\n    } \r\n```\r\n\r\n\r\n\r\nI would like to know if simply the Annotation @Transactional(rollbackFor=true) guarantees this condition to happen.  ","title":"Rollback a transaction when a query throws an exception","body":"<p>folks,</p>\n<p>The method below is part of a transaction using JPA. I'm trying to discover how to add a functionality in this method so when the query within the method throws an exception, all the transaction rolls back.</p>\n<p>What could I do in this case? Below is the code:</p>\n<pre><code>@Transactional\npublic void deleteDadosSExecReenvCancelada(Long nuSeqConsecao){\n        try{\n\n            StringBuilder query = new StringBuilder();\n            query.append(&quot; DELETE FROM sigpc_fnde.s_execucao_financ_gru_reenv where NU_SEQ_EXEC_FINANC_REENV in (SELECT NU_SEQ_EXECUCAO_FINANCEIRA FROM sigpc_fnde.s_exec_financ_reenv where NU_SEQ_CONCESSAO = ?)&quot;);\n\n            getEntityManager().createNativeQuery(query.toString()).setParameter(1, nuSeqConsecao).executeUpdate() ;\n\n            StringBuilder sql = new StringBuilder();\n            sql.append(&quot; DELETE FROM  sigpc_fnde.s_exec_financ_reenv where NU_SEQ_CONCESSAO = ?&quot;);\n            getEntityManager().createNativeQuery(sql.toString()).setParameter(1, nuSeqConsecao).executeUpdate() ;\n\n        } catch (Exception e){\n            e.getCause();\n        }\n\n    } \n</code></pre>\n<p>I would like to know if simply the Annotation @Transactional(rollbackFor=true) guarantees this condition to happen.</p>\n"},{"tags":["java","eclipse","plugins","eclipse-plugin"],"comments":[{"owner":{"account_id":219523,"reputation":101,"user_id":476471,"accept_rate":71,"display_name":"doubleace3"},"score":1,"creation_date":1669847861,"post_id":74457437,"comment_id":131739379,"body_markdown":"Having the same issue. Were you able to resolve this?","body":"Having the same issue. Were you able to resolve this?"},{"owner":{"account_id":17535961,"reputation":409,"user_id":12719086,"display_name":"Polymood"},"score":0,"creation_date":1670964444,"post_id":74457437,"comment_id":131993830,"body_markdown":"No I haven&#39;t been able to find a solution","body":"No I haven&#39;t been able to find a solution"}],"answers":[{"tags":[],"owner":{"account_id":7032639,"reputation":1,"user_id":5387788,"display_name":"antimaterie"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675773501,"creation_date":1675773501,"answer_id":75373495,"question_id":74457437,"body_markdown":"Eclipse releases beginning with 2022-06 do not contain the javax.servlet bundle anymore. Add the 2022-03 release as available software site. Go to &quot;preferences/install/update/available software sites&quot; and add the following URI https://download.eclipse.org/releases/2022-03. Now try again and it should work.","title":"Unable to install GWT plugin for Eclipse","body":"<p>Eclipse releases beginning with 2022-06 do not contain the javax.servlet bundle anymore. Add the 2022-03 release as available software site. Go to &quot;preferences/install/update/available software sites&quot; and add the following URI <a href=\"https://download.eclipse.org/releases/2022-03\" rel=\"nofollow noreferrer\">https://download.eclipse.org/releases/2022-03</a>. Now try again and it should work.</p>\n"}],"owner":{"account_id":17535961,"reputation":409,"user_id":12719086,"display_name":"Polymood"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":269,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1675773501,"creation_date":1668588028,"question_id":74457437,"body_markdown":"I&#39;m trying to install GWT plugin for Eclipse, I am using Eclipse IDE for Enterprise Java and Web Developers - 2022-09.\r\n\r\nI am unable to perform the install via every method and I get this error message :\r\n\r\n      Cannot complete the install because one or more required items could not be found.   Software being installed: GWT 2.8.1 SDK\r\n        2.8.0.201710131939 (com.gwtplugins.eclipse.sdkbundle.gwt28.feature.feature.group\r\n        2.8.0.201710131939)   Missing requirement: GWT Eclipse Platform Plugin 3.0.0.201710131939 (com.gwtplugins.gdt.eclipse.platform 3.0.0.201710131939) requires &#39;osgi.bundle; javax.servlet 0.0.0&#39; but it could not be found   Cannot satisfy dependency:\r\n            From: GWT 2.8.1 SDK 2.8.0.201710131939 (com.gwtplugins.eclipse.sdkbundle.gwt28.feature.feature.group\r\n        2.8.0.201710131939)\r\n            To: org.eclipse.equinox.p2.iu; com.gwtplugins.gwt.eclipse.sdkbundle.gwt28 [2.8.0.201710131939,2.8.0.201710131939]   Cannot satisfy dependency:\r\n            From: GWT Development Tools Core Plugin 3.0.0.201710131939 (com.gwtplugins.gdt.eclipse.core 3.0.0.201710131939)\r\n            To: osgi.bundle; com.gwtplugins.gdt.eclipse.platform 0.0.0   Cannot satisfy dependency:\r\n            From: GWT Eclipse Plugin 3.0.0.201710131939 (com.gwtplugins.gwt.eclipse.core 3.0.0.201710131939)\r\n            To: osgi.bundle; com.gwtplugins.gdt.eclipse.core 0.0.0   Cannot satisfy dependency:\r\n            From: com.gwtplugins.gwt.eclipse.sdkbundle.gwt28 2.8.0.201710131939\r\n            To: osgi.bundle; com.gwtplugins.gwt.eclipse.core 0.0.0\r\n\r\n\r\nTo my understading I am missing depencies but I cannot find a way to install them.\r\n\r\nI think it comes down to this :\r\n\r\n    &#39;osgi.bundle; javax.servlet 0.0.0&#39;\r\n\r\n\r\nHow can I resolve theses errors ?\r\n\r\n\r\n","title":"Unable to install GWT plugin for Eclipse","body":"<p>I'm trying to install GWT plugin for Eclipse, I am using Eclipse IDE for Enterprise Java and Web Developers - 2022-09.</p>\n<p>I am unable to perform the install via every method and I get this error message :</p>\n<pre><code>  Cannot complete the install because one or more required items could not be found.   Software being installed: GWT 2.8.1 SDK\n    2.8.0.201710131939 (com.gwtplugins.eclipse.sdkbundle.gwt28.feature.feature.group\n    2.8.0.201710131939)   Missing requirement: GWT Eclipse Platform Plugin 3.0.0.201710131939 (com.gwtplugins.gdt.eclipse.platform 3.0.0.201710131939) requires 'osgi.bundle; javax.servlet 0.0.0' but it could not be found   Cannot satisfy dependency:\n        From: GWT 2.8.1 SDK 2.8.0.201710131939 (com.gwtplugins.eclipse.sdkbundle.gwt28.feature.feature.group\n    2.8.0.201710131939)\n        To: org.eclipse.equinox.p2.iu; com.gwtplugins.gwt.eclipse.sdkbundle.gwt28 [2.8.0.201710131939,2.8.0.201710131939]   Cannot satisfy dependency:\n        From: GWT Development Tools Core Plugin 3.0.0.201710131939 (com.gwtplugins.gdt.eclipse.core 3.0.0.201710131939)\n        To: osgi.bundle; com.gwtplugins.gdt.eclipse.platform 0.0.0   Cannot satisfy dependency:\n        From: GWT Eclipse Plugin 3.0.0.201710131939 (com.gwtplugins.gwt.eclipse.core 3.0.0.201710131939)\n        To: osgi.bundle; com.gwtplugins.gdt.eclipse.core 0.0.0   Cannot satisfy dependency:\n        From: com.gwtplugins.gwt.eclipse.sdkbundle.gwt28 2.8.0.201710131939\n        To: osgi.bundle; com.gwtplugins.gwt.eclipse.core 0.0.0\n</code></pre>\n<p>To my understading I am missing depencies but I cannot find a way to install them.</p>\n<p>I think it comes down to this :</p>\n<pre><code>'osgi.bundle; javax.servlet 0.0.0'\n</code></pre>\n<p>How can I resolve theses errors ?</p>\n"},{"tags":["javascript","java","file-io","selenium-chromedriver","google-chrome-devtools"],"owner":{"account_id":4113062,"reputation":435,"user_id":3375417,"accept_rate":0,"display_name":"wheelerlc64"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675773426,"creation_date":1675773426,"question_id":75373476,"body_markdown":"I am fairly new to Selenium so please bear with me.  I have a requirement to check two JS file sizes upon login of an application (Open chrome browser -&gt; Open Url -&gt; Click in username and input username -&gt; Click in password textbox and input password -&gt; Click submit button -&gt; Verify upon page load the two js file sizes). \r\n\r\nOnce the initial page loads after login and initial page load, I am to capture the vendor*.js and client*.js file sizes and verify that they meet a specific threshold (vendor*.js max size = 2MB, client*.js max size = 500kB).  How is this possible when interacting with Chrome browser?  Below is a snapshot of the responses in the Network tab that show these js files and their header properties:\r\n\r\n[![Network tab][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/G2zlp.png\r\n\r\nGiven this, is there a way to use javascript executor and execute a js function to get this?  Is there another way through java and also using selenium for all the steps in order to get to this point?  Please let me know as any suggestions would help.  Thanks!!","title":"Selenium java how to get JS file sizes from Network tab after login","body":"<p>I am fairly new to Selenium so please bear with me.  I have a requirement to check two JS file sizes upon login of an application (Open chrome browser -&gt; Open Url -&gt; Click in username and input username -&gt; Click in password textbox and input password -&gt; Click submit button -&gt; Verify upon page load the two js file sizes).</p>\n<p>Once the initial page loads after login and initial page load, I am to capture the vendor*.js and client*.js file sizes and verify that they meet a specific threshold (vendor*.js max size = 2MB, client*.js max size = 500kB).  How is this possible when interacting with Chrome browser?  Below is a snapshot of the responses in the Network tab that show these js files and their header properties:</p>\n<p><a href=\"https://i.stack.imgur.com/G2zlp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/G2zlp.png\" alt=\"Network tab\" /></a></p>\n<p>Given this, is there a way to use javascript executor and execute a js function to get this?  Is there another way through java and also using selenium for all the steps in order to get to this point?  Please let me know as any suggestions would help.  Thanks!!</p>\n"},{"tags":["java","sql","database","hibernate","many-to-many"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1675773268,"post_id":75373254,"comment_id":132997004,"body_markdown":"Something like this: `@ManyToMany@JoinTable(name = &quot;friend_request&quot;, joinColumns = {@JoinColumn(referencedColumnName = &quot;sender_id&quot;) }, inverseJoinColumns = {@JoinColumn(referencedColumnName = &quot;receiver_id&quot;) }) List&lt;User&gt; sender;` should work, though I have not actually tested it","body":"Something like this: <code>@ManyToMany@JoinTable(name = &quot;friend_request&quot;, joinColumns = {@JoinColumn(referencedColumnName = &quot;sender_id&quot;) }, inverseJoinColumns = {@JoinColumn(referencedColumnName = &quot;receiver_id&quot;) }) List&lt;User&gt; sender;</code> should work, though I have not actually tested it"}],"answers":[{"comments":[{"owner":{"display_name":"user20576532"},"score":0,"creation_date":1675773994,"post_id":75373392,"comment_id":132997237,"body_markdown":"Thanks man, it worked. I`m kind of new in Hibernate, the @JoinColumn and @JoinTable\nannotation creates separate tables, or columns and parameter (name = &quot;&quot;) specifes the name of it?  How only the problem how to persist that data, because i cant just create via JpaRepo, but it is another story) Thanks!","body":"Thanks man, it worked. I`m kind of new in Hibernate, the @JoinColumn and @JoinTable annotation creates separate tables, or columns and parameter (name = &quot;&quot;) specifes the name of it?  How only the problem how to persist that data, because i cant just create via JpaRepo, but it is another story) Thanks!"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1675775878,"post_id":75373392,"comment_id":132997839,"body_markdown":"@cumbainer well, I&#39;d define the friend request as a separate entity with its own repository. You&#39;d probably want to check for old requests, those that have been accepted or haven&#39;t etc. - all operations that would make sense in a separate repo :)","body":"@cumbainer well, I&#39;d define the friend request as a separate entity with its own repository. You&#39;d probably want to check for old requests, those that have been accepted or haven&#39;t etc. - all operations that would make sense in a separate repo :)"}],"tags":[],"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675772984,"creation_date":1675772984,"answer_id":75373392,"question_id":75373254,"body_markdown":"I&#39;d assume that friend requests are not only a connection between users but also carry data like whether it was accepted or not, so I&#39;d use the second approach of representing the friend request as an entity of its own (I&#39;d rename `UserUser` to `FriendRequest` in that case). Then sender and receiver would be named differently, e.g. something like this (I can&#39;t test it right now so it&#39;s only off the top of my head - use with caution):\r\n\r\n    @Entity(name = &quot;friend_request&quot;)\r\n    @Data\r\n    @NoArgsConstructor\r\n    public class FriendRequest {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private int id;\r\n\r\n        //add additional data as needed\r\n\r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;sender_id&quot;)\r\n        private User sender;\r\n\r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;receiver_id&quot;)\r\n        private User receiver;\r\n    }\r\n\r\n    @Entity(name = &quot;user&quot;) \r\n    //other annotations\r\n    public class User {\r\n       @OneToMany(mappedBy = &quot;sender&quot;)\r\n       private List&lt;FriendRequest&gt; sentRequest;\r\n\r\n       @OneToMany(mappedBy = &quot;receiver&quot;)\r\n       private List&lt;FriendRequest&gt; receivedRequests;\r\n    }\r\n\r\nYou got it almost right but there&#39;s one error in your approach: the join column name is the name of the column that contains the foreign key not the one that&#39;s referenced, i.e. `sender_id` and `receiver_id` but not `user_id`.","title":"Two Foreign keys in @ManyToMany","body":"<p>I'd assume that friend requests are not only a connection between users but also carry data like whether it was accepted or not, so I'd use the second approach of representing the friend request as an entity of its own (I'd rename <code>UserUser</code> to <code>FriendRequest</code> in that case). Then sender and receiver would be named differently, e.g. something like this (I can't test it right now so it's only off the top of my head - use with caution):</p>\n<pre><code>@Entity(name = &quot;friend_request&quot;)\n@Data\n@NoArgsConstructor\npublic class FriendRequest {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int id;\n\n    //add additional data as needed\n\n    @ManyToOne\n    @JoinColumn(name = &quot;sender_id&quot;)\n    private User sender;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;receiver_id&quot;)\n    private User receiver;\n}\n\n@Entity(name = &quot;user&quot;) \n//other annotations\npublic class User {\n   @OneToMany(mappedBy = &quot;sender&quot;)\n   private List&lt;FriendRequest&gt; sentRequest;\n\n   @OneToMany(mappedBy = &quot;receiver&quot;)\n   private List&lt;FriendRequest&gt; receivedRequests;\n}\n</code></pre>\n<p>You got it almost right but there's one error in your approach: the join column name is the name of the column that contains the foreign key not the one that's referenced, i.e. <code>sender_id</code> and <code>receiver_id</code> but not <code>user_id</code>.</p>\n"},{"comments":[{"owner":{"display_name":"user20576532"},"score":0,"creation_date":1675774059,"post_id":75373437,"comment_id":132997255,"body_markdown":"Yeah , thanks. Logs dont show it. So i was kind of hard to scrutinise without a ton of investigation time)","body":"Yeah , thanks. Logs dont show it. So i was kind of hard to scrutinise without a ton of investigation time)"}],"tags":[],"owner":{"account_id":8391404,"reputation":293,"user_id":6300032,"display_name":"SimGel"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675773245,"creation_date":1675773245,"answer_id":75373437,"question_id":75373254,"body_markdown":"The `@JoinTable` annotation uses the same column for both join directions.\r\n\r\n```java\r\n@JoinTable(name = &quot;user_user&quot;,\r\n       joinColumns = @JoinColumn(name = &quot;user_id&quot;),\r\n       inverseJoinColumns = @JoinColumn(name = &quot;user_id&quot;)\r\n)\r\nprivate List&lt;User&gt; users;\r\n```\r\n\r\nInverse join should be: `inverseJoinColumns = @JoinColumn(name = &quot;receiver_id&quot;)`","title":"Two Foreign keys in @ManyToMany","body":"<p>The <code>@JoinTable</code> annotation uses the same column for both join directions.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@JoinTable(name = &quot;user_user&quot;,\n       joinColumns = @JoinColumn(name = &quot;user_id&quot;),\n       inverseJoinColumns = @JoinColumn(name = &quot;user_id&quot;)\n)\nprivate List&lt;User&gt; users;\n</code></pre>\n<p>Inverse join should be: <code>inverseJoinColumns = @JoinColumn(name = &quot;receiver_id&quot;)</code></p>\n"}],"owner":{"display_name":"user20576532"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":359,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1675773245,"creation_date":1675772310,"question_id":75373254,"body_markdown":"im doing a pet-project and i need to implement friend feature. So, for example i have `user` entity.  \r\nAnd i need to make `@ManyToMany`  relationship with two foreign keys. Example of SQl explicitly created table:\r\n\r\n```\r\ncreate table friend_request(\r\n    id int primary key\r\n    ,sender_id int\r\n    ,receiver_id int\r\n\r\n    ,foreign key (sender_id) references users (user_id)\r\n    ,foreign key (receiver_id) references users (user_id)\r\n);\r\n```\r\n\r\nAnd its successfuly created, but i have no idea how to &quot;connect&quot; this table to actual business logic.\r\n\r\nI tried creating like this.\r\n\r\n```\r\n@Entity(name = &quot;friend_request&quot;)\r\n@Data\r\n@NoArgsConstructor\r\npublic class UserUser {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private int id;\r\n\r\n\r\n    @ManyToMany(fetch = FetchType.EAGER)\r\n    @JoinTable(name = &quot;user_user&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;user_id&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;user_id&quot;)\r\n    )\r\n    private List&lt;User&gt; users;\r\n    \r\n\r\n\r\n}\r\n```\r\n\r\nAnd here is code in `User` class:\r\n\r\n```\r\n@ManyToMany(mappedBy = &quot;users&quot;)\r\nprivate List&lt;UserUser&gt; user;\r\n```\r\n\r\nBut i got this error:\r\n\r\n```\r\nCaused by: org.hibernate.MappingException: Repeated column in mapping for collection: ua.socialnetwork.entity.User.user column: user_id\r\n\tat org.hibernate.mapping.Collection.checkColumnDuplication(Collection.java:409) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.mapping.Collection.checkColumnDuplication(Collection.java:433) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.mapping.Collection.validate(Collection.java:391) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.boot.internal.MetadataImpl.validate(MetadataImpl.java:380) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:301) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:415) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1425) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66) ~[spring-orm-6.0.3.jar:6.0.3]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.3.jar:6.0.3]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.3.jar:6.0.3]\r\n\t... 25 common frames omitted\r\n```\r\n\r\nAlso, i have found a way of creating multiple `@OneToOne` , so i tried this:\r\n\r\nHere is `UserUser` class:\r\n\r\n```\r\n@Entity(name = &quot;friend_request&quot;)\r\n@Data\r\n@NoArgsConstructor\r\npublic class UserUser {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private int id;\r\n\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;user_id&quot;)\r\n    private User sender;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;user_id&quot;)\r\n    private User receiver;\r\n}\r\n```\r\n\r\nAnd code in `User` class:\r\n\r\n```\r\n@OneToMany(mappedBy = &quot;sender&quot;)\r\nprivate List&lt;UserUser&gt; senders;\r\n\r\n@OneToMany(mappedBy = &quot;receiver&quot;)\r\nprivate List&lt;UserUser&gt; receivers;\r\n```\r\n\r\nBut again, i got the same error as before.  \r\nC`aused by: org.hibernate.MappingException: Column &#39;user_id&#39; is duplicated in mapping for entity &#39;ua.socialnetwork.entity.UserUser&#39; (use &#39;@Column(insertable=false, updatable=false)&#39; when mapping multiple properties to the same column)`\r\n\r\nIt says to use\r\n\r\n```\r\n@Column(insertable=false, updatable=false)\r\n```\r\n\r\nbut i tried all of theese and next tricks from logs, and its all not working.\r\n\r\nSo, overall, how to can i create a table with 2 foreign keys from the same entity with an ability to persists data later?","title":"Two Foreign keys in @ManyToMany","body":"<p>im doing a pet-project and i need to implement friend feature. So, for example i have <code>user</code> entity.<br />\nAnd i need to make <code>@ManyToMany</code>  relationship with two foreign keys. Example of SQl explicitly created table:</p>\n<pre><code>create table friend_request(\n    id int primary key\n    ,sender_id int\n    ,receiver_id int\n\n    ,foreign key (sender_id) references users (user_id)\n    ,foreign key (receiver_id) references users (user_id)\n);\n</code></pre>\n<p>And its successfuly created, but i have no idea how to &quot;connect&quot; this table to actual business logic.</p>\n<p>I tried creating like this.</p>\n<pre><code>@Entity(name = &quot;friend_request&quot;)\n@Data\n@NoArgsConstructor\npublic class UserUser {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int id;\n\n\n    @ManyToMany(fetch = FetchType.EAGER)\n    @JoinTable(name = &quot;user_user&quot;,\n            joinColumns = @JoinColumn(name = &quot;user_id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;user_id&quot;)\n    )\n    private List&lt;User&gt; users;\n    \n\n\n}\n</code></pre>\n<p>And here is code in <code>User</code> class:</p>\n<pre><code>@ManyToMany(mappedBy = &quot;users&quot;)\nprivate List&lt;UserUser&gt; user;\n</code></pre>\n<p>But i got this error:</p>\n<pre><code>Caused by: org.hibernate.MappingException: Repeated column in mapping for collection: ua.socialnetwork.entity.User.user column: user_id\n    at org.hibernate.mapping.Collection.checkColumnDuplication(Collection.java:409) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.mapping.Collection.checkColumnDuplication(Collection.java:433) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.mapping.Collection.validate(Collection.java:391) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.boot.internal.MetadataImpl.validate(MetadataImpl.java:380) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:301) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:415) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1425) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66) ~[spring-orm-6.0.3.jar:6.0.3]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.3.jar:6.0.3]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.3.jar:6.0.3]\n    ... 25 common frames omitted\n</code></pre>\n<p>Also, i have found a way of creating multiple <code>@OneToOne</code> , so i tried this:</p>\n<p>Here is <code>UserUser</code> class:</p>\n<pre><code>@Entity(name = &quot;friend_request&quot;)\n@Data\n@NoArgsConstructor\npublic class UserUser {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int id;\n\n\n    @ManyToOne\n    @JoinColumn(name = &quot;user_id&quot;)\n    private User sender;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;user_id&quot;)\n    private User receiver;\n}\n</code></pre>\n<p>And code in <code>User</code> class:</p>\n<pre><code>@OneToMany(mappedBy = &quot;sender&quot;)\nprivate List&lt;UserUser&gt; senders;\n\n@OneToMany(mappedBy = &quot;receiver&quot;)\nprivate List&lt;UserUser&gt; receivers;\n</code></pre>\n<p>But again, i got the same error as before.<br />\nC<code>aused by: org.hibernate.MappingException: Column 'user_id' is duplicated in mapping for entity 'ua.socialnetwork.entity.UserUser' (use '@Column(insertable=false, updatable=false)' when mapping multiple properties to the same column)</code></p>\n<p>It says to use</p>\n<pre><code>@Column(insertable=false, updatable=false)\n</code></pre>\n<p>but i tried all of theese and next tricks from logs, and its all not working.</p>\n<p>So, overall, how to can i create a table with 2 foreign keys from the same entity with an ability to persists data later?</p>\n"},{"tags":["java","maven","maven-3","maven-plugin","java-7"],"comments":[{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":2,"creation_date":1675772039,"post_id":75373192,"comment_id":132996583,"body_markdown":"[Please do not upload images of code/data/errors.](//meta.stackoverflow.com/q/285551)","body":"<a href=\"//meta.stackoverflow.com/q/285551\">Please do not upload images of code/data/errors.</a>"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1675772796,"post_id":75373192,"comment_id":132996843,"body_markdown":"Instead of just **deleting** the image, you should post the error message as code-formatted text in its place.","body":"Instead of just <b>deleting</b> the image, you should post the error message as code-formatted text in its place."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1675800524,"post_id":75373192,"comment_id":133005822,"body_markdown":"I suggest to use a more recent JDK (for example JDK17) and configuration via `&lt;maven.compiler.release&gt;7&lt;/maven.compiler.release` to generate class files for JDK7.... much easier than using such ancient tools and JDk version ...","body":"I suggest to use a more recent JDK (for example JDK17) and configuration via <code>&lt;maven.compiler.release&gt;7&lt;&#47;maven.compiler.release</code> to generate class files for JDK7.... much easier than using such ancient tools and JDk version ..."}],"answers":[{"comments":[{"owner":{"account_id":27561105,"reputation":1,"user_id":21034150,"display_name":"sangeeta"},"score":0,"creation_date":1675773266,"post_id":75373270,"comment_id":132997003,"body_markdown":"Thanks, the build is success after adding this dependency. But previously this was working fine without adding the maven-install-plugin. dependency.","body":"Thanks, the build is success after adding this dependency. But previously this was working fine without adding the maven-install-plugin. dependency."},{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1675773498,"post_id":75373270,"comment_id":132997072,"body_markdown":"@sangeeta: maybe some other plugin change introduced a dependency to the new version?","body":"@sangeeta: maybe some other plugin change introduced a dependency to the new version?"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1676048238,"post_id":75373270,"comment_id":133065622,"body_markdown":"If that has worked before that means the plugins haven&#39;t be fixed by using the pluginManagement which is strongly recommend to get reproducible builds...","body":"If that has worked before that means the plugins haven&#39;t be fixed by using the pluginManagement which is strongly recommend to get reproducible builds..."}],"tags":[],"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675772388,"creation_date":1675772388,"answer_id":75373270,"question_id":75373192,"body_markdown":"`maven-install-plugin` 3.1.0 [requires Java 8](https://github.com/apache/maven-install-plugin/releases/tag/maven-install-plugin-3.1.0). You need to switch to an earlier version, like 3.0.1.","title":"Mojo Dependency issue with java 1.7","body":"<p><code>maven-install-plugin</code> 3.1.0 <a href=\"https://github.com/apache/maven-install-plugin/releases/tag/maven-install-plugin-3.1.0\" rel=\"nofollow noreferrer\">requires Java 8</a>. You need to switch to an earlier version, like 3.0.1.</p>\n"}],"owner":{"account_id":27561105,"reputation":1,"user_id":21034150,"display_name":"sangeeta"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":215,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675773033,"creation_date":1675771987,"question_id":75373192,"body_markdown":"**Background**: I have a EJB application which runs on java 1.7 and we are using maven 3+ version for building the code.\r\n\r\n**Issue**: When I build this code I am getting java version mismatch issue i.e major and minor issue.\r\n\r\n**Error**:\r\n\r\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-install-plugin:3.1.0:install (default-install) on project XYZ: Execution default-install of goal org.apache.maven.plugins:maven-install-plugin:3.1.0:install failed: Unable to load the mojo &#39;install&#39; in the plugin &#39;org.apache.maven.plugins:maven-install-plugin:3.1.0&#39; due to an API incompatibility: org.codehaus.plexus.component.repository.exception.ComponentLookupException: org/apache/maven/plugins/install/InstallMojo : Unsupported major.minor version 52.0\r\n    [ERROR] realm =    plugin&gt;org.apache.maven.plugins:maven-install-plugin:3.1.0\r\n    [ERROR] strategy = org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy\r\n    [ERROR] urls[0] = file:/C:/Users/A/.m2/repository/org/apache/maven/plugins/maven-install-plugin/3.1.0/maven-install-plugin-3.1.0.jar\r\n    [ERROR] urls[1] = file:/C:/Users/A/.m2/repository/org/eclipse/aether/aether-util/1.0.0.v20140518/aether-util-1.0.0.v20140518.jar\r\n    [ERROR] urls[2] = file:/C:/Users/A/.m2/repository/org/codehaus/plexus/plexus-utils/3.3.0/plexus-utils-3.3.0.jar\r\n    [ERROR] Number of foreign imports: 1\r\n    [ERROR] import: Entry[import  from realm ClassRealm[project&gt;com.test:XYZ:9.0.5-SNAPSHOT, parent: ClassRealm[maven.api, parent: null]]]\r\n\r\n\r\n\r\n\r\nJava Version : 1.7\r\nMaven Version : 3.8.6\r\n\r\nFYI: I don&#39;t want to change the java version\r\n\r\n**Things I have already checked:**\r\n1. Cleared .m2 folders and build.\r\n2. Checked java version it&#39;s pointing to 1.7\r\n3. Checked java compilation version and it&#39;s pointing to 1.7\r\n4. Checked the maven version and it&#39;s java version which it is pointing to and the version is 1.7\r\n\r\n","title":"Mojo Dependency issue with java 1.7","body":"<p><strong>Background</strong>: I have a EJB application which runs on java 1.7 and we are using maven 3+ version for building the code.</p>\n<p><strong>Issue</strong>: When I build this code I am getting java version mismatch issue i.e major and minor issue.</p>\n<p><strong>Error</strong>:</p>\n<pre><code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-install-plugin:3.1.0:install (default-install) on project XYZ: Execution default-install of goal org.apache.maven.plugins:maven-install-plugin:3.1.0:install failed: Unable to load the mojo 'install' in the plugin 'org.apache.maven.plugins:maven-install-plugin:3.1.0' due to an API incompatibility: org.codehaus.plexus.component.repository.exception.ComponentLookupException: org/apache/maven/plugins/install/InstallMojo : Unsupported major.minor version 52.0\n[ERROR] realm =    plugin&gt;org.apache.maven.plugins:maven-install-plugin:3.1.0\n[ERROR] strategy = org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy\n[ERROR] urls[0] = file:/C:/Users/A/.m2/repository/org/apache/maven/plugins/maven-install-plugin/3.1.0/maven-install-plugin-3.1.0.jar\n[ERROR] urls[1] = file:/C:/Users/A/.m2/repository/org/eclipse/aether/aether-util/1.0.0.v20140518/aether-util-1.0.0.v20140518.jar\n[ERROR] urls[2] = file:/C:/Users/A/.m2/repository/org/codehaus/plexus/plexus-utils/3.3.0/plexus-utils-3.3.0.jar\n[ERROR] Number of foreign imports: 1\n[ERROR] import: Entry[import  from realm ClassRealm[project&gt;com.test:XYZ:9.0.5-SNAPSHOT, parent: ClassRealm[maven.api, parent: null]]]\n</code></pre>\n<p>Java Version : 1.7\nMaven Version : 3.8.6</p>\n<p>FYI: I don't want to change the java version</p>\n<p><strong>Things I have already checked:</strong></p>\n<ol>\n<li>Cleared .m2 folders and build.</li>\n<li>Checked java version it's pointing to 1.7</li>\n<li>Checked java compilation version and it's pointing to 1.7</li>\n<li>Checked the maven version and it's java version which it is pointing to and the version is 1.7</li>\n</ol>\n"},{"tags":["java","zip","compression"],"comments":[{"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"score":1,"creation_date":1675775149,"post_id":75373379,"comment_id":132997600,"body_markdown":"There is a definite possibility that something in your `build.gradle` is causing this. We could probably tell you more if you shared its contents with us.","body":"There is a definite possibility that something in your <code>build.gradle</code> is causing this. We could probably tell you more if you shared its contents with us."},{"owner":{"account_id":13992893,"reputation":21,"user_id":10106461,"display_name":"Ned Kriz"},"score":0,"creation_date":1675775386,"post_id":75373379,"comment_id":132997672,"body_markdown":"@teapot418 yes it was! In processResources I had `filteringCharset &#39;UTF-8&#39;` which caused it! Thank you","body":"@teapot418 yes it was! In processResources I had <code>filteringCharset &#39;UTF-8&#39;</code> which caused it! Thank you"}],"owner":{"account_id":13992893,"reputation":21,"user_id":10106461,"display_name":"Ned Kriz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675772943,"creation_date":1675772943,"question_id":75373379,"body_markdown":"I&#39;m building a Minecraft server plugin jar file with Gradle. Any zip files from `resources` will be corrupt after compilation, but are openable through intellij IDE, but compiled they are completely corrupt.\r\n\r\nWinrar&#39;s error: [![enter image description here](https://i.stack.imgur.com/OPlHf.png)](https://i.stack.imgur.com/OPlHf.png)\r\n\r\nI&#39;m trying to save it then open it and the error I get is:\r\n\r\n```[14:14:00] [Server thread/WARN]: java.util.zip.ZipException: zip END header not found\r\n[14:14:00] [Server thread/WARN]:        at java.base/java.util.zip.ZipFile$Source.findEND(ZipFile.java:1469)\r\n[14:14:00] [Server thread/WARN]:        at java.base/java.util.zip.ZipFile$Source.initCEN(ZipFile.java:1477)\r\n[14:14:00] [Server thread/WARN]:        at java.base/java.util.zip.ZipFile$Source.&lt;init&gt;(ZipFile.java:1315)\r\n[14:14:00] [Server thread/WARN]:        at java.base/java.util.zip.ZipFile$Source.get(ZipFile.java:1277)\r\n[14:14:00] [Server thread/WARN]:        at java.base/java.util.zip.ZipFile$CleanableResource.&lt;init&gt;(ZipFile.java:709)\r\n[14:14:00] [Server thread/WARN]:        at java.base/java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:243)\r\n[14:14:00] [Server thread/WARN]:        at java.base/java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:172)\r\n[14:14:00] [Server thread/WARN]:        at java.base/java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:186)\r\n[14:14:00] [Server thread/WARN]:        at net.advancedplugins.mpets.impl.utils.ASManager.unZip(ASManager.java:830)\r\n[14:14:00] [Server thread/WARN]:        at net.advancedplugins.mpets.impl.customMobs.utils.PetsConverter.convertFromMPet(PetsConverter.java:22)\r\n[14:14:00] [Server thread/WARN]:        at net.advancedplugins.mpets.impl.customMobs.CustomEntityHandler.readMobs(CustomEntityHandler.java:113)\r\n[14:14:00] [Server thread/WARN]:        at net.advancedplugins.mpets.impl.customMobs.CustomEntityHandler.&lt;init&gt;(CustomEntityHandler.java:71)\r\n[14:14:00] [Server thread/WARN]:        at com.kirelcodes.miniaturepets.MiniaturePets.onEnable(MiniaturePets.java:137)\r\n[14:14:00] [Server thread/WARN]:        at org.bukkit.plugin.java.JavaPlugin.setEnabled(JavaPlugin.java:264)\r\n[14:14:00] [Server thread/WARN]:        at org.bukkit.plugin.java.JavaPluginLoader.enablePlugin(JavaPluginLoader.java:342)\r\n[14:14:00] [Server thread/WARN]:        at org.bukkit.plugin.SimplePluginManager.enablePlugin(SimplePluginManager.java:480)\r\n[14:14:00] [Server thread/WARN]:        at org.bukkit.craftbukkit.v1_19_R2.CraftServer.enablePlugin(CraftServer.java:539)\r\n[14:14:00] [Server thread/WARN]:        at org.bukkit.craftbukkit.v1_19_R2.CraftServer.enablePlugins(CraftServer.java:453)\r\n[14:14:00] [Server thread/WARN]:        at org.bukkit.craftbukkit.v1_19_R2.CraftServer.reload(CraftServer.java:938)\r\n[14:14:00] [Server thread/WARN]:        at org.bukkit.Bukkit.reload(Bukkit.java:802)\r\n[14:14:00] [Server thread/WARN]:        at org.bukkit.command.defaults.ReloadCommand.execute(ReloadCommand.java:27)\r\n[14:14:00] [Server thread/WARN]:        at org.bukkit.command.SimpleCommandMap.dispatch(SimpleCommandMap.java:149)\r\n[14:14:00] [Server thread/WARN]:        at org.bukkit.craftbukkit.v1_19_R2.CraftServer.dispatchCommand(CraftServer.java:847)\r\n[14:14:00] [Server thread/WARN]:        at org.bukkit.craftbukkit.v1_19_R2.CraftServer.dispatchServerCommand(CraftServer.java:832)\r\n[14:14:00] [Server thread/WARN]:        at net.minecraft.server.dedicated.DedicatedServer.bg(DedicatedServer.java:413)\r\n[14:14:00] [Server thread/WARN]:        at net.minecraft.server.dedicated.DedicatedServer.b(DedicatedServer.java:389)\r\n[14:14:00] [Server thread/WARN]:        at net.minecraft.server.MinecraftServer.a(MinecraftServer.java:1201)\r\n[14:14:00] [Server thread/WARN]:        at net.minecraft.server.MinecraftServer.w(MinecraftServer.java:1017)\r\n[14:14:00] [Server thread/WARN]:        at net.minecraft.server.MinecraftServer.lambda$0(MinecraftServer.java:301)\r\n```\r\n\r\nI tried opening the .zip files within .jar and open generated ones, they are corrupt. Any other files which arent compressed are completely fine.","title":"Gradle compilation corrupts compressed file","body":"<p>I'm building a Minecraft server plugin jar file with Gradle. Any zip files from <code>resources</code> will be corrupt after compilation, but are openable through intellij IDE, but compiled they are completely corrupt.</p>\n<p>Winrar's error: <a href=\"https://i.stack.imgur.com/OPlHf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OPlHf.png\" alt=\"enter image description here\" /></a></p>\n<p>I'm trying to save it then open it and the error I get is:</p>\n<pre><code>[14:14:00] [Server thread/WARN]:        at java.base/java.util.zip.ZipFile$Source.findEND(ZipFile.java:1469)\n[14:14:00] [Server thread/WARN]:        at java.base/java.util.zip.ZipFile$Source.initCEN(ZipFile.java:1477)\n[14:14:00] [Server thread/WARN]:        at java.base/java.util.zip.ZipFile$Source.&lt;init&gt;(ZipFile.java:1315)\n[14:14:00] [Server thread/WARN]:        at java.base/java.util.zip.ZipFile$Source.get(ZipFile.java:1277)\n[14:14:00] [Server thread/WARN]:        at java.base/java.util.zip.ZipFile$CleanableResource.&lt;init&gt;(ZipFile.java:709)\n[14:14:00] [Server thread/WARN]:        at java.base/java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:243)\n[14:14:00] [Server thread/WARN]:        at java.base/java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:172)\n[14:14:00] [Server thread/WARN]:        at java.base/java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:186)\n[14:14:00] [Server thread/WARN]:        at net.advancedplugins.mpets.impl.utils.ASManager.unZip(ASManager.java:830)\n[14:14:00] [Server thread/WARN]:        at net.advancedplugins.mpets.impl.customMobs.utils.PetsConverter.convertFromMPet(PetsConverter.java:22)\n[14:14:00] [Server thread/WARN]:        at net.advancedplugins.mpets.impl.customMobs.CustomEntityHandler.readMobs(CustomEntityHandler.java:113)\n[14:14:00] [Server thread/WARN]:        at net.advancedplugins.mpets.impl.customMobs.CustomEntityHandler.&lt;init&gt;(CustomEntityHandler.java:71)\n[14:14:00] [Server thread/WARN]:        at com.kirelcodes.miniaturepets.MiniaturePets.onEnable(MiniaturePets.java:137)\n[14:14:00] [Server thread/WARN]:        at org.bukkit.plugin.java.JavaPlugin.setEnabled(JavaPlugin.java:264)\n[14:14:00] [Server thread/WARN]:        at org.bukkit.plugin.java.JavaPluginLoader.enablePlugin(JavaPluginLoader.java:342)\n[14:14:00] [Server thread/WARN]:        at org.bukkit.plugin.SimplePluginManager.enablePlugin(SimplePluginManager.java:480)\n[14:14:00] [Server thread/WARN]:        at org.bukkit.craftbukkit.v1_19_R2.CraftServer.enablePlugin(CraftServer.java:539)\n[14:14:00] [Server thread/WARN]:        at org.bukkit.craftbukkit.v1_19_R2.CraftServer.enablePlugins(CraftServer.java:453)\n[14:14:00] [Server thread/WARN]:        at org.bukkit.craftbukkit.v1_19_R2.CraftServer.reload(CraftServer.java:938)\n[14:14:00] [Server thread/WARN]:        at org.bukkit.Bukkit.reload(Bukkit.java:802)\n[14:14:00] [Server thread/WARN]:        at org.bukkit.command.defaults.ReloadCommand.execute(ReloadCommand.java:27)\n[14:14:00] [Server thread/WARN]:        at org.bukkit.command.SimpleCommandMap.dispatch(SimpleCommandMap.java:149)\n[14:14:00] [Server thread/WARN]:        at org.bukkit.craftbukkit.v1_19_R2.CraftServer.dispatchCommand(CraftServer.java:847)\n[14:14:00] [Server thread/WARN]:        at org.bukkit.craftbukkit.v1_19_R2.CraftServer.dispatchServerCommand(CraftServer.java:832)\n[14:14:00] [Server thread/WARN]:        at net.minecraft.server.dedicated.DedicatedServer.bg(DedicatedServer.java:413)\n[14:14:00] [Server thread/WARN]:        at net.minecraft.server.dedicated.DedicatedServer.b(DedicatedServer.java:389)\n[14:14:00] [Server thread/WARN]:        at net.minecraft.server.MinecraftServer.a(MinecraftServer.java:1201)\n[14:14:00] [Server thread/WARN]:        at net.minecraft.server.MinecraftServer.w(MinecraftServer.java:1017)\n[14:14:00] [Server thread/WARN]:        at net.minecraft.server.MinecraftServer.lambda$0(MinecraftServer.java:301)\n</code></pre>\n<p>I tried opening the .zip files within .jar and open generated ones, they are corrupt. Any other files which arent compressed are completely fine.</p>\n"},{"tags":["java","maven","security","intellij-idea"],"comments":[{"owner":{"account_id":1107482,"reputation":2870,"user_id":1098603,"accept_rate":94,"display_name":"Matthieu"},"score":0,"creation_date":1675773094,"post_id":75373366,"comment_id":132996939,"body_markdown":"That&#39;s exactly why I use Maven only when forced to. And then I start cleaning useless jars, which often represent 60-70% of the total.","body":"That&#39;s exactly why I use Maven only when forced to. And then I start cleaning useless jars, which often represent 60-70% of the total."},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1675773295,"post_id":75373366,"comment_id":132997009,"body_markdown":"@Matthieu What&#39;s the alternative?","body":"@Matthieu What&#39;s the alternative?"},{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":2,"creation_date":1675774365,"post_id":75373366,"comment_id":132997349,"body_markdown":"Define &quot;easy&quot;... [jdeps](https://docs.oracle.com/en/java/javase/11/tools/jdeps.html#GUID-A543FEBE-908A-49BF-996C-39499367ADB4) can list dependencies of jars, and is contained in JDK packages. And its output can be filtered to look only for certain packages.","body":"Define &quot;easy&quot;... <a href=\"https://docs.oracle.com/en/java/javase/11/tools/jdeps.html#GUID-A543FEBE-908A-49BF-996C-39499367ADB4\" rel=\"nofollow noreferrer\">jdeps</a> can list dependencies of jars, and is contained in JDK packages. And its output can be filtered to look only for certain packages."},{"owner":{"account_id":1107482,"reputation":2870,"user_id":1098603,"accept_rate":94,"display_name":"Matthieu"},"score":0,"creation_date":1675775213,"post_id":75373366,"comment_id":132997614,"body_markdown":"@Michael for relatively small projects get the *relevant* jars from mavencentral manually. For bigger projects you don&#39;t have much choice but to use maven then strip down manually. The problem is not specific to Maven but to all dependencies management software (pip, npm, apt, ...). You have to trade their ease of use to the pain the OP shows. I stay away from those as much as I can, but I understand most devs are not willing to...","body":"@Michael for relatively small projects get the <i>relevant</i> jars from mavencentral manually. For bigger projects you don&#39;t have much choice but to use maven then strip down manually. The problem is not specific to Maven but to all dependencies management software (pip, npm, apt, ...). You have to trade their ease of use to the pain the OP shows. I stay away from those as much as I can, but I understand most devs are not willing to..."},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":2,"creation_date":1675775675,"post_id":75373366,"comment_id":132997771,"body_markdown":"@Matthieu &quot;*The problem is not specific to Maven*&quot;, I&#39;d argue it&#39;s not even a problem of Maven. Maven is doing exactly what you tell it to do. The problem is irresponsible library authors depending on libraries for basic functionality. The JavaScript ecosystem is the possibly worst for that, as exemplified by the whole [leftpad fiasco](https://qz.com/646467/how-one-programmer-broke-the-internet-by-deleting-a-tiny-piece-of-code). Libraries are starting to advertise themselves as having zero dependencies, and that&#39;s something I look for when possible.","body":"@Matthieu &quot;<i>The problem is not specific to Maven</i>&quot;, I&#39;d argue it&#39;s not even a problem of Maven. Maven is doing exactly what you tell it to do. The problem is irresponsible library authors depending on libraries for basic functionality. The JavaScript ecosystem is the possibly worst for that, as exemplified by the whole <a href=\"https://qz.com/646467/how-one-programmer-broke-the-internet-by-deleting-a-tiny-piece-of-code\" rel=\"nofollow noreferrer\">leftpad fiasco</a>. Libraries are starting to advertise themselves as having zero dependencies, and that&#39;s something I look for when possible."},{"owner":{"account_id":991697,"reputation":411,"user_id":1008800,"accept_rate":83,"display_name":"Markus Kramer"},"score":0,"creation_date":1675777405,"post_id":75373366,"comment_id":132998359,"body_markdown":"@Hulk thanks for the hint regarding jdeps. I&#39;ll give it a try. I was hoping for an &quot;easy&quot; web tool that shows that information for any maven dependencies ;)","body":"@Hulk thanks for the hint regarding jdeps. I&#39;ll give it a try. I was hoping for an &quot;easy&quot; web tool that shows that information for any maven dependencies ;)"},{"owner":{"account_id":1107482,"reputation":2870,"user_id":1098603,"accept_rate":94,"display_name":"Matthieu"},"score":0,"creation_date":1675777759,"post_id":75373366,"comment_id":132998484,"body_markdown":"@Michael I&#39;d give you a bounty for that comment ;) 0-dependencies is the #nofilter for libraires ;)","body":"@Michael I&#39;d give you a bounty for that comment ;) 0-dependencies is the #nofilter for libraires ;)"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1675877857,"post_id":75373366,"comment_id":133024321,"body_markdown":"`Recently I found a hidden call home / telemetry function in one of my ` this means the dependency is wrong/maybe malicious... nothing to do with Maven you would have faced the same with Gradle or any other build tool. So you have to reconsider the usage of such dependencies. That means also that you don&#39;t use security scan tools etc. nor reporting about such things. That&#39;s general subject for all used dependencies. It sums up to: Do you trust the dependency? Are you using a a repository manager to have more control about the consumed deps?","body":"<code>Recently I found a hidden call home &#47; telemetry function in one of my </code> this means the dependency is wrong/maybe malicious... nothing to do with Maven you would have faced the same with Gradle or any other build tool. So you have to reconsider the usage of such dependencies. That means also that you don&#39;t use security scan tools etc. nor reporting about such things. That&#39;s general subject for all used dependencies. It sums up to: Do you trust the dependency? Are you using a a repository manager to have more control about the consumed deps?"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1675877908,"post_id":75373366,"comment_id":133024340,"body_markdown":"There is also a question: Do those deps allow unrestricted usage? Does the documentation write something about this? If not I would suggest to start a CVE report about such kind of deps...","body":"There is also a question: Do those deps allow unrestricted usage? Does the documentation write something about this? If not I would suggest to start a CVE report about such kind of deps..."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1675878079,"post_id":75373366,"comment_id":133024402,"body_markdown":"@Matthieu I would like see developing an spring boot/quarkus/micrometer/whatever app (execpt for toy projects) without using a build tool at all.. or go back to Ant(but that would raise up other issues)...","body":"@Matthieu I would like see developing an spring boot/quarkus/micrometer/whatever app (execpt for toy projects) without using a build tool at all.. or go back to Ant(but that would raise up other issues)..."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1675878167,"post_id":75373366,"comment_id":133024429,"body_markdown":"A suggesting is to remove all deps from your project and add step-by-step only those you really need... often people do not cleanup there deps after code changes etc. things like `mvn dependency:analyze` is a good start(https://maven.apache.org/plugins/maven-dependency-plugin/analyze-mojo.html) that is not perfect but helps a lot...","body":"A suggesting is to remove all deps from your project and add step-by-step only those you really need... often people do not cleanup there deps after code changes etc. things like <code>mvn dependency:analyze</code> is a good start(<a href=\"https://maven.apache.org/plugins/maven-dependency-plugin/analyze-mojo.html\" rel=\"nofollow noreferrer\">maven.apache.org/plugins/maven-dependency-plugin/&hellip;</a>) that is not perfect but helps a lot..."},{"owner":{"account_id":1107482,"reputation":2870,"user_id":1098603,"accept_rate":94,"display_name":"Matthieu"},"score":0,"creation_date":1675890861,"post_id":75373366,"comment_id":133027915,"body_markdown":"@khmarbaise indeed ant is what I use ;) But as you said, it comes with other type of troubles. I chose mine ;)","body":"@khmarbaise indeed ant is what I use ;) But as you said, it comes with other type of troubles. I chose mine ;)"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1675900207,"post_id":75373366,"comment_id":133029843,"body_markdown":"I&#39;ve worked with Ant a lot ... but left it behind more than 15 years ago... because of all other things.. Having a good look on deps and using the tools helps. Using Ant today in corporate/project development would be blocker in several ways.","body":"I&#39;ve worked with Ant a lot ... but left it behind more than 15 years ago... because of all other things.. Having a good look on deps and using the tools helps. Using Ant today in corporate/project development would be blocker in several ways."},{"owner":{"account_id":991697,"reputation":411,"user_id":1008800,"accept_rate":83,"display_name":"Markus Kramer"},"score":0,"creation_date":1675944712,"post_id":75373366,"comment_id":133038860,"body_markdown":"Getting rid of maven/gradle is not what I&#39;m looking for. The problem is not the dependency manager but that some dependencies contain &quot;surprises&quot;, and my question was how to best detect these. You would have the same problem when adding every JAR manually.","body":"Getting rid of maven/gradle is not what I&#39;m looking for. The problem is not the dependency manager but that some dependencies contain &quot;surprises&quot;, and my question was how to best detect these. You would have the same problem when adding every JAR manually."}],"owner":{"account_id":991697,"reputation":411,"user_id":1008800,"accept_rate":83,"display_name":"Markus Kramer"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675772881,"creation_date":1675772881,"question_id":75373366,"body_markdown":"Recently I found a hidden call home / telemetry function in one of my project&#39;s maven dependencies. What is the best way to detect these kind of things?\r\n\r\nIs there an easy way to get all the packages/classes listed that a particular maven dependency (and it&#39;s sub dependencies) depend on? \r\nMany libraries that we are using should not require network communication or access to the file system. So a dependency on java.net.*, java.io.* etc. are clear indicators for a closer review.\r\n\r\nI&#39;m mainly using IntelliJ / Gradle.","title":"Detect hidden telemetry in maven dependencies","body":"<p>Recently I found a hidden call home / telemetry function in one of my project's maven dependencies. What is the best way to detect these kind of things?</p>\n<p>Is there an easy way to get all the packages/classes listed that a particular maven dependency (and it's sub dependencies) depend on?\nMany libraries that we are using should not require network communication or access to the file system. So a dependency on java.net.<em>, java.io.</em> etc. are clear indicators for a closer review.</p>\n<p>I'm mainly using IntelliJ / Gradle.</p>\n"},{"tags":["java","android"],"owner":{"account_id":26616659,"reputation":1,"user_id":20235958,"display_name":"Adam Ghawanmeh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675772499,"creation_date":1675772406,"question_id":75373273,"body_markdown":"Problem: In this code when I press the button it should add a new flashcard cardview, that is binded to an arraylist, it does that for the first few times but after a few times, the data written first in the arraylist becomes empty and instead of adding one card, it adds more then 1 till it gets to the size+1 -I understand that the second problem is a direct consequence of the first problem-, instead I want it to just add the new flashcard to the bottom of the arraylist without deleting any of the data before it\r\nthe code: \r\n```\r\n            case R.id.add_button:\r\n                String previousTitle = titletxt;\r\n                titletxt = Title.getText().toString();\r\n                descriptiontxt = Description.getText().toString();\r\n                if (titletxt.trim().isEmpty()) {\r\n                    // Show pop up message to put in a title\r\n                    Toast.makeText(this, &quot;Please enter a title&quot;, Toast.LENGTH_SHORT).show();\r\n                    break;\r\n                }\r\n\r\n                if (!titletxt.equals(previousTitle)) {\r\n                    // Delete the old reference\r\n                    db.collection(&quot;FlashcardSets&quot;)\r\n                            .document(&quot;flashcards&quot; + userID + previousTitle)\r\n                            .delete()\r\n                            .addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\r\n                                @Override\r\n                                public void onSuccess(Void aVoid) {\r\n                                    Log.d(&quot;Firestore&quot;, &quot;Document successfully deleted!&quot;);\r\n                                }\r\n                            })\r\n                            .addOnFailureListener(new OnFailureListener() {\r\n                                @Override\r\n                                public void onFailure(@NonNull Exception e) {\r\n                                    Log.w(&quot;Firestore&quot;, &quot;Error deleting document&quot;, e);\r\n                                }\r\n                            });\r\n                }\r\n\r\n                if (dataList.size() &gt; 0) {\r\n                    for (int i = 0; i &lt; dataList.size(); i++) {\r\n                        flashCardMake data = dataList.get(i);\r\n                        String title = &quot;flashcard&quot; + (i + 1);\r\n                        Map&lt;String, Object&gt; flashcard = new HashMap&lt;&gt;();\r\n                        flashcard.put(&quot;term&quot;, data.getTerm());\r\n                        flashcard.put(&quot;definition&quot;, data.getDefinition());\r\n\r\n                        db.collection(&quot;FlashcardSets&quot;)\r\n                                .document(&quot;flashcards&quot; + userID + titletxt)\r\n                                .collection(&quot;flashcards&quot;)\r\n                                .document(title)\r\n                                .set(flashcard)\r\n                                .addOnSuccessListener(new OnSuccessListener() {\r\n                                    @Override\r\n                                    public void onSuccess(Object o) {\r\n                                        Log.d(&quot;Firestore&quot;, &quot;DocumentSnapshot successfully written!&quot;);\r\n                                    }\r\n                                })\r\n                                .addOnFailureListener(new OnFailureListener() {\r\n                                    @Override\r\n                                    public void onFailure(@NonNull Exception e) {\r\n                                        Log.w(&quot;Firestore&quot;, &quot;Error writing document&quot;, e);\r\n                                    }\r\n                                });\r\n                    }\r\n                }\r\n\r\n                Map&lt;String, Object&gt; flashcardData = new HashMap&lt;&gt;();\r\n                flashcardData.put(&quot;title&quot;, titletxt);\r\n                flashcardData.put(&quot;description&quot;, descriptiontxt);\r\n                db.collection(&quot;FlashcardSets&quot;)\r\n                        .document(&quot;flashcards&quot; + userID + titletxt + &quot;.txt&quot;)\r\n                        .set(flashcardData)\r\n                        .addOnSuccessListener(new OnSuccessListener() {\r\n                            @Override\r\n                            public void onSuccess(Object o) {\r\n                                Log.d(&quot;Firestore&quot;, &quot;DocumentSnapshot successfully written!&quot;);\r\n                            }\r\n                        })\r\n                        .addOnFailureListener(new OnFailureListener() {\r\n                            @Override\r\n                            public void onFailure(@NonNull Exception e) {\r\n                                Log.w(&quot;Firestore&quot;, &quot;Error writing document&quot;, e);\r\n                            }\r\n                        });\r\n                if(!(dataList.isEmpty())){\r\n                    Toast.makeText(this, dataList.get(0).getTerm().toString(), Toast.LENGTH_SHORT).show();}\r\n                flashCardMake data = new flashCardMake();\r\n                dataList.add(data);\r\n                adapter.notifyDataSetChanged();\r\n                recyclerView.scrollToPosition(0);\r\n                break;\r\n```\r\n\r\nand the Adapter&#39;s code is this:\r\n\r\n\r\n```\r\nimport android.content.Context;\r\nimport android.support.annotation.NonNull;\r\nimport android.text.Editable;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.EditText;\r\nimport android.widget.ImageView;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class flashcardMakeAdapter extends RecyclerView.Adapter&lt;flashcardMakeAdapter.ViewHolder&gt; {\r\n\r\n    private ArrayList&lt;flashCardMake&gt; dataList;\r\n    private Context context;\r\n\r\n\r\n    public flashcardMakeAdapter(Context context,ArrayList&lt;flashCardMake&gt; dataList) {\r\n        this.dataList = dataList;\r\n        this.context=context;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.flashcard_add, parent, false);\r\n        return new ViewHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\r\n        flashCardMake data = dataList.get(position);\r\n        // bind the data to the card view here\r\n        data.setDefinition(holder.definition.getText().toString());\r\n        data.setTerm(holder.term.getText().toString());\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return dataList.size();\r\n    }\r\n\r\n    public class ViewHolder extends RecyclerView.ViewHolder {\r\n        // define the views in the card view here\r\n        EditText term, definition;\r\n        public ViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            term=itemView.findViewById(R.id.term);\r\n            definition=itemView.findViewById(R.id.definition);\r\n            // find the views by id here\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\nI was trying to make it that every time the add button is pressed it adds a flashcard as well as updating the list of flashcard in the database, but what&#39;s happening is that after multiple cards have been put the data that&#39;s put in the first one or few position gets deleted, for example if we say the data in the arraylist is like this [1,2,3,4,5,6,7]--I press the button--&gt;[2,3,4,5,6,7, , ]--I press the button again--&gt; [4,5,6,7, , , , , ]","title":"Data in an Arraylist getting deleted, because of recyclerview?","body":"<p>Problem: In this code when I press the button it should add a new flashcard cardview, that is binded to an arraylist, it does that for the first few times but after a few times, the data written first in the arraylist becomes empty and instead of adding one card, it adds more then 1 till it gets to the size+1 -I understand that the second problem is a direct consequence of the first problem-, instead I want it to just add the new flashcard to the bottom of the arraylist without deleting any of the data before it\nthe code:</p>\n<pre><code>            case R.id.add_button:\n                String previousTitle = titletxt;\n                titletxt = Title.getText().toString();\n                descriptiontxt = Description.getText().toString();\n                if (titletxt.trim().isEmpty()) {\n                    // Show pop up message to put in a title\n                    Toast.makeText(this, &quot;Please enter a title&quot;, Toast.LENGTH_SHORT).show();\n                    break;\n                }\n\n                if (!titletxt.equals(previousTitle)) {\n                    // Delete the old reference\n                    db.collection(&quot;FlashcardSets&quot;)\n                            .document(&quot;flashcards&quot; + userID + previousTitle)\n                            .delete()\n                            .addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\n                                @Override\n                                public void onSuccess(Void aVoid) {\n                                    Log.d(&quot;Firestore&quot;, &quot;Document successfully deleted!&quot;);\n                                }\n                            })\n                            .addOnFailureListener(new OnFailureListener() {\n                                @Override\n                                public void onFailure(@NonNull Exception e) {\n                                    Log.w(&quot;Firestore&quot;, &quot;Error deleting document&quot;, e);\n                                }\n                            });\n                }\n\n                if (dataList.size() &gt; 0) {\n                    for (int i = 0; i &lt; dataList.size(); i++) {\n                        flashCardMake data = dataList.get(i);\n                        String title = &quot;flashcard&quot; + (i + 1);\n                        Map&lt;String, Object&gt; flashcard = new HashMap&lt;&gt;();\n                        flashcard.put(&quot;term&quot;, data.getTerm());\n                        flashcard.put(&quot;definition&quot;, data.getDefinition());\n\n                        db.collection(&quot;FlashcardSets&quot;)\n                                .document(&quot;flashcards&quot; + userID + titletxt)\n                                .collection(&quot;flashcards&quot;)\n                                .document(title)\n                                .set(flashcard)\n                                .addOnSuccessListener(new OnSuccessListener() {\n                                    @Override\n                                    public void onSuccess(Object o) {\n                                        Log.d(&quot;Firestore&quot;, &quot;DocumentSnapshot successfully written!&quot;);\n                                    }\n                                })\n                                .addOnFailureListener(new OnFailureListener() {\n                                    @Override\n                                    public void onFailure(@NonNull Exception e) {\n                                        Log.w(&quot;Firestore&quot;, &quot;Error writing document&quot;, e);\n                                    }\n                                });\n                    }\n                }\n\n                Map&lt;String, Object&gt; flashcardData = new HashMap&lt;&gt;();\n                flashcardData.put(&quot;title&quot;, titletxt);\n                flashcardData.put(&quot;description&quot;, descriptiontxt);\n                db.collection(&quot;FlashcardSets&quot;)\n                        .document(&quot;flashcards&quot; + userID + titletxt + &quot;.txt&quot;)\n                        .set(flashcardData)\n                        .addOnSuccessListener(new OnSuccessListener() {\n                            @Override\n                            public void onSuccess(Object o) {\n                                Log.d(&quot;Firestore&quot;, &quot;DocumentSnapshot successfully written!&quot;);\n                            }\n                        })\n                        .addOnFailureListener(new OnFailureListener() {\n                            @Override\n                            public void onFailure(@NonNull Exception e) {\n                                Log.w(&quot;Firestore&quot;, &quot;Error writing document&quot;, e);\n                            }\n                        });\n                if(!(dataList.isEmpty())){\n                    Toast.makeText(this, dataList.get(0).getTerm().toString(), Toast.LENGTH_SHORT).show();}\n                flashCardMake data = new flashCardMake();\n                dataList.add(data);\n                adapter.notifyDataSetChanged();\n                recyclerView.scrollToPosition(0);\n                break;\n</code></pre>\n<p>and the Adapter's code is this:</p>\n<pre><code>import android.content.Context;\nimport android.support.annotation.NonNull;\nimport android.text.Editable;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.EditText;\nimport android.widget.ImageView;\nimport android.widget.TextView;\n\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport java.util.ArrayList;\n\npublic class flashcardMakeAdapter extends RecyclerView.Adapter&lt;flashcardMakeAdapter.ViewHolder&gt; {\n\n    private ArrayList&lt;flashCardMake&gt; dataList;\n    private Context context;\n\n\n    public flashcardMakeAdapter(Context context,ArrayList&lt;flashCardMake&gt; dataList) {\n        this.dataList = dataList;\n        this.context=context;\n    }\n\n    @NonNull\n    @Override\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.flashcard_add, parent, false);\n        return new ViewHolder(view);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\n        flashCardMake data = dataList.get(position);\n        // bind the data to the card view here\n        data.setDefinition(holder.definition.getText().toString());\n        data.setTerm(holder.term.getText().toString());\n    }\n\n    @Override\n    public int getItemCount() {\n        return dataList.size();\n    }\n\n    public class ViewHolder extends RecyclerView.ViewHolder {\n        // define the views in the card view here\n        EditText term, definition;\n        public ViewHolder(@NonNull View itemView) {\n            super(itemView);\n            term=itemView.findViewById(R.id.term);\n            definition=itemView.findViewById(R.id.definition);\n            // find the views by id here\n        }\n    }\n}\n</code></pre>\n<p>I was trying to make it that every time the add button is pressed it adds a flashcard as well as updating the list of flashcard in the database, but what's happening is that after multiple cards have been put the data that's put in the first one or few position gets deleted, for example if we say the data in the arraylist is like this [1,2,3,4,5,6,7]--I press the button--&gt;[2,3,4,5,6,7, , ]--I press the button again--&gt; [4,5,6,7, , , , , ]</p>\n"},{"tags":["java","spring-boot","spring-security"],"answers":[{"tags":[],"owner":{"account_id":11090079,"reputation":133,"user_id":8142290,"display_name":"Vee Dee"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675772420,"creation_date":1675772420,"answer_id":75373275,"question_id":75372974,"body_markdown":"You should add a custom filter in the filter chain in your security config that executes before each request.\r\n\r\nJust create a Custom Filter implementing OncePerRequestFilter.java and do the license Key validation inside of that filter. The implementation logic inside your Custom filter will run once before each request that is made on your spring boot server.\r\n\r\nRefer \r\n\r\nhttps://www.baeldung.com/spring-onceperrequestfilter\r\n\r\nhttps://www.javadevjournal.com/spring-boot/spring-boot-add-filter/\r\n\r\nIf you are using Spring Security and want to filter requests to verify that it has valid token passed to it (if you&#39;re not already doing this), refer to the official documentation of your respective version of spring security to see where should you add your filter inside the filterChain.\r\n\r\nCheck Filter Ordering in:\r\n\r\nhttps://docs.spring.io/spring-security/site/docs/3.1.4.RELEASE/reference/security-filter-chain.html\r\n\r\nThe token validation filter should ideally be exeucted before UsernamePasswordAuthenticationFilter.","title":"How to make common authorization call in SecurityConfig class to authorize every request in SpringBoot","body":"<p>You should add a custom filter in the filter chain in your security config that executes before each request.</p>\n<p>Just create a Custom Filter implementing OncePerRequestFilter.java and do the license Key validation inside of that filter. The implementation logic inside your Custom filter will run once before each request that is made on your spring boot server.</p>\n<p>Refer</p>\n<p><a href=\"https://www.baeldung.com/spring-onceperrequestfilter\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-onceperrequestfilter</a></p>\n<p><a href=\"https://www.javadevjournal.com/spring-boot/spring-boot-add-filter/\" rel=\"nofollow noreferrer\">https://www.javadevjournal.com/spring-boot/spring-boot-add-filter/</a></p>\n<p>If you are using Spring Security and want to filter requests to verify that it has valid token passed to it (if you're not already doing this), refer to the official documentation of your respective version of spring security to see where should you add your filter inside the filterChain.</p>\n<p>Check Filter Ordering in:</p>\n<p><a href=\"https://docs.spring.io/spring-security/site/docs/3.1.4.RELEASE/reference/security-filter-chain.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-security/site/docs/3.1.4.RELEASE/reference/security-filter-chain.html</a></p>\n<p>The token validation filter should ideally be exeucted before UsernamePasswordAuthenticationFilter.</p>\n"}],"owner":{"account_id":14095561,"reputation":1426,"user_id":10182449,"display_name":"PythonLearner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1675772420,"creation_date":1675770743,"question_id":75372974,"body_markdown":"I am new to Spring Boot Security. I am performing validation of licenseKey in every end-point in REST call. It is working fine.\r\nI want to do it in a common way like `SecurityConfig extends WebSecurityConfigurerAdapter {}` class so that I should not pass extra parameter in methods for validation. It means there should be common validation if the licenseKey exists then the REST calls should be authorized to go otherwise, it should throw error. Currently I am passing HttpServletRequest which contains licenseKey, the methods are working fine. But our requirement is to perform only in one place in SecurityConfig so that all the requests can be validated.\r\n\r\n    @GetMapping(path=&quot;some/path&quot;)\r\n    public ResponseEntity&lt;&gt; viewDetails(HttpServletRequest httpRequest, MappingVO mappingVO) {\r\n    \r\n    \tString licenseUser = userDetailsService.getLicenseUser(httpRequest).getUser().getEmailAddress();\r\n    \t....\r\n    \t....\r\n    }\r\n    \r\n    @DeleteMapping(path=&quot;some/path&quot;)\r\n    public ResponseEntity&lt;&gt; deletePart(HttpServletRequest httpRequest, Part part) {\r\n    \r\n    \tString licenseUser = userDetailsService.getLicenseUser(httpRequest).getUser().getEmailAddress();\r\n    \t....\r\n    \t....\r\n    }\r\n    \r\n    In class CustomUserDetails, it has been written like this.\r\n    \r\n    public CustomUserDetails getLicenseUser(HttpServletRequest httpRequest) {\r\n    \t\tString userId = httpRequest.getHeader(&quot;licenseKey&quot;);\r\n    \t\tCustomUserDetails ud = (CustomUserDetails) loadUserByUsername(userId);\r\n    \t\treturn ud;\r\n    }","title":"How to make common authorization call in SecurityConfig class to authorize every request in SpringBoot","body":"<p>I am new to Spring Boot Security. I am performing validation of licenseKey in every end-point in REST call. It is working fine.\nI want to do it in a common way like <code>SecurityConfig extends WebSecurityConfigurerAdapter {}</code> class so that I should not pass extra parameter in methods for validation. It means there should be common validation if the licenseKey exists then the REST calls should be authorized to go otherwise, it should throw error. Currently I am passing HttpServletRequest which contains licenseKey, the methods are working fine. But our requirement is to perform only in one place in SecurityConfig so that all the requests can be validated.</p>\n<pre><code>@GetMapping(path=&quot;some/path&quot;)\npublic ResponseEntity&lt;&gt; viewDetails(HttpServletRequest httpRequest, MappingVO mappingVO) {\n\n    String licenseUser = userDetailsService.getLicenseUser(httpRequest).getUser().getEmailAddress();\n    ....\n    ....\n}\n\n@DeleteMapping(path=&quot;some/path&quot;)\npublic ResponseEntity&lt;&gt; deletePart(HttpServletRequest httpRequest, Part part) {\n\n    String licenseUser = userDetailsService.getLicenseUser(httpRequest).getUser().getEmailAddress();\n    ....\n    ....\n}\n\nIn class CustomUserDetails, it has been written like this.\n\npublic CustomUserDetails getLicenseUser(HttpServletRequest httpRequest) {\n        String userId = httpRequest.getHeader(&quot;licenseKey&quot;);\n        CustomUserDetails ud = (CustomUserDetails) loadUserByUsername(userId);\n        return ud;\n}\n</code></pre>\n"},{"tags":["java","email","ssl","jakarta-mail","smtps"],"comments":[{"owner":{"account_id":3701398,"reputation":116692,"user_id":3081018,"display_name":"Steffen Ullrich"},"score":0,"creation_date":1675772179,"post_id":75372254,"comment_id":132996639,"body_markdown":"In short: you use port 587 with implicit SSL, even though the port is reserved for explicit SSL (i.e. STARTTLS). Wireshark tries to implement the data like they are supposed to be at this port, which explains the strange commands shown.  To make Wireshark interpret the traffic in a different way you have to enforce this non-standard interpretation with &quot;Decode As ...&quot;","body":"In short: you use port 587 with implicit SSL, even though the port is reserved for explicit SSL (i.e. STARTTLS). Wireshark tries to implement the data like they are supposed to be at this port, which explains the strange commands shown.  To make Wireshark interpret the traffic in a different way you have to enforce this non-standard interpretation with &quot;Decode As ...&quot;"}],"owner":{"account_id":27716703,"reputation":11,"user_id":21158251,"display_name":"Lisa Trz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1675772079,"answer_count":0,"score":1,"last_activity_date":1675772411,"creation_date":1675766724,"question_id":75372254,"body_markdown":"I would like to send SMTPS mail via TLSv1.2/TLSv1.3 on port 587.\r\n\r\nI use Axigen as a mail server, with the following configuration:\r\n\r\n- listeners ssl : 465 / 587\r\n[![listeners][1]][1]\r\n- ssl configuration : TLS 1.2 / TLS 1.3\r\n[![ssl][2]][2]\r\n\r\n**EXAMPLE WITH PORT 587**\r\n\r\nHere is the java debug trail :\r\n\r\n```\r\nDEBUG SMTP: need username and password for authentication\r\nDEBUG SMTP: protocolConnect returning false, host=192.168.59.99, user=&quot;user&quot;, password=&lt;null&gt;\r\nDEBUG SMTP: useEhlo true, useAuth true\r\nDEBUG SMTP: trying to connect to host &quot;192.168.59.99&quot;, port 587, isSSL true\r\n220 axigen Axigen ESMTP ready\r\nDEBUG SMTP: connected to host &quot;192.168.59.99&quot;, port: 587\r\nEHLO &quot;DOMAIN&quot;\r\n250-axigen Axigen ESMTP hello\r\n...\r\nDEBUG SMTP: STARTTLS requested but already using SSL\r\nDEBUG SMTP: protocolConnect login, host=192.168.59.99, user=jacques.durand@ca.lan, password=&lt;non-null&gt;\r\nDEBUG SMTP: Attempt to authenticate using mechanisms: LOGIN PLAIN DIGEST-MD5 NTLM XOAUTH2 \r\nDEBUG SMTP: Using mechanism LOGIN\r\nDEBUG SMTP: AUTH LOGIN command trace suppressed\r\nDEBUG SMTP: AUTH LOGIN succeeded\r\nDEBUG SMTP: use8bit false\r\nMAIL FROM:&lt;jacques.durand@ca.lan&gt;\r\n250 Sender accepted\r\nRCPT TO:&lt;jacques.durand@ca.lan&gt;\r\n250 Recipient accepted\r\nDEBUG SMTP: Verified Addresses\r\nDEBUG SMTP:   jacques.durand@ca.lan\r\nDATA\r\n354 Ready to receive data; remember &lt;CRLF&gt;.&lt;CRLF&gt;\r\nDate: Tue, 7 Feb 2023 10:03:25 +0100 (CET)\r\nFrom: jacques.durand@ca.lan\r\nTo: jacques.durand@ca.lan\r\nMessage-ID: &lt;947679291.0.1675760605998@192.168.59.99&gt;\r\nSubject: TestMail\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=us-ascii\r\nContent-Transfer-Encoding: 7bit\r\n\r\nTestMail\r\n.\r\n250 Mail queued for delivery\r\nDEBUG SMTP: message successfully delivered to mail server\r\nQUIT\r\n221-axigen Axigen ESMTP is closing connection\r\n221 Good bye\r\n\r\nProcess finished with exit code 0\r\n```\r\n\r\nI use wireshark to see the exchanges on the mail server.\r\n\r\n[![587][3]][3]\r\n\r\nOn port 587 the protocol used is TCP/SMTP, but **it is not SMTPS**.\r\n\r\n\r\n**EXAMPLE WITH PORT 465**\r\n\r\nJava debug trail :\r\n\r\n```\r\nDEBUG SMTP: need username and password for authentication\r\nDEBUG SMTP: protocolConnect returning false, host=192.168.59.99, user=&quot;user&quot;, password=&lt;null&gt;\r\nDEBUG SMTP: useEhlo true, useAuth true\r\nDEBUG SMTP: trying to connect to host &quot;192.168.59.99&quot;, port 465, isSSL true\r\n220 axigen Axigen ESMTP ready\r\nDEBUG SMTP: connected to host &quot;192.168.59.99&quot;, port: 465\r\nEHLO &quot;DOMAIN&quot;\r\n250-axigen Axigen ESMTP hello\r\n...\r\nDEBUG SMTP: STARTTLS requested but already using SSL\r\nDEBUG SMTP: protocolConnect login, host=192.168.59.99, user=jacques.durand@ca.lan, password=&lt;non-null&gt;\r\nDEBUG SMTP: Attempt to authenticate using mechanisms: LOGIN PLAIN DIGEST-MD5 NTLM XOAUTH2 \r\nDEBUG SMTP: Using mechanism LOGIN\r\nDEBUG SMTP: AUTH LOGIN command trace suppressed\r\nDEBUG SMTP: AUTH LOGIN succeeded\r\nDEBUG SMTP: use8bit false\r\nMAIL FROM:&lt;jacques.durand@ca.lan&gt;\r\n250 Sender accepted\r\nRCPT TO:&lt;jacques.durand@ca.lan&gt;\r\n250 Recipient accepted\r\nDEBUG SMTP: Verified Addresses\r\nDEBUG SMTP:   jacques.durand@ca.lan\r\nDATA\r\n354 Ready to receive data; remember &lt;CRLF&gt;.&lt;CRLF&gt;\r\nDate: Tue, 7 Feb 2023 10:58:52 +0100 (CET)\r\nFrom: jacques.durand@ca.lan\r\nTo: jacques.durand@ca.lan\r\nMessage-ID: &lt;947679291.0.1675763932670@192.168.59.99&gt;\r\nSubject: TestMail\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=us-ascii\r\nContent-Transfer-Encoding: 7bit\r\n\r\nTestMail\r\n.\r\n250 Mail queued for delivery\r\nDEBUG SMTP: message successfully delivered to mail server\r\nQUIT\r\n221-axigen Axigen ESMTP is closing connection\r\n221 Good bye\r\n\r\nProcess finished with exit code 0\r\n```\r\n\r\nOn wireshark with port 465, we can see that **the protocol used is TLSv1.3**.\r\n\r\n[![465][4]][4]\r\n\r\nBelow is the Java code for sending mail :\r\n(I have used all combinations of java smtp/smtps properties without success)\r\n\r\n```\r\nimport com.sun.mail.smtp.SMTPTransport;\r\nimport jakarta.mail.*;\r\nimport jakarta.mail.internet.InternetAddress;\r\nimport jakarta.mail.internet.MimeBodyPart;\r\nimport jakarta.mail.internet.MimeMessage;\r\nimport jakarta.mail.internet.MimeMultipart;\r\n\r\npublic class SendMail {\r\n\r\n    public static void main(String[] args) throws MessagingException {\r\n\r\n        Session session = null;\r\n\r\n        Properties properties = System.getProperties();\r\n\r\n        properties.put(&quot;mail.debug&quot;, &quot;true&quot;);\r\n\r\n        properties.put(&quot;mail.transport.protocol&quot;, &quot;smtp&quot;);\r\n        properties.put(&quot;mail.host&quot;, &quot;192.168.59.99&quot;);\r\n        properties.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n        properties.put(&quot;mail.smtp.port&quot;, &quot;587&quot;);\r\n\r\n        // Enable STARTTLS\r\n        properties.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\r\n        properties.put(&quot;mail.smtp.starttls.required&quot;, &quot;true&quot;);\r\n\r\n        // Accept only TLS 1.1 and 1.2\r\n        properties.setProperty(&quot;mail.smtp.ssl.enable&quot;, &quot;true&quot;);\r\n        properties.setProperty(&quot;mail.smtp.ssl.trust&quot;, &quot;192.168.59.99&quot;);\r\n        properties.setProperty(&quot;mail.smtp.ssl.protocols&quot;, &quot;TLSv1.2 TLSv1.3&quot;);\r\n\r\n\r\n       // properties.put(&quot;mail.transport.protocol.rfc822&quot;, &quot;smtp&quot;);\r\n\r\n        session = Session.getInstance(properties, new Authenticator() {\r\n            @Override\r\n            protected PasswordAuthentication getPasswordAuthentication() {\r\n                return new PasswordAuthentication(&quot;jacques.durand@ca.lan&quot;, &quot;us3r&quot;);\r\n            }\r\n        });\r\n\r\n        if (session == null) {\r\n            throw new RuntimeException(&quot;Error creating mail session.&quot;);\r\n        }\r\n\r\n        session.setDebug(true);\r\n\r\n        // message\r\n        Message message = new MimeMessage(session);\r\n        message.setFrom(new InternetAddress(&quot;jacques.durand@ca.lan&quot;));\r\n        message.setRecipients(Message.RecipientType.TO,   InternetAddress.parse(&quot;jacques.durand@ca.lan&quot;));\r\n        message.setSubject(&quot;TestMail&quot;);\r\n        message.setText(&quot;TestMail&quot;);\r\n\r\n        Transport.send(message);\r\n\r\n    }\r\n\r\n}\r\n```\r\nUnsuccessful java properties :\r\n\r\n        Properties properties = System.getProperties();\r\n        properties.setProperty(&quot;mail.smtp.host&quot;, &quot;192.168.59.99&quot;);\r\n        properties.setProperty(&quot;mail.smtp.port&quot;, &quot;587&quot;);\r\n        properties.put(&quot;mail.smtp.auth&quot;, true);\r\n        properties.put(&quot;mail.smtp.socketFactory.port&quot;, &quot;587&quot;);\r\n        properties.put(&quot;mail.smtp.socketFactory.class&quot;, &quot;javax.net.ssl.SSLSocketFactory&quot;);\r\n        properties.put(&quot;mail.smtp.socketFactory.fallback&quot;, &quot;false&quot;);\r\n        properties.put(&quot;mail.smtp.ssl.enable&quot;, &quot;true&quot;);\r\n        properties.put(&quot;mail.smtp.ssl.protocols&quot;, &quot;TLSv1.2&quot;);\r\n        properties.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\r\n        properties.put(&quot;mail.smtp.starttls.required&quot;, &quot;true&quot;);\r\n        ////\r\n        properties.put(&quot;mail.smtps.host&quot;, &quot;192.168.59.99&quot;);\r\n        properties.put(&quot;mail.smtps.port&quot;, &quot;587&quot;);\r\n        properties.put(&quot;mail.smtps.socketFactory.port&quot;, &quot;587&quot;);\r\n        properties.put(&quot;mail.smtps.socketFactory.class&quot;, &quot;javax.net.ssl.SSLSocketFactory&quot;);\r\n        properties.put(&quot;mail.smtps.socketFactory.fallback&quot;, &quot;false&quot;);\r\n        properties.put(&quot;mail.transport.protocol&quot;, &quot;smtps&quot;);\r\n        properties.put(&quot;mail.smtps.ssl.enable&quot;,&quot;true&quot;);\r\n        properties.put(&quot;mail.smtps.starttls.enable&quot;,&quot;false&quot;);\r\n        properties.put(&quot;mail.smtps.auth&quot;, &quot;true&quot;);\r\n        properties.put(&quot;mail.smtps.ssl.protocols&quot;, &quot;TLSv1.2&quot;);\r\n        ///\r\n        properties.put(&quot;mail.transport.protocol.rfc822&quot;, &quot;smtp&quot;);\r\n\r\nThe librairies I tried :\r\n\r\n- javax.mail : 1.5.0-b01\r\n- javax.mail : 1.6.2\r\n- jakarta.mail : 2.0.1\r\n\r\n**I would like  to force the TLSv1.2 or TLSv1.3 protocol on port 587.**\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/608kX.png\r\n  [2]: https://i.stack.imgur.com/c8We5.png\r\n  [3]: https://i.stack.imgur.com/pmqST.png\r\n  [4]: https://i.stack.imgur.com/iOHyD.png","title":"Java Mail : Unable to initiate SMTPS protocol via TLS on port 587","body":"<p>I would like to send SMTPS mail via TLSv1.2/TLSv1.3 on port 587.</p>\n<p>I use Axigen as a mail server, with the following configuration:</p>\n<ul>\n<li>listeners ssl : 465 / 587\n<a href=\"https://i.stack.imgur.com/608kX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/608kX.png\" alt=\"listeners\" /></a></li>\n<li>ssl configuration : TLS 1.2 / TLS 1.3\n<a href=\"https://i.stack.imgur.com/c8We5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/c8We5.png\" alt=\"ssl\" /></a></li>\n</ul>\n<p><strong>EXAMPLE WITH PORT 587</strong></p>\n<p>Here is the java debug trail :</p>\n<pre><code>DEBUG SMTP: need username and password for authentication\nDEBUG SMTP: protocolConnect returning false, host=192.168.59.99, user=&quot;user&quot;, password=&lt;null&gt;\nDEBUG SMTP: useEhlo true, useAuth true\nDEBUG SMTP: trying to connect to host &quot;192.168.59.99&quot;, port 587, isSSL true\n220 axigen Axigen ESMTP ready\nDEBUG SMTP: connected to host &quot;192.168.59.99&quot;, port: 587\nEHLO &quot;DOMAIN&quot;\n250-axigen Axigen ESMTP hello\n...\nDEBUG SMTP: STARTTLS requested but already using SSL\nDEBUG SMTP: protocolConnect login, host=192.168.59.99, user=jacques.durand@ca.lan, password=&lt;non-null&gt;\nDEBUG SMTP: Attempt to authenticate using mechanisms: LOGIN PLAIN DIGEST-MD5 NTLM XOAUTH2 \nDEBUG SMTP: Using mechanism LOGIN\nDEBUG SMTP: AUTH LOGIN command trace suppressed\nDEBUG SMTP: AUTH LOGIN succeeded\nDEBUG SMTP: use8bit false\nMAIL FROM:&lt;jacques.durand@ca.lan&gt;\n250 Sender accepted\nRCPT TO:&lt;jacques.durand@ca.lan&gt;\n250 Recipient accepted\nDEBUG SMTP: Verified Addresses\nDEBUG SMTP:   jacques.durand@ca.lan\nDATA\n354 Ready to receive data; remember &lt;CRLF&gt;.&lt;CRLF&gt;\nDate: Tue, 7 Feb 2023 10:03:25 +0100 (CET)\nFrom: jacques.durand@ca.lan\nTo: jacques.durand@ca.lan\nMessage-ID: &lt;947679291.0.1675760605998@192.168.59.99&gt;\nSubject: TestMail\nMIME-Version: 1.0\nContent-Type: text/plain; charset=us-ascii\nContent-Transfer-Encoding: 7bit\n\nTestMail\n.\n250 Mail queued for delivery\nDEBUG SMTP: message successfully delivered to mail server\nQUIT\n221-axigen Axigen ESMTP is closing connection\n221 Good bye\n\nProcess finished with exit code 0\n</code></pre>\n<p>I use wireshark to see the exchanges on the mail server.</p>\n<p><a href=\"https://i.stack.imgur.com/pmqST.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pmqST.png\" alt=\"587\" /></a></p>\n<p>On port 587 the protocol used is TCP/SMTP, but <strong>it is not SMTPS</strong>.</p>\n<p><strong>EXAMPLE WITH PORT 465</strong></p>\n<p>Java debug trail :</p>\n<pre><code>DEBUG SMTP: need username and password for authentication\nDEBUG SMTP: protocolConnect returning false, host=192.168.59.99, user=&quot;user&quot;, password=&lt;null&gt;\nDEBUG SMTP: useEhlo true, useAuth true\nDEBUG SMTP: trying to connect to host &quot;192.168.59.99&quot;, port 465, isSSL true\n220 axigen Axigen ESMTP ready\nDEBUG SMTP: connected to host &quot;192.168.59.99&quot;, port: 465\nEHLO &quot;DOMAIN&quot;\n250-axigen Axigen ESMTP hello\n...\nDEBUG SMTP: STARTTLS requested but already using SSL\nDEBUG SMTP: protocolConnect login, host=192.168.59.99, user=jacques.durand@ca.lan, password=&lt;non-null&gt;\nDEBUG SMTP: Attempt to authenticate using mechanisms: LOGIN PLAIN DIGEST-MD5 NTLM XOAUTH2 \nDEBUG SMTP: Using mechanism LOGIN\nDEBUG SMTP: AUTH LOGIN command trace suppressed\nDEBUG SMTP: AUTH LOGIN succeeded\nDEBUG SMTP: use8bit false\nMAIL FROM:&lt;jacques.durand@ca.lan&gt;\n250 Sender accepted\nRCPT TO:&lt;jacques.durand@ca.lan&gt;\n250 Recipient accepted\nDEBUG SMTP: Verified Addresses\nDEBUG SMTP:   jacques.durand@ca.lan\nDATA\n354 Ready to receive data; remember &lt;CRLF&gt;.&lt;CRLF&gt;\nDate: Tue, 7 Feb 2023 10:58:52 +0100 (CET)\nFrom: jacques.durand@ca.lan\nTo: jacques.durand@ca.lan\nMessage-ID: &lt;947679291.0.1675763932670@192.168.59.99&gt;\nSubject: TestMail\nMIME-Version: 1.0\nContent-Type: text/plain; charset=us-ascii\nContent-Transfer-Encoding: 7bit\n\nTestMail\n.\n250 Mail queued for delivery\nDEBUG SMTP: message successfully delivered to mail server\nQUIT\n221-axigen Axigen ESMTP is closing connection\n221 Good bye\n\nProcess finished with exit code 0\n</code></pre>\n<p>On wireshark with port 465, we can see that <strong>the protocol used is TLSv1.3</strong>.</p>\n<p><a href=\"https://i.stack.imgur.com/iOHyD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iOHyD.png\" alt=\"465\" /></a></p>\n<p>Below is the Java code for sending mail :\n(I have used all combinations of java smtp/smtps properties without success)</p>\n<pre><code>import com.sun.mail.smtp.SMTPTransport;\nimport jakarta.mail.*;\nimport jakarta.mail.internet.InternetAddress;\nimport jakarta.mail.internet.MimeBodyPart;\nimport jakarta.mail.internet.MimeMessage;\nimport jakarta.mail.internet.MimeMultipart;\n\npublic class SendMail {\n\n    public static void main(String[] args) throws MessagingException {\n\n        Session session = null;\n\n        Properties properties = System.getProperties();\n\n        properties.put(&quot;mail.debug&quot;, &quot;true&quot;);\n\n        properties.put(&quot;mail.transport.protocol&quot;, &quot;smtp&quot;);\n        properties.put(&quot;mail.host&quot;, &quot;192.168.59.99&quot;);\n        properties.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\n        properties.put(&quot;mail.smtp.port&quot;, &quot;587&quot;);\n\n        // Enable STARTTLS\n        properties.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\n        properties.put(&quot;mail.smtp.starttls.required&quot;, &quot;true&quot;);\n\n        // Accept only TLS 1.1 and 1.2\n        properties.setProperty(&quot;mail.smtp.ssl.enable&quot;, &quot;true&quot;);\n        properties.setProperty(&quot;mail.smtp.ssl.trust&quot;, &quot;192.168.59.99&quot;);\n        properties.setProperty(&quot;mail.smtp.ssl.protocols&quot;, &quot;TLSv1.2 TLSv1.3&quot;);\n\n\n       // properties.put(&quot;mail.transport.protocol.rfc822&quot;, &quot;smtp&quot;);\n\n        session = Session.getInstance(properties, new Authenticator() {\n            @Override\n            protected PasswordAuthentication getPasswordAuthentication() {\n                return new PasswordAuthentication(&quot;jacques.durand@ca.lan&quot;, &quot;us3r&quot;);\n            }\n        });\n\n        if (session == null) {\n            throw new RuntimeException(&quot;Error creating mail session.&quot;);\n        }\n\n        session.setDebug(true);\n\n        // message\n        Message message = new MimeMessage(session);\n        message.setFrom(new InternetAddress(&quot;jacques.durand@ca.lan&quot;));\n        message.setRecipients(Message.RecipientType.TO,   InternetAddress.parse(&quot;jacques.durand@ca.lan&quot;));\n        message.setSubject(&quot;TestMail&quot;);\n        message.setText(&quot;TestMail&quot;);\n\n        Transport.send(message);\n\n    }\n\n}\n</code></pre>\n<p>Unsuccessful java properties :</p>\n<pre><code>    Properties properties = System.getProperties();\n    properties.setProperty(&quot;mail.smtp.host&quot;, &quot;192.168.59.99&quot;);\n    properties.setProperty(&quot;mail.smtp.port&quot;, &quot;587&quot;);\n    properties.put(&quot;mail.smtp.auth&quot;, true);\n    properties.put(&quot;mail.smtp.socketFactory.port&quot;, &quot;587&quot;);\n    properties.put(&quot;mail.smtp.socketFactory.class&quot;, &quot;javax.net.ssl.SSLSocketFactory&quot;);\n    properties.put(&quot;mail.smtp.socketFactory.fallback&quot;, &quot;false&quot;);\n    properties.put(&quot;mail.smtp.ssl.enable&quot;, &quot;true&quot;);\n    properties.put(&quot;mail.smtp.ssl.protocols&quot;, &quot;TLSv1.2&quot;);\n    properties.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\n    properties.put(&quot;mail.smtp.starttls.required&quot;, &quot;true&quot;);\n    ////\n    properties.put(&quot;mail.smtps.host&quot;, &quot;192.168.59.99&quot;);\n    properties.put(&quot;mail.smtps.port&quot;, &quot;587&quot;);\n    properties.put(&quot;mail.smtps.socketFactory.port&quot;, &quot;587&quot;);\n    properties.put(&quot;mail.smtps.socketFactory.class&quot;, &quot;javax.net.ssl.SSLSocketFactory&quot;);\n    properties.put(&quot;mail.smtps.socketFactory.fallback&quot;, &quot;false&quot;);\n    properties.put(&quot;mail.transport.protocol&quot;, &quot;smtps&quot;);\n    properties.put(&quot;mail.smtps.ssl.enable&quot;,&quot;true&quot;);\n    properties.put(&quot;mail.smtps.starttls.enable&quot;,&quot;false&quot;);\n    properties.put(&quot;mail.smtps.auth&quot;, &quot;true&quot;);\n    properties.put(&quot;mail.smtps.ssl.protocols&quot;, &quot;TLSv1.2&quot;);\n    ///\n    properties.put(&quot;mail.transport.protocol.rfc822&quot;, &quot;smtp&quot;);\n</code></pre>\n<p>The librairies I tried :</p>\n<ul>\n<li>javax.mail : 1.5.0-b01</li>\n<li>javax.mail : 1.6.2</li>\n<li>jakarta.mail : 2.0.1</li>\n</ul>\n<p><strong>I would like  to force the TLSv1.2 or TLSv1.3 protocol on port 587.</strong></p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":3695702,"reputation":12521,"user_id":5156075,"accept_rate":100,"display_name":"John Joe"},"score":0,"creation_date":1552924857,"post_id":55225283,"comment_id":97185566,"body_markdown":"post the error code","body":"post the error code"},{"owner":{"account_id":6473006,"reputation":27420,"user_id":6296561,"accept_rate":95,"display_name":"Zoe is on strike"},"score":0,"creation_date":1552924877,"post_id":55225283,"comment_id":97185582,"body_markdown":"Doesn&#39;t recognize it how?","body":"Doesn&#39;t recognize it how?"},{"owner":{"account_id":14264331,"reputation":2481,"user_id":10304059,"display_name":"Ashad Nasim"},"score":0,"creation_date":1552926919,"post_id":55225283,"comment_id":97186731,"body_markdown":"post your xml here","body":"post your xml here"},{"owner":{"account_id":14264331,"reputation":2481,"user_id":10304059,"display_name":"Ashad Nasim"},"score":0,"creation_date":1552927068,"post_id":55225283,"comment_id":97186822,"body_markdown":"Do refactor, may it help you","body":"Do refactor, may it help you"},{"owner":{"account_id":8732602,"reputation":1804,"user_id":6532155,"display_name":"Kavita Patil"},"score":0,"creation_date":1552927121,"post_id":55225283,"comment_id":97186850,"body_markdown":"Your base layout is `ConstrainLayout`. You can change that to `RelativeLayout` from xml. Please add your xml code for reference.","body":"Your base layout is <code>ConstrainLayout</code>. You can change that to <code>RelativeLayout</code> from xml. Please add your xml code for reference."}],"answers":[{"tags":[],"owner":{"account_id":8732602,"reputation":1804,"user_id":6532155,"display_name":"Kavita Patil"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1552927410,"creation_date":1552927410,"answer_id":55226179,"question_id":55225283,"body_markdown":"Inside of **`legacy option`** RelativeLayout is present. Please refer the following screenshot:\r\n\r\n[![drag and drop][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rQyZF.png","title":"Relative Layout missing from the last version of Android Studio","body":"<p>Inside of <strong><code>legacy option</code></strong> RelativeLayout is present. Please refer the following screenshot:</p>\n\n<p><a href=\"https://i.stack.imgur.com/rQyZF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rQyZF.png\" alt=\"drag and drop\"></a></p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1676036764,"post_id":75373255,"comment_id":133061750,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/75373255/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":25884608,"reputation":1,"user_id":19612992,"display_name":"Woodier"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675772360,"creation_date":1675772312,"answer_id":75373255,"question_id":55225283,"body_markdown":"You can also convert the view:\r\n\r\n - -Right click on component\r\n - -Select convert view\r\n - -Find and click RelativeLayout\r\n - -Apply","title":"Relative Layout missing from the last version of Android Studio","body":"<p>You can also convert the view:</p>\n<ul>\n<li>-Right click on component</li>\n<li>-Select convert view</li>\n<li>-Find and click RelativeLayout</li>\n<li>-Apply</li>\n</ul>\n"}],"owner":{"account_id":15554986,"reputation":1067,"user_id":11221697,"display_name":"Alexandru Stroescu"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3070,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":55226179,"answer_count":2,"score":0,"last_activity_date":1675772360,"creation_date":1552924483,"question_id":55225283,"body_markdown":"activity_main is a relative layout, but android studio can&#39;t recognise it. Also, in the layout menu there&#39;s no relative layout, and the I can&#39;t move the button freely, it&#39;s stuck in that corner, I need to give it margin or to align it. This happened after I updated my android studio to the lastest version. What can I do? I need to work with that layout.\r\n\r\n\r\n  https://i.stack.imgur.com/8XSJC.png","title":"Relative Layout missing from the last version of Android Studio","body":"<p>activity_main is a relative layout, but android studio can't recognise it. Also, in the layout menu there's no relative layout, and the I can't move the button freely, it's stuck in that corner, I need to give it margin or to align it. This happened after I updated my android studio to the lastest version. What can I do? I need to work with that layout.</p>\n\n<p><a href=\"https://i.stack.imgur.com/8XSJC.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/8XSJC.png</a></p>\n"},{"tags":["java","oracle"],"comments":[{"owner":{"account_id":1635690,"reputation":150157,"user_id":1509264,"accept_rate":58,"display_name":"MT0"},"score":0,"creation_date":1675783582,"post_id":75373262,"comment_id":133000681,"body_markdown":"There is an [SQLData example of passing an object](https://stackoverflow.com/a/54347047/1509264) and an [non-SQLData example of passing an array of objects](https://stackoverflow.com/a/51144013/1509264); however, I&#39;ve never tried passing an object containing an array using SQLData.","body":"There is an <a href=\"https://stackoverflow.com/a/54347047/1509264\">SQLData example of passing an object</a> and an <a href=\"https://stackoverflow.com/a/51144013/1509264\">non-SQLData example of passing an array of objects</a>; however, I&#39;ve never tried passing an object containing an array using SQLData."},{"owner":{"account_id":26457014,"reputation":11,"user_id":20099484,"display_name":"errorrelativo"},"score":0,"creation_date":1675817417,"post_id":75373262,"comment_id":133009245,"body_markdown":"Thanks. Maybe the second example can help me. I&#39;m going to study it.","body":"Thanks. Maybe the second example can help me. I&#39;m going to study it."}],"owner":{"account_id":26457014,"reputation":11,"user_id":20099484,"display_name":"errorrelativo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675772354,"creation_date":1675772354,"question_id":75373262,"body_markdown":"In an Oracle db there is a &quot;COUNTRY&quot; UDT which contains a nested table of a different &quot;CITY&quot; UDT (every country can have several cities).\r\n\r\nHow can I implement a &quot;cities&quot; property in a Java class &quot;Country&quot; (which implements SQLData interface) that could be mapped to &quot;CITY&quot; UDT? ","title":"How to implement a property in a Java class Country (implements SQLData) mappeable to nested table?","body":"<p>In an Oracle db there is a &quot;COUNTRY&quot; UDT which contains a nested table of a different &quot;CITY&quot; UDT (every country can have several cities).</p>\n<p>How can I implement a &quot;cities&quot; property in a Java class &quot;Country&quot; (which implements SQLData interface) that could be mapped to &quot;CITY&quot; UDT?</p>\n"},{"tags":["java","exception"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1675771707,"post_id":75373118,"comment_id":132996480,"body_markdown":"You need `scanner.nextLine();` in your catch block to swallow the invalid token that is still held by the Scanner object.","body":"You need <code>scanner.nextLine();</code> in your catch block to swallow the invalid token that is still held by the Scanner object."},{"owner":{"account_id":27275565,"reputation":89,"user_id":20796242,"display_name":"diho472"},"score":0,"creation_date":1675772293,"post_id":75373118,"comment_id":132996677,"body_markdown":"@user16320675 Sorry, I misspelled. The program terminates and the console displays the message `finished with non-zero exit value 1` but already the colleague below gave the solution :)","body":"@user16320675 Sorry, I misspelled. The program terminates and the console displays the message <code>finished with non-zero exit value 1</code> but already the colleague below gave the solution :)"}],"answers":[{"tags":[],"owner":{"account_id":16842571,"reputation":3791,"user_id":12177617,"display_name":"Subramanian Mariappan"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1675771853,"creation_date":1675771853,"answer_id":75373167,"question_id":75373118,"body_markdown":"Your `scanner.nextDouble()` method call throws `InputMismatchException` when you enter a random character other than a valid double number. But you&#39;ve caught `NumberFormatException` in your catch block. If you want to capture the above case you should&#39;ve caught the `InputMismatchException`.\r\n\r\n    catch (InputMismatchException exception) {\r\n        System.out.println(&quot;Please enter the correct type!&quot;);\r\n    }\r\n\r\n","title":"Why doesn&#39;t the program throw an exception despite typing the wrong type?","body":"<p>Your <code>scanner.nextDouble()</code> method call throws <code>InputMismatchException</code> when you enter a random character other than a valid double number. But you've caught <code>NumberFormatException</code> in your catch block. If you want to capture the above case you should've caught the <code>InputMismatchException</code>.</p>\n<pre><code>catch (InputMismatchException exception) {\n    System.out.println(&quot;Please enter the correct type!&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":27275565,"reputation":89,"user_id":20796242,"display_name":"diho472"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1675863771,"accepted_answer_id":75373167,"answer_count":1,"score":-1,"last_activity_date":1675772162,"creation_date":1675771628,"question_id":75373118,"body_markdown":"Why doesn&#39;t exception handling work in this code? \r\nIt seems to me that I have implemented it well, after entering numbers of real type the application works fine, but when I enter for example random characters the program &quot;terminates&quot; but does not show the captured error message.\r\n\r\nIn the console I get: **finished with non-zero exit value 1**\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class NewClass {\r\n        public static void main(String[] args) {\r\n            NewClass newClass = new NewClass();\r\n            Scanner scanner = new Scanner(System.in);\r\n            try {\r\n                System.out.println(&quot;Enter the first side of the rectangle: &quot;);\r\n                double firstValue = scanner.nextDouble();\r\n                System.out.println(&quot;Enter the second side of the rectangle: &quot;);\r\n                double secondValue = scanner.nextDouble();\r\n                double result = newClass.calculateRectangleArea(firstValue, secondValue);\r\n                System.out.println(&quot;Area of ​​a rectangle with sides &quot; + firstValue + &quot; &quot; + &quot;and&quot; + secondValue + &quot; &quot; + &quot;are&quot; + result);\r\n            } catch (NumberFormatException exception) {\r\n                System.out.println(&quot;Please enter the correct type!&quot;);\r\n            }\r\n        }\r\n    \r\n        public double calculateRectangleArea(double a, double b) {\r\n            return a * b;\r\n        }\r\n    }","title":"Why doesn&#39;t the program throw an exception despite typing the wrong type?","body":"<p>Why doesn't exception handling work in this code?\nIt seems to me that I have implemented it well, after entering numbers of real type the application works fine, but when I enter for example random characters the program &quot;terminates&quot; but does not show the captured error message.</p>\n<p>In the console I get: <strong>finished with non-zero exit value 1</strong></p>\n<pre><code>import java.util.Scanner;\n\npublic class NewClass {\n    public static void main(String[] args) {\n        NewClass newClass = new NewClass();\n        Scanner scanner = new Scanner(System.in);\n        try {\n            System.out.println(&quot;Enter the first side of the rectangle: &quot;);\n            double firstValue = scanner.nextDouble();\n            System.out.println(&quot;Enter the second side of the rectangle: &quot;);\n            double secondValue = scanner.nextDouble();\n            double result = newClass.calculateRectangleArea(firstValue, secondValue);\n            System.out.println(&quot;Area of ​​a rectangle with sides &quot; + firstValue + &quot; &quot; + &quot;and&quot; + secondValue + &quot; &quot; + &quot;are&quot; + result);\n        } catch (NumberFormatException exception) {\n            System.out.println(&quot;Please enter the correct type!&quot;);\n        }\n    }\n\n    public double calculateRectangleArea(double a, double b) {\n        return a * b;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","junit","rabbitmq","mockito"],"comments":[{"owner":{"account_id":14183035,"reputation":3277,"user_id":10245948,"display_name":"Hero Wanders"},"score":0,"creation_date":1675727069,"post_id":75365868,"comment_id":132987535,"body_markdown":"Searching SO gave me the following: https://stackoverflow.com/questions/44927085/prevent-rabbitlistener-in-spring-rabbit-from-trying-to-connect-to-server-during - Are the answers there helpful to you?","body":"Searching SO gave me the following: <a href=\"https://stackoverflow.com/questions/44927085/prevent-rabbitlistener-in-spring-rabbit-from-trying-to-connect-to-server-during\" title=\"prevent rabbitlistener in spring rabbit from trying to connect to server during\">stackoverflow.com/questions/44927085/&hellip;</a> - Are the answers there helpful to you?"}],"answers":[{"tags":[],"owner":{"account_id":14182472,"reputation":198,"user_id":10245558,"display_name":"Roland"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675771823,"creation_date":1675771823,"answer_id":75373160,"question_id":75365868,"body_markdown":"This depends on what you are trying to do if you running unit tests that should not be a problem since unit tests do not require loading the application context. On the other hand, if you running integration tests `@SpringBootTest` that requires you to load your application context and inject your Beans. You have 2 solutions:\r\n\r\n 1. Either annotate your services that require RabbitMq with `@MockBean`.\r\n 2. Use test containers to spin up a rabbitMq testing environment.\r\n\r\nIt would be more helpful to provide more details about the kind of test you are running and how you have written your test.\r\n","title":"Rabbit trying to connect on test spring boot","body":"<p>This depends on what you are trying to do if you running unit tests that should not be a problem since unit tests do not require loading the application context. On the other hand, if you running integration tests <code>@SpringBootTest</code> that requires you to load your application context and inject your Beans. You have 2 solutions:</p>\n<ol>\n<li>Either annotate your services that require RabbitMq with <code>@MockBean</code>.</li>\n<li>Use test containers to spin up a rabbitMq testing environment.</li>\n</ol>\n<p>It would be more helpful to provide more details about the kind of test you are running and how you have written your test.</p>\n"}],"owner":{"account_id":18618594,"reputation":158,"user_id":13569349,"display_name":"Mateus Nogueira"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":386,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1675771823,"creation_date":1675712669,"question_id":75365868,"body_markdown":"I want to disable the Rabbit on @Test method. I tried using the doNothing.when(rabbit.class) method, but it&#39;s not working.\r\n\r\nCan you help me find a way to prevent the connection to Rabbit?\r\n\r\nThanks\r\n\r\n```\r\n2023-02-06 19:39:58.519  INFO 75 --- [ntContainer#0-1] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: localhost:5672\r\n2023-02-06 19:39:58.522 ERROR 75 --- [ntContainer#0-1] o.s.a.r.l.SimpleMessageListenerContainer : Failed to check/redeclare auto-delete queue(s).\r\n\r\norg.springframework.amqp.AmqpConnectException: java.net.ConnectException: Connection refused\r\n\tat org.springframework.amqp.rabbit.support.RabbitExceptionTranslator.convertRabbitAccessException(RabbitExceptionTranslator.java:61) ~[spring-rabbit-2.4.7.jar:2.4.7]\r\n\tat org.springframework.amqp.rabbit.connection.AbstractConnectionFactory.createBareConnection(AbstractConnectionFactory.java:602) ~[spring-rabbit-2.4.7.jar:2.4.7]\r\n\tat org.springframework.amqp.rabbit.connection.CachingConnectionFactory.createConnection(CachingConnectionFactory.java:725) ~[spring-rabbit-2.4.7.jar:2.4.7]\r\n\tat org.springframework.amqp.rabbit.connection.ConnectionFactoryUtils.createConnection(ConnectionFactoryUtils.java:252) ~[spring-rabbit-2.4.7.jar:2.4.7]\r\n\tat org.springframework.amqp.rabbit.core.RabbitTemplate.doExecute(RabbitTemplate.java:2180) ~[spring-rabbit-2.4.7.jar:2.4.7]\r\n\tat org.springframework.amqp.rabbit.core.RabbitTemplate.execute(RabbitTemplate.java:2153) ~[spring-rabbit-2.4.7.jar:2.4.7]\r\n\tat org.springframework.amqp.rabbit.core.RabbitTemplate.execute(RabbitTemplate.java:2133) ~[spring-rabbit-2.4.7.jar:2.4.7]\r\n\tat org.springframework.amqp.rabbit.core.RabbitAdmin.getQueueInfo(RabbitAdmin.java:463) ~[spring-rabbit-2.4.7.jar:2.4.7]\r\n\tat org.springframework.amqp.rabbit.core.RabbitAdmin.getQueueProperties(RabbitAdmin.java:447) ~[spring-rabbit-2.4.7.jar:2.4.7]\r\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.attemptDeclarations(AbstractMessageListenerContainer.java:1930) ~[spring-rabbit-2.4.7.jar:2.4.7]\r\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.redeclareElementsIfNecessary(AbstractMessageListenerContainer.java:1911) ~[spring-rabbit-2.4.7.jar:2.4.7]\r\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.initialize(SimpleMessageListenerContainer.java:1377) ~[spring-rabbit-2.4.7.jar:2.4.7]\r\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1223) ~[spring-rabbit-2.4.7.jar:2.4.7]\r\n\tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\nCaused by: java.net.ConnectException: Connection refused\r\n```\r\n","title":"Rabbit trying to connect on test spring boot","body":"<p>I want to disable the Rabbit on @Test method. I tried using the doNothing.when(rabbit.class) method, but it's not working.</p>\n<p>Can you help me find a way to prevent the connection to Rabbit?</p>\n<p>Thanks</p>\n<pre><code>2023-02-06 19:39:58.519  INFO 75 --- [ntContainer#0-1] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: localhost:5672\n2023-02-06 19:39:58.522 ERROR 75 --- [ntContainer#0-1] o.s.a.r.l.SimpleMessageListenerContainer : Failed to check/redeclare auto-delete queue(s).\n\norg.springframework.amqp.AmqpConnectException: java.net.ConnectException: Connection refused\n    at org.springframework.amqp.rabbit.support.RabbitExceptionTranslator.convertRabbitAccessException(RabbitExceptionTranslator.java:61) ~[spring-rabbit-2.4.7.jar:2.4.7]\n    at org.springframework.amqp.rabbit.connection.AbstractConnectionFactory.createBareConnection(AbstractConnectionFactory.java:602) ~[spring-rabbit-2.4.7.jar:2.4.7]\n    at org.springframework.amqp.rabbit.connection.CachingConnectionFactory.createConnection(CachingConnectionFactory.java:725) ~[spring-rabbit-2.4.7.jar:2.4.7]\n    at org.springframework.amqp.rabbit.connection.ConnectionFactoryUtils.createConnection(ConnectionFactoryUtils.java:252) ~[spring-rabbit-2.4.7.jar:2.4.7]\n    at org.springframework.amqp.rabbit.core.RabbitTemplate.doExecute(RabbitTemplate.java:2180) ~[spring-rabbit-2.4.7.jar:2.4.7]\n    at org.springframework.amqp.rabbit.core.RabbitTemplate.execute(RabbitTemplate.java:2153) ~[spring-rabbit-2.4.7.jar:2.4.7]\n    at org.springframework.amqp.rabbit.core.RabbitTemplate.execute(RabbitTemplate.java:2133) ~[spring-rabbit-2.4.7.jar:2.4.7]\n    at org.springframework.amqp.rabbit.core.RabbitAdmin.getQueueInfo(RabbitAdmin.java:463) ~[spring-rabbit-2.4.7.jar:2.4.7]\n    at org.springframework.amqp.rabbit.core.RabbitAdmin.getQueueProperties(RabbitAdmin.java:447) ~[spring-rabbit-2.4.7.jar:2.4.7]\n    at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.attemptDeclarations(AbstractMessageListenerContainer.java:1930) ~[spring-rabbit-2.4.7.jar:2.4.7]\n    at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.redeclareElementsIfNecessary(AbstractMessageListenerContainer.java:1911) ~[spring-rabbit-2.4.7.jar:2.4.7]\n    at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.initialize(SimpleMessageListenerContainer.java:1377) ~[spring-rabbit-2.4.7.jar:2.4.7]\n    at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1223) ~[spring-rabbit-2.4.7.jar:2.4.7]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\nCaused by: java.net.ConnectException: Connection refused\n</code></pre>\n"},{"tags":["java","spring","jdbc","spring-data","singleton"],"answers":[{"tags":[],"owner":{"account_id":25701353,"reputation":11,"user_id":19461344,"display_name":"Michel Brito"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675771698,"creation_date":1675771698,"answer_id":75373133,"question_id":75331248,"body_markdown":"I found a response, you can add the environment variables in a singleton class using this code:\r\n\r\n    System.getenv(&quot;MY_ENV_VARIABLE&quot;);\r\n\r\nThis way, you get the environment variables.\r\n\r\nIf you really need to get the properties of applications.properties, you need to create a **Properties properties** variable, and then you can use this code:\r\n\r\n    try (InputStream input = YourSingletonClass.class.getClassLoader().getResourceAsStream(&quot;application.properties&quot;)) {\r\n            properties.load(input);\r\n    } catch (IOException e) {\r\n            e.printStackTrace();\r\n    }\r\n\r\nTo get the value of any propertie, use  **properties.getProperty(key);** where the &#39;key&#39; is the name of your propertie.\r\n\r\n\r\n","title":"ConnectionFactory doesn&#39;t recognize application.properties properties","body":"<p>I found a response, you can add the environment variables in a singleton class using this code:</p>\n<pre><code>System.getenv(&quot;MY_ENV_VARIABLE&quot;);\n</code></pre>\n<p>This way, you get the environment variables.</p>\n<p>If you really need to get the properties of applications.properties, you need to create a <strong>Properties properties</strong> variable, and then you can use this code:</p>\n<pre><code>try (InputStream input = YourSingletonClass.class.getClassLoader().getResourceAsStream(&quot;application.properties&quot;)) {\n        properties.load(input);\n} catch (IOException e) {\n        e.printStackTrace();\n}\n</code></pre>\n<p>To get the value of any propertie, use  <strong>properties.getProperty(key);</strong> where the 'key' is the name of your propertie.</p>\n"}],"owner":{"account_id":25701353,"reputation":11,"user_id":19461344,"display_name":"Michel Brito"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75373133,"answer_count":1,"score":1,"last_activity_date":1675771698,"creation_date":1675395443,"question_id":75331248,"body_markdown":"I have a ConnectionFactory class in order to use in my Jdbc Appender to save logs in a mysql database, but, I want to use properties in ConnectionFactory class to avoid leaving sensitive data exposed in the code, but, it is a singleton class, so its never get the values of my properties, the properties are always null. Can someone help me, is there any way to bring the application.properties properties into the ConnectionFactory?\r\n\r\nI have this ConnectionFactory class: \r\n\r\n```\r\nimport java.sql.Connection;\r\nimport java.sql.SQLException;\r\nimport java.util.Properties;\r\nimport javax.sql.DataSource;\r\nimport org.apache.commons.dbcp.DriverManagerConnectionFactory;\r\nimport org.apache.commons.dbcp.PoolableConnection;\r\nimport org.apache.commons.dbcp.PoolableConnectionFactory;\r\nimport org.apache.commons.dbcp.PoolingDataSource;\r\nimport org.apache.commons.pool.impl.GenericObjectPool;\r\nimport org.springframework.beans.factory.annotation.Value;\r\n\r\npublic class ConnectionFactory {\r\n    private static interface Singleton {\r\n        final ConnectionFactory INSTANCE = new ConnectionFactory();\r\n    }\r\n\r\n    private final DataSource dataSource;\r\n\r\n    @Value(&quot;${spring.datasource.user}&quot;)\r\n    private String user;\r\n    @Value(&quot;${spring.datasource.password}&quot;)\r\n    private String password;\r\n    @Value(&quot;${spring.datasource.url}&quot;)\r\n    private String url;\r\n\r\n    private ConnectionFactory() {\r\n        Properties properties = new Properties();\r\n        properties.setProperty(&quot;user&quot;, user);\r\n        properties.setProperty(&quot;password&quot;, password); // or get properties from some configuration file\r\n\r\n        GenericObjectPool&lt;PoolableConnection&gt; pool = new GenericObjectPool&lt;PoolableConnection&gt;();\r\n        DriverManagerConnectionFactory connectionFactory = new DriverManagerConnectionFactory(\r\n                url, properties\r\n        );\r\n        new PoolableConnectionFactory(\r\n                connectionFactory, pool, null, &quot;SELECT 1&quot;, 3, false, false, Connection.TRANSACTION_READ_COMMITTED\r\n        );\r\n\r\n        this.dataSource = new PoolingDataSource(pool);\r\n    }\r\n    public static Connection getDatabaseConnection() throws SQLException {\r\n        return Singleton.INSTANCE.dataSource.getConnection();\r\n    }\r\n```\r\n\r\nAnd, my application.properties:\r\n\r\n\r\n\r\n```\r\nspring.cloud.compatibility-verifier.enabled=false\r\n\r\n# database configs\r\nspring.datasource.url=jdbc:mysql://localhost:3306/myDatabase\r\nspring.datasource.username=root\r\nspring.datasource.password=\r\nspring.datasource.testWhileIdle=true\r\nspring.datasource.validationQuery=SELECT 1\r\nspring.jpa.show-sql=true\r\nspring.jpa.hibernate.ddl-auto=update\r\nspring.jpa.hibernate.naming-strategy=org.hibernate.cfg.ImprovedNamingStrategy\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL5Dialect\r\n```\r\n\r\nIs there any way to bring the properties into the ConnectionFactory class?\r\n\r\n\r\n","title":"ConnectionFactory doesn&#39;t recognize application.properties properties","body":"<p>I have a ConnectionFactory class in order to use in my Jdbc Appender to save logs in a mysql database, but, I want to use properties in ConnectionFactory class to avoid leaving sensitive data exposed in the code, but, it is a singleton class, so its never get the values of my properties, the properties are always null. Can someone help me, is there any way to bring the application.properties properties into the ConnectionFactory?</p>\n<p>I have this ConnectionFactory class:</p>\n<pre><code>import java.sql.Connection;\nimport java.sql.SQLException;\nimport java.util.Properties;\nimport javax.sql.DataSource;\nimport org.apache.commons.dbcp.DriverManagerConnectionFactory;\nimport org.apache.commons.dbcp.PoolableConnection;\nimport org.apache.commons.dbcp.PoolableConnectionFactory;\nimport org.apache.commons.dbcp.PoolingDataSource;\nimport org.apache.commons.pool.impl.GenericObjectPool;\nimport org.springframework.beans.factory.annotation.Value;\n\npublic class ConnectionFactory {\n    private static interface Singleton {\n        final ConnectionFactory INSTANCE = new ConnectionFactory();\n    }\n\n    private final DataSource dataSource;\n\n    @Value(&quot;${spring.datasource.user}&quot;)\n    private String user;\n    @Value(&quot;${spring.datasource.password}&quot;)\n    private String password;\n    @Value(&quot;${spring.datasource.url}&quot;)\n    private String url;\n\n    private ConnectionFactory() {\n        Properties properties = new Properties();\n        properties.setProperty(&quot;user&quot;, user);\n        properties.setProperty(&quot;password&quot;, password); // or get properties from some configuration file\n\n        GenericObjectPool&lt;PoolableConnection&gt; pool = new GenericObjectPool&lt;PoolableConnection&gt;();\n        DriverManagerConnectionFactory connectionFactory = new DriverManagerConnectionFactory(\n                url, properties\n        );\n        new PoolableConnectionFactory(\n                connectionFactory, pool, null, &quot;SELECT 1&quot;, 3, false, false, Connection.TRANSACTION_READ_COMMITTED\n        );\n\n        this.dataSource = new PoolingDataSource(pool);\n    }\n    public static Connection getDatabaseConnection() throws SQLException {\n        return Singleton.INSTANCE.dataSource.getConnection();\n    }\n</code></pre>\n<p>And, my application.properties:</p>\n<pre><code>spring.cloud.compatibility-verifier.enabled=false\n\n# database configs\nspring.datasource.url=jdbc:mysql://localhost:3306/myDatabase\nspring.datasource.username=root\nspring.datasource.password=\nspring.datasource.testWhileIdle=true\nspring.datasource.validationQuery=SELECT 1\nspring.jpa.show-sql=true\nspring.jpa.hibernate.ddl-auto=update\nspring.jpa.hibernate.naming-strategy=org.hibernate.cfg.ImprovedNamingStrategy\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL5Dialect\n</code></pre>\n<p>Is there any way to bring the properties into the ConnectionFactory class?</p>\n"},{"tags":["java","memory-leaks","try-with-resources"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":6,"creation_date":1675770451,"post_id":75372888,"comment_id":132996104,"body_markdown":"If the only method existing for closing a resource fails, what *can* you do? Nothing, obviously. You already did the best you can. Besides, I don’t understand why you call “try-with-resources” “optimistic”; it’s as defensive as Java code can be.","body":"If the only method existing for closing a resource fails, what <i>can</i> you do? Nothing, obviously. You already did the best you can. Besides, I don’t understand why you call “try-with-resources” “optimistic”; it’s as defensive as Java code can be."},{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":3,"creation_date":1675770530,"post_id":75372888,"comment_id":132996129,"body_markdown":"Assume you had some mechanism to re-try the close if the auto-close fails. What would you do if that fails? How many layers do you want to add? What would happen if the close fails but doesn&#39;t report it as an exception and just silently leaks resources? Some kinds of problems you simply can&#39;t code around ...","body":"Assume you had some mechanism to re-try the close if the auto-close fails. What would you do if that fails? How many layers do you want to add? What would happen if the close fails but doesn&#39;t report it as an exception and just silently leaks resources? Some kinds of problems you simply can&#39;t code around ..."},{"owner":{"account_id":349165,"reputation":559,"user_id":684296,"accept_rate":80,"display_name":"Newerth"},"score":1,"creation_date":1675770534,"post_id":75372888,"comment_id":132996131,"body_markdown":"Also you can never say &quot;yes&quot; to this unless you state that the answer covers your own code only.","body":"Also you can never say &quot;yes&quot; to this unless you state that the answer covers your own code only."},{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":4,"creation_date":1675770583,"post_id":75372888,"comment_id":132996148,"body_markdown":"Generally: try-with-resource is not automagically worse or better than manual code, but it sure as hell is better than at least 95% of all hand-written closing code I&#39;ve seen in the wild.","body":"Generally: try-with-resource is not automagically worse or better than manual code, but it sure as hell is better than at least 95% of all hand-written closing code I&#39;ve seen in the wild."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":3,"creation_date":1675770594,"post_id":75372888,"comment_id":132996151,"body_markdown":"&quot;Is it correct to say that this code is prone to a resource/memory leak?&quot; - try-with-resources was actually introduced to reduce the risk of a memory leak as developers might forget to close the resource in a traditional try-finally. And as Holger said, what would you do if closing fails?","body":"&quot;Is it correct to say that this code is prone to a resource/memory leak?&quot; - try-with-resources was actually introduced to reduce the risk of a memory leak as developers might forget to close the resource in a traditional try-finally. And as Holger said, what would you do if closing fails?"},{"owner":{"account_id":25435838,"reputation":316,"user_id":19239577,"display_name":"greenButMellow"},"score":0,"creation_date":1675770637,"post_id":75372888,"comment_id":132996165,"body_markdown":"Thanks for the answers! I think I understand the spirit of the answer. Should I delete the question though?","body":"Thanks for the answers! I think I understand the spirit of the answer. Should I delete the question though?"},{"owner":{"account_id":25435838,"reputation":316,"user_id":19239577,"display_name":"greenButMellow"},"score":0,"creation_date":1675770685,"post_id":75372888,"comment_id":132996178,"body_markdown":"@JoachimSauer, can you elaborate on that?","body":"@JoachimSauer, can you elaborate on that?"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1675770801,"post_id":75372888,"comment_id":132996215,"body_markdown":"What he means is: try-with-resources was introduced because people implemented all sorts of things using try/catch/finally ... and got that wrong. try-with-resources eliminates many things you can get wrong when implementing such logic manually.","body":"What he means is: try-with-resources was introduced because people implemented all sorts of things using try/catch/finally ... and got that wrong. try-with-resources eliminates many things you can get wrong when implementing such logic manually."},{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":3,"creation_date":1675770817,"post_id":75372888,"comment_id":132996222,"body_markdown":"@greenButMellow: try-with-resources can be re-implemented using the traditional try-catch-finally code, but it&#39;ll look quite wordy, due to the many possible cases it handles (including exceptions during the close). Most &quot;manual&quot; code that does the quivalent won&#39;t handle things like that. For example, if an exception happens *inside* the `try` and *another one* happens in the `close`. try-with-resources will report both of those (one as supressed).","body":"@greenButMellow: try-with-resources can be re-implemented using the traditional try-catch-finally code, but it&#39;ll look quite wordy, due to the many possible cases it handles (including exceptions during the close). Most &quot;manual&quot; code that does the quivalent won&#39;t handle things like that. For example, if an exception happens <i>inside</i> the <code>try</code> and <i>another one</i> happens in the <code>close</code>. try-with-resources will report both of those (one as supressed)."},{"owner":{"account_id":25435838,"reputation":316,"user_id":19239577,"display_name":"greenButMellow"},"score":0,"creation_date":1675771101,"post_id":75372888,"comment_id":132996308,"body_markdown":"@JoachimSauer, thanks! Can you refer me to the source code of try-with-resources?","body":"@JoachimSauer, thanks! Can you refer me to the source code of try-with-resources?"},{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":2,"creation_date":1675771242,"post_id":75372888,"comment_id":132996350,"body_markdown":"@greenButMellow: [the JLS gives the equivalent code](https://docs.oracle.com/javase/specs/jls/se17/html/jls-14.html#jls-14.20.3.1). [This SO question](https://stackoverflow.com/questions/23611940/) might be more readable, though.","body":"@greenButMellow: <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-14.html#jls-14.20.3.1\" rel=\"nofollow noreferrer\">the JLS gives the equivalent code</a>. <a href=\"https://stackoverflow.com/questions/23611940/\">This SO question</a> might be more readable, though."}],"answers":[{"comments":[{"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"score":2,"creation_date":1675771394,"post_id":75373036,"comment_id":132996382,"body_markdown":"This is an incorrect, or at least extremely badly stated answer. Specifically, _You are correct in your assumption that if an exception is thrown upon the freeing of transport, some memory leak will occur._ is just straight up false. There is nothing &#39;will&#39; about it. In fact, your quoted docs state the exact opposite: It&#39;s a &#39;should not&#39; case - implementors SHOULD NOT leak memory when closing/freeing is not fully possible, instead, they should free all resources and _then_ throw. The compiler/runtime cannot guarantee that implementors do it right... but then,","body":"This is an incorrect, or at least extremely badly stated answer. Specifically, <i>You are correct in your assumption that if an exception is thrown upon the freeing of transport, some memory leak will occur.</i> is just straight up false. There is nothing &#39;will&#39; about it. In fact, your quoted docs state the exact opposite: It&#39;s a &#39;should not&#39; case - implementors SHOULD NOT leak memory when closing/freeing is not fully possible, instead, they should free all resources and <i>then</i> throw. The compiler/runtime cannot guarantee that implementors do it right... but then,"},{"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"score":2,"creation_date":1675771431,"post_id":75373036,"comment_id":132996390,"body_markdown":"... we&#39;re down to the academic case of &#39;well, ALL code COULD be buggy, so NO guarantee could EVER hold&#39; which is stretching the concept far beyond any utility or meaning. Hence, misleading/incorrect.","body":"... we&#39;re down to the academic case of &#39;well, ALL code COULD be buggy, so NO guarantee could EVER hold&#39; which is stretching the concept far beyond any utility or meaning. Hence, misleading/incorrect."},{"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"score":2,"creation_date":1675771554,"post_id":75373036,"comment_id":132996428,"body_markdown":"Example: &quot;Does `String x = expr();` mean that `x` can only point to a String or null, that it can NEVER POSSIBLY point to, say, an `InputStream`? With this line of thinking, the answer is: &quot;No, it could point to an inputstream, if the JVM implementation is buggy / if you have a hacky classfile possibly due to a buggy `javac` and you turned the verifier off&quot;. Which is an answer so useless and misleading it&#39;s hard to tell the difference between that and &#39;outright false&#39;. For that same reason, the answer to this question is: &quot;NO&quot;, try-with does not hypothetically lead to memory leaks.","body":"Example: &quot;Does <code>String x = expr();</code> mean that <code>x</code> can only point to a String or null, that it can NEVER POSSIBLY point to, say, an <code>InputStream</code>? With this line of thinking, the answer is: &quot;No, it could point to an inputstream, if the JVM implementation is buggy / if you have a hacky classfile possibly due to a buggy <code>javac</code> and you turned the verifier off&quot;. Which is an answer so useless and misleading it&#39;s hard to tell the difference between that and &#39;outright false&#39;. For that same reason, the answer to this question is: &quot;NO&quot;, try-with does not hypothetically lead to memory leaks."}],"tags":[],"owner":{"account_id":14629875,"reputation":699,"user_id":10566045,"display_name":"TopchetoEU"},"comment_count":3,"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1675771587,"creation_date":1675771126,"answer_id":75373036,"question_id":75372888,"body_markdown":"You are correct in your assumption that if an exception is thrown upon the freeing of `transport`, some memory leak will occur, if the library you&#39;re using is bad. In normal circumstances, the `AutoCloseable` guarantees that all unmanaged resources will be freed, as the [Java documentation](https://docs.oracle.com/javase/8/docs/api/java/lang/AutoCloseable.html) states:\r\n\r\n&gt; While this interface method is declared to throw Exception, implementers are\r\n&gt; strongly encouraged to declare concrete implementations of the close\r\n&gt; method to throw more specific exceptions, or to throw no exception at\r\n&gt; all if the close operation cannot fail.\r\n&gt; \r\n&gt; Cases where the close operation may fail require careful attention by\r\n&gt; implementers. It is strongly advised to relinquish the underlying\r\n&gt; resources and to internally mark the resource as closed, prior to\r\n&gt; throwing the exception. The close method is unlikely to be invoked\r\n&gt; more than once and so this ensures that the resources are released in\r\n&gt; a timely manner. Furthermore it reduces problems that could arise when\r\n&gt; the resource wraps, or is wrapped, by another resource.\r\n&gt; \r\n&gt; Implementers of this interface are also strongly advised to not have\r\n&gt; the close method throw InterruptedException. This exception interacts\r\n&gt; with a thread&#39;s interrupted status, and runtime misbehavior is likely\r\n&gt; to occur if an InterruptedException is suppressed. More generally, if\r\n&gt; it would cause problems for an exception to be suppressed, the\r\n&gt; AutoCloseable.close method should not throw it.","title":"Can an optimistic try-with-resources cause a memory/resource leak over time?","body":"<p>You are correct in your assumption that if an exception is thrown upon the freeing of <code>transport</code>, some memory leak will occur, if the library you're using is bad. In normal circumstances, the <code>AutoCloseable</code> guarantees that all unmanaged resources will be freed, as the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/AutoCloseable.html\" rel=\"nofollow noreferrer\">Java documentation</a> states:</p>\n<blockquote>\n<p>While this interface method is declared to throw Exception, implementers are\nstrongly encouraged to declare concrete implementations of the close\nmethod to throw more specific exceptions, or to throw no exception at\nall if the close operation cannot fail.</p>\n<p>Cases where the close operation may fail require careful attention by\nimplementers. It is strongly advised to relinquish the underlying\nresources and to internally mark the resource as closed, prior to\nthrowing the exception. The close method is unlikely to be invoked\nmore than once and so this ensures that the resources are released in\na timely manner. Furthermore it reduces problems that could arise when\nthe resource wraps, or is wrapped, by another resource.</p>\n<p>Implementers of this interface are also strongly advised to not have\nthe close method throw InterruptedException. This exception interacts\nwith a thread's interrupted status, and runtime misbehavior is likely\nto occur if an InterruptedException is suppressed. More generally, if\nit would cause problems for an exception to be suppressed, the\nAutoCloseable.close method should not throw it.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":true,"score":3,"last_activity_date":1675771295,"creation_date":1675771295,"answer_id":75373070,"question_id":75372888,"body_markdown":"The answer is &#39;theoretically, yes, pragmatically, no&#39;. In the sense that:\r\n\r\n&gt; So is it correct to say that this code is prone to a resource/memory leak?\r\n\r\nIf this is &#39;yes&#39;, then\r\n\r\n&gt; If the answer&#39;s yes, then what should a program do in such case?\r\n\r\nThere is __absolutely nothing__ you can do in this hypothetical, silly case.\r\n\r\nHence why it&#39;s pragmatically speaking no.\r\n\r\n## So how can it fail?\r\n\r\nThe code you wrote is syntax sugar. It&#39;s the same as this:\r\n\r\n```\r\ntry {\r\n  Transport transport = session.getTransport(&quot;smtp&quot;);\r\n  try {\r\n    transport.connect();\r\n  } finally {\r\n    try {\r\n     transport.close();\r\n    } catch (Throwable t) {\r\n      if (we got here because the try block threw) {\r\n        theExceptionThatGotUsHere.addSuppressed(t);\r\n        throw theExceptionThatGotUsHere;\r\n      } else {\r\n        throw t;\r\n      }\r\n    }\r\n  }\r\n} catch (MessagingException ignored) {}\r\n```\r\n\r\nYou see why java has syntax sugar for that mess. In essence, __it just does the same thing we used to do__, with the one upside that if `close()` throws an exception, java takes some pains to ensure this does not end up confuscating the exception thrown by the main body. Generally if the flow goes:\r\n\r\n* Write to some resource a bunch\r\n* Eventually due to, say, someone yanking a disk right out, an IOException occurs explaining that someone yanked a disk out.\r\n* We get to the &#39;resource safety&#39; part of the code which calls `close()` on an `OutputStream` that is already tainted and that has already thrown. This, itself, _also_ throws.\r\n* The first exception is more useful than the second; they are both IOExceptions and will cause the same code flow, just, the first one has a &#39;better&#39; stack trace and a &#39;better&#39; message (&#39;better&#39; in the sense that they will more easily lead to fixing the bug).\r\n\r\nHence, perhaps, it&#39;s essentially as simple as:\r\n\r\n```\r\ntry {\r\n  Transport transport = session.getTransport(&quot;smtp&quot;);\r\n  try {\r\n    transport.connect();\r\n  } finally {\r\n    transport.close();\r\n  }\r\n} catch (MessagingException ignored) {}\r\n```\r\n\r\nSo, how can this fail? Simple: If `close()` itself can no longer close the resource.\r\n\r\nHowever:\r\n\r\n* That means there is __nothing you can do from within java__. The &#39;go to&#39; answer is the very last snippet: Really really try, in a `finally` block, but that&#39;s with try-with-resources already does.\r\n* This __just is not relevant__. All java APIs with a close method __will close the resource__. They just do. &quot;Yeah but what if they don&#39;t&quot;. Okay. What if the moon is made of cheese?\r\n\r\nSpecifically, the close() may fail, but what they won&#39;t do, is cause a resource/memory leak even if they fail. What DOES happen is the following:\r\n\r\n* Due to circumstances (Such as yanking a disk out, a network router going belly up, etc), a resource becomes &#39;invalid&#39; and any attempt to interact with it throws exceptions.\r\n* Notably, so does `close()`, this is important in particular for _output_ streams, where `close()` throwing cannot safely be ignored, it means not all data is guaranteed to have arrived where you sent it, you should handle an exception in an output stream&#39;s close() call no different than in a write call().\r\n* The underlying resources that the stream is taking up __were already released when it became invalid__. For memory leak/resources purposes, you already no longer had to invoke `close()` on this.\r\n* Alternatively, the `close()` call cleans up resources (releases OS-level file handles, that sort of thing), and __then__ throws the exception, to ensure you know that the write did not necessarily succeed.\r\n\r\n","title":"Can an optimistic try-with-resources cause a memory/resource leak over time?","body":"<p>The answer is 'theoretically, yes, pragmatically, no'. In the sense that:</p>\n<blockquote>\n<p>So is it correct to say that this code is prone to a resource/memory leak?</p>\n</blockquote>\n<p>If this is 'yes', then</p>\n<blockquote>\n<p>If the answer's yes, then what should a program do in such case?</p>\n</blockquote>\n<p>There is <strong>absolutely nothing</strong> you can do in this hypothetical, silly case.</p>\n<p>Hence why it's pragmatically speaking no.</p>\n<h2>So how can it fail?</h2>\n<p>The code you wrote is syntax sugar. It's the same as this:</p>\n<pre><code>try {\n  Transport transport = session.getTransport(&quot;smtp&quot;);\n  try {\n    transport.connect();\n  } finally {\n    try {\n     transport.close();\n    } catch (Throwable t) {\n      if (we got here because the try block threw) {\n        theExceptionThatGotUsHere.addSuppressed(t);\n        throw theExceptionThatGotUsHere;\n      } else {\n        throw t;\n      }\n    }\n  }\n} catch (MessagingException ignored) {}\n</code></pre>\n<p>You see why java has syntax sugar for that mess. In essence, <strong>it just does the same thing we used to do</strong>, with the one upside that if <code>close()</code> throws an exception, java takes some pains to ensure this does not end up confuscating the exception thrown by the main body. Generally if the flow goes:</p>\n<ul>\n<li>Write to some resource a bunch</li>\n<li>Eventually due to, say, someone yanking a disk right out, an IOException occurs explaining that someone yanked a disk out.</li>\n<li>We get to the 'resource safety' part of the code which calls <code>close()</code> on an <code>OutputStream</code> that is already tainted and that has already thrown. This, itself, <em>also</em> throws.</li>\n<li>The first exception is more useful than the second; they are both IOExceptions and will cause the same code flow, just, the first one has a 'better' stack trace and a 'better' message ('better' in the sense that they will more easily lead to fixing the bug).</li>\n</ul>\n<p>Hence, perhaps, it's essentially as simple as:</p>\n<pre><code>try {\n  Transport transport = session.getTransport(&quot;smtp&quot;);\n  try {\n    transport.connect();\n  } finally {\n    transport.close();\n  }\n} catch (MessagingException ignored) {}\n</code></pre>\n<p>So, how can this fail? Simple: If <code>close()</code> itself can no longer close the resource.</p>\n<p>However:</p>\n<ul>\n<li>That means there is <strong>nothing you can do from within java</strong>. The 'go to' answer is the very last snippet: Really really try, in a <code>finally</code> block, but that's with try-with-resources already does.</li>\n<li>This <strong>just is not relevant</strong>. All java APIs with a close method <strong>will close the resource</strong>. They just do. &quot;Yeah but what if they don't&quot;. Okay. What if the moon is made of cheese?</li>\n</ul>\n<p>Specifically, the close() may fail, but what they won't do, is cause a resource/memory leak even if they fail. What DOES happen is the following:</p>\n<ul>\n<li>Due to circumstances (Such as yanking a disk out, a network router going belly up, etc), a resource becomes 'invalid' and any attempt to interact with it throws exceptions.</li>\n<li>Notably, so does <code>close()</code>, this is important in particular for <em>output</em> streams, where <code>close()</code> throwing cannot safely be ignored, it means not all data is guaranteed to have arrived where you sent it, you should handle an exception in an output stream's close() call no different than in a write call().</li>\n<li>The underlying resources that the stream is taking up <strong>were already released when it became invalid</strong>. For memory leak/resources purposes, you already no longer had to invoke <code>close()</code> on this.</li>\n<li>Alternatively, the <code>close()</code> call cleans up resources (releases OS-level file handles, that sort of thing), and <strong>then</strong> throws the exception, to ensure you know that the write did not necessarily succeed.</li>\n</ul>\n"}],"owner":{"account_id":25435838,"reputation":316,"user_id":19239577,"display_name":"greenButMellow"},"comment_count":11,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":408,"favorite_count":0,"down_vote_count":2,"up_vote_count":4,"closed_date":1675806847,"accepted_answer_id":75373070,"answer_count":2,"score":2,"last_activity_date":1675771587,"creation_date":1675770234,"question_id":75372888,"body_markdown":"Consider the following code:\r\n```\r\ntry (Transport transport = session.getTransport(&quot;smtp&quot;)) {\r\n    transport.connect();\r\n} catch (MessagingException ignored) {}\r\n```\r\n\r\nWhat if, for some reason the auto-close fails? That might leave internally some file handler open (maybe not with SMTP but in general)\r\n\r\nSo is it correct to say that this code is prone to a resource/memory leak?\r\n\r\nIf the answer&#39;s yes, then what should a program do in such case?","title":"Can an optimistic try-with-resources cause a memory/resource leak over time?","body":"<p>Consider the following code:</p>\n<pre><code>try (Transport transport = session.getTransport(&quot;smtp&quot;)) {\n    transport.connect();\n} catch (MessagingException ignored) {}\n</code></pre>\n<p>What if, for some reason the auto-close fails? That might leave internally some file handler open (maybe not with SMTP but in general)</p>\n<p>So is it correct to say that this code is prone to a resource/memory leak?</p>\n<p>If the answer's yes, then what should a program do in such case?</p>\n"},{"tags":["java","jsoup"],"answers":[{"tags":[],"owner":{"account_id":1046868,"reputation":5163,"user_id":1051677,"accept_rate":100,"display_name":"Silviu Burcea"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675771185,"creation_date":1675771185,"answer_id":75373048,"question_id":75372989,"body_markdown":"You want to add a 3rd party lib to a Maven project, if I understand correctly, which is already answered here: https://stackoverflow.com/questions/396245/add-a-dependency-in-maven\r\n\r\nHowever, in your case, there is no need to install the jar in your local Maven repository as Jsoup is already available on Maven: https://mvnrepository.com/artifact/org.jsoup/jsoup/1.15.3\r\n\r\nDon&#39;t forget to add `requires org.jsoup;` to your `module-info.java`.","title":"Using Jsoup in Java - get not accessible","body":"<p>You want to add a 3rd party lib to a Maven project, if I understand correctly, which is already answered here: <a href=\"https://stackoverflow.com/questions/396245/add-a-dependency-in-maven\">Add a dependency in Maven</a></p>\n<p>However, in your case, there is no need to install the jar in your local Maven repository as Jsoup is already available on Maven: <a href=\"https://mvnrepository.com/artifact/org.jsoup/jsoup/1.15.3\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.jsoup/jsoup/1.15.3</a></p>\n<p>Don't forget to add <code>requires org.jsoup;</code> to your <code>module-info.java</code>.</p>\n"}],"owner":{"account_id":9032481,"reputation":1228,"user_id":6729603,"accept_rate":58,"display_name":"Captai-N"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675771185,"creation_date":1675770845,"question_id":75372989,"body_markdown":"I&#39;m trying to use Jsoup in a Java project. For this I have included the Jar File in Referenced Libraries. However, I keep getting &#39;The type org.jsoup.Jsoup is not accessible&#39; error\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ucP0k.png\r\n\r\n\r\n&gt; The type org.jsoup.Jsoup is not accessible","title":"Using Jsoup in Java - get not accessible","body":"<p>I'm trying to use Jsoup in a Java project. For this I have included the Jar File in Referenced Libraries. However, I keep getting 'The type org.jsoup.Jsoup is not accessible' error</p>\n<p><a href=\"https://i.stack.imgur.com/ucP0k.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ucP0k.png\" alt=\"enter image description here\" /></a></p>\n<blockquote>\n<p>The type org.jsoup.Jsoup is not accessible</p>\n</blockquote>\n"},{"tags":["java","lua","interface","mocking"],"comments":[{"owner":{"account_id":8238102,"reputation":20388,"user_id":6196568,"display_name":"shingo"},"score":0,"creation_date":1675761293,"post_id":75370950,"comment_id":132993167,"body_markdown":"Why do you need an interface? If in Java/C# IComponentManager/IDevice are classes, don&#39;t you have a way to mock them?","body":"Why do you need an interface? If in Java/C# IComponentManager/IDevice are classes, don&#39;t you have a way to mock them?"},{"owner":{"account_id":18039245,"reputation":355,"user_id":13111872,"display_name":"Atom"},"score":0,"creation_date":1675769963,"post_id":75370950,"comment_id":132995957,"body_markdown":"I&#39;m just using Java/C# to demonstrate what I&#39;d like to do (detaching functionality from implementation using an interface, or as you say by mocking for testing), but I have to write this program in Lua.","body":"I&#39;m just using Java/C# to demonstrate what I&#39;d like to do (detaching functionality from implementation using an interface, or as you say by mocking for testing), but I have to write this program in Lua."},{"owner":{"account_id":18039245,"reputation":355,"user_id":13111872,"display_name":"Atom"},"score":0,"creation_date":1675770782,"post_id":75370950,"comment_id":132996210,"body_markdown":"I&#39;ve now updated the question to clarify this @shingo","body":"I&#39;ve now updated the question to clarify this @shingo"},{"owner":{"account_id":8238102,"reputation":20388,"user_id":6196568,"display_name":"shingo"},"score":1,"creation_date":1675771945,"post_id":75370950,"comment_id":132996552,"body_markdown":"Lua is not strongly typed language. In a strongly typed language you need interfaces because you HAVE TO defined the type of parameters and return values, number of parameters before you can use them. But in lua, it&#39;s unrestricted, you can even replace the whole `component` if you wish to. Lua doesn&#39;t care what `component` is. You just need to know the name of fields and methods.","body":"Lua is not strongly typed language. In a strongly typed language you need interfaces because you HAVE TO defined the type of parameters and return values, number of parameters before you can use them. But in lua, it&#39;s unrestricted, you can even replace the whole <code>component</code> if you wish to. Lua doesn&#39;t care what <code>component</code> is. You just need to know the name of fields and methods."},{"owner":{"account_id":18039245,"reputation":355,"user_id":13111872,"display_name":"Atom"},"score":0,"creation_date":1675873665,"post_id":75370950,"comment_id":133022809,"body_markdown":"So @shingo would the best practise be to make another module with the functions implemented that I want?","body":"So @shingo would the best practise be to make another module with the functions implemented that I want?"},{"owner":{"account_id":8238102,"reputation":20388,"user_id":6196568,"display_name":"shingo"},"score":0,"creation_date":1675914980,"post_id":75370950,"comment_id":133031803,"body_markdown":"Yes, implement what you want.","body":"Yes, implement what you want."}],"owner":{"account_id":18039245,"reputation":355,"user_id":13111872,"display_name":"Atom"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675771109,"creation_date":1675760148,"question_id":75370950,"body_markdown":"**Preamble** \r\n\r\nI am writing Lua code to control virtual devices attached to a virtual computer. I do not have control over the &quot;component&quot; library/dependency.\r\n\r\n```lua\r\n-- Component is used to access other devices which are attached to the computer on which this is running\r\nlocal component = require &quot;component&quot;\r\n\r\n-- ...\r\n\r\n-- ge_terminal is a device which is connected. \r\n-- Said device is found when the computer starts up\r\n-- So the ge_terminal field/property is not hard-coded, but added at runtime\r\ncomponent.ge_terminal.get_heat()\r\n```\r\n\r\nSuch calls are very common in my program. My issue is that I do not have access to the external component to which `component.ge_terminal` refers within my development/testing environment.\r\n\r\n**The Question**\r\n\r\nI would like to know how to abstract calls to external components/devices to so that I can test the business-logic without access said external components/devices.\r\n\r\n**Solutions in other languages**\r\n\r\nIn other languages such as Java or C#, this might be achieved using an interface, or by mocking the external dependency during testing. I would ideally like to find a solution which does not involve additional libraries (which I  do know exist for mocking in Lua).\r\n\r\n```java\r\n\r\ninterface IComponentManager {\r\n    String getProperty(String name) { ... }\r\n}\r\n\r\ninterface IDevice {\r\n    String getProperty(String name) { ... }\r\n}\r\n\r\n// By abstracting how components are accessed, the production versions can be replaced with mock versions.\r\n// The production version calls the live equivalent of &quot;component.ge_terminal&quot; to return the real device.\r\n// The mock version returns custom IDevices which can be configured for testing.\r\nIComponentManager manager = new ProductionComponentManager();\r\nIComponentManager manager = new MockComponentManager();\r\n\r\nIDevice device = manager.getComponent(&quot;ge_terminal&quot;);\r\nString heat = device.getProperty(&quot;heat&quot;);\r\n```\r\n\r\n(I am aware that this is not prime Java code, but it&#39;s just for demonstration)","title":"Interfaces in Lua (mocking dependencies)","body":"<p><strong>Preamble</strong></p>\n<p>I am writing Lua code to control virtual devices attached to a virtual computer. I do not have control over the &quot;component&quot; library/dependency.</p>\n<pre class=\"lang-lua prettyprint-override\"><code>-- Component is used to access other devices which are attached to the computer on which this is running\nlocal component = require &quot;component&quot;\n\n-- ...\n\n-- ge_terminal is a device which is connected. \n-- Said device is found when the computer starts up\n-- So the ge_terminal field/property is not hard-coded, but added at runtime\ncomponent.ge_terminal.get_heat()\n</code></pre>\n<p>Such calls are very common in my program. My issue is that I do not have access to the external component to which <code>component.ge_terminal</code> refers within my development/testing environment.</p>\n<p><strong>The Question</strong></p>\n<p>I would like to know how to abstract calls to external components/devices to so that I can test the business-logic without access said external components/devices.</p>\n<p><strong>Solutions in other languages</strong></p>\n<p>In other languages such as Java or C#, this might be achieved using an interface, or by mocking the external dependency during testing. I would ideally like to find a solution which does not involve additional libraries (which I  do know exist for mocking in Lua).</p>\n<pre class=\"lang-java prettyprint-override\"><code>\ninterface IComponentManager {\n    String getProperty(String name) { ... }\n}\n\ninterface IDevice {\n    String getProperty(String name) { ... }\n}\n\n// By abstracting how components are accessed, the production versions can be replaced with mock versions.\n// The production version calls the live equivalent of &quot;component.ge_terminal&quot; to return the real device.\n// The mock version returns custom IDevices which can be configured for testing.\nIComponentManager manager = new ProductionComponentManager();\nIComponentManager manager = new MockComponentManager();\n\nIDevice device = manager.getComponent(&quot;ge_terminal&quot;);\nString heat = device.getProperty(&quot;heat&quot;);\n</code></pre>\n<p>(I am aware that this is not prime Java code, but it's just for demonstration)</p>\n"},{"tags":["java","swing","jframe","jpanel"],"answers":[{"comments":[{"owner":{"account_id":2901403,"reputation":3065,"user_id":2487995,"accept_rate":73,"display_name":"Doug Hauf"},"score":0,"creation_date":1391897607,"post_id":1783838,"comment_id":32724972,"body_markdown":"Can you show a full example of setPreferredSize(...). I  think that this would be helpful.","body":"Can you show a full example of setPreferredSize(...). I  think that this would be helpful."}],"tags":[],"owner":{"account_id":21671,"reputation":21944,"user_id":52888,"accept_rate":67,"display_name":"Glen"},"comment_count":1,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1258989984,"creation_date":1258989984,"answer_id":1783838,"question_id":1783793,"body_markdown":"`setSize` will resize the component to the specified size.\r\n\r\n`setPreferredSize` sets the preferred size.  The component may not actually be this size depending on the size of the container it&#39;s in, or if the user re-sized the component manually.","title":"Java: Difference between the setPreferredSize() and setSize() methods in components","body":"<p><code>setSize</code> will resize the component to the specified size.</p>\n\n<p><code>setPreferredSize</code> sets the preferred size.  The component may not actually be this size depending on the size of the container it's in, or if the user re-sized the component manually.</p>\n"},{"comments":[{"owner":{"account_id":59883,"reputation":9527,"user_id":179057,"accept_rate":100,"display_name":"David Robles"},"score":0,"creation_date":1258990355,"post_id":1783868,"comment_id":1670430,"body_markdown":"and what if I add two jpanels to a jframe without specifying a layout manager explicitly for the jframe? what method should i used to set the size of the jpanels?","body":"and what if I add two jpanels to a jframe without specifying a layout manager explicitly for the jframe? what method should i used to set the size of the jpanels?"},{"owner":{"account_id":32277,"reputation":183150,"user_id":89391,"accept_rate":79,"display_name":"miku"},"score":3,"creation_date":1258990577,"post_id":1783868,"comment_id":1670460,"body_markdown":"Content panes use BorderLayout by default (http://java.sun.com/docs/books/tutorial/uiswing/layout/using.html). So the JFrame&#39;s contentpane has a LayoutManager, so setPreferredSize _should_ work ..","body":"Content panes use BorderLayout by default (<a href=\"http://java.sun.com/docs/books/tutorial/uiswing/layout/using.html\" rel=\"nofollow noreferrer\">java.sun.com/docs/books/tutorial/uiswing/layout/using.html</a>)&zwnj;&#8203;. So the JFrame&#39;s contentpane has a LayoutManager, so setPreferredSize <i>should</i> work .."},{"owner":{"account_id":59883,"reputation":9527,"user_id":179057,"accept_rate":100,"display_name":"David Robles"},"score":0,"creation_date":1258990721,"post_id":1783868,"comment_id":1670478,"body_markdown":"Sounds good, that means I should use setSize for the JFrame and setPreferredSize for the components inside","body":"Sounds good, that means I should use setSize for the JFrame and setPreferredSize for the components inside"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1258995956,"post_id":1783868,"comment_id":1671188,"body_markdown":"You would generally use frame.pack() to take advantage of the calculated preferred size of all the child components. Otherwise if you just randomly use frame.setSize(), then the components added to the content pane will expand/contract to fit the space available, which means the preferred size of each component may be overridden.","body":"You would generally use frame.pack() to take advantage of the calculated preferred size of all the child components. Otherwise if you just randomly use frame.setSize(), then the components added to the content pane will expand/contract to fit the space available, which means the preferred size of each component may be overridden."}],"tags":[],"owner":{"account_id":32277,"reputation":183150,"user_id":89391,"accept_rate":79,"display_name":"miku"},"comment_count":4,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1258990194,"creation_date":1258990194,"answer_id":1783868,"question_id":1783793,"body_markdown":"IIRC ...\r\n\r\n``setSize`` sets the size of the component.\r\n\r\n``setPreferredSize`` sets the preferred size. \r\nThe Layoutmanager will try to arrange that much space for your component.\r\n\r\nIt depends on whether you&#39;re using a layout manager or not ...","title":"Java: Difference between the setPreferredSize() and setSize() methods in components","body":"<p>IIRC ...</p>\n\n<p><code>setSize</code> sets the size of the component.</p>\n\n<p><code>setPreferredSize</code> sets the preferred size. \nThe Layoutmanager will try to arrange that much space for your component.</p>\n\n<p>It depends on whether you're using a layout manager or not ...</p>\n"},{"comments":[{"owner":{"account_id":59883,"reputation":9527,"user_id":179057,"accept_rate":100,"display_name":"David Robles"},"score":1,"creation_date":1258990557,"post_id":1783880,"comment_id":1670455,"body_markdown":"I thought a component was using a layout manager by default (BorderLayout?), so if I don&#39;t explicitly set a layout manager does that mean I should use setSize() instead of setPreferredSize()?","body":"I thought a component was using a layout manager by default (BorderLayout?), so if I don&#39;t explicitly set a layout manager does that mean I should use setSize() instead of setPreferredSize()?"},{"owner":{"account_id":44859,"reputation":11344,"user_id":131889,"accept_rate":67,"display_name":"Sbodd"},"score":3,"creation_date":1258992329,"post_id":1783880,"comment_id":1670704,"body_markdown":"I believe JPanels use BorderLayout by default, but JComponent has no default layout.  Most of the time, you&#39;re better off setting a layout manager if you&#39;ll be adding something instead of using setSize().","body":"I believe JPanels use BorderLayout by default, but JComponent has no default layout.  Most of the time, you&#39;re better off setting a layout manager if you&#39;ll be adding something instead of using setSize()."},{"owner":{"account_id":6508,"reputation":16117,"user_id":10973,"accept_rate":94,"display_name":"Kevin Day"},"score":10,"creation_date":1259035524,"post_id":1783880,"comment_id":1674705,"body_markdown":"My recommendation is to always use a layout manager.  SetSize() should be thought of as something that the layout manager calls - not something that you call.","body":"My recommendation is to always use a layout manager.  SetSize() should be thought of as something that the layout manager calls - not something that you call."},{"owner":{"account_id":15550,"reputation":3041,"user_id":32965,"accept_rate":100,"display_name":"Nemi"},"score":9,"creation_date":1259109003,"post_id":1783880,"comment_id":1681507,"body_markdown":"@Sbodd - JPanels have a FlowLayout by default. JFrame.getContentPane() has a BorderLayout by default.","body":"@Sbodd - JPanels have a FlowLayout by default. JFrame.getContentPane() has a BorderLayout by default."},{"owner":{"account_id":5730472,"reputation":162,"user_id":13350324,"display_name":"Brian"},"score":0,"creation_date":1642095734,"post_id":1783880,"comment_id":124986830,"body_markdown":"By the way one useful fact is that if you e.g. setPreferredSize() of a Frame to something very wide, e.g. 1920 pixels, then someone running in e.g. 1600 resolution will still receive a window that &quot;fits their screen&quot;. That&#39;s the question I came here looking for, and since I couldn&#39;t find the explicit answer on SO I &quot;took one for the team&quot; and tested it manually :) -- so anyway thought I&#39;d at least mention that here.","body":"By the way one useful fact is that if you e.g. setPreferredSize() of a Frame to something very wide, e.g. 1920 pixels, then someone running in e.g. 1600 resolution will still receive a window that &quot;fits their screen&quot;. That&#39;s the question I came here looking for, and since I couldn&#39;t find the explicit answer on SO I &quot;took one for the team&quot; and tested it manually :) -- so anyway thought I&#39;d at least mention that here."}],"tags":[],"owner":{"account_id":44859,"reputation":11344,"user_id":131889,"accept_rate":67,"display_name":"Sbodd"},"comment_count":5,"down_vote_count":0,"up_vote_count":129,"is_accepted":true,"score":129,"last_activity_date":1595097034,"creation_date":1258990338,"answer_id":1783880,"question_id":1783793,"body_markdown":"Usage depends on whether the component&#39;s parent has a layout manager or not.\r\n\r\n* `setSize()` -- use when a parent layout manager does not exist;\r\n* `setPreferredSize()` (also its related `setMinimumSize` and `setMaximumSize`) -- use when a parent layout manager exists.\r\n\r\nThe `setSize()` method probably won&#39;t do anything if the component&#39;s parent is using a layout manager; the places this will typically have an effect would be on top-level components (`JFrame`s and `JWindow`s) and things that are inside of scrolled panes.  You also must call `setSize()` if you&#39;ve got components inside a parent without a layout manager.\r\n\r\nGenerally, `setPreferredSize()` will lay out the components as expected if a layout manager is present; most layout managers work by getting the preferred (as well as minimum and maximum) sizes of their components, then using `setSize()` and `setLocation()` to position those components according to the layout&#39;s rules.\r\n\r\nFor example, a `BorderLayout` tries to make the bounds of its &quot;north&quot; region equal to the preferred size of its north component---they may end up larger or smaller than that, depending on the size of the `JFrame`, the size of the other components in the layout, and so on.\r\n","title":"Java: Difference between the setPreferredSize() and setSize() methods in components","body":"<p>Usage depends on whether the component's parent has a layout manager or not.</p>\n<ul>\n<li><code>setSize()</code> -- use when a parent layout manager does not exist;</li>\n<li><code>setPreferredSize()</code> (also its related <code>setMinimumSize</code> and <code>setMaximumSize</code>) -- use when a parent layout manager exists.</li>\n</ul>\n<p>The <code>setSize()</code> method probably won't do anything if the component's parent is using a layout manager; the places this will typically have an effect would be on top-level components (<code>JFrame</code>s and <code>JWindow</code>s) and things that are inside of scrolled panes.  You also must call <code>setSize()</code> if you've got components inside a parent without a layout manager.</p>\n<p>Generally, <code>setPreferredSize()</code> will lay out the components as expected if a layout manager is present; most layout managers work by getting the preferred (as well as minimum and maximum) sizes of their components, then using <code>setSize()</code> and <code>setLocation()</code> to position those components according to the layout's rules.</p>\n<p>For example, a <code>BorderLayout</code> tries to make the bounds of its &quot;north&quot; region equal to the preferred size of its north component---they may end up larger or smaller than that, depending on the size of the <code>JFrame</code>, the size of the other components in the layout, and so on.</p>\n"},{"tags":[],"owner":{"account_id":4203,"reputation":1014,"user_id":6243,"accept_rate":70,"display_name":"Varun"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1369498535,"creation_date":1258991862,"answer_id":1784064,"question_id":1783793,"body_markdown":"`setSize()` or `setBounds()` can be used when no layout manager is being used.\r\n\r\nHowever, if you are using a layout manager you can provide hints to the layout manager using the `setXXXSize()` methods like `setPreferredSize()` and `setMinimumSize()` etc. \r\n\r\nAnd be sure that the component&#39;s container uses a layout manager that respects the requested size. The `FlowLayout`, `GridBagLayout`, and `SpringLayout` managers use the component&#39;s preferred size (the latter two depending on the constraints you set), but `BorderLayout` and `GridLayout` usually don&#39;t.If you specify new size hints for a component that&#39;s already visible, you need to invoke the revalidate method on it to make sure that its containment hierarchy is laid out again. Then invoke the repaint method.","title":"Java: Difference between the setPreferredSize() and setSize() methods in components","body":"<p><code>setSize()</code> or <code>setBounds()</code> can be used when no layout manager is being used.</p>\n\n<p>However, if you are using a layout manager you can provide hints to the layout manager using the <code>setXXXSize()</code> methods like <code>setPreferredSize()</code> and <code>setMinimumSize()</code> etc. </p>\n\n<p>And be sure that the component's container uses a layout manager that respects the requested size. The <code>FlowLayout</code>, <code>GridBagLayout</code>, and <code>SpringLayout</code> managers use the component's preferred size (the latter two depending on the constraints you set), but <code>BorderLayout</code> and <code>GridLayout</code> usually don't.If you specify new size hints for a component that's already visible, you need to invoke the revalidate method on it to make sure that its containment hierarchy is laid out again. Then invoke the repaint method.</p>\n"},{"tags":[],"owner":{"account_id":27197768,"reputation":101,"user_id":21103898,"display_name":"Зонтик"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675771022,"creation_date":1675771022,"answer_id":75373020,"question_id":1783793,"body_markdown":"In addition to the fact that `setSize()` should be used in the absence of a layout manager, and `setPreferredSize()` - when there is no layout manager, there is another difference. 1 takes two numbers in the parameters, and `setPreferredSize()` takes an object of class `java.awt.Dimension`:\r\n```\r\nJFrame frame = new JFrame(&quot;Test&quot;);\r\nframe.setSize(200,300); //numbers\r\nframe.setPreferredSize(new java.awt.Dimension(200,300)); //an object of java.awt.Dimension\r\n```","title":"Java: Difference between the setPreferredSize() and setSize() methods in components","body":"<p>In addition to the fact that <code>setSize()</code> should be used in the absence of a layout manager, and <code>setPreferredSize()</code> - when there is no layout manager, there is another difference. 1 takes two numbers in the parameters, and <code>setPreferredSize()</code> takes an object of class <code>java.awt.Dimension</code>:</p>\n<pre><code>JFrame frame = new JFrame(&quot;Test&quot;);\nframe.setSize(200,300); //numbers\nframe.setPreferredSize(new java.awt.Dimension(200,300)); //an object of java.awt.Dimension\n</code></pre>\n"}],"owner":{"account_id":59883,"reputation":9527,"user_id":179057,"accept_rate":100,"display_name":"David Robles"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":137596,"favorite_count":0,"down_vote_count":0,"up_vote_count":112,"accepted_answer_id":1783880,"answer_count":5,"score":112,"last_activity_date":1675771022,"creation_date":1258989693,"question_id":1783793,"body_markdown":"What is the main difference between `setSize()` and `setPreferredSize()`. Sometimes I used [`setSize()`](http://docs.oracle.com/javase/6/docs/api/java/awt/Component.html#setSize%28int,%20int%29), sometimes [`setPreferredSize()`](http://docs.oracle.com/javase/6/docs/api/java/awt/Component.html#setPreferredSize%28java.awt.Dimension%29), sometimes one does what I want, sometimes the other.\r\n\r\nWhat call should I use for `JFrame`s and `JPanel`s?\r\n","title":"Java: Difference between the setPreferredSize() and setSize() methods in components","body":"<p>What is the main difference between <code>setSize()</code> and <code>setPreferredSize()</code>. Sometimes I used <a href=\"http://docs.oracle.com/javase/6/docs/api/java/awt/Component.html#setSize%28int,%20int%29\" rel=\"noreferrer\"><code>setSize()</code></a>, sometimes <a href=\"http://docs.oracle.com/javase/6/docs/api/java/awt/Component.html#setPreferredSize%28java.awt.Dimension%29\" rel=\"noreferrer\"><code>setPreferredSize()</code></a>, sometimes one does what I want, sometimes the other.</p>\n<p>What call should I use for <code>JFrame</code>s and <code>JPanel</code>s?</p>\n"},{"tags":["java","spring","spring-data-mongodb"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1675776443,"post_id":75373008,"comment_id":132998037,"body_markdown":"In short no. Minimum is Spring 5.1 which is what is being used to build it, so it expects the api&#39;s etc. to be available. You can probably work around this error (slightly) to run into the next, and the next and the next. I would strongly suggest to upgrade to Spring 5.3 as that is still maintained, Spring 4.3 hasn&#39;t been maintained for a long time.","body":"In short no. Minimum is Spring 5.1 which is what is being used to build it, so it expects the api&#39;s etc. to be available. You can probably work around this error (slightly) to run into the next, and the next and the next. I would strongly suggest to upgrade to Spring 5.3 as that is still maintained, Spring 4.3 hasn&#39;t been maintained for a long time."},{"owner":{"account_id":2073128,"reputation":427,"user_id":1847148,"accept_rate":25,"display_name":"b3lowster"},"score":0,"creation_date":1675776670,"post_id":75373008,"comment_id":132998100,"body_markdown":"@M.Deinum Updating spring framework version is not an option :(\nMuch easier to downgrade version of spring data.\n\nBut I thought that Spring Framework 4.3.x and Spring Data MongoDB 2.1.x are compatible. Isn&#39;t it?","body":"@M.Deinum Updating spring framework version is not an option :( Much easier to downgrade version of spring data.  But I thought that Spring Framework 4.3.x and Spring Data MongoDB 2.1.x are compatible. Isn&#39;t it?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1675777099,"post_id":75373008,"comment_id":132998246,"body_markdown":"No it isn&#39;t as it requires Spring 5.1 at a minimum, the error you get is already a hinting at that.","body":"No it isn&#39;t as it requires Spring 5.1 at a minimum, the error you get is already a hinting at that."},{"owner":{"account_id":2073128,"reputation":427,"user_id":1847148,"accept_rate":25,"display_name":"b3lowster"},"score":0,"creation_date":1675777203,"post_id":75373008,"comment_id":132998288,"body_markdown":"@M.Deinum Thank you for you answers. Do you know how to find a version of spring data mongodb which can be compatible with Spring Framework 4.3.x?","body":"@M.Deinum Thank you for you answers. Do you know how to find a version of spring data mongodb which can be compatible with Spring Framework 4.3.x?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1675778121,"post_id":75373008,"comment_id":132998590,"body_markdown":"The compatibility is mentioned in the documentation. Why wouldn&#39;t an upgrade be an option? You are using an ancient version of Spring and generally it is a drop in replacement.","body":"The compatibility is mentioned in the documentation. Why wouldn&#39;t an upgrade be an option? You are using an ancient version of Spring and generally it is a drop in replacement."},{"owner":{"account_id":2073128,"reputation":427,"user_id":1847148,"accept_rate":25,"display_name":"b3lowster"},"score":0,"creation_date":1675780734,"post_id":75373008,"comment_id":132999564,"body_markdown":"I&#39;ve found out that I need to use a version 1.10.23.RELEASE of spring data mongodb.\n@M.Deinum It&#39;s not easy to upgrade Spring Framework version in my case. Migration from Spring 3 to Spring 4 took a couple months","body":"I&#39;ve found out that I need to use a version 1.10.23.RELEASE of spring data mongodb. @M.Deinum It&#39;s not easy to upgrade Spring Framework version in my case. Migration from Spring 3 to Spring 4 took a couple months"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1675781698,"post_id":75373008,"comment_id":132999922,"body_markdown":"Then delaying the upgrade will only make it longer, if it hurts do it more often (i.e. keep tracking the latest release). However I do believe that upgrading from 4.3 to the 5.x line (do small steps move from 4.3 to 5.0.x then 5.1.x etc. fix little things that might break). I doubt it will take months. Staying back in the past will only make things worse.","body":"Then delaying the upgrade will only make it longer, if it hurts do it more often (i.e. keep tracking the latest release). However I do believe that upgrading from 4.3 to the 5.x line (do small steps move from 4.3 to 5.0.x then 5.1.x etc. fix little things that might break). I doubt it will take months. Staying back in the past will only make things worse."}],"owner":{"account_id":2073128,"reputation":427,"user_id":1847148,"accept_rate":25,"display_name":"b3lowster"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675770959,"creation_date":1675770959,"question_id":75373008,"body_markdown":"I have a project which works  with Spring Framework 4.3.30.RELEASE I want to connect to mongodb via Spring Data MongoDB and use MongoRepository to have access to the pieces data\r\n\r\n```\r\n&lt;!-- Mongodb + Spring data mongodb --&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-data-mongodb&lt;/artifactId&gt;\r\n\t&lt;version&gt;2.1.21.RELEASE&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.mongodb&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;mongodb-driver-sync&lt;/artifactId&gt;\r\n\t&lt;version&gt;3.12.11&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\nI have a model\r\n```\r\n@Document(collection = &quot;order&quot;)\r\npublic class Order {\r\n    @Id\r\n    private String id;\r\n    priavte String name;\r\n\r\n    public String getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(String id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public Long getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n```\r\nI&#39;ve created repository\r\n\r\n```\r\nimport org.springframework.data.mongodb.repository.MongoRepository;\r\n\r\npublic interface OrderRepository extends MongoRepository&lt;Order, String&gt; {\r\n}\r\n```\r\nThat&#39;s my configuration\r\n```\r\n@Configuration\r\n@EnableMongoRepositories(basePackages = &quot;ua.home.repository&quot;)\r\npublic class MongoConfig extends AbstractMongoClientConfiguration {\r\n\r\n    @Override\r\n    public MongoClient mongoClient() {\r\n        ConnectionString connectionString = new ConnectionString(&quot;mongodb://localhost:27017/dev&quot;);\r\n        MongoClientSettings mongoClientSettings = MongoClientSettings.builder()\r\n                .applyConnectionString(connectionString)\r\n                .build();\r\n\r\n        return MongoClients.create(mongoClientSettings);\r\n    }\r\n\r\n    @Override\r\n    protected String getDatabaseName() {\r\n        return &quot;dev&quot;;\r\n    }\r\n\r\n    @Override\r\n    protected Collection&lt;String&gt; getMappingBasePackages() {\r\n        return Collections.singleton(&quot;ua.home.model&quot;);\r\n    }\r\n}\r\n```\r\nBut I&#39;ve got the following error\r\n```\r\nCaused by: java.lang.ClassNotFoundException: org.springframework.core.ReactiveTypeDescriptor\r\n    at org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy.loadClass (SelfFirstStrategy.java:50)\r\n    at org.codehaus.plexus.classworlds.realm.ClassRealm.unsynchronizedLoadClass (ClassRealm.java:271)\r\n    at org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass (ClassRealm.java:247)\r\n    at org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass (ClassRealm.java:239)\r\n    at org.eclipse.jetty.webapp.WebAppClassLoader.loadClass (WebAppClassLoader.java:565)\r\n    at java.lang.ClassLoader.loadClass (ClassLoader.java:351)\r\n    at org.springframework.data.repository.util.ReactiveWrappers.findDescriptor (ReactiveWrappers.java:281)\r\n    at org.springframework.data.repository.util.ReactiveWrappers.isNoValueType (ReactiveWrappers.java:186)\r\n    at org.springframework.data.repository.util.ReactiveWrappers.isWrapper (ReactiveWrappers.java:268)\r\n    at org.springframework.data.repository.util.ReactiveWrappers.supports (ReactiveWrappers.java:158)\r\n    at java.util.stream.MatchOps$1MatchSink.accept (MatchOps.java:90)\r\n    at java.util.stream.Streams$StreamBuilderImpl.forEachRemaining (Streams.java:419)\r\n    at java.util.stream.Streams$ConcatSpliterator.forEachRemaining (Streams.java:742)\r\n    at java.util.stream.ReferencePipeline$Head.forEach (ReferencePipeline.java:580)\r\n    at java.util.stream.ReferencePipeline$7$1.accept (ReferencePipeline.java:270)\r\n    at java.util.Spliterators$ArraySpliterator.tryAdvance (Spliterators.java:958)\r\n    at java.util.stream.ReferencePipeline.forEachWithCancel (ReferencePipeline.java:126)\r\n    at java.util.stream.AbstractPipeline.copyIntoWithCancel (AbstractPipeline.java:499)\r\n    at java.util.stream.AbstractPipeline.copyInto (AbstractPipeline.java:486)\r\n    at java.util.stream.AbstractPipeline.wrapAndCopyInto (AbstractPipeline.java:472)\r\n    at java.util.stream.MatchOps$MatchOp.evaluateSequential (MatchOps.java:230)\r\n    at java.util.stream.MatchOps$MatchOp.evaluateSequential (MatchOps.java:196)\r\n    at java.util.stream.AbstractPipeline.evaluate (AbstractPipeline.java:234)\r\n    at java.util.stream.ReferencePipeline.anyMatch (ReferencePipeline.java:449)\r\n    at org.springframework.data.repository.util.ReactiveWrappers.usesReactiveType (ReactiveWrappers.java:173)\r\n    at org.springframework.data.repository.core.support.AbstractRepositoryMetadata.isReactiveRepository (AbstractRepositoryMetadata.java:129)\r\n    at org.springframework.data.mongodb.repository.config.MongoRepositoryConfigurationExtension.useRepositoryConfiguration (MongoRepositoryConfigurationExtension.java:147)\r\n    at org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport.getRepositoryConfigurations (RepositoryConfigurationExtensionSupport.java:107)\r\n    at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn (RepositoryConfigurationDelegate.java:148)\r\n```\r\n\r\nI&#39;ve figured out that a class `org.springframework.core.ReactiveTypeDescriptor` is from Spring 5\r\nI need an advice Should I get earlier version of spring-data-mongodb? Can I override `AbstractRepositoryMetadata` some how to have my own `isReactiveRepository` method? Other options?","title":"Can I use Spring Framework 4.3.x + Spring Data MongoDB 2.1.x + MongoRepository?","body":"<p>I have a project which works  with Spring Framework 4.3.30.RELEASE I want to connect to mongodb via Spring Data MongoDB and use MongoRepository to have access to the pieces data</p>\n<pre><code>&lt;!-- Mongodb + Spring data mongodb --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-data-mongodb&lt;/artifactId&gt;\n    &lt;version&gt;2.1.21.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\n    &lt;artifactId&gt;mongodb-driver-sync&lt;/artifactId&gt;\n    &lt;version&gt;3.12.11&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I have a model</p>\n<pre><code>@Document(collection = &quot;order&quot;)\npublic class Order {\n    @Id\n    private String id;\n    priavte String name;\n\n    public String getId() {\n        return id;\n    }\n\n    public void setId(String id) {\n        this.id = id;\n    }\n\n    public Long getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n</code></pre>\n<p>I've created repository</p>\n<pre><code>import org.springframework.data.mongodb.repository.MongoRepository;\n\npublic interface OrderRepository extends MongoRepository&lt;Order, String&gt; {\n}\n</code></pre>\n<p>That's my configuration</p>\n<pre><code>@Configuration\n@EnableMongoRepositories(basePackages = &quot;ua.home.repository&quot;)\npublic class MongoConfig extends AbstractMongoClientConfiguration {\n\n    @Override\n    public MongoClient mongoClient() {\n        ConnectionString connectionString = new ConnectionString(&quot;mongodb://localhost:27017/dev&quot;);\n        MongoClientSettings mongoClientSettings = MongoClientSettings.builder()\n                .applyConnectionString(connectionString)\n                .build();\n\n        return MongoClients.create(mongoClientSettings);\n    }\n\n    @Override\n    protected String getDatabaseName() {\n        return &quot;dev&quot;;\n    }\n\n    @Override\n    protected Collection&lt;String&gt; getMappingBasePackages() {\n        return Collections.singleton(&quot;ua.home.model&quot;);\n    }\n}\n</code></pre>\n<p>But I've got the following error</p>\n<pre><code>Caused by: java.lang.ClassNotFoundException: org.springframework.core.ReactiveTypeDescriptor\n    at org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy.loadClass (SelfFirstStrategy.java:50)\n    at org.codehaus.plexus.classworlds.realm.ClassRealm.unsynchronizedLoadClass (ClassRealm.java:271)\n    at org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass (ClassRealm.java:247)\n    at org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass (ClassRealm.java:239)\n    at org.eclipse.jetty.webapp.WebAppClassLoader.loadClass (WebAppClassLoader.java:565)\n    at java.lang.ClassLoader.loadClass (ClassLoader.java:351)\n    at org.springframework.data.repository.util.ReactiveWrappers.findDescriptor (ReactiveWrappers.java:281)\n    at org.springframework.data.repository.util.ReactiveWrappers.isNoValueType (ReactiveWrappers.java:186)\n    at org.springframework.data.repository.util.ReactiveWrappers.isWrapper (ReactiveWrappers.java:268)\n    at org.springframework.data.repository.util.ReactiveWrappers.supports (ReactiveWrappers.java:158)\n    at java.util.stream.MatchOps$1MatchSink.accept (MatchOps.java:90)\n    at java.util.stream.Streams$StreamBuilderImpl.forEachRemaining (Streams.java:419)\n    at java.util.stream.Streams$ConcatSpliterator.forEachRemaining (Streams.java:742)\n    at java.util.stream.ReferencePipeline$Head.forEach (ReferencePipeline.java:580)\n    at java.util.stream.ReferencePipeline$7$1.accept (ReferencePipeline.java:270)\n    at java.util.Spliterators$ArraySpliterator.tryAdvance (Spliterators.java:958)\n    at java.util.stream.ReferencePipeline.forEachWithCancel (ReferencePipeline.java:126)\n    at java.util.stream.AbstractPipeline.copyIntoWithCancel (AbstractPipeline.java:499)\n    at java.util.stream.AbstractPipeline.copyInto (AbstractPipeline.java:486)\n    at java.util.stream.AbstractPipeline.wrapAndCopyInto (AbstractPipeline.java:472)\n    at java.util.stream.MatchOps$MatchOp.evaluateSequential (MatchOps.java:230)\n    at java.util.stream.MatchOps$MatchOp.evaluateSequential (MatchOps.java:196)\n    at java.util.stream.AbstractPipeline.evaluate (AbstractPipeline.java:234)\n    at java.util.stream.ReferencePipeline.anyMatch (ReferencePipeline.java:449)\n    at org.springframework.data.repository.util.ReactiveWrappers.usesReactiveType (ReactiveWrappers.java:173)\n    at org.springframework.data.repository.core.support.AbstractRepositoryMetadata.isReactiveRepository (AbstractRepositoryMetadata.java:129)\n    at org.springframework.data.mongodb.repository.config.MongoRepositoryConfigurationExtension.useRepositoryConfiguration (MongoRepositoryConfigurationExtension.java:147)\n    at org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport.getRepositoryConfigurations (RepositoryConfigurationExtensionSupport.java:107)\n    at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn (RepositoryConfigurationDelegate.java:148)\n</code></pre>\n<p>I've figured out that a class <code>org.springframework.core.ReactiveTypeDescriptor</code> is from Spring 5\nI need an advice Should I get earlier version of spring-data-mongodb? Can I override <code>AbstractRepositoryMetadata</code> some how to have my own <code>isReactiveRepository</code> method? Other options?</p>\n"},{"tags":["java","algorithm","np-hard"],"comments":[{"owner":{"account_id":3585823,"reputation":4330,"user_id":2993035,"accept_rate":62,"display_name":"ralzaul"},"score":8,"creation_date":1435143429,"post_id":31024573,"comment_id":50073967,"body_markdown":"that looks very much like TSP (Travelling Salesman Problem). Basically rather than cities you have rubbishes you need to visit in a shortest path fashion. There are hundreds of algorithms for TSP just check one of those and apply it to your case.","body":"that looks very much like TSP (Travelling Salesman Problem). Basically rather than cities you have rubbishes you need to visit in a shortest path fashion. There are hundreds of algorithms for TSP just check one of those and apply it to your case."},{"owner":{"account_id":216698,"reputation":26495,"user_id":472109,"accept_rate":85,"display_name":"Geoffrey De Smet"},"score":1,"creation_date":1435213763,"post_id":31024573,"comment_id":50108209,"body_markdown":"Here&#39;s [a video of a TSP implementation in Java](https://www.youtube.com/watch?v=T5D3hTjZlRc&amp;list=PLJY69IMbAdq0uKPnjtWXZ2x7KE1eWg3ns&amp;index=19): it uses the algorithm Tabu Search from our open source lib OptaPlanner. There are several optimization algo&#39;s that work well, but there is no perfect one (P vs NP and all that).","body":"Here&#39;s <a href=\"https://www.youtube.com/watch?v=T5D3hTjZlRc&amp;list=PLJY69IMbAdq0uKPnjtWXZ2x7KE1eWg3ns&amp;index=19\" rel=\"nofollow noreferrer\">a video of a TSP implementation in Java</a>: it uses the algorithm Tabu Search from our open source lib OptaPlanner. There are several optimization algo&#39;s that work well, but there is no perfect one (P vs NP and all that)."}],"answers":[{"tags":[],"owner":{"account_id":6151821,"reputation":4968,"user_id":4796021,"display_name":"David P&#233;rez Cabrera"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1435927919,"creation_date":1435927229,"answer_id":31207140,"question_id":31024573,"body_markdown":"Like this?\r\n\r\nPoint definition:\r\n\r\n\tpublic class Point {\r\n\r\n\t\tint x;\r\n\t\tint y;\r\n\r\n\t\tpublic Point(int x, int y) {\r\n\t\t\tthis.x = x;\r\n\t\t\tthis.y = y;\r\n\t\t}\r\n\r\n\t\tpublic int getX() {\r\n\t\t\treturn x;\r\n\t\t}\r\n\r\n\t\tpublic int getY() {\r\n\t\t\treturn y;\r\n\t\t}\r\n\t}\r\n\r\n\r\nThe node:\r\n\r\n\tpublic class Node {\r\n\r\n\t\tprivate Point p;\r\n\t\tprivate int cost;\r\n\t\tprivate int estimatedCost;\r\n\t\tprivate Set&lt;Point&gt; points;\r\n\t\tprivate Point origin;\r\n\r\n\t\tpublic Node(Point p, int cost, Set&lt;Point&gt; points, Point origin) {\r\n\t\t\tthis.p = p;\r\n\t\t\tthis.points = points;\r\n\t\t\tthis.origin = origin;\r\n\t\t\tthis.cost = cost;\r\n\t\t\t// Heuristic estimate cost\r\n\t\t\tif (points.isEmpty()) {\r\n\t\t\t\tthis.estimatedCost = cost + distance(p, origin);\r\n\t\t\t\tthis.cost = estimatedCost;\r\n\t\t\t} else {\r\n\t\t\t\tthis.estimatedCost = cost + nearest(p, points) + nearest(origin, points);\r\n\t\t\t\tfor (Point point : points) {\r\n\t\t\t\t\testimatedCost += nearest(point, points);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tprivate static int distance(Point p0, Point p1) {\r\n\t\t\treturn Math.abs(p0.x - p1.x) + Math.abs(p0.y - p1.y);\r\n\t\t}\r\n\r\n\t\tprivate int nearest(Point p, Set&lt;Point&gt; points) {\r\n\t\t\tint result = Integer.MAX_VALUE;\r\n\t\t\tfor (Point point : points) {\r\n\t\t\t\tint d = distance(point, p);\r\n\t\t\t\tif (d != 0 &amp;&amp; d &lt; result) {\r\n\t\t\t\t\tresult = d;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn result;\r\n\t\t}\r\n\r\n\t\tpublic int getCost() {\r\n\t\t\treturn cost;\r\n\t\t}\r\n\r\n\r\n        public boolean isClosed(){\r\n            return cost == estimatedCost;\r\n        }\r\n\r\n\t\tpublic int getEstimatedCost() {\r\n\t\t\treturn estimatedCost;\r\n\t\t}\r\n\r\n\t\tpublic Set&lt;Point&gt; getPoints() {\r\n\t\t\treturn points;\r\n\t\t}\r\n\r\n\t\tpublic Node goTo(Point target) {\r\n\t\t\tint newCost = cost + distance(this.p, target);\r\n\t\t\tSet&lt;Point&gt; newPoints;\r\n\t\t\tif (points.isEmpty()) {\r\n\t\t\t\tnewPoints = Collections.emptySet();\r\n\t\t\t} else {\r\n\t\t\t\tnewPoints = new HashSet&lt;&gt;(points);\r\n\t\t\t\tnewPoints.remove(target);\r\n\t\t\t}\r\n\t\t\treturn new Node(target, newCost, newPoints, origin);\r\n\t\t}\r\n\t}\r\n\r\n\r\nA Solver algorithm:\r\n\r\n    public static void main(String[] args) {\r\n        Point origin = new Point(1, 1);\r\n        Set&lt;Point&gt; points = new HashSet&lt;&gt;(Arrays.asList(new Point(2, 3), new Point(5, 5), new Point(6, 5), new Point(9, 4)));\r\n        Node begin = new Node(origin, 0, points, origin);\r\n        PriorityQueue&lt;Node&gt; candidates = new PriorityQueue&lt;&gt;((n0, n1) -&gt; Integer.compare(n0.estimatedCost, n1.estimatedCost));\r\n        candidates.add(begin);\r\n        Node solution = null;\r\n        while (!candidates.isEmpty()) {\r\n            Node candidate = candidates.poll();\r\n            if (candidate.isClosed()) {\r\n                solution = candidate;\r\n                candidates.clear();\r\n            } else {\r\n                for (Point p : candidate.getPoints()) {\r\n                    candidates.add(candidate.goTo(p));\r\n                }\r\n            }\r\n        }\r\n        if (solution != null) {\r\n            System.out.println(solution.getCost());\r\n        }\r\n    }","title":"NP-hard algorithm","body":"<p>Like this?</p>\n\n<p>Point definition:</p>\n\n<pre><code>public class Point {\n\n    int x;\n    int y;\n\n    public Point(int x, int y) {\n        this.x = x;\n        this.y = y;\n    }\n\n    public int getX() {\n        return x;\n    }\n\n    public int getY() {\n        return y;\n    }\n}\n</code></pre>\n\n<p>The node:</p>\n\n<pre><code>public class Node {\n\n    private Point p;\n    private int cost;\n    private int estimatedCost;\n    private Set&lt;Point&gt; points;\n    private Point origin;\n\n    public Node(Point p, int cost, Set&lt;Point&gt; points, Point origin) {\n        this.p = p;\n        this.points = points;\n        this.origin = origin;\n        this.cost = cost;\n        // Heuristic estimate cost\n        if (points.isEmpty()) {\n            this.estimatedCost = cost + distance(p, origin);\n            this.cost = estimatedCost;\n        } else {\n            this.estimatedCost = cost + nearest(p, points) + nearest(origin, points);\n            for (Point point : points) {\n                estimatedCost += nearest(point, points);\n            }\n        }\n    }\n\n    private static int distance(Point p0, Point p1) {\n        return Math.abs(p0.x - p1.x) + Math.abs(p0.y - p1.y);\n    }\n\n    private int nearest(Point p, Set&lt;Point&gt; points) {\n        int result = Integer.MAX_VALUE;\n        for (Point point : points) {\n            int d = distance(point, p);\n            if (d != 0 &amp;&amp; d &lt; result) {\n                result = d;\n            }\n        }\n        return result;\n    }\n\n    public int getCost() {\n        return cost;\n    }\n\n\n    public boolean isClosed(){\n        return cost == estimatedCost;\n    }\n\n    public int getEstimatedCost() {\n        return estimatedCost;\n    }\n\n    public Set&lt;Point&gt; getPoints() {\n        return points;\n    }\n\n    public Node goTo(Point target) {\n        int newCost = cost + distance(this.p, target);\n        Set&lt;Point&gt; newPoints;\n        if (points.isEmpty()) {\n            newPoints = Collections.emptySet();\n        } else {\n            newPoints = new HashSet&lt;&gt;(points);\n            newPoints.remove(target);\n        }\n        return new Node(target, newCost, newPoints, origin);\n    }\n}\n</code></pre>\n\n<p>A Solver algorithm:</p>\n\n<pre><code>public static void main(String[] args) {\n    Point origin = new Point(1, 1);\n    Set&lt;Point&gt; points = new HashSet&lt;&gt;(Arrays.asList(new Point(2, 3), new Point(5, 5), new Point(6, 5), new Point(9, 4)));\n    Node begin = new Node(origin, 0, points, origin);\n    PriorityQueue&lt;Node&gt; candidates = new PriorityQueue&lt;&gt;((n0, n1) -&gt; Integer.compare(n0.estimatedCost, n1.estimatedCost));\n    candidates.add(begin);\n    Node solution = null;\n    while (!candidates.isEmpty()) {\n        Node candidate = candidates.poll();\n        if (candidate.isClosed()) {\n            solution = candidate;\n            candidates.clear();\n        } else {\n            for (Point p : candidate.getPoints()) {\n                candidates.add(candidate.goTo(p));\n            }\n        }\n    }\n    if (solution != null) {\n        System.out.println(solution.getCost());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":5034537,"reputation":301,"user_id":4809013,"accept_rate":70,"display_name":"ali khorshidi rozbahani"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1075,"favorite_count":0,"down_vote_count":5,"up_vote_count":1,"accepted_answer_id":31207140,"answer_count":1,"score":-4,"last_activity_date":1675770867,"creation_date":1435143012,"question_id":31024573,"body_markdown":"I&#39;m working on a NP-hard problem algorithm (like hand seller problem) and I can&#39;t find the proper algorithm. I will appreciate if anyone can help me with it. We have a `(x,y)` matrix, there is a robot in the `(n,m)` block and there are some rubbish in the matrix blocks.\r\n\r\nWe want the robot to go to each block that has a rubbish, after crossing all of them it comes back to its first block.\r\nThere are two conditions in the related question:\r\n\r\n1. The robot can only move horizontal and vertical.\r\n2. The output is an integer that is the length of the path that it has crossed.\r\nThis path must have minimum length.\r\n\r\nFor example, inputs are:\r\n\r\n    10 10 ----&gt; x,y\r\n    1 1   ----&gt; n,m\r\n    4     ----&gt; number of rubbishes\r\n\r\nposition of rubbish: \r\n\r\n    2 3\r\n    5 5  \r\n    9 4  \r\n    6 5\r\n\r\noutput is:\r\n\r\n    24","title":"NP-hard algorithm","body":"<p>I'm working on a NP-hard problem algorithm (like hand seller problem) and I can't find the proper algorithm. I will appreciate if anyone can help me with it. We have a <code>(x,y)</code> matrix, there is a robot in the <code>(n,m)</code> block and there are some rubbish in the matrix blocks.</p>\n\n<p>We want the robot to go to each block that has a rubbish, after crossing all of them it comes back to its first block.\nThere are two conditions in the related question:</p>\n\n<ol>\n<li>The robot can only move horizontal and vertical.</li>\n<li>The output is an integer that is the length of the path that it has crossed.\nThis path must have minimum length.</li>\n</ol>\n\n<p>For example, inputs are:</p>\n\n<pre><code>10 10 ----&gt; x,y\n1 1   ----&gt; n,m\n4     ----&gt; number of rubbishes\n</code></pre>\n\n<p>position of rubbish: </p>\n\n<pre><code>2 3\n5 5  \n9 4  \n6 5\n</code></pre>\n\n<p>output is:</p>\n\n<pre><code>24\n</code></pre>\n"},{"tags":["java","spring","logging","spring-rest"],"comments":[{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":0,"creation_date":1437130623,"post_id":31474006,"comment_id":50913544,"body_markdown":"That doesn&#39;t help because when I intercept the message, I&#39;d have java objects of type `org.springframework.http.client.InterceptingClientHttpRequest` and ` org.springframework.http.client.SimpleClientHttpResponse`. What I need is a text/xml representation of the response and log this one instead.","body":"That doesn&#39;t help because when I intercept the message, I&#39;d have java objects of type <code>org.springframework.http.client.InterceptingClientHttpReques&zwnj;&#8203;t</code> and ` org.springframework.http.client.SimpleClientHttpResponse`. What I need is a text/xml representation of the response and log this one instead."},{"owner":{"account_id":299053,"reputation":3959,"user_id":605422,"display_name":"Giovanni"},"score":2,"creation_date":1437134746,"post_id":31474006,"comment_id":50915855,"body_markdown":"did you try to send messages passing an Apache httpClient to the restTempalte and to enable log at httpclient level?","body":"did you try to send messages passing an Apache httpClient to the restTempalte and to enable log at httpclient level?"},{"owner":{"account_id":12735021,"reputation":459,"user_id":9250232,"display_name":"Solanki Vaibhav"},"score":0,"creation_date":1557137814,"post_id":31474006,"comment_id":98652137,"body_markdown":"read my answer from following:[how to log request and response rest call by RestTemplate] (https://stackoverflow.com/questions/3892018/how-do-i-log-response-in-spring-resttemplate/56003085#56003085)","body":"read my answer from following:[how to log request and response rest call by RestTemplate] (<a href=\"https://stackoverflow.com/questions/3892018/how-do-i-log-response-in-spring-resttemplate/56003085#56003085\" title=\"how do i log response in spring resttemplate\">stackoverflow.com/questions/3892018/&hellip;</a>)"},{"owner":{"account_id":12735021,"reputation":459,"user_id":9250232,"display_name":"Solanki Vaibhav"},"score":0,"creation_date":1557137907,"post_id":31474006,"comment_id":98652175,"body_markdown":"Read my answer to this question from the following : [answer](https://stackoverflow.com/questions/3892018/how-do-i-log-response-in-spring-resttemplate/56003085#56003085)","body":"Read my answer to this question from the following : <a href=\"https://stackoverflow.com/questions/3892018/how-do-i-log-response-in-spring-resttemplate/56003085#56003085\">answer</a>"}],"answers":[{"comments":[{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":0,"creation_date":1483024412,"post_id":41291486,"comment_id":69966642,"body_markdown":"Is it sufficient to just add `@Component` to the custom `Interceptor`? Or do I have to register it explicit somewhere, eg on a `RestTemplate`? Because that&#39;s what I&#39;m trying to prevent: having to register and wire it myself.","body":"Is it sufficient to just add <code>@Component</code> to the custom <code>Interceptor</code>? Or do I have to register it explicit somewhere, eg on a <code>RestTemplate</code>? Because that&#39;s what I&#39;m trying to prevent: having to register and wire it myself."},{"owner":{"account_id":7063527,"reputation":471,"user_id":5407758,"accept_rate":0,"display_name":"bvyas"},"score":0,"creation_date":1483025143,"post_id":41291486,"comment_id":69967059,"body_markdown":"I believe @Component is sufficient. You can follow below link which is good source of example.                         http://blog.cacoveanu.com/2016/06/24/rest-template-logging.html","body":"I believe @Component is sufficient. You can follow below link which is good source of example.                         <a href=\"http://blog.cacoveanu.com/2016/06/24/rest-template-logging.html\" rel=\"nofollow noreferrer\">blog.cacoveanu.com/2016/06/24/rest-template-logging.html</a>"},{"owner":{"account_id":2087834,"reputation":7167,"user_id":1858327,"accept_rate":71,"display_name":"Captain Man"},"score":4,"creation_date":1493308291,"post_id":41291486,"comment_id":74371886,"body_markdown":"This logs correctly but what if the underlying `InputStream` doesn&#39;t support marking? Once it&#39;s read it&#39;s gone.","body":"This logs correctly but what if the underlying <code>InputStream</code> doesn&#39;t support marking? Once it&#39;s read it&#39;s gone."},{"owner":{"account_id":92537,"reputation":6275,"user_id":253575,"accept_rate":83,"display_name":"IcedDante"},"score":0,"creation_date":1505833133,"post_id":41291486,"comment_id":79569828,"body_markdown":"I get an error using this where tracing the response prevents it from being marshalled into my POJO later. Not sure why, but it helped for debugging nonetheless.","body":"I get an error using this where tracing the response prevents it from being marshalled into my POJO later. Not sure why, but it helped for debugging nonetheless."}],"tags":[],"owner":{"account_id":7063527,"reputation":471,"user_id":5407758,"accept_rate":0,"display_name":"bvyas"},"comment_count":4,"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1493307369,"creation_date":1482439943,"answer_id":41291486,"question_id":31474006,"body_markdown":"You can achieve this by using **ClientHttpRequestInterceptor** in Spring.\r\nYou have to override method **intercept** of interface **ClientHttpRequestInterceptor**.\r\n    \r\nBelow is the code snippet :\r\n    \r\n    @Component\r\n    public class LogRequestResponseFilter implements ClientHttpRequestInterceptor {\r\n    \r\n    private static final Logger logger=LoggerFactory.getLogger(LogRequestResponseFilter.class);\r\n    \r\n       @Override\r\n       public ClientHttpResponse intercept(HttpRequest request, byte[] body, ClientHttpRequestExecution execution)\r\n             throws IOException {\r\n    \r\n          traceRequest(request, body);\r\n          ClientHttpResponse clientHttpResponse = execution.execute(request, body);\r\n          traceResponse(clientHttpResponse);\r\n    \r\n          return clientHttpResponse;\r\n       } \r\n    \r\n     private void traceRequest(HttpRequest request, byte[] body) throws IOException {\r\n          logger.debug(&quot;request URI : &quot; + request.getURI());\r\n          logger.debug(&quot;request method : &quot; + request.getMethod());\r\n          logger.debug(&quot;request body : &quot; + getRequestBody(body));\r\n       }\r\n    \r\n       private String getRequestBody(byte[] body) throws UnsupportedEncodingException {\r\n          if (body != null &amp;&amp; body.length &gt; 0) {\r\n             return (new String(body, &quot;UTF-8&quot;));\r\n          } else {\r\n             return null;\r\n          }\r\n       }\r\n    \r\n    \r\n      private void traceResponse(ClientHttpResponse response) throws IOException {\r\n          String body = getBodyString(response);\r\n          logger.debug(&quot;response status code: &quot; + response.getStatusCode());\r\n          logger.debug(&quot;response status text: &quot; + response.getStatusText());\r\n          logger.debug(&quot;response body : &quot; + body);\r\n       }\r\n    \r\n       private String getBodyString(ClientHttpResponse response) {\r\n          try {\r\n             if (response != null &amp;&amp; response.getBody() != null) {// &amp;&amp;\r\n                                                                  // isReadableResponse(response))\r\n                                                                  // {\r\n                StringBuilder inputStringBuilder = new StringBuilder();\r\n                BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(response.getBody(), StandardCharsets.UTF_8));\r\n                String line = bufferedReader.readLine();\r\n                while (line != null) {\r\n                   inputStringBuilder.append(line);\r\n                   inputStringBuilder.append(&#39;\\n&#39;);\r\n                   line = bufferedReader.readLine();\r\n                }\r\n                return inputStringBuilder.toString();\r\n             } else {\r\n                return null;\r\n             }\r\n          } catch (IOException e) {\r\n             logger.error(e.getMessage(), e);\r\n             return null;\r\n          }\r\n       }","title":"How to log RestTemplate request and response with spring?","body":"<p>You can achieve this by using <strong>ClientHttpRequestInterceptor</strong> in Spring.\nYou have to override method <strong>intercept</strong> of interface <strong>ClientHttpRequestInterceptor</strong>.</p>\n\n<p>Below is the code snippet :</p>\n\n<pre><code>@Component\npublic class LogRequestResponseFilter implements ClientHttpRequestInterceptor {\n\nprivate static final Logger logger=LoggerFactory.getLogger(LogRequestResponseFilter.class);\n\n   @Override\n   public ClientHttpResponse intercept(HttpRequest request, byte[] body, ClientHttpRequestExecution execution)\n         throws IOException {\n\n      traceRequest(request, body);\n      ClientHttpResponse clientHttpResponse = execution.execute(request, body);\n      traceResponse(clientHttpResponse);\n\n      return clientHttpResponse;\n   } \n\n private void traceRequest(HttpRequest request, byte[] body) throws IOException {\n      logger.debug(\"request URI : \" + request.getURI());\n      logger.debug(\"request method : \" + request.getMethod());\n      logger.debug(\"request body : \" + getRequestBody(body));\n   }\n\n   private String getRequestBody(byte[] body) throws UnsupportedEncodingException {\n      if (body != null &amp;&amp; body.length &gt; 0) {\n         return (new String(body, \"UTF-8\"));\n      } else {\n         return null;\n      }\n   }\n\n\n  private void traceResponse(ClientHttpResponse response) throws IOException {\n      String body = getBodyString(response);\n      logger.debug(\"response status code: \" + response.getStatusCode());\n      logger.debug(\"response status text: \" + response.getStatusText());\n      logger.debug(\"response body : \" + body);\n   }\n\n   private String getBodyString(ClientHttpResponse response) {\n      try {\n         if (response != null &amp;&amp; response.getBody() != null) {// &amp;&amp;\n                                                              // isReadableResponse(response))\n                                                              // {\n            StringBuilder inputStringBuilder = new StringBuilder();\n            BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(response.getBody(), StandardCharsets.UTF_8));\n            String line = bufferedReader.readLine();\n            while (line != null) {\n               inputStringBuilder.append(line);\n               inputStringBuilder.append('\\n');\n               line = bufferedReader.readLine();\n            }\n            return inputStringBuilder.toString();\n         } else {\n            return null;\n         }\n      } catch (IOException e) {\n         logger.error(e.getMessage(), e);\n         return null;\n      }\n   }\n</code></pre>\n"}],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31237,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"closed_date":1675770760,"answer_count":1,"score":13,"last_activity_date":1675770745,"creation_date":1437129800,"question_id":31474006,"body_markdown":"I&#39;m using Spring with `RestTemplate` to execute HTTP GET requests.\r\n\r\nHow can I log any request and response data to a log file automatically on each request?","title":"How to log RestTemplate request and response with spring?","body":"<p>I'm using Spring with <code>RestTemplate</code> to execute HTTP GET requests.</p>\n<p>How can I log any request and response data to a log file automatically on each request?</p>\n"},{"tags":["java","spring","spring-boot","maven"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1675800733,"post_id":75372360,"comment_id":133005888,"body_markdown":"Using java 7 ... will not work. Spring 3.X requires JDK17+... also your error output looks like you have configured something strange ... which Maven version do you use?","body":"Using java 7 ... will not work. Spring 3.X requires JDK17+... also your error output looks like you have configured something strange ... which Maven version do you use?"}],"answers":[{"tags":[],"owner":{"account_id":14182472,"reputation":198,"user_id":10245558,"display_name":"Roland"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675769369,"creation_date":1675769369,"answer_id":75372732,"question_id":75372360,"body_markdown":"First of all, I noticed that you have a duplicate `&lt;properties&gt; &lt;/properties&gt;` \r\n\r\nI wasn&#39;t able to replicate your issue, Spring Boot 3 needs at least Java 17 to run, which is a requirement I do not currently have. \r\n\r\nHowever, I migrated to version `2.6.4` which is compatible with Java version 11 and I noticed that you had the version of `mysql-connector-j` missing\r\n\r\n```\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n    &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n    &lt;version&gt;8.0.31&lt;/version&gt; // add version\r\n    &lt;scope&gt;runtime&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nRemove\r\n\r\n```\r\n &lt;properties&gt;\r\n   &lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\r\n    &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\r\n &lt;/properties&gt;\r\n```\r\n\r\nFind below the full `pom.xml`\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.6.4&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.square&lt;/groupId&gt;\r\n    &lt;artifactId&gt;square&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;square&lt;/name&gt;\r\n    &lt;description&gt;square&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;11&lt;/java.version&gt;\r\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n            &lt;version&gt;8.0.31&lt;/version&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.firebase&lt;/groupId&gt;\r\n            &lt;artifactId&gt;firebase-admin&lt;/artifactId&gt;\r\n            &lt;version&gt;8.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nIf you still want to use the same Spring Boot version that you currently have, make sure you have Java 17, and delete `.m2` file if you think it might be a cache issue, and do the same changes regarding the `properties` tag and `mysql` version.\r\n\r\nHope this helps!\r\n","title":"Project &#39;org.springframework.boot:spring-boot-starter-parent:3.0.2&#39; not found","body":"<p>First of all, I noticed that you have a duplicate <code>&lt;properties&gt; &lt;/properties&gt;</code></p>\n<p>I wasn't able to replicate your issue, Spring Boot 3 needs at least Java 17 to run, which is a requirement I do not currently have.</p>\n<p>However, I migrated to version <code>2.6.4</code> which is compatible with Java version 11 and I noticed that you had the version of <code>mysql-connector-j</code> missing</p>\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n    &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n    &lt;version&gt;8.0.31&lt;/version&gt; // add version\n    &lt;scope&gt;runtime&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Remove</p>\n<pre><code> &lt;properties&gt;\n   &lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\n &lt;/properties&gt;\n</code></pre>\n<p>Find below the full <code>pom.xml</code></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.4&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.square&lt;/groupId&gt;\n    &lt;artifactId&gt;square&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;square&lt;/name&gt;\n    &lt;description&gt;square&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;version&gt;8.0.31&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.firebase&lt;/groupId&gt;\n            &lt;artifactId&gt;firebase-admin&lt;/artifactId&gt;\n            &lt;version&gt;8.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>If you still want to use the same Spring Boot version that you currently have, make sure you have Java 17, and delete <code>.m2</code> file if you think it might be a cache issue, and do the same changes regarding the <code>properties</code> tag and <code>mysql</code> version.</p>\n<p>Hope this helps!</p>\n"}],"owner":{"account_id":24719432,"reputation":412,"user_id":18608735,"display_name":"CHETAN"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1297,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1675770636,"creation_date":1675767272,"question_id":75372360,"body_markdown":"I am new to api development. I imported this project from my friend but now I am getting these error.:-\r\n\r\n   \r\n\r\n   \r\n\r\n         Project &#39;org.springframework.boot:spring-boot-starter-parent:3.0.2&#39; not found\r\n            Project &#39;org.springframework.boot:spring-boot-starter-parent:3.0.2&#39; not found\r\n            Project &#39;org.springframework.boot:spring-boot-starter-parent:3.0.2&#39; not found\r\n            Invalid content was found starting with element &#39;{&quot;http://maven.apache.org/POM/4.0.0&quot;:properties}&#39;. One of &#39;{&quot;http://maven.apache.org/POM/4.0.0&quot;:packaging, &quot;http://maven.apache.org/POM/4.0.0&quot;:url, &quot;http://maven.apache.org/POM/4.0.0&quot;:inceptionYear, &quot;http://maven.apache.org/POM/4.0.0&quot;:organization, &quot;http://maven.apache.org/POM/4.0.0&quot;:licenses, &quot;http://maven.apache.org/POM/4.0.0&quot;:developers, &quot;http://maven.apache.org/POM/4.0.0&quot;:contributors, &quot;http://maven.apache.org/POM/4.0.0&quot;:mailingLists, &quot;http://maven.apache.org/POM/4.0.0&quot;:prerequisites, &quot;http://maven.apache.org/POM/4.0.0&quot;:modules, &quot;http://maven.apache.org/POM/4.0.0&quot;:scm, &quot;http://maven.apache.org/POM/4.0.0&quot;:issueManagement, &quot;http://maven.apache.org/POM/4.0.0&quot;:ciManagement, &quot;http://maven.apache.org/POM/4.0.0&quot;:distributionManagement, &quot;http://maven.apache.org/POM/4.0.0&quot;:dependencyManagement, &quot;http://maven.apache.org/POM/4.0.0&quot;:dependencies, &quot;http://maven.apache.org/POM/4.0.0&quot;:repositories, &quot;http://maven.apache.org/POM/4.0.0&quot;:pluginRepositories, &quot;http://maven.apache.org/POM/4.0.0&quot;:build, &quot;http://maven.apache.org/POM/4.0.0&quot;:reports, &quot;http://maven.apache.org/POM/4.0.0&quot;:reporting, &quot;http://maven.apache.org/POM/4.0.0&quot;:profiles}&#39; is expected.\r\n     Invalid content was found starting with element &#39;{&quot;http://maven.apache.org/POM/4.0.0&quot;:properties}&#39;. One of &#39;{&quot;http://maven.apache.org/POM/4.0.0&quot;:packaging, &quot;http://maven.apache.org/POM/4.0.0&quot;:url, &quot;http://maven.apache.org/POM/4.0.0&quot;:inceptionYear, &quot;http://maven.apache.org/POM/4.0.0&quot;:organization, &quot;http://maven.apache.org/POM/4.0.0&quot;:licenses, &quot;http://maven.apache.org/POM/4.0.0&quot;:developers, &quot;http://maven.apache.org/POM/4.0.0&quot;:contributors, &quot;http://maven.apache.org/POM/4.0.0&quot;:mailingLists, &quot;http://maven.apache.org/POM/4.0.0&quot;:prerequisites, &quot;http://maven.apache.org/POM/4.0.0&quot;:modules, &quot;http://maven.apache.org/POM/4.0.0&quot;:scm, &quot;http://maven.apache.org/POM/4.0.0&quot;:issueManagement, &quot;http://maven.apache.org/POM/4.0.0&quot;:ciManagement, &quot;http://maven.apache.org/POM/4.0.0&quot;:distributionManagement, &quot;http://maven.apache.org/POM/4.0.0&quot;:dependencyManagement, &quot;http://maven.apache.org/POM/4.0.0&quot;:dependencies, &quot;http://maven.apache.org/POM/4.0.0&quot;:repositories, &quot;http://maven.apache.org/POM/4.0.0&quot;:pluginRepositories, &quot;http://maven.apache.org/POM/4.0.0&quot;:build, &quot;http://maven.apache.org/POM/4.0.0&quot;:reports, &quot;http://maven.apache.org/POM/4.0.0&quot;:reporting, &quot;http://maven.apache.org/POM/4.0.0&quot;:profiles}&#39; is expected.\r\n         Dependency &#39;org.springframework.boot:spring-boot-starter-web:&#39; not found\r\n         Dependency &#39;org.springframework.boot:spring-boot-starter-web:&#39; not found\r\n         Dependency &#39;com.mysql:mysql-connector-j:&#39; not found\r\n         Dependency &#39;com.mysql:mysql-connector-j:&#39; not found\r\n         Dependency &#39;org.springframework.boot:spring-boot-starter-test:&#39; not found\r\n         Dependency &#39;org.springframework.security:spring-security-test:&#39; not found\r\n         Dependency &#39;org.springframework.security:spring-security-test:&#39; not found\r\n         Dependency &#39;com.google.firebase:firebase-admin:8.0.1&#39; not found\r\n         Dependency &#39;com.google.firebase:firebase-admin:8.0.1&#39; not found\r\n         Dependency &#39;com.google.firebase:firebase-admin:8.0.1&#39; not found\r\n         Plugin &#39;org.springframework.boot:spring-boot-maven-plugin:&#39; not found\r\n         Plugin &#39;org.springframework.boot:spring-boot-maven-plugin:&#39; not found\r\n\r\nHere is my pom.xml file :-\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;3.0.2&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.square&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;square&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;square&lt;/name&gt;\r\n    \t&lt;description&gt;square&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n    \t\t&lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n    \t\t&lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\r\n    \t\t&lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.google.firebase&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;firebase-admin&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;8.0.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nI tried to invalidate and restart cache. I don&#39;t know how to solve this problem. I am trying to solve this problem from yesterday but I am getting any solution to solve this problem. Someone please help me I am stucked here.\r\n","title":"Project &#39;org.springframework.boot:spring-boot-starter-parent:3.0.2&#39; not found","body":"<p>I am new to api development. I imported this project from my friend but now I am getting these error.:-</p>\n<pre><code>     Project 'org.springframework.boot:spring-boot-starter-parent:3.0.2' not found\n        Project 'org.springframework.boot:spring-boot-starter-parent:3.0.2' not found\n        Project 'org.springframework.boot:spring-boot-starter-parent:3.0.2' not found\n        Invalid content was found starting with element '{&quot;http://maven.apache.org/POM/4.0.0&quot;:properties}'. One of '{&quot;http://maven.apache.org/POM/4.0.0&quot;:packaging, &quot;http://maven.apache.org/POM/4.0.0&quot;:url, &quot;http://maven.apache.org/POM/4.0.0&quot;:inceptionYear, &quot;http://maven.apache.org/POM/4.0.0&quot;:organization, &quot;http://maven.apache.org/POM/4.0.0&quot;:licenses, &quot;http://maven.apache.org/POM/4.0.0&quot;:developers, &quot;http://maven.apache.org/POM/4.0.0&quot;:contributors, &quot;http://maven.apache.org/POM/4.0.0&quot;:mailingLists, &quot;http://maven.apache.org/POM/4.0.0&quot;:prerequisites, &quot;http://maven.apache.org/POM/4.0.0&quot;:modules, &quot;http://maven.apache.org/POM/4.0.0&quot;:scm, &quot;http://maven.apache.org/POM/4.0.0&quot;:issueManagement, &quot;http://maven.apache.org/POM/4.0.0&quot;:ciManagement, &quot;http://maven.apache.org/POM/4.0.0&quot;:distributionManagement, &quot;http://maven.apache.org/POM/4.0.0&quot;:dependencyManagement, &quot;http://maven.apache.org/POM/4.0.0&quot;:dependencies, &quot;http://maven.apache.org/POM/4.0.0&quot;:repositories, &quot;http://maven.apache.org/POM/4.0.0&quot;:pluginRepositories, &quot;http://maven.apache.org/POM/4.0.0&quot;:build, &quot;http://maven.apache.org/POM/4.0.0&quot;:reports, &quot;http://maven.apache.org/POM/4.0.0&quot;:reporting, &quot;http://maven.apache.org/POM/4.0.0&quot;:profiles}' is expected.\n Invalid content was found starting with element '{&quot;http://maven.apache.org/POM/4.0.0&quot;:properties}'. One of '{&quot;http://maven.apache.org/POM/4.0.0&quot;:packaging, &quot;http://maven.apache.org/POM/4.0.0&quot;:url, &quot;http://maven.apache.org/POM/4.0.0&quot;:inceptionYear, &quot;http://maven.apache.org/POM/4.0.0&quot;:organization, &quot;http://maven.apache.org/POM/4.0.0&quot;:licenses, &quot;http://maven.apache.org/POM/4.0.0&quot;:developers, &quot;http://maven.apache.org/POM/4.0.0&quot;:contributors, &quot;http://maven.apache.org/POM/4.0.0&quot;:mailingLists, &quot;http://maven.apache.org/POM/4.0.0&quot;:prerequisites, &quot;http://maven.apache.org/POM/4.0.0&quot;:modules, &quot;http://maven.apache.org/POM/4.0.0&quot;:scm, &quot;http://maven.apache.org/POM/4.0.0&quot;:issueManagement, &quot;http://maven.apache.org/POM/4.0.0&quot;:ciManagement, &quot;http://maven.apache.org/POM/4.0.0&quot;:distributionManagement, &quot;http://maven.apache.org/POM/4.0.0&quot;:dependencyManagement, &quot;http://maven.apache.org/POM/4.0.0&quot;:dependencies, &quot;http://maven.apache.org/POM/4.0.0&quot;:repositories, &quot;http://maven.apache.org/POM/4.0.0&quot;:pluginRepositories, &quot;http://maven.apache.org/POM/4.0.0&quot;:build, &quot;http://maven.apache.org/POM/4.0.0&quot;:reports, &quot;http://maven.apache.org/POM/4.0.0&quot;:reporting, &quot;http://maven.apache.org/POM/4.0.0&quot;:profiles}' is expected.\n     Dependency 'org.springframework.boot:spring-boot-starter-web:' not found\n     Dependency 'org.springframework.boot:spring-boot-starter-web:' not found\n     Dependency 'com.mysql:mysql-connector-j:' not found\n     Dependency 'com.mysql:mysql-connector-j:' not found\n     Dependency 'org.springframework.boot:spring-boot-starter-test:' not found\n     Dependency 'org.springframework.security:spring-security-test:' not found\n     Dependency 'org.springframework.security:spring-security-test:' not found\n     Dependency 'com.google.firebase:firebase-admin:8.0.1' not found\n     Dependency 'com.google.firebase:firebase-admin:8.0.1' not found\n     Dependency 'com.google.firebase:firebase-admin:8.0.1' not found\n     Plugin 'org.springframework.boot:spring-boot-maven-plugin:' not found\n     Plugin 'org.springframework.boot:spring-boot-maven-plugin:' not found\n</code></pre>\n<p>Here is my pom.xml file :-</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.square&lt;/groupId&gt;\n    &lt;artifactId&gt;square&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;square&lt;/name&gt;\n    &lt;description&gt;square&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.firebase&lt;/groupId&gt;\n            &lt;artifactId&gt;firebase-admin&lt;/artifactId&gt;\n            &lt;version&gt;8.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>I tried to invalidate and restart cache. I don't know how to solve this problem. I am trying to solve this problem from yesterday but I am getting any solution to solve this problem. Someone please help me I am stucked here.</p>\n"},{"tags":["java","spring-boot","spring-mvc","spring-security","spring-framework-beans"],"answers":[{"comments":[{"owner":{"account_id":20257143,"reputation":11,"user_id":14856620,"display_name":"Snehashis Dasgupta"},"score":0,"creation_date":1675439978,"post_id":75333077,"comment_id":132935954,"body_markdown":"Still it&#39;s showing same error.","body":"Still it&#39;s showing same error."},{"owner":{"account_id":3281388,"reputation":738,"user_id":2761923,"display_name":"Neri"},"score":0,"creation_date":1690892723,"post_id":75333077,"comment_id":135413905,"body_markdown":"For my case, I do not have any spring security in pom or any configuration class.\nIts a fresh project","body":"For my case, I do not have any spring security in pom or any configuration class. Its a fresh project"}],"tags":[],"owner":{"account_id":25804254,"reputation":774,"user_id":19546048,"display_name":"DingHao"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675412220,"creation_date":1675412220,"answer_id":75333077,"question_id":75332818,"body_markdown":"in spring security 6+,the `WebSecurityConfiguration` has been removed.\r\nyou can use SecurityFilterChain \r\n\r\n        @Bean\r\n    \tSecurityFilterChain defaultSecurityFilterChain(HttpSecurity http) throws Exception {\r\n    \t\t\thttp.csrf().disable().authorizeRequests().anyRequest().authenticated().and().httpBasic();\r\n    \t\t\treturn http.build();\r\n    \t}","title":"class path resource [org/springframework/web/servlet/config/annotation/WebMvcConfigurerAdapter.class] cannot be opened because it does not exist","body":"<p>in spring security 6+,the <code>WebSecurityConfiguration</code> has been removed.\nyou can use SecurityFilterChain</p>\n<pre><code>    @Bean\n    SecurityFilterChain defaultSecurityFilterChain(HttpSecurity http) throws Exception {\n            http.csrf().disable().authorizeRequests().anyRequest().authenticated().and().httpBasic();\n            return http.build();\n    }\n</code></pre>\n"}],"owner":{"account_id":20257143,"reputation":11,"user_id":14856620,"display_name":"Snehashis Dasgupta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4197,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1675770485,"creation_date":1675410355,"question_id":75332818,"body_markdown":"my pom.xml -&gt;\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.1&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.blog&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;blog-app-apis&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;blog-app-apis&lt;/name&gt;\r\n\t&lt;description&gt;This is backend apis app for blogging&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.0.1&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.1.3.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.modelmapper/modelmapper --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.1.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-validation --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n\r\n\r\n\r\nMy SecurityConfig.java  file -&gt;\r\n\r\n    package com.blog.config;\r\n    \r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\n    \r\n    \r\n    @Configuration   \r\n    @EnableWebSecurity\r\n    \r\n    public class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n    \r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n    \r\n            http.csrf().disable().authorizeRequests().anyRequest().authenticated().and().httpBasic();\r\n    \r\n        }\r\n    }\r\n\r\n\r\nThe error which I am getting: \r\n\r\n\r\n[Error image (click it)][1]\r\n\r\n   \r\n&gt; .BeanDefinitionStoreException: Failed to process import candidates for\r\n&gt; configuration class [com.blog.config.SecurityConfig]: class path\r\n&gt; resource\r\n&gt; [org/springframework/web/servlet/config/annotation/WebMvcConfigurerAdapter.class]\r\n&gt; cannot be opened because it does not exist\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/cYr4i.png\r\n","title":"class path resource [org/springframework/web/servlet/config/annotation/WebMvcConfigurerAdapter.class] cannot be opened because it does not exist","body":"<p>my pom.xml -&gt;</p>\n\n<p></p>\n<pre><code>&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;3.0.1&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n&lt;groupId&gt;com.blog&lt;/groupId&gt;\n&lt;artifactId&gt;blog-app-apis&lt;/artifactId&gt;\n&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;name&gt;blog-app-apis&lt;/name&gt;\n&lt;description&gt;This is backend apis app for blogging&lt;/description&gt;\n&lt;properties&gt;\n    &lt;java.version&gt;17&lt;/java.version&gt;\n&lt;/properties&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n        &lt;version&gt;4.0.1&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\n        &lt;version&gt;4.1.3.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/org.modelmapper/modelmapper --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\n        &lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\n        &lt;version&gt;3.1.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-validation --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;excludes&gt;\n                    &lt;exclude&gt;\n                        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                    &lt;/exclude&gt;\n                &lt;/excludes&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>My SecurityConfig.java  file -&gt;</p>\n<pre><code>package com.blog.config;\n\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\n\n\n@Configuration   \n@EnableWebSecurity\n\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n\n        http.csrf().disable().authorizeRequests().anyRequest().authenticated().and().httpBasic();\n\n    }\n}\n</code></pre>\n<p>The error which I am getting:</p>\n<p><a href=\"https://i.stack.imgur.com/cYr4i.png\" rel=\"nofollow noreferrer\">Error image (click it)</a></p>\n<blockquote>\n<p>.BeanDefinitionStoreException: Failed to process import candidates for\nconfiguration class [com.blog.config.SecurityConfig]: class path\nresource\n[org/springframework/web/servlet/config/annotation/WebMvcConfigurerAdapter.class]\ncannot be opened because it does not exist</p>\n</blockquote>\n"},{"tags":["java","string","unicode","char"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1675769605,"post_id":75372662,"comment_id":132995854,"body_markdown":"There is no point in specifying `Pattern.MULTILINE | Pattern.UNICODE_CASE`. Neither of these flags is required by your pattern. Besides that, it’s weird to use regex solely for checking for contradictions, instead of using it to search for the matches in the first place.","body":"There is no point in specifying <code>Pattern.MULTILINE | Pattern.UNICODE_CASE</code>. Neither of these flags is required by your pattern. Besides that, it’s weird to use regex solely for checking for contradictions, instead of using it to search for the matches in the first place."}],"answers":[{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1675769917,"post_id":75372805,"comment_id":132995945,"body_markdown":"Instead of `[0-9a-fA-F]`, you can also use `\\p{XDigit}`","body":"Instead of <code>[0-9a-fA-F]</code>, you can also use <code>\\p{XDigit}</code>"},{"owner":{"account_id":24342544,"reputation":39,"user_id":18279733,"display_name":"anonimos"},"score":1,"creation_date":1675770120,"post_id":75372805,"comment_id":132996009,"body_markdown":"@Michael Thank you very much! Can&#39;t believe it is so simple! I was over complicating the solution a lot!","body":"@Michael Thank you very much! Can&#39;t believe it is so simple! I was over complicating the solution a lot!"}],"tags":[],"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1675770150,"creation_date":1675769759,"answer_id":75372805,"question_id":75372662,"body_markdown":"First let&#39;s just replace all backslashes with 2. The joy of Java escaping...\r\n\r\n    String replaced = string.replaceAll(&quot;\\\\\\\\&quot;, &quot;\\\\\\\\\\\\\\\\&quot;);\r\n\r\nNow we need to tell the regex engine &quot;don&#39;t do that if the slash is followed by u and four hexadecimal digits&quot;. We can use a [negative lookahead](https://www.regular-expressions.info/lookaround.html): `(?!u[0-9a-fA-F]{4})`\r\n\r\n    String replaced = string.replaceAll(&quot;\\\\\\\\(?!u[0-9a-fA-F]{4})&quot;, &quot;\\\\\\\\\\\\\\\\&quot;);\r\n\r\nResult:\r\n\r\n    Muir-Torr \\\\ \\u00E9 syndrome \\u1234 skd just some \\uabcd arbitrary text \\\\ s\r\n\r\nYou can repeat step one to get your desired result.","title":"Replace \\\\ found at a particular position in a String in java (not all occurrences) with \\\\\\\\","body":"<p>First let's just replace all backslashes with 2. The joy of Java escaping...</p>\n<pre><code>String replaced = string.replaceAll(&quot;\\\\\\\\&quot;, &quot;\\\\\\\\\\\\\\\\&quot;);\n</code></pre>\n<p>Now we need to tell the regex engine &quot;don't do that if the slash is followed by u and four hexadecimal digits&quot;. We can use a <a href=\"https://www.regular-expressions.info/lookaround.html\" rel=\"nofollow noreferrer\">negative lookahead</a>: <code>(?!u[0-9a-fA-F]{4})</code></p>\n<pre><code>String replaced = string.replaceAll(&quot;\\\\\\\\(?!u[0-9a-fA-F]{4})&quot;, &quot;\\\\\\\\\\\\\\\\&quot;);\n</code></pre>\n<p>Result:</p>\n<pre><code>Muir-Torr \\\\ \\u00E9 syndrome \\u1234 skd just some \\uabcd arbitrary text \\\\ s\n</code></pre>\n<p>You can repeat step one to get your desired result.</p>\n"}],"owner":{"account_id":24342544,"reputation":39,"user_id":18279733,"display_name":"anonimos"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75372805,"answer_count":1,"score":0,"last_activity_date":1675770150,"creation_date":1675768955,"question_id":75372662,"body_markdown":"I am trying to replace \\ with double \\ in java. Thing is sometimes the \\ belongs to a unicode character (eg:\\u00E9) and in this case I don&#39;t want to do the escape.\r\nCurrently I am stuck at the actual replacement of \\.  This is just an example that will be a bit refactored :\r\n```    \r\nstatic boolean isUnicodeChar(String string) {\r\n        final String regex = &quot;(?&lt;!\\\\\\\\)(\\\\\\\\\\\\\\\\)*\\\\\\\\u[A-Fa-f\\\\d]{4}&quot;;\r\n        final Pattern pattern = Pattern.compile(regex, Pattern.MULTILINE | Pattern.UNICODE_CASE);\r\n        final Matcher matcher = pattern.matcher(string);\r\n        return matcher.find();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n\r\n        String string = &quot;Muir-Torr \\\\ \\\\u00E9 syndrome \\\\u1234 skd just some \\\\uabcd arbitrary text \\\\ s&quot;;\r\n        System.out.println(&quot;Old String: &quot; + string);\r\n\r\n        for (int startPosition = string.indexOf(&#39;\\\\&#39;); startPosition &gt;= 0; startPosition = string.indexOf(&#39;\\\\&#39;, startPosition + 1)) {\r\n            int strLength = string.length();\r\n//            int endPosition = startPosition + 5;\r\n            int endPosition = startPosition + 6;\r\n            System.out.println(&quot;\\\\ found at position: &quot; + startPosition);\r\n\r\n            if (endPosition &lt;= strLength - 1) {\r\n                String stringToCheck = string.substring(startPosition, endPosition);\r\n                System.out.println(&quot;Checking : &quot; + stringToCheck);\r\n                if (!isUnicodeChar(stringToCheck)) {\r\n                  //here I should replace the char that is found at start position with &quot;\\\\\\\\&quot;\r\n                    System.out.println(&quot;New String: &quot; + string);\r\n\r\n                } else {\r\n                    System.out.println(&quot;No replacement needed, is unicode char: &quot; + stringToCheck);\r\n\r\n                }\r\n            } else {\r\n              //here I should replace the char that is found at start position with &quot;\\\\\\\\&quot;\r\n                System.out.println(&quot;New String: &quot; + string);\r\n            }\r\n        }\r\n\r\n    }\r\n```\r\n\r\nReplaced string should be:         \r\n```&quot;Muir-Torr \\\\\\\\ \\\\u00E9 syndrome \\\\u1234 skd just some \\\\uabcd arbitrary text \\\\\\\\ s&quot;```;\r\n","title":"Replace \\\\ found at a particular position in a String in java (not all occurrences) with \\\\\\\\","body":"<p>I am trying to replace \\ with double \\ in java. Thing is sometimes the \\ belongs to a unicode character (eg:\\u00E9) and in this case I don't want to do the escape.\nCurrently I am stuck at the actual replacement of .  This is just an example that will be a bit refactored :</p>\n<pre><code>static boolean isUnicodeChar(String string) {\n        final String regex = &quot;(?&lt;!\\\\\\\\)(\\\\\\\\\\\\\\\\)*\\\\\\\\u[A-Fa-f\\\\d]{4}&quot;;\n        final Pattern pattern = Pattern.compile(regex, Pattern.MULTILINE | Pattern.UNICODE_CASE);\n        final Matcher matcher = pattern.matcher(string);\n        return matcher.find();\n    }\n\n    public static void main(String[] args) {\n\n        String string = &quot;Muir-Torr \\\\ \\\\u00E9 syndrome \\\\u1234 skd just some \\\\uabcd arbitrary text \\\\ s&quot;;\n        System.out.println(&quot;Old String: &quot; + string);\n\n        for (int startPosition = string.indexOf('\\\\'); startPosition &gt;= 0; startPosition = string.indexOf('\\\\', startPosition + 1)) {\n            int strLength = string.length();\n//            int endPosition = startPosition + 5;\n            int endPosition = startPosition + 6;\n            System.out.println(&quot;\\\\ found at position: &quot; + startPosition);\n\n            if (endPosition &lt;= strLength - 1) {\n                String stringToCheck = string.substring(startPosition, endPosition);\n                System.out.println(&quot;Checking : &quot; + stringToCheck);\n                if (!isUnicodeChar(stringToCheck)) {\n                  //here I should replace the char that is found at start position with &quot;\\\\\\\\&quot;\n                    System.out.println(&quot;New String: &quot; + string);\n\n                } else {\n                    System.out.println(&quot;No replacement needed, is unicode char: &quot; + stringToCheck);\n\n                }\n            } else {\n              //here I should replace the char that is found at start position with &quot;\\\\\\\\&quot;\n                System.out.println(&quot;New String: &quot; + string);\n            }\n        }\n\n    }\n</code></pre>\n<p>Replaced string should be:<br />\n<code>&quot;Muir-Torr \\\\\\\\ \\\\u00E9 syndrome \\\\u1234 skd just some \\\\uabcd arbitrary text \\\\\\\\ s&quot;</code>;</p>\n"},{"tags":["java","android","android-intent","android-package-managers"],"owner":{"account_id":27724776,"reputation":1,"user_id":21164560,"display_name":"Rakesh gohain"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675769917,"creation_date":1675769866,"question_id":75372821,"body_markdown":"I was trying to launch the app first with package name and then trying to pass data from 1st app to 2nd app but I got an error .\r\nI am using a button to launch the app from 1st app and a textview in 2nd app.\r\nI have installed both the apps but still I am getting error.\r\n\r\n\r\n\r\n\r\nfrom First app\r\n```\r\n\r\nClick.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n\r\n                Intent intent = getPackageManager().getLaunchIntentForPackage(&quot;com.example.secondapp&quot;);\r\n                intent.putExtra(&quot;key_name&quot;, value);\r\n                startActivity(intent);\r\n\r\n            }\r\n        });\r\n\r\n```\r\n\r\nI was also trying by this way:-\r\n\r\n```\r\n\r\n  String packageName = &quot;com.example.secondapp&quot;;\r\n                PackageManager pm = getPackageManager();\r\n                try {\r\n                    pm.getPackageInfo(packageName, PackageManager.GET_ACTIVITIES);\r\n                    Intent intent = pm.getLaunchIntentForPackage(packageName);\r\n                    intent.putExtra(&quot;key_name&quot;, &quot;value&quot;);\r\n                    startActivity(intent);\r\n                } catch (PackageManager.NameNotFoundException e) {\r\n                    // Package not found, show error message\r\n                    Toast.makeText(MainActivity.this, &quot;The other app is not installed on this device&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n//here it shows always the NameNotFound Exception \r\n\r\n```\r\n\r\n\r\n\r\nOn the Second app :-\r\n\r\n```\r\n\r\n String value = getIntent().getStringExtra(&quot;key_name&quot;);\r\n\r\n        if (value == null){\r\n\r\n            receive_data.setText(&quot;No Value&quot;);\r\n\r\n        }else {\r\n\r\n            receive_data.setText(value);\r\n        }\r\n\r\n```\r\n\r\n\r\nError in first app:-\r\n\r\n```\r\njava.lang.NullPointerException: Attempt to invoke virtual method &#39;android.content.Intent android.content.Intent.putExtra(java.lang.String, java.lang.String)&#39; on a null object reference\r\n\r\n```\r\nPlease help\r\n\r\n\r\nI want to launch the app from 1st app so that I can send the data from 1st app to 2nd app and to display the text over there","title":"I am unable to pass data from one android app to another app","body":"<p>I was trying to launch the app first with package name and then trying to pass data from 1st app to 2nd app but I got an error .\nI am using a button to launch the app from 1st app and a textview in 2nd app.\nI have installed both the apps but still I am getting error.</p>\n<p>from First app</p>\n<pre><code>\nClick.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n\n                Intent intent = getPackageManager().getLaunchIntentForPackage(&quot;com.example.secondapp&quot;);\n                intent.putExtra(&quot;key_name&quot;, value);\n                startActivity(intent);\n\n            }\n        });\n\n</code></pre>\n<p>I was also trying by this way:-</p>\n<pre><code>\n  String packageName = &quot;com.example.secondapp&quot;;\n                PackageManager pm = getPackageManager();\n                try {\n                    pm.getPackageInfo(packageName, PackageManager.GET_ACTIVITIES);\n                    Intent intent = pm.getLaunchIntentForPackage(packageName);\n                    intent.putExtra(&quot;key_name&quot;, &quot;value&quot;);\n                    startActivity(intent);\n                } catch (PackageManager.NameNotFoundException e) {\n                    // Package not found, show error message\n                    Toast.makeText(MainActivity.this, &quot;The other app is not installed on this device&quot;, Toast.LENGTH_SHORT).show();\n                }\n//here it shows always the NameNotFound Exception \n\n</code></pre>\n<p>On the Second app :-</p>\n<pre><code>\n String value = getIntent().getStringExtra(&quot;key_name&quot;);\n\n        if (value == null){\n\n            receive_data.setText(&quot;No Value&quot;);\n\n        }else {\n\n            receive_data.setText(value);\n        }\n\n</code></pre>\n<p>Error in first app:-</p>\n<pre><code>java.lang.NullPointerException: Attempt to invoke virtual method 'android.content.Intent android.content.Intent.putExtra(java.lang.String, java.lang.String)' on a null object reference\n\n</code></pre>\n<p>Please help</p>\n<p>I want to launch the app from 1st app so that I can send the data from 1st app to 2nd app and to display the text over there</p>\n"},{"tags":["java","python","interface","abstract-class"],"comments":[{"owner":{"account_id":36119,"reputation":5304,"user_id":102852,"display_name":"alex vasi"},"score":1,"creation_date":1321615843,"post_id":8181576,"comment_id":10050231,"body_markdown":"See http://stackoverflow.com/questions/372042/difference-between-abstract-class-and-interface-in-python Note the link to Zope interface module as an implementation of java-like interfaces.","body":"See <a href=\"http://stackoverflow.com/questions/372042/difference-between-abstract-class-and-interface-in-python\" title=\"difference between abstract class and interface in python\">stackoverflow.com/questions/372042/&hellip;</a> Note the link to Zope interface module as an implementation of java-like interfaces."},{"owner":{"account_id":1589784,"reputation":5289,"user_id":1601580,"accept_rate":47,"display_name":"Charlie Parker"},"score":0,"creation_date":1497829940,"post_id":8181576,"comment_id":76227072,"body_markdown":"is there a straight answer to this are there interfaces or not?","body":"is there a straight answer to this are there interfaces or not?"}],"answers":[{"comments":[{"owner":{"account_id":171501,"reputation":121188,"user_id":398968,"accept_rate":75,"display_name":"Katriel"},"score":0,"creation_date":1321616544,"post_id":8181696,"comment_id":10050420,"body_markdown":"This is already in the stdlib as `abc` (http://docs.python.org/library/abc.html).","body":"This is already in the stdlib as <code>abc</code> (<a href=\"http://docs.python.org/library/abc.html\" rel=\"nofollow noreferrer\">docs.python.org/library/abc.html</a>)."},{"owner":{"account_id":956684,"reputation":12801,"user_id":981855,"accept_rate":88,"display_name":"madjar"},"score":1,"creation_date":1321617843,"post_id":8181696,"comment_id":10050761,"body_markdown":"Well, `abc` is much better than the previous example, because `abc` will raise an error when the class is created while the previous example only raises when the method is called.","body":"Well, <code>abc</code> is much better than the previous example, because <code>abc</code> will raise an error when the class is created while the previous example only raises when the method is called."}],"tags":[],"owner":{"account_id":339701,"reputation":4025,"user_id":669337,"accept_rate":64,"display_name":"M S"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1321616046,"creation_date":1321615800,"answer_id":8181696,"question_id":8181576,"body_markdown":"May be you can use something like this. This will act as an abstract class. Every subclass is thus forced to implement func1()\r\n\r\n    class Abstract:\r\n    \r\n        def func1(self):\r\n            raise NotImplementedError(&quot;The method not implemented&quot;)","title":"Java abstract/interface design in Python","body":"<p>May be you can use something like this. This will act as an abstract class. Every subclass is thus forced to implement func1()</p>\n\n<pre><code>class Abstract:\n\n    def func1(self):\n        raise NotImplementedError(\"The method not implemented\")\n</code></pre>\n"},{"comments":[{"owner":{"account_id":36119,"reputation":5304,"user_id":102852,"display_name":"alex vasi"},"score":0,"creation_date":1321616030,"post_id":8181715,"comment_id":10050291,"body_markdown":"Or because there is no multiple inheritance in Java.","body":"Or because there is no multiple inheritance in Java."}],"tags":[],"owner":{"account_id":19462,"reputation":102762,"user_id":45664,"accept_rate":91,"display_name":"Andrzej Doyle"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1321615852,"creation_date":1321615852,"answer_id":8181715,"question_id":8181576,"body_markdown":"I&#39;m not that familiar with Python, but I would hazard a guess that it doesn&#39;t.\r\n\r\nThe reason why interfaces exist in Java is that they specify a **contract**.  Something that implements `java.util.List`, for example, is guaranteed to have an `add()` method to conforms to the general behaviour as defined on the interface.  You could drop in any (sane) implementation of List without knowing its specific class, call a sequence of methods defined on the interface and get the same general behaviour.\r\n\r\nMoreover, both the developer and compiler can know that such a method exists and is callable on the object in question, even if they don&#39;t know its exact class.  It&#39;s a form of polymorphism that&#39;s needed with static typing to allow different implementation classes yet still know that they&#39;re all legal.\r\n\r\nThis doesn&#39;t really make sense in Python, because it&#39;s not statically typed.  You don&#39;t need to declare the class of an object, nor convince the compiler that methods you&#39;re calling on it definitely exist.  &quot;Interfaces&quot; in a duck-typing world are as simple as invoking the method and trusting that the object can handle that message appropriately.\r\n\r\n*Note - edits from more knowledgeable Pythonistas are welcome.*","title":"Java abstract/interface design in Python","body":"<p>I'm not that familiar with Python, but I would hazard a guess that it doesn't.</p>\n\n<p>The reason why interfaces exist in Java is that they specify a <strong>contract</strong>.  Something that implements <code>java.util.List</code>, for example, is guaranteed to have an <code>add()</code> method to conforms to the general behaviour as defined on the interface.  You could drop in any (sane) implementation of List without knowing its specific class, call a sequence of methods defined on the interface and get the same general behaviour.</p>\n\n<p>Moreover, both the developer and compiler can know that such a method exists and is callable on the object in question, even if they don't know its exact class.  It's a form of polymorphism that's needed with static typing to allow different implementation classes yet still know that they're all legal.</p>\n\n<p>This doesn't really make sense in Python, because it's not statically typed.  You don't need to declare the class of an object, nor convince the compiler that methods you're calling on it definitely exist.  \"Interfaces\" in a duck-typing world are as simple as invoking the method and trusting that the object can handle that message appropriately.</p>\n\n<p><em>Note - edits from more knowledgeable Pythonistas are welcome.</em></p>\n"},{"tags":[],"owner":{"account_id":171501,"reputation":121188,"user_id":398968,"accept_rate":75,"display_name":"Katriel"},"comment_count":0,"down_vote_count":0,"up_vote_count":78,"is_accepted":true,"score":78,"last_activity_date":1613767490,"creation_date":1321616523,"answer_id":8181859,"question_id":8181576,"body_markdown":"There&#39;s a bit of a story behind interfaces in Python. The original attitude, which held sway for many years, is that you don&#39;t need them: Python works on the EAFP (easier to ask forgiveness than permission) principle. That is, instead of specifying that you accept an, I don&#39;t know, ICloseable object, you simply try to `close` the object when you need to, and if it raises an exception then it raises an exception.\r\n\r\nSo in this mentality you would just write your classes separately, and use them as you will. If one of them doesn&#39;t conform to the requirements, your program will raise an exception; conversely, if you write another class with the right methods then it will just work, without your needing to specify that it implements your particular interface.\r\n\r\nThis works pretty well, but there are definite use cases for interfaces, especially with larger software projects. The final decision in Python was to provide the [`abc`][1] module, which allows you to write _abstract base classes_ i.e. classes that you can&#39;t instantiate unless you override all their methods. It&#39;s your decision as to whether you think using them is worth it.\r\n\r\nThe [PEP introducing ABCs][2] explain much better than I can:\r\n\r\n&gt; In the domain of object-oriented programming, the usage patterns for\r\n&gt; interacting with an object can be divided into two basic categories,\r\n&gt; which are &#39;invocation&#39; and &#39;inspection&#39;.\r\n&gt; \r\n&gt; Invocation means interacting with an object by invoking its methods.\r\n&gt; Usually this is combined with polymorphism, so that invoking a given\r\n&gt; method may run different code depending on the type of an object.\r\n&gt; \r\n&gt; Inspection means the ability for external code (outside of the\r\n&gt; object&#39;s methods) to examine the type or properties of that object,\r\n&gt; and make decisions on how to treat that object based on that\r\n&gt; information.\r\n&gt; \r\n&gt; Both usage patterns serve the same general end, which is to be able to\r\n&gt; support the processing of diverse and potentially novel objects in a\r\n&gt; uniform way, but at the same time allowing processing decisions to be\r\n&gt; customized for each different type of object.\r\n&gt; \r\n&gt; In classical OOP theory, invocation is the preferred usage pattern,\r\n&gt; and inspection is actively discouraged, being considered a relic of an\r\n&gt; earlier, procedural programming style. However, in practice this view\r\n&gt; is simply too dogmatic and inflexible, and leads to a kind of design\r\n&gt; rigidity that is very much at odds with the dynamic nature of a\r\n&gt; language like Python.\r\n&gt; \r\n&gt; In particular, there is often a need to process objects in a way that\r\n&gt; wasn&#39;t anticipated by the creator of the object class. It is not\r\n&gt; always the best solution to build in to every object methods that\r\n&gt; satisfy the needs of every possible user of that object. Moreover,\r\n&gt; there are many powerful dispatch philosophies that are in direct\r\n&gt; contrast to the classic OOP requirement of behavior being strictly\r\n&gt; encapsulated within an object, examples being rule or pattern-match\r\n&gt; driven logic.\r\n&gt; \r\n&gt; On the other hand, one of the criticisms of inspection by classic OOP\r\n&gt; theorists is the lack of formalisms and the ad hoc nature of what is\r\n&gt; being inspected. In a language such as Python, in which almost any\r\n&gt; aspect of an object can be reflected and directly accessed by external\r\n&gt; code, there are many different ways to test whether an object conforms\r\n&gt; to a particular protocol or not. For example, if asking &#39;is this\r\n&gt; object a mutable sequence container?&#39;, one can look for a base class\r\n&gt; of &#39;list&#39;, or one can look for a method named &#39;\\__getitem__&#39;. But note\r\n&gt; that although these tests may seem obvious, neither of them are\r\n&gt; correct, as one generates false negatives, and the other false\r\n&gt; positives.\r\n&gt; \r\n&gt; The generally agreed-upon remedy is to standardize the tests, and\r\n&gt; group them into a formal arrangement. This is most easily done by\r\n&gt; associating with each class a set of standard testable properties,\r\n&gt; either via the inheritance mechanism or some other means. Each test\r\n&gt; carries with it a set of promises: it contains a promise about the\r\n&gt; general behavior of the class, and a promise as to what other class\r\n&gt; methods will be available.\r\n&gt; \r\n&gt; This PEP proposes a particular strategy for organizing these tests\r\n&gt; known as Abstract Base Classes, or ABC. ABCs are simply Python classes\r\n&gt; that are added into an object&#39;s inheritance tree to signal certain\r\n&gt; features of that object to an external inspector. Tests are done using\r\n&gt; isinstance(), and the presence of a particular ABC means that the test\r\n&gt; has passed.\r\n&gt; \r\n&gt; In addition, the ABCs define a minimal set of methods that establish\r\n&gt; the characteristic behavior of the type. Code that discriminates\r\n&gt; objects based on their ABC type can trust that those methods will\r\n&gt; always be present. Each of these methods are accompanied by an\r\n&gt; generalized abstract semantic definition that is described in the\r\n&gt; documentation for the ABC. These standard semantic definitions are not\r\n&gt; enforced, but are strongly recommended.\r\n&gt; \r\n&gt; Like all other things in Python, these promises are in the nature of a\r\n&gt; gentlemen&#39;s agreement, which in this case means that while the\r\n&gt; language does enforce some of the promises made in the ABC, it is up\r\n&gt; to the implementer of the concrete class to insure that the remaining\r\n&gt; ones are kept.\r\n\r\n\r\n  [1]: http://docs.python.org/library/abc.html\r\n  [2]: http://www.python.org/dev/peps/pep-3119/","title":"Java abstract/interface design in Python","body":"<p>There's a bit of a story behind interfaces in Python. The original attitude, which held sway for many years, is that you don't need them: Python works on the EAFP (easier to ask forgiveness than permission) principle. That is, instead of specifying that you accept an, I don't know, ICloseable object, you simply try to <code>close</code> the object when you need to, and if it raises an exception then it raises an exception.</p>\n<p>So in this mentality you would just write your classes separately, and use them as you will. If one of them doesn't conform to the requirements, your program will raise an exception; conversely, if you write another class with the right methods then it will just work, without your needing to specify that it implements your particular interface.</p>\n<p>This works pretty well, but there are definite use cases for interfaces, especially with larger software projects. The final decision in Python was to provide the <a href=\"http://docs.python.org/library/abc.html\" rel=\"noreferrer\"><code>abc</code></a> module, which allows you to write <em>abstract base classes</em> i.e. classes that you can't instantiate unless you override all their methods. It's your decision as to whether you think using them is worth it.</p>\n<p>The <a href=\"http://www.python.org/dev/peps/pep-3119/\" rel=\"noreferrer\">PEP introducing ABCs</a> explain much better than I can:</p>\n<blockquote>\n<p>In the domain of object-oriented programming, the usage patterns for\ninteracting with an object can be divided into two basic categories,\nwhich are 'invocation' and 'inspection'.</p>\n<p>Invocation means interacting with an object by invoking its methods.\nUsually this is combined with polymorphism, so that invoking a given\nmethod may run different code depending on the type of an object.</p>\n<p>Inspection means the ability for external code (outside of the\nobject's methods) to examine the type or properties of that object,\nand make decisions on how to treat that object based on that\ninformation.</p>\n<p>Both usage patterns serve the same general end, which is to be able to\nsupport the processing of diverse and potentially novel objects in a\nuniform way, but at the same time allowing processing decisions to be\ncustomized for each different type of object.</p>\n<p>In classical OOP theory, invocation is the preferred usage pattern,\nand inspection is actively discouraged, being considered a relic of an\nearlier, procedural programming style. However, in practice this view\nis simply too dogmatic and inflexible, and leads to a kind of design\nrigidity that is very much at odds with the dynamic nature of a\nlanguage like Python.</p>\n<p>In particular, there is often a need to process objects in a way that\nwasn't anticipated by the creator of the object class. It is not\nalways the best solution to build in to every object methods that\nsatisfy the needs of every possible user of that object. Moreover,\nthere are many powerful dispatch philosophies that are in direct\ncontrast to the classic OOP requirement of behavior being strictly\nencapsulated within an object, examples being rule or pattern-match\ndriven logic.</p>\n<p>On the other hand, one of the criticisms of inspection by classic OOP\ntheorists is the lack of formalisms and the ad hoc nature of what is\nbeing inspected. In a language such as Python, in which almost any\naspect of an object can be reflected and directly accessed by external\ncode, there are many different ways to test whether an object conforms\nto a particular protocol or not. For example, if asking 'is this\nobject a mutable sequence container?', one can look for a base class\nof 'list', or one can look for a method named '_<em>getitem</em>_'. But note\nthat although these tests may seem obvious, neither of them are\ncorrect, as one generates false negatives, and the other false\npositives.</p>\n<p>The generally agreed-upon remedy is to standardize the tests, and\ngroup them into a formal arrangement. This is most easily done by\nassociating with each class a set of standard testable properties,\neither via the inheritance mechanism or some other means. Each test\ncarries with it a set of promises: it contains a promise about the\ngeneral behavior of the class, and a promise as to what other class\nmethods will be available.</p>\n<p>This PEP proposes a particular strategy for organizing these tests\nknown as Abstract Base Classes, or ABC. ABCs are simply Python classes\nthat are added into an object's inheritance tree to signal certain\nfeatures of that object to an external inspector. Tests are done using\nisinstance(), and the presence of a particular ABC means that the test\nhas passed.</p>\n<p>In addition, the ABCs define a minimal set of methods that establish\nthe characteristic behavior of the type. Code that discriminates\nobjects based on their ABC type can trust that those methods will\nalways be present. Each of these methods are accompanied by an\ngeneralized abstract semantic definition that is described in the\ndocumentation for the ABC. These standard semantic definitions are not\nenforced, but are strongly recommended.</p>\n<p>Like all other things in Python, these promises are in the nature of a\ngentlemen's agreement, which in this case means that while the\nlanguage does enforce some of the promises made in the ABC, it is up\nto the implementer of the concrete class to insure that the remaining\nones are kept.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":352992,"reputation":22062,"user_id":690430,"accept_rate":100,"display_name":"Kamil Sindi"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1521811513,"creation_date":1495984302,"answer_id":44228820,"question_id":8181576,"body_markdown":"I wrote a [library][1] in 3.5+ the allows for writing interfaces in Python.\r\n\r\nThe gist is to write a class decorator with the help of `inspect`.\r\n\r\n\r\n    import inspect\r\n    \r\n    \r\n    def implements(interface_cls):\r\n        def _decorator(cls):\r\n            verify_methods(interface_cls, cls)\r\n            verify_properties(interface_cls, cls)\r\n            verify_attributes(interface_cls, cls)\r\n            return cls\r\n    \r\n        return _decorator\r\n    \r\n    \r\n    def verify_methods(interface_cls, cls):\r\n        methods_predicate = lambda m: inspect.isfunction(m) or inspect.ismethod(m)\r\n        for name, method in inspect.getmembers(interface_cls, methods_predicate):\r\n            signature = inspect.signature(method)\r\n            cls_method = getattr(cls, name, None)\r\n            cls_signature = inspect.signature(cls_method) if cls_method else None\r\n            if cls_signature != signature:\r\n                raise NotImplementedError(\r\n                    &quot;&#39;{}&#39; must implement method &#39;{}({})&#39; defined in interface &#39;{}&#39;&quot;\r\n                    .format(cls.__name__, name, signature, interface_cls.__name__)\r\n                )\r\n    \r\n    \r\n    def verify_properties(interface_cls, cls):\r\n        prop_attrs = dict(fget=&#39;getter&#39;, fset=&#39;setter&#39;, fdel=&#39;deleter&#39;)\r\n        for name, prop in inspect.getmembers(interface_cls, inspect.isdatadescriptor):\r\n            cls_prop = getattr(cls, name, None)\r\n            for attr in prop_attrs:\r\n                # instanceof doesn&#39;t work for class function comparison\r\n                if type(getattr(prop, attr, None)) != type(getattr(cls_prop, attr, None)):\r\n                    raise NotImplementedError(\r\n                        &quot;&#39;{}&#39; must implement a {} for property &#39;{}&#39; defined in interface &#39;{}&#39;&quot;  # flake8: noqa\r\n                        .format(cls.__name__, prop_attrs[attr], name, interface_cls.__name__)\r\n                    )\r\n    \r\n    \r\n    def verify_attributes(interface_cls, cls):\r\n        interface_attributes = get_attributes(interface_cls)\r\n        cls_attributes = get_attributes(cls)\r\n        for missing_attr in (interface_attributes - cls_attributes):\r\n            raise NotImplementedError(\r\n                &quot;&#39;{}&#39; must have class attribute &#39;{}&#39; defined in interface &#39;{}&#39;&quot;\r\n                .format(cls.__name__, missing_attr, interface_cls.__name__)\r\n            )\r\n    \r\n    \r\n    def get_attributes(cls):\r\n        boring = dir(type(&#39;dummy&#39;, (object,), {}))\r\n        return set(item[0] for item in inspect.getmembers(cls)\r\n                   if item[0] not in boring and not callable(item[1]))\r\n\r\n\r\nYou can then write classes like this:\r\n\r\n    class Quackable:\r\n        def quack(self) -&gt; bool:\r\n            pass\r\n    \r\n\r\n    @implements(Quackable)\r\n    class MallardDuck:    \r\n        def quack(self) -&gt; bool:\r\n            pass\r\n\r\nBelow would give you an error though:\r\n\r\n    @implements(Quackable)\r\n    class RubberDuck:    \r\n        def quack(self) -&gt; str:\r\n            pass\r\n\r\n    NotImplementedError: &#39;RubberdDuck&#39; must implement method &#39;quack((self) -&gt; bool)&#39; defined in interface &#39;Quackable&#39;\r\n\r\n  [1]: https://github.com/ksindi/implements\r\n","title":"Java abstract/interface design in Python","body":"<p>I wrote a <a href=\"https://github.com/ksindi/implements\" rel=\"nofollow noreferrer\">library</a> in 3.5+ the allows for writing interfaces in Python.</p>\n\n<p>The gist is to write a class decorator with the help of <code>inspect</code>.</p>\n\n<pre><code>import inspect\n\n\ndef implements(interface_cls):\n    def _decorator(cls):\n        verify_methods(interface_cls, cls)\n        verify_properties(interface_cls, cls)\n        verify_attributes(interface_cls, cls)\n        return cls\n\n    return _decorator\n\n\ndef verify_methods(interface_cls, cls):\n    methods_predicate = lambda m: inspect.isfunction(m) or inspect.ismethod(m)\n    for name, method in inspect.getmembers(interface_cls, methods_predicate):\n        signature = inspect.signature(method)\n        cls_method = getattr(cls, name, None)\n        cls_signature = inspect.signature(cls_method) if cls_method else None\n        if cls_signature != signature:\n            raise NotImplementedError(\n                \"'{}' must implement method '{}({})' defined in interface '{}'\"\n                .format(cls.__name__, name, signature, interface_cls.__name__)\n            )\n\n\ndef verify_properties(interface_cls, cls):\n    prop_attrs = dict(fget='getter', fset='setter', fdel='deleter')\n    for name, prop in inspect.getmembers(interface_cls, inspect.isdatadescriptor):\n        cls_prop = getattr(cls, name, None)\n        for attr in prop_attrs:\n            # instanceof doesn't work for class function comparison\n            if type(getattr(prop, attr, None)) != type(getattr(cls_prop, attr, None)):\n                raise NotImplementedError(\n                    \"'{}' must implement a {} for property '{}' defined in interface '{}'\"  # flake8: noqa\n                    .format(cls.__name__, prop_attrs[attr], name, interface_cls.__name__)\n                )\n\n\ndef verify_attributes(interface_cls, cls):\n    interface_attributes = get_attributes(interface_cls)\n    cls_attributes = get_attributes(cls)\n    for missing_attr in (interface_attributes - cls_attributes):\n        raise NotImplementedError(\n            \"'{}' must have class attribute '{}' defined in interface '{}'\"\n            .format(cls.__name__, missing_attr, interface_cls.__name__)\n        )\n\n\ndef get_attributes(cls):\n    boring = dir(type('dummy', (object,), {}))\n    return set(item[0] for item in inspect.getmembers(cls)\n               if item[0] not in boring and not callable(item[1]))\n</code></pre>\n\n<p>You can then write classes like this:</p>\n\n<pre><code>class Quackable:\n    def quack(self) -&gt; bool:\n        pass\n\n\n@implements(Quackable)\nclass MallardDuck:    \n    def quack(self) -&gt; bool:\n        pass\n</code></pre>\n\n<p>Below would give you an error though:</p>\n\n<pre><code>@implements(Quackable)\nclass RubberDuck:    \n    def quack(self) -&gt; str:\n        pass\n\nNotImplementedError: 'RubberdDuck' must implement method 'quack((self) -&gt; bool)' defined in interface 'Quackable'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16419918,"reputation":2129,"user_id":11861378,"display_name":"Ad&#225;n Escobar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675769900,"creation_date":1675769900,"answer_id":75372827,"question_id":8181576,"body_markdown":"according this articule https://realpython.com/python-interface/ , this is how you can do `formal interface`:\r\n\r\n    import abc\r\n    \r\n    class CRUDInterface(metaclass=abc.ABCMeta):\r\n        @abc.abstractmethod\r\n        def create(self, *args, **kwargs):\r\n            &quot;&quot;&quot;Load in the data set&quot;&quot;&quot;\r\n            raise NotImplementedError\r\n        \r\n        @abc.abstractmethod\r\n        def read(self, *args, **kwargs):\r\n            &quot;&quot;&quot;Load in the data set&quot;&quot;&quot;\r\n            raise NotImplementedError\r\n        \r\n        @abc.abstractmethod\r\n        def update(self, *args, **kwargs):\r\n            &quot;&quot;&quot;Load in the data set&quot;&quot;&quot;\r\n            raise NotImplementedError\r\n        \r\n        @abc.abstractmethod\r\n        def delete(self, *args, **kwargs):\r\n            &quot;&quot;&quot;Load in the data set&quot;&quot;&quot;\r\n            raise NotImplementedError\r\n    \r\n    \r\n    \r\n    class ModelTest1(CRUDInterface):\r\n        def create(self, *args, **kwargs):\r\n            pass\r\n        def read(self, *args, **kwargs):\r\n            pass\r\n        def update(self, *args, **kwargs):\r\n            pass\r\n        def delete(self, *args, **kwargs):\r\n            pass\r\n        \r\n    class ModelTest2(CRUDInterface):\r\n            pass\r\n        \r\nformal interface that will raise errors when the abstract methods aren’t overridden.\r\n\r\n    &gt;&gt;&gt; t1 = ModelTest1()\r\n    &gt;&gt;&gt; t2 = ModelTest2()\r\n    Traceback (most recent call last):\r\n      File &quot;../abstractmodel.py&quot;, line 46, in &lt;module&gt;\r\n        t2 = ModelTest2()\r\n    TypeError: Can&#39;t instantiate abstract class ModelTest2 with abstract methods create, delete, read, update","title":"Java abstract/interface design in Python","body":"<p>according this articule <a href=\"https://realpython.com/python-interface/\" rel=\"nofollow noreferrer\">https://realpython.com/python-interface/</a> , this is how you can do <code>formal interface</code>:</p>\n<pre><code>import abc\n\nclass CRUDInterface(metaclass=abc.ABCMeta):\n    @abc.abstractmethod\n    def create(self, *args, **kwargs):\n        &quot;&quot;&quot;Load in the data set&quot;&quot;&quot;\n        raise NotImplementedError\n    \n    @abc.abstractmethod\n    def read(self, *args, **kwargs):\n        &quot;&quot;&quot;Load in the data set&quot;&quot;&quot;\n        raise NotImplementedError\n    \n    @abc.abstractmethod\n    def update(self, *args, **kwargs):\n        &quot;&quot;&quot;Load in the data set&quot;&quot;&quot;\n        raise NotImplementedError\n    \n    @abc.abstractmethod\n    def delete(self, *args, **kwargs):\n        &quot;&quot;&quot;Load in the data set&quot;&quot;&quot;\n        raise NotImplementedError\n\n\n\nclass ModelTest1(CRUDInterface):\n    def create(self, *args, **kwargs):\n        pass\n    def read(self, *args, **kwargs):\n        pass\n    def update(self, *args, **kwargs):\n        pass\n    def delete(self, *args, **kwargs):\n        pass\n    \nclass ModelTest2(CRUDInterface):\n        pass\n    \n</code></pre>\n<p>formal interface that will raise errors when the abstract methods aren’t overridden.</p>\n<pre><code>&gt;&gt;&gt; t1 = ModelTest1()\n&gt;&gt;&gt; t2 = ModelTest2()\nTraceback (most recent call last):\n  File &quot;../abstractmodel.py&quot;, line 46, in &lt;module&gt;\n    t2 = ModelTest2()\nTypeError: Can't instantiate abstract class ModelTest2 with abstract methods create, delete, read, update\n</code></pre>\n"}],"owner":{"account_id":151953,"reputation":11217,"user_id":366133,"accept_rate":98,"display_name":"Matt"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26066,"favorite_count":0,"down_vote_count":0,"up_vote_count":50,"accepted_answer_id":8181859,"answer_count":5,"score":50,"last_activity_date":1675769900,"creation_date":1321615266,"question_id":8181576,"body_markdown":"I have a number of classes which all share the same methods, only with different implementations. In Java, it would make sense to have each of these classes implement an interface or extend an abstract class. Does Python have anything similar to this, or should I be taking an alternative approach?","title":"Java abstract/interface design in Python","body":"<p>I have a number of classes which all share the same methods, only with different implementations. In Java, it would make sense to have each of these classes implement an interface or extend an abstract class. Does Python have anything similar to this, or should I be taking an alternative approach?</p>\n"},{"tags":["java","mysql","jdbc"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1675679023,"post_id":75357408,"comment_id":132973890,"body_markdown":"Which version of MySQL Connector/J are you using, and which version of MySQL? At a guess, you&#39;re using a 5.1.x version of Connector/J and MySQL 8. You need to upgrade to the latest 5.1.x or to the 8.0.x version of MySQL Connector/J if you want to connect to MySQL 8.","body":"Which version of MySQL Connector/J are you using, and which version of MySQL? At a guess, you&#39;re using a 5.1.x version of Connector/J and MySQL 8. You need to upgrade to the latest 5.1.x or to the 8.0.x version of MySQL Connector/J if you want to connect to MySQL 8."}],"answers":[{"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1675679089,"post_id":75357419,"comment_id":132973920,"body_markdown":"Given the stacktrace clearly shows the MySQL Connector/J driver is getting used, this advice makes no sense. Since Java 6 (JDBC 4), drivers are loaded automatically if the driver has the right service definition files (and drivers released in the last decade and a half have those).","body":"Given the stacktrace clearly shows the MySQL Connector/J driver is getting used, this advice makes no sense. Since Java 6 (JDBC 4), drivers are loaded automatically if the driver has the right service definition files (and drivers released in the last decade and a half have those)."}],"tags":[],"owner":{"account_id":11698628,"reputation":107,"user_id":8564538,"display_name":"Nikhil Shinde"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1675658841,"creation_date":1675658841,"answer_id":75357419,"question_id":75357408,"body_markdown":"Did you try adding this before calling getConnection? \r\nClass.forName(&quot;com.mysql.jdbc.Driver&quot;);  \r\n","title":"Could not create connection to MySQL database server using JDBC","body":"<p>Did you try adding this before calling getConnection?\nClass.forName(&quot;com.mysql.jdbc.Driver&quot;);</p>\n"}],"owner":{"account_id":27712813,"reputation":1,"user_id":21155129,"display_name":"GROOKEY"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":276,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675769688,"creation_date":1675658646,"question_id":75357408,"body_markdown":"I wrote this program and I just started using JDBC and MySQL:\r\n\r\n```java\r\nimport java.sql.*;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) throws SQLException{\r\n        String mysqlUrl = &quot;jdbc:mysql://localhost:3306/sql_invoicing?autoReconnect=true&amp;useSSL=false&quot;;\r\n        Connection con = DriverManager.getConnection(mysqlUrl, &quot;root&quot;, &quot;****&quot;);\r\n        System.out.println(&quot;Connection established......&quot;);\r\n    }\r\n}\r\n```\r\n\r\nI am getting the below errors when I run it. Can someone help fixing this?\r\n\r\n```none\r\nException in thread &quot;main&quot; com.mysql.jdbc.exceptions.jdbc4.MySQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:78)\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\r\n\tat com.mysql.jdbc.Util.handleNewInstance(Util.java:425)\r\n\tat com.mysql.jdbc.Util.getInstance(Util.java:408)\r\n\tat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:918)\r\n\tat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:897)\r\n\tat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:886)\r\n\tat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:860)\r\n\tat com.mysql.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:2163)\r\n\tat com.mysql.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:2088)\r\n\tat com.mysql.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:806)\r\n\tat com.mysql.jdbc.JDBC4Connection.&lt;init&gt;(JDBC4Connection.java:47)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:78)\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\r\n\tat com.mysql.jdbc.Util.handleNewInstance(Util.java:425)\r\n\tat com.mysql.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:410)\r\n\tat com.mysql.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:328)\r\n\tat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)\r\n\tat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)\r\n\tat Main.main(Main.java:5)\r\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;java.util.Map.get(Object)&quot; because &quot;this.serverVariables&quot; is null\r\n\tat com.mysql.jdbc.ConnectionImpl.getServerCharset(ConnectionImpl.java:2997)\r\n\tat com.mysql.jdbc.MysqlIO.sendConnectionAttributes(MysqlIO.java:1934)\r\n\tat com.mysql.jdbc.MysqlIO.proceedHandshakeWithPluggableAuthentication(MysqlIO.java:1863)\r\n\tat com.mysql.jdbc.MysqlIO.doHandshake(MysqlIO.java:1226)\r\n\tat com.mysql.jdbc.ConnectionImpl.coreConnect(ConnectionImpl.java:2253)\r\n\tat com.mysql.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:2104)\r\n\t... 14 more\r\n```\r\n\r\nI verified that the database was running and the username and password were correct.","title":"Could not create connection to MySQL database server using JDBC","body":"<p>I wrote this program and I just started using JDBC and MySQL:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.sql.*;\n\npublic class Main {\n    public static void main(String[] args) throws SQLException{\n        String mysqlUrl = &quot;jdbc:mysql://localhost:3306/sql_invoicing?autoReconnect=true&amp;useSSL=false&quot;;\n        Connection con = DriverManager.getConnection(mysqlUrl, &quot;root&quot;, &quot;****&quot;);\n        System.out.println(&quot;Connection established......&quot;);\n    }\n}\n</code></pre>\n<p>I am getting the below errors when I run it. Can someone help fixing this?</p>\n<pre class=\"lang-none prettyprint-override\"><code>Exception in thread &quot;main&quot; com.mysql.jdbc.exceptions.jdbc4.MySQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:78)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\n    at com.mysql.jdbc.Util.handleNewInstance(Util.java:425)\n    at com.mysql.jdbc.Util.getInstance(Util.java:408)\n    at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:918)\n    at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:897)\n    at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:886)\n    at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:860)\n    at com.mysql.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:2163)\n    at com.mysql.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:2088)\n    at com.mysql.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:806)\n    at com.mysql.jdbc.JDBC4Connection.&lt;init&gt;(JDBC4Connection.java:47)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:78)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\n    at com.mysql.jdbc.Util.handleNewInstance(Util.java:425)\n    at com.mysql.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:410)\n    at com.mysql.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:328)\n    at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)\n    at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)\n    at Main.main(Main.java:5)\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;java.util.Map.get(Object)&quot; because &quot;this.serverVariables&quot; is null\n    at com.mysql.jdbc.ConnectionImpl.getServerCharset(ConnectionImpl.java:2997)\n    at com.mysql.jdbc.MysqlIO.sendConnectionAttributes(MysqlIO.java:1934)\n    at com.mysql.jdbc.MysqlIO.proceedHandshakeWithPluggableAuthentication(MysqlIO.java:1863)\n    at com.mysql.jdbc.MysqlIO.doHandshake(MysqlIO.java:1226)\n    at com.mysql.jdbc.ConnectionImpl.coreConnect(ConnectionImpl.java:2253)\n    at com.mysql.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:2104)\n    ... 14 more\n</code></pre>\n<p>I verified that the database was running and the username and password were correct.</p>\n"},{"tags":["java","mule","dataweave","mule4"],"answers":[{"comments":[{"owner":{"account_id":24768273,"reputation":361,"user_id":18652037,"display_name":"GettingStarted With123"},"score":0,"creation_date":1676062400,"post_id":75367687,"comment_id":133069124,"body_markdown":"Thanks @sudhish_s for this , with a little tweaks was able to achieve desired result  , thank you !","body":"Thanks @sudhish_s for this , with a little tweaks was able to achieve desired result  , thank you !"}],"tags":[],"owner":{"account_id":22577082,"reputation":573,"user_id":16762366,"display_name":"sudhish_s"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675727189,"creation_date":1675727189,"answer_id":75367687,"question_id":75360870,"body_markdown":"Slightly different version. Used arrays for reference. \r\n\r\n```\r\n%dw 2.0\r\noutput application/xml\r\nvar hierarchy = [&quot;gp&quot;, &quot;parent&quot;, &quot;child&quot;]\r\nfun getDirectGeanologies(records, level) = do {\r\n    var hLevel = hierarchy[level]\r\n    ---\r\n    records groupBy $[hLevel] mapObject ((children, code) -&gt; \r\n        genealogy: {\r\n            code: code,\r\n            eye_colour: children[0][hLevel ++ &quot;_eye_colour&quot;],\r\n            name: children[0][hLevel ++ &quot;_name&quot;],\r\n            hierarchy: \r\n                if (level == sizeOf(hierarchy) - 1) {}\r\n                else do {\r\n                    var nextLevel = level + 1\r\n                    var nextGen = children groupBy ($[hierarchy[nextLevel]])\r\n                    --- \r\n                    nextGen mapObject ((nextGenChildren, nextGenCode) -&gt; \r\n                        if (nextGenCode == code)\r\n                            getDirectGeanologies (nextGenChildren, nextLevel + 1 )\r\n                        else\r\n                            getDirectGeanologies (nextGenChildren, nextLevel)\r\n                    )                   \r\n                }\r\n                                            \r\n        }\r\n    )\r\n}\r\n---\r\nlist: getDirectGeanologies(payload,0)\r\n\r\n```\r\n\r\nThe issue with elements appear multiple times is due to the `level1Childs` is Array. Change the output to `json`, it will be more clear. If you want to use your code, change the `eye_colour` and `name` mapping to below\r\n```\r\n                eye_colour: if(isGp) (level1Childs[0].gp_eye_colour) else if(isParent) (level1Childs[0].parent_eye_colour) else (level1Childs[0].child_eye_colour),\r\n                name: if(isGp) (level1Childs[0].gp_name) else if(isParent) (level1Childs[0].parent_name) else (level1Childs[0].child_name),\r\n```","title":"Derive parent-child hierarchy from an array using DataWeave (additional details)","body":"<p>Slightly different version. Used arrays for reference.</p>\n<pre><code>%dw 2.0\noutput application/xml\nvar hierarchy = [&quot;gp&quot;, &quot;parent&quot;, &quot;child&quot;]\nfun getDirectGeanologies(records, level) = do {\n    var hLevel = hierarchy[level]\n    ---\n    records groupBy $[hLevel] mapObject ((children, code) -&gt; \n        genealogy: {\n            code: code,\n            eye_colour: children[0][hLevel ++ &quot;_eye_colour&quot;],\n            name: children[0][hLevel ++ &quot;_name&quot;],\n            hierarchy: \n                if (level == sizeOf(hierarchy) - 1) {}\n                else do {\n                    var nextLevel = level + 1\n                    var nextGen = children groupBy ($[hierarchy[nextLevel]])\n                    --- \n                    nextGen mapObject ((nextGenChildren, nextGenCode) -&gt; \n                        if (nextGenCode == code)\n                            getDirectGeanologies (nextGenChildren, nextLevel + 1 )\n                        else\n                            getDirectGeanologies (nextGenChildren, nextLevel)\n                    )                   \n                }\n                                            \n        }\n    )\n}\n---\nlist: getDirectGeanologies(payload,0)\n\n</code></pre>\n<p>The issue with elements appear multiple times is due to the <code>level1Childs</code> is Array. Change the output to <code>json</code>, it will be more clear. If you want to use your code, change the <code>eye_colour</code> and <code>name</code> mapping to below</p>\n<pre><code>                eye_colour: if(isGp) (level1Childs[0].gp_eye_colour) else if(isParent) (level1Childs[0].parent_eye_colour) else (level1Childs[0].child_eye_colour),\n                name: if(isGp) (level1Childs[0].gp_name) else if(isParent) (level1Childs[0].parent_name) else (level1Childs[0].child_name),\n</code></pre>\n"}],"owner":{"account_id":24768273,"reputation":361,"user_id":18652037,"display_name":"GettingStarted With123"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75367687,"answer_count":1,"score":0,"last_activity_date":1675769583,"creation_date":1675683794,"question_id":75360870,"body_markdown":"This is a follow up to an [earlier][1] question. Thanks @harshank for the quick help. I am posting this question separately since there was an additional check required which I had not asked in the earlier question. So, the solution posted earlier works fine for the stated requirement.\r\n\r\nI am adding the additional requirement here:\r\n1. The decision if ```gp``` and ```parent``` match depends on an additional attribute ```eye_colour``` (please see sample payload below).\r\n\r\n2. Also in the response additional fields need to be populated (which was not mentioned in the earlier question). Things like ```name``` and ```eye_colour```.\r\n\r\nSo, as an example this is the payload:\r\n\r\n```json\r\n[\r\n  {\r\n    &quot;gp&quot;: &quot;T1&quot;,\r\n    &quot;gp_eye_colour&quot;: &quot;blue&quot;,\r\n    &quot;gp_name&quot; : &quot;John&quot;,\r\n    &quot;parent&quot;: &quot;T1&quot;,\r\n    &quot;parent_eye_colour&quot; : &quot;black&quot;,\r\n    &quot;parent_name&quot; : &quot;Sam&quot;,\r\n    &quot;child&quot;: &quot;C1&quot;,\r\n    &quot;child_eye_colour&quot; : &quot;brown&quot;,\r\n    &quot;child_name&quot; : &quot;C1&quot;\r\n\r\n  },\r\n {\r\n    &quot;gp&quot;: &quot;T1&quot;,\r\n    &quot;gp_eye_colour&quot;: &quot;blue&quot;,\r\n    &quot;gp_name&quot; : &quot;John&quot;,\r\n    &quot;parent&quot;: &quot;T1&quot;,\r\n    &quot;parent_eye_colour&quot; : &quot;black&quot;,\r\n    &quot;parent_name&quot; : &quot;Sam&quot;,\r\n    &quot;child&quot;: &quot;C1&quot;,\r\n    &quot;child_eye_colour&quot; : &quot;brown&quot;,\r\n    &quot;child_name&quot; : &quot;C1&quot;\r\n\r\n  }\r\n  \r\n]\r\n```\r\n\r\nAnd now using the earlier solution, I have tried to build on top of it as: \r\n\r\n```\r\n%dw 2.0\r\noutput application/xml\r\n// hierarchy&#39;s structure. If, lets say you add a &quot;grand child&quot; it should work. (haven&#39;t tested this though)\r\nvar hierarchy = {\r\n    gp: {\r\n        parent: {\r\n            child: null\r\n        }\r\n    }\r\n}\r\nfun getDirectGeanologies(records, hierarchyStructure,isGp,isParent,isChild) = do {\r\n    var topLevel = keysOf(hierarchyStructure)[0] as String\r\n    var secondLevel = keysOf(hierarchyStructure[topLevel])[0]\r\n    ---\r\n    (records groupBy $[topLevel])\r\n        mapObject ((level1Childs, code) -&gt; \r\n            genealogy: {\r\n                code: code,\r\n                eye_colour: if(isGp) (level1Childs.gp_eye_colour) else if(isParent) (level1Childs.parent_eye_colour) else (level1Childs.child_eye_colour),\r\n                name: if(isGp) (level1Childs.gp_name) else if(isParent) (level1Childs.parent_name) else (level1Childs.child_name),\r\n                hierarchy:\r\n                    if(secondLevel != null) // If there are no more childs, do nothing.\r\n                        (level1Childs groupBy ((item) -&gt; item[secondLevel] ~= code) // This is to handle when parent = gp\r\n                            mapObject ((value, hasSameParent) -&gt; \r\n                                // If parent = gp, we want to skip parent and link directly to child\r\n                                if(hasSameParent as Boolean) getDirectGeanologies(value, hierarchyStructure[topLevel][secondLevel],false,false,true) \r\n                                // recurrsively call the function with child records and going down the hierarchyStructure by one\r\n                                else getDirectGeanologies(value, hierarchyStructure[topLevel],false,true,false) \r\n                        ))\r\n                    else {}\r\n            }\r\n        )\r\n}\r\n\r\n---\r\nlist: getDirectGeanologies(payload,hierarchy,true,false,false)\r\n```\r\n\r\nHowever, it is generating duplicate elements for ```eye_colour``` and ```name```. Ideally, it should print the values only once with the value of either gp / parent / child.\r\n\r\nThis is the expected response:\r\n\r\n```xml\r\n&lt;?xml version=&#39;1.0&#39; encoding=&#39;UTF-8&#39;?&gt;\r\n&lt;list&gt;\r\n  &lt;genealogy&gt;\r\n    &lt;code&gt;T1&lt;/code&gt;\r\n    &lt;eye_colour&gt;blue&lt;/eye_colour&gt;\r\n    &lt;name&gt;John&lt;/name&gt;\r\n    &lt;hierarchy&gt;\r\n      &lt;genealogy&gt;\r\n        &lt;code&gt;C1&lt;/code&gt;\r\n        &lt;eye_colour&gt;brown&lt;/eye_colour&gt;\r\n        &lt;name&gt;C1&lt;/name&gt;\r\n        &lt;hierarchy/&gt;\r\n      &lt;/genealogy&gt;\r\n    &lt;/hierarchy&gt;\r\n  &lt;/genealogy&gt;\r\n&lt;/list&gt;\r\n```\r\n\r\nI was also not able to figure out how to check if gp and parent have same values based on two fields (```gp &amp; gp_eye_colour``` vs ```parent &amp; parent_eye_colour```)\r\n\r\nThank you @sudhish_s for the response, adding an example to elaborate regarding decision of when to skip parent (when ```gp &amp; gp_eye_colour``` of gp are same as ```parent &amp; parent_eye_colour``` of parent).\r\n\r\nSample input: (Here parent ```Sam``` should _not_ be skipped since though gp and parent are same their eye colours are different. Similarly, in case of ```Don```, this parent should be skipped since gp and parent _and_ their eye colours are the same).\r\n\r\n```json\r\n[\r\n  {\r\n    &quot;gp&quot;: &quot;T1&quot;,\r\n    &quot;gp_eye_colour&quot;: &quot;blue&quot;,\r\n    &quot;gp_name&quot; : &quot;John&quot;,\r\n    &quot;parent&quot;: &quot;T1&quot;,\r\n    &quot;parent_eye_colour&quot; : &quot;black&quot;,\r\n    &quot;parent_name&quot; : &quot;Sam&quot;,\r\n    &quot;child&quot;: &quot;C1&quot;,\r\n    &quot;child_eye_colour&quot; : &quot;brown&quot;,\r\n    &quot;child_name&quot; : &quot;C1&quot;\r\n\r\n  },\r\n {\r\n    &quot;gp&quot;: &quot;T1&quot;,\r\n    &quot;gp_eye_colour&quot;: &quot;blue&quot;,\r\n    &quot;gp_name&quot; : &quot;John&quot;,\r\n    &quot;parent&quot;: &quot;T1&quot;,\r\n    &quot;parent_eye_colour&quot; : &quot;blue&quot;,\r\n    &quot;parent_name&quot; : &quot;Don&quot;,\r\n    &quot;child&quot;: &quot;C1&quot;,\r\n    &quot;child_eye_colour&quot; : &quot;brown&quot;,\r\n    &quot;child_name&quot; : &quot;C1&quot;\r\n  }  \r\n]\r\n```\r\n\r\nHere is the expected response:\r\n\r\n```xml\r\n&lt;?xml version=&#39;1.0&#39; encoding=&#39;UTF-8&#39;?&gt;\r\n&lt;list&gt;\r\n  &lt;genealogy&gt;\r\n    &lt;code&gt;T1&lt;/code&gt;\r\n    &lt;eye_colour&gt;blue&lt;/eye_colour&gt;\r\n    &lt;name&gt;John&lt;/name&gt;\r\n    &lt;hierarchy&gt;\r\n      &lt;genealogy&gt;\r\n        &lt;code&gt;T1&lt;/code&gt;\r\n        &lt;eye_colour&gt;black&lt;/eye_colour&gt;\r\n        &lt;name&gt;Sam&lt;/name&gt;\r\n        &lt;hierarchy&gt;\r\n          &lt;genealogy&gt;\r\n            &lt;code&gt;C1&lt;/code&gt;\r\n            &lt;eye_colour&gt;brown&lt;/eye_colour&gt;\r\n            &lt;name&gt;C1&lt;/name&gt;\r\n            &lt;hierarchy/&gt;\r\n          &lt;/genealogy&gt;\r\n        &lt;/hierarchy&gt;\r\n      &lt;/genealogy&gt;\r\n      &lt;genealogy&gt;\r\n        &lt;code&gt;C1&lt;/code&gt;\r\n        &lt;eye_colour&gt;brown&lt;/eye_colour&gt;\r\n        &lt;name&gt;C1&lt;/name&gt;\r\n        &lt;hierarchy/&gt;\r\n      &lt;/genealogy&gt;\r\n    &lt;/hierarchy&gt;\r\n  &lt;/genealogy&gt;\r\n&lt;/list&gt;\r\n```\r\n\r\n  [1]: https://stackoverflow.com/questions/75332945/derive-parent-child-hierarchy-from-an-array-using-dataweave","title":"Derive parent-child hierarchy from an array using DataWeave (additional details)","body":"<p>This is a follow up to an <a href=\"https://stackoverflow.com/questions/75332945/derive-parent-child-hierarchy-from-an-array-using-dataweave\">earlier</a> question. Thanks @harshank for the quick help. I am posting this question separately since there was an additional check required which I had not asked in the earlier question. So, the solution posted earlier works fine for the stated requirement.</p>\n<p>I am adding the additional requirement here:</p>\n<ol>\n<li><p>The decision if <code>gp</code> and <code>parent</code> match depends on an additional attribute <code>eye_colour</code> (please see sample payload below).</p>\n</li>\n<li><p>Also in the response additional fields need to be populated (which was not mentioned in the earlier question). Things like <code>name</code> and <code>eye_colour</code>.</p>\n</li>\n</ol>\n<p>So, as an example this is the payload:</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;gp&quot;: &quot;T1&quot;,\n    &quot;gp_eye_colour&quot;: &quot;blue&quot;,\n    &quot;gp_name&quot; : &quot;John&quot;,\n    &quot;parent&quot;: &quot;T1&quot;,\n    &quot;parent_eye_colour&quot; : &quot;black&quot;,\n    &quot;parent_name&quot; : &quot;Sam&quot;,\n    &quot;child&quot;: &quot;C1&quot;,\n    &quot;child_eye_colour&quot; : &quot;brown&quot;,\n    &quot;child_name&quot; : &quot;C1&quot;\n\n  },\n {\n    &quot;gp&quot;: &quot;T1&quot;,\n    &quot;gp_eye_colour&quot;: &quot;blue&quot;,\n    &quot;gp_name&quot; : &quot;John&quot;,\n    &quot;parent&quot;: &quot;T1&quot;,\n    &quot;parent_eye_colour&quot; : &quot;black&quot;,\n    &quot;parent_name&quot; : &quot;Sam&quot;,\n    &quot;child&quot;: &quot;C1&quot;,\n    &quot;child_eye_colour&quot; : &quot;brown&quot;,\n    &quot;child_name&quot; : &quot;C1&quot;\n\n  }\n  \n]\n</code></pre>\n<p>And now using the earlier solution, I have tried to build on top of it as:</p>\n<pre><code>%dw 2.0\noutput application/xml\n// hierarchy's structure. If, lets say you add a &quot;grand child&quot; it should work. (haven't tested this though)\nvar hierarchy = {\n    gp: {\n        parent: {\n            child: null\n        }\n    }\n}\nfun getDirectGeanologies(records, hierarchyStructure,isGp,isParent,isChild) = do {\n    var topLevel = keysOf(hierarchyStructure)[0] as String\n    var secondLevel = keysOf(hierarchyStructure[topLevel])[0]\n    ---\n    (records groupBy $[topLevel])\n        mapObject ((level1Childs, code) -&gt; \n            genealogy: {\n                code: code,\n                eye_colour: if(isGp) (level1Childs.gp_eye_colour) else if(isParent) (level1Childs.parent_eye_colour) else (level1Childs.child_eye_colour),\n                name: if(isGp) (level1Childs.gp_name) else if(isParent) (level1Childs.parent_name) else (level1Childs.child_name),\n                hierarchy:\n                    if(secondLevel != null) // If there are no more childs, do nothing.\n                        (level1Childs groupBy ((item) -&gt; item[secondLevel] ~= code) // This is to handle when parent = gp\n                            mapObject ((value, hasSameParent) -&gt; \n                                // If parent = gp, we want to skip parent and link directly to child\n                                if(hasSameParent as Boolean) getDirectGeanologies(value, hierarchyStructure[topLevel][secondLevel],false,false,true) \n                                // recurrsively call the function with child records and going down the hierarchyStructure by one\n                                else getDirectGeanologies(value, hierarchyStructure[topLevel],false,true,false) \n                        ))\n                    else {}\n            }\n        )\n}\n\n---\nlist: getDirectGeanologies(payload,hierarchy,true,false,false)\n</code></pre>\n<p>However, it is generating duplicate elements for <code>eye_colour</code> and <code>name</code>. Ideally, it should print the values only once with the value of either gp / parent / child.</p>\n<p>This is the expected response:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version='1.0' encoding='UTF-8'?&gt;\n&lt;list&gt;\n  &lt;genealogy&gt;\n    &lt;code&gt;T1&lt;/code&gt;\n    &lt;eye_colour&gt;blue&lt;/eye_colour&gt;\n    &lt;name&gt;John&lt;/name&gt;\n    &lt;hierarchy&gt;\n      &lt;genealogy&gt;\n        &lt;code&gt;C1&lt;/code&gt;\n        &lt;eye_colour&gt;brown&lt;/eye_colour&gt;\n        &lt;name&gt;C1&lt;/name&gt;\n        &lt;hierarchy/&gt;\n      &lt;/genealogy&gt;\n    &lt;/hierarchy&gt;\n  &lt;/genealogy&gt;\n&lt;/list&gt;\n</code></pre>\n<p>I was also not able to figure out how to check if gp and parent have same values based on two fields (<code>gp &amp; gp_eye_colour</code> vs <code>parent &amp; parent_eye_colour</code>)</p>\n<p>Thank you @sudhish_s for the response, adding an example to elaborate regarding decision of when to skip parent (when <code>gp &amp; gp_eye_colour</code> of gp are same as <code>parent &amp; parent_eye_colour</code> of parent).</p>\n<p>Sample input: (Here parent <code>Sam</code> should <em>not</em> be skipped since though gp and parent are same their eye colours are different. Similarly, in case of <code>Don</code>, this parent should be skipped since gp and parent <em>and</em> their eye colours are the same).</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;gp&quot;: &quot;T1&quot;,\n    &quot;gp_eye_colour&quot;: &quot;blue&quot;,\n    &quot;gp_name&quot; : &quot;John&quot;,\n    &quot;parent&quot;: &quot;T1&quot;,\n    &quot;parent_eye_colour&quot; : &quot;black&quot;,\n    &quot;parent_name&quot; : &quot;Sam&quot;,\n    &quot;child&quot;: &quot;C1&quot;,\n    &quot;child_eye_colour&quot; : &quot;brown&quot;,\n    &quot;child_name&quot; : &quot;C1&quot;\n\n  },\n {\n    &quot;gp&quot;: &quot;T1&quot;,\n    &quot;gp_eye_colour&quot;: &quot;blue&quot;,\n    &quot;gp_name&quot; : &quot;John&quot;,\n    &quot;parent&quot;: &quot;T1&quot;,\n    &quot;parent_eye_colour&quot; : &quot;blue&quot;,\n    &quot;parent_name&quot; : &quot;Don&quot;,\n    &quot;child&quot;: &quot;C1&quot;,\n    &quot;child_eye_colour&quot; : &quot;brown&quot;,\n    &quot;child_name&quot; : &quot;C1&quot;\n  }  \n]\n</code></pre>\n<p>Here is the expected response:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version='1.0' encoding='UTF-8'?&gt;\n&lt;list&gt;\n  &lt;genealogy&gt;\n    &lt;code&gt;T1&lt;/code&gt;\n    &lt;eye_colour&gt;blue&lt;/eye_colour&gt;\n    &lt;name&gt;John&lt;/name&gt;\n    &lt;hierarchy&gt;\n      &lt;genealogy&gt;\n        &lt;code&gt;T1&lt;/code&gt;\n        &lt;eye_colour&gt;black&lt;/eye_colour&gt;\n        &lt;name&gt;Sam&lt;/name&gt;\n        &lt;hierarchy&gt;\n          &lt;genealogy&gt;\n            &lt;code&gt;C1&lt;/code&gt;\n            &lt;eye_colour&gt;brown&lt;/eye_colour&gt;\n            &lt;name&gt;C1&lt;/name&gt;\n            &lt;hierarchy/&gt;\n          &lt;/genealogy&gt;\n        &lt;/hierarchy&gt;\n      &lt;/genealogy&gt;\n      &lt;genealogy&gt;\n        &lt;code&gt;C1&lt;/code&gt;\n        &lt;eye_colour&gt;brown&lt;/eye_colour&gt;\n        &lt;name&gt;C1&lt;/name&gt;\n        &lt;hierarchy/&gt;\n      &lt;/genealogy&gt;\n    &lt;/hierarchy&gt;\n  &lt;/genealogy&gt;\n&lt;/list&gt;\n</code></pre>\n"},{"tags":["java","kotlin","file","stream","kotlin-extension"],"answers":[{"tags":[],"owner":{"account_id":26757667,"reputation":237,"user_id":20356055,"display_name":"Fah"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1675769476,"creation_date":1675769404,"answer_id":75372740,"question_id":75372544,"body_markdown":"The ```readText``` and ```writeText``` methods call the ```use``` method on the Input and OutputStream. \r\n(See: https://github.com/JetBrains/kotlin/blob/30788566012c571aa1d3590912468d1ebe59983d/libraries/stdlib/jvm/src/kotlin/io/FileReadWrite.kt#L108)\r\n\r\nAccording to the documentation this method automatically closes the object afterwards.\r\nhttps://kotlinlang.org/api/latest/jvm/stdlib/kotlin.io/use.html\r\n\r\nSo there is no need to close it manually.","title":"How to close input or output stream when using Kotlin File&#39;s extensions","body":"<p>The <code>readText</code> and <code>writeText</code> methods call the <code>use</code> method on the Input and OutputStream.\n(See: <a href=\"https://github.com/JetBrains/kotlin/blob/30788566012c571aa1d3590912468d1ebe59983d/libraries/stdlib/jvm/src/kotlin/io/FileReadWrite.kt#L108\" rel=\"nofollow noreferrer\">https://github.com/JetBrains/kotlin/blob/30788566012c571aa1d3590912468d1ebe59983d/libraries/stdlib/jvm/src/kotlin/io/FileReadWrite.kt#L108</a>)</p>\n<p>According to the documentation this method automatically closes the object afterwards.\n<a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.io/use.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.io/use.html</a></p>\n<p>So there is no need to close it manually.</p>\n"}],"owner":{"account_id":10976817,"reputation":1451,"user_id":8065249,"display_name":"Hamza Khan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":303,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75372740,"answer_count":1,"score":0,"last_activity_date":1675769476,"creation_date":1675768316,"question_id":75372544,"body_markdown":"Do we need to close input or output stream when we use Kotlin&#39;s File.readText or File.writeText extensions\r\n\r\n    file.readText()\r\n    file.writeText(&quot;something&quot;)","title":"How to close input or output stream when using Kotlin File&#39;s extensions","body":"<p>Do we need to close input or output stream when we use Kotlin's File.readText or File.writeText extensions</p>\n<pre><code>file.readText()\nfile.writeText(&quot;something&quot;)\n</code></pre>\n"},{"tags":["java","json","spring","rest","spring-boot"],"comments":[{"owner":{"account_id":14177195,"reputation":187,"user_id":10242032,"display_name":"Sivaraj Velayutham"},"score":1,"creation_date":1559274225,"post_id":56388326,"comment_id":99376323,"body_markdown":"remove the .toString() method from your object if you &quot;override&quot; the toString() method in you response class. your Jackson or gson lib will automatically take the responsibility of parsing the objects.","body":"remove the .toString() method from your object if you &quot;override&quot; the toString() method in you response class. your Jackson or gson lib will automatically take the responsibility of parsing the objects."},{"owner":{"account_id":13779116,"reputation":71,"user_id":9944654,"display_name":"Carol"},"score":0,"creation_date":1559274883,"post_id":56388326,"comment_id":99376458,"body_markdown":"@SivarajVelayutham i tried removing the toString() method from response object but there is no change.I also removed from the dependant classes still no change","body":"@SivarajVelayutham i tried removing the toString() method from response object but there is no change.I also removed from the dependant classes still no change"},{"owner":{"account_id":5351903,"reputation":1369,"user_id":4265824,"accept_rate":45,"display_name":"Ganesh Gudghe"},"score":0,"creation_date":1559275245,"post_id":56388326,"comment_id":99376518,"body_markdown":"if your ReturnObject&lt;T&gt; response = engine.calculate((T) request.getA(), (T) request.getB());  return sting then change controller return type ResponseEntity&lt;String&gt;","body":"if your ReturnObject&lt;T&gt; response = engine.calculate((T) request.getA(), (T) request.getB());  return sting then change controller return type ResponseEntity&lt;String&gt;"},{"owner":{"account_id":4767709,"reputation":1245,"user_id":3853405,"accept_rate":25,"display_name":"Jaspreet Jolly"},"score":0,"creation_date":1559281698,"post_id":56388326,"comment_id":99377878,"body_markdown":"Try removing &lt;T extends Serializable&gt; from controller as I think it will make the rest response to string.If it works let us know.","body":"Try removing &lt;T extends Serializable&gt; from controller as I think it will make the rest response to string.If it works let us know."}],"answers":[{"tags":[],"owner":{"account_id":2600542,"reputation":11,"user_id":2253081,"display_name":"user2253081"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1559282585,"creation_date":1559282585,"answer_id":56389463,"question_id":56388326,"body_markdown":"After Second &quot;create&quot; it is Basically converting your value to String.\r\nplease implement this annotation\r\n    @PostMapping(&quot;/api/processEngine&quot;)\r\nplease Try this and Let Me know immediately","title":"Remove backslashes from response entity Json in Java","body":"<p>After Second \"create\" it is Basically converting your value to String.\nplease implement this annotation\n    @PostMapping(\"/api/processEngine\")\nplease Try this and Let Me know immediately</p>\n"},{"tags":[],"owner":{"account_id":6740288,"reputation":2238,"user_id":5193747,"accept_rate":47,"display_name":"Kamil W"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1559283204,"creation_date":1559283204,"answer_id":56389586,"question_id":56388326,"body_markdown":"You need to use the parser, to get pretty JSON string, guess you&#39;re using Jackson,  so you can do it in this way:\r\n```\r\nObjectMapper objectMapper = new ObjectMapper();\r\nobjectMapper.writerWithDefaultPrettyPrinter().writeValueAsString(yourObject);\r\n```","title":"Remove backslashes from response entity Json in Java","body":"<p>You need to use the parser, to get pretty JSON string, guess you're using Jackson,  so you can do it in this way:</p>\n\n<pre><code>ObjectMapper objectMapper = new ObjectMapper();\nobjectMapper.writerWithDefaultPrettyPrinter().writeValueAsString(yourObject);\n</code></pre>\n"}],"owner":{"account_id":13779116,"reputation":71,"user_id":9944654,"display_name":"Carol"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7244,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1675769445,"creation_date":1559273550,"question_id":56388326,"body_markdown":"I am testing my Rest controller and when i print the results in java they seem to be okay but on swagger or postman it return slashes. How do i remove these.\r\n\r\nIn Java i print the object with a log and the result is as below:\r\n\r\nReturnObject\r\n```\r\n    {\r\n      create=Create{\r\n        create={\r\n          &quot;Apartment&quot;: &quot;Flat&quot;,\r\n          &quot;Drink&quot;: {\r\n            &quot;Alchol&quot;: {\r\n              &quot;Beer&quot;: {\r\n                &quot;Dutch&quot;: &quot;Groeshe&quot;,\r\n                &quot;Zimbo&quot;: &quot;Zambezi&quot;\r\n              },\r\n              &quot;Wine&quot;: &quot;pocupine&quot;\r\n            },\r\n            &quot;NonAlcoholic&quot;: {\r\n              &quot;fizzy&quot;: &quot;Coke&quot;,\r\n              &quot;juice&quot;: &quot;liquifruit&quot;\r\n            }\r\n          },\r\n          &quot;fruit&quot;: &quot;Apple&quot;,\r\n          &quot;size&quot;: &quot;Large&quot;,\r\n          &quot;color&quot;: &quot;Red&quot;,\r\n          &quot;Proffesion&quot;: [\r\n            &quot;Java&quot;,\r\n            &quot;Lawyer&quot;\r\n          ],\r\n          &quot;cars&quot;: {\r\n            &quot;type&quot;: &quot;BMW&quot;,\r\n            &quot;Color&quot;: &quot;Brown&quot;\r\n          }\r\n        }\r\n      },\r\n      update=null,\r\n      delete=null\r\n    }\r\n```\r\nI googled and nothing in java seems to solve this problem. Please assist\r\n```\r\n    @RestController\r\n    public class ProcessController&lt;T extends Serializable&gt; {\r\n\r\n\t\r\n\t@Autowired\r\n    private EngineImpl engine;\r\n\r\n\t\r\n\t@RequestMapping(value = &quot;/api/processEngine&quot;, method = RequestMethod.POST, produces = &quot;application/json&quot;)\r\n    public ResponseEntity&lt;ReturnObject&lt;T&gt;&gt; processEngine(@RequestBody final Request request) throws Exception {\r\n             \r\n        ReturnObject&lt;T&gt; response = engine.calculate((T) request.getA(), (T) request.getB());\r\n\r\n        LOG.info(&quot;ReturnObject engine response parameters: &quot; + response);\r\n        //Prints: ReturnObject{create=Create{create={&quot;Apartment&quot;:&quot;Flat&quot;,&quot;Drink&quot;:{&quot;Alchol&quot;:{&quot;Beer&quot;:{&quot;Dutch&quot;:&quot;Groeshe&quot;,&quot;Zimbo&quot;:&quot;Zambezi&quot;},&quot;Wine&quot;:&quot;pocupine&quot;},&quot;NonAlcoholic&quot;:{&quot;fizzy&quot;:&quot;Coke&quot;,&quot;juice&quot;:&quot;liquifruit&quot;}},&quot;fruit&quot;:&quot;Apple&quot;,&quot;size&quot;:&quot;Large&quot;,&quot;color&quot;:&quot;Red&quot;,&quot;Proffesion&quot;:[&quot;Java&quot;,&quot;Lawyer&quot;],&quot;cars&quot;:{&quot;type&quot;:&quot;BMW&quot;,&quot;Color&quot;:&quot;Brown&quot;}}}, update=null, delete=null}\r\n        return new ResponseEntity&lt;&gt;(response, HttpStatus.OK);\r\n    }\r\n}\r\n```\r\nExpected: \r\n```\r\n    {\r\n\t  &quot;create&quot;: {\r\n\t\t&quot;create&quot;: {\r\n\t\t\t&quot;Apartment&quot;: &quot;Flat&quot;,\r\n\t\t\t&quot;Drink&quot;: {\r\n\t\t\t\t&quot;Alchol&quot;: {\r\n\t\t\t\t\t&quot;Beer&quot;: {\r\n\t\t\t\t\t\t&quot;Dutch&quot;: &quot;Groeshe&quot;,\r\n\t\t\t\t\t\t&quot;Zimbo&quot;: &quot;Zambezi&quot;\r\n\r\n\t\t\t\t\t},\r\n\t\t\t\t\t&quot;Wine&quot;: &quot;pocupine&quot;\r\n\r\n\t\t\t\t},\r\n\t\t\t\t&quot;NonAlcoholic&quot;: {\r\n\t\t\t\t\t&quot;fizzy&quot;: &quot;Coke&quot;,\r\n\t\t\t\t\t&quot;juice&quot;: &quot;liquifruit&quot;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t&quot;fruit&quot;: &quot;Apple&quot;,\r\n\t\t\t&quot;size&quot;: &quot;Large&quot;,\r\n\t\t\t&quot;color&quot;: &quot;Red&quot;,\r\n\t\t\t&quot;Proffesion&quot;: [&quot;Java&quot;, &quot;Lawyer&quot;],\r\n\t\t\t&quot;cars&quot;: {\r\n\t\t\t\t&quot;type&quot;: &quot;BMW&quot;,\r\n\t\t\t\t&quot;Color&quot;: &quot;Brown&quot;\r\n\t\t\t}\r\n\t\t},\r\n\t\t&quot;update&quot;: null,\r\n\t\t&quot;delete&quot;: null\r\n\t}\r\n}\r\n```\r\nActual:\r\n```\r\n    {\r\n      &quot;create&quot;: {\r\n        &quot;create&quot;: &quot;{\\&quot;Apartment\\&quot;:\\&quot;Flat\\&quot;,\\&quot;Drink\\&quot;:{\\&quot;Alchol\\&quot;:{\\&quot;Beer\\&quot;:{\\&quot;Dutch\\&quot;:\\&quot;Groeshe\\&quot;,\\&quot;Zimbo\\&quot;:\\&quot;Zambezi\\&quot;},\\&quot;Wine\\&quot;:\\&quot;pocupine\\&quot;},\\&quot;NonAlcoholic\\&quot;:{\\&quot;fizzy\\&quot;:\\&quot;Coke\\&quot;,\\&quot;juice\\&quot;:\\&quot;liquifruit\\&quot;}},\\&quot;fruit\\&quot;:\\&quot;Apple\\&quot;,\\&quot;size\\&quot;:\\&quot;Large\\&quot;,\\&quot;color\\&quot;:\\&quot;Red\\&quot;,\\&quot;Proffesion\\&quot;:[\\&quot;Java\\&quot;,\\&quot;Lawyer\\&quot;],\\&quot;cars\\&quot;:{\\&quot;type\\&quot;:\\&quot;BMW\\&quot;,\\&quot;Color\\&quot;:\\&quot;Brown\\&quot;}}&quot;\r\n      },\r\n      &quot;update&quot;: null,\r\n      &quot;delete&quot;: null\r\n    }\r\n```","title":"Remove backslashes from response entity Json in Java","body":"<p>I am testing my Rest controller and when i print the results in java they seem to be okay but on swagger or postman it return slashes. How do i remove these.</p>\n<p>In Java i print the object with a log and the result is as below:</p>\n<p>ReturnObject</p>\n<pre><code>    {\n      create=Create{\n        create={\n          &quot;Apartment&quot;: &quot;Flat&quot;,\n          &quot;Drink&quot;: {\n            &quot;Alchol&quot;: {\n              &quot;Beer&quot;: {\n                &quot;Dutch&quot;: &quot;Groeshe&quot;,\n                &quot;Zimbo&quot;: &quot;Zambezi&quot;\n              },\n              &quot;Wine&quot;: &quot;pocupine&quot;\n            },\n            &quot;NonAlcoholic&quot;: {\n              &quot;fizzy&quot;: &quot;Coke&quot;,\n              &quot;juice&quot;: &quot;liquifruit&quot;\n            }\n          },\n          &quot;fruit&quot;: &quot;Apple&quot;,\n          &quot;size&quot;: &quot;Large&quot;,\n          &quot;color&quot;: &quot;Red&quot;,\n          &quot;Proffesion&quot;: [\n            &quot;Java&quot;,\n            &quot;Lawyer&quot;\n          ],\n          &quot;cars&quot;: {\n            &quot;type&quot;: &quot;BMW&quot;,\n            &quot;Color&quot;: &quot;Brown&quot;\n          }\n        }\n      },\n      update=null,\n      delete=null\n    }\n</code></pre>\n<p>I googled and nothing in java seems to solve this problem. Please assist</p>\n<pre><code>    @RestController\n    public class ProcessController&lt;T extends Serializable&gt; {\n\n    \n    @Autowired\n    private EngineImpl engine;\n\n    \n    @RequestMapping(value = &quot;/api/processEngine&quot;, method = RequestMethod.POST, produces = &quot;application/json&quot;)\n    public ResponseEntity&lt;ReturnObject&lt;T&gt;&gt; processEngine(@RequestBody final Request request) throws Exception {\n             \n        ReturnObject&lt;T&gt; response = engine.calculate((T) request.getA(), (T) request.getB());\n\n        LOG.info(&quot;ReturnObject engine response parameters: &quot; + response);\n        //Prints: ReturnObject{create=Create{create={&quot;Apartment&quot;:&quot;Flat&quot;,&quot;Drink&quot;:{&quot;Alchol&quot;:{&quot;Beer&quot;:{&quot;Dutch&quot;:&quot;Groeshe&quot;,&quot;Zimbo&quot;:&quot;Zambezi&quot;},&quot;Wine&quot;:&quot;pocupine&quot;},&quot;NonAlcoholic&quot;:{&quot;fizzy&quot;:&quot;Coke&quot;,&quot;juice&quot;:&quot;liquifruit&quot;}},&quot;fruit&quot;:&quot;Apple&quot;,&quot;size&quot;:&quot;Large&quot;,&quot;color&quot;:&quot;Red&quot;,&quot;Proffesion&quot;:[&quot;Java&quot;,&quot;Lawyer&quot;],&quot;cars&quot;:{&quot;type&quot;:&quot;BMW&quot;,&quot;Color&quot;:&quot;Brown&quot;}}}, update=null, delete=null}\n        return new ResponseEntity&lt;&gt;(response, HttpStatus.OK);\n    }\n}\n</code></pre>\n<p>Expected:</p>\n<pre><code>    {\n      &quot;create&quot;: {\n        &quot;create&quot;: {\n            &quot;Apartment&quot;: &quot;Flat&quot;,\n            &quot;Drink&quot;: {\n                &quot;Alchol&quot;: {\n                    &quot;Beer&quot;: {\n                        &quot;Dutch&quot;: &quot;Groeshe&quot;,\n                        &quot;Zimbo&quot;: &quot;Zambezi&quot;\n\n                    },\n                    &quot;Wine&quot;: &quot;pocupine&quot;\n\n                },\n                &quot;NonAlcoholic&quot;: {\n                    &quot;fizzy&quot;: &quot;Coke&quot;,\n                    &quot;juice&quot;: &quot;liquifruit&quot;\n                }\n            },\n            &quot;fruit&quot;: &quot;Apple&quot;,\n            &quot;size&quot;: &quot;Large&quot;,\n            &quot;color&quot;: &quot;Red&quot;,\n            &quot;Proffesion&quot;: [&quot;Java&quot;, &quot;Lawyer&quot;],\n            &quot;cars&quot;: {\n                &quot;type&quot;: &quot;BMW&quot;,\n                &quot;Color&quot;: &quot;Brown&quot;\n            }\n        },\n        &quot;update&quot;: null,\n        &quot;delete&quot;: null\n    }\n}\n</code></pre>\n<p>Actual:</p>\n<pre><code>    {\n      &quot;create&quot;: {\n        &quot;create&quot;: &quot;{\\&quot;Apartment\\&quot;:\\&quot;Flat\\&quot;,\\&quot;Drink\\&quot;:{\\&quot;Alchol\\&quot;:{\\&quot;Beer\\&quot;:{\\&quot;Dutch\\&quot;:\\&quot;Groeshe\\&quot;,\\&quot;Zimbo\\&quot;:\\&quot;Zambezi\\&quot;},\\&quot;Wine\\&quot;:\\&quot;pocupine\\&quot;},\\&quot;NonAlcoholic\\&quot;:{\\&quot;fizzy\\&quot;:\\&quot;Coke\\&quot;,\\&quot;juice\\&quot;:\\&quot;liquifruit\\&quot;}},\\&quot;fruit\\&quot;:\\&quot;Apple\\&quot;,\\&quot;size\\&quot;:\\&quot;Large\\&quot;,\\&quot;color\\&quot;:\\&quot;Red\\&quot;,\\&quot;Proffesion\\&quot;:[\\&quot;Java\\&quot;,\\&quot;Lawyer\\&quot;],\\&quot;cars\\&quot;:{\\&quot;type\\&quot;:\\&quot;BMW\\&quot;,\\&quot;Color\\&quot;:\\&quot;Brown\\&quot;}}&quot;\n      },\n      &quot;update&quot;: null,\n      &quot;delete&quot;: null\n    }\n</code></pre>\n"},{"tags":["java","json","jolt"],"answers":[{"comments":[{"owner":{"account_id":1584104,"reputation":1541,"user_id":1468844,"accept_rate":57,"display_name":"yeswanth"},"score":0,"creation_date":1461322615,"post_id":36787315,"comment_id":61158238,"body_markdown":"Thanks a ton. It worked. But I am not able to understand the usage of &amp;5. Can you please explain from where do we need to traverse the tree from?","body":"Thanks a ton. It worked. But I am not able to understand the usage of &amp;5. Can you please explain from where do we need to traverse the tree from?"},{"owner":{"account_id":11528211,"reputation":707,"user_id":8447984,"display_name":"Dwarrior"},"score":0,"creation_date":1631664255,"post_id":36787315,"comment_id":122282020,"body_markdown":"@Milo S - Can you pls explain the usage of &amp;5, I am still not able to get it.","body":"@Milo S - Can you pls explain the usage of &amp;5, I am still not able to get it."}],"tags":[],"owner":{"account_id":2993263,"reputation":4536,"user_id":2540376,"display_name":"Milo S"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1587381868,"creation_date":1461309211,"answer_id":36787315,"question_id":36773008,"body_markdown":"This spec does the transform.\r\n\r\n```\r\n[\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;attr&quot;: {\r\n        &quot;*&quot;: {\r\n          &quot;name&quot;: &quot;out[&amp;1].name&quot;,\r\n          &quot;validations&quot;: {\r\n            &quot;*&quot;: {\r\n              &quot;type&quot;: {\r\n                &quot;Required&quot;: {\r\n                  &quot;#yes&quot;: &quot;out[&amp;5].required&quot;\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n]\r\n```\r\n\r\nHowever, I think you meant to grab the &quot;value&quot; : true that is a sibling of the &quot;Required&quot; : true, rather than have the output be &quot;yes&quot;.\r\n\r\nIf so swap in this bit.\r\n```\r\n&quot;Required&quot;: {\r\n &quot;@(2,value)&quot;: &quot;out[&amp;5].required&quot;\r\n}\r\n```","title":"Jolt conditional spec","body":"<p>This spec does the transform.</p>\n\n<pre><code>[\n  {\n    \"operation\": \"shift\",\n    \"spec\": {\n      \"attr\": {\n        \"*\": {\n          \"name\": \"out[&amp;1].name\",\n          \"validations\": {\n            \"*\": {\n              \"type\": {\n                \"Required\": {\n                  \"#yes\": \"out[&amp;5].required\"\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n]\n</code></pre>\n\n<p>However, I think you meant to grab the \"value\" : true that is a sibling of the \"Required\" : true, rather than have the output be \"yes\".</p>\n\n<p>If so swap in this bit.</p>\n\n<pre><code>\"Required\": {\n \"@(2,value)\": \"out[&amp;5].required\"\n}\n</code></pre>\n"}],"owner":{"account_id":1584104,"reputation":1541,"user_id":1468844,"accept_rate":57,"display_name":"yeswanth"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10445,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":36787315,"answer_count":1,"score":8,"last_activity_date":1675769384,"creation_date":1461249805,"question_id":36773008,"body_markdown":"I want a conditional transformation where I need to add a property in output if the value of a specific field in input matches my condition. Below is my input and output required. \r\n\r\n\r\n----------\r\n\r\n\r\n**Input**\r\n\r\n```json\r\n{\r\n  &quot;attr&quot;: [\r\n    {\r\n      &quot;name&quot;: &quot;first&quot;,\r\n      &quot;validations&quot;: [\r\n        {\r\n          &quot;type&quot;: &quot;Required&quot;,\r\n          &quot;value&quot;: true\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      &quot;name&quot;: &quot;last&quot;,\r\n      &quot;validations&quot;: [\r\n        {\r\n          &quot;type&quot;: &quot;lenght&quot;,\r\n          &quot;value&quot;: &quot;10&quot;\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      &quot;name&quot;: &quot;email&quot;,\r\n      &quot;validations&quot;: [\r\n        {\r\n          &quot;type&quot;: &quot;min&quot;,\r\n          &quot;value&quot;: 10\r\n        }\r\n      ]\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\n**Output**\r\n\r\n```json\r\n{\r\n  &quot;out&quot;: [\r\n    {\r\n      &quot;name&quot;: &quot;first&quot;,\r\n      &quot;required&quot;: &quot;yes&quot;\r\n    },\r\n    {\r\n      &quot;name&quot;: &quot;last&quot;\r\n    },\r\n    {\r\n      &quot;name&quot;: &quot;email&quot;\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\nSo I am able to get till the condition, but inside condition, &amp; and @ are being respective to the input rather than to the output. Can anybody help me out with the transformation? Below is the spec I have written so far.\r\n\r\n```json\r\n[\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;attr&quot;: {\r\n        &quot;*&quot;: {\r\n          &quot;name&quot;: &quot;out.&amp;1.name&quot;,\r\n          &quot;validations&quot;: {\r\n            &quot;*&quot;: {\r\n              &quot;type&quot;: {\r\n                &quot;Required&quot;: {\r\n                  &quot;@(2,value)&quot;: &quot;out.&amp;1.req&quot;\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n]\r\n```\r\n","title":"Jolt conditional spec","body":"<p>I want a conditional transformation where I need to add a property in output if the value of a specific field in input matches my condition. Below is my input and output required.</p>\n<hr />\n<p><strong>Input</strong></p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;attr&quot;: [\n    {\n      &quot;name&quot;: &quot;first&quot;,\n      &quot;validations&quot;: [\n        {\n          &quot;type&quot;: &quot;Required&quot;,\n          &quot;value&quot;: true\n        }\n      ]\n    },\n    {\n      &quot;name&quot;: &quot;last&quot;,\n      &quot;validations&quot;: [\n        {\n          &quot;type&quot;: &quot;lenght&quot;,\n          &quot;value&quot;: &quot;10&quot;\n        }\n      ]\n    },\n    {\n      &quot;name&quot;: &quot;email&quot;,\n      &quot;validations&quot;: [\n        {\n          &quot;type&quot;: &quot;min&quot;,\n          &quot;value&quot;: 10\n        }\n      ]\n    }\n  ]\n}\n</code></pre>\n<p><strong>Output</strong></p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;out&quot;: [\n    {\n      &quot;name&quot;: &quot;first&quot;,\n      &quot;required&quot;: &quot;yes&quot;\n    },\n    {\n      &quot;name&quot;: &quot;last&quot;\n    },\n    {\n      &quot;name&quot;: &quot;email&quot;\n    }\n  ]\n}\n</code></pre>\n<p>So I am able to get till the condition, but inside condition, &amp; and @ are being respective to the input rather than to the output. Can anybody help me out with the transformation? Below is the spec I have written so far.</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;attr&quot;: {\n        &quot;*&quot;: {\n          &quot;name&quot;: &quot;out.&amp;1.name&quot;,\n          &quot;validations&quot;: {\n            &quot;*&quot;: {\n              &quot;type&quot;: {\n                &quot;Required&quot;: {\n                  &quot;@(2,value)&quot;: &quot;out.&amp;1.req&quot;\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n]\n</code></pre>\n"},{"tags":["java","compiler-errors","boolean","do-while","unreachable-code"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1672980068,"post_id":75026915,"comment_id":132399940,"body_markdown":"The code has `do { ... } while (true)`.  There is no `break` visible in the part represented by ... . It&#39;s an infinite loop.","body":"The code has <code>do { ... } while (true)</code>.  There is no <code>break</code> visible in the part represented by ... . It&#39;s an infinite loop."},{"owner":{"account_id":27449424,"reputation":1,"user_id":20941962,"display_name":"Yeoh Joey"},"score":1,"creation_date":1672994238,"post_id":75026915,"comment_id":132402437,"body_markdown":"Now i get it! My problem solved. Thanks","body":"Now i get it! My problem solved. Thanks"}],"answers":[{"comments":[{"owner":{"display_name":"user19443549"},"score":1,"creation_date":1672982963,"post_id":75027236,"comment_id":132400363,"body_markdown":"Correct, Either use variable inside loop or use break statement like -                boolean regErr = false;\n\n        do{\n            regErr = false;\n            break;\n            System.out.print(&quot;Name: &quot;);\n        }while(true );\n        System.out.println(&quot;1&quot;);","body":"Correct, Either use variable inside loop or use break statement like -                boolean regErr = false;          do{             regErr = false;             break;             System.out.print(&quot;Name: &quot;);         }while(true );         System.out.println(&quot;1&quot;);"},{"owner":{"account_id":27449424,"reputation":1,"user_id":20941962,"display_name":"Yeoh Joey"},"score":0,"creation_date":1672994492,"post_id":75027236,"comment_id":132402513,"body_markdown":"Ah I see, no wonder... My problem solved by using the code above. I really appreciate your help.","body":"Ah I see, no wonder... My problem solved by using the code above. I really appreciate your help."}],"tags":[],"owner":{"display_name":"user20937564"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1672982756,"creation_date":1672982756,"answer_id":75027236,"question_id":75026915,"body_markdown":"That is because of your first code, `while(true)` will make it run for infinite times so code below this is unreachable. Use below code -\r\n\r\n     boolean regErr = false;\r\n\r\n     do{\r\n         regErr = false;\r\n\r\n         System.out.print(&quot;Name: &quot;);\r\n                      :\r\n                      :\r\n\r\n      }while(regErr )","title":"Why my boolean is unreachable code and compilation error?","body":"<p>That is because of your first code, <code>while(true)</code> will make it run for infinite times so code below this is unreachable. Use below code -</p>\n<pre><code> boolean regErr = false;\n\n do{\n     regErr = false;\n\n     System.out.print(&quot;Name: &quot;);\n                  :\n                  :\n\n  }while(regErr )\n</code></pre>\n"}],"owner":{"account_id":27449424,"reputation":1,"user_id":20941962,"display_name":"Yeoh Joey"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75027236,"answer_count":1,"score":0,"last_activity_date":1675769068,"creation_date":1672979157,"question_id":75026915,"body_markdown":"I am doing a leave management system for my assignment. And this is the part where I ask user to save their registration. First, I use do...while(true) loop to ask for their info like name, ID , department, etc. I start with adding a boolean regErr = false before the do...while(true) loop and it has no problem. \r\n\r\nThen I continue with this part and add a boolean saveReg. But I have no idea why it shows error and says its unreachable code. If I add the boolean saveReg inside do...while loop also doesn&#39;t work. I really need your help to figure out what&#39;s the problem. Thank you in advance and have a nice day!\r\n\r\n                    \r\n\r\n            boolean saveReg;    //the boolean that is unreachable code\r\n\t\t\t\r\n\t\t\tdo{\r\n\t\t\t\t:\r\n                :\r\n\t\t\t}while(true);\r\n\t\t\r\n\t\tif(saveReg){\r\n\t\t\ttry(PrintWriter rW = new ....)){\r\n\t\t\t\t:\r\n                :\r\n\t\t\t}catch(IOException err){\r\n\t\t\t\terr.printStackTrace();\r\n\t\t\t}\r\n\t\t}\r\n\t\telse{\r\n\t\t\tSystem.out.println(&quot;Fail to register.&quot;);\r\n\t\t}","title":"Why my boolean is unreachable code and compilation error?","body":"<p>I am doing a leave management system for my assignment. And this is the part where I ask user to save their registration. First, I use do...while(true) loop to ask for their info like name, ID , department, etc. I start with adding a boolean regErr = false before the do...while(true) loop and it has no problem.</p>\n<p>Then I continue with this part and add a boolean saveReg. But I have no idea why it shows error and says its unreachable code. If I add the boolean saveReg inside do...while loop also doesn't work. I really need your help to figure out what's the problem. Thank you in advance and have a nice day!</p>\n<pre><code>        boolean saveReg;    //the boolean that is unreachable code\n        \n        do{\n            :\n            :\n        }while(true);\n    \n    if(saveReg){\n        try(PrintWriter rW = new ....)){\n            :\n            :\n        }catch(IOException err){\n            err.printStackTrace();\n        }\n    }\n    else{\n        System.out.println(&quot;Fail to register.&quot;);\n    }\n</code></pre>\n"},{"tags":["java","maven","opensaml"],"comments":[{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1675768858,"post_id":75372590,"comment_id":132995617,"body_markdown":"&quot;*I just do not understand why cannot the IDE rebuild the library since it knows all the dependencies and source codes*&quot; Because it doesn&#39;t know how to build it. Maybe it needs a specific compiler version, maybe it needs aspectj instrumentation, maybe it needs lombok, whatever. Having some source is not necessarily enough. In theory, the feature you&#39;re asking for could exist for some projects with a basic build process. I&#39;m not sure it would be very useful, which is probably why it doesn&#39;t exist. You can implement an  IntelliJ plugin to do it if you really want to.","body":"&quot;<i>I just do not understand why cannot the IDE rebuild the library since it knows all the dependencies and source codes</i>&quot; Because it doesn&#39;t know how to build it. Maybe it needs a specific compiler version, maybe it needs aspectj instrumentation, maybe it needs lombok, whatever. Having some source is not necessarily enough. In theory, the feature you&#39;re asking for could exist for some projects with a basic build process. I&#39;m not sure it would be very useful, which is probably why it doesn&#39;t exist. You can implement an  IntelliJ plugin to do it if you really want to."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1675800622,"post_id":75372590,"comment_id":133005856,"body_markdown":"I strongly recommend to read that: `End of Life Warning`...","body":"I strongly recommend to read that: <code>End of Life Warning</code>..."}],"answers":[{"tags":[],"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675768848,"creation_date":1675768848,"answer_id":75372639,"question_id":75372590,"body_markdown":"No, there is not easier way.\r\n\r\nYou should avoid to change code of third-party libraries. Only in very rare cases this is a good idea.\r\n\r\nInstead, you can write some kind of wrapper around the library to solve your issue.","title":"Easiest way how to modify the source of a library from Maven","body":"<p>No, there is not easier way.</p>\n<p>You should avoid to change code of third-party libraries. Only in very rare cases this is a good idea.</p>\n<p>Instead, you can write some kind of wrapper around the library to solve your issue.</p>\n"}],"owner":{"account_id":3812814,"reputation":273,"user_id":3163091,"accept_rate":14,"display_name":"honzaik"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":150,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675768848,"creation_date":1675768545,"question_id":75372590,"body_markdown":"I am experimenting with a SAML library OpenSAML https://shibboleth.atlassian.net/wiki/spaces/OS30/overview. The library is distributed using Maven through the repository https://build.shibboleth.net/maven/releases/org/opensaml/.\r\nMy pom.xml looks like this\r\n``` lang-xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;xyz.test.ho&lt;/groupId&gt;\r\n    &lt;artifactId&gt;xyzs&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;war&lt;/packaging&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;opensaml.version&gt;3.2.0&lt;/opensaml.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.opensaml&lt;/groupId&gt;\r\n            &lt;artifactId&gt;opensaml-core&lt;/artifactId&gt;\r\n            &lt;version&gt;${opensaml.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.opensaml&lt;/groupId&gt;\r\n            &lt;artifactId&gt;opensaml-saml-api&lt;/artifactId&gt;\r\n            &lt;version&gt;${opensaml.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.opensaml&lt;/groupId&gt;\r\n            &lt;artifactId&gt;opensaml-saml-impl&lt;/artifactId&gt;\r\n            &lt;version&gt;${opensaml.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.opensaml&lt;/groupId&gt;\r\n            &lt;artifactId&gt;opensaml-messaging-api&lt;/artifactId&gt;\r\n            &lt;version&gt;${opensaml.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.opensaml&lt;/groupId&gt;\r\n            &lt;artifactId&gt;opensaml-messaging-impl&lt;/artifactId&gt;\r\n            &lt;version&gt;${opensaml.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.opensaml&lt;/groupId&gt;\r\n            &lt;artifactId&gt;opensaml-soap-api&lt;/artifactId&gt;\r\n            &lt;version&gt;${opensaml.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.opensaml&lt;/groupId&gt;\r\n            &lt;artifactId&gt;opensaml-soap-impl&lt;/artifactId&gt;\r\n            &lt;version&gt;${opensaml.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n         &lt;dependency&gt;\r\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n            &lt;artifactId&gt;logback-core&lt;/artifactId&gt;\r\n            &lt;version&gt;1.1.7&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n            &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n            &lt;version&gt;1.1.7&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.0&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;commons-logging&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;shib-release&lt;/id&gt;\r\n            &lt;url&gt;https://build.shibboleth.net/nexus/content/repositories/releases&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nSince the repository also contains javadoc + sources, is it somehow possible to modify the source code of different files in the libraries? I am using IntelliJ IDEA and it does not let me edit the source code. I have googled a bit and most people suggest getting the source code from the repository and compiling my own jar. This does not seem that easy since the documentation for this library is basically non existent and it is composed of multiple sub-libraries.\r\n\r\nI was able to create modules in my IntelliJ IDEA project from the source codes for different library parts but then the issue is with the dependencies.\r\n\r\nI just do not understand why cannot the IDE rebuild the library since it knows all the dependencies and source codes. Is there really no easier way?","title":"Easiest way how to modify the source of a library from Maven","body":"<p>I am experimenting with a SAML library OpenSAML <a href=\"https://shibboleth.atlassian.net/wiki/spaces/OS30/overview\" rel=\"nofollow noreferrer\">https://shibboleth.atlassian.net/wiki/spaces/OS30/overview</a>. The library is distributed using Maven through the repository <a href=\"https://build.shibboleth.net/maven/releases/org/opensaml/\" rel=\"nofollow noreferrer\">https://build.shibboleth.net/maven/releases/org/opensaml/</a>.\nMy pom.xml looks like this</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;xyz.test.ho&lt;/groupId&gt;\n    &lt;artifactId&gt;xyzs&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n\n    &lt;properties&gt;\n        &lt;opensaml.version&gt;3.2.0&lt;/opensaml.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.opensaml&lt;/groupId&gt;\n            &lt;artifactId&gt;opensaml-core&lt;/artifactId&gt;\n            &lt;version&gt;${opensaml.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.opensaml&lt;/groupId&gt;\n            &lt;artifactId&gt;opensaml-saml-api&lt;/artifactId&gt;\n            &lt;version&gt;${opensaml.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.opensaml&lt;/groupId&gt;\n            &lt;artifactId&gt;opensaml-saml-impl&lt;/artifactId&gt;\n            &lt;version&gt;${opensaml.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.opensaml&lt;/groupId&gt;\n            &lt;artifactId&gt;opensaml-messaging-api&lt;/artifactId&gt;\n            &lt;version&gt;${opensaml.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.opensaml&lt;/groupId&gt;\n            &lt;artifactId&gt;opensaml-messaging-impl&lt;/artifactId&gt;\n            &lt;version&gt;${opensaml.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.opensaml&lt;/groupId&gt;\n            &lt;artifactId&gt;opensaml-soap-api&lt;/artifactId&gt;\n            &lt;version&gt;${opensaml.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.opensaml&lt;/groupId&gt;\n            &lt;artifactId&gt;opensaml-soap-impl&lt;/artifactId&gt;\n            &lt;version&gt;${opensaml.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n         &lt;dependency&gt;\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n            &lt;artifactId&gt;logback-core&lt;/artifactId&gt;\n            &lt;version&gt;1.1.7&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n            &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n            &lt;version&gt;1.1.7&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-logging&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\n            &lt;version&gt;1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;shib-release&lt;/id&gt;\n            &lt;url&gt;https://build.shibboleth.net/nexus/content/repositories/releases&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Since the repository also contains javadoc + sources, is it somehow possible to modify the source code of different files in the libraries? I am using IntelliJ IDEA and it does not let me edit the source code. I have googled a bit and most people suggest getting the source code from the repository and compiling my own jar. This does not seem that easy since the documentation for this library is basically non existent and it is composed of multiple sub-libraries.</p>\n<p>I was able to create modules in my IntelliJ IDEA project from the source codes for different library parts but then the issue is with the dependencies.</p>\n<p>I just do not understand why cannot the IDE rebuild the library since it knows all the dependencies and source codes. Is there really no easier way?</p>\n"},{"tags":["java","spring","proguard"],"comments":[{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1675761886,"post_id":75371162,"comment_id":132993325,"body_markdown":"Spring boot has its own classloader which puts classes in an unusual directory inside of the jar. Either tell ProGuard about that (if that&#39;s even possible) or obfuscate the *input* that goes into the spring boot jar before building the jar.","body":"Spring boot has its own classloader which puts classes in an unusual directory inside of the jar. Either tell ProGuard about that (if that&#39;s even possible) or obfuscate the <i>input</i> that goes into the spring boot jar before building the jar."}],"owner":{"account_id":21430481,"reputation":1,"user_id":15786996,"display_name":"Shahzeb Iqbal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1675761930,"answer_count":0,"score":0,"last_activity_date":1675768708,"creation_date":1675761380,"question_id":75371162,"body_markdown":" [proguard] Warning: class [BOOT-INF/classes/com/tgroup/stream/ui/service/service/DetailService.class] unexpectedly contains class [com.tgroup.stream.ui.service.service.DetailService]\r\n\r\ngetting these 453 warnings for every class in my project.\r\n \r\n\r\n [proguard] Warning: there were 453 classes in incorrectly named files.\r\n [proguard]          You should make sure all file names correspond to their class names.\r\n [proguard]          The directory hierarchies must correspond to the package hierarchies.\r\n [proguard]          (https://www.guardsquare.com/proguard/manual/troubleshooting#unexpectedclass)\r\n  \r\nhere is pom.xml \r\n```\r\ntype         \r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;repackage&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;mainClass&gt;path.to.main.class&lt;/mainClass&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;pre-integration-test&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;start&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;post-integration-test&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;stop&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n\r\n           &lt;plugin&gt;\r\n                &lt;groupId&gt;com.github.wvengen&lt;/groupId&gt;\r\n                &lt;artifactId&gt;proguard-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.3.1&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;proguard&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;proguardVersion&gt;7.0.0&lt;/proguardVersion&gt;\r\n                    &lt;injar&gt;${project.build.finalName}.jar&lt;/injar&gt;\r\n                    &lt;outjar&gt;${project.build.finalName}-obfuscated.jar&lt;/outjar&gt;\r\n                    &lt;obfuscate&gt;true&lt;/obfuscate&gt;\r\n                    &lt;proguardInclude&gt;${project.basedir}/proguard.cfg&lt;/proguardInclude&gt;\r\n                    &lt;libs&gt;\r\n                        &lt;lib&gt;C:\\Program Files\\Java\\jdk1.8.0_201\\jre\\lib\\rt.jar&lt;/lib&gt;\r\n                        &lt;lib&gt;${java.home}&lt;/lib&gt;\r\n                    &lt;/libs&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;dependencies&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;com.guardsquare&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;proguard-base&lt;/artifactId&gt;\r\n                        &lt;version&gt;7.0.0&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                &lt;/dependencies&gt;\r\n            &lt;/plugin&gt;\r\nhere\r\n```\r\n\r\nhere is proguard.cfg file: \r\n```\r\ntype -target 11 ##Specify the java version number\r\n-dontshrink ##Default is enabled, here the shrink is turned off, that is, the unused classes/members are not deleted.\r\n-dontoptimize ##Default is enabled, here to turn off bytecode level optimization\r\n-useuniqueclassmembernames ## Take a unique strategy for confusing the naming of class members\r\n-adaptclassstrings ## After confusing the class name, replace it with a place like Class.forName(&#39;className&#39;)\r\n-dontnote\r\n-keep public class * extends org.springframework.boot.web.support.SpringBootServletInitializer\r\n-keep class java.lang.invoke.StringConcatFactory { *; }\r\n\r\n-keepdirectories ## Keep the package structure\r\n-keepclasseswithmembers public class * { public static void main(java.lang.String[]);} ##Maintain the class of the main method and its method name\r\n-keepclassmembers enum * { *; }  ##Reserving enumeration members and methods\r\n-keepclassmembers class * {\r\n     @org.springframework.beans.factory.annotation.Autowired *;\r\n     @org.springframework.beans.factory.annotation.Qualifier *;\r\n     @org.springframework.beans.factory.annotation.Value *;\r\n     @org.springframework.beans.factory.annotation.Required *;\r\n     @org.springframework.context.annotation.Bean *;\r\n     @org.springframework.context.annotation.Primary *;\r\n     @org.springframework.boot.context.properties.ConfigurationProperties *;\r\n     @org.springframework.boot.context.properties.EnableConfigurationProperties *;\r\n     @javax.inject.Inject *;\r\n     @javax.annotation.PostConstruct *;\r\n     @javax.annotation.PreDestroy *;\r\n}\r\n-keep @org.springframework.cache.annotation.EnableCaching class *\r\n-keep @org.springframework.context.annotation.Configuration class *\r\n-keep @org.springframework.boot.context.properties.ConfigurationProperties class *\r\n-keep @org.springframework.boot.autoconfigure.SpringBootApplication class *\r\n-allowaccessmodification\r\n-keepattributes *Annotation*\r\n-keepdirectories com.tgroup.stream.ui.service\r\n-keepdirectories org.springframework.boot.autoconfigure\r\n## Do not change names of the getters and setter, if you remove this ##thymeleaf unable to find the getter and setter i.e: ##${greetingDTO.message}\r\n-keepclassmembers class * {\r\n    *** get*();\r\n    void set*(***);\r\n}\r\n-keepclassmembernames class * {\r\n     java.lang.Class class$(java.lang.String);\r\n     java.lang.Class class$(java.lang.String, boolean);\r\n}\r\n-keepclassmembers enum * {\r\n     public static **[] values();\r\n     public static ** valueOf(java.lang.String);\r\n     public static ** fromValue(java.lang.String);\r\n}\r\n-keepnames class * implements java.io.Serializable\r\n-keepclassmembernames public class com.test.blah.config.liquibase.AsyncSpringLiquibase\r\n-keepclassmembers class * implements java.io.Serializable {\r\n     static final long serialVersionUID;\r\n     private static final java.io.ObjectStreamField[] serialPersistentFields;\r\n     !static !transient &lt;fields&gt;;\r\n     !private &lt;fields&gt;;\r\n     !private &lt;methods&gt;;\r\n     private void writeObject(java.io.ObjectOutputStream);\r\n     private void readObject(java.io.ObjectInputStream);\r\n     java.lang.Object writeReplace();\r\n     java.lang.Object readResolve();\r\n}\r\n-keepclassmembers class * {\r\n     @org.springframework.beans.factory.annotation.Autowired &lt;fields&gt;;\r\n     @org.springframework.beans.factory.annotation.Autowired &lt;methods&gt;;\r\n     @org.springframework.security.access.prepost.PreAuthorize &lt;methods&gt;;\r\n}here\r\n```\r\nNote: I also importing some locally generated libraries in my project\r\n\r\n\r\n\\ used -ignorewarning but after ignoring warnings my obfuscated jar has not a single class nor package. it has only properties and configuration files.\r\n\r\nobfuscated jar:\r\n[enter image description here](https://i.stack.imgur.com/2H7Gv.png)\r\n\r\ninside Boot-inf\r\n[enter image description here](https://i.stack.imgur.com/vJmHK.png)\r\n\r\ninside classes. as you can see there is not a single class nor package.\r\n[enter image description here](https://i.stack.imgur.com/z2Fep.png)\r\n","title":"I&#39;m using ProGuard to obfuscate my Java spring boot code, and I&#39;m encountering a warning that a class file is unexpectedly containing a specific class","body":"<p>[proguard] Warning: class [BOOT-INF/classes/com/tgroup/stream/ui/service/service/DetailService.class] unexpectedly contains class [com.tgroup.stream.ui.service.service.DetailService]</p>\n<p>getting these 453 warnings for every class in my project.</p>\n<p>[proguard] Warning: there were 453 classes in incorrectly named files.\n[proguard]          You should make sure all file names correspond to their class names.\n[proguard]          The directory hierarchies must correspond to the package hierarchies.\n[proguard]          (<a href=\"https://www.guardsquare.com/proguard/manual/troubleshooting#unexpectedclass\" rel=\"nofollow noreferrer\">https://www.guardsquare.com/proguard/manual/troubleshooting#unexpectedclass</a>)</p>\n<p>here is pom.xml</p>\n<pre><code>type         \n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;repackage&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;mainClass&gt;path.to.main.class&lt;/mainClass&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;pre-integration-test&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;start&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;post-integration-test&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;stop&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n\n           &lt;plugin&gt;\n                &lt;groupId&gt;com.github.wvengen&lt;/groupId&gt;\n                &lt;artifactId&gt;proguard-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.3.1&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;proguard&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;proguardVersion&gt;7.0.0&lt;/proguardVersion&gt;\n                    &lt;injar&gt;${project.build.finalName}.jar&lt;/injar&gt;\n                    &lt;outjar&gt;${project.build.finalName}-obfuscated.jar&lt;/outjar&gt;\n                    &lt;obfuscate&gt;true&lt;/obfuscate&gt;\n                    &lt;proguardInclude&gt;${project.basedir}/proguard.cfg&lt;/proguardInclude&gt;\n                    &lt;libs&gt;\n                        &lt;lib&gt;C:\\Program Files\\Java\\jdk1.8.0_201\\jre\\lib\\rt.jar&lt;/lib&gt;\n                        &lt;lib&gt;${java.home}&lt;/lib&gt;\n                    &lt;/libs&gt;\n                &lt;/configuration&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;com.guardsquare&lt;/groupId&gt;\n                        &lt;artifactId&gt;proguard-base&lt;/artifactId&gt;\n                        &lt;version&gt;7.0.0&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n            &lt;/plugin&gt;\nhere\n</code></pre>\n<p>here is proguard.cfg file:</p>\n<pre><code>type -target 11 ##Specify the java version number\n-dontshrink ##Default is enabled, here the shrink is turned off, that is, the unused classes/members are not deleted.\n-dontoptimize ##Default is enabled, here to turn off bytecode level optimization\n-useuniqueclassmembernames ## Take a unique strategy for confusing the naming of class members\n-adaptclassstrings ## After confusing the class name, replace it with a place like Class.forName('className')\n-dontnote\n-keep public class * extends org.springframework.boot.web.support.SpringBootServletInitializer\n-keep class java.lang.invoke.StringConcatFactory { *; }\n\n-keepdirectories ## Keep the package structure\n-keepclasseswithmembers public class * { public static void main(java.lang.String[]);} ##Maintain the class of the main method and its method name\n-keepclassmembers enum * { *; }  ##Reserving enumeration members and methods\n-keepclassmembers class * {\n     @org.springframework.beans.factory.annotation.Autowired *;\n     @org.springframework.beans.factory.annotation.Qualifier *;\n     @org.springframework.beans.factory.annotation.Value *;\n     @org.springframework.beans.factory.annotation.Required *;\n     @org.springframework.context.annotation.Bean *;\n     @org.springframework.context.annotation.Primary *;\n     @org.springframework.boot.context.properties.ConfigurationProperties *;\n     @org.springframework.boot.context.properties.EnableConfigurationProperties *;\n     @javax.inject.Inject *;\n     @javax.annotation.PostConstruct *;\n     @javax.annotation.PreDestroy *;\n}\n-keep @org.springframework.cache.annotation.EnableCaching class *\n-keep @org.springframework.context.annotation.Configuration class *\n-keep @org.springframework.boot.context.properties.ConfigurationProperties class *\n-keep @org.springframework.boot.autoconfigure.SpringBootApplication class *\n-allowaccessmodification\n-keepattributes *Annotation*\n-keepdirectories com.tgroup.stream.ui.service\n-keepdirectories org.springframework.boot.autoconfigure\n## Do not change names of the getters and setter, if you remove this ##thymeleaf unable to find the getter and setter i.e: ##${greetingDTO.message}\n-keepclassmembers class * {\n    *** get*();\n    void set*(***);\n}\n-keepclassmembernames class * {\n     java.lang.Class class$(java.lang.String);\n     java.lang.Class class$(java.lang.String, boolean);\n}\n-keepclassmembers enum * {\n     public static **[] values();\n     public static ** valueOf(java.lang.String);\n     public static ** fromValue(java.lang.String);\n}\n-keepnames class * implements java.io.Serializable\n-keepclassmembernames public class com.test.blah.config.liquibase.AsyncSpringLiquibase\n-keepclassmembers class * implements java.io.Serializable {\n     static final long serialVersionUID;\n     private static final java.io.ObjectStreamField[] serialPersistentFields;\n     !static !transient &lt;fields&gt;;\n     !private &lt;fields&gt;;\n     !private &lt;methods&gt;;\n     private void writeObject(java.io.ObjectOutputStream);\n     private void readObject(java.io.ObjectInputStream);\n     java.lang.Object writeReplace();\n     java.lang.Object readResolve();\n}\n-keepclassmembers class * {\n     @org.springframework.beans.factory.annotation.Autowired &lt;fields&gt;;\n     @org.springframework.beans.factory.annotation.Autowired &lt;methods&gt;;\n     @org.springframework.security.access.prepost.PreAuthorize &lt;methods&gt;;\n}here\n</code></pre>\n<p>Note: I also importing some locally generated libraries in my project</p>\n<p>\\ used -ignorewarning but after ignoring warnings my obfuscated jar has not a single class nor package. it has only properties and configuration files.</p>\n<p>obfuscated jar:\n<a href=\"https://i.stack.imgur.com/2H7Gv.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>inside Boot-inf\n<a href=\"https://i.stack.imgur.com/vJmHK.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>inside classes. as you can see there is not a single class nor package.\n<a href=\"https://i.stack.imgur.com/z2Fep.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","spring-boot","jpa"],"answers":[{"comments":[{"owner":{"account_id":1984972,"reputation":407,"user_id":1780480,"accept_rate":60,"display_name":"matio"},"score":0,"creation_date":1674509289,"post_id":74692035,"comment_id":132725492,"body_markdown":"pending on how the JPA persistence provider is implemented this is very likely to always return an instance and throw an jakarta.persistence.EntityNotFoundException on first access.","body":"pending on how the JPA persistence provider is implemented this is very likely to always return an instance and throw an jakarta.persistence.EntityNotFoundException on first access."},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1674549838,"post_id":74692035,"comment_id":132732132,"body_markdown":"@matio No it&#39;s not","body":"@matio No it&#39;s not"},{"owner":{"account_id":1984972,"reputation":407,"user_id":1780480,"accept_rate":60,"display_name":"matio"},"score":0,"creation_date":1674660021,"post_id":74692035,"comment_id":132762362,"body_markdown":"Yes, this is a copy pasted text feom doc.According to documentation it is.you can  refer to the documentation","body":"Yes, this is a copy pasted text feom doc.According to documentation it is.you can  refer to the documentation"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1674661273,"post_id":74692035,"comment_id":132762819,"body_markdown":"@matio Hibernate and EclipseLink are returning a proxy. This works very reliable and I use it since many years","body":"@matio Hibernate and EclipseLink are returning a proxy. This works very reliable and I use it since many years"},{"owner":{"account_id":1984972,"reputation":407,"user_id":1780480,"accept_rate":60,"display_name":"matio"},"score":0,"creation_date":1674800036,"post_id":74692035,"comment_id":132794294,"body_markdown":"Since 2.7 it is pretty much depending on how the JPA persistence provider is implemented. Refer to the latest documentation. \nhttps://github.com/spring-projects/spring-data-jpa/blob/main/spring-data-jpa/src/main/java/org/springframework/data/jpa/repository/JpaRepository.java#L132\nBTW I am referring to JPA as the implementation while hibernate is the abstraction layer.","body":"Since 2.7 it is pretty much depending on how the JPA persistence provider is implemented. Refer to the latest documentation.  <a href=\"https://github.com/spring-projects/spring-data-jpa/blob/main/spring-data-jpa/src/main/java/org/springframework/data/jpa/repository/JpaRepository.java#L132\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-data-jpa/blob/main/&hellip;</a> BTW I am referring to JPA as the implementation while hibernate is the abstraction layer."},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1674806753,"post_id":74692035,"comment_id":132795637,"body_markdown":"JPA is the specification. Hibernate and EclipseLink are implementations of this specification. If you what to know more read the spec https://jakarta.ee/specifications/persistence/3.0/jakarta-persistence-spec-3.0.html","body":"JPA is the specification. Hibernate and EclipseLink are implementations of this specification. If you what to know more read the spec <a href=\"https://jakarta.ee/specifications/persistence/3.0/jakarta-persistence-spec-3.0.html\" rel=\"nofollow noreferrer\">jakarta.ee/specifications/persistence/3.0/&hellip;</a>"}],"tags":[],"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"comment_count":6,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1670261006,"creation_date":1670261006,"answer_id":74692035,"question_id":74692007,"body_markdown":"getReferenceById returns a proxy and doesn&#39;t do a database call therefore no exception is called as JPA doesn&#39;t know if the entity with this ID exists.\r\n\r\ngetReferenceById executes EntityManager.getReference and the docs says:\r\n\r\n&gt; &lt;T&gt; T getReference​(java.lang.Class&lt;T&gt; entityClass, java.lang.Object\r\n&gt; primaryKey) \r\n&gt;\r\n&gt; Get an instance, whose state may be lazily fetched. If the\r\n&gt; requested instance does not exist in the database, the\r\n&gt; EntityNotFoundException is thrown when the instance state is first\r\n&gt; accessed. (The persistence provider runtime is permitted to throw the\r\n&gt; EntityNotFoundException when getReference is called.) The application\r\n&gt; should not expect that the instance state will be available upon\r\n&gt; detachment, unless it was accessed by the application while the entity\r\n&gt; manager was open.\r\n\r\nSource: https://jakarta.ee/specifications/persistence/2.2/apidocs/javax/persistence/entitymanager","title":"Spring data JPA getById vs GetReferenceById","body":"<p>getReferenceById returns a proxy and doesn't do a database call therefore no exception is called as JPA doesn't know if the entity with this ID exists.</p>\n<p>getReferenceById executes EntityManager.getReference and the docs says:</p>\n<blockquote>\n<p> T getReference​(java.lang.Class entityClass, java.lang.Object\nprimaryKey)</p>\n<p>Get an instance, whose state may be lazily fetched. If the\nrequested instance does not exist in the database, the\nEntityNotFoundException is thrown when the instance state is first\naccessed. (The persistence provider runtime is permitted to throw the\nEntityNotFoundException when getReference is called.) The application\nshould not expect that the instance state will be available upon\ndetachment, unless it was accessed by the application while the entity\nmanager was open.</p>\n</blockquote>\n<p>Source: <a href=\"https://jakarta.ee/specifications/persistence/2.2/apidocs/javax/persistence/entitymanager\" rel=\"nofollow noreferrer\">https://jakarta.ee/specifications/persistence/2.2/apidocs/javax/persistence/entitymanager</a></p>\n"},{"comments":[{"owner":{"account_id":4380085,"reputation":184,"user_id":3571945,"accept_rate":75,"display_name":"user3571945"},"score":0,"creation_date":1690948544,"post_id":75215455,"comment_id":135422423,"body_markdown":"I think you better attach [the SOURCE](https://vladmihalcea.com/spring-data-jpa-findbyid/) and not to modify some wordings to treat it as your works. NVM if you are the author ;)","body":"I think you better attach <a href=\"https://vladmihalcea.com/spring-data-jpa-findbyid/\" rel=\"nofollow noreferrer\">the SOURCE</a> and not to modify some wordings to treat it as your works. NVM if you are the author ;)"}],"tags":[],"owner":{"account_id":1984972,"reputation":407,"user_id":1780480,"accept_rate":60,"display_name":"matio"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1674510984,"creation_date":1674510984,"answer_id":75215455,"question_id":74692007,"body_markdown":"Sometimes when using only `getById` as a way to fetch the entity makes some major issues. Usually we prefer to use `getReferenceById` method instead to save some extra calls, as if we were doing such using `getById` there is an extra call to database. \r\nLet’s consider we have a `Category` child entity that is associated with the parent `Product` entity via the `Product` reference in the `Category` entity. Means each product has multiple categories. The code block that adds a new category to our product using `productId` as reference is below:\r\n\r\n    public Category addNewCategory(String categoryName, Long productId) {           \r\n        Category category = new Category()\r\n            .setName(categoryName)\r\n            .setProduct(productRepository.findById(productId)\r\n                .orElseThrow(\r\n                    ()-&gt; new EntityNotFoundException(\r\n                        String.format(\r\n                            &quot;Product with id [%d] was not found!&quot;,\r\n                            productId\r\n                        )\r\n                    )\r\n                )\r\n            );\r\n \r\n        categoryRepository.save(category);\r\n \r\n        return category;\r\n    }\r\n\r\nIf you want to add a category to a product, you first need to call `findProductById` each time you insert a new `Category`. When you got the `Product` then you insert it as a reference to the `Category` entity.\r\nIn this case Spring Data JPA would generate the following sql:\r\n\r\n\r\n    SELECT\r\n    product0_.id AS id1_0_0_,\r\n    product0_.slug AS name2_0_0_,\r\n    product0_.title AS title3_0_0_\r\n    FROM\r\n     product product0_\r\n    WHERE\r\n     product0_.id = 1\r\n \r\n    SELECT nextval (&#39;hibernate_sequence&#39;)\r\n \r\n    INSERT INTO category (\r\n     product_id,\r\n     name,\r\n     id\r\n    )\r\n    VALUES (\r\n     1,\r\n     &#39;book&#39;,\r\n     1\r\n    )\r\n\r\nThis query was generated by the `findById` method call, which is meant to load the entity in the current Persistence Context. However, in our case, we don’t need that. We just want to save a new `Category` entity and set the product_id Foreign Key column to a value that we already know.\r\n\r\nBut, since the only way to set the underlying product_id column value is to provide a `Product` entity reference, that’s why many developers end up calling the `findById` method.\r\n\r\nIn our case, running this SQL query is unnecessary because we don’t need to fetch the parent Product entity. But how can we get rid of this extra SQL query?\r\nWe can use `getReferenceById` method instead.\r\n\r\n    public PostComment addNewCategory(String name, Long productId) {\r\n        Category category = new Category()\r\n           .setName(name)\r\n           .setProduct(productRepository.getReferenceById(productId));\r\n \r\n           categoryRepository.save(category);\r\n \r\n           return category;\r\n    }\r\n\r\nWhen calling the same `addNewCategory` method now, we see that the `Product` entity is no longer fetched as it will be fetched from a cached location where JPA holds entity Proxy. This way we can optimize our Spring applications that uses database intensively. \r\n\r\n\r\n","title":"Spring data JPA getById vs GetReferenceById","body":"<p>Sometimes when using only <code>getById</code> as a way to fetch the entity makes some major issues. Usually we prefer to use <code>getReferenceById</code> method instead to save some extra calls, as if we were doing such using <code>getById</code> there is an extra call to database.\nLet’s consider we have a <code>Category</code> child entity that is associated with the parent <code>Product</code> entity via the <code>Product</code> reference in the <code>Category</code> entity. Means each product has multiple categories. The code block that adds a new category to our product using <code>productId</code> as reference is below:</p>\n<pre><code>public Category addNewCategory(String categoryName, Long productId) {           \n    Category category = new Category()\n        .setName(categoryName)\n        .setProduct(productRepository.findById(productId)\n            .orElseThrow(\n                ()-&gt; new EntityNotFoundException(\n                    String.format(\n                        &quot;Product with id [%d] was not found!&quot;,\n                        productId\n                    )\n                )\n            )\n        );\n\n    categoryRepository.save(category);\n\n    return category;\n}\n</code></pre>\n<p>If you want to add a category to a product, you first need to call <code>findProductById</code> each time you insert a new <code>Category</code>. When you got the <code>Product</code> then you insert it as a reference to the <code>Category</code> entity.\nIn this case Spring Data JPA would generate the following sql:</p>\n<pre><code>SELECT\nproduct0_.id AS id1_0_0_,\nproduct0_.slug AS name2_0_0_,\nproduct0_.title AS title3_0_0_\nFROM\n product product0_\nWHERE\n product0_.id = 1\n\nSELECT nextval ('hibernate_sequence')\n\nINSERT INTO category (\n product_id,\n name,\n id\n)\nVALUES (\n 1,\n 'book',\n 1\n)\n</code></pre>\n<p>This query was generated by the <code>findById</code> method call, which is meant to load the entity in the current Persistence Context. However, in our case, we don’t need that. We just want to save a new <code>Category</code> entity and set the product_id Foreign Key column to a value that we already know.</p>\n<p>But, since the only way to set the underlying product_id column value is to provide a <code>Product</code> entity reference, that’s why many developers end up calling the <code>findById</code> method.</p>\n<p>In our case, running this SQL query is unnecessary because we don’t need to fetch the parent Product entity. But how can we get rid of this extra SQL query?\nWe can use <code>getReferenceById</code> method instead.</p>\n<pre><code>public PostComment addNewCategory(String name, Long productId) {\n    Category category = new Category()\n       .setName(name)\n       .setProduct(productRepository.getReferenceById(productId));\n\n       categoryRepository.save(category);\n\n       return category;\n}\n</code></pre>\n<p>When calling the same <code>addNewCategory</code> method now, we see that the <code>Product</code> entity is no longer fetched as it will be fetched from a cached location where JPA holds entity Proxy. This way we can optimize our Spring applications that uses database intensively.</p>\n"},{"tags":[],"owner":{"account_id":3755436,"reputation":915,"user_id":3121895,"display_name":"Patrick"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675768629,"creation_date":1675768629,"answer_id":75372609,"question_id":74692007,"body_markdown":"What you are saying seems a bit odd, as the implementation of the deprecated `org.springframework.data.jpa.repository.JpaRepository#getById` just delegates to it&#39;s replacement, `org.springframework.data.jpa.repository.JpaRepository#getReferenceById`.\r\n\r\nAs you can see in the implementation of that method (`org.springframework.data.jpa.repository.support.SimpleJpaRepository#getReferenceById`) it is directly using the `EntityManager#getReference` method.  \r\nWhen using Hibernate this normally only creates a Proxy, and just when you access one of the fields the Proxy fetches the real values from the DB - or throwing an `EntityNotFoundException` in case it does not exist.  \r\n\r\nCould it be that you changed something in your code, or you are being tricked by your debugger trying to display the `toString` of your method?","title":"Spring data JPA getById vs GetReferenceById","body":"<p>What you are saying seems a bit odd, as the implementation of the deprecated <code>org.springframework.data.jpa.repository.JpaRepository#getById</code> just delegates to it's replacement, <code>org.springframework.data.jpa.repository.JpaRepository#getReferenceById</code>.</p>\n<p>As you can see in the implementation of that method (<code>org.springframework.data.jpa.repository.support.SimpleJpaRepository#getReferenceById</code>) it is directly using the <code>EntityManager#getReference</code> method.<br />\nWhen using Hibernate this normally only creates a Proxy, and just when you access one of the fields the Proxy fetches the real values from the DB - or throwing an <code>EntityNotFoundException</code> in case it does not exist.</p>\n<p>Could it be that you changed something in your code, or you are being tricked by your debugger trying to display the <code>toString</code> of your method?</p>\n"}],"owner":{"account_id":6702549,"reputation":1560,"user_id":5168582,"accept_rate":86,"display_name":"Mateusz Sobczak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12146,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1675768629,"creation_date":1670260824,"question_id":74692007,"body_markdown":"Does anyone know why getById and GetReferenceById work differently?\r\nI&#39;m using JpaRepository and method GetReferenceById doesn&#39;t throw EntityNotFoundException but getById throwing this exception when object doesn&#39;t exists","title":"Spring data JPA getById vs GetReferenceById","body":"<p>Does anyone know why getById and GetReferenceById work differently?\nI'm using JpaRepository and method GetReferenceById doesn't throw EntityNotFoundException but getById throwing this exception when object doesn't exists</p>\n"},{"tags":["java","ssl","jetty"],"answers":[{"tags":[],"owner":{"account_id":65427,"reputation":10919,"user_id":192529,"accept_rate":81,"display_name":"Timur Sadykov"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1675768623,"creation_date":1562091997,"answer_id":56858242,"question_id":50641587,"body_markdown":"One scenario if you want to enforce [mTLS][1] only for certain clients. So you have `wantClientAuth` option, then you have a filter that checks certain clients succeeded mTLS. \r\n\r\n\r\n  [1]: https://www.cloudflare.com/learning/access-management/what-is-mutual-tls/","title":"What is the difference between needClientAuth vs wantClientAuth in Jetty SSL module?","body":"<p>One scenario if you want to enforce <a href=\"https://www.cloudflare.com/learning/access-management/what-is-mutual-tls/\" rel=\"nofollow noreferrer\">mTLS</a> only for certain clients. So you have <code>wantClientAuth</code> option, then you have a filter that checks certain clients succeeded mTLS.</p>\n"}],"owner":{"account_id":8755685,"reputation":125,"user_id":6547358,"display_name":"alk453"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":972,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1675768623,"creation_date":1527849538,"question_id":50641587,"body_markdown":"I&#39;m trying to enable client authentication for Jetty server.\r\n\r\nI found two configurations `needClientAuth` and `wantClientAuth`. Most of the places `needClientAuth` is being used, then what is the purpose of `wantClientAuth`?","title":"What is the difference between needClientAuth vs wantClientAuth in Jetty SSL module?","body":"<p>I'm trying to enable client authentication for Jetty server.</p>\n<p>I found two configurations <code>needClientAuth</code> and <code>wantClientAuth</code>. Most of the places <code>needClientAuth</code> is being used, then what is the purpose of <code>wantClientAuth</code>?</p>\n"},{"tags":["java","spring","spring-mvc","servlets","applicationcontext"],"comments":[{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1439257470,"post_id":31931848,"comment_id":51775367,"body_markdown":"Have you looked up the javadoc of either?","body":"Have you looked up the javadoc of either?"},{"owner":{"account_id":6769307,"reputation":465,"user_id":5213162,"display_name":"Raleigh"},"score":3,"creation_date":1439257645,"post_id":31931848,"comment_id":51775411,"body_markdown":"i did but i i can&#39;t get through, so i asked this question.","body":"i did but i i can&#39;t get through, so i asked this question."}],"answers":[{"comments":[{"owner":{"account_id":6769307,"reputation":465,"user_id":5213162,"display_name":"Raleigh"},"score":0,"creation_date":1439258802,"post_id":31931989,"comment_id":51775723,"body_markdown":"Thank you for your answer, Sanjay. I read some documents say that To configure value for root application context in spring, we need to add some values in context-param in web.xml.","body":"Thank you for your answer, Sanjay. I read some documents say that To configure value for root application context in spring, we need to add some values in context-param in web.xml."},{"owner":{"account_id":1077174,"reputation":8775,"user_id":1075051,"accept_rate":75,"display_name":"Sanjay"},"score":0,"creation_date":1439259305,"post_id":31931989,"comment_id":51775846,"body_markdown":"Maybe they are saying that you can just provide the locations of root application context configuration files by using a context-param. See my updated answer.","body":"Maybe they are saying that you can just provide the locations of root application context configuration files by using a context-param. See my updated answer."}],"tags":[],"owner":{"account_id":1077174,"reputation":8775,"user_id":1075051,"accept_rate":75,"display_name":"Sanjay"},"comment_count":2,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1439259241,"creation_date":1439258200,"answer_id":31931989,"question_id":31931848,"body_markdown":"They are separate things. Every Java web applications based on Servlet technology will have a [servlet context][1], whether it&#39;s a spring application or not. In contrast, the [ApplicationContext][2] is a Spring thing; in very simple terms, it&#39;s a container to hold Spring beans.\r\n\r\n&gt; To initiate the value for both ApplicationContext and ServletContext, in web.xml, we will add something in context-param tag.\r\n\r\nIt would help if you quote an example for this, because, as far as I know, context-param is used for ServletContext, and not ApplicationContext.\r\n\r\n**Update**:\r\n\r\nYou can use a `context-param` to provide the locations of the root application context configuration files, as below.\r\n\r\n    &lt;context-param&gt;\r\n        &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n        &lt;param-value&gt;\r\n            /WEB-INF/root-context.xml\r\n            /WEB-INF/applicationContext-security.xml\r\n        &lt;/param-value&gt;\r\n    &lt;/context-param&gt;\r\n\r\n  [1]: http://www.javatpoint.com/servletcontext\r\n  [2]: https://spring.io/understanding/application-context","title":"ApplicationContext and ServletContext","body":"<p>They are separate things. Every Java web applications based on Servlet technology will have a <a href=\"http://www.javatpoint.com/servletcontext\" rel=\"noreferrer\">servlet context</a>, whether it's a spring application or not. In contrast, the <a href=\"https://spring.io/understanding/application-context\" rel=\"noreferrer\">ApplicationContext</a> is a Spring thing; in very simple terms, it's a container to hold Spring beans.</p>\n\n<blockquote>\n  <p>To initiate the value for both ApplicationContext and ServletContext, in web.xml, we will add something in context-param tag.</p>\n</blockquote>\n\n<p>It would help if you quote an example for this, because, as far as I know, context-param is used for ServletContext, and not ApplicationContext.</p>\n\n<p><strong>Update</strong>:</p>\n\n<p>You can use a <code>context-param</code> to provide the locations of the root application context configuration files, as below.</p>\n\n<pre><code>&lt;context-param&gt;\n    &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n    &lt;param-value&gt;\n        /WEB-INF/root-context.xml\n        /WEB-INF/applicationContext-security.xml\n    &lt;/param-value&gt;\n&lt;/context-param&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":917806,"reputation":1834,"user_id":950212,"display_name":"Ankireddy Polu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1439272171,"creation_date":1439259116,"answer_id":31932089,"question_id":31931848,"body_markdown":"In Spring, to read a specific initialisation configuration file, we use the **context-param** with the predefined name called **contextConfigLocation**.  \r\n\r\n    &lt;context-param&gt;\r\n      &lt;description&gt;WebFlow context configuration&lt;/description&gt;\r\n      &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n      &lt;param-value&gt;/WEB-INF/test-context.xml&lt;/param-value&gt;\r\n    &lt;/context-param&gt; \r\n\r\nBut in case of Plain J2EE web application without including any frameworks, the **context-param** can read from any where in the application i.e. any servlet, filter.\r\n\r\nThe difference between **ApplicationContext** and **ServletContext**, sanjay explained \r\n\r\n\r\n","title":"ApplicationContext and ServletContext","body":"<p>In Spring, to read a specific initialisation configuration file, we use the <strong>context-param</strong> with the predefined name called <strong>contextConfigLocation</strong>.  </p>\n\n<pre><code>&lt;context-param&gt;\n  &lt;description&gt;WebFlow context configuration&lt;/description&gt;\n  &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n  &lt;param-value&gt;/WEB-INF/test-context.xml&lt;/param-value&gt;\n&lt;/context-param&gt; \n</code></pre>\n\n<p>But in case of Plain J2EE web application without including any frameworks, the <strong>context-param</strong> can read from any where in the application i.e. any servlet, filter.</p>\n\n<p>The difference between <strong>ApplicationContext</strong> and <strong>ServletContext</strong>, sanjay explained </p>\n"},{"tags":[],"owner":{"account_id":1583553,"reputation":959,"user_id":1468384,"accept_rate":0,"display_name":"ParagFlume"},"comment_count":0,"down_vote_count":0,"up_vote_count":36,"is_accepted":false,"score":36,"last_activity_date":1608712562,"creation_date":1439270219,"answer_id":31933736,"question_id":31931848,"body_markdown":"### Servlet Context: ###\r\nIt is initialized when a Servlet application is deployed. Servlet Context holds all the configurations (init-param, context-params, etc) of the whole servlet application.\r\n\r\n### Application Context: ###\r\nIt is a Spring specific thing. It is initialized by Spring. It holds all the bean definitions and life-cycle of the beans that are defined inside the spring configuration files. Servlet-Context has no idea about these things.\r\n\r\nThere are two types of contexts in Spring parent and child.\r\n    \r\n### Spring Parent Context (Application Context / Root Context ) ###\r\n\r\n      &lt;listener&gt;\r\n            &lt;listener-lass&gt; \r\n                org.springframework.web.context.ContextLoaderListener\r\n            &lt;/listener-class&gt;\r\n      &lt;/listener&gt;\r\n      &lt;context-param&gt;\r\n            &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n            &lt;param-value&gt;\r\n                /WEB-INF/service-context.xml,\r\n                /WEB-INF/dao-context.xml,\r\n                /WEB-INF/was-context.xml,\r\n                /WEB-INF/jndi-context.xml,\r\n                /WEB-INF/json-context.xml\r\n            &lt;/param-value&gt;\r\n      &lt;/context-param&gt;\r\n\r\n[role-purpose-of-contextloaderlistener-in-spring][1]  \r\n[Spring-ContextLoaderListener-And-DispatcherServlet-Concepts][2]  \r\nWhen spring container starts up, it reads all the bean definitions from the configuration files and creates beans objects, and manages the life cycle of the bean objects.\r\nThis configuration is totally optional.\r\n\r\n[DispatcherServlet vs ContextLoaderListener][3]  \r\n[/declaring-spring-bean-in-parent-context-vs-child-context][4]\r\n\r\n### Spring Child Context ( WebApplicationContext / Child Context ) ###\r\n\r\n    &lt;servlet&gt;\r\n        &lt;servlet-name&gt;myWebApplication&lt;/servlet-name&gt;\r\n        &lt;servlet-class&gt;\r\n             org.springframework.web.servlet.DispatcherServlet\r\n        &lt;/servlet-class&gt;\r\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n    &lt;/servlet&gt;\r\n    &lt;servlet-mapping&gt;\r\n        &lt;servlet-name&gt;myWebApplication&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;/app/*&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;\r\n\r\nWhen spring web application starts it will look for spring bean configuration file myWebApplication-servlet.xml. It will read all the bean definitions and create and manages the bean objects&#39; life cycle. If the parent spring context is available it will merge the child spring context with the parent spring context. If there is no Spring parent context available the application will only have the child spring context.\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/11815339/role-purpose-of-contextloaderlistener-in-spring\r\n  [2]: http://www.codesenior.com/en/tutorial/Spring-ContextLoaderListener-And-DispatcherServlet-Concepts\r\n  [3]: http://simone-folino.blogspot.in/2012/05/dispatcherservlet-vs.html\r\n  [4]: https://stackoverflow.com/questions/7746633/declaring-spring-bean-in-parent-context-vs-child-context/7748108#7748108","title":"ApplicationContext and ServletContext","body":"<h3>Servlet Context:</h3>\n<p>It is initialized when a Servlet application is deployed. Servlet Context holds all the configurations (init-param, context-params, etc) of the whole servlet application.</p>\n<h3>Application Context:</h3>\n<p>It is a Spring specific thing. It is initialized by Spring. It holds all the bean definitions and life-cycle of the beans that are defined inside the spring configuration files. Servlet-Context has no idea about these things.</p>\n<p>There are two types of contexts in Spring parent and child.</p>\n<h3>Spring Parent Context (Application Context / Root Context )</h3>\n<pre><code>  &lt;listener&gt;\n        &lt;listener-lass&gt; \n            org.springframework.web.context.ContextLoaderListener\n        &lt;/listener-class&gt;\n  &lt;/listener&gt;\n  &lt;context-param&gt;\n        &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n        &lt;param-value&gt;\n            /WEB-INF/service-context.xml,\n            /WEB-INF/dao-context.xml,\n            /WEB-INF/was-context.xml,\n            /WEB-INF/jndi-context.xml,\n            /WEB-INF/json-context.xml\n        &lt;/param-value&gt;\n  &lt;/context-param&gt;\n</code></pre>\n<p><a href=\"https://stackoverflow.com/questions/11815339/role-purpose-of-contextloaderlistener-in-spring\">role-purpose-of-contextloaderlistener-in-spring</a><br />\n<a href=\"http://www.codesenior.com/en/tutorial/Spring-ContextLoaderListener-And-DispatcherServlet-Concepts\" rel=\"noreferrer\">Spring-ContextLoaderListener-And-DispatcherServlet-Concepts</a><br />\nWhen spring container starts up, it reads all the bean definitions from the configuration files and creates beans objects, and manages the life cycle of the bean objects.\nThis configuration is totally optional.</p>\n<p><a href=\"http://simone-folino.blogspot.in/2012/05/dispatcherservlet-vs.html\" rel=\"noreferrer\">DispatcherServlet vs ContextLoaderListener</a><br />\n<a href=\"https://stackoverflow.com/questions/7746633/declaring-spring-bean-in-parent-context-vs-child-context/7748108#7748108\">/declaring-spring-bean-in-parent-context-vs-child-context</a></p>\n<h3>Spring Child Context ( WebApplicationContext / Child Context )</h3>\n<pre><code>&lt;servlet&gt;\n    &lt;servlet-name&gt;myWebApplication&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;\n         org.springframework.web.servlet.DispatcherServlet\n    &lt;/servlet-class&gt;\n    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n&lt;/servlet&gt;\n&lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;myWebApplication&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/app/*&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n</code></pre>\n<p>When spring web application starts it will look for spring bean configuration file myWebApplication-servlet.xml. It will read all the bean definitions and create and manages the bean objects' life cycle. If the parent spring context is available it will merge the child spring context with the parent spring context. If there is no Spring parent context available the application will only have the child spring context.</p>\n"},{"tags":[],"owner":{"account_id":3153922,"reputation":71,"user_id":2666718,"display_name":"Thạnh Nguy&#234;n"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1530352536,"creation_date":1530352536,"answer_id":51113800,"question_id":31931848,"body_markdown":"ApplicationContext is Spring&#39;s container.\r\n\r\nIt&#39;s used to wire the configurations from Spring beans together and use them for the application.\r\n\r\nUse ApplicationContext if you want to retrieve the information of Spring beans.\r\n\r\nUse ServletContext if you want to get/set attribute those shared to all Servlet.\r\n\r\n\r\n","title":"ApplicationContext and ServletContext","body":"<p>ApplicationContext is Spring's container.</p>\n\n<p>It's used to wire the configurations from Spring beans together and use them for the application.</p>\n\n<p>Use ApplicationContext if you want to retrieve the information of Spring beans.</p>\n\n<p>Use ServletContext if you want to get/set attribute those shared to all Servlet.</p>\n"},{"comments":[{"owner":{"account_id":462861,"reputation":17872,"user_id":865403,"accept_rate":60,"display_name":"Pavel Horal"},"score":0,"creation_date":1551516213,"post_id":54954465,"comment_id":96675367,"body_markdown":"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/ApplicationContext.html - the other answer is pretty fine.","body":"<a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/ApplicationContext.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-framework/docs/current/javadoc-api/org&zwnj;&#8203;/&hellip;</a> - the other answer is pretty fine."},{"owner":{"account_id":2249164,"reputation":119,"user_id":1981792,"display_name":"Madhu"},"score":0,"creation_date":1551541068,"post_id":54954465,"comment_id":96681570,"body_markdown":"I do see the OP is in the &#39;context&#39; of Spring framework, but the title itself is more general. ApplicationContext.getContext(java.lang.String uri) [link](https://tomcat.apache.org/tomcat-8.0-doc/api/org/apache/catalina/core/ApplicationContext.html) returns an object of ServletContext. ApplicationContext is not just a Spring&#39;s construct.","body":"I do see the OP is in the &#39;context&#39; of Spring framework, but the title itself is more general. ApplicationContext.getContext(java.lang.String uri) <a href=\"https://tomcat.apache.org/tomcat-8.0-doc/api/org/apache/catalina/core/ApplicationContext.html\" rel=\"nofollow noreferrer\">link</a> returns an object of ServletContext. ApplicationContext is not just a Spring&#39;s construct."},{"owner":{"account_id":24662336,"reputation":504,"user_id":18558424,"display_name":"Abe"},"score":0,"creation_date":1666995798,"post_id":54954465,"comment_id":131074445,"body_markdown":"This is confusing. The ticket says Spring MVC Application","body":"This is confusing. The ticket says Spring MVC Application"}],"tags":[],"owner":{"account_id":2249164,"reputation":119,"user_id":1981792,"display_name":"Madhu"},"comment_count":3,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1551493733,"creation_date":1551490903,"answer_id":54954465,"question_id":31931848,"body_markdown":"`ServletContext` is distinguished from it&#39;s &#39;enclosing&#39; `ApplicationContext`. The Java doc says the below for `ServletContext`\r\n\r\n&gt; There is one [servlet] context per &quot;web application&quot; per Java Virtual\r\n&gt; Machine. (A &quot;web application&quot; is a collection of servlets and content\r\n&gt; installed under a specific subset of the server&#39;s URL namespace such\r\n&gt; as /catalog and possibly installed via a .war file.)\r\n\r\nSince there can be more than one &quot;web application&quot; under the same `AppBase`, each with their own `DocBase`, `WEB-INF/web.xml` etc., there is definitely a common environment/context that is shared by all &quot;web applications&quot;, which is being referred to as the `ApplicationContext`. In case of JSF, `PortletContext` is the counter part of `ServletContext` and the `ApplicationContext` is referred to as the `ExternalContext`. ","title":"ApplicationContext and ServletContext","body":"<p><code>ServletContext</code> is distinguished from it's 'enclosing' <code>ApplicationContext</code>. The Java doc says the below for <code>ServletContext</code></p>\n\n<blockquote>\n  <p>There is one [servlet] context per \"web application\" per Java Virtual\n  Machine. (A \"web application\" is a collection of servlets and content\n  installed under a specific subset of the server's URL namespace such\n  as /catalog and possibly installed via a .war file.)</p>\n</blockquote>\n\n<p>Since there can be more than one \"web application\" under the same <code>AppBase</code>, each with their own <code>DocBase</code>, <code>WEB-INF/web.xml</code> etc., there is definitely a common environment/context that is shared by all \"web applications\", which is being referred to as the <code>ApplicationContext</code>. In case of JSF, <code>PortletContext</code> is the counter part of <code>ServletContext</code> and the <code>ApplicationContext</code> is referred to as the <code>ExternalContext</code>. </p>\n"}],"owner":{"account_id":6769307,"reputation":465,"user_id":5213162,"display_name":"Raleigh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50206,"favorite_count":0,"down_vote_count":5,"up_vote_count":47,"answer_count":5,"score":42,"last_activity_date":1675768585,"creation_date":1439257110,"question_id":31931848,"body_markdown":"I get confused between the two ApplicationContext and ServletContext when it comes to Spring MVC Application.\r\nI know that There is just only One ApplicationContext per Spring Web Application and there is also just only One ServletContext per web application. \r\nTo initiate the value for both ApplicationContext and ServletContext, in web.xml, we will add something in **context-param** tag.\r\n \r\nThat is the point that makes me confused. **What are the differences** between these two (i know ApplicationContext has some methods to work with beans)? and **When** we would use **ApplicationContext** and **When** we would use **ServletContext**?","title":"ApplicationContext and ServletContext","body":"<p>I get confused between the two ApplicationContext and ServletContext when it comes to Spring MVC Application.\nI know that There is just only One ApplicationContext per Spring Web Application and there is also just only One ServletContext per web application. \nTo initiate the value for both ApplicationContext and ServletContext, in web.xml, we will add something in <strong>context-param</strong> tag.</p>\n\n<p>That is the point that makes me confused. <strong>What are the differences</strong> between these two (i know ApplicationContext has some methods to work with beans)? and <strong>When</strong> we would use <strong>ApplicationContext</strong> and <strong>When</strong> we would use <strong>ServletContext</strong>?</p>\n"},{"tags":["python","java","simplenlg"],"owner":{"account_id":19157386,"reputation":1,"user_id":13993932,"display_name":"MeddlingRacc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675768521,"creation_date":1675768487,"question_id":75372581,"body_markdown":"I am trying to use SimpleNLG (using python and simplenlg) to generate phrases using the word &quot;because&quot;.\r\nThe wiki (https://github.com/simplenlg/simplenlg/wiki/Section-XIII-%E2%80%93-Generating-a-sentence-with-multiple-clauses) offer the following solution:\r\n\r\n```\r\na = nlgFactory.createClause(&quot;I&quot;, &quot;be&quot;, &quot;happy&quot;)\r\nb = nlgFactory.createClause(&quot;I&quot;, &quot;eat&quot;, &quot;fish&quot;)\r\nb.setFeature(Feature.COMPLEMENTISER, &quot;because&quot;)\r\nb.setFeature(Feature.TENSE, Tense.PAST)\r\na.addComplement(b)\r\nrealiser.realiseSentence(a)\r\n```\r\n\r\nBut when i want to add more causes using &quot;and&quot;,\r\n```\r\na = nlgFactory.createClause(&quot;I&quot;, &quot;be&quot;, &quot;happy&quot;)\r\nb = nlgFactory.createClause(&quot;I&quot;, &quot;eat&quot;, &quot;fish&quot;)\r\nc = nlgFactory.createClause(&quot;I&quot;,&quot;eat&quot;,&quot;salad&quot;)\r\n\r\nd = nlgFactory.createCoordinatedPhrase()\r\nd.addCoordinate(b)\r\nd.addCoordinate(c)\r\nprint(realiser.realiseSentence(d)) #I eat fish and I eat salad.\r\n\r\nd.setFeature(Feature.COMPLEMENTISER, &quot;because&quot;)\r\nd.setFeature(Feature.TENSE, Tense.PAST)\r\na.addComplement(d)\r\nrealiser.realiseSentence(a)\r\n```\r\n\r\ni get the following result:\r\n`I am happy that I ate fish and that I ate salad.`\r\n&quot;because&quot; has disappeared, replaced by &quot;that&quot;.\r\nI suppose that the use of &quot;that&quot; is intended behavior in this case, however it also happen when it make the generated phrase incorrect:\r\n\r\n```\r\nr = nlgFactory.createCoordinatedPhrase()\r\nr.setConjunction(&quot;and&quot;)\r\na = nlgFactory.createClause(&quot;Monash&quot;,&quot;invite&quot;,&quot;Lewis&quot;)\r\nb = nlgFactory.createClause(&quot;Lewis&quot;,&quot;feel&quot;,&quot;happy&quot;)\r\nr.addCoordinate(a)\r\nr.addCoordinate(b)\r\n    \r\n#phrase = nlgFactory.createCoordinatedPhrase()\r\n#phrase.setConjunction(&quot;because&quot;)\r\n#phrase.addCoordinate(G_nlg[i])\r\n#phrase.addCoordinate(reason)\r\n    \r\nphrase = nlgFactory.createClause(&quot;Lewis&quot;,&quot;go to&quot;, &quot;Monash&quot;)\r\nr.setFeature(Feature.COMPLEMENTISER, &quot;because&quot;)\r\nr.setFeature(Feature.TENSE, Tense.PAST)\r\nphrase.addComplement(r)\r\n\r\nrealiser.realiseSentence(phrase)\r\n```\r\n\r\nreturns `Lewis goes to Monash that Monash invited Lewis and that Lewis felt happy.` when i would want it to return &quot;Lewis goes to Monash because Monash invited Lewis and Lewis felt happy&quot;\r\n\r\nWhy is &quot;that&quot; used there, and how could i get SimpleNLG to generate the sentence that i want?\r\n\r\n\r\n\r\nI tried changing verbs and time with no result.\r\nUsing a coordinated sentence with setConjunction(&quot;because&quot;) sometime gave me the correct sentence, but i don&#39;t think this is the intended use.","title":"Causality with complement in SimpleNLG not working as intended","body":"<p>I am trying to use SimpleNLG (using python and simplenlg) to generate phrases using the word &quot;because&quot;.\nThe wiki (<a href=\"https://github.com/simplenlg/simplenlg/wiki/Section-XIII-%E2%80%93-Generating-a-sentence-with-multiple-clauses\" rel=\"nofollow noreferrer\">https://github.com/simplenlg/simplenlg/wiki/Section-XIII-%E2%80%93-Generating-a-sentence-with-multiple-clauses</a>) offer the following solution:</p>\n<pre><code>a = nlgFactory.createClause(&quot;I&quot;, &quot;be&quot;, &quot;happy&quot;)\nb = nlgFactory.createClause(&quot;I&quot;, &quot;eat&quot;, &quot;fish&quot;)\nb.setFeature(Feature.COMPLEMENTISER, &quot;because&quot;)\nb.setFeature(Feature.TENSE, Tense.PAST)\na.addComplement(b)\nrealiser.realiseSentence(a)\n</code></pre>\n<p>But when i want to add more causes using &quot;and&quot;,</p>\n<pre><code>a = nlgFactory.createClause(&quot;I&quot;, &quot;be&quot;, &quot;happy&quot;)\nb = nlgFactory.createClause(&quot;I&quot;, &quot;eat&quot;, &quot;fish&quot;)\nc = nlgFactory.createClause(&quot;I&quot;,&quot;eat&quot;,&quot;salad&quot;)\n\nd = nlgFactory.createCoordinatedPhrase()\nd.addCoordinate(b)\nd.addCoordinate(c)\nprint(realiser.realiseSentence(d)) #I eat fish and I eat salad.\n\nd.setFeature(Feature.COMPLEMENTISER, &quot;because&quot;)\nd.setFeature(Feature.TENSE, Tense.PAST)\na.addComplement(d)\nrealiser.realiseSentence(a)\n</code></pre>\n<p>i get the following result:\n<code>I am happy that I ate fish and that I ate salad.</code>\n&quot;because&quot; has disappeared, replaced by &quot;that&quot;.\nI suppose that the use of &quot;that&quot; is intended behavior in this case, however it also happen when it make the generated phrase incorrect:</p>\n<pre><code>r = nlgFactory.createCoordinatedPhrase()\nr.setConjunction(&quot;and&quot;)\na = nlgFactory.createClause(&quot;Monash&quot;,&quot;invite&quot;,&quot;Lewis&quot;)\nb = nlgFactory.createClause(&quot;Lewis&quot;,&quot;feel&quot;,&quot;happy&quot;)\nr.addCoordinate(a)\nr.addCoordinate(b)\n    \n#phrase = nlgFactory.createCoordinatedPhrase()\n#phrase.setConjunction(&quot;because&quot;)\n#phrase.addCoordinate(G_nlg[i])\n#phrase.addCoordinate(reason)\n    \nphrase = nlgFactory.createClause(&quot;Lewis&quot;,&quot;go to&quot;, &quot;Monash&quot;)\nr.setFeature(Feature.COMPLEMENTISER, &quot;because&quot;)\nr.setFeature(Feature.TENSE, Tense.PAST)\nphrase.addComplement(r)\n\nrealiser.realiseSentence(phrase)\n</code></pre>\n<p>returns <code>Lewis goes to Monash that Monash invited Lewis and that Lewis felt happy.</code> when i would want it to return &quot;Lewis goes to Monash because Monash invited Lewis and Lewis felt happy&quot;</p>\n<p>Why is &quot;that&quot; used there, and how could i get SimpleNLG to generate the sentence that i want?</p>\n<p>I tried changing verbs and time with no result.\nUsing a coordinated sentence with setConjunction(&quot;because&quot;) sometime gave me the correct sentence, but i don't think this is the intended use.</p>\n"},{"tags":["java","jakarta-mail","webmail","roundcube"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1675769128,"post_id":75371983,"comment_id":132995700,"body_markdown":"Roundcube is a webmail **front-end**, it is not an SMTP server. You cannot connect to a Webmail server with JakartaaMail, you need to connect to the underlying SMTP server. You&#39;ll need to ask your provider/hoster what the correct hostnames and ports are.","body":"Roundcube is a webmail <b>front-end</b>, it is not an SMTP server. You cannot connect to a Webmail server with JakartaaMail, you need to connect to the underlying SMTP server. You&#39;ll need to ask your provider/hoster what the correct hostnames and ports are."},{"owner":{"account_id":27723956,"reputation":39,"user_id":21163933,"display_name":"User69"},"score":0,"creation_date":1675769460,"post_id":75371983,"comment_id":132995812,"body_markdown":"The docs of the server tell me that outgoing mailserver uses SMTP, server port 587. Thus, I though I could connect on that port with smtp protocol. I also use the host stated in those docs, which is mail.host.eu.","body":"The docs of the server tell me that outgoing mailserver uses SMTP, server port 587. Thus, I though I could connect on that port with smtp protocol. I also use the host stated in those docs, which is mail.host.eu."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1675769647,"post_id":75371983,"comment_id":132995867,"body_markdown":"If your application is not throwing any exception, then apparently the SMTP server accepted your message, then you&#39;ll need to ask the server administrator to check the logs of the mailserver to see what&#39;s going wrong.","body":"If your application is not throwing any exception, then apparently the SMTP server accepted your message, then you&#39;ll need to ask the server administrator to check the logs of the mailserver to see what&#39;s going wrong."}],"owner":{"account_id":27723956,"reputation":39,"user_id":21163933,"display_name":"User69"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":156,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675767711,"creation_date":1675765282,"question_id":75371983,"body_markdown":"My program sends mails. When developing I used my gmail account to send the mails. Going in production, I should connect to the clients mail, which is a Roundcube Webmail. I set up the configuration with the information I get from roundCube. I don&#39;t get an error, but the request never gets processed.\r\n\r\nI have tried changing ports and protocols. I also checked everything on the roundcube mail if I could find a setting that needed to be turned on to accept the incoming request.  Unfortunaltly, I cannot seem to send the mail via roundcube. To be clear, when I use my google mail settings it works fine.\r\n\r\nDo I need to changing some setting on Roundcube? Am I misconfiguring something? Does anyone have experience with connecting to roundCube webmail and tell me what I am doing wrong? You can find below my application properties. If you need anything more, please tell me.\r\n\r\n````\r\nspring.mail.port=587\r\nspring.mail.protocol=smtp\r\nspring.mail.host=mail.domain.eu\r\nspring.mail.username=email@email.be\r\nspring.mail.password=password\r\n````","title":"How to configure roundcube webmail with Javamailsender?","body":"<p>My program sends mails. When developing I used my gmail account to send the mails. Going in production, I should connect to the clients mail, which is a Roundcube Webmail. I set up the configuration with the information I get from roundCube. I don't get an error, but the request never gets processed.</p>\n<p>I have tried changing ports and protocols. I also checked everything on the roundcube mail if I could find a setting that needed to be turned on to accept the incoming request.  Unfortunaltly, I cannot seem to send the mail via roundcube. To be clear, when I use my google mail settings it works fine.</p>\n<p>Do I need to changing some setting on Roundcube? Am I misconfiguring something? Does anyone have experience with connecting to roundCube webmail and tell me what I am doing wrong? You can find below my application properties. If you need anything more, please tell me.</p>\n<pre><code>spring.mail.port=587\nspring.mail.protocol=smtp\nspring.mail.host=mail.domain.eu\nspring.mail.username=email@email.be\nspring.mail.password=password\n</code></pre>\n"},{"tags":["java","intellij-idea","javafx","fxmlloader"],"comments":[{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1675788601,"post_id":75372348,"comment_id":133002514,"body_markdown":"Don&#39;t unnecessarily mix swing and JavaFX, just stick with one UI framework.","body":"Don&#39;t unnecessarily mix swing and JavaFX, just stick with one UI framework."}],"owner":{"account_id":27724410,"reputation":1,"user_id":21164279,"display_name":"VMDang"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1675767507,"answer_count":0,"score":0,"last_activity_date":1675767186,"creation_date":1675767186,"question_id":75372348,"body_markdown":"I am working on Java FX project I&#39;m created FXML mainScreen.fxml file and tried to load it using FXML loader but it always says &quot;Location is not set&quot;\r\nHere is my entry point of my project that is a Java file\r\n[Error description and some files](https://i.stack.imgur.com/7W78Z.png)\r\n\r\nThis is class MainScreen\r\n\r\n```\r\npackage history.media;\r\n\r\nimport java.io.IOException;\r\nimport java.util.List;\r\n\r\nimport javax.swing.JFrame;\r\n\r\nimport history.entity.*;\r\nimport history.entity.Character;\r\nimport javafx.application.Platform;\r\nimport javafx.embed.swing.JFXPanel;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Parent;\r\nimport javafx.scene.Scene;\r\nimport store.Store;\r\n\r\npublic class MainScreen extends JFrame {\r\n\tprivate Store store;\r\n\tpublic MainScreen(Store store) {\r\n\t\tsuper();\r\n\t\tthis.store = store;\r\n\t\tJFXPanel fxPanel = new JFXPanel();\r\n\t\tthis.add(fxPanel);\r\n\t\tthis.setTitle(&quot;main&quot;);\r\n\t\tsetVisible(true);\r\n\t\tJFrame frame = this;\r\n\t\tPlatform.runLater(new Runnable() {\r\n\t\t\t\r\n\t\t\t@Override\r\n\t\t\tpublic void run() {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tFXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;/mainScreen.fxml&quot;));\r\n\t\t\t\t\tMainScreenController controller = new MainScreenController(store, frame);\r\n\t\t\t\t\tloader.setController(controller);\r\n\r\n\t\t\t\t\tParent root = loader.load();\r\n\t\t\t\t\tfxPanel.setScene(new Scene(root, 1024, 768));\r\n\t\t\t\t\tfxPanel.setSize(1024, 768);\r\n\t\t\t\t} catch (IOException e) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n```","title":"JavaFX: Exception in thread &quot;JavaFX Application Thread&quot; java.lang.IllegalStateException: Location is not set","body":"<p>I am working on Java FX project I'm created FXML mainScreen.fxml file and tried to load it using FXML loader but it always says &quot;Location is not set&quot;\nHere is my entry point of my project that is a Java file\n<a href=\"https://i.stack.imgur.com/7W78Z.png\" rel=\"nofollow noreferrer\">Error description and some files</a></p>\n<p>This is class MainScreen</p>\n<pre><code>package history.media;\n\nimport java.io.IOException;\nimport java.util.List;\n\nimport javax.swing.JFrame;\n\nimport history.entity.*;\nimport history.entity.Character;\nimport javafx.application.Platform;\nimport javafx.embed.swing.JFXPanel;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport store.Store;\n\npublic class MainScreen extends JFrame {\n    private Store store;\n    public MainScreen(Store store) {\n        super();\n        this.store = store;\n        JFXPanel fxPanel = new JFXPanel();\n        this.add(fxPanel);\n        this.setTitle(&quot;main&quot;);\n        setVisible(true);\n        JFrame frame = this;\n        Platform.runLater(new Runnable() {\n            \n            @Override\n            public void run() {\n                try {\n                    FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;/mainScreen.fxml&quot;));\n                    MainScreenController controller = new MainScreenController(store, frame);\n                    loader.setController(controller);\n\n                    Parent root = loader.load();\n                    fxPanel.setScene(new Scene(root, 1024, 768));\n                    fxPanel.setSize(1024, 768);\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n            }\n        });\n    }\n</code></pre>\n"},{"tags":["java","hibernate","audit"],"answers":[{"comments":[{"owner":{"account_id":4165403,"reputation":878,"user_id":3414468,"accept_rate":50,"display_name":"Man&#231;aux Pierre-Alexandre"},"score":0,"creation_date":1675786241,"post_id":75372333,"comment_id":133001729,"body_markdown":"ok that was i supposed, but finally i have add @AuditableEntity on all entity and when i saved a RoleUser entity it add a line as i expected, and during insert i add on confict on ... do nothing to don&#39;t have duplicate line, and when i save User and RoleUSer in same transaction, i have two lines as i want, and when i m reading the history i merge the line with the same transactionId and it&#39;s seem to be ok for the moment.","body":"ok that was i supposed, but finally i have add @AuditableEntity on all entity and when i saved a RoleUser entity it add a line as i expected, and during insert i add on confict on ... do nothing to don&#39;t have duplicate line, and when i save User and RoleUSer in same transaction, i have two lines as i want, and when i m reading the history i merge the line with the same transactionId and it&#39;s seem to be ok for the moment."}],"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675767142,"creation_date":1675767142,"answer_id":75372333,"question_id":75359883,"body_markdown":"&gt;One solution is to add &#224; field in User entity that i always update, with this, i always save User entity and i&#39;have my revision but it&#39;s not very clean.\r\n\r\nI think that is going to be your only viable option, unless you can make all the *ToMany associations owned i.e. remove the `mappedBy` part.\r\n\r\nBy making the many side the owning side, Hibernate will treat an entity as dirty when the collection changes somehow, though I don&#39;t think that changes to the entities within the collection will cause the same. If you want that changes to the elements also cause the entity to be treated as dirty, you will have to use an `@ElementCollection`.\r\n\r\nOverall, introducing a field on User like `modificationTimestamp` which you update is probably the easiest way to achieve this.","title":"hibernate auditing with trigger","body":"<blockquote>\n<p>One solution is to add à field in User entity that i always update, with this, i always save User entity and i'have my revision but it's not very clean.</p>\n</blockquote>\n<p>I think that is going to be your only viable option, unless you can make all the *ToMany associations owned i.e. remove the <code>mappedBy</code> part.</p>\n<p>By making the many side the owning side, Hibernate will treat an entity as dirty when the collection changes somehow, though I don't think that changes to the entities within the collection will cause the same. If you want that changes to the elements also cause the entity to be treated as dirty, you will have to use an <code>@ElementCollection</code>.</p>\n<p>Overall, introducing a field on User like <code>modificationTimestamp</code> which you update is probably the easiest way to achieve this.</p>\n"}],"owner":{"account_id":4165403,"reputation":878,"user_id":3414468,"accept_rate":50,"display_name":"Man&#231;aux Pierre-Alexandre"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675767142,"creation_date":1675678101,"question_id":75359883,"body_markdown":"I&#39;m using hibernate with jpa and i have implemented audit with postgres trigger.\r\n\r\nIn my source code i have used &#224; listenner on preInsert, preUpdate and preDelete to create a revision. This revision is added only if the saved entity is annoted by custom @AuditedEntity\r\n\r\nThis revision line contain transactionId and all the modification in same transaction is logged into audit_revision_details with postgres triggers and with this mecanism i can retrieve all modifications done on an entity.\r\n\r\nI have &#224; User entity with @AuditedEntity annotation and in the user entity i have a RoleUser Set. When i&#39;m change lastname of the user, all work fine, i have a revision line created in my audit_revision table and in audit_revision_details i can see the change.\r\n\r\nBut when i&#39;m saving only element inside RoleUser (i&#39;m saving a user and RoleUser is save with CascadeType.ALL), revision is not created in audit_revision because when i&#39;m entering in preInsert/preDelete or preUpdate listener,  the saved entity is RoleUser and RoleUser is not annoted by @AuditedEntity because it&#39;s User that have this annotation.\r\n\r\nOne solution is to add &#224; field in User entity that i always update, with this, i always save User entity and i&#39;have my revision but it&#39;s not very clean.\r\n\r\nAnother one is to check if the entity is annoted by @AuditedEntity or entity_name is &#39;RoleUser&#39; and i always create revision...but if i change my lastname at the same time i change a role, i risk to have 2 revision in bdd so i need to check if one exist before...\r\n\r\nI don&#39;t want to use hibernate-envers ( and envers have the same problem...)\r\n\r\nHow can i tell hibernate to force the revision creation when i only change entity inside another one? \r\n\r\nDoes anyone have implement same things and can help me?\r\n\r\nThanks ","title":"hibernate auditing with trigger","body":"<p>I'm using hibernate with jpa and i have implemented audit with postgres trigger.</p>\n<p>In my source code i have used à listenner on preInsert, preUpdate and preDelete to create a revision. This revision is added only if the saved entity is annoted by custom @AuditedEntity</p>\n<p>This revision line contain transactionId and all the modification in same transaction is logged into audit_revision_details with postgres triggers and with this mecanism i can retrieve all modifications done on an entity.</p>\n<p>I have à User entity with @AuditedEntity annotation and in the user entity i have a RoleUser Set. When i'm change lastname of the user, all work fine, i have a revision line created in my audit_revision table and in audit_revision_details i can see the change.</p>\n<p>But when i'm saving only element inside RoleUser (i'm saving a user and RoleUser is save with CascadeType.ALL), revision is not created in audit_revision because when i'm entering in preInsert/preDelete or preUpdate listener,  the saved entity is RoleUser and RoleUser is not annoted by @AuditedEntity because it's User that have this annotation.</p>\n<p>One solution is to add à field in User entity that i always update, with this, i always save User entity and i'have my revision but it's not very clean.</p>\n<p>Another one is to check if the entity is annoted by @AuditedEntity or entity_name is 'RoleUser' and i always create revision...but if i change my lastname at the same time i change a role, i risk to have 2 revision in bdd so i need to check if one exist before...</p>\n<p>I don't want to use hibernate-envers ( and envers have the same problem...)</p>\n<p>How can i tell hibernate to force the revision creation when i only change entity inside another one?</p>\n<p>Does anyone have implement same things and can help me?</p>\n<p>Thanks</p>\n"},{"tags":["java","spring-boot","spring-data-elasticsearch"],"answers":[{"comments":[{"owner":{"account_id":5869143,"reputation":665,"user_id":4621980,"display_name":"Sanat Chandravanshi"},"score":0,"creation_date":1675766922,"post_id":75371651,"comment_id":132994968,"body_markdown":"Edited the question please have a look once","body":"Edited the question please have a look once"},{"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"score":1,"creation_date":1675772488,"post_id":75371651,"comment_id":132996742,"body_markdown":"when you change the @Field annotation, did you delete the index and ave it recreated by Spring Data Elasticsearch?","body":"when you change the @Field annotation, did you delete the index and ave it recreated by Spring Data Elasticsearch?"}],"tags":[],"owner":{"account_id":5190284,"reputation":13363,"user_id":4153426,"display_name":"m.antkowicz"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675763757,"creation_date":1675763757,"answer_id":75371651,"question_id":75371610,"body_markdown":"Probably you just don&#39;t have one.\r\n\r\n`keyword` field type should not be used for full text search - instead use `text` \r\n\r\nRead also:\r\n* https://www.elastic.co/guide/en/elasticsearch/reference/current/keyword.html","title":"Spring Data Elasticsearch not give expected result","body":"<p>Probably you just don't have one.</p>\n<p><code>keyword</code> field type should not be used for full text search - instead use <code>text</code></p>\n<p>Read also:</p>\n<ul>\n<li><a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/keyword.html\" rel=\"nofollow noreferrer\">https://www.elastic.co/guide/en/elasticsearch/reference/current/keyword.html</a></li>\n</ul>\n"}],"owner":{"account_id":5869143,"reputation":665,"user_id":4621980,"display_name":"Sanat Chandravanshi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675766890,"creation_date":1675763557,"question_id":75371610,"body_markdown":"I am using Spring data elasticsearch to query in my elastic documents.\r\n\r\nMy Elasticsearch entity class:\r\n\r\n    @Document(indexName=&quot;keywords&quot;)\r\n    @Getter\r\n    @Setter\r\n    public class ESKeywords {\r\n        @Id\r\n        private Long id;\r\n    \r\n        @Field(type = FieldType.Text, name = &quot;text&quot;)\r\n        private String text;\r\n    }\r\n\r\nIndexed row in elastic search:\r\n\r\n    {\r\n       &quot;id&quot;: 118390,\r\n       &quot;text&quot;: &quot;top 20 tweets of&quot;,      \r\n    }\r\n\r\nFor Example searching for &quot;top 20 tweets of ABC&quot;.\r\nIt gives different results when I Use directly elastic search port it gives:\r\n[![enter image description here][1]][1]\r\n\r\nAnd with the code(ElasticsearchRepository.findByText()) it gives empty result.\r\n\r\nthanks in advance\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DRXf5.png","title":"Spring Data Elasticsearch not give expected result","body":"<p>I am using Spring data elasticsearch to query in my elastic documents.</p>\n<p>My Elasticsearch entity class:</p>\n<pre><code>@Document(indexName=&quot;keywords&quot;)\n@Getter\n@Setter\npublic class ESKeywords {\n    @Id\n    private Long id;\n\n    @Field(type = FieldType.Text, name = &quot;text&quot;)\n    private String text;\n}\n</code></pre>\n<p>Indexed row in elastic search:</p>\n<pre><code>{\n   &quot;id&quot;: 118390,\n   &quot;text&quot;: &quot;top 20 tweets of&quot;,      \n}\n</code></pre>\n<p>For Example searching for &quot;top 20 tweets of ABC&quot;.\nIt gives different results when I Use directly elastic search port it gives:\n<a href=\"https://i.stack.imgur.com/DRXf5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DRXf5.png\" alt=\"enter image description here\" /></a></p>\n<p>And with the code(ElasticsearchRepository.findByText()) it gives empty result.</p>\n<p>thanks in advance</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1675763443,"post_id":75370900,"comment_id":132993835,"body_markdown":"Since Android 11 (API 30) you no longer have full access to all storage with those permissions: https://developer.android.com/about/versions/11/privacy/storage. Either target Android 10 or read and understand that page. There&#39;s no trivial &quot;replace that code and it will work&quot; type fix.","body":"Since Android 11 (API 30) you no longer have full access to all storage with those permissions: <a href=\"https://developer.android.com/about/versions/11/privacy/storage\" rel=\"nofollow noreferrer\">developer.android.com/about/versions/11/privacy/storage</a>. Either target Android 10 or read and understand that page. There&#39;s no trivial &quot;replace that code and it will work&quot; type fix."}],"answers":[{"tags":[],"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675766662,"creation_date":1675766662,"answer_id":75372243,"question_id":75370900,"body_markdown":"&gt;&gt;             String path = Environment.getExternalStorageDirectory().toString();\r\n\r\nChange to:\r\n\r\n                String path = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOCUMENTS).toString();\r\n\r\n\r\nAnd for Android 10 devices add `android:legacyExternalStorage=&quot;true&quot;` to application tag in manifest file.\r\n\r\nFor Android 13+ devices you do not need any permission.","title":"storage/emulated/0/YourName.png: open failed: EPERM (Operation not permitted)","body":"<blockquote>\n<blockquote>\n<pre><code>        String path = Environment.getExternalStorageDirectory().toString();\n</code></pre>\n</blockquote>\n</blockquote>\n<p>Change to:</p>\n<pre><code>            String path = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOCUMENTS).toString();\n</code></pre>\n<p>And for Android 10 devices add <code>android:legacyExternalStorage=&quot;true&quot;</code> to application tag in manifest file.</p>\n<p>For Android 13+ devices you do not need any permission.</p>\n"}],"owner":{"account_id":26011589,"reputation":5,"user_id":19720568,"display_name":"Rumaion Tomal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":820,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75372243,"answer_count":1,"score":0,"last_activity_date":1675766662,"creation_date":1675759829,"question_id":75370900,"body_markdown":"I want to take an user Screenshot, I used this code. I was take 3 permission, READ_EXTERNAL_STORE,WRITE_EXTERNAL_STORE, and READ_EXTERNAL_STORAGE. Problem not fix. It show open failed: EPERM (Operation not permitted)\r\n\r\n```\r\npublic void tackeAndSaveScreenShot(Activity mActivity) {\r\n        View MainView = mActivity.getWindow().getDecorView();\r\n        MainView.setDrawingCacheEnabled(true);\r\n        MainView.buildDrawingCache();\r\n        Bitmap MainBitmap = MainView.getDrawingCache();\r\n        Rect frame = new Rect();\r\n\r\n        mActivity.getWindow().getDecorView().getWindowVisibleDisplayFrame(frame);\r\n        //to remove statusBar from the taken sc\r\n        int statusBarHeight = frame.top;\r\n        //using screen size to create bitmap\r\n        int width = mActivity.getWindowManager().getDefaultDisplay().getWidth();\r\n        int height = mActivity.getWindowManager().getDefaultDisplay().getHeight();\r\n        Bitmap OutBitmap = Bitmap.createBitmap(MainBitmap, 0, statusBarHeight, width, height - statusBarHeight);\r\n        MainView.destroyDrawingCache();\r\n        try {\r\n\r\n            String path = Environment.getExternalStorageDirectory().toString();\r\n            OutputStream fOut = null;\r\n            //you can also using current time to generate name\r\n            String name=&quot;YourName&quot;;\r\n            File file = new File(path, name + &quot;.png&quot;);\r\n            fOut = new FileOutputStream(file);\r\n\r\n            OutBitmap.compress(Bitmap.CompressFormat.PNG, 1000, fOut);\r\n            fOut.flush();\r\n            fOut.close();\r\n\r\n            //this line will add the saved picture to gallery\r\n            MediaStore.Images.Media.insertImage(getContentResolver(), file.getAbsolutePath(), file.getName(), file.getName());\r\n\r\n        } catch (FileNotFoundException e) {\r\n            e.printStackTrace();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n```\r\n\r\nWhen I check on my Logcat. they show the problem is in\r\n\r\n```\r\nfOut = new FileOutputStream(file);\r\n```\r\n\r\nI get permission properly.\r\n\r\n\r\n```\r\nprivate void userPermission2(){\r\n        if (ContextCompat.checkSelfPermission(this, Manifest.permission.WRITE_EXTERNAL_STORAGE)\r\n                != PackageManager.PERMISSION_GRANTED){\r\n            ActivityCompat.requestPermissions(this, new String[] {Manifest.permission.WRITE_EXTERNAL_STORAGE,\r\n                    Manifest.permission.MANAGE_EXTERNAL_STORAGE, Manifest.permission.READ_EXTERNAL_STORAGE},REQUEST_CODE1);\r\n        }\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n        if (requestCode == REQUEST_CODE &amp;&amp; grantResults.length &gt; 0\r\n        &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED){\r\n            Toast.makeText(this, &quot;Permission Granted&quot;, Toast.LENGTH_SHORT).show();\r\n            userPermission2();\r\n        }else {\r\n            Toast.makeText(this, &quot;Permission Granted&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n        }\r\n\r\n    }\r\n```\r\n\r\n\r\n\r\n\r\nI tried many why but don&#39;work. Every time is the same problem.\r\n\r\nThe log is.\r\n\r\n```\r\nD/CompatibilityChangeReporter: Compat change id reported: 147798919; UID 10351; state: ENABLED\r\nW/System.err: java.io.FileNotFoundException: /storage/emulated/0/YourName.png: open failed: EPERM (Operation not permitted)\r\nW/System.err:     at libcore.io.IoBridge.open(IoBridge.java:492)\r\nW/System.err:     at java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:236)\r\nW/System.err:     at java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:186)\r\nW/System.err:     at com.example.myapplication.MainActivity.tackeAndSaveScreenShot(MainActivity.java:93)\r\nW/System.err:     at com.example.myapplication.MainActivity$1.onClick(MainActivity.java:64)\r\nW/System.err:     at android.view.View.performClick(View.java:7570)\r\nW/System.err:     at com.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1202)\r\nW/System.err:     at android.view.View.performClickInternal(View.java:7525)\r\nW/System.err:     at android.view.View.access$3900(View.java:836)\r\nW/System.err:     at android.view.View$PerformClick.run(View.java:28680)\r\nW/System.err:     at android.os.Handler.handleCallback(Handler.java:938)\r\nW/System.err:     at android.os.Handler.dispatchMessage(Handler.java:99)\r\nW/System.err:     at android.os.Looper.loop(Looper.java:254)\r\nW/System.err:     at android.app.ActivityThread.main(ActivityThread.java:8243)\r\nW/System.err:     at java.lang.reflect.Method.invoke(Native Method)\r\nW/System.err:     at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:612)\r\nW/System.err:     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1006)\r\nW/System.err: Caused by: android.system.ErrnoException: open failed: EPERM (Operation not permitted)\r\nW/System.err:     at libcore.io.Linux.open(Native Method)\r\nW/System.err:     at libcore.io.ForwardingOs.open(ForwardingOs.java:166)\r\nW/System.err:     at libcore.io.BlockGuardOs.open(BlockGuardOs.java:254)\r\nW/System.err:     at libcore.io.ForwardingOs.open(ForwardingOs.java:166)\r\nW/System.err:     at android.app.ActivityThread$AndroidOs.open(ActivityThread.java:8125)\r\nW/System.err:     at libcore.io.IoBridge.open(IoBridge.java:478)\r\nW/System.err: \t... 16 more\r\n```\r\n","title":"storage/emulated/0/YourName.png: open failed: EPERM (Operation not permitted)","body":"<p>I want to take an user Screenshot, I used this code. I was take 3 permission, READ_EXTERNAL_STORE,WRITE_EXTERNAL_STORE, and READ_EXTERNAL_STORAGE. Problem not fix. It show open failed: EPERM (Operation not permitted)</p>\n<pre><code>public void tackeAndSaveScreenShot(Activity mActivity) {\n        View MainView = mActivity.getWindow().getDecorView();\n        MainView.setDrawingCacheEnabled(true);\n        MainView.buildDrawingCache();\n        Bitmap MainBitmap = MainView.getDrawingCache();\n        Rect frame = new Rect();\n\n        mActivity.getWindow().getDecorView().getWindowVisibleDisplayFrame(frame);\n        //to remove statusBar from the taken sc\n        int statusBarHeight = frame.top;\n        //using screen size to create bitmap\n        int width = mActivity.getWindowManager().getDefaultDisplay().getWidth();\n        int height = mActivity.getWindowManager().getDefaultDisplay().getHeight();\n        Bitmap OutBitmap = Bitmap.createBitmap(MainBitmap, 0, statusBarHeight, width, height - statusBarHeight);\n        MainView.destroyDrawingCache();\n        try {\n\n            String path = Environment.getExternalStorageDirectory().toString();\n            OutputStream fOut = null;\n            //you can also using current time to generate name\n            String name=&quot;YourName&quot;;\n            File file = new File(path, name + &quot;.png&quot;);\n            fOut = new FileOutputStream(file);\n\n            OutBitmap.compress(Bitmap.CompressFormat.PNG, 1000, fOut);\n            fOut.flush();\n            fOut.close();\n\n            //this line will add the saved picture to gallery\n            MediaStore.Images.Media.insertImage(getContentResolver(), file.getAbsolutePath(), file.getName(), file.getName());\n\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>When I check on my Logcat. they show the problem is in</p>\n<pre><code>fOut = new FileOutputStream(file);\n</code></pre>\n<p>I get permission properly.</p>\n<pre><code>private void userPermission2(){\n        if (ContextCompat.checkSelfPermission(this, Manifest.permission.WRITE_EXTERNAL_STORAGE)\n                != PackageManager.PERMISSION_GRANTED){\n            ActivityCompat.requestPermissions(this, new String[] {Manifest.permission.WRITE_EXTERNAL_STORAGE,\n                    Manifest.permission.MANAGE_EXTERNAL_STORAGE, Manifest.permission.READ_EXTERNAL_STORAGE},REQUEST_CODE1);\n        }\n\n    }\n\n    @Override\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n        if (requestCode == REQUEST_CODE &amp;&amp; grantResults.length &gt; 0\n        &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED){\n            Toast.makeText(this, &quot;Permission Granted&quot;, Toast.LENGTH_SHORT).show();\n            userPermission2();\n        }else {\n            Toast.makeText(this, &quot;Permission Granted&quot;, Toast.LENGTH_SHORT).show();\n\n        }\n\n    }\n</code></pre>\n<p>I tried many why but don'work. Every time is the same problem.</p>\n<p>The log is.</p>\n<pre><code>D/CompatibilityChangeReporter: Compat change id reported: 147798919; UID 10351; state: ENABLED\nW/System.err: java.io.FileNotFoundException: /storage/emulated/0/YourName.png: open failed: EPERM (Operation not permitted)\nW/System.err:     at libcore.io.IoBridge.open(IoBridge.java:492)\nW/System.err:     at java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:236)\nW/System.err:     at java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:186)\nW/System.err:     at com.example.myapplication.MainActivity.tackeAndSaveScreenShot(MainActivity.java:93)\nW/System.err:     at com.example.myapplication.MainActivity$1.onClick(MainActivity.java:64)\nW/System.err:     at android.view.View.performClick(View.java:7570)\nW/System.err:     at com.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1202)\nW/System.err:     at android.view.View.performClickInternal(View.java:7525)\nW/System.err:     at android.view.View.access$3900(View.java:836)\nW/System.err:     at android.view.View$PerformClick.run(View.java:28680)\nW/System.err:     at android.os.Handler.handleCallback(Handler.java:938)\nW/System.err:     at android.os.Handler.dispatchMessage(Handler.java:99)\nW/System.err:     at android.os.Looper.loop(Looper.java:254)\nW/System.err:     at android.app.ActivityThread.main(ActivityThread.java:8243)\nW/System.err:     at java.lang.reflect.Method.invoke(Native Method)\nW/System.err:     at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:612)\nW/System.err:     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1006)\nW/System.err: Caused by: android.system.ErrnoException: open failed: EPERM (Operation not permitted)\nW/System.err:     at libcore.io.Linux.open(Native Method)\nW/System.err:     at libcore.io.ForwardingOs.open(ForwardingOs.java:166)\nW/System.err:     at libcore.io.BlockGuardOs.open(BlockGuardOs.java:254)\nW/System.err:     at libcore.io.ForwardingOs.open(ForwardingOs.java:166)\nW/System.err:     at android.app.ActivityThread$AndroidOs.open(ActivityThread.java:8125)\nW/System.err:     at libcore.io.IoBridge.open(IoBridge.java:478)\nW/System.err:   ... 16 more\n</code></pre>\n"},{"tags":["java","spring","hibernate","jpa","querydsl"],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675766423,"creation_date":1675766423,"answer_id":75372193,"question_id":75365585,"body_markdown":"I don&#39;t know how to model this with QueryDSL, but usually in HQL this can be modeled by using an exists subquery i.e. something like this:\r\n\r\n```sql\r\nfrom Employee e\r\nwhere not exists (\r\n  select 1\r\n  from e.tasks t\r\n  where t.priority &lt; :priority\r\n)\r\n```\r\n\r\nanother way to formulate this is through using quantifiers\r\n\r\n```sql\r\nfrom Employee e\r\nwhere :priority &gt; all (\r\n  select t.priority\r\n  from e.tasks t\r\n)\r\n```","title":"QueryDSL filter all elements in collection","body":"<p>I don't know how to model this with QueryDSL, but usually in HQL this can be modeled by using an exists subquery i.e. something like this:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>from Employee e\nwhere not exists (\n  select 1\n  from e.tasks t\n  where t.priority &lt; :priority\n)\n</code></pre>\n<p>another way to formulate this is through using quantifiers</p>\n<pre class=\"lang-sql prettyprint-override\"><code>from Employee e\nwhere :priority &gt; all (\n  select t.priority\n  from e.tasks t\n)\n</code></pre>\n"}],"owner":{"account_id":14698221,"reputation":1,"user_id":10615047,"display_name":"Kacper Szczęsny"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":172,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675766423,"creation_date":1675710567,"question_id":75365585,"body_markdown":"    @Getter\r\n    @Setter\r\n    @ToString\r\n\r\n    @ApiModelProperty(&quot;contains ignore case&quot;)\r\n    private String name;\r\n    @ApiModelProperty(&quot;equals&quot;)\r\n    private String department;\r\n    @ApiModelProperty(&quot;in equals&quot;)\r\n    private List&lt;String&gt; position;\r\n    @ApiModelProperty(&quot;greater or equals&quot;)\r\n    private Integer salaryFrom;\r\n    @ApiModelProperty(&quot;lower or equals&quot;)\r\n    private Integer salaryTo;\r\n    @ApiModelProperty(&quot;contains ignore case&quot;)\r\n    private String email;\r\n    @ApiModelProperty(&quot;at least one with priority higher&quot;)\r\n    private Integer oneHigher;\r\n    @ApiModelProperty(&quot;all priorities higher&quot;)\r\n    private Integer allHigher;\r\n\r\n    BooleanBuilder conditions = new BooleanBuilder();\r\n    ofNullable(salaryFrom).map(employee.salary::goe).ifPresent(conditions::and);\r\n    ofNullable(salaryTo).map(employee.salary::loe).ifPresent(conditions::and);\r\n    ofNullable(email).map(employee.email::containsIgnoreCase).ifPresent(conditions::and);\r\n    ofNullable(oneHigher).map(employee.tasks.any().priority::goe).ifPresent(conditions::and);                              \r\n    return conditions;\r\n\r\n\r\nI have Employee entity that has set of `Task`, and I want to be able to query only for employees that have all tasks greater than certain priority, I was able to do that but when at least one task has priority greater than some value using any(), but I don&#39;t see a way to do that for all tasks because I don&#39;t see any way to iterate through tasks in `employee.tasks`","title":"QueryDSL filter all elements in collection","body":"<pre><code>@Getter\n@Setter\n@ToString\n\n@ApiModelProperty(&quot;contains ignore case&quot;)\nprivate String name;\n@ApiModelProperty(&quot;equals&quot;)\nprivate String department;\n@ApiModelProperty(&quot;in equals&quot;)\nprivate List&lt;String&gt; position;\n@ApiModelProperty(&quot;greater or equals&quot;)\nprivate Integer salaryFrom;\n@ApiModelProperty(&quot;lower or equals&quot;)\nprivate Integer salaryTo;\n@ApiModelProperty(&quot;contains ignore case&quot;)\nprivate String email;\n@ApiModelProperty(&quot;at least one with priority higher&quot;)\nprivate Integer oneHigher;\n@ApiModelProperty(&quot;all priorities higher&quot;)\nprivate Integer allHigher;\n\nBooleanBuilder conditions = new BooleanBuilder();\nofNullable(salaryFrom).map(employee.salary::goe).ifPresent(conditions::and);\nofNullable(salaryTo).map(employee.salary::loe).ifPresent(conditions::and);\nofNullable(email).map(employee.email::containsIgnoreCase).ifPresent(conditions::and);\nofNullable(oneHigher).map(employee.tasks.any().priority::goe).ifPresent(conditions::and);                              \nreturn conditions;\n</code></pre>\n<p>I have Employee entity that has set of <code>Task</code>, and I want to be able to query only for employees that have all tasks greater than certain priority, I was able to do that but when at least one task has priority greater than some value using any(), but I don't see a way to do that for all tasks because I don't see any way to iterate through tasks in <code>employee.tasks</code></p>\n"},{"tags":["java","data-structures","linked-list"],"answers":[{"comments":[{"owner":{"account_id":27722446,"reputation":43,"user_id":21162688,"display_name":"rushi"},"score":0,"creation_date":1675779264,"post_id":75372124,"comment_id":132999047,"body_markdown":"yes. I got another solution too. we can assign the return value as head . i.e in main method .  `ll.head =ll.RemoveNthNode(ll.head, 3);`  so it will assign node value to the head and then print","body":"yes. I got another solution too. we can assign the return value as head . i.e in main method .  <code>ll.head =ll.RemoveNthNode(ll.head, 3);</code>  so it will assign node value to the head and then print"},{"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1675779332,"post_id":75372124,"comment_id":132999066,"body_markdown":"Yes, but this is not very elegant. Like I wrote in my answer, the caller should not have to tell the method what the `head` is, because it surely knows that already. Moreover, it can lead to inconsistencies. For instance, what would `list1.RemoveNthNode(list2.head, 3)` have to do?? It is better to avoid such strange mixup.","body":"Yes, but this is not very elegant. Like I wrote in my answer, the caller should not have to tell the method what the <code>head</code> is, because it surely knows that already. Moreover, it can lead to inconsistencies. For instance, what would <code>list1.RemoveNthNode(list2.head, 3)</code> have to do?? It is better to avoid such strange mixup."}],"tags":[],"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675766003,"creation_date":1675766003,"answer_id":75372124,"question_id":75369436,"body_markdown":"The reason is that although your function `RemoveNthNode` returns the head after the removal, the caller (in `main`) ignores the returned value, so that it never sees a change to `head`. The confusion may also be caused by the parameter that has the name `head`, which shadows the `head` property of the class instance.\r\n\r\nAs it is not intuitive that the caller needs to provide `head` as argument, while you would expect that the method would *know* what the head of the list is, I suggest to make it a void method which doesn&#39;t take the `head` argument.\r\n\r\nYou should also take care of the case where `head` is `null`.\r\n\r\nYour `PrintLL` has a problem too: it doesn&#39;t print the node when the list has just one node.\r\n\r\n\r\nCorrected code:\r\n\r\n```\r\n    public void PrintLL() {\r\n        Node n = head;\r\n        while(n!=null){\r\n            System.out.print(n.data+ &quot; --&gt; &quot;);\r\n            n= n.next;\r\n        }\r\n        System.out.println(&quot;NULL&quot;);\r\n    }\r\n    \r\n    public void RemoveNthNode(int nth){\r\n        if(head == null || head.next==null){\r\n            head = null;\r\n            return;\r\n        }\r\n        int size=0;\r\n        Node curNode=head;\r\n        while(curNode!=null) {\r\n            curNode = curNode.next;\r\n            size++;\r\n        }\r\n\r\n        if(nth==size){\r\n            head = head.next;\r\n            return;\r\n        }\r\n         \r\n        Node prevnode = head;\r\n        int i=1;\r\n        while(i&lt;size-nth){\r\n            prevnode=prevnode.next;\r\n            i++;\r\n        }\r\n        prevnode.next = prevnode.next.next;\r\n    }\r\n    \r\n    public static void main(String[] args) {\r\n        Main ll = new Main();\r\n        ll.addFirst(90);\r\n        ll.addFirst(40);\r\n        ll.addFirst(45);\r\n        \r\n        ll.PrintLL();\r\n      \r\n        ll.RemoveNthNode(3);\r\n        ll.PrintLL();\r\n    }\r\n```","title":"Not printing elements when value of n is equal to size of linked list","body":"<p>The reason is that although your function <code>RemoveNthNode</code> returns the head after the removal, the caller (in <code>main</code>) ignores the returned value, so that it never sees a change to <code>head</code>. The confusion may also be caused by the parameter that has the name <code>head</code>, which shadows the <code>head</code> property of the class instance.</p>\n<p>As it is not intuitive that the caller needs to provide <code>head</code> as argument, while you would expect that the method would <em>know</em> what the head of the list is, I suggest to make it a void method which doesn't take the <code>head</code> argument.</p>\n<p>You should also take care of the case where <code>head</code> is <code>null</code>.</p>\n<p>Your <code>PrintLL</code> has a problem too: it doesn't print the node when the list has just one node.</p>\n<p>Corrected code:</p>\n<pre><code>    public void PrintLL() {\n        Node n = head;\n        while(n!=null){\n            System.out.print(n.data+ &quot; --&gt; &quot;);\n            n= n.next;\n        }\n        System.out.println(&quot;NULL&quot;);\n    }\n    \n    public void RemoveNthNode(int nth){\n        if(head == null || head.next==null){\n            head = null;\n            return;\n        }\n        int size=0;\n        Node curNode=head;\n        while(curNode!=null) {\n            curNode = curNode.next;\n            size++;\n        }\n\n        if(nth==size){\n            head = head.next;\n            return;\n        }\n         \n        Node prevnode = head;\n        int i=1;\n        while(i&lt;size-nth){\n            prevnode=prevnode.next;\n            i++;\n        }\n        prevnode.next = prevnode.next.next;\n    }\n    \n    public static void main(String[] args) {\n        Main ll = new Main();\n        ll.addFirst(90);\n        ll.addFirst(40);\n        ll.addFirst(45);\n        \n        ll.PrintLL();\n      \n        ll.RemoveNthNode(3);\n        ll.PrintLL();\n    }\n</code></pre>\n"}],"owner":{"account_id":27722446,"reputation":43,"user_id":21162688,"display_name":"rushi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75372124,"answer_count":1,"score":1,"last_activity_date":1675766003,"creation_date":1675749931,"question_id":75369436,"body_markdown":"I am doing the program for removing nth element from end of the linked list. But problem is that when my size of lined list is equal to n then it is not returning ` head.next `. Where I am doing wrong?\r\n\r\n```\r\n class Main{\r\n    static class Node {\r\n        int data;\r\n        Node next;  \r\n          \r\n        Node(int data){\r\n            this.data = data;\r\n            this.next = null;\r\n        }\r\n    }\r\n\r\n    Node head = null;\r\n     public void addFirst(int data) {\r\n        Node newnode = new Node(data);\r\n        if(head ==null){\r\n            head = newnode;\r\n            return;\r\n        }\r\n        newnode.next = head;\r\n        head = newnode;        \r\n    }\r\n  \r\n    //print list\r\n    public void PrintLL() {\r\n        Node n = head;\r\n        if(n.next==null){\r\n            System.out.println(&quot;NULL&quot;);\r\n            return;\r\n        }\r\n        while(n!=null){\r\n            System.out.print(n.data+ &quot; --&gt; &quot;);\r\n            n= n.next;\r\n        }\r\n        \r\n    }\r\n    \r\n    //Find nth node from last\r\n\r\n    public Node RemoveNthNode(Node head,int nth){\r\n        if(head.next==null){\r\n            return null;\r\n        }\r\n        int size=0;\r\n        Node curNode=head;\r\n        while(curNode!=null){\r\n            curNode = curNode.next;\r\n            size++;\r\n         }\r\n\r\n        if(nth==size){\r\n          return head.next;\r\n        }\r\n         \r\n         Node prevnode = head;\r\n        int i=1;\r\n        while(i&lt;size-nth){\r\n            prevnode=prevnode.next;\r\n            i++;\r\n        }\r\n        prevnode.next = prevnode.next.next;\r\n        return head;\r\n   \r\n    }\r\n    public static void main(String[] args) {\r\n        Main ll = new Main();\r\n        ll.addFirst(90);\r\n        ll.addFirst(40);\r\n        ll.addFirst(45);\r\n        \r\n         System.out.println(&quot;\\n&quot;);\r\n      \r\n      ll.RemoveNthNode(ll.head, 3);\r\n        ll.PrintLL();\r\n    }\r\n}\r\n\r\n```\r\n\r\nI tried the code that I have posted but it is not printing when n equal size of LL.","title":"Not printing elements when value of n is equal to size of linked list","body":"<p>I am doing the program for removing nth element from end of the linked list. But problem is that when my size of lined list is equal to n then it is not returning <code>head.next</code>. Where I am doing wrong?</p>\n<pre><code> class Main{\n    static class Node {\n        int data;\n        Node next;  \n          \n        Node(int data){\n            this.data = data;\n            this.next = null;\n        }\n    }\n\n    Node head = null;\n     public void addFirst(int data) {\n        Node newnode = new Node(data);\n        if(head ==null){\n            head = newnode;\n            return;\n        }\n        newnode.next = head;\n        head = newnode;        \n    }\n  \n    //print list\n    public void PrintLL() {\n        Node n = head;\n        if(n.next==null){\n            System.out.println(&quot;NULL&quot;);\n            return;\n        }\n        while(n!=null){\n            System.out.print(n.data+ &quot; --&gt; &quot;);\n            n= n.next;\n        }\n        \n    }\n    \n    //Find nth node from last\n\n    public Node RemoveNthNode(Node head,int nth){\n        if(head.next==null){\n            return null;\n        }\n        int size=0;\n        Node curNode=head;\n        while(curNode!=null){\n            curNode = curNode.next;\n            size++;\n         }\n\n        if(nth==size){\n          return head.next;\n        }\n         \n         Node prevnode = head;\n        int i=1;\n        while(i&lt;size-nth){\n            prevnode=prevnode.next;\n            i++;\n        }\n        prevnode.next = prevnode.next.next;\n        return head;\n   \n    }\n    public static void main(String[] args) {\n        Main ll = new Main();\n        ll.addFirst(90);\n        ll.addFirst(40);\n        ll.addFirst(45);\n        \n         System.out.println(&quot;\\n&quot;);\n      \n      ll.RemoveNthNode(ll.head, 3);\n        ll.PrintLL();\n    }\n}\n\n</code></pre>\n<p>I tried the code that I have posted but it is not printing when n equal size of LL.</p>\n"},{"tags":["java","hibernate","hikaricp","flexy-pool"],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675765863,"creation_date":1675765863,"answer_id":75372092,"question_id":75356501,"body_markdown":"You can take a look into the configuration that is used for tests in Hibernate: https://github.com/hibernate/hibernate-orm/blob/main/hibernate-hikaricp/src/test/resources/hibernate.properties","title":"Hibernate 5 Core + FlexyPool","body":"<p>You can take a look into the configuration that is used for tests in Hibernate: <a href=\"https://github.com/hibernate/hibernate-orm/blob/main/hibernate-hikaricp/src/test/resources/hibernate.properties\" rel=\"nofollow noreferrer\">https://github.com/hibernate/hibernate-orm/blob/main/hibernate-hikaricp/src/test/resources/hibernate.properties</a></p>\n"}],"owner":{"account_id":6353546,"reputation":17,"user_id":4933008,"display_name":"MrWalterWhite"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675765863,"creation_date":1675644236,"question_id":75356501,"body_markdown":"I&#39;m trying to develop an Hibernate 5 Core application and I&#39;m using hibernate.cfg.xml to build the SessionFactory. For DB connection, I&#39;m using HikariCP connection pooling but I wanted to retrieve some metrics using FlexyPool.\r\n\r\nMy current hibernate.cfg.xml is as follows:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;!DOCTYPE hibernate-configuration PUBLIC\r\n        &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot;\r\n        &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\r\n&lt;hibernate-configuration&gt;\r\n    &lt;session-factory&gt;\r\n\r\n\r\n        &lt;!-- HikariCP database connection properties and pool configuration --&gt;\r\n        &lt;property name=&quot;hibernate.hikari.dataSourceClassName&quot;&gt;org.postgresql.ds.PGSimpleDataSource&lt;/property&gt;\r\n        &lt;property name=&quot;hikari.dataSource.serverName&quot;&gt;192.168.1.1&lt;/property&gt;\r\n        &lt;property name=&quot;hikari.dataSource.portNumber&quot;&gt;5432&lt;/property&gt;\r\n        &lt;property name=&quot;hikari.dataSource.databaseName&quot;&gt;dbtest&lt;/property&gt;\r\n        &lt;property name=&quot;hikari.dataSource.user&quot;&gt;dbuser&lt;/property&gt;\r\n        &lt;property name=&quot;hikari.dataSource.password&quot;&gt;dbpass&lt;/property&gt;\r\n        &lt;property name=&quot;hikari.dataSource.reWriteBatchedInserts&quot;&gt;true&lt;/property&gt;\r\n\r\n        &lt;!-- Maximum number of actual connection in the pool, including both idle and in-use connections --&gt;\r\n        &lt;property name=&quot;hibernate.hikari.maximumPoolSize&quot;&gt;10&lt;/property&gt;\r\n        &lt;!-- Minimum number of idle connections in the pool --&gt;\r\n        &lt;property name=&quot;hibernate.hikari.minimumIdle&quot;&gt;2&lt;/property&gt;\r\n        &lt;!-- Maximum time that a connection is allowed to sit idle in the pool (in milliseconds). Default: 600000 (10 minutes) --&gt;\r\n        &lt;property name=&quot;hibernate.hikari.idleTimeout&quot;&gt;300000&lt;/property&gt;\r\n        &lt;!-- Maximum waiting time for a connection from the pool (in milliseconds). Default: 30000 (30 seconds) --&gt;\r\n        &lt;property name=&quot;hibernate.hikari.connectionTimeout&quot;&gt;20000&lt;/property&gt;\r\n        &lt;!-- Maximum lifetime of a connection in the pool (0 indicates infinite lifetime), subject of course to the idleTimeout setting\r\n        (in milliseconds). Default: 1800000 (30 minutes) --&gt;\r\n        &lt;property name=&quot;hibernate.hikari.maxLifetime&quot;&gt;600000&lt;/property&gt;\r\n        &lt;!-- Controls the amount of time that a connection can be out of the pool before a message is logged indicating a possible\r\n        connection leak (in milliseconds). Default: 0 --&gt;\r\n        &lt;property name=&quot;hibernate.hikari.leakDetectionThreshold&quot;&gt;30000&lt;/property&gt;\r\n\r\n        &lt;!-- Select our SQL dialect --&gt;\r\n        &lt;!-- Dialect is required to let Hibernate know the Database Type, MySQL, Oracle, etc.\r\n             Hibernate 4 automatically figure out Dialect from Database Connection Metadata --&gt;\r\n        &lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.PostgreSQL10Dialect&lt;/property&gt;\r\n\r\n        &lt;!-- Specifies when Hibernate should release JDBC connections --&gt;\r\n        &lt;!-- Values: auto (default) | on_close | after_transaction | after_statement --&gt;\r\n        &lt;property name=&quot;hibernate.connection.release_mode&quot;&gt;auto&lt;/property&gt;\r\n\r\n        &lt;!-- Set the current session context --&gt;\r\n        &lt;!-- This option is only needed if using getCurrentSession()\r\n             org.hibernate.HibernateException: No CurrentSessionContext configured! --&gt;\r\n        &lt;property name=&quot;hibernate.current_session_context_class&quot;&gt;thread&lt;/property&gt;\r\n\r\n        &lt;!-- Set the default Flush Mode --&gt;\r\n        &lt;!-- This option will set the flush mode on Hibernate\r\n             Values: AUTO (default) | COMMIT | ALWAYS | MANUAL --&gt;\r\n        &lt;property name=&quot;hibernate.flushMode&quot;&gt;AUTO&lt;/property&gt;\r\n\r\n        &lt;!-- Set JDBC batch size --&gt;\r\n        &lt;property name=&quot;hibernate.jdbc.batch_size&quot;&gt;20&lt;/property&gt;\r\n\r\n        &lt;!-- Hibernate orders the SQL insert statements by entity type --&gt;\r\n        &lt;property name=&quot;hibernate.order_inserts&quot;&gt;true&lt;/property&gt;\r\n\r\n        &lt;!-- Hibernate orders the SQL update statements by entity type --&gt;\r\n        &lt;property name=&quot;hibernate.order_updates&quot;&gt;true&lt;/property&gt;\r\n\r\n        &lt;!-- Set this property to true if your JDBC driver returns correct row counts from executeBatch().\r\n             It is usually safe to turn this option on. Hibernate will then use batched DML for automatically\r\n             versioned data. Defaults to false. --&gt;\r\n        &lt;property name=&quot;hibernate.batch_versioned_data&quot;&gt;true&lt;/property&gt;\r\n\r\n        &lt;!-- Echo the SQL to stdout --&gt;\r\n        &lt;!-- Outputs the SQL queries to stdout, should be disabled in Production\r\n             (there are better ways to output SQL statements) --&gt;\r\n        &lt;property name=&quot;hibernate.show_sql&quot;&gt;false&lt;/property&gt;\r\n\r\n        &lt;!-- Show SQL formatted --&gt;\r\n        &lt;property name=&quot;hibernate.format_sql&quot;&gt;true&lt;/property&gt;\r\n\r\n        &lt;!-- Database schema handle on startup --&gt;\r\n        &lt;!-- Values: create | validate | update | create-drop\r\n             create\r\n             validate - Validate and export schema DDL to the database\r\n             update\r\n             create-drop --&gt;\r\n        &lt;property name=&quot;hibernate.hbm2ddl.auto&quot;&gt;validate&lt;/property&gt;\r\n\r\n        &lt;!-- Tell Hibernate to generate statistics --&gt;\r\n        &lt;!-- (will write one multi-line log statement with summarized statistical information at the end of the session).\r\n             This will be written to logfile through logger org.hibernate.stat = DEBUG --&gt;\r\n        &lt;property name=&quot;hibernate.generate_statistics&quot;&gt;true&lt;/property&gt;\r\n\r\n        &lt;!-- Log slow DB queries that take longer than a specific duration (ms) --&gt;\r\n        &lt;!-- This will be written to logfile through logger org.hibernate.SQL_SLOW = INFO --&gt;\r\n        &lt;property name=&quot;hibernate.session.events.log.LOG_QUERIES_SLOWER_THAN_MS&quot;&gt;1000&lt;/property&gt;\r\n\r\n    &lt;/session-factory&gt;\r\n&lt;/hibernate-configuration&gt;\r\n```\r\n\r\nI&#39;ve read the FlexyPool documentation on how to initialize it for HikariCP but don&#39;t know where to start. Any help?","title":"Hibernate 5 Core + FlexyPool","body":"<p>I'm trying to develop an Hibernate 5 Core application and I'm using hibernate.cfg.xml to build the SessionFactory. For DB connection, I'm using HikariCP connection pooling but I wanted to retrieve some metrics using FlexyPool.</p>\n<p>My current hibernate.cfg.xml is as follows:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE hibernate-configuration PUBLIC\n        &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot;\n        &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\n&lt;hibernate-configuration&gt;\n    &lt;session-factory&gt;\n\n\n        &lt;!-- HikariCP database connection properties and pool configuration --&gt;\n        &lt;property name=&quot;hibernate.hikari.dataSourceClassName&quot;&gt;org.postgresql.ds.PGSimpleDataSource&lt;/property&gt;\n        &lt;property name=&quot;hikari.dataSource.serverName&quot;&gt;192.168.1.1&lt;/property&gt;\n        &lt;property name=&quot;hikari.dataSource.portNumber&quot;&gt;5432&lt;/property&gt;\n        &lt;property name=&quot;hikari.dataSource.databaseName&quot;&gt;dbtest&lt;/property&gt;\n        &lt;property name=&quot;hikari.dataSource.user&quot;&gt;dbuser&lt;/property&gt;\n        &lt;property name=&quot;hikari.dataSource.password&quot;&gt;dbpass&lt;/property&gt;\n        &lt;property name=&quot;hikari.dataSource.reWriteBatchedInserts&quot;&gt;true&lt;/property&gt;\n\n        &lt;!-- Maximum number of actual connection in the pool, including both idle and in-use connections --&gt;\n        &lt;property name=&quot;hibernate.hikari.maximumPoolSize&quot;&gt;10&lt;/property&gt;\n        &lt;!-- Minimum number of idle connections in the pool --&gt;\n        &lt;property name=&quot;hibernate.hikari.minimumIdle&quot;&gt;2&lt;/property&gt;\n        &lt;!-- Maximum time that a connection is allowed to sit idle in the pool (in milliseconds). Default: 600000 (10 minutes) --&gt;\n        &lt;property name=&quot;hibernate.hikari.idleTimeout&quot;&gt;300000&lt;/property&gt;\n        &lt;!-- Maximum waiting time for a connection from the pool (in milliseconds). Default: 30000 (30 seconds) --&gt;\n        &lt;property name=&quot;hibernate.hikari.connectionTimeout&quot;&gt;20000&lt;/property&gt;\n        &lt;!-- Maximum lifetime of a connection in the pool (0 indicates infinite lifetime), subject of course to the idleTimeout setting\n        (in milliseconds). Default: 1800000 (30 minutes) --&gt;\n        &lt;property name=&quot;hibernate.hikari.maxLifetime&quot;&gt;600000&lt;/property&gt;\n        &lt;!-- Controls the amount of time that a connection can be out of the pool before a message is logged indicating a possible\n        connection leak (in milliseconds). Default: 0 --&gt;\n        &lt;property name=&quot;hibernate.hikari.leakDetectionThreshold&quot;&gt;30000&lt;/property&gt;\n\n        &lt;!-- Select our SQL dialect --&gt;\n        &lt;!-- Dialect is required to let Hibernate know the Database Type, MySQL, Oracle, etc.\n             Hibernate 4 automatically figure out Dialect from Database Connection Metadata --&gt;\n        &lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.PostgreSQL10Dialect&lt;/property&gt;\n\n        &lt;!-- Specifies when Hibernate should release JDBC connections --&gt;\n        &lt;!-- Values: auto (default) | on_close | after_transaction | after_statement --&gt;\n        &lt;property name=&quot;hibernate.connection.release_mode&quot;&gt;auto&lt;/property&gt;\n\n        &lt;!-- Set the current session context --&gt;\n        &lt;!-- This option is only needed if using getCurrentSession()\n             org.hibernate.HibernateException: No CurrentSessionContext configured! --&gt;\n        &lt;property name=&quot;hibernate.current_session_context_class&quot;&gt;thread&lt;/property&gt;\n\n        &lt;!-- Set the default Flush Mode --&gt;\n        &lt;!-- This option will set the flush mode on Hibernate\n             Values: AUTO (default) | COMMIT | ALWAYS | MANUAL --&gt;\n        &lt;property name=&quot;hibernate.flushMode&quot;&gt;AUTO&lt;/property&gt;\n\n        &lt;!-- Set JDBC batch size --&gt;\n        &lt;property name=&quot;hibernate.jdbc.batch_size&quot;&gt;20&lt;/property&gt;\n\n        &lt;!-- Hibernate orders the SQL insert statements by entity type --&gt;\n        &lt;property name=&quot;hibernate.order_inserts&quot;&gt;true&lt;/property&gt;\n\n        &lt;!-- Hibernate orders the SQL update statements by entity type --&gt;\n        &lt;property name=&quot;hibernate.order_updates&quot;&gt;true&lt;/property&gt;\n\n        &lt;!-- Set this property to true if your JDBC driver returns correct row counts from executeBatch().\n             It is usually safe to turn this option on. Hibernate will then use batched DML for automatically\n             versioned data. Defaults to false. --&gt;\n        &lt;property name=&quot;hibernate.batch_versioned_data&quot;&gt;true&lt;/property&gt;\n\n        &lt;!-- Echo the SQL to stdout --&gt;\n        &lt;!-- Outputs the SQL queries to stdout, should be disabled in Production\n             (there are better ways to output SQL statements) --&gt;\n        &lt;property name=&quot;hibernate.show_sql&quot;&gt;false&lt;/property&gt;\n\n        &lt;!-- Show SQL formatted --&gt;\n        &lt;property name=&quot;hibernate.format_sql&quot;&gt;true&lt;/property&gt;\n\n        &lt;!-- Database schema handle on startup --&gt;\n        &lt;!-- Values: create | validate | update | create-drop\n             create\n             validate - Validate and export schema DDL to the database\n             update\n             create-drop --&gt;\n        &lt;property name=&quot;hibernate.hbm2ddl.auto&quot;&gt;validate&lt;/property&gt;\n\n        &lt;!-- Tell Hibernate to generate statistics --&gt;\n        &lt;!-- (will write one multi-line log statement with summarized statistical information at the end of the session).\n             This will be written to logfile through logger org.hibernate.stat = DEBUG --&gt;\n        &lt;property name=&quot;hibernate.generate_statistics&quot;&gt;true&lt;/property&gt;\n\n        &lt;!-- Log slow DB queries that take longer than a specific duration (ms) --&gt;\n        &lt;!-- This will be written to logfile through logger org.hibernate.SQL_SLOW = INFO --&gt;\n        &lt;property name=&quot;hibernate.session.events.log.LOG_QUERIES_SLOWER_THAN_MS&quot;&gt;1000&lt;/property&gt;\n\n    &lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n<p>I've read the FlexyPool documentation on how to initialize it for HikariCP but don't know where to start. Any help?</p>\n"},{"tags":["java","maven","jenkins","intellij-idea","pom.xml"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1675626607,"post_id":75354615,"comment_id":132965247,"body_markdown":"Where is the message comming from? Have you checked the built on plain command line without jenkins? Do you get the same error? Either you use old deps or old plugin... but without more information it&#39;s hard to say..","body":"Where is the message comming from? Have you checked the built on plain command line without jenkins? Do you get the same error? Either you use old deps or old plugin... but without more information it&#39;s hard to say.."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1675628691,"post_id":75354615,"comment_id":132965606,"body_markdown":"Be advised that code which attempts to manipulate private fields in sun.reflect.annotation may break in later Java versions, since under the rules of object-oriented encapsulation, private implementations are free to change as long as the public interface remains stable.  In other words: what you’re doing will eventually stop working.","body":"Be advised that code which attempts to manipulate private fields in sun.reflect.annotation may break in later Java versions, since under the rules of object-oriented encapsulation, private implementations are free to change as long as the public interface remains stable.  In other words: what you’re doing will eventually stop working."},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1675673278,"post_id":75354615,"comment_id":132972057,"body_markdown":"That is not a solution. That is a temporary workaround until you fix it properly.","body":"That is not a solution. That is a temporary workaround until you fix it properly."},{"owner":{"account_id":27710208,"reputation":11,"user_id":21153053,"display_name":"Mariam Ashraf"},"score":0,"creation_date":1675765536,"post_id":75354615,"comment_id":132994504,"body_markdown":"Field f;\n        try {\n            f = handler.getClass().getDeclaredField(&quot;memberValues&quot;);\n            f.setAccessible(true); --&gt; this line throws the error\n            Map&lt;String, Object&gt; memberValues;}","body":"Field f;         try {             f = handler.getClass().getDeclaredField(&quot;memberValues&quot;);             f.setAccessible(true); --&gt; this line throws the error             Map&lt;String, Object&gt; memberValues;}"}],"answers":[{"tags":[],"owner":{"account_id":6850437,"reputation":1477,"user_id":5267773,"accept_rate":43,"display_name":"Shalika"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1675623754,"creation_date":1675623754,"answer_id":75354772,"question_id":75354615,"body_markdown":" 1. At jenkins home page click **Manage Jenkins** link.\r\n 2. Click on the  **Global Tool Configuration** link.\r\n 3. Go to **JDK section** and click **Add JDK** button.\r\n 4. Fill the Name field , Add the name of the JDK.\r\n 5. Add the JAVA_HOME path for JDK installation directory.\r\n 6. In the Java Options field, enter the **&quot;--add-opens&quot;** command.\r\n\r\nExample -&gt; **--add-opens java.base/java.lang=ALL-UNNAMED**\r\n\r\n 7. Finally click save button.","title":"How to add --add-opens command to Jenkins","body":"<ol>\n<li>At jenkins home page click <strong>Manage Jenkins</strong> link.</li>\n<li>Click on the  <strong>Global Tool Configuration</strong> link.</li>\n<li>Go to <strong>JDK section</strong> and click <strong>Add JDK</strong> button.</li>\n<li>Fill the Name field , Add the name of the JDK.</li>\n<li>Add the JAVA_HOME path for JDK installation directory.</li>\n<li>In the Java Options field, enter the <strong>&quot;--add-opens&quot;</strong> command.</li>\n</ol>\n<p>Example -&gt; <strong>--add-opens java.base/java.lang=ALL-UNNAMED</strong></p>\n<ol start=\"7\">\n<li>Finally click save button.</li>\n</ol>\n"}],"owner":{"account_id":27710208,"reputation":11,"user_id":21153053,"display_name":"Mariam Ashraf"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1262,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1675765504,"creation_date":1675622240,"question_id":75354615,"body_markdown":"Environment:\r\nIntellij\r\nJDK 17\r\nMaven\r\n\r\nWhen i run my project i faced this error: Caused by: **java.lang.reflect.InaccessibleObjectException: Unable to make field private final java.util.Map sun.reflect.annotation.AnnotationInvocationHandler.memberValues accessible: module java.base does not &quot;opens sun.reflect.annotation&quot; to unnamed module @68267da0**\r\n\r\nCode:\r\n[enter image description here][1]\r\nf.setAccessible(true); **this line throws the error**\r\n\r\n\r\n\r\nsolution is to add this line **JAVA_TOOL_OPTIONS=--add-opens=java.base/sun.reflect.annotation=ALL-UNNAMED**\r\nto the runner configuration at Intellij see the photo: [enter image description here](https://i.stack.imgur.com/oG90n.png) and it works\r\n\r\nbut now i need to pass this line **JAVA_TOOL_OPTIONS=--add-opens=java.base/sun.reflect.annotation=ALL-UNNAMED** to the **Jenkins job**\r\n\r\nas i run my project through Jenkins so need to pass this solution to it\r\nso how to do it?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ywpiC.png","title":"How to add --add-opens command to Jenkins","body":"<p>Environment:\nIntellij\nJDK 17\nMaven</p>\n<p>When i run my project i faced this error: Caused by: <strong>java.lang.reflect.InaccessibleObjectException: Unable to make field private final java.util.Map sun.reflect.annotation.AnnotationInvocationHandler.memberValues accessible: module java.base does not &quot;opens sun.reflect.annotation&quot; to unnamed module @68267da0</strong></p>\n<p>Code:\n<a href=\"https://i.stack.imgur.com/ywpiC.png\" rel=\"nofollow noreferrer\">enter image description here</a>\nf.setAccessible(true); <strong>this line throws the error</strong></p>\n<p>solution is to add this line <strong>JAVA_TOOL_OPTIONS=--add-opens=java.base/sun.reflect.annotation=ALL-UNNAMED</strong>\nto the runner configuration at Intellij see the photo: <a href=\"https://i.stack.imgur.com/oG90n.png\" rel=\"nofollow noreferrer\">enter image description here</a> and it works</p>\n<p>but now i need to pass this line <strong>JAVA_TOOL_OPTIONS=--add-opens=java.base/sun.reflect.annotation=ALL-UNNAMED</strong> to the <strong>Jenkins job</strong></p>\n<p>as i run my project through Jenkins so need to pass this solution to it\nso how to do it?</p>\n"},{"tags":["java","rest","gis","geoserver"],"comments":[{"owner":{"account_id":195980,"reputation":10228,"user_id":439194,"accept_rate":100,"display_name":"Ian Turton"},"score":0,"creation_date":1675770614,"post_id":75371822,"comment_id":132996156,"body_markdown":"I&#39;m not sure that anyone is supporting that code any more, but you can check the source code to see what is happening. It&#39;s also worth checking the GeoServer log to see what GeoServer thinks went wrong","body":"I&#39;m not sure that anyone is supporting that code any more, but you can check the source code to see what is happening. It&#39;s also worth checking the GeoServer log to see what GeoServer thinks went wrong"}],"owner":{"account_id":15152869,"reputation":183,"user_id":10934684,"display_name":"Luigi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675765495,"creation_date":1675764458,"question_id":75371822,"body_markdown":"I need to retrieve the list of layers belonging to a layer group. I found the method I need in the GeoServerRESTReader class, but the returned list comes out to be null. The code I tried is as follows. The connection occurs correctly, so much so that the first print gives the name of the layer group of index 0, while the second print gives null. How do I get the list of layers in a layer group?\r\n\r\n    public class TestClass extends TestCase {\r\n        GeoServerRESTReader geoServerRESTReader = new GeoServerRESTReader(&quot;http://localhost:8080/geoserver/&quot;,&quot;admin&quot;,&quot;geoserver&quot;);\r\n        \r\n        public TestClass() throws MalformedURLException {\r\n            \r\n        }\r\n        \r\n        @Test\r\n        public void testClass() {\r\n            System.out.println(geoServerRESTReader.getLayerGroups(&quot;myworkspace&quot;).get(0).getName());\r\n            System.out.println(geoServerRESTReader.getLayerGroup(&quot;myworkspace&quot;,&quot;layergroupname&quot;).getLayerList());\r\n        }\r\n    }","title":"Try REST API on GeoServer","body":"<p>I need to retrieve the list of layers belonging to a layer group. I found the method I need in the GeoServerRESTReader class, but the returned list comes out to be null. The code I tried is as follows. The connection occurs correctly, so much so that the first print gives the name of the layer group of index 0, while the second print gives null. How do I get the list of layers in a layer group?</p>\n<pre><code>public class TestClass extends TestCase {\n    GeoServerRESTReader geoServerRESTReader = new GeoServerRESTReader(&quot;http://localhost:8080/geoserver/&quot;,&quot;admin&quot;,&quot;geoserver&quot;);\n    \n    public TestClass() throws MalformedURLException {\n        \n    }\n    \n    @Test\n    public void testClass() {\n        System.out.println(geoServerRESTReader.getLayerGroups(&quot;myworkspace&quot;).get(0).getName());\n        System.out.println(geoServerRESTReader.getLayerGroup(&quot;myworkspace&quot;,&quot;layergroupname&quot;).getLayerList());\n    }\n}\n</code></pre>\n"},{"tags":["java","mysql","spring-boot","elasticsearch","system-design"],"comments":[{"owner":{"account_id":529143,"reputation":136619,"user_id":1766831,"display_name":"Rick James"},"score":0,"creation_date":1675813748,"post_id":75369921,"comment_id":133008747,"body_markdown":"In MySQL, use `CHARACTER SET=utf8mb4` everywhere.","body":"In MySQL, use <code>CHARACTER SET=utf8mb4</code> everywhere."},{"owner":{"account_id":12875245,"reputation":547,"user_id":9312181,"display_name":"tusharRawat"},"score":0,"creation_date":1675871662,"post_id":75369921,"comment_id":133022035,"body_markdown":"@RickJames, that&#39;s it. Understood changing character set will change the max number of bytes a char takes to store, which is 4 byte. But can we save the data in raw format(any language), in DB/elastic for update and search cases. And what about the get calls, will the response will be same as the one we have changed without messing up the encoding formats","body":"@RickJames, that&#39;s it. Understood changing character set will change the max number of bytes a char takes to store, which is 4 byte. But can we save the data in raw format(any language), in DB/elastic for update and search cases. And what about the get calls, will the response will be same as the one we have changed without messing up the encoding formats"},{"owner":{"account_id":529143,"reputation":136619,"user_id":1766831,"display_name":"Rick James"},"score":0,"creation_date":1675902329,"post_id":75369921,"comment_id":133030124,"body_markdown":"If you currently have data stored in, say &quot;latin1&quot;, it needs to be converted somehow.  In MySQL, you must correctly state the &quot;character set&quot; (latin1 / utf8mb4 / etc) based on the _client_.  Then `INSERT` and `SELECT` will convert on the fly to the character set of the column in the table.","body":"If you currently have data stored in, say &quot;latin1&quot;, it needs to be converted somehow.  In MySQL, you must correctly state the &quot;character set&quot; (latin1 / utf8mb4 / etc) based on the <i>client</i>.  Then <code>INSERT</code> and <code>SELECT</code> will convert on the fly to the character set of the column in the table."},{"owner":{"account_id":12875245,"reputation":547,"user_id":9312181,"display_name":"tusharRawat"},"score":0,"creation_date":1676035818,"post_id":75369921,"comment_id":133061429,"body_markdown":"@RickJames Got it. Also if we want to show the static data to user in different languages, would it make sense to store them in DB. Can we keep that in app config files or maybe in Zookeeper, which one would be a better choice here.","body":"@RickJames Got it. Also if we want to show the static data to user in different languages, would it make sense to store them in DB. Can we keep that in app config files or maybe in Zookeeper, which one would be a better choice here."},{"owner":{"account_id":529143,"reputation":136619,"user_id":1766831,"display_name":"Rick James"},"score":0,"creation_date":1676057776,"post_id":75369921,"comment_id":133068058,"body_markdown":"MySQL&#39;s &quot;utf8mb4&quot; handles all known languages.  All major OSs and browsers handle &quot;UTF-8&quot;.  (Those two &quot;terms&quot; refer to the same encoding.)  I don&#39;t see config as being anything more than &quot;get it right, then forget about it.&quot;","body":"MySQL&#39;s &quot;utf8mb4&quot; handles all known languages.  All major OSs and browsers handle &quot;UTF-8&quot;.  (Those two &quot;terms&quot; refer to the same encoding.)  I don&#39;t see config as being anything more than &quot;get it right, then forget about it.&quot;"}],"owner":{"account_id":12875245,"reputation":547,"user_id":9312181,"display_name":"tusharRawat"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675765243,"creation_date":1675753758,"question_id":75369921,"body_markdown":"**Current functionality :**\r\n\r\n`/get/address/` :   get all saved address for a user\r\n\r\n`/update/address/{address_id}` : update existing address.\r\n\r\n`/search/address/{query}` : search the address in ElasticSearch based on the query.\r\n\r\nTech stack :-\r\n\r\n    MySQL         - to persist all addresses\r\n    ElasticSearch - to index addresses, so that we can search them fast.\r\n    Spring-boot.  - backend framework.\r\n\r\nCurrently we store everything in english language in **MySQL** and **ElasticSearch**.\r\n\r\n\r\nGoing ahead, we need to support the vernacular(multiple languages) addresses, in which user can save the address in multiple regional languages and search the address as well in the same regional language.\r\n\r\n\r\n\r\n&gt; What changes we need to do to at API or DB/ES level to incorporate\r\n&gt; this vernacular support in the APIs ?\r\n\r\n\r\n\r\n","title":"Providing vernacular support on saving &amp; retrieving entities in existing APIs","body":"<p><strong>Current functionality :</strong></p>\n<p><code>/get/address/</code> :   get all saved address for a user</p>\n<p><code>/update/address/{address_id}</code> : update existing address.</p>\n<p><code>/search/address/{query}</code> : search the address in ElasticSearch based on the query.</p>\n<p>Tech stack :-</p>\n<pre><code>MySQL         - to persist all addresses\nElasticSearch - to index addresses, so that we can search them fast.\nSpring-boot.  - backend framework.\n</code></pre>\n<p>Currently we store everything in english language in <strong>MySQL</strong> and <strong>ElasticSearch</strong>.</p>\n<p>Going ahead, we need to support the vernacular(multiple languages) addresses, in which user can save the address in multiple regional languages and search the address as well in the same regional language.</p>\n<blockquote>\n<p>What changes we need to do to at API or DB/ES level to incorporate\nthis vernacular support in the APIs ?</p>\n</blockquote>\n"},{"tags":["java","webrtc","opentok"],"comments":[{"owner":{"account_id":13618919,"reputation":148,"user_id":9824067,"display_name":"abdulajet"},"score":0,"creation_date":1675768797,"post_id":75371968,"comment_id":132995601,"body_markdown":"You need to have a publisher to share a video file into a session. Server components cannot act as publishers on Opentok, but you can use the Linux SDK on a server to achieve this.\n\nHere is a JS implementation if you would like to use the browser: https://github.com/opentok/opentok-web-samples/tree/main/Publish-Video\n\nIt is worth noting that publishing this video will incur costs on your side so it will be cheaper (and easier) to simulate a call and use the built-in video player on your platform of choice to play the video","body":"You need to have a publisher to share a video file into a session. Server components cannot act as publishers on Opentok, but you can use the Linux SDK on a server to achieve this.  Here is a JS implementation if you would like to use the browser: <a href=\"https://github.com/opentok/opentok-web-samples/tree/main/Publish-Video\" rel=\"nofollow noreferrer\">github.com/opentok/opentok-web-samples/tree/main/Publish-Vid&zwnj;&#8203;eo</a>  It is worth noting that publishing this video will incur costs on your side so it will be cheaper (and easier) to simulate a call and use the built-in video player on your platform of choice to play the video"},{"owner":{"account_id":27570478,"reputation":31,"user_id":21041776,"display_name":"Son Nguyen Duc"},"score":0,"creation_date":1675771835,"post_id":75371968,"comment_id":132996525,"body_markdown":"@abdulajet Thank, I have seen the example you sent, however there is 1 drawback. It&#39;s a video that doesn&#39;t auto play when i run the project\nI&#39;ve been looking for a way to deal with this but there doesn&#39;t seem to be a way. Is there any other alternative to Publish Video?","body":"@abdulajet Thank, I have seen the example you sent, however there is 1 drawback. It&#39;s a video that doesn&#39;t auto play when i run the project I&#39;ve been looking for a way to deal with this but there doesn&#39;t seem to be a way. Is there any other alternative to Publish Video?"},{"owner":{"account_id":13618919,"reputation":148,"user_id":9824067,"display_name":"abdulajet"},"score":0,"creation_date":1675787493,"post_id":75371968,"comment_id":133002154,"body_markdown":"which platform are you trying to autoplay on? web?","body":"which platform are you trying to autoplay on? web?"},{"owner":{"account_id":27570478,"reputation":31,"user_id":21041776,"display_name":"Son Nguyen Duc"},"score":0,"creation_date":1677745502,"post_id":75371968,"comment_id":133399414,"body_markdown":"No, I want play video in linux :((","body":"No, I want play video in linux :(("}],"owner":{"account_id":27570478,"reputation":31,"user_id":21041776,"display_name":"Son Nguyen Duc"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675765218,"creation_date":1675765218,"question_id":75371968,"body_markdown":"I&#39;m trying to create a function that instructs the user to use the App by having the user make a call with a video tutorial.\r\nVideo tutorials will be recorded in advance and stored in the directory: &quot;/opt/video-tutorial/Tutorial.mp4&quot;.\r\n\r\nHow can I do this using WebRTC? My server is written in Java, so is there a way to do this?","title":"How to video call between person and video use WebRTC?","body":"<p>I'm trying to create a function that instructs the user to use the App by having the user make a call with a video tutorial.\nVideo tutorials will be recorded in advance and stored in the directory: &quot;/opt/video-tutorial/Tutorial.mp4&quot;.</p>\n<p>How can I do this using WebRTC? My server is written in Java, so is there a way to do this?</p>\n"},{"tags":["java","spring","spring-batch"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1675764972,"post_id":75371401,"comment_id":132994322,"body_markdown":"Because Spring Batch is handling the exception, it doesn&#39;t propagate outside of Spring Batch. Which is also what the log you are adding is telling you (see the last 3 lines). Based on that exception Spring Batch will mark your job as failed with a message/cause).","body":"Because Spring Batch is handling the exception, it doesn&#39;t propagate outside of Spring Batch. Which is also what the log you are adding is telling you (see the last 3 lines). Based on that exception Spring Batch will mark your job as failed with a message/cause)."},{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":1,"creation_date":1675765084,"post_id":75371401,"comment_id":132994362,"body_markdown":"I second what @M.Deinum said, and I was writing an answer along those lines with an example.","body":"I second what @M.Deinum said, and I was writing an answer along those lines with an example."}],"answers":[{"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675765023,"creation_date":1675765023,"answer_id":75371936,"question_id":75371401,"body_markdown":"When an exception is thrown in one of the steps of your job, it is not thrown to the client of your job. It is rather saved in the `failureExceptions` of the `JobExecution`.\r\n\r\nIn your case, you need to get a handle to the job execution returned by `jobLauncherTestUtils` and assert that the execption is part of `JobExecution#failureExceptions`. Here is a quick example:\r\n\r\n```\r\n@Test\r\nvoid testJobThrowsMyException() throws Exception {\r\n   // given\r\n   JobParameters emptyJobParameters = new JobParameters();\r\n\r\n   // when\r\n   JobExecution jobExecution = jobLauncherTestUtils.launchJob(emptyJobParameters);\r\n\r\n   // then\r\n   assert that jobExecution.failureExceptions contains an IllegalStateException\r\n}\r\n```","title":"assertThrows fails in Spring Batch with Tasklet","body":"<p>When an exception is thrown in one of the steps of your job, it is not thrown to the client of your job. It is rather saved in the <code>failureExceptions</code> of the <code>JobExecution</code>.</p>\n<p>In your case, you need to get a handle to the job execution returned by <code>jobLauncherTestUtils</code> and assert that the execption is part of <code>JobExecution#failureExceptions</code>. Here is a quick example:</p>\n<pre><code>@Test\nvoid testJobThrowsMyException() throws Exception {\n   // given\n   JobParameters emptyJobParameters = new JobParameters();\n\n   // when\n   JobExecution jobExecution = jobLauncherTestUtils.launchJob(emptyJobParameters);\n\n   // then\n   assert that jobExecution.failureExceptions contains an IllegalStateException\n}\n</code></pre>\n"}],"owner":{"account_id":15738788,"reputation":304,"user_id":11356914,"display_name":"Manu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675765023,"creation_date":1675762574,"question_id":75371401,"body_markdown":"I&#39;m throwing an IllegalStateException in a `Tasklet`&#39;s `execute()` method based on a condition and I am trying to test my Batch-Job like so:\r\n\r\n```java\r\n@Test\r\nvoid testJobThrowsMyException() throws Exception {\r\n        JobParameters emptyJobParameters = new JobParameters();\r\n\r\n        assertThrows(IllegalStateException.class, () -&gt; jobLauncherTestUtils.launchJob(emptyJobParameters));\r\n}\r\n```\r\n\r\nHere&#39;s the execute method:\r\n\r\n```java\r\n@Override\r\npublic RepeatStatus execute(StepContribution contribution, ChunkContext chunkContext) {\r\n        getWorkload(chunkContext).forEach(workloadItem -&gt; {\r\n            // Processing \r\n        });\r\n\r\n        return RepeatStatus.FINISHED;\r\n    }\r\n```\r\n\r\nAnd this is basically how it gets the workload:\r\n\r\n```java\r\nprivate int getWorkload() {\r\n        if (condition) {\r\n            throw new IllegalStateException(&quot;Thats the exception i want to test&quot;);\r\n        }\r\n        \r\n        return workload;\r\n    }\r\n```\r\n\r\nThe problem is, based on the logs of the test execution, the exception is thrown, but the test fails with the following message:\r\n\r\n`org.opentest4j.AssertionFailedError: Expected java.lang.IllegalStateException to be thrown, but nothing was thrown.`\r\n\r\nBut as already said the logs clearly state that the exception was thrown:\r\n\r\n```\r\n10:32:54.608 [main] DEBUG org.hibernate.loader.Loader - Result row: \r\n10:32:54.616 [main] DEBUG org.springframework.batch.core.step.tasklet.TaskletStep - Applying contribution: [StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING]\r\n10:32:54.616 [main] DEBUG org.springframework.batch.core.step.tasklet.TaskletStep - Rollback for RuntimeException: java.lang.IllegalStateException: Es ist noch keine Liefernummer in den ImportDetails vorhanden.\r\n10:32:54.618 [main] DEBUG org.springframework.transaction.support.TransactionTemplate - Initiating transaction rollback on application exception\r\njava.lang.IllegalStateException: Thats the exception i want to test\r\nat [...]\r\n10:32:54.619 [main] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction rollback\r\n10:32:54.619 [main] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Rolling back JPA transaction on EntityManager [SessionImpl(1793816221&lt;open&gt;)]\r\n10:32:54.619 [main] DEBUG org.hibernate.engine.transaction.internal.TransactionImpl - rolling back\r\n10:32:54.620 [main] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1793816221&lt;open&gt;)] after transaction\r\n10:32:54.621 [main] DEBUG org.springframework.batch.repeat.support.RepeatTemplate - Handling exception: java.lang.IllegalStateException, caused by: java.lang.IllegalStateException: Es ist noch keine Liefernummer in den ImportDetails vorhanden.\r\n10:32:54.621 [main] DEBUG org.springframework.batch.repeat.support.RepeatTemplate - Handling fatal exception explicitly (rethrowing first of 1): java.lang.IllegalStateException: Es ist noch keine Liefernummer in den ImportDetails vorhanden.\r\n10:32:54.622 [main] ERROR org.springframework.batch.core.step.AbstractStep - Encountered an error executing step my-step in job my-job\r\n```\r\n\r\nAnd im not catching this exception, so why does the test fail, could anyone please explain?\r\n\r\nBest regards","title":"assertThrows fails in Spring Batch with Tasklet","body":"<p>I'm throwing an IllegalStateException in a <code>Tasklet</code>'s <code>execute()</code> method based on a condition and I am trying to test my Batch-Job like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\nvoid testJobThrowsMyException() throws Exception {\n        JobParameters emptyJobParameters = new JobParameters();\n\n        assertThrows(IllegalStateException.class, () -&gt; jobLauncherTestUtils.launchJob(emptyJobParameters));\n}\n</code></pre>\n<p>Here's the execute method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic RepeatStatus execute(StepContribution contribution, ChunkContext chunkContext) {\n        getWorkload(chunkContext).forEach(workloadItem -&gt; {\n            // Processing \n        });\n\n        return RepeatStatus.FINISHED;\n    }\n</code></pre>\n<p>And this is basically how it gets the workload:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private int getWorkload() {\n        if (condition) {\n            throw new IllegalStateException(&quot;Thats the exception i want to test&quot;);\n        }\n        \n        return workload;\n    }\n</code></pre>\n<p>The problem is, based on the logs of the test execution, the exception is thrown, but the test fails with the following message:</p>\n<p><code>org.opentest4j.AssertionFailedError: Expected java.lang.IllegalStateException to be thrown, but nothing was thrown.</code></p>\n<p>But as already said the logs clearly state that the exception was thrown:</p>\n<pre><code>10:32:54.608 [main] DEBUG org.hibernate.loader.Loader - Result row: \n10:32:54.616 [main] DEBUG org.springframework.batch.core.step.tasklet.TaskletStep - Applying contribution: [StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING]\n10:32:54.616 [main] DEBUG org.springframework.batch.core.step.tasklet.TaskletStep - Rollback for RuntimeException: java.lang.IllegalStateException: Es ist noch keine Liefernummer in den ImportDetails vorhanden.\n10:32:54.618 [main] DEBUG org.springframework.transaction.support.TransactionTemplate - Initiating transaction rollback on application exception\njava.lang.IllegalStateException: Thats the exception i want to test\nat [...]\n10:32:54.619 [main] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction rollback\n10:32:54.619 [main] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Rolling back JPA transaction on EntityManager [SessionImpl(1793816221&lt;open&gt;)]\n10:32:54.619 [main] DEBUG org.hibernate.engine.transaction.internal.TransactionImpl - rolling back\n10:32:54.620 [main] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1793816221&lt;open&gt;)] after transaction\n10:32:54.621 [main] DEBUG org.springframework.batch.repeat.support.RepeatTemplate - Handling exception: java.lang.IllegalStateException, caused by: java.lang.IllegalStateException: Es ist noch keine Liefernummer in den ImportDetails vorhanden.\n10:32:54.621 [main] DEBUG org.springframework.batch.repeat.support.RepeatTemplate - Handling fatal exception explicitly (rethrowing first of 1): java.lang.IllegalStateException: Es ist noch keine Liefernummer in den ImportDetails vorhanden.\n10:32:54.622 [main] ERROR org.springframework.batch.core.step.AbstractStep - Encountered an error executing step my-step in job my-job\n</code></pre>\n<p>And im not catching this exception, so why does the test fail, could anyone please explain?</p>\n<p>Best regards</p>\n"},{"tags":["java","opencv","image-processing","contour","robotics"],"answers":[{"tags":[],"owner":{"account_id":4142240,"reputation":30761,"user_id":4926757,"accept_rate":0,"display_name":"Rotem"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675764999,"creation_date":1675764999,"answer_id":75371933,"question_id":75367988,"body_markdown":"In the first iteration of the loop, `biggestContour` is created using default constructor, and has the wrong OpenCV depth.  \r\n\r\nThe following code creates `MatOfPoint` object with default constructor:   \r\n\r\n    MatOfPoint biggestContour = new MatOfPoint();\r\n\r\nIn the first iteration, the following code computes `contourArea` over the &quot;new&quot; `MatOfPoint`:  \r\n\r\n    if (Imgproc.contourArea(curContour) &gt; Imgproc.contourArea(biggestContour)\r\n\r\nThe result is the error &quot;OpenCV Assertion failed... &amp;&amp; (depth == CV_32F || depth == CV_32S)&quot;  \r\nThe reason for getting the specific assertion is because the depth of the &quot;new&quot; `MatOfPoint` is `CV_8UC1` (not `CV_32F` and not `CV_32S`).  \r\n\r\n---\r\n\r\nSuggested solution:  \r\nInitialize `biggestContour` to the first contour in the list:  \r\n\r\n    MatOfPoint biggestContour = contours.get(0); //new MatOfPoint();\r\n    \r\n    for (MatOfPoint curContour : contours) {\r\n        if (Imgproc.contourArea(curContour) &gt; Imgproc.contourArea(biggestContour)) {\r\n            biggestContour = curContour;\r\n        }\r\n    }        \r\n\r\n---\r\n\r\nIt is also a good practice to verify that `contours` is not empty:  \r\n\r\n\tif (!contours.isEmpty())\r\n\t{\r\n\t\tMatOfPoint biggestContour = contours.get(0);//new MatOfPoint();\r\n\t\t\r\n\t\tfor (MatOfPoint curContour : contours) {\r\n\t\t\tif (Imgproc.contourArea(curContour) &gt; Imgproc.contourArea(biggestContour)) {\r\n\t\t\t\tbiggestContour = curContour;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n","title":"Java error &quot;OpenCV Assertion failed: (-215:Assertion failed) npoints &gt;= 0 &amp;&amp; (depth == CV_32F || depth == CV_32S)&quot;","body":"<p>In the first iteration of the loop, <code>biggestContour</code> is created using default constructor, and has the wrong OpenCV depth.</p>\n<p>The following code creates <code>MatOfPoint</code> object with default constructor:</p>\n<pre><code>MatOfPoint biggestContour = new MatOfPoint();\n</code></pre>\n<p>In the first iteration, the following code computes <code>contourArea</code> over the &quot;new&quot; <code>MatOfPoint</code>:</p>\n<pre><code>if (Imgproc.contourArea(curContour) &gt; Imgproc.contourArea(biggestContour)\n</code></pre>\n<p>The result is the error &quot;OpenCV Assertion failed... &amp;&amp; (depth == CV_32F || depth == CV_32S)&quot;<br />\nThe reason for getting the specific assertion is because the depth of the &quot;new&quot; <code>MatOfPoint</code> is <code>CV_8UC1</code> (not <code>CV_32F</code> and not <code>CV_32S</code>).</p>\n<hr />\n<p>Suggested solution:<br />\nInitialize <code>biggestContour</code> to the first contour in the list:</p>\n<pre><code>MatOfPoint biggestContour = contours.get(0); //new MatOfPoint();\n\nfor (MatOfPoint curContour : contours) {\n    if (Imgproc.contourArea(curContour) &gt; Imgproc.contourArea(biggestContour)) {\n        biggestContour = curContour;\n    }\n}        \n</code></pre>\n<hr />\n<p>It is also a good practice to verify that <code>contours</code> is not empty:</p>\n<pre><code>if (!contours.isEmpty())\n{\n    MatOfPoint biggestContour = contours.get(0);//new MatOfPoint();\n    \n    for (MatOfPoint curContour : contours) {\n        if (Imgproc.contourArea(curContour) &gt; Imgproc.contourArea(biggestContour)) {\n            biggestContour = curContour;\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":15796183,"reputation":125,"user_id":12240158,"display_name":"technicguy1"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75371933,"answer_count":1,"score":1,"last_activity_date":1675764999,"creation_date":1675731261,"question_id":75367988,"body_markdown":"When I try to run this openCV code on an FTC robot:\r\n\r\n```\r\n        List&lt;MatOfPoint&gt; contours = new ArrayList&lt;&gt;();\r\n        Imgproc.findContours(thresholded, contours, new Mat(), Imgproc.RETR_EXTERNAL, Imgproc.CHAIN_APPROX_SIMPLE);\r\n        contoursAttr = contours;\r\n\r\n        MatOfPoint biggestContour = new MatOfPoint();\r\n\r\n        for (MatOfPoint curContour : contours) {\r\n            if (Imgproc.contourArea(curContour) &gt; Imgproc.contourArea(biggestContour)) {\r\n                biggestContour = curContour;\r\n            }\r\n        }\r\n```\r\nI get the error in the title, namely &quot;OpenCV Assertion failed: (-215:Assertion failed) npoints &gt;= 0 &amp;&amp; (depth == CV_32F || depth == CV_32S)&quot;. I&#39;ve seen other answers for this question, but they almost all talk about signatures changing across versions, and are somewhat python-specific. However, given that ```contours``` is a ```List&lt;MatOfPoint&gt;```, I feel like this should work??\r\n\r\nThanks.","title":"Java error &quot;OpenCV Assertion failed: (-215:Assertion failed) npoints &gt;= 0 &amp;&amp; (depth == CV_32F || depth == CV_32S)&quot;","body":"<p>When I try to run this openCV code on an FTC robot:</p>\n<pre><code>        List&lt;MatOfPoint&gt; contours = new ArrayList&lt;&gt;();\n        Imgproc.findContours(thresholded, contours, new Mat(), Imgproc.RETR_EXTERNAL, Imgproc.CHAIN_APPROX_SIMPLE);\n        contoursAttr = contours;\n\n        MatOfPoint biggestContour = new MatOfPoint();\n\n        for (MatOfPoint curContour : contours) {\n            if (Imgproc.contourArea(curContour) &gt; Imgproc.contourArea(biggestContour)) {\n                biggestContour = curContour;\n            }\n        }\n</code></pre>\n<p>I get the error in the title, namely &quot;OpenCV Assertion failed: (-215:Assertion failed) npoints &gt;= 0 &amp;&amp; (depth == CV_32F || depth == CV_32S)&quot;. I've seen other answers for this question, but they almost all talk about signatures changing across versions, and are somewhat python-specific. However, given that <code>contours</code> is a <code>List&lt;MatOfPoint&gt;</code>, I feel like this should work??</p>\n<p>Thanks.</p>\n"},{"tags":["java","html","date","web-scraping","jsoup"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1675693011,"post_id":75362473,"comment_id":132977975,"body_markdown":"Why would you do that rather than get it directly via code?","body":"Why would you do that rather than get it directly via code?"},{"owner":{"account_id":12635372,"reputation":295,"user_id":9185021,"display_name":"Mixalis Navridis"},"score":0,"creation_date":1675693351,"post_id":75362473,"comment_id":132978082,"body_markdown":"Because i have many nodes and i want to synchronize them for example someone in greece someone in germany thats why and clocks of machines maybe differ","body":"Because i have many nodes and i want to synchronize them for example someone in greece someone in germany thats why and clocks of machines maybe differ"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":3,"creation_date":1675693804,"post_id":75362473,"comment_id":132978260,"body_markdown":"Even if that&#39;s the case, scraping a site is way inferior to making a request to a time server directly","body":"Even if that&#39;s the case, scraping a site is way inferior to making a request to a time server directly"},{"owner":{"account_id":12635372,"reputation":295,"user_id":9185021,"display_name":"Mixalis Navridis"},"score":0,"creation_date":1675693915,"post_id":75362473,"comment_id":132978292,"body_markdown":"i just want to synchronize the whole clients and this is the easiest way that i find. if you have something else on your mind please feel free to post it in comment","body":"i just want to synchronize the whole clients and this is the easiest way that i find. if you have something else on your mind please feel free to post it in comment"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1675694202,"post_id":75362473,"comment_id":132978372,"body_markdown":"Have a look at time.google.com. And [this](https://stackoverflow.com/questions/4442192/how-to-use-an-internet-time-server-to-get-the-time)","body":"Have a look at time.google.com. And <a href=\"https://stackoverflow.com/questions/4442192/how-to-use-an-internet-time-server-to-get-the-time\">this</a>"},{"owner":{"account_id":12635372,"reputation":295,"user_id":9185021,"display_name":"Mixalis Navridis"},"score":0,"creation_date":1675699261,"post_id":75362473,"comment_id":132980248,"body_markdown":"i am still having issues i use NTPUDPClient and still get inconsistencies between different machines cant to synchronize them any help timestamp is different","body":"i am still having issues i use NTPUDPClient and still get inconsistencies between different machines cant to synchronize them any help timestamp is different"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1675700740,"post_id":75362473,"comment_id":132980747,"body_markdown":"Are you using the `long` value?","body":"Are you using the <code>long</code> value?"},{"owner":{"account_id":12635372,"reputation":295,"user_id":9185021,"display_name":"Mixalis Navridis"},"score":0,"creation_date":1675700791,"post_id":75362473,"comment_id":132980763,"body_markdown":"long returnTime = timeInfo.getReturnTime();","body":"long returnTime = timeInfo.getReturnTime();"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1675702567,"post_id":75362473,"comment_id":132981378,"body_markdown":"Of what nature are the &quot;inconsistencies&quot;?","body":"Of what nature are the &quot;inconsistencies&quot;?"},{"owner":{"account_id":12635372,"reputation":295,"user_id":9185021,"display_name":"Mixalis Navridis"},"score":0,"creation_date":1675705870,"post_id":75362473,"comment_id":132982329,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/251652/discussion-between-mixalis-navridis-and-g00se).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/251652/discussion-between-mixalis-navridis-and-g00se\">continue this discussion in chat</a>."}],"owner":{"account_id":12635372,"reputation":295,"user_id":9185021,"display_name":"Mixalis Navridis"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675764924,"creation_date":1675692876,"question_id":75362473,"body_markdown":"I am trying to extract the Current Unix epoch time in milliseconds from this [website][1] but I failed. Here is my code\r\n\r\n\r\n    Document document = Jsoup.connect(&quot;https://www.freeformatter.com/epoch-timestamp-to-date-converter.html&quot;).get();\r\n    String content = document.getElementById(&quot;epochMs&quot;).text();\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://www.freeformatter.com/epoch-timestamp-to-date-converter.html\r\n  [2]: https://i.stack.imgur.com/oJYcq.png\r\n\r\nFor some reason, the content is empty. Maybe I need to click on the href link first to stop the running timer? Any idea how to get the timestamp?","title":"Extract UTC time with jsoup by id","body":"<p>I am trying to extract the Current Unix epoch time in milliseconds from this <a href=\"https://www.freeformatter.com/epoch-timestamp-to-date-converter.html\" rel=\"nofollow noreferrer\">website</a> but I failed. Here is my code</p>\n<pre><code>Document document = Jsoup.connect(&quot;https://www.freeformatter.com/epoch-timestamp-to-date-converter.html&quot;).get();\nString content = document.getElementById(&quot;epochMs&quot;).text();\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/oJYcq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oJYcq.png\" alt=\"enter image description here\" /></a></p>\n<p>For some reason, the content is empty. Maybe I need to click on the href link first to stop the running timer? Any idea how to get the timestamp?</p>\n"},{"tags":["java","android","android-recyclerview","refresh","android-tablayout"],"answers":[{"tags":[],"owner":{"account_id":11628564,"reputation":350,"user_id":8517590,"display_name":"Rem"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675764733,"creation_date":1675764733,"answer_id":75371878,"question_id":72706185,"body_markdown":"For future use, If you are switching between Fragments within the same activity, you can do as follows:\r\n\r\nIn your `onStop()/onDestroyView()/onPause()` whatever callback is more appropriate, do this:\r\n\r\n```java\r\nstatic Parcelable recyclerViewState;\r\n\r\n@Override\r\npublic void onPause() // or onStop or onDestroyView\r\n{\r\n    recylerViewState = recyclerView.getLayoutManager().onSaveInstanceState();\r\n}\r\n```\r\n\r\nAnd In your `onStart()/onCreateView()/onResume()` whatever callback is more appropriate, do this:\r\n\r\n```java\r\n@Override\r\npublic void onResume() // or onStart or onCreateView\r\n{\r\n    recyclerView.getLayoutManager().onRestoreInstanceState(recylerViewState);\r\n}\r\n```\r\n\r\nThis way you can successfully keep your recyclerView&#39;s state in a parcelable and restore it whenever you want.\r\n\r\nDon&#39;t forget to add:\r\n```java\r\n@Override\r\npublic void onDestroy()\r\n{\r\n    recylerViewState = null;\r\n}\r\n```","title":"RecyclerView doesn&#39;t show updated list on Viewpager2 tab change","body":"<p>For future use, If you are switching between Fragments within the same activity, you can do as follows:</p>\n<p>In your <code>onStop()/onDestroyView()/onPause()</code> whatever callback is more appropriate, do this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>static Parcelable recyclerViewState;\n\n@Override\npublic void onPause() // or onStop or onDestroyView\n{\n    recylerViewState = recyclerView.getLayoutManager().onSaveInstanceState();\n}\n</code></pre>\n<p>And In your <code>onStart()/onCreateView()/onResume()</code> whatever callback is more appropriate, do this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic void onResume() // or onStart or onCreateView\n{\n    recyclerView.getLayoutManager().onRestoreInstanceState(recylerViewState);\n}\n</code></pre>\n<p>This way you can successfully keep your recyclerView's state in a parcelable and restore it whenever you want.</p>\n<p>Don't forget to add:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic void onDestroy()\n{\n    recylerViewState = null;\n}\n</code></pre>\n"}],"owner":{"account_id":5888596,"reputation":2185,"user_id":4635851,"accept_rate":74,"display_name":"Shahid Thaika"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":347,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675764733,"creation_date":1655839725,"question_id":72706185,"body_markdown":"In my android app, I am using a TabLayout and ViewPager2 to show different categories of lists using RecyclerView. When I do additions and deletions and then call `notifyDataSetChanged`, the list changes while I am still on the current tab. However, when I select another tab and return, the list shows the original items that were initialised while creating the fragment.\r\n\r\nIn the `createFragment` function of the `FragmentStateAdapter` adapter class, I initialise a fragment with the starting data item arraylist as follows.\r\n\r\n    public class DataListAdapter extends FragmentStateAdapter {\r\n        private DataListFragment[] fragments;\r\n    \r\n        //\r\n        // other code\r\n        //\r\n    \r\n        @Override\r\n        public Fragment createFragment(int position) {\r\n            ArrayList&lt;DataItem&gt; dataItems;\r\n    \r\n            //The actual code returns a different data item based on conditions\r\n            dataItems = dbAdapter.getDataItems();\r\n    \r\n            DataListFragment frag = new DataListFragment(dataItems);\r\n    \r\n            fragments[position] = frag;\r\n    \r\n            return frag;\r\n        }\r\n    }\r\n\r\nIn the DataListFragment I have...\r\n\r\n    DataListFragment(ArrayList&lt;DataItem&gt; dataItems) {\r\n        this.dataItems.addAll(dataItems);\r\n    }\r\n\r\nIn order to ensure I have the latest ArrayList when a tab is selected, I wrote the following code in my activity...\r\n\r\n    dlBinding.tabs.addOnTabSelectedListener(new TabLayout.OnTabSelectedListener() {\r\n    \t@Override\r\n    \tpublic void onTabSelected(TabLayout.Tab tab) {\r\n    \t\tdlAdapter.refreshFragmentDataItems(tab.getPosition());\r\n    \t}\r\n    });\r\n\r\nRelevant code from adapter:\r\n\r\n    public void refreshFragmentDataItems(int position) {\r\n        ArrayList&lt;DataItem&gt; dataItems;\r\n\r\n\t\tdataItems = dbAdapter.getRecentDataItems(null);\r\n\r\n        fragments[position].setDataItems(dataItems);\r\n    }\r\n\r\nAnd finally the `setDataItems()` code from the Fragment class:\r\n\r\n    public void setDataItems(ArrayList&lt;DataItem&gt; dataItems) {\r\n        this.dataItems.clear();\r\n        this.dataItems.addAll(dataItems);\r\n        recyclerAdapter.notifyDataSetChanged();\r\n    }\r\n\r\n\r\nWhen I debug the code, even without executing the `refreshFragmentDataItems()` function, I noticed that the `fragments[position].dataItems` variable had the most recent list of items after factoring in any additions and removal of items from the ArrayList.\r\n\r\nNevertheless it continues to display the original list. I tried to move the notifyDataSetChanged() call around to no avail. In some cases it was going into a forever loop.\r\n\r\n\r\nWould appreciate any inputs in figuring out why the list in my recycler views are not updating when I select another tab.\r\n\r\n\r\n**EDIT:** On further diagnosis, I found the issue is caused due to the search feature.\r\n\r\nI have a QueryTextListener, and commenting out the code in OnQueryTextChange fixes the problem.\r\n\r\n            searchView.setOnQueryTextListener(new SearchView.OnQueryTextListener() {\r\n                @Override\r\n                public boolean onQueryTextSubmit(String query) {\r\n                    InputMethodManager inm = (InputMethodManager) getSystemService(Context.INPUT_METHOD_SERVICE);\r\n                    inm.hideSoftInputFromWindow(searchView.getWindowToken(), 0);\r\n                    dlAdapter.getFragment(dlBinding.tabs.getSelectedTabPosition()).filterAdapter(query);\r\n                    return true;\r\n                }\r\n\r\n                @Override\r\n                public boolean onQueryTextChange(String newText) {\r\n                    //comment below line to fix issue                    \r\ndlAdapter.getFragment(dlBinding.tabs.getSelectedTabPosition()).filterAdapter(newText);\r\n                    return true;\r\n                }\r\n            });\r\n\r\nThis is the function that filters the RecyclerView adapter.\r\n\r\n    public void filterAdapter(String query) {\r\n        recyclerAdapter.getFilter().filter(query);\r\n    }\r\n\r\nWhen I debug all the steps in the above two functions, the item count in the watch pane reflects the actual count, but when the debugging steps are finished, it still shows an earlier deleted item.","title":"RecyclerView doesn&#39;t show updated list on Viewpager2 tab change","body":"<p>In my android app, I am using a TabLayout and ViewPager2 to show different categories of lists using RecyclerView. When I do additions and deletions and then call <code>notifyDataSetChanged</code>, the list changes while I am still on the current tab. However, when I select another tab and return, the list shows the original items that were initialised while creating the fragment.</p>\n<p>In the <code>createFragment</code> function of the <code>FragmentStateAdapter</code> adapter class, I initialise a fragment with the starting data item arraylist as follows.</p>\n<pre><code>public class DataListAdapter extends FragmentStateAdapter {\n    private DataListFragment[] fragments;\n\n    //\n    // other code\n    //\n\n    @Override\n    public Fragment createFragment(int position) {\n        ArrayList&lt;DataItem&gt; dataItems;\n\n        //The actual code returns a different data item based on conditions\n        dataItems = dbAdapter.getDataItems();\n\n        DataListFragment frag = new DataListFragment(dataItems);\n\n        fragments[position] = frag;\n\n        return frag;\n    }\n}\n</code></pre>\n<p>In the DataListFragment I have...</p>\n<pre><code>DataListFragment(ArrayList&lt;DataItem&gt; dataItems) {\n    this.dataItems.addAll(dataItems);\n}\n</code></pre>\n<p>In order to ensure I have the latest ArrayList when a tab is selected, I wrote the following code in my activity...</p>\n<pre><code>dlBinding.tabs.addOnTabSelectedListener(new TabLayout.OnTabSelectedListener() {\n    @Override\n    public void onTabSelected(TabLayout.Tab tab) {\n        dlAdapter.refreshFragmentDataItems(tab.getPosition());\n    }\n});\n</code></pre>\n<p>Relevant code from adapter:</p>\n<pre><code>public void refreshFragmentDataItems(int position) {\n    ArrayList&lt;DataItem&gt; dataItems;\n\n    dataItems = dbAdapter.getRecentDataItems(null);\n\n    fragments[position].setDataItems(dataItems);\n}\n</code></pre>\n<p>And finally the <code>setDataItems()</code> code from the Fragment class:</p>\n<pre><code>public void setDataItems(ArrayList&lt;DataItem&gt; dataItems) {\n    this.dataItems.clear();\n    this.dataItems.addAll(dataItems);\n    recyclerAdapter.notifyDataSetChanged();\n}\n</code></pre>\n<p>When I debug the code, even without executing the <code>refreshFragmentDataItems()</code> function, I noticed that the <code>fragments[position].dataItems</code> variable had the most recent list of items after factoring in any additions and removal of items from the ArrayList.</p>\n<p>Nevertheless it continues to display the original list. I tried to move the notifyDataSetChanged() call around to no avail. In some cases it was going into a forever loop.</p>\n<p>Would appreciate any inputs in figuring out why the list in my recycler views are not updating when I select another tab.</p>\n<p><strong>EDIT:</strong> On further diagnosis, I found the issue is caused due to the search feature.</p>\n<p>I have a QueryTextListener, and commenting out the code in OnQueryTextChange fixes the problem.</p>\n<pre><code>        searchView.setOnQueryTextListener(new SearchView.OnQueryTextListener() {\n            @Override\n            public boolean onQueryTextSubmit(String query) {\n                InputMethodManager inm = (InputMethodManager) getSystemService(Context.INPUT_METHOD_SERVICE);\n                inm.hideSoftInputFromWindow(searchView.getWindowToken(), 0);\n                dlAdapter.getFragment(dlBinding.tabs.getSelectedTabPosition()).filterAdapter(query);\n                return true;\n            }\n\n            @Override\n            public boolean onQueryTextChange(String newText) {\n                //comment below line to fix issue                    \n</code></pre>\n<p>dlAdapter.getFragment(dlBinding.tabs.getSelectedTabPosition()).filterAdapter(newText);\nreturn true;\n}\n});</p>\n<p>This is the function that filters the RecyclerView adapter.</p>\n<pre><code>public void filterAdapter(String query) {\n    recyclerAdapter.getFilter().filter(query);\n}\n</code></pre>\n<p>When I debug all the steps in the above two functions, the item count in the watch pane reflects the actual count, but when the debugging steps are finished, it still shows an earlier deleted item.</p>\n"},{"tags":["java","php","android","json","android-volley"],"answers":[{"comments":[{"owner":{"account_id":15882942,"reputation":215,"user_id":11460211,"display_name":"Nilesh Singh Dahiya"},"score":0,"creation_date":1675793961,"post_id":75371831,"comment_id":133004052,"body_markdown":"although this is not what i actually want but this answer clears me that in which snippets i have to look at. thanks for your reply","body":"although this is not what i actually want but this answer clears me that in which snippets i have to look at. thanks for your reply"}],"tags":[],"owner":{"account_id":18301803,"reputation":159,"user_id":13326424,"display_name":"Prasanth John"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675764505,"creation_date":1675764505,"answer_id":75371831,"question_id":75370205,"body_markdown":"You can try this\r\n\r\n     try {\r\n        JSONObject jsonObject = new JSONObject(response);\r\n        JSONArray jsonArray = jsonObject.getJSONArray(&quot;result&quot;);\r\n\r\n        for (int i = 0; i &lt; jsonArray.length(); i++) {\r\n        JSONObject jsonObject2 = jsonArray.getJSONObject(i);\r\n        // do something\r\n        Toast.makeText(context, jsonObject2.getString(&quot;active&quot;), Toast.LENGTH_SHORT).show();\r\n        }\r\n    } catch (JSONException e) {\r\n                            e.printStackTrace();\r\n                        }","title":"org.json.JSONException: Value Error of type java.lang.String cannot be converted to JSONObject","body":"<p>You can try this</p>\n<pre><code> try {\n    JSONObject jsonObject = new JSONObject(response);\n    JSONArray jsonArray = jsonObject.getJSONArray(&quot;result&quot;);\n\n    for (int i = 0; i &lt; jsonArray.length(); i++) {\n    JSONObject jsonObject2 = jsonArray.getJSONObject(i);\n    // do something\n    Toast.makeText(context, jsonObject2.getString(&quot;active&quot;), Toast.LENGTH_SHORT).show();\n    }\n} catch (JSONException e) {\n                        e.printStackTrace();\n                    }\n</code></pre>\n"}],"owner":{"account_id":15882942,"reputation":215,"user_id":11460211,"display_name":"Nilesh Singh Dahiya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":243,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675764505,"creation_date":1675755658,"question_id":75370205,"body_markdown":"i am webscrapping a website for education only and trying to show returned JsonResponse but while app runs, it throws an error ***org.json.JSONException: Value Error of type java.lang.String cannot be converted to JSONObject***. i found several questions similar to this but i didn&#39;t got any useful answer and they also contains incomplete inforrmation about problem.\r\nfollowing are codes that might a cause for this error. i hope that this thread will also help others because i am trying to give more information regarding to this problem.\r\n\r\n**MainActivity.java** \r\n\r\n  \r\n\r\n    private void apicall() {\r\n    \r\n    \r\n            RequestQueue requestQueue = Volley.newRequestQueue(getApplicationContext());\r\n    \r\n            final StringRequest postRequest = new StringRequest(Request.Method.POST, url,\r\n                    new Response.Listener&lt;String&gt;() {\r\n                        @Override\r\n                        public void onResponse(String response) {\r\n                            try {\r\n    \r\n                                JSONObject jsonObject1 = new JSONObject(response);\r\n    \r\n    \r\n                                if (jsonObject1.getString(&quot;active&quot;).equals(&quot;0&quot;)) {\r\n                                    Toast.makeText(MainActivity.this, &quot;Your account temporarily disabled by admin&quot;, Toast.LENGTH_SHORT).show();\r\n    \r\n                                    preferences.edit().clear().apply();\r\n                                    Intent in = new Intent(getApplicationContext(), login.class);\r\n                                    in.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP | Intent.FLAG_ACTIVITY_NEW_TASK);\r\n                                    in.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n                                    startActivity(in);\r\n                                    finish();\r\n                                }\r\n    \r\n                                if (!jsonObject1.getString(&quot;session&quot;).equals(getSharedPreferences(constant.prefs, MODE_PRIVATE).getString(&quot;session&quot;, null))) {\r\n                                    Toast.makeText(MainActivity.this, &quot;Session expired ! Please login again&quot;, Toast.LENGTH_SHORT).show();\r\n    \r\n                                    preferences.edit().clear().apply();\r\n                                    Intent in = new Intent(getApplicationContext(), login.class);\r\n                                    in.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP | Intent.FLAG_ACTIVITY_NEW_TASK);\r\n                                    in.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n                                    startActivity(in);\r\n                                    finish();\r\n                                }\r\n    \r\n                                balance.setText(jsonObject1.getString(&quot;wallet&quot;));\r\n    \r\n                                if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {\r\n                                    hometext.setText(Html.fromHtml(jsonObject1.getString(&quot;homeline&quot;), Html.FROM_HTML_MODE_COMPACT));\r\n                                } else {\r\n                                    hometext.setText(Html.fromHtml(jsonObject1.getString(&quot;homeline&quot;)));\r\n                                }\r\n    \r\n    \r\n    \r\n    \r\n                                ArrayList&lt;String&gt; name = new ArrayList&lt;&gt;();\r\n                                ArrayList&lt;String&gt; result = new ArrayList&lt;&gt;();\r\n    \r\n                                JSONArray jsonArray = jsonObject1.getJSONArray(&quot;result&quot;);\r\n                                for (int a = 0; a &lt; jsonArray.length(); a++){\r\n                                    JSONObject jsonObject = jsonArray.getJSONObject(a);\r\n    \r\n                                    name.add(jsonObject.getString(&quot;market&quot;));\r\n                                    result.add(jsonObject.getString(&quot;result&quot;));\r\n    \r\n                                }\r\n    \r\n    \r\n                                adapter_result rc = new adapter_result(MainActivity.this,name,result);\r\n                                recyclerview.setLayoutManager(new GridLayoutManager(MainActivity.this, 2));\r\n                                recyclerview.setAdapter(rc);\r\n                                rc.notifyDataSetChanged();\r\n    \r\n    \r\n                                SharedPreferences.Editor editor = preferences.edit();\r\n                                editor.putString(&quot;wallet&quot;, jsonObject1.getString(&quot;wallet&quot;)).apply();\r\n                                editor.putString(&quot;homeline&quot;, jsonObject1.getString(&quot;homeline&quot;)).apply();\r\n                                editor.putString(&quot;code&quot;, jsonObject1.getString(&quot;code&quot;)).apply();\r\n                                is_gateway = jsonObject1.getString(&quot;gateway&quot;);\r\n    \r\n    \r\n                            } catch (JSONException e) {\r\n                                e.printStackTrace();\r\n    \r\n    \r\n                                Toast.makeText(MainActivity.this,e.toString(), Toast.LENGTH_SHORT).show();\r\n                            }\r\n                        }\r\n                    },\r\n                    new Response.ErrorListener() {\r\n                        @Override\r\n                        public void onErrorResponse(VolleyError error) {\r\n    \r\n                            error.printStackTrace();\r\n    \r\n                            Toast.makeText(MainActivity.this, &quot;Check your internet connection&quot;, Toast.LENGTH_SHORT).show();\r\n                        }\r\n                    }\r\n            ) {\r\n                @Override\r\n                protected Map&lt;String, String&gt; getParams() {\r\n                    Map&lt;String, String&gt; params = new HashMap&lt;String, String&gt;();\r\n    \r\n                    params.put(&quot;mobile&quot;, preferences.getString(&quot;mobile&quot;, null));\r\n                    params.put(&quot;session&quot;,getSharedPreferences(constant.prefs, MODE_PRIVATE).getString(&quot;session&quot;, null));\r\n    \r\n                    return params;\r\n                }\r\n            };\r\n            postRequest.setRetryPolicy(new DefaultRetryPolicy(0, DefaultRetryPolicy.DEFAULT_MAX_RETRIES, DefaultRetryPolicy.DEFAULT_BACKOFF_MULT));\r\n            requestQueue.add(postRequest);\r\n        }\r\n\r\n**home.php**\r\n\r\n    &lt;?php\r\n    include &quot;../connection/config.php&quot;;\r\n    extract($_REQUEST);\r\n    \r\n    // if(rows(query(&quot;select sn from users where mobile=&#39;$mobile&#39; and session =&#39;$session&#39;&quot;)) == 0){\r\n    //     $data[&#39;msg&#39;] = &quot;You are not authrized to use this&quot;;\r\n          \r\n    //     $dd = query(&quot;select session,active from users where mobile=&#39;$mobile&#39;&quot;);\r\n    //     $d = fetch($dd);\r\n    //     $data[&#39;session&#39;] = $d[&#39;session&#39;];\r\n    //     $data[&#39;active&#39;] = $d[&#39;active&#39;];\r\n        \r\n    //     echo json_encode($data);\r\n    //     return;\r\n    // }\r\n    \r\n    require_once &quot;../scrap/data/support/web_browser.php&quot;;\r\n    require_once &quot;../scrap/data/support/tag_filter.php&quot;;\r\n    \r\n    $htmloptions = TagFilter::GetHTMLOptions();\r\n    \r\n    $url = &quot;https://dpboss.mobi/&quot;;\r\n    $web = new WebBrowser();\r\n    $result = $web-&gt;Process($url);\r\n    \r\n    if (!$result[&quot;success&quot;])\r\n    {\r\n    \techo &quot;Error retrieving URL.  &quot; . $result[&quot;error&quot;] . &quot;\\n&quot;;\r\n    \texit();\r\n    }\r\n    \r\n    if ($result[&quot;response&quot;][&quot;code&quot;] != 200)\r\n    {\r\n    \techo &quot;Error retrieving URL.  Server returned:  &quot; . $result[&quot;response&quot;][&quot;code&quot;] . &quot; &quot; . $result[&quot;response&quot;][&quot;meaning&quot;] . &quot;\\n&quot;;\r\n    \texit();\r\n    }\r\n    \r\n    $baseurl = $result[&quot;url&quot;];\r\n    \r\n    $html = TagFilter::Explode($result[&quot;body&quot;], $htmloptions);\r\n    \r\n    $root = $html-&gt;Get();\r\n    $rows = $root-&gt;Find(&quot;div.satta-result h4&quot;);\r\n    $h5rows = $root-&gt;Find(&quot;div.satta-result h5&quot;);\r\n    \r\n    \r\n    foreach ($rows as $row)\r\n    {\r\n        $temp_h4[] = $row-&gt;GetInnerHTML();\r\n    }\r\n    \t\r\n    foreach ($h5rows as $row)\r\n    {\r\n        $temp_h5[] = $row-&gt;GetInnerHTML();\r\n    }\r\n    \r\n    \r\n    $get = query(&quot;select * from gametime_new&quot;);\r\n    while($xc = fetch($get))\r\n    {\r\n    \t$time = array_search($xc[&#39;market&#39;], $temp_h4);\r\n    \t$mrk[&#39;market&#39;] = $xc[&#39;market&#39;];\r\n    \t$mrk[&#39;result&#39;] = $temp_h5[$time];\r\n        $data[&#39;result&#39;][] = $mrk;\r\n    }\r\n    \r\n      \r\n    $dd = query(&quot;select sn,wallet,active,session,code from users where mobile=&#39;$mobile&#39;&quot;);\r\n    $d = fetch($dd);\r\n    \r\n    $nt = query(&quot;select homeline from content where sn=&#39;1&#39;&quot;);\r\n    $n = fetch($nt);\r\n    \r\n    if($d[&#39;code&#39;] == &quot;0&quot;)\r\n    {\r\n        $code = $d[&#39;sn&#39;].rand(100000,9999999);\r\n        query(&quot;update users set code=&#39;$code&#39; where mobile=&#39;$mobile&#39;&quot;);\r\n    }\r\n    else\r\n    {\r\n        $code = $d[&#39;code&#39;];\r\n    }\r\n    \r\n    if(rows(query(&quot;select sn from gateway_config where active=&#39;1&#39;&quot;)) &gt; 0){\r\n        $data[&#39;gateway&#39;] = &quot;1&quot;;\r\n    } else {\r\n        $data[&#39;gateway&#39;] = &quot;0&quot;;\r\n    }\r\n    \r\n    \r\n    $data[&#39;code&#39;] = $code;\r\n    $data[&#39;wallet&#39;] = $d[&#39;wallet&#39;];\r\n    $data[&#39;active&#39;] = $d[&#39;active&#39;];\r\n    $data[&#39;session&#39;] = $d[&#39;session&#39;];\r\n    $data[&#39;homeline&#39;] = $n[&#39;homeline&#39;];\r\n    \r\n    \r\n    echo json_encode($data);\r\n\r\n**JsonResponse**\r\n\r\n    {&quot;result&quot;:[{&quot;market&quot;:&quot;SRIDEVI&quot;,&quot;result&quot;:&quot;249-54-356&quot;},{&quot;market&quot;:&quot;TIME BAZAR&quot;,&quot;result&quot;:&quot;568-98-279&quot;},{&quot;market&quot;:&quot;MILAN DAY&quot;,&quot;result&quot;:&quot;133-74-248&quot;},{&quot;market&quot;:&quot;RAJDHANI DAY&quot;,&quot;result&quot;:&quot;123-63-148&quot;},{&quot;market&quot;:&quot;KALYAN&quot;,&quot;result&quot;:&quot;266-44-130&quot;},{&quot;market&quot;:&quot;SRIDEVI NIGHT&quot;,&quot;result&quot;:&quot;588-11-489&quot;},{&quot;market&quot;:&quot;NIGHT TIME BAZAR&quot;,&quot;result&quot;:&quot;258-52-129&quot;},{&quot;market&quot;:&quot;MILAN NIGHT&quot;,&quot;result&quot;:&quot;568-98-440&quot;},{&quot;market&quot;:&quot;KALYAN NIGHT&quot;,&quot;result&quot;:&quot;447-57-188&quot;},{&quot;market&quot;:&quot;RAJDHANI NIGHT&quot;,&quot;result&quot;:&quot;458-76-790&quot;},{&quot;market&quot;:&quot;MAIN BAZAR&quot;,&quot;result&quot;:&quot;377-76-367&quot;},{&quot;market&quot;:&quot;WORLI MUMBAI&quot;,&quot;result&quot;:&quot;124-70-145&quot;},{&quot;market&quot;:&quot;PUNA BAZAR&quot;,&quot;result&quot;:&quot;350-89-379&quot;},{&quot;market&quot;:&quot;MILAN MORNING&quot;,&quot;result&quot;:&quot;123-63-148&quot;}],&quot;gateway&quot;:&quot;1&quot;,&quot;code&quot;:null,&quot;wallet&quot;:null,&quot;active&quot;:null,&quot;session&quot;:null,&quot;homeline&quot;:&quot;WELCOME TO BETPLAY&quot;}","title":"org.json.JSONException: Value Error of type java.lang.String cannot be converted to JSONObject","body":"<p>i am webscrapping a website for education only and trying to show returned JsonResponse but while app runs, it throws an error <em><strong>org.json.JSONException: Value Error of type java.lang.String cannot be converted to JSONObject</strong></em>. i found several questions similar to this but i didn't got any useful answer and they also contains incomplete inforrmation about problem.\nfollowing are codes that might a cause for this error. i hope that this thread will also help others because i am trying to give more information regarding to this problem.</p>\n<p><strong>MainActivity.java</strong></p>\n<pre><code>private void apicall() {\n\n\n        RequestQueue requestQueue = Volley.newRequestQueue(getApplicationContext());\n\n        final StringRequest postRequest = new StringRequest(Request.Method.POST, url,\n                new Response.Listener&lt;String&gt;() {\n                    @Override\n                    public void onResponse(String response) {\n                        try {\n\n                            JSONObject jsonObject1 = new JSONObject(response);\n\n\n                            if (jsonObject1.getString(&quot;active&quot;).equals(&quot;0&quot;)) {\n                                Toast.makeText(MainActivity.this, &quot;Your account temporarily disabled by admin&quot;, Toast.LENGTH_SHORT).show();\n\n                                preferences.edit().clear().apply();\n                                Intent in = new Intent(getApplicationContext(), login.class);\n                                in.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP | Intent.FLAG_ACTIVITY_NEW_TASK);\n                                in.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n                                startActivity(in);\n                                finish();\n                            }\n\n                            if (!jsonObject1.getString(&quot;session&quot;).equals(getSharedPreferences(constant.prefs, MODE_PRIVATE).getString(&quot;session&quot;, null))) {\n                                Toast.makeText(MainActivity.this, &quot;Session expired ! Please login again&quot;, Toast.LENGTH_SHORT).show();\n\n                                preferences.edit().clear().apply();\n                                Intent in = new Intent(getApplicationContext(), login.class);\n                                in.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP | Intent.FLAG_ACTIVITY_NEW_TASK);\n                                in.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n                                startActivity(in);\n                                finish();\n                            }\n\n                            balance.setText(jsonObject1.getString(&quot;wallet&quot;));\n\n                            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {\n                                hometext.setText(Html.fromHtml(jsonObject1.getString(&quot;homeline&quot;), Html.FROM_HTML_MODE_COMPACT));\n                            } else {\n                                hometext.setText(Html.fromHtml(jsonObject1.getString(&quot;homeline&quot;)));\n                            }\n\n\n\n\n                            ArrayList&lt;String&gt; name = new ArrayList&lt;&gt;();\n                            ArrayList&lt;String&gt; result = new ArrayList&lt;&gt;();\n\n                            JSONArray jsonArray = jsonObject1.getJSONArray(&quot;result&quot;);\n                            for (int a = 0; a &lt; jsonArray.length(); a++){\n                                JSONObject jsonObject = jsonArray.getJSONObject(a);\n\n                                name.add(jsonObject.getString(&quot;market&quot;));\n                                result.add(jsonObject.getString(&quot;result&quot;));\n\n                            }\n\n\n                            adapter_result rc = new adapter_result(MainActivity.this,name,result);\n                            recyclerview.setLayoutManager(new GridLayoutManager(MainActivity.this, 2));\n                            recyclerview.setAdapter(rc);\n                            rc.notifyDataSetChanged();\n\n\n                            SharedPreferences.Editor editor = preferences.edit();\n                            editor.putString(&quot;wallet&quot;, jsonObject1.getString(&quot;wallet&quot;)).apply();\n                            editor.putString(&quot;homeline&quot;, jsonObject1.getString(&quot;homeline&quot;)).apply();\n                            editor.putString(&quot;code&quot;, jsonObject1.getString(&quot;code&quot;)).apply();\n                            is_gateway = jsonObject1.getString(&quot;gateway&quot;);\n\n\n                        } catch (JSONException e) {\n                            e.printStackTrace();\n\n\n                            Toast.makeText(MainActivity.this,e.toString(), Toast.LENGTH_SHORT).show();\n                        }\n                    }\n                },\n                new Response.ErrorListener() {\n                    @Override\n                    public void onErrorResponse(VolleyError error) {\n\n                        error.printStackTrace();\n\n                        Toast.makeText(MainActivity.this, &quot;Check your internet connection&quot;, Toast.LENGTH_SHORT).show();\n                    }\n                }\n        ) {\n            @Override\n            protected Map&lt;String, String&gt; getParams() {\n                Map&lt;String, String&gt; params = new HashMap&lt;String, String&gt;();\n\n                params.put(&quot;mobile&quot;, preferences.getString(&quot;mobile&quot;, null));\n                params.put(&quot;session&quot;,getSharedPreferences(constant.prefs, MODE_PRIVATE).getString(&quot;session&quot;, null));\n\n                return params;\n            }\n        };\n        postRequest.setRetryPolicy(new DefaultRetryPolicy(0, DefaultRetryPolicy.DEFAULT_MAX_RETRIES, DefaultRetryPolicy.DEFAULT_BACKOFF_MULT));\n        requestQueue.add(postRequest);\n    }\n</code></pre>\n<p><strong>home.php</strong></p>\n<pre><code>&lt;?php\ninclude &quot;../connection/config.php&quot;;\nextract($_REQUEST);\n\n// if(rows(query(&quot;select sn from users where mobile='$mobile' and session ='$session'&quot;)) == 0){\n//     $data['msg'] = &quot;You are not authrized to use this&quot;;\n      \n//     $dd = query(&quot;select session,active from users where mobile='$mobile'&quot;);\n//     $d = fetch($dd);\n//     $data['session'] = $d['session'];\n//     $data['active'] = $d['active'];\n    \n//     echo json_encode($data);\n//     return;\n// }\n\nrequire_once &quot;../scrap/data/support/web_browser.php&quot;;\nrequire_once &quot;../scrap/data/support/tag_filter.php&quot;;\n\n$htmloptions = TagFilter::GetHTMLOptions();\n\n$url = &quot;https://dpboss.mobi/&quot;;\n$web = new WebBrowser();\n$result = $web-&gt;Process($url);\n\nif (!$result[&quot;success&quot;])\n{\n    echo &quot;Error retrieving URL.  &quot; . $result[&quot;error&quot;] . &quot;\\n&quot;;\n    exit();\n}\n\nif ($result[&quot;response&quot;][&quot;code&quot;] != 200)\n{\n    echo &quot;Error retrieving URL.  Server returned:  &quot; . $result[&quot;response&quot;][&quot;code&quot;] . &quot; &quot; . $result[&quot;response&quot;][&quot;meaning&quot;] . &quot;\\n&quot;;\n    exit();\n}\n\n$baseurl = $result[&quot;url&quot;];\n\n$html = TagFilter::Explode($result[&quot;body&quot;], $htmloptions);\n\n$root = $html-&gt;Get();\n$rows = $root-&gt;Find(&quot;div.satta-result h4&quot;);\n$h5rows = $root-&gt;Find(&quot;div.satta-result h5&quot;);\n\n\nforeach ($rows as $row)\n{\n    $temp_h4[] = $row-&gt;GetInnerHTML();\n}\n    \nforeach ($h5rows as $row)\n{\n    $temp_h5[] = $row-&gt;GetInnerHTML();\n}\n\n\n$get = query(&quot;select * from gametime_new&quot;);\nwhile($xc = fetch($get))\n{\n    $time = array_search($xc['market'], $temp_h4);\n    $mrk['market'] = $xc['market'];\n    $mrk['result'] = $temp_h5[$time];\n    $data['result'][] = $mrk;\n}\n\n  \n$dd = query(&quot;select sn,wallet,active,session,code from users where mobile='$mobile'&quot;);\n$d = fetch($dd);\n\n$nt = query(&quot;select homeline from content where sn='1'&quot;);\n$n = fetch($nt);\n\nif($d['code'] == &quot;0&quot;)\n{\n    $code = $d['sn'].rand(100000,9999999);\n    query(&quot;update users set code='$code' where mobile='$mobile'&quot;);\n}\nelse\n{\n    $code = $d['code'];\n}\n\nif(rows(query(&quot;select sn from gateway_config where active='1'&quot;)) &gt; 0){\n    $data['gateway'] = &quot;1&quot;;\n} else {\n    $data['gateway'] = &quot;0&quot;;\n}\n\n\n$data['code'] = $code;\n$data['wallet'] = $d['wallet'];\n$data['active'] = $d['active'];\n$data['session'] = $d['session'];\n$data['homeline'] = $n['homeline'];\n\n\necho json_encode($data);\n</code></pre>\n<p><strong>JsonResponse</strong></p>\n<pre><code>{&quot;result&quot;:[{&quot;market&quot;:&quot;SRIDEVI&quot;,&quot;result&quot;:&quot;249-54-356&quot;},{&quot;market&quot;:&quot;TIME BAZAR&quot;,&quot;result&quot;:&quot;568-98-279&quot;},{&quot;market&quot;:&quot;MILAN DAY&quot;,&quot;result&quot;:&quot;133-74-248&quot;},{&quot;market&quot;:&quot;RAJDHANI DAY&quot;,&quot;result&quot;:&quot;123-63-148&quot;},{&quot;market&quot;:&quot;KALYAN&quot;,&quot;result&quot;:&quot;266-44-130&quot;},{&quot;market&quot;:&quot;SRIDEVI NIGHT&quot;,&quot;result&quot;:&quot;588-11-489&quot;},{&quot;market&quot;:&quot;NIGHT TIME BAZAR&quot;,&quot;result&quot;:&quot;258-52-129&quot;},{&quot;market&quot;:&quot;MILAN NIGHT&quot;,&quot;result&quot;:&quot;568-98-440&quot;},{&quot;market&quot;:&quot;KALYAN NIGHT&quot;,&quot;result&quot;:&quot;447-57-188&quot;},{&quot;market&quot;:&quot;RAJDHANI NIGHT&quot;,&quot;result&quot;:&quot;458-76-790&quot;},{&quot;market&quot;:&quot;MAIN BAZAR&quot;,&quot;result&quot;:&quot;377-76-367&quot;},{&quot;market&quot;:&quot;WORLI MUMBAI&quot;,&quot;result&quot;:&quot;124-70-145&quot;},{&quot;market&quot;:&quot;PUNA BAZAR&quot;,&quot;result&quot;:&quot;350-89-379&quot;},{&quot;market&quot;:&quot;MILAN MORNING&quot;,&quot;result&quot;:&quot;123-63-148&quot;}],&quot;gateway&quot;:&quot;1&quot;,&quot;code&quot;:null,&quot;wallet&quot;:null,&quot;active&quot;:null,&quot;session&quot;:null,&quot;homeline&quot;:&quot;WELCOME TO BETPLAY&quot;}\n</code></pre>\n"},{"tags":["java","reactive-programming","quarkus","vert.x","mutiny"],"comments":[{"owner":{"account_id":1284206,"reputation":191,"user_id":1237627,"display_name":"Sławomir Siudek"},"score":0,"creation_date":1660852846,"post_id":73371931,"comment_id":129638090,"body_markdown":"What REST library are you use? resteasy? resteasy-reactive? other? I suspect that maybe thread, used in REST layer, is not compatible with VertX threading","body":"What REST library are you use? resteasy? resteasy-reactive? other? I suspect that maybe thread, used in REST layer, is not compatible with VertX threading"},{"owner":{"account_id":22909694,"reputation":652,"user_id":17047177,"display_name":"A.Casanova"},"score":0,"creation_date":1660900855,"post_id":73371931,"comment_id":129647893,"body_markdown":"@SławomirSiudek I am using resteasy-reactive","body":"@SławomirSiudek I am using resteasy-reactive"},{"owner":{"account_id":1284206,"reputation":191,"user_id":1237627,"display_name":"Sławomir Siudek"},"score":0,"creation_date":1661120162,"post_id":73371931,"comment_id":129690052,"body_markdown":"I cloned https://github.com/quarkusio/quarkus-quickstarts/tree/main/hibernate-reactive-panache-quickstart, changed from Panache to using session, and can&#39;t reproduce such issue. May you share an example how to reproduce such issue?","body":"I cloned <a href=\"https://github.com/quarkusio/quarkus-quickstarts/tree/main/hibernate-reactive-panache-quickstart\" rel=\"nofollow noreferrer\">github.com/quarkusio/quarkus-quickstarts/tree/main/&hellip;</a>, changed from Panache to using session, and can&#39;t reproduce such issue. May you share an example how to reproduce such issue?"},{"owner":{"account_id":1276303,"reputation":2937,"user_id":1231484,"display_name":"Clement"},"score":0,"creation_date":1661344328,"post_id":73371931,"comment_id":129749101,"body_markdown":"From where is `public Uni&lt;List&lt;T&gt;&gt; createAll(List&lt;T&gt; t) {` called? You need to be on a Vert.x context.","body":"From where is <code>public Uni&lt;List&lt;T&gt;&gt; createAll(List&lt;T&gt; t) {</code> called? You need to be on a Vert.x context."},{"owner":{"account_id":22909694,"reputation":652,"user_id":17047177,"display_name":"A.Casanova"},"score":0,"creation_date":1661436359,"post_id":73371931,"comment_id":129776437,"body_markdown":"@Clement, Do you know if there is any documentation about how to manage the vert.x contexts within Quarkus?\n\nThe service I want to develop consists of two main parts. Validate the data and persist it. If I split the service into two services (two rest calls), it works. I think that the method works since each rest call has its own vert.x context.","body":"@Clement, Do you know if there is any documentation about how to manage the vert.x contexts within Quarkus?  The service I want to develop consists of two main parts. Validate the data and persist it. If I split the service into two services (two rest calls), it works. I think that the method works since each rest call has its own vert.x context."},{"owner":{"account_id":1276303,"reputation":2937,"user_id":1231484,"display_name":"Clement"},"score":1,"creation_date":1661675014,"post_id":73371931,"comment_id":129824273,"body_markdown":"You can find more details on https://groups.google.com/g/quarkus-dev/c/lBmQkCi_VK0.","body":"You can find more details on <a href=\"https://groups.google.com/g/quarkus-dev/c/lBmQkCi_VK0\" rel=\"nofollow noreferrer\">groups.google.com/g/quarkus-dev/c/lBmQkCi_VK0</a>."},{"owner":{"account_id":22909694,"reputation":652,"user_id":17047177,"display_name":"A.Casanova"},"score":0,"creation_date":1662711453,"post_id":73371931,"comment_id":130073535,"body_markdown":"@Clement I try `((ContextInternal) Vertx.currentContext()).duplicate()` but it is not possible to cast `Context` with `ContextInternal`. May you handle and example of how to duplicate a context and run any `Uni&lt;T&gt; foo()` function on that context.","body":"@Clement I try <code>((ContextInternal) Vertx.currentContext()).duplicate()</code> but it is not possible to cast <code>Context</code> with <code>ContextInternal</code>. May you handle and example of how to duplicate a context and run any <code>Uni&lt;T&gt; foo()</code> function on that context."},{"owner":{"account_id":1276303,"reputation":2937,"user_id":1231484,"display_name":"Clement"},"score":0,"creation_date":1663145279,"post_id":73371931,"comment_id":130167821,"body_markdown":"Look at the VertxContext class: https://github.com/smallrye/smallrye-common/blob/main/vertx-context/src/main/java/io/smallrye/common/vertx/VertxContext.java","body":"Look at the VertxContext class: <a href=\"https://github.com/smallrye/smallrye-common/blob/main/vertx-context/src/main/java/io/smallrye/common/vertx/VertxContext.java\" rel=\"nofollow noreferrer\">github.com/smallrye/smallrye-common/blob/main/vertx-context/&zwnj;&#8203;src/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":22909694,"reputation":652,"user_id":17047177,"display_name":"A.Casanova"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675764229,"creation_date":1673522657,"answer_id":75095595,"question_id":73371931,"body_markdown":"`Hibernate Reactive` does NOT work even if you duplicate the context for calling `sf.withTrasaction`.\r\n\r\nSo the only feasible way to make it work is by manually marking the context as safe with the function `io.quarkus.vertx.core.runtime.context.VertxContextSafetyToggle.setContextSafe`\r\n\r\n```java\r\nimport io.vertx.core.Vertx;\r\nimport io.quarkus.vertx.core.runtime.context.VertxContextSafetyToggle;\r\n\r\n...\r\n\r\npublic final class MyClass {\r\n\r\n  @Inject\r\n  private Vertx vertx;\r\n\r\n  @Inject\r\n  private RepoT repoT;\r\n\r\n  public Uni&lt;Void&gt; cleanContext() {\r\n    final io.vertx.core.Context newContext = vertx.getOrCreateContext();\r\n    VertxContextSafetyToggle.setContextSafe(newContext, true);\r\n    return Uni.createFrom().voidItem();\r\n  }\r\n\r\n  public Uni&lt;T&gt; create(T t) {\r\n\r\n    return this.cleanContext()\r\n        .flatMap( repoT.createAll(t) ) // Method which call hibernate\r\n        ...\r\n}\r\n\r\n``` \r\n\r\n","title":"The current operation requires a safe (isolated) Vert.x sub-context, but the current context hasn&#39;t been flagged as such","body":"<p><code>Hibernate Reactive</code> does NOT work even if you duplicate the context for calling <code>sf.withTrasaction</code>.</p>\n<p>So the only feasible way to make it work is by manually marking the context as safe with the function <code>io.quarkus.vertx.core.runtime.context.VertxContextSafetyToggle.setContextSafe</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>import io.vertx.core.Vertx;\nimport io.quarkus.vertx.core.runtime.context.VertxContextSafetyToggle;\n\n...\n\npublic final class MyClass {\n\n  @Inject\n  private Vertx vertx;\n\n  @Inject\n  private RepoT repoT;\n\n  public Uni&lt;Void&gt; cleanContext() {\n    final io.vertx.core.Context newContext = vertx.getOrCreateContext();\n    VertxContextSafetyToggle.setContextSafe(newContext, true);\n    return Uni.createFrom().voidItem();\n  }\n\n  public Uni&lt;T&gt; create(T t) {\n\n    return this.cleanContext()\n        .flatMap( repoT.createAll(t) ) // Method which call hibernate\n        ...\n}\n\n</code></pre>\n"}],"owner":{"account_id":22909694,"reputation":652,"user_id":17047177,"display_name":"A.Casanova"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":567,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75095595,"answer_count":1,"score":2,"last_activity_date":1675764229,"creation_date":1660642896,"question_id":73371931,"body_markdown":"I am using Quarkus version `2.11.1.Final`. With the following `io.quarkus dependencies:\r\n\r\n 1. smallrye-mutiny-vertx-web-client\r\n 2. quarkus-resteasy-reactive\r\n 3. quarkus-hibernate-reactive\r\n\r\nIn a long rest process, I am trying to persist several entities but I get the following error while doing one of the validations.\r\n\r\n```bash\r\nThe current operation requires a safe (isolated) Vert.x sub-context, but the current context hasn&#39;t been flagged as such.\r\nYou can still use Hibernate Reactive, you just need to avoid using the methods which implicitly require accessing the stateful context, such as MutinySessionFactory#withTransaction and #withSession.\r\n```\r\nIn order to persist a Collection of entities I am using:\r\n\r\n```java\r\n@Inject\r\nMutiny.SessionFactory sf;\r\n\r\npublic Uni&lt;List&lt;T&gt;&gt; createAll(List&lt;T&gt; t) {\r\n  if (LOGGER.isDebugEnabled()) {\r\n    LOGGER.debug(&quot;#createAll(T)...  {}&quot;, t);\r\n  }\r\n    \r\n  return sf.withTransaction(\r\n      (s, t) -&gt; s.persistAll((Object[]) t.toArray(new T[0]))\r\n          .replaceWith(t));\r\n}\r\n\r\n```\r\nI have already try to change the previous return to:\r\n```java\r\n\r\nreturn sf.withStatelessTransaction((s, t) -&gt;s.insertAll((Object[]) t.toArray(new T[0]))\r\n    .replaceWith(t));\r\n\r\n```\r\nBut I still getting the same error. Anyone knows how can I handle the vertx context inside Quarkus or anyway of persisting the entities without getting this error? ","title":"The current operation requires a safe (isolated) Vert.x sub-context, but the current context hasn&#39;t been flagged as such","body":"<p>I am using Quarkus version <code>2.11.1.Final</code>. With the following `io.quarkus dependencies:</p>\n<ol>\n<li>smallrye-mutiny-vertx-web-client</li>\n<li>quarkus-resteasy-reactive</li>\n<li>quarkus-hibernate-reactive</li>\n</ol>\n<p>In a long rest process, I am trying to persist several entities but I get the following error while doing one of the validations.</p>\n<pre class=\"lang-bash prettyprint-override\"><code>The current operation requires a safe (isolated) Vert.x sub-context, but the current context hasn't been flagged as such.\nYou can still use Hibernate Reactive, you just need to avoid using the methods which implicitly require accessing the stateful context, such as MutinySessionFactory#withTransaction and #withSession.\n</code></pre>\n<p>In order to persist a Collection of entities I am using:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Inject\nMutiny.SessionFactory sf;\n\npublic Uni&lt;List&lt;T&gt;&gt; createAll(List&lt;T&gt; t) {\n  if (LOGGER.isDebugEnabled()) {\n    LOGGER.debug(&quot;#createAll(T)...  {}&quot;, t);\n  }\n    \n  return sf.withTransaction(\n      (s, t) -&gt; s.persistAll((Object[]) t.toArray(new T[0]))\n          .replaceWith(t));\n}\n\n</code></pre>\n<p>I have already try to change the previous return to:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nreturn sf.withStatelessTransaction((s, t) -&gt;s.insertAll((Object[]) t.toArray(new T[0]))\n    .replaceWith(t));\n\n</code></pre>\n<p>But I still getting the same error. Anyone knows how can I handle the vertx context inside Quarkus or anyway of persisting the entities without getting this error?</p>\n"},{"tags":["java","spring-data-jpa","bulkinsert","bulkupdate"],"owner":{"account_id":12100583,"reputation":1,"user_id":8841947,"display_name":"Safallya Dhar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":185,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675764147,"creation_date":1675764147,"question_id":75371743,"body_markdown":"if saveAll gets fail then all transaction get fail can there be any imlementation for the doing bulk database operation in spring jpa so that it save those records where there is no failure.\r\n\r\nProcess and steps to achieve partial save even if bulk saveAll gets failed.","title":"Alternate option for bulk data saveAll in spring jpa","body":"<p>if saveAll gets fail then all transaction get fail can there be any imlementation for the doing bulk database operation in spring jpa so that it save those records where there is no failure.</p>\n<p>Process and steps to achieve partial save even if bulk saveAll gets failed.</p>\n"},{"tags":["java","spring","spring-boot","jpa","interceptor"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1675764268,"post_id":75371630,"comment_id":132994116,"body_markdown":"SQL only allows one WHERE it is forbidden by the specification. That being said not sure if this is the best way to do this, you are probably better of using an Filter condition and let Hibernate handle it. Next to that what you are doing is dangerous as you now opened your code for SQL injection for malicious users.","body":"SQL only allows one WHERE it is forbidden by the specification. That being said not sure if this is the best way to do this, you are probably better of using an Filter condition and let Hibernate handle it. Next to that what you are doing is dangerous as you now opened your code for SQL injection for malicious users."},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1675764350,"post_id":75371630,"comment_id":132994137,"body_markdown":"Multiple where clauses would require a subselect, which is definitely possible. For dynamic filtering, maybe have a look at [`@Filter`](https://thorben-janssen.com/hibernate-filter/) annotation","body":"Multiple where clauses would require a subselect, which is definitely possible. For dynamic filtering, maybe have a look at <a href=\"https://thorben-janssen.com/hibernate-filter/\" rel=\"nofollow noreferrer\"><code>@Filter</code></a> annotation"},{"owner":{"account_id":3938317,"reputation":4776,"user_id":3253853,"accept_rate":66,"display_name":"Alex Man"},"score":0,"creation_date":1675764704,"post_id":75371630,"comment_id":132994233,"body_markdown":"@M.Deinum The problem is that my dynamic where clause is a native criteria which I need to append because of which I cannot use Filter. Also regarding SQL injection, actually I am not getting this dynamic condition from API or any open networks but I am getting it from my another trusted database which we are managing. So do you think this has any issues of that sort","body":"@M.Deinum The problem is that my dynamic where clause is a native criteria which I need to append because of which I cannot use Filter. Also regarding SQL injection, actually I am not getting this dynamic condition from API or any open networks but I am getting it from my another trusted database which we are managing. So do you think this has any issues of that sort"},{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1675764723,"post_id":75371630,"comment_id":132994241,"body_markdown":"your replacement strategy is incorrect, consider following case: `where 1 = 1 or 1 = 2`","body":"your replacement strategy is incorrect, consider following case: <code>where 1 = 1 or 1 = 2</code>"},{"owner":{"account_id":3938317,"reputation":4776,"user_id":3253853,"accept_rate":66,"display_name":"Alex Man"},"score":0,"creation_date":1675764839,"post_id":75371630,"comment_id":132994282,"body_markdown":"@AndreyB.Panfilov Actually my dynamic condition is a mandatory one","body":"@AndreyB.Panfilov Actually my dynamic condition is a mandatory one"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1675764841,"post_id":75371630,"comment_id":132994284,"body_markdown":"If you are munging SQL strings yourself you are always at risk, even that managed database can be compromised or filled with stuff by an angry employee. It won&#39;t happen, until it does. A filter condition is a native SQL. I would say if you can build the query you can also use the `Criteria` api to append things.","body":"If you are munging SQL strings yourself you are always at risk, even that managed database can be compromised or filled with stuff by an angry employee. It won&#39;t happen, until it does. A filter condition is a native SQL. I would say if you can build the query you can also use the <code>Criteria</code> api to append things."},{"owner":{"account_id":3938317,"reputation":4776,"user_id":3253853,"accept_rate":66,"display_name":"Alex Man"},"score":0,"creation_date":1675765012,"post_id":75371630,"comment_id":132994332,"body_markdown":"@M.Deinum I have 100&#39;s of API already have within the application. As per this requirement I was asked to append this native condition without any change in all other existing Criterias","body":"@M.Deinum I have 100&#39;s of API already have within the application. As per this requirement I was asked to append this native condition without any change in all other existing Criterias"},{"owner":{"account_id":3938317,"reputation":4776,"user_id":3253853,"accept_rate":66,"display_name":"Alex Man"},"score":0,"creation_date":1675765152,"post_id":75371630,"comment_id":132994384,"body_markdown":"@XtremeBaumer Since I have almost 100 API&#39;s where they are using Criteria extensively. Can we use Filter to append my dynamic condition without touching those implementation?","body":"@XtremeBaumer Since I have almost 100 API&#39;s where they are using Criteria extensively. Can we use Filter to append my dynamic condition without touching those implementation?"},{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1675765230,"post_id":75371630,"comment_id":132994407,"body_markdown":"@AlexMan that does not make sense, your idea will not work for `where 1 = 2 or 1 = 1`. btw, you may inject some reliable **anchors** via `@Filter` and replace them in interceptor.","body":"@AlexMan that does not make sense, your idea will not work for <code>where 1 = 2 or 1 = 1</code>. btw, you may inject some reliable <b>anchors</b> via <code>@Filter</code> and replace them in interceptor."},{"owner":{"account_id":3938317,"reputation":4776,"user_id":3253853,"accept_rate":66,"display_name":"Alex Man"},"score":0,"creation_date":1675765476,"post_id":75371630,"comment_id":132994478,"body_markdown":"@AndreyB.Panfilov how can we do that","body":"@AndreyB.Panfilov how can we do that"},{"owner":{"account_id":3938317,"reputation":4776,"user_id":3253853,"accept_rate":66,"display_name":"Alex Man"},"score":0,"creation_date":1675766129,"post_id":75371630,"comment_id":132994691,"body_markdown":"@AndreyB.Panfilov you mean something like this https://i.stack.imgur.com/8EQ9L.png","body":"@AndreyB.Panfilov you mean something like this <a href=\"https://i.stack.imgur.com/8EQ9L.png\" rel=\"nofollow noreferrer\">i.stack.imgur.com/8EQ9L.png</a>"},{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1675766301,"post_id":75371630,"comment_id":132994739,"body_markdown":"yeap, or `@FilterDef(name = &quot;my_filter&quot;, defaultCondition = &quot;{filter_anchor:{alias}}&quot;) @Filter(name = &quot;my_filter&quot;, deduceAliasInjectionPoints = false)` to get better control over replacement process.","body":"yeap, or <code>@FilterDef(name = &quot;my_filter&quot;, defaultCondition = &quot;{filter_anchor:{alias}}&quot;) @Filter(name = &quot;my_filter&quot;, deduceAliasInjectionPoints = false)</code> to get better control over replacement process."},{"owner":{"account_id":3938317,"reputation":4776,"user_id":3253853,"accept_rate":66,"display_name":"Alex Man"},"score":0,"creation_date":1675766568,"post_id":75371630,"comment_id":132994834,"body_markdown":"@AndreyB.Panfilov but the problem is its not guaranteed which fields to be used on each situation. For example Sometimes for one use case I need to use `status=&#39;open&#39;` , sometimes `active=false and type=&#39;assets&#39;`, sometimes `firstName=&#39;Job&#39;`. So how do I make this switching","body":"@AndreyB.Panfilov but the problem is its not guaranteed which fields to be used on each situation. For example Sometimes for one use case I need to use <code>status=&#39;open&#39;</code> , sometimes <code>active=false and type=&#39;assets&#39;</code>, sometimes <code>firstName=&#39;Job&#39;</code>. So how do I make this switching"},{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1675766775,"post_id":75371630,"comment_id":132994904,"body_markdown":"yes, I see, that is why I suggested to inject non-sql fragment there. `{filter_anchor:{alias}}` will allow to find it and safely replace it knowing table alias.","body":"yes, I see, that is why I suggested to inject non-sql fragment there. <code>{filter_anchor:{alias}}</code> will allow to find it and safely replace it knowing table alias."},{"owner":{"account_id":3938317,"reputation":4776,"user_id":3253853,"accept_rate":66,"display_name":"Alex Man"},"score":0,"creation_date":1675767011,"post_id":75371630,"comment_id":132994999,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/251686/discussion-between-alex-man-and-andrey-b-panfilov).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/251686/discussion-between-alex-man-and-andrey-b-panfilov\">continue this discussion in chat</a>."},{"owner":{"account_id":3938317,"reputation":4776,"user_id":3253853,"accept_rate":66,"display_name":"Alex Man"},"score":0,"creation_date":1677677300,"post_id":75371630,"comment_id":133384606,"body_markdown":"@AndreyB.Panfilov `@FilterDef` and `@Filter` are not working with aggregative functions","body":"@AndreyB.Panfilov <code>@FilterDef</code> and <code>@Filter</code> are not working with aggregative functions"}],"owner":{"account_id":3938317,"reputation":4776,"user_id":3253853,"accept_rate":66,"display_name":"Alex Man"},"comment_count":16,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675764000,"creation_date":1675763672,"question_id":75371630,"body_markdown":"I am using Spring JPA Criteria for all my Database interaction. As part of a requirement to append a dynamic native where clause to all the Database queries I used JPA Interceptor to append the dynamic condition in the overrided onPrepareStatement method like as shown below\r\n\r\n    @Override\r\n        public String onPrepareStatement(String sql) {\r\n          Pattern pattern = Pattern.compile(&quot;person(\\\\w+_)&quot;);\r\n            Matcher matcher = pattern.matcher(sql);\r\n            if (matcher.find()) {\r\n                String alias = matcher.group(0);\r\n                sql = sql.replace(&quot;where &quot;,String.format(&quot;where %s.status=%d and &quot;, alias, dynamicValue));\r\n            } else {\r\n                System.out.println(&quot;No alias found for the entity &#39;person&#39;&quot;);\r\n            }\r\n            return sql;\r\n        }\r\n\r\nThe above logic is working fine but since I am replacing `where` clause to append my native dynamic condition using `sql.replace(&quot;where &quot;,` my biggest concern is will there be any situation like Spring JPA Criteria generates native sql with multiple `where` clause\r\n\r\nNote: the above dynamic criteria (status=) is just for an example. Sometimes it can have many conditions to be appended based on some use case","title":"Does Spring JPA Criteria always have single WHERE clause containing the combined conditions","body":"<p>I am using Spring JPA Criteria for all my Database interaction. As part of a requirement to append a dynamic native where clause to all the Database queries I used JPA Interceptor to append the dynamic condition in the overrided onPrepareStatement method like as shown below</p>\n<pre><code>@Override\n    public String onPrepareStatement(String sql) {\n      Pattern pattern = Pattern.compile(&quot;person(\\\\w+_)&quot;);\n        Matcher matcher = pattern.matcher(sql);\n        if (matcher.find()) {\n            String alias = matcher.group(0);\n            sql = sql.replace(&quot;where &quot;,String.format(&quot;where %s.status=%d and &quot;, alias, dynamicValue));\n        } else {\n            System.out.println(&quot;No alias found for the entity 'person'&quot;);\n        }\n        return sql;\n    }\n</code></pre>\n<p>The above logic is working fine but since I am replacing <code>where</code> clause to append my native dynamic condition using <code>sql.replace(&quot;where &quot;,</code> my biggest concern is will there be any situation like Spring JPA Criteria generates native sql with multiple <code>where</code> clause</p>\n<p>Note: the above dynamic criteria (status=) is just for an example. Sometimes it can have many conditions to be appended based on some use case</p>\n"},{"tags":["java","styling","linter"],"comments":[{"owner":{"account_id":11104856,"reputation":1527,"user_id":8152324,"display_name":"ndc85430"},"score":2,"creation_date":1673035348,"post_id":75035569,"comment_id":132414826,"body_markdown":"Isn&#39;t the compilation going to fail when you try and run your automated tests (unit, integration, ...)?","body":"Isn&#39;t the compilation going to fail when you try and run your automated tests (unit, integration, ...)?"},{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":1,"creation_date":1673035523,"post_id":75035569,"comment_id":132414880,"body_markdown":"That doesn&#39;t even compile. Why do you need a linter for that?","body":"That doesn&#39;t even compile. Why do you need a linter for that?"},{"owner":{"account_id":18992234,"reputation":9,"user_id":13861254,"display_name":"SagwaCat"},"score":0,"creation_date":1673035656,"post_id":75035569,"comment_id":132414923,"body_markdown":"Sorry, I added a more clear example.","body":"Sorry, I added a more clear example."},{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":0,"creation_date":1673078337,"post_id":75035569,"comment_id":132420793,"body_markdown":"Does this answer your question? [How to check &quot;The value of the local variable/field is not used&quot; in Checkstyle?](https://stackoverflow.com/questions/20116032/how-to-check-the-value-of-the-local-variable-field-is-not-used-in-checkstyle)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/20116032/how-to-check-the-value-of-the-local-variable-field-is-not-used-in-checkstyle\">How to check &quot;The value of the local variable/field is not used&quot; in Checkstyle?</a>"},{"owner":{"account_id":18992234,"reputation":9,"user_id":13861254,"display_name":"SagwaCat"},"score":0,"creation_date":1673367475,"post_id":75035569,"comment_id":132480478,"body_markdown":"Unfortunately that does not catch unused params. I just tried it out","body":"Unfortunately that does not catch unused params. I just tried it out"}],"answers":[{"tags":[],"owner":{"account_id":1816046,"reputation":1389,"user_id":1651107,"accept_rate":100,"display_name":"Piro"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675763813,"creation_date":1675763813,"answer_id":75371665,"question_id":75035569,"body_markdown":"**Sonar Lint** supports this as rule &quot;java:S1172&quot;: \r\n\r\n&gt; Unused method parameters should be removed - Unused parameters are\r\n&gt; misleading. Whatever the values passed to such parameters, the\r\n&gt; behavior will be the same.\r\n\r\n[![Sonar lint rule][3]][3]\r\n\r\nBut there are some exceptions to this rule. \r\n\r\n&gt; The rule will not raise issues for unused parameters:\r\n&gt; - that are annotated with @javax.enterprise.event.Observes \r\n&gt; - in overrides and implementation methods \r\n&gt; - in interface default methods \r\n&gt; - in non-private methods that only throw or that have empty bodies \r\n&gt; - in annotated methods, unless the annotation is @SuppressWarning(&quot;unchecked&quot;) or @SuppressWarning(&quot;rawtypes&quot;), inwhich\r\n&gt; case the annotation will be ignored \r\n&gt; - in overridable methods (non-final, or not member of a final class, non-static, non-private), if the parameter is documented with a\r\n&gt; properjavadoc.\r\n\r\nAlso **Eclipse IDE** supports this out of the box. This can be enabled in Java&gt;Compiler&gt;Errors/Warnings with option &quot;Value of method parameter is not used&quot;\r\n[![Eclipse compiler settings for unused method parameters][1]][1]\r\nThis produces info/warning/error (as you configure) &quot;The value of the parameter XXX is not used&quot;\r\n\r\n[![Warning produced by Eclipse][2]][2]\r\n\r\n  [1]: https://i.stack.imgur.com/WhsyC.png\r\n  [2]: https://i.stack.imgur.com/8kACB.png\r\n  [3]: https://i.stack.imgur.com/1eqJs.png","title":"Linter for unused parameters in a Java project?","body":"<p><strong>Sonar Lint</strong> supports this as rule &quot;java:S1172&quot;:</p>\n<blockquote>\n<p>Unused method parameters should be removed - Unused parameters are\nmisleading. Whatever the values passed to such parameters, the\nbehavior will be the same.</p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/1eqJs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1eqJs.png\" alt=\"Sonar lint rule\" /></a></p>\n<p>But there are some exceptions to this rule.</p>\n<blockquote>\n<p>The rule will not raise issues for unused parameters:</p>\n<ul>\n<li>that are annotated with @javax.enterprise.event.Observes</li>\n<li>in overrides and implementation methods</li>\n<li>in interface default methods</li>\n<li>in non-private methods that only throw or that have empty bodies</li>\n<li>in annotated methods, unless the annotation is @SuppressWarning(&quot;unchecked&quot;) or @SuppressWarning(&quot;rawtypes&quot;), inwhich\ncase the annotation will be ignored</li>\n<li>in overridable methods (non-final, or not member of a final class, non-static, non-private), if the parameter is documented with a\nproperjavadoc.</li>\n</ul>\n</blockquote>\n<p>Also <strong>Eclipse IDE</strong> supports this out of the box. This can be enabled in Java&gt;Compiler&gt;Errors/Warnings with option &quot;Value of method parameter is not used&quot;\n<a href=\"https://i.stack.imgur.com/WhsyC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WhsyC.png\" alt=\"Eclipse compiler settings for unused method parameters\" /></a>\nThis produces info/warning/error (as you configure) &quot;The value of the parameter XXX is not used&quot;</p>\n<p><a href=\"https://i.stack.imgur.com/8kACB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8kACB.png\" alt=\"Warning produced by Eclipse\" /></a></p>\n"}],"owner":{"account_id":18992234,"reputation":9,"user_id":13861254,"display_name":"SagwaCat"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":286,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1675763813,"creation_date":1673035175,"question_id":75035569,"body_markdown":"CheckStyle had this option in the early versions:\r\nhttp://api.dpml.net/checkstyle/3.5/com/puppycrawl/tools/checkstyle/checks/usage/UnusedParameterCheck.html\r\n\r\nLooking for a similar checker. Can anyone recommend me something?\r\n\r\nTesting for this use case:\r\n\r\n```Java\r\n\r\n... main method .. \r\n\r\n        test(&quot;hello&quot;);\r\n        return Longs.tryParse(request.getCategoryId());\r\n    }\r\n\r\n    @Nullable\r\n    Long test(String unused) {\r\n        System.out.println(&quot;Hello World&quot;);\r\n        return null;\r\n    }\r\n```\r\nI want the build to fail\r\n\r\nCurrent CheckStyle version in use is 3.7. Not looking to downgrade. ","title":"Linter for unused parameters in a Java project?","body":"<p>CheckStyle had this option in the early versions:\n<a href=\"http://api.dpml.net/checkstyle/3.5/com/puppycrawl/tools/checkstyle/checks/usage/UnusedParameterCheck.html\" rel=\"nofollow noreferrer\">http://api.dpml.net/checkstyle/3.5/com/puppycrawl/tools/checkstyle/checks/usage/UnusedParameterCheck.html</a></p>\n<p>Looking for a similar checker. Can anyone recommend me something?</p>\n<p>Testing for this use case:</p>\n<pre><code>\n... main method .. \n\n        test(&quot;hello&quot;);\n        return Longs.tryParse(request.getCategoryId());\n    }\n\n    @Nullable\n    Long test(String unused) {\n        System.out.println(&quot;Hello World&quot;);\n        return null;\n    }\n</code></pre>\n<p>I want the build to fail</p>\n<p>Current CheckStyle version in use is 3.7. Not looking to downgrade.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":434708,"reputation":4233,"user_id":820861,"accept_rate":100,"display_name":"Pravin Divraniya"},"score":0,"creation_date":1521468538,"post_id":43274289,"comment_id":85730314,"body_markdown":"@Ωmega Try using [android:autoRemoveFromRecents](https://developer.android.com/guide/topics/manifest/activity-element.html#autoremrecents) if it fits your UX.","body":"@Ωmega Try using <a href=\"https://developer.android.com/guide/topics/manifest/activity-element.html#autoremrecents\" rel=\"nofollow noreferrer\">android:autoRemoveFromRecents</a> if it fits your UX."},{"owner":{"account_id":1255572,"reputation":42820,"user_id":1215106,"accept_rate":82,"display_name":"Ωmega"},"score":0,"creation_date":1521469404,"post_id":43274289,"comment_id":85730861,"body_markdown":"@PravinDivraniya - That flag unfortunately doesn&#39;t work if the app goes to the background from that activity by pressing *Recents Apps* button. System will still show the thumbnail. Only if you press *Home* button and then go to the *Recents App* list, then it will not be there, as expected. Strange, right?","body":"@PravinDivraniya - That flag unfortunately doesn&#39;t work if the app goes to the background from that activity by pressing <i>Recents Apps</i> button. System will still show the thumbnail. Only if you press <i>Home</i> button and then go to the <i>Recents App</i> list, then it will not be there, as expected. Strange, right?"},{"owner":{"account_id":434708,"reputation":4233,"user_id":820861,"accept_rate":100,"display_name":"Pravin Divraniya"},"score":0,"creation_date":1521470297,"post_id":43274289,"comment_id":85731572,"body_markdown":"@Ωmega Yes, it is very strange behaviour.","body":"@Ωmega Yes, it is very strange behaviour."},{"owner":{"account_id":5356655,"reputation":5914,"user_id":4269149,"display_name":"Sarthak Mittal"},"score":0,"creation_date":1521552575,"post_id":43274289,"comment_id":85771937,"body_markdown":"@Ωmega according to me, FLAG_SECURE is your best bet but you should also change activity&#39;s view(probably with your app&#39;s logo as you mentioned) in onPause/onStop as there have been cases with some devices showing screenshot even after using FLAG_SECURE","body":"@Ωmega according to me, FLAG_SECURE is your best bet but you should also change activity&#39;s view(probably with your app&#39;s logo as you mentioned) in onPause/onStop as there have been cases with some devices showing screenshot even after using FLAG_SECURE"},{"owner":{"account_id":1255572,"reputation":42820,"user_id":1215106,"accept_rate":82,"display_name":"Ωmega"},"score":0,"creation_date":1521553332,"post_id":43274289,"comment_id":85772538,"body_markdown":"@SarthakMittal - Unfortunately, `onPause` / `onStop` are triggered/called too late and so any changes made at such points do not change the application thumbnail in the *Recents*.","body":"@SarthakMittal - Unfortunately, <code>onPause</code> / <code>onStop</code> are triggered/called too late and so any changes made at such points do not change the application thumbnail in the <i>Recents</i>."},{"owner":{"account_id":5356655,"reputation":5914,"user_id":4269149,"display_name":"Sarthak Mittal"},"score":0,"creation_date":1521570589,"post_id":43274289,"comment_id":85784912,"body_markdown":"@Ωmega yes, read that part  of you question as well. sadly there seems to be no better solution.","body":"@Ωmega yes, read that part  of you question as well. sadly there seems to be no better solution."}],"answers":[{"comments":[{"owner":{"display_name":"user6153372"},"score":0,"creation_date":1550849557,"post_id":46472006,"comment_id":96435609,"body_markdown":"Brilliant, that&#39;s an easy and clean &quot;work-around&quot; as there is no official solution for that, I created a linearlayout with some transparent background and an imageview with the logo covering the screen and applied the changes with onPause() and onResume().","body":"Brilliant, that&#39;s an easy and clean &quot;work-around&quot; as there is no official solution for that, I created a linearlayout with some transparent background and an imageview with the logo covering the screen and applied the changes with onPause() and onResume()."},{"owner":{"account_id":5984797,"reputation":14686,"user_id":5730321,"accept_rate":69,"display_name":"Leo DroidCoder"},"score":5,"creation_date":1551274482,"post_id":46472006,"comment_id":96580402,"body_markdown":"It&#39;s not a solution since screenshot is taken before onPause in unexpected time","body":"It&#39;s not a solution since screenshot is taken before onPause in unexpected time"}],"tags":[],"owner":{"account_id":1097172,"reputation":615,"user_id":1090523,"display_name":"Chapz"},"comment_count":2,"down_vote_count":3,"up_vote_count":3,"is_accepted":false,"score":0,"last_activity_date":1506609867,"creation_date":1506609867,"answer_id":46472006,"question_id":43274289,"body_markdown":"How about implementing a layout overlay on top of your entire activity? \r\n\r\nMake it transparent, it&#39;s click-through by default, so no negative impact on UX while in use.\r\n\r\nIn `onPause()` set a half-transparent, blurred image as the background of that layout, the data will be scrambled behind it. In `onResume()` change the background to fully transparent again. Voila.\r\n\r\nIt might be faster than other types of overlays. The positive side effect is, if you do the unblurring as a short animation effect when the user goes back (**with a proper library that uses C++ instead of Java**), it might even look cool and the users wouldnt even mind seeing it.\r\n\r\nI haven&#39;t tried this myself, but it&#39;s something you haven&#39;t tried yet.","title":"Android: Customizing recent apps thumbnail (screenshot by default)","body":"<p>How about implementing a layout overlay on top of your entire activity? </p>\n\n<p>Make it transparent, it's click-through by default, so no negative impact on UX while in use.</p>\n\n<p>In <code>onPause()</code> set a half-transparent, blurred image as the background of that layout, the data will be scrambled behind it. In <code>onResume()</code> change the background to fully transparent again. Voila.</p>\n\n<p>It might be faster than other types of overlays. The positive side effect is, if you do the unblurring as a short animation effect when the user goes back (<strong>with a proper library that uses C++ instead of Java</strong>), it might even look cool and the users wouldnt even mind seeing it.</p>\n\n<p>I haven't tried this myself, but it's something you haven't tried yet.</p>\n"},{"comments":[{"owner":{"account_id":10685089,"reputation":413,"user_id":7865861,"display_name":"Arsalan Khan"},"score":0,"creation_date":1521198085,"post_id":46539407,"comment_id":85639212,"body_markdown":"When will I Implement the above scenario then I will also update my answer, from opinion.","body":"When will I Implement the above scenario then I will also update my answer, from opinion."}],"tags":[],"owner":{"account_id":10685089,"reputation":413,"user_id":7865861,"display_name":"Arsalan Khan"},"comment_count":1,"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1507016082,"creation_date":1507016082,"answer_id":46539407,"question_id":43274289,"body_markdown":"I think this can only achieve through BroadCastReceiver but there is no receiver present. So therefore you first disable default screenshot functionality in android and then implementing your own functionality to take screenshot and before taking screenshot you should blur your secure information.","title":"Android: Customizing recent apps thumbnail (screenshot by default)","body":"<p>I think this can only achieve through BroadCastReceiver but there is no receiver present. So therefore you first disable default screenshot functionality in android and then implementing your own functionality to take screenshot and before taking screenshot you should blur your secure information.</p>\n"},{"comments":[{"owner":{"account_id":1255572,"reputation":42820,"user_id":1215106,"accept_rate":82,"display_name":"Ωmega"},"score":1,"creation_date":1521332036,"post_id":49340273,"comment_id":85686722,"body_markdown":"Nice answer! But unfortunately not very optimistic. Could you please update your answer with a little bit of clarification regarding: (1) What triggers the system to make a screenshot? (2) What functionality the system uses to make a screenshot? Can we override some of the functions that are used to make and save a screenshot? (3) Could you locate a line of source code where the system obtains the screenshot and saves it?","body":"Nice answer! But unfortunately not very optimistic. Could you please update your answer with a little bit of clarification regarding: (1) What triggers the system to make a screenshot? (2) What functionality the system uses to make a screenshot? Can we override some of the functions that are used to make and save a screenshot? (3) Could you locate a line of source code where the system obtains the screenshot and saves it?"}],"tags":[],"owner":{"account_id":3494582,"reputation":1871,"user_id":2923245,"display_name":"Dellkan"},"comment_count":1,"down_vote_count":1,"up_vote_count":55,"is_accepted":false,"score":54,"last_activity_date":1521620859,"creation_date":1521310274,"answer_id":49340273,"question_id":43274289,"body_markdown":"I looked into this a couple of months ago for the same purpose as you.\r\n\r\nUnfortunately, I had to conclude that it is simply not possible. I dug through the android source code and confirmed it.\r\n\r\n - There is no callbacks or methods from android that allows you to customize it (that works anyway). Besides `FLAG_SECURE`, this part of the code does not accept any input or change.\r\n - OnPause and similar lifecycle methods are called too late (the screenshot is taken already). All lifecycle methods that would hint that you&#39;re about to go into the background runs too late.\r\n - The image you see in the recent tasks is an actual screenshot - and thus isn&#39;t affected by changes you do (too late) to your view. That means you can&#39;t modify your view just-in-time (like making it invisible, replacing with something else, adding `SECURE_FLAG`, or any other obstruction of the view). As an aside, these images can be found on an emulator at `/data/system_ce/0/recent_images`. \r\n - The only exception is using `FLAG_SECURE`, which will prevent the screenshot from being taken of your application. I experimented with setting this FLAG in `onPause` and removing it in `onResume`, however as mentioned already these lifecycle methods runs after the screenshot is taken already, and thus had absolutely no effect.\r\n\r\nAs discussed in https://stackoverflow.com/questions/9130599/how-to-change-the-snapshot-shown-by-recent-apps-list there used to be a callback that you could use to customize the thumbnail: [onCreateThumbnail](https://developer.android.com/reference/android/app/Activity.html#onCreateThumbnail(android.graphics.Bitmap,%20android.graphics.Canvas)). However, this does not work and it is never called. To be clear, the callback is still there, it is simply never called by the OS. The fact that it stopped working is poorly documented, but apparently was silently deprecated/removed in 4.0.3\r\n\r\nAs for the thumbnail itself, it is a screenshot taken serverside. It is taken before `onPause` is called (or in fact before any callbacks indicating that your activity is about to go into the background is called).\r\n\r\nWhen your app does go into the background, your actual view is animated (to get that zoom-out transition). That animation **can** be affected through changes you do in `onPause` (if you&#39;re fast enough that is) (I experimented with setting opacity to 0 on the window among other things). This will however only affect the animation. When the animation is finished, the view is replaced by the screenshot taken earlier.\r\n\r\nAlso see these questions that discuss this:\r\n\r\n- https://stackoverflow.com/questions/31011593/when-does-android-take-its-recent-apps-switcher-screenshot\r\n- https://stackoverflow.com/questions/12639335/show-custom-application-image-in-task-manager-on-ics-or-jb\r\n- https://stackoverflow.com/questions/48853975/android-never-call-method-oncreatethumbnail","title":"Android: Customizing recent apps thumbnail (screenshot by default)","body":"<p>I looked into this a couple of months ago for the same purpose as you.</p>\n\n<p>Unfortunately, I had to conclude that it is simply not possible. I dug through the android source code and confirmed it.</p>\n\n<ul>\n<li>There is no callbacks or methods from android that allows you to customize it (that works anyway). Besides <code>FLAG_SECURE</code>, this part of the code does not accept any input or change.</li>\n<li>OnPause and similar lifecycle methods are called too late (the screenshot is taken already). All lifecycle methods that would hint that you're about to go into the background runs too late.</li>\n<li>The image you see in the recent tasks is an actual screenshot - and thus isn't affected by changes you do (too late) to your view. That means you can't modify your view just-in-time (like making it invisible, replacing with something else, adding <code>SECURE_FLAG</code>, or any other obstruction of the view). As an aside, these images can be found on an emulator at <code>/data/system_ce/0/recent_images</code>. </li>\n<li>The only exception is using <code>FLAG_SECURE</code>, which will prevent the screenshot from being taken of your application. I experimented with setting this FLAG in <code>onPause</code> and removing it in <code>onResume</code>, however as mentioned already these lifecycle methods runs after the screenshot is taken already, and thus had absolutely no effect.</li>\n</ul>\n\n<p>As discussed in <a href=\"https://stackoverflow.com/questions/9130599/how-to-change-the-snapshot-shown-by-recent-apps-list\">How to change the snapshot shown by recent apps list?</a> there used to be a callback that you could use to customize the thumbnail: <a href=\"https://developer.android.com/reference/android/app/Activity.html#onCreateThumbnail(android.graphics.Bitmap,%20android.graphics.Canvas)\" rel=\"noreferrer\">onCreateThumbnail</a>. However, this does not work and it is never called. To be clear, the callback is still there, it is simply never called by the OS. The fact that it stopped working is poorly documented, but apparently was silently deprecated/removed in 4.0.3</p>\n\n<p>As for the thumbnail itself, it is a screenshot taken serverside. It is taken before <code>onPause</code> is called (or in fact before any callbacks indicating that your activity is about to go into the background is called).</p>\n\n<p>When your app does go into the background, your actual view is animated (to get that zoom-out transition). That animation <strong>can</strong> be affected through changes you do in <code>onPause</code> (if you're fast enough that is) (I experimented with setting opacity to 0 on the window among other things). This will however only affect the animation. When the animation is finished, the view is replaced by the screenshot taken earlier.</p>\n\n<p>Also see these questions that discuss this:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/31011593/when-does-android-take-its-recent-apps-switcher-screenshot\">When does Android take its recent apps switcher screenshot?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/12639335/show-custom-application-image-in-task-manager-on-ics-or-jb\">Show custom application image in task manager on ICS or JB</a></li>\n<li><a href=\"https://stackoverflow.com/questions/48853975/android-never-call-method-oncreatethumbnail\">Android never call method onCreateThumbnail</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1438994,"reputation":43,"user_id":1359702,"display_name":"Viktor"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1565846456,"creation_date":1565846456,"answer_id":57505160,"question_id":43274289,"body_markdown":"There is a way to customize it. You need your Activities with sensitive data to `FLAG_SECURE` in `onCreate` before you `setContentView`. Then you need an empty Activity, which renders whatever you want to have as the customized thumbnail. This usually is some sort of splash screen. This new Activity needs to be the launcher and is the only Activity not `FLAG_SECURE`. This Activity is launched and in onResume starts your actual Activity with the sensitive data.\r\n\r\nAndroid OS will take a screenshot of that new Activity at the beginning of your App. Unfortunately the users will also see this Activity for a short moment. Since every other Activity is `FLAG_SECURE`, Android OS will use the only available screenshot it made at the beginning.","title":"Android: Customizing recent apps thumbnail (screenshot by default)","body":"<p>There is a way to customize it. You need your Activities with sensitive data to <code>FLAG_SECURE</code> in <code>onCreate</code> before you <code>setContentView</code>. Then you need an empty Activity, which renders whatever you want to have as the customized thumbnail. This usually is some sort of splash screen. This new Activity needs to be the launcher and is the only Activity not <code>FLAG_SECURE</code>. This Activity is launched and in onResume starts your actual Activity with the sensitive data.</p>\n\n<p>Android OS will take a screenshot of that new Activity at the beginning of your App. Unfortunately the users will also see this Activity for a short moment. Since every other Activity is <code>FLAG_SECURE</code>, Android OS will use the only available screenshot it made at the beginning.</p>\n"},{"tags":[],"owner":{"account_id":10369592,"reputation":83,"user_id":7647649,"display_name":"Stefano Zanella"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1603889209,"creation_date":1603889209,"answer_id":64573176,"question_id":43274289,"body_markdown":"Currently (28/10/2020) is impossibile customizing app thumbnail in recent apps screen.&lt;br&gt;\r\nAs explained by @Dellkan in the previous answer, the `onCreateThumbnail` method is not called anymore by the OS.\r\n\r\nUnfortunately, also the suggestion to **create a kind of launcher/splash screen without the FLAG_SECURE** flag to let the app take a screenshot of that activity **is not working**, because the screenshot is taken on the activity you see and not at the launch of the app.\r\n\r\nYou **cannot** even customize the color of window background when using FLAG_SECURE as reported [here][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/33249526/android-changing-color-of-window-background-when-using-flag-secure","title":"Android: Customizing recent apps thumbnail (screenshot by default)","body":"<p>Currently (28/10/2020) is impossibile customizing app thumbnail in recent apps screen.<br>\nAs explained by @Dellkan in the previous answer, the <code>onCreateThumbnail</code> method is not called anymore by the OS.</p>\n<p>Unfortunately, also the suggestion to <strong>create a kind of launcher/splash screen without the FLAG_SECURE</strong> flag to let the app take a screenshot of that activity <strong>is not working</strong>, because the screenshot is taken on the activity you see and not at the launch of the app.</p>\n<p>You <strong>cannot</strong> even customize the color of window background when using FLAG_SECURE as reported <a href=\"https://stackoverflow.com/questions/33249526/android-changing-color-of-window-background-when-using-flag-secure\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":1305413,"reputation":111,"user_id":1254504,"display_name":"Pavel Lapin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653001792,"creation_date":1652978749,"answer_id":72308267,"question_id":43274289,"body_markdown":"Was looking for a solution and found some dirty things in case you don&#39;t want to use &#39;FLAG_SECURE&#39;. It doesn&#39;t give a nice picture but protects data and doesn&#39;t prevent making screenshots for the user while they are in the app.\r\n\r\n   \r\n\r\n    protected void onPause () {\r\n        this.getWindow().getDecorView().getRootView().setScaleX((float)200);\r\n        this.getWindow().getDecorView().getRootView().setScaleY((float)200);\r\n        super.onPause();\r\n      }\r\n    \r\n      protected void onResume () {\r\n        this.getWindow().getDecorView().getRootView().setScaleX((float)1);\r\n        this.getWindow().getDecorView().getRootView().setScaleY((float)1);\r\n        super.onResume();\r\n      }","title":"Android: Customizing recent apps thumbnail (screenshot by default)","body":"<p>Was looking for a solution and found some dirty things in case you don't want to use 'FLAG_SECURE'. It doesn't give a nice picture but protects data and doesn't prevent making screenshots for the user while they are in the app.</p>\n<pre><code>protected void onPause () {\n    this.getWindow().getDecorView().getRootView().setScaleX((float)200);\n    this.getWindow().getDecorView().getRootView().setScaleY((float)200);\n    super.onPause();\n  }\n\n  protected void onResume () {\n    this.getWindow().getDecorView().getRootView().setScaleX((float)1);\n    this.getWindow().getDecorView().getRootView().setScaleY((float)1);\n    super.onResume();\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5315490,"reputation":1112,"user_id":4240534,"display_name":"goemic"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1675763233,"creation_date":1675763233,"answer_id":75371536,"question_id":43274289,"body_markdown":"Since `onPause` is called to late, I use `WindowFocusChangeListener` to observe when the Fragment loses focus. At this moment we can hide all view which show sensitive data:\r\n\r\n```\r\n@Override\r\npublic void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\r\n    super.onViewCreated(view, savedInstanceState);\r\n\r\n    view.getViewTreeObserver().addOnWindowFocusChangeListener(new ViewTreeObserver.OnWindowFocusChangeListener() {\r\n        @Override\r\n        public void onWindowFocusChanged(boolean hasFocus) {\r\n            // hide sensitive data when window moves to background (before system screenshot is captured)\r\n            myViewWithSensitiveData.setVisibility(hasFocus ? View.VISIBLE : View.INVISIBLE);\r\n        }\r\n    });\r\n```","title":"Android: Customizing recent apps thumbnail (screenshot by default)","body":"<p>Since <code>onPause</code> is called to late, I use <code>WindowFocusChangeListener</code> to observe when the Fragment loses focus. At this moment we can hide all view which show sensitive data:</p>\n<pre><code>@Override\npublic void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\n    super.onViewCreated(view, savedInstanceState);\n\n    view.getViewTreeObserver().addOnWindowFocusChangeListener(new ViewTreeObserver.OnWindowFocusChangeListener() {\n        @Override\n        public void onWindowFocusChanged(boolean hasFocus) {\n            // hide sensitive data when window moves to background (before system screenshot is captured)\n            myViewWithSensitiveData.setVisibility(hasFocus ? View.VISIBLE : View.INVISIBLE);\n        }\n    });\n</code></pre>\n"}],"owner":{"account_id":5750179,"reputation":2797,"user_id":4540114,"accept_rate":44,"display_name":"Tobias Uhmann"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15872,"favorite_count":0,"down_vote_count":2,"up_vote_count":74,"answer_count":7,"score":72,"last_activity_date":1675763233,"creation_date":1491556535,"question_id":43274289,"body_markdown":"The app I&#39;m working on shows some sensitive information that must not be shown on the &quot;Recent Tasks&quot; screen when stopping the app by pressing the home button.\r\n\r\nI&#39;d like to blur the sensitive data in the screenshot or **show the app logo instead**.\r\n\r\nI am aware of the following approaches but they don&#39;t fit my requirements:\r\n\r\n - Setting the actvitie&#39;s &lt;code&gt;android:excludeFromRecents&lt;/code&gt; to true in the manifiest prevents the app from being shown at all in the recent tasks. This would disrupt the user experience.\r\n - Using &lt;code&gt;FLAG_SECURE&lt;/code&gt; results in a blank card on the recents tasks screen. (https://stackoverflow.com/questions/9822076/how-do-i-prevent-android-taking-a-screenshot-when-my-app-goes-to-the-background) I don&#39;t like the blank screen. However, I&#39;ll stick to this solution if there is no workaround.\r\n - Overriding &lt;code&gt;onCreateThumbnail&lt;/code&gt; seems like the ideal solution but, unfortunately, doesn&#39;t work as it&#39;s currently not invoked by the OS :( (https://code.google.com/p/android/issues/detail?id=29370)\r\n\r\nAnd then there are some workarounds that I tried out but that didn&#39;t work as hoped:\r\n\r\n - Start a new activity that shows the app logo in &lt;code&gt;onPause&lt;/code&gt; so that it&#39;s screenshot is shown instead of the actual activitie&#39;s one. But the new activity takes too long to open and it disrupts the user experience.\r\n - Set the activitie&#39;s content view to an image of the app logo in &lt;code&gt;onPause&lt;/code&gt;. That seemed like a great solution to me. Unfortunately, the screenshot for the recent tasks screen is taken at an unspecified time. During testing the app logo quickly appears before the app is closed when pressing &#39;Home&#39; but the resulting screenshot shows the activity a short time before that.\r\n - Removing the sensitive data from the widgets (e.g. &lt;code&gt;textView.setText(&quot;&quot;)&lt;/code&gt;) has the same problem of screenshot timing just mentioned.\r\n\r\nAny alternative ideas or solutions to the listed workarounds?\r\n\r\n","title":"Android: Customizing recent apps thumbnail (screenshot by default)","body":"<p>The app I'm working on shows some sensitive information that must not be shown on the \"Recent Tasks\" screen when stopping the app by pressing the home button.</p>\n\n<p>I'd like to blur the sensitive data in the screenshot or <strong>show the app logo instead</strong>.</p>\n\n<p>I am aware of the following approaches but they don't fit my requirements:</p>\n\n<ul>\n<li>Setting the actvitie's <code>android:excludeFromRecents</code> to true in the manifiest prevents the app from being shown at all in the recent tasks. This would disrupt the user experience.</li>\n<li>Using <code>FLAG_SECURE</code> results in a blank card on the recents tasks screen. (<a href=\"https://stackoverflow.com/questions/9822076/how-do-i-prevent-android-taking-a-screenshot-when-my-app-goes-to-the-background\">How do I prevent Android taking a screenshot when my app goes to the background?</a>) I don't like the blank screen. However, I'll stick to this solution if there is no workaround.</li>\n<li>Overriding <code>onCreateThumbnail</code> seems like the ideal solution but, unfortunately, doesn't work as it's currently not invoked by the OS :( (<a href=\"https://code.google.com/p/android/issues/detail?id=29370\" rel=\"noreferrer\">https://code.google.com/p/android/issues/detail?id=29370</a>)</li>\n</ul>\n\n<p>And then there are some workarounds that I tried out but that didn't work as hoped:</p>\n\n<ul>\n<li>Start a new activity that shows the app logo in <code>onPause</code> so that it's screenshot is shown instead of the actual activitie's one. But the new activity takes too long to open and it disrupts the user experience.</li>\n<li>Set the activitie's content view to an image of the app logo in <code>onPause</code>. That seemed like a great solution to me. Unfortunately, the screenshot for the recent tasks screen is taken at an unspecified time. During testing the app logo quickly appears before the app is closed when pressing 'Home' but the resulting screenshot shows the activity a short time before that.</li>\n<li>Removing the sensitive data from the widgets (e.g. <code>textView.setText(\"\")</code>) has the same problem of screenshot timing just mentioned.</li>\n</ul>\n\n<p>Any alternative ideas or solutions to the listed workarounds?</p>\n"},{"tags":["java","angular","spring-boot","cors"],"comments":[{"owner":{"account_id":11942036,"reputation":164,"user_id":8738512,"display_name":"David"},"score":0,"creation_date":1675763103,"post_id":75371402,"comment_id":132993710,"body_markdown":"Just for testing. Does Access-Control-Allow-Origin: * work?","body":"Just for testing. Does Access-Control-Allow-Origin: * work?"},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1675763829,"post_id":75371402,"comment_id":132993962,"body_markdown":"Can you please add a snippet of client code in the question? And, if possible, what is being sent with the OPTIONS request.","body":"Can you please add a snippet of client code in the question? And, if possible, what is being sent with the OPTIONS request."},{"owner":{"account_id":27695261,"reputation":19,"user_id":21141126,"display_name":"Meta Stack"},"score":0,"creation_date":1675764851,"post_id":75371402,"comment_id":132994286,"body_markdown":"Angular client is sending the signup credentials information to the java project. I&#39;m 100% that angular is accurately sending the credentials but its not accepting on java side.","body":"Angular client is sending the signup credentials information to the java project. I&#39;m 100% that angular is accurately sending the credentials but its not accepting on java side."}],"answers":[{"comments":[{"owner":{"account_id":27695261,"reputation":19,"user_id":21141126,"display_name":"Meta Stack"},"score":0,"creation_date":1675764746,"post_id":75371531,"comment_id":132994246,"body_markdown":"It returned the same error of cors in console even after adding in project.","body":"It returned the same error of cors in console even after adding in project."}],"tags":[],"owner":{"account_id":15187657,"reputation":122,"user_id":10959131,"display_name":"NickNgn"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1675763209,"creation_date":1675763209,"answer_id":75371531,"question_id":75371402,"body_markdown":"Could you add the configuration:\r\n\r\n    @SpringBootApplication\r\n    public class Application {\r\n        public static void main(String[] args) {\r\n            final ApplicationContext ctx = SpringApplication.run(Application.class, args);\r\n        }\r\n\r\n        @Bean\r\n        public WebMvcConfigurer corsConfigurer() {\r\n            return new WebMvcConfigurerAdapter() {\r\n                @Override\r\n                public void addCorsMappings(CorsRegistry registry) {\r\n            registry.addMapping(&quot;/**&quot;).allowedOrigins(&quot;http://localhost:4200&quot;);\r\n                }\r\n            };\r\n        }\r\n    }","title":"Access to XMLHttpRequest at &#39;http://localhost:8090/xxx&#39; from origin &#39;http://localhost:4200&#39; has been blocked by CORS policy","body":"<p>Could you add the configuration:</p>\n<pre><code>@SpringBootApplication\npublic class Application {\n    public static void main(String[] args) {\n        final ApplicationContext ctx = SpringApplication.run(Application.class, args);\n    }\n\n    @Bean\n    public WebMvcConfigurer corsConfigurer() {\n        return new WebMvcConfigurerAdapter() {\n            @Override\n            public void addCorsMappings(CorsRegistry registry) {\n        registry.addMapping(&quot;/**&quot;).allowedOrigins(&quot;http://localhost:4200&quot;);\n            }\n        };\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27695261,"reputation":19,"user_id":21141126,"display_name":"Meta Stack"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":222,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1675763209,"creation_date":1675762576,"question_id":75371402,"body_markdown":"I&#39;m getting error while sending signup information to java spring-boot project from angular. I&#39;ve tried thousands ways to resolve it but all in vain. Can&#39;t figure it out whats stopping java project to accept the request. \r\nError in console:\r\n&gt; Access to XMLHttpRequest at &#39;http://localhost:8090/bites/service/signup&#39; from origin &#39;http://localhost:4200&#39; has been blocked by CORS policy: Request header field domain is not allowed by Access-Control-Allow-Headers in preflight response.\r\n\r\nHere&#39;s my java code:\r\n\r\n```\r\npublic void doFilter(ServletRequest req, ServletResponse res, FilterChain chain)\r\n\t\t\tthrows IOException, ServletException {\r\n\t\ttry {\r\n\t\t\tSystem.out.println(&quot;inside filter&gt;&gt;&gt;&gt;&quot;);\r\n\t\t\t HttpServletResponse response = (HttpServletResponse) res;\r\n\t\t        HttpServletRequest request = (HttpServletRequest) req;\r\n\t\t        response.setHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;http://localhost:4200&quot;);\r\n\t\t        response.setHeader(&quot;Access-Control-Allow-Credentials&quot;, &quot;true&quot;);\r\n\t\t        response.setHeader(&quot;Access-Control-Allow-Methods&quot;,\r\n\t\t                &quot;ACL, CANCELUPLOAD, CHECKIN, CHECKOUT, COPY, DELETE, GET, HEAD, LOCK, MKCALENDAR, MKCOL, MOVE, OPTIONS, POST, PROPFIND, PROPPATCH, PUT, REPORT, SEARCH, UNCHECKOUT, UNLOCK, UPDATE, VERSION-CONTROL&quot;);\r\n\t\t        response.setHeader(&quot;Access-Control-Max-Age&quot;, &quot;3600&quot;);\r\n\t\t        response.setHeader(&quot;Access-Control-Allow-Headers&quot;, &quot;Origin, X-Requested-With, Content-Type, Accept, Key, Authorization&quot;);\r\n\r\n\t\t\tchain.doFilter(request, response);\r\n\t\t}catch(Exception ex) {\r\n\t\t\tex.printStackTrace();\r\n\t\t}\r\n\t}\r\n```\r\n\r\nI know that angular signup form is sending accurate request with credentials to the java project but on java side request is denying.\r\n\r\nSeeking help.\r\n\r\nI&#39;m trying my java application to accept request from angular project","title":"Access to XMLHttpRequest at &#39;http://localhost:8090/xxx&#39; from origin &#39;http://localhost:4200&#39; has been blocked by CORS policy","body":"<p>I'm getting error while sending signup information to java spring-boot project from angular. I've tried thousands ways to resolve it but all in vain. Can't figure it out whats stopping java project to accept the request.\nError in console:</p>\n<blockquote>\n<p>Access to XMLHttpRequest at 'http://localhost:8090/bites/service/signup' from origin 'http://localhost:4200' has been blocked by CORS policy: Request header field domain is not allowed by Access-Control-Allow-Headers in preflight response.</p>\n</blockquote>\n<p>Here's my java code:</p>\n<pre><code>public void doFilter(ServletRequest req, ServletResponse res, FilterChain chain)\n            throws IOException, ServletException {\n        try {\n            System.out.println(&quot;inside filter&gt;&gt;&gt;&gt;&quot;);\n             HttpServletResponse response = (HttpServletResponse) res;\n                HttpServletRequest request = (HttpServletRequest) req;\n                response.setHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;http://localhost:4200&quot;);\n                response.setHeader(&quot;Access-Control-Allow-Credentials&quot;, &quot;true&quot;);\n                response.setHeader(&quot;Access-Control-Allow-Methods&quot;,\n                        &quot;ACL, CANCELUPLOAD, CHECKIN, CHECKOUT, COPY, DELETE, GET, HEAD, LOCK, MKCALENDAR, MKCOL, MOVE, OPTIONS, POST, PROPFIND, PROPPATCH, PUT, REPORT, SEARCH, UNCHECKOUT, UNLOCK, UPDATE, VERSION-CONTROL&quot;);\n                response.setHeader(&quot;Access-Control-Max-Age&quot;, &quot;3600&quot;);\n                response.setHeader(&quot;Access-Control-Allow-Headers&quot;, &quot;Origin, X-Requested-With, Content-Type, Accept, Key, Authorization&quot;);\n\n            chain.doFilter(request, response);\n        }catch(Exception ex) {\n            ex.printStackTrace();\n        }\n    }\n</code></pre>\n<p>I know that angular signup form is sending accurate request with credentials to the java project but on java side request is denying.</p>\n<p>Seeking help.</p>\n<p>I'm trying my java application to accept request from angular project</p>\n"},{"tags":["python","java","pytorch","bert-language-model","torchserve"],"comments":[{"owner":{"account_id":27061962,"reputation":29,"user_id":20705271,"display_name":"Varun Sappa"},"score":0,"creation_date":1671262937,"post_id":74832263,"comment_id":132065786,"body_markdown":"This is the [repository](https://github.com/mukut03/ESG-BERT) which I am trying to run the code from","body":"This is the <a href=\"https://github.com/mukut03/ESG-BERT\" rel=\"nofollow noreferrer\">repository</a> which I am trying to run the code from"}],"answers":[{"tags":[],"owner":{"account_id":17910015,"reputation":136,"user_id":13012341,"display_name":"Eirini Kotzia"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675763132,"creation_date":1675763132,"answer_id":75371516,"question_id":74832263,"body_markdown":"I would suggest lowering down the number of workers per model (Default workers per model: 12) now you get the maximum number that your can handle\r\n\r\nHow?\r\nGo to config.properties file and add (the first line indicates the workers to 2):\r\n\r\n     default_workers_per_model=2\r\n\r\nThen when you will do the torchserve add this (ts-config option to point on the location of you config.properties file):\r\n\r\n    torchserve  --start \\\r\n                --model-store  ./deployment/model-store \\\r\n                --ts-config ./deployment/config.properties \\\r\n                --models bert=bert.mar\r\n\r\nLet me know if this solves the error. \r\n\r\nNote : you can add other parameters as well in the config.properties file such as :\r\n\r\n    inference_address=http://0.0.0.0:8080\r\n    management_address=http://0.0.0.0:8081\r\n    metrics_address=http://0.0.0.0:8082\r\n    default_workers_per_model=2\r\n    number_of_netty_threads=1\r\n    netty_client_threads=1\r\n    prefer_direct_buffer=true\r\n\r\n","title":"torchserve model not running and giving a load of errors","body":"<p>I would suggest lowering down the number of workers per model (Default workers per model: 12) now you get the maximum number that your can handle</p>\n<p>How?\nGo to config.properties file and add (the first line indicates the workers to 2):</p>\n<pre><code> default_workers_per_model=2\n</code></pre>\n<p>Then when you will do the torchserve add this (ts-config option to point on the location of you config.properties file):</p>\n<pre><code>torchserve  --start \\\n            --model-store  ./deployment/model-store \\\n            --ts-config ./deployment/config.properties \\\n            --models bert=bert.mar\n</code></pre>\n<p>Let me know if this solves the error.</p>\n<p>Note : you can add other parameters as well in the config.properties file such as :</p>\n<pre><code>inference_address=http://0.0.0.0:8080\nmanagement_address=http://0.0.0.0:8081\nmetrics_address=http://0.0.0.0:8082\ndefault_workers_per_model=2\nnumber_of_netty_threads=1\nnetty_client_threads=1\nprefer_direct_buffer=true\n</code></pre>\n"}],"owner":{"account_id":27061962,"reputation":29,"user_id":20705271,"display_name":"Varun Sappa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":530,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675763132,"creation_date":1671259353,"question_id":74832263,"body_markdown":"I ran the following commands  \r\n`torch-model-archiver --model-name &quot;bert&quot; --version 1.0 --serialized-file ./bert_model/pytorch_model.bin --extra-files &quot;./bert_model/config.json,./bert_model/vocab.txt&quot; --handler &quot;./handler.py&quot;  `\r\n\r\nI created all the files and then I created a new directory and copied the model into it.\r\n\r\nThen I executed the following command:\r\n\r\n```\r\ntorchserve --start --model-store model_store --models bert=bert.mar\r\n```\r\n\r\nIt then displayed a slew of errors.\r\n\r\nHere is my error text. It is too long and repetitive; hence, I posted it on paste bin.\r\n\r\n[error](https://pastebin.com/wNkMZtu3)","title":"torchserve model not running and giving a load of errors","body":"<p>I ran the following commands<br />\n<code>torch-model-archiver --model-name &quot;bert&quot; --version 1.0 --serialized-file ./bert_model/pytorch_model.bin --extra-files &quot;./bert_model/config.json,./bert_model/vocab.txt&quot; --handler &quot;./handler.py&quot;  </code></p>\n<p>I created all the files and then I created a new directory and copied the model into it.</p>\n<p>Then I executed the following command:</p>\n<pre><code>torchserve --start --model-store model_store --models bert=bert.mar\n</code></pre>\n<p>It then displayed a slew of errors.</p>\n<p>Here is my error text. It is too long and repetitive; hence, I posted it on paste bin.</p>\n<p><a href=\"https://pastebin.com/wNkMZtu3\" rel=\"nofollow noreferrer\">error</a></p>\n"},{"tags":["java","spring-boot","jackson","java-stream"],"answers":[{"tags":[],"owner":{"account_id":14365795,"reputation":13,"user_id":10376882,"display_name":"Shreyas Bhaskar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675763118,"creation_date":1675763118,"answer_id":75371512,"question_id":75371213,"body_markdown":"This implementation only maps a few of the properties in the Google Places API response to the LocationAddressComponent object. You may need to add more mapping logic depending on your requirements.\r\n\r\n\r\n    if (addressComponentsArray.isArray()) {\r\n        for (JsonNode jsonNode : addressComponentsArray) {\r\n            ArrayNode types = (ArrayNode) jsonNode.get(&quot;types&quot;);\r\n\r\n            if (types.contains(&quot;street_number&quot;)) {\r\n                responseObject.setStreet_number(jsonNode.get(&quot;long_name&quot;).asText());\r\n            } else if (types.contains(&quot;route&quot;)) {\r\n                responseObject.setStreet_name(jsonNode.get(&quot;long_name&quot;).asText());\r\n            } else if (types.contains(&quot;locality&quot;)) {\r\n                responseObject.setSuburb(jsonNode.get(&quot;long_name&quot;).asText());\r\n            } else if (types.contains(&quot;administrative_area_level_1&quot;)) {\r\n                responseObject.setState(jsonNode.get(&quot;long_name&quot;).asText());\r\n            } else if (types.contains(&quot;postal_code&quot;)) {\r\n                responseObject.setPostcode(jsonNode.get(&quot;long_name&quot;).asText());\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\n","title":"Java convert response into expected json","body":"<p>This implementation only maps a few of the properties in the Google Places API response to the LocationAddressComponent object. You may need to add more mapping logic depending on your requirements.</p>\n<pre><code>if (addressComponentsArray.isArray()) {\n    for (JsonNode jsonNode : addressComponentsArray) {\n        ArrayNode types = (ArrayNode) jsonNode.get(&quot;types&quot;);\n\n        if (types.contains(&quot;street_number&quot;)) {\n            responseObject.setStreet_number(jsonNode.get(&quot;long_name&quot;).asText());\n        } else if (types.contains(&quot;route&quot;)) {\n            responseObject.setStreet_name(jsonNode.get(&quot;long_name&quot;).asText());\n        } else if (types.contains(&quot;locality&quot;)) {\n            responseObject.setSuburb(jsonNode.get(&quot;long_name&quot;).asText());\n        } else if (types.contains(&quot;administrative_area_level_1&quot;)) {\n            responseObject.setState(jsonNode.get(&quot;long_name&quot;).asText());\n        } else if (types.contains(&quot;postal_code&quot;)) {\n            responseObject.setPostcode(jsonNode.get(&quot;long_name&quot;).asText());\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":16727238,"reputation":1925,"user_id":12090556,"display_name":"xMayank"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1675763118,"creation_date":1675761655,"question_id":75371213,"body_markdown":"Hi I have this response from google places api\r\n\r\n```\r\n &quot;address_components&quot;: [\r\n      {\r\n        &quot;long_name&quot;: &quot;123&quot;,\r\n        &quot;short_name&quot;: &quot;123&quot;,\r\n        &quot;types&quot;: [&quot;street_number&quot;]\r\n      },\r\n      {\r\n        &quot;long_name&quot;: &quot;Mulgoa Road&quot;,\r\n        &quot;short_name&quot;: &quot;Mulgoa Rd&quot;,\r\n        &quot;types&quot;: [&quot;route&quot;]\r\n      },\r\n      {\r\n        &quot;long_name&quot;: &quot;Penrith&quot;,\r\n        &quot;short_name&quot;: &quot;Penrith&quot;,\r\n        &quot;types&quot;: [&quot;locality&quot;, &quot;political&quot;]\r\n      },\r\n      {\r\n        &quot;long_name&quot;: &quot;City of Penrith&quot;,\r\n        &quot;short_name&quot;: &quot;City of Penrith&quot;,\r\n        &quot;types&quot;: [&quot;administrative_area_level_2&quot;, &quot;political&quot;]\r\n      },\r\n      {\r\n        &quot;long_name&quot;: &quot;New South Wales&quot;,\r\n        &quot;short_name&quot;: &quot;NSW&quot;,\r\n        &quot;types&quot;: [&quot;administrative_area_level_1&quot;, &quot;political&quot;]\r\n      },\r\n      {\r\n        &quot;long_name&quot;: &quot;Australia&quot;,\r\n        &quot;short_name&quot;: &quot;AU&quot;,\r\n        &quot;types&quot;: [&quot;country&quot;, &quot;political&quot;]\r\n      },\r\n      {\r\n        &quot;long_name&quot;: &quot;2750&quot;,\r\n        &quot;short_name&quot;: &quot;2750&quot;,\r\n        &quot;types&quot;: [&quot;postal_code&quot;]\r\n      }\r\n    ],\r\n```\r\nExpected response \r\n\r\n```\r\n{\r\n        &quot;postcode&quot;: &quot;4215&quot;,\r\n        &quot;unit_number&quot;: null,\r\n        &quot;floor_number&quot;: null,\r\n        &quot;building_name&quot;: null,\r\n        &quot;building_number&quot;: null,\r\n        &quot;block_number&quot;: null,\r\n        &quot;street_number&quot;: &quot;123&quot;,\r\n        &quot;street_name&quot;: &quot;Nerang&quot;,\r\n        &quot;street_type&quot;: &quot;Street&quot;,\r\n        &quot;state&quot;: &quot;Queensland&quot;,\r\n        &quot;suburb&quot;: &quot;Southport&quot;,\r\n        &quot;city&quot;: null,\r\n        &quot;district&quot;: null,\r\n        &quot;fullAddress&quot;: &quot;123 Nerang St, Southport QLD 4215, Australia&quot;\r\n    }\r\n```\r\nOn the basis of `types` array I want to populate values into response format.\r\nThis is what how I trying to implement it right now.\r\n\r\n\r\n```\r\nJsonNode resultData = new ObjectMapper().readTree(String.valueOf(response.getResponseBody()));\r\n        if (Objects.equals(resultData.get(&quot;status&quot;).asText(), &quot;OK&quot;)) {\r\n            JsonNode addressComponentsArray = resultData.get(&quot;result&quot;).get(&quot;address_components&quot;);\r\n            LocationAddressComponent responseObject = new LocationAddressComponent();\r\n\r\n            if (addressComponentsArray.isArray()) {\r\n                for (JsonNode jsonNode : addressComponentsArray) {\r\n                    Array res = jsonNode.get(&quot;types&quot;);\r\n\r\n                }\r\n            }\r\n\r\n```\r\n\r\nCan you please suggest how it can be done using stream or Jackson.\r\n\r\nLocationComponentAddress.java\r\n\r\n```\r\npublic class LocationAddressComponent {\r\n    String postcode;\r\n    String unit_number;\r\n    String floor_number;\r\n    String building_name;\r\n    String building_number;\r\n    String block_number;\r\n    String street_number;\r\n    String street_name;\r\n    String street_type;\r\n    String state;\r\n    String suburb;\r\n    String city;\r\n    String district;\r\n    String fullAddress;\r\n}\r\n```\r\n\r\n\r\n","title":"Java convert response into expected json","body":"<p>Hi I have this response from google places api</p>\n<pre><code> &quot;address_components&quot;: [\n      {\n        &quot;long_name&quot;: &quot;123&quot;,\n        &quot;short_name&quot;: &quot;123&quot;,\n        &quot;types&quot;: [&quot;street_number&quot;]\n      },\n      {\n        &quot;long_name&quot;: &quot;Mulgoa Road&quot;,\n        &quot;short_name&quot;: &quot;Mulgoa Rd&quot;,\n        &quot;types&quot;: [&quot;route&quot;]\n      },\n      {\n        &quot;long_name&quot;: &quot;Penrith&quot;,\n        &quot;short_name&quot;: &quot;Penrith&quot;,\n        &quot;types&quot;: [&quot;locality&quot;, &quot;political&quot;]\n      },\n      {\n        &quot;long_name&quot;: &quot;City of Penrith&quot;,\n        &quot;short_name&quot;: &quot;City of Penrith&quot;,\n        &quot;types&quot;: [&quot;administrative_area_level_2&quot;, &quot;political&quot;]\n      },\n      {\n        &quot;long_name&quot;: &quot;New South Wales&quot;,\n        &quot;short_name&quot;: &quot;NSW&quot;,\n        &quot;types&quot;: [&quot;administrative_area_level_1&quot;, &quot;political&quot;]\n      },\n      {\n        &quot;long_name&quot;: &quot;Australia&quot;,\n        &quot;short_name&quot;: &quot;AU&quot;,\n        &quot;types&quot;: [&quot;country&quot;, &quot;political&quot;]\n      },\n      {\n        &quot;long_name&quot;: &quot;2750&quot;,\n        &quot;short_name&quot;: &quot;2750&quot;,\n        &quot;types&quot;: [&quot;postal_code&quot;]\n      }\n    ],\n</code></pre>\n<p>Expected response</p>\n<pre><code>{\n        &quot;postcode&quot;: &quot;4215&quot;,\n        &quot;unit_number&quot;: null,\n        &quot;floor_number&quot;: null,\n        &quot;building_name&quot;: null,\n        &quot;building_number&quot;: null,\n        &quot;block_number&quot;: null,\n        &quot;street_number&quot;: &quot;123&quot;,\n        &quot;street_name&quot;: &quot;Nerang&quot;,\n        &quot;street_type&quot;: &quot;Street&quot;,\n        &quot;state&quot;: &quot;Queensland&quot;,\n        &quot;suburb&quot;: &quot;Southport&quot;,\n        &quot;city&quot;: null,\n        &quot;district&quot;: null,\n        &quot;fullAddress&quot;: &quot;123 Nerang St, Southport QLD 4215, Australia&quot;\n    }\n</code></pre>\n<p>On the basis of <code>types</code> array I want to populate values into response format.\nThis is what how I trying to implement it right now.</p>\n<pre><code>JsonNode resultData = new ObjectMapper().readTree(String.valueOf(response.getResponseBody()));\n        if (Objects.equals(resultData.get(&quot;status&quot;).asText(), &quot;OK&quot;)) {\n            JsonNode addressComponentsArray = resultData.get(&quot;result&quot;).get(&quot;address_components&quot;);\n            LocationAddressComponent responseObject = new LocationAddressComponent();\n\n            if (addressComponentsArray.isArray()) {\n                for (JsonNode jsonNode : addressComponentsArray) {\n                    Array res = jsonNode.get(&quot;types&quot;);\n\n                }\n            }\n\n</code></pre>\n<p>Can you please suggest how it can be done using stream or Jackson.</p>\n<p>LocationComponentAddress.java</p>\n<pre><code>public class LocationAddressComponent {\n    String postcode;\n    String unit_number;\n    String floor_number;\n    String building_name;\n    String building_number;\n    String block_number;\n    String street_number;\n    String street_name;\n    String street_type;\n    String state;\n    String suburb;\n    String city;\n    String district;\n    String fullAddress;\n}\n</code></pre>\n"},{"tags":["java","database","oracle","xa"],"answers":[{"comments":[{"owner":{"account_id":27723429,"reputation":1,"user_id":21163516,"display_name":"St&#229;le &#197;rdal"},"score":0,"creation_date":1675843690,"post_id":75371495,"comment_id":133012939,"body_markdown":"You have the same concerns that I have myself.  \nI did not mention in my description that each data source is using different schema.  So each data source will access a different set of tables (but on same database instance).  Therefore I think we will not get any more deadlocks due to the (bad?) setup. \nHowever, I have to &quot;document&quot; how much negative performance impact multiple data sources can cause to justify the effort in changing the application to use only one data source per process/transaction.","body":"You have the same concerns that I have myself.   I did not mention in my description that each data source is using different schema.  So each data source will access a different set of tables (but on same database instance).  Therefore I think we will not get any more deadlocks due to the (bad?) setup.  However, I have to &quot;document&quot; how much negative performance impact multiple data sources can cause to justify the effort in changing the application to use only one data source per process/transaction."}],"tags":[],"owner":{"account_id":8391404,"reputation":293,"user_id":6300032,"display_name":"SimGel"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675763034,"creation_date":1675763034,"answer_id":75371495,"question_id":75370938,"body_markdown":"I see serveral problems in your solution if you are using multiple datasources to the same database.\r\n\r\nIf you have 3 Datasources you have 3 seperate connections to the database. So you also have 3 parallel database transactions.\r\n\r\nFirst of all you have overhead in your application because you have to synchronise the transactions on the application level. On top this 3 transaction are then syncronized via XA. This might cause a huge performance problem.\r\n\r\nIf you have 3 transactions you need 3 commits which might be slower than one commit.\r\n\r\nThe 3 DB transactions might run into deadlocks because all 3 are trying to modify the same or related data.","title":"Is there overhead in having multiple data sources against same data base instance when having an XA transaction?","body":"<p>I see serveral problems in your solution if you are using multiple datasources to the same database.</p>\n<p>If you have 3 Datasources you have 3 seperate connections to the database. So you also have 3 parallel database transactions.</p>\n<p>First of all you have overhead in your application because you have to synchronise the transactions on the application level. On top this 3 transaction are then syncronized via XA. This might cause a huge performance problem.</p>\n<p>If you have 3 transactions you need 3 commits which might be slower than one commit.</p>\n<p>The 3 DB transactions might run into deadlocks because all 3 are trying to modify the same or related data.</p>\n"}],"owner":{"account_id":27723429,"reputation":1,"user_id":21163516,"display_name":"St&#229;le &#197;rdal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675763034,"creation_date":1675760090,"question_id":75370938,"body_markdown":"A very high level description of our test set up is:\r\n- Java application is running on Jboss (WildFly)\r\n- Using Oracle as database server \r\n- XA transaction between IBM MQ and Oracle data sources\r\n- More than 100 concurrent transactions doing MQ GET/PUT and SQL inserts/read/update/delete\r\n- More than 1000 transactions per seconds to be processed\r\n- Each transaction is doing about 100 SQL inserts + some reads (some of the transactions are also doing a few delete and updates)\r\n- 2 Jboss nodes with 32 CPU&#39;s and 32 CPU oracle database server\r\n\r\nEach transaction will connect to about 3 data sources.  However, all data sources are on the same data base instance. I have been wondering if there is an overhead in having multiple data sources against same data base instance when having an XA transaction.\r\nOne of the reason i ask, is that we are now struggling with the &quot;enq: DX - contention&quot; waits in Oracle.\r\n\r\n\r\nI have been trying to google without finding a clear answer.\r\nit seems like Oracle have some kind of optimizations for this scenario\r\nhttps://docs.oracle.com/en/database/oracle/oracle-database/19/jjdbc/distributed-transactions.html#GUID-2C258328-7DFD-42ED-AA03-01959FFE924A (32.3.4 Oracle XA Optimizations)\r\nHowever, as mentioned above, we are struggling with &quot;enq: DX - contention&quot; waits\r\n\r\nAny insight will be helpful ","title":"Is there overhead in having multiple data sources against same data base instance when having an XA transaction?","body":"<p>A very high level description of our test set up is:</p>\n<ul>\n<li>Java application is running on Jboss (WildFly)</li>\n<li>Using Oracle as database server</li>\n<li>XA transaction between IBM MQ and Oracle data sources</li>\n<li>More than 100 concurrent transactions doing MQ GET/PUT and SQL inserts/read/update/delete</li>\n<li>More than 1000 transactions per seconds to be processed</li>\n<li>Each transaction is doing about 100 SQL inserts + some reads (some of the transactions are also doing a few delete and updates)</li>\n<li>2 Jboss nodes with 32 CPU's and 32 CPU oracle database server</li>\n</ul>\n<p>Each transaction will connect to about 3 data sources.  However, all data sources are on the same data base instance. I have been wondering if there is an overhead in having multiple data sources against same data base instance when having an XA transaction.\nOne of the reason i ask, is that we are now struggling with the &quot;enq: DX - contention&quot; waits in Oracle.</p>\n<p>I have been trying to google without finding a clear answer.\nit seems like Oracle have some kind of optimizations for this scenario\n<a href=\"https://docs.oracle.com/en/database/oracle/oracle-database/19/jjdbc/distributed-transactions.html#GUID-2C258328-7DFD-42ED-AA03-01959FFE924A\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/database/oracle/oracle-database/19/jjdbc/distributed-transactions.html#GUID-2C258328-7DFD-42ED-AA03-01959FFE924A</a> (32.3.4 Oracle XA Optimizations)\nHowever, as mentioned above, we are struggling with &quot;enq: DX - contention&quot; waits</p>\n<p>Any insight will be helpful</p>\n"},{"tags":["javascript","java","selenium"],"comments":[{"owner":{"account_id":18180305,"reputation":433,"user_id":13228209,"display_name":"Ninja"},"score":0,"creation_date":1596634973,"post_id":48850974,"comment_id":111874525,"body_markdown":"Can we also do similar thing using JS?","body":"Can we also do similar thing using JS?"}],"answers":[{"comments":[{"owner":{"account_id":2405520,"reputation":941,"user_id":2102106,"accept_rate":75,"display_name":"Johannes Mols"},"score":1,"creation_date":1518953973,"post_id":48851166,"comment_id":84705808,"body_markdown":"That works just perfectly, thank you so much! I will also post an answer with the code that I translated into Java.","body":"That works just perfectly, thank you so much! I will also post an answer with the code that I translated into Java."},{"owner":{"account_id":2405520,"reputation":941,"user_id":2102106,"accept_rate":75,"display_name":"Johannes Mols"},"score":0,"creation_date":1518954157,"post_id":48851166,"comment_id":84705867,"body_markdown":"Did it. Thanks again!","body":"Did it. Thanks again!"},{"owner":{"account_id":2882581,"reputation":173,"user_id":2473104,"accept_rate":100,"display_name":"Shruti Joshi"},"score":0,"creation_date":1600411655,"post_id":48851166,"comment_id":113084921,"body_markdown":"hey.. thanks for the answer.. this should help me out as well! Just a query, when I use this code, my browser does scroll to the end but the new elements are not being captured still. I am a bit new to this. I am using driver.get(url) followed by the above code.. could you help?","body":"hey.. thanks for the answer.. this should help me out as well! Just a query, when I use this code, my browser does scroll to the end but the new elements are not being captured still. I am a bit new to this. I am using driver.get(url) followed by the above code.. could you help?"},{"owner":{"account_id":10657061,"reputation":6317,"user_id":7901720,"display_name":"Ratmir Asanov"},"score":0,"creation_date":1600505785,"post_id":48851166,"comment_id":113114005,"body_markdown":"@ShrutiJoshi, this code just will scroll down to the bottom of the visible page (on the screen), when you call this function.","body":"@ShrutiJoshi, this code just will scroll down to the bottom of the visible page (on the screen), when you call this function."},{"owner":{"account_id":8970427,"reputation":484,"user_id":6689221,"display_name":"Abhinav Das - Fractional CTO"},"score":0,"creation_date":1686723598,"post_id":48851166,"comment_id":134836436,"body_markdown":"@RatmirAsanov This works perfectly even in 2023. Thank you, my good sir &#129761;","body":"@RatmirAsanov This works perfectly even in 2023. Thank you, my good sir 🫡"},{"owner":{"account_id":10657061,"reputation":6317,"user_id":7901720,"display_name":"Ratmir Asanov"},"score":1,"creation_date":1686724174,"post_id":48851166,"comment_id":134836550,"body_markdown":"@theabhinavdas, nice!","body":"@theabhinavdas, nice!"}],"tags":[],"owner":{"account_id":10657061,"reputation":6317,"user_id":7901720,"display_name":"Ratmir Asanov"},"comment_count":6,"down_vote_count":0,"up_vote_count":62,"is_accepted":true,"score":62,"last_activity_date":1548152876,"creation_date":1518953582,"answer_id":48851166,"question_id":48850974,"body_markdown":"I will provide you code in Python for this. I think it&#39;s easy to translate to Java:\r\n\r\n    def scroll_down(self):\r\n        &quot;&quot;&quot;A method for scrolling the page.&quot;&quot;&quot;\r\n\r\n        # Get scroll height.\r\n        last_height = self.driver.execute_script(&quot;return document.body.scrollHeight&quot;)\r\n\r\n        while True:\r\n\r\n            # Scroll down to the bottom.\r\n            self.driver.execute_script(&quot;window.scrollTo(0, document.body.scrollHeight);&quot;)\r\n\r\n            # Wait to load the page.\r\n            time.sleep(2)\r\n\r\n            # Calculate new scroll height and compare with last scroll height.\r\n            new_height = self.driver.execute_script(&quot;return document.body.scrollHeight&quot;)\r\n\r\n            if new_height == last_height:\r\n\r\n                break\r\n\r\n            last_height = new_height\r\n\r\nHope it helps you!","title":"Selenium: Scroll to end of page in dynamically loading webpage","body":"<p>I will provide you code in Python for this. I think it's easy to translate to Java:</p>\n\n<pre><code>def scroll_down(self):\n    \"\"\"A method for scrolling the page.\"\"\"\n\n    # Get scroll height.\n    last_height = self.driver.execute_script(\"return document.body.scrollHeight\")\n\n    while True:\n\n        # Scroll down to the bottom.\n        self.driver.execute_script(\"window.scrollTo(0, document.body.scrollHeight);\")\n\n        # Wait to load the page.\n        time.sleep(2)\n\n        # Calculate new scroll height and compare with last scroll height.\n        new_height = self.driver.execute_script(\"return document.body.scrollHeight\")\n\n        if new_height == last_height:\n\n            break\n\n        last_height = new_height\n</code></pre>\n\n<p>Hope it helps you!</p>\n"},{"tags":[],"owner":{"account_id":2405520,"reputation":941,"user_id":2102106,"accept_rate":75,"display_name":"Johannes Mols"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1518954145,"creation_date":1518954145,"answer_id":48851253,"question_id":48850974,"body_markdown":"Thanks to Ratmir Asanov (see the approved answer above), I translated the Python code into Java to make it easier to implement for other people.\r\n\r\n    try {\r\n        long lastHeight = (long) ((JavascriptExecutor) webDriver).executeScript(&quot;return document.body.scrollHeight&quot;);\r\n    \r\n        while (true) {\r\n            ((JavascriptExecutor) webDriver).executeScript(&quot;window.scrollTo(0, document.body.scrollHeight);&quot;);\r\n            Thread.sleep(2000);\r\n    \r\n            long newHeight = (long) ((JavascriptExecutor) webDriver).executeScript(&quot;return document.body.scrollHeight&quot;);\r\n            if (newHeight == lastHeight) {\r\n                break;\r\n            }\r\n            lastHeight = newHeight;\r\n        }\r\n    } catch (InterruptedException e) {\r\n        e.printStackTrace();\r\n    }","title":"Selenium: Scroll to end of page in dynamically loading webpage","body":"<p>Thanks to Ratmir Asanov (see the approved answer above), I translated the Python code into Java to make it easier to implement for other people.</p>\n\n<pre><code>try {\n    long lastHeight = (long) ((JavascriptExecutor) webDriver).executeScript(\"return document.body.scrollHeight\");\n\n    while (true) {\n        ((JavascriptExecutor) webDriver).executeScript(\"window.scrollTo(0, document.body.scrollHeight);\");\n        Thread.sleep(2000);\n\n        long newHeight = (long) ((JavascriptExecutor) webDriver).executeScript(\"return document.body.scrollHeight\");\n        if (newHeight == lastHeight) {\n            break;\n        }\n        lastHeight = newHeight;\n    }\n} catch (InterruptedException e) {\n    e.printStackTrace();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":9331250,"reputation":29,"user_id":6926927,"display_name":"Prabhat Arya"},"score":0,"creation_date":1561048175,"post_id":56680719,"comment_id":99946074,"body_markdown":"typecasting was the issue, It was throwing compilation error.","body":"typecasting was the issue, It was throwing compilation error."},{"owner":{"account_id":2405520,"reputation":941,"user_id":2102106,"accept_rate":75,"display_name":"Johannes Mols"},"score":0,"creation_date":1561048302,"post_id":56680719,"comment_id":99946125,"body_markdown":"What was the error? Because I never had any issues with that code and I used it 1:1 in my project like that.","body":"What was the error? Because I never had any issues with that code and I used it 1:1 in my project like that."}],"tags":[],"owner":{"account_id":9331250,"reputation":29,"user_id":6926927,"display_name":"Prabhat Arya"},"comment_count":2,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1561014460,"creation_date":1561014460,"answer_id":56680719,"question_id":48850974,"body_markdown":"Updated Johannes code a bit to make it functional.\r\n\r\n    JavascriptExecutor js = (JavascriptExecutor) driver;\r\n    try {\r\n        long lastHeight=((Number)js.executeScript(&quot;return document.body.scrollHeight&quot;)).longValue();\r\n        while (true) {\r\n            ((JavascriptExecutor) driver).executeScript(&quot;window.scrollTo(0, document.body.scrollHeight);&quot;);\r\n            Thread.sleep(2000);\r\n\r\n            long newHeight = ((Number)js.executeScript(&quot;return document.body.scrollHeight&quot;)).longValue();\r\n            if (newHeight == lastHeight) {\r\n                break;\r\n            }\r\n            lastHeight = newHeight;\r\n        }\r\n    } catch (InterruptedException e) {\r\n        e.printStackTrace();\r\n    }\r\n\r\n","title":"Selenium: Scroll to end of page in dynamically loading webpage","body":"<p>Updated Johannes code a bit to make it functional.</p>\n\n<pre><code>JavascriptExecutor js = (JavascriptExecutor) driver;\ntry {\n    long lastHeight=((Number)js.executeScript(\"return document.body.scrollHeight\")).longValue();\n    while (true) {\n        ((JavascriptExecutor) driver).executeScript(\"window.scrollTo(0, document.body.scrollHeight);\");\n        Thread.sleep(2000);\n\n        long newHeight = ((Number)js.executeScript(\"return document.body.scrollHeight\")).longValue();\n        if (newHeight == lastHeight) {\n            break;\n        }\n        lastHeight = newHeight;\n    }\n} catch (InterruptedException e) {\n    e.printStackTrace();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14600915,"reputation":41,"user_id":10545202,"display_name":"Zenab Gorach"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1569688562,"creation_date":1569687994,"answer_id":58148241,"question_id":48850974,"body_markdown":"Updating the above solution by Prabhat further as it was still giving me compilation error.\r\n\r\n\r\n\r\n\t\ttry {\r\n\t\t    Object lastHeight = ((JavascriptExecutor) driver).executeScript(&quot;return document.body.scrollHeight&quot;);\r\n\r\n\t\t    while (true) {\r\n\t\t        ((JavascriptExecutor) driver).executeScript(&quot;window.scrollTo(0, document.body.scrollHeight);&quot;);\r\n\t\t        Thread.sleep(2000);\r\n\r\n\t\t        Object newHeight = ((JavascriptExecutor) driver).executeScript(&quot;return document.body.scrollHeight&quot;);\r\n\t\t        if (newHeight.equals(lastHeight)) {\r\n\t\t            break;\r\n\t\t        }\r\n\t\t        lastHeight = newHeight;\r\n\t\t    }\r\n\t\t} catch (InterruptedException e) {\r\n\t\t    e.printStackTrace();\r\n\t\t}\r\n\t}","title":"Selenium: Scroll to end of page in dynamically loading webpage","body":"<p>Updating the above solution by Prabhat further as it was still giving me compilation error.</p>\n\n<pre><code>    try {\n        Object lastHeight = ((JavascriptExecutor) driver).executeScript(\"return document.body.scrollHeight\");\n\n        while (true) {\n            ((JavascriptExecutor) driver).executeScript(\"window.scrollTo(0, document.body.scrollHeight);\");\n            Thread.sleep(2000);\n\n            Object newHeight = ((JavascriptExecutor) driver).executeScript(\"return document.body.scrollHeight\");\n            if (newHeight.equals(lastHeight)) {\n                break;\n            }\n            lastHeight = newHeight;\n        }\n    } catch (InterruptedException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20606737,"reputation":11,"user_id":15126798,"display_name":"buggy_code312"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612309275,"creation_date":1612309275,"answer_id":66019180,"question_id":48850974,"body_markdown":"I found another solution to the dynamically loading page.\r\n\r\nCount the elements that are displayed every scroll before and after the scroll and compare them to determine if you&#39;ve scrolled to the bottom.\r\n\r\n```\r\nvar reachedEnd = false;\r\noldCount = driver.FindElements(By.CssSelector(&quot;.searchDataContainer.table-row.raw&quot;)).Count;\r\n\r\nwhile (!reachedEnd)\r\n{\r\n    driver.FindElement(By.CssSelector(&quot;body&quot;)).SendKeys(Keys.End);\r\n    Thread.Sleep(500);\r\n    oldCount = driver.FindElements(By.CssSelector(&quot;.searchDataContainer.table-row.raw&quot;)).Count;\r\n\r\n    if (newCount == oldCount)\r\n    {\r\n        reachedEnd = true;\r\n    }\r\n    else\r\n    {\r\n        newCount = oldCount;\r\n    }\r\n}\r\n```","title":"Selenium: Scroll to end of page in dynamically loading webpage","body":"<p>I found another solution to the dynamically loading page.</p>\n<p>Count the elements that are displayed every scroll before and after the scroll and compare them to determine if you've scrolled to the bottom.</p>\n<pre><code>var reachedEnd = false;\noldCount = driver.FindElements(By.CssSelector(&quot;.searchDataContainer.table-row.raw&quot;)).Count;\n\nwhile (!reachedEnd)\n{\n    driver.FindElement(By.CssSelector(&quot;body&quot;)).SendKeys(Keys.End);\n    Thread.Sleep(500);\n    oldCount = driver.FindElements(By.CssSelector(&quot;.searchDataContainer.table-row.raw&quot;)).Count;\n\n    if (newCount == oldCount)\n    {\n        reachedEnd = true;\n    }\n    else\n    {\n        newCount = oldCount;\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1634043547,"post_id":69540322,"comment_id":122915944,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/69540322/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":14503302,"reputation":49,"user_id":13154961,"display_name":"MdaCosta"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634040712,"creation_date":1634040712,"answer_id":69540322,"question_id":48850974,"body_markdown":"**Updated code that worked for me:**\r\n\r\n    try {\r\n    \t\t    \t    long lastHeight = (long) ((JavascriptExecutor) driver).executeScript(&quot;return document.body.scrollHeight&quot;);\r\n    \t\t    \t    int cont=1000;\r\n    \t\t    \t    while (true) {\r\n    \t\t    \t        ((JavascriptExecutor) driver).executeScript(&quot;window.scrollTo(0, &quot;+cont+&quot;);&quot;);\r\n    \t\t    \t        Thread.sleep(2000);\r\n    \r\n    \t\t    \t        long newHeight = (long) ((JavascriptExecutor) driver).executeScript(&quot;return document.body.scrollHeight&quot;);\r\n    \t\t    \t        if (newHeight &lt;= cont) {\r\n    \t\t    \t            break;\r\n    \t\t    \t        }\r\n    //\t\t    \t        lastHeight = newHeight;\r\n    \t\t    \t        cont+=500;\r\n    \t\t    \t    }\r\n    \t\t    \t} catch (InterruptedException e) {\r\n    \t\t    \t    e.printStackTrace();\r\n    \t\t    \t}","title":"Selenium: Scroll to end of page in dynamically loading webpage","body":"<p><strong>Updated code that worked for me:</strong></p>\n<pre><code>try {\n                    long lastHeight = (long) ((JavascriptExecutor) driver).executeScript(&quot;return document.body.scrollHeight&quot;);\n                    int cont=1000;\n                    while (true) {\n                        ((JavascriptExecutor) driver).executeScript(&quot;window.scrollTo(0, &quot;+cont+&quot;);&quot;);\n                        Thread.sleep(2000);\n\n                        long newHeight = (long) ((JavascriptExecutor) driver).executeScript(&quot;return document.body.scrollHeight&quot;);\n                        if (newHeight &lt;= cont) {\n                            break;\n                        }\n//                      lastHeight = newHeight;\n                        cont+=500;\n                    }\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25728458,"reputation":11,"user_id":19484369,"display_name":"Nayanjyoti Rabha"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657001590,"creation_date":1657001590,"answer_id":72864709,"question_id":48850974,"body_markdown":"Making a slight correction to the above stated answers. The variable &#39;start&#39; of type long keeps changing after every scroll and the value becomes same after it reaches the end of the webpage. And as it an infinite loop with will keep returning the same value again and again. So, I just took the &#39;temp&#39; variable and  checked two consecutive values are same or not as the values remain same after the end is reached. As soon at it finds the same it exits the loop.\r\n```\r\n\ttry {\r\n\t\t\tlong temp = 0;\r\n\t\t\twhile (true) {\r\n\t\t\t\t((JavascriptExecutor) driver).executeScript(&quot;window.scrollTo(0, document.body.scrollHeight);&quot;);\r\n\t\t\t\tThread.sleep(2500);\r\n\t\t\t\tlong start = (Long) ((JavascriptExecutor) driver).executeScript(&quot;return document.body.scrollHeight&quot;);\r\n\t\t\t\tif (start == temp) {\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\ttemp = start;\r\n\t\t\t}\r\n\t\t\tSystem.out.println(&quot;completed the scroll&quot;);\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n```","title":"Selenium: Scroll to end of page in dynamically loading webpage","body":"<p>Making a slight correction to the above stated answers. The variable 'start' of type long keeps changing after every scroll and the value becomes same after it reaches the end of the webpage. And as it an infinite loop with will keep returning the same value again and again. So, I just took the 'temp' variable and  checked two consecutive values are same or not as the values remain same after the end is reached. As soon at it finds the same it exits the loop.</p>\n<pre><code>    try {\n            long temp = 0;\n            while (true) {\n                ((JavascriptExecutor) driver).executeScript(&quot;window.scrollTo(0, document.body.scrollHeight);&quot;);\n                Thread.sleep(2500);\n                long start = (Long) ((JavascriptExecutor) driver).executeScript(&quot;return document.body.scrollHeight&quot;);\n                if (start == temp) {\n                    break;\n                }\n                temp = start;\n            }\n            System.out.println(&quot;completed the scroll&quot;);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15461950,"reputation":55,"user_id":11154428,"display_name":"indayush"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657491435,"creation_date":1657047541,"answer_id":72874318,"question_id":48850974,"body_markdown":"You can add the following code to keep pressing page Down button: \r\n\r\n    new Actions(driver).sendKeys(Keys.PAGE_DOWN).perform();\r\n\r\n","title":"Selenium: Scroll to end of page in dynamically loading webpage","body":"<p>You can add the following code to keep pressing page Down button:</p>\n<pre><code>new Actions(driver).sendKeys(Keys.PAGE_DOWN).perform();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4857432,"reputation":149,"user_id":3918023,"display_name":"ukod"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1657106261,"creation_date":1657106261,"answer_id":72882664,"question_id":48850974,"body_markdown":"C# version of the Ratmir Asanov&#39;s answer:\r\n\r\n    var lastHeight =  driver.ExecuteScript(&quot;returndocument.body.scrollHeight&quot;);\r\n    while (true)\r\n    {\r\n        driver.ExecuteScript(&quot;window.scrollTo(0, document.body.scrollHeight);&quot;);\r\n        await Task.Delay(500);\r\n    \r\n        var newHeight = driver.ExecuteScript(&quot;return document.body.scrollHeight&quot;);\r\n        Console.WriteLine(lastHeight + &quot; - &quot; + newHeight);\r\n        if (newHeight.Equals(lastHeight))\r\n            break;\r\n    \r\n        lastHeight = newHeight;\r\n    }","title":"Selenium: Scroll to end of page in dynamically loading webpage","body":"<p>C# version of the Ratmir Asanov's answer:</p>\n<pre><code>var lastHeight =  driver.ExecuteScript(&quot;returndocument.body.scrollHeight&quot;);\nwhile (true)\n{\n    driver.ExecuteScript(&quot;window.scrollTo(0, document.body.scrollHeight);&quot;);\n    await Task.Delay(500);\n\n    var newHeight = driver.ExecuteScript(&quot;return document.body.scrollHeight&quot;);\n    Console.WriteLine(lastHeight + &quot; - &quot; + newHeight);\n    if (newHeight.Equals(lastHeight))\n        break;\n\n    lastHeight = newHeight;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23928846,"reputation":1,"user_id":17923636,"display_name":"Mahmud Oly"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670836513,"creation_date":1670836513,"answer_id":74768890,"question_id":48850974,"body_markdown":"# to scroll and wait to load more property till end\r\n\r\n                    lenOfPage = driver.instance.execute_script(&quot;window.scrollTo(0, document.body.scrollHeight);var lenOfPage=document.body.scrollHeight;return lenOfPage;&quot;)\r\n\r\n                    match = False\r\n                    while not match:\r\n                        lastCount = lenOfPage\r\n                        time.sleep(2)\r\n                        lenOfPage = driver.instance.execute_script(&quot;window.scrollTo(0, document.body.scrollHeight);var lenOfPage=document.body.scrollHeight;return lenOfPage;&quot;)\r\n\r\n                        if lastCount == lenOfPage:\r\n                            match = True","title":"Selenium: Scroll to end of page in dynamically loading webpage","body":"<h1>to scroll and wait to load more property till end</h1>\n<pre><code>                lenOfPage = driver.instance.execute_script(&quot;window.scrollTo(0, document.body.scrollHeight);var lenOfPage=document.body.scrollHeight;return lenOfPage;&quot;)\n\n                match = False\n                while not match:\n                    lastCount = lenOfPage\n                    time.sleep(2)\n                    lenOfPage = driver.instance.execute_script(&quot;window.scrollTo(0, document.body.scrollHeight);var lenOfPage=document.body.scrollHeight;return lenOfPage;&quot;)\n\n                    if lastCount == lenOfPage:\n                        match = True\n</code></pre>\n"}],"owner":{"account_id":2405520,"reputation":941,"user_id":2102106,"accept_rate":75,"display_name":"Johannes Mols"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36516,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"accepted_answer_id":48851166,"answer_count":10,"score":27,"last_activity_date":1675762827,"creation_date":1518952136,"question_id":48850974,"body_markdown":"I have a webpage that keeps loading new items when scrolling down the page until every item is loaded.\r\n\r\nI&#39;m working with Selenium in Java, and need to scroll down to the bottom of the page in order to load everything.\r\n\r\nI have tried several different options, like scrolling to an element of the bottom of the page:\r\n\r\n    WebElement copyrightAtEndOfPage = webDriver.findElement(By.xpath(&quot;//a[@href=&#39;/utils/copyright.html&#39;]&quot;));\r\n    ((JavascriptExecutor) webDriver).executeScript(&quot;arguments[0].scrollIntoView();&quot;, copyrightAtEndOfPage);\r\n\r\nThis only scrolls down once though, and then the webpage keeps loading.\r\n\r\nI also tried [this][1] approach, which also only scrolls down once, because it only takes the browser height into consideration.\r\n\r\nAny help is highly appreciated.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/24553943/2102106","title":"Selenium: Scroll to end of page in dynamically loading webpage","body":"<p>I have a webpage that keeps loading new items when scrolling down the page until every item is loaded.</p>\n\n<p>I'm working with Selenium in Java, and need to scroll down to the bottom of the page in order to load everything.</p>\n\n<p>I have tried several different options, like scrolling to an element of the bottom of the page:</p>\n\n<pre><code>WebElement copyrightAtEndOfPage = webDriver.findElement(By.xpath(\"//a[@href='/utils/copyright.html']\"));\n((JavascriptExecutor) webDriver).executeScript(\"arguments[0].scrollIntoView();\", copyrightAtEndOfPage);\n</code></pre>\n\n<p>This only scrolls down once though, and then the webpage keeps loading.</p>\n\n<p>I also tried <a href=\"https://stackoverflow.com/a/24553943/2102106\">this</a> approach, which also only scrolls down once, because it only takes the browser height into consideration.</p>\n\n<p>Any help is highly appreciated.</p>\n"},{"tags":["java","spring-boot","spring-data-r2dbc"],"answers":[{"comments":[{"owner":{"account_id":11371334,"reputation":744,"user_id":8336836,"accept_rate":85,"display_name":"Sam Fisher"},"score":0,"creation_date":1675757193,"post_id":75365907,"comment_id":132991998,"body_markdown":"unfortunately this didnt solve the problem..I added pom code to question","body":"unfortunately this didnt solve the problem..I added pom code to question"},{"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"score":0,"creation_date":1675757936,"post_id":75365907,"comment_id":132992190,"body_markdown":"Also mvn clean install didn&#39;t help? Maybe try to add annotation @EnableR2dbcRepositories, try to specify the package where your repository located","body":"Also mvn clean install didn&#39;t help? Maybe try to add annotation @EnableR2dbcRepositories, try to specify the package where your repository located"},{"owner":{"account_id":11371334,"reputation":744,"user_id":8336836,"accept_rate":85,"display_name":"Sam Fisher"},"score":0,"creation_date":1675759597,"post_id":75365907,"comment_id":132992669,"body_markdown":"updated r2dbc config with this annotation(updated code in question). maven clean install provided surefire report with error: Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;com.springboot2.repository.ToDoRepository&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}","body":"updated r2dbc config with this annotation(updated code in question). maven clean install provided surefire report with error: Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionExcept&zwnj;&#8203;ion: No qualifying bean of type &#39;com.springboot2.repository.ToDoRepository&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}"},{"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"score":0,"creation_date":1675759704,"post_id":75365907,"comment_id":132992690,"body_markdown":"Also,  I can see spring-boot-starter-web dependency along with webflux in your pom.xml. In this case should be regular mvc autoconfigured, and maybe this is the reason why spring is not aware of reactive repositories.. Maybe try to remove spring-boot-starter-web dependency. And also remove spring-boot-starter-data-rest","body":"Also,  I can see spring-boot-starter-web dependency along with webflux in your pom.xml. In this case should be regular mvc autoconfigured, and maybe this is the reason why spring is not aware of reactive repositories.. Maybe try to remove spring-boot-starter-web dependency. And also remove spring-boot-starter-data-rest"},{"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"score":0,"creation_date":1675760499,"post_id":75365907,"comment_id":132992951,"body_markdown":"And one more option: try to extend your repository from R2dbcRepository, instead of ReactiveCrudRepository","body":"And one more option: try to extend your repository from R2dbcRepository, instead of ReactiveCrudRepository"},{"owner":{"account_id":11371334,"reputation":744,"user_id":8336836,"accept_rate":85,"display_name":"Sam Fisher"},"score":0,"creation_date":1675762007,"post_id":75365907,"comment_id":132993359,"body_markdown":"removed indicated dependencies and used r2dbc repo. so finally it works. but as I see problem was in interface - Spring could not find ReactiveCrudRepo, but easily found R2DBCRepo. This is strange, because guides from google indecate ReactiveCrudRepo..","body":"removed indicated dependencies and used r2dbc repo. so finally it works. but as I see problem was in interface - Spring could not find ReactiveCrudRepo, but easily found R2DBCRepo. This is strange, because guides from google indecate ReactiveCrudRepo.."},{"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"score":0,"creation_date":1675762408,"post_id":75365907,"comment_id":132993482,"body_markdown":"right, the only reason I know is when you have multiple spring data reactive modules (r2dbc and something else) being used in the same project. Since ReactiveCrudRepository is a generic interface Spring does not know how to properly configure these beans. But I don&#39;t see any others reactive data modules in your project.","body":"right, the only reason I know is when you have multiple spring data reactive modules (r2dbc and something else) being used in the same project. Since ReactiveCrudRepository is a generic interface Spring does not know how to properly configure these beans. But I don&#39;t see any others reactive data modules in your project."},{"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"score":0,"creation_date":1675762736,"post_id":75365907,"comment_id":132993591,"body_markdown":"Also, updated my answer with possible solutions","body":"Also, updated my answer with possible solutions"}],"tags":[],"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"comment_count":8,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675762710,"creation_date":1675712925,"answer_id":75365907,"question_id":75363366,"body_markdown":"My guess the reason is that you have added r2dbc driver to your project, but haven&#39;t added `spring-boot-starter-data-r2dbc`\r\n\r\nSo, consider this dependency in your `pom.xml` file (this is the latest version at the time of writing this answer) :\r\n\r\n\t&lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-data-r2dbc --&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-data-r2dbc&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.2&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n**EDIT:**\r\n\r\n1) Also you can try to use `@EnableR2dbcRepositories` and specify the package with your repository.\r\n\r\n2) One more possible way to solve this is to extend your repository from `R2dbcRepository`, instead of `ReactiveCrudRepository`\r\nThis may help when you have multiple spring data reactive modules (r2dbc and something else) being used in the same project. Since `ReactiveCrudRepository` is a generic interface Spring does not know how to properly configure these beans.\r\n","title":"Spring does not see repository during scan on app start","body":"<p>My guess the reason is that you have added r2dbc driver to your project, but haven't added <code>spring-boot-starter-data-r2dbc</code></p>\n<p>So, consider this dependency in your <code>pom.xml</code> file (this is the latest version at the time of writing this answer) :</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-data-r2dbc --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-data-r2dbc&lt;/artifactId&gt;\n    &lt;version&gt;3.0.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><strong>EDIT:</strong></p>\n<ol>\n<li><p>Also you can try to use <code>@EnableR2dbcRepositories</code> and specify the package with your repository.</p>\n</li>\n<li><p>One more possible way to solve this is to extend your repository from <code>R2dbcRepository</code>, instead of <code>ReactiveCrudRepository</code>\nThis may help when you have multiple spring data reactive modules (r2dbc and something else) being used in the same project. Since <code>ReactiveCrudRepository</code> is a generic interface Spring does not know how to properly configure these beans.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":11371334,"reputation":744,"user_id":8336836,"accept_rate":85,"display_name":"Sam Fisher"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":434,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75365907,"answer_count":1,"score":0,"last_activity_date":1675762710,"creation_date":1675697611,"question_id":75363366,"body_markdown":"Have sandbox springboot app. Decided to try reactive approach, `postgres` is used as database, I added r2dbc to the project to make my repository reactive. Here is my code:\r\n\r\n    @SpringBootApplication\r\n    public class Springboot2Application {\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(Springboot2Application.class, args);\r\n\t   }\r\n    }\r\n    \r\n    @Repository\r\n    public interface ToDoRepository extends \r\n                ReactiveCrudRepository&lt;ToDo,String&gt; {\r\n    }\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/api/v1&quot;)\r\n    public class ToDoController {\r\n        private final ToDoRepository repository;\r\n        public ToDoController(ToDoRepository repository) {\r\n            this.repository = repository;\r\n        }\r\n    \r\n        @GetMapping(value = &quot;/to-do&quot;, produces = {\r\n                MediaType.APPLICATION_JSON_VALUE, \r\n                MediaType.APPLICATION_XML_VALUE, \r\n                MediaType.TEXT_XML_VALUE})\r\n        public ResponseEntity&lt;Flux&lt;ToDo&gt;&gt; getToDos(@RequestHeader \r\n                                              HttpHeaders headers){\r\n            return ResponseEntity.ok().body(repository.findAll());\r\n        }\r\n    }\r\n\r\n    @Data\r\n    @RequiredArgsConstructor\r\n    @Entity\r\n    @Table(name = &quot;todo&quot;)\r\n    public class ToDo {\r\n        @Id\r\n        @NotNull\r\n        @GeneratedValue(generator = &quot;system-uuid&quot;)\r\n        @GenericGenerator(name = &quot;system-uuid&quot;, strategy = &quot;uuid&quot;)\r\n        private String id;\r\n        @NotNull\r\n        @NotBlank\r\n        private String description;\r\n        @CreationTimestamp\r\n        private Timestamp created;\r\n        @UpdateTimestamp\r\n        private Timestamp modified;\r\n        private boolean completed;\r\n    }\r\n\r\nr2dbc config:\r\n\r\n    @Configuration\r\n    @EnableR2dbcRepositories(basePackages = \r\n       &quot;com.springboot2.repository&quot;)\r\n    public class R2DBCConfig extends AbstractR2dbcConfiguration {\r\n    @Bean\r\n    public ConnectionFactory connectionFactory() {\r\n        return ConnectionFactories.get(\r\n                ConnectionFactoryOptions.builder()\r\n                        .option(DRIVER, &quot;postgresql&quot;)\r\n                        .option(HOST, &quot;localhost&quot;)\r\n                        .option(PORT, 5432)\r\n                        .option(USER, &quot;admin&quot;)\r\n                        .option(PASSWORD, &quot;admin&quot;)\r\n                        .option(DATABASE, &quot;springdb&quot;)\r\n                        .build());\r\n       }\r\n     }\r\n\r\n\r\nOn application start I&#39;m getting:\r\n\r\nDescription:\r\n\r\n    Parameter 0 of constructor in com.springboot2.controller.ToDoController required a bean of type &#39;com.springboot2.repository.ToDoRepository&#39; that could not be found.\r\n    \r\n    Action:\r\n    \r\n    Consider defining a bean of type &#39;com.springboot2.repository.ToDoRepository&#39; in your configuration.\r\n\r\nI tried to add `@ComponentsScan`, tried to move `ToDoRepository` to the root near `Springboot2Application`, I dont understand why Spring doesn&#39;t see repository interface\r\n\r\npom.file:\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.7.3&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.springboot&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;springboot&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;springboot2&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;8&lt;/java.version&gt;\r\n    \t\t&lt;spring-cloud.version&gt;2021.0.3&lt;/spring-cloud.version&gt;\r\n    &lt;!--\t\t&lt;spring-shell.version&gt;2.1.0&lt;/spring-shell.version&gt;--&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;!--\t\tDB,ORM, and plugins--&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-r2dbc&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.r2dbc&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;r2dbc-postgresql&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;0.8.1.RELEASE&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!--\t\tReactive libs--&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;excludes&gt;\r\n    \t\t\t\t\t\t&lt;exclude&gt;\r\n    \t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;/excludes&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\n","title":"Spring does not see repository during scan on app start","body":"<p>Have sandbox springboot app. Decided to try reactive approach, <code>postgres</code> is used as database, I added r2dbc to the project to make my repository reactive. Here is my code:</p>\n<pre><code>@SpringBootApplication\npublic class Springboot2Application {\npublic static void main(String[] args) {\n    SpringApplication.run(Springboot2Application.class, args);\n   }\n}\n\n@Repository\npublic interface ToDoRepository extends \n            ReactiveCrudRepository&lt;ToDo,String&gt; {\n}\n\n@RestController\n@RequestMapping(&quot;/api/v1&quot;)\npublic class ToDoController {\n    private final ToDoRepository repository;\n    public ToDoController(ToDoRepository repository) {\n        this.repository = repository;\n    }\n\n    @GetMapping(value = &quot;/to-do&quot;, produces = {\n            MediaType.APPLICATION_JSON_VALUE, \n            MediaType.APPLICATION_XML_VALUE, \n            MediaType.TEXT_XML_VALUE})\n    public ResponseEntity&lt;Flux&lt;ToDo&gt;&gt; getToDos(@RequestHeader \n                                          HttpHeaders headers){\n        return ResponseEntity.ok().body(repository.findAll());\n    }\n}\n\n@Data\n@RequiredArgsConstructor\n@Entity\n@Table(name = &quot;todo&quot;)\npublic class ToDo {\n    @Id\n    @NotNull\n    @GeneratedValue(generator = &quot;system-uuid&quot;)\n    @GenericGenerator(name = &quot;system-uuid&quot;, strategy = &quot;uuid&quot;)\n    private String id;\n    @NotNull\n    @NotBlank\n    private String description;\n    @CreationTimestamp\n    private Timestamp created;\n    @UpdateTimestamp\n    private Timestamp modified;\n    private boolean completed;\n}\n</code></pre>\n<p>r2dbc config:</p>\n<pre><code>@Configuration\n@EnableR2dbcRepositories(basePackages = \n   &quot;com.springboot2.repository&quot;)\npublic class R2DBCConfig extends AbstractR2dbcConfiguration {\n@Bean\npublic ConnectionFactory connectionFactory() {\n    return ConnectionFactories.get(\n            ConnectionFactoryOptions.builder()\n                    .option(DRIVER, &quot;postgresql&quot;)\n                    .option(HOST, &quot;localhost&quot;)\n                    .option(PORT, 5432)\n                    .option(USER, &quot;admin&quot;)\n                    .option(PASSWORD, &quot;admin&quot;)\n                    .option(DATABASE, &quot;springdb&quot;)\n                    .build());\n   }\n }\n</code></pre>\n<p>On application start I'm getting:</p>\n<p>Description:</p>\n<pre><code>Parameter 0 of constructor in com.springboot2.controller.ToDoController required a bean of type 'com.springboot2.repository.ToDoRepository' that could not be found.\n\nAction:\n\nConsider defining a bean of type 'com.springboot2.repository.ToDoRepository' in your configuration.\n</code></pre>\n<p>I tried to add <code>@ComponentsScan</code>, tried to move <code>ToDoRepository</code> to the root near <code>Springboot2Application</code>, I dont understand why Spring doesn't see repository interface</p>\n<p>pom.file:</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.3&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.springboot&lt;/groupId&gt;\n    &lt;artifactId&gt;springboot&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;springboot2&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;8&lt;/java.version&gt;\n        &lt;spring-cloud.version&gt;2021.0.3&lt;/spring-cloud.version&gt;\n&lt;!--        &lt;spring-shell.version&gt;2.1.0&lt;/spring-shell.version&gt;--&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;!--        DB,ORM, and plugins--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-r2dbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.r2dbc&lt;/groupId&gt;\n            &lt;artifactId&gt;r2dbc-postgresql&lt;/artifactId&gt;\n            &lt;version&gt;0.8.1.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!--        Reactive libs--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\n            &lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9554,"page":669,"page_size":100}
